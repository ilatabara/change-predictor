id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fironic~master~I6a13cf62b427c9e5c7d7d9ddc447d60f94592c9a,openstack/ironic,master,I6a13cf62b427c9e5c7d7d9ddc447d60f94592c9a,Prepare [inspector]require_managed_boot to change to True in the future,MERGED,2023-03-15 12:19:53.000000000,2023-06-05 14:38:22.000000000,2023-06-05 14:36:59.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24245}]","[{'number': 1, 'created': '2023-03-15 12:19:53.000000000', 'files': ['ironic/drivers/modules/inspector/interface.py', 'releasenotes/notes/require-managed-boot-7d8965d4ac5fbd21.yaml', 'ironic/conf/inspector.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/58388212bc881074d13a9ae5a41c855816bd2d45', 'message': 'Prepare [inspector]require_managed_boot to change to True in the future\n\nCurrently, we silently fall back to ironic-inspector managing boot if\nthe boot interface cannot do it. What ironic-inspector does is set\nthe boot device to PXE and issue a reboot request. This was done\nto keep backward compatibility with how inspection worked before managed\nboot was introduced.\n\nWith in-band inspection migrating to Ironic proper, this ""unmanaged""\nmode becomes a more exotic case since it requires additional PXE\ninfrastructure. Additionally, the popularity of Redfish is rapidly\ngrowing, and we support pre-populating ports when Redfish is used.\n\nAs such, the ""unmanaged"" mode should no longer be allowed by default.\nThis change prepares for the future flip of the default value by\nissuing a deprecation warning if no explicit value is set for the option.\n\nDepends-On: https://review.opendev.org/c/openstack/bifrost/+/877469\nChange-Id: I6a13cf62b427c9e5c7d7d9ddc447d60f94592c9a\n'}]",11,877470,58388212bc881074d13a9ae5a41c855816bd2d45,24,5,1,10239,,,0,"Prepare [inspector]require_managed_boot to change to True in the future

Currently, we silently fall back to ironic-inspector managing boot if
the boot interface cannot do it. What ironic-inspector does is set
the boot device to PXE and issue a reboot request. This was done
to keep backward compatibility with how inspection worked before managed
boot was introduced.

With in-band inspection migrating to Ironic proper, this ""unmanaged""
mode becomes a more exotic case since it requires additional PXE
infrastructure. Additionally, the popularity of Redfish is rapidly
growing, and we support pre-populating ports when Redfish is used.

As such, the ""unmanaged"" mode should no longer be allowed by default.
This change prepares for the future flip of the default value by
issuing a deprecation warning if no explicit value is set for the option.

Depends-On: https://review.opendev.org/c/openstack/bifrost/+/877469
Change-Id: I6a13cf62b427c9e5c7d7d9ddc447d60f94592c9a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/70/877470/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/inspector/interface.py', 'releasenotes/notes/require-managed-boot-7d8965d4ac5fbd21.yaml', 'ironic/conf/inspector.py']",3,58388212bc881074d13a9ae5a41c855816bd2d45,require-managed-boot," cfg.BoolOpt('require_managed_boot', default=None, 'managed by the node\'s boot interface. Set this to ' 'True if your installation does not have a separate ' '(i)PXE boot environment for node discovery. Set ' 'to False if you need to inspect nodes that are not ' 'supported by boot interfaces (e.g. because they ' 'don\'t have ports).')),"," cfg.BoolOpt('require_managed_boot', default=False, 'managed by ironic. Set this to True if your ' 'installation of ironic-inspector does not have a ' 'separate PXE boot environment.')),",23,4
openstack%2Fcharm-guide~master~I6db2e975b5a2083b2663ae8bd6ea94c5413c500e,openstack/charm-guide,master,I6db2e975b5a2083b2663ae8bd6ea94c5413c500e,Add a section on neutron-dynamic-routing with OVN,MERGED,2023-06-02 14:58:51.000000000,2023-06-05 14:05:46.000000000,2023-06-05 14:04:42.000000000,"[{'_account_id': 13686}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2023-06-02 14:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/1f6f94dcd7178f4eef43edf6910111cab0a1a74e', 'message': 'Add a section on neutron-dynamic-routing with OVN\n\nWith the following commits we now can enable NDR with OVN with some\ncaveats as linked in the guide.\n\nhttps: //review.opendev.org/c/openstack/charm-neutron-api-plugin-ovn/+/884355\nhttps: //review.opendev.org/c/openstack/charm-neutron-dynamic-routing/+/884655\nChange-Id: I6db2e975b5a2083b2663ae8bd6ea94c5413c500e\n'}, {'number': 2, 'created': '2023-06-02 15:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/062de16611b9570e5eb0f1155e5cac6561c92af2', 'message': 'Add a section on neutron-dynamic-routing with OVN\n\nWith the following commits we now can enable NDR with OVN with some\ncaveats as linked in the guide.\n\nhttps://review.opendev.org/c/openstack/charm-neutron-api-plugin-ovn/+/884355\nhttps://review.opendev.org/c/openstack/charm-neutron-dynamic-routing/+/884655\nChange-Id: I6db2e975b5a2083b2663ae8bd6ea94c5413c500e\n'}, {'number': 3, 'created': '2023-06-02 17:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/1378cdbe341e25ee84ce5e908d1fccc3944e4a0b', 'message': 'Add a section on neutron-dynamic-routing with OVN\n\nWith the following commits we now can enable NDR with OVN with some\ncaveats as linked in the guide.\n\nhttps: //review.opendev.org/c/openstack/charm-neutron-api-plugin-ovn/+/884355\nhttps: //review.opendev.org/c/openstack/charm-neutron-dynamic-routing/+/884655\nChange-Id: I6db2e975b5a2083b2663ae8bd6ea94c5413c500e\n'}, {'number': 4, 'created': '2023-06-05 09:16:29.000000000', 'files': ['doc/source/admin/networking/ovn/ndr.rst', 'doc/source/admin/networking/ovn/index.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/d5775799a3ea8b750cfa1667f5457d59269e0675', 'message': 'Add a section on neutron-dynamic-routing with OVN\n\nWith the following commits we now can enable NDR with OVN with some\ncaveats as linked in the guide.\n\nhttps: //review.opendev.org/c/openstack/charm-neutron-api-plugin-ovn/+/884355\nhttps: //review.opendev.org/c/openstack/charm-neutron-dynamic-routing/+/884655\nChange-Id: I6db2e975b5a2083b2663ae8bd6ea94c5413c500e\n'}]",33,885147,d5775799a3ea8b750cfa1667f5457d59269e0675,17,3,4,24824,,,0,"Add a section on neutron-dynamic-routing with OVN

With the following commits we now can enable NDR with OVN with some
caveats as linked in the guide.

https: //review.opendev.org/c/openstack/charm-neutron-api-plugin-ovn/+/884355
https: //review.opendev.org/c/openstack/charm-neutron-dynamic-routing/+/884655
Change-Id: I6db2e975b5a2083b2663ae8bd6ea94c5413c500e
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/47/885147/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/networking/ovn/neutron-dynamic-routing.rst', 'doc/source/admin/networking/ovn/index.rst']",2,1f6f94dcd7178f4eef43edf6910111cab0a1a74e,2023-enable-ndr, neutron-dynamic-routing,,103,0
openstack%2Fnova~stable%2Fussuri~Ia511879d2f5f50a3f63d180258abccf046a7264e,openstack/nova,stable/ussuri,Ia511879d2f5f50a3f63d180258abccf046a7264e,reenable greendns in nova.,NEW,2022-03-11 16:23:27.000000000,2023-06-05 13:37:07.000000000,,"[{'_account_id': 6062}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-11 16:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc4317e1773958c29b34f42b8bf02722620149b6', 'message': 'reenable greendns in nova.\n\nBack in the days of centos 6 and python 2.6 eventlet\ngreendns monkeypatching broke ipv6. As a result nova\nhas run without greendns monkey patching ever since.\nThis removes that old workaround allowing modern\neventlet to use greendns for non blocking dns lookups.\n\nCloses-Bug: #1964149\nChange-Id: Ia511879d2f5f50a3f63d180258abccf046a7264e\n(cherry picked from commit fe1ebe69f358cbed62434da3f1537a94390324bb)\n(cherry picked from commit a913ab1aabb827771e54ef64b579cebe44ad53d1)\n(cherry picked from commit edb8bcb0294fb1488c49ad76f2422378d0c495eb)\n(cherry picked from commit 15ac1554be0026e1d131761492dba3eab73d4c81)\n'}, {'number': 2, 'created': '2023-01-27 16:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/615504afb9e1a69cad884baecce70c2adf1dbdda', 'message': 'reenable greendns in nova.\n\nBack in the days of centos 6 and python 2.6 eventlet\ngreendns monkeypatching broke ipv6. As a result nova\nhas run without greendns monkey patching ever since.\nThis removes that old workaround allowing modern\neventlet to use greendns for non blocking dns lookups.\n\nCloses-Bug: #1964149\nChange-Id: Ia511879d2f5f50a3f63d180258abccf046a7264e\n(cherry picked from commit fe1ebe69f358cbed62434da3f1537a94390324bb)\n(cherry picked from commit a913ab1aabb827771e54ef64b579cebe44ad53d1)\n(cherry picked from commit edb8bcb0294fb1488c49ad76f2422378d0c495eb)\n(cherry picked from commit 15ac1554be0026e1d131761492dba3eab73d4c81)\n'}, {'number': 3, 'created': '2023-01-27 16:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/09446c8f89b21c003842df059d9c62a58e8e71f4', 'message': 'reenable greendns in nova.\n\nBack in the days of centos 6 and python 2.6 eventlet\ngreendns monkeypatching broke ipv6. As a result nova\nhas run without greendns monkey patching ever since.\nThis removes that old workaround allowing modern\neventlet to use greendns for non blocking dns lookups.\n\nCloses-Bug: #1964149\nChange-Id: Ia511879d2f5f50a3f63d180258abccf046a7264e\n(cherry picked from commit fe1ebe69f358cbed62434da3f1537a94390324bb)\n(cherry picked from commit a913ab1aabb827771e54ef64b579cebe44ad53d1)\n(cherry picked from commit edb8bcb0294fb1488c49ad76f2422378d0c495eb)\n(cherry picked from commit d2fdd6d86ee315e218a0f4f7b9fd83e8ce2845f8)\n'}, {'number': 4, 'created': '2023-01-31 14:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b47a4c175d272324ce9ebbb37bc58d81b05db6d8', 'message': 'reenable greendns in nova.\n\nBack in the days of centos 6 and python 2.6 eventlet\ngreendns monkeypatching broke ipv6. As a result nova\nhas run without greendns monkey patching ever since.\nThis removes that old workaround allowing modern\neventlet to use greendns for non blocking dns lookups.\n\nCloses-Bug: #1964149\nChange-Id: Ia511879d2f5f50a3f63d180258abccf046a7264e\n(cherry picked from commit fe1ebe69f358cbed62434da3f1537a94390324bb)\n(cherry picked from commit a913ab1aabb827771e54ef64b579cebe44ad53d1)\n(cherry picked from commit edb8bcb0294fb1488c49ad76f2422378d0c495eb)\n(cherry picked from commit d2fdd6d86ee315e218a0f4f7b9fd83e8ce2845f8)\n'}, {'number': 5, 'created': '2023-02-09 12:11:56.000000000', 'files': ['nova/monkey_patch.py', 'releasenotes/notes/greendns-34df7f9fba952bcd.yaml', 'nova/tests/functional/test_monkey_patch.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/93bd6b8e48b001d05ff8a0a658b57619dedfe98b', 'message': 'reenable greendns in nova.\n\nBack in the days of centos 6 and python 2.6 eventlet\ngreendns monkeypatching broke ipv6. As a result nova\nhas run without greendns monkey patching ever since.\nThis removes that old workaround allowing modern\neventlet to use greendns for non blocking dns lookups.\n\nCloses-Bug: #1964149\nChange-Id: Ia511879d2f5f50a3f63d180258abccf046a7264e\n(cherry picked from commit fe1ebe69f358cbed62434da3f1537a94390324bb)\n(cherry picked from commit a913ab1aabb827771e54ef64b579cebe44ad53d1)\n(cherry picked from commit edb8bcb0294fb1488c49ad76f2422378d0c495eb)\n(cherry picked from commit d2fdd6d86ee315e218a0f4f7b9fd83e8ce2845f8)\n'}]",4,833437,93bd6b8e48b001d05ff8a0a658b57619dedfe98b,21,3,5,11604,,,0,"reenable greendns in nova.

Back in the days of centos 6 and python 2.6 eventlet
greendns monkeypatching broke ipv6. As a result nova
has run without greendns monkey patching ever since.
This removes that old workaround allowing modern
eventlet to use greendns for non blocking dns lookups.

Closes-Bug: #1964149
Change-Id: Ia511879d2f5f50a3f63d180258abccf046a7264e
(cherry picked from commit fe1ebe69f358cbed62434da3f1537a94390324bb)
(cherry picked from commit a913ab1aabb827771e54ef64b579cebe44ad53d1)
(cherry picked from commit edb8bcb0294fb1488c49ad76f2422378d0c495eb)
(cherry picked from commit d2fdd6d86ee315e218a0f4f7b9fd83e8ce2845f8)
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/833437/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/monkey_patch.py', 'releasenotes/notes/greendns-34df7f9fba952bcd.yaml', 'nova/tests/functional/test_monkey_patch.py']",3,dc4317e1773958c29b34f42b8bf02722620149b6,bug/1964149,,"# Copyright 2020 Red Hat, Inc. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # NOTE(artom) This file exists to test eventlet monkeypatching. How and what # eventlet monkeypatches can be controlled by environment variables that # are processed by eventlet at import-time (for exmaple, EVENTLET_NO_GREENDNS). # Nova manages all of this in nova.monkey_patch. Therefore, nova.monkey_patch # must be the first thing to import eventlet. As nova.tests.functional.__init__ # imports nova.monkey_patch, we're OK here. import socket import traceback from nova import test class TestMonkeyPatch(test.TestCase): def test_greendns_is_disabled(self): """"""Try to resolve a fake fqdn. If we see greendns mentioned in the traceback of the raised exception, it means we've not actually disabled greendns. See the TODO and NOTE in nova.monkey_patch to understand why greendns needs to be disabled. """""" raised = False try: socket.gethostbyname('goat.fake') except Exception: tb = traceback.format_exc() # NOTE(artom) If we've correctly disabled greendns, we expect the # traceback to not contain any reference to it. self.assertNotIn('greendns.py', tb) raised = True self.assertTrue(raised) ",16,58
openstack%2Fkayobe~master~I209459ecf5b1a6e5f541cbc72d74aa7defb459d4,openstack/kayobe,master,I209459ecf5b1a6e5f541cbc72d74aa7defb459d4,CI: Fix kayobe-seed-images-* jobs,MERGED,2023-04-27 00:58:04.000000000,2023-06-05 13:25:10.000000000,2023-06-05 13:24:12.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-04-27 00:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/135df18139e33014f015fc3520a3be77e6f7fc28', 'message': '[DNM] test kayobe-seed-images-rocky9\n\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nChange-Id: I209459ecf5b1a6e5f541cbc72d74aa7defb459d4\n'}, {'number': 2, 'created': '2023-04-27 07:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d854d7987c9bdee84f35bd5d8293dc7395a376db', 'message': '[DNM] test kayobe-seed-images-rocky9\n\nChange-Id: I209459ecf5b1a6e5f541cbc72d74aa7defb459d4\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 3, 'created': '2023-04-27 07:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8f4c03756d29820f27da138287f96a1cad879d06', 'message': '[DNM] test kayobe-seed-images-rocky9\n\nChange-Id: I209459ecf5b1a6e5f541cbc72d74aa7defb459d4\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 4, 'created': '2023-04-27 07:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f61ddcd9b37687182a7d62057bc66ed00f57f63d', 'message': '[DNM] test kayobe-seed-images-rocky9\n\nChange-Id: I209459ecf5b1a6e5f541cbc72d74aa7defb459d4\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 5, 'created': '2023-04-27 07:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4066127f2d37da33ffbaaf1e5bd80c7c86a6515a', 'message': '[DNM] test kayobe-seed-images-rocky9\n\nChange-Id: I209459ecf5b1a6e5f541cbc72d74aa7defb459d4\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 6, 'created': '2023-04-27 08:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0f40c2159bba72176016a180aecb8fae92786074', 'message': '[DNM] test kayobe-seed-images-rocky9\n\nChange-Id: I209459ecf5b1a6e5f541cbc72d74aa7defb459d4\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 7, 'created': '2023-04-27 11:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/207f7ef1171e61e66b85878a42ec5e86703fd42f', 'message': '[DNM] test kayobe-seed-images\n\nDepends-On: I2a31e374a6d59c365e1132882236d6abb0c5b62b\nChange-Id: I209459ecf5b1a6e5f541cbc72d74aa7defb459d4\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 8, 'created': '2023-04-27 12:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d27f3f1dc4d3d99116b2e568c6acf9e0e693c1df', 'message': '[DNM] test kayobe-seed-images\n\nDepends-On: I2a31e374a6d59c365e1132882236d6abb0c5b62b\nChange-Id: I209459ecf5b1a6e5f541cbc72d74aa7defb459d4\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 9, 'created': '2023-04-27 13:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f893dc8c0d1560066edb8d533656e3e92f5c07ef', 'message': '[DNM] test kayobe-seed-images\n\nDepends-On: I2a31e374a6d59c365e1132882236d6abb0c5b62b\nChange-Id: I209459ecf5b1a6e5f541cbc72d74aa7defb459d4\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 10, 'created': '2023-04-27 14:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/289a5be87cf17dd37add40d2253fcf34b0180148', 'message': '[DNM] test kayobe-seed-images\n\nDepends-On: I2a31e374a6d59c365e1132882236d6abb0c5b62b\nChange-Id: I209459ecf5b1a6e5f541cbc72d74aa7defb459d4\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 11, 'created': '2023-04-27 15:35:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ffe6d684d8cc60277fd72ede3608fda5c08fcdf6', 'message': '[DNM] test kayobe-seed-images\n\nDepends-On: I2a31e374a6d59c365e1132882236d6abb0c5b62b\nChange-Id: I209459ecf5b1a6e5f541cbc72d74aa7defb459d4\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 12, 'created': '2023-04-27 23:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/58ecf018a62a1049938699c8c69f3064ee3b6cae', 'message': ""CI: Fix kayobe-seed-images-* jobs\n\nFollowup I0d7ab0d8ff5b16ac5de8e50e63400bd455996555.\nFix issue with 'permission denied' while doing stat files.\nAdds more verbose build log and collet kolla-build configs for CI.\n\nChange-Id: I209459ecf5b1a6e5f541cbc72d74aa7defb459d4\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 13, 'created': '2023-04-27 23:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ef5f6a9cce6cd9c8af64aa0815d67d28f2ab9015', 'message': ""CI: Fix kayobe-seed-images-* jobs\n\nFollowup on I0d7ab0d8ff5b16ac5de8e50e63400bd455996555.\nFix issue with 'permission denied' while doing stat files.\nAdds more verbose build log and collect kolla-build configs for CI.\n\nChange-Id: I209459ecf5b1a6e5f541cbc72d74aa7defb459d4\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 14, 'created': '2023-05-10 14:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/61a808bd43430aca4c9b09eb84ee73f0673f5a4f', 'message': ""CI: Fix kayobe-seed-images-* jobs\n\nFollowup on I0d7ab0d8ff5b16ac5de8e50e63400bd455996555.\nFix issue with 'permission denied' while doing stat files.\nAdds more verbose build log and collect kolla-build configs for CI.\n\nChange-Id: I209459ecf5b1a6e5f541cbc72d74aa7defb459d4\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 15, 'created': '2023-05-31 14:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/99ede9f18504ada966d881dc69749e9ffa08896d', 'message': ""CI: Fix kayobe-seed-images-* jobs\n\nFollowup on I0d7ab0d8ff5b16ac5de8e50e63400bd455996555.\nFix issue with 'permission denied' while doing stat files.\nAdds more verbose build log and collect kolla-build configs for CI.\n\nChange-Id: I209459ecf5b1a6e5f541cbc72d74aa7defb459d4\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 16, 'created': '2023-05-31 19:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1ca35c2cf917c620c7d23b6fb99ff93db745e302', 'message': ""CI: Fix kayobe-seed-images-* jobs\n\nFollowup on I0d7ab0d8ff5b16ac5de8e50e63400bd455996555.\nFix issue with 'permission denied' while doing stat files.\nAdds more verbose build log and collect kolla-build configs for CI.\n\nChange-Id: I209459ecf5b1a6e5f541cbc72d74aa7defb459d4\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 17, 'created': '2023-05-31 19:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4245750515db71b4420421b32d1a3293b76a7fb5', 'message': ""CI: Fix kayobe-seed-images-* jobs\n\nFollowup on I0d7ab0d8ff5b16ac5de8e50e63400bd455996555.\nFix issue with 'permission denied' while doing stat files.\nAlso we collect kolla-build configs for CI.\n\nChange-Id: I209459ecf5b1a6e5f541cbc72d74aa7defb459d4\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 18, 'created': '2023-05-31 19:28:33.000000000', 'files': ['roles/kayobe-diagnostics/tasks/pre.yml', 'roles/kayobe-diagnostics/files/get_logs.sh', 'ansible/roles/kolla-build/tasks/main.yml', 'ansible/roles/kolla-build/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7088ff2c2f10ba9897d1cd5424fea6d9268020a9', 'message': ""CI: Fix kayobe-seed-images-* jobs\n\nFollowup on I0d7ab0d8ff5b16ac5de8e50e63400bd455996555.\nFix issue with 'permission denied' while doing stat files.\nAlso we collect kolla-build configs for CI.\n\nChange-Id: I209459ecf5b1a6e5f541cbc72d74aa7defb459d4\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}]",25,881679,7088ff2c2f10ba9897d1cd5424fea6d9268020a9,55,7,18,14200,,,0,"CI: Fix kayobe-seed-images-* jobs

Followup on I0d7ab0d8ff5b16ac5de8e50e63400bd455996555.
Fix issue with 'permission denied' while doing stat files.
Also we collect kolla-build configs for CI.

Change-Id: I209459ecf5b1a6e5f541cbc72d74aa7defb459d4
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/79/881679/18 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/kolla-build/tasks/main.yml'],1,135df18139e33014f015fc3520a3be77e6f7fc28,kolla-build-repos-yaml, become: true,,1,0
openstack%2Fironic~stable%2Fzed~I6f16da05e19c7efc966128fdf79f13546f51b5a6,openstack/ironic,stable/zed,I6f16da05e19c7efc966128fdf79f13546f51b5a6,Handle MissingAttributeError when using OOB inspections to fetch MACs,MERGED,2023-05-09 10:54:28.000000000,2023-06-05 13:14:45.000000000,2023-06-05 13:13:40.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-05-09 10:54:28.000000000', 'files': ['ironic/drivers/modules/redfish/management.py', 'releasenotes/notes/handle-missing-ethernetinterfaces-attr-7e52f7259fe66762.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c45cf20173a1c051cb1c5c884bcfce06f415394f', 'message': 'Handle MissingAttributeError when using OOB inspections to fetch MACs\n\nCurrently, if an attempt is made to fetch MAC address information using\nOOB inspection on a Redfish-managed node and EthernetInterfaces\nattribute is missing on the node, inspection fails due to a\nMissingAttributeError exception being raised by sushy. This change adds\ncatching and handling this exception.\n\nChange-Id: I6f16da05e19c7efc966128fdf79f13546f51b5a6\n(cherry picked from commit f10958a542dd58ff301c386ce0981ec218e9eef6)\n'}]",4,882523,c45cf20173a1c051cb1c5c884bcfce06f415394f,20,3,1,10239,,,0,"Handle MissingAttributeError when using OOB inspections to fetch MACs

Currently, if an attempt is made to fetch MAC address information using
OOB inspection on a Redfish-managed node and EthernetInterfaces
attribute is missing on the node, inspection fails due to a
MissingAttributeError exception being raised by sushy. This change adds
catching and handling this exception.

Change-Id: I6f16da05e19c7efc966128fdf79f13546f51b5a6
(cherry picked from commit f10958a542dd58ff301c386ce0981ec218e9eef6)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/23/882523/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/management.py', 'releasenotes/notes/handle-missing-ethernetinterfaces-attr-7e52f7259fe66762.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_management.py']",3,c45cf20173a1c051cb1c5c884bcfce06f415394f,," @mock.patch.object(redfish_utils, 'get_enabled_macs', autospec=True) @mock.patch.object(redfish_utils, 'get_system', autospec=True) def test_get_mac_addresses_missing_attr(self, mock_get_system, mock_get_enabled_macs): redfish_utils.get_enabled_macs.side_effect = (sushy.exceptions. MissingAttributeError) with task_manager.acquire(self.context, self.node.uuid, shared=True) as task: self.assertIsNone(task.driver.management.get_mac_addresses(task))",,29,1
openstack%2Fironic~stable%2F2023.1~Id353c4f5260a7c469779b50ad302f442223df5a0,openstack/ironic,stable/2023.1,Id353c4f5260a7c469779b50ad302f442223df5a0,[iRMC] Fix IPMI incompatibility handling error,NEW,2023-06-05 10:19:44.000000000,2023-06-05 12:41:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-05 10:19:44.000000000', 'files': ['ironic/drivers/modules/irmc/management.py', 'releasenotes/notes/fix-overlooked-irmc-ipmi-incompatibility-patch-situation-c246d2b59b2e8a78.yaml', 'ironic/drivers/modules/irmc/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0859c6d176d74a97dd821218fc4b11c3d1023e9f', 'message': ""[iRMC] Fix IPMI incompatibility handling error\n\nThis patch deals with overlooked situation in patch\nd23f72ee501a5bdcc89806eb0ebbba929a36e64d, in which\n`irmc_ipmi_succeed` flag is added to deal with iRMC\nfirmware's IPMI incompatibility introduced at iRMC\nfirmware version S6 2.00 and later.\nThat flag is set and updated by `irmc` power_interface\ncode and rest of iRMC driver code use that flag.\n\nWhen `ipmitool` is set as power_interface, that flag\nis not set nor updated and rest of iRMC driver code\nfail to handle IPMI incompatibility correctly.\n\nThis patch adds logic to check power_interface to\nmake iRMC driver properly deal with iRMC firmware's IPMI\nincompatibility even when `ipmitool` power_interface\nis used.\n\nChange-Id: Id353c4f5260a7c469779b50ad302f442223df5a0\n(cherry picked from commit 27bf2091135e4e0f2650e325378a69916b795a31)\n""}]",0,885275,0859c6d176d74a97dd821218fc4b11c3d1023e9f,4,1,1,30566,,,0,"[iRMC] Fix IPMI incompatibility handling error

This patch deals with overlooked situation in patch
d23f72ee501a5bdcc89806eb0ebbba929a36e64d, in which
`irmc_ipmi_succeed` flag is added to deal with iRMC
firmware's IPMI incompatibility introduced at iRMC
firmware version S6 2.00 and later.
That flag is set and updated by `irmc` power_interface
code and rest of iRMC driver code use that flag.

When `ipmitool` is set as power_interface, that flag
is not set nor updated and rest of iRMC driver code
fail to handle IPMI incompatibility correctly.

This patch adds logic to check power_interface to
make iRMC driver properly deal with iRMC firmware's IPMI
incompatibility even when `ipmitool` power_interface
is used.

Change-Id: Id353c4f5260a7c469779b50ad302f442223df5a0
(cherry picked from commit 27bf2091135e4e0f2650e325378a69916b795a31)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/75/885275/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/irmc/management.py', 'releasenotes/notes/fix-overlooked-irmc-ipmi-incompatibility-patch-situation-c246d2b59b2e8a78.yaml', 'ironic/drivers/modules/irmc/inspect.py']",3,0859c6d176d74a97dd821218fc4b11c3d1023e9f,2023.1_fix_ipmi_incompat_handling_bug," if (getattr(node, 'power_interface') == 'ipmitool' or node.driver_internal_info.get('irmc_ipmi_succeed')):", if node.driver_internal_info.get('irmc_ipmi_succeed'):,22,7
openstack%2Fkayobe~stable%2Fxena~Ie272e701b8952ef106be99b8fe36eb04cb524898,openstack/kayobe,stable/xena,Ie272e701b8952ef106be99b8fe36eb04cb524898,Update gitignore for .vscode/ configuration files,MERGED,2023-06-01 13:38:35.000000000,2023-06-05 12:28:47.000000000,2023-06-05 12:27:18.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 13:38:35.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fc75a8d9555136f6d6fa73b24438d6609e55e7b4', 'message': 'Update gitignore for .vscode/ configuration files\n\nChange-Id: Ie272e701b8952ef106be99b8fe36eb04cb524898\n(cherry picked from commit 47829142cd9ebc3ae7d7f440870491e81c3ddfad)\n'}]",0,885015,fc75a8d9555136f6d6fa73b24438d6609e55e7b4,9,4,1,35264,,,0,"Update gitignore for .vscode/ configuration files

Change-Id: Ie272e701b8952ef106be99b8fe36eb04cb524898
(cherry picked from commit 47829142cd9ebc3ae7d7f440870491e81c3ddfad)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/15/885015/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,fc75a8d9555136f6d6fa73b24438d6609e55e7b4,update-gitignore-vscode-stable/xena,.vscode/,,1,0
openstack%2Fkayobe~stable%2Fyoga~Ie272e701b8952ef106be99b8fe36eb04cb524898,openstack/kayobe,stable/yoga,Ie272e701b8952ef106be99b8fe36eb04cb524898,Update gitignore for .vscode/ configuration files,MERGED,2023-06-01 13:38:15.000000000,2023-06-05 12:20:05.000000000,2023-06-05 12:19:11.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 13:38:15.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/64d2d6f2aeac7a6b85b9835d424c2b1720318f4a', 'message': 'Update gitignore for .vscode/ configuration files\n\nChange-Id: Ie272e701b8952ef106be99b8fe36eb04cb524898\n(cherry picked from commit 47829142cd9ebc3ae7d7f440870491e81c3ddfad)\n'}]",0,885014,64d2d6f2aeac7a6b85b9835d424c2b1720318f4a,9,4,1,35264,,,0,"Update gitignore for .vscode/ configuration files

Change-Id: Ie272e701b8952ef106be99b8fe36eb04cb524898
(cherry picked from commit 47829142cd9ebc3ae7d7f440870491e81c3ddfad)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/14/885014/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,64d2d6f2aeac7a6b85b9835d424c2b1720318f4a,update-gitignore-vscode-stable/yoga,.vscode/,,1,0
openstack%2Fneutron~master~I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f,openstack/neutron,master,I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f,Start metadata proxy even if IPv6 DAD fails,MERGED,2023-05-15 16:35:06.000000000,2023-06-05 12:17:50.000000000,2023-06-05 12:16:31.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-15 16:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7991415f489a89d82450be1c5285ee099d695db5', 'message': 'Start metadata proxy even if IPv6 DAD fails\n\nA recent change suppressed the IPv6 DAD failure and\nremoved the address when multiple DHCP agents were\nconfigured on the same network,\nhttps://review.opendev.org/c/openstack/neutron/+/880957\n\nBut it also changed the behavior to not enable IPv4\nmetadata in this case. Restore the old behavior by\nnot returning early in the DAD failure case.\n\nRelated-bug: #1953165\nChange-Id: I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f\n'}, {'number': 2, 'created': '2023-05-22 21:39:20.000000000', 'files': ['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/846003c4379124de6ffb3628ef1feb12a62a9cfa', 'message': 'Start metadata proxy even if IPv6 DAD fails\n\nA recent change suppressed the IPv6 DAD failure and\nremoved the address when multiple DHCP agents were\nconfigured on the same network,\nhttps://review.opendev.org/c/openstack/neutron/+/880957\n\nBut it also changed the behavior to not enable IPv4\nmetadata in this case. Restore the old behavior by\nnot returning early in the DAD failure case. The callback\nthat builds the config file was moved until after\nthe address was bound to make the two steps more obvious.\n\nRelated-bug: #1953165\nChange-Id: I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f\n'}]",10,883193,846003c4379124de6ffb3628ef1feb12a62a9cfa,24,8,2,1131,,,0,"Start metadata proxy even if IPv6 DAD fails

A recent change suppressed the IPv6 DAD failure and
removed the address when multiple DHCP agents were
configured on the same network,
https://review.opendev.org/c/openstack/neutron/+/880957

But it also changed the behavior to not enable IPv4
metadata in this case. Restore the old behavior by
not returning early in the DAD failure case. The callback
that builds the config file was moved until after
the address was bound to make the two steps more obvious.

Related-bug: #1953165
Change-Id: I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/883193/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py']",2,7991415f489a89d82450be1c5285ee099d695db5,bug/1953165,, return,15,16
openstack%2Fopenstack-tempest-skiplist~master~Ief4384b3f7a4b5ba199fa3e790dd1d81e4439b44,openstack/openstack-tempest-skiplist,master,Ief4384b3f7a4b5ba199fa3e790dd1d81e4439b44,Adds tempest and compute jobs to skiplist for bug https://bugzilla.redhat.com/show_bug.cgi?id=2211604,MERGED,2023-06-05 11:50:35.000000000,2023-06-05 12:06:25.000000000,2023-06-05 12:05:27.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 11:50:35.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/d3da658b3643d34d73185c2636fb8ab3bb5b89ce', 'message': 'Adds tempest and compute jobs to skiplist for bug https://bugzilla.redhat.com/show_bug.cgi?id=2211604\n\nChange-Id: Ief4384b3f7a4b5ba199fa3e790dd1d81e4439b44\n'}]",0,885279,d3da658b3643d34d73185c2636fb8ab3bb5b89ce,7,2,1,32458,,,0,"Adds tempest and compute jobs to skiplist for bug https://bugzilla.redhat.com/show_bug.cgi?id=2211604

Change-Id: Ief4384b3f7a4b5ba199fa3e790dd1d81e4439b44
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/79/885279/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,d3da658b3643d34d73185c2636fb8ab3bb5b89ce,, - periodic-tripleo-ci-rhel-9-standalone-full-tempest-scenario-compute-rhos-17.1 - periodic-tripleo-ci-rhel-9-standalone-full-tempest-scenario-tempest-rhos-17.1 - periodic-tripleo-ci-rhel-9-standalone-full-tempest-scenario-compute-rhos-17.1 - periodic-tripleo-ci-rhel-9-standalone-full-tempest-scenario-tempest-rhos-17.1,,4,1
openstack%2Fkolla~stable%2Fzed~Ie1b36eb9a403611c2f86aa4c1d500d324e5291f3,openstack/kolla,stable/zed,Ie1b36eb9a403611c2f86aa4c1d500d324e5291f3,mariadb-clustercheck: ensure /var/log/kolla/mariadb exists,MERGED,2023-06-01 08:26:55.000000000,2023-06-05 11:55:55.000000000,2023-06-05 11:54:52.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27339}]","[{'number': 1, 'created': '2023-06-01 08:26:55.000000000', 'files': ['docker/mariadb/mariadb-clustercheck/Dockerfile.j2', 'docker/mariadb/mariadb-clustercheck/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/fe9d33c64fff9b4d4607cabd090ead62b052a3ab', 'message': 'mariadb-clustercheck: ensure /var/log/kolla/mariadb exists\n\nIf mariadb-clustercheck starts before mariadb, the directory may not\nexist, and the command fails.\n\nThis is necessary for the refactored MariaDB restart in\nI5a12670d07077d24047aaff57ce8d33ccf7156ff.\n\nChange-Id: Ie1b36eb9a403611c2f86aa4c1d500d324e5291f3\n(cherry picked from commit 9035251443ed6cbb110e9dc5efdbc9d4be797ef5)\n'}]",0,884824,fe9d33c64fff9b4d4607cabd090ead62b052a3ab,10,4,1,14826,,,0,"mariadb-clustercheck: ensure /var/log/kolla/mariadb exists

If mariadb-clustercheck starts before mariadb, the directory may not
exist, and the command fails.

This is necessary for the refactored MariaDB restart in
I5a12670d07077d24047aaff57ce8d33ccf7156ff.

Change-Id: Ie1b36eb9a403611c2f86aa4c1d500d324e5291f3
(cherry picked from commit 9035251443ed6cbb110e9dc5efdbc9d4be797ef5)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/24/884824/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/mariadb/mariadb-clustercheck/Dockerfile.j2', 'docker/mariadb/mariadb-clustercheck/extend_start.sh']",2,fe9d33c64fff9b4d4607cabd090ead62b052a3ab,,"#!/bin/bash : ${MARIADB_LOG_DIR:=/var/log/kolla/mariadb} # Create log directory, with appropriate permissions if [[ ! -d ""${MARIADB_LOG_DIR}"" ]]; then mkdir -p ${MARIADB_LOG_DIR} fi if [[ $(stat -c %a ${MARIADB_LOG_DIR}) != ""755"" ]]; then chmod 755 ${MARIADB_LOG_DIR} fi ",,15,0
openstack%2Fkolla~stable%2F2023.1~Ie1b36eb9a403611c2f86aa4c1d500d324e5291f3,openstack/kolla,stable/2023.1,Ie1b36eb9a403611c2f86aa4c1d500d324e5291f3,mariadb-clustercheck: ensure /var/log/kolla/mariadb exists,MERGED,2023-06-01 08:26:44.000000000,2023-06-05 11:55:54.000000000,2023-06-05 11:54:54.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27339}]","[{'number': 1, 'created': '2023-06-01 08:26:44.000000000', 'files': ['docker/mariadb/mariadb-clustercheck/Dockerfile.j2', 'docker/mariadb/mariadb-clustercheck/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2ca7ec16135bf62637ca1115e122f66cb1eefb27', 'message': 'mariadb-clustercheck: ensure /var/log/kolla/mariadb exists\n\nIf mariadb-clustercheck starts before mariadb, the directory may not\nexist, and the command fails.\n\nThis is necessary for the refactored MariaDB restart in\nI5a12670d07077d24047aaff57ce8d33ccf7156ff.\n\nChange-Id: Ie1b36eb9a403611c2f86aa4c1d500d324e5291f3\n(cherry picked from commit 9035251443ed6cbb110e9dc5efdbc9d4be797ef5)\n'}]",0,884823,2ca7ec16135bf62637ca1115e122f66cb1eefb27,10,4,1,14826,,,0,"mariadb-clustercheck: ensure /var/log/kolla/mariadb exists

If mariadb-clustercheck starts before mariadb, the directory may not
exist, and the command fails.

This is necessary for the refactored MariaDB restart in
I5a12670d07077d24047aaff57ce8d33ccf7156ff.

Change-Id: Ie1b36eb9a403611c2f86aa4c1d500d324e5291f3
(cherry picked from commit 9035251443ed6cbb110e9dc5efdbc9d4be797ef5)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/23/884823/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/mariadb/mariadb-clustercheck/Dockerfile.j2', 'docker/mariadb/mariadb-clustercheck/extend_start.sh']",2,2ca7ec16135bf62637ca1115e122f66cb1eefb27,,"#!/bin/bash : ${MARIADB_LOG_DIR:=/var/log/kolla/mariadb} # Create log directory, with appropriate permissions if [[ ! -d ""${MARIADB_LOG_DIR}"" ]]; then mkdir -p ${MARIADB_LOG_DIR} fi if [[ $(stat -c %a ${MARIADB_LOG_DIR}) != ""755"" ]]; then chmod 755 ${MARIADB_LOG_DIR} fi ",,15,0
openstack%2Fkolla~stable%2Fyoga~Ie1b36eb9a403611c2f86aa4c1d500d324e5291f3,openstack/kolla,stable/yoga,Ie1b36eb9a403611c2f86aa4c1d500d324e5291f3,mariadb-clustercheck: ensure /var/log/kolla/mariadb exists,MERGED,2023-06-01 08:27:05.000000000,2023-06-05 11:55:46.000000000,2023-06-05 11:54:50.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27339}]","[{'number': 1, 'created': '2023-06-01 08:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/85935dacd53d761f86207919cf64c615a864ed72', 'message': 'mariadb-clustercheck: ensure /var/log/kolla/mariadb exists\n\nIf mariadb-clustercheck starts before mariadb, the directory may not\nexist, and the command fails.\n\nThis is necessary for the refactored MariaDB restart in\nI5a12670d07077d24047aaff57ce8d33ccf7156ff.\n\nChange-Id: Ie1b36eb9a403611c2f86aa4c1d500d324e5291f3\n(cherry picked from commit 9035251443ed6cbb110e9dc5efdbc9d4be797ef5)\n'}, {'number': 2, 'created': '2023-06-01 08:27:37.000000000', 'files': ['docker/mariadb/mariadb-clustercheck/Dockerfile.j2', 'docker/mariadb/mariadb-clustercheck/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2a302e5b652db5ab7996e393489a14967f6aa5b9', 'message': 'mariadb-clustercheck: ensure /var/log/kolla/mariadb exists\n\nIf mariadb-clustercheck starts before mariadb, the directory may not\nexist, and the command fails.\n\nThis is necessary for the refactored MariaDB restart in\nI5a12670d07077d24047aaff57ce8d33ccf7156ff.\n\nChange-Id: Ie1b36eb9a403611c2f86aa4c1d500d324e5291f3\n(cherry picked from commit 9035251443ed6cbb110e9dc5efdbc9d4be797ef5)\n'}]",0,884825,2a302e5b652db5ab7996e393489a14967f6aa5b9,12,4,2,14826,,,0,"mariadb-clustercheck: ensure /var/log/kolla/mariadb exists

If mariadb-clustercheck starts before mariadb, the directory may not
exist, and the command fails.

This is necessary for the refactored MariaDB restart in
I5a12670d07077d24047aaff57ce8d33ccf7156ff.

Change-Id: Ie1b36eb9a403611c2f86aa4c1d500d324e5291f3
(cherry picked from commit 9035251443ed6cbb110e9dc5efdbc9d4be797ef5)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/25/884825/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/mariadb/mariadb-clustercheck/Dockerfile.j2', 'docker/mariadb/mariadb-clustercheck/extend_start.sh']",2,85935dacd53d761f86207919cf64c615a864ed72,,"#!/bin/bash : ${MARIADB_LOG_DIR:=/var/log/kolla/mariadb} # Create log directory, with appropriate permissions if [[ ! -d ""${MARIADB_LOG_DIR}"" ]]; then mkdir -p ${MARIADB_LOG_DIR} fi if [[ $(stat -c %a ${MARIADB_LOG_DIR}) != ""755"" ]]; then chmod 755 ${MARIADB_LOG_DIR} fi ",,17,0
openstack%2Fironic-ui~master~I613615acd6d72a4e19b7ddc7de1fb0260e943601,openstack/ironic-ui,master,I613615acd6d72a4e19b7ddc7de1fb0260e943601,Imported Translations from Zanata,MERGED,2023-05-09 04:22:34.000000000,2023-06-05 11:52:51.000000000,2023-06-05 11:51:26.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 29313}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-05-09 04:22:34.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/3f636aaf98dd7fb3bd8748c4b910da2cb8dd4288', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I613615acd6d72a4e19b7ddc7de1fb0260e943601\n'}]",0,882662,3f636aaf98dd7fb3bd8748c4b910da2cb8dd4288,10,5,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I613615acd6d72a4e19b7ddc7de1fb0260e943601
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/62/882662/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,3f636aaf98dd7fb3bd8748c4b910da2cb8dd4288,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2023. #zanata""POT-Creation-Date: 2023-03-01 11:58+0000\n""""PO-Revision-Date: 2023-05-08 10:24+0000\n""msgid ""2023.1 Series Release Notes"" msgstr ""2023.1 Series Release Notes"" ","""POT-Creation-Date: 2022-09-09 11:33+0000\n""""PO-Revision-Date: 2022-09-24 01:08+0000\n""",6,2
openstack%2Fopenstack-zuul-jobs~master~I2f0efe182f881da792bde686dd73d1d9efea9dad,openstack/openstack-zuul-jobs,master,I2f0efe182f881da792bde686dd73d1d9efea9dad,infra-deb-package-build: run mk-build-deps in separate directory,MERGED,2023-06-05 01:22:04.000000000,2023-06-05 11:38:14.000000000,2023-06-05 11:37:15.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 01:22:04.000000000', 'files': ['roles/infra-deb-package-build/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/ab0fad7f5878961884394a4c552256947a106fdc', 'message': 'infra-deb-package-build: run mk-build-deps in separate directory\n\nAs noted, this can leave behind extra files that make generation of\nthe final .deb fail.\n\nChange-Id: I2f0efe182f881da792bde686dd73d1d9efea9dad\n'}]",0,885203,ab0fad7f5878961884394a4c552256947a106fdc,7,2,1,7118,,,0,"infra-deb-package-build: run mk-build-deps in separate directory

As noted, this can leave behind extra files that make generation of
the final .deb fail.

Change-Id: I2f0efe182f881da792bde686dd73d1d9efea9dad
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/03/885203/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/infra-deb-package-build/tasks/main.yaml'],1,ab0fad7f5878961884394a4c552256947a106fdc,deb-clean-and-build," # run mk-build-deps in a separate copy, as it can leave behind # files that wreck generating upload .debs cp -r {{ infra_deb_project }}_${VERSION}.orig {{ infra_deb_project }}_${VERSION}.orig.deps pushd {{ infra_deb_project }}_${VERSION}.orig.deps popd rm -rf ${VERSION}.orig.deps # build fresh source packages pushd {{ infra_deb_project }}_${VERSION}.orig", pushd {{ infra_deb_project }}_${VERSION}.orig # build source packages,9,2
openstack%2Fopenstack-ansible~stable%2Fxena~I94264d89f77689e83800fb698ffc4b5350e1ce34,openstack/openstack-ansible,stable/xena,I94264d89f77689e83800fb698ffc4b5350e1ce34,Switch roles to track stable/xena,NEW,2023-05-31 18:40:05.000000000,2023-06-05 11:22:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-31 18:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ecc14a4078b0618be5d965b7da0b1fc087c03b93', 'message': ""Switch roles and services to track stable/xena\n\nAfter EM there will be no more releases, so we're switching roles\nand services to track stable/xena branch rather then SHAs.\n\nChange-Id: I94264d89f77689e83800fb698ffc4b5350e1ce34\n""}, {'number': 2, 'created': '2023-06-01 09:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d7f287bf0ae8670c8feaa9733cf629a18b8366fa', 'message': ""Switch roles and services to track stable/xena\n\nAfter EM there will be no more releases, so we're switching roles\nand services to track stable/xena branch rather then SHAs.\n\nChange-Id: I94264d89f77689e83800fb698ffc4b5350e1ce34\n""}, {'number': 3, 'created': '2023-06-01 09:02:47.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/073df740bb997ba18345e7e56d0e0ffbbdbd4a60', 'message': ""Switch roles to track stable/xena\n\nAfter EM there will be no more releases, so we're switching roles\nand services to track stable/xena branch rather then SHAs.\n\nChange-Id: I94264d89f77689e83800fb698ffc4b5350e1ce34\n""}]",1,884926,073df740bb997ba18345e7e56d0e0ffbbdbd4a60,7,1,3,28619,,,0,"Switch roles to track stable/xena

After EM there will be no more releases, so we're switching roles
and services to track stable/xena branch rather then SHAs.

Change-Id: I94264d89f77689e83800fb698ffc4b5350e1ce34
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/26/884926/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'ansible-role-requirements.yml']",2,ecc14a4078b0618be5d965b7da0b1fc087c03b93,, version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena version: stable/xena, version: 2d9e8106b5ad2d064a6e9149c1b976e23c45713f version: 840502f3235da9bf4debb753cecc1a0d415f4bd2 version: 88e340a58ed906ae033238f4270a685601c343fc version: dcb40c79076a0ceba775ad5597a8a1c681cae4ec version: dfac6bd2152c9eb84b1a7516486ed608c1a8fcc1 version: c1e649a3c1cbad8f4259a397018ef4250bb9afce version: 16bbf43c88e25a89f9a20520fb562ab9b39aea16 version: 6cb0ce3b790241c70ebedbb695a21fda53ac3a02 version: 5d2b436d5a2bd2810a4d5e2ae2b892f45b59a0db version: ed9d6256d61e1887d8a35b5d8d1673baba87976e version: 2747466795e6dc97335d6c2cdb90818ccd572ce8 version: 3b35767d43c326cc89bf912ce0dc844bec78cd3e version: 13e27f9b9ff409cb9bee1cf390be66d1ca82afbd version: dcb7e1c74f52a5d7cd457d42536aa8fa361c1d30 version: 83e72d95cdc12368c90f5b6ab915cf595d50721a version: 436228c585b0baf91be6cde6619faf4a5ae768d8 version: 1a1b9f4238e74cc7d1a03499b96b24c0e6ce9b27 version: 0682e7b294452aa93aeaedeb010a0a36e850e909 version: 0c3b61217ec347519b9306e4500f0dcb49557859 version: a5fd174b2fbdf7ca9d8c0f3f8ce1788914aaa243 version: 886d812bf0165bb8191adf60ee4e065bfeedc861 version: c452633ef312e40f27f95a9858513b7fcd454704 version: 1edc310ff402af0bcd045bfbe41b4a336d1c8e14 version: 8f9458b0494ec6a92f85570321a760893a00ac51 version: 81ca2a766d29b7df445ab0ddb7e510c2537c979e version: 49899f74dd01ed517e83f6d4c03992986dbc7c7a version: 492022022d01bff870e2dccfcadf781f25e1fee6 version: 58c7abd44e8eca98dc30915de06a67a255d35ab3 version: ca8ed73116561d3006098c760f598ec76f1886c2 version: b110467ec185d9760ebfabdd1e0d563ee585a136 version: ada7c4c1f0a90e14811bbd6abe97f10f18f0a9b5 version: 7470a6a8c921e47c454ba9bd2be490bc0364a2fa version: e2254be8827d2a9dca651c97e5eff1160a48277a version: 5c7d77ed5b1c81e31db6e03d883b03b4e2e2f767 version: 0c26793958f547a4833a034d6eb12d06513ed250 version: 9f3d1e66a044165de4a084c7fec8651c45e91806 version: 104b5b295835a6b87c88f3a8c14ea81c53221d45 version: 570a0e861c54922630ccb8191a4d06dda5653c42 version: fdb903243d781cb7b1d1a6b806cd48555e916add version: e3ebfdaa0610816c1c09c628c36cdc2446d20d6f version: 37edf2b21a7568076427e1af7ce396d1ff2a9f26 version: 3936bc9eda2e9c6eb64777281c2e9008ac1e37b1 version: 2fcf522243f0019e4c54ebd09f5faa84c87557fe version: 954ea7013054ed7fbed65006a02d5126716da0ea version: 46afae99f80237979c3effa04eb39b417e584a52 version: f00308afa47e7085224b0f2948f2b756766f7f60 version: 679930df689ce7c35d32d93ed4297c63744b58bb version: 2f0378dc282cc780f4667e00b697a3be29e3d6e4 version: 9850f00be4d8ce9bdd8f280e4f433fb9a9617667 version: bbeca7f60c3c36c7baf36b2940a59f834f6aad8e version: 7de7bdd416922c50e3bda08ee82f1cc4fb97045b version: 660880e91d3d81d9e5b6d95949be7dec1e7f3569 version: 12ab97cb9a34112d6244c59a4a0034842ad92875,105,105
openstack%2Freleases~master~I5dbe6bcd68bd927f28ea167f791aefea7c229a99,openstack/releases,master,I5dbe6bcd68bd927f28ea167f791aefea7c229a99,Fix announce mail with using importlib for metadata,MERGED,2023-06-02 14:26:49.000000000,2023-06-05 10:29:30.000000000,2023-06-05 10:29:30.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-02 14:26:49.000000000', 'files': ['tools/announce.sh'], 'web_link': 'https://opendev.org/openstack/releases/commit/aec6033f9cb29779ea6508c75f8729f75ed927a8', 'message': ""Fix announce mail with using importlib for metadata\n\nSome package's README.rst causes metadata parsing to fail and thus\nthe announce job to fail. This patch looks directly for the 'name'\nin metadata to avoid such failure.\n\nChange-Id: I5dbe6bcd68bd927f28ea167f791aefea7c229a99\n""}]",2,885143,aec6033f9cb29779ea6508c75f8729f75ed927a8,9,4,1,17685,,,0,"Fix announce mail with using importlib for metadata

Some package's README.rst causes metadata parsing to fail and thus
the announce job to fail. This patch looks directly for the 'name'
in metadata to avoid such failure.

Change-Id: I5dbe6bcd68bd927f28ea167f791aefea7c229a99
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/885143/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/announce.sh'],1,aec6033f9cb29779ea6508c75f8729f75ed927a8,fix-announce,"project_name=$(python -c ""import importlib.metadata; print(importlib.metadata.metadata('${modified_shortname}')['Name'])"" || true) if [ -n ""${project_name}"" ] ; then","python -c ""import importlib.metadata; print(importlib.metadata.metadata('${modified_shortname}'))"" exit_code=$? if [ ${exit_code} -eq 0 ] ; then project_name=$(python -c ""import importlib.metadata; print(importlib.metadata.metadata('${modified_shortname}')['Name'])"")",2,4
openstack%2Fkayobe~stable%2Fzed~Ie272e701b8952ef106be99b8fe36eb04cb524898,openstack/kayobe,stable/zed,Ie272e701b8952ef106be99b8fe36eb04cb524898,Update gitignore for .vscode/ configuration files,MERGED,2023-06-01 13:37:46.000000000,2023-06-05 10:22:18.000000000,2023-06-05 10:21:13.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 13:37:46.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/dfa09e28215e38bc756b02830ffd0a95372fd055', 'message': 'Update gitignore for .vscode/ configuration files\n\nChange-Id: Ie272e701b8952ef106be99b8fe36eb04cb524898\n(cherry picked from commit 47829142cd9ebc3ae7d7f440870491e81c3ddfad)\n'}]",0,885013,dfa09e28215e38bc756b02830ffd0a95372fd055,9,4,1,35264,,,0,"Update gitignore for .vscode/ configuration files

Change-Id: Ie272e701b8952ef106be99b8fe36eb04cb524898
(cherry picked from commit 47829142cd9ebc3ae7d7f440870491e81c3ddfad)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/13/885013/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,dfa09e28215e38bc756b02830ffd0a95372fd055,update-gitignore-vscode-stable/zed,.vscode/,,1,0
openstack%2Fkayobe~stable%2F2023.1~Ie272e701b8952ef106be99b8fe36eb04cb524898,openstack/kayobe,stable/2023.1,Ie272e701b8952ef106be99b8fe36eb04cb524898,Update gitignore for .vscode/ configuration files,MERGED,2023-06-01 20:44:24.000000000,2023-06-05 10:21:52.000000000,2023-06-05 10:20:48.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 20:44:24.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b84051b723c1e3f98844e1dd654c0e2045dfbf2c', 'message': 'Update gitignore for .vscode/ configuration files\n\nChange-Id: Ie272e701b8952ef106be99b8fe36eb04cb524898\n(cherry picked from commit 47829142cd9ebc3ae7d7f440870491e81c3ddfad)\n'}]",0,885017,b84051b723c1e3f98844e1dd654c0e2045dfbf2c,9,4,1,15197,,,0,"Update gitignore for .vscode/ configuration files

Change-Id: Ie272e701b8952ef106be99b8fe36eb04cb524898
(cherry picked from commit 47829142cd9ebc3ae7d7f440870491e81c3ddfad)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/17/885017/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,b84051b723c1e3f98844e1dd654c0e2045dfbf2c,update-gitignore-vscode-stable/2023.1,.vscode/,,1,0
openstack%2Ftempest~master~Idfdbe3dc276fad53c50421f5e4ec32972e052ebc,openstack/tempest,master,Idfdbe3dc276fad53c50421f5e4ec32972e052ebc,[WIP] Catching broken tests in tempest-full-test-account-* jobs,NEW,2023-04-17 13:30:51.000000000,2023-06-05 09:54:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-04-17 13:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2517095a8a41b5ed54cc7d0120b27444e99cf844', 'message': '[WIP] Add cleanup for create_containers()\n\nRelated-Bug: #1996624\nChange-Id: Idfdbe3dc276fad53c50421f5e4ec32972e052ebc\n'}, {'number': 2, 'created': '2023-04-17 13:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/319a3b39452bcec85a67e3b58b0fd70a35e4b8af', 'message': '[WIP] Add cleanup for create_containers()\n\nRelated-Bug: #1996624\nChange-Id: Idfdbe3dc276fad53c50421f5e4ec32972e052ebc\n'}, {'number': 3, 'created': '2023-04-17 13:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/69c5e3854171d377c7cbea978094e3473d157b09', 'message': '[WIP] Add cleanup for create_containers()\n\nRelated-Bug: #1996624\nChange-Id: Idfdbe3dc276fad53c50421f5e4ec32972e052ebc\n'}, {'number': 4, 'created': '2023-04-17 15:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bf4b8591ea8e342c363854b9365120f0ecdf0da3', 'message': '[WIP] Add cleanup for create_containers()\n\nRelated-Bug: #1996624\nChange-Id: Idfdbe3dc276fad53c50421f5e4ec32972e052ebc\n'}, {'number': 5, 'created': '2023-04-18 08:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1485a09d31bae4384549c8a860e801604f5ab072', 'message': '[WIP] Add cleanup for create_containers()\n\nRelated-Bug: #1996624\nChange-Id: Idfdbe3dc276fad53c50421f5e4ec32972e052ebc\n'}, {'number': 6, 'created': '2023-04-18 13:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8cef57f10541b207a75eabf270a658a58a3663fd', 'message': '[WIP] Add cleanup for create_containers()\n\nRelated-Bug: #1996624\nChange-Id: Idfdbe3dc276fad53c50421f5e4ec32972e052ebc\n'}, {'number': 7, 'created': '2023-04-26 15:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/84fd692fa0a4e09fc96e2acdd58618168ace551b', 'message': '[WIP] Catching broken tests in tempest-full-test-account-* jobs\n\nRelated-Bug: #1996624\nChange-Id: Idfdbe3dc276fad53c50421f5e4ec32972e052ebc\n'}, {'number': 8, 'created': '2023-04-27 07:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/af15f16bf1d508418e5641c28a7feae4b5f7fde4', 'message': '[WIP] Catching broken tests in tempest-full-test-account-* jobs\n\nChange-Id: Idfdbe3dc276fad53c50421f5e4ec32972e052ebc\n'}, {'number': 9, 'created': '2023-04-28 15:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/da025baed26ace3fba145f491fbc3f92fc0cb6d1', 'message': '[WIP] Catching broken tests in tempest-full-test-account-* jobs\n\nChange-Id: Idfdbe3dc276fad53c50421f5e4ec32972e052ebc\n'}, {'number': 10, 'created': '2023-05-02 10:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c06ffdf6b6ddf6b875548169e51afc101fd6be61', 'message': '[WIP] Catching broken tests in tempest-full-test-account-* jobs\n\nChange-Id: Idfdbe3dc276fad53c50421f5e4ec32972e052ebc\n'}, {'number': 11, 'created': '2023-05-23 11:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4a3cb978bc63a5e18a359940107cef27bda53366', 'message': '[WIP] Catching broken tests in tempest-full-test-account-* jobs\n\nChange-Id: Idfdbe3dc276fad53c50421f5e4ec32972e052ebc\n'}, {'number': 12, 'created': '2023-05-25 15:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1727efd581f28578c808f175e05570fed691bde1', 'message': '[WIP] Catching broken tests in tempest-full-test-account-* jobs\n\nChange-Id: Idfdbe3dc276fad53c50421f5e4ec32972e052ebc\n'}, {'number': 13, 'created': '2023-05-25 19:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0c2f07d1aa73e6af1bded4322e45a323e09b29ee', 'message': '[WIP] Catching broken tests in tempest-full-test-account-* jobs\n\nChange-Id: Idfdbe3dc276fad53c50421f5e4ec32972e052ebc\n'}, {'number': 14, 'created': '2023-06-05 08:07:25.000000000', 'files': ['tempest/api/object_storage/base.py', 'tempest/api/object_storage/test_object_services.py', 'tempest/api/object_storage/test_container_services_negative.py', 'zuul.d/project.yaml', 'tempest/api/object_storage/test_container_acl_negative.py', 'tempest/api/object_storage/test_container_services.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/36dee00d4f32a0f93d11b61b54762df2939149d4', 'message': '[WIP] Catching broken tests in tempest-full-test-account-* jobs\n\nChange-Id: Idfdbe3dc276fad53c50421f5e4ec32972e052ebc\n'}]",4,880630,36dee00d4f32a0f93d11b61b54762df2939149d4,36,1,14,30674,,,0,"[WIP] Catching broken tests in tempest-full-test-account-* jobs

Change-Id: Idfdbe3dc276fad53c50421f5e4ec32972e052ebc
",git fetch https://review.opendev.org/openstack/tempest refs/changes/30/880630/9 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/object_storage/base.py', 'zuul.d/project.yaml']",2,2517095a8a41b5ed54cc7d0120b27444e99cf844,fix/object_storage, - tempest-full-test-account-no-admin-py3: irrelevant-files: *tempest-irrelevant-files, - openstack-tox-pep8 - openstack-tox-py38 - openstack-tox-py39 - openstack-tox-py310 - tempest-full-py3: # Define list of irrelevant files to use everywhere else irrelevant-files: &tempest-irrelevant-files - ^.*\.rst$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tempest/hacking/.*$ - ^tempest/tests/.*$ - ^tools/.*$ - ^.coveragerc$ - ^.gitignore$ - ^.gitreview$ - ^.mailmap$ - tempest-extra-tests: irrelevant-files: *tempest-irrelevant-files - tempest-full-ubuntu-focal: irrelevant-files: *tempest-irrelevant-files - glance-multistore-cinder-import: voting: false irrelevant-files: *tempest-irrelevant-files # NOTE(gmann): We will be testing the latest and oldest # supported stable branch in Tempest master gate with assuming # if things are working in latest and oldest it will work in between # stable branches also. If anything is breaking we will be catching # those in respective stable branch gate. - tempest-full-2023-1: irrelevant-files: *tempest-irrelevant-files - tempest-full-xena: irrelevant-files: *tempest-irrelevant-files - tempest-multinode-full-py3: irrelevant-files: *tempest-irrelevant-files - tempest-tox-plugin-sanity-check: irrelevant-files: &tempest-irrelevant-files-2 - ^.*\.rst$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tempest/hacking/.*$ - ^tempest/tests/.*$ - ^.coveragerc$ - ^.gitignore$ - ^.gitreview$ - ^.mailmap$ - ^tools/check_logs.py - ^tools/format.sh - ^tools/skip_tracker.py - ^tools/tempest-integrated-gate-compute-exclude-list.txt - ^tools/tempest-integrated-gate-networking-exclude-list.txt - ^tools/tempest-integrated-gate-object-storage-exclude-list.txt - ^tools/tempest-integrated-gate-placement-exclude-list.txt - ^tools/tempest-integrated-gate-storage-blacklist.txt - ^tools/tempest-integrated-gate-storage-exclude-list.txt - ^tools/tempest-extra-tests-list.txt - ^tools/verify-ipv6-only-deployments.sh - ^tools/with_venv.sh # tools/ is not here since this relies on a script in tools/. - tempest-ipv6-only: irrelevant-files: &tempest-irrelevant-files-3 - ^.*\.rst$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tempest/hacking/.*$ - ^tempest/tests/.*$ - ^tools/check_logs.py - ^tools/format.sh - ^tools/generate-tempest-plugins-list.py - ^tools/generate-tempest-plugins-list.sh - ^tools/skip_tracker.py - ^tools/tempest-integrated-gate-compute-exclude-list.txt - ^tools/tempest-integrated-gate-networking-exclude-list.txt - ^tools/tempest-integrated-gate-object-storage-exclude-list.txt - ^tools/tempest-integrated-gate-placement-exclude-list.txt - ^tools/tempest-integrated-gate-storage-blacklist.txt - ^tools/tempest-integrated-gate-storage-exclude-list.txt - ^tools/tempest-extra-tests-list.txt - ^tools/tempest-plugin-sanity.sh - ^tools/with_venv.sh - ^.coveragerc$ - ^.gitignore$ - ^.gitreview$ - ^.mailmap$ - tempest-slow-py3: irrelevant-files: *tempest-irrelevant-files - nova-live-migration: irrelevant-files: *tempest-irrelevant-files - tempest-full-enforce-scope-new-defaults: irrelevant-files: *tempest-irrelevant-files - devstack-plugin-ceph-tempest-py3: # TODO(kopecmartin): make it voting once the below bug is fixed # https://bugs.launchpad.net/devstack-plugin-ceph/+bug/1975648 voting: false irrelevant-files: *tempest-irrelevant-files - neutron-ovs-grenade-multinode: irrelevant-files: *tempest-irrelevant-files - grenade: irrelevant-files: *tempest-irrelevant-files - neutron-ovs-tempest-dvr: voting: false irrelevant-files: *tempest-irrelevant-files - interop-tempest-consistency: irrelevant-files: *tempest-irrelevant-files - openstack-tox-bashate: irrelevant-files: *tempest-irrelevant-files-2 - tempest-full-test-account-no-admin-py3: irrelevant-files: *tempest-irrelevant-files,6,115
openstack%2Fpuppet-nova~stable%2F2023.1~I8eefc65e206bdb0532b6c5d08eee0d35d764a2b9,openstack/puppet-nova,stable/2023.1,I8eefc65e206bdb0532b6c5d08eee0d35d764a2b9,Prohibit modular libvirt in non RedHat distributions,MERGED,2023-06-01 13:54:09.000000000,2023-06-05 09:51:40.000000000,2023-06-05 09:51:40.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 13:54:09.000000000', 'files': ['manifests/compute/libvirt/services.pp', 'manifests/migration/libvirt.pp', 'manifests/params.pp', 'spec/classes/nova_migration_libvirt_spec.rb', 'spec/classes/nova_compute_libvirt_services_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/861bef82b554f0d1003af2e26cbc49a7b33ac333', 'message': 'Prohibit modular libvirt in non RedHat distributions\n\nCurrently modular libvirt daemons are supported only by CentOS and\nRHEL. This makes sure the deployment fails in case the architecture is\nrequested in distros which do not support it.\n\nConflicts:\n\tspec/classes/nova_migration_libvirt_spec.rb\n\nChange-Id: I8eefc65e206bdb0532b6c5d08eee0d35d764a2b9\n(cherry picked from commit 0fe7de9b7710859c08428687ee6e35e1ef5fb822)\n'}]",1,885049,861bef82b554f0d1003af2e26cbc49a7b33ac333,9,3,1,9816,,,0,"Prohibit modular libvirt in non RedHat distributions

Currently modular libvirt daemons are supported only by CentOS and
RHEL. This makes sure the deployment fails in case the architecture is
requested in distros which do not support it.

Conflicts:
	spec/classes/nova_migration_libvirt_spec.rb

Change-Id: I8eefc65e206bdb0532b6c5d08eee0d35d764a2b9
(cherry picked from commit 0fe7de9b7710859c08428687ee6e35e1ef5fb822)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/49/885049/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/libvirt/services.pp', 'manifests/migration/libvirt.pp', 'manifests/params.pp', 'spec/classes/nova_migration_libvirt_spec.rb', 'spec/classes/nova_compute_libvirt_services_spec.rb']",5,861bef82b554f0d1003af2e26cbc49a7b33ac333,, end shared_examples_for 'nova compute libvirt services with modular libvirt' do context 'with default parameters' do if facts['osfamily'] == 'RedHat' it_configures 'nova compute libvirt services with modular libvirt' end, context 'with default parameters and modular-libvirt true' do,140,167
openstack%2Fpuppet-nova~stable%2Fyoga~I54b1ef25eb321ee5ba8914b625982b68da6c5dd1,openstack/puppet-nova,stable/yoga,I54b1ef25eb321ee5ba8914b625982b68da6c5dd1,Enable virtproxyd socket for migration,MERGED,2023-05-31 09:54:20.000000000,2023-06-05 09:51:38.000000000,2023-06-05 09:51:38.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 09:54:20.000000000', 'files': ['manifests/migration/libvirt.pp', 'spec/classes/nova_migration_libvirt_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2a608663e8edd0e6ff825279d2a435ba4251349e', 'message': 'Enable virtproxyd socket for migration\n\nIn case modular libvirt daemons are used, virtproxyd-tcp/tls.socket\nshould be enabled instead of libvirtd-tcp/tls.socket.\n\nCloses-Bug: #2012443\nChange-Id: I54b1ef25eb321ee5ba8914b625982b68da6c5dd1\n(cherry picked from commit d6b472a8b687a8e243929699b8e4874fc490f034)\n(cherry picked from commit 07b3bb8a9bd1a2c637945b9a75180bccc813eab0)\n'}]",0,884814,2a608663e8edd0e6ff825279d2a435ba4251349e,9,3,1,9816,,,0,"Enable virtproxyd socket for migration

In case modular libvirt daemons are used, virtproxyd-tcp/tls.socket
should be enabled instead of libvirtd-tcp/tls.socket.

Closes-Bug: #2012443
Change-Id: I54b1ef25eb321ee5ba8914b625982b68da6c5dd1
(cherry picked from commit d6b472a8b687a8e243929699b8e4874fc490f034)
(cherry picked from commit 07b3bb8a9bd1a2c637945b9a75180bccc813eab0)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/14/884814/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/migration/libvirt.pp', 'spec/classes/nova_migration_libvirt_spec.rb']",2,2a608663e8edd0e6ff825279d2a435ba4251349e,bug/2012443," context 'with tls transport and modular daemons' do let :params do { :transport => 'tls', :modular_libvirt => true, } end it { is_expected.to contain_service('virtproxyd-tls').with( :name => 'virtproxyd-tls.socket', :ensure => 'running', :enable => true, )} end context 'with tcp transport and modular daemons' do let :params do { :transport => 'tcp', :modular_libvirt => true, } end it { is_expected.to contain_service('virtproxyd-tcp').with( :name => 'virtproxyd-tcp.socket', :ensure => 'running', :enable => true, )} end context 'with tls transport and modular daemons' do let :params do { :transport => 'tls', :modular_libvirt => true, } end it { is_expected.to contain_service('virtproxyd-tls').with( :name => 'virtproxyd-tls.socket', :ensure => 'running', :enable => true, )} end context 'with tcp transport and modular daemons' do let :params do { :transport => 'tcp', :modular_libvirt => true, } end it { is_expected.to contain_service('virtproxyd-tcp').with( :name => 'virtproxyd-tcp.socket', :ensure => 'running', :enable => true, )} end",,75,8
openstack%2Fneutron-specs~master~I0ee77fd4a0b1fe28b206db7dc13e105ffff122a6,openstack/neutron-specs,master,I0ee77fd4a0b1fe28b206db7dc13e105ffff122a6,Port extension to create hardware offloaded ports,MERGED,2023-05-04 11:19:31.000000000,2023-06-05 09:43:56.000000000,2023-06-05 09:42:54.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 7730}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-04 11:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9bc41d0f94f5763a461f38953be1429bd955ca49', 'message': 'Port extension to create hardware offloaded ports\n\nThe aim of the RFE is to create a new port extension to allow to create\nports with hardware offloaded capabilities.\n\nRelated-Bug: #2013228\nChange-Id: I0ee77fd4a0b1fe28b206db7dc13e105ffff122a6\n'}, {'number': 2, 'created': '2023-05-05 15:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e438b32b304c991be4eb74a7503df832f31065d9', 'message': 'Port extension to create hardware offloaded ports\n\nThe aim of the RFE is to create a new port extension to allow to create\nports with hardware offloaded capabilities.\n\nRelated-Bug: #2013228\nChange-Id: I0ee77fd4a0b1fe28b206db7dc13e105ffff122a6\n'}, {'number': 3, 'created': '2023-05-05 15:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/739ac589f17de1d6351606d477f8cf2c275f59b6', 'message': 'Port extension to create hardware offloaded ports\n\nThe aim of the RFE is to create a new port extension to allow to create\nports with hardware offloaded capabilities.\n\nRelated-Bug: #2013228\nChange-Id: I0ee77fd4a0b1fe28b206db7dc13e105ffff122a6\n'}, {'number': 4, 'created': '2023-05-18 10:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9c644a2d3b0b8dbe3ffe707d0e572ec645d85ee8', 'message': 'Port extension to create hardware offloaded ports\n\nThe aim of the RFE is to create a new port extension to allow to create\nports with hardware offloaded capabilities.\n\nRelated-Bug: #2013228\nChange-Id: I0ee77fd4a0b1fe28b206db7dc13e105ffff122a6\n'}, {'number': 5, 'created': '2023-05-18 15:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/201108a3ee253a0f8e2c46f4641b19fa565d27dc', 'message': 'Port extension to create hardware offloaded ports\n\nThe aim of the RFE is to create a new port extension to allow to create\nports with hardware offloaded capabilities.\n\nRelated-Bug: #2013228\nChange-Id: I0ee77fd4a0b1fe28b206db7dc13e105ffff122a6\n'}, {'number': 6, 'created': '2023-05-29 16:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/944e71d2aef940f40ec9362e1675d9de253c0e88', 'message': 'Port extension to create hardware offloaded ports\n\nThe aim of the RFE is to create a new port extension to allow to create\nports with hardware offloaded capabilities.\n\nRelated-Bug: #2013228\nChange-Id: I0ee77fd4a0b1fe28b206db7dc13e105ffff122a6\n'}, {'number': 7, 'created': '2023-06-02 09:06:24.000000000', 'files': ['specs/2023.2/hardware-offload-port-extension.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ec0a0fb2a2b3eb71b7d08d39b2d73ec9de55b537', 'message': 'Port extension to create hardware offloaded ports\n\nThe aim of the RFE is to create a new port extension to allow to create\nports with hardware offloaded capabilities.\n\nRelated-Bug: #2013228\nChange-Id: I0ee77fd4a0b1fe28b206db7dc13e105ffff122a6\n'}]",36,882272,ec0a0fb2a2b3eb71b7d08d39b2d73ec9de55b537,40,8,7,16688,,,0,"Port extension to create hardware offloaded ports

The aim of the RFE is to create a new port extension to allow to create
ports with hardware offloaded capabilities.

Related-Bug: #2013228
Change-Id: I0ee77fd4a0b1fe28b206db7dc13e105ffff122a6
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/72/882272/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.2/hardware-offload-port-extension.rst'],1,9bc41d0f94f5763a461f38953be1429bd955ca49,bug/2013228,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================= Port extension to create hardware offloaded ports ================================================= Launchpad bug: https://bugs.launchpad.net/neutron/+bug/2013228 The aim of the RFE is to create a new port extension to allow to create ports with hardware offloaded capabilities. Problem Description =================== The RFE [1]_ introduced the capability of creating a port that could use the hardware offload support implemented in Open vSwitch [2]_. This feature was implemented in the following set of patches (initially for ML2/OVS): [3]_, [4]_ and [5]_. In order to create a port with hardware offload capabilities, it is needed to define the VNIC type and set a specific value in the port binding profile:: openstack port create --vnic-type direct \ --binding-profile '{""capabilities"": [""switchdev""]}' port_hwol This method to create a port has several drawbacks: * The port binding profile field is an admin only parameter by default. The values contained in this field can have references to PCI addresses of the host and should not be modified by a non-admin user. * Actually this parameter should not be written by Neutron, only by Nova when the port is bound. Proposed Change =============== This RFE proposes to create a new port extension, called ""hardware-offload"", that will replace the need of manually defining the port binding profile information when creating the port; please note the I'm referring only to the port creation process. This API extension consists on a boolean flag parameter that will be ""False"" by default. This new flag will be passed to Nova along with the port information dictionary. Nova will use this flag instead of the port binding profile information to command ``os-vif`` to create the corresponding layer 1 port (a devlink port [3]_ [6]_). Because of this Nova-Neutron communication, this RFE is going to be implemented in two steps: * The first one will implement only the Neutron and OSC (plus the OpenstackSDK bits) code. The port dictionary passed to Nova will contain both the new flag added in this RFE and the port binding profile, that will be added internally by Neutron when the flag is enabled. * The second step involves the Nova implementation. This changes implies that Nova can read the port flag and create the corresponding port. The port binding profile information passed by Neutron will be irrelevant. .. NOTE:: The scope of this RFE, as discussed during the presentation of this new feature in the Neutron drivers meeting, involves only the first step. The Nova code change will be covered in other RFE and spec. Client Impact ------------- The OSC and OpenstackSDK projects will be updated in order to be able to create a port using this new extension. Port creation example:: openstack port create --vnic-type direct --hardware-offload port_hwol The new boolean field will be visible when showing the port resource. REST API Impact --------------- Proposed attribute:: RESOURCE_ATTRIBUTE_MAP = { port.COLLECTION_NAME: { ""hardware_offload"": { 'allow_post': True, 'allow_put': False, 'convert_to': converters.convert_to_boolean_if_not_none, 'default': False, 'is_visible': True, 'is_filter': True } } } Sample REST calls:: POST /v2.0/ports { ""port"": { ... ""hardware_offload"": ""True"" } Response: { ""port"": { ""id"": ""<id>"", ... ""hardware_offload"": ""True"" } } Data Model Impact ----------------- This RFE proposes to create a child table to ``ports``, called ``port_hardware_offload``. .. table:: **Port hardware offload** ================= ======== ==== ============================================== Attribute Type CRUD Description ================= ======== ==== ============================================== port_id uuid-str RO Unique identifier for the port object hardware_offload bool RO Flag to indicate if the port is a devlink port Security Impact --------------- By default, this new field will be writable by the admin only. However, the admin can consider changing the rule owner and allow any project user to create a port enabling this flag:: policy.DocumentedRuleDefault( name='create_port:hardware_offload', check_str=base.ADMIN, scope_types=['project'], operations=ACTION_POST ) This rule change was completely discouraged for the rule 'create_port:binding:profile' for the reasons provided in the problem description. Performance Impact ------------------ The port resource view will now require a new ""JOIN"" operation between the ``ports`` table and the ``ports_hardware_offload`` table when building the port OVO. However there will be a 1:1 relationship between both tables and the data retrieved from the child table is minimal (two columns). Other Impact ------------ None. Implementation ============== Assignee(s) ----------- Primary assignees: Rodolfo Alonso Hernandez <ralonsoh@redhat.com> (IRC: ralonsoh) Work Items ---------- * API implementation (neutron-lib and Neutron). * Database migration (Neutron) * CLI implementation (OpenstackSDK and OSC) * Documentation. * Tests and CI related changes. Testing ======= * Unit/functional tests. * Fullstack API tests. Documentation Impact ==================== User Documentation ------------------ Document the new way to create hardware offload ports and deprecate the older method. References ========== .. [1] [RFE] SR-IOV accelerated OVS integration https://bugs.launchpad.net/neutron/+bug/1627987 .. [2] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html .. [3] https://review.opendev.org/c/openstack/os-vif/+/460278 .. [4] https://review.opendev.org/c/openstack/neutron/+/275616 .. [5] https://review.opendev.org/c/openstack/neutron/+/499203 .. [6] https://www.kernel.org/doc/html/next/networking/devlink/devlink-port.html ",,219,0
openstack%2Fskyline-apiserver~master~I00e319f7c72256f9deb8505cb12b3a9699f12183,openstack/skyline-apiserver,master,I00e319f7c72256f9deb8505cb12b3a9699f12183,docs: add spec for feat 'Multi Region & Domain Switch',MERGED,2023-06-02 02:17:25.000000000,2023-06-05 09:42:42.000000000,2023-06-05 09:41:44.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 30434}]","[{'number': 1, 'created': '2023-06-02 02:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/92ef5d3194011b5b646ad3d5826979f0a482611a', 'message': ""docs: add spec for feat 'Multi Region & Domain Switch'\n\nChange-Id: I00e319f7c72256f9deb8505cb12b3a9699f12183\n""}, {'number': 2, 'created': '2023-06-02 02:18:34.000000000', 'files': ['spec/bp-multi-region-domain-switch.md'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/51c2b40e4dffa6cc97a0d3bbb717105103f14cab', 'message': ""docs: add spec for feat 'Multi Region & Domain Switch'\n\nChange-Id: I00e319f7c72256f9deb8505cb12b3a9699f12183\n""}]",1,885103,51c2b40e4dffa6cc97a0d3bbb717105103f14cab,11,3,2,6282,,,0,"docs: add spec for feat 'Multi Region & Domain Switch'

Change-Id: I00e319f7c72256f9deb8505cb12b3a9699f12183
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/03/885103/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/bp-multi-region-domain-switch.md'],1,92ef5d3194011b5b646ad3d5826979f0a482611a,,"# BP: Multi Region & Domain Switch ## Problem 1. Skyline couldn't switch between multi-regions after login yet, user have to select region during login step. It's not good. 2. Skyline couldn't switch between domain also. ## Solution Draft 1. Remove region selection item in login page. 2. Remove domain selection item in login page. Users have to type in their domains during login step. Default domain is 'Default'. 3. After users login, they can switch region by select region name/id on the top of the web console page 4. After users login, they can switch domain if they had been assigned other domain resources ",,13,0
openstack%2Fovn-octavia-provider~stable%2Fxena~I6e132ab5c23c9c53176612f74bb500e46c89024f,openstack/ovn-octavia-provider,stable/xena,I6e132ab5c23c9c53176612f74bb500e46c89024f,Discard batch-update-members not valid request,MERGED,2023-05-30 13:28:19.000000000,2023-06-05 08:43:00.000000000,2023-06-05 08:42:04.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-05-30 13:28:19.000000000', 'files': ['ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/dd6957848216c31433f4e15beb93ec82233c399a', 'message': 'Discard batch-update-members not valid request\n\nAn out of sync has been identified between the changes applied\nover the OVN NB DB and Octavia DB when a batch-update-members\nincludes some unsupported option for any of the member to be\nmodified.\n\nTo prevent such inconsistencies, this patch rejects the entire\nrequest if any of the proposed changes are identified as\nunsupported. The user will be notified of the reason for the\nrejection.\n\nCloses-Bug: 2017216\nChange-Id: I6e132ab5c23c9c53176612f74bb500e46c89024f\n(cherry picked from commit 5f27384805bd2dd50602d3656d5f5df6c284f897)\n'}]",3,884699,dd6957848216c31433f4e15beb93ec82233c399a,21,4,1,34451,,,0,"Discard batch-update-members not valid request

An out of sync has been identified between the changes applied
over the OVN NB DB and Octavia DB when a batch-update-members
includes some unsupported option for any of the member to be
modified.

To prevent such inconsistencies, this patch rejects the entire
request if any of the proposed changes are identified as
unsupported. The user will be notified of the reason for the
rejection.

Closes-Bug: 2017216
Change-Id: I6e132ab5c23c9c53176612f74bb500e46c89024f
(cherry picked from commit 5f27384805bd2dd50602d3656d5f5df6c284f897)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/99/884699/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py']",3,dd6957848216c31433f4e15beb93ec82233c399a,xena," # NOTE(froyo): in order to keep sync with Octavia DB, we raise # not supporting exceptions as soon as posible, considering the # full request as not valid if (self._check_monitor_options(member)): msg = 'OVN provider does not support monitor options' raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg) if (member.address and self._ip_version_differs(member)): raise ovn_exc.IPVersionsMixingNotSupportedError()"," skipped_members = [] if (self._check_monitor_options(member) or member.address and self._ip_version_differs(member)): skipped_members.append(member.member_id) continue if skipped_members: msg = (_('OVN provider does not support monitor options, ' 'so following members skipped: %s') % skipped_members) raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg)",56,11
openstack%2Fpuppet-nova~master~Ibde314fc3c445f62196b68da78cceb7af9d94674,openstack/puppet-nova,master,Ibde314fc3c445f62196b68da78cceb7af9d94674,Handle multiple projects for flavor access,ABANDONED,2018-09-13 12:55:42.000000000,2023-06-05 08:18:56.000000000,,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 11583}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 20676}, {'_account_id': 22348}, {'_account_id': 28101}, {'_account_id': 28627}, {'_account_id': 29037}]","[{'number': 1, 'created': '2018-09-13 12:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/5ac2427c876acdadccc7211ce3b0b2f0f062b148', 'message': 'Handle multiple projects for flavor access\n\nAdd possibility to configure acces project for flavor\nto multiple projects\n\nChange-Id: Ibde314fc3c445f62196b68da78cceb7af9d94674\n'}, {'number': 2, 'created': '2018-09-13 13:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d19699ccda00bde9cc60056e7e5aba5b00ff3d4d', 'message': 'Handle multiple projects for flavor access\n\nAdd possibility to configure acces project for flavor\nto multiple projects\n\nChange-Id: Ibde314fc3c445f62196b68da78cceb7af9d94674\n'}, {'number': 3, 'created': '2018-09-13 13:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/04537faeb931f713cedd51b5cac791dfdcf4860b', 'message': 'Handle multiple projects for flavor access\n\nAdd possibility to configure acces project for flavor\nto multiple projects\n\nChange-Id: Ibde314fc3c445f62196b68da78cceb7af9d94674\n'}, {'number': 4, 'created': '2018-10-01 06:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1f52c6bafaddebc515e7a3e3b466516f9920d26a', 'message': 'Handle multiple projects for flavor access\n\nAdd possibility to configure acces project for flavor\nto multiple projects\n\nChange-Id: Ibde314fc3c445f62196b68da78cceb7af9d94674\n'}, {'number': 5, 'created': '2021-04-18 05:59:03.000000000', 'files': ['lib/puppet/provider/nova_flavor/openstack.rb', 'lib/puppet/type/nova_flavor.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d36372d12af60aa766c843227b368b6117facb6f', 'message': 'Handle multiple projects for flavor access\n\nAdd possibility to configure acces project for flavor\nto multiple projects.\nAlso deprecate the ""project"" option which is supposed to be replace\nslowly by ""projects"".\n\nChange-Id: Ibde314fc3c445f62196b68da78cceb7af9d94674\n'}]",3,602349,d36372d12af60aa766c843227b368b6117facb6f,18,10,5,27442,,,0,"Handle multiple projects for flavor access

Add possibility to configure acces project for flavor
to multiple projects.
Also deprecate the ""project"" option which is supposed to be replace
slowly by ""projects"".

Change-Id: Ibde314fc3c445f62196b68da78cceb7af9d94674
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/49/602349/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/nova_flavor/openstack.rb', 'lib/puppet/type/nova_flavor.rb']",2,5ac2427c876acdadccc7211ce3b0b2f0f062b148,Ibde314fc3c445f62196b68da78cceb7af9d94674,"# [*projects*] ['auth_uri', 'project_name', 'username', 'password'] desc 'The slice of bandiwdth that the instances with this flavor can use (through the Virtual Interface (vif) creation in the hypervisor)' newproperty(:projects, :array_matching => :all) do validate do |value| raise( ArgumentError, 'projects parameter must be String or Array' ) unless [String, Array].any? { |type| value.is_a? type } end defaultto []","# [*project*] ['auth_url', 'project_name', 'username', 'password'] desc 'The slice of bandwidth that the instances with this flavor can use (through the Virtual Interface (vif) creation in the hypervisor)' newproperty(:project) do defaultto('')",52,31
openstack%2Fkolla-ansible~stable%2Fxena~Iaa6c5a092b471728eec6f89d05546091aa4b17d9,openstack/kolla-ansible,stable/xena,Iaa6c5a092b471728eec6f89d05546091aa4b17d9,docs: Remove redundant section about vagrant-vbguest,MERGED,2023-06-04 12:19:24.000000000,2023-06-05 07:57:23.000000000,2023-06-05 07:56:23.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-06-04 12:19:24.000000000', 'files': ['doc/source/contributor/vagrant-dev-env.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9ddaae1c256ae689cd4bc22285a31fb2716ef268', 'message': 'docs: Remove redundant section about vagrant-vbguest\n\nThe section just after this one says the exact same thing with more details, so\nwe can remove it.\n\nChange-Id: Iaa6c5a092b471728eec6f89d05546091aa4b17d9\n(cherry picked from commit 4ed432e0840c5f4a6be77f8a0894bcdd8670654e)\n'}]",0,885185,9ddaae1c256ae689cd4bc22285a31fb2716ef268,8,3,1,14200,,,0,"docs: Remove redundant section about vagrant-vbguest

The section just after this one says the exact same thing with more details, so
we can remove it.

Change-Id: Iaa6c5a092b471728eec6f89d05546091aa4b17d9
(cherry picked from commit 4ed432e0840c5f4a6be77f8a0894bcdd8670654e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/85/885185/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/vagrant-dev-env.rst'],1,9ddaae1c256ae689cd4bc22285a31fb2716ef268,docs-vbguest,,"If you are going to use VirtualBox, then install vagrant-vbguest: .. code-block:: console vagrant plugin install vagrant-vbguest ",0,6
openstack%2Fkolla-ansible~stable%2Fwallaby~Iaa6c5a092b471728eec6f89d05546091aa4b17d9,openstack/kolla-ansible,stable/wallaby,Iaa6c5a092b471728eec6f89d05546091aa4b17d9,docs: Remove redundant section about vagrant-vbguest,MERGED,2023-06-04 12:19:49.000000000,2023-06-05 07:57:21.000000000,2023-06-05 07:56:21.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-06-04 12:19:49.000000000', 'files': ['doc/source/contributor/vagrant-dev-env.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bfbc7368f40220e644ea6d5c15c07061b9c6122a', 'message': 'docs: Remove redundant section about vagrant-vbguest\n\nThe section just after this one says the exact same thing with more details, so\nwe can remove it.\n\nChange-Id: Iaa6c5a092b471728eec6f89d05546091aa4b17d9\n(cherry picked from commit 4ed432e0840c5f4a6be77f8a0894bcdd8670654e)\n'}]",0,885186,bfbc7368f40220e644ea6d5c15c07061b9c6122a,8,3,1,14200,,,0,"docs: Remove redundant section about vagrant-vbguest

The section just after this one says the exact same thing with more details, so
we can remove it.

Change-Id: Iaa6c5a092b471728eec6f89d05546091aa4b17d9
(cherry picked from commit 4ed432e0840c5f4a6be77f8a0894bcdd8670654e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/86/885186/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/vagrant-dev-env.rst'],1,bfbc7368f40220e644ea6d5c15c07061b9c6122a,docs-vbguest,,"If you are going to use VirtualBox, then install vagrant-vbguest: .. code-block:: console vagrant plugin install vagrant-vbguest ",0,6
openstack%2Fcharm-ceph-dashboard~stable%2Fquincy.2~I72ab8b2ec96cf78df8a84e0686a33229a6270fb3,openstack/charm-ceph-dashboard,stable/quincy.2,I72ab8b2ec96cf78df8a84e0686a33229a6270fb3,Add support for interim Ubuntu releases,ABANDONED,2023-06-05 07:29:41.000000000,2023-06-05 07:50:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-05 07:29:41.000000000', 'files': ['tests/bundles/kinetic-zed.yaml', 'osci.yaml', 'tests/bundles/lunar-antelope.yaml', 'tests/bundles/overlays/focal.yaml.j2', 'tests/bundles/jammy-antelope.yaml', 'charmcraft.yaml', 'metadata.yaml', 'tests/bundles/jammy-zed.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/ce547fa0a321ab4f691a2af967cf4345d046b14e', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: I72ab8b2ec96cf78df8a84e0686a33229a6270fb3\n(cherry picked from commit d24c6fe6f261a8c56ad259d00c8ab5eb56e0f4da)\n'}]",0,885029,ce547fa0a321ab4f691a2af967cf4345d046b14e,3,1,1,15382,,,0,"Add support for interim Ubuntu releases

- update bundles to include UCA pocket tests
- update test configuration
- update metadata to include kinetic and lunar
- update snapcraft to allow run-on for kinetic and lunar

Change-Id: I72ab8b2ec96cf78df8a84e0686a33229a6270fb3
(cherry picked from commit d24c6fe6f261a8c56ad259d00c8ab5eb56e0f4da)
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/29/885029/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/kinetic-zed.yaml', 'osci.yaml', 'tests/bundles/lunar-antelope.yaml', 'tests/bundles/overlays/focal.yaml.j2', 'tests/bundles/jammy-antelope.yaml', 'charmcraft.yaml', 'metadata.yaml', 'tests/bundles/jammy-zed.yaml']",8,ce547fa0a321ab4f691a2af967cf4345d046b14e,ceph-lunar-stable/quincy.2,"local_overlay_enabled: False series: jammy variables: openstack-origin: &openstack-origin cloud:jammy-zed applications: ceph-osd: charm: ch:ceph-osd num_units: 6 storage: osd-devices: 'cinder,10G' options: osd-devices: '/dev/test-non-existent' source: *openstack-origin channel: quincy/edge ceph-mon: charm: ch:ceph-mon num_units: 3 options: monitor-count: '3' source: *openstack-origin channel: quincy/edge vault: num_units: 1 charm: ch:vault channel: latest/edge mysql-innodb-cluster: charm: ch:mysql-innodb-cluster constraints: mem=3072M num_units: 3 channel: latest/edge vault-mysql-router: charm: ch:mysql-router channel: latest/edge ceph-dashboard: charm: ../../ceph-dashboard.charm options: public-hostname: 'ceph-dashboard.zaza.local' prometheus: charm: ch:prometheus2 num_units: 1 grafana: # SSL and allow_embedding are not released into cs:grafana yet, due # October 2021 charm: ch:grafana num_units: 1 options: anonymous: True install_method: snap allow_embedding: True telegraf: charm: telegraf channel: stable options: hostname: ""{host}"" prometheus-alertmanager: charm: ch:prometheus-alertmanager num_units: 1 ceph-radosgw: charm: ch:ceph-radosgw num_units: 3 channel: quincy/edge ceph-fs: charm: ch:ceph-fs num_units: 1 channel: quincy/edge ceph-iscsi: charm: ch:ceph-iscsi num_units: 2 options: gateway-metadata-pool: iscsi-foo-metadata channel: quincy/edge relations: - - 'ceph-osd:mon' - 'ceph-mon:osd' - - 'vault:shared-db' - 'vault-mysql-router:shared-db' - - 'vault-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'ceph-dashboard:dashboard' - 'ceph-mon:dashboard' - - 'ceph-dashboard:certificates' - 'vault:certificates' - - 'ceph-mon:prometheus' - 'prometheus:target' - - 'grafana:grafana-source' - 'prometheus:grafana-source' - - 'grafana:certificates' - 'vault:certificates' - - 'ceph-osd:juju-info' - 'telegraf:juju-info' - - 'ceph-mon:juju-info' - 'telegraf:juju-info' - - 'telegraf:prometheus-client' - 'prometheus:target' - - 'telegraf:dashboards' - 'grafana:dashboards' - - 'ceph-dashboard:grafana-dashboard' - 'grafana:dashboards' - - 'ceph-dashboard:alertmanager-service' - 'prometheus-alertmanager:alertmanager-service' - - 'ceph-dashboard:prometheus' - 'prometheus:website' - - 'prometheus:alertmanager-service' - 'prometheus-alertmanager:alertmanager-service' - - 'ceph-radosgw:mon' - 'ceph-mon:radosgw' - - 'ceph-radosgw:certificates' - 'vault:certificates' - - 'ceph-dashboard:radosgw-dashboard' - 'ceph-radosgw:radosgw-user' - - 'ceph-mon:mds' - 'ceph-fs:ceph-mds' - - 'ceph-mon:client' - 'ceph-iscsi:ceph-client' - - 'vault:certificates' - 'ceph-iscsi:certificates' - - 'ceph-dashboard:iscsi-dashboard' - 'ceph-iscsi:admin-access' ",,458,1
openstack%2Fkolla-ansible~stable%2Fzed~Iaa6c5a092b471728eec6f89d05546091aa4b17d9,openstack/kolla-ansible,stable/zed,Iaa6c5a092b471728eec6f89d05546091aa4b17d9,docs: Remove redundant section about vagrant-vbguest,MERGED,2023-06-04 12:18:37.000000000,2023-06-05 07:45:36.000000000,2023-06-05 07:44:29.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-06-04 12:18:37.000000000', 'files': ['doc/source/contributor/vagrant-dev-env.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/88f80d07f82dd655093fd8c67421938a8388da17', 'message': 'docs: Remove redundant section about vagrant-vbguest\n\nThe section just after this one says the exact same thing with more details, so\nwe can remove it.\n\nChange-Id: Iaa6c5a092b471728eec6f89d05546091aa4b17d9\n(cherry picked from commit 4ed432e0840c5f4a6be77f8a0894bcdd8670654e)\n'}]",0,885183,88f80d07f82dd655093fd8c67421938a8388da17,8,3,1,14200,,,0,"docs: Remove redundant section about vagrant-vbguest

The section just after this one says the exact same thing with more details, so
we can remove it.

Change-Id: Iaa6c5a092b471728eec6f89d05546091aa4b17d9
(cherry picked from commit 4ed432e0840c5f4a6be77f8a0894bcdd8670654e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/83/885183/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/vagrant-dev-env.rst'],1,88f80d07f82dd655093fd8c67421938a8388da17,docs-vbguest,,"If you are going to use VirtualBox, then install vagrant-vbguest: .. code-block:: console vagrant plugin install vagrant-vbguest ",0,6
openstack%2Fkolla-ansible~stable%2F2023.1~Iaa6c5a092b471728eec6f89d05546091aa4b17d9,openstack/kolla-ansible,stable/2023.1,Iaa6c5a092b471728eec6f89d05546091aa4b17d9,docs: Remove redundant section about vagrant-vbguest,MERGED,2023-06-04 12:18:04.000000000,2023-06-05 07:45:33.000000000,2023-06-05 07:44:27.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-06-04 12:18:04.000000000', 'files': ['doc/source/contributor/vagrant-dev-env.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/28ba27ebfc829c5d0dd41e03e0dab46fc0a51ae8', 'message': 'docs: Remove redundant section about vagrant-vbguest\n\nThe section just after this one says the exact same thing with more details, so\nwe can remove it.\n\nChange-Id: Iaa6c5a092b471728eec6f89d05546091aa4b17d9\n(cherry picked from commit 4ed432e0840c5f4a6be77f8a0894bcdd8670654e)\n'}]",0,885182,28ba27ebfc829c5d0dd41e03e0dab46fc0a51ae8,8,3,1,14200,,,0,"docs: Remove redundant section about vagrant-vbguest

The section just after this one says the exact same thing with more details, so
we can remove it.

Change-Id: Iaa6c5a092b471728eec6f89d05546091aa4b17d9
(cherry picked from commit 4ed432e0840c5f4a6be77f8a0894bcdd8670654e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/82/885182/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/vagrant-dev-env.rst'],1,28ba27ebfc829c5d0dd41e03e0dab46fc0a51ae8,docs-vbguest,,"If you are going to use VirtualBox, then install vagrant-vbguest: .. code-block:: console vagrant plugin install vagrant-vbguest ",0,6
openstack%2Fkolla-ansible~stable%2Fyoga~Iaa6c5a092b471728eec6f89d05546091aa4b17d9,openstack/kolla-ansible,stable/yoga,Iaa6c5a092b471728eec6f89d05546091aa4b17d9,docs: Remove redundant section about vagrant-vbguest,MERGED,2023-06-04 12:19:02.000000000,2023-06-05 07:45:29.000000000,2023-06-05 07:44:25.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-06-04 12:19:02.000000000', 'files': ['doc/source/contributor/vagrant-dev-env.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f72ff9bc64dda08ba2d99a4f51dc873f9a087697', 'message': 'docs: Remove redundant section about vagrant-vbguest\n\nThe section just after this one says the exact same thing with more details, so\nwe can remove it.\n\nChange-Id: Iaa6c5a092b471728eec6f89d05546091aa4b17d9\n(cherry picked from commit 4ed432e0840c5f4a6be77f8a0894bcdd8670654e)\n'}]",0,885184,f72ff9bc64dda08ba2d99a4f51dc873f9a087697,8,3,1,14200,,,0,"docs: Remove redundant section about vagrant-vbguest

The section just after this one says the exact same thing with more details, so
we can remove it.

Change-Id: Iaa6c5a092b471728eec6f89d05546091aa4b17d9
(cherry picked from commit 4ed432e0840c5f4a6be77f8a0894bcdd8670654e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/84/885184/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/vagrant-dev-env.rst'],1,f72ff9bc64dda08ba2d99a4f51dc873f9a087697,docs-vbguest,,"If you are going to use VirtualBox, then install vagrant-vbguest: .. code-block:: console vagrant plugin install vagrant-vbguest ",0,6
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ib0b413bc42c17f964468c1c10665e84c9b969c17,openstack/tripleo-ansible,stable/wallaby,Ib0b413bc42c17f964468c1c10665e84c9b969c17,Fix applying sysctl kernel settings,NEW,2023-05-19 12:40:46.000000000,2023-06-05 07:12:46.000000000,,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 30073}, {'_account_id': 32926}, {'_account_id': 35707}]","[{'number': 1, 'created': '2023-05-19 12:40:46.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/tasks/main.yml', 'tripleo_ansible/roles/tripleo_kernel/vars/main.yml', 'tripleo_ansible/roles/tripleo_kernel/templates/tripleo-sysctl.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ca525ff1582651ab46d37cf0fb685cd1a2c65194', 'message': 'Fix applying sysctl kernel settings\n\nExtend the pattern used for merging edpm_kernel_modules and\nedpm_kernel_extra_modules, for edpm_kernel_sysctl_settings and\nedpm_kernel_sysctl_extra_settings.\n\nProvide a cleaner and consistend with ketnel modules user interface,\nfor systcl overrides as well. Merge it with t-h-t opinionated extra\nsysctl defaults that we ship with t-h-t defaults, now for that\nstandalone ansible role as well.\n\nFix the missing combine() logic for the existing sysctl role defaults\nand extras in role vars. Define opnionated defaults in the role\nvars instead of splitting them into different places in the ansible\nrole vars/defaults and t-h-t overrides (which still can be used to\noverride things).\n\nChange-Id: Ib0b413bc42c17f964468c1c10665e84c9b969c17\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",6,883659,ca525ff1582651ab46d37cf0fb685cd1a2c65194,8,7,1,6926,,,0,"Fix applying sysctl kernel settings

Extend the pattern used for merging edpm_kernel_modules and
edpm_kernel_extra_modules, for edpm_kernel_sysctl_settings and
edpm_kernel_sysctl_extra_settings.

Provide a cleaner and consistend with ketnel modules user interface,
for systcl overrides as well. Merge it with t-h-t opinionated extra
sysctl defaults that we ship with t-h-t defaults, now for that
standalone ansible role as well.

Fix the missing combine() logic for the existing sysctl role defaults
and extras in role vars. Define opnionated defaults in the role
vars instead of splitting them into different places in the ansible
role vars/defaults and t-h-t overrides (which still can be used to
override things).

Change-Id: Ib0b413bc42c17f964468c1c10665e84c9b969c17
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/59/883659/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_kernel/tasks/main.yml', 'tripleo_ansible/roles/tripleo_kernel/vars/main.yml', 'tripleo_ansible/roles/tripleo_kernel/templates/tripleo-sysctl.conf.j2']",3,ca525ff1582651ab46d37cf0fb685cd1a2c65194,,"{% for item in tripleo_kernel_sysctl_settings | combine(tripleo_kernel_sysctl_extra_settings) | dict2items(key_name='key', value_name='opt') %}","{% for item in tripleo_kernel_sysctl_settings | dict2items(key_name='key', value_name='opt') %}",71,37
openstack%2Fcharm-openstack-hypervisor~main~If0721845e31272bdf4baa20b68ba4753ac8550fe,openstack/charm-openstack-hypervisor,main,If0721845e31272bdf4baa20b68ba4753ac8550fe,[WIP] Add func tests job,NEW,2023-05-25 03:12:42.000000000,2023-06-05 05:38:13.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 03:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/d10bc3557334b4af70161c7affa88c5323c9fe11', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 2, 'created': '2023-05-25 03:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/ba41ef7942f987979f7b60f81e6eb6bf5658d982', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 3, 'created': '2023-05-25 03:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/0154c5ac74d7332931ae01641a55cf3e24009769', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 4, 'created': '2023-05-25 04:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/ba071396c6c305629edcedccd212d2ed19c24d25', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 5, 'created': '2023-05-25 05:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/bfac109b718eb803666bfe0b2ad94e922cc199de', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 6, 'created': '2023-05-25 05:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/fe8ba2e06b18707186959ed24ff7bd4890280f85', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 7, 'created': '2023-05-25 07:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/9996f80c1e04c9f5db75fcc4ca953017c773bc0d', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 8, 'created': '2023-05-25 08:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/df480795299e5097b52c0436f48bdbe10777495a', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 9, 'created': '2023-05-25 09:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/c326a46452b869cc1d8f34d2fe96c291f59ec5be', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 10, 'created': '2023-05-25 10:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/6b42ea97ca04bbe912d9148993e9aa3db1aa0e4e', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 11, 'created': '2023-05-26 01:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/25f6df0cd8fa986ca989eb11a9bcb1daff795f4b', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 12, 'created': '2023-05-26 02:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/a4ca5fbf75c3fa8323fa945c0aeae7870f0c0b7b', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 13, 'created': '2023-05-26 05:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/2580f1369505336ef3f2d567d81fdbf14979acf3', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 14, 'created': '2023-05-26 09:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/d24463229a226c43d8a961c58759ebee7014ef28', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 15, 'created': '2023-05-26 09:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/333b6fc6acc9019a85cb2f5088aeb12cd3e8d473', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 16, 'created': '2023-05-28 15:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/a807eb3bd0200692cb314667fd7b61ba3cd96fb9', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 17, 'created': '2023-06-01 12:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/93f4e2dae360a90c0119c438c18b4be60cccc1a0', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 18, 'created': '2023-06-02 05:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/7d961b731941556e45990ec718a45ac452019ab6', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 19, 'created': '2023-06-02 08:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/4392d6c2dab0af6a1c33ac4c14032db6644ca0e4', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 20, 'created': '2023-06-02 11:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/e7f0a2c51e4db9bdb2be150c207d2dfdc21e0690', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 21, 'created': '2023-06-02 11:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/320bef728a5516ffed8b9fcb257b47259daad4eb', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 22, 'created': '2023-06-02 12:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/eddba977af58e0078c1d52e60668fdd467815d76', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 23, 'created': '2023-06-02 14:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/ca9cf65bf8c60f7fed51e15ae1807e2a0436ddf7', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 24, 'created': '2023-06-03 06:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/71a617100f7021bfc657daf0c1ea91d10b8d6fb5', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 25, 'created': '2023-06-04 03:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/cf3f7bd800cfdc46b396f1f1b417e1c709b6929d', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 26, 'created': '2023-06-04 04:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/1d24c717379377b460f6659c1c4b81fc5d55be23', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 27, 'created': '2023-06-04 06:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/1b4cd9956fc53c6aeb16fd9cfe9fddc5d2b40bcc', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 28, 'created': '2023-06-05 02:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/47b60e192c1648eeee1091ef6581d8407b4d0acd', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 29, 'created': '2023-06-05 04:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/d561225a07f45760c5155f474e96e71bd854ba30', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}, {'number': 30, 'created': '2023-06-05 04:36:20.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/smoke.yaml', 'rename.sh', '.zuul.yaml', 'playbooks/charmbuild.yaml', 'playbooks/collect-run-data.yaml', 'playbooks/run-tests.yaml', 'tox.ini', 'playbooks/setup-cloud.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/faa561d04454ccfd807f774bb3a4e073800e170e', 'message': '[WIP] Add func tests job\n\nAdd functional tests by deploying openstack\nusing snap openstack.\n\nChange-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe\n'}]",2,884309,faa561d04454ccfd807f774bb3a4e073800e170e,67,2,30,10366,,,0,"[WIP] Add func tests job

Add functional tests by deploying openstack
using snap openstack.

Change-Id: If0721845e31272bdf4baa20b68ba4753ac8550fe
",git fetch https://review.opendev.org/openstack/charm-openstack-hypervisor refs/changes/09/884309/11 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/run-tests.yaml']",2,d10bc3557334b4af70161c7affa88c5323c9fe11,functest,- hosts: all tasks: - name: openstack is installed snap: name: openstack channel: yoga/edge become: true - name: juju-wait is installed snap: name: openstack classic: true become: true - name: prepare node shell: sunbeam prepare-node-script | bash -x - name: bootstrap node command: cmd: sunbeam cluster bootstrap --accept-defaults - name: wait for completion of bootstrap command: cmd: juju-wait -vw -m openstack -t 3600 -x cinder-ceph ,,28,0
openstack%2Fpuppet-manila~master~I6030c825e76d9699daf7c00c985cf37f33c7c259,openstack/puppet-manila,master,I6030c825e76d9699daf7c00c985cf37f33c7c259,Enable scenario 004 test,MERGED,2023-05-31 09:09:36.000000000,2023-06-05 05:23:15.000000000,2023-06-05 05:23:15.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 09:09:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/8596a7de60e0ea78e5009fdf41f3eab926e8667a', 'message': 'Enable scenario 004 test\n\nNow Manila is enabled in the scenario to test deployment with cephfs\nshare driver.\n\nDepends-on: https://review.opendev.org/884317\nChange-Id: I6030c825e76d9699daf7c00c985cf37f33c7c259\n'}]",1,884848,8596a7de60e0ea78e5009fdf41f3eab926e8667a,10,3,1,9816,,,0,"Enable scenario 004 test

Now Manila is enabled in the scenario to test deployment with cephfs
share driver.

Depends-on: https://review.opendev.org/884317
Change-Id: I6030c825e76d9699daf7c00c985cf37f33c7c259
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/48/884848/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8596a7de60e0ea78e5009fdf41f3eab926e8667a,manila-cephfs, - puppet-openstack-integration-jobs-scenario004,,1,0
openstack%2Fpuppet-openstack-integration~master~I60d6ce301cf714cd918becaf493eb7396ec9631a,openstack/puppet-openstack-integration,master,I60d6ce301cf714cd918becaf493eb7396ec9631a,Enable manila with cephfs driver,MERGED,2023-05-25 06:39:09.000000000,2023-06-05 02:48:39.000000000,2023-06-05 02:48:39.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 06:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d8117b80fadc37029032a17ffa013aa50464fcd4', 'message': 'WIP: Enable manila with cephfs driver\n\nChange-Id: I60d6ce301cf714cd918becaf493eb7396ec9631a\n'}, {'number': 2, 'created': '2023-05-25 06:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/84f2c929609bb7837ee09a0b8e254108dd8e77c0', 'message': 'WIP: Enable manila with cephfs driver\n\nChange-Id: I60d6ce301cf714cd918becaf493eb7396ec9631a\n'}, {'number': 3, 'created': '2023-05-25 06:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/dd423a67ade87673103caba8798a43e6770bd573', 'message': 'WIP: Enable manila with cephfs driver\n\nChange-Id: I60d6ce301cf714cd918becaf493eb7396ec9631a\n'}, {'number': 4, 'created': '2023-05-25 10:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/07fecc82156f04aa85eff8d77e26998686f72ff6', 'message': 'WIP: Enable manila with cephfs driver\n\nChange-Id: I60d6ce301cf714cd918becaf493eb7396ec9631a\n'}, {'number': 5, 'created': '2023-05-25 10:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/69e3728d2534ee7835473c49a9f253e05161e8e0', 'message': 'WIP: Enable manila with cephfs driver\n\nChange-Id: I60d6ce301cf714cd918becaf493eb7396ec9631a\n'}, {'number': 6, 'created': '2023-05-25 13:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b52b4fe40f3e5acea56290ad74d16ff68b781f44', 'message': 'WIP: Enable manila with cephfs driver\n\nChange-Id: I60d6ce301cf714cd918becaf493eb7396ec9631a\n'}, {'number': 7, 'created': '2023-05-25 13:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/be8005f41951fcb96e58c7c63209e325cdf12352', 'message': 'WIP: Enable manila with cephfs driver\n\nChange-Id: I60d6ce301cf714cd918becaf493eb7396ec9631a\n'}, {'number': 8, 'created': '2023-05-25 14:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/dcc6b37c66255a3fb3abe041ef340b00b9ad5317', 'message': 'WIP: Enable manila with cephfs driver\n\nChange-Id: I60d6ce301cf714cd918becaf493eb7396ec9631a\n'}, {'number': 9, 'created': '2023-05-26 01:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0b86f2cabd8f03a20877322258d88253e8d94be7', 'message': 'WIP: Enable manila with cephfs driver\n\nChange-Id: I60d6ce301cf714cd918becaf493eb7396ec9631a\n'}, {'number': 10, 'created': '2023-05-26 02:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a2f63c9ff7a47a3b5d04eec2223f2ee969b5a60c', 'message': 'Enable manila with cephfs driver\n\nThis enables manila with cephfs backend in scenario 004 test.\n\nChange-Id: I60d6ce301cf714cd918becaf493eb7396ec9631a\n'}, {'number': 11, 'created': '2023-05-26 08:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5017f9499271d7a2c9aed65edcd047c34afa2938', 'message': 'Enable manila with cephfs driver\n\nThis enables manila with cephfs backend in scenario 004 test.\n\nDepends-on: https://review.opendev.org/884461\nChange-Id: I60d6ce301cf714cd918becaf493eb7396ec9631a\n'}, {'number': 12, 'created': '2023-05-26 08:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e9c6dbd3dbf7646b490bdcb8556adcb10cd6b3c4', 'message': 'Enable manila with cephfs driver\n\nThis enables manila with cephfs backend in scenario 004 test.\n\nDepends-on: https://review.opendev.org/884461\nChange-Id: I60d6ce301cf714cd918becaf493eb7396ec9631a\n'}, {'number': 13, 'created': '2023-05-29 13:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4d845d4ad73a7f80b72b640446178dc7c793dc63', 'message': 'Enable manila with cephfs driver\n\nThis enables manila with cephfs backend in scenario 004 test.\n\nDepends-on: https://review.opendev.org/884461\nChange-Id: I60d6ce301cf714cd918becaf493eb7396ec9631a\n'}, {'number': 14, 'created': '2023-05-29 16:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/050b785e5f13b1507dabc93939f7b6dc9aae2b9e', 'message': 'Enable manila with cephfs driver\n\nThis enables manila with cephfs backend in scenario 004 test.\n\nDepends-on: https://review.opendev.org/884461\nChange-Id: I60d6ce301cf714cd918becaf493eb7396ec9631a\n'}, {'number': 15, 'created': '2023-05-30 01:14:52.000000000', 'files': ['manifests/ceph.pp', 'run_tests.sh', 'fixtures/scenario004.pp', 'copy_logs.sh', 'manifests/manila.pp', 'README.md'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/85937d46661a35d1c9ea5db877fc2d995f763060', 'message': 'Enable manila with cephfs driver\n\nThis enables manila with cephfs backend in scenario 004 test.\n\nDepends-on: https://review.opendev.org/884461\nChange-Id: I60d6ce301cf714cd918becaf493eb7396ec9631a\n'}]",7,884317,85937d46661a35d1c9ea5db877fc2d995f763060,49,3,15,9816,,,0,"Enable manila with cephfs driver

This enables manila with cephfs backend in scenario 004 test.

Depends-on: https://review.opendev.org/884461
Change-Id: I60d6ce301cf714cd918becaf493eb7396ec9631a
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/17/884317/8 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/ceph.pp', 'fixtures/scenario004.pp', 'manifests/manila.pp']",3,d8117b80fadc37029032a17ffa013aa50464fcd4,manila-cephfs," 'cephfsnative': { manila::backend::cephfs { 'cephfsnative': cephfs_conf_path => '/etc/ceph/ceph.conf', } Exec<| tag == 'create-cephfs' |> -> Anchor['manila::service::begin'] }",,40,7
openstack%2Fnova~master~Ia3c0141bab982209f3113291bb953521295ed3ef,openstack/nova,master,Ia3c0141bab982209f3113291bb953521295ed3ef,"Re-enable ""test_tagged_attachment"" test.",NEW,2023-03-07 09:07:12.000000000,2023-06-05 02:09:48.000000000,,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-03-07 09:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2572dede727faaadaf7f6463ec61fa1ac7b5ad3e', 'message': 'DNM: Checking reliability of ""test_tagged_attachment"" test.\n\nChange-Id: Ia3c0141bab982209f3113291bb953521295ed3ef\n'}, {'number': 2, 'created': '2023-03-09 13:04:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/194ba7d0f94a4e7a24f0080d39bf4ec97b8b750f', 'message': 'Re-enable ""test_tagged_attachment"" test.\n\nAfter the changes merged in at this patch chain: https://review.opendev.org/q/topic:wait_until_sshable_pingable, it looks like the problems that made the test fail are now fixed. After 4 runs, I have not seen the test failing, so I am confident enough to remove the filter for this test and enable it once more.\n\nCloses-Bug: #1959899\nChange-Id: Ia3c0141bab982209f3113291bb953521295ed3ef\n'}]",6,876699,194ba7d0f94a4e7a24f0080d39bf4ec97b8b750f,39,9,2,34443,,,0,"Re-enable ""test_tagged_attachment"" test.

After the changes merged in at this patch chain: https://review.opendev.org/q/topic:wait_until_sshable_pingable, it looks like the problems that made the test fail are now fixed. After 4 runs, I have not seen the test failing, so I am confident enough to remove the filter for this test and enable it once more.

Closes-Bug: #1959899
Change-Id: Ia3c0141bab982209f3113291bb953521295ed3ef
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/876699/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2572dede727faaadaf7f6463ec61fa1ac7b5ad3e,, tempest_exclude_regex: ^tempest\.(scenario\.test_network_(?!qos)|api\.compute\.admin\.test_volume_swap), tempest_exclude_regex: ^tempest\.(scenario\.test_network_(?!qos)|api\.compute\.admin\.test_volume_swap)|tempest.api.compute.servers.test_device_tagging.TaggedAttachmentsTest.test_tagged_attachment,1,1
openstack%2Fneutron~master~Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3,openstack/neutron,master,Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3,"Change RBAC relationship loading method to ""joined""",MERGED,2023-05-31 11:22:29.000000000,2023-06-04 23:32:15.000000000,2023-06-04 23:31:10.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 7730}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 31357}]","[{'number': 1, 'created': '2023-05-31 11:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe2245e1628c9bf019d29b6cbb1596881e7af96a', 'message': 'WIP == Change RBAC relationship loading method to ""joined""\n\nThis patch changes all RBAC relationship method to ""joined"". This change\nenforces that the RBAC associated registers are loaded along with the\nparent resource. The rationale of this change is to be able to control\nthe SQL query executed; the subquery cannot be directly managed by\nNeutron.\n\nIt is very usual to create the RBAC rules from one single project that\nis usually the adminitrator project. That means all RBAC rules will\nbelong to it. Before this change, the SQL subquery performed to\nretrieve the RBAC entries was this (from a network query):\n\n  SELECT networks.id AS networks_id\n  FROM networks LEFT OUTER JOIN networkrbacs ON networks.id =\n  networkrbacs.object_id\n  WHERE networks.project_id = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.action = \'access_as_external\'\n    AND networkrbacs.target_project = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.target_project = \'*\'\n    OR networks.project_id = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.action IN (\'access_as_shared\', \'access_as_readonly\')\n    AND (networkrbacs.target_project = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.target_project = \'*\');\n\nThis SQL result has a very low cardinality; that means there are many\nduplicated registers. For example, with 10 external network, 1000\nprojects and 2500 RBAC rules, this query returns 1.4 million rows.\nInstead if a ""GROUP BY resource_id"" (in this case network_id) clause is\nadded, the number of rows is reduced to 10 (considering this project\nhas a RBAC per network).\n\nIn order to introduce this ""GROUP BY"" clause, this patch is changing\nthe loading method. The clause is added in a neutron-lib patch [1].\n\nThis change by itself does not improve the query performance. The\nneutron-lib patch is needed too. Although this patch does not modify\nque SQL query results, the tests added will prove that the neutron-lib\npatch does not introduce any regression.\n\n[1] (to be added)\n\nCloses-Bug: #1918145\nChange-Id: Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3\n'}, {'number': 2, 'created': '2023-05-31 14:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a2a9c994e80896d37cccbf7f4579c434abdc8686', 'message': 'Change RBAC relationship loading method to ""joined""\n\nThis patch changes all RBAC relationship method to ""joined"". This change\nenforces that the RBAC associated registers are loaded along with the\nparent resource. The rationale of this change is to be able to control\nthe SQL query executed; the subquery cannot be directly managed by\nNeutron.\n\nIt is very usual to create the RBAC rules from one single project that\nis usually the adminitrator project. That means all RBAC rules will\nbelong to it. Before this change, the SQL subquery performed to\nretrieve the RBAC entries was this (from a network query):\n\n  SELECT networks.id AS networks_id\n  FROM networks LEFT OUTER JOIN networkrbacs ON networks.id =\n  networkrbacs.object_id\n  WHERE networks.project_id = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.action = \'access_as_external\'\n    AND networkrbacs.target_project = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.target_project = \'*\'\n    OR networks.project_id = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.action IN (\'access_as_shared\', \'access_as_readonly\')\n    AND (networkrbacs.target_project = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.target_project = \'*\');\n\nThis SQL result has a very low cardinality; that means there are many\nduplicated registers. For example, with 10 external network, 1000\nprojects and 2500 RBAC rules, this query returns 1.4 million rows.\nInstead if a ""GROUP BY resource_id"" (in this case network_id) clause is\nadded, the number of rows is reduced to 10 (considering this project\nhas a RBAC per network).\n\nIn order to introduce this ""GROUP BY"" clause, this patch is changing\nthe loading method. The clause is added in a neutron-lib patch [1].\n\nThis change by itself does not improve the query performance. The\nneutron-lib patch is needed too. Although this patch does not modify\nque SQL query results, the tests added will prove that the neutron-lib\npatch does not introduce any regression.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/884878\n\nCloses-Bug: #1918145\nChange-Id: Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3\n'}, {'number': 3, 'created': '2023-05-31 15:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f9d32d0fe6fffbd7dd8235e3650c597dcadee95', 'message': 'Change RBAC relationship loading method to ""joined""\n\nThis patch changes all RBAC relationship method to ""joined"". This change\nenforces that the RBAC associated registers are loaded along with the\nparent resource. The rationale of this change is to be able to control\nthe SQL query executed; the subquery cannot be directly managed by\nNeutron.\n\nIt is very usual to create the RBAC rules from one single project that\nis usually the adminitrator project. That means all RBAC rules will\nbelong to it. Before this change, the SQL subquery performed to\nretrieve the RBAC entries was this (from a network query):\n\n  SELECT networks.id AS networks_id\n  FROM networks LEFT OUTER JOIN networkrbacs ON networks.id =\n  networkrbacs.object_id\n  WHERE networks.project_id = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.action = \'access_as_external\'\n    AND networkrbacs.target_project = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.target_project = \'*\'\n    OR networks.project_id = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.action IN (\'access_as_shared\', \'access_as_readonly\')\n    AND (networkrbacs.target_project = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.target_project = \'*\');\n\nThis SQL result has a very low cardinality; that means there are many\nduplicated registers. For example, with 10 external network, 1000\nprojects and 2500 RBAC rules, this query returns 1.4 million rows.\nInstead if a ""GROUP BY resource_id"" (in this case network_id) clause is\nadded, the number of rows is reduced to 10 (considering this project\nhas a RBAC per network).\n\nIn order to introduce this ""GROUP BY"" clause, this patch is changing\nthe loading method. The clause is added in a neutron-lib patch [1].\n\nThis change by itself does not improve the query performance. The\nneutron-lib patch is needed too. Although this patch does not modify\nque SQL query results, the tests added will prove that the neutron-lib\npatch does not introduce any regression.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/884878\n\nCloses-Bug: #1918145\nChange-Id: Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3\n'}, {'number': 4, 'created': '2023-06-01 10:00:58.000000000', 'files': ['neutron/db/qos/models.py', 'neutron/tests/unit/objects/test_securitygroup.py', 'neutron/db/models/address_group.py', 'neutron/db/models/securitygroup.py', 'neutron/db/models/address_scope.py', 'neutron/tests/unit/objects/test_address_group.py', 'neutron/db/models_v2.py', 'neutron/tests/unit/objects/test_rbac.py', 'neutron/tests/unit/objects/test_address_scope.py', 'neutron/tests/unit/objects/test_subnetpool.py', 'neutron/tests/unit/objects/test_network.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9da29d16c474822c015996cf34e40005419146a', 'message': 'Change RBAC relationship loading method to ""joined""\n\nThis patch changes all RBAC relationship method to ""joined"". This change\nenforces that the RBAC associated registers are loaded along with the\nparent resource. The rationale of this change is to be able to control\nthe SQL query executed; the subquery cannot be directly managed by\nNeutron.\n\nIt is very usual to create the RBAC rules from one single project that\nis usually the adminitrator project. That means all RBAC rules will\nbelong to it. Before this change, the SQL subquery performed to\nretrieve the RBAC entries was this (from a network query):\n\n  SELECT networks.id AS networks_id\n  FROM networks LEFT OUTER JOIN networkrbacs ON networks.id =\n  networkrbacs.object_id\n  WHERE networks.project_id = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.action = \'access_as_external\'\n    AND networkrbacs.target_project = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.target_project = \'*\'\n    OR networks.project_id = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.action IN (\'access_as_shared\', \'access_as_readonly\')\n    AND (networkrbacs.target_project = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.target_project = \'*\');\n\nThis SQL result has a very low cardinality; that means there are many\nduplicated registers. For example, with 10 external network, 1000\nprojects and 2500 RBAC rules, this query returns 1.4 million rows.\nInstead if a ""GROUP BY resource_id"" (in this case network_id) clause is\nadded, the number of rows is reduced to 10 (considering this project\nhas a RBAC per network).\n\nIn order to introduce this ""GROUP BY"" clause, this patch is changing\nthe loading method. The clause is added in a neutron-lib patch [1].\n\nThis change by itself does not improve the query performance. The\nneutron-lib patch is needed too. Although this patch does not modify\nque SQL query results, the tests added will prove that the neutron-lib\npatch does not introduce any regression.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/884878\n\nCloses-Bug: #1918145\nChange-Id: Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3\n'}]",17,884877,e9da29d16c474822c015996cf34e40005419146a,49,9,4,16688,,,0,"Change RBAC relationship loading method to ""joined""

This patch changes all RBAC relationship method to ""joined"". This change
enforces that the RBAC associated registers are loaded along with the
parent resource. The rationale of this change is to be able to control
the SQL query executed; the subquery cannot be directly managed by
Neutron.

It is very usual to create the RBAC rules from one single project that
is usually the adminitrator project. That means all RBAC rules will
belong to it. Before this change, the SQL subquery performed to
retrieve the RBAC entries was this (from a network query):

  SELECT networks.id AS networks_id
  FROM networks LEFT OUTER JOIN networkrbacs ON networks.id =
  networkrbacs.object_id
  WHERE networks.project_id = 'bd133e2c499c4bf8aeb16206e31c3c20'
    OR networkrbacs.action = 'access_as_external'
    AND networkrbacs.target_project = 'bd133e2c499c4bf8aeb16206e31c3c20'
    OR networkrbacs.target_project = '*'
    OR networks.project_id = 'bd133e2c499c4bf8aeb16206e31c3c20'
    OR networkrbacs.action IN ('access_as_shared', 'access_as_readonly')
    AND (networkrbacs.target_project = 'bd133e2c499c4bf8aeb16206e31c3c20'
    OR networkrbacs.target_project = '*');

This SQL result has a very low cardinality; that means there are many
duplicated registers. For example, with 10 external network, 1000
projects and 2500 RBAC rules, this query returns 1.4 million rows.
Instead if a ""GROUP BY resource_id"" (in this case network_id) clause is
added, the number of rows is reduced to 10 (considering this project
has a RBAC per network).

In order to introduce this ""GROUP BY"" clause, this patch is changing
the loading method. The clause is added in a neutron-lib patch [1].

This change by itself does not improve the query performance. The
neutron-lib patch is needed too. Although this patch does not modify
que SQL query results, the tests added will prove that the neutron-lib
patch does not introduce any regression.

[1]https://review.opendev.org/c/openstack/neutron-lib/+/884878

Closes-Bug: #1918145
Change-Id: Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/884877/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/qos/models.py', 'neutron/db/models/address_group.py', 'neutron/db/models/securitygroup.py', 'neutron/db/models/address_scope.py', 'neutron/db/models_v2.py']",5,fe2245e1628c9bf019d29b6cbb1596881e7af96a,bug/1918145," rbac_db_models.NetworkRBAC, lazy='joined', uselist=True, lazy='joined', lazy='joined',"," rbac_db_models.NetworkRBAC, lazy='subquery', uselist=True, lazy='subquery', lazy='subquery',",7,7
openstack%2Fcharms.openstack~stable%2Fzed~Id5fe559aab89e9f10e1d4739f24f1ccf86730824,openstack/charms.openstack,stable/zed,Id5fe559aab89e9f10e1d4739f24f1ccf86730824,Ensure default branch is stable/zed,NEW,2022-10-13 11:02:35.000000000,2023-06-04 20:20:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-13 11:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/e855b786ae00067483d6092a430a27c4062d63a6', 'message': 'Ensure default branch is stable/zed\n\nChange-Id: Id5fe559aab89e9f10e1d4739f24f1ccf86730824\n'}, {'number': 2, 'created': '2023-06-04 20:16:11.000000000', 'files': ['.gitreview', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/9279d31260626d7425e143e4166c5299f17dddd6', 'message': 'Ensure default branch is stable/zed\n\nChange-Id: Id5fe559aab89e9f10e1d4739f24f1ccf86730824\n'}]",0,861163,9279d31260626d7425e143e4166c5299f17dddd6,4,1,2,20870,,,0,"Ensure default branch is stable/zed

Change-Id: Id5fe559aab89e9f10e1d4739f24f1ccf86730824
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/63/861163/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,e855b786ae00067483d6092a430a27c4062d63a6,zed-updates,defaultbranch=stable/zed,,1,0
openstack%2Fcharms.openstack~stable%2Fantelope~I86115d05ee91cdbbd3a2501ff35a88be704beb7f,openstack/charms.openstack,stable/antelope,I86115d05ee91cdbbd3a2501ff35a88be704beb7f,Stable update for stable/antelope branch,NEW,2023-04-06 11:14:57.000000000,2023-06-04 20:17:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-04-06 11:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/4d30b71bfcfaeb5149373b7078e1f6acbae25b5b', 'message': 'Stable update for stable/antelope branch\n\n* set defaultbranch to stable/anetelope\n* lock down the tox.ini\n* lock down the test-requirements.txt\n\nChange-Id: I86115d05ee91cdbbd3a2501ff35a88be704beb7f\n'}, {'number': 2, 'created': '2023-06-04 20:14:20.000000000', 'files': ['.gitreview', 'test-requirements.txt', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/c1f9f986d1b97b4b22d68dded79756889cb40588', 'message': 'Stable update for stable/antelope branch\n\n* set defaultbranch to stable/anetelope\n* lock down the tox.ini\n* lock down the test-requirements.txt\n\nChange-Id: I86115d05ee91cdbbd3a2501ff35a88be704beb7f\n'}]",0,879735,c1f9f986d1b97b4b22d68dded79756889cb40588,4,1,2,20870,,,0,"Stable update for stable/antelope branch

* set defaultbranch to stable/anetelope
* lock down the tox.ini
* lock down the test-requirements.txt

Change-Id: I86115d05ee91cdbbd3a2501ff35a88be704beb7f
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/35/879735/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'tox.ini']",3,4d30b71bfcfaeb5149373b7078e1f6acbae25b5b,,requires = tox<5 setuptools<68 pip<24,,47,9
openstack%2Fglance-tempest-plugin~master~I59535af0ec77793cee633638d9f5ec659d2972d3,openstack/glance-tempest-plugin,master,I59535af0ec77793cee633638d9f5ec659d2972d3,[DOWNSTREAM ONLY] Fix assert for checking things in different project,ABANDONED,2023-06-04 18:51:42.000000000,2023-06-04 18:55:03.000000000,,[],"[{'number': 1, 'created': '2023-06-04 18:51:42.000000000', 'files': ['glance_tempest_plugin/tests/rbac/v2/metadefs/__init__.py', 'glance_tempest_plugin/tests/rbac/v2/test_project_reader_tests.py', 'glance_tempest_plugin/tests/rbac/v2/metadefs/test_objects.py', 'glance_tempest_plugin/tests/rbac/v2/metadefs/test_tags.py', 'glance_tempest_plugin/tests/rbac/v2/test_project_members_tests.py', 'glance_tempest_plugin/tests/rbac/v2/metadefs/test_resource_types.py', 'glance_tempest_plugin/tests/rbac/v2/metadefs/test_namespaces.py', 'glance_tempest_plugin/tests/rbac/v2/metadefs/test_properties.py'], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/4fe9098714c0872fd9d6b5cea0ef124ae8ff5c7d', 'message': '[DOWNSTREAM ONLY] Fix assert for checking things in different project\n\nTempest had bug where project_admin, project_member,\nand project_reader were created under new project\n(Bug# 1964509) which supposed to be created as a new\nuser with corosponding role under same project.\n\nRecently Tempest fixed that\n- https://review.opendev.org/c/openstack/tempest/+/871018\n\nglance-tempest-plugin rbac tests have assert where they\ncreate resource wiuth project_admin and try to assert\nthat created resource erturn 404 with project_member|reader.\n\nPreviously project_admin, project_member, and project_reader\nwere in different proejct so it was working but as soon\nas Tempest fixed the bug then test started failing. We\nneed to use project_alt_member|reader credentials to assert\nthe things on different projects\n\nAll metadef tests was removed and will implemented in next releases of\nglance-tempest-plugin.\n\nRelated-Bug: #1964509\n\nResolves: rhbz#2192190\nResolves: rhbz#2192191\nResolves: rhbz#2192193\nUpstream-master: https://review.opendev.org/c/openstack/glance-tempest-plugin/+/876235\nChange-Id: I59535af0ec77793cee633638d9f5ec659d2972d3\n'}]",0,885197,4fe9098714c0872fd9d6b5cea0ef124ae8ff5c7d,2,0,1,34510,,,0,"[DOWNSTREAM ONLY] Fix assert for checking things in different project

Tempest had bug where project_admin, project_member,
and project_reader were created under new project
(Bug# 1964509) which supposed to be created as a new
user with corosponding role under same project.

Recently Tempest fixed that
- https://review.opendev.org/c/openstack/tempest/+/871018

glance-tempest-plugin rbac tests have assert where they
create resource wiuth project_admin and try to assert
that created resource erturn 404 with project_member|reader.

Previously project_admin, project_member, and project_reader
were in different proejct so it was working but as soon
as Tempest fixed the bug then test started failing. We
need to use project_alt_member|reader credentials to assert
the things on different projects

All metadef tests was removed and will implemented in next releases of
glance-tempest-plugin.

Related-Bug: #1964509

Resolves: rhbz#2192190
Resolves: rhbz#2192191
Resolves: rhbz#2192193
Upstream-master: https://review.opendev.org/c/openstack/glance-tempest-plugin/+/876235
Change-Id: I59535af0ec77793cee633638d9f5ec659d2972d3
",git fetch https://review.opendev.org/openstack/glance-tempest-plugin refs/changes/97/885197/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_tempest_plugin/tests/rbac/v2/metadefs/__init__.py', 'glance_tempest_plugin/tests/rbac/v2/test_project_reader_tests.py', 'glance_tempest_plugin/tests/rbac/v2/metadefs/test_objects.py', 'glance_tempest_plugin/tests/rbac/v2/metadefs/test_tags.py', 'glance_tempest_plugin/tests/rbac/v2/metadefs/test_resource_types.py', 'glance_tempest_plugin/tests/rbac/v2/test_project_members_tests.py', 'glance_tempest_plugin/tests/rbac/v2/metadefs/test_namespaces.py', 'glance_tempest_plugin/tests/rbac/v2/metadefs/test_properties.py']",8,4fe9098714c0872fd9d6b5cea0ef124ae8ff5c7d,,,"# Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import abc from tempest.lib.common.utils import data_utils from tempest.lib import exceptions from glance_tempest_plugin.tests.rbac.v2 import base as rbac_base class MetadefV2RbacPropertiesTest(rbac_base.RbacMetadefBase): @classmethod def setup_clients(cls): super(MetadefV2RbacPropertiesTest, cls).setup_clients() if 'project_member' in cls.credentials: persona = 'project_member' alt_persona = 'project_alt_member' elif 'project_reader' in cls.credentials: persona = 'project_reader' alt_persona = 'project_alt_reader' else: persona = 'project_admin' alt_persona = 'project_alt_admin' cls.persona = getattr(cls, 'os_%s' % persona) cls.alt_persona = getattr(cls, 'os_%s' % alt_persona) cls.project_id = cls.persona.namespaces_client.project_id cls.alt_project_id = cls.alt_persona.namespaces_client.project_id cls.properties_client = cls.persona.namespace_properties_client def create_properties(self): # Create namespace for two different projects namespaces = self.create_namespaces() namespace_properties = [] for ns in namespaces: alt_client = None if ns['namespace'].startswith(self.alt_project_id): alt_client = \ self.os_project_alt_admin.namespace_properties_client client = alt_client if alt_client is None: client = self.os_project_admin.namespace_properties_client property_name = ""prop_of_%s"" % (ns['namespace']) namespace_property = client.create_namespace_property( ns['namespace'], name=property_name, title='property', type='integer') prop = {'namespace': ns, 'property': namespace_property} namespace_properties.append(prop) return namespace_properties def assertPropertyList(self, actual_prop, client, owner=None): ns = actual_prop['namespace'] if owner: if not (ns['visibility'] == 'public' or ns['owner'] == owner): resp = self.do_request('list_namespace_properties', expected_status=exceptions.NotFound, client=client, namespace=ns['namespace']) else: resp = self.do_request('list_namespace_properties', expected_status=200, client=client, namespace=ns['namespace']) self.assertEqual(actual_prop['property']['name'], [*resp['properties']][0]) else: resp = self.do_request('list_namespace_properties', expected_status=200, client=client, namespace=ns['namespace']) self.assertEqual(actual_prop['property']['name'], [*resp['properties']][0]) class MetadefV2RbacPropertiesTemplate(metaclass=abc.ABCMeta): @abc.abstractmethod def test_create_property(self): """"""Test add_metadef_property policy."""""" pass @abc.abstractmethod def test_get_properties(self): """"""Test get_metadef_property policy."""""" pass @abc.abstractmethod def test_list_properties(self): """"""Test list_metadef_properties policy."""""" pass @abc.abstractmethod def test_update_properties(self): """"""Test update_metadef_property policy."""""" pass @abc.abstractmethod def test_delete_properties(self): """"""Test delete_metadef_property policy."""""" pass class ProjectAdminTests(MetadefV2RbacPropertiesTest, MetadefV2RbacPropertiesTemplate): credentials = ['project_admin', 'project_alt_admin', 'primary'] def test_create_property(self): # As this is been covered in other tests for admin role, # skipping to test only create properties separately. pass def test_get_properties(self): ns_properties = self.create_properties() # Get all metadef properties with admin role of 'project' for prop in ns_properties: resp = self.do_request( 'show_namespace_properties', expected_status=200, client=self.properties_client, namespace=prop['namespace']['namespace'], property_name=prop['property']['name']) self.assertEqual(prop['property'], resp) def test_list_properties(self): ns_properties = self.create_properties() # list all metadef properties with admin role of 'project' for prop in ns_properties: self.assertPropertyList(prop, self.properties_client) def test_update_properties(self): ns_properties = self.create_properties() # update all metadef properties with admin role of 'project' for prop in ns_properties: resp = self.do_request( 'update_namespace_properties', expected_status=200, namespace=prop['namespace']['namespace'], client=self.properties_client, title=""UPDATE_Property"", property_name=prop['property']['name'], name=prop['property']['name'], type=""string"") self.assertNotEqual(prop['property']['title'], resp['title']) def test_delete_properties(self): ns_properties = self.create_properties() # delete all metadef properties with admin role of 'project' for prop in ns_properties: self.do_request('delete_namespace_property', expected_status=204, namespace=prop['namespace']['namespace'], property_name=prop['property']['name'], client=self.properties_client) # Verify the property is deleted successfully self.do_request('show_namespace_properties', expected_status=exceptions.NotFound, client=self.properties_client, namespace=prop['namespace']['namespace'], property_name=prop['property']['name']) class ProjectMemberTests(MetadefV2RbacPropertiesTest, MetadefV2RbacPropertiesTemplate): credentials = ['project_member', 'project_alt_member', 'project_admin', 'project_alt_admin', 'primary'] def test_create_property(self): namespaces = self.create_namespaces() def assertPropertyCreate(namespace, client, owner=None): property_name = ""prop_of_%s"" % (namespace['namespace']) expected_status = exceptions.Forbidden if not (namespace['visibility'] == 'public' or namespace['owner'] == owner): expected_status = exceptions.NotFound self.do_request('create_namespace_property', expected_status=expected_status, namespace=namespace['namespace'], title=""property"", type='integer', name=property_name, client=client) # Make sure non admin role of 'project' forbidden to # create properties for namespace in namespaces: assertPropertyCreate(namespace, self.properties_client, self.project_id) def test_get_properties(self): ns_properties = self.create_properties() def assertPropertyGet(actual_prop, client, owner=None): ns = actual_prop['namespace'] expected_status = 200 if (ns['visibility'] != 'public' and ns['owner'] != owner): expected_status = exceptions.NotFound self.do_request('show_namespace_properties', expected_status=expected_status, namespace=ns['namespace'], property_name=actual_prop['property']['name'], client=client) # Get property - member role from 'project' can access all # properties of it's own & only propertys having public namespace of # 'alt_project' for prop in ns_properties: assertPropertyGet(prop, self.properties_client, self.project_id) def test_list_properties(self): ns_properties = self.create_properties() # list properties - member role from 'project' can access all # properties of it's own & only propertys having public namespace of # 'alt_project' for prop in ns_properties: self.assertPropertyList(prop, self.properties_client, self.project_id) def test_update_properties(self): ns_properties = self.create_properties() def assertPropertyUpdate(actual_prop, client, owner=None): ns = actual_prop['namespace'] expected_status = exceptions.Forbidden if (ns['visibility'] != 'public' and ns['owner'] != owner): expected_status = exceptions.NotFound self.do_request('update_namespace_properties', expected_status=expected_status, name=actual_prop['property']['name'], description=data_utils.arbitrary_string(), namespace=ns['namespace'], property_name=actual_prop['property']['name'], title=""UPDATE_Property"", type=""string"", client=client) # Make sure non admin role of 'project' not allowed to # update properties for prop in ns_properties: assertPropertyUpdate(prop, self.properties_client, self.project_id) def test_delete_properties(self): ns_properties = self.create_properties() def assertPropertyDelete(actual_prop, client, owner=None): ns = actual_prop['namespace'] expected_status = exceptions.Forbidden if (ns['visibility'] != 'public' and ns['owner'] != owner): expected_status = exceptions.NotFound self.do_request('delete_namespace_property', expected_status=expected_status, namespace=ns['namespace'], property_name=actual_prop['property']['name'], client=client) # Make sure non admin role of 'project' not allowed to # delete properties for prop in ns_properties: assertPropertyDelete(prop, self.properties_client, self.project_id) class ProjectReaderTests(ProjectMemberTests): credentials = ['project_reader', 'project_alt_reader', 'project_admin', 'project_alt_admin', 'primary'] ",655,1477
openstack%2Fpuppet-nova~master~I002419e4af20da489a3cd2bedb2acb011c8ef7ed,openstack/puppet-nova,master,I002419e4af20da489a3cd2bedb2acb011c8ef7ed,fix usage of api::api_metadata_service_name parameter,MERGED,2023-06-02 15:32:11.000000000,2023-06-04 17:02:53.000000000,2023-06-04 17:02:53.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-02 15:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c3600cea31f05a67aaf36e501dfef4049a724926', 'message': 'fix usage of api::api_metadata_service_name parameter\n\nsince we have this parameter we should use it and not rely on\nnova::params::api_metadata_service_name for decision.\n\nChange-Id: I002419e4af20da489a3cd2bedb2acb011c8ef7ed\n'}, {'number': 2, 'created': '2023-06-02 18:24:41.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0e6e17b1710d793f6fb1b9e405dcda5afc44c4d6', 'message': 'fix usage of api::api_metadata_service_name parameter\n\nsince we have this parameter we should use it and not rely on\nnova::params::api_metadata_service_name for decision.\n\nChange-Id: I002419e4af20da489a3cd2bedb2acb011c8ef7ed\n'}]",0,885149,0e6e17b1710d793f6fb1b9e405dcda5afc44c4d6,9,3,2,7888,,,0,"fix usage of api::api_metadata_service_name parameter

since we have this parameter we should use it and not rely on
nova::params::api_metadata_service_name for decision.

Change-Id: I002419e4af20da489a3cd2bedb2acb011c8ef7ed
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/49/885149/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,c3600cea31f05a67aaf36e501dfef4049a724926,fix_api_metadata_service_name," if $api_metadata_service_name { service_name => $api_metadata_service_name,"," if $::nova::params::api_metadata_service_name { service_name => $::nova::params::api_metadata_service_name,",2,2
openstack%2Fcinder~master~I06b8c363c4017adfa1ad134ad7a8a0954c005e62,openstack/cinder,master,I06b8c363c4017adfa1ad134ad7a8a0954c005e62,Fix glance metadata properties filtering,MERGED,2023-05-02 17:07:10.000000000,2023-06-04 14:52:21.000000000,2023-06-02 19:15:38.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-05-02 17:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6f7a49d0bcf24872375f6246df763873be3b04a2', 'message': 'Fix glance metadata properties filtering\n\nPrevious patch I79d70543856c01a45e2d8c083ab8df6b9c047ebc\nimplemented filtering of glance ""os_glance..."" metadata\nbut its logic overlooked the fact that the glance metadata\nto be filtered are actually in a ""properties"" sub-dict\nas adjusted by the ""_merge_volume_image_meta"" method in\ncinder/volume/api.py.\n\nThis patch re-invokes the filtering loop on\nthe ""properties"" sub-dict when it is present.\n\nNew unit test covers filtering in both cases.\n\nCloses-bug: #1945500\nChange-Id: I06b8c363c4017adfa1ad134ad7a8a0954c005e62\n'}, {'number': 2, 'created': '2023-05-03 17:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/93ad51c1097de84db591149d9a286d7126b52aa2', 'message': 'Fix glance metadata properties filtering\n\nPrevious patch I79d70543856c01a45e2d8c083ab8df6b9c047ebc\nimplemented filtering of glance ""os_glance..."" metadata\nbut its logic overlooked the fact that the glance metadata\nto be filtered are actually in a ""properties"" sub-dict\nas adjusted by the ""_merge_volume_image_meta"" method in\ncinder/volume/api.py.\n\nThis patch re-invokes the filtering loop on\nthe ""properties"" sub-dict when it is present.\n\nNew unit test covers filtering in both cases.\n\nCloses-bug: #1945500\nChange-Id: I06b8c363c4017adfa1ad134ad7a8a0954c005e62\n'}, {'number': 3, 'created': '2023-05-03 21:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9857d76717c1baa4ab989888a95314fb30bc8ccb', 'message': 'Fix glance metadata properties filtering\n\nPrevious patch I79d70543856c01a45e2d8c083ab8df6b9c047ebc\nimplemented filtering of glance ""os_glance..."" metadata\nbut its logic overlooked the fact that the glance metadata\nto be filtered are actually in a ""properties"" sub-dict\nas adjusted by the ""_merge_volume_image_meta"" method in\ncinder/volume/api.py.\n\nThis patch re-invokes the filtering loop on\nthe ""properties"" sub-dict when it is present.\n\nNew unit test covers filtering in both cases.\n\nCloses-bug: #1945500\nChange-Id: I06b8c363c4017adfa1ad134ad7a8a0954c005e62\n'}, {'number': 4, 'created': '2023-05-31 13:26:37.000000000', 'files': ['cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py', 'releasenotes/notes/bug1945500-e4df056b8be2e0ef.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b3d3f31fa325533cf8130533e955ef43b8f38189', 'message': 'Fix glance metadata properties filtering\n\nPrevious patch I79d70543856c01a45e2d8c083ab8df6b9c047ebc\nimplemented filtering of glance ""os_glance..."" metadata\nbut its logic overlooked the fact that the glance metadata\nto be filtered are actually in a ""properties"" sub-dict\nas adjusted by the ""_merge_volume_image_meta"" method in\ncinder/volume/api.py.\n\nThis patch re-invokes the filtering loop on\nthe ""properties"" sub-dict when it is present.\n\nNew unit test covers filtering in both cases.\n\nCloses-bug: #1945500\nChange-Id: I06b8c363c4017adfa1ad134ad7a8a0954c005e62\n'}]",9,882087,b3d3f31fa325533cf8130533e955ef43b8f38189,92,5,4,14567,,,0,"Fix glance metadata properties filtering

Previous patch I79d70543856c01a45e2d8c083ab8df6b9c047ebc
implemented filtering of glance ""os_glance..."" metadata
but its logic overlooked the fact that the glance metadata
to be filtered are actually in a ""properties"" sub-dict
as adjusted by the ""_merge_volume_image_meta"" method in
cinder/volume/api.py.

This patch re-invokes the filtering loop on
the ""properties"" sub-dict when it is present.

New unit test covers filtering in both cases.

Closes-bug: #1945500
Change-Id: I06b8c363c4017adfa1ad134ad7a8a0954c005e62
",git fetch https://review.opendev.org/openstack/cinder refs/changes/87/882087/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py']",2,6f7a49d0bcf24872375f6246df763873be3b04a2,," @ddt.data( # remove default keys ({""some_key"": 13, ""other_key"": ""test"", ""os_glance_key"": ""this should be removed"", ""os_glance_key2"": ""this should also be removed"", ""properties"": {""os_glance_key3"": ""this should be removed"", ""os_glance_key4"": ""this should also be removed"", ""another_key"": ""foobar""} }, None, []), # remove nothing ({""some_key"": 13, ""other_key"": ""test"", ""properties"": {""another_key"": ""foobar""}}, None, []), # custom config empty ({""some_key"": 13, ""other_key"": ""test"", ""os_glance_key"": ""this should be removed"", ""os_glance_key2"": ""this should also be removed"", ""properties"": {""os_glance_key3"": ""this should be removed"", ""os_glance_key4"": ""this should also be removed"", ""another_key"": ""foobar""} }, [], []), # custom config ({""some_key"": 13, ""other_key"": ""test"", ""os_glance_key"": ""this should be removed"", ""os_glance_key2"": ""this should also be removed"", ""properties"": {""os_glance_key3"": ""this should be removed"", ""os_glance_key4"": ""this should also be removed"", ""custom_key"": ""this should be removed"", ""another_custom_key"": ""this should also be removed"", ""another_key"": ""foobar""}, }, ['custom_key', 'another_custom_key'], ['custom_key', 'another_custom_key'])) @ddt.unpack def test_filter_out_reserved_namespaces_metadata_properties( self, metadata_for_test, config, keys_to_pop): hardcoded_keys = ['os_glance', ""img_signature""] keys_to_pop = hardcoded_keys + keys_to_pop if config: self.override_config('reserved_image_namespaces', config) expected_result = { ""some_key"": 13, ""other_key"": ""test"", ""properties"": { ""another_key"": ""foobar"" } } method_return = image_utils.filter_out_reserved_namespaces_metadata( metadata_for_test) self.assertEqual(expected_result, method_return) image_utils.LOG.debug.assert_has_calls([ mock.call(""The metadata set [%s] was filtered using the reserved "" ""name spaces [%s], and the result is [%s]."", metadata_for_test, keys_to_pop, expected_result) ])",,82,6
openstack%2Fcinder~master~Ifcd2ccc8579eea510b604d43c203bc8458334dbf,openstack/cinder,master,Ifcd2ccc8579eea510b604d43c203bc8458334dbf,DNM: Test 3par w/ volume dependency tests,NEW,2022-12-20 21:10:47.000000000,2023-06-04 13:22:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2022-12-20 21:10:47.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b0762218e844f03047a8a29e8cd626b9b25f6339', 'message': 'DNM: Test 3par w/ volume dependency tests\n\nSee if the new cinder-tempest-plugin tests demonstrate a\nfailure in the 3par driver.\n\nDepends-On: I281f881ad565e565839522ddf02057f7545c7146\nChange-Id: Ifcd2ccc8579eea510b604d43c203bc8458334dbf\n'}]",2,868246,b0762218e844f03047a8a29e8cd626b9b25f6339,28,2,1,4523,,,0,"DNM: Test 3par w/ volume dependency tests

See if the new cinder-tempest-plugin tests demonstrate a
failure in the 3par driver.

Depends-On: I281f881ad565e565839522ddf02057f7545c7146
Change-Id: Ifcd2ccc8579eea510b604d43c203bc8458334dbf
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/868246/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/hpe/hpe_3par_iscsi.py'],1,b0762218e844f03047a8a29e8cd626b9b25f6339,," VERSION = ""4.0.7"""," VERSION = ""4.0.6""",1,1
openstack%2Fkolla-ansible~master~Iaa6c5a092b471728eec6f89d05546091aa4b17d9,openstack/kolla-ansible,master,Iaa6c5a092b471728eec6f89d05546091aa4b17d9,docs: Remove redundant section about vagrant-vbguest,MERGED,2023-05-18 14:51:18.000000000,2023-06-04 12:22:41.000000000,2023-06-04 10:04:33.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-05-18 14:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0e5a60252778f763bcc268e60b7a64c0fdc25774', 'message': 'docs: Remove redundant section about vagrant-vbguest\n\nChange-Id: Iaa6c5a092b471728eec6f89d05546091aa4b17d9\n'}, {'number': 2, 'created': '2023-05-18 16:14:39.000000000', 'files': ['doc/source/contributor/vagrant-dev-env.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4ed432e0840c5f4a6be77f8a0894bcdd8670654e', 'message': 'docs: Remove redundant section about vagrant-vbguest\n\nThe section just after this one says the exact same thing with more details, so\nwe can remove it.\n\nChange-Id: Iaa6c5a092b471728eec6f89d05546091aa4b17d9\n'}]",3,883519,4ed432e0840c5f4a6be77f8a0894bcdd8670654e,12,4,2,33775,,,0,"docs: Remove redundant section about vagrant-vbguest

The section just after this one says the exact same thing with more details, so
we can remove it.

Change-Id: Iaa6c5a092b471728eec6f89d05546091aa4b17d9
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/19/883519/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/vagrant-dev-env.rst'],1,0e5a60252778f763bcc268e60b7a64c0fdc25774,docs-vbguest,,"If you are going to use VirtualBox, then install vagrant-vbguest: .. code-block:: console vagrant plugin install vagrant-vbguest ",0,6
openstack%2Fproject-config~master~I8b5fab20e948a0083d0f94ef1c18ef1c3d6f7ddf,openstack/project-config,master,I8b5fab20e948a0083d0f94ef1c18ef1c3d6f7ddf,Add nebulous/zuul-jobs,MERGED,2023-06-03 17:10:39.000000000,2023-06-04 03:08:06.000000000,2023-06-04 01:30:30.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-03 17:10:39.000000000', 'files': ['zuul/main.yaml', 'gerrit/acls/nebulous/zuul-jobs.config', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b5e236a37ece2a31959142b282cb24186439921e', 'message': 'Add nebulous/zuul-jobs\n\nChange-Id: I8b5fab20e948a0083d0f94ef1c18ef1c3d6f7ddf\n'}]",0,885177,b5e236a37ece2a31959142b282cb24186439921e,7,3,1,30491,,,0,"Add nebulous/zuul-jobs

Change-Id: I8b5fab20e948a0083d0f94ef1c18ef1c3d6f7ddf
",git fetch https://review.opendev.org/openstack/project-config refs/changes/77/885177/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/nebulous/zuul-jobs.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,b5e236a37ece2a31959142b282cb24186439921e,new-project, - nebulous/zuul-jobs,,14,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I3b053ae361980dfd89522e1ba602661cb8c86177,openstack/tripleo-heat-templates,stable/wallaby,I3b053ae361980dfd89522e1ba602661cb8c86177,multi-rhel: Added script for baremetal role transition,MERGED,2023-05-04 08:56:51.000000000,2023-06-04 01:05:32.000000000,2023-06-04 01:05:32.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-05-04 08:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/44765a640c132acd64d9b663bcb802cc2a3d2dea', 'message': 'multi-rhel: Added script for baremetal role transition\n\nScript to help modify the baremetal deployment script to\nadjust the movement of the host from minor rhel\nversion role to mayor rhel version role to\navoid misconfigurations.\n\narguments:\n  --baremetal-deployment Baremetal file to modify\n  --src-role Role source, from which role the host is\ngoing to be move from\n  --dst-role Name of the destination role\n  nodes  Hostname of the nodes to move\n\nExample:\npython baremetal_transition.py \\\n--baremetal-deployment tripleo-qe-Cloud-0-baremetal-deployment.yaml \\\ncomputehci-0 compute-1 \\\n--src-role Compute \\\n--dst-role ComputeRHEL9\n\nCo-authored-by: Daniel Bengtsson\nCo-authored-by: Lukas Bezdicka\n\nChange-Id: I3b053ae361980dfd89522e1ba602661cb8c86177\n'}, {'number': 2, 'created': '2023-05-22 14:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/31c4f37f8d2e0351501a248ed00faf45c7f7e9e0', 'message': 'multi-rhel: Added script for baremetal role transition\n\nScript to help modify the baremetal deployment script to\nadjust the movement of the host from minor rhel\nversion role to mayor rhel version role to\navoid misconfigurations.\n\narguments:\n  --baremetal-deployment Baremetal file to modify\n  --src-role Role source, from which role the host is\ngoing to be move from\n  --dst-role Name of the destination role\n  nodes  Hostname of the nodes to move\n\nExample:\npython baremetal_transition.py \\\n--baremetal-deployment tripleo-qe-Cloud-0-baremetal-deployment.yaml \\\ncomputehci-0 compute-1 \\\n--src-role Compute \\\n--dst-role ComputeRHEL9\n\nCo-authored-by: Daniel Bengtsson\nCo-authored-by: Lukas Bezdicka\n\nChange-Id: I3b053ae361980dfd89522e1ba602661cb8c86177\n'}, {'number': 3, 'created': '2023-06-01 11:13:31.000000000', 'files': ['tools/baremetal_transition.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/16f62a630d223a279b321a90c435ec75a1e09035', 'message': 'multi-rhel: Added script for baremetal role transition\n\nScript to help modify the baremetal deployment script to\nadjust the movement of the host from minor rhel\nversion role to mayor rhel version role to\navoid misconfigurations.\n\narguments:\n  --baremetal-deployment Baremetal file to modify\n  --src-role Role source, from which role the host is\ngoing to be move from\n  --dst-role Name of the destination role\n  nodes  Hostname of the nodes to move\n\nExample:\npython baremetal_transition.py \\\n--baremetal-deployment tripleo-qe-Cloud-0-baremetal-deployment.yaml \\\ncomputehci-0 compute-1 \\\n--src-role Compute \\\n--dst-role ComputeRHEL9\n\nCo-authored-by: Daniel Bengtsson\nCo-authored-by: Lukas Bezdicka\n\nChange-Id: I3b053ae361980dfd89522e1ba602661cb8c86177\n'}]",8,882242,16f62a630d223a279b321a90c435ec75a1e09035,27,5,3,31245,,,0,"multi-rhel: Added script for baremetal role transition

Script to help modify the baremetal deployment script to
adjust the movement of the host from minor rhel
version role to mayor rhel version role to
avoid misconfigurations.

arguments:
  --baremetal-deployment Baremetal file to modify
  --src-role Role source, from which role the host is
going to be move from
  --dst-role Name of the destination role
  nodes  Hostname of the nodes to move

Example:
python baremetal_transition.py \
--baremetal-deployment tripleo-qe-Cloud-0-baremetal-deployment.yaml \
computehci-0 compute-1 \
--src-role Compute \
--dst-role ComputeRHEL9

Co-authored-by: Daniel Bengtsson
Co-authored-by: Lukas Bezdicka

Change-Id: I3b053ae361980dfd89522e1ba602661cb8c86177
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/882242/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/baremetal_transition.py'],1,44765a640c132acd64d9b663bcb802cc2a3d2dea,,"# Copyright 2023 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # import argparse import copy import sys import yaml def parse_opts(argv): parser = argparse.ArgumentParser( description='Bla') parser.add_argument('--baremetal-deployment', metavar='<baremetal_file>', help=""Path to baremetal-deployment.yaml"") parser.add_argument('--src-role', metavar='<src_role>', help='role') parser.add_argument('--dst-role', metavar='<dst_role>', help='role') parser.add_argument('nodes', nargs=""+"", metavar='<node>', help='List of nodes') opts = parser.parse_args(argv[1:]) return opts opts = parse_opts(sys.argv) print(""File {} src role {} dst role {} "" ""and nodes {}"".format(opts.baremetal_deployment, opts.src_role, opts.dst_role, opts.nodes)) with open(opts.baremetal_deployment) as file: baremetal = yaml.safe_load(file.read()) role_src = None role_dst = None for role in baremetal: if role['name'] == opts.src_role: role_src = role else: if role['name'] == opts.dst_role: role_dst = role if role_src is not None: if role_dst is None: role_dst = copy.copy(role_src) role_dst['count'] = 0 role_dst['instances'] = [] role_dst['name'] = opts.dst_role baremetal.append(role_dst) for node2move in opts.nodes: for node in role_src['instances']: if (node['hostname'] == node2move): role_dst['count'] = role_dst['count'] + 1 role_dst['instances'].append(node) role_src['instances'].remove(node) role_src['count'] = role_src['count'] - 1 if role_src is not None: with open(opts.baremetal_deployment, ""w"") as file: yaml.dump(baremetal, file) ",,72,0
openstack%2Fdiskimage-builder~master~I0b337c37421de2ff893bcd90d99f569d6551c79e,openstack/diskimage-builder,master,I0b337c37421de2ff893bcd90d99f569d6551c79e,fedora: don't use CI mirrors,MERGED,2023-05-22 10:31:02.000000000,2023-06-03 23:15:16.000000000,2023-06-01 20:05:39.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-22 10:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4d2be48f3fe3ab34cef52a4a4e5a50800041dfce', 'message': ""fedora: don't use CI mirrors\n\nOpenDev has removed Fedora from the mirror AFS volumes.  Don't try to\nuse it during build.\n\nChange-Id: I0b337c37421de2ff893bcd90d99f569d6551c79e\n""}, {'number': 2, 'created': '2023-05-23 22:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/17ee82d66268316177001947c4099d65a2085b07', 'message': ""fedora: don't use CI mirrors\n\nOpenDev has removed Fedora from the mirror AFS volumes.  Don't try to\nuse it during build.\n\nChange-Id: I0b337c37421de2ff893bcd90d99f569d6551c79e\n""}, {'number': 3, 'created': '2023-05-29 10:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9ddf649b5cfd13427c1fcaf2284edf3486f8c66d', 'message': ""fedora: don't use CI mirrors\n\nOpenDev has removed Fedora from the mirror AFS volumes.  Don't try to\nuse it during build.\n\nChange-Id: I0b337c37421de2ff893bcd90d99f569d6551c79e\n""}, {'number': 4, 'created': '2023-05-29 10:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7db1a2623d95a23137d72a102ed2bfad9f256ca5', 'message': ""fedora: don't use CI mirrors\n\nOpenDev has removed Fedora from the mirror AFS volumes.  Don't try to\nuse it during build.\n\nChange-Id: I0b337c37421de2ff893bcd90d99f569d6551c79e\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 5, 'created': '2023-05-29 12:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/93bbf74c4183dbbe7d0dfd724a1c40538e62ecfe', 'message': ""fedora: don't use CI mirrors\n\nOpenDev has removed Fedora from the mirror AFS volumes.  Don't try to\nuse it during build.\n\nAlso, since we use cURL with -L option (redirect to the actual mirror)\nto get the SUBRELEASE we should use that mirror later for downloads.\n\nCo-authored-by: Ian Wienand <iwienand@redhat.com>\nChange-Id: I0b337c37421de2ff893bcd90d99f569d6551c79e\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 6, 'created': '2023-05-29 14:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/45e41984b8f0bcec993fbff98ffd2fe382268f43', 'message': ""fedora: don't use CI mirrors\n\nOpenDev has removed Fedora from the mirror AFS volumes.  Don't try to\nuse it during build.\n\nAlso, since we use cURL with -L option (redirect to the actual mirror)\nto get the SUBRELEASE we should use that mirror later for downloads.\n\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/884632\nCo-authored-by: Ian Wienand <iwienand@redhat.com>\nChange-Id: I0b337c37421de2ff893bcd90d99f569d6551c79e\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 7, 'created': '2023-05-29 19:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4c468e249926986df157e10d1dee8fccdc9daaff', 'message': ""fedora: don't use CI mirrors\n\nOpenDev has removed Fedora from the mirror AFS volumes.  Don't try to\nuse it during build.\n\nAlso, since we use cURL with -L option (redirect to the actual mirror)\nto get the SUBRELEASE we should use that mirror later for downloads.\n\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/884632\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/884642\nCo-authored-by: Ian Wienand <iwienand@redhat.com>\nChange-Id: I0b337c37421de2ff893bcd90d99f569d6551c79e\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 8, 'created': '2023-05-29 21:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d5ba4cd46d0b124176793658affe7cfb2e9d736f', 'message': ""fedora: don't use CI mirrors\n\nOpenDev has removed Fedora from the mirror AFS volumes.  Don't try to\nuse it during build.\n\nAlso, since we use cURL with -L option (redirect to the actual mirror)\nto get the SUBRELEASE we should use that mirror later for downloads.\n\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/884632\nCo-authored-by: Ian Wienand <iwienand@redhat.com>\nChange-Id: I0b337c37421de2ff893bcd90d99f569d6551c79e\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 9, 'created': '2023-05-30 19:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6844575b56c38457e8a26be55767b3a5f2d06a2d', 'message': ""fedora: don't use CI mirrors\n\nOpenDev has removed Fedora from the mirror AFS volumes.  Don't try to\nuse it during build.\n\nAlso, since we use cURL with -L option (redirect to the actual mirror)\nto get the SUBRELEASE we should use that mirror later for downloads.\n\nCo-authored-by: Ian Wienand <iwienand@redhat.com>\nChange-Id: I0b337c37421de2ff893bcd90d99f569d6551c79e\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 10, 'created': '2023-06-01 17:11:49.000000000', 'files': ['roles/dib-setup-gate-mirrors/tasks/main.yaml', 'roles/dib-setup-gate-mirrors/templates/fedora-minimal/default/fedora.repo.j2', 'roles/dib-setup-gate-mirrors/templates/fedora-minimal/default/fedora-updates.repo.j2', 'diskimage_builder/elements/openstack-ci-mirrors/environment.d/11-dib-distribution-mirror.bash'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d8eb624e726ace3e096001413cfa97941bc07f6f', 'message': ""fedora: don't use CI mirrors\n\nOpenDev has removed Fedora from the mirror AFS volumes.  Don't try to\nuse it during build.\n\nCo-authored-by: Ian Wienand <iwienand@redhat.com>\nChange-Id: I0b337c37421de2ff893bcd90d99f569d6551c79e\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}]",27,883798,d8eb624e726ace3e096001413cfa97941bc07f6f,81,8,10,7118,,,0,"fedora: don't use CI mirrors

OpenDev has removed Fedora from the mirror AFS volumes.  Don't try to
use it during build.

Co-authored-by: Ian Wienand <iwienand@redhat.com>
Change-Id: I0b337c37421de2ff893bcd90d99f569d6551c79e
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/98/883798/9 && git format-patch -1 --stdout FETCH_HEAD,"['roles/dib-setup-gate-mirrors/templates/fedora-minimal/default/fedora-updates.repo.j2', 'roles/dib-setup-gate-mirrors/templates/fedora-minimal/default/fedora.repo.j2', 'diskimage_builder/elements/openstack-ci-mirrors/environment.d/11-dib-distribution-mirror.bash']",3,4d2be48f3fe3ab34cef52a4a4e5a50800041dfce,," if [[ ""${DISTRO_NAME}"" == ""centos"" ]]; then"," if [[ ""${DISTRO_NAME}"" == ""fedora"" ]]; then if [[ -d ${DIB_OS_CI_YUM_REPOS}/fedora-minimal/${DIB_RELEASE} ]]; then export DIB_YUM_MINIMAL_BOOTSTRAP_REPOS=${DIB_OS_CI_YUM_REPOS}/fedora-minimal/${DIB_RELEASE}/yum.repos.d else export DIB_YUM_MINIMAL_BOOTSTRAP_REPOS=${DIB_OS_CI_YUM_REPOS}/fedora-minimal/default/yum.repos.d fi elif [[ ""${DISTRO_NAME}"" == ""centos"" ]]; then",1,25
openstack%2Fcinder~master~If5853979f47da44cd070f030597bd4be1f63c0c7,openstack/cinder,master,If5853979f47da44cd070f030597bd4be1f63c0c7,zuul: Extend timeout for cinder-plugin-ceph-tempest,MERGED,2023-05-24 12:42:47.000000000,2023-06-03 22:51:00.000000000,2023-06-01 23:04:09.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 29122}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-05-24 12:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d13853e600a9535c05d6df692f27d485b2ebf533', 'message': 'zuul: Extend timeout for cinder-plugin-ceph-tempest\n\nThis job is somewhat regularly bumping into the\n2h time limit, bump it to 3 hours.\n\nhttps://zuul.opendev.org/t/openstack/builds?job_name=cinder-plugin-ceph-tempest&result=TIMED_OUT&skip=0\n\nChange-Id: If5853979f47da44cd070f030597bd4be1f63c0c7\n'}, {'number': 2, 'created': '2023-05-29 23:19:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b3ddaba2724118b8729a7d01fc601e310812f2fb', 'message': 'zuul: Extend timeout for cinder-plugin-ceph-tempest\n\nThis job is somewhat regularly bumping into the\n2h time limit, bump it to 3 hours.\n\nhttps://zuul.opendev.org/t/openstack/builds?job_name=cinder-plugin-ceph-tempest&result=TIMED_OUT&skip=0\n\nChange-Id: If5853979f47da44cd070f030597bd4be1f63c0c7\n'}]",19,884194,b3ddaba2724118b8729a7d01fc601e310812f2fb,157,8,2,4523,,,0,"zuul: Extend timeout for cinder-plugin-ceph-tempest

This job is somewhat regularly bumping into the
2h time limit, bump it to 3 hours.

https://zuul.opendev.org/t/openstack/builds?job_name=cinder-plugin-ceph-tempest&result=TIMED_OUT&skip=0

Change-Id: If5853979f47da44cd070f030597bd4be1f63c0c7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/884194/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d13853e600a9535c05d6df692f27d485b2ebf533,, timeout: 10800,,1,0
openstack%2Fopenstack-manuals~master~I1ba05e8803d8483b85387efc8fbf7abf01b54d5b,openstack/openstack-manuals,master,I1ba05e8803d8483b85387efc8fbf7abf01b54d5b,Uncomment OpenStack-Ansible for 2023.1,MERGED,2023-06-01 08:50:01.000000000,2023-06-03 08:17:00.000000000,2023-06-03 07:58:19.000000000,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 08:50:01.000000000', 'files': ['www/project-data/2023.1.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/93fe8638a89b159933a00decd005303c041aa592', 'message': 'Uncomment OpenStack-Ansible for 2023.1\n\nSince OpenStack-Ansible has released for 2023.1 it makes sense to\nenable it in deployment projects section for the release.\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/884985\nChange-Id: I1ba05e8803d8483b85387efc8fbf7abf01b54d5b\n'}]",1,884987,93fe8638a89b159933a00decd005303c041aa592,8,3,1,28619,,,0,"Uncomment OpenStack-Ansible for 2023.1

Since OpenStack-Ansible has released for 2023.1 it makes sense to
enable it in deployment projects section for the release.

Depends-On: https://review.opendev.org/c/openstack/releases/+/884985
Change-Id: I1ba05e8803d8483b85387efc8fbf7abf01b54d5b
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/87/884987/1 && git format-patch -1 --stdout FETCH_HEAD,['www/project-data/2023.1.yaml'],1,93fe8638a89b159933a00decd005303c041aa592,,- name: openstack-ansible type: deployment service: OpenStack-Ansible Deployment (in LXC Containers or on Bare Metal) has_admin_guide: true has_user_guide: true has_deployment_guide: true,#- name: openstack-ansible # type: deployment # service: OpenStack-Ansible Deployment (in LXC Containers or on Bare Metal) # has_admin_guide: true # has_user_guide: true # has_deployment_guide: true,6,6
openstack%2Fsenlin~stable%2Fyoga~Ie3440cb649484f999fc37f4779d36033c96a45d7,openstack/senlin,stable/yoga,Ie3440cb649484f999fc37f4779d36033c96a45d7,Fix zuul CI,MERGED,2023-05-31 08:19:48.000000000,2023-06-03 07:24:37.000000000,2023-06-03 07:22:48.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-05-31 08:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/58cf576fdff29168511e9343454fcfcb16e689e8', 'message': 'Update deprecated zuul syntax\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\nChange-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7\n(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)\n'}, {'number': 2, 'created': '2023-06-01 09:12:37.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/senlin/commit/6129dcf21eaab752fc8c236a1548867940d89413', 'message': 'Fix zuul CI\n\nThis is squashed from two commits in order to get a passing CI.\nManually fixed tox.ini inconsistency.\n\nFirst commit:\n\nUpdate deprecated zuul syntax\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\n(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)\n\nSecond commit:\n\nFix doc failing to build properly\n\n(cherry picked from commit 83de2e97c05f9d34c059ff0d7c8680643009ebdf)\n\nChange-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7\n(cherry picked from commit b6ef17b0f787fb7a0609ba36dc13097882a6a3ff)\n'}]",1,884810,6129dcf21eaab752fc8c236a1548867940d89413,17,2,2,13252,,,0,"Fix zuul CI

This is squashed from two commits in order to get a passing CI.
Manually fixed tox.ini inconsistency.

First commit:

Update deprecated zuul syntax

Queues are now declared at the project level

https: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html
(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)

Second commit:

Fix doc failing to build properly

(cherry picked from commit 83de2e97c05f9d34c059ff0d7c8680643009ebdf)

Change-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7
(cherry picked from commit b6ef17b0f787fb7a0609ba36dc13097882a6a3ff)
",git fetch https://review.opendev.org/openstack/senlin refs/changes/10/884810/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,58cf576fdff29168511e9343454fcfcb16e689e8,fix-zuul-errors, queue: senlin, queue: senlin,1,1
openstack%2Fsenlin~stable%2Fxena~Ie3440cb649484f999fc37f4779d36033c96a45d7,openstack/senlin,stable/xena,Ie3440cb649484f999fc37f4779d36033c96a45d7,Fix zuul CI,MERGED,2023-05-31 08:53:08.000000000,2023-06-03 07:24:02.000000000,2023-06-03 07:22:08.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-05-31 08:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/654ec1a077d63f2c315d39bb87744a83077c8bec', 'message': 'Update deprecated zuul syntax\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\nChange-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7\n(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)\n'}, {'number': 2, 'created': '2023-06-01 09:13:45.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/senlin/commit/ca36924a5288818651c783b9891cbc8ea6aada7b', 'message': 'Fix zuul CI\n\nThis is squashed from two commits in order to get a passing CI.\nManually fixed tox.ini inconsistency.\n\nFirst commit:\n\nUpdate deprecated zuul syntax\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\n(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)\n\nSecond commit:\n\nFix doc failing to build properly\n\n(cherry picked from commit 83de2e97c05f9d34c059ff0d7c8680643009ebdf)\n\nChange-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7\n(cherry picked from commit b6ef17b0f787fb7a0609ba36dc13097882a6a3ff)\n'}]",1,884811,ca36924a5288818651c783b9891cbc8ea6aada7b,17,2,2,13252,,,0,"Fix zuul CI

This is squashed from two commits in order to get a passing CI.
Manually fixed tox.ini inconsistency.

First commit:

Update deprecated zuul syntax

Queues are now declared at the project level

https: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html
(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)

Second commit:

Fix doc failing to build properly

(cherry picked from commit 83de2e97c05f9d34c059ff0d7c8680643009ebdf)

Change-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7
(cherry picked from commit b6ef17b0f787fb7a0609ba36dc13097882a6a3ff)
",git fetch https://review.opendev.org/openstack/senlin refs/changes/11/884811/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,654ec1a077d63f2c315d39bb87744a83077c8bec,fix-zuul-errors, queue: senlin, queue: senlin,1,1
openstack%2Fopenstack-manuals~master~I821e249182996dfeef748ccb9480b15973d53134,openstack/openstack-manuals,master,I821e249182996dfeef748ccb9480b15973d53134,Uncomment kolla and kolla-ansible for 2023.1,MERGED,2023-06-01 12:44:46.000000000,2023-06-03 07:15:41.000000000,2023-06-03 06:42:38.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-06-01 12:44:46.000000000', 'files': ['www/project-data/2023.1.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/184daca527ae055d48bbb0add1101a78fbd41a6f', 'message': 'Uncomment kolla and kolla-ansible for 2023.1\n\nChange-Id: I821e249182996dfeef748ccb9480b15973d53134\n'}]",3,885044,184daca527ae055d48bbb0add1101a78fbd41a6f,11,4,1,23084,,,0,"Uncomment kolla and kolla-ansible for 2023.1

Change-Id: I821e249182996dfeef748ccb9480b15973d53134
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/44/885044/1 && git format-patch -1 --stdout FETCH_HEAD,['www/project-data/2023.1.yaml'],1,184daca527ae055d48bbb0add1101a78fbd41a6f,,- name: kolla type: deployment service: Providing production-ready containers and deployment tools for operating OpenStack clouds has_admin_guide: true - name: kolla-ansible service: Deploying OpenStack using Ansible in Docker Containers (kolla) type: deployment has_admin_guide: true has_user_guide: true has_deployment_guide: true,#- name: kolla # type: deployment # service: Providing production-ready containers and deployment tools for operating OpenStack clouds # has_admin_guide: true #- name: kolla-ansible # service: Deploying OpenStack using Ansible in Docker Containers (kolla) # type: deployment # has_admin_guide: true # has_user_guide: true # has_deployment_guide: true,10,10
openstack%2Fcinder~master~I09cc3986a7be614f8870f3712eb05b5adfed2425,openstack/cinder,master,I09cc3986a7be614f8870f3712eb05b5adfed2425,HPE 3PAR: Fix to use small QoS Latency value,MERGED,2023-05-09 12:04:19.000000000,2023-06-03 05:50:36.000000000,2023-06-02 14:53:34.000000000,"[{'_account_id': 4523}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 29122}, {'_account_id': 32074}]","[{'number': 1, 'created': '2023-05-09 12:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cc2fcb5b6d6961f7da5c5a8e270bed399a550059', 'message': ""HPE 3PAR: Fix to use small QoS Latency value\n\nIf QoS Latency is created with small value (less than 1; eg 0.1),\nthen during create volume, below error occurs:\n\nException: invalid literal for int() with base 10: '0.1'\n\nThis patch is submitted to handle small QoS Latency values.\n\nCloses-Bug: #2018994\nChange-Id: I09cc3986a7be614f8870f3712eb05b5adfed2425\n""}, {'number': 2, 'created': '2023-05-10 12:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5c5f1f77976cc24430f088c1a98d585c8bf12da5', 'message': ""HPE 3PAR: Fix to use small QoS Latency value\n\nIf QoS Latency is created with small value (less than 1; eg 0.1),\nthen during create volume, below error occurs:\n\nException: invalid literal for int() with base 10: '0.1'\n\nThis patch is submitted to handle small QoS Latency values.\n\nCloses-Bug: #2018994\nChange-Id: I09cc3986a7be614f8870f3712eb05b5adfed2425\n""}, {'number': 3, 'created': '2023-05-15 10:56:19.000000000', 'files': ['releasenotes/notes/hpe-3par-small-qos-latency-values-d5fa70a605b04335.yaml', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5546b135974491fd331bd0629d28f81262cdd3de', 'message': ""HPE 3PAR: Fix to use small QoS Latency value\n\nIf QoS Latency is created with small value (less than 1; eg 0.1),\nthen during create volume, below error occurs:\n\nException: invalid literal for int() with base 10: '0.1'\n\nThis patch is submitted to handle small QoS Latency values.\n\nCloses-Bug: #2018994\nChange-Id: I09cc3986a7be614f8870f3712eb05b5adfed2425\n""}]",21,882266,5546b135974491fd331bd0629d28f81262cdd3de,184,5,3,29122,,,0,"HPE 3PAR: Fix to use small QoS Latency value

If QoS Latency is created with small value (less than 1; eg 0.1),
then during create volume, below error occurs:

Exception: invalid literal for int() with base 10: '0.1'

This patch is submitted to handle small QoS Latency values.

Closes-Bug: #2018994
Change-Id: I09cc3986a7be614f8870f3712eb05b5adfed2425
",git fetch https://review.opendev.org/openstack/cinder refs/changes/66/882266/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/hpe-3par-small-qos-latency-values-d5fa70a605b04335.yaml', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py']",3,cc2fcb5b6d6961f7da5c5a8e270bed399a550059,I09cc3986a7be614f8870f3712eb05b5adfed2425," # latency could be values like 2, 5, etc or # small values like 0.1, 0.02, etc. # we are converting to float so that 0.1 doesn't become 0 latency = float(latency) if latency >= 1: # by default, latency in millisecs qosRule['latencyGoal'] = int(latency) else: # latency < 1 Eg. 0.1, 0.02, etc # convert latency to microsecs qosRule['latencyGoaluSecs'] = int(latency * 1000)", qosRule['latencyGoal'] = int(latency),26,3
openstack%2Fcharm-ceph-rbd-mirror~master~Ie133bc41bf789e07d4d777e128617b21d822de30,openstack/charm-ceph-rbd-mirror,master,Ie133bc41bf789e07d4d777e128617b21d822de30,Add Kinetic and Zed support,ABANDONED,2022-07-18 13:11:38.000000000,2023-06-02 23:39:41.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-18 13:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/90327522849b9bf64d2344e99c5bf65ed009ff48', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* rebuild for reactive charms\n* change openstack-origin/source default to zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* add run-on base for 22.10\n* drop series from metadata.yaml in favor of run-on bases\n\nChange-Id: Ie133bc41bf789e07d4d777e128617b21d822de30\n'}, {'number': 2, 'created': '2022-07-22 17:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/8a04204a28cfdf4b2f619748c3311e3e6436b480', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* rebuild for reactive charms\n* change openstack-origin/source default to zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* add run-on base for 22.10\n* drop series from metadata.yaml in favor of run-on bases\n\nChange-Id: Ie133bc41bf789e07d4d777e128617b21d822de30\n'}, {'number': 3, 'created': '2022-07-25 21:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/a1311816f8091340cefc59945391eb8b9547a1a7', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n\nChange-Id: Ie133bc41bf789e07d4d777e128617b21d822de30\n'}, {'number': 4, 'created': '2022-07-26 19:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/09a3032ca0d7dce33ee94bc16ae0954740ae3677', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n\nChange-Id: Ie133bc41bf789e07d4d777e128617b21d822de30\n'}, {'number': 5, 'created': '2022-07-26 20:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/9128d628973a2593dfb7c071a07d2959bb7daa40', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n\nChange-Id: Ie133bc41bf789e07d4d777e128617b21d822de30\n'}, {'number': 6, 'created': '2022-08-02 14:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/169954eb7f9e63510ee7c3af9f8648fe1b3cbe99', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 1.7/stable\n\nChange-Id: Ie133bc41bf789e07d4d777e128617b21d822de30\n'}, {'number': 7, 'created': '2022-08-04 16:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/9aa1bf5db0b67fe601babd2f641b95e3025aa5fc', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 1.7/stable\n\nChange-Id: Ie133bc41bf789e07d4d777e128617b21d822de30\n'}, {'number': 8, 'created': '2022-08-05 19:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/3913737bd2e0adde33d3f501d3264b1eb39596dc', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n\nChange-Id: Ie133bc41bf789e07d4d777e128617b21d822de30\n'}, {'number': 9, 'created': '2022-08-15 20:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/b60526238cc2d6ce237f4e708069788042e6347c', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n\nChange-Id: Ie133bc41bf789e07d4d777e128617b21d822de30\n'}, {'number': 10, 'created': '2022-08-17 18:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/105ba2802ab84fbec99edf5acd58b40113f49f94', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n\nChange-Id: Ie133bc41bf789e07d4d777e128617b21d822de30\n'}, {'number': 11, 'created': '2022-08-22 21:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/70a3890d168bd3c01779498343fee534b4f09fdf', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n\nChange-Id: Ie133bc41bf789e07d4d777e128617b21d822de30\n'}, {'number': 12, 'created': '2022-08-26 18:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/d790f491b7635719fbb969bd05126b6f1651954f', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n\nChange-Id: Ie133bc41bf789e07d4d777e128617b21d822de30\n'}, {'number': 13, 'created': '2022-09-12 18:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/dfd59e9f07ddcef92aea64164c7c1503723ce6d5', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n\nCo-authored-by: Chris MacNaughton <chris.macnaughton@canonical.com>\nChange-Id: Ie133bc41bf789e07d4d777e128617b21d822de30\n'}, {'number': 14, 'created': '2022-09-13 14:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/eaa41dc2bee9a421d9c685f063f38133351c9d75', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n* add poetry-core to wheelhouse\n\nCo-authored-by: Chris MacNaughton <chris.macnaughton@canonical.com>\nChange-Id: Ie133bc41bf789e07d4d777e128617b21d822de30\n'}, {'number': 15, 'created': '2022-09-15 13:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/2a5cb2a9495b4cb546630778eea63331881fb6a1', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n* add poetry-core to wheelhouse\n\nCo-authored-by: Chris MacNaughton <chris.macnaughton@canonical.com>\nChange-Id: Ie133bc41bf789e07d4d777e128617b21d822de30\n'}, {'number': 16, 'created': '2022-09-15 14:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/52f58c16559526350fb04300723fbeb460530e7f', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n* fix poetry-core addition in wheelhouse\n\nCo-authored-by: Chris MacNaughton <chris.macnaughton@canonical.com>\nChange-Id: Ie133bc41bf789e07d4d777e128617b21d822de30\n'}, {'number': 17, 'created': '2022-09-20 18:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/356fd9fcaec18c772528ea81985f83deb7f2b12f', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n* fix poetry-core addition in wheelhouse\n\nCo-authored-by: Chris MacNaughton <chris.macnaughton@canonical.com>\nChange-Id: Ie133bc41bf789e07d4d777e128617b21d822de30\n'}, {'number': 18, 'created': '2022-09-20 18:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/d956747085b10af768b8e541cd44804a59071fce', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n* fix poetry-core addition in wheelhouse\n\nCo-authored-by: Chris MacNaughton <chris.macnaughton@canonical.com>\nChange-Id: Ie133bc41bf789e07d4d777e128617b21d822de30\n'}, {'number': 19, 'created': '2022-09-20 18:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/bc44da3b352ee3e4a2aeee932c528242e6a22eea', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n* fix poetry-core addition in wheelhouse\n\nCo-authored-by: Chris MacNaughton <chris.macnaughton@canonical.com>\nChange-Id: Ie133bc41bf789e07d4d777e128617b21d822de30\n'}, {'number': 20, 'created': '2022-09-20 19:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/029e7b2da7f118de8aa6ecf514bf2ebcced9c09c', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n* fix poetry-core addition in wheelhouse\n\nCo-authored-by: Chris MacNaughton <chris.macnaughton@canonical.com>\nChange-Id: Ie133bc41bf789e07d4d777e128617b21d822de30\n'}, {'number': 21, 'created': '2023-03-06 18:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/9a8cb5e117059b1f96bca51e4795b6271b7ff9f8', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n* fix poetry-core addition in wheelhouse\n\nCo-authored-by: Chris MacNaughton <chris.macnaughton@canonical.com>\nChange-Id: Ie133bc41bf789e07d4d777e128617b21d822de30\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/809\n'}, {'number': 22, 'created': '2023-03-06 18:27:49.000000000', 'files': ['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', '.zuul.yaml', 'src/metadata.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/kinetic-zed.yaml', 'requirements.txt', 'bindep.txt', 'src/wheelhouse.txt', 'charmcraft.yaml', 'src/tests/bundles/jammy-zed.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/97e94fb6010125c664a858c2a8b5112f4387d4fa', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n* fix poetry-core addition in wheelhouse\n\nCo-authored-by: Chris MacNaughton <chris.macnaughton@canonical.com>\nChange-Id: Ie133bc41bf789e07d4d777e128617b21d822de30\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/809\n'}]",2,850173,97e94fb6010125c664a858c2a8b5112f4387d4fa,68,2,22,11805,,,0,"Add Kinetic and Zed support

* sync charm-helpers to classic charms
* change openstack-origin/source default to zed
* align testing with zed
* add new zed bundles
* add zed bundles to tests.yaml
* add zed tests to osci.yaml and .zuul.yaml
* update build-on and run-on bases
* add bindep.txt for py310
* sync tox.ini and requirements.txt for ruamel
* use charmcraft_channel 2.0/stable
* drop reactive plugin overrides
* move interface/layer env vars to charmcraft.yaml
* fix poetry-core addition in wheelhouse

Co-authored-by: Chris MacNaughton <chris.macnaughton@canonical.com>
Change-Id: Ie133bc41bf789e07d4d777e128617b21d822de30
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/809
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/73/850173/22 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', '.zuul.yaml', 'charmcraft.yaml', 'src/metadata.yaml', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/kinetic-zed.yaml']",7,90327522849b9bf64d2344e99c5bf65ed009ff48,batch-update,series: &series kinetic,series: &series impish,36,20
openstack%2Fpuppet-openstack-integration~master~I8ef37e5d23486ce18e4abb57ba26dfa5d141ffa1,openstack/puppet-openstack-integration,master,I8ef37e5d23486ce18e4abb57ba26dfa5d141ffa1,Updated from Puppet OpenStack modules constraints,MERGED,2023-06-01 02:18:58.000000000,2023-06-02 20:38:27.000000000,2023-06-02 20:38:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 02:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f02f350a6321030ced35109954109d3d2f02af9d', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I8ef37e5d23486ce18e4abb57ba26dfa5d141ffa1\n'}, {'number': 2, 'created': '2023-06-02 02:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/fb20d89d8c3e3766f078ddbbe6ad8ea469a8b8fd', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I8ef37e5d23486ce18e4abb57ba26dfa5d141ffa1\n'}, {'number': 3, 'created': '2023-06-02 07:39:07.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2c432de022b3168f048e4058e2cf5cdd3af65db2', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I8ef37e5d23486ce18e4abb57ba26dfa5d141ffa1\n'}]",0,884965,2c432de022b3168f048e4058e2cf5cdd3af65db2,11,3,3,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I8ef37e5d23486ce18e4abb57ba26dfa5d141ffa1
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/65/884965/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,f02f350a6321030ced35109954109d3d2f02af9d,openstack/puppet/constraints, :ref => 'v9.0.0', :ref => 'v8.6.0',1,1
openstack%2Fpuppet-openstack-integration~master~I6b8dc28ebc72fef460cb476075d19e0c77be0c48,openstack/puppet-openstack-integration,master,I6b8dc28ebc72fef460cb476075d19e0c77be0c48,Pin puppetlabs-stdlib to 8.6.0,MERGED,2023-06-01 01:57:11.000000000,2023-06-02 20:38:25.000000000,2023-06-02 20:38:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 01:57:11.000000000', 'files': ['external_modules.txt'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/15d0baefe925a3740ba511fa4df67dba781427f6', 'message': 'Pin puppetlabs-stdlib to 8.6.0\n\npuppetlabs-stdlib 9.0.0 was released recently but it introduced a few\nbreaking change which the dependent modules have not yet adopted to.\nAlso a lot of warning messages are observed because of multiple\ndeprecations.\n\nThis pin the module to the previous major version, until we ensure\nour modules and the dependent modules have required updates.\n\nChange-Id: I6b8dc28ebc72fef460cb476075d19e0c77be0c48\n'}]",1,884961,15d0baefe925a3740ba511fa4df67dba781427f6,9,3,1,9816,,,0,"Pin puppetlabs-stdlib to 8.6.0

puppetlabs-stdlib 9.0.0 was released recently but it introduced a few
breaking change which the dependent modules have not yet adopted to.
Also a lot of warning messages are observed because of multiple
deprecations.

This pin the module to the previous major version, until we ensure
our modules and the dependent modules have required updates.

Change-Id: I6b8dc28ebc72fef460cb476075d19e0c77be0c48
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/61/884961/1 && git format-patch -1 --stdout FETCH_HEAD,['external_modules.txt'],1,15d0baefe925a3740ba511fa4df67dba781427f6,stdlib-pin,"puppetlabs/puppetlabs-stdlib,v8.6.0",puppetlabs/puppetlabs-stdlib,1,1
openstack%2Fpuppet-openstack-integration~stable%2F2023.1~I8d54ae01488f35a70a6aeb97749765bd5edb0afa,openstack/puppet-openstack-integration,stable/2023.1,I8d54ae01488f35a70a6aeb97749765bd5edb0afa,Capture some ceph commands,MERGED,2023-06-01 08:08:28.000000000,2023-06-02 20:38:24.000000000,2023-06-02 20:38:24.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 08:08:28.000000000', 'files': ['copy_logs.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4bb24794c81994bf0ef07c2d631464b8c50ac999', 'message': 'Capture some ceph commands\n\n... so that we can review status of ceph deployment more in detail.\n\nChange-Id: I8d54ae01488f35a70a6aeb97749765bd5edb0afa\n(cherry picked from commit 49aec62c400c0e461abc52a6586a553b58e2489e)\n'}]",0,884821,4bb24794c81994bf0ef07c2d631464b8c50ac999,9,3,1,9816,,,0,"Capture some ceph commands

... so that we can review status of ceph deployment more in detail.

Change-Id: I8d54ae01488f35a70a6aeb97749765bd5edb0afa
(cherry picked from commit 49aec62c400c0e461abc52a6586a553b58e2489e)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/21/884821/1 && git format-patch -1 --stdout FETCH_HEAD,['copy_logs.sh'],1,4bb24794c81994bf0ef07c2d631464b8c50ac999,ceph-cmd,# ceph if [ `command -v ceph` ]; then mkdir $LOG_DIR/ceph-cmd sudo ceph versions > $LOG_DIR/ceph-cmd/ceph-versions.txt sudo ceph status > $LOG_DIR/ceph-cmd/ceph-status.txt sudo ceph osd tree > $LOG_DIR/ceph-cmd/ceph-osd-tree.txt sudo ceph df > $LOG_DIR/ceph-cmd/ceph-df.txt sudo ceph osd pool ls detail > $LOG_DIR/ceph-cmd/ceph-osd-pool-ls.txt sudo ceph-volume lvm list ceph_vg/lv_data > $LOG_DIR/ceph-cmd/ceph-volume-lvm-list.txt fi ,,11,0
openstack%2Fpuppet-nova~stable%2Fyoga~I8110e21e32ec49504f710f322c97faedad6c2e4a,openstack/puppet-nova,stable/yoga,I8110e21e32ec49504f710f322c97faedad6c2e4a,Prepare new stable/yoga release,MERGED,2023-06-01 13:42:50.000000000,2023-06-02 20:24:33.000000000,2023-06-02 20:24:33.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 13:42:50.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/315fd6ea236face143d2266428a9db788885efc0', 'message': ""Prepare new stable/yoga release\n\nWe recently merged the fix required to deploy nova in recent CentOS\nStream 9. Let's create a release so that users can consume the released\nversions containing the fix.\n\nChange-Id: I8110e21e32ec49504f710f322c97faedad6c2e4a\n""}]",0,885048,315fd6ea236face143d2266428a9db788885efc0,7,3,1,9816,,,0,"Prepare new stable/yoga release

We recently merged the fix required to deploy nova in recent CentOS
Stream 9. Let's create a release so that users can consume the released
versions containing the fix.

Change-Id: I8110e21e32ec49504f710f322c97faedad6c2e4a
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/48/885048/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,315fd6ea236face143d2266428a9db788885efc0,," ""version"": ""20.4.0"""," ""version"": ""20.3.0""",1,1
openstack%2Fpuppet-nova~stable%2Fzed~I90a752cc948baafa65bee60e9ecade48721e3ce7,openstack/puppet-nova,stable/zed,I90a752cc948baafa65bee60e9ecade48721e3ce7,Prepare new stable/zed release,MERGED,2023-06-01 13:42:16.000000000,2023-06-02 20:24:31.000000000,2023-06-02 20:24:31.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 13:42:16.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/39f2594155bc11e2cb425637515e5d89738433dc', 'message': ""Prepare new stable/zed release\n\nWe recently merged the fix required to deploy nova in recent CentOS\nStream 9. Let's create a release so that users can consume the released\nversions containing the fix.\n\nChange-Id: I90a752cc948baafa65bee60e9ecade48721e3ce7\n""}]",0,885047,39f2594155bc11e2cb425637515e5d89738433dc,7,3,1,9816,,,0,"Prepare new stable/zed release

We recently merged the fix required to deploy nova in recent CentOS
Stream 9. Let's create a release so that users can consume the released
versions containing the fix.

Change-Id: I90a752cc948baafa65bee60e9ecade48721e3ce7
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/47/885047/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,39f2594155bc11e2cb425637515e5d89738433dc,," ""version"": ""21.1.0"""," ""version"": ""21.0.0""",1,1
openstack%2Fpuppet-nova~stable%2Fzed~I54b1ef25eb321ee5ba8914b625982b68da6c5dd1,openstack/puppet-nova,stable/zed,I54b1ef25eb321ee5ba8914b625982b68da6c5dd1,Enable virtproxyd socket for migration,MERGED,2023-05-31 09:53:48.000000000,2023-06-02 20:24:30.000000000,2023-06-02 20:24:30.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 09:53:48.000000000', 'files': ['manifests/migration/libvirt.pp', 'spec/classes/nova_migration_libvirt_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/07b3bb8a9bd1a2c637945b9a75180bccc813eab0', 'message': 'Enable virtproxyd socket for migration\n\nIn case modular libvirt daemons are used, virtproxyd-tcp/tls.socket\nshould be enabled instead of libvirtd-tcp/tls.socket.\n\nCloses-Bug: #2012443\nChange-Id: I54b1ef25eb321ee5ba8914b625982b68da6c5dd1\n(cherry picked from commit d6b472a8b687a8e243929699b8e4874fc490f034)\n'}]",2,884813,07b3bb8a9bd1a2c637945b9a75180bccc813eab0,13,3,1,9816,,,0,"Enable virtproxyd socket for migration

In case modular libvirt daemons are used, virtproxyd-tcp/tls.socket
should be enabled instead of libvirtd-tcp/tls.socket.

Closes-Bug: #2012443
Change-Id: I54b1ef25eb321ee5ba8914b625982b68da6c5dd1
(cherry picked from commit d6b472a8b687a8e243929699b8e4874fc490f034)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/13/884813/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/migration/libvirt.pp', 'spec/classes/nova_migration_libvirt_spec.rb']",2,07b3bb8a9bd1a2c637945b9a75180bccc813eab0,bug/2012443," context 'with tls transport and modular daemons' do let :params do { :transport => 'tls', :modular_libvirt => true, } end it { is_expected.to contain_service('virtproxyd-tls').with( :name => 'virtproxyd-tls.socket', :ensure => 'running', :enable => true, )} end context 'with tcp transport and modular daemons' do let :params do { :transport => 'tcp', :modular_libvirt => true, } end it { is_expected.to contain_service('virtproxyd-tcp').with( :name => 'virtproxyd-tcp.socket', :ensure => 'running', :enable => true, )} end context 'with tls transport and modular daemons' do let :params do { :transport => 'tls', :modular_libvirt => true, } end it { is_expected.to contain_service('virtproxyd-tls').with( :name => 'virtproxyd-tls.socket', :ensure => 'running', :enable => true, )} end context 'with tcp transport and modular daemons' do let :params do { :transport => 'tcp', :modular_libvirt => true, } end it { is_expected.to contain_service('virtproxyd-tcp').with( :name => 'virtproxyd-tcp.socket', :ensure => 'running', :enable => true, )} end",,75,8
openstack%2Fkeystone~stable%2Fussuri~Ifab609fc42622c7d8f350e699275b541848f1a8a,openstack/keystone,stable/ussuri,Ifab609fc42622c7d8f350e699275b541848f1a8a,Switch stable/ussuri federation job to use ubuntu xenial,NEW,2021-02-09 15:18:05.000000000,2023-06-02 19:49:21.000000000,,"[{'_account_id': 9954}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-09 15:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8ad053a1eb0c3e1c3933137b81a13b9906add9d4', 'message': 'Switch stable/ussuri federation job to use ubuntu xenial\n\nThis is being proposed directly for stable/ussuri, since the\nchange only affects and makes sense on the stable/ussuri branch,\nand it only touches the testing infrastructure.\n\nThe opensuse base which we are currently using these tests has\nissues.\n\nChange-Id: Ifab609fc42622c7d8f350e699275b541848f1a8a\n'}, {'number': 2, 'created': '2022-07-21 14:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c395cf30f1bcd9d9f2b941b214cd736434c87765', 'message': 'Switch stable/ussuri federation job to use ubuntu xenial\n\nThis is being proposed directly for stable/ussuri, since the\nchange only affects and makes sense on the stable/ussuri branch,\nand it only touches the testing infrastructure.\n\nThe opensuse base which we are currently using these tests has\nissues.\n\nChange-Id: Ifab609fc42622c7d8f350e699275b541848f1a8a\n'}, {'number': 3, 'created': '2022-07-25 15:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/91fc2a873c09adc9b877eb64453e1fa6454613ad', 'message': 'Switch stable/ussuri federation job to use ubuntu xenial\n\nThis is being proposed directly for stable/ussuri, since the\nchange only affects and makes sense on the stable/ussuri branch,\nand it only touches the testing infrastructure.\n\nThe opensuse base which we are currently using these tests has\nissues.\n\nChange-Id: Ifab609fc42622c7d8f350e699275b541848f1a8a\n'}, {'number': 4, 'created': '2023-06-02 18:06:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e3badfe5a3f0cc64f6debb1b348ac2aff0ca89f2', 'message': 'Switch stable/ussuri federation job to use ubuntu xenial\n\nThis is being proposed directly for stable/ussuri, since the\nchange only affects and makes sense on the stable/ussuri branch,\nand it only touches the testing infrastructure.\n\nThe opensuse base which we are currently using these tests has\nissues.\n\nChange-Id: Ifab609fc42622c7d8f350e699275b541848f1a8a\n'}]",0,774678,e3badfe5a3f0cc64f6debb1b348ac2aff0ca89f2,13,2,4,16465,,,0,"Switch stable/ussuri federation job to use ubuntu xenial

This is being proposed directly for stable/ussuri, since the
change only affects and makes sense on the stable/ussuri branch,
and it only touches the testing infrastructure.

The opensuse base which we are currently using these tests has
issues.

Change-Id: Ifab609fc42622c7d8f350e699275b541848f1a8a
",git fetch https://review.opendev.org/openstack/keystone refs/changes/78/774678/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8ad053a1eb0c3e1c3933137b81a13b9906add9d4,switch_ussuri_ci_to_xenial, /var/log/shibboleth: logs - job: name: keystone-dsvm-py35-functional-federation-ubuntu-xenial-k2k parent: keystone-dsvm-py35-functional-federation-ubuntu-xenial vars: devstack_localrc: IDP_ID: k2k - keystone-dsvm-py35-functional-federation-ubuntu-xenial: - keystone-dsvm-py35-functional-federation-ubuntu-xenial-k2k: - keystone-dsvm-py35-functional-federation-ubuntu-xenial-k2k:, - keystone-dsvm-py3-functional-federation-opensuse15: - keystone-dsvm-py3-functional-federation-opensuse15-k2k: - keystone-dsvm-py3-functional-federation-opensuse15-k2k:,11,3
openstack%2Fos-brick~master~I8bac9f9a9a84d72fafff38cb3e92e0b23cc85a8f,openstack/os-brick,master,I8bac9f9a9a84d72fafff38cb3e92e0b23cc85a8f,privsep: Move luks utils to privsep,NEW,2021-05-13 15:47:08.000000000,2023-06-02 19:48:24.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 35075}]","[{'number': 1, 'created': '2021-05-13 15:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/8d28bef82db03c0429b55a15025387d5e24ea3be', 'message': ""privsep: Move luks utils to privsep\n\nOur first target for privsep'ification. This one is relatively simple.\n\nChange-Id: I8bac9f9a9a84d72fafff38cb3e92e0b23cc85a8f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-05-14 11:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/22fb44b5824aa086a75076fa7ded0230c5f4826c', 'message': ""privsep: Move luks utils to privsep\n\nOur first target for privsep'ification. With privsep in charge of\neverything, there's no longer any reason to provide a rootwrap helper or\nany way (or reason) to allow a custom executor. As such, the\n'root_helper' and 'execute' arguments of the three in-tree encryptors\nare deprecated for removal. This makes things somewhat more complex than\nthey would otherwise be but it's the only obvious way to get to a world\nwhere we don't force users to specify useless parameters.\n\nChange-Id: I8bac9f9a9a84d72fafff38cb3e92e0b23cc85a8f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2021-05-14 14:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/506b4fdaa9f5d1aacbe1f32e2ca0e1a5f1163736', 'message': ""privsep: Move luks utils to privsep\n\nOur first target for privsep'ification. With privsep in charge of\neverything, there's no longer any reason to provide a rootwrap helper or\nany way (or reason) to allow a custom executor. As such, the\n'root_helper' and 'execute' arguments of the three in-tree encryptors\nare deprecated for removal. This makes things somewhat more complex than\nthey would otherwise be but it's the only obvious way to get to a world\nwhere we don't force users to specify useless parameters.\n\nChange-Id: I8bac9f9a9a84d72fafff38cb3e92e0b23cc85a8f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2022-02-14 10:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/c121f56625bfd545afcbcdf878c4ba9f2f78f371', 'message': ""privsep: Move luks utils to privsep\n\nOur first target for privsep'ification. With privsep in charge of\neverything, there's no longer any reason to provide a rootwrap helper or\nany way (or reason) to allow a custom executor. As such, the\n'root_helper' and 'execute' arguments of the three in-tree encryptors\nare deprecated for removal. This makes things somewhat more complex than\nthey would otherwise be but it's the only obvious way to get to a world\nwhere we don't force users to specify useless parameters.\n\nChange-Id: I8bac9f9a9a84d72fafff38cb3e92e0b23cc85a8f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2022-04-08 16:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/8289418ad063001cc75ef4ac58db5bcc33102416', 'message': ""WIP: privsep: Move luks utils to privsep\n\nOur first target for privsep'ification. With privsep in charge of\neverything, there's no longer any reason to provide a rootwrap helper or\nany way (or reason) to allow a custom executor. As such, the\n'root_helper' and 'execute' arguments of the three in-tree encryptors\nare deprecated for removal. This makes things somewhat more complex than\nthey would otherwise be but it's the only obvious way to get to a world\nwhere we don't force users to specify useless parameters.\n\nWIP because we need to modify tests for\nos_brick/privileged/cryptsetup.py\n\nChange-Id: I8bac9f9a9a84d72fafff38cb3e92e0b23cc85a8f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2022-04-11 15:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/f1c0618ee0af70ca95de4c1747eed7e56baa7f4b', 'message': ""privsep: Move luks utils to privsep\n\nOur first target for privsep'ification. With privsep in charge of\neverything, there's no longer any reason to provide a rootwrap helper or\nany way (or reason) to allow a custom executor. As such, the\n'root_helper' and 'execute' arguments of the three in-tree encryptors\nare deprecated for removal. This makes things somewhat more complex than\nthey would otherwise be but it's the only obvious way to get to a world\nwhere we don't force users to specify useless parameters.\n\nChange-Id: I8bac9f9a9a84d72fafff38cb3e92e0b23cc85a8f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2022-04-11 20:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/992f043d4489b6b29645d4f0c84cb1f5241ae48f', 'message': ""privsep: Move luks utils to privsep\n\nOur first target for privsep'ification. With privsep in charge of\neverything, there's no longer any reason to provide a rootwrap helper or\nany way (or reason) to allow a custom executor. As such, the\n'root_helper' and 'execute' arguments of the three in-tree encryptors\nare deprecated for removal. This makes things somewhat more complex than\nthey would otherwise be but it's the only obvious way to get to a world\nwhere we don't force users to specify useless parameters.\n\nChange-Id: I8bac9f9a9a84d72fafff38cb3e92e0b23cc85a8f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2022-05-23 09:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d4f18f184c60a9b2f87d395ec993c449fd229fed', 'message': ""privsep: Move luks utils to privsep\n\nOur first target for privsep'ification. With privsep in charge of\neverything, there's no longer any reason to provide a rootwrap helper or\nany way (or reason) to allow a custom executor. As such, the\n'root_helper' and 'execute' arguments of the three in-tree encryptors\nare deprecated for removal. This makes things somewhat more complex than\nthey would otherwise be but it's the only obvious way to get to a world\nwhere we don't force users to specify useless parameters.\n\nChange-Id: I8bac9f9a9a84d72fafff38cb3e92e0b23cc85a8f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 9, 'created': '2022-09-07 17:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9a49e8ab6598e5d84641a1329d2d340a2f262d95', 'message': ""privsep: Move luks utils to privsep\n\nOur first target for privsep'ification. With privsep in charge of\neverything, there's no longer any reason to provide a rootwrap helper or\nany way (or reason) to allow a custom executor. As such, the\n'root_helper' and 'execute' arguments of the three in-tree encryptors\nare deprecated for removal. This makes things somewhat more complex than\nthey would otherwise be but it's the only obvious way to get to a world\nwhere we don't force users to specify useless parameters.\n\nChange-Id: I8bac9f9a9a84d72fafff38cb3e92e0b23cc85a8f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 10, 'created': '2023-05-23 09:27:07.000000000', 'files': ['os_brick/tests/encryptors/test_base.py', 'os_brick/tests/privileged/test_luks.py', 'releasenotes/notes/privsepify-74949804e4f56877.yaml', 'os_brick/tests/encryptors/test_nop.py', 'os_brick/privileged/luks.py', 'os_brick/encryptors/__init__.py', 'os_brick/encryptors/nop.py', 'os_brick/tests/encryptors/test_cryptsetup.py', 'os_brick/encryptors/base.py', 'os_brick/encryptors/luks.py', 'mypy-files.txt', 'os_brick/tests/encryptors/test_luks.py', 'os_brick/tests/privileged/test_cryptsetup.py', 'os_brick/privileged/cryptsetup.py', 'os_brick/encryptors/cryptsetup.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/3369d168f4207daad508a4274fab4cb09cc79248', 'message': ""privsep: Move luks utils to privsep\n\nOur first target for privsep'ification. With privsep in charge of\neverything, there's no longer any reason to provide a rootwrap helper or\nany way (or reason) to allow a custom executor. As such, the\n'root_helper' and 'execute' arguments of the three in-tree encryptors\nare deprecated for removal. This makes things somewhat more complex than\nthey would otherwise be but it's the only obvious way to get to a world\nwhere we don't force users to specify useless parameters.\n\nChange-Id: I8bac9f9a9a84d72fafff38cb3e92e0b23cc85a8f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",5,791274,3369d168f4207daad508a4274fab4cb09cc79248,80,4,10,15334,,,0,"privsep: Move luks utils to privsep

Our first target for privsep'ification. With privsep in charge of
everything, there's no longer any reason to provide a rootwrap helper or
any way (or reason) to allow a custom executor. As such, the
'root_helper' and 'execute' arguments of the three in-tree encryptors
are deprecated for removal. This makes things somewhat more complex than
they would otherwise be but it's the only obvious way to get to a world
where we don't force users to specify useless parameters.

Change-Id: I8bac9f9a9a84d72fafff38cb3e92e0b23cc85a8f
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/74/791274/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/privileged/luks.py', 'os_brick/tests/encryptors/test_base.py', 'os_brick/tests/privileged/test_luks.py', 'os_brick/encryptors/luks.py', 'os_brick/tests/encryptors/test_luks.py']",5,8d28bef82db03c0429b55a15025387d5e24ea3be,privsep," version = 'luks1' def setUp(self): p = mock.patch( 'os_brick.privileged.luks.is_available', return_value=False) self.mock_is_available = p.start() self.addCleanup(p.stop) @mock.patch('os_brick.privileged.luks.format_volume') def test__format_volume(self, mock_format_volume): mock_format_volume.assert_called_once_with( self.dev_path, 'passphrase', self.version, None, None) @mock.patch('os_brick.privileged.luks.open_volume') def test__open_volume(self, mock_open_volume): mock_open_volume.assert_called_once_with( self.dev_path, self.dev_name, 'passphrase') @mock.patch('os_brick.privileged.luks.replace_device_mapping') @mock.patch('os_brick.privileged.luks.open_volume') def test_attach_volume(self, mock_open, mock_update_mapping): mock_open(self.dev_path, self.dev_name, fake_key) mock_update_mapping(self.dev_name, self.symlink_path) @mock.patch('os_brick.privileged.luks.replace_device_mapping') @mock.patch('os_brick.privileged.luks.format_volume') @mock.patch('os_brick.privileged.luks.is_luks') @mock.patch('os_brick.privileged.luks.open_volume') def test_attach_volume_not_formatted( self, mock_open, mock_is_luks, mock_format, mock_update_mapping, ): # fail the first attempt to force formatting mock_open.side_effect = [ putils.ProcessExecutionError(exit_code=1), mock.DEFAULT, mock_is_luks.return_value = False mock_open.assert_has_calls([ mock.call(self.dev_path, self.dev_name, fake_key), mock.call(self.dev_path, self.dev_name, fake_key), ]) mock_is_luks.assert_called_once_with(self.dev_path) mock_format.assert_called_once_with( self.dev_path, fake_key, self.version, None, None) mock_update_mapping(self.dev_name, self.symlink_path) @mock.patch('os_brick.privileged.luks.is_luks') @mock.patch('os_brick.privileged.luks.open_volume') def test_attach_volume_fail(self, mock_open, mock_is_luks): # fail the first attempt to force formatting mock_open.side_effect = [ putils.ProcessExecutionError(exit_code=1), mock.DEFAULT, mock_is_luks.return_value = True @mock.patch('os_brick.privileged.luks.close_volume') def test__close_volume(self, mock_close_volume): mock_close_volume.assert_called_once_with(self.dev_name) @mock.patch('os_brick.encryptors.luks.LuksEncryptor._close_volume') def test_detach_volume(self, mock_close_volume): mock_close_volume.assert_called_once_with() def test_init_volume_encryption_with_old_name(self): self.mock_is_available.return_value = True def test_init_volume_encryption_with_wwn(self): self.mock_is_available.side_effect = [False, True] self.mock_is_available.assert_has_calls([ mock.call(old_dev_name), mock.call(wwn), ]) version = 'luks2' "," def setUp(self): def test_is_luks(self): luks.is_luks(self.root_helper, self.dev_path) self._execute.assert_has_calls([ mock.call('cryptsetup', 'isLuks', '--verbose', self.dev_path, run_as_root=True, root_helper=self.root_helper, check_exit_code=True), ], any_order=False) @mock.patch('os_brick.encryptors.luks.LOG') def test_is_luks_with_error(self, mock_log): error_msg = ""Device %s is not a valid LUKS device."" % self.dev_path self._execute.side_effect = putils.ProcessExecutionError( exit_code=1, stderr=error_msg) luks.is_luks(self.root_helper, self.dev_path) self._execute.assert_has_calls([ mock.call('cryptsetup', 'isLuks', '--verbose', self.dev_path, run_as_root=True, root_helper=self.root_helper, check_exit_code=True), ]) self.assertEqual(1, mock_log.warning.call_count) # warning logged def test__format_volume(self): self._execute.assert_has_calls([ mock.call('cryptsetup', '--batch-mode', 'luksFormat', '--type', 'luks1', '--key-file=-', self.dev_path, process_input='passphrase', root_helper=self.root_helper, run_as_root=True, check_exit_code=True, attempts=3), ]) def test__open_volume(self): self._execute.assert_has_calls([ mock.call('cryptsetup', 'luksOpen', '--key-file=-', self.dev_path, self.dev_name, process_input='passphrase', root_helper=self.root_helper, run_as_root=True, check_exit_code=True), ]) def test_attach_volume(self): self._execute.assert_has_calls([ mock.call('cryptsetup', 'luksOpen', '--key-file=-', self.dev_path, self.dev_name, process_input=fake_key, root_helper=self.root_helper, run_as_root=True, check_exit_code=True), mock.call('ln', '--symbolic', '--force', '/dev/mapper/%s' % self.dev_name, self.symlink_path, root_helper=self.root_helper, run_as_root=True, check_exit_code=True), ]) def test_attach_volume_not_formatted(self): self._execute.side_effect = [ putils.ProcessExecutionError(exit_code=1), # luksOpen putils.ProcessExecutionError(exit_code=1), # isLuks mock.DEFAULT, # luksFormat mock.DEFAULT, # luksOpen mock.DEFAULT, # ln self._execute.assert_has_calls([ mock.call('cryptsetup', 'luksOpen', '--key-file=-', self.dev_path, self.dev_name, process_input=fake_key, root_helper=self.root_helper, run_as_root=True, check_exit_code=True), mock.call('cryptsetup', 'isLuks', '--verbose', self.dev_path, root_helper=self.root_helper, run_as_root=True, check_exit_code=True), mock.call('cryptsetup', '--batch-mode', 'luksFormat', '--type', 'luks1', '--key-file=-', self.dev_path, process_input=fake_key, root_helper=self.root_helper, run_as_root=True, check_exit_code=True, attempts=3), mock.call('cryptsetup', 'luksOpen', '--key-file=-', self.dev_path, self.dev_name, process_input=fake_key, root_helper=self.root_helper, run_as_root=True, check_exit_code=True), mock.call('ln', '--symbolic', '--force', '/dev/mapper/%s' % self.dev_name, self.symlink_path, root_helper=self.root_helper, run_as_root=True, check_exit_code=True), ], any_order=False) def test_attach_volume_fail(self): self._execute.side_effect = [ putils.ProcessExecutionError(exit_code=1), # luksOpen mock.DEFAULT, # isLuks self._execute.assert_has_calls([ mock.call('cryptsetup', 'luksOpen', '--key-file=-', self.dev_path, self.dev_name, process_input=fake_key, root_helper=self.root_helper, run_as_root=True, check_exit_code=True), mock.call('cryptsetup', 'isLuks', '--verbose', self.dev_path, root_helper=self.root_helper, run_as_root=True, check_exit_code=True), ], any_order=False) def test__close_volume(self): self._execute.assert_has_calls([ mock.call('cryptsetup', 'luksClose', self.dev_name, root_helper=self.root_helper, attempts=3, run_as_root=True, check_exit_code=[0, 4]), ]) def test_detach_volume(self): self._execute.assert_has_calls([ mock.call('cryptsetup', 'luksClose', self.dev_name, root_helper=self.root_helper, attempts=3, run_as_root=True, check_exit_code=[0, 4]), ]) @mock.patch('os_brick.executor.Executor._execute') @mock.patch('os.path.exists', return_value=True) def test_init_volume_encryption_with_old_name(self, mock_exists, mock_execute): mock_exists.assert_called_once_with('/dev/mapper/%s' % old_dev_name) mock_execute.assert_called_once_with( 'cryptsetup', 'status', old_dev_name, run_as_root=True) @mock.patch('os_brick.executor.Executor._execute') @mock.patch('os.path.exists', side_effect=[False, True]) def test_init_volume_encryption_with_wwn(self, mock_exists, mock_execute): mock_exists.assert_has_calls([ mock.call('/dev/mapper/%s' % old_dev_name), mock.call('/dev/mapper/%s' % wwn)]) mock_execute.assert_called_once_with( 'cryptsetup', 'status', wwn, run_as_root=True) def test__format_volume(self): self.encryptor._format_volume(""passphrase"") self._execute.assert_has_calls([ mock.call('cryptsetup', '--batch-mode', 'luksFormat', '--type', 'luks2', '--key-file=-', self.dev_path, process_input='passphrase', root_helper=self.root_helper, run_as_root=True, check_exit_code=True, attempts=3), ]) def test_attach_volume_not_formatted(self): fake_key = 'bc37c5eccebe403f9cc2d0dd20dac2bc' self.encryptor._get_key = mock.MagicMock() self.encryptor._get_key.return_value = fake__get_key(None, fake_key) self._execute.side_effect = [ putils.ProcessExecutionError(exit_code=1), # luksOpen putils.ProcessExecutionError(exit_code=1), # isLuks mock.DEFAULT, # luksFormat mock.DEFAULT, # luksOpen mock.DEFAULT, # ln ] self.encryptor.attach_volume(None) self._execute.assert_has_calls([ mock.call('cryptsetup', 'luksOpen', '--key-file=-', self.dev_path, self.dev_name, process_input=fake_key, root_helper=self.root_helper, run_as_root=True, check_exit_code=True), mock.call('cryptsetup', 'isLuks', '--verbose', self.dev_path, root_helper=self.root_helper, run_as_root=True, check_exit_code=True), mock.call('cryptsetup', '--batch-mode', 'luksFormat', '--type', 'luks2', '--key-file=-', self.dev_path, process_input=fake_key, root_helper=self.root_helper, run_as_root=True, check_exit_code=True, attempts=3), mock.call('cryptsetup', 'luksOpen', '--key-file=-', self.dev_path, self.dev_name, process_input=fake_key, root_helper=self.root_helper, run_as_root=True, check_exit_code=True), mock.call('ln', '--symbolic', '--force', '/dev/mapper/%s' % self.dev_name, self.symlink_path, root_helper=self.root_helper, run_as_root=True, check_exit_code=True), ], any_order=False)",378,251
openstack%2Fkeystone~master~I85f65708996160a6b87bc29435dab8e71a2a01d6,openstack/keystone,master,I85f65708996160a6b87bc29435dab8e71a2a01d6,Imported Translations from Zanata,MERGED,2022-09-15 04:19:39.000000000,2023-06-02 19:22:06.000000000,2023-06-02 19:20:03.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-09-15 04:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/bd1ca03a7f13cbf5ae0b7607a21ae4b2ef0e0c5f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I85f65708996160a6b87bc29435dab8e71a2a01d6\n'}, {'number': 2, 'created': '2022-09-17 03:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a61e1e8962c0897d63c788fa9a9011b7df2a93fd', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I85f65708996160a6b87bc29435dab8e71a2a01d6\n'}, {'number': 3, 'created': '2022-09-24 04:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/662656055810ba25e0e8da2bd70eead3c0005da8', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I85f65708996160a6b87bc29435dab8e71a2a01d6\n'}, {'number': 4, 'created': '2022-09-28 03:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/850ac5e92169e03101b13ec9059ec0fe19efb56b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I85f65708996160a6b87bc29435dab8e71a2a01d6\n'}, {'number': 5, 'created': '2022-10-17 03:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0c7e8c6aa40ea8cafaa344136d08ddcf0a7f457e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I85f65708996160a6b87bc29435dab8e71a2a01d6\n'}, {'number': 6, 'created': '2022-10-29 04:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1700ac42c34de3049cf5ff61028ba3fa13ee96a2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I85f65708996160a6b87bc29435dab8e71a2a01d6\n'}, {'number': 7, 'created': '2022-11-05 03:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/165adcac404a780df9960fa5a7e4400ab565a170', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I85f65708996160a6b87bc29435dab8e71a2a01d6\n'}, {'number': 8, 'created': '2022-11-15 03:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4aac8b018d4b85d05b0cac9c96a467a1bfeb558c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I85f65708996160a6b87bc29435dab8e71a2a01d6\n'}, {'number': 9, 'created': '2023-01-18 04:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/422e1d91b91856cf37b980a37dd623beb7d08c75', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I85f65708996160a6b87bc29435dab8e71a2a01d6\n'}, {'number': 10, 'created': '2023-01-27 03:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/df005b97ce8c00e61f3e313e591d1d740c93106a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I85f65708996160a6b87bc29435dab8e71a2a01d6\n'}, {'number': 11, 'created': '2023-02-04 04:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6682cc6c96593f6e27398a379f8df23a49d2cfbf', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I85f65708996160a6b87bc29435dab8e71a2a01d6\n'}, {'number': 12, 'created': '2023-02-24 03:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ca94a35f5788c4f6cbe4a990436144cf4489c013', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I85f65708996160a6b87bc29435dab8e71a2a01d6\n'}, {'number': 13, 'created': '2023-03-01 03:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e3d7a3a7dc38b9101aec3bfffbc7ab14a30dfacf', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I85f65708996160a6b87bc29435dab8e71a2a01d6\n'}, {'number': 14, 'created': '2023-03-03 03:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ecd7e661a4d72c8861bb766df71e2cc682176f50', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I85f65708996160a6b87bc29435dab8e71a2a01d6\n'}, {'number': 15, 'created': '2023-03-04 03:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/91889b6724a1a4f9bb05475d886f87f61dede4f3', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I85f65708996160a6b87bc29435dab8e71a2a01d6\n'}, {'number': 16, 'created': '2023-03-09 03:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/02ebedbe843f07aff8942f9898be035a1d14a072', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I85f65708996160a6b87bc29435dab8e71a2a01d6\n'}, {'number': 17, 'created': '2023-03-21 03:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/42ac048913730952d868b1e5aab3a3b843eaa153', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I85f65708996160a6b87bc29435dab8e71a2a01d6\n'}, {'number': 18, 'created': '2023-04-22 03:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/35ddf7314a8ab2a6adc8e6a6e0fa39a683908ff4', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I85f65708996160a6b87bc29435dab8e71a2a01d6\n'}, {'number': 19, 'created': '2023-05-05 04:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/766d786d5fcec45133b9145c1d6d8f305c0772b2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I85f65708996160a6b87bc29435dab8e71a2a01d6\n'}, {'number': 20, 'created': '2023-05-09 03:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/59e84dde08d58417d5c7f00baa2a9d27e5219f57', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I85f65708996160a6b87bc29435dab8e71a2a01d6\n'}, {'number': 21, 'created': '2023-05-17 02:17:20.000000000', 'files': ['keystone/locale/en_GB/LC_MESSAGES/keystone.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f64b741ddb23b04aeaf902a9a218f360168c6748', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I85f65708996160a6b87bc29435dab8e71a2a01d6\n'}]",0,857805,f64b741ddb23b04aeaf902a9a218f360168c6748,59,5,21,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I85f65708996160a6b87bc29435dab8e71a2a01d6
",git fetch https://review.opendev.org/openstack/keystone refs/changes/05/857805/21 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po']",2,bd1ca03a7f13cbf5ae0b7607a21ae4b2ef0e0c5f,zanata/translations,"# Gérald LONLAS <g.lonlas@gmail.com>, 2016. #zanata msgid """" msgstr """" ""Project-Id-Version: Keystone Release Notes\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2022-09-09 21:04+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2016-10-22 05:03+0000\n"" ""Last-Translator: Gérald LONLAS <g.lonlas@gmail.com>\n"" ""Language-Team: French\n"" ""Language: fr\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n > 1)\n"" msgid ""10.0.0"" msgstr ""10.0.0"" msgid ""8.0.1"" msgstr ""8.0.1"" msgid ""8.1.0"" msgstr ""8.1.0"" msgid ""9.0.0"" msgstr ""9.0.0"" msgid ""9.2.0"" msgstr ""9.2.0"" msgid ""Bug Fixes"" msgstr ""Corrections de bugs"" msgid ""Critical Issues"" msgstr ""Erreurs critiques"" msgid ""Current Series Release Notes"" msgstr ""Note de la release actuelle"" msgid ""Deprecation Notes"" msgstr ""Notes dépréciées "" msgid ""Keystone Release Notes"" msgstr ""Note de release de Keystone"" msgid ""Liberty Series Release Notes"" msgstr ""Note de release pour Liberty"" msgid ""Mitaka Series Release Notes"" msgstr ""Note de release pour Mitaka"" msgid ""New Features"" msgstr ""Nouvelles fonctionnalités"" msgid ""Newton Series Release Notes"" msgstr ""Note de release pour Newton"" msgid ""Other Notes"" msgstr ""Autres notes"" msgid ""Security Issues"" msgstr ""Problèmes de sécurités"" msgid ""Upgrade Notes"" msgstr ""Notes de mises à jours"" msgid ""``add user to group``"" msgstr ""``add user to group``"" msgid ""``create group``"" msgstr ""``create group``"" msgid ""``create user``"" msgstr ""``create user``"" msgid ""``delete group``"" msgstr ""``delete group``"" msgid ""``delete user``"" msgstr ""``delete user``"" msgid ""``keystone/common/cache/backends/memcache_pool``"" msgstr ""``keystone/common/cache/backends/memcache_pool``"" msgid ""``keystone/common/cache/backends/mongo``"" msgstr ""``keystone/common/cache/backends/mongo``"" msgid ""``keystone/common/cache/backends/noop``"" msgstr ""``keystone/common/cache/backends/noop``"" msgid ""``keystone/contrib/admin_crud``"" msgstr ""``keystone/contrib/admin_crud``"" msgid ""``keystone/contrib/endpoint_filter``"" msgstr ""``keystone/contrib/endpoint_filter``"" msgid ""``keystone/contrib/federation``"" msgstr ""``keystone/contrib/federation``"" msgid ""``keystone/contrib/oauth1``"" msgstr ""``keystone/contrib/oauth1``"" msgid ""``keystone/contrib/revoke``"" msgstr ""``keystone/contrib/revoke``"" msgid ""``keystone/contrib/simple_cert``"" msgstr ""``keystone/contrib/simple_cert``"" msgid ""``keystone/contrib/user_crud``"" msgstr ""``keystone/contrib/user_crud``"" msgid ""``remove user from group``"" msgstr ""``remove user from group``"" msgid ""``update group``"" msgstr ""``update group``"" msgid ""``update user``"" msgstr ""``update user``"" ",,322,0
openstack%2Fkeystone~master~I13eb367a46a5c47c8a79f621bb6fa4d7c3915c15,openstack/keystone,master,I13eb367a46a5c47c8a79f621bb6fa4d7c3915c15,Bump SQLAlchemy minimum version,MERGED,2023-02-27 17:44:26.000000000,2023-06-02 19:16:57.000000000,2023-06-02 19:15:41.000000000,"[{'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-02-27 17:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6b7de4e0e506e5218cceebbdbfbf66ea12c31056', 'message': 'Bump SQLAlchemy minimum version\n\nChange-Id: I13eb367a46a5c47c8a79f621bb6fa4d7c3915c15\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2023-02-28 17:26:46.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f24c77c774bb4c76f1ed85d814766eb559ba3571', 'message': 'Bump SQLAlchemy minimum version\n\nChange-Id: I13eb367a46a5c47c8a79f621bb6fa4d7c3915c15\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,875539,f24c77c774bb4c76f1ed85d814766eb559ba3571,14,6,2,15334,,,0,"Bump SQLAlchemy minimum version

Change-Id: I13eb367a46a5c47c8a79f621bb6fa4d7c3915c15
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/39/875539/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,6b7de4e0e506e5218cceebbdbfbf66ea12c31056,sqlalchemy-20,SQLAlchemy>=1.4.0 # MIT,SQLAlchemy>=1.3.0 # MIT,1,1
openstack%2Fneutron-fwaas~master~Iedf9a47a80a2775f73e7873ce3e55c4152d0f564,openstack/neutron-fwaas,master,Iedf9a47a80a2775f73e7873ce3e55c4152d0f564,[alembic] Alembic operations require keywords only arguments,MERGED,2023-05-17 10:13:30.000000000,2023-06-02 18:50:46.000000000,2023-06-02 18:49:44.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 10:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/def1b301fa4ddf7428c798a90df36c2eb53f8626', 'message': '[alembic] Alembic operations require keywords only arguments\n\nSince [1] (release 1.11.0), the Alembic operations ""now enforce\nkeyword-only arguments as passed as keyword and not positionally""\n(from the commit message).\n\nThis change is compatible with the previous versions (as confirmed\nin the CI).\n\n[1]https://github.com/zzzeek/alembic/commit/df75e85489b9ae69fffff2c5ad2594b30bed2fd4\n\nCloses-Bug: #2019948\nChange-Id: Iedf9a47a80a2775f73e7873ce3e55c4152d0f564\n'}, {'number': 2, 'created': '2023-06-01 10:05:56.000000000', 'files': ['neutron_fwaas/db/migration/alembic_migrations/versions/newton/contract/f83a0b2964d0_rename_tenant_to_project.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/925b31f6fc7467535d76891b9c7b20815a22e0be', 'message': '[alembic] Alembic operations require keywords only arguments\n\nSince [1] (release 1.11.0), the Alembic operations ""now enforce\nkeyword-only arguments as passed as keyword and not positionally""\n(from the commit message).\n\nThis change is compatible with the previous versions (as confirmed\nin the CI).\n\n[1]https://github.com/zzzeek/alembic/commit/df75e85489b9ae69fffff2c5ad2594b30bed2fd4\n\nCloses-Bug: #2019948\nChange-Id: Iedf9a47a80a2775f73e7873ce3e55c4152d0f564\n'}]",1,883342,925b31f6fc7467535d76891b9c7b20815a22e0be,11,4,2,16688,,,0,"[alembic] Alembic operations require keywords only arguments

Since [1] (release 1.11.0), the Alembic operations ""now enforce
keyword-only arguments as passed as keyword and not positionally""
(from the commit message).

This change is compatible with the previous versions (as confirmed
in the CI).

[1]https://github.com/zzzeek/alembic/commit/df75e85489b9ae69fffff2c5ad2594b30bed2fd4

Closes-Bug: #2019948
Change-Id: Iedf9a47a80a2775f73e7873ce3e55c4152d0f564
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/42/883342/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/db/migration/alembic_migrations/versions/newton/contract/f83a0b2964d0_rename_tenant_to_project.py'],1,def1b301fa4ddf7428c798a90df36c2eb53f8626,bug/2019948," op.drop_index(index_name=op.f(old_name), table_name=table_name)"," op.drop_index(op.f(old_name), table_name)",1,1
openstack%2Fironic-tempest-plugin~master~Ic435368a5840aae8dab26a843bd79e0ae2546639,openstack/ironic-tempest-plugin,master,Ic435368a5840aae8dab26a843bd79e0ae2546639,CI: Add RBAC specific tempest jobs for main branch exec,MERGED,2023-05-04 14:16:51.000000000,2023-06-02 18:39:35.000000000,2023-06-02 18:37:51.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24245}]","[{'number': 1, 'created': '2023-05-04 14:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/e7d508fa3832cfc2e345e9537f728983199b05c8', 'message': 'Add RBAC specific tempest jobs to gate plugin\n\nChange-Id: Ic435368a5840aae8dab26a843bd79e0ae2546639\n'}, {'number': 2, 'created': '2023-05-04 14:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/2800b8348ea80b68bc068d38efc21a2bfa6a031d', 'message': 'Add RBAC specific tempest jobs to gate plugin\n\nChange-Id: Ic435368a5840aae8dab26a843bd79e0ae2546639\n'}, {'number': 3, 'created': '2023-05-05 07:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/82b26c0fc972779e3faf80ce5833f2de4293a69b', 'message': 'Add RBAC specific tempest jobs to gate plugin\n\nChange-Id: Ic435368a5840aae8dab26a843bd79e0ae2546639\n'}, {'number': 4, 'created': '2023-05-05 15:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/f1bbcebbd1b4f4fe60fc5051ba4e6b88b7a60db4', 'message': 'Add RBAC specific tempest jobs to gate plugin\n\nChange-Id: Ic435368a5840aae8dab26a843bd79e0ae2546639\n'}, {'number': 5, 'created': '2023-05-08 07:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/a7b1cf6d64ca0c479420575f7bf98ed71e4c0e98', 'message': 'Add RBAC specific tempest jobs to gate plugin\n\nChange-Id: Ic435368a5840aae8dab26a843bd79e0ae2546639\n'}, {'number': 6, 'created': '2023-05-09 09:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/4c40a70e29be847cd4793dc155c7500e587a25cb', 'message': 'Add RBAC specific tempest jobs to gate plugin\n\nChange-Id: Ic435368a5840aae8dab26a843bd79e0ae2546639\n'}, {'number': 7, 'created': '2023-05-09 09:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/99e9e29966fd43e3362ea56f095fc4e04944193c', 'message': 'Add RBAC specific tempest jobs to gate plugin\n\nChange-Id: Ic435368a5840aae8dab26a843bd79e0ae2546639\n'}, {'number': 8, 'created': '2023-05-24 14:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/7435082136aa7d8147ba055147ebfe3d80b6181a', 'message': 'Add RBAC specific tempest jobs to gate plugin\n\nChange-Id: Ic435368a5840aae8dab26a843bd79e0ae2546639\n'}, {'number': 9, 'created': '2023-05-25 14:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/0bd969fb9eeb563d68397c3afe55b86d813efda0', 'message': 'CI: Add RBAC specific tempest jobs for main branch exec\n\nAdds configs for Zed, 2023.1, but only runs the job on master\nbranch for now, while we sort out a policy fix needing to be\nbackported in ironic.\n\nGives us some initial feedback and forced testing while we fix\nthe other issues.\n\nChange-Id: Ic435368a5840aae8dab26a843bd79e0ae2546639\n'}, {'number': 10, 'created': '2023-06-01 00:35:26.000000000', 'files': ['zuul.d/stable-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/3c43cf1eb7966a77a160c430be87ea15e67bab04', 'message': 'CI: Add RBAC specific tempest jobs for main branch exec\n\nAdds configs for Zed, 2023.1, but only runs the job on master\nbranch for now, while we sort out a policy fix needing to be\nbackported in ironic.\n\nGives us some initial feedback and forced testing while we fix\nthe other issues.\n\nChange-Id: Ic435368a5840aae8dab26a843bd79e0ae2546639\n'}]",6,882312,3c43cf1eb7966a77a160c430be87ea15e67bab04,37,4,10,11655,,,0,"CI: Add RBAC specific tempest jobs for main branch exec

Adds configs for Zed, 2023.1, but only runs the job on master
branch for now, while we sort out a policy fix needing to be
backported in ironic.

Gives us some initial feedback and forced testing while we fix
the other issues.

Change-Id: Ic435368a5840aae8dab26a843bd79e0ae2546639
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/12/882312/5 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/stable-jobs.yaml', 'zuul.d/project.yaml']",2,e7d508fa3832cfc2e345e9537f728983199b05c8,rbac-tests, - ironic-tempest-functional-rbac-scope-enforced - ironic-tempest-functional-rbac-scope-enforced-zed - ironic-inspector-tempest-rbac-scope-enforced - ironic-inspector-tempest-rbac-scope-enforced-zed,,15,0
openstack%2Fmanila~master~Iebd498611601433a47c5de8531c8f9b75d1b6015,openstack/manila,master,Iebd498611601433a47c5de8531c8f9b75d1b6015,"db: Migrate remaining ""transfer"" APIs to enginefacade",NEW,2023-06-02 10:42:06.000000000,2023-06-02 18:30:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-02 10:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bca642a320447c4c70c8e17c32811b96b770656d', 'message': 'db: Migrate remaining ""transfer"" APIs to enginefacade\n\nThese were kept separate since they were a little more involved.\n\nChange-Id: Iebd498611601433a47c5de8531c8f9b75d1b6015\n'}, {'number': 2, 'created': '2023-06-02 10:43:01.000000000', 'files': ['manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/4d4309edac480bba9db732b0ce146a27ad214107', 'message': 'db: Migrate remaining ""transfer"" APIs to enginefacade\n\nThese were kept separate since they were a little more involved.\n\nChange-Id: Iebd498611601433a47c5de8531c8f9b75d1b6015\n'}]",0,885124,4d4309edac480bba9db732b0ce146a27ad214107,5,1,2,15334,,,0,"db: Migrate remaining ""transfer"" APIs to enginefacade

These were kept separate since they were a little more involved.

Change-Id: Iebd498611601433a47c5de8531c8f9b75d1b6015
",git fetch https://review.opendev.org/openstack/manila refs/changes/24/885124/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/db/sqlalchemy/api.py'],1,bca642a320447c4c70c8e17c32811b96b770656d,sqlalchemy-20," context, models.Transfer, read_deleted=read_deleted,@context_manager.writer def transfer_accept( context, transfer_id, user_id, project_id, accept_snapshots=False, ): share_id = _transfer_get(context, transfer_id)['resource_id'] update = { 'status': constants.STATUS_AVAILABLE, 'user_id': user_id, 'project_id': project_id, 'updated_at': timeutils.utcnow(), } _share_update(context, share_id, update) # Update snapshots for transfer snapshots with share. if accept_snapshots: snapshots = _share_snapshot_get_all_for_share(context, share_id) for snapshot in snapshots: LOG.debug('Begin to transfer snapshot: %s', snapshot['id']) update = { 'user_id': user_id, 'project_id': project_id, 'updated_at': timeutils.utcnow(), } _share_snapshot_update(context, snapshot['id'], update) query = context.session.query(models.Transfer).filter_by(id=transfer_id) query.update( { 'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': timeutils.utcnow(), 'destination_project_id': project_id, 'accepted': True, } )@context_manager.writer def transfer_accept_rollback( context, transfer_id, user_id, project_id, rollback_snap=False, ): share_id = _transfer_get( context, transfer_id, read_deleted=True, )['resource_id'] update = { 'status': constants.STATUS_AWAITING_TRANSFER, 'user_id': user_id, 'project_id': project_id, 'updated_at': timeutils.utcnow(), } _share_update(context, share_id, update) # rollback snapshots for transfer snapshots with share. if rollback_snap: snapshots = _share_snapshot_get_all_for_share(context, share_id) for snapshot in snapshots: LOG.debug('Begin to rollback snapshot: %s', snapshot['id']) update = { 'user_id': user_id, 'project_id': project_id, 'updated_at': timeutils.utcnow(), } _share_snapshot_update(context, snapshot['id'], update) query = context.session.query(models.Transfer).filter_by(id=transfer_id) query.update( { 'deleted': 'False', 'deleted_at': None, 'updated_at': timeutils.utcnow(), 'destination_project_id': None, 'accepted': 0, } ) return _share_snapshot_get( context, snapshot_id, project_only=project_only, session=session, ) def _share_snapshot_get(context, snapshot_id, project_only=True, session=None):def share_snapshot_get_all_for_share( context, share_id, filters=None, sort_key=None, sort_dir=None, ): return _share_snapshot_get_all_for_share( context, share_id, filters=None, sort_key=None, sort_dir=None, ) def _share_snapshot_get_all_for_share( context, share_id, filters=None, sort_key=None, sort_dir=None, ): return _share_snapshot_update(context, snapshot_id, values, session=session) # TODO(stephenfin): Remove the 'session' argument once all callers have been # converted def _share_snapshot_update(context, snapshot_id, values, session=None): snapshot_ref = _share_snapshot_get(context, snapshot_id, session=session) instance_values, snapshot_values = ( _extract_snapshot_instance_values(values) ) if snapshot_values: snapshot_ref.update(snapshot_values) snapshot_ref.save(session=session or context.session) if instance_values: snapshot_ref.instance.update(instance_values) snapshot_ref.instance.save(session=session or context.session) return snapshot_ref","# TODO(stephenfin): Remove the 'session' argument once all callers have been # converted session=None, context, models.Transfer, read_deleted=read_deleted, session=session,def transfer_accept(context, transfer_id, user_id, project_id, accept_snapshots=False): session = get_session() with session.begin(): share_id = _transfer_get(context, transfer_id, session)['resource_id'] update = {'status': constants.STATUS_AVAILABLE, 'user_id': user_id, 'project_id': project_id, 'updated_at': timeutils.utcnow()} share_update(context, share_id, update) # Update snapshots for transfer snapshots with share. if accept_snapshots: snapshots = share_snapshot_get_all_for_share(context, share_id) for snapshot in snapshots: LOG.debug('Begin to transfer snapshot: %s', snapshot['id']) update = {'user_id': user_id, 'project_id': project_id, 'updated_at': timeutils.utcnow()} share_snapshot_update(context, snapshot['id'], update) query = session.query(models.Transfer).filter_by(id=transfer_id) query.update({'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': timeutils.utcnow(), 'destination_project_id': project_id, 'accepted': True})def transfer_accept_rollback(context, transfer_id, user_id, project_id, rollback_snap=False): session = get_session() with session.begin(): share_id = _transfer_get( context, transfer_id, read_deleted=True, session=session, )['resource_id'] update = {'status': constants.STATUS_AWAITING_TRANSFER, 'user_id': user_id, 'project_id': project_id, 'updated_at': timeutils.utcnow()} share_update(context, share_id, update) # rollback snapshots for transfer snapshots with share. if rollback_snap: snapshots = share_snapshot_get_all_for_share(context, share_id) for snapshot in snapshots: LOG.debug('Begin to rollback snapshot: %s', snapshot['id']) update = {'user_id': user_id, 'project_id': project_id, 'updated_at': timeutils.utcnow()} share_snapshot_update(context, snapshot['id'], update) query = session.query(models.Transfer).filter_by(id=transfer_id) query.update({'deleted': 'False', 'deleted_at': None, 'updated_at': timeutils.utcnow(), 'destination_project_id': None, 'accepted': 0})def share_snapshot_get_all_for_share(context, share_id, filters=None, sort_key=None, sort_dir=None): snapshot_ref = share_snapshot_get(context, snapshot_id, session=session) instance_values, snapshot_values = ( _extract_snapshot_instance_values(values) ) if snapshot_values: snapshot_ref.update(snapshot_values) snapshot_ref.save(session=session) if instance_values: snapshot_ref.instance.update(instance_values) snapshot_ref.instance.save(session=session) return snapshot_ref",104,70
openstack%2Fcharm-guide~master~I3b49f27ab2e85208c3d276ec4cc48c825419e47f,openstack/charm-guide,master,I3b49f27ab2e85208c3d276ec4cc48c825419e47f,Finalise release notes for 2023.1,MERGED,2023-06-02 17:40:02.000000000,2023-06-02 18:10:07.000000000,2023-06-02 18:09:07.000000000,"[{'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-02 17:40:02.000000000', 'files': ['doc/source/release-notes/2023.1-antelope.rst', 'doc/source/project/release-schedule.rst', 'doc/source/release-notes/index.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/9e21bc10ce6820d4f627c3c8fc2e53374440933c', 'message': 'Finalise release notes for 2023.1\n\nChange-Id: I3b49f27ab2e85208c3d276ec4cc48c825419e47f\n'}]",1,885156,9e21bc10ce6820d4f627c3c8fc2e53374440933c,7,2,1,30561,,,0,"Finalise release notes for 2023.1

Change-Id: I3b49f27ab2e85208c3d276ec4cc48c825419e47f
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/56/885156/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/release-notes/2023.1-antelope.rst', 'doc/source/project/release-schedule.rst', 'doc/source/release-notes/index.rst']",3,9e21bc10ce6820d4f627c3c8fc2e53374440933c,finalise-release-notes-2023.1,* *coming soon** :doc:`2023.1-antelope` :widths: 20 20 20 - :doc:`zed`,* :doc:`2023.1-antelope`* :doc:`zed` :widths: 20 20,27,24
openstack%2Fcharm-mysql-innodb-cluster~stable%2Fjammy~Iaf6ba030001bc458abf5536454745cae905aceee,openstack/charm-mysql-innodb-cluster,stable/jammy,Iaf6ba030001bc458abf5536454745cae905aceee,Set relay_log_recovery = ON by default,MERGED,2023-06-01 09:12:59.000000000,2023-06-02 18:07:34.000000000,2023-06-02 18:07:34.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 09:12:59.000000000', 'files': ['src/templates/mysqld.cnf'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/f24dfa710b97cd907cd10b7a3a803e9c05ce47b0', 'message': 'Set relay_log_recovery = ON by default\n\nThis is to aid in recoverying nodes from unexpected halts/power failures\nand ease their re-introduction into the cluster.  It ensures that\npotentially corrupted relay log files are discarded.\n\nChange-Id: Iaf6ba030001bc458abf5536454745cae905aceee\nCloses-Bug: #1938708\n(cherry picked from commit 21494229747a9d4013d360b57ccd3de7749f0ffb)\n'}]",1,884826,f24dfa710b97cd907cd10b7a3a803e9c05ce47b0,8,4,1,20870,,,0,"Set relay_log_recovery = ON by default

This is to aid in recoverying nodes from unexpected halts/power failures
and ease their re-introduction into the cluster.  It ensures that
potentially corrupted relay log files are discarded.

Change-Id: Iaf6ba030001bc458abf5536454745cae905aceee
Closes-Bug: #1938708
(cherry picked from commit 21494229747a9d4013d360b57ccd3de7749f0ffb)
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/26/884826/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/mysqld.cnf'],1,f24dfa710b97cd907cd10b7a3a803e9c05ce47b0,bug/1938708-stable/jammy,# Bug LP#1938708 # Set the relay log recovery to ON so that recovery following server startup. # This is useful in the case of an unexpected halt where the relay log files # could be corrupted. # See https://dev.mysql.com/doc/refman/8.0/en/replication-solutions-unexpected-replica-halt.html relay_log_recovery = ON ,,7,0
openstack%2Fkeystone~stable%2Fwallaby~I70e69c606f2c74f1d01cfe618df8274f3d158572,openstack/keystone,stable/wallaby,I70e69c606f2c74f1d01cfe618df8274f3d158572,Change FIPS jobs to centos-9-stream,ABANDONED,2022-07-19 11:30:33.000000000,2023-06-02 18:04:34.000000000,,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-19 11:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1e9ddc2b9970faa66acea51fe96686c332336e1c', 'message': 'Change FIPS jobs to centos-9-stream\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/848284\nChange-Id: I70e69c606f2c74f1d01cfe618df8274f3d158572\n'}, {'number': 2, 'created': '2022-07-20 13:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2acbca02466bce63c7eba2d8ec5880ef983b18b9', 'message': 'Change FIPS jobs to centos-9-stream\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/848284\nChange-Id: I70e69c606f2c74f1d01cfe618df8274f3d158572\n'}, {'number': 3, 'created': '2022-07-22 15:48:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/6c543a870a84800261c69d6bd5d4dae6371ac7f8', 'message': 'Change FIPS jobs to centos-9-stream\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/848284\nChange-Id: I70e69c606f2c74f1d01cfe618df8274f3d158572\n'}]",3,850332,6c543a870a84800261c69d6bd5d4dae6371ac7f8,15,2,3,34120,,,0,"Change FIPS jobs to centos-9-stream

Depends-On: https://review.opendev.org/c/openstack/devstack/+/848284
Change-Id: I70e69c606f2c74f1d01cfe618df8274f3d158572
",git fetch https://review.opendev.org/openstack/keystone refs/changes/32/850332/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1e9ddc2b9970faa66acea51fe96686c332336e1c,, nodeset: devstack-single-node-centos-9-stream Functional testing for a FIPS enabled Centos 9 system, nodeset: devstack-single-node-centos-8-stream Functional testing for a FIPS enabled Centos 8 system,2,2
openstack%2Fkayobe~master~I643f54a67edfe22a3fd5c86f157bd1246d617399,openstack/kayobe,master,I643f54a67edfe22a3fd5c86f157bd1246d617399,Install ncclient even in check mode,MERGED,2023-06-01 14:20:38.000000000,2023-06-02 17:49:12.000000000,2023-06-02 17:48:08.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 35264}]","[{'number': 1, 'created': '2023-06-01 14:20:38.000000000', 'files': ['ansible/roles/junos-switch/tasks/main.yml', 'releasenotes/notes/ncclient-install-check-mode-0cfc7e846f3a978a.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7b8abfb6693f1b1683a72e3e128049df30a2c49a', 'message': 'Install ncclient even in check mode\n\nWhen running `kayobe physical network configure --check` against Juniper\nswitches, Kayobe may fail with the following error:\n\n    Failed to import the required Python library (ncclient)\n\nThis is because the ncclient installation task is skipped by check mode.\n\nChange-Id: I643f54a67edfe22a3fd5c86f157bd1246d617399\n'}]",1,885053,7b8abfb6693f1b1683a72e3e128049df30a2c49a,14,5,1,15197,,,0,"Install ncclient even in check mode

When running `kayobe physical network configure --check` against Juniper
switches, Kayobe may fail with the following error:

    Failed to import the required Python library (ncclient)

This is because the ncclient installation task is skipped by check mode.

Change-Id: I643f54a67edfe22a3fd5c86f157bd1246d617399
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/53/885053/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/junos-switch/tasks/main.yml', 'releasenotes/notes/ncclient-install-check-mode-0cfc7e846f3a978a.yaml']",2,7b8abfb6693f1b1683a72e3e128049df30a2c49a,junos-check-mode,--- fixes: - | Installs ``ncclient`` dependency for Juniper switch configuration when using Ansible check mode. ,,6,0
openstack%2Fcinder~master~I080e846c34ad91c279362f16b3e9de045776fb05,openstack/cinder,master,I080e846c34ad91c279362f16b3e9de045776fb05,"Revert ""Add tempest integrated storage job to run on ubuntu focal""",MERGED,2023-05-30 09:47:40.000000000,2023-06-02 17:35:08.000000000,2023-06-01 08:29:11.000000000,"[{'_account_id': 4523}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 29122}]","[{'number': 1, 'created': '2023-05-30 09:47:40.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a8fee1813b4f39926bae20ee801aaa8d11d6044d', 'message': 'Revert ""Add tempest integrated storage job to run on ubuntu focal""\n\nTesting with focal was required as part of the testing runtime\nfor the 2023.1/Antelope release, which is a SLURP relase [1].\nNow that Antelope is released, the development moves towards\n2023.2/Bobcat where the old LTS ubuntu release is not among\nthe required testing runtimes[2].\n\nMoreover, this job started failing consistenly in master.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/2023.1.html\n[2] https://governance.openstack.org/tc/reference/runtimes/2023.2.html\n\nThis reverts commit b3e7d363ca317acab86ae9950ed9f524815cbf8c.\n\nChange-Id: I080e846c34ad91c279362f16b3e9de045776fb05\n'}]",7,884671,a8fee1813b4f39926bae20ee801aaa8d11d6044d,72,5,1,10459,,,0,"Revert ""Add tempest integrated storage job to run on ubuntu focal""

Testing with focal was required as part of the testing runtime
for the 2023.1/Antelope release, which is a SLURP relase [1].
Now that Antelope is released, the development moves towards
2023.2/Bobcat where the old LTS ubuntu release is not among
the required testing runtimes[2].

Moreover, this job started failing consistenly in master.

[1] https://governance.openstack.org/tc/reference/runtimes/2023.1.html
[2] https://governance.openstack.org/tc/reference/runtimes/2023.2.html

This reverts commit b3e7d363ca317acab86ae9950ed9f524815cbf8c.

Change-Id: I080e846c34ad91c279362f16b3e9de045776fb05
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/884671/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a8fee1813b4f39926bae20ee801aaa8d11d6044d,remove-focal-job,, - tempest-integrated-storage-ubuntu-focal: irrelevant-files: *gate-irrelevant-files - tempest-integrated-storage-ubuntu-focal: irrelevant-files: *gate-irrelevant-files name: tempest-integrated-storage-ubuntu-focal description: Job testing for tempest-integrated-storage with Ubuntu focal (20.04) parent: tempest-integrated-storage nodeset: openstack-single-node-focal - job:,0,10
openstack%2Fkeystonemiddleware~stable%2Fvictoria~If12ec5bf45dc5b7cf1e834ac0a31ac1843748a74,openstack/keystonemiddleware,stable/victoria,If12ec5bf45dc5b7cf1e834ac0a31ac1843748a74,Fix several errors in CI,MERGED,2023-05-31 02:00:09.000000000,2023-06-02 17:24:29.000000000,2023-06-02 17:22:34.000000000,"[{'_account_id': 597}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 02:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/98735b44b2940b49d00c14d2394df735d5d2f252', 'message': ""Fix several errors in CI\n\nBandit emits errors for request methods without the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\n\nAdded timeout parameters and config options to set timeout.\nAlso fix mocks in EC2 token tests and make openstack-tox-lower-constraints\nnon-voting.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)\nChange-Id: If12ec5bf45dc5b7cf1e834ac0a31ac1843748a74\n""}, {'number': 2, 'created': '2023-06-02 14:12:01.000000000', 'files': ['keystonemiddleware/ec2_token.py', 'keystonemiddleware/tests/unit/test_ec2_token_middleware.py', '.zuul.yaml', 'keystonemiddleware/s3_token.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/44b69c71a014c97ebbe128f56deea882c26ef4e1', 'message': ""Fix several errors in CI\n\nBandit emits errors for request methods without the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\n\nAdded timeout parameters and config options to set timeout.\nAlso fix mocks in EC2 token tests and make openstack-tox-lower-constraints\nnon-voting.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\nChange-Id: If12ec5bf45dc5b7cf1e834ac0a31ac1843748a74\n(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)\n""}]",0,884794,44b69c71a014c97ebbe128f56deea882c26ef4e1,15,5,2,34275,,,0,"Fix several errors in CI

Bandit emits errors for request methods without the timeout parameter.
It's better to follow the instruction to avoid hanging.

Added timeout parameters and config options to set timeout.
Also fix mocks in EC2 token tests and make openstack-tox-lower-constraints
non-voting.

[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html

Change-Id: If12ec5bf45dc5b7cf1e834ac0a31ac1843748a74
(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/94/884794/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/ec2_token.py', 'keystonemiddleware/tests/unit/test_ec2_token_middleware.py', '.zuul.yaml', 'keystonemiddleware/s3_token.py']",4,98735b44b2940b49d00c14d2394df735d5d2f252,fix-pep8-victoria,"from oslo_config import cfgs3_opts = [ cfg.IntOpt('timeout', default=60, help='Timeout to obtain token.'), ] CONF = cfg.CONF CONF.register_opts(s3_opts, group='s3_token') verify=self._verify, timeout=CONF.s3_token.timeout)", verify=self._verify),35,17
openstack%2Fkeystonemiddleware~stable%2Fxena~I0c022c3cc57f30530ebdef6e434753ece2bdf912,openstack/keystonemiddleware,stable/xena,I0c022c3cc57f30530ebdef6e434753ece2bdf912,Add timeout for requests,MERGED,2023-03-21 16:52:42.000000000,2023-06-02 17:24:27.000000000,2023-06-02 17:22:35.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-21 16:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/7fe338aeaa3c85eb7b622a6f1e26bb7f19f14ab7', 'message': ""Add timeout for requests\n\nBandit emits errors for request methods without the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\n\nAdded timeout parameters and config options to set timeout.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\nChange-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)\n""}, {'number': 2, 'created': '2023-03-28 00:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/cb3a9c96dcc90ec7b0952634fa3241f32a2f38fa', 'message': ""Add timeout for requests\n\nBandit emits errors for request methods without the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\n\nAdded timeout parameters and config options to set timeout.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\nChange-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)\n""}, {'number': 3, 'created': '2023-06-02 14:33:48.000000000', 'files': ['keystonemiddleware/ec2_token.py', 'keystonemiddleware/tests/unit/test_ec2_token_middleware.py', 'keystonemiddleware/s3_token.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/1d09c935ab10a5c675586552e4c81c149bdf08e4', 'message': ""Add timeout for requests\n\nBandit emits errors for request methods without the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\n\nAdded timeout parameters and config options to set timeout.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\nChange-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n(cherry picked from commit 75631ad31e87bdef5e8c1e150e24d85a31289014)\n""}]",0,878025,1d09c935ab10a5c675586552e4c81c149bdf08e4,14,4,3,34275,,,0,"Add timeout for requests

Bandit emits errors for request methods without the timeout parameter.
It's better to follow the instruction to avoid hanging.

Added timeout parameters and config options to set timeout.

[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html

Change-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912
(cherry picked from commit 75631ad31e87bdef5e8c1e150e24d85a31289014)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/25/878025/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/ec2_token.py', 'keystonemiddleware/s3_token.py']",2,7fe338aeaa3c85eb7b622a6f1e26bb7f19f14ab7,877808-stable/yoga-stable/xena,"from oslo_config import cfgs3_opts = [ cfg.IntOpt('timeout', default=60, help='Timeout to obtain token.'), ] CONF = cfg.CONF CONF.register_opts(s3_opts, group='s3_token') verify=self._verify, timeout=CONF.s3_token.timeout)", verify=self._verify),17,4
openstack%2Fmanila~master~I170a406d4eb236d9921113270b58657a6ddaad0a,openstack/manila,master,I170a406d4eb236d9921113270b58657a6ddaad0a,"db: Migrate ""transfer"" APIs to enginefacade",NEW,2023-06-02 10:42:06.000000000,2023-06-02 17:22:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-02 10:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0b8405baf63892ea99ecad440954516162be362e', 'message': 'db: Migrate ""transfer"" APIs to enginefacade\n\nWell, most of them. Two are left out since they call into \'share_*\' APIs\nand that\'s a whole other bag of string. We\'ll tackle those later.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I170a406d4eb236d9921113270b58657a6ddaad0a\n'}, {'number': 2, 'created': '2023-06-02 10:43:01.000000000', 'files': ['manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/699db71ca584d5cab4165ad19cb87c340f058e90', 'message': 'db: Migrate ""transfer"" APIs to enginefacade\n\nWell, most of them. Two are left out since they call into \'share_*\' APIs\nand that\'s a whole other bag of string. We\'ll tackle those later.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I170a406d4eb236d9921113270b58657a6ddaad0a\n'}]",0,885123,699db71ca584d5cab4165ad19cb87c340f058e90,5,1,2,15334,,,0,"db: Migrate ""transfer"" APIs to enginefacade

Well, most of them. Two are left out since they call into 'share_*' APIs
and that's a whole other bag of string. We'll tackle those later.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I170a406d4eb236d9921113270b58657a6ddaad0a
",git fetch https://review.opendev.org/openstack/manila refs/changes/23/885123/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/db/sqlalchemy/api.py'],1,0b8405baf63892ea99ecad440954516162be362e,sqlalchemy-20," share_instance_ref.save(session=session or context.session) share_ref.save(session=session or context.session)# TODO(stephenfin): Remove the 'session' argument once all callers have been # converted def _transfer_get( context, transfer_id, resource_type='share', read_deleted=False, session=None, ): query = model_query( context, models.Transfer, read_deleted=read_deleted, session=session, ).filter_by(id=transfer_id) query = query.filter( models.Transfer.resource_id == share.id, share.project_id == context.project_id, ) query = model_query(context, models.Transfer) if filters: legal_filter_keys = ( 'display_name', 'display_name~', 'id', 'resource_type', 'resource_id', 'source_project_id', 'destination_project_id', ) query = exact_filter( query, models.Transfer, filters, legal_filter_keys, ) query = utils.paginate_query( query, models.Transfer, limit, sort_key=sort_key, sort_dir=sort_dir, offset=offset, ) return query.all()@context_manager.reader@context_manager.reader@context_manager.reader def transfer_get_all_expired(context): query = model_query(context, models.Transfer) expires_at_attr = getattr(models.Transfer, 'expires_at', None) now_time = timeutils.utcnow() query = query.filter(expires_at_attr.op('<=')(now_time)) result = query.all() return result@context_manager.writer time_delta = datetime.timedelta(seconds=CONF.transfer_retention_time) transfer = models.Transfer() transfer.update(values) transfer.save(session=context.session) update = {'status': constants.STATUS_AWAITING_TRANSFER} if values['resource_type'] == 'share': _share_update(context, resource_id, update) return transfer@context_manager.writer def transfer_destroy(context, transfer_id, update_share_status=True): update = {'status': constants.STATUS_AVAILABLE} transfer = _transfer_get(context, transfer_id) if transfer['resource_type'] == 'share': if update_share_status: _share_update(context, transfer['resource_id'], update) transfer_query = model_query( context, models.Transfer, ).filter_by( id=transfer_id, ) transfer_query.soft_delete() # TODO(stephenfin): Convert these once we convert the 'share_snapshot*' APIs share_id = _transfer_get(context, transfer_id, session)['resource_id']# TODO(stephenfin): Convert these once we convert the 'share_*' APIs share_id = _transfer_get( context, transfer_id, read_deleted=True, session=session, )['resource_id']"," share_instance_ref.save(session=session) share_ref.save(session=session)@context_manager.reader def _transfer_get(context, transfer_id, resource_type='share', session=None, read_deleted=False): query = model_query(context, models.Transfer, session=session, read_deleted=read_deleted).filter_by(id=transfer_id) query = query.filter(models.Transfer.resource_id == share.id, share.project_id == context.project_id) session = get_session() with session.begin(): query = model_query(context, models.Transfer, session=session) if filters: legal_filter_keys = ('display_name', 'display_name~', 'id', 'resource_type', 'resource_id', 'source_project_id', 'destination_project_id') query = exact_filter(query, models.Transfer, filters, legal_filter_keys) query = utils.paginate_query(query, models.Transfer, limit, sort_key=sort_key, sort_dir=sort_dir, offset=offset) return query.all()def transfer_get_all_expired(context): session = get_session() with session.begin(): query = model_query(context, models.Transfer, session=session) expires_at_attr = getattr(models.Transfer, 'expires_at', None) now_time = timeutils.utcnow() query = query.filter(expires_at_attr.op('<=')(now_time)) result = query.all() return result time_delta = datetime.timedelta( seconds=CONF.transfer_retention_time) session = get_session() with session.begin(): transfer = models.Transfer() transfer.update(values) transfer.save(session=session) update = {'status': constants.STATUS_AWAITING_TRANSFER} if values['resource_type'] == 'share': share_update(context, resource_id, update) return transferdef transfer_destroy(context, transfer_id, update_share_status=True): session = get_session() with session.begin(): update = {'status': constants.STATUS_AVAILABLE} transfer = transfer_get(context, transfer_id) if transfer['resource_type'] == 'share': if update_share_status: share_update(context, transfer['resource_id'], update) transfer_query = model_query(context, models.Transfer, session=session).filter_by(id=transfer_id) transfer_query.soft_delete() share_id = transfer_get(context, transfer_id)['resource_id'] share_id = transfer_get( context, transfer_id, read_deleted=True)['resource_id']",70,58
openstack%2Fopenstacksdk~master~I3bc9b1a6ab54c52797f4794548245c34a7a12ecb,openstack/openstacksdk,master,I3bc9b1a6ab54c52797f4794548245c34a7a12ecb,tests: Ignore our own deprecation warnings,MERGED,2023-05-25 16:32:51.000000000,2023-06-02 17:19:53.000000000,2023-06-02 17:17:44.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-05-25 16:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/eeb2d376774e46bee1938541c86dc452999a4dd6', 'message': ""tests: Ignore our own deprecation warnings\n\nThey're obvious noise.\n\nChange-Id: I3bc9b1a6ab54c52797f4794548245c34a7a12ecb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2023-05-26 13:32:02.000000000', 'files': ['openstack/tests/fakes.py', 'openstack/tests/fixtures.py', 'openstack/tests/base.py', 'openstack/tests/unit/test_missing_version.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/dcd89705d661748cc4acaaa3e37633960a1dbee7', 'message': ""tests: Ignore our own deprecation warnings\n\nThey're obvious noise.\n\nChange-Id: I3bc9b1a6ab54c52797f4794548245c34a7a12ecb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,884418,dcd89705d661748cc4acaaa3e37633960a1dbee7,10,3,2,15334,,,0,"tests: Ignore our own deprecation warnings

They're obvious noise.

Change-Id: I3bc9b1a6ab54c52797f4794548245c34a7a12ecb
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/18/884418/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/base.py', 'openstack/tests/fakes.py', 'openstack/tests/fixtures.py']",3,eeb2d376774e46bee1938541c86dc452999a4dd6,warnings,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" fixtures -------- Fixtures used for testing """""" import warnings import fixtures from openstack import warnings as os_warnings # TODO(stephenfin): Replace this with WarningsFilter from fixtures when it's # released https://github.com/testing-cabal/fixtures/pull/50 class WarningsFixture(fixtures.Fixture): """"""Filters out warnings during test runs."""""" def setUp(self): super().setUp() self._original_warning_filters = warnings.filters[:] # enable deprecation warnings in general... warnings.simplefilter(""once"", DeprecationWarning) # ...but ignore our own deprecation warnings warnings.filterwarnings( ""ignore"", category=os_warnings.OpenStackDeprecationWarning, ) # also ignore our own general warnings warnings.filterwarnings( ""ignore"", category=os_warnings.OpenStackWarning, ) self.addCleanup(self._reset_warning_filters) def _reset_warning_filters(self): warnings.filters[:] = self._original_warning_filters ",,61,3
openstack%2Fneutron~master~Icb76861f82838f21440f29ed4b5c97be3a410360,openstack/neutron,master,Icb76861f82838f21440f29ed4b5c97be3a410360,Fix 'consider-using-with' warning,MERGED,2023-05-31 20:44:33.000000000,2023-06-02 17:19:07.000000000,2023-06-02 17:17:48.000000000,"[{'_account_id': 5948}, {'_account_id': 7730}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 20:44:33.000000000', 'files': ['neutron/tests/unit/common/ovn/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f9be5d886dc07576eea179612fc00138e58fad28', 'message': ""Fix 'consider-using-with' warning\n\nTest test_get_system_dns_resolvers() open codes an\nopen() and close(), use 'with' instead to be safer.\nSeems to be the only place in the tree we did this.\n\nTrivialfix\n\nChange-Id: Icb76861f82838f21440f29ed4b5c97be3a410360\n""}]",0,884947,f9be5d886dc07576eea179612fc00138e58fad28,11,6,1,1131,,,0,"Fix 'consider-using-with' warning

Test test_get_system_dns_resolvers() open codes an
open() and close(), use 'with' instead to be safer.
Seems to be the only place in the tree we did this.

Trivialfix

Change-Id: Icb76861f82838f21440f29ed4b5c97be3a410360
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/884947/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/common/ovn/test_utils.py'],1,f9be5d886dc07576eea179612fc00138e58fad28,consider-using-with," with open(resolver_file_name, 'w') as f: f.writelines(RESOLV_CONF_TEMPLATE)"," tmp_resolv_file = open(resolver_file_name, 'w') tmp_resolv_file.writelines(RESOLV_CONF_TEMPLATE) tmp_resolv_file.close()",2,3
openstack%2Fopenstacksdk~master~Iaff2a67913c47d6f807fe8d332ad98d0581823b0,openstack/openstacksdk,master,Iaff2a67913c47d6f807fe8d332ad98d0581823b0,cloud: Remove '_ShadeAdapter',MERGED,2022-06-16 17:50:30.000000000,2023-06-02 17:19:06.000000000,2023-06-02 17:17:28.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-06-16 17:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d93d5896ffaf6d0e68b9342d1c33803e600bc2f1', 'message': ""WIP: Remove '_ShadeAdapter'\n\nNothing requires the JSON conversion functionality this provides\nnowadays.\n\nWIP because actually some stuff clearly does (see: failing tests). We\nprobably need to finish the cloud -> proxy transformation to merge this.\n\nChange-Id: Iaff2a67913c47d6f807fe8d332ad98d0581823b0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2023-05-25 17:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bbdf4d9ab7ede501d0a0f2e597ac31649cbd771f', 'message': ""Remove '_ShadeAdapter'\n\nVery few things require the JSON conversion functionality this provides\nnowadays (few TODO items outstanding). We can finally remove it.\n\nChange-Id: Iaff2a67913c47d6f807fe8d332ad98d0581823b0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2023-05-26 13:12:17.000000000', 'files': ['openstack/cloud/openstackcloud.py', 'doc/source/contributor/coding.rst', 'openstack/proxy.py', 'openstack/orchestration/util/event_utils.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ca770c5bcd00348c4dda1e7d9872814ddcc7712b', 'message': ""cloud: Remove '_ShadeAdapter'\n\nVery few things require the JSON conversion functionality this provides\nnowadays (few TODO items outstanding). We can finally remove it.\n\nChange-Id: Iaff2a67913c47d6f807fe8d332ad98d0581823b0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,846216,ca770c5bcd00348c4dda1e7d9872814ddcc7712b,14,3,3,15334,,,0,"cloud: Remove '_ShadeAdapter'

Very few things require the JSON conversion functionality this provides
nowadays (few TODO items outstanding). We can finally remove it.

Change-Id: Iaff2a67913c47d6f807fe8d332ad98d0581823b0
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/16/846216/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/openstackcloud.py', 'doc/source/contributor/coding.rst', 'openstack/proxy.py']",3,d93d5896ffaf6d0e68b9342d1c33803e600bc2f1,cleanup,," class _ShadeAdapter(Proxy): """"""Wrapper for shade methods that expect json unpacking."""""" def request(self, url, method, error_message=None, **kwargs): response = super(_ShadeAdapter, self).request(url, method, **kwargs) return _json_response(response, error_message=error_message)",7,18
openstack%2Fopenstacksdk~master~I5039fd8585e3352798a6d2fae7d5623fbc1adb6a,openstack/openstacksdk,master,I5039fd8585e3352798a6d2fae7d5623fbc1adb6a,Use custom warnings everywhere,MERGED,2023-05-25 16:32:51.000000000,2023-06-02 17:17:42.000000000,2023-06-02 17:17:42.000000000,"[{'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-05-25 16:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c3f4b7dcc6e7b6481e0baac9786cbe7a7e21d7b8', 'message': ""Use custom warnings everywhere\n\nBuild on change I3846e8fcffdb5de2afe64365952d90b5ecb0f74a by switching\nall callers of 'warning.warn' to use our custom warnings. This allows\nusers (like OSC) to filter these out as needed.\n\nSince we have new types of warning, the docs are updated accordingly.\n\nChange-Id: I5039fd8585e3352798a6d2fae7d5623fbc1adb6a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2023-05-26 13:32:02.000000000', 'files': ['openstack/config/cloud_region.py', 'openstack/image/v1/_proxy.py', 'openstack/cloud/openstackcloud.py', 'openstack/image/v2/_proxy.py', 'openstack/cloud/_baremetal.py', 'openstack/cloud/_block_storage.py', 'openstack/compute/v2/hypervisor.py', 'openstack/config/loader.py', 'openstack/warnings.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'doc/source/user/warnings.rst', 'openstack/compute/v2/_proxy.py', 'openstack/cloud/_floating_ip.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3f9685ffada1f3191d9ed8aea74f110fac430948', 'message': ""Use custom warnings everywhere\n\nBuild on change I3846e8fcffdb5de2afe64365952d90b5ecb0f74a by switching\nall callers of 'warning.warn' to use our custom warnings. This allows\nusers (like OSC) to filter these out as needed.\n\nSince we have new types of warning, the docs are updated accordingly.\n\nChange-Id: I5039fd8585e3352798a6d2fae7d5623fbc1adb6a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",3,884417,3f9685ffada1f3191d9ed8aea74f110fac430948,11,4,2,15334,,,0,"Use custom warnings everywhere

Build on change I3846e8fcffdb5de2afe64365952d90b5ecb0f74a by switching
all callers of 'warning.warn' to use our custom warnings. This allows
users (like OSC) to filter these out as needed.

Since we have new types of warning, the docs are updated accordingly.

Change-Id: I5039fd8585e3352798a6d2fae7d5623fbc1adb6a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/17/884417/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/config/cloud_region.py', 'openstack/image/v1/_proxy.py', 'openstack/cloud/openstackcloud.py', 'openstack/image/v2/_proxy.py', 'openstack/cloud/_baremetal.py', 'openstack/cloud/_block_storage.py', 'openstack/compute/v2/hypervisor.py', 'openstack/config/loader.py', 'openstack/warnings.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'doc/source/user/warnings.rst', 'openstack/compute/v2/_proxy.py', 'openstack/cloud/_floating_ip.py']",13,c3f4b7dcc6e7b6481e0baac9786cbe7a7e21d7b8,warnings,"from openstack import warnings as os_warnings ""search_floating_ips is deprecated. Use search_resource instead."", os_warnings.OpenStackDeprecationWarning,"," ""search_floating_ips is deprecated. "" ""Use search_resource instead.""",109,74
openstack%2Fopenstacksdk~master~I4a42342dd4a248cce9b630348252482ff33851a7,openstack/openstacksdk,master,I4a42342dd4a248cce9b630348252482ff33851a7,"tests: Use uuid, not randint",MERGED,2023-05-26 15:11:17.000000000,2023-06-02 17:17:39.000000000,2023-06-02 17:17:39.000000000,"[{'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-05-26 15:11:17.000000000', 'files': ['openstack/tests/functional/dns/v2/test_zone_share.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/97f28e410b68bc78d382623797ebf2166522c73c', 'message': ""tests: Use uuid, not randint\n\nrandint isn't random enough, especially on CI machines with low entropy.\nAs a result, we are seeing test failures. Use a UUID instead.\n\nChange-Id: I4a42342dd4a248cce9b630348252482ff33851a7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,884514,97f28e410b68bc78d382623797ebf2166522c73c,8,4,1,15334,,,0,"tests: Use uuid, not randint

randint isn't random enough, especially on CI machines with low entropy.
As a result, we are seeing test failures. Use a UUID instead.

Change-Id: I4a42342dd4a248cce9b630348252482ff33851a7
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/14/884514/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tests/functional/dns/v2/test_zone_share.py'],1,97f28e410b68bc78d382623797ebf2166522c73c,trivial," import uuid self.ZONE_NAME = 'example-{0}.org.'.format(uuid.uuid4().hex) self.operator_cloud.dns.delete_zone, self.zone, delete_shares=True, self.operator_cloud.dns.delete_zone_share, self.zone, zone_share, self.zone, target_project_id=self.demo_project_id, self.zone, orig_zone_share, self.zone, orig_zone_share.id, self.zone, 'bogus_id', self.zone, target_project_id=self.demo_project_id, self.operator_cloud.dns.delete_zone_share, self.zone, zone_share, self.zone, target_project_id=self.demo_project_id, self.operator_cloud.dns.delete_zone_share, self.zone, zone_share,","import random self.ZONE_NAME = 'example-{0}.org.'.format(random.randint(1, 10000)) self.operator_cloud.dns.delete_zone, self.zone, delete_shares=True self.operator_cloud.dns.delete_zone_share, self.zone, zone_share self.zone, target_project_id=self.demo_project_id self.zone, orig_zone_share self.zone, orig_zone_share.id self.zone, 'bogus_id' self.zone, target_project_id=self.demo_project_id self.operator_cloud.dns.delete_zone_share, self.zone, zone_share self.zone, target_project_id=self.demo_project_id self.operator_cloud.dns.delete_zone_share, self.zone, zone_share",27,12
openstack%2Fopenstacksdk~master~Iba8649b8e12f367760849fd185cf76b94b703706,openstack/openstacksdk,master,Iba8649b8e12f367760849fd185cf76b94b703706,docs: Replace/remove shade-specific docs,MERGED,2023-03-27 13:38:20.000000000,2023-06-02 17:17:38.000000000,2023-06-02 17:17:38.000000000,"[{'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-03-27 13:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fbe956bf2f69d39fbdacd11da5c44a33eb9899c0', 'message': 'docs: Replace/remove shade-specific docs\n\nLots of minor tweaks, none of them worthy of their own change.\n\nChange-Id: Iba8649b8e12f367760849fd185cf76b94b703706\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2023-03-27 13:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ef7e2b1a560cc11d3ce5a6ee0d38bb1b5b751791', 'message': 'docs: Replace/remove shade-specific docs\n\nLots of minor tweaks, none of them worthy of their own change.\n\nChange-Id: Iba8649b8e12f367760849fd185cf76b94b703706\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2023-05-25 16:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ad91fa299a64a8518297cc64783669a3f9946eb2', 'message': 'docs: Replace/remove shade-specific docs\n\nLots of minor tweaks, none of them worthy of their own change.\n\nChange-Id: Iba8649b8e12f367760849fd185cf76b94b703706\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2023-05-29 09:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/56cc051c32127ae8284c00f9499676a645ac686e', 'message': 'docs: Replace/remove shade-specific docs\n\nLots of minor tweaks, none of them worthy of their own change.\n\nChange-Id: Iba8649b8e12f367760849fd185cf76b94b703706\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2023-05-30 09:29:07.000000000', 'files': ['doc/source/contributor/history.rst', 'doc/source/user/multi-cloud-demo.rst', 'doc/source/user/index.rst', 'doc/source/install/index.rst', 'doc/source/contributor/setup.rst', 'doc/source/contributor/layout.rst', 'doc/source/contributor/coding.rst', 'doc/source/user/microversions.rst', 'doc/source/index.rst', 'doc/source/contributor/index.rst', 'doc/source/user/resource.rst', 'doc/source/releasenotes.rst', 'doc/source/user/model.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c1c6a0e9168762eed604c0ba7ec58b2c77247077', 'message': 'docs: Replace/remove shade-specific docs\n\nLots of minor tweaks, none of them worthy of their own change.\n\nChange-Id: Iba8649b8e12f367760849fd185cf76b94b703706\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",9,878644,c1c6a0e9168762eed604c0ba7ec58b2c77247077,21,4,5,15334,,,0,"docs: Replace/remove shade-specific docs

Lots of minor tweaks, none of them worthy of their own change.

Change-Id: Iba8649b8e12f367760849fd185cf76b94b703706
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/44/878644/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/history.rst', 'doc/source/user/multi-cloud-demo.rst', 'doc/source/user/index.rst', 'doc/source/install/index.rst', 'doc/source/contributor/setup.rst', 'doc/source/contributor/layout.rst', 'doc/source/contributor/coding.rst', 'doc/source/user/microversions.rst', 'doc/source/index.rst', 'doc/source/contributor/index.rst', 'doc/source/user/resource.rst', 'doc/source/releasenotes.rst', 'doc/source/user/model.rst']",13,fbe956bf2f69d39fbdacd11da5c44a33eb9899c0,cleanup,"*openstacksdk* has a very strict policy on not breaking backwards compatibility ever.directly, leaving a openstacksdk user open to changes/differences in result content. To combat that, openstacksdk 'normalizes' the return structure from OpenStack in many places, and the results of that normalization are listed below. Where openstacksdkas being completely safe to use - they are as much a part of openstacksdk's APIthe root of the object. openstacksdk will pass those through so as not to break anyone who may be counting on them, but as they are arbitrary openstacksdk can make no guarantees as to their existence. As part of normalization, openstacksdk will put anyIf a user passes `strict=True` to the openstacksdk constructor, openstacksdk will not passAny key that is transformed as part of the openstacksdk data model contract willThe ``location`` field ----------------------The project information may contain a project ID, or a combination of one or more of a project name with a domain name or ID. If a project ID is present,","==========shade has a very strict policy on not breaking backwards compatability ever.directly, leaving a shade user open to changes/differences in result content. To combat that, shade 'normalizes' the return structure from OpenStack in many places, and the results of that normalization are listed below. Where shadeas being completely safe to use - they are as much a part of shade's APIthe root of the object. shade will pass those through so as not to break anyone who may be counting on them, but as they are arbitrary shade can make no guarantees as to their existence. As part of normalization, shade will put anyIf a user passes `strict=True` to the shade constructor, shade will not passAny key that is transformed as part of the shade data model contract willLocation --------The project information may contain a project id, or a combination of one or more of a project name with a domain name or id. If a project id is present,If all of the project information is None, then Resources ========= Flavor ------ A flavor for a Nova Server. .. code-block:: python Flavor = dict( location=Location(), id=str(), name=str(), is_public=bool(), is_disabled=bool(), ram=int(), vcpus=int(), disk=int(), ephemeral=int(), swap=int(), rxtx_factor=float(), extra_specs=dict(), properties=dict()) Flavor Access ------------- An access entry for a Nova Flavor. .. code-block:: python FlavorAccess = dict( flavor_id=str(), project_id=str()) Image ----- A Glance Image. .. code-block:: python Image = dict( location=Location(), id=str(), name=str(), min_ram=int(), min_disk=int(), size=int(), virtual_size=int(), container_format=str(), disk_format=str(), checksum=str(), created_at=str(), updated_at=str(), owner=str(), is_public=bool(), is_protected=bool(), visibility=str(), status=str(), locations=list(), direct_url=str() or None, tags=list(), properties=dict()) Keypair ------- A keypair for a Nova Server. .. code-block:: python Keypair = dict( location=Location(), name=str(), id=str(), public_key=str(), fingerprint=str(), type=str(), user_id=str(), private_key=str() or None properties=dict()) Security Group -------------- A Security Group from either Nova or Neutron .. code-block:: python SecurityGroup = dict( location=Location(), id=str(), name=str(), description=str(), security_group_rules=list(), properties=dict()) Security Group Rule ------------------- A Security Group Rule from either Nova or Neutron .. code-block:: python SecurityGroupRule = dict( location=Location(), id=str(), direction=str(), # oneof('ingress', 'egress') ethertype=str(), port_range_min=int() or None, port_range_max=int() or None, protocol=str() or None, remote_ip_prefix=str() or None, security_group_id=str() or None, remote_group_id=str() or None properties=dict()) Server ------ A Server from Nova .. code-block:: python Server = dict( location=Location(), id=str(), name=str(), image=dict() or str(), flavor=dict(), volumes=list(), # Volume interface_ip=str(), has_config_drive=bool(), accessIPv4=str(), accessIPv6=str(), addresses=dict(), # string, list(Address) created=str(), created_at=str(), key_name=str(), metadata=dict(), # string, string private_v4=str(), progress=int(), public_v4=str(), public_v6=str(), security_groups=list(), # SecurityGroup status=str(), updated=str(), user_id=str(), host_id=str() or None, power_state=str() or None, task_state=str() or None, vm_state=str() or None, launched_at=str() or None, terminated_at=str() or None, task_state=str() or None, block_device_mapping=dict() or None, instance_name=str() or None, hypervisor_name=str() or None, tags=list(), personality=str() or None, scheduler_hints=str() or None, user_data=str() or None, properties=dict()) ComputeLimits ------------- Limits and current usage for a project in Nova .. code-block:: python ComputeLimits = dict( location=Location(), max_personality=int(), max_personality_size=int(), max_server_group_members=int(), max_server_groups=int(), max_server_meta=int(), max_total_cores=int(), max_total_instances=int(), max_total_keypairs=int(), max_total_ram_size=int(), total_cores_used=int(), total_instances_used=int(), total_ram_used=int(), total_server_groups_used=int(), properties=dict()) ComputeUsage ------------ Current usage for a project in Nova .. code-block:: python ComputeUsage = dict( location=Location(), started_at=str(), stopped_at=str(), server_usages=list(), max_personality=int(), max_personality_size=int(), max_server_group_members=int(), max_server_groups=int(), max_server_meta=int(), max_total_cores=int(), max_total_instances=int(), max_total_keypairs=int(), max_total_ram_size=int(), total_cores_used=int(), total_hours=int(), total_instances_used=int(), total_local_gb_usage=int(), total_memory_mb_usage=int(), total_ram_used=int(), total_server_groups_used=int(), total_vcpus_usage=int(), properties=dict()) ServerUsage ----------- Current usage for a server in Nova .. code-block:: python ComputeUsage = dict( started_at=str(), ended_at=str(), flavor=str(), hours=int(), instance_id=str(), local_gb=int(), memory_mb=int(), name=str(), state=str(), uptime=int(), vcpus=int(), properties=dict()) Floating IP ----------- A Floating IP from Neutron or Nova .. code-block:: python FloatingIP = dict( location=Location(), id=str(), description=str(), attached=bool(), fixed_ip_address=str() or None, floating_ip_address=str() or None, network=str() or None, port=str() or None, router=str(), status=str(), created_at=str() or None, updated_at=str() or None, revision_number=int() or None, properties=dict()) Volume ------ A volume from cinder. .. code-block:: python Volume = dict( location=Location(), id=str(), name=str(), description=str(), size=int(), attachments=list(), status=str(), migration_status=str() or None, host=str() or None, replication_driver=str() or None, replication_status=str() or None, replication_extended_status=str() or None, snapshot_id=str() or None, created_at=str(), updated_at=str() or None, source_volume_id=str() or None, consistencygroup_id=str() or None, volume_type=str() or None, metadata=dict(), is_bootable=bool(), is_encrypted=bool(), can_multiattach=bool(), properties=dict()) VolumeType ---------- A volume type from cinder. .. code-block:: python VolumeType = dict( location=Location(), id=str(), name=str(), description=str() or None, is_public=bool(), qos_specs_id=str() or None, extra_specs=dict(), properties=dict()) VolumeTypeAccess ---------------- A volume type access from cinder. .. code-block:: python VolumeTypeAccess = dict( location=Location(), volume_type_id=str(), project_id=str(), properties=dict()) ClusterTemplate --------------- A Cluster Template from magnum. .. code-block:: python ClusterTemplate = dict( location=Location(), apiserver_port=int(), cluster_distro=str(), coe=str(), created_at=str(), dns_nameserver=str(), docker_volume_size=int(), external_network_id=str(), fixed_network=str() or None, flavor_id=str(), http_proxy=str() or None, https_proxy=str() or None, id=str(), image_id=str(), insecure_registry=str(), is_public=bool(), is_registry_enabled=bool(), is_tls_disabled=bool(), keypair_id=str(), labels=dict(), master_flavor_id=str() or None, name=str(), network_driver=str(), no_proxy=str() or None, server_type=str(), updated_at=str() or None, volume_driver=str(), properties=dict()) MagnumService ------------- A Magnum Service from magnum .. code-block:: python MagnumService = dict( location=Location(), binary=str(), created_at=str(), disabled_reason=str() or None, host=str(), id=str(), report_count=int(), state=str(), properties=dict()) Stack ----- A Stack from Heat .. code-block:: python Stack = dict( location=Location(), id=str(), name=str(), created_at=str(), deleted_at=str(), updated_at=str(), description=str(), action=str(), identifier=str(), is_rollback_enabled=bool(), notification_topics=list(), outputs=list(), owner=str(), parameters=dict(), parent=str(), stack_user_project_id=str(), status=str(), status_reason=str(), tags=dict(), tempate_description=str(), timeout_mins=int(), properties=dict()) Identity Resources ================== Identity Resources are slightly different. They are global to a cloud, so location.availability_zone and location.region_name and will always be None. If a deployer happens to deploy OpenStack in such a way that users and projects are not shared amongst regions, that necessitates treating each of those regions as separate clouds from shade's POV. The Identity Resources that are not Project do not exist within a Project, so all of the values in ``location.project`` will be None. Project ------- A Project from Keystone (or a tenant if Keystone v2) Location information for Project has some additional specific semantics. If the project has a parent project, that will be in ``location.project.id``, and if it doesn't that should be ``None``. If the Project is associated with a domain that will be in ``location.project.domain_id`` in addition to the normal ``domain_id`` regardless of the current user's token scope. .. code-block:: python Project = dict( location=Location(), id=str(), name=str(), description=str(), is_enabled=bool(), is_domain=bool(), domain_id=str(), properties=dict()) Role ---- A Role from Keystone .. code-block:: python Project = dict( location=Location(), id=str(), name=str(), domain_id=str(), properties=dict())",147,645
openstack%2Fopenstacksdk~master~I0671859307b3490afd98bbecc87b25cdefaad08e,openstack/openstacksdk,master,I0671859307b3490afd98bbecc87b25cdefaad08e,cloud: Move identity-related helpers,MERGED,2023-05-26 13:12:17.000000000,2023-06-02 17:17:36.000000000,2023-06-02 17:17:36.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-05-26 13:12:17.000000000', 'files': ['openstack/cloud/_identity.py', 'openstack/cloud/openstackcloud.py', 'openstack/tests/unit/base.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f4c3a7734c39ed701b7fc227e33855de89ad07ef', 'message': ""cloud: Move identity-related helpers\n\nThese belong in the 'openstack.cloud._identity'. Make it, so resolving a\nlittle duplication in the process.\n\nChange-Id: I0671859307b3490afd98bbecc87b25cdefaad08e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,884495,f4c3a7734c39ed701b7fc227e33855de89ad07ef,7,3,1,15334,,,0,"cloud: Move identity-related helpers

These belong in the 'openstack.cloud._identity'. Make it, so resolving a
little duplication in the process.

Change-Id: I0671859307b3490afd98bbecc87b25cdefaad08e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/95/884495/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/_identity.py', 'openstack/cloud/openstackcloud.py', 'openstack/tests/unit/base.py']",3,f4c3a7734c39ed701b7fc227e33855de89ad07ef,cleanup," len(self.calls), len(self.adapter.request_history), ""Expected:\n{}'\nGot:\n{}"".format( '\n'.join([c['url'] for c in self.calls]), '\n'.join([h.url for h in self.adapter.request_history]), ),"," len(self.calls), len(self.adapter.request_history)",48,65
openstack%2Fopenstacksdk~master~Iee56f6841355bebe1bc21a05bd5ce594f2d7b4cc,openstack/openstacksdk,master,Iee56f6841355bebe1bc21a05bd5ce594f2d7b4cc,cloud: Remove ClusteringCloudMixin,MERGED,2023-05-26 13:12:17.000000000,2023-06-02 17:17:32.000000000,2023-06-02 17:17:32.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-05-26 13:12:17.000000000', 'files': ['openstack/cloud/_clustering.py', 'openstack/connection.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0b137cf1e9b41bccd42a5ebfe2b3498384bfcbe0', 'message': ""cloud: Remove ClusteringCloudMixin\n\nThis is all commented out and isn't currently doing anything of use.\nRemove it.\n\nChange-Id: Iee56f6841355bebe1bc21a05bd5ce594f2d7b4cc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,884493,0b137cf1e9b41bccd42a5ebfe2b3498384bfcbe0,7,3,1,15334,,,0,"cloud: Remove ClusteringCloudMixin

This is all commented out and isn't currently doing anything of use.
Remove it.

Change-Id: Iee56f6841355bebe1bc21a05bd5ce594f2d7b4cc
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/93/884493/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/_clustering.py', 'openstack/connection.py']",2,0b137cf1e9b41bccd42a5ebfe2b3498384bfcbe0,cleanup,,"from openstack.cloud import _clustering _clustering.ClusteringCloudMixin, _clustering.ClusteringCloudMixin.__init__(self)",0,515
openstack%2Fopenstacksdk~master~I33a98b8e6f3f2aeeeb44c194d72c1ac1f8688b17,openstack/openstacksdk,master,I33a98b8e6f3f2aeeeb44c194d72c1ac1f8688b17,cloud: Rename shade-specific method,MERGED,2023-05-25 17:07:19.000000000,2023-06-02 17:17:30.000000000,2023-06-02 17:17:30.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-05-25 17:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6d4eaa5c656c0edc7c7ca75b1cfb9b3eb47463d9', 'message': 'Rename shade-specific method\n\nChange-Id: I33a98b8e6f3f2aeeeb44c194d72c1ac1f8688b17\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2023-05-26 13:12:17.000000000', 'files': ['openstack/cloud/_utils.py', 'openstack/cloud/_floating_ip.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d2127f848a0dc3e7815326d9fc6ae69645c52f8f', 'message': 'cloud: Rename shade-specific method\n\nChange-Id: I33a98b8e6f3f2aeeeb44c194d72c1ac1f8688b17\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,884423,d2127f848a0dc3e7815326d9fc6ae69645c52f8f,9,3,2,15334,,,0,"cloud: Rename shade-specific method

Change-Id: I33a98b8e6f3f2aeeeb44c194d72c1ac1f8688b17
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/23/884423/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/_utils.py', 'openstack/cloud/_floating_ip.py']",2,6d4eaa5c656c0edc7c7ca75b1cfb9b3eb47463d9,cleanup, with _utils.openstacksdk_exceptions( with _utils.openstacksdk_exceptions(, with _utils.shade_exceptions( with _utils.shade_exceptions(,6,6
openstack%2Fcharm-mysql-innodb-cluster~stable%2Fjammy~Ic46da9695f414317c539f9eef17a4cf5783c455c,openstack/charm-mysql-innodb-cluster,stable/jammy,Ic46da9695f414317c539f9eef17a4cf5783c455c,Fix issues when the leader is not in the cluster,NEW,2023-06-02 13:42:57.000000000,2023-06-02 17:13:46.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-02 13:42:57.000000000', 'files': ['src/lib/charm/openstack/mysql_innodb_cluster.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/aad0312e9cac716df924b0400faa845a26ae1403', 'message': ""Fix issues when the leader is not in the cluster\n\nEssentially, if GR is down and the unit is the leader it spends ages in\nhooks trying to essentially check databases and users and essentially\ndoing nothing.  Get it to run the hook quicker as it can't do anything.\n\nChange-Id: Ic46da9695f414317c539f9eef17a4cf5783c455c\n(cherry picked from commit a5d5db403ec5d41af00190439c5b5e41f5c63f41)\n""}]",0,885019,aad0312e9cac716df924b0400faa845a26ae1403,3,2,1,20870,,,0,"Fix issues when the leader is not in the cluster

Essentially, if GR is down and the unit is the leader it spends ages in
hooks trying to essentially check databases and users and essentially
doing nothing.  Get it to run the hook quicker as it can't do anything.

Change-Id: Ic46da9695f414317c539f9eef17a4cf5783c455c
(cherry picked from commit a5d5db403ec5d41af00190439c5b5e41f5c63f41)
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/19/885019/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/mysql_innodb_cluster.py'],1,aad0312e9cac716df924b0400faa845a26ae1403,fix-hook-execution-leader-not-in-cluster-stable/jammy," return None if not rw_helper: ch_core.hookenv.log( ""create_databases_and_users: the rw helper for the cluster is "" ""not available and so skipping create_databases_and_users"", ""WARNING"") return False", return,7,1
openstack%2Fmanila~master~I37f5a058dd1dec8e1a6ba129f121de12c0f2f3e1,openstack/manila,master,I37f5a058dd1dec8e1a6ba129f121de12c0f2f3e1,"db: Add '_share_update', '_share_instance_update'",NEW,2023-06-02 10:42:06.000000000,2023-06-02 16:58:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-02 10:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/952b8f24b7fd5f579b580aaf0ce8f21af83d4d5e', 'message': ""db: Add '_share_update', '_share_instance_update'\n\nAnother set of APIs that are commonly used from other APIs. Add private\nversions of these that we can call without worrying about them creating\nnew sessions on us.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I37f5a058dd1dec8e1a6ba129f121de12c0f2f3e1\n""}, {'number': 2, 'created': '2023-06-02 10:43:01.000000000', 'files': ['manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/df0f86222cab2d920f28a461fb21b4a6c83767b8', 'message': ""db: Add '_share_update', '_share_instance_update'\n\nAnother set of APIs that are commonly used from other APIs. Add private\nversions of these that we can call without worrying about them creating\nnew sessions on us.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I37f5a058dd1dec8e1a6ba129f121de12c0f2f3e1\n""}]",0,885122,df0f86222cab2d920f28a461fb21b4a6c83767b8,5,1,2,15334,,,0,"db: Add '_share_update', '_share_instance_update'

Another set of APIs that are commonly used from other APIs. Add private
versions of these that we can call without worrying about them creating
new sessions on us.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I37f5a058dd1dec8e1a6ba129f121de12c0f2f3e1
",git fetch https://review.opendev.org/openstack/manila refs/changes/22/885122/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/db/sqlalchemy/api.py'],1,952b8f24b7fd5f579b580aaf0ce8f21af83d4d5e,sqlalchemy-20,"# TODO(stephenfin): Remove the 'session' argument once all callers have been # converted def _share_instance_update(context, share_instance_id, values, session=None): share_instance_ref = _share_instance_get( context, share_instance_id, session=session) share_instance_ref.update(values) share_instance_ref.save(session=session) return share_instance_ref with session.begin(): return _share_update(context, share_id, update_values, session) # TODO(stephenfin): Remove the 'session' argument once all callers have been # converted @oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True) def _share_update(context, share_id, update_values, session=None): share_ref = _share_get(context, share_id, session=session) _share_instance_update( context, share_ref.instance['id'], share_instance_values, session=session) share_ref.update(share_values) share_ref.save(session=session) return share_ref","def _share_instance_update(context, share_instance_id, values, session): share_instance_ref = share_instance_get(context, share_instance_id, session=session) share_instance_ref.update(values) share_instance_ref.save(session=session) return share_instance_ref @oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True) with session.begin(): share_ref = share_get(context, share_id, session=session) _share_instance_update(context, share_ref.instance['id'], share_instance_values, session=session) share_ref.update(share_values) share_ref.save(session=session) return share_ref",26,16
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I7ad6c7f64c6a4fc3ec22de3c636d49c8f9163e09,openstack/tripleo-heat-templates,stable/wallaby,I7ad6c7f64c6a4fc3ec22de3c636d49c8f9163e09,Added script to copy params from a role,MERGED,2023-05-04 08:43:30.000000000,2023-06-02 16:58:34.000000000,2023-06-02 16:58:34.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 22954}]","[{'number': 1, 'created': '2023-05-04 08:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1dfb79618c00574664d884e1349eaaaf681e76c2', 'message': 'Added script to copy params from a role\n\ncopy_role_params.py scrtip to help operators to copy\nparamaters from one role to another.\n\nThis aims for helping operators with the transition\nfrom minor rhel role to mayor rhel role with the same\nparamaters, filtering out the non needed parameters\n\nThe unkonw parameters are ignored.\n\nArguments:\n  --environment, -e environment files\n  --output-file, -o file to write the parameters\n  --rolename-src role source from the parameters are going\nto be copied\n  --rolename-dst role destination where the parameters are\ngoing to be copied\n\nExample:\n./copy_role_params.py --rolename-src ComputeHCI --rolename-dst ComputeHCIRHEL9 \\\n    -o new_file_paramsyaml \\\n    --stack qe-Cloud-0 \\\n    --templates /usr/share/openstack-tripleo-heat-templates \\\n    --debug \\\n    -e /home/stack/overcloud-params.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/cinder-backup.yaml \\\n    -e /home/stack/composable_roles/roles/nodes.yaml \\\n    -e /home/stack/composable_roles/internal.yaml \\\n    -e /home/stack/composable_roles/nodes_software_config.yaml \\\n    -e /home/stack/composable_roles/enable-tls.yaml \\\n    -e /home/stack/composable_roles/inject-trust-anchor.yaml \\\n    -e /home/stack/composable_roles/public_vip.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/ssl/tls-endpoints-public-ip.yaml \\\n    -e /home/stack/composable_roles/hostnames.yml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/ceph-ansible/ceph-ansible.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/services/neutron-ovn-ha.yaml \\\n    -e /home/stack/composable_roles/hostnames.yaml \\\n    -e /home/stack/composable_roles/debug.yaml \\\n    -e /home/stack/composable_roles/ntp_pool.yaml \\\n    -e /home/stack/composable_roles/config_heat.yaml \\\n    -e /home/stack/composable_roles/firstboot.yaml \\\n    -e ~/containers-prepare-parameter.yaml \\\n    -e /home/stack/composable_roles/performance.yaml \\\n    -e /home/stack/composable_roles/l3_fip_qos.yaml \\\n    -e /home/stack/composable_roles/ovn-extras.yaml \\\n    -e /home/stack/overcloud-params.yaml \\\n    -e /home/stack/overcloud-deploy/qe-Cloud-0/qe-Cloud-0-network-environment.yaml \\\n    -e /home/stack/tmp/baremetal_deployment.yaml \\\n    -e /home/stack/tmp/generated-networks-deployed.yaml \\\n    -e /home/stack/tmp/generated-vip-deployed.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/cephadm/cephadm-rbd-only.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/nova-hw-machine-type-upgrade.yaml \\\n    -e /home/stack/system_upgrade.yaml \\\n    -e /home/stack/containers-prepare-parameter.yaml \\\n    --roles-file /home/stack/composable_roles/roles/roles_data.yaml\n\nCo-authored-by: Lukas Bezdicka\nChange-Id: I7ad6c7f64c6a4fc3ec22de3c636d49c8f9163e09\n(cherry picked from commit d5cfea3ff0d5408e0713ff6207c669e8f0f12318)\n'}, {'number': 2, 'created': '2023-05-09 12:41:32.000000000', 'files': ['tools/copy_role_params.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/117d973c37e113abffaec43193b08ff0ebfc87a2', 'message': 'Added script to copy params from a role\n\ncopy_role_params.py scrtip to help operators to copy\nparamaters from one role to another.\n\nThis aims for helping operators with the transition\nfrom minor rhel role to mayor rhel role with the same\nparamaters, filtering out the non needed parameters\n\nThe unkonw parameters are ignored.\n\nArguments:\n  --environment, -e environment files\n  --output-file, -o file to write the parameters\n  --rolename-src role source from the parameters are going\nto be copied\n  --rolename-dst role destination where the parameters are\ngoing to be copied\n\nExample:\n./copy_role_params.py --rolename-src ComputeHCI --rolename-dst ComputeHCIRHEL9 \\\n    -o new_file_paramsyaml \\\n    --stack qe-Cloud-0 \\\n    --templates /usr/share/openstack-tripleo-heat-templates \\\n    --debug \\\n    -e /home/stack/overcloud-params.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/cinder-backup.yaml \\\n    -e /home/stack/composable_roles/roles/nodes.yaml \\\n    -e /home/stack/composable_roles/internal.yaml \\\n    -e /home/stack/composable_roles/nodes_software_config.yaml \\\n    -e /home/stack/composable_roles/enable-tls.yaml \\\n    -e /home/stack/composable_roles/inject-trust-anchor.yaml \\\n    -e /home/stack/composable_roles/public_vip.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/ssl/tls-endpoints-public-ip.yaml \\\n    -e /home/stack/composable_roles/hostnames.yml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/ceph-ansible/ceph-ansible.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/services/neutron-ovn-ha.yaml \\\n    -e /home/stack/composable_roles/hostnames.yaml \\\n    -e /home/stack/composable_roles/debug.yaml \\\n    -e /home/stack/composable_roles/ntp_pool.yaml \\\n    -e /home/stack/composable_roles/config_heat.yaml \\\n    -e /home/stack/composable_roles/firstboot.yaml \\\n    -e ~/containers-prepare-parameter.yaml \\\n    -e /home/stack/composable_roles/performance.yaml \\\n    -e /home/stack/composable_roles/l3_fip_qos.yaml \\\n    -e /home/stack/composable_roles/ovn-extras.yaml \\\n    -e /home/stack/overcloud-params.yaml \\\n    -e /home/stack/overcloud-deploy/qe-Cloud-0/qe-Cloud-0-network-environment.yaml \\\n    -e /home/stack/tmp/baremetal_deployment.yaml \\\n    -e /home/stack/tmp/generated-networks-deployed.yaml \\\n    -e /home/stack/tmp/generated-vip-deployed.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/cephadm/cephadm-rbd-only.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/nova-hw-machine-type-upgrade.yaml \\\n    -e /home/stack/system_upgrade.yaml \\\n    -e /home/stack/containers-prepare-parameter.yaml \\\n    --roles-file /home/stack/composable_roles/roles/roles_data.yaml\n\nCo-authored-by: Lukas Bezdicka\nChange-Id: I7ad6c7f64c6a4fc3ec22de3c636d49c8f9163e09\n'}]",3,882241,117d973c37e113abffaec43193b08ff0ebfc87a2,20,3,2,31245,,,0,"Added script to copy params from a role

copy_role_params.py scrtip to help operators to copy
paramaters from one role to another.

This aims for helping operators with the transition
from minor rhel role to mayor rhel role with the same
paramaters, filtering out the non needed parameters

The unkonw parameters are ignored.

Arguments:
  --environment, -e environment files
  --output-file, -o file to write the parameters
  --rolename-src role source from the parameters are going
to be copied
  --rolename-dst role destination where the parameters are
going to be copied

Example:
./copy_role_params.py --rolename-src ComputeHCI --rolename-dst ComputeHCIRHEL9 \
    -o new_file_paramsyaml \
    --stack qe-Cloud-0 \
    --templates /usr/share/openstack-tripleo-heat-templates \
    --debug \
    -e /home/stack/overcloud-params.yaml \
    -e /usr/share/openstack-tripleo-heat-templates/environments/cinder-backup.yaml \
    -e /home/stack/composable_roles/roles/nodes.yaml \
    -e /home/stack/composable_roles/internal.yaml \
    -e /home/stack/composable_roles/nodes_software_config.yaml \
    -e /home/stack/composable_roles/enable-tls.yaml \
    -e /home/stack/composable_roles/inject-trust-anchor.yaml \
    -e /home/stack/composable_roles/public_vip.yaml \
    -e /usr/share/openstack-tripleo-heat-templates/environments/ssl/tls-endpoints-public-ip.yaml \
    -e /home/stack/composable_roles/hostnames.yml \
    -e /usr/share/openstack-tripleo-heat-templates/environments/ceph-ansible/ceph-ansible.yaml \
    -e /usr/share/openstack-tripleo-heat-templates/environments/services/neutron-ovn-ha.yaml \
    -e /home/stack/composable_roles/hostnames.yaml \
    -e /home/stack/composable_roles/debug.yaml \
    -e /home/stack/composable_roles/ntp_pool.yaml \
    -e /home/stack/composable_roles/config_heat.yaml \
    -e /home/stack/composable_roles/firstboot.yaml \
    -e ~/containers-prepare-parameter.yaml \
    -e /home/stack/composable_roles/performance.yaml \
    -e /home/stack/composable_roles/l3_fip_qos.yaml \
    -e /home/stack/composable_roles/ovn-extras.yaml \
    -e /home/stack/overcloud-params.yaml \
    -e /home/stack/overcloud-deploy/qe-Cloud-0/qe-Cloud-0-network-environment.yaml \
    -e /home/stack/tmp/baremetal_deployment.yaml \
    -e /home/stack/tmp/generated-networks-deployed.yaml \
    -e /home/stack/tmp/generated-vip-deployed.yaml \
    -e /usr/share/openstack-tripleo-heat-templates/environments/cephadm/cephadm-rbd-only.yaml \
    -e /usr/share/openstack-tripleo-heat-templates/environments/nova-hw-machine-type-upgrade.yaml \
    -e /home/stack/system_upgrade.yaml \
    -e /home/stack/containers-prepare-parameter.yaml \
    --roles-file /home/stack/composable_roles/roles/roles_data.yaml

Co-authored-by: Lukas Bezdicka
Change-Id: I7ad6c7f64c6a4fc3ec22de3c636d49c8f9163e09
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/882241/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/copy_role_params.py'],1,1dfb79618c00574664d884e1349eaaaf681e76c2,,"#!/usr/bin/python3 # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import argparse import os import sys import yaml def filter_count(pair): key, _ = pair if key.endswith('Count'): return True else: return False # We need to filter out roles with simillar name that our starts with picked up. # But we also want to filter out baremetal node provision provided params, ContainerImage,Prepare and so on. # Example to filter out: # resource_registry: # OS::TripleO::ComputeHCI::Net::SoftwareConfig: OS::Heat::None # OS::TripleO::ComputeHCI::Ports::InternalApiPort: /usr/share/openstack-tripleo-heat-templates/network/ports/deployed_internal_api.yaml # OS::TripleO::ComputeHCI::Ports::StorageMgmtPort: /usr/share/openstack-tripleo-heat-templates/network/ports/deployed_storage_mgmt.yaml # OS::TripleO::ComputeHCI::Ports::StoragePort: /usr/share/openstack-tripleo-heat-templates/network/ports/deployed_storage.yaml # OS::TripleO::ComputeHCI::Ports::TenantPort: /usr/share/openstack-tripleo-heat-templates/network/ports/deployed_tenant.yaml # This one specifically as it's OSP17.1 EL8.4 compatibility: # OS::TripleO::ComputeHCI::Services::NovaLibvirt: /usr/share/openstack-tripleo-heat-templates/deployment/deprecated/nova/nova-libvirt-container-puppet.yaml def filter_out_reg(pair): key, _ = pair if (""::Ports::"" in key and key.endswith(""Port"")): return False elif key.endswith(""Services::NovaLibvirt""): return False elif key.endswith(""Net::SoftwareConfig""): return False else: return True # parameter_defaults: # ComputeHCICount: 1 # ComputeHCIHostnameFormat: computehci-%index% # ComputeHCINetworkConfigTemplate: /home/stack/overcloud-deploy/qe-Cloud-0/nic-configs/osdcompute.j2 # ComputeHCIContainerImagePrepare: def filter_out_f(pair, rolename=''): key, _ = pair if key.startswith(rolename): return False elif (""::Ports::"" in key and key.endswith(""Port:"")): return False else: return True def filter_out_f_2(pair, removeme=''): key, _ = pair return False if key.endswith(removeme) else True def copy_role_parameters(env_files, rolename, new_role_env_file): n_role_params_def = {} n_role_res_registry = {} for file in env_files: if os.path.exists(file): with open(file, 'r') as env_file: contents = yaml.safe_load(env_file) pd = contents.get('parameter_defaults', {}) if pd: for key, value in pd.items(): if key.startswith(rolename): n_role_params_def[key] = value rr = contents.get('resource_registry', {}) if rr: for key, value in rr.items(): if key.startswith(""OS::TripleO::{}:"".format(rolename)): n_role_res_registry[key] = value # We can have ComputeCount Compute1Count which # means we have picked on multiple roles and as we # cannot parse here for all role_specific tagged params # we simply pick on Count: to figure out if we don't happen # to have colision role_count = [] filter_out = [] role_count = dict(filter(filter_count, n_role_params_def.items())) if len(role_count) > 1: for key in role_count: if key != ""{}Count"".format(rolename): filter_out.append(key[:-5]) for role in filter_out: n_role_params_def = dict(filter( lambda seq: filter_out_f(seq, rolename=role), n_role_params_def.items())) for word in ['Count', 'HostnameFormat', 'NetworkConfigTemplate', 'ContainerImagePrepare', 'UpgradeInitCommand']: n_role_params_def = dict(filter( lambda seq: filter_out_f_2(seq, removeme=word), n_role_params_def.items())) n_role_res_registry = dict(filter( lambda seq: filter_out_reg(seq), n_role_res_registry.items())) with open(new_role_env_file, 'w') as new_file: # I don't think we can blindly dump here, if one is empty we skip dumping dump_var = {} if (n_role_params_def != {}): dump_var['parameter_defaults'] = n_role_params_def if (n_role_res_registry != {}): dump_var['resource_registry'] = n_role_res_registry if (dump_var != {}): yaml.dump(dump_var, new_file, default_flow_style=False) def filter_role_parameters(env_files, rolename, new_role_env_file): n_role_params_def = {} n_role_res_registry = {} for file in env_files: if os.path.exists(file): with open(file, 'r') as env_file: contents = yaml.safe_load(env_file) pd = contents.get('parameter_defaults', {}) if pd: for key, value in pd.items(): if key.startswith(rolename): n_role_params_def[key] = value rr = contents.get('resource_registry', {}) if rr: for key, value in rr.items(): if key.startswith(""OS::TripleO::{}:"".format(rolename)): n_role_res_registry[key] = value # We can have ComputeCount Compute1Count which # means we have picked on multiple roles and as we # cannot parse here for all role_specific tagged params # we simply pick on Count: to figure out if we don't happen # to have colision role_count = [] filter_out = [] role_count = dict(filter(filter_count, n_role_params_def.items())) if len(role_count) > 1: for key in role_count: if key != ""{}Count"".format(rolename): filter_out.append(key[:-5]) for role in filter_out: n_role_params_def = dict(filter( lambda seq: filter_out_f(seq, rolename=role), n_role_params_def.items())) for word in ['Count', 'HostnameFormat', 'NetworkConfigTemplate', 'ContainerImagePrepare', 'UpgradeInitCommand']: n_role_params_def = dict(filter( lambda seq: filter_out_f_2(seq, removeme=word), n_role_params_def.items())) n_role_res_registry = dict(filter( lambda seq: filter_out_reg(seq), n_role_res_registry.items())) return (n_role_res_registry, n_role_params_def) def rename_parameters(parameters, role_src, role_dst): rr, pd = parameters new_rr = {} new_pd = {} for registry in rr.keys(): new_rr[registry.replace(role_src, role_dst)] = rr[registry] for parameter in pd.keys(): new_pd[parameter.replace(role_src, role_dst)] = pd[parameter] return (new_rr, new_pd) def write_parameters(parameters, new_role_env_file): rr, pd = parameters with open(new_role_env_file, 'w') as new_file: # I don't think we can blindly dump here, if one is empty we skip dumping dump_var = {} if (pd != {}): dump_var['parameter_defaults'] = pd if (rr != {}): dump_var['resource_registry'] = rr if (dump_var != {}): yaml.dump(dump_var, new_file, default_flow_style=False) def parse_opts(argv): parser = argparse.ArgumentParser() parser.add_argument('--environment', '-e', dest='e', help='envs', action = 'append') parser.add_argument('--output-file', '-o', dest='output_file', required=True, help='Output file where the outcome is written') parser.add_argument('--rolename-src', dest='rolename_src', required=True, help='The name of the role to copy') parser.add_argument('--rolename-dst', dest='rolename_dst', required=True, help='The name of the role with paramaters copied') opts = parser.parse_known_args(argv[1:]) return opts opts = parse_opts(sys.argv) parameters = filter_role_parameters(opts[0].e, opts[0].rolename_src, opts[0].output_file) parameters = rename_parameters(parameters, opts[0].rolename_src, opts[0].rolename_dst) write_parameters(parameters, opts[0].output_file) ",,231,0
openstack%2Fmanila~master~I95187d5b9bc21120c74b6784489c1b0dbbf337da,openstack/manila,master,I95187d5b9bc21120c74b6784489c1b0dbbf337da,db: Convert '_ensure_availability_zone_exists' to decorator,NEW,2023-06-02 10:42:06.000000000,2023-06-02 16:51:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-02 10:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/115b79a8480a5dcfb3971eeada92f9c7e9a866bd', 'message': ""db: Convert '_ensure_availability_zone_exists' to decorator\n\nWe are currently running this outside of the main session of many APIs.\nThis is tough to do when the session is created as a decorator. Make\nlife easier by using a decorator, which allows us to use a separate\ncontext and separate session.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I95187d5b9bc21120c74b6784489c1b0dbbf337da\n""}, {'number': 2, 'created': '2023-06-02 10:43:01.000000000', 'files': ['manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/80779214e836c6b5735dc33bb450747abcfc81d5', 'message': ""db: Convert '_ensure_availability_zone_exists' to decorator\n\nWe are currently running this outside of the main session of many APIs.\nThis is tough to do when the session is created as a decorator. Make\nlife easier by using a decorator, which allows us to use a separate\ncontext and separate session.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I95187d5b9bc21120c74b6784489c1b0dbbf337da\n""}]",0,885121,80779214e836c6b5735dc33bb450747abcfc81d5,5,1,2,15334,,,0,"db: Convert '_ensure_availability_zone_exists' to decorator

We are currently running this outside of the main session of many APIs.
This is tough to do when the session is created as a decorator. Make
life easier by using a decorator, which allows us to use a separate
context and separate session.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I95187d5b9bc21120c74b6784489c1b0dbbf337da
",git fetch https://review.opendev.org/openstack/manila refs/changes/21/885121/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py']",2,115b79a8480a5dcfb3971eeada92f9c7e9a866bd,sqlalchemy-20,"def require_availability_zone_exists(*, strict: bool): """"""Decorator to require the specified availability zone to exist. Requires the wrapped function to use context as their first argument and values as either their second (for create) or third (for update) argument. .. note:: This has a side-effect of updating the provided values dict, replacing ``availability_zone`` with ``availability_zone_id`` :param strict: If true, ``values`` must contain an ``availability_zone`` key """""" def inner(f): @wraps(f) def wrapper(context, *args, **kwargs): values = args[0] if not isinstance(args[0], dict): values = args[1] ensure_availability_zone_exists(context, values, strict=strict) return f(context, *args, **kwargs) wrapper.__name__ = f.__name__ return wrapper return inner @require_availability_zone_exists(strict=True)@require_availability_zone_exists(strict=False) 'share_server_id', 'share_network_id', 'availability_zone_id',@require_availability_zone_exists(strict=False)@require_availability_zone_exists(strict=False)@require_availability_zone_exists(strict=False)@require_availability_zone_exists(strict=False)@context_manager.writer def ensure_availability_zone_exists( context, values, *, strict=True, if not az_name: if strict: msg = _(""Values dict should have 'availability_zone' field."") raise ValueError(msg) az_ref = _availability_zone_get(context, az_name) else: az_ref = _availability_zone_create_if_not_exist(context, az_name)"," _ensure_availability_zone_exists(context, values) _ensure_availability_zone_exists(context, values, strict=False) 'share_server_id', 'share_network_id', 'availability_zone', _ensure_availability_zone_exists(context, values, session, strict=False) _ensure_availability_zone_exists(context, values, session, strict=False) _ensure_availability_zone_exists(context, share_instance_values, session, strict=False) _ensure_availability_zone_exists(context, share_instance_values, session, strict=False)def _ensure_availability_zone_exists( context, values, session=None, *, strict=True, if strict and not az_name: msg = _(""Values dict should have 'availability_zone' field."") raise ValueError(msg) elif not az_name: az_ref = _availability_zone_get(context, az_name, session=session) else: az_ref = _availability_zone_create_if_not_exist( context, az_name, session=session)",64,28
openstack%2Fmanila~master~Iffe9e46ca707ef8cca3fe878faa29b62b924ab42,openstack/manila,master,Iffe9e46ca707ef8cca3fe878faa29b62b924ab42,db: Add '_share_get',NEW,2023-06-02 10:42:06.000000000,2023-06-02 16:44:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-02 10:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/812e80c55b3c67bbaebca6a22120f2fda0a0e0f9', 'message': ""db: Add '_share_get'\n\nThis is an important helper in the migration to enginefacade since\n'share_get' is currently used in so many other functions. We must move\na 'get_session' call out of '_share_get_query' so that we won't\ninadvertently ignore the session stored in the context.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Iffe9e46ca707ef8cca3fe878faa29b62b924ab42\n""}, {'number': 2, 'created': '2023-06-02 10:43:01.000000000', 'files': ['manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/a7722c1d457df22f9dcd828e2a9b62e27650a2ad', 'message': ""db: Add '_share_get'\n\nThis is an important helper in the migration to enginefacade since\n'share_get' is currently used in so many other functions. We must move\na 'get_session' call out of '_share_get_query' so that we won't\ninadvertently ignore the session stored in the context.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Iffe9e46ca707ef8cca3fe878faa29b62b924ab42\n""}]",0,885118,a7722c1d457df22f9dcd828e2a9b62e27650a2ad,7,1,2,15334,,,0,"db: Add '_share_get'

This is an important helper in the migration to enginefacade since
'share_get' is currently used in so many other functions. We must move
a 'get_session' call out of '_share_get_query' so that we won't
inadvertently ignore the session stored in the context.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Iffe9e46ca707ef8cca3fe878faa29b62b924ab42
",git fetch https://review.opendev.org/openstack/manila refs/changes/18/885118/2 && git format-patch -1 --stdout FETCH_HEAD,['manila/db/sqlalchemy/api.py'],1,812e80c55b3c67bbaebca6a22120f2fda0a0e0f9,sqlalchemy-20," if session is None: session = get_session() return _share_get(context, share_id, session=session, **kwargs) # TODO(stephenfin): Remove the 'session' argument once all callers have been # converted def _share_get(context, share_id, session=None, **kwargs): session = get_session() _share_get_query(context, session).join( session = get_session() _share_get_query(context, session).join(", if session is None: session = get_session() _share_get_query(context).join( _share_get_query(context).join(,15,4
openstack%2Fmanila~master~I23255a4a361602b602bca8349b5948efd147178d,openstack/manila,master,I23255a4a361602b602bca8349b5948efd147178d,"db: Migrate ""export locations"", ""export location metadata"" APIs to enginefacade",NEW,2023-06-02 10:42:06.000000000,2023-06-02 16:41:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-02 10:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/017ff7bf9d5debfb20b4fda5861b235b55742082', 'message': 'db: Migrate ""export locations"", ""export location metadata"" APIs to enginefacade\n\nWe migrate these two at the same time since they\'re so intertwined.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I23255a4a361602b602bca8349b5948efd147178d\n'}, {'number': 2, 'created': '2023-06-02 10:43:01.000000000', 'files': ['manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/0c5c7aa8dec897ead534b8e94b5bfdcec859775c', 'message': 'db: Migrate ""export locations"", ""export location metadata"" APIs to enginefacade\n\nWe migrate these two at the same time since they\'re so intertwined.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I23255a4a361602b602bca8349b5948efd147178d\n'}]",0,885120,0c5c7aa8dec897ead534b8e94b5bfdcec859775c,5,1,2,15334,,,0,"db: Migrate ""export locations"", ""export location metadata"" APIs to enginefacade

We migrate these two at the same time since they're so intertwined.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I23255a4a361602b602bca8349b5948efd147178d
",git fetch https://review.opendev.org/openstack/manila refs/changes/20/885120/2 && git format-patch -1 --stdout FETCH_HEAD,['manila/db/sqlalchemy/api.py'],1,017ff7bf9d5debfb20b4fda5861b235b55742082,sqlalchemy-20," ignore_secondary_replicas=False, ):@context_manager.reader share = _share_get(context, share_id)@context_manager.reader@context_manager.reader share = _share_get(context, share_id)@context_manager.reader): return _export_location_get_by_uuid( context, export_location_uuid, ignore_secondary_replicas=False, ) def _export_location_get_by_uuid( context, export_location_uuid, ignore_secondary_replicas=False, ): or_( replica_state_attr == None, # noqa replica_state_attr == constants.REPLICA_STATE_ACTIVE, ) )@context_manager.writer current_el_rows = _export_location_get_all(context, share_instance_id) el.soft_delete(session=context.session) el.save(session=context.session) if el['el_metadata']: _export_location_metadata_update( context, el['uuid'], el['el_metadata'], ) location_ref.save(session=context.session) _export_location_metadata_update( context, location_ref['uuid'], el.get('metadata'), ) return get_path_list_from_rows( _export_location_get_all(context, share_instance_id) )def _export_location_metadata_get_query(context, export_location_uuid): export_location_id = _export_location_get_by_uuid( context, models.ShareInstanceExportLocationsMetadata,@context_manager.reader def export_location_metadata_get(context, export_location_uuid): return _export_location_metadata_get(context, export_location_uuid) def _export_location_metadata_get(context, export_location_uuid): context, export_location_uuid, ).all()@context_manager.writer def export_location_metadata_delete(context, export_location_uuid, keys=None): return _export_location_metadata_delete( context, export_location_uuid, keys=keys, ) def _export_location_metadata_delete(context, export_location_uuid, keys=None): context, export_location_uuid, models.ShareInstanceExportLocationsMetadata.key.in_(keys), ) meta_ref.soft_delete(session=context.session)@context_manager.writer def export_location_metadata_update( context, export_location_uuid, metadata, delete=False, ): return _export_location_metadata_update( context, export_location_uuid, metadata, delete=delete, ) def _export_location_metadata_update( context, export_location_uuid, metadata, delete=False, ): if delete: original_metadata = _export_location_metadata_get( context, export_location_uuid, ) _export_location_metadata_delete( context, export_location_uuid, keys=keys_for_deletion, ) el = _export_location_get_by_uuid(context, export_location_uuid) context.session.commit() context.session.begin() context, export_location_uuid, meta_ref.save(session=context.session)"," ignore_secondary_replicas=False, session=None, ): session = session or get_session() session=session, share = share_get(context, share_id) share = share_get(context, share_id) session=None, ): session = session or get_session() session=session, or_(replica_state_attr == None, # noqa replica_state_attr == constants.REPLICA_STATE_ACTIVE)) session = get_session() current_el_rows = _export_location_get_all( context, share_instance_id, session=session) el.soft_delete(session) el.save(session=session) if el['el_metadata']: export_location_metadata_update( context, el['uuid'], el['el_metadata'], session=session) location_ref.save(session=session) export_location_metadata_update( context, location_ref['uuid'], el.get('metadata'), session=session) return get_path_list_from_rows(_export_location_get_all( context, share_instance_id, session=session))def _export_location_metadata_get_query(context, export_location_uuid, session=None): session = session or get_session() export_location_id = export_location_get_by_uuid( context, models.ShareInstanceExportLocationsMetadata, session=session,def export_location_metadata_get(context, export_location_uuid, session=None): context, export_location_uuid, session=session).all()def export_location_metadata_delete(context, export_location_uuid, keys=None): session = get_session() context, export_location_uuid, session=session, models.ShareInstanceExportLocationsMetadata.key.in_(keys)) meta_ref.soft_delete(session=session)def export_location_metadata_update(context, export_location_uuid, metadata, delete=False, session=None): session = session or get_session() if delete: original_metadata = export_location_metadata_get( context, export_location_uuid, session=session) export_location_metadata_delete( context, export_location_uuid, keys=keys_for_deletion) el = export_location_get_by_uuid(context, export_location_uuid) session = get_session() context, export_location_uuid, session=session, meta_ref.save(session=session)",78,46
openstack%2Fkeystonemiddleware~stable%2Fvictoria~I760c7484db288db82f0d176e93272a19b7fa615d,openstack/keystonemiddleware,stable/victoria,I760c7484db288db82f0d176e93272a19b7fa615d,Use victoria gate jobs,NEW,2023-06-02 14:51:41.000000000,2023-06-02 16:34:52.000000000,,"[{'_account_id': 7414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-02 14:51:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/f9cec42c585b8350ce0da0a95ea853debcfadd92', 'message': 'Use victoria gate jobs\n\nChange-Id: I760c7484db288db82f0d176e93272a19b7fa615d\n'}]",0,885146,f9cec42c585b8350ce0da0a95ea853debcfadd92,3,2,1,7973,,,0,"Use victoria gate jobs

Change-Id: I760c7484db288db82f0d176e93272a19b7fa615d
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/46/885146/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f9cec42c585b8350ce0da0a95ea853debcfadd92,, - openstack-python3-victoria-jobs, - openstack-python3-ussuri-jobs,1,1
openstack%2Fkeystonemiddleware~stable%2Fvictoria~Ifb9dc54424256d5cffe557894b2d26b2401ebf92,openstack/keystonemiddleware,stable/victoria,Ifb9dc54424256d5cffe557894b2d26b2401ebf92,Drop lower-constraints.txt and its testing,NEW,2023-06-02 14:41:10.000000000,2023-06-02 16:31:30.000000000,,"[{'_account_id': 7414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-02 14:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/144fe204bd3c2b83cbafc42e3aec0ce17d141db6', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ifb9dc54424256d5cffe557894b2d26b2401ebf92\n(cherry picked from commit caac7a1a8fb689e4bc47bbb007a11c9fc6fe3e23)\n'}, {'number': 2, 'created': '2023-06-02 14:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/239a5fcf0c1380413b21f0c27893463dbbc2298a', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ifb9dc54424256d5cffe557894b2d26b2401ebf92\n(cherry picked from commit caac7a1a8fb689e4bc47bbb007a11c9fc6fe3e23)\n'}, {'number': 3, 'created': '2023-06-02 14:49:44.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/a7878079945dd6f32a3ab8115481834c7a40e394', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ifb9dc54424256d5cffe557894b2d26b2401ebf92\n(cherry picked from commit caac7a1a8fb689e4bc47bbb007a11c9fc6fe3e23)\n'}]",0,885023,a7878079945dd6f32a3ab8115481834c7a40e394,7,2,3,7973,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ifb9dc54424256d5cffe557894b2d26b2401ebf92
(cherry picked from commit caac7a1a8fb689e4bc47bbb007a11c9fc6fe3e23)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/23/885023/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,144fe204bd3c2b83cbafc42e3aec0ce17d141db6,,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,7,10
openstack%2Fkeystonemiddleware~stable%2Fussuri~Ifb9dc54424256d5cffe557894b2d26b2401ebf92,openstack/keystonemiddleware,stable/ussuri,Ifb9dc54424256d5cffe557894b2d26b2401ebf92,Drop lower-constraints.txt and its testing,NEW,2023-06-02 14:53:48.000000000,2023-06-02 16:17:15.000000000,,"[{'_account_id': 7414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-02 14:53:48.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/5f77252bec30079643587633a51405abcbc7e912', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ifb9dc54424256d5cffe557894b2d26b2401ebf92\n(cherry picked from commit a7878079945dd6f32a3ab8115481834c7a40e394)\n'}]",0,885024,5f77252bec30079643587633a51405abcbc7e912,3,2,1,7973,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ifb9dc54424256d5cffe557894b2d26b2401ebf92
(cherry picked from commit a7878079945dd6f32a3ab8115481834c7a40e394)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/24/885024/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,5f77252bec30079643587633a51405abcbc7e912,,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,94
openstack%2Fmanila~master~Ia8c74fa493f0b0ccb36257099cc946ea18611614,openstack/manila,master,Ia8c74fa493f0b0ccb36257099cc946ea18611614,db: Add '_share_instance_get',NEW,2023-06-02 10:42:06.000000000,2023-06-02 16:13:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-02 10:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/48db818d7d1a50a0bc76f7d4bc61e09db343bf52', 'message': ""db: Add '_share_instance_get'\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ia8c74fa493f0b0ccb36257099cc946ea18611614\n""}, {'number': 2, 'created': '2023-06-02 10:43:01.000000000', 'files': ['manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/0b5c3f97a25b2eb9151c7373e0b2d5211c0ab7b9', 'message': ""db: Add '_share_instance_get'\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ia8c74fa493f0b0ccb36257099cc946ea18611614\n""}]",0,885119,0b5c3f97a25b2eb9151c7373e0b2d5211c0ab7b9,5,1,2,15334,,,0,"db: Add '_share_instance_get'

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Ia8c74fa493f0b0ccb36257099cc946ea18611614
",git fetch https://review.opendev.org/openstack/manila refs/changes/19/885119/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/db/sqlalchemy/api.py'],1,48db818d7d1a50a0bc76f7d4bc61e09db343bf52,sqlalchemy-20," return _share_instance_get( context, share_instance_id, session=session, with_share_data=with_share_data, ) # TODO(stephenfin): Remove the 'session' argument once all callers have been # converted def _share_instance_get( context, share_instance_id, session=None, with_share_data=False, ):",,12,0
openstack%2Fkeystonemiddleware~stable%2Fyoga~I0c022c3cc57f30530ebdef6e434753ece2bdf912,openstack/keystonemiddleware,stable/yoga,I0c022c3cc57f30530ebdef6e434753ece2bdf912,Add timeout for requests,MERGED,2023-03-21 16:52:25.000000000,2023-06-02 16:13:07.000000000,2023-06-02 16:12:10.000000000,"[{'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-21 16:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/045190f0f0e629e05eae2db2c96a1e91323ca06d', 'message': ""Add timeout for requests\n\nBandit emits errors for request methods without the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\n\nAdded timeout parameters and config options to set timeout.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\nChange-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)\n""}, {'number': 2, 'created': '2023-03-28 00:34:06.000000000', 'files': ['keystonemiddleware/ec2_token.py', 'keystonemiddleware/tests/unit/test_ec2_token_middleware.py', 'keystonemiddleware/s3_token.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/75631ad31e87bdef5e8c1e150e24d85a31289014', 'message': ""Add timeout for requests\n\nBandit emits errors for request methods without the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\n\nAdded timeout parameters and config options to set timeout.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\nChange-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)\n""}]",0,878024,75631ad31e87bdef5e8c1e150e24d85a31289014,10,3,2,34275,,,0,"Add timeout for requests

Bandit emits errors for request methods without the timeout parameter.
It's better to follow the instruction to avoid hanging.

Added timeout parameters and config options to set timeout.

[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html

Change-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912
(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/24/878024/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/ec2_token.py', 'keystonemiddleware/s3_token.py']",2,045190f0f0e629e05eae2db2c96a1e91323ca06d,877808-stable/yoga,"from oslo_config import cfgs3_opts = [ cfg.IntOpt('timeout', default=60, help='Timeout to obtain token.'), ] CONF = cfg.CONF CONF.register_opts(s3_opts, group='s3_token') verify=self._verify, timeout=CONF.s3_token.timeout)", verify=self._verify),17,4
openstack%2Fkeystonemiddleware~stable%2F2023.1~I64071cb1a0a077f63ef352f936a45d425cf82ac1,openstack/keystonemiddleware,stable/2023.1,I64071cb1a0a077f63ef352f936a45d425cf82ac1,Update jobs for antelope,NEW,2023-06-02 14:29:57.000000000,2023-06-02 16:10:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-02 14:29:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/562e8a07eb0f6e5796ce7d58078e5327de928293', 'message': 'Update jobs for antelope\n\nChange-Id: I64071cb1a0a077f63ef352f936a45d425cf82ac1\n'}]",0,885145,562e8a07eb0f6e5796ce7d58078e5327de928293,2,1,1,7973,,,0,"Update jobs for antelope

Change-Id: I64071cb1a0a077f63ef352f936a45d425cf82ac1
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/45/885145/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,562e8a07eb0f6e5796ce7d58078e5327de928293,create-2023.1, - openstack-python3-antelope-jobs, - openstack-python3-zed-jobs,1,1
openstack%2Fmanila~master~I14f2b834e7ac2d8be86f9d7e381706cadbb79eb8,openstack/manila,master,I14f2b834e7ac2d8be86f9d7e381706cadbb79eb8,db: Rename 'share_export_location_*' to 'export_location_*',NEW,2023-06-02 10:42:06.000000000,2023-06-02 15:54:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-02 10:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5e11e06af5477c6dbe3dd21223b7797ff66aaf0d', 'message': ""db: Rename 'share_export_location_*' to 'export_location_*'\n\nThis better aligns with 'export_location_metadata_*' APIs. The plural\n'export_locations_get*' APIs are renamed to 'export_location_get_all*'.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I14f2b834e7ac2d8be86f9d7e381706cadbb79eb8\n""}, {'number': 2, 'created': '2023-06-02 10:43:01.000000000', 'files': ['manila/api/v2/share_export_locations.py', 'manila/tests/api/v2/test_share_instance_export_locations.py', 'manila/tests/api/v2/test_share_instances.py', 'manila/api/v2/share_instance_export_locations.py', 'manila/db/api.py', 'manila/tests/share/test_api.py', 'manila/share/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/share/manager.py', 'manila/tests/api/v2/test_share_replica_export_locations.py', 'manila/tests/api/v2/test_share_export_locations.py', 'manila/api/v2/share_replica_export_locations.py', 'manila/tests/share/test_manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/87b7242b56097804209bd27e499f225a2108bd87', 'message': ""db: Rename 'share_export_location_*' to 'export_location_*'\n\nThis better aligns with 'export_location_metadata_*' APIs. The plural\n'export_locations_get*' APIs are renamed to 'export_location_get_all*'.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I14f2b834e7ac2d8be86f9d7e381706cadbb79eb8\n""}]",0,885117,87b7242b56097804209bd27e499f225a2108bd87,7,1,2,15334,,,0,"db: Rename 'share_export_location_*' to 'export_location_*'

This better aligns with 'export_location_metadata_*' APIs. The plural
'export_locations_get*' APIs are renamed to 'export_location_get_all*'.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I14f2b834e7ac2d8be86f9d7e381706cadbb79eb8
",git fetch https://review.opendev.org/openstack/manila refs/changes/17/885117/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/api/v2/share_export_locations.py', 'manila/tests/api/v2/test_share_instance_export_locations.py', 'manila/tests/api/v2/test_share_instances.py', 'manila/api/v2/share_instance_export_locations.py', 'manila/db/api.py', 'manila/tests/share/test_api.py', 'manila/share/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/share/manager.py', 'manila/tests/api/v2/test_share_replica_export_locations.py', 'manila/tests/api/v2/test_share_export_locations.py', 'manila/api/v2/share_replica_export_locations.py', 'manila/tests/share/test_manager.py']",14,5e11e06af5477c6dbe3dd21223b7797ff66aaf0d,sqlalchemy-20," 'export_locations_update') exports_update = self.share_manager.db.export_locations_update db, 'export_locations_update') db, 'export_locations_update') db, 'export_locations_update') db, 'export_locations_update') db, 'export_locations_update') db, 'export_locations_update') 'export_locations_update', self.share_manager.db.export_locations_update))) (self.share_manager.db.export_locations_update. self.share_manager.db.export_locations_update.called) 'export_locations_update') self.share_manager.db.export_locations_update.assert_any_call( self.share_manager.db, 'export_locations_update') (self.share_manager.db.export_locations_update. 'export_locations_update') mock_el_update = self.mock_object(db, 'export_locations_update') self.share_manager.db, 'export_locations_update')"," 'share_export_locations_update') exports_update = self.share_manager.db.share_export_locations_update db, 'share_export_locations_update') db, 'share_export_locations_update') db, 'share_export_locations_update') db, 'share_export_locations_update') db, 'share_export_locations_update') db, 'share_export_locations_update') 'share_export_locations_update', self.share_manager.db.share_export_locations_update))) (self.share_manager.db.share_export_locations_update. self.share_manager.db.share_export_locations_update.called) 'share_export_locations_update') self.share_manager.db.share_export_locations_update.assert_any_call( self.share_manager.db, 'share_export_locations_update') (self.share_manager.db.share_export_locations_update. 'share_export_locations_update') mock_el_update = self.mock_object(db, 'share_export_locations_update') self.share_manager.db, 'share_export_locations_update')",142,137
openstack%2Fmanila~master~I805ed06feefd189768cf4b0fec9b8ff011694216,openstack/manila,master,I805ed06feefd189768cf4b0fec9b8ff011694216,db: Rename some methods,NEW,2023-06-02 10:42:06.000000000,2023-06-02 15:49:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-02 10:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a405b51c44805a35ae477d5b782c12f914bd2460', 'message': 'db: Rename some methods\n\nRename a number of APIs for consistency purposes:\n\n- get_all_expired_transfers ->\n    transfer_get_all_expired\n- get_all_expired_shares ->\n    share_get_all_expired\n- get_shares_in_recycle_bin_by_share_server ->\n    share_get_all_soft_deleted\n- get_shares_in_recycle_bin_by_network ->\n    share_get_all_soft_deleted_by_network\n- share_transfer_get ->\n    transfer_get\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I805ed06feefd189768cf4b0fec9b8ff011694216\n'}, {'number': 2, 'created': '2023-06-02 10:43:01.000000000', 'files': ['manila/transfer/api.py', 'manila/db/api.py', 'manila/tests/share/test_api.py', 'manila/share/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/share/manager.py', 'manila/tests/share/test_manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/6419eda5ae14956af772d7edfce0ec26dce12ceb', 'message': 'db: Rename some methods\n\nRename a number of APIs for consistency purposes:\n\n- get_all_expired_transfers ->\n    transfer_get_all_expired\n- get_all_expired_shares ->\n    share_get_all_expired\n- get_shares_in_recycle_bin_by_share_server ->\n    share_get_all_soft_deleted\n- get_shares_in_recycle_bin_by_network ->\n    share_get_all_soft_deleted_by_network\n- share_transfer_get ->\n    transfer_get\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I805ed06feefd189768cf4b0fec9b8ff011694216\n'}]",0,885115,6419eda5ae14956af772d7edfce0ec26dce12ceb,7,1,2,15334,,,0,"db: Rename some methods

Rename a number of APIs for consistency purposes:

- get_all_expired_transfers ->
    transfer_get_all_expired
- get_all_expired_shares ->
    share_get_all_expired
- get_shares_in_recycle_bin_by_share_server ->
    share_get_all_soft_deleted
- get_shares_in_recycle_bin_by_network ->
    share_get_all_soft_deleted_by_network
- share_transfer_get ->
    transfer_get

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I805ed06feefd189768cf4b0fec9b8ff011694216
",git fetch https://review.opendev.org/openstack/manila refs/changes/15/885115/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/api.py', 'manila/transfer/api.py', 'manila/tests/share/test_api.py', 'manila/share/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/share/manager.py', 'manila/tests/share/test_manager.py']",8,a405b51c44805a35ae477d5b782c12f914bd2460,sqlalchemy-20," self.mock_object(db, 'share_get_all_expired', db.share_get_all_expired.assert_called_once_with(self.context) self.mock_object(db, 'transfer_get_all_expired', db.transfer_get_all_expired.assert_called_once_with(self.context)"," self.mock_object(db, 'get_all_expired_shares', db.get_all_expired_shares.assert_called_once_with(self.context) self.mock_object(db, 'get_all_expired_transfers', db.get_all_expired_transfers.assert_called_once_with(self.context)",56,58
openstack%2Fmanila~master~Ic48fe0d1631a6e1a8ee9a50741cc1b31c9187c37,openstack/manila,master,Ic48fe0d1631a6e1a8ee9a50741cc1b31c9187c37,db: Rename 'share_instances_*' to 'share_instance_*',NEW,2023-06-02 10:42:06.000000000,2023-06-02 15:36:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-02 10:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ac1caa413ff753e5fde5f9938798376eb73e7b39', 'message': ""db: Rename 'share_instances_*' to 'share_instance_*'\n\nRename a number of APIs to use singular, rather than plural, like every\nother API uses:\n\n- share_instances_status_update -> share_instance_status_update\n- share_instances_get_all -> share_instance_get_all\n- share_instances_get_all_by_host ->\n    share_instance_get_all_by_host\n- share_instances_get_all_by_share_network ->\n    share_instance_get_all_by_share_network\n- share_instances_get_all_by_share_server ->\n    share_instance_get_all_by_share_server\n- share_instances_get_all_by_share ->\n    share_instance_get_all_by_share\n- share_instances_get_all_by_share_group_id ->\n    share_instance_get_all_by_share_group_id\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ic48fe0d1631a6e1a8ee9a50741cc1b31c9187c37\n""}, {'number': 2, 'created': '2023-06-02 10:43:01.000000000', 'files': ['manila/api/v2/share_networks.py', 'manila/api/v2/share_network_subnets.py', 'manila/share/access.py', 'manila/scheduler/host_manager.py', 'manila/tests/api/v2/test_share_network_subnets.py', 'manila/tests/api/v2/test_share_networks.py', 'manila/tests/scheduler/test_host_manager.py', 'manila/api/v2/share_instances.py', 'manila/db/api.py', 'manila/tests/share/test_api.py', 'manila/share/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/tests/share/test_access.py', 'manila/db/sqlalchemy/api.py', 'manila/share/manager.py', 'manila/tests/share/test_manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/5fd2416f0f62825bef1e011e1df31f242df796b1', 'message': ""db: Rename 'share_instances_*' to 'share_instance_*'\n\nRename a number of APIs to use singular, rather than plural, like every\nother API uses:\n\n- share_instances_status_update -> share_instance_status_update\n- share_instances_get_all -> share_instance_get_all\n- share_instances_get_all_by_host ->\n    share_instance_get_all_by_host\n- share_instances_get_all_by_share_network ->\n    share_instance_get_all_by_share_network\n- share_instances_get_all_by_share_server ->\n    share_instance_get_all_by_share_server\n- share_instances_get_all_by_share ->\n    share_instance_get_all_by_share\n- share_instances_get_all_by_share_group_id ->\n    share_instance_get_all_by_share_group_id\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ic48fe0d1631a6e1a8ee9a50741cc1b31c9187c37\n""}]",0,885116,5fd2416f0f62825bef1e011e1df31f242df796b1,5,1,2,15334,,,0,"db: Rename 'share_instances_*' to 'share_instance_*'

Rename a number of APIs to use singular, rather than plural, like every
other API uses:

- share_instances_status_update -> share_instance_status_update
- share_instances_get_all -> share_instance_get_all
- share_instances_get_all_by_host ->
    share_instance_get_all_by_host
- share_instances_get_all_by_share_network ->
    share_instance_get_all_by_share_network
- share_instances_get_all_by_share_server ->
    share_instance_get_all_by_share_server
- share_instances_get_all_by_share ->
    share_instance_get_all_by_share
- share_instances_get_all_by_share_group_id ->
    share_instance_get_all_by_share_group_id

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Ic48fe0d1631a6e1a8ee9a50741cc1b31c9187c37
",git fetch https://review.opendev.org/openstack/manila refs/changes/16/885116/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/api/v2/share_networks.py', 'manila/api/v2/share_network_subnets.py', 'manila/share/access.py', 'manila/scheduler/host_manager.py', 'manila/tests/api/v2/test_share_network_subnets.py', 'manila/tests/api/v2/test_share_networks.py', 'manila/tests/scheduler/test_host_manager.py', 'manila/api/v2/share_instances.py', 'manila/db/api.py', 'manila/tests/share/test_api.py', 'manila/share/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/tests/share/test_access.py', 'manila/db/sqlalchemy/api.py', 'manila/share/manager.py', 'manila/tests/share/test_manager.py']",16,ac1caa413ff753e5fde5f9938798376eb73e7b39,sqlalchemy-20," ""share_instance_get_all_by_host"", 'share_instance_get_all_by_host', (self.share_manager.db.share_instance_get_all_by_host. self.share_manager.db, 'share_instance_get_all_by_host', mock_share_instance_get_all_by_host = self.mock_object( self.share_manager.db, 'share_instance_get_all_by_host', mock_share_instance_get_all_by_host.assert_not_called() mock_share_instance_get_all_by_host.assert_called_once_with( 'share_instance_get_all_by_host', (self.share_manager.db.share_instance_get_all_by_host. 'share_instance_get_all_by_host', (self.share_manager.db.share_instance_get_all_by_host. self.mock_object(smanager.db, 'share_instance_get_all_by_host', (smanager.db.share_instance_get_all_by_host. db, 'share_instance_get_all_by_share_server', db, 'share_instance_get_all_by_share_server', db.share_instance_get_all_by_share_server.assert_called_once_with( shr_instances = db.share_instance_get_all_by_share( 'share_instance_get_all_by_share', 'share_instance_get_all_by_share', 'share_instance_get_all_by_share', 'share_instance_get_all_by_share_group_id', 'share_instance_get_all_by_share_group_id', 'share_instance_get_all_by_share_group_id', 'share_instance_get_all_by_share_group_id', 'share_instance_get_all_by_host', mock.Mock( self.share_manager.db.share_instance_get_all_by_host( self.mock_object(manager.db, 'share_instance_get_all_by_host', 'share_instance_get_all_by_host', 'share_instance_get_all_by_host', db, 'share_instance_status_update') self.mock_object(db, 'share_instance_get_all_by_share_server', db.share_instance_get_all_by_share_server.assert_called_once_with( db.share_instance_get_all_by_share_server.assert_called_once_with( db, 'share_instance_get_all_by_share_server', db, 'share_instance_get_all_by_share_server', db.share_instance_get_all_by_share_server.assert_called_once_with( db.share_instance_get_all_by_share_server.assert_called_once_with( db, 'share_instance_get_all_by_share_server', db.share_instance_get_all_by_share_server.assert_called_once_with( db.share_instance_get_all_by_share_server.assert_called_once_with( db, 'share_instance_get_all_by_share_server', db, 'share_instance_get_all_by_share_server', db, 'share_instance_get_all_by_share_server', db.share_instance_get_all_by_share_server.assert_called_once_with( db.share_instance_get_all_by_share_server.assert_called_once_with( db, 'share_instance_get_all_by_share_server', db.share_instance_get_all_by_share_server.assert_called_once_with( 'share_instance_get_all_by_share_server', 'share_instance_get_all_by_share_server', 'share_instance_get_all_by_share_server',"," ""share_instances_get_all_by_host"", 'share_instances_get_all_by_host', (self.share_manager.db.share_instances_get_all_by_host. self.share_manager.db, 'share_instances_get_all_by_host', mock_share_instances_get_all_by_host = self.mock_object( self.share_manager.db, 'share_instances_get_all_by_host', mock_share_instances_get_all_by_host.assert_not_called() mock_share_instances_get_all_by_host.assert_called_once_with( 'share_instances_get_all_by_host', (self.share_manager.db.share_instances_get_all_by_host. 'share_instances_get_all_by_host', (self.share_manager.db.share_instances_get_all_by_host. self.mock_object(smanager.db, 'share_instances_get_all_by_host', (smanager.db.share_instances_get_all_by_host. db, 'share_instances_get_all_by_share_server', db, 'share_instances_get_all_by_share_server', db.share_instances_get_all_by_share_server.assert_called_once_with( shr_instances = db.share_instances_get_all_by_share( 'share_instances_get_all_by_share', 'share_instances_get_all_by_share', 'share_instances_get_all_by_share', 'share_instances_get_all_by_share_group_id', 'share_instances_get_all_by_share_group_id', 'share_instances_get_all_by_share_group_id', 'share_instances_get_all_by_share_group_id', 'share_instances_get_all_by_host', mock.Mock( self.share_manager.db.share_instances_get_all_by_host( self.mock_object(manager.db, 'share_instances_get_all_by_host', 'share_instances_get_all_by_host', 'share_instances_get_all_by_host', db, 'share_instances_status_update') self.mock_object(db, 'share_instances_get_all_by_share_server', db.share_instances_get_all_by_share_server.assert_called_once_with( db.share_instances_get_all_by_share_server.assert_called_once_with( db, 'share_instances_get_all_by_share_server', db, 'share_instances_get_all_by_share_server', db.share_instances_get_all_by_share_server.assert_called_once_with( db.share_instances_get_all_by_share_server.assert_called_once_with( db, 'share_instances_get_all_by_share_server', db.share_instances_get_all_by_share_server.assert_called_once_with( db.share_instances_get_all_by_share_server.assert_called_once_with( db, 'share_instances_get_all_by_share_server', db, 'share_instances_get_all_by_share_server', db, 'share_instances_get_all_by_share_server', db.share_instances_get_all_by_share_server.assert_called_once_with( db.share_instances_get_all_by_share_server.assert_called_once_with( db, 'share_instances_get_all_by_share_server', db.share_instances_get_all_by_share_server.assert_called_once_with( 'share_instances_get_all_by_share_server', 'share_instances_get_all_by_share_server', 'share_instances_get_all_by_share_server',",165,164
openstack%2Fpuppet-nova~master~I8be0454839d880f96725adec98cf9e55ac48ee0b,openstack/puppet-nova,master,I8be0454839d880f96725adec98cf9e55ac48ee0b,fix usage of api::api_metadata_service_name parameter,ABANDONED,2023-06-02 15:13:54.000000000,2023-06-02 15:32:48.000000000,,[],"[{'number': 1, 'created': '2023-06-02 15:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4b43dc7dfb6734811994dac17f114cc8c42fa560', 'message': 'fix usage of api::api_metadata_service_name parameter\n\nChange-Id: I8be0454839d880f96725adec98cf9e55ac48ee0b\n'}]",0,885025,4b43dc7dfb6734811994dac17f114cc8c42fa560,2,0,1,7888,,,0,"fix usage of api::api_metadata_service_name parameter

Change-Id: I8be0454839d880f96725adec98cf9e55ac48ee0b
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/25/885025/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,4b43dc7dfb6734811994dac17f114cc8c42fa560,,,,0,0
openstack%2Ftripleo-quickstart-extras~master~I51dd883222d463a5097909003fc0096b413ec948,openstack/tripleo-quickstart-extras,master,I51dd883222d463a5097909003fc0096b413ec948,[DNM] Debug mount image issue,NEW,2023-06-01 09:34:33.000000000,2023-06-02 15:22:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-01 09:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1f83327afa7f79dc426f8d24752474116d45a6b4', 'message': '[DNM]\xa0Debug mount image issue\n\nBug: #2019192\nChange-Id: I51dd883222d463a5097909003fc0096b413ec948\n'}, {'number': 2, 'created': '2023-06-01 11:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/dfb79b96ef23f6fe7c15437b5292933fb6a278df', 'message': '[DNM]\xa0Debug mount image issue\n\nBug: #2019192\nChange-Id: I51dd883222d463a5097909003fc0096b413ec948\n'}, {'number': 3, 'created': '2023-06-01 11:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5c8d2edead7d846996172ba002402d9a480c551a', 'message': '[DNM]\xa0Debug mount image issue\n\nBug: #2019192\nChange-Id: I51dd883222d463a5097909003fc0096b413ec948\n'}, {'number': 4, 'created': '2023-06-01 11:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/edf430c563a087d1cc1b92322d343103e22fdc6c', 'message': '[DNM]\xa0Debug mount image issue\n\nBug: #2019192\nChange-Id: I51dd883222d463a5097909003fc0096b413ec948\n'}, {'number': 5, 'created': '2023-06-01 12:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4e742ad6c55f9275b2ef9d832e5d87ec6ce3bead', 'message': '[DNM]\xa0Debug mount image issue\n\nBug: #2019192\nChange-Id: I51dd883222d463a5097909003fc0096b413ec948\n'}, {'number': 6, 'created': '2023-06-02 08:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7697aa6187aa35e91c44ebd00d5ebd4fd1e6c665', 'message': '[DNM]\xa0Debug mount image issue\n\nBug: #2019192\nChange-Id: I51dd883222d463a5097909003fc0096b413ec948\n'}, {'number': 7, 'created': '2023-06-02 08:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6113ad55ad736b353abee88c5db9616aa90922de', 'message': '[DNM]\xa0Debug mount image issue\n\nBug: #2019192\nChange-Id: I51dd883222d463a5097909003fc0096b413ec948\n'}, {'number': 8, 'created': '2023-06-02 09:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/39905f5966f52449b8bc9a87ffc24361ad9dcc7b', 'message': '[DNM]\xa0Debug mount image issue\n\nBug: #2019192\nChange-Id: I51dd883222d463a5097909003fc0096b413ec948\n'}, {'number': 9, 'created': '2023-06-02 11:59:54.000000000', 'files': ['roles/modify-image/tasks/manual.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6a127cf502b325de690f4cd6856a6f173e33f133', 'message': '[DNM]\xa0Debug mount image issue\n\nBug: #2019192\nChange-Id: I51dd883222d463a5097909003fc0096b413ec948\n'}]",0,884993,6a127cf502b325de690f4cd6856a6f173e33f133,11,1,9,24245,,,0,"[DNM] Debug mount image issue

Bug: #2019192
Change-Id: I51dd883222d463a5097909003fc0096b413ec948
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/93/884993/9 && git format-patch -1 --stdout FETCH_HEAD,['roles/modify-image/tasks/manual.yml'],1,1f83327afa7f79dc426f8d24752474116d45a6b4,bug/2019192, modinfo nbd lsmod qemu-nbd --verbose --fork $image_format --connect /dev/nbd0 {{ image_to_modify_raw }} dmesg | grep nbd mount /dev/nbd0 {{ mount_tempdir }} || { dmesg; exit 1; }, qemu-nbd $image_format --connect /dev/nbd0 {{ image_to_modify_raw }} mount /dev/nbd0 {{ mount_tempdir }},5,2
openstack%2Foslo.messaging~stable%2Fzed~I103d2aa79b4bd2c331810583aeca53e22ee27a49,openstack/oslo.messaging,stable/zed,I103d2aa79b4bd2c331810583aeca53e22ee27a49,Increase ACK_REQUEUE_EVERY_SECONDS_MAX to exceed default kombu_reconnect_delay,MERGED,2023-05-18 15:10:17.000000000,2023-06-02 15:12:38.000000000,2023-06-02 15:11:40.000000000,"[{'_account_id': 9816}, {'_account_id': 14200}, {'_account_id': 15334}, {'_account_id': 22206}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-05-18 15:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/74bf14f15267e90c5f6612a9fcb04677193e68ae', 'message': ""Increase ACK_REQUEUE_EVERY_SECONDS_MAX to exceed default kombu_reconnect_delay\n\nPreviously the two values were the same; this caused us\nto always exceed the timeout limit ACK_REQUEUE_EVERY_SECONDS_MAX\nwhich results in various code paths never being traversed\ndue to premature timeout exceptions.\n\nAlso apply min/max values to kombu_reconnect_delay so it doesn't\nexceed ACK_REQUEUE_EVERY_SECONDS_MAX and break things again.\n\nCloses-Bug: #1993149\nChange-Id: I103d2aa79b4bd2c331810583aeca53e22ee27a49\n(cherry picked from commit 0602d1a10ac20c48fa35ad711355c79ee5b0ec77)\n""}, {'number': 2, 'created': '2023-06-01 14:22:52.000000000', 'files': ['releasenotes/notes/bug-1993149-e8b231791b65e938.yaml', 'oslo_messaging/tests/test_config_opts_proxy.py', 'oslo_messaging/_drivers/amqpdriver.py', 'oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/fa3195a3459cae3f4e9be43f114ee2d5eb7a60f1', 'message': ""Increase ACK_REQUEUE_EVERY_SECONDS_MAX to exceed default kombu_reconnect_delay\n\nPreviously the two values were the same; this caused us\nto always exceed the timeout limit ACK_REQUEUE_EVERY_SECONDS_MAX\nwhich results in various code paths never being traversed\ndue to premature timeout exceptions.\n\nAlso apply min/max values to kombu_reconnect_delay so it doesn't\nexceed ACK_REQUEUE_EVERY_SECONDS_MAX and break things again.\n\nCloses-Bug: #1993149\nChange-Id: I103d2aa79b4bd2c331810583aeca53e22ee27a49\n(cherry picked from commit 0602d1a10ac20c48fa35ad711355c79ee5b0ec77)\n(cherry picked from commit b4b49248bcfcb169f96ab2d47b5d207b1354ffa8)\n""}]",2,883537,fa3195a3459cae3f4e9be43f114ee2d5eb7a60f1,18,7,2,27339,,,0,"Increase ACK_REQUEUE_EVERY_SECONDS_MAX to exceed default kombu_reconnect_delay

Previously the two values were the same; this caused us
to always exceed the timeout limit ACK_REQUEUE_EVERY_SECONDS_MAX
which results in various code paths never being traversed
due to premature timeout exceptions.

Also apply min/max values to kombu_reconnect_delay so it doesn't
exceed ACK_REQUEUE_EVERY_SECONDS_MAX and break things again.

Closes-Bug: #1993149
Change-Id: I103d2aa79b4bd2c331810583aeca53e22ee27a49
(cherry picked from commit 0602d1a10ac20c48fa35ad711355c79ee5b0ec77)
(cherry picked from commit b4b49248bcfcb169f96ab2d47b5d207b1354ffa8)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/37/883537/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1993149-e8b231791b65e938.yaml', 'oslo_messaging/tests/test_config_opts_proxy.py', 'oslo_messaging/_drivers/amqpdriver.py', 'oslo_messaging/_drivers/impl_rabbit.py']",4,74bf14f15267e90c5f6612a9fcb04677193e68ae,bug/1993149-stable/zed," min=0.0, max=amqpdriver.ACK_REQUEUE_EVERY_SECONDS_MAX * 0.9, help='How long to wait (in seconds) before reconnecting in ' 'response to an AMQP consumer cancel notification.'),"," help='How long to wait before reconnecting in response to an ' 'AMQP consumer cancel notification.'),",15,4
openstack%2Fkeystonemiddleware~stable%2Fussuri~I0c022c3cc57f30530ebdef6e434753ece2bdf912,openstack/keystonemiddleware,stable/ussuri,I0c022c3cc57f30530ebdef6e434753ece2bdf912,Add timeout for requests,NEW,2023-03-21 16:53:55.000000000,2023-06-02 14:33:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-21 16:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/92a40365a6cad6bfae47bbf9a17d70b40b2b6875', 'message': ""Add timeout for requests\n\nBandit emits errors for request methods without the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\n\nAdded timeout parameters and config options to set timeout.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\nChange-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)\n""}, {'number': 2, 'created': '2023-03-28 13:40:46.000000000', 'files': ['keystonemiddleware/ec2_token.py', 'keystonemiddleware/tests/unit/test_ec2_token_middleware.py', 'keystonemiddleware/s3_token.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/706a44f9d6b7d6259c1cb89ee0ff3911e1dbb4e8', 'message': ""Add timeout for requests\n\nBandit emits errors for request methods without the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\n\nAdded timeout parameters and config options to set timeout.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\nChange-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)\n""}]",0,878028,706a44f9d6b7d6259c1cb89ee0ff3911e1dbb4e8,5,1,2,34275,,,0,"Add timeout for requests

Bandit emits errors for request methods without the timeout parameter.
It's better to follow the instruction to avoid hanging.

Added timeout parameters and config options to set timeout.

[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html

Change-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912
(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/28/878028/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/ec2_token.py', 'keystonemiddleware/s3_token.py']",2,92a40365a6cad6bfae47bbf9a17d70b40b2b6875,877808-stable/ussuri,"from oslo_config import cfgs3_opts = [ cfg.IntOpt('timeout', default=60, help='Timeout to obtain token.'), ] CONF = cfg.CONF CONF.register_opts(s3_opts, group='s3_token') verify=self._verify, timeout=CONF.s3_token.timeout)", verify=self._verify),17,4
openstack%2Freleases~master~I22999162cde81ca79ea7278539cebe91e7f16390,openstack/releases,master,I22999162cde81ca79ea7278539cebe91e7f16390,Stable release of OpenStack-Ansible for 2023.1,MERGED,2023-06-01 08:46:35.000000000,2023-06-02 14:32:09.000000000,2023-06-02 14:32:09.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-01 08:46:35.000000000', 'files': ['deliverables/antelope/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/aac2f6cffd945d01a4171999da3deabbf26bdf80', 'message': 'Stable release of OpenStack-Ansible for 2023.1\n\nChange-Id: I22999162cde81ca79ea7278539cebe91e7f16390\n'}]",2,884985,aac2f6cffd945d01a4171999da3deabbf26bdf80,10,3,1,28619,,,0,"Stable release of OpenStack-Ansible for 2023.1

Change-Id: I22999162cde81ca79ea7278539cebe91e7f16390
",git fetch https://review.opendev.org/openstack/releases refs/changes/85/884985/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/antelope/openstack-ansible.yaml'],1,aac2f6cffd945d01a4171999da3deabbf26bdf80,release_osa, - diff-start: 26.0.0.0rc1 projects: - hash: a3dcad7b88f6bad0f8346287eaca22d98be11a1e repo: openstack/openstack-ansible version: 27.0.0,,5,0
openstack%2Fkeystonemiddleware~master~I64071cb1a0a077f63ef352f936a45d425cf82ac1,openstack/keystonemiddleware,master,I64071cb1a0a077f63ef352f936a45d425cf82ac1,Update jobs for antelope,ABANDONED,2023-06-02 14:28:40.000000000,2023-06-02 14:29:13.000000000,,[],"[{'number': 1, 'created': '2023-06-02 14:28:40.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/9f54e060091eb4365b985065633de004cf1e10e9', 'message': 'Update jobs for antelope\n\nChange-Id: I64071cb1a0a077f63ef352f936a45d425cf82ac1\n'}]",0,885144,9f54e060091eb4365b985065633de004cf1e10e9,2,0,1,7973,,,0,"Update jobs for antelope

Change-Id: I64071cb1a0a077f63ef352f936a45d425cf82ac1
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/44/885144/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9f54e060091eb4365b985065633de004cf1e10e9,stable/2023.1, - openstack-python3-antelope-jobs, - openstack-python3-zed-jobs,1,1
openstack%2Fhorizon~master~I2ff0cc28bda5a1275a351c78e5e0c0a64b6f1899,openstack/horizon,master,I2ff0cc28bda5a1275a351c78e5e0c0a64b6f1899,Run Neutron API requests in parallel,NEW,2023-02-16 16:34:09.000000000,2023-06-02 14:26:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-02-16 16:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/557dbed6f0180f2944c4601e3cedd138eebec5bb', 'message': 'Run Neutron API requests in parallel\n\nImproves ""Network topology"" panel performance\n\nChange-Id: I2ff0cc28bda5a1275a351c78e5e0c0a64b6f1899\n'}, {'number': 2, 'created': '2023-06-02 13:29:22.000000000', 'files': ['openstack_dashboard/dashboards/project/network_topology/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/5b4f3c4053e8545cf1ec11208ee05e75fdea1ca6', 'message': 'Run Neutron API requests in parallel\n\nImproves ""Network topology"" panel performance\n\nChange-Id: I2ff0cc28bda5a1275a351c78e5e0c0a64b6f1899\n'}]",0,874114,5b4f3c4053e8545cf1ec11208ee05e75fdea1ca6,4,1,2,27838,,,0,"Run Neutron API requests in parallel

Improves ""Network topology"" panel performance

Change-Id: I2ff0cc28bda5a1275a351c78e5e0c0a64b6f1899
",git fetch https://review.opendev.org/openstack/horizon refs/changes/14/874114/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/network_topology/views.py'],1,557dbed6f0180f2944c4601e3cedd138eebec5bb,faster_topology_master,"from openstack_dashboard.utils import futurist_utils def _get_ports(self, request): return neutron_ports def _filter_ports(self, neutron_ports, networks): results = futurist_utils.call_functions_parallel( (self._get_networks, [request]), (self._get_servers, [request]), (self._get_routers, [request]), (self._get_ports, [request]) ) networks, servers, routers, ports = results data = {'servers': servers, 'ports': self._filter_ports(ports, networks), 'routers': routers}"," def _get_ports(self, request, networks): networks = self._get_networks(request) data = {'servers': self._get_servers(request), 'ports': self._get_ports(request, networks), 'routers': self._get_routers(request)}",14,5
openstack%2Freleases~master~Icd0ef8d06d659274a6460228e2951e4421942b5b,openstack/releases,master,Icd0ef8d06d659274a6460228e2951e4421942b5b,kolla/kolla-ansible/kayobe: final Antelope release,MERGED,2023-06-01 19:38:34.000000000,2023-06-02 14:15:57.000000000,2023-06-02 14:15:57.000000000,"[{'_account_id': 308}, {'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-01 19:38:34.000000000', 'files': ['deliverables/antelope/kolla.yaml', 'deliverables/antelope/kolla-ansible.yaml', 'deliverables/antelope/kayobe.yaml', 'deliverables/antelope/ansible-collection-kolla.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6037d2ad8bbca486b7697ca3970c5874863073c1', 'message': 'kolla/kolla-ansible/kayobe: final Antelope release\n\nChange-Id: Icd0ef8d06d659274a6460228e2951e4421942b5b\n'}]",1,885093,6037d2ad8bbca486b7697ca3970c5874863073c1,8,6,1,22629,,,0,"kolla/kolla-ansible/kayobe: final Antelope release

Change-Id: Icd0ef8d06d659274a6460228e2951e4421942b5b
",git fetch https://review.opendev.org/openstack/releases refs/changes/93/885093/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/antelope/kolla.yaml', 'deliverables/antelope/kolla-ansible.yaml', 'deliverables/antelope/kayobe.yaml', 'deliverables/antelope/ansible-collection-kolla.yaml']",4,6037d2ad8bbca486b7697ca3970c5874863073c1,, - version: 3.0.0 projects: - repo: openstack/ansible-collection-kolla hash: 8d37dee4bf4d2a7b555e3f542836d2ba5d563b88,,20,0
openstack%2Fcharm-ceph-dashboard~master~I72ab8b2ec96cf78df8a84e0686a33229a6270fb3,openstack/charm-ceph-dashboard,master,I72ab8b2ec96cf78df8a84e0686a33229a6270fb3,Add support for interim Ubuntu releases,MERGED,2023-03-16 18:04:35.000000000,2023-06-02 14:07:40.000000000,2023-06-02 14:07:40.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}, {'_account_id': 34952}]","[{'number': 1, 'created': '2023-03-16 18:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/178dec9c891b99d448810613c767773d0ef6fdaf', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: I72ab8b2ec96cf78df8a84e0686a33229a6270fb3\n'}, {'number': 2, 'created': '2023-03-16 18:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/50cfffc7df4dde38944bc183b1edda0e43747828', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: I72ab8b2ec96cf78df8a84e0686a33229a6270fb3\n'}, {'number': 3, 'created': '2023-03-16 19:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/7f5cd41aefaef1b4f72bbaf84e850b2cd59f5f15', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: I72ab8b2ec96cf78df8a84e0686a33229a6270fb3\n'}, {'number': 4, 'created': '2023-03-20 18:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/e8fd5bdc8a5217ed867514f529da815b368a39df', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: I72ab8b2ec96cf78df8a84e0686a33229a6270fb3\n'}, {'number': 5, 'created': '2023-03-20 18:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/def47d666321ba33170fadf643a6834cfa9fe7f5', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: I72ab8b2ec96cf78df8a84e0686a33229a6270fb3\n'}, {'number': 6, 'created': '2023-03-20 18:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/ca4490e6e193418d073be25021fa6b1c802a0877', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: I72ab8b2ec96cf78df8a84e0686a33229a6270fb3\n'}, {'number': 7, 'created': '2023-05-24 15:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/0495d4f7a9777293ce22d4d6c0f270c076739cc8', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: I72ab8b2ec96cf78df8a84e0686a33229a6270fb3\n'}, {'number': 8, 'created': '2023-05-25 13:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/c7bc4bc0ca069741758586d48c016933f62b06fd', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: I72ab8b2ec96cf78df8a84e0686a33229a6270fb3\n'}, {'number': 9, 'created': '2023-05-26 14:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/f63b7eeacff67e54a952886552d1a09b448d0167', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: I72ab8b2ec96cf78df8a84e0686a33229a6270fb3\n'}, {'number': 10, 'created': '2023-05-30 17:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/baeb070c03557f2456f3a04c1eb003de136ad35c', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: I72ab8b2ec96cf78df8a84e0686a33229a6270fb3\n'}, {'number': 11, 'created': '2023-05-31 12:57:26.000000000', 'files': ['tests/bundles/kinetic-zed.yaml', 'osci.yaml', 'tests/bundles/lunar-antelope.yaml', 'tests/bundles/overlays/focal.yaml.j2', 'tests/bundles/jammy-antelope.yaml', 'charmcraft.yaml', 'metadata.yaml', 'tests/bundles/jammy-zed.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/d24c6fe6f261a8c56ad259d00c8ab5eb56e0f4da', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: I72ab8b2ec96cf78df8a84e0686a33229a6270fb3\n'}]",35,877704,d24c6fe6f261a8c56ad259d00c8ab5eb56e0f4da,50,5,11,20634,,,0,"Add support for interim Ubuntu releases

- update bundles to include UCA pocket tests
- update test configuration
- update metadata to include kinetic and lunar
- update snapcraft to allow run-on for kinetic and lunar

Change-Id: I72ab8b2ec96cf78df8a84e0686a33229a6270fb3
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/04/877704/8 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/kinetic-zed.yaml', 'osci.yaml', 'tests/bundles/lunar-antelope.yaml', 'tests/bundles/jammy-antelope.yaml', 'charmcraft.yaml', 'metadata.yaml', 'tests/bundles/overlays/local-overlay.yaml.j2', 'tests/bundles/jammy-zed.yaml']",8,178dec9c891b99d448810613c767773d0ef6fdaf,ceph-lunar,"local_overlay_enabled: False series: jammy variables: openstack-origin: &openstack-origin cloud:jammy-zed applications: ceph-osd: charm: ch:ceph-osd num_units: 6 storage: osd-devices: 'cinder,10G' options: osd-devices: '/dev/test-non-existent' source: *openstack-origin channel: quincy/edge ceph-mon: charm: ch:ceph-mon num_units: 3 options: monitor-count: '3' source: *openstack-origin channel: quincy/edge vault: num_units: 1 charm: ch:vault channel: latest/edge mysql-innodb-cluster: charm: ch:mysql-innodb-cluster constraints: mem=3072M num_units: 3 options: source: *openstack-origin channel: latest/edge vault-mysql-router: charm: ch:mysql-router channel: latest/edge ceph-dashboard: charm: ../../ceph-dashboard.charm options: public-hostname: 'ceph-dashboard.zaza.local' prometheus: charm: ch:prometheus2 num_units: 1 grafana: # SSL and allow_embedding are not released into cs:grafana yet, due # October 2021 charm: ch:grafana num_units: 1 options: anonymous: True install_plugins: https://storage.googleapis.com/plugins-community/vonage-status-panel/release/1.0.11/vonage-status-panel-1.0.11.zip,https://storage.googleapis.com/plugins-community/grafana-piechart-panel/release/1.6.2/grafana-piechart-panel-1.6.2.zip install_method: snap allow_embedding: True telegraf: charm: telegraf channel: stable options: hostname: ""{host}"" prometheus-alertmanager: charm: ch:prometheus-alertmanager num_units: 1 ceph-radosgw: charm: ch:ceph-radosgw num_units: 3 channel: latest/edge ceph-fs: charm: ch:ceph-fs num_units: 1 channel: latest/edge ceph-iscsi: charm: ch:ceph-iscsi num_units: 2 options: gateway-metadata-pool: iscsi-foo-metadata channel: latest/edge relations: - - 'ceph-osd:mon' - 'ceph-mon:osd' - - 'vault:shared-db' - 'vault-mysql-router:shared-db' - - 'vault-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'ceph-dashboard:dashboard' - 'ceph-mon:dashboard' - - 'ceph-dashboard:certificates' - 'vault:certificates' - - 'ceph-mon:prometheus' - 'prometheus:target' - - 'grafana:grafana-source' - 'prometheus:grafana-source' - - 'grafana:certificates' - 'vault:certificates' - - 'ceph-osd:juju-info' - 'telegraf:juju-info' - - 'ceph-mon:juju-info' - 'telegraf:juju-info' - - 'telegraf:prometheus-client' - 'prometheus:target' - - 'telegraf:dashboards' - 'grafana:dashboards' - - 'ceph-dashboard:grafana-dashboard' - 'grafana:dashboards' - - 'ceph-dashboard:alertmanager-service' - 'prometheus-alertmanager:alertmanager-service' - - 'ceph-dashboard:prometheus' - 'prometheus:website' - - 'prometheus:alertmanager-service' - 'prometheus-alertmanager:alertmanager-service' - - 'ceph-radosgw:mon' - 'ceph-mon:radosgw' - - 'ceph-radosgw:certificates' - 'vault:certificates' - - 'ceph-dashboard:radosgw-dashboard' - 'ceph-radosgw:radosgw-user' - - 'ceph-mon:mds' - 'ceph-fs:ceph-mds' - - 'ceph-mon:client' - 'ceph-iscsi:ceph-client' - - 'vault:certificates' - 'ceph-iscsi:certificates' - - 'ceph-dashboard:iscsi-dashboard' - 'ceph-iscsi:admin-access' ",,489,1
openstack%2Fcharm-ceph-rbd-mirror~master~Id86fc043495b89609cf6873ec58aee1e2e388578,openstack/charm-ceph-rbd-mirror,master,Id86fc043495b89609cf6873ec58aee1e2e388578,Bypass charm going into blocked due to a bug,MERGED,2023-05-26 14:47:14.000000000,2023-06-02 14:05:44.000000000,2023-06-02 14:05:44.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2023-05-26 14:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/7b8c8978497e8094f499ad8068f9ad9ac596e1d0', 'message': 'Bypass charm going into blocked due to a bug\n\nAfter Octopus, the reporting about image states fails because of a\npermission issue in Ceph. This change disables that status reporting\nto allow a deployment to be healthy even when some tools cannot query\nstatus.\n\nAlso modernize build and func testing: remove python 3.9 and xena from\ntests\n\nRelated-Bug: #1879749\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1063\nChange-Id: Id86fc043495b89609cf6873ec58aee1e2e388578\n'}, {'number': 2, 'created': '2023-05-26 14:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/39623a61d32a7bf9e890da74b417bb136289ea1c', 'message': 'Bypass charm going into blocked due to a bug\n\nAfter Octopus, the reporting about image states fails because of a\npermission issue in Ceph. This change disables that status reporting\nto allow a deployment to be healthy even when some tools cannot query\nstatus.\n\nAlso modernize build and func testing: remove python 3.9 and xena from\ntests\n\nRelated-Bug: #1879749\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1063\nChange-Id: Id86fc043495b89609cf6873ec58aee1e2e388578\n'}, {'number': 3, 'created': '2023-06-02 08:49:42.000000000', 'files': ['osci.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tox.ini', 'src/tests/bundles/focal-xena.yaml', 'src/metadata.yaml', 'src/lib/charm/openstack/ceph_rbd_mirror.py', 'src/tests/bundles/focal-yoga.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'bindep.txt', 'unit_tests/test_lib_charm_openstack_ceph_rbd_mirror.py', 'charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/f5965a81bd52aa0285963ed2432f68f0254b6ac8', 'message': 'Bypass charm going into blocked due to a bug\n\nAfter Octopus, the reporting about image states fails because of a\npermission issue in Ceph. This change disables that status reporting\nto allow a deployment to be healthy even when some tools cannot query\nstatus.\n\nAlso modernize build and func testing: remove python 3.9 and xena from\ntests\n\nRelated-Bug: #1879749\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1063\nChange-Id: Id86fc043495b89609cf6873ec58aee1e2e388578\n'}]",2,884510,f5965a81bd52aa0285963ed2432f68f0254b6ac8,13,3,3,15382,,,0,"Bypass charm going into blocked due to a bug

After Octopus, the reporting about image states fails because of a
permission issue in Ceph. This change disables that status reporting
to allow a deployment to be healthy even when some tools cannot query
status.

Also modernize build and func testing: remove python 3.9 and xena from
tests

Related-Bug: #1879749
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1063
Change-Id: Id86fc043495b89609cf6873ec58aee1e2e388578
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/10/884510/2 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tox.ini', 'src/tests/bundles/focal-xena.yaml', 'src/metadata.yaml', 'src/lib/charm/openstack/ceph_rbd_mirror.py', 'src/tests/bundles/focal-yoga.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'bindep.txt', 'unit_tests/test_lib_charm_openstack_ceph_rbd_mirror.py', 'charmcraft.yaml', 'tox.ini']",13,7b8c8978497e8094f499ad8068f9ad9ac596e1d0,bug/1879749,"# We use tox mainly for virtual environment management for test requirements # and do not install the charm code as a Python package into that environment. # Ref: https://tox.wiki/en/latest/config.html#skip_install skip_install = True CHARM_LAYERS_DIR={toxinidir}/layers CHARM_INTERFACES_DIR={toxinidir}/interfaces passenv = no_proxy http_proxy https_proxy CHARM_INTERFACES_DIR CHARM_LAYERS_DIR JUJU_REPOSITORY {toxinidir}/rename.sh# charmcraft clean is done to ensure that # `tox -e build` always performs a clean, repeatable build. # For faster rebuilds during development, # directly run `charmcraft -v pack && ./rename.sh`. charmcraft -v pack charmcraft clean git+https://github.com/juju/charm-tools.git","skipsdist = True# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 requires = pip < 20.3 virtualenv < 20.0 setuptools<50.0.0 # NOTE: https://wiki.canonical.com/engineering/OpenStack/InstallLatestToxOnOsci minversion = 3.18.0passenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORY install_command = {toxinidir}/pip.sh install {opts} {packages} rename.shdeps = -r{toxinidir}/build-requirements.txt charmcraft -v build[testenv:py35] basepython = python3.5 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:py39] basepython = python3.9 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} charm-tools==2.8.3[testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",76,473
openstack%2Fovn-bgp-agent~master~Ib66aa082b97b02c3662be647f477707fd8353ae0,openstack/ovn-bgp-agent,master,Ib66aa082b97b02c3662be647f477707fd8353ae0,Ensure watchers do not crash,MERGED,2023-06-02 13:15:11.000000000,2023-06-02 13:57:50.000000000,2023-06-02 13:56:49.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-02 13:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/b0085222506226f3e9924a2146365adbfd83c087', 'message': '[WIP] Ensure watchers do not crash\n\nWe are overwriting the run method to ensure it is catching any\npossible exception generated and allow the driver/watchers to\ncontinue working after that\n\nChange-Id: Ib66aa082b97b02c3662be647f477707fd8353ae0\n'}, {'number': 2, 'created': '2023-06-02 13:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/ad90019597fc53709bbec3746b95d884fa852495', 'message': '[WIP] Ensure watchers do not crash\n\nWe are overwriting the run method to ensure it is catching any\npossible exception generated and allow the driver/watchers to\ncontinue working after that\n\nChange-Id: Ib66aa082b97b02c3662be647f477707fd8353ae0\n'}, {'number': 3, 'created': '2023-06-02 13:34:34.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/watchers/base_watcher.py', 'ovn_bgp_agent/drivers/openstack/watchers/evpn_watcher.py', 'ovn_bgp_agent/drivers/openstack/watchers/bgp_watcher.py', 'ovn_bgp_agent/drivers/openstack/watchers/nb_bgp_watcher.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/cbe1e16d42be2f38d0398880b0d28355117c83ef', 'message': 'Ensure watchers do not crash\n\nWe are overwriting the run method to ensure it is catching any\npossible exception generated and allow the driver/watchers to\ncontinue working after that\n\nCloses-Bug: #2022357\n\nChange-Id: Ib66aa082b97b02c3662be647f477707fd8353ae0\n'}]",13,884602,cbe1e16d42be2f38d0398880b0d28355117c83ef,13,2,3,23567,,,0,"Ensure watchers do not crash

We are overwriting the run method to ensure it is catching any
possible exception generated and allow the driver/watchers to
continue working after that

Closes-Bug: #2022357

Change-Id: Ib66aa082b97b02c3662be647f477707fd8353ae0
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/02/884602/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/drivers/openstack/watchers/base_watcher.py', 'ovn_bgp_agent/drivers/openstack/watchers/evpn_watcher.py', 'ovn_bgp_agent/drivers/openstack/watchers/bgp_watcher.py', 'ovn_bgp_agent/drivers/openstack/watchers/nb_bgp_watcher.py']",4,b0085222506226f3e9924a2146365adbfd83c087,," def _run(self, event, row, old): def _run(self, event, row, old): def _run(self, event, row, old): def _run(self, event, row, old): def _run(self, event, row, old):"," def run(self, event, row, old): def run(self, event, row, old): def run(self, event, row, old): def run(self, event, row, old): def run(self, event, row, old):",57,27
openstack%2Fovn-bgp-agent~master~Ib7f3f7923b3148a77e535c1fdcfd59d1dc15fcf2,openstack/ovn-bgp-agent,master,Ib7f3f7923b3148a77e535c1fdcfd59d1dc15fcf2,[WIP] Add different thread to process requests from watchers,ABANDONED,2023-06-02 10:19:57.000000000,2023-06-02 13:37:24.000000000,,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-06-02 10:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/e78a341b5bf323727eb5ec59cdd0a25c698c3883', 'message': '[WIP] Add different thread to process requests from watchers\n\nTo better track the request being handled and avoid unhandled\nexception to break the driver, we are adding a request handler\nthread to execute those, and adapting the watchers to just put\nrequests in the queue\n\nChange-Id: Ib7f3f7923b3148a77e535c1fdcfd59d1dc15fcf2\n'}, {'number': 2, 'created': '2023-06-02 11:03:51.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/nb_ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/ovn_stretched_l2_bgp_driver.py', 'ovn_bgp_agent/agent.py', 'ovn_bgp_agent/drivers/openstack/watchers/bgp_watcher.py', 'ovn_bgp_agent/constants.py', 'ovn_bgp_agent/drivers/openstack/watchers/nb_bgp_watcher.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/abe229c8a794d01cd95e38ad3245c854adcc272a', 'message': '[WIP] Add different thread to process requests from watchers\n\nTo better track the request being handled and avoid unhandled\nexception to break the driver, we are adding a request handler\nthread to execute those, and adapting the watchers to just put\nrequests in the queue\n\nChange-Id: Ib7f3f7923b3148a77e535c1fdcfd59d1dc15fcf2\n'}]",5,884601,abe229c8a794d01cd95e38ad3245c854adcc272a,9,3,2,23567,,,0,"[WIP] Add different thread to process requests from watchers

To better track the request being handled and avoid unhandled
exception to break the driver, we are adding a request handler
thread to execute those, and adapting the watchers to just put
requests in the queue

Change-Id: Ib7f3f7923b3148a77e535c1fdcfd59d1dc15fcf2
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/01/884601/2 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/nb_ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/ovn_stretched_l2_bgp_driver.py', 'ovn_bgp_agent/agent.py', 'ovn_bgp_agent/drivers/openstack/watchers/bgp_watcher.py', 'ovn_bgp_agent/constants.py', 'ovn_bgp_agent/drivers/openstack/watchers/nb_bgp_watcher.py']",7,e78a341b5bf323727eb5ec59cdd0a25c698c3883,," request_info = {'ips': ips, 'row': row} self.agent.add_request({'type': constants.REQ_TYPE_EXPOSE_IP, 'info': request_info}) request_info = {'ips': ips, 'row': row} self.agent.add_request({'type': constants.REQ_TYPE_WITHDRAW_IP, 'info': request_info}) request_info = {'ip': external_ip, 'logical_switch': ls_name, 'row': row} self.agent.add_request({'type': constants.REQ_TYPE_EXPOSE_FIP, 'info': request_info}) request_info = {'ip': fip, 'row': row} self.agent.add_request({'type': constants.REQ_TYPE_WITHDRAW_FIP, 'info': request_info}) self.agent_driver.add_request({'type': constants.REQ_TYPE_SYNC})"," self.agent.expose_ip(ips, row) self.agent.withdraw_ip(ips, row) self.agent.expose_fip(external_ip, ls_name, row) self.agent.withdraw_fip(fip, row) self.agent.sync()",366,70
openstack%2Fcharm-cinder~stable%2Fussuri~I6d44223b7c2863c6d9c62b46a41275fd360f92d1,openstack/charm-cinder,stable/ussuri,I6d44223b7c2863c6d9c62b46a41275fd360f92d1,Add nova section,MERGED,2022-12-16 20:14:39.000000000,2023-06-02 13:11:03.000000000,2023-06-02 13:11:03.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-16 20:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/b4b587805847a8478cf3dd82d7dd5bc9e0d5bd2f', 'message': ""Add nova section\n\nCinder sometimes needs to communicate with nova,\nfor example to notify VMs when live-resizing a disk.\nUnder certain circumstances,\nthe autodetected authentication details don't work,\nso we must add a dedicated section in the config\nfor the nova client with proper credentials.\n\nThis issue has been observed on victoria and newer,\nhence the addition of cinder.conf for victoria.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/776\n\nCloses-Bug: #1939389\n\nCo-authored-by: Samuel Walladge <samuel.walladge@canonical.com>\n\nChange-Id: I6d44223b7c2863c6d9c62b46a41275fd360f92d1\n""}, {'number': 2, 'created': '2022-12-16 20:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/df3d7c3df3746ba163d718a0257ee7c32a913a84', 'message': ""Add nova section\n\nCinder sometimes needs to communicate with nova,\nfor example to notify VMs when live-resizing a disk.\nUnder certain circumstances,\nthe autodetected authentication details don't work,\nso we must add a dedicated section in the config\nfor the nova client with proper credentials.\n\nThis issue has been observed on victoria and newer,\nhence the addition of cinder.conf for victoria.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/776\n\nCloses-Bug: #1939389\n\nCo-authored-by: Samuel Walladge <samuel.walladge@canonical.com>\n\nChange-Id: I6d44223b7c2863c6d9c62b46a41275fd360f92d1\n(cherry-picked from commit 2b71f3b1d7bdd8a0902cd6439bc2f66e797293fc)\n""}, {'number': 3, 'created': '2023-03-28 18:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/b78ed54eadfc809d02b27db7e234f254571c35c1', 'message': ""Add nova section\n\nCinder sometimes needs to communicate with nova,\nfor example to notify VMs when live-resizing a disk.\nUnder certain circumstances,\nthe autodetected authentication details don't work,\nso we must add a dedicated section in the config\nfor the nova client with proper credentials.\n\nThis issue has been observed on victoria and newer,\nhence the addition of cinder.conf for victoria.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/776\n\nCloses-Bug: #1939389\n\nCo-authored-by: Samuel Walladge <samuel.walladge@canonical.com>\n\nChange-Id: I6d44223b7c2863c6d9c62b46a41275fd360f92d1\n(cherry-picked from commit 2b71f3b1d7bdd8a0902cd6439bc2f66e797293fc)\n""}, {'number': 4, 'created': '2023-03-29 18:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/a13f910d5c18dad2e15e3b2ff8352834e0a75945', 'message': ""Add nova section\n\nCinder sometimes needs to communicate with nova,\nfor example to notify VMs when live-resizing a disk.\nUnder certain circumstances,\nthe autodetected authentication details don't work,\nso we must add a dedicated section in the config\nfor the nova client with proper credentials.\n\nThis issue has been observed on victoria and newer,\nhence the addition of cinder.conf for victoria.\n\n\nCloses-Bug: #1939389\n\nCo-authored-by: Samuel Walladge <samuel.walladge@canonical.com>\n\nChange-Id: I6d44223b7c2863c6d9c62b46a41275fd360f92d1\n(cherry-picked from commit 2b71f3b1d7bdd8a0902cd6439bc2f66e797293fc)\n""}, {'number': 5, 'created': '2023-05-12 19:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/e86d57daf7c4fd42690d1f9258610e2be7fce1a7', 'message': ""Add nova section\n\nCinder sometimes needs to communicate with nova,\nfor example to notify VMs when live-resizing a disk.\nUnder certain circumstances,\nthe autodetected authentication details don't work,\nso we must add a dedicated section in the config\nfor the nova client with proper credentials.\n\nThis issue has been observed on victoria and newer,\nhence the addition of cinder.conf for victoria.\n\n\nCloses-Bug: #1939389\n\nCo-authored-by: Samuel Walladge <samuel.walladge@canonical.com>\n\nChange-Id: I6d44223b7c2863c6d9c62b46a41275fd360f92d1\n(cherry-picked from commit 2b71f3b1d7bdd8a0902cd6439bc2f66e797293fc)\n""}, {'number': 6, 'created': '2023-05-15 12:56:10.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'tests/bundles/focal-ussuri-volume-only.yaml', 'templates/victoria/cinder.conf', 'templates/parts/service-auth'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/8eac344dd68f574787eb74bb56c1e62a040cb787', 'message': ""Add nova section\n\nCinder sometimes needs to communicate with nova,\nfor example to notify VMs when live-resizing a disk.\nUnder certain circumstances,\nthe autodetected authentication details don't work,\nso we must add a dedicated section in the config\nfor the nova client with proper credentials.\n\nThis issue has been observed on victoria and newer,\nhence the addition of cinder.conf for victoria.\n\n\nCloses-Bug: #1939389\n\nCo-authored-by: Samuel Walladge <samuel.walladge@canonical.com>\n\nChange-Id: I6d44223b7c2863c6d9c62b46a41275fd360f92d1\n(cherry-picked from commit 2b71f3b1d7bdd8a0902cd6439bc2f66e797293fc)\n""}]",9,867997,8eac344dd68f574787eb74bb56c1e62a040cb787,35,4,6,17097,,,0,"Add nova section

Cinder sometimes needs to communicate with nova,
for example to notify VMs when live-resizing a disk.
Under certain circumstances,
the autodetected authentication details don't work,
so we must add a dedicated section in the config
for the nova client with proper credentials.

This issue has been observed on victoria and newer,
hence the addition of cinder.conf for victoria.


Closes-Bug: #1939389

Co-authored-by: Samuel Walladge <samuel.walladge@canonical.com>

Change-Id: I6d44223b7c2863c6d9c62b46a41275fd360f92d1
(cherry-picked from commit 2b71f3b1d7bdd8a0902cd6439bc2f66e797293fc)
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/97/867997/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', 'tests/bundles/focal-ussuri-volume-only.yaml', 'templates/victoria/cinder.conf', 'templates/parts/service-auth']",4,b4b587805847a8478cf3dd82d7dd5bc9e0d5bd2f,,# Authentication type to load (string value) auth_type = password # Authentication URL (string value) auth_url = {{ auth_protocol }}://{{ auth_host }}:{{ auth_port }} # Username (string value) username = {{ admin_user }} # User's password (string value) password = {{ admin_password }} # Project name to scope to (string value) project_name = {{ admin_tenant_name }} {% if admin_domain_name -%} project_domain_name = {{ admin_domain_name }} user_domain_name = {{ admin_domain_name }} {% else -%} project_domain_name = default user_domain_name = default {% endif -%} {% if ca_cert_path -%} # PEM encoded Certificate Authority to use when verifying # HTTPs connections. (string value) cafile = {{ ca_cert_path }} {% endif -%} region_name = {{ region }} ,,136,4
openstack%2Fneutron~master~Iecc5e633573b15d71158ed2c10df768feef6df99,openstack/neutron,master,Iecc5e633573b15d71158ed2c10df768feef6df99,Move ``determine_bind_host`` to ``ovn.utils``,MERGED,2023-05-08 13:14:04.000000000,2023-06-02 12:48:29.000000000,2023-06-02 12:47:28.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 7730}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-08 13:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/665c0272bd3b0069862bff16e04b1eaacbc7fa18', 'message': 'Move ``determine_bind_host`` to ``ovn.utils``\n\nThis method could be used outside the OVNClient instance.\n\nRelated-Bug: #2018529\nChange-Id: Iecc5e633573b15d71158ed2c10df768feef6df99\n'}, {'number': 2, 'created': '2023-05-09 09:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dae474f9f65d9ae65a16fbe97976a39c72dfb0b0', 'message': 'Move ``determine_bind_host`` to ``ovn.utils``\n\nThis method could be used outside the OVNClient instance.\n\nRelated-Bug: #2018529\nChange-Id: Iecc5e633573b15d71158ed2c10df768feef6df99\n'}, {'number': 3, 'created': '2023-05-30 09:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f2b1642040cb158d79ad4ff24ecdc9388d8682a6', 'message': 'Move ``determine_bind_host`` to ``ovn.utils``\n\nThis method could be used outside the OVNClient instance.\n\nRelated-Bug: #2018529\nChange-Id: Iecc5e633573b15d71158ed2c10df768feef6df99\n'}, {'number': 4, 'created': '2023-05-30 10:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1abeac50bb3cee2dc88bf22aa2879b477b8fcafe', 'message': 'Move ``determine_bind_host`` to ``ovn.utils``\n\nThis method could be used outside the OVNClient instance.\n\nRelated-Bug: #2018529\nChange-Id: Iecc5e633573b15d71158ed2c10df768feef6df99\n'}, {'number': 5, 'created': '2023-05-31 16:07:35.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_client.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/37dda9bc69f31af7c9c38de7e462480aa54c1f60', 'message': 'Move ``determine_bind_host`` to ``ovn.utils``\n\nThis method could be used outside the OVNClient instance.\n\nRelated-Bug: #2018529\nChange-Id: Iecc5e633573b15d71158ed2c10df768feef6df99\n'}]",9,882562,37dda9bc69f31af7c9c38de7e462480aa54c1f60,34,8,5,16688,,,0,"Move ``determine_bind_host`` to ``ovn.utils``

This method could be used outside the OVNClient instance.

Related-Bug: #2018529
Change-Id: Iecc5e633573b15d71158ed2c10df768feef6df99
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/882562/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_client.py']",5,665c0272bd3b0069862bff16e04b1eaacbc7fa18,bug/2018529,," class TestOVNClientDetermineBindHost(TestOVNClientBase): def setUp(self): super(TestOVNClientDetermineBindHost, self).setUp() self.get_chassis_by_card_serial_from_cms_options = ( self.sb_idl.get_chassis_by_card_serial_from_cms_options) self.fake_smartnic_hostname = 'fake-chassis-hostname' self.get_chassis_by_card_serial_from_cms_options.return_value = ( fakes.FakeChassis.create( attrs={'hostname': self.fake_smartnic_hostname})) def test_vnic_normal_unbound_port(self): self.assertEqual( '', self.ovn_client.determine_bind_host({})) def test_vnic_normal_bound_port(self): port = { portbindings.HOST_ID: 'fake-binding-host-id', } self.assertEqual( 'fake-binding-host-id', self.ovn_client.determine_bind_host(port)) def test_vnic_normal_port_context(self): context = mock.MagicMock() context.host = 'fake-binding-host-id' self.assertEqual( 'fake-binding-host-id', self.ovn_client.determine_bind_host({}, port_context=context)) def test_vnic_remote_managed_unbound_port_no_binding_profile(self): port = { portbindings.VNIC_TYPE: portbindings.VNIC_REMOTE_MANAGED, constants.OVN_PORT_BINDING_PROFILE: {}, } self.assertEqual( '', self.ovn_client.determine_bind_host(port)) def test_vnic_remote_managed_unbound_port(self): port = { portbindings.VNIC_TYPE: portbindings.VNIC_REMOTE_MANAGED, constants.OVN_PORT_BINDING_PROFILE: { constants.VIF_DETAILS_PCI_VENDOR_INFO: 'fake-pci-vendor-info', constants.VIF_DETAILS_PCI_SLOT: 'fake-pci-slot', constants.VIF_DETAILS_PHYSICAL_NETWORK: None, constants.VIF_DETAILS_CARD_SERIAL_NUMBER: 'fake-serial', constants.VIF_DETAILS_PF_MAC_ADDRESS: 'fake-pf-mac', constants.VIF_DETAILS_VF_NUM: 42, }, } self.assertEqual( self.fake_smartnic_hostname, self.ovn_client.determine_bind_host(port)) def test_vnic_remote_managed_bound_port(self): port = { portbindings.VNIC_TYPE: portbindings.VNIC_REMOTE_MANAGED, portbindings.HOST_ID: 'fake-binding-host-id', constants.OVN_PORT_BINDING_PROFILE: { constants.VIF_DETAILS_PCI_VENDOR_INFO: 'fake-pci-vendor-info', constants.VIF_DETAILS_PCI_SLOT: 'fake-pci-slot', constants.VIF_DETAILS_PHYSICAL_NETWORK: None, constants.VIF_DETAILS_CARD_SERIAL_NUMBER: 'fake-serial', constants.VIF_DETAILS_PF_MAC_ADDRESS: 'fake-pf-mac', constants.VIF_DETAILS_VF_NUM: 42, }, } self.assertEqual( self.fake_smartnic_hostname, self.ovn_client.determine_bind_host(port)) def test_vnic_remote_managed_port_context(self): context = mock.MagicMock() context.current = { portbindings.VNIC_TYPE: portbindings.VNIC_REMOTE_MANAGED, constants.OVN_PORT_BINDING_PROFILE: { constants.VIF_DETAILS_PCI_VENDOR_INFO: 'fake-pci-vendor-info', constants.VIF_DETAILS_PCI_SLOT: 'fake-pci-slot', constants.VIF_DETAILS_PHYSICAL_NETWORK: None, constants.VIF_DETAILS_CARD_SERIAL_NUMBER: 'fake-serial', constants.VIF_DETAILS_PF_MAC_ADDRESS: 'fake-pf-mac', constants.VIF_DETAILS_VF_NUM: 42, }, } context.host = 'fake-binding-host-id' self.assertEqual( self.fake_smartnic_hostname, self.ovn_client.determine_bind_host({}, port_context=context))",143,139
openstack%2Fneutron-lib~master~Id26acbb29a8ddacf4e621e847f2cc05a7ae7f9d6,openstack/neutron-lib,master,Id26acbb29a8ddacf4e621e847f2cc05a7ae7f9d6,"Introduce ""HasProjectPrimaryUniqueKey"" class",MERGED,2023-04-28 08:31:48.000000000,2023-06-02 12:40:00.000000000,2023-06-02 12:39:03.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-28 08:31:48.000000000', 'files': ['neutron_lib/db/model_base.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1ccebda1172150b081f6997044fddf06a06ad8be', 'message': 'Introduce ""HasProjectPrimaryUniqueKey"" class\n\nThis class is used for the database model definitions. It adds the\n""project_id"" field as primary key, non nullable and unique. This\nis the only class that defined this field as unique; that implies\nany register created will be unique per project.\n\nFor example, [1] is introducing this database limitation for the\n""ha_router_networks"" registers: only one HA network per project\ncan be created.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/881735/\n\nChange-Id: Id26acbb29a8ddacf4e621e847f2cc05a7ae7f9d6\nRelated-Bug: #2016198\n'}]",3,881804,1ccebda1172150b081f6997044fddf06a06ad8be,15,4,1,16688,,,0,"Introduce ""HasProjectPrimaryUniqueKey"" class

This class is used for the database model definitions. It adds the
""project_id"" field as primary key, non nullable and unique. This
is the only class that defined this field as unique; that implies
any register created will be unique per project.

For example, [1] is introducing this database limitation for the
""ha_router_networks"" registers: only one HA network per project
can be created.

[1]https://review.opendev.org/c/openstack/neutron/+/881735/

Change-Id: Id26acbb29a8ddacf4e621e847f2cc05a7ae7f9d6
Related-Bug: #2016198
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/04/881804/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/db/model_base.py'],1,1ccebda1172150b081f6997044fddf06a06ad8be,bug/2016198,"class HasProjectPrimaryUniqueKey(HasProject): """"""Project mixin, add to subclasses that have a user."""""" # NOTE: project_id is just a free form string project_id = sa.Column(sa.String(db_const.PROJECT_ID_FIELD_SIZE), nullable=False, primary_key=True, unique=True) ",,8,0
openstack%2Fcharm-masakari~stable%2Fzed~If3a54ed28c3c99026f5b25f24f4e326dd5637353,openstack/charm-masakari,stable/zed,If3a54ed28c3c99026f5b25f24f4e326dd5637353,Pin build.lock for all layers to the commit hash,MERGED,2023-03-01 13:25:44.000000000,2023-06-02 12:39:26.000000000,2023-06-02 12:39:26.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-01 13:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/134db03585b27e993d959ea137a1b806119f3814', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: If3a54ed28c3c99026f5b25f24f4e326dd5637353\n'}, {'number': 2, 'created': '2023-06-01 21:17:58.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/bf2c745c7c8b44e093142e355d3e5dd1b5a69c3d', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: If3a54ed28c3c99026f5b25f24f4e326dd5637353\n'}]",4,875916,bf2c745c7c8b44e093142e355d3e5dd1b5a69c3d,16,4,2,2424,,,0,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: If3a54ed28c3c99026f5b25f24f4e326dd5637353
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/16/875916/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,134db03585b27e993d959ea137a1b806119f3814,batch-update-stable/zed,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""edec607e05812df8d226b4aed71d09373767c0d7"", ""commit"": ""edec607e05812df8d226b4aed71d09373767c0d7"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""1c9e662d78b328c6d4587171ccba08572e8dcf25"", ""commit"": ""1c9e662d78b328c6d4587171ccba08572e8dcf25"" }, { ""type"": ""layer"", ""item"": ""layer:openstack-principle"", ""url"": ""https://github.com/openstack/charm-layer-openstack-principle"", ""vcs"": null, ""branch"": ""2541283a7f9c3fa923c0fccd7257e217e11dadcd"", ""commit"": ""2541283a7f9c3fa923c0fccd7257e217e11dadcd"" }, { ""type"": ""layer"", ""item"": ""layer:openstack-api"", ""url"": ""https://github.com/openstack/charm-layer-openstack-api"", ""vcs"": null, ""branch"": ""34311a62e963d0ce903b7ddb9d70b8f071f71651"", ""commit"": ""34311a62e963d0ce903b7ddb9d70b8f071f71651"" }, { ""type"": ""layer"", ""item"": ""masakari"", ""url"": null, ""vcs"": null, ""branch"": null, ""commit"": """" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""d9850016d930a6d507b9fd45e2598d327922b140"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:mysql-shared"", ""url"": ""https://github.com/openstack/charm-interface-mysql-shared"", ""vcs"": null, ""branch"": ""f90f8c6edce21e4da3a872f0f9d6761730ce025d"", ""commit"": ""f90f8c6edce21e4da3a872f0f9d6761730ce025d"" }, { ""type"": ""layer"", ""item"": ""interface:rabbitmq"", ""url"": ""https://github.com/openstack/charm-interface-rabbitmq"", ""vcs"": null, ""branch"": ""383121fc584d2d3bf9d233eba0d3708398a4c468"", ""commit"": ""383121fc584d2d3bf9d233eba0d3708398a4c468"" }, { ""type"": ""layer"", ""item"": ""interface:keystone"", ""url"": ""https://github.com/openstack/charm-interface-keystone"", ""vcs"": null, ""branch"": ""36ea7b385a569ebabca7184ed4ce8420bb8fa61a"", ""commit"": ""36ea7b385a569ebabca7184ed4ce8420bb8fa61a"" }, { ""type"": ""layer"", ""item"": ""interface:hacluster"", ""url"": ""https://github.com/openstack/charm-interface-hacluster.git"", ""vcs"": null, ""branch"": ""5fc5216f51dcf98530d45e137d55fd94b39d150a"", ""commit"": ""5fc5216f51dcf98530d45e137d55fd94b39d150a"" }, { ""type"": ""layer"", ""item"": ""interface:openstack-ha"", ""url"": ""https://github.com/openstack/charm-interface-openstack-ha"", ""vcs"": null, ""branch"": ""a3b00e5b5fd857d130698c5cfe4b918877f0ab80"", ""commit"": ""a3b00e5b5fd857d130698c5cfe4b918877f0ab80"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""23.0"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""7a589883545284e0a6303c7977402afb38e99d46"", ""version"": ""7a589883545284e0a6303c7977402afb38e99d46"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.11.1"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.1.2"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.2"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.38.4"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""62.1.0"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.4"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.2"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""2.3.0"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.8.0"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""6.4.2"" }, { ""type"": ""python_module"", ""package"": ""tomli"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""poetry_core"", ""vcs"": null, ""version"": ""1.5.1"" }, { ""type"": ""python_module"", ""package"": ""six"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/zed"", ""vcs"": ""git"" } ] }",,229,0
openstack%2Fneutron~master~I58b213f79bad9de91a6181745da526500dc9c615,openstack/neutron,master,I58b213f79bad9de91a6181745da526500dc9c615,Implement ``get_port_type_virtual_and_parents`` method,MERGED,2023-05-08 11:13:13.000000000,2023-06-02 12:35:59.000000000,2023-06-02 12:34:53.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 7730}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-08 11:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/81b6243a7e58e5e254978cf271c83958249afbc3', 'message': 'Implement ``get_port_type_virtual_and_parents`` method\n\nThis patch implements a method to determine if a LSP is virtual or\nnot. In case the port is virtual, the method returns the type name,\nthe virtual IP address and the parents (the ports that are using this\nvirtual IP address as allowed address)\n\nThe goal of this patch is to decouple this method from the\n``_get_port_options`` method code.\n\nRelated-Bug: #2018529\nChange-Id: I58b213f79bad9de91a6181745da526500dc9c615\n'}, {'number': 2, 'created': '2023-05-09 09:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/36cdff0f155c8eccc1a6b0a3800d4a7628fd4ec6', 'message': 'Implement ``get_port_type_virtual_and_parents`` method\n\nThis patch implements a method to determine if a LSP is virtual or\nnot. In case the port is virtual, the method returns the type name,\nthe virtual IP address and the parents (the ports that are using this\nvirtual IP address as allowed address)\n\nThe goal of this patch is to decouple this method from the\n``_get_port_options`` method code.\n\nRelated-Bug: #2018529\nChange-Id: I58b213f79bad9de91a6181745da526500dc9c615\n'}, {'number': 3, 'created': '2023-05-30 09:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a9081ca17a66b98128a9a741b3f1019f2797aa84', 'message': 'Implement ``get_port_type_virtual_and_parents`` method\n\nThis patch implements a method to determine if a LSP is virtual or\nnot. In case the port is virtual, the method returns the type name,\nthe virtual IP address and the parents (the ports that are using this\nvirtual IP address as allowed address)\n\nThe goal of this patch is to decouple this method from the\n``_get_port_options`` method code.\n\nRelated-Bug: #2018529\nChange-Id: I58b213f79bad9de91a6181745da526500dc9c615\n'}, {'number': 4, 'created': '2023-05-30 10:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1694172778bbc387e0880a2e57053b4b224c7c09', 'message': 'Implement ``get_port_type_virtual_and_parents`` method\n\nThis patch implements a method to determine if a LSP is virtual or\nnot. In case the port is virtual, the method returns the type name,\nthe virtual IP address and the parents (the ports that are using this\nvirtual IP address as allowed address)\n\nThe goal of this patch is to decouple this method from the\n``_get_port_options`` method code.\n\nRelated-Bug: #2018529\nChange-Id: I58b213f79bad9de91a6181745da526500dc9c615\n'}, {'number': 5, 'created': '2023-05-31 16:04:51.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/common/ovn/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac24dbed1c57a92741a9f2a637e7f8026e265d38', 'message': 'Implement ``get_port_type_virtual_and_parents`` method\n\nThis patch implements a method to determine if a LSP is virtual or\nnot. In case the port is virtual, the method returns the type name,\nthe virtual IP address and the parents (the ports that are using this\nvirtual IP address as allowed address)\n\nThe goal of this patch is to decouple this method from the\n``_get_port_options`` method code.\n\nRelated-Bug: #2018529\nChange-Id: I58b213f79bad9de91a6181745da526500dc9c615\n'}]",24,882557,ac24dbed1c57a92741a9f2a637e7f8026e265d38,41,8,5,16688,,,0,"Implement ``get_port_type_virtual_and_parents`` method

This patch implements a method to determine if a LSP is virtual or
not. In case the port is virtual, the method returns the type name,
the virtual IP address and the parents (the ports that are using this
virtual IP address as allowed address)

The goal of this patch is to decouple this method from the
``_get_port_options`` method code.

Related-Bug: #2018529
Change-Id: I58b213f79bad9de91a6181745da526500dc9c615
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/882557/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/common/ovn/test_utils.py']",3,81b6243a7e58e5e254978cf271c83958249afbc3,bug/2018529," class GetPortTypeVirtualAndParentsTestCase(base.BaseTestCase): def test_no_subnets(self): subnets = [] fixed_ips = [] _type, virtual_ip, virtual_parents = ( utils.get_port_type_virtual_and_parents(subnets, fixed_ips, 'net1', 'port1', mock.ANY)) self.assertEqual(('', None, None), (_type, virtual_ip, virtual_parents)) @mock.patch.object(utils, 'get_virtual_port_parents', return_value=[]) def test_no_parents(self, *args): subnets = [ {'id': 'subnet1'}, {'id': 'subnet2'}, ] fixed_ips = [ {'subnet_id': 'subnet1', 'ip_address': '1.2.3.4'}, {'subnet_id': 'subnet2', 'ip_address': '1.2.3.5'}, ] _type, virtual_ip, virtual_parents = ( utils.get_port_type_virtual_and_parents(subnets, fixed_ips, 'net1', 'port1', mock.ANY)) self.assertEqual(('', None, None), (_type, virtual_ip, virtual_parents)) @mock.patch.object(utils, 'get_virtual_port_parents', return_value=['parent1', 'parent2']) def test_with_parents(self, *args): subnets = [ {'id': 'subnet1'}, {'id': 'subnet2'}, ] fixed_ips = [ {'subnet_id': 'subnet1', 'ip_address': '1.2.3.4'}, {'subnet_id': 'subnet2', 'ip_address': '1.2.3.5'}, ] _type, virtual_ip, virtual_parents = ( utils.get_port_type_virtual_and_parents(subnets, fixed_ips, 'net1', 'port1', mock.ANY)) self.assertEqual((constants.LSP_TYPE_VIRTUAL, '1.2.3.4', 'parent1,parent2'), (_type, virtual_ip, virtual_parents))",,94,13
openstack%2Fneutron-lib~stable%2Fxena~I800e0356714d59ba93ab6252c77be0a82f024055,openstack/neutron-lib,stable/xena,I800e0356714d59ba93ab6252c77be0a82f024055,"Add a ""GROUP BY"" clause on queries with RBAC entries",MERGED,2023-06-01 17:15:51.000000000,2023-06-02 12:14:23.000000000,2023-06-02 12:13:25.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 17:15:51.000000000', 'files': ['neutron_lib/db/model_query.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4a952047823c3c330dad5475d67f77c7ee8d6419', 'message': 'Add a ""GROUP BY"" clause on queries with RBAC entries\n\nAs reported in the Neutron patch [1], this change introduce a\n""GROUP BY"" clause on the SQL queries with RBAC entries. With [1],\nall resouces with RBAC entries (\'network\', \'qospolicy\',\n\'securitygroup\', \'addressscope\', \'subnetpool\', \'addressgroup\') will\nload the RBAC entries with ""joined"" strategy.\n\nBecause of the low cardinality of the RBAC query when all the RBAC\nregisters are in one single project, this patch groups the resource\nqueries by the resource ID. That will reduce the results returned by\nthe SQL engine to only the singular registers required.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/884877\n\nConflicts:\n    neutron_lib/db/model_query.py\n\nRelated-Bug: #1918145\nChange-Id: I800e0356714d59ba93ab6252c77be0a82f024055\n(cherry picked from commit 829e97024c2b73dd67bfd8a04c65f03be556eec8)\n'}]",0,885083,4a952047823c3c330dad5475d67f77c7ee8d6419,8,3,1,16688,,,0,"Add a ""GROUP BY"" clause on queries with RBAC entries

As reported in the Neutron patch [1], this change introduce a
""GROUP BY"" clause on the SQL queries with RBAC entries. With [1],
all resouces with RBAC entries ('network', 'qospolicy',
'securitygroup', 'addressscope', 'subnetpool', 'addressgroup') will
load the RBAC entries with ""joined"" strategy.

Because of the low cardinality of the RBAC query when all the RBAC
registers are in one single project, this patch groups the resource
queries by the resource ID. That will reduce the results returned by
the SQL engine to only the singular registers required.

[1]https://review.opendev.org/c/openstack/neutron/+/884877

Conflicts:
    neutron_lib/db/model_query.py

Related-Bug: #1918145
Change-Id: I800e0356714d59ba93ab6252c77be0a82f024055
(cherry picked from commit 829e97024c2b73dd67bfd8a04c65f03be556eec8)
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/83/885083/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/db/model_query.py'],1,4a952047823c3c330dad5475d67f77c7ee8d6419,bug/1918145," group_by = None # This ""group_by"" clause will limit the number of registers # returned by the query, avoiding the problem of the low SQL # query cardinality when the RBAC registers are in the requested # project ID. group_by = model.id if group_by: query = query.group_by(group_by) ",,9,0
openstack%2Fneutron-lib~stable%2Fyoga~I800e0356714d59ba93ab6252c77be0a82f024055,openstack/neutron-lib,stable/yoga,I800e0356714d59ba93ab6252c77be0a82f024055,"Add a ""GROUP BY"" clause on queries with RBAC entries",MERGED,2023-06-01 17:14:30.000000000,2023-06-02 12:14:20.000000000,2023-06-02 12:13:23.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 17:14:30.000000000', 'files': ['neutron_lib/db/model_query.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/467eafd20a229e24459ad225b458ff4e04e46fd8', 'message': 'Add a ""GROUP BY"" clause on queries with RBAC entries\n\nAs reported in the Neutron patch [1], this change introduce a\n""GROUP BY"" clause on the SQL queries with RBAC entries. With [1],\nall resouces with RBAC entries (\'network\', \'qospolicy\',\n\'securitygroup\', \'addressscope\', \'subnetpool\', \'addressgroup\') will\nload the RBAC entries with ""joined"" strategy.\n\nBecause of the low cardinality of the RBAC query when all the RBAC\nregisters are in one single project, this patch groups the resource\nqueries by the resource ID. That will reduce the results returned by\nthe SQL engine to only the singular registers required.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/884877\n\nRelated-Bug: #1918145\nChange-Id: I800e0356714d59ba93ab6252c77be0a82f024055\n(cherry picked from commit 829e97024c2b73dd67bfd8a04c65f03be556eec8)\n'}]",0,885082,467eafd20a229e24459ad225b458ff4e04e46fd8,9,4,1,16688,,,0,"Add a ""GROUP BY"" clause on queries with RBAC entries

As reported in the Neutron patch [1], this change introduce a
""GROUP BY"" clause on the SQL queries with RBAC entries. With [1],
all resouces with RBAC entries ('network', 'qospolicy',
'securitygroup', 'addressscope', 'subnetpool', 'addressgroup') will
load the RBAC entries with ""joined"" strategy.

Because of the low cardinality of the RBAC query when all the RBAC
registers are in one single project, this patch groups the resource
queries by the resource ID. That will reduce the results returned by
the SQL engine to only the singular registers required.

[1]https://review.opendev.org/c/openstack/neutron/+/884877

Related-Bug: #1918145
Change-Id: I800e0356714d59ba93ab6252c77be0a82f024055
(cherry picked from commit 829e97024c2b73dd67bfd8a04c65f03be556eec8)
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/82/885082/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/db/model_query.py'],1,467eafd20a229e24459ad225b458ff4e04e46fd8,bug/1918145," group_by = None # This ""group_by"" clause will limit the number of registers # returned by the query, avoiding the problem of the low SQL # query cardinality when the RBAC registers are in the requested # project ID. group_by = model.id if group_by: query = query.group_by(group_by) ",,9,0
openstack%2Fneutron-lib~stable%2Fwallaby~I800e0356714d59ba93ab6252c77be0a82f024055,openstack/neutron-lib,stable/wallaby,I800e0356714d59ba93ab6252c77be0a82f024055,"Add a ""GROUP BY"" clause on queries with RBAC entries",MERGED,2023-06-01 17:16:41.000000000,2023-06-02 12:14:19.000000000,2023-06-02 12:13:22.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 17:16:41.000000000', 'files': ['neutron_lib/db/model_query.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/619c0fe5345af66061730ce763a1cd45c353f37c', 'message': 'Add a ""GROUP BY"" clause on queries with RBAC entries\n\nAs reported in the Neutron patch [1], this change introduce a\n""GROUP BY"" clause on the SQL queries with RBAC entries. With [1],\nall resouces with RBAC entries (\'network\', \'qospolicy\',\n\'securitygroup\', \'addressscope\', \'subnetpool\', \'addressgroup\') will\nload the RBAC entries with ""joined"" strategy.\n\nBecause of the low cardinality of the RBAC query when all the RBAC\nregisters are in one single project, this patch groups the resource\nqueries by the resource ID. That will reduce the results returned by\nthe SQL engine to only the singular registers required.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/884877\n\nConflicts:\n    neutron_lib/db/model_query.py\n\nRelated-Bug: #1918145\nChange-Id: I800e0356714d59ba93ab6252c77be0a82f024055\n(cherry picked from commit 829e97024c2b73dd67bfd8a04c65f03be556eec8)\n(cherry picked from commit 4a952047823c3c330dad5475d67f77c7ee8d6419)\n'}]",0,885084,619c0fe5345af66061730ce763a1cd45c353f37c,8,3,1,16688,,,0,"Add a ""GROUP BY"" clause on queries with RBAC entries

As reported in the Neutron patch [1], this change introduce a
""GROUP BY"" clause on the SQL queries with RBAC entries. With [1],
all resouces with RBAC entries ('network', 'qospolicy',
'securitygroup', 'addressscope', 'subnetpool', 'addressgroup') will
load the RBAC entries with ""joined"" strategy.

Because of the low cardinality of the RBAC query when all the RBAC
registers are in one single project, this patch groups the resource
queries by the resource ID. That will reduce the results returned by
the SQL engine to only the singular registers required.

[1]https://review.opendev.org/c/openstack/neutron/+/884877

Conflicts:
    neutron_lib/db/model_query.py

Related-Bug: #1918145
Change-Id: I800e0356714d59ba93ab6252c77be0a82f024055
(cherry picked from commit 829e97024c2b73dd67bfd8a04c65f03be556eec8)
(cherry picked from commit 4a952047823c3c330dad5475d67f77c7ee8d6419)
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/84/885084/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/db/model_query.py'],1,619c0fe5345af66061730ce763a1cd45c353f37c,bug/1918145," group_by = None # This ""group_by"" clause will limit the number of registers # returned by the query, avoiding the problem of the low SQL # query cardinality when the RBAC registers are in the requested # project ID. group_by = model.id if group_by: query = query.group_by(group_by) ",,10,0
openstack%2Fneutron-lib~stable%2Fzed~I800e0356714d59ba93ab6252c77be0a82f024055,openstack/neutron-lib,stable/zed,I800e0356714d59ba93ab6252c77be0a82f024055,"Add a ""GROUP BY"" clause on queries with RBAC entries",MERGED,2023-06-01 17:14:18.000000000,2023-06-02 12:08:17.000000000,2023-06-02 12:07:22.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 17:14:18.000000000', 'files': ['neutron_lib/db/model_query.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/fdbece1bac3d4d42d7ced45077c1301f03fba5e6', 'message': 'Add a ""GROUP BY"" clause on queries with RBAC entries\n\nAs reported in the Neutron patch [1], this change introduce a\n""GROUP BY"" clause on the SQL queries with RBAC entries. With [1],\nall resouces with RBAC entries (\'network\', \'qospolicy\',\n\'securitygroup\', \'addressscope\', \'subnetpool\', \'addressgroup\') will\nload the RBAC entries with ""joined"" strategy.\n\nBecause of the low cardinality of the RBAC query when all the RBAC\nregisters are in one single project, this patch groups the resource\nqueries by the resource ID. That will reduce the results returned by\nthe SQL engine to only the singular registers required.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/884877\n\nRelated-Bug: #1918145\nChange-Id: I800e0356714d59ba93ab6252c77be0a82f024055\n(cherry picked from commit 829e97024c2b73dd67bfd8a04c65f03be556eec8)\n'}]",0,885081,fdbece1bac3d4d42d7ced45077c1301f03fba5e6,9,4,1,16688,,,0,"Add a ""GROUP BY"" clause on queries with RBAC entries

As reported in the Neutron patch [1], this change introduce a
""GROUP BY"" clause on the SQL queries with RBAC entries. With [1],
all resouces with RBAC entries ('network', 'qospolicy',
'securitygroup', 'addressscope', 'subnetpool', 'addressgroup') will
load the RBAC entries with ""joined"" strategy.

Because of the low cardinality of the RBAC query when all the RBAC
registers are in one single project, this patch groups the resource
queries by the resource ID. That will reduce the results returned by
the SQL engine to only the singular registers required.

[1]https://review.opendev.org/c/openstack/neutron/+/884877

Related-Bug: #1918145
Change-Id: I800e0356714d59ba93ab6252c77be0a82f024055
(cherry picked from commit 829e97024c2b73dd67bfd8a04c65f03be556eec8)
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/81/885081/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/db/model_query.py'],1,fdbece1bac3d4d42d7ced45077c1301f03fba5e6,bug/1918145," group_by = None # This ""group_by"" clause will limit the number of registers # returned by the query, avoiding the problem of the low SQL # query cardinality when the RBAC registers are in the requested # project ID. group_by = model.id if group_by: query = query.group_by(group_by) ",,9,0
openstack%2Fcharm-horizon-k8s~main~I9bb2de7adf89489356ab251b3fb380989bafe461,openstack/charm-horizon-k8s,main,I9bb2de7adf89489356ab251b3fb380989bafe461,Increase online check time to 8s,MERGED,2023-06-02 11:26:22.000000000,2023-06-02 12:00:40.000000000,2023-06-02 11:44:51.000000000,"[{'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 35761}]","[{'number': 1, 'created': '2023-06-02 11:26:22.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/8e5893654eab33ab63e4626e5ea2d53b3964a2a5', 'message': 'Increase online check time to 8s\n\nThe default of 3 seconds is just a bit to quick; push out to 8s\nusing using an override property as supported in ops-sunbeam.\n\nChange-Id: I9bb2de7adf89489356ab251b3fb380989bafe461\n'}]",1,885126,8e5893654eab33ab63e4626e5ea2d53b3964a2a5,9,4,1,935,,,0,"Increase online check time to 8s

The default of 3 seconds is just a bit to quick; push out to 8s
using using an override property as supported in ops-sunbeam.

Change-Id: I9bb2de7adf89489356ab251b3fb380989bafe461
",git fetch https://review.opendev.org/openstack/charm-horizon-k8s refs/changes/26/885126/1 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,8e5893654eab33ab63e4626e5ea2d53b3964a2a5,bug/increase-online-timeout," @property def healthcheck_http_timeout(self) -> str: """"""Healthcheck HTTP check timeout for the service."""""" return ""8s"" ",,5,0
openstack%2Fovn-octavia-provider~stable%2Fyoga~Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e,openstack/ovn-octavia-provider,stable/yoga,Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e,Apply admin_state_up on a new member creation,MERGED,2023-05-26 11:32:05.000000000,2023-06-02 11:14:10.000000000,2023-06-02 11:13:09.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-05-26 11:32:05.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/30206f1fcd510c764d6863ef4039d538ad7faf92', 'message': ""Apply admin_state_up on a new member creation\n\nIf a new member is added with the admin_state_up set to False,\nthey should not participate in load balancing requests over\nthe LB VIP. However, the member still receives requests, even\nthough the Octavia API applies the member's operation_status correctly,\n\nThis patch fixes this issue by not adding the member to the vips\n(at OVN NB) so that request over LB VIP are not taking into account\nthat member.\n\nCloses-Bug: 2016862\nChange-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e\n(cherry picked from commit 01309d067c800c3bb07978c1db7e62a1c8b49a73)\n""}]",5,884482,30206f1fcd510c764d6863ef4039d538ad7faf92,21,4,1,34451,,,0,"Apply admin_state_up on a new member creation

If a new member is added with the admin_state_up set to False,
they should not participate in load balancing requests over
the LB VIP. However, the member still receives requests, even
though the Octavia API applies the member's operation_status correctly,

This patch fixes this issue by not adding the member to the vips
(at OVN NB) so that request over LB VIP are not taking into account
that member.

Closes-Bug: 2016862
Change-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e
(cherry picked from commit 01309d067c800c3bb07978c1db7e62a1c8b49a73)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/82/884482/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",3,30206f1fcd510c764d6863ef4039d538ad7faf92,yoga," net_cli.return_value.show_subnet.side_effect = [idlutils.RowNotFound] self.assertEqual(status['members'][0]['operating_status'], constants.NO_MONITOR) calls = [ mock.call.db_clear('Load_Balancer', self.ovn_lb.uuid, 'vips'), mock.call.db_set('Load_Balancer', self.ovn_lb.uuid, ('vips', {}))] self.helper.ovn_nbdb_api.assert_has_calls(calls) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_member_create_disabled(self, net_cli): net_cli.return_value.show_subnet.side_effect = [idlutils.RowNotFound] self.ovn_lb.external_ids = mock.MagicMock() self.helper.ovn_nbdb_api.db_clear.assert_not_called()"," net_cli.return_value.show_subnet.side_effect = [ idlutils.RowNotFound, idlutils.RowNotFound]",28,11
openstack%2Fovn-octavia-provider~stable%2Fwallaby~I6e132ab5c23c9c53176612f74bb500e46c89024f,openstack/ovn-octavia-provider,stable/wallaby,I6e132ab5c23c9c53176612f74bb500e46c89024f,Discard batch-update-members not valid request,MERGED,2023-05-30 13:30:04.000000000,2023-06-02 10:58:58.000000000,2023-06-02 10:57:59.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-05-30 13:30:04.000000000', 'files': ['ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/ac02f33f83c9bea0a912594c79b464ebe3b92192', 'message': 'Discard batch-update-members not valid request\n\nAn out of sync has been identified between the changes applied\nover the OVN NB DB and Octavia DB when a batch-update-members\nincludes some unsupported option for any of the member to be\nmodified.\n\nTo prevent such inconsistencies, this patch rejects the entire\nrequest if any of the proposed changes are identified as\nunsupported. The user will be notified of the reason for the\nrejection.\n\nCloses-Bug: 2017216\nChange-Id: I6e132ab5c23c9c53176612f74bb500e46c89024f\n(cherry picked from commit 5f27384805bd2dd50602d3656d5f5df6c284f897)\n'}]",0,884700,ac02f33f83c9bea0a912594c79b464ebe3b92192,9,4,1,34451,,,0,"Discard batch-update-members not valid request

An out of sync has been identified between the changes applied
over the OVN NB DB and Octavia DB when a batch-update-members
includes some unsupported option for any of the member to be
modified.

To prevent such inconsistencies, this patch rejects the entire
request if any of the proposed changes are identified as
unsupported. The user will be notified of the reason for the
rejection.

Closes-Bug: 2017216
Change-Id: I6e132ab5c23c9c53176612f74bb500e46c89024f
(cherry picked from commit 5f27384805bd2dd50602d3656d5f5df6c284f897)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/00/884700/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py']",3,ac02f33f83c9bea0a912594c79b464ebe3b92192,wallaby," # NOTE(froyo): in order to keep sync with Octavia DB, we raise # not supporting exceptions as soon as posible, considering the # full request as not valid if (self._check_monitor_options(member)): msg = 'OVN provider does not support monitor options' raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg) if (member.address and self._ip_version_differs(member)): raise ovn_exc.IPVersionsMixingNotSupportedError()"," skipped_members = [] if (self._check_monitor_options(member) or member.address and self._ip_version_differs(member)): skipped_members.append(member.member_id) continue if skipped_members: msg = (_('OVN provider does not support monitor options, ' 'so following members skipped: %s') % skipped_members) raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg)",56,11
openstack%2Fcharm-keystone~master~Ic7427aba6f10abb8edbc526ca8c1964205ac7009,openstack/charm-keystone,master,Ic7427aba6f10abb8edbc526ca8c1964205ac7009,sync charm helpers with patch branch for testing,NEW,2023-05-31 00:16:10.000000000,2023-06-02 10:25:24.000000000,,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 00:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/5efc8d6736c071941fcc42b02d26adfa49d8bda1', 'message': 'sync charm helpers with patch branch for testing\n\nthis is to test https://github.com/juju/charm-helpers/pull/776\n\nChange-Id: Ic7427aba6f10abb8edbc526ca8c1964205ac7009\n'}, {'number': 2, 'created': '2023-05-31 00:57:18.000000000', 'files': ['charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charm-helpers-hooks.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/e6972af973c31d0702023efaa4e2f3ad4e874a59', 'message': 'sync charm helpers with patch branch for testing\n\nthis is to test https://github.com/juju/charm-helpers/pull/776\n\nChange-Id: Ic7427aba6f10abb8edbc526ca8c1964205ac7009\n'}]",2,884793,e6972af973c31d0702023efaa4e2f3ad4e874a59,7,3,2,34352,,,0,"sync charm helpers with patch branch for testing

this is to test https://github.com/juju/charm-helpers/pull/776

Change-Id: Ic7427aba6f10abb8edbc526ca8c1964205ac7009
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/93/884793/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/ssh_migrations.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/templates/section-service-user', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'charmhelpers/contrib/storage/linux/utils.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/core/host.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/contrib/openstack/vaultlocker.py', 'charmhelpers/core/unitdata.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken']",21,5efc8d6736c071941fcc42b02d26adfa49d8bda1,test-charm-helpers,service_token_roles = {{ admin_role }} service_token_roles_required = True,,300,85
openstack%2Fmasakari~master~I77cf6c85559989bd051798e601640e0039342924,openstack/masakari,master,I77cf6c85559989bd051798e601640e0039342924,add pre-commit,MERGED,2023-05-30 09:23:03.000000000,2023-06-02 10:09:00.000000000,2023-06-02 10:08:04.000000000,"[{'_account_id': 22348}, {'_account_id': 30623}]","[{'number': 1, 'created': '2023-05-30 09:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/10a8b6c22d8c6a62df163d06c712f0bc7beaa1cb', 'message': 'add pre-commit\n\nThis tool provides a extensible way to configure pre-commit hooks\nto do something from running linters to spell-checking and it proved\nto be useful.\n\nChange-Id: I77cf6c85559989bd051798e601640e0039342924\n'}, {'number': 2, 'created': '2023-05-30 11:55:47.000000000', 'files': ['.pre-commit-config.yaml', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/masakari/commit/6d77bc827a5daed9c3d5cd7e0b713ab193115f71', 'message': 'add pre-commit\n\nThis tool provides a extensible way to configure pre-commit hooks\nto do something from running linters to spell-checking and it proved\nto be useful.\n\nChange-Id: I77cf6c85559989bd051798e601640e0039342924\n'}]",2,884664,6d77bc827a5daed9c3d5cd7e0b713ab193115f71,13,2,2,30623,,,0,"add pre-commit

This tool provides a extensible way to configure pre-commit hooks
to do something from running linters to spell-checking and it proved
to be useful.

Change-Id: I77cf6c85559989bd051798e601640e0039342924
",git fetch https://review.opendev.org/openstack/masakari refs/changes/64/884664/1 && git format-patch -1 --stdout FETCH_HEAD,"['.pre-commit-config.yaml', 'HACKING.rst']",2,10a8b6c22d8c6a62df163d06c712f0bc7beaa1cb,, Use of pre-commit checks ------------------------ `pre-commit`_ is a software tool that allows us to manage pre-commit checks as part of the Git repository's configuration and to run checks as Git pre-commit hooks (or other types of Git hooks) automatically on developer machines. It helps to catch and fix common issues before they get pushed to the server. After the installation of the tool (e.g. on Fedora via `sudo dnf install pre-commit`) simply `cd` to the Git repository and run `pre-commit install` to let the tool install its Git pre-commit hook. From now on these predefined checks will run on files that you change in new Git commits. .. _pre-commit: https://pre-commit.com/,,41,0
openstack%2Fos-net-config~stable%2Fwallaby~If0cad8c856ee62064205b9a88f0148980653fcb2,openstack/os-net-config,stable/wallaby,If0cad8c856ee62064205b9a88f0148980653fcb2,Fix breaking vf-lag functionality in os-net-config,MERGED,2023-05-31 05:44:30.000000000,2023-06-02 09:55:44.000000000,2023-06-02 09:54:52.000000000,"[{'_account_id': 12171}, {'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 33688}]","[{'number': 1, 'created': '2023-05-31 05:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/35c3bfbb4a5ca7fbfd8f3578b86d597b203df70f', 'message': 'Fix breaking vf-lag functionality in os-net-config\n\nBecause of racing issue to activate vf-lag after moving the second\nsriov_pf interface to switchdev mode in Nvidia\\Mellanox nics, we may\nbind sriov_vfs while the LAG is not active yet.\nAnother reason for breaking vf-lag functionality is that we are doing\nifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond\nis member of ovs_bridge).\n\nAs a solution for this issue, we are doing the binding after assuring\nthe LAG is active, and also moving the ifdown/ifup before start binding\n\nCloses-Bug: #2020085\nChange-Id: If0cad8c856ee62064205b9a88f0148980653fcb2\n(cherry picked from commit b1a7c9c5f0c2832ff504ea4557305ca1b94a196e)\n'}, {'number': 2, 'created': '2023-05-31 05:54:56.000000000', 'files': ['os_net_config/utils.py', 'os_net_config/tests/test_utils.py', 'os_net_config/objects.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/de876c5f8f91bffa1a30e9f27929bf30b7836e2a', 'message': 'Fix breaking vf-lag functionality in os-net-config\n\nBecause of racing issue to activate vf-lag after moving the second\nsriov_pf interface to switchdev mode in Nvidia\\Mellanox nics, we may\nbind sriov_vfs while the LAG is not active yet.\nAnother reason for breaking vf-lag functionality is that we are doing\nifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond\nis member of ovs_bridge).\n\nAs a solution for this issue, we are doing the binding after assuring\nthe LAG is active, and also moving the ifdown/ifup before start binding\n\nCloses-Bug: #2020085\nChange-Id: If0cad8c856ee62064205b9a88f0148980653fcb2\n(cherry picked from commit b1a7c9c5f0c2832ff504ea4557305ca1b94a196e)\n'}]",0,884747,de876c5f8f91bffa1a30e9f27929bf30b7836e2a,12,7,2,25241,,,0,"Fix breaking vf-lag functionality in os-net-config

Because of racing issue to activate vf-lag after moving the second
sriov_pf interface to switchdev mode in Nvidia\Mellanox nics, we may
bind sriov_vfs while the LAG is not active yet.
Another reason for breaking vf-lag functionality is that we are doing
ifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond
is member of ovs_bridge).

As a solution for this issue, we are doing the binding after assuring
the LAG is active, and also moving the ifdown/ifup before start binding

Closes-Bug: #2020085
Change-Id: If0cad8c856ee62064205b9a88f0148980653fcb2
(cherry picked from commit b1a7c9c5f0c2832ff504ea4557305ca1b94a196e)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/47/884747/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/utils.py', 'os_net_config/tests/test_utils.py', 'os_net_config/objects.py', 'os_net_config/sriov_config.py']",4,35c3bfbb4a5ca7fbfd8f3578b86d597b203df70f,,"MLNX_LAG_PATH = ""/sys/kernel/debug/mlx5/{pf_pci}/lag/state"" vf_lag_sriov_pfs_list = []<<<<<<< HEAD (eeea3d Merge ""os-net-config runs ethtool command without restarting) ======= # Add sriovpf to vf_lag_sriov_pfs_list if it's # a linux bond member (lag_candidate) if item.get('lag_candidate', False): vf_lag_sriov_pfs_list.append(item['name']) # Adding a udev rule to rename vf-representors >>>>>>> CHANGE (080090 Fix breaking vf-lag functionality in os-net-config) if restart_openvswitch: restart_ovs_and_pfs_netdevs() if vf_lag_sriov_pfs_list and execution_from_cli: _wait_for_lag_creation(vf_lag_sriov_pfs_list) def _wait_for_lag_creation(lag_sriov_pf_list): for sriov_pf in lag_sriov_pf_list: pf_pci = get_pf_pci(sriov_pf) lag_path = MLNX_LAG_PATH.format(pf_pci=pf_pci) if os.path.exists(lag_path): for i in range(MAX_RETRIES): lag_state = common.get_file_data(lag_path).strip() if lag_state == ""active"": logger.info(f""VF-LAG is enabled for interface {sriov_pf}"" f"" after {i} retries"") break time.sleep(1) else: raise RuntimeError(""VF-LAG is not created for interface"" f"" {sriov_pf} after {i} retries"") else: logger.warning(f""Lag path {lag_path} does not exist for this "" ""kernel, skipping.."") ", if restart_openvswitch: restart_ovs_and_pfs_netdevs(),124,5
openstack%2Fovn-octavia-provider~stable%2Fyoga~I6e132ab5c23c9c53176612f74bb500e46c89024f,openstack/ovn-octavia-provider,stable/yoga,I6e132ab5c23c9c53176612f74bb500e46c89024f,Discard batch-update-members not valid request,MERGED,2023-05-30 13:27:48.000000000,2023-06-02 09:54:19.000000000,2023-06-02 09:53:23.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-05-30 13:27:48.000000000', 'files': ['ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/519a663e33cb243bf5de519cc9d765f86ae02178', 'message': 'Discard batch-update-members not valid request\n\nAn out of sync has been identified between the changes applied\nover the OVN NB DB and Octavia DB when a batch-update-members\nincludes some unsupported option for any of the member to be\nmodified.\n\nTo prevent such inconsistencies, this patch rejects the entire\nrequest if any of the proposed changes are identified as\nunsupported. The user will be notified of the reason for the\nrejection.\n\nCloses-Bug: 2017216\nChange-Id: I6e132ab5c23c9c53176612f74bb500e46c89024f\n(cherry picked from commit 5f27384805bd2dd50602d3656d5f5df6c284f897)\n'}]",0,884698,519a663e33cb243bf5de519cc9d765f86ae02178,9,4,1,34451,,,0,"Discard batch-update-members not valid request

An out of sync has been identified between the changes applied
over the OVN NB DB and Octavia DB when a batch-update-members
includes some unsupported option for any of the member to be
modified.

To prevent such inconsistencies, this patch rejects the entire
request if any of the proposed changes are identified as
unsupported. The user will be notified of the reason for the
rejection.

Closes-Bug: 2017216
Change-Id: I6e132ab5c23c9c53176612f74bb500e46c89024f
(cherry picked from commit 5f27384805bd2dd50602d3656d5f5df6c284f897)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/98/884698/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py']",3,519a663e33cb243bf5de519cc9d765f86ae02178,yoga," # NOTE(froyo): in order to keep sync with Octavia DB, we raise # not supporting exceptions as soon as posible, considering the # full request as not valid if (self._check_monitor_options(member)): msg = 'OVN provider does not support monitor options' raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg) if (member.address and self._ip_version_differs(member)): raise ovn_exc.IPVersionsMixingNotSupportedError()"," skipped_members = [] if (self._check_monitor_options(member) or member.address and self._ip_version_differs(member)): skipped_members.append(member.member_id) continue if skipped_members: msg = (_('OVN provider does not support monitor options, ' 'so following members skipped: %s') % skipped_members) raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg)",56,11
openstack%2Fovn-octavia-provider~stable%2Fzed~I6e132ab5c23c9c53176612f74bb500e46c89024f,openstack/ovn-octavia-provider,stable/zed,I6e132ab5c23c9c53176612f74bb500e46c89024f,Discard batch-update-members not valid request,MERGED,2023-05-30 13:27:20.000000000,2023-06-02 09:54:18.000000000,2023-06-02 09:53:22.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-05-30 13:27:20.000000000', 'files': ['ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/36d507ec5285bd94d63e8175237a9ebcaee1d4ff', 'message': 'Discard batch-update-members not valid request\n\nAn out of sync has been identified between the changes applied\nover the OVN NB DB and Octavia DB when a batch-update-members\nincludes some unsupported option for any of the member to be\nmodified.\n\nTo prevent such inconsistencies, this patch rejects the entire\nrequest if any of the proposed changes are identified as\nunsupported. The user will be notified of the reason for the\nrejection.\n\nCloses-Bug: 2017216\nChange-Id: I6e132ab5c23c9c53176612f74bb500e46c89024f\n(cherry picked from commit 5f27384805bd2dd50602d3656d5f5df6c284f897)\n'}]",1,884697,36d507ec5285bd94d63e8175237a9ebcaee1d4ff,11,4,1,34451,,,0,"Discard batch-update-members not valid request

An out of sync has been identified between the changes applied
over the OVN NB DB and Octavia DB when a batch-update-members
includes some unsupported option for any of the member to be
modified.

To prevent such inconsistencies, this patch rejects the entire
request if any of the proposed changes are identified as
unsupported. The user will be notified of the reason for the
rejection.

Closes-Bug: 2017216
Change-Id: I6e132ab5c23c9c53176612f74bb500e46c89024f
(cherry picked from commit 5f27384805bd2dd50602d3656d5f5df6c284f897)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/97/884697/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py']",3,36d507ec5285bd94d63e8175237a9ebcaee1d4ff,zed," # NOTE(froyo): in order to keep sync with Octavia DB, we raise # not supporting exceptions as soon as posible, considering the # full request as not valid if (self._check_monitor_options(member)): msg = 'OVN provider does not support monitor options' raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg) if (member.address and self._ip_version_differs(member)): raise ovn_exc.IPVersionsMixingNotSupportedError()"," skipped_members = [] if (self._check_monitor_options(member) or member.address and self._ip_version_differs(member)): skipped_members.append(member.member_id) continue if skipped_members: msg = (_('OVN provider does not support monitor options, ' 'so following members skipped: %s') % skipped_members) raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg)",56,11
openstack%2Fovn-octavia-provider~stable%2F2023.1~I6e132ab5c23c9c53176612f74bb500e46c89024f,openstack/ovn-octavia-provider,stable/2023.1,I6e132ab5c23c9c53176612f74bb500e46c89024f,Discard batch-update-members not valid request,MERGED,2023-05-30 13:26:42.000000000,2023-06-02 09:54:17.000000000,2023-06-02 09:53:20.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-05-30 13:26:42.000000000', 'files': ['ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/125ffe72c5e7ac33b5fdd8386dffea2ccc3392da', 'message': 'Discard batch-update-members not valid request\n\nAn out of sync has been identified between the changes applied\nover the OVN NB DB and Octavia DB when a batch-update-members\nincludes some unsupported option for any of the member to be\nmodified.\n\nTo prevent such inconsistencies, this patch rejects the entire\nrequest if any of the proposed changes are identified as\nunsupported. The user will be notified of the reason for the\nrejection.\n\nCloses-Bug: 2017216\nChange-Id: I6e132ab5c23c9c53176612f74bb500e46c89024f\n(cherry picked from commit 5f27384805bd2dd50602d3656d5f5df6c284f897)\n'}]",1,884696,125ffe72c5e7ac33b5fdd8386dffea2ccc3392da,9,4,1,34451,,,0,"Discard batch-update-members not valid request

An out of sync has been identified between the changes applied
over the OVN NB DB and Octavia DB when a batch-update-members
includes some unsupported option for any of the member to be
modified.

To prevent such inconsistencies, this patch rejects the entire
request if any of the proposed changes are identified as
unsupported. The user will be notified of the reason for the
rejection.

Closes-Bug: 2017216
Change-Id: I6e132ab5c23c9c53176612f74bb500e46c89024f
(cherry picked from commit 5f27384805bd2dd50602d3656d5f5df6c284f897)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/96/884696/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py']",3,125ffe72c5e7ac33b5fdd8386dffea2ccc3392da,," # NOTE(froyo): in order to keep sync with Octavia DB, we raise # not supporting exceptions as soon as posible, considering the # full request as not valid if (self._check_monitor_options(member)): msg = 'OVN provider does not support monitor options' raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg) if (member.address and self._ip_version_differs(member)): raise ovn_exc.IPVersionsMixingNotSupportedError()"," skipped_members = [] if (self._check_monitor_options(member) or member.address and self._ip_version_differs(member)): skipped_members.append(member.member_id) continue if skipped_members: msg = (_('OVN provider does not support monitor options, ' 'so following members skipped: %s') % skipped_members) raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg)",56,11
openstack%2Fovn-octavia-provider~stable%2Fxena~Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e,openstack/ovn-octavia-provider,stable/xena,Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e,Apply admin_state_up on a new member creation,MERGED,2023-05-26 11:32:38.000000000,2023-06-02 09:54:17.000000000,2023-06-02 09:53:18.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-05-26 11:32:38.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/f7566f898d51e763fc32ba5f5d4e68b80fef591f', 'message': ""Apply admin_state_up on a new member creation\n\nIf a new member is added with the admin_state_up set to False,\nthey should not participate in load balancing requests over\nthe LB VIP. However, the member still receives requests, even\nthough the Octavia API applies the member's operation_status correctly,\n\nThis patch fixes this issue by not adding the member to the vips\n(at OVN NB) so that request over LB VIP are not taking into account\nthat member.\n\nCloses-Bug: 2016862\nChange-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e\n(cherry picked from commit 01309d067c800c3bb07978c1db7e62a1c8b49a73)\n""}]",0,884483,f7566f898d51e763fc32ba5f5d4e68b80fef591f,9,4,1,34451,,,0,"Apply admin_state_up on a new member creation

If a new member is added with the admin_state_up set to False,
they should not participate in load balancing requests over
the LB VIP. However, the member still receives requests, even
though the Octavia API applies the member's operation_status correctly,

This patch fixes this issue by not adding the member to the vips
(at OVN NB) so that request over LB VIP are not taking into account
that member.

Closes-Bug: 2016862
Change-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e
(cherry picked from commit 01309d067c800c3bb07978c1db7e62a1c8b49a73)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/83/884483/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",3,f7566f898d51e763fc32ba5f5d4e68b80fef591f,xena," net_cli.return_value.show_subnet.side_effect = [idlutils.RowNotFound] self.assertEqual(status['members'][0]['operating_status'], constants.NO_MONITOR) calls = [ mock.call.db_clear('Load_Balancer', self.ovn_lb.uuid, 'vips'), mock.call.db_set('Load_Balancer', self.ovn_lb.uuid, ('vips', {}))] self.helper.ovn_nbdb_api.assert_has_calls(calls) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_member_create_disabled(self, net_cli): net_cli.return_value.show_subnet.side_effect = [idlutils.RowNotFound] self.ovn_lb.external_ids = mock.MagicMock() self.helper.ovn_nbdb_api.db_clear.assert_not_called()"," net_cli.return_value.show_subnet.side_effect = [ idlutils.RowNotFound, idlutils.RowNotFound]",28,11
openstack%2Fovn-octavia-provider~stable%2Fwallaby~Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e,openstack/ovn-octavia-provider,stable/wallaby,Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e,Apply admin_state_up on a new member creation,MERGED,2023-05-26 11:33:18.000000000,2023-06-02 09:54:15.000000000,2023-06-02 09:53:19.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-05-26 11:33:18.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/1986d440be3cfbc4a7775945ed87abc84c9910e2', 'message': ""Apply admin_state_up on a new member creation\n\nIf a new member is added with the admin_state_up set to False,\nthey should not participate in load balancing requests over\nthe LB VIP. However, the member still receives requests, even\nthough the Octavia API applies the member's operation_status correctly,\n\nThis patch fixes this issue by not adding the member to the vips\n(at OVN NB) so that request over LB VIP are not taking into account\nthat member.\n\nCloses-Bug: 2016862\nChange-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e\n(cherry picked from commit 01309d067c800c3bb07978c1db7e62a1c8b49a73)\n""}]",0,884484,1986d440be3cfbc4a7775945ed87abc84c9910e2,9,4,1,34451,,,0,"Apply admin_state_up on a new member creation

If a new member is added with the admin_state_up set to False,
they should not participate in load balancing requests over
the LB VIP. However, the member still receives requests, even
though the Octavia API applies the member's operation_status correctly,

This patch fixes this issue by not adding the member to the vips
(at OVN NB) so that request over LB VIP are not taking into account
that member.

Closes-Bug: 2016862
Change-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e
(cherry picked from commit 01309d067c800c3bb07978c1db7e62a1c8b49a73)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/84/884484/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",3,1986d440be3cfbc4a7775945ed87abc84c9910e2,wallaby," net_cli.return_value.show_subnet.side_effect = [idlutils.RowNotFound] self.assertEqual(status['members'][0]['operating_status'], constants.NO_MONITOR) calls = [ mock.call.db_clear('Load_Balancer', self.ovn_lb.uuid, 'vips'), mock.call.db_set('Load_Balancer', self.ovn_lb.uuid, ('vips', {}))] self.helper.ovn_nbdb_api.assert_has_calls(calls) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_member_create_disabled(self, net_cli): net_cli.return_value.show_subnet.side_effect = [idlutils.RowNotFound] self.ovn_lb.external_ids = mock.MagicMock() self.helper.ovn_nbdb_api.db_clear.assert_not_called()"," net_cli.return_value.show_subnet.side_effect = [ idlutils.RowNotFound, idlutils.RowNotFound]",28,11
openstack%2Fnetworking-odl~stable%2Fxena~Icff1b5737b4d2c52ead48e3700de668038f3c5c1,openstack/networking-odl,stable/xena,Icff1b5737b4d2c52ead48e3700de668038f3c5c1,Remove periodic-stable-jobs template,MERGED,2023-05-24 12:40:18.000000000,2023-06-02 09:40:21.000000000,2023-06-02 09:38:34.000000000,"[{'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 12:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/7bbef0e1fecb9a988b6e59f10b41144ef7e7933c', 'message': 'Remove periodic-stable-jobs template\n\nnetworking-odl is about to become deprecated [1] (furthermore, periodic\nstable jobs on yoga and older branches are failing for long time), so\nit is unnecessary to run periodic stable jobs against networking-odl\nanymore.\n\n[1] https://review.opendev.org/c/openstack/governance/+/884002\n\nChange-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1\n(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)\n(cherry picked from commit 439a2437385a9a948ccec234d79f63e7422b9fae)\n(cherry picked from commit 9b01ad6c9d391cd9da97d27f7f5e402eecd4a239)\n(cherry picked from commit 29a53d72c54ac29dd9bf765f0bb0681a8e93fa7d)\n'}, {'number': 2, 'created': '2023-06-01 13:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/d64be5f973098db4982e3308286477c7faecb309', 'message': 'Remove periodic-stable-jobs template\n\nnetworking-odl is about to become deprecated [1] (furthermore, periodic\nstable jobs on yoga and older branches are failing for long time), so\nit is unnecessary to run periodic stable jobs against networking-odl\nanymore.\n\n[1] https://review.opendev.org/c/openstack/governance/+/884002\n\nChange-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1\n(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)\n(cherry picked from commit 439a2437385a9a948ccec234d79f63e7422b9fae)\n(cherry picked from commit 9b01ad6c9d391cd9da97d27f7f5e402eecd4a239)\n(cherry picked from commit 29a53d72c54ac29dd9bf765f0bb0681a8e93fa7d)\n'}, {'number': 3, 'created': '2023-06-02 08:53:15.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/df16b1b4477463919587efcd83dd3bf58a268b01', 'message': 'Remove periodic-stable-jobs template\n\nnetworking-odl is about to become deprecated [1] (furthermore, periodic\nstable jobs on yoga and older branches are failing for long time), so\nit is unnecessary to run periodic stable jobs against networking-odl\nanymore.\n\n[1] https://review.opendev.org/c/openstack/governance/+/884002\n\nChange-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1\n(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)\n(cherry picked from commit 439a2437385a9a948ccec234d79f63e7422b9fae)\n(cherry picked from commit 9b01ad6c9d391cd9da97d27f7f5e402eecd4a239)\n(cherry picked from commit 29a53d72c54ac29dd9bf765f0bb0681a8e93fa7d)\n'}]",2,884191,df16b1b4477463919587efcd83dd3bf58a268b01,13,3,3,17685,,,0,"Remove periodic-stable-jobs template

networking-odl is about to become deprecated [1] (furthermore, periodic
stable jobs on yoga and older branches are failing for long time), so
it is unnecessary to run periodic stable jobs against networking-odl
anymore.

[1] https://review.opendev.org/c/openstack/governance/+/884002

Change-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1
(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)
(cherry picked from commit 439a2437385a9a948ccec234d79f63e7422b9fae)
(cherry picked from commit 9b01ad6c9d391cd9da97d27f7f5e402eecd4a239)
(cherry picked from commit 29a53d72c54ac29dd9bf765f0bb0681a8e93fa7d)
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/91/884191/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,7bbef0e1fecb9a988b6e59f10b41144ef7e7933c,remove-odl-periodic-stable,, - periodic-stable-jobs-neutron,0,1
openstack%2Fcharm-ops-sunbeam~main~Iacd8874668e0f20b93088c2a202e5943b31d4828,openstack/charm-ops-sunbeam,main,Iacd8874668e0f20b93088c2a202e5943b31d4828,Allow healthcheck http timeout to be overridden,MERGED,2023-06-02 08:55:22.000000000,2023-06-02 09:39:52.000000000,2023-06-02 09:39:52.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-02 08:55:22.000000000', 'files': ['ops_sunbeam/charm.py', 'unit_tests/test_charms.py', 'ops_sunbeam/container_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/dfb1cef22467f6c8c6284c7c13dd7fb387f1f690', 'message': 'Allow healthcheck http timeout to be overridden\n\nMost services respond within the 3s default however Horizon is a bit\non the threshold; support overriding this value if need be.\n\nChange-Id: Iacd8874668e0f20b93088c2a202e5943b31d4828\n'}]",1,885107,dfb1cef22467f6c8c6284c7c13dd7fb387f1f690,6,2,1,935,,,0,"Allow healthcheck http timeout to be overridden

Most services respond within the 3s default however Horizon is a bit
on the threshold; support overriding this value if need be.

Change-Id: Iacd8874668e0f20b93088c2a202e5943b31d4828
",git fetch https://review.opendev.org/openstack/charm-ops-sunbeam refs/changes/07/885107/1 && git format-patch -1 --stdout FETCH_HEAD,"['ops_sunbeam/charm.py', 'unit_tests/test_charms.py', 'ops_sunbeam/container_handlers.py']",3,dfb1cef22467f6c8c6284c7c13dd7fb387f1f690,feat/override-healthcheck-http-timeout," ""timeout"": self.charm.healthcheck_http_timeout,",,11,0
openstack%2Fovn-bgp-agent~master~Iffb67f33ed07c719983dace35002a6c167492f1f,openstack/ovn-bgp-agent,master,Iffb67f33ed07c719983dace35002a6c167492f1f,Add more pyroute2 protection,MERGED,2023-06-02 08:35:07.000000000,2023-06-02 09:28:25.000000000,2023-06-02 09:27:30.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-02 08:35:07.000000000', 'files': ['ovn_bgp_agent/privileged/linux_net.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/721dfdfafa0dddfab1304967e6d829bad7789ac4', 'message': 'Add more pyroute2 protection\n\nIt seems there can be more points where NetlinkDumpInterrupted\ncan happen, so adding extra protection just in case\n\nChange-Id: Iffb67f33ed07c719983dace35002a6c167492f1f\n'}]",0,884600,721dfdfafa0dddfab1304967e6d829bad7789ac4,7,3,1,23567,,,0,"Add more pyroute2 protection

It seems there can be more points where NetlinkDumpInterrupted
can happen, so adding extra protection just in case

Change-Id: Iffb67f33ed07c719983dace35002a6c167492f1f
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/00/884600/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_bgp_agent/privileged/linux_net.py'],1,721dfdfafa0dddfab1304967e6d829bad7789ac4,,"@tenacity.retry( retry=tenacity.retry_if_exception_type( netlink_exceptions.NetlinkDumpInterrupted), wait=tenacity.wait_exponential(multiplier=0.02, max=1), stop=tenacity.stop_after_delay(8), reraise=True)@tenacity.retry( retry=tenacity.retry_if_exception_type( netlink_exceptions.NetlinkDumpInterrupted), wait=tenacity.wait_exponential(multiplier=0.02, max=1), stop=tenacity.stop_after_delay(8), reraise=True)",,12,0
openstack%2Fnetworking-odl~stable%2Fzed~Icff1b5737b4d2c52ead48e3700de668038f3c5c1,openstack/networking-odl,stable/zed,Icff1b5737b4d2c52ead48e3700de668038f3c5c1,Remove periodic-stable-jobs template,MERGED,2023-05-24 12:39:13.000000000,2023-06-02 09:26:51.000000000,2023-06-02 09:25:05.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 12:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9b01ad6c9d391cd9da97d27f7f5e402eecd4a239', 'message': 'Remove periodic-stable-jobs template\n\nnetworking-odl is about to become deprecated [1] (furthermore, periodic\nstable jobs on yoga and older branches are failing for long time), so\nit is unnecessary to run periodic stable jobs against networking-odl\nanymore.\n\n[1] https://review.opendev.org/c/openstack/governance/+/884002\n\nChange-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1\n(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)\n(cherry picked from commit 439a2437385a9a948ccec234d79f63e7422b9fae)\n'}, {'number': 2, 'created': '2023-06-01 09:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/45648938efbdee53401ed2d65de85b8004cdbd13', 'message': 'Remove periodic-stable-jobs template\n\nnetworking-odl is about to become deprecated [1] (furthermore, periodic\nstable jobs on yoga and older branches are failing for long time), so\nit is unnecessary to run periodic stable jobs against networking-odl\nanymore.\n\n[1] https://review.opendev.org/c/openstack/governance/+/884002\n\nChange-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1\n(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)\n(cherry picked from commit 439a2437385a9a948ccec234d79f63e7422b9fae)\n'}, {'number': 3, 'created': '2023-06-01 18:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/20fca73e45c0ea5f1ee9d4fb1ae04ba6f5aa394f', 'message': 'Remove periodic-stable-jobs template\n\nnetworking-odl is about to become deprecated [1] (furthermore, periodic\nstable jobs on yoga and older branches are failing for long time), so\nit is unnecessary to run periodic stable jobs against networking-odl\nanymore.\n\n[1] https://review.opendev.org/c/openstack/governance/+/884002\n\nChange-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1\n(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)\n(cherry picked from commit 439a2437385a9a948ccec234d79f63e7422b9fae)\n'}, {'number': 4, 'created': '2023-06-02 07:44:43.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/fa6a546b83419a9feea9941ff2f9f1c6b221454a', 'message': 'Remove periodic-stable-jobs template\n\nnetworking-odl is about to become deprecated [1] (furthermore, periodic\nstable jobs on yoga and older branches are failing for long time), so\nit is unnecessary to run periodic stable jobs against networking-odl\nanymore.\n\n[1] https://review.opendev.org/c/openstack/governance/+/884002\n\nChange-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1\n(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)\n(cherry picked from commit 439a2437385a9a948ccec234d79f63e7422b9fae)\n'}]",3,884189,fa6a546b83419a9feea9941ff2f9f1c6b221454a,24,3,4,17685,,,0,"Remove periodic-stable-jobs template

networking-odl is about to become deprecated [1] (furthermore, periodic
stable jobs on yoga and older branches are failing for long time), so
it is unnecessary to run periodic stable jobs against networking-odl
anymore.

[1] https://review.opendev.org/c/openstack/governance/+/884002

Change-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1
(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)
(cherry picked from commit 439a2437385a9a948ccec234d79f63e7422b9fae)
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/89/884189/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,9b01ad6c9d391cd9da97d27f7f5e402eecd4a239,remove-odl-periodic-stable,, - periodic-stable-jobs-neutron,0,1
openstack%2Fironic~stable%2Fvictoria~Ib258bc9650496da989fc93b759b112d279c8b217,openstack/ironic,stable/victoria,Ib258bc9650496da989fc93b759b112d279c8b217,Fix Cinder Integration fallout from CVE-2023-2088,MERGED,2023-06-01 15:18:45.000000000,2023-06-02 09:25:09.000000000,2023-06-02 09:23:08.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-06-01 15:18:45.000000000', 'files': ['ironic/common/keystone.py', 'zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'ironic/common/cinder.py', 'ironic/tests/unit/common/test_cinder.py', 'releasenotes/notes/cinder-2019892-6b5a9de5c5f05aa6.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9603b8612ee22dffae6e44ef380465e6d1376aed', 'message': 'Fix Cinder Integration fallout from CVE-2023-2088\n\nIn the recent change to cinder, to address CVE-2023-2088,\ncinder changed the policy rules and behavior for unbinding,\nor ""detaching"" a volume. This was because of a vulnerability\nin compute nodes where a volume which was in use by a VM\ncould be detached outside of Nova, and nova wouldn\'t become\naware the volume was detached, and the volume could be accessible\nto the next VM.\n\nThis vulnerability doesn\'t apply to bare metal operations as\nvolumes are attached to whole baremetal nodes with Ironic.\n\nWe now generate and use a service token when interacting with\nCinder which allows cinder to recognize ""this request is\ncoming from a fellow OpenStack service"", and by-pass\nchecking with Nova if the ""instance"" is managed by Nova,\nor Not. This allows the volumes to be attached, and detached\nas needed as part of the power operation flow and overall\nset of lifecycle operations.\n\nNote: This change is modified from the original upstream chnage\nbecuse that change leverages the ability for a project_id value\nto no longer be required in the cinder URL for interactions with\ncinder, which was a requirement removed in Yoga.\n\nAdditional note: Disables the rescue testing on one of the wallaby\nbranch jobs. Essentially is is a tempest branching, or lack their\nof issue. Master branch ironic-tempest-plugin has a fix\nwhich doesn\'t exist on tempest 29.0.0.\n\nRelated-Bug: 2004555\nCloses-Bug: 2019892\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n(cherry picked from commit 9c0b4c90a19fc1db262a942a1b6a1baafc881ccc)\n(cherry picked from commit cb38746f71f5dfa346371bf06985bbbb2208af6e)\n'}]",0,885016,9603b8612ee22dffae6e44ef380465e6d1376aed,9,3,1,11655,,,0,"Fix Cinder Integration fallout from CVE-2023-2088

In the recent change to cinder, to address CVE-2023-2088,
cinder changed the policy rules and behavior for unbinding,
or ""detaching"" a volume. This was because of a vulnerability
in compute nodes where a volume which was in use by a VM
could be detached outside of Nova, and nova wouldn't become
aware the volume was detached, and the volume could be accessible
to the next VM.

This vulnerability doesn't apply to bare metal operations as
volumes are attached to whole baremetal nodes with Ironic.

We now generate and use a service token when interacting with
Cinder which allows cinder to recognize ""this request is
coming from a fellow OpenStack service"", and by-pass
checking with Nova if the ""instance"" is managed by Nova,
or Not. This allows the volumes to be attached, and detached
as needed as part of the power operation flow and overall
set of lifecycle operations.

Note: This change is modified from the original upstream chnage
becuse that change leverages the ability for a project_id value
to no longer be required in the cinder URL for interactions with
cinder, which was a requirement removed in Yoga.

Additional note: Disables the rescue testing on one of the wallaby
branch jobs. Essentially is is a tempest branching, or lack their
of issue. Master branch ironic-tempest-plugin has a fix
which doesn't exist on tempest 29.0.0.

Related-Bug: 2004555
Closes-Bug: 2019892

Change-Id: Ib258bc9650496da989fc93b759b112d279c8b217
(cherry picked from commit 9c0b4c90a19fc1db262a942a1b6a1baafc881ccc)
(cherry picked from commit cb38746f71f5dfa346371bf06985bbbb2208af6e)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/16/885016/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/keystone.py', 'zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'ironic/common/cinder.py', 'ironic/tests/unit/common/test_cinder.py', 'releasenotes/notes/cinder-2019892-6b5a9de5c5f05aa6.yaml']",6,9603b8612ee22dffae6e44ef380465e6d1376aed,,"--- fixes: - | Fixes Ironic integration with Cinder because of changes which resulted as part of the recent Security related fix in `bug 2004555 <https://launchpad.net/bugs/2004555>`_. The work in Ironic to track this fix was logged in `bug 2019892 <https://bugs.launchpad.net/ironic/+bug/2019892>`_. Ironic now sends a service token to Cinder, which allows for access restrictions added as part of the original CVE-2023-2088 fix to be appropriately bypassed. Ironic was not vulnerable, but the restrictions added as a result did impact Ironic's usage. This is because Ironic volume attachments are not on a shared ""compute node"", but instead mapped to the physical machines and Ironic handles the attachment life-cycle after initial attachment. ",,129,40
openstack%2Fhorizon~stable%2Fstein~I2ed1b6064ddd6f62818d6112e98e5d5a98beae9d,openstack/horizon,stable/stein,I2ed1b6064ddd6f62818d6112e98e5d5a98beae9d,Fix community image handling in launch instance form,ABANDONED,2021-03-08 04:39:38.000000000,2023-06-02 09:15:51.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-08 04:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/465bf5593ca1cbee70918586ae47934e48044573', 'message': 'Fix community image handling in launch instance form\n\nCommunity images which are not owned by a focused project are not\nincluded in the normal image list API (i.e., without specifying\n""community"" as visibility), so we need an extra call of the image\nlist API specifying ""community"" visibility in a filter.\n\nIt was originally fixed by [1] but was dropped in [2].\nThe main motivation of [2] is to address ""Duplicates in a repeater\nare not allowed"" error in the JavaScript console.\n\nThe approach of [2] was to drop multiple glance API calls, but\nthe right solution would be to check duplicated images included\nin both API calls. This situation with duplicated images happens\nwhen a community image is owned by a focused project. In such case,\nthe community image is included in the responses of both API calls.\n\nThis commit adds a logic to check image IDs already processed.\n\n[1] https://review.opendev.org/c/openstack/horizon/+/614688\n[2] https://review.opendev.org/c/openstack/horizon/+/640762\n\nCloses-Bug: #1914045\nRelated-Bug: #1779250\nRelated-Bug: #1818508\n\nChange-Id: I2ed1b6064ddd6f62818d6112e98e5d5a98beae9d\n(cherry picked from commit c9bb0e95eaa7ae4f0cce21bc0a246a9b0cd2f880)\n'}, {'number': 2, 'created': '2021-03-08 06:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ed3d8acda0d2a2664788a1b2a0230757145654e4', 'message': 'Fix community image handling in launch instance form\n\nCommunity images which are not owned by a focused project are not\nincluded in the normal image list API (i.e., without specifying\n""community"" as visibility), so we need an extra call of the image\nlist API specifying ""community"" visibility in a filter.\n\nIt was originally fixed by [1] but was dropped in [2].\nThe main motivation of [2] is to address ""Duplicates in a repeater\nare not allowed"" error in the JavaScript console.\n\nThe approach of [2] was to drop multiple glance API calls, but\nthe right solution would be to check duplicated images included\nin both API calls. This situation with duplicated images happens\nwhen a community image is owned by a focused project. In such case,\nthe community image is included in the responses of both API calls.\n\nThis commit adds a logic to check image IDs already processed.\n\n[1] https://review.opendev.org/c/openstack/horizon/+/614688\n[2] https://review.opendev.org/c/openstack/horizon/+/640762\n\nCloses-Bug: #1914045\nRelated-Bug: #1779250\nRelated-Bug: #1818508\n\nChange-Id: I2ed1b6064ddd6f62818d6112e98e5d5a98beae9d\n(cherry picked from commit c9bb0e95eaa7ae4f0cce21bc0a246a9b0cd2f880)\n'}, {'number': 3, 'created': '2021-05-18 23:23:50.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ebeb0b4d74a45baa6c067c4bfb5c07fcb637f1bf', 'message': 'Fix community image handling in launch instance form\n\nCommunity images which are not owned by a focused project are not\nincluded in the normal image list API (i.e., without specifying\n""community"" as visibility), so we need an extra call of the image\nlist API specifying ""community"" visibility in a filter.\n\nIt was originally fixed by [1] but was dropped in [2].\nThe main motivation of [2] is to address ""Duplicates in a repeater\nare not allowed"" error in the JavaScript console.\n\nThe approach of [2] was to drop multiple glance API calls, but\nthe right solution would be to check duplicated images included\nin both API calls. This situation with duplicated images happens\nwhen a community image is owned by a focused project. In such case,\nthe community image is included in the responses of both API calls.\n\nThis commit adds a logic to check image IDs already processed.\n\n[1] https://review.opendev.org/c/openstack/horizon/+/614688\n[2] https://review.opendev.org/c/openstack/horizon/+/640762\n\nCloses-Bug: #1914045\nRelated-Bug: #1779250\nRelated-Bug: #1818508\n\nChange-Id: I2ed1b6064ddd6f62818d6112e98e5d5a98beae9d\n(cherry picked from commit c9bb0e95eaa7ae4f0cce21bc0a246a9b0cd2f880)\n'}]",2,779015,ebeb0b4d74a45baa6c067c4bfb5c07fcb637f1bf,17,3,3,29313,,,0,"Fix community image handling in launch instance form

Community images which are not owned by a focused project are not
included in the normal image list API (i.e., without specifying
""community"" as visibility), so we need an extra call of the image
list API specifying ""community"" visibility in a filter.

It was originally fixed by [1] but was dropped in [2].
The main motivation of [2] is to address ""Duplicates in a repeater
are not allowed"" error in the JavaScript console.

The approach of [2] was to drop multiple glance API calls, but
the right solution would be to check duplicated images included
in both API calls. This situation with duplicated images happens
when a community image is owned by a focused project. In such case,
the community image is included in the responses of both API calls.

This commit adds a logic to check image IDs already processed.

[1] https://review.opendev.org/c/openstack/horizon/+/614688
[2] https://review.opendev.org/c/openstack/horizon/+/640762

Closes-Bug: #1914045
Related-Bug: #1779250
Related-Bug: #1818508

Change-Id: I2ed1b6064ddd6f62818d6112e98e5d5a98beae9d
(cherry picked from commit c9bb0e95eaa7ae4f0cce21bc0a246a9b0cd2f880)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/15/779015/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.spec.js']",2,465bf5593ca1cbee70918586ae47934e48044573,bug/1914045," getImages: function (params) { var images; if (params.visibility === 'community') { images = [ {id: '10', container_format: 'raw', properties: {image_type: 'image'}, visibility: 'community'}, // ID 6 is already returned by the first call (below), so this should be ignored. // To clarify the difference, the content here is different intentionally. {id: '6', container_format: 'raw', properties: {image_type: 'image'}, visibility: 'community'}, ]; } else { images = [ // container_format aki and ari are not considered as bootable {id: '1', container_format: 'aki', properties: {}}, {id: '2', container_format: 'ari', properties: {}}, // The following images are considered as ""image"" sources. {id: '3', container_format: 'ami', properties: {}, name: 'ami_image'}, {id: '4', container_format: 'raw', properties: {}, name: 'raw_image'}, {id: '5', container_format: 'ami', properties: {image_type: 'image'}}, {id: '6', container_format: 'raw', properties: {image_type: 'image'}}, // The following images are considered as ""snapshot"" sources. {id: '7', container_format: 'ami', properties: {block_device_mapping: '[{""source_type"": ""snapshot""}]'}}, {id: '8', container_format: 'raw', properties: {block_device_mapping: '[{""source_type"": ""snapshot""}]'}}, {id: '9', container_format: 'raw', properties: {image_type: 'snapshot'}}, ]; } {id: '3', container_format: 'ami', properties: {}, name: 'ami_image', name_or_id: 'ami_image'}, {id: '4', container_format: 'raw', properties: {}, name: 'raw_image', name_or_id: 'raw_image'}, {id: '5', container_format: 'ami', properties: {image_type: 'image'}, name_or_id: '5'}, {id: '6', container_format: 'raw', properties: {image_type: 'image'}, name_or_id: '6'}, {id: '10', container_format: 'raw', properties: {image_type: 'image'}, name_or_id: '10', visibility: 'community'}, {id: '7', container_format: 'ami', properties: {block_device_mapping: '[{""source_type"": ""snapshot""}]'}}, {id: '8', container_format: 'raw', properties: {block_device_mapping: '[{""source_type"": ""snapshot""}]'}}, {id: '9', container_format: 'raw', properties: {image_type: 'snapshot'}},"," $provide.value('horizon.app.core.openstack-service-api.glance', { getImages: function () { var images = [ {container_format: 'aki', properties: {}}, {container_format: 'ari', properties: {}}, {container_format: 'ami', properties: {}}, {container_format: 'raw', properties: {}}, {container_format: 'ami', properties: {image_type: 'image'}}, {container_format: 'raw', properties: {image_type: 'image'}}, {container_format: 'ami', properties: { block_device_mapping: '[{""source_type"": ""snapshot""}]'}}, {container_format: 'raw', properties: { block_device_mapping: '[{""source_type"": ""snapshot""}]'}} ]; {container_format: 'ami', properties: {}}, {container_format: 'raw', properties: {}}, {container_format: 'ami', properties: {image_type: 'image'}}, {container_format: 'raw', properties: {image_type: 'image'}} { container_format: 'ami', properties: {block_device_mapping: '[{""source_type"": ""snapshot""}]'} }, { container_format: 'raw', properties: {block_device_mapping: '[{""source_type"": ""snapshot""}]'} }",63,33
openstack%2Fhorizon~stable%2Fstein~If72d49c78a9f83687785a1225151d819b85e88d2,openstack/horizon,stable/stein,If72d49c78a9f83687785a1225151d819b85e88d2,Modified the image page to use CSS class,ABANDONED,2022-09-29 02:09:13.000000000,2023-06-02 09:15:20.000000000,,"[{'_account_id': 8648}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-09-29 02:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1a938189a4e8393c536b4e46f922d33a38c0f661', 'message': 'Modified the image page to use CSS class\n\nPages can not display normal when language is Simplified Chinese(zh-cn),\na row in the table can display only one Chinese character.\n\nRemove ""width: 100%"" rule from the ""word-wrap"" class.\n\nThe page should now display normally.\n\nPartial-Bug: #1936830\nChange-Id: If72d49c78a9f83687785a1225151d819b85e88d2\n(cherry picked from commit e9ca0016234632f6ad0fbd766c5829c587b6a951)\n'}, {'number': 2, 'created': '2022-09-29 02:10:09.000000000', 'files': ['openstack_dashboard/static/dashboard/scss/_util.scss'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b41cdea56fe213a13c5bfc86186d7ec2abc67c05', 'message': 'Modified the image page to use CSS class\n\nPages can not display normal when language is Simplified Chinese(zh-cn),\na row in the table can display only one Chinese character.\n\nRemove ""width: 100%"" rule from the ""word-wrap"" class.\n\nThe page should now display normally.\n\nPartial-Bug: #1936830\nChange-Id: If72d49c78a9f83687785a1225151d819b85e88d2\n(cherry picked from commit e9ca0016234632f6ad0fbd766c5829c587b6a951)\n'}]",2,859754,b41cdea56fe213a13c5bfc86186d7ec2abc67c05,6,2,2,33787,,,0,"Modified the image page to use CSS class

Pages can not display normal when language is Simplified Chinese(zh-cn),
a row in the table can display only one Chinese character.

Remove ""width: 100%"" rule from the ""word-wrap"" class.

The page should now display normally.

Partial-Bug: #1936830
Change-Id: If72d49c78a9f83687785a1225151d819b85e88d2
(cherry picked from commit e9ca0016234632f6ad0fbd766c5829c587b6a951)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/54/859754/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/static/dashboard/scss/_util.scss'],1,1a938189a4e8393c536b4e46f922d33a38c0f661,bug/1936830-stable/stein,} , width: 100%;},1,2
openstack%2Fneutron-lib~stable%2F2023.1~I800e0356714d59ba93ab6252c77be0a82f024055,openstack/neutron-lib,stable/2023.1,I800e0356714d59ba93ab6252c77be0a82f024055,"Add a ""GROUP BY"" clause on queries with RBAC entries",MERGED,2023-06-01 17:14:05.000000000,2023-06-02 09:07:50.000000000,2023-06-02 09:06:52.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 17:14:05.000000000', 'files': ['neutron_lib/db/model_query.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/86ea887de64bba3d48a245884aea961b04afad0a', 'message': 'Add a ""GROUP BY"" clause on queries with RBAC entries\n\nAs reported in the Neutron patch [1], this change introduce a\n""GROUP BY"" clause on the SQL queries with RBAC entries. With [1],\nall resouces with RBAC entries (\'network\', \'qospolicy\',\n\'securitygroup\', \'addressscope\', \'subnetpool\', \'addressgroup\') will\nload the RBAC entries with ""joined"" strategy.\n\nBecause of the low cardinality of the RBAC query when all the RBAC\nregisters are in one single project, this patch groups the resource\nqueries by the resource ID. That will reduce the results returned by\nthe SQL engine to only the singular registers required.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/884877\n\nRelated-Bug: #1918145\nChange-Id: I800e0356714d59ba93ab6252c77be0a82f024055\n(cherry picked from commit 829e97024c2b73dd67bfd8a04c65f03be556eec8)\n'}]",1,885080,86ea887de64bba3d48a245884aea961b04afad0a,8,3,1,16688,,,0,"Add a ""GROUP BY"" clause on queries with RBAC entries

As reported in the Neutron patch [1], this change introduce a
""GROUP BY"" clause on the SQL queries with RBAC entries. With [1],
all resouces with RBAC entries ('network', 'qospolicy',
'securitygroup', 'addressscope', 'subnetpool', 'addressgroup') will
load the RBAC entries with ""joined"" strategy.

Because of the low cardinality of the RBAC query when all the RBAC
registers are in one single project, this patch groups the resource
queries by the resource ID. That will reduce the results returned by
the SQL engine to only the singular registers required.

[1]https://review.opendev.org/c/openstack/neutron/+/884877

Related-Bug: #1918145
Change-Id: I800e0356714d59ba93ab6252c77be0a82f024055
(cherry picked from commit 829e97024c2b73dd67bfd8a04c65f03be556eec8)
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/80/885080/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/db/model_query.py'],1,86ea887de64bba3d48a245884aea961b04afad0a,bug/1918145," group_by = None # This ""group_by"" clause will limit the number of registers # returned by the query, avoiding the problem of the low SQL # query cardinality when the RBAC registers are in the requested # project ID. group_by = model.id if group_by: query = query.group_by(group_by) ",,9,0
openstack%2Fovn-octavia-provider~stable%2Fzed~Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e,openstack/ovn-octavia-provider,stable/zed,Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e,Apply admin_state_up on a new member creation,MERGED,2023-05-26 11:31:23.000000000,2023-06-02 08:59:28.000000000,2023-06-02 08:58:27.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-05-26 11:31:23.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/2f5b2738e4cead573be220551e18df67461cc042', 'message': ""Apply admin_state_up on a new member creation\n\nIf a new member is added with the admin_state_up set to False,\nthey should not participate in load balancing requests over\nthe LB VIP. However, the member still receives requests, even\nthough the Octavia API applies the member's operation_status correctly,\n\nThis patch fixes this issue by not adding the member to the vips\n(at OVN NB) so that request over LB VIP are not taking into account\nthat member.\n\nCloses-Bug: 2016862\nChange-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e\n(cherry picked from commit 01309d067c800c3bb07978c1db7e62a1c8b49a73)\n""}]",0,884481,2f5b2738e4cead573be220551e18df67461cc042,9,4,1,34451,,,0,"Apply admin_state_up on a new member creation

If a new member is added with the admin_state_up set to False,
they should not participate in load balancing requests over
the LB VIP. However, the member still receives requests, even
though the Octavia API applies the member's operation_status correctly,

This patch fixes this issue by not adding the member to the vips
(at OVN NB) so that request over LB VIP are not taking into account
that member.

Closes-Bug: 2016862
Change-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e
(cherry picked from commit 01309d067c800c3bb07978c1db7e62a1c8b49a73)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/81/884481/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",3,2f5b2738e4cead573be220551e18df67461cc042,zed," net_cli.return_value.show_subnet.side_effect = [idlutils.RowNotFound] self.assertEqual(status['members'][0]['operating_status'], constants.NO_MONITOR) calls = [ mock.call.db_clear('Load_Balancer', self.ovn_lb.uuid, 'vips'), mock.call.db_set('Load_Balancer', self.ovn_lb.uuid, ('vips', {}))] self.helper.ovn_nbdb_api.assert_has_calls(calls) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_member_create_disabled(self, net_cli): net_cli.return_value.show_subnet.side_effect = [idlutils.RowNotFound] self.ovn_lb.external_ids = mock.MagicMock() self.helper.ovn_nbdb_api.db_clear.assert_not_called()"," net_cli.return_value.show_subnet.side_effect = [ idlutils.RowNotFound, idlutils.RowNotFound]",28,11
openstack%2Fovn-octavia-provider~stable%2F2023.1~Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e,openstack/ovn-octavia-provider,stable/2023.1,Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e,Apply admin_state_up on a new member creation,MERGED,2023-05-26 11:29:56.000000000,2023-06-02 08:59:26.000000000,2023-06-02 08:58:26.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-05-26 11:29:56.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/099871fdc2a3fa239ea88072e466fc9f34c8fc72', 'message': ""Apply admin_state_up on a new member creation\n\nIf a new member is added with the admin_state_up set to False,\nthey should not participate in load balancing requests over\nthe LB VIP. However, the member still receives requests, even\nthough the Octavia API applies the member's operation_status correctly,\n\nThis patch fixes this issue by not adding the member to the vips\n(at OVN NB) so that request over LB VIP are not taking into account\nthat member.\n\nCloses-Bug: 2016862\nChange-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e\n(cherry picked from commit 01309d067c800c3bb07978c1db7e62a1c8b49a73)\n""}]",0,884480,099871fdc2a3fa239ea88072e466fc9f34c8fc72,9,4,1,34451,,,0,"Apply admin_state_up on a new member creation

If a new member is added with the admin_state_up set to False,
they should not participate in load balancing requests over
the LB VIP. However, the member still receives requests, even
though the Octavia API applies the member's operation_status correctly,

This patch fixes this issue by not adding the member to the vips
(at OVN NB) so that request over LB VIP are not taking into account
that member.

Closes-Bug: 2016862
Change-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e
(cherry picked from commit 01309d067c800c3bb07978c1db7e62a1c8b49a73)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/80/884480/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",3,099871fdc2a3fa239ea88072e466fc9f34c8fc72,," net_cli.return_value.show_subnet.side_effect = [idlutils.RowNotFound] self.assertEqual(status['members'][0]['operating_status'], constants.NO_MONITOR) calls = [ mock.call.db_clear('Load_Balancer', self.ovn_lb.uuid, 'vips'), mock.call.db_set('Load_Balancer', self.ovn_lb.uuid, ('vips', {}))] self.helper.ovn_nbdb_api.assert_has_calls(calls) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_member_create_disabled(self, net_cli): net_cli.return_value.show_subnet.side_effect = [idlutils.RowNotFound] self.ovn_lb.external_ids = mock.MagicMock() self.helper.ovn_nbdb_api.db_clear.assert_not_called()"," net_cli.return_value.show_subnet.side_effect = [ idlutils.RowNotFound, idlutils.RowNotFound]",28,11
openstack%2Fnetworking-odl~stable%2Fzed~I17e5b345611a597700481e26019ca7c16c19847f,openstack/networking-odl,stable/zed,I17e5b345611a597700481e26019ca7c16c19847f,Update the CI requirements and remove grenade/tempest jobs,MERGED,2023-06-01 15:20:51.000000000,2023-06-02 08:54:27.000000000,2023-06-02 08:52:29.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 15:20:51.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/jobs.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/60d76bff607cb1bf1bea62ffac7db95999a48fea', 'message': 'Update the CI requirements and remove grenade/tempest jobs\n\nThis patch removes the grenade and tempest jobs. It also updates\nthe required projects versions.\n\nChange-Id: I17e5b345611a597700481e26019ca7c16c19847f\n'}]",1,885062,60d76bff607cb1bf1bea62ffac7db95999a48fea,12,5,1,16688,,,0,"Update the CI requirements and remove grenade/tempest jobs

This patch removes the grenade and tempest jobs. It also updates
the required projects versions.

Change-Id: I17e5b345611a597700481e26019ca7c16c19847f
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/62/885062/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', '.zuul.d/jobs.yaml', 'tox.ini']",3,60d76bff607cb1bf1bea62ffac7db95999a48fea,n-odl_cleanup_ci," pip install -q -e ""git+https://opendev.org/x/networking-l2gw@zed#egg=networking_l2gw"" pip install -q -e ""git+https://opendev.org/openstack/networking-bgpvpn@zed#egg=networking_bgpvpn"" pip install -q -e ""git+https://opendev.org/openstack/networking-sfc@zed#egg=networking_sfc"" pip install -q -e ""git+https://opendev.org/openstack/ceilometer@zed#egg=ceilometer"" pip install -q -e ""git+https://opendev.org/openstack/neutron@zed#egg=neutron"""," pip install -q -e ""git+https://opendev.org/x/networking-l2gw#egg=networking_l2gw"" pip install -q -e ""git+https://opendev.org/openstack/networking-bgpvpn#egg=networking_bgpvpn"" pip install -q -e ""git+https://opendev.org/openstack/networking-sfc#egg=networking_sfc"" pip install -q -e ""git+https://opendev.org/openstack/ceilometer#egg=ceilometer"" pip install -q -e ""git+https://opendev.org/openstack/neutron#egg=neutron""",69,156
openstack%2Fironic-inspector~bugfix%2F11.5~I0df180c9cfc0ea57545290f5dd2be6b161dc24b3,openstack/ironic-inspector,bugfix/11.5,I0df180c9cfc0ea57545290f5dd2be6b161dc24b3,Update .gitreview for bugfix/11.5,MERGED,2023-06-01 14:47:55.000000000,2023-06-02 08:27:42.000000000,2023-06-02 08:26:41.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-06-01 14:47:55.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/05e98614dca40bde2a32547dad1411ab1b671d30', 'message': 'Update .gitreview for bugfix/11.5\n\nChange-Id: I0df180c9cfc0ea57545290f5dd2be6b161dc24b3\n'}]",0,885058,05e98614dca40bde2a32547dad1411ab1b671d30,7,2,1,22816,,,0,"Update .gitreview for bugfix/11.5

Change-Id: I0df180c9cfc0ea57545290f5dd2be6b161dc24b3
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/58/885058/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,05e98614dca40bde2a32547dad1411ab1b671d30,create-11.5,defaultbranch=bugfix/11.5,,1,0
openstack%2Fironic-python-agent~bugfix%2F9.5~I457ea6b85f18f84e1ecbee03a600d164db96897a,openstack/ironic-python-agent,bugfix/9.5,I457ea6b85f18f84e1ecbee03a600d164db96897a,Update .gitreview for bugfix/9.5,MERGED,2023-06-01 14:59:38.000000000,2023-06-02 08:22:04.000000000,2023-06-02 08:20:59.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-06-01 14:59:38.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/06614e683428bf424010a56a0d20c7cd789318e9', 'message': 'Update .gitreview for bugfix/9.5\n\nChange-Id: I457ea6b85f18f84e1ecbee03a600d164db96897a\n'}]",0,885059,06614e683428bf424010a56a0d20c7cd789318e9,8,2,1,22816,,,0,"Update .gitreview for bugfix/9.5

Change-Id: I457ea6b85f18f84e1ecbee03a600d164db96897a
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/59/885059/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,06614e683428bf424010a56a0d20c7cd789318e9,create-9.5,defaultbranch=bugfix/9.5,,1,0
openstack%2Freleases~master~I6120255dcbd9ed16c6d4fabb85f6aaad12ab01b5,openstack/releases,master,I6120255dcbd9ed16c6d4fabb85f6aaad12ab01b5,Fix package description in announce mail,MERGED,2023-06-01 15:27:03.000000000,2023-06-02 08:18:49.000000000,2023-06-02 08:18:49.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-01 15:27:03.000000000', 'files': ['tools/announce.sh'], 'web_link': 'https://opendev.org/openstack/releases/commit/431ce7005f14d06065e83cad3a299a2e256aa0ac', 'message': ""Fix package description in announce mail\n\nOriginally 'python setup.py --description' was used, and we replaced\nit to the 'description' field of importlib's metadata, but that is\nactually the long description ('python setup.py --long-description').\nTo get the previously used 'description', the 'summary' field have to\nbe used.\n\nChange-Id: I6120255dcbd9ed16c6d4fabb85f6aaad12ab01b5\n""}]",0,885066,431ce7005f14d06065e83cad3a299a2e256aa0ac,9,4,1,17685,,,0,"Fix package description in announce mail

Originally 'python setup.py --description' was used, and we replaced
it to the 'description' field of importlib's metadata, but that is
actually the long description ('python setup.py --long-description').
To get the previously used 'description', the 'summary' field have to
be used.

Change-Id: I6120255dcbd9ed16c6d4fabb85f6aaad12ab01b5
",git fetch https://review.opendev.org/openstack/releases refs/changes/66/885066/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/announce.sh'],1,431ce7005f14d06065e83cad3a299a2e256aa0ac,fix-announce," description=$(python -c ""import importlib.metadata; print(importlib.metadata.metadata('${modified_shortname}')['Summary'])"")"," description=$(python -c ""import importlib.metadata; print(importlib.metadata.metadata('${modified_shortname}')['Description'])"")",1,1
openstack%2Fdesignate~stable%2F2023.1~Ib49490c97e44c7833712810ba67c1d0d5d21c41f,openstack/designate,stable/2023.1,Ib49490c97e44c7833712810ba67c1d0d5d21c41f,Re-enable test jobs,MERGED,2023-06-01 16:03:34.000000000,2023-06-02 07:45:52.000000000,2023-06-02 07:43:53.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-06-01 16:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cfa390b178084207d4dd57319ffe787acf835151', 'message': 'Re-enable test jobs\n\nThis patch re-enables some test jobs that were disabled to resolve a circular\ndependency issue.\n\nChange-Id: Ib49490c97e44c7833712810ba67c1d0d5d21c41f\n'}, {'number': 2, 'created': '2023-06-02 00:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/744fd8499b58e64cba6f538fd01f87b4f1e2c619', 'message': 'Re-enable test jobs\n\nThis patch re-enables some test jobs that were disabled to resolve a circular\ndependency issue.\n\nChange-Id: Ib49490c97e44c7833712810ba67c1d0d5d21c41f\n'}, {'number': 3, 'created': '2023-06-02 04:57:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/e742851dc9ce7bef3cfab877e20a9873f84fdb5f', 'message': 'Re-enable test jobs\n\nThis patch re-enables some test jobs that were disabled to resolve a circular\ndependency issue.\n\nChange-Id: Ib49490c97e44c7833712810ba67c1d0d5d21c41f\n'}]",2,885073,e742851dc9ce7bef3cfab877e20a9873f84fdb5f,18,3,3,11628,,,0,"Re-enable test jobs

This patch re-enables some test jobs that were disabled to resolve a circular
dependency issue.

Change-Id: Ib49490c97e44c7833712810ba67c1d0d5d21c41f
",git fetch https://review.opendev.org/openstack/designate refs/changes/73/885073/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,cfa390b178084207d4dd57319ffe787acf835151,, - designate-bind9 - designate-bind9-scoped-tokens - designate-pdns4 - designate-grenade-bind9 - designate-grenade-pdns4 - designate-ipv6-only-pdns4 - designate-ipv6-only-bind9 gate: fail-fast: true jobs: - designate-bind9 - designate-bind9-scoped-tokens - designate-pdns4 - designate-grenade-pdns4 - designate-ipv6-only-pdns4 - designate-ipv6-only-bind9,# Temporary disable to fix circular dependency # - designate-bind9# - designate-bind9-scoped-tokens # - designate-pdns4 # - designate-grenade-bind9 # - designate-grenade-pdns4 # - designate-ipv6-only-pdns4 # - designate-ipv6-only-bind9 # gate: # fail-fast: true # jobs: # - designate-bind9 # - designate-bind9-scoped-tokens # - designate-pdns4 # - designate-grenade-pdns4 # - designate-ipv6-only-pdns4 # - designate-ipv6-only-bind9,16,17
openstack%2Fdesignate~master~Ib5eb9d43bdaae31bfdd28a9d3e4d89a1c2c241e1,openstack/designate,master,Ib5eb9d43bdaae31bfdd28a9d3e4d89a1c2c241e1,Re-enable test jobs,MERGED,2023-06-01 16:01:47.000000000,2023-06-02 07:39:49.000000000,2023-06-02 07:37:54.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-06-01 16:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a60268b8b2b6f9c88d02995cee389c1e5a83a3c6', 'message': 'Re-enable test jobs\n\nThis patch re-enables some test jobs that were disabled to resolve a circular\ndependency issue.\n\nChange-Id: Ib5eb9d43bdaae31bfdd28a9d3e4d89a1c2c241e1\n'}, {'number': 2, 'created': '2023-06-02 00:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0db773a940ec7cbe15084e74e09cb4a13247c4fe', 'message': 'Re-enable test jobs\n\nThis patch re-enables some test jobs that were disabled to resolve a circular\ndependency issue.\n\nChange-Id: Ib5eb9d43bdaae31bfdd28a9d3e4d89a1c2c241e1\n'}, {'number': 3, 'created': '2023-06-02 04:56:45.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/aacea51715035690958afa79c5f69b4fea025994', 'message': 'Re-enable test jobs\n\nThis patch re-enables some test jobs that were disabled to resolve a circular\ndependency issue.\n\nChange-Id: Ib5eb9d43bdaae31bfdd28a9d3e4d89a1c2c241e1\n'}]",2,885072,aacea51715035690958afa79c5f69b4fea025994,17,3,3,11628,,,0,"Re-enable test jobs

This patch re-enables some test jobs that were disabled to resolve a circular
dependency issue.

Change-Id: Ib5eb9d43bdaae31bfdd28a9d3e4d89a1c2c241e1
",git fetch https://review.opendev.org/openstack/designate refs/changes/72/885072/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a60268b8b2b6f9c88d02995cee389c1e5a83a3c6,, - designate-bind9 - designate-bind9-keystone-default-roles - designate-pdns4 - designate-grenade-bind9 - designate-grenade-pdns4 - designate-ipv6-only-pdns4 - designate-ipv6-only-bind9 gate: fail-fast: true jobs: - designate-bind9 - designate-bind9-keystone-default-roles - designate-pdns4 - designate-grenade-pdns4 - designate-ipv6-only-pdns4 - designate-ipv6-only-bind9,# - designate-bind9# Temporary disable to fix circular dependency # - designate-bind9-keystone-default-roles # - designate-pdns4 # - designate-grenade-bind9 # - designate-grenade-pdns4 # - designate-ipv6-only-pdns4 # - designate-ipv6-only-bind9 # gate: # fail-fast: true # jobs: # - designate-bind9 # - designate-bind9-keystone-default-roles # - designate-pdns4 # - designate-grenade-pdns4 # - designate-ipv6-only-pdns4 # - designate-ipv6-only-bind9,16,17
openstack%2Fskyline-apiserver~stable%2F2023.1~Ie982447d5540ae5cc9290cdd836ed6e56c89852d,openstack/skyline-apiserver,stable/2023.1,Ie982447d5540ae5cc9290cdd836ed6e56c89852d,fix: Set stable-2023.1 version of skyline-console to use,MERGED,2023-06-02 03:13:50.000000000,2023-06-02 05:19:07.000000000,2023-06-02 05:18:15.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 30434}, {'_account_id': 35191}]","[{'number': 1, 'created': '2023-06-02 03:13:50.000000000', 'files': ['Makefile'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/4dc464ba4c23d4219fac8e45c852f785f4ebc9ec', 'message': 'fix: Set stable-2023.1 version of skyline-console to use\n\n1. Use version of stable-2023.1 for skyline-console package\n2. Set docker image tag as 2023.1\n\nChange-Id: Ie982447d5540ae5cc9290cdd836ed6e56c89852d\n'}]",0,885104,4dc464ba4c23d4219fac8e45c852f785f4ebc9ec,9,4,1,28706,,,0,"fix: Set stable-2023.1 version of skyline-console to use

1. Use version of stable-2023.1 for skyline-console package
2. Set docker image tag as 2023.1

Change-Id: Ie982447d5540ae5cc9290cdd836ed6e56c89852d
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/04/885104/1 && git format-patch -1 --stdout FETCH_HEAD,['Makefile'],1,4dc464ba4c23d4219fac8e45c852f785f4ebc9ec,,"SKYLINE_CONSOLE_PACKAGE_URL ?= ""https://tarballs.opendev.org/openstack/skyline-console/skyline-console-stable-2023.1.tar.gz""IMAGE_TAG ?= 2023.1 GIT_CONSOLE_COMMIT=$(shell wget $(SKYLINE_CONSOLE_PACKAGE_URL) && tar -zxf skyline-console-stable-2023.1.tar.gz && cat skyline-console-*/skyline_console/static/commit_id.txt); \","SKYLINE_CONSOLE_PACKAGE_URL ?= ""https://tarballs.opendev.org/openstack/skyline-console/skyline-console-master.tar.gz""IMAGE_TAG ?= latest GIT_CONSOLE_COMMIT=$(shell wget $(SKYLINE_CONSOLE_PACKAGE_URL) && tar -zxf skyline-console-master.tar.gz && cat skyline-console-*/skyline_console/static/commit_id.txt); \",3,3
openstack%2Fmasakari~master~I7574d9d9a98c31841f3eed9fb2c0e12143f7d2f7,openstack/masakari,master,I7574d9d9a98c31841f3eed9fb2c0e12143f7d2f7,migrate to alembic,NEW,2023-05-19 02:41:32.000000000,2023-06-02 02:51:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-19 02:41:32.000000000', 'files': ['masakari/cmd/manage.py', 'releasenotes/notes/switch-to-alembic-628ec27da63bd571.yaml', 'masakari/db/sqlalchemy/migration.py', 'masakari/db/sqlalchemy/migrations/env.py', 'masakari/tests/unit/db/test_migrations.py', 'masakari/tests/unit/db/test_purge.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/7413fea1ae43ee754982ad0ce2480a895a3be6ed', 'message': 'migrate to alembic\n\nStart to migrate to alembic, and the sqlalchemy-migrate will be removed\nentirely laterly.\n\nChange-Id: I7574d9d9a98c31841f3eed9fb2c0e12143f7d2f7\n'}]",2,883616,7413fea1ae43ee754982ad0ce2480a895a3be6ed,7,1,1,30623,,,0,"migrate to alembic

Start to migrate to alembic, and the sqlalchemy-migrate will be removed
entirely laterly.

Change-Id: I7574d9d9a98c31841f3eed9fb2c0e12143f7d2f7
",git fetch https://review.opendev.org/openstack/masakari refs/changes/16/883616/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/cmd/manage.py', 'releasenotes/notes/switch-to-alembic-628ec27da63bd571.yaml', 'masakari/db/sqlalchemy/migration.py', 'masakari/db/sqlalchemy/migrations/env.py', 'masakari/tests/unit/db/test_migrations.py', 'masakari/tests/unit/db/test_purge.py']",6,7413fea1ae43ee754982ad0ce2480a895a3be6ed,remove-sqlalchemy-migrate," db.purge_deleted_rows(self.context, age_in_days=60, max_rows=-1) self.assertEqual(4, hosts_rows) self.assertEqual(4, failover_segments_rows)"," db.purge_deleted_rows(self.context, age_in_days=60, max_rows=3) self.assertEqual(5, hosts_rows) self.assertEqual(6, failover_segments_rows)",109,288
openstack%2Fopenstack-tempest-skiplist~master~I16e6b29a2d536b941c1a302d327d45e417a2f792,openstack/openstack-tempest-skiplist,master,I16e6b29a2d536b941c1a302d327d45e417a2f792,remove unicode prefix from code,NEW,2022-08-29 11:48:56.000000000,2023-06-02 02:26:10.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-29 11:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/5be5bd13f58b960b9299a5467db2e1d973621265', 'message': 'remove unicode prefix from code\n\nChange-Id: I16e6b29a2d536b941c1a302d327d45e417a2f792\n'}, {'number': 2, 'created': '2023-06-02 02:10:16.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/a65a01683e00674fe6a95a3bad26f96fcc935d94', 'message': ""remove unicode prefix from code\n\nAll strings are considered as unicode string from Python 3.\n\nThis patch drops the explicit unicode literal (u'...')\nappearances from the unicode strings.\n\nChange-Id: I16e6b29a2d536b941c1a302d327d45e417a2f792\n""}]",1,854966,a65a01683e00674fe6a95a3bad26f96fcc935d94,5,2,2,35058,,,0,"remove unicode prefix from code

All strings are considered as unicode string from Python 3.

This patch drops the explicit unicode literal (u'...')
appearances from the unicode strings.

Change-Id: I16e6b29a2d536b941c1a302d327d45e417a2f792
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/66/854966/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,5be5bd13f58b960b9299a5467db2e1d973621265,,"copyright = '2019, OpenStack' 'skiplist Release Notes Documentation', 'OpenStack', 'manual'), ('index', 'skiplistreleasenotes', 'skiplist Release Notes Documentation', ['OpenStack'], 1) ('index', 'skiplistReleaseNotes', 'skiplist Release Notes Documentation', 'OpenStack', 'skiplistReleaseNotes',","copyright = u'2019, OpenStack' u'skiplist Release Notes Documentation', u'OpenStack', 'manual'), ('index', 'skiplistreleasenotes', u'skiplist Release Notes Documentation', [u'OpenStack'], 1) ('index', 'skiplistReleaseNotes', u'skiplist Release Notes Documentation', u'OpenStack', 'skiplistReleaseNotes',",9,9
openstack%2Fmasakari~master~I99247ebd2d1384930eb5c3d3f01fdab1687570bd,openstack/masakari,master,I99247ebd2d1384930eb5c3d3f01fdab1687570bd,extend wait period for process notification,MERGED,2023-06-01 12:01:09.000000000,2023-06-02 01:31:08.000000000,2023-06-02 01:30:13.000000000,"[{'_account_id': 22348}, {'_account_id': 30623}]","[{'number': 1, 'created': '2023-06-01 12:01:09.000000000', 'files': ['masakari/tests/functional/test_process_notifications.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/dcb7c0b7e19c5547cb5016fb81f226409234b762', 'message': 'extend wait period for process notification\n\nChange-Id: I99247ebd2d1384930eb5c3d3f01fdab1687570bd\n'}]",0,885038,dcb7c0b7e19c5547cb5016fb81f226409234b762,7,2,1,30623,,,0,"extend wait period for process notification

Change-Id: I99247ebd2d1384930eb5c3d3f01fdab1687570bd
",git fetch https://review.opendev.org/openstack/masakari refs/changes/38/885038/1 && git format-patch -1 --stdout FETCH_HEAD,['masakari/tests/functional/test_process_notifications.py'],1,dcb7c0b7e19c5547cb5016fb81f226409234b762,, NOTIFICATION_WAIT_PERIOD = 600, NOTIFICATION_WAIT_PERIOD = 120,1,1
openstack%2Frequirements~master~Id4da24664b1e8663e9a251c017ed41c0ff46a323,openstack/requirements,master,Id4da24664b1e8663e9a251c017ed41c0ff46a323,Deprecation of networking-odl,MERGED,2023-05-24 08:09:37.000000000,2023-06-02 00:02:37.000000000,2023-06-02 00:01:44.000000000,"[{'_account_id': 4694}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-05-24 08:09:37.000000000', 'files': ['projects.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/227edc573fe1093c84acead3912312854c0c1400', 'message': 'Deprecation of networking-odl\n\nThe decision was taken during a Neutron team meeting and communicated\nvia mailing list [1]. Due to the lack of mantainers, this project is\ndeprecated during Bobcat (2023.3) release.\n\n[1]https://lists.openstack.org/pipermail/openstack-discuss/2023-March/033003.html\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/884002\n\nChange-Id: Id4da24664b1e8663e9a251c017ed41c0ff46a323\n'}]",0,884005,227edc573fe1093c84acead3912312854c0c1400,10,6,1,16688,,,0,"Deprecation of networking-odl

The decision was taken during a Neutron team meeting and communicated
via mailing list [1]. Due to the lack of mantainers, this project is
deprecated during Bobcat (2023.3) release.

[1]https://lists.openstack.org/pipermail/openstack-discuss/2023-March/033003.html

Depends-On: https://review.opendev.org/c/openstack/governance/+/884002

Change-Id: Id4da24664b1e8663e9a251c017ed41c0ff46a323
",git fetch https://review.opendev.org/openstack/requirements refs/changes/05/884005/1 && git format-patch -1 --stdout FETCH_HEAD,['projects.txt'],1,227edc573fe1093c84acead3912312854c0c1400,deprecate_networking-odl,,openstack/networking-odl,0,1
openstack%2Fopenstack-helm~master~I7572fc39a8f6248ff7dac44f20076ba74a3499fc,openstack/openstack-helm,master,I7572fc39a8f6248ff7dac44f20076ba74a3499fc,Enable Zed compute-kit and cinder jobs,MERGED,2023-06-01 09:10:59.000000000,2023-06-01 23:20:36.000000000,2023-06-01 23:18:44.000000000,"[{'_account_id': 8898}, {'_account_id': 21040}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2023-06-01 09:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/18a2a275edea7484577326362fe91c64775b89af', 'message': ""Enabled Zed compute-kit job\n\nA new nodeset was temporarily added.\nThe aio compute-kit jobs for recent releases require\na huge node to work reliably. We'll remove the temporary nodeset\nonce this is merged\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/884989\n\nChange-Id: I7572fc39a8f6248ff7dac44f20076ba74a3499fc\n""}, {'number': 2, 'created': '2023-06-01 09:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/70a7c0bff29f85471be4f4db0fedfa1631d8ec1f', 'message': ""Enabled Zed compute-kit job\n\nA new nodeset was temporarily added.\nThe aio compute-kit jobs for recent releases require\na huge node to work reliably. We'll remove the temporary nodeset\nonce this is merged\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/884989\n\nChange-Id: I7572fc39a8f6248ff7dac44f20076ba74a3499fc\n""}, {'number': 3, 'created': '2023-06-01 12:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0885a11e24949c983aa1af408edd67982f4ffed9', 'message': ""Enabled Zed compute-kit job\n\nA new nodeset was temporarily added.\nThe aio compute-kit jobs for recent releases require\na huge node to work reliably. We'll remove the temporary nodeset\nonce this is merged\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/884989\n\nChange-Id: I7572fc39a8f6248ff7dac44f20076ba74a3499fc\n""}, {'number': 4, 'created': '2023-06-01 13:16:03.000000000', 'files': ['releasenotes/notes/heat.yaml', 'heat/Chart.yaml', 'horizon/Chart.yaml', 'releasenotes/notes/manila.yaml', 'releasenotes/notes/neutron.yaml', 'zuul.d/jobs-openstack-helm.yaml', 'nova/values_overrides/zed-ubuntu_focal.yaml', 'cinder/values_overrides/zed-ubuntu_focal.yaml', 'barbican/Chart.yaml', 'cinder/Chart.yaml', 'releasenotes/notes/cinder.yaml', 'releasenotes/notes/nova.yaml', 'zuul.d/nodesets.yaml', 'keystone/values_overrides/zed-ubuntu_focal.yaml', 'horizon/values_overrides/zed-ubuntu_focal.yaml', 'releasenotes/notes/glance.yaml', 'releasenotes/notes/placement.yaml', 'releasenotes/notes/keystone.yaml', 'barbican/values_overrides/zed-ubuntu_focal.yaml', 'releasenotes/notes/horizon.yaml', 'neutron/Chart.yaml', 'glance/values_overrides/zed-ubuntu_focal.yaml', 'nova/Chart.yaml', 'neutron/values_overrides/zed-ubuntu_focal.yaml', 'releasenotes/notes/barbican.yaml', 'glance/Chart.yaml', 'heat/values_overrides/zed-ubuntu_focal.yaml', 'placement/values_overrides/zed-ubuntu_focal.yaml', 'placement/Chart.yaml', 'zuul.d/project.yaml', 'keystone/Chart.yaml', 'manila/Chart.yaml', 'manila/values_overrides/zed-ubuntu_focal.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/02a9e1e0ed93a59e5b4da9a5734c53f37eeff278', 'message': ""Enable Zed compute-kit and cinder jobs\n\nAlso a new nodeset was temporarily added.\nThe aio compute-kit jobs for recent releases require\na huge node to work reliably. We'll remove the temporary nodeset\nonce this is merged\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/884989\n\nChange-Id: I7572fc39a8f6248ff7dac44f20076ba74a3499fc\n""}]",4,884990,02a9e1e0ed93a59e5b4da9a5734c53f37eeff278,21,4,4,3009,,,0,"Enable Zed compute-kit and cinder jobs

Also a new nodeset was temporarily added.
The aio compute-kit jobs for recent releases require
a huge node to work reliably. We'll remove the temporary nodeset
once this is merged
https://review.opendev.org/c/openstack/openstack-helm-infra/+/884989

Change-Id: I7572fc39a8f6248ff7dac44f20076ba74a3499fc
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/90/884990/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/nodesets.yaml', 'zuul.d/jobs-openstack-helm.yaml']",3,18a2a275edea7484577326362fe91c64775b89af,, nodeset: openstack-helm-single-32GB-focal-tmp, nodeset: openstack-helm-single-32GB-node,16,1
openstack%2Ftempest~master~Ib290d4985b93f23dec502a202096d87ff00e9961,openstack/tempest,master,Ib290d4985b93f23dec502a202096d87ff00e9961,"Enable Nova, Glance RBAC old defaults in pre provisioned account testing",MERGED,2023-05-30 18:51:36.000000000,2023-06-01 23:06:59.000000000,2023-06-01 23:04:06.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30674}]","[{'number': 1, 'created': '2023-05-30 18:51:36.000000000', 'files': ['zuul.d/tempest-specific.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/037ea4efe07cbc78aa81388dccc06eed21874d4b', 'message': ""Enable Nova, Glance RBAC old defaults in pre provisioned account testing\n\nPre-provisioned account code and testing it not yet moved to the new\nRBAC design/need so it gor broken when we enabled nova and glance\nnew RBAC by default in devstack. We need to fix it but until then\nlet's keep testing it with old defaults.\n\nRelated-Bug: #2020859\nRelated-Bug: #2020860\nChange-Id: Ib290d4985b93f23dec502a202096d87ff00e9961\n""}]",6,884768,037ea4efe07cbc78aa81388dccc06eed21874d4b,19,3,1,8556,,,0,"Enable Nova, Glance RBAC old defaults in pre provisioned account testing

Pre-provisioned account code and testing it not yet moved to the new
RBAC design/need so it gor broken when we enabled nova and glance
new RBAC by default in devstack. We need to fix it but until then
let's keep testing it with old defaults.

Related-Bug: #2020859
Related-Bug: #2020860
Change-Id: Ib290d4985b93f23dec502a202096d87ff00e9961
",git fetch https://review.opendev.org/openstack/tempest refs/changes/68/884768/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-specific.yaml'],1,037ea4efe07cbc78aa81388dccc06eed21874d4b,bug/2020859," # FIXME(gmann): Nova and Glance have enabled the new defaults and scope # by default in devstack and pre provisioned account code and testing # needs to be move to new RBAC design testing. Until we do that, let's # run these jobs with old defaults. NOVA_ENFORCE_SCOPE: false GLANCE_ENFORCE_SCOPE: false",,6,1
openstack%2Fironic~stable%2Fwallaby~Ib258bc9650496da989fc93b759b112d279c8b217,openstack/ironic,stable/wallaby,Ib258bc9650496da989fc93b759b112d279c8b217,Fix Cinder Integration fallout from CVE-2023-2088,MERGED,2023-05-19 13:45:58.000000000,2023-06-01 22:18:13.000000000,2023-06-01 22:16:21.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-19 13:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/49453ef37775a6219e531c5084225a558daf13dc', 'message': 'Fix Cinder Integration fallout from CVE-2023-2088\n\nIn the recent change to cinder, to address CVE-2023-2088,\ncinder changed the policy rules and behavior for unbinding,\nor ""detaching"" a volume. This was because of a vulnerability\nin compute nodes where a volume which was in use by a VM\ncould be detached outside of Nova, and nova wouldn\'t become\naware the volume was detached, and the volume could be accessible\nto the next VM.\n\nThis vulnerability doesn\'t apply to bare metal operations as\nvolumes are attached to whole baremetal nodes with Ironic.\n\nWe now generate and use a service token when interacting with\nCinder which allows cinder to recognize ""this request is\ncoming from a fellow OpenStack service"", and by-pass\nchecking with Nova if the ""instance"" is managed by Nova,\nor Not. This allows the volumes to be attached, and detached\nas needed as part of the power operation flow and overall\nset of lifecycle operations.\n\nRelated-Bug: 2004555\nCloses-Bug: 2019892\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n(cherry picked from commit 9c0b4c90a19fc1db262a942a1b6a1baafc881ccc)\n'}, {'number': 2, 'created': '2023-05-24 17:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/12e109fa2d20c2ba0e7a04518cd17a88353af09f', 'message': 'Fix Cinder Integration fallout from CVE-2023-2088\n\nIn the recent change to cinder, to address CVE-2023-2088,\ncinder changed the policy rules and behavior for unbinding,\nor ""detaching"" a volume. This was because of a vulnerability\nin compute nodes where a volume which was in use by a VM\ncould be detached outside of Nova, and nova wouldn\'t become\naware the volume was detached, and the volume could be accessible\nto the next VM.\n\nThis vulnerability doesn\'t apply to bare metal operations as\nvolumes are attached to whole baremetal nodes with Ironic.\n\nWe now generate and use a service token when interacting with\nCinder which allows cinder to recognize ""this request is\ncoming from a fellow OpenStack service"", and by-pass\nchecking with Nova if the ""instance"" is managed by Nova,\nor Not. This allows the volumes to be attached, and detached\nas needed as part of the power operation flow and overall\nset of lifecycle operations.\n\nRelated-Bug: 2004555\nCloses-Bug: 2019892\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n(cherry picked from commit 9c0b4c90a19fc1db262a942a1b6a1baafc881ccc)\n'}, {'number': 3, 'created': '2023-05-24 19:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5611efe4cf3da986aae7db0322bd930de0bc3057', 'message': 'DNM Fix Cinder Integration fallout from CVE-2023-2088\n\nIn the recent change to cinder, to address CVE-2023-2088,\ncinder changed the policy rules and behavior for unbinding,\nor ""detaching"" a volume. This was because of a vulnerability\nin compute nodes where a volume which was in use by a VM\ncould be detached outside of Nova, and nova wouldn\'t become\naware the volume was detached, and the volume could be accessible\nto the next VM.\n\nThis vulnerability doesn\'t apply to bare metal operations as\nvolumes are attached to whole baremetal nodes with Ironic.\n\nWe now generate and use a service token when interacting with\nCinder which allows cinder to recognize ""this request is\ncoming from a fellow OpenStack service"", and by-pass\nchecking with Nova if the ""instance"" is managed by Nova,\nor Not. This allows the volumes to be attached, and detached\nas needed as part of the power operation flow and overall\nset of lifecycle operations.\n\nRelated-Bug: 2004555\nCloses-Bug: 2019892\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n(cherry picked from commit 9c0b4c90a19fc1db262a942a1b6a1baafc881ccc)\n'}, {'number': 4, 'created': '2023-05-24 21:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6fac0a75718027383810136631ebf9cf3de8fc47', 'message': 'DNM Fix Cinder Integration fallout from CVE-2023-2088\n\nIn the recent change to cinder, to address CVE-2023-2088,\ncinder changed the policy rules and behavior for unbinding,\nor ""detaching"" a volume. This was because of a vulnerability\nin compute nodes where a volume which was in use by a VM\ncould be detached outside of Nova, and nova wouldn\'t become\naware the volume was detached, and the volume could be accessible\nto the next VM.\n\nThis vulnerability doesn\'t apply to bare metal operations as\nvolumes are attached to whole baremetal nodes with Ironic.\n\nWe now generate and use a service token when interacting with\nCinder which allows cinder to recognize ""this request is\ncoming from a fellow OpenStack service"", and by-pass\nchecking with Nova if the ""instance"" is managed by Nova,\nor Not. This allows the volumes to be attached, and detached\nas needed as part of the power operation flow and overall\nset of lifecycle operations.\n\nRelated-Bug: 2004555\nCloses-Bug: 2019892\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n(cherry picked from commit 9c0b4c90a19fc1db262a942a1b6a1baafc881ccc)\n'}, {'number': 5, 'created': '2023-05-25 14:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a1a8f7ebfd3b98002bc6a3e6efe478dfce5260b2', 'message': 'DNM Fix Cinder Integration fallout from CVE-2023-2088\n\nIn the recent change to cinder, to address CVE-2023-2088,\ncinder changed the policy rules and behavior for unbinding,\nor ""detaching"" a volume. This was because of a vulnerability\nin compute nodes where a volume which was in use by a VM\ncould be detached outside of Nova, and nova wouldn\'t become\naware the volume was detached, and the volume could be accessible\nto the next VM.\n\nThis vulnerability doesn\'t apply to bare metal operations as\nvolumes are attached to whole baremetal nodes with Ironic.\n\nWe now generate and use a service token when interacting with\nCinder which allows cinder to recognize ""this request is\ncoming from a fellow OpenStack service"", and by-pass\nchecking with Nova if the ""instance"" is managed by Nova,\nor Not. This allows the volumes to be attached, and detached\nas needed as part of the power operation flow and overall\nset of lifecycle operations.\n\nRelated-Bug: 2004555\nCloses-Bug: 2019892\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n(cherry picked from commit 9c0b4c90a19fc1db262a942a1b6a1baafc881ccc)\n'}, {'number': 6, 'created': '2023-05-25 21:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a37754dd67b46f3e665158ca6709c3d4d8bfa926', 'message': 'DNM Fix Cinder Integration fallout from CVE-2023-2088\n\nIn the recent change to cinder, to address CVE-2023-2088,\ncinder changed the policy rules and behavior for unbinding,\nor ""detaching"" a volume. This was because of a vulnerability\nin compute nodes where a volume which was in use by a VM\ncould be detached outside of Nova, and nova wouldn\'t become\naware the volume was detached, and the volume could be accessible\nto the next VM.\n\nThis vulnerability doesn\'t apply to bare metal operations as\nvolumes are attached to whole baremetal nodes with Ironic.\n\nWe now generate and use a service token when interacting with\nCinder which allows cinder to recognize ""this request is\ncoming from a fellow OpenStack service"", and by-pass\nchecking with Nova if the ""instance"" is managed by Nova,\nor Not. This allows the volumes to be attached, and detached\nas needed as part of the power operation flow and overall\nset of lifecycle operations.\n\nRelated-Bug: 2004555\nCloses-Bug: 2019892\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n(cherry picked from commit 9c0b4c90a19fc1db262a942a1b6a1baafc881ccc)\n'}, {'number': 7, 'created': '2023-05-25 21:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cb7a9600e6f7aab6921a32f8ad2ae371d627d133', 'message': 'DNM Fix Cinder Integration fallout from CVE-2023-2088\n\nIn the recent change to cinder, to address CVE-2023-2088,\ncinder changed the policy rules and behavior for unbinding,\nor ""detaching"" a volume. This was because of a vulnerability\nin compute nodes where a volume which was in use by a VM\ncould be detached outside of Nova, and nova wouldn\'t become\naware the volume was detached, and the volume could be accessible\nto the next VM.\n\nThis vulnerability doesn\'t apply to bare metal operations as\nvolumes are attached to whole baremetal nodes with Ironic.\n\nWe now generate and use a service token when interacting with\nCinder which allows cinder to recognize ""this request is\ncoming from a fellow OpenStack service"", and by-pass\nchecking with Nova if the ""instance"" is managed by Nova,\nor Not. This allows the volumes to be attached, and detached\nas needed as part of the power operation flow and overall\nset of lifecycle operations.\n\nRelated-Bug: 2004555\nCloses-Bug: 2019892\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n(cherry picked from commit 9c0b4c90a19fc1db262a942a1b6a1baafc881ccc)\n'}, {'number': 8, 'created': '2023-05-26 17:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9b4500666a7c5d472d13fb866ea99202c1e8722b', 'message': 'Fix Cinder Integration fallout from CVE-2023-2088\n\nIn the recent change to cinder, to address CVE-2023-2088,\ncinder changed the policy rules and behavior for unbinding,\nor ""detaching"" a volume. This was because of a vulnerability\nin compute nodes where a volume which was in use by a VM\ncould be detached outside of Nova, and nova wouldn\'t become\naware the volume was detached, and the volume could be accessible\nto the next VM.\n\nThis vulnerability doesn\'t apply to bare metal operations as\nvolumes are attached to whole baremetal nodes with Ironic.\n\nWe now generate and use a service token when interacting with\nCinder which allows cinder to recognize ""this request is\ncoming from a fellow OpenStack service"", and by-pass\nchecking with Nova if the ""instance"" is managed by Nova,\nor Not. This allows the volumes to be attached, and detached\nas needed as part of the power operation flow and overall\nset of lifecycle operations.\n\nNote: This change is modified from the original upstream chnage\nbecuse that change leverages the ability for a project_id value\nto no longer be required in the cinder URL for interactions with\ncinder, which was a requirement removed in Yoga.\n\nRelated-Bug: 2004555\nCloses-Bug: 2019892\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n(cherry picked from commit 9c0b4c90a19fc1db262a942a1b6a1baafc881ccc)\n(cherry picked from commit cb38746f71f5dfa346371bf06985bbbb2208af6e)\n'}, {'number': 9, 'created': '2023-05-30 18:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/54ccbfae80c7c354774aa9dabb7a66da48dfae65', 'message': 'Fix Cinder Integration fallout from CVE-2023-2088\n\nIn the recent change to cinder, to address CVE-2023-2088,\ncinder changed the policy rules and behavior for unbinding,\nor ""detaching"" a volume. This was because of a vulnerability\nin compute nodes where a volume which was in use by a VM\ncould be detached outside of Nova, and nova wouldn\'t become\naware the volume was detached, and the volume could be accessible\nto the next VM.\n\nThis vulnerability doesn\'t apply to bare metal operations as\nvolumes are attached to whole baremetal nodes with Ironic.\n\nWe now generate and use a service token when interacting with\nCinder which allows cinder to recognize ""this request is\ncoming from a fellow OpenStack service"", and by-pass\nchecking with Nova if the ""instance"" is managed by Nova,\nor Not. This allows the volumes to be attached, and detached\nas needed as part of the power operation flow and overall\nset of lifecycle operations.\n\nNote: This change is modified from the original upstream chnage\nbecuse that change leverages the ability for a project_id value\nto no longer be required in the cinder URL for interactions with\ncinder, which was a requirement removed in Yoga.\n\nAdditional note: Disables the rescue testing on one of the wallaby\nbranch jobs. Essentially is is a tempest branching, or lack their\nof issue. Master branch ironic-tempest-plugin has a fix\nwhich doesn\'t exist on tempest 29.0.0.\n\nRelated-Bug: 2004555\nCloses-Bug: 2019892\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n(cherry picked from commit 9c0b4c90a19fc1db262a942a1b6a1baafc881ccc)\n(cherry picked from commit cb38746f71f5dfa346371bf06985bbbb2208af6e)\n'}, {'number': 10, 'created': '2023-05-30 22:30:28.000000000', 'files': ['ironic/common/keystone.py', 'zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'ironic/common/cinder.py', 'ironic/tests/unit/common/test_cinder.py', 'releasenotes/notes/cinder-2019892-6b5a9de5c5f05aa6.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fdaf396e88ac59a52d395ed075ddff8163a16473', 'message': 'Fix Cinder Integration fallout from CVE-2023-2088\n\nIn the recent change to cinder, to address CVE-2023-2088,\ncinder changed the policy rules and behavior for unbinding,\nor ""detaching"" a volume. This was because of a vulnerability\nin compute nodes where a volume which was in use by a VM\ncould be detached outside of Nova, and nova wouldn\'t become\naware the volume was detached, and the volume could be accessible\nto the next VM.\n\nThis vulnerability doesn\'t apply to bare metal operations as\nvolumes are attached to whole baremetal nodes with Ironic.\n\nWe now generate and use a service token when interacting with\nCinder which allows cinder to recognize ""this request is\ncoming from a fellow OpenStack service"", and by-pass\nchecking with Nova if the ""instance"" is managed by Nova,\nor Not. This allows the volumes to be attached, and detached\nas needed as part of the power operation flow and overall\nset of lifecycle operations.\n\nNote: This change is modified from the original upstream chnage\nbecuse that change leverages the ability for a project_id value\nto no longer be required in the cinder URL for interactions with\ncinder, which was a requirement removed in Yoga.\n\nAdditional note: Disables the rescue testing on one of the wallaby\nbranch jobs. Essentially is is a tempest branching, or lack their\nof issue. Master branch ironic-tempest-plugin has a fix\nwhich doesn\'t exist on tempest 29.0.0.\n\nRelated-Bug: 2004555\nCloses-Bug: 2019892\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n(cherry picked from commit 9c0b4c90a19fc1db262a942a1b6a1baafc881ccc)\n(cherry picked from commit cb38746f71f5dfa346371bf06985bbbb2208af6e)\n'}]",34,883581,fdaf396e88ac59a52d395ed075ddff8163a16473,50,5,10,11655,,,0,"Fix Cinder Integration fallout from CVE-2023-2088

In the recent change to cinder, to address CVE-2023-2088,
cinder changed the policy rules and behavior for unbinding,
or ""detaching"" a volume. This was because of a vulnerability
in compute nodes where a volume which was in use by a VM
could be detached outside of Nova, and nova wouldn't become
aware the volume was detached, and the volume could be accessible
to the next VM.

This vulnerability doesn't apply to bare metal operations as
volumes are attached to whole baremetal nodes with Ironic.

We now generate and use a service token when interacting with
Cinder which allows cinder to recognize ""this request is
coming from a fellow OpenStack service"", and by-pass
checking with Nova if the ""instance"" is managed by Nova,
or Not. This allows the volumes to be attached, and detached
as needed as part of the power operation flow and overall
set of lifecycle operations.

Note: This change is modified from the original upstream chnage
becuse that change leverages the ability for a project_id value
to no longer be required in the cinder URL for interactions with
cinder, which was a requirement removed in Yoga.

Additional note: Disables the rescue testing on one of the wallaby
branch jobs. Essentially is is a tempest branching, or lack their
of issue. Master branch ironic-tempest-plugin has a fix
which doesn't exist on tempest 29.0.0.

Related-Bug: 2004555
Closes-Bug: 2019892

Change-Id: Ib258bc9650496da989fc93b759b112d279c8b217
(cherry picked from commit 9c0b4c90a19fc1db262a942a1b6a1baafc881ccc)
(cherry picked from commit cb38746f71f5dfa346371bf06985bbbb2208af6e)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/81/883581/7 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/keystone.py', 'devstack/lib/ironic', 'ironic/common/cinder.py', 'ironic/tests/unit/common/test_cinder.py', 'releasenotes/notes/cinder-2019892-6b5a9de5c5f05aa6.yaml']",5,49453ef37775a6219e531c5084225a558daf13dc,,"--- fixes: - | Fixes Ironic integration with Cinder because of changes which resulted as part of the recent Security related fix in `bug 2004555 <https://launchpad.net/bugs/2004555>`_. The work in Ironic to track this fix was logged in `bug 2019892 <https://bugs.launchpad.net/ironic/+bug/2019892>`_. Ironic now sends a service token to Cinder, which allows for access restrictions added as part of the original CVE-2023-2088 fix to be appropriately bypassed. Ironic was not vulnerable, but the restrictions added as a result did impact Ironic's usage. This is because Ironic volume attachments are not on a shared ""compute node"", but instead mapped to the physical machines and Ironic handles the attachment life-cycle after initial attachment. ",,139,28
openstack%2Ftripleo-common~stable%2Fwallaby~Ifa8d0b22d85af73dc42873e177647784b9aa2293,openstack/tripleo-common,stable/wallaby,Ifa8d0b22d85af73dc42873e177647784b9aa2293,Add missing healthcheck scripts to designate containers,NEW,2023-06-01 16:52:43.000000000,2023-06-01 22:02:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-01 16:52:43.000000000', 'files': ['healthcheck/unbound', 'healthcheck/designate-backend-bind9', 'healthcheck/designate-producer', 'container-images/tcib/base/os/designate-base/designate-central/designate-central.yaml', 'healthcheck/designate-mdns', 'container-images/tcib/base/os/designate-base/designate-backend-bind9/designate-backend-bind9.yaml', 'healthcheck/designate-central', 'healthcheck/designate-worker', 'container-images/tcib/base/os/designate-base/designate-producer/designate-producer.yaml', 'container-images/tcib/base/os/designate-base/designate-api/designate-api.yaml', 'container-images/tcib/base/unbound/unbound.yaml', 'container-images/tcib/base/os/designate-base/designate-worker/designate-worker.yaml', 'container-images/tcib/base/os/designate-base/designate-mdns/designate-mdns.yaml', 'healthcheck/designate-api'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/11d4eefb04c1cb5b1b891ee6617da112d8f444eb', 'message': 'Add missing healthcheck scripts to designate containers\n\nThe designate containers are missing healthchecks affecting\nadministrator UX.\n\nChange-Id: Ifa8d0b22d85af73dc42873e177647784b9aa2293\n'}]",0,885075,11d4eefb04c1cb5b1b891ee6617da112d8f444eb,2,1,1,6681,,,0,"Add missing healthcheck scripts to designate containers

The designate containers are missing healthchecks affecting
administrator UX.

Change-Id: Ifa8d0b22d85af73dc42873e177647784b9aa2293
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/75/885075/1 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/unbound', 'healthcheck/designate-backend-bind9', 'healthcheck/designate-producer', 'container-images/tcib/base/os/designate-base/designate-central/designate-central.yaml', 'healthcheck/designate-mdns', 'container-images/tcib/base/os/designate-base/designate-backend-bind9/designate-backend-bind9.yaml', 'healthcheck/designate-central', 'healthcheck/designate-worker', 'container-images/tcib/base/os/designate-base/designate-producer/designate-producer.yaml', 'container-images/tcib/base/os/designate-base/designate-api/designate-api.yaml', 'container-images/tcib/base/unbound/unbound.yaml', 'container-images/tcib/base/os/designate-base/designate-worker/designate-worker.yaml', 'container-images/tcib/base/os/designate-base/designate-mdns/designate-mdns.yaml', 'healthcheck/designate-api']",14,11d4eefb04c1cb5b1b891ee6617da112d8f444eb,wallaby,#!/bin/bash . ${HEALTHCHECK_SCRIPTS:-/usr/share/openstack-tripleo-common/healthcheck}/common.sh check_url=$(get_url_from_vhost /etc/httpd/conf.d/10-designate_wsgi.conf) healthcheck_curl ${check_url} ,,97,0
openstack%2Fneutron~master~Id4ab755293627119455cbcd15602690c8ce7a3c1,openstack/neutron,master,Id4ab755293627119455cbcd15602690c8ce7a3c1,Implement ``get_subnets_address_scopes`` method,MERGED,2023-05-08 09:35:19.000000000,2023-06-01 21:31:58.000000000,2023-06-01 21:30:45.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 7730}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-08 09:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee65320a5ac766dafb7a9cb1baf6c14dd704d6d7', 'message': 'Implement ``get_subnets_address_scopes`` method\n\nThis patch implement a method to retrieve the IPv4 and IPv6\naddress scopes of several subnets, providing a list of fixed\nIP addresses that belong to a port.\n\nThe goal of this patch is to decouple the address scope retrieval\nfrom the logic that determines if an OVN LSP is virtual or not.\n\nRelated-Bug: #2018529\n\nChange-Id: Id4ab755293627119455cbcd15602690c8ce7a3c1\n'}, {'number': 2, 'created': '2023-05-08 11:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ba6778be7e98cbf6154f44ee2cdd2d8cfaddb25d', 'message': 'Implement ``get_subnets_address_scopes`` method\n\nThis patch implement a method to retrieve the IPv4 and IPv6\naddress scopes of several subnets, providing a list of fixed\nIP addresses that belong to a port.\n\nThe goal of this patch is to decouple the address scope retrieval\nfrom the logic that determines if an OVN LSP is virtual or not.\n\nRelated-Bug: #2018529\n\nChange-Id: Id4ab755293627119455cbcd15602690c8ce7a3c1\n'}, {'number': 3, 'created': '2023-05-09 09:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d5a453a82d187b22d3f24650eb11e4c1fc573fb2', 'message': 'Implement ``get_subnets_address_scopes`` method\n\nThis patch implement a method to retrieve the IPv4 and IPv6\naddress scopes of several subnets, providing a list of fixed\nIP addresses that belong to a port.\n\nThe goal of this patch is to decouple the address scope retrieval\nfrom the logic that determines if an OVN LSP is virtual or not.\n\nRelated-Bug: #2018529\n\nChange-Id: Id4ab755293627119455cbcd15602690c8ce7a3c1\n'}, {'number': 4, 'created': '2023-05-30 10:59:56.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/common/ovn/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a22b1dedc2fdc522e3079e2e7668c69f5246d784', 'message': 'Implement ``get_subnets_address_scopes`` method\n\nThis patch implement a method to retrieve the IPv4 and IPv6\naddress scopes of several subnets, providing a list of fixed\nIP addresses that belong to a port.\n\nThe goal of this patch is to decouple the address scope retrieval\nfrom the logic that determines if an OVN LSP is virtual or not.\n\nRelated-Bug: #2018529\n\nChange-Id: Id4ab755293627119455cbcd15602690c8ce7a3c1\n'}]",12,882540,a22b1dedc2fdc522e3079e2e7668c69f5246d784,31,8,4,16688,,,0,"Implement ``get_subnets_address_scopes`` method

This patch implement a method to retrieve the IPv4 and IPv6
address scopes of several subnets, providing a list of fixed
IP addresses that belong to a port.

The goal of this patch is to decouple the address scope retrieval
from the logic that determines if an OVN LSP is virtual or not.

Related-Bug: #2018529

Change-Id: Id4ab755293627119455cbcd15602690c8ce7a3c1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/882540/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/common/ovn/test_utils.py']",3,ee65320a5ac766dafb7a9cb1baf6c14dd704d6d7,bug/2018529,"from neutron_lib import exceptions as n_exc class GetSubnetsAddressScopeTestCase(base.BaseTestCase): def setUp(self): super().setUp() self.ml2_plugin = mock.Mock() def test_no_subnets(self): subnets = [] fixed_ips = mock.ANY address4, address6 = utils.get_subnets_address_scopes( mock.ANY, subnets, fixed_ips, self.ml2_plugin) self.assertEqual(('', ''), (address4, address6)) def test_no_subnetpool(self): subnets = [ {'id': 'subnet1', 'subnetpool_id': None}, {'id': 'subnet2', 'subnetpool_id': None}, ] fixed_ips = [ {'subnet_id': 'subnet1'}, {'subnet_id': 'subnet2'}, ] address4, address6 = utils.get_subnets_address_scopes( mock.ANY, subnets, fixed_ips, self.ml2_plugin) self.assertEqual(('', ''), (address4, address6)) def test_no_address_scope(self): subnets = [ {'id': 'subnet1', 'subnetpool_id': 'pool_ipv4'}, {'id': 'subnet2', 'subnetpool_id': 'pool_ipv6'}, ] fixed_ips = [ {'subnet_id': 'subnet1'}, {'subnet_id': 'subnet2'}, ] self.ml2_plugin.get_subnetpool.side_effect = n_exc.SubnetPoolNotFound( subnetpool_id='snp') address4, address6 = utils.get_subnets_address_scopes( mock.ANY, subnets, fixed_ips, self.ml2_plugin) self.assertEqual(('', ''), (address4, address6)) def test_address_scope(self): subnets = [ {'id': 'subnet1', 'subnetpool_id': 'pool_ipv4'}, {'id': 'subnet2', 'subnetpool_id': 'pool_ipv6'}, ] fixed_ips = [ {'subnet_id': 'subnet1'}, {'subnet_id': 'subnet2'}, ] self.ml2_plugin.get_subnetpool.side_effect = [ {'address_scope_id': 'scope4', 'ip_version': n_const.IP_VERSION_4}, {'address_scope_id': 'scope6', 'ip_version': n_const.IP_VERSION_6}, ] address4, address6 = utils.get_subnets_address_scopes( mock.ANY, subnets, fixed_ips, self.ml2_plugin) self.assertEqual(('scope4', 'scope6'), (address4, address6))",,105,20
openstack%2Fironic~stable%2Fxena~Ib258bc9650496da989fc93b759b112d279c8b217,openstack/ironic,stable/xena,Ib258bc9650496da989fc93b759b112d279c8b217,Fix Cinder Integration fallout from CVE-2023-2088,MERGED,2023-05-19 13:45:47.000000000,2023-06-01 21:30:43.000000000,2023-06-01 21:29:14.000000000,"[{'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-19 13:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/465f9af16641cf9bb5b36533fd14d8b8a6df7571', 'message': 'Fix Cinder Integration fallout from CVE-2023-2088\n\nIn the recent change to cinder, to address CVE-2023-2088,\ncinder changed the policy rules and behavior for unbinding,\nor ""detaching"" a volume. This was because of a vulnerability\nin compute nodes where a volume which was in use by a VM\ncould be detached outside of Nova, and nova wouldn\'t become\naware the volume was detached, and the volume could be accessible\nto the next VM.\n\nThis vulnerability doesn\'t apply to bare metal operations as\nvolumes are attached to whole baremetal nodes with Ironic.\n\nWe now generate and use a service token when interacting with\nCinder which allows cinder to recognize ""this request is\ncoming from a fellow OpenStack service"", and by-pass\nchecking with Nova if the ""instance"" is managed by Nova,\nor Not. This allows the volumes to be attached, and detached\nas needed as part of the power operation flow and overall\nset of lifecycle operations.\n\nRelated-Bug: 2004555\nCloses-Bug: 2019892\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n(cherry picked from commit 9c0b4c90a19fc1db262a942a1b6a1baafc881ccc)\n'}, {'number': 2, 'created': '2023-05-26 14:32:38.000000000', 'files': ['ironic/common/keystone.py', 'devstack/lib/ironic', 'ironic/common/cinder.py', 'ironic/tests/unit/common/test_cinder.py', 'releasenotes/notes/cinder-2019892-6b5a9de5c5f05aa6.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/cb38746f71f5dfa346371bf06985bbbb2208af6e', 'message': 'Fix Cinder Integration fallout from CVE-2023-2088\n\nIn the recent change to cinder, to address CVE-2023-2088,\ncinder changed the policy rules and behavior for unbinding,\nor ""detaching"" a volume. This was because of a vulnerability\nin compute nodes where a volume which was in use by a VM\ncould be detached outside of Nova, and nova wouldn\'t become\naware the volume was detached, and the volume could be accessible\nto the next VM.\n\nThis vulnerability doesn\'t apply to bare metal operations as\nvolumes are attached to whole baremetal nodes with Ironic.\n\nWe now generate and use a service token when interacting with\nCinder which allows cinder to recognize ""this request is\ncoming from a fellow OpenStack service"", and by-pass\nchecking with Nova if the ""instance"" is managed by Nova,\nor Not. This allows the volumes to be attached, and detached\nas needed as part of the power operation flow and overall\nset of lifecycle operations.\n\nNote: This change is modified from the original upstream chnage\nbecuse that change leverages the ability for a project_id value\nto no longer be required in the cinder URL for interactions with\ncinder, which was a requirement removed in Yoga.\n\nRelated-Bug: 2004555\nCloses-Bug: 2019892\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n(cherry picked from commit 9c0b4c90a19fc1db262a942a1b6a1baafc881ccc)\n'}]",6,883580,cb38746f71f5dfa346371bf06985bbbb2208af6e,37,3,2,11655,,,0,"Fix Cinder Integration fallout from CVE-2023-2088

In the recent change to cinder, to address CVE-2023-2088,
cinder changed the policy rules and behavior for unbinding,
or ""detaching"" a volume. This was because of a vulnerability
in compute nodes where a volume which was in use by a VM
could be detached outside of Nova, and nova wouldn't become
aware the volume was detached, and the volume could be accessible
to the next VM.

This vulnerability doesn't apply to bare metal operations as
volumes are attached to whole baremetal nodes with Ironic.

We now generate and use a service token when interacting with
Cinder which allows cinder to recognize ""this request is
coming from a fellow OpenStack service"", and by-pass
checking with Nova if the ""instance"" is managed by Nova,
or Not. This allows the volumes to be attached, and detached
as needed as part of the power operation flow and overall
set of lifecycle operations.

Note: This change is modified from the original upstream chnage
becuse that change leverages the ability for a project_id value
to no longer be required in the cinder URL for interactions with
cinder, which was a requirement removed in Yoga.

Related-Bug: 2004555
Closes-Bug: 2019892

Change-Id: Ib258bc9650496da989fc93b759b112d279c8b217
(cherry picked from commit 9c0b4c90a19fc1db262a942a1b6a1baafc881ccc)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/80/883580/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/keystone.py', 'devstack/lib/ironic', 'ironic/common/cinder.py', 'ironic/tests/unit/common/test_cinder.py', 'releasenotes/notes/cinder-2019892-6b5a9de5c5f05aa6.yaml']",5,465f9af16641cf9bb5b36533fd14d8b8a6df7571,,"--- fixes: - | Fixes Ironic integration with Cinder because of changes which resulted as part of the recent Security related fix in `bug 2004555 <https://launchpad.net/bugs/2004555>`_. The work in Ironic to track this fix was logged in `bug 2019892 <https://bugs.launchpad.net/ironic/+bug/2019892>`_. Ironic now sends a service token to Cinder, which allows for access restrictions added as part of the original CVE-2023-2088 fix to be appropriately bypassed. Ironic was not vulnerable, but the restrictions added as a result did impact Ironic's usage. This is because Ironic volume attachments are not on a shared ""compute node"", but instead mapped to the physical machines and Ironic handles the attachment life-cycle after initial attachment. ",,139,28
openstack%2Frequirements~master~I5c1f33310a26d0aebaa5ad62b62486dd5c9cbfad,openstack/requirements,master,I5c1f33310a26d0aebaa5ad62b62486dd5c9cbfad,update constraint for oslo.messaging to new release 14.3.1,MERGED,2023-06-01 15:14:21.000000000,2023-06-01 20:59:28.000000000,2023-06-01 20:58:18.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 15:14:21.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d175db9c82db9c2018ceefe5d7dde6795ab02218', 'message': 'update constraint for oslo.messaging to new release 14.3.1\n\nmeta: version: 14.3.1\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Icbc5e11701f98139b60ae2bf4d06359ae2093721\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I5c1f33310a26d0aebaa5ad62b62486dd5c9cbfad\n'}]",0,885061,d175db9c82db9c2018ceefe5d7dde6795ab02218,7,2,1,11131,,,0,"update constraint for oslo.messaging to new release 14.3.1

meta: version: 14.3.1
meta: diff-start: -
meta: series: bobcat
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Icbc5e11701f98139b60ae2bf4d06359ae2093721
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I5c1f33310a26d0aebaa5ad62b62486dd5c9cbfad
",git fetch https://review.opendev.org/openstack/requirements refs/changes/61/885061/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d175db9c82db9c2018ceefe5d7dde6795ab02218,new-release,oslo.messaging===14.3.1,oslo.messaging===14.3.0,1,1
openstack%2Frequirements~stable%2Fzed~I07e94e7b62ee04e675e85b7b80fbd91a5e6adebb,openstack/requirements,stable/zed,I07e94e7b62ee04e675e85b7b80fbd91a5e6adebb,update constraint for oslo.utils to new release 6.0.2,MERGED,2023-06-01 15:36:51.000000000,2023-06-01 20:58:26.000000000,2023-06-01 20:58:26.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 15:36:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/89ba57a14e8827971c7ea15b3a506a9f3ff674e4', 'message': 'update constraint for oslo.utils to new release 6.0.2\n\nmeta: version: 6.0.2\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ic20b8ca7832ad514ceb87819a7f94b5a344aa5bc\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nChange-Id: I07e94e7b62ee04e675e85b7b80fbd91a5e6adebb\n'}]",0,885069,89ba57a14e8827971c7ea15b3a506a9f3ff674e4,7,2,1,11131,,,0,"update constraint for oslo.utils to new release 6.0.2

meta: version: 6.0.2
meta: diff-start: -
meta: series: zed
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ic20b8ca7832ad514ceb87819a7f94b5a344aa5bc
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
Change-Id: I07e94e7b62ee04e675e85b7b80fbd91a5e6adebb
",git fetch https://review.opendev.org/openstack/requirements refs/changes/69/885069/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,89ba57a14e8827971c7ea15b3a506a9f3ff674e4,new-release,oslo.utils===6.0.2,oslo.utils===6.0.1,1,1
openstack%2Frequirements~stable%2Fzed~Iceef42da35c47ea4fc8924884d209dd0d5935e1c,openstack/requirements,stable/zed,Iceef42da35c47ea4fc8924884d209dd0d5935e1c,update constraint for oslo.metrics to new release 0.5.1,MERGED,2023-06-01 15:31:54.000000000,2023-06-01 20:58:23.000000000,2023-06-01 20:58:23.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 15:31:54.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/31a4e489146648a1e1ef7c07582b5b9ced2f8c15', 'message': 'update constraint for oslo.metrics to new release 0.5.1\n\nmeta: version: 0.5.1\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ic20b8ca7832ad514ceb87819a7f94b5a344aa5bc\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nChange-Id: Iceef42da35c47ea4fc8924884d209dd0d5935e1c\n'}]",0,885068,31a4e489146648a1e1ef7c07582b5b9ced2f8c15,7,2,1,11131,,,0,"update constraint for oslo.metrics to new release 0.5.1

meta: version: 0.5.1
meta: diff-start: -
meta: series: zed
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ic20b8ca7832ad514ceb87819a7f94b5a344aa5bc
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
Change-Id: Iceef42da35c47ea4fc8924884d209dd0d5935e1c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/68/885068/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,31a4e489146648a1e1ef7c07582b5b9ced2f8c15,new-release,oslo.metrics===0.5.1,oslo.metrics===0.5.0,1,1
openstack%2Frequirements~stable%2Fzed~I0d7a517598871ff1d6848840b9888f95d8b27f48,openstack/requirements,stable/zed,I0d7a517598871ff1d6848840b9888f95d8b27f48,update constraint for oslo.db to new release 12.1.1,MERGED,2023-06-01 15:31:27.000000000,2023-06-01 20:58:21.000000000,2023-06-01 20:58:21.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 15:31:27.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9b684e74405dfb416c49b9a0cb0f7fbc38ae6021', 'message': 'update constraint for oslo.db to new release 12.1.1\n\nmeta: version: 12.1.1\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ic20b8ca7832ad514ceb87819a7f94b5a344aa5bc\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nChange-Id: I0d7a517598871ff1d6848840b9888f95d8b27f48\n'}]",0,885067,9b684e74405dfb416c49b9a0cb0f7fbc38ae6021,7,2,1,11131,,,0,"update constraint for oslo.db to new release 12.1.1

meta: version: 12.1.1
meta: diff-start: -
meta: series: zed
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ic20b8ca7832ad514ceb87819a7f94b5a344aa5bc
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
Change-Id: I0d7a517598871ff1d6848840b9888f95d8b27f48
",git fetch https://review.opendev.org/openstack/requirements refs/changes/67/885067/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9b684e74405dfb416c49b9a0cb0f7fbc38ae6021,new-release,oslo.db===12.1.1,oslo.db===12.1.0,1,1
openstack%2Foslo.utils~master~I9aa51df4825ffbe87598feb06821e8984cacd461,openstack/oslo.utils,master,I9aa51df4825ffbe87598feb06821e8984cacd461,strutils: update string_to_bytes,MERGED,2023-05-31 17:43:15.000000000,2023-06-01 20:53:11.000000000,2023-06-01 20:52:08.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-05-31 17:43:15.000000000', 'files': ['oslo_utils/tests/test_strutils.py', 'oslo_utils/strutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/c08e46d5ba780791e39a69444b6a9ae6f9e3906c', 'message': 'strutils: update string_to_bytes\n\nUpdate the string_to_bytes function to support current IEC/SI prefixes.\n\nChange-Id: I9aa51df4825ffbe87598feb06821e8984cacd461\n'}]",1,884915,c08e46d5ba780791e39a69444b6a9ae6f9e3906c,12,3,1,5314,,,0,"strutils: update string_to_bytes

Update the string_to_bytes function to support current IEC/SI prefixes.

Change-Id: I9aa51df4825ffbe87598feb06821e8984cacd461
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/15/884915/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/tests/test_strutils.py', 'oslo_utils/strutils.py']",2,c08e46d5ba780791e39a69444b6a9ae6f9e3906c,cgpm-27," 'P': 5, 'Pi': 5, 'E': 6, 'Ei': 6, 'Z': 7, 'Zi': 7, 'Y': 8, 'Yi': 8, 'R': 9, 'Ri': 9, 'Q': 10, 'Qi': 10, 'IEC': (1024, re.compile(r'(^[-+]?\d*\.?\d+)([KMGTPEZYRQ]i?)?(b|bit|B)$')), 'SI': (1000, re.compile(r'(^[-+]?\d*\.?\d+)([kMGTPEZYRQ])?(b|bit|B)$')), 'mixed': (None, re.compile( r'(^[-+]?\d*\.?\d+)([kKMGTPEZYRQ]i?)?(b|bit|B)$')), Kb(it), Kib(it), Mb(it), Mib(it), Gb(it), Gib(it), Tb(it), Tib(it), Pb(it), Pib(it), Eb(it), Eib(it), Zb(it), Zib(it), Yb(it), Yib(it), Rb(it), Rib(it), Qb(it), Qib(it) KB, KiB, MB, MiB, GB, GiB, TB, TiB, PB, PiB, EB, EiB, ZB, ZiB, YB, YiB, RB, RiB, QB, QiB kb(it), Mb(it), Gb(it), Tb(it), Pb(it), Eb(it), Zb(it), Yb(it), Rb(it), Qb(it) kB, MB, GB, TB, PB, EB, ZB, YB, RB, QB"," 'IEC': (1024, re.compile(r'(^[-+]?\d*\.?\d+)([KMGT]i?)?(b|bit|B)$')), 'SI': (1000, re.compile(r'(^[-+]?\d*\.?\d+)([kMGT])?(b|bit|B)$')), 'mixed': (None, re.compile(r'(^[-+]?\d*\.?\d+)([kKMGT]i?)?(b|bit|B)$')), Kb(it), Kib(it), Mb(it), Mib(it), Gb(it), Gib(it), Tb(it), Tib(it) KB, KiB, MB, MiB, GB, GiB, TB, TiB kb(it), Mb(it), Gb(it), Tb(it) kB, MB, GB, TB",38,7
openstack%2Frequirements~stable%2Fyoga~I68e03ee5533b6e88b2dbb9cb5289577433eb7d4d,openstack/requirements,stable/yoga,I68e03ee5533b6e88b2dbb9cb5289577433eb7d4d,update constraint for ceilometer to new release 18.1.0,MERGED,2023-06-01 12:35:09.000000000,2023-06-01 20:31:05.000000000,2023-06-01 20:31:05.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-01 12:35:09.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b30d68b4306f8e4d411794279505f2593f9e3be3', 'message': 'update constraint for ceilometer to new release 18.1.0\n\nmeta: version: 18.1.0\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Edward Hope-Morley <edward.hope-morley@canonical.com>\nmeta: release:Commit: Edward Hope-Morley <edward.hope-morley@canonical.com>\nmeta: release:Change-Id: I7b34137384b8fc7f93807897f9937e8ee49c01fe\nmeta: release:Code-Review+1: Matthias Runge <mrunge@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nChange-Id: I68e03ee5533b6e88b2dbb9cb5289577433eb7d4d\n'}]",0,885043,b30d68b4306f8e4d411794279505f2593f9e3be3,8,3,1,11131,,,0,"update constraint for ceilometer to new release 18.1.0

meta: version: 18.1.0
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
meta: release:Commit: Edward Hope-Morley <edward.hope-morley@canonical.com>
meta: release:Change-Id: I7b34137384b8fc7f93807897f9937e8ee49c01fe
meta: release:Code-Review+1: Matthias Runge <mrunge@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
Change-Id: I68e03ee5533b6e88b2dbb9cb5289577433eb7d4d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/43/885043/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b30d68b4306f8e4d411794279505f2593f9e3be3,new-release,ceilometer===18.1.0,ceilometer===18.0.0,1,1
openstack%2Frequirements~stable%2Fzed~I805111a48cf5a12a5a2078dd9f6b9624e0c5bd77,openstack/requirements,stable/zed,I805111a48cf5a12a5a2078dd9f6b9624e0c5bd77,update constraint for ceilometer to new release 19.1.0,MERGED,2023-06-01 12:28:19.000000000,2023-06-01 20:31:01.000000000,2023-06-01 20:31:01.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-01 12:28:19.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/12174a9911ca0bd62017e41461726d1294ec41e3', 'message': 'update constraint for ceilometer to new release 19.1.0\n\nmeta: version: 19.1.0\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Edward Hope-Morley <edward.hope-morley@canonical.com>\nmeta: release:Commit: Edward Hope-Morley <edward.hope-morley@canonical.com>\nmeta: release:Change-Id: I7b34137384b8fc7f93807897f9937e8ee49c01fe\nmeta: release:Code-Review+1: Matthias Runge <mrunge@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nChange-Id: I805111a48cf5a12a5a2078dd9f6b9624e0c5bd77\n'}]",0,885042,12174a9911ca0bd62017e41461726d1294ec41e3,8,3,1,11131,,,0,"update constraint for ceilometer to new release 19.1.0

meta: version: 19.1.0
meta: diff-start: -
meta: series: zed
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
meta: release:Commit: Edward Hope-Morley <edward.hope-morley@canonical.com>
meta: release:Change-Id: I7b34137384b8fc7f93807897f9937e8ee49c01fe
meta: release:Code-Review+1: Matthias Runge <mrunge@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
Change-Id: I805111a48cf5a12a5a2078dd9f6b9624e0c5bd77
",git fetch https://review.opendev.org/openstack/requirements refs/changes/42/885042/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,12174a9911ca0bd62017e41461726d1294ec41e3,new-release,ceilometer===19.1.0,ceilometer===19.0.0,1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I9d3ce30ab0a753af056bb826c093e4f15fe3b07a,openstack/tripleo-ansible,stable/train,I9d3ce30ab0a753af056bb826c093e4f15fe3b07a,Set grafana VIP to the same CephDashboard network,MERGED,2023-05-09 08:36:09.000000000,2023-06-01 20:24:28.000000000,2023-06-01 20:24:28.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 34598}]","[{'number': 1, 'created': '2023-05-09 08:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2dc123b3e275c5dc44434409dcd21c2f03c977f3', 'message': 'Set grafana VIP to the same CephDashboard network\n\nWe have the ability to expose the CephDashboard in networks different\nthan ctlplane and StorageDashboard (the dedicated composable network).\nFor this reason we need to make sure the grafana_vip set in the Ceph\ncluster by ceph-ansible [1] points to the same network where the\nCephDashboard is exposed.\nThis patch fixes the logic where the parameter is set and rendered.\n\nChange-Id: I9d3ce30ab0a753af056bb826c093e4f15fe3b07a\n'}, {'number': 2, 'created': '2023-05-09 08:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fbaab57f3d79250a7cf055d4e86802a78fc3983d', 'message': 'Set grafana VIP to the same CephDashboard network\n\nWe have the ability to expose the CephDashboard in networks different\nthan ctlplane and StorageDashboard (the dedicated composable network).\nFor this reason we need to make sure the grafana_vip set in the Ceph\ncluster by ceph-ansible [1] points to the same network where the\nCephDashboard is exposed.\nThis patch fixes the logic that sets the grafana vip parameter.\n\nChange-Id: I9d3ce30ab0a753af056bb826c093e4f15fe3b07a\n'}, {'number': 3, 'created': '2023-05-09 11:12:23.000000000', 'files': ['tripleo_ansible/roles/tripleo-ceph-work-dir/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8ad5ec2773924e23f51c7a84725a4737f69342cd', 'message': 'Set grafana VIP to the same CephDashboard network\n\nWe have the ability to expose the CephDashboard in networks different\nthan ctlplane and StorageDashboard (the dedicated composable network).\nFor this reason we need to make sure the grafana_vip set in the Ceph\ncluster by ceph-ansible [1] points to the same network where the\nCephDashboard is exposed.\nThis patch fixes the logic that sets the grafana vip parameter.\n\nChange-Id: I9d3ce30ab0a753af056bb826c093e4f15fe3b07a\n'}]",2,882677,8ad5ec2773924e23f51c7a84725a4737f69342cd,10,5,3,25402,,,0,"Set grafana VIP to the same CephDashboard network

We have the ability to expose the CephDashboard in networks different
than ctlplane and StorageDashboard (the dedicated composable network).
For this reason we need to make sure the grafana_vip set in the Ceph
cluster by ceph-ansible [1] points to the same network where the
CephDashboard is exposed.
This patch fixes the logic that sets the grafana vip parameter.

Change-Id: I9d3ce30ab0a753af056bb826c093e4f15fe3b07a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/77/882677/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-ceph-work-dir/tasks/prepare.yml'],1,2dc123b3e275c5dc44434409dcd21c2f03c977f3,," {% dashboard_net = service_net_map.get('ceph_dashboard_network', 'ctlplane') %} {% dashboard_vip = net_vip_map.get(dashboard_net) %}", {% if 'StorageDashboard' in enabled_networks %} {% set dashboard_vip = net_vip_map.get('storage_dashboard') %} {% endif %},2,3
openstack%2Fironic-lib~stable%2Ftrain~I0139b25c57f3327d3c8e0eb96d9d82f9b4208130,openstack/ironic-lib,stable/train,I0139b25c57f3327d3c8e0eb96d9d82f9b4208130,"Remove now-dead CoreOS job, non-passing jobs",MERGED,2023-05-30 16:39:03.000000000,2023-06-01 20:17:36.000000000,2023-06-01 20:15:20.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-05-30 16:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/424aa9133796f40ff33e5d79a19f164e76a10883', 'message': 'Remove now-dead CoreOS job\n\nChange-Id: I0139b25c57f3327d3c8e0eb96d9d82f9b4208130\n'}, {'number': 2, 'created': '2023-05-30 20:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/4c1b74cd3b213d4de3651450f5963b8173b5d176', 'message': 'Remove now-dead CoreOS job\n\nChange-Id: I0139b25c57f3327d3c8e0eb96d9d82f9b4208130\n'}, {'number': 3, 'created': '2023-05-30 22:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/6ec0b2c2f49669c82de1f6a24a8f9e6df089996d', 'message': 'Remove now-dead CoreOS job\n\nChange-Id: I0139b25c57f3327d3c8e0eb96d9d82f9b4208130\n'}, {'number': 4, 'created': '2023-05-30 22:14:44.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/374b849db2aaef18f721130bb0901fb4c195ec8f', 'message': 'Remove now-dead CoreOS job, non-passing jobs\n\nThere has been no attempt to get any of these jobs passing.\n\nChange-Id: I0139b25c57f3327d3c8e0eb96d9d82f9b4208130\n'}]",2,884722,374b849db2aaef18f721130bb0901fb4c195ec8f,14,3,4,10342,,,0,"Remove now-dead CoreOS job, non-passing jobs

There has been no attempt to get any of these jobs passing.

Change-Id: I0139b25c57f3327d3c8e0eb96d9d82f9b4208130
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/22/884722/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,424aa9133796f40ff33e5d79a19f164e76a10883,,, - ironic-python-agent-buildimage-coreos,0,1
openstack%2Fopenstack-helm-infra~master~I13b1671121658b1390d89beabacfd15a24b19afe,openstack/openstack-helm-infra,master,I13b1671121658b1390d89beabacfd15a24b19afe,[helm] Upgrade Helm to version 3.12.0,MERGED,2023-06-01 14:26:31.000000000,2023-06-01 20:12:07.000000000,2023-06-01 20:11:06.000000000,"[{'_account_id': 3009}, {'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 32190}, {'_account_id': 33330}, {'_account_id': 34821}]","[{'number': 1, 'created': '2023-06-01 14:26:31.000000000', 'files': ['roles/build-helm-packages/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bf95238dc134d6e7eaa4c703cf78ae5841bb21d2', 'message': '[helm] Upgrade Helm to version 3.12.0\n\nHelm version 3 is needed for upcoming features, notably the\nrook-helm charts to manage Ceph via Rook require Helm v3. This\nchange updates Helm in openstack-helm-infra to 3.12.0.\n\nChange-Id: I13b1671121658b1390d89beabacfd15a24b19afe\n'}]",4,885055,bf95238dc134d6e7eaa4c703cf78ae5841bb21d2,13,7,1,29974,,,0,"[helm] Upgrade Helm to version 3.12.0

Helm version 3 is needed for upcoming features, notably the
rook-helm charts to manage Ceph via Rook require Helm v3. This
change updates Helm in openstack-helm-infra to 3.12.0.

Change-Id: I13b1671121658b1390d89beabacfd15a24b19afe
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/55/885055/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-helm-packages/defaults/main.yml'],1,bf95238dc134d6e7eaa4c703cf78ae5841bb21d2,helm-upgrade, helm: v3.12.0, helm: v2.17.0,1,1
openstack%2Fnetworking-odl~stable%2Fvictoria~Icff1b5737b4d2c52ead48e3700de668038f3c5c1,openstack/networking-odl,stable/victoria,Icff1b5737b4d2c52ead48e3700de668038f3c5c1,Remove periodic-stable-jobs template,MERGED,2023-05-24 12:41:38.000000000,2023-06-01 19:45:17.000000000,2023-06-01 19:43:11.000000000,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 12:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9fd3260e979ca63dd6179402fac0f2f6e4bfffff', 'message': 'Remove periodic-stable-jobs template\n\nnetworking-odl is about to become deprecated [1] (furthermore, periodic\nstable jobs on yoga and older branches are failing for long time), so\nit is unnecessary to run periodic stable jobs against networking-odl\nanymore.\n\n[1] https://review.opendev.org/c/openstack/governance/+/884002\n\nChange-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1\n(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)\n(cherry picked from commit 439a2437385a9a948ccec234d79f63e7422b9fae)\n(cherry picked from commit 9b01ad6c9d391cd9da97d27f7f5e402eecd4a239)\n(cherry picked from commit 29a53d72c54ac29dd9bf765f0bb0681a8e93fa7d)\n(cherry picked from commit 7bbef0e1fecb9a988b6e59f10b41144ef7e7933c)\n(cherry picked from commit 48e73900d0f359877a98874686e8f4371d212e9c)\n'}, {'number': 2, 'created': '2023-06-01 18:54:02.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/613a8b0d44bfa4fff62a1c274e879795be446602', 'message': 'Remove periodic-stable-jobs template\n\nnetworking-odl is about to become deprecated [1] (furthermore, periodic\nstable jobs on yoga and older branches are failing for long time), so\nit is unnecessary to run periodic stable jobs against networking-odl\nanymore.\n\n[1] https://review.opendev.org/c/openstack/governance/+/884002\n\nChange-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1\n(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)\n(cherry picked from commit 439a2437385a9a948ccec234d79f63e7422b9fae)\n(cherry picked from commit 9b01ad6c9d391cd9da97d27f7f5e402eecd4a239)\n(cherry picked from commit 29a53d72c54ac29dd9bf765f0bb0681a8e93fa7d)\n(cherry picked from commit 7bbef0e1fecb9a988b6e59f10b41144ef7e7933c)\n(cherry picked from commit 48e73900d0f359877a98874686e8f4371d212e9c)\n'}]",0,884193,613a8b0d44bfa4fff62a1c274e879795be446602,9,2,2,17685,,,0,"Remove periodic-stable-jobs template

networking-odl is about to become deprecated [1] (furthermore, periodic
stable jobs on yoga and older branches are failing for long time), so
it is unnecessary to run periodic stable jobs against networking-odl
anymore.

[1] https://review.opendev.org/c/openstack/governance/+/884002

Change-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1
(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)
(cherry picked from commit 439a2437385a9a948ccec234d79f63e7422b9fae)
(cherry picked from commit 9b01ad6c9d391cd9da97d27f7f5e402eecd4a239)
(cherry picked from commit 29a53d72c54ac29dd9bf765f0bb0681a8e93fa7d)
(cherry picked from commit 7bbef0e1fecb9a988b6e59f10b41144ef7e7933c)
(cherry picked from commit 48e73900d0f359877a98874686e8f4371d212e9c)
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/93/884193/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,9fd3260e979ca63dd6179402fac0f2f6e4bfffff,remove-odl-periodic-stable,, - periodic-stable-jobs-neutron,0,1
openstack%2Fnetworking-odl~stable%2Fvictoria~I3409272ce0fb9e1033f1621ac1d7db0a2b5d73c3,openstack/networking-odl,stable/victoria,I3409272ce0fb9e1033f1621ac1d7db0a2b5d73c3,Fix tox4 issues and define project upper constraints,MERGED,2023-06-01 14:24:01.000000000,2023-06-01 19:39:00.000000000,2023-06-01 19:37:00.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 14:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a3066c24ce6c27a1bfa6b216d4420c305a789c53', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThe grenade, functional and tempest jobs (broken for a long time), are\nalso removed from the CI queues and their definitions.\n\nRelated-Bug: #1999558\nChange-Id: I3409272ce0fb9e1033f1621ac1d7db0a2b5d73c3\n'}, {'number': 2, 'created': '2023-06-01 15:23:05.000000000', 'files': ['.zuul.d/project.yaml', 'doc/requirements.txt', '.zuul.d/jobs.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/7453b034b5f57969bb6980df05373ac8b8e01f9d', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThe grenade, functional and tempest jobs (broken for a long time), are\nalso removed from the CI queues and their definitions.\n\nRelated-Bug: #1999558\nChange-Id: I3409272ce0fb9e1033f1621ac1d7db0a2b5d73c3\n'}]",0,885054,7453b034b5f57969bb6980df05373ac8b8e01f9d,10,4,2,16688,,,0,"Fix tox4 issues and define project upper constraints

With tox4 allowlist_externals is more strictly checked, so
fix it where necessary and fix pylint version.

This patch also adds the needed versions for the development environment
projects, specifying the maximum version supported in this release.

The grenade, functional and tempest jobs (broken for a long time), are
also removed from the CI queues and their definitions.

Related-Bug: #1999558
Change-Id: I3409272ce0fb9e1033f1621ac1d7db0a2b5d73c3
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/54/885054/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', 'doc/requirements.txt', '.zuul.d/jobs.yaml', 'tox.ini']",4,a3066c24ce6c27a1bfa6b216d4420c305a789c53,bug/1999558,"skipsdist = False ignore_basepython_conflict = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_FAIL_ON_MISSING_DEPS OS_POST_MORTEM_DEBUGGER TRACE_FAILONLY OS_TEST_DBAPI_ADMIN_CONNECTION OS_DEBUGdeps = {[testenv]deps} {toxinidir}/tools/coding-checks.ini pip install -q -e ""git+https://opendev.org/x/networking-l2gw@victoria#egg=networking_l2gw"" pip install -q -e ""git+https://opendev.org/openstack/networking-bgpvpn@victoria#egg=networking_bgpvpn"" pip install -q -e ""git+https://opendev.org/openstack/networking-sfc@victoria#egg=networking_sfc"" pip install -q -e ""git+https://opendev.org/openstack/ceilometer@victoria#egg=ceilometer"" pip install -q -e ""git+https://opendev.org/openstack/neutron@victoria#egg=neutron""","skipsdist = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_FAIL_ON_MISSING_DEPS OS_POST_MORTEM_DEBUGGER TRACE_FAILONLY OS_TEST_DBAPI_ADMIN_CONNECTION OS_DEBUGdeps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -r{toxinidir}/requirements.txt -r{toxinidir}/networking_odl/tests/functional/requirements.txt pip install -q -e ""git+https://opendev.org/x/networking-l2gw#egg=networking_l2gw"" pip install -q -e ""git+https://opendev.org/openstack/networking-bgpvpn#egg=networking_bgpvpn"" pip install -q -e ""git+https://opendev.org/openstack/networking-sfc#egg=networking_sfc"" pip install -q -e ""git+https://opendev.org/openstack/ceilometer#egg=ceilometer"" pip install -q -e ""git+https://opendev.org/openstack/neutron#egg=neutron""",109,277
openstack%2Fneutron~master~Iffab13b68bcd875cf3d3d1db2be2d44d96bf3663,openstack/neutron,master,Iffab13b68bcd875cf3d3d1db2be2d44d96bf3663,"Raise the timeout of ""neutron-ovn-rally-task"" to 9000",MERGED,2023-06-01 12:58:36.000000000,2023-06-01 19:26:28.000000000,2023-06-01 19:21:37.000000000,"[{'_account_id': 1131}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2023-06-01 12:58:36.000000000', 'files': ['zuul.d/rally.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b6ce7223244cd27cc620985ef88ada8ff8d48be5', 'message': 'Raise the timeout of ""neutron-ovn-rally-task"" to 9000\n\nCloses-Bug: #2022070\nChange-Id: Iffab13b68bcd875cf3d3d1db2be2d44d96bf3663\n'}]",2,885045,b6ce7223244cd27cc620985ef88ada8ff8d48be5,10,5,1,16688,,,0,"Raise the timeout of ""neutron-ovn-rally-task"" to 9000

Closes-Bug: #2022070
Change-Id: Iffab13b68bcd875cf3d3d1db2be2d44d96bf3663
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/885045/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/rally.yaml'],1,b6ce7223244cd27cc620985ef88ada8ff8d48be5,bug/2022070, timeout: 9000, timeout: 7800,1,1
openstack%2Fneutron~master~Iafc596e1ff13c7efde5c7da417db85bb562aa3f7,openstack/neutron,master,Iafc596e1ff13c7efde5c7da417db85bb562aa3f7,[ovn][ipv6] Skip test_update_router_admin_state,MERGED,2023-06-01 16:04:27.000000000,2023-06-01 19:25:32.000000000,2023-06-01 19:21:33.000000000,"[{'_account_id': 1131}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 16:04:27.000000000', 'files': ['zuul.d/tempest-singlenode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a8c7ff4f0a27d426db6d993b373a8222372abbd', 'message': '[ovn][ipv6] Skip test_update_router_admin_state\n\nThis is same to already skipped test in [1].\n\n[1] https://review.opendev.org/c/openstack/neutron/+/874112\n\nRelated-Bug: #2007166\nChange-Id: Iafc596e1ff13c7efde5c7da417db85bb562aa3f7\n'}]",0,885074,2a8c7ff4f0a27d426db6d993b373a8222372abbd,8,3,1,13861,,,0,"[ovn][ipv6] Skip test_update_router_admin_state

This is same to already skipped test in [1].

[1] https://review.opendev.org/c/openstack/neutron/+/874112

Related-Bug: #2007166
Change-Id: Iafc596e1ff13c7efde5c7da417db85bb562aa3f7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/885074/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-singlenode.yaml'],1,2a8c7ff4f0a27d426db6d993b373a8222372abbd,bug/2007166," (test_update_delete_extra_route)|\ (test_update_router_admin_state)"""," (test_update_delete_extra_route)""",2,1
openstack%2Fcharm-ceph-nfs~stable%2Fquincy.2~I497b14cbcd043f6159612932d0274b158862992c,openstack/charm-ceph-nfs,stable/quincy.2,I497b14cbcd043f6159612932d0274b158862992c,Add support for interim Ubuntu releases,NEW,2023-04-25 23:43:07.000000000,2023-06-01 19:14:14.000000000,,"[{'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-25 23:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-nfs/commit/e594fec03d70b9af3a27c1c01c30a1383ba00ba2', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: I497b14cbcd043f6159612932d0274b158862992c\n'}, {'number': 2, 'created': '2023-04-26 15:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-nfs/commit/bd5946b60d85b57086f173ae2b986521b19e6962', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: I497b14cbcd043f6159612932d0274b158862992c\n'}, {'number': 3, 'created': '2023-06-01 15:16:41.000000000', 'files': ['osci.yaml', 'requirements.txt', '.gitreview', 'charmcraft.yaml', 'tests/bundles/kinetic-quincy.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/lunar-quincy.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-nfs/commit/cfa8211317732806a40b23f2b79a3a7dea8d60e4', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: I497b14cbcd043f6159612932d0274b158862992c\n'}]",7,881527,cfa8211317732806a40b23f2b79a3a7dea8d60e4,11,3,3,33717,,,0,"Add support for interim Ubuntu releases

- update bundles to include UCA pocket tests
- update test configuration
- update metadata to include kinetic and lunar
- update snapcraft to allow run-on for kinetic and lunar

Change-Id: I497b14cbcd043f6159612932d0274b158862992c
",git fetch https://review.opendev.org/openstack/charm-ceph-nfs refs/changes/27/881527/3 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'requirements.txt', '.gitreview', 'charmcraft.yaml', 'tests/bundles/kinetic-quincy.yaml', 'metadata.yaml', 'tests/bundles/lunar-quincy.yaml']",7,e594fec03d70b9af3a27c1c01c30a1383ba00ba2,ceph-lunar,"local_overlay_enabled: False series: jammy applications: ubuntu: charm: cs:ubuntu num_units: 2 ceph-nfs: charm: ../../ceph-nfs.charm num_units: 2 options: source: distro ceph-osd: charm: ch:ceph-osd channel: quincy/edge num_units: 3 storage: osd-devices: '2,10G' options: source: distro ceph-mon: charm: ch:ceph-mon channel: quincy/edge num_units: 3 options: monitor-count: '3' expected-osd-count: 6 source: distro ceph-fs: charm: ch:ceph-fs channel: quincy/edge num_units: 2 options: source: distro hacluster: charm: ch:hacluster channel: 2.4/edge options: cluster_count: 2 relations: - - 'ceph-mon:client' - 'ceph-nfs:ceph-client' - - 'ceph-osd:mon' - 'ceph-mon:osd' - - 'ceph-fs' - 'ceph-mon' - - 'ceph-nfs:ha' - 'hacluster:ha' ",,126,5
openstack%2Fnetworking-odl~stable%2Fxena~Ie795988c0a3528397e7b76aee2cafa440625bd4e,openstack/networking-odl,stable/xena,Ie795988c0a3528397e7b76aee2cafa440625bd4e,Fix tox4 issues and define project upper constraints,MERGED,2023-05-31 16:19:36.000000000,2023-06-01 19:04:07.000000000,2023-06-01 19:01:46.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 16:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5fdc3b7a4918e2c83225e3e51f5d82f8b481b8a3', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThis patch also removes the lower-constraints job, and sets the\nrequired-projects for py39 job to point to stable/yoga branches.\n\nThe grenade, functional and tempest jobs (broken for a long time), are\nalso removed from the CI queues and their definitions.\n\nConflicts:\n    .zuul.d/jobs.yaml\n    lower-constraints.txt\n    tox.ini\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n(cherry picked from commit 5658b064c4ecdfd0baef5c39505f657b7326bcc2)\n'}, {'number': 2, 'created': '2023-05-31 16:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/cc491f506edcb40e7c2246748d8cdee022a44c12', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThis patch also removes the lower-constraints job, and sets the\nrequired-projects for py39 job to point to stable/yoga branches.\n\nThe grenade, functional and tempest jobs (broken for a long time), are\nalso removed from the CI queues and their definitions.\n\nConflicts:\n    .zuul.d/jobs.yaml\n    lower-constraints.txt\n    tox.ini\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n(cherry picked from commit 5658b064c4ecdfd0baef5c39505f657b7326bcc2)\n'}, {'number': 3, 'created': '2023-06-01 09:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/73df772f9318a82741513956bf4644977b70ad89', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThis patch also removes the lower-constraints job, and sets the\nrequired-projects for py39 job to point to stable/yoga branches.\n\nThe grenade, functional and tempest jobs (broken for a long time), are\nalso removed from the CI queues and their definitions.\n\nConflicts:\n    .zuul.d/jobs.yaml\n    lower-constraints.txt\n    tox.ini\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n(cherry picked from commit 5658b064c4ecdfd0baef5c39505f657b7326bcc2)\n'}, {'number': 4, 'created': '2023-06-01 14:35:06.000000000', 'files': ['.zuul.d/project.yaml', 'lower-constraints.txt', 'doc/requirements.txt', '.zuul.d/jobs.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/284099a77bd2f1c2f2f598d84f48b14e2364992b', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThis patch also removes the lower-constraints job, and sets the\nrequired-projects for py39 job to point to stable/yoga branches.\n\nThe grenade, functional and tempest jobs (broken for a long time), are\nalso removed from the CI queues and their definitions.\n\nConflicts:\n    .zuul.d/jobs.yaml\n    lower-constraints.txt\n    tox.ini\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n(cherry picked from commit 5658b064c4ecdfd0baef5c39505f657b7326bcc2)\n'}]",3,884905,284099a77bd2f1c2f2f598d84f48b14e2364992b,21,3,4,16688,,,0,"Fix tox4 issues and define project upper constraints

With tox4 allowlist_externals is more strictly checked, so
fix it where necessary and fix pylint version.

This patch also adds the needed versions for the development environment
projects, specifying the maximum version supported in this release.

This patch also removes the lower-constraints job, and sets the
required-projects for py39 job to point to stable/yoga branches.

The grenade, functional and tempest jobs (broken for a long time), are
also removed from the CI queues and their definitions.

Conflicts:
    .zuul.d/jobs.yaml
    lower-constraints.txt
    tox.ini

Related-Bug: #1999558
Change-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e
(cherry picked from commit 5658b064c4ecdfd0baef5c39505f657b7326bcc2)
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/05/884905/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', 'lower-constraints.txt', 'doc/requirements.txt', '.zuul.d/jobs.yaml', 'tox.ini']",5,5fdc3b7a4918e2c83225e3e51f5d82f8b481b8a3,bug/1999558,"skipsdist = False ignore_basepython_conflict = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_FAIL_ON_MISSING_DEPS OS_POST_MORTEM_DEBUGGER TRACE_FAILONLY OS_TEST_DBAPI_ADMIN_CONNECTION OS_DEBUGdeps = {[testenv]deps} {toxinidir}/tools/coding-checks.sh pip install -q -e ""git+https://opendev.org/x/networking-l2gw@yoga#egg=networking_l2gw"" pip install -q -e ""git+https://opendev.org/openstack/networking-bgpvpn@yoga#egg=networking_bgpvpn"" pip install -q -e ""git+https://opendev.org/openstack/networking-sfc@yoga#egg=networking_sfc"" pip install -q -e ""git+https://opendev.org/openstack/ceilometer@yoga#egg=ceilometer"" pip install -q -e ""git+https://opendev.org/openstack/neutron@yoga#egg=neutron""","skipsdist = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_FAIL_ON_MISSING_DEPS OS_POST_MORTEM_DEBUGGER TRACE_FAILONLY OS_TEST_DBAPI_ADMIN_CONNECTION OS_DEBUGdeps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -r{toxinidir}/requirements.txt pip install -q -e ""git+https://opendev.org/x/networking-l2gw#egg=networking_l2gw"" pip install -q -e ""git+https://opendev.org/openstack/networking-bgpvpn#egg=networking_bgpvpn"" pip install -q -e ""git+https://opendev.org/openstack/networking-sfc#egg=networking_sfc"" pip install -q -e ""git+https://opendev.org/openstack/ceilometer#egg=ceilometer"" pip install -q -e ""git+https://opendev.org/openstack/neutron#egg=neutron""",100,492
openstack%2Fcharm-ceph-mon~master~I2f5ac561120b1abe52ea0621bb472bc78495fa97,openstack/charm-ceph-mon,master,I2f5ac561120b1abe52ea0621bb472bc78495fa97,rbd mirror relation: be persistent in getting pool info,MERGED,2023-06-01 08:48:32.000000000,2023-06-01 18:56:28.000000000,2023-06-01 18:56:28.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2023-06-01 08:48:32.000000000', 'files': ['src/ceph_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/af2323c4578ff7f4b352acfe350279eddd1ce0aa', 'message': 'rbd mirror relation: be persistent in getting pool info\n\nAuth for getting pool details can fail initially if we set up a rbd\nmirror relation at cloud bootstrap. Add some retry to give it another\nchance\n\nChange-Id: I2f5ac561120b1abe52ea0621bb472bc78495fa97\nPartial-Bug: #2021967\n'}]",1,884986,af2323c4578ff7f4b352acfe350279eddd1ce0aa,7,3,1,15382,,,0,"rbd mirror relation: be persistent in getting pool info

Auth for getting pool details can fail initially if we set up a rbd
mirror relation at cloud bootstrap. Add some retry to give it another
chance

Change-Id: I2f5ac561120b1abe52ea0621bb472bc78495fa97
Partial-Bug: #2021967
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/86/884986/1 && git format-patch -1 --stdout FETCH_HEAD,['src/ceph_hooks.py'],1,af2323c4578ff7f4b352acfe350279eddd1ce0aa,fix/make-rbd-rel-robust,"import tenacity # Add some tenacity in getting pool details @tenacity.retry(wait=tenacity.wait_exponential(max=20), reraise=True) def get_pool_details(): return ceph.list_pools_detail() 'pools': json.dumps(get_pool_details(), sort_keys=True),"," 'pools': json.dumps(ceph.list_pools_detail(), sort_keys=True),",10,1
openstack%2Fnetworking-odl~stable%2Fwallaby~I72d45df84fe54e84b3d2869381860cd087645ae2,openstack/networking-odl,stable/wallaby,I72d45df84fe54e84b3d2869381860cd087645ae2,Tox4: add allowlist_externals where necessary,ABANDONED,2023-05-25 09:58:26.000000000,2023-06-01 18:53:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-25 09:58:26.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/dd50dc2ae14c7ec127de455181999dac987deb5f', 'message': 'Tox4: add allowlist_externals where necessary\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nRelated-Bug: #1999558\nChange-Id: I72d45df84fe54e84b3d2869381860cd087645ae2\n(cherry picked from commit d8316e6f531e7568fdb9dca6fae89902eb566c40)\n'}]",0,884329,dd50dc2ae14c7ec127de455181999dac987deb5f,3,1,1,16688,,,0,"Tox4: add allowlist_externals where necessary

With tox4 allowlist_externals is more strictly checked, so
fix it where necessary and fix pylint version.

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943
Related-Bug: #1999558
Change-Id: I72d45df84fe54e84b3d2869381860cd087645ae2
(cherry picked from commit d8316e6f531e7568fdb9dca6fae89902eb566c40)
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/29/884329/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,dd50dc2ae14c7ec127de455181999dac987deb5f,tox4,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_FAIL_ON_MISSING_DEPS OS_POST_MORTEM_DEBUGGER TRACE_FAILONLY OS_TEST_DBAPI_ADMIN_CONNECTION OS_DEBUG {toxinidir}/tools/coding-checks.sh,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_FAIL_ON_MISSING_DEPS OS_POST_MORTEM_DEBUGGER TRACE_FAILONLY OS_TEST_DBAPI_ADMIN_CONNECTION OS_DEBUG,13,3
openstack%2Fnetworking-odl~stable%2Fxena~I72d45df84fe54e84b3d2869381860cd087645ae2,openstack/networking-odl,stable/xena,I72d45df84fe54e84b3d2869381860cd087645ae2,Tox4: add allowlist_externals where necessary,ABANDONED,2023-05-25 09:52:15.000000000,2023-06-01 18:53:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-25 09:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3a17a7b1041f5ec62b8f4f2f270bcd93c9043f62', 'message': 'Tox4: add allowlist_externals where necessary\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nRelated-Bug: #1999558\nChange-Id: I72d45df84fe54e84b3d2869381860cd087645ae2\n(cherry picked from commit d8316e6f531e7568fdb9dca6fae89902eb566c40)\n'}, {'number': 2, 'created': '2023-05-25 09:55:00.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/ab8f51f7b1a81d480e312dd82c8810deec3f6587', 'message': 'Tox4: add allowlist_externals where necessary\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nRelated-Bug: #1999558\nChange-Id: I72d45df84fe54e84b3d2869381860cd087645ae2\n(cherry picked from commit d8316e6f531e7568fdb9dca6fae89902eb566c40)\n'}]",0,884327,ab8f51f7b1a81d480e312dd82c8810deec3f6587,4,1,2,16688,,,0,"Tox4: add allowlist_externals where necessary

With tox4 allowlist_externals is more strictly checked, so
fix it where necessary and fix pylint version.

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943
Related-Bug: #1999558
Change-Id: I72d45df84fe54e84b3d2869381860cd087645ae2
(cherry picked from commit d8316e6f531e7568fdb9dca6fae89902eb566c40)
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/27/884327/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,3a17a7b1041f5ec62b8f4f2f270bcd93c9043f62,tox4,skipsdist = Falsepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_FAIL_ON_MISSING_DEPS OS_POST_MORTEM_DEBUGGER TRACE_FAILONLY OS_TEST_DBAPI_ADMIN_CONNECTION OS_DEBUG {toxinidir}/tools/coding-checks.sh,skipsdist = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_FAIL_ON_MISSING_DEPS OS_POST_MORTEM_DEBUGGER TRACE_FAILONLY OS_TEST_DBAPI_ADMIN_CONNECTION OS_DEBUG,14,4
openstack%2Fcharm-openstack-dashboard~master~I67d1359ef6696d41e961c8c21fcb045e550ca61c,openstack/charm-openstack-dashboard,master,I67d1359ef6696d41e961c8c21fcb045e550ca61c,Rename job from jammy-yoga-gr to jammy-antelope-gr,NEW,2023-05-30 19:14:22.000000000,2023-06-01 17:56:59.000000000,,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 19:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/af443a856d692211520f91dffc1b9d002f67f2b3', 'message': 'Rename job from jammy-yoga-gr to jammy-antelope-gr\n\nChange-Id: I67d1359ef6696d41e961c8c21fcb045e550ca61c\n'}, {'number': 2, 'created': '2023-05-31 14:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/2386ad655e01f5cb940bdcf234d2c31e2494fe8b', 'message': 'Rename job from jammy-yoga-gr to jammy-antelope-gr\n\n- Use jammy instead of bionic to deploy vault on.\n\nChange-Id: I67d1359ef6696d41e961c8c21fcb045e550ca61c\n'}, {'number': 3, 'created': '2023-05-31 17:35:04.000000000', 'files': ['tests/bundles/overlays/jammy-antelope-cmr-vault.yaml.j2', 'osci.yaml', 'tests/bundles/jammy-antelope-cmr-vault.yaml', 'tests/bundles/jammy-vault.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/5f31bd7732b46dc49bd805265ac41d1290097f18', 'message': 'Rename job from jammy-yoga-gr to jammy-antelope-gr\n\n- Use jammy instead of bionic to deploy vault on.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1070\nChange-Id: I67d1359ef6696d41e961c8c21fcb045e550ca61c\n'}]",2,884773,5f31bd7732b46dc49bd805265ac41d1290097f18,12,3,3,2424,,,0,"Rename job from jammy-yoga-gr to jammy-antelope-gr

- Use jammy instead of bionic to deploy vault on.

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1070
Change-Id: I67d1359ef6696d41e961c8c21fcb045e550ca61c
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/73/884773/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/overlays/jammy-antelope-cmr-vault.yaml.j2', 'osci.yaml', 'tests/bundles/jammy-antelope-cmr-vault.yaml']",3,af443a856d692211520f91dffc1b9d002f67f2b3,vault-cmr,,,3,3
openstack%2Fpbr~master~I97bdda4ce89b26c6e99de6f1d6ad7d734cac9041,openstack/pbr,master,I97bdda4ce89b26c6e99de6f1d6ad7d734cac9041,Add release note for build_sphinx removal,MERGED,2023-06-01 15:25:54.000000000,2023-06-01 17:39:26.000000000,2023-06-01 17:38:31.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 15:25:54.000000000', 'files': ['releasenotes/notes/build_sphinx_removal-de990a5c14a9e64d.yaml'], 'web_link': 'https://opendev.org/openstack/pbr/commit/0e335e6ddba001537776412b362ff0629d4a56ff', 'message': ""Add release note for build_sphinx removal\n\nThis wasn't done in the change that removed the feature but seems like a\ngood idea.\n\nChange-Id: I97bdda4ce89b26c6e99de6f1d6ad7d734cac9041\n""}]",0,885064,0e335e6ddba001537776412b362ff0629d4a56ff,7,2,1,4146,,,0,"Add release note for build_sphinx removal

This wasn't done in the change that removed the feature but seems like a
good idea.

Change-Id: I97bdda4ce89b26c6e99de6f1d6ad7d734cac9041
",git fetch https://review.opendev.org/openstack/pbr refs/changes/64/885064/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/build_sphinx_removal-de990a5c14a9e64d.yaml'],1,0e335e6ddba001537776412b362ff0629d4a56ff,build_sphinx_releasenote,--- upgrade: - | The deprecated support for `setup.py build_sphinx` has been removed. This feature has been deprecated since version 4.2. Setuptools and sphinx have removed support for this command which breaks PBR's ability to integrate with those two tools to provide this functionality. Users should switch to building sphinx docs with sphinx directly. ,,8,0
openstack%2Fneutron-lib~master~I800e0356714d59ba93ab6252c77be0a82f024055,openstack/neutron-lib,master,I800e0356714d59ba93ab6252c77be0a82f024055,"Add a ""GROUP BY"" clause on queries with RBAC entries",MERGED,2023-05-31 11:30:36.000000000,2023-06-01 17:27:51.000000000,2023-06-01 16:54:18.000000000,"[{'_account_id': 5948}, {'_account_id': 7730}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 11:30:36.000000000', 'files': ['neutron_lib/db/model_query.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/829e97024c2b73dd67bfd8a04c65f03be556eec8', 'message': 'Add a ""GROUP BY"" clause on queries with RBAC entries\n\nAs reported in the Neutron patch [1], this change introduce a\n""GROUP BY"" clause on the SQL queries with RBAC entries. With [1],\nall resouces with RBAC entries (\'network\', \'qospolicy\',\n\'securitygroup\', \'addressscope\', \'subnetpool\', \'addressgroup\') will\nload the RBAC entries with ""joined"" strategy.\n\nBecause of the low cardinality of the RBAC query when all the RBAC\nregisters are in one single project, this patch groups the resource\nqueries by the resource ID. That will reduce the results returned by\nthe SQL engine to only the singular registers required.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/884877\n\nRelated-Bug: #1918145\nChange-Id: I800e0356714d59ba93ab6252c77be0a82f024055\n'}]",2,884878,829e97024c2b73dd67bfd8a04c65f03be556eec8,12,5,1,16688,,,0,"Add a ""GROUP BY"" clause on queries with RBAC entries

As reported in the Neutron patch [1], this change introduce a
""GROUP BY"" clause on the SQL queries with RBAC entries. With [1],
all resouces with RBAC entries ('network', 'qospolicy',
'securitygroup', 'addressscope', 'subnetpool', 'addressgroup') will
load the RBAC entries with ""joined"" strategy.

Because of the low cardinality of the RBAC query when all the RBAC
registers are in one single project, this patch groups the resource
queries by the resource ID. That will reduce the results returned by
the SQL engine to only the singular registers required.

[1]https://review.opendev.org/c/openstack/neutron/+/884877

Related-Bug: #1918145
Change-Id: I800e0356714d59ba93ab6252c77be0a82f024055
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/78/884878/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/db/model_query.py'],1,829e97024c2b73dd67bfd8a04c65f03be556eec8,bug/1918145," group_by = None # This ""group_by"" clause will limit the number of registers # returned by the query, avoiding the problem of the low SQL # query cardinality when the RBAC registers are in the requested # project ID. group_by = model.id if group_by: query = query.group_by(group_by) ",,9,0
openstack%2Fkayobe-config-dev~stable%2F2023.1~I5344752635a838b9ceda251c2b2a07c17b03b71b,openstack/kayobe-config-dev,stable/2023.1,I5344752635a838b9ceda251c2b2a07c17b03b71b,2023.1 - Sync defaults with Kayobe,MERGED,2023-06-01 11:02:40.000000000,2023-06-01 16:58:56.000000000,2023-06-01 16:58:56.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-06-01 11:02:40.000000000', 'files': ['etc/kayobe/kolla.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/59b65e1bea140f11d9ab99da64a917cefd99900c', 'message': '2023.1 - Sync defaults with Kayobe\n\nskydive != skyline\n\nChange-Id: I5344752635a838b9ceda251c2b2a07c17b03b71b\n(cherry picked from commit 74fb28fc17fc91294941059e05dd400204b009b1)\n'}]",1,885012,59b65e1bea140f11d9ab99da64a917cefd99900c,13,5,1,14826,,,0,"2023.1 - Sync defaults with Kayobe

skydive != skyline

Change-Id: I5344752635a838b9ceda251c2b2a07c17b03b71b
(cherry picked from commit 74fb28fc17fc91294941059e05dd400204b009b1)
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/12/885012/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/kolla.yml'],1,59b65e1bea140f11d9ab99da64a917cefd99900c,,#kolla_enable_skyline:,#kolla_enable_skydive:,1,1
openstack%2Fnetworking-odl~stable%2Fwallaby~Icff1b5737b4d2c52ead48e3700de668038f3c5c1,openstack/networking-odl,stable/wallaby,Icff1b5737b4d2c52ead48e3700de668038f3c5c1,Remove periodic-stable-jobs template,MERGED,2023-05-24 12:41:03.000000000,2023-06-01 16:48:41.000000000,2023-06-01 16:44:34.000000000,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 12:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/48e73900d0f359877a98874686e8f4371d212e9c', 'message': 'Remove periodic-stable-jobs template\n\nnetworking-odl is about to become deprecated [1] (furthermore, periodic\nstable jobs on yoga and older branches are failing for long time), so\nit is unnecessary to run periodic stable jobs against networking-odl\nanymore.\n\n[1] https://review.opendev.org/c/openstack/governance/+/884002\n\nChange-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1\n(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)\n(cherry picked from commit 439a2437385a9a948ccec234d79f63e7422b9fae)\n(cherry picked from commit 9b01ad6c9d391cd9da97d27f7f5e402eecd4a239)\n(cherry picked from commit 29a53d72c54ac29dd9bf765f0bb0681a8e93fa7d)\n(cherry picked from commit 7bbef0e1fecb9a988b6e59f10b41144ef7e7933c)\n'}, {'number': 2, 'created': '2023-06-01 13:26:58.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/de67ad990945622b67573d35d3678d83e174b1a5', 'message': 'Remove periodic-stable-jobs template\n\nnetworking-odl is about to become deprecated [1] (furthermore, periodic\nstable jobs on yoga and older branches are failing for long time), so\nit is unnecessary to run periodic stable jobs against networking-odl\nanymore.\n\n[1] https://review.opendev.org/c/openstack/governance/+/884002\n\nChange-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1\n(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)\n(cherry picked from commit 439a2437385a9a948ccec234d79f63e7422b9fae)\n(cherry picked from commit 9b01ad6c9d391cd9da97d27f7f5e402eecd4a239)\n(cherry picked from commit 29a53d72c54ac29dd9bf765f0bb0681a8e93fa7d)\n(cherry picked from commit 7bbef0e1fecb9a988b6e59f10b41144ef7e7933c)\n'}]",0,884192,de67ad990945622b67573d35d3678d83e174b1a5,9,2,2,17685,,,0,"Remove periodic-stable-jobs template

networking-odl is about to become deprecated [1] (furthermore, periodic
stable jobs on yoga and older branches are failing for long time), so
it is unnecessary to run periodic stable jobs against networking-odl
anymore.

[1] https://review.opendev.org/c/openstack/governance/+/884002

Change-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1
(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)
(cherry picked from commit 439a2437385a9a948ccec234d79f63e7422b9fae)
(cherry picked from commit 9b01ad6c9d391cd9da97d27f7f5e402eecd4a239)
(cherry picked from commit 29a53d72c54ac29dd9bf765f0bb0681a8e93fa7d)
(cherry picked from commit 7bbef0e1fecb9a988b6e59f10b41144ef7e7933c)
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/92/884192/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,48e73900d0f359877a98874686e8f4371d212e9c,remove-odl-periodic-stable,, - periodic-stable-jobs-neutron,0,1
openstack%2Fnetworking-odl~stable%2Fwallaby~Ie795988c0a3528397e7b76aee2cafa440625bd4e,openstack/networking-odl,stable/wallaby,Ie795988c0a3528397e7b76aee2cafa440625bd4e,Fix tox4 issues and define project upper constraints,MERGED,2023-06-01 09:28:58.000000000,2023-06-01 16:47:44.000000000,2023-06-01 16:44:32.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 09:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9a8c440d7eb055e8b18869a409b844f87adb9737', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThis patch also removes the lower-constraints job, and sets the\nrequired-projects for py39 job to point to stable/yoga branches.\n\nThe grenade, functional and tempest jobs (broken for a long time), are\nalso removed from the CI queues and their definitions.\n\nConflicts:\n    .zuul.d/jobs.yaml\n    lower-constraints.txt\n    tox.ini\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n(cherry picked from commit 5658b064c4ecdfd0baef5c39505f657b7326bcc2)\n(cherry picked from commit 73df772f9318a82741513956bf4644977b70ad89)\n'}, {'number': 2, 'created': '2023-06-01 09:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/903602f17f2bc98cab3b182704bae1f58020325e', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThis patch also removes the lower-constraints job, and sets the\nrequired-projects for py39 job to point to stable/yoga branches.\n\nThe grenade, functional and tempest jobs (broken for a long time), are\nalso removed from the CI queues and their definitions.\n\nConflicts:\n    .zuul.d/jobs.yaml\n    lower-constraints.txt\n    tox.ini\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n(cherry picked from commit 5658b064c4ecdfd0baef5c39505f657b7326bcc2)\n(cherry picked from commit 73df772f9318a82741513956bf4644977b70ad89)\n'}, {'number': 3, 'created': '2023-06-01 13:05:16.000000000', 'files': ['.zuul.d/project.yaml', 'lower-constraints.txt', 'doc/requirements.txt', '.zuul.d/jobs.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/48e5b627abb4383443684579f446782df9001b86', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThis patch also removes the lower-constraints job, and sets the\nrequired-projects for py39 job to point to stable/yoga branches.\n\nThe grenade, functional and tempest jobs (broken for a long time), are\nalso removed from the CI queues and their definitions.\n\nConflicts:\n    .zuul.d/jobs.yaml\n    lower-constraints.txt\n    tox.ini\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n(cherry picked from commit 5658b064c4ecdfd0baef5c39505f657b7326bcc2)\n(cherry picked from commit 73df772f9318a82741513956bf4644977b70ad89)\n'}]",1,884992,48e5b627abb4383443684579f446782df9001b86,11,3,3,16688,,,0,"Fix tox4 issues and define project upper constraints

With tox4 allowlist_externals is more strictly checked, so
fix it where necessary and fix pylint version.

This patch also adds the needed versions for the development environment
projects, specifying the maximum version supported in this release.

This patch also removes the lower-constraints job, and sets the
required-projects for py39 job to point to stable/yoga branches.

The grenade, functional and tempest jobs (broken for a long time), are
also removed from the CI queues and their definitions.

Conflicts:
    .zuul.d/jobs.yaml
    lower-constraints.txt
    tox.ini

Related-Bug: #1999558
Change-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e
(cherry picked from commit 5658b064c4ecdfd0baef5c39505f657b7326bcc2)
(cherry picked from commit 73df772f9318a82741513956bf4644977b70ad89)
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/92/884992/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', 'lower-constraints.txt', 'doc/requirements.txt', '.zuul.d/jobs.yaml', 'tox.ini']",5,9a8c440d7eb055e8b18869a409b844f87adb9737,bug/1999558,"skipsdist = False ignore_basepython_conflict = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_FAIL_ON_MISSING_DEPS OS_POST_MORTEM_DEBUGGER TRACE_FAILONLY OS_TEST_DBAPI_ADMIN_CONNECTION OS_DEBUGdeps = {[testenv]deps} {toxinidir}/tools/coding-checks.sh pip install -q -e ""git+https://opendev.org/x/networking-l2gw@yoga#egg=networking_l2gw"" pip install -q -e ""git+https://opendev.org/openstack/networking-bgpvpn@yoga#egg=networking_bgpvpn"" pip install -q -e ""git+https://opendev.org/openstack/networking-sfc@yoga#egg=networking_sfc"" pip install -q -e ""git+https://opendev.org/openstack/ceilometer@yoga#egg=ceilometer"" pip install -q -e ""git+https://opendev.org/openstack/neutron@yoga#egg=neutron""","skipsdist = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_FAIL_ON_MISSING_DEPS OS_POST_MORTEM_DEBUGGER TRACE_FAILONLY OS_TEST_DBAPI_ADMIN_CONNECTION OS_DEBUGdeps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -r{toxinidir}/requirements.txt pip install -q -e ""git+https://opendev.org/x/networking-l2gw#egg=networking_l2gw"" pip install -q -e ""git+https://opendev.org/openstack/networking-bgpvpn#egg=networking_bgpvpn"" pip install -q -e ""git+https://opendev.org/openstack/networking-sfc#egg=networking_sfc"" pip install -q -e ""git+https://opendev.org/openstack/ceilometer#egg=ceilometer"" pip install -q -e ""git+https://opendev.org/openstack/neutron#egg=neutron""",120,495
openstack%2Fneutron~master~I3109da67875d997c681a840a7b50d02158d55b07,openstack/neutron,master,I3109da67875d997c681a840a7b50d02158d55b07,[sqlalchemy-20] Enable SQLAlchemy 2.0 deprecation warnings,ABANDONED,2023-02-22 14:40:29.000000000,2023-06-01 16:35:06.000000000,,"[{'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2023-02-22 14:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1eff7f4efa687cc71e06bfdd0f22a171de227120', 'message': '[sqlalchemy-20] Enable SQLAlchemy 2.0 deprecation warnings\n\nThat will log, using the current version 1.4.x., the deprecation\nwarnings before migrating to 2.0. Those warnings should be attended\nbefore Bobcat\n\nChange-Id: I3109da67875d997c681a840a7b50d02158d55b07\n'}, {'number': 2, 'created': '2023-02-23 16:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4714f1d44123a927ec33c7222ce85863b07f358c', 'message': '[sqlalchemy-20] Enable SQLAlchemy 2.0 deprecation warnings\n\nThat will log, using the current version 1.4.x., the deprecation\nwarnings before migrating to 2.0. Those warnings should be attended\nbefore Bobcat\n\nChange-Id: I3109da67875d997c681a840a7b50d02158d55b07\n'}, {'number': 3, 'created': '2023-02-23 17:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/18ea807c1e92372c6b7b34dfed6fefad7f8984db', 'message': '[sqlalchemy-20] Enable SQLAlchemy 2.0 deprecation warnings\n\nThat will log, using the current version 1.4.x., the deprecation\nwarnings before migrating to 2.0. Those warnings should be attended\nbefore Bobcat\n\nChange-Id: I3109da67875d997c681a840a7b50d02158d55b07\n'}, {'number': 4, 'created': '2023-03-15 15:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/333a39fb225609cec3b9e73e9d460d18add93f61', 'message': '[sqlalchemy-20] Enable SQLAlchemy 2.0 deprecation warnings\n\nThat will log, using the current version 1.4.x., the deprecation\nwarnings before migrating to 2.0. Those warnings should be attended\nbefore Bobcat\n\nChange-Id: I3109da67875d997c681a840a7b50d02158d55b07\n'}, {'number': 5, 'created': '2023-04-04 07:23:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fdb0a33c8dac27ce0c9a403dfb693780ec02dfce', 'message': '[sqlalchemy-20] Enable SQLAlchemy 2.0 deprecation warnings\n\nThat will log, using the current version 1.4.x., the deprecation\nwarnings before migrating to 2.0. Those warnings should be attended\nbefore Bobcat\n\nChange-Id: I3109da67875d997c681a840a7b50d02158d55b07\n'}]",4,874778,fdb0a33c8dac27ce0c9a403dfb693780ec02dfce,29,4,5,16688,,,0,"[sqlalchemy-20] Enable SQLAlchemy 2.0 deprecation warnings

That will log, using the current version 1.4.x., the deprecation
warnings before migrating to 2.0. Those warnings should be attended
before Bobcat

Change-Id: I3109da67875d997c681a840a7b50d02158d55b07
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/874778/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1eff7f4efa687cc71e06bfdd0f22a171de227120,sqlalchemy-20-warnings, # TODO(ralonsoh): remove this flag once we bump our upper-constraint to SQLAlchemy 2.0 SQLALCHEMY_WARN_20=1,,2,0
openstack%2Fpuppet-nova~master~I41783e8697e3d9d43f2ca5c5d91cb91a74917aea,openstack/puppet-nova,master,I41783e8697e3d9d43f2ca5c5d91cb91a74917aea,Fix restart of modular libvirt daemons after config change,MERGED,2023-05-29 14:36:56.000000000,2023-06-01 16:20:07.000000000,2023-06-01 16:20:07.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 14:36:56.000000000', 'files': ['manifests/compute/libvirt/services.pp', 'manifests/params.pp', 'manifests/deps.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4161c48f2ce9e4c6c4b8556710cb26855dce1b48', 'message': ""Fix restart of modular libvirt daemons after config change\n\nThis fixes the regression caused by [1]. A socket can't be restarted\nif the associated service is already started, so we should restart\nthe service instead of the socket.\n\n[1] ef8a070e853f88b8a7fde4eba0f9cd8db109d893\n\nChange-Id: I41783e8697e3d9d43f2ca5c5d91cb91a74917aea\n""}]",3,884631,4161c48f2ce9e4c6c4b8556710cb26855dce1b48,19,3,1,9816,,,0,"Fix restart of modular libvirt daemons after config change

This fixes the regression caused by [1]. A socket can't be restarted
if the associated service is already started, so we should restart
the service instead of the socket.

[1] ef8a070e853f88b8a7fde4eba0f9cd8db109d893

Change-Id: I41783e8697e3d9d43f2ca5c5d91cb91a74917aea
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/31/884631/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/libvirt/services.pp', 'manifests/params.pp', 'manifests/deps.pp']",3,4161c48f2ce9e4c6c4b8556710cb26855dce1b48,, -> Exec<| tag == 'libvirt-service'|>,,83,20
openstack%2Freleases~master~Id4d945c29ba37f8b2bb8c2c10c26b4c2f4826c91,openstack/releases,master,Id4d945c29ba37f8b2bb8c2c10c26b4c2f4826c91,kolla/kolla-ansible/kayobe: 2023.1 rc2,MERGED,2023-05-31 20:04:38.000000000,2023-06-01 16:12:45.000000000,2023-06-01 16:12:45.000000000,"[{'_account_id': 308}, {'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-05-31 20:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/41867ae44c374757531150e9ddfbcac516cd5b5f', 'message': 'kolla/kolla-ansible: 2023.1 rc2\n\nChange-Id: Id4d945c29ba37f8b2bb8c2c10c26b4c2f4826c91\n'}, {'number': 2, 'created': '2023-06-01 13:26:44.000000000', 'files': ['deliverables/antelope/kolla.yaml', 'deliverables/antelope/kolla-ansible.yaml', 'deliverables/antelope/kayobe.yaml', 'deliverables/antelope/ansible-collection-kolla.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cdd2218bb022feb876d6ec51aea82cc225795a0e', 'message': 'kolla/kolla-ansible/kayobe: 2023.1 rc2\n\nChange-Id: Id4d945c29ba37f8b2bb8c2c10c26b4c2f4826c91\n'}]",2,884937,cdd2218bb022feb876d6ec51aea82cc225795a0e,17,7,2,23084,,,0,"kolla/kolla-ansible/kayobe: 2023.1 rc2

Change-Id: Id4d945c29ba37f8b2bb8c2c10c26b4c2f4826c91
",git fetch https://review.opendev.org/openstack/releases refs/changes/37/884937/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/antelope/kolla.yaml', 'deliverables/antelope/kolla-ansible.yaml', 'deliverables/antelope/ansible-collection-kolla.yaml']",3,41867ae44c374757531150e9ddfbcac516cd5b5f,, - version: 3.0.0.0rc2 projects: - repo: openstack/ansible-collection-kolla hash: 8d37dee4bf4d2a7b555e3f542836d2ba5d563b88,,12,0
openstack%2Fbarbican-ui~master~I7f86479d8d52cdbd249bc979b986b1338043df65,openstack/barbican-ui,master,I7f86479d8d52cdbd249bc979b986b1338043df65,Bump tox minversion to 3.18.0,NEW,2022-05-22 13:34:50.000000000,2023-06-01 15:50:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-05-22 13:34:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/barbican-ui/commit/969c00f82c414c77a45efcbcb9da0c92f7bdce94', 'message': 'Bump tox minversion to 3.18.0\n\nSince tox 3.18.0, the whitelist_externals option has been deprecated in\nfavor of the new allow_list_externals option[1].\n\nThis change bumps the minversion of tox so that we can replace\nthe deprecated option.\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I7f86479d8d52cdbd249bc979b986b1338043df65\n'}]",1,842880,969c00f82c414c77a45efcbcb9da0c92f7bdce94,7,3,1,9816,,,0,"Bump tox minversion to 3.18.0

Since tox 3.18.0, the whitelist_externals option has been deprecated in
favor of the new allow_list_externals option[1].

This change bumps the minversion of tox so that we can replace
the deprecated option.

[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I7f86479d8d52cdbd249bc979b986b1338043df65
",git fetch https://review.opendev.org/openstack/barbican-ui refs/changes/80/842880/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,969c00f82c414c77a45efcbcb9da0c92f7bdce94,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals = {[testenv:eslint]allowlist_externals}allowlist_externals = {[testenv:eslint]allowlist_externals},minversion = 2.3.2whitelist_externals =whitelist_externals = {[testenv:eslint]whitelist_externals}whitelist_externals = {[testenv:eslint]whitelist_externals},6,6
openstack%2Fbarbican-specs~master~I994bfe2e3ff65c1befe5fd122db604bc8e1f7e54,openstack/barbican-specs,master,I994bfe2e3ff65c1befe5fd122db604bc8e1f7e54,setup.cfg: Replace dashes with underscores,NEW,2022-08-04 06:24:10.000000000,2023-06-01 15:46:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-08-04 06:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-specs/commit/2fa1fd00d0927528cae66e07525cdd7feed0abe5', 'message': 'setup.cfg: Replace dashes with underscores\n\nChange-Id: I994bfe2e3ff65c1befe5fd122db604bc8e1f7e54\n'}, {'number': 2, 'created': '2022-08-04 06:24:54.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/barbican-specs/commit/8f59d06aed149ccfe118574c98c3770ff90dd167', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I994bfe2e3ff65c1befe5fd122db604bc8e1f7e54\n""}]",1,852080,8f59d06aed149ccfe118574c98c3770ff90dd167,4,2,2,33881,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I994bfe2e3ff65c1befe5fd122db604bc8e1f7e54
",git fetch https://review.opendev.org/openstack/barbican-specs refs/changes/80/852080/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,2fa1fd00d0927528cae66e07525cdd7feed0abe5,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://specs.openstack.org/openstack/barbican-specs/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://specs.openstack.org/openstack/barbican-specs/,3,3
openstack%2Fbarbican-specs~master~I7ac3d0bd3eabbf1c23a5060b9f91b8a6c44336be,openstack/barbican-specs,master,I7ac3d0bd3eabbf1c23a5060b9f91b8a6c44336be,setup.cfg: Replace dashes with underscores,NEW,2023-05-05 05:58:10.000000000,2023-06-01 15:45:51.000000000,,"[{'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32102}]","[{'number': 1, 'created': '2023-05-05 05:58:10.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/barbican-specs/commit/7f6525a0bb9a26bc6ae9b217c0a63bbd203c7606', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I7ac3d0bd3eabbf1c23a5060b9f91b8a6c44336be\n""}]",0,882255,7f6525a0bb9a26bc6ae9b217c0a63bbd203c7606,5,4,1,35058,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I7ac3d0bd3eabbf1c23a5060b9f91b8a6c44336be
",git fetch https://review.opendev.org/openstack/barbican-specs refs/changes/55/882255/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7f6525a0bb9a26bc6ae9b217c0a63bbd203c7606,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://specs.openstack.org/openstack/barbican-specs/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://specs.openstack.org/openstack/barbican-specs/,3,3
openstack%2Fpbr~master~If3594269495ae1f3cefffd4c4f38d87af5c7fdfe,openstack/pbr,master,If3594269495ae1f3cefffd4c4f38d87af5c7fdfe,Use _ instead of - in setup.cfg directives,MERGED,2023-05-31 20:26:02.000000000,2023-06-01 15:30:37.000000000,2023-06-01 15:29:43.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-05-31 20:26:02.000000000', 'files': ['pbr/tests/test_packaging.py', 'doc/source/user/using.rst', 'pbr/tests/testpackage/setup.cfg', 'doc/source/user/features.rst'], 'web_link': 'https://opendev.org/openstack/pbr/commit/ee04b62de28061018496d6324639446afe2059c7', 'message': ""Use _ instead of - in setup.cfg directives\n\nSetuptools deprecated -'s at some point and they result in a bunch of\nwarnings in failed tests. This is distracting and eventually is likely\nto create real errors. Go ahead and fix them now.\n\nChange-Id: If3594269495ae1f3cefffd4c4f38d87af5c7fdfe\n""}]",0,884938,ee04b62de28061018496d6324639446afe2059c7,8,3,1,4146,,,0,"Use _ instead of - in setup.cfg directives

Setuptools deprecated -'s at some point and they result in a bunch of
warnings in failed tests. This is distracting and eventually is likely
to create real errors. Go ahead and fix them now.

Change-Id: If3594269495ae1f3cefffd4c4f38d87af5c7fdfe
",git fetch https://review.opendev.org/openstack/pbr refs/changes/38/884938/1 && git format-patch -1 --stdout FETCH_HEAD,"['pbr/tests/test_packaging.py', 'doc/source/user/using.rst', 'pbr/tests/testpackage/setup.cfg', 'doc/source/user/features.rst']",4,ee04b62de28061018496d6324639446afe2059c7,cleanup-sphinx-integration, description_file = README.rst author_email = john.doe@example.com``description_file`` parameter. You can set the ``description_content_type`` to a MIME type that may, description-file = README.rst author-email = john.doe@example.com``description-file`` parameter. You can set the ``description-content-type`` to a MIME type that may,20,20
openstack%2Fpython-ironicclient~master~Ia0dd66d015f3fcfb32e553f26765e5cf47b9210d,openstack/python-ironicclient,master,Ia0dd66d015f3fcfb32e553f26765e5cf47b9210d,Fix minor spelling errors and incorrect help text,MERGED,2023-06-01 12:15:05.000000000,2023-06-01 15:12:56.000000000,2023-06-01 15:11:54.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-06-01 12:15:05.000000000', 'files': ['ironicclient/v1/node.py', 'ironicclient/osc/v1/baremetal_node.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/bea37aa66c1d954455911810917b0b5dd567ca29', 'message': 'Fix minor spelling errors and incorrect help text\n\nChange-Id: Ia0dd66d015f3fcfb32e553f26765e5cf47b9210d\n'}]",1,885040,bea37aa66c1d954455911810917b0b5dd567ca29,7,2,1,35929,,,0,"Fix minor spelling errors and incorrect help text

Change-Id: Ia0dd66d015f3fcfb32e553f26765e5cf47b9210d
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/40/885040/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironicclient/v1/node.py', 'ironicclient/osc/v1/baremetal_node.py']",2,bea37aa66c1d954455911810917b0b5dd567ca29,fix-minor-spellings," """"""Call a vendor passthru method for a node"""""" log = logging.getLogger(__name__ + "".PassthruCallBaremetalNode"") help=_(""Show detailed information about the node history events.""),"," """"""Call a vendor passthu method for a node"""""" log = logging.getLogger(__name__ + "".PassthuCallBaremetalNode"") help=_(""Show detailed information about the BIOS settings.""),",4,4
openstack%2Fpbr~master~I65038caceb192f495288414079ca0f07ce6318bb,openstack/pbr,master,I65038caceb192f495288414079ca0f07ce6318bb,Remove sphinx doc building integration,MERGED,2023-05-30 23:03:00.000000000,2023-06-01 15:11:14.000000000,2023-06-01 15:06:54.000000000,"[{'_account_id': 10342}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-05-30 23:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/b7a3a80266afcd29e3c89e1c67d68d12d23e5cea', 'message': 'Remove sphinx doc building integration\n\nSetuptools and sphinx [0] have removed support for building docs through\nsetup.py. This has broken imports which break our own local doc builds.\nLets just remove it all (including the tests) so that we are compatible\nwith modern setuptools and sphinx.\n\nAn alternative approach would be to do conditional imports and continue\nto support this for old setuptools and sphinx. But that feels like a\ndead end that will be difficult to test. Probably better to rip this\nbandaid off.\n\n[0] https://www.sphinx-doc.org/en/master/changes.html#id7\n\nChange-Id: I65038caceb192f495288414079ca0f07ce6318bb\n'}, {'number': 2, 'created': '2023-05-31 20:26:02.000000000', 'files': ['pbr/tests/test_setup.py', 'pbr/packaging.py', 'pbr/tests/test_core.py', 'doc/source/user/using.rst', 'pbr/builddoc.py', 'pbr/hooks/commands.py', 'doc/source/user/features.rst'], 'web_link': 'https://opendev.org/openstack/pbr/commit/47c5afe79aa334b300b9f15f3f23ff76d812d742', 'message': 'Remove sphinx doc building integration\n\nSetuptools and sphinx [0] have removed support for building docs through\nsetup.py. This has broken imports which break our own local doc builds.\nLets just remove it all (including the tests) so that we are compatible\nwith modern setuptools and sphinx.\n\nAn alternative approach would be to do conditional imports and continue\nto support this for old setuptools and sphinx. But that feels like a\ndead end that will be difficult to test. Probably better to rip this\nbandaid off.\n\n[0] https://www.sphinx-doc.org/en/master/changes.html#id7\n\nChange-Id: I65038caceb192f495288414079ca0f07ce6318bb\n'}]",3,884791,47c5afe79aa334b300b9f15f3f23ff76d812d742,14,4,2,4146,,,0,"Remove sphinx doc building integration

Setuptools and sphinx [0] have removed support for building docs through
setup.py. This has broken imports which break our own local doc builds.
Lets just remove it all (including the tests) so that we are compatible
with modern setuptools and sphinx.

An alternative approach would be to do conditional imports and continue
to support this for old setuptools and sphinx. But that feels like a
dead end that will be difficult to test. Probably better to rip this
bandaid off.

[0] https://www.sphinx-doc.org/en/master/changes.html#id7

Change-Id: I65038caceb192f495288414079ca0f07ce6318bb
",git fetch https://review.opendev.org/openstack/pbr refs/changes/91/884791/2 && git format-patch -1 --stdout FETCH_HEAD,"['pbr/tests/test_setup.py', 'pbr/packaging.py', 'pbr/builddoc.py', 'pbr/hooks/commands.py']",4,b7a3a80266afcd29e3c89e1c67d68d12d23e5cea,cleanup-sphinx-integration,, if packaging.have_sphinx(): self.add_command('pbr.builddoc.LocalBuildDoc') ,2,479
openstack%2Freleases~master~Ic20b8ca7832ad514ceb87819a7f94b5a344aa5bc,openstack/releases,master,Ic20b8ca7832ad514ceb87819a7f94b5a344aa5bc,release oslo's zed deliverables,MERGED,2023-05-31 09:05:35.000000000,2023-06-01 15:11:13.000000000,2023-06-01 15:11:13.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-05-31 09:05:35.000000000', 'files': ['deliverables/zed/oslo.metrics.yaml', 'deliverables/zed/oslo.db.yaml', 'deliverables/zed/oslo.utils.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/47473a3b65bc8e4cad6f65b3e7020b73212cbc3e', 'message': ""release oslo's zed deliverables\n\nChange-Id: Ic20b8ca7832ad514ceb87819a7f94b5a344aa5bc\n""}]",1,884847,47473a3b65bc8e4cad6f65b3e7020b73212cbc3e,8,4,1,28522,,,0,"release oslo's zed deliverables

Change-Id: Ic20b8ca7832ad514ceb87819a7f94b5a344aa5bc
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/884847/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/zed/oslo.metrics.yaml', 'deliverables/zed/oslo.db.yaml', 'deliverables/zed/oslo.utils.yaml']",3,47473a3b65bc8e4cad6f65b3e7020b73212cbc3e,oslo-zed, - version: 6.0.2 projects: - repo: openstack/oslo.utils hash: 716c2e2b8e3ec640be2db6df93a611b0dbe06bc1,,12,0
openstack%2Freleases~master~Icbc5e11701f98139b60ae2bf4d06359ae2093721,openstack/releases,master,Icbc5e11701f98139b60ae2bf4d06359ae2093721,release oslo.messaging 14.3.1,MERGED,2023-05-31 08:54:45.000000000,2023-06-01 14:55:24.000000000,2023-06-01 14:55:24.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-05-31 08:54:45.000000000', 'files': ['deliverables/bobcat/oslo.messaging.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3b8d24095959fa20800f6ba5d688472a4f3a0c5d', 'message': 'release oslo.messaging 14.3.1\n\nChange-Id: Icbc5e11701f98139b60ae2bf4d06359ae2093721\n'}]",0,884841,3b8d24095959fa20800f6ba5d688472a4f3a0c5d,8,4,1,28522,,,0,"release oslo.messaging 14.3.1

Change-Id: Icbc5e11701f98139b60ae2bf4d06359ae2093721
",git fetch https://review.opendev.org/openstack/releases refs/changes/41/884841/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/oslo.messaging.yaml'],1,3b8d24095959fa20800f6ba5d688472a4f3a0c5d,oslo-bobcat, - version: 14.3.1 projects: - repo: openstack/oslo.messaging hash: 0602d1a10ac20c48fa35ad711355c79ee5b0ec77,,4,0
openstack%2Fcharm-mysql-innodb-cluster~stable%2Fjammy~I64d20db9c59688bb3a40f2e0f58fb138f8522341,openstack/charm-mysql-innodb-cluster,stable/jammy,I64d20db9c59688bb3a40f2e0f58fb138f8522341,Remove reference to performance-schema option that doesn't exist,MERGED,2023-05-31 09:24:17.000000000,2023-06-01 14:51:03.000000000,2023-06-01 14:51:03.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 09:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/c02ae346baf8b3b1674d35e87c8a9d359cd83d2a', 'message': ""Remove reference to performance-schema option that doesn't exist\n\nChange-Id: I64d20db9c59688bb3a40f2e0f58fb138f8522341\nCloses-Bug: #1882211\n""}, {'number': 2, 'created': '2023-05-31 17:17:53.000000000', 'files': ['src/config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/38115ade0c7a44e26504ec2e8a8f209947f9875d', 'message': ""Remove reference to performance-schema option that doesn't exist\n\n(cherry-picked from 4ff1eb35aa1f346ce2336f44dd7b7ac388ccc781)\n\nChange-Id: I64d20db9c59688bb3a40f2e0f58fb138f8522341\nCloses-Bug: #1882211\n""}]",3,884812,38115ade0c7a44e26504ec2e8a8f209947f9875d,13,4,2,20870,,,0,"Remove reference to performance-schema option that doesn't exist

(cherry-picked from 4ff1eb35aa1f346ce2336f44dd7b7ac388ccc781)

Change-Id: I64d20db9c59688bb3a40f2e0f58fb138f8522341
Closes-Bug: #1882211
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/12/884812/1 && git format-patch -1 --stdout FETCH_HEAD,['src/config.yaml'],1,c02ae346baf8b3b1674d35e87c8a9d359cd83d2a,bug/1882211-stable/jammy, Note: Connections take up memory resources. See also MySQL Performance Schema at https://dev.mysql.com/doc/refman/8.0/en/performance-schema.html., Note: Connections take up memory resources. Either at startup time with performance-schema=True or during run time with performance-schema=False. See also performance-schema.,3,3
openstack%2Freleases~master~Icb248a00827243536828fd3fe55625184efafaec,openstack/releases,master,Icb248a00827243536828fd3fe55625184efafaec,Release ironic-python-agent 9.5.0 with bugfix branch,MERGED,2023-05-31 15:18:39.000000000,2023-06-01 14:50:23.000000000,2023-06-01 14:50:23.000000000,"[{'_account_id': 308}, {'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 15:18:39.000000000', 'files': ['deliverables/bobcat/ironic-python-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/56f38c85ab18f83c6334476dafc22e84502f4fb2', 'message': 'Release ironic-python-agent 9.5.0 with bugfix branch\n\nChange-Id: Icb248a00827243536828fd3fe55625184efafaec\n'}]",1,884901,56f38c85ab18f83c6334476dafc22e84502f4fb2,9,5,1,23851,,,0,"Release ironic-python-agent 9.5.0 with bugfix branch

Change-Id: Icb248a00827243536828fd3fe55625184efafaec
",git fetch https://review.opendev.org/openstack/releases refs/changes/01/884901/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/ironic-python-agent.yaml'],1,56f38c85ab18f83c6334476dafc22e84502f4fb2,ipa-bugfix-950,releases: - version: 9.5.0 projects: - repo: openstack/ironic-python-agent hash: 4845fd04bab71fa393c374d932185dde16d020af branches: - name: bugfix/9.5 location: 9.5.0,,8,0
openstack%2Freleases~master~I52714ae92458efc0628091762cb77cf3ddb058f9,openstack/releases,master,I52714ae92458efc0628091762cb77cf3ddb058f9,Fix tools/announce by using importlib.metadata instead of setuptools,MERGED,2023-04-03 08:42:01.000000000,2023-06-01 14:46:17.000000000,2023-06-01 14:46:17.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-03 08:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/559d3f6291e4c02b561644bdd4295b4d6dda017e', 'message': ""Fix tools/announce by using importlib.metadata instead of setuptools\n\nWith release of new setuptools running setup.py started\nreturining extra line. Eventually, running setup.py as a script is not\nconsidered as good practice and we should not rely on it's output much.\nInstead, we can leverage importlib.metadata as it should be more\nreliable in long run.\n\nAlso it allow us to remove our previous workaround:\nhttps://review.opendev.org/c/openstack/releases/+/879065\n\nChange-Id: I52714ae92458efc0628091762cb77cf3ddb058f9\n""}, {'number': 2, 'created': '2023-04-03 12:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/fd6d5b78d68d30f87c25057b5182074c5cd6dc78', 'message': ""Fix tools/announce by using importlib.metadata instead of setuptools\n\nWith release of new setuptools running setup.py started\nreturining extra line. Eventually, running setup.py as a script is not\nconsidered as good practice and we should not rely on it's output much.\nInstead, we can leverage importlib.metadata as it should be more\nreliable in long run.\n\nAlso it allow us to remove our previous workaround:\nhttps://review.opendev.org/c/openstack/releases/+/879065\n\nChange-Id: I52714ae92458efc0628091762cb77cf3ddb058f9\n""}, {'number': 3, 'created': '2023-05-22 08:22:22.000000000', 'files': ['tools/announce.sh'], 'web_link': 'https://opendev.org/openstack/releases/commit/2b46589cc395062e328a204e33ebd0c8b49bac56', 'message': ""Fix tools/announce by using importlib.metadata instead of setuptools\n\nWith release of new setuptools running setup.py started\nreturining extra line. Eventually, running setup.py as a script is not\nconsidered as good practice and we should not rely on it's output much.\nInstead, we can leverage importlib.metadata as it should be more\nreliable in long run.\n\nAlso it allow us to remove our previous workaround:\nhttps://review.opendev.org/c/openstack/releases/+/879065\n\nChange-Id: I52714ae92458efc0628091762cb77cf3ddb058f9\n""}]",14,879273,2b46589cc395062e328a204e33ebd0c8b49bac56,24,3,3,28522,,,0,"Fix tools/announce by using importlib.metadata instead of setuptools

With release of new setuptools running setup.py started
returining extra line. Eventually, running setup.py as a script is not
considered as good practice and we should not rely on it's output much.
Instead, we can leverage importlib.metadata as it should be more
reliable in long run.

Also it allow us to remove our previous workaround:
https://review.opendev.org/c/openstack/releases/+/879065

Change-Id: I52714ae92458efc0628091762cb77cf3ddb058f9
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/879273/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/announce.sh'],1,559d3f6291e4c02b561644bdd4295b4d6dda017e,fix-announce," # As we use importlib to retrieve information we have to pass the # importable name of the module, example: oslo.messaging => oslo_messaging modified_shortname=${SHORTNAME//\./_} project_name=$(python -c ""import importlib.metadata; print(importlib.metadata.metadata('${modified_shortname}')['Name'])"") description=$(python -c ""import importlib.metadata; print(importlib.metadata.metadata('${modified_shortname}')['Description'])"")"," # Some projects have setup_requires dependencies on packages that are # not pre-installed, so run a setuptools command in a way to get them # installed without capturing the output in the email we're going to # be sending. python setup.py --name # NOTE(elod.illes): pbr startid to print '[pbr] Generating ChangeLog' # this is related to some recent release (setuptools? virtualenv?) # the 'tail' command needs to be removed as soon as that bug is fixed project_name=$(python setup.py --name | tail -1) description=""$(python setup.py --description| tail -1)""",5,10
openstack%2Fcharm-keystone-k8s~main~I8f58b836b4a473cd19e999b1fa4483bfdb4e20c2,openstack/charm-keystone-k8s,main,I8f58b836b4a473cd19e999b1fa4483bfdb4e20c2,Update metadata.yaml's base and assumes,MERGED,2023-06-01 06:24:36.000000000,2023-06-01 14:45:33.000000000,2023-06-01 14:12:44.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 06:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/c3d2d9ea284ba5f763c37466d939e8c3e1c9f52a', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I8f58b836b4a473cd19e999b1fa4483bfdb4e20c2\n""}, {'number': 2, 'created': '2023-06-01 07:29:38.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/192ee9431f3c92054a95b4d7248582817a29df4a', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I8f58b836b4a473cd19e999b1fa4483bfdb4e20c2\n""}]",1,884973,192ee9431f3c92054a95b4d7248582817a29df4a,9,2,2,35761,,,0,"Update metadata.yaml's base and assumes

Change-Id: I8f58b836b4a473cd19e999b1fa4483bfdb4e20c2
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/73/884973/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,c3d2d9ea284ba5f763c37466d939e8c3e1c9f52a,feat/move-to-jammy, channel: 22.04/stable assumes: - k8s-api, channel: 20.04/stable,3,1
openstack%2Freleases~master~I0d71e1a4d752ab8378790d0d978ccdcb47d722fe,openstack/releases,master,I0d71e1a4d752ab8378790d0d978ccdcb47d722fe,Release ironic-inspector 11.5 with bugfix branch,MERGED,2023-05-31 15:17:32.000000000,2023-06-01 14:44:39.000000000,2023-06-01 14:44:39.000000000,"[{'_account_id': 308}, {'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 15:17:32.000000000', 'files': ['deliverables/bobcat/ironic-inspector.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9dda6992f04e3b4618b8b79c3fed9250eee5076c', 'message': 'Release ironic-inspector 11.5 with bugfix branch\n\nChange-Id: I0d71e1a4d752ab8378790d0d978ccdcb47d722fe\n'}]",1,884900,9dda6992f04e3b4618b8b79c3fed9250eee5076c,9,5,1,23851,,,0,"Release ironic-inspector 11.5 with bugfix branch

Change-Id: I0d71e1a4d752ab8378790d0d978ccdcb47d722fe
",git fetch https://review.opendev.org/openstack/releases refs/changes/00/884900/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/ironic-inspector.yaml'],1,9dda6992f04e3b4618b8b79c3fed9250eee5076c,inspector-bugfix-115,releases: - version: 11.5.0 projects: - repo: openstack/ironic-inspector hash: 62e42d38001d39dbc5c47d85e004057cdd53cf08 branches: - name: bugfix/11.5 location: 11.5.0,,8,0
openstack%2Freleases~master~Iad0d2d99678ab29859ebbcb1818cbca0966e5c78,openstack/releases,master,Iad0d2d99678ab29859ebbcb1818cbca0966e5c78,Release 2023.1 RC2 for OpenStack-Ansible,MERGED,2023-06-01 08:45:07.000000000,2023-06-01 14:40:02.000000000,2023-06-01 14:40:02.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 08:45:07.000000000', 'files': ['deliverables/antelope/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2ddba5a0233dd5ee418b1799db60abaa90e84554', 'message': 'Release 2023.1 RC2 for OpenStack-Ansible\n\nChange-Id: Iad0d2d99678ab29859ebbcb1818cbca0966e5c78\n'}]",1,884984,2ddba5a0233dd5ee418b1799db60abaa90e84554,8,3,1,28619,,,0,"Release 2023.1 RC2 for OpenStack-Ansible

Change-Id: Iad0d2d99678ab29859ebbcb1818cbca0966e5c78
",git fetch https://review.opendev.org/openstack/releases refs/changes/84/884984/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/antelope/openstack-ansible.yaml'],1,2ddba5a0233dd5ee418b1799db60abaa90e84554,release_osa, - version: 27.0.0.0rc2 projects: - repo: openstack/openstack-ansible hash: a3dcad7b88f6bad0f8346287eaca22d98be11a1e,,4,0
openstack%2Fmanila~master~I61e590ed1851e8fa15996dc61e8e17e9413a9d91,openstack/manila,master,I61e590ed1851e8fa15996dc61e8e17e9413a9d91,Add max share extend size limited by share_type,MERGED,2022-11-04 20:12:06.000000000,2023-06-01 14:29:08.000000000,2023-06-01 14:27:53.000000000,"[{'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30407}, {'_account_id': 31721}, {'_account_id': 32029}, {'_account_id': 32761}, {'_account_id': 33038}, {'_account_id': 33986}, {'_account_id': 34489}]","[{'number': 1, 'created': '2022-11-04 20:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/acdbbf15a4d9bcac9b49242e20ad26810ad13873', 'message': ""Add max share extend size limited by share_type\n\nAllows set max share extend size that can be created in extra_specs\nfor each share_type. At API level as part of share extend for admin,\nmax share extend size will be checked whereas for non-admin users,\nmax share size will be checked.\nNew extra_specs key is added to set max extend size of share\ni.e.'provisioning:max_share_extend_size'\n\nCloses-Bug: #1987253\nChange-Id: I61e590ed1851e8fa15996dc61e8e17e9413a9d91\n""}, {'number': 2, 'created': '2022-11-07 13:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/55027de13e64e378bd6ab4a9d14cbcb5b970ed89', 'message': ""Add max share extend size limited by share_type\n\nAllows set max share extend size that can be created in extra_specs\nfor each share_type. At API level as part of share extend for admin,\nmax share extend size will be checked whereas for non-admin users,\nmax share size will be checked.\nNew extra_specs key is added to set max extend size of share\ni.e.'provisioning:max_share_extend_size'\n\nCloses-Bug: #1987253\nChange-Id: I61e590ed1851e8fa15996dc61e8e17e9413a9d91\n""}, {'number': 3, 'created': '2022-11-23 08:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1b813a7aad31191a795f36f910103b969288522e', 'message': ""Add max share extend size limited by share_type\n\nAllows set max share extend size that can be created in extra_specs\nfor each share_type. At API level as part of share extend for admin,\nmax share extend size will be checked whereas for non-admin users,\nmax share size will be checked.\nNew extra_specs key is added to set max extend size of share\ni.e.'provisioning:max_share_extend_size'\n\nCloses-Bug: #1987253\nChange-Id: I61e590ed1851e8fa15996dc61e8e17e9413a9d91\n""}, {'number': 4, 'created': '2022-12-19 18:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9a0a64f8b936cf8acf5e224e1ea71479870321cd', 'message': ""Add max share extend size limited by share_type\n\nAllows set max share extend size that can be created in extra_specs\nfor each share_type. At API level as part of share extend for admin,\nmax share extend size will be checked whereas for non-admin users,\nmax share size will be checked.\nNew extra_specs key is added to set max extend size of share\ni.e.'provisioning:max_share_extend_size'\n\nCloses-Bug: #1987253\nChange-Id: I61e590ed1851e8fa15996dc61e8e17e9413a9d91\n""}, {'number': 5, 'created': '2023-02-09 09:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/25d858d8dd06f8f3a9a4111d263517797c6b3886', 'message': ""Add max share extend size limited by share_type\n\nAllows set max share extend size that can be created in extra_specs\nfor each share_type. At API level as part of share extend for admin,\nmax share extend size will be checked whereas for non-admin users,\nmax share size will be checked.\nNew extra_specs key is added to set max extend size of share\ni.e.'provisioning:max_share_extend_size'\n\nCloses-Bug: #1987253\nChange-Id: I61e590ed1851e8fa15996dc61e8e17e9413a9d91\n""}, {'number': 6, 'created': '2023-03-10 14:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/956ac5ca80e9ab5dbb7602c303c3454eba042440', 'message': ""Add max share extend size limited by share_type\n\nAllows set max share extend size that can be created in extra_specs\nfor each share_type. At API level as part of share extend for admin,\nmax share extend size will be checked whereas for non-admin users,\nmax share size will be checked.\nNew extra_specs key is added to set max extend size of share\ni.e.'provisioning:max_share_extend_size'\n\nCloses-Bug: #1987253\nChange-Id: I61e590ed1851e8fa15996dc61e8e17e9413a9d91\n""}, {'number': 7, 'created': '2023-05-30 10:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3bcc57f21e932cc9ac1992af68e43dbb53f08955', 'message': ""Add max share extend size limited by share_type\n\nAllows set max share extend size that can be created in extra_specs\nfor each share_type. At API level as part of share extend for admin,\nmax share extend size will be checked whereas for non-admin users,\nmax share size will be checked.\nNew extra_specs key is added to set max extend size of share\ni.e.'provisioning:max_share_extend_size'\n\nCloses-Bug: #1987253\nChange-Id: I61e590ed1851e8fa15996dc61e8e17e9413a9d91\n""}, {'number': 8, 'created': '2023-05-31 03:32:19.000000000', 'files': ['manila/tests/share/test_api.py', 'manila/share/share_types.py', 'manila/share/api.py', 'releasenotes/notes/max-share-extend-size-on-type-0528be9a5c27678b.yaml', 'manila/policies/shares.py', 'manila/common/constants.py', 'doc/source/admin/capabilities_and_extra_specs.rst', 'manila/tests/share/test_share_types.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/7a4a81b53cce886902f383d064fd737aa4d67cb9', 'message': ""Add max share extend size limited by share_type\n\nAllows set max share extend size that can be created in extra_specs\nfor each share_type. At API level as part of share extend for admin,\nmax share extend size will be checked whereas for non-admin users,\nmax share size will be checked.\nNew extra_specs key is added to set max extend size of share\ni.e.'provisioning:max_share_extend_size'\n\nCloses-Bug: #1987253\nChange-Id: I61e590ed1851e8fa15996dc61e8e17e9413a9d91\n""}]",36,863709,7a4a81b53cce886902f383d064fd737aa4d67cb9,72,12,8,32919,,,0,"Add max share extend size limited by share_type

Allows set max share extend size that can be created in extra_specs
for each share_type. At API level as part of share extend for admin,
max share extend size will be checked whereas for non-admin users,
max share size will be checked.
New extra_specs key is added to set max extend size of share
i.e.'provisioning:max_share_extend_size'

Closes-Bug: #1987253
Change-Id: I61e590ed1851e8fa15996dc61e8e17e9413a9d91
",git fetch https://review.opendev.org/openstack/manila refs/changes/09/863709/8 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/test_api.py', 'manila/share/api.py', 'manila/share/share_types.py', 'releasenotes/notes/max-share-extend-size-on-type-0528be9a5c27678b.yaml', 'manila/common/constants.py', 'doc/source/admin/capabilities_and_extra_specs.rst', 'manila/tests/share/test_share_types.py']",7,acdbbf15a4d9bcac9b49242e20ad26810ad13873,bug/1987253," share_types.create(self.context, ""type5"", extra_specs={ share_types.MAX_EXTEND_SIZE_KEY: ""99"", ""key4"": ""val4"", ""driver_handles_share_servers"": False}) # verify max extend size requirements type5 = share_types.get_share_type_by_name(self.context, 'type5') self.assertRaises(exception.InvalidInput, share_types.provision_filter_on_size, self.context, type5, ""100"", operation=""extend"") share_types.provision_filter_on_size(self.context, type5, ""99"", operation=""extend"") ",,78,12
openstack%2Fcharm-nova-k8s~main~I92f3fdf0bc73315419c0cb0603db2ac2ccd49f98,openstack/charm-nova-k8s,main,I92f3fdf0bc73315419c0cb0603db2ac2ccd49f98,Update metadata.yaml's base and assumes,MERGED,2023-06-01 06:26:03.000000000,2023-06-01 14:23:03.000000000,2023-06-01 13:41:32.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 06:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/89ab349a697f83158d2b3049a57573febc73d04b', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I92f3fdf0bc73315419c0cb0603db2ac2ccd49f98\n""}, {'number': 2, 'created': '2023-06-01 07:30:04.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/d2a17beb2ff51611244d235e2b36d4a55fc69fb3', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I92f3fdf0bc73315419c0cb0603db2ac2ccd49f98\n""}]",1,884975,d2a17beb2ff51611244d235e2b36d4a55fc69fb3,9,2,2,35761,,,0,"Update metadata.yaml's base and assumes

Change-Id: I92f3fdf0bc73315419c0cb0603db2ac2ccd49f98
",git fetch https://review.opendev.org/openstack/charm-nova-k8s refs/changes/75/884975/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,89ab349a697f83158d2b3049a57573febc73d04b,feat/move-to-jammy, channel: 22.04/stable assumes: - k8s-api, channel: 20.04/stable,3,1
openstack%2Fcharm-glance-k8s~main~I327e0a5bceeaebc6de91037166fdb49f8d122150,openstack/charm-glance-k8s,main,I327e0a5bceeaebc6de91037166fdb49f8d122150,Update metadata.yaml's base and assumes,MERGED,2023-06-01 06:22:59.000000000,2023-06-01 14:20:51.000000000,2023-06-01 13:54:09.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 06:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/09b397ea3b32bdd672a08fee7755a231e912dbbd', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I327e0a5bceeaebc6de91037166fdb49f8d122150\n""}, {'number': 2, 'created': '2023-06-01 07:29:14.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/ee9cc1b1077e408bb41a3d29fb856f480798a4d2', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I327e0a5bceeaebc6de91037166fdb49f8d122150\n""}]",1,884971,ee9cc1b1077e408bb41a3d29fb856f480798a4d2,9,2,2,35761,,,0,"Update metadata.yaml's base and assumes

Change-Id: I327e0a5bceeaebc6de91037166fdb49f8d122150
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/71/884971/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,09b397ea3b32bdd672a08fee7755a231e912dbbd,feat/move-to-jammy, channel: 22.04/stable assumes: - k8s-api, channel: 20.04/stable,3,1
openstack%2Fcharm-cinder-k8s~main~Ifca6bce108cb250705128f1fd6b4339244d438e8,openstack/charm-cinder-k8s,main,Ifca6bce108cb250705128f1fd6b4339244d438e8,Update metadata.yaml's base and assumes,MERGED,2023-06-01 06:22:17.000000000,2023-06-01 14:19:55.000000000,2023-06-01 13:42:17.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 06:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/47145f9cdc7de17234664f0ea94a1d19df023dec', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: Ifca6bce108cb250705128f1fd6b4339244d438e8\n""}, {'number': 2, 'created': '2023-06-01 07:29:02.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/870bc3719237b499cd1f5c40d391e73d8e837626', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: Ifca6bce108cb250705128f1fd6b4339244d438e8\n""}]",1,884970,870bc3719237b499cd1f5c40d391e73d8e837626,9,2,2,35761,,,0,"Update metadata.yaml's base and assumes

Change-Id: Ifca6bce108cb250705128f1fd6b4339244d438e8
",git fetch https://review.opendev.org/openstack/charm-cinder-k8s refs/changes/70/884970/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,47145f9cdc7de17234664f0ea94a1d19df023dec,feat/move-to-jammy, channel: 22.04/stable assumes: - k8s-api, channel: 20.04/stable,3,1
openstack%2Fcharm-cinder-ceph-k8s~main~I6e184d65bf3c0083a60ddc23d09badad01f89191,openstack/charm-cinder-ceph-k8s,main,I6e184d65bf3c0083a60ddc23d09badad01f89191,Update metadata.yaml's base and assumes,MERGED,2023-06-01 06:21:47.000000000,2023-06-01 14:18:42.000000000,2023-06-01 13:43:26.000000000,"[{'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 06:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/576db7ebef76e5a1a7740f76845767c0979a766c', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I6e184d65bf3c0083a60ddc23d09badad01f89191\n""}, {'number': 2, 'created': '2023-06-01 07:28:25.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/c77ce1df960034b7d45300032c6090f8cee4eb13', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I6e184d65bf3c0083a60ddc23d09badad01f89191\n""}]",2,884969,c77ce1df960034b7d45300032c6090f8cee4eb13,14,3,2,35761,,,0,"Update metadata.yaml's base and assumes

Change-Id: I6e184d65bf3c0083a60ddc23d09badad01f89191
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph-k8s refs/changes/69/884969/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,576db7ebef76e5a1a7740f76845767c0979a766c,feat/move-to-jammy, channel: 22.04/stable assumes: - k8s-api, channel: 20.04/stable,3,1
openstack%2Fkayobe~stable%2Fxena~Id48a63ba5a85d4745b7e0a905a9195ad0dc7a751,openstack/kayobe,stable/xena,Id48a63ba5a85d4745b7e0a905a9195ad0dc7a751,Bump mrlesmithjr.lvm to skip swap resizes,MERGED,2023-04-17 06:34:22.000000000,2023-06-01 14:18:22.000000000,2023-06-01 14:17:17.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32657}]","[{'number': 1, 'created': '2023-04-17 06:34:22.000000000', 'files': ['requirements.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cbf13d585052b0abb1c7a692c301ad682c01f18d', 'message': 'Bump mrlesmithjr.lvm to skip swap resizes\n\nSee https://github.com/mrlesmithjr/ansible-manage-lvm/releases/tag/v0.2.7\n\nChange-Id: Id48a63ba5a85d4745b7e0a905a9195ad0dc7a751\n(cherry picked from commit b3797d66502e60830ac76b87995195a46821cf37)\n'}]",3,880590,cbf13d585052b0abb1c7a692c301ad682c01f18d,19,4,1,22629,,,0,"Bump mrlesmithjr.lvm to skip swap resizes

See https://github.com/mrlesmithjr/ansible-manage-lvm/releases/tag/v0.2.7

Change-Id: Id48a63ba5a85d4745b7e0a905a9195ad0dc7a751
(cherry picked from commit b3797d66502e60830ac76b87995195a46821cf37)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/90/880590/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.yml'],1,cbf13d585052b0abb1c7a692c301ad682c01f18d,, version: v0.2.8, version: v0.2.6,1,1
openstack%2Fmagnum~stable%2F2023.1~Idbec5e8e64096a1e1a932da79e656f97f8db1144,openstack/magnum,stable/2023.1,Idbec5e8e64096a1e1a932da79e656f97f8db1144,cinder-csi: Run controllerplugin in CNI network,MERGED,2023-05-30 08:52:28.000000000,2023-06-01 14:17:33.000000000,2023-06-01 14:16:22.000000000,"[{'_account_id': 8064}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 08:52:28.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/f2910697deae132eae48b85de174f180c279ca18', 'message': 'cinder-csi: Run controllerplugin in CNI network\n\nCurrently one cinder-csi-nodeplugin pod is always in Pending state,\nbecause the nodeplugin and controllerplugin deployments share the\nsame TCP port.\n\nAdapt the manifest to upstream cinder-csi manifest, and run\ncontrollerplugin in CNI network and nodeplugin in host networking.\n\nChange-Id: Idbec5e8e64096a1e1a932da79e656f97f8db1144\n(cherry picked from commit b578bd8a78d890ad32aeb6066cc22ece165f54e2)\n'}]",0,884661,f2910697deae132eae48b85de174f180c279ca18,7,2,1,8064,,,0,"cinder-csi: Run controllerplugin in CNI network

Currently one cinder-csi-nodeplugin pod is always in Pending state,
because the nodeplugin and controllerplugin deployments share the
same TCP port.

Adapt the manifest to upstream cinder-csi manifest, and run
controllerplugin in CNI network and nodeplugin in host networking.

Change-Id: Idbec5e8e64096a1e1a932da79e656f97f8db1144
(cherry picked from commit b578bd8a78d890ad32aeb6066cc22ece165f54e2)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/61/884661/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh'],1,f2910697deae132eae48b85de174f180c279ca18,,, hostNetwork: true,0,1
openstack%2Fcharm-neutron-k8s~main~I89dc5e0cc93aed0168f3456c0270a858c583acb7,openstack/charm-neutron-k8s,main,I89dc5e0cc93aed0168f3456c0270a858c583acb7,Update metadata.yaml's base and assumes,MERGED,2023-06-01 06:25:32.000000000,2023-06-01 14:16:45.000000000,2023-06-01 13:43:44.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 06:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/3882f141a5b8deaceefc5e4230f17fc556658e6b', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I89dc5e0cc93aed0168f3456c0270a858c583acb7\n""}, {'number': 2, 'created': '2023-06-01 07:29:55.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/7bf20c2846c10f092d7dbdd087ece5ecde6c0934', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I89dc5e0cc93aed0168f3456c0270a858c583acb7\n""}]",5,884974,7bf20c2846c10f092d7dbdd087ece5ecde6c0934,16,2,2,35761,,,0,"Update metadata.yaml's base and assumes

Change-Id: I89dc5e0cc93aed0168f3456c0270a858c583acb7
",git fetch https://review.opendev.org/openstack/charm-neutron-k8s refs/changes/74/884974/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,3882f141a5b8deaceefc5e4230f17fc556658e6b,feat/move-to-jammy,bases: - name: ubuntu channel: 22.04/stable assumes: - k8s-api,,5,1
openstack%2Foslo.utils~master~I6e6b3fe9fe24533553f655a687a3c4e6714fde6f,openstack/oslo.utils,master,I6e6b3fe9fe24533553f655a687a3c4e6714fde6f,Update units for current SI prefixes,MERGED,2023-04-07 15:42:59.000000000,2023-06-01 14:14:44.000000000,2023-06-01 14:13:37.000000000,"[{'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-04-07 15:42:59.000000000', 'files': ['oslo_utils/units.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/4cc569319077cf25906d50bee8b9340e73392cc1', 'message': ""Update units for current SI prefixes\n\nFollowing Resolution 3 of the 27th General Conference on Weights\nand Measures (CGPM) in 2022 [0], update oslo units to include\n'ronna' and 'quetta' for decimal prefixes.  Although ISO/IEC\n80000-13 has not yet been updated for the binary equivalents,\nit's safe to assume ISO will follow current practice [1], so\nthose are added as well.\n\n[0] https://www.bipm.org/en/cgpm-2022/resolution-3\n[1] https://iopscience.iop.org/article/10.1088/1681-7575/ac6afd\n\nChange-Id: I6e6b3fe9fe24533553f655a687a3c4e6714fde6f\n""}]",1,879900,4cc569319077cf25906d50bee8b9340e73392cc1,10,4,1,5314,,,0,"Update units for current SI prefixes

Following Resolution 3 of the 27th General Conference on Weights
and Measures (CGPM) in 2022 [0], update oslo units to include
'ronna' and 'quetta' for decimal prefixes.  Although ISO/IEC
80000-13 has not yet been updated for the binary equivalents,
it's safe to assume ISO will follow current practice [1], so
those are added as well.

[0] https://www.bipm.org/en/cgpm-2022/resolution-3
[1] https://iopscience.iop.org/article/10.1088/1681-7575/ac6afd

Change-Id: I6e6b3fe9fe24533553f655a687a3c4e6714fde6f
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/00/879900/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_utils/units.py'],1,4cc569319077cf25906d50bee8b9340e73392cc1,cgpm-27,"Ri = 1024 ** 9 ""Binary ronna unit"" Qi = 1024 ** 10 ""Binary quetta unit""R = 1000 ** 9 ""Decimal ronna unit"" Q = 1000 ** 10 ""Decimal quetta unit""",,8,0
openstack%2Fneutron~master~I9238026c3b428143a81b7b0e70d3288a9b945071,openstack/neutron,master,I9238026c3b428143a81b7b0e70d3288a9b945071,[OVN] Avoid setting requested-chassis on trunk subports,ABANDONED,2023-03-09 17:10:19.000000000,2023-06-01 14:11:51.000000000,,"[{'_account_id': 9845}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 32586}]","[{'number': 1, 'created': '2023-03-09 17:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f4cccd26a21519b234caab60c99b67d9d20565e', 'message': ""[OVN] Avoid setting requested-chassis on trunk subports\n\nAfter migrating the environment from OVS to OVN the trunk\nsubports will have the information 'requested-chassis' on\nit's options, that will avoid to migrate this subport during\na live migration (if the VM has not been stopped).\n\nRemoving this key will allow to live-migrate it without any\nproblem.\n\nChange-Id: I9238026c3b428143a81b7b0e70d3288a9b945071\n""}, {'number': 2, 'created': '2023-03-23 16:15:19.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/651cab17c1772c01c8124165665919b304815e80', 'message': ""[OVN] Avoid setting requested-chassis on trunk subports\n\nAfter migrating the environment from OVS to OVN the trunk\nsubports will have the information 'requested-chassis' on\nit's options, that will avoid to migrate this subport during\na live migration (if the VM has not been stopped).\n\nRemoving this key will allow to live-migrate it without any\nproblem.\n\nChange-Id: I9238026c3b428143a81b7b0e70d3288a9b945071\n""}]",6,877006,651cab17c1772c01c8124165665919b304815e80,15,5,2,34118,,,0,"[OVN] Avoid setting requested-chassis on trunk subports

After migrating the environment from OVS to OVN the trunk
subports will have the information 'requested-chassis' on
it's options, that will avoid to migrate this subport during
a live migration (if the VM has not been stopped).

Removing this key will allow to live-migrate it without any
problem.

Change-Id: I9238026c3b428143a81b7b0e70d3288a9b945071
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/877006/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,8f4cccd26a21519b234caab60c99b67d9d20565e,,from neutron_lib.services.trunk import constants as trunk_const # Do not add the LSP_OPTIONS_REQUESTED_CHASSIS_KEY if the port # type is trunk_subport since this will mess up the live-migration # This happens only while the environment is migrated from OVS to OVN if port_type != trunk_const.TRUNK_SUBPORT_OWNER: options[ovn_const.LSP_OPTIONS_REQUESTED_CHASSIS_KEY] = chassis, options[ovn_const.LSP_OPTIONS_REQUESTED_CHASSIS_KEY] = chassis,6,1
openstack%2Fcharm-placement-k8s~main~I11a2635db563e33f118de7b2776e84126345bbc9,openstack/charm-placement-k8s,main,I11a2635db563e33f118de7b2776e84126345bbc9,Update metadata.yaml's base and assumes,MERGED,2023-06-01 06:29:46.000000000,2023-06-01 14:09:20.000000000,2023-06-01 13:45:21.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 06:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/03e8508f44e72782d0d3b04e0a88649989486857', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I11a2635db563e33f118de7b2776e84126345bbc9\n""}, {'number': 2, 'created': '2023-06-01 07:30:40.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/b7979aa18ee4f5741542a5c7039eeafc3287f82f', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I11a2635db563e33f118de7b2776e84126345bbc9\n""}]",1,884978,b7979aa18ee4f5741542a5c7039eeafc3287f82f,9,2,2,35761,,,0,"Update metadata.yaml's base and assumes

Change-Id: I11a2635db563e33f118de7b2776e84126345bbc9
",git fetch https://review.opendev.org/openstack/charm-placement-k8s refs/changes/78/884978/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,03e8508f44e72782d0d3b04e0a88649989486857,feat/move-to-jammy, channel: 22.04/stable assumes: - k8s-api, channel: 20.04/stable,3,1
openstack%2Fmagnum~master~Idbec5e8e64096a1e1a932da79e656f97f8db1144,openstack/magnum,master,Idbec5e8e64096a1e1a932da79e656f97f8db1144,cinder-csi: Run controllerplugin in CNI network,MERGED,2023-01-11 09:11:44.000000000,2023-06-01 14:08:54.000000000,2023-06-01 14:07:49.000000000,"[{'_account_id': 8064}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-11 09:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a1efb3cb42c43ea3161a47bee33b80310c1921ef', 'message': 'cinder-csi: Run controllerplugin in CNI network\n\nCurrently one cinder-csi-nodeplugin pod is always in Pending state,\nbecause the nodeplugin and controllerplugin deployments share the\nsame TCP port.\n\nAdapt the manifest to upstream cinder-csi manifest, and run\ncontrollerplugin in CNI network and nodeplugin in host networking.\n\nChange-Id: Idbec5e8e64096a1e1a932da79e656f97f8db1144\n'}, {'number': 2, 'created': '2023-05-30 07:36:40.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b578bd8a78d890ad32aeb6066cc22ece165f54e2', 'message': 'cinder-csi: Run controllerplugin in CNI network\n\nCurrently one cinder-csi-nodeplugin pod is always in Pending state,\nbecause the nodeplugin and controllerplugin deployments share the\nsame TCP port.\n\nAdapt the manifest to upstream cinder-csi manifest, and run\ncontrollerplugin in CNI network and nodeplugin in host networking.\n\nChange-Id: Idbec5e8e64096a1e1a932da79e656f97f8db1144\n'}]",2,869795,b578bd8a78d890ad32aeb6066cc22ece165f54e2,11,2,2,22629,,,0,"cinder-csi: Run controllerplugin in CNI network

Currently one cinder-csi-nodeplugin pod is always in Pending state,
because the nodeplugin and controllerplugin deployments share the
same TCP port.

Adapt the manifest to upstream cinder-csi manifest, and run
controllerplugin in CNI network and nodeplugin in host networking.

Change-Id: Idbec5e8e64096a1e1a932da79e656f97f8db1144
",git fetch https://review.opendev.org/openstack/magnum refs/changes/95/869795/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh'],1,a1efb3cb42c43ea3161a47bee33b80310c1921ef,,, hostNetwork: true,0,1
openstack%2Fcharm-horizon-k8s~main~I769cdeb8c61f87e4b18f0a846bce4085342d3f1f,openstack/charm-horizon-k8s,main,I769cdeb8c61f87e4b18f0a846bce4085342d3f1f,Update metadata.yaml's base and assumes,MERGED,2023-06-01 06:23:42.000000000,2023-06-01 14:07:20.000000000,2023-06-01 13:43:45.000000000,"[{'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 06:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/9c71eeb87a3cdabe747239d4ff65947a495de27a', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I769cdeb8c61f87e4b18f0a846bce4085342d3f1f\n""}, {'number': 2, 'created': '2023-06-01 07:29:25.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/2c2fb5a2b72ea0746763965d5e61a190d358b52c', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I769cdeb8c61f87e4b18f0a846bce4085342d3f1f\n""}]",1,884972,2c2fb5a2b72ea0746763965d5e61a190d358b52c,11,3,2,35761,,,0,"Update metadata.yaml's base and assumes

Change-Id: I769cdeb8c61f87e4b18f0a846bce4085342d3f1f
",git fetch https://review.opendev.org/openstack/charm-horizon-k8s refs/changes/72/884972/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,9c71eeb87a3cdabe747239d4ff65947a495de27a,feat/move-to-jammy, channel: 22.04/stable assumes: - k8s-api, channel: 20.04/stable,3,1
openstack%2Fnetworking-odl~stable%2Fyoga~Icff1b5737b4d2c52ead48e3700de668038f3c5c1,openstack/networking-odl,stable/yoga,Icff1b5737b4d2c52ead48e3700de668038f3c5c1,Remove periodic-stable-jobs template,MERGED,2023-05-24 12:39:43.000000000,2023-06-01 13:55:11.000000000,2023-06-01 13:52:50.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 12:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/29a53d72c54ac29dd9bf765f0bb0681a8e93fa7d', 'message': 'Remove periodic-stable-jobs template\n\nnetworking-odl is about to become deprecated [1] (furthermore, periodic\nstable jobs on yoga and older branches are failing for long time), so\nit is unnecessary to run periodic stable jobs against networking-odl\nanymore.\n\n[1] https://review.opendev.org/c/openstack/governance/+/884002\n\nChange-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1\n(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)\n(cherry picked from commit 439a2437385a9a948ccec234d79f63e7422b9fae)\n(cherry picked from commit 9b01ad6c9d391cd9da97d27f7f5e402eecd4a239)\n'}, {'number': 2, 'created': '2023-06-01 09:47:12.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/1c3c039b71f07ff03a4f87f90df59a756667aa10', 'message': 'Remove periodic-stable-jobs template\n\nnetworking-odl is about to become deprecated [1] (furthermore, periodic\nstable jobs on yoga and older branches are failing for long time), so\nit is unnecessary to run periodic stable jobs against networking-odl\nanymore.\n\n[1] https://review.opendev.org/c/openstack/governance/+/884002\n\nChange-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1\n(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)\n(cherry picked from commit 439a2437385a9a948ccec234d79f63e7422b9fae)\n(cherry picked from commit 9b01ad6c9d391cd9da97d27f7f5e402eecd4a239)\n'}]",1,884190,1c3c039b71f07ff03a4f87f90df59a756667aa10,10,3,2,17685,,,0,"Remove periodic-stable-jobs template

networking-odl is about to become deprecated [1] (furthermore, periodic
stable jobs on yoga and older branches are failing for long time), so
it is unnecessary to run periodic stable jobs against networking-odl
anymore.

[1] https://review.opendev.org/c/openstack/governance/+/884002

Change-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1
(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)
(cherry picked from commit 439a2437385a9a948ccec234d79f63e7422b9fae)
(cherry picked from commit 9b01ad6c9d391cd9da97d27f7f5e402eecd4a239)
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/90/884190/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,29a53d72c54ac29dd9bf765f0bb0681a8e93fa7d,remove-odl-periodic-stable,, - periodic-stable-jobs-neutron,0,1
openstack%2Fkayobe~stable%2Fyoga~I9c698916999b30bf3fd8f7dfe5add7d332a84b6c,openstack/kayobe,stable/yoga,I9c698916999b30bf3fd8f7dfe5add7d332a84b6c,CI: Unbreak stable/yoga with two cherry-picks,MERGED,2023-05-31 15:04:27.000000000,2023-06-01 13:44:15.000000000,2023-06-01 13:32:57.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-31 15:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ac0d1fb9fbe7f2fc4fc9116809afa00719b66acc', 'message': 'CI: Unbreak stable/zed with two cherry-picks\n\n1) CI: Enable bare metal testing for Ubuntu upgrades\n\nMore than one year ago, change I96827fc32c1594ca9a0535e259929c49d3f0e704\nenabled bare metal testing on Ubuntu, but only for non-upgrade jobs. It\nshould be safe to test during upgrade jobs too.\n\n(cherry picked from commit 916ffba691cfae80490b7accedd26eb65328f6ea)\n\n2) CI: Disable bare metal testing on RL9/c9s\n\nRocky Linux 9.2 shipped with Libvirt 9.0.0 which breaks our bare metal\ntesting. Temporarily run bare metal testing only on Ubuntu.\n\nThis allows us to make rocky9 jobs voting again.\n\n(cherry picked from commit 21c68bbfafe529e1c337ba242c2e501c75bfedaa)\n\nChange-Id: I9c698916999b30bf3fd8f7dfe5add7d332a84b6c\n'}, {'number': 2, 'created': '2023-06-01 08:05:02.000000000', 'files': ['playbooks/kayobe-overcloud-base/run.yml', 'playbooks/kayobe-overcloud-upgrade-base/run.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/eaa41315a534328e4b588fb4c705d50ac3adae0a', 'message': 'CI: Unbreak stable/yoga with two cherry-picks\n\n1) CI: Enable bare metal testing for Ubuntu upgrades\n\nMore than one year ago, change I96827fc32c1594ca9a0535e259929c49d3f0e704\nenabled bare metal testing on Ubuntu, but only for non-upgrade jobs. It\nshould be safe to test during upgrade jobs too.\n\n(cherry picked from commit 916ffba691cfae80490b7accedd26eb65328f6ea)\n\n2) CI: Disable bare metal testing on RL9/c9s\n\nRocky Linux 9.2 shipped with Libvirt 9.0.0 which breaks our bare metal\ntesting. Temporarily run bare metal testing only on Ubuntu.\n\nThis allows us to make rocky9 jobs voting again.\n\nAdapted to continue running CS8 bare metal testing.\n\n(cherry picked from commit 21c68bbfafe529e1c337ba242c2e501c75bfedaa)\n\nChange-Id: I9c698916999b30bf3fd8f7dfe5add7d332a84b6c\n'}]",8,884819,eaa41315a534328e4b588fb4c705d50ac3adae0a,18,6,2,14200,,,0,"CI: Unbreak stable/yoga with two cherry-picks

1) CI: Enable bare metal testing for Ubuntu upgrades

More than one year ago, change I96827fc32c1594ca9a0535e259929c49d3f0e704
enabled bare metal testing on Ubuntu, but only for non-upgrade jobs. It
should be safe to test during upgrade jobs too.

(cherry picked from commit 916ffba691cfae80490b7accedd26eb65328f6ea)

2) CI: Disable bare metal testing on RL9/c9s

Rocky Linux 9.2 shipped with Libvirt 9.0.0 which breaks our bare metal
testing. Temporarily run bare metal testing only on Ubuntu.

This allows us to make rocky9 jobs voting again.

Adapted to continue running CS8 bare metal testing.

(cherry picked from commit 21c68bbfafe529e1c337ba242c2e501c75bfedaa)

Change-Id: I9c698916999b30bf3fd8f7dfe5add7d332a84b6c
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/19/884819/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-overcloud-base/run.yml', 'playbooks/kayobe-overcloud-upgrade-base/run.yml']",2,ac0d1fb9fbe7f2fc4fc9116809afa00719b66acc,, # FIXME(priteau): Bare metal testing fails on RL9/c9s with Libvirt 9.0.0 when: ansible_facts.os_family == 'Debian' # FIXME(priteau): Bare metal testing fails on RL9/c9s with Libvirt 9.0.0 when: ansible_facts.os_family == 'Debian', # FIXME(mgoddard): Bare metal testing is unreliable on Ubuntu - some jobs # see IPMI failures such as the following: # ipmitool chassis bootdev pxe # Error setting Chassis Boot Parameter 5\nError setting Chassis Boot # Parameter 0\n when: ansible_facts.os_family != 'Debian' # FIXME(mgoddard): Bare metal testing is unreliable on Ubuntu - some jobs # see IPMI failures such as the following: # ipmitool chassis bootdev pxe # Error setting Chassis Boot Parameter 5\nError setting Chassis Boot # Parameter 0\n when: ansible_facts.os_family != 'Debian',6,12
openstack%2Fcinder~master~I130a4fd6f2edd5628208774aa3f3b70ac494e476,openstack/cinder,master,I130a4fd6f2edd5628208774aa3f3b70ac494e476,"zuul: Extend c-p-ceph-tempest, make integrated-storage-focal nv",ABANDONED,2023-05-31 15:02:23.000000000,2023-06-01 13:43:30.000000000,,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 29122}]","[{'number': 1, 'created': '2023-05-31 15:02:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/814c72f4034685ab62f2dac32770f4190718c203', 'message': ""zuul: Extend c-p-ceph-tempest, make integrated-storage-focal nv\n\nThis job is somewhat regularly bumping into the\n2h time limit, bump it to 3 hours.\n\nhttps://zuul.opendev.org/t/openstack/builds?job_name=cinder-plugin-ceph-tempest&result=TIMED_OUT&skip=0\n\nMake tempest-integrated-storage-ubuntu-focal non-voting in\nthe check queue and remove it from the gate queue, since it\ndoesn't work and is preventing us from merging gate fixes.\n\nChange-Id: I130a4fd6f2edd5628208774aa3f3b70ac494e476\n""}]",6,884896,814c72f4034685ab62f2dac32770f4190718c203,22,4,1,4523,,,0,"zuul: Extend c-p-ceph-tempest, make integrated-storage-focal nv

This job is somewhat regularly bumping into the
2h time limit, bump it to 3 hours.

https://zuul.opendev.org/t/openstack/builds?job_name=cinder-plugin-ceph-tempest&result=TIMED_OUT&skip=0

Make tempest-integrated-storage-ubuntu-focal non-voting in
the check queue and remove it from the gate queue, since it
doesn't work and is preventing us from merging gate fixes.

Change-Id: I130a4fd6f2edd5628208774aa3f3b70ac494e476
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/884896/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,814c72f4034685ab62f2dac32770f4190718c203,, voting: false timeout: 10800, - tempest-integrated-storage-ubuntu-focal: irrelevant-files: *gate-irrelevant-files,2,2
openstack%2Fkayobe~stable%2Fyoga~I000ae473bb759e19b48ecefdbf5d5dc19c833088,openstack/kayobe,stable/yoga,I000ae473bb759e19b48ecefdbf5d5dc19c833088,Show an error when *_bridge_ports is not a list,MERGED,2023-05-24 16:02:41.000000000,2023-06-01 13:34:49.000000000,2023-06-01 13:33:01.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-24 16:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/18ba0293bbec8a52f568c0f31c8b354bc7fa67ac', 'message': 'Show an error when *_bridge_ports is not a list\n\nCloses-Bug: #2020378\nChange-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 9b58320f6b40de3c33bee179d97dd0bf5bf61986)\n'}, {'number': 2, 'created': '2023-05-31 15:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/df0457efafbec1625d46709186f474ccdb55529c', 'message': 'Show an error when *_bridge_ports is not a list\n\nCloses-Bug: #2020378\nChange-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 9b58320f6b40de3c33bee179d97dd0bf5bf61986)\n'}, {'number': 3, 'created': '2023-06-01 08:57:50.000000000', 'files': ['kayobe/tests/unit/plugins/filter/test_networks.py', 'kayobe/plugins/filter/networks.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/74911c52daf74347cdc479c87bcd4a065a5bc535', 'message': 'Show an error when *_bridge_ports is not a list\n\nCloses-Bug: #2020378\nChange-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 9b58320f6b40de3c33bee179d97dd0bf5bf61986)\n'}]",14,884243,74911c52daf74347cdc479c87bcd4a065a5bc535,38,4,3,14200,,,0,"Show an error when *_bridge_ports is not a list

Closes-Bug: #2020378
Change-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 9b58320f6b40de3c33bee179d97dd0bf5bf61986)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/43/884243/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/plugins/filter/test_networks.py', 'kayobe/plugins/filter/networks.py']",2,18ba0293bbec8a52f568c0f31c8b354bc7fa67ac,fix-bad-bridge-ports," ports = net_attr(context, name, 'bridge_ports', inventory_hostname) if ports and not isinstance(ports, list): raise errors.AnsibleFilterError(""Bridge ports for network '%s' should"" "" be a list"", name) return ports"," return net_attr(context, name, 'bridge_ports', inventory_hostname)",11,1
openstack%2Fkayobe~master~Ie272e701b8952ef106be99b8fe36eb04cb524898,openstack/kayobe,master,Ie272e701b8952ef106be99b8fe36eb04cb524898,Update gitignore for .vscode/ configuration files,MERGED,2023-05-30 13:16:25.000000000,2023-06-01 13:34:09.000000000,2023-06-01 13:33:06.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-05-30 13:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1d181da414e4403be3ced94a644329940a6b7ac4', 'message': 'Update gitignore for .vscode/ configuration files\n\nChange-Id: Ie272e701b8952ef106be99b8fe36eb04cb524898\n'}, {'number': 2, 'created': '2023-05-31 08:53:34.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/47829142cd9ebc3ae7d7f440870491e81c3ddfad', 'message': 'Update gitignore for .vscode/ configuration files\n\nChange-Id: Ie272e701b8952ef106be99b8fe36eb04cb524898\n'}]",2,884694,47829142cd9ebc3ae7d7f440870491e81c3ddfad,15,5,2,35264,,,0,"Update gitignore for .vscode/ configuration files

Change-Id: Ie272e701b8952ef106be99b8fe36eb04cb524898
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/94/884694/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,1d181da414e4403be3ced94a644329940a6b7ac4,update-gitignore-vscode,.vscode/*,,1,0
openstack%2Fkayobe~stable%2Fzed~I000ae473bb759e19b48ecefdbf5d5dc19c833088,openstack/kayobe,stable/zed,I000ae473bb759e19b48ecefdbf5d5dc19c833088,Show an error when *_bridge_ports is not a list,MERGED,2023-05-24 16:02:17.000000000,2023-06-01 13:34:09.000000000,2023-06-01 13:33:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-24 16:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e577ddc2d26998a5ad8a70f032613e871005be7f', 'message': 'Show an error when *_bridge_ports is not a list\n\nCloses-Bug: #2020378\nChange-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 9b58320f6b40de3c33bee179d97dd0bf5bf61986)\n'}, {'number': 2, 'created': '2023-05-31 12:34:05.000000000', 'files': ['kayobe/tests/unit/plugins/filter/test_networks.py', 'kayobe/plugins/filter/networks.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/586d23550224d1f74a97d6e204fb23c84421f826', 'message': 'Show an error when *_bridge_ports is not a list\n\nCloses-Bug: #2020378\nChange-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 9b58320f6b40de3c33bee179d97dd0bf5bf61986)\n'}]",14,884242,586d23550224d1f74a97d6e204fb23c84421f826,35,4,2,14200,,,0,"Show an error when *_bridge_ports is not a list

Closes-Bug: #2020378
Change-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 9b58320f6b40de3c33bee179d97dd0bf5bf61986)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/42/884242/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/plugins/filter/test_networks.py', 'kayobe/plugins/filter/networks.py']",2,e577ddc2d26998a5ad8a70f032613e871005be7f,fix-bad-bridge-ports," ports = net_attr(context, name, 'bridge_ports', inventory_hostname) if ports and not isinstance(ports, list): raise errors.AnsibleFilterError(""Bridge ports for network '%s' should"" "" be a list"", name) return ports"," return net_attr(context, name, 'bridge_ports', inventory_hostname)",11,1
openstack%2Fkeystonemiddleware~stable%2Fvictoria~I0c022c3cc57f30530ebdef6e434753ece2bdf912,openstack/keystonemiddleware,stable/victoria,I0c022c3cc57f30530ebdef6e434753ece2bdf912,Add timeout for requests,ABANDONED,2023-03-21 16:53:31.000000000,2023-06-01 13:14:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-21 16:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/2cfdcc1eb7f253df3a2b0d0b47546b4299b90bf4', 'message': ""Add timeout for requests\n\nBandit emits errors for request methods without the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\n\nAdded timeout parameters and config options to set timeout.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\nChange-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)\n""}, {'number': 2, 'created': '2023-05-16 18:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/3784d5d7c3647d1308ec37137d56e0ea03f1b1ec', 'message': ""Add timeout for requests\n\nBandit emits errors for request methods without the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\n\nAdded timeout parameters and config options to set timeout.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\nChange-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)\n""}, {'number': 3, 'created': '2023-05-17 13:23:06.000000000', 'files': ['keystonemiddleware/ec2_token.py', 'keystonemiddleware/s3_token.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/3ee9deaaba95e01efc9d08d83c72a23db2c4d905', 'message': ""Add timeout for requests\n\nBandit emits errors for request methods without the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\n\nAdded timeout parameters and config options to set timeout.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\nChange-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)\n""}]",0,878027,3ee9deaaba95e01efc9d08d83c72a23db2c4d905,9,1,3,34275,,,0,"Add timeout for requests

Bandit emits errors for request methods without the timeout parameter.
It's better to follow the instruction to avoid hanging.

Added timeout parameters and config options to set timeout.

[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html

Change-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912
(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/27/878027/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/ec2_token.py', 'keystonemiddleware/s3_token.py']",2,2cfdcc1eb7f253df3a2b0d0b47546b4299b90bf4,877808-stable/victoria,"from oslo_config import cfgs3_opts = [ cfg.IntOpt('timeout', default=60, help='Timeout to obtain token.'), ] CONF = cfg.CONF CONF.register_opts(s3_opts, group='s3_token') verify=self._verify, timeout=CONF.s3_token.timeout)", verify=self._verify),17,4
openstack%2Fkeystonemiddleware~stable%2Fvictoria~I83f67ce5309c2d7909fab53dc7f5f8fd37158f15,openstack/keystonemiddleware,stable/victoria,I83f67ce5309c2d7909fab53dc7f5f8fd37158f15,[DNM] Fix mocks in EC2 token tests,ABANDONED,2023-05-16 18:01:44.000000000,2023-06-01 13:13:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-16 18:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/37d9ea0f77ee976c05df2f03491da3b383f7c1b4', 'message': '[DNM] Fix mocks in EC2 token tests\n\nUpdated mocks used in ec2_token tests according to the changes made by\n[1]\n\n[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/878023\n\nChange-Id: I83f67ce5309c2d7909fab53dc7f5f8fd37158f15\n'}, {'number': 2, 'created': '2023-05-16 19:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/6fa5f8de45bfa2d926a76ae2149af8084d01d1e2', 'message': '[DNM] Fix mocks in EC2 token tests\n\nUpdated mocks used in ec2_token tests according to the changes made by\n[1]\n\n[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/878023\n\nChange-Id: I83f67ce5309c2d7909fab53dc7f5f8fd37158f15\n'}, {'number': 3, 'created': '2023-05-17 13:22:06.000000000', 'files': ['keystonemiddleware/tests/unit/test_ec2_token_middleware.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/7b72bf581dd98ea6c801df53a102395b84fd91d0', 'message': '[DNM] Fix mocks in EC2 token tests\n\nUpdated mocks used in ec2_token tests according to the changes made by\n[1]\n\n[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/878023\n\nChange-Id: I83f67ce5309c2d7909fab53dc7f5f8fd37158f15\n'}]",0,883124,7b72bf581dd98ea6c801df53a102395b84fd91d0,8,1,3,34275,,,0,"[DNM] Fix mocks in EC2 token tests

Updated mocks used in ec2_token tests according to the changes made by
[1]

[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/878023

Change-Id: I83f67ce5309c2d7909fab53dc7f5f8fd37158f15
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/24/883124/3 && git format-patch -1 --stdout FETCH_HEAD,['keystonemiddleware/tests/unit/test_ec2_token_middleware.py'],1,37d9ea0f77ee976c05df2f03491da3b383f7c1b4,877808-stable/xena-stable/victoria," requests, 'post', 'http://localhost:5000/v3/ec2tokens', verify=True, cert=None, timeout=mock.ANY) requests, 'post', 'http://localhost:5000/v3/ec2tokens', verify=True, cert=None, timeout=mock.ANY) 'post', mock_request.assert_called_with(mock.ANY, verify=mock.ANY, cert=mock.ANY, timeout=mock.ANY) 'post', mock_request.assert_called_with(mock.ANY, verify=mock.ANY, cert=mock.ANY, timeout=mock.ANY)"," requests, 'request', 'POST', 'http://localhost:5000/v3/ec2tokens', verify=True, cert=None) requests, 'request', 'POST', 'http://localhost:5000/v3/ec2tokens', verify=True, cert=None) 'request', mock_request.assert_called_with('POST', mock.ANY, verify=mock.ANY, cert=mock.ANY) 'request', mock_request.assert_called_with('POST', mock.ANY, verify=mock.ANY, cert=mock.ANY)",14,12
openstack%2Fbifrost~master~I231de6b7784d8d926cb7d939e961b4d6f0807391,openstack/bifrost,master,I231de6b7784d8d926cb7d939e961b4d6f0807391,Reduce multiple tasks to task with loop,MERGED,2023-03-12 22:57:47.000000000,2023-06-01 12:59:07.000000000,2023-06-01 12:58:00.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 25600}]","[{'number': 1, 'created': '2023-03-12 22:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/dda2bc2294b5198be1390cce540e1681257528e1', 'message': 'Reduce multiple tasks to task with loop\n\nChange-Id: I231de6b7784d8d926cb7d939e961b4d6f0807391\n'}, {'number': 2, 'created': '2023-05-30 22:12:23.000000000', 'files': ['playbooks/cleanup-deployment-images.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/70806dfb064fff25c05ace7a81a299f7a24e6d01', 'message': 'Reduce multiple tasks to task with loop\n\nChange-Id: I231de6b7784d8d926cb7d939e961b4d6f0807391\n'}]",3,877186,70806dfb064fff25c05ace7a81a299f7a24e6d01,22,4,2,25600,,,0,"Reduce multiple tasks to task with loop

Change-Id: I231de6b7784d8d926cb7d939e961b4d6f0807391
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/86/877186/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/cleanup-deployment-images.yaml'],1,dda2bc2294b5198be1390cce540e1681257528e1,," path: ""{{ item }}"" loop: - ""{{ ironic_tftp_master_path }}"" - ""{{ ipa_kernel }}"" - ""{{ ipa_ramdisk }}"""," path: ""{{ ironic_tftp_master_path }}"" - file: path: ""{{ ipa_kernel }}"" state: absent - file: path: ""{{ ipa_ramdisk }}"" state: absent",5,7
openstack%2Fkolla-ansible~stable%2F2023.1~I5c5b6a7e83be083d7e655c84bb13900edb6b0fbf,openstack/kolla-ansible,stable/2023.1,I5c5b6a7e83be083d7e655c84bb13900edb6b0fbf,2023.1 - Update openstack_release and ansible-collection-kolla version,MERGED,2023-06-01 08:53:21.000000000,2023-06-01 12:45:14.000000000,2023-06-01 12:43:57.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-06-01 08:53:21.000000000', 'files': ['ansible/group_vars/all.yml', 'requirements.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6cb21cec85bdfff0d47fea9e2f731fcd3705bfc5', 'message': '2023.1 - Update openstack_release and ansible-collection-kolla version\n\nChange-Id: I5c5b6a7e83be083d7e655c84bb13900edb6b0fbf\n'}]",0,884988,6cb21cec85bdfff0d47fea9e2f731fcd3705bfc5,10,4,1,14826,,,0,"2023.1 - Update openstack_release and ansible-collection-kolla version

Change-Id: I5c5b6a7e83be083d7e655c84bb13900edb6b0fbf
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/884988/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'requirements.yml', 'etc/kolla/globals.yml']",3,6cb21cec85bdfff0d47fea9e2f731fcd3705bfc5,,"#openstack_release: ""2023.1""","#openstack_release: ""master""",3,3
openstack%2Fcharm-masakari~stable%2Fzed~I5bf1b2a030c08461bc42c1e686af6220738ed98c,openstack/charm-masakari,stable/zed,I5bf1b2a030c08461bc42c1e686af6220738ed98c,Add Kinetic and Zed support,MERGED,2023-03-01 12:49:46.000000000,2023-06-01 12:41:08.000000000,2023-06-01 12:41:08.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-01 12:49:46.000000000', 'files': ['src/tests/bundles/overlays/hirsute-wallaby-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'osci.yaml', 'test-requirements.txt', 'src/tests/bundles/overlays/jammy-yoga-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/focal-xena-pacemaker-remote-ssl.yaml', 'src/metadata.yaml', 'src/config.yaml', 'src/tests/bundles/overlays/focal-yoga-pacemaker-remote-ssl.yaml.j2', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'bindep.txt', 'src/tests/bundles/overlays/bionic-train-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/impish-xena-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/impish-xena-pacemaker-remote-ssl.yaml', 'src/tests/bundles/overlays/focal-victoria-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/focal-ussuri-pacemaker-remote-ssl.yaml.j2', '.zuul.yaml', 'src/tests/bundles/overlays/bionic-rocky-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/bionic-stein-pacemaker-remote-ssl.yaml.j2', 'src/tests/tests.yaml', 'src/tests/bundles/kinetic-zed.yaml', 'src/tests/bundles/overlays/bionic-ussuri-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/focal-wallaby-pacemaker-remote-ssl.yaml.j2', 'charmcraft.yaml', 'src/tests/bundles/jammy-zed.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/7a0da8ac4fd216b2102593b1ec04c784804a6fab', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n\nChange-Id: I5bf1b2a030c08461bc42c1e686af6220738ed98c\n(cherry picked from commit ccefc2109cd21d04541ca7ec9acd6254df8a972b)\n'}]",2,875686,7a0da8ac4fd216b2102593b1ec04c784804a6fab,10,4,1,2424,,,0,"Add Kinetic and Zed support

* sync charm-helpers to classic charms
* change openstack-origin/source default to zed
* align testing with zed
* add new zed bundles
* add zed bundles to tests.yaml
* add zed tests to osci.yaml and .zuul.yaml
* update build-on and run-on bases
* add bindep.txt for py310
* sync tox.ini and requirements.txt for ruamel
* use charmcraft_channel 2.0/stable
* drop reactive plugin overrides
* move interface/layer env vars to charmcraft.yaml

Change-Id: I5bf1b2a030c08461bc42c1e686af6220738ed98c
(cherry picked from commit ccefc2109cd21d04541ca7ec9acd6254df8a972b)
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/86/875686/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/hirsute-wallaby-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'osci.yaml', 'test-requirements.txt', 'src/tests/bundles/overlays/jammy-yoga-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/focal-xena-pacemaker-remote-ssl.yaml', 'src/metadata.yaml', 'src/config.yaml', 'src/tests/bundles/overlays/focal-yoga-pacemaker-remote-ssl.yaml.j2', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'bindep.txt', 'src/tests/bundles/overlays/bionic-train-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/impish-xena-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/impish-xena-pacemaker-remote-ssl.yaml', 'src/tests/bundles/overlays/focal-victoria-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/focal-ussuri-pacemaker-remote-ssl.yaml.j2', '.zuul.yaml', 'src/tests/bundles/overlays/bionic-rocky-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/bionic-stein-pacemaker-remote-ssl.yaml.j2', 'src/tests/tests.yaml', 'src/tests/bundles/kinetic-zed.yaml', 'src/tests/bundles/overlays/bionic-ussuri-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/focal-wallaby-pacemaker-remote-ssl.yaml.j2', 'charmcraft.yaml', 'src/tests/bundles/jammy-zed.yaml', 'tox.ini']",27,7a0da8ac4fd216b2102593b1ec04c784804a6fab,batch-update-stable/zed,passenv = no_proxy http_proxy https_proxy JUJU_REPOSITORY charmcraft -v pack git+https://github.com/juju/charm-tools.git, LAYER_PATH={toxinidir}/layers INTERFACE_PATH={toxinidir}/interfacespassenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORY charmcraft -v build[testenv:py36] basepython = python3.6 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:py38] basepython = python3.8 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:py39] basepython = python3.9 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} charm-tools==2.8.3,43,1020
openstack%2Fcharm-nova-compute~stable%2Fzed~I4468ef1a0619befc75c6af2bad8df316125a7cf5,openstack/charm-nova-compute,stable/zed,I4468ef1a0619befc75c6af2bad8df316125a7cf5,Refactor unit tests to avoid leaks of mocks.,MERGED,2023-02-21 14:00:41.000000000,2023-06-01 12:39:48.000000000,2023-06-01 12:39:48.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-21 14:00:41.000000000', 'files': ['hooks/nova_compute_utils.py', 'hooks/nova_compute_context.py', 'unit_tests/test_nova_compute_hooks.py', 'hooks/nova_compute_hooks.py', 'unit_tests/test_nova_compute_utils.py', 'unit_tests/test_actions_package_upgrade.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_nova_compute_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/b6ba33bd3b28d544b181b5edeee2b3de35b2cdef', 'message': ""Refactor unit tests to avoid leaks of mocks.\n\nIt was found that the modules test_actions_openstack_upgrade and\ntest_actions_package_upgrade were mocking different classes and\nfunctions right before importing the modules under test\n(openstack_upgrade and package_upgrade respectively), although these\nmocks weren't being reset making tests executions coming after them to\nget benefitted (or impacted) by the mocks in memory.\n\nThis patch takes advantage of mock.patch() decorator at the class level\nand importlib.reload() to make sure the mocks don't outsurvive the\nmodule.\n\nWhen the teardown was in place it was found a different set of functions\nthat were relying on that mocking, so they were patched to allow the\ntests run in the expected (mock'ed) environment.\n\nSummary of changes:\n\n - Move get_availability_zone() to contexts module, nova_compute_utils\n   depends on nova_compute_context, the latter shouldn't be importing\n   code from the former since it breaks the layering, even when the\n   import is being done within a function's body.\n - Mock env variable JUJU_UNIT_NAME per test case, the tests defined\n   in the test_nova_compute_utils and test_nova_compute_contexts were\n   relying on the leakage of mocks set by other test modules, this\n   makes them run in an isolated fashion.\n - Move update_nrpe_config testing to its own class, the main class\n   NovaComputeRelationsTests mocks the function update_nrpe_config()\n   making it difficult to test it in a test method, hence making the\n   test part of its own class it's posible to not mock the function\n   and correctly runs its implementation.\n - Teardown mocks made at import level.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1006\nChange-Id: I4468ef1a0619befc75c6af2bad8df316125a7cf5\n(cherry picked from commit 75a3dbd0efd96b81b4ff36e237bc5273d013a72f)\n""}]",1,874505,b6ba33bd3b28d544b181b5edeee2b3de35b2cdef,8,4,1,2424,,,0,"Refactor unit tests to avoid leaks of mocks.

It was found that the modules test_actions_openstack_upgrade and
test_actions_package_upgrade were mocking different classes and
functions right before importing the modules under test
(openstack_upgrade and package_upgrade respectively), although these
mocks weren't being reset making tests executions coming after them to
get benefitted (or impacted) by the mocks in memory.

This patch takes advantage of mock.patch() decorator at the class level
and importlib.reload() to make sure the mocks don't outsurvive the
module.

When the teardown was in place it was found a different set of functions
that were relying on that mocking, so they were patched to allow the
tests run in the expected (mock'ed) environment.

Summary of changes:

 - Move get_availability_zone() to contexts module, nova_compute_utils
   depends on nova_compute_context, the latter shouldn't be importing
   code from the former since it breaks the layering, even when the
   import is being done within a function's body.
 - Mock env variable JUJU_UNIT_NAME per test case, the tests defined
   in the test_nova_compute_utils and test_nova_compute_contexts were
   relying on the leakage of mocks set by other test modules, this
   makes them run in an isolated fashion.
 - Move update_nrpe_config testing to its own class, the main class
   NovaComputeRelationsTests mocks the function update_nrpe_config()
   making it difficult to test it in a test method, hence making the
   test part of its own class it's posible to not mock the function
   and correctly runs its implementation.
 - Teardown mocks made at import level.

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1006
Change-Id: I4468ef1a0619befc75c6af2bad8df316125a7cf5
(cherry picked from commit 75a3dbd0efd96b81b4ff36e237bc5273d013a72f)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/05/874505/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_context.py', 'hooks/nova_compute_utils.py', 'unit_tests/test_nova_compute_hooks.py', 'hooks/nova_compute_hooks.py', 'unit_tests/test_nova_compute_utils.py', 'unit_tests/test_actions_package_upgrade.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_nova_compute_contexts.py']",8,b6ba33bd3b28d544b181b5edeee2b3de35b2cdef,bug/1896630-stable/zed," @patch.object(context.os.environ, 'get') def test_get_az_customize_with_env(self, os_environ_get_mock): self.test_config.set('customize-failure-domain', True) self.test_config.set('default-availability-zone', 'nova') def os_environ_get_side_effect(key): return { 'JUJU_AVAILABILITY_ZONE': 'az1', }[key] os_environ_get_mock.side_effect = os_environ_get_side_effect az = context.get_availability_zone() self.assertEqual('az1', az) @patch.object(context.os.environ, 'get') def test_get_az_customize_without_env(self, os_environ_get_mock): self.test_config.set('customize-failure-domain', True) self.test_config.set('default-availability-zone', 'mynova') def os_environ_get_side_effect(key): return { 'JUJU_AVAILABILITY_ZONE': '', }[key] os_environ_get_mock.side_effect = os_environ_get_side_effect az = context.get_availability_zone() self.assertEqual('mynova', az) @patch.object(context.os.environ, 'get') def test_get_az_no_customize_without_env(self, os_environ_get_mock): self.test_config.set('customize-failure-domain', False) self.test_config.set('default-availability-zone', 'nova') def os_environ_get_side_effect(key): return { 'JUJU_AVAILABILITY_ZONE': '', }[key] os_environ_get_mock.side_effect = os_environ_get_side_effect az = context.get_availability_zone() self.assertEqual('nova', az) @patch.object(context.os.environ, 'get') def test_get_az_no_customize_with_env(self, os_environ_get_mock): self.test_config.set('customize-failure-domain', False) self.test_config.set('default-availability-zone', 'nova') def os_environ_get_side_effect(key): return { 'JUJU_AVAILABILITY_ZONE': 'az1', }[key] os_environ_get_mock.side_effect = os_environ_get_side_effect az = context.get_availability_zone() self.assertEqual('nova', az) @patch('nova_compute_context.config') @patch('nova_compute_context.config') @patch.dict(context.os.environ, {'JUJU_UNIT_NAME': 'nova_compute'}, clear=True) @patch.dict(context.os.environ, {'JUJU_UNIT_NAME': 'nova_compute'}, clear=True)", @patch('nova_compute_utils.config') @patch('nova_compute_utils.config'),200,123
openstack%2Fcharm-octavia~stable%2Fxena~I0568c96920c7402ea47528866c80419818b44a5a,openstack/charm-octavia,stable/xena,I0568c96920c7402ea47528866c80419818b44a5a,Set voting to True,MERGED,2022-10-11 14:34:02.000000000,2023-06-01 12:35:49.000000000,2023-06-01 12:35:49.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-11 14:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/7f7fa94c8c9dbc0d84552619d812217977386566', 'message': ""Set voting to True\n\nDrop 'voting: false' since this is stable branch with no known issues.\n\nChange-Id: I0568c96920c7402ea47528866c80419818b44a5a\n""}, {'number': 2, 'created': '2022-10-12 13:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/b9a6cb5c49f792ef53be23ea0476b8968c19173e', 'message': ""Set voting to True\n\nDrop 'voting: false' since this is stable branch with no known issues.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/950\nChange-Id: I0568c96920c7402ea47528866c80419818b44a5a\n""}, {'number': 3, 'created': '2023-03-16 20:14:37.000000000', 'files': ['osci.yaml', 'requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/a1ec591f14737bf5ceeef7e8a240a3ac3964cf0d', 'message': ""Set voting to True\n\nDrop 'voting: false' since this is stable branch with no known issues.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/950\nChange-Id: I0568c96920c7402ea47528866c80419818b44a5a\n""}]",13,860957,a1ec591f14737bf5ceeef7e8a240a3ac3964cf0d,31,6,3,2424,,,0,"Set voting to True

Drop 'voting: false' since this is stable branch with no known issues.

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/950
Change-Id: I0568c96920c7402ea47528866c80419818b44a5a
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/57/860957/3 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,7f7fa94c8c9dbc0d84552619d812217977386566,voting-jobs, - focal-wallaby-ha-ovn - focal-xena-ha - focal-xena-ha-ovn, - focal-wallaby-ha-ovn: voting: false - focal-xena-ha: voting: false - focal-xena-ha-ovn: voting: false,3,6
openstack%2Fpython-openstackclient~master~I491a82d81d352f9d2bc7135550a0ed5cdd91d708,openstack/python-openstackclient,master,I491a82d81d352f9d2bc7135550a0ed5cdd91d708,Add volume attachment update command,ABANDONED,2023-06-01 11:43:17.000000000,2023-06-01 12:28:34.000000000,,[{'_account_id': 15334}],"[{'number': 1, 'created': '2023-06-01 11:43:17.000000000', 'files': ['openstackclient/volume/v3/volume_attachment.py', 'openstackclient/tests/unit/volume/v3/test_volume_attachment.py', 'setup.cfg', 'releasenotes/notes/add-volume-attachment-update-command-6f365a1b53db8bd2.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e137e26952f6fe4ba6f9c275176009a3b6a024fd', 'message': 'Add volume attachment update command\n\nThis command allows users to update an existing attachment.\n\nStory: 2010776\nTask: 48167\nChange-Id: I491a82d81d352f9d2bc7135550a0ed5cdd91d708\n'}]",2,885036,e137e26952f6fe4ba6f9c275176009a3b6a024fd,4,1,1,27615,,,0,"Add volume attachment update command

This command allows users to update an existing attachment.

Story: 2010776
Task: 48167
Change-Id: I491a82d81d352f9d2bc7135550a0ed5cdd91d708
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/36/885036/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/volume/v3/volume_attachment.py', 'openstackclient/tests/unit/volume/v3/test_volume_attachment.py', 'setup.cfg', 'releasenotes/notes/add-volume-attachment-update-command-6f365a1b53db8bd2.yaml']",4,e137e26952f6fe4ba6f9c275176009a3b6a024fd,,--- features: - | Added ``volume attachment update`` command that updates an existing volume attachment. ,,225,0
openstack%2Fcharm-horizon-k8s~main~Ie7be4a8b5ccf09987102e98fafbb674c907da434,openstack/charm-horizon-k8s,main,Ie7be4a8b5ccf09987102e98fafbb674c907da434,Refine healthcheck url,MERGED,2023-06-01 09:41:15.000000000,2023-06-01 12:22:26.000000000,2023-06-01 12:01:28.000000000,"[{'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 09:41:15.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/175702c7920da172af849e6b6f8be1bd64b0716f', 'message': 'Refine healthcheck url\n\nUrl openstack-horizon/ returns a 302 return code, which is not accepted\nby pebble. Modifying to openstack-horizon/auth/login/ will return 200\nOK.\n\nChange-Id: Ie7be4a8b5ccf09987102e98fafbb674c907da434\n'}]",1,885006,175702c7920da172af849e6b6f8be1bd64b0716f,8,3,1,35761,,,0,"Refine healthcheck url

Url openstack-horizon/ returns a 302 return code, which is not accepted
by pebble. Modifying to openstack-horizon/auth/login/ will return 200
OK.

Change-Id: Ie7be4a8b5ccf09987102e98fafbb674c907da434
",git fetch https://review.opendev.org/openstack/charm-horizon-k8s refs/changes/06/885006/1 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,175702c7920da172af849e6b6f8be1bd64b0716f,fix/healthcheck-url," return super().healthcheck_http_url + ""openstack-horizon/auth/login/"""," return super().healthcheck_http_url + ""openstack-horizon/""",1,1
openstack%2Fneutron-tempest-plugin~master~I7a9a1a7a440cf0b6be28abc877b1d895f69e30c9,openstack/neutron-tempest-plugin,master,I7a9a1a7a440cf0b6be28abc877b1d895f69e30c9,Adapt bgpvpn scenarios to recent sRBAC changes,MERGED,2023-05-22 13:06:31.000000000,2023-06-01 12:14:13.000000000,2023-06-01 12:14:13.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-22 13:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a3ef555a46635b9df398518de1a18ab96ec5da82', 'message': 'Adopt bgpvpn scenarios to recent sRBAC changes\n\nChange-Id: I7a9a1a7a440cf0b6be28abc877b1d895f69e30c9\nRelated-Bug: 2019097\n'}, {'number': 2, 'created': '2023-05-22 13:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/04cee11d2ecf25112a2fdcf47d951c713b0118a9', 'message': 'Adopt bgpvpn scenarios to recent sRBAC changes\n\nChange-Id: I7a9a1a7a440cf0b6be28abc877b1d895f69e30c9\nRelated-Bug: 2019097\n'}, {'number': 3, 'created': '2023-05-22 17:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c1b26ca36877c4fdfbbef59b51aa7e1b676b2bb2', 'message': 'Adopt bgpvpn scenarios to recent sRBAC changes\n\nChange-Id: I7a9a1a7a440cf0b6be28abc877b1d895f69e30c9\nRelated-Bug: 2019097\n'}, {'number': 4, 'created': '2023-05-23 09:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ac7f1af7f16fd6dd4d982c669d2edc6a2266737f', 'message': 'Adopt bgpvpn scenarios to recent sRBAC changes\n\nChange-Id: I7a9a1a7a440cf0b6be28abc877b1d895f69e30c9\nRelated-Bug: 2019097\n'}, {'number': 5, 'created': '2023-05-23 11:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e289b0c04c9b2d389f99744b4924e33038cf74f6', 'message': 'Adopt bgpvpn scenarios to recent sRBAC changes\n\nChange-Id: I7a9a1a7a440cf0b6be28abc877b1d895f69e30c9\nRelated-Bug: 2019097\n'}, {'number': 6, 'created': '2023-05-25 15:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ed03320215d5d13689f1494bbff69842aa46d92d', 'message': 'Adopt bgpvpn scenarios to recent sRBAC changes\n\nChange-Id: I7a9a1a7a440cf0b6be28abc877b1d895f69e30c9\nRelated-Bug: 2019097\n'}, {'number': 7, 'created': '2023-05-26 09:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6c0a0785703d27790e3cc29785087f4ea5d1d17f', 'message': 'Adapt bgpvpn scenarios to recent sRBAC changes\n\nChange-Id: I7a9a1a7a440cf0b6be28abc877b1d895f69e30c9\nRelated-Bug: 2019097\n'}, {'number': 8, 'created': '2023-05-26 09:45:35.000000000', 'files': ['neutron_tempest_plugin/bgpvpn/scenario/manager.py', 'neutron_tempest_plugin/bgpvpn/scenario/test_bgpvpn_basic.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/8c7c5e31f19ed70786d15091f8271ca947778c9c', 'message': 'Adapt bgpvpn scenarios to recent sRBAC changes\n\nChange-Id: I7a9a1a7a440cf0b6be28abc877b1d895f69e30c9\nRelated-Bug: 2019097\n'}]",3,883838,8c7c5e31f19ed70786d15091f8271ca947778c9c,22,4,8,8313,,,0,"Adapt bgpvpn scenarios to recent sRBAC changes

Change-Id: I7a9a1a7a440cf0b6be28abc877b1d895f69e30c9
Related-Bug: 2019097
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/38/883838/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/bgpvpn/scenario/manager.py', 'neutron_tempest_plugin/bgpvpn/scenario/test_bgpvpn_basic.py']",2,a3ef555a46635b9df398518de1a18ab96ec5da82,bug/2019097," self.admin_bgpvpn_client.create_network_association( self.admin_bgpvpn_client.create_network_association( self.admin_bgpvpn_client.create_network_association( self.admin_bgpvpn_client.create_network_association( self.admin_bgpvpn_client.create_network_association( self.admin_bgpvpn_client.create_router_association(self.bgpvpn['id'], self.admin_bgpvpn_client.create_network_association( body = self.admin_bgpvpn_client.create_port_association( body = self.admin_bgpvpn_client.create_port_association( self.admin_bgpvpn_client.update_port_association( self.admin_bgpvpn_client.update_port_association( self.admin_bgpvpn_client.create_network_association( self.admin_bgpvpn_client.create_network_association( self.admin_bgpvpn_client.create_network_association( body = self.admin_bgpvpn_client.create_port_association(self.bgpvpn['id'], self.admin_bgpvpn_client.update_port_association( self.admin_bgpvpn_client.create_network_association( body = self.admin_bgpvpn_client.create_port_association(self.bgpvpn['id'], self.admin_bgpvpn_client.update_port_association( self.admin_bgpvpn_client.create_network_association( body = self.admin_bgpvpn_client.create_port_association(self.bgpvpn['id'], self.admin_bgpvpn_client.delete_port_association( self.admin_bgpvpn_client.create_network_association( self.admin_bgpvpn_client.create_network_association( self.admin_bgpvpn_client.create_network_association( self.admin_bgpvpn_client.create_port_association( body = self.admin_bgpvpn_client.create_port_association( self.admin_bgpvpn_client.delete_port_association(self.bgpvpn['id'], self.admin_bgpvpn_client.create_network_association( body = self.admin_bgpvpn_client.create_network_association( self.admin_bgpvpn_client.create_network_association( self.admin_bgpvpn_client.create_network_association( body = self.admin_bgpvpn_client.create_router_association(self.bgpvpn['id'], project_id=self.admin_bgpvpn_client.project_id) if not client: client = self.admin_routers_client self.bgpvpn_admin_client, tenant_id=self.admin_bgpvpn_client.tenant_id, self.admin_bgpvpn_client.create_network_association("," self.bgpvpn_client.create_network_association( self.bgpvpn_client.create_network_association( self.bgpvpn_client.create_network_association( self.bgpvpn_client.create_network_association( self.bgpvpn_client.create_network_association( self.bgpvpn_client.create_router_association(self.bgpvpn['id'], self.bgpvpn_client.create_network_association( body = self.bgpvpn_client.create_port_association( body = self.bgpvpn_client.create_port_association( self.bgpvpn_client.update_port_association( self.bgpvpn_client.update_port_association( self.bgpvpn_client.create_network_association( self.bgpvpn_client.create_network_association( self.bgpvpn_client.create_network_association( body = self.bgpvpn_client.create_port_association(self.bgpvpn['id'], self.bgpvpn_client.update_port_association( self.bgpvpn_client.create_network_association( body = self.bgpvpn_client.create_port_association(self.bgpvpn['id'], self.bgpvpn_client.update_port_association( self.bgpvpn_client.create_network_association( body = self.bgpvpn_client.create_port_association(self.bgpvpn['id'], self.bgpvpn_client.delete_port_association( self.bgpvpn_client.create_network_association( self.bgpvpn_client.create_network_association( self.bgpvpn_client.create_network_association( self.bgpvpn_client.create_port_association( body = self.bgpvpn_client.create_port_association( self.bgpvpn_client.delete_port_association(self.bgpvpn['id'], self.bgpvpn_client.create_network_association( body = self.bgpvpn_client.create_network_association( self.bgpvpn_client.create_network_association( self.bgpvpn_client.create_network_association( body = self.bgpvpn_client.create_router_association(self.bgpvpn['id'], project_id=self.bgpvpn_client.project_id) self.bgpvpn_admin_client, tenant_id=self.bgpvpn_client.tenant_id, self.bgpvpn_client.create_network_association(",40,37
openstack%2Freleases~master~I346b0e1eaeda37381413da9abc11e2441f0fcce4,openstack/releases,master,I346b0e1eaeda37381413da9abc11e2441f0fcce4,Set Xena status to Extended Maintenance,MERGED,2023-04-21 17:37:15.000000000,2023-06-01 12:12:48.000000000,2023-06-01 12:12:48.000000000,"[{'_account_id': 308}, {'_account_id': 8556}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-21 17:37:15.000000000', 'files': ['data/series_status.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/37a993c3cb8ab3cc8b4f635be4fc2979ba3e1230', 'message': ""Set Xena status to Extended Maintenance\n\nProject's last releases in Xena have been tagged with xena-em.\nNow indicate that Xena is in Extended Maintenance phase also at\nhttps://releases.openstack.org\n\nTransition date is April 20th, 2023.\n\nChange-Id: I346b0e1eaeda37381413da9abc11e2441f0fcce4\n""}]",7,881254,37a993c3cb8ab3cc8b4f635be4fc2979ba3e1230,11,4,1,17685,,,0,"Set Xena status to Extended Maintenance

Project's last releases in Xena have been tagged with xena-em.
Now indicate that Xena is in Extended Maintenance phase also at
https://releases.openstack.org

Transition date is April 20th, 2023.

Change-Id: I346b0e1eaeda37381413da9abc11e2441f0fcce4
",git fetch https://review.opendev.org/openstack/releases refs/changes/54/881254/1 && git format-patch -1 --stdout FETCH_HEAD,['data/series_status.yaml'],1,37a993c3cb8ab3cc8b4f635be4fc2979ba3e1230,xena-em, status: extended maintenance status: unmaintained, status: maintained status: extended maintenance date: 2023-04-20,2,3
openstack%2Freleases~master~I7b34137384b8fc7f93807897f9937e8ee49c01fe,openstack/releases,master,I7b34137384b8fc7f93807897f9937e8ee49c01fe,New stable releases for celiometer yoga and zed,MERGED,2023-05-22 13:55:57.000000000,2023-06-01 12:12:46.000000000,2023-06-01 12:12:46.000000000,"[{'_account_id': 308}, {'_account_id': 4264}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-22 13:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/3d6d9d767d700f3f906d965168628e8e8c08bdd8', 'message': ""New stable releases for celiometer yoga and zed\n\nThis picks up new patches to stable releases of ceilometer.\n\n$ git log --oneline --no-merges 18.0.0..stable/yoga\n7d9e167d (fix-processing_of_event_metrics_that_do_not_have_Resource-id) Properly handle 'resource_id' as None for Gnocchi publisher\n741605e9 (normalize_non_openstack_pollsters_credentials_to_string) Fix Non-OpenStack dynamic pollster credentials handling\nc6f00257 Add user/project names to polled samples\n3517acea Add vanity names to telemetry polling notifications\ndcae2040 (fix_barbican_credentials_non-openstack_pollster-yoga) Fix barbican credentials retrieval\nb583cbca NoUniqueMatch: ClientException on Gnocchi publisher\n51b0c368 Fix swift pollsters that use get_account\n1f65bce6 Add CentOS Stream 9 jobs\n51db4983 Add centos9s jobs\n4fd15dfe Remove queue declaration and fix lower-constraint job\ncb132b30 Fix OutgoingBytesDeltaPollster sample name\ncc22c4d6 Debug log libvirt metadata version fails\nbed18e58 Update TOX_CONSTRAINTS_FILE for stable/yoga\n86c7237f Update .gitreview for stable/yoga\n\n$ git log --oneline --no-merges 19.0.0..stable/zed\n5968c822 (HEAD -> stable/zed, gerrit/stable/zed) Properly handle 'resource_id' as None for Gnocchi publisher\n7c121c45 Add vanity names to telemetry polling notifications\n17648c71 (fix_barbican_credentials_non-openstack_pollster-zed) Fix barbican credentials retrieval\na059600c (fix_gnocchi_project_id_discovery_concurrency_issue-upstream) NoUniqueMatch: ClientException on Gnocchi publisher\n23308bfa Remove SNMP metrics from default polling\n38b7659c Add TCP publisher\n1da0e14b Add user/project names to polled samples\n5d246c6c Fix OutgoingBytesDeltaPollster sample name\n142cb0b6 Remove lingering queue declaration\n3f28ae3d Update TOX_CONSTRAINTS_FILE for stable/zed\n9ffd73a7 Update .gitreview for stable/zed\n\nChange-Id: I7b34137384b8fc7f93807897f9937e8ee49c01fe\n""}, {'number': 2, 'created': '2023-05-23 13:58:13.000000000', 'files': ['deliverables/yoga/ceilometer.yaml', 'deliverables/zed/ceilometer.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/40395e80349a8c81d795af068ab601e205225e45', 'message': ""New stable releases for celiometer yoga and zed\n\nThis picks up new patches to stable releases of ceilometer.\n\n$ git log --oneline --no-merges 18.0.0..stable/yoga\n7d9e167d (fix-processing_of_event_metrics_that_do_not_have_Resource-id) Properly handle 'resource_id' as None for Gnocchi publisher\n741605e9 (normalize_non_openstack_pollsters_credentials_to_string) Fix Non-OpenStack dynamic pollster credentials handling\nc6f00257 Add user/project names to polled samples\n3517acea Add vanity names to telemetry polling notifications\ndcae2040 (fix_barbican_credentials_non-openstack_pollster-yoga) Fix barbican credentials retrieval\nb583cbca NoUniqueMatch: ClientException on Gnocchi publisher\n51b0c368 Fix swift pollsters that use get_account\n1f65bce6 Add CentOS Stream 9 jobs\n51db4983 Add centos9s jobs\n4fd15dfe Remove queue declaration and fix lower-constraint job\ncb132b30 Fix OutgoingBytesDeltaPollster sample name\ncc22c4d6 Debug log libvirt metadata version fails\nbed18e58 Update TOX_CONSTRAINTS_FILE for stable/yoga\n86c7237f Update .gitreview for stable/yoga\n\n$ git log --oneline --no-merges 19.0.0..stable/zed\n5968c822 (HEAD -> stable/zed, gerrit/stable/zed) Properly handle 'resource_id' as None for Gnocchi publisher\n7c121c45 Add vanity names to telemetry polling notifications\n17648c71 (fix_barbican_credentials_non-openstack_pollster-zed) Fix barbican credentials retrieval\na059600c (fix_gnocchi_project_id_discovery_concurrency_issue-upstream) NoUniqueMatch: ClientException on Gnocchi publisher\n23308bfa Remove SNMP metrics from default polling\n38b7659c Add TCP publisher\n1da0e14b Add user/project names to polled samples\n5d246c6c Fix OutgoingBytesDeltaPollster sample name\n142cb0b6 Remove lingering queue declaration\n3f28ae3d Update TOX_CONSTRAINTS_FILE for stable/zed\n9ffd73a7 Update .gitreview for stable/zed\n\nChange-Id: I7b34137384b8fc7f93807897f9937e8ee49c01fe\n""}]",5,883843,40395e80349a8c81d795af068ab601e205225e45,16,4,2,6737,,,0,"New stable releases for celiometer yoga and zed

This picks up new patches to stable releases of ceilometer.

$ git log --oneline --no-merges 18.0.0..stable/yoga
7d9e167d (fix-processing_of_event_metrics_that_do_not_have_Resource-id) Properly handle 'resource_id' as None for Gnocchi publisher
741605e9 (normalize_non_openstack_pollsters_credentials_to_string) Fix Non-OpenStack dynamic pollster credentials handling
c6f00257 Add user/project names to polled samples
3517acea Add vanity names to telemetry polling notifications
dcae2040 (fix_barbican_credentials_non-openstack_pollster-yoga) Fix barbican credentials retrieval
b583cbca NoUniqueMatch: ClientException on Gnocchi publisher
51b0c368 Fix swift pollsters that use get_account
1f65bce6 Add CentOS Stream 9 jobs
51db4983 Add centos9s jobs
4fd15dfe Remove queue declaration and fix lower-constraint job
cb132b30 Fix OutgoingBytesDeltaPollster sample name
cc22c4d6 Debug log libvirt metadata version fails
bed18e58 Update TOX_CONSTRAINTS_FILE for stable/yoga
86c7237f Update .gitreview for stable/yoga

$ git log --oneline --no-merges 19.0.0..stable/zed
5968c822 (HEAD -> stable/zed, gerrit/stable/zed) Properly handle 'resource_id' as None for Gnocchi publisher
7c121c45 Add vanity names to telemetry polling notifications
17648c71 (fix_barbican_credentials_non-openstack_pollster-zed) Fix barbican credentials retrieval
a059600c (fix_gnocchi_project_id_discovery_concurrency_issue-upstream) NoUniqueMatch: ClientException on Gnocchi publisher
23308bfa Remove SNMP metrics from default polling
38b7659c Add TCP publisher
1da0e14b Add user/project names to polled samples
5d246c6c Fix OutgoingBytesDeltaPollster sample name
142cb0b6 Remove lingering queue declaration
3f28ae3d Update TOX_CONSTRAINTS_FILE for stable/zed
9ffd73a7 Update .gitreview for stable/zed

Change-Id: I7b34137384b8fc7f93807897f9937e8ee49c01fe
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/883843/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/yoga/ceilometer.yaml', 'deliverables/zed/ceilometer.yaml']",2,3d6d9d767d700f3f906d965168628e8e8c08bdd8,new-ceilometer-release, - version: 19.0.1 projects: - repo: openstack/ceilometer hash: 5968c822bebbaa47ef71d56abb4b7c2bd41fa7b9,,8,0
openstack%2Fneutron-specs~master~Idc52ffb78033c658558dba381dc742cc23c0f2b7,openstack/neutron-specs,master,Idc52ffb78033c658558dba381dc742cc23c0f2b7,ERSPAN and GRE mirroring for tap-as-a-service,MERGED,2023-05-03 12:58:52.000000000,2023-06-01 12:07:48.000000000,2023-06-01 11:02:08.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-03 12:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/963071c2469948e3e045b2c50f9c3dfec9bc70d0', 'message': 'ERSPAN for tap-as-a-service\n\nChange-Id: Idc52ffb78033c658558dba381dc742cc23c0f2b7\nRelated-Bug: #2015471\n'}, {'number': 2, 'created': '2023-05-10 07:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/cbb654cf46081dafa2b45109912db9184406efaa', 'message': 'ERSPAN for tap-as-a-service\n\nChange-Id: Idc52ffb78033c658558dba381dc742cc23c0f2b7\nRelated-Bug: #2015471\n'}, {'number': 3, 'created': '2023-05-15 18:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b7be3d900187080e299a6105b5aac1fd40942fb7', 'message': 'ERSPAN for tap-as-a-service\n\nChange-Id: Idc52ffb78033c658558dba381dc742cc23c0f2b7\nRelated-Bug: #2015471\n'}, {'number': 4, 'created': '2023-05-16 16:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6df00356db56d66576c025688e7391576767314a', 'message': 'ERSPAN and GRE mirroring for tap-as-a-service\n\nChange-Id: Idc52ffb78033c658558dba381dc742cc23c0f2b7\nRelated-Bug: #2015471\n'}, {'number': 5, 'created': '2023-05-17 09:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5e778f4f24ee37b305b285c72ae6640cc7657f04', 'message': 'ERSPAN and GRE mirroring for tap-as-a-service\n\nChange-Id: Idc52ffb78033c658558dba381dc742cc23c0f2b7\nRelated-Bug: #2015471\n'}, {'number': 6, 'created': '2023-05-24 07:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ae61011b71eacc53edfb6cec12b5508800279205', 'message': 'ERSPAN and GRE mirroring for tap-as-a-service\n\nChange-Id: Idc52ffb78033c658558dba381dc742cc23c0f2b7\nRelated-Bug: #2015471\n'}, {'number': 7, 'created': '2023-05-30 13:44:53.000000000', 'files': ['specs/2023.2/erspan-for-tap-as-a-service.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/de2ee265faa6bac9d8ae168293dd8cc47c8a9ccc', 'message': 'ERSPAN and GRE mirroring for tap-as-a-service\n\nChange-Id: Idc52ffb78033c658558dba381dc742cc23c0f2b7\nRelated-Bug: #2015471\n'}]",85,882151,de2ee265faa6bac9d8ae168293dd8cc47c8a9ccc,30,5,7,8313,,,0,"ERSPAN and GRE mirroring for tap-as-a-service

Change-Id: Idc52ffb78033c658558dba381dc742cc23c0f2b7
Related-Bug: #2015471
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/51/882151/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.2/erspan-for-tap-as-a-service.rst'],1,963071c2469948e3e045b2c50f9c3dfec9bc70d0,bug/2015471,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================================= Tunnel based mirroring (ERSPAN, GRE) for Tap-as-a-service ========================================================= https://bugs.launchpad.net/neutron/+bug/2015471 Mirroring is a widely used tool to analyse traffic of switch ports. Tap-as-a-service project was created to allow admins to mirror traffic of one Neutron port to another Neutron port. Mirroring can also be done by encapsulating the traffic into a tunnel, like GRE (``Generic Routing Encapsulation``) or ERSPAN (``Encapsulated Remote Switch Port Analyzer``). ERSPAN first was used widely in Cisco switches, and GRE is widely used as tunneling protocol. ERSPAN protocol has 3 versions of which the last two is adopted, these are ``version 1`` and ``version 2`` (the other versioning uses TYPE I, II and III, and TYPE II is version 1 and TYPE III is version 2) For more details see the `ERSPAN draft from Cisco`_. Since OVS 2.10 it is possible to use ERSPAN with OVS (see `OVS basic configuration`_, and `OVS protocol header fields`_) both ERSPAN v1 and v2, see `erspan NEWS update commit`_. Since OVN v22.12.0 it is possible to create mirrors with OVN (see `OVN 22.12 nbctl man page`_, and `OVN commit that introduced mirroring`_). .. note:: OVN only supports ERSPAN v1, and with OVN it is also possible to create a clean GRE type mirror. This specification proposes an extension to the current tap-as-a-service (TAAS) API to allow the users to create ERSPAN or GRE mirrors from Neutron ports to a remote IP, and proposes the necessary backend changes to the current OVS driver of taas and proposes a new driver for OVN to use ERSPAN or GRE mirroring with OVN. Problem Description =================== Mirroring traffic can be useful in many situations for operators, for example to debug network issues. Tap-as-a-service provided a solution for traffic mirroring by allowing to create tap-flows and mirror the traffic of them to the related tap-service. Each tap-flow and tap-service can be attached to a Neutron port, so the port attached to tap-flow is the source of the mirrored traffic and the port of tap-service is the destination of the mirroring. There is a N-1 relation between tap-flows and tap-services. This mirroring model is mirroring traffic from one Neutron port to another Neutron port over a Neutron network. The operator needs to mirror traffic from the cloud (from Neutron ports) to an analyser outside of the cloud. An ERSPAN or GRE mirror is a good solution for such need. Use Cases --------- * As an operator I want to mirror the traffic from a ``Neutron port`` to a network analyser that can be ``outside of my cloud``. * As an operator I want to mirror the traffic from a ``Neutron port`` to a ``Floating IP``. * As an operator I want to mirror the traffic of a ``Neutron port`` to a ``dedicated infra network``, to avoid overloading the tenant networks. * As an operator I want to use the extra headers ERSPAN provides (i.e.: original VLAN, original CoS in case of version 2 ERSPAN). Proposed Change =============== The proposal is to use OVS and OVN builtin ERSPAN and GRE mirroring features. For using ERSPAN or GRE with OVS a port is added to an OVS bridge with ``type=erspan`` or ``type=gre`` in case of GRE. As ERSPAN is a modification of GRE, with some extra ERSPAN specific headers (see `ERSPAN draft from Cisco`_), OVS creates the tunnel from the previously created OVS port to the destination IP. This means that the mirrored traffic is encapsulated to an ERSPAN/GRE tunnel. Example wireshark dump of an ICMP echo reply:: Frame 1: 148 bytes on wire (1184 bits), 148 bytes captured (1184 bits) Ethernet II, Src: RealtekU_79:ff:db (52:54:00:79:ff:db), Dst: RealtekU_91:2f:52 (52:54:00:91:2f:52) Internet Protocol Version 4, Src: 100.109.0.84, Dst: 100.109.0.142 Generic Routing Encapsulation (ERSPAN) Encapsulated Remote Switch Packet ANalysis Type II Ethernet II, Src: fa:16:3e:d5:4b:c1 (fa:16:3e:d5:4b:c1), Dst: fa:16:3e:80:ed:09 (fa:16:3e:80:ed:09) Internet Protocol Version 4, Src: 10.0.0.39, Dst: 10.0.0.47 Internet Control Message Protocol This means that the source IP of the tunnel is the IP of the host on which the ERSPAN port is created (in my virtual env it is 100.109.0.84). In the above example the 2 inner IPs (10.0.0.47 and 10.0.0.39) are the fixed IPs of 2 Openstack ports (VMs). The outer protocol source IP (100.109.0.84) is the IP of the host on which the mirror port is created, thus outside of the cloud, and in the control of the admin. The outer protocol destination IP (100.109.0.142) in this case is also outside of the cloud, and Openstack Neutron control, and another host on which I can run tcpdump. REST API impact --------------- The current API model of taas uses two high level objects: `tap-services` and `tap-flows`. The tap-flow represents the source of the mirrored traffic, and a tap-service represents the destination of the mirrored traffic. For one tap-service multiple tap-flows can be attached. For details please check the `tap-as-a-service API reference`_. Both a tap-flow and a tap-service are referencing a Neutron port, and the traffic on that port will be the source of the mirror (in case of a tap-flow), or the destination of the mirror (in case of a tap-service). .. warning:: Only the traffic can be mirrored by tap-as-a-service which anyway allowed by security-groups! In case of the ERSPAN implementation of OVS and OVN the source is a bridge port (in case of OVS) or a logical switch port (in case of OVN) and the destination is represented by only an IP address, the above API model is not useful. The proposal is to introduce a new high level API for ERSPAN or GRE mirroring: ``tap_mirror``. This solution keeps the current API clean and not overloaded, and makes it easier for operators to expect the right behaviour after API operations. The proposed API is ``admin only``, to avoid the overloading of infrastructure networks by tenants. The suggested API request: * ``POST /v2.0/taas/tap_mirrors`` Create a tap mirror that mirrors traffic from a Neutron port to an external IP:: { ""tap_mirror"": { ""name"": ""mirror-traffic-of-server-a0"", ""description"": ""Mirror the traffic from server-a0"", ""direction"": ""IN""|""OUT""|""BOTH"", ""port_id"": ""1a1a5a96-e8cb-11ed-9678-9b663820b519"", ""tunnel_id"": ""1"", ""remote_ip"": ""172.31.1.1"", ""mirror_type"": ""erspan""|""gre"" } } * ``port_id`` is the source of the mirroring, this is a ``Neutron port``. .. note:: Only VM ports can be used as the source or mirroring. * ``remote_ip``: The IP of the remote end of the tunnel. * The ``tunnel_id`` field is the identifier of the ERSPAN or GRE session between the source and destination. .. note:: There is a big difference in the GRE and ERSPAN id size: GRE has 32 bits key size but ERSPAN has only 10 bits for ERSPAN session ID. This must be documented and validated on the API. .. note:: This API proposal keeps the current taas API's N-1 relationship between source and destination. Multiple source ports' traffic can be mirrored to one destination IP. * ``mirror_type`` field is to select between ERSPAN and GRE. * ``direction`` is the direction of the traffic to be mirrored on the port. The current tap-as-a-service API allows the operator to select the direction when the `tap-flow` is created, it can be: IN, OUT, BOTH. This specification proposes to keep the current direction setting options with the new API. Meaning of the directions: * ``IN``: the traffic towards the port, and into the VM attached to it (ingress traffic). * ``OUT``: traffic from the port out of the VM attached to the port (egress traffic). * ``BOTH``: mirror both ingress (IN), and egress (OUT) traffic of the port. .. warning:: It is not possible to create tunnel (GRE or ERSPAN) with the same tunnel_id to the same remote_ip from the same portwith OVN. Due to this if the user chooses BOTH for direction 2 tunnels must be created with with different tunnel_id. This is something to make visible for the user on the API, when she/he GET the tap_mirror, show that there are 2 tunnel_ids used for this specific tap_mirror. This also means that the receiving side of the mirror must be prepared that the egress and ingress direction will be encapsulated to tunnels with different tunnel_id. .. note:: Both GRE and ERSPAN handle the fragmentation, so if the mirrored traffic's packet size with the extra headers bigger than the MTU on the interface, the packet in the tunnel will be sent fregmented. .. note:: * For the GRE type mirroring 8 octet extra header is added over IP headers. * For ERSPAN 8 octet is added for GRE, 8 octet is acced for ERSPAN and an extra trailing 4 byte CRC is added, so in summary 20 octets extra header is added in this case. The proposed API definition:: mirror_types_list = ['erspan', 'gre'] RESOURCE_ATTRIBUTE_MAP = { 'tap_mirror': { 'id': { 'allow_post': False, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True, 'primary_key': True}, 'name': { 'allow_post': True, 'allow_put': True, 'validate': {'type:string': None}, 'is_visible': True, 'default': ''}, 'description': { 'allow_post': True, 'allow_put': True, 'validate': {'type:string': None}, 'is_visible': True, 'default': ''}, 'port_id': { 'allow_post': True, 'allow_put': False, 'validate': {'type:uuid': None}, 'enforce_policy': True, 'is_visible': True}, 'direction': { 'allow_post': True, 'allow_put': False, 'validate': {'type:values': direction_enum}, 'is_visible': True}, 'remote_ip': { 'allow_post': True, 'allow_put': False, 'validate': {'type:ip_address': None}, 'is_visible': True}, 'tunnel_id': { 'allow_post': True, 'allow_put': False, 'validate': {'type:integer': None}, 'is_visible': True, 'default': constants.ATTR_NOT_SPECIFIED}, 'mirror_type': { 'allow_post': True, 'allow_put': False, 'validate': {'type:values': mirror_types_list}, 'is_visible': True,}, } } DB Impact --------- To persist the new `tap_mirror` in the DB, a new table ``tap_mirrors`` is needed:: op.create_table( 'tap_mirrors', sa.Column('id', sa.String(length=36), primary_key=True, nullable=False), sa.Column('project_id', sa.String(length=255), nullable=True), sa.Column('name', sa.String(length=255), nullable=True), sa.Column('description', sa.String(length=1024), nullable=True), sa.Column('port_id', sa.String(36), nullable=False), sa.Column('direction', nullable=True), sa.Column('remote_ip', sa.String(db_const.IP_ADDR_FIELD_SIZE), sa.Column('mirorr_type', sa.String(36), nullable=False), ) To handle the used tunnel_ids a new table ``tap_tunnel_ids`` is necessary. This table will represent the tunnel_ids used by the mirror:: op.create_table( 'tap_tunnel_ids', sa.Column('id', sa.String(length=36), primary_key=True, nullable=False), sa.Column('tunnel_value', sa.String(length=36), nullable=False), sa.Column('tap_mirror_id', sa.String(length=36), nullable=False), ) if the user creates a tap_mirror with direction BOTH, 2 tap_tunnel_ids will be added, and will be allocated for the tap_mirror, and both will be visible on the API. This also means that ``TapMirror`` and ``TapTunnelId`` DB models will be added. OVN driver for mirroring ------------------------ OVN creates only version 1 type of ERSPAN ports, end-to-end from API call to backend changes this will look something like this (Using GRE is very similar the OVN mirror's type will be gre, and the OVS port type will be gre):: $ # REST API operation $ curl -g -i -X POST http://<host_ip:9696>/networking/v2.0/taas/tap_mirrors \ -d '{""tap_mirror"": {""name"": ""mirror1"", ""port_id"": ""54c4b09f-8b3d-4685-b66d-ce22c67956a9"", ""direction"": ""OUT"", ""remote_ip"": ""100.109.0.142"", ""tunnel_id"": ""42"", ""mirror_type"": ""erspan""}}' $ # backend changes $ sudo ovn-nbctl mirror-list mirror_out_297b12c0-e9a5-11ed-9f90-07946c615270: Type : erspan Sink : 100.109.0.142 Filter : from-lport Index/Key: 42 $ sudo ovs-vsctl show Bridge br-int ... Port ovn-my_mirror2 Interface ovn-mirror_out_297b12c0-e9a5-11ed-9f90-07946c615270 type: erspan options: {erspan_idx=""42"", erspan_ver=""1"", key=""2"", remote_ip=""100.109.0.142""} With OVN to mirror both ingress and egress traffic of the source port 2 mirrors must be created (as the OVN mirror can have only ``from-lport`` or ``to-lport`` as direction), and attached to the port (``logical-switch-port``), one with ``filter=from-lport`` and one with ``filter=to-lport``. .. note:: OVN chose ERSPAN version 1 which is directionless by the protocol description, but a direction can be selected as ``filter`` when the mirror is created with ovn-nbctl, or via ovsdb (see `ovn-nb.ovsschema mirror table`_) So if the user creates a tap_mirror with direction ``IN`` the filter will be ``to-lport``, if ``OUT`` the filter will be ``from-lport`` and in case of ``BOTH`` 2 mirrors will be created one with ``to-lort`` and one with ``from-lport``. The above means that in case of mirroring both ingress and egrees traffic tap-as-a-service will create 2 ERSPAN or GRE ports on br-int for each tap_mirror. Different tunnel_id will be used for the 2 traffic directions, for details see `REST API impact`_ . OVS driver changes ------------------ To keep consistency between the 2 drivers, this specification proposes to use GRE and ERSPAN version 1 for OVS drive also. The end-to-end call will look like this:: $ # REST API operation $ curl -g -i -X POST http://<host_ip:9696>/networking/v2.0/taas/tap_mirrors \ -d '{""tap_mirror"": {""name"": ""mirror1"", ""port_id"": ""54c4b09f-8b3d-4685-b66d-ce22c67956a9"", ""direction"": ""IN"", ""remote_ip"": ""100.109.0.142"", ""tunnel_id"": ""42"", ""mirror_type"": ""erspan""}}' $ # Backend changes $ sudo ovs-vsctl show Bridge br-tap ... Port mirror_in_ed6046d Interface mirror_in_ed6046d type: erspan options: {erspan_idx=""42"", erspan_ver=""1"", remote_ip=""100.109.0.84""} $ sudo ovs-ofctl dump-flows br-tap ... ... priority=20,dl_dst=fa:16:3e:d3:3a:d1 actions=output:""mirror_in_ed6046d"" For the details on how direction ``BOTH`` will be handled see `OVN driver for mirroring`_. Differences for OVS driver will be that 2 OVS ports will be created, with 2 different erspan_id/tunnel_id (see the section `REST API impact`_ for how it can be visible on the API). For the two directions 2 different flows will be installed on `br-tap` with different output port in the action field:: $ # Direction IN $ sudo ovs-ofctl dump-flows br-tap ... ... priority=20,dl_dst=fa:16:3e:d3:3a:d1 actions=output:""mirror_in_ed6046d"" $ # Direction OUT $ sudo ovs-ofctl dump-flows br-tap ... ... priority=20,dl_src=fa:16:3e:d3:3a:d1 actions=output:""mirror_out_ed6046d"" Out of Scope ============ This specification is not proposing to make the OVN driver fully compatible with the current OVS or SRIOV driver. So the proposed OVN driver will implement only ERSPAN. To make OVN driver fully feature compatible with the current OVS or SRIOV driver can be part of a coming specification. Implementation ============== Assignee(s) ----------- * Lajos Katona (~lajoskatona) <lajos.katona@est.tech>, <katonalala@gmail.com> Work Items ---------- * Add new REST API extension for tap-as-a-service, neutron-lib and tap-as-a-service changes. * Change tap-as-a-service db schema accordingly. * Adopt ovsdbapp to make it possible to manipulate both ovsdb and ovn-northd and create mirrors. * Change OVS driver. * Create a new ERSPAN only OVN tap-as-a-service driver. * Adopt the documentation. * Implement the necessary tests. * end-to-end test in tempest can be done using Floating IPs. * Adopt OpenstackSDK and the necessary CLI code. * Adopt Heat to make it possible to create ERSPAN mirrors. References ========== .. _ERSPAN draft from Cisco: https://datatracker.ietf.org/doc/id/draft-foschiano-erspan-02.txt .. _OVS basic configuration: https://docs.openvswitch.org/en/latest/faq/configuration/ .. _OVS protocol header fields: http://www.openvswitch.org//support/dist-docs/ovs-fields.7.txt .. _erspan NEWS update commit: https://github.com/openvswitch/ovs/commit/4ee9f056871872c3758abd291ccba9710b0c0479 .. _OVN commit that introduced mirroring: https://github.com/ovn-org/ovn/commit/323f978cbf4599568fcca9edec8ed53c076d2664 .. _OVN 22.12 nbctl man page: https://www.ovn.org/support/dist-docs-branch-22.12/ovn-nbctl.8.html .. _tap-as-a-service API reference: https://docs.openstack.org/api-ref/network/v2/index.html#tap-as-a-service .. _ovn-nb.ovsschema mirror table: https://github.com/ovn-org/ovn/blob/v22.12.0/ovn-nb.ovsschema#L309-L324 ",,460,0
openstack%2Fopenstack-tempest-skiplist~master~Ifb0a83027785246c4baf5e0054b4590383bdaf9a,openstack/openstack-tempest-skiplist,master,Ifb0a83027785246c4baf5e0054b4590383bdaf9a,Skip neutron_tempest_plugin.scenario.test_security_groups.,MERGED,2023-06-01 11:12:07.000000000,2023-06-01 11:50:46.000000000,2023-06-01 11:49:39.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 11:12:07.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/35d092599572c150374c66de620eae786e78cddc', 'message': 'Skip neutron_tempest_plugin.scenario.test_security_groups.\n\nRelated-Bug: #2211604\nChange-Id: Ifb0a83027785246c4baf5e0054b4590383bdaf9a\n'}]",0,885032,35d092599572c150374c66de620eae786e78cddc,9,3,1,30742,,,0,"Skip neutron_tempest_plugin.scenario.test_security_groups.

Related-Bug: #2211604
Change-Id: Ifb0a83027785246c4baf5e0054b4590383bdaf9a
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/32/885032/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,35d092599572c150374c66de620eae786e78cddc,skip_neutron_test, - test: 'neutron_tempest_plugin.scenario.test_security_groups.StatelessSecGroupDualStackDHCPv6StatelessTest.test_default_sec_grp_scenarios' deployment: - 'overcloud' releases: - name: 'wallaby' reason: 'known issue and requires newer version of OVN' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=2211604' installers: - 'osp' jobs: - periodic-tripleo-ci-rhel-9-standalone-full-tempest-scenario-rhos-17.1 - periodic-tripleo-ci-rhel-9-ovb-1ctlr_2comp-featureset020-internal-rhos-17.1 - test: 'neutron_tempest_plugin.scenario.test_security_groups.StatelessSecGroupDualStackSlaacTest.test_default_sec_grp_scenarios' deployment: - 'overcloud' releases: - name: 'wallaby' reason: 'known issue and requires newer version of OVN' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=2211604' installers: - 'osp' jobs: - periodic-tripleo-ci-rhel-9-standalone-full-tempest-scenario-rhos-17.1 - periodic-tripleo-ci-rhel-9-ovb-1ctlr_2comp-featureset020-internal-rhos-17.1 ,,25,0
openstack%2Fos-net-config~master~I3895a5200bc97a294a8b5774c24972f1f58b40bf,openstack/os-net-config,master,I3895a5200bc97a294a8b5774c24972f1f58b40bf,Refactor check_configure_sriov to prevent dublicate adding sriov_pfs,MERGED,2023-05-18 14:08:25.000000000,2023-06-01 11:42:14.000000000,2023-06-01 11:41:01.000000000,"[{'_account_id': 12171}, {'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 35001}]","[{'number': 1, 'created': '2023-05-18 14:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/aa4faa43bb21634b2f790f66db81f071b0dcd5ce', 'message': 'Fix duplicate adding objects that have sriov_pf members\n\nCuurent implementation of adding objects is dublicating adding\nobjects that have sriov_pf members.\nThis patch fix this issue and skip adding them twice\n\nCloses-Bug: #2020100\nChange-Id: I3895a5200bc97a294a8b5774c24972f1f58b40bf\n'}, {'number': 2, 'created': '2023-05-22 08:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/cf59907ad41b113ea397927d849c7d04dc9f022c', 'message': ""Refactor check_configure_sriov to prevent dublicate adding sriov_pfs\n\nCuurent implementation of adding objects is dublicating adding\nobjects that have sriov_pf members.\nThe patch refactors check_configure_sriov to check if the object\nitself or any of it's tree members are sriov_pf so adding that object\nwill happen once\n\nCloses-Bug: #2020100\nChange-Id: I3895a5200bc97a294a8b5774c24972f1f58b40bf\n""}, {'number': 3, 'created': '2023-05-23 07:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/c00a38370a4853b0affd6f5b6af20792a546fd16', 'message': 'Refactor check_configure_sriov to prevent dublicate adding sriov_pfs\n\nCuurent implementation of adding objects is dublicating adding\nobjects that have sriov_pf members.\nThe patch refactors check_configure_sriov to check if the object\nitself or any of its tree members are sriov_pf so adding that object\nwill happen once\n\nCloses-Bug: #2020100\nChange-Id: I3895a5200bc97a294a8b5774c24972f1f58b40bf\n'}, {'number': 4, 'created': '2023-05-23 16:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/309850c71361f965128c75052ec14f5fd25dac70', 'message': 'Refactor check_configure_sriov to prevent dublicate adding sriov_pfs\n\nCuurent implementation of adding objects is dublicating adding\nobjects that have sriov_pf members.\nThe patch refactors check_configure_sriov to check if the object\nitself or any of its tree members are sriov_pf so adding that object\nwill happen once\n\nCloses-Bug: #2020100\nChange-Id: I3895a5200bc97a294a8b5774c24972f1f58b40bf\n'}, {'number': 5, 'created': '2023-05-23 17:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/3952d4729aeb2b99a3581748f9f3411a91184cf5', 'message': 'Refactor check_configure_sriov to prevent dublicate adding sriov_pfs\n\nCuurent implementation of adding objects is dublicating adding\nobjects that have sriov_pf members.\nThe patch refactors check_configure_sriov to check if the object\nitself or any of its tree members are sriov_pf so adding that object\nwill happen once\n\nCloses-Bug: #2020100\nChange-Id: I3895a5200bc97a294a8b5774c24972f1f58b40bf\n'}, {'number': 6, 'created': '2023-05-25 06:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/e23616b07c39173d12f28616e0ac31ca2e74a61b', 'message': 'Refactor check_configure_sriov to prevent dublicate adding sriov_pfs\n\nCuurent implementation of adding objects is dublicating adding\nobjects that have sriov_pf members.\nThe patch refactors check_configure_sriov to check if the object\nitself or any of its tree members are sriov_pf so adding that object\nwill happen once\n\nCloses-Bug: #2020100\nChange-Id: I3895a5200bc97a294a8b5774c24972f1f58b40bf\n'}, {'number': 7, 'created': '2023-05-31 06:09:28.000000000', 'files': ['os_net_config/cli.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/7996a2e79e607aed3036bf3a851bde318ff0fef7', 'message': 'Refactor check_configure_sriov to prevent dublicate adding sriov_pfs\n\nCuurent implementation of adding objects is dublicating adding\nobjects that have sriov_pf members.\nThe patch refactors check_configure_sriov to check if the object\nitself or any of its tree members are sriov_pf so adding that object\nwill happen once\n\nCloses-Bug: #2020100\nChange-Id: I3895a5200bc97a294a8b5774c24972f1f58b40bf\n'}]",16,883514,7996a2e79e607aed3036bf3a851bde318ff0fef7,36,6,7,25241,,,0,"Refactor check_configure_sriov to prevent dublicate adding sriov_pfs

Cuurent implementation of adding objects is dublicating adding
objects that have sriov_pf members.
The patch refactors check_configure_sriov to check if the object
itself or any of its tree members are sriov_pf so adding that object
will happen once

Closes-Bug: #2020100
Change-Id: I3895a5200bc97a294a8b5774c24972f1f58b40bf
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/14/883514/4 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/cli.py'],1,aa4faa43bb21634b2f790f66db81f071b0dcd5ce,," # Skip adding objects that have sriov_pf members # as it's already added before. if hasattr(obj, 'members') and obj.members is not None: if check_configure_sriov(obj): continue",,5,0
openstack%2Fneutron-lib~master~I1e61c120570db7d7ba0b86ce36d4a1e2eefdf9fe,openstack/neutron-lib,master,I1e61c120570db7d7ba0b86ce36d4a1e2eefdf9fe,api-ref: add api-ref for bindings,MERGED,2023-05-31 17:47:21.000000000,2023-06-01 11:28:43.000000000,2023-06-01 11:27:38.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 17:47:21.000000000', 'files': ['releasenotes/notes/add-vif-type-agilio-ovs-6bee5b2557aca10e.yaml', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/port_bindings.inc', 'api-ref/source/v2/samples/port_bindings/port-binding-create-response.json', 'api-ref/source/v2/index.rst', 'api-ref/source/v2/samples/port_bindings/port-binding-create-request.json', 'api-ref/source/v2/samples/port_bindings/port-binding-list-response.json', 'releasenotes/notes/add-vnic-virtio-forwarder-portbinding-f7f87dfbef456ed1.yaml', 'api-ref/source/v2/samples/port_bindings/port-binding-activate-response.json', 'releasenotes/notes/portbindings-apidef-3d7893bcb94d7f61.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/9f72a4722faf1766ee27693b6f6de6eb66cd72ff', 'message': 'api-ref: add api-ref for bindings\n\nChange-Id: I1e61c120570db7d7ba0b86ce36d4a1e2eefdf9fe\nRelated-Bug: #1580880\n'}]",2,884916,9f72a4722faf1766ee27693b6f6de6eb66cd72ff,8,3,1,8313,,,0,"api-ref: add api-ref for bindings

Change-Id: I1e61c120570db7d7ba0b86ce36d4a1e2eefdf9fe
Related-Bug: #1580880
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/16/884916/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-vif-type-agilio-ovs-6bee5b2557aca10e.yaml', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/port_bindings.inc', 'api-ref/source/v2/samples/port_bindings/port-binding-create-response.json', 'api-ref/source/v2/index.rst', 'api-ref/source/v2/samples/port_bindings/port-binding-create-request.json', 'api-ref/source/v2/samples/port_bindings/port-binding-list-response.json', 'releasenotes/notes/add-vnic-virtio-forwarder-portbinding-f7f87dfbef456ed1.yaml', 'api-ref/source/v2/samples/port_bindings/port-binding-activate-response.json', 'releasenotes/notes/portbindings-apidef-3d7893bcb94d7f61.yaml']",10,9f72a4722faf1766ee27693b6f6de6eb66cd72ff,bug/1580880, rehomed from ``neutron.extensions.port_bindings`` to ``neutron_lib.api.definitions.port_bindings``., rehomed from ``neutron.extensions.portbindings`` to ``neutron_lib.api.definitions.portbindings``.,197,4
openstack%2Fnova~master~I21b4cacf43240c336a0a25d977db051f81d201b0,openstack/nova,master,I21b4cacf43240c336a0a25d977db051f81d201b0,Add helper methods to attach/detach shares,NEW,2022-08-04 07:44:42.000000000,2023-06-01 11:27:28.000000000,,"[{'_account_id': 9708}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-04 07:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e5c76ee10e03241550499fc0fb153221f1fb00f', 'message': '[WIP] Add helper methods to attach/detach shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 2, 'created': '2022-08-05 16:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e69affd409d347432ac80b8080e2f5da2dfb006', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nCloses-Bug: #1887471\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 3, 'created': '2022-08-25 17:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06aed829b32e81186b577ea772ac9b241b714134', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nCloses-Bug: #1887471\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 4, 'created': '2022-08-26 12:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc0521dea3e0a21a3188f83f1421f57e94a52dc2', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nCloses-Bug: #1887471\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 5, 'created': '2022-08-26 18:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bcae0635f7118dddc2ffb54616e93904458e240a', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nCloses-Bug: #1887471\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 6, 'created': '2022-08-29 10:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21465062dd7d7fa638e6856a9f4bf581bd128c8f', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nCloses-Bug: #1887471\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 7, 'created': '2022-08-31 14:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/302294ab6c7d6988bef1b60d0de30e1941a9e524', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nCloses-Bug: #1887471\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 8, 'created': '2022-09-06 16:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f91e1b58da0441cf3e209d9c5679f5aafe805bf4', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nCloses-Bug: #1887471\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 9, 'created': '2022-09-07 08:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1952533c290dabd035d047ecd73e1c6e57fe8b1', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nCloses-Bug: #1887471\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 10, 'created': '2022-09-08 09:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2efb1d098857aac30f3607ca19adb7644b555f54', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nCloses-Bug: #1887471\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 11, 'created': '2022-09-14 07:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/969ae281610ac07658fe74ad1260ca224058b24d', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nCloses-Bug: #1887471\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 12, 'created': '2022-10-04 16:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/416fc478ed9c39c6ef83f91d05d92ccbaa1d7c70', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 13, 'created': '2023-01-24 17:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06c2a725c16aa8c7ea259e07ea2bf61624c0c812', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 14, 'created': '2023-01-25 10:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76124864e979426069966b62afef96ea62bf662c', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 15, 'created': '2023-02-02 10:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08c5cc834aa735ce645d05789522103d0b3e55d8', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 16, 'created': '2023-02-02 17:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aaf46ed9451bd4bc7a8ed273f7eb4ff53015820d', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 17, 'created': '2023-02-08 12:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67398be4c7e8f210c7759e4d0bd164e59f3c896d', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 18, 'created': '2023-02-08 14:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6923d3550b9f7b9850cfd8e1997f83ec126a264c', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 19, 'created': '2023-02-22 15:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f11c9a8997e2e219a883b4d77a98c3743fb5507b', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 20, 'created': '2023-03-06 10:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1cecbb43b584975bf56dc11c41fe7eaa37a68afd', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 21, 'created': '2023-04-11 17:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e38415b2c397eafd02309ece94125800e161bf31', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 22, 'created': '2023-04-18 16:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/316e24753b925a3d57d8d0d1512e446aa6fd5667', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 23, 'created': '2023-04-24 12:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2546db952a36a18ac82146ff48bc520e0eb3c3fb', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 24, 'created': '2023-04-25 13:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/015a8620b02ca9f7fd6c8c44d48438383f550c24', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 25, 'created': '2023-05-09 14:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77675906a7a250b9c815f7eb3defbae1ddb18aa1', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 26, 'created': '2023-05-22 17:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4be69b945b7982811b7cb55f61b288b65ab36d2', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 27, 'created': '2023-05-23 12:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ffa0300ced93a62704cfb26e906b03efa59d1c3', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 28, 'created': '2023-06-01 09:37:44.000000000', 'files': ['nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/notification_sample_tests/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ca392add31e049627f037f4582dfb90172906df3', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}]",3,852085,ca392add31e049627f037f4582dfb90172906df3,113,3,28,16207,,,0,"Add helper methods to attach/detach shares

Manila is the OpenStack Shared Filesystems service.
These series of patches implement changes required in Nova to allow the shares
provided by Manila to be associated with and attached to instances using
virtiofs.

Implements: blueprint libvirt-virtiofs-attach-manila-shares

Change-Id: I21b4cacf43240c336a0a25d977db051f81d201b0
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/852085/28 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/integrated_helpers.py'],1,9e5c76ee10e03241550499fc0fb153221f1fb00f,bp/virtiofs_scaphandre," def _attach_share(self, server, share_id): self.api.post_server_share( server['id'], {""share"": {""shareId"": share_id}}) self.notifier.wait_for_versioned_notifications( 'instance.share_attach.end') def _detach_share(self, server, share_id): self.api.delete_server_share(server['id'], share_id) self.notifier.wait_for_versioned_notifications( 'instance.share_detach.end') ",,11,0
openstack%2Fskyline-console~master~I02ef90030ef6cf54677f9aa8760c590b2f25c633,openstack/skyline-console,master,I02ef90030ef6cf54677f9aa8760c590b2f25c633,feat: update request,MERGED,2023-05-31 10:02:27.000000000,2023-06-01 11:16:30.000000000,2023-06-01 11:15:26.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2023-05-31 10:02:27.000000000', 'files': ['src/client/client/request.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/1c78e6356ae60f6cfa9840484391d682644e584c', 'message': 'feat: update request\n\nAdd response handle function in the axios request interceptors\n\nChange-Id: I02ef90030ef6cf54677f9aa8760c590b2f25c633\n'}]",1,884855,1c78e6356ae60f6cfa9840484391d682644e584c,9,2,1,30434,,,0,"feat: update request

Add response handle function in the axios request interceptors

Change-Id: I02ef90030ef6cf54677f9aa8760c590b2f25c633
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/55/884855/1 && git format-patch -1 --stdout FETCH_HEAD,['src/client/client/request.js'],1,1c78e6356ae60f6cfa9840484391d682644e584c,request, handleResponse(response) { return response; } this.handleResponse(response);,,5,0
openstack%2Fkolla-ansible~master~I541ab03f03cf979a7fa06880a45db2623d4202d4,openstack/kolla-ansible,master,I541ab03f03cf979a7fa06880a45db2623d4202d4,CI: Enable cinder coordination for cephadm jobs,NEW,2023-05-26 13:06:23.000000000,2023-06-01 11:11:09.000000000,,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-05-26 13:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fb59d8d98a9c09b01b617a66d3bbd067989180b0', 'message': 'CI: Enable cinder coordination for cephadm jobs\n\nChange-Id: I541ab03f03cf979a7fa06880a45db2623d4202d4\n'}, {'number': 2, 'created': '2023-05-26 13:28:44.000000000', 'files': ['tests/templates/cinder-overrides.j2', 'tests/run.yml', 'tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cca21742377d49d25527c7b97e8a45c59edf347b', 'message': 'CI: Enable cinder coordination for cephadm jobs\n\nChange-Id: I541ab03f03cf979a7fa06880a45db2623d4202d4\n'}]",1,884492,cca21742377d49d25527c7b97e8a45c59edf347b,12,5,2,22629,,,0,"CI: Enable cinder coordination for cephadm jobs

Change-Id: I541ab03f03cf979a7fa06880a45db2623d4202d4
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/92/884492/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/templates/cinder-overrides.j2', 'tests/run.yml', 'tests/templates/globals-default.j2']",3,fb59d8d98a9c09b01b617a66d3bbd067989180b0,,"enable_redis: ""yes""",,7,0
openstack%2Fneutron-vpnaas~master~I00c34fd8c4666d5cece13f562df733e75b4b70af,openstack/neutron-vpnaas,master,I00c34fd8c4666d5cece13f562df733e75b4b70af,[alembic] Alembic operations require keywords only arguments,MERGED,2023-05-17 10:14:10.000000000,2023-06-01 11:09:45.000000000,2023-06-01 11:08:43.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-05-17 10:14:10.000000000', 'files': ['neutron_vpnaas/db/migration/alembic_migrations/versions/newton/contract/b6a2519ab7dc_rename_tenant_to_project.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/68307808483b4c970a2b0c57d1f1aa3b4dcadc78', 'message': '[alembic] Alembic operations require keywords only arguments\n\nSince [1] (release 1.11.0), the Alembic operations ""now enforce\nkeyword-only arguments as passed as keyword and not positionally""\n(from the commit message).\n\nThis change is compatible with the previous versions (as confirmed\nin the CI).\n\n[1]https://github.com/zzzeek/alembic/commit/df75e85489b9ae69fffff2c5ad2594b30bed2fd4\n\nCloses-Bug: #2019948\nChange-Id: I00c34fd8c4666d5cece13f562df733e75b4b70af\n'}]",0,883343,68307808483b4c970a2b0c57d1f1aa3b4dcadc78,9,4,1,16688,,,0,"[alembic] Alembic operations require keywords only arguments

Since [1] (release 1.11.0), the Alembic operations ""now enforce
keyword-only arguments as passed as keyword and not positionally""
(from the commit message).

This change is compatible with the previous versions (as confirmed
in the CI).

[1]https://github.com/zzzeek/alembic/commit/df75e85489b9ae69fffff2c5ad2594b30bed2fd4

Closes-Bug: #2019948
Change-Id: I00c34fd8c4666d5cece13f562df733e75b4b70af
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/43/883343/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/db/migration/alembic_migrations/versions/newton/contract/b6a2519ab7dc_rename_tenant_to_project.py'],1,68307808483b4c970a2b0c57d1f1aa3b4dcadc78,bug/2019948," op.drop_index(index_name=op.f(old_name), table_name=table_name)"," op.drop_index(op.f(old_name), table_name)",1,1
openstack%2Fkayobe~stable%2Fzed~I5b890e24195d033897a597a0a93a1cacfb2030d2,openstack/kayobe,stable/zed,I5b890e24195d033897a597a0a93a1cacfb2030d2,Limit interface names to 15 characters,NEW,2023-05-30 12:39:39.000000000,2023-06-01 11:08:35.000000000,,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-05-30 12:39:39.000000000', 'files': ['kayobe/plugins/filter/networks.py', 'kayobe/plugins/action/kolla_ansible_host_vars.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/abff761c364b7488683e34731e03fe3b646d2ebe', 'message': 'Limit interface names to 15 characters\n\nIf you give your bridge a long enough name, eg. `br-external`. The\nextra characters added to the veth pairs can make the interface name\ngo beyond the 15 character limit. We can solve this by truncating the\nname of the bridge used in the veth names.\n\nChange-Id: I5b890e24195d033897a597a0a93a1cacfb2030d2\n(cherry picked from commit b9b90a5d5ff38e5a64b8dbdd8d3dea32d097b3b1)\n'}]",1,884540,abff761c364b7488683e34731e03fe3b646d2ebe,7,5,1,14826,,,0,"Limit interface names to 15 characters

If you give your bridge a long enough name, eg. `br-external`. The
extra characters added to the veth pairs can make the interface name
go beyond the 15 character limit. We can solve this by truncating the
name of the bridge used in the veth names.

Change-Id: I5b890e24195d033897a597a0a93a1cacfb2030d2
(cherry picked from commit b9b90a5d5ff38e5a64b8dbdd8d3dea32d097b3b1)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/40/884540/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/plugins/filter/networks.py', 'kayobe/plugins/action/kolla_ansible_host_vars.py']",2,abff761c364b7488683e34731e03fe3b646d2ebe,truncate_veth-stable/zed, # interface names can't be longer than 15 characters char_limit = 15 - len(patch_prefix) - len(patch_suffix) external_interface = patch_prefix + interface[:char_limit] + \ patch_suffix, external_interface = patch_prefix + interface + patch_suffix,12,3
openstack%2Fkayobe~stable%2Fyoga~I5b890e24195d033897a597a0a93a1cacfb2030d2,openstack/kayobe,stable/yoga,I5b890e24195d033897a597a0a93a1cacfb2030d2,Limit interface names to 15 characters,NEW,2023-05-30 12:39:46.000000000,2023-06-01 11:08:25.000000000,,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-05-30 12:39:46.000000000', 'files': ['kayobe/plugins/filter/networks.py', 'kayobe/plugins/action/kolla_ansible_host_vars.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0a284020ad7530c87f06034f82075e918923d59f', 'message': 'Limit interface names to 15 characters\n\nIf you give your bridge a long enough name, eg. `br-external`. The\nextra characters added to the veth pairs can make the interface name\ngo beyond the 15 character limit. We can solve this by truncating the\nname of the bridge used in the veth names.\n\nChange-Id: I5b890e24195d033897a597a0a93a1cacfb2030d2\n(cherry picked from commit b9b90a5d5ff38e5a64b8dbdd8d3dea32d097b3b1)\n'}]",0,884541,0a284020ad7530c87f06034f82075e918923d59f,6,5,1,14826,,,0,"Limit interface names to 15 characters

If you give your bridge a long enough name, eg. `br-external`. The
extra characters added to the veth pairs can make the interface name
go beyond the 15 character limit. We can solve this by truncating the
name of the bridge used in the veth names.

Change-Id: I5b890e24195d033897a597a0a93a1cacfb2030d2
(cherry picked from commit b9b90a5d5ff38e5a64b8dbdd8d3dea32d097b3b1)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/41/884541/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/plugins/filter/networks.py', 'kayobe/plugins/action/kolla_ansible_host_vars.py']",2,0a284020ad7530c87f06034f82075e918923d59f,truncate_veth-stable/yoga, # interface names can't be longer than 15 characters char_limit = 15 - len(patch_prefix) - len(patch_suffix) external_interface = patch_prefix + interface[:char_limit] + \ patch_suffix, external_interface = patch_prefix + interface + patch_suffix,12,3
openstack%2Fneutron-fwaas~master~I9f0d5efc3d86bdab97a188ea880780b19e2a7e43,openstack/neutron-fwaas,master,I9f0d5efc3d86bdab97a188ea880780b19e2a7e43,Remove Exception Definition in fwaas_v2 Extension,MERGED,2023-05-25 08:18:16.000000000,2023-06-01 11:08:14.000000000,2023-06-01 11:07:08.000000000,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 08:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/513374d3c1b8c273232cb398663ee973bc98f3a4', 'message': 'Remove Exception Definition in fwaas_v2 Extension\n\nThese exception definitions are already in neutral-lib.\nAnd it has already been directly referenced in neutron lib\nin the code.\n\nChange-Id: I9f0d5efc3d86bdab97a188ea880780b19e2a7e43\n'}, {'number': 2, 'created': '2023-05-25 08:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/a0b2d620d99ab84c73b68bed362d2ccee66a96a5', 'message': 'Remove Exception Definition in fwaas_v2 Extension\n\nThese exception definitions are already in neutral-lib.\nAnd it has already been directly referenced in neutron lib\nin the code.\n\nChange-Id: I9f0d5efc3d86bdab97a188ea880780b19e2a7e43\n'}, {'number': 3, 'created': '2023-05-26 02:48:05.000000000', 'files': ['neutron_fwaas/extensions/firewall_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/85c296690369b7cbdd166b33194938b53b1ea259', 'message': 'Remove Exception Definition in fwaas_v2 Extension\n\nThese exception definitions are already in neutral-lib.\nAnd it has already been directly referenced in neutron lib\nin the code.\n\nChange-Id: I9f0d5efc3d86bdab97a188ea880780b19e2a7e43\n'}]",3,884334,85c296690369b7cbdd166b33194938b53b1ea259,10,2,3,30380,,,0,"Remove Exception Definition in fwaas_v2 Extension

These exception definitions are already in neutral-lib.
And it has already been directly referenced in neutron lib
in the code.

Change-Id: I9f0d5efc3d86bdab97a188ea880780b19e2a7e43
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/34/884334/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/extensions/firewall_v2.py'],1,513374d3c1b8c273232cb398663ee973bc98f3a4,,,"FirewallGroupNotFound = moves.moved_class( f_exc.FirewallGroupNotFound, 'FirewallGroupNotFound', __name__) FirewallGroupInUse = moves.moved_class( f_exc.FirewallGroupInUse, 'FirewallGroupInUse', __name__) FirewallGroupInPendingState = moves.moved_class( f_exc.FirewallGroupInPendingState, 'FirewallGroupInPendingState', __name__) FirewallGroupPortInvalid = moves.moved_class( f_exc.FirewallGroupPortInvalid, 'FirewallGroupPortInvalid', __name__) FirewallGroupPortInvalidProject = moves.moved_class( f_exc.FirewallGroupPortInvalidProject, 'FirewallGroupPortInvalidProject', __name__) FirewallGroupPortInUse = moves.moved_class( f_exc.FirewallGroupPortInUse, 'FirewallGroupPortInUse', __name__) FirewallPolicyNotFound = moves.moved_class( f_exc.FirewallPolicyNotFound, 'FirewallPolicyNotFound', __name__) FirewallPolicyInUse = moves.moved_class( f_exc.FirewallPolicyInUse, 'FirewallPolicyInUse', __name__) FirewallPolicyConflict = moves.moved_class( f_exc.FirewallPolicyConflict, 'FirewallPolicyConflict', __name__) FirewallRuleSharingConflict = moves.moved_class( f_exc.FirewallRuleSharingConflict, 'FirewallRuleSharingConflict', __name__) FirewallPolicySharingConflict = moves.moved_class( f_exc.FirewallPolicySharingConflict, 'FirewallPolicySharingConflict', __name__) FirewallRuleNotFound = moves.moved_class( f_exc.FirewallRuleNotFound, 'FirewallRuleNotFound', __name__) FirewallRuleInUse = moves.moved_class( f_exc.FirewallRuleInUse, 'FirewallRuleInUse', __name__) FirewallRuleNotAssociatedWithPolicy = moves.moved_class( f_exc.FirewallRuleNotAssociatedWithPolicy, 'FirewallRuleNotAssociatedWithPolicy', __name__) FirewallRuleInvalidProtocol = moves.moved_class( f_exc.FirewallRuleInvalidProtocol, 'FirewallRuleInvalidProtocol', __name__) FirewallRuleInvalidAction = moves.moved_class( f_exc.FirewallRuleInvalidAction, 'FirewallRuleInvalidAction', __name__) FirewallRuleInvalidICMPParameter = moves.moved_class( f_exc.FirewallRuleInvalidICMPParameter, 'FirewallRuleInvalidICMPParameter', __name__) FirewallRuleWithPortWithoutProtocolInvalid = moves.moved_class( f_exc.FirewallRuleWithPortWithoutProtocolInvalid, 'FirewallRuleWithPortWithoutProtocolInvalid', __name__) FirewallRuleInvalidPortValue = moves.moved_class( f_exc.FirewallRuleInvalidPortValue, 'FirewallRuleInvalidPortValue', __name__) FirewallRuleInfoMissing = moves.moved_class( f_exc.FirewallRuleInfoMissing, 'FirewallRuleInfoMissing', __name__) FirewallIpAddressConflict = moves.moved_class( f_exc.FirewallIpAddressConflict, 'FirewallIpAddressConflict', __name__) FirewallInternalDriverError = moves.moved_class( f_exc.FirewallInternalDriverError, 'FirewallInternalDriverError', __name__) FirewallRuleConflict = moves.moved_class( f_exc.FirewallRuleConflict, 'FirewallRuleConflict', __name__) FirewallRuleAlreadyAssociated = moves.moved_class( f_exc.FirewallRuleAlreadyAssociated, 'FirewallRuleAlreadyAssociated', __name__) ",0,60
openstack%2Fneutron-fwaas~master~I316827259367d78d7dbb57888ad41408d44c43f6,openstack/neutron-fwaas,master,I316827259367d78d7dbb57888ad41408d44c43f6,notify the plugin only on status updated,MERGED,2023-05-26 03:11:09.000000000,2023-06-01 11:06:02.000000000,2023-06-01 11:05:00.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 03:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/52ea7a5b88fb20bdaff5bc68e5945357aff6964f', 'message': 'notify the plugin only on status updated\n\nChange-Id: I316827259367d78d7dbb57888ad41408d44c43f6\n'}, {'number': 2, 'created': '2023-05-29 08:16:18.000000000', 'files': ['neutron_fwaas/services/firewall/service_drivers/agents/l3reference/firewall_l3_agent_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/72ad4f96dbcc35ed2785af0148cb1d5c3b715ff9', 'message': 'notify the plugin only on status updated\n\nIf the status of the firewall group is consistent with the status\nto be updated, there is no need to notify the plugin to update the\nstatus.\nThe processing of the agent requires a certain amount of time. If\nfirewall group is updated during this period, updating the firewall\ngroup status at this time may cause the firewall group to be in an\nincorrect state.\n\nPartial-Bug: #2021457\n\nChange-Id: I316827259367d78d7dbb57888ad41408d44c43f6\n'}]",2,884335,72ad4f96dbcc35ed2785af0148cb1d5c3b715ff9,12,3,2,30380,,,0,"notify the plugin only on status updated

If the status of the firewall group is consistent with the status
to be updated, there is no need to notify the plugin to update the
status.
The processing of the agent requires a certain amount of time. If
firewall group is updated during this period, updating the firewall
group status at this time may cause the firewall group to be in an
incorrect state.

Partial-Bug: #2021457

Change-Id: I316827259367d78d7dbb57888ad41408d44c43f6
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/35/884335/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/services/firewall/service_drivers/agents/l3reference/firewall_l3_agent_v2.py'],1,52ea7a5b88fb20bdaff5bc68e5945357aff6964f,," if firewall_group['status'] != status: # Notify the plugin of firewall group's status. self.fwplugin_rpc.set_firewall_group_status( ctx, firewall_group['id'], status)"," # Notify the plugin of firewall group's status. self.fwplugin_rpc.set_firewall_group_status( ctx, firewall_group['id'], status)",4,4
openstack%2Fkayobe~stable%2F2023.1~I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3,openstack/kayobe,stable/2023.1,I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3,Pass through kolla inventories as is,NEW,2023-06-01 08:21:48.000000000,2023-06-01 11:04:40.000000000,,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 08:21:48.000000000', 'files': ['kayobe/tests/unit/test_kolla_ansible.py', 'kayobe/kolla_ansible.py', 'releasenotes/notes/adds-support-for-multiple-kolla-inventories-65fd7a4922c639c5.yaml', 'ansible/kolla-ansible.yml', 'doc/source/configuration/reference/kolla-ansible.rst', 'doc/source/control-plane-service-placement.rst', 'ansible/roles/kolla-ansible/tests/test-defaults.yml', 'ansible/roles/kolla-ansible/defaults/main.yml', 'doc/source/multiple-environments.rst', 'kayobe/ansible.py', 'kayobe/tests/unit/test_ansible.py', 'ansible/roles/kolla-ansible/tasks/config.yml', 'ansible/roles/kolla-ansible/vars/Debian.yml', 'ansible/roles/kolla-ansible/vars/RedHat.yml', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'ansible/roles/kolla-ansible/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4c09f11b1d4481cff8f129db0f273427ecf9bd04', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible and\nlet ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n(cherry picked from commit c75a32e72fa2d31e494b83bd406e42040e8de15d)\n'}]",0,884822,4c09f11b1d4481cff8f129db0f273427ecf9bd04,4,3,1,14826,,,0,"Pass through kolla inventories as is

Previously, we only supported passing through group_vars. Passing
through the inventory as is allows you to use other features of ansible
inventory such as host vars. It also simplifies the logic of merging
multiple inventories as we can just pass the inventory to ansible and
let ansible take care of the rest. This is useful for the multiple
environments feature.

Change-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3
Story: 2002009
Task: 42910
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863
(cherry picked from commit c75a32e72fa2d31e494b83bd406e42040e8de15d)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/22/884822/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/test_kolla_ansible.py', 'kayobe/kolla_ansible.py', 'releasenotes/notes/adds-support-for-multiple-kolla-inventories-65fd7a4922c639c5.yaml', 'ansible/kolla-ansible.yml', 'doc/source/configuration/reference/kolla-ansible.rst', 'doc/source/control-plane-service-placement.rst', 'ansible/roles/kolla-ansible/tests/test-defaults.yml', 'ansible/roles/kolla-ansible/defaults/main.yml', 'doc/source/multiple-environments.rst', 'kayobe/ansible.py', 'kayobe/tests/unit/test_ansible.py', 'ansible/roles/kolla-ansible/tasks/config.yml', 'ansible/roles/kolla-ansible/vars/Debian.yml', 'ansible/roles/kolla-ansible/vars/RedHat.yml', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'ansible/roles/kolla-ansible/vars/main.yml']",16,4c09f11b1d4481cff8f129db0f273427ecf9bd04,merge-configs-stable/2023.1,"# Path to pass-through inventories. These are layered on top of kayobe # generated one. kolla_extra_inventories_path: ""{{ kolla_config_path }}/extra-inventories"" ",,304,51
openstack%2Fkayobe-config-dev~master~I5344752635a838b9ceda251c2b2a07c17b03b71b,openstack/kayobe-config-dev,master,I5344752635a838b9ceda251c2b2a07c17b03b71b,2023.1 - Sync defaults with Kayobe,MERGED,2023-06-01 08:20:07.000000000,2023-06-01 10:53:36.000000000,2023-06-01 10:53:36.000000000,"[{'_account_id': 14200}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-06-01 08:20:07.000000000', 'files': ['etc/kayobe/kolla.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/74fb28fc17fc91294941059e05dd400204b009b1', 'message': '2023.1 - Sync defaults with Kayobe\n\nskydive != skyline\n\nChange-Id: I5344752635a838b9ceda251c2b2a07c17b03b71b\n'}]",1,884982,74fb28fc17fc91294941059e05dd400204b009b1,8,4,1,14826,,,0,"2023.1 - Sync defaults with Kayobe

skydive != skyline

Change-Id: I5344752635a838b9ceda251c2b2a07c17b03b71b
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/82/884982/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/kolla.yml'],1,74fb28fc17fc91294941059e05dd400204b009b1,,#kolla_enable_skyline:,#kolla_enable_skydive:,1,1
openstack%2Fneutron-fwaas~master~Ib7b06d604a0950a104215bcf4386e14b77d20d12,openstack/neutron-fwaas,master,Ib7b06d604a0950a104215bcf4386e14b77d20d12,Support standard_attrs for fwaas resources,MERGED,2022-12-08 13:07:50.000000000,2023-06-01 10:45:26.000000000,2023-06-01 10:44:05.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-12-08 13:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/a88b9f37548fd3df736065adfe6d281938826f31', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 2, 'created': '2022-12-09 03:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/1607b90788454958bacbd220125f21688d7c8057', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 3, 'created': '2022-12-09 03:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/7c2f7a8236a1ddaad729411b9458a01271c3ac70', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 4, 'created': '2022-12-09 04:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/5096ef4a6974b90773d519e29fe8188dd2c736a0', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 5, 'created': '2023-03-01 03:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/17530d426cb2f5a5fc87c6c3cd5fe513943e67f5', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 6, 'created': '2023-03-01 12:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e871b0bd902af6bbed9ef92143ae99e5cae8a5da', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 7, 'created': '2023-03-02 05:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/503d2184ee6bcfb50952a2640a1f17afba96173d', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 8, 'created': '2023-03-02 06:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/13cc08cf08f49d781fe38bb304fb6f681f2bc6d9', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 9, 'created': '2023-03-13 06:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/965b60fba7d948f0b265a1a6a0284690da58cc22', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 10, 'created': '2023-04-27 09:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/989bcdc3b1f92ec7f1ad9d0ebbeabc60c66ba9e0', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nDepends-On: https://review.opendev.org/c/881694\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 11, 'created': '2023-04-28 08:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/d7343658bdfdd37c68666d963f5aacd5d69a34b1', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nDepends-On: https://review.opendev.org/c/881694\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 12, 'created': '2023-04-28 08:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/00f78e6f20a0cab2a180f4ad5036c8bdf7199ba1', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nDepends-On: https://review.opendev.org/c/881694\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 13, 'created': '2023-05-24 14:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/196bdda2da9a1702a150b71230e1670780bd1f99', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 14, 'created': '2023-05-24 16:24:14.000000000', 'files': ['neutron_fwaas/db/migration/alembic_migrations/versions/2023.2/expand/6941ce70131e_add_standard_attr_id.py', 'neutron_fwaas/db/firewall/v2/firewall_db_v2.py', 'neutron_fwaas/tests/contrib/hooks/api_extensions-v2', 'requirements.txt', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py', 'neutron_fwaas/extensions/firewall_v2_stdattrs.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/EXPAND_HEAD'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/3b4e1bdda1cd8cd76ecc6ffdfc6c72ea35fa7e18', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}]",21,866988,3b4e1bdda1cd8cd76ecc6ffdfc6c72ea35fa7e18,52,6,14,28056,,,0,"Support standard_attrs for fwaas resources

Now, this patch will support standard_attrs for
firewall_group/firewall_rule/firewall_policy.

Closes-Bug: #1986906
Change-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/88/866988/14 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/db/firewall/v2/firewall_db_v2.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/zed/expand/6941ce70131e_add_standard_attr_id.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/EXPAND_HEAD']",3,a88b9f37548fd3df736065adfe6d281938826f31,bug/1986906,6941ce70131e,f24e0d5e5bff,98,16
openstack%2Fcharm-keystone-k8s~main~If55fb3c0cff629698601742f92f003b37bf8f325,openstack/charm-keystone-k8s,main,If55fb3c0cff629698601742f92f003b37bf8f325,Update readme,ABANDONED,2023-05-05 08:29:35.000000000,2023-06-01 10:40:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-05 08:29:35.000000000', 'files': ['metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/53743f089165c2cffe9135bd831cf0754da77681', 'message': 'Update readme\n\nUpdate readme for the charm.\nAdd docs to the metadata.\n\nChange-Id: If55fb3c0cff629698601742f92f003b37bf8f325\n'}]",0,882388,53743f089165c2cffe9135bd831cf0754da77681,3,1,1,10366,,,0,"Update readme

Update readme for the charm.
Add docs to the metadata.

Change-Id: If55fb3c0cff629698601742f92f003b37bf8f325
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/88/882388/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.yaml', 'README.md']",2,53743f089165c2cffe9135bd831cf0754da77681,,"The keystone-k8s charm deploys Keystone, the core OpenStack service that provides API client authentication, service discovery, and distributed multi-tenant authorisation. The charm works alongside other Juju-deployed OpenStack services. The charm's documentation is viewed on [Charmhub][charm-docs] and its bugs are tracked on [Launchpad][charm-bugs].[charm-docs]: https://charmhub.io/keystone-k8s [charm-bugs]: https://bugs.launchpad.net/charm-keystone-k8s/+filebug","## Description keystone-k8s is an operator to manage the Keystone identity service on a Kubernetes based environment. ## Usage ### Deployment keystone-k8s is deployed using below command: juju deploy keystone-k8s keystone --trust Now connect the keystone operator to an existing database. juju relate mysql:database keystone:database ### Configuration This section covers common and/or important configuration options. See file `config.yaml` for the full list of options, along with their descriptions and default values. See the [Juju documentation][juju-docs-config-apps] for details on configuring applications. ### Actions This section covers Juju [actions][juju-docs-actions] supported by the charm. Actions allow specific operations to be performed on a per-unit basis. To display action descriptions run `juju actions keystone`. If the charm is not deployed then see file `actions.yaml`. ## Relations The charm supports the following relations. They are primarily of use to developers: * `identity-credentials`: Used by charms to obtain Keystone credentials without creating a service catalogue entry. Set 'username' only on the relation and Keystone will set defaults and return authentication details. Possible relation settings: * `username`: Username to be created. * `project`: Project (tenant) name to be created. Defaults to service's project. * `domain`: Keystone v3 domain the user will be created in. Defaults to the Default domain. * `identity-service`: Used by API endpoints to request an entry in the Keystone service catalogue and the endpoint template catalogue. When a relation is established Keystone receives the following data from the requesting API endpoint: * `service_name` * `region` * `public_url` * `admin_url` * `internal_url` Keystone verifies that the requested service is supported (the list of supported services should remain updated). The following will occur for a supported service: 1. an entry in the service catalogue is created 1. an endpoint template is created 1. an admin token is generated. The API endpoint receives the token and is informed of the ports that Keystone is listening on. ## OCI Images The charm by default uses `docker.io/kolla/ubuntu-binary-keystone:xena` image. ## Contributing Please see the [Juju SDK docs](https://juju.is/docs/sdk) for guidelines on enhancements to this charm following best practice guidelines, and [CONTRIBUTING.md](contributors-guide) for developer guidance. ## Bugs Please report bugs on [Launchpad][lp-bugs-charm-keystone-k8s].[contributors-guide]: https://opendev.org/openstack/charm-keystone-k8s/src/branch/main/CONTRIBUTING.md [juju-docs-actions]: https://jaas.ai/docs/actions [juju-docs-config-apps]: https://juju.is/docs/configuring-applications [lp-bugs-charm-keystone-k8s]: https://bugs.launchpad.net/charm-keystone-k8s/+filebug",9,86
openstack%2Fironic~master~I651599b84e6b8901647960b719626489b000b65f,openstack/ironic,master,I651599b84e6b8901647960b719626489b000b65f,Add to Redfish hardware inventory collection,MERGED,2023-05-03 16:32:43.000000000,2023-06-01 10:26:38.000000000,2023-06-01 10:25:14.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-05-03 16:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/924bf727bb378f84d998f82d79ea7e85524ae93b', 'message': 'Add to Redfish hardware inventory collection\n\nChange-Id: I651599b84e6b8901647960b719626489b000b65f\n'}, {'number': 2, 'created': '2023-05-11 11:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0389525fb5762adceb6a1b56f7ac7aefb199dac5', 'message': 'Add to Redfish hardware inventory collection\n\nAdd to the information collected by Redfish hardware inspection from\nsushy, and store it in the documented hardware inventory format\n\nChange-Id: I651599b84e6b8901647960b719626489b000b65f\n'}, {'number': 3, 'created': '2023-05-11 12:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cd187987bfc1aae7745721dcfcbae9bfe88e2ac7', 'message': 'Add to Redfish hardware inventory collection\n\nAdd to the information collected by Redfish hardware inspection from\nsushy, and store it in the documented hardware inventory format\n\nChange-Id: I651599b84e6b8901647960b719626489b000b65f\n'}, {'number': 4, 'created': '2023-05-25 15:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d52b9f41be38b817df191aaa625a119114adbca3', 'message': 'Add to Redfish hardware inventory collection\n\nAdd to the information collected by Redfish hardware inspection from\nsushy, and store it in the documented hardware inventory format\n\nChange-Id: I651599b84e6b8901647960b719626489b000b65f\n'}, {'number': 5, 'created': '2023-05-30 09:58:47.000000000', 'files': ['ironic/tests/unit/drivers/modules/redfish/test_inspect.py', 'releasenotes/notes/add-redfish-hardware-inventory-830ebc0b2e0f50c2.yaml', 'ironic/drivers/modules/redfish/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b3d7ba88d2f6cba917f72c10a11d8db19c32dfd6', 'message': 'Add to Redfish hardware inventory collection\n\nAdd to the information collected by Redfish hardware inspection from\nsushy, and store it in the documented hardware inventory format\n\nChange-Id: I651599b84e6b8901647960b719626489b000b65f\n'}]",36,881783,b3d7ba88d2f6cba917f72c10a11d8db19c32dfd6,33,3,5,35929,,,0,"Add to Redfish hardware inventory collection

Add to the information collected by Redfish hardware inspection from
sushy, and store it in the documented hardware inventory format

Change-Id: I651599b84e6b8901647960b719626489b000b65f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/83/881783/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/redfish/inspect.py'],1,924bf727bb378f84d998f82d79ea7e85524ae93b,redfish-inventory," cpus, arch = system.processors.summary if cpus: inspected_properties['cpus'] = cpus if system.processors: proc_identities = system.processors.members_identities proc_models = [] proc_frequencies = [] for procID in proc_identities: proc = system.processors.get_member(procID) if proc.model != None: proc_models.append(proc.model) if proc.max_speed_mhz != None: proc_frequencies.append(proc.max_speed_mhz) if proc_models: inspected_properties['cpu_model_name'] = proc_models if proc_frequencies: inspected_properties['cpu_frequencies'] = proc_frequencies if system.ethernet_interfaces: ethernet_interfaces = list(system.ethernet_interfaces.summary.keys()) inspected_properties['interfaces'] = {'mac_addresses': ethernet_interfaces} if system.name: inspected_properties['product_name'] = system.name if system.serial_number: inspected_properties['serial_number'] = system.serial_number if system.manufacturer: inspected_properties['manufacturer'] = system.manufacturer inspect_utils.store_inspection_data(task.node, inspected_properties, None, task.context)", arch = system.processors.summary[1],36,1
openstack%2Fnetworking-odl~stable%2Fyoga~Ie795988c0a3528397e7b76aee2cafa440625bd4e,openstack/networking-odl,stable/yoga,Ie795988c0a3528397e7b76aee2cafa440625bd4e,Fix tox4 issues and define project upper constraints,MERGED,2023-05-25 11:16:52.000000000,2023-06-01 10:13:51.000000000,2023-06-01 10:11:16.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 11:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/25e634cb352dc77bf92afdf167ad14fa5a543041', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n'}, {'number': 2, 'created': '2023-05-25 12:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/bef2a97f7092e9fefb5737d99d4130c94161d16e', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n'}, {'number': 3, 'created': '2023-05-25 13:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/37be5c96fc16bc5032252176725f531714f6dd06', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n'}, {'number': 4, 'created': '2023-05-25 14:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/042ca4ae65930ddcd4ccdbac796b86ac469d9458', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThis patch also removes the lower-constraints job.\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n'}, {'number': 5, 'created': '2023-05-25 14:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/fea1bb610bd1afc399050aaca6b902cfc595a8dc', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThis patch also removes the lower-constraints job.\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n'}, {'number': 6, 'created': '2023-05-25 16:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/79e2a74fd69a33abe136d3893571945275571feb', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThis patch also removes the lower-constraints job.\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n'}, {'number': 7, 'created': '2023-05-25 17:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3c5cea66c067a5a02ac7854e46f2d53d11a5e5e1', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThis patch also removes the lower-constraints job.\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n'}, {'number': 8, 'created': '2023-05-31 08:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f6d43344940ab4c6745061f6fd5004a15bed7c79', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThis patch also removes the lower-constraints job, and sets the\nrequired-projects for py39 job to point to stable/yoga branches.\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n'}, {'number': 9, 'created': '2023-05-31 15:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/563b3cfe82342d791e2f97f018a7067a2041bbcd', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThis patch also removes the lower-constraints job, and sets the\nrequired-projects for py39 job to point to stable/yoga branches.\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n'}, {'number': 10, 'created': '2023-05-31 15:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5658b064c4ecdfd0baef5c39505f657b7326bcc2', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThis patch also removes the lower-constraints job, and sets the\nrequired-projects for py39 job to point to stable/yoga branches.\n\nThe grenade, functional and tempest jobs (broken for a long time), are\nalso removed from the CI queues and their definitions.\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n'}, {'number': 11, 'created': '2023-05-31 17:07:54.000000000', 'files': ['.zuul.d/project.yaml', 'lower-constraints.txt', 'doc/requirements.txt', '.zuul.d/jobs.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e2505909cf0c49f7df0ee5ae8ccc8546f7a890b7', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThis patch also removes the lower-constraints job, and sets the\nrequired-projects for py39 job to point to stable/yoga branches.\n\nThe grenade, functional and tempest jobs (broken for a long time), are\nalso removed from the CI queues and their definitions.\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n'}]",0,884359,e2505909cf0c49f7df0ee5ae8ccc8546f7a890b7,24,3,11,16688,,,0,"Fix tox4 issues and define project upper constraints

With tox4 allowlist_externals is more strictly checked, so
fix it where necessary and fix pylint version.

This patch also adds the needed versions for the development environment
projects, specifying the maximum version supported in this release.

This patch also removes the lower-constraints job, and sets the
required-projects for py39 job to point to stable/yoga branches.

The grenade, functional and tempest jobs (broken for a long time), are
also removed from the CI queues and their definitions.

Related-Bug: #1999558
Change-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/59/884359/10 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini', 'upper-constraints.txt']",3,25e634cb352dc77bf92afdf167ad14fa5a543041,bug/1999558,networking_l2gw===18.0.0 networking_bgpvpn==16.0.0 networking_sfc==14.0.0 ceilometer==18.0.0 neutron==20.3.0 ,,21,5
openstack%2Fcharm-keystone-saml-mellon~stable%2Fussuri~If02abdae19b5fea685a10032354f6ec3936a9058,openstack/charm-keystone-saml-mellon,stable/ussuri,If02abdae19b5fea685a10032354f6ec3936a9058,Use vault 1.6/edge channel.,MERGED,2022-12-01 19:43:37.000000000,2023-06-01 10:11:07.000000000,2023-06-01 10:11:07.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-01 19:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/3a84dc6dd696828d81763881b67a4bf776f6133f', 'message': ""Use vault 1.6/edge channel.\n\nThe 1.7/edge channel doesn't support Bionic, so this change updates the\nbionic bundles to deploy using the 1.6/edge channel which is the last\ntrack that has support for Ubuntu 18.04.\n\nChange-Id: If02abdae19b5fea685a10032354f6ec3936a9058\n""}, {'number': 2, 'created': '2023-02-23 14:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/d64a912c252f8958f646c8f964c4cbf55d299e6a', 'message': ""Use vault 1.6/edge channel.\n\nThe 1.7/edge channel doesn't support Bionic, so this change updates the\nbionic bundles to deploy using the 1.6/edge channel which is the last\ntrack that has support for Ubuntu 18.04.\n\nChange-Id: If02abdae19b5fea685a10032354f6ec3936a9058\n""}, {'number': 3, 'created': '2023-02-28 14:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/13027f5a60c6ebc7ac2b01486d5955cd6f8e9874', 'message': ""Use vault 1.6/edge channel.\n\nThe 1.7/edge channel doesn't support Bionic, so this change updates the\nbionic bundles to deploy using the 1.6/edge channel which is the last\ntrack that has support for Ubuntu 18.04.\n\nChange-Id: If02abdae19b5fea685a10032354f6ec3936a9058\n""}, {'number': 4, 'created': '2023-02-28 17:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/5a438ac185b159334d8439281eede587b8f60743', 'message': ""Use vault 1.6/edge channel.\n\nThe 1.7/edge channel doesn't support Bionic, so this change updates the\nbionic bundles to deploy using the 1.6/edge channel which is the last\ntrack that has support for Ubuntu 18.04.\n\nChange-Id: If02abdae19b5fea685a10032354f6ec3936a9058\n""}, {'number': 5, 'created': '2023-03-03 14:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/4244333a1998611071bae3892dd6db5eb256e6d6', 'message': ""Use vault 1.6/edge channel.\n\nThe 1.7/edge channel doesn't support Bionic, so this change updates the\nbionic bundles to deploy using the 1.6/edge channel which is the last\ntrack that has support for Ubuntu 18.04.\n\nChange-Id: If02abdae19b5fea685a10032354f6ec3936a9058\n""}, {'number': 6, 'created': '2023-03-03 14:41:35.000000000', 'files': ['src/tests/bundles/bionic-ussuri-ha.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/7d175641d9670cb98dfaadc51796f726b529af45', 'message': ""Use vault 1.6/edge channel.\n\nThe 1.7/edge channel doesn't support Bionic, so this change updates the\nbionic bundles to deploy using the 1.6/edge channel which is the last\ntrack that has support for Ubuntu 18.04.\n\nChange-Id: If02abdae19b5fea685a10032354f6ec3936a9058\n""}]",9,866389,7d175641d9670cb98dfaadc51796f726b529af45,35,5,6,2424,,,0,"Use vault 1.6/edge channel.

The 1.7/edge channel doesn't support Bionic, so this change updates the
bionic bundles to deploy using the 1.6/edge channel which is the last
track that has support for Ubuntu 18.04.

Change-Id: If02abdae19b5fea685a10032354f6ec3936a9058
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/89/866389/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/bundles/bionic-ussuri-ha.yaml'],1,3a84dc6dd696828d81763881b67a4bf776f6133f,update-bundle-vault, channel: 1.6/edge, channel: 1.7/edge,1,1
openstack%2Fcharm-keystone-saml-mellon~stable%2Fussuri~I5defac8c5f5f8b37ae539c3d275b60a5e0a60498,openstack/charm-keystone-saml-mellon,stable/ussuri,I5defac8c5f5f8b37ae539c3d275b60a5e0a60498,Pin build.lock for all layers to the commit hash,MERGED,2022-09-28 13:20:34.000000000,2023-06-01 10:11:06.000000000,2023-06-01 10:11:06.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-28 13:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/5a811cf8be0438a0eb3cd04f84730958946b89ba', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: I5defac8c5f5f8b37ae539c3d275b60a5e0a60498\n'}, {'number': 2, 'created': '2023-02-23 14:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/d0c3a8dc98c761d818f23ff021f7b1bc7c4f1320', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: I5defac8c5f5f8b37ae539c3d275b60a5e0a60498\n'}, {'number': 3, 'created': '2023-02-28 17:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/a75a3daf39b62ecdfa9fd83cfd48fc0d05fa1159', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: I5defac8c5f5f8b37ae539c3d275b60a5e0a60498\n'}, {'number': 4, 'created': '2023-03-03 14:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/f48ee54704ff5158885310096d655f9bc98c035b', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: I5defac8c5f5f8b37ae539c3d275b60a5e0a60498\n'}, {'number': 5, 'created': '2023-03-03 14:41:29.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/0392346cb60c3d21fb192c14d8c1b194aff76bb8', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: I5defac8c5f5f8b37ae539c3d275b60a5e0a60498\n'}]",6,859587,0392346cb60c3d21fb192c14d8c1b194aff76bb8,26,4,5,20870,,,0,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: I5defac8c5f5f8b37ae539c3d275b60a5e0a60498
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/87/859587/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,5a811cf8be0438a0eb3cd04f84730958946b89ba,ussuri-lock-layers," ""branch"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"", ""branch"": ""a3ff62c32c993d80417f6e093e3ef95e42f62083"", ""branch"": ""207bac8bec837edc6a4d6003f51d5b59d2d75adb"", ""branch"": ""cc5bd3f49b2fa5e6c3ab2336763c313ec8bf083f"", ""branch"": ""d9850016d930a6d507b9fd45e2598d327922b140"", ""branch"": ""be0926efafaa9ffe1df84f2fbd6b8a5d3d58b270"", ""branch"": ""b7c066abf22edec30af17c3da4612cd398b1306a"", ""branch"": ""4e2f90052b3c02031d09f10900c9e9cb22565dee"","," ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"",",8,8
openstack%2Fcharm-keystone-saml-mellon~stable%2Fussuri~I4a5a4f3cafebb986c64e54d2a3a0bd048adf0933,openstack/charm-keystone-saml-mellon,stable/ussuri,I4a5a4f3cafebb986c64e54d2a3a0bd048adf0933,Pin tox to < 4.0.0,MERGED,2023-01-13 20:18:52.000000000,2023-06-01 10:10:01.000000000,2023-06-01 10:10:01.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-13 20:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/892aa05d89f1e0a339ca7188d7da3e3c93cfeaf4', 'message': ""Pin tox to < 4.0.0\n\nTox 4.0.0 was recently released and it has several breaking changes.\nWe pin to < 4.0.0 here. We are planning to move forward only on the\nmaster charm branches.\n\nTox is also pinned to < 4.0.0 for stable branches in upstream\nopenstack-zuul-jobs as well as in zosci-config. However, the\nrequires= section in the charm's tox.ini file ends up installing\ntox>4, wiping out the zuul-pinned tox<4 that was already installed\ninstalled. This patch fixes that.\n\nRelated-Bug: #2002788\nChange-Id: I4a5a4f3cafebb986c64e54d2a3a0bd048adf0933\n""}, {'number': 2, 'created': '2023-02-28 17:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/b421558c8354ed743b07e485a0feb3ca8836b170', 'message': ""Pin tox to < 4.0.0\n\nTox 4.0.0 was recently released and it has several breaking changes.\nWe pin to < 4.0.0 here. We are planning to move forward only on the\nmaster charm branches.\n\nTox is also pinned to < 4.0.0 for stable branches in upstream\nopenstack-zuul-jobs as well as in zosci-config. However, the\nrequires= section in the charm's tox.ini file ends up installing\ntox>4, wiping out the zuul-pinned tox<4 that was already installed\ninstalled. This patch fixes that.\n\nAdded libxml2-dev to the list of dependencies in src/layer.yaml, this\nexplicit dependency is needed only when deploying on Bionic.\n\nRelated-Bug: #2002788\nChange-Id: I4a5a4f3cafebb986c64e54d2a3a0bd048adf0933\n""}, {'number': 3, 'created': '2023-03-03 14:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/421845c60cfd1df14acb295c2144daf1141c1bb3', 'message': ""Pin tox to < 4.0.0\n\nTox 4.0.0 was recently released and it has several breaking changes.\nWe pin to < 4.0.0 here. We are planning to move forward only on the\nmaster charm branches.\n\nTox is also pinned to < 4.0.0 for stable branches in upstream\nopenstack-zuul-jobs as well as in zosci-config. However, the\nrequires= section in the charm's tox.ini file ends up installing\ntox>4, wiping out the zuul-pinned tox<4 that was already installed\ninstalled. This patch fixes that.\n\nAdded libxml2-dev to the list of dependencies in src/layer.yaml, this\nexplicit dependency is needed only when deploying on Bionic.\n\nRelated-Bug: #2002788\nFixes-Bug: #1988092\nChange-Id: I4a5a4f3cafebb986c64e54d2a3a0bd048adf0933\n""}, {'number': 4, 'created': '2023-03-03 14:41:20.000000000', 'files': ['tox.ini', 'src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/832b46a29b59102b1defb962ae31ba6e380042d2', 'message': ""Pin tox to < 4.0.0\n\nTox 4.0.0 was recently released and it has several breaking changes.\nWe pin to < 4.0.0 here. We are planning to move forward only on the\nmaster charm branches.\n\nTox is also pinned to < 4.0.0 for stable branches in upstream\nopenstack-zuul-jobs as well as in zosci-config. However, the\nrequires= section in the charm's tox.ini file ends up installing\ntox>4, wiping out the zuul-pinned tox<4 that was already installed\ninstalled. This patch fixes that.\n\nAdded libxml2-dev to the list of dependencies in src/layer.yaml, this\nexplicit dependency is needed only when deploying on Bionic.\n\nRelated-Bug: #2002788\nCloses-Bug: #1988092\nChange-Id: I4a5a4f3cafebb986c64e54d2a3a0bd048adf0933\n""}]",11,870348,832b46a29b59102b1defb962ae31ba6e380042d2,31,5,4,11805,,,0,"Pin tox to < 4.0.0

Tox 4.0.0 was recently released and it has several breaking changes.
We pin to < 4.0.0 here. We are planning to move forward only on the
master charm branches.

Tox is also pinned to < 4.0.0 for stable branches in upstream
openstack-zuul-jobs as well as in zosci-config. However, the
requires= section in the charm's tox.ini file ends up installing
tox>4, wiping out the zuul-pinned tox<4 that was already installed
installed. This patch fixes that.

Added libxml2-dev to the list of dependencies in src/layer.yaml, this
explicit dependency is needed only when deploying on Bionic.

Related-Bug: #2002788
Closes-Bug: #1988092
Change-Id: I4a5a4f3cafebb986c64e54d2a3a0bd048adf0933
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/48/870348/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,892aa05d89f1e0a339ca7188d7da3e3c93cfeaf4,pin-tox-ussuri, tox < 4.0.0,,1,0
openstack%2Ftripleo-common~stable%2Fwallaby~Idfdfe249c53b439cc5fc0d7620eeac92c93edbe5,openstack/tripleo-common,stable/wallaby,Idfdfe249c53b439cc5fc0d7620eeac92c93edbe5,Ensure non-empty DIB_BOOTLOADER_DEFAULT_CMDLINE,MERGED,2023-05-30 20:14:01.000000000,2023-06-01 10:09:12.000000000,2023-06-01 10:07:31.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 35960}]","[{'number': 1, 'created': '2023-05-30 20:14:01.000000000', 'files': ['image-yaml/overcloud-hardened-images-uefi.yaml', 'image-yaml/overcloud-hardened-images-python3.yaml', 'image-yaml/overcloud-hardened-images-python3-rt-kernel.yaml', 'image-yaml/overcloud-hardened-images-uefi-python3.yaml', 'image-yaml/overcloud-hardened-images.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/aa3e16022cf9a19d49f21e5cadfc1dfc26b9f366', 'message': 'Ensure non-empty DIB_BOOTLOADER_DEFAULT_CMDLINE\n\nHaving an empty DIB_BOOTLOADER_DEFAULT_CMDLINE results in the\nbootloader element adding back defaults which we explicitly do not\nwant (nomodeset, etc)\n\nThis change adds back one valid argument which makes no changes to\nkernel behaviour. Merging this will likely be much quicker than\nmerging the diskimage-builder fix.\n\nRelated: https://review.opendev.org/c/openstack/diskimage-builder/+/884644\nChange-Id: Idfdfe249c53b439cc5fc0d7620eeac92c93edbe5\n'}]",3,884780,aa3e16022cf9a19d49f21e5cadfc1dfc26b9f366,13,5,1,4571,,,0,"Ensure non-empty DIB_BOOTLOADER_DEFAULT_CMDLINE

Having an empty DIB_BOOTLOADER_DEFAULT_CMDLINE results in the
bootloader element adding back defaults which we explicitly do not
want (nomodeset, etc)

This change adds back one valid argument which makes no changes to
kernel behaviour. Merging this will likely be much quicker than
merging the diskimage-builder fix.

Related: https://review.opendev.org/c/openstack/diskimage-builder/+/884644
Change-Id: Idfdfe249c53b439cc5fc0d7620eeac92c93edbe5
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/80/884780/1 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-hardened-images-uefi.yaml', 'image-yaml/overcloud-hardened-images-python3.yaml', 'image-yaml/overcloud-hardened-images-python3-rt-kernel.yaml', 'image-yaml/overcloud-hardened-images-uefi-python3.yaml', 'image-yaml/overcloud-hardened-images.yaml']",5,aa3e16022cf9a19d49f21e5cadfc1dfc26b9f366,rhbz/2179366, # TODO remove memtest=0 when this change is available: # https://review.opendev.org/c/openstack/diskimage-builder/+/884644 DIB_BOOTLOADER_DEFAULT_CMDLINE: 'memtest=0', DIB_BOOTLOADER_DEFAULT_CMDLINE: '',15,5
openstack%2Fkolla-ansible~stable%2Fyoga~I02817963c691784c126c79e330981e0cc771bc88,openstack/kolla-ansible,stable/yoga,I02817963c691784c126c79e330981e0cc771bc88,cinder: start using active-active for rbd,ABANDONED,2022-06-22 13:02:07.000000000,2023-06-01 10:03:37.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-22 13:02:07.000000000', 'files': ['releasenotes/notes/bug-1904062-ace44b3ceeb676d4.yaml', 'ansible/roles/cinder/tasks/precheck.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/172a0a36c723ee09adc5338ce77994e3a6aa52bd', 'message': 'cinder: start using active-active for rbd\n\nThis patch starts using RBD active-active which is Cinder team recommended approach for grouping volume hosts that share the same backend conigurations to work in HA Active-Active mode.\n\nChange-Id: I02817963c691784c126c79e330981e0cc771bc88\nCloses-Bug: #1904062\n'}]",2,847151,172a0a36c723ee09adc5338ce77994e3a6aa52bd,10,2,1,30491,,,0,"cinder: start using active-active for rbd

This patch starts using RBD active-active which is Cinder team recommended approach for grouping volume hosts that share the same backend conigurations to work in HA Active-Active mode.

Change-Id: I02817963c691784c126c79e330981e0cc771bc88
Closes-Bug: #1904062
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/847151/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1904062-ace44b3ceeb676d4.yaml', 'ansible/roles/cinder/tasks/precheck.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'tests/templates/globals-default.j2']",4,172a0a36c723ee09adc5338ce77994e3a6aa52bd,cinder-active-active-stable/yoga,"enable_redis: ""yes""",,30,0
openstack%2Fproject-config~master~I3805e24030bd212442c9abe339e7dc91fe329070,openstack/project-config,master,I3805e24030bd212442c9abe339e7dc91fe329070,Remove codenames from descriptions,ABANDONED,2017-06-29 13:42:24.000000000,2023-06-01 09:50:23.000000000,,"[{'_account_id': 6547}, {'_account_id': 13252}]","[{'number': 1, 'created': '2017-06-29 13:42:24.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3dd96afa3af6d72b004fc527200658b85f4c8821', 'message': 'Remove codenames from descriptions\n\nExplaining that nova is ""OpenStack Compute (Nova)"" is a bit weird.\nRemove the duplicate references to the codename in the thing that is\ndescribing the codename.\n\nChange-Id: I3805e24030bd212442c9abe339e7dc91fe329070\n'}]",2,478936,3dd96afa3af6d72b004fc527200658b85f4c8821,9,2,1,2,,,0,"Remove codenames from descriptions

Explaining that nova is ""OpenStack Compute (Nova)"" is a bit weird.
Remove the duplicate references to the codename in the thing that is
describing the codename.

Change-Id: I3805e24030bd212442c9abe339e7dc91fe329070
",git fetch https://review.opendev.org/openstack/project-config refs/changes/36/478936/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,3dd96afa3af6d72b004fc527200658b85f4c8821,, description: OpenStack Telemetry Alarming description: OpenStack Telemetry description: OpenStack Telemetry Middleware description: OpenStack Block Storage description: OpenStack Block Storage Specifications description: CloudKitty design specification description: OpenStack DNS As A Service description: OpenStack DNS As A Service Horizon Plugin description: OpenStack DNS As A Service Specifications description: OpenStack DNS As A Service Functional Tests description: OpenStack Image Management description: OpenStack Image Management Specifications description: Artifact Repository description: Artifact Repository Specifications description: OpenStack Orchestration description: OpenStack Orchestration Agents description: OpenStack Orchestration CFN Tools description: OpenStack Orchestration Specifications description: OpenStack Orchestration Templates description: OpenStack Dashboard description: Mellanox Extension for the OpenStack Dashboard description: OpenStack Baremetal Specifications description: OpenStack Identity description: OpenStack Identity Specifications description: OpenStack Identity Middleware description: Global Load Balancing Service Specifications description: Specs repo for OpenStack Shared File Systems project. description: OpenStack Workflow Specifications description: Baremetal Compute Specifications description: OpenStack Networking description: OpenStack Networking Specifications description: OpenStack Compute description: OpenStack Compute Specifications description: OpenStack Telemetry Client description: OpenStack Block Storage Client description: Message Broker Service Client description: OpenStack DNS As A Service Client description: OpenStack Image Management Client description: OpenStack Orchestration Client description: OpenStack Identity Client description: OpenStack Networking Client description: OpenStack Compute Client description: OpenStack Search Client description: OpenStack Object Storage Client description: NFV Orchestration Client description: Multiregion Networking Client description: OpenStack Database as a Service Client description: OpenStack Messaging Client description: Container Management Service Client description: OpenStack Search description: OpenStack Search Specifications description: OpenStack Object Storage description: OpenStack Object Storage Specifications description: Horizon UI for NFV Orchestration description: NFV Orchestration Specifications description: OpenStack Testing of an existing cloud description: OpenStack Database As A Service description: OpenStack Database As A Service Integration description: OpenStack Messaging description: OpenStack Messaging Specifications, description: OpenStack Telemetry (Ceilometer) Alarming description: OpenStack Telemetry (Ceilometer) description: OpenStack Telemetry (Ceilometer) Middleware description: OpenStack Block Storage (Cinder) description: OpenStack Block Storage (Cinder) Specifications description: CloudKitty (Rating) design specification description: OpenStack DNS As A Service (Designate) description: OpenStack DNS As A Service (Designate) Horizon Plugin description: OpenStack DNS As A Service (Designate) Specifications description: OpenStack DNS As A Service (Designate) Functional Tests description: OpenStack Image Management (Glance) description: OpenStack Image Management (Glance) Specifications description: Artifact Repository (Glare) description: Artifact Repository (Glare) Specifications description: OpenStack Orchestration (Heat) description: OpenStack Orchestration (Heat) Agents description: OpenStack Orchestration (Heat) CFN Tools description: OpenStack Orchestration (Heat) Specifications description: OpenStack Orchestration (Heat) Templates description: OpenStack Dashboard (Horizon) description: Mellanox Extension for the OpenStack Dashboard (Horizon) description: OpenStack Baremetal (Ironic) Specifications description: OpenStack Identity (Keystone) description: OpenStack Identity (Keystone) Specifications description: OpenStack Identity (Keystone) Middleware description: Global Load Balancing Service (Kosmos) Specifications description: Specs repo for Manila (OpenStack Shared File Systems) project. description: OpenStack Workflow (Mistral) Specifications description: Baremetal Compute (Mogan) Specifications description: OpenStack Networking (Neutron) description: OpenStack Networking (Neutron) Specifications description: OpenStack Compute (Nova) description: OpenStack Compute (Nova) Specifications description: OpenStack Telemetry (Ceilometer) Client description: OpenStack Block Storage (Cinder) Client description: Message Broker Service (Cue) Client description: OpenStack DNS As A Service (Designate) Client description: OpenStack Image Management (Glance) Client description: OpenStack Orchestration (Heat) Client description: OpenStack Identity (Keystone) Client description: OpenStack Networking (Neutron) Client description: OpenStack Compute (Nova) Client description: OpenStack Search (Searchlight) Client description: OpenStack Storage (Swift) Client description: NFV Orchestration (Tacker) Client description: Multiregion Networking (Tricircle) Client description: OpenStack Database as a Service (Trove) Client description: OpenStack Messaging (Zaqar) Client description: Container Management Service (Zun) Client description: OpenStack Search (Searchlight) description: OpenStack Search (Searchlight) Specifications description: OpenStack Storage (Swift) description: OpenStack Storage (Swift) Specifications description: Horizon UI for NFV Orchestration (Tacker) description: NFV Orchestration (Tacker) Specifications description: OpenStack Testing (Tempest) of an existing cloud description: OpenStack Database As A Service (Trove) description: OpenStack Database As A Service (Trove) Integration description: OpenStack Messaging (Zaqar) description: OpenStack Messaging (Zaqar) Specifications,60,60
openstack%2Fproject-config~master~Ibada405e0c1183559f428c749d0e54d0a45a2223,openstack/project-config,master,Ibada405e0c1183559f428c749d0e54d0a45a2223,Stop caching infrequently-used CirrOS images,MERGED,2023-02-14 17:28:06.000000000,2023-06-01 09:35:54.000000000,2023-06-01 09:29:26.000000000,"[{'_account_id': 4146}, {'_account_id': 12898}, {'_account_id': 13252}, {'_account_id': 13861}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-02-14 17:28:06.000000000', 'files': ['nodepool/elements/cache-devstack/source-repository-images'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5262094f9e595eea9188cee005b98fa736a4dd6d', 'message': ""Stop caching infrequently-used CirrOS images\n\nAccording to Ic8b3e790fe332cf68bad7aaa3d5f85229600380b review\ncomments, OpenSearch indexing indicates jobs aren't often using\nCirrOS 0.3.4, 0.3.5, 0.4.0 or 0.5.1 images any longer. If jobs\noccasionally used them and have to retrieve them from the Internet\nthen that's fine, we really only need to cache images which are used\nfrequently. Remove the rest in order to shrink our node images\nsomewhat.\n\nChange-Id: Ibada405e0c1183559f428c749d0e54d0a45a2223\n""}]",2,873735,5262094f9e595eea9188cee005b98fa736a4dd6d,12,7,1,5263,,,0,"Stop caching infrequently-used CirrOS images

According to Ic8b3e790fe332cf68bad7aaa3d5f85229600380b review
comments, OpenSearch indexing indicates jobs aren't often using
CirrOS 0.3.4, 0.3.5, 0.4.0 or 0.5.1 images any longer. If jobs
occasionally used them and have to retrieve them from the Internet
then that's fine, we really only need to cache images which are used
frequently. Remove the rest in order to shrink our node images
somewhat.

Change-Id: Ibada405e0c1183559f428c749d0e54d0a45a2223
",git fetch https://review.opendev.org/openstack/project-config refs/changes/35/873735/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/cache-devstack/source-repository-images'],1,5262094f9e595eea9188cee005b98fa736a4dd6d,cache-cirros0.6.1,,cirros-0.3.4-x86_64-disk.img file /opt/cache/files/cirros-0.3.4-x86_64-disk.img https://download.cirros-cloud.net/0.3.4/cirros-0.3.4-x86_64-disk.img cirros-0.3.5-x86_64-disk.img file /opt/cache/files/cirros-0.3.5-x86_64-disk.img https://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img cirros-0.4.0-x86_64-disk.img file /opt/cache/files/cirros-0.4.0-x86_64-disk.img https://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img cirros-0.4.0-x86_64-uec.tar.gz file /opt/cache/files/cirros-0.4.0-x86_64-uec.tar.gz https://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-uec.tar.gz cirros-0.5.1-x86_64-disk.img file /opt/cache/files/cirros-0.5.1-x86_64-disk.img https://download.cirros-cloud.net/0.5.1/cirros-0.5.1-x86_64-disk.img cirros-0.5.1-x86_64-uec.tar.gz file /opt/cache/files/cirros-0.5.1-x86_64-uec.tar.gz https://download.cirros-cloud.net/0.5.1/cirros-0.5.1-x86_64-uec.tar.gz cirros-0.5.1-aarch64-disk.img file /opt/cache/files/cirros-0.5.1-aarch64-disk.img https://download.cirros-cloud.net/0.5.1/cirros-0.5.1-aarch64-disk.img,0,7
openstack%2Fcharm-ceph-radosgw~master~I940f9b2f424a3d98936b5f185bf8f87b71091317,openstack/charm-ceph-radosgw,master,I940f9b2f424a3d98936b5f185bf8f87b71091317,Enable rgw trust forwarded https when https proxy,MERGED,2023-05-31 03:01:50.000000000,2023-06-01 09:32:05.000000000,2023-06-01 09:32:05.000000000,"[{'_account_id': 8108}, {'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 03:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/fa21e1542f1e506c5ad4c37414552e752a23bdf4', 'message': 'Enable rgw trust forwarded https when https proxy\n\nThis option is required for server-side encryption to be allowed\nif radosgw is behind a reverse proxy,\nsuch as here when certificates are configured and apache2 is running.\n\nref. https://docs.ceph.com/en/latest/radosgw/encryption/\n\nIt is safe to always enable when https is configured in the charm,\nbecause it will be securely behind the reverse proxy in the unit.\nThis option must not be enabled when https is not configured in the charm,\nbecause this would allow clients to spoof headers.\n\nCloses-Bug: https://bugs.launchpad.net/charm-ceph-radosgw/+bug/2021560\nChange-Id: I940f9b2f424a3d98936b5f185bf8f87b71091317\n'}, {'number': 2, 'created': '2023-05-31 03:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/6b947952ea2cd05f493ac46e000fa694fa4240f3', 'message': 'Enable rgw trust forwarded https when https proxy\n\nThis option is required for server-side encryption to be allowed\nif radosgw is behind a reverse proxy,\nsuch as here when certificates are configured and apache2 is running.\n\nref. https://docs.ceph.com/en/latest/radosgw/encryption/\n\nIt is safe to always enable when https is configured in the charm,\nbecause it will be securely behind the reverse proxy in the unit.\nThis option must not be enabled when https is not configured in the charm,\nbecause this would allow clients to spoof headers.\n\nCloses-Bug: https://bugs.launchpad.net/charm-ceph-radosgw/+bug/2021560\nChange-Id: I940f9b2f424a3d98936b5f185bf8f87b71091317\n'}, {'number': 3, 'created': '2023-05-31 03:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/b0a20311e78e132e950aa743625e86453287609d', 'message': 'Enable rgw trust forwarded https when https proxy\n\nThis option is required for server-side encryption to be allowed\nif radosgw is behind a reverse proxy,\nsuch as here when certificates are configured and apache2 is running.\n\nref. https://docs.ceph.com/en/latest/radosgw/encryption/\n\nIt is safe to always enable when https is configured in the charm,\nbecause it will be securely behind the reverse proxy in the unit.\nThis option must not be enabled when https is not configured in the charm,\nbecause this would allow clients to spoof headers.\n\nCloses-Bug: https://bugs.launchpad.net/charm-ceph-radosgw/+bug/2021560\nChange-Id: I940f9b2f424a3d98936b5f185bf8f87b71091317\n'}, {'number': 4, 'created': '2023-05-31 04:47:43.000000000', 'files': ['unit_tests/test_ceph_radosgw_context.py', 'hooks/ceph_radosgw_context.py', 'templates/ceph.conf'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/541ceec4018e311cef1517a62eefa28cd53bc162', 'message': 'Enable rgw trust forwarded https when https proxy\n\nThis option is required for server-side encryption to be allowed\nif radosgw is behind a reverse proxy,\nsuch as here when certificates are configured and apache2 is running.\n\nref. https://docs.ceph.com/en/latest/radosgw/encryption/\n\nIt is safe to always enable when https is configured in the charm,\nbecause it will be securely behind the reverse proxy in the unit.\nThis option must not be enabled when https is not configured in the charm,\nbecause this would allow clients to spoof headers.\n\nCloses-Bug: #2021560\nChange-Id: I940f9b2f424a3d98936b5f185bf8f87b71091317\n'}]",9,884797,541ceec4018e311cef1517a62eefa28cd53bc162,20,4,4,34352,,,0,"Enable rgw trust forwarded https when https proxy

This option is required for server-side encryption to be allowed
if radosgw is behind a reverse proxy,
such as here when certificates are configured and apache2 is running.

ref. https://docs.ceph.com/en/latest/radosgw/encryption/

It is safe to always enable when https is configured in the charm,
because it will be securely behind the reverse proxy in the unit.
This option must not be enabled when https is not configured in the charm,
because this would allow clients to spoof headers.

Closes-Bug: #2021560
Change-Id: I940f9b2f424a3d98936b5f185bf8f87b71091317
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/97/884797/4 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_ceph_radosgw_context.py', 'hooks/ceph_radosgw_context.py', 'templates/ceph.conf']",3,fa21e1542f1e506c5ad4c37414552e752a23bdf4,fix_https_proxy_config,{% if behind_https_proxy -%} rgw trust forwarded https = true {% endif %},,118,11
openstack%2Ftripleo-common~stable%2Ftrain~I82caf36ea7dbaea4a3d510476dc5f6cb762d8822,openstack/tripleo-common,stable/train,I82caf36ea7dbaea4a3d510476dc5f6cb762d8822,[train-only] Workaround inventory script plugin limitation,NEW,2023-05-29 04:55:42.000000000,2023-06-01 09:26:19.000000000,,"[{'_account_id': 9816}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2023-05-29 04:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e1a2e58cd862ce672e96b2c4a7d5b84f09defcbd', 'message': ""[train-only] Workaround inventory script plugin limitation\n\nBlacklistedHostnames stack output  can be  ['', '', '', ''] when\nthere are no blacklisted hosts for any role . Scripts plugin could\nnot handle something like 'hosts': {} and expects it to be a empty\nlist []  instead. This works around that.\n\nResolves: rhbz#2182747\nChange-Id: I82caf36ea7dbaea4a3d510476dc5f6cb762d8822\n""}, {'number': 2, 'created': '2023-05-31 03:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e090fb9f719ed65325593a54e52c1b9110b6ac7c', 'message': ""[train-only] Workaround inventory script plugin limitation\n\nBlacklistedHostnames stack output  can be  ['', '', '', ''] when\nthere are no blacklisted hosts for any role . Scripts plugin could\nnot handle something like 'hosts': {} and expects it to be a empty\nlist []  instead. This works around that.\n\nResolves: rhbz#2182747\nChange-Id: I82caf36ea7dbaea4a3d510476dc5f6cb762d8822\n""}, {'number': 3, 'created': '2023-05-31 07:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/49fedd76a7b335a5ff186e1f2733e3785dfccc40', 'message': ""[train-only] Workaround inventory script plugin limitation\n\nBlacklistedHostnames stack output  can be  ['', '', '', ''] when\nthere are no blacklisted hosts for any role . Scripts plugin could\nnot handle something like 'hosts': {} and expects it to be a empty\nlist []  instead. This works around that.\n\nResolves: rhbz#2182747\nChange-Id: I82caf36ea7dbaea4a3d510476dc5f6cb762d8822\n""}, {'number': 4, 'created': '2023-06-01 04:55:22.000000000', 'files': ['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/73cb863d66557ee0eb0558af30792c39299d48eb', 'message': ""[train-only] Workaround inventory script plugin limitation\n\nBlacklistedHostnames stack output  can be  ['', '', '', ''] when\nthere are no blacklisted hosts for any role . Scripts plugin could\nnot handle something like 'hosts': {} and expects it to be a empty\nlist []  instead. This works around that.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-upgrade/+/884966\nResolves: rhbz#2182747\nChange-Id: I82caf36ea7dbaea4a3d510476dc5f6cb762d8822\n""}]",6,884574,73cb863d66557ee0eb0558af30792c39299d48eb,17,5,4,8833,,,0,"[train-only] Workaround inventory script plugin limitation

BlacklistedHostnames stack output  can be  ['', '', '', ''] when
there are no blacklisted hosts for any role . Scripts plugin could
not handle something like 'hosts': {} and expects it to be a empty
list []  instead. This works around that.

Depends-On: https://review.opendev.org/c/openstack/tripleo-upgrade/+/884966
Resolves: rhbz#2182747
Change-Id: I82caf36ea7dbaea4a3d510476dc5f6cb762d8822
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/74/884574/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py']",2,e1a2e58cd862ce672e96b2c4a7d5b84f09defcbd,,," 'excluded_overcloud': { 'hosts': {} }, 'excluded_overcloud': { 'hosts': {} },",7,12
openstack%2Fproject-config~master~Id7290012f88881aec0bc56ff1a3ae879b309d37e,openstack/project-config,master,Id7290012f88881aec0bc56ff1a3ae879b309d37e,Stop testing github hosted projects in openstack tenant,MERGED,2023-05-27 07:54:45.000000000,2023-06-01 09:23:50.000000000,2023-06-01 09:23:50.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-27 07:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/19a52011a639769deb8bcbaceb4ae05da1ad8a20', 'message': 'Fix zuul config errors for github hosted projects\n\nThis should technically not be necessary, but zuul complains anyway, so\nclean these up.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Id7290012f88881aec0bc56ff1a3ae879b309d37e\n'}, {'number': 2, 'created': '2023-05-27 07:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/54f5da6be0458ee1f40c01665d07e01cd48073e0', 'message': 'Fix zuul config errors for github hosted projects\n\nThis should technically not be necessary, but zuul complains anyway, so\nclean these up.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Id7290012f88881aec0bc56ff1a3ae879b309d37e\n'}, {'number': 3, 'created': '2023-05-27 07:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/accdbe5cee3c0e76b746705cdb1448e7cfa1cbd5', 'message': 'Fix zuul config errors for github hosted projects\n\nThis should technically not be necessary, but zuul complains anyway, so\nclean these up.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Id7290012f88881aec0bc56ff1a3ae879b309d37e\n'}, {'number': 4, 'created': '2023-05-27 08:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e1acf1311c53f616f6d70688f0bc8d552c298a86', 'message': 'Fix zuul config errors for github hosted projects\n\nThis should technically not be necessary, but zuul complains anyway, so\nclean these up.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Id7290012f88881aec0bc56ff1a3ae879b309d37e\n'}, {'number': 5, 'created': '2023-05-27 08:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/69800fce72f9bcfa834f6fd030395b4067e7ad80', 'message': 'Fix zuul config errors for github hosted projects\n\nThis should technically not be necessary, but zuul complains anyway, so\nclean these up.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Id7290012f88881aec0bc56ff1a3ae879b309d37e\n'}, {'number': 6, 'created': '2023-05-31 08:07:43.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bdaba25653be6af71f1fd4dd49e1346e1c6536ba', 'message': 'Stop testing github hosted projects in openstack tenant\n\nZuul currently has some issue when dealing with the merge mode for\nprojects hosted on github. Since due to the resulting zuul config\nerror no jobs are executed anyway, clean up the config to at least\nget rid of the errors.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Id7290012f88881aec0bc56ff1a3ae879b309d37e\n'}]",7,884563,bdaba25653be6af71f1fd4dd49e1346e1c6536ba,28,5,6,13252,,,0,"Stop testing github hosted projects in openstack tenant

Zuul currently has some issue when dealing with the merge mode for
projects hosted on github. Since due to the resulting zuul config
error no jobs are executed anyway, clean up the config to at least
get rid of the errors.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: Id7290012f88881aec0bc56ff1a3ae879b309d37e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/63/884563/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,19a52011a639769deb8bcbaceb4ae05da1ad8a20,zuul-config-errors," # Note: Specifying the merge-mode shouldn't be necessary since we # do not gate this project, but zuul checks it anyway and generates # a config error on mismatch merge-mode: rebase # Note: Specifying the merge-mode shouldn't be necessary since we # do not gate this project, but zuul checks it anyway and generates # a config error on mismatch merge-mode: rebase",,8,0
openstack%2Fproject-config~master~I2239a70691833354262b17951db6133a8e258998,openstack/project-config,master,I2239a70691833354262b17951db6133a8e258998,Run openstacksdk functional jobs on ansible 2.8 and 2.9,ABANDONED,2020-03-05 14:58:38.000000000,2023-06-01 09:18:18.000000000,,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 14:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ad5f937acf29d5412a29212cc0ff324cb25fc282', 'message': ""Run openstacksdk functional jobs on ansible 2.8 and 2.9\n\nWe're only running on 2.5 and 2.6 which are EOL. Run on 2.8 and\n2.9 which are relevant.\n\nDepends-On: https://review.opendev.org/711471\nChange-Id: I2239a70691833354262b17951db6133a8e258998\n""}, {'number': 2, 'created': '2020-03-05 15:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/94d9029b4d7c91c7e783d7234a197ffa9243f604', 'message': ""Run openstacksdk functional jobs on ansible 2.8 and 2.9\n\nWe're only running on 2.5 and 2.6 which are EOL. Run on 2.8 and\n2.9 which are relevant.\n\nDepends-On: https://review.opendev.org/711471\nChange-Id: I2239a70691833354262b17951db6133a8e258998\n""}, {'number': 3, 'created': '2020-03-19 13:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/89b70efb4cc23b1c7ad269358187a27ab40f5dd7', 'message': ""Run openstacksdk functional jobs on ansible 2.8 and 2.9\n\nWe're only running on 2.5 and 2.6 which are EOL. Run on 2.8 and\n2.9 which are relevant.\n\nDepends-On: https://review.opendev.org/711471\nChange-Id: I2239a70691833354262b17951db6133a8e258998\n""}, {'number': 4, 'created': '2020-03-19 14:00:45.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bced1f9c0fe181c8974e0fce29ef4dbac3ae7727', 'message': ""Run openstacksdk functional jobs on ansible 2.8 and 2.9\n\nWe're only running on 2.5 and 2.6 which are EOL. Run on 2.8 and\n2.9 which are relevant.\n\nDepends-On: https://review.opendev.org/711471\nChange-Id: I2239a70691833354262b17951db6133a8e258998\n""}]",4,711474,bced1f9c0fe181c8974e0fce29ef4dbac3ae7727,24,5,4,2,,,0,"Run openstacksdk functional jobs on ansible 2.8 and 2.9

We're only running on 2.5 and 2.6 which are EOL. Run on 2.8 and
2.9 which are relevant.

Depends-On: https://review.opendev.org/711471
Change-Id: I2239a70691833354262b17951db6133a8e258998
",git fetch https://review.opendev.org/openstack/project-config refs/changes/74/711474/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,ad5f937acf29d5412a29212cc0ff324cb25fc282,, - openstacksdk-ansible-stable-2.8-functional-devstack: branches: stable-2.8 - shade-ansible-stable-2.9-functional-devstack: branches: stable-2.9, - openstacksdk-ansible-stable-2.6-functional-devstack: branches: stable-2.6 - shade-ansible-stable-2.5-functional-devstack: branches: stable-2.5,4,4
openstack%2Fbarbican-ui~master~Icf9db2c01e98ce79f60a60e4ab62e783e366eaf3,openstack/barbican-ui,master,Icf9db2c01e98ce79f60a60e4ab62e783e366eaf3,setup.cfg: Replace dashes with underscores,ABANDONED,2023-05-05 06:10:02.000000000,2023-06-01 08:44:48.000000000,,[{'_account_id': 29313}],"[{'number': 1, 'created': '2023-05-05 06:10:02.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/barbican-ui/commit/2dd80175bb3e9d44252249a2a5b4c1de8a88efad', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Icf9db2c01e98ce79f60a60e4ab62e783e366eaf3\n""}]",2,882256,2dd80175bb3e9d44252249a2a5b4c1de8a88efad,4,1,1,35058,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Icf9db2c01e98ce79f60a60e4ab62e783e366eaf3
",git fetch https://review.opendev.org/openstack/barbican-ui refs/changes/56/882256/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,2dd80175bb3e9d44252249a2a5b4c1de8a88efad,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://www.openstack.org/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://www.openstack.org/,3,3
openstack%2Fadjutant-ui~master~I649722bceb3cc5d4128c4e73d7a7d02aa71318e8,openstack/adjutant-ui,master,I649722bceb3cc5d4128c4e73d7a7d02aa71318e8,setup.cfg: Replace dashes with underscores,ABANDONED,2023-03-21 01:28:27.000000000,2023-06-01 08:43:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-03-21 01:28:27.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/f79237f6e6888c78b3e9149269e1cc9573ffb1c0', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I649722bceb3cc5d4128c4e73d7a7d02aa71318e8\n""}]",2,877920,f79237f6e6888c78b3e9149269e1cc9573ffb1c0,5,2,1,35058,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I649722bceb3cc5d4128c4e73d7a7d02aa71318e8
",git fetch https://review.opendev.org/openstack/adjutant-ui refs/changes/20/877920/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f79237f6e6888c78b3e9149269e1cc9573ffb1c0,,description_file =author_email = adriant@catalyst.net.nz home_page = https://github.com/catalyst/adjutant-ui python_requires = >=3.8,description-file =author-email = adriant@catalyst.net.nz home-page = https://github.com/catalyst/adjutant-ui python-requires = >=3.8,4,4
openstack%2Fkayobe-config~master~If57a9d39a77ca02a1cd7f59ae5691fbf39b78964,openstack/kayobe-config,master,If57a9d39a77ca02a1cd7f59ae5691fbf39b78964,2023.1 - Sync defaults with Kayobe,MERGED,2023-06-01 08:16:04.000000000,2023-06-01 08:36:09.000000000,2023-06-01 08:36:09.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-06-01 08:16:04.000000000', 'files': ['etc/kayobe/kolla.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/3adf46cfd1137aae68c729c33b53b8c691f03ca3', 'message': '2023.1 - Sync defaults with Kayobe\n\nskydive != skyline\n\nChange-Id: If57a9d39a77ca02a1cd7f59ae5691fbf39b78964\n'}]",1,884981,3adf46cfd1137aae68c729c33b53b8c691f03ca3,7,2,1,14826,,,0,"2023.1 - Sync defaults with Kayobe

skydive != skyline

Change-Id: If57a9d39a77ca02a1cd7f59ae5691fbf39b78964
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/81/884981/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/kolla.yml'],1,3adf46cfd1137aae68c729c33b53b8c691f03ca3,,#kolla_enable_skyline:,#kolla_enable_skydive:,1,1
openstack%2Fneutron~stable%2Fvictoria~I207ecf7954b06507e03cb16b502ceb6e2807e0e7,openstack/neutron,stable/victoria,I207ecf7954b06507e03cb16b502ceb6e2807e0e7,Delete sg rule which remote is the deleted sg,ABANDONED,2023-05-04 12:50:54.000000000,2023-06-01 08:19:06.000000000,,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-04 12:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/279498c061c86ace1ab201824046a6ab14893bd3', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nConflicts in (mostly due to notify to publish changes):\n* neutron/db/securitygroups_db.py\n* neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n* neutron/tests/unit/db/test_securitygroups_db.py\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\n(cherry picked from commit 63584957203ec9f5ba165177978213c3909f81f0)\nCloses-Bug: #2008712\n'}, {'number': 2, 'created': '2023-05-04 15:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3136f6c83b4ffd62f3d5939f545e40f2414d6c28', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nConflicts in (mostly due to notify to publish changes):\n* neutron/db/securitygroups_db.py\n* neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n* neutron/tests/unit/db/test_securitygroups_db.py\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\n(cherry picked from commit 63584957203ec9f5ba165177978213c3909f81f0)\nCloses-Bug: #2008712\n'}, {'number': 3, 'created': '2023-05-08 11:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b264816605f7aee36fb4a590c87241bc099bf92', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nConflicts in (mostly due to notify to publish changes):\n* neutron/db/securitygroups_db.py\n* neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n* neutron/tests/unit/db/test_securitygroups_db.py\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\n(cherry picked from commit 63584957203ec9f5ba165177978213c3909f81f0)\nCloses-Bug: #2008712\n'}, {'number': 4, 'created': '2023-05-09 08:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/46359eef019c9dc194a91b6d05f6553f8e4d8061', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nConflicts in (mostly due to notify to publish changes):\n* neutron/db/securitygroups_db.py\n* neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n* neutron/tests/unit/db/test_securitygroups_db.py\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\n(cherry picked from commit 63584957203ec9f5ba165177978213c3909f81f0)\nCloses-Bug: #2008712\n'}, {'number': 5, 'created': '2023-05-09 13:32:17.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f6ed9e29da444d1a1e46437eb768da494d9643eb', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nConflicts in (mostly due to notify to publish changes):\n* neutron/db/securitygroups_db.py\n* neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n* neutron/tests/unit/db/test_securitygroups_db.py\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\n(cherry picked from commit 63584957203ec9f5ba165177978213c3909f81f0)\nCloses-Bug: #2008712\n'}]",2,882228,f6ed9e29da444d1a1e46437eb768da494d9643eb,15,4,5,8313,,,0,"Delete sg rule which remote is the deleted sg

Based on bug #2008712 if we have a security-group which
is the remote group of a 2nd security-group, the backend
never deletes the rule of the 2nd group which
remote_group_id is the original security-group.
By AFTER_DELETE event for each rule that has the
security_group_id as remote_group_id, we can make the
mech drivers do their work and delete these rules in the
backend.

Conflicts in (mostly due to notify to publish changes):
* neutron/db/securitygroups_db.py
* neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py
* neutron/tests/unit/db/test_securitygroups_db.py

Change-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7
(cherry picked from commit 63584957203ec9f5ba165177978213c3909f81f0)
Closes-Bug: #2008712
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/882228/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",3,279498c061c86ace1ab201824046a6ab14893bd3,bug/2008712-stable/2023.1-stable/zed-stable/yoga-stable/xena-stable/wallaby-stable/victoria," registry.subscribe(self._process_sg_rule_after_del_notification, resources.SECURITY_GROUP_RULE, events.AFTER_DELETE) def _process_sg_rule_after_del_notification( self, resource, event, trigger, **kwargs): context = kwargs['context'] sg_rule = self._plugin.get_security_group_rule( context, kwargs['security_group_rule_id']) self._ovn_client.delete_security_group_rule(context, sg_rule) ",,83,0
openstack%2Fneutron~stable%2Fwallaby~I207ecf7954b06507e03cb16b502ceb6e2807e0e7,openstack/neutron,stable/wallaby,I207ecf7954b06507e03cb16b502ceb6e2807e0e7,Delete sg rule which remote is the deleted sg,ABANDONED,2023-05-03 09:13:44.000000000,2023-06-01 08:18:54.000000000,,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-03 09:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb322b71520c4114ce82ddf9d7f877ad30f148c3', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nConflicts in (mostly due to notify to publish changes):\n* neutron/db/securitygroups_db.py\n* neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\n(cherry picked from commit 63584957203ec9f5ba165177978213c3909f81f0)\nCloses-Bug: #2008712\n'}, {'number': 2, 'created': '2023-05-04 12:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a980e6e2bfec02e77aada742f29601b75e635951', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nConflicts in (mostly due to notify to publish changes):\n* neutron/db/securitygroups_db.py\n* neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n* neutron/tests/unit/db/test_securitygroups_db.py\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\n(cherry picked from commit 63584957203ec9f5ba165177978213c3909f81f0)\nCloses-Bug: #2008712\n'}, {'number': 3, 'created': '2023-05-04 14:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f465e8d1861a6b66c11433cd314b2ffdf182cd3b', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nConflicts in (mostly due to notify to publish changes):\n* neutron/db/securitygroups_db.py\n* neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n* neutron/tests/unit/db/test_securitygroups_db.py\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\n(cherry picked from commit 63584957203ec9f5ba165177978213c3909f81f0)\nCloses-Bug: #2008712\n'}, {'number': 4, 'created': '2023-05-08 11:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0fb2e6e32b8cca88ed4b580ce04e010fe54cebb0', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nConflicts in (mostly due to notify to publish changes):\n* neutron/db/securitygroups_db.py\n* neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n* neutron/tests/unit/db/test_securitygroups_db.py\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\n(cherry picked from commit 63584957203ec9f5ba165177978213c3909f81f0)\nCloses-Bug: #2008712\n'}, {'number': 5, 'created': '2023-05-09 08:24:28.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/953a32bf9016ddcc66e34736d105c2dc87439ac0', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nConflicts in (mostly due to notify to publish changes):\n* neutron/db/securitygroups_db.py\n* neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n* neutron/tests/unit/db/test_securitygroups_db.py\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\n(cherry picked from commit 63584957203ec9f5ba165177978213c3909f81f0)\nCloses-Bug: #2008712\n'}]",4,882131,953a32bf9016ddcc66e34736d105c2dc87439ac0,23,3,5,8313,,,0,"Delete sg rule which remote is the deleted sg

Based on bug #2008712 if we have a security-group which
is the remote group of a 2nd security-group, the backend
never deletes the rule of the 2nd group which
remote_group_id is the original security-group.
By AFTER_DELETE event for each rule that has the
security_group_id as remote_group_id, we can make the
mech drivers do their work and delete these rules in the
backend.

Conflicts in (mostly due to notify to publish changes):
* neutron/db/securitygroups_db.py
* neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py
* neutron/tests/unit/db/test_securitygroups_db.py

Change-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7
(cherry picked from commit 63584957203ec9f5ba165177978213c3909f81f0)
Closes-Bug: #2008712
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/882131/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",3,eb322b71520c4114ce82ddf9d7f877ad30f148c3,bug/2008712-stable/2023.1-stable/zed-stable/yoga-stable/xena-stable/wallaby," registry.subscribe(self._process_sg_rule_after_del_notification, resources.SECURITY_GROUP_RULE, events.AFTER_DELETE) def _process_sg_rule_after_del_notification( self, resource, event, trigger, **kwargs): context = kwargs['context'] sg_rule = self._plugin.get_security_group_rule( context, kwargs['security_group_rule_id']) self._ovn_client.delete_security_group_rule(context, sg_rule) "," registry.subscribe(self._delete_security_group_precommit, resources.SECURITY_GROUP, events.PRECOMMIT_DELETE) def _delete_security_group_precommit(self, resource, event, trigger, security_group_id, **kwargs): context = n_context.get_admin_context() for sg_rule in self._plugin.get_security_group_rules( context, filters={'remote_group_id': [security_group_id]}): self._ovn_client.delete_security_group_rule(context, sg_rule) ",77,10
openstack%2Fcharm-openstack-hypervisor~main~I0975709bbfc0436796d34823213f8edfbda87a81,openstack/charm-openstack-hypervisor,main,I0975709bbfc0436796d34823213f8edfbda87a81,Trigger CI,MERGED,2023-06-01 05:22:18.000000000,2023-06-01 07:49:41.000000000,2023-06-01 07:38:08.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}, {'_account_id': 35761}]","[{'number': 1, 'created': '2023-06-01 05:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/4c231cd58fc8cfb7e1a00f54370d250a3c41f80e', 'message': 'Trigger CI\n\nChange-Id: I0975709bbfc0436796d34823213f8edfbda87a81\n'}]",1,884967,4c231cd58fc8cfb7e1a00f54370d250a3c41f80e,8,3,1,12549,,,0,"Trigger CI

Change-Id: I0975709bbfc0436796d34823213f8edfbda87a81
",git fetch https://review.opendev.org/openstack/charm-openstack-hypervisor refs/changes/67/884967/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,4c231cd58fc8cfb7e1a00f54370d250a3c41f80e,,,,0,0
openstack%2Fcloudkitty-dashboard~master~I8b07aa4d5ad6824b049144e87468fb941f57135f,openstack/cloudkitty-dashboard,master,I8b07aa4d5ad6824b049144e87468fb941f57135f,Use py3 as the default runtime for tox,MERGED,2023-05-26 06:28:42.000000000,2023-06-01 07:40:25.000000000,2023-06-01 07:39:19.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-05-26 06:28:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/16634e394245083fc806dd68299fa9c79b94ffdb', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I8b07aa4d5ad6824b049144e87468fb941f57135f\n'}]",0,884341,16634e394245083fc806dd68299fa9c79b94ffdb,8,3,1,35058,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I8b07aa4d5ad6824b049144e87468fb941f57135f
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/41/884341/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,16634e394245083fc806dd68299fa9c79b94ffdb,,"envlist = py3,pep8","envlist = py39,py38,pep8",1,1
openstack%2Fcharm-keystone-k8s~main~Ib52428e112934fdc1d34a5f7cf7fd8491bcf10a3,openstack/charm-keystone-k8s,main,Ib52428e112934fdc1d34a5f7cf7fd8491bcf10a3,Upgrade base to 22.04,ABANDONED,2023-05-31 10:26:22.000000000,2023-06-01 06:30:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-31 10:26:22.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/65a5d0bceecb548d720305c8c634c085119477d7', 'message': 'Upgrade base to 22.04\n\nChange-Id: Ib52428e112934fdc1d34a5f7cf7fd8491bcf10a3\n'}]",0,884860,65a5d0bceecb548d720305c8c634c085119477d7,4,1,1,35761,,,0,"Upgrade base to 22.04

Change-Id: Ib52428e112934fdc1d34a5f7cf7fd8491bcf10a3
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/60/884860/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,65a5d0bceecb548d720305c8c634c085119477d7,, channel: 22.04/stable, channel: 20.04/stable,1,1
openstack%2Fcharm-cinder-k8s~main~Ia9558df4f5815300c59ab9cb00adc34c1547e09a,openstack/charm-cinder-k8s,main,Ia9558df4f5815300c59ab9cb00adc34c1547e09a,Upgrade base to 22.04,ABANDONED,2023-05-31 10:27:36.000000000,2023-06-01 06:30:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-31 10:27:36.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/70b2519d79d9182144de32df8ceb396d15e9a1b8', 'message': 'Upgrade base to 22.04\n\nChange-Id: Ia9558df4f5815300c59ab9cb00adc34c1547e09a\n'}]",0,884862,70b2519d79d9182144de32df8ceb396d15e9a1b8,4,1,1,35761,,,0,"Upgrade base to 22.04

Change-Id: Ia9558df4f5815300c59ab9cb00adc34c1547e09a
",git fetch https://review.opendev.org/openstack/charm-cinder-k8s refs/changes/62/884862/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,70b2519d79d9182144de32df8ceb396d15e9a1b8,, channel: 22.04/stable, channel: 20.04/stable,1,1
openstack%2Fcharm-horizon-k8s~main~I3335803e56634fcef709ffe7f99414ef45bf2780,openstack/charm-horizon-k8s,main,I3335803e56634fcef709ffe7f99414ef45bf2780,Upgrade base to 22.04,ABANDONED,2023-05-31 10:28:49.000000000,2023-06-01 06:30:46.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 10:28:49.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/5a879b72f5a0daf5df94320361bd0916d2c31e1c', 'message': 'Upgrade base to 22.04\n\nChange-Id: I3335803e56634fcef709ffe7f99414ef45bf2780\n'}]",0,884863,5a879b72f5a0daf5df94320361bd0916d2c31e1c,5,2,1,35761,,,0,"Upgrade base to 22.04

Change-Id: I3335803e56634fcef709ffe7f99414ef45bf2780
",git fetch https://review.opendev.org/openstack/charm-horizon-k8s refs/changes/63/884863/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,5a879b72f5a0daf5df94320361bd0916d2c31e1c,, channel: 22.04/stable, channel: 20.04/stable,1,1
openstack%2Fcharm-placement-k8s~main~Ic4e2f1cbb336b00af56db308f2cc492275c0fa45,openstack/charm-placement-k8s,main,Ic4e2f1cbb336b00af56db308f2cc492275c0fa45,Upgrade base to 22.04,ABANDONED,2023-05-31 10:30:49.000000000,2023-06-01 06:30:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-31 10:30:49.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/530df3ae1d947909c711caec25089a60e2733893', 'message': 'Upgrade base to 22.04\n\nChange-Id: Ic4e2f1cbb336b00af56db308f2cc492275c0fa45\n'}]",0,884864,530df3ae1d947909c711caec25089a60e2733893,4,1,1,35761,,,0,"Upgrade base to 22.04

Change-Id: Ic4e2f1cbb336b00af56db308f2cc492275c0fa45
",git fetch https://review.opendev.org/openstack/charm-placement-k8s refs/changes/64/884864/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,530df3ae1d947909c711caec25089a60e2733893,, channel: 22.04/stable, channel: 20.04/stable,1,1
openstack%2Fcharm-cinder-ceph-k8s~main~Ifd477f07e2d1b0f9c58b089bacc58d3e25451d42,openstack/charm-cinder-ceph-k8s,main,Ifd477f07e2d1b0f9c58b089bacc58d3e25451d42,Upgrade base to 22.04,ABANDONED,2023-05-31 10:31:27.000000000,2023-06-01 06:30:40.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 10:31:27.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/2ef117bdc5340fbdcba317e6c16777f5bf32d8c7', 'message': 'Upgrade base to 22.04\n\nChange-Id: Ifd477f07e2d1b0f9c58b089bacc58d3e25451d42\n'}]",0,884865,2ef117bdc5340fbdcba317e6c16777f5bf32d8c7,5,2,1,35761,,,0,"Upgrade base to 22.04

Change-Id: Ifd477f07e2d1b0f9c58b089bacc58d3e25451d42
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph-k8s refs/changes/65/884865/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,2ef117bdc5340fbdcba317e6c16777f5bf32d8c7,, channel: 22.04/stable, channel: 20.04/stable,1,1
openstack%2Fcharm-glance-k8s~main~I169d9dd6d7a4e05d655500806954087870a7c7bc,openstack/charm-glance-k8s,main,I169d9dd6d7a4e05d655500806954087870a7c7bc,Upgrade base to 22.04,ABANDONED,2023-05-31 10:31:53.000000000,2023-06-01 06:30:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-31 10:31:53.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/cba1a912fb86646ce2ecea7d7c9bf7aa6f723ea0', 'message': 'Upgrade base to 22.04\n\nChange-Id: I169d9dd6d7a4e05d655500806954087870a7c7bc\n'}]",0,884866,cba1a912fb86646ce2ecea7d7c9bf7aa6f723ea0,4,1,1,35761,,,0,"Upgrade base to 22.04

Change-Id: I169d9dd6d7a4e05d655500806954087870a7c7bc
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/66/884866/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,cba1a912fb86646ce2ecea7d7c9bf7aa6f723ea0,, channel: 22.04/stable, channel: 20.04/stable,1,1
openstack%2Fcharm-nova-k8s~main~I5f346c1a0ddd0992dae61ff9245d8f462e13e1e0,openstack/charm-nova-k8s,main,I5f346c1a0ddd0992dae61ff9245d8f462e13e1e0,Upgrade base to 22.04,ABANDONED,2023-05-31 10:32:42.000000000,2023-06-01 06:30:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-31 10:32:42.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/3574f2a3e6408cd60a9a76020cf86b3d4668eb9c', 'message': 'Upgrade base to 22.04\n\nChange-Id: I5f346c1a0ddd0992dae61ff9245d8f462e13e1e0\n'}]",0,884867,3574f2a3e6408cd60a9a76020cf86b3d4668eb9c,4,1,1,35761,,,0,"Upgrade base to 22.04

Change-Id: I5f346c1a0ddd0992dae61ff9245d8f462e13e1e0
",git fetch https://review.opendev.org/openstack/charm-nova-k8s refs/changes/67/884867/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,3574f2a3e6408cd60a9a76020cf86b3d4668eb9c,, channel: 22.04/stable, channel: 20.04/stable,1,1
openstack%2Fdesignate-tempest-plugin~master~I218bbf0c4f6a1609b6500ccb91765959823bf911,openstack/designate-tempest-plugin,master,I218bbf0c4f6a1609b6500ccb91765959823bf911,Update testing for show and list a shared zone,MERGED,2023-05-26 23:55:14.000000000,2023-06-01 06:28:53.000000000,2023-06-01 06:28:01.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-05-26 23:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/294a67e6de53b54fdb255827ecca8a88fe45656f', 'message': 'Update testing for show and list a shared zone\n\nThis patch updates the tests to account for projects that have a zone\nshared with it can list and show the zone.\n\nChange-Id: I218bbf0c4f6a1609b6500ccb91765959823bf911\n'}, {'number': 2, 'created': '2023-05-27 00:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/7f912713ffd3c248488912709f4273fae8e0f3c8', 'message': 'Update testing for show and list a shared zone\n\nThis patch updates the tests to account for projects that have a zone\nshared with it can list and show the zone.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/884560\n\nChange-Id: I218bbf0c4f6a1609b6500ccb91765959823bf911\n'}, {'number': 3, 'created': '2023-06-01 00:40:17.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_zones.py', 'designate_tempest_plugin/tests/api/v2/test_shared_zones.py', 'designate_tempest_plugin/tests/scenario/v2/test_shared_zones.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/afdcc1c8f5a756bb12bbaad9f751b23ba2e08d92', 'message': 'Update testing for show and list a shared zone\n\nThis patch updates the tests to account for projects that have a zone\nshared with it can list and show the zone.\n\nChange-Id: I218bbf0c4f6a1609b6500ccb91765959823bf911\n'}]",1,884559,afdcc1c8f5a756bb12bbaad9f751b23ba2e08d92,13,2,3,11628,,,0,"Update testing for show and list a shared zone

This patch updates the tests to account for projects that have a zone
shared with it can list and show the zone.

Change-Id: I218bbf0c4f6a1609b6500ccb91765959823bf911
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/59/884559/2 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/api/v2/test_zones.py', 'designate_tempest_plugin/tests/api/v2/test_shared_zones.py', 'designate_tempest_plugin/tests/scenario/v2/test_shared_zones.py']",3,294a67e6de53b54fdb255827ecca8a88fe45656f,," lib_exc.Forbidden, lib_exc.Forbidden, lib_exc.Forbidden,"," lib_exc.NotFound, lib_exc.NotFound, lib_exc.NotFound,",78,30
openstack%2Fcharm-ceph-radosgw~master~Ie79f469b08c2dff5056f20761694d906f3414775,openstack/charm-ceph-radosgw,master,Ie79f469b08c2dff5056f20761694d906f3414775,[DNM] empty CI testing,NEW,2023-05-31 11:30:39.000000000,2023-06-01 05:28:57.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 11:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/64007b19e3e1503a9294e6ec8660ec180395bd3f', 'message': '[DNM] empty CI testing\n\nChange-Id: Ie79f469b08c2dff5056f20761694d906f3414775\n'}]",1,884879,64007b19e3e1503a9294e6ec8660ec180395bd3f,5,2,1,8108,,,0,"[DNM] empty CI testing

Change-Id: Ie79f469b08c2dff5056f20761694d906f3414775
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/79/884879/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,64007b19e3e1503a9294e6ec8660ec180395bd3f,,,,0,0
openstack%2Fdesignate~stable%2F2023.1~I2ef28eeb285462dc12b13de80cdab06b5cfb929b,openstack/designate,stable/2023.1,I2ef28eeb285462dc12b13de80cdab06b5cfb929b,Fix create zone export RBAC,MERGED,2023-06-01 03:31:47.000000000,2023-06-01 04:47:33.000000000,2023-06-01 04:46:33.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 03:31:47.000000000', 'files': ['designate/tests/unit/test_central/test_basic.py', 'designate/central/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/904d8d66656f7597a48b56947a8edc46ba7b3304', 'message': 'Fix create zone export RBAC\n\nPreviously the zone export create API relied on the zone lookup to fail if the\nproject did not have permission to export the zone. Because of this the RBAC\ntest was simply if the project_id was valid.\nWith shared zones, administrators may not want to allow exports of a zone that\nis shared with a project. This patch corrects the RBAC to check for zone\nownership before creating the zone export. This way a policy can be created to\nallow zone exports for projects that have a zone share.\n\nChange-Id: I2ef28eeb285462dc12b13de80cdab06b5cfb929b\n(cherry picked from commit 48826ffa96b0ed358ea814657d31fb5ba28966ee)\n'}]",1,884820,904d8d66656f7597a48b56947a8edc46ba7b3304,7,2,1,22623,,,0,"Fix create zone export RBAC

Previously the zone export create API relied on the zone lookup to fail if the
project did not have permission to export the zone. Because of this the RBAC
test was simply if the project_id was valid.
With shared zones, administrators may not want to allow exports of a zone that
is shared with a project. This patch corrects the RBAC to check for zone
ownership before creating the zone export. This way a policy can be created to
allow zone exports for projects that have a zone share.

Change-Id: I2ef28eeb285462dc12b13de80cdab06b5cfb929b
(cherry picked from commit 48826ffa96b0ed358ea814657d31fb5ba28966ee)
",git fetch https://review.opendev.org/openstack/designate refs/changes/20/884820/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/test_central/test_basic.py', 'designate/central/service.py']",2,904d8d66656f7597a48b56947a8edc46ba7b3304,, target = {constants.RBAC_PROJECT_ID: zone.tenant_id} else: target = {'tenant_id': zone.tenant_id}, target = {constants.RBAC_PROJECT_ID: context.project_id} else: target = {'tenant_id': context.project_id},3,2
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I392391c009af35c4f7b318040048781ef11fc718,openstack/tripleo-heat-templates,stable/wallaby,I392391c009af35c4f7b318040048781ef11fc718,Ensure that octaviaclient is installed on the controllers,MERGED,2023-05-30 11:30:43.000000000,2023-06-01 04:36:03.000000000,2023-06-01 04:36:03.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-05-30 11:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7399bdecbd507b43b8a50387d3c6c95eaf18e6c', 'message': ""Ensure that octaviaclient is installed on the controllers\n\nDoesn't assume that python3-octaviaclient is installed on the\ncontrollers, folks don't necessarily use director-images. Ensure that\noctaviaclient is installed.\n\nAlso clean up some old conditions for rhel7-based controllers.\n\nChange-Id: I392391c009af35c4f7b318040048781ef11fc718\n""}, {'number': 2, 'created': '2023-05-30 12:13:57.000000000', 'files': ['deployment/octavia/octavia-worker-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8c5e00cd66715fe7d2acc5fdbbc3dcf0905db292', 'message': ""Ensure that octaviaclient is installed on the controllers\n\nDon't assume that python3-octaviaclient is installed on the controllers,\nfolks don't necessarily use director-images (ex: pre-provisioned nodes)\nEnsure that octaviaclient is installed.\n\nAlso clean up some old conditions for rhel7-based controllers.\n\nChange-Id: I392391c009af35c4f7b318040048781ef11fc718\n""}]",4,884680,8c5e00cd66715fe7d2acc5fdbbc3dcf0905db292,14,4,2,29244,,,0,"Ensure that octaviaclient is installed on the controllers

Don't assume that python3-octaviaclient is installed on the controllers,
folks don't necessarily use director-images (ex: pre-provisioned nodes)
Ensure that octaviaclient is installed.

Also clean up some old conditions for rhel7-based controllers.

Change-Id: I392391c009af35c4f7b318040048781ef11fc718
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/884680/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-worker-container-puppet.yaml'],1,e7399bdecbd507b43b8a50387d3c6c95eaf18e6c,, - name: Ensure packages required for configuring octavia are present - python3-octaviaclient," - name: Ensure packages required for configuring octavia are present for CentOS 7 package: name: - python2-neutronclient - python2-openstackclient - openssl state: present when: ansible_facts['distribution_major_version'] is version(8, '<') - name: Ensure packages required for configuring octavia are present for CentOS/RHEL 8 when: ansible_facts['distribution_major_version'] is version(8, '>=')",2,11
openstack%2Fdiskimage-builder~master~I1df3f717f4c2c19cc4a3dd44746d7b7067112239,openstack/diskimage-builder,master,I1df3f717f4c2c19cc4a3dd44746d7b7067112239,Change DIB_BOOTLOADER_DEFAULT_CMDLINE empty string behaviour,NEW,2023-05-29 21:32:28.000000000,2023-06-01 01:03:36.000000000,,"[{'_account_id': 7118}, {'_account_id': 9816}, {'_account_id': 11655}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2023-05-29 21:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/05227479c34ee2c1922a43b14b4510e0d7aebf04', 'message': 'Change DIB_BOOTLOADER_DEFAULT_CMDLINE empty string behaviour\n\nThe tripleo overcloud image sets DIB_BOOTLOADER_DEFAULT_CMDLINE to an\nempty string[1] with the expectation that this will prevent\n""nomodeset"" etc from being appended to the kernel arguments. This\nchange implements that behaviour, so that only an unset\nDIB_BOOTLOADER_DEFAULT_CMDLINE will get the default values set.\n\nHaving the ability to suppress nomodeset is required to avoid bugs in\nvideo hardware which cause significant latency on console writes.\n\n[1] https://opendev.org/openstack/tripleo-common/src/branch/stable/wallaby/image-yaml/overcloud-hardened-images.yaml#L41\n\nRelated: rhbz#2179366\nChange-Id: I1df3f717f4c2c19cc4a3dd44746d7b7067112239\n'}, {'number': 2, 'created': '2023-05-29 22:01:24.000000000', 'files': ['diskimage_builder/elements/bootloader/environment.d/10-bootloader-default-cmdline', 'diskimage_builder/elements/bootloader/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ffeebbae8a8911df5a2067d1c0725208e2b6efb4', 'message': 'Change DIB_BOOTLOADER_DEFAULT_CMDLINE empty string behaviour\n\nThe tripleo overcloud image sets DIB_BOOTLOADER_DEFAULT_CMDLINE to an\nempty string[1] with the expectation that this will prevent\n""nomodeset"" etc from being appended to the kernel arguments. This\nchange implements that behaviour, so that only an unset\nDIB_BOOTLOADER_DEFAULT_CMDLINE will get the default values set.\n\nHaving the ability to suppress nomodeset is required to avoid bugs in\nvideo hardware which cause significant latency on console writes.\n\n[1] https://opendev.org/openstack/tripleo-common/src/branch/stable/wallaby/image-yaml/overcloud-hardened-images.yaml#L41\n\nRelated: rhbz#2179366\nChange-Id: I1df3f717f4c2c19cc4a3dd44746d7b7067112239\n'}]",14,884644,ffeebbae8a8911df5a2067d1c0725208e2b6efb4,16,6,2,4571,,,0,"Change DIB_BOOTLOADER_DEFAULT_CMDLINE empty string behaviour

The tripleo overcloud image sets DIB_BOOTLOADER_DEFAULT_CMDLINE to an
empty string[1] with the expectation that this will prevent
""nomodeset"" etc from being appended to the kernel arguments. This
change implements that behaviour, so that only an unset
DIB_BOOTLOADER_DEFAULT_CMDLINE will get the default values set.

Having the ability to suppress nomodeset is required to avoid bugs in
video hardware which cause significant latency on console writes.

[1] https://opendev.org/openstack/tripleo-common/src/branch/stable/wallaby/image-yaml/overcloud-hardened-images.yaml#L41

Related: rhbz#2179366
Change-Id: I1df3f717f4c2c19cc4a3dd44746d7b7067112239
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/44/884644/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/bootloader/environment.d/10-bootloader-default-cmdline', 'diskimage_builder/elements/bootloader/README.rst']",2,05227479c34ee2c1922a43b14b4510e0d7aebf04,rhbz/2179366,to the ``GRUB_CMDLINE_LINUX_DEFAULT`` values in ``grub.cfg`` configuration. It defaults to ``nofb nomodeset gfxpayload=text`` when it is unset., to the ``GRUB_CMDLINE_LINUX_DEFAULT`` values in ``grub.cfg`` configuration. It defaults to ``nofb nomodeset gfxpayload=text``.,9,3
openstack%2Fdesignate~stable%2F2023.1~Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827,openstack/designate,stable/2023.1,Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827,Fix zone list/show for shared zones,MERGED,2023-05-31 22:44:12.000000000,2023-06-01 00:33:41.000000000,2023-06-01 00:31:50.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-05-31 22:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/66e50ffbf60043fd04dbe368a09805e9cd845981', 'message': 'Fix zone list/show for shared zones\n\nPreviously projects that had a zone shared with them were unable to view the\nshared zone. This patch corrects that issue.\n\nChange-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827\n(cherry picked from commit 5b7ee8899dd041a351ed61a2a6378e75812bfd59)\n'}, {'number': 2, 'created': '2023-05-31 22:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/855d7f9a6f0c196ae94f3010c768ac9addb8f0a0', 'message': 'Fix zone list/show for shared zones\n\nPreviously projects that had a zone shared with them were unable to view the\nshared zone. This patch corrects that issue.\n\nChange-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827\n(cherry picked from commit 5b7ee8899dd041a351ed61a2a6378e75812bfd59)\n'}, {'number': 3, 'created': '2023-05-31 23:08:17.000000000', 'files': ['designate/sqlalchemy/base.py', 'designate/storage/impl_sqlalchemy/__init__.py', '.zuul.yaml', 'releasenotes/notes/Fix-list-and-show-shared-zones-8a42a6b5f4910fc7.yaml', 'designate/tests/test_central/test_service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/72de55dfea4af696e2b8b4d5b686e87c9113fe18', 'message': 'Fix zone list/show for shared zones\n\nPreviously projects that had a zone shared with them were unable to view the\nshared zone. This patch corrects that issue.\n\nChange-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827\n(cherry picked from commit 5b7ee8899dd041a351ed61a2a6378e75812bfd59)\n'}]",2,884953,72de55dfea4af696e2b8b4d5b686e87c9113fe18,12,3,3,11628,,,0,"Fix zone list/show for shared zones

Previously projects that had a zone shared with them were unable to view the
shared zone. This patch corrects that issue.

Change-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827
(cherry picked from commit 5b7ee8899dd041a351ed61a2a6378e75812bfd59)
",git fetch https://review.opendev.org/openstack/designate refs/changes/53/884953/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/sqlalchemy/base.py', 'designate/storage/impl_sqlalchemy/__init__.py', '.zuul.yaml', 'releasenotes/notes/Fix-list-and-show-shared-zones-8a42a6b5f4910fc7.yaml', 'designate/tests/test_central/test_service.py']",5,66e50ffbf60043fd04dbe368a09805e9cd845981,," def test_share_zone_visibility(self): context1 = self.get_context(project_id='1', roles=['member', 'reader']) context2 = self.get_context(project_id='2', roles=['member', 'reader']) context3 = self.get_context(project_id='3', roles=['member', 'reader']) # Create zone for project_id '1'. zone = self.create_zone(context=context1) self.assertEqual(1, len(self.central_service.find_zones(context1))) self.assertEqual(0, len(self.central_service.find_zones(context2))) self.assertEqual(0, len(self.central_service.find_zones(context3))) # Share with project_id '2'. share_zone = self.central_service.share_zone( context1, zone['id'], objects.SharedZone.from_dict({ 'target_project_id': context2.project_id }) ) self.assertEqual(1, len(self.central_service.find_zones(context1))) self.assertEqual(1, len(self.central_service.find_zones(context2))) self.assertEqual(0, len(self.central_service.find_zones(context3))) # Unshare zone. self.central_service.unshare_zone(context1, zone['id'], share_zone.id) self.assertEqual(1, len(self.central_service.find_zones(context1))) self.assertEqual(0, len(self.central_service.find_zones(context2))) self.assertEqual(0, len(self.central_service.find_zones(context3))) ",,88,28
openstack%2Fnova~stable%2Ftrain~I73c9ae27e9c42ee211a53bed3d849650b65f08be,openstack/nova,stable/train,I73c9ae27e9c42ee211a53bed3d849650b65f08be,Update RequestSpec.pci_request for resize,NEW,2023-05-23 12:13:34.000000000,2023-06-01 00:12:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-23 12:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98c4831dd690db87769dc1a9b80d5fd3026f81f6', 'message': 'Update RequestSpec.pci_request for resize\n\nNova uses the RequestSpec.pci_request in the PciPassthroughFilter to\ndecide if the PCI devicesm, requested via the pci_alias in the flavor\nextra_spec, are available on a potential target host. During resize the\nnew flavor might contain different pci_alias request than the old flavor\nof the instance. In this case Nova should use the pci_alias from the new\nflavor to scheduler the destination host of the resize. However this\nlogic was missing and Nova used the old pci_request value based on the\nold flavor. This patch adds the missing logic.\n\nCloses-Bug: #1983753\nCloses-Bug: #1941005\nChange-Id: I73c9ae27e9c42ee211a53bed3d849650b65f08be\n(cherry picked from commit a93092e0d5c1483f9ad48276708ee35c54ce44fe)\n(cherry picked from commit b6c7ee07ad2a6503b8aad0921cca70e61e60259d)\n(cherry picked from commit 696d27a0e2ccf0916fc6bd3eabf73f2b007e7830)\n(cherry picked from commit 35ad4bbaf8b383436d3b972daa58e05a47e36d82)\n(cherry picked from commit c530350360d1f003156ba0c4820047d336bba4d1)\n(cherry picked from commit 4321efe80e25809ef5eb68152b7b3c7bc1dc52fe)\n'}, {'number': 2, 'created': '2023-05-23 16:08:00.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/functional/regressions/test_bug_1983753.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/00817a82268e1c7ab292f4e90ea2bcb89032c080', 'message': 'Update RequestSpec.pci_request for resize\n\nNova uses the RequestSpec.pci_request in the PciPassthroughFilter to\ndecide if the PCI devicesm, requested via the pci_alias in the flavor\nextra_spec, are available on a potential target host. During resize the\nnew flavor might contain different pci_alias request than the old flavor\nof the instance. In this case Nova should use the pci_alias from the new\nflavor to scheduler the destination host of the resize. However this\nlogic was missing and Nova used the old pci_request value based on the\nold flavor. This patch adds the missing logic.\n\nCloses-Bug: #1983753\nCloses-Bug: #1941005\nChange-Id: I73c9ae27e9c42ee211a53bed3d849650b65f08be\n(cherry picked from commit a93092e0d5c1483f9ad48276708ee35c54ce44fe)\n(cherry picked from commit b6c7ee07ad2a6503b8aad0921cca70e61e60259d)\n(cherry picked from commit 696d27a0e2ccf0916fc6bd3eabf73f2b007e7830)\n(cherry picked from commit 35ad4bbaf8b383436d3b972daa58e05a47e36d82)\n(cherry picked from commit c530350360d1f003156ba0c4820047d336bba4d1)\n(cherry picked from commit 4321efe80e25809ef5eb68152b7b3c7bc1dc52fe)\n'}]",1,883933,00817a82268e1c7ab292f4e90ea2bcb89032c080,7,1,2,9708,,,0,"Update RequestSpec.pci_request for resize

Nova uses the RequestSpec.pci_request in the PciPassthroughFilter to
decide if the PCI devicesm, requested via the pci_alias in the flavor
extra_spec, are available on a potential target host. During resize the
new flavor might contain different pci_alias request than the old flavor
of the instance. In this case Nova should use the pci_alias from the new
flavor to scheduler the destination host of the resize. However this
logic was missing and Nova used the old pci_request value based on the
old flavor. This patch adds the missing logic.

Closes-Bug: #1983753
Closes-Bug: #1941005
Change-Id: I73c9ae27e9c42ee211a53bed3d849650b65f08be
(cherry picked from commit a93092e0d5c1483f9ad48276708ee35c54ce44fe)
(cherry picked from commit b6c7ee07ad2a6503b8aad0921cca70e61e60259d)
(cherry picked from commit 696d27a0e2ccf0916fc6bd3eabf73f2b007e7830)
(cherry picked from commit 35ad4bbaf8b383436d3b972daa58e05a47e36d82)
(cherry picked from commit c530350360d1f003156ba0c4820047d336bba4d1)
(cherry picked from commit 4321efe80e25809ef5eb68152b7b3c7bc1dc52fe)
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/883933/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/functional/regressions/test_bug_1983753.py', 'nova/compute/api.py']",3,98c4831dd690db87769dc1a9b80d5fd3026f81f6,bug/1941005," # if the flavor is changed then we need to recalculate the # pci_requests as well because the new flavor might request # different pci_aliases new_pci_requests = pci_request.get_pci_requests_from_flavor( new_instance_type) new_pci_requests.instance_uuid = instance.uuid # The neutron based InstancePCIRequest cannot change during resize, # so we just need to copy them from the old request for request in request_spec.pci_requests.requests or []: if request.source == objects.InstancePCIRequest.NEUTRON_PORT: new_pci_requests.requests.append(request) request_spec.pci_requests = new_pci_requests ",,29,24
openstack%2Fcharm-neutron-api-plugin-ovn~stable%2Fvictoria~Idac1a163c7a1d449c66a51edefe29a41cdd092a5,openstack/charm-neutron-api-plugin-ovn,stable/victoria,Idac1a163c7a1d449c66a51edefe29a41cdd092a5,Pin build.lock for all layers to the commit hash,MERGED,2022-09-21 13:52:51.000000000,2023-05-31 23:07:04.000000000,2023-05-31 21:09:35.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-21 13:52:51.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/0c30370e3e8bb2609508d2b0c27052edd3afb790', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: Idac1a163c7a1d449c66a51edefe29a41cdd092a5\n'}]",4,858721,0c30370e3e8bb2609508d2b0c27052edd3afb790,19,4,1,20870,,,0,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: Idac1a163c7a1d449c66a51edefe29a41cdd092a5
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/21/858721/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,0c30370e3e8bb2609508d2b0c27052edd3afb790,victoria-lock-layers," ""branch"": ""cc5bd3f49b2fa5e6c3ab2336763c313ec8bf083f"", ""branch"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"", ""branch"": ""a3ff62c32c993d80417f6e093e3ef95e42f62083"", ""branch"": ""207bac8bec837edc6a4d6003f51d5b59d2d75adb"", ""branch"": ""d9850016d930a6d507b9fd45e2598d327922b140"", ""branch"": ""da16f317315280269821acb21338018bf0825a5a"","," ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"",",6,6
openstack%2Fcharm-octavia~stable%2Fyoga~I2cae5f0e307c8cd14f1831f3416d890ad604b705,openstack/charm-octavia,stable/yoga,I2cae5f0e307c8cd14f1831f3416d890ad604b705,Wait for management interface IP to be assigned,NEW,2022-12-07 03:02:31.000000000,2023-05-31 22:49:59.000000000,,"[{'_account_id': 2424}, {'_account_id': 8108}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-07 03:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/319b599d8789739a27c16e9d3b093a10da644c00', 'message': ""Wait for management interface IP to be assigned\n\nThere can be a delay between the interface being created,\nand an IP address getting assigned,\nwhich previously caused a race condition where\nthe config could be rendered before the IP address was ready\nresulting in the health manager bind_ip to be empty.\n\nThis ensures that the IP address will be ready before continuing,\nwhich will ensure that the config rendering will not happen until ready,\nand the configure-resources action will only return once it's all done.\n\nCloses-Bug: #1961088\nChange-Id: I2cae5f0e307c8cd14f1831f3416d890ad604b705\n(cherry picked from commit 4c206672618bd6c7816b16e2ce04c0469d9da14d)\n""}, {'number': 2, 'created': '2023-01-23 00:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/bcc7bca507f19d1136885e7c54882e9f05f16746', 'message': ""Wait for management interface IP to be assigned\n\nThere can be a delay between the interface being created,\nand an IP address getting assigned,\nwhich previously caused a race condition where\nthe config could be rendered before the IP address was ready\nresulting in the health manager bind_ip to be empty.\n\nThis ensures that the IP address will be ready before continuing,\nwhich will ensure that the config rendering will not happen until ready,\nand the configure-resources action will only return once it's all done.\n\nCloses-Bug: #1961088\nChange-Id: I2cae5f0e307c8cd14f1831f3416d890ad604b705\n(cherry picked from commit 4c206672618bd6c7816b16e2ce04c0469d9da14d)\n""}, {'number': 3, 'created': '2023-03-22 16:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/9fd31b5c23540d07d27446471e1f5e93f95f021f', 'message': ""Wait for management interface IP to be assigned\n\nThere can be a delay between the interface being created,\nand an IP address getting assigned,\nwhich previously caused a race condition where\nthe config could be rendered before the IP address was ready\nresulting in the health manager bind_ip to be empty.\n\nThis ensures that the IP address will be ready before continuing,\nwhich will ensure that the config rendering will not happen until ready,\nand the configure-resources action will only return once it's all done.\n\nCloses-Bug: #1961088\nChange-Id: I2cae5f0e307c8cd14f1831f3416d890ad604b705\n(cherry picked from commit 4c206672618bd6c7816b16e2ce04c0469d9da14d)\n""}, {'number': 4, 'created': '2023-05-30 14:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/a21ba8d882cdee1d6237167472e7bc3be6b28c98', 'message': ""Wait for management interface IP to be assigned\n\nThere can be a delay between the interface being created,\nand an IP address getting assigned,\nwhich previously caused a race condition where\nthe config could be rendered before the IP address was ready\nresulting in the health manager bind_ip to be empty.\n\nThis ensures that the IP address will be ready before continuing,\nwhich will ensure that the config rendering will not happen until ready,\nand the configure-resources action will only return once it's all done.\n\nCloses-Bug: #1961088\nChange-Id: I2cae5f0e307c8cd14f1831f3416d890ad604b705\n(cherry picked from commit 4c206672618bd6c7816b16e2ce04c0469d9da14d)\n""}, {'number': 5, 'created': '2023-05-30 14:03:59.000000000', 'files': ['src/lib/charm/openstack/octavia.py', 'unit_tests/test_lib_charm_openstack_api_crud.py', 'src/reactive/octavia_handlers.py', 'unit_tests/test_lib_charm_openstack_octavia.py', 'src/lib/charm/openstack/api_crud.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/edc782db6876247f72431061bca25fa2adaedeee', 'message': ""Wait for management interface IP to be assigned\n\nThere can be a delay between the interface being created,\nand an IP address getting assigned,\nwhich previously caused a race condition where\nthe config could be rendered before the IP address was ready\nresulting in the health manager bind_ip to be empty.\n\nThis ensures that the IP address will be ready before continuing,\nwhich will ensure that the config rendering will not happen until ready,\nand the configure-resources action will only return once it's all done.\n\nCloses-Bug: #1961088\nChange-Id: I2cae5f0e307c8cd14f1831f3416d890ad604b705\n(cherry picked from commit 4c206672618bd6c7816b16e2ce04c0469d9da14d)\n""}]",11,866821,edc782db6876247f72431061bca25fa2adaedeee,30,4,5,34352,,,0,"Wait for management interface IP to be assigned

There can be a delay between the interface being created,
and an IP address getting assigned,
which previously caused a race condition where
the config could be rendered before the IP address was ready
resulting in the health manager bind_ip to be empty.

This ensures that the IP address will be ready before continuing,
which will ensure that the config rendering will not happen until ready,
and the configure-resources action will only return once it's all done.

Closes-Bug: #1961088
Change-Id: I2cae5f0e307c8cd14f1831f3416d890ad604b705
(cherry picked from commit 4c206672618bd6c7816b16e2ce04c0469d9da14d)
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/21/866821/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/octavia.py', 'src/reactive/octavia_handlers.py', 'unit_tests/test_lib_charm_openstack_api_crud.py', 'unit_tests/test_lib_charm_openstack_octavia.py', 'src/lib/charm/openstack/api_crud.py']",5,319b599d8789739a27c16e9d3b093a10da644c00,fix-health-bind-ip,"import timeclass NoMgmtInterface(Exception): """"""Exception raised when no mgmt interface could not be found."""""" def wait_for_address_on_mgmt_interface(): """""" Poll for an address on the management interface. :returns: True if an address was found before timing out :rtype: bool """""" for _ in range(90): ch_core.hookenv.log('polling for address on mgmt interface', level=ch_core.hookenv.DEBUG) if octavia.get_address_on_mgmt_interface(): ch_core.hookenv.log( 'address found on mgmt interface', level=ch_core.hookenv.INFO ) return True time.sleep(10) # 90 * 10 = 15 minutes ch_core.hookenv.log('timed out waiting for address on mgmt interface', level=ch_core.hookenv.INFO) return False # If there's no mgmt interface, this is a hard error with no simple fix. # So raising an uncaught exception is ok. if not wait_for_address_on_mgmt_interface(): raise NoMgmtInterface() ",,117,19
openstack%2Fkolla-ansible~stable%2Fyoga~I51ca37ffbb1bb5c07f2d39873f0f33ca20263f2a,openstack/kolla-ansible,stable/yoga,I51ca37ffbb1bb5c07f2d39873f0f33ca20263f2a,Add flags for RabbitMQ message TTL & queue expiry,MERGED,2023-04-13 12:48:32.000000000,2023-05-31 22:44:26.000000000,2023-05-31 22:42:38.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-04-13 12:48:32.000000000', 'files': ['ansible/roles/rabbitmq/templates/definitions.json.j2', 'tools/validate-all-file.py', 'ansible/roles/rabbitmq/defaults/main.yml', 'releasenotes/notes/rabbitmq-add-flags-for-message-ttl-and-queue-expiry-c163a370708f5b20.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8affe4ed35604f50360f163bade5f2003f64b5eb', 'message': 'Add flags for RabbitMQ message TTL & queue expiry\n\nAdds two new flags to alter behaviour in RabbitMQ:\n    * `rabbitmq_message_ttl_ms`, which lets you set a TTL on messages.\n    * `rabbitmq_queue_expiry_ms`, which lets you set an expiry time on queues.\nSee https://www.rabbitmq.com/ttl.html for more information on both.\n\nChange-Id: I51ca37ffbb1bb5c07f2d39873f0f33ca20263f2a\n(cherry picked from commit dae2cbca30663b03c4c1994f26f3a0a3c0f2dcf8)\n'}]",1,880314,8affe4ed35604f50360f163bade5f2003f64b5eb,14,3,1,14826,,,0,"Add flags for RabbitMQ message TTL & queue expiry

Adds two new flags to alter behaviour in RabbitMQ:
    * `rabbitmq_message_ttl_ms`, which lets you set a TTL on messages.
    * `rabbitmq_queue_expiry_ms`, which lets you set an expiry time on queues.
See https://www.rabbitmq.com/ttl.html for more information on both.

Change-Id: I51ca37ffbb1bb5c07f2d39873f0f33ca20263f2a
(cherry picked from commit dae2cbca30663b03c4c1994f26f3a0a3c0f2dcf8)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/880314/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/templates/definitions.json.j2', 'tools/validate-all-file.py', 'ansible/roles/rabbitmq/defaults/main.yml', 'releasenotes/notes/rabbitmq-add-flags-for-message-ttl-and-queue-expiry-c163a370708f5b20.yaml']",4,8affe4ed35604f50360f163bade5f2003f64b5eb,,"--- features: - | Added two new flags to alter behaviour in RabbitMQ: * `rabbitmq_message_ttl_ms`, which lets you set a TTL on messages. * `rabbitmq_queue_expiry_ms`, which lets you set an expiry time on queues. See https://www.rabbitmq.com/ttl.html for more information on both. ",,16,2
openstack%2Fkolla-ansible~stable%2Fyoga~Iee98cd937197a73a3b04aa8501fa325e8ecfff24,openstack/kolla-ansible,stable/yoga,Iee98cd937197a73a3b04aa8501fa325e8ecfff24,Add flag to change RabbitMQ ha-mode definition,MERGED,2023-03-23 09:13:33.000000000,2023-05-31 22:43:33.000000000,2023-05-31 22:42:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-03-23 09:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/74690dc2a836b289def1d0c8ad30903490a1d730', 'message': 'Add flag to change RabbitMQ ha-mode definition\n\nAdds the flag `rabbitmq_ha_replica_count` to change how many different\nnodes a queue should be mirrored across. If the value is not set, then\nit defaults to ""ha-mode"":""all"". This value is unset by default to avoid\nany unexpected changes to the RabbitMQ definitions.json file, as that\nwould trigger an unexpected restart of RabbitMQ during the next deploy.\n\nChange-Id: Iee98cd937197a73a3b04aa8501fa325e8ecfff24\n(cherry picked from commit e13072a98df3727693ead107cd54d784c4e9c1cd)\n'}, {'number': 2, 'created': '2023-03-23 09:14:03.000000000', 'files': ['ansible/roles/rabbitmq/templates/definitions.json.j2', 'releasenotes/notes/rabbitmq-ha-flag-to-change-replication-factor-321c2f9e08e7d179.yaml', 'tools/validate-all-file.py', 'ansible/roles/rabbitmq/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eca595c18dff63ec329c69be0ac52f03e77f1488', 'message': 'Add flag to change RabbitMQ ha-mode definition\n\nAdds the flag `rabbitmq_ha_replica_count` to change how many different\nnodes a queue should be mirrored across. If the value is not set, then\nit defaults to ""ha-mode"":""all"". This value is unset by default to avoid\nany unexpected changes to the RabbitMQ definitions.json file, as that\nwould trigger an unexpected restart of RabbitMQ during the next deploy.\n\nChange-Id: Iee98cd937197a73a3b04aa8501fa325e8ecfff24\n(cherry picked from commit e13072a98df3727693ead107cd54d784c4e9c1cd)\n'}]",1,878339,eca595c18dff63ec329c69be0ac52f03e77f1488,16,3,2,14826,,,0,"Add flag to change RabbitMQ ha-mode definition

Adds the flag `rabbitmq_ha_replica_count` to change how many different
nodes a queue should be mirrored across. If the value is not set, then
it defaults to ""ha-mode"":""all"". This value is unset by default to avoid
any unexpected changes to the RabbitMQ definitions.json file, as that
would trigger an unexpected restart of RabbitMQ during the next deploy.

Change-Id: Iee98cd937197a73a3b04aa8501fa325e8ecfff24
(cherry picked from commit e13072a98df3727693ead107cd54d784c4e9c1cd)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/39/878339/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/templates/definitions.json.j2', 'releasenotes/notes/rabbitmq-ha-flag-to-change-replication-factor-321c2f9e08e7d179.yaml', 'tools/validate-all-file.py', 'ansible/roles/rabbitmq/defaults/main.yml']",4,74690dc2a836b289def1d0c8ad30903490a1d730,bug/1954925-stable/zed-stable/yoga,"# If no replica count is specified, replicates across all nodes with definition # ""ha-mode"":""all"". Otherwise, uses # ""ha-mode"":""exactly"",""ha-params"":{{ rabbitmq_ha_replica_count | int }} rabbitmq_ha_replica_count:",,19,2
openstack%2Fnetworking-odl~stable%2Fzed~I72d45df84fe54e84b3d2869381860cd087645ae2,openstack/networking-odl,stable/zed,I72d45df84fe54e84b3d2869381860cd087645ae2,Tox4: add allowlist_externals where necessary,MERGED,2023-05-25 09:51:26.000000000,2023-05-31 22:36:54.000000000,2023-05-31 22:35:52.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 09:51:26.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/682ab61216114476ef461e0c6fb80046cde57020', 'message': 'Tox4: add allowlist_externals where necessary\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nRelated-Bug: #1999558\nChange-Id: I72d45df84fe54e84b3d2869381860cd087645ae2\n(cherry picked from commit d8316e6f531e7568fdb9dca6fae89902eb566c40)\n'}]",0,884325,682ab61216114476ef461e0c6fb80046cde57020,8,3,1,16688,,,0,"Tox4: add allowlist_externals where necessary

With tox4 allowlist_externals is more strictly checked, so
fix it where necessary and fix pylint version.

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943
Related-Bug: #1999558
Change-Id: I72d45df84fe54e84b3d2869381860cd087645ae2
(cherry picked from commit d8316e6f531e7568fdb9dca6fae89902eb566c40)
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/25/884325/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,682ab61216114476ef461e0c6fb80046cde57020,tox4,skipsdist = Falsepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_FAIL_ON_MISSING_DEPS OS_POST_MORTEM_DEBUGGER TRACE_FAILONLY OS_TEST_DBAPI_ADMIN_CONNECTION OS_DEBUG {toxinidir}/tools/coding-checks.sh,skipsdist = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_FAIL_ON_MISSING_DEPS OS_POST_MORTEM_DEBUGGER TRACE_FAILONLY OS_TEST_DBAPI_ADMIN_CONNECTION OS_DEBUG,14,4
openstack%2Fkolla-ansible~stable%2Fyoga~I2146bda2c72ddac2c9923c6941b0596395fd9ab5,openstack/kolla-ansible,stable/yoga,I2146bda2c72ddac2c9923c6941b0596395fd9ab5,RabbitMQ: Support setting ha-promote-on-shutdown,MERGED,2023-03-23 09:12:22.000000000,2023-05-31 22:28:48.000000000,2023-05-31 22:27:45.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-03-23 09:12:22.000000000', 'files': ['ansible/roles/rabbitmq/templates/definitions.json.j2', 'releasenotes/notes/rabbitmq-ha-promote-on-shutdown-9099c6643f2d0cce.yaml', 'ansible/roles/rabbitmq/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f01896ffdee1c95a6f404ec379cdc38af475f701', 'message': 'RabbitMQ: Support setting ha-promote-on-shutdown\n\nBy default ha-promote-on-shutdown=when-synced. However we are seeing\nissues with RabbitMQ automatically recovering when nodes are restarted.\nhttps://www.rabbitmq.com/ha.html#cluster-shutdown\n\nRather than waiting for operator interventions, it is better we allow\nrecovery to happen, even if that means we may loose some messages.\nA few failed and timed out operations is better than a totaly broken\ncloud. This is achieved using ha-promote-on-shutdown=always.\n\nNote, when a node failure is detected, this is already the default\nbehaviour from 3.7.5 onwards:\nhttps://www.rabbitmq.com/ha.html#promoting-unsynchronised-mirrors\n\nThis patch adds the option to change the ha-promote-on-shutdown\ndefinition, using the flag `rabbitmq_ha_promote_on_shutdown`. This\nvalue is unset by default to avoid any unexpected changes to the\nRabbitMQ definitions.json file, as that would trigger an unexpected\nrestart of RabbitMQ during the next deploy.\n\nRelated-Bug: #1954925\n\nChange-Id: I2146bda2c72ddac2c9923c6941b0596395fd9ab5\n(cherry picked from commit 94f3ce0c78998e29fcc034a9b0844f9d6d602807)\n'}]",1,878338,f01896ffdee1c95a6f404ec379cdc38af475f701,15,4,1,14826,,,0,"RabbitMQ: Support setting ha-promote-on-shutdown

By default ha-promote-on-shutdown=when-synced. However we are seeing
issues with RabbitMQ automatically recovering when nodes are restarted.
https://www.rabbitmq.com/ha.html#cluster-shutdown

Rather than waiting for operator interventions, it is better we allow
recovery to happen, even if that means we may loose some messages.
A few failed and timed out operations is better than a totaly broken
cloud. This is achieved using ha-promote-on-shutdown=always.

Note, when a node failure is detected, this is already the default
behaviour from 3.7.5 onwards:
https://www.rabbitmq.com/ha.html#promoting-unsynchronised-mirrors

This patch adds the option to change the ha-promote-on-shutdown
definition, using the flag `rabbitmq_ha_promote_on_shutdown`. This
value is unset by default to avoid any unexpected changes to the
RabbitMQ definitions.json file, as that would trigger an unexpected
restart of RabbitMQ during the next deploy.

Related-Bug: #1954925

Change-Id: I2146bda2c72ddac2c9923c6941b0596395fd9ab5
(cherry picked from commit 94f3ce0c78998e29fcc034a9b0844f9d6d602807)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/878338/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/templates/definitions.json.j2', 'releasenotes/notes/rabbitmq-ha-promote-on-shutdown-9099c6643f2d0cce.yaml', 'ansible/roles/rabbitmq/defaults/main.yml']",3,f01896ffdee1c95a6f404ec379cdc38af475f701,bug/1954925-stable/zed-stable/yoga,"# For consistency use ""when-synced"", for availability use ""always"" # The rabbitmq default for ha queues is ""when-synced"" # More details see: # https://www.rabbitmq.com/ha.html#promoting-unsynchronised-mirrors rabbitmq_ha_promote_on_shutdown:",,20,2
openstack%2Fdesignate~master~Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827,openstack/designate,master,Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827,Fix zone list/show for shared zones,MERGED,2023-05-26 19:18:33.000000000,2023-05-31 22:27:46.000000000,2023-05-31 22:25:46.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-05-26 19:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8255772a59b9501402b6e10427d09738f0431c2d', 'message': 'Fix zone list/show for shared zones\n\nPreviously projects that had a zone shared with them were unable to view the\nshared zone. This patch corrects that issue.\n\nChange-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827\n'}, {'number': 2, 'created': '2023-05-26 19:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/65bcf164ef91cfddca106df9e89716c21ffef667', 'message': 'Fix zone list/show for shared zones\n\nPreviously projects that had a zone shared with them were unable to view the\nshared zone. This patch corrects that issue.\n\nChange-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827\n'}, {'number': 3, 'created': '2023-05-27 00:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d2f0d870cbce6dcadaa6b62e91896ff9030ee12e', 'message': 'Fix zone list/show for shared zones\n\nPreviously projects that had a zone shared with them were unable to view the\nshared zone. This patch corrects that issue.\n\nChange-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827\n'}, {'number': 4, 'created': '2023-05-27 00:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/dc6dbd6eca2e2cc68d21dd4ba30102bbe743f1b2', 'message': 'Fix zone list/show for shared zones\n\nPreviously projects that had a zone shared with them were unable to view the\nshared zone. This patch corrects that issue.\n\nDepends-On: https://review.opendev.org/c/openstack/designate-tempest-plugin/+/884559\n\nChange-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827\n'}, {'number': 5, 'created': '2023-05-28 00:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a31b985609653641828734b7429911ecedd83011', 'message': 'Fix zone list/show for shared zones\n\nPreviously projects that had a zone shared with them were unable to view the\nshared zone. This patch corrects that issue.\n\nDepends-On: https://review.opendev.org/c/openstack/designate-tempest-plugin/+/884559\n\nChange-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827\n'}, {'number': 6, 'created': '2023-05-28 00:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b50664d8c8d32db15a4f42dea026a6a687f98f05', 'message': 'Fix zone list/show for shared zones\n\nPreviously projects that had a zone shared with them were unable to view the\nshared zone. This patch corrects that issue.\n\nDepends-On: https://review.opendev.org/c/openstack/designate-tempest-plugin/+/884559\n\nChange-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827\n'}, {'number': 7, 'created': '2023-05-30 22:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/de4097965f90a60b790580779ef0bae389791dfc', 'message': 'Fix zone list/show for shared zones\n\nPreviously projects that had a zone shared with them were unable to view the\nshared zone. This patch corrects that issue.\n\nChange-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827\n'}, {'number': 8, 'created': '2023-05-31 01:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/40c91c2190b69296c7d2cc103daf0cd98d8f95e6', 'message': 'Fix zone list/show for shared zones\n\nPreviously projects that had a zone shared with them were unable to view the\nshared zone. This patch corrects that issue.\n\nChange-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827\n'}, {'number': 9, 'created': '2023-05-31 20:18:31.000000000', 'files': ['designate/storage/sqlalchemy/__init__.py', '.zuul.yaml', 'designate/storage/sqlalchemy/base.py', 'releasenotes/notes/Fix-list-and-show-shared-zones-8a42a6b5f4910fc7.yaml', 'designate/tests/test_central/test_service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/5b7ee8899dd041a351ed61a2a6378e75812bfd59', 'message': 'Fix zone list/show for shared zones\n\nPreviously projects that had a zone shared with them were unable to view the\nshared zone. This patch corrects that issue.\n\nChange-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827\n'}]",7,884554,5b7ee8899dd041a351ed61a2a6378e75812bfd59,26,3,9,11628,,,0,"Fix zone list/show for shared zones

Previously projects that had a zone shared with them were unable to view the
shared zone. This patch corrects that issue.

Change-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827
",git fetch https://review.opendev.org/openstack/designate refs/changes/54/884554/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/storage/sqlalchemy/__init__.py', 'designate/storage/sqlalchemy/base.py']",2,8255772a59b9501402b6e10427d09738f0431c2d,dns-shared-zones," include_null_tenant=True, include_shared=False): _shared_zone_project_id = tables.shared_zones.c.target_project_id if include_shared: query = query.where(or_( table.c.tenant_id == context.project_id, _shared_zone_project_id == context.project_id, table.c.tenant_id == None)) # NOQA else: query = query.where(or_( table.c.tenant_id == context.project_id, table.c.tenant_id == None)) # NOQA else: if include_shared: query = query.where( table.c.tenant_id == context.project_id, _shared_zone_project_id == context.project_id ) else: query = query.where( table.c.tenant_id == context.project_id ) sort_dir=None, query=None, apply_tenant_criteria=True, include_shared=False): query = self._apply_tenant_criteria(context, table, query, include_shared=include_shared)"," include_null_tenant=True): query = query.where(or_( table.c.tenant_id == context.project_id, table.c.tenant_id == None)) # NOQA else: query = query.where( table.c.tenant_id == context.project_id ) sort_dir=None, query=None, apply_tenant_criteria=True): query = self._apply_tenant_criteria(context, table, query)",33,14
openstack%2Fopenstacksdk~master~Idae7a151fa4f24b932a130669fce563e7150278b,openstack/openstacksdk,master,Idae7a151fa4f24b932a130669fce563e7150278b,tox: Disable E501,MERGED,2023-05-31 16:39:17.000000000,2023-05-31 21:56:30.000000000,2023-05-31 21:55:17.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-05-31 16:39:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7c5ce14588f616d47bca35c3e10ee87063cb4c95', 'message': ""tox: Disable E501\n\nThis is more trouble than it's worth now. Black takes care of this for\nus. I wish I'd decided this before the blackify series :(\n\nChange-Id: Idae7a151fa4f24b932a130669fce563e7150278b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,884906,7c5ce14588f616d47bca35c3e10ee87063cb4c95,8,2,1,15334,,,0,"tox: Disable E501

This is more trouble than it's worth now. Black takes care of this for
us. I wish I'd decided this before the blackify series :(

Change-Id: Idae7a151fa4f24b932a130669fce563e7150278b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/06/884906/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7c5ce14588f616d47bca35c3e10ee87063cb4c95,black,"# E501 Black takes care of line length for usignore = E203, E501, H301, H238, H4, W503","ignore = E203, H301, H238, H4, W503",2,1
openstack%2Fkolla-ansible~stable%2Fxena~I5e765f498ae86d213d0a4379ca5d473db1499962,openstack/kolla-ansible,stable/xena,I5e765f498ae86d213d0a4379ca5d473db1499962,Fix deploy/genconfig in check mode,MERGED,2023-04-13 12:40:47.000000000,2023-05-31 21:20:58.000000000,2023-05-31 21:20:00.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-04-13 12:40:47.000000000', 'files': ['ansible/roles/nova-cell/tasks/wait_discover_computes.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/keystone/tasks/config.yml', 'releasenotes/notes/fix-check-mode-1f37ab5507c98954.yaml', 'ansible/roles/nova-cell/tasks/get_cell_settings.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/01a1d8452b0a38b85089aa13d7a14b576f51bd3c', 'message': 'Fix deploy/genconfig in check mode\n\nPreviously, when running one of the following commands:\n\n  kolla-ansible deploy --check\n  kolla-ansible genconfig --check\n\ndeployment or configuration generation fails for various reasons.\n\nMariaDB fails to lookup the existing cluster.\n\nKeystone fails to generate cron config.\n\nNova-cell fails to get the cell settings.\n\nCloses-Bug: #2002661\nChange-Id: I5e765f498ae86d213d0a4379ca5d473db1499962\n(cherry picked from commit 572ff2f8dc848453a6781731fb400dc5c9231fad)\n'}]",1,880312,01a1d8452b0a38b85089aa13d7a14b576f51bd3c,15,4,1,14826,,,0,"Fix deploy/genconfig in check mode

Previously, when running one of the following commands:

  kolla-ansible deploy --check
  kolla-ansible genconfig --check

deployment or configuration generation fails for various reasons.

MariaDB fails to lookup the existing cluster.

Keystone fails to generate cron config.

Nova-cell fails to get the cell settings.

Closes-Bug: #2002661
Change-Id: I5e765f498ae86d213d0a4379ca5d473db1499962
(cherry picked from commit 572ff2f8dc848453a6781731fb400dc5c9231fad)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/880312/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/tasks/wait_discover_computes.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/keystone/tasks/config.yml', 'releasenotes/notes/fix-check-mode-1f37ab5507c98954.yaml', 'ansible/roles/nova-cell/tasks/get_cell_settings.yml']",5,01a1d8452b0a38b85089aa13d7a14b576f51bd3c,, check_mode: false,,9,0
openstack%2Freleases~master~I45ca675b00d228bf418d30766b84acd5c17d994f,openstack/releases,master,I45ca675b00d228bf418d30766b84acd5c17d994f,[cinder] transition ussuri to end-of-life,NEW,2023-05-31 20:39:36.000000000,2023-05-31 21:20:22.000000000,,"[{'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-05-31 20:39:36.000000000', 'files': ['deliverables/ussuri/python-cinderclient.yaml', 'deliverables/ussuri/python-brick-cinderclient-ext.yaml', 'deliverables/ussuri/os-brick.yaml', 'deliverables/ussuri/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/477015a9e330c61054c300500b0cce1dc1f55ff6', 'message': '[cinder] transition ussuri to end-of-life\n\nAs discussed at the cinder weekly meeting on 2023-05-31 [0], the\ncinder project wishes to declare the stable/ussuri branch of all\nbranched deliverables EOL and requests that the release team delete\nthe branch.\n\nThe stable/ussuri branch of cinderlib was previously made EOL and\ndeleted by change I75092342fe68.\n\n[0] https://meetings.opendev.org/meetings/cinder/2023/cinder.2023-05-31-14.00.log.html#l-32\n\nChange-Id: I45ca675b00d228bf418d30766b84acd5c17d994f\n'}]",0,884942,477015a9e330c61054c300500b0cce1dc1f55ff6,2,3,1,5314,,,0,"[cinder] transition ussuri to end-of-life

As discussed at the cinder weekly meeting on 2023-05-31 [0], the
cinder project wishes to declare the stable/ussuri branch of all
branched deliverables EOL and requests that the release team delete
the branch.

The stable/ussuri branch of cinderlib was previously made EOL and
deleted by change I75092342fe68.

[0] https://meetings.opendev.org/meetings/cinder/2023/cinder.2023-05-31-14.00.log.html#l-32

Change-Id: I45ca675b00d228bf418d30766b84acd5c17d994f
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/884942/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ussuri/python-cinderclient.yaml', 'deliverables/ussuri/python-brick-cinderclient-ext.yaml', 'deliverables/ussuri/os-brick.yaml', 'deliverables/ussuri/cinder.yaml']",4,477015a9e330c61054c300500b0cce1dc1f55ff6,cinder-eol-june2023, - version: ussuri-eol projects: - repo: openstack/cinder hash: 79b012fbc8b6bc9dcce2c8c52a6fa63976a0309f,,16,0
openstack%2Freleases~master~I2a81db7e517daea3735c09d0cba67e82c34bc30c,openstack/releases,master,I2a81db7e517daea3735c09d0cba67e82c34bc30c,[cinder] transition victoria to end-of-life,NEW,2023-05-31 20:39:36.000000000,2023-05-31 21:20:18.000000000,,"[{'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-05-31 20:39:36.000000000', 'files': ['deliverables/victoria/os-brick.yaml', 'deliverables/victoria/python-cinderclient.yaml', 'deliverables/victoria/python-brick-cinderclient-ext.yaml', 'deliverables/victoria/cinderlib.yaml', 'deliverables/victoria/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1540eef16951b2af122b90db1f37e91b2d38b11d', 'message': '[cinder] transition victoria to end-of-life\n\nAs discussed at the cinder weekly meeting on 2023-05-31 [0], the\ncinder project wishes to declare the stable/victoria branch of all\nbranched deliverables EOL and requests that the release team delete\nthe branch.\n\n[0] https://meetings.opendev.org/meetings/cinder/2023/cinder.2023-05-31-14.00.log.html#l-32\n\nChange-Id: I2a81db7e517daea3735c09d0cba67e82c34bc30c\n'}]",0,884943,1540eef16951b2af122b90db1f37e91b2d38b11d,2,3,1,5314,,,0,"[cinder] transition victoria to end-of-life

As discussed at the cinder weekly meeting on 2023-05-31 [0], the
cinder project wishes to declare the stable/victoria branch of all
branched deliverables EOL and requests that the release team delete
the branch.

[0] https://meetings.opendev.org/meetings/cinder/2023/cinder.2023-05-31-14.00.log.html#l-32

Change-Id: I2a81db7e517daea3735c09d0cba67e82c34bc30c
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/884943/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/os-brick.yaml', 'deliverables/victoria/python-cinderclient.yaml', 'deliverables/victoria/python-brick-cinderclient-ext.yaml', 'deliverables/victoria/cinderlib.yaml', 'deliverables/victoria/cinder.yaml']",5,1540eef16951b2af122b90db1f37e91b2d38b11d,cinder-eol-june2023, - version: victoria-eol projects: - repo: openstack/cinder hash: ca44a0fd5a868b9a9e24690eed30bbb5ea7bca24,,20,0
openstack%2Freleases~master~If38a226516fd83fbe9976cc367d2c8f1d1fa6cc1,openstack/releases,master,If38a226516fd83fbe9976cc367d2c8f1d1fa6cc1,[cinder] transition xena to end-of-life,NEW,2023-05-31 20:39:36.000000000,2023-05-31 21:20:14.000000000,,"[{'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-05-31 20:39:36.000000000', 'files': ['deliverables/xena/cinder.yaml', 'deliverables/xena/python-brick-cinderclient-ext.yaml', 'deliverables/xena/cinderlib.yaml', 'deliverables/xena/os-brick.yaml', 'deliverables/xena/python-cinderclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0ba30fa92d157fda9cc34e84e944a0a164443a77', 'message': '[cinder] transition xena to end-of-life\n\nAs discussed at the cinder weekly meeting on 2023-05-31 [0], the\ncinder project wishes to declare the stable/xena branch of all\nbranched deliverables EOL and requests that the release team delete\nthe branch.\n\n[0] https://meetings.opendev.org/meetings/cinder/2023/cinder.2023-05-31-14.00.log.html#l-32\n\nChange-Id: If38a226516fd83fbe9976cc367d2c8f1d1fa6cc1\n'}]",0,884945,0ba30fa92d157fda9cc34e84e944a0a164443a77,2,3,1,5314,,,0,"[cinder] transition xena to end-of-life

As discussed at the cinder weekly meeting on 2023-05-31 [0], the
cinder project wishes to declare the stable/xena branch of all
branched deliverables EOL and requests that the release team delete
the branch.

[0] https://meetings.opendev.org/meetings/cinder/2023/cinder.2023-05-31-14.00.log.html#l-32

Change-Id: If38a226516fd83fbe9976cc367d2c8f1d1fa6cc1
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/884945/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/cinder.yaml', 'deliverables/xena/python-brick-cinderclient-ext.yaml', 'deliverables/xena/cinderlib.yaml', 'deliverables/xena/os-brick.yaml', 'deliverables/xena/python-cinderclient.yaml']",5,0ba30fa92d157fda9cc34e84e944a0a164443a77,cinder-eol-june2023, - version: xena-eol projects: - repo: openstack/python-cinderclient hash: 64943b71b0f76b488dbf6bb11a0d7d3c905b97ec,,20,0
openstack%2Freleases~master~I0326e54bb50ceb03e5c65f225c4765467ad4b3e7,openstack/releases,master,I0326e54bb50ceb03e5c65f225c4765467ad4b3e7,[cinder] transition train to end-of-life,NEW,2023-05-31 20:39:36.000000000,2023-05-31 21:20:10.000000000,,"[{'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-05-31 20:39:36.000000000', 'files': ['deliverables/train/python-cinderclient.yaml', 'deliverables/train/os-brick.yaml', 'deliverables/train/python-brick-cinderclient-ext.yaml', 'deliverables/train/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/014f25e1252c47d6c62ae8083b101961becf4662', 'message': '[cinder] transition train to end-of-life\n\nAs discussed at the cinder weekly meeting on 2023-05-31 [0], the\ncinder project wishes to declare the stable/train branch of all\nbranched deliverables EOL and requests that the release team delete\nthe branch.\n\nThe stable/train branch of cinderlib was previously made EOL and\ndeleted by change I25d78267ab4a.\n\n[0] https://meetings.opendev.org/meetings/cinder/2023/cinder.2023-05-31-14.00.log.html#l-32\n\nChange-Id: I0326e54bb50ceb03e5c65f225c4765467ad4b3e7\n'}]",0,884941,014f25e1252c47d6c62ae8083b101961becf4662,2,3,1,5314,,,0,"[cinder] transition train to end-of-life

As discussed at the cinder weekly meeting on 2023-05-31 [0], the
cinder project wishes to declare the stable/train branch of all
branched deliverables EOL and requests that the release team delete
the branch.

The stable/train branch of cinderlib was previously made EOL and
deleted by change I25d78267ab4a.

[0] https://meetings.opendev.org/meetings/cinder/2023/cinder.2023-05-31-14.00.log.html#l-32

Change-Id: I0326e54bb50ceb03e5c65f225c4765467ad4b3e7
",git fetch https://review.opendev.org/openstack/releases refs/changes/41/884941/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/python-cinderclient.yaml', 'deliverables/train/os-brick.yaml', 'deliverables/train/python-brick-cinderclient-ext.yaml', 'deliverables/train/cinder.yaml']",4,014f25e1252c47d6c62ae8083b101961becf4662,cinder-eol-june2023, - version: train-eol projects: - repo: openstack/cinder hash: a19c1c9ed8ea9cff604e3233b346304b533652cc,,16,0
openstack%2Freleases~master~Ia90021b55c435e0f8009c2b433c652ec93b07057,openstack/releases,master,Ia90021b55c435e0f8009c2b433c652ec93b07057,[cinder] transition wallaby to end-of-life,NEW,2023-05-31 20:39:36.000000000,2023-05-31 21:20:07.000000000,,"[{'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-05-31 20:39:36.000000000', 'files': ['deliverables/wallaby/os-brick.yaml', 'deliverables/wallaby/cinderlib.yaml', 'deliverables/wallaby/python-brick-cinderclient-ext.yaml', 'deliverables/wallaby/cinder.yaml', 'deliverables/wallaby/python-cinderclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c76257d35ce846ac6e023add51715a5af9e3e62d', 'message': '[cinder] transition wallaby to end-of-life\n\nAs discussed at the cinder weekly meeting on 2023-05-31 [0], the\ncinder project wishes to declare the stable/wallaby branch of all\nbranched deliverables EOL and requests that the release team delete\nthe branch.\n\n[0] https://meetings.opendev.org/meetings/cinder/2023/cinder.2023-05-31-14.00.log.html#l-32\n\nChange-Id: Ia90021b55c435e0f8009c2b433c652ec93b07057\n'}]",0,884944,c76257d35ce846ac6e023add51715a5af9e3e62d,2,3,1,5314,,,0,"[cinder] transition wallaby to end-of-life

As discussed at the cinder weekly meeting on 2023-05-31 [0], the
cinder project wishes to declare the stable/wallaby branch of all
branched deliverables EOL and requests that the release team delete
the branch.

[0] https://meetings.opendev.org/meetings/cinder/2023/cinder.2023-05-31-14.00.log.html#l-32

Change-Id: Ia90021b55c435e0f8009c2b433c652ec93b07057
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/884944/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/os-brick.yaml', 'deliverables/wallaby/cinderlib.yaml', 'deliverables/wallaby/python-brick-cinderclient-ext.yaml', 'deliverables/wallaby/cinder.yaml', 'deliverables/wallaby/python-cinderclient.yaml']",5,c76257d35ce846ac6e023add51715a5af9e3e62d,cinder-eol-june2023, - version: wallaby-eol projects: - repo: openstack/python-cinderclient hash: 4f72e6f0c218751d28c8442d401e2fd2abcec1ea,,20,0
openstack%2Fcharm-swift-storage~master~I0c7184bba29731354e52dc28e3a4dd6f282fa843,openstack/charm-swift-storage,master,I0c7184bba29731354e52dc28e3a4dd6f282fa843,Add package-upgrade action,MERGED,2022-01-08 01:28:17.000000000,2023-05-31 21:19:51.000000000,2023-05-31 21:19:51.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-08 01:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/bdfdc4d3bd37d14a8ddba46dc219fe69841926ff', 'message': 'Add package-upgrade action\n\nThe package-upgrade action performs package upgrades for the current\nOpenStack release.\n\nThe code path used is similar to the openstack-upgrade action, with the\ndifference being that package-upgrade will not execute if an openstack\nupgrade is available (based on the openstack-origin setting).\n\nThis change includes a charm-helpers sync.\n\nChange-Id: I0c7184bba29731354e52dc28e3a4dd6f282fa843\n'}, {'number': 2, 'created': '2023-05-26 14:07:30.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'unit_tests/test_actions_package_upgrade.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'actions/package_upgrade.py', 'actions/package-upgrade', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/3a5b5872c5418317b58dbf2299020c75828330a7', 'message': 'Add package-upgrade action\n\nThe package-upgrade action performs package upgrades for the current\nOpenStack release.\n\nThe code path used is similar to the openstack-upgrade action, with the\ndifference being that package-upgrade will not execute if an openstack\nupgrade is available (based on the openstack-origin setting).\n\nThis change includes a charm-helpers sync.\n\nChange-Id: I0c7184bba29731354e52dc28e3a4dd6f282fa843\n'}]",4,823879,3a5b5872c5418317b58dbf2299020c75828330a7,17,4,2,11805,,,0,"Add package-upgrade action

The package-upgrade action performs package upgrades for the current
OpenStack release.

The code path used is similar to the openstack-upgrade action, with the
difference being that package-upgrade will not execute if an openstack
upgrade is available (based on the openstack-origin setting).

This change includes a charm-helpers sync.

Change-Id: I0c7184bba29731354e52dc28e3a4dd6f282fa843
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/79/823879/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/python.py', 'charmhelpers/core/services/helpers.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/hardening/host/checks/sysctl.py', 'unit_tests/test_actions_package_upgrade.py', 'charmhelpers/contrib/openstack/keystone.py', 'actions/package-upgrade', 'charmhelpers/core/strutils.py', 'charmhelpers/contrib/hardening/harden.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apache.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'actions/package_upgrade.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/core/templating.py', 'charmhelpers/fetch/archiveurl.py', 'charmhelpers/contrib/openstack/neutron.py', 'charmhelpers/contrib/storage/linux/loopback.py', 'actions.yaml', 'charmhelpers/__init__.py', 'charmhelpers/contrib/hardening/host/checks/login.py', 'charmhelpers/contrib/hardening/apache/checks/config.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/hardening/templating.py', 'charmhelpers/contrib/hardening/utils.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/fetch/python/packages.py', 'charmhelpers/contrib/hardening/mysql/checks/config.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/hardening/audits/file.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/contrib/openstack/templating.py', 'charmhelpers/fetch/centos.py']",44,bdfdc4d3bd37d14a8ddba46dc219fe69841926ff,package-upgrade-action," if isinstance(packages, str): if isinstance(packages, str): if isinstance(packages, str):","import six if isinstance(packages, six.string_types): if isinstance(packages, six.string_types): if isinstance(packages, six.string_types):",422,431
openstack%2Fcharm-openstack-dashboard~master~I7a36e0f5f47423ae8601d6ca86aa0fe311ecb735,openstack/charm-openstack-dashboard,master,I7a36e0f5f47423ae8601d6ca86aa0fe311ecb735,Add package-upgrade action,MERGED,2022-01-08 01:28:08.000000000,2023-05-31 21:17:21.000000000,2023-05-31 21:17:21.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-08 01:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/e1a8a9b497dae7286c8be30083c3fca2bb6fe820', 'message': 'Add package-upgrade action\n\nThe package-upgrade action performs package upgrades for the current\nOpenStack release.\n\nThe code path used is similar to the openstack-upgrade action, with the\ndifference being that package-upgrade will not execute if an openstack\nupgrade is available (based on the openstack-origin setting).\n\nThis change includes a charm-helpers sync.\n\nChange-Id: I7a36e0f5f47423ae8601d6ca86aa0fe311ecb735\n'}, {'number': 2, 'created': '2023-05-26 15:55:38.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'unit_tests/test_actions_package_upgrade.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'actions/package_upgrade.py', 'actions/package-upgrade', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/ea6ad355bddf0d6fdac65b3a8a858599970d00a0', 'message': 'Add package-upgrade action\n\nThe package-upgrade action performs package upgrades for the current\nOpenStack release.\n\nThe code path used is similar to the openstack-upgrade action, with the\ndifference being that package-upgrade will not execute if an openstack\nupgrade is available (based on the openstack-origin setting).\n\nThis change includes a charm-helpers sync.\n\nChange-Id: I7a36e0f5f47423ae8601d6ca86aa0fe311ecb735\n'}]",2,823877,ea6ad355bddf0d6fdac65b3a8a858599970d00a0,13,4,2,11805,,,0,"Add package-upgrade action

The package-upgrade action performs package upgrades for the current
OpenStack release.

The code path used is similar to the openstack-upgrade action, with the
difference being that package-upgrade will not execute if an openstack
upgrade is available (based on the openstack-origin setting).

This change includes a charm-helpers sync.

Change-Id: I7a36e0f5f47423ae8601d6ca86aa0fe311ecb735
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/77/823877/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/python.py', 'charmhelpers/core/services/helpers.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/hardening/host/checks/sysctl.py', 'unit_tests/test_actions_package_upgrade.py', 'charmhelpers/contrib/openstack/keystone.py', 'actions/package-upgrade', 'charmhelpers/core/strutils.py', 'charmhelpers/contrib/hardening/harden.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apache.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'actions/package_upgrade.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/core/templating.py', 'charmhelpers/fetch/archiveurl.py', 'charmhelpers/contrib/openstack/neutron.py', 'charmhelpers/contrib/storage/linux/loopback.py', 'actions.yaml', 'charmhelpers/__init__.py', 'charmhelpers/contrib/hardening/host/checks/login.py', 'charmhelpers/contrib/hardening/apache/checks/config.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/hardening/templating.py', 'charmhelpers/contrib/hardening/utils.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/fetch/python/packages.py', 'charmhelpers/contrib/hardening/mysql/checks/config.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/hardening/audits/file.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/contrib/openstack/templating.py', 'charmhelpers/fetch/centos.py']",44,e1a8a9b497dae7286c8be30083c3fca2bb6fe820,package-upgrade-action," if isinstance(packages, str): if isinstance(packages, str): if isinstance(packages, str):","import six if isinstance(packages, six.string_types): if isinstance(packages, six.string_types): if isinstance(packages, six.string_types):",421,431
openstack%2Fpuppet-nova~stable%2F2023.1~I77d05f2f7b57120347afc621d2e50a4f83dcdbcb,openstack/puppet-nova,stable/2023.1,I77d05f2f7b57120347afc621d2e50a4f83dcdbcb,Prepare new stable/2023.1 release,MERGED,2023-05-31 09:49:58.000000000,2023-05-31 21:06:43.000000000,2023-05-31 21:06:43.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 09:49:58.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/08dcf09459192fdcf493a8074dd73fef8203acf7', 'message': ""Prepare new stable/2023.1 release\n\nWe recently merged the fix required to deploy nova in recent CentOS\nStream 9. Let's create a release so that users can consume the released\nversions containing the fix.\n\nChange-Id: I77d05f2f7b57120347afc621d2e50a4f83dcdbcb\n""}]",0,884854,08dcf09459192fdcf493a8074dd73fef8203acf7,7,3,1,9816,,,0,"Prepare new stable/2023.1 release

We recently merged the fix required to deploy nova in recent CentOS
Stream 9. Let's create a release so that users can consume the released
versions containing the fix.

Change-Id: I77d05f2f7b57120347afc621d2e50a4f83dcdbcb
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/54/884854/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,08dcf09459192fdcf493a8074dd73fef8203acf7,," ""version"": ""22.1.0"""," ""version"": ""22.0.0""",1,1
openstack%2Fpuppet-nova~master~I78c20a02d2aa48d732dc0e457ef833e6320b0022,openstack/puppet-nova,master,I78c20a02d2aa48d732dc0e457ef833e6320b0022,Fix typo in failure message,MERGED,2023-05-29 15:34:23.000000000,2023-05-31 21:06:41.000000000,2023-05-31 21:06:41.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 15:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ba1a9c530ce2ae872dc205394a32ab69f729d1b8', 'message': 'Fix typo in failure message\n\nThis fixes the typo in the failure message when modular libvirt daemons\nare requested in the distros which do not support the architecture.\n\nChange-Id: I78c20a02d2aa48d732dc0e457ef833e6320b0022\n'}, {'number': 2, 'created': '2023-05-31 03:33:33.000000000', 'files': ['manifests/compute/libvirt/services.pp', 'manifests/migration/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a0c9979d20f95aa2edc969d7cd829e286a4bffb0', 'message': 'Fix typo in failure message\n\nThis fixes the typo in the failure message when modular libvirt daemons\nare requested in the distros which do not support the architecture.\n\nChange-Id: I78c20a02d2aa48d732dc0e457ef833e6320b0022\n'}]",4,884634,a0c9979d20f95aa2edc969d7cd829e286a4bffb0,17,3,2,9816,,,0,"Fix typo in failure message

This fixes the typo in the failure message when modular libvirt daemons
are requested in the distros which do not support the architecture.

Change-Id: I78c20a02d2aa48d732dc0e457ef833e6320b0022
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/34/884634/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/libvirt/services.pp', 'manifests/migration/libvirt.pp']",2,ba1a9c530ce2ae872dc205394a32ab69f729d1b8,, fail('Modular libvirt daemons are not supported in this distribution'), fail('Modular libvirt daemons are not support in this distribution'),2,2
openstack%2Fcharm-octavia-dashboard~stable%2Fvictoria~Ica9a1d7235a3d23e02f8e10dfcf5352ea7a705ed,openstack/charm-octavia-dashboard,stable/victoria,Ica9a1d7235a3d23e02f8e10dfcf5352ea7a705ed,Pin build.lock for all layers to the commit hash,MERGED,2022-09-21 13:53:24.000000000,2023-05-31 20:59:52.000000000,2023-05-31 20:59:52.000000000,"[{'_account_id': 935}, {'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-21 13:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/67c73b789be993a2e073f4147f8cb61c521b0209', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: Ica9a1d7235a3d23e02f8e10dfcf5352ea7a705ed\n'}, {'number': 2, 'created': '2022-11-04 09:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/7526d86cdda60488259569dea274f7261ba9cf7d', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: Ica9a1d7235a3d23e02f8e10dfcf5352ea7a705ed\n'}, {'number': 3, 'created': '2023-05-26 17:30:12.000000000', 'files': ['charmcraft.yaml', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/31e29070fb898f643e1efa1012b4a5b3cf5236ab', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: Ica9a1d7235a3d23e02f8e10dfcf5352ea7a705ed\n'}]",1,858722,31e29070fb898f643e1efa1012b4a5b3cf5236ab,20,5,3,20870,,,0,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: Ica9a1d7235a3d23e02f8e10dfcf5352ea7a705ed
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/22/858722/3 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,67c73b789be993a2e073f4147f8cb61c521b0209,victoria-lock-layers," ""branch"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"", ""branch"": ""a3ff62c32c993d80417f6e093e3ef95e42f62083"", ""branch"": ""207bac8bec837edc6a4d6003f51d5b59d2d75adb"", ""branch"": ""d9850016d930a6d507b9fd45e2598d327922b140"", ""branch"": ""06031deac8b37e912dc69f1c6d2e2634696d2547"","," ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"",",5,5
openstack%2Fcharm-cinder-purestorage~stable%2F2023.1~I0ff3476bb3062d60d7055e5f2d5936d971cc08ae,openstack/charm-cinder-purestorage,stable/2023.1,I0ff3476bb3062d60d7055e5f2d5936d971cc08ae,Ensure *.charm ignored,MERGED,2023-05-26 18:08:19.000000000,2023-05-31 20:59:44.000000000,2023-05-31 20:59:44.000000000,"[{'_account_id': 2424}, {'_account_id': 10058}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 18:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/42580ba6485d25e3daa55a3b20515734bfdaf3aa', 'message': 'Remove charm artefact and ensure ignored\n\nThe charm artefact (*.charm) has ended up in the repository. Remove it,\nand make sure the .gitignore ensures that it will not be added again.\n\nChange-Id: I0ff3476bb3062d60d7055e5f2d5936d971cc08ae\n'}, {'number': 2, 'created': '2023-05-26 18:10:23.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/5edc4b11e8a5cbbe045eabc1a4d10ce8e8b50858', 'message': 'Ensure *.charm ignored\n\nMake sure the .gitignore ensures that *.charm will not be added.\n\nChange-Id: I0ff3476bb3062d60d7055e5f2d5936d971cc08ae\n'}]",0,884530,5edc4b11e8a5cbbe045eabc1a4d10ce8e8b50858,10,4,2,11805,,,0,"Ensure *.charm ignored

Make sure the .gitignore ensures that *.charm will not be added.

Change-Id: I0ff3476bb3062d60d7055e5f2d5936d971cc08ae
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/30/884530/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,42580ba6485d25e3daa55a3b20515734bfdaf3aa,remove-charm-artefact-cinder-purestorage-stable/2023.1,*.charm,,1,0
openstack%2Fcharm-mysql-innodb-cluster~master~Iaf6ba030001bc458abf5536454745cae905aceee,openstack/charm-mysql-innodb-cluster,master,Iaf6ba030001bc458abf5536454745cae905aceee,Set relay_log_recovery = ON by default,MERGED,2023-05-31 10:50:11.000000000,2023-05-31 20:58:00.000000000,2023-05-31 20:58:00.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 10:50:11.000000000', 'files': ['src/templates/mysqld.cnf'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/21494229747a9d4013d360b57ccd3de7749f0ffb', 'message': 'Set relay_log_recovery = ON by default\n\nThis is to aid in recoverying nodes from unexpected halts/power failures\nand ease their re-introduction into the cluster.  It ensures that\npotentially corrupted relay log files are discarded.\n\nChange-Id: Iaf6ba030001bc458abf5536454745cae905aceee\nCloses-Bug: #1938708\n'}]",1,884871,21494229747a9d4013d360b57ccd3de7749f0ffb,7,3,1,20870,,,0,"Set relay_log_recovery = ON by default

This is to aid in recoverying nodes from unexpected halts/power failures
and ease their re-introduction into the cluster.  It ensures that
potentially corrupted relay log files are discarded.

Change-Id: Iaf6ba030001bc458abf5536454745cae905aceee
Closes-Bug: #1938708
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/71/884871/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/mysqld.cnf'],1,21494229747a9d4013d360b57ccd3de7749f0ffb,bug/1938708,# Bug LP#1938708 # Set the relay log recovery to ON so that recovery following server startup. # This is useful in the case of an unexpected halt where the relay log files # could be corrupted. # See https://dev.mysql.com/doc/refman/8.0/en/replication-solutions-unexpected-replica-halt.html relay_log_recovery = ON ,,7,0
openstack%2Fcharm-cinder-purestorage~master~I0ff3476bb3062d60d7055e5f2d5936d971cc08ae,openstack/charm-cinder-purestorage,master,I0ff3476bb3062d60d7055e5f2d5936d971cc08ae,Ensure *.charm ignored,MERGED,2023-05-26 18:06:30.000000000,2023-05-31 20:57:29.000000000,2023-05-31 20:57:29.000000000,"[{'_account_id': 2424}, {'_account_id': 10058}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 18:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/e6112993932b64b18f125f98705ff6687747b49f', 'message': 'Remove charm artefact and ensure ignored\n\nThe charm artefact (*.charm) has ended up in the repository. Remove it,\nand make sure the .gitignore ensures that it will not be added again.\n\nChange-Id: I0ff3476bb3062d60d7055e5f2d5936d971cc08ae\n'}, {'number': 2, 'created': '2023-05-26 18:10:11.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/384d3ccdc5a825f78e80a663774cf0e79b906153', 'message': 'Ensure *.charm ignored\n\nMake sure the .gitignore ensures that *.charm will not be added.\n\nChange-Id: I0ff3476bb3062d60d7055e5f2d5936d971cc08ae\n'}]",1,884529,384d3ccdc5a825f78e80a663774cf0e79b906153,10,4,2,11805,,,0,"Ensure *.charm ignored

Make sure the .gitignore ensures that *.charm will not be added.

Change-Id: I0ff3476bb3062d60d7055e5f2d5936d971cc08ae
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/29/884529/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,e6112993932b64b18f125f98705ff6687747b49f,remove-charm-artefact-cinder-purestorage,*.charm,,1,0
openstack%2Fcharm-nova-compute~stable%2Fussuri~I2f2e9e44f6bba48e15621a216539089c7e3abc1d,openstack/charm-nova-compute,stable/ussuri,I2f2e9e44f6bba48e15621a216539089c7e3abc1d,Allow resizing to the same host,MERGED,2023-04-18 13:54:01.000000000,2023-05-31 20:54:47.000000000,2023-05-31 20:54:47.000000000,"[{'_account_id': 1131}, {'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-18 13:54:01.000000000', 'files': ['hooks/nova_compute_context.py', 'templates/train/nova.conf', 'unit_tests/test_nova_compute_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/654f6e5089d929fa091448fdf0dc42675ff175d2', 'message': 'Allow resizing to the same host\n\nBy default resizing an instance to the same host as the source is\nnot enabled. This change adds new charm config option that maps\ndirectly to the nova.conf setting which effectively gives a user\npossibility to enable/disable this functionality.\n\nCloses-Bug: #1946620\nDepends-On: I13d0c332cd0b110344b7a1645e3e4fd250fce33a\nChange-Id: I2f2e9e44f6bba48e15621a216539089c7e3abc1d\n(cherry picked from commit c3bd6788a73b5ca77729af6852f0e727f6615de6)\n(cherry picked from commit 649c9a7737e13d95028a38a5b8650903b9f5510e)\n(cherry picked from commit d16dadfab943235bc17f0a1b697132fedeede063)\n(cherry picked from commit 777d3dea842f03b83547aa5d3e05f9f805c9d137)\n'}]",9,880747,654f6e5089d929fa091448fdf0dc42675ff175d2,24,6,1,10058,,,0,"Allow resizing to the same host

By default resizing an instance to the same host as the source is
not enabled. This change adds new charm config option that maps
directly to the nova.conf setting which effectively gives a user
possibility to enable/disable this functionality.

Closes-Bug: #1946620
Depends-On: I13d0c332cd0b110344b7a1645e3e4fd250fce33a
Change-Id: I2f2e9e44f6bba48e15621a216539089c7e3abc1d
(cherry picked from commit c3bd6788a73b5ca77729af6852f0e727f6615de6)
(cherry picked from commit 649c9a7737e13d95028a38a5b8650903b9f5510e)
(cherry picked from commit d16dadfab943235bc17f0a1b697132fedeede063)
(cherry picked from commit 777d3dea842f03b83547aa5d3e05f9f805c9d137)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/47/880747/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_context.py', 'templates/train/nova.conf', 'unit_tests/test_nova_compute_contexts.py']",3,654f6e5089d929fa091448fdf0dc42675ff175d2,allow-resizing-to-same-host," self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': False}, lxd()) 'allow_resize_to_same_host': False, self.assertEqual( {'resume_guests_state_on_host_boot': True, 'allow_resize_to_same_host': False}, lxd()) def test_allow_resize_to_same_host_empty(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.relation_ids.return_value = ['cloud-compute:0'] self.related_units.return_value = 'nova-cloud-controller/0' self.test_relation.set({ 'allow_resize_to_same_host': None, }) self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': False}, context.NovaComputeVirtContext()()) def test_allow_resize_to_same_host_enabled(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.relation_ids.return_value = ['cloud-compute:0'] self.related_units.return_value = 'nova-cloud-controller/0' self.test_relation.set({ 'allow_resize_to_same_host': 'true', }) self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': True}, context.NovaComputeVirtContext()()) def test_allow_resize_to_same_host_disabled(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.relation_ids.return_value = ['cloud-compute:0'] self.related_units.return_value = 'nova-cloud-controller/0' self.test_relation.set({ 'allow_resize_to_same_host': 'false', }) self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': False}, context.NovaComputeVirtContext()())"," self.assertEqual({'resume_guests_state_on_host_boot': False}, lxd()) self.assertEqual({'resume_guests_state_on_host_boot': True}, lxd())",61,3
openstack%2Fpuppet-openstack-integration~master~I5ac877946fb270eb428800b5f3ea53c196c1e8cf,openstack/puppet-openstack-integration,master,I5ac877946fb270eb428800b5f3ea53c196c1e8cf,Updated from Puppet OpenStack modules constraints,MERGED,2023-05-27 02:20:29.000000000,2023-05-31 20:33:02.000000000,2023-05-31 20:33:02.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-27 02:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9a10fa3fc563fa002bd8ebe717fede79cd648b67', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I5ac877946fb270eb428800b5f3ea53c196c1e8cf\n'}, {'number': 2, 'created': '2023-05-31 02:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/26819eca192f2974963669931692d84dc8a1f7b8', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I5ac877946fb270eb428800b5f3ea53c196c1e8cf\n'}, {'number': 3, 'created': '2023-05-31 17:38:39.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a731d4a107f42fb27c9ce49f8b3c5795a16f16d9', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I5ac877946fb270eb428800b5f3ea53c196c1e8cf\n'}]",4,884561,a731d4a107f42fb27c9ce49f8b3c5795a16f16d9,21,3,3,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I5ac877946fb270eb428800b5f3ea53c196c1e8cf
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/61/884561/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,9a10fa3fc563fa002bd8ebe717fede79cd648b67,openstack/puppet/constraints, :ref => 'v8.2.0', :ref => 'v8.1.0',1,1
openstack%2Fneutron~master~Id281e4950dc5d7bac62dfa8175d82cb1f8d2e855,openstack/neutron,master,Id281e4950dc5d7bac62dfa8175d82cb1f8d2e855,[S-RBAC] Add API policies for get and activate port bindings,MERGED,2023-05-29 12:33:28.000000000,2023-05-31 20:32:22.000000000,2023-05-31 20:30:51.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 12:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f3d622a9f105e7eaccd349a2875f6eada23e511e', 'message': '[S-RBAC] Add API policies for get and activate port bindings\n\nThere wasn\'t policies for get port binding and activate port binding API\ncalls defined at all.\nWhen we switched to new default policies and regular user wanted to make\ncall to activate port binding, it was error 500 what we returned instead\nof proper 4xx error. It was like that as ""get_port_binding"" call which\nwas done internally during ""activate"" API request falled back to the\ndefault policy which is ""admin_or_owner"" and as port binding resource\ndon\'t have project_id, owner couldn\'t be checked there.\n\nNow it has defined S-RBAC policies for those API calls and it is allowed\nfor admin users only to solve that problem.\nThis patch don\'t define old, deprecated policies for those API calls as\nit wasn\'t really needed there and we already switched to new policies by\ndefault now.\n\nCloses-Bug: #2013326\nChange-Id: Id281e4950dc5d7bac62dfa8175d82cb1f8d2e855\n'}, {'number': 2, 'created': '2023-05-29 14:30:12.000000000', 'files': ['neutron/tests/unit/conf/policies/test_port_bindings.py', 'neutron/conf/policies/port_bindings.py', 'neutron/conf/policies/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/61b358b6b5ac160c38af66b07454c26d6a93a0bd', 'message': '[S-RBAC] Add API policies for get and activate port bindings\n\nThere wasn\'t policies for get port binding and activate port binding API\ncalls defined at all.\nWhen we switched to new default policies and regular user wanted to make\ncall to activate port binding, it was error 500 what we returned instead\nof proper 4xx error. It was like that as ""get_port_binding"" call which\nwas done internally during ""activate"" API request falled back to the\ndefault policy which is ""admin_or_owner"" and as port binding resource\ndon\'t have project_id, owner couldn\'t be checked there.\n\nNow it has defined S-RBAC policies for those API calls and it is allowed\nfor admin users only to solve that problem.\nThis patch don\'t define old, deprecated policies for those API calls as\nit wasn\'t really needed there and we already switched to new policies by\ndefault now.\n\nCloses-Bug: #2013326\nChange-Id: Id281e4950dc5d7bac62dfa8175d82cb1f8d2e855\n'}]",3,884613,61b358b6b5ac160c38af66b07454c26d6a93a0bd,15,5,2,11975,,,0,"[S-RBAC] Add API policies for get and activate port bindings

There wasn't policies for get port binding and activate port binding API
calls defined at all.
When we switched to new default policies and regular user wanted to make
call to activate port binding, it was error 500 what we returned instead
of proper 4xx error. It was like that as ""get_port_binding"" call which
was done internally during ""activate"" API request falled back to the
default policy which is ""admin_or_owner"" and as port binding resource
don't have project_id, owner couldn't be checked there.

Now it has defined S-RBAC policies for those API calls and it is allowed
for admin users only to solve that problem.
This patch don't define old, deprecated policies for those API calls as
it wasn't really needed there and we already switched to new policies by
default now.

Closes-Bug: #2013326
Change-Id: Id281e4950dc5d7bac62dfa8175d82cb1f8d2e855
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/884613/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/__init__.py'],1,f3d622a9f105e7eaccd349a2875f6eada23e511e,bug/2013326,"from neutron.conf.policies import port_bindings port_bindings.list_rules(),",,2,0
openstack%2Fneutron~master~Ie2940e6c705e6692eaaf53f11d11b4b62cd0a51e,openstack/neutron,master,Ie2940e6c705e6692eaaf53f11d11b4b62cd0a51e,Add description field to the security_group_default_rules resource,MERGED,2023-05-17 15:02:36.000000000,2023-05-31 20:31:29.000000000,2023-05-31 20:29:28.000000000,"[{'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 15:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/23d19c7457ffc0209d37aa69359f055069bbb171', 'message': 'Add description field to the security_group_default_rules resource\n\nThis new resource has standard attributes and should expose description\nfield in the API.\n\nRelated-bug: #1983053\nChange-Id: Ie2940e6c705e6692eaaf53f11d11b4b62cd0a51e\n'}, {'number': 2, 'created': '2023-05-18 09:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1220bc4d519d9f73ad1c7a2d186c4f5e248d5f08', 'message': 'Add description field to the security_group_default_rules resource\n\nThis new resource has standard attributes and should expose description\nfield in the API.\n\nRelated-bug: #1983053\nChange-Id: Ie2940e6c705e6692eaaf53f11d11b4b62cd0a51e\n'}, {'number': 3, 'created': '2023-05-18 17:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5dd3f7cbf21ca0bb2862e519e7cd5d56151803a5', 'message': 'Add description field to the security_group_default_rules resource\n\nThis new resource has standard attributes and should expose description\nfield in the API.\n\nRelated-bug: #1983053\nChange-Id: Ie2940e6c705e6692eaaf53f11d11b4b62cd0a51e\n'}, {'number': 4, 'created': '2023-05-18 17:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b2345dd85cebc33e4fc679aec4836d5e3a2c993', 'message': 'Add description field to the security_group_default_rules resource\n\nThis new resource has standard attributes and should expose description\nfield in the API.\n\nRelated-bug: #1983053\nChange-Id: Ie2940e6c705e6692eaaf53f11d11b4b62cd0a51e\n'}, {'number': 5, 'created': '2023-05-22 13:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d58b024f6d45949bfd943ff6231cf6066041f33', 'message': 'Add description field to the security_group_default_rules resource\n\nThis new resource has standard attributes and should expose description\nfield in the API.\n\nRelated-bug: #1983053\nChange-Id: Ie2940e6c705e6692eaaf53f11d11b4b62cd0a51e\n'}, {'number': 6, 'created': '2023-05-25 10:48:48.000000000', 'files': ['neutron/extensions/security_groups_default_rules.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1b9a16c9567e9fccb48388b38b5a5335e2ff30c9', 'message': 'Add description field to the security_group_default_rules resource\n\nThis new resource has standard attributes and should expose description\nfield in the API.\n\nRelated-bug: #1983053\nChange-Id: Ie2940e6c705e6692eaaf53f11d11b4b62cd0a51e\n'}]",10,883386,1b9a16c9567e9fccb48388b38b5a5335e2ff30c9,33,4,6,11975,,,0,"Add description field to the security_group_default_rules resource

This new resource has standard attributes and should expose description
field in the API.

Related-bug: #1983053
Change-Id: Ie2940e6c705e6692eaaf53f11d11b4b62cd0a51e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/883386/6 && git format-patch -1 --stdout FETCH_HEAD,['neutron/extensions/security_groups_default_rules.py'],1,23d19c7457ffc0209d37aa69359f055069bbb171,bug/1983053,"import abc from neutron_lib.db import constants as db_constfrom neutron.extensions import standardattrdescription as stdattr_ext 'description': { 'allow_post': True, 'allow_put': False, 'default': '', 'validate': {'type:string': db_const.LONG_DESCRIPTION_FIELD_SIZE}, 'is_filter': True, 'is_sort_key': True, 'is_visible': True}, 'security-group', stdattr_ext.Standardattrdescription.get_alias()", 'security-group',10,1
openstack%2Fneutron-tempest-plugin~master~I292fd053c7568853f56f7ab39d397889edfe65a4,openstack/neutron-tempest-plugin,master,I292fd053c7568853f56f7ab39d397889edfe65a4,Define proper common API extensions for 2023.1 and Zed jobs,MERGED,2023-05-26 10:10:28.000000000,2023-05-31 20:29:32.000000000,2023-05-31 20:29:32.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 10:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/be0ac20398c5dca2cce589ff08b587d9b484cad6', 'message': 'Define proper common API extensions for 2023.1 and Zed jobs\n\nIn Linuxbridge and openvswitch_iptables-hybrid jobs for stable/2023.1\nand stable/zed branches there was missing definition of the common API\nextensions thus list was inherited from master jobs.\n\nChange-Id: I292fd053c7568853f56f7ab39d397889edfe65a4\n'}, {'number': 2, 'created': '2023-05-29 08:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a429743fd7856c80b2380cbdbd7827cf2dc2d602', 'message': 'Define proper common API extensions for 2023.1 and Zed jobs\n\nIn Linuxbridge and openvswitch_iptables-hybrid jobs for stable/2023.1\nand stable/zed branches there was missing definition of the common API\nextensions thus list was inherited from master jobs.\n\nChange-Id: I292fd053c7568853f56f7ab39d397889edfe65a4\n'}, {'number': 3, 'created': '2023-05-31 09:34:16.000000000', 'files': ['zuul.d/2023_1_jobs.yaml', 'zuul.d/zed_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/764544f8bb42b93e41fd88da1a49eb535235d04c', 'message': 'Define proper common API extensions for 2023.1 and Zed jobs\n\nIn Linuxbridge and openvswitch_iptables-hybrid jobs for stable/2023.1\nand stable/zed branches there was missing definition of the common API\nextensions thus list was inherited from master jobs.\n\nChange-Id: I292fd053c7568853f56f7ab39d397889edfe65a4\n'}]",4,884476,764544f8bb42b93e41fd88da1a49eb535235d04c,14,3,3,11975,,,0,"Define proper common API extensions for 2023.1 and Zed jobs

In Linuxbridge and openvswitch_iptables-hybrid jobs for stable/2023.1
and stable/zed branches there was missing definition of the common API
extensions thus list was inherited from master jobs.

Change-Id: I292fd053c7568853f56f7ab39d397889edfe65a4
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/76/884476/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/2023_1_jobs.yaml', 'zuul.d/zed_jobs.yaml']",2,be0ac20398c5dca2cce589ff08b587d9b484cad6,bug/1983053, network_api_extensions_common: *api_extensions network_api_extensions_common: *api_extensions,,4,0
openstack%2Fpuppet-nova~master~I7627a5a6233b3d157d930e5b62e612ce9defe1f2,openstack/puppet-nova,master,I7627a5a6233b3d157d930e5b62e612ce9defe1f2,Drop modular libvirt daemon names for Debian/Ubuntu,MERGED,2023-05-29 14:19:37.000000000,2023-05-31 20:04:28.000000000,2023-05-31 20:04:28.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 14:19:37.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/fe2b1c8255f4dc8777c3578f5361a0880f0986e1', 'message': 'Drop modular libvirt daemon names for Debian/Ubuntu\n\nThese distributions do not support modular libvirt daemons and now\nthe module prohibit usage of that architecture. So these definitions\nare no longer used.\n\nChange-Id: I7627a5a6233b3d157d930e5b62e612ce9defe1f2\n'}]",2,884630,fe2b1c8255f4dc8777c3578f5361a0880f0986e1,13,3,1,9816,,,0,"Drop modular libvirt daemon names for Debian/Ubuntu

These distributions do not support modular libvirt daemons and now
the module prohibit usage of that architecture. So these definitions
are no longer used.

Change-Id: I7627a5a6233b3d157d930e5b62e612ce9defe1f2
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/30/884630/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,fe2b1c8255f4dc8777c3578f5361a0880f0986e1,, $virtsecret_service_name = undef $virtnodedev_service_name = undef $virtqemu_service_name = undef $virtproxy_service_name = undef $virtstorage_service_name = undef $virtsecret_service_name = undef $virtnodedev_service_name = undef $virtqemu_service_name = undef $virtproxy_service_name = undef $virtstorage_service_name = undef, $virtsecret_service_name = 'virtsecretd.socket' $virtnodedev_service_name = 'virtnodedevd.socket' $virtqemu_service_name = 'virtqemud.socket' $virtproxy_service_name = 'virtproxyd.socket' $virtstorage_service_name = 'virtstoraged.socket' $virtsecret_service_name = 'virtsecretd' $virtnodedev_service_name = 'virtnodedevd' $virtqemu_service_name = 'virtqemud' $virtproxy_service_name = 'virtproxyd' $virtstorage_service_name = 'virtstoraged',10,10
openstack%2Fsenlin~stable%2Fzed~Ie3440cb649484f999fc37f4779d36033c96a45d7,openstack/senlin,stable/zed,Ie3440cb649484f999fc37f4779d36033c96a45d7,Fix zuul CI,MERGED,2023-05-31 08:17:57.000000000,2023-05-31 20:04:19.000000000,2023-05-31 20:02:23.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-05-31 08:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/455c89b91a07e239043cf9d6c3aab2a3e77330de', 'message': 'Update deprecated zuul syntax\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\nChange-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7\n(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)\n'}, {'number': 2, 'created': '2023-05-31 12:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/5a93b3c89d7f2999e703d8ab2446c0f776883180', 'message': 'Fix zuul CI\n\nThis is squashed from two commits in order to get a passing CI.\n\nFirst commit:\n\nUpdate deprecated zuul syntax\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\n(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)\n\nSecond commit:\n\nFix doc failing to build properly\n\n(cherry picked from commit 83de2e97c05f9d34c059ff0d7c8680643009ebdf)\n\nChange-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7\n'}, {'number': 3, 'created': '2023-05-31 14:29:24.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/senlin/commit/b6ef17b0f787fb7a0609ba36dc13097882a6a3ff', 'message': 'Fix zuul CI\n\nThis is squashed from two commits in order to get a passing CI.\nManually fixed tox.ini inconsistency.\n\nFirst commit:\n\nUpdate deprecated zuul syntax\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\n(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)\n\nSecond commit:\n\nFix doc failing to build properly\n\n(cherry picked from commit 83de2e97c05f9d34c059ff0d7c8680643009ebdf)\n\nChange-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7\n'}]",4,884749,b6ef17b0f787fb7a0609ba36dc13097882a6a3ff,19,2,3,13252,,,0,"Fix zuul CI

This is squashed from two commits in order to get a passing CI.
Manually fixed tox.ini inconsistency.

First commit:

Update deprecated zuul syntax

Queues are now declared at the project level

https: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html
(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)

Second commit:

Fix doc failing to build properly

(cherry picked from commit 83de2e97c05f9d34c059ff0d7c8680643009ebdf)

Change-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7
",git fetch https://review.opendev.org/openstack/senlin refs/changes/49/884749/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,455c89b91a07e239043cf9d6c3aab2a3e77330de,fix-zuul-errors, queue: senlin, queue: senlin,1,1
openstack%2Fcharm-cinder~stable%2Fxena~I57510dac1196e1c6e9aa6592706990d12cbee5dc,openstack/charm-cinder,stable/xena,I57510dac1196e1c6e9aa6592706990d12cbee5dc,Testing Xena CI,ABANDONED,2023-05-17 12:07:51.000000000,2023-05-31 20:03:53.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 12:07:51.000000000', 'files': ['templates/victoria/cinder.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/9fcb4f572e1ab8fec5f1d144000a7194cfa3c55b', 'message': 'Testing Xena CI\n\nChange-Id: I57510dac1196e1c6e9aa6592706990d12cbee5dc\n'}]",0,883365,9fcb4f572e1ab8fec5f1d144000a7194cfa3c55b,4,2,1,17097,,,0,"Testing Xena CI

Change-Id: I57510dac1196e1c6e9aa6592706990d12cbee5dc
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/65/883365/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/victoria/cinder.conf'],1,9fcb4f572e1ab8fec5f1d144000a7194cfa3c55b,,something_to_trigger_ci = True,,1,0
openstack%2Fcharm-cinder~stable%2Fwallaby~Iad082a45a71625c5b1e58fa0c2ce1ed1975643d6,openstack/charm-cinder,stable/wallaby,Iad082a45a71625c5b1e58fa0c2ce1ed1975643d6,Testing CI,ABANDONED,2023-05-17 12:06:55.000000000,2023-05-31 20:03:49.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 12:06:55.000000000', 'files': ['templates/victoria/cinder.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/076f3d9e93a535328bb18d560622cc8c9f75efc9', 'message': 'Testing CI\n\nChange-Id: Iad082a45a71625c5b1e58fa0c2ce1ed1975643d6\n'}]",0,883363,076f3d9e93a535328bb18d560622cc8c9f75efc9,4,2,1,17097,,,0,"Testing CI

Change-Id: Iad082a45a71625c5b1e58fa0c2ce1ed1975643d6
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/63/883363/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/victoria/cinder.conf'],1,076f3d9e93a535328bb18d560622cc8c9f75efc9,,something_to_trigger_ci = True,,1,0
openstack%2Fkolla-ansible~stable%2Fzed~I5e765f498ae86d213d0a4379ca5d473db1499962,openstack/kolla-ansible,stable/zed,I5e765f498ae86d213d0a4379ca5d473db1499962,Fix deploy/genconfig in check mode,MERGED,2023-04-13 12:40:06.000000000,2023-05-31 19:40:35.000000000,2023-05-31 19:38:24.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-04-13 12:40:06.000000000', 'files': ['ansible/roles/nova-cell/tasks/wait_discover_computes.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/keystone/tasks/config.yml', 'releasenotes/notes/fix-check-mode-1f37ab5507c98954.yaml', 'ansible/roles/nova-cell/tasks/get_cell_settings.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/84e783f194d17a7d01351162764f32b89ee25ba2', 'message': 'Fix deploy/genconfig in check mode\n\nPreviously, when running one of the following commands:\n\n  kolla-ansible deploy --check\n  kolla-ansible genconfig --check\n\ndeployment or configuration generation fails for various reasons.\n\nMariaDB fails to lookup the existing cluster.\n\nKeystone fails to generate cron config.\n\nNova-cell fails to get the cell settings.\n\nCloses-Bug: #2002661\nChange-Id: I5e765f498ae86d213d0a4379ca5d473db1499962\n(cherry picked from commit 572ff2f8dc848453a6781731fb400dc5c9231fad)\n'}]",1,880310,84e783f194d17a7d01351162764f32b89ee25ba2,15,4,1,14826,,,0,"Fix deploy/genconfig in check mode

Previously, when running one of the following commands:

  kolla-ansible deploy --check
  kolla-ansible genconfig --check

deployment or configuration generation fails for various reasons.

MariaDB fails to lookup the existing cluster.

Keystone fails to generate cron config.

Nova-cell fails to get the cell settings.

Closes-Bug: #2002661
Change-Id: I5e765f498ae86d213d0a4379ca5d473db1499962
(cherry picked from commit 572ff2f8dc848453a6781731fb400dc5c9231fad)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/10/880310/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/tasks/wait_discover_computes.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/keystone/tasks/config.yml', 'releasenotes/notes/fix-check-mode-1f37ab5507c98954.yaml', 'ansible/roles/nova-cell/tasks/get_cell_settings.yml']",5,84e783f194d17a7d01351162764f32b89ee25ba2,, check_mode: false,,9,0
openstack%2Fkolla-ansible~stable%2Fzed~I51ca37ffbb1bb5c07f2d39873f0f33ca20263f2a,openstack/kolla-ansible,stable/zed,I51ca37ffbb1bb5c07f2d39873f0f33ca20263f2a,Add flags for RabbitMQ message TTL & queue expiry,MERGED,2023-04-13 12:46:36.000000000,2023-05-31 19:39:24.000000000,2023-05-31 19:38:22.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}]","[{'number': 1, 'created': '2023-04-13 12:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6032629b70f8e507689d4f32fdc5513df592d68f', 'message': 'Add flags for RabbitMQ message TTL & queue expiry\n\nAdds two new flags to alter behaviour in RabbitMQ:\n    * `rabbitmq_message_ttl_ms`, which lets you set a TTL on messages.\n    * `rabbitmq_queue_expiry_ms`, which lets you set an expiry time on queues.\nSee https://www.rabbitmq.com/ttl.html for more information on both.\n\nChange-Id: I51ca37ffbb1bb5c07f2d39873f0f33ca20263f2a\n(cherry picked from commit dae2cbca30663b03c4c1994f26f3a0a3c0f2dcf8)\n'}, {'number': 2, 'created': '2023-04-13 12:47:35.000000000', 'files': ['ansible/roles/rabbitmq/templates/definitions.json.j2', 'tools/validate-all-file.py', 'ansible/roles/rabbitmq/defaults/main.yml', 'releasenotes/notes/rabbitmq-add-flags-for-message-ttl-and-queue-expiry-c163a370708f5b20.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fdf47169739ae0102fd7119f9327786272336b06', 'message': 'Add flags for RabbitMQ message TTL & queue expiry\n\nAdds two new flags to alter behaviour in RabbitMQ:\n    * `rabbitmq_message_ttl_ms`, which lets you set a TTL on messages.\n    * `rabbitmq_queue_expiry_ms`, which lets you set an expiry time on queues.\nSee https://www.rabbitmq.com/ttl.html for more information on both.\n\nChange-Id: I51ca37ffbb1bb5c07f2d39873f0f33ca20263f2a\n(cherry picked from commit dae2cbca30663b03c4c1994f26f3a0a3c0f2dcf8)\n'}]",5,880313,fdf47169739ae0102fd7119f9327786272336b06,19,4,2,14826,,,0,"Add flags for RabbitMQ message TTL & queue expiry

Adds two new flags to alter behaviour in RabbitMQ:
    * `rabbitmq_message_ttl_ms`, which lets you set a TTL on messages.
    * `rabbitmq_queue_expiry_ms`, which lets you set an expiry time on queues.
See https://www.rabbitmq.com/ttl.html for more information on both.

Change-Id: I51ca37ffbb1bb5c07f2d39873f0f33ca20263f2a
(cherry picked from commit dae2cbca30663b03c4c1994f26f3a0a3c0f2dcf8)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/13/880313/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/templates/definitions.json.j2', 'tools/validate-all-file.py', 'ansible/roles/rabbitmq/defaults/main.yml', 'releasenotes/notes/rabbitmq-add-flags-for-message-ttl-and-queue-expiry-c163a370708f5b20.yaml']",4,6032629b70f8e507689d4f32fdc5513df592d68f,,"--- features: - | Added two new flags to alter behaviour in RabbitMQ: * `rabbitmq_message_ttl_ms`, which lets you set a TTL on messages. * `rabbitmq_queue_expiry_ms`, which lets you set an expiry time on queues. See https://www.rabbitmq.com/ttl.html for more information on both. ",,22,2
openstack%2Fopenstack-ansible-os_nova~master~I50f4f85b20a838f294f9e2118ba90eaefb4960f4,openstack/openstack-ansible-os_nova,master,I50f4f85b20a838f294f9e2118ba90eaefb4960f4,run on rocky-9,NEW,2023-01-12 19:42:55.000000000,2023-05-31 19:35:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-01-12 19:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/2f94ef03f6ea907524fa57e07f5152274032cf8b', 'message': 'run on rocky-9\n\nre-runs of the ceph_client role would fail on rocky-9 as rocky seems to\nhave migrated to virtqemud from libvirtd.\n\nSee https://fedoraproject.org/wiki/Changes/LibvirtModularDaemons\n\nChange-Id: I50f4f85b20a838f294f9e2118ba90eaefb4960f4\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 2, 'created': '2023-01-12 19:43:27.000000000', 'files': ['vars/redhat-9.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/067bbfb89ecad7924b6238407555d15a3b1d3064', 'message': 'run on rocky-9\n\nre-runs of the os_nova role would fail on rocky-9 as rocky seems to\nhave migrated to virtqemud from libvirtd.\n\nSee https://fedoraproject.org/wiki/Changes/LibvirtModularDaemons\n\nChange-Id: I50f4f85b20a838f294f9e2118ba90eaefb4960f4\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",3,870028,067bbfb89ecad7924b6238407555d15a3b1d3064,11,2,2,14288,,,0,"run on rocky-9

re-runs of the os_nova role would fail on rocky-9 as rocky seems to
have migrated to virtqemud from libvirtd.

See https://fedoraproject.org/wiki/Changes/LibvirtModularDaemons

Change-Id: I50f4f85b20a838f294f9e2118ba90eaefb4960f4
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/28/870028/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-9.yml'],1,2f94ef03f6ea907524fa57e07f5152274032cf8b,rocky-9-virtqemud, - virtqemud.service - virtsecretd.service, - libvirtd.socket - libvirtd.service,2,2
openstack%2Fopenstack-ansible~stable%2F2023.1~Ib76379c5fdc9318e622d7d8596e4a79c56ab0d8b,openstack/openstack-ansible,stable/2023.1,Ib76379c5fdc9318e622d7d8596e4a79c56ab0d8b,Bump SHAs for Antelope RC2,MERGED,2023-05-31 10:51:20.000000000,2023-05-31 19:24:06.000000000,2023-05-31 19:22:32.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-31 10:51:20.000000000', 'files': ['inventory/group_vars/cinder_all/source_git.yml', 'inventory/group_vars/ironic_all/source_git.yml', 'inventory/group_vars/swift_all/source_git.yml', 'inventory/group_vars/neutron_all/source_git.yml', 'inventory/group_vars/horizon_all/source_git.yml', 'inventory/group_vars/octavia_all/source_git.yml', 'ansible-role-requirements.yml', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c578e85bdde578eb98690fa189219863ad045528', 'message': 'Bump SHAs for Antelope RC2\n\nChange-Id: Ib76379c5fdc9318e622d7d8596e4a79c56ab0d8b\n(cherry picked from commit 29709994f4863d2b97d54419c3d68ec0bc2d8e92)\n'}]",0,884816,c578e85bdde578eb98690fa189219863ad045528,8,3,1,28619,,,0,"Bump SHAs for Antelope RC2

Change-Id: Ib76379c5fdc9318e622d7d8596e4a79c56ab0d8b
(cherry picked from commit 29709994f4863d2b97d54419c3d68ec0bc2d8e92)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/16/884816/1 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/cinder_all/source_git.yml', 'inventory/group_vars/ironic_all/source_git.yml', 'inventory/group_vars/swift_all/source_git.yml', 'inventory/group_vars/neutron_all/source_git.yml', 'inventory/group_vars/horizon_all/source_git.yml', 'inventory/group_vars/octavia_all/source_git.yml', 'ansible-role-requirements.yml', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml']",8,c578e85bdde578eb98690fa189219863ad045528,bump_osa-stable/2023.1,--- deprecations: - | RabbitMQ packages are no longer provided by PackageCloud due to the upstream repository being no longer available after 2023-05-28. Installations will now utilize a community mirror of CloudSmith repositories for rabbitmq and erlang. https://github.com/rabbitmq/rabbitmq-server/discussions/8386 fixes: - | https://bugs.launchpad.net/openstack-ansible/+bug/2021410 ,,29,18
openstack%2Fkolla-ansible~stable%2Fzed~Iee98cd937197a73a3b04aa8501fa325e8ecfff24,openstack/kolla-ansible,stable/zed,Iee98cd937197a73a3b04aa8501fa325e8ecfff24,Add flag to change RabbitMQ ha-mode definition,MERGED,2023-03-23 09:03:01.000000000,2023-05-31 19:18:00.000000000,2023-05-31 19:16:43.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-03-23 09:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8b8792da3c5dc91b65999e03de9f83730b375ebf', 'message': 'Add flag to change RabbitMQ ha-mode definition\n\nAdds the flag `rabbitmq_ha_replica_count` to change how many different\nnodes a queue should be mirrored across. If the value is not set, then\nit defaults to ""ha-mode"":""all"". This value is unset by default to avoid\nany unexpected changes to the RabbitMQ definitions.json file, as that\nwould trigger an unexpected restart of RabbitMQ during the next deploy.\n\nChange-Id: Iee98cd937197a73a3b04aa8501fa325e8ecfff24\n(cherry picked from commit e13072a98df3727693ead107cd54d784c4e9c1cd)\n'}, {'number': 2, 'created': '2023-03-23 09:11:35.000000000', 'files': ['ansible/roles/rabbitmq/templates/definitions.json.j2', 'releasenotes/notes/rabbitmq-ha-flag-to-change-replication-factor-321c2f9e08e7d179.yaml', 'tools/validate-all-file.py', 'ansible/roles/rabbitmq/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/743d1af899ecf0e046daae2d9d2ba61fb2e6f0a2', 'message': 'Add flag to change RabbitMQ ha-mode definition\n\nAdds the flag `rabbitmq_ha_replica_count` to change how many different\nnodes a queue should be mirrored across. If the value is not set, then\nit defaults to ""ha-mode"":""all"". This value is unset by default to avoid\nany unexpected changes to the RabbitMQ definitions.json file, as that\nwould trigger an unexpected restart of RabbitMQ during the next deploy.\n\nChange-Id: Iee98cd937197a73a3b04aa8501fa325e8ecfff24\n(cherry picked from commit e13072a98df3727693ead107cd54d784c4e9c1cd)\n'}]",1,878337,743d1af899ecf0e046daae2d9d2ba61fb2e6f0a2,16,3,2,14826,,,0,"Add flag to change RabbitMQ ha-mode definition

Adds the flag `rabbitmq_ha_replica_count` to change how many different
nodes a queue should be mirrored across. If the value is not set, then
it defaults to ""ha-mode"":""all"". This value is unset by default to avoid
any unexpected changes to the RabbitMQ definitions.json file, as that
would trigger an unexpected restart of RabbitMQ during the next deploy.

Change-Id: Iee98cd937197a73a3b04aa8501fa325e8ecfff24
(cherry picked from commit e13072a98df3727693ead107cd54d784c4e9c1cd)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/37/878337/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/templates/definitions.json.j2', 'releasenotes/notes/rabbitmq-ha-flag-to-change-replication-factor-321c2f9e08e7d179.yaml', 'tools/validate-all-file.py', 'ansible/roles/rabbitmq/defaults/main.yml']",4,8b8792da3c5dc91b65999e03de9f83730b375ebf,bug/1954925-stable/zed,"<<<<<<< HEAD (300f58 RabbitMQ: Support setting ha-promote-on-shutdown) ======= # If no replica count is specified, replicates across all nodes with definition # ""ha-mode"":""all"". Otherwise, uses # ""ha-mode"":""exactly"",""ha-params"":{{ rabbitmq_ha_replica_count | int }} rabbitmq_ha_replica_count: rabbitmq_extra_config: {} >>>>>>> CHANGE (e13072 Add flag to change RabbitMQ ha-mode definition)",,20,2
openstack%2Fkolla-ansible~stable%2Fzed~I2146bda2c72ddac2c9923c6941b0596395fd9ab5,openstack/kolla-ansible,stable/zed,I2146bda2c72ddac2c9923c6941b0596395fd9ab5,RabbitMQ: Support setting ha-promote-on-shutdown,MERGED,2023-03-23 09:01:32.000000000,2023-05-31 19:10:37.000000000,2023-05-31 19:09:17.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-03-23 09:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eaa158f5ce919c2981c6f4afc61fd7959f38e7e7', 'message': 'RabbitMQ: Support setting ha-promote-on-shutdown\n\nBy default ha-promote-on-shutdown=when-synced. However we are seeing\nissues with RabbitMQ automatically recovering when nodes are restarted.\nhttps://www.rabbitmq.com/ha.html#cluster-shutdown\n\nRather than waiting for operator interventions, it is better we allow\nrecovery to happen, even if that means we may loose some messages.\nA few failed and timed out operations is better than a totaly broken\ncloud. This is achieved using ha-promote-on-shutdown=always.\n\nNote, when a node failure is detected, this is already the default\nbehaviour from 3.7.5 onwards:\nhttps://www.rabbitmq.com/ha.html#promoting-unsynchronised-mirrors\n\nThis patch adds the option to change the ha-promote-on-shutdown\ndefinition, using the flag `rabbitmq_ha_promote_on_shutdown`. This\nvalue is unset by default to avoid any unexpected changes to the\nRabbitMQ definitions.json file, as that would trigger an unexpected\nrestart of RabbitMQ during the next deploy.\n\nRelated-Bug: #1954925\n\nChange-Id: I2146bda2c72ddac2c9923c6941b0596395fd9ab5\n(cherry picked from commit 94f3ce0c78998e29fcc034a9b0844f9d6d602807)\n'}, {'number': 2, 'created': '2023-03-23 09:02:08.000000000', 'files': ['ansible/roles/rabbitmq/templates/definitions.json.j2', 'releasenotes/notes/rabbitmq-ha-promote-on-shutdown-9099c6643f2d0cce.yaml', 'ansible/roles/rabbitmq/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/300f584710c840e44ccf219f29f042338857e446', 'message': 'RabbitMQ: Support setting ha-promote-on-shutdown\n\nBy default ha-promote-on-shutdown=when-synced. However we are seeing\nissues with RabbitMQ automatically recovering when nodes are restarted.\nhttps://www.rabbitmq.com/ha.html#cluster-shutdown\n\nRather than waiting for operator interventions, it is better we allow\nrecovery to happen, even if that means we may loose some messages.\nA few failed and timed out operations is better than a totaly broken\ncloud. This is achieved using ha-promote-on-shutdown=always.\n\nNote, when a node failure is detected, this is already the default\nbehaviour from 3.7.5 onwards:\nhttps://www.rabbitmq.com/ha.html#promoting-unsynchronised-mirrors\n\nThis patch adds the option to change the ha-promote-on-shutdown\ndefinition, using the flag `rabbitmq_ha_promote_on_shutdown`. This\nvalue is unset by default to avoid any unexpected changes to the\nRabbitMQ definitions.json file, as that would trigger an unexpected\nrestart of RabbitMQ during the next deploy.\n\nRelated-Bug: #1954925\n\nChange-Id: I2146bda2c72ddac2c9923c6941b0596395fd9ab5\n(cherry picked from commit 94f3ce0c78998e29fcc034a9b0844f9d6d602807)\n'}]",1,878336,300f584710c840e44ccf219f29f042338857e446,17,4,2,14826,,,0,"RabbitMQ: Support setting ha-promote-on-shutdown

By default ha-promote-on-shutdown=when-synced. However we are seeing
issues with RabbitMQ automatically recovering when nodes are restarted.
https://www.rabbitmq.com/ha.html#cluster-shutdown

Rather than waiting for operator interventions, it is better we allow
recovery to happen, even if that means we may loose some messages.
A few failed and timed out operations is better than a totaly broken
cloud. This is achieved using ha-promote-on-shutdown=always.

Note, when a node failure is detected, this is already the default
behaviour from 3.7.5 onwards:
https://www.rabbitmq.com/ha.html#promoting-unsynchronised-mirrors

This patch adds the option to change the ha-promote-on-shutdown
definition, using the flag `rabbitmq_ha_promote_on_shutdown`. This
value is unset by default to avoid any unexpected changes to the
RabbitMQ definitions.json file, as that would trigger an unexpected
restart of RabbitMQ during the next deploy.

Related-Bug: #1954925

Change-Id: I2146bda2c72ddac2c9923c6941b0596395fd9ab5
(cherry picked from commit 94f3ce0c78998e29fcc034a9b0844f9d6d602807)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/878336/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/templates/definitions.json.j2', 'releasenotes/notes/rabbitmq-ha-promote-on-shutdown-9099c6643f2d0cce.yaml', 'ansible/roles/rabbitmq/defaults/main.yml']",3,eaa158f5ce919c2981c6f4afc61fd7959f38e7e7,bug/1954925-stable/zed,"<<<<<<< HEAD (033da7 Pin zun jobs to Docker 20) ======= # For consistency use ""when-synced"", for availability use ""always"" # The rabbitmq default for ha queues is ""when-synced"" # More details see: # https://www.rabbitmq.com/ha.html#promoting-unsynchronised-mirrors rabbitmq_ha_promote_on_shutdown: rabbitmq_extra_config: {} >>>>>>> CHANGE (94f3ce RabbitMQ: Support setting ha-promote-on-shutdown)",,24,2
openstack%2Fcharm-cinder~stable%2Fwallaby~Ia39177d6f47ddda0b1acb27cde02ae5e74a01032,openstack/charm-cinder,stable/wallaby,Ia39177d6f47ddda0b1acb27cde02ae5e74a01032,Add nova section for Ussuri,MERGED,2023-02-02 14:15:19.000000000,2023-05-31 18:57:59.000000000,2023-05-31 18:57:59.000000000,"[{'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-02 14:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/2fc028c365e4f9f7bbbde7b4d756b327c4bfc807', 'message': 'Add nova section for Ussuri\n\nCommit 024de37 added the nova section on cinder.conf, but placed it\non the Victoria folder. This issue is also observed on Ussuri, so\nthis patch moves this from Victoria to Ussuri.\n\nCloses-Bug: #1939389\nChange-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032\n(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)\n'}, {'number': 2, 'created': '2023-05-16 18:55:25.000000000', 'files': ['templates/ussuri/cinder.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/90ff83272b1e3b5f732bdff95289f53bf8028069', 'message': 'Add nova section for Ussuri\n\nCommit 024de37 added the nova section on cinder.conf, but placed it\non the Victoria folder. This issue is also observed on Ussuri, so\nthis patch moves this from Victoria to Ussuri.\n\nCloses-Bug: #1939389\nChange-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032\n(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)\n'}]",7,872574,90ff83272b1e3b5f732bdff95289f53bf8028069,28,5,2,17097,,,0,"Add nova section for Ussuri

Commit 024de37 added the nova section on cinder.conf, but placed it
on the Victoria folder. This issue is also observed on Ussuri, so
this patch moves this from Victoria to Ussuri.

Closes-Bug: #1939389
Change-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032
(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/74/872574/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ussuri/cinder.conf'],1,2fc028c365e4f9f7bbbde7b4d756b327c4bfc807,,,,0,0
openstack%2Fcharm-cinder~stable%2Fxena~Ia39177d6f47ddda0b1acb27cde02ae5e74a01032,openstack/charm-cinder,stable/xena,Ia39177d6f47ddda0b1acb27cde02ae5e74a01032,Add nova section for Ussuri,MERGED,2023-02-02 14:15:00.000000000,2023-05-31 18:57:58.000000000,2023-05-31 18:57:58.000000000,"[{'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-02 14:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/c66d81e9d32fd7916dd797e0b2c89e819059074a', 'message': 'Add nova section for Ussuri\n\nCommit 024de37 added the nova section on cinder.conf, but placed it\non the Victoria folder. This issue is also observed on Ussuri, so\nthis patch moves this from Victoria to Ussuri.\n\nCloses-Bug: #1939389\nChange-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032\n(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)\n'}, {'number': 2, 'created': '2023-05-16 18:43:29.000000000', 'files': ['templates/ussuri/cinder.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/a71622b7b227b11bbc60c4ee7b391d2a98e52e1a', 'message': 'Add nova section for Ussuri\n\nCommit 024de37 added the nova section on cinder.conf, but placed it\non the Victoria folder. This issue is also observed on Ussuri, so\nthis patch moves this from Victoria to Ussuri.\n\nCloses-Bug: #1939389\nChange-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032\n(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)\n'}]",10,872573,a71622b7b227b11bbc60c4ee7b391d2a98e52e1a,30,5,2,17097,,,0,"Add nova section for Ussuri

Commit 024de37 added the nova section on cinder.conf, but placed it
on the Victoria folder. This issue is also observed on Ussuri, so
this patch moves this from Victoria to Ussuri.

Closes-Bug: #1939389
Change-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032
(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/73/872573/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ussuri/cinder.conf'],1,c66d81e9d32fd7916dd797e0b2c89e819059074a,,,,0,0
openstack%2Fcinder~master~I3c70a870b485828caf7784a027fd4dbff6c47943,openstack/cinder,master,I3c70a870b485828caf7784a027fd4dbff6c47943,Avoiding out of space issue in LVM when migrating encrypted volumes,ABANDONED,2019-09-16 10:45:24.000000000,2023-05-31 18:53:57.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29631}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}, {'_account_id': 30974}]","[{'number': 1, 'created': '2019-09-16 10:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ef72aadd514a3e8aee1a155d2cc935c66cf026f0', 'message': ""Fix openstack cinder bug\n\nPatch to avoid the out of space issue when migrating encrypted\nvolume between two LVM backends\n\nMigration of encrypted volumes or retyping to encrypted volumes causes\nan outofspace issue. This process has dd copy command which assumes\nthat the size of the source volume to copy is SIZE OF THE VOLUME and\ncreates an equivalent destination volume. This works fine for normal\ncases but when encryption occurs, a 2 MB encryption header is added to\nthe Source volume making it's size to be SIZE OF THE VOLUME+ 2MB.\nAs a result, dd command is interrupted with a NO SPACE LEFT ON DEVICE\nerror. This patch creates a destination volume with a size\nof SIZE OF THE VOLUME+ 2MB ONLY when migration or retyping of encrypted\nvolumes occurs thereby completely fixing the issue.\n\nChange-Id: I3c70a870b485828caf7784a027fd4dbff6c47943\nCloses-Bug: #1720885\nCloses-Bug: #1824321\n""}, {'number': 2, 'created': '2019-09-18 05:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ab648893f0d19c785eec3aec7f397491cb1ed349', 'message': ""Fix openstack cinder bug\n\nPatch to avoid the out of space issue when migrating encrypted\nvolume between two LVM backends\n\nMigration of encrypted volumes or retyping to encrypted volumes causes\nan outofspace issue. This process has dd copy command which assumes\nthat the size of the source volume to copy is SIZE OF THE VOLUME and\ncreates an equivalent destination volume. This works fine for normal\ncases but when encryption occurs, a 2 MB encryption header is added to\nthe Source volume making it's size to be SIZE OF THE VOLUME+ 2MB.\nAs a result, dd command is interrupted with a NO SPACE LEFT ON DEVICE\nerror. This patch creates a destination volume with a size\nof SIZE OF THE VOLUME+ 2MB ONLY when migration or retyping of encrypted\nvolumes occurs thereby completely fixing the issue.\n\nChange-Id: I3c70a870b485828caf7784a027fd4dbff6c47943\nCloses-Bug: #1720885\nCloses-Bug: #1824321\n""}, {'number': 3, 'created': '2019-09-18 11:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/432491818fad66eafe53971a732c560ad8f74a9b', 'message': ""Fix openstack cinder bug\n\nPatch to avoid the out of space issue when migrating encrypted\nvolume between two LVM backends\n\nMigration of encrypted volumes or retyping to encrypted volumes causes\nan outofspace issue. This process has dd copy command which assumes\nthat the size of the source volume to copy is SIZE OF THE VOLUME and\ncreates an equivalent destination volume. This works fine for normal\ncases but when encryption occurs, a 2 MB encryption header is added to\nthe Source volume making it's size to be SIZE OF THE VOLUME+ 2MB.\nAs a result, dd command is interrupted with a NO SPACE LEFT ON DEVICE\nerror. This patch creates a destination volume with a size\nof SIZE OF THE VOLUME+ 2MB ONLY when migration or retyping of encrypted\nvolumes occurs thereby completely fixing the issue.\n\nChange-Id: I3c70a870b485828caf7784a027fd4dbff6c47943\nCloses-Bug: #1720885\nCloses-Bug: #1824321\n""}, {'number': 4, 'created': '2019-09-20 10:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb37a41c9884c3a0787836d38692c03c98fd8c48', 'message': ""Fix openstack cinder bug\n\nPatch to avoid the out of space issue when migrating encrypted\nvolume between two LVM backends\n\nMigration of encrypted volumes or retyping to encrypted volumes causes\nan outofspace issue. This process has dd copy command which assumes\nthat the size of the source volume to copy is SIZE OF THE VOLUME and\ncreates an equivalent destination volume. This works fine for normal\ncases but when encryption occurs, a 2 MB encryption header is added to\nthe Source volume making it's size to be SIZE OF THE VOLUME+ 2MB.\nAs a result, dd command is interrupted with a NO SPACE LEFT ON DEVICE\nerror. This patch creates a destination volume with a size\nof SIZE OF THE VOLUME+ 2MB ONLY when migration or retyping of encrypted\nvolumes occurs thereby completely fixing the issue.\n\nChange-Id: I3c70a870b485828caf7784a027fd4dbff6c47943\nCloses-Bug: #1720885\nCloses-Bug: #1824321\n""}, {'number': 5, 'created': '2019-09-22 08:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ad8210c30419eabe58c124b0b1036d129cea359c', 'message': ""Fix openstack cinder bug\n\nPatch to avoid the out of space issue when migrating encrypted\nvolume between two LVM backends\n\nMigration of encrypted volumes or retyping to encrypted volumes causes\nan outofspace issue. This process has dd copy command which assumes\nthat the size of the source volume to copy is SIZE OF THE VOLUME and\ncreates an equivalent destination volume. This works fine for normal\ncases but when encryption occurs, a 2 MB encryption header is added to\nthe Source volume making it's size to be SIZE OF THE VOLUME+ 2MB.\nAs a result, dd command is interrupted with a NO SPACE LEFT ON DEVICE\nerror. This patch creates a destination volume with a size\nof SIZE OF THE VOLUME+ 2MB ONLY when migration or retyping of encrypted\nvolumes occurs thereby completely fixing the issue.\n\nChange-Id: I3c70a870b485828caf7784a027fd4dbff6c47943\nCloses-Bug: #1720885\nCloses-Bug: #1824321\n""}, {'number': 6, 'created': '2019-09-24 12:04:20.000000000', 'files': ['cinder/brick/local_dev/lvm.py', 'cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/94ca6acc328a458e250f1bf40ec8f7f7c3e7dbfe', 'message': ""Avoiding out of space issue in LVM when migrating encrypted volumes\n\nPatch to avoid the out of space issue when migrating encrypted\nvolume between two LVM backends\n\nMigration of encrypted volumes or retyping to encrypted volumes causes\nan outofspace issue. This process has dd copy command which assumes\nthat the size of the source volume to copy is SIZE OF THE VOLUME and\ncreates an equivalent destination volume. This works fine for normal\ncases but when encryption occurs, a 2 MB encryption header is added to\nthe Source volume making it's size to be SIZE OF THE VOLUME+ 2MB.\nAs a result, dd command is interrupted with a NO SPACE LEFT ON DEVICE\nerror. This patch creates a destination volume with a size\nof SIZE OF THE VOLUME+ 2MB ONLY when migration or retyping of encrypted\nvolumes occurs thereby completely fixing the issue.\n\nChange-Id: I3c70a870b485828caf7784a027fd4dbff6c47943\nCloses-Bug: #1720885\nCloses-Bug: #1824321\n""}]",15,682339,94ca6acc328a458e250f1bf40ec8f7f7c3e7dbfe,172,44,6,30974,,,0,"Avoiding out of space issue in LVM when migrating encrypted volumes

Patch to avoid the out of space issue when migrating encrypted
volume between two LVM backends

Migration of encrypted volumes or retyping to encrypted volumes causes
an outofspace issue. This process has dd copy command which assumes
that the size of the source volume to copy is SIZE OF THE VOLUME and
creates an equivalent destination volume. This works fine for normal
cases but when encryption occurs, a 2 MB encryption header is added to
the Source volume making it's size to be SIZE OF THE VOLUME+ 2MB.
As a result, dd command is interrupted with a NO SPACE LEFT ON DEVICE
error. This patch creates a destination volume with a size
of SIZE OF THE VOLUME+ 2MB ONLY when migration or retyping of encrypted
volumes occurs thereby completely fixing the issue.

Change-Id: I3c70a870b485828caf7784a027fd4dbff6c47943
Closes-Bug: #1720885
Closes-Bug: #1824321
",git fetch https://review.opendev.org/openstack/cinder refs/changes/39/682339/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/brick/local_dev/lvm.py', 'cinder/volume/manager.py']",2,ef72aadd514a3e8aee1a155d2cc935c66cf026f0,bug/1720885,"import os #Fix Bug 1720885 os.environ[""isEncrypted""]=""1""",,12,1
openstack%2Fansible-role-uwsgi~stable%2Fxena~I3b11220dd30a03fd6465f7b5e041027fbd8bad1d,openstack/ansible-role-uwsgi,stable/xena,I3b11220dd30a03fd6465f7b5e041027fbd8bad1d,Replace imports with dynamic includes,MERGED,2023-05-25 15:00:39.000000000,2023-05-31 18:32:09.000000000,2023-05-31 18:31:09.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-25 15:00:39.000000000', 'files': ['tasks/main.yml', 'tasks/uwsgi_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/dbf00533999a199a815e3239238510d93d2ab774', 'message': 'Replace imports with dynamic includes\n\nA weird behaviour has been spotted in AIO, where role, that was\nimporting python_venv_build and uwsgi roles was failing, as\nvenv_build_distro_package_list definition from uwsgi role was applied\non upper level even before uwsgi runtime\n\nAs a result, previous import was failing with\nuwsgi_build_distro_package_list being undefined.\n\nReplacing any import with inlcude was solving the issue. Since we re-use\nuwsgi role a lot and using include make sense in the role, we\nstart replacing static imports from here.\n\nChange-Id: I3b11220dd30a03fd6465f7b5e041027fbd8bad1d\n(cherry picked from commit 3fa317e79a8f7c8102b758d22c5a08c0cfddf61b)\n'}]",1,884374,dbf00533999a199a815e3239238510d93d2ab774,12,3,1,28619,,,0,"Replace imports with dynamic includes

A weird behaviour has been spotted in AIO, where role, that was
importing python_venv_build and uwsgi roles was failing, as
venv_build_distro_package_list definition from uwsgi role was applied
on upper level even before uwsgi runtime

As a result, previous import was failing with
uwsgi_build_distro_package_list being undefined.

Replacing any import with inlcude was solving the issue. Since we re-use
uwsgi role a lot and using include make sense in the role, we
start replacing static imports from here.

Change-Id: I3b11220dd30a03fd6465f7b5e041027fbd8bad1d
(cherry picked from commit 3fa317e79a8f7c8102b758d22c5a08c0cfddf61b)
",git fetch https://review.opendev.org/openstack/ansible-role-uwsgi refs/changes/74/884374/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/uwsgi_install.yml']",2,dbf00533999a199a815e3239238510d93d2ab774,, include_role:, import_role:,11,3
openstack%2Fkolla-ansible~stable%2Fyoga~I5e765f498ae86d213d0a4379ca5d473db1499962,openstack/kolla-ansible,stable/yoga,I5e765f498ae86d213d0a4379ca5d473db1499962,Fix deploy/genconfig in check mode,MERGED,2023-04-13 12:40:28.000000000,2023-05-31 18:32:02.000000000,2023-05-31 18:30:50.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-04-13 12:40:28.000000000', 'files': ['ansible/roles/nova-cell/tasks/wait_discover_computes.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/keystone/tasks/config.yml', 'releasenotes/notes/fix-check-mode-1f37ab5507c98954.yaml', 'ansible/roles/nova-cell/tasks/get_cell_settings.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7aae29b4dff1e00290f8e32fc9be03c9bd53804f', 'message': 'Fix deploy/genconfig in check mode\n\nPreviously, when running one of the following commands:\n\n  kolla-ansible deploy --check\n  kolla-ansible genconfig --check\n\ndeployment or configuration generation fails for various reasons.\n\nMariaDB fails to lookup the existing cluster.\n\nKeystone fails to generate cron config.\n\nNova-cell fails to get the cell settings.\n\nCloses-Bug: #2002661\nChange-Id: I5e765f498ae86d213d0a4379ca5d473db1499962\n(cherry picked from commit 572ff2f8dc848453a6781731fb400dc5c9231fad)\n'}]",1,880311,7aae29b4dff1e00290f8e32fc9be03c9bd53804f,15,4,1,14826,,,0,"Fix deploy/genconfig in check mode

Previously, when running one of the following commands:

  kolla-ansible deploy --check
  kolla-ansible genconfig --check

deployment or configuration generation fails for various reasons.

MariaDB fails to lookup the existing cluster.

Keystone fails to generate cron config.

Nova-cell fails to get the cell settings.

Closes-Bug: #2002661
Change-Id: I5e765f498ae86d213d0a4379ca5d473db1499962
(cherry picked from commit 572ff2f8dc848453a6781731fb400dc5c9231fad)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/11/880311/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/tasks/wait_discover_computes.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/keystone/tasks/config.yml', 'releasenotes/notes/fix-check-mode-1f37ab5507c98954.yaml', 'ansible/roles/nova-cell/tasks/get_cell_settings.yml']",5,7aae29b4dff1e00290f8e32fc9be03c9bd53804f,, check_mode: false,,9,0
openstack%2Fkolla-ansible~stable%2Fzed~Ia709f450c3e5b73e145e89a305cd038c05507dc6,openstack/kolla-ansible,stable/zed,Ia709f450c3e5b73e145e89a305cd038c05507dc6,cloudkitty: set cafile for fetcher_keystone,MERGED,2023-03-20 11:28:40.000000000,2023-05-31 18:29:21.000000000,2023-05-31 18:28:02.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-03-20 11:28:40.000000000', 'files': ['ansible/roles/cloudkitty/templates/cloudkitty.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6cea19e308fe61cde35ceba291289117cd23e7e1', 'message': 'cloudkitty: set cafile for fetcher_keystone\n\nWithout this setting, the keystone fetcher fails to authenticate when\nusing internal TLS with a local CA.\n\nCloses-Bug: #2000097\n\nChange-Id: Ia709f450c3e5b73e145e89a305cd038c05507dc6\n(cherry picked from commit b6c52323df2b6003a9d1cc145ace23919e436915)\n'}]",1,877764,6cea19e308fe61cde35ceba291289117cd23e7e1,15,3,1,15197,,,0,"cloudkitty: set cafile for fetcher_keystone

Without this setting, the keystone fetcher fails to authenticate when
using internal TLS with a local CA.

Closes-Bug: #2000097

Change-Id: Ia709f450c3e5b73e145e89a305cd038c05507dc6
(cherry picked from commit b6c52323df2b6003a9d1cc145ace23919e436915)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/64/877764/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cloudkitty/templates/cloudkitty.conf.j2'],1,6cea19e308fe61cde35ceba291289117cd23e7e1,cloudkitty-fetcher-keystone-tls-stable/zed,cafile = {{ openstack_cacert }},,1,0
openstack%2Fneutron~master~Ia716f73dffa94c9fecbcc1a7dd0f10cb62639671,openstack/neutron,master,Ia716f73dffa94c9fecbcc1a7dd0f10cb62639671,"Revert ""[OVN] Remove backwards compatibility with OVN < v20.09""",MERGED,2023-05-30 17:22:18.000000000,2023-05-31 18:27:14.000000000,2023-05-31 18:25:44.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 7730}, {'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 34271}]","[{'number': 1, 'created': '2023-05-30 17:22:18.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/agent/ovn/metadata/test_metadata_agent.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/schemas/ovn-nb.ovsschema', 'neutron/tests/functional/base.py', 'neutron/cmd/sanity_check.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/cmd/sanity/checks.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/agent/ovn/metadata/agent.py', 'releasenotes/notes/ovn-support-chassis_private-35192565e9ee2a00.yaml', 'neutron/tests/unit/plugins/ml2/drivers/ovn/agent/test_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/schemas/ovn-sb.ovsschema', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f070ba6f9dfdad0e01bded741c9a1d4beb3dd7f5', 'message': 'Revert ""[OVN] Remove backwards compatibility with OVN < v20.09""\n\nThis reverts commit be4e150de98506b080c3b9a3f324324821e4666e.\n\nReason for revert: some CI gates (devstack for example) are still\nusing some OS (Ubuntu Focal) that provide older OVN version. On\nthese jobs we are not manually compiling OVN.\n\nChange-Id: Ia716f73dffa94c9fecbcc1a7dd0f10cb62639671\n'}]",2,884733,f070ba6f9dfdad0e01bded741c9a1d4beb3dd7f5,19,9,1,16688,,,0,"Revert ""[OVN] Remove backwards compatibility with OVN < v20.09""

This reverts commit be4e150de98506b080c3b9a3f324324821e4666e.

Reason for revert: some CI gates (devstack for example) are still
using some OS (Ubuntu Focal) that provide older OVN version. On
these jobs we are not manually compiling OVN.

Change-Id: Ia716f73dffa94c9fecbcc1a7dd0f10cb62639671
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/884733/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/agent/ovn/metadata/test_metadata_agent.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/schemas/ovn-nb.ovsschema', 'neutron/tests/functional/base.py', 'neutron/cmd/sanity_check.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/cmd/sanity/checks.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/agent/ovn/metadata/agent.py', 'releasenotes/notes/ovn-support-chassis_private-35192565e9ee2a00.yaml', 'neutron/tests/unit/plugins/ml2/drivers/ovn/agent/test_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/schemas/ovn-sb.ovsschema', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",16,f070ba6f9dfdad0e01bded741c9a1d4beb3dd7f5,bug/2002839, if impl_idl_ovn.OvsdbSbOvnIdl.schema_has_table('Chassis_Private'): self.agent_chassis_table = 'Chassis_Private' else: self.agent_chassis_table = 'Chassis', self.agent_chassis_table = 'Chassis_Private',113,354
openstack%2Fopenstack-ansible-os_magnum~stable%2Fzed~I2327ed957133ad0a918fb1d2e215952b4184c61f,openstack/openstack-ansible-os_magnum,stable/zed,I2327ed957133ad0a918fb1d2e215952b4184c61f,Ensure service is restarted on unit file changes,NEW,2023-05-02 17:29:17.000000000,2023-05-31 18:01:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-02 17:29:17.000000000', 'files': ['handlers/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/0cdf972a51b78b7682930dbfb401732fa6b0b5b9', 'message': ""Ensure service is restarted on unit file changes\n\nAt the moment we don't restart services if systemd unit file is changed.\n\nWe knowingly prevent systemd_service role handlers to execute\nby providing `state: started` as otherwise service will be restarted twice.\nWith that now  we ensure that role handlers will also listen for systemd\nunit changes.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_heat/+/879963\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/880047\nChange-Id: I2327ed957133ad0a918fb1d2e215952b4184c61f\n""}]",2,882057,0cdf972a51b78b7682930dbfb401732fa6b0b5b9,6,1,1,28619,,,0,"Ensure service is restarted on unit file changes

At the moment we don't restart services if systemd unit file is changed.

We knowingly prevent systemd_service role handlers to execute
by providing `state: started` as otherwise service will be restarted twice.
With that now  we ensure that role handlers will also listen for systemd
unit changes.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_heat/+/879963
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/880047
Change-Id: I2327ed957133ad0a918fb1d2e215952b4184c61f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/57/882057/1 && git format-patch -1 --stdout FETCH_HEAD,"['handlers/main.yml', 'vars/main.yml']",2,0cdf972a51b78b7682930dbfb401732fa6b0b5b9,osa/systemd_restart_on_unit_change-stable/zed," 'enabled': value['enabled'] | default(True), 'state': value['state'] | default('started'),"," 'enabled': 'yes', 'state': 'started',",3,2
openstack%2Fironic~master~Ica8b8ce65e017b05c252d3cdaacef0c1ba862175,openstack/ironic,master,Ica8b8ce65e017b05c252d3cdaacef0c1ba862175,FW Object structure,ABANDONED,2023-05-13 01:05:32.000000000,2023-05-31 17:52:22.000000000,,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-13 01:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1cbf66db3ac4b778e3ae38a9744e14ef5ca8bf66', 'message': 'FW Object structure\n\nChange-Id: Ica8b8ce65e017b05c252d3cdaacef0c1ba862175\n'}, {'number': 2, 'created': '2023-05-13 14:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/55d816bc9eaf4f53b7cabe7d2ef0316493a8ebd1', 'message': 'FW Object structure\n\nFirmwareComponent\n* create | save | get | delete\n\nFirmwareComponentList\n* create | save | delete | get_by_node id | sync_node_fw_components\n\nTests for db and objects\n\nStory: 2010659\nTask: 47994\n\nChange-Id: Ica8b8ce65e017b05c252d3cdaacef0c1ba862175\n'}, {'number': 3, 'created': '2023-05-23 21:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e498b5f9c6f4be642e9b4f3d24696fc644205860', 'message': 'FW Object structure\n\nFirmwareComponent\n* create | save | get | delete\n\nFirmwareComponentList\n* create | save | delete | get_by_node id | sync_node_fw_components\n\nTests for db and objects\n\nStory: 2010659\nTask: 47994\n\nChange-Id: Ica8b8ce65e017b05c252d3cdaacef0c1ba862175\n'}, {'number': 4, 'created': '2023-05-25 01:07:17.000000000', 'files': ['ironic/tests/unit/objects/test_firmware.py', 'ironic/objects/firmware.py', 'ironic/tests/unit/db/utils.py', 'ironic/tests/unit/db/test_firmware_component.py', 'ironic/tests/unit/objects/test_objects.py', 'ironic/objects/__init__.py', 'ironic/tests/unit/objects/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b2ffe34b9ece57bccb7c50654bcd196c039effe1', 'message': 'FW Object structure\n\nFirmwareComponent\n* create | save | get | delete\n\nFirmwareComponentList\n* create | save | delete | get_by_node id | sync_node_fw_components\n\nTests for db and objects\n\nStory: 2010659\nTask: 47994\n\nChange-Id: Ica8b8ce65e017b05c252d3cdaacef0c1ba862175\n'}]",3,883093,b2ffe34b9ece57bccb7c50654bcd196c039effe1,22,2,4,15519,,,0,"FW Object structure

FirmwareComponent
* create | save | get | delete

FirmwareComponentList
* create | save | delete | get_by_node id | sync_node_fw_components

Tests for db and objects

Story: 2010659
Task: 47994

Change-Id: Ica8b8ce65e017b05c252d3cdaacef0c1ba862175
",git fetch https://review.opendev.org/openstack/ironic refs/changes/93/883093/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/objects/test_firmware.py', 'ironic/objects/firmware.py', 'ironic/tests/unit/db/utils.py', 'ironic/tests/unit/db/test_firmware_component.py', 'ironic/tests/unit/objects/test_objects.py', 'ironic/objects/__init__.py', 'ironic/tests/unit/objects/utils.py']",7,1cbf66db3ac4b778e3ae38a9744e14ef5ca8bf66,fw_object_modeling," def get_test_firmware_component(ctxt, **kw): """"""Return a FirmwareComponent object with appropriate attributes. NOTE: The object leaves the attributes marked as changed, such that a create() could be used to commit it to the DB. """""" kw['object_type'] = 'firmware' db_fw_component = db_utils.get_test_firmware_component(**kw) fw_cmp = objects.FirmwareComponent(ctxt) for key in db_fw_component: setattr(fw_cmp, key, db_fw_component[key]) return fw_cmp def create_test_firmware_component(ctxt, **kw): """"""Create and return a test firmware component object. Create a Firmware Component in the DB and return a FirmwareComponent object with appropriate attributes. """""" fw_cmp = get_test_firmware_component(ctxt, **kw) fw_cmp.create() return fw_cmp",,509,5
openstack%2Fcharm-cinder~stable%2Fvictoria~I6d44223b7c2863c6d9c62b46a41275fd360f92d1,openstack/charm-cinder,stable/victoria,I6d44223b7c2863c6d9c62b46a41275fd360f92d1,Add nova section,MERGED,2023-02-17 21:34:46.000000000,2023-05-31 17:45:47.000000000,2023-05-31 17:45:47.000000000,"[{'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-17 21:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/27e642f12ade216d1e72bac57ae1ce2404607c41', 'message': ""Add nova section\n\nCinder sometimes needs to communicate with nova,\nfor example to notify VMs when live-resizing a disk.\nUnder certain circumstances,\nthe autodetected authentication details don't work,\nso we must add a dedicated section in the config\nfor the nova client with proper credentials.\n\nThis issue has been observed on victoria and newer,\nhence the addition of cinder.conf for victoria.\n\nCloses-Bug: #1939389\n\nCo-authored-by: Samuel Walladge <samuel.walladge@canonical.com>\n\nChange-Id: I6d44223b7c2863c6d9c62b46a41275fd360f92d1\n(cherry picked from commit 024de3783fc459fc25596ec6084dd065e945df76)\n""}, {'number': 2, 'created': '2023-02-17 21:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/e2e6579fc2ca161cb1775a438936ca8bbcdb2097', 'message': ""Add nova section\n\nCinder sometimes needs to communicate with nova,\nfor example to notify VMs when live-resizing a disk.\nUnder certain circumstances,\nthe autodetected authentication details don't work,\nso we must add a dedicated section in the config\nfor the nova client with proper credentials.\n\nThis issue has been observed on victoria and newer,\nhence the addition of cinder.conf for victoria.\n\nCloses-Bug: #1939389\n\nCo-authored-by: Samuel Walladge <samuel.walladge@canonical.com>\n\nChange-Id: I6d44223b7c2863c6d9c62b46a41275fd360f92d1\n(cherry picked from commit 024de3783fc459fc25596ec6084dd065e945df76)\n""}, {'number': 3, 'created': '2023-05-12 18:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/670361f070fb30d95c0ea0214e95968c7a1906e4', 'message': ""Add nova section\n\nCinder sometimes needs to communicate with nova,\nfor example to notify VMs when live-resizing a disk.\nUnder certain circumstances,\nthe autodetected authentication details don't work,\nso we must add a dedicated section in the config\nfor the nova client with proper credentials.\n\nThis issue has been observed on victoria and newer,\nhence the addition of cinder.conf for victoria.\n\nCloses-Bug: #1939389\n\nCo-authored-by: Samuel Walladge <samuel.walladge@canonical.com>\n\nChange-Id: I6d44223b7c2863c6d9c62b46a41275fd360f92d1\n(cherry picked from commit 024de3783fc459fc25596ec6084dd065e945df76)\n""}, {'number': 4, 'created': '2023-05-15 12:55:35.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'tests/bundles/focal-victoria.yaml', 'templates/victoria/cinder.conf', 'templates/parts/service-auth'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/2bf21135499d2fa22932c24ca06a5e520e0f2529', 'message': ""Add nova section\n\nCinder sometimes needs to communicate with nova,\nfor example to notify VMs when live-resizing a disk.\nUnder certain circumstances,\nthe autodetected authentication details don't work,\nso we must add a dedicated section in the config\nfor the nova client with proper credentials.\n\nThis issue has been observed on victoria and newer,\nhence the addition of cinder.conf for victoria.\n\nCloses-Bug: #1939389\n\nCo-authored-by: Samuel Walladge <samuel.walladge@canonical.com>\n\nChange-Id: I6d44223b7c2863c6d9c62b46a41275fd360f92d1\n(cherry picked from commit 024de3783fc459fc25596ec6084dd065e945df76)\n""}]",7,874334,2bf21135499d2fa22932c24ca06a5e520e0f2529,30,5,4,17097,,,0,"Add nova section

Cinder sometimes needs to communicate with nova,
for example to notify VMs when live-resizing a disk.
Under certain circumstances,
the autodetected authentication details don't work,
so we must add a dedicated section in the config
for the nova client with proper credentials.

This issue has been observed on victoria and newer,
hence the addition of cinder.conf for victoria.

Closes-Bug: #1939389

Co-authored-by: Samuel Walladge <samuel.walladge@canonical.com>

Change-Id: I6d44223b7c2863c6d9c62b46a41275fd360f92d1
(cherry picked from commit 024de3783fc459fc25596ec6084dd065e945df76)
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/34/874334/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', 'tests/bundles/focal-victoria.yaml', 'templates/victoria/cinder.conf', 'templates/parts/service-auth']",4,27e642f12ade216d1e72bac57ae1ce2404607c41,,# Authentication type to load (string value) auth_type = password # Authentication URL (string value) auth_url = {{ auth_protocol }}://{{ auth_host }}:{{ auth_port }} # Username (string value) username = {{ admin_user }} # User's password (string value) password = {{ admin_password }} # Project name to scope to (string value) project_name = {{ admin_tenant_name }} {% if admin_domain_name -%} project_domain_name = {{ admin_domain_name }} user_domain_name = {{ admin_domain_name }} {% else -%} project_domain_name = default user_domain_name = default {% endif -%} {% if ca_cert_path -%} # PEM encoded Certificate Authority to use when verifying # HTTPs connections. (string value) cafile = {{ ca_cert_path }} {% endif -%} region_name = {{ region }} ,,137,4
openstack%2Fopenstack-ansible~master~Iaacadb3785b834bc9288d498a3a3c7028bd64c5b,openstack/openstack-ansible,master,Iaacadb3785b834bc9288d498a3a3c7028bd64c5b,Do not try to install packages on each log_instance_info run,NEW,2022-12-01 17:23:58.000000000,2023-05-31 17:42:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-01 17:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/93157e1caa805a12ea431e53ea062c74f9e5873d', 'message': 'Do not try to install packages on each log_instance_info run\n\nFunction log_instance_info is being called from gate-check-commit script\nafter each major step. With that we update cache and try to install\npackages that are already installed. Moving installation part to the\nspearate function we save about 1min of time on each call.\n\nChange-Id: Iaacadb3785b834bc9288d498a3a3c7028bd64c5b\n'}, {'number': 2, 'created': '2022-12-01 18:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4edc4cbb9c6932f9056b23b9b5d5659eca846bab', 'message': 'Do not try to install packages on each log_instance_info run\n\nFunction log_instance_info is being called from gate-check-commit script\nafter each major step. With that we update cache and try to install\npackages that are already installed. Moving installation part to the\nspearate function we save about 1min of time on each call.\n\nChange-Id: Iaacadb3785b834bc9288d498a3a3c7028bd64c5b\n'}, {'number': 3, 'created': '2022-12-01 18:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a446cd963da0d05fbf6b4aa9769607bc54ed0f96', 'message': 'Do not try to install packages on each log_instance_info run\n\nFunction log_instance_info is being called from gate-check-commit script\nafter each major step. With that we update cache and try to install\npackages that are already installed. Moving installation part to the\nspearate function we save about 1min of time on each call.\n\nChange-Id: Iaacadb3785b834bc9288d498a3a3c7028bd64c5b\n'}, {'number': 4, 'created': '2022-12-06 17:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5cece7499da3cb9f8398ad88f8696281cc0854bb', 'message': 'Do not try to install packages on each log_instance_info run\n\nFunction log_instance_info is being called from gate-check-commit script\nafter each major step. With that we update cache and try to install\npackages that are already installed. Moving installation part to the\nspearate function we save about 1min of time on each call.\n\nChange-Id: Iaacadb3785b834bc9288d498a3a3c7028bd64c5b\n'}, {'number': 5, 'created': '2022-12-07 14:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/940fe43b9e6e884f71006b982b9da1e04d2eb506', 'message': 'Do not try to install packages on each log_instance_info run\n\nFunction log_instance_info is being called from gate-check-commit script\nafter each major step. With that we update cache and try to install\npackages that are already installed. Moving installation part to the\nspearate function we save about 1min of time on each call.\n\nChange-Id: Iaacadb3785b834bc9288d498a3a3c7028bd64c5b\n'}, {'number': 6, 'created': '2022-12-10 19:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/daf55676bfd99a89c680b85de2ec50f4af0e3edf', 'message': 'Do not try to install packages on each log_instance_info run\n\nFunction log_instance_info is being called from gate-check-commit script\nafter each major step. With that we update cache and try to install\npackages that are already installed. Moving installation part to the\nspearate function we save about 1min of time on each call.\n\nChange-Id: Iaacadb3785b834bc9288d498a3a3c7028bd64c5b\n'}, {'number': 7, 'created': '2022-12-12 08:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dcb43188a230431072c7cac91252b31f2fb5a93d', 'message': 'Do not try to install packages on each log_instance_info run\n\nFunction log_instance_info is being called from gate-check-commit script\nafter each major step. With that we update cache and try to install\npackages that are already installed. Moving installation part to the\nspearate function we save about 1min of time on each call.\n\nChange-Id: Iaacadb3785b834bc9288d498a3a3c7028bd64c5b\n'}, {'number': 8, 'created': '2022-12-28 10:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8a98f74bcfacd07d6a320d07ea646f5aa5e7a8c5', 'message': 'Do not try to install packages on each log_instance_info run\n\nFunction log_instance_info is being called from gate-check-commit script\nafter each major step. With that we update cache and try to install\npackages that are already installed. Moving installation part to the\nspearate function we save about 1min of time on each call.\n\nChange-Id: Iaacadb3785b834bc9288d498a3a3c7028bd64c5b\n'}, {'number': 9, 'created': '2022-12-31 09:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/182623b6320a81d51a189ab632d49acc34befa92', 'message': 'Do not try to install packages on each log_instance_info run\n\nFunction log_instance_info is being called from gate-check-commit script\nafter each major step. With that we update cache and try to install\npackages that are already installed. Moving installation part to the\nspearate function we save about 1min of time on each call.\n\nChange-Id: Iaacadb3785b834bc9288d498a3a3c7028bd64c5b\n'}, {'number': 10, 'created': '2023-02-11 08:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/97ed1bb092ede359ececa95fa1d4614d2de995ac', 'message': 'Do not try to install packages on each log_instance_info run\n\nFunction log_instance_info is being called from gate-check-commit script\nafter each major step. With that we update cache and try to install\npackages that are already installed. Moving installation part to the\nspearate function we save about 1min of time on each call.\n\nChange-Id: Iaacadb3785b834bc9288d498a3a3c7028bd64c5b\n'}, {'number': 11, 'created': '2023-04-04 10:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ce11a1005a7f60921760487ca976342d99b9b411', 'message': 'Do not try to install packages on each log_instance_info run\n\nFunction log_instance_info is being called from gate-check-commit script\nafter each major step. With that we update cache and try to install\npackages that are already installed. Moving installation part to the\nspearate function we save about 1min of time on each call.\n\nChange-Id: Iaacadb3785b834bc9288d498a3a3c7028bd64c5b\n'}, {'number': 12, 'created': '2023-05-31 15:04:41.000000000', 'files': ['scripts/gate-check-commit.sh', 'scripts/scripts-library.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/57bea2de7f04986cb09f78933a0b5208a359a539', 'message': 'Do not try to install packages on each log_instance_info run\n\nFunction log_instance_info is being called from gate-check-commit script\nafter each major step. With that we update cache and try to install\npackages that are already installed. Moving installation part to the\nspearate function we save about 1min of time on each call.\n\nChange-Id: Iaacadb3785b834bc9288d498a3a3c7028bd64c5b\n'}]",3,866372,57bea2de7f04986cb09f78933a0b5208a359a539,28,1,12,28619,,,0,"Do not try to install packages on each log_instance_info run

Function log_instance_info is being called from gate-check-commit script
after each major step. With that we update cache and try to install
packages that are already installed. Moving installation part to the
spearate function we save about 1min of time on each call.

Change-Id: Iaacadb3785b834bc9288d498a3a3c7028bd64c5b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/72/866372/12 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/gate-check-commit.sh', 'scripts/scripts-library.sh']",2,93157e1caa805a12ea431e53ea062c74f9e5873d,,function gate_log_requirements { # ensure packages are installed to get instance info determine_distro case ${DISTRO_ID} in ubuntu|debian) apt-get update DEBIAN_FRONTEND=noninteractive apt-get -y install iproute2 net-tools dstat ;; rocky|centos|rhel) dnf -y install iproute dstat ;; esac } , case ${DISTRO_ID} in rocky|centos|rhel) dnf -y install dstat ;; ubuntu) apt-get update DEBIAN_FRONTEND=noninteractive apt-get -y install dstat ;; esac # ensure packages are installed to get instance info determine_distro case ${DISTRO_ID} in ubuntu|debian) apt-get update DEBIAN_FRONTEND=noninteractive apt-get -y install iproute2 net-tools ;; rocky|centos|rhel) dnf -y install iproute ;; esac,16,21
openstack%2Fopenstack-ansible~master~Ief03c33b76eac6e256477cfaa16c8a59acd7d702,openstack/openstack-ansible,master,Ief03c33b76eac6e256477cfaa16c8a59acd7d702,Refactor log collection from lxc containers,NEW,2023-03-14 14:46:34.000000000,2023-05-31 17:12:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-14 14:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6eaf13ab3252f3716c0db2a65dd4a04debfef2db', 'message': 'Refactor log collection from lxc containers\n\nThe previous code retrieved logs from the lxc containers by copying\nthem from the /proc/<pid>/root/... directory which worked except\nwhen the files being collected were symlinks, which would then\npotentially point to the wrong, or a missing file on the host itself.\n\nThis patch changes the log collection to collect from inside the\nrunning containers using tar, giving a consistent view of the\nsource files.\n\nA side effect of using the more complex lxc-attach/tar approach\nwas corruption of stdout due to the simple apprach taken to\nparallelising the log collection by running each collection function\nin the background. This patch also switches to use gnu parallel\nas the mechanism to run multiple log collections simultaneously\nand keep the console output clean.\n\nChange-Id: Ief03c33b76eac6e256477cfaa16c8a59acd7d702\n'}, {'number': 2, 'created': '2023-03-14 14:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5367eebaf7c2c7b34b090b1fea69210e5eacc4f0', 'message': 'Refactor log collection from lxc containers\n\nThe previous code retrieved logs from the lxc containers by copying\nthem from the /proc/<pid>/root/... directory which worked except\nwhen the files being collected were symlinks, which would then\npotentially point to the wrong, or a missing file on the host itself.\n\nThis patch changes the log collection to collect from inside the\nrunning containers using tar, giving a consistent view of the\nsource files.\n\nA side effect of using the more complex lxc-attach/tar approach\nwas corruption of stdout due to the previous simple method of\nparallelising the log collection by running each collection function\nin the background. This patch switches to use gnu parallel\nas the mechanism to run multiple log collections simultaneously\nand keep the console output clean.\n\nChange-Id: Ief03c33b76eac6e256477cfaa16c8a59acd7d702\n'}, {'number': 3, 'created': '2023-03-15 10:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/002ee8b507750c075e8698c434909ddc081082d9', 'message': 'Refactor log collection from lxc containers\n\nThe previous code retrieved logs from the lxc containers by copying\nthem from the /proc/<pid>/root/... directory which worked except\nwhen the files being collected were symlinks, which would then\npotentially point to the wrong, or a missing file on the host itself.\n\nThis patch changes the log collection to collect from inside the\nrunning containers using tar, giving a consistent view of the\nsource files. Any symlinks are replaced with the content of files\nthey reference in the collected logs.\n\nA side effect of using the more complex lxc-attach/tar approach\nwas corruption of stdout due to the previous simple method of\nparallelising the log collection by running each collection function\nin the background. This patch switches to use gnu parallel\nas the mechanism to run multiple log collections simultaneously\nand keep the console output clean.\n\nChange-Id: Ief03c33b76eac6e256477cfaa16c8a59acd7d702\n'}, {'number': 4, 'created': '2023-04-04 14:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/898707b7d5b151df2f75903a2b95226e24ca0e60', 'message': 'Refactor log collection from lxc containers\n\nThe previous code retrieved logs from the lxc containers by copying\nthem from the /proc/<pid>/root/... directory which worked except\nwhen the files being collected were symlinks, which would then\npotentially point to the wrong, or a missing file on the host itself.\n\nThis patch changes the log collection to collect from inside the\nrunning containers using tar, giving a consistent view of the\nsource files. Any symlinks are replaced with the content of files\nthey reference in the collected logs.\n\nA side effect of using the more complex lxc-attach/tar approach\nwas corruption of stdout due to the previous simple method of\nparallelising the log collection by running each collection function\nin the background. This patch switches to use gnu parallel\nas the mechanism to run multiple log collections simultaneously\nand keep the console output clean.\n\nChange-Id: Ief03c33b76eac6e256477cfaa16c8a59acd7d702\n'}, {'number': 5, 'created': '2023-05-31 14:54:54.000000000', 'files': ['scripts/log-collect.sh', 'scripts/scripts-library.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/69414dd57798256f330810dd15ef506c47bbd34c', 'message': 'Refactor log collection from lxc containers\n\nThe previous code retrieved logs from the lxc containers by copying\nthem from the /proc/<pid>/root/... directory which worked except\nwhen the files being collected were symlinks, which would then\npotentially point to the wrong, or a missing file on the host itself.\n\nThis patch changes the log collection to collect from inside the\nrunning containers using tar, giving a consistent view of the\nsource files. Any symlinks are replaced with the content of files\nthey reference in the collected logs.\n\nA side effect of using the more complex lxc-attach/tar approach\nwas corruption of stdout due to the previous simple method of\nparallelising the log collection by running each collection function\nin the background. This patch switches to use gnu parallel\nas the mechanism to run multiple log collections simultaneously\nand keep the console output clean.\n\nChange-Id: Ief03c33b76eac6e256477cfaa16c8a59acd7d702\n'}]",2,877382,69414dd57798256f330810dd15ef506c47bbd34c,12,1,5,25023,,,0,"Refactor log collection from lxc containers

The previous code retrieved logs from the lxc containers by copying
them from the /proc/<pid>/root/... directory which worked except
when the files being collected were symlinks, which would then
potentially point to the wrong, or a missing file on the host itself.

This patch changes the log collection to collect from inside the
running containers using tar, giving a consistent view of the
source files. Any symlinks are replaced with the content of files
they reference in the collected logs.

A side effect of using the more complex lxc-attach/tar approach
was corruption of stdout due to the previous simple method of
parallelising the log collection by running each collection function
in the background. This patch switches to use gnu parallel
as the mechanism to run multiple log collections simultaneously
and keep the console output clean.

Change-Id: Ief03c33b76eac6e256477cfaa16c8a59acd7d702
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/82/877382/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/log-collect.sh', 'scripts/scripts-library.sh']",2,6eaf13ab3252f3716c0db2a65dd4a04debfef2db,, DEBIAN_FRONTEND=noninteractive apt-get -y install iproute2 net-tools parallel dnf -y install iproute parallel, DEBIAN_FRONTEND=noninteractive apt-get -y install iproute2 net-tools dnf -y install iproute,21,39
openstack%2Fkayobe~stable%2Fzed~I9c698916999b30bf3fd8f7dfe5add7d332a84b6c,openstack/kayobe,stable/zed,I9c698916999b30bf3fd8f7dfe5add7d332a84b6c,CI: Unbreak stable/zed with two cherry-picks,MERGED,2023-05-22 18:51:20.000000000,2023-05-31 16:25:16.000000000,2023-05-31 16:23:58.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-22 18:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4468e89c029843442897a50af50692f75e65f46e', 'message': 'CI: Enable bare metal testing for Ubuntu upgrades\n\nMore than one year ago, change I96827fc32c1594ca9a0535e259929c49d3f0e704\nenabled bare metal testing on Ubuntu, but only for non-upgrade jobs. It\nshould be safe to test during upgrade jobs too.\n\nChange-Id: I9c698916999b30bf3fd8f7dfe5add7d332a84b6c\n(cherry picked from commit 916ffba691cfae80490b7accedd26eb65328f6ea)\n'}, {'number': 2, 'created': '2023-05-31 12:24:53.000000000', 'files': ['playbooks/kayobe-overcloud-base/run.yml', 'playbooks/kayobe-overcloud-upgrade-base/run.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a38ff9573a21be7f1eb81660d7ac4f172fff99d6', 'message': 'CI: Unbreak stable/zed with two cherry-picks\n\n1) CI: Enable bare metal testing for Ubuntu upgrades\n\nMore than one year ago, change I96827fc32c1594ca9a0535e259929c49d3f0e704\nenabled bare metal testing on Ubuntu, but only for non-upgrade jobs. It\nshould be safe to test during upgrade jobs too.\n\n(cherry picked from commit 916ffba691cfae80490b7accedd26eb65328f6ea)\n\n2) CI: Disable bare metal testing on RL9/c9s\n\nRocky Linux 9.2 shipped with Libvirt 9.0.0 which breaks our bare metal\ntesting. Temporarily run bare metal testing only on Ubuntu.\n\nThis allows us to make rocky9 jobs voting again.\n\n(cherry picked from commit 21c68bbfafe529e1c337ba242c2e501c75bfedaa)\n\nChange-Id: I9c698916999b30bf3fd8f7dfe5add7d332a84b6c\n'}]",1,883727,a38ff9573a21be7f1eb81660d7ac4f172fff99d6,12,5,2,15197,,,0,"CI: Unbreak stable/zed with two cherry-picks

1) CI: Enable bare metal testing for Ubuntu upgrades

More than one year ago, change I96827fc32c1594ca9a0535e259929c49d3f0e704
enabled bare metal testing on Ubuntu, but only for non-upgrade jobs. It
should be safe to test during upgrade jobs too.

(cherry picked from commit 916ffba691cfae80490b7accedd26eb65328f6ea)

2) CI: Disable bare metal testing on RL9/c9s

Rocky Linux 9.2 shipped with Libvirt 9.0.0 which breaks our bare metal
testing. Temporarily run bare metal testing only on Ubuntu.

This allows us to make rocky9 jobs voting again.

(cherry picked from commit 21c68bbfafe529e1c337ba242c2e501c75bfedaa)

Change-Id: I9c698916999b30bf3fd8f7dfe5add7d332a84b6c
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/27/883727/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/kayobe-overcloud-upgrade-base/run.yml'],1,4468e89c029843442897a50af50692f75e65f46e,,, # FIXME(mgoddard): Bare metal testing is unreliable on Ubuntu - some jobs # see IPMI failures such as the following: # ipmitool chassis bootdev pxe # Error setting Chassis Boot Parameter 5\nError setting Chassis Boot # Parameter 0\n when: ansible_facts.os_family != 'Debian' # FIXME(mgoddard): Bare metal testing is unreliable on Ubuntu - some jobs # see IPMI failures such as the following: # ipmitool chassis bootdev pxe # Error setting Chassis Boot Parameter 5\nError setting Chassis Boot # Parameter 0\n when: ansible_facts.os_family != 'Debian',0,12
openstack%2Fmanila~master~I2792f41ccad87612fa676f5315ca2820b5b4f3de,openstack/manila,master,I2792f41ccad87612fa676f5315ca2820b5b4f3de,"db: Migrate ""share replicas"" APIs to enginefacade",NEW,2023-04-12 16:49:20.000000000,2023-05-31 16:23:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-04-12 16:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4a3b3038a0369dfa4474fecc2e3ead4605c8f27c', 'message': 'db: Migrate ""share replicas"" APIs to enginefacade\n\nThis one is a little trickier as this is one of the many interconnected\nshare APIs and we want to avoid migrating them all at once, meaning\nthere remains quite a bit of manual passing of sessions around.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I2792f41ccad87612fa676f5315ca2820b5b4f3de\n'}, {'number': 2, 'created': '2023-05-31 10:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/91e2906e290a82bee4accca66afca95542534789', 'message': 'db: Migrate ""share replicas"" APIs to enginefacade\n\nThis one is a little trickier as this is one of the many interconnected\nshare APIs and we want to avoid migrating them all at once, meaning\nthere remains quite a bit of manual passing of sessions around.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I2792f41ccad87612fa676f5315ca2820b5b4f3de\n'}, {'number': 3, 'created': '2023-05-31 10:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8611636336c55ae8bc21d13b3e68c5494a98cb30', 'message': 'db: Migrate ""share replicas"" APIs to enginefacade\n\nThis one is a little trickier as this is one of the many interconnected\nshare APIs and we want to avoid migrating them all at once, meaning\nthere remains quite a bit of manual passing of sessions around.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I2792f41ccad87612fa676f5315ca2820b5b4f3de\n'}, {'number': 4, 'created': '2023-05-31 14:25:19.000000000', 'files': ['manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/286ad24acc92df386e72558270ced65988faf8a4', 'message': 'db: Migrate ""share replicas"" APIs to enginefacade\n\nThis one is a little trickier as this is one of the many interconnected\nshare APIs and we want to avoid migrating them all at once, meaning\nthere remains quite a bit of manual passing of sessions around.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I2792f41ccad87612fa676f5315ca2820b5b4f3de\n'}]",0,880202,286ad24acc92df386e72558270ced65988faf8a4,17,1,4,15334,,,0,"db: Migrate ""share replicas"" APIs to enginefacade

This one is a little trickier as this is one of the many interconnected
share APIs and we want to avoid migrating them all at once, meaning
there remains quite a bit of manual passing of sessions around.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I2792f41ccad87612fa676f5315ca2820b5b4f3de
",git fetch https://review.opendev.org/openstack/manila refs/changes/02/880202/4 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py']",2,4a3b3038a0369dfa4474fecc2e3ead4605c8f27c,sqlalchemy-20,"# TODO(stephenfin): Remove 'session' when we've converted these methods# TODO(stephenfin): Remove the 'session' argument when all callers have been # updated _share_instance_delete( context, instance_id, session=session, need_to_update_usages=need_to_update_usages, ) # TODO(stephenfin): Remove the 'session' argument when all callers have been # updated def _share_instance_delete( context, instance_id, session=None, need_to_update_usages=False, ): share_export_locations_update(context, instance_id, [], delete=True) instance_ref = share_instance_get(context, instance_id, session=session) is_replica = instance_ref['replica_state'] is not None instance_ref.soft_delete(session=session, update_status=True) share = share_get(context, instance_ref['share_id'], session=session) if len(share.instances) == 0: share_access_delete_all_by_share(context, share['id']) session.query(models.ShareMetadata).filter_by( share_id=share['id']).soft_delete() share.soft_delete(session=session) if need_to_update_usages: _update_share_instance_usages(context, share, instance_ref, is_replica=is_replica) # TODO(stephenfin): Remove the 'session' argument when all callers have been # updateddef _share_replica_get_with_filters( context, share_id=None, replica_id=None, replica_state=None, status=None, with_share_server=True, ): query = model_query(context, models.ShareInstance, read_deleted=""no"") models.ShareInstance.share_id == models.Share.id, ).filter(models.Share.project_id == context.project_id)# NOTE(stephenfin): We use writer context since we may need to update the # instance share data records@context_manager.writer def share_replicas_get_all( context, with_share_data=False, with_share_server=True, ): ).all() result = _set_instances_share_data(context, result, context.session)# NOTE(stephenfin): We use writer context since we may need to update the # instance share data records@context_manager.writer def share_replicas_get_all_by_share( context, share_id, with_share_data=False, with_share_server=False, ): """"""Returns replica instances for a given share."""""" result = _share_replica_get_with_filters( context, with_share_server=with_share_server, share_id=share_id, ).all() if with_share_data: result = _set_instances_share_data(context, result, context.session) return result # NOTE(stephenfin): We use writer context since we may need to update the # instance share data records @require_context @context_manager.writer def share_replicas_get_available_active_replica( context, share_id, with_share_data=False, with_share_server=False, ): """"""Returns an 'active' replica instance that is 'available'."""""" status=constants.STATUS_AVAILABLE, ).first() result = _set_instances_share_data(context, result, context.session)[0]# NOTE(stephenfin): We use writer context since we may need to update the # instance share data records@context_manager.writer def share_replica_get( context, replica_id, with_share_data=False, with_share_server=False, ): replica_id=replica_id, ).first() result = _set_instances_share_data(context, result, context.session)[0]@context_manager.writer def share_replica_update( context, share_replica_id, values, with_share_data=False, ): _ensure_availability_zone_exists(context, values, strict=False) updated_share_replica = _share_instance_update( context, share_replica_id, values, session=context.session, ) if with_share_data: updated_share_replica = _set_instances_share_data( context, updated_share_replica, context.session, )[0]@context_manager.writer def share_replica_delete( context, share_replica_id, need_to_update_usages=True, ): _share_instance_delete( context, share_replica_id, session=context.session, need_to_update_usages=need_to_update_usages, )"," share_export_locations_update(context, instance_id, [], delete=True) instance_ref = share_instance_get(context, instance_id, session=session) is_replica = instance_ref['replica_state'] is not None instance_ref.soft_delete(session=session, update_status=True) share = share_get(context, instance_ref['share_id'], session=session) if len(share.instances) == 0: share_access_delete_all_by_share(context, share['id']) session.query(models.ShareMetadata).filter_by( share_id=share['id']).soft_delete() share.soft_delete(session=session) if need_to_update_usages: _update_share_instance_usages(context, share, instance_ref, is_replica=is_replica) def _share_replica_get_with_filters(context, share_id=None, replica_id=None, replica_state=None, status=None, with_share_server=True, session=None): query = model_query(context, models.ShareInstance, session=session, read_deleted=""no"") models.ShareInstance.share_id == models.Share.id).filter( models.Share.project_id == context.project_id)def share_replicas_get_all(context, with_share_data=False, with_share_server=True, session=None): session = session or get_session() result = _share_replica_get_with_filters( context, with_share_server=with_share_server, session=session).all() if with_share_data: result = _set_instances_share_data(context, result, session) return result @require_context def share_replicas_get_all_by_share(context, share_id, with_share_data=False, with_share_server=False, session=None): """"""Returns replica instances for a given share."""""" session = session or get_session() share_id=share_id, session=session).all() result = _set_instances_share_data(context, result, session)def share_replicas_get_available_active_replica(context, share_id, with_share_data=False, with_share_server=False, session=None): """"""Returns an 'active' replica instance that is 'available'."""""" session = session or get_session() status=constants.STATUS_AVAILABLE, session=session).first() result = _set_instances_share_data(context, result, session)[0]def share_replica_get(context, replica_id, with_share_data=False, with_share_server=False, session=None): session = session or get_session() replica_id=replica_id, session=session).first() result = _set_instances_share_data(context, result, session)[0]def share_replica_update(context, share_replica_id, values, with_share_data=False, session=None): session = session or get_session() with session.begin(): _ensure_availability_zone_exists(context, values, session, strict=False) updated_share_replica = _share_instance_update( context, share_replica_id, values, session=session) if with_share_data: updated_share_replica = _set_instances_share_data( context, updated_share_replica, session)[0]def share_replica_delete(context, share_replica_id, session=None, need_to_update_usages=True): session = session or get_session() share_instance_delete(context, share_replica_id, session=session, need_to_update_usages=need_to_update_usages)",173,140
openstack%2Fopenstack-ansible~master~I0ef888fc91bf3888851f6251a21d546f62333195,openstack/openstack-ansible,master,I0ef888fc91bf3888851f6251a21d546f62333195,Update master for stable/2023.1,MERGED,2023-05-30 15:34:45.000000000,2023-05-31 16:17:31.000000000,2023-05-31 16:15:55.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-30 15:34:45.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c5fa98690a977c03baa409da813a5c00a3922e9f', 'message': 'Update master for stable/2023.1\n\nAdd file to the reno documentation build to show release notes for\nstable/2023.1.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/2023.1.\n\nSem-Ver: feature\nChange-Id: I0ef888fc91bf3888851f6251a21d546f62333195\n'}]",0,884717,c5fa98690a977c03baa409da813a5c00a3922e9f,7,2,1,22816,,,0,"Update master for stable/2023.1

Add file to the reno documentation build to show release notes for
stable/2023.1.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/2023.1.

Sem-Ver: feature
Change-Id: I0ef888fc91bf3888851f6251a21d546f62333195
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/17/884717/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst']",2,c5fa98690a977c03baa409da813a5c00a3922e9f,reno-2023.1,=========================== 2023.1 Series Release Notes =========================== .. release-notes:: :branch: stable/2023.1 ,,7,0
openstack%2Fopenstack-ansible~stable%2F2023.1~Ic2d829a6a87746dc746efe54e5e77e0f694cdf3b,openstack/openstack-ansible,stable/2023.1,Ic2d829a6a87746dc746efe54e5e77e0f694cdf3b,Fix repo url in healthcheck-infrastructure.yml,MERGED,2023-05-31 10:53:41.000000000,2023-05-31 16:17:25.000000000,2023-05-31 16:15:53.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-31 10:53:41.000000000', 'files': ['playbooks/healthcheck-infrastructure.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7fb3a720bc3fee3045fec924d61939febce3bef2', 'message': 'Fix repo url in healthcheck-infrastructure.yml\n\nRepository may be also available over https.\nThat is why `openstack_repo_protocol` variable should be used instead\nof hardcoded http://.\n\nChange-Id: Ic2d829a6a87746dc746efe54e5e77e0f694cdf3b\n(cherry picked from commit 724caeffd822bc687fa80d015f7fee85bc844c76)\n'}]",0,884818,7fb3a720bc3fee3045fec924d61939febce3bef2,8,3,1,28619,,,0,"Fix repo url in healthcheck-infrastructure.yml

Repository may be also available over https.
That is why `openstack_repo_protocol` variable should be used instead
of hardcoded http://.

Change-Id: Ic2d829a6a87746dc746efe54e5e77e0f694cdf3b
(cherry picked from commit 724caeffd822bc687fa80d015f7fee85bc844c76)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/18/884818/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/healthcheck-infrastructure.yml'],1,7fb3a720bc3fee3045fec924d61939febce3bef2,tls-backend-stable/2023.1," vars_files: - ""defaults/{{ install_method }}_install.yml"" url: ""{{ openstack_repo_protocol }}://{{ hostvars[item]['management_address'] }}:{{ repo_server_port }}/{{ repo_requirements_file }}"""," url: ""http://{{ hostvars[item]['management_address'] }}:{{ repo_server_port }}/{{ repo_requirements_file }}""",3,1
openstack%2Fmagnum~master~I5bc3b31bd65b5a475613d9901f4a39c322d928a0,openstack/magnum,master,I5bc3b31bd65b5a475613d9901f4a39c322d928a0,Cluster API: Support basic networking parameters,NEW,2023-05-31 14:01:23.000000000,2023-05-31 16:14:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-31 14:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/153a5605b2687466020dec4d8719584934f22398', 'message': 'Cluster API: Support basic networking parameters\n\nThis patch adds support for the external_network_id, fixed_network and\nfixed_subnet parameters by modifying the Helm values as required.\n\nstory: 2009780\nChange-Id: I5bc3b31bd65b5a475613d9901f4a39c322d928a0\n'}, {'number': 2, 'created': '2023-05-31 15:06:29.000000000', 'files': ['magnum/tests/unit/drivers/cluster_api/test_driver.py', 'magnum/drivers/cluster_api/driver.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b9d203a2a34b1f6073c3106e3f0e949069ff195b', 'message': 'Cluster API: Support basic networking parameters\n\nThis patch adds support for the external_network_id, fixed_network and\nfixed_subnet parameters by modifying the Helm values as required.\n\nstory: 2009780\nChange-Id: I5bc3b31bd65b5a475613d9901f4a39c322d928a0\n'}]",3,884891,b9d203a2a34b1f6073c3106e3f0e949069ff195b,5,1,2,33467,,,0,"Cluster API: Support basic networking parameters

This patch adds support for the external_network_id, fixed_network and
fixed_subnet parameters by modifying the Helm values as required.

story: 2009780
Change-Id: I5bc3b31bd65b5a475613d9901f4a39c322d928a0
",git fetch https://review.opendev.org/openstack/magnum refs/changes/91/884891/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/tests/unit/drivers/cluster_api/test_driver.py', 'magnum/drivers/cluster_api/driver.py']",2,153a5605b2687466020dec4d8719584934f22398,,"from oslo_utils import uuidutils def _get_network(self, context, network, external): # NOTE(mkjpryor) inspired by magnum.common.neutron n_client = clients.OpenStackClients(context).neutron() filters = {""router:external"": external} if network: if uuidutils.is_uuid_like(network): filters[""id""] = network else: filters[""name""] = network networks = n_client.list_networks(**filters).get(""networks"", []) if len(networks) > 1: if network: raise exception.Conflict( f""Multiple networks exist with name '{network}'. "" ""Please use the network ID instead."" ) elif external: raise exception.Conflict( ""Multiple external networks found. "" ""Please specify one using the network ID."" ) else: raise exception.Conflict( ""Multiple networks found. "" ""Please specify one using the network ID."" ) return next(iter(networks), None) def _get_subnet(self, context, subnet): # NOTE(mkjpryor) inspired by magnum.common.neutron n_client = clients.OpenStackClients(context).neutron() filters = {} if uuidutils.is_uuid_like(subnet): filters[""id""] = subnet else: filters[""name""] = subnet subnets = n_client.list_subnets(**filters).get(""subnets"", []) if len(subnets) > 1: raise exception.Conflict( f""Multiple subnets exist with name '{subnet}'. "" ""Please use the subnet ID instead."" ) return next(iter(subnets), None) def _get_external_network_id(self, context, cluster): # NOTE(mkjpryor) # Even if no external network is specified, we still run the search # without an ID or name filter # This will make sure that we correctly identify _an_ external network # and will also fail if there is more than one # This is the same as CAPO but will explicitly report failures external_network = self._get_network( context, cluster.cluster_template.external_network_id, True ) if external_network: return external_network[""id""] else: raise exception.ExternalNetworkNotFound( network=cluster.cluster_template.external_network_id ) def _get_cluster_fixed_network(self, context, cluster): network = self._get_network( context, cluster.fixed_network, False ) if network: return network else: raise exception.FixedNetworkNotFound( network=cluster.fixed_network ) def _get_cluster_fixed_subnet(self, context, cluster, network): subnet = self._get_subnet(context, cluster.fixed_subnet) if subnet and subnet[""network_id""] == network[""id""]: return subnet elif subnet: raise exception.Conflict( f""Subnet {subnet['id']} does not "" f""belong to network {network['id']}."" ) else: raise exception.FixedSubnetNotFound( subnet=cluster.fixed_subnet ) def _get_cluster_network(self, context, cluster): network = None subnet = None if cluster.fixed_network: network = self._get_cluster_fixed_network( context, cluster ) if cluster.fixed_subnet: subnet = self._get_cluster_fixed_subnet( context, cluster, network ) if network and subnet: return (network[""id""], subnet[""id""]) elif network: subnets = network.get(""subnets"", []) if len(subnets) > 1: raise exception.Conflict( f""Network {network['id']} has multiple subnets. "" ""Please specify one using the subnet ID."" ) if len(subnets) < 1: raise exception.Conflict( f""Network {network['id']} has no subnets."" ) return (network[""id""], subnets[0]) elif subnet: return (subnet[""network_id""], subnet[""id""]) else: return (None, None) def _get_dns_nameservers(self, cluster): dns_nameserver = cluster.cluster_template.dns_nameserver if dns_nameserver: return dns_nameserver.split("","") else: return None context, cluster.cluster_template.image_id network_id, subnet_id = self._get_cluster_network(context, cluster) ""machineSSHKeyName"": cluster.keypair or None, cluster, ""octavia_provider"", ""amphora"" ""clusterNetworking"": { ""dnsNameservers"": self._get_dns_nameservers(cluster), ""externalNetworkId"": self._get_external_network_id( context, cluster ), ""internalNetwork"": { ""networkFilter"": ( {""id"": network_id} if network_id else None ), ""subnetFilter"": ( {""id"": subnet_id} if subnet_id else None ), # This is only used if a fixed network is not specified ""nodeCidr"": self._label( cluster, ""fixed_subnet_cidr"", ""10.0.0.0/24"" ), }, }, ""nodeGroups"": [ { ""name"": self._sanitised_name(ng.name), ""machineFlavor"": ng.flavor_id, ""machineCount"": ng.node_count, } for ng in nodegroups if ng.role != NODE_GROUP_ROLE_CONTROLLER ], } version=self._get_chart_version(cluster),"," cluster_template = cluster.cluster_template context, cluster_template.image_id # TODO(johngarbutt): need to respect requested networks ""clusterNetworking"": { ""internalNetwork"": { ""nodeCidr"": self._label( cluster, ""fixed_subnet_cidr"", ""10.0.0.0/24"" ), } }, cluster, ""octavia_provider"", ""amphora"" ""nodeGroups"": [ { ""name"": self._sanitised_name(ng.name), ""machineFlavor"": ng.flavor_id, ""machineCount"": ng.node_count, } for ng in nodegroups if ng.role != NODE_GROUP_ROLE_CONTROLLER ], } if cluster_template.dns_nameserver: dns_nameservers = cluster_template.dns_nameserver.split("","") values[""clusterNetworking""][""dnsNameservers""] = dns_nameservers if cluster.keypair: values[""machineSSHKeyName""] = cluster.keypair chart_version = self._get_chart_version(cluster) version=chart_version,",214,33
openstack%2Frequirements~master~Ib987f6abebb2edac1bbdd39638b5fdcea4a7b34e,openstack/requirements,master,Ib987f6abebb2edac1bbdd39638b5fdcea4a7b34e,update constraint for tooz to new release 4.1.0,MERGED,2023-05-30 17:02:02.000000000,2023-05-31 16:10:43.000000000,2023-05-31 16:09:40.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 17:02:02.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/543fce79bb91a2541e394cf0b41da6aaeeea46e6', 'message': 'update constraint for tooz to new release 4.1.0\n\nmeta: version: 4.1.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta: release:Commit: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta: release:Change-Id: I4a43f93b50083d61de3ac57b06e1c4c43e417dac\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+1: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: Ib987f6abebb2edac1bbdd39638b5fdcea4a7b34e\n'}]",1,884751,543fce79bb91a2541e394cf0b41da6aaeeea46e6,9,2,1,11131,,,0,"update constraint for tooz to new release 4.1.0

meta: version: 4.1.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Ghanshyam Mann <gmann@ghanshyammann.com>
meta: release:Commit: Ghanshyam Mann <gmann@ghanshyammann.com>
meta: release:Change-Id: I4a43f93b50083d61de3ac57b06e1c4c43e417dac
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: Ib987f6abebb2edac1bbdd39638b5fdcea4a7b34e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/51/884751/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,543fce79bb91a2541e394cf0b41da6aaeeea46e6,new-release,tooz===4.1.0,tooz===3.2.0,1,1
openstack%2Fopenstack-manuals~master~I90569d1e01d7ad958786cabf4b8bdb0791161a4e,openstack/openstack-manuals,master,I90569d1e01d7ad958786cabf4b8bdb0791161a4e,[www] Set Xena status to Extended Maintenance,MERGED,2023-04-21 17:32:27.000000000,2023-05-31 16:08:09.000000000,2023-05-31 15:42:42.000000000,"[{'_account_id': 6547}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-21 17:32:27.000000000', 'files': ['tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f2d8f9deb89c2efa66a92c6a07d5dc6fc7b31780', 'message': ""[www] Set Xena status to Extended Maintenance\n\nProject's last releases in Xena have been tagged with xena-em.\nNow indicate that Xena is in Extended Maintenance phase also at\nhttps://docs.openstack.org\n\nPlanned transition date is April 20th, 2023.\n\nChange-Id: I90569d1e01d7ad958786cabf4b8bdb0791161a4e\n""}]",3,881253,f2d8f9deb89c2efa66a92c6a07d5dc6fc7b31780,12,3,1,17685,,,0,"[www] Set Xena status to Extended Maintenance

Project's last releases in Xena have been tagged with xena-em.
Now indicate that Xena is in Extended Maintenance phase also at
https://docs.openstack.org

Planned transition date is April 20th, 2023.

Change-Id: I90569d1e01d7ad958786cabf4b8bdb0791161a4e
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/53/881253/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,f2d8f9deb89c2efa66a92c6a07d5dc6fc7b31780,xena-em," ('xena', SeriesInfo(date='October 2021', status='extended-maintenance')),"," ('xena', SeriesInfo(date='October 2021', status='maintained')),",1,1
openstack%2Fopenstack-ansible~stable%2F2023.1~Ie6f5b73c54b0a6d1f661a9d4f33b8a301d8c4170,openstack/openstack-ansible,stable/2023.1,Ie6f5b73c54b0a6d1f661a9d4f33b8a301d8c4170,Implement support for haproxy_accept_both_protocols,MERGED,2023-05-31 10:53:06.000000000,2023-05-31 15:51:59.000000000,2023-05-31 15:50:32.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-31 10:53:06.000000000', 'files': ['inventory/group_vars/glance_all/haproxy_service.yml', 'inventory/group_vars/neutron_all/haproxy_service.yml', 'inventory/group_vars/sahara_all/haproxy_service.yml', 'inventory/group_vars/aodh_all/haproxy_service.yml', 'inventory/group_vars/octavia_all/haproxy_service.yml', 'inventory/group_vars/masakari_all/haproxy_service.yml', 'inventory/group_vars/heat_all/haproxy_service.yml', 'inventory/group_vars/adjutant_all/haproxy_service.yml', 'inventory/group_vars/manila_all/haproxy_service.yml', 'inventory/group_vars/placement_all/haproxy_service.yml', 'inventory/group_vars/zun_all/haproxy_service.yml', 'inventory/group_vars/ironic_all/haproxy_service.yml', 'inventory/group_vars/murano_all/haproxy_service.yml', 'inventory/group_vars/trove_all/haproxy_service.yml', 'inventory/group_vars/cloudkitty_all/haproxy_service.yml', 'inventory/group_vars/nova_all/haproxy_service.yml', 'inventory/group_vars/mistral_all/haproxy_service.yml', 'releasenotes/notes/openstack_service_accept_both_protocols-c7d1a89befeae9fe.yaml', 'inventory/group_vars/cinder_all/haproxy_service.yml', 'inventory/group_vars/swift_all/haproxy_service.yml', 'inventory/group_vars/repo_all.yml', 'inventory/group_vars/keystone_all/haproxy_service.yml', 'inventory/group_vars/all/all.yml', 'inventory/group_vars/barbican_all/haproxy_service.yml', 'inventory/group_vars/tacker_all/haproxy_service.yml', 'inventory/group_vars/blazar_all/haproxy_service.yml', 'doc/source/user/security/ssl-certificates.rst', 'inventory/group_vars/senlin_all/haproxy_service.yml', 'inventory/group_vars/designate_all/haproxy_service.yml', 'inventory/group_vars/magnum_all/haproxy_service.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/063b23c287b5052d0f4356bda6569fb152b07e1a', 'message': 'Implement support for haproxy_accept_both_protocols\n\nEnabling TLS on the internal VIP for existing deployments will cause\ndowntime until each client is configured to use HTTPS instead of HTTP.\n\nTo avoid downtime, it is recommended to enable\n`openstack_service_accept_both_protocols` until all services are\nconfigured correctly.\nIt allows haproxy frontends to accept both HTTP and HTTPS.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/864784\nChange-Id: Ie6f5b73c54b0a6d1f661a9d4f33b8a301d8c4170\n(cherry picked from commit b75a9d0dd07d1fe1b578398714e776911f3fb2a9)\n'}]",0,884817,063b23c287b5052d0f4356bda6569fb152b07e1a,8,3,1,28619,,,0,"Implement support for haproxy_accept_both_protocols

Enabling TLS on the internal VIP for existing deployments will cause
downtime until each client is configured to use HTTPS instead of HTTP.

To avoid downtime, it is recommended to enable
`openstack_service_accept_both_protocols` until all services are
configured correctly.
It allows haproxy frontends to accept both HTTP and HTTPS.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/864784
Change-Id: Ie6f5b73c54b0a6d1f661a9d4f33b8a301d8c4170
(cherry picked from commit b75a9d0dd07d1fe1b578398714e776911f3fb2a9)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/17/884817/1 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/glance_all/haproxy_service.yml', 'inventory/group_vars/neutron_all/haproxy_service.yml', 'inventory/group_vars/sahara_all/haproxy_service.yml', 'inventory/group_vars/aodh_all/haproxy_service.yml', 'inventory/group_vars/octavia_all/haproxy_service.yml', 'inventory/group_vars/masakari_all/haproxy_service.yml', 'inventory/group_vars/heat_all/haproxy_service.yml', 'inventory/group_vars/adjutant_all/haproxy_service.yml', 'inventory/group_vars/manila_all/haproxy_service.yml', 'inventory/group_vars/placement_all/haproxy_service.yml', 'inventory/group_vars/zun_all/haproxy_service.yml', 'inventory/group_vars/ironic_all/haproxy_service.yml', 'inventory/group_vars/murano_all/haproxy_service.yml', 'inventory/group_vars/trove_all/haproxy_service.yml', 'inventory/group_vars/cloudkitty_all/haproxy_service.yml', 'inventory/group_vars/nova_all/haproxy_service.yml', 'inventory/group_vars/mistral_all/haproxy_service.yml', 'releasenotes/notes/openstack_service_accept_both_protocols-c7d1a89befeae9fe.yaml', 'inventory/group_vars/cinder_all/haproxy_service.yml', 'inventory/group_vars/swift_all/haproxy_service.yml', 'inventory/group_vars/repo_all.yml', 'inventory/group_vars/keystone_all/haproxy_service.yml', 'inventory/group_vars/all/all.yml', 'inventory/group_vars/barbican_all/haproxy_service.yml', 'inventory/group_vars/tacker_all/haproxy_service.yml', 'inventory/group_vars/blazar_all/haproxy_service.yml', 'doc/source/user/security/ssl-certificates.rst', 'inventory/group_vars/senlin_all/haproxy_service.yml', 'inventory/group_vars/designate_all/haproxy_service.yml', 'inventory/group_vars/magnum_all/haproxy_service.yml']",30,063b23c287b5052d0f4356bda6569fb152b07e1a,tls-backend-stable/2023.1," haproxy_accept_both_protocols: ""{{ magnum_accept_both_protocols | default(openstack_service_accept_both_protocols) }}""",,45,4
openstack%2Fnova~stable%2Fzed~Idb35b7e3c69fe8efe498abe4ebcc6cad8918c4ed,openstack/nova,stable/zed,Idb35b7e3c69fe8efe498abe4ebcc6cad8918c4ed,Fix get_segments_id with subnets without segment_id,MERGED,2023-05-22 15:39:37.000000000,2023-05-31 15:47:46.000000000,2023-05-31 15:46:36.000000000,"[{'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-05-22 15:39:37.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/77db64237b23050d94df113a38412c5333d23357', 'message': 'Fix get_segments_id with subnets without segment_id\n\nUnfortunatly when we merged Ie166f3b51fddeaf916cda7c5ac34bbcdda0fd17a we\nforgot that subnets can have no segment_id field.\n\nChange-Id: Idb35b7e3c69fe8efe498abe4ebcc6cad8918c4ed\nCloses-Bug: #2018375\n(cherry picked from commit 6d7bd6a03446d5227d515b2b4c0da632ef4aa4a1)\n(cherry picked from commit 6b8d9d419170fb0ec2c6df561a0874e6362382c1)\n'}]",3,883723,77db64237b23050d94df113a38412c5333d23357,12,4,1,7166,,,0,"Fix get_segments_id with subnets without segment_id

Unfortunatly when we merged Ie166f3b51fddeaf916cda7c5ac34bbcdda0fd17a we
forgot that subnets can have no segment_id field.

Change-Id: Idb35b7e3c69fe8efe498abe4ebcc6cad8918c4ed
Closes-Bug: #2018375
(cherry picked from commit 6d7bd6a03446d5227d515b2b4c0da632ef4aa4a1)
(cherry picked from commit 6b8d9d419170fb0ec2c6df561a0874e6362382c1)
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/883723/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py']",2,77db64237b23050d94df113a38412c5333d23357,bug/2018375, if subnet.get('segment_id') is not None], if subnet['segment_id'] is not None],18,2
openstack%2Fpuppet-openstack_extras~master~Icf089b50f497f3200e55877894b555e1e84a2d64,openstack/puppet-openstack_extras,master,Icf089b50f497f3200e55877894b555e1e84a2d64,Allow tuning timeout for package update,MERGED,2023-05-31 05:15:37.000000000,2023-05-31 15:43:43.000000000,2023-05-31 15:42:37.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 05:15:37.000000000', 'files': ['releasenotes/notes/yum-update-timeout-c68438aab2477331.yaml', 'manifests/repo/redhat/redhat.pp', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/0f4c670e3d44f5284b45927ac60b506ba22d5920', 'message': 'Allow tuning timeout for package update\n\nSometimes package update takes very long. This introduces a parameter\nto make the command timeout tunable.\n\nChange-Id: Icf089b50f497f3200e55877894b555e1e84a2d64\n'}]",0,884806,0f4c670e3d44f5284b45927ac60b506ba22d5920,8,3,1,9816,,,0,"Allow tuning timeout for package update

Sometimes package update takes very long. This introduces a parameter
to make the command timeout tunable.

Change-Id: Icf089b50f497f3200e55877894b555e1e84a2d64
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/06/884806/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/yum-update-timeout-c68438aab2477331.yaml', 'manifests/repo/redhat/redhat.pp', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb']",3,0f4c670e3d44f5284b45927ac60b506ba22d5920,," context 'with update_timeout' do let :params do { :update_packages => true, :update_timeout => 1200, } end it { should contain_exec('yum_update').with( :command => '/usr/bin/dnf update -y', :refreshonly => true, :timeout => 1200, )} end ",,28,1
openstack%2Fcharm-glance-k8s~main~I1fb0734d89de5819771e9cb7b2e7a0ece25111f3,openstack/charm-glance-k8s,main,I1fb0734d89de5819771e9cb7b2e7a0ece25111f3,Drop install of ceph-common,MERGED,2023-05-30 10:52:10.000000000,2023-05-31 15:41:48.000000000,2023-05-31 15:06:41.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}, {'_account_id': 35761}]","[{'number': 1, 'created': '2023-05-30 10:52:10.000000000', 'files': ['tests/unit/test_glance_charm.py', 'src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/6fe6cbb2dddc0c67b261e97ee7f05b562dd61c12', 'message': ""Drop install of ceph-common\n\nWith the switch to using ROCK's, installing ceph-common is no longer\nrequired.\n\nChange-Id: I1fb0734d89de5819771e9cb7b2e7a0ece25111f3\n""}]",3,884678,6fe6cbb2dddc0c67b261e97ee7f05b562dd61c12,14,3,1,935,,,0,"Drop install of ceph-common

With the switch to using ROCK's, installing ceph-common is no longer
required.

Change-Id: I1fb0734d89de5819771e9cb7b2e7a0ece25111f3
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/78/884678/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/test_glance_charm.py', 'src/charm.py']",2,6fe6cbb2dddc0c67b261e97ee7f05b562dd61c12,drop-ceph-common-install," if ph.pebble_ready: ph.execute([""a2enmod"", ""proxy_http""], exception_on_error=True) if self.has_ceph_relation() and self.ceph.key:"," ph.execute([""a2enmod"", ""proxy_http""], exception_on_error=True) if ph.pebble_ready: if self.has_ceph_relation() and self.ceph.key: logger.debug(""Setting up Ceph packages in images."") ph.execute([""apt"", ""update""], exception_on_error=True) ph.execute( [""apt"", ""install"", ""-y"", ""ceph-common""], exception_on_error=True, )",1,9
openstack%2Fcharm-openstack-hypervisor~main~I759e5436e47869d30c1f0de7ccdabed2ba6f1c49,openstack/charm-openstack-hypervisor,main,I759e5436e47869d30c1f0de7ccdabed2ba6f1c49,Add dependencies with native components as binary packages,MERGED,2023-05-31 14:38:29.000000000,2023-05-31 15:35:55.000000000,2023-05-31 15:04:51.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 14:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/b47f18ddb27911a06149392234d9a8137b001e85', 'message': ""Add dependencies with native components as binary packages\n\nThe build time is very long because of PIP having to fetch and build\nnative components of the libraries. This change show a possible way to\nbypass this issue. This has implication regarding the platform it's\nrunning on. In this case, we know the charm is going to be run on a\n22.04 container.\n\nChange-Id: I759e5436e47869d30c1f0de7ccdabed2ba6f1c49\n""}, {'number': 2, 'created': '2023-05-31 14:55:35.000000000', 'files': ['charmcraft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/e755f97c3ca726f338c8796c5faff63607001d3c', 'message': ""Add dependencies with native components as binary packages\n\nThe build time is very long because of PIP having to fetch and build\nnative components of the libraries. This change show a possible way to\nbypass this issue. This has implication regarding the platform it's\nrunning on. In this case, we know the charm is going to be run on a\n22.04 machine.\n\nChange-Id: I759e5436e47869d30c1f0de7ccdabed2ba6f1c49\n""}]",0,884894,e755f97c3ca726f338c8796c5faff63607001d3c,9,2,2,35761,,,0,"Add dependencies with native components as binary packages

The build time is very long because of PIP having to fetch and build
native components of the libraries. This change show a possible way to
bypass this issue. This has implication regarding the platform it's
running on. In this case, we know the charm is going to be run on a
22.04 machine.

Change-Id: I759e5436e47869d30c1f0de7ccdabed2ba6f1c49
",git fetch https://review.opendev.org/openstack/charm-openstack-hypervisor refs/changes/94/884894/1 && git format-patch -1 --stdout FETCH_HEAD,['charmcraft.yaml'],1,b47f18ddb27911a06149392234d9a8137b001e85,build-time-exp, charm-binary-python-packages: - cryptography - jsonschema - jinja2 - git+https://opendev.org/openstack/charm-ops-sunbeam#egg=ops_sunbeam,,5,0
openstack%2Fpuppet-keystone~master~I6520001eafb2683e5225b8491ccb0c168e95bd30,openstack/puppet-keystone,master,I6520001eafb2683e5225b8491ccb0c168e95bd30,"Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""",MERGED,2023-05-31 03:38:34.000000000,2023-05-31 15:35:47.000000000,2023-05-31 15:35:47.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 31068}]","[{'number': 1, 'created': '2023-05-31 03:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/9076c688c326b42b3bcd116417d568886b2c070f', 'message': 'Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""\n\nThis reverts commit cad09a6b17369d0507de624f729d1eb36dc45b67.\n\nReason for revert:\nStdlib::Absolutepath has never been deprecated, but\nStdlib::Compat::Absolute_path was deprecated. The latest stdlib\nremoved all Stdlib::Compat::* types[1].\n    \n[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/fcbd4267fd830982e86041599d4eb11c2072a94a\n    \n\nChange-Id: I6520001eafb2683e5225b8491ccb0c168e95bd30\n'}, {'number': 2, 'created': '2023-05-31 03:38:49.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/3dd6d887f3e283af951cf35545a0ed8f53087384', 'message': 'Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""\n\nThis reverts commit cad09a6b17369d0507de624f729d1eb36dc45b67.\n\nReason for revert:\nStdlib::Absolutepath has never been deprecated, but\nStdlib::Compat::Absolute_path was deprecated. The latest stdlib\nremoved all Stdlib::Compat::* types[1].\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/fcbd4267fd830982e86041599d4eb11c2072a94a\n\nChange-Id: I6520001eafb2683e5225b8491ccb0c168e95bd30\n'}]",1,884742,3dd6d887f3e283af951cf35545a0ed8f53087384,12,4,2,9816,,,0,"Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""

This reverts commit cad09a6b17369d0507de624f729d1eb36dc45b67.

Reason for revert:
Stdlib::Absolutepath has never been deprecated, but
Stdlib::Compat::Absolute_path was deprecated. The latest stdlib
removed all Stdlib::Compat::* types[1].

[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/fcbd4267fd830982e86041599d4eb11c2072a94a

Change-Id: I6520001eafb2683e5225b8491ccb0c168e95bd30
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/42/884742/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,9076c688c326b42b3bcd116417d568886b2c070f,puppetlabs-stdlib-9.0.0," validate_legacy(Stdlib::Absolutepath, 'validate_absolute_path', $domain_config_directory)"," validate_legacy(Stdlib::Compat::Absolute_path, 'validate_absolute_path', $domain_config_directory)",1,1
openstack%2Fpuppet-openstacklib~master~I560dbe312a5833f1d6705768bfbf79c06a9ce734,openstack/puppet-openstacklib,master,I560dbe312a5833f1d6705768bfbf79c06a9ce734,"Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""",MERGED,2023-05-31 03:39:34.000000000,2023-05-31 15:32:56.000000000,2023-05-31 15:32:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 31068}]","[{'number': 1, 'created': '2023-05-31 03:39:34.000000000', 'files': ['manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/b6478cb103e9d909ac6a329883e2e63596c050be', 'message': 'Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""\n\nThis reverts commit 0861e31cf9e3d4cb6022038f46caf3cdc5f83873.\n\nReason for revert:\nStdlib::Absolutepath has never been deprecated, but\nStdlib::Compat::Absolute_path was deprecated. The latest stdlib\nremoved all Stdlib::Compat::* types[1].\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/fcbd4267fd830982e86041599d4eb11c2072a94a\n\nChange-Id: I560dbe312a5833f1d6705768bfbf79c06a9ce734\n'}]",1,884743,b6478cb103e9d909ac6a329883e2e63596c050be,11,4,1,9816,,,0,"Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""

This reverts commit 0861e31cf9e3d4cb6022038f46caf3cdc5f83873.

Reason for revert:
Stdlib::Absolutepath has never been deprecated, but
Stdlib::Compat::Absolute_path was deprecated. The latest stdlib
removed all Stdlib::Compat::* types[1].

[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/fcbd4267fd830982e86041599d4eb11c2072a94a

Change-Id: I560dbe312a5833f1d6705768bfbf79c06a9ce734
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/43/884743/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/policy.pp'],1,b6478cb103e9d909ac6a329883e2e63596c050be,puppetlabs-stdlib-9.0.0," validate_legacy(Stdlib::Absolutepath, 'validate_absolute_path', $policy_path)"," validate_legacy(Stdlib::Compat::Absolute_path, 'validate_absolute_path', $policy_path)",1,1
openstack%2Fpuppet-horizon~master~I40cbb3d514081520ea01f42b3ed5cc123d0c930e,openstack/puppet-horizon,master,I40cbb3d514081520ea01f42b3ed5cc123d0c930e,"Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""",MERGED,2023-05-31 03:40:01.000000000,2023-05-31 15:32:01.000000000,2023-05-31 15:32:01.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 31068}]","[{'number': 1, 'created': '2023-05-31 03:40:01.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/fae7d47b1bc9bcd40febcca898399ae4450279e1', 'message': 'Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""\n\nThis reverts commit 92950a690d6d73a5938da117be6812b2663e27b6.\n\nReason for revert:\nStdlib::Absolutepath has never been deprecated, but\nStdlib::Compat::Absolute_path was deprecated. The latest stdlib\nremoved all Stdlib::Compat::* types[1].\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/fcbd4267fd830982e86041599d4eb11c2072a94a\n\nChange-Id: I40cbb3d514081520ea01f42b3ed5cc123d0c930e\n'}]",0,884745,fae7d47b1bc9bcd40febcca898399ae4450279e1,9,4,1,9816,,,0,"Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""

This reverts commit 92950a690d6d73a5938da117be6812b2663e27b6.

Reason for revert:
Stdlib::Absolutepath has never been deprecated, but
Stdlib::Compat::Absolute_path was deprecated. The latest stdlib
removed all Stdlib::Compat::* types[1].

[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/fcbd4267fd830982e86041599d4eb11c2072a94a

Change-Id: I40cbb3d514081520ea01f42b3ed5cc123d0c930e
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/45/884745/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,fae7d47b1bc9bcd40febcca898399ae4450279e1,puppetlabs-stdlib-9.0.0," validate_legacy(Stdlib::Absolutepath, 'validate_absolute_path', $root_path)"," validate_legacy(Stdlib::Compat::Absolute_path, 'validate_absolute_path', $root_path)",1,1
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I9369c453fb5ec7acf9ace70d3d308c652c9ee547,openstack/tripleo-upgrade,stable/wallaby,I9369c453fb5ec7acf9ace70d3d308c652c9ee547,[ffwd] Modify network environement instead of drop,MERGED,2023-05-15 22:28:11.000000000,2023-05-31 15:27:36.000000000,2023-05-31 15:27:36.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-05-15 22:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/993f5a79d110a53d5acd503c54a8e46bc19bd63a', 'message': 'WIP\n\nChange-Id: I9369c453fb5ec7acf9ace70d3d308c652c9ee547\n'}, {'number': 2, 'created': '2023-05-16 11:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/78f22ae06a09edb210b50c51a7e62f3232aba74c', 'message': 'WIP\n\nChange-Id: I9369c453fb5ec7acf9ace70d3d308c652c9ee547\n'}, {'number': 3, 'created': '2023-05-16 13:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/593b16730b83d8a30fd8de529f9e9f8a4a964a74', 'message': 'WIP\n\nChange-Id: I9369c453fb5ec7acf9ace70d3d308c652c9ee547\n'}, {'number': 4, 'created': '2023-05-16 16:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/179edab6d2668cdb7c8ce1a138adffe822162c99', 'message': 'WIP\n\nChange-Id: I9369c453fb5ec7acf9ace70d3d308c652c9ee547\n'}, {'number': 5, 'created': '2023-05-16 22:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7e22fdb2ae8ec3df06778788f3d396a386b7dc6d', 'message': '[ffwd] Modify network environement instead of drop\n\nWe used to remove network-environement.yaml file as we get the\nnetwork environment data from UC export. Sadly this file is often\nalso used to pass other parameters than just network environment.\n\nTo solve this and resolve resource conflict we simply reuse the file\nbut drop the resource_registry from it.\n\nChange-Id: I9369c453fb5ec7acf9ace70d3d308c652c9ee547\n'}, {'number': 6, 'created': '2023-05-19 06:56:25.000000000', 'files': ['tasks/common/adjust-network-environment.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/50cb52ad60d0c680fb2b0fcad29f30307bd4c73c', 'message': '[ffwd] Modify network environement instead of drop\n\nWe used to remove network-environement.yaml file as we get the\nnetwork environment data from UC export. Sadly this file is often\nalso used to pass other parameters than just network environment.\n\nTo solve this and resolve resource conflict we simply reuse the file\nbut drop the resource_registry from it.\n\nChange-Id: I9369c453fb5ec7acf9ace70d3d308c652c9ee547\n'}]",1,883213,50cb52ad60d0c680fb2b0fcad29f30307bd4c73c,17,4,6,11166,,,0,"[ffwd] Modify network environement instead of drop

We used to remove network-environement.yaml file as we get the
network environment data from UC export. Sadly this file is often
also used to pass other parameters than just network environment.

To solve this and resolve resource conflict we simply reuse the file
but drop the resource_registry from it.

Change-Id: I9369c453fb5ec7acf9ace70d3d308c652c9ee547
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/13/883213/6 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/adjust-network-environment.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/main.yml']",3,993f5a79d110a53d5acd503c54a8e46bc19bd63a,, - name: adjust network-environment for upgrade include_tasks: ../common/adjust-network-environment.yaml when: - network_environment_file is defined - network_environment_file != '' tags: ffu_overcloud_prepare ,,31,13
openstack%2Fcharm-mysql-innodb-cluster~master~I64d20db9c59688bb3a40f2e0f58fb138f8522341,openstack/charm-mysql-innodb-cluster,master,I64d20db9c59688bb3a40f2e0f58fb138f8522341,Remove reference to performance-schema option that doesn't exist,MERGED,2023-05-31 09:23:51.000000000,2023-05-31 15:26:15.000000000,2023-05-31 15:26:15.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 09:23:51.000000000', 'files': ['src/config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/4ff1eb35aa1f346ce2336f44dd7b7ac388ccc781', 'message': ""Remove reference to performance-schema option that doesn't exist\n\nChange-Id: I64d20db9c59688bb3a40f2e0f58fb138f8522341\nCloses-Bug: #1882211\n""}]",1,884850,4ff1eb35aa1f346ce2336f44dd7b7ac388ccc781,7,3,1,20870,,,0,"Remove reference to performance-schema option that doesn't exist

Change-Id: I64d20db9c59688bb3a40f2e0f58fb138f8522341
Closes-Bug: #1882211
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/50/884850/1 && git format-patch -1 --stdout FETCH_HEAD,['src/config.yaml'],1,4ff1eb35aa1f346ce2336f44dd7b7ac388ccc781,bug/1882211, Note: Connections take up memory resources. See also MySQL Performance Schema at https://dev.mysql.com/doc/refman/8.0/en/performance-schema.html., Note: Connections take up memory resources. Either at startup time with performance-schema=True or during run time with performance-schema=False. See also performance-schema.,3,3
openstack%2Fpuppet-qdr~master~Ie8532960aad01054ee5e255df61d1d0970e8a566,openstack/puppet-qdr,master,Ie8532960aad01054ee5e255df61d1d0970e8a566,Replace deprecated Stdlib::Compat::Integer,MERGED,2023-05-31 03:42:48.000000000,2023-05-31 15:24:50.000000000,2023-05-31 15:24:50.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 03:42:48.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/78d889e7c3d79e5c026d4daec3700776f90ce849', 'message': 'Replace deprecated Stdlib::Compat::Integer\n\nAll Stdlib::Compat::* types were removed in the latest stdlib[1].\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/fcbd4267fd830982e86041599d4eb11c2072a94a\n\nChange-Id: Ie8532960aad01054ee5e255df61d1d0970e8a566\n'}]",1,884803,78d889e7c3d79e5c026d4daec3700776f90ce849,10,3,1,9816,,,0,"Replace deprecated Stdlib::Compat::Integer

All Stdlib::Compat::* types were removed in the latest stdlib[1].

[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/fcbd4267fd830982e86041599d4eb11c2072a94a

Change-Id: Ie8532960aad01054ee5e255df61d1d0970e8a566
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/03/884803/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,78d889e7c3d79e5c026d4daec3700776f90ce849,puppetlabs-stdlib-9.0.0, if ! $listener_port =~ Integer {, if ! $listener_port =~ Stdlib::Compat::Integer {,1,1
openstack%2Fpuppet-qdr~master~I657c74d476b34fbb3e15229f48440dbbdbde8402,openstack/puppet-qdr,master,I657c74d476b34fbb3e15229f48440dbbdbde8402,"Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""",MERGED,2023-05-31 03:39:54.000000000,2023-05-31 15:24:49.000000000,2023-05-31 15:24:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 31068}]","[{'number': 1, 'created': '2023-05-31 03:39:54.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/d729093de03c314efafbe93a57418c0c69b71768', 'message': 'Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""\n\nThis reverts commit 9a7a6c3f43b1a65d4cb8178d31915795d7e0d0e1.\n\nReason for revert:\nStdlib::Absolutepath has never been deprecated, but\nStdlib::Compat::Absolute_path was deprecated. The latest stdlib\nremoved all Stdlib::Compat::* types[1].\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/fcbd4267fd830982e86041599d4eb11c2072a94a\n\nChange-Id: I657c74d476b34fbb3e15229f48440dbbdbde8402\n'}]",0,884744,d729093de03c314efafbe93a57418c0c69b71768,9,4,1,9816,,,0,"Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""

This reverts commit 9a7a6c3f43b1a65d4cb8178d31915795d7e0d0e1.

Reason for revert:
Stdlib::Absolutepath has never been deprecated, but
Stdlib::Compat::Absolute_path was deprecated. The latest stdlib
removed all Stdlib::Compat::* types[1].

[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/fcbd4267fd830982e86041599d4eb11c2072a94a

Change-Id: I657c74d476b34fbb3e15229f48440dbbdbde8402
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/44/884744/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,d729093de03c314efafbe93a57418c0c69b71768,puppetlabs-stdlib-9.0.0," validate_legacy(Stdlib::Absolutepath, 'validate_absolute_path', $router_debug_dump) validate_legacy(Stdlib::Absolutepath, 'validate_absolute_path', $router_sasl_path)"," validate_legacy(Stdlib::Compat::Absolute_path, 'validate_absolute_path', $router_debug_dump) validate_legacy(Stdlib::Compat::Absolute_path, 'validate_absolute_path', $router_sasl_path)",2,2
openstack%2Fswift~master~I3e08b8f1d7329f8964d8407cb2e125deb9966a8a,openstack/swift,master,I3e08b8f1d7329f8964d8407cb2e125deb9966a8a,memcached: add method and time_spent to exception logs,MERGED,2023-05-26 15:27:34.000000000,2023-05-31 15:11:18.000000000,2023-05-31 15:10:10.000000000,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-05-26 15:27:34.000000000', 'files': ['swift/common/memcached.py', 'test/unit/common/test_memcached.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a25087e1c700ebfe3053922813efba91dc77d630', 'message': 'memcached: add method and time_spent to exception logs\n\nThe method and time_spent were previously added to the error log\nmessages. This patch does the same for exception logging.\n\nChange-Id: I3e08b8f1d7329f8964d8407cb2e125deb9966a8a\nRelated-Change: I4d4f20b92b85255ac8bf66f2c830e691e64bbe47\n'}]",3,884516,a25087e1c700ebfe3053922813efba91dc77d630,18,4,1,7847,,,0,"memcached: add method and time_spent to exception logs

The method and time_spent were previously added to the error log
messages. This patch does the same for exception logging.

Change-Id: I3e08b8f1d7329f8964d8407cb2e125deb9966a8a
Related-Change: I4d4f20b92b85255ac8bf66f2c830e691e64bbe47
",git fetch https://review.opendev.org/openstack/swift refs/changes/16/884516/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/memcached.py', 'test/unit/common/test_memcached.py']",2,a25087e1c700ebfe3053922813efba91dc77d630,p-memcache-incr," self.assertEqual( 'Error talking to memcached: 1.2.3.4:11211: ' 'with key_prefix incr_key, method incr, time_spent 0.0: ', self.logger.get_lines_for_level('error')[0]) self.assertEqual( 'Error talking to memcached: 1.2.3.4:11211: ' 'with key_prefix set_key, method set, time_spent 0.0: ', self.logger.get_lines_for_level('error')[0]) self.assertEqual( 'Error talking to memcached: 1.2.3.4:11211: ' 'with key_prefix get_key, method get, time_spent 0.0: ', self.logger.get_lines_for_level('error')[0]) self.assertIn(""with key_prefix shard-updating-v2/acc, method incr, "" ""time_spent 1.0"" % resp.split(), error_logs[0]) self.assertEqual([4004.99], memcache_client._errors['1.2.3.4:11211'])"," self.assertEqual('Error talking to memcached: 1.2.3.4:11211: ' 'with key_prefix incr_key: ', self.logger.get_lines_for_level('error')[0]) self.assertEqual('Error talking to memcached: 1.2.3.4:11211: ' 'with key_prefix set_key: ', self.logger.get_lines_for_level('error')[0]) self.assertEqual('Error talking to memcached: 1.2.3.4:11211: ' 'with key_prefix get_key: ', self.logger.get_lines_for_level('error')[0]) self.assertIn(""with key_prefix shard-updating-v2/acc"" % resp.split(), error_logs[0]) self.assertEqual([4003.99], memcache_client._errors['1.2.3.4:11211'])",22,16
openstack%2Fopenstack-ansible~master~I278ac2f02fa0c12ed28e465d7e5d0cadc1dd5eeb,openstack/openstack-ansible,master,I278ac2f02fa0c12ed28e465d7e5d0cadc1dd5eeb,Move ceph-install to setup-everything,ABANDONED,2022-10-24 16:35:29.000000000,2023-05-31 15:00:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}, {'_account_id': 34653}]","[{'number': 1, 'created': '2022-10-24 16:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6222a34485f7dc412225b3be39c78f447000bef8', 'message': 'Move ceph-install to setup-everything\n\nCeph is not either part of infrastructure nor of openstack. It is\na standalone thing which OpenStack-Ansible provide integration with\nonly for sample implementation and does not provide support for\nDay 2 operations\n\nChange-Id: I278ac2f02fa0c12ed28e465d7e5d0cadc1dd5eeb\n'}, {'number': 2, 'created': '2022-10-24 16:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/79fd6b14e06cdbcf2102c07dce780cdc4e56e708', 'message': 'Move ceph-install to setup-everything\n\nCeph is not either part of infrastructure nor of openstack. It is\na standalone thing which OpenStack-Ansible provide integration with\nonly for sample implementation and does not provide support for\nDay 2 operations\n\nChange-Id: I278ac2f02fa0c12ed28e465d7e5d0cadc1dd5eeb\n'}, {'number': 3, 'created': '2022-10-26 08:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fde8c9df737081fc2b388f8586e649b0729854ee', 'message': 'Move ceph-install to setup-everything\n\nCeph is not either part of infrastructure nor of openstack. It is\na standalone thing which OpenStack-Ansible provide integration with\nonly for sample implementation and does not provide support for\nDay 2 operations\n\nChange-Id: I278ac2f02fa0c12ed28e465d7e5d0cadc1dd5eeb\n'}, {'number': 4, 'created': '2022-10-26 08:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ea2626446a2989339e1e2840a234589ee593646f', 'message': 'Move ceph-install to setup-everything\n\nCeph is not either part of infrastructure nor of openstack. It is\na standalone thing which OpenStack-Ansible provide integration with\nonly for sample implementation and does not provide support for\nDay 2 operations\n\nChange-Id: I278ac2f02fa0c12ed28e465d7e5d0cadc1dd5eeb\n'}, {'number': 5, 'created': '2022-10-26 08:39:04.000000000', 'files': ['doc/source/user/aio/quickstart.rst', 'releasenotes/notes/ceph_setup_everything-4ceb0434b2ef68c4.yaml', 'doc/source/user/ceph/full-deploy.rst', 'scripts/gate-check-commit.sh', 'playbooks/setup-everything.yml', 'playbooks/ceph-install.yml', 'playbooks/setup-infrastructure.yml', 'playbooks/ceph-nfs-install.yml', 'doc/source/admin/upgrades/major-upgrades.rst', 'playbooks/os-manila-install.yml', 'doc/source/admin/upgrades/minor-upgrades.rst', 'playbooks/setup-openstack.yml', 'scripts/run-upgrade.sh', 'playbooks/setup-openstack-qa.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/43a356442dd8b960b33d948a11dacafa02a6fa0f', 'message': 'Move ceph-install to setup-everything\n\nCeph is not either part of infrastructure nor of openstack. It is\na standalone thing which OpenStack-Ansible provide integration with\nonly for sample implementation and does not provide support for\nDay 2 operations\n\nChange-Id: I278ac2f02fa0c12ed28e465d7e5d0cadc1dd5eeb\n'}]",10,862508,43a356442dd8b960b33d948a11dacafa02a6fa0f,16,4,5,28619,,,0,"Move ceph-install to setup-everything

Ceph is not either part of infrastructure nor of openstack. It is
a standalone thing which OpenStack-Ansible provide integration with
only for sample implementation and does not provide support for
Day 2 operations

Change-Id: I278ac2f02fa0c12ed28e465d7e5d0cadc1dd5eeb
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/08/862508/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/aio/quickstart.rst', 'playbooks/ceph-nfs-install.yml', 'doc/source/user/ceph/full-deploy.rst', 'scripts/gate-check-commit.sh', 'playbooks/setup-everything.yml', 'playbooks/os-manila-install.yml', 'playbooks/setup-openstack.yml', 'playbooks/ceph-install.yml', 'doc/releasenotes/notes/ceph_setup_everything-4ceb0434b2ef68c4.yaml', 'playbooks/setup-infrastructure.yml']",10,6222a34485f7dc412225b3be39c78f447000bef8,,,- import_playbook: ceph-install.yml - import_playbook: ceph-nfs-install.yml,94,75
openstack%2Fopenstack-ansible-os_zun~master~Ifdc25bc511ac1d35b9b33790f994b754355ca7e3,openstack/openstack-ansible-os_zun,master,Ifdc25bc511ac1d35b9b33790f994b754355ca7e3,Disable kata containers for debian/ubuntu,ABANDONED,2023-04-17 20:56:52.000000000,2023-05-31 14:55:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-04-17 20:56:52.000000000', 'files': ['vars/debian.yml', 'releasenotes/notes/disable-kata-on-debian-bc327b187104e54c.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/4750c32ff5d668462fb9b0974665fae9901753e9', 'message': 'Disable kata containers for debian/ubuntu\n\nKata containers are an optional component of zun.\nZun docs suggest to use download.opensuse.org repository to install\nkata packages[1]. We used that for debian and ubuntu.\n\nUnfortunately this repository does not contain kata packages anymore.\nOn top of that, kata containers docs do not provide any guide how to\ninstall it on debian[2].\n\nI think the best option would be to disable kata containers by default\non debian and ubuntu.\n\n[1] https://docs.openstack.org/zun/latest/install/compute-install.html#enable-kata-containers-optional\n[2] https://github.com/kata-containers/kata-containers/tree/main/docs/install\n\nChange-Id: Ifdc25bc511ac1d35b9b33790f994b754355ca7e3\n'}]",0,880683,4750c32ff5d668462fb9b0974665fae9901753e9,3,1,1,32666,,,0,"Disable kata containers for debian/ubuntu

Kata containers are an optional component of zun.
Zun docs suggest to use download.opensuse.org repository to install
kata packages[1]. We used that for debian and ubuntu.

Unfortunately this repository does not contain kata packages anymore.
On top of that, kata containers docs do not provide any guide how to
install it on debian[2].

I think the best option would be to disable kata containers by default
on debian and ubuntu.

[1] https://docs.openstack.org/zun/latest/install/compute-install.html#enable-kata-containers-optional
[2] https://github.com/kata-containers/kata-containers/tree/main/docs/install

Change-Id: Ifdc25bc511ac1d35b9b33790f994b754355ca7e3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/83/880683/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/debian.yml', 'releasenotes/notes/disable-kata-on-debian-bc327b187104e54c.yaml']",2,4750c32ff5d668462fb9b0974665fae9901753e9,,--- upgrade: - | Kata containers are disabled by default on debian and ubuntu due to the lack of of reliable repository containing kata packages. ,,7,10
openstack%2Fcharm-openstack-hypervisor~main~I24bbb737445b174467c828a86407be98f8622afa,openstack/charm-openstack-hypervisor,main,I24bbb737445b174467c828a86407be98f8622afa,Trigger CI,MERGED,2023-05-31 13:41:35.000000000,2023-05-31 14:53:25.000000000,2023-05-31 13:52:27.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 13:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/94b8bb5ca0a5f93b1b2c83a0a583b4ef45e836cc', 'message': 'Trigger CI\n\nChange-Id: I24bbb737445b174467c828a86407be98f8622afa\n'}]",0,884887,94b8bb5ca0a5f93b1b2c83a0a583b4ef45e836cc,7,2,1,35761,,,0,"Trigger CI

Change-Id: I24bbb737445b174467c828a86407be98f8622afa
",git fetch https://review.opendev.org/openstack/charm-openstack-hypervisor refs/changes/87/884887/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,94b8bb5ca0a5f93b1b2c83a0a583b4ef45e836cc,chore/trigger-ci,,,0,0
openstack%2Fopenstack-ansible~stable%2Fyoga~I9e7270c2236dfea7716d3efb787459ea947c2a17,openstack/openstack-ansible,stable/yoga,I9e7270c2236dfea7716d3efb787459ea947c2a17,Remove unreadable unicode symbols,NEW,2023-05-24 18:31:47.000000000,2023-05-31 14:23:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-24 18:31:47.000000000', 'files': ['playbooks/ceph-rgw-keystone-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5b9bc0aa212f7d6079c4e243440285ee4a38b12f', 'message': 'Remove unreadable unicode symbols\n\nThere was No-Break space present in the file (U+00a0) which is now\nremoved with a regular space.\n\nChange-Id: I9e7270c2236dfea7716d3efb787459ea947c2a17\n(cherry picked from commit 555ec6abb770cf403b135fcc8673edb60a2f3912)\n'}]",1,884219,5b9bc0aa212f7d6079c4e243440285ee4a38b12f,5,2,1,28619,,,0,"Remove unreadable unicode symbols

There was No-Break space present in the file (U+00a0) which is now
removed with a regular space.

Change-Id: I9e7270c2236dfea7716d3efb787459ea947c2a17
(cherry picked from commit 555ec6abb770cf403b135fcc8673edb60a2f3912)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/19/884219/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/ceph-rgw-keystone-setup.yml'],1,5b9bc0aa212f7d6079c4e243440285ee4a38b12f,," default((openstack_service_setup_host | default('localhost') == 'localhost') | ternary(ansible_playbook_python, ansible_facts['python']['executable'])) }}"," default((openstack_service_setup_host | default('localhost') == 'localhost') | ternary(ansible_playbook_python, ansible_facts['python']['executable'])) }}",1,1
openstack%2Fdevstack-plugin-ceph~master~Id83d8c9bc8fee4d67b4b68804f29b740ba444469,openstack/devstack-plugin-ceph,master,Id83d8c9bc8fee4d67b4b68804f29b740ba444469,Use a specific repository for CentOS stream 9,ABANDONED,2023-05-10 12:26:07.000000000,2023-05-31 13:54:45.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-10 12:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/ace9e40994e237c8e8216c03d6d7bddfacafe865', 'message': ""Use a specific repository for CentOS stream 9\n\nThis patch enables the installation of Ceph on CentOS Stream 9. I've attempted\nto keep it as straightforward as possible, although a little hacky.\nWhile it may not be the optimal solution to the problem, it allows individuals,\nsuch as myself, who requires it, to install and evaluate Manila and Ceph on\nCentOS 9 without encountering issues with the default repository.\n\nChange-Id: Id83d8c9bc8fee4d67b4b68804f29b740ba444469\n""}, {'number': 2, 'created': '2023-05-10 12:27:38.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/21b4f943115a9289a6ecc101b563cc799df0419a', 'message': ""Use a specific repository for CentOS stream 9\n\nThis patch enables the installation of Ceph on CentOS Stream 9. I've attempted\nto keep it as straightforward as possible, although a little hacky.\nWhile it may not be the optimal solution to the problem, it allows individuals,such as myself, who requires it, to install and evaluate Manila and Ceph on CentOS 9 without encountering issues with the default repository.\n\nChange-Id: Id83d8c9bc8fee4d67b4b68804f29b740ba444469\n""}]",5,882821,21b4f943115a9289a6ecc101b563cc799df0419a,9,2,2,16207,,,0,"Use a specific repository for CentOS stream 9

This patch enables the installation of Ceph on CentOS Stream 9. I've attempted
to keep it as straightforward as possible, although a little hacky.
While it may not be the optimal solution to the problem, it allows individuals,such as myself, who requires it, to install and evaluate Manila and Ceph on CentOS 9 without encountering issues with the default repository.

Change-Id: Id83d8c9bc8fee4d67b4b68804f29b740ba444469
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/21/882821/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,ace9e40994e237c8e8216c03d6d7bddfacafe865,ceph_centos9_repo,"function dnf_add_repository_ceph_centos_stream { local ceph_release=$1 local package_release=$2 cat > ceph.repo <<EOF [ceph] name=Ceph packages for CentOS Stream baseurl=https://buildlogs.centos.org/centos/$package_release/storage/\$basearch/ceph-$ceph_release/ gpgcheck=0 enabled=1 EOF sudo dnf config-manager --add-repo ceph.repo } elif [[ ""$os_VENDOR"" =~ CentOSStream ]] && [[ ""$os_RELEASE"" =~ 9 ]]; then dnf_add_repository_ceph_centos_stream ""${CEPH_RELEASE}"" ""${os_RELEASE}-stream""",,16,0
openstack%2Fkeystonemiddleware~stable%2Fvictoria~Ifc4b2fa0e8f81b02a6a91fe4a9becaa1b40a9905,openstack/keystonemiddleware,stable/victoria,Ifc4b2fa0e8f81b02a6a91fe4a9becaa1b40a9905,Fix several CI errors,ABANDONED,2023-05-31 13:22:26.000000000,2023-05-31 13:23:23.000000000,,[],"[{'number': 1, 'created': '2023-05-31 13:22:26.000000000', 'files': ['keystonemiddleware/ec2_token.py', 'keystonemiddleware/tests/unit/test_ec2_token_middleware.py', '.zuul.yaml', 'keystonemiddleware/s3_token.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/dd4cd15fc7e3d2ddf79266b8de153aa730c0f4bf', 'message': ""Fix several CI errors\n\nAdd timeout for requests. Bandit emits errors for request methods\nwithout the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\nAdded timeout parameters and config options to set timeout.\n\nFix mocks in EC2 token tests\n\nMake openstack-tox-lower-constraints non-voting\nThis test is non-voting in Wallaby and was removed from Xena onwards.\nCurrently is failing for all backports.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\nChange-Id: Ifc4b2fa0e8f81b02a6a91fe4a9becaa1b40a9905\n""}]",0,884884,dd4cd15fc7e3d2ddf79266b8de153aa730c0f4bf,2,0,1,34275,,,0,"Fix several CI errors

Add timeout for requests. Bandit emits errors for request methods
without the timeout parameter.
It's better to follow the instruction to avoid hanging.
Added timeout parameters and config options to set timeout.

Fix mocks in EC2 token tests

Make openstack-tox-lower-constraints non-voting
This test is non-voting in Wallaby and was removed from Xena onwards.
Currently is failing for all backports.

[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html

Change-Id: Ifc4b2fa0e8f81b02a6a91fe4a9becaa1b40a9905
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/84/884884/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/ec2_token.py', 'keystonemiddleware/tests/unit/test_ec2_token_middleware.py', '.zuul.yaml', 'keystonemiddleware/s3_token.py']",4,dd4cd15fc7e3d2ddf79266b8de153aa730c0f4bf,fix-pep8-victoria,"from oslo_config import cfgs3_opts = [ cfg.IntOpt('timeout', default=60, help='Timeout to obtain token.'), ] CONF = cfg.CONF CONF.register_opts(s3_opts, group='s3_token') verify=self._verify, timeout=CONF.s3_token.timeout)", verify=self._verify),35,17
openstack%2Fkolla~stable%2F2023.1~I3a23670f85336344d8aebaded74dd65871837b82,openstack/kolla,stable/2023.1,I3a23670f85336344d8aebaded74dd65871837b82,rabbitmq: pin to 3.11.16,MERGED,2023-05-31 10:02:41.000000000,2023-05-31 13:23:17.000000000,2023-05-31 13:22:17.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-31 10:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/844408ba76fc2a2f623e4a7b3413bc88fd555dc8', 'message': 'rabbitmq: pin to 3.11.16\n\nSeems rabbitmq node drain got broken in 3.11.17\n\nRelated-Bug: https://github.com/rabbitmq/rabbitmq-server/issues/8414\n\nChange-Id: I3a23670f85336344d8aebaded74dd65871837b82\n(cherry picked from commit 600ed4f149a1cf542f54d7fc5005030f53c69a83)\n'}, {'number': 2, 'created': '2023-05-31 10:12:36.000000000', 'files': ['docker/base/apt_preferences.ubuntu', 'docker/base/apt_preferences.debian', 'docker/rabbitmq/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/10be550bc562a6e4f11d4740a18cb89ad88dbcf2', 'message': 'rabbitmq: pin to 3.11.16\n\nSeems rabbitmq node drain got broken in 3.11.17\n\nRelated-Bug: https://github.com/rabbitmq/rabbitmq-server/discussions/8415\n\nChange-Id: I3a23670f85336344d8aebaded74dd65871837b82\n(cherry picked from commit 600ed4f149a1cf542f54d7fc5005030f53c69a83)\n'}]",0,884815,10be550bc562a6e4f11d4740a18cb89ad88dbcf2,11,4,2,22629,,,0,"rabbitmq: pin to 3.11.16

Seems rabbitmq node drain got broken in 3.11.17

Related-Bug: https://github.com/rabbitmq/rabbitmq-server/discussions/8415

Change-Id: I3a23670f85336344d8aebaded74dd65871837b82
(cherry picked from commit 600ed4f149a1cf542f54d7fc5005030f53c69a83)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/15/884815/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/apt_preferences.ubuntu', 'docker/base/apt_preferences.debian', 'docker/rabbitmq/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2']",4,844408ba76fc2a2f623e4a7b3413bc88fd555dc8,, 'rabbitmq-server-3.11.16', 'rabbitmq-server-3.11.*',4,4
openstack%2Fcharm-octavia~stable%2Fyoga~Icb903a04fadcb0236a8951c77f9918f97c6193ea,openstack/charm-octavia,stable/yoga,Icb903a04fadcb0236a8951c77f9918f97c6193ea,"Drop ""voting: false"" from CI jobs.",MERGED,2023-03-22 13:59:59.000000000,2023-05-31 13:01:39.000000000,2023-05-31 13:01:39.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-22 13:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/c9559a109f820ec7da526db926e2cce3cef6d383', 'message': 'Drop ""voting: false"" from CI jobs.\n\nAlso pin charm-tools<3.0.0\n\nChange-Id: Icb903a04fadcb0236a8951c77f9918f97c6193ea\n'}, {'number': 2, 'created': '2023-03-22 14:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/bf0bb92e7d2f3befa5ee28451d7b6b3c1c27c06a', 'message': 'Drop ""voting: false"" from CI jobs.\n\nAlso pin charm-tools<3.0.0 and add bindep.txt\n\nChange-Id: Icb903a04fadcb0236a8951c77f9918f97c6193ea\n'}, {'number': 3, 'created': '2023-05-30 13:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/17c56968758b3fca59c0d6280f1d02b4bae8db5d', 'message': 'Drop ""voting: false"" from CI jobs.\n\nSummary of changes:\n- Pin charm-tools<3.0.0\n- Add bindep.txt\n- Add jammy to the list of images to sync in gss\n\nChange-Id: Icb903a04fadcb0236a8951c77f9918f97c6193ea\n'}, {'number': 4, 'created': '2023-05-30 14:03:44.000000000', 'files': ['osci.yaml', 'src/tests/bundles/jammy-yoga-ha-ovn.yaml', 'requirements.txt', 'bindep.txt', 'src/tests/bundles/jammy-yoga-ha.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/eebad7c541c2efda1f5e0c51b1980373c9dc6b71', 'message': 'Drop ""voting: false"" from CI jobs.\n\nSummary of changes:\n- Pin charm-tools<3.0.0\n- Add bindep.txt\n- Add jammy to the list of images to sync in gss\n\nChange-Id: Icb903a04fadcb0236a8951c77f9918f97c6193ea\n'}]",12,878225,eebad7c541c2efda1f5e0c51b1980373c9dc6b71,40,4,4,2424,,,0,"Drop ""voting: false"" from CI jobs.

Summary of changes:
- Pin charm-tools<3.0.0
- Add bindep.txt
- Add jammy to the list of images to sync in gss

Change-Id: Icb903a04fadcb0236a8951c77f9918f97c6193ea
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/25/878225/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'requirements.txt', 'tox.ini']",3,c9559a109f820ec7da526db926e2cce3cef6d383,voting-jobs, charm-tools<3.0.0, charm-tools==2.8.3,6,11
openstack%2Fmanila~master~Ia411433c69cb4f4fab7f43e73c438cd5e2ebaa1a,openstack/manila,master,Ia411433c69cb4f4fab7f43e73c438cd5e2ebaa1a,"db: Migrate ""share"" APIs to enginefacade",NEW,2023-04-12 16:49:20.000000000,2023-05-31 12:51:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-04-12 16:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/31f62272b59c129d6c12444a15eef718668f6f65', 'message': 'db: Migrate ""share"" APIs to enginefacade\n\nWe rename no less than three APIs here for consistency purposes:\n\n  get_shares_in_recycle_bin_by_share_server\n  -> share_get_all_soft_deleted\n\n  get_shares_in_recycle_bin_by_network\n  -> share_get_all_soft_deleted_by_network\n\n  get_all_expired_shares\n  -> share_get_all_expired\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ia411433c69cb4f4fab7f43e73c438cd5e2ebaa1a\n'}, {'number': 2, 'created': '2023-05-31 10:23:00.000000000', 'files': ['manila/db/api.py', 'manila/tests/share/test_api.py', 'manila/share/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/share/manager.py', 'manila/tests/share/test_manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/493fb60e2ea46999de02048b625fd3b7e012632e', 'message': 'db: Migrate ""share"" APIs to enginefacade\n\nWe rename no less than three APIs here for consistency purposes:\n\n  get_shares_in_recycle_bin_by_share_server\n  -> share_get_all_soft_deleted\n\n  get_shares_in_recycle_bin_by_network\n  -> share_get_all_soft_deleted_by_network\n\n  get_all_expired_shares\n  -> share_get_all_expired\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ia411433c69cb4f4fab7f43e73c438cd5e2ebaa1a\n'}]",0,880204,493fb60e2ea46999de02048b625fd3b7e012632e,10,1,2,15334,,,0,"db: Migrate ""share"" APIs to enginefacade

We rename no less than three APIs here for consistency purposes:

  get_shares_in_recycle_bin_by_share_server
  -> share_get_all_soft_deleted

  get_shares_in_recycle_bin_by_network
  -> share_get_all_soft_deleted_by_network

  get_all_expired_shares
  -> share_get_all_expired

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Ia411433c69cb4f4fab7f43e73c438cd5e2ebaa1a
",git fetch https://review.opendev.org/openstack/manila refs/changes/04/880204/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/api.py', 'manila/tests/share/test_api.py', 'manila/share/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/share/manager.py', 'manila/tests/share/test_manager.py']",7,31f62272b59c129d6c12444a15eef718668f6f65,sqlalchemy-20," self.mock_object(db, 'share_get_all_expired', db.share_get_all_expired.assert_called_once_with(self.context)"," self.mock_object(db, 'get_all_expired_shares', db.get_all_expired_shares.assert_called_once_with(self.context)",112,96
openstack%2Fcharm-cinder-k8s~main~If19f7d46df11013efdb39905ee70119d6b74784c,openstack/charm-cinder-k8s,main,If19f7d46df11013efdb39905ee70119d6b74784c,Change database name to cinder,MERGED,2023-05-31 09:23:56.000000000,2023-05-31 12:47:11.000000000,2023-05-31 12:14:52.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}, {'_account_id': 35761}]","[{'number': 1, 'created': '2023-05-31 09:23:56.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/be03fc3bf7564dfae8ac3c0a1bf884ec2dfa14f5', 'message': 'Change database name to cinder\n\nCurrently the database name is same as\nservice name which is cinder_api. However\nthe database name is cinder for cinder-volume\nservice in cinder-ceph charm. Need to have the\nsame database name for all the cinder services.\nThe database name is changed to cinder.\n\nChange-Id: If19f7d46df11013efdb39905ee70119d6b74784c\n'}]",1,884851,be03fc3bf7564dfae8ac3c0a1bf884ec2dfa14f5,10,3,1,10366,,,0,"Change database name to cinder

Currently the database name is same as
service name which is cinder_api. However
the database name is cinder for cinder-volume
service in cinder-ceph charm. Need to have the
same database name for all the cinder services.
The database name is changed to cinder.

Change-Id: If19f7d46df11013efdb39905ee70119d6b74784c
",git fetch https://review.opendev.org/openstack/charm-cinder-k8s refs/changes/51/884851/1 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,be03fc3bf7564dfae8ac3c0a1bf884ec2dfa14f5,database-name," Mapping, @property def databases(self) -> Mapping[str, str]: """"""Provide database name for cinder services."""""" return {""database"": ""cinder""} ",,6,0
openstack%2Fkolla-ansible~master~I544500a0637c795f0308e49fbbcbe6fccf172aa1,openstack/kolla-ansible,master,I544500a0637c795f0308e49fbbcbe6fccf172aa1,init-runonce: update CirrOS to 0.6.2,NEW,2023-05-31 09:11:26.000000000,2023-05-31 12:45:27.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 32553}, {'_account_id': 35264}]","[{'number': 1, 'created': '2023-05-31 09:11:26.000000000', 'files': ['tools/init-runonce'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/938ab512bbdd8fb1ffc046e96b198ffabd628a30', 'message': 'init-runonce: update CirrOS to 0.6.2\n\nChange-Id: I544500a0637c795f0308e49fbbcbe6fccf172aa1\n'}]",2,884849,938ab512bbdd8fb1ffc046e96b198ffabd628a30,8,4,1,24072,,,0,"init-runonce: update CirrOS to 0.6.2

Change-Id: I544500a0637c795f0308e49fbbcbe6fccf172aa1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/884849/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/init-runonce'],1,938ab512bbdd8fb1ffc046e96b198ffabd628a30,,CIRROS_RELEASE=${CIRROS_RELEASE:-0.6.2},CIRROS_RELEASE=${CIRROS_RELEASE:-0.6.1},1,1
openstack%2Fneutron~master~Id1dcf338bf04e6eef73cc447698ec6d2100abd96,openstack/neutron,master,Id1dcf338bf04e6eef73cc447698ec6d2100abd96,[sqlalchemy-20] Open a connection to execute a command,MERGED,2023-05-18 14:59:00.000000000,2023-05-31 12:42:16.000000000,2023-05-31 12:39:58.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 34271}]","[{'number': 1, 'created': '2023-05-18 14:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e29c6e1e3ce3e1dafd404e2f3d7ad96abd54c66', 'message': '[sqlalchemy-20] Open a connection to execute a command\n\n``Engine`` class no longer inherits from ``Connectable``. In order to\nexecute a SQL command, it is needed to start a connection and then\nbeing a transaction. At this point, it is possible to execute a\ncommand from the connection object.\n\nCloses-Bug: #2020114\n\nChange-Id: Id1dcf338bf04e6eef73cc447698ec6d2100abd96\n'}, {'number': 2, 'created': '2023-05-18 15:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/191bf5ea6ac37d42a9451bdd7cbbd9622926b006', 'message': '[sqlalchemy-20] Open a connection to execute a command\n\n``Engine`` class no longer inherits from ``Connectable``. In order to\nexecute a SQL command, it is needed to start a connection and then\nbeing a transaction. At this point, it is possible to execute a\ncommand from the connection object.\n\nCloses-Bug: #2020114\n\nChange-Id: Id1dcf338bf04e6eef73cc447698ec6d2100abd96\n'}, {'number': 3, 'created': '2023-05-24 14:43:32.000000000', 'files': ['neutron/tests/functional/db/migrations/test_c3e9d13c4367_add_binding_index_to_.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b67da59c6d8843bab7bee87621990e0340ac9ec', 'message': '[sqlalchemy-20] Open a connection to execute a command\n\n``Engine`` class no longer inherits from ``Connectable``. In order to\nexecute a SQL command, it is needed to start a connection and then\nbeing a transaction. At this point, it is possible to execute a\ncommand from the connection object.\n\nCloses-Bug: #2020114\n\nChange-Id: Id1dcf338bf04e6eef73cc447698ec6d2100abd96\n'}]",4,883521,0b67da59c6d8843bab7bee87621990e0340ac9ec,20,8,3,16688,,,0,"[sqlalchemy-20] Open a connection to execute a command

``Engine`` class no longer inherits from ``Connectable``. In order to
execute a SQL command, it is needed to start a connection and then
being a transaction. At this point, it is possible to execute a
command from the connection object.

Closes-Bug: #2020114

Change-Id: Id1dcf338bf04e6eef73cc447698ec6d2100abd96
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/883521/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/db/migrations/test_c3e9d13c4367_add_binding_index_to_.py'],1,4e29c6e1e3ce3e1dafd404e2f3d7ad96abd54c66,bug/2020114,"from alembic import op with self.engine.connect() as conn, conn.begin(): stan = db_utils.get_table(self.engine, 'standardattributes') # find next available id taking into account existing records rec_ids = [r.id for r in conn.execute(stan.select()).fetchall()] next_id = max([0] + rec_ids) + 1 conn.execute(stan.insert().values({'id': next_id, 'resource_type': o_type})) with self.engine.connect() as conn, conn.begin(): conn.execute(otable.insert().values(values)) with self.engine.connect() as conn, conn.begin(): rows = conn.execute(bindings_table.select()).fetchall() networks_to_bindings = collections.defaultdict(list) for network_id, agent_id, binding_index in rows: networks_to_bindings[network_id].append(binding_index) for binding_indices in networks_to_bindings.values(): self.assertEqual(list(range(1, 3)), sorted(binding_indices))"," stan = db_utils.get_table(self.engine, 'standardattributes') # find next available id taking into account existing records rec_ids = [r.id for r in self.engine.execute(stan.select()).fetchall()] next_id = max([0] + rec_ids) + 1 self.engine.execute(stan.insert().values({'id': next_id, 'resource_type': o_type})) self.engine.execute(otable.insert().values(values)) rows = engine.execute(bindings_table.select()).fetchall() networks_to_bindings = collections.defaultdict(list) for network_id, agent_id, binding_index in rows: networks_to_bindings[network_id].append(binding_index) for binding_indices in networks_to_bindings.values(): self.assertEqual(list(range(1, 3)), sorted(binding_indices))",17,13
openstack%2Fansible-role-collect-logs~master~Id9193a387fa350e28703b6e45cc4d2921d486feb,openstack/ansible-role-collect-logs,master,Id9193a387fa350e28703b6e45cc4d2921d486feb,Also collect multi-cell/multi-stack artifacts,NEW,2023-05-19 11:44:10.000000000,2023-05-31 12:41:25.000000000,,"[{'_account_id': 7144}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 31033}]","[{'number': 1, 'created': '2023-05-19 11:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/e0118fb94c5984867c866f30c529bbb9f522af8a', 'message': 'Also collect multi-cell/multi-stack artifacts\n\nChange-Id: Id9193a387fa350e28703b6e45cc4d2921d486feb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2023-05-26 12:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/b690c90e6a2c7f13079da5e60cc39f7489634618', 'message': 'Also collect multi-cell/multi-stack artifacts\n\nChange-Id: Id9193a387fa350e28703b6e45cc4d2921d486feb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2023-05-29 11:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/8e410102abbdfd3dc1b1bc954d8239d14fd02e44', 'message': 'Also collect multi-cell/multi-stack artifacts\n\nChange-Id: Id9193a387fa350e28703b6e45cc4d2921d486feb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2023-05-31 12:08:19.000000000', 'files': ['roles/collect_logs/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/55bb0672c8af914571e4ad450c360be952b4e3bb', 'message': 'Also collect multi-cell/multi-stack artifacts\n\nChange-Id: Id9193a387fa350e28703b6e45cc4d2921d486feb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,883654,55bb0672c8af914571e4ad450c360be952b4e3bb,8,4,4,6926,,,0,"Also collect multi-cell/multi-stack artifacts

Change-Id: Id9193a387fa350e28703b6e45cc4d2921d486feb
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/54/883654/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/collect_logs/defaults/main.yml'],1,e0118fb94c5984867c866f30c529bbb9f522af8a,, - /home/*/cell1/ - /home/*/tripleo-config/,,2,0
openstack%2Fopenstack-tempest-skiplist~master~I656d7075fa68453e99ea826190a6a72a5fea3e45,openstack/openstack-tempest-skiplist,master,I656d7075fa68453e99ea826190a6a72a5fea3e45,Skip TestObjectStorageBasicOps on rhos-17.1,MERGED,2023-05-31 11:33:40.000000000,2023-05-31 12:31:04.000000000,2023-05-31 12:29:59.000000000,"[{'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 30742}]","[{'number': 1, 'created': '2023-05-31 11:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/38356ca0c52a1eabcafffb28b9735d56ca2d7d80', 'message': 'Skip tempest.scenario.test_object_storage_basic_ops.TestObjectStorageBasicOps\n\nChange-Id: I656d7075fa68453e99ea826190a6a72a5fea3e45\n'}, {'number': 2, 'created': '2023-05-31 11:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/96786875154fba43ee488988eaaa0c5cc49c40c7', 'message': 'Skip tempest.scenario.test_object_storage_basic_ops.TestObjectStorageBasicOps\n\nChange-Id: I656d7075fa68453e99ea826190a6a72a5fea3e45\n'}, {'number': 3, 'created': '2023-05-31 12:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/391720a29da24ba05058f243050880a11ec48167', 'message': 'Skip tempest.scenario.test_object_storage_basic_ops.TestObjectStorageBasicOps\n\nChange-Id: I656d7075fa68453e99ea826190a6a72a5fea3e45\n'}, {'number': 4, 'created': '2023-05-31 12:10:15.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/8f903ce7fb08a64b313dca8739e11952064ad66e', 'message': 'Skip TestObjectStorageBasicOps on rhos-17.1\n\nRelated-Bug: #BZ2211370\nChange-Id: I656d7075fa68453e99ea826190a6a72a5fea3e45\n'}]",6,884880,8f903ce7fb08a64b313dca8739e11952064ad66e,17,5,4,30742,,,0,"Skip TestObjectStorageBasicOps on rhos-17.1

Related-Bug: #BZ2211370
Change-Id: I656d7075fa68453e99ea826190a6a72a5fea3e45
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/80/884880/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,38356ca0c52a1eabcafffb28b9735d56ca2d7d80,skip_object_Storage, - test: 'tempest.scenario.test_object_storage_basic_ops.TestObjectStorageBasicOps' deployment: - 'overcloud' releases: - name: 'wallaby' reason: 'compatibility issue with ceph6' lp: 'https://bugzilla.redhat.com/show_bug.cgi?id=2211370' jobs:,,8,0
openstack%2Fmanila~master~Idf121f6ed8dd57804663b8aa19f8b4547767e1b1,openstack/manila,master,Idf121f6ed8dd57804663b8aa19f8b4547767e1b1,"db: Migrate ""transfer"" APIs to enginefacade",NEW,2023-04-12 16:49:20.000000000,2023-05-31 12:24:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-04-12 16:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/49710a0e0cef6061a1129b9a460445765aaec9f2', 'message': 'db: Migrate ""transfer"" APIs to enginefacade\n\nWe rename one API, as \'get_all_expired_transfers\' becomes\n\'transfer_get_all_expired\'.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Idf121f6ed8dd57804663b8aa19f8b4547767e1b1\n'}, {'number': 2, 'created': '2023-05-31 10:21:59.000000000', 'files': ['manila/transfer/api.py', 'manila/db/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/share/manager.py', 'manila/tests/share/test_manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/9936de78636a6876e0858c11dc9e3c0ca8c4d53f', 'message': 'db: Migrate ""transfer"" APIs to enginefacade\n\nWe rename one API, as \'get_all_expired_transfers\' becomes\n\'transfer_get_all_expired\'.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Idf121f6ed8dd57804663b8aa19f8b4547767e1b1\n'}]",0,880203,9936de78636a6876e0858c11dc9e3c0ca8c4d53f,10,1,2,15334,,,0,"db: Migrate ""transfer"" APIs to enginefacade

We rename one API, as 'get_all_expired_transfers' becomes
'transfer_get_all_expired'.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Idf121f6ed8dd57804663b8aa19f8b4547767e1b1
",git fetch https://review.opendev.org/openstack/manila refs/changes/03/880203/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/api.py', 'manila/transfer/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/share/manager.py', 'manila/tests/share/test_manager.py']",6,49710a0e0cef6061a1129b9a460445765aaec9f2,sqlalchemy-20," self.mock_object(db, 'transfer_get_all_expired', db.transfer_get_all_expired.assert_called_once_with(self.context)"," self.mock_object(db, 'get_all_expired_transfers', db.get_all_expired_transfers.assert_called_once_with(self.context)",209,162
openstack%2Fkeystonemiddleware~stable%2Fussuri~Ice8e34440a5fe1baa370646ed70b5e085c4af70e,openstack/keystonemiddleware,stable/ussuri,Ice8e34440a5fe1baa370646ed70b5e085c4af70e,Remove cache invalidation when using expired token,ABANDONED,2023-05-31 02:08:49.000000000,2023-05-31 12:22:48.000000000,,[],"[{'number': 1, 'created': '2023-05-31 02:08:49.000000000', 'files': ['keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/auth_token/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/1b5daa9a4d13b7ce28c6fc199488791e9f8e14c4', 'message': ""Remove cache invalidation when using expired token\n\nThis can create a race condition for long running services that reuse\ntheir token (eg. Kubernetes Cinder CSI plugin) in this case for\nexample:\n\n1 [user] Asks nova to attach a volume to a server\n2 ...the user's token expires\n3 [user] Asks cinder if the volume has been attached\n4 [nova] Asks cinder to attach the volume\n\nIn step 3 the token is marked as invalid in the cache and step 4 fails\neven if allow_expired is true\n\nCloses-Bug: #1987355\nChange-Id: Ice8e34440a5fe1baa370646ed70b5e085c4af70e\n(cherry picked from commit e05466c5f439cd05482f109e6eb97a50ba156698)\n""}]",0,884739,1b5daa9a4d13b7ce28c6fc199488791e9f8e14c4,2,0,1,34275,,,0,"Remove cache invalidation when using expired token

This can create a race condition for long running services that reuse
their token (eg. Kubernetes Cinder CSI plugin) in this case for
example:

1 [user] Asks nova to attach a volume to a server
2 ...the user's token expires
3 [user] Asks cinder if the volume has been attached
4 [nova] Asks cinder to attach the volume

In step 3 the token is marked as invalid in the cache and step 4 fails
even if allow_expired is true

Closes-Bug: #1987355
Change-Id: Ice8e34440a5fe1baa370646ed70b5e085c4af70e
(cherry picked from commit e05466c5f439cd05482f109e6eb97a50ba156698)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/39/884739/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/auth_token/__init__.py']",2,1b5daa9a4d13b7ce28c6fc199488791e9f8e14c4,lp1987355-stable/ussuri,,"_CACHE_INVALID_INDICATOR = 'invalid' if cached == _CACHE_INVALID_INDICATOR: self.log.debug('Cached token is marked unauthorized') raise ksm_exceptions.InvalidToken() self._token_cache.set(token, _CACHE_INVALID_INDICATOR)",0,25
openstack%2Fkeystonemiddleware~stable%2Fussuri~Ice8e34440a5fe1baa370646ed70b5e085c4af70e,openstack/keystonemiddleware,stable/ussuri,Ice8e34440a5fe1baa370646ed70b5e085c4af70e,Remove cache invalidation when using expired token,ABANDONED,2023-05-31 02:10:08.000000000,2023-05-31 12:22:06.000000000,,[],"[{'number': 1, 'created': '2023-05-31 02:10:08.000000000', 'files': ['keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/auth_token/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/70ee8ba97d318c37057d87d043d4567a4466178b', 'message': ""Remove cache invalidation when using expired token\n\nThis can create a race condition for long running services that reuse\ntheir token (eg. Kubernetes Cinder CSI plugin) in this case for\nexample:\n\n1 [user] Asks nova to attach a volume to a server\n2 ...the user's token expires\n3 [user] Asks cinder if the volume has been attached\n4 [nova] Asks cinder to attach the volume\n\nIn step 3 the token is marked as invalid in the cache and step 4 fails\neven if allow_expired is true\n\nCloses-Bug: #1987355\nChange-Id: Ice8e34440a5fe1baa370646ed70b5e085c4af70e\n(cherry picked from commit e05466c5f439cd05482f109e6eb97a50ba156698)\n""}]",0,884740,70ee8ba97d318c37057d87d043d4567a4466178b,2,0,1,34275,,,0,"Remove cache invalidation when using expired token

This can create a race condition for long running services that reuse
their token (eg. Kubernetes Cinder CSI plugin) in this case for
example:

1 [user] Asks nova to attach a volume to a server
2 ...the user's token expires
3 [user] Asks cinder if the volume has been attached
4 [nova] Asks cinder to attach the volume

In step 3 the token is marked as invalid in the cache and step 4 fails
even if allow_expired is true

Closes-Bug: #1987355
Change-Id: Ice8e34440a5fe1baa370646ed70b5e085c4af70e
(cherry picked from commit e05466c5f439cd05482f109e6eb97a50ba156698)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/40/884740/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/auth_token/__init__.py']",2,70ee8ba97d318c37057d87d043d4567a4466178b,lp1987355-stable/ussuri,,"_CACHE_INVALID_INDICATOR = 'invalid' if cached == _CACHE_INVALID_INDICATOR: self.log.debug('Cached token is marked unauthorized') raise ksm_exceptions.InvalidToken() self._token_cache.set(token, _CACHE_INVALID_INDICATOR)",0,25
openstack%2Fceilometer~master~I7358add1e45abe4a1288e51efa2f91d07c6acacd,openstack/ceilometer,master,I7358add1e45abe4a1288e51efa2f91d07c6acacd,Add logs to help identify when a polling task finishes,MERGED,2023-05-09 10:28:30.000000000,2023-05-31 12:18:13.000000000,2023-05-31 12:17:05.000000000,"[{'_account_id': 4264}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 32240}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-05-09 10:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ed231c1b24060274297b346a6f7d253d9e4cadd5', 'message': 'Add logs to help identify when a polling task finishes\n\nChange-Id: I7358add1e45abe4a1288e51efa2f91d07c6acacd\n'}, {'number': 2, 'created': '2023-05-09 10:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/89979fd2a7cc078678848ec0f716425c6213613e', 'message': 'Add logs to help identify when a polling task finishes\n\nDuring a troubleshooting session, we needed to discover the time\nthat it was taking for a polling task to finish. However, there\nwere no clear logs showing that. We could see when the task would\nstart, but not when it finished without errors. Therefore, we are\nsuggesting in this patch this small addition to the code base, which\ncan help operators to identify when a polling task has finished.\n\nWe added it in INFO log level because the message regarding the start\nof the polling is also in INFO. However, we can change it to DEBUG if\nthe community thinks that DEBUG log level is better in this context.\n\nChange-Id: I7358add1e45abe4a1288e51efa2f91d07c6acacd\n'}, {'number': 3, 'created': '2023-05-09 11:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/33c9728e988cfdb88740eda17bfcd100d3c0e8c6', 'message': 'Add logs to help identify when a polling task finishes\n\nDuring a troubleshooting session, we needed to discover the time\nthat it was taking for a polling task to finish. However, there\nwere no clear logs showing that. We could see when the task would\nstart, but not when it finished without errors. Therefore, we are\nsuggesting in this patch this small addition to the code base, which\ncan help operators to identify when a polling task has finished.\n\nWe added it in INFO log level because the message regarding the start\nof the polling is also in INFO. However, we can change it to DEBUG if\nthe community thinks that DEBUG log level is better in this context.\n\nChange-Id: I7358add1e45abe4a1288e51efa2f91d07c6acacd\n'}, {'number': 4, 'created': '2023-05-09 23:32:00.000000000', 'files': ['ceilometer/polling/manager.py', 'ceilometer/tests/unit/polling/test_manager.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b9c151bb2d0ae9f480e93436c7c2d9cc65dfbcd3', 'message': 'Add logs to help identify when a polling task finishes\n\nDuring a troubleshooting session, we needed to discover the time\nthat it was taking for a polling task to finish. However, there\nwere no clear logs showing that. We could see when the task would\nstart, but not when it finished without errors. Therefore, we are\nsuggesting in this patch this small addition to the code base, which\ncan help operators to identify when a polling task has finished.\n\nWe added it in INFO log level because the message regarding the start\nof the polling is also in INFO. However, we can change it to DEBUG if\nthe community thinks that DEBUG log level is better in this context.\n\nChange-Id: I7358add1e45abe4a1288e51efa2f91d07c6acacd\n'}]",3,882687,b9c151bb2d0ae9f480e93436c7c2d9cc65dfbcd3,21,5,4,28356,,,0,"Add logs to help identify when a polling task finishes

During a troubleshooting session, we needed to discover the time
that it was taking for a polling task to finish. However, there
were no clear logs showing that. We could see when the task would
start, but not when it finished without errors. Therefore, we are
suggesting in this patch this small addition to the code base, which
can help operators to identify when a polling task has finished.

We added it in INFO log level because the message regarding the start
of the polling is also in INFO. However, we can change it to DEBUG if
the community thinks that DEBUG log level is better in this context.

Change-Id: I7358add1e45abe4a1288e51efa2f91d07c6acacd
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/87/882687/2 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/polling/manager.py'],1,ed231c1b24060274297b346a6f7d253d9e4cadd5,add-log-finished-polling," LOG.info(""Finished polling pollster %(poll)s in the "" ""context of %(src)s"", dict(poll=pollster.name, src=source_name))",,3,0
openstack%2Fbifrost~master~Ie575a7cef074c4ec3925908c3c6f3958a87f2e1a,openstack/bifrost,master,Ie575a7cef074c4ec3925908c3c6f3958a87f2e1a,Set [inspector]require_managed_boot explicitly,MERGED,2023-03-15 12:19:34.000000000,2023-05-31 12:02:31.000000000,2023-05-31 12:01:27.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-03-15 12:19:34.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b435d4df4e42d53ccb6e35a2afbb825825263afa', 'message': ""Set [inspector]require_managed_boot explicitly\n\nIts value may change as we transition in-band inspection from\nironic-inspector to ironic only. Since bifrost has a standalone PXE\ninfrastructure, it's safe to set the value to False.\n\nChange-Id: Ie575a7cef074c4ec3925908c3c6f3958a87f2e1a\n""}]",6,877469,b435d4df4e42d53ccb6e35a2afbb825825263afa,24,4,1,10239,,,0,"Set [inspector]require_managed_boot explicitly

Its value may change as we transition in-band inspection from
ironic-inspector to ironic only. Since bifrost has a standalone PXE
infrastructure, it's safe to set the value to False.

Change-Id: Ie575a7cef074c4ec3925908c3c6f3958a87f2e1a
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/69/877469/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2'],1,b435d4df4e42d53ccb6e35a2afbb825825263afa,require-managed-boot,require_managed_boot = False,,1,0
openstack%2Fcharm-ceph-dashboard~master~Idf7c48c88d6b2d4743d9f5ae04709a77e83c7b10,openstack/charm-ceph-dashboard,master,Idf7c48c88d6b2d4743d9f5ae04709a77e83c7b10,Testing,ABANDONED,2023-05-31 09:30:49.000000000,2023-05-31 11:31:28.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 09:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/a3ca55bd106e2f47942c0d448cef23e530d40366', 'message': 'Testing\n\nChange-Id: Idf7c48c88d6b2d4743d9f5ae04709a77e83c7b10\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 2, 'created': '2023-05-31 10:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/6be2b3599bb1fd4b67c23cf01c5a149083741cbf', 'message': 'Testing\n\nChange-Id: Idf7c48c88d6b2d4743d9f5ae04709a77e83c7b10\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 3, 'created': '2023-05-31 10:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/c1ba2bad7308014b8e1224f8d9bb27542030530e', 'message': 'Testing\n\nChange-Id: Idf7c48c88d6b2d4743d9f5ae04709a77e83c7b10\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 4, 'created': '2023-05-31 10:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/8b041255fde97a6d82f96d07d9ac55e770789b29', 'message': 'Testing\n\nChange-Id: Idf7c48c88d6b2d4743d9f5ae04709a77e83c7b10\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 5, 'created': '2023-05-31 11:13:27.000000000', 'files': ['src/interface_peer.py', 'src/charm.py', 'metadata.yaml', 'unit_tests/test_ceph_dashboard_charm.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/0444856f4556b8da204cdafcebd3a77c81678623', 'message': 'Testing\n\nChange-Id: Idf7c48c88d6b2d4743d9f5ae04709a77e83c7b10\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}]",11,884852,0444856f4556b8da204cdafcebd3a77c81678623,12,2,5,34952,,,0,"Testing

Change-Id: Idf7c48c88d6b2d4743d9f5ae04709a77e83c7b10
Signed-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/52/884852/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/interface_peer.py', 'src/charm.py', 'metadata.yaml', 'unit_tests/test_ceph_dashboard_charm.py']",4,a3ca55bd106e2f47942c0d448cef23e530d40366,official,," call(mock_TLS_CERT_PATH, hostname='server1'), call(mock_TLS_KEY_PATH, hostname='server1'), call(mock_TLS_CERT_PATH, hostname='server1'), call(mock_TLS_KEY_PATH, hostname='server1'),",41,7
openstack%2Foctavia~master~I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831,openstack/octavia,master,I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831,DNM: Test CI with pytest running,NEW,2023-04-27 15:46:21.000000000,2023-05-31 11:14:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-04-27 15:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7347e4f3aa9d59c7014f98830641a7fbd97448a0', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}, {'number': 2, 'created': '2023-04-27 15:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c76ee7d0521fcf01d622ca71cd4cad02ed9bb102', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}, {'number': 3, 'created': '2023-04-27 16:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/def6d06d02d7ea4747c0b5a9ecb8ff788cb8a511', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}, {'number': 4, 'created': '2023-04-27 16:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f152e21e8b49a4922bd5604fbe29f76e7dbf6ff3', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}, {'number': 5, 'created': '2023-04-27 16:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cd475879265deba48bc285fb6a8672dcf4d1158f', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}, {'number': 6, 'created': '2023-04-28 08:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8b29663c4ca88e3c074bd95fcde33959bfe7afb9', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}, {'number': 7, 'created': '2023-04-28 08:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/674405063cb998c5c3a40c1547b12df6b1d09690', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}, {'number': 8, 'created': '2023-04-28 08:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ed03dffd3ac45ddc7bc2e9fb21f64a9d6ff799fa', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nRelated-Bug: #2017973\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}, {'number': 9, 'created': '2023-04-28 09:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/32ef91c2030e88fbce81aa472d230d5ae37b96c2', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nRelated-Bug: #2017973\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}, {'number': 10, 'created': '2023-05-03 16:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e9f9609f9515ba6313913bc4f7be9c7b1c56407f', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nRelated-Bug: #2017973\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}, {'number': 11, 'created': '2023-05-04 06:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/39ee13c98f6b24403085c9d3677accbef3e1ed15', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nRelated-Bug: #2017973\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}, {'number': 12, 'created': '2023-05-30 16:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9c41f2391ba61b8dd2ffab17585f4b1954e923a2', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nRelated-Bug: #2017973\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}, {'number': 13, 'created': '2023-05-30 16:53:33.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f66349fa1e031db626030508c7edfc819c7cb19e', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nDepends-On: I86e50b9d3070e757f1bba8b390c8b7557e41a325\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}]",2,881740,f66349fa1e031db626030508c7edfc819c7cb19e,28,2,13,34429,,,0,"DNM: Test CI with pytest running

I am not proposing to replace stestr in the CI (yet)!

Depends-On: I86e50b9d3070e757f1bba8b390c8b7557e41a325
Change-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831
",git fetch https://review.opendev.org/openstack/octavia refs/changes/40/881740/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,7347e4f3aa9d59c7014f98830641a7fbd97448a0,pytest-ci, - job: name: octavia-pytest-unit parent: base description: | Test only run: tox -e pytest-unit required-projects: - openstack/octavia - openstack/octavia-lib vars: amphora_os: ubuntu amphora_os_release: jammy - job: name: octavia-pytest-func parent: base description: | Test only run: tox -e pytest-func required-projects: - openstack/octavia - openstack/octavia-lib vars: amphora_os: ubuntu amphora_os_release: jammy,,103,70
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ib072e24c05c3d12278066e342797325ec6804f26,openstack/tripleo-heat-templates,stable/wallaby,Ib072e24c05c3d12278066e342797325ec6804f26,Allows remove redis bundle on upgrades,ABANDONED,2023-04-12 08:46:11.000000000,2023-05-31 11:13:00.000000000,,"[{'_account_id': 4264}, {'_account_id': 6816}, {'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 13177}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-04-12 08:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/924e5a647992a42db02219fd3e3dfef88e052880', 'message': 'Remove redis bundle on upgrades except when octavia is enabled\n\nChange-Id: Ib072e24c05c3d12278066e342797325ec6804f26\n'}, {'number': 2, 'created': '2023-04-12 08:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f7ef6c6be0447efa2e7b8c352853ba0d859bafc', 'message': 'Remove redis bundle on upgrades except when octavia is enabled\n\nChange-Id: Ib072e24c05c3d12278066e342797325ec6804f26\n'}, {'number': 3, 'created': '2023-04-12 15:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/27428faa7c58b699f1d78024e244b732d832b066', 'message': 'Allows remove redis bundle on upgrades\n\nRedis bunde wont be removed when the following\nservices are enabled:\n- Octavia\n- Designate\n- Legacy telemetry\n\nChange-Id: Ib072e24c05c3d12278066e342797325ec6804f26\n'}, {'number': 4, 'created': '2023-04-12 15:26:13.000000000', 'files': ['environments/enable-designate.yaml', 'environments/enable-legacy-telemetry.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'environments/services/octavia.yaml', 'environments/services/designate.yaml', 'environments/services-baremetal/octavia.yaml', 'environments/metrics/ceilometer-write-qdr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a76b9c09aaba498bed19f6268d3d6e168c7f26c', 'message': 'Allows remove redis bundle on upgrades\n\nRedis bunde wont be removed when the following\nservices are enabled:\n- Octavia\n- Designate\n- Legacy telemetry\n\nChange-Id: Ib072e24c05c3d12278066e342797325ec6804f26\n'}]",12,880134,8a76b9c09aaba498bed19f6268d3d6e168c7f26c,19,10,4,22954,,,0,"Allows remove redis bundle on upgrades

Redis bunde wont be removed when the following
services are enabled:
- Octavia
- Designate
- Legacy telemetry

Change-Id: Ib072e24c05c3d12278066e342797325ec6804f26
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/880134/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/redis-pacemaker-puppet.yaml', 'environments/services/octavia.yaml', 'environments/services-baremetal/octavia.yaml']",3,924e5a647992a42db02219fd3e3dfef88e052880,redis_removal, RemoveRedisBundleUpgrade: false,,15,0
openstack%2Fkolla-ansible~stable%2Fyoga~Iab87953c2aab5b3c49cf456cffeab7cc12f3b074,openstack/kolla-ansible,stable/yoga,Iab87953c2aab5b3c49cf456cffeab7cc12f3b074,Add documentation for migrating from CS8 to RL9,ABANDONED,2023-05-31 10:55:30.000000000,2023-05-31 10:58:50.000000000,,[],"[{'number': 1, 'created': '2023-05-31 10:55:30.000000000', 'files': ['doc/source/user/rocky-linux-9.rst', 'doc/source/user/support-matrix.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0d4fe246bee459c1155a254da9e39d1b7f570785', 'message': 'Add documentation for migrating from CS8 to RL9\n\nChange-Id: I56490bb6db0d60d7f33d30c59d8773ad582c7b37\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/868929\nChange-Id: Iab87953c2aab5b3c49cf456cffeab7cc12f3b074\n'}]",0,884873,0d4fe246bee459c1155a254da9e39d1b7f570785,2,0,1,35264,,,0,"Add documentation for migrating from CS8 to RL9

Change-Id: I56490bb6db0d60d7f33d30c59d8773ad582c7b37

Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/868929
Change-Id: Iab87953c2aab5b3c49cf456cffeab7cc12f3b074
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/73/884873/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/rocky-linux-9.rst', 'doc/source/user/support-matrix.rst']",2,0d4fe246bee459c1155a254da9e39d1b7f570785,cs8-rl9-migration-docs,".. note:: CentOS Linux Stream 8 will no longer be supported as a host OS from the Zed release onwards. The Yoga supports both CentOS Stream 8 and Rocky Linux 9, and provides a route for migration. * Rocky Linux 9* ``rocky``.. FIXME(Alex-Welsh): At the time of writing, the Kolla support matrix is out of date.",,191,0
openstack%2Fopenstack-ansible~master~Ib76379c5fdc9318e622d7d8596e4a79c56ab0d8b,openstack/openstack-ansible,master,Ib76379c5fdc9318e622d7d8596e4a79c56ab0d8b,Bump SHAs for Antelope RC2,MERGED,2023-05-30 17:48:06.000000000,2023-05-31 10:35:06.000000000,2023-05-31 10:33:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-30 17:48:06.000000000', 'files': ['inventory/group_vars/cinder_all/source_git.yml', 'inventory/group_vars/ironic_all/source_git.yml', 'inventory/group_vars/swift_all/source_git.yml', 'inventory/group_vars/neutron_all/source_git.yml', 'inventory/group_vars/horizon_all/source_git.yml', 'inventory/group_vars/octavia_all/source_git.yml', 'ansible-role-requirements.yml', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/29709994f4863d2b97d54419c3d68ec0bc2d8e92', 'message': 'Bump SHAs for Antelope RC2\n\nChange-Id: Ib76379c5fdc9318e622d7d8596e4a79c56ab0d8b\n'}]",0,884760,29709994f4863d2b97d54419c3d68ec0bc2d8e92,8,3,1,28619,,,0,"Bump SHAs for Antelope RC2

Change-Id: Ib76379c5fdc9318e622d7d8596e4a79c56ab0d8b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/60/884760/1 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/cinder_all/source_git.yml', 'inventory/group_vars/ironic_all/source_git.yml', 'inventory/group_vars/swift_all/source_git.yml', 'inventory/group_vars/neutron_all/source_git.yml', 'inventory/group_vars/horizon_all/source_git.yml', 'inventory/group_vars/octavia_all/source_git.yml', 'ansible-role-requirements.yml', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml']",8,29709994f4863d2b97d54419c3d68ec0bc2d8e92,bump_osa,--- deprecations: - | RabbitMQ packages are no longer provided by PackageCloud due to the upstream repository being no longer available after 2023-05-28. Installations will now utilize a community mirror of CloudSmith repositories for rabbitmq and erlang. https://github.com/rabbitmq/rabbitmq-server/discussions/8386 fixes: - | https://bugs.launchpad.net/openstack-ansible/+bug/2021410 ,,29,18
openstack%2Fcharm-mysql-innodb-cluster~master~I7fda0bac7486e916514b31af583308c4c14673f6,openstack/charm-mysql-innodb-cluster,master,I7fda0bac7486e916514b31af583308c4c14673f6,Implement restore_quorum action using force_quorum_using_partition_of,NEW,2022-03-24 19:32:11.000000000,2023-05-31 10:27:39.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-24 19:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/3e213dc041eebfff7c8caaacdc8aee12ace61158', 'message': 'Implement restore_quorum action using force_quorum_using_partition_of\n\nA network partition coupled causes the cluster to lost quorum. In rare\ncases, after the network reestablishment, the cluster cant fix itself\nand stays blocked.\nThis change implements a new action to restore cluster loss of quorum\nby using force_quorum_using_partition_of. This has to be used with care\nand just in extreme conditions.\n\nCloses-Bug: #1917332\nChange-Id: I7fda0bac7486e916514b31af583308c4c14673f6\n'}, {'number': 2, 'created': '2022-03-25 11:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/12413abb6f37fc5685d0654698a80c6c33a31600', 'message': 'Implement restore_quorum action using force_quorum_using_partition_of\n\nA network partition causes the cluster to lost quorum. In rare\ncases, after the network reestablishment, the cluster cant fix itself\nand stays blocked.\nThis change implements a new action to restore cluster loss of quorum\nby using force_quorum_using_partition_of. This has to be used with care\nand just in extreme conditions.\n\nCloses-Bug: #1917332\nChange-Id: I7fda0bac7486e916514b31af583308c4c14673f6\n'}, {'number': 3, 'created': '2022-03-28 12:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/82968c3ea6d9e4b7465b9bfd532a2a43918a9028', 'message': 'Implement restore_quorum action using force_quorum_using_partition_of\n\nA network partition coupled causes the cluster to lost quorum. In rare\ncases, after the network reestablishment, the cluster cant fix itself\nand stays blocked.\nThis change implements a new action to restore cluster loss of quorum\nby using force_quorum_using_partition_of. This has to be used with care\nand just in extreme conditions.\n\nCloses-Bug: #1917332\nChange-Id: I7fda0bac7486e916514b31af583308c4c14673f6\n'}, {'number': 4, 'created': '2023-05-31 10:04:30.000000000', 'files': ['src/README.md', 'src/actions.yaml', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/actions/actions.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/ecad1dde228002afc994823bb2088a116c9fc152', 'message': 'Implement restore_quorum action using force_quorum_using_partition_of\n\nA network partition coupled causes the cluster to lost quorum. In rare\ncases, after the network reestablishment, the cluster cant fix itself\nand stays blocked.\nThis change implements a new action to restore cluster loss of quorum\nby using force_quorum_using_partition_of. This has to be used with care\nand just in extreme conditions.\n\nCloses-Bug: #1917332\nChange-Id: I7fda0bac7486e916514b31af583308c4c14673f6\n'}]",13,835117,ecad1dde228002afc994823bb2088a116c9fc152,19,2,4,34531,,,0,"Implement restore_quorum action using force_quorum_using_partition_of

A network partition coupled causes the cluster to lost quorum. In rare
cases, after the network reestablishment, the cluster cant fix itself
and stays blocked.
This change implements a new action to restore cluster loss of quorum
by using force_quorum_using_partition_of. This has to be used with care
and just in extreme conditions.

Closes-Bug: #1917332
Change-Id: I7fda0bac7486e916514b31af583308c4c14673f6
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/17/835117/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/README.md', 'src/actions.yaml', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/actions/actions.py']",5,3e213dc041eebfff7c8caaacdc8aee12ace61158,bug/1917332," the cluster. The action parameter, address, is the address of the instancedef restore_quorum(args): """"""Restore quorum and rejoin instance. In the event of blocked cluster with no quorum, this action will force quorum to be derived from the instance. :param args: sys.argv :type args: sys.argv :side effect: Calls instance.restore_quorum :returns: This function is called for its side effect :rtype: None :action return: Dictionary with command output """""" with charm.provide_charm_instance() as instance: instance.restore_quorum() ch_core.hookenv.action_set({ ""output"": ""Quorum restored. You can now rejoin other instances."", ""outcome"": ""Success""} ) ""update-unit-acls"": update_unit_acls, ""restore-quorum"": restore_quorum}"," the cluster. The action parameter, address, is the addresss of the instance ""update-unit-acls"": update_unit_acls}",95,8
openstack%2Fironic-inspector~master~Id8d6978035f81215c52ed5ab3406d7adac2c561e,openstack/ironic-inspector,master,Id8d6978035f81215c52ed5ab3406d7adac2c561e,Support LLDP data coming in the new field,NEW,2023-04-25 10:22:56.000000000,2023-05-31 10:23:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24245}]","[{'number': 1, 'created': '2023-04-25 10:22:56.000000000', 'files': ['ironic_inspector/plugins/lldp_basic.py', 'ironic_inspector/test/unit/test_plugins_lldp_basic.py', 'ironic_inspector/plugins/local_link_connection.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c2cb0f235a05518762f2200b11204705e5a1c4a6', 'message': 'Support LLDP data coming in the new field\n\nChange-Id: Id8d6978035f81215c52ed5ab3406d7adac2c561e\nDepends-On: https://review.opendev.org/c/openstack/ironic-python-agent/+/881462\n'}]",2,881463,c2cb0f235a05518762f2200b11204705e5a1c4a6,14,3,1,10239,,,0,"Support LLDP data coming in the new field

Change-Id: Id8d6978035f81215c52ed5ab3406d7adac2c561e
Depends-On: https://review.opendev.org/c/openstack/ironic-python-agent/+/881462
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/63/881463/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/plugins/lldp_basic.py', 'ironic_inspector/test/unit/test_plugins_lldp_basic.py', 'ironic_inspector/plugins/local_link_connection.py']",3,c2cb0f235a05518762f2200b11204705e5a1c4a6,lldp-raw, lldp_raw = introspection_data.get('lldp_raw') or {} lldp_data = lldp_raw.get(iface['name']) or iface.get('lldp'), lldp_data = iface.get('lldp'),104,13
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I4b97abcd1a318e86f62a32879c627e852763195c,openstack/tripleo-heat-templates,stable/wallaby,I4b97abcd1a318e86f62a32879c627e852763195c,Remove tag never on the redis removal,ABANDONED,2023-05-25 07:44:30.000000000,2023-05-31 10:11:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-05-25 07:44:30.000000000', 'files': ['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/004b869425c3876db84337d7211e1604f8f81736', 'message': 'Remove tag never on the redis removal\n\nChange-Id: I4b97abcd1a318e86f62a32879c627e852763195c\n'}]",1,884319,004b869425c3876db84337d7211e1604f8f81736,5,3,1,22954,,,0,"Remove tag never on the redis removal

Change-Id: I4b97abcd1a318e86f62a32879c627e852763195c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/884319/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'],1,004b869425c3876db84337d7211e1604f8f81736,redis,, - never,0,1
openstack%2Fkayobe~master~I4d9f96ec4cf3c6cd0d28dfe5ddb239d863498a72,openstack/kayobe,master,I4d9f96ec4cf3c6cd0d28dfe5ddb239d863498a72,Kayobe environment dependencies,NEW,2021-07-29 11:23:57.000000000,2023-05-31 10:07:12.000000000,,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-29 11:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f1d9f4c4d7bde89d0064d25b805ae3e6a9018a04', 'message': 'Kayobe environment dependencies\n\nStory: 2002009\nTask: 42911\nChange-Id: I4d9f96ec4cf3c6cd0d28dfe5ddb239d863498a72\n'}, {'number': 2, 'created': '2021-07-30 18:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/639c3d1d52c56fa719186ac59c820806efb9264b', 'message': 'Kayobe environment dependencies\n\nStory: 2002009\nTask: 42911\nChange-Id: I4d9f96ec4cf3c6cd0d28dfe5ddb239d863498a72\n'}, {'number': 3, 'created': '2022-10-07 15:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f35866e099953ba4eea4c8c779eeaff3b426f0c9', 'message': 'Kayobe environment dependencies\n\nStory: 2002009\nTask: 42911\nChange-Id: I4d9f96ec4cf3c6cd0d28dfe5ddb239d863498a72\n(cherry picked from commit 639c3d1d52c56fa719186ac59c820806efb9264b)\n'}, {'number': 4, 'created': '2022-10-07 17:16:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/69db27fa0ad46ff034ec4c41acc381f4e4831a29', 'message': 'Kayobe environment dependencies\n\nStory: 2002009\nTask: 42911\nChange-Id: I4d9f96ec4cf3c6cd0d28dfe5ddb239d863498a72\n(cherry picked from commit 639c3d1d52c56fa719186ac59c820806efb9264b)\n'}, {'number': 5, 'created': '2022-10-20 13:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c434bd1851ff22960731c1dae7f8d947641861e7', 'message': 'Kayobe environment dependencies\n\nStory: 2002009\nTask: 42911\nChange-Id: I4d9f96ec4cf3c6cd0d28dfe5ddb239d863498a72\n(cherry picked from commit 639c3d1d52c56fa719186ac59c820806efb9264b)\n'}, {'number': 6, 'created': '2023-03-07 10:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/120a958e22d86934a7b885644c9f92e9e3afbcf6', 'message': 'Kayobe environment dependencies\n\nAllows you to combine multiple environments by declaring any dependencies.\n\nStory: 2002009\nTask: 42911\nChange-Id: I4d9f96ec4cf3c6cd0d28dfe5ddb239d863498a72\n(cherry picked from commit 639c3d1d52c56fa719186ac59c820806efb9264b)\n'}, {'number': 7, 'created': '2023-03-07 10:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b6a723dc4a6c8d60e27bd666175c5a9b378488d9', 'message': 'Kayobe environment dependencies\n\nAllows you to combine multiple environments by declaring any dependencies.\n\nStory: 2002009\nTask: 42911\nChange-Id: I4d9f96ec4cf3c6cd0d28dfe5ddb239d863498a72\n(cherry picked from commit 639c3d1d52c56fa719186ac59c820806efb9264b)\n'}, {'number': 8, 'created': '2023-03-08 17:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a3d323f5d12c01529d541b2982c55f4f05d5d23b', 'message': 'Kayobe environment dependencies\n\nAllows you to combine multiple environments by declaring any dependencies.\n\nStory: 2002009\nTask: 42911\nChange-Id: I4d9f96ec4cf3c6cd0d28dfe5ddb239d863498a72\n'}, {'number': 9, 'created': '2023-04-19 14:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f7e307d4cd52c66f21814568c9e20b2c0578240f', 'message': 'Kayobe environment dependencies\n\nAllows you to combine multiple environments by declaring any dependencies.\n\nStory: 2002009\nTask: 42911\nChange-Id: I4d9f96ec4cf3c6cd0d28dfe5ddb239d863498a72\n'}, {'number': 10, 'created': '2023-04-19 14:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f066a7a14be712d7c40a63ac28d5126baf61ac3e', 'message': 'Kayobe environment dependencies\n\nAllows you to combine multiple environments by declaring any dependencies.\n\nStory: 2002009\nTask: 42911\nChange-Id: I4d9f96ec4cf3c6cd0d28dfe5ddb239d863498a72\n'}, {'number': 11, 'created': '2023-04-19 15:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c6922d40f2a198cd0d31ac1c7bd9149a4b1f6adb', 'message': 'Kayobe environment dependencies\n\nAllows you to combine multiple environments by declaring any dependencies.\n\nStory: 2002009\nTask: 42911\nChange-Id: I4d9f96ec4cf3c6cd0d28dfe5ddb239d863498a72\n'}, {'number': 12, 'created': '2023-04-20 09:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7cd033e265d9a1274fa332c4a1fb03dd58c76eda', 'message': 'Kayobe environment dependencies\n\nAllows you to combine multiple environments by declaring any dependencies.\n\nStory: 2002009\nTask: 42911\nChange-Id: I4d9f96ec4cf3c6cd0d28dfe5ddb239d863498a72\n'}, {'number': 13, 'created': '2023-04-20 09:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f1e55d3cf7e8da83b9e9423a6699c538154845d0', 'message': 'Kayobe environment dependencies\n\nAllows you to combine multiple environments by declaring any dependencies.\n\nStory: 2002009\nTask: 42911\nChange-Id: I4d9f96ec4cf3c6cd0d28dfe5ddb239d863498a72\n'}, {'number': 14, 'created': '2023-05-30 19:20:55.000000000', 'files': ['ansible/inventory/group_vars/all/globals', 'kayobe/kolla_ansible.py', 'kayobe/tests/unit/test_utils.py', 'releasenotes/notes/environment-dependencies-22df2a38a653425b.yaml', 'ansible/kolla-ansible.yml', 'ansible/kolla-openstack.yml', 'doc/source/multiple-environments.rst', 'ansible/kolla-bifrost.yml', 'ansible/kolla-build.yml', 'requirements.txt', 'kayobe/ansible.py', 'kayobe/plugins/lookup/environments.py', 'kayobe/tests/unit/test_ansible.py', 'ansible/lookup_plugins/kayobe_environments.py', 'kayobe/utils.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0ae9e8d4892c5e7a0fd3477452b1a134f5dc11d0', 'message': 'Kayobe environment dependencies\n\nAllows you to combine multiple environments by declaring any dependencies.\n\nStory: 2002009\nTask: 42911\nChange-Id: I4d9f96ec4cf3c6cd0d28dfe5ddb239d863498a72\n'}]",56,802865,0ae9e8d4892c5e7a0fd3477452b1a134f5dc11d0,37,3,14,28048,,,0,"Kayobe environment dependencies

Allows you to combine multiple environments by declaring any dependencies.

Story: 2002009
Task: 42911
Change-Id: I4d9f96ec4cf3c6cd0d28dfe5ddb239d863498a72
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/65/802865/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'kayobe/ansible.py', 'ansible/group_vars/all/globals', 'ansible/kolla-ansible.yml', 'kayobe/utils.py', 'ansible/kolla-openstack.yml']",6,f1d9f4c4d7bde89d0064d25b805ae3e6a9018a04,merge-configs," kolla_config_paths_static: kolla_config_paths_extra: ""{{ kolla_config_paths_static + kayobe_env_search_paths }}"""," kolla_config_paths_extra: - ""{{ kayobe_env_config_path }}""",88,32
openstack%2Fkayobe~master~I0748f7bd3e6f7f91e35b2178acb6973e99710f88,openstack/kayobe,master,I0748f7bd3e6f7f91e35b2178acb6973e99710f88,Add cached plugin,NEW,2021-07-30 18:06:49.000000000,2023-05-31 10:01:25.000000000,,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-07-30 18:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6405bb3468176460f01cbf910c603eb0bb893b20', 'message': 'Add cached plugin\n\nChange-Id: I0748f7bd3e6f7f91e35b2178acb6973e99710f88\n'}, {'number': 2, 'created': '2022-10-07 15:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0cecd10197978b2525ca3dd69272331cc886f32e', 'message': 'Add cached plugin\n\nThis is useful to cache expensive lookups.\n\nChange-Id: I0748f7bd3e6f7f91e35b2178acb6973e99710f88\n'}, {'number': 3, 'created': '2023-03-07 10:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3889e13bf14542aa2806f67ce2e13e72dfff2cfe', 'message': 'Add cached plugin\n\nThis is useful to cache expensive lookups.\n\nChange-Id: I0748f7bd3e6f7f91e35b2178acb6973e99710f88\n'}, {'number': 4, 'created': '2023-03-07 10:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6de6ca59b62a9457d71f86b88c8648c157abced0', 'message': 'Add cached plugin\n\nThis is useful to cache expensive lookups.\n\nChange-Id: I0748f7bd3e6f7f91e35b2178acb6973e99710f88\n'}, {'number': 5, 'created': '2023-04-19 14:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b8cb10e17970fb4d1a54bd4fb332210efb7990e7', 'message': 'Add cached plugin\n\nThis is useful to cache expensive lookups.\n\nChange-Id: I0748f7bd3e6f7f91e35b2178acb6973e99710f88\n'}, {'number': 6, 'created': '2023-04-19 14:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f94c5901a61beee85cc9d5408e165107164487cd', 'message': 'Add cached plugin\n\nThis is useful to cache expensive lookups.\n\nChange-Id: I0748f7bd3e6f7f91e35b2178acb6973e99710f88\n'}, {'number': 7, 'created': '2023-04-19 15:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/406b40869b582e4e87e314511b4ffc11ed6b6af0', 'message': 'Add cached plugin\n\nThis is useful to cache expensive lookups.\n\nChange-Id: I0748f7bd3e6f7f91e35b2178acb6973e99710f88\n'}, {'number': 8, 'created': '2023-04-20 09:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3c49d0a413e5ff711bbfdf0f651190101dcedc5e', 'message': 'Add cached plugin\n\nThis is useful to cache expensive lookups.\n\nChange-Id: I0748f7bd3e6f7f91e35b2178acb6973e99710f88\n'}, {'number': 9, 'created': '2023-05-30 19:18:26.000000000', 'files': ['requirements.txt', 'ansible/lookup_plugins/cached.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a46b3ebc8e5ffbc4f175fa23cd103d595ea1ffed', 'message': 'Add cached plugin\n\nThis is useful to cache expensive lookups.\n\nChange-Id: I0748f7bd3e6f7f91e35b2178acb6973e99710f88\n'}]",3,803064,a46b3ebc8e5ffbc4f175fa23cd103d595ea1ffed,22,4,9,28048,,,0,"Add cached plugin

This is useful to cache expensive lookups.

Change-Id: I0748f7bd3e6f7f91e35b2178acb6973e99710f88
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/64/803064/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ansible/lookup_plugins/cached.py']",2,6405bb3468176460f01cbf910c603eb0bb893b20,merge-configs,from ansible_cached_lookup import LookupModule ,,2,0
openstack%2Fdevstack-plugin-nfs~master~Ibec9e3a0c251ab9571fc1e9e0244ef4dde0a80d7,openstack/devstack-plugin-nfs,master,Ibec9e3a0c251ab9571fc1e9e0244ef4dde0a80d7,Switch to bobcat testing runtime,MERGED,2023-05-16 12:20:20.000000000,2023-05-31 09:56:04.000000000,2023-05-31 09:54:04.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-05-16 12:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-nfs/commit/3954d14bee605d72f40fba8a287ae1d5d1dfc977', 'message': 'Switch to bobcat testing runtime\n\nUpdating the testing template to Bobcat testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/2023.2.html\n\nChange-Id: Ibec9e3a0c251ab9571fc1e9e0244ef4dde0a80d7\n'}, {'number': 2, 'created': '2023-05-16 12:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-nfs/commit/1e7fe2e68b702fe3d6271067124e1b37ef570585', 'message': 'Switch to bobcat testing runtime\n\nUpdating the testing template to Bobcat testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/2023.2.html\n\nChange-Id: Ibec9e3a0c251ab9571fc1e9e0244ef4dde0a80d7\n'}, {'number': 3, 'created': '2023-05-30 19:05:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-nfs/commit/82d8af6b244c851516eef6a4e50285cc44f8e9b8', 'message': 'Switch to bobcat testing runtime\n\nUpdating the testing template to Bobcat testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/2023.2.html\n\nChange-Id: Ibec9e3a0c251ab9571fc1e9e0244ef4dde0a80d7\n'}]",3,883255,82d8af6b244c851516eef6a4e50285cc44f8e9b8,11,2,3,35229,,,0,"Switch to bobcat testing runtime

Updating the testing template to Bobcat testing runtime:
https://governance.openstack.org/tc/reference/runtimes/2023.2.html

Change-Id: Ibec9e3a0c251ab9571fc1e9e0244ef4dde0a80d7
",git fetch https://review.opendev.org/openstack/devstack-plugin-nfs refs/changes/55/883255/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3954d14bee605d72f40fba8a287ae1d5d1dfc977,switch-to-bobcat-testing-runtime, - devstack-plugin-nfs-tempest-full-antelope - devstack-plugin-nfs-tempest-full-antelope name: devstack-plugin-nfs-tempest-full-antelope parent: devstack-plugin-nfs-tempest-full override-checkout: stable/antelope - job:, - devstack-plugin-nfs-tempest-full-xena - devstack-plugin-nfs-tempest-full-wallaby - devstack-plugin-nfs-tempest-full-victoria # ussuri disabled due to https://bugs.launchpad.net/nova/+bug/1916750 - devstack-plugin-nfs-tempest-full-ussuri: voting: no - devstack-plugin-nfs-tempest-full-xena - devstack-plugin-nfs-tempest-full-wallaby - devstack-plugin-nfs-tempest-full-victoria # - devstack-plugin-nfs-tempest-full-ussuri name: devstack-plugin-nfs-tempest-full-xena parent: devstack-plugin-nfs-tempest-full nodeset: openstack-single-node-focal override-checkout: stable/xena - job: name: devstack-plugin-nfs-tempest-full-wallaby parent: devstack-plugin-nfs-tempest-full nodeset: openstack-single-node-focal override-checkout: stable/wallaby vars: tox_envlist: full - job: name: devstack-plugin-nfs-tempest-full-victoria parent: devstack-plugin-nfs-tempest-full nodeset: openstack-single-node-focal override-checkout: stable/victoria vars: tox_envlist: full - job: name: devstack-plugin-nfs-tempest-full-ussuri parent: devstack-plugin-nfs-tempest-full nodeset: openstack-single-node-bionic override-checkout: stable/ussuri vars: tox_envlist: full - job:,7,40
openstack%2Fkayobe~stable%2F2023.1~I45d1d3abd9248fe6a1c2a3875332cef18aa59c39,openstack/kayobe,stable/2023.1,I45d1d3abd9248fe6a1c2a3875332cef18aa59c39,Update .gitreview for stable/2023.1,MERGED,2023-05-31 08:26:54.000000000,2023-05-31 09:50:08.000000000,2023-05-31 09:49:07.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-31 08:26:54.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f8cef91dc2ef36a14132d9c99f4ec47472e1dd16', 'message': 'Update .gitreview for stable/2023.1\n\nChange-Id: I45d1d3abd9248fe6a1c2a3875332cef18aa59c39\n'}]",1,884831,f8cef91dc2ef36a14132d9c99f4ec47472e1dd16,10,3,1,22816,,,0,"Update .gitreview for stable/2023.1

Change-Id: I45d1d3abd9248fe6a1c2a3875332cef18aa59c39
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/31/884831/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,f8cef91dc2ef36a14132d9c99f4ec47472e1dd16,create-2023.1,defaultbranch=stable/2023.1,,1,0
openstack%2Fkayobe~master~If806f9b62b4c6e680bddc9b3da38c0c502abc299,openstack/kayobe,master,If806f9b62b4c6e680bddc9b3da38c0c502abc299,Update master for stable/2023.1,MERGED,2023-05-31 08:26:56.000000000,2023-05-31 09:50:06.000000000,2023-05-31 09:49:06.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-31 08:26:56.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fdc941565110b1d27343255e4b23f540b28ee151', 'message': 'Update master for stable/2023.1\n\nAdd file to the reno documentation build to show release notes for\nstable/2023.1.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/2023.1.\n\nSem-Ver: feature\nChange-Id: If806f9b62b4c6e680bddc9b3da38c0c502abc299\n'}]",0,884832,fdc941565110b1d27343255e4b23f540b28ee151,8,3,1,22816,,,0,"Update master for stable/2023.1

Add file to the reno documentation build to show release notes for
stable/2023.1.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/2023.1.

Sem-Ver: feature
Change-Id: If806f9b62b4c6e680bddc9b3da38c0c502abc299
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/32/884832/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst']",2,fdc941565110b1d27343255e4b23f540b28ee151,reno-2023.1,=========================== 2023.1 Series Release Notes =========================== .. release-notes:: :branch: stable/2023.1 ,,7,0
openstack%2Fkayobe-config-dev~stable%2F2023.1~I7abd7832ed6e2a068dfb6a89b8e7b971b6c77e4f,openstack/kayobe-config-dev,stable/2023.1,I7abd7832ed6e2a068dfb6a89b8e7b971b6c77e4f,Update TOX_CONSTRAINTS_FILE for stable/2023.1,MERGED,2023-05-31 08:27:09.000000000,2023-05-31 09:49:05.000000000,2023-05-31 09:49:05.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-31 08:27:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/e523c188bb4a32b32c274eccd9bc5d9c4d219b75', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/2023.1\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/2023.1 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I7abd7832ed6e2a068dfb6a89b8e7b971b6c77e4f\n'}]",0,884836,e523c188bb4a32b32c274eccd9bc5d9c4d219b75,7,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/2023.1

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/2023.1 branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I7abd7832ed6e2a068dfb6a89b8e7b971b6c77e4f
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/36/884836/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e523c188bb4a32b32c274eccd9bc5d9c4d219b75,create-2023.1, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fcharm-deployment-guide~master~I07aa35937666aaf000f5c2bc5803bee672c1f126,openstack/charm-deployment-guide,master,I07aa35937666aaf000f5c2bc5803bee672c1f126,Add operation: Remove a cloud database node,ABANDONED,2021-09-22 20:17:45.000000000,2023-05-31 09:42:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-22 20:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/28448ef408d538d0b65410993ec7b7df2892351a', 'message': 'Add operation: Remove a cloud database node\n\nChange-Id: I07aa35937666aaf000f5c2bc5803bee672c1f126\n'}, {'number': 2, 'created': '2021-09-22 22:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/381d9a5cbdc0e82d8d9741252dd025c82b8439d0', 'message': 'Add operation: Remove a cloud database node\n\nAdd a cloud operation to the guide.\n\nCloses-Bug: #1889792\nChange-Id: I07aa35937666aaf000f5c2bc5803bee672c1f126\n'}, {'number': 3, 'created': '2021-09-29 17:53:17.000000000', 'files': ['deploy-guide/source/ops-remove-mysql8-node.rst', 'deploy-guide/source/operational-tasks.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/5c791ed734f5edc44345f0e0ae0d7b500e58d372', 'message': 'Add operation: Remove a cloud database node\n\nAdd a cloud operation to the guide.\n\nCloses-Bug: #1889792\nChange-Id: I07aa35937666aaf000f5c2bc5803bee672c1f126\n'}]",0,810515,5c791ed734f5edc44345f0e0ae0d7b500e58d372,10,1,3,30561,,,0,"Add operation: Remove a cloud database node

Add a cloud operation to the guide.

Closes-Bug: #1889792
Change-Id: I07aa35937666aaf000f5c2bc5803bee672c1f126
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/15/810515/3 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/ops-remove-database-node.rst', 'deploy-guide/source/operational-tasks.rst']",2,28448ef408d538d0b65410993ec7b7df2892351a,cdg-ops,* :doc:`Remove a cloud database node <ops-remove-database-node>`,,101,0
openstack%2Fnova~stable%2Ftrain~Ic6566272b8c5af57cd1c73c73b3cba6cd265bebe,openstack/nova,stable/train,Ic6566272b8c5af57cd1c73c73b3cba6cd265bebe,Reproducer for bug 1983753,NEW,2023-05-23 12:13:34.000000000,2023-05-31 09:40:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-23 12:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/829f4285cdb7e84fc657050a33001c008e9a3656', 'message': 'Reproducer for bug 1983753\n\nThere is stable/train related changes in test_bug_1983753.py due to\nmany test helpers like _create_server, _resize_server, and\n_confirm_resize is missing in stable/train.\n\nRelated-Bug: #1983753\nChange-Id: Ic6566272b8c5af57cd1c73c73b3cba6cd265bebe\n(cherry picked from commit 6d602c6b734c2e360fa319ba22c2fced02ad3d29)\n(cherry picked from commit bdc32226e2d9ce4a073306f8f6267fbe305e64e4)\n(cherry picked from commit 87a8a7df9800f3c81dba2e2c0520168115ad1b28)\n(cherry picked from commit 81741d7ce8031367ca4055227ecd55014d0aced8)\n(cherry picked from commit 7f97c65b8c56facedc0fe69d150c22d7d9218b52)\n(cherry picked from commit 1d021463d18eba72de75c3eb4b30c154ed913f7b)\n'}, {'number': 2, 'created': '2023-05-23 16:08:00.000000000', 'files': ['nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/regressions/test_bug_1983753.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3877ac52eb10f9423e4e81575b882ce762921002', 'message': 'Reproducer for bug 1983753\n\nThere is stable/train related changes in test_bug_1983753.py due to\nmany test helpers like _create_server, _resize_server, and\n_confirm_resize is missing in stable/train. Also support for py 2.7 is\nadded back as train needs to support it.\n\nRelated-Bug: #1983753\nChange-Id: Ic6566272b8c5af57cd1c73c73b3cba6cd265bebe\n(cherry picked from commit 6d602c6b734c2e360fa319ba22c2fced02ad3d29)\n(cherry picked from commit bdc32226e2d9ce4a073306f8f6267fbe305e64e4)\n(cherry picked from commit 87a8a7df9800f3c81dba2e2c0520168115ad1b28)\n(cherry picked from commit 81741d7ce8031367ca4055227ecd55014d0aced8)\n(cherry picked from commit 7f97c65b8c56facedc0fe69d150c22d7d9218b52)\n(cherry picked from commit 1d021463d18eba72de75c3eb4b30c154ed913f7b)\n'}]",1,883932,3877ac52eb10f9423e4e81575b882ce762921002,6,1,2,9708,,,0,"Reproducer for bug 1983753

There is stable/train related changes in test_bug_1983753.py due to
many test helpers like _create_server, _resize_server, and
_confirm_resize is missing in stable/train. Also support for py 2.7 is
added back as train needs to support it.

Related-Bug: #1983753
Change-Id: Ic6566272b8c5af57cd1c73c73b3cba6cd265bebe
(cherry picked from commit 6d602c6b734c2e360fa319ba22c2fced02ad3d29)
(cherry picked from commit bdc32226e2d9ce4a073306f8f6267fbe305e64e4)
(cherry picked from commit 87a8a7df9800f3c81dba2e2c0520168115ad1b28)
(cherry picked from commit 81741d7ce8031367ca4055227ecd55014d0aced8)
(cherry picked from commit 7f97c65b8c56facedc0fe69d150c22d7d9218b52)
(cherry picked from commit 1d021463d18eba72de75c3eb4b30c154ed913f7b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/883932/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/regressions/test_bug_1983753.py']",2,829f4285cdb7e84fc657050a33001c008e9a3656,bug/1941005,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import fixtures from oslo_serialization import jsonutils from nova.tests.functional.api import client from nova.tests.functional.libvirt import test_pci_sriov_servers from nova.tests.unit.virt.libvirt import fakelibvirt class TestPciResize(test_pci_sriov_servers._PCIServersTestBase): # these tests use multiple different configs so the whitelist is set by # each testcase individually PCI_PASSTHROUGH_WHITELIST = [] PCI_ALIAS = [ jsonutils.dumps(x) for x in [ { ""vendor_id"": fakelibvirt.PCI_VEND_ID, ""product_id"": fakelibvirt.PCI_PROD_ID, ""name"": ""a-pci-dev"", }, { ""vendor_id"": fakelibvirt.PCI_VEND_ID, ""product_id"": fakelibvirt.PF_PROD_ID, ""device_type"": ""type-PF"", ""name"": ""a-pf"", }, { ""vendor_id"": fakelibvirt.PCI_VEND_ID, ""product_id"": fakelibvirt.VF_PROD_ID, ""device_type"": ""type-VF"", ""name"": ""a-vf"", }, ] ] def setUp(self): super().setUp() self.useFixture( fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver.' 'migrate_disk_and_power_off', return_value='{}' ) ) # These tests should not depend on the host's sysfs self.useFixture( fixtures.MockPatch('nova.pci.utils.is_physical_function')) self.useFixture( fixtures.MockPatch( 'nova.pci.utils.get_function_by_ifname', return_value=(None, False) ) ) def _test_resize_from_two_devs_to_one_dev(self, num_pci_on_dest): # The fake libvirt will emulate on the host: # * two type-PCI in slot 0, 1 compute1_pci_info = fakelibvirt.HostPCIDevicesInfo(num_pci=2) # the config matches the PCI dev compute1_device_spec = [ jsonutils.dumps(x) for x in [ { ""vendor_id"": fakelibvirt.PCI_VEND_ID, ""product_id"": fakelibvirt.PCI_PROD_ID, }, ] ] self.flags(group='pci', passthrough_whitelist=compute1_device_spec) host_info = fakelibvirt.HostInfo(cpu_nodes=2, cpu_sockets=1, cpu_cores=2, cpu_threads=2, kB_mem=15740000) fake_connection = self._get_connection(host_info, pci_info=compute1_pci_info, hostname='compute1') self.mock_conn.return_value = fake_connection self.compute = self.start_service('compute', host='compute1') self.assertPCIDeviceCounts(""compute1"", total=2, free=2) # create a server that requests two PCI devs extra_spec = {""pci_passthrough:alias"": ""a-pci-dev:2""} flavor_id = self._create_flavor(extra_spec=extra_spec) server = self._build_server(flavor_id=flavor_id) server = self.api.post_server({'server': server}) server = self._wait_for_state_change(server, 'BUILD') self.assertEqual('ACTIVE', server['status']) self.assertPCIDeviceCounts(""compute1"", total=2, free=0) # start another compute with a different amount of PCI dev available compute2_pci_info = fakelibvirt.HostPCIDevicesInfo( num_pci=num_pci_on_dest) # the config matches the PCI dev compute2_device_spec = [ jsonutils.dumps(x) for x in [ { ""vendor_id"": fakelibvirt.PCI_VEND_ID, ""product_id"": fakelibvirt.PCI_PROD_ID, }, ] ] self.flags(group='pci', passthrough_whitelist=compute2_device_spec) fake_connection = self._get_connection(host_info, pci_info=compute2_pci_info, hostname='compute2') self.mock_conn.return_value = fake_connection self.compute = self.start_service('compute', host='compute2') self.assertPCIDeviceCounts( ""compute2"", total=num_pci_on_dest, free=num_pci_on_dest) # resize the server to request only one PCI dev instead of the current # two. This should fit to compute2 having at least one dev extra_spec = {""pci_passthrough:alias"": ""a-pci-dev:1""} flavor_id = self._create_flavor(extra_spec=extra_spec) # resize post = {'resize': {""flavorRef"": flavor_id}} self.api.post_server_action(server['id'], post) server = self._wait_for_state_change(server, 'RESIZE') self.assertEqual('VERIFY_RESIZE', server['status']) # confirm post = {'confirmResize': {}} self.api.post_server_action(server['id'], post) server = self._wait_for_state_change(server, 'CONFIRM_RESIZE') self.assertEqual('ACTIVE', server['status']) self.assertPCIDeviceCounts(""compute1"", total=2, free=2) self.assertPCIDeviceCounts( ""compute2"", total=num_pci_on_dest, free=num_pci_on_dest - 1) def test_resize_from_two_devs_to_one_dev_dest_has_two_devs(self): # this works self._test_resize_from_two_devs_to_one_dev(num_pci_on_dest=2) def test_resize_from_two_devs_to_one_dev_dest_has_one_dev(self): # This is bug 1983753 as nova uses the old InstancePciRequest during # the scheduling and therefore tries to find a compute with two PCI # devs even though the flavor only requests one. ex = self.assertRaises( client.OpenStackApiException, self._test_resize_from_two_devs_to_one_dev, num_pci_on_dest=1 ) self.assertIn( 'No valid host was found. No valid host found for resize', str(ex)) def test_resize_from_vf_to_pf(self): # The fake libvirt will emulate on the host: # * one type-PF in slot 0 with one VF compute1_pci_info = fakelibvirt.HostPCIDevicesInfo( num_pfs=1, num_vfs=1) # the config matches only the VF compute1_device_spec = [ jsonutils.dumps(x) for x in [ { ""vendor_id"": fakelibvirt.PCI_VEND_ID, ""product_id"": fakelibvirt.VF_PROD_ID, }, ] ] self.flags(group='pci', passthrough_whitelist=compute1_device_spec) host_info = fakelibvirt.HostInfo(cpu_nodes=2, cpu_sockets=1, cpu_cores=2, cpu_threads=2, kB_mem=15740000) fake_connection = self._get_connection(host_info, pci_info=compute1_pci_info, hostname='compute1') self.mock_conn.return_value = fake_connection self.compute = self.start_service('compute', host='compute1') self.assertPCIDeviceCounts(""compute1"", total=1, free=1) # create a server that requests one Vf extra_spec = {""pci_passthrough:alias"": ""a-vf:1""} flavor_id = self._create_flavor(extra_spec=extra_spec) server = self._build_server(flavor_id=flavor_id) server = self.api.post_server({'server': server}) server = self._wait_for_state_change(server, 'BUILD') self.assertEqual('ACTIVE', server['status']) self.assertPCIDeviceCounts(""compute1"", total=1, free=0) # start another compute with a single PF dev available # The fake libvirt will emulate on the host: # * one type-PF in slot 0 with 1 VF compute2_pci_info = fakelibvirt.HostPCIDevicesInfo( num_pfs=1, num_vfs=1) # the config matches the PF dev but not the VF compute2_device_spec = [ jsonutils.dumps(x) for x in [ { ""vendor_id"": fakelibvirt.PCI_VEND_ID, ""product_id"": fakelibvirt.PF_PROD_ID, }, ] ] self.flags(group='pci', passthrough_whitelist=compute2_device_spec) host_info = fakelibvirt.HostInfo(cpu_nodes=2, cpu_sockets=1, cpu_cores=2, cpu_threads=2, kB_mem=15740000) fake_connection = self._get_connection(host_info, pci_info=compute2_pci_info, hostname='compute2') self.mock_conn.return_value = fake_connection self.compute = self.start_service('compute', host='compute2') self.assertPCIDeviceCounts(""compute2"", total=1, free=1) # resize the server to request on PF dev instead of the current VF # dev. This should fit to compute2 having exactly one PF dev. extra_spec = {""pci_passthrough:alias"": ""a-pf:1""} flavor_id = self._create_flavor(extra_spec=extra_spec) # This is bug 1983753 as nova uses the old InstancePciRequest during # the scheduling and therefore tries to find a compute with a VF dev # even though the flavor only requests a PF dev. post = {'resize': {""flavorRef"": flavor_id}} ex = self.assertRaises( client.OpenStackApiException, self.api.post_server_action, server['id'], post, ) self.assertIn( 'No valid host was found. No valid host found for resize', str(ex)) ",,249,0
openstack%2Fkayobe-config-dev~stable%2F2023.1~Id6e6452e8dc000614863c69945a2873aa44d95a4,openstack/kayobe-config-dev,stable/2023.1,Id6e6452e8dc000614863c69945a2873aa44d95a4,Update .gitreview for stable/2023.1,MERGED,2023-05-31 08:27:08.000000000,2023-05-31 09:35:44.000000000,2023-05-31 09:35:44.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-31 08:27:08.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/a2f5ab9fee1547254ebe279d92e396954a2a21d2', 'message': 'Update .gitreview for stable/2023.1\n\nChange-Id: Id6e6452e8dc000614863c69945a2873aa44d95a4\n'}]",0,884835,a2f5ab9fee1547254ebe279d92e396954a2a21d2,7,3,1,22816,,,0,"Update .gitreview for stable/2023.1

Change-Id: Id6e6452e8dc000614863c69945a2873aa44d95a4
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/35/884835/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,a2f5ab9fee1547254ebe279d92e396954a2a21d2,create-2023.1,defaultbranch=stable/2023.1,,1,0
openstack%2Fkolla-ansible~master~I4f9bce297bc3385f9749e4221f4721c1841700a1,openstack/kolla-ansible,master,I4f9bce297bc3385f9749e4221f4721c1841700a1,Correct [pci] syntax in Nova SRIOV documentation,MERGED,2023-05-30 14:21:10.000000000,2023-05-31 09:34:14.000000000,2023-05-31 09:33:11.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-30 14:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5f15693a905003e249a124d91a7cbb33903f8ddb', 'message': 'Correct [pci] syntax in Nova SRIOV documentation\n\nThe ``[pci]`` options in the Nova SRIOV documentation are incorrect.\n``alias`` is a JSON object but mentioned as a list of object here.\n``through_whitelist`` is deprecated in favour of ``device_spec``.\n\nCloses-Bug: #2019985\nChange-Id: I4f9bce297bc3385f9749e4221f4721c1841700a1\n'}, {'number': 2, 'created': '2023-05-30 15:30:36.000000000', 'files': ['doc/source/reference/networking/sriov.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d30d1fd655f6e82e53ddc9704dcec2331f4579e0', 'message': 'Correct [pci] syntax in Nova SRIOV documentation\n\nThe ``[pci]`` options in the Nova SRIOV documentation are incorrect.\n``alias`` is a JSON object but mentioned as a list of object here.\n``through_whitelist`` is deprecated [1] in favour of ``device_spec``.\n\n[1] https://docs.openstack.org/nova/2023.1/configuration/config.html#id116\n\nCloses-Bug: #2019985\nChange-Id: I4f9bce297bc3385f9749e4221f4721c1841700a1\n'}]",2,884708,d30d1fd655f6e82e53ddc9704dcec2331f4579e0,14,4,2,35263,,,0,"Correct [pci] syntax in Nova SRIOV documentation

The ``[pci]`` options in the Nova SRIOV documentation are incorrect.
``alias`` is a JSON object but mentioned as a list of object here.
``through_whitelist`` is deprecated [1] in favour of ``device_spec``.

[1] https://docs.openstack.org/nova/2023.1/configuration/config.html#id116

Closes-Bug: #2019985
Change-Id: I4f9bce297bc3385f9749e4221f4721c1841700a1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/08/884708/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/networking/sriov.rst'],1,5f15693a905003e249a124d91a7cbb33903f8ddb,bug/2019985," device_spec = [{""vendor_id"": ""8086"", ""product_id"": ""10fb""}] alias = {""vendor_id"":""8086"", ""product_id"":""10ed"", ""device_type"":""type-VF"", ""name"":""vf1""}"," passthrough_whitelist = [{""vendor_id"": ""8086"", ""product_id"": ""10fb""}] alias = [{""vendor_id"":""8086"", ""product_id"":""10ed"", ""device_type"":""type-VF"", ""name"":""vf1""}]",2,2
openstack%2Fkolla~master~Ie1b36eb9a403611c2f86aa4c1d500d324e5291f3,openstack/kolla,master,Ie1b36eb9a403611c2f86aa4c1d500d324e5291f3,mariadb-clustercheck: ensure /var/log/kolla/mariadb exists,MERGED,2023-05-24 14:19:50.000000000,2023-05-31 09:34:12.000000000,2023-05-31 09:33:09.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-05-24 14:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/883bab10d151e956abedbe6ae2688557d61e8170', 'message': 'mariadb-clustercheck: ensure /var/log/kolla/mariadb exists\n\nIf mariadb-clustercheck starts before mariadb, the directory may not\nexist, and the command fails.\n\nThis is necessary for the refactored MariaDB restart in\nI5a12670d07077d24047aaff57ce8d33ccf7156ff.\n\nChange-Id: Ie1b36eb9a403611c2f86aa4c1d500d324e5291f3\n'}, {'number': 2, 'created': '2023-05-25 08:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ff46f929dfbe530b47c3bec041fc46c793af30de', 'message': 'mariadb-clustercheck: ensure /var/log/kolla/mariadb exists\n\nIf mariadb-clustercheck starts before mariadb, the directory may not\nexist, and the command fails.\n\nThis is necessary for the refactored MariaDB restart in\nI5a12670d07077d24047aaff57ce8d33ccf7156ff.\n\nChange-Id: Ie1b36eb9a403611c2f86aa4c1d500d324e5291f3\n'}, {'number': 3, 'created': '2023-05-30 15:50:01.000000000', 'files': ['docker/mariadb/mariadb-clustercheck/Dockerfile.j2', 'docker/mariadb/mariadb-clustercheck/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9035251443ed6cbb110e9dc5efdbc9d4be797ef5', 'message': 'mariadb-clustercheck: ensure /var/log/kolla/mariadb exists\n\nIf mariadb-clustercheck starts before mariadb, the directory may not\nexist, and the command fails.\n\nThis is necessary for the refactored MariaDB restart in\nI5a12670d07077d24047aaff57ce8d33ccf7156ff.\n\nChange-Id: Ie1b36eb9a403611c2f86aa4c1d500d324e5291f3\n'}]",1,884208,9035251443ed6cbb110e9dc5efdbc9d4be797ef5,23,5,3,14826,,,0,"mariadb-clustercheck: ensure /var/log/kolla/mariadb exists

If mariadb-clustercheck starts before mariadb, the directory may not
exist, and the command fails.

This is necessary for the refactored MariaDB restart in
I5a12670d07077d24047aaff57ce8d33ccf7156ff.

Change-Id: Ie1b36eb9a403611c2f86aa4c1d500d324e5291f3
",git fetch https://review.opendev.org/openstack/kolla refs/changes/08/884208/3 && git format-patch -1 --stdout FETCH_HEAD,['docker/mariadb/mariadb-clustercheck/extend_start.sh'],1,883bab10d151e956abedbe6ae2688557d61e8170,,"#!/bin/bash : ${MARIADB_LOG_DIR:=/var/log/kolla/mariadb} # Create log directory, with appropriate permissions if [[ ! -d ""${MARIADB_LOG_DIR}"" ]]; then mkdir -p ${MARIADB_LOG_DIR} fi if [[ $(stat -c %a ${MARIADB_LOG_DIR}) != ""755"" ]]; then chmod 755 ${MARIADB_LOG_DIR} fi ",,11,0
openstack%2Fskyline-console~master~Ia7f22e46b8b81e625ecc436257dd3c36d79d35c1,openstack/skyline-console,master,Ia7f22e46b8b81e625ecc436257dd3c36d79d35c1,Fix Conflict Object Storage Key Name,MERGED,2023-05-22 10:46:40.000000000,2023-05-31 09:33:32.000000000,2023-05-31 09:32:34.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}, {'_account_id': 33689}]","[{'number': 1, 'created': '2023-05-22 10:46:40.000000000', 'files': ['src/layouts/menu.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/19922d5029975277526f711eabe948427fba8a08', 'message': 'Fix Conflict Object Storage Key Name\n\nSwift and zun key name conflict. We fixed this conflict by\nchanging swift key name.\n\nChange-Id: Ia7f22e46b8b81e625ecc436257dd3c36d79d35c1\n'}]",0,883800,19922d5029975277526f711eabe948427fba8a08,7,3,1,34671,,,0,"Fix Conflict Object Storage Key Name

Swift and zun key name conflict. We fixed this conflict by
changing swift key name.

Change-Id: Ia7f22e46b8b81e625ecc436257dd3c36d79d35c1
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/00/883800/1 && git format-patch -1 --stdout FETCH_HEAD,['src/layouts/menu.jsx'],1,19922d5029975277526f711eabe948427fba8a08,," key: 'containers',"," key: 'container',",1,1
openstack%2Fbifrost~master~I9ddf024688fff4297f50d99511798a5d371cbffc,openstack/bifrost,master,I9ddf024688fff4297f50d99511798a5d371cbffc,Restart systemd services on failure,NEW,2023-05-24 12:58:45.000000000,2023-05-31 09:20:24.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 12:58:45.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/templates/systemd_template.j2'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ddd266fd4cc29f5e62658d713c29528399cc407c', 'message': 'Restart systemd services on failure\n\nThis should make services more resilient to ephemeral failures.\n\nChange-Id: I9ddf024688fff4297f50d99511798a5d371cbffc\n'}]",0,884198,ddd266fd4cc29f5e62658d713c29528399cc407c,3,2,1,14826,,,0,"Restart systemd services on failure

This should make services more resilient to ephemeral failures.

Change-Id: I9ddf024688fff4297f50d99511798a5d371cbffc
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/98/884198/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/templates/systemd_template.j2'],1,ddd266fd4cc29f5e62658d713c29528399cc407c,,Restart=on-failure,,1,0
openstack%2Fpuppet-openstack-integration~master~Ice01e0ea8313ae9732c0e48003f886fb85ecc9fd,openstack/puppet-openstack-integration,master,Ice01e0ea8313ae9732c0e48003f886fb85ecc9fd,Reduce number of PGs,MERGED,2023-05-25 13:17:01.000000000,2023-05-31 09:17:48.000000000,2023-05-31 09:17:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 13:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/08ba936babf5edd5320270b407369844b5222c79', 'message': 'Reduce number of PGs\n\nto avoid warning caused by too many pgs assigned to a single OSD.\n\nChange-Id: Ice01e0ea8313ae9732c0e48003f886fb85ecc9fd\n'}, {'number': 2, 'created': '2023-05-29 13:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/19f82bbf0962aca7c162dae41e324b467b6f0177', 'message': 'Reduce number of PGs\n\nto avoid warning caused by too many pgs assigned to a single OSD.\n\nThe warning is seen in scenario 004 integration job because Rados\nGateway creates additional pools.\n\nChange-Id: Ice01e0ea8313ae9732c0e48003f886fb85ecc9fd\n'}, {'number': 3, 'created': '2023-05-29 16:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6c2832696cb32b353139178d0d9b21ba954c2134', 'message': 'Reduce number of PGs\n\nto avoid warning caused by too many pgs assigned to a single OSD.\n\nThe warning is seen in scenario 004 integration job because Rados\nGateway creates additional pools.\n\nChange-Id: Ice01e0ea8313ae9732c0e48003f886fb85ecc9fd\n'}, {'number': 4, 'created': '2023-05-30 01:14:44.000000000', 'files': ['manifests/ceph.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9ab8f9a60f149269cd087bc921e7db9c6289e0ea', 'message': 'Reduce number of PGs\n\nto avoid warning caused by too many pgs assigned to a single OSD.\n\nThe warning is seen in scenario 004 integration job because Rados\nGateway creates additional pools.\n\nChange-Id: Ice01e0ea8313ae9732c0e48003f886fb85ecc9fd\n'}]",4,884394,9ab8f9a60f149269cd087bc921e7db9c6289e0ea,23,3,4,9816,,,0,"Reduce number of PGs

to avoid warning caused by too many pgs assigned to a single OSD.

The warning is seen in scenario 004 integration job because Rados
Gateway creates additional pools.

Change-Id: Ice01e0ea8313ae9732c0e48003f886fb85ecc9fd
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/94/884394/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/ceph.pp'],1,08ba936babf5edd5320270b407369844b5222c79,manila-cephfs," ceph::pool { $ceph_pools: pg_num => 16, }", ceph::pool { $ceph_pools: },3,1
openstack%2Fpuppet-nova~stable%2Fyoga~I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b,openstack/puppet-nova,stable/yoga,I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b,Add release note about libvirt-daemon package installation,MERGED,2023-05-31 07:59:08.000000000,2023-05-31 09:17:46.000000000,2023-05-31 09:16:45.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 07:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c6164b3008a4badc506088e1378794635cbb6cd6', 'message': 'Add release note about libvirt-daemon package installation\n\nThis adds a release note about the installation of libvirt-daemon\npackage, which was added by [1].\n\n[1] I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n\nChange-Id: I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b\n(cherry picked from commit 00a3b773102ff5b4fb32eaec4464aa97e31fe7c0)\n(cherry picked from commit 3fa17436bc39ac3344d91a9f5d8df51f400fec96)\n'}, {'number': 2, 'created': '2023-05-31 07:59:24.000000000', 'files': ['releasenotes/notes/libvirt-daemon-1cfe1bd9f29708fe.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/875b189fe3de641a55e69e1c87747a76780945f9', 'message': 'Add release note about libvirt-daemon package installation\n\nThis adds a release note about the installation of libvirt-daemon\npackage, which was added by [1].\n\n[1] I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n\nChange-Id: I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b\n(cherry picked from commit 00a3b773102ff5b4fb32eaec4464aa97e31fe7c0)\n(cherry picked from commit 3fa17436bc39ac3344d91a9f5d8df51f400fec96)\n(cherry picked from commit 7795268f76f6323edea349b6183eafe6859a5f8e)\n'}]",0,884748,875b189fe3de641a55e69e1c87747a76780945f9,9,3,2,9816,,,0,"Add release note about libvirt-daemon package installation

This adds a release note about the installation of libvirt-daemon
package, which was added by [1].

[1] I612856bfd23f980b1e94815d3b5e15e0ea39f72e

Change-Id: I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b
(cherry picked from commit 00a3b773102ff5b4fb32eaec4464aa97e31fe7c0)
(cherry picked from commit 3fa17436bc39ac3344d91a9f5d8df51f400fec96)
(cherry picked from commit 7795268f76f6323edea349b6183eafe6859a5f8e)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/48/884748/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/libvirt-daemon-1cfe1bd9f29708fe.yaml'],1,c6164b3008a4badc506088e1378794635cbb6cd6,,--- features: - | The ``nova::compute::libvirt::services`` class now installs the ``libvirt-damon`` package explicitly in CentOS and RHEL when modular libvirt daemons are not used. This is required in recent CentOS Stream 9 to use legacy libvirtd service and socket. ,,7,0
openstack%2Fkayobe-config~stable%2F2023.1~I33b0d87a32d5853f529c304546fd01f03edfbe1e,openstack/kayobe-config,stable/2023.1,I33b0d87a32d5853f529c304546fd01f03edfbe1e,Update TOX_CONSTRAINTS_FILE for stable/2023.1,MERGED,2023-05-31 08:27:03.000000000,2023-05-31 09:12:08.000000000,2023-05-31 09:12:08.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-31 08:27:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/b6a94dfe4607216a4c4357b9f7319516a817580f', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/2023.1\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/2023.1 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I33b0d87a32d5853f529c304546fd01f03edfbe1e\n'}]",0,884834,b6a94dfe4607216a4c4357b9f7319516a817580f,7,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/2023.1

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/2023.1 branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I33b0d87a32d5853f529c304546fd01f03edfbe1e
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/34/884834/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b6a94dfe4607216a4c4357b9f7319516a817580f,create-2023.1, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fpuppet-nova~stable%2Fzed~I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b,openstack/puppet-nova,stable/zed,I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b,Add release note about libvirt-daemon package installation,MERGED,2023-05-31 02:10:43.000000000,2023-05-31 09:10:32.000000000,2023-05-31 09:09:32.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 02:10:43.000000000', 'files': ['releasenotes/notes/libvirt-daemon-1cfe1bd9f29708fe.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7795268f76f6323edea349b6183eafe6859a5f8e', 'message': 'Add release note about libvirt-daemon package installation\n\nThis adds a release note about the installation of libvirt-daemon\npackage, which was added by [1].\n\n[1] I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n\nChange-Id: I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b\n(cherry picked from commit 00a3b773102ff5b4fb32eaec4464aa97e31fe7c0)\n(cherry picked from commit 3fa17436bc39ac3344d91a9f5d8df51f400fec96)\n'}]",1,884741,7795268f76f6323edea349b6183eafe6859a5f8e,8,3,1,9816,,,0,"Add release note about libvirt-daemon package installation

This adds a release note about the installation of libvirt-daemon
package, which was added by [1].

[1] I612856bfd23f980b1e94815d3b5e15e0ea39f72e

Change-Id: I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b
(cherry picked from commit 00a3b773102ff5b4fb32eaec4464aa97e31fe7c0)
(cherry picked from commit 3fa17436bc39ac3344d91a9f5d8df51f400fec96)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/41/884741/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/libvirt-daemon-1cfe1bd9f29708fe.yaml'],1,7795268f76f6323edea349b6183eafe6859a5f8e,,--- features: - | The ``nova::compute::libvirt::services`` class now installs the ``libvirt-damon`` package explicitly in CentOS and RHEL when modular libvirt daemons are not used. This is required in recent CentOS Stream 9 to use legacy libvirtd service and socket. ,,7,0
openstack%2Fpuppet-ceph~master~I8e9d53a53eedff0bd8f529ea4bd415331139b862,openstack/puppet-ceph,master,I8e9d53a53eedff0bd8f529ea4bd415331139b862,Ensure mds key are created before starting ceph-mds,MERGED,2023-05-26 08:23:19.000000000,2023-05-31 09:09:07.000000000,2023-05-31 09:09:07.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 08:23:19.000000000', 'files': ['manifests/profile/mds.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/18055e7d7a81a071ffe9e2c69c75b433e9224569', 'message': 'Ensure mds key are created before starting ceph-mds\n\nThe key is required so that ceph-mds service can pull information from\nceph-mon.\n\nChange-Id: I8e9d53a53eedff0bd8f529ea4bd415331139b862\n'}]",1,884461,18055e7d7a81a071ffe9e2c69c75b433e9224569,9,3,1,9816,,,0,"Ensure mds key are created before starting ceph-mds

The key is required so that ceph-mds service can pull information from
ceph-mon.

Change-Id: I8e9d53a53eedff0bd8f529ea4bd415331139b862
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/61/884461/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/mds.pp'],1,18055e7d7a81a071ffe9e2c69c75b433e9224569,, } -> Service<| tag == 'ceph-mds' |>, },1,1
openstack%2Fpuppet-keystone~master~I46b09092847eeb821f97172e1a912ad8a1b8a2e3,openstack/puppet-keystone,master,I46b09092847eeb821f97172e1a912ad8a1b8a2e3,Deprecate client class,MERGED,2023-05-26 02:00:19.000000000,2023-05-31 09:09:01.000000000,2023-05-31 09:08:00.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 02:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/3ffcbef4e7eb7f43da409b24b1a204d753749080', 'message': 'Deprecate client class\n\nThe python-keystoneclient package removed CLI long ago so installing\nthe package is now useless. It provides only library implementations\nand should be installed by package dependencies.\n\nChange-Id: I46b09092847eeb821f97172e1a912ad8a1b8a2e3\n'}, {'number': 2, 'created': '2023-05-26 02:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/4bf9db5e4373de5030cd6b4f0d63716c387dc851', 'message': 'Deprecate client class\n\nThe python-keystoneclient package removed CLI long ago so installing\nthe package is now useless. It provides only library implementations\nand should be installed by package dependencies.\n\nChange-Id: I46b09092847eeb821f97172e1a912ad8a1b8a2e3\n'}, {'number': 3, 'created': '2023-05-26 02:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/a939f967cc6565a7dbfc4d426725d0d2023a6902', 'message': 'Deprecate client class\n\nThe python-keystoneclient package removed CLI long ago so installing\nthe package is now useless. It provides only library implementations\nand should be installed by package dependencies.\n\nChange-Id: I46b09092847eeb821f97172e1a912ad8a1b8a2e3\n'}, {'number': 4, 'created': '2023-05-30 01:02:18.000000000', 'files': ['releasenotes/notes/deprecate-client-09e5876938d3a374.yaml', 'manifests/init.pp', 'manifests/client.pp', 'spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f271472b4824cdad1d0939c7c2d3a68556d1467d', 'message': 'Deprecate client class\n\nThe python-keystoneclient package removed CLI long ago so installing\nthe package is now useless. It provides only library implementations\nand should be installed by package dependencies.\n\nChange-Id: I46b09092847eeb821f97172e1a912ad8a1b8a2e3\n'}]",0,884448,f271472b4824cdad1d0939c7c2d3a68556d1467d,12,3,4,9816,,,0,"Deprecate client class

The python-keystoneclient package removed CLI long ago so installing
the package is now useless. It provides only library implementations
and should be installed by package dependencies.

Change-Id: I46b09092847eeb821f97172e1a912ad8a1b8a2e3
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/48/884448/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-client-09e5876938d3a374.yaml', 'manifests/init.pp', 'manifests/client.pp', 'spec/classes/keystone_init_spec.rb']",4,3ffcbef4e7eb7f43da409b24b1a204d753749080,, it { is_expected.to contain_class('openstacklib::openstackclient') }, it { is_expected.to contain_class('keystone::client').with( 'ensure' => 'present' ) },25,16
openstack%2Fkayobe-config~stable%2F2023.1~Icacd1624f705154bf8fe8f73e83de46b1e845179,openstack/kayobe-config,stable/2023.1,Icacd1624f705154bf8fe8f73e83de46b1e845179,Update .gitreview for stable/2023.1,MERGED,2023-05-31 08:27:01.000000000,2023-05-31 09:07:50.000000000,2023-05-31 09:07:50.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-31 08:27:01.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/06df0f0fc428678284ab1a40d307c1f90dbe80dc', 'message': 'Update .gitreview for stable/2023.1\n\nChange-Id: Icacd1624f705154bf8fe8f73e83de46b1e845179\n'}]",0,884833,06df0f0fc428678284ab1a40d307c1f90dbe80dc,7,3,1,22816,,,0,"Update .gitreview for stable/2023.1

Change-Id: Icacd1624f705154bf8fe8f73e83de46b1e845179
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/33/884833/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,06df0f0fc428678284ab1a40d307c1f90dbe80dc,create-2023.1,defaultbranch=stable/2023.1,,1,0
openstack%2Fpuppet-openstack-integration~master~I8d54ae01488f35a70a6aeb97749765bd5edb0afa,openstack/puppet-openstack-integration,master,I8d54ae01488f35a70a6aeb97749765bd5edb0afa,Capture some ceph commands,MERGED,2023-03-29 02:21:15.000000000,2023-05-31 09:07:24.000000000,2023-05-31 09:07:24.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-29 02:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/dd719cee5251696e00ff82f53f4b6cf38d4e5923', 'message': 'Capture some ceph commands\n\n... so that we can review status of ceph deployment more in detail.\n\nChange-Id: I8d54ae01488f35a70a6aeb97749765bd5edb0afa\n'}, {'number': 2, 'created': '2023-03-29 06:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1a4172da0bafdff394e28e06ff21d8d0b8be9bb3', 'message': 'Capture some ceph commands\n\n... so that we can review status of ceph deployment more in detail.\n\nChange-Id: I8d54ae01488f35a70a6aeb97749765bd5edb0afa\n'}, {'number': 3, 'created': '2023-03-29 07:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5b80891e8b35f852b061a6e8a81140391edd3e61', 'message': 'Capture some ceph commands\n\n... so that we can review status of ceph deployment more in detail.\n\nChange-Id: I8d54ae01488f35a70a6aeb97749765bd5edb0afa\n'}, {'number': 4, 'created': '2023-03-30 08:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/740a347c3dd75c2e0e96682ceadf4c40c40375a7', 'message': 'Capture some ceph commands\n\n... so that we can review status of ceph deployment more in detail.\n\nChange-Id: I8d54ae01488f35a70a6aeb97749765bd5edb0afa\n'}, {'number': 5, 'created': '2023-05-25 02:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c2f0ed90b626907d5f0ccfcd2a73e9a60ea87623', 'message': 'Capture some ceph commands\n\n... so that we can review status of ceph deployment more in detail.\n\nChange-Id: I8d54ae01488f35a70a6aeb97749765bd5edb0afa\n'}, {'number': 6, 'created': '2023-05-25 10:16:53.000000000', 'files': ['copy_logs.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/49aec62c400c0e461abc52a6586a553b58e2489e', 'message': 'Capture some ceph commands\n\n... so that we can review status of ceph deployment more in detail.\n\nChange-Id: I8d54ae01488f35a70a6aeb97749765bd5edb0afa\n'}]",3,878806,49aec62c400c0e461abc52a6586a553b58e2489e,23,3,6,9816,,,0,"Capture some ceph commands

... so that we can review status of ceph deployment more in detail.

Change-Id: I8d54ae01488f35a70a6aeb97749765bd5edb0afa
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/06/878806/1 && git format-patch -1 --stdout FETCH_HEAD,['copy_logs.sh'],1,dd719cee5251696e00ff82f53f4b6cf38d4e5923,ceph-cmd,# ceph if [ `command -v ceph` ]; then mkdir $LOG_DIR/ceph sudo ceph status > $LOG_DIR/ceph/ceph-status.txt sudo ceph osd tree > $LOG_DIR/ceph/ceph-osd-tree.txt sudo ceph osd pool ls > $LOG_DIR/ceph/ceph-osd-pool-ls.txt sudo ceph-volume lvm list ceph-volume lvm list > $LOG_DIR/ceph/ceph-volume-lvm-list.txt fi ,,9,0
openstack%2Freleases~master~Idc996e8bb3d67e620aba8efd53087dd354856c80,openstack/releases,master,Idc996e8bb3d67e620aba8efd53087dd354856c80,[kolla] Release kayobe for Antelope and cut branch,MERGED,2023-05-26 18:31:18.000000000,2023-05-31 08:19:02.000000000,2023-05-31 08:19:02.000000000,"[{'_account_id': 308}, {'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-05-26 18:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/3a9b338e35d291554bb45b3d342dd3da0d087aa3', 'message': '[kolla] Release kayobe for Antelope and cut branch\n\nThis release patch is to ensure, that trailing typed projects have been\nbranched for Antelope. The deadline for these deliverables is June 1st.\n\nPlease +1 if the team is ready for us to proceed with this or update/-1\nif something should be changed.\n\nChange-Id: Idc996e8bb3d67e620aba8efd53087dd354856c80\n'}, {'number': 2, 'created': '2023-05-30 12:35:52.000000000', 'files': ['deliverables/antelope/kayobe.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bffa0396d00a04ba539c21330d7cbe2f775bf213', 'message': '[kolla] Release kayobe for Antelope and cut branch\n\nThis release patch is to ensure, that trailing typed projects have been\nbranched for Antelope. The deadline for these deliverables is June 1st.\n\nPlease +1 if the team is ready for us to proceed with this or update/-1\nif something should be changed.\n\nChange-Id: Idc996e8bb3d67e620aba8efd53087dd354856c80\n'}]",1,884550,bffa0396d00a04ba539c21330d7cbe2f775bf213,12,6,2,17685,,,0,"[kolla] Release kayobe for Antelope and cut branch

This release patch is to ensure, that trailing typed projects have been
branched for Antelope. The deadline for these deliverables is June 1st.

Please +1 if the team is ready for us to proceed with this or update/-1
if something should be changed.

Change-Id: Idc996e8bb3d67e620aba8efd53087dd354856c80
",git fetch https://review.opendev.org/openstack/releases refs/changes/50/884550/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/antelope/kayobe.yaml'],1,3a9b338e35d291554bb45b3d342dd3da0d087aa3,antelope-trailing-branch-cut,releases: - version: 14.0.0.0rc1 projects: - repo: openstack/kayobe hash: 7f4ba451913f6a571aee56ce4a5016cd3012cc2d - repo: openstack/kayobe-config hash: 0f8b0912b4101c0df7ab6b7a612a3f23afa38a95 - repo: openstack/kayobe-config-dev hash: 12cbf39eed5df35a2f303f6589c8e04a78e32ebb branches: - name: stable/2023.1 location: 14.0.0.0rc1,,12,0
openstack%2Fnova~master~I5a135b012dabdff7cf06204fc3c5438aaa0985c9,openstack/nova,master,I5a135b012dabdff7cf06204fc3c5438aaa0985c9,db: Replace use of backref,NEW,2022-10-10 15:34:34.000000000,2023-05-31 08:05:38.000000000,,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-10-10 15:34:34.000000000', 'files': ['nova/db/api/models.py', 'nova/db/main/models.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e14a2b8419ad7f25afd08d4403f38b446a1d3c9c', 'message': ""db: Replace use of backref\n\nPer the SQLAlchemy docs [1]:\n\n  The relationship.backref keyword should be considered legacy, and use\n  of relationship.back_populates with explicit relationship() constructs\n  should be preferred.\n\nA number of the relationships defined here don't have foreign keys (long\nlive mordred?) so their conversion is slightly more difficult than would\notherwise be the case. A blog post is available to explain what's going\non [2] and might be worth a read. The learnings from that blog post do\nhave the benefit of allowing us to simplify some existing relationships\nthat had unnecessary arguments defined.\n\n[1] https://docs.sqlalchemy.org/en/14/orm/backref.html\n[2] https://that.guru/blog/sqlalchemy-relationships-without-foreign-keys/\n\nChange-Id: I5a135b012dabdff7cf06204fc3c5438aaa0985c9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",12,860829,e14a2b8419ad7f25afd08d4403f38b446a1d3c9c,21,6,1,15334,,,0,"db: Replace use of backref

Per the SQLAlchemy docs [1]:

  The relationship.backref keyword should be considered legacy, and use
  of relationship.back_populates with explicit relationship() constructs
  should be preferred.

A number of the relationships defined here don't have foreign keys (long
live mordred?) so their conversion is slightly more difficult than would
otherwise be the case. A blog post is available to explain what's going
on [2] and might be worth a read. The learnings from that blog post do
have the benefit of allowing us to simplify some existing relationships
that had unnecessary arguments defined.

[1] https://docs.sqlalchemy.org/en/14/orm/backref.html
[2] https://that.guru/blog/sqlalchemy-relationships-without-foreign-keys/

Change-Id: I5a135b012dabdff7cf06204fc3c5438aaa0985c9
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/860829/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/api/models.py', 'nova/db/main/models.py']",2,e14a2b8419ad7f25afd08d4403f38b446a1d3c9c,sqlalchemy-20," 'Instance', back_populates='services', block_device_mapping = orm.relationship( 'BlockDeviceMapping', back_populates='instance', ) console_auth_tokens = orm.relationship( 'ConsoleAuthToken', back_populates='instance', foreign_keys='ConsoleAuthToken.instance_uuid', primaryjoin=( 'and_(Instance.uuid == ConsoleAuthToken.instance_uuid,' 'Instance.deleted == 0)' ), ) extra = orm.relationship( 'InstanceExtra', back_populates='instance', uselist=False, ) info_cache = orm.relationship( 'InstanceInfoCache', back_populates='instance', uselist=False, ) pci_devices = orm.relationship( 'PciDevice', back_populates='instance', foreign_keys='PciDevice.instance_uuid', primaryjoin=( 'and_(Instance.uuid == PciDevice.instance_uuid,' 'PciDevice.deleted == 0)' ), ) services = orm.relationship( 'Service', back_populates='instance', primaryjoin=( 'and_(Instance.host == Service.host,' 'Service.binary == ""nova-compute"",' 'Instance.deleted == 0)' ), foreign_keys='Service.host', ) security_groups = orm.relationship( 'SecurityGroup', secondary='security_group_instance_association', back_populates='instances', ) system_metadata = orm.relationship( 'InstanceSystemMetadata', back_populates='instance', ) tags = orm.relationship( 'Tag', back_populates='instance', primaryjoin=( 'and_(Instance.uuid == Tag.resource_id,Instance.deleted == 0)' ), foreign_keys='Tag.resource_id', ) # NOTE(stephenfin): https://github.com/sqlalchemy/sqlalchemy/discussions/8619 Instance.metadata = orm.relationship( 'InstanceMetadata', back_populates='instance', foreign_keys='InstanceMetadata.instance_uuid', primaryjoin=( 'and_(Instance.uuid == InstanceMetadata.instance_uuid,' 'InstanceMetadata.deleted == 0)' ), ) back_populates='info_cache', back_populates='extra', back_populates='block_device_mapping', back_populates='security_groups', 'Instance.deleted == 0)') rules = orm.relationship( 'SecurityGroupIngressRule', primaryjoin=( 'and_(' 'SecurityGroupIngressRule.parent_group_id == SecurityGroup.id,' 'SecurityGroupIngressRule.deleted == 0)' ), back_populates='parent_group', ) parent_group = orm.relationship(""SecurityGroup"", back_populates=""rules"", foreign_keys=[parent_group_id], foreign_keys=[group_id], instance = orm.relationship( Instance, back_populates=""metadata"", foreign_keys=instance_uuid, primaryjoin=( 'and_(InstanceMetadata.instance_uuid == Instance.uuid,' 'InstanceMetadata.deleted == 0)' ), ) instance = orm.relationship( Instance, back_populates='system_metadata', foreign_keys=instance_uuid, ) instance = orm.relationship(Instance, back_populates=""pci_devices"", 'Instance', back_populates='tags', foreign_keys=resource_id, back_populates='console_auth_tokens',"," ""Instance"", backref='services', backref=orm.backref('info_cache', uselist=False), backref=orm.backref('extra', uselist=False), backref=orm.backref('block_device_mapping'), 'Instance.deleted == 0)', backref='security_groups') parent_group = orm.relationship(""SecurityGroup"", backref=""rules"", foreign_keys=parent_group_id, foreign_keys=group_id, instance = orm.relationship(Instance, backref=""metadata"", foreign_keys=instance_uuid, primaryjoin='and_(' 'InstanceMetadata.instance_uuid == ' 'Instance.uuid,' 'InstanceMetadata.deleted == 0)') instance = orm.relationship(Instance, backref=""system_metadata"", foreign_keys=instance_uuid) instance = orm.relationship(Instance, backref=""pci_devices"", ""Instance"", backref='tags', foreign_keys=resource_id backref='console_auth_tokens',",142,50
openstack%2Fnova~master~I62acb9c155d8202fa49f793c6fef9d8d4b4027f9,openstack/nova,master,I62acb9c155d8202fa49f793c6fef9d8d4b4027f9,objects: Stop fetching from security_groups table,NEW,2022-10-10 15:34:34.000000000,2023-05-31 07:47:22.000000000,,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-10-10 15:34:34.000000000', 'files': ['nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b9c71b1fdbeae2ad0e5df70e1cd7a0a44709fe61', 'message': 'objects: Stop fetching from security_groups table\n\nThis will allow us to eventually remove those tables in B or later.\n\nChange-Id: I62acb9c155d8202fa49f793c6fef9d8d4b4027f9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",8,860850,b9c71b1fdbeae2ad0e5df70e1cd7a0a44709fe61,16,5,1,15334,,,0,"objects: Stop fetching from security_groups table

This will allow us to eventually remove those tables in B or later.

Change-Id: I62acb9c155d8202fa49f793c6fef9d8d4b4027f9
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/860850/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py']",2,b9c71b1fdbeae2ad0e5df70e1cd7a0a44709fe61,sqlalchemy-20," columns_to_join=['info_cache']) columns_to_join=['info_cache']), columns_to_join=['info_cache']) columns_to_join=['info_cache']), columns_to_join=['info_cache']), self.context, fake_uuid, columns_to_join=['info_cache']) columns_to_join=['info_cache', 'system_metadata'] columns_to_join=['info_cache']) expected_updates, columns_to_join=['info_cache', 'system_metadata'] ) columns_to_join=['info_cache']) columns_to_join=['info_cache']) columns_to_join=['info_cache']) columns_to_join=['info_cache']) # we no longer actually save these, so this should return 0 self.assertEqual(0, len(inst.security_groups)) columns_to_join=['info_cache']) mock_upd_secgrp.assert_not_called() columns_to_join=['info_cache']) host='foo-host', # this is the default now since we no longer set these things 'info_cache', 'metadata', 'pci_devices', 'tags', 'extra',","from nova.objects import security_groupfrom nova.tests.unit.objects import test_security_group db_inst['security_groups'] = [] columns_to_join=['info_cache', 'security_groups']) columns_to_join=['info_cache', 'security_groups']), columns_to_join=['info_cache', 'security_groups']) columns_to_join=['info_cache', 'security_groups']), columns_to_join=['info_cache', 'security_groups']), self.context, fake_uuid, columns_to_join=['info_cache', 'security_groups']) columns_to_join=['info_cache', 'security_groups', 'system_metadata'] columns_to_join=['info_cache', 'security_groups']) expected_updates, columns_to_join=['info_cache', 'security_groups', 'system_metadata']) columns_to_join=['info_cache', 'security_groups']) columns_to_join=['info_cache', 'security_groups']) columns_to_join=['info_cache', 'security_groups']) columns_to_join=['info_cache', 'security_groups']) self.assertEqual(2, len(inst.security_groups)) for index, group in enumerate(fake_inst['security_groups']): for key in group: self.assertEqual(group[key], getattr(inst.security_groups[index], key)) self.assertIsInstance(inst.security_groups[index], security_group.SecurityGroup) inst.security_groups[0].description = 'changed' columns_to_join=['info_cache', 'security_groups']) mock_upd_secgrp.assert_called_once_with(self.context, 1, {'description': 'changed'}) columns_to_join=['info_cache', 'security_groups']) secgroups = security_group.SecurityGroupList() secgroups.objects = [] for name in ('foo', 'bar'): secgroup = security_group.SecurityGroup() secgroup.name = name secgroups.objects.append(secgroup) host='foo-host', security_groups=secgroups, 'security_groups': ['foo', 'bar'], @mock.patch('nova.objects.SecurityGroupList.get_by_instance') def test_load_security_groups(self, mock_get): secgroups = [] for name in ('foo', 'bar'): secgroup = security_group.SecurityGroup() secgroup.name = name secgroups.append(secgroup) fake_secgroups = security_group.SecurityGroupList(objects=secgroups) mock_get.return_value = fake_secgroups inst = objects.Instance(context=self.context, uuid=uuids.instance) secgroups = inst.security_groups mock_get.assert_called_once_with(self.context, inst) self.assertEqual(fake_secgroups, secgroups) db_inst['security_groups'] = [] @mock.patch('nova.objects.instance.Instance.obj_make_compatible') def test_get_by_security_group(self, mock_compat): fake_secgroup = dict(test_security_group.fake_secgroup) fake_secgroup['instances'] = [ fake_instance.fake_db_instance(id=1, system_metadata={'foo': 'bar'}), fake_instance.fake_db_instance(id=2), ] with mock.patch.object(db, 'security_group_get') as sgg: sgg.return_value = fake_secgroup secgroup = security_group.SecurityGroup() secgroup.id = fake_secgroup['id'] instances = instance.InstanceList.get_by_security_group( self.context, secgroup) self.assertEqual(2, len(instances)) self.assertEqual([1, 2], [x.id for x in instances]) self.assertTrue(instances[0].obj_attr_is_set('system_metadata')) self.assertEqual({'foo': 'bar'}, instances[0].system_metadata) def test_get_by_security_group_after_destroy(self): db_sg = db.security_group_create( self.context, {'name': 'foo', 'description': 'test group', 'user_id': self.context.user_id, 'project_id': self.context.project_id}) self.assertFalse(db.security_group_in_use(self.context, db_sg.id)) inst = objects.Instance( context=self.context, user_id=self.context.user_id, project_id=self.context.project_id) inst.create() db.instance_add_security_group(self.context, inst.uuid, db_sg.id) self.assertTrue(db.security_group_in_use(self.context, db_sg.id)) inst.destroy() self.assertFalse(db.security_group_in_use(self.context, db_sg.id)) 'security_groups', 'info_cache', 'metadata', 'security_groups', 'pci_devices', 'tags', 'extra',",32,127
openstack%2Fskyline-console~master~I22049e478b6440c765751c8f17663f36f33c277a,openstack/skyline-console,master,I22049e478b6440c765751c8f17663f36f33c277a,feat: optimize configuration reading,MERGED,2023-05-31 02:47:21.000000000,2023-05-31 07:17:57.000000000,2023-05-31 07:16:54.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 33689}]","[{'number': 1, 'created': '2023-05-31 02:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/73d0847562646a349739236f75de989257f44120', 'message': 'feat: optimize configuration reading\n\nAdd config/config.yaml to set default configurations. Use the config/local_config.yaml to set the custom configurations\n\nChange-Id: I22049e478b6440c765751c8f17663f36f33c277a\n'}, {'number': 2, 'created': '2023-05-31 03:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/193572d729aeaf60f3beb5033b96d07e2a359595', 'message': 'feat: optimize configuration reading\n\nAdd config/config.yaml to set default configurations. Use the config/local_config.yaml to set the custom configurations\n\nChange-Id: I22049e478b6440c765751c8f17663f36f33c277a\n'}, {'number': 3, 'created': '2023-05-31 03:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e0f3ff8be37cdae8def46c5d4120b404b7286349', 'message': 'feat: optimize configuration reading\n\nAdd config/config.yaml to set default configurations. Use the config/local_config.yaml to set the custom configurations\n\nChange-Id: I22049e478b6440c765751c8f17663f36f33c277a\n'}, {'number': 4, 'created': '2023-05-31 03:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/ad35ee4d7c2a2c7cf520901b40cc9b89d3672b35', 'message': 'feat: optimize configuration reading\n\nAdd config/config.yaml to set default configurations. Use the config/local_config.yaml to set the custom configurations\n\nChange-Id: I22049e478b6440c765751c8f17663f36f33c277a\n'}, {'number': 5, 'created': '2023-05-31 03:41:34.000000000', 'files': ['config/utils.js', '.gitignore', 'docs/en/develop/1-ready-to-work.md', 'README.rst', 'config/webpack.dev.js', 'doc/source/development/ready-to-work.rst', 'config/config.yaml', 'doc/source/development/catalog-introduction.rst', 'README-zh_CN.rst', 'docs/zh/develop/1-ready-to-work.md', 'releasenotes/notes/Optimize-Configuration-Reading-5914bb51c3ecb0c4.yaml', 'doc/source/configuration/skyline-console-settings.rst', 'config/server.dev.js', 'docs/zh/develop/2-catalog-introduction.md', 'doc/source/contributor/development.environment.rst', 'docs/en/develop/2-catalog-introduction.md'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/0213d8c6d63ac32fd8b299332b2ec72a74803430', 'message': 'feat: optimize configuration reading\n\nAdd config/config.yaml to set default configurations. Use the config/local_config.yaml to set the custom configurations\n\nChange-Id: I22049e478b6440c765751c8f17663f36f33c277a\n'}]",0,884795,0213d8c6d63ac32fd8b299332b2ec72a74803430,12,3,5,30434,,,0,"feat: optimize configuration reading

Add config/config.yaml to set default configurations. Use the config/local_config.yaml to set the custom configurations

Change-Id: I22049e478b6440c765751c8f17663f36f33c277a
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/95/884795/5 && git format-patch -1 --stdout FETCH_HEAD,"['config/utils.js', '.gitignore', 'docs/en/develop/1-ready-to-work.md', 'README.rst', 'config/webpack.dev.js', 'doc/source/development/ready-to-work.rst', 'config/config.yaml', 'doc/source/development/catalog-introduction.rst', 'README-zh_CN.rst', 'docs/zh/develop/1-ready-to-work.md', 'releasenotes/notes/Optimize-Configuration-Reading-5914bb51c3ecb0c4.yaml', 'doc/source/configuration/skyline-console-settings.rst', 'config/server.dev.js', 'docs/zh/develop/2-catalog-introduction.md', 'doc/source/contributor/development.environment.rst', 'docs/en/develop/2-catalog-introduction.md']",16,73d0847562646a349739236f75de989257f44120,config,"│ ├── config.yaml (The default configuration of host, port, and server during development) │ ├── local_config.yaml (gitignore file, you can configure the host/port/server used in the actual development, if the actual value is different from the default value in config.yaml, you can modify it in this file) │ ├── server.dev.js (Read the custom configuration information used during development) │ ├── utils.js",,165,131
openstack%2Fcharm-cinder-ceph-k8s~main~Ib3a72167122716208f751ef2864f77986d23c925,openstack/charm-cinder-ceph-k8s,main,Ib3a72167122716208f751ef2864f77986d23c925,Request pools for any changes in charm configuration,MERGED,2023-05-30 07:54:02.000000000,2023-05-31 06:48:40.000000000,2023-05-31 05:56:40.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 07:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/9cd06d86706c5e583cda7d22837841f1154a6ab7', 'message': 'Request pools for any changes in charm configuration\n\nCall request pools to pick any changes in charm\nconfiguration like ceph-osd-replication-count.\n\nChange-Id: Ib3a72167122716208f751ef2864f77986d23c925\n'}, {'number': 2, 'created': '2023-05-30 08:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/d1eddea4ff814f3373a21d142facf9f5173ccf83', 'message': 'Request pools for any changes in charm configuration\n\nCall request pools to pick any changes in charm\nconfiguration like ceph-osd-replication-count.\n\nChange-Id: Ib3a72167122716208f751ef2864f77986d23c925\n'}, {'number': 3, 'created': '2023-05-31 04:58:17.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/db6b86755098488d7ce8e46e5ef7f192e0886ee2', 'message': 'Request pools for any changes in charm configuration\n\nCall request pools to pick any changes in charm\nconfiguration like ceph-osd-replication-count.\n\nChange-Id: Ib3a72167122716208f751ef2864f77986d23c925\n'}]",5,884653,db6b86755098488d7ce8e46e5ef7f192e0886ee2,19,3,3,10366,,,0,"Request pools for any changes in charm configuration

Call request pools to pick any changes in charm
configuration like ceph-osd-replication-count.

Change-Id: Ib3a72167122716208f751ef2864f77986d23c925
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph-k8s refs/changes/53/884653/1 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,9cd06d86706c5e583cda7d22837841f1154a6ab7,config-changes,"from ops.framework import ( EventBase, ) def _on_config_changed(self, event: EventBase) -> None: self.configure_charm(event) if self.ceph.ready: logger.info(""CONFIG changed and ceph ready: calling request pools"") self.ceph.request_pools(event) ",,9,0
openstack%2Fcharm-glance-k8s~main~I0323579c836e90cf631f780d324a505f46da8df2,openstack/charm-glance-k8s,main,I0323579c836e90cf631f780d324a505f46da8df2,Request pools for any changes in charm configuration,MERGED,2023-05-30 07:46:07.000000000,2023-05-31 06:32:14.000000000,2023-05-31 06:05:00.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 07:46:07.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/caa3aa55036fda3d575eb7ffde82a8831a4a8d96', 'message': 'Request pools for any changes in charm configuration\n\nCall request pools to pick any changes in charm\nconfiguration like ceph-osd-replication-count.\n\nChange-Id: I0323579c836e90cf631f780d324a505f46da8df2\n'}]",0,884652,caa3aa55036fda3d575eb7ffde82a8831a4a8d96,8,2,1,10366,,,0,"Request pools for any changes in charm configuration

Call request pools to pick any changes in charm
configuration like ceph-osd-replication-count.

Change-Id: I0323579c836e90cf631f780d324a505f46da8df2
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/52/884652/1 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,caa3aa55036fda3d575eb7ffde82a8831a4a8d96,config-changes," def _on_config_changed(self, event: EventBase) -> None: self.configure_charm(event) if self.has_ceph_relation() and self.ceph.ready: logger.info(""CONFIG changed and ceph ready: calling request pools"") self.ceph.request_pools(event) ",,6,0
openstack%2Fdevstack~master~I2f975857c62e565c4cd3516696a62886c9db2ef0,openstack/devstack,master,I2f975857c62e565c4cd3516696a62886c9db2ef0,Bump OVN_BRANCH to v21.06.0,ABANDONED,2023-05-30 16:24:56.000000000,2023-05-31 06:27:19.000000000,,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 16:24:56.000000000', 'files': ['lib/neutron_plugins/ovn_agent'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e7b8a6700133b21d6f841e7a8de43ddf085c11cc', 'message': 'Bump OVN_BRANCH to v21.06.0\n\nPrevious value was v20.06.1, which is not compatible with neutron master\nbranch after the following patch was merged:\nhttps://review.opendev.org/c/openstack/neutron/+/870621\n\nChange-Id: I2f975857c62e565c4cd3516696a62886c9db2ef0\n'}]",3,884720,e7b8a6700133b21d6f841e7a8de43ddf085c11cc,6,4,1,31291,,,0,"Bump OVN_BRANCH to v21.06.0

Previous value was v20.06.1, which is not compatible with neutron master
branch after the following patch was merged:
https://review.opendev.org/c/openstack/neutron/+/870621

Change-Id: I2f975857c62e565c4cd3516696a62886c9db2ef0
",git fetch https://review.opendev.org/openstack/devstack refs/changes/20/884720/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/ovn_agent'],1,e7b8a6700133b21d6f841e7a8de43ddf085c11cc,,OVN_BRANCH=${OVN_BRANCH:-v21.06.0},OVN_BRANCH=${OVN_BRANCH:-v20.06.1},1,1
openstack%2Fcharm-magnum~stable%2Fzed~If866d1c6f09377b70b5e01dffe2705ce5f4d92aa,openstack/charm-magnum,stable/zed,If866d1c6f09377b70b5e01dffe2705ce5f4d92aa,Enable zaza-openstack-tests,NEW,2023-05-30 22:33:31.000000000,2023-05-31 06:23:22.000000000,,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 22:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magnum/commit/0a9820273539e0c33c9c13afca5d2be7632c5a1b', 'message': 'Enable zaza-openstack-tests\n\n- Add heat domain-setup\n- Add magnum domain-setup\n- Run test MagnumBasicDeployment\n\nChange-Id: If866d1c6f09377b70b5e01dffe2705ce5f4d92aa\n'}, {'number': 2, 'created': '2023-05-30 22:33:52.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-magnum/commit/2877882fb2fc4422f350ed20a1fa843173344e87', 'message': 'Enable zaza-openstack-tests\n\n- Add heat domain-setup\n- Add magnum domain-setup\n- Run test MagnumBasicDeployment\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1068\nChange-Id: If866d1c6f09377b70b5e01dffe2705ce5f4d92aa\n'}]",0,884736,2877882fb2fc4422f350ed20a1fa843173344e87,5,3,2,2424,,,0,"Enable zaza-openstack-tests

- Add heat domain-setup
- Add magnum domain-setup
- Run test MagnumBasicDeployment

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1068
Change-Id: If866d1c6f09377b70b5e01dffe2705ce5f4d92aa
",git fetch https://review.opendev.org/openstack/charm-magnum refs/changes/36/884736/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,0a9820273539e0c33c9c13afca5d2be7632c5a1b,enable-z-o-t-stable/2023.1-stable/zed,- zaza.openstack.charm_tests.heat.setup.domain_setup - zaza.openstack.charm_tests.magnum.setup.domain_setup - zaza.openstack.charm_tests.magnum.setup.add_image- zaza.openstack.charm_tests.magnum.tests.MagnumBasicDeployment,# NOTE(lourot): don't exist in zaza-openstack-tests yet. Disabling for now in # order to make the gate green: #- zaza.openstack.charm_tests.heat.setup.domain_setup #- zaza.openstack.charm_tests.magnum.setup.domain_setup #- zaza.openstack.charm_tests.magnum.setup.add_image# NOTE(lourot): doesn't exist in zaza-openstack-tests yet. Disabling for now in # order to make the gate green: #- zaza.openstack.charm_tests.magnum.tests.MagnumBasicDeployment,4,8
openstack%2Fcharm-magnum~stable%2F2023.1~If866d1c6f09377b70b5e01dffe2705ce5f4d92aa,openstack/charm-magnum,stable/2023.1,If866d1c6f09377b70b5e01dffe2705ce5f4d92aa,Enable zaza-openstack-tests,NEW,2023-05-30 22:33:10.000000000,2023-05-31 06:13:58.000000000,,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 22:33:10.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-magnum/commit/0024b1331d6c71c7d3f17610663dad931db24006', 'message': 'Enable zaza-openstack-tests\n\n- Add heat domain-setup\n- Add magnum domain-setup\n- Run test MagnumBasicDeployment\n\nChange-Id: If866d1c6f09377b70b5e01dffe2705ce5f4d92aa\n'}]",0,884735,0024b1331d6c71c7d3f17610663dad931db24006,4,3,1,2424,,,0,"Enable zaza-openstack-tests

- Add heat domain-setup
- Add magnum domain-setup
- Run test MagnumBasicDeployment

Change-Id: If866d1c6f09377b70b5e01dffe2705ce5f4d92aa
",git fetch https://review.opendev.org/openstack/charm-magnum refs/changes/35/884735/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,0024b1331d6c71c7d3f17610663dad931db24006,enable-z-o-t-stable/2023.1,- zaza.openstack.charm_tests.heat.setup.domain_setup - zaza.openstack.charm_tests.magnum.setup.domain_setup - zaza.openstack.charm_tests.magnum.setup.add_image- zaza.openstack.charm_tests.magnum.tests.MagnumBasicDeployment,# NOTE(lourot): don't exist in zaza-openstack-tests yet. Disabling for now in # order to make the gate green: #- zaza.openstack.charm_tests.heat.setup.domain_setup #- zaza.openstack.charm_tests.magnum.setup.domain_setup #- zaza.openstack.charm_tests.magnum.setup.add_image# NOTE(lourot): doesn't exist in zaza-openstack-tests yet. Disabling for now in # order to make the gate green: #- zaza.openstack.charm_tests.magnum.tests.MagnumBasicDeployment,4,8
openstack%2Fcharm-horizon-k8s~main~Iaaf2e8d7f30791d7412c31789c0bf73d081d0ef0,openstack/charm-horizon-k8s,main,Iaaf2e8d7f30791d7412c31789c0bf73d081d0ef0,Trivial change to trigger republish,MERGED,2023-05-31 03:05:09.000000000,2023-05-31 06:13:32.000000000,2023-05-31 05:47:06.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 03:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/b923cf5044a24d5f8e9b638ad4c5e438cc778564', 'message': 'Trivial change to trigger republish\n\nTrivial change to trigger republish\n\nChange-Id: Iaaf2e8d7f30791d7412c31789c0bf73d081d0ef0\n'}, {'number': 2, 'created': '2023-05-31 03:07:58.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/08872dc6e0d393d7a1c284c0851e355cefb1b925', 'message': 'Trivial change to trigger republish\n\nTrivial change to trigger republish\n\nChange-Id: Iaaf2e8d7f30791d7412c31789c0bf73d081d0ef0\n'}]",0,884798,08872dc6e0d393d7a1c284c0851e355cefb1b925,9,3,2,10366,,,0,"Trivial change to trigger republish

Trivial change to trigger republish

Change-Id: Iaaf2e8d7f30791d7412c31789c0bf73d081d0ef0
",git fetch https://review.opendev.org/openstack/charm-horizon-k8s refs/changes/98/884798/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,b923cf5044a24d5f8e9b638ad4c5e438cc778564,,,,1,0
openstack%2Fheat~master~I845cb19ecc70467606d336850e7154a68208c896,openstack/heat,master,I845cb19ecc70467606d336850e7154a68208c896,"Update the ""Creating your first stack"" document",MERGED,2023-04-12 14:11:10.000000000,2023-05-31 05:55:28.000000000,2023-05-31 05:54:17.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-12 14:11:10.000000000', 'files': ['doc/source/getting_started/create_a_stack.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/4254db1c61b125a6fda016f990da97cd8820bea4', 'message': 'Update the ""Creating your first stack"" document\n\nThis patch updates:\n* The fedora cloud image used (the previous one is not longer\n  available)\n* The image name, to match the name used in the ""stack create""\n  command.\n* The link to the ""WordPress_Native.yaml""\n\nTrivial-Fix\n\nChange-Id: I845cb19ecc70467606d336850e7154a68208c896\n'}]",1,880156,4254db1c61b125a6fda016f990da97cd8820bea4,8,3,1,16688,,,0,"Update the ""Creating your first stack"" document

This patch updates:
* The fedora cloud image used (the previous one is not longer
  available)
* The image name, to match the name used in the ""stack create""
  command.
* The link to the ""WordPress_Native.yaml""

Trivial-Fix

Change-Id: I845cb19ecc70467606d336850e7154a68208c896
",git fetch https://review.opendev.org/openstack/heat refs/changes/56/880156/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/getting_started/create_a_stack.rst'],1,4254db1c61b125a6fda016f990da97cd8820bea4,update_create_stack_doc, $ wget https://download.fedoraproject.org/pub/fedora/linux/releases/37/Cloud/x86_64/images/Fedora-Cloud-Base-37-1.7.x86_64.qcow2 --file=Fedora-Cloud-Base-37-1.7.x86_64.qcow2 \ my-fedora-image $ openstack stack create -t https://opendev.org/openstack/heat-templates/src/branch/master/hot/F20/WordPress_Native.yaml --parameter key_name=heat_key --parameter image_id=my-fedora-image --parameter instance_type=m1.small teststack, $ wget http://cloud.fedoraproject.org/fedora-20.x86_64.qcow2 --file=fedora-20.x86_64.qcow2 \ fedora-20.x86_64 $ openstack stack create -t https://opendev.org/openstack/heat-templates/raw/src/branch/master/hot/F20/WordPress_Native.yaml --parameter key_name=heat_key --parameter image_id=my-fedora-image --parameter instance_type=m1.small teststack,4,4
openstack%2Fcharm-neutron-dynamic-routing~master~I21ba5d79ff100b839874a65e4ddd32f20dfb1311,openstack/charm-neutron-dynamic-routing,master,I21ba5d79ff100b839874a65e4ddd32f20dfb1311,Add OVN + neutron-dynamic-routing bundles,MERGED,2023-05-30 08:14:58.000000000,2023-05-31 05:50:37.000000000,2023-05-31 05:50:37.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 08:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/2951b10e05b49a10507b9a025af62fa9321ae0ac', 'message': ""Add OVN + neutron-dynamic-routing bundles\n\n* OVN + NDR testing is possible as of Neutron 22.0.0 (2023.1 or\n  Antelope), see [1][2].\n* Vault is added to non-OVN bundles as the tests.yaml file is shared\n  and uses a configure step for Vault\n\nImportant note: at the time of writing the OVN integration code in\nNeutron does not have any use for `distributed` and `ha` router extra\nattributes and whether distributed or centralized FIPs are used in OVN\nis governed by the ovn/enable_distributed_floating_ip option which does\nnot operate at the per-router granularity and is global.\n\nThe docs have not been updated and still say [3] that OVN routers do not\nexpose `ha` or `distributed` attributes which are now there as of [1].\n\nAt the same time, the NDR implementation uses the `distributed`\nattribute to determine whether to use the gateway port IP and treat FIPs\nas centralized [4] and add a next-hop to the gateway port IP or not in\nthe advertised /32 routes. For routers with `distributed == True`,\nNDR only attempts [5] to find ports with device owner\n`'floatingip_agent_gateway'`. Therefore, when distributed FIPs are\nenabled via ovn/enable_distributed_floating_ip, the `distributed` extra\nattribute on a router is set to `False` and /32 routes are advertised\nas centralized.\n\nThe distributed FIP case is currently not exercised by the current\nbundles neither for ML2/ovs nor ML2/ovn. The current bundles only test\nthe control plane and route advertisement, not packet forwarding via\nadvertised next-hops.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/864051\n[2] https://github.com/openstack/neutron/commit/4d1a7bd0bc3b142a6dc7f8414ed0d30e6c159057\n[3] https://github.com/openstack/neutron/blame/cd66232c2b26cb4141c2e9426ce2dec0f38c364c/doc/source/ovn/faq/index.rst#L16-L29\n[4] https://github.com/openstack/neutron-dynamic-routing/blob/513ea649be9fd652b0c5b391167f851bc3d653bb/neutron_dynamic_routing/db/bgp_db.py#L564\n[5] https://github.com/openstack/neutron-dynamic-routing/blob/513ea649be9fd652b0c5b391167f851bc3d653bb/neutron_dynamic_routing/db/bgp_db.py#L567-L580\n\nChange-Id: I21ba5d79ff100b839874a65e4ddd32f20dfb1311\n""}, {'number': 2, 'created': '2023-05-30 09:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/4c5c6426f8acf93b4d660dd57e19989bec56dee9', 'message': ""Add OVN + neutron-dynamic-routing bundles\n\n* OVN + NDR testing is possible as of Neutron 22.0.0 (2023.1 or\n  Antelope), see [1][2].\n* Vault is added to non-OVN bundles as the tests.yaml file is shared\n  and uses a configure step for Vault\n\nImportant note: at the time of writing the OVN integration code in\nNeutron does not have any use for `distributed` and `ha` router extra\nattributes and whether distributed or centralized FIPs are used in OVN\nis governed by the ovn/enable_distributed_floating_ip option which does\nnot operate at the per-router granularity and is global.\n\nThe docs have not been updated and still say [3] that OVN routers do not\nexpose `ha` or `distributed` attributes which are now there as of [1].\n\nAt the same time, the NDR implementation uses the `distributed`\nattribute to determine whether to use the gateway port IP and treat FIPs\nas centralized [4] and add a next-hop to the gateway port IP or not in\nthe advertised /32 routes. For routers with `distributed == True`,\nNDR only attempts [5] to find ports with device owner\n`'floatingip_agent_gateway'`. Therefore, when distributed FIPs are\nenabled via ovn/enable_distributed_floating_ip, the `distributed` extra\nattribute on a router is set to `False` and /32 routes are advertised\nas centralized.\n\nThe distributed FIP case is currently not exercised by the current\nbundles neither for ML2/ovs nor ML2/ovn. The current bundles only test\nthe control plane and route advertisement, not packet forwarding via\nadvertised next-hops.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/864051\n[2] https://github.com/openstack/neutron/commit/4d1a7bd0bc3b142a6dc7f8414ed0d30e6c159057\n[3] https://github.com/openstack/neutron/blame/cd66232c2b26cb4141c2e9426ce2dec0f38c364c/doc/source/ovn/faq/index.rst#L16-L29\n[4] https://github.com/openstack/neutron-dynamic-routing/blob/513ea649be9fd652b0c5b391167f851bc3d653bb/neutron_dynamic_routing/db/bgp_db.py#L564\n[5] https://github.com/openstack/neutron-dynamic-routing/blob/513ea649be9fd652b0c5b391167f851bc3d653bb/neutron_dynamic_routing/db/bgp_db.py#L567-L580\n\nChange-Id: I21ba5d79ff100b839874a65e4ddd32f20dfb1311\n""}, {'number': 3, 'created': '2023-05-30 09:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/aedc9adfe6a81b1255a6f5b81c338f4fbbb290b5', 'message': ""Add OVN + neutron-dynamic-routing bundles\n\n* OVN + NDR testing is possible as of Neutron 22.0.0 (2023.1 or\n  Antelope), see [1][2].\n* Vault is added to non-OVN bundles as the tests.yaml file is shared\n  and uses a configure step for Vault\n\nImportant note: at the time of writing the OVN integration code in\nNeutron does not have any use for `distributed` and `ha` router extra\nattributes and whether distributed or centralized FIPs are used in OVN\nis governed by the ovn/enable_distributed_floating_ip option which does\nnot operate at the per-router granularity and is global.\n\nThe docs have not been updated and still say [3] that OVN routers do not\nexpose `ha` or `distributed` attributes which are now there as of [1].\n\nAt the same time, the NDR implementation uses the `distributed`\nattribute to determine whether to use the gateway port IP and treat FIPs\nas centralized [4] and add a next-hop to the gateway port IP or not in\nthe advertised /32 routes. For routers with `distributed == True`,\nNDR only attempts [5] to find ports with device owner\n`'floatingip_agent_gateway'`. Therefore, when distributed FIPs are\nenabled via ovn/enable_distributed_floating_ip, the `distributed` extra\nattribute on a router is set to `False` and /32 routes are advertised\nas centralized.\n\nThe distributed FIP case is currently not exercised by the current\nbundles neither for ML2/ovs nor ML2/ovn. The current bundles only test\nthe control plane and route advertisement, not packet forwarding via\nadvertised next-hops.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/864051\n[2] https://github.com/openstack/neutron/commit/4d1a7bd0bc3b142a6dc7f8414ed0d30e6c159057\n[3] https://github.com/openstack/neutron/blame/cd66232c2b26cb4141c2e9426ce2dec0f38c364c/doc/source/ovn/faq/index.rst#L16-L29\n[4] https://github.com/openstack/neutron-dynamic-routing/blob/513ea649be9fd652b0c5b391167f851bc3d653bb/neutron_dynamic_routing/db/bgp_db.py#L564\n[5] https://github.com/openstack/neutron-dynamic-routing/blob/513ea649be9fd652b0c5b391167f851bc3d653bb/neutron_dynamic_routing/db/bgp_db.py#L567-L580\n\nChange-Id: I21ba5d79ff100b839874a65e4ddd32f20dfb1311\n""}, {'number': 4, 'created': '2023-05-30 17:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/3b011984dedac21eb2ab59b73fc56565828a7292', 'message': ""Add OVN + neutron-dynamic-routing bundles\n\n* OVN + NDR testing is possible as of Neutron 22.0.0 (2023.1 or\n  Antelope), see [1][2].\n* Vault is added to non-OVN bundles as the tests.yaml file is shared\n  and uses a configure step for Vault\n\nImportant note: at the time of writing the OVN integration code in\nNeutron does not have any use for `distributed` and `ha` router extra\nattributes and whether distributed or centralized FIPs are used in OVN\nis governed by the ovn/enable_distributed_floating_ip option which does\nnot operate at the per-router granularity and is global.\n\nThe docs have not been updated and still say [3] that OVN routers do not\nexpose `ha` or `distributed` attributes which are now there as of [1].\n\nAt the same time, the NDR implementation uses the `distributed`\nattribute to determine whether to use the gateway port IP and treat FIPs\nas centralized [4] and add a next-hop to the gateway port IP or not in\nthe advertised /32 routes. For routers with `distributed == True`,\nNDR only attempts [5] to find ports with device owner\n`'floatingip_agent_gateway'`. Therefore, when distributed FIPs are\nenabled via ovn/enable_distributed_floating_ip, the `distributed` extra\nattribute on a router is set to `False` and /32 routes are advertised\nas centralized.\n\nThe distributed FIP case is currently not exercised by the current\nbundles neither for ML2/ovs nor ML2/ovn. The current bundles only test\nthe control plane and route advertisement, not packet forwarding via\nadvertised next-hops.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/864051\n[2] https://github.com/openstack/neutron/commit/4d1a7bd0bc3b142a6dc7f8414ed0d30e6c159057\n[3] https://github.com/openstack/neutron/blame/cd66232c2b26cb4141c2e9426ce2dec0f38c364c/doc/source/ovn/faq/index.rst#L16-L29\n[4] https://github.com/openstack/neutron-dynamic-routing/blob/513ea649be9fd652b0c5b391167f851bc3d653bb/neutron_dynamic_routing/db/bgp_db.py#L564\n[5] https://github.com/openstack/neutron-dynamic-routing/blob/513ea649be9fd652b0c5b391167f851bc3d653bb/neutron_dynamic_routing/db/bgp_db.py#L567-L580\n\nChange-Id: I21ba5d79ff100b839874a65e4ddd32f20dfb1311\n""}, {'number': 5, 'created': '2023-05-30 17:51:38.000000000', 'files': ['src/tests/bundles/lunar-antelope.yaml', 'osci.yaml', 'src/tests/bundles/lunar-antelope-ovn.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/bundles/jammy-antelope-ovn.yaml', 'src/tests/bundles/jammy-antelope.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/b97646f6652ada059fb6416d94b8db5da42d9772', 'message': ""Add OVN + neutron-dynamic-routing bundles\n\n* OVN + NDR testing is possible as of Neutron 22.0.0 (2023.1 or\n  Antelope), see [1][2].\n* Vault is added to non-OVN bundles as the tests.yaml file is shared\n  and uses a configure step for Vault\n\nImportant note: at the time of writing the OVN integration code in\nNeutron does not have any use for `distributed` and `ha` router extra\nattributes and whether distributed or centralized FIPs are used in OVN\nis governed by the ovn/enable_distributed_floating_ip option which does\nnot operate at the per-router granularity and is global.\n\nThe docs have not been updated and still say [3] that OVN routers do not\nexpose `ha` or `distributed` attributes which are now there as of [1].\n\nAt the same time, the NDR implementation uses the `distributed`\nattribute to determine whether to use the gateway port IP and treat FIPs\nas centralized [4] and add a next-hop to the gateway port IP or not in\nthe advertised /32 routes. For routers with `distributed == True`,\nNDR only attempts [5] to find ports with device owner\n`'floatingip_agent_gateway'`. Therefore, when distributed FIPs are\nenabled via ovn/enable_distributed_floating_ip, the `distributed` extra\nattribute on a router is set to `False` and /32 routes are advertised\nas centralized.\n\nThe distributed FIP case is currently not exercised by the current\nbundles neither for ML2/ovs nor ML2/ovn. The current bundles only test\nthe control plane and route advertisement, not packet forwarding via\nadvertised next-hops.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/864051\n[2] https://github.com/openstack/neutron/commit/4d1a7bd0bc3b142a6dc7f8414ed0d30e6c159057\n[3] https://github.com/openstack/neutron/blame/cd66232c2b26cb4141c2e9426ce2dec0f38c364c/doc/source/ovn/faq/index.rst#L16-L29\n[4] https://github.com/openstack/neutron-dynamic-routing/blob/513ea649be9fd652b0c5b391167f851bc3d653bb/neutron_dynamic_routing/db/bgp_db.py#L564\n[5] https://github.com/openstack/neutron-dynamic-routing/blob/513ea649be9fd652b0c5b391167f851bc3d653bb/neutron_dynamic_routing/db/bgp_db.py#L567-L580\n\nChange-Id: I21ba5d79ff100b839874a65e4ddd32f20dfb1311\n""}]",1,884655,b97646f6652ada059fb6416d94b8db5da42d9772,18,3,5,24824,,,0,"Add OVN + neutron-dynamic-routing bundles

* OVN + NDR testing is possible as of Neutron 22.0.0 (2023.1 or
  Antelope), see [1][2].
* Vault is added to non-OVN bundles as the tests.yaml file is shared
  and uses a configure step for Vault

Important note: at the time of writing the OVN integration code in
Neutron does not have any use for `distributed` and `ha` router extra
attributes and whether distributed or centralized FIPs are used in OVN
is governed by the ovn/enable_distributed_floating_ip option which does
not operate at the per-router granularity and is global.

The docs have not been updated and still say [3] that OVN routers do not
expose `ha` or `distributed` attributes which are now there as of [1].

At the same time, the NDR implementation uses the `distributed`
attribute to determine whether to use the gateway port IP and treat FIPs
as centralized [4] and add a next-hop to the gateway port IP or not in
the advertised /32 routes. For routers with `distributed == True`,
NDR only attempts [5] to find ports with device owner
`'floatingip_agent_gateway'`. Therefore, when distributed FIPs are
enabled via ovn/enable_distributed_floating_ip, the `distributed` extra
attribute on a router is set to `False` and /32 routes are advertised
as centralized.

The distributed FIP case is currently not exercised by the current
bundles neither for ML2/ovs nor ML2/ovn. The current bundles only test
the control plane and route advertisement, not packet forwarding via
advertised next-hops.

[1] https://review.opendev.org/c/openstack/neutron/+/864051
[2] https://github.com/openstack/neutron/commit/4d1a7bd0bc3b142a6dc7f8414ed0d30e6c159057
[3] https://github.com/openstack/neutron/blame/cd66232c2b26cb4141c2e9426ce2dec0f38c364c/doc/source/ovn/faq/index.rst#L16-L29
[4] https://github.com/openstack/neutron-dynamic-routing/blob/513ea649be9fd652b0c5b391167f851bc3d653bb/neutron_dynamic_routing/db/bgp_db.py#L564
[5] https://github.com/openstack/neutron-dynamic-routing/blob/513ea649be9fd652b0c5b391167f851bc3d653bb/neutron_dynamic_routing/db/bgp_db.py#L567-L580

Change-Id: I21ba5d79ff100b839874a65e4ddd32f20dfb1311
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/55/884655/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/lunar-antelope.yaml', 'src/tests/bundles/lunar-antelope-ovn.yaml', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/jammy-antelope-ovn.yaml', 'src/tests/bundles/jammy-antelope.yaml']",6,2951b10e05b49a10507b9a025af62fa9321ae0ac,2023-ovn-ndr, '8': vault: charm: ch:vault num_units: 1 channel: latest/edge to: - '8' - - vault:certificates - keystone:certificates - - vault:certificates - neutron-api:certificates,,378,0
openstack%2Fcharm-openstack-hypervisor~main~Ie62fecbcd033ef65d4a73e0b5ceee769f435299a,openstack/charm-openstack-hypervisor,main,Ie62fecbcd033ef65d4a73e0b5ceee769f435299a,Add osci to publish charm,MERGED,2023-05-31 04:50:07.000000000,2023-05-31 05:49:34.000000000,2023-05-31 05:49:34.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 04:50:07.000000000', 'files': ['osci.yaml', 'rename.sh', '.zuul.yaml', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/1964a31610d786db9b6df0418844e9ac49d92a62', 'message': 'Add osci to publish charm\n\nAdd osci.yaml to publish charm.\nPublish the charm to 2023.1/edge track.\nChange snap-channel default to 2023.1/edge.\n\nChange-Id: Ie62fecbcd033ef65d4a73e0b5ceee769f435299a\n'}]",1,884805,1964a31610d786db9b6df0418844e9ac49d92a62,6,2,1,10366,,,0,"Add osci to publish charm

Add osci.yaml to publish charm.
Publish the charm to 2023.1/edge track.
Change snap-channel default to 2023.1/edge.

Change-Id: Ie62fecbcd033ef65d4a73e0b5ceee769f435299a
",git fetch https://review.opendev.org/openstack/charm-openstack-hypervisor refs/changes/05/884805/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'rename.sh', '.zuul.yaml', 'config.yaml']",4,1964a31610d786db9b6df0418844e9ac49d92a62,," default: ""2023.1/edge"""," default: ""yoga/edge""",25,2
openstack%2Fpuppet-pacemaker~stable%2F1.1.x~I2a2250894c8c9a881120983897c22c491b2e012d,openstack/puppet-pacemaker,stable/1.1.x,I2a2250894c8c9a881120983897c22c491b2e012d,stably-only: Pin concurrent-ruby,ABANDONED,2023-03-13 05:30:13.000000000,2023-05-31 05:35:34.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-13 05:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/27253bc5c0523d86c0b8000c157a422dda95de87', 'message': ""stably-only: Pin concurrent-ruby\n\nconcurrent-ruby 1.2.0 dropped the implementation which puppet still\nrelies on. Let's pin it to the older version to fix the broken tests\nwith old and current puppet versions.\n\nThis is submitted to stable branches only because master uses the new\nversion of puppet which replaces the removed interfaces.\n\nConflicts:\n\tGemfile\n\nChange-Id: I2a2250894c8c9a881120983897c22c491b2e012d\n(cherry picked from commit 94bd8c052fd27d68fb9f0ee24734f100aa34e37e)\n""}, {'number': 2, 'created': '2023-04-12 01:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/97d45dd41eed2314cb5d261d8cea9cdaf0d8d7b1', 'message': ""stably-only: Pin concurrent-ruby\n\nconcurrent-ruby 1.2.0 dropped the implementation which puppet still\nrelies on. Let's pin it to the older version to fix the broken tests\nwith old and current puppet versions.\n\nThis is submitted to stable branches only because master uses the new\nversion of puppet which replaces the removed interfaces.\n\nConflicts:\n\tGemfile\n\nThis change also fixes failure in unit tests, caused by the following\nwarning message shown by the pcs command. This was already fixed in\nmaster and 1.5.x by I8f5c04cea4afb8f46a8da5ab639ac984bac36cca .\n\nWarning: stonith option 'passwd' is deprecated and should not be used,\nuse 'password' instead\n\nChange-Id: I2a2250894c8c9a881120983897c22c491b2e012d\n(cherry picked from commit 94bd8c052fd27d68fb9f0ee24734f100aa34e37e)\n""}, {'number': 3, 'created': '2023-04-12 01:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/767850e95861a20f49841dca078ec092d3f0ed1f', 'message': ""stably-only: Pin concurrent-ruby\n\nconcurrent-ruby 1.2.0 dropped the implementation which puppet still\nrelies on. Let's pin it to the older version to fix the broken tests\nwith old and current puppet versions.\n\nThis is submitted to stable branches only because master uses the new\nversion of puppet which replaces the removed interfaces.\n\nConflicts:\n\tGemfile\n\nNote:\nThis also pins mocha to an older version because 2.0.x requires Ruby\n2.7.1 and later.\n\nChange-Id: I2a2250894c8c9a881120983897c22c491b2e012d\n(cherry picked from commit 94bd8c052fd27d68fb9f0ee24734f100aa34e37e)\n""}, {'number': 4, 'created': '2023-04-12 05:56:10.000000000', 'files': ['spec/unit/puppet/provider/cib-orig.xml', '.zuul.yaml', 'Gemfile', 'spec/unit/puppet/provider/pcmk_common_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/d6323db4440bbbcd8b593217557db3942ad3739b', 'message': ""stably-only: Pin concurrent-ruby\n\nconcurrent-ruby 1.2.0 dropped the implementation which puppet still\nrelies on. Let's pin it to the older version to fix the broken tests\nwith old and current puppet versions.\n\nThis is submitted to stable branches only because master uses the new\nversion of puppet which replaces the removed interfaces.\n\nConflicts:\n\tGemfile\n\nBackport notes:\n- mocha is pinned to an older version because 2.0.x requires Ruby\n  2.7.1 and later. This was done in stable/1.5.0 and later by [1]\n- This also fixes the broken unit tests which was later fixed by [2].\n\n[1] I5144d738f53d127a4d306a47777e381873672d56\n[2] I8f5c04cea4afb8f46a8da5ab639ac984bac36cca\n\nChange-Id: I2a2250894c8c9a881120983897c22c491b2e012d\n(cherry picked from commit 94bd8c052fd27d68fb9f0ee24734f100aa34e37e)\n""}]",1,877216,d6323db4440bbbcd8b593217557db3942ad3739b,11,2,4,9816,,,0,"stably-only: Pin concurrent-ruby

concurrent-ruby 1.2.0 dropped the implementation which puppet still
relies on. Let's pin it to the older version to fix the broken tests
with old and current puppet versions.

This is submitted to stable branches only because master uses the new
version of puppet which replaces the removed interfaces.

Conflicts:
	Gemfile

Backport notes:
- mocha is pinned to an older version because 2.0.x requires Ruby
  2.7.1 and later. This was done in stable/1.5.0 and later by [1]
- This also fixes the broken unit tests which was later fixed by [2].

[1] I5144d738f53d127a4d306a47777e381873672d56
[2] I8f5c04cea4afb8f46a8da5ab639ac984bac36cca

Change-Id: I2a2250894c8c9a881120983897c22c491b2e012d
(cherry picked from commit 94bd8c052fd27d68fb9f0ee24734f100aa34e37e)
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/16/877216/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'Gemfile']",2,27253bc5c0523d86c0b8000c157a422dda95de87,," gem 'concurrent-ruby', '< 1.2.0', :require => false",,1,2
openstack%2Fcharm-magnum~master~If866d1c6f09377b70b5e01dffe2705ce5f4d92aa,openstack/charm-magnum,master,If866d1c6f09377b70b5e01dffe2705ce5f4d92aa,Enable zaza-openstack-tests,NEW,2023-05-30 22:11:39.000000000,2023-05-31 04:10:04.000000000,,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 22:11:39.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-magnum/commit/7511bc2f88c397fabeebe6ca92d6cc7801742c10', 'message': 'Enable zaza-openstack-tests\n\n- Add heat domain-setup\n- Add magnum domain-setup\n- Run test MagnumBasicDeployment\n\nChange-Id: If866d1c6f09377b70b5e01dffe2705ce5f4d92aa\n'}]",0,884787,7511bc2f88c397fabeebe6ca92d6cc7801742c10,4,3,1,2424,,,0,"Enable zaza-openstack-tests

- Add heat domain-setup
- Add magnum domain-setup
- Run test MagnumBasicDeployment

Change-Id: If866d1c6f09377b70b5e01dffe2705ce5f4d92aa
",git fetch https://review.opendev.org/openstack/charm-magnum refs/changes/87/884787/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,7511bc2f88c397fabeebe6ca92d6cc7801742c10,enable-z-o-t,- zaza.openstack.charm_tests.heat.setup.domain_setup - zaza.openstack.charm_tests.magnum.setup.domain_setup - zaza.openstack.charm_tests.magnum.setup.add_image- zaza.openstack.charm_tests.magnum.tests.MagnumBasicDeployment,# NOTE(lourot): don't exist in zaza-openstack-tests yet. Disabling for now in # order to make the gate green: #- zaza.openstack.charm_tests.heat.setup.domain_setup #- zaza.openstack.charm_tests.magnum.setup.domain_setup #- zaza.openstack.charm_tests.magnum.setup.add_image# NOTE(lourot): doesn't exist in zaza-openstack-tests yet. Disabling for now in # order to make the gate green: #- zaza.openstack.charm_tests.magnum.tests.MagnumBasicDeployment,4,8
openstack%2Ftripleo-ansible~stable%2Fwallaby~I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21,openstack/tripleo-ansible,stable/wallaby,I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21,Rework cephadm key and pools creation for Quincy+,MERGED,2023-05-26 19:57:53.000000000,2023-05-31 03:41:49.000000000,2023-05-31 03:41:49.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 30742}, {'_account_id': 34598}]","[{'number': 1, 'created': '2023-05-26 19:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7b145dc14a0c0479230815b0692c9459d2b777d5', 'message': 'Rework cephadm key creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster.\nThis patch fixes the key creation and relies on the common cephadm\ncli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 2, 'created': '2023-05-26 21:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d3893f463d893e7dbd7ab64b12c3da1471d1cf0a', 'message': 'Rework cephadm key creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster.\nThis patch fixes the key creation and relies on the common cephadm\ncli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 3, 'created': '2023-05-26 22:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/385ce8a7c1a8bf1ae870233ddf1d53a36be7a17e', 'message': 'Rework cephadm key creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster.\nThis patch fixes the key creation and relies on the common cephadm\ncli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 4, 'created': '2023-05-26 22:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bc2f4897cba5fbcb39e22f3d12676e3022db73ff', 'message': 'Rework cephadm key creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster.\nThis patch fixes the key creation and relies on the common cephadm\ncli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 5, 'created': '2023-05-26 22:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b0541f06a784e53f56d2136f6dfe3234ae5e9bfc', 'message': 'Rework cephadm key creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster.\nThis patch fixes the key creation and relies on the common cephadm\ncli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 6, 'created': '2023-05-27 05:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/db42675e3f64220d422872ea65f252c5f12ae2fd', 'message': 'Rework cephadm key creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster.\nThis patch fixes the key creation and relies on the common cephadm\ncli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 7, 'created': '2023-05-29 07:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/02e3238749285e79144436be04c301706a3b9225', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 8, 'created': '2023-05-29 16:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f1e2d4e0d9791fb9e9b00d753a4700372e4df6e1', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 9, 'created': '2023-05-29 17:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7864d7a8dd1def514e7e91319f30877646b12e5f', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 10, 'created': '2023-05-29 17:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6f80c727dba41d88b60aa66c4edd73e49bf525b8', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 11, 'created': '2023-05-29 17:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/750d07ffa91f719aac752acca6bb29a0496a690c', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 12, 'created': '2023-05-29 18:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ffd3827b370b723ae52d8faa5d0beb00a50820e0', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 13, 'created': '2023-05-29 18:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d7c348afd8d937c6254d64fdaf17043b45be848a', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 14, 'created': '2023-05-29 20:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/384f347a7673ec802cda06c9643b4055765c0c80', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 15, 'created': '2023-05-29 20:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/68da0b53584bf7a7a66bdf14528a9d0a7193af7b', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 16, 'created': '2023-05-29 20:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fbf5cc365682e344f3a06e8a607f46fccaf8fe50', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 17, 'created': '2023-05-29 22:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1f9b6791d6e96dc37743828bb3e5223fcbb6eb96', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 18, 'created': '2023-05-30 05:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8b61b9f43719580532df9ee39882c52c7cad5cb1', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 19, 'created': '2023-05-30 05:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/10212fbf88d7b31187613b8a86d602726d315fcb', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 20, 'created': '2023-05-30 10:05:43.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/templates/ceph_key.j2', 'tripleo_ansible/roles/tripleo_cephadm/tasks/dashboard/dashboard.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/pools.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/export.yaml', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/vars/mock_ceph_keys.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/rgw.yaml', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/crush_rules.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/mds.yaml', 'tripleo_ansible/playbooks/cephadm.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/rbd_mirror.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/monitoring.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/keys.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/selinux.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/toggle_cephadm.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/ceph_cli.yaml', 'tripleo_ansible/roles/tripleo_cephadm/templates/ceph_client.yaml.j2', 'tripleo_ansible/roles/tripleo_cephadm/tasks/nfs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d1a48ac2f23868409ad2af84cd1164eb744f5f43', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}]",22,884555,d1a48ac2f23868409ad2af84cd1164eb744f5f43,48,8,20,25402,,,0,"Rework cephadm key and pools creation for Quincy+

From Quincy we have issues w/ the modules used to build and import
keys within the cluster. Similar issues happen when the pool module
is called.
This patch fixes both the pools and keys creation and relies on the
common cephadm cli instead of the existing python module.

Change-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/55/884555/20 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/templates/ceph_key.j2', 'tripleo_ansible/roles/tripleo_cephadm/tasks/keys.yaml']",2,7b145dc14a0c0479230815b0692c9459d2b777d5,884555,"- name: Get ceph_cli include_tasks: ceph_cli.yaml vars: tripleo_cephadm_config_home_container: ""{{ tripleo_cephadm_config_home | default('/etc/ceph') }}"" command: ""{{ tripleo_cephadm_ceph_cli }} auth import -i {{ tripleo_cephadm_config_home | default('/etc/ceph') }}/{{ tripleo_cephadm_cluster | default('ceph') }}.{{ item.name }}.keyring"" loop: ""{{ tripleo_cephadm_keys| default([]) }}""- name: Dump cephx key(s) in tripleo_cephadm_config_home template: src: templates/ceph_key.j2 dest: ""{{ tripleo_cephadm_config_home | default('/etc/ceph') }}/{{ tripleo_cephadm_cluster | default('ceph') }}.{{ item.name }}.keyring"" mode: 0644 force: true loop: ""{{ tripleo_cephadm_keys| default([]) }}""","- name: Prepare tripleo_ceph_key_dest set_fact: tripleo_ceph_key_dest: >- {%- if tripleo_cephadm_config_home_container_stat.stat.exists -%} {{ tripleo_cephadm_config_home_container }} {%- else -%} {{ tripleo_cephadm_config_home }} {%- endif -%} ceph_key: import_key: true name: ""{{ item.name }}"" caps: ""{{ item.caps }}"" mode: ""{{ item.mode }}"" secret: ""{{ item.key | default('') }}"" cluster: ""{{ tripleo_cephadm_cluster }}"" dest: ""{{ tripleo_ceph_key_dest }}"" owner: ""{{ tripleo_cephadm_uid }}"" group: ""{{ tripleo_cephadm_uid }}"" environment: CEPH_CONTAINER_IMAGE: ""{{ tripleo_cephadm_container_ns + '/' + tripleo_cephadm_container_image + ':' + tripleo_cephadm_container_tag }}"" CEPH_CONTAINER_BINARY: ""{{ tripleo_cephadm_container_cli }}"" CEPH_FSID: ""{{ tripleo_cephadm_fsid }}"" loop: ""{{ tripleo_cephadm_keys }}""- name: Find the generated key(s) ansible.builtin.find: paths: ""{{ tripleo_cephadm_config_home_container }}"" patterns: ""*.{{ item.name }}.*"" register: keyring_files loop: ""{{ tripleo_cephadm_keys }}"" - tripleo_cephadm_config_home_container_stat.stat.exists | bool - name: Copy key(s) to /etc/ceph ansible.builtin.copy: remote_src: true src: ""{{ item.path }}"" dest: ""{{ tripleo_cephadm_config_home }}"" owner: ""{{ tripleo_cephadm_uid }}"" group: ""{{ tripleo_cephadm_uid }}"" mode: '0644' become: true with_items: ""{{ keyring_files.results | map(attribute='files') | list }}"" when: tripleo_cephadm_config_home_container_stat.stat.exists | bool",18,42
openstack%2Fpuppet-horizon~master~I0fa697cf5e46b7214dca7940d19be81203eed70d,openstack/puppet-horizon,master,I0fa697cf5e46b7214dca7940d19be81203eed70d,Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path,MERGED,2023-05-05 08:03:23.000000000,2023-05-31 03:40:01.000000000,2023-05-05 16:28:19.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-05 08:03:23.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/92950a690d6d73a5938da117be6812b2663e27b6', 'message': 'Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path\n\nThe Stdlib::Absolutepath which was deprecated 4 years ago is\nnow removed since [1]. We replace it by the\nStdlib::Compat::Absolute_path [2] data type which contains the\nsame functions ""is_absolute_path"" and ""validate_absolute_path"".\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/pull/1324\n[2] https://github.com/puppetlabs/puppetlabs-stdlib/blob/main/REFERENCE.md#Stdlib--Compat--Absolute_path\n\nChange-Id: I0fa697cf5e46b7214dca7940d19be81203eed70d\n'}]",0,882378,92950a690d6d73a5938da117be6812b2663e27b6,9,3,1,31068,,,0,"Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path

The Stdlib::Absolutepath which was deprecated 4 years ago is
now removed since [1]. We replace it by the
Stdlib::Compat::Absolute_path [2] data type which contains the
same functions ""is_absolute_path"" and ""validate_absolute_path"".

[1] https://github.com/puppetlabs/puppetlabs-stdlib/pull/1324
[2] https://github.com/puppetlabs/puppetlabs-stdlib/blob/main/REFERENCE.md#Stdlib--Compat--Absolute_path

Change-Id: I0fa697cf5e46b7214dca7940d19be81203eed70d
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/78/882378/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,92950a690d6d73a5938da117be6812b2663e27b6,replace_deprecated_stdlib_absolutepath," validate_legacy(Stdlib::Compat::Absolute_path, 'validate_absolute_path', $root_path)"," validate_legacy(Stdlib::Absolutepath, 'validate_absolute_path', $root_path)",1,1
openstack%2Fpuppet-qdr~master~Iec51d93025702a40b2f2be45a655eded125f1ab5,openstack/puppet-qdr,master,Iec51d93025702a40b2f2be45a655eded125f1ab5,Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path,MERGED,2023-05-05 08:12:22.000000000,2023-05-31 03:39:54.000000000,2023-05-05 16:28:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-05 08:12:22.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/9a7a6c3f43b1a65d4cb8178d31915795d7e0d0e1', 'message': 'Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path\n\nThe Stdlib::Absolutepath which was deprecated 4 years ago is\nnow removed since [1]. We replace it by the\nStdlib::Compat::Absolute_path [2] data type which contains the\nsame functions ""is_absolute_path"" and ""validate_absolute_path"".\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/pull/1324\n[2] https://github.com/puppetlabs/puppetlabs-stdlib/blob/main/REFERENCE.md#Stdlib--Compat--Absolute_path\n\nChange-Id: Iec51d93025702a40b2f2be45a655eded125f1ab5\n'}]",0,882382,9a7a6c3f43b1a65d4cb8178d31915795d7e0d0e1,8,3,1,31068,,,0,"Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path

The Stdlib::Absolutepath which was deprecated 4 years ago is
now removed since [1]. We replace it by the
Stdlib::Compat::Absolute_path [2] data type which contains the
same functions ""is_absolute_path"" and ""validate_absolute_path"".

[1] https://github.com/puppetlabs/puppetlabs-stdlib/pull/1324
[2] https://github.com/puppetlabs/puppetlabs-stdlib/blob/main/REFERENCE.md#Stdlib--Compat--Absolute_path

Change-Id: Iec51d93025702a40b2f2be45a655eded125f1ab5
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/82/882382/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,9a7a6c3f43b1a65d4cb8178d31915795d7e0d0e1,replace_deprecated_stdlib_absolutepath," validate_legacy(Stdlib::Compat::Absolute_path, 'validate_absolute_path', $router_debug_dump) validate_legacy(Stdlib::Compat::Absolute_path, 'validate_absolute_path', $router_sasl_path)"," validate_legacy(Stdlib::Absolutepath, 'validate_absolute_path', $router_debug_dump) validate_legacy(Stdlib::Absolutepath, 'validate_absolute_path', $router_sasl_path)",2,2
openstack%2Fpuppet-openstacklib~master~I57108b7e4a0525444dbbd36d6a9086e374a45539,openstack/puppet-openstacklib,master,I57108b7e4a0525444dbbd36d6a9086e374a45539,Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path,MERGED,2023-05-05 08:10:30.000000000,2023-05-31 03:39:34.000000000,2023-05-07 14:45:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-05 08:10:30.000000000', 'files': ['manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/0861e31cf9e3d4cb6022038f46caf3cdc5f83873', 'message': 'Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path\n\nThe Stdlib::Absolutepath which was deprecated 4 years ago is\nnow removed since [1]. We replace it by the\nStdlib::Compat::Absolute_path [2] data type which contains the\nsame functions ""is_absolute_path"" and ""validate_absolute_path"".\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/pull/1324\n[2] https://github.com/puppetlabs/puppetlabs-stdlib/blob/main/REFERENCE.md#Stdlib--Compat--Absolute_path\n\nChange-Id: I57108b7e4a0525444dbbd36d6a9086e374a45539\n'}]",0,882380,0861e31cf9e3d4cb6022038f46caf3cdc5f83873,9,3,1,31068,,,0,"Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path

The Stdlib::Absolutepath which was deprecated 4 years ago is
now removed since [1]. We replace it by the
Stdlib::Compat::Absolute_path [2] data type which contains the
same functions ""is_absolute_path"" and ""validate_absolute_path"".

[1] https://github.com/puppetlabs/puppetlabs-stdlib/pull/1324
[2] https://github.com/puppetlabs/puppetlabs-stdlib/blob/main/REFERENCE.md#Stdlib--Compat--Absolute_path

Change-Id: I57108b7e4a0525444dbbd36d6a9086e374a45539
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/80/882380/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/policy.pp'],1,0861e31cf9e3d4cb6022038f46caf3cdc5f83873,replace_deprecated_stdlib_absolutepath," validate_legacy(Stdlib::Compat::Absolute_path, 'validate_absolute_path', $policy_path)"," validate_legacy(Stdlib::Absolutepath, 'validate_absolute_path', $policy_path)",1,1
openstack%2Fpuppet-keystone~master~I8ad2395f14058fecbb7868f081fa2dfdf5f199cc,openstack/puppet-keystone,master,I8ad2395f14058fecbb7868f081fa2dfdf5f199cc,Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path,MERGED,2023-05-05 08:09:03.000000000,2023-05-31 03:38:34.000000000,2023-05-10 19:49:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-05 08:09:03.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/cad09a6b17369d0507de624f729d1eb36dc45b67', 'message': 'Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path\n\nThe Stdlib::Absolutepath which was deprecated 4 years ago is\nnow removed since [1]. We replace it by the\nStdlib::Compat::Absolute_path [2] data type which contains the\nsame functions ""is_absolute_path"" and ""validate_absolute_path"".\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/pull/1324\n[2] https://github.com/puppetlabs/puppetlabs-stdlib/blob/main/REFERENCE.md#Stdlib--Compat--Absolute_path\n\nChange-Id: I8ad2395f14058fecbb7868f081fa2dfdf5f199cc\n'}]",4,882379,cad09a6b17369d0507de624f729d1eb36dc45b67,16,3,1,31068,,,0,"Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path

The Stdlib::Absolutepath which was deprecated 4 years ago is
now removed since [1]. We replace it by the
Stdlib::Compat::Absolute_path [2] data type which contains the
same functions ""is_absolute_path"" and ""validate_absolute_path"".

[1] https://github.com/puppetlabs/puppetlabs-stdlib/pull/1324
[2] https://github.com/puppetlabs/puppetlabs-stdlib/blob/main/REFERENCE.md#Stdlib--Compat--Absolute_path

Change-Id: I8ad2395f14058fecbb7868f081fa2dfdf5f199cc
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/79/882379/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,cad09a6b17369d0507de624f729d1eb36dc45b67,replace_deprecated_stdlib_absolutepath," validate_legacy(Stdlib::Compat::Absolute_path, 'validate_absolute_path', $domain_config_directory)"," validate_legacy(Stdlib::Absolutepath, 'validate_absolute_path', $domain_config_directory)",1,1
openstack%2Fswift~master~I3086e3453b13411304e431e83d6379e255c1777c,openstack/swift,master,I3086e3453b13411304e431e83d6379e255c1777c,memcached: handle failed incr+add+incr better,MERGED,2023-04-17 18:13:42.000000000,2023-05-31 02:13:55.000000000,2023-05-31 02:09:04.000000000,"[{'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 34930}]","[{'number': 1, 'created': '2023-04-17 18:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a056edd8489498db14900b651df4761ed2834f4a', 'message': 'WIP: memcached: handle failed incr+add+incr\n\nHandle the case when:\n  * incr fails because key is not found\n  * add fails because key is found\n  * incr fails because key is not found (e.g. the key expired since\n    the add)\n\nChange-Id: I3086e3453b13411304e431e83d6379e255c1777c\n'}, {'number': 2, 'created': '2023-05-09 18:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8b788737c465475686caec3138eddce28f57e509', 'message': ""WIP: memcached: handle failed incr+add+incr better\n\nImprove the exception handling for the case when:\n  * incr fails because key is not found\n  * add fails because key is found (another actor added it\n    concurrently)\n  * incr fails because key is not found (the key expired since\n    the add, presumably because the TTL was short relative to\n    the execution time of the incr method)\n\nPreviously this resulted in an error log and a traceback. This patch\neliminates the traceback and adds the TTL to the log message.\n\nIt's not clear that this failure scenario is due to a server problem:\nslow execution of the MemcacheRing.incr code path due to the green\nthread being suspended could cause the second incr to be delayed more\nthan the TTL. This patch therefore prevents this particular failure\nscenario causing the server to be error limited.\n\nChange-Id: I3086e3453b13411304e431e83d6379e255c1777c\n""}, {'number': 3, 'created': '2023-05-10 09:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8784dbfdf6c19843c8669342bd6a37cc8cabe49b', 'message': ""WIP: memcached: handle failed incr+add+incr better\n\nImprove the exception handling for the case when:\n  * incr fails because key is not found\n  * add fails because key is found (another actor added it\n    concurrently)\n  * incr fails because key is not found (the key expired since\n    the add, presumably because the TTL was short relative to\n    the execution time of the incr method)\n\nPreviously this resulted in an error log and a traceback. This patch\neliminates the traceback and adds the TTL to the log message.\n\nIt's not clear that this failure scenario is due to a server problem:\nslow execution of the MemcacheRing.incr code path due to the green\nthread being suspended could cause the second incr to be delayed more\nthan the TTL. This patch therefore prevents this particular failure\nscenario causing the server to be error limited.\n\nCloses-Bug: #2019095\nChange-Id: I3086e3453b13411304e431e83d6379e255c1777c\n""}, {'number': 4, 'created': '2023-05-11 10:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/78312820e356d8fc3a12a75e7cd6b56c80f59cfb', 'message': ""memcached: handle failed incr+add+incr better\n\nImprove the exception handling for the case when:\n  * incr fails because key is not found\n  * add fails because key is found (another actor added it\n    concurrently)\n  * incr fails because key is not found (the key expired since\n    the add, presumably because the TTL was short relative to\n    the execution time of the incr method)\n\nPreviously this resulted in an error log and a traceback. This patch\neliminates the traceback and adds the TTL to the log message.\n\nIt's not clear that this failure scenario is due to a server problem:\nslow execution of the MemcacheRing.incr code path due to the green\nthread being suspended could cause the second incr to be delayed more\nthan the TTL. This patch therefore prevents this particular failure\nscenario causing the server to be error limited.\n\nCloses-Bug: #2019095\nChange-Id: I3086e3453b13411304e431e83d6379e255c1777c\n""}, {'number': 5, 'created': '2023-05-11 13:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/df857563dfe8bc19440c9628a8a2c875ed9753e0', 'message': ""memcached: handle failed incr+add+incr better\n\nImprove the exception handling for the case when:\n  * incr fails because key is not found\n  * add fails because key is found (another actor added it\n    concurrently)\n  * incr fails because key is not found (the key expired since\n    the add, presumably because the TTL was short relative to\n    the execution time of the incr method)\n\nPreviously this resulted in an error log and a traceback. This patch\neliminates the traceback and adds the TTL to the log message.\n\nIt's not clear that this failure scenario is due to a server problem:\nslow execution of the MemcacheRing.incr code path due to the green\nthread being suspended could cause the second incr to be delayed more\nthan the TTL. This patch therefore prevents this particular failure\nscenario causing the server to be error limited.\n\nCloses-Bug: #2019095\nChange-Id: I3086e3453b13411304e431e83d6379e255c1777c\n""}, {'number': 6, 'created': '2023-05-19 10:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/763653f55ee619c769715f1fa08ae873e4414752', 'message': ""memcached: handle failed incr+add+incr better\n\nImprove the exception handling for the case when:\n  * incr fails because key is not found\n  * add fails because key is found (another actor added it\n    concurrently)\n  * incr fails because key is not found (the key expired since\n    the add, presumably because the TTL was short relative to\n    the execution time of the incr method)\n\nPreviously this resulted in an error log and a traceback. This patch\neliminates the traceback and adds the TTL to the log message.\n\nIt's not clear that this failure scenario is due to a server problem:\nslow execution of the MemcacheRing.incr code path due to the green\nthread being suspended could cause the second incr to be delayed more\nthan the TTL. This patch therefore prevents this particular failure\nscenario causing the server to be error limited.\n\nCloses-Bug: #2019095\nChange-Id: I3086e3453b13411304e431e83d6379e255c1777c\n""}, {'number': 7, 'created': '2023-05-23 13:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dd32b876fb8133ad48fd761d8456592be5f6defe', 'message': ""memcached: handle failed incr+add+incr better\n\nImprove the exception handling for the case when:\n  * incr fails because key is not found\n  * add fails because key is found (another actor added it\n    concurrently)\n  * incr fails because key is not found (the key expired since\n    the add, presumably because the TTL was short relative to\n    the execution time of the incr method)\n\nPreviously this resulted in an error log and a traceback. This patch\neliminates the traceback and adds the TTL to the log message.\n\nIt's not clear that this failure scenario is due to a server problem:\nslow execution of the MemcacheRing.incr code path due to the green\nthread being suspended could cause the second incr to be delayed more\nthan the TTL. This patch therefore prevents this particular failure\nscenario causing the server to be error limited.\n\nCloses-Bug: #2019095\nChange-Id: I3086e3453b13411304e431e83d6379e255c1777c\n""}, {'number': 8, 'created': '2023-05-25 11:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3dcfd3774e4479735b5809925e077bf9f936f898', 'message': ""memcached: handle failed incr+add+incr better\n\nImprove the exception handling for the case when:\n  * incr fails because key is not found\n  * add fails because key is found (another actor added it\n    concurrently)\n  * incr fails because key is not found (the key expired since\n    the add, presumably because the TTL was short relative to\n    the execution time of the incr method)\n\nPreviously this resulted in an error log and a traceback. This patch\neliminates the traceback and adds the TTL to the log message.\n\nIt's not clear that this failure scenario is due to a server problem:\nslow execution of the MemcacheRing.incr code path due to the green\nthread being suspended could cause the second incr to be delayed more\nthan the TTL. This patch therefore prevents this particular failure\nscenario causing the server to be error limited.\n\nCloses-Bug: #2019095\nChange-Id: I3086e3453b13411304e431e83d6379e255c1777c\n""}, {'number': 9, 'created': '2023-05-25 15:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fec1deb4746dfe8e21baf06823a643ead8507722', 'message': ""memcached: handle failed incr+add+incr better\n\nImprove the exception handling for the case when:\n  * incr fails because key is not found\n  * add fails because key is found (another actor added it\n    concurrently)\n  * incr fails because key is not found (the key expired since\n    the add, presumably because the TTL was short relative to\n    the execution time of the incr method)\n\nPreviously this resulted in an error log and a traceback. This patch\neliminates the traceback and adds the TTL to the log message.\n\nIt's not clear that this failure scenario is due to a server problem:\nslow execution of the MemcacheRing.incr code path due to the green\nthread being suspended could cause the second incr to be delayed more\nthan the TTL. This patch therefore prevents this particular failure\nscenario causing the server to be error limited.\n\nCloses-Bug: #2019095\nChange-Id: I3086e3453b13411304e431e83d6379e255c1777c\n""}, {'number': 10, 'created': '2023-05-26 15:03:39.000000000', 'files': ['swift/common/memcached.py', 'test/unit/common/test_memcached.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/49a5293cbd7d731eba816aebec47ffe65066dc51', 'message': ""memcached: handle failed incr+add+incr better\n\nImprove the exception handling for the case when:\n  * incr fails because key is not found\n  * add fails because key is found (another actor added it\n    concurrently)\n  * incr fails because key is not found (the key expired since\n    the add, presumably because the TTL was short relative to\n    the execution time of the incr method)\n\nPreviously this resulted in an error log and a traceback. This patch\neliminates the traceback and adds the TTL to the log message.\n\nIt's not clear that this failure scenario is due to a server problem:\nslow execution of the MemcacheRing.incr code path due to the green\nthread being suspended could cause the second incr to be delayed more\nthan the TTL. This patch therefore prevents this particular failure\nscenario causing the server to be error limited.\n\nCloses-Bug: #2019095\nChange-Id: I3086e3453b13411304e431e83d6379e255c1777c\n""}]",22,880677,49a5293cbd7d731eba816aebec47ffe65066dc51,58,5,10,7847,,,0,"memcached: handle failed incr+add+incr better

Improve the exception handling for the case when:
  * incr fails because key is not found
  * add fails because key is found (another actor added it
    concurrently)
  * incr fails because key is not found (the key expired since
    the add, presumably because the TTL was short relative to
    the execution time of the incr method)

Previously this resulted in an error log and a traceback. This patch
eliminates the traceback and adds the TTL to the log message.

It's not clear that this failure scenario is due to a server problem:
slow execution of the MemcacheRing.incr code path due to the green
thread being suspended could cause the second incr to be delayed more
than the TTL. This patch therefore prevents this particular failure
scenario causing the server to be error limited.

Closes-Bug: #2019095
Change-Id: I3086e3453b13411304e431e83d6379e255c1777c
",git fetch https://review.opendev.org/openstack/swift refs/changes/77/880677/7 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/memcached.py'],1,a056edd8489498db14900b651df4761ed2834f4a,p-memcache-incr," def _incr(self, fp, sock, command, key, delta): sock.sendall(b' '.join([command, key, delta]) + b'\r\n') line = fp.readline().strip().split() if not line: raise MemcacheConnectionError('incomplete read') if line[0].upper() == b'NOT_FOUND': return None try: return int(line[0].strip()) except Exception: raise MemcacheConnectionError('Error handling response: %s', line) def _add(self, fp, sock, key, add_val, timeout): sock.sendall(b' '.join([ b'add', key, b'0', str(timeout).encode('ascii'), str(len(add_val)).encode('ascii') ]) + b'\r\n' + add_val + b'\r\n') line = fp.readline().strip().split() return None if line[0].upper() == b'NOT_STORED' else int(add_val) add_val = delta_val = str(abs(int(delta))).encode('ascii') add_val = b'0' new_val = self._incr(fp, sock, command, key, delta_val) if new_val is None: new_val = self._add(fp, sock, key, add_val, timeout) if new_val is None: new_val = self._incr(fp, sock, command, key, delta_val) if new_val is None: pass # TODO: what now? return new_val"," delta = str(abs(int(delta))).encode('ascii') sock.sendall(b' '.join([ command, key, delta]) + b'\r\n') line = fp.readline().strip().split() if not line: raise MemcacheConnectionError('incomplete read') if line[0].upper() == b'NOT_FOUND': add_val = delta if command == b'decr': add_val = b'0' sock.sendall(b' '.join([ b'add', key, b'0', str(timeout).encode('ascii'), str(len(add_val)).encode('ascii') ]) + b'\r\n' + add_val + b'\r\n') line = fp.readline().strip().split() if line[0].upper() == b'NOT_STORED': sock.sendall(b' '.join([ command, key, delta]) + b'\r\n') line = fp.readline().strip().split() ret = int(line[0].strip()) else: ret = int(add_val) else: ret = int(line[0].strip()) return ret",31,25
openstack%2Fpuppet-nova~stable%2F2023.1~I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b,openstack/puppet-nova,stable/2023.1,I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b,Add release note about libvirt-daemon package installation,MERGED,2023-05-31 01:24:12.000000000,2023-05-31 01:57:34.000000000,2023-05-31 01:56:37.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 01:24:12.000000000', 'files': ['releasenotes/notes/libvirt-daemon-1cfe1bd9f29708fe.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3fa17436bc39ac3344d91a9f5d8df51f400fec96', 'message': 'Add release note about libvirt-daemon package installation\n\nThis adds a release note about the installation of libvirt-daemon\npackage, which was added by [1].\n\n[1] I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n\nChange-Id: I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b\n(cherry picked from commit 00a3b773102ff5b4fb32eaec4464aa97e31fe7c0)\n'}]",0,884737,3fa17436bc39ac3344d91a9f5d8df51f400fec96,7,2,1,9816,,,0,"Add release note about libvirt-daemon package installation

This adds a release note about the installation of libvirt-daemon
package, which was added by [1].

[1] I612856bfd23f980b1e94815d3b5e15e0ea39f72e

Change-Id: I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b
(cherry picked from commit 00a3b773102ff5b4fb32eaec4464aa97e31fe7c0)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/37/884737/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/libvirt-daemon-1cfe1bd9f29708fe.yaml'],1,3fa17436bc39ac3344d91a9f5d8df51f400fec96,,--- features: - | The ``nova::compute::libvirt::services`` class now installs the ``libvirt-damon`` package explicitly in CentOS and RHEL when modular libvirt daemons are not used. This is required in recent CentOS Stream 9 to use legacy libvirtd service and socket. ,,7,0
openstack%2Fneutron~master~Iab77c64c03fd0d44ff7a3fc1c556d85a8c480bb9,openstack/neutron,master,Iab77c64c03fd0d44ff7a3fc1c556d85a8c480bb9,Return 409 Conflict to tenant user deleting port attached to FIP,MERGED,2023-04-28 14:19:17.000000000,2023-05-31 01:36:06.000000000,2023-05-31 01:34:57.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-04-28 14:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8cc4713f07fa65522617f7f3bd167ccbedac0887', 'message': 'WIP: Return 403 Forbidden to tenant user deleting port attached to FIP\n\nWhen a tenant user try to delete a port that has attached a FIP by\nan admin user is getting a 500 ServerError.\n\nThis patch improves the error to 403 Forbidden doing some additionals\nchecks on the delete_port method.\n\nCloses-Bug: 2017680\nChange-Id: Iab77c64c03fd0d44ff7a3fc1c556d85a8c480bb9\n'}, {'number': 2, 'created': '2023-05-03 15:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7dade1f1237f7500060a15f0c8da9fa549f0f4b8', 'message': 'WIP: Return 403 Forbidden to tenant user deleting port attached to FIP\n\nWhen a tenant user try to delete a port that has attached a FIP by\nan admin user is getting a 500 ServerError.\n\nThis patch improves the error to 403 Forbidden doing some additionals\nchecks on the delete_port method.\n\nCloses-Bug: 2017680\nChange-Id: Iab77c64c03fd0d44ff7a3fc1c556d85a8c480bb9\n'}, {'number': 3, 'created': '2023-05-03 15:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a811def8d783004ebd218166d5280ac575c0a09e', 'message': 'Return 403 Forbidden to tenant user deleting port attached to FIP\n\nWhen a tenant user try to delete a port that has attached a FIP by\nan admin user is getting a 500 ServerError.\n\nThis patch improves the error to 403 Forbidden doing some additionals\nchecks on the delete_port method.\n\nCloses-Bug: 2017680\nChange-Id: Iab77c64c03fd0d44ff7a3fc1c556d85a8c480bb9\n'}, {'number': 4, 'created': '2023-05-23 11:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8e08609b9c07f7ad2a739288544c9968507b6364', 'message': 'Return 409 Conflict to tenant user deleting port attached to FIP\n\nWhen a tenant user try to delete a port that has attached a FIP by\nan admin user is getting a 500 ServerError.\n\nThis patch improves the error to 409 Conflict doing some additionals\nchecks on the delete_port method.\n\nNew exception has been included locally, but will be removed as soon\nneutron-lib bumps to a newer release.\n\nCloses-Bug: 2017680\nChange-Id: Iab77c64c03fd0d44ff7a3fc1c556d85a8c480bb9\n'}, {'number': 5, 'created': '2023-05-23 13:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c16c4cae012aa671f2e7fecf80bd4bbdb669d9d4', 'message': 'Return 409 Conflict to tenant user deleting port attached to FIP\n\nWhen a tenant user try to delete a port that has attached a FIP by\nan admin user is getting a 500 ServerError.\n\nThis patch improves the error to 409 Conflict doing some additionals\nchecks on the delete_port method.\n\nNew exception has been included locally, but will be removed as soon\nneutron-lib bumps to a newer release.\n\nCloses-Bug: 2017680\nChange-Id: Iab77c64c03fd0d44ff7a3fc1c556d85a8c480bb9\n'}, {'number': 6, 'created': '2023-05-25 12:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/784dfa3f50b7d2e15664f395231c16e8bfd4970e', 'message': 'Return 409 Conflict to tenant user deleting port attached to FIP\n\nWhen a tenant user try to delete a port that has attached a FIP by\nan admin user is getting a 500 ServerError.\n\nThis patch improves the error to 409 Conflict doing some additionals\nchecks on the delete_port method.\n\nNew exception has been included locally, but will be removed as soon\nneutron-lib bumps to a newer release.\n\nCloses-Bug: 2017680\nChange-Id: Iab77c64c03fd0d44ff7a3fc1c556d85a8c480bb9\n'}, {'number': 7, 'created': '2023-05-25 13:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3946908810607bb8946034389b6c9f6435bcce77', 'message': 'Return 409 Conflict to tenant user deleting port attached to FIP\n\nWhen a tenant user try to delete a port that has attached a FIP by\nan admin user is getting a 500 ServerError.\n\nThis patch improves the error to 409 Conflict doing some additionals\nchecks on the delete_port method.\n\nNew exception has been included locally, but will be removed as soon\nneutron-lib bumps to a newer release.\n\nCloses-Bug: 2017680\nChange-Id: Iab77c64c03fd0d44ff7a3fc1c556d85a8c480bb9\n'}, {'number': 8, 'created': '2023-05-26 09:06:32.000000000', 'files': ['neutron/db/l3_db.py', 'neutron/tests/unit/db/test_l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f6f6d5082b4341529144e992d5293675146ae88', 'message': 'Return 409 Conflict to tenant user deleting port attached to FIP\n\nWhen a tenant user try to delete a port that has attached a FIP by\nan admin user is getting a 500 ServerError.\n\nThis patch improves the error to 409 Conflict doing some additionals\nchecks on the delete_port method.\n\nNew exception has been included locally, but will be removed as soon\nneutron-lib bumps to a newer release.\n\nCloses-Bug: 2017680\nChange-Id: Iab77c64c03fd0d44ff7a3fc1c556d85a8c480bb9\n'}]",35,881827,9f6f6d5082b4341529144e992d5293675146ae88,76,8,8,34451,,,0,"Return 409 Conflict to tenant user deleting port attached to FIP

When a tenant user try to delete a port that has attached a FIP by
an admin user is getting a 500 ServerError.

This patch improves the error to 409 Conflict doing some additionals
checks on the delete_port method.

New exception has been included locally, but will be removed as soon
neutron-lib bumps to a newer release.

Closes-Bug: 2017680
Change-Id: Iab77c64c03fd0d44ff7a3fc1c556d85a8c480bb9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/881827/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_db.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']",3,8cc4713f07fa65522617f7f3bd167ccbedac0887,FIPAssociatedException," @mock.patch('neutron.db.l3_db.L3_NAT_dbonly_mixin.get_floatingips') def test__get_floatingips_validating(self, gfs): fips = [{'id': 'fip-id1', 'floating_ip_address': '192.168.0.10', 'router_id': 'router-id', 'port_id': 'port_id', 'floating_port_id': 'fip-port-id1', 'fixed_ip_address': '10.0.0.10', 'floating_network_id': 'net1'}, {'id': 'fip-id2', 'floating_ip_address': '192.167.0.10', 'router_id': 'router-id', 'port_id': 'port_id', 'floating_port_id': 'fip-port-id2', 'fixed_ip_address': '10.0.0.11', 'floating_network_id': 'net2'}] gfs.return_value = fips fips_return = self.l3_inst._get_floatingips_validating_access( self.context, 'port_id') self.assertEqual(fips, fips_return) ",,52,2
openstack%2Fcinder~master~Ied61c5c3627585ad4e6afc9b23274ac314f27262,openstack/cinder,master,Ied61c5c3627585ad4e6afc9b23274ac314f27262,Automate generation of backups api-ref samples,ABANDONED,2023-04-02 07:45:47.000000000,2023-05-31 01:10:23.000000000,,"[{'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 35851}]","[{'number': 1, 'created': '2023-04-02 07:45:47.000000000', 'files': ['api-ref/source/v3/samples/backups/backup-create-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-create-request.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-update-response.json.tpl', 'api-ref/source/v3/samples/backup-create-response.json', 'api-ref/source/v3/ext-backups.inc', 'api-ref/source/v3/samples/backups/backup-update-request.json', 'cinder/tests/functional/api_sample_tests/test_backups.py', 'api-ref/source/v3/samples/backups/backup-update-response.json', 'api-ref/source/v3/samples/backups/backup-create-request.json', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-create-response.json.tpl', 'api-ref/source/v3/samples/backup-create-request.json', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-update-request.json.tpl'], 'web_link': 'https://opendev.org/openstack/cinder/commit/07805c55af7c742934ec9d0261d2dbf73a65931b', 'message': 'Automate generation of backups api-ref samples\n\nThis patch:\n1) Adds backup update\n2) Renames backup-create files\n3) Updates .inc file to contain new path\n\nPartially-Implements: blueprint generating-sample-files\nChange-Id: Ied61c5c3627585ad4e6afc9b23274ac314f27262\n'}]",2,879225,07805c55af7c742934ec9d0261d2dbf73a65931b,19,4,1,35851,,,0,"Automate generation of backups api-ref samples

This patch:
1) Adds backup update
2) Renames backup-create files
3) Updates .inc file to contain new path

Partially-Implements: blueprint generating-sample-files
Change-Id: Ied61c5c3627585ad4e6afc9b23274ac314f27262
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/879225/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/samples/backups/backup-create-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-create-request.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-update-response.json.tpl', 'api-ref/source/v3/samples/backup-create-response.json', 'api-ref/source/v3/ext-backups.inc', 'api-ref/source/v3/samples/backups/backup-update-request.json', 'cinder/tests/functional/api_sample_tests/test_backups.py', 'api-ref/source/v3/samples/backups/backup-update-response.json', 'api-ref/source/v3/samples/backups/backup-create-request.json', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-create-response.json.tpl', 'api-ref/source/v3/samples/backup-create-request.json', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-update-request.json.tpl']",12,07805c55af7c742934ec9d0261d2dbf73a65931b,bp/generating-sample-files,"{ ""backup"":{ ""project_id"": ""%(project_id)"", ""backup_id"": ""%(backup_id)"", ""name"":""backup001"", ""description"": ""Test the updated backup"" } } ",,58,32
openstack%2Fmagnum~master~I623bb47fc6a1e6abb9f2b7a50a844729fe65683d,openstack/magnum,master,I623bb47fc6a1e6abb9f2b7a50a844729fe65683d,Cluster API: Implement upgrade to a new template,NEW,2023-05-24 17:04:35.000000000,2023-05-31 00:45:19.000000000,,"[{'_account_id': 782}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 17:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c82bd80382b4db4da01a41b2a6a618fa1f691ada', 'message': 'Cluster API: Implement upgrade to a new template\n\nImplement the upgrade method to move a cluster to a new template.\nSimilar to other patches, this just updates the Helm values as required.\n\nstory: 2009780\nChange-Id: I623bb47fc6a1e6abb9f2b7a50a844729fe65683d\n'}, {'number': 2, 'created': '2023-05-25 11:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/07d319d980e12f903e780181621c616bb21a74b0', 'message': 'Cluster API: Implement upgrade to a new template\n\nImplement the upgrade method to move a cluster to a new template.\nSimilar to other patches, this just updates the Helm values as required.\n\nstory: 2009780\nChange-Id: I623bb47fc6a1e6abb9f2b7a50a844729fe65683d\n'}, {'number': 3, 'created': '2023-05-25 13:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/692655b0e4de9560d682a6b7fda61e36e8fb5f54', 'message': 'Cluster API: Implement upgrade to a new template\n\nImplement the upgrade method to move a cluster to a new template.\nSimilar to other patches, this just updates the Helm values as required.\n\nstory: 2009780\nChange-Id: I623bb47fc6a1e6abb9f2b7a50a844729fe65683d\n'}, {'number': 4, 'created': '2023-05-25 15:53:23.000000000', 'files': ['magnum/tests/unit/drivers/cluster_api/test_driver.py', 'devstack/contrib/new-devstack.sh', 'magnum/drivers/cluster_api/driver.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/a3af9bd850df38d9f7c04cca7c59baaa0cb4038d', 'message': 'Cluster API: Implement upgrade to a new template\n\nImplement the upgrade method to move a cluster to a new template.\nSimilar to other patches, this just updates the Helm values as required.\n\nstory: 2009780\nChange-Id: I623bb47fc6a1e6abb9f2b7a50a844729fe65683d\n'}]",11,884254,a3af9bd850df38d9f7c04cca7c59baaa0cb4038d,13,2,4,33467,,,0,"Cluster API: Implement upgrade to a new template

Implement the upgrade method to move a cluster to a new template.
Similar to other patches, this just updates the Helm values as required.

story: 2009780
Change-Id: I623bb47fc6a1e6abb9f2b7a50a844729fe65683d
",git fetch https://review.opendev.org/openstack/magnum refs/changes/54/884254/4 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/tests/unit/drivers/cluster_api/test_driver.py', 'devstack/contrib/new-devstack.sh', 'magnum/drivers/cluster_api/driver.py']",3,c82bd80382b4db4da01a41b2a6a618fa1f691ada,," # The control plane object is what controls the Kubernetes version # If it is known, report it kube_version = kcp_status.get(""version"", kcp_spec.get(""version"")) if cluster.coe_version != kube_version: cluster.coe_version = kube_version cluster.save() def _label(self, cluster, key, default, cluster_template=None): if cluster_template is None: cluster_template = cluster.cluster_template cluster_template.labels, cluster.labels def _get_chart_version(self, cluster, cluster_template=None): if cluster_template is None: cluster_template = cluster.cluster_template version = cluster_template.labels.get( ""capi_helm_chart_version"", CONF.capi_driver.helm_chart_version def _get_monitoring_enabled(self, cluster, cluster_template=None): mon_label = self._label( cluster, ""monitoring_enabled"", """", cluster_template ) def _get_kube_dash_enabled(self, cluster, cluster_template=None): kube_dash_label = self._label( cluster, ""kube_dashboard_enabled"", """", cluster_template ) def _update_helm_release( self, context, cluster, cluster_template=None, nodegroups=None ): if cluster_template is None: cluster_template = cluster.cluster_template context, cluster_template.image_id cluster, ""fixed_subnet_cidr"", ""10.0.0.0/24"", cluster_template cluster, ""octavia_provider"", ""amphora"", cluster_template ""enabled"": self._get_monitoring_enabled( cluster, cluster_template ), ""enabled"": self._get_kube_dash_enabled( cluster, cluster_template ), chart_version = self._get_chart_version(cluster, cluster_template) # TODO(mkjpryor) check that the upgrade is viable # e.g. not a downgrade, not an upgrade by more than one minor version # Updating the template will likely apply for all nodegroups # So mark them all as having an update in progress for nodegroup in cluster.nodegroups: nodegroup.status = fields.ClusterStatus.UPDATE_IN_PROGRESS nodegroup.save() # Store the new template ID cluster.cluster_template_id = cluster_template.uuid self._update_helm_release( context, cluster, cluster_template=cluster_template ) nodegroups=[ ng for ng in cluster.nodegroups if ng.name != nodegroup.name ]"," def _label(self, cluster, key, default): cluster.cluster_template.labels, cluster.labels def _get_chart_version(self, cluster): version = cluster.cluster_template.labels.get( ""capi_helm_chart_version"", CONF.capi_driver.helm_chart_version def _get_monitoring_enabled(self, cluster): mon_label = self._label(cluster, ""monitoring_enabled"", """") def _get_kube_dash_enabled(self, cluster): kube_dash_label = self._label(cluster, ""kube_dashboard_enabled"", """") def _update_helm_release(self, context, cluster, nodegroups=None): cluster_template = cluster.cluster_template context, cluster_template.image_id cluster, ""fixed_subnet_cidr"", ""10.0.0.0/24"" cluster, ""octavia_provider"", ""amphora"" ""enabled"": self._get_monitoring_enabled(cluster) ""enabled"": self._get_kube_dash_enabled(cluster) chart_version = self._get_chart_version(cluster) raise NotImplementedError(""don't support upgrade yet"") list( [ng for ng in cluster.nodegroups if ng.name != nodegroup.name] ),",110,33
openstack%2Fmagnum~stable%2Fzed~Ic182bba9d480421c2cb581558ebde8dfb20421c8,openstack/magnum,stable/zed,Ic182bba9d480421c2cb581558ebde8dfb20421c8,Fix pods unable to send traffic to ClusterIP,MERGED,2023-05-24 04:04:00.000000000,2023-05-31 00:44:56.000000000,2023-05-31 00:42:57.000000000,"[{'_account_id': 8064}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-24 04:04:00.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/843be2aa0d0beb6926d9ededb92009559e93d67c', 'message': ""Fix pods unable to send traffic to ClusterIP\n\nFlannel with VXLAN suffers from a bug[1] where pods on the same node are\nunable to send traffic to a service's ClusterIP when the endpoint is on\nthe same node.\n\nThis is due to improper NATTing of the return traffic.\n\nThe fix is to load the br_netfilter module as specified in the\nkubernetes doc.[2]\n\n[1] https://github.com/flannel-io/flannel/issues/1702\n[2] https://kubernetes.io/docs/setup/production-environment/container-runtimes/#forwarding-ipv4-and-letting-iptables-see-bridged-traffic\n\nChange-Id: Ic182bba9d480421c2cb581558ebde8dfb20421c8\n(cherry picked from commit ae7a50e2af515a2d9f4fcb76e25b237b1edc8ee5)\n""}]",0,883997,843be2aa0d0beb6926d9ededb92009559e93d67c,8,3,1,8064,,,0,"Fix pods unable to send traffic to ClusterIP

Flannel with VXLAN suffers from a bug[1] where pods on the same node are
unable to send traffic to a service's ClusterIP when the endpoint is on
the same node.

This is due to improper NATTing of the return traffic.

The fix is to load the br_netfilter module as specified in the
kubernetes doc.[2]

[1] https://github.com/flannel-io/flannel/issues/1702
[2] https://kubernetes.io/docs/setup/production-environment/container-runtimes/#forwarding-ipv4-and-letting-iptables-see-bridged-traffic

Change-Id: Ic182bba9d480421c2cb581558ebde8dfb20421c8
(cherry picked from commit ae7a50e2af515a2d9f4fcb76e25b237b1edc8ee5)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/97/883997/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh']",2,843be2aa0d0beb6926d9ededb92009559e93d67c,, $ssh_cmd modprobe -a vxlan br_netfilter cat <<EOF > /etc/modules-load.d/flannel.conf vxlan br_netfilter EOF," $ssh_cmd modprobe vxlan echo ""vxlan"" > /etc/modules-load.d/vxlan.conf",11,4
openstack%2Fos-net-config~master~If0cad8c856ee62064205b9a88f0148980653fcb2,openstack/os-net-config,master,If0cad8c856ee62064205b9a88f0148980653fcb2,Fix breaking vf-lag functionality in os-net-config,MERGED,2023-05-18 13:11:42.000000000,2023-05-31 00:32:22.000000000,2023-05-31 00:31:27.000000000,"[{'_account_id': 12171}, {'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 25241}, {'_account_id': 28223}, {'_account_id': 30102}, {'_account_id': 30229}, {'_account_id': 32238}, {'_account_id': 33688}, {'_account_id': 35001}]","[{'number': 1, 'created': '2023-05-18 13:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/1397bb60eb6394827bb001cb7b2c1e4961959d39', 'message': 'Fix breaking vf-lag functionality in os-net-config\n\nBecause of racing issue to activate vf-lag after moving the second\nsriov_pf interface to switchdev mode in Nvidia\\Mellanox nics, we may\nbind sriov_vfs while the LAG is not active yet.\nAnother reason for breaking vf-lag functionality is that we are doing\nifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond\nis member of ovs_bridge).\n\nAs a solution for this issue, we are doing the binding after assuring\nthe LAG is active, and also moving the ifdown/ifup before start binding\n\nCloses-Bug: #2020085\nChange-Id: If0cad8c856ee62064205b9a88f0148980653fcb2\n'}, {'number': 2, 'created': '2023-05-21 12:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/e555d188e958faaff2b47c910c75a87ba5b0dbd1', 'message': 'Fix breaking vf-lag functionality in os-net-config\n\nBecause of racing issue to activate vf-lag after moving the second\nsriov_pf interface to switchdev mode in Nvidia\\Mellanox nics, we may\nbind sriov_vfs while the LAG is not active yet.\nAnother reason for breaking vf-lag functionality is that we are doing\nifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond\nis member of ovs_bridge).\n\nAs a solution for this issue, we are doing the binding after assuring\nthe LAG is active, and also moving the ifdown/ifup before start binding\n\nCloses-Bug: #2020085\nChange-Id: If0cad8c856ee62064205b9a88f0148980653fcb2\n'}, {'number': 3, 'created': '2023-05-24 10:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/5898ff347f69ecda17c2a63cf770346368fdaa7c', 'message': 'Fix breaking vf-lag functionality in os-net-config\n\nBecause of racing issue to activate vf-lag after moving the second\nsriov_pf interface to switchdev mode in Nvidia\\Mellanox nics, we may\nbind sriov_vfs while the LAG is not active yet.\nAnother reason for breaking vf-lag functionality is that we are doing\nifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond\nis member of ovs_bridge).\n\nAs a solution for this issue, we are doing the binding after assuring\nthe LAG is active, and also moving the ifdown/ifup before start binding\n\nCloses-Bug: #2020085\nChange-Id: If0cad8c856ee62064205b9a88f0148980653fcb2\n'}, {'number': 4, 'created': '2023-05-24 11:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/43b34502f9c2573dc7a660ecef9f059e1a1d3b26', 'message': 'Fix breaking vf-lag functionality in os-net-config\n\nBecause of racing issue to activate vf-lag after moving the second\nsriov_pf interface to switchdev mode in Nvidia\\Mellanox nics, we may\nbind sriov_vfs while the LAG is not active yet.\nAnother reason for breaking vf-lag functionality is that we are doing\nifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond\nis member of ovs_bridge).\n\nAs a solution for this issue, we are doing the binding after assuring\nthe LAG is active, and also moving the ifdown/ifup before start binding\n\nCloses-Bug: #2020085\nChange-Id: If0cad8c856ee62064205b9a88f0148980653fcb2\n'}, {'number': 5, 'created': '2023-05-24 12:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/8daba265be06fae34e76265d1d8367dc5e5f77d1', 'message': 'Fix breaking vf-lag functionality in os-net-config\n\nBecause of racing issue to activate vf-lag after moving the second\nsriov_pf interface to switchdev mode in Nvidia\\Mellanox nics, we may\nbind sriov_vfs while the LAG is not active yet.\nAnother reason for breaking vf-lag functionality is that we are doing\nifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond\nis member of ovs_bridge).\n\nAs a solution for this issue, we are doing the binding after assuring\nthe LAG is active, and also moving the ifdown/ifup before start binding\n\nCloses-Bug: #2020085\nChange-Id: If0cad8c856ee62064205b9a88f0148980653fcb2\n'}, {'number': 6, 'created': '2023-05-25 09:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/1888221bdac9d0a74fd0761ee78fa85e9750adbb', 'message': 'Fix breaking vf-lag functionality in os-net-config\n\nBecause of racing issue to activate vf-lag after moving the second\nsriov_pf interface to switchdev mode in Nvidia\\Mellanox nics, we may\nbind sriov_vfs while the LAG is not active yet.\nAnother reason for breaking vf-lag functionality is that we are doing\nifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond\nis member of ovs_bridge).\n\nAs a solution for this issue, we are doing the binding after assuring\nthe LAG is active, and also moving the ifdown/ifup before start binding\n\nCloses-Bug: #2020085\nChange-Id: If0cad8c856ee62064205b9a88f0148980653fcb2\n'}, {'number': 7, 'created': '2023-05-29 06:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/3ae6754e6d645a663cb85999160f1dbb0642d3fb', 'message': 'Fix breaking vf-lag functionality in os-net-config\n\nBecause of racing issue to activate vf-lag after moving the second\nsriov_pf interface to switchdev mode in Nvidia\\Mellanox nics, we may\nbind sriov_vfs while the LAG is not active yet.\nAnother reason for breaking vf-lag functionality is that we are doing\nifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond\nis member of ovs_bridge).\n\nAs a solution for this issue, we are doing the binding after assuring\nthe LAG is active, and also moving the ifdown/ifup before start binding\n\nCloses-Bug: #2020085\nChange-Id: If0cad8c856ee62064205b9a88f0148980653fcb2\n'}, {'number': 8, 'created': '2023-05-29 10:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/74c251a6694239ad4d33a1af448b1adefd3983e0', 'message': 'Fix breaking vf-lag functionality in os-net-config\n\nBecause of racing issue to activate vf-lag after moving the second\nsriov_pf interface to switchdev mode in Nvidia\\Mellanox nics, we may\nbind sriov_vfs while the LAG is not active yet.\nAnother reason for breaking vf-lag functionality is that we are doing\nifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond\nis member of ovs_bridge).\n\nAs a solution for this issue, we are doing the binding after assuring\nthe LAG is active, and also moving the ifdown/ifup before start binding\n\nCloses-Bug: #2020085\nChange-Id: If0cad8c856ee62064205b9a88f0148980653fcb2\n'}, {'number': 9, 'created': '2023-05-29 11:06:29.000000000', 'files': ['os_net_config/utils.py', 'os_net_config/tests/test_utils.py', 'os_net_config/objects.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/b1a7c9c5f0c2832ff504ea4557305ca1b94a196e', 'message': 'Fix breaking vf-lag functionality in os-net-config\n\nBecause of racing issue to activate vf-lag after moving the second\nsriov_pf interface to switchdev mode in Nvidia\\Mellanox nics, we may\nbind sriov_vfs while the LAG is not active yet.\nAnother reason for breaking vf-lag functionality is that we are doing\nifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond\nis member of ovs_bridge).\n\nAs a solution for this issue, we are doing the binding after assuring\nthe LAG is active, and also moving the ifdown/ifup before start binding\n\nCloses-Bug: #2020085\nChange-Id: If0cad8c856ee62064205b9a88f0148980653fcb2\n'}]",39,883503,b1a7c9c5f0c2832ff504ea4557305ca1b94a196e,55,13,9,25241,,,0,"Fix breaking vf-lag functionality in os-net-config

Because of racing issue to activate vf-lag after moving the second
sriov_pf interface to switchdev mode in Nvidia\Mellanox nics, we may
bind sriov_vfs while the LAG is not active yet.
Another reason for breaking vf-lag functionality is that we are doing
ifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond
is member of ovs_bridge).

As a solution for this issue, we are doing the binding after assuring
the LAG is active, and also moving the ifdown/ifup before start binding

Closes-Bug: #2020085
Change-Id: If0cad8c856ee62064205b9a88f0148980653fcb2
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/03/883503/7 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/utils.py', 'os_net_config/sriov_config.py', 'os_net_config/cli.py']",3,1397bb60eb6394827bb001cb7b2c1e4961959d39,,"def get_sriovpfs_of_linux_bond(obj): sriovpf_member_of_linux_bond_list = [] if isinstance(obj, objects.LinuxBond): for member in obj.members: if isinstance(member, objects.SriovPF): sriovpf_member_of_linux_bond_list.append(member.name) elif hasattr(obj, ""members"") and obj.members is not None: for member in obj.members: sriovpf_member_of_linux_bond_list +=\ get_sriovpfs_of_linux_bond(member) return sriovpf_member_of_linux_bond_list sriovpfs_of_linux_bond_list = [] # Look for the presence of LinuxBond type of SriovPF members and # add all the SriovPF members to sriovpfs_of_linux_bond_list sriovpfs_of_linux_bond_list += get_sriovpfs_of_linux_bond(obj) restart_openvswitch=restart_ovs, sriovpfs_of_linux_bond_list=sriovpfs_of_linux_bond_list )", restart_openvswitch=restart_ovs),56,7
openstack%2Fmagnum~stable%2Fzed~Ib962e5a70ee35513f4a04ef87bfda71b2a2a80a1,openstack/magnum,stable/zed,Ib962e5a70ee35513f4a04ef87bfda71b2a2a80a1,Add `-p` param to `mkdir` in agent startup script,MERGED,2023-05-24 04:04:00.000000000,2023-05-31 00:31:49.000000000,2023-05-31 00:30:57.000000000,"[{'_account_id': 8064}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-24 04:04:00.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/user_data.json'], 'web_link': 'https://opendev.org/openstack/magnum/commit/fe83b5b8383263612ecc5b749893f3ddeb506124', 'message': ""Add `-p` param to `mkdir` in agent startup script\n\nThis script `/root/configure-agent-env.sh` is called by the systemd\nservice file `configure-agent-env.service`.\n\nThis fixes the following error in the configure-agent-env.service if the node\nhas been rebooted after the first boot:\n\n bash[870]: + mkdir /etc/kubernetes/\n bash[954]: mkdir: cannot create directory '/etc/kubernetes/': File exists\n\nChange-Id: Ib962e5a70ee35513f4a04ef87bfda71b2a2a80a1\n(cherry picked from commit 18348d5f7b97599a1893617e27fcdce2168102c9)\n""}]",0,883996,fe83b5b8383263612ecc5b749893f3ddeb506124,8,3,1,8064,,,0,"Add `-p` param to `mkdir` in agent startup script

This script `/root/configure-agent-env.sh` is called by the systemd
service file `configure-agent-env.service`.

This fixes the following error in the configure-agent-env.service if the node
has been rebooted after the first boot:

 bash[870]: + mkdir /etc/kubernetes/
 bash[954]: mkdir: cannot create directory '/etc/kubernetes/': File exists

Change-Id: Ib962e5a70ee35513f4a04ef87bfda71b2a2a80a1
(cherry picked from commit 18348d5f7b97599a1893617e27fcdce2168102c9)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/96/883996/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/k8s_fedora_coreos_v1/templates/user_data.json'],1,fe83b5b8383263612ecc5b749893f3ddeb506124,," ""source"": ""data:,%23!%2Fbin%2Fbash%0A%0Aset%20-x%0Aset%20-e%0Aset%20%2Bu%0A%0Auntil%20%5B%20-f%20%2Fetc%2Fpki%2Fca-trust%2Fsource%2Fanchors%2Fopenstack-ca.pem%20%5D%0Ado%0A%20%20%20%20echo%20%22waiting%20for%20%2Fetc%2Fpki%2Fca-trust%2Fsource%2Fanchors%2Fopenstack-ca.pem%22%0A%20%20%20%20sleep%203s%0Adone%0A%0A%2Fusr%2Fbin%2Fupdate-ca-trust%0Amkdir%20-p%20%2Fetc%2Fkubernetes%2F%0Acp%20%2Fetc%2Fpki%2Ftls%2Fcerts%2Fca-bundle.crt%20%2Fetc%2Fkubernetes%2Fca-bundle.crt%0A%0AHTTP_PROXY%3D%22__HTTP_PROXY__%22%0AHTTPS_PROXY%3D%22__HTTPS_PROXY__%22%0ANO_PROXY%3D%22__NO_PROXY__%22%0A%0Aif%20%5B%20-n%20%22%24%7BHTTP_PROXY%7D%22%20%5D%3B%20then%0A%20%20%20%20export%20HTTP_PROXY%0A%20%20%20%20echo%20%22http_proxy%3D%24%7BHTTP_PROXY%7D%22%20%3E%3E%20%2Fetc%2Fenvironment%0Afi%0A%0Aif%20%5B%20-n%20%22%24%7BHTTPS_PROXY%7D%22%20%5D%3B%20then%0A%20%20%20%20export%20HTTPS_PROXY%0A%20%20%20%20echo%20%22https_proxy%3D%24%7BHTTPS_PROXY%7D%22%20%3E%3E%20%2Fetc%2Fenvironment%0Afi%0A%0Aif%20%5B%20-n%20%22%24%7BNO_PROXY%7D%22%20%5D%3B%20then%0A%20%20%20%20export%20NO_PROXY%0A%20%20%20%20echo%20%22no_proxy%3D%24%7BNO_PROXY%7D%22%20%3E%3E%20%2Fetc%2Fenvironment%0Afi%0A%0A%23%20Create%20a%20keypair%20for%20the%20heat-container-agent%20to%0A%23%20access%20the%20node%20over%20ssh.%20It%20is%20useful%20to%20operate%0A%23%20in%20host%20mount%20namespace%20and%20apply%20configuration.%0Aid%0Amkdir%20-p%20%2Fsrv%2Fmagnum%2F.ssh%0Achmod%200700%20%2Fsrv%2Fmagnum%2F.ssh%0A%23touch%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa%0Assh-keygen%20-q%20-t%20rsa%20-N%20''%20-f%20%2Ftmp%2Fheat_agent_rsa%0Amv%20%2Ftmp%2Fheat_agent_rsa%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa%0Amv%20%2Ftmp%2Fheat_agent_rsa.pub%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa.pub%0Achmod%200400%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa%0Achmod%200400%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa.pub%0A%23%20Add%20the%20public%20to%20the%20host%20authorized_keys%20file.%0Amkdir%20-p%20%2Froot%2F.ssh%0Achmod%200700%20%2Froot%2F.ssh%0Acat%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa.pub%20%3E%20%2Froot%2F.ssh%2Fauthorized_keys%0A%23%20Add%20localost%20to%20know_hosts%0Assh-keyscan%20127.0.0.1%20%3E%20%2Fsrv%2Fmagnum%2F.ssh%2Fknown_hosts%0A%23%20ssh%20configguration%20file%2C%20to%20be%20specified%20with%20ssh%20-F%0Acat%20%3E%20%2Fsrv%2Fmagnum%2F.ssh%2Fconfig%20%3C%3CEOF%0AHost%20localhost%0A%20%20%20%20%20HostName%20127.0.0.1%0A%20%20%20%20%20User%20root%0A%20%20%20%20%20IdentityFile%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa%0A%20%20%20%20%20UserKnownHostsFile%20%2Fsrv%2Fmagnum%2F.ssh%2Fknown_hosts%0AEOF%0A%0Ased%20-i%20'%2F%5EPermitRootLogin%2F%20s%2F%20.*%2F%20without-password%2F'%20%2Fetc%2Fssh%2Fsshd_config%0A%23%20Security%20enhancement%3A%20Disable%20password%20authentication%0Ased%20-i%20'%2F%5EPasswordAuthentication%20yes%2F%20s%2F%20yes%2F%20no%2F'%20%2Fetc%2Fssh%2Fsshd_config%0A%0Asystemctl%20restart%20sshd%0A"""," ""source"": ""data:,%23!%2Fbin%2Fbash%0A%0Aset%20-x%0Aset%20-e%0Aset%20%2Bu%0A%0Auntil%20%5B%20-f%20%2Fetc%2Fpki%2Fca-trust%2Fsource%2Fanchors%2Fopenstack-ca.pem%20%5D%0Ado%0A%20%20%20%20echo%20%22waiting%20for%20%2Fetc%2Fpki%2Fca-trust%2Fsource%2Fanchors%2Fopenstack-ca.pem%22%0A%20%20%20%20sleep%203s%0Adone%0A%0A%2Fusr%2Fbin%2Fupdate-ca-trust%0Amkdir%20%2Fetc%2Fkubernetes%2F%0Acp%20%2Fetc%2Fpki%2Ftls%2Fcerts%2Fca-bundle.crt%20%2Fetc%2Fkubernetes%2Fca-bundle.crt%0A%0AHTTP_PROXY%3D%22__HTTP_PROXY__%22%0AHTTPS_PROXY%3D%22__HTTPS_PROXY__%22%0ANO_PROXY%3D%22__NO_PROXY__%22%0A%0Aif%20%5B%20-n%20%22%24%7BHTTP_PROXY%7D%22%20%5D%3B%20then%0A%20%20%20%20export%20HTTP_PROXY%0A%20%20%20%20echo%20%22http_proxy%3D%24%7BHTTP_PROXY%7D%22%20%3E%3E%20%2Fetc%2Fenvironment%0Afi%0A%0Aif%20%5B%20-n%20%22%24%7BHTTPS_PROXY%7D%22%20%5D%3B%20then%0A%20%20%20%20export%20HTTPS_PROXY%0A%20%20%20%20echo%20%22https_proxy%3D%24%7BHTTPS_PROXY%7D%22%20%3E%3E%20%2Fetc%2Fenvironment%0Afi%0A%0Aif%20%5B%20-n%20%22%24%7BNO_PROXY%7D%22%20%5D%3B%20then%0A%20%20%20%20export%20NO_PROXY%0A%20%20%20%20echo%20%22no_proxy%3D%24%7BNO_PROXY%7D%22%20%3E%3E%20%2Fetc%2Fenvironment%0Afi%0A%0A%23%20Create%20a%20keypair%20for%20the%20heat-container-agent%20to%0A%23%20access%20the%20node%20over%20ssh.%20It%20is%20useful%20to%20operate%0A%23%20in%20host%20mount%20namespace%20and%20apply%20configuration.%0Aid%0Amkdir%20-p%20%2Fsrv%2Fmagnum%2F.ssh%0Achmod%200700%20%2Fsrv%2Fmagnum%2F.ssh%0A%23touch%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa%0Assh-keygen%20-q%20-t%20rsa%20-N%20''%20-f%20%2Ftmp%2Fheat_agent_rsa%0Amv%20%2Ftmp%2Fheat_agent_rsa%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa%0Amv%20%2Ftmp%2Fheat_agent_rsa.pub%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa.pub%0Achmod%200400%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa%0Achmod%200400%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa.pub%0A%23%20Add%20the%20public%20to%20the%20host%20authorized_keys%20file.%0Amkdir%20-p%20%2Froot%2F.ssh%0Achmod%200700%20%2Froot%2F.ssh%0Acat%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa.pub%20%3E%20%2Froot%2F.ssh%2Fauthorized_keys%0A%23%20Add%20localost%20to%20know_hosts%0Assh-keyscan%20127.0.0.1%20%3E%20%2Fsrv%2Fmagnum%2F.ssh%2Fknown_hosts%0A%23%20ssh%20configguration%20file%2C%20to%20be%20specified%20with%20ssh%20-F%0Acat%20%3E%20%2Fsrv%2Fmagnum%2F.ssh%2Fconfig%20%3C%3CEOF%0AHost%20localhost%0A%20%20%20%20%20HostName%20127.0.0.1%0A%20%20%20%20%20User%20root%0A%20%20%20%20%20IdentityFile%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa%0A%20%20%20%20%20UserKnownHostsFile%20%2Fsrv%2Fmagnum%2F.ssh%2Fknown_hosts%0AEOF%0A%0Ased%20-i%20'%2F%5EPermitRootLogin%2F%20s%2F%20.*%2F%20without-password%2F'%20%2Fetc%2Fssh%2Fsshd_config%0A%23%20Security%20enhancement%3A%20Disable%20password%20authentication%0Ased%20-i%20'%2F%5EPasswordAuthentication%20yes%2F%20s%2F%20yes%2F%20no%2F'%20%2Fetc%2Fssh%2Fsshd_config%0A%0Asystemctl%20restart%20sshd%0A""",1,1
openstack%2Fdesignate~master~Ia12b530730921db5235fd35f4cabf80b916c216f,openstack/designate,master,Ia12b530730921db5235fd35f4cabf80b916c216f,Fix bug in update_zone with recordsets,MERGED,2023-05-30 05:35:34.000000000,2023-05-31 00:30:25.000000000,2023-05-31 00:28:38.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 05:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b827db1633e76c7180ec11bd221127175e48029d', 'message': 'Fix bug in update_zone\n\nWhen trying to write unit tests I found that the previous code path\ndid not work and would throw an sql error. This fixes up the code\npath and adds some basic test coverage.\n\nChange-Id: Ia12b530730921db5235fd35f4cabf80b916c216f\n'}, {'number': 2, 'created': '2023-05-30 05:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ab86e22ce3c0083034d861ae2034ac467b9c0a1d', 'message': 'Fix bug in update_zone\n\nWhen trying to write unit tests I found that the previous code path\ndid not work and would throw an sql error. This fixes up the code\npath and adds some basic test coverage.\n\nChange-Id: Ia12b530730921db5235fd35f4cabf80b916c216f\n'}, {'number': 3, 'created': '2023-05-30 06:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3140b991ea625d7340acc42b091434ffbfcff0e3', 'message': 'Fix bug in update_zone\n\nWhen trying to write unit tests I found that the previous code path\ndid not work and would throw an sql error. This fixes up the code\npath and adds some basic test coverage.\n\nChange-Id: Ia12b530730921db5235fd35f4cabf80b916c216f\n'}, {'number': 4, 'created': '2023-05-30 06:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e6bffe76517a2f9dc48faf3bae29eb7e15da759a', 'message': 'Fix bug in update_zone with recordsets\n\nWhen trying to write unit tests I found that when updating a zone\nwith recordsets there are scenarios where it would throw an sql\nerror. \n> sqlalchemy.exc.CompileError: Unconsumed column names: zone_name\n\nThis fixes up the code path and adds some basic test coverage.\n\nChange-Id: Ia12b530730921db5235fd35f4cabf80b916c216f\n'}, {'number': 5, 'created': '2023-05-30 20:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c953f8e36c64132d44361130c94a839c7da35d15', 'message': 'Fix bug in update_zone with recordsets\n\nWhen trying to write unit tests I found that when updating a zone\nwith recordsets there are scenarios where it would throw an sql\nerror. \n> sqlalchemy.exc.CompileError: Unconsumed column names: zone_name\n\nThis fixes up the code path and adds some basic test coverage.\n\nChange-Id: Ia12b530730921db5235fd35f4cabf80b916c216f\n'}, {'number': 6, 'created': '2023-05-30 20:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9b157dcc6de6472f259fe28117c8fedaaa16162d', 'message': 'Fix bug in update_zone with recordsets\n\nWhen trying to write unit tests I found that when updating a zone\nwith recordsets there are scenarios where it would throw an sql\nerror. \n> sqlalchemy.exc.CompileError: Unconsumed column names: zone_name\n\nThis fixes up the code path and adds some basic test coverage.\n\nChange-Id: Ia12b530730921db5235fd35f4cabf80b916c216f\n'}, {'number': 7, 'created': '2023-05-30 21:52:21.000000000', 'files': ['designate/storage/sqlalchemy/__init__.py', 'designate/tests/test_storage/test_storage.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/b45a7b5167fcd5798da35c3bb3ef5aaffc66828f', 'message': 'Fix bug in update_zone with recordsets\n\nWhen trying to write unit tests I found that when updating a zone\nwith recordsets there are scenarios where it would throw an sql\nerror. \n> sqlalchemy.exc.CompileError: Unconsumed column names: zone_name\n\nThis fixes up the code path and adds some basic test coverage.\n\nChange-Id: Ia12b530730921db5235fd35f4cabf80b916c216f\n'}]",4,884593,b45a7b5167fcd5798da35c3bb3ef5aaffc66828f,17,2,7,22623,,,0,"Fix bug in update_zone with recordsets

When trying to write unit tests I found that when updating a zone
with recordsets there are scenarios where it would throw an sql
error. 
> sqlalchemy.exc.CompileError: Unconsumed column names: zone_name

This fixes up the code path and adds some basic test coverage.

Change-Id: Ia12b530730921db5235fd35f4cabf80b916c216f
",git fetch https://review.opendev.org/openstack/designate refs/changes/93/884593/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/storage/sqlalchemy/__init__.py', 'designate/tests/test_storage/test_storage.py']",2,b827db1633e76c7180ec11bd221127175e48029d,," def test_update_zone_new_recordset_with_existing(self): zone = self.create_zone(name='example.org.') recordset1 = self.create_recordset(zone) recordset2 = objects.RecordSet( name='www.example.org.', type='A', records=objects.RecordList(objects=[ objects.Record(data='192.168.0.1'), ]) ) zone.name = 'example.net.' zone.recordsets = objects.RecordSetList( objects=[recordset1, recordset2] ) # Perform the update self.storage.update_zone(self.admin_context, zone) recordsets = self.storage.find_recordsets( self.admin_context, {'zone_id': zone['id']} ) self.assertEqual(4, len(recordsets)) ",,31,13
openstack%2Fdesignate~master~I3dc80fac13e60016e0611410b269bc487d93a39b,openstack/designate,master,I3dc80fac13e60016e0611410b269bc487d93a39b,Increase minimum acceptable test coverage,MERGED,2023-05-29 05:25:04.000000000,2023-05-31 00:29:38.000000000,2023-05-31 00:28:36.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 05:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c032a82e71a2b2c087c251ce3f80f61bef8f379a', 'message': 'Increase minimum acceptable test coverage\n\nChange-Id: I3dc80fac13e60016e0611410b269bc487d93a39b\n'}, {'number': 2, 'created': '2023-05-30 06:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/74ace85d32202089da3222f5e67a86f2178008be', 'message': 'Increase minimum acceptable test coverage\n\nChange-Id: I3dc80fac13e60016e0611410b269bc487d93a39b\n'}, {'number': 3, 'created': '2023-05-30 20:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1608ff347876860e9c780d5bacdaf8743ebcb940', 'message': 'Increase minimum acceptable test coverage\n\nChange-Id: I3dc80fac13e60016e0611410b269bc487d93a39b\n'}, {'number': 4, 'created': '2023-05-30 21:52:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/designate/commit/a53c685adfd8bf1db57443d1fa2327a47cc339e1', 'message': 'Increase minimum acceptable test coverage\n\nChange-Id: I3dc80fac13e60016e0611410b269bc487d93a39b\n'}]",2,884349,a53c685adfd8bf1db57443d1fa2327a47cc339e1,14,2,4,22623,,,0,"Increase minimum acceptable test coverage

Change-Id: I3dc80fac13e60016e0611410b269bc487d93a39b
",git fetch https://review.opendev.org/openstack/designate refs/changes/49/884349/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c032a82e71a2b2c087c251ce3f80f61bef8f379a,, coverage report --fail-under=88 --skip-covered, coverage report --fail-under=85 --skip-covered,1,1
openstack%2Fdesignate~master~I519d9e648e684238ca19d00df6abf9b472e3c666,openstack/designate,master,I519d9e648e684238ca19d00df6abf9b472e3c666,Improve storage unit test coverage,MERGED,2023-05-29 04:51:28.000000000,2023-05-31 00:10:33.000000000,2023-05-31 00:09:16.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 04:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/bd776b1274282058092f74326632de3e6139d77f', 'message': 'Improve storage test coverage\n\n- Minor cleanup to tests.\n- Use assertRaisesRegex for exception testing.\n\nChange-Id: I519d9e648e684238ca19d00df6abf9b472e3c666\n'}, {'number': 2, 'created': '2023-05-29 05:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0be88cb88658737d39de9d7a9935f024a2f8ca8e', 'message': 'Improve storage test coverage\n\n- Minor cleanup to tests.\n- Use assertRaisesRegex for exception testing.\n\nChange-Id: I519d9e648e684238ca19d00df6abf9b472e3c666\n'}, {'number': 3, 'created': '2023-05-29 05:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a8120ed651e742f0271f975b1a815d74c755e60d', 'message': 'Improve storage unit test coverage\n\n- Minor cleanup to tests.\n- Use assertRaisesRegex for exception testing.\n\nChange-Id: I519d9e648e684238ca19d00df6abf9b472e3c666\n'}, {'number': 4, 'created': '2023-05-30 06:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/13bbc7934d4f27557b8aac1c98ce987f0fdefd00', 'message': 'Improve storage unit test coverage\n\n- Minor cleanup to tests.\n- Use assertRaisesRegex for exception testing.\n\nChange-Id: I519d9e648e684238ca19d00df6abf9b472e3c666\n'}, {'number': 5, 'created': '2023-05-30 20:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7a1ac70026db93174d675276ca82dfc87a5aaf76', 'message': 'Improve storage unit test coverage\n\n- Minor cleanup to tests.\n- Use assertRaisesRegex for exception testing.\n\nChange-Id: I519d9e648e684238ca19d00df6abf9b472e3c666\n'}, {'number': 6, 'created': '2023-05-30 21:51:54.000000000', 'files': ['designate/tests/unit/storage/impl_sqlalchemy/test_sqlalchemy.py', 'designate/tests/test_storage/test_storage.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/a7cbcc0770d09da7daca6ba34a8aa3985f0cc2ba', 'message': 'Improve storage unit test coverage\n\n- Minor cleanup to tests.\n- Use assertRaisesRegex for exception testing.\n\nChange-Id: I519d9e648e684238ca19d00df6abf9b472e3c666\n'}]",8,884348,a7cbcc0770d09da7daca6ba34a8aa3985f0cc2ba,17,2,6,22623,,,0,"Improve storage unit test coverage

- Minor cleanup to tests.
- Use assertRaisesRegex for exception testing.

Change-Id: I519d9e648e684238ca19d00df6abf9b472e3c666
",git fetch https://review.opendev.org/openstack/designate refs/changes/48/884348/4 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/storage/impl_sqlalchemy/test_sqlalchemy.py', 'designate/tests/test_storage/test_storage.py']",2,bd776b1274282058092f74326632de3e6139d77f,," self.assertRaisesRegex( exceptions.MarkerNotFound, 'Marker None could not be found', self.storage.find_pool_attributes, self.admin_context, marker=generate_uuid(), limit=5 ) self.assertRaises( exceptions.InvalidMarker, self.storage.find_pool_attributes, self.admin_context, marker='4' ) self.assertRaisesRegex( exceptions.ValueError, r'invalid literal for int\(\) with base 10: \'z\'', self.storage.find_pool_attributes, self.admin_context, limit='z' ) self.assertRaisesRegex( exceptions.ValueError, r'Unknown sort direction, must be \'desc\' or \'asc\'', self.storage.find_pool_attributes, self.admin_context, sort_dir='invalid_sort_dir' ) self.assertRaisesRegex( exceptions.InvalidSortKey, 'Sort key supplied is invalid: None', self.storage.find_pool_attributes, self.admin_context, sort_key='invalid_sort_key' ) self.assertRaisesRegex( exceptions.DuplicateQuota, 'Duplicate Quota', self.create_quota ) uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.assertRaisesRegex( exceptions.QuotaNotFound, 'Could not find Quota', self.storage.get_quota, self.admin_context, uuid ) tenant_id=expected['tenant_id'] + 'NOT FOUND' self.assertRaisesRegex( exceptions.QuotaNotFound, 'Could not find Quota', self.storage.find_quota, self.admin_context, criterion ) self.assertRaisesRegex( exceptions.DuplicateQuota, 'Duplicate Quota', self.storage.update_quota, self.admin_context, quota_two ) self.assertRaisesRegex( exceptions.QuotaNotFound, 'Could not find Quota', self.storage.update_quota, self.admin_context, quota ) self.assertRaisesRegex( exceptions.QuotaNotFound, 'Could not find Quota', self.storage.get_quota, self.admin_context, quota['id'] ) uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.assertRaisesRegex( exceptions.QuotaNotFound, 'Could not find Quota', self.storage.delete_quota, self.admin_context, uuid ) uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.assertRaisesRegex( exceptions.TsigKeyNotFound, 'Could not find TsigKey', self.storage.get_tsigkey, self.admin_context, uuid ) self.assertRaisesRegex( exceptions.DuplicateTsigKey, 'Duplicate TsigKey', self.storage.update_tsigkey, self.admin_context, tsigkey_two ) self.assertRaisesRegex( exceptions.TsigKeyNotFound, 'Could not find TsigKey', self.storage.update_tsigkey, self.admin_context, tsigkey ) self.assertRaisesRegex( exceptions.TsigKeyNotFound, 'Could not find TsigKey', self.storage.get_tsigkey, self.admin_context, tsigkey['id'] ) uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.assertRaisesRegex( exceptions.TsigKeyNotFound, 'Could not find TsigKey', self.storage.delete_tsigkey, self.admin_context, uuid ) def test_count_tenants_no_results(self): tenants = self.storage.count_tenants(self.admin_context) self.assertEqual(0, tenants) @mock.patch('designate.storage.sql.get_read_session') def test_count_tenants_none_result(self, mock_read_session): mock_sql_execute = mock.Mock() mock_sql_fetchone = mock.Mock() mock_read_session().__enter__.return_value = mock_sql_execute mock_sql_execute.execute.return_value = mock_sql_fetchone mock_sql_fetchone.fetchone.return_value = None tenants = self.storage.count_tenants(self.admin_context) mock_read_session.assert_called() self.assertEqual(0, tenants) uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.assertRaisesRegex( exceptions.ZoneNotFound, 'Could not find Zone', self.storage.get_zone, self.admin_context, uuid ) name=expected['name'] + 'NOT FOUND' self.assertRaisesRegex( exceptions.ZoneNotFound, 'Could not find Zone', self.storage.find_zone, self.admin_context, criterion ) self.assertRaisesRegex( exceptions.ZoneNotFound, 'Could not find Zone', self.storage.find_zone, self.admin_context, criterion ) self.assertRaisesRegex( exceptions.ZoneNotFound, 'Could not find Zone', self.storage.find_zone, self.admin_context, criterion ) zone.recordsets = objects.RecordSetList() def test_update_zone_secondary(self): # Create a zone fixture = self.get_zone_fixture('SECONDARY', 1) fixture['email'] = 'root@example.com' zone = self.create_zone(**fixture) # Update the Object zone.name = 'example.net.' zone.recordsets = objects.RecordSetList() # Perform the update zone = self.storage.update_zone(self.admin_context, zone) # Ensure the new valie took self.assertEqual('example.net.', zone.name) # Ensure the version column was incremented self.assertEqual(2, zone.version) def test_update_zone_new_recordset(self): zone = self.create_zone(name='example.org.') recordset = objects.RecordSet( name='www.example.org.', type='A', records=objects.RecordList(objects=[ objects.Record(data='192.168.0.1'), ]) ) zone.name = 'example.net.' zone.recordsets = objects.RecordSetList(objects=[recordset]) # Perform the update self.storage.update_zone(self.admin_context, zone) recordsets = self.storage.find_recordsets( self.admin_context, {'zone_id': zone['id']} ) self.assertEqual(3, len(recordsets)) self.assertRaisesRegex( exceptions.DuplicateZone, 'Duplicate Zone', self.storage.update_zone, self.admin_context, zone_two ) self.assertRaisesRegex( exceptions.ZoneNotFound, 'Could not find Zone', self.storage.update_zone, self.admin_context, zone ) self.assertRaisesRegex( exceptions.ZoneNotFound, 'Could not find Zone', self.storage.get_zone, self.admin_context, zone['id'] ) uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.assertRaisesRegex( exceptions.ZoneNotFound, 'Could not find Zone', self.storage.delete_zone, self.admin_context, uuid ) @mock.patch('designate.storage.sql.get_read_session') def test_count_zones_none_result(self, mock_read_session): mock_sql_execute = mock.Mock() mock_sql_fetchone = mock.Mock() mock_read_session().__enter__.return_value = mock_sql_execute mock_sql_execute.execute.return_value = mock_sql_fetchone mock_sql_fetchone.fetchone.return_value = None zones = self.storage.count_zones(self.admin_context) mock_read_session.assert_called() self.assertEqual(0, zones) 'type': 'SOA'}) 'type': 'NS'}) name='%%%(name)s' % {'name': zone['name']}, objects.Record.from_dict({'data': '10.0.0.1'}), objects.Record.from_dict({'data': '10.0.0.2'}), objects.Record.from_dict({'data': '10.0.0.3'}) name=expected['name'] + 'NOT FOUND' self.assertRaisesRegex( exceptions.RecordSetNotFound, 'Could not find RecordSet', self.storage.find_recordset, self.admin_context, criterion ) recordset.records.append(objects.Record(data='10.0.0.1')) self.assertRaisesRegex( exceptions.DuplicateRecordSet, 'Duplicate RecordSet', self.storage.update_recordset, self.admin_context, recordset_two ) id='caf771fc-6b05-4891-bee1-c2a48621f57b' ) self.assertRaisesRegex( exceptions.RecordSetNotFound, 'Could not find RecordSet', self.storage.update_recordset, self.admin_context, recordset ) self.assertRaisesRegex( exceptions.RecordSetNotFound, 'Could not find RecordSet', self.storage.find_recordset, self.admin_context, criterion={'id': recordset['id']} ) uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.assertRaisesRegex( exceptions.RecordSetNotFound, 'Could not find RecordSet', self.storage.delete_recordset, self.admin_context, uuid ) @mock.patch('designate.storage.sql.get_read_session') def test_count_recordsets_none_result(self, mock_read_session): mock_sql_execute = mock.Mock() mock_sql_fetchone = mock.Mock() mock_read_session().__enter__.return_value = mock_sql_execute mock_sql_execute.execute.return_value = mock_sql_fetchone mock_sql_fetchone.fetchone.return_value = None recordsets = self.storage.count_recordsets(self.admin_context) mock_read_session.assert_called() self.assertEqual(0, recordsets) 'type': 'SOA'}) 'type': 'NS'}) data='%.0.0.1', uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.assertRaisesRegex( exceptions.RecordNotFound, 'Could not find Record', self.storage.get_record, self.admin_context, uuid ) data=expected['data'] + 'NOT FOUND', self.assertRaisesRegex( exceptions.RecordNotFound, 'Could not find Record', self.storage.find_record, self.admin_context, criterion ) self.assertRaisesRegex( exceptions.DuplicateRecord, 'Duplicate Record', self.storage.update_record, self.admin_context, record_two ) self.assertRaisesRegex( exceptions.RecordNotFound, 'Could not find Record', self.storage.update_record, self.admin_context, record ) self.assertRaisesRegex( exceptions.RecordNotFound, 'Could not find Record', self.storage.get_record, self.admin_context, record['id'] ) uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.assertRaisesRegex( exceptions.RecordNotFound, 'Could not find Record', self.storage.delete_record, self.admin_context, uuid ) @mock.patch('designate.storage.sql.get_read_session') def test_count_records_none_result(self, mock_read_session): mock_sql_execute = mock.Mock() mock_sql_fetchone = mock.Mock() mock_read_session().__enter__.return_value = mock_sql_execute mock_sql_execute.execute.return_value = mock_sql_fetchone mock_sql_fetchone.fetchone.return_value = None records = self.storage.count_records(self.admin_context) mock_read_session.assert_called() self.assertEqual(0, records) uuid = '4c8e7f82-3519-4bf7-8940-a66a4480f223' self.assertRaisesRegex( exceptions.TldNotFound, 'Could not find Tld', self.storage.get_tld, self.admin_context, uuid ) criterion = dict(name=expected['name'] + 'NOT FOUND') self.assertRaisesRegex( exceptions.TldNotFound, 'Could not find Tld', self.storage.find_tld, self.admin_context, criterion ) self.assertRaisesRegex( exceptions.DuplicateTld, 'Duplicate Tld', self.storage.update_tld, self.admin_context, tld_two ) tld = objects.Tld( id='486f9cbe-b8b6-4d8c-8275-1a6e47b13e00' ) self.assertRaisesRegex( exceptions.TldNotFound, 'Could not find Tld', self.storage.update_tld, self.admin_context, tld ) self.assertRaisesRegex( exceptions.TldNotFound, 'Could not find Tld', self.storage.get_tld, self.admin_context, tld['id'] ) uuid = 'cac1fc02-79b2-4e62-a1a4-427b6790bbe6' self.assertRaisesRegex( exceptions.TldNotFound, 'Could not find Tld', self.storage.delete_tld, self.admin_context, uuid ) 'pattern': '^([A-Za-z0-9_\\-]+\\.)*example\\.com\\.$', uuid = '2c102ffd-7146-4b4e-ad62-b530ee0873fb' self.assertRaisesRegex( exceptions.BlacklistNotFound, 'Could not find Blacklist', self.storage.get_blacklist, self.admin_context, uuid ) criterion = dict(pattern=expected['pattern'] + 'NOT FOUND') self.assertRaisesRegex( exceptions.BlacklistNotFound, 'Could not find Blacklist', self.storage.find_blacklist, self.admin_context, criterion ) self.assertRaisesRegex( exceptions.DuplicateBlacklist, 'Duplicate Blacklist', self.storage.update_blacklist, self.admin_context, blacklist_two ) id='e8cee063-3a26-42d6-b181-bdbdc2c99d08' ) self.assertRaisesRegex( exceptions.BlacklistNotFound, 'Could not find Blacklist', self.storage.update_blacklist, self.admin_context, blacklist ) self.assertRaisesRegex( exceptions.BlacklistNotFound, 'Could not find Blacklist', self.storage.get_blacklist, self.admin_context, blacklist['id'] ) uuid = '97f57960-f41b-4e93-8e22-8fd6c7e2c183' self.assertRaisesRegex( exceptions.BlacklistNotFound, 'Could not find Blacklist', self.storage.delete_blacklist, self.admin_context, uuid ) 'nameservers': [{'host': '192.0.2.1', 'port': 53}], 'targets': [{ 'type': 'fake', 'masters': [{'host': '192.0.2.2', 'also_notifies': [{'host': '192.0.2.3', 'port': 53}] uuid = 'c28893e3-eb87-4562-aa29-1f0e835d749b' self.assertRaisesRegex( exceptions.PoolNotFound, 'Could not find Pool', self.storage.get_pool, self.admin_context, uuid ) criterion = dict(name=expected['name'] + 'NOT FOUND') self.assertRaisesRegex( exceptions.PoolNotFound, 'Could not find Pool', self.storage.find_pool, self.admin_context, criterion ) self.assertRaisesRegex( exceptions.DuplicatePool, 'Duplicate Pool', self.storage.update_pool, self.admin_context, pool_two ) pool = objects.Pool( id='8806f871-5140-43f4-badd-2bbc5715b013' ) self.assertRaisesRegex( exceptions.PoolNotFound, 'Could not find Pool', self.storage.update_pool, self.admin_context, pool ) 'nameservers': [{'host': '192.0.2.1', 'port': 53}], 'targets': [{ 'type': 'fake', 'masters': [{'host': '192.0.2.2', 'also_notifies': [{'host': '192.0.2.3', 'port': 53}] 'nameservers': [{'host': '192.0.2.5', 'port': 53}], 'targets': [{ 'type': 'fake', 'masters': [{'host': '192.0.2.2', 'type': 'fake', 'masters': [{'host': '192.0.2.7', 'port': 5355}], self.assertRaisesRegex( exceptions.PoolNotFound, 'Could not find Pool', self.storage.delete_pool, self.admin_context, pool['id'] ) uuid = '203ca44f-c7e7-4337-9a02-0d735833e6aa' self.assertRaisesRegex( exceptions.PoolNotFound, 'Could not find Pool', self.storage.delete_pool, self.admin_context, uuid ) ns = objects.PoolNsRecord(priority=1, hostname='ns.example.io.') ns2 = objects.PoolNsRecord(priority=2, hostname='ns.example.io.') self.assertRaisesRegex( exceptions.DuplicatePoolNsRecord, 'Duplicate PoolNsRecord', self.storage.create_pool_ns_record, self.admin_context, pool.id, ns2 ) ns1 = objects.PoolNsRecord(priority=1, hostname='ns1.example.io.') ns2 = objects.PoolNsRecord(priority=2, hostname='ns2.example.io.') ns2.hostname = ns1.hostname self.assertRaisesRegex( exceptions.DuplicatePoolNsRecord, 'Duplicate PoolNsRecord', self.storage.update_pool_ns_record, self.admin_context, ns2 ) 'pool_id': 'd5d10661-0312-4ae1-8664-31188a4310b7', 'key': 'test-attribute', LOG.debug('Criterion is %r ' % criterion) uuid = '2c102ffd-7146-4b4e-ad62-b530ee0873fb' self.assertRaisesRegex( exceptions.PoolAttributeNotFound, 'Could not find PoolAttribute', self.storage.get_pool_attribute, self.admin_context, uuid ) criterion = dict(key=expected['key'] + 'NOT FOUND') self.assertRaisesRegex( exceptions.PoolAttributeNotFound, 'Could not find PoolAttribute', self.storage.find_pool_attribute, self.admin_context, criterion ) id='728a329a-83b1-4573-82dc-45dceab435d4' ) self.assertRaisesRegex( exceptions.PoolAttributeNotFound, 'Could not find PoolAttribute', self.storage.update_pool_attribute, self.admin_context, pool_attribute ) self.assertRaisesRegex( exceptions.DuplicatePoolAttribute, 'Duplicate PoolAttribute', self.storage.update_pool_attribute, self.admin_context, pool_attribute_two ) self.assertRaisesRegex( exceptions.PoolAttributeNotFound, 'Could not find PoolAttribute', self.storage.get_pool_attribute, self.admin_context, pool_attribute['id'] ) uuid = '464e9250-4fe0-4267-9993-da639390bb04' self.assertRaisesRegex( exceptions.PoolAttributeNotFound, 'Could not find PoolAttribute', self.storage.delete_pool_attribute, self.admin_context, uuid ) self.assertRaisesRegex( exceptions.DuplicatePoolAttribute, 'Duplicate PoolAttribute', self.create_pool_attribute, fixture=0 ) 'host': '192.0.2.1', self.assertRaisesRegex( exceptions.DuplicatePoolNameserver, 'Duplicate PoolNameserver', self.create_pool_nameserver, pool, fixture=0 ) uuid = '2c102ffd-7146-4b4e-ad62-b530ee0873fb' self.assertRaisesRegex( exceptions.PoolNameserverNotFound, 'Could not find PoolNameserver', self.storage.get_pool_nameserver, self.admin_context, uuid ) criterion = dict(host=expected['host'] + 'NOT FOUND') self.assertRaisesRegex( exceptions.PoolNameserverNotFound, 'Could not find PoolNameserver', self.storage.find_pool_nameserver, self.admin_context, criterion ) self.assertRaisesRegex( exceptions.DuplicatePoolNameserver, 'Duplicate PoolNameserver', self.storage.update_pool_nameserver, self.admin_context, pool_nameserver_two ) id='e8cee063-3a26-42d6-b181-bdbdc2c99d08' ) self.assertRaisesRegex( exceptions.PoolNameserverNotFound, 'Could not find PoolNameserver', self.storage.update_pool_nameserver, self.admin_context, pool_nameserver ) self.assertRaisesRegex( exceptions.PoolNameserverNotFound, 'Could not find PoolNameserver', self.storage.get_pool_nameserver, self.admin_context, pool_nameserver['id'] ) uuid = '97f57960-f41b-4e93-8e22-8fd6c7e2c183' self.assertRaisesRegex( exceptions.PoolNameserverNotFound, 'Could not find PoolNameserver', self.storage.delete_pool_nameserver, self.admin_context, uuid ) 'type': 'fake' uuid = '2c102ffd-7146-4b4e-ad62-b530ee0873fb' self.assertRaisesRegex( exceptions.PoolTargetNotFound, 'Could not find PoolTarget', self.storage.get_pool_target, self.admin_context, uuid ) criterion = dict(description=expected['description'] + 'NOT FOUND') self.assertRaisesRegex( exceptions.PoolTargetNotFound, 'Could not find PoolTarget', self.storage.find_pool_target, self.admin_context, criterion ) id='e8cee063-3a26-42d6-b181-bdbdc2c99d08' ) self.assertRaisesRegex( exceptions.PoolTargetNotFound, 'Could not find PoolTarget', self.storage.update_pool_target, self.admin_context, pool_target ) self.assertRaisesRegex( exceptions.PoolTargetNotFound, 'Could not find PoolTarget', self.storage.get_pool_target, self.admin_context, pool_target['id'] ) uuid = '97f57960-f41b-4e93-8e22-8fd6c7e2c183' self.assertRaisesRegex( exceptions.PoolTargetNotFound, 'Could not find PoolTarget', self.storage.delete_pool_target, self.admin_context, uuid ) def test_create_pool_target_option(self): pool = self.create_pool(fixture=0) pool_target = self.create_pool_target(pool, fixture=0) target = self.storage.create_pool_target_option( self.admin_context, pool_target['id'], objects.PoolTargetOption(key='foo', value='bar') ) result = self.storage._find_pool_target_options( self.admin_context, {'id': target['id']} ) self.assertEqual(1, len(result)) def test_update_pool_target_option(self): pool = self.create_pool(fixture=0) pool_target = self.create_pool_target(pool, fixture=0) target = self.storage.create_pool_target_option( self.admin_context, pool_target['id'], objects.PoolTargetOption(key='foo', value='bar') ) target.value = 'baz' self.storage.update_pool_target_option(self.admin_context, target) result = self.storage._find_pool_target_options( self.admin_context, {'id': target['id']} ) self.assertEqual('baz', result[0].value) def test_delete_pool_target_option(self): pool = self.create_pool(fixture=0) pool_target = self.create_pool_target(pool, fixture=0) target = self.storage.create_pool_target_option( self.admin_context, pool_target['id'], objects.PoolTargetOption(key='foo', value='bar') ) self.storage.delete_pool_target_option( self.admin_context, target['id'] ) result = self.storage._find_pool_target_options( self.admin_context, {'id': target['id']} ) self.assertEqual(0, len(result)) def test_create_pool_target_master(self): pool = self.create_pool(fixture=0) pool_target = self.create_pool_target(pool, fixture=0) target = self.storage.create_pool_target_master( self.admin_context, pool_target['id'], objects.PoolTargetMaster(host='127.0.0.1', port=80) ) result = self.storage._find_pool_target_masters( self.admin_context, {'id': target['id']} ) self.assertEqual(1, len(result)) def test_update_pool_target_master(self): pool = self.create_pool(fixture=0) pool_target = self.create_pool_target(pool, fixture=0) target = self.storage.create_pool_target_master( self.admin_context, pool_target['id'], objects.PoolTargetMaster(host='127.0.0.1', port=80) ) target.port = 443 self.storage.update_pool_target_master(self.admin_context, target) result = self.storage._find_pool_target_masters( self.admin_context, {'id': target['id']} ) self.assertEqual(443, result[0].port) def test_delete_pool_target_master(self): pool = self.create_pool(fixture=0) pool_target = self.create_pool_target(pool, fixture=0) target = self.storage.create_pool_target_master( self.admin_context, pool_target['id'], objects.PoolTargetMaster(host='127.0.0.1', port=80) ) self.storage.delete_pool_target_master( self.admin_context, target['id'] ) result = self.storage._find_pool_target_masters( self.admin_context, {'id': target['id']} ) self.assertEqual(0, len(result)) def test_create_zone_attribute(self): zone = self.create_zone() zone_attribute = self.storage.create_zone_attribute( self.admin_context, zone['id'], objects.ZoneAttribute(key='foo', value='bar') ) result = self.storage.find_zone_attributes( self.admin_context, {'id': zone_attribute['id']} ) self.assertEqual(1, len(result)) def test_update_zone_attribute(self): zone = self.create_zone() zone_attribute = self.storage.create_zone_attribute( self.admin_context, zone['id'], objects.ZoneAttribute(key='foo', value='bar') ) zone_attribute.value = 'baz' self.storage.update_zone_attribute( self.admin_context, zone_attribute ) result = self.storage.get_zone_attributes( self.admin_context, zone_attribute['id'] ) self.assertEqual('baz', result.value) def test_delete_zone_attribute(self): zone = self.create_zone() zone_attribute = self.storage.create_zone_attribute( self.admin_context, zone['id'], objects.ZoneAttribute(key='foo', value='bar') ) self.storage.delete_zone_attribute( self.admin_context, zone_attribute['id'] ) result = self.storage.find_zone_attributes( self.admin_context, {'id': zone_attribute['id']} ) self.assertEqual(0, len(result)) def test_create_zone_master(self): zone = self.create_zone() zone_attribute = self.storage.create_zone_master( self.admin_context, zone['id'], objects.ZoneMaster(host='127.0.0.1', port='80') ) result = self.storage._find_zone_masters( self.admin_context, {'id': zone_attribute['id']} ) self.assertEqual(1, len(result)) def test_update_zone_master(self): zone = self.create_zone() zone_attribute = self.storage.create_zone_master( self.admin_context, zone['id'], objects.ZoneMaster(host='127.0.0.1', port='80') ) zone_attribute.port = 443 self.storage.update_zone_master( self.admin_context, zone_attribute ) result = self.storage._find_zone_masters( self.admin_context, {'id': zone_attribute['id']} ) self.assertEqual(443, result[0].port) def test_delete_zone_master(self): zone = self.create_zone() zone_attribute = self.storage.create_zone_master( self.admin_context, zone['id'], objects.ZoneMaster(host='127.0.0.1', port='80') ) self.storage.delete_zone_master( self.admin_context, zone_attribute['id'] ) result = self.storage._find_zone_masters( self.admin_context, {'id': zone_attribute['id']} ) self.assertEqual(0, len(result)) 'host': '192.0.2.1', self.assertRaisesRegex( exceptions.DuplicatePoolAlsoNotify, 'Duplicate PoolAlsoNotify', self.create_pool_also_notify, pool, fixture=0 ) uuid = '2c102ffd-7146-4b4e-ad62-b530ee0873fb' self.assertRaisesRegex( exceptions.PoolAlsoNotifyNotFound, 'Could not find PoolAlsoNotify', self.storage.get_pool_also_notify, self.admin_context, uuid ) criterion = dict(host=expected['host'] + 'NOT FOUND') self.assertRaisesRegex( exceptions.PoolAlsoNotifyNotFound, 'Could not find PoolAlsoNotify', self.storage.find_pool_also_notify, self.admin_context, criterion ) self.assertRaisesRegex( exceptions.DuplicatePoolAlsoNotify, 'Duplicate PoolAlsoNotify', self.storage.update_pool_also_notify, self.admin_context, pool_also_notify_two ) id='e8cee063-3a26-42d6-b181-bdbdc2c99d08' ) self.assertRaisesRegex( exceptions.PoolAlsoNotifyNotFound, 'Could not find PoolAlsoNotify', self.storage.update_pool_also_notify, self.admin_context, pool_also_notify ) self.assertRaisesRegex( exceptions.PoolAlsoNotifyNotFound, 'Could not find PoolAlsoNotify', self.storage.get_pool_also_notify, self.admin_context, pool_also_notify['id'] ) uuid = '97f57960-f41b-4e93-8e22-8fd6c7e2c183' self.assertRaisesRegex( exceptions.PoolAlsoNotifyNotFound, 'Could not find PoolAlsoNotify', self.storage.delete_pool_also_notify, self.admin_context, uuid ) self.assertRaisesRegex( exceptions.DuplicateServiceStatus, 'Duplicate ServiceStatus', self.storage.create_service_status, self.admin_context, objects.ServiceStatus.from_dict(values) ) self.assertRaisesRegex( exceptions.ZoneTransferRequestNotFound, 'Could not find ZoneTransferRequest', self.storage.get_zone_transfer_request, tenant_3_context, result.id ) self.admin_context, {'tenant_id': self.admin_context.project_id}) self.assertRaisesRegex( exceptions.ZoneTransferRequestNotFound, 'Could not find ZoneTransferRequest', self.storage.get_zone_transfer_request, self.admin_context, zt_request.id ) self.admin_context, {'tenant_id': self.admin_context.project_id}) self.admin_context, {'id': result.id}) self.assertRaisesRegex( exceptions.ZoneTransferAcceptNotFound, 'Could not find ZoneTransferAccept', self.storage.get_zone_transfer_accept, self.admin_context, zt_accept.id ) @mock.patch('designate.storage.sql.get_read_session') def test_count_zone_tasks_none_result(self, mock_read_session): mock_sql_execute = mock.Mock() mock_sql_fetchone = mock.Mock() mock_read_session().__enter__.return_value = mock_sql_execute mock_sql_execute.execute.return_value = mock_sql_fetchone mock_sql_fetchone.fetchone.return_value = None zone_tasks = self.storage.count_zone_tasks(self.admin_context) mock_read_session.assert_called() self.assertEqual(0, zone_tasks) @mock.patch('designate.storage.sql.get_read_session') def test_count_zone_transfer_accept_none_result(self, mock_read_session): mock_sql_execute = mock.Mock() mock_sql_fetchone = mock.Mock() mock_read_session().__enter__.return_value = mock_sql_execute mock_sql_execute.execute.return_value = mock_sql_fetchone mock_sql_fetchone.fetchone.return_value = None zone_transfer_accepts = self.storage.count_zone_transfer_accept( self.admin_context ) mock_read_session.assert_called() self.assertEqual(0, zone_transfer_accepts) uuid = '4c8e7f82-3519-4bf7-8940-a66a4480f223' self.assertRaisesRegex( exceptions.ZoneImportNotFound, 'Could not find ZoneImport', self.storage.get_zone_import, self.admin_context, uuid ) criterion = dict(status=expected['status'] + 'NOT FOUND') self.assertRaisesRegex( exceptions.ZoneImportNotFound, 'Could not find ZoneImport', self.storage.find_zone_import, self.admin_context, criterion ) id='486f9cbe-b8b6-4d8c-8275-1a6e47b13e00' ) self.assertRaisesRegex( exceptions.ZoneImportNotFound, 'Could not find ZoneImport', self.storage.update_zone_import, self.admin_context, zone_import ) self.assertRaisesRegex( exceptions.ZoneImportNotFound, 'Could not find ZoneImport', self.storage.get_zone_import, self.admin_context, zone_import['id'] ) uuid = 'cac1fc02-79b2-4e62-a1a4-427b6790bbe6' self.assertRaisesRegex( exceptions.ZoneImportNotFound, 'Could not find ZoneImport', self.storage.delete_zone_import, self.admin_context, uuid )","import testtools with testtools.ExpectedException(exceptions.MarkerNotFound): self.storage.find_pool_attributes( self.admin_context, marker=generate_uuid(), limit=5) with testtools.ExpectedException(exceptions.InvalidMarker): self.storage.find_pool_attributes( self.admin_context, marker='4') with testtools.ExpectedException(exceptions.ValueError): self.storage.find_pool_attributes( self.admin_context, limit='z') with testtools.ExpectedException(exceptions.ValueError): self.storage.find_pool_attributes( self.admin_context, sort_dir='invalid_sort_dir') with testtools.ExpectedException(exceptions.InvalidSortKey): self.storage.find_pool_attributes( self.admin_context, sort_key='invalid_sort_key') with testtools.ExpectedException(exceptions.DuplicateQuota): self.create_quota() with testtools.ExpectedException(exceptions.QuotaNotFound): uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.storage.get_quota(self.admin_context, uuid) tenant_id=expected['tenant_id'] + ""NOT FOUND"" with testtools.ExpectedException(exceptions.QuotaNotFound): self.storage.find_quota(self.admin_context, criterion) with testtools.ExpectedException(exceptions.DuplicateQuota): self.storage.update_quota(self.admin_context, quota_two) with testtools.ExpectedException(exceptions.QuotaNotFound): self.storage.update_quota(self.admin_context, quota) with testtools.ExpectedException(exceptions.QuotaNotFound): self.storage.get_quota(self.admin_context, quota['id']) with testtools.ExpectedException(exceptions.QuotaNotFound): uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.storage.delete_quota(self.admin_context, uuid) with testtools.ExpectedException(exceptions.TsigKeyNotFound): uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.storage.get_tsigkey(self.admin_context, uuid) with testtools.ExpectedException(exceptions.DuplicateTsigKey): self.storage.update_tsigkey(self.admin_context, tsigkey_two) with testtools.ExpectedException(exceptions.TsigKeyNotFound): self.storage.update_tsigkey(self.admin_context, tsigkey) with testtools.ExpectedException(exceptions.TsigKeyNotFound): self.storage.get_tsigkey(self.admin_context, tsigkey['id']) with testtools.ExpectedException(exceptions.TsigKeyNotFound): uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.storage.delete_tsigkey(self.admin_context, uuid) def test_count_tenants_none_result(self): rp = mock.Mock() rp.fetchone.return_value = None with mock.patch('designate.storage.sql.get_write_session', return_value=rp): tenants = self.storage.count_tenants(self.admin_context) self.assertEqual(0, tenants) with testtools.ExpectedException(exceptions.ZoneNotFound): uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.storage.get_zone(self.admin_context, uuid) name=expected['name'] + ""NOT FOUND"" with testtools.ExpectedException(exceptions.ZoneNotFound): self.storage.find_zone(self.admin_context, criterion) with testtools.ExpectedException(exceptions.ZoneNotFound): self.storage.find_zone(self.admin_context, criterion) with testtools.ExpectedException(exceptions.ZoneNotFound): self.storage.find_zone(self.admin_context, criterion) with testtools.ExpectedException(exceptions.DuplicateZone): self.storage.update_zone(self.admin_context, zone_two) with testtools.ExpectedException(exceptions.ZoneNotFound): self.storage.update_zone(self.admin_context, zone) with testtools.ExpectedException(exceptions.ZoneNotFound): self.storage.get_zone(self.admin_context, zone['id']) with testtools.ExpectedException(exceptions.ZoneNotFound): uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.storage.delete_zone(self.admin_context, uuid) def test_count_zones_none_result(self): rp = mock.Mock() rp.fetchone.return_value = None with mock.patch('designate.storage.sql.get_write_session', return_value=rp): zones = self.storage.count_zones(self.admin_context) self.assertEqual(0, zones) 'type': ""SOA""}) 'type': ""NS""}) name=""%%%(name)s"" % {""name"": zone['name']}, objects.Record.from_dict({""data"": ""10.0.0.1""}), objects.Record.from_dict({""data"": ""10.0.0.2""}), objects.Record.from_dict({""data"": ""10.0.0.3""}) name=expected['name'] + ""NOT FOUND"" with testtools.ExpectedException(exceptions.RecordSetNotFound): self.storage.find_recordset(self.admin_context, criterion) recordset.records.append(objects.Record(data=""10.0.0.1"")) with testtools.ExpectedException(exceptions.DuplicateRecordSet): self.storage.update_recordset(self.admin_context, recordset_two) id='caf771fc-6b05-4891-bee1-c2a48621f57b') with testtools.ExpectedException(exceptions.RecordSetNotFound): self.storage.update_recordset(self.admin_context, recordset) with testtools.ExpectedException(exceptions.RecordSetNotFound): self.storage.find_recordset(self.admin_context, criterion={'id': recordset['id']}) with testtools.ExpectedException(exceptions.RecordSetNotFound): uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.storage.delete_recordset(self.admin_context, uuid) def test_count_recordsets_none_result(self): rp = mock.Mock() rp.fetchone.return_value = None with mock.patch('designate.storage.sql.get_write_session', return_value=rp): recordsets = self.storage.count_recordsets(self.admin_context) self.assertEqual(0, recordsets) 'type': ""SOA""}) 'type': ""NS""}) data=""%.0.0.1"", with testtools.ExpectedException(exceptions.RecordNotFound): uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.storage.get_record(self.admin_context, uuid) data=expected['data'] + ""NOT FOUND"", with testtools.ExpectedException(exceptions.RecordNotFound): self.storage.find_record(self.admin_context, criterion) with testtools.ExpectedException(exceptions.DuplicateRecord): self.storage.update_record(self.admin_context, record_two) with testtools.ExpectedException(exceptions.RecordNotFound): self.storage.update_record(self.admin_context, record) with testtools.ExpectedException(exceptions.RecordNotFound): self.storage.get_record(self.admin_context, record['id']) with testtools.ExpectedException(exceptions.RecordNotFound): uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.storage.delete_record(self.admin_context, uuid) def test_count_records_none_result(self): rp = mock.Mock() rp.fetchone.return_value = None with mock.patch('designate.storage.sql.get_write_session', return_value=rp): records = self.storage.count_records(self.admin_context) self.assertEqual(0, records) with testtools.ExpectedException(exceptions.TldNotFound): uuid = '4c8e7f82-3519-4bf7-8940-a66a4480f223' self.storage.get_tld(self.admin_context, uuid) criterion = dict(name=expected['name'] + ""NOT FOUND"") with testtools.ExpectedException(exceptions.TldNotFound): self.storage.find_tld(self.admin_context, criterion) with testtools.ExpectedException(exceptions.DuplicateTld): self.storage.update_tld(self.admin_context, tld_two) tld = objects.Tld(id='486f9cbe-b8b6-4d8c-8275-1a6e47b13e00') with testtools.ExpectedException(exceptions.TldNotFound): self.storage.update_tld(self.admin_context, tld) with testtools.ExpectedException(exceptions.TldNotFound): self.storage.get_tld(self.admin_context, tld['id']) with testtools.ExpectedException(exceptions.TldNotFound): uuid = 'cac1fc02-79b2-4e62-a1a4-427b6790bbe6' self.storage.delete_tld(self.admin_context, uuid) 'pattern': ""^([A-Za-z0-9_\\-]+\\.)*example\\.com\\.$"", with testtools.ExpectedException(exceptions.BlacklistNotFound): uuid = '2c102ffd-7146-4b4e-ad62-b530ee0873fb' self.storage.get_blacklist(self.admin_context, uuid) criterion = dict(pattern=expected['pattern'] + ""NOT FOUND"") with testtools.ExpectedException(exceptions.BlacklistNotFound): self.storage.find_blacklist(self.admin_context, criterion) with testtools.ExpectedException(exceptions.DuplicateBlacklist): self.storage.update_blacklist(self.admin_context, blacklist_two) id='e8cee063-3a26-42d6-b181-bdbdc2c99d08') with testtools.ExpectedException(exceptions.BlacklistNotFound): self.storage.update_blacklist(self.admin_context, blacklist) with testtools.ExpectedException(exceptions.BlacklistNotFound): self.storage.get_blacklist(self.admin_context, blacklist['id']) with testtools.ExpectedException(exceptions.BlacklistNotFound): uuid = '97f57960-f41b-4e93-8e22-8fd6c7e2c183' self.storage.delete_blacklist(self.admin_context, uuid) 'nameservers': [{'host': ""192.0.2.1"", 'port': 53}], 'targets': [{ 'type': ""fake"", 'masters': [{'host': ""192.0.2.2"", 'also_notifies': [{'host': ""192.0.2.3"", 'port': 53}] with testtools.ExpectedException(exceptions.PoolNotFound): uuid = 'c28893e3-eb87-4562-aa29-1f0e835d749b' self.storage.get_pool(self.admin_context, uuid) criterion = dict(name=expected['name'] + ""NOT FOUND"") with testtools.ExpectedException(exceptions.PoolNotFound): self.storage.find_pool(self.admin_context, criterion) with testtools.ExpectedException(exceptions.DuplicatePool): self.storage.update_pool(self.admin_context, pool_two) pool = objects.Pool(id='8806f871-5140-43f4-badd-2bbc5715b013') with testtools.ExpectedException(exceptions.PoolNotFound): self.storage.update_pool(self.admin_context, pool) 'nameservers': [{'host': ""192.0.2.1"", 'port': 53}], 'targets': [{ 'type': ""fake"", 'masters': [{'host': ""192.0.2.2"", 'also_notifies': [{'host': ""192.0.2.3"", 'port': 53}] 'nameservers': [{'host': ""192.0.2.5"", 'port': 53}], 'targets': [{ 'type': ""fake"", 'masters': [{'host': ""192.0.2.2"", 'type': ""fake"", 'masters': [{'host': ""192.0.2.7"", 'port': 5355}], with testtools.ExpectedException(exceptions.PoolNotFound): self.storage.get_pool(self.admin_context, pool['id']) with testtools.ExpectedException(exceptions.PoolNotFound): uuid = '203ca44f-c7e7-4337-9a02-0d735833e6aa' self.storage.delete_pool(self.admin_context, uuid) ns = objects.PoolNsRecord(priority=1, hostname=""ns.example.io."") ns2 = objects.PoolNsRecord(priority=2, hostname=""ns.example.io."") with testtools.ExpectedException(exceptions.DuplicatePoolNsRecord): self.storage.create_pool_ns_record( self.admin_context, pool.id, ns2) ns1 = objects.PoolNsRecord(priority=1, hostname=""ns1.example.io."") ns2 = objects.PoolNsRecord(priority=2, hostname=""ns2.example.io."") with testtools.ExpectedException(exceptions.DuplicatePoolNsRecord): ns2.hostname = ns1.hostname self.storage.update_pool_ns_record( self.admin_context, ns2) 'pool_id': ""d5d10661-0312-4ae1-8664-31188a4310b7"", 'key': ""test-attribute"", LOG.debug(""Criterion is %r "" % criterion) with testtools.ExpectedException(exceptions.PoolAttributeNotFound): uuid = '2c102ffd-7146-4b4e-ad62-b530ee0873fb' self.storage.get_pool_attribute(self.admin_context, uuid) criterion = dict(key=expected['key'] + ""NOT FOUND"") with testtools.ExpectedException(exceptions.PoolAttributeNotFound): self.storage.find_pool_attribute(self.admin_context, criterion) id='728a329a-83b1-4573-82dc-45dceab435d4') with testtools.ExpectedException(exceptions.PoolAttributeNotFound): self.storage.update_pool_attribute(self.admin_context, pool_attribute) with testtools.ExpectedException(exceptions.DuplicatePoolAttribute): self.storage.update_pool_attribute(self.admin_context, pool_attribute_two) with testtools.ExpectedException(exceptions.PoolAttributeNotFound): self.storage.get_pool_attribute(self.admin_context, pool_attribute['id']) with testtools.ExpectedException(exceptions.PoolAttributeNotFound): uuid = '464e9250-4fe0-4267-9993-da639390bb04' self.storage.delete_pool_attribute(self.admin_context, uuid) with testtools.ExpectedException(exceptions.DuplicatePoolAttribute): self.create_pool_attribute(fixture=0) 'host': ""192.0.2.1"", with testtools.ExpectedException(exceptions.DuplicatePoolNameserver): self.create_pool_nameserver(pool, fixture=0) with testtools.ExpectedException(exceptions.PoolNameserverNotFound): uuid = '2c102ffd-7146-4b4e-ad62-b530ee0873fb' self.storage.get_pool_nameserver(self.admin_context, uuid) criterion = dict(host=expected['host'] + ""NOT FOUND"") with testtools.ExpectedException(exceptions.PoolNameserverNotFound): self.storage.find_pool_nameserver(self.admin_context, criterion) with testtools.ExpectedException(exceptions.DuplicatePoolNameserver): self.storage.update_pool_nameserver( self.admin_context, pool_nameserver_two) id='e8cee063-3a26-42d6-b181-bdbdc2c99d08') with testtools.ExpectedException(exceptions.PoolNameserverNotFound): self.storage.update_pool_nameserver( self.admin_context, pool_nameserver) with testtools.ExpectedException(exceptions.PoolNameserverNotFound): self.storage.get_pool_nameserver( self.admin_context, pool_nameserver['id']) with testtools.ExpectedException(exceptions.PoolNameserverNotFound): uuid = '97f57960-f41b-4e93-8e22-8fd6c7e2c183' self.storage.delete_pool_nameserver(self.admin_context, uuid) 'type': ""fake"" with testtools.ExpectedException(exceptions.PoolTargetNotFound): uuid = '2c102ffd-7146-4b4e-ad62-b530ee0873fb' self.storage.get_pool_target(self.admin_context, uuid) criterion = dict(description=expected['description'] + '' 'NOT FOUND') with testtools.ExpectedException(exceptions.PoolTargetNotFound): self.storage.find_pool_target(self.admin_context, criterion) id='e8cee063-3a26-42d6-b181-bdbdc2c99d08') with testtools.ExpectedException(exceptions.PoolTargetNotFound): self.storage.update_pool_target( self.admin_context, pool_target) with testtools.ExpectedException(exceptions.PoolTargetNotFound): self.storage.get_pool_target( self.admin_context, pool_target['id']) with testtools.ExpectedException(exceptions.PoolTargetNotFound): uuid = '97f57960-f41b-4e93-8e22-8fd6c7e2c183' self.storage.delete_pool_target(self.admin_context, uuid) 'host': ""192.0.2.1"", with testtools.ExpectedException(exceptions.DuplicatePoolAlsoNotify): self.create_pool_also_notify(pool, fixture=0) with testtools.ExpectedException(exceptions.PoolAlsoNotifyNotFound): uuid = '2c102ffd-7146-4b4e-ad62-b530ee0873fb' self.storage.get_pool_also_notify(self.admin_context, uuid) criterion = dict(host=expected['host'] + ""NOT FOUND"") with testtools.ExpectedException(exceptions.PoolAlsoNotifyNotFound): self.storage.find_pool_also_notify(self.admin_context, criterion) with testtools.ExpectedException(exceptions.DuplicatePoolAlsoNotify): self.storage.update_pool_also_notify( self.admin_context, pool_also_notify_two) id='e8cee063-3a26-42d6-b181-bdbdc2c99d08') with testtools.ExpectedException(exceptions.PoolAlsoNotifyNotFound): self.storage.update_pool_also_notify( self.admin_context, pool_also_notify) with testtools.ExpectedException(exceptions.PoolAlsoNotifyNotFound): self.storage.get_pool_also_notify( self.admin_context, pool_also_notify['id']) with testtools.ExpectedException(exceptions.PoolAlsoNotifyNotFound): uuid = '97f57960-f41b-4e93-8e22-8fd6c7e2c183' self.storage.delete_pool_also_notify(self.admin_context, uuid) with testtools.ExpectedException(exceptions.DuplicateServiceStatus): self.storage.create_service_status( self.admin_context, objects.ServiceStatus.from_dict(values)) with testtools.ExpectedException( exceptions.ZoneTransferRequestNotFound): self.storage.get_zone_transfer_request( tenant_3_context, result.id) self.admin_context, {""tenant_id"": self.admin_context.project_id}) with testtools.ExpectedException( exceptions.ZoneTransferRequestNotFound): self.storage.get_zone_transfer_request( self.admin_context, zt_request.id) self.admin_context, {""tenant_id"": self.admin_context.project_id}) self.admin_context, {""id"": result.id}) with testtools.ExpectedException( exceptions.ZoneTransferAcceptNotFound): self.storage.get_zone_transfer_accept( self.admin_context, zt_accept.id) def test_count_zone_tasks_none_result(self): rp = mock.Mock() rp.fetchone.return_value = None with mock.patch('designate.storage.sql.get_write_session', return_value=rp): zones = self.storage.count_zone_tasks(self.admin_context) self.assertEqual(0, zones) with testtools.ExpectedException(exceptions.ZoneImportNotFound): uuid = '4c8e7f82-3519-4bf7-8940-a66a4480f223' self.storage.get_zone_import(self.admin_context, uuid) criterion = dict(status=expected['status'] + ""NOT FOUND"") with testtools.ExpectedException(exceptions.ZoneImportNotFound): self.storage.find_zone_import(self.admin_context, criterion) id='486f9cbe-b8b6-4d8c-8275-1a6e47b13e00') with testtools.ExpectedException(exceptions.ZoneImportNotFound): self.storage.update_zone_import(self.admin_context, zone_import) with testtools.ExpectedException(exceptions.ZoneImportNotFound): self.storage.get_zone_import(self.admin_context, zone_import['id']) with testtools.ExpectedException(exceptions.ZoneImportNotFound): uuid = 'cac1fc02-79b2-4e62-a1a4-427b6790bbe6' self.storage.delete_zone_import(self.admin_context, uuid)",868,330
openstack%2Fneutron-lib~master~Ie45350a4010ef5dfbcfff1e61cfa881f89e0dbd1,openstack/neutron-lib,master,Ie45350a4010ef5dfbcfff1e61cfa881f89e0dbd1,Add FIPAssociated exception,MERGED,2023-05-23 10:55:53.000000000,2023-05-30 23:49:50.000000000,2023-05-30 23:48:53.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-05-23 10:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ea4c331f6fae5388855f8542da9ad7816e20e34e', 'message': 'Add FIPAttached exception\n\nThis new exception will be triggered when some operation causes a\nconflict due to a FIP attached to one port.\n\nRelated-Bug: #2017680\nChange-Id: Ie45350a4010ef5dfbcfff1e61cfa881f89e0dbd1\n'}, {'number': 2, 'created': '2023-05-23 13:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a2d4be7f482bcc8d9d08d40b1a8a172427b12961', 'message': 'Add FIPAttached exception\n\nThis new exception will be triggered when some operation causes a\nconflict due to a FIP attached to one port.\n\nRelated-Bug: #2017680\nChange-Id: Ie45350a4010ef5dfbcfff1e61cfa881f89e0dbd1\n'}, {'number': 3, 'created': '2023-05-23 13:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/32b6c1ad74758471a1adb466e6720f57ce824fc9', 'message': 'Add FIPAssociated exception\n\nThis new exception will be triggered when some port operation\ncauses a conflict due to an associated FIP.\n\nRelated-Bug: #2017680\nChange-Id: Ie45350a4010ef5dfbcfff1e61cfa881f89e0dbd1\n'}, {'number': 4, 'created': '2023-05-23 14:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/aa3fb1df3a697d0090c53d4e42b0f26abe25ed1b', 'message': 'Add FIPAssociated exception\n\nThis new exception will be triggered when some port operation\ncauses a conflict due to an associated FIP.\n\nRelated-Bug: #2017680\nChange-Id: Ie45350a4010ef5dfbcfff1e61cfa881f89e0dbd1\n'}, {'number': 5, 'created': '2023-05-25 12:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c9d8839ba0e4a4e2936ea7679f306c8714682c8d', 'message': 'Add FIPAssociated exception\n\nThis new exception will be triggered when some port operation\ncauses a conflict due to an associated FIP.\n\nRelated-Bug: #2017680\nChange-Id: Ie45350a4010ef5dfbcfff1e61cfa881f89e0dbd1\n'}, {'number': 6, 'created': '2023-05-26 08:10:06.000000000', 'files': ['neutron_lib/exceptions/l3.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/64cfdacdc15b65a56ce5d27e4ef6eb1f60a9a909', 'message': 'Add FIPAssociated exception\n\nThis new exception will be triggered when some port operation\ncauses a conflict due to an associated FIP.\n\nRelated-Bug: #2017680\nChange-Id: Ie45350a4010ef5dfbcfff1e61cfa881f89e0dbd1\n'}]",19,883901,64cfdacdc15b65a56ce5d27e4ef6eb1f60a9a909,24,7,6,34451,,,0,"Add FIPAssociated exception

This new exception will be triggered when some port operation
causes a conflict due to an associated FIP.

Related-Bug: #2017680
Change-Id: Ie45350a4010ef5dfbcfff1e61cfa881f89e0dbd1
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/01/883901/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/tests/unit/exceptions/test_exceptions.py', 'neutron_lib/exceptions/__init__.py']",2,ea4c331f6fae5388855f8542da9ad7816e20e34e,FIPAssociatedException,"class FipAttached(InUse): """"""An operational error indicating a FIP is attached to a port not allowing some special case operations. A specialization of the InUse exception indicating an operation failed on a port because it already has an attached FIP. :param port_id: The UUID of the port requested. """""" message = _(""Unable to complete operation on port %(port_id)s "" ""because port still has FloatingIP attached."") ",,20,0
openstack%2Fkeystonemiddleware~stable%2Fvictoria~Ib7c1050ad0ce266d62879b127e643f730c308aa1,openstack/keystonemiddleware,stable/victoria,Ib7c1050ad0ce266d62879b127e643f730c308aa1,Make openstack-tox-lower-constraints non-voting,NEW,2023-05-30 21:59:43.000000000,2023-05-30 23:10:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-30 21:59:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/37ca859a81db0183b537b019e1e6b2e2307b27b3', 'message': 'Make openstack-tox-lower-constraints non-voting\n\nThis test is non-voting in Wallaby and was removed from Xena onwards.\nCurrently is failing for all backports.\n\nChange-Id: Ib7c1050ad0ce266d62879b127e643f730c308aa1\n'}]",0,884786,37ca859a81db0183b537b019e1e6b2e2307b27b3,2,1,1,34275,,,0,"Make openstack-tox-lower-constraints non-voting

This test is non-voting in Wallaby and was removed from Xena onwards.
Currently is failing for all backports.

Change-Id: Ib7c1050ad0ce266d62879b127e643f730c308aa1
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/86/884786/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,37ca859a81db0183b537b019e1e6b2e2307b27b3,lower-constraints-victoria, check: jobs: - openstack-tox-lower-constraints: voting: false, - openstack-lower-constraints-jobs,4,1
openstack%2Fopenstack-helm-images~master~Ib8c0f49d37bd7acc65b92997a8cda32dec884fe8,openstack/openstack-helm-images,master,Ib8c0f49d37bd7acc65b92997a8cda32dec884fe8,Build openstack zed images,MERGED,2023-05-25 17:53:02.000000000,2023-05-30 23:03:03.000000000,2023-05-30 20:00:53.000000000,"[{'_account_id': 3009}, {'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 33330}]","[{'number': 1, 'created': '2023-05-25 17:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/4c2bca9529549cf0898a850aba3abaf78bb6be3d', 'message': 'Build openstack zed images\n\nChange-Id: Ib8c0f49d37bd7acc65b92997a8cda32dec884fe8\n'}, {'number': 2, 'created': '2023-05-26 09:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/5b0cc35fa0158f236f2270f224ddc81dd2039f46', 'message': 'Build openstack zed images\n\nChange-Id: Ib8c0f49d37bd7acc65b92997a8cda32dec884fe8\n'}, {'number': 3, 'created': '2023-05-26 10:01:16.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/9b97c3006c1d9d33e5b5830002a03a6d80c82d29', 'message': 'Build openstack zed images\n\nChange-Id: Ib8c0f49d37bd7acc65b92997a8cda32dec884fe8\n'}]",6,884430,9b97c3006c1d9d33e5b5830002a03a6d80c82d29,15,4,3,3009,,,0,"Build openstack zed images

Change-Id: Ib8c0f49d37bd7acc65b92997a8cda32dec884fe8
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/30/884430/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/openstack-loci.yaml']",2,4c2bca9529549cf0898a850aba3abaf78bb6be3d,," - openstack-helm-images-build-openstack-loci-zed-ubuntu_focal - openstack-helm-images-upload-openstack-loci-zed-ubuntu_focal - openstack-helm-images-promote-openstack-loci-zed-ubuntu_focal - openstack-helm-images-upload-openstack-loci-zed-ubuntu_focal - openstack-helm-images-promote-openstack-loci-zed-ubuntu_focal: dependencies: - name: openstack-helm-images-compute-kit-zed-ubuntu_focal - name: openstack-helm-images-cinder-zed-ubuntu_focal####### # ZED # ####### - job: name: openstack-helm-images-build-openstack-loci-zed-ubuntu_focal description: Build LOCI zed focal images parent: openstack-helm-images-build-openstack-loci-master vars: &build_zed_focal_images currentdate: ""{{ now(utc=True,fmt='%Y%m%d') }}"" branchname: ""stable/zed"" shortbranchname: ""zed"" distroname: ""ubuntu_focal"" from: ""docker.io/ubuntu:20.04"" python3: ""yes"" wheels_location: ""http://172.17.0.1:8080/wheels.tar.gz"" base_repository: ""base"" ceph_repo: ""deb https://download.ceph.com/debian-quincy/ focal main"" ceph_key: ""https://download.ceph.com/keys/release.asc"" base_docker_image: - <<: *base_image prep_docker_images: - <<: *prep_requirements_project docker_images: - <<: *requirements_project - <<: *keystone_project - <<: *glance_project - <<: *cinder_project - <<: *nova_project - <<: *ironic_project - <<: *neutron_project - <<: *horizon_project - <<: *heat_project - <<: *barbican_project - <<: *placement_project - <<: *monasca_api_project - <<: *watcher_project - <<: *cyborg_project - <<: *masakari_project - <<: *masakari_monitors_project - <<: *manila_project - <<: *tacker_project - job: name: openstack-helm-images-upload-openstack-loci-zed-ubuntu_focal parent: openstack-helm-images-upload-openstack-loci-master description: Build and upload LOCI zed focal images vars: *build_zed_focal_images - job: name: openstack-helm-images-promote-openstack-loci-zed-ubuntu_focal parent: openstack-helm-images-promote-openstack-loci-master description: Promote previously published LOCI zed focal images vars: *build_zed_focal_images ",,119,0
openstack%2Fmanila~master~Ied3fb602aa690ee16c7e4a9744aa053e89dd9ae8,openstack/manila,master,Ied3fb602aa690ee16c7e4a9744aa053e89dd9ae8,"db: Migrate ""share metadata"" APIs to enginefacade",MERGED,2023-04-12 16:49:20.000000000,2023-05-30 22:54:32.000000000,2023-05-30 22:53:26.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 31721}, {'_account_id': 32594}, {'_account_id': 32919}, {'_account_id': 33986}]","[{'number': 1, 'created': '2023-04-12 16:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/db51e47f4e48f6b3cff30f8276de0cd2b30d65af', 'message': 'db: Migrate ""share metadata"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ied3fb602aa690ee16c7e4a9744aa053e89dd9ae8\n'}, {'number': 2, 'created': '2023-04-13 11:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/27637f04a69166ae53a770c5732c3be07b5d8cff', 'message': 'db: Migrate ""share metadata"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ied3fb602aa690ee16c7e4a9744aa053e89dd9ae8\n'}, {'number': 3, 'created': '2023-04-14 16:02:29.000000000', 'files': ['manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/e53a461c519f129a85df58636548c5acb8bf64e0', 'message': 'db: Migrate ""share metadata"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ied3fb602aa690ee16c7e4a9744aa053e89dd9ae8\n'}]",3,880201,e53a461c519f129a85df58636548c5acb8bf64e0,33,7,3,15334,,,0,"db: Migrate ""share metadata"" APIs to enginefacade

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Ied3fb602aa690ee16c7e4a9744aa053e89dd9ae8
",git fetch https://review.opendev.org/openstack/manila refs/changes/01/880201/2 && git format-patch -1 --stdout FETCH_HEAD,['manila/db/sqlalchemy/api.py'],1,db51e47f4e48f6b3cff30f8276de0cd2b30d65af,sqlalchemy-20,"def _share_metadata_get_query(context, share_id): return model_query( context, models.ShareMetadata, read_deleted=""no"", ).filter_by(share_id=share_id).options(joinedload('share')) @context_manager.readerdef _share_metadata_get(context, share_id): rows = _share_metadata_get_query(context, share_id).all() result = {} for row in rows: result[row['key']] = row['value'] return result @context_manager.reader def share_metadata_get_item(context, share_id, key): try: row = _share_metadata_get_item(context, share_id, key)@context_manager.writer def share_metadata_delete(context, share_id, key): _share_metadata_get_query( context, share_id, ).filter_by(key=key).soft_delete()@context_manager.writer@context_manager.writer def share_metadata_update_item(context, share_id, item):def _share_metadata_update(context, share_id, metadata, delete): # Set existing metadata to deleted if delete argument is True delete = strutils.bool_from_string(delete) if delete: original_metadata = _share_metadata_get(context, share_id) for meta_key, meta_value in original_metadata.items(): if meta_key not in metadata: meta_ref = _share_metadata_get_item( context, share_id, meta_key, ) meta_ref.soft_delete(session=context.session) meta_ref = None # Now update all existing items with new values, or create new meta # objects for meta_key, meta_value in metadata.items(): # update the value whether it exists or not item = {""value"": meta_value} try: meta_ref = _share_metadata_get_item( context, share_id, meta_key, ) except exception.MetadataItemNotFound: meta_ref = models.ShareMetadata() item.update({""key"": meta_key, ""share_id"": share_id}) meta_ref.update(item) meta_ref.save(session=context.session) return metadata def _share_metadata_get_item(context, share_id, key): result = _share_metadata_get_query( context, share_id, ).filter_by(key=key).first()","def share_metadata_get_item(context, share_id, key, session=None): session = session or get_session() try: row = _share_metadata_get_item(context, share_id, key, session=session)def share_metadata_delete(context, share_id, key): (_share_metadata_get_query(context, share_id). filter_by(key=key).soft_delete())def share_metadata_update_item(context, share_id, item, session=None):def _share_metadata_get_query(context, share_id, session=None): return (model_query(context, models.ShareMetadata, session=session, read_deleted=""no""). filter_by(share_id=share_id). options(joinedload('share'))) def _share_metadata_get(context, share_id, session=None): rows = _share_metadata_get_query(context, share_id, session=session).all() result = {} for row in rows: result[row['key']] = row['value'] return result def _share_metadata_update(context, share_id, metadata, delete, session=None): if not session: session = get_session() with session.begin(): # Set existing metadata to deleted if delete argument is True delete = strutils.bool_from_string(delete) if delete: original_metadata = _share_metadata_get(context, share_id, session=session) for meta_key, meta_value in original_metadata.items(): if meta_key not in metadata: meta_ref = _share_metadata_get_item(context, share_id, meta_key, session=session) meta_ref.soft_delete(session=session) meta_ref = None # Now update all existing items with new values, or create new meta # objects for meta_key, meta_value in metadata.items(): # update the value whether it exists or not item = {""value"": meta_value} try: meta_ref = _share_metadata_get_item(context, share_id, meta_key, session=session) except exception.MetadataItemNotFound: meta_ref = models.ShareMetadata() item.update({""key"": meta_key, ""share_id"": share_id}) meta_ref.update(item) meta_ref.save(session=session) return metadata def _share_metadata_get_item(context, share_id, key, session=None): result = (_share_metadata_get_query(context, share_id, session=session). filter_by(key=key). first())",57,60
openstack%2Fmanila~master~Ica4b56f871b0a85298d8bac4511eb2dd46ebfeeb,openstack/manila,master,Ica4b56f871b0a85298d8bac4511eb2dd46ebfeeb,"db: Migrate ""share network subnet metadata"" APIs to enginefacade",MERGED,2023-04-12 16:49:20.000000000,2023-05-30 22:49:11.000000000,2023-05-30 22:47:20.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 32919}, {'_account_id': 33648}, {'_account_id': 33756}, {'_account_id': 35677}]","[{'number': 1, 'created': '2023-04-12 16:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e2c61c764d5b9ff50f4d5442226cdd407c8530a8', 'message': 'db: Migrate ""share network subnet metadata"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ica4b56f871b0a85298d8bac4511eb2dd46ebfeeb\n'}, {'number': 2, 'created': '2023-04-13 11:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bfe3dc36fbce16aff9e98e00ee507da32d0c8219', 'message': 'db: Migrate ""share network subnet metadata"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ica4b56f871b0a85298d8bac4511eb2dd46ebfeeb\n'}, {'number': 3, 'created': '2023-04-14 16:02:29.000000000', 'files': ['manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/60c64d4d95b3d0d6feb247ca75f47e7901a6cd24', 'message': 'db: Migrate ""share network subnet metadata"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ica4b56f871b0a85298d8bac4511eb2dd46ebfeeb\n'}]",3,880200,60c64d4d95b3d0d6feb247ca75f47e7901a6cd24,31,7,3,15334,,,0,"db: Migrate ""share network subnet metadata"" APIs to enginefacade

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Ica4b56f871b0a85298d8bac4511eb2dd46ebfeeb
",git fetch https://review.opendev.org/openstack/manila refs/changes/00/880200/2 && git format-patch -1 --stdout FETCH_HEAD,['manila/db/sqlalchemy/api.py'],1,e2c61c764d5b9ff50f4d5442226cdd407c8530a8,sqlalchemy-20,"def _share_network_subnet_metadata_get_query(context, share_network_subnet_id): return model_query( context, models.ShareNetworkSubnetMetadata, read_deleted=""no"", ).filter_by( share_network_subnet_id=share_network_subnet_id, ).options(joinedload('share_network_subnet')) @context_manager.reader def share_network_subnet_metadata_get(context, share_network_subnet_id): return _share_network_subnet_metadata_get(context, share_network_subnet_id)def _share_network_subnet_metadata_get(context, share_network_subnet_id): context, share_network_subnet_id, ).all()@require_context @require_share_network_subnet_exists @context_manager.writer def share_network_subnet_metadata_delete( context, share_network_subnet_id, key, ): meta_ref = _share_network_subnet_metadata_get_item( context, share_network_subnet_id, key, ) meta_ref.soft_delete(session=context.session) @require_context @require_share_network_subnet_exists @context_manager.writer def share_network_subnet_metadata_update( context, share_network_subnet_id, metadata, delete, ): return _share_network_subnet_metadata_update( context, share_network_subnet_id, metadata, delete, ) @require_context @context_manager.writer def share_network_subnet_metadata_update_item( context, share_network_subnet_id, item, ): return _share_network_subnet_metadata_update( context, share_network_subnet_id, item, delete=False, ) @require_context @context_manager.reader def share_network_subnet_metadata_get_item( context, share_network_subnet_id, key, ): row = _share_network_subnet_metadata_get_item( context, share_network_subnet_id, key, ) result = {row['key']: row['value']} return result def _share_network_subnet_metadata_get_item( context, share_network_subnet_id, key, ): result = _share_network_subnet_metadata_get_query( context, share_network_subnet_id, ).filter_by(key=key).first()def _share_network_subnet_metadata_update( context, share_network_subnet_id, metadata, delete, ): if delete: original_metadata = _share_network_subnet_metadata_get( context, share_network_subnet_id, ) for meta_key, meta_value in original_metadata.items(): if meta_key not in metadata: meta_ref = _share_network_subnet_metadata_get_item( context, share_network_subnet_id, meta_key, ) meta_ref.soft_delete(session=context.session) meta_ref = None # Now update all existing items with new values, or create new meta # objects. for meta_key, meta_value in metadata.items(): # update the value whether it exists or not. item = {""value"": meta_value} meta_ref = _share_network_subnet_metadata_get_query( context, share_network_subnet_id, ).filter_by(key=meta_key).first() if not meta_ref: meta_ref = models.ShareNetworkSubnetMetadata() item.update( { ""key"": meta_key, ""share_network_subnet_id"": share_network_subnet_id, } ) meta_ref.update(item) meta_ref.save(session=context.session) return metadata","def share_network_subnet_metadata_get(context, share_network_subnet_id): session = get_session() return _share_network_subnet_metadata_get(context, share_network_subnet_id, session=session)@require_share_network_subnet_exists def share_network_subnet_metadata_delete(context, share_network_subnet_id, key): session = get_session() meta_ref = _share_network_subnet_metadata_get_item( context, share_network_subnet_id, key, session=session) meta_ref.soft_delete(session=session) @require_context @require_share_network_subnet_exists def share_network_subnet_metadata_update(context, share_network_subnet_id, metadata, delete): session = get_session() return _share_network_subnet_metadata_update( context, share_network_subnet_id, metadata, delete, session=session) def share_network_subnet_metadata_update_item(context, share_network_subnet_id, item): session = get_session() return _share_network_subnet_metadata_update( context, share_network_subnet_id, item, delete=False, session=session) def share_network_subnet_metadata_get_item(context, share_network_subnet_id, key): session = get_session() row = _share_network_subnet_metadata_get_item( context, share_network_subnet_id, key, session=session) result = {row['key']: row['value']} return result def _share_network_subnet_metadata_get_query(context, share_network_subnet_id, session=None): session = session or get_session() return (model_query(context, models.ShareNetworkSubnetMetadata, session=session, read_deleted=""no""). filter_by(share_network_subnet_id=share_network_subnet_id). options(joinedload('share_network_subnet'))) def _share_network_subnet_metadata_get(context, share_network_subnet_id, session=None): session = session or get_session() context, share_network_subnet_id, session=session).all()def _share_network_subnet_metadata_get_item(context, share_network_subnet_id, key, session=None): session = session or get_session() result = (_share_network_subnet_metadata_get_query( context, share_network_subnet_id, session=session). filter_by(key=key).first())def _share_network_subnet_metadata_update(context, share_network_subnet_id, metadata, delete, session=None): session = session or get_session() with session.begin(): if delete: original_metadata = _share_network_subnet_metadata_get( context, share_network_subnet_id, session=session) for meta_key, meta_value in original_metadata.items(): if meta_key not in metadata: meta_ref = _share_network_subnet_metadata_get_item( context, share_network_subnet_id, meta_key, session=session) meta_ref.soft_delete(session=session) meta_ref = None # Now update all existing items with new values, or create new meta # objects. for meta_key, meta_value in metadata.items(): # update the value whether it exists or not. item = {""value"": meta_value} meta_ref = _share_network_subnet_metadata_get_query( context, share_network_subnet_id, session=session).filter_by( key=meta_key).first() if not meta_ref: meta_ref = models.ShareNetworkSubnetMetadata() item.update( {""key"": meta_key, ""share_network_subnet_id"": share_network_subnet_id}) meta_ref.update(item) meta_ref.save(session=session) return metadata",98,90
openstack%2Fmanila~master~I20adb1598f74f36cb64fa9843b03271227d75464,openstack/manila,master,I20adb1598f74f36cb64fa9843b03271227d75464,"db: Migrate ""share network subnet"" APIs to enginefacade",MERGED,2023-04-12 16:49:20.000000000,2023-05-30 22:48:19.000000000,2023-05-30 22:47:18.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 32919}, {'_account_id': 33301}, {'_account_id': 35049}, {'_account_id': 35586}]","[{'number': 1, 'created': '2023-04-12 16:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4b066af103da02ee4d9692c5478917f8acbd64a9', 'message': 'db: Migrate ""share network subnet"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I20adb1598f74f36cb64fa9843b03271227d75464\n'}, {'number': 2, 'created': '2023-04-13 11:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/017673ce42ac0173891897d0164dc418bc51805c', 'message': 'db: Migrate ""share network subnet"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I20adb1598f74f36cb64fa9843b03271227d75464\n'}, {'number': 3, 'created': '2023-04-14 16:02:29.000000000', 'files': ['manila/db/api.py', 'manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/3ec91a79901a62773f17854cc76ee0aea029f3d0', 'message': 'db: Migrate ""share network subnet"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I20adb1598f74f36cb64fa9843b03271227d75464\n'}]",6,880199,3ec91a79901a62773f17854cc76ee0aea029f3d0,35,7,3,15334,,,0,"db: Migrate ""share network subnet"" APIs to enginefacade

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I20adb1598f74f36cb64fa9843b03271227d75464
",git fetch https://review.opendev.org/openstack/manila refs/changes/99/880199/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/api.py', 'manila/db/sqlalchemy/api.py']",2,4b066af103da02ee4d9692c5478917f8acbd64a9,sqlalchemy-20,"def _share_network_subnet_get_query(context): return model_query( context, models.ShareNetworkSubnet, ).options( joinedload('share_servers'), joinedload('share_network'), joinedload('share_network_subnet_metadata'), )@context_manager.writer network_subnet_ref.save(session=context.session) return _share_network_subnet_get( context, network_subnet_ref['id'], )@context_manager.writer def share_network_subnet_delete(context, network_subnet_id): network_subnet_ref = _share_network_subnet_get(context, network_subnet_id) context.session.query(models.ShareNetworkSubnetMetadata).filter_by( share_network_subnet_id=network_subnet_id, ).soft_delete() network_subnet_ref.soft_delete(session=context.session, update_status=True)@context_manager.writer def share_network_subnet_update(context, network_subnet_id, values): network_subnet_ref = _share_network_subnet_get(context, network_subnet_id) network_subnet_ref.update(values) network_subnet_ref.save(session=context.session) return network_subnet_ref@context_manager.reader def share_network_subnet_get(context, network_subnet_id, parent_id=None): return _share_network_subnet_get( context, network_subnet_id, parent_id=parent_id, ) @require_context def _share_network_subnet_get(context, network_subnet_id, parent_id=None): result = _share_network_subnet_get_query( context, ).filter_by(**kwargs).first() share_network_subnet_id=network_subnet_id, )@context_manager.reader def share_network_subnet_get_all_with_same_az(context, network_subnet_id): subnet = _share_network_subnet_get_query( context, ).filter_by(id=network_subnet_id).subquery() result = _share_network_subnet_get_query( context, ).join( subnet, subnet.c.share_network_id == models.ShareNetworkSubnet.share_network_id, ).filter( func.coalesce(subnet.c.availability_zone_id, '0') == func.coalesce(models.ShareNetworkSubnet.availability_zone_id, '0') ).all() share_network_subnet_id=network_subnet_id, )@context_manager.reader def share_network_subnet_get_all(context): return _share_network_subnet_get_query(context).all()@context_manager.reader def share_network_subnet_get_all_by_share_network(context, network_id): return _share_network_subnet_get_query(context).filter_by( share_network_id=network_id, ).all()@context_manager.reader context, share_network_id, availability_zone_id, fallback_to_default=True, ): return _share_network_subnets_get_all_by_availability_zone_id( context, share_network_id, availability_zone_id, fallback_to_default=fallback_to_default, ) @require_context def _share_network_subnets_get_all_by_availability_zone_id( context, share_network_id, availability_zone_id, fallback_to_default=True, ): result = _share_network_subnet_get_query(context).filter_by( availability_zone_id=availability_zone_id, ).all() return _share_network_subnet_get_query(context).filter_by( availability_zone_id=None, ).all()@context_manager.reader def share_network_subnet_get_default_subnets(context, share_network_id): return _share_network_subnets_get_all_by_availability_zone_id( context, share_network_id, availability_zone_id=None, )@context_manager.reader def share_network_subnet_get_all_by_share_server_id(context, share_server_id): result = _share_network_subnet_get_query(context).filter( models.ShareNetworkSubnet.share_servers.any( id=share_server_id, ) ).all() share_server_id=share_server_id, )","def _network_subnet_get_query(context, session=None): if session is None: session = get_session() return (model_query(context, models.ShareNetworkSubnet, session=session). options(joinedload('share_servers'), joinedload('share_network'), joinedload('share_network_subnet_metadata'))) session = get_session() with session.begin(): network_subnet_ref.save(session=session) return share_network_subnet_get( context, network_subnet_ref['id'], session=session)def share_network_subnet_delete(context, network_subnet_id): session = get_session() with session.begin(): network_subnet_ref = share_network_subnet_get(context, network_subnet_id, session=session) session.query(models.ShareNetworkSubnetMetadata).filter_by( share_network_subnet_id=network_subnet_id).soft_delete() network_subnet_ref.soft_delete(session=session, update_status=True)def share_network_subnet_update(context, network_subnet_id, values): session = get_session() with session.begin(): network_subnet_ref = share_network_subnet_get(context, network_subnet_id, session=session) network_subnet_ref.update(values) network_subnet_ref.save(session=session) return network_subnet_refdef share_network_subnet_get(context, network_subnet_id, session=None, parent_id=None): result = (_network_subnet_get_query(context, session) .filter_by(**kwargs) .first()) share_network_subnet_id=network_subnet_id)def share_network_subnet_get_all_with_same_az(context, network_subnet_id, session=None): subnet = (_network_subnet_get_query(context, session) .filter_by(id=network_subnet_id).subquery()) result = (_network_subnet_get_query(context, session) .join(subnet, subnet.c.share_network_id == models.ShareNetworkSubnet.share_network_id) .filter(func.coalesce(subnet.c.availability_zone_id, '0') == func.coalesce( models.ShareNetworkSubnet.availability_zone_id, '0')) .all()) share_network_subnet_id=network_subnet_id)def share_network_subnet_get_all(context): return _network_subnet_get_query(context).all()def share_network_subnet_get_all_by_share_network(context, network_id): return _network_subnet_get_query(context).filter_by( share_network_id=network_id).all() context, share_network_id, availability_zone_id, fallback_to_default=True): result = (_network_subnet_get_query(context).filter_by( availability_zone_id=availability_zone_id).all()) return (_network_subnet_get_query(context).filter_by( availability_zone_id=None).all())def share_network_subnet_get_default_subnets(context, share_network_id): return share_network_subnets_get_all_by_availability_zone_id( context, share_network_id, availability_zone_id=None)def share_network_subnet_get_all_by_share_server_id(context, share_server_id): result = (_network_subnet_get_query(context) .filter(models.ShareNetworkSubnet.share_servers.any( id=share_server_id)) .all()) share_server_id=share_server_id)",113,76
openstack%2Fkayobe~master~I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3,openstack/kayobe,master,I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3,Pass through kolla inventories as is,MERGED,2021-07-29 11:08:31.000000000,2023-05-30 22:28:42.000000000,2023-05-30 22:27:42.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-29 11:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9ace7b93c7e044876698fab270a5d0adb420c1c5', 'message': 'Support merging kolla group_vars when using multiple inventories\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 2, 'created': '2021-07-30 08:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/aa516b159658650bc4bca76341b63123e8cfcc45', 'message': 'Support merging kolla group_vars when using multiple inventories\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 3, 'created': '2022-09-20 11:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/17bb7086f8c1e2e5960bcebd7fb0070ca901a433', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible\nand let ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 4, 'created': '2022-10-20 13:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e944a07dce96ccd09b62f60cb431b3ce28327297', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible\nand let ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 5, 'created': '2022-12-12 15:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0d7509dca83231aaa83e6f3b2195c7834ce8dcb4', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible\nand let ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 6, 'created': '2023-03-07 10:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/09ecd1370f3df86a3b1559f2567b5c9bdd0359ee', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible\nand let ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 7, 'created': '2023-03-07 10:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5a4f3f356632f6489db4bc8f4b1812aaa015725a', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible\nand let ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 8, 'created': '2023-04-17 15:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6df841f9dd0e6abfa54632de508b790152a726d8', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible\nand let ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 9, 'created': '2023-04-17 15:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7f1fc906a86145263436f4ed3d446fed03fdd0b6', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible\nand let ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 10, 'created': '2023-04-19 14:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/69ecea26d714c2237a39b947ed29896389a13ea1', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible\nand let ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 11, 'created': '2023-04-20 09:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ed76f1987ce0d204480e7c3b3fc3dd184000b23d', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible\nand let ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 12, 'created': '2023-05-30 15:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/75eac06368b1e8ade42c7f10bbdbdca69775c3d3', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible and\nlet ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 13, 'created': '2023-05-30 15:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/45b968ab765d9f93f1cf879d39c4de0cb9c8e015', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible and\nlet ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 14, 'created': '2023-05-30 16:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d1a6cd78110378151689c2c183820aee5b182983', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible and\nlet ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 15, 'created': '2023-05-30 16:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cfa6653b1116d3298a699e99829fdd1643bae71d', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible and\nlet ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 16, 'created': '2023-05-30 16:42:29.000000000', 'files': ['kayobe/tests/unit/test_kolla_ansible.py', 'kayobe/kolla_ansible.py', 'releasenotes/notes/adds-support-for-multiple-kolla-inventories-65fd7a4922c639c5.yaml', 'ansible/kolla-ansible.yml', 'doc/source/configuration/reference/kolla-ansible.rst', 'doc/source/control-plane-service-placement.rst', 'ansible/roles/kolla-ansible/tests/test-defaults.yml', 'ansible/roles/kolla-ansible/defaults/main.yml', 'doc/source/multiple-environments.rst', 'kayobe/ansible.py', 'kayobe/tests/unit/test_ansible.py', 'ansible/roles/kolla-ansible/tasks/config.yml', 'ansible/roles/kolla-ansible/vars/Debian.yml', 'ansible/roles/kolla-ansible/vars/RedHat.yml', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'ansible/roles/kolla-ansible/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c75a32e72fa2d31e494b83bd406e42040e8de15d', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible and\nlet ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}]",66,802864,c75a32e72fa2d31e494b83bd406e42040e8de15d,58,4,16,28048,,,0,"Pass through kolla inventories as is

Previously, we only supported passing through group_vars. Passing
through the inventory as is allows you to use other features of ansible
inventory such as host vars. It also simplifies the logic of merging
multiple inventories as we can just pass the inventory to ansible and
let ansible take care of the rest. This is useful for the multiple
environments feature.

Change-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3
Story: 2002009
Task: 42910
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/64/802864/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/kolla_ansible.py', 'ansible/roles/kolla-ansible/tasks/config.yml', 'ansible/kolla-ansible.yml', 'ansible/roles/kolla-ansible/vars/main.yml', 'ansible/roles/kolla-ansible/defaults/main.yml']",5,9ace7b93c7e044876698fab270a5d0adb420c1c5,merge-configs,# Directories containing custom Kolla-Ansible group vars. kolla_overcloud_group_vars_paths: [],# Directory containing custom Kolla-Ansible group vars. kolla_overcloud_group_vars_path:,83,29
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I07bf928742f5ff579070f4d1d6248d5b105bce55,openstack/puppet-tripleo,stable/wallaby,I07bf928742f5ff579070f4d1d6248d5b105bce55,Allow clustercheck to wait before finishing,MERGED,2023-05-24 11:09:22.000000000,2023-05-30 22:09:40.000000000,2023-05-30 22:09:40.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 11:09:22.000000000', 'files': ['manifests/profile/pacemaker/clustercheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9e0bcc89dc88fe2883cb0ac7187c08d47e103d8f', 'message': ""Allow clustercheck to wait before finishing\n\nUnder rare circumstances of heavy loaded environments, HAProxy\nmay report 'socket error' when disconnecting from clustercheck if\nthe latter closed its side of the connection first.\nAdd a configurable post status wait time in clustercheck to fix\nHAProxy error reporting. By default, this post wait is not used.\n\nChange-Id: I07bf928742f5ff579070f4d1d6248d5b105bce55\nRelated-Bug: #2020490\n""}]",1,884178,9e0bcc89dc88fe2883cb0ac7187c08d47e103d8f,10,4,1,20778,,,0,"Allow clustercheck to wait before finishing

Under rare circumstances of heavy loaded environments, HAProxy
may report 'socket error' when disconnecting from clustercheck if
the latter closed its side of the connection first.
Add a configurable post status wait time in clustercheck to fix
HAProxy error reporting. By default, this post wait is not used.

Change-Id: I07bf928742f5ff579070f4d1d6248d5b105bce55
Related-Bug: #2020490
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/78/884178/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/clustercheck.pp'],1,9e0bcc89dc88fe2883cb0ac7187c08d47e103d8f,,"# [*post_status_wait*] # (Optional) Number of seconds to wait after status is returned. # This is only useful for slow environments where haproxy may report # a ""socket error"" after clustercheck status is returned if it cannot # poll and close its side of the connection before socat does. # Defaults to 0 # $post_status_wait = 0,TRIPLEO_SOCAT_BIND='${socat_listen_type}:9200,bind=\""${bind_address}\"",reuseaddr,fork'\n TRIPLEO_POST_STATUS_WAIT=${post_status_wait}\n"",","TRIPLEO_SOCAT_BIND='${socat_listen_type}:9200,bind=\""${bind_address}\"",reuseaddr,fork'\n"",",10,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Iab75091c50178e684217840c15ec5d9974d34674,openstack/tripleo-heat-templates,stable/wallaby,Iab75091c50178e684217840c15ec5d9974d34674,Allow clustercheck to wait before finishing,MERGED,2023-05-24 10:59:15.000000000,2023-05-30 22:09:37.000000000,2023-05-30 22:09:37.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 10:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/694dcdc6417077bd5b0119db1deff23a8086db8e', 'message': 'Allow clustercheck to wait before finishing\n\nMake clustercheck use additional parameter from\n/etc/sysconfig/clustercheck to wait a configured amount of time\nafter it returned a HTTP status. This helps on a heavy loaded\nenvironment to prevent HAProxy from reporting wrong `socket error`\nwhen it disconnects after clustercheck.\n\nCloses-Bug: #2020490\n\nChange-Id: Iab75091c50178e684217840c15ec5d9974d34674\n'}, {'number': 2, 'created': '2023-05-25 12:44:30.000000000', 'files': ['deployment/pacemaker/clustercheck-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f04fdef6662f8117c73ec65069009f02501132dd', 'message': 'Allow clustercheck to wait before finishing\n\nMake clustercheck use additional parameter from\n/etc/sysconfig/clustercheck to wait a configured amount of time\nafter it returned a HTTP status. This helps on a heavy loaded\nenvironment to prevent HAProxy from reporting wrong `socket error`\nwhen it disconnects after clustercheck.\n\nCloses-Bug: #2020490\n\nChange-Id: Iab75091c50178e684217840c15ec5d9974d34674\n'}]",0,884176,f04fdef6662f8117c73ec65069009f02501132dd,10,4,2,20778,,,0,"Allow clustercheck to wait before finishing

Make clustercheck use additional parameter from
/etc/sysconfig/clustercheck to wait a configured amount of time
after it returned a HTTP status. This helps on a heavy loaded
environment to prevent HAProxy from reporting wrong `socket error`
when it disconnects after clustercheck.

Closes-Bug: #2020490

Change-Id: Iab75091c50178e684217840c15ec5d9974d34674
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/884176/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/clustercheck-container-puppet.yaml'],1,694dcdc6417077bd5b0119db1deff23a8086db8e,," - bash -c $* -- eval source /etc/sysconfig/clustercheck; exec socat ""$TRIPLEO_SOCAT_BIND"" system:""/usr/bin/clustercheck; sleep ''${TRIPLEO_POST_STATUS_WAIT:-0}''"",nofork"," - bash -c $* -- eval source /etc/sysconfig/clustercheck; exec socat ""$TRIPLEO_SOCAT_BIND"" exec:/usr/bin/clustercheck,nofork",1,1
openstack%2Fvirtualpdu~master~Ife12413abc5dcf2cd581f382a8d2911cb9b9aa59,openstack/virtualpdu,master,Ife12413abc5dcf2cd581f382a8d2911cb9b9aa59,Fix configuration - virtualpdu in openstack now,MERGED,2023-05-30 16:28:14.000000000,2023-05-30 22:07:56.000000000,2023-05-30 22:06:09.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 16:28:14.000000000', 'files': ['zuul.d/virtualpdu-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/virtualpdu/commit/3cfacec14d3c5fa7aa460d56706c463feea1a584', 'message': 'Fix configuration - virtualpdu in openstack now\n\nThis should resolve a zuul config error.\n\nChange-Id: Ife12413abc5dcf2cd581f382a8d2911cb9b9aa59\n'}]",0,884721,3cfacec14d3c5fa7aa460d56706c463feea1a584,7,2,1,10342,,,0,"Fix configuration - virtualpdu in openstack now

This should resolve a zuul config error.

Change-Id: Ife12413abc5dcf2cd581f382a8d2911cb9b9aa59
",git fetch https://review.opendev.org/openstack/virtualpdu refs/changes/21/884721/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/virtualpdu-jobs.yaml'],1,3cfacec14d3c5fa7aa460d56706c463feea1a584,, - openstack/virtualpdu IRONIC_BOOT_MODE: bios , - x/virtualpdu IRONIC_BOOT_MODE: bios,2,2
openstack%2Fdesignate~master~I1b00300118340faecc81c33f3a77e46e151e0a1c,openstack/designate,master,I1b00300118340faecc81c33f3a77e46e151e0a1c,Improve central unit test coverage,MERGED,2023-05-27 02:55:29.000000000,2023-05-30 22:06:56.000000000,2023-05-30 22:05:25.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-27 02:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0630253b98c1c027a1e0098f73d5fc4cf0ed65a1', 'message': 'Improve Zone/Record central status coverage\n\nChange-Id: I1b00300118340faecc81c33f3a77e46e151e0a1c\n'}, {'number': 2, 'created': '2023-05-27 05:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5166614eb57fc33de22ca0190f15b83a8c441227', 'message': 'Improve Zone/Record central status coverage\n\nChange-Id: I1b00300118340faecc81c33f3a77e46e151e0a1c\n'}, {'number': 3, 'created': '2023-05-27 19:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d15be460004a7af53812857bc7c42596d5ccc9cd', 'message': 'Improve Zone/Record central status coverage\n\nChange-Id: I1b00300118340faecc81c33f3a77e46e151e0a1c\n'}, {'number': 4, 'created': '2023-05-27 19:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/87dbe16a092c40751dc21f4c6ed02338ba8e6f79', 'message': 'Improve Zone/Record central status coverage\n\nChange-Id: I1b00300118340faecc81c33f3a77e46e151e0a1c\n'}, {'number': 5, 'created': '2023-05-27 21:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8501fd7cc349ff9317a1ff922b4666cf84b0afbe', 'message': 'Improve central unit test coverage\n\nChange-Id: I1b00300118340faecc81c33f3a77e46e151e0a1c\n'}, {'number': 6, 'created': '2023-05-27 22:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/24b8c0e7fb74f8a13319a0152741d06b6551eff0', 'message': ""Improve central unit test coverage\n\n- Minor changes to fix code that wasn't unit testable.\n\nChange-Id: I1b00300118340faecc81c33f3a77e46e151e0a1c\n""}, {'number': 7, 'created': '2023-05-28 04:42:07.000000000', 'files': ['designate/tests/unit/test_central/test_basic.py', 'designate/central/service.py', 'designate/tests/unit/central/test_central.py', 'designate/tests/test_central/test_service.py', 'designate/tests/unit/central/__init__.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/9ba81579acd6d583109ea6ed50dcc9c18ba4412a', 'message': ""Improve central unit test coverage\n\n- Minor changes to fix code that wasn't unit testable.\n\nChange-Id: I1b00300118340faecc81c33f3a77e46e151e0a1c\n""}]",1,884346,9ba81579acd6d583109ea6ed50dcc9c18ba4412a,18,2,7,22623,,,0,"Improve central unit test coverage

- Minor changes to fix code that wasn't unit testable.

Change-Id: I1b00300118340faecc81c33f3a77e46e151e0a1c
",git fetch https://review.opendev.org/openstack/designate refs/changes/46/884346/7 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/central/test_central.py', 'designate/tests/unit/central/__init__.py']",2,0630253b98c1c027a1e0098f73d5fc4cf0ed65a1,,,,163,0
openstack%2Fnetworking-odl~stable%2F2023.1~Icff1b5737b4d2c52ead48e3700de668038f3c5c1,openstack/networking-odl,stable/2023.1,Icff1b5737b4d2c52ead48e3700de668038f3c5c1,Remove periodic-stable-jobs template,MERGED,2023-05-24 12:38:43.000000000,2023-05-30 22:04:57.000000000,2023-05-30 22:03:12.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 12:38:43.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/439a2437385a9a948ccec234d79f63e7422b9fae', 'message': 'Remove periodic-stable-jobs template\n\nnetworking-odl is about to become deprecated [1] (furthermore, periodic\nstable jobs on yoga and older branches are failing for long time), so\nit is unnecessary to run periodic stable jobs against networking-odl\nanymore.\n\n[1] https://review.opendev.org/c/openstack/governance/+/884002\n\nChange-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1\n(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)\n'}]",0,884188,439a2437385a9a948ccec234d79f63e7422b9fae,8,3,1,17685,,,0,"Remove periodic-stable-jobs template

networking-odl is about to become deprecated [1] (furthermore, periodic
stable jobs on yoga and older branches are failing for long time), so
it is unnecessary to run periodic stable jobs against networking-odl
anymore.

[1] https://review.opendev.org/c/openstack/governance/+/884002

Change-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1
(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/88/884188/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,439a2437385a9a948ccec234d79f63e7422b9fae,remove-odl-periodic-stable,, - periodic-stable-jobs-neutron,0,1
openstack%2Fopenstack-ansible~stable%2Fyoga~Id129495b74a396f76b14ea4f8f13b275c16a5e24,openstack/openstack-ansible,stable/yoga,Id129495b74a396f76b14ea4f8f13b275c16a5e24,Return distro jobs back,MERGED,2023-05-24 18:51:20.000000000,2023-05-30 21:25:02.000000000,2023-05-30 21:22:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-24 18:51:20.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3a38adb9a9ab7f60a678f54cc06361efe38003ed', 'message': 'Return distro jobs back\n\nOnce circular dependency to enable service tokens is solved,\ndistro jobs are returned back.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/884213\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/884211\nChange-Id: Id129495b74a396f76b14ea4f8f13b275c16a5e24\n'}]",1,884276,3a38adb9a9ab7f60a678f54cc06361efe38003ed,13,3,1,28619,,,0,"Return distro jobs back

Once circular dependency to enable service tokens is solved,
distro jobs are returned back.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/884213
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/884211
Change-Id: Id129495b74a396f76b14ea4f8f13b275c16a5e24
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/76/884276/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,3a38adb9a9ab7f60a678f54cc06361efe38003ed,osa/OSSA-2023-003, - openstack-ansible-deploy-aio_distro_metal-jobs,,1,0
openstack%2Fcinder~master~I3f651326102a05399640e1050782f4bd05df6280,openstack/cinder,master,I3f651326102a05399640e1050782f4bd05df6280,Automate generation of snapshot transfer api-ref samples,ABANDONED,2023-03-28 21:25:10.000000000,2023-05-30 21:13:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-28 21:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9f59adff21b64ada3596049ab6cabd57d3511401', 'message': 'Automate generation of snapshot transfer api-ref sample\n\nChange-Id: I3f651326102a05399640e1050782f4bd05df6280\n'}, {'number': 2, 'created': '2023-04-01 14:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6a58843d16707881d2ed9fe6757a048298010ecd', 'message': 'Automate generation of snapshot transfer api-ref samples\n\nChange-Id: I3f651326102a05399640e1050782f4bd05df6280\n'}, {'number': 3, 'created': '2023-04-03 16:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7233ab0e84028c436749b424071feaaef5eeb352', 'message': 'Automate generation of snapshot transfer api-ref samples\n\nThis patch adds the following tests:\n1) Snapshot transfer\n\nChange-Id: I3f651326102a05399640e1050782f4bd05df6280\nPartially-Implements: blueprint generating-sample-files\n'}, {'number': 4, 'created': '2023-04-04 11:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5f8fd108c73e5f80fafa8299b8d6f5449b5f5c6e', 'message': 'Automate generation of snapshot transfer api-ref samples\n\nThis patch adds the tests for generating api-ref samples of snapshots transfer.\n\nChange-Id: I3f651326102a05399640e1050782f4bd05df6280\nPartially-Implements: blueprint generating-sample-files\n'}, {'number': 5, 'created': '2023-04-06 15:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/344bfe5c2c20c657ac74158331b30cf4a33b540a', 'message': 'Automate generation of snapshot transfer api-ref sample\n\nChange-Id: I3f651326102a05399640e1050782f4bd05df6280\n'}, {'number': 6, 'created': '2023-04-06 16:04:17.000000000', 'files': ['cinder/tests/functional/api_sample_tests/samples/snapshot_transfer/v3.55/snapshot-transfer-show-response.json.tpl', 'api-ref/source/v3/index.rst', 'cinder/tests/functional/api_sample_tests/samples/snapshot_transfer/snapshot-transfer-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshot_transfer/snapshot-transfers-list-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshot_transfer/v3.55/snapshot-transfers-list-detailed-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshot_transfer/snapshot-transfer-create-request.json.tpl', 'cinder/tests/functional/api_sample_tests/test_snapshot_transfer.py', 'api-ref/source/v3/snapshot-transfer-v3.inc', 'cinder/tests/functional/api_sample_tests/samples/snapshot_transfer/snapshot-transfer-accept-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshot_transfer/v3.55/snapshot-transfer-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshot_transfer/snapshot-transfer-accept-request.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshot_transfer/snapshot-transfers-list-detailed-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshot_transfer/snapshot-transfer-show-response.json.tpl'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fea656b90da2bbe422399efb25a550dc93230107', 'message': 'Automate generation of snapshot transfer api-ref samples\n\nThis patch adds the tests for generating api-ref samples of snapshot transfer.\n\nChange-Id: I3f651326102a05399640e1050782f4bd05df6280\n'}]",5,878798,fea656b90da2bbe422399efb25a550dc93230107,75,1,6,35836,,,0,"Automate generation of snapshot transfer api-ref samples

This patch adds the tests for generating api-ref samples of snapshot transfer.

Change-Id: I3f651326102a05399640e1050782f4bd05df6280
",git fetch https://review.opendev.org/openstack/cinder refs/changes/98/878798/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/functional/api_sample_tests/test_snapshot_transfer.py'],1,9f59adff21b64ada3596049ab6cabd57d3511401,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. ",,11,0
openstack%2Fproject-config~master~Ib60099f79de902906b8d1956cc202aeb86587cb5,openstack/project-config,master,Ib60099f79de902906b8d1956cc202aeb86587cb5,Remove retied projects from openstack-helm group,MERGED,2023-05-30 15:41:52.000000000,2023-05-30 21:09:26.000000000,2023-05-30 18:35:13.000000000,"[{'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2023-05-30 15:41:52.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4b3f46d37fe72f1ea7b520b5070fb50b54d419d9', 'message': 'Remove retied projects from openstack-helm group\n\nAt the moment we have 3 active projects in openstack-helm\nproject group. These are\n- openstack-helm\n- openstack-helm-infra\n- openstack-helm-images\nBut we used to have 3 more projects in the project group\nwhich are now retired. These retied projects are\n- openstack-helm-docs\n- openstack-helm-addons\n- openstack-helm-deployments\nNow we would like to cleanup the openstack-helm\nStoryboard project group. We have closed and moved all the\nstories from these retired projects to the main OSH project.\n\nChange-Id: Ib60099f79de902906b8d1956cc202aeb86587cb5\n'}]",0,884718,4b3f46d37fe72f1ea7b520b5070fb50b54d419d9,10,4,1,3009,,,0,"Remove retied projects from openstack-helm group

At the moment we have 3 active projects in openstack-helm
project group. These are
- openstack-helm
- openstack-helm-infra
- openstack-helm-images
But we used to have 3 more projects in the project group
which are now retired. These retied projects are
- openstack-helm-docs
- openstack-helm-addons
- openstack-helm-deployments
Now we would like to cleanup the openstack-helm
Storyboard project group. We have closed and moved all the
stories from these retired projects to the main OSH project.

Change-Id: Ib60099f79de902906b8d1956cc202aeb86587cb5
",git fetch https://review.opendev.org/openstack/project-config refs/changes/18/884718/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,4b3f46d37fe72f1ea7b520b5070fb50b54d419d9,,, use-storyboard: true groups: - openstack-helm use-storyboard: true groups: - openstack-helm use-storyboard: true groups: - openstack-helm,0,9
openstack%2Fansible-role-uwsgi~stable%2Fyoga~I3b11220dd30a03fd6465f7b5e041027fbd8bad1d,openstack/ansible-role-uwsgi,stable/yoga,I3b11220dd30a03fd6465f7b5e041027fbd8bad1d,Replace imports with dynamic includes,MERGED,2023-05-25 15:00:29.000000000,2023-05-30 21:07:40.000000000,2023-05-30 21:06:48.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-25 15:00:29.000000000', 'files': ['tasks/main.yml', 'tasks/uwsgi_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/725a9495c4c223657474378c07bcfc91cced4dbf', 'message': 'Replace imports with dynamic includes\n\nA weird behaviour has been spotted in AIO, where role, that was\nimporting python_venv_build and uwsgi roles was failing, as\nvenv_build_distro_package_list definition from uwsgi role was applied\non upper level even before uwsgi runtime\n\nAs a result, previous import was failing with\nuwsgi_build_distro_package_list being undefined.\n\nReplacing any import with inlcude was solving the issue. Since we re-use\nuwsgi role a lot and using include make sense in the role, we\nstart replacing static imports from here.\n\nChange-Id: I3b11220dd30a03fd6465f7b5e041027fbd8bad1d\n(cherry picked from commit 3fa317e79a8f7c8102b758d22c5a08c0cfddf61b)\n'}]",1,884373,725a9495c4c223657474378c07bcfc91cced4dbf,12,3,1,28619,,,0,"Replace imports with dynamic includes

A weird behaviour has been spotted in AIO, where role, that was
importing python_venv_build and uwsgi roles was failing, as
venv_build_distro_package_list definition from uwsgi role was applied
on upper level even before uwsgi runtime

As a result, previous import was failing with
uwsgi_build_distro_package_list being undefined.

Replacing any import with inlcude was solving the issue. Since we re-use
uwsgi role a lot and using include make sense in the role, we
start replacing static imports from here.

Change-Id: I3b11220dd30a03fd6465f7b5e041027fbd8bad1d
(cherry picked from commit 3fa317e79a8f7c8102b758d22c5a08c0cfddf61b)
",git fetch https://review.opendev.org/openstack/ansible-role-uwsgi refs/changes/73/884373/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/uwsgi_install.yml']",2,725a9495c4c223657474378c07bcfc91cced4dbf,, include_role:, import_role:,11,3
openstack%2Fnova~master~I41b61f460fff5bb0d7118c2e6414fb2b11348761,openstack/nova,master,I41b61f460fff5bb0d7118c2e6414fb2b11348761,db: Remove the legacy 'migration_version' table,MERGED,2023-02-01 17:08:29.000000000,2023-05-30 20:58:17.000000000,2023-05-30 20:56:59.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 11604}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-02-01 17:08:29.000000000', 'files': ['nova/db/main/migrations/versions/1b91788ec3a6_drop_legacy_migrate_version_table.py', 'nova/db/main/api.py', 'nova/tests/unit/db/api/test_migrations.py', 'nova/tests/unit/db/main/test_migrations.py', 'nova/db/api/migrations/versions/cdeec0c85668_drop_legacy_migrate_version_table.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2454843b8faa91a4c3eeadc0d3a2c8925d9bee43', 'message': ""db: Remove the legacy 'migration_version' table\n\nThis hasn't been necessary since Wallaby.\n\nChange-Id: I41b61f460fff5bb0d7118c2e6414fb2b11348761\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",9,872429,2454843b8faa91a4c3eeadc0d3a2c8925d9bee43,56,6,1,15334,,,0,"db: Remove the legacy 'migration_version' table

This hasn't been necessary since Wallaby.

Change-Id: I41b61f460fff5bb0d7118c2e6414fb2b11348761
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/872429/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/main/migrations/versions/1b91788ec3a6_drop_legacy_migrate_version_table.py', 'nova/db/main/api.py', 'nova/tests/unit/db/api/test_migrations.py', 'nova/tests/unit/db/main/test_migrations.py', 'nova/db/api/migrations/versions/cdeec0c85668_drop_legacy_migrate_version_table.py']",5,2454843b8faa91a4c3eeadc0d3a2c8925d9bee43,sqlalchemy-20,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Drop legacy migrate_version table Revision ID: cdeec0c85668 Revises: b30f573d3377 Create Date: 2023-02-01 17:04:52.984703 """""" from alembic import op from sqlalchemy.engine import reflection # revision identifiers, used by Alembic. revision = 'cdeec0c85668' down_revision = 'b30f573d3377' branch_labels = None depends_on = None def upgrade(): conn = op.get_bind() inspector = reflection.Inspector.from_engine(conn) tables = inspector.get_table_names() if 'migrate_version' in tables: op.drop_table('migrate_version') ",,93,19
openstack%2Fcharm-guide~master~I0df682a49919900081ff2c8d2e4f2ba0ff6b29dc,openstack/charm-guide,master,I0df682a49919900081ff2c8d2e4f2ba0ff6b29dc,Add Service Tokens entry to the 2023.1 release notes.,MERGED,2023-05-30 17:28:24.000000000,2023-05-30 20:47:49.000000000,2023-05-30 20:46:33.000000000,"[{'_account_id': 11805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2023-05-30 17:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/72cea0b7d66fdd05bf26c9843b2983e69a01eac9', 'message': 'Add Service Tokens entry to the 2023.1 release notes.\n\nChange-Id: I0df682a49919900081ff2c8d2e4f2ba0ff6b29dc\n'}, {'number': 2, 'created': '2023-05-30 18:24:21.000000000', 'files': ['doc/source/release-notes/2023.1-antelope.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/06096268e6bedf543a2bfb50bf1614e85398bf11', 'message': 'Add Service Tokens entry to the 2023.1 release notes.\n\nCloses-Bug: #1992840\nChange-Id: I0df682a49919900081ff2c8d2e4f2ba0ff6b29dc\n'}]",0,884756,06096268e6bedf543a2bfb50bf1614e85398bf11,10,4,2,2424,,,0,"Add Service Tokens entry to the 2023.1 release notes.

Closes-Bug: #1992840
Change-Id: I0df682a49919900081ff2c8d2e4f2ba0ff6b29dc
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/56/884756/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/release-notes/2023.1-antelope.rst'],1,72cea0b7d66fdd05bf26c9843b2983e69a01eac9,bug/1992840,"Service Tokens ~~~~~~~~~~~~~~ Charmed OpenStack configures the deployed services to send service tokens now. This change benefits users in, at least, the following situations: * For security reasons, the service token allows the control plane to differentiate when a privileged operation is issued by another service (e.g. Nova requesting a volume operation to Cinder) or by a cloud user. * Long running job failures, if an operation takes longer than the life of the user's token, there will be queries failing and preventing the completion of the user's requested operation. For more details see `Using service tokens in Cinder`_ and bug `LP #1992840`_ .. _Using service tokens in Cinder: https://docs.openstack.org/cinder/2023.1/configuration/block-storage/service-token.html.. _LP #1992840: https://bugs.launchpad.net/charm-cinder/+bug/1992840",,17,0
openstack%2Fwhitebox-tempest-plugin~master~Iccbeef049af5e3a913d7ce56cd29f7dc66517532,openstack/whitebox-tempest-plugin,master,Iccbeef049af5e3a913d7ce56cd29f7dc66517532,Use barbican client from barbican-templest-plugin,MERGED,2023-03-27 18:46:11.000000000,2023-05-30 20:33:57.000000000,2023-05-30 20:33:57.000000000,"[{'_account_id': 22348}, {'_account_id': 31033}]","[{'number': 1, 'created': '2023-03-27 18:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/d90af0131c371ee9dd4e55b114bc48ece154f0ff', 'message': 'WIP/DNM: try using barbican client from their plugin\n\nChange-Id: Iccbeef049af5e3a913d7ce56cd29f7dc66517532\n'}, {'number': 2, 'created': '2023-03-28 16:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/25e46a106f17cc4c4d572778375d43ce9056c6be', 'message': 'WIP/DNM: try using barbican client from their plugin\n\nChange-Id: Iccbeef049af5e3a913d7ce56cd29f7dc66517532\n'}, {'number': 3, 'created': '2023-03-28 19:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/9b8736ef6717278802fddf5ef83802e9a8960e57', 'message': 'WIP/DNM: try using barbican client from their plugin\n\nChange-Id: Iccbeef049af5e3a913d7ce56cd29f7dc66517532\n'}, {'number': 4, 'created': '2023-03-29 00:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/dae676a90860e69de5af5e46d3e11acc75d97f16', 'message': 'WIP/DNM: try using barbican client from their plugin\n\nChange-Id: Iccbeef049af5e3a913d7ce56cd29f7dc66517532\n'}, {'number': 5, 'created': '2023-03-29 01:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/ee8bf92b123ff9858051e14c78d28adfc9ce4fd5', 'message': 'WIP/DNM: try using barbican client from their plugin\n\nChange-Id: Iccbeef049af5e3a913d7ce56cd29f7dc66517532\n'}, {'number': 6, 'created': '2023-03-29 14:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/73af6dbc6d3074aa4338e6895f7848256dfe6ca1', 'message': 'WIP/DNM: try using barbican client from their plugin\n\nChange-Id: Iccbeef049af5e3a913d7ce56cd29f7dc66517532\n'}, {'number': 7, 'created': '2023-03-29 16:11:28.000000000', 'files': ['whitebox_tempest_plugin/services/key_manager/json/__init__.py', '.zuul.yaml', 'whitebox_tempest_plugin/services/key_manager/json/base.py', 'whitebox_tempest_plugin/api/compute/test_vtpm.py', 'whitebox_tempest_plugin/services/key_manager/json/secret_client.py', 'whitebox_tempest_plugin/plugin.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/d3a8b0ef14cdae30130c5ef35a52d48469d1d9c0', 'message': 'Use barbican client from barbican-templest-plugin\n\nPreviously we had copy-pasted barbican client code into our own in\norder to access secrets. If we install the barbican-tempest-plugin, we\ncan use their client directly, as explained in [1].\n\n[1] https://docs.openstack.org/tempest/latest/plugins/plugin.html#service-clients\n\nChange-Id: Iccbeef049af5e3a913d7ce56cd29f7dc66517532\n'}]",3,878711,d3a8b0ef14cdae30130c5ef35a52d48469d1d9c0,20,2,7,8864,,,0,"Use barbican client from barbican-templest-plugin

Previously we had copy-pasted barbican client code into our own in
order to access secrets. If we install the barbican-tempest-plugin, we
can use their client directly, as explained in [1].

[1] https://docs.openstack.org/tempest/latest/plugins/plugin.html#service-clients

Change-Id: Iccbeef049af5e3a913d7ce56cd29f7dc66517532
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/11/878711/7 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/services/key_manager/json/__init__.py', '.zuul.yaml', 'whitebox_tempest_plugin/services/key_manager/json/base.py', 'whitebox_tempest_plugin/services/key_manager/json/secret_client.py', 'whitebox_tempest_plugin/plugin.py']",5,d90af0131c371ee9dd4e55b114bc48ece154f0ff,,," def get_service_clients(self): v1_params = { 'name': 'secret_v1', 'service_version': 'secret.v1', 'module_path': 'whitebox_tempest_plugin.services.key_manager.json', 'client_names': [ 'SecretClient' ] } return [v1_params]",1,111
openstack%2Fdevstack~stable%2Fyoga~I7b223391d3de01e3e81b02076debd01d9d2f097c,openstack/devstack,stable/yoga,I7b223391d3de01e3e81b02076debd01d9d2f097c,Try to reduce mysql memory usage,MERGED,2023-05-23 18:22:47.000000000,2023-05-30 20:20:12.000000000,2023-05-30 20:18:13.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-23 18:22:47.000000000', 'files': ['lib/databases/mysql', '.zuul.yaml', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c4a1f8654826166642880714999b25d00dfe3dfe', 'message': ""Try to reduce mysql memory usage\n\nThese are a few tweaks I applied to my own memory-constrained cloud\ninstances that seemed to help. I have lower performance requirements\nso this may make things worse and not better, but it's worth seeing\nwhat the impact is. I'll admit to not knowing the full impact of these\nas they're mostly collected from various tutorials on lowering memory\nusage.\n\nEnable this for now on devstack-multinode\n\nChange-Id: I7b223391d3de01e3e81b02076debd01d9d2f097c\n(cherry picked from commit 7567359755a105e7278bbf97541332f28228b87d)\n(cherry picked from commit b12cc4181cd691c121265cf07e274a8021c18754)\n""}]",2,883970,c4a1f8654826166642880714999b25d00dfe3dfe,10,5,1,4393,,,0,"Try to reduce mysql memory usage

These are a few tweaks I applied to my own memory-constrained cloud
instances that seemed to help. I have lower performance requirements
so this may make things worse and not better, but it's worth seeing
what the impact is. I'll admit to not knowing the full impact of these
as they're mostly collected from various tutorials on lowering memory
usage.

Enable this for now on devstack-multinode

Change-Id: I7b223391d3de01e3e81b02076debd01d9d2f097c
(cherry picked from commit 7567359755a105e7278bbf97541332f28228b87d)
(cherry picked from commit b12cc4181cd691c121265cf07e274a8021c18754)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/70/883970/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/databases/mysql', '.zuul.yaml', 'stackrc']",3,c4a1f8654826166642880714999b25d00dfe3dfe,mysql-mem,"# This can be used to reduce the amount of memory mysqld uses while running. # These are unscientifically determined, and could reduce performance or # cause other issues. MYSQL_REDUCE_MEMORY=$(trueorfalse False MYSQL_REDUCE_MEMORY) ",,18,0
openstack%2Fkeystonemiddleware~master~I27eae647dc943e6f5af654fa8428e64fcef6ad4d,openstack/keystonemiddleware,master,I27eae647dc943e6f5af654fa8428e64fcef6ad4d,Make openstack-tox-lower-constraints non-voting,ABANDONED,2023-05-30 19:55:38.000000000,2023-05-30 20:03:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-30 19:55:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/7bf26aa8eaa3e46315605e2bebc2e8e13fc5f2c3', 'message': 'Make openstack-tox-lower-constraints non-voting\n\nThis test is non-voting in Wallaby and was removed from Xena onwards.\nCurrently is failing for all backports.\n\nChange-Id: I27eae647dc943e6f5af654fa8428e64fcef6ad4d\n'}]",0,884775,7bf26aa8eaa3e46315605e2bebc2e8e13fc5f2c3,8,1,1,34275,,,0,"Make openstack-tox-lower-constraints non-voting

This test is non-voting in Wallaby and was removed from Xena onwards.
Currently is failing for all backports.

Change-Id: I27eae647dc943e6f5af654fa8428e64fcef6ad4d
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/75/884775/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7bf26aa8eaa3e46315605e2bebc2e8e13fc5f2c3,lower-contraints-ussuri, check: jobs: - openstack-tox-lower-constraints: voting: false, - openstack-lower-constraints-jobs,4,1
openstack%2Fcinder-tempest-plugin~master~Ic60eec73361dbdda68d4308140560be55102178e,openstack/cinder-tempest-plugin,master,Ic60eec73361dbdda68d4308140560be55102178e,[srbac] Testing Volume Actions,MERGED,2023-05-18 09:40:53.000000000,2023-05-30 20:03:05.000000000,2023-05-30 20:03:05.000000000,"[{'_account_id': 4523}, {'_account_id': 8556}, {'_account_id': 9600}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-05-18 09:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/7e051dfbcf5697a0a02d3c12ed84d3ac9ed3676a', 'message': '[srbac] Testing Volume Actions\n\nAdding Reader srbac tests with volume action operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\nChange-Id: Ic60eec73361dbdda68d4308140560be55102178e\n'}, {'number': 2, 'created': '2023-05-18 12:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/c4e61779a93036fbb8c84aaee9f8e19e878397c1', 'message': '[srbac] Testing Volume Actions\n\nAdding Reader srbac tests with volume action operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\nChange-Id: Ic60eec73361dbdda68d4308140560be55102178e\n'}, {'number': 3, 'created': '2023-05-19 15:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/2aaf8b7c0c7dd250953b544c37364bf22f255419', 'message': '[srbac] Testing Volume Actions\n\nAdding Reader srbac tests with volume action operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\nChange-Id: Ic60eec73361dbdda68d4308140560be55102178e\n'}, {'number': 4, 'created': '2023-05-21 11:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/73ed79dc9ea35bfb38cad5731ea7b154082bf5c1', 'message': '[srbac] Testing Volume Actions\n\nAdding Reader srbac tests with volume action operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\nChange-Id: Ic60eec73361dbdda68d4308140560be55102178e\n'}, {'number': 5, 'created': '2023-05-21 14:27:51.000000000', 'files': ['cinder_tempest_plugin/rbac/v3/test_volume_actions.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/3367fdd997f120989dc6b7018cb355b0119eb821', 'message': '[srbac] Testing Volume Actions\n\nAdding Reader srbac tests with volume action operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\nChange-Id: Ic60eec73361dbdda68d4308140560be55102178e\n'}]",7,883182,3367fdd997f120989dc6b7018cb355b0119eb821,26,7,5,35621,,,0,"[srbac] Testing Volume Actions

Adding Reader srbac tests with volume action operations

Depends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986
Change-Id: Ic60eec73361dbdda68d4308140560be55102178e
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/82/883182/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/rbac/v3/test_volume_actions.py'],1,7e051dfbcf5697a0a02d3c12ed84d3ac9ed3676a,secure-rbac,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest import config from tempest.lib import decorators from tempest.lib import exceptions from cinder_tempest_plugin.api.volume import base from cinder_tempest_plugin.rbac.v3 import base as rbac_base CONF = config.CONF class VolumeV3RbacVolumeActionsTests(rbac_base.VolumeV3RbacBaseTests): @classmethod def setup_clients(cls): super().setup_clients() cls.vol_other_client = cls.os_project_admin.volumes_client_latest def _extend_volume(self, expected_status): """"""Test extend_volume operation. Args: expected_status: The expected HTTP response code """""" volume_id = self.create_volume(client=self.vol_other_client) self.do_request( method='extend_volume', volume_id=volume_id, new_size=2, expected_status=expected_status ) def _reset_volume_status(self, expected_status): """"""Test reset_volume_status operation. Args: expected_status: The expected HTTP response code """""" volume_id = self.create_volume(client=self.vol_other_client) self.do_request( method='reset_volume_status', volume_id=volume_id, status='error', expected_status=expected_status ) def _retype_volume(self, expected_status): """"""Test retype_volume operation. Args: expected_status: The expected HTTP response code """""" volume_id = self.create_volume(client=self.vol_other_client) self.do_request( method='retype_volume', volume_id=volume_id, new_type='dedup-tier-replicaton', expected_status=expected_status ) def _update_volume_readonly(self, expected_status): """"""Test update_volume_readonly operation. Args: expected_status: The expected HTTP response code """""" volume_id = self.create_volume(client=self.vol_other_client) self.do_request( method='update_volume_readonly', volume_id=volume_id, readonly=True, expected_status=expected_status ) def _force_delete_volume(self, expected_status): """"""Test force_delete_volume operation. Args: expected_status: The expected HTTP response code """""" volume_id = self.create_volume(client=self.vol_other_client) self.do_request( method='force_delete_volume', volume_id=volume_id, expected_status=expected_status ) def _reserve_volume(self, expected_status): """"""Test reserve_volume operation. Args: expected_status: The expected HTTP response code """""" volume_id = self.create_volume(client=self.vol_other_client) self.do_request( method='reserve_volume', volume_id=volume_id, expected_status=expected_status ) def _unreserve_volume(self, expected_status): """"""Test unreserve_volume operation. Args: expected_status: The expected HTTP response code """""" volume_id = self.create_volume(client=self.vol_other_client) self.do_request( method='unreserve_volume', volume_id=volume_id, expected_status=expected_status ) class ProjectReaderTests(VolumeV3RbacVolumeActionsTests): credentials = ['project_reader', 'project_admin'] @classmethod def setup_clients(cls): super().setup_clients() cls.client = cls.os_project_reader.volumes_client_latest @decorators.idempotent_id('4d721c58-2f6f-4857-8f4f-0664d5f7bf49') def test_extend_volume(self): self._extend_volume(expected_status=exceptions.Forbidden) @decorators.idempotent_id('434b454a-5cbe-492d-a416-70b8ff41f636') def test_reset_volume_status(self): self._reset_volume_status(expected_status=exceptions.Forbidden) @decorators.idempotent_id('4675295a-7c72-4b04-8a43-03d7c88ab6bf') def test_retype_volume(self): self._retype_volume(expected_status=exceptions.Forbidden) @decorators.idempotent_id('3beecd52-e314-40d8-875d-a0e7db8dd88f') def test_update_volume_readonly(self): self._update_volume_readonly(expected_status=exceptions.Forbidden) @decorators.idempotent_id('d2c13bf9-267a-4a71-be5c-391f22e9b433') def test_force_delete_volume(self): self._force_delete_volume(expected_status=exceptions.Forbidden) @decorators.idempotent_id('d2c13bf9-267a-4a71-be5c-391f22e9b433') def test_reserve_volume(self): self._reserve_volume(expected_status=exceptions.Forbidden) @decorators.idempotent_id('725d85cf-96b2-4338-98f4-2f468099c4ed') def test_unreserve_volume(self): self._unreserve_volume(expected_status=exceptions.Forbidden) gg",,151,0
openstack%2Fopenstack-ansible-os_nova~stable%2Fzed~Ic6f2606b5a478c7a891c25bd131ad351a19699bc,openstack/openstack-ansible-os_nova,stable/zed,Ic6f2606b5a478c7a891c25bd131ad351a19699bc,Install libvirt-deamon for RHEL systems,MERGED,2023-05-26 07:18:10.000000000,2023-05-30 19:48:15.000000000,2023-05-30 19:47:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-26 07:18:10.000000000', 'files': ['releasenotes/notes/install_libvirt_daemon_centos-9826ecb428bce8a5.yaml', 'vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/c2045ba40e10c3c8866102fc8cc07b322a503a86', 'message': 'Install libvirt-deamon for RHEL systems\n\nCentOS has upgraded their libivrt to version 9.3, where libvirt-daemon\nis not installed as a dependency anymore. So we need to explicitly\nisntall this package to restore functionality.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2209936\n\nChange-Id: Ic6f2606b5a478c7a891c25bd131ad351a19699bc\n(cherry picked from commit 47007578b164287c5bbbf425222cd8a53a37a306)\n'}]",1,884380,c2045ba40e10c3c8866102fc8cc07b322a503a86,10,3,1,28619,,,0,"Install libvirt-deamon for RHEL systems

CentOS has upgraded their libivrt to version 9.3, where libvirt-daemon
is not installed as a dependency anymore. So we need to explicitly
isntall this package to restore functionality.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2209936

Change-Id: Ic6f2606b5a478c7a891c25bd131ad351a19699bc
(cherry picked from commit 47007578b164287c5bbbf425222cd8a53a37a306)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/80/884380/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/install_libvirt_daemon_centos-9826ecb428bce8a5.yaml', 'vars/redhat.yml']",2,c2045ba40e10c3c8866102fc8cc07b322a503a86,, - libvirt-daemon,,8,0
openstack%2Fmagnum-tempest-plugin~master~I584134997effca82becc47fbc3856a001d4f588c,openstack/magnum-tempest-plugin,master,I584134997effca82becc47fbc3856a001d4f588c,WIP: Test cluster create and delete,NEW,2023-05-25 11:52:07.000000000,2023-05-30 19:30:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-25 11:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/f043e314c313eb51f93dd9f6f438191cdc6cc890', 'message': 'WIP: Test Cluster API driver\n\nWe use a nested virt node to actually create a realy k8s cluster.\nKeep the old driver test for the older branches.\n\nWe need the new driver for this test config to work\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/851076\n\nstory: 2009780\n\nCo-Authored-By: Tyler Christie<tyler@stackhpc.com>\n\nChange-Id: I584134997effca82becc47fbc3856a001d4f588c\n'}, {'number': 2, 'created': '2023-05-25 11:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/71cb1878f6a2309b835e720e4d4a2d10345ed9e4', 'message': 'WIP: Test Cluster API driver\n\nWe use a nested virt node to actually create a realy k8s cluster.\nKeep the old driver test for the older branches.\n\nWe need the new driver for this test config to work\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/851076\n\nstory: 2009780\n\nCo-Authored-By: Tyler Christie<tyler@stackhpc.com>\n\nChange-Id: I584134997effca82becc47fbc3856a001d4f588c\n'}, {'number': 3, 'created': '2023-05-25 13:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/1565282075211f6fe8131b788f09d75acbb861e0', 'message': 'WIP: Test Cluster API driver\n\nWe use a nested virt node to actually create a realy k8s cluster.\nKeep the old driver test for the older branches.\n\nWe need the new driver for this test config to work\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/851076\n\nstory: 2009780\n\nCo-Authored-By: Tyler Christie<tyler@stackhpc.com>\n\nChange-Id: I584134997effca82becc47fbc3856a001d4f588c\n'}, {'number': 4, 'created': '2023-05-25 14:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/c61141ead581ab33b61d18d9f2d5b6e37a0623f0', 'message': 'WIP: Test Cluster API driver\n\nWe use a nested virt node to actually create a realy k8s cluster.\nKeep the old driver test for the older branches.\n\nWe need the new driver for this test config to work\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/851076\n\nstory: 2009780\n\nCo-Authored-By: Tyler Christie<tyler@stackhpc.com>\n\nChange-Id: I584134997effca82becc47fbc3856a001d4f588c\n'}, {'number': 5, 'created': '2023-05-25 15:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/4191305fefdada9d59630c851a587cbecbd646a7', 'message': 'WIP: Test Cluster API driver\n\nWe use a nested virt node to actually create a realy k8s cluster.\nKeep the old driver test for the older branches.\n\nWe need the new driver for this test config to work\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/851076\n\nstory: 2009780\n\nCo-Authored-By: Tyler Christie<tyler@stackhpc.com>\n\nChange-Id: I584134997effca82becc47fbc3856a001d4f588c\n'}, {'number': 6, 'created': '2023-05-26 11:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/c47d465567547b1df8e8b0977d8692d37fe2dfa8', 'message': 'WIP: Test Cluster API driver\n\nWe use a nested virt node to actually create a realy k8s cluster.\nKeep the old driver test for the older branches.\n\nWe need the new driver for this test config to work\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/851076\n\nstory: 2009780\n\nCo-Authored-By: Tyler Christie<tyler@stackhpc.com>\n\nChange-Id: I584134997effca82becc47fbc3856a001d4f588c\n'}, {'number': 7, 'created': '2023-05-26 12:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/4033c256637ab9d2837debd7abae914ef9cb522f', 'message': 'WIP: Test Cluster API driver\n\nWe use a nested virt node to actually create a real k8s cluster.\nKeep the old driver test for the older branches.\n\nWe need the new driver for this test config to work\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/851076\n\nstory: 2009780\n\nCo-Authored-By: Tyler Christie<tyler@stackhpc.com>\n\nChange-Id: I584134997effca82becc47fbc3856a001d4f588c\n'}, {'number': 8, 'created': '2023-05-26 16:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/71159c8162a0ef0d4a8715087f74d397c84d6e1d', 'message': 'WIP: Test Cluster API driver\n\nWe use a nested virt node to actually create a real k8s cluster.\nKeep the old driver test for the older branches.\n\nWe need the new driver for this test config to work\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/851076\n\nstory: 2009780\n\nCo-Authored-By: Tyler Christie<tyler@stackhpc.com>\n\nChange-Id: I584134997effca82becc47fbc3856a001d4f588c\n'}, {'number': 9, 'created': '2023-05-30 16:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/59bb5d1a855f3ad8ee50f086aab6a0db84feb3ab', 'message': ""WIP: Test cluster create and delete\n\nCurrently we never attempt to create a cluster in any check or\ngate tests. The Cluster API driver seems to be quick enough\nfor this to be possible in the gate using a nested virt enabled node.\n\nIn this patch we move the existing test setup to be renamed to note\nit is heat driver specific.\nWe add a new test configuration that creates templates that make\nuse of the new Cluster API driver.\n\nWe then enable this test that will create and delete a cluster:\ntest_create_list_sign_delete_clusters\n\nNote, we can only run this one test, because of a bug in the setup\nand tear down logic that delete's the dynamic credentials before\nour test is even executed. The other negatives tests seem to pass\nOK despite the project having been deleted. We will fix this in a follow\nup test.\n\nWe need the new driver for this test config to work, so we depend on the\nfirst patch in the ClusterAPI driver series that will pass this test:\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/851076\n\nstory: 2009780\n\nCo-Authored-By: Tyler Christie<tyler@stackhpc.com>\n\nChange-Id: I584134997effca82becc47fbc3856a001d4f588c\n""}, {'number': 10, 'created': '2023-05-30 17:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/27ad22f1e2c2663e7d367d2897c8c1250701d9e3', 'message': 'WIP: Test cluster create and delete\n\nCurrently we never test create or delete of a cluster.\nThe Cluster API driver seems to be quick enough\nfor this to be possible in the gate\nusing a nested virt enabled node.\n\nThe current test setup, using the heat driver, is retained for both\nmaster and all the stable branches. The new Cluster API driver is targeted\nby using a different image referenced in the cluster template.\n\nTo do this, we enable this test that will create and delete a cluster:\ntest_create_list_sign_delete_clusters\n\nNote, we can only run this one test in that test class because the setup\nand teardown logic is broken right now. We have issues in that the keystone\nproject gets deleted before we attempt to create the cluster.\nWe will fix this in a follow up patch.\n\nFor this test to pass, we need the new cluster api driver to exist, and\nas such we depend on the first patch in the ClusterAPI driver series that\nsupports creating and deleting clusters:\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/851076\n\nstory: 2009780\n\nCo-Authored-By: Tyler Christie<tyler@stackhpc.com>\n\nChange-Id: I584134997effca82becc47fbc3856a001d4f588c\n'}, {'number': 11, 'created': '2023-05-30 18:46:55.000000000', 'files': ['playbooks/collect-capi-logs.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/8abcd79e2daa3ea907fcbbc7c40bbfeec8b8bbed', 'message': 'WIP: Test cluster create and delete\n\nCurrently we never test create or delete of a cluster.\nThe Cluster API driver seems to be quick enough\nfor this to be possible in the gate\nusing a nested virt enabled node.\n\nThe current test setup, using the heat driver, is retained for both\nmaster and all the stable branches. The new Cluster API driver is targeted\nby using a different image referenced in the cluster template.\n\nTo do this, we enable this test that will create and delete a cluster:\ntest_create_list_sign_delete_clusters\n\nNote, we can only run this one test in that test class because the setup\nand teardown logic is broken right now. We have issues in that the keystone\nproject gets deleted before we attempt to create the cluster.\nWe will fix this in a follow up patch.\n\nFor this test to pass, we need the new cluster api driver to exist, and\nas such we depend on the first patch in the ClusterAPI driver series that\nsupports creating and deleting clusters:\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/851076\n\nstory: 2009780\n\nCo-Authored-By: Tyler Christie<tyler@stackhpc.com>\n\nChange-Id: I584134997effca82becc47fbc3856a001d4f588c\n'}]",2,884366,8abcd79e2daa3ea907fcbbc7c40bbfeec8b8bbed,22,1,11,782,,,0,"WIP: Test cluster create and delete

Currently we never test create or delete of a cluster.
The Cluster API driver seems to be quick enough
for this to be possible in the gate
using a nested virt enabled node.

The current test setup, using the heat driver, is retained for both
master and all the stable branches. The new Cluster API driver is targeted
by using a different image referenced in the cluster template.

To do this, we enable this test that will create and delete a cluster:
test_create_list_sign_delete_clusters

Note, we can only run this one test in that test class because the setup
and teardown logic is broken right now. We have issues in that the keystone
project gets deleted before we attempt to create the cluster.
We will fix this in a follow up patch.

For this test to pass, we need the new cluster api driver to exist, and
as such we depend on the first patch in the ClusterAPI driver series that
supports creating and deleting clusters:

Depends-On: https://review.opendev.org/c/openstack/magnum/+/851076

story: 2009780

Co-Authored-By: Tyler Christie<tyler@stackhpc.com>

Change-Id: I584134997effca82becc47fbc3856a001d4f588c
",git fetch https://review.opendev.org/openstack/magnum-tempest-plugin refs/changes/66/884366/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/collect-capi-logs.yaml', '.zuul.yaml']",2,f043e314c313eb51f93dd9f6f438191cdc6cc890,," - magnum-tempest-plugin-tests-api-heat parent: magnum-tempest-plugin-tests-api-heat parent: magnum-tempest-plugin-tests-api-heat parent: magnum-tempest-plugin-tests-api-heat name: magnum-tempest-plugin-tests-api-heat - nodeset: name: magnum-nested-virt-ubuntu-focal nodes: - name: controller label: nested-virt-ubuntu-focal groups: - name: tempest nodes: - controller - job: name: magnum-tempest-plugin-tests-api parent: devstack-tempest nodeset: magnum-nested-virt-ubuntu-focal required-projects: - openstack/magnum - openstack/python-magnumclient # TODO: can we remove heat? - openstack/heat - openstack/barbican - openstack/magnum-tempest-plugin - openstack/octavia - openstack/octavia-lib - openstack/diskimage-builder roles: - zuul: openstack/neutron-tempest-plugin irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^specs/.*$ - ^install-guide/.*$ - ^releasenotes/.*$ - ^dockerfiles/.*$ vars: zuul_copy_output: '/var/log/dib-build': logs '/var/log/octavia-amphora.log': logs '/var/log/octavia-tenant-traffic.log': logs './capi-kube.log': logs tempest_plugins: - magnum-tempest-plugin - octavia-tempest-plugin tempest_concurrency: 1 tempest_test_regex: ^magnum_tempest_plugin.tests.api # make sure we run list_sign_delete_clusters tempest_exclude_regex: (test_create_cluster_with_zero_nodes) devstack_plugins: neutron: https://opendev.org/openstack/neutron.git octavia: https://opendev.org/openstack/octavia.git magnum: https://opendev.org/openstack/magnum.git heat: https://opendev.org/openstack/heat.git barbican: https://opendev.org/openstack/barbican.git devstack_services: base: false barbican: true dstat: true g-api: true g-reg: true key: true memory_tracker: true mysql: true n-api: true n-api-meta: true n-cauth: true n-cond: true n-cpu: true n-obj: true n-sch: true neutron-qos: true octavia: true o-api-ha: true o-api: true o-cw: true o-hm: true o-hk: true ovn-controller: true ovn-northd: true ovn-vswitchd: true ovsdb-server: true placement-api: true q-agt: false q-dhcp: false q-l3: false q-meta: false q-ovn-metadata-agent: true q-svc: true rabbit: true tempest: true tls-proxy: true magnum-api: true magnum-cond: true tox_envlist: all post-run: playbooks/collect-capi-logs.yaml devstack_local_conf: post-config: $OCTAVIA_CONF: controller_worker: loadbalancer_topology: SINGLE test-config: $TEMPEST_CONFIG: load_balancer: loadbalancer_topology: SINGLE magnum: image_id: ubuntu-focal-kube-v1.26.3-230411-1504 nic_id: public keypair_id: default flavor_id: ds2G20 master_flavor_id: ds2G20 cluster_creation_timeout: 15 auth: tempest_roles: creator, member, load-balancer_member configure_swap_size: 8192 devstack_localrc: USE_PYTHON3: true LIBVIRT_TYPE: kvm LIBVIRT_CPU_MODE: host-passthrough # NOTE: extend default glance limit from 1GB GLANCE_LIMIT_IMAGE_SIZE_TOTAL: 10000 OCTAVIA_USE_PREGENERATED_CERTS: true # add image for the magnum cluster api template above MAGNUM_GUEST_IMAGE_URL: https://object.arcus.openstack.hpc.cam.ac.uk/swift/v1/AUTH_f0dc9cb312144d0aa44037c9149d2513/azimuth-images-prerelease/ubuntu-focal-kube-v1.26.3-230411-1504.qcow2 MAGNUM_IMAGE_NAME: ubuntu-focal-kube-v1.26.3-230411-1504 MAGNUM_IMAGE_KUBE_VERSION: v1.26.3", parent: magnum-tempest-plugin-tests-api parent: magnum-tempest-plugin-tests-api parent: magnum-tempest-plugin-tests-api name: magnum-tempest-plugin-tests-api,140,4
openstack%2Fbarbican~master~If20fc134ff55494915b58872122888823edf31b3,openstack/barbican,master,If20fc134ff55494915b58872122888823edf31b3,Vault: enable RSA from ordered container functional test,NEW,2020-11-25 14:49:15.000000000,2023-05-30 19:28:46.000000000,,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9542}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34120}, {'_account_id': 35125}]","[{'number': 1, 'created': '2020-11-25 14:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/6150770e2f3075904c8d9c10d2362815bda78050', 'message': 'Vault: enable RSA from ordered container functional test\n\nThis functional test was being skipped, but seems to pass. Others\ncurrently being skipped still do not pass.\n\nChange-Id: If20fc134ff55494915b58872122888823edf31b3\n'}, {'number': 2, 'created': '2020-11-26 14:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/82dd277e0496ba50306121b76487efa4476bfa1e', 'message': 'Vault: enable RSA from ordered container functional test\n\nThis functional test was being skipped, but seems to pass. Others\ncurrently being skipped still do not pass.\n\nChange-Id: If20fc134ff55494915b58872122888823edf31b3\n'}, {'number': 3, 'created': '2020-11-26 16:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/86065a3995a5b20436782253ff4935673a61b862', 'message': 'Vault: enable RSA from ordered container functional test\n\nThis functional test was being skipped, but seems to pass. Others\ncurrently being skipped still do not pass.\n\nDepends-On: https://review.opendev.org/763835\n\nChange-Id: If20fc134ff55494915b58872122888823edf31b3\n'}, {'number': 4, 'created': '2021-12-08 16:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/55a3e9b631c407fff6f8915b6df86845b9e38736', 'message': 'Vault: enable RSA from ordered container functional test\n\nThis functional test was being skipped, but seems to pass. Others\ncurrently being skipped still do not pass.\n\nDepends-On: https://review.opendev.org/763835\n\nChange-Id: If20fc134ff55494915b58872122888823edf31b3\n'}, {'number': 5, 'created': '2021-12-20 12:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/8d8e8abcce2edf6adebb63a560236ed165ee5b16', 'message': 'Vault: enable RSA from ordered container functional test\n\nThis functional test was being skipped, but seems to pass. Others\ncurrently being skipped still do not pass.\n\nDepends-On: https://review.opendev.org/763835\n\nChange-Id: If20fc134ff55494915b58872122888823edf31b3\n'}, {'number': 6, 'created': '2021-12-20 12:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/956c055d076654c3ba0fc3650aacecdd31c4435c', 'message': 'Vault: enable RSA from ordered container functional test\n\nThis functional test was being skipped, but seems to pass. Others\ncurrently being skipped still do not pass.\n\nChange-Id: If20fc134ff55494915b58872122888823edf31b3\n'}, {'number': 7, 'created': '2022-07-26 08:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/5a88217e76e466d255958997f10e486f06b16823', 'message': 'Vault: enable RSA from ordered container functional test\n\nThis functional test was being skipped, but seems to pass. Others\ncurrently being skipped still do not pass.\n\nChange-Id: If20fc134ff55494915b58872122888823edf31b3\n'}, {'number': 8, 'created': '2023-03-01 12:56:02.000000000', 'files': ['functionaltests/api/v1/functional/test_rsa.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/1a6c038ddb0de7f775c660cd853f9144311c292b', 'message': 'Vault: enable RSA from ordered container functional test\n\nThis functional test was being skipped, but seems to pass. Others\ncurrently being skipped still do not pass.\n\nChange-Id: If20fc134ff55494915b58872122888823edf31b3\n'}]",3,764203,1a6c038ddb0de7f775c660cd853f9144311c292b,22,9,8,14826,,,0,"Vault: enable RSA from ordered container functional test

This functional test was being skipped, but seems to pass. Others
currently being skipped still do not pass.

Change-Id: If20fc134ff55494915b58872122888823edf31b3
",git fetch https://review.opendev.org/openstack/barbican refs/changes/03/764203/8 && git format-patch -1 --stdout FETCH_HEAD,['functionaltests/api/v1/functional/test_rsa.py'],1,6150770e2f3075904c8d9c10d2362815bda78050,," @testtools.skipIf(utils.is_pkcs11_enabled(), ""PKCS11 does not support this operation"")"," @testtools.skipIf(utils.is_vault_enabled() or utils.is_pkcs11_enabled(), ""Vault does not support this operation"")",2,2
openstack%2Fbarbican~master~I8f6a1d80734c782f2da08a0b196342fe05fdbd3d,openstack/barbican,master,I8f6a1d80734c782f2da08a0b196342fe05fdbd3d,Bump Hashicorp Vault version to 1.13.2,NEW,2023-05-29 13:05:41.000000000,2023-05-30 19:21:27.000000000,,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 34120}, {'_account_id': 35125}]","[{'number': 1, 'created': '2023-05-29 13:05:41.000000000', 'files': ['devstack/lib/barbican'], 'web_link': 'https://opendev.org/openstack/barbican/commit/100c8d078a6fca39a4f84654d4619e95259a09ce', 'message': 'Bump Hashicorp Vault version to 1.13.2\n\nWe are currently testing with a very old version\nand we should try with a newer one.\n\nChange-Id: I8f6a1d80734c782f2da08a0b196342fe05fdbd3d\n'}]",0,884616,100c8d078a6fca39a4f84654d4619e95259a09ce,3,7,1,16137,,,0,"Bump Hashicorp Vault version to 1.13.2

We are currently testing with a very old version
and we should try with a newer one.

Change-Id: I8f6a1d80734c782f2da08a0b196342fe05fdbd3d
",git fetch https://review.opendev.org/openstack/barbican refs/changes/16/884616/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/barbican'],1,100c8d078a6fca39a4f84654d4619e95259a09ce,, wget https://releases.hashicorp.com/vault/1.13.2/vault_1.13.2_linux_amd64.zip unzip vault_1.13.2_linux_amd64.zip, wget https://releases.hashicorp.com/vault/1.3.0/vault_1.3.0_linux_amd64.zip unzip vault_1.3.0_linux_amd64.zip,2,2
openstack%2Fdesignate~master~Idc21c18bb7689b857f3892634e030930a68f4765,openstack/designate,master,Idc21c18bb7689b857f3892634e030930a68f4765,Add manage cmd tests,MERGED,2023-05-27 00:47:26.000000000,2023-05-30 19:14:15.000000000,2023-05-30 19:13:09.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-27 00:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c38f982c0ccfa5b40c04c721bfe5aa5cebea3e94', 'message': 'Add manage cmd tests\n\nChange-Id: Idc21c18bb7689b857f3892634e030930a68f4765\n'}, {'number': 2, 'created': '2023-05-27 00:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4380da565ad4e88cb36e2199077f60731aa99f71', 'message': 'Add manage cmd tests\n\nChange-Id: Idc21c18bb7689b857f3892634e030930a68f4765\n'}, {'number': 3, 'created': '2023-05-27 01:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/89372c39191a4f285b1419cd9def2471034417de', 'message': 'Add manage cmd tests\n\nChange-Id: Idc21c18bb7689b857f3892634e030930a68f4765\n'}, {'number': 4, 'created': '2023-05-27 01:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ed3e341ebd52c62fd95b5f277fddd4b35603ed5d', 'message': 'Add manage cmd tests\n\nChange-Id: Idc21c18bb7689b857f3892634e030930a68f4765\n'}, {'number': 5, 'created': '2023-05-27 01:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f4088cf0d69d7800c53ff0d7d4742ae64c47b604', 'message': 'Add manage cmd tests\n\nChange-Id: Idc21c18bb7689b857f3892634e030930a68f4765\n'}, {'number': 6, 'created': '2023-05-27 02:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/fa715224bd2dcf327305f83dd9bd93a63c53781d', 'message': 'Add manage cmd tests\n\nChange-Id: Idc21c18bb7689b857f3892634e030930a68f4765\n'}, {'number': 7, 'created': '2023-05-28 04:42:03.000000000', 'files': ['designate/tests/unit/cmd/test_manage.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/661f0dd5175fb0334a7f0f6f1ff4482164d09b91', 'message': 'Add manage cmd tests\n\nChange-Id: Idc21c18bb7689b857f3892634e030930a68f4765\n'}]",1,884345,661f0dd5175fb0334a7f0f6f1ff4482164d09b91,15,2,7,22623,,,0,"Add manage cmd tests

Change-Id: Idc21c18bb7689b857f3892634e030930a68f4765
",git fetch https://review.opendev.org/openstack/designate refs/changes/45/884345/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/tests/unit/cmd/test_manage.py'],1,c38f982c0ccfa5b40c04c721bfe5aa5cebea3e94,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import sys from unittest import mock from oslo_config import cfg from oslo_config import fixture as cfg_fixture import oslotest.base from designate.cmd import manage CONF = cfg.CONF class ManageTestCase(oslotest.base.BaseTestCase): def setUp(self): super(ManageTestCase, self).setUp() self.useFixture(cfg_fixture.Config(CONF)) @mock.patch('oslo_config.cfg.ConfigOpts.__call__') @mock.patch('oslo_config.cfg.ConfigOpts.register_cli_opt') @mock.patch('oslo_log.log.setup') def test_main(self, mock_log_setup, register_cli_opt, config_opts_call): script_name = 'designate-manage' sys.argv = [script_name, 'config', 'list'] action_fn = mock.MagicMock() CONF.category = mock.MagicMock(action_fn=action_fn) manage.main() self.assertTrue(register_cli_opt.called) mock_log_setup.assert_called_with(mock.ANY, 'designate') config_opts_call.assert_called_once_with( ['config', 'list'], project='designate', prog='designate', default_config_files=['/etc/designate/designate.conf'] ) self.assertTrue(action_fn.called) def test_get_arg_string(self): self.assertEqual('bar', manage.get_arg_string('bar')) self.assertEqual('bar', manage.get_arg_string('-bar')) self.assertEqual('bar', manage.get_arg_string('--bar')) def test_methods_of(self): class foo(object): foo = 'bar' def public(self): pass def _private(self): pass methods = manage.methods_of(foo()) method_names = [method_name for method_name, method in methods] self.assertIn('public', method_names) self.assertNotIn('_private', method_names) self.assertNotIn('foo', method_names) def test_get_available_commands(self): available_commands = manage.get_available_commands() self.assertIn('database', available_commands) self.assertIn('pool', available_commands) self.assertIn('tlds', available_commands) ",,76,0
openstack%2Fkayobe~stable%2Fxena~I000ae473bb759e19b48ecefdbf5d5dc19c833088,openstack/kayobe,stable/xena,I000ae473bb759e19b48ecefdbf5d5dc19c833088,Show an error when *_bridge_ports is not a list,MERGED,2023-05-24 16:03:03.000000000,2023-05-30 19:13:27.000000000,2023-05-30 19:12:24.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-24 16:03:03.000000000', 'files': ['kayobe/tests/unit/plugins/filter/test_networks.py', 'kayobe/plugins/filter/networks.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0bf45b190c62785514991866a38ca70344b006c6', 'message': 'Show an error when *_bridge_ports is not a list\n\nCloses-Bug: #2020378\nChange-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 9b58320f6b40de3c33bee179d97dd0bf5bf61986)\n'}]",0,884244,0bf45b190c62785514991866a38ca70344b006c6,8,4,1,14200,,,0,"Show an error when *_bridge_ports is not a list

Closes-Bug: #2020378
Change-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 9b58320f6b40de3c33bee179d97dd0bf5bf61986)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/44/884244/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/plugins/filter/test_networks.py', 'kayobe/plugins/filter/networks.py']",2,0bf45b190c62785514991866a38ca70344b006c6,fix-bad-bridge-ports," ports = net_attr(context, name, 'bridge_ports', inventory_hostname) if ports and not isinstance(ports, list): raise errors.AnsibleFilterError(""Bridge ports for network '%s' should"" "" be a list"", name) return ports"," return net_attr(context, name, 'bridge_ports', inventory_hostname)",11,1
openstack%2Fcharm-keystone~stable%2Ftrain~Ia7622a41467aa963b4940171d1aa718e3b9fcf8d,openstack/charm-keystone,stable/train,Ia7622a41467aa963b4940171d1aa718e3b9fcf8d,charm-helpers sync,MERGED,2023-05-30 13:04:25.000000000,2023-05-30 19:04:19.000000000,2023-05-30 19:04:19.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 13:04:25.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/storage/linux/ceph.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/11454ac2acb25f35d3a95331ce6935bc577566fd', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get the bug fix when keystone leader fails\nto connect to itself while running identity-service-relation-changed\nhook.\n\nCloses-Bug: #2015103\nChange-Id: Ia7622a41467aa963b4940171d1aa718e3b9fcf8d\n'}]",2,884691,11454ac2acb25f35d3a95331ce6935bc577566fd,9,4,1,11805,,,0,"charm-helpers sync

Synchronize charm-helpers to get the bug fix when keystone leader fails
to connect to itself while running identity-service-relation-changed
hook.

Closes-Bug: #2015103
Change-Id: Ia7622a41467aa963b4940171d1aa718e3b9fcf8d
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/91/884691/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/storage/linux/ceph.py']",3,11454ac2acb25f35d3a95331ce6935bc577566fd,bug/2015103," octopus_or_later = cmp_pkgrevno('ceph-common', '15.0.0') >= 0 mon_status_cmd = 'quorum_status' if octopus_or_later else 'mon_status' mon_status_cmd, '--format=json'])"," 'mon_status', '--format=json'])",16,2
openstack%2Fcharm-keystone~stable%2Fussuri~I26c7659484815a15da8d36590a4e77c01a4b17bf,openstack/charm-keystone,stable/ussuri,I26c7659484815a15da8d36590a4e77c01a4b17bf,charm-helpers sync,MERGED,2023-05-30 13:00:24.000000000,2023-05-30 19:04:18.000000000,2023-05-30 19:04:18.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 13:00:24.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/6f426f3a66f0a4f93e0c319ec098f36e4042ec0a', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get the bug fix when keystone leader fails\nto connect to itself while running identity-service-relation-changed\nhook.\n\nCloses-Bug: #2015103\nChange-Id: I26c7659484815a15da8d36590a4e77c01a4b17bf\n'}]",2,884690,6f426f3a66f0a4f93e0c319ec098f36e4042ec0a,9,4,1,11805,,,0,"charm-helpers sync

Synchronize charm-helpers to get the bug fix when keystone leader fails
to connect to itself while running identity-service-relation-changed
hook.

Closes-Bug: #2015103
Change-Id: I26c7659484815a15da8d36590a4e77c01a4b17bf
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/90/884690/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken']",12,6f426f3a66f0a4f93e0c319ec098f36e4042ec0a,bug/2015103,{% if service_type -%} service_type = {{ service_type }} {% endif -%},,52,3
openstack%2Fcharm-keystone~stable%2Fvictoria~I5282304131a73ef572430cba98c9b0d3a52f0877,openstack/charm-keystone,stable/victoria,I5282304131a73ef572430cba98c9b0d3a52f0877,charm-helpers sync,MERGED,2023-05-30 12:59:36.000000000,2023-05-30 19:04:17.000000000,2023-05-30 19:04:17.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 12:59:36.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/3c45852e864202a92568ca25302e9f1610d60b59', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get the bug fix when keystone leader fails\nto connect to itself while running identity-service-relation-changed\nhook.\n\nCloses-Bug: #2015103\nChange-Id: I5282304131a73ef572430cba98c9b0d3a52f0877\n'}]",2,884689,3c45852e864202a92568ca25302e9f1610d60b59,9,4,1,11805,,,0,"charm-helpers sync

Synchronize charm-helpers to get the bug fix when keystone leader fails
to connect to itself while running identity-service-relation-changed
hook.

Closes-Bug: #2015103
Change-Id: I5282304131a73ef572430cba98c9b0d3a52f0877
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/89/884689/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken']",12,3c45852e864202a92568ca25302e9f1610d60b59,bug/2015103,{% if service_type -%} service_type = {{ service_type }} {% endif -%},,52,3
openstack%2Fcharm-keystone~stable%2Fwallaby~I4c354effe70df10e01ceb70ef9e223a99ebd42cd,openstack/charm-keystone,stable/wallaby,I4c354effe70df10e01ceb70ef9e223a99ebd42cd,charm-helpers sync,MERGED,2023-05-30 12:58:48.000000000,2023-05-30 19:04:15.000000000,2023-05-30 19:04:15.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 12:58:48.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/9670b7dac8f5fa5e3b2d7d43180dbd2110ec95e6', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get the bug fix when keystone leader fails\nto connect to itself while running identity-service-relation-changed\nhook.\n\nCloses-Bug: #2015103\nChange-Id: I4c354effe70df10e01ceb70ef9e223a99ebd42cd\n'}]",2,884688,9670b7dac8f5fa5e3b2d7d43180dbd2110ec95e6,9,4,1,11805,,,0,"charm-helpers sync

Synchronize charm-helpers to get the bug fix when keystone leader fails
to connect to itself while running identity-service-relation-changed
hook.

Closes-Bug: #2015103
Change-Id: I4c354effe70df10e01ceb70ef9e223a99ebd42cd
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/88/884688/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken']",12,9670b7dac8f5fa5e3b2d7d43180dbd2110ec95e6,bug/2015103,{% if service_type -%} service_type = {{ service_type }} {% endif -%},,52,3
openstack%2Fcharm-keystone~stable%2Fxena~Ieb522471be927d51e3d5b8b30e21b73cda9ef56e,openstack/charm-keystone,stable/xena,Ieb522471be927d51e3d5b8b30e21b73cda9ef56e,charm-helpers sync,MERGED,2023-05-30 12:57:52.000000000,2023-05-30 19:04:14.000000000,2023-05-30 19:04:14.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 12:57:52.000000000', 'files': ['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/a03cc532a011efe3c4a5f98002256a97ffa728fa', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get the bug fix when keystone leader fails\nto connect to itself while running identity-service-relation-changed\nhook.\n\nCloses-Bug: #2015103\nChange-Id: Ieb522471be927d51e3d5b8b30e21b73cda9ef56e\n'}]",2,884687,a03cc532a011efe3c4a5f98002256a97ffa728fa,9,4,1,11805,,,0,"charm-helpers sync

Synchronize charm-helpers to get the bug fix when keystone leader fails
to connect to itself while running identity-service-relation-changed
hook.

Closes-Bug: #2015103
Change-Id: Ieb522471be927d51e3d5b8b30e21b73cda9ef56e
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/87/884687/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf']",11,a03cc532a011efe3c4a5f98002256a97ffa728fa,bug/2015103, KeepAliveTimeout 75 MaxKeepAliveRequests 1000 KeepAliveTimeout 75 MaxKeepAliveRequests 1000 KeepAliveTimeout 75 MaxKeepAliveRequests 1000,,46,2
openstack%2Fopenstack-ansible~stable%2Fzed~I17c8cbeb637921b38906b92601d56595a319603f,openstack/openstack-ansible,stable/zed,I17c8cbeb637921b38906b92601d56595a319603f,Use Zed Senlin version instead of master,MERGED,2023-05-25 17:06:47.000000000,2023-05-30 19:01:04.000000000,2023-05-30 18:58:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-25 17:06:47.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/503f3e8554df1623195293a23ed85c0e00ce4ff9', 'message': 'Use Zed Senlin version instead of master\n\nBy accident we were using master version of senlin rather then\nfrom stable/zed, which caused failures during installation.\n\nChange-Id: I17c8cbeb637921b38906b92601d56595a319603f\n'}]",0,884422,503f3e8554df1623195293a23ed85c0e00ce4ff9,8,3,1,28619,,,0,"Use Zed Senlin version instead of master

By accident we were using master version of senlin rather then
from stable/zed, which caused failures during installation.

Change-Id: I17c8cbeb637921b38906b92601d56595a319603f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/22/884422/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/defaults/repo_packages/openstack_services.yml'],1,503f3e8554df1623195293a23ed85c0e00ce4ff9,,senlin_git_install_branch: 37b888d5e7771ab5f23d8b58865261a58ea0ce1c senlin_git_track_branch: stable/zed,senlin_git_install_branch: 79d0d1f5f98b12b92de1ae906ca5402a58f882ee senlin_git_track_branch: master,2,2
openstack%2Fopenstack-ansible~stable%2F2023.1~I2fbc8f57a058c3f8b0e028ae9f9ebd87762aeca8,openstack/openstack-ansible,stable/2023.1,I2fbc8f57a058c3f8b0e028ae9f9ebd87762aeca8,Update TOX_CONSTRAINTS_FILE for stable/2023.1,MERGED,2023-05-30 15:34:43.000000000,2023-05-30 19:00:53.000000000,2023-05-30 18:58:28.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-30 15:34:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4c847f22ea2753b69c1ec1af105aff20dbfcf385', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/2023.1\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/2023.1 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I2fbc8f57a058c3f8b0e028ae9f9ebd87762aeca8\n'}]",0,884716,4c847f22ea2753b69c1ec1af105aff20dbfcf385,8,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/2023.1

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/2023.1 branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I2fbc8f57a058c3f8b0e028ae9f9ebd87762aeca8
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/16/884716/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4c847f22ea2753b69c1ec1af105aff20dbfcf385,create-2023.1, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1} {opts} {packages}, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fopenstack-ansible~stable%2Fzed~I9e7270c2236dfea7716d3efb787459ea947c2a17,openstack/openstack-ansible,stable/zed,I9e7270c2236dfea7716d3efb787459ea947c2a17,Remove unreadable unicode symbols,MERGED,2023-05-24 18:31:38.000000000,2023-05-30 18:59:45.000000000,2023-05-30 18:58:22.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-24 18:31:38.000000000', 'files': ['playbooks/ceph-rgw-keystone-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/11d8a0652f3b9f6638e26b85ce98de451815d6af', 'message': 'Remove unreadable unicode symbols\n\nThere was No-Break space present in the file (U+00a0) which is now\nremoved with a regular space.\n\nChange-Id: I9e7270c2236dfea7716d3efb787459ea947c2a17\n(cherry picked from commit 555ec6abb770cf403b135fcc8673edb60a2f3912)\n'}]",1,884218,11d8a0652f3b9f6638e26b85ce98de451815d6af,8,3,1,28619,,,0,"Remove unreadable unicode symbols

There was No-Break space present in the file (U+00a0) which is now
removed with a regular space.

Change-Id: I9e7270c2236dfea7716d3efb787459ea947c2a17
(cherry picked from commit 555ec6abb770cf403b135fcc8673edb60a2f3912)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/18/884218/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/ceph-rgw-keystone-setup.yml'],1,11d8a0652f3b9f6638e26b85ce98de451815d6af,," default((openstack_service_setup_host | default('localhost') == 'localhost') | ternary(ansible_playbook_python, ansible_facts['python']['executable'])) }}"," default((openstack_service_setup_host | default('localhost') == 'localhost') | ternary(ansible_playbook_python, ansible_facts['python']['executable'])) }}",1,1
openstack%2Fopenstack-ansible~stable%2F2023.1~Idcf6456d22d1f643aa73b687c5adac2e72704e1b,openstack/openstack-ansible,stable/2023.1,Idcf6456d22d1f643aa73b687c5adac2e72704e1b,Update .gitreview for stable/2023.1,MERGED,2023-05-30 15:34:41.000000000,2023-05-30 18:59:43.000000000,2023-05-30 18:58:25.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-30 15:34:41.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b6161c687092b4275fad9d6743f147ec4e28be34', 'message': 'Update .gitreview for stable/2023.1\n\nChange-Id: Idcf6456d22d1f643aa73b687c5adac2e72704e1b\n'}]",0,884715,b6161c687092b4275fad9d6743f147ec4e28be34,7,2,1,22816,,,0,"Update .gitreview for stable/2023.1

Change-Id: Idcf6456d22d1f643aa73b687c5adac2e72704e1b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/15/884715/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,b6161c687092b4275fad9d6743f147ec4e28be34,create-2023.1,defaultbranch=stable/2023.1,,1,1
openstack%2Fswift~master~I04478c44957032e911069bcd4859caf3baaddb63,openstack/swift,master,I04478c44957032e911069bcd4859caf3baaddb63,docs: Add tempurl/formpost metrics,NEW,2023-05-30 18:40:07.000000000,2023-05-30 18:56:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-30 18:40:07.000000000', 'files': ['doc/source/metrics/proxy_server.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/9b8e5a5c955340f71fbe9dad314f6241bd126d91', 'message': 'docs: Add tempurl/formpost metrics\n\nChange-Id: I04478c44957032e911069bcd4859caf3baaddb63\n'}]",0,884767,9b8e5a5c955340f71fbe9dad314f6241bd126d91,2,1,1,15343,,,0,"docs: Add tempurl/formpost metrics

Change-Id: I04478c44957032e911069bcd4859caf3baaddb63
",git fetch https://review.opendev.org/openstack/swift refs/changes/67/884767/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/metrics/proxy_server.rst'],1,9b8e5a5c955340f71fbe9dad314f6241bd126d91,," ``tempurl`` Middleware ---------------------- ========================================== ==================================================== Metric Name Description ------------------------------------------ ---------------------------------------------------- ``proxy-server.tempurl.digests.<digest>`` Count of requests authorized using the specified ``<digest>``; may be one of ``sha1``, ``sha256``, or ``sha512``. ========================================== ==================================================== ``formpost`` Middleware ----------------------- ========================================== ==================================================== Metric Name Description ------------------------------------------ ---------------------------------------------------- ``proxy-server.formpost.digests.<digest>`` Count of requests authorized using the specified ``<digest>``; may be one of ``sha1``, ``sha256``, or ``sha512``. ========================================== ====================================================",,22,0
openstack%2Fdesignate~master~I235ac441456016c9bd9caf04637ec633812dc007,openstack/designate,master,I235ac441456016c9bd9caf04637ec633812dc007,Remove unused find_zone_share code,MERGED,2023-05-29 03:19:03.000000000,2023-05-30 18:45:10.000000000,2023-05-30 18:44:08.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 03:19:03.000000000', 'files': ['designate/storage/sqlalchemy/__init__.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/9620686529b38ff6c862f42c4183d035ea3156bf', 'message': 'Remove unused find_zone_share code\n\nChange-Id: I235ac441456016c9bd9caf04637ec633812dc007\n'}]",1,884347,9620686529b38ff6c862f42c4183d035ea3156bf,7,2,1,22623,,,0,"Remove unused find_zone_share code

Change-Id: I235ac441456016c9bd9caf04637ec633812dc007
",git fetch https://review.opendev.org/openstack/designate refs/changes/47/884347/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/storage/sqlalchemy/__init__.py'],1,9620686529b38ff6c862f42c4183d035ea3156bf,remove_find_zone_share,," def _find_zone_share(self, context, zone): criterion = { ""target_project_id"": context.project_id, ""zone_id"": zone.id } try: return self._find( context, tables.shared_zones, objects.SharedZone, objects.SharedZoneList, exceptions.SharedZoneNotFound, criterion, one=True ) except exceptions.SharedZoneNotFound: return None ",0,16
openstack%2Fkayobe~stable%2Fwallaby~I000ae473bb759e19b48ecefdbf5d5dc19c833088,openstack/kayobe,stable/wallaby,I000ae473bb759e19b48ecefdbf5d5dc19c833088,Show an error when *_bridge_ports is not a list,MERGED,2023-05-24 16:03:29.000000000,2023-05-30 18:41:30.000000000,2023-05-30 18:40:28.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-24 16:03:29.000000000', 'files': ['kayobe/tests/unit/plugins/filter/test_networks.py', 'kayobe/plugins/filter/networks.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8fb45c0aa856a8f12023f4205651632e20c8e282', 'message': 'Show an error when *_bridge_ports is not a list\n\nCloses-Bug: #2020378\nChange-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 9b58320f6b40de3c33bee179d97dd0bf5bf61986)\n'}]",0,884245,8fb45c0aa856a8f12023f4205651632e20c8e282,8,4,1,14200,,,0,"Show an error when *_bridge_ports is not a list

Closes-Bug: #2020378
Change-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 9b58320f6b40de3c33bee179d97dd0bf5bf61986)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/45/884245/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/plugins/filter/test_networks.py', 'kayobe/plugins/filter/networks.py']",2,8fb45c0aa856a8f12023f4205651632e20c8e282,fix-bad-bridge-ports," ports = net_attr(context, name, 'bridge_ports', inventory_hostname) if ports and not isinstance(ports, list): raise errors.AnsibleFilterError(""Bridge ports for network '%s' should"" "" be a list"", name) return ports"," return net_attr(context, name, 'bridge_ports', inventory_hostname)",11,1
openstack%2Fcharm-keystone~stable%2Fyoga~Id740e9666d1ed10dfcb587a0daf2d6565ff7baec,openstack/charm-keystone,stable/yoga,Id740e9666d1ed10dfcb587a0daf2d6565ff7baec,charm-helpers sync,MERGED,2023-05-30 12:56:50.000000000,2023-05-30 18:40:11.000000000,2023-05-30 18:40:11.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 12:56:50.000000000', 'files': ['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/network/ip.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/62fa41d4ae92d28a1631374482b9670364e9a1e9', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get the bug fix when keystone leader fails\nto connect to itself while running identity-service-relation-changed\nhook.\n\nCloses-Bug: #2015103\nChange-Id: Id740e9666d1ed10dfcb587a0daf2d6565ff7baec\n'}]",2,884686,62fa41d4ae92d28a1631374482b9670364e9a1e9,11,4,1,11805,,,0,"charm-helpers sync

Synchronize charm-helpers to get the bug fix when keystone leader fails
to connect to itself while running identity-service-relation-changed
hook.

Closes-Bug: #2015103
Change-Id: Id740e9666d1ed10dfcb587a0daf2d6565ff7baec
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/86/884686/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/fetch/ubuntu.py']",3,62fa41d4ae92d28a1631374482b9670364e9a1e9,bug/2015103," # OVN 'focal-ovn-22.03': 'focal-updates/ovn-22.03', 'focal-ovn-22.03/proposed': 'focal-proposed/ovn-22.03', (r""^cloud:(.*)-(ovn-.*)$"", _add_cloud_distro_check),def __write_sources_list_d_actual_pocket(file, actual_pocket): with open('/etc/apt/sources.list.d/{}'.format(file), 'w') as apt: apt.write(CLOUD_ARCHIVE.format(actual_pocket)) __write_sources_list_d_actual_pocket( 'cloud-archive{}.list'.format('' if 'ovn' not in pocket else '-ovn'), actual_pocket)"," with open('/etc/apt/sources.list.d/cloud-archive.list', 'w') as apt: apt.write(CLOUD_ARCHIVE.format(actual_pocket))",21,3
openstack%2Fcharm-cinder-ceph-k8s~main~I80e107a2649560c89952547a438da2f7a6634f38,openstack/charm-cinder-ceph-k8s,main,I80e107a2649560c89952547a438da2f7a6634f38,Switch to Antelope,MERGED,2023-05-29 18:25:50.000000000,2023-05-30 18:39:28.000000000,2023-05-30 18:12:27.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 18:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/9b4d9cd6147da4ab29c0254667283aa9661a87e3', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s).\n\nChange-Id: I80e107a2649560c89952547a438da2f7a6634f38\n'}, {'number': 2, 'created': '2023-05-30 07:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/1643cab80e46b51ac8c142961e4a21205e575214', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s).\n\nChange-Id: I80e107a2649560c89952547a438da2f7a6634f38\n'}, {'number': 3, 'created': '2023-05-30 17:00:08.000000000', 'files': ['osci.yaml', 'CONTRIBUTING.md', 'tests/bundles/smoke.yaml', 'lib/charms/NOTE.txt', 'metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/cd9a0b553f564ca0fdf9969f6fe7278cb6b91f1c', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s).\n\nChange-Id: I80e107a2649560c89952547a438da2f7a6634f38\n'}]",4,884639,cd9a0b553f564ca0fdf9969f6fe7278cb6b91f1c,21,3,3,12549,,,0,"Switch to Antelope

Switch charm to antelope rock(s).

Change-Id: I80e107a2649560c89952547a438da2f7a6634f38
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph-k8s refs/changes/39/884639/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'CONTRIBUTING.md', 'tests/bundles/smoke.yaml', 'metadata.yaml', 'README.md']",5,9b4d9cd6147da4ab29c0254667283aa9661a87e3,2023.1,The charm by default uses `ghcr.io/openstack-snaps/cinder-volume:2023.1`,The charm by default uses `docker.io/kolla/ubuntu-binary-cinder-ceph:yoga` image.,7,8
openstack%2Fcharm-keystone~stable%2Fzed~I8a473197146d9631433a84aa6dde83a74c514607,openstack/charm-keystone,stable/zed,I8a473197146d9631433a84aa6dde83a74c514607,charm-helpers sync,MERGED,2023-05-30 12:51:19.000000000,2023-05-30 18:34:39.000000000,2023-05-30 18:34:39.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 12:51:19.000000000', 'files': ['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/context.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/c8aca2e454abacce1a74b121087f5ab05637aebd', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get the bug fix when keystone leader fails\nto connect to itself while running identity-service-relation-changed\nhook.\n\nCloses-Bug: #2015103\nChange-Id: I8a473197146d9631433a84aa6dde83a74c514607\n'}]",2,884685,c8aca2e454abacce1a74b121087f5ab05637aebd,9,4,1,11805,,,0,"charm-helpers sync

Synchronize charm-helpers to get the bug fix when keystone leader fails
to connect to itself while running identity-service-relation-changed
hook.

Closes-Bug: #2015103
Change-Id: I8a473197146d9631433a84aa6dde83a74c514607
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/85/884685/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/context.py']",2,c8aca2e454abacce1a74b121087f5ab05637aebd,bug/2015103," adata = {} # if no app data bag presented - fallback # to legacy unit based relation data rdata = relation_get(rid=rid, unit=unit) adata[key.replace('-', '_')] = value.strip('v') else: adata[key.replace('-', '_')] = value adata[target] = _adata.get(source) # Now preferentially get data from the app data bag, but if # it's not available, get it from the legacy based relation # data. def _resolve(key): return adata.get(key) or rdata.get(key) serv_host = _resolve('service_host') auth_host = _resolve('auth_host') int_host = _resolve('internal_host',) svc_protocol = _resolve('service_protocol') or 'http' auth_protocol = _resolve('auth_protocol') or 'http' int_protocol = _resolve('internal_protocol') or 'http' api_version = _resolve('api_version') or '2.0' ctxt.update({'service_port': _resolve('service_port'), 'auth_port': _resolve('auth_port'), 'internal_port': _resolve('internal_port'), 'admin_tenant_name': _resolve('service_tenant'), 'admin_user': _resolve('service_username'), 'admin_password': _resolve('service_password'), service_type = _resolve('service_type') if service_type: ctxt['service_type'] = service_type 'admin_domain_name': _resolve('service_domain'), 'service_project_id': _resolve('service_tenant_id'), 'service_domain_id': _resolve('service_domain_id')}) public_auth_url = _resolve('public_auth_url') # if 'public_auth_url' in rdata: if public_auth_url: ctxt.update({ 'public_auth_url': public_auth_url, internal_auth_url = _resolve('internal_auth_url') # if 'internal_auth_url' in rdata: if internal_auth_url: ctxt.update({ 'internal_auth_url': internal_auth_url, ctxt['admin_tenant_id'] = _resolve('service_tenant_id') ctxt['admin_domain_id'] = _resolve('service_domain_id')"," rdata[key.replace('-', '_')] = value.strip('v') else: rdata[key.replace('-', '_')] = value rdata[target] = _adata.get(source) else: # No app data bag presented - fallback # to legacy unit based relation data rdata = relation_get(rid=rid, unit=unit) serv_host = rdata.get('service_host') auth_host = rdata.get('auth_host') int_host = rdata.get('internal_host') svc_protocol = rdata.get('service_protocol') or 'http' auth_protocol = rdata.get('auth_protocol') or 'http' int_protocol = rdata.get('internal_protocol') or 'http' api_version = rdata.get('api_version') or '2.0' ctxt.update({'service_port': rdata.get('service_port'), 'auth_port': rdata.get('auth_port'), 'internal_port': rdata.get('internal_port'), 'admin_tenant_name': rdata.get('service_tenant'), 'admin_user': rdata.get('service_username'), 'admin_password': rdata.get('service_password'), if rdata.get('service_type'): ctxt['service_type'] = rdata.get('service_type') 'admin_domain_name': rdata.get('service_domain'), 'service_project_id': rdata.get('service_tenant_id'), 'service_domain_id': rdata.get('service_domain_id')}) if 'public_auth_url' in rdata: ctxt.update({ 'public_auth_url': rdata.get('public_auth_url'), if 'internal_auth_url' in rdata: ctxt.update({ 'internal_auth_url': rdata.get('internal_auth_url'), ctxt['admin_tenant_id'] = rdata.get('service_tenant_id') ctxt['admin_domain_id'] = rdata.get('service_domain_id')",50,31
openstack%2Fwhitebox-tempest-plugin~master~I5282df3b20c24a909f3b7bb97214206bc07e5b91,openstack/whitebox-tempest-plugin,master,I5282df3b20c24a909f3b7bb97214206bc07e5b91,Test resize with mem_page_size in flavor,NEW,2022-01-14 18:38:46.000000000,2023-05-30 18:27:06.000000000,,"[{'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 27478}, {'_account_id': 31033}]","[{'number': 1, 'created': '2022-01-14 18:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/c30e5ed4287a5972524f952e9979ca65a19a54d9', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}, {'number': 2, 'created': '2022-01-21 15:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/515008f83c41819bd14cbc819c20bb63bef22b3a', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nDepends-on: https://review.opendev.org/#/c/825011\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}, {'number': 3, 'created': '2022-01-21 16:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/cf91db925fdea4db0ce634f0dd56f9efa2f60476', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nDepends-on: https://review.opendev.org/#/c/825011\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}, {'number': 4, 'created': '2022-01-28 14:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/d0406f908efc96f6605416ddec549a55bc14904b', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nDepends-on: https://review.opendev.org/#/c/825011\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}, {'number': 5, 'created': '2022-04-20 15:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/30eca9f4b731e4a00493d56c9810b1674d22931b', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nDepends-on: https://review.opendev.org/#/c/825011\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}, {'number': 6, 'created': '2022-04-20 18:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/dc413485eb133645ef307663b94e187da2cb1fd6', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nDepends-on: https://review.opendev.org/#/c/825011\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}, {'number': 7, 'created': '2022-04-23 14:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/961cf58e3c87f8a2760d6da02114cd21c9e467ed', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\nWe also need a new job that has multiple hugepage sizes configured. We\ncannot use our existing whitebox-devstack-multinode job because that\none runs tests that dynamically turn on file backed memory, which is\nincompatible with hugepages. This commit adds tasks into job setup\nthat allows for the setup of hugepages.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nDepends-on: https://review.opendev.org/#/c/825011\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}, {'number': 8, 'created': '2022-04-23 14:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/3910971a229c7b117ca8f3a61bf46d8dc3d239dd', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\nWe also need a new job that has multiple hugepage sizes configured. We\ncannot use our existing whitebox-devstack-multinode job because that\none runs tests that dynamically turn on file backed memory, which is\nincompatible with hugepages. This commit adds tasks into job setup\nthat allows for the setup of hugepages.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}, {'number': 9, 'created': '2022-04-23 14:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/45f651ba04ef8317753e2164d3322ffa83078b5a', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\nWe also need a new job that has multiple hugepage sizes configured. We\ncannot use our existing whitebox-devstack-multinode job because that\none runs tests that dynamically turn on file backed memory, which is\nincompatible with hugepages. This commit adds tasks into job setup\nthat allows for the setup of hugepages.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}, {'number': 10, 'created': '2022-04-23 15:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/9aa994568eb86b9d654ddcd973ec60b4990045f5', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\nWe also need a new job that has multiple hugepage sizes configured. We\ncannot use our existing whitebox-devstack-multinode job because that\none runs tests that dynamically turn on file backed memory, which is\nincompatible with hugepages. This commit adds tasks into job setup\nthat allows for the setup of hugepages.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}, {'number': 11, 'created': '2022-04-23 16:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/3bb6052b7a5bfbac19b8f013d9d129eb36cb18f9', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\nWe also need a new job that has multiple hugepage sizes configured. We\ncannot use our existing whitebox-devstack-multinode job because that\none runs tests that dynamically turn on file backed memory, which is\nincompatible with hugepages. This commit adds tasks into job setup\nthat allows for the setup of hugepages.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}, {'number': 12, 'created': '2022-04-24 15:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/e59627dd27a928b04c0514fc5401027b779a149f', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\nWe also need a new job that has multiple hugepage sizes configured. We\ncannot use our existing whitebox-devstack-multinode job because that\none runs tests that dynamically turn on file backed memory, which is\nincompatible with hugepages. This commit adds tasks into job setup\nthat allows for the setup of hugepages.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}, {'number': 13, 'created': '2022-04-24 15:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/5dbf16f61169fadb065ce955931d972f47ead553', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\nWe also need a new job that has multiple hugepage sizes configured. We\ncannot use our existing whitebox-devstack-multinode job because that\none runs tests that dynamically turn on file backed memory, which is\nincompatible with hugepages. This commit adds tasks into job setup\nthat allows for the setup of hugepages.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}, {'number': 14, 'created': '2022-04-24 16:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/d96553d8f69ac9fd9bd6b9c2c1002a904d13bdf0', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\nWe also need a new job that has multiple hugepage sizes configured. We\ncannot use our existing whitebox-devstack-multinode job because that\none runs tests that dynamically turn on file backed memory, which is\nincompatible with hugepages. This commit adds tasks into job setup\nthat allows for the setup of hugepages.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}, {'number': 15, 'created': '2022-04-24 16:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/5345622c01e14111959219443b12b5edddbce2ab', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\nWe also need a new job that has multiple hugepage sizes configured. We\ncannot use our existing whitebox-devstack-multinode job because that\none runs tests that dynamically turn on file backed memory, which is\nincompatible with hugepages. This commit adds tasks into job setup\nthat allows for the setup of hugepages.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}, {'number': 16, 'created': '2022-04-24 16:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/29ef9ab3f3744a48a2a0824540ae0f729531b9c7', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\nWe also need a new job that has multiple hugepage sizes configured. We\ncannot use our existing whitebox-devstack-multinode job because that\none runs tests that dynamically turn on file backed memory, which is\nincompatible with hugepages. This commit adds tasks into job setup\nthat allows for the setup of hugepages.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}, {'number': 17, 'created': '2022-04-24 18:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/f7f50950fe0f6ccfdb8ef1dbecdb8715c3a0fd8c', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\nWe also need a new job that has multiple hugepage sizes configured. We\ncannot use our existing whitebox-devstack-multinode job because that\none runs tests that dynamically turn on file backed memory, which is\nincompatible with hugepages. This commit adds tasks into job setup\nthat allows for the setup of hugepages.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}, {'number': 18, 'created': '2022-04-24 19:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/8e3edac8df4bf173bfe9ccedce00c1e4e0964a83', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\nWe also need a new job that has multiple hugepage sizes configured. We\ncannot use our existing whitebox-devstack-multinode job because that\none runs tests that dynamically turn on file backed memory, which is\nincompatible with hugepages. This commit adds tasks into job setup\nthat allows for the setup of hugepages.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}, {'number': 19, 'created': '2022-04-24 19:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/17ab2f60a76a3f29bfc2b3b3842f989ed20591de', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\nWe also need a new job that has multiple hugepage sizes configured. We\ncannot use our existing whitebox-devstack-multinode job because that\none runs tests that dynamically turn on file backed memory, which is\nincompatible with hugepages. This commit adds tasks into job setup\nthat allows for the setup of hugepages.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}, {'number': 20, 'created': '2022-04-24 19:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/89e6e82448b294962a020a584ce59127b34489e8', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\nWe also need a new job that has multiple hugepage sizes configured. We\ncannot use our existing whitebox-devstack-multinode job because that\none runs tests that dynamically turn on file backed memory, which is\nincompatible with hugepages. This commit adds tasks into job setup\nthat allows for the setup of hugepages.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}, {'number': 21, 'created': '2022-05-03 18:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/76752a8f70a228d4d529e342e39a814fcd42b67b', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\nWe also need a new job that has multiple hugepage sizes configured. We\ncannot use our existing whitebox-devstack-multinode job because that\none runs tests that dynamically turn on file backed memory, which is\nincompatible with hugepages. This commit adds tasks into job setup\nthat allows for the setup of hugepages.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}, {'number': 22, 'created': '2022-05-09 18:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/42c85ae334c35bc0e371121147820d1a26e858a1', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\nWe also need a new job that has multiple hugepage sizes configured. We\ncannot use our existing whitebox-devstack-multinode job because that\none runs tests that dynamically turn on file backed memory, which is\nincompatible with hugepages. This commit adds tasks into job setup\nthat allows for the setup of hugepages.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}, {'number': 23, 'created': '2022-07-08 15:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/c1227b4e6acb013eff017c2050845c3390377fd3', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\nWe also need a new job that has multiple hugepage sizes configured. We\ncannot use our existing whitebox-devstack-multinode job because that\none runs tests that dynamically turn on file backed memory, which is\nincompatible with hugepages. This commit adds tasks into job setup\nthat allows for the setup of hugepages.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}, {'number': 24, 'created': '2023-05-30 18:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/acff20bf0cbd36e7f495e4a06a60aa1ab7fada2d', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nDepends-on: https://review.opendev.org/#/c/825011\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}, {'number': 25, 'created': '2023-05-30 18:27:06.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_hugepages.py', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/api/compute/base.py', 'whitebox_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/b802fabf7da5d65b3c922376deafcac36e4a211e', 'message': 'Test resize with mem_page_size in flavor\n\nThese tests are meant to address issue [1]. It adds three new testcases:\n\n * test_hugepage_resize_keyword_large_to_small\n * test_hugepage_resize_explicit_pagesize_to_small\n * test_hugepage_resize_explicit_size_to_size\n\nAll three tests follow the same basic procedure, spawn a guest with a\nflavor using hw:mem_page_size:<size_a>, resize the guest to a flavor\nwith a different size hw:mem_page_size:<size_b>, and then resize the\nguest back to the original flavor. Throughout the tests XML checks are\nconducted to ensure the page size is accurate for the present flavor.\n\nInstead of trying to dynamically determine the hugepage sizes configured\non the computes, a new config parameter was added to define what\nhugepage sizes are available on the host. To avoid dynamic ram\ncalculation sizes for the guest based on available hugepages, a guest\nram parameter was also added so users may define the size to use when\nspawning guests.\n\n[1] https://bugs.launchpad.net/nova/+bug/1831269\n\nDepends-on: https://review.opendev.org/#/c/825011\n\nChange-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91\n'}]",39,824772,b802fabf7da5d65b3c922376deafcac36e4a211e,63,5,25,31033,,,0,"Test resize with mem_page_size in flavor

These tests are meant to address issue [1]. It adds three new testcases:

 * test_hugepage_resize_keyword_large_to_small
 * test_hugepage_resize_explicit_pagesize_to_small
 * test_hugepage_resize_explicit_size_to_size

All three tests follow the same basic procedure, spawn a guest with a
flavor using hw:mem_page_size:<size_a>, resize the guest to a flavor
with a different size hw:mem_page_size:<size_b>, and then resize the
guest back to the original flavor. Throughout the tests XML checks are
conducted to ensure the page size is accurate for the present flavor.

Instead of trying to dynamically determine the hugepage sizes configured
on the computes, a new config parameter was added to define what
hugepage sizes are available on the host. To avoid dynamic ram
calculation sizes for the guest based on available hugepages, a guest
ram parameter was also added so users may define the size to use when
spawning guests.

[1] https://bugs.launchpad.net/nova/+bug/1831269

Depends-on: https://review.opendev.org/#/c/825011

Change-Id: I5282df3b20c24a909f3b7bb97214206bc07e5b91
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/72/824772/15 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/api/compute/test_hugepages.py', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/api/compute/base.py', 'whitebox_tempest_plugin/config.py']",4,c30e5ed4287a5972524f952e9979ca65a19a54d9,hugepage_resize," help='The expected default video display for the guest'), cfg.IntOpt( 'guest_ram_size', default=64, help=""RAM size in MB to use when launching the guest"") cfg.Opt( 'configured_hugepage_sizes', type=types.List(types.Integer()), default=[], help='List of configured hugepage sizes available in the ' 'environment.'),", help='The expected default video display for the guest'),214,9
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I302f9bd4d6016d69cdbb6be7a5ce93bf810c8c88,openstack/tripleo-heat-templates,stable/train,I302f9bd4d6016d69cdbb6be7a5ce93bf810c8c88,Skip stopping nova container healthcheck service on scale-in when container healthchecks are disabled.,NEW,2023-05-30 12:38:42.000000000,2023-05-30 17:56:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-30 12:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91e6fcfaca4ee62b042228894bcb00979a1af577', 'message': 'Proposed change to handle scale-in in case container healthchecks are disabled\n\nChange-Id: I302f9bd4d6016d69cdbb6be7a5ce93bf810c8c88\n'}, {'number': 2, 'created': '2023-05-30 13:14:10.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml', 'common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bbad94f2a2d2843cd50422d700aa62a0ccf9f8c4', 'message': 'Skip stopping nova container healthcheck service on scale-in when container healthchecks are disabled.\n\nResolves: rhbz#2211083\nChange-Id: I302f9bd4d6016d69cdbb6be7a5ce93bf810c8c88\n'}]",0,884683,bbad94f2a2d2843cd50422d700aa62a0ccf9f8c4,7,1,2,36053,,,0,"Skip stopping nova container healthcheck service on scale-in when container healthchecks are disabled.

Resolves: rhbz#2211083
Change-Id: I302f9bd4d6016d69cdbb6be7a5ce93bf810c8c88
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/884683/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-compute-container-puppet.yaml', 'common/deploy-steps.j2']",2,91e6fcfaca4ee62b042228894bcb00979a1af577,BZ_2211083, container_healthcheck_disabled: CONTAINER_HEALTHCHECK_DISABLED,,3,0
openstack%2Frequirements~master~I0bbdd231b564778f7ef3841ea09b35718f81ad6d,openstack/requirements,master,I0bbdd231b564778f7ef3841ea09b35718f81ad6d,update constraint for glance_store to new release 4.5.0,MERGED,2023-05-30 07:33:41.000000000,2023-05-30 17:27:46.000000000,2023-05-30 17:26:47.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 07:33:41.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/46df65ec321a064d949bc98ab0dcc4b55b1edf9a', 'message': 'update constraint for glance_store to new release 4.5.0\n\nmeta: version: 4.5.0\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta: release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta: release:Change-Id: I046ec3928c934ef59253fc92a0aacf6768a547f3\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Dan Smith <dms@danplanet.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Pranali Deore <pdeore@redhat.com>\nChange-Id: I0bbdd231b564778f7ef3841ea09b35718f81ad6d\n'}]",0,884651,46df65ec321a064d949bc98ab0dcc4b55b1edf9a,7,2,1,11131,,,0,"update constraint for glance_store to new release 4.5.0

meta: version: 4.5.0
meta: diff-start: -
meta: series: bobcat
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Change-Id: I046ec3928c934ef59253fc92a0aacf6768a547f3
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Dan Smith <dms@danplanet.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Pranali Deore <pdeore@redhat.com>
Change-Id: I0bbdd231b564778f7ef3841ea09b35718f81ad6d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/51/884651/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,46df65ec321a064d949bc98ab0dcc4b55b1edf9a,new-release,glance-store===4.5.0,glance-store===4.3.1,1,1
openstack%2Frequirements~stable%2Fyoga~I3987deefbb71d16819b9001d74fa6703f0a28be7,openstack/requirements,stable/yoga,I3987deefbb71d16819b9001d74fa6703f0a28be7,Bump diskimage-builder to latest version,MERGED,2023-05-30 12:42:32.000000000,2023-05-30 17:27:13.000000000,2023-05-30 17:27:13.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 12:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c46add26a7a911e0fb19f583c959cb5dbbcc41a5', 'message': 'Bump diskimage-builder to latest version\n\nBumps diskimage-builder from 3.24.0 to 3.30.0 in order to allow the\nLVM element to work on Ubuuntu Jammy (22.04)\n\nChange-Id: I3987deefbb71d16819b9001d74fa6703f0a28be7\n'}, {'number': 2, 'created': '2023-05-30 13:37:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/263b5796e40512300e4379f47b91944f39938c9d', 'message': 'Bump diskimage-builder to latest version\n\nBumps diskimage-builder from 3.24.0 to 3.30.0 in order to allow the\nLVM element to work on Ubuntu Jammy (22.04)\n\nChange-Id: I3987deefbb71d16819b9001d74fa6703f0a28be7\n'}]",0,884684,263b5796e40512300e4379f47b91944f39938c9d,9,2,2,35511,,,0,"Bump diskimage-builder to latest version

Bumps diskimage-builder from 3.24.0 to 3.30.0 in order to allow the
LVM element to work on Ubuntu Jammy (22.04)

Change-Id: I3987deefbb71d16819b9001d74fa6703f0a28be7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/84/884684/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c46add26a7a911e0fb19f583c959cb5dbbcc41a5,,diskimage-builder===3.30.0,diskimage-builder===3.24.0,1,1
openstack%2Fdevstack~stable%2Fstein~Ie4cbe2e52adca03fb6064c064e0573ec2b234fd7,openstack/devstack,stable/stein,Ie4cbe2e52adca03fb6064c064e0573ec2b234fd7,CI: drop nova-cells-v1 job,MERGED,2023-05-27 07:44:59.000000000,2023-05-30 17:26:49.000000000,2023-05-30 17:24:34.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-05-27 07:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f35348f9bf7584b4832c080e1ee3cb6dbb2297e3', 'message': 'CI: drop nova-cells-v1 job\n\nThis job no longer exists, drop it from zuul config to avoid errors.\n\nChange-Id: Ie4cbe2e52adca03fb6064c064e0573ec2b234fd7\n'}, {'number': 2, 'created': '2023-05-27 10:43:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3021397dc82f05d1512065effd6dc908aa6c4838', 'message': 'CI: drop nova-cells-v1 job\n\nThis job no longer exists, drop it from zuul config to avoid errors.\n\nSince some other jobs have unrelated failures, make them non-voting in\norder to unblock this patch.\n\nChange-Id: Ie4cbe2e52adca03fb6064c064e0573ec2b234fd7\n'}]",0,884562,3021397dc82f05d1512065effd6dc908aa6c4838,11,4,2,13252,,,0,"CI: drop nova-cells-v1 job

This job no longer exists, drop it from zuul config to avoid errors.

Since some other jobs have unrelated failures, make them non-voting in
order to unblock this patch.

Change-Id: Ie4cbe2e52adca03fb6064c064e0573ec2b234fd7
",git fetch https://review.opendev.org/openstack/devstack refs/changes/62/884562/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f35348f9bf7584b4832c080e1ee3cb6dbb2297e3,zuul-config-errors,, - nova-cells-v1: irrelevant-files: - ^.*\.rst$ - ^doc/.*$,0,4
openstack%2Fneutron~stable%2F2023.1~Ibff4c4f5b6d020fd598831a8a6e8ec0e2f559005,openstack/neutron,stable/2023.1,Ibff4c4f5b6d020fd598831a8a6e8ec0e2f559005,[S-RBAC] Fix new policies for FIP PFs APIs,MERGED,2023-05-11 14:59:21.000000000,2023-05-30 17:25:39.000000000,2023-05-30 17:24:27.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 14:59:21.000000000', 'files': ['neutron/conf/policies/floatingip_port_forwarding.py', 'neutron/tests/unit/conf/policies/test_floatingip_port_forwarding.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/812526a2797770e4febe47d1547f1b383d772ffb', 'message': ""[S-RBAC] Fix new policies for FIP PFs APIs\n\nDuring transition to the new secure RBAC API policies, we made mistake\nwith policies for FIP PFs by defining them to be available for\nADMIN_OR_PROJECT_MEMBER/READER or FIP owner.\nFirst, rule PROJECT_MEMBER/READER is not appropriate in this case as FIP PFs\ndon't have tenant_id attribute at all and belongs to the owner of FIP always.\nSecond issue was that any FIP owner, even with just READER role could possibly\ne.g. create port forwarding.\n\nTo fix that, this patch changes those API policies to new rules:\nADMIN_OR_PARENT_OWNER_READER\nADMIN_OR_PARENT_OWNER_MEMBER\n\nConflicts:\n    neutron/conf/policies/floatingip_port_forwarding.py\n\nCloses-Bug: #2018989\nChange-Id: Ibff4c4f5b6d020fd598831a8a6e8ec0e2f559005\n(cherry picked from commit 4edff4fe8dff102f13e3da0a000c03538755337d)\n""}]",2,882960,812526a2797770e4febe47d1547f1b383d772ffb,12,3,1,16688,,,0,"[S-RBAC] Fix new policies for FIP PFs APIs

During transition to the new secure RBAC API policies, we made mistake
with policies for FIP PFs by defining them to be available for
ADMIN_OR_PROJECT_MEMBER/READER or FIP owner.
First, rule PROJECT_MEMBER/READER is not appropriate in this case as FIP PFs
don't have tenant_id attribute at all and belongs to the owner of FIP always.
Second issue was that any FIP owner, even with just READER role could possibly
e.g. create port forwarding.

To fix that, this patch changes those API policies to new rules:
ADMIN_OR_PARENT_OWNER_READER
ADMIN_OR_PARENT_OWNER_MEMBER

Conflicts:
    neutron/conf/policies/floatingip_port_forwarding.py

Closes-Bug: #2018989
Change-Id: Ibff4c4f5b6d020fd598831a8a6e8ec0e2f559005
(cherry picked from commit 4edff4fe8dff102f13e3da0a000c03538755337d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/882960/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/policies/floatingip_port_forwarding.py', 'neutron/tests/unit/conf/policies/test_floatingip_port_forwarding.py']",2,812526a2797770e4febe47d1547f1b383d772ffb,bug/2018989," 'tenant_id': self.project_id, self.alt_fip = { 'id': uuidutils.generate_uuid(), 'tenant_id': self.alt_project_id, 'project_id': self.alt_project_id} 'floatingip_id': self.alt_fip['id'], 'ext_parent_floatingip_id': self.alt_fip['id']} with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'get_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'get_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'create_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertTrue( policy.enforce(self.context, 'create_floatingip_port_forwarding', self.alt_target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'get_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertTrue( policy.enforce(self.context, 'get_floatingip_port_forwarding', self.alt_target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'update_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertTrue( policy.enforce(self.context, 'update_floatingip_port_forwarding', self.alt_target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'delete_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertTrue( policy.enforce(self.context, 'delete_floatingip_port_forwarding', self.alt_target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'create_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'get_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'update_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'delete_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.alt_target)"," 'project_id': self.project_id, 'project_id': self.alt_project_id, 'floatingip_id': self.fip['id'], 'ext_parent_floatingip_id': self.fip['id']} self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.alt_target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'get_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'get_floatingip_port_forwarding', self.alt_target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.alt_target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.alt_target) self.assertTrue( policy.enforce(self.context, 'create_floatingip_port_forwarding', self.target)) self.assertTrue( policy.enforce(self.context, 'create_floatingip_port_forwarding', self.alt_target)) self.assertTrue( policy.enforce(self.context, 'get_floatingip_port_forwarding', self.target)) self.assertTrue( policy.enforce(self.context, 'get_floatingip_port_forwarding', self.alt_target)) self.assertTrue( policy.enforce(self.context, 'update_floatingip_port_forwarding', self.target)) self.assertTrue( policy.enforce(self.context, 'update_floatingip_port_forwarding', self.alt_target)) self.assertTrue( policy.enforce(self.context, 'delete_floatingip_port_forwarding', self.target)) self.assertTrue( policy.enforce(self.context, 'delete_floatingip_port_forwarding', self.alt_target)) self.assertTrue( policy.enforce(self.context, 'create_floatingip_port_forwarding', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.alt_target) self.assertTrue( policy.enforce(self.context, 'get_floatingip_port_forwarding', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_floatingip_port_forwarding', self.alt_target) self.assertTrue( policy.enforce(self.context, 'update_floatingip_port_forwarding', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.alt_target) self.assertTrue( policy.enforce(self.context, 'delete_floatingip_port_forwarding', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.alt_target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.alt_target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.alt_target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.alt_target)",209,154
openstack%2Fdevstack~stable%2Frocky~Icdaaf8e6ba74e0d5f7da03a53860331bb9358e8d,openstack/devstack,stable/rocky,Icdaaf8e6ba74e0d5f7da03a53860331bb9358e8d,[stable-only] CI: Remove broken jobs,MERGED,2022-11-12 17:01:36.000000000,2023-05-30 17:24:31.000000000,2023-05-30 17:24:31.000000000,"[{'_account_id': 10342}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-11-12 17:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/05356d70d44cb8bb0f810f0ed4c69b497fe830b5', 'message': '[stable-only] CI: Remove Ironic test; branch EOL\n\nIronic Rocky is EOL, remove the job.\n\nChange-Id: Icdaaf8e6ba74e0d5f7da03a53860331bb9358e8d\n'}, {'number': 2, 'created': '2022-11-14 15:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0bf26a97905937f0de49d85ded9220bfc78f9527', 'message': '[stable-only] CI: Remove Ironic test; branch EOL\n\nIronic Rocky is EOL, remove the job.\nnova-cells-v1 job is no longer defined as well\n\nChange-Id: Icdaaf8e6ba74e0d5f7da03a53860331bb9358e8d\n'}, {'number': 3, 'created': '2023-05-27 07:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e94f0a063a1ff3dcaa6ee2a6bb0d8cbf7bda5cd1', 'message': '[stable-only] CI: Remove broken jobs\n\nRemove platform jobs.\nIronic Rocky is EOL, remove the job.\nnova-cells-v1 job is no longer defined as well\n\nChange-Id: Icdaaf8e6ba74e0d5f7da03a53860331bb9358e8d\n'}, {'number': 4, 'created': '2023-05-27 11:02:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6e50bc78749c944f2a8598c6129605a2820ecebf', 'message': '[stable-only] CI: Remove broken jobs\n\nRemove platform jobs.\nIronic Rocky is EOL, remove the job.\nnova-cells-v1 job is no longer defined as well\n\nMake other failing jobs non-voting so that this fix can pass.\n\nChange-Id: Icdaaf8e6ba74e0d5f7da03a53860331bb9358e8d\n'}]",4,864338,6e50bc78749c944f2a8598c6129605a2820ecebf,16,4,4,10342,,,0,"[stable-only] CI: Remove broken jobs

Remove platform jobs.
Ironic Rocky is EOL, remove the job.
nova-cells-v1 job is no longer defined as well

Make other failing jobs non-voting so that this fix can pass.

Change-Id: Icdaaf8e6ba74e0d5f7da03a53860331bb9358e8d
",git fetch https://review.opendev.org/openstack/devstack refs/changes/38/864338/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,05356d70d44cb8bb0f810f0ed4c69b497fe830b5,,, - ironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false,0,2
openstack%2Fneutron~master~If64c967b89099946165bfaf66247def4881af832,openstack/neutron,master,If64c967b89099946165bfaf66247def4881af832,[OVN] Remove backwards compatibility with OVN < v20.09,MERGED,2023-01-16 16:01:46.000000000,2023-05-30 17:22:18.000000000,2023-05-29 19:16:09.000000000,"[{'_account_id': 6773}, {'_account_id': 7730}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 34271}]","[{'number': 1, 'created': '2023-01-16 16:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/51f4ac48035cb04e18c49dc776ecd132e4a16d3f', 'message': 'WIP - [OVN] Remove backwards compatibility with OVN < v20.09\n\nTODO: sanity check script to check the OVN version\n\nThis patch removes the compatibility with OVN under v20.09. That\nimplies the OVN Southbound definition has ""Chassis_Private"" table.\nAny previous check is removed from the code.\n\nCloses-Bug: #2002839\nChange-Id: If64c967b89099946165bfaf66247def4881af832\n'}, {'number': 2, 'created': '2023-01-16 16:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/444011319645045276a8f9def54dce9f5db289cb', 'message': '[OVN] Remove backwards compatibility with OVN < v20.09\n\nThis patch removes the compatibility with OVN under v20.09. That\nimplies the OVN Southbound definition has ""Chassis_Private"" table.\nAny previous check is removed from the code.\n\nThis patch also adds a sanity check, testing that the OVN Southbound\ndatabase definition is greater or equal to 2.9.0 [1].\n\n[1]https://github.com/ovn-org/ovn/commit/4adc10f58127e45b5883f2e7cb1c702720b95043\n\nCloses-Bug: #2002839\nChange-Id: If64c967b89099946165bfaf66247def4881af832\n'}, {'number': 3, 'created': '2023-01-17 10:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1cc3da1307bb1cfd93987c727b06baa3ec0e53c', 'message': '[OVN] Remove backwards compatibility with OVN < v20.09\n\nThis patch removes the compatibility with OVN under v20.09. That\nimplies the OVN Southbound definition has ""Chassis_Private"" table.\nAny previous check is removed from the code.\n\nThis patch also adds a sanity check, testing that the OVN Southbound\ndatabase definition is greater or equal to 2.9.0 [1].\n\n[1]https://github.com/ovn-org/ovn/commit/4adc10f58127e45b5883f2e7cb1c702720b95043\n\nCloses-Bug: #2002839\nChange-Id: If64c967b89099946165bfaf66247def4881af832\n'}, {'number': 4, 'created': '2023-01-18 11:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/15ae90769067a16782fc8aa89679962e0f9df78b', 'message': '[OVN] Remove backwards compatibility with OVN < v20.09\n\nThis patch removes the compatibility with OVN under v20.09. That\nimplies the OVN Southbound definition has ""Chassis_Private"" table.\nAny previous check is removed from the code.\n\nThis patch also adds a sanity check, testing that the OVN Southbound\ndatabase definition is greater or equal to 2.9.0 [1].\n\nThe testing OVN NB and SB schemas are updated to the files contained in\nOVN v22.09. The new testing NB schema version is 6.3.9; the new testing\nSB schema version is 20.25.0.\n\n[1]https://github.com/ovn-org/ovn/commit/4adc10f58127e45b5883f2e7cb1c702720b95043\n\nCloses-Bug: #2002839\nChange-Id: If64c967b89099946165bfaf66247def4881af832\n'}, {'number': 5, 'created': '2023-03-24 14:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b7c511f0fb4f3fc8eed33194c0bb3f4e6013cf74', 'message': '[OVN] Remove backwards compatibility with OVN < v20.09\n\nThis patch removes the compatibility with OVN under v20.09. That\nimplies the OVN Southbound definition has ""Chassis_Private"" table.\nAny previous check is removed from the code.\n\nThis patch also adds a sanity check, testing that the OVN Southbound\ndatabase definition is greater or equal to 2.9.0 [1].\n\nThe testing OVN NB and SB schemas are updated to the files contained in\nOVN v22.09. The new testing NB schema version is 6.3.9; the new testing\nSB schema version is 20.25.0.\n\n[1]https://github.com/ovn-org/ovn/commit/4adc10f58127e45b5883f2e7cb1c702720b95043\n\nCloses-Bug: #2002839\nChange-Id: If64c967b89099946165bfaf66247def4881af832\n'}, {'number': 6, 'created': '2023-03-24 16:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52e2a6498aa6c4903bcce8be7480a9f932e6c4be', 'message': '[OVN] Remove backwards compatibility with OVN < v20.09\n\nThis patch removes the compatibility with OVN under v20.09. That\nimplies the OVN Southbound definition has ""Chassis_Private"" table.\nAny previous check is removed from the code.\n\nThis patch also adds a sanity check, testing that the OVN Southbound\ndatabase definition is greater or equal to 2.9.0 [1].\n\nThe testing OVN NB and SB schemas are updated to the files contained in\nOVN v22.09. The new testing NB schema version is 6.3.9; the new testing\nSB schema version is 20.25.0.\n\n[1]https://github.com/ovn-org/ovn/commit/4adc10f58127e45b5883f2e7cb1c702720b95043\n\nCloses-Bug: #2002839\nChange-Id: If64c967b89099946165bfaf66247def4881af832\n'}, {'number': 7, 'created': '2023-04-17 12:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/64d2acaf575a6cee8999c8a9f8fbd89a9193a59d', 'message': '[OVN] Remove backwards compatibility with OVN < v20.09\n\nThis patch removes the compatibility with OVN under v20.09. That\nimplies the OVN Southbound definition has ""Chassis_Private"" table.\nAny previous check is removed from the code.\n\nThis patch also adds a sanity check, testing that the OVN Southbound\ndatabase definition is greater or equal to 2.9.0 [1].\n\nThe testing OVN NB and SB schemas are updated to the files contained in\nOVN v22.09. The new testing NB schema version is 6.3.9; the new testing\nSB schema version is 20.25.0.\n\n[1]https://github.com/ovn-org/ovn/commit/4adc10f58127e45b5883f2e7cb1c702720b95043\n\nCloses-Bug: #2002839\nChange-Id: If64c967b89099946165bfaf66247def4881af832\n'}, {'number': 8, 'created': '2023-04-25 08:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7d3e9664b4edf57fb5a93fcfffd60199600421c8', 'message': '[OVN] Remove backwards compatibility with OVN < v20.09\n\nThis patch removes the compatibility with OVN under v20.09. That\nimplies the OVN Southbound definition has ""Chassis_Private"" table.\nAny previous check is removed from the code.\n\nThis patch also adds a sanity check, testing that the OVN Southbound\ndatabase definition is greater or equal to 2.9.0 [1].\n\nThe testing OVN NB and SB schemas are updated to the files contained in\nOVN v22.09. The new testing NB schema version is 6.3.9; the new testing\nSB schema version is 20.25.0.\n\n[1]https://github.com/ovn-org/ovn/commit/4adc10f58127e45b5883f2e7cb1c702720b95043\n\nCloses-Bug: #2002839\nChange-Id: If64c967b89099946165bfaf66247def4881af832\n'}, {'number': 9, 'created': '2023-05-08 08:16:53.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/agent/ovn/metadata/test_metadata_agent.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/schemas/ovn-nb.ovsschema', 'neutron/tests/functional/base.py', 'neutron/cmd/sanity_check.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/cmd/sanity/checks.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/agent/ovn/metadata/agent.py', 'releasenotes/notes/ovn-support-chassis_private-35192565e9ee2a00.yaml', 'neutron/tests/unit/plugins/ml2/drivers/ovn/agent/test_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/schemas/ovn-sb.ovsschema', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/be4e150de98506b080c3b9a3f324324821e4666e', 'message': '[OVN] Remove backwards compatibility with OVN < v20.09\n\nThis patch removes the compatibility with OVN under v20.09. That\nimplies the OVN Southbound definition has ""Chassis_Private"" table.\nAny previous check is removed from the code.\n\nThis patch also adds a sanity check, testing that the OVN Southbound\ndatabase definition is greater or equal to 2.9.0 [1].\n\nThe testing OVN NB and SB schemas are updated to the files contained in\nOVN v22.09. The new testing NB schema version is 6.3.9; the new testing\nSB schema version is 20.25.0.\n\n[1]https://github.com/ovn-org/ovn/commit/4adc10f58127e45b5883f2e7cb1c702720b95043\n\nCloses-Bug: #2002839\nChange-Id: If64c967b89099946165bfaf66247def4881af832\n'}]",23,870621,be4e150de98506b080c3b9a3f324324821e4666e,75,7,9,16688,,,0,"[OVN] Remove backwards compatibility with OVN < v20.09

This patch removes the compatibility with OVN under v20.09. That
implies the OVN Southbound definition has ""Chassis_Private"" table.
Any previous check is removed from the code.

This patch also adds a sanity check, testing that the OVN Southbound
database definition is greater or equal to 2.9.0 [1].

The testing OVN NB and SB schemas are updated to the files contained in
OVN v22.09. The new testing NB schema version is 6.3.9; the new testing
SB schema version is 20.25.0.

[1]https://github.com/ovn-org/ovn/commit/4adc10f58127e45b5883f2e7cb1c702720b95043

Closes-Bug: #2002839
Change-Id: If64c967b89099946165bfaf66247def4881af832
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/870621/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/agent/ovn/metadata/test_metadata_agent.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/functional/base.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",9,51f4ac48035cb04e18c49dc776ecd132e4a16d3f,bug/2002839, self.agent_chassis_table = 'Chassis_Private', if impl_idl_ovn.OvsdbSbOvnIdl.schema_has_table('Chassis_Private'): self.agent_chassis_table = 'Chassis_Private' else: self.agent_chassis_table = 'Chassis',34,102
openstack%2Fneutron~stable%2F2023.1~I8281bd8a902bcaba1187565e9610d598e4ebc254,openstack/neutron,stable/2023.1,I8281bd8a902bcaba1187565e9610d598e4ebc254,[S-RBAC] Get QoS rule types API available for READER role,MERGED,2023-05-11 14:57:30.000000000,2023-05-30 17:20:48.000000000,2023-05-30 17:19:34.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 14:57:30.000000000', 'files': ['neutron/conf/policies/qos.py', 'neutron/tests/unit/conf/policies/test_qos.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c82eee0fd616b06cd97dace13d59c792755fc72f', 'message': '[S-RBAC] Get QoS rule types API available for READER role\n\nAPI call ""get_rule_types"" should be available in new policies for\nall users with READER role as this is kind of the same what was in the\nold policies (ANY).\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/882818\n\nCloses-Bug: #2018585\nChange-Id: I8281bd8a902bcaba1187565e9610d598e4ebc254\n(cherry picked from commit 01de74dedfdc306b0331aae4f970f0c5bca5cb48)\n'}]",4,882959,c82eee0fd616b06cd97dace13d59c792755fc72f,20,4,1,16688,,,0,"[S-RBAC] Get QoS rule types API available for READER role

API call ""get_rule_types"" should be available in new policies for
all users with READER role as this is kind of the same what was in the
old policies (ANY).

Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/882818

Closes-Bug: #2018585
Change-Id: I8281bd8a902bcaba1187565e9610d598e4ebc254
(cherry picked from commit 01de74dedfdc306b0331aae4f970f0c5bca5cb48)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/882959/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/policies/qos.py', 'neutron/tests/unit/conf/policies/test_qos.py']",2,c82eee0fd616b06cd97dace13d59c792755fc72f,bug/2018585,," def test_get_rule_type(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_rule_type', self.target) ",5,7
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2F2023.1~I361757b8f76a6c2d087989a36d8f7543aba69e16,openstack/openstack-ansible-rabbitmq_server,stable/2023.1,I361757b8f76a6c2d087989a36d8f7543aba69e16,Change to CloudSmith repos from PackageCloud for RabbitMQ,MERGED,2023-05-30 01:52:15.000000000,2023-05-30 17:17:44.000000000,2023-05-30 17:16:30.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-30 01:52:15.000000000', 'files': ['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/220a90cfda02fdd5a2e310bb25a6b3e9e377dd11', 'message': 'Change to CloudSmith repos from PackageCloud for RabbitMQ\n\nUpstream has notified us[1] about the immediate deprecation and removal\nof the PackageCloud repositories we are using. Thus, we must move to the\nCloudSmith repos already being used for the erlang dependency for\nRabbitMQ.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386\n\nCloses-Bug: 2021410\nChange-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16\n(cherry picked from commit ab9dbfb50eeef0b4e5a8143b9e2d61fd3682dc0d)\n'}]",0,884535,220a90cfda02fdd5a2e310bb25a6b3e9e377dd11,10,3,1,34411,,,0,"Change to CloudSmith repos from PackageCloud for RabbitMQ

Upstream has notified us[1] about the immediate deprecation and removal
of the PackageCloud repositories we are using. Thus, we must move to the
CloudSmith repos already being used for the erlang dependency for
RabbitMQ.

[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386

Closes-Bug: 2021410
Change-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16
(cherry picked from commit ab9dbfb50eeef0b4e5a8143b9e2d61fd3682dc0d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/35/884535/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml']",5,220a90cfda02fdd5a2e310bb25a6b3e9e377dd11,fix/rabbitmq-packagecloud-deprecation,--- deprecations: - | RabbitMQ packages are no longer provided by PackageCloud due to the upstream repository being no longer available after 2023-05-28. Installations will now utilize a community mirror of CloudSmith repositories for rabbitmq and erlang. https://github.com/rabbitmq/rabbitmq-server/discussions/8386 fixes: - | https://bugs.launchpad.net/openstack-ansible/+bug/2021410 ,,44,72
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fxena~I361757b8f76a6c2d087989a36d8f7543aba69e16,openstack/openstack-ansible-rabbitmq_server,stable/xena,I361757b8f76a6c2d087989a36d8f7543aba69e16,Change to CloudSmith repos from PackageCloud for RabbitMQ,MERGED,2023-05-30 01:54:04.000000000,2023-05-30 17:17:41.000000000,2023-05-30 17:16:32.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-30 01:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/0614eff8060a42e8418d7181733f0a6a5ce9df3b', 'message': 'Change to CloudSmith repos from PackageCloud for RabbitMQ\n\nUpstream has notified us[1] about the immediate deprecation and removal\nof the PackageCloud repositories we are using. Thus, we must move to the\nCloudSmith repos already being used for the erlang dependency for\nRabbitMQ.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386\n\nCloses-Bug: 2021410\nChange-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16\n(cherry picked from commit ab9dbfb50eeef0b4e5a8143b9e2d61fd3682dc0d)\n'}, {'number': 2, 'created': '2023-05-30 01:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/2f42f013c09c42ab4b24b670faee386a8cf1d215', 'message': 'Change to CloudSmith repos from PackageCloud for RabbitMQ\n\nUpstream has notified us[1] about the immediate deprecation and removal\nof the PackageCloud repositories we are using. Thus, we must move to the\nCloudSmith repos already being used for the erlang dependency for\nRabbitMQ.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386\n\nCloses-Bug: 2021410\nChange-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16\n(cherry picked from commit ab9dbfb50eeef0b4e5a8143b9e2d61fd3682dc0d)\n'}, {'number': 3, 'created': '2023-05-30 03:05:24.000000000', 'files': ['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/ba04f4ea5c09701ea4757235f9b2442c7f544907', 'message': 'Change to CloudSmith repos from PackageCloud for RabbitMQ\n\nUpstream has notified us[1] about the immediate deprecation and removal\nof the PackageCloud repositories we are using. Thus, we must move to the\nCloudSmith repos already being used for the erlang dependency for\nRabbitMQ.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386\n\nCloses-Bug: 2021410\nChange-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16\n(cherry picked from commit ab9dbfb50eeef0b4e5a8143b9e2d61fd3682dc0d)\n'}]",1,884537,ba04f4ea5c09701ea4757235f9b2442c7f544907,14,3,3,34411,,,0,"Change to CloudSmith repos from PackageCloud for RabbitMQ

Upstream has notified us[1] about the immediate deprecation and removal
of the PackageCloud repositories we are using. Thus, we must move to the
CloudSmith repos already being used for the erlang dependency for
RabbitMQ.

[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386

Closes-Bug: 2021410
Change-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16
(cherry picked from commit ab9dbfb50eeef0b4e5a8143b9e2d61fd3682dc0d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/37/884537/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml']",5,0614eff8060a42e8418d7181733f0a6a5ce9df3b,fix/rabbitmq-packagecloud-deprecation,--- deprecations: - | RabbitMQ packages are no longer provided by PackageCloud due to the upstream repository being no longer available after 2023-05-28. Installations will now utilize a community mirror of CloudSmith repositories for rabbitmq and erlang. https://github.com/rabbitmq/rabbitmq-server/discussions/8386 fixes: - | https://bugs.launchpad.net/openstack-ansible/+bug/2021410 ,,55,70
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fzed~I361757b8f76a6c2d087989a36d8f7543aba69e16,openstack/openstack-ansible-rabbitmq_server,stable/zed,I361757b8f76a6c2d087989a36d8f7543aba69e16,Change to CloudSmith repos from PackageCloud for RabbitMQ,MERGED,2023-05-30 01:53:10.000000000,2023-05-30 17:17:41.000000000,2023-05-30 17:16:29.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-30 01:53:10.000000000', 'files': ['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/9da48d3108fbdc205e76f955f1c3b25a71d2a476', 'message': 'Change to CloudSmith repos from PackageCloud for RabbitMQ\n\nUpstream has notified us[1] about the immediate deprecation and removal\nof the PackageCloud repositories we are using. Thus, we must move to the\nCloudSmith repos already being used for the erlang dependency for\nRabbitMQ.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386\n\nCloses-Bug: 2021410\nChange-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16\n(cherry picked from commit ab9dbfb50eeef0b4e5a8143b9e2d61fd3682dc0d)\n'}]",1,884536,9da48d3108fbdc205e76f955f1c3b25a71d2a476,12,3,1,34411,,,0,"Change to CloudSmith repos from PackageCloud for RabbitMQ

Upstream has notified us[1] about the immediate deprecation and removal
of the PackageCloud repositories we are using. Thus, we must move to the
CloudSmith repos already being used for the erlang dependency for
RabbitMQ.

[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386

Closes-Bug: 2021410
Change-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16
(cherry picked from commit ab9dbfb50eeef0b4e5a8143b9e2d61fd3682dc0d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/36/884536/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml']",5,9da48d3108fbdc205e76f955f1c3b25a71d2a476,fix/rabbitmq-packagecloud-deprecation,--- deprecations: - | RabbitMQ packages are no longer provided by PackageCloud due to the upstream repository being no longer available after 2023-05-28. Installations will now utilize a community mirror of CloudSmith repositories for rabbitmq and erlang. https://github.com/rabbitmq/rabbitmq-server/discussions/8386 fixes: - | https://bugs.launchpad.net/openstack-ansible/+bug/2021410 ,,44,72
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fyoga~I361757b8f76a6c2d087989a36d8f7543aba69e16,openstack/openstack-ansible-rabbitmq_server,stable/yoga,I361757b8f76a6c2d087989a36d8f7543aba69e16,Change to CloudSmith repos from PackageCloud for RabbitMQ,MERGED,2023-05-30 01:57:11.000000000,2023-05-30 17:17:33.000000000,2023-05-30 17:16:27.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-30 01:57:11.000000000', 'files': ['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/db2f21295e4eb270edfbe94a0fc51f5a694dbb6f', 'message': 'Change to CloudSmith repos from PackageCloud for RabbitMQ\n\nUpstream has notified us[1] about the immediate deprecation and removal\nof the PackageCloud repositories we are using. Thus, we must move to the\nCloudSmith repos already being used for the erlang dependency for\nRabbitMQ.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386\n\nCloses-Bug: 2021410\nChange-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16\n(cherry picked from commit ab9dbfb50eeef0b4e5a8143b9e2d61fd3682dc0d)\n'}]",0,884538,db2f21295e4eb270edfbe94a0fc51f5a694dbb6f,10,3,1,34411,,,0,"Change to CloudSmith repos from PackageCloud for RabbitMQ

Upstream has notified us[1] about the immediate deprecation and removal
of the PackageCloud repositories we are using. Thus, we must move to the
CloudSmith repos already being used for the erlang dependency for
RabbitMQ.

[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386

Closes-Bug: 2021410
Change-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16
(cherry picked from commit ab9dbfb50eeef0b4e5a8143b9e2d61fd3682dc0d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/38/884538/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml']",5,db2f21295e4eb270edfbe94a0fc51f5a694dbb6f,fix/rabbitmq-packagecloud-deprecation,--- deprecations: - | RabbitMQ packages are no longer provided by PackageCloud due to the upstream repository being no longer available after 2023-05-28. Installations will now utilize a community mirror of CloudSmith repositories for rabbitmq and erlang. https://github.com/rabbitmq/rabbitmq-server/discussions/8386 fixes: - | https://bugs.launchpad.net/openstack-ansible/+bug/2021410 ,,44,72
openstack%2Fcharm-ironic-api~master~I69182db716836624de98614cc07ef1f2f04e53f5,openstack/charm-ironic-api,master,I69182db716836624de98614cc07ef1f2f04e53f5,Migrate to section-keystone-authtoken-mitaka,ABANDONED,2023-05-24 16:33:12.000000000,2023-05-30 17:12:07.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 16:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/0f3094f85a8e7a6ee1219214044491a04ec326f1', 'message': 'Migrate to keystone-authtoken-mitaka\n\nChange-Id: I69182db716836624de98614cc07ef1f2f04e53f5\n'}, {'number': 2, 'created': '2023-05-24 18:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/d1d164d52338059e491e8865140bbb33dc83f53f', 'message': 'Migrate to keystone-authtoken-mitaka\n\nChange-Id: I69182db716836624de98614cc07ef1f2f04e53f5\n'}, {'number': 3, 'created': '2023-05-24 19:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/6984799f2902670861a74e6bc0b1913dd854d61b', 'message': 'Migrate to keystone-authtoken-mitaka\n\nChange-Id: I69182db716836624de98614cc07ef1f2f04e53f5\n'}, {'number': 4, 'created': '2023-05-24 19:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/d3a5e2eb31e96fd5f9054a512d24764ebb06a868', 'message': 'Migrate to keystone-authtoken-mitaka\n\nChange-Id: I69182db716836624de98614cc07ef1f2f04e53f5\n'}, {'number': 5, 'created': '2023-05-25 14:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/e9e8dbc06147e46abd54c1b99ba88c4e1ed6413e', 'message': 'Migrate to keystone-authtoken-mitaka\n\nChange-Id: I69182db716836624de98614cc07ef1f2f04e53f5\n'}, {'number': 6, 'created': '2023-05-25 18:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/ddee48f51dc6d58c64261144e9edbd62799ddd87', 'message': 'Migrate to section-keystone-authtoken-mitaka\n\nChange-Id: I69182db716836624de98614cc07ef1f2f04e53f5\n'}, {'number': 7, 'created': '2023-05-30 17:07:36.000000000', 'files': ['src/templates/train/ironic.conf'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/7baf508ff4a0767db0c6b85cb022f0744b67f34f', 'message': 'Migrate to section-keystone-authtoken-mitaka\n\nChange-Id: I69182db716836624de98614cc07ef1f2f04e53f5\n'}]",1,884251,7baf508ff4a0767db0c6b85cb022f0744b67f34f,20,2,7,2424,,,0,"Migrate to section-keystone-authtoken-mitaka

Change-Id: I69182db716836624de98614cc07ef1f2f04e53f5
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/51/884251/6 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/train/ironic.conf'],1,0f3094f85a8e7a6ee1219214044491a04ec326f1,bug/1992840,"{% include ""parts/keystone-authtoken-mitaka"" %}","{% include ""parts/keystone-authtoken"" %}",1,1
openstack%2Fcharm-ironic-api~master~Ie634d7b8471ca3ddcd4fd34e44d17693613bc800,openstack/charm-ironic-api,master,Ie634d7b8471ca3ddcd4fd34e44d17693613bc800,Pin pyaml<23.0.0,ABANDONED,2023-05-24 18:20:46.000000000,2023-05-30 17:08:04.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 18:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/00fcf125dc85503855eeea0ec082923eb6f09f0d', 'message': 'Pin pyaml<23.5.9\n\nChange-Id: Ie634d7b8471ca3ddcd4fd34e44d17693613bc800\n'}, {'number': 2, 'created': '2023-05-24 19:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/c6d71caa35c36f54d0bb97e430f6c59f30c7fec7', 'message': 'Pin pyaml<23.5.9\n\nChange-Id: Ie634d7b8471ca3ddcd4fd34e44d17693613bc800\n'}, {'number': 3, 'created': '2023-05-24 19:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/1851c693c3848949d1ef9f575b54fe8c6c34ae0d', 'message': 'Pin pyaml<23.0.0\n\nChange-Id: Ie634d7b8471ca3ddcd4fd34e44d17693613bc800\n'}, {'number': 4, 'created': '2023-05-25 14:09:05.000000000', 'files': ['src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/80d216b35480ee2743db9251091431a77f1a5f6a', 'message': 'Pin pyaml<23.0.0\n\nCloses-Bug: #2020788\nChange-Id: Ie634d7b8471ca3ddcd4fd34e44d17693613bc800\n'}]",2,884266,80d216b35480ee2743db9251091431a77f1a5f6a,16,2,4,2424,,,0,"Pin pyaml<23.0.0

Closes-Bug: #2020788
Change-Id: Ie634d7b8471ca3ddcd4fd34e44d17693613bc800
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/66/884266/2 && git format-patch -1 --stdout FETCH_HEAD,['src/wheelhouse.txt'],1,00fcf125dc85503855eeea0ec082923eb6f09f0d,bug/1992840,"# pyaml-23.5.9 migrated to pyproject.toml and it gets broken during the # installation with this version of setuptools (pinned above), so this pinning # can be dropped when setuptools gets unpinned. # # Discarding file:///.../pyaml-23.5.9.tar.gz: Requested unknown from file:///.../pyaml-23.5.9.tar.gz has inconsistent name: filename has 'pyaml', but metadata has 'unknown' # ERROR: Could not find a version that satisfies the requirement pyaml==23.5.9 (from versions: 23.5.9) # pyaml<23.5.9 ",,9,0
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I20c2aee6af03af96a4a2022681eabba75a6acf00,openstack/puppet-tripleo,stable/wallaby,I20c2aee6af03af96a4a2022681eabba75a6acf00,Horizon: Support Strict-Transport-Security header,NEW,2023-05-26 13:57:36.000000000,2023-05-30 17:02:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-26 13:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a07904fdb8c32c2e3ef73cdc176b42c4bc52d852', 'message': 'Horizon: Support Strict-Transport-Security header\n\nThis allows operators to enable HTTP Strict-Transport-Security (HSTS)\nfor Horizon endpoint, to enforce usage of SSL.\n\nChange-Id: I20c2aee6af03af96a4a2022681eabba75a6acf00\n(cherry picked from commit 837abea1f385851aa9d67848867f63ae820f3b5c)\n'}, {'number': 2, 'created': '2023-05-26 13:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c8890f1ecb05f2239687165e281466dac3526da6', 'message': 'Horizon: Support Strict-Transport-Security header\n\nThis allows operators to enable HTTP Strict-Transport-Security (HSTS)\nfor Horizon endpoint, to enforce usage of SSL.\n\nChange-Id: I20c2aee6af03af96a4a2022681eabba75a6acf00\n(cherry picked from commit 837abea1f385851aa9d67848867f63ae820f3b5c)\n'}, {'number': 3, 'created': '2023-05-26 14:11:12.000000000', 'files': ['manifests/haproxy/horizon_endpoint.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/603399963552777c359b586084981c08bcf1a8c4', 'message': 'Horizon: Support Strict-Transport-Security header\n\nThis allows operators to enable HTTP Strict-Transport-Security (HSTS)\nfor Horizon endpoint, to enforce usage of SSL.\n\nChange-Id: I20c2aee6af03af96a4a2022681eabba75a6acf00\n(cherry picked from commit 837abea1f385851aa9d67848867f63ae820f3b5c)\n'}]",1,884385,603399963552777c359b586084981c08bcf1a8c4,7,1,3,8648,,,0,"Horizon: Support Strict-Transport-Security header

This allows operators to enable HTTP Strict-Transport-Security (HSTS)
for Horizon endpoint, to enforce usage of SSL.

Change-Id: I20c2aee6af03af96a4a2022681eabba75a6acf00
(cherry picked from commit 837abea1f385851aa9d67848867f63ae820f3b5c)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/85/884385/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy/horizon_endpoint.pp'],1,a07904fdb8c32c2e3ef73cdc176b42c4bc52d852,tripleo-horizon-hsts-stable/wallaby,"<<<<<<< HEAD (fe79b9 Merge ""Ensure designate central also gets policy configurati)======= # [*hsts_header_value*] # (optional) Adds the HTTP Strict Transport Securiy (HSTS) header to # response. This takes effect only when public_certificate is set. # Defaults to undef >>>>>>> CHANGE (837abe Horizon: Support Strict-Transport-Security header)<<<<<<< HEAD (fe79b9 Merge ""Ensure designate central also gets policy configurati)======= $hsts_header_value = undef, >>>>>>> CHANGE (837abe Horizon: Support Strict-Transport-Security header) if $hsts_header_value != undef { $hsts_header_value_real = join(any2array($hsts_header_value), '; ') $hsts_response = ""set-header Strict-Transport-Security \""${hsts_header_value_real};\"""" } else { $hsts_response = undef } $horizon_frontend_options = { 'http-response' => delete_undef_values([ 'replace-header Location http://(.*) https://\\1', $hsts_response]),"," $horizon_frontend_options = { 'http-response' => 'replace-header Location http://(.*) https://\\1',",22,1
openstack%2Fcinder-tempest-plugin~master~I653134029ea3dbff9e765fc7cbaff3542d2ec3f4,openstack/cinder-tempest-plugin,master,I653134029ea3dbff9e765fc7cbaff3542d2ec3f4,Add note about MYSQL_REDUCE_MEMORY,NEW,2023-03-31 21:19:14.000000000,2023-05-30 16:53:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2023-03-31 21:19:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/2e7d3f031daf32f5d84df2df6b9269c7eca25aa1', 'message': ""Add note about MYSQL_REDUCE_MEMORY\n\nAdded a note to the two CI jobs that increase host memory about\na recently added devstack option [0] so that we don't forget about\nit.\n\n[0] I7b223391d3de\n\nChange-Id: I653134029ea3dbff9e765fc7cbaff3542d2ec3f4\n""}]",2,879209,2e7d3f031daf32f5d84df2df6b9269c7eca25aa1,5,2,1,5314,,,0,"Add note about MYSQL_REDUCE_MEMORY

Added a note to the two CI jobs that increase host memory about
a recently added devstack option [0] so that we don't forget about
it.

[0] I7b223391d3de

Change-Id: I653134029ea3dbff9e765fc7cbaff3542d2ec3f4
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/09/879209/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2e7d3f031daf32f5d84df2df6b9269c7eca25aa1,mem-usage-note," # NOTE: if jobs are having memory problems, may want # to turn this on (currently defaults to false): # devstack_localrc: # MYSQL_REDUCE_MEMORY: true # NOTE: if jobs are having memory problems, may want # to turn this on (currently defaults to false): # devstack_localrc: # MYSQL_REDUCE_MEMORY: true",,8,0
openstack%2Fneutron~stable%2Fwallaby~I9c49a307956ecfbf8bd2e866cefb21a212c38bd6,openstack/neutron,stable/wallaby,I9c49a307956ecfbf8bd2e866cefb21a212c38bd6,Use explicit inner join for networks in port query,MERGED,2023-05-23 13:48:04.000000000,2023-05-30 16:52:47.000000000,2023-05-30 16:51:33.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30772}]","[{'number': 1, 'created': '2023-05-23 13:48:04.000000000', 'files': ['neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfe6d8b4b4cd1c3b14f152b6f7c603ed0c485175', 'message': 'Use explicit inner join for networks in port query\n\nThis improves the performance of the database when fetching a list of ports\nfor a project user. This change creates an inner join with the networks\nbelonging to the ports.\n\nPrevious SQL query:\nSELECT ports ...\nFROM network, ports ...\nWHERE ports.project_id = <project>\nOR ports.network_id = networks.id\nAND networks.project_id = <project>\n\nCurrent SQL query:\nSELECT ports ...\nFROM ports\nINNER JOIN networks ON networks.id = ports.network_id\nWHERE ports.project_id = <project>\nOR networks.project_id = <project>\n\nCloses-Bug: #2016704\nChange-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6\n(cherry picked from commit f23d7af8d7e36b9d52a8c8ccf64355e22f3adb9c)\n'}]",2,883913,dfe6d8b4b4cd1c3b14f152b6f7c603ed0c485175,21,4,1,21798,,,0,"Use explicit inner join for networks in port query

This improves the performance of the database when fetching a list of ports
for a project user. This change creates an inner join with the networks
belonging to the ports.

Previous SQL query:
SELECT ports ...
FROM network, ports ...
WHERE ports.project_id = <project>
OR ports.network_id = networks.id
AND networks.project_id = <project>

Current SQL query:
SELECT ports ...
FROM ports
INNER JOIN networks ON networks.id = ports.network_id
WHERE ports.project_id = <project>
OR networks.project_id = <project>

Closes-Bug: #2016704
Change-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6
(cherry picked from commit f23d7af8d7e36b9d52a8c8ccf64355e22f3adb9c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/883913/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/db_base_plugin_v2.py'],1,dfe6d8b4b4cd1c3b14f152b6f7c603ed0c485175,bug/2016704-stable/wallaby,"def _port_query_hook(context, original_model, query): # Apply the port query only in non-admin and non-advsvc context if ndb_utils.model_query_scope_is_project(context, original_model): query = query.join(models_v2.Network, models_v2.Network.id == models_v2.Port.network_id) return query query_hook=_port_query_hook,"," models_v2.Port.network_id == models_v2.Network.id, query_hook=None,",9,2
openstack%2Fcharm-mysql-innodb-cluster~master~Ide3bb981e5a9eaa5fd2fbd649b9bae1679007523,openstack/charm-mysql-innodb-cluster,master,Ide3bb981e5a9eaa5fd2fbd649b9bae1679007523,Fix bug where sometimes stderr is None in error reporting,NEW,2023-04-21 13:56:29.000000000,2023-05-30 16:42:31.000000000,,"[{'_account_id': 2424}, {'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-21 13:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/a5233d31c991d28875966421461c7945467f7670', 'message': 'Fix bug where sometimes stderr is None in error reporting\n\nThere are occasions, with some subprocess calls, where the value\nof e.stderr is None, resulting in the logging action to fail as\nit calls e.stderr.decode(...).  This patch just finds most of those\nlocations and substitutes str(e) if e.stderr is None so that something\nis still output.\n\nChange-Id: Ide3bb981e5a9eaa5fd2fbd649b9bae1679007523\n'}, {'number': 2, 'created': '2023-05-17 07:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/5de430c3670265ec53835ff3f52026c10be5968e', 'message': 'Fix bug where sometimes stderr is None in error reporting\n\nThere are occasions, with some subprocess calls, where the value\nof e.stderr is None, resulting in the logging action to fail as\nit calls e.stderr.decode(...).  This patch just finds most of those\nlocations and substitutes str(e) if e.stderr is None so that something\nis still output.\n\nChange-Id: Ide3bb981e5a9eaa5fd2fbd649b9bae1679007523\n'}, {'number': 3, 'created': '2023-05-30 11:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/b6ebf167eaae723135e8b410ebc6e7b27e2aeea0', 'message': 'Fix bug where sometimes stderr is None in error reporting\n\nThere are occasions, with some subprocess calls, where the value\nof e.stderr is None, resulting in the logging action to fail as\nit calls e.stderr.decode(...).  This patch just finds most of those\nlocations and substitutes error_str(e) to ensure that at least something\ncan be output from the error object.\n\nChange-Id: Ide3bb981e5a9eaa5fd2fbd649b9bae1679007523\n'}, {'number': 4, 'created': '2023-05-30 12:59:45.000000000', 'files': ['unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/actions/actions.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/ac619d8d8e33b484cbefdef6f16d84cff43a232d', 'message': 'Fix bug where sometimes stderr is None in error reporting\n\nThere are occasions, with some subprocess calls, where the value\nof e.stderr is None, resulting in the logging action to fail as\nit calls e.stderr.decode(...).  This patch just finds most of those\nlocations and substitutes error_str(e) to ensure that at least something\ncan be output from the error object.\n\nChange-Id: Ide3bb981e5a9eaa5fd2fbd649b9bae1679007523\n'}]",7,881215,ac619d8d8e33b484cbefdef6f16d84cff43a232d,23,5,4,20870,,,0,"Fix bug where sometimes stderr is None in error reporting

There are occasions, with some subprocess calls, where the value
of e.stderr is None, resulting in the logging action to fail as
it calls e.stderr.decode(...).  This patch just finds most of those
locations and substitutes error_str(e) to ensure that at least something
can be output from the error object.

Change-Id: Ide3bb981e5a9eaa5fd2fbd649b9bae1679007523
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/15/881215/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/actions/actions.py']",2,a5233d31c991d28875966421461c7945467f7670,fix-stderr-is-none," ""output"": e.stderr.decode(""UTF-8"") if e.stderr else str(e), ""output"": e.stderr.decode(""UTF-8"") if e.stderr else str(e), ""output"": e.stderr.decode(""UTF-8"") if e.stderr else str(e), ""output"": e.stderr.decode(""UTF-8"") if e.stderr else str(e), ""output"": e.stderr.decode(""UTF-8"") if e.stderr else str(e), ""output"": e.stderr.decode(""UTF-8"") if e.stderr else str(e), ""output"": e.stderr.decode(""UTF-8"") if e.stderr else str(e), ""output"": e.stderr.decode(""UTF-8"") if e.stderr else str(e), ""output"": e.stderr.decode(""UTF-8"") if e.stderr else str(e),"," ""output"": e.stderr.decode(""UTF-8""), ""output"": e.stderr.decode(""UTF-8""), ""output"": e.stderr.decode(""UTF-8""), ""output"": e.stderr.decode(""UTF-8""), ""output"": e.stderr.decode(""UTF-8""), ""output"": e.stderr.decode(""UTF-8""), ""output"": e.stderr.decode(""UTF-8""), ""output"": e.stderr.decode(""UTF-8""), ""output"": e.stderr.decode(""UTF-8""),",25,20
openstack%2Freleases~master~I4a43f93b50083d61de3ac57b06e1c4c43e417dac,openstack/releases,master,I4a43f93b50083d61de3ac57b06e1c4c43e417dac,Release tooz 4.1.0,MERGED,2023-05-23 16:58:26.000000000,2023-05-30 16:40:35.000000000,2023-05-30 16:40:35.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-05-23 16:58:26.000000000', 'files': ['deliverables/_independent/tooz.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b38788f1f81306ccf0a9b91791f355fc776033c7', 'message': 'Release tooz 4.1.0\n\ntooz has re-added the python3.8 support\n- https://review.opendev.org/c/openstack/tooz/+/882203\n\nReleasing the new version 4.1.0\n\nChange-Id: I4a43f93b50083d61de3ac57b06e1c4c43e417dac\n'}]",1,883955,b38788f1f81306ccf0a9b91791f355fc776033c7,8,4,1,8556,,,0,"Release tooz 4.1.0

tooz has re-added the python3.8 support
- https://review.opendev.org/c/openstack/tooz/+/882203

Releasing the new version 4.1.0

Change-Id: I4a43f93b50083d61de3ac57b06e1c4c43e417dac
",git fetch https://review.opendev.org/openstack/releases refs/changes/55/883955/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/tooz.yaml'],1,b38788f1f81306ccf0a9b91791f355fc776033c7,, - version: 4.1.0 projects: - repo: openstack/tooz hash: d5bf20cbcc3647c08025104d559102f44e30bd15,,4,0
openstack%2Fbifrost~master~Ie7adc14d27ef59df99871d4884adbd2bcac4dc78,openstack/bifrost,master,Ie7adc14d27ef59df99871d4884adbd2bcac4dc78,remove unused variables,MERGED,2023-02-20 23:05:23.000000000,2023-05-30 16:33:15.000000000,2023-05-30 16:31:11.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 25600}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-02-20 23:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/4d3da8b8b6b5cb798d8cf2209cd45b9c3e893472', 'message': ""remove unused variables\n\ninit_dest_dir and virt_group don't seem to get used in this role.\n\nChange-Id: Ie7adc14d27ef59df99871d4884adbd2bcac4dc78\n""}, {'number': 2, 'created': '2023-02-28 06:45:53.000000000', 'files': ['playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Debian_family.yml', 'playbooks/roles/bifrost-uwsgi-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu.yml', 'playbooks/roles/bifrost-uwsgi-install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ec83787c7f11cef79f5504b187b3cdf68ea64ac3', 'message': ""remove unused variables\n\ninit_dest_dir and virt_group don't seem to get used in this role.\n\nrename unused init_dest_path to init_dest_dir in uwsgi-install, and\nmove trailing '/' from variable to where it gets used. It's just a\nlittle easier to read with a familiar separator-character.\n\nChange-Id: Ie7adc14d27ef59df99871d4884adbd2bcac4dc78\n""}]",3,874518,ec83787c7f11cef79f5504b187b3cdf68ea64ac3,21,5,2,25600,,,0,"remove unused variables

init_dest_dir and virt_group don't seem to get used in this role.

rename unused init_dest_path to init_dest_dir in uwsgi-install, and
move trailing '/' from variable to where it gets used. It's just a
little easier to read with a familiar separator-character.

Change-Id: Ie7adc14d27ef59df99871d4884adbd2bcac4dc78
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/18/874518/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Debian_family.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu.yml']",3,4d3da8b8b6b5cb798d8cf2209cd45b9c3e893472,ironic-week-prio,,init_dest_dir: /lib/systemd/system/,0,4
openstack%2Fopenstack-ansible-os_nova~stable%2Fyoga~Ic6f2606b5a478c7a891c25bd131ad351a19699bc,openstack/openstack-ansible-os_nova,stable/yoga,Ic6f2606b5a478c7a891c25bd131ad351a19699bc,Install libvirt-deamon for RHEL systems,MERGED,2023-05-26 07:18:17.000000000,2023-05-30 16:33:07.000000000,2023-05-30 16:32:00.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-26 07:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/6b9c00b6f9becd5640ee440a5338f8368c7e988e', 'message': 'Install libvirt-deamon for RHEL systems\n\nCentOS has upgraded their libivrt to version 9.3, where libvirt-daemon\nis not installed as a dependency anymore. So we need to explicitly\nisntall this package to restore functionality.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2209936\n\nChange-Id: Ic6f2606b5a478c7a891c25bd131ad351a19699bc\n(cherry picked from commit 47007578b164287c5bbbf425222cd8a53a37a306)\n'}, {'number': 2, 'created': '2023-05-30 09:51:51.000000000', 'files': ['releasenotes/notes/install_libvirt_daemon_centos-9826ecb428bce8a5.yaml', 'vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/7039c169f648b6977c6a24bb1f886926a10ce702', 'message': 'Install libvirt-deamon for RHEL systems\n\nCentOS has upgraded their libivrt to version 9.3, where libvirt-daemon\nis not installed as a dependency anymore. So we need to explicitly\nisntall this package to restore functionality.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2209936\n\nChange-Id: Ic6f2606b5a478c7a891c25bd131ad351a19699bc\n(cherry picked from commit 47007578b164287c5bbbf425222cd8a53a37a306)\n'}]",0,884381,7039c169f648b6977c6a24bb1f886926a10ce702,10,3,2,28619,,,0,"Install libvirt-deamon for RHEL systems

CentOS has upgraded their libivrt to version 9.3, where libvirt-daemon
is not installed as a dependency anymore. So we need to explicitly
isntall this package to restore functionality.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2209936

Change-Id: Ic6f2606b5a478c7a891c25bd131ad351a19699bc
(cherry picked from commit 47007578b164287c5bbbf425222cd8a53a37a306)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/81/884381/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/install_libvirt_daemon_centos-9826ecb428bce8a5.yaml', 'vars/redhat.yml']",2,6b9c00b6f9becd5640ee440a5338f8368c7e988e,, - libvirt-daemon,,8,0
openstack%2Fbifrost~master~I3b85788cb7603cc921ecfe00864201761e785c95,openstack/bifrost,master,I3b85788cb7603cc921ecfe00864201761e785c95,Fix yaml[octal-values] linter warnings,MERGED,2023-02-23 09:19:51.000000000,2023-05-30 16:32:24.000000000,2023-05-30 16:31:09.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-23 09:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/28d4f14f6faeb85abbe905b61b5d753dcae4f267', 'message': 'Fix yaml[octal-values] linter warnings\n\nChange-Id: I3b85788cb7603cc921ecfe00864201761e785c95\n'}, {'number': 2, 'created': '2023-03-12 22:57:47.000000000', 'files': ['playbooks/roles/ironic-inspect-node/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/download_ipa_image.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'playbooks/roles/bifrost-ironic-install/tasks/ironic_config.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml', '.ansible-lint', 'playbooks/roles/bifrost-ironic-install/tasks/prometheus_exporter_start.yml', 'playbooks/roles/bifrost-uwsgi-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/create_esp.yml', 'playbooks/roles/bifrost-prepare-for-test-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-tls/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-deploy-nodes-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/get_ipxe.yml', 'playbooks/roles/bifrost-keystone-client-config/tasks/main.yml', 'playbooks/roles/bifrost-tls/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d65a6fe455a88bf657a58148e42297722d9dc86b', 'message': 'Fix yaml[octal-values] linter warnings\n\nChange-Id: I3b85788cb7603cc921ecfe00864201761e785c95\n'}]",1,874853,d65a6fe455a88bf657a58148e42297722d9dc86b,15,3,2,25600,,,0,"Fix yaml[octal-values] linter warnings

Change-Id: I3b85788cb7603cc921ecfe00864201761e785c95
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/53/874853/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/ironic-inspect-node/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/download_ipa_image.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'playbooks/roles/bifrost-ironic-install/tasks/ironic_config.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml', 'playbooks/roles/bifrost-ironic-install/tasks/prometheus_exporter_start.yml', 'playbooks/roles/bifrost-uwsgi-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/create_esp.yml', 'playbooks/roles/bifrost-prepare-for-test-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-tls/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-deploy-nodes-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/get_ipxe.yml', 'playbooks/roles/bifrost-keystone-client-config/tasks/main.yml', 'playbooks/roles/bifrost-tls/tasks/main.yml']",18,28d4f14f6faeb85abbe905b61b5d753dcae4f267,linters," mode: ""0755"" mode: ""0600"" mode: ""0600"" mode: ""0644""", mode: 0755 mode: 0600 mode: 0600 mode: 0644,73,73
openstack%2Fcinder~master~I7df25ebe5fada56308d0334e5ac9e5263c19c4cc,openstack/cinder,master,I7df25ebe5fada56308d0334e5ac9e5263c19c4cc,Reader user able to delete a user message,ABANDONED,2023-04-14 05:15:34.000000000,2023-05-30 16:30:34.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-14 05:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f4a54d1ffbbb0637ae9c9fc65bded37961a314af', 'message': 'Reader user able to delete a user message\n\nCloses-Bug: #2009818\nChange-Id: I7df25ebe5fada56308d0334e5ac9e5263c19c4cc\n'}, {'number': 2, 'created': '2023-04-14 05:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1083b0202fc3644071a789cd11e8d110b4ad0a2a', 'message': 'Reader user able to delete a user message\n\nCloses-Bug: #2009818\nChange-Id: I7df25ebe5fada56308d0334e5ac9e5263c19c4cc\n'}, {'number': 3, 'created': '2023-04-14 08:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/56ae48522e4b0974a0a60eb10a6325ac6a870d2a', 'message': 'Reader user able to delete a user message\n\nCloses-Bug: #2009818\nChange-Id: I7df25ebe5fada56308d0334e5ac9e5263c19c4cc\n'}, {'number': 4, 'created': '2023-04-14 10:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5a7718b9cd0f75a0d0ff68dfa3236b0bfd519d32', 'message': 'Reader user able to delete a user message\n\nCloses-Bug: #2009818\nChange-Id: I7df25ebe5fada56308d0334e5ac9e5263c19c4cc\n'}, {'number': 5, 'created': '2023-04-19 06:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/87e5d7ac55c99ec3331a0bca6d8c3d926f031643', 'message': 'Reader user able to delete a user message\n\nCloses-Bug: #2009818\nChange-Id: I7df25ebe5fada56308d0334e5ac9e5263c19c4cc\n'}, {'number': 6, 'created': '2023-04-19 07:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/29cb0dc66fd81f9cedfbe243fe038a9d29d694dc', 'message': 'Reader user able to delete a user message\n\nCloses-Bug: #2009818\nChange-Id: I7df25ebe5fada56308d0334e5ac9e5263c19c4cc\n'}, {'number': 7, 'created': '2023-04-19 07:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d23b6d4ef028c5e37c6e7e33f1fd18ae9353908d', 'message': 'Reader user able to delete a user message\n\nCloses-Bug: #2009818\nChange-Id: I7df25ebe5fada56308d0334e5ac9e5263c19c4cc\n'}, {'number': 8, 'created': '2023-04-19 09:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/472e46159fa7a36fe99bbc2fe419b825c3733260', 'message': 'Reader user able to delete a user message\n\nCloses-Bug: #2009818\nChange-Id: I7df25ebe5fada56308d0334e5ac9e5263c19c4cc\n'}, {'number': 9, 'created': '2023-04-19 10:11:16.000000000', 'files': ['cinder/message/api.py', 'cinder/exception.py', 'cinder/api/v3/messages.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8d85370a4bd3410d71e53a47a1b52b2f74f93f7e', 'message': 'Reader user able to delete a user message\n\nCloses-Bug: #2009818\nChange-Id: I7df25ebe5fada56308d0334e5ac9e5263c19c4cc\n'}]",19,880434,8d85370a4bd3410d71e53a47a1b52b2f74f93f7e,105,3,9,30615,,,0,"Reader user able to delete a user message

Closes-Bug: #2009818
Change-Id: I7df25ebe5fada56308d0334e5ac9e5263c19c4cc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/880434/8 && git format-patch -1 --stdout FETCH_HEAD,['cinder/message/api.py'],1,f4a54d1ffbbb0637ae9c9fc65bded37961a314af,bug/2009818," # We add readonly metadata if it doesn't already exist readonly = self.update_volume_admin_metadata(context.elevated(), volume, {'readonly': 'True'}, update=True)['readonly'] if readonly == 'True' and mode != 'ro': raise exception.InvalidMessageDeleteRequest(mode=mode, id) else: return self.db.message_destroy(ctx, id)"," return self.db.message_destroy(ctx, id)",10,1
openstack%2Fopenstack-ansible~stable%2Ftrain~Ibe97ec0a55bcf0988bc012684cb3fc58c1f578a5,openstack/openstack-ansible,stable/train,Ibe97ec0a55bcf0988bc012684cb3fc58c1f578a5,DNM: Upgrade ceph to nautilus and enable msgr2,ABANDONED,2020-03-02 14:03:13.000000000,2023-05-30 16:26:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-03-02 14:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d77ea8a5840d2826312b1c7bdbf172db735043d9', 'message': ""WIP/DNM: Upgrade ceph to nautilus and enable msgr2\n\nCurrently if you run-upgrade from stein to train, if you haven't upgraded\nceph from mimic to nautilus already, you'll get left in a bad state running\nthe upgrade script. You need to enable msgr2 on your mons for ceph-install.yml\nto run to completion on an existing cluster.\n\nrolling_update=true deploys a temporary/transitional ceph.conf allowing you to\nenable msgr2 on mons.\nupgrade_ceph_packages=true switches from state=installed to state=latest in\none of the ceph roles\n\nChange-Id: Ibe97ec0a55bcf0988bc012684cb3fc58c1f578a5\n""}, {'number': 2, 'created': '2020-03-05 15:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/57b88b4ed497d1690200b7bfc5add3e331eb0f6d', 'message': 'WIP/DNM: Upgrade ceph to nautilus and enable msgr2\n\nCurrently if you run-upgrade from stein to train, if you haven\'t upgraded\nceph from mimic to nautilus already, you\'ll get left in a bad state running\nthe upgrade script. You need to enable msgr2 on your mons for ceph-install.yml\nto run to completion on an existing cluster. And you can only do that\nafter the mons have been upgraded.\n\nrolling_update=true deploys a temporary/transitional ceph.conf for nautilus,\nallowing you to enable msgr2 on mons.\n\nupgrade_ceph_packages=true switches from state=installed to state=latest in\nthe ceph-common role\n\nProblem 1)\nthe packages get updated, but mons aren\'t getting restarted.\ntrying a different ordering of ceph-common and ceph-handlers\n\nProblem 2)\nFAILED! => {""changed"": false, ""msg"": ""initial keyring does not contain\nkeys: client.bootstrap-rbd-mirror"", ""rc"": 1}\n\nChange-Id: Ibe97ec0a55bcf0988bc012684cb3fc58c1f578a5\n'}, {'number': 3, 'created': '2020-03-06 06:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8f8fef210e145aa7115eb5ffd8b08acdd4f6caa4', 'message': ""WIP/DNM: Upgrade ceph to nautilus and enable msgr2\n\nCurrently if you run-upgrade from stein to train, if you haven't upgraded\nceph from mimic to nautilus already, you'll get left in a bad state running\nthe upgrade script. You need to enable msgr2 on your mons for ceph-install.yml\nto run to completion on an existing cluster. And you can only do that\nafter the mons have been upgraded.\n\nrolling_update=true deploys a temporary/transitional ceph.conf for nautilus,\nallowing you to enable msgr2 on mons.\n\nupgrade_ceph_packages=true switches from state=installed to state=latest in\nthe ceph-common role\n\nWe have two upgrade-utilities, one to enable msgr2 and one to fix missing ceph\nkey for rbd-mirror. These could perhaps be in a single file called\nceph-mon-nautilus-upgrade.yml\n\nProblem 1)\nthe packages get updated, but mons aren't getting restarted.\ntrying a different ordering of ceph-common and ceph-handlers\n\nChange-Id: Ibe97ec0a55bcf0988bc012684cb3fc58c1f578a5\n""}, {'number': 4, 'created': '2020-04-29 08:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/426c3f2eac31945503dfe905d50a37f6e6427662', 'message': ""WIP/DNM: Upgrade ceph to nautilus and enable msgr2\n\nCurrently if you run-upgrade.sh from stein to train, if you haven't upgraded\nceph from mimic to nautilus already, you'll get left in a bad state running\nthe upgrade script. You need to enable msgr2 on your mons for ceph-install.yml\nto run to completion on an existing cluster. And you can only do that\nafter the mons have been upgraded to nautilus.\n\nrolling_update=true deploys a temporary/transitional ceph.conf for nautilus,\nallowing you to enable msgr2 on mons.\n\nupgrade_ceph_packages=true switches from state=installed to state=latest in\nthe ceph-common role\n\nopenstack_config=false makes sure we're not applying/creating pools with\npg_autoscale_mode before require-osd-release is set to nautilus\n\nceph-nautilus-upgrade.yml fixes three things;\n 1. missing ceph key for rbd-mirror.\n 2. enables msgr2\n 3. sets require-osd-release to nautilus so openstack_config can be applied\n    to pools with pg_autoscale_mode\n\nWe should then be able to proceed with normal upgrades.\n\nProblem;\nThe packages get updated, but mons aren't getting restarted. Force notifying\nhandlers on rolling_update to see if that could work?\n\nDepends-On: I3e95b7fad6eda9f689287efe16c35418a9e7e561\nChange-Id: Ibe97ec0a55bcf0988bc012684cb3fc58c1f578a5\n""}, {'number': 5, 'created': '2020-05-08 10:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8eb0863f5f415b52da0dda57013059d5b7bbdf4d', 'message': ""WIP/DNM: Upgrade ceph to nautilus and enable msgr2\n\nCurrently if you run-upgrade.sh from stein to train, if you haven't upgraded\nceph from mimic to nautilus already, you'll get left in a bad state running\nthe upgrade script. You need to enable msgr2 on your mons for ceph-install.yml\nto run to completion on an existing cluster. And you can only do that\nafter the mons have been upgraded to nautilus.\n\nrolling_update=true deploys a temporary/transitional ceph.conf for nautilus,\nallowing you to enable msgr2 on mons. This flag will block handlers from\nrunning.\n\nupgrade_ceph_packages=true switches from state=installed to state=latest in\nthe ceph-common role\n\nopenstack_config=false makes sure we're not applying/creating pools with\npg_autoscale_mode before require-osd-release is set to nautilus\n\nceph-nautilus-upgrade.yml fixes five things;\n 1. restarting the mon/mgr/osd services after the rolling_update\n 2. stop and clean out old ceph-rgw service file\n 3. missing ceph key for rbd-mirror.\n 4. enables msgr2\n 5. sets require-osd-release to nautilus so openstack_config can be applied\n    to pools with pg_autoscale_mode\n\nWe should then be able to proceed with normal upgrades.\n\nProblem;\nThe ceph-rgw-install can't run until keystone has been upgraded. Also there's a\nchange in how the ceph-rados@.service is named in ceph-ansible/stable-4.0, and\nno cleanup of previous service, so the new one will fail to grab it's port\nbecause the old service holds it. The stop/cleanup of rgw will cause a\nsignificant amount of downtime, as it won't become active until\nsetup-infrastructure and setup-openstack completes.\n\nDepends-On: I3e95b7fad6eda9f689287efe16c35418a9e7e561\nChange-Id: Ibe97ec0a55bcf0988bc012684cb3fc58c1f578a5\n""}, {'number': 6, 'created': '2020-05-19 08:23:06.000000000', 'files': ['scripts/upgrade-utilities/ceph-nautilus-upgrades.yml', 'scripts/run-upgrade.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1db441a8e382cd069ca217802c3786b468fce5e6', 'message': ""DNM: Upgrade ceph to nautilus and enable msgr2\n\nCurrently if you run-upgrade.sh from stein to train, if you haven't upgraded\nceph from mimic to nautilus already, you'll get left in a bad state running\nthe upgrade script. You need to enable msgr2 on your mons for ceph-install.yml\nto run to completion on an existing cluster. And you can only do that\nafter the mons have been upgraded to nautilus.\n\nrolling_update=true deploys a temporary/transitional ceph.conf for nautilus,\nallowing you to enable msgr2 on mons. This flag will block handlers from\nrunning.\n\nupgrade_ceph_packages=true switches from state=installed to state=latest in\nthe ceph-common role\n\nopenstack_config=false makes sure we're not applying/creating pools with\npg_autoscale_mode before require-osd-release is set to nautilus\n\nceph-nautilus-upgrade.yml fixes five things;\n 1. restarting the mon/mgr/osd services after the rolling_update\n 2. stop and clean out old ceph-rgw service file\n 3. missing ceph key for rbd-mirror.\n 4. enables msgr2\n 5. sets require-osd-release to nautilus so openstack_config can be applied\n    to pools with pg_autoscale_mode\n\nWe should then be able to proceed with normal upgrades.\n\nProblem;\nThe ceph-rgw-install can't run until keystone has been upgraded. Also there's a\nchange in how the ceph-rados@.service is named in ceph-ansible/stable-4.0, and\nno cleanup of previous service, so the new one will fail to grab it's port\nbecause the old service holds it. The stop/cleanup of rgw will cause a\nsignificant amount of downtime, as it won't become active until\nsetup-infrastructure and setup-openstack completes.\n\nDepends-On: I3e95b7fad6eda9f689287efe16c35418a9e7e561\nChange-Id: Ibe97ec0a55bcf0988bc012684cb3fc58c1f578a5\n""}]",0,710778,1db441a8e382cd069ca217802c3786b468fce5e6,15,3,6,25600,,,0,"DNM: Upgrade ceph to nautilus and enable msgr2

Currently if you run-upgrade.sh from stein to train, if you haven't upgraded
ceph from mimic to nautilus already, you'll get left in a bad state running
the upgrade script. You need to enable msgr2 on your mons for ceph-install.yml
to run to completion on an existing cluster. And you can only do that
after the mons have been upgraded to nautilus.

rolling_update=true deploys a temporary/transitional ceph.conf for nautilus,
allowing you to enable msgr2 on mons. This flag will block handlers from
running.

upgrade_ceph_packages=true switches from state=installed to state=latest in
the ceph-common role

openstack_config=false makes sure we're not applying/creating pools with
pg_autoscale_mode before require-osd-release is set to nautilus

ceph-nautilus-upgrade.yml fixes five things;
 1. restarting the mon/mgr/osd services after the rolling_update
 2. stop and clean out old ceph-rgw service file
 3. missing ceph key for rbd-mirror.
 4. enables msgr2
 5. sets require-osd-release to nautilus so openstack_config can be applied
    to pools with pg_autoscale_mode

We should then be able to proceed with normal upgrades.

Problem;
The ceph-rgw-install can't run until keystone has been upgraded. Also there's a
change in how the ceph-rados@.service is named in ceph-ansible/stable-4.0, and
no cleanup of previous service, so the new one will fail to grab it's port
because the old service holds it. The stop/cleanup of rgw will cause a
significant amount of downtime, as it won't become active until
setup-infrastructure and setup-openstack completes.

Depends-On: I3e95b7fad6eda9f689287efe16c35418a9e7e561
Change-Id: Ibe97ec0a55bcf0988bc012684cb3fc58c1f578a5
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/78/710778/2 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/run-upgrade.sh', 'scripts/upgrade-utilities/ceph-mon-enable-msgr2.yml']",2,d77ea8a5840d2826312b1c7bdbf172db735043d9,,"--- - name: enable messenger v2 hosts: ceph-mon gather_facts: false user: root tasks: - name: ceph monitor command command: ceph-mon enable-msgr2"" run_once: true when: not containerized_deployment | bool ",,15,1
openstack%2Foctavia~stable%2F2023.1~I8ef0bbca3c344a8b43f1560bc4ceef8ddec7d9ef,openstack/octavia,stable/2023.1,I8ef0bbca3c344a8b43f1560bc4ceef8ddec7d9ef,Splitting scenario jobs in 2,MERGED,2023-05-30 08:03:26.000000000,2023-05-30 16:26:24.000000000,2023-05-30 16:24:01.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-05-30 08:03:26.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/920dbfa5ad7d529ba0ee6ae2162fb73ddfc8ec13', 'message': ""Splitting scenario jobs in 2\n\nSplitting octavia-v2-dsvm-scenario and octavia-v2-dsvm-scenario-jobboard\nin 2 jobs.\nIt would reduce the duration of the jobs and avoid potential timeouts on\nslow hosts.\n\nOn stable branches this commit:\n- is also squashed with 721398019dfb94e89e58ec85bef0b73ff69e08af which\n  apply the same changes in the gate pipeline\n- doesn't enable the jobboard jobs\n\nChange-Id: I8ef0bbca3c344a8b43f1560bc4ceef8ddec7d9ef\n(cherry picked from commit 80d316f5cbcff63cb880fc294f4e1ad39973189f)\n""}]",1,884654,920dbfa5ad7d529ba0ee6ae2162fb73ddfc8ec13,8,3,1,29244,,,0,"Splitting scenario jobs in 2

Splitting octavia-v2-dsvm-scenario and octavia-v2-dsvm-scenario-jobboard
in 2 jobs.
It would reduce the duration of the jobs and avoid potential timeouts on
slow hosts.

On stable branches this commit:
- is also squashed with 721398019dfb94e89e58ec85bef0b73ff69e08af which
  apply the same changes in the gate pipeline
- doesn't enable the jobboard jobs

Change-Id: I8ef0bbca3c344a8b43f1560bc4ceef8ddec7d9ef
(cherry picked from commit 80d316f5cbcff63cb880fc294f4e1ad39973189f)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/54/884654/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,920dbfa5ad7d529ba0ee6ae2162fb73ddfc8ec13,,- job: name: octavia-v2-dsvm-scenario-traffic-ops-jobboard parent: octavia-v2-dsvm-scenario-traffic-ops vars: devstack_localrc: OCTAVIA_ENABLE_AMPHORAV2_JOBBOARD: True - job: name: octavia-v2-dsvm-scenario-non-traffic-ops-jobboard parent: octavia-v2-dsvm-scenario-non-traffic-ops vars: devstack_localrc: OCTAVIA_ENABLE_AMPHORAV2_JOBBOARD: True ,,19,2
openstack%2Fpuppet-nova~master~I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b,openstack/puppet-nova,master,I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b,Add release note about libvirt-daemon package installation,MERGED,2023-05-29 14:10:49.000000000,2023-05-30 16:17:22.000000000,2023-05-30 16:16:13.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 14:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7999e04b1e21bbc10cb7ae9878ee7fb001e97c23', 'message': 'Add release note about libvirt-daemon package installation\n\nThis adds a release note about the installation of libvirt-daemon\npackage, which was added by [1].\n\n[1] I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n\nChange-Id: I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b\n'}, {'number': 2, 'created': '2023-05-29 14:11:59.000000000', 'files': ['releasenotes/notes/libvirt-daemon-1cfe1bd9f29708fe.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/00a3b773102ff5b4fb32eaec4464aa97e31fe7c0', 'message': 'Add release note about libvirt-daemon package installation\n\nThis adds a release note about the installation of libvirt-daemon\npackage, which was added by [1].\n\n[1] I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n\nChange-Id: I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b\n'}]",0,884626,00a3b773102ff5b4fb32eaec4464aa97e31fe7c0,9,3,2,9816,,,0,"Add release note about libvirt-daemon package installation

This adds a release note about the installation of libvirt-daemon
package, which was added by [1].

[1] I612856bfd23f980b1e94815d3b5e15e0ea39f72e

Change-Id: I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/26/884626/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/libvirt-daemon-1cfe1bd9f29708fe.yaml'],1,7999e04b1e21bbc10cb7ae9878ee7fb001e97c23,,--- features: - | The ``nova::compute::libvirt::services`` class now installs the ``libvirt-damon`` package explicitly in CentOS and RHEL when modular libvirt daemons are not used. This is required in recent CentOS Stream 9 because the libvirt-daemon is no longer installed automatically by package dependencies. ,,8,0
