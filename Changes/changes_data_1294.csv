id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fpuppet-ceph~master~I0c0402185cc3fc5fc61f054ccaab61fc4940a193,openstack/puppet-ceph,master,I0c0402185cc3fc5fc61f054ccaab61fc4940a193,Add year to Copyright,ABANDONED,2014-06-17 14:49:33.000000000,2014-06-17 15:46:04.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-06-17 14:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/b22a47d3a02ad09b4422e4f8ec9ea3c20d90b19a', 'message': 'Add year to Copyright\n\nChange-Id: I0c0402185cc3fc5fc61f054ccaab61fc4940a193\n'}, {'number': 2, 'created': '2014-06-17 14:51:19.000000000', 'files': ['manifests/mds.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/e312015da0bea4aee587b803a24a54dfc4a3a9c3', 'message': 'Add year to Copyright\n\nCloses-Bug: #1330929\nChange-Id: I0c0402185cc3fc5fc61f054ccaab61fc4940a193\n'}]",0,100570,e312015da0bea4aee587b803a24a54dfc4a3a9c3,6,1,2,11980,,,0,"Add year to Copyright

Closes-Bug: #1330929
Change-Id: I0c0402185cc3fc5fc61f054ccaab61fc4940a193
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/70/100570/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/mds.pp'],1,b22a47d3a02ad09b4422e4f8ec9ea3c20d90b19a,,"# Copyright (C) 2013, 2014 iWeb Technologies Inc.",# Copyright (C) iWeb Technologies Inc.,1,1
openstack%2Fdevstack-gate~master~I0e4fd5a1f1cde138af08f1cf9bf4b9e80c241e81,openstack/devstack-gate,master,I0e4fd5a1f1cde138af08f1cf9bf4b9e80c241e81,Add an option to enable the nova v3 api tests,MERGED,2014-06-13 03:56:25.000000000,2014-06-17 15:45:12.000000000,2014-06-17 15:45:12.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6786}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-13 03:56:25.000000000', 'files': ['devstack-vm-gate.sh', 'devstack-vm-gate-wrap.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/451522261af70df59874dfa2930fb4e61f9e4cc6', 'message': 'Add an option to enable the nova v3 api tests\n\nThis commit adds a new env variable DEVSTACK_GATE_TEMPEST_NOVA_V3_API\nused to enable the Nova v3 API tests in tempest. This depends on\ndevstack change: If14deb80f271061e70fae6c3d13b210ac0dd9399\n\nChange-Id: I0e4fd5a1f1cde138af08f1cf9bf4b9e80c241e81\n'}]",0,99833,451522261af70df59874dfa2930fb4e61f9e4cc6,13,4,1,5196,,,0,"Add an option to enable the nova v3 api tests

This commit adds a new env variable DEVSTACK_GATE_TEMPEST_NOVA_V3_API
used to enable the Nova v3 API tests in tempest. This depends on
devstack change: If14deb80f271061e70fae6c3d13b210ac0dd9399

Change-Id: I0e4fd5a1f1cde138af08f1cf9bf4b9e80c241e81
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/33/99833/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack-vm-gate.sh', 'devstack-vm-gate-wrap.sh']",2,451522261af70df59874dfa2930fb4e61f9e4cc6,nova-v3-option,# Set to 1 to enable the Nova v3 API tests export DEVSTACK_GATE_TEMPEST_NOVA_API_v3=${DEVSTACK_GATE_TEMPEST_NOVA_API_v3:-0} ,,6,0
openstack%2Fpuppet-ceph~master~Ie60a7201ea1211ba342a0ac9e900ad95865528cd,openstack/puppet-ceph,master,Ie60a7201ea1211ba342a0ac9e900ad95865528cd,Add date to Copyright,ABANDONED,2014-06-17 13:13:09.000000000,2014-06-17 15:41:31.000000000,,"[{'_account_id': 3}, {'_account_id': 2064}, {'_account_id': 11981}, {'_account_id': 11986}]","[{'number': 1, 'created': '2014-06-17 13:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/dad970ae6dcbdd0a8f7bcda927e21057a777c1b4', 'message': 'Add year to Copyright\n\nChange-Id: Ie60a7201ea1211ba342a0ac9e900ad95865528cd\n'}, {'number': 2, 'created': '2014-06-17 13:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/47b5d18b021a27791af6221719f0a83b9b5a10f7', 'message': ""Add Copryright date\n\nReplaced 'Copyright (C) iWeb Technologies Inc.' with 'Copyright (C) 2013, 2014 iWeb Technologies Inc.'\nCloses-Bug: #1330929\nChange-Id: Ie60a7201ea1211ba342a0ac9e900ad95865528cd\n""}, {'number': 3, 'created': '2014-06-17 14:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/a61468244ec3e4c71ccf0413cc83013d2c1ea28d', 'message': ""Add date to Copyright\n\nCopyright notice of file should be 'Copyright (C) iWeb Technologies Inc.' instead of 'Copyright (C) 2013, 2014 iWeb Technologies Inc.'\nCloses-Bug: #1330929\nChange-Id: Ie60a7201ea1211ba342a0ac9e900ad95865528cd\n""}, {'number': 4, 'created': '2014-06-17 14:40:27.000000000', 'files': ['manifests/mds.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/e14fd554b961e22eaf829b7af831d5c5a10e09af', 'message': ""Add date to Copyright\n\nCopyright notice of file should be 'Copyright (C) 2013, 2014  iWeb Technologies Inc.' instead of 'Copyright (C) iWeb Technologies Inc.'\nCloses-Bug: #1330929\nChange-Id: Ie60a7201ea1211ba342a0ac9e900ad95865528cd\n""}]",0,100534,e14fd554b961e22eaf829b7af831d5c5a10e09af,18,4,4,11980,,,0,"Add date to Copyright

Copyright notice of file should be 'Copyright (C) 2013, 2014  iWeb Technologies Inc.' instead of 'Copyright (C) iWeb Technologies Inc.'
Closes-Bug: #1330929
Change-Id: Ie60a7201ea1211ba342a0ac9e900ad95865528cd
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/34/100534/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/mds.pp'],1,dad970ae6dcbdd0a8f7bcda927e21057a777c1b4,master,"# Copyright (C) 2013, 2014 iWeb Technologies Inc.",# Copyright (C) iWeb Technologies Inc.,1,1
openstack%2Fpuppet-ceph~master~I8625c4f0b9733b96d8c54aac76339c7b50eb9ef4,openstack/puppet-ceph,master,I8625c4f0b9733b96d8c54aac76339c7b50eb9ef4,The year missing in Copyright is add,MERGED,2014-06-17 14:24:17.000000000,2014-06-17 15:39:48.000000000,2014-06-17 15:39:48.000000000,"[{'_account_id': 3}, {'_account_id': 2064}, {'_account_id': 11479}]","[{'number': 1, 'created': '2014-06-17 14:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/9dbee105b3287245fc9e814a98a48fffde8daadd', 'message': 'The year missing in Copyright is add\n\nChange-Id: I8625c4f0b9733b96d8c54aac76339c7b50eb9ef4\n'}, {'number': 2, 'created': '2014-06-17 14:32:33.000000000', 'files': ['spec/classes/ceph_mds_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/d94c7754a25da674047ebee1906f554a760d0da3', 'message': 'The year missing in Copyright is add\n\nCloses-bug: #1330987\nChange-Id: I8625c4f0b9733b96d8c54aac76339c7b50eb9ef4\n'}]",0,100565,d94c7754a25da674047ebee1906f554a760d0da3,10,3,2,11995,,,0,"The year missing in Copyright is add

Closes-bug: #1330987
Change-Id: I8625c4f0b9733b96d8c54aac76339c7b50eb9ef4
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/65/100565/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/ceph_mds_spec.rb'],1,9dbee105b3287245fc9e814a98a48fffde8daadd,,"# Copyright (C) 2013, 2014 iWeb Technologies Inc.",# Copyright (C) iWeb Technologies Inc.,1,1
openstack%2Fpuppet-ceph~master~I26d365003d5e74fea26c70202c0d0acb1dfec25e,openstack/puppet-ceph,master,I26d365003d5e74fea26c70202c0d0acb1dfec25e,test super :),ABANDONED,2014-06-17 14:24:17.000000000,2014-06-17 15:37:55.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-06-17 14:24:17.000000000', 'files': ['manifests/key.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/6e8a5d39f8d73c231f0636166f766a4099555f22', 'message': 'test super :)\n\nChange-Id: I26d365003d5e74fea26c70202c0d0acb1dfec25e\n'}]",0,100564,6e8a5d39f8d73c231f0636166f766a4099555f22,4,1,1,11995,,,0,"test super :)

Change-Id: I26d365003d5e74fea26c70202c0d0acb1dfec25e
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/64/100564/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/key.pp'],1,6e8a5d39f8d73c231f0636166f766a4099555f22,,# keys into or delete keys from the cluster/keyring via ceph and ceph-authtool,# keys into or delete keys from the cluster/keyring via ceph and ceph-autotool,1,1
openstack%2Fpuppet-ceph~master~Ie0ccf6cfeab56f6098d4279b9f21d9813b253610,openstack/puppet-ceph,master,Ie0ccf6cfeab56f6098d4279b9f21d9813b253610,incorrect cloudwatt.com email in spec_helper_system.rb,ABANDONED,2014-06-17 14:22:24.000000000,2014-06-17 15:36:56.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-06-17 14:22:24.000000000', 'files': ['spec/spec_helper_system.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/2a2da01973479fafc52107f0d6da39b1a8bdc14c', 'message': 'incorrect cloudwatt.com email in spec_helper_system.rb\n\nCloses bug: #1331008\nChange-Id: Ie0ccf6cfeab56f6098d4279b9f21d9813b253610\n'}]",0,100562,2a2da01973479fafc52107f0d6da39b1a8bdc14c,4,1,1,11982,,,0,"incorrect cloudwatt.com email in spec_helper_system.rb

Closes bug: #1331008
Change-Id: Ie0ccf6cfeab56f6098d4279b9f21d9813b253610
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/62/100562/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper_system.rb'],1,2a2da01973479fafc52107f0d6da39b1a8bdc14c,,# Copyright (C) 2013 Cloudwatt <libre.licensing@cloudwatt.com>,# Copyright 2013 Cloudwatt <libre-licensing@cloudwatt.com>,1,1
openstack%2Fopenstack-doc-tools~master~Ifeef11b783dbe70b2652d2b9ea29d5b20f69f2ce,openstack/openstack-doc-tools,master,Ifeef11b783dbe70b2652d2b9ea29d5b20f69f2ce,Bump hacking to 0.9.x series,MERGED,2014-06-10 14:57:25.000000000,2014-06-17 15:28:30.000000000,2014-06-17 15:28:30.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 7923}]","[{'number': 1, 'created': '2014-06-10 14:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/5505009c8464c9540832fc130cded0457bb9f8ed', 'message': 'WIP: Bump hacking to 0.9.x series\n\nRequire at least 0.9.1 because 0.9.0. had a minor bug.\n\nChange-Id: Ifeef11b783dbe70b2652d2b9ea29d5b20f69f2ce\n'}, {'number': 2, 'created': '2014-06-10 15:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/765d6fb2b21c01e00cf26702cf2e8d78424da355', 'message': 'WIP: Bump hacking to 0.9.x series\n\nRequire at least 0.9.1 because 0.9.0. had a minor bug.\n\nThis change also fixes all found issues.\n\nChange-Id: Ifeef11b783dbe70b2652d2b9ea29d5b20f69f2ce\n'}, {'number': 3, 'created': '2014-06-11 07:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/200d345c490480b96652f1523dccfb3095dd401d', 'message': 'Bump hacking to 0.9.x series\n\nRequire at least 0.9.1 because 0.9.0. had a minor bug.\n\nThis change also fixes all found issues.\n\nChange-Id: Ifeef11b783dbe70b2652d2b9ea29d5b20f69f2ce\n'}, {'number': 4, 'created': '2014-06-11 07:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/02c2d2086e74f32ab9b5c943db04868e99056110', 'message': 'Bump hacking to 0.9.x series\n\nRequire at least 0.9.1 because 0.9.0. had a minor bug.\n\nThis change also fixes all found issues.\n\nRewrote some docstrings to fit H405.\n\nChange-Id: Ifeef11b783dbe70b2652d2b9ea29d5b20f69f2ce\n'}, {'number': 5, 'created': '2014-06-11 08:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/318e2fbdf2fb470344f2d9c3a1c91f12f3971f41', 'message': 'Bump hacking to 0.9.x series\n\nRequire at least 0.9.1 because 0.9.0. had a minor bug.\n\nThis change also fixes all found issues.\n\nRewrote some docstrings to fit H405.\n\nChange-Id: Ifeef11b783dbe70b2652d2b9ea29d5b20f69f2ce\n'}, {'number': 6, 'created': '2014-06-11 08:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/6e54c7c849f4bfa15098b36a9f88b39f50c77723', 'message': 'Bump hacking to 0.9.x series\n\nRequire at least 0.9.1 because 0.9.0. had a minor bug.\n\nThis change also fixes all found issues.\n\nRewrote some docstrings to fit H405.\n\nChange-Id: Ifeef11b783dbe70b2652d2b9ea29d5b20f69f2ce\n'}, {'number': 7, 'created': '2014-06-12 07:17:44.000000000', 'files': ['sitemap/generator/spiders/sitemap.py', 'os_doc_tools/doctest.py', 'test-requirements.txt', 'autogenerate_config_docs/autohelp.py', 'autogenerate_config_docs/diff_branches.py', 'autogenerate_config_docs/test/generator.py', 'cleanup/retf/retf.py', 'sitemap/generator/pipelines.py', 'autogenerate_config_docs/extract_swift_flags.py'], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/d449a6bcd2d87f006cf3a70120f11cf59ff80d04', 'message': 'Bump hacking to 0.9.x series\n\nRequire at least 0.9.1 because 0.9.0. had a minor bug.\n\nThis change also fixes all found issues.\n\nRewrote some docstrings to fit H405.\n\nChange-Id: Ifeef11b783dbe70b2652d2b9ea29d5b20f69f2ce\n'}]",0,99111,d449a6bcd2d87f006cf3a70120f11cf59ff80d04,31,3,7,167,,,0,"Bump hacking to 0.9.x series

Require at least 0.9.1 because 0.9.0. had a minor bug.

This change also fixes all found issues.

Rewrote some docstrings to fit H405.

Change-Id: Ifeef11b783dbe70b2652d2b9ea29d5b20f69f2ce
",git fetch https://review.opendev.org/openstack/openstack-doc-tools refs/changes/11/99111/3 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,5505009c8464c9540832fc130cded0457bb9f8ed,hacking,"hacking>=0.9.1,<0.10","hacking>=0.8.0,<0.9",1,1
openstack%2Fpuppet-ceph~master~If01fd0726db3da1ecbe32bdb57d994dcf5587e58,openstack/puppet-ceph,master,If01fd0726db3da1ecbe32bdb57d994dcf5587e58,missing year in mon.pp copyright notice,MERGED,2014-06-17 13:20:40.000000000,2014-06-17 15:27:10.000000000,2014-06-17 15:27:10.000000000,"[{'_account_id': 3}, {'_account_id': 2064}, {'_account_id': 10068}, {'_account_id': 11479}, {'_account_id': 11958}, {'_account_id': 11959}, {'_account_id': 11960}]","[{'number': 1, 'created': '2014-06-17 13:20:40.000000000', 'files': ['manifests/mon.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/7886018944b3d5afe14b6081ed8eb2f8149a7ef4', 'message': 'missing year in mon.pp copyright notice\n\nChange-Id: If01fd0726db3da1ecbe32bdb57d994dcf5587e58\nCloses-bug: 1330928\n'}]",0,100541,7886018944b3d5afe14b6081ed8eb2f8149a7ef4,13,7,1,11961,,,0,"missing year in mon.pp copyright notice

Change-Id: If01fd0726db3da1ecbe32bdb57d994dcf5587e58
Closes-bug: 1330928
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/41/100541/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/mon.pp'],1,7886018944b3d5afe14b6081ed8eb2f8149a7ef4,,"# Copyright (C) 2013, 2014 iWeb Technologies Inc.",# Copyright (C) iWeb Technologies Inc.,1,1
openstack%2Fpuppet-ceph~master~I7d05de24cc364682c0925fc7c0897215e09c3d9e,openstack/puppet-ceph,master,I7d05de24cc364682c0925fc7c0897215e09c3d9e,missing year in params.pp copyright notice,MERGED,2014-06-17 12:51:10.000000000,2014-06-17 15:26:00.000000000,2014-06-17 15:25:59.000000000,"[{'_account_id': 3}, {'_account_id': 2064}, {'_account_id': 10068}, {'_account_id': 11479}, {'_account_id': 11958}, {'_account_id': 11959}, {'_account_id': 11961}]","[{'number': 1, 'created': '2014-06-17 12:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/474f1322a4eef9d40b8a36d559b64c19d6da0bc4', 'message': 'missing year in params.pp copyright notice closes bug : 1330927\n\nChange-Id: I7d05de24cc364682c0925fc7c0897215e09c3d9e\n'}, {'number': 2, 'created': '2014-06-17 12:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/2d5b7d1f5f3f918206bab73aaa3c48909da4a970', 'message': 'missing year in params.pp copyright notice\n\nChange-Id: I7d05de24cc364682c0925fc7c0897215e09c3d9e\nCloses-Bug: 1330927\n'}, {'number': 3, 'created': '2014-06-17 13:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/bff768416340b5677e9ede0d89cf138bf464cba5', 'message': 'missing year in params.pp copyright notice\n\nCloses bug : 1330927\nChange-Id: I7d05de24cc364682c0925fc7c0897215e09c3d9e\n'}, {'number': 4, 'created': '2014-06-17 13:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/0e8430d9bd9cdb2c2680fd8d8194b3094a997249', 'message': 'missing year in params.pp copyright notice\n\nChange-Id: I7d05de24cc364682c0925fc7c0897215e09c3d9e\nCloses-bug : 1330927\n'}, {'number': 5, 'created': '2014-06-17 13:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/38868245c42908ea017906db3f282fcc4d69d035', 'message': 'missing year in params.pp copyright notice\n\nChange-Id: I7d05de24cc364682c0925fc7c0897215e09c3d9e\nCloses-Bug : 1330927\n'}, {'number': 6, 'created': '2014-06-17 13:25:27.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/a26b95c145f40a76f053a8c52619034984898829', 'message': 'missing year in params.pp copyright notice\n\nChange-Id: I7d05de24cc364682c0925fc7c0897215e09c3d9e\nCloses-Bug: 1330927\n'}]",0,100530,a26b95c145f40a76f053a8c52619034984898829,25,7,6,11960,,,0,"missing year in params.pp copyright notice

Change-Id: I7d05de24cc364682c0925fc7c0897215e09c3d9e
Closes-Bug: 1330927
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/30/100530/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/params.pp']",2,474f1322a4eef9d40b8a36d559b64c19d6da0bc4,,"# Copyright (C) 2013, 2014 iWeb Technologies Inc.",# Copyright (C) iWeb Technologies Inc.,2,2
openstack%2Fpuppet-ceph~master~I52a9373d9f3aa941ce0277e476dba9d72c63ab70,openstack/puppet-ceph,master,I52a9373d9f3aa941ce0277e476dba9d72c63ab70,ceph-autotool typo,MERGED,2014-06-17 09:32:49.000000000,2014-06-17 15:25:54.000000000,2014-06-17 15:25:54.000000000,"[{'_account_id': 3}, {'_account_id': 2064}, {'_account_id': 9133}, {'_account_id': 10068}, {'_account_id': 11479}, {'_account_id': 11959}]","[{'number': 1, 'created': '2014-06-17 09:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/3b7bf4607aaaa45faca5e2ce437bb78837465088', 'message': 'ceph-autotool typo\n\nIn manifests/key.pp replace ceph-autotool with ceph-authtool (replace\nthe o with an h)\n\nChange-Id: I52a9373d9f3aa941ce0277e476dba9d72c63ab70\n'}, {'number': 2, 'created': '2014-06-17 11:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/3acaca1f23500eed0b1bcd8587d9414bb7e0cef8', 'message': 'ceph-autotool typo\n\nhttps://bugs.launchpad.net/puppet-ceph/+bug/1326258 \n\nIn manifests/key.pp replace ceph-autotool with ceph-authtool (replace\nthe o with an h)\n\nChange-Id: I52a9373d9f3aa941ce0277e476dba9d72c63ab70\n'}, {'number': 3, 'created': '2014-06-17 11:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/13c8c7d54655bd78b4526f8afeac035ffa302d10', 'message': 'ceph-autotool typo\n\nhttps://bugs.launchpad.net/puppet-ceph/+bug/1326258 \n\nIn manifests/key.pp replace ceph-autotool with ceph-authtool (replace\nthe o with an h)\n\nChange-Id: I52a9373d9f3aa941ce0277e476dba9d72c63ab70\nCloses-Bug: #1326258\n'}, {'number': 4, 'created': '2014-06-17 11:50:37.000000000', 'files': ['manifests/key.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/c5e1e5e73dac2bcaac3b4c59067bfb31b0093833', 'message': 'ceph-autotool typo\n\nIn manifests/key.pp replace ceph-autotool with ceph-authtool (replace\nthe o with an h)\n\nChange-Id: I52a9373d9f3aa941ce0277e476dba9d72c63ab70\nCloses-Bug: #1326258\n'}]",0,100467,c5e1e5e73dac2bcaac3b4c59067bfb31b0093833,22,6,4,11992,,,0,"ceph-autotool typo

In manifests/key.pp replace ceph-autotool with ceph-authtool (replace
the o with an h)

Change-Id: I52a9373d9f3aa941ce0277e476dba9d72c63ab70
Closes-Bug: #1326258
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/67/100467/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/key.pp'],1,3b7bf4607aaaa45faca5e2ce437bb78837465088,,# keys into or delete keys from the cluster/keyring via ceph and ceph-authtool,# keys into or delete keys from the cluster/keyring via ceph and ceph-autotool,1,1
openstack%2Ffuel-web~master~I9bea9a498295b5db2114874c3502425d7dc94b46,openstack/fuel-web,master,I9bea9a498295b5db2114874c3502425d7dc94b46,Check Env for exist before validating assignment,MERGED,2014-05-15 16:37:31.000000000,2014-06-17 15:24:56.000000000,2014-06-17 15:24:56.000000000,"[{'_account_id': 3}, {'_account_id': 8053}, {'_account_id': 8392}, {'_account_id': 8749}, {'_account_id': 8907}, {'_account_id': 8930}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}]","[{'number': 1, 'created': '2014-05-15 16:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/56a1831736fccb04789a554d5e9cdb16a15efb69', 'message': ""Check Env for exist before validating assignment\n\nIf we try to assign some role to some nodes with invalid cluster id:\n\n    $ fuel --env 99 node set --role controller --node 1 2 3\n\nwe will get an internal server error (500). Since now, it's fixed.\n\nChange-Id: I9bea9a498295b5db2114874c3502425d7dc94b46\nCloses-Bug: #1317703\n""}, {'number': 2, 'created': '2014-06-05 13:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/27911998934b847004018a4cfaf41b056c106587', 'message': ""Check Env for exist before validating assignment\n\nIf we try to assign some role to some nodes with invalid cluster id:\n\n    $ fuel --env 99 node set --role controller --node 1 2 3\n\nwe will get an internal server error (500). Since now, it's fixed.\n\nChange-Id: I9bea9a498295b5db2114874c3502425d7dc94b46\nCloses-Bug: #1317703\n""}, {'number': 3, 'created': '2014-06-05 13:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/5dd818a849b86846aa78e7355e338339b4209741', 'message': ""Check Env for exist before validating assignment\n\nIf we try to assign some role to some nodes with invalid cluster id:\n\n    $ fuel --env 99 node set --role controller --node 1 2 3\n\nwe will get an internal server error (500). Since now, it's fixed.\n\nChange-Id: I9bea9a498295b5db2114874c3502425d7dc94b46\nCloses-Bug: #1317703\n""}, {'number': 4, 'created': '2014-06-10 11:22:45.000000000', 'files': ['nailgun/nailgun/test/unit/test_node_assignment_handler.py', 'nailgun/nailgun/api/v1/validators/assignment.py', 'nailgun/nailgun/api/v1/handlers/base.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/df2082d3ebabaa800e4a10b04609ed5e4e0cbe37', 'message': ""Check Env for exist before validating assignment\n\nIf we try to assign some role to some nodes with invalid cluster id:\n\n    $ fuel --env 99 node set --role controller --node 1 2 3\n\nwe will get an internal server error (500). Since now, it's fixed.\n\nChange-Id: I9bea9a498295b5db2114874c3502425d7dc94b46\nCloses-Bug: #1317703\n""}]",4,93763,df2082d3ebabaa800e4a10b04609ed5e4e0cbe37,46,9,4,10391,,,0,"Check Env for exist before validating assignment

If we try to assign some role to some nodes with invalid cluster id:

    $ fuel --env 99 node set --role controller --node 1 2 3

we will get an internal server error (500). Since now, it's fixed.

Change-Id: I9bea9a498295b5db2114874c3502425d7dc94b46
Closes-Bug: #1317703
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/63/93763/3 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/test/unit/test_node_assignment_handler.py', 'nailgun/nailgun/api/validators/assignment.py']",2,56a1831736fccb04789a554d5e9cdb16a15efb69,bug/1317703," if not cluster: raise errors.InvalidData( u""Invalid cluster ID: {0}"".format(cluster_id), log_message=True ) ",,25,0
openstack%2Fpuppet-ceph~master~Ieb3c46abd5310b3c0ae0403bf88241f3241e7d6f,openstack/puppet-ceph,master,Ieb3c46abd5310b3c0ae0403bf88241f3241e7d6f,Add Copryright date,MERGED,2014-06-17 12:16:39.000000000,2014-06-17 15:22:46.000000000,2014-06-17 15:22:46.000000000,"[{'_account_id': 3}, {'_account_id': 2064}, {'_account_id': 10068}, {'_account_id': 11479}, {'_account_id': 11964}, {'_account_id': 11980}, {'_account_id': 11986}, {'_account_id': 11987}]","[{'number': 1, 'created': '2014-06-17 12:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/623fec878e6ec3a62e44ffc2206edaae5d9224ad', 'message': ""Replaced 'Copyright (C) iWeb Technologies Inc.' with 'Copryright' (C) 2013, 2014 iWeb Technologies Inc.'\\n\\n Closes-Bug: #1330931\n\nChange-Id: Ieb3c46abd5310b3c0ae0403bf88241f3241e7d6f\n""}, {'number': 2, 'created': '2014-06-17 12:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/ba4a276c9023b4d232cbdf899b30c9e44d982b22', 'message': ""Fix Copryright\n\nReplaced 'Copyright (C) iWeb Technologies Inc.' with 'Copyright' (C) 2013, 2014 iWeb Technologies Inc.'\n\nCloses-Bug: #1330931\nChange-Id: Ieb3c46abd5310b3c0ae0403bf88241f3241e7d6f\n""}, {'number': 3, 'created': '2014-06-17 12:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/d2c9e1e6e2f2ee4f86f33b4e7fb67cdf5d80f430', 'message': ""Fix Copryright\n\nReplaced 'Copyright (C) iWeb Technologies Inc.' with 'Copyright (C) 2013, 2014 iWeb Technologies Inc.'\n\nCloses-Bug: #1330931\nChange-Id: Ieb3c46abd5310b3c0ae0403bf88241f3241e7d6f\n""}, {'number': 4, 'created': '2014-06-17 12:46:47.000000000', 'files': ['manifests/repo.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/f640fafdc722a026614d92978f971ee0aa9ed9f5', 'message': ""Add Copryright date\n\nReplaced 'Copyright (C) iWeb Technologies Inc.' with 'Copyright (C) 2013, 2014 iWeb Technologies Inc.'\n\nCloses-Bug: #1330931\nChange-Id: Ieb3c46abd5310b3c0ae0403bf88241f3241e7d6f\n""}]",0,100518,f640fafdc722a026614d92978f971ee0aa9ed9f5,17,8,4,11981,,,0,"Add Copryright date

Replaced 'Copyright (C) iWeb Technologies Inc.' with 'Copyright (C) 2013, 2014 iWeb Technologies Inc.'

Closes-Bug: #1330931
Change-Id: Ieb3c46abd5310b3c0ae0403bf88241f3241e7d6f
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/18/100518/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repo.pp'],1,623fec878e6ec3a62e44ffc2206edaae5d9224ad,master,"# Copyright (C) 2013, 2014 iWeb Technologies Inc.",# Copyright (C) iWeb Technologies Inc.,1,1
openstack%2Ffuel-web~master~Ie26d9f446f99106dc35a997c014c2489a8dc3a4a,openstack/fuel-web,master,Ie26d9f446f99106dc35a997c014c2489a8dc3a4a,Add local puppet log to snapshot,MERGED,2014-06-16 15:01:44.000000000,2014-06-17 15:20:52.000000000,2014-06-17 15:20:51.000000000,"[{'_account_id': 3}, {'_account_id': 8749}, {'_account_id': 8789}, {'_account_id': 8907}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-06-16 15:01:44.000000000', 'files': ['nailgun/nailgun/settings.yaml'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7893e7a1302a06aee4e882c015ffcbebb10c665b', 'message': 'Add local puppet log to snapshot\n\nChange-Id: Ie26d9f446f99106dc35a997c014c2489a8dc3a4a\nCloses-Bug: 1330516\n'}]",0,100272,7893e7a1302a06aee4e882c015ffcbebb10c665b,13,5,1,9037,,,0,"Add local puppet log to snapshot

Change-Id: Ie26d9f446f99106dc35a997c014c2489a8dc3a4a
Closes-Bug: 1330516
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/72/100272/1 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/nailgun/settings.yaml'],1,7893e7a1302a06aee4e882c015ffcbebb10c665b,bug/1330516, path: /var/log/puppet.log - type: file,,2,0
openstack%2Ffuel-web~master~I4abf67f6f547ae5b15c773b80b3d09e4914d35c4,openstack/fuel-web,master,I4abf67f6f547ae5b15c773b80b3d09e4914d35c4,Fix migration scripts in nailgun,MERGED,2014-06-11 09:44:28.000000000,2014-06-17 15:14:40.000000000,2014-06-17 15:14:39.000000000,"[{'_account_id': 3}, {'_account_id': 6849}, {'_account_id': 8053}, {'_account_id': 8749}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}]","[{'number': 1, 'created': '2014-06-11 09:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/f101028f6c28c20eadfba45f15c2bb4f6a8be886', 'message': 'Fix migration scripts in nailgun\n\n- 5_0_1 droped pending_relese_id by wrong name\n- 5_0 enums is not dropped by default\n- dropdb uses migration to clean up database\n\nChange-Id: I4abf67f6f547ae5b15c773b80b3d09e4914d35c4\nCloses-Bug: #1323350\nCloses-Bug: #1328831\n'}, {'number': 2, 'created': '2014-06-11 11:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/f5997a24c808f669062d819e84b9b321edb45c5b', 'message': 'Fix migration scripts in nailgun\n\n- 5_0_1 droping pending_relese_id by wrong name\n- 5_0 enums is not dropped by default\n\nChange-Id: I4abf67f6f547ae5b15c773b80b3d09e4914d35c4\nCloses-Bug: #1328831\n'}, {'number': 3, 'created': '2014-06-11 12:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/5187027c478515443bf61f90a66d464fc3926d0c', 'message': 'Fix migration scripts in nailgun\n\n- 5_0_1 droping pending_relese_id by wrong name\n- 5_0 enums is not dropped by default\n- added tests for dowgrade-upgrade sequence\n\nChange-Id: I4abf67f6f547ae5b15c773b80b3d09e4914d35c4\nCloses-Bug: #1328831\n'}, {'number': 4, 'created': '2014-06-11 15:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/be1ff1eb85ed8515291703a13c4b3ebe07d49a61', 'message': 'Fix migration scripts in nailgun\n\n- 5_0_1 droping pending_relese_id by wrong name\n- 5_0 enums is not dropped by default\n- added tests for dowgrade-upgrade sequence\n\nChange-Id: I4abf67f6f547ae5b15c773b80b3d09e4914d35c4\nCloses-Bug: #1328831\n'}, {'number': 5, 'created': '2014-06-12 12:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/d906f44d7a2216c4e37beeed17a8290dcac8cf91', 'message': 'Fix migration scripts in nailgun\n\n- 5_0_1 droping pending_relese_id by wrong name\n- 5_0 enums is not dropped by default\n- added tests for dowgrade-upgrade sequence\n\nChange-Id: I4abf67f6f547ae5b15c773b80b3d09e4914d35c4\nCloses-Bug: #1328831\n'}, {'number': 6, 'created': '2014-06-13 08:12:55.000000000', 'files': ['nailgun/nailgun/db/migration/alembic_migrations/versions/fuel_5_0_1.py', 'nailgun/nailgun/db/migration/alembic_migrations/versions/fuel_5_0.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/b796d6f827da989328f695bcc64cf628baf2d1f3', 'message': 'Fix migration scripts in nailgun\n\n- 5_0_1 droping pending_relese_id by wrong name\n- 5_0 enums is not dropped by default\n\nChange-Id: I4abf67f6f547ae5b15c773b80b3d09e4914d35c4\nCloses-Bug: #1328831\n'}]",0,99311,b796d6f827da989328f695bcc64cf628baf2d1f3,49,8,6,8907,,,0,"Fix migration scripts in nailgun

- 5_0_1 droping pending_relese_id by wrong name
- 5_0 enums is not dropped by default

Change-Id: I4abf67f6f547ae5b15c773b80b3d09e4914d35c4
Closes-Bug: #1328831
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/11/99311/6 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/db/migration/alembic_migrations/versions/fuel_5_0_1.py', 'nailgun/nailgun/db/migration/alembic_migrations/versions/fuel_5_0.py', 'nailgun/nailgun/db/sqlalchemy/__init__.py', 'nailgun/nailgun/db/migration/__init__.py']",4,f101028f6c28c20eadfba45f15c2bb4f6a8be886,fix_migrations,"def do_downgrade_base(): do_alembic_command(""downgrade"", ""base"") ",,28,3
openstack%2Ffuel-web~master~If2d4154d8edfec6ac30518f696917da13d84f0b6,openstack/fuel-web,master,If2d4154d8edfec6ac30518f696917da13d84f0b6,Parser for expressions for config (python part),MERGED,2014-04-28 12:36:59.000000000,2014-06-17 15:12:55.000000000,2014-06-17 15:12:55.000000000,"[{'_account_id': 3}, {'_account_id': 8053}, {'_account_id': 8392}, {'_account_id': 8735}, {'_account_id': 8749}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}]","[{'number': 1, 'created': '2014-04-28 12:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/17d22ad9cc0b6b62782c49b9f31b4c7e622e7a2f', 'message': 'Parser for expressions for config (python part)\n\nChange-Id: If2d4154d8edfec6ac30518f696917da13d84f0b6\n'}, {'number': 2, 'created': '2014-04-28 13:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/794a3696912a7351244de2d7a69526edd6370f6e', 'message': 'Parser for expressions for config (python part)\n\nChange-Id: If2d4154d8edfec6ac30518f696917da13d84f0b6\n'}, {'number': 3, 'created': '2014-04-28 13:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/4062a2fcac1bdf5b9440db754bd63c769d8f9937', 'message': 'Parser for expressions for config (python part)\n\nChange-Id: If2d4154d8edfec6ac30518f696917da13d84f0b6\n'}, {'number': 4, 'created': '2014-04-28 13:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/5bf9642faacb7980f7b89cb6e112fbf414d4d90e', 'message': 'Parser for expressions for config (python part)\n\nChange-Id: If2d4154d8edfec6ac30518f696917da13d84f0b6\n'}, {'number': 5, 'created': '2014-04-28 14:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/23fe9cba906cba46492a6e49e46946ef91d2544e', 'message': 'Parser for expressions for config (python part)\n\nChange-Id: If2d4154d8edfec6ac30518f696917da13d84f0b6\n'}, {'number': 6, 'created': '2014-04-28 15:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/a3ddb8243a978fa6e41fb1d7325e1b24b62b00ee', 'message': 'Parser for expressions for config (python part)\n\nChange-Id: If2d4154d8edfec6ac30518f696917da13d84f0b6\n'}, {'number': 7, 'created': '2014-04-29 08:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/5017e1e9e62e9ca0b2b7c25fcf21b273bd1e2be0', 'message': 'Parser for expressions for config (python part)\n\nChange-Id: If2d4154d8edfec6ac30518f696917da13d84f0b6\n'}, {'number': 8, 'created': '2014-04-29 09:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/c90bbd713c040d6819a758a959d81a5ffc538648', 'message': 'Parser for expressions for config (python part)\n\nChange-Id: If2d4154d8edfec6ac30518f696917da13d84f0b6\n'}, {'number': 9, 'created': '2014-04-29 09:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/c9e24b22f3f5d7965bd28c17dfe3c9312d03becb', 'message': 'Parser for expressions for config (python part)\n\nChange-Id: If2d4154d8edfec6ac30518f696917da13d84f0b6\n'}, {'number': 10, 'created': '2014-04-29 13:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/5a6acac77535042db10d596c0be3cff85f23b1e2', 'message': 'Parser for expressions for config (python part)\n\nChange-Id: If2d4154d8edfec6ac30518f696917da13d84f0b6\n'}, {'number': 11, 'created': '2014-04-30 10:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/2abfdf07897f0dd3ce262ee745f73fc1a0ad7809', 'message': 'Parser for expressions for config (python part)\n\nChange-Id: If2d4154d8edfec6ac30518f696917da13d84f0b6\n'}, {'number': 12, 'created': '2014-06-04 12:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/4ce54249afaaecd7f05b196f0e959a348c6a509b', 'message': 'Parser for expressions for config (python part)\n\nImplements blueprint dsl-for-configs\nChange-Id: If2d4154d8edfec6ac30518f696917da13d84f0b6'}, {'number': 13, 'created': '2014-06-05 17:03:36.000000000', 'files': ['nailgun/nailgun/utils/__init__.py', 'nailgun/requirements.txt', 'nailgun/nailgun/errors/__init__.py', 'nailgun/nailgun/test/unit/test_expression_parser.py', 'nailgun/nailgun/utils/expression_parser.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/de118679ad31b33a58fca831738b74102efa347c', 'message': 'Parser for expressions for config (python part)\n\nImplements blueprint dsl-for-configs\n\nChange-Id: If2d4154d8edfec6ac30518f696917da13d84f0b6\n'}]",14,90708,de118679ad31b33a58fca831738b74102efa347c,64,9,13,8735,,,0,"Parser for expressions for config (python part)

Implements blueprint dsl-for-configs

Change-Id: If2d4154d8edfec6ac30518f696917da13d84f0b6
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/08/90708/12 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/requirements.txt', 'nailgun/nailgun/utils/expression_parser.py']",2,17d22ad9cc0b6b62782c49b9f31b4c7e622e7a2f,bp/dsl-for-configs,"# Copyright 2014 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. tokens = ( 'NUMBER', 'STRING', 'TRUE', 'FALSE', 'AND', 'OR', 'NOT', 'MODELPATH', 'EQUALS', 'NOT_EQUALS', 'LPAREN', 'RPAREN' ) # Tokens def t_NUMBER(t): r'-?\d+' t.value = int(t.value) return t def t_STRING(t): r'(?P<openingquote>[""\']).*?(?P=openingquote)' return t def t_TRUE(t): r'true' t.value = True return t def t_FALSE(t): r'false' t.value = False return t t_AND = r'and' t_OR = r'or' t_NOT = r'not' t_EQUALS = r'==' t_NOT_EQUALS = r'!=' t_LPAREN = r'\(' t_RPAREN = r'\)' # Ignored characters t_ignore = ' \t' def t_error(t): print(""Illegal character '%s'"" % t.value[0]) t.lexer.skip(1) import ply.lex as lex lex.lex() precedence = ( ('left', 'OR'), ('left', 'AND'), ('left', 'EQUALS', 'NOT_EQUALS'), ('left', 'NOT'), ) def p_statement_expr(p): 'statement : expression' print(p[1]) def p_expression_binop(p): '''expression : expression EQUALS expression | expression NOT_EQUALS expression | expression OR expression | expression AND expression''' if p[2] == '==': p[0] = p[1] == p[3] elif p[2] == '!=': p[0] = p[1] != p[3] elif p[2] == 'or': p[0] = p[1] or p[3] elif p[2] == 'and': p[0] = p[1] and p[3] def p_not_expression(p): 'expression : NOT expression' p[0] = not p[2] def p_expression_group(p): 'expression : LPAREN expression RPAREN' p[0] = p[2] def p_expression_scalar(p): '''expression : NUMBER | STRING | TRUE | FALSE''' p[0] = p[1] def p_error(p): print(""Syntax error at '%s'"" % getattr(p, 'value', '')) import ply.yacc as yacc yacc.yacc() while 1: try: s = raw_input('calc > ') # use input() on Python 3 except EOFError: break yacc.parse(s) ",,109,0
openstack%2Fsolum~master~I88fe07fdc36d27daa5c7bda9eef31bbe1b8f1db0,openstack/solum,master,I88fe07fdc36d27daa5c7bda9eef31bbe1b8f1db0,Fix pipeline delete,MERGED,2014-06-16 13:29:41.000000000,2014-06-17 15:12:37.000000000,2014-06-17 15:12:36.000000000,"[{'_account_id': 3}, {'_account_id': 2506}, {'_account_id': 9095}, {'_account_id': 9537}]","[{'number': 1, 'created': '2014-06-16 13:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/a222bb12c0a60e7d5de64fde30dadcc0166865a6', 'message': 'Fix pipeline delete\n\nWe were calling delete instead of destroy\n\nChange-Id: I88fe07fdc36d27daa5c7bda9eef31bbe1b8f1db0\n'}, {'number': 2, 'created': '2014-06-17 02:35:21.000000000', 'files': ['solum/tests/api/handlers/test_pipeline.py', 'solum/api/handlers/pipeline_handler.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/02e38c46a69f6c1eaa5bf9fb831f36a7a7909379', 'message': 'Fix pipeline delete\n\nWe were calling delete instead of destroy\n\nChange-Id: I88fe07fdc36d27daa5c7bda9eef31bbe1b8f1db0\n'}]",0,100248,02e38c46a69f6c1eaa5bf9fb831f36a7a7909379,12,4,2,4715,,,0,"Fix pipeline delete

We were calling delete instead of destroy

Change-Id: I88fe07fdc36d27daa5c7bda9eef31bbe1b8f1db0
",git fetch https://review.opendev.org/openstack/solum refs/changes/48/100248/2 && git format-patch -1 --stdout FETCH_HEAD,['solum/api/handlers/pipeline_handler.py'],1,a222bb12c0a60e7d5de64fde30dadcc0166865a6,new-api, db_obj.destroy(self.context), db_obj.delete(self.context),1,1
openstack%2Ffuel-main~master~If9ca90126ef1590eaea0fb93efa67f328731eb04,openstack/fuel-main,master,If9ca90126ef1590eaea0fb93efa67f328731eb04,Add python-ply dependency to nailgun spec,MERGED,2014-06-04 12:06:35.000000000,2014-06-17 15:12:31.000000000,2014-06-17 15:12:31.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8789}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-06-04 12:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/cf33cc6e2de1d171c55c5e2344072a136aa738b1', 'message': 'Add python-ply dependency to nailgun spec\n\nChange-Id: If9ca90126ef1590eaea0fb93efa67f328731eb04\n'}, {'number': 2, 'created': '2014-06-04 12:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/fba886d1936849f6608daf1a6f8de52eb0c9828f', 'message': 'Add python-ply dependency to nailgun spec\n\nImplements: blueprint dsl-for-configs\nChange-Id: If9ca90126ef1590eaea0fb93efa67f328731eb04'}, {'number': 3, 'created': '2014-06-04 12:28:17.000000000', 'files': ['packages/rpm/specs/nailgun.spec'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/2659b73ec99ad5fefb9c8a4e536d8bdd98d8797e', 'message': 'Add python-ply dependency to nailgun spec\n\nRelated to blueprint dsl-for-configs\nChange-Id: If9ca90126ef1590eaea0fb93efa67f328731eb04'}]",0,97769,2659b73ec99ad5fefb9c8a4e536d8bdd98d8797e,23,4,3,8789,,,0,"Add python-ply dependency to nailgun spec

Related to blueprint dsl-for-configs
Change-Id: If9ca90126ef1590eaea0fb93efa67f328731eb04",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/69/97769/2 && git format-patch -1 --stdout FETCH_HEAD,['packages/rpm/specs/nailgun.spec'],1,cf33cc6e2de1d171c55c5e2344072a136aa738b1,bp/dsl-for-configs,Requires: python-ply >= 3.4,,1,0
openstack%2Fsolum~master~Ie56aa394aeb6f43f5e05eac6026d98d93139cafe,openstack/solum,master,Ie56aa394aeb6f43f5e05eac6026d98d93139cafe,Fix pipeline API lookup,MERGED,2014-06-16 13:29:41.000000000,2014-06-17 15:10:55.000000000,2014-06-17 15:10:55.000000000,"[{'_account_id': 3}, {'_account_id': 2506}, {'_account_id': 9095}, {'_account_id': 9537}]","[{'number': 1, 'created': '2014-06-16 13:29:41.000000000', 'files': ['solum/api/controllers/v1/pipeline.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/3dba7b9429e872f9e1a7f70a5e74adcb8e869995', 'message': 'Fix pipeline API lookup\n\nFor consistency the client expects to send pipeline_id not _id.\n\nChange-Id: Ie56aa394aeb6f43f5e05eac6026d98d93139cafe\n'}]",0,100247,3dba7b9429e872f9e1a7f70a5e74adcb8e869995,9,4,1,4715,,,0,"Fix pipeline API lookup

For consistency the client expects to send pipeline_id not _id.

Change-Id: Ie56aa394aeb6f43f5e05eac6026d98d93139cafe
",git fetch https://review.opendev.org/openstack/solum refs/changes/47/100247/1 && git format-patch -1 --stdout FETCH_HEAD,['solum/api/controllers/v1/pipeline.py'],1,3dba7b9429e872f9e1a7f70a5e74adcb8e869995,new-api," def _lookup(self, pipeline_id, *remainder): return PipelineController(pipeline_id), remainder"," def _lookup(self, _id, *remainder): return PipelineController(_id), remainder",2,2
openstack%2Fpuppet-ceph~master~I8d5bf3c77a1d90ad3f1d3b6db5af63d04ca9008e,openstack/puppet-ceph,master,I8d5bf3c77a1d90ad3f1d3b6db5af63d04ca9008e,Commit change in order to test --amend option,ABANDONED,2014-06-17 14:01:19.000000000,2014-06-17 15:08:33.000000000,,"[{'_account_id': 3}, {'_account_id': 2064}]","[{'number': 1, 'created': '2014-06-17 14:01:19.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/a2da12335736c341873e4fe5ed7ac6b575591fb9', 'message': 'Commit change in order to test --amend option\n\nChange-Id: I8d5bf3c77a1d90ad3f1d3b6db5af63d04ca9008e\n'}]",0,100553,a2da12335736c341873e4fe5ed7ac6b575591fb9,5,2,1,11958,,,0,"Commit change in order to test --amend option

Change-Id: I8d5bf3c77a1d90ad3f1d3b6db5af63d04ca9008e
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/53/100553/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,a2da12335736c341873e4fe5ed7ac6b575591fb9,,``````````````````,,6,6
openstack%2Ffuel-main~stable%2F5.0~Ifd8f99596ce79f08d99bc99743a97df9884a4724,openstack/fuel-main,stable/5.0,Ifd8f99596ce79f08d99bc99743a97df9884a4724,Add possibility to add several interfaces on 1 L2,MERGED,2014-06-17 15:03:59.000000000,2014-06-17 15:08:18.000000000,2014-06-17 15:08:18.000000000,"[{'_account_id': 3}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 9977}]","[{'number': 1, 'created': '2014-06-17 15:03:59.000000000', 'files': ['fuelweb_test/models/fuel_web_client.py', 'fuelweb_test/models/environment.py', 'fuelweb_test/tests/test_bonding.py', 'fuelweb_test/settings.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/e1cabcd953bd726774bc5ff84c3a0b8b346f456c', 'message': 'Add possibility to add several interfaces on 1 L2\n\nModified describe_environment, create_interfaces,\nset_network methods so that they use bonding\nparameters of settings.py module. Added new\nparameters to settings.py that allow bonding.\n\nCloses-Bug: #1301834\n\nChange-Id: Ifd8f99596ce79f08d99bc99743a97df9884a4724\n'}]",0,100586,e1cabcd953bd726774bc5ff84c3a0b8b346f456c,10,4,1,8882,,,0,"Add possibility to add several interfaces on 1 L2

Modified describe_environment, create_interfaces,
set_network methods so that they use bonding
parameters of settings.py module. Added new
parameters to settings.py that allow bonding.

Closes-Bug: #1301834

Change-Id: Ifd8f99596ce79f08d99bc99743a97df9884a4724
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/86/100586/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/models/fuel_web_client.py', 'fuelweb_test/models/environment.py', 'fuelweb_test/tests/test_bonding.py', 'fuelweb_test/settings.py']",4,e1cabcd953bd726774bc5ff84c3a0b8b346f456c,cherry_bonding,"BONDING = os.environ.get(""BONDING"", 'false') == 'true' BONDING_INTERFACES = { 'admin': ['eth0'], 'public': ['eth1', 'eth2', 'eth3', 'eth4'] } ",,59,31
openstack%2Fpuppet-ceph~master~Ie3eff99d3763b38af03cd1a4d518b4554d572cd8,openstack/puppet-ceph,master,Ie3eff99d3763b38af03cd1a4d518b4554d572cd8,Edit of the manifest repo.pp and change the xarses by the email,MERGED,2014-06-17 10:17:05.000000000,2014-06-17 15:06:22.000000000,2014-06-17 15:06:21.000000000,"[{'_account_id': 3}, {'_account_id': 2064}, {'_account_id': 10068}, {'_account_id': 11479}, {'_account_id': 11988}, {'_account_id': 11996}]","[{'number': 1, 'created': '2014-06-17 10:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/19fed2ba07ee0e4d8ed373c547d5b64b29716a14', 'message': 'Edit of the manifest repo.pp and change the xarses by the email\n\nChange-Id: Ie3eff99d3763b38af03cd1a4d518b4554d572cd8\n'}, {'number': 2, 'created': '2014-06-17 11:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/8103d9abaf92d12e6b0068fb8ed744c01a0d645b', 'message': 'Fix for bug : 1326252\n\nEdit of the manifest repo.pp and change the xarses by the email\n\nChange-Id: Ie3eff99d3763b38af03cd1a4d518b4554d572cd8\n'}, {'number': 3, 'created': '2014-06-17 11:58:52.000000000', 'files': ['manifests/repo.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/224d17a4fe1aa8b629b81179eb3ca5275007b96f', 'message': 'Edit of the manifest repo.pp and change the xarses by the email\n\nChange-Id: Ie3eff99d3763b38af03cd1a4d518b4554d572cd8\nCloses-Bug: 1326252\n'}]",0,100483,224d17a4fe1aa8b629b81179eb3ca5275007b96f,18,6,3,11993,,,0,"Edit of the manifest repo.pp and change the xarses by the email

Change-Id: Ie3eff99d3763b38af03cd1a4d518b4554d572cd8
Closes-Bug: 1326252
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/83/100483/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repo.pp'],1,19fed2ba07ee0e4d8ed373c547d5b64b29716a14,,# Author: Andrew Woodward <awoodward@mirantis.com>,# Author: Andrew Woodward <xarses>,1,1
openstack%2Ffuel-library~master~Ib12779470f6bf91d26fbfa271c2af14e61535c54,openstack/fuel-library,master,Ib12779470f6bf91d26fbfa271c2af14e61535c54,Fix high precision timestamps for UI logs matching,MERGED,2014-06-17 08:57:24.000000000,2014-06-17 14:54:57.000000000,2014-06-17 14:54:57.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 7195}, {'_account_id': 8787}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11090}]","[{'number': 1, 'created': '2014-06-17 08:57:24.000000000', 'files': ['deployment/puppet/nailgun/examples/rsyslog-only.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a451e123113b436caa53555b4bd97875d647bca5', 'message': 'Fix high precision timestamps for UI logs matching\n\nFuel UI relies on the fixed timestamp pattern, so we have to\nenable it back in syslog logging config.\n\nCloses-bug: #1328877\n\nChange-Id: Ib12779470f6bf91d26fbfa271c2af14e61535c54\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n'}]",0,100456,a451e123113b436caa53555b4bd97875d647bca5,13,7,1,6926,,,0,"Fix high precision timestamps for UI logs matching

Fuel UI relies on the fixed timestamp pattern, so we have to
enable it back in syslog logging config.

Closes-bug: #1328877

Change-Id: Ib12779470f6bf91d26fbfa271c2af14e61535c54
Signed-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/56/100456/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/nailgun/examples/rsyslog-only.pp'],1,a451e123113b436caa53555b4bd97875d647bca5,fix1328877,$show_timezone = true,,1,0
openstack%2Ffuel-library~master~I9d6780fe924756643f34a597a1abd9e6189611ee,openstack/fuel-library,master,I9d6780fe924756643f34a597a1abd9e6189611ee,more strong order in Neutron manifests,MERGED,2014-06-16 14:34:18.000000000,2014-06-17 14:53:44.000000000,2014-06-17 14:53:44.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 6926}, {'_account_id': 7195}, {'_account_id': 7468}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 11090}]","[{'number': 1, 'created': '2014-06-16 14:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/c026158105dd599cc9dcb7f71f0a72ec2a2e7c36', 'message': ""more strong order in Neutron manifests\n\nbetween keystone roles and inserting 'service' tenant-ID to the neutron config.\n\nChange-Id: I9d6780fe924756643f34a597a1abd9e6189611ee\nCloses-bug: #1328462\n""}, {'number': 2, 'created': '2014-06-17 12:44:45.000000000', 'files': ['deployment/puppet/neutron/manifests/server.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/4cc3679a4d2b3492638585a2af9677d223868316', 'message': ""more strong order in Neutron manifests\n\nbetween keystone roles and inserting 'service' tenant-ID to the neutron config.\n\nChange-Id: I9d6780fe924756643f34a597a1abd9e6189611ee\nCloses-bug: #1328462\n""}]",3,100263,4cc3679a4d2b3492638585a2af9677d223868316,28,8,2,7468,,,0,"more strong order in Neutron manifests

between keystone roles and inserting 'service' tenant-ID to the neutron config.

Change-Id: I9d6780fe924756643f34a597a1abd9e6189611ee
Closes-bug: #1328462
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/63/100263/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/neutron/manifests/server.pp'],1,c026158105dd599cc9dcb7f71f0a72ec2a2e7c36,bug/1328462," Keystone_user_role['admin@admin'] -> Exec['get_service_tenant_ID'] Keystone_user_role[""${neutron_config['keystone']['admin_user']}@${nova_admin_tenant_name}""] -> Exec['get_service_tenant_ID'] Keystone_endpoint<| title == ""${neutron_config['keystone']['admin_user']}"" |> -> Exec['get_service_tenant_ID'] ",,5,0
openstack%2Fnova~master~Id3c6e8c6c504591fdf09e8871cf3358d265a678c,openstack/nova,master,Id3c6e8c6c504591fdf09e8871cf3358d265a678c,VMware: remove unused parameters in imagecache,MERGED,2014-06-11 00:07:46.000000000,2014-06-17 14:48:13.000000000,2014-06-17 14:48:11.000000000,"[{'_account_id': 3}, {'_account_id': 1247}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 7400}, {'_account_id': 8759}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9172}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-11 00:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bcb5cb7d4c8e5960a32a5aed308fb09e6fcbd14', 'message': 'VMware: remove unused parameters in imagecache\n\nTrivial patch to remove some unused paramters in\ntimestamp_cleanup().\n\nChange-Id: Id3c6e8c6c504591fdf09e8871cf3358d265a678c\n'}, {'number': 2, 'created': '2014-06-11 16:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e1f8ed228ee384099a3ee9db4f5381a7c73fce7', 'message': 'VMware: remove unused parameters in imagecache\n\nTrivial patch to remove some unused parameters in\ntimestamp_cleanup().\n\nChange-Id: Id3c6e8c6c504591fdf09e8871cf3358d265a678c\n'}, {'number': 3, 'created': '2014-06-13 00:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0770501978a94536d04d0e31f6070f93a43214aa', 'message': 'VMware: remove unused parameters in imagecache\n\nTrivial patch to remove some unused parameters in\ntimestamp_cleanup().\n\nChange-Id: Id3c6e8c6c504591fdf09e8871cf3358d265a678c\n'}, {'number': 4, 'created': '2014-06-16 19:41:20.000000000', 'files': ['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/imagecache.py', 'nova/tests/virt/vmwareapi/test_imagecache.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2e6c04fc9da3469fecf9f3a4fca6c6a3e9347915', 'message': 'VMware: remove unused parameters in imagecache\n\nTrivial patch to remove some unused parameters in\ntimestamp_cleanup().\n\nChange-Id: Id3c6e8c6c504591fdf09e8871cf3358d265a678c\n'}]",0,99238,2e6c04fc9da3469fecf9f3a4fca6c6a3e9347915,46,13,4,8027,,,0,"VMware: remove unused parameters in imagecache

Trivial patch to remove some unused parameters in
timestamp_cleanup().

Change-Id: Id3c6e8c6c504591fdf09e8871cf3358d265a678c
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/99238/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vmops.py', 'nova/tests/virt/vmwareapi/test_imagecache.py', 'nova/virt/vmwareapi/imagecache.py']",3,6bcb5cb7d4c8e5960a32a5aed308fb09e6fcbd14,bp/vmware-spawn-refactor," def timestamp_cleanup(self, dc_ref, ds_browser, ds_path):"," def timestamp_cleanup(self, dc_ref, ds_browser, ds_ref, ds_name, ds_path): datastore['ref'], datastore['name'],",5,10
openstack%2Fceilometer~master~I60f25d282caa813b3bfc790988578b9882ba95ab,openstack/ceilometer,master,I60f25d282caa813b3bfc790988578b9882ba95ab,Clean up .gitignore,MERGED,2014-06-11 07:44:33.000000000,2014-06-17 14:48:07.000000000,2014-06-17 14:48:07.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2284}, {'_account_id': 2813}, {'_account_id': 3012}, {'_account_id': 4491}, {'_account_id': 6676}, {'_account_id': 7729}, {'_account_id': 8290}, {'_account_id': 9562}]","[{'number': 1, 'created': '2014-06-11 07:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/689ef33f010bbb44b6d1dd7c4c5549e03f861be7', 'message': 'Clean up .gitignore\n\nSeveral files were removed from the doc sources and config, so there are a\nfew folders in .gitignore, which are not needed anymore. Also there was a\nbuild directory referenced and the only build directory is under the doc\nfolder, so this was corrected also.\n\nChange-Id: I60f25d282caa813b3bfc790988578b9882ba95ab\n'}, {'number': 2, 'created': '2014-06-16 07:08:59.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/99424154b46f8052f642d6d849524501fabdbdf5', 'message': 'Clean up .gitignore\n\nSeveral files were removed from the doc sources and config, so there are a\nfew folders in .gitignore, which are not needed anymore. Also there was a\nbuild directory referenced and the only build directory is under the doc\nfolder, so this was corrected also.\n\nChange-Id: I60f25d282caa813b3bfc790988578b9882ba95ab\n'}]",2,99289,99424154b46f8052f642d6d849524501fabdbdf5,23,10,2,9562,,,0,"Clean up .gitignore

Several files were removed from the doc sources and config, so there are a
few folders in .gitignore, which are not needed anymore. Also there was a
build directory referenced and the only build directory is under the doc
folder, so this was corrected also.

Change-Id: I60f25d282caa813b3bfc790988578b9882ba95ab
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/89/99289/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,689ef33f010bbb44b6d1dd7c4c5549e03f861be7,bug/1317648,doc/build,builddoc/source/api/ceilometer.*.rst doc/source/api/tests.*.rst doc/source/api/autoindex.rst,1,4
openstack%2Fceilometer~master~I2fc7a8b8216d4bfc5232027f0beb11a036bf257c,openstack/ceilometer,master,I2fc7a8b8216d4bfc5232027f0beb11a036bf257c,Fix Sphinx directive name in session.py,MERGED,2014-06-09 16:48:12.000000000,2014-06-17 14:48:05.000000000,2014-06-17 14:48:04.000000000,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 3012}, {'_account_id': 4491}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 7052}, {'_account_id': 7729}, {'_account_id': 9562}]","[{'number': 1, 'created': '2014-06-09 16:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/84b3d49b278c3e4951669c4a027a246f7831bb25', 'message': ""Fix Sphinx directive name in session.py\n\nIn openstack/common/db/sqlalchemy/session.py a wrong directive name was\nused for formattion code snippets. The directive '.. code::' was changed\nto '.. code-block::' in oslo-incubator in this patch:\n  https://review.openstack.org/#/c/97850/\nAs this file now does not contain more formatting errors, it was removed\nfrom the exclude list of Sphinx in conf.py.\n\nChange-Id: I2fc7a8b8216d4bfc5232027f0beb11a036bf257c\n""}, {'number': 2, 'created': '2014-06-10 04:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/29a9f30e2ba76799f026a66b83eb9afa04178de6', 'message': ""Fix Sphinx directive name in session.py\n\nIn openstack/common/db/sqlalchemy/session.py a wrong directive name was\nused for formattion code snippets. The directive '.. code::' was changed\nto '.. code-block::' in oslo-incubator in this patch:\n  https://review.openstack.org/#/c/97850/\nAs this file now does not contain more formatting errors, it was removed\nfrom the exclude list of Sphinx in conf.py.\n\nChange-Id: I2fc7a8b8216d4bfc5232027f0beb11a036bf257c\n""}, {'number': 3, 'created': '2014-06-11 07:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/278c3d6b34cc418e58db4cc9c27b50c119376c45', 'message': ""Fix Sphinx directive name in session.py\n\nIn openstack/common/db/sqlalchemy/session.py a wrong directive name was\nused for formattion code snippets. The directive '.. code::' was changed\nto '.. code-block::' in oslo-incubator in this commit:\n  I222a11d8a2101600e7cbb96f587515a32f697c2e\nAs this file now does not contain more formatting errors, it was removed\nfrom the exclude list of Sphinx in conf.py.\n\nChange-Id: I2fc7a8b8216d4bfc5232027f0beb11a036bf257c\n""}, {'number': 4, 'created': '2014-06-16 07:08:59.000000000', 'files': ['doc/source/conf.py', 'ceilometer/openstack/common/db/sqlalchemy/session.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/7ec5ceaba58e19252fdc7948e77051d58f5a906d', 'message': ""Fix Sphinx directive name in session.py\n\nIn openstack/common/db/sqlalchemy/session.py a wrong directive name was\nused for formattion code snippets. The directive '.. code::' was changed\nto '.. code-block::' in oslo-incubator in this commit:\n  I222a11d8a2101600e7cbb96f587515a32f697c2e\nAs this file now does not contain more formatting errors, it was removed\nfrom the exclude list of Sphinx in conf.py.\n\nChange-Id: I2fc7a8b8216d4bfc5232027f0beb11a036bf257c\n""}]",2,98834,7ec5ceaba58e19252fdc7948e77051d58f5a906d,48,9,4,9562,,,0,"Fix Sphinx directive name in session.py

In openstack/common/db/sqlalchemy/session.py a wrong directive name was
used for formattion code snippets. The directive '.. code::' was changed
to '.. code-block::' in oslo-incubator in this commit:
  I222a11d8a2101600e7cbb96f587515a32f697c2e
As this file now does not contain more formatting errors, it was removed
from the exclude list of Sphinx in conf.py.

Change-Id: I2fc7a8b8216d4bfc5232027f0beb11a036bf257c
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/34/98834/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'ceilometer/openstack/common/db/sqlalchemy/session.py']",2,84b3d49b278c3e4951669c4a027a246f7831bb25,bug/1317648, .. code-block:: python .. code-block:: python .. code-block:: python .. code-block:: sql .. code-block:: python .. code-block:: python .. code-block:: python .. code-block:: python .. code-block:: python .. code-block:: python .. code-block:: python, .. code:: python .. code:: python .. code:: python .. code:: sql .. code:: python .. code:: python .. code:: python .. code:: python .. code:: python .. code:: python .. code:: python,11,12
openstack%2Frequirements~master~Icf7fa53834ddbd5a480984da9dbc39a207005b21,openstack/requirements,master,Icf7fa53834ddbd5a480984da9dbc39a207005b21,Bump minimum oslo.config version to 1.2.1,MERGED,2014-06-17 09:55:05.000000000,2014-06-17 14:48:01.000000000,2014-06-17 14:48:01.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6786}]","[{'number': 1, 'created': '2014-06-17 09:55:05.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ef960f9945071f79d93a3d951e7d9cd1bfe40003', 'message': 'Bump minimum oslo.config version to 1.2.1\n\noslo.config-1.2.1 has a required fix for interaction\nwith argparse, which effects trove and glance at least.\nRelated patch: I8d1b52e5390295726eb49af32eb7cab14c29592c\n\nChange-Id: Icf7fa53834ddbd5a480984da9dbc39a207005b21\n'}]",0,100472,ef960f9945071f79d93a3d951e7d9cd1bfe40003,9,3,1,1812,,,0,"Bump minimum oslo.config version to 1.2.1

oslo.config-1.2.1 has a required fix for interaction
with argparse, which effects trove and glance at least.
Related patch: I8d1b52e5390295726eb49af32eb7cab14c29592c

Change-Id: Icf7fa53834ddbd5a480984da9dbc39a207005b21
",git fetch https://review.opendev.org/openstack/requirements refs/changes/72/100472/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,ef960f9945071f79d93a3d951e7d9cd1bfe40003,oslo-config-argparse,oslo.config>=1.2.1,oslo.config>=1.2.0,1,1
openstack%2Frequirements~master~Ifd04d5e1b26ebdf9db374761f31baaf1e33d87cd,openstack/requirements,master,Ifd04d5e1b26ebdf9db374761f31baaf1e33d87cd,Fix whitespace that occurs after comma,MERGED,2014-04-25 21:16:58.000000000,2014-06-17 14:47:59.000000000,2014-06-17 14:47:58.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 1669}, {'_account_id': 2750}, {'_account_id': 4190}, {'_account_id': 6786}]","[{'number': 1, 'created': '2014-04-25 21:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/73ceda4cd91f663702df8d8918937e0ada55bd60', 'message': 'Fix whitespace that occurs after comma\n\nUse a custom tuple of separators for json.dumps that avoids\nhaving the comma+space, which looks bad if this is ever committed.\nReplace it by just having "": "" and "","" (no space after) instead.\n\nChange-Id: Ifd04d5e1b26ebdf9db374761f31baaf1e33d87cd\n'}, {'number': 2, 'created': '2014-06-17 06:22:55.000000000', 'files': ['detail.py'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0326f6781f7cb44e8a7bf460b5969190323de5e9', 'message': 'Fix whitespace that occurs after comma\n\nUse a custom tuple of separators for json.dumps that avoids\nhaving the comma+space, which looks bad if this is ever committed.\nReplace it by just having "": "" and "","" (no space after) instead.\n\nAn example of this so that it can be more clear:\n\nhttp://paste.openstack.org/show/84238/\n\nNote the above paste where the old version has spaces after\ncommas where as the newer version does not have these spaces.\n\nChange-Id: Ifd04d5e1b26ebdf9db374761f31baaf1e33d87cd\n'}]",0,90484,0326f6781f7cb44e8a7bf460b5969190323de5e9,21,6,2,1297,,,0,"Fix whitespace that occurs after comma

Use a custom tuple of separators for json.dumps that avoids
having the comma+space, which looks bad if this is ever committed.
Replace it by just having "": "" and "","" (no space after) instead.

An example of this so that it can be more clear:

http://paste.openstack.org/show/84238/

Note the above paste where the old version has spaces after
commas where as the newer version does not have these spaces.

Change-Id: Ifd04d5e1b26ebdf9db374761f31baaf1e33d87cd
",git fetch https://review.opendev.org/openstack/requirements refs/changes/84/90484/1 && git format-patch -1 --stdout FETCH_HEAD,['detail.py'],1,73ceda4cd91f663702df8d8918937e0ada55bd60,less-spaces," fh.write(json.dumps(details, sort_keys=True, indent=4, separators=("","", "": "")))"," fh.write(json.dumps(details, sort_keys=True, indent=4))",2,1
openstack%2Fmanila~master~I335afd8ba7f4d0e73c7f179290608b2b873651c7,openstack/manila,master,I335afd8ba7f4d0e73c7f179290608b2b873651c7,Fix lvm driver to be compatible with share manager,MERGED,2014-06-05 13:15:17.000000000,2014-06-17 14:46:30.000000000,2014-06-17 14:46:30.000000000,"[{'_account_id': 3}, {'_account_id': 177}, {'_account_id': 2828}, {'_account_id': 6491}, {'_account_id': 7534}, {'_account_id': 8851}]","[{'number': 1, 'created': '2014-06-05 13:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/84ff78c3fe6f06323652ceb3f1783b8462292219', 'message': 'Fix lvm driver to be compatible with share manager\n\nAfter last changes to share manager, LVM driver became incompatible.\n\nChange-Id: I335afd8ba7f4d0e73c7f179290608b2b873651c7\n'}, {'number': 2, 'created': '2014-06-05 17:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2bb6138e638d4861d0c0db5906143e4914defe50', 'message': 'Fix lvm driver to be compatible with share manager\n\nAfter last changes to share manager, LVM driver became incompatible.\n\nChange-Id: I335afd8ba7f4d0e73c7f179290608b2b873651c7\n'}, {'number': 3, 'created': '2014-06-17 12:43:01.000000000', 'files': ['manila/share/drivers/lvm.py', 'manila/tests/test_share_lvm.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/3f0ab888d3e3d649ace2401df84f8d64e41479c1', 'message': 'Fix lvm driver to be compatible with share manager\n\nAfter last changes to share manager, LVM driver became incompatible.\n\nChange-Id: I335afd8ba7f4d0e73c7f179290608b2b873651c7\n'}]",2,98107,3f0ab888d3e3d649ace2401df84f8d64e41479c1,26,6,3,8851,,,0,"Fix lvm driver to be compatible with share manager

After last changes to share manager, LVM driver became incompatible.

Change-Id: I335afd8ba7f4d0e73c7f179290608b2b873651c7
",git fetch https://review.opendev.org/openstack/manila refs/changes/07/98107/3 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/drivers/lvm.py'],1,84ff78c3fe6f06323652ceb3f1783b8462292219,master," def create_share(self, context, share, share_server=None): def delete_share(self, context, share, share_server=None): def create_snapshot(self, context, snapshot, share_server=None): def delete_snapshot(self, context, snapshot, share_server=None): def allow_access(self, ctx, share, access, share_server=None): def deny_access(self, ctx, share, access, share_server=None):"," def create_share(self, context, share): def delete_share(self, context, share): def create_snapshot(self, context, snapshot): def delete_snapshot(self, context, snapshot): def allow_access(self, ctx, share, access): def deny_access(self, ctx, share, access):",6,6
openstack%2Ffuel-library~stable%2F5.0~Ic8daace980f2cb01feeb1f8006c9ca22d4a6a8f2,openstack/fuel-library,stable/5.0,Ic8daace980f2cb01feeb1f8006c9ca22d4a6a8f2,Limit HAProxy exec check to primary controller,MERGED,2014-06-17 14:00:54.000000000,2014-06-17 14:45:22.000000000,2014-06-17 14:45:21.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 6926}, {'_account_id': 7468}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 10489}]","[{'number': 1, 'created': '2014-06-17 14:00:54.000000000', 'files': ['deployment/puppet/osnailyfacter/manifests/cluster_ha.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/3bb37ea2dbf5860f2d21cfdc11c9f23337e98d69', 'message': 'Limit HAProxy exec check to primary controller\n\nHAProxy IP is controlled by Pacemaker/Corosync. Exec fails on all Slave controllers.\nThis patch limits exec check to primary controller only.\n\nChange-Id: Ic8daace980f2cb01feeb1f8006c9ca22d4a6a8f2\nCloses-Bug: 1329780\nRelated-Bug: 1321662\n'}]",0,100552,3bb37ea2dbf5860f2d21cfdc11c9f23337e98d69,14,7,1,11090,,,0,"Limit HAProxy exec check to primary controller

HAProxy IP is controlled by Pacemaker/Corosync. Exec fails on all Slave controllers.
This patch limits exec check to primary controller only.

Change-Id: Ic8daace980f2cb01feeb1f8006c9ca22d4a6a8f2
Closes-Bug: 1329780
Related-Bug: 1321662
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/52/100552/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/osnailyfacter/manifests/cluster_ha.pp'],1,3bb37ea2dbf5860f2d21cfdc11c9f23337e98d69,bug/1329780," if $::fuel_settings['role'] == 'primary-controller' { exec { 'wait-for-haproxy-nova-backend': command => ""echo show stat | socat unix-connect:///var/lib/haproxy/stats stdio | grep -q '^nova-api-2,BACKEND,.*,UP,'"", path => ['/usr/bin', '/usr/sbin', '/sbin', '/bin'], try_sleep => 5, tries => 60, } } Class['nova::api', 'openstack::ha::nova'] -> Exec<| title=='wait-for-haproxy-nova-backend' |> -> Nova_floating_range <| |> Class['heat'] -> Class['murano']"," exec { 'wait-for-haproxy-nova-backend': command => ""echo show stat | socat unix-connect:///var/lib/haproxy/stats stdio | grep -q '^nova-api-2,BACKEND,.*,UP,'"", path => ['/usr/bin', '/usr/sbin', '/sbin', '/bin'], try_sleep => 5, tries => 60, }-> Class['nova::api', 'openstack::ha::nova'] -> Nova_floating_range <| |> Class['heat'] -> Class['murano']",13,9
openstack%2Fnova~master~I6132a0a28b8b44f784602c00565db27f385c4d89,openstack/nova,master,I6132a0a28b8b44f784602c00565db27f385c4d89,Fix attaching/detaching problem in vm PAUSED state,ABANDONED,2014-06-17 04:08:43.000000000,2014-06-17 14:43:06.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 8247}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-17 04:08:43.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/384f82befcec36f600c97f781516a9eb016650b4', 'message': ""Fix attaching/detaching problem in vm PAUSED state\n\nWhen attaching/detaching device for vm in PAUSED state, device can not be\nattached/detached properly. This's because libvirt take PAUSED state as an\nactive state, so the VIR_DOMAIN_AFFECT_LIVE flag should be added as a operation\nflag when attaching/detaching device in PAUSED state.\n\nChange-Id: I6132a0a28b8b44f784602c00565db27f385c4d89\nCloses-Bug: #1330800\n""}]",0,100411,384f82befcec36f600c97f781516a9eb016650b4,9,6,1,6463,,,0,"Fix attaching/detaching problem in vm PAUSED state

When attaching/detaching device for vm in PAUSED state, device can not be
attached/detached properly. This's because libvirt take PAUSED state as an
active state, so the VIR_DOMAIN_AFFECT_LIVE flag should be added as a operation
flag when attaching/detaching device in PAUSED state.

Change-Id: I6132a0a28b8b44f784602c00565db27f385c4d89
Closes-Bug: #1330800
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/100411/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,384f82befcec36f600c97f781516a9eb016650b4,master, if state == power_state.RUNNING or state == power_state.PAUSED: if state == power_state.RUNNING or state == power_state.PAUSED: if state == power_state.RUNNING or state == power_state.PAUSED: if state == power_state.RUNNING or state == power_state.PAUSED:, if state == power_state.RUNNING: if state == power_state.RUNNING: if state == power_state.RUNNING: if state == power_state.RUNNING:,4,4
openstack%2Ftraining-guides~master~Ia63b8489c66acf174f3b3850d24fd7c6108f59b4,openstack/training-guides,master,Ia63b8489c66acf174f3b3850d24fd7c6108f59b4,Add path configuration file,MERGED,2014-06-17 12:53:46.000000000,2014-06-17 14:41:38.000000000,2014-06-17 14:41:37.000000000,"[{'_account_id': 3}, {'_account_id': 6923}, {'_account_id': 7007}]","[{'number': 1, 'created': '2014-06-17 12:53:46.000000000', 'files': ['labs/config/paths'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/949110d1147b6792143cfe5fc871899c8d8a3f40', 'message': 'Add path configuration file\n\nThis file is used by all scripts to find the directories for the files\nthey read or write. They find this file as ""$TOP_DIR/config/paths"".\n\nPartial-Bug: 1312764\nImplements: blueprint openstack-training-labs\nChange-Id: Ia63b8489c66acf174f3b3850d24fd7c6108f59b4\n'}]",0,100531,949110d1147b6792143cfe5fc871899c8d8a3f40,7,3,1,11109,,,0,"Add path configuration file

This file is used by all scripts to find the directories for the files
they read or write. They find this file as ""$TOP_DIR/config/paths"".

Partial-Bug: 1312764
Implements: blueprint openstack-training-labs
Change-Id: Ia63b8489c66acf174f3b3850d24fd7c6108f59b4
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/31/100531/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/config/paths'],1,949110d1147b6792143cfe5fc871899c8d8a3f40,bug/1312764,"# This file is used by all scripts to find the directories for the files they # read or write. They find this file as ""$TOP_DIR/config/paths"". # Configuration files : ${CONFIG_DIR:=$TOP_DIR/config} # Installation ISO images, basedisk images, exported VM cluster images, etc. # # TODO(rluethi): merge these directories in the code, the option to have them # in separate directories doesn't seem very useful : ${DISK_DIR:=$TOP_DIR/img} : ${IMG_DIR:=$TOP_DIR/img} : ${ISO_DIR:=$TOP_DIR/img} # Code libraries, templates, preseed/kickstart files : ${LIB_DIR:=$TOP_DIR/lib} # Log files : ${LOG_DIR:=$TOP_DIR/log} # Status files (progress indicator for running scripts) : ${STATUS_DIR:=$LOG_DIR/status} # Scripts that run within the basedisk and node VMs : ${SCRIPTS_DIR:=$TOP_DIR/scripts} # Directory shared with VM guest : ${SHARE_DIR:=$TOP_DIR} # Autostart directory; files placed here are executed within the VM : ${AUTOSTART_DIR:=$SHARE_DIR/autostart} # vim: set ai ts=4 sw=4 et ft=sh: ",,33,0
openstack%2Fmanila~master~Ie488b80dea0a1e66837c16d3e6ac8658a2045a2e,openstack/manila,master,Ie488b80dea0a1e66837c16d3e6ac8658a2045a2e,Rewrited mox tests to mock (part 1),MERGED,2014-06-11 13:21:06.000000000,2014-06-17 14:37:36.000000000,2014-06-17 14:37:36.000000000,"[{'_account_id': 3}, {'_account_id': 177}, {'_account_id': 6491}, {'_account_id': 7534}, {'_account_id': 8851}]","[{'number': 1, 'created': '2014-06-11 13:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/207cc1d49a350d2c205a772b017a2b0e4c76ba7b', 'message': ""Rewrited mox tests to mock\n\nPreffered module for unittests is mock,\nso, this commit is intended to remove mox module\nfrom manila's dependencies.\n\nChange-Id: Ie488b80dea0a1e66837c16d3e6ac8658a2045a2e\nImplements: blueprint replace-mox-with-mock\n""}, {'number': 2, 'created': '2014-06-12 10:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d9fe28eec5d61d2f672afd94204f67b274f9cc5d', 'message': ""Rewrited mox tests to mock (part 1)\n\nPreffered module for unittests is mock,\nso, this commit is intended to remove mox module\nfrom manila's dependencies in modules:\nmanila/tests/api/v1/test_shares.py\nmanila/tests/test_service.py\nmanila/tests/test_share_api.py\nmanila/tests/test_share_lvm.py\n\nChange-Id: Ie488b80dea0a1e66837c16d3e6ac8658a2045a2e\nImplements: blueprint replace-mox-with-mock\n""}, {'number': 3, 'created': '2014-06-12 11:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/dd9bba56c58c703c15d922cd94915be06bbbc40b', 'message': ""Rewrited mox tests to mock (part 1)\n\nPreffered module for unittests is mock,\nso, this commit is intended to remove mox module\nfrom manila's dependencies in modules:\nmanila/tests/api/v1/test_shares.py\nmanila/tests/test_service.py\nmanila/tests/test_share_api.py\nmanila/tests/test_share_lvm.py\nmanila/tests/test_utils.py\n\nChange-Id: Ie488b80dea0a1e66837c16d3e6ac8658a2045a2e\nImplements: blueprint replace-mox-with-mock\n""}, {'number': 4, 'created': '2014-06-12 11:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/799ae2dc11840e854142bdce7c5dfe16b34b663d', 'message': ""Rewrited mox tests to mock (part 1)\n\nPreffered module for unittests is mock,\nso, this commit is intended to remove mox module\nfrom manila's dependencies in modules:\nmanila/tests/api/v1/test_shares.py\nmanila/tests/test_service.py\nmanila/tests/test_share_api.py\nmanila/tests/test_share_lvm.py\nmanila/tests/test_utils.py\n\nChange-Id: Ie488b80dea0a1e66837c16d3e6ac8658a2045a2e\nImplements: blueprint replace-mox-with-mock\n""}, {'number': 5, 'created': '2014-06-12 11:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/42de65159ddd7e52a999b4caef84137773667acd', 'message': ""Rewrited mox tests to mock (part 1)\n\nPreffered module for unittests is mock,\nso, this commit is intended to remove mox module\nfrom manila's dependencies in modules:\nmanila/tests/api/v1/test_shares.py\nmanila/tests/test_service.py\nmanila/tests/test_share_api.py\nmanila/tests/test_share_lvm.py\nmanila/tests/test_utils.py\n\nChange-Id: Ie488b80dea0a1e66837c16d3e6ac8658a2045a2e\nImplements: blueprint replace-mox-with-mock\n""}, {'number': 6, 'created': '2014-06-12 16:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/06d38f28a753987dc52806127df0ec2e82f308a4', 'message': ""Rewrited mox tests to mock (part 1)\n\nPreffered module for unittests is mock,\nso, this commit is intended to remove mox module\nfrom manila's dependencies in modules:\nmanila/tests/api/v1/test_shares.py\nmanila/tests/test_service.py\nmanila/tests/test_share_api.py\nmanila/tests/test_share_lvm.py\nmanila/tests/test_utils.py\n\nChange-Id: Ie488b80dea0a1e66837c16d3e6ac8658a2045a2e\nPartially implements: blueprint replace-mox-with-mock\n""}, {'number': 7, 'created': '2014-06-13 05:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3a715021e50055f89b6891944bea39b6603a6a7a', 'message': ""Rewrited mox tests to mock (part 1)\n\nPreffered module for unittests is mock,\nso, this commit is intended to remove mox module\nfrom manila's dependencies in modules:\nmanila/tests/api/v1/test_shares.py\nmanila/tests/test_service.py\nmanila/tests/test_share_api.py\nmanila/tests/test_share_lvm.py\nmanila/tests/test_utils.py\n\nChange-Id: Ie488b80dea0a1e66837c16d3e6ac8658a2045a2e\nPartially implements: blueprint replace-mox-with-mock\n""}, {'number': 8, 'created': '2014-06-13 06:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1c7c80ae4ae3c696917eda460d2cec4480a91196', 'message': ""Rewrited mox tests to mock (part 1)\n\nPreffered module for unittests is mock,\nso, this commit is intended to remove mox module\nfrom manila's dependencies in modules:\nmanila/tests/api/v1/test_shares.py\nmanila/tests/test_service.py\nmanila/tests/test_share_api.py\nmanila/tests/test_share_lvm.py\nmanila/tests/test_utils.py\n\nChange-Id: Ie488b80dea0a1e66837c16d3e6ac8658a2045a2e\nPartially implements: blueprint replace-mox-with-mock\n""}, {'number': 9, 'created': '2014-06-13 07:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5f3ebf44ffb1af1c11da42bc7478220dd8cc0674', 'message': ""Rewrited mox tests to mock (part 1)\n\nPreffered module for unittests is mock,\nso, this commit is intended to remove mox module\nfrom manila's dependencies in modules:\nmanila/tests/api/v1/test_shares.py\nmanila/tests/test_service.py\nmanila/tests/test_share_api.py\nmanila/tests/test_share_lvm.py\nmanila/tests/test_utils.py\n\nChange-Id: Ie488b80dea0a1e66837c16d3e6ac8658a2045a2e\nPartially implements: blueprint replace-mox-with-mock\n""}, {'number': 10, 'created': '2014-06-13 18:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b3dd0f01af2c1543d4336a7e708be37c7c9748f9', 'message': ""Rewrited mox tests to mock (part 1)\n\nPreffered module for unittests is mock,\nso, this commit is intended to remove mox module\nfrom manila's dependencies in modules:\nmanila/tests/api/v1/test_shares.py\nmanila/tests/test_service.py\nmanila/tests/test_share_api.py\nmanila/tests/test_share_lvm.py\nmanila/tests/test_utils.py\n\nChange-Id: Ie488b80dea0a1e66837c16d3e6ac8658a2045a2e\nPartially implements: blueprint replace-mox-with-mock\n""}, {'number': 11, 'created': '2014-06-16 06:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/62e0a98c112489684c2cb935e01f0688ae005369', 'message': ""Rewrited mox tests to mock (part 1)\n\nPreffered module for unittests is mock,\nso, this commit is intended to remove mox module\nfrom manila's dependencies in modules:\nmanila/tests/api/v1/test_shares.py\nmanila/tests/test_service.py\nmanila/tests/test_share_api.py\nmanila/tests/test_share_lvm.py\nmanila/tests/test_utils.py\n\nChange-Id: Ie488b80dea0a1e66837c16d3e6ac8658a2045a2e\nPartially implements: blueprint replace-mox-with-mock\n""}, {'number': 12, 'created': '2014-06-16 06:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/465c9ec268d5df040e521cb694fb61d6f918a1f2', 'message': ""Rewrited mox tests to mock (part 1)\n\nPreffered module for unittests is mock,\nso, this commit is intended to remove mox module\nfrom manila's dependencies in modules:\nmanila/tests/api/v1/test_shares.py\nmanila/tests/test_service.py\nmanila/tests/test_share_api.py\nmanila/tests/test_share_lvm.py\nmanila/tests/test_utils.py\n\nChange-Id: Ie488b80dea0a1e66837c16d3e6ac8658a2045a2e\nPartially implements: blueprint replace-mox-with-mock\n""}, {'number': 13, 'created': '2014-06-16 06:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8e797b7f5cdd91fe7b6d9bd8fb3068dac8006c86', 'message': ""Rewrited mox tests to mock (part 1)\n\nPreffered module for unittests is mock,\nso, this commit is intended to remove mox module\nfrom manila's dependencies in modules:\nmanila/tests/api/v1/test_shares.py\nmanila/tests/test_service.py\nmanila/tests/test_share_api.py\nmanila/tests/test_share_lvm.py\nmanila/tests/test_utils.py\n\nChange-Id: Ie488b80dea0a1e66837c16d3e6ac8658a2045a2e\nPartially implements: blueprint replace-mox-with-mock\n""}, {'number': 14, 'created': '2014-06-17 12:43:01.000000000', 'files': ['manila/tests/api/v1/test_shares.py', 'manila/tests/test_service.py', 'manila/tests/test_utils.py', 'manila/tests/test_share_api.py', 'manila/tests/test_share_lvm.py', 'manila/utils.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/990f108e6831feaab42503922ced9e17caff1bf6', 'message': ""Rewrited mox tests to mock (part 1)\n\nPreffered module for unittests is mock,\nso, this commit is intended to remove mox module\nfrom manila's dependencies in modules:\nmanila/tests/api/v1/test_shares.py\nmanila/tests/test_service.py\nmanila/tests/test_share_api.py\nmanila/tests/test_share_lvm.py\nmanila/tests/test_utils.py\n\nChange-Id: Ie488b80dea0a1e66837c16d3e6ac8658a2045a2e\nPartially implements: blueprint replace-mox-with-mock\n""}]",13,99362,990f108e6831feaab42503922ced9e17caff1bf6,52,5,14,8851,,,0,"Rewrited mox tests to mock (part 1)

Preffered module for unittests is mock,
so, this commit is intended to remove mox module
from manila's dependencies in modules:
manila/tests/api/v1/test_shares.py
manila/tests/test_service.py
manila/tests/test_share_api.py
manila/tests/test_share_lvm.py
manila/tests/test_utils.py

Change-Id: Ie488b80dea0a1e66837c16d3e6ac8658a2045a2e
Partially implements: blueprint replace-mox-with-mock
",git fetch https://review.opendev.org/openstack/manila refs/changes/62/99362/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/test_service.py', 'manila/tests/test_share_lvm.py']",2,207cc1d49a350d2c205a772b017a2b0e4c76ba7b,master,"from oslo.config import cfg device_name = '/dev/mapper/fakevg-fakename' location = 'fake_location' with mock.patch.object(self._driver, '_mount_device', mock.Mock(return_value=location)): self._driver.ensure_share(self._context, self.share) self._driver._mount_device.assert_called_with(self.share, device_name) self._helper_nfs.create_export.assert_called_once_with( location, self.share['name'], recreate=True)","# vim: tabstop=4 shiftwidth=4 softtabstop=4from oslo.config import cfg mount_path = self._get_mount_path(self.share) self.mox.StubOutWithMock(self._driver, '_mount_device') self._driver._mount_device(self.share, '/dev/mapper/fakevg-fakename').\ AndReturn(mount_path) self._helper_nfs.create_export(mount_path, self.share['name'], recreate=True).AndReturn('fakelocation') self.mox.ReplayAll() self._driver.ensure_share(self._context, self.share)",78,110
openstack%2Ftraining-guides~master~I19bbf6c5314dc75704d7e2c15bb7607d6d11f279,openstack/training-guides,master,I19bbf6c5314dc75704d7e2c15bb7607d6d11f279,VirtualBox-specific configuration file,MERGED,2014-06-17 12:11:40.000000000,2014-06-17 14:36:10.000000000,2014-06-17 14:36:10.000000000,"[{'_account_id': 3}, {'_account_id': 6923}, {'_account_id': 7007}]","[{'number': 1, 'created': '2014-06-17 12:11:40.000000000', 'files': ['labs/config/provider.virtualbox'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/4c9beb03099782c037ecceec3c583f06e10c82a1', 'message': 'VirtualBox-specific configuration file\n\nThis file contains settings that are specific to VirtualBox: the type of\nNIC to use for networking, the location of the VBoxManage binary, and\nthe name of the VirtualBox VM group to use for the VMs.\n\nPartial-Bug: 1312764\nImplements: blueprint openstack-training-labs\nChange-Id: I19bbf6c5314dc75704d7e2c15bb7607d6d11f279\n'}]",0,100513,4c9beb03099782c037ecceec3c583f06e10c82a1,7,3,1,11109,,,0,"VirtualBox-specific configuration file

This file contains settings that are specific to VirtualBox: the type of
NIC to use for networking, the location of the VBoxManage binary, and
the name of the VirtualBox VM group to use for the VMs.

Partial-Bug: 1312764
Implements: blueprint openstack-training-labs
Change-Id: I19bbf6c5314dc75704d7e2c15bb7607d6d11f279
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/13/100513/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/config/provider.virtualbox'],1,4c9beb03099782c037ecceec3c583f06e10c82a1,bug/1312764,"# VirtualBox specific settings; used by osbash # Type of NIC to use for network interfaces, one of: # 82540EM for Intel PRO/1000 MT Desktop # 82543GC for Intel PRO/1000 T Server # 82545EM for Intel PRO/1000 MT Server # Am79C970A for PCnet-PCI II # Am79C973 for PCnet-FAST III # virtio for Paravirtualized network : ${NICTYPE:=virtio} # Location of VBoxManage binary : ${VBM_EXE:=$(which VBoxManage)} # VirtualBox VM group : ${VM_GROUP:=oslabs} # vim: set ai ts=4 sw=4 et ft=sh: ",,18,0
openstack%2Ftraining-guides~master~Ieb0928debee463ef7211dae679ac38a6702ad084,openstack/training-guides,master,Ieb0928debee463ef7211dae679ac38a6702ad084,Add osbash/Vagrant-specific configuration files,MERGED,2014-06-17 11:06:59.000000000,2014-06-17 14:36:00.000000000,2014-06-17 14:36:00.000000000,"[{'_account_id': 3}, {'_account_id': 6923}, {'_account_id': 7007}]","[{'number': 1, 'created': '2014-06-17 11:06:59.000000000', 'files': ['labs/config/deploy.vagrant', 'labs/config/deploy.osbash'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/ab3f50ba42a187efcadb7ef1acf8290ad29fb737', 'message': 'Add osbash/Vagrant-specific configuration files\n\nThis changeset adds two configuration files, one for osbash and one for\nVagrant.\n\nThey contain the names of the VirtualBox shared folder and the\nshell user. For osbash, there are some additional variables.\n\nThese config files could presumably be moved outside of the config\ndirectory or disappear entirely, because there seems to be little\nbenefit in having these variables configurable.\n\nPartial-Bug: 1312764\nImplements: blueprint openstack-training-labs\nChange-Id: Ieb0928debee463ef7211dae679ac38a6702ad084\n'}]",0,100494,ab3f50ba42a187efcadb7ef1acf8290ad29fb737,7,3,1,11109,,,0,"Add osbash/Vagrant-specific configuration files

This changeset adds two configuration files, one for osbash and one for
Vagrant.

They contain the names of the VirtualBox shared folder and the
shell user. For osbash, there are some additional variables.

These config files could presumably be moved outside of the config
directory or disappear entirely, because there seems to be little
benefit in having these variables configurable.

Partial-Bug: 1312764
Implements: blueprint openstack-training-labs
Change-Id: Ieb0928debee463ef7211dae679ac38a6702ad084
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/94/100494/1 && git format-patch -1 --stdout FETCH_HEAD,"['labs/config/deploy.vagrant', 'labs/config/deploy.osbash']",2,ab3f50ba42a187efcadb7ef1acf8290ad29fb737,bug/1312764,# Used by osbash.sh and guest scripts : ${VM_BASE_NAME:=base} # Port used for ssh forwarding when building base disk : ${VM_BASE_SSH_PORT:=2229} : ${OSBASH_LIB_DIR:=$LIB_DIR/osbash} : ${OSBASH_SCRIPTS_DIR:=$SCRIPTS_DIR/osbash} : ${TEMPLATE_DIR:=$LIB_DIR/osbash/templates} # Name of VirtualBox shared folder : ${SHARE_NAME:=osbash} # Note: shell user name and password are set in preseed.cfg VM_SHELL_USER=osbash # vim: set ai ts=4 sw=4 et ft=sh: ,,27,0
openstack%2Ftraining-guides~master~Ia5cfee0acddae26bd41e39b9185ed3d5990539f6,openstack/training-guides,master,Ia5cfee0acddae26bd41e39b9185ed3d5990539f6,Add and enable Vagrant script,MERGED,2014-06-17 10:24:09.000000000,2014-06-17 14:34:53.000000000,2014-06-17 14:34:53.000000000,"[{'_account_id': 3}, {'_account_id': 6923}, {'_account_id': 7007}]","[{'number': 1, 'created': '2014-06-17 10:24:09.000000000', 'files': ['labs/scripts/vagrant/compute.sh', 'labs/scripts/vagrant/run_scripts.sh', 'labs/scripts/vagrant/network.sh', 'labs/Vagrantfile', 'labs/scripts/vagrant/controller.sh', 'labs/scripts/vagrant/allinone.sh'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/0caf4cf52e39191b83ca7e3fc050c00fdebfa306', 'message': ""Add and enable Vagrant script\n\nThis changeset adds vagrant/run_scripts.sh, a script executed by the\nVagrant shell provisioner inside the node VM.\n\nrun_scripts.sh executes the scripts enabled in:\n\nconfig/scripts.nodeinit_vagrant\nconfig/scripts.ubuntu\nconfig/scripts.$HOSTNAME\n\nNote that while Vagrant calls run_scripts.sh through symlinks named\nafter the nodes (controller.sh, network.sh, compute.sh), this has no\neffect because run_scripts.sh relies on the hostname to select the\nconfiguration.\n\nThe symlinks (and the Vagrantfile section that calls them) can be removed\nonce we are reasonably sure that we don't want to have node-specific\nscripts for Vagrant on the host-side.\n\nPartial-Bug: 1312764\nImplements: blueprint openstack-training-labs\nChange-Id: Ia5cfee0acddae26bd41e39b9185ed3d5990539f6\n""}]",0,100487,0caf4cf52e39191b83ca7e3fc050c00fdebfa306,7,3,1,11109,,,0,"Add and enable Vagrant script

This changeset adds vagrant/run_scripts.sh, a script executed by the
Vagrant shell provisioner inside the node VM.

run_scripts.sh executes the scripts enabled in:

config/scripts.nodeinit_vagrant
config/scripts.ubuntu
config/scripts.$HOSTNAME

Note that while Vagrant calls run_scripts.sh through symlinks named
after the nodes (controller.sh, network.sh, compute.sh), this has no
effect because run_scripts.sh relies on the hostname to select the
configuration.

The symlinks (and the Vagrantfile section that calls them) can be removed
once we are reasonably sure that we don't want to have node-specific
scripts for Vagrant on the host-side.

Partial-Bug: 1312764
Implements: blueprint openstack-training-labs
Change-Id: Ia5cfee0acddae26bd41e39b9185ed3d5990539f6
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/87/100487/1 && git format-patch -1 --stdout FETCH_HEAD,"['labs/scripts/vagrant/compute.sh', 'labs/scripts/vagrant/run_scripts.sh', 'labs/scripts/vagrant/network.sh', 'labs/Vagrantfile', 'labs/scripts/vagrant/controller.sh', 'labs/scripts/vagrant/allinone.sh']",6,0caf4cf52e39191b83ca7e3fc050c00fdebfa306,bug/1312764,run_scripts.sh,,27,2
openstack%2Ffuel-ostf~stable%2F5.0~I93368266d0ac2223d1e14958dbe199269a6d84a6,openstack/fuel-ostf,stable/5.0,I93368266d0ac2223d1e14958dbe199269a6d84a6,Removed extra Murano OSTF tests,MERGED,2014-06-11 10:26:23.000000000,2014-06-17 14:29:56.000000000,2014-06-17 14:29:54.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 6719}, {'_account_id': 7227}, {'_account_id': 8786}, {'_account_id': 8789}, {'_account_id': 8824}, {'_account_id': 8839}, {'_account_id': 8907}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-06-11 10:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/28bf36801d3a17afdaafab177e508d205b0d50cb', 'message': ""Removed extra Murano OSTF tests\n\nWe have significant changes in Murano for Fuel 5.x versions\nand we should update our OSTF tests. Murano can't deploy\nany Windows-based services, need to remove OSTF tests.\n\nChange-Id: I93368266d0ac2223d1e14958dbe199269a6d84a6\nCloses-Bug: #1328855\n""}, {'number': 2, 'created': '2014-06-16 11:08:48.000000000', 'files': ['fuel_health/tests/platform_tests/test_platform_murano_linux.py', 'fuel_health/tests/platform_tests/test_murano.py', 'fuel_health/murano.py', 'fuel_health/cleanup.py'], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/8c977e8423ad3aa3b75c50143c8baecb1caadaed', 'message': ""Removed extra Murano OSTF tests\n\nWe have significant changes in Murano for Fuel 5.x versions\nand we disabled all Windows-based OSTF tests for Murano,\nnew version of Murano doesn't required these tests, need\nto clear the code.\n\nChange-Id: I93368266d0ac2223d1e14958dbe199269a6d84a6\nCloses-Bug: #1328855\n""}]",0,99324,8c977e8423ad3aa3b75c50143c8baecb1caadaed,25,10,2,7227,,,0,"Removed extra Murano OSTF tests

We have significant changes in Murano for Fuel 5.x versions
and we disabled all Windows-based OSTF tests for Murano,
new version of Murano doesn't required these tests, need
to clear the code.

Change-Id: I93368266d0ac2223d1e14958dbe199269a6d84a6
Closes-Bug: #1328855
",git fetch https://review.opendev.org/openstack/fuel-ostf refs/changes/24/99324/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_health/tests/platform_tests/test_platform_murano_linux.py', 'fuel_health/tests/platform_tests/test_murano.py', 'fuel_health/murano.py', 'fuel_health/cleanup.py']",4,28bf36801d3a17afdaafab177e508d205b0d50cb,(detached, if e['name'].startswith('ostf_test-'): if 'ostf_test_Murano' in flavor.name:, if e['name'].startswith('ost1_test-'): if flavor.name.startswith('ost1_test_Murano'):,5,619
openstack%2Ffuel-ostf~master~If718340f09945b02e40a27f91c9c2cd1f7cb6316,openstack/fuel-ostf,master,If718340f09945b02e40a27f91c9c2cd1f7cb6316,Removed extra Murano OSTF tests,MERGED,2014-06-11 11:05:37.000000000,2014-06-17 14:29:48.000000000,2014-06-17 14:29:47.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 6719}, {'_account_id': 8786}, {'_account_id': 8824}, {'_account_id': 8839}, {'_account_id': 8907}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-06-11 11:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/4ed9e4aede5b30d0aba1a040e907456f8c671970', 'message': ""Removed extra Murano OSTF tests\n\nWe have significant changes in Murano for Fuel 5.x versions\nand we should update our OSTF tests. Murano can't deploy\nany Windows-based services, need to remove OSTF tests.\n\nChange-Id: If718340f09945b02e40a27f91c9c2cd1f7cb6316\nCloses-Bug: #1328855\n""}, {'number': 2, 'created': '2014-06-11 11:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/54ffe2601fbbd5ef66b811e7bdfd5d4faa61d3d7', 'message': ""Removed extra Murano OSTF tests\n\nWe have significant changes in Murano for Fuel 5.x versions\nand we should update our OSTF tests. Murano can't deploy\nany Windows-based services, need to remove OSTF tests.\n\nChange-Id: If718340f09945b02e40a27f91c9c2cd1f7cb6316\nCloses-Bug: #1328855\n""}, {'number': 3, 'created': '2014-06-16 11:12:46.000000000', 'files': ['fuel_health/tests/platform_tests/test_platform_murano_linux.py', 'fuel_health/tests/platform_tests/test_murano.py', 'fuel_health/murano.py', 'fuel_health/cleanup.py'], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/42bf0a5b4502ffc92a5d4dc5576bbd13c2ed43ba', 'message': ""Removed extra Murano OSTF tests\n\nWe have significant changes in Murano for Fuel 5.x versions\nand we disabled all Windows-based OSTF tests for Murano, new version\nof Murano doesn't required these tests, need to clear the code.\n\nChange-Id: If718340f09945b02e40a27f91c9c2cd1f7cb6316\nCloses-Bug: #1328855\n""}]",0,99334,42bf0a5b4502ffc92a5d4dc5576bbd13c2ed43ba,26,8,3,7227,,,0,"Removed extra Murano OSTF tests

We have significant changes in Murano for Fuel 5.x versions
and we disabled all Windows-based OSTF tests for Murano, new version
of Murano doesn't required these tests, need to clear the code.

Change-Id: If718340f09945b02e40a27f91c9c2cd1f7cb6316
Closes-Bug: #1328855
",git fetch https://review.opendev.org/openstack/fuel-ostf refs/changes/34/99334/3 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_health/tests/platform_tests/test_platform_murano_linux.py', 'fuel_health/tests/platform_tests/test_murano.py', 'fuel_health/murano.py', 'fuel_health/cleanup.py']",4,4ed9e4aede5b30d0aba1a040e907456f8c671970,(detached, if e['name'].startswith('ostf_test-'): if 'ostf_test_Murano' in flavor.name:, if e['name'].startswith('ost1_test-'): if flavor.name.startswith('ost1_test_Murano'):,5,620
openstack%2Fmanila~master~I896e8a83109879b96f0d7ef2ca2e52fcb7528bb3,openstack/manila,master,I896e8a83109879b96f0d7ef2ca2e52fcb7528bb3,Added force-delete action to admin actions,MERGED,2014-06-03 12:23:53.000000000,2014-06-17 14:22:00.000000000,2014-06-17 14:22:00.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 7173}, {'_account_id': 7534}, {'_account_id': 7689}, {'_account_id': 8851}]","[{'number': 1, 'created': '2014-06-03 12:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/40697cd2709ee52692f4c3c6fbc459bdf6bd5087', 'message': 'Added force-delete action to admin actions\n\nforce-delete action will be available\nfor shares and snapshots with admin creds.\n\nPartially implements: blueprint manila-client-enhancements\n\nChange-Id: I896e8a83109879b96f0d7ef2ca2e52fcb7528bb3\n'}, {'number': 2, 'created': '2014-06-03 16:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9a682cfae5870cb6879df33108229dc768263288', 'message': 'Added force-delete action to admin actions\n\nforce-delete action will be available\nfor shares and snapshots with admin creds.\n\nPartially implements: blueprint manila-client-enhancements\n\nChange-Id: I896e8a83109879b96f0d7ef2ca2e52fcb7528bb3\n'}, {'number': 3, 'created': '2014-06-03 16:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0a5b2b33c0768aae5b98376fca859e18685fe328', 'message': 'Added force-delete action to admin actions\n\nforce-delete action will be available\nfor shares and snapshots with admin creds.\n\nPartially implements: blueprint manila-client-enhancements\n\nChange-Id: I896e8a83109879b96f0d7ef2ca2e52fcb7528bb3\n'}, {'number': 4, 'created': '2014-06-05 17:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/998171f5f4cdd1c08b6e441e9437e632f64411f6', 'message': 'Added force-delete action to admin actions\n\nforce-delete action will be available\nfor shares and snapshots with admin creds.\n\nPartially implements: blueprint manila-client-enhancements\n\nChange-Id: I896e8a83109879b96f0d7ef2ca2e52fcb7528bb3\n'}, {'number': 5, 'created': '2014-06-05 17:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/af733a784ccdc00f6854ff7b6e6a94b3311411e1', 'message': 'Added force-delete action to admin actions\n\nforce-delete action will be available\nfor shares and snapshots with admin creds.\n\nPartially implements: blueprint manila-client-enhancements\n\nChange-Id: I896e8a83109879b96f0d7ef2ca2e52fcb7528bb3\n'}, {'number': 6, 'created': '2014-06-05 20:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/04fb9e1652ea0872a7a9c080ddad1b9174debe4a', 'message': 'Added force-delete action to admin actions\n\nforce-delete action will be available\nfor shares and snapshots with admin creds.\n\nPartially implements: blueprint manila-client-enhancements\n\nChange-Id: I896e8a83109879b96f0d7ef2ca2e52fcb7528bb3\n'}, {'number': 7, 'created': '2014-06-06 07:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c178642f24c57282746406341dccafe4a3b2a4c6', 'message': 'Added force-delete action to admin actions\n\nforce-delete action will be available\nfor shares and snapshots with admin creds.\n\nPartially implements: blueprint manila-client-enhancements\n\nChange-Id: I896e8a83109879b96f0d7ef2ca2e52fcb7528bb3\n'}, {'number': 8, 'created': '2014-06-06 07:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8255abe6f2cb00b12539396551f4ad169e3c51f4', 'message': 'Added force-delete action to admin actions\n\nforce-delete action will be available\nfor shares and snapshots with admin creds.\n\nPartially implements: blueprint manila-client-enhancements\n\nChange-Id: I896e8a83109879b96f0d7ef2ca2e52fcb7528bb3\n'}, {'number': 9, 'created': '2014-06-06 07:52:51.000000000', 'files': ['contrib/tempest/tempest/services/share/json/shares_client.py', 'manila/tests/api/contrib/test_admin_actions.py', 'etc/manila/policy.json', 'manila/share/api.py', 'manila/tests/policy.json', 'contrib/tempest/tempest/api/share/admin/test_admin_actions_negative.py', 'contrib/tempest/tempest/api/share/admin/test_admin_actions.py', 'manila/api/contrib/admin_actions.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/cc0081fd10220a1e9ee9749d748dc712db33e2b0', 'message': 'Added force-delete action to admin actions\n\nforce-delete action will be available\nfor shares and snapshots with admin creds.\n\nPartially implements: blueprint manila-client-enhancements\n\nChange-Id: I896e8a83109879b96f0d7ef2ca2e52fcb7528bb3\n'}]",10,97480,cc0081fd10220a1e9ee9749d748dc712db33e2b0,46,6,9,8851,,,0,"Added force-delete action to admin actions

force-delete action will be available
for shares and snapshots with admin creds.

Partially implements: blueprint manila-client-enhancements

Change-Id: I896e8a83109879b96f0d7ef2ca2e52fcb7528bb3
",git fetch https://review.opendev.org/openstack/manila refs/changes/80/97480/9 && git format-patch -1 --stdout FETCH_HEAD,"['etc/manila/policy.json', 'manila/share/api.py', 'manila/tests/policy.json', 'manila/api/contrib/admin_actions.py']",4,40697cd2709ee52692f4c3c6fbc459bdf6bd5087,bp/manila-client-enhancements," @wsgi.action('os-force_delete') def _force_delete(self, req, id, body): """"""Delete a resource, bypassing the check that it must be available."""""" context = req.environ['manila.context'] self.authorize(context, 'force_delete') try: resource = self._get(context, id) except exception.NotFound: raise exc.HTTPNotFound() self._delete(context, resource, force=True) return webob.Response(status_int=202) ",,20,4
openstack%2Fhorizon~master~I0bc71477d836daa0e27cdb10646b748fdc963f5d,openstack/horizon,master,I0bc71477d836daa0e27cdb10646b748fdc963f5d,Accept translated exceptions in exceptions.handle,MERGED,2014-02-25 20:46:17.000000000,2014-06-17 14:20:44.000000000,2014-06-17 14:20:43.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 2455}, {'_account_id': 4264}, {'_account_id': 4978}, {'_account_id': 5623}, {'_account_id': 6650}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 9449}, {'_account_id': 9531}, {'_account_id': 9622}, {'_account_id': 9659}, {'_account_id': 10247}, {'_account_id': 10295}]","[{'number': 1, 'created': '2014-02-25 20:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f890a6e0afea293620ef3b2b99f4a6b7e65e6ad1', 'message': '1284827 Translated exceptions in handle\n\nIf an exception with a translated message is thrown into\nhorizon.exceptions.handle, a UnicodeEncodeError is thrown in logging calls.\n\nChange-Id: I0bc71477d836daa0e27cdb10646b748fdc963f5d\nCloses-Bug: 1284827\n'}, {'number': 2, 'created': '2014-02-26 21:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f48dc52086f5ab73561c9fa6a2002f816318b97d', 'message': '1284827 Translated exceptions in handle\n\nIf an exception with a translated message is thrown into\nhorizon.exceptions.handle, a UnicodeEncodeError is thrown in logging calls.\n\nAlso added in a test for this behavior.\n\nChange-Id: I0bc71477d836daa0e27cdb10646b748fdc963f5d\nCloses-Bug: 1284827\n'}, {'number': 3, 'created': '2014-04-08 15:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/02eb3cf6b7919fff42251dcfda22eeed8bf776db', 'message': 'Accept translated exceptions in exceptions.handle\n\nIf an exception with a translated message is thrown into\nhorizon.exceptions.handle, a UnicodeEncodeError is thrown in logging calls.\n\nAlso added in a test for this behavior.\n\nChange-Id: I0bc71477d836daa0e27cdb10646b748fdc963f5d\nCloses-Bug: 1284827\n'}, {'number': 4, 'created': '2014-04-21 15:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/eaa4a09a66787100393670a7bef139042b34be4a', 'message': 'Accept translated exceptions in exceptions.handle\n\nIf an exception with a translated message is thrown into\nhorizon.exceptions.handle, a UnicodeEncodeError is thrown in logging calls.\n\nAlso added in a test for this behavior.\n\nChange-Id: I0bc71477d836daa0e27cdb10646b748fdc963f5d\nCloses-Bug: 1284827\n'}, {'number': 5, 'created': '2014-04-25 14:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c03e91ea7404e933a78ec6636c561bd86f867dc8', 'message': 'Accept translated exceptions in exceptions.handle\n\nIf an exception with a translated message is thrown into\nhorizon.exceptions.handle, a UnicodeEncodeError is thrown in logging calls.\n\nAlso added in a test for this behavior.\n\nChange-Id: I0bc71477d836daa0e27cdb10646b748fdc963f5d\nCloses-Bug: 1284827\n'}, {'number': 6, 'created': '2014-06-09 16:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/cee6ee49c750065b466e2e074956b0bb48d6d111', 'message': 'Accept translated exceptions in exceptions.handle\n\nIf an exception with a translated message is thrown into\nhorizon.exceptions.handle, a UnicodeEncodeError is thrown in logging calls.\n\nAlso added in a test for this behavior.\n\nChange-Id: I0bc71477d836daa0e27cdb10646b748fdc963f5d\nCloses-Bug: 1284827\n'}, {'number': 7, 'created': '2014-06-10 14:04:26.000000000', 'files': ['horizon/test/tests/exceptions.py', 'horizon/exceptions.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3617fb378577a2918e16689c6efa43d2e43904c1', 'message': 'Accept translated exceptions in exceptions.handle\n\nIf an exception with a translated message is thrown into\nhorizon.exceptions.handle, a UnicodeEncodeError is thrown in logging calls.\n\nAlso added in a test for this behavior.\n\nChange-Id: I0bc71477d836daa0e27cdb10646b748fdc963f5d\nCloses-Bug: 1284827\n'}]",14,76354,3617fb378577a2918e16689c6efa43d2e43904c1,70,15,7,9659,,,0,"Accept translated exceptions in exceptions.handle

If an exception with a translated message is thrown into
horizon.exceptions.handle, a UnicodeEncodeError is thrown in logging calls.

Also added in a test for this behavior.

Change-Id: I0bc71477d836daa0e27cdb10646b748fdc963f5d
Closes-Bug: 1284827
",git fetch https://review.opendev.org/openstack/horizon refs/changes/54/76354/7 && git format-patch -1 --stdout FETCH_HEAD,['horizon/exceptions.py'],1,f890a6e0afea293620ef3b2b99f4a6b7e65e6ad1,bug/1284827," message = message % {""exc"": unicode(exc_value)} message = unicode(message) log_entry = unicode(exc_value) log_method(error_color(""Unauthorized: %s"" % log_entry)) log_method(error_color(""Not Found: %s"" % log_entry)) if not ignore and not handled: messages.error(request, message or log_entry) log_method(error_color(""Recoverable error: %s"" % log_entry)) if not ignore and not handled: messages.error(request, message or log_entry)"," message = message % {""exc"": exc_value} log_method(error_color(""Unauthorized: %s"" % exc_value)) log_method(error_color(""Not Found: %s"" % exc_value)) if not ignore and not handled: messages.error(request, message or exc_value) log_method(error_color(""Recoverable error: %s"" % exc_value)) if not ignore and not handled: messages.error(request, message or exc_value)",9,6
openstack%2Fnova~master~Ie7cfcf70ff39f1273d97b17788c2e4e0f9fc437f,openstack/nova,master,Ie7cfcf70ff39f1273d97b17788c2e4e0f9fc437f,Add testing for hooks,MERGED,2014-05-22 15:37:19.000000000,2014-06-17 14:20:33.000000000,2014-06-17 14:20:30.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5387}, {'_account_id': 8430}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-05-22 15:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d7bf6e1464a50a90fdcc028d196bec0ffd7d1d61', 'message': 'Add testing for hooks\n\nChange-Id: Ie7cfcf70ff39f1273d97b17788c2e4e0f9fc437f\n'}, {'number': 2, 'created': '2014-05-30 13:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/623f7a66bec4a34a79a568ff1bff7aec3a02fd99', 'message': 'Add testing for hooks\n\nChange-Id: Ie7cfcf70ff39f1273d97b17788c2e4e0f9fc437f\n'}, {'number': 3, 'created': '2014-06-10 15:35:55.000000000', 'files': ['nova/test.py', 'nova/hooks.py', 'nova/tests/compute/test_compute.py', 'nova/tests/test_hooks.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7d43493ae339b6637f8b45f012429c3b5e6e2b38', 'message': 'Add testing for hooks\n\nPartially implements: bp instance-network-info-hook\n\nChange-Id: Ie7cfcf70ff39f1273d97b17788c2e4e0f9fc437f\n'}]",5,94911,7d43493ae339b6637f8b45f012429c3b5e6e2b38,50,13,3,5387,,,0,"Add testing for hooks

Partially implements: bp instance-network-info-hook

Change-Id: Ie7cfcf70ff39f1273d97b17788c2e4e0f9fc437f
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/94911/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/test.py', 'nova/hooks.py', 'nova/tests/compute/test_compute.py', 'nova/tests/test_hooks.py']",4,d7bf6e1464a50a90fdcc028d196bec0ffd7d1d61,bp/instance-network-info-hook,"class HookTestCase(test.BaseHookTestCase): self.assert_has_hook(self._hooked, 'test_hook') self.assert_has_hook(self._hooked, 'function_hook')",class HookTestCase(test.NoDBTestCase): ,21,2
openstack%2Fnova-specs~master~I9a53ba31619bab1b25d25b533beba8c86606637c,openstack/nova-specs,master,I9a53ba31619bab1b25d25b533beba8c86606637c,Change compute updates from periodic to on demand,MERGED,2014-06-04 20:05:10.000000000,2014-06-17 14:11:18.000000000,2014-06-16 19:02:59.000000000,"[{'_account_id': 3}, {'_account_id': 1501}, {'_account_id': 1561}, {'_account_id': 1779}, {'_account_id': 1981}, {'_account_id': 2889}, {'_account_id': 6172}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8690}, {'_account_id': 9060}, {'_account_id': 9623}]","[{'number': 1, 'created': '2014-06-04 20:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/295d82b06c9e62b9d2dff0702723ae1e2645cdfa', 'message': 'Change compute updates from periodic to on demand\n\nCurrently, all compute nodes update status info in the DB on a periodic\nbasis (the period is currently 60 seconds). Given that the status of\nthe node only changes at specific points (manyline image\ncreation/destruction) this leads to significant DB overhead on a large\nsystem. This BP changes the update mechanism to only update the DB when\na node state changes, specifically at node startup, instance creation\nand instance destruction.\n\nChange-Id: I9a53ba31619bab1b25d25b533beba8c86606637c\nImplements: blueprint on-demand-compute-update\n'}, {'number': 2, 'created': '2014-06-13 15:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/095919c3a9777c70be0b2cbb12010d5624b1de2a', 'message': 'Change compute updates from periodic to on demand\n\nCurrently, all compute nodes update status info in the DB on a periodic\nbasis (the period is currently 60 seconds). Given that the status of\nthe node only changes at specific points (manyline image\ncreation/destruction) this leads to significant DB overhead on a large\nsystem. This BP changes the update mechanism to only update the DB when\na node state changes, specifically at node startup, instance creation\nand instance destruction.\n\nChange-Id: I9a53ba31619bab1b25d25b533beba8c86606637c\nImplements: blueprint on-demand-compute-update\n'}, {'number': 3, 'created': '2014-06-16 16:03:55.000000000', 'files': ['specs/juno/on-demand-compute-update.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/026d5dc25f3de026e6ce4b3403e41912788df55f', 'message': 'Change compute updates from periodic to on demand\n\nCurrently, all compute nodes update status info in the DB on a periodic\nbasis (the period is currently 60 seconds). Given that the status of\nthe node only changes at specific points (manyline image\ncreation/destruction) this leads to significant DB overhead on a large\nsystem. This BP changes the update mechanism to only update the DB when\na node state changes, specifically at node startup, instance creation\nand instance destruction.\n\nChange-Id: I9a53ba31619bab1b25d25b533beba8c86606637c\nImplements: blueprint on-demand-compute-update\n'}]",36,97903,026d5dc25f3de026e6ce4b3403e41912788df55f,28,12,3,1981,,,0,"Change compute updates from periodic to on demand

Currently, all compute nodes update status info in the DB on a periodic
basis (the period is currently 60 seconds). Given that the status of
the node only changes at specific points (manyline image
creation/destruction) this leads to significant DB overhead on a large
system. This BP changes the update mechanism to only update the DB when
a node state changes, specifically at node startup, instance creation
and instance destruction.

Change-Id: I9a53ba31619bab1b25d25b533beba8c86606637c
Implements: blueprint on-demand-compute-update
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/03/97903/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/on-demand-compute-update.rst'],1,295d82b06c9e62b9d2dff0702723ae1e2645cdfa,bp/changes,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================= Change compute updates from periodic to on demand ================================================= Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/nova/+spec/on-demand-compute-update Currently, all compute nodes update status info in the DB on a periodic basis (the period is currently 60 seconds). Given that the status of the node only changes at specific points (manyline image creation/destruction) this leads to significant DB overhead on a large system. This BP changes the update mechanism to only update the DB when a node state changes, specifically at node startup, instance creation and instance destruction. Problem description =================== The status information about compute nodes is updated into the DB on a periodic basis. This means that every compute node in the system updates a row in the DB once every 60 seconds (the default period for this update). This is unnecessary and a scalability problem given that the status info is mostly static and doesn't change very often, mainly it changes when an instance is created or destroyed. Proposed change =============== Compute node only sends an update if its status changes. On a periodic interval (using the current default period of 60 seconds) the compute node will compare its status with the status saved from the last update. Only if the state has changed will the DB be updated. The advantage to this method is that it should significantly cut down on the number of DB updates while changing almost nothing about the way the system currently works, compute node changes will still take 60 seconds before they are updated but any change, for any reason, will ultimately be reported. One potential issue with this is a possible sensitivity concern, updates shouldn't be constantly sent if, for example, steady state system activity causes something like RAM usage to change slightly. Some experiments will have to be run to decide if adding in a sensitivity control for certain status metrics is needed. This can be a follow on optimization, if it's necessary, since this design is no worse than the current mechanism. Alternatives ------------ Another idea would be to only update the DB at certain well defined events. The update code would only be called at system start up, instance creation and instance deletion. This would reduce the latency for status updates (the DB is modified as soon as the system state changes) but it suffers from some disadvantages: 1) Finding all of the appropriate events to record a status change. Are statup/creation/destruction the only places where the system state changes, maybe there are other events that should be tracked. 2) Future changes could add new events that change status and recognizing that an update is needed is an easy mistake to miss. 3) Status could change unknown to the nova code, image something like a hot plug add of memory. Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ As measured by DB updates this change will clearly cause no more DB updates than the current technique and, assuming instances are created on a node at a rate of less then one every 60 seconds, should cause much fewer DB updates. Other deployer impact --------------------- None. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: n0ano Other contributors: Work Items ---------- Change should be fairly simple, change the current update code to only call the DB update if a 'state_modified' routine returns true. The 'state_modified' routine returns false if the current state matches the last recorded state. Otherwise, it saves the current state as the last recorded state and returns true. Dependencies ============ None. Testing ======= No changes should be needed, any tests that currently check the periodic update mechanism should still pass or fail appropriately with this mechanism. Documentation Impact ==================== Section 5 of the Training Guide is slightly incorrect and should be fixed. It currently says ""All compute nodes (also known as hosts in terms of OpenStack) periodically publish their status, resources available and hardware capabilities to nova-scheduler through the queue."" This should be modified to reflect that the status is updated in the DB which is then queried by the scheduler. (Note this is a generic fix that is really unrealted to this blueprint.) References ========== None. ",,167,0
openstack%2Fkeystone-specs~master~I947968db599e75cae978ed3f55d79da6f1ae34ee,openstack/keystone-specs,master,I947968db599e75cae978ed3f55d79da6f1ae34ee,Remove template from juno approved specs,MERGED,2014-06-16 17:44:50.000000000,2014-06-17 14:09:29.000000000,2014-06-17 14:09:29.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 220}, {'_account_id': 5046}, {'_account_id': 6482}]","[{'number': 1, 'created': '2014-06-16 17:44:50.000000000', 'files': ['specs/juno/template.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/7188e67c2fc8cdf7e2f297143570b5bdd7673206', 'message': 'Remove template from juno approved specs\n\nNow that there is an approved spec, remove the template symlink\nfrom the juno spec tree.\n\nChange-Id: I947968db599e75cae978ed3f55d79da6f1ae34ee\n'}]",0,100310,7188e67c2fc8cdf7e2f297143570b5bdd7673206,10,5,1,2903,,,0,"Remove template from juno approved specs

Now that there is an approved spec, remove the template symlink
from the juno spec tree.

Change-Id: I947968db599e75cae978ed3f55d79da6f1ae34ee
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/10/100310/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/template.rst'],1,7188e67c2fc8cdf7e2f297143570b5bdd7673206,remove_juno_template_symlink,,../template.rst,0,1
openstack%2Fceilometer~master~If87cf60d0a25a84dd05f1b84c35f1bcbfeb69b75,openstack/ceilometer,master,If87cf60d0a25a84dd05f1b84c35f1bcbfeb69b75,Fix messaging.get_transport caching,MERGED,2014-06-17 08:44:57.000000000,2014-06-17 13:50:24.000000000,2014-06-17 13:50:23.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2284}, {'_account_id': 2813}, {'_account_id': 3012}, {'_account_id': 6924}, {'_account_id': 7729}, {'_account_id': 9562}]","[{'number': 1, 'created': '2014-06-17 08:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/fad3734c1eef3448ce57628d90d700e84a9fa5ef', 'message': 'Fix messaging.get_transport caching\n\nIf some case get_transport can return a cached transport\neven cache=False\n\nThis change fixes it and also adds some unit tests for this method\n\nChange-Id: If87cf60d0a25a84dd05f1b84c35f1bcbfeb69b75\n'}, {'number': 2, 'created': '2014-06-17 08:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6134645a6be6b7dcfd75aff862da555dc9c2b15b', 'message': 'Fix messaging.get_transport caching\n\nIf some case get_transport can return a cached transport\neven cache=False\n\nThis change fixes it and also adds some unit tests for this method\n\nChange-Id: If87cf60d0a25a84dd05f1b84c35f1bcbfeb69b75\n'}, {'number': 3, 'created': '2014-06-17 08:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/855028959325132ce1578e00ce09183843818a4d', 'message': 'Fix messaging.get_transport caching\n\nIf some case get_transport can return a cached transport\neven cache=False\n\nThis change fixes it and also adds some unit tests for this method\n\nChange-Id: If87cf60d0a25a84dd05f1b84c35f1bcbfeb69b75\n'}, {'number': 4, 'created': '2014-06-17 09:38:20.000000000', 'files': ['ceilometer/tests/test_messaging.py', 'ceilometer/messaging.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/0fd24771d64a4feeaf346f1a500d9ae725b0a3dd', 'message': 'Fix messaging.get_transport caching\n\nIf some case get_transport can return a cached transport\neven cache=False\n\nThis change fixes it and also adds some unit tests for this method\n\nChange-Id: If87cf60d0a25a84dd05f1b84c35f1bcbfeb69b75\n'}]",2,100453,0fd24771d64a4feeaf346f1a500d9ae725b0a3dd,19,8,4,2813,,,0,"Fix messaging.get_transport caching

If some case get_transport can return a cached transport
even cache=False

This change fixes it and also adds some unit tests for this method

Change-Id: If87cf60d0a25a84dd05f1b84c35f1bcbfeb69b75
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/53/100453/4 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/messaging.py'],1,fad3734c1eef3448ce57628d90d700e84a9fa5ef,, transport = TRANSPORTS.get(url or DEFAULT_URL) if not transport or not cache: if cache: TRANSPORTS[url or DEFAULT_URL] = transport, transport = TRANSPORTS.get(url) if not transport: if not url: url = DEFAULT_URL if cache: TRANSPORTS[url] = transport,3,5
openstack%2Fgrenade~master~I4fbafbcb8ac5c16ec79ded231e9a05b0ccbc04fc,openstack/grenade,master,I4fbafbcb8ac5c16ec79ded231e9a05b0ccbc04fc,add a more comprehensive check-sanity,MERGED,2014-06-05 20:19:56.000000000,2014-06-17 13:50:18.000000000,2014-06-17 13:50:17.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 11564}]","[{'number': 1, 'created': '2014-06-05 20:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/2d571aaa9ee2881d09fb81ea71c9ac68b3626c06', 'message': ""add a more comprehensive check-sanity\n\nthis ensures that all the services we believe are enabled in the\nnew environment are actually started after we have come up on the\nnew side. It does couple us to the devstack service list in a way\nthat we weren't before, however that's probably a long term useful\nplace to be.\n\nChange-Id: I4fbafbcb8ac5c16ec79ded231e9a05b0ccbc04fc\n""}, {'number': 2, 'created': '2014-06-16 22:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/58e8bcab12c19620e71172d36c77e813f68fa8f2', 'message': ""add a more comprehensive check-sanity\n\nthis ensures that all the services we believe are enabled in the\nnew environment are actually started after we have come up on the\nnew side. It does couple us to the devstack service list in a way\nthat we weren't before, however that's probably a long term useful\nplace to be.\n\nThis should make the discovery of failed started services a lot\nmore reliable.\n\nChange-Id: I4fbafbcb8ac5c16ec79ded231e9a05b0ccbc04fc\n""}, {'number': 3, 'created': '2014-06-17 01:34:10.000000000', 'files': ['check-sanity'], 'web_link': 'https://opendev.org/openstack/grenade/commit/dcfde08f2eea0281e021bf8c8f3edd831c364199', 'message': ""add a more comprehensive check-sanity\n\nthis ensures that all the services we believe are enabled in the\nnew environment are actually started after we have come up on the\nnew side. It does couple us to the devstack service list in a way\nthat we weren't before, however that's probably a long term useful\nplace to be.\n\nThis should make the discovery of failed started services a lot\nmore reliable.\n\nRemove old `service_check` as that only failed if there was a\nfailure file, and not if the service never started up in bash.\n\nChange-Id: I4fbafbcb8ac5c16ec79ded231e9a05b0ccbc04fc\n""}]",1,98241,dcfde08f2eea0281e021bf8c8f3edd831c364199,15,3,3,2750,,,0,"add a more comprehensive check-sanity

this ensures that all the services we believe are enabled in the
new environment are actually started after we have come up on the
new side. It does couple us to the devstack service list in a way
that we weren't before, however that's probably a long term useful
place to be.

This should make the discovery of failed started services a lot
more reliable.

Remove old `service_check` as that only failed if there was a
failure file, and not if the service never started up in bash.

Change-Id: I4fbafbcb8ac5c16ec79ded231e9a05b0ccbc04fc
",git fetch https://review.opendev.org/openstack/grenade refs/changes/41/98241/1 && git format-patch -1 --stdout FETCH_HEAD,['check-sanity'],1,2d571aaa9ee2881d09fb81ea71c9ac68b3626c06,check_service,"function test_all_enabled_services { local tmpsvcs=""${ENABLED_SERVICES}"" local service local log local failed=0 for service in ${tmpsvcs//,/ }; do if [[ $service =~ ^(tempest|mysql|rabbit)$ ]]; then echo ""No log expected for $service"" else log=${SCREEN_LOGDIR}/screen-$service.log if [[ ! -e $log ]]; then echo ""Couldn't find log for $service at $log"" failed=1 fi fi done if [[ $failed -eq 1 ]]; then exit 1 fi } test_all_enabled_services ",,24,0
openstack%2Frequirements~master~Iac5b5baf9d46c8deffd51d8b33345f7e21a50126,openstack/requirements,master,Iac5b5baf9d46c8deffd51d8b33345f7e21a50126,Add xstatic and xstatic-jquery for Horizon,MERGED,2014-05-20 10:27:46.000000000,2014-06-17 13:50:15.000000000,2014-06-17 13:50:15.000000000,"[{'_account_id': 3}, {'_account_id': 2592}, {'_account_id': 2750}, {'_account_id': 6786}, {'_account_id': 6914}, {'_account_id': 7509}, {'_account_id': 8648}, {'_account_id': 8871}, {'_account_id': 9317}, {'_account_id': 10112}]","[{'number': 1, 'created': '2014-05-20 10:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c77e9a10f7a890e6811adec6c8e2371244ef9ee5', 'message': 'Add xtstatic and xtstatic-jquery for Horizon\n\nWe are unbundling the static JS files from Horizon, moving them\nto separate packages where possible. That means, that we have to\ndepend on those packages in requirements now.\n\nThis is for the patch https://review.openstack.org/#/c/82516/\n\nChange-Id: Iac5b5baf9d46c8deffd51d8b33345f7e21a50126\nImplements: blueprint horizon/remove-javascript-bundling\n'}, {'number': 2, 'created': '2014-05-20 13:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d8a08ede1fe0d8673f4ebaa48dcbc5f571958bd2', 'message': 'Add xstatic and xstatic-jquery for Horizon\n\nWe are unbundling the static JS files from Horizon, moving them\nto separate packages where possible. That means, that we have to\ndepend on those packages in requirements now.\n\nThis is for the patch https://review.openstack.org/#/c/82516/\n\nChange-Id: Iac5b5baf9d46c8deffd51d8b33345f7e21a50126\nImplements: blueprint https://blueprints.launchpad.net/horizon/+spec/remove-javascript-bundling\n'}, {'number': 3, 'created': '2014-05-22 13:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/af0aae7f3955c1df5c8d277980dddc306670490b', 'message': 'Add xstatic and xstatic-jquery for Horizon\n\nWe are unbundling the static JS files from Horizon, moving them\nto separate packages where possible. That means, that we have to\ndepend on those packages in requirements now.\n\nThis is for the patch https://review.openstack.org/#/c/82516/\n\nBoth xstatic and xstatic-jquery are not yet packaged in Ubuntu or\nFedora, but are used by at least one other large project, MoinMoin 2.\n\nChange-Id: Iac5b5baf9d46c8deffd51d8b33345f7e21a50126\nImplements: blueprint https://blueprints.launchpad.net/horizon/+spec/remove-javascript-bundling\n'}, {'number': 4, 'created': '2014-06-03 15:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b6f57ebfcd1a8899ac74699280abb539a037f6c1', 'message': 'Add xstatic and xstatic-jquery for Horizon\n\nWe are unbundling the static JS files from Horizon, moving them\nto separate packages where possible. That means, that we have to\ndepend on those packages in requirements now.\n\nThis is for the patch https://review.openstack.org/#/c/82516/\n\nBoth xstatic and xstatic-jquery are not yet packaged in Ubuntu or\nFedora, but are used by at least one other large project, MoinMoin 2.\n\nChange-Id: Iac5b5baf9d46c8deffd51d8b33345f7e21a50126\nPartial-implements: blueprint https://blueprints.launchpad.net/horizon/+spec/remove-javascript-bundling\n'}, {'number': 5, 'created': '2014-06-16 11:41:32.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4b2a1c77d250ccff5ce56300043edf069280263e', 'message': 'Add xstatic and xstatic-jquery for Horizon\n\nWe are unbundling the static JS files from Horizon, moving them\nto separate packages where possible. That means, that we have to\ndepend on those packages in requirements now.\n\nThis is for the patch https://review.openstack.org/#/c/82516/\n\nBoth xstatic and xstatic-jquery are not yet packaged in Ubuntu or\nFedora, but are used by at least one other large project, MoinMoin 2.\n\nChange-Id: Iac5b5baf9d46c8deffd51d8b33345f7e21a50126\nPartial-implements: blueprint https://blueprints.launchpad.net/horizon/+spec/remove-javascript-bundling\n'}]",2,94337,4b2a1c77d250ccff5ce56300043edf069280263e,64,10,5,8648,,,0,"Add xstatic and xstatic-jquery for Horizon

We are unbundling the static JS files from Horizon, moving them
to separate packages where possible. That means, that we have to
depend on those packages in requirements now.

This is for the patch https://review.openstack.org/#/c/82516/

Both xstatic and xstatic-jquery are not yet packaged in Ubuntu or
Fedora, but are used by at least one other large project, MoinMoin 2.

Change-Id: Iac5b5baf9d46c8deffd51d8b33345f7e21a50126
Partial-implements: blueprint https://blueprints.launchpad.net/horizon/+spec/remove-javascript-bundling
",git fetch https://review.opendev.org/openstack/requirements refs/changes/37/94337/3 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,c77e9a10f7a890e6811adec6c8e2371244ef9ee5,bp/remove-javascript-bundling,xstatic>=0.0.2 xstatic-jquery==1.8.2.1 ,,3,0
openstack%2Fmanila~master~Ifb575aa549bfd0288e44acda9a750ea40b9d14c2,openstack/manila,master,Ifb575aa549bfd0288e44acda9a750ea40b9d14c2,Switch to Hacking 0.8.x,MERGED,2014-05-22 22:38:17.000000000,2014-06-17 13:48:49.000000000,2014-06-17 13:48:49.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 7534}, {'_account_id': 8851}]","[{'number': 1, 'created': '2014-05-22 22:38:17.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/manila/commit/c6383f1f167df2563be29018d206e2a8b3fb5608', 'message': 'Switch to Hacking 0.8.x\n\nThis brings along Hacking requirements to match\nother OpenStack projects. Since hacking already\nrequires the right pep8 pyflakes etc version,\nthose dependencies are not necessary to be specified\nhere.\n\nChange-Id: Ifb575aa549bfd0288e44acda9a750ea40b9d14c2\n'}]",0,95032,c6383f1f167df2563be29018d206e2a8b3fb5608,11,4,1,6593,,,0,"Switch to Hacking 0.8.x

This brings along Hacking requirements to match
other OpenStack projects. Since hacking already
requires the right pep8 pyflakes etc version,
those dependencies are not necessary to be specified
here.

Change-Id: Ifb575aa549bfd0288e44acda9a750ea40b9d14c2
",git fetch https://review.opendev.org/openstack/manila refs/changes/32/95032/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,c6383f1f167df2563be29018d206e2a8b3fb5608,pep8,"# TODO: These are not intentionally disabled, reenable when fixed: # H233: Python 3.x incompatible print operator # H501: Do not use locals() for string formatting ignore = E12,E711,E712,H233,H302,H303,H304,H401,H402,H403,H404,H501,F","ignore = E12,E711,E712,H302,H303,H304,H401,H402,H403,H404,F",5,6
openstack%2Ftempest~master~Ifcd9bf4987c292d5518925352e1d2e1df3e579aa,openstack/tempest,master,Ifcd9bf4987c292d5518925352e1d2e1df3e579aa,Add timeout to all CLI tests,ABANDONED,2014-03-18 00:44:49.000000000,2014-06-17 13:19:19.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 7872}]","[{'number': 1, 'created': '2014-03-18 00:44:49.000000000', 'files': ['tempest/cli/__init__.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/61e62938943ea854bf7cb2fe97db5db1fc7b3106', 'message': 'Add timeout to all CLI tests\n\nadd existing cli.timeout option to all CLI tests. If the CLI ever takes\nover 15 seconds (current cli.timout) then something is wrong.\n\nChange-Id: Ifcd9bf4987c292d5518925352e1d2e1df3e579aa\n'}]",0,81134,61e62938943ea854bf7cb2fe97db5db1fc7b3106,20,4,1,1849,,,0,"Add timeout to all CLI tests

add existing cli.timeout option to all CLI tests. If the CLI ever takes
over 15 seconds (current cli.timout) then something is wrong.

Change-Id: Ifcd9bf4987c292d5518925352e1d2e1df3e579aa
",git fetch https://review.opendev.org/openstack/tempest refs/changes/34/81134/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/cli/__init__.py'],1,61e62938943ea854bf7cb2fe97db5db1fc7b3106,clitimeout,"import fixtures def setUp(self): super(ClientTestBase, self).setUp() # +1 since this timeout is sometimes passed to the clients themselves, # so give them a chance to timeout first self.useFixture(fixtures.Timeout(CONF.cli.timeout + 1, gentle=True)) ",,8,0
openstack%2Fdesignate~master~I00ac021be48439a14681f9090ba3a13113a60429,openstack/designate,master,I00ac021be48439a14681f9090ba3a13113a60429,Sync in o.middleware and replace our own,MERGED,2014-06-11 10:23:33.000000000,2014-06-17 13:17:23.000000000,2014-06-17 13:17:23.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8099}, {'_account_id': 8130}]","[{'number': 1, 'created': '2014-06-11 10:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5df0f19536435d8dd5cea2a9e649d7be55ed0752', 'message': 'Sync in o.middleware and replace our own\n\nThis syncs the above and removes our own code for the request-id.\n\nBug: #1328840\n\nChange-Id: I00ac021be48439a14681f9090ba3a13113a60429\n'}, {'number': 2, 'created': '2014-06-16 18:30:45.000000000', 'files': ['designate/openstack/common/middleware/base.py', 'designate/openstack/common/middleware/request_id.py', 'designate/openstack/common/middleware/__init__.py', 'designate/api/middleware.py', 'openstack-common.conf', 'etc/designate/api-paste.ini'], 'web_link': 'https://opendev.org/openstack/designate/commit/bd145831692d13ba417dce4fb4e9b8f2c3cac117', 'message': 'Sync in o.middleware and replace our own\n\nThis syncs the above and removes our own code for the request-id.\n\nBug: #1328840\n\nChange-Id: I00ac021be48439a14681f9090ba3a13113a60429\n'}]",0,99323,bd145831692d13ba417dce4fb4e9b8f2c3cac117,23,4,2,395,,,0,"Sync in o.middleware and replace our own

This syncs the above and removes our own code for the request-id.

Bug: #1328840

Change-Id: I00ac021be48439a14681f9090ba3a13113a60429
",git fetch https://review.opendev.org/openstack/designate refs/changes/23/99323/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/openstack/common/middleware/base.py', 'designate/openstack/common/middleware/request_id.py', 'designate/openstack/common/middleware/__init__.py', 'designate/api/middleware.py', 'openstack-common.conf', 'etc/designate/api-paste.ini']",6,5df0f19536435d8dd5cea2a9e649d7be55ed0752,bug/1328840,noauth = request_id noauthcontext maintenance faultwrapper osapi_dns_app_v1 keystone = request_id authtoken keystonecontext maintenance faultwrapper osapi_dns_app_v1noauth = request_id noauthcontext maintenance faultwrapper osapi_dns_app_v2 keystone = request_id authtoken keystonecontext maintenance faultwrapper osapi_dns_app_v2[filter:request_id] paste.filter_factory = designate.openstack.common.middleware.request_id:RequestIdMiddleware.factory ,noauth = noauthcontext maintenance faultwrapper osapi_dns_app_v1 keystone = authtoken keystonecontext maintenance faultwrapper osapi_dns_app_v1noauth = noauthcontext maintenance faultwrapper osapi_dns_app_v2 keystone = authtoken keystonecontext maintenance faultwrapper osapi_dns_app_v2,127,39
openstack%2Fpuppet-ceph~master~Ia8a72e57601f949920c19cd8d65c10f93c63ce08,openstack/puppet-ceph,master,Ia8a72e57601f949920c19cd8d65c10f93c63ce08,test,ABANDONED,2014-06-17 12:38:40.000000000,2014-06-17 13:07:51.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-06-17 12:38:40.000000000', 'files': ['manifests/mon.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/d007387d88182e477a804fd9303769bd6f022901', 'message': 'test\n\nChange-Id: Ia8a72e57601f949920c19cd8d65c10f93c63ce08\n'}]",0,100525,d007387d88182e477a804fd9303769bd6f022901,4,1,1,11980,,,0,"test

Change-Id: Ia8a72e57601f949920c19cd8d65c10f93c63ce08
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/25/100525/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/mon.pp'],1,d007387d88182e477a804fd9303769bd6f022901,,# Authentication is activated if the value is 'cephx' and deactivated,# Authentication is activated if the value is 'cephx' and deactivate,1,1
openstack%2Fpuppet-ceph~master~I6d0b6c0b71dfea0dfaff8c477b874ab264012aa2,openstack/puppet-ceph,master,I6d0b6c0b71dfea0dfaff8c477b874ab264012aa2,test,ABANDONED,2014-06-17 12:38:40.000000000,2014-06-17 13:07:24.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-06-17 12:38:40.000000000', 'files': ['manifests/mds.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/c23fd041cc53007def13256ef911b8a77b39abe6', 'message': 'test\n\nChange-Id: I6d0b6c0b71dfea0dfaff8c477b874ab264012aa2\n'}]",0,100526,c23fd041cc53007def13256ef911b8a77b39abe6,4,1,1,11980,,,0,"test

Change-Id: I6d0b6c0b71dfea0dfaff8c477b874ab264012aa2
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/26/100526/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/mds.pp'],1,c23fd041cc53007def13256ef911b8a77b39abe6,,"# Copyright (C) 2013, 2014 iWeb Technologies Inc.",# Copyright (C) iWeb Technologies Inc.,1,1
openstack%2Fpuppet-ceph~master~I29fd7a35b84b68074cfc8841d93c7d87e2836913,openstack/puppet-ceph,master,I29fd7a35b84b68074cfc8841d93c7d87e2836913,test,ABANDONED,2014-06-17 12:20:23.000000000,2014-06-17 12:53:10.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-06-17 12:20:23.000000000', 'files': ['manifests/mon.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/df0565b95feb2ae22f1038396f7ed0a651a929a4', 'message': 'test\n\nChange-Id: I29fd7a35b84b68074cfc8841d93c7d87e2836913\n'}]",0,100520,df0565b95feb2ae22f1038396f7ed0a651a929a4,4,1,1,11980,,,0,"test

Change-Id: I29fd7a35b84b68074cfc8841d93c7d87e2836913
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/20/100520/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/mon.pp'],1,df0565b95feb2ae22f1038396f7ed0a651a929a4,,# Authentication is activated if the value is 'cephx' and deactivated,# Authentication is activated if the value is 'cephx' and deactivate,1,1
openstack%2Fpuppet-ceph~master~I9b6fab9a9d70d73c73c8e72ecdc62d47595f8cec,openstack/puppet-ceph,master,I9b6fab9a9d70d73c73c8e72ecdc62d47595f8cec,test,ABANDONED,2014-06-17 12:20:23.000000000,2014-06-17 12:52:57.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-06-17 12:20:23.000000000', 'files': ['manifests/mon.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/854671a82ffd0559ef2ef7ed7d7a8896bfa3cc11', 'message': 'test\n\nChange-Id: I9b6fab9a9d70d73c73c8e72ecdc62d47595f8cec\n'}]",0,100519,854671a82ffd0559ef2ef7ed7d7a8896bfa3cc11,4,1,1,11980,,,0,"test

Change-Id: I9b6fab9a9d70d73c73c8e72ecdc62d47595f8cec
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/19/100519/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/mon.pp'],1,854671a82ffd0559ef2ef7ed7d7a8896bfa3cc11,,# Authentication is activated if the value is 'cephx' and deactivate# Optional. $key and $keyring are mutually exclusive.# Optional. $key and $keyring are mutually exclusive.,# Authentication is activated if the value is 'cephx' and deactivated# Optional. $key and $keyring are mutually exclusives.# Optional. $key and $keyring are mutually exclusives.,3,3
openstack%2Ffuel-ostf~master~I63d9717b63ed5e0199e8976715486f28aed5ccb6,openstack/fuel-ostf,master,I63d9717b63ed5e0199e8976715486f28aed5ccb6,"Revert ""Add ceilometer compute notifications ostf tests""",MERGED,2014-06-17 10:23:44.000000000,2014-06-17 12:45:00.000000000,2014-06-17 12:44:59.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-06-17 10:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/eaabd5d9d88ddc4e84b3c5f3bf446e926311525c', 'message': 'Revert ""Add ceilometer compute notifications ostf tests""\n\nThis reverts commit 8d83f4566e901305da66c11fc496da84b3f3e7ae.\n\nThis commit broke ostf  tests\n\nChange-Id: I63d9717b63ed5e0199e8976715486f28aed5ccb6\n'}, {'number': 2, 'created': '2014-06-17 10:24:14.000000000', 'files': ['fuel_health/tests/smoke/test_nova_create_instance_with_connectivity.py', 'fuel_health/tests/platform_tests/test_create_alarm.py', 'fuel_health/nmanager.py', 'fuel_health/tests/platform_tests/test_ceilometer.py', 'fuel_health/ceilometermanager.py', 'fuel_health/tests/sanity/test_sanity_ceilometer.py'], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/6cd1b6e7e1b76784bd39572a5b2a01ea2ebf297f', 'message': 'Revert ""Add ceilometer compute notifications ostf tests""\n\nThis reverts commit 8d83f4566e901305da66c11fc496da84b3f3e7ae.\n\nThis commit broke ostf  tests\n\nChange-Id: I63d9717b63ed5e0199e8976715486f28aed5ccb6\nCloses-Bug: #1330836\n'}]",0,100486,6cd1b6e7e1b76784bd39572a5b2a01ea2ebf297f,14,4,2,6719,,,0,"Revert ""Add ceilometer compute notifications ostf tests""

This reverts commit 8d83f4566e901305da66c11fc496da84b3f3e7ae.

This commit broke ostf  tests

Change-Id: I63d9717b63ed5e0199e8976715486f28aed5ccb6
Closes-Bug: #1330836
",git fetch https://review.opendev.org/openstack/fuel-ostf refs/changes/86/100486/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_health/tests/smoke/test_nova_create_instance_with_connectivity.py', 'fuel_health/tests/platform_tests/test_create_alarm.py', 'fuel_health/nmanager.py', 'fuel_health/tests/platform_tests/test_ceilometer.py', 'fuel_health/ceilometermanager.py', 'fuel_health/tests/sanity/test_sanity_ceilometer.py']",6,eaabd5d9d88ddc4e84b3c5f3bf446e926311525c,bp/ceilometer-ostf-notification-tests,"import logging LOG = logging.getLogger(__name__) def tearDown(self): super(CeilometerApiTests, self).tearDown() pass self.verify(60, self.list_meters, self.verify(60, self.list_alarm, self.verify(60, self.list_resources,"," self.verify(60, self.ceilometer_client.meters.list, self.verify(60, self.ceilometer_client.alarms.list, self.verify(60, self.ceilometer_client.resources.list,",301,282
openstack%2Fnova-specs~master~I59cf7ee3c70694e14dfd42cdeba2cabddf2cab53,openstack/nova-specs,master,I59cf7ee3c70694e14dfd42cdeba2cabddf2cab53,CreateVM supports subnet specified,MERGED,2014-06-09 11:07:46.000000000,2014-06-17 12:26:25.000000000,2014-06-17 12:26:24.000000000,"[{'_account_id': 3}, {'_account_id': 1501}, {'_account_id': 1561}, {'_account_id': 1779}, {'_account_id': 8021}, {'_account_id': 9060}, {'_account_id': 9444}]","[{'number': 1, 'created': '2014-06-09 11:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/bf4a8d5223c9fdb914c34354b35853022f7849ee', 'message': 'CreateVM supports subnet specified\n\nCurrently the network info specified as part of server creation is limited\nto network-id, port-id, and ip address.\nWhen a network has multiple subnets\nthen we need to also be able to specify a subnet-id.\n\nChange-Id: I59cf7ee3c70694e14dfd42cdeba2cabddf2cab53\nImplements: blueprint selecting-subnet-when-creating-vm\n'}, {'number': 2, 'created': '2014-06-09 11:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/93703ef7da11000823c2390e0efa2d42ac5a7066', 'message': 'CreateVM supports subnet specified\n\nCurrently the network info specified as part of server creation is limited\nto network-id, port-id, and ip address.\nWhen a network has multiple subnets then we need to also be able to specify a subnet-id.\n\nChange-Id: I59cf7ee3c70694e14dfd42cdeba2cabddf2cab53\nImplements: blueprint selecting-subnet-when-creating-vm\n'}, {'number': 3, 'created': '2014-06-17 03:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/18404bf2371f95a75af793adaa72ba85350c0f1f', 'message': 'CreateVM supports subnet specified\n\nCurrently the network info specified as part of server creation is limited\nto network-id, port-id, and ip address.\nWhen a network has multiple subnets then we need to also be able to specify a subnet-id.\n\nChange-Id: I59cf7ee3c70694e14dfd42cdeba2cabddf2cab53\nImplements: blueprint selecting-subnet-when-creating-vm\n'}, {'number': 4, 'created': '2014-06-17 03:31:12.000000000', 'files': ['specs/juno/selecting-subnet-when-creating-vm.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8af921fdb17c08d303cb1511f755f37c7019b0b3', 'message': 'CreateVM supports subnet specified\n\nCurrently the network info specified as part of server creation is limited\nto network-id, port-id, and ip address.\nWhen a network has multiple subnets then we need to also be able to specify a subnet-id.\n\nChange-Id: I59cf7ee3c70694e14dfd42cdeba2cabddf2cab53\nImplements: blueprint selecting-subnet-when-creating-vm\n'}]",5,98741,8af921fdb17c08d303cb1511f755f37c7019b0b3,29,7,4,8021,,,0,"CreateVM supports subnet specified

Currently the network info specified as part of server creation is limited
to network-id, port-id, and ip address.
When a network has multiple subnets then we need to also be able to specify a subnet-id.

Change-Id: I59cf7ee3c70694e14dfd42cdeba2cabddf2cab53
Implements: blueprint selecting-subnet-when-creating-vm
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/41/98741/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/selecting-subnet-when-creating-vm.rst'],1,bf4a8d5223c9fdb914c34354b35853022f7849ee,bp/selecting-subnet-when-creating-vm,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================== CreateVM supports subnet specified ================================== https://blueprints.launchpad.net/nova/+spec/selecting-subnet-when-creating-vm Currently the network info specified as part of server creation is limited to network-id, port-id, and ip address. When a network has multiple subnets then we need to also be able to specify a subnet-id. Problem description =================== Currently the network info specified as part of server creation is limited to network-id, port-id, and ip address. So if an network has multiple subnets in it, it's impossible to select which of the possible subnets a VM should be created in. You only could choose an ip address in one subnet and then create an instance. But this is not a convenient way. Moreover, this method is also not available for bulk instances creation. Proposed change =============== 1. Add one optional param 'subnet-id' in networking structure of 'spawn'. 2. This parameter will affect in 'allocate_for_instance()' in nova/network/neutronv2/api.py. 3. Bulk instances creation with 'subnet-id' will be supported, as the 'net-uuid' is specified. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- The new 'spawn' rest API in v2:: /v2/{project_id}/servers { 'server':{ ... 'networks': [ { 'subnet-id': '892b9731-044a-4c87-b003-1e75869028c0' } ... ] ... } } and in v3 it is like:: /v3/servers { 'server':{ ... 'networks': [ { 'subnet-id': '892b9731-044a-4c87-b003-1e75869028c0' } ... ] ... } } * Here, the <string> 'subnet-id' means the subnet your instances want to be created in. No default value. * If 'subnet-id' is not a string or uuid-like, a BadRequest exception will be raised.(HTTP 400) * The status code will be HTTP 202 when the request succeeded as usual, and the response body won't be changed. In the current implement in Nova, the network info specified is limited to network-id, port-id, and ip address, and port-id has the highest priority. So, we also need to point the priority during server creation. * The 'port' parameter still has the highest priority here. That means, if both 'port' & 'subnet-id' are specified, 'port' will be used and the 'subnet-id' won't effect here. * The 'subnet-id' has the same priority with 'v4-fixed-ip'/'v6-fixed-ip'. That means, if both 'subnet-id' & 'v4-fixed-ip'/'v6-fixed-ip' are specified, compatibility validation of these two arguments will be executed. * If it passed, the ip address you assigned will be used as usual. * If not, a BadRequest exception will be raised.(HTTP 400) * The 'net-uuid' parameter still has the lowest priority like before. That means, if both 'subnet-id' & 'net-id' are specified, 'subnet-id' will effect here and 'net-uuid' will be ignored like port specified. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- The related works in python-novaclient will also be added. After this modification, user could create instances with 'subnet-id' specified like 'net-uuid' does via CLI. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Assignee: wingwj <wingwj@gmail.com> Work Items ---------- In Nova: * Add 'subnet-id' to 'create' in API layer * Use 'subnet-id' for 'allocate_for_instance()' in nova/network/neutronv2/api.py * Add related tests both API & nova-compute In python-novaclient: * Add 'subnet-id' support in python-novaclient * Add related tests in python-novaclient In Tempest: * Related test-cases will definitely be added here In Doc: * The API modification will also be registered in openstack-doc Dependencies ============ None Testing ======= The unit tests need to be added in each related projects like I described in <Work Items> part. After the modifications, all changed methods above will be verified together. Documentation Impact ==================== None References ========== None",,211,0
openstack%2Fheat~master~I2d54b8c365ce7ed925652885104d999cecbe9fae,openstack/heat,master,I2d54b8c365ce7ed925652885104d999cecbe9fae,Sync kombu_reconnect_delay from Oslo,ABANDONED,2014-05-26 10:06:56.000000000,2014-06-17 12:24:13.000000000,,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7227}, {'_account_id': 9542}]","[{'number': 1, 'created': '2014-05-26 10:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5ee41e0e94ccfbcdb44092f7fa1f7546f5ea65a6', 'message': 'Sync kombu_reconnect_delay from Oslo\n\nWhen reconnecting to a RabbitMQ cluster\nwith mirrored queues in use, the attempt to release the\nconnection can hang ""indefinitely"" somewhere deep down\nin Kombu.  Blocking the thread for a bit prior to\nrelease seems to kludge around the problem where it is\notherwise reproduceable.\nThe value 5.0 fits for low perfomance environments as well.\n\nRelated-bug: #856764\n\nChange-Id: I2d54b8c365ce7ed925652885104d999cecbe9fae\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n'}, {'number': 2, 'created': '2014-05-26 10:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/52902348036963ed947083d203db84b104efee97', 'message': 'Sync kombu_reconnect_delay from Oslo\n\nWhen reconnecting to a RabbitMQ cluster\nwith mirrored queues in use, the attempt to release the\nconnection can hang ""indefinitely"" somewhere deep down\nin Kombu.  Blocking the thread for a bit prior to\nrelease seems to kludge around the problem where it is\notherwise reproduceable.\nThe value 5.0 fits for low perfomance environments as well.\n\nRelated-bug: #856764\n\nChange-Id: I2d54b8c365ce7ed925652885104d999cecbe9fae\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n'}, {'number': 3, 'created': '2014-05-28 07:18:36.000000000', 'files': ['heat/openstack/common/rpc/impl_kombu.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/5d1e528246873893b56327d46e43a5174fa7a1e7', 'message': 'Sync kombu_reconnect_delay from Oslo\n\nWhen reconnecting to a RabbitMQ cluster\nwith mirrored queues in use, the attempt to release the\nconnection can hang ""indefinitely"" somewhere deep down\nin Kombu.  Blocking the thread for a bit prior to\nrelease seems to kludge around the problem where it is\notherwise reproduceable.\nThe value 5.0 fits for low perfomance environments as well.\n\nCherry-picked from Oslo.messaging:\nfcd51a67d18a9e947ae5f57eafa43ac756d1a5a8\nRelated-bug: #856764\n\nChange-Id: I2d54b8c365ce7ed925652885104d999cecbe9fae\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n'}]",0,95482,5d1e528246873893b56327d46e43a5174fa7a1e7,13,4,3,6926,,,0,"Sync kombu_reconnect_delay from Oslo

When reconnecting to a RabbitMQ cluster
with mirrored queues in use, the attempt to release the
connection can hang ""indefinitely"" somewhere deep down
in Kombu.  Blocking the thread for a bit prior to
release seems to kludge around the problem where it is
otherwise reproduceable.
The value 5.0 fits for low perfomance environments as well.

Cherry-picked from Oslo.messaging:
fcd51a67d18a9e947ae5f57eafa43ac756d1a5a8
Related-bug: #856764

Change-Id: I2d54b8c365ce7ed925652885104d999cecbe9fae
Signed-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>
",git fetch https://review.opendev.org/openstack/heat refs/changes/82/95482/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/openstack/common/rpc/impl_kombu.py'],1,5ee41e0e94ccfbcdb44092f7fa1f7546f5ea65a6,fix1322259_kombu_recon," cfg.FloatOpt('kombu_reconnect_delay', default=1.0, help='How long to wait before reconnecting in response to an ' 'AMQP consumer cancel notification.'), # NOTE(bogdando): when reconnecting to a RabbitMQ cluster # with mirrored queues in use, the attempt to release the # connection can hang ""indefinitely"" somewhere deep down # in Kombu. Blocking the thread for a bit prior to # release seems to kludge around the problem where it is # otherwise reproduceable. if self.conf.kombu_reconnect_delay > 0: LOG.info(_(""Delaying reconnect for %1.1f seconds..."") % self.conf.kombu_reconnect_delay) time.sleep(self.conf.kombu_reconnect_delay) ",,15,0
openstack%2Fpuppet-ceph~master~Ie6b0092fe8dbd47c8b4a2c1b153d3b177140c70a,openstack/puppet-ceph,master,Ie6b0092fe8dbd47c8b4a2c1b153d3b177140c70a,Wrong modifications,ABANDONED,2014-06-17 10:20:54.000000000,2014-06-17 12:16:38.000000000,,"[{'_account_id': 3}, {'_account_id': 2064}]","[{'number': 1, 'created': '2014-06-17 10:20:54.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/25c8d1134f3c98bf68bb7de2a31e835fba60416c', 'message': 'Wrong modifications\n\nChange-Id: Ie6b0092fe8dbd47c8b4a2c1b153d3b177140c70a\n'}]",0,100484,25c8d1134f3c98bf68bb7de2a31e835fba60416c,5,2,1,11982,,,0,"Wrong modifications

Change-Id: Ie6b0092fe8dbd47c8b4a2c1b153d3b177140c70a
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/84/100484/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,25c8d1134f3c98bf68bb7de2a31e835fba60416c,,"The ceph module is intended to leverage all [Ceph](http://ceph.com/) has to offer and allow for a wide range of use case. Although hosted on the OpenStack infrastructure, it does not require to sign a CLA nor is it restricted to OpenStack users. It benefits from a structured development process that helps federate the development effort. Each feature is tested with an integration tests involving virtual machines to show that it performs as expected when used with a realistic scenario. to emphasize the importance of integration tests. Knowing that integration tests exist is important to the person who discovers the module for the first time. Unit tests are also important but from the developer perspective.","The ceph module is intended to leverage all [Ceph](http://ceph.com/) has to offer and allow for a wide range of use case. Although hosted on the OpenStack infrastructure, it does not require to sign a CLA nor is it restricted to OpenStack users. It benefits from a structured development process that helps federate the development effort. Each component is unit tested and an integration test shows that it performs as expected when used with a realistic scenario.",3,1
openstack%2Fpuppet-ceph~master~If91ec483da6fb45144cf84abe1cffc20708616ec,openstack/puppet-ceph,master,If91ec483da6fb45144cf84abe1cffc20708616ec,Replaced 'mutually exclusives' with 'mutually exclusive' in comments,MERGED,2014-06-17 10:00:35.000000000,2014-06-17 12:16:05.000000000,2014-06-17 11:35:32.000000000,"[{'_account_id': 3}, {'_account_id': 2064}, {'_account_id': 9133}, {'_account_id': 10068}, {'_account_id': 11479}, {'_account_id': 11980}, {'_account_id': 11981}, {'_account_id': 11986}]","[{'number': 1, 'created': '2014-06-17 10:00:35.000000000', 'files': ['manifests/mon.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/b02695b99bf1c9ee63b5c3bcbd170766b339356f', 'message': ""Replaced 'mutually exclusives' with 'mutually exclusive' in comments\n\nChange-Id: If91ec483da6fb45144cf84abe1cffc20708616ec\nCloses-Bug: #1326251\n""}]",0,100474,b02695b99bf1c9ee63b5c3bcbd170766b339356f,14,8,1,11964,,,0,"Replaced 'mutually exclusives' with 'mutually exclusive' in comments

Change-Id: If91ec483da6fb45144cf84abe1cffc20708616ec
Closes-Bug: #1326251
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/74/100474/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/mon.pp'],1,b02695b99bf1c9ee63b5c3bcbd170766b339356f,,# Optional. $key and $keyring are mutually exclusive.# Optional. $key and $keyring are mutually exclusive.,# Optional. $key and $keyring are mutually exclusives.# Optional. $key and $keyring are mutually exclusives.,2,2
openstack%2Fpuppet-ceph~master~I8ac5be90b76285a1235eb545e6ad8c00158d4991,openstack/puppet-ceph,master,I8ac5be90b76285a1235eb545e6ad8c00158d4991,Fix of emphasizing on README.md,ABANDONED,2014-06-17 10:20:54.000000000,2014-06-17 12:15:55.000000000,,"[{'_account_id': 3}, {'_account_id': 2064}]","[{'number': 1, 'created': '2014-06-17 10:20:54.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/0d6421fb209ad3fb0ca07e65516b0da5a300871b', 'message': 'Fix of emphasizing on README.md\n\nChange-Id: I8ac5be90b76285a1235eb545e6ad8c00158d4991\n'}]",2,100485,0d6421fb209ad3fb0ca07e65516b0da5a300871b,7,2,1,11982,,,0,"Fix of emphasizing on README.md

Change-Id: I8ac5be90b76285a1235eb545e6ad8c00158d4991
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/85/100485/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,0d6421fb209ad3fb0ca07e65516b0da5a300871b,,"The ceph module is intended to leverage all [Ceph](http://ceph.com/) has to offer and allow for a wide range of use case. Although hosted on the OpenStack infrastructure, it does not require to sign a CLA nor is it restricted to OpenStack users. It benefits from a structured development process that helps federate the development effort. Each feature is tested with an integration tests involving virtual machines to show that it performs as expected when used with a realistic scenario.","The ceph module is intended to leverage all [Ceph](http://ceph.com/) has to offer and allow for a wide range of use case. Although hosted on the OpenStack infrastructure, it does not require to sign a CLA nor is it restricted to OpenStack users. It benefits from a structured development process that helps federate the development effort. Each feature is tested with an integration tests involving virtual machines to show that it performs as expected when used with a realistic scenario. to emphasize the importance of integration tests. Knowing that integration tests exist is important to the person who discovers the module for the first time. Unit tests are also important but from the developer perspective.",1,3
openstack%2Fpython-ironicclient~master~I0a2faa5eaee42227cef46b20519325c87123422b,openstack/python-ironicclient,master,I0a2faa5eaee42227cef46b20519325c87123422b,Added argcomplete lib to enable cli completition,ABANDONED,2014-01-10 05:03:52.000000000,2014-06-17 11:59:51.000000000,,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 7763}, {'_account_id': 8106}, {'_account_id': 8968}, {'_account_id': 10239}]","[{'number': 1, 'created': '2014-01-10 05:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/2133ef828440bc7756d800d0cd6ec2ef8297f234', 'message': 'Added argcomplete lib to enable cli completition\n\nPlease read manual below to activate completition:\nhttps://github.com/kislyuk/argcomplete/blob/master/README.rst#activating-global-completion\n\nChange-Id: I0a2faa5eaee42227cef46b20519325c87123422b\n'}, {'number': 2, 'created': '2014-05-26 16:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/64e2160a0a67fffdc369b8a47c29d573c33e8924', 'message': 'Added argcomplete lib to enable cli completition\n\nPlease read manual below to activate completition:\nhttps://github.com/kislyuk/argcomplete/blob/master/README.rst#activating-global-completion\n\nChange-Id: I0a2faa5eaee42227cef46b20519325c87123422b\n'}, {'number': 3, 'created': '2014-05-26 16:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/7067edc0b5b2fa1aabd075dae1a7d0528db3261e', 'message': 'Added argcomplete lib to enable cli completition\n\nPlease read manual below to activate completition:\nhttps://github.com/kislyuk/argcomplete/blob/master/README.rst#activating-global-completion\n\nChange-Id: I0a2faa5eaee42227cef46b20519325c87123422b\n'}, {'number': 4, 'created': '2014-05-26 17:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/bea78bae03821e2b5f48d99539a6d2182a2ad970', 'message': 'Added argcomplete lib to enable cli completition\n\nPlease read manual below to activate completition:\nhttps://github.com/kislyuk/argcomplete/blob/master/README.rst#activating-global-completion\n\nChange-Id: I0a2faa5eaee42227cef46b20519325c87123422b\n'}, {'number': 5, 'created': '2014-05-26 19:19:48.000000000', 'files': ['requirements.txt', 'ironicclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/e70ae8cf7f61503baedc09c10f95aa49962d8df5', 'message': 'Added argcomplete lib to enable cli completition\n\nPlease read manual below to activate completition:\nhttps://github.com/kislyuk/argcomplete/blob/master/README.rst#activating-global-completion\n\nChange-Id: I0a2faa5eaee42227cef46b20519325c87123422b\n'}]",4,65865,e70ae8cf7f61503baedc09c10f95aa49962d8df5,68,7,5,7763,,,0,"Added argcomplete lib to enable cli completition

Please read manual below to activate completition:
https://github.com/kislyuk/argcomplete/blob/master/README.rst#activating-global-completion

Change-Id: I0a2faa5eaee42227cef46b20519325c87123422b
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/65/65865/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ironicclient/shell.py']",2,2133ef828440bc7756d800d0cd6ec2ef8297f234,(detached,# PYTHON_ARGCOMPLETE_OK #import argcomplete argcomplete.autocomplete(subcommand_parser) ,,6,0
openstack%2Fnova~master~Ia99e04ad80a2823a6852debf0919e72b2f93bd26,openstack/nova,master,Ia99e04ad80a2823a6852debf0919e72b2f93bd26,Save connection info in libvirt after volume connect,MERGED,2014-06-12 15:56:50.000000000,2014-06-17 11:59:08.000000000,2014-06-17 03:55:43.000000000,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 8871}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-12 15:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65948b12d27ec1d9203936c124d812b61b90e720', 'message': 'Save connection info in libvirt after volume connect\n\nThe libvirt driver will connect volumes for BFV while processing\nthe guest configuration, but not save the connection_info into\nthe database. This adds a save there to make sure that any\nstorage driver details get persisted.\n\nChange-Id: Ia99e04ad80a2823a6852debf0919e72b2f93bd26\nRelated-bug: #1328245\n'}, {'number': 2, 'created': '2014-06-12 16:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f644b473043ca7c6b44c931565adfd9f826a0a0', 'message': 'Save connection info in libvirt after volume connect\n\nThe libvirt driver will connect volumes for BFV while processing\nthe guest configuration, but not save the connection_info into\nthe database. This adds a save there to make sure that any\nstorage driver details get persisted.\n\nChange-Id: Ia99e04ad80a2823a6852debf0919e72b2f93bd26\nRelated-bug: #1328245\n'}, {'number': 3, 'created': '2014-06-12 22:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb3f60f10e199d16ed83c6ee755582ea5f9e0955', 'message': 'WIP Save connection info in libvirt after volume connect\n\nThe libvirt driver will connect volumes for BFV while processing\nthe guest configuration, but not save the connection_info into\nthe database. This adds a save there to make sure that any\nstorage driver details get persisted.\n\nChange-Id: Ia99e04ad80a2823a6852debf0919e72b2f93bd26\nRelated-bug: #1328245\n'}, {'number': 4, 'created': '2014-06-13 14:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c8d28450edaa77e5c6ed8f89583bc41904cf8a04', 'message': 'Save connection info in libvirt after volume connect\n\nThe libvirt driver will connect volumes for BFV while processing\nthe guest configuration, but not save the connection_info into\nthe database. This adds a save there to make sure that any\nstorage driver details get persisted.\n\nChange-Id: Ia99e04ad80a2823a6852debf0919e72b2f93bd26\nRelated-bug: #1328245\n'}, {'number': 5, 'created': '2014-06-13 17:36:19.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/virt/test_virt_drivers.py', 'nova/tests/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a1a2d0605b555f149846eb7e74f7d1760e55ed75', 'message': 'Save connection info in libvirt after volume connect\n\nThe libvirt driver will connect volumes for BFV while processing\nthe guest configuration, but not save the connection_info into\nthe database. This adds a save there to make sure that any\nstorage driver details get persisted.\n\nChange-Id: Ia99e04ad80a2823a6852debf0919e72b2f93bd26\nRelated-bug: #1328245\n'}]",5,99699,a1a2d0605b555f149846eb7e74f7d1760e55ed75,50,9,5,4393,,,0,"Save connection info in libvirt after volume connect

The libvirt driver will connect volumes for BFV while processing
the guest configuration, but not save the connection_info into
the database. This adds a save there to make sure that any
storage driver details get persisted.

Change-Id: Ia99e04ad80a2823a6852debf0919e72b2f93bd26
Related-bug: #1328245
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/99699/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/virt/test_virt_drivers.py', 'nova/tests/virt/libvirt/test_driver.py']",3,65948b12d27ec1d9203936c124d812b61b90e720,master_save_bfv,"def mocked_bdm(id, bdm_info): bdm_mock = mock.MagicMock() bdm_mock.__getitem__ = lambda s, k: bdm_info[k] bdm_mock.get = lambda *k, **kw: bdm_info.get(*k, **kw) bdm_mock.id = id return bdm_mock @mock.patch('nova.objects.BlockDeviceMapping') def test_get_guest_config_with_block_device(self, bdm_mock): mocked_bdm(1, {'connection_info': conn_info, 'mount_device': '/dev/vdc'}), mocked_bdm(2, {'connection_info': conn_info, 'mount_device': '/dev/vdd'}), ]} self.assertTrue(bdm_mock.get_by_volume_id.called) bdm = bdm_mock.get_by_volume_id.return_value self.assertTrue(bdm.save.called) @mock.patch('nova.objects.BlockDeviceMapping') def test_get_guest_config_with_virtio_scsi_bus_bdm(self, bdm_mock): mocked_bdm(1, {'connection_info': conn_info, 'mount_device': '/dev/sdc', 'disk_bus': 'scsi'}), mocked_bdm(2, {'connection_info': conn_info, 'mount_device': '/dev/sdd', 'disk_bus': 'scsi'}), ]} self.assertTrue(bdm_mock.get_by_volume_id.called) bdm = bdm_mock.get_by_volume_id.return_value self.assertTrue(bdm.save.called) mocked_bdm(1, {'mount_device': 'vda', 'boot_index': 0}), @mock.patch('nova.objects.BlockDeviceMapping') def test_post_live_migration_at_destination_with_block_device_info( self, block_device_mock): bdm = {'guest_format': None, 'boot_index': 0, 'mount_device': '/dev/vda', 'connection_info': {'driver_volume_type': 'iscsi'}, 'disk_bus': 'virtio', 'device_type': 'disk', 'delete_on_termination': False, } block_device_info = { 'block_device_mapping': [mocked_bdm(1, bdm)] } self.assertTrue(block_device_mock.get_by_volume_id.called) bdm = block_device_mock.get_by_volume_id.return_value bdm.save.assert_called_once_with() "," def test_get_guest_config_with_block_device(self): {'connection_info': conn_info, 'mount_device': '/dev/vdc'}, {'connection_info': conn_info, 'mount_device': '/dev/vdd'}]} def test_get_guest_config_with_virtio_scsi_bus_bdm(self): {'connection_info': conn_info, 'mount_device': '/dev/sdc', 'disk_bus': 'scsi'}, {'connection_info': conn_info, 'mount_device': '/dev/sdd', 'disk_bus': 'scsi'}]} {'mount_device': 'vda', 'boot_index': 0} def test_post_live_migration_at_destination_with_block_device_info(self): block_device_info = {'block_device_mapping': [ {'guest_format': None, 'boot_index': 0, 'mount_device': '/dev/vda', 'connection_info': {'driver_volume_type': 'iscsi'}, 'disk_bus': 'virtio', 'device_type': 'disk', 'delete_on_termination': False} ]}",69,29
openstack%2Ftraining-guides~master~I3fc41cf7a96916b2f3eadfba953fa5f9e26c095a,openstack/training-guides,master,I3fc41cf7a96916b2f3eadfba953fa5f9e26c095a,Removes unrelated references to diagrams.,MERGED,2014-06-17 10:31:08.000000000,2014-06-17 11:53:44.000000000,2014-06-17 11:53:44.000000000,"[{'_account_id': 3}, {'_account_id': 6923}, {'_account_id': 7007}, {'_account_id': 11109}]","[{'number': 1, 'created': '2014-06-17 10:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/training-guides/commit/2eba8e797c8578e179e71275076060a0a4495e1c', 'message': 'Removes unrelated references to diagrams.\n\nDisk labels were referred to diagrams which was not requried at this\nstage of learning for the students. This patch removes the references to the\ndiagrams to avoid confusion.\n\nChange-Id: I3fc41cf7a96916b2f3eadfba953fa5f9e26c095a\nCloses-Bug: #1234567\nImplements: blueprint training-manuals\n'}, {'number': 2, 'created': '2014-06-17 10:47:16.000000000', 'files': ['doc/training-guides/module001-ch005-vm-provisioning-walk-through.xml'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/c48b0e63f457c12ee01a96af3d0e90e116553122', 'message': 'Removes unrelated references to diagrams.\n\nDisk labels were referred to diagrams which was not requried at this\nstage of learning for the students. This patch removes the references to the\ndiagrams to avoid confusion.\n\nChange-Id: I3fc41cf7a96916b2f3eadfba953fa5f9e26c095a\nCloses-Bug: #1267673\nImplements: blueprint training-manuals\n'}]",3,100489,c48b0e63f457c12ee01a96af3d0e90e116553122,10,4,2,7007,,,0,"Removes unrelated references to diagrams.

Disk labels were referred to diagrams which was not requried at this
stage of learning for the students. This patch removes the references to the
diagrams to avoid confusion.

Change-Id: I3fc41cf7a96916b2f3eadfba953fa5f9e26c095a
Closes-Bug: #1267673
Implements: blueprint training-manuals
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/89/100489/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/training-guides/module001-ch005-vm-provisioning-walk-through.xml'],1,2eba8e797c8578e179e71275076060a0a4495e1c,bp/training-manuals," flavor provides a root volume (as all flavors do). Let us assume that the root volume is labelled as 'vda' and additional ephemeral storage labeled as 'vdb'. The user has also opted to map a volume from the store to the third virtual disk, vdc, on this instance.</para> using iSCSI and maps this to the third disk (vdc) as requested. The vCPU and memory resources are provisioned and the instance is booted from the first drive. The instance runs and changes data on the disks indicated in red in the diagram.</para> behind the dashboard, lets take a deeper dive into OpenStacks"," flavor provides a root volume (as all flavors do) labeled vda in the diagram and additional ephemeral storage labeled vdb in the diagram. The user has also opted to map a volume from the store to the third virtual disk, vdc, on this instance.</para> using iSCSI and maps this to the third disk (vdc) as requested. The vCPU and memory resources are provisioned and the instance is booted from the first drive. The instance runs and changes data on the disks indicated in red in the diagram.</para> behind the dashboard, lets take a deeper dive into OpenStacks",9,11
openstack%2Fhorizon~master~Iaff5d413d4abe9c59d48a679094ea37930abc4c1,openstack/horizon,master,Iaff5d413d4abe9c59d48a679094ea37930abc4c1,Add text to the Create Volume dialog's Type menu,MERGED,2014-06-12 19:47:30.000000000,2014-06-17 11:51:29.000000000,2014-06-17 11:51:29.000000000,"[{'_account_id': 3}, {'_account_id': 2455}, {'_account_id': 5997}, {'_account_id': 6610}, {'_account_id': 6914}, {'_account_id': 9622}, {'_account_id': 10068}, {'_account_id': 11592}, {'_account_id': 11885}]","[{'number': 1, 'created': '2014-06-12 19:47:30.000000000', 'files': ['openstack_dashboard/dashboards/project/volumes/volumes/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/4de6ab6516c28995f7e9e8c7809d961865696f34', 'message': 'Add text to the Create Volume dialog\'s Type menu\n\nThe first value in the ""Type"" dropdown menu of the Create Volume dialog\nwas empty. This causes some confusion to the user because there was not\nenough information as to why the value was empty or what would happen\nwhen creating a volume with the empty type.\n\nAdding text ""No volume type"" to the first value of the dropdown menu\nexplains that there will be no volume type associated with the volume\nat creation time.\n\nCloses-Bug: #1325701\nChange-Id: Iaff5d413d4abe9c59d48a679094ea37930abc4c1\n'}]",0,99747,4de6ab6516c28995f7e9e8c7809d961865696f34,26,9,1,11592,,,0,"Add text to the Create Volume dialog's Type menu

The first value in the ""Type"" dropdown menu of the Create Volume dialog
was empty. This causes some confusion to the user because there was not
enough information as to why the value was empty or what would happen
when creating a volume with the empty type.

Adding text ""No volume type"" to the first value of the dropdown menu
explains that there will be no volume type associated with the volume
at creation time.

Closes-Bug: #1325701
Change-Id: Iaff5d413d4abe9c59d48a679094ea37930abc4c1
",git fetch https://review.opendev.org/openstack/horizon refs/changes/47/99747/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/volumes/volumes/forms.py'],1,4de6ab6516c28995f7e9e8c7809d961865696f34,bug/1325701," self.fields['type'].choices = [("""", _(""No volume type""))] + \"," self.fields['type'].choices = [("""", """")] + \",1,1
openstack%2Ftempest~master~I570c86401f878ab8048194be252ce82d1b44f5b4,openstack/tempest,master,I570c86401f878ab8048194be252ce82d1b44f5b4,Check non json type on glance client json_request method,MERGED,2014-05-06 19:36:06.000000000,2014-06-17 11:48:29.000000000,2014-06-17 11:48:28.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5174}, {'_account_id': 5196}, {'_account_id': 5292}, {'_account_id': 7249}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-05-06 19:36:06.000000000', 'files': ['tempest/tests/test_glance_http.py', 'tempest/common/glance_http.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5403b7905bae5f37519978b240365c2370c82490', 'message': 'Check non json type on glance client json_request method\n\nThis patch adds Content-Type headers for request and responses in\nglance_http json_request methods based on what was discussed in a\nprevious patch.\n(https://review.openstack.org/#/c/84454/4/tempest/tests/test_glance_http.py)\nAlso includes a couple of unit tests to assure the behavior.\n\nRelated to bp unit-tests\n\nChange-Id: I570c86401f878ab8048194be252ce82d1b44f5b4\n'}]",0,92449,5403b7905bae5f37519978b240365c2370c82490,57,9,1,5174,,,0,"Check non json type on glance client json_request method

This patch adds Content-Type headers for request and responses in
glance_http json_request methods based on what was discussed in a
previous patch.
(https://review.openstack.org/#/c/84454/4/tempest/tests/test_glance_http.py)
Also includes a couple of unit tests to assure the behavior.

Related to bp unit-tests

Change-Id: I570c86401f878ab8048194be252ce82d1b44f5b4
",git fetch https://review.opendev.org/openstack/tempest refs/changes/49/92449/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/tests/test_glance_http.py', 'tempest/common/glance_http.py']",2,5403b7905bae5f37519978b240365c2370c82490,bp/unit-tests," if kwargs['headers']['Content-Type'] != 'application/json': msg = ""Only application/json content-type is supported."" raise exc.InvalidContentType(msg) msg = ""Only json/application content-type is supported."" raise exc.InvalidContentType(msg)", body = None,25,10
openstack%2Ftempest~master~Ibac17b626008b6bfcd5ba9114b87f175a9597670,openstack/tempest,master,Ibac17b626008b6bfcd5ba9114b87f175a9597670,Sahara: preparations for job binary tests,MERGED,2014-05-21 09:15:54.000000000,2014-06-17 11:48:21.000000000,2014-06-17 11:48:21.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 6786}, {'_account_id': 7227}, {'_account_id': 7428}, {'_account_id': 8556}, {'_account_id': 8824}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-05-21 09:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6a060b3f8ac42763fe46c8ee3be2bf94e7e01ff8', 'message': 'Sahara: preparations for job binary tests\n\n* create/list/get/delete methods to Sahara API client\n  for job binaries were added\n* Method ""create_job_binary"" was added\n* tearDownClass method was expanded\n\nPartially implements: blueprint savanna-api-tests\n\nChange-Id: Ibac17b626008b6bfcd5ba9114b87f175a9597670\n'}, {'number': 2, 'created': '2014-06-11 10:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/529d5dd50f697b0e90be83d8ce8a51e5902b9136', 'message': 'Sahara: preparations for job binary tests\n\n* create/list/get/delete methods to Sahara API client\n  for job binaries were added\n* Method ""create_job_binary"" was added\n* tearDownClass method was expanded\n\nPartially implements: blueprint savanna-api-tests\n\nChange-Id: Ibac17b626008b6bfcd5ba9114b87f175a9597670\n'}, {'number': 3, 'created': '2014-06-14 12:25:05.000000000', 'files': ['tempest/services/data_processing/v1_1/client.py', 'tempest/api/data_processing/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/74c923b4e39a6916bf7eae23b1dc780274855973', 'message': 'Sahara: preparations for job binary tests\n\n* create/list/get/delete methods to Sahara API client\n  for job binaries were added\n* Method ""create_job_binary"" was added\n* tearDownClass method was expanded\n\nPartially implements: blueprint savanna-api-tests\n\nChange-Id: Ibac17b626008b6bfcd5ba9114b87f175a9597670\n'}]",0,94559,74c923b4e39a6916bf7eae23b1dc780274855973,56,12,3,7428,,,0,"Sahara: preparations for job binary tests

* create/list/get/delete methods to Sahara API client
  for job binaries were added
* Method ""create_job_binary"" was added
* tearDownClass method was expanded

Partially implements: blueprint savanna-api-tests

Change-Id: Ibac17b626008b6bfcd5ba9114b87f175a9597670
",git fetch https://review.opendev.org/openstack/tempest refs/changes/59/94559/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/services/data_processing/v1_1/client.py', 'tempest/api/data_processing/base.py']",2,6a060b3f8ac42763fe46c8ee3be2bf94e7e01ff8,bp/savanna-api-tests," cls._job_binaries = [] cls.cleanup_resources(getattr(cls, '_job_binaries', []), cls.client.delete_job_binary) @classmethod def create_job_binary(cls, name, url, extra=None, **kwargs): """"""Creates watched job binary with specified params. It supports passing additional params using kwargs and returns created object. All resources created in this method will be automatically removed in tearDownClass method. """""" resp, body = cls.client.create_job_binary(name, url, extra, **kwargs) # store id of created job binary cls._job_binaries.append(body['id']) return resp, body",,57,0
openstack%2Fdevstack~stable%2Fhavana~Ic2b86ddba3e7f6520a0fd35599b01143936c6deb,openstack/devstack,stable/havana,Ic2b86ddba3e7f6520a0fd35599b01143936c6deb,convert devstack from awk to outfilter,MERGED,2014-06-16 20:31:55.000000000,2014-06-17 11:48:01.000000000,2014-06-17 11:48:01.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 9009}]","[{'number': 1, 'created': '2014-06-16 20:31:55.000000000', 'files': ['tools/outfilter.py', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/58608a1d27841ceab799a51a7118102e73d3c90d', 'message': 'convert devstack from awk to outfilter\n\nThe complexity of the awk script was pretty high, and it would\nbe good to do it in summaries as well, which starts to get a bit\nsquirelly. Instead bring over the outfilter.py from grenade and\nuse it for the timestamping.\n\nAny additional overhead from python should be offset from not\nshelling out to date on every line of output.\n\n(cherry picked from commit 62cb563ddc5f6923a9734a96d394ff2c27c320ca)\n\nConflicts:\n\tstack.sh\n\nChange-Id: Ic2b86ddba3e7f6520a0fd35599b01143936c6deb\n'}]",0,100347,58608a1d27841ceab799a51a7118102e73d3c90d,8,3,1,2750,,,0,"convert devstack from awk to outfilter

The complexity of the awk script was pretty high, and it would
be good to do it in summaries as well, which starts to get a bit
squirelly. Instead bring over the outfilter.py from grenade and
use it for the timestamping.

Any additional overhead from python should be offset from not
shelling out to date on every line of output.

(cherry picked from commit 62cb563ddc5f6923a9734a96d394ff2c27c320ca)

Conflicts:
	stack.sh

Change-Id: Ic2b86ddba3e7f6520a0fd35599b01143936c6deb
",git fetch https://review.opendev.org/openstack/devstack refs/changes/47/100347/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/outfilter.py', 'stack.sh']",2,58608a1d27841ceab799a51a7118102e73d3c90d,," # Set fd 1 and 2 to write the log file exec 1> >( ./tools/outfilter.py -v -o ""${LOGFILE}"" ) 2>&1 # Set fd 6 to summary log file exec 6> >( ./tools/outfilter.py -o ""${SUMFILE}"" ) exec 1> >( ./tools/outfilter.py -o ""${LOGFILE}"" ) 2>&1 exec 6> >( ./tools/outfilter.py -v -o ""${SUMFILE}"" >&3 ) exec 6> >( ./tools/outfilter.py -v >&3 )"," # Redirect stdout/stderr to tee to write the log file exec 1> >( awk ' { cmd =""date +\""%Y-%m-%d %H:%M:%S.%3N | \"""" cmd | getline now close(""date +\""%Y-%m-%d %H:%M:%S.%3N | \"""") sub(/^/, now) print fflush() }' | tee ""${LOGFILE}"" ) 2>&1 # Set up a second fd for output exec 6> >( tee ""${SUMFILE}"" ) exec 1> ""${LOGFILE}"" 2>&1 exec 6> >( tee ""${SUMFILE}"" >&3 ) exec 6>&3",94,15
openstack%2Fdevstack~stable%2Fhavana~I2b066a687916742e966190f00b5b06a795d4a014,openstack/devstack,stable/havana,I2b066a687916742e966190f00b5b06a795d4a014,double the screen sleep timeout,MERGED,2014-06-16 20:31:55.000000000,2014-06-17 11:47:55.000000000,2014-06-17 11:47:55.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 8871}, {'_account_id': 9009}]","[{'number': 1, 'created': '2014-06-16 20:31:55.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f28129a811efb3e9be64eb2e1aab2cdbf8966d4c', 'message': ""double the screen sleep timeout\n\nHP Cloud 1.1 is quite slow per core. So much so that grenade is\noften failing to start services because bash in a screen session\nisn't ready in 1.5s. Double this to 3s to try to decrease failures\nin the gate.\n\nWe should instead do this via some readiness check to decrease\nraces.\n\n(cherry picked from commit 43d8f1cdddee5ed20dfef267dc59f7c4805d3a75)\n\nConflicts:\n\tfunctions-common\n\nChange-Id: I2b066a687916742e966190f00b5b06a795d4a014\n""}]",0,100346,f28129a811efb3e9be64eb2e1aab2cdbf8966d4c,12,4,1,2750,,,0,"double the screen sleep timeout

HP Cloud 1.1 is quite slow per core. So much so that grenade is
often failing to start services because bash in a screen session
isn't ready in 1.5s. Double this to 3s to try to decrease failures
in the gate.

We should instead do this via some readiness check to decrease
races.

(cherry picked from commit 43d8f1cdddee5ed20dfef267dc59f7c4805d3a75)

Conflicts:
	functions-common

Change-Id: I2b066a687916742e966190f00b5b06a795d4a014
",git fetch https://review.opendev.org/openstack/devstack refs/changes/46/100346/1 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,f28129a811efb3e9be64eb2e1aab2cdbf8966d4c,, sleep 3, sleep 1.5,1,1
openstack%2Fhorizon~master~I18e4cdfcb97bcb08ede98f921de1f975d9a64cf5,openstack/horizon,master,I18e4cdfcb97bcb08ede98f921de1f975d9a64cf5,Remove warnings when generating docs,MERGED,2014-06-13 23:43:05.000000000,2014-06-17 11:47:47.000000000,2014-06-17 11:47:46.000000000,"[{'_account_id': 3}, {'_account_id': 2455}, {'_account_id': 6914}, {'_account_id': 9317}, {'_account_id': 10068}, {'_account_id': 10242}]","[{'number': 1, 'created': '2014-06-13 23:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e6f6c71e15aadcfd5974d086bf9422ce60400124', 'message': 'Remove warnings for ADD_ANGULAR_MODULES when generating docs\n\nSphinx generates a warning about having too few underlines under the title ""ADD_ANGULAR_MODULES"". The generated docs are still correct\n(title is generated with an underline), so this change only needed to eliminate the warning messages.\n\nChange-Id: I18e4cdfcb97bcb08ede98f921de1f975d9a64cf5\nCloses-Bug: #1329562\n'}, {'number': 2, 'created': '2014-06-16 15:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4005ebb21aafeb7f1fe1c69b9bf7613280cfeb56', 'message': 'Remove warnings for ADD_ANGULAR_MODULES when generating docs\n\nSphinx generates a warning about having too few underlines under the title""ADD_ANGULAR_MODULES"". The generated docs are still correct (title is \ngenerated with an underline), so this change only needed to eliminate the\n warning messages.\n\nChange-Id: I18e4cdfcb97bcb08ede98f921de1f975d9a64cf5\nCloses-Bug: #1329562\n'}, {'number': 3, 'created': '2014-06-16 15:25:43.000000000', 'files': ['doc/source/topics/settings.rst'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c48ec8e12789d0dbb489afd077ad9e327a6c4416', 'message': 'Remove warnings when generating docs\n\nSphinx generates a warning about having too few underlines under the\ntitle ""ADD_ANGULAR_MODULES"". The generated docs are still correct\n(title is generated with an underline), so this change only needed\nto eliminate the warning messages.\n\nChange-Id: I18e4cdfcb97bcb08ede98f921de1f975d9a64cf5\nCloses-Bug: #1329562\n'}]",1,100039,c48ec8e12789d0dbb489afd077ad9e327a6c4416,17,6,3,11941,,,0,"Remove warnings when generating docs

Sphinx generates a warning about having too few underlines under the
title ""ADD_ANGULAR_MODULES"". The generated docs are still correct
(title is generated with an underline), so this change only needed
to eliminate the warning messages.

Change-Id: I18e4cdfcb97bcb08ede98f921de1f975d9a64cf5
Closes-Bug: #1329562
",git fetch https://review.opendev.org/openstack/horizon refs/changes/39/100039/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/topics/settings.rst'],1,e6f6c71e15aadcfd5974d086bf9422ce60400124,bug/1329562,----------------------------------------------,--------------------------------------------,2,2
openstack%2Fhorizon~master~Ib297e4188f2426cf575300998bc9d50f36e48f4f,openstack/horizon,master,Ib297e4188f2426cf575300998bc9d50f36e48f4f,Fix keystone warnings while building docs,MERGED,2014-06-13 00:46:20.000000000,2014-06-17 11:44:40.000000000,2014-06-17 11:44:39.000000000,"[{'_account_id': 3}, {'_account_id': 2455}, {'_account_id': 4264}, {'_account_id': 6825}, {'_account_id': 9317}]","[{'number': 1, 'created': '2014-06-13 00:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5e3c211ce6ce4b58dffcbdf2b171ff7938ac30bf', 'message': 'Remove warnings reverse warning\n\nWhen building the documentation via run_tests.sh, doc/source/conf.py\nexplicitly sets the DJANGO_SETTINGS_MODULE environment variable,\noverriding any existing value that it already has. Furthermore, it sets\nit to point to a settings file that does not use keystone v3, which\nis expected by the tests (and is the source of the warning).  Note that\nwhen running unit tests via run_tests.sh, a different settings file is\nsupplied which DOES use keystone v3.\n\nChange the doc/source/conf.py to only set DJANGO_SETTINGS_MODULE if it\nis not already set.  Change tox.ini to set DJANGO_SETTINGS_MODULE to the\nsame settings file used by the unit tests, with keystone v3 support.\n\nChange-Id: Ib297e4188f2426cf575300998bc9d50f36e48f4f\nCloses-Bug: #1257725\n'}, {'number': 2, 'created': '2014-06-13 00:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c5df2a909972215b699e34ce49b16c43f0376739', 'message': 'Fix keystone warnings while building docs\n\nWhen building the documentation via run_tests.sh, doc/source/conf.py\nexplicitly sets the DJANGO_SETTINGS_MODULE environment variable,\noverriding any existing value that it already has. Furthermore, it sets\nit to point to a settings file that does not use keystone v3, which\nis expected by the tests (and is the source of the warning).  Note that\nwhen running unit tests via run_tests.sh, a different settings file is\nsupplied which DOES use keystone v3.\n\nChange the doc/source/conf.py to only set DJANGO_SETTINGS_MODULE if it\nis not already set.  Change tox.ini to set DJANGO_SETTINGS_MODULE to the\nsame settings file used by the unit tests, with keystone v3 support.\n\nChange-Id: Ib297e4188f2426cf575300998bc9d50f36e48f4f\nCloses-Bug: #1257725'}, {'number': 3, 'created': '2014-06-16 22:42:28.000000000', 'files': ['run_tests.sh', 'doc/source/conf.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/horizon/commit/1f38f871387e58766f3c19aadacdb804163f316c', 'message': 'Fix keystone warnings while building docs\n\nWhen building the documentation via run_tests.sh, doc/source/conf.py\nexplicitly sets the DJANGO_SETTINGS_MODULE environment variable,\noverriding any existing value that it already has. Furthermore, it sets\nit to point to a settings file that does not use keystone v3, which\nis expected by the tests (and is the source of the warning).  Note that\nwhen running unit tests via run_tests.sh, a different settings file is\nsupplied which DOES use keystone v3.\n\nChange the doc/source/conf.py to only set DJANGO_SETTINGS_MODULE if it\nis not already set.  Change tox.ini and run_tests.sh to set\nDJANGO_SETTINGS_MODULE to the same settings file used by the unit tests,\nwith keystone v3 support.\n\nChange-Id: Ib297e4188f2426cf575300998bc9d50f36e48f4f\nCloses-Bug: #1257725\n'}]",0,99812,1f38f871387e58766f3c19aadacdb804163f316c,18,5,3,6825,,,0,"Fix keystone warnings while building docs

When building the documentation via run_tests.sh, doc/source/conf.py
explicitly sets the DJANGO_SETTINGS_MODULE environment variable,
overriding any existing value that it already has. Furthermore, it sets
it to point to a settings file that does not use keystone v3, which
is expected by the tests (and is the source of the warning).  Note that
when running unit tests via run_tests.sh, a different settings file is
supplied which DOES use keystone v3.

Change the doc/source/conf.py to only set DJANGO_SETTINGS_MODULE if it
is not already set.  Change tox.ini and run_tests.sh to set
DJANGO_SETTINGS_MODULE to the same settings file used by the unit tests,
with keystone v3 support.

Change-Id: Ib297e4188f2426cf575300998bc9d50f36e48f4f
Closes-Bug: #1257725
",git fetch https://review.opendev.org/openstack/horizon refs/changes/12/99812/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'tox.ini']",2,5e3c211ce6ce4b58dffcbdf2b171ff7938ac30bf,bug/1257725,setenv = DJANGO_SETTINGS_MODULE=openstack_dashboard.test.settings,setenv = DJANGO_SETTINGS_MODULE=openstack_auth.tests.settings,2,2
openstack%2Fglance~master~Iacce978001750c9cb8f398dba78361dee22ed2fb,openstack/glance,master,Iacce978001750c9cb8f398dba78361dee22ed2fb,To fixes import error for run_tests.sh,MERGED,2014-04-29 05:14:58.000000000,2014-06-17 11:44:09.000000000,2014-06-17 11:44:09.000000000,"[{'_account_id': 3}, {'_account_id': 177}, {'_account_id': 616}, {'_account_id': 2537}, {'_account_id': 5202}, {'_account_id': 6484}, {'_account_id': 6549}, {'_account_id': 8258}, {'_account_id': 8759}, {'_account_id': 8871}, {'_account_id': 9608}]","[{'number': 1, 'created': '2014-04-29 05:14:58.000000000', 'files': ['tools/install_venv.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/95d81a0b03703f47d457f26acecb36d7a10e66cb', 'message': 'To fixes import error for run_tests.sh\n\nChange-Id: Iacce978001750c9cb8f398dba78361dee22ed2fb\nCloses-bug: #1314007\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>'}]",5,90888,95d81a0b03703f47d457f26acecb36d7a10e66cb,26,11,1,6549,,,0,"To fixes import error for run_tests.sh

Change-Id: Iacce978001750c9cb8f398dba78361dee22ed2fb
Closes-bug: #1314007
Signed-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>",git fetch https://review.opendev.org/openstack/glance refs/changes/88/90888/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/install_venv.py'],1,95d81a0b03703f47d457f26acecb36d7a10e66cb,,import install_venv_common as install_venv # noqa,from tools import install_venv_common as install_venv,1,1
openstack%2Fpython-novaclient~master~I262d72f6f676e260a58d45b750dbd60fc7c3dcf5,openstack/python-novaclient,master,I262d72f6f676e260a58d45b750dbd60fc7c3dcf5,Fixes wrong value description for volume-detach,MERGED,2014-06-16 06:52:58.000000000,2014-06-17 11:43:45.000000000,2014-06-17 11:43:45.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1849}, {'_account_id': 4428}, {'_account_id': 6873}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-06-16 06:52:58.000000000', 'files': ['novaclient/v1_1/shell.py', 'novaclient/v3/shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/7be7d883428a0d956a6751ae786495fa5cb2a155', 'message': 'Fixes wrong value description for volume-detach\n\nThe description of the <volume> argument is not proper, the <volume>\nargument is indeed ""ID of the volume"". Attachment ID"" is the internal\nterm of nova/cinder. So change description \'Attachment ID of the\nvolume.\' to \'ID of the volume to detach.\'\n\nChange-Id: I262d72f6f676e260a58d45b750dbd60fc7c3dcf5\nCloses-bug: 1321073\n'}]",0,100157,7be7d883428a0d956a6751ae786495fa5cb2a155,17,6,1,4428,,,0,"Fixes wrong value description for volume-detach

The description of the <volume> argument is not proper, the <volume>
argument is indeed ""ID of the volume"". Attachment ID"" is the internal
term of nova/cinder. So change description 'Attachment ID of the
volume.' to 'ID of the volume to detach.'

Change-Id: I262d72f6f676e260a58d45b750dbd60fc7c3dcf5
Closes-bug: 1321073
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/57/100157/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/v1_1/shell.py', 'novaclient/v3/shell.py']",2,7be7d883428a0d956a6751ae786495fa5cb2a155,bug/1321073, help='ID of the volume to detach.') args.attachment_id), help='Attachment ID of the volume.') args.attachment_id),4,4
openstack%2Fceilometer~master~I579b1cf450f16853ac49f1d248a64a179e6443d9,openstack/ceilometer,master,I579b1cf450f16853ac49f1d248a64a179e6443d9,Corrects a flaw in the treatment of swift endpoints,MERGED,2014-06-03 11:49:13.000000000,2014-06-17 11:43:38.000000000,2014-06-17 11:43:38.000000000,"[{'_account_id': 3}, {'_account_id': 3012}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 7478}, {'_account_id': 8290}, {'_account_id': 8871}, {'_account_id': 10068}, {'_account_id': 10789}]","[{'number': 1, 'created': '2014-06-03 11:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a0d9eee1b11af5bffdce8a529b66669a78580701', 'message': ""Closes-Bug: 1325591 (ceilometer cannot communitcate with swift if endpoint uri does not start with '/v1')\n\nChange-Id: I579b1cf450f16853ac49f1d248a64a179e6443d9\n""}, {'number': 2, 'created': '2014-06-03 11:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ee1a0e4092fb98b32505d4dd67e46a477dfb4fb2', 'message': ""Closes-Bug: 1325591 (ceilometer cannot communicate with swift if endpoint uri does not start with '/v1')\n\nChange-Id: I579b1cf450f16853ac49f1d248a64a179e6443d9\n""}, {'number': 3, 'created': '2014-06-03 18:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/66dc439b4894ffed37bb9a2dddb8bc0895677558', 'message': ""Corrects a flaw in the treatment of swift endpoints\n\nWhen keystone has a registered swift endpoint of which the url does not start\nwith '/v1', the object-store pollster is not able to use it correctly.\nThis commit fixes it's behaviour to provide more flexibility in endpoint urls.\n\nChange-Id: I579b1cf450f16853ac49f1d248a64a179e6443d9\nCloses-Bug: #1325591\n""}, {'number': 4, 'created': '2014-06-04 02:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2a8ffb570b7fb01d3de133c282ede52cb6722e8c', 'message': ""Corrects a flaw in the treatment of swift endpoints\n\nWhen keystone has a registered swift endpoint of which the url does not start\nwith '/v1', the object-store pollster is not able to use it correctly.\nThis commit fixes it's behaviour to provide more flexibility in endpoint urls.\n\nChange-Id: I579b1cf450f16853ac49f1d248a64a179e6443d9\nCloses-Bug: #1325591\n""}, {'number': 5, 'created': '2014-06-04 03:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/00b4bb348ee4a86608faf00da12a85dd33a13abd', 'message': ""Corrects a flaw in the treatment of swift endpoints\n\nWhen keystone has a registered swift endpoint of which the url does not\nstart\nwith '/v1', the object-store pollster is not able to use it correctly.\nThis commit fixes it's behaviour to provide more flexibility in endpoint\nurls.\n\nChange-Id: I579b1cf450f16853ac49f1d248a64a179e6443d9\nCloses-Bug: #1325591\n""}, {'number': 6, 'created': '2014-06-04 06:24:58.000000000', 'files': ['ceilometer/tests/objectstore/test_swift.py', 'ceilometer/objectstore/swift.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/bbf4f71bde3266f55f17484b9561041d21e3d31a', 'message': ""Corrects a flaw in the treatment of swift endpoints\n\nWhen keystone has a registered swift endpoint of which the url does not start\nwith '/v1', the object-store pollster is not able to use it correctly.\nThis commit fixes it's behaviour to provide more flexibility in endpoint urls.\n\nChange-Id: I579b1cf450f16853ac49f1d248a64a179e6443d9\nCloses-Bug: #1325591\n""}]",25,97474,bbf4f71bde3266f55f17484b9561041d21e3d31a,59,9,6,10789,,,0,"Corrects a flaw in the treatment of swift endpoints

When keystone has a registered swift endpoint of which the url does not start
with '/v1', the object-store pollster is not able to use it correctly.
This commit fixes it's behaviour to provide more flexibility in endpoint urls.

Change-Id: I579b1cf450f16853ac49f1d248a64a179e6443d9
Closes-Bug: #1325591
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/74/97474/5 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/objectstore/test_swift.py', 'ceilometer/objectstore/swift.py']",2,a0d9eee1b11af5bffdce8a529b66669a78580701,bug/1325591," (endpoint, ksclient.auth_token))"," (self._neaten_url(endpoint, t.id), ksclient.auth_token)) @staticmethod def _neaten_url(endpoint, tenant_id): """"""Transform the registered url to standard and valid format. """""" return urlparse.urljoin(endpoint, '/v1/' + cfg.CONF.reseller_prefix + tenant_id)",8,35
openstack%2Fnova~master~Ia8cb2168313903d5255fa2c9616ee2a56aebdb68,openstack/nova,master,Ia8cb2168313903d5255fa2c9616ee2a56aebdb68,Make get_console_output() use objects,MERGED,2014-06-06 19:17:14.000000000,2014-06-17 11:43:28.000000000,2014-06-17 11:43:25.000000000,"[{'_account_id': 3}, {'_account_id': 1501}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 6167}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9407}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-06 19:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4bb9cde53f8616e04f166ade6d3e81a00368fd07', 'message': 'Make get_console_output() use objects\n\nThis changes the get_console_output() method in compute manager to take\nobjects.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Ia8cb2168313903d5255fa2c9616ee2a56aebdb68\n'}, {'number': 2, 'created': '2014-06-10 16:32:12.000000000', 'files': ['nova/tests/api/openstack/compute/contrib/test_console_output.py', 'nova/api/ec2/cloud.py', 'nova/tests/compute/test_rpcapi.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/api/openstack/compute/contrib/console_output.py', 'nova/api/openstack/compute/plugins/v3/console_output.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/56b80902900bc904af1a431c5a7dea06ce0facc0', 'message': 'Make get_console_output() use objects\n\nThis changes the get_console_output() method in compute manager to take\nobjects.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Ia8cb2168313903d5255fa2c9616ee2a56aebdb68\n'}]",5,98499,56b80902900bc904af1a431c5a7dea06ce0facc0,79,12,2,1501,,,0,"Make get_console_output() use objects

This changes the get_console_output() method in compute manager to take
objects.

Related to blueprint compute-manager-objects-juno

Change-Id: Ia8cb2168313903d5255fa2c9616ee2a56aebdb68
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/98499/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/api/openstack/compute/contrib/test_console_output.py', 'nova/api/ec2/cloud.py', 'nova/tests/compute/test_rpcapi.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/api/openstack/compute/contrib/console_output.py', 'nova/api/openstack/compute/plugins/v3/console_output.py']",7,4bb9cde53f8616e04f166ade6d3e81a00368fd07,bp/compute-manager-objects-juno," instance = common.get_instance(self.compute_api, context, id, want_objects=True)"," instance = common.get_instance(self.compute_api, context, id)",19,11
openstack%2Fpuppet-ceph~master~I1bb2b402028df66478039535a3c7b48cbd05dcbb,openstack/puppet-ceph,master,I1bb2b402028df66478039535a3c7b48cbd05dcbb,ceph::osd support for scenario_node_terminus,MERGED,2014-06-05 17:21:06.000000000,2014-06-17 11:30:54.000000000,2014-06-17 11:30:54.000000000,"[{'_account_id': 3}, {'_account_id': 2064}, {'_account_id': 8797}, {'_account_id': 9061}, {'_account_id': 9133}, {'_account_id': 11479}]","[{'number': 1, 'created': '2014-06-05 17:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/b2f0a93c579e0d34d42d778dad86390ac6cbbda0', 'message': 'ceph::osd support for scenario_node_terminus\n\nscenario_node_terminus allow users to specify a data layer that lives on\ntop of Puppet and allows an additional level of flexibility to\ndeployments.\nIt was designed to compose a set of core Puppet modules into multiple\ndeployment permutations (or reference architectures) called scenarios\nwhile requiring as little duplicate code as possible.\n\nThe above description is taken from the source:\nhttps://github.com/bodepd/scenario_node_terminus/\n\nThis patch adds the necessary dependency information to manage\nceph::osd instances while using scenario_node_terminus.\n\nAn integration test which can serve as an example configuration is also\nprovided.\n\nChange-Id: I1bb2b402028df66478039535a3c7b48cbd05dcbb\n'}, {'number': 2, 'created': '2014-06-08 22:26:38.000000000', 'files': ['spec/fixtures/scenario_node_terminus/data/scenarios/2_role.yaml', 'spec/fixtures/scenario_node_terminus/data/scenarios/allinone.yaml', 'spec/fixtures/scenario_node_terminus/data/role_mappings.yaml', 'spec/fixtures/scenario_node_terminus/data/hiera_data/ensure/absent.yaml', 'spec/classes/ceph_osds_spec.rb', 'manifests/osds.pp', 'spec/fixtures/scenario_node_terminus/data/scenarios/auth_type/cephx.yaml', 'spec/fixtures/scenario_node_terminus/data/config.yaml', 'spec/fixtures/scenario_node_terminus/data/hiera_data/ensure/purged.yaml', 'spec/fixtures/scenario_node_terminus/data/hiera_data/scenario/allinone.yaml', 'spec/fixtures/scenario_node_terminus/data/hiera_data/common.yaml', 'manifests/osd.pp', 'spec/fixtures/scenario_node_terminus/hiera.yaml', 'spec/system/ceph_osds_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/1cfa6b28c937b9903b9d32976e42162b0f89c1ac', 'message': 'ceph::osd support for scenario_node_terminus\n\nscenario_node_terminus allow users to specify a data layer that lives on\ntop of Puppet and allows an additional level of flexibility to\ndeployments.\nIt was designed to compose a set of core Puppet modules into multiple\ndeployment permutations (or reference architectures) called scenarios\nwhile requiring as little duplicate code as possible.\n\nThe above description is taken from the source:\nhttps://github.com/bodepd/scenario_node_terminus/\n\nThis patch adds the necessary dependency information to manage\nceph::osd instances while using scenario_node_terminus.\n\nAn integration test which can serve as an example configuration is also\nprovided.\n\nChange-Id: I1bb2b402028df66478039535a3c7b48cbd05dcbb\n'}]",0,98182,1cfa6b28c937b9903b9d32976e42162b0f89c1ac,21,6,2,11479,,,0,"ceph::osd support for scenario_node_terminus

scenario_node_terminus allow users to specify a data layer that lives on
top of Puppet and allows an additional level of flexibility to
deployments.
It was designed to compose a set of core Puppet modules into multiple
deployment permutations (or reference architectures) called scenarios
while requiring as little duplicate code as possible.

The above description is taken from the source:
https://github.com/bodepd/scenario_node_terminus/

This patch adds the necessary dependency information to manage
ceph::osd instances while using scenario_node_terminus.

An integration test which can serve as an example configuration is also
provided.

Change-Id: I1bb2b402028df66478039535a3c7b48cbd05dcbb
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/82/98182/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/fixtures/scenario_node_terminus/data/scenarios/2_role.yaml', 'spec/fixtures/scenario_node_terminus/data/scenarios/allinone.yaml', 'spec/fixtures/scenario_node_terminus/data/role_mappings.yaml', 'spec/fixtures/scenario_node_terminus/data/hiera_data/ensure/absent.yaml', 'spec/classes/ceph_osds_spec.rb', 'manifests/osds.pp', 'spec/fixtures/scenario_node_terminus/data/scenarios/auth_type/cephx.yaml', 'spec/fixtures/scenario_node_terminus/data/config.yaml', 'spec/fixtures/scenario_node_terminus/data/hiera_data/ensure/purged.yaml', 'spec/fixtures/scenario_node_terminus/data/hiera_data/scenario/allinone.yaml', 'spec/fixtures/scenario_node_terminus/data/hiera_data/common.yaml', 'manifests/osd.pp', 'spec/fixtures/scenario_node_terminus/hiera.yaml', 'spec/system/ceph_osds_spec.rb']",14,b2f0a93c579e0d34d42d778dad86390ac6cbbda0,wip-dependencies,"# # Copyright (C) 2014 Nine Internet Solutions AG # # Author: David Gurtner <david@nine.ch> # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # require 'spec_helper_system' describe 'ceph::osds' do releases = ENV['RELEASES'] ? ENV['RELEASES'].split : [ 'dumpling', 'emperor', 'firefly' ] machines = ENV['MACHINES'] ? ENV['MACHINES'].split : [ 'first', 'second' ] # passing it directly as unqoted array is not supported everywhere fsid = 'a4807c9a-e76f-4666-a297-6d6cbc922e3a' admin_key = 'AQA0TVRTsP/aHxAAFBvntu1dSEJHxtJeFFrRsg==' bootstrap_osd_key = 'AQCVio9T+BD9HBAAuSh15WdZYJOrSwnU/cbJsg==' fixture_path = File.expand_path(File.join(File.dirname(__FILE__), '../fixtures')) data = File.join(fixture_path, 'scenario_node_terminus/data') data_path = '/etc/puppet/data' config_file = data_path + '/config.yaml' role_mappings_file = data_path + '/role_mappings.yaml' hiera_config = File.join(fixture_path, 'scenario_node_terminus/hiera.yaml') hiera_config_file = '/etc/puppet/hiera.yaml' user_hiera_file = data_path + '/hiera_data/user.yaml' user_params_file = data_path + '/global_hiera_params/user.yaml' minimal_hiera_config = <<-EOS --- :logger: noop EOS before(:all) do pp = <<-EOS ini_setting { 'puppetmastermodulepath': ensure => present, path => '/etc/puppet/puppet.conf', section => 'main', setting => 'node_terminus', value => 'scenario', } EOS machines.each do |vm| puppet_apply(pp) do |r| r.exit_code.should_not == 1 end rcp(:sp => data, :dp => data_path, :d => node(:name => vm)) rcp(:sp => hiera_config, :dp => hiera_config_file, :d => node(:name => vm)) file = Tempfile.new('config') begin file.write(<<-EOS) scenario: allinone EOS file.close rcp(:sp => file.path, :dp => config_file, :d => node) ensure file.unlink end file = Tempfile.new('role_mappings') begin file.write(<<-EOS) first: allinone second: osd EOS file.close rcp(:sp => file.path, :dp => role_mappings_file, :d => node) ensure file.unlink end end end after(:all) do pp = <<-EOS ini_setting { 'puppetmastermodulepath': ensure => absent, path => '/etc/puppet/puppet.conf', section => 'main', setting => 'node_terminus', value => 'scenario', } EOS machines.each do |vm| puppet_apply(pp) do |r| r.exit_code.should_not == 1 end file = Tempfile.new('hieraconfig') begin file.write(minimal_hiera_config) file.close rcp(:sp => file.path, :dp => hiera_config_file, :d => node(:name => vm)) ensure file.unlink end shell(:node => vm, :command => 'rm -rf /etc/puppet/data') end end releases.each do |release| describe release do after(:each) do file = Tempfile.new('user_params') begin file.write(<<-EOS) ensure: purged EOS file.close rcp(:sp => file.path, :dp => user_params_file, :d => node) ensure file.unlink end machines.each do |vm| puppet_apply('') do |r| r.exit_code.should_not == 1 end shell(:node => vm, :command => 'test -b /dev/sdb && sgdisk --zap-all --clear --mbrtogpt -- /dev/sdb') end end describe 'on one host' do it 'should install one OSD' do file = Tempfile.new('user_hiera_data') begin file.write(<<-EOS) fsid: '#{fsid}' release: #{release} EOS file.close rcp(:sp => file.path, :dp => user_hiera_file, :d => node) ensure file.unlink end file = Tempfile.new('user_params') begin file.write(<<-EOS) ensure: present EOS file.close rcp(:sp => file.path, :dp => user_params_file, :d => node) ensure file.unlink end puppet_apply('') do |r| r.exit_code.should_not == 1 r.refresh r.exit_code.should_not == 1 end shell 'ceph osd tree' do |r| r.stdout.should =~ /osd.0/ r.stderr.should be_empty r.exit_code.should be_zero end end end describe 'on one host', :cephx do it 'should install one OSD' do file = Tempfile.new('user_hiera_data') begin file.write(<<-EOS) --- fsid: '#{fsid}' release: #{release} ceph::keys::args: 'client.admin': secret: '#{admin_key}' cap_mon: 'allow *' cap_osd: 'allow *' cap_mds: allow 'client.bootstrap-osd': secret: '#{bootstrap_osd_key}' cap_mon: 'allow profile bootstrap-osd' keyring_path: '/var/lib/ceph/bootstrap-osd/ceph.keyring' EOS file.close rcp(:sp => file.path, :dp => user_hiera_file, :d => node) ensure file.unlink end file = Tempfile.new('user_params') begin file.write(<<-EOS) auth_type: cephx ensure: present EOS file.close rcp(:sp => file.path, :dp => user_params_file, :d => node) ensure file.unlink end puppet_apply('') do |r| r.exit_code.should_not == 1 r.refresh r.exit_code.should_not == 1 end shell 'ceph osd tree' do |r| r.stdout.should =~ /osd.0/ r.stderr.should be_empty r.exit_code.should be_zero end end end end end end # Local Variables: # compile-command: ""cd ../.. # ( # cd .rspec_system/vagrant_projects/one-ubuntu-server-12042-x64 # vagrant destroy --force # ) # cp -a Gemfile-rspec-system Gemfile # BUNDLE_PATH=/tmp/vendor bundle install --no-deployment # RELEASES=dumpling \ # MACHINES=first \ # RS_DESTROY=no \ # RS_SET=one-ubuntu-server-12042-x64 \ # BUNDLE_PATH=/tmp/vendor \ # bundle exec rake spec:system \ # SPEC=spec/system/ceph_osds_spec.rb \ # SPEC_OPTS='--tag cephx' | tee /tmp/puppet.log && # git checkout Gemfile # "" # End: ",,401,4
openstack%2Fdevstack~master~Id0b441043f8eb5370107e419cdd183b4baa4c863,openstack/devstack,master,Id0b441043f8eb5370107e419cdd183b4baa4c863,Expand variables in get_meta_section_files,ABANDONED,2014-06-10 04:35:55.000000000,2014-06-17 11:28:55.000000000,,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 1894}, {'_account_id': 2750}, {'_account_id': 4726}, {'_account_id': 6854}, {'_account_id': 7118}, {'_account_id': 9009}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-10 04:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/819b883dc478d5aa6e2e7e133ac3a8ba9631f7dc', 'message': ""Expand variables in get_meta_section_files\n\nget_meta_section_files has an implied API of returning each\nconfig-file that is affected by a meta-section command on a new-line.\nThus it should be expanding any variables it might find before\nreturning them, for example\n\n [[post-config|/$Q_PLUGIN_CONF_FILE]]\n\nTo facilitate this, run eval() over the filename to expand it fully.\nUnfortunately, eval() seems like the only option without starting to\nreplicate the semantics of eval itself.  Nothing implies that the\nfile-name should start $ if it is a variable (see counter example\nabove), or N variables ($TOP_DIR/$CONFIG/$FILE...) isn't valid, etc.\n\nA test-case is added to test_config.sh\n\nCloses-bug: #1294213\nChange-Id: Id0b441043f8eb5370107e419cdd183b4baa4c863\n""}, {'number': 2, 'created': '2014-06-10 19:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0eacd77a24b3f826db36c24c3408c943ca474083', 'message': ""Expand variables in get_meta_section_files\n\nget_meta_section_files has an implied API of returning each\nconfig-file that is affected by a meta-section command on a new-line.\nThus it should be expanding any variables it might find before\nreturning them, for example\n\n [[post-config|/$Q_PLUGIN_CONF_FILE]]\n\nTo facilitate this, run eval() over the filename to expand it fully.\nUnfortunately, eval() seems like the only option without starting to\nreplicate the semantics of eval itself.  Nothing implies that the\nfile-name should start $ if it is a variable (see counter example\nabove), or N variables ($TOP_DIR/$CONFIG/$FILE...) isn't valid, etc.\n\nA test-case is added to test_config.sh\n\nCloses-bug: #1294213\nChange-Id: Id0b441043f8eb5370107e419cdd183b4baa4c863\n""}, {'number': 3, 'created': '2014-06-16 10:36:18.000000000', 'files': ['lib/config', 'tests/test_config.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/dafaa7bf0921aa4d659ee1c66ee4e44e4edb23f0', 'message': ""Expand variables in get_meta_section_files\n\nget_meta_section_files has an implied API of returning each\nconfig-file that is affected by a meta-section command on a new-line.\nThus it should be expanding any variables it might find before\nreturning them, for example\n\n [[post-config|/$Q_PLUGIN_CONF_FILE]]\n\nTo facilitate this, run eval() over the filename to expand it fully.\nUnfortunately, eval() seems like the only option without starting to\nreplicate the semantics of eval itself.  Nothing implies that the\nfile-name should start $ if it is a variable (see counter example\nabove), or N variables ($TOP_DIR/$CONFIG/$FILE...) isn't valid, etc.\n\nA test-case is added to test_config.sh\n\nCloses-bug: #1294213\nChange-Id: Id0b441043f8eb5370107e419cdd183b4baa4c863\n""}]",2,98951,dafaa7bf0921aa4d659ee1c66ee4e44e4edb23f0,21,9,3,7118,,,0,"Expand variables in get_meta_section_files

get_meta_section_files has an implied API of returning each
config-file that is affected by a meta-section command on a new-line.
Thus it should be expanding any variables it might find before
returning them, for example

 [[post-config|/$Q_PLUGIN_CONF_FILE]]

To facilitate this, run eval() over the filename to expand it fully.
Unfortunately, eval() seems like the only option without starting to
replicate the semantics of eval itself.  Nothing implies that the
file-name should start $ if it is a variable (see counter example
above), or N variables ($TOP_DIR/$CONFIG/$FILE...) isn't valid, etc.

A test-case is added to test_config.sh

Closes-bug: #1294213
Change-Id: Id0b441043f8eb5370107e419cdd183b4baa4c863
",git fetch https://review.opendev.org/openstack/devstack refs/changes/51/98951/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/config', 'tests/test_config.sh']",2,819b883dc478d5aa6e2e7e133ac3a8ba9631f7dc,config-variable," [[test4|/etc/\$VARIABLE]] [DEFAULT] attribute=value echo -n ""get_meta_section_files: test4 has variable: "" VARIABLE=""foobar"" VAL=$(get_meta_section_files test.conf test4) unset VARIABLE EXPECT_VAL=""/etc/foobar"" check_result ""$VAL"" ""$EXPECT_VAL""", ,23,4
openstack%2Fironic-specs~master~I7dcdcda84dd57344177156aadb5d49c96687337f,openstack/ironic-specs,master,I7dcdcda84dd57344177156aadb5d49c96687337f,More robust device status checking with fuser,MERGED,2014-06-12 09:19:49.000000000,2014-06-17 11:25:35.000000000,2014-06-17 11:25:35.000000000,"[{'_account_id': 3}, {'_account_id': 6773}, {'_account_id': 7419}, {'_account_id': 10239}, {'_account_id': 10343}]","[{'number': 1, 'created': '2014-06-12 09:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e1eb8ef03e71e51e6109d8b52de0b7884903f6b8', 'message': 'More robust device status checking with fuser\n\nThis spec adds support for a less error prone device status checking\nwith fuser after partitioning.\n\nChange-Id: I7dcdcda84dd57344177156aadb5d49c96687337f\n'}, {'number': 2, 'created': '2014-06-12 13:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/05957a311491270c3bcfec869e426910e636210c', 'message': 'More robust device status checking with fuser\n\nThis spec adds support for a less error prone device status checking\nwith fuser after partitioning.\n\nChange-Id: I7dcdcda84dd57344177156aadb5d49c96687337f\n'}, {'number': 3, 'created': '2014-06-13 12:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/2fed23a0a1e4810f94166b5541b397c1a23d9ff5', 'message': 'More robust device status checking with fuser\n\nThis spec adds support for a less error prone device status checking\nwith fuser after partitioning.\n\nChange-Id: I7dcdcda84dd57344177156aadb5d49c96687337f\n'}, {'number': 4, 'created': '2014-06-13 13:08:38.000000000', 'files': ['specs/juno/device-status-check-with-fuser.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/2b2d45344ffe18291ee13ecd4b7d663d970cdb04', 'message': 'More robust device status checking with fuser\n\nThis spec adds support for a less error prone device status checking\nwith fuser after partitioning.\n\nChange-Id: I7dcdcda84dd57344177156aadb5d49c96687337f\n'}]",9,99605,2b2d45344ffe18291ee13ecd4b7d663d970cdb04,25,5,4,7419,,,0,"More robust device status checking with fuser

This spec adds support for a less error prone device status checking
with fuser after partitioning.

Change-Id: I7dcdcda84dd57344177156aadb5d49c96687337f
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/05/99605/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/robust-device-status-checking-with-fuser.rst'],1,e1eb8ef03e71e51e6109d8b52de0b7884903f6b8,fuser_check,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================= More robust device status checking with fuser ============================================= https://blueprints.launchpad.net/ironic/+spec/example (none yet) Implement a more robust device status checking with fuser to avoid ""device is busy"" issues after partitioning. Problem description =================== Right after partitioning, we have a sleep(3) call to avoid the ""device is busy"" problem. A less error-prone solution is to check with fuser, whether there is any process currently using the disk. Proposed change =============== Replace the sleep call with a check of the mounted device with fuser. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Driver API impact ----------------- None Nova driver impact ------------------ None Security impact --------------- None Other end user impact --------------------- The deployment can raise InstanceDeployFailure after partitioning if the device is not available after a configurable number of retries. Scalability impact ------------------ None Performance Impact ------------------ Instead of sleeping every time for 3 seconds, fuser will check the status immediately after the partitioning is done. This can result in an shorter deployment time. Other deployer impact --------------------- New config options in the ``disk_partitioner`` group: * check_device_interval: After Ironic has completed creating the partition table, it continues to check for activity on the attached iSCSI device status at this interval prior to detaching it. Default is 1 second. * check_device_max_retries: Number of retries for checking the device status. Default is 20. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: ifarkas Other contributors: None Work Items ---------- * Add config options to ``disk_partitioner`` group. * Implement the device status check with LoopingCall. Dependencies ============ * This patch requires fuser to be installed. Testing ======= * Unit tests Documentation Impact ==================== Documentation should include instructions on how to configure the device status check. References ========== None ",,135,0
openstack%2Ffuel-library~master~Ic8daace980f2cb01feeb1f8006c9ca22d4a6a8f2,openstack/fuel-library,master,Ic8daace980f2cb01feeb1f8006c9ca22d4a6a8f2,Limit HAProxy exec check to primary controller,MERGED,2014-06-16 15:08:29.000000000,2014-06-17 11:12:26.000000000,2014-06-17 11:12:26.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 6926}, {'_account_id': 7468}, {'_account_id': 8787}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 10489}]","[{'number': 1, 'created': '2014-06-16 15:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/c225bb14fc2e7c8fd12f01a7e0a873d9ede52daf', 'message': 'Limit HAProxy exec check to primary controller\n\nHAProxy IP is controlled by Pacemaker/Corosync. Exec fails on all Slave controllers.\nThis patch limit verification to primary controller only.\n\nChange-Id: Ic8daace980f2cb01feeb1f8006c9ca22d4a6a8f2\nCloses-Bug: 1329780\nRelated-Bug: 1321662\n'}, {'number': 2, 'created': '2014-06-16 15:09:13.000000000', 'files': ['deployment/puppet/osnailyfacter/manifests/cluster_ha.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/b846e7ac26b9b58f96c837240b6ad043329c331a', 'message': 'Limit HAProxy exec check to primary controller\n\nHAProxy IP is controlled by Pacemaker/Corosync. Exec fails on all Slave controllers.\nThis patch limits exec check to primary controller only.\n\nChange-Id: Ic8daace980f2cb01feeb1f8006c9ca22d4a6a8f2\nCloses-Bug: 1329780\nRelated-Bug: 1321662\n'}]",0,100274,b846e7ac26b9b58f96c837240b6ad043329c331a,22,8,2,11090,,,0,"Limit HAProxy exec check to primary controller

HAProxy IP is controlled by Pacemaker/Corosync. Exec fails on all Slave controllers.
This patch limits exec check to primary controller only.

Change-Id: Ic8daace980f2cb01feeb1f8006c9ca22d4a6a8f2
Closes-Bug: 1329780
Related-Bug: 1321662
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/74/100274/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/osnailyfacter/manifests/cluster_ha.pp'],1,c225bb14fc2e7c8fd12f01a7e0a873d9ede52daf,bug/1329780," if $::fuel_settings['role'] == 'primary-controller' { exec { 'wait-for-haproxy-nova-backend': command => ""echo show stat | socat unix-connect:///var/lib/haproxy/stats stdio | grep -q '^nova-api-2,BACKEND,.*,UP,'"", path => ['/usr/bin', '/usr/sbin', '/sbin', '/bin'], try_sleep => 5, tries => 60, } } Class['nova::api', 'openstack::ha::nova'] -> Exec<| title=='wait-for-haproxy-nova-backend' |> -> Nova_floating_range <| |> Class['heat'] -> Class['murano']"," exec { 'wait-for-haproxy-nova-backend': command => ""echo show stat | socat unix-connect:///var/lib/haproxy/stats stdio | grep -q '^nova-api-2,BACKEND,.*,UP,'"", path => ['/usr/bin', '/usr/sbin', '/sbin', '/bin'], try_sleep => 5, tries => 60, }-> Class['nova::api', 'openstack::ha::nova'] -> Nova_floating_range <| |> Class['heat'] -> Class['murano']",13,9
openstack%2Ffuel-web~master~I812090e081aae955df94e61e414fa81c452b4b68,openstack/fuel-web,master,I812090e081aae955df94e61e414fa81c452b4b68,"Upgrades, created iptables cleaning mechanism",MERGED,2014-06-16 16:10:25.000000000,2014-06-17 11:07:35.000000000,2014-06-17 11:07:34.000000000,"[{'_account_id': 3}, {'_account_id': 8749}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}]","[{'number': 1, 'created': '2014-06-16 16:10:25.000000000', 'files': ['fuel_upgrade_system/fuel_upgrade/fuel_upgrade/tests/test_utils.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/utils.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/engines/docker_engine.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/tests/test_docker_upgrader.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/4cbf6876ccaa51b41bd9e01a1845e0cc952cae39', 'message': ""Upgrades, created iptables cleaning mechanism\n\nSometimes when we run docker stop\n(version dc9c28f/0.10.0) it doesn't clean\niptables rules, as result when we run new\ncontainer on the same port we have two rules\nwith the same port but with different IPs,\nwe have to clean this rules to prevent services\nunavailability.\n\nExample of the problem:\n  $ iptables -t nat -S\n  ...\n  -A DOCKER -p tcp -m tcp --dport 443 -j DNAT \\\n    --to-destination 172.17.0.7:443\n  -A DOCKER -p tcp -m tcp --dport 443 -j DNAT \\\n    --to-destination 172.17.0.3:443\n\nblueprint upgrade-to-5-1\n\nChange-Id: I812090e081aae955df94e61e414fa81c452b4b68\n""}]",0,100287,4cbf6876ccaa51b41bd9e01a1845e0cc952cae39,12,5,1,8749,,,0,"Upgrades, created iptables cleaning mechanism

Sometimes when we run docker stop
(version dc9c28f/0.10.0) it doesn't clean
iptables rules, as result when we run new
container on the same port we have two rules
with the same port but with different IPs,
we have to clean this rules to prevent services
unavailability.

Example of the problem:
  $ iptables -t nat -S
  ...
  -A DOCKER -p tcp -m tcp --dport 443 -j DNAT \
    --to-destination 172.17.0.7:443
  -A DOCKER -p tcp -m tcp --dport 443 -j DNAT \
    --to-destination 172.17.0.3:443

blueprint upgrade-to-5-1

Change-Id: I812090e081aae955df94e61e414fa81c452b4b68
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/87/100287/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_upgrade_system/fuel_upgrade/fuel_upgrade/tests/test_utils.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/utils.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/engines/docker_engine.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/tests/test_docker_upgrader.py']",4,4cbf6876ccaa51b41bd9e01a1845e0cc952cae39,bp/upgrade-to-5-1," ports = [1, 2, 3] self.upgrader._get_docker_container_public_ports = mock.MagicMock( return_value=ports) self.upgrader.clean_docker_iptables_rules = mock.MagicMock() self.upgrader.clean_docker_iptables_rules.assert_called_once_with( ports) def test_get_docker_container_public_ports(self, _): docker_ports_mapping = [ {'Ports': [ {'PublicPort': 514}, {'PublicPort': 515}]}, {'Ports': [ {'PublicPort': 516}, {'PublicPort': 517}]}] self.assertEquals( [514, 515, 516, 517], self.upgrader._get_docker_container_public_ports( docker_ports_mapping)) @mock.patch('fuel_upgrade.engines.docker_engine.utils.exec_cmd_iterator') def test_clean_docker_iptables_rules( self, exec_cmd_iterator_mock, exec_cmd_mock): iptables_rules = [ '-A DOCKER -p tcp -m tcp --dport 1 -j DNAT ' '--to-destination 172.17.0.7:1', '-A POSTROUTING -p tcp -m tcp --dport 3 -j DNAT ' '--to-destination 172.17.0.7:3', '-A DOCKER -p tcp -m tcp --dport 2 -j DNAT ' '--to-destination 172.17.0.3:2'] exec_cmd_iterator_mock.return_value = iter(iptables_rules) self.upgrader.clean_docker_iptables_rules([1, 2, 3]) expected_calls = [ (('iptables -t nat -D DOCKER -p tcp -m tcp --dport 1 -j DNAT ' '--to-destination 172.17.0.7:1',),), (('iptables -t nat -D DOCKER -p tcp -m tcp --dport 2 -j DNAT ' '--to-destination 172.17.0.3:2',),)] self.assertEquals(exec_cmd_mock.call_args_list, expected_calls)",,161,5
openstack%2Ffuel-web~master~I9812d5bd9b51236893b7fb1d51ea3010e43bb9d2,openstack/fuel-web,master,I9812d5bd9b51236893b7fb1d51ea3010e43bb9d2,Fuel upgrade. Moved DockerUpgrader and DockerInitializer in separate module,MERGED,2014-06-16 11:36:48.000000000,2014-06-17 11:06:56.000000000,2014-06-17 11:06:55.000000000,"[{'_account_id': 3}, {'_account_id': 8749}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}]","[{'number': 1, 'created': '2014-06-16 11:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/f7ce712aa750fb1eb8203793cf7cb3fcb224a285', 'message': 'Fuel upgrade. Moved DockerUpgrader and DockerInitializer\nin separate module\n\nblueprint upgrade-to-5-1\n\nChange-Id: I9812d5bd9b51236893b7fb1d51ea3010e43bb9d2\n'}, {'number': 2, 'created': '2014-06-16 16:10:25.000000000', 'files': ['fuel_upgrade_system/fuel_upgrade/fuel_upgrade/engines/docker_engine.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/upgrade.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/cli.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/tests/test_docker_upgrader.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/d5809b96d1a88e36d9709fd4ec8e75159d339d69', 'message': 'Fuel upgrade. Moved DockerUpgrader and DockerInitializer\nin separate module\n\nblueprint upgrade-to-5-1\n\nChange-Id: I9812d5bd9b51236893b7fb1d51ea3010e43bb9d2\n'}]",0,100225,d5809b96d1a88e36d9709fd4ec8e75159d339d69,23,5,2,8749,,,0,"Fuel upgrade. Moved DockerUpgrader and DockerInitializer
in separate module

blueprint upgrade-to-5-1

Change-Id: I9812d5bd9b51236893b7fb1d51ea3010e43bb9d2
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/25/100225/2 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_upgrade_system/fuel_upgrade/fuel_upgrade/engines/docker_engine.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/upgrade.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/cli.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/tests/test_docker_upgrader.py']",4,f7ce712aa750fb1eb8203793cf7cb3fcb224a285,bp/upgrade-to-5-1,"from fuel_upgrade.engines.docker_engine import DockerUpgrader@mock.patch('fuel_upgrade.engines.docker_engine.utils.exec_cmd') 'fuel_upgrade.engines.docker_engine.docker.Client') 'fuel_upgrade.engines.docker_engine.SupervisorClient') @mock.patch('fuel_upgrade.engines.docker_engine.time.sleep') @mock.patch('fuel_upgrade.engines.docker_engine.os.path.exists', return_value=True) 'fuel_upgrade.engines.docker_engine.utils.file_contains_lines', returns_value=True) 'fuel_upgrade.engines.docker_engine.os.path.exists', side_effect=[False, True]) @mock.patch( 'fuel_upgrade.engines.docker_engine.os.remove') @mock.patch( 'fuel_upgrade.engines.docker_engine.os.path.exists', return_value=True) @mock.patch( 'fuel_upgrade.engines.docker_engine.utils.file_contains_lines', returns_value=True)","from fuel_upgrade.upgrade import DockerUpgrader@mock.patch('fuel_upgrade.upgrade.utils.exec_cmd') 'fuel_upgrade.upgrade.docker.Client') 'fuel_upgrade.upgrade.SupervisorClient') @mock.patch('fuel_upgrade.upgrade.time.sleep') @mock.patch('fuel_upgrade.upgrade.os.path.exists', return_value=True) 'fuel_upgrade.upgrade.utils.file_contains_lines', returns_value=True) 'fuel_upgrade.upgrade.os.path.exists', side_effect=[False, True]) @mock.patch('fuel_upgrade.upgrade.os.remove') @mock.patch('fuel_upgrade.upgrade.os.path.exists', return_value=True) @mock.patch('fuel_upgrade.upgrade.utils.file_contains_lines', returns_value=True)",780,752
openstack%2Fnova~master~Ifa6348fa7dfd9de063eb13d30e3ddf94fa530b57,openstack/nova,master,Ifa6348fa7dfd9de063eb13d30e3ddf94fa530b57,Test force_config_drive as a boolean as last resort,MERGED,2014-05-16 03:29:23.000000000,2014-06-17 10:50:01.000000000,2014-06-17 09:19:19.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 642}, {'_account_id': 1653}, {'_account_id': 2271}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 8787}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-05-16 03:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f69c2d4665780dd5a02d116347d344288a7d3416', 'message': ""Test force_config_drive as a boolean as last resort\n\nThe force_config_drive help clearly states that only possible option is\n'always' but folks are setting it to 'True'/'False' etc and expecting\nit to work. So let's enable that as well. In the worst case scenario\nmentioned in the bug, it was set to 'False' and since the check for\nforce_config_drive took any string as true, we were enabling the flag\nto true. With the change in this review, we force a conversion of the\nstring to true. Additional check for the flag to be set as 'always' is\ntreated as true as well. The test case checks for all the variations\n\nCloses-Bug: #1319180\nDocImpact\n\nChange-Id: Ifa6348fa7dfd9de063eb13d30e3ddf94fa530b57\n""}, {'number': 2, 'created': '2014-05-16 12:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1cf1178d2730552620fdc477b985fe33354a220', 'message': ""Test force_config_drive as a boolean as last resort\n\nThe force_config_drive help clearly states that only possible option is\n'always' but folks are setting it to 'True'/'False' etc and expecting\nit to work. So let's enable that as well. In the worst case scenario\nmentioned in the bug, it was set to 'False' and since the check for\nforce_config_drive took any string as true, we were enabling the flag\nto true. With the change in this review, we force a conversion of the\nstring to true. Additional check for the flag to be set as 'always' is\ntreated as true as well. The test case checks for all the variations\n\nCloses-Bug: #1319180\nDocImpact\n\nChange-Id: Ifa6348fa7dfd9de063eb13d30e3ddf94fa530b57\n""}, {'number': 3, 'created': '2014-05-26 18:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/34338449e46c5d98ff21f53905da7ca7ce3e62c4', 'message': ""Test force_config_drive as a boolean as last resort\n\nThe force_config_drive help clearly states that only possible option is\n'always' but folks are setting it to 'True'/'False' etc and expecting\nit to work. So let's enable that as well. In the worst case scenario\nmentioned in the bug, it was set to 'False' and since the check for\nforce_config_drive took any string as true, we were enabling the flag\nto true. With the change in this review, we force a conversion of the\nstring to true. Additional check for the flag to be set as 'always' is\ntreated as true as well. The test case checks for all the variations\n\nCloses-Bug: #1319180\nDocImpact\n\nChange-Id: Ifa6348fa7dfd9de063eb13d30e3ddf94fa530b57\n""}, {'number': 4, 'created': '2014-06-04 10:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3445f681bb3b767bc9d517e0fbbe9fa4951de309', 'message': ""Test force_config_drive as a boolean as last resort\n\nThe force_config_drive help clearly states that only possible option is\n'always' but folks are setting it to 'True'/'False' etc and expecting\nit to work. So let's enable that as well. In the worst case scenario\nmentioned in the bug, it was set to 'False' and since the check for\nforce_config_drive took any string as true, we were enabling the flag\nto true. With the change in this review, we force a conversion of the\nstring to true. Additional check for the flag to be set as 'always' is\ntreated as true as well. The test case checks for all the variations\n\nCloses-Bug: #1319180\nDocImpact\n\nChange-Id: Ifa6348fa7dfd9de063eb13d30e3ddf94fa530b57\n""}, {'number': 5, 'created': '2014-06-16 21:52:54.000000000', 'files': ['nova/tests/virt/test_configdrive.py', 'nova/virt/configdrive.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/de92d65f2981b826e145e82ab2734c19bf1dffa3', 'message': ""Test force_config_drive as a boolean as last resort\n\nThe force_config_drive help clearly states that only possible option is\n'always' but folks are setting it to 'True'/'False' etc and expecting\nit to work. So let's enable that as well. In the worst case scenario\nmentioned in the bug, it was set to 'False' and since the check for\nforce_config_drive took any string as true, we were enabling the flag\nto true. With the change in this review, we force a conversion of the\nstring to true. Additional check for the flag to be set as 'always' is\ntreated as true as well. The test case checks for all the variations\n\nCloses-Bug: #1319180\nDocImpact\n\nChange-Id: Ifa6348fa7dfd9de063eb13d30e3ddf94fa530b57\n""}]",6,93842,de92d65f2981b826e145e82ab2734c19bf1dffa3,65,14,5,5638,,,0,"Test force_config_drive as a boolean as last resort

The force_config_drive help clearly states that only possible option is
'always' but folks are setting it to 'True'/'False' etc and expecting
it to work. So let's enable that as well. In the worst case scenario
mentioned in the bug, it was set to 'False' and since the check for
force_config_drive took any string as true, we were enabling the flag
to true. With the change in this review, we force a conversion of the
string to true. Additional check for the flag to be set as 'always' is
treated as true as well. The test case checks for all the variations

Closes-Bug: #1319180
DocImpact

Change-Id: Ifa6348fa7dfd9de063eb13d30e3ddf94fa530b57
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/93842/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/test_configdrive.py', 'nova/virt/configdrive.py']",2,f69c2d4665780dd5a02d116347d344288a7d3416,bug/1319180,from nova.openstack.common import strutils return (instance.get('config_drive') or 'always' == CONF.force_config_drive or strutils.bool_from_string(CONF.force_config_drive)), return instance.get('config_drive') or CONF.force_config_drive,33,1
openstack%2Fceilometer~master~If0bc1c8fc96ba513bbeb90d5257e40b7621a8473,openstack/ceilometer,master,If0bc1c8fc96ba513bbeb90d5257e40b7621a8473,Fix list of modules not included in auto-gen docs,MERGED,2014-06-02 15:30:03.000000000,2014-06-17 10:31:35.000000000,2014-06-17 10:31:34.000000000,"[{'_account_id': 3}, {'_account_id': 2284}, {'_account_id': 2813}, {'_account_id': 3012}, {'_account_id': 4491}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 7729}, {'_account_id': 8871}, {'_account_id': 9562}]","[{'number': 1, 'created': '2014-06-02 15:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/40af15921b25eb8ddfb8e77215ad20d4cce16ece', 'message': 'Fix list of modules not included in auto-gen docs.\n\nThe variable for excluding modules should be a sequence of strings.\nTurn the current value from a string to a tuple so documentation\nfor our source is generated.\n\nChange-Id: If0bc1c8fc96ba513bbeb90d5257e40b7621a8473\n'}, {'number': 2, 'created': '2014-06-03 11:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1802b28aa1289f8ef3ff16ee84e6d62e27270367', 'message': 'Fix list of modules not included in auto-gen docs\n\nThe variable for excluding modules should be a sequence of strings.\nTurn the current value from a string to a tuple so documentation\nfor our source is generated.\n\nThe errors and warnings were fixed in the docstrings in the source code\notherwise the doc generation would fail.\n\nChange-Id: If0bc1c8fc96ba513bbeb90d5257e40b7621a8473\n'}, {'number': 3, 'created': '2014-06-04 13:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/fea484675f2996b7205497c4c68bd89f3b5055de', 'message': 'Fix list of modules not included in auto-gen docs\n\nThe variable for excluding modules should be a sequence of strings.\nTurn the current value from a string to a tuple so documentation\nfor our source is generated.\n\nThe errors and warnings were fixed in the docstrings in the source code\notherwise the doc generation would fail.\n\nChange-Id: If0bc1c8fc96ba513bbeb90d5257e40b7621a8473\n'}, {'number': 4, 'created': '2014-06-04 15:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3cb431b09b5105343f018f4e7f5a1c24e98668d9', 'message': 'Fix list of modules not included in auto-gen docs\n\nThe variable for excluding modules should be a sequence of strings.\nTurn the current value from a string to a tuple so documentation\nfor our source is generated.\n\nThe errors and warnings were fixed in the docstrings in the source code\notherwise the doc generation would fail.\n\nChange-Id: If0bc1c8fc96ba513bbeb90d5257e40b7621a8473\n'}, {'number': 5, 'created': '2014-06-05 06:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/44cbbd248791d289c3c48d1a842510f753e4cde9', 'message': ""Fix list of modules not included in auto-gen docs\n\nThe variable for excluding modules should be a sequence of strings.\nTurn the current value from a string to a tuple so documentation\nfor our source is generated.\n\nThe errors and warnings were fixed in the docstrings in the source code\notherwise the doc generation would fail.\n\nA fix was proposed to oslo-incubator for fixing a wrong Sphinx directive\nname: https://review.openstack.org/#/c/97850/\n\nThe following files were excluded from the doc build because of\nnon-existing imports:\n\n 'ceilometer.compute.nova_notifier'\n 'ceilometer.openstack.common.middleware.audit'\n 'ceilometer.openstack.common.middleware.notifier'\n 'ceilometer.openstack.common.log_handler'\n\nThese failed imports will be handled in bug reports.\n\nChange-Id: If0bc1c8fc96ba513bbeb90d5257e40b7621a8473\n""}, {'number': 6, 'created': '2014-06-06 09:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6abf258b36f3cb4467fc79eba0916bd0d766985a', 'message': ""Fix list of modules not included in auto-gen docs\n\nThe variable for excluding modules should be a sequence of strings.\nTurn the current value from a string to a tuple so documentation\nfor our source is generated.\n\nThe errors and warnings were fixed in the docstrings in the source code\notherwise the doc generation would fail.\n\nA fix was proposed to oslo-incubator for fixing a wrong Sphinx directive\nname: https://review.openstack.org/#/c/97850/\n\nThe following files were excluded from the doc build because of\nnon-existing imports:\n\n 'ceilometer.compute.nova_notifier'\n    http://bit.ly/remove-nova-notifier-bp\n 'ceilometer.openstack.common.middleware.audit'\n 'ceilometer.openstack.common.middleware.notifier'\n    https://bugs.launchpad.net/ceilometer/+bug/1327084\n 'ceilometer.openstack.common.log_handler'\n    https://bugs.launchpad.net/ceilometer/+bug/1327076\n\nThese failed imports are registered in one blueprint and two bug reports.\n\nChange-Id: If0bc1c8fc96ba513bbeb90d5257e40b7621a8473\n""}, {'number': 7, 'created': '2014-06-09 16:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f051f35b39ea94318e93da4705bd578d7fe50bad', 'message': ""Fix list of modules not included in auto-gen docs\n\nThe variable for excluding modules should be a sequence of strings.\nTurn the current value from a string to a tuple so documentation\nfor our source is generated.\n\nThe errors and warnings were fixed in the docstrings in the source code\notherwise the doc generation would fail.\n\nThe following files were excluded from the doc build because of\nnon-existing imports:\n\n 'ceilometer.compute.nova_notifier'\n    http://bit.ly/remove-nova-notifier-bp\n 'ceilometer.openstack.common.db.sqlalchemy.session'\n    https://review.openstack.org/#/c/97850/\n 'ceilometer.openstack.common.middleware.audit'\n 'ceilometer.openstack.common.middleware.notifier'\n    https://bugs.launchpad.net/ceilometer/+bug/1327084\n 'ceilometer.openstack.common.log_handler'\n    https://bugs.launchpad.net/ceilometer/+bug/1327076\n\nThese failed imports are registered in one blueprint and two bug reports.\n\nChange-Id: If0bc1c8fc96ba513bbeb90d5257e40b7621a8473\n""}, {'number': 8, 'created': '2014-06-09 19:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a91f5c072e8ffe8d80f36fe6d8d68752008a32a8', 'message': ""Fix list of modules not included in auto-gen docs\n\nThe variable for excluding modules should be a sequence of strings.\nTurn the current value from a string to a tuple so documentation\nfor our source is generated.\n\nThe errors and warnings were fixed in the docstrings in the source code\notherwise the doc generation would fail.\n\nThe following files were excluded from the doc build because of\nnon-existing imports:\n\n 'ceilometer.compute.nova_notifier'\n    http://bit.ly/remove-nova-notifier-bp\n 'ceilometer.openstack.common.db.sqlalchemy.session'\n    https://review.openstack.org/#/c/97850/\n 'ceilometer.openstack.common.middleware.audit'\n 'ceilometer.openstack.common.middleware.notifier'\n    https://bugs.launchpad.net/ceilometer/+bug/1327084\n 'ceilometer.openstack.common.log_handler'\n    https://bugs.launchpad.net/ceilometer/+bug/1327076\n\nThese failed imports are registered in one blueprint and two bug reports, a link to the oslo-incubator fix is also added, that fix is added to this code base in a separate patch set.\n\nChange-Id: If0bc1c8fc96ba513bbeb90d5257e40b7621a8473\n""}, {'number': 9, 'created': '2014-06-09 19:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b54729be9ad811041586f04d98fa0ed813f3ebfe', 'message': ""Fix list of modules not included in auto-gen docs\n\nThe variable for excluding modules should be a sequence of strings.\nTurn the current value from a string to a tuple so documentation\nfor our source is generated.\n\nThe errors and warnings were fixed in the docstrings in the source code\notherwise the doc generation would fail.\n\nThe following files were excluded from the doc build because of\nnon-existing imports:\n\n 'ceilometer.compute.nova_notifier'\n    http://bit.ly/remove-nova-notifier-bp\n 'ceilometer.openstack.common.db.sqlalchemy.session'\n    https://review.openstack.org/#/c/97850/\n 'ceilometer.openstack.common.middleware.audit'\n 'ceilometer.openstack.common.middleware.notifier'\n    https://bugs.launchpad.net/ceilometer/+bug/1327084\n 'ceilometer.openstack.common.log_handler'\n    https://bugs.launchpad.net/ceilometer/+bug/1327076\n\nThese failed imports are registered in one blueprint and two bug\nreports, a link to the oslo-incubator fix is also added, that\nfix is added to this code base in a separate patch set.\n\nChange-Id: If0bc1c8fc96ba513bbeb90d5257e40b7621a8473\n""}, {'number': 10, 'created': '2014-06-11 07:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/da514e2a455daaa367a65b4268445a1c47bb8c9e', 'message': ""Fix list of modules not included in auto-gen docs\n\nThe variable for excluding modules should be a sequence of strings.\nTurn the current value from a string to a tuple so documentation\nfor our source is generated.\n\nThe errors and warnings were fixed in the docstrings in the source code\notherwise the doc generation would fail.\n\nThe following files were excluded from the doc build because of\nnon-existing imports:\n\n 'ceilometer.compute.nova_notifier'\n    http://bit.ly/remove-nova-notifier-bp\n 'ceilometer.openstack.common.db.sqlalchemy.session'\n    https://review.openstack.org/#/c/97850/\n 'ceilometer.openstack.common.middleware.audit'\n 'ceilometer.openstack.common.middleware.notifier'\n    https://bugs.launchpad.net/ceilometer/+bug/1327084\n 'ceilometer.openstack.common.log_handler'\n    https://bugs.launchpad.net/ceilometer/+bug/1327076\n\nThese failed imports are registered in one blueprint and two bug reports.\n\nChange-Id: If0bc1c8fc96ba513bbeb90d5257e40b7621a8473\n""}, {'number': 11, 'created': '2014-06-16 07:08:59.000000000', 'files': ['ceilometer/storage/impl_mongodb.py', 'ceilometer/event/trait_plugins.py', 'ceilometer/objectstore/swift_middleware.py', 'ceilometer/storage/impl_hbase.py', 'ceilometer/event/converter.py', 'ceilometer/alarm/service.py', 'ceilometer/storage/__init__.py', 'doc/source/conf.py', 'ceilometer/publisher/file.py', 'ceilometer/network/statistics/opendaylight/driver.py', 'ceilometer/network/statistics/opencontrail/driver.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/702d99937edce9f42fff834db1aed26881a293b4', 'message': ""Fix list of modules not included in auto-gen docs\n\nThe variable for excluding modules should be a sequence of strings.\nTurn the current value from a string to a tuple so documentation\nfor our source is generated.\n\nThe errors and warnings were fixed in the docstrings in the source code\notherwise the doc generation would fail.\n\nThe following files were excluded from the doc build because of\nnon-existing imports:\n\n 'ceilometer.compute.nova_notifier'\n    http://bit.ly/remove-nova-notifier-bp\n 'ceilometer.openstack.common.db.sqlalchemy.session'\n    https://review.openstack.org/#/c/97850/\n 'ceilometer.openstack.common.middleware.audit'\n 'ceilometer.openstack.common.middleware.notifier'\n    https://bugs.launchpad.net/ceilometer/+bug/1327084\n 'ceilometer.openstack.common.log_handler'\n    https://bugs.launchpad.net/ceilometer/+bug/1327076\n\nThese failed imports are registered in one blueprint and two bug reports.\n\nChange-Id: If0bc1c8fc96ba513bbeb90d5257e40b7621a8473\n""}]",48,97268,702d99937edce9f42fff834db1aed26881a293b4,127,10,11,2472,,,0,"Fix list of modules not included in auto-gen docs

The variable for excluding modules should be a sequence of strings.
Turn the current value from a string to a tuple so documentation
for our source is generated.

The errors and warnings were fixed in the docstrings in the source code
otherwise the doc generation would fail.

The following files were excluded from the doc build because of
non-existing imports:

 'ceilometer.compute.nova_notifier'
    http://bit.ly/remove-nova-notifier-bp
 'ceilometer.openstack.common.db.sqlalchemy.session'
    https://review.openstack.org/#/c/97850/
 'ceilometer.openstack.common.middleware.audit'
 'ceilometer.openstack.common.middleware.notifier'
    https://bugs.launchpad.net/ceilometer/+bug/1327084
 'ceilometer.openstack.common.log_handler'
    https://bugs.launchpad.net/ceilometer/+bug/1327076

These failed imports are registered in one blueprint and two bug reports.

Change-Id: If0bc1c8fc96ba513bbeb90d5257e40b7621a8473
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/68/97268/8 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,40af15921b25eb8ddfb8e77215ad20d4cce16ece,bug/1317648," EXCLUDED_MODULES = ('ceilometer.tests',)", EXCLUDED_MODULES = ('ceilometer.tests'),1,1
openstack%2Fhorizon~master~I0e85bcc79e1e0e2aefc841ff213ca025cfb9b847,openstack/horizon,master,I0e85bcc79e1e0e2aefc841ff213ca025cfb9b847,Admin Hypervisor table - change order of columns,MERGED,2014-06-10 06:08:06.000000000,2014-06-17 10:31:27.000000000,2014-06-17 10:31:27.000000000,"[{'_account_id': 3}, {'_account_id': 4264}, {'_account_id': 6914}, {'_account_id': 9622}, {'_account_id': 10112}, {'_account_id': 11885}]","[{'number': 1, 'created': '2014-06-10 06:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/240d0b3ee4e90afbb48eda2b9006a3e4b8a35fdc', 'message': ""Admin Hypervisor table - change order of columns\n   Swap the order of the columns show\n   'Used | Total' instead of vice versa.\n\nCloses-Bug: #1328267\n\nChange-Id: I0e85bcc79e1e0e2aefc841ff213ca025cfb9b847\n""}, {'number': 2, 'created': '2014-06-10 08:20:23.000000000', 'files': ['openstack_dashboard/dashboards/admin/hypervisors/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/adcf8961a18fe1de40ab507983786b6fef8f2781', 'message': ""Admin Hypervisor table - change order of columns\n\nSwap the order of the columns show\n'Used | Total' instead of vice versa.\n\nCloses-Bug: #1328267\n\nChange-Id: I0e85bcc79e1e0e2aefc841ff213ca025cfb9b847\n""}]",0,98959,adcf8961a18fe1de40ab507983786b6fef8f2781,18,6,2,6706,,,0,"Admin Hypervisor table - change order of columns

Swap the order of the columns show
'Used | Total' instead of vice versa.

Closes-Bug: #1328267

Change-Id: I0e85bcc79e1e0e2aefc841ff213ca025cfb9b847
",git fetch https://review.opendev.org/openstack/horizon refs/changes/59/98959/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/admin/hypervisors/tables.py'],1,240d0b3ee4e90afbb48eda2b9006a3e4b8a35fdc,lp/1328267," vcpus = tables.Column(""vcpus"", verbose_name=_(""VCPUs (total)"")) memory = tables.Column('memory_mb', verbose_name=_(""RAM (total)""), attrs={'data-type': 'size'}, filters=(sizeformat.mb_float_format,)) filters=(sizeformat.diskgbformat,)) local = tables.Column('local_gb', verbose_name=_(""Storage (total)""), attrs={'data-type': 'size'},"," vcpus = tables.Column(""vcpus"", verbose_name=_(""VCPUs (total)"")) memory = tables.Column('memory_mb', verbose_name=_(""RAM (total)""), attrs={'data-type': 'size'}, filters=(sizeformat.mb_float_format,)) local = tables.Column('local_gb', verbose_name=_(""Storage (total)""), attrs={'data-type': 'size'}, filters=(sizeformat.diskgbformat,))",11,11
openstack%2Foslo.messaging~stable%2Ficehouse~I678b31668136ec793f7f4dfadbf64cd4760af8d5,openstack/oslo.messaging,stable/icehouse,I678b31668136ec793f7f4dfadbf64cd4760af8d5,Updated from global requirements,MERGED,2014-05-22 18:12:35.000000000,2014-06-17 10:30:45.000000000,2014-06-17 10:30:45.000000000,"[{'_account_id': 3}, {'_account_id': 1247}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 6537}, {'_account_id': 6786}, {'_account_id': 6873}, {'_account_id': 8041}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-05-22 18:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d61b0eb6bed522858ed6784c54e6d53ca043a567', 'message': 'Updated from global requirements\n\nChange-Id: I678b31668136ec793f7f4dfadbf64cd4760af8d5\n'}, {'number': 2, 'created': '2014-06-17 02:25:16.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/c21a2c22b355e79170d26abc9505ebe0e60aec35', 'message': 'Updated from global requirements\n\nChange-Id: I678b31668136ec793f7f4dfadbf64cd4760af8d5\n'}]",0,94972,c21a2c22b355e79170d26abc9505ebe0e60aec35,31,9,2,11131,,,0,"Updated from global requirements

Change-Id: I678b31668136ec793f7f4dfadbf64cd4760af8d5
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/72/94972/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d61b0eb6bed522858ed6784c54e6d53ca043a567,openstack/requirements,six>=1.6.0,six>=1.5.2,1,1
openstack%2Fpython-novaclient~master~Ia3517e705f894b48585b957c21e7a3a6ed90e586,openstack/python-novaclient,master,Ia3517e705f894b48585b957c21e7a3a6ed90e586,Bump hacking to 0.9.x series,MERGED,2014-06-16 07:04:36.000000000,2014-06-17 10:30:42.000000000,2014-06-17 10:30:42.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 8871}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-06-16 07:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/44742f1690a76d0b4c1600087e6140885c7b4d62', 'message': 'Bump hacking to 0.9.x series\n\nIn order to keep this patch to just a requirements bump, ignore new and\nstricter hacking rules that are being triggered. Fixing up the code and\nturning these on is out of scope of this patch and is for future\npatches.\n\nChange-Id: Ia3517e705f894b48585b957c21e7a3a6ed90e586\n'}, {'number': 2, 'created': '2014-06-16 16:31:05.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/9f92301983a0a7218396cf14bd2b8fcd4b3b9e48', 'message': 'Bump hacking to 0.9.x series\n\nIn order to keep this patch to just a requirements bump, ignore new and\nstricter hacking rules that are being triggered. Fixing up the code and\nturning these on is out of scope of this patch and is for future\npatches.\n\nChange-Id: Ia3517e705f894b48585b957c21e7a3a6ed90e586\n'}]",1,100161,9f92301983a0a7218396cf14bd2b8fcd4b3b9e48,23,6,2,1849,,,0,"Bump hacking to 0.9.x series

In order to keep this patch to just a requirements bump, ignore new and
stricter hacking rules that are being triggered. Fixing up the code and
turning these on is out of scope of this patch and is for future
patches.

Change-Id: Ia3517e705f894b48585b957c21e7a3a6ed90e586
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/61/100161/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,44742f1690a76d0b4c1600087e6140885c7b4d62,hacking,"# TODO fix following rules from hacking 0.9 # E131,E265,H233,H305,H307,H402,H405,H904 ignore = E12,E131,E265,F841,F811,F821,H233,H302,H305,H307,H402,H404,H405,H904","ignore = E12,F841,F811,F821,H302,H404",4,2
openstack%2Fheat~master~Idbd78a3a2a8d0c32fb26c7d0c38c87857d1565d8,openstack/heat,master,Idbd78a3a2a8d0c32fb26c7d0c38c87857d1565d8,Set rollback status early in update if triggered,MERGED,2014-05-06 13:38:59.000000000,2014-06-17 10:28:08.000000000,2014-06-17 10:28:07.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 6488}, {'_account_id': 7404}, {'_account_id': 8871}, {'_account_id': 9542}]","[{'number': 1, 'created': '2014-05-06 13:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/64be261d558394759cdec1e4b3d19cda2be2fe3b', 'message': 'Set rollback status early in update if triggered\n\nBefore when rollback was triggered during stack update, the stack continued to\nhave status UPDATE_IN_PROGRESS, and only at the very end flipped to\nROLLBACK_COMPLETE.\nThis patch sets the stack state to ROLLBACK as soon as\nrollback is started to notify the user properly on the action being\nperformed.\n\nChange-Id: Idbd78a3a2a8d0c32fb26c7d0c38c87857d1565d8\nCloses-Bug: #1316558\n'}, {'number': 2, 'created': '2014-05-20 11:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ff34ee1eceae53fb0a3af99dd4a04a53abf09a74', 'message': 'Set rollback status early in update if triggered\n\nBefore when rollback was triggered during stack update, the stack continued to\nhave status UPDATE_IN_PROGRESS, and only at the very end flipped to\nROLLBACK_COMPLETE.\nThis patch sets the stack state to ROLLBACK as soon as\nrollback is started to notify the user properly on the action being\nperformed.\n\nChange-Id: Idbd78a3a2a8d0c32fb26c7d0c38c87857d1565d8\nCloses-Bug: #1316558\n'}, {'number': 3, 'created': '2014-06-02 06:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c5e0974c97ad1b8900005355936ae4e3334310ea', 'message': 'Set rollback status early in update if triggered\n\nBefore when rollback was triggered during stack update, the stack continued to\nhave status UPDATE_IN_PROGRESS, and only at the very end flipped to\nROLLBACK_COMPLETE.\nThis patch sets the stack state to ROLLBACK as soon as\nrollback is started to notify the user properly on the action being\nperformed.\n\nChange-Id: Idbd78a3a2a8d0c32fb26c7d0c38c87857d1565d8\nCloses-Bug: #1316558\n'}, {'number': 4, 'created': '2014-06-02 09:27:12.000000000', 'files': ['heat/engine/parser.py', 'heat/tests/test_parser.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/7c9494a910f30afb734e00d2bbfd6c994cacc507', 'message': 'Set rollback status early in update if triggered\n\nBefore when rollback was triggered during stack update, the stack continued to\nhave status UPDATE_IN_PROGRESS, and only at the very end flipped to\nROLLBACK_COMPLETE.\nThis patch sets the stack state to ROLLBACK as soon as\nrollback is started to notify the user properly on the action being\nperformed.\n\nChange-Id: Idbd78a3a2a8d0c32fb26c7d0c38c87857d1565d8\nCloses-Bug: #1316558\n'}]",1,92371,7c9494a910f30afb734e00d2bbfd6c994cacc507,43,6,4,9542,,,0,"Set rollback status early in update if triggered

Before when rollback was triggered during stack update, the stack continued to
have status UPDATE_IN_PROGRESS, and only at the very end flipped to
ROLLBACK_COMPLETE.
This patch sets the stack state to ROLLBACK as soon as
rollback is started to notify the user properly on the action being
performed.

Change-Id: Idbd78a3a2a8d0c32fb26c7d0c38c87857d1565d8
Closes-Bug: #1316558
",git fetch https://review.opendev.org/openstack/heat refs/changes/71/92371/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/parser.py'],1,64be261d558394759cdec1e4b3d19cda2be2fe3b,bug/1316558-set-rollback-early," self.state_set(action, self.IN_PROGRESS,"," self.state_set(self.UPDATE, self.IN_PROGRESS,",1,1
openstack%2Fmistral~master~I22068fca1982e533c04449a85e8284eaf115f90b,openstack/mistral,master,I22068fca1982e533c04449a85e8284eaf115f90b,Added information about automated tests,MERGED,2014-06-10 16:03:00.000000000,2014-06-17 10:27:07.000000000,2014-06-17 10:27:07.000000000,"[{'_account_id': 3}, {'_account_id': 4715}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9432}, {'_account_id': 9537}]","[{'number': 1, 'created': '2014-06-10 16:03:00.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/6ec7aef6c1be1daf2b9175389abea01c3e44d994', 'message': 'Added information about automated tests\n\nThe link on the Wiki page was added to the README file.\nThis Wiki page describes automated tests for Mistral project.\n\nChange-Id: I22068fca1982e533c04449a85e8284eaf115f90b\n'}]",0,99139,6ec7aef6c1be1daf2b9175389abea01c3e44d994,12,6,1,7227,,,0,"Added information about automated tests

The link on the Wiki page was added to the README file.
This Wiki page describes automated tests for Mistral project.

Change-Id: I22068fca1982e533c04449a85e8284eaf115f90b
",git fetch https://review.opendev.org/openstack/mistral refs/changes/39/99139/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,6ec7aef6c1be1daf2b9175389abea01c3e44d994,, Tests ----- Information about automated tests for Mistral can be found here: https://wiki.openstack.org/wiki/Mistral/Testing,,5,0
openstack%2Ffuel-ostf~master~I76383da70062b1194a44fe8628222ba45a220e3d,openstack/fuel-ostf,master,I76383da70062b1194a44fe8628222ba45a220e3d,Add ceilometer compute notifications ostf tests,MERGED,2014-06-06 09:33:37.000000000,2014-06-17 10:23:44.000000000,2014-06-16 11:18:49.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 7126}, {'_account_id': 7227}, {'_account_id': 7428}, {'_account_id': 8592}, {'_account_id': 8824}, {'_account_id': 8882}, {'_account_id': 8907}, {'_account_id': 8931}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-06-06 09:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/12017d5557c285a51b0d3951ff9cca27e8c3732c', 'message': 'Add ceilometer compute notifications ostf tests\n\nRefactor all ceilometer ostf tests and add tests for\nceilometer compute notifications: memory, vcpus, disk.root.size,\ndisk.ephemeral.size\n\nCloses-Bug: #1312175\nPartially implements: ceilometer-ostf-notification-tests\n\nChange-Id: I76383da70062b1194a44fe8628222ba45a220e3d\n'}, {'number': 2, 'created': '2014-06-06 09:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/01fb490e0c5c3ef4a016e4c4929e01eef181a628', 'message': 'Add ceilometer compute notifications ostf tests\n\nRefactor all ceilometer ostf tests and add tests for\nceilometer compute notifications: memory, vcpus, disk.root.size,\ndisk.ephemeral.size\n\nCloses-Bug: #1312175\nPartially implements: blueprint ceilometer-ostf-notification-tests\n\nChange-Id: I76383da70062b1194a44fe8628222ba45a220e3d\n'}, {'number': 3, 'created': '2014-06-09 08:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/89d91a1bff8c71ddf542ac7b5229f5fdaa6d1963', 'message': 'Add ceilometer compute notifications ostf tests\n\nRefactor all ceilometer ostf tests and add tests for\nceilometer compute notifications: memory, vcpus, disk.root.size,\ndisk.ephemeral.size\n\nCloses-Bug: #1312175\nPartially implements: blueprint ceilometer-ostf-notification-tests\n\nChange-Id: I76383da70062b1194a44fe8628222ba45a220e3d\n'}, {'number': 4, 'created': '2014-06-09 08:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/1f8e8f0a861edffc01fe904fc195d75b5dddbbde', 'message': 'Add ceilometer compute notifications ostf tests\n\nRefactor all ceilometer ostf tests and add tests for\nceilometer compute notifications: memory, vcpus, disk.root.size,\ndisk.ephemeral.size\n\nCloses-Bug: #1312175\nPartially implements: blueprint ceilometer-ostf-notification-tests\n\nChange-Id: I76383da70062b1194a44fe8628222ba45a220e3d\n'}, {'number': 5, 'created': '2014-06-09 09:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/159e527b9a38bd21fad6d2cbf90128d57472341b', 'message': 'Add ceilometer compute notifications ostf tests\n\nRefactor all ceilometer ostf tests and add tests for\nceilometer compute notifications: memory, vcpus, disk.root.size,\ndisk.ephemeral.size\n\nCloses-Bug: #1312175\nPartially implements: blueprint ceilometer-ostf-notification-tests\n\nChange-Id: I76383da70062b1194a44fe8628222ba45a220e3d\n'}, {'number': 6, 'created': '2014-06-09 10:35:42.000000000', 'files': ['fuel_health/tests/smoke/test_nova_create_instance_with_connectivity.py', 'fuel_health/tests/platform_tests/test_create_alarm.py', 'fuel_health/nmanager.py', 'fuel_health/tests/platform_tests/test_ceilometer.py', 'fuel_health/ceilometermanager.py', 'fuel_health/tests/sanity/test_sanity_ceilometer.py'], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/8d83f4566e901305da66c11fc496da84b3f3e7ae', 'message': 'Add ceilometer compute notifications ostf tests\n\nRefactor all ceilometer ostf tests and add tests for\nceilometer compute notifications: memory, vcpus, disk.root.size,\ndisk.ephemeral.size\n\nCloses-Bug: #1312175\nPartially implements: blueprint ceilometer-ostf-notification-tests\n\nChange-Id: I76383da70062b1194a44fe8628222ba45a220e3d\n'}]",20,98344,8d83f4566e901305da66c11fc496da84b3f3e7ae,47,11,6,7126,,,0,"Add ceilometer compute notifications ostf tests

Refactor all ceilometer ostf tests and add tests for
ceilometer compute notifications: memory, vcpus, disk.root.size,
disk.ephemeral.size

Closes-Bug: #1312175
Partially implements: blueprint ceilometer-ostf-notification-tests

Change-Id: I76383da70062b1194a44fe8628222ba45a220e3d
",git fetch https://review.opendev.org/openstack/fuel-ostf refs/changes/44/98344/6 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_health/tests/smoke/test_nova_create_instance_with_connectivity.py', 'fuel_health/tests/platform_tests/test_create_alarm.py', 'fuel_health/nmanager.py', 'fuel_health/tests/platform_tests/test_ceilometer.py', 'fuel_health/ceilometermanager.py', 'fuel_health/tests/sanity/test_sanity_ceilometer.py']",6,12017d5557c285a51b0d3951ff9cca27e8c3732c,bp/ceilometer-ostf-notification-tests," self.verify(60, self.ceilometer_client.meters.list, self.verify(60, self.ceilometer_client.alarms.list, self.verify(60, self.ceilometer_client.resources.list,","import logging LOG = logging.getLogger(__name__) def tearDown(self): super(CeilometerApiTests, self).tearDown() pass self.verify(60, self.list_meters, self.verify(60, self.list_alarm, self.verify(60, self.list_resources,",285,303
openstack%2Ftraining-guides~master~I0394c5ea4e3f75a9d9bee30d119e047a762e86ce,openstack/training-guides,master,I0394c5ea4e3f75a9d9bee30d119e047a762e86ce,Enable autostart in osbash,MERGED,2014-06-17 09:27:44.000000000,2014-06-17 10:16:34.000000000,2014-06-17 10:16:34.000000000,"[{'_account_id': 3}, {'_account_id': 6923}, {'_account_id': 7007}]","[{'number': 1, 'created': '2014-06-17 09:27:44.000000000', 'files': ['labs/scripts/osbash/template-osbashauto', 'labs/scripts/osbash/activate_autostart.sh'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/8c7bbe82be9be6b6247c778ef78e54aa2fb37722', 'message': 'Enable autostart in osbash\n\nThis change enables autostart functionality for osbash.\n\nactivate_autostart is called by a minimal script written by\npreseed/kickstart files (if configured).\n\nIt creates (and grants sudo privileges to) the osbash user if\nthat has not been done by preseed/kickstart.\n\nIt uses template-osbashauto to generate /etc/init.d/osbashauto and\nconfigures the system to run the script immediately and during every\nsubsequent system boot.\n\nosbashauto iterates over all files in the autostart directory (in the\nVirtualBox shared folder; filled by osbash from the host side) and\nexecutes them as the osbash user. It writes its log files into the log\ndirectory in the shared folder.\n\nPartial-Bug: 1312764\nImplements: blueprint openstack-training-labs\nChange-Id: I0394c5ea4e3f75a9d9bee30d119e047a762e86ce\n'}]",1,100466,8c7bbe82be9be6b6247c778ef78e54aa2fb37722,7,3,1,11109,,,0,"Enable autostart in osbash

This change enables autostart functionality for osbash.

activate_autostart is called by a minimal script written by
preseed/kickstart files (if configured).

It creates (and grants sudo privileges to) the osbash user if
that has not been done by preseed/kickstart.

It uses template-osbashauto to generate /etc/init.d/osbashauto and
configures the system to run the script immediately and during every
subsequent system boot.

osbashauto iterates over all files in the autostart directory (in the
VirtualBox shared folder; filled by osbash from the host side) and
executes them as the osbash user. It writes its log files into the log
directory in the shared folder.

Partial-Bug: 1312764
Implements: blueprint openstack-training-labs
Change-Id: I0394c5ea4e3f75a9d9bee30d119e047a762e86ce
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/66/100466/1 && git format-patch -1 --stdout FETCH_HEAD,"['labs/scripts/osbash/template-osbashauto', 'labs/scripts/osbash/activate_autostart.sh']",2,8c7bbe82be9be6b6247c778ef78e54aa2fb37722,bug/1312764,"#!/usr/bin/env bash # This script is the first to run and the only one to run as root. # XXX The name activate_autostart.sh is hard-coded in ks.cfg and preseed.cfg. # Remove files that called us (written by {ks,preseed}.cfg) rm -f /etc/init.d/osbash /etc/rc2.d/S40osbash TOP_DIR=$(cd $(dirname ""$0"")/.. && pwd) source ""$TOP_DIR/config/paths"" # source_deploy doesn't work here source ""$CONFIG_DIR/deploy.osbash"" source ""$LIB_DIR/functions.guest"" readonly RCAUTOSTART=osbashauto indicate_current_auto # This guest script doesn't write to $HOME; the log file's extension is .auto exec_logfile ""$LOG_DIR"" ""auto"" # Some guest additions leave a broken symlink /sbin/mount.vboxsf as_root_fix_mount_vboxsf_link if ! id -u ""$VM_SHELL_USER"" >/dev/null 2>&1; then # User doesn't exist -> add useradd osbash -G vboxsf echo ""$VM_SHELL_USER:$VM_SHELL_USER"" | chpasswd elif ! id -Gn ""$VM_SHELL_USER"" >/dev/null 2>&1 | grep -q vboxsf; then # User isn't in group vboxsf -> add usermod -a -G vboxsf ""$VM_SHELL_USER"" fi as_root_inject_sudoer if [ ! -f ""$OSBASH_SCRIPTS_DIR/template-$RCAUTOSTART"" ]; then echo ""Template not found: $OSBASH_SCRIPTS_DIR/template-$RCAUTOSTART"" exit 1 fi # LOG_DIR and SHARE_DIR are based on the temporary mount point /media/sf_* # which won't be there after reboot; use new paths for osbashauto NLOG_DIR=""/$SHARE_NAME/$(basename ""$LOG_DIR"")"" sed -e "" s,%SHARE_NAME%,$SHARE_NAME,g; s,%VM_SHELL_USER%,$VM_SHELL_USER,g; s,%NLOG_DIR%,$NLOG_DIR,g; s,%RCAUTOSTART%,$RCAUTOSTART,g; "" ""$OSBASH_SCRIPTS_DIR/template-$RCAUTOSTART"" > ""/etc/init.d/$RCAUTOSTART"" chmod 755 ""/etc/init.d/$RCAUTOSTART"" if is_fedora; then cat << SERVICE > /etc/systemd/system/$RCAUTOSTART.service [Unit] Description=OpenStack autostart Requires=vboxadd-service.service After=vboxadd-service.service vboxadd.service [Service] ExecStart=/etc/init.d/$RCAUTOSTART [Install] WantedBy=multi-user.target SERVICE systemctl enable ""$RCAUTOSTART.service"" systemctl start ""$RCAUTOSTART.service"" else ln -s ""../init.d/$RCAUTOSTART"" ""/etc/rc2.d/S99$RCAUTOSTART"" fi ",,127,0
openstack%2Fpython-muranoclient~master~Icd0c1b92aac7185d099e050b5cd42ad23317afb2,openstack/python-muranoclient,master,Icd0c1b92aac7185d099e050b5cd42ad23317afb2,Correct muranoclient service_get function,MERGED,2014-06-10 23:01:31.000000000,2014-06-17 10:16:00.000000000,2014-06-17 10:16:00.000000000,"[{'_account_id': 3}, {'_account_id': 7226}, {'_account_id': 7227}, {'_account_id': 7549}, {'_account_id': 7600}, {'_account_id': 8040}, {'_account_id': 8127}, {'_account_id': 11096}, {'_account_id': 11098}]","[{'number': 1, 'created': '2014-06-10 23:01:31.000000000', 'files': ['muranoclient/v1/services.py', 'muranoclient/v1/shell.py'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/246dfe417fcee4b8bf0a3c82f439d2b1ab121746', 'message': ""Correct muranoclient service_get function\n\n{env_id}/services/{service_id} was using Manager._list instead of\nManager._get, resulting in an error processing the return value\n(a dictionary). Patch changes it to use _get and adds a shell function\nto test it.\n\nFurther work should be done on the services API since it's not terribly\nuseful without massaging the response data.\n\nChange-Id: Icd0c1b92aac7185d099e050b5cd42ad23317afb2\nCloses-Bug: #1326382\n""}]",0,99232,246dfe417fcee4b8bf0a3c82f439d2b1ab121746,14,9,1,10063,,,0,"Correct muranoclient service_get function

{env_id}/services/{service_id} was using Manager._list instead of
Manager._get, resulting in an error processing the return value
(a dictionary). Patch changes it to use _get and adds a shell function
to test it.

Further work should be done on the services API since it's not terribly
useful without massaging the response data.

Change-Id: Icd0c1b92aac7185d099e050b5cd42ad23317afb2
Closes-Bug: #1326382
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/32/99232/1 && git format-patch -1 --stdout FETCH_HEAD,"['muranoclient/v1/services.py', 'muranoclient/v1/shell.py']",2,246dfe417fcee4b8bf0a3c82f439d2b1ab121746,bugs/1326382," @utils.arg(""environment_id"") @utils.arg(""path"") def do_service_show(mc, args): service = mc.services.get(args.environment_id, args.path) to_display = dict( name=service.name, id=getattr(service, '?')['id'], type=getattr(service, '?')['type'] ) utils.print_dict(to_display)",,14,2
openstack%2Ffuel-web~master~Id8aa372b730db76c0a68c49b2fc5f0a6539c8667,openstack/fuel-web,master,Id8aa372b730db76c0a68c49b2fc5f0a6539c8667,Fix for reset deployment UI test,MERGED,2014-06-16 11:58:21.000000000,2014-06-17 10:14:36.000000000,2014-06-17 10:14:35.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 9091}]","[{'number': 1, 'created': '2014-06-16 11:58:21.000000000', 'files': ['nailgun/ui_tests/test_cluster_stop_reset_deployment.js'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/a66c187a42e4ac25be93b67e221a473795127bd6', 'message': 'Fix for reset deployment UI test\n\nChange-Id: Id8aa372b730db76c0a68c49b2fc5f0a6539c8667\n'}]",0,100228,a66c187a42e4ac25be93b67e221a473795127bd6,12,5,1,9730,,,0,"Fix for reset deployment UI test

Change-Id: Id8aa372b730db76c0a68c49b2fc5f0a6539c8667
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/28/100228/1 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/ui_tests/test_cluster_stop_reset_deployment.js'],1,a66c187a42e4ac25be93b67e221a473795127bd6,, this.loadPage('#cluster/1/nodes').waitForSelector('#tab-nodes > *'); ,,1,0
openstack%2Fmanila~master~Ie7b3f08d5efcd8571d108b99ed766f10771398a2,openstack/manila,master,Ie7b3f08d5efcd8571d108b99ed766f10771398a2,devstack: strip obsolete part of m-shr instumentation,MERGED,2014-06-02 15:43:25.000000000,2014-06-17 10:10:53.000000000,2014-06-17 10:10:53.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 7534}, {'_account_id': 8851}, {'_account_id': 9521}]","[{'number': 1, 'created': '2014-06-02 15:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c208274673f4787300049d9cee84fea9dc23ae9e', 'message': 'devstack: fix loop device setup for m-shr\n\nThe command that\'s being ran in the m-shr screen window\nsets up and utilizes the variable $devloop (to serve\nas condition for loop device setup). We should\ninject this string verbatim to the screen window.\n\n- the screen wrapper is called like\n    screen_it ... ""... [[ \\$( \\$devloop ) != ... ]] ...""\n- what we expect to appear in the window is\n   ... [[ $( $devloop ) != ... ]] ...\n- what actually appears in the window is\n   ... [[ $( ) != ... ]] ...\n  with the consequence that a fresh loop device\n  is created no matter whether there is already\n  one\n\nSo the backslash-dollar syntactic construct is good\nenough to prevent the interpretation of the variable\nwithin the double-quoted string, but not good enough\nto prevent screen itself to interpret the variable\nbefore injecting it.\n\nI could not find any escaping voodoo to ban off screen\nfrom tempering with $devloop. So as workaround, here\nwe make it into a function.\n\nChange-Id: Ie7b3f08d5efcd8571d108b99ed766f10771398a2\n'}, {'number': 2, 'created': '2014-06-05 06:02:26.000000000', 'files': ['contrib/devstack/lib/manila'], 'web_link': 'https://opendev.org/openstack/manila/commit/1108a11d5683570c816637b1c610a6936b0320a7', 'message': ""devstack: strip obsolete part of m-shr instumentation\n\nThe standard way of running services in screen windows\nis the\n\n$ cd $<SERVICE>_DIR && <SERVICE_CMD> --config-file $<SERVICE>_CONF\n\nIn case of the m-shr window (manila-share service) this was prefixed\nwith some initialization command to work around some initialization\ncontext issues.\n\nThat's not required anymore, as those were specific to the lvm\ndriver, and now Manila is configured with lvm as default.\n(If someone wishes to use lvm s/he can be referred to the cinder-volume\nservice which exhibits an issue analogous to that of Manila's lvm).\n\nSo we can go back to the standard format.\n\nChange-Id: Ie7b3f08d5efcd8571d108b99ed766f10771398a2\n""}]",5,97271,1108a11d5683570c816637b1c610a6936b0320a7,21,5,2,9521,,,0,"devstack: strip obsolete part of m-shr instumentation

The standard way of running services in screen windows
is the

$ cd $<SERVICE>_DIR && <SERVICE_CMD> --config-file $<SERVICE>_CONF

In case of the m-shr window (manila-share service) this was prefixed
with some initialization command to work around some initialization
context issues.

That's not required anymore, as those were specific to the lvm
driver, and now Manila is configured with lvm as default.
(If someone wishes to use lvm s/he can be referred to the cinder-volume
service which exhibits an issue analogous to that of Manila's lvm).

So we can go back to the standard format.

Change-Id: Ie7b3f08d5efcd8571d108b99ed766f10771398a2
",git fetch https://review.opendev.org/openstack/manila refs/changes/71/97271/2 && git format-patch -1 --stdout FETCH_HEAD,['contrib/devstack/lib/manila'],1,c208274673f4787300049d9cee84fea9dc23ae9e,devstack-fix," screen_it m-shr ""sudo service $samba_daemon_name stop; ( devloop() { sudo losetup -j ${SHARE_BACKING_FILE:-$DATA_DIR/${SHARE_GROUP}-backing-file}; }; if [[ \$( devloop ) != *'/dev/loop'* ]]; then sudo losetup -f ${SHARE_BACKING_FILE:-$DATA_DIR/${SHARE_GROUP}-backing-file}; fi ); cd $MANILA_DIR && $MANILA_BIN_DIR/manila-share --config-file $MANILA_CONF"""," screen_it m-shr ""sudo service $samba_daemon_name stop; devloop='sudo losetup -j ${SHARE_BACKING_FILE:-$DATA_DIR/${SHARE_GROUP}-backing-file}'; if [[ \$( \$devloop ) != *'/dev/loop'* ]]; then sudo losetup -f ${SHARE_BACKING_FILE:-$DATA_DIR/${SHARE_GROUP}-backing-file}; fi; cd $MANILA_DIR && $MANILA_BIN_DIR/manila-share --config-file $MANILA_CONF""",1,1
openstack%2Fsolum~master~I8b3622b9fafd5e5ea3ec048a18a892d03d2d15fd,openstack/solum,master,I8b3622b9fafd5e5ea3ec048a18a892d03d2d15fd,Updated from global requirements,MERGED,2014-06-10 14:40:59.000000000,2014-06-17 09:58:26.000000000,2014-06-17 09:58:26.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 4715}, {'_account_id': 8334}, {'_account_id': 9537}, {'_account_id': 9548}]","[{'number': 1, 'created': '2014-06-10 14:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/9b51e9051bb63e7b7271e11d9f52fb99bd90178b', 'message': 'Updated from global requirements\n\nChange-Id: I8b3622b9fafd5e5ea3ec048a18a892d03d2d15fd\n'}, {'number': 2, 'created': '2014-06-11 01:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/811d563751ca6a8193a1d31af74a8934d3ba5c8c', 'message': 'Updated from global requirements\n\nChange-Id: I8b3622b9fafd5e5ea3ec048a18a892d03d2d15fd\n'}, {'number': 3, 'created': '2014-06-12 05:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/1263296b5fe514cb8562a1f735c61047134ff238', 'message': 'Updated from global requirements\n\nChange-Id: I8b3622b9fafd5e5ea3ec048a18a892d03d2d15fd\n'}, {'number': 4, 'created': '2014-06-12 21:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/a6766cfc05f34f1ba6d5e8e3a260aaa0d59401f6', 'message': 'Updated from global requirements\n\nChange-Id: I8b3622b9fafd5e5ea3ec048a18a892d03d2d15fd\n'}, {'number': 5, 'created': '2014-06-13 22:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/f98e524de6c12abac36b78362379902d2b3baa64', 'message': 'Updated from global requirements\n\nChange-Id: I8b3622b9fafd5e5ea3ec048a18a892d03d2d15fd\n'}, {'number': 6, 'created': '2014-06-16 09:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/2e950e7cdbb33fa6223836aa44b48a4a41386086', 'message': 'Updated from global requirements\n\nChange-Id: I8b3622b9fafd5e5ea3ec048a18a892d03d2d15fd\n'}, {'number': 7, 'created': '2014-06-17 07:45:53.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/solum/commit/c556bb5da7f7aa080b83aefb4a3c377a90317b97', 'message': 'Updated from global requirements\n\nChange-Id: I8b3622b9fafd5e5ea3ec048a18a892d03d2d15fd\n'}]",0,99103,c556bb5da7f7aa080b83aefb4a3c377a90317b97,30,6,7,11131,,,0,"Updated from global requirements

Change-Id: I8b3622b9fafd5e5ea3ec048a18a892d03d2d15fd
",git fetch https://review.opendev.org/openstack/solum refs/changes/03/99103/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,9b51e9051bb63e7b7271e11d9f52fb99bd90178b,openstack/requirements,"hacking>=0.8.0,<0.10,!=0.9.0","hacking>=0.8.0,<0.9",1,1
openstack%2Fsolum~master~I54e3dd4116ccd5898d6098a5bb6ed0fc4cae82cd,openstack/solum,master,I54e3dd4116ccd5898d6098a5bb6ed0fc4cae82cd,Fix pep errors of recently merged patches,MERGED,2014-06-17 07:45:53.000000000,2014-06-17 09:58:07.000000000,2014-06-17 09:58:07.000000000,"[{'_account_id': 3}, {'_account_id': 8334}, {'_account_id': 9537}]","[{'number': 1, 'created': '2014-06-17 07:45:53.000000000', 'files': ['solum/tests/api/handlers/test_pipeline.py', 'functionaltests/api/v1/test_language_pack.py', 'functionaltests/api/v1/test_assembly.py', 'functionaltests/api/v1/test_service.py', 'functionaltests/api/v1/public/test_trigger.py', 'solum/tests/api/v1/test_pipeline.py', 'functionaltests/api/v1/test_plan.py', 'functionaltests/api/v1/test_component.py', 'solum/api/handlers/pipeline_handler.py', 'functionaltests/api/v1/test_root.py', 'solum/api/controllers/v1/plan.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/03868eccce87fe6e4ad69d097f350fbe32c8de72', 'message': 'Fix pep errors of recently merged patches\n\nChange-Id: I54e3dd4116ccd5898d6098a5bb6ed0fc4cae82cd\n'}]",0,100439,03868eccce87fe6e4ad69d097f350fbe32c8de72,8,3,1,4715,,,0,"Fix pep errors of recently merged patches

Change-Id: I54e3dd4116ccd5898d6098a5bb6ed0fc4cae82cd
",git fetch https://review.opendev.org/openstack/solum refs/changes/39/100439/1 && git format-patch -1 --stdout FETCH_HEAD,"['functionaltests/api/v1/test_language_pack.py', 'solum/tests/api/handlers/test_pipeline.py', 'functionaltests/api/v1/test_assembly.py', 'functionaltests/api/v1/test_service.py', 'functionaltests/api/v1/public/test_trigger.py', 'solum/tests/api/v1/test_pipeline.py', 'functionaltests/api/v1/test_plan.py', 'functionaltests/api/v1/test_component.py', 'solum/api/handlers/pipeline_handler.py', 'functionaltests/api/v1/test_root.py', 'solum/api/controllers/v1/plan.py']",11,03868eccce87fe6e4ad69d097f350fbe32c8de72,openstack/requirements,import sys ,import sys,35,28
openstack%2Fnova~master~I66141652962222171b39da0023674968f5ba3d45,openstack/nova,master,I66141652962222171b39da0023674968f5ba3d45,Format ephemeral disk with specified format in libvirt,ABANDONED,2014-04-01 04:38:09.000000000,2014-06-17 09:58:05.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 8163}, {'_account_id': 8247}, {'_account_id': 8278}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-01 04:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e062215dab21ee1ce614efa4db5f88b4e565dab', 'message': 'Format ephemeral disk with specified format\n\nnovaclient has following command parameters:\n--ephemeral size=<size>[,format=<format>]\nCreate and attach a local ephemeral block device of\n<size> GB and format it to <format>.\n\nso mkfs should use the specified format instead of using\ndefault format.\n\nChange-Id: I66141652962222171b39da0023674968f5ba3d45\nCloses-Bug: #1280132\n'}, {'number': 2, 'created': '2014-04-01 08:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d28ad993f46e7bdcdb9e2829013f4bac4cfe4338', 'message': 'Format ephemeral disk with specified format in libvirt\n\nnovaclient has following command parameters:\n--ephemeral size=<size>[,format=<format>]\nCreate and attach a local ephemeral block device of\n<size> GB and format it to <format>.\n\nso mkfs should use the specified format instead of using\ndefault format.\n\nChange-Id: I66141652962222171b39da0023674968f5ba3d45\nCloses-Bug: #1280132\n'}, {'number': 3, 'created': '2014-04-02 01:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21bfe813fef66df27f4baca49c8a7867d8be3f01', 'message': 'Format ephemeral disk with specified format in libvirt\n\nnovaclient has following command parameters:\n--ephemeral size=<size>[,format=<format>]\nCreate and attach a local ephemeral block device of\n<size> GB and format it to <format>.\n\nso mkfs should use the specified format instead of using\ndefault format.\n\nChange-Id: I66141652962222171b39da0023674968f5ba3d45\nCloses-Bug: #1280132\n'}, {'number': 4, 'created': '2014-04-03 01:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1cd49745e935a081f9e48446d7ab7cfdfc607e83', 'message': 'Format ephemeral disk with specified format in libvirt\n\nnovaclient has following command parameters:\n--ephemeral size=<size>[,format=<format>]\nCreate and attach a local ephemeral block device of\n<size> GB and format it to <format>.\n\nso mkfs should use the specified format instead of using\ndefault format.\n\nChange-Id: I66141652962222171b39da0023674968f5ba3d45\nCloses-Bug: #1280132\n'}, {'number': 5, 'created': '2014-04-03 05:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb6fe0a0b354e445ae793019d8ee82b4871cc933', 'message': 'Format ephemeral disk with specified format in libvirt\n\nnovaclient has following command parameters:\n--ephemeral size=<size>[,format=<format>]\nCreate and attach a local ephemeral block device of\n<size> GB and format it to <format>.\n\nso mkfs should use the specified format instead of using\ndefault format.\n\nChange-Id: I66141652962222171b39da0023674968f5ba3d45\nCloses-Bug: #1280132\n'}, {'number': 6, 'created': '2014-04-15 07:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d59c84c68f385d837ab62c8668047d8e99c0ecd', 'message': 'Format ephemeral disk with specified format in libvirt\n\nnovaclient has following command parameters:\n--ephemeral size=<size>[,format=<format>]\nCreate and attach a local ephemeral block device of\n<size> GB and format it to <format>.\n\nso mkfs should use the specified format instead of using\ndefault format.\n\nChange-Id: I66141652962222171b39da0023674968f5ba3d45\nCloses-Bug: #1280132\n'}, {'number': 7, 'created': '2014-05-29 02:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2807cc6adff219c292448a7577e3e4d586e264e', 'message': 'Format ephemeral disk with specified format in libvirt\n\nnovaclient has following command parameters:\n--ephemeral size=<size>[,format=<format>]\nCreate and attach a local ephemeral block device of\n<size> GB and format it to <format>.\n\nso mkfs should use the specified format instead of using\ndefault format.\n\nChange-Id: I66141652962222171b39da0023674968f5ba3d45\nCloses-Bug: #1280132\n'}, {'number': 8, 'created': '2014-05-30 02:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/590ee0ea845a6aadc49627ea626dd3af15325c7d', 'message': 'Format ephemeral disk with specified format in libvirt\n\nnovaclient has following command parameters:\n--ephemeral size=<size>[,format=<format>]\nCreate and attach a local ephemeral block device of\n<size> GB and format it to <format>.\n\nso mkfs should use the specified format instead of using\ndefault format.\n\nChange-Id: I66141652962222171b39da0023674968f5ba3d45\nCloses-Bug: #1280132\n'}, {'number': 9, 'created': '2014-06-04 06:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2bafaa6d930906e135555a1a78946d88c2ac71a6', 'message': 'Format ephemeral disk with specified format in libvirt\n\nnovaclient has following command parameters:\n--ephemeral size=<size>[,format=<format>]\nCreate and attach a local ephemeral block device of\n<size> GB and format it to <format>.\n\nso mkfs should use the specified format instead of using\ndefault format.\n\nChange-Id: I66141652962222171b39da0023674968f5ba3d45\nCloses-Bug: #1280132\n'}, {'number': 10, 'created': '2014-06-08 15:16:10.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/disk/api.py', 'nova/tests/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/85a8051a65b48a867f4f439c7ca0f1798a1ef903', 'message': 'Format ephemeral disk with specified format in libvirt\n\nnovaclient has following command parameters:\n--ephemeral size=<size>[,format=<format>]\nCreate and attach a local ephemeral block device of\n<size> GB and format it to <format>.\n\nso mkfs should use the specified format instead of using\ndefault format.\n\nChange-Id: I66141652962222171b39da0023674968f5ba3d45\nCloses-Bug: #1280132\n'}]",24,84338,85a8051a65b48a867f4f439c7ca0f1798a1ef903,121,14,10,6062,,,0,"Format ephemeral disk with specified format in libvirt

novaclient has following command parameters:
--ephemeral size=<size>[,format=<format>]
Create and attach a local ephemeral block device of
<size> GB and format it to <format>.

so mkfs should use the specified format instead of using
default format.

Change-Id: I66141652962222171b39da0023674968f5ba3d45
Closes-Bug: #1280132
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/84338/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/libvirt/test_libvirt.py', 'nova/virt/libvirt/driver.py', 'nova/virt/disk/api.py']",3,5e062215dab21ee1ce614efa4db5f88b4e565dab,bug/1280132,"def mkfs(os_type, fs_label, target, run_as_root=True, specified_fs=None): if not specified_fs: specified_fs = CONF.default_ephemeral_format if not specified_fs: specified_fs = _DEFAULT_FS_BY_OSTYPE.get(os_type, 'ext3') utils.mkfs(specified_fs, target, fs_label, run_as_root=run_as_root)","def mkfs(os_type, fs_label, target, run_as_root=True): default_fs = CONF.default_ephemeral_format if not default_fs: default_fs = _DEFAULT_FS_BY_OSTYPE.get(os_type, 'ext3') utils.mkfs(default_fs, target, fs_label, run_as_root=run_as_root)",23,8
openstack%2Fnova~master~I55742203bdd071c7df90902868e46c2020f799bd,openstack/nova,master,I55742203bdd071c7df90902868e46c2020f799bd,Failure during termination should always leave state as error(),MERGED,2014-06-12 23:30:19.000000000,2014-06-17 09:49:39.000000000,2014-06-17 03:59:09.000000000,"[{'_account_id': 3}, {'_account_id': 100}, {'_account_id': 1030}, {'_account_id': 1849}, {'_account_id': 4190}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 6062}, {'_account_id': 6316}, {'_account_id': 6873}, {'_account_id': 7680}, {'_account_id': 8247}, {'_account_id': 8871}, {'_account_id': 8922}, {'_account_id': 9008}, {'_account_id': 9536}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-12 23:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/75df7431cf894aadd3c1e2a78b849c039d36f987', 'message': 'WIP: Allow deleting an instance in error,deleting\n\nIf an instance has a task_state of deleting but has a vm_state of\ndeleting, allow additional deletes to go through.\n\nRelated: I5fb1bbd56035792f566a6e076edfe7a69df006ef\n\nFILE A BUG FOR THIS.\nADD UNIT TESTS\n\nChange-Id: I55742203bdd071c7df90902868e46c2020f799bd\n'}, {'number': 2, 'created': '2014-06-13 00:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/284a8d05bbace540492ad1cb6200f7d916ccca6e', 'message': 'Allow deleting an instance in error,deleting\n\nCurrently we have a situation where if an instance fails to delete,\ninstead of having its state reverted, like we do in most places we set\nit to error,deleting. This was intentionally done in\nI5fb1bbd56035792f566a6e076edfe7a69df006ef. We also intentionally ignore\nduplicate requests to delete an instance if its already being deleted\n(2f97f93bd714e0ea3b6d4fa3ac457ab43eed00e1). The combination of these two\nthings means that if an instance fails to delete for some reason a\ntenant is unable to delete that instance.\n\nIt turns out this is really bad because instances in deleting state\ncount against quota, so the tenant slowly looses usable quota.\n\nTo fix this, allow duplicate delete calls to go through if the instance\nis in error state.\n\nChange-Id: I55742203bdd071c7df90902868e46c2020f799bd\nFixes-Bug: #1329559\n'}, {'number': 3, 'created': '2014-06-13 00:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3705629e3a2eaccf380978c1016610c49804a8fa', 'message': 'Allow deleting an instance in error,deleting\n\nCurrently we have a situation where if an instance fails to delete,\ninstead of having its state reverted, like we do in most places we set\nit to error,deleting. This was intentionally done in\nI5fb1bbd56035792f566a6e076edfe7a69df006ef. We also intentionally ignore\nduplicate requests to delete an instance if its already being deleted\n(2f97f93bd714e0ea3b6d4fa3ac457ab43eed00e1). The combination of these two\nthings means that if an instance fails to delete for some reason a\ntenant is unable to delete that instance.\n\nIt turns out this is really bad because instances in deleting state\ncount against quota, so the tenant slowly looses usable quota.\n\nTo fix this, allow duplicate delete calls to go through if the instance\nis in error state.\n\nChange-Id: I55742203bdd071c7df90902868e46c2020f799bd\nCloses-Bug: #1329559\n'}, {'number': 4, 'created': '2014-06-13 00:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb4202b0104a65f5bf04f1c469c4e3328e6b4b6a', 'message': 'Allow deleting an instance in error,deleting\n\nCurrently we have a situation where if an instance fails to delete,\ninstead of having its state reverted, like we do in most places we set\nit to error,deleting. This was intentionally done in\nI5fb1bbd56035792f566a6e076edfe7a69df006ef. We also intentionally ignore\nduplicate requests to delete an instance if its already being deleted\n(I2f97f93bd714e0ea3b6d4fa3ac457ab43eed00e1). The combination of these two\nthings means that if an instance fails to delete for some reason a\ntenant is unable to delete that instance.\n\nIt turns out this is really bad because instances in deleting state\ncount against quota, so the tenant slowly looses usable quota.\n\nTo fix this, allow duplicate delete calls to go through if the instance\nis in error state.\n\nChange-Id: I55742203bdd071c7df90902868e46c2020f799bd\nCloses-Bug: #1329559\n'}, {'number': 5, 'created': '2014-06-13 21:42:24.000000000', 'files': ['nova/compute/manager.py', 'nova/tests/compute/test_compute.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f33a25a3c40722644c774395b38fd7a7ed0246e1', 'message': 'Failure during termination should always leave state as error()\n\nCurrently we have a situation where if an instance fails to delete,\ninstead of having its state reverted, like we do in most places we set\nit to error,deleting. This was intentionally done in\nI5fb1bbd56035792f566a6e076edfe7a69df006ef. We also intentionally ignore\nduplicate requests to delete an instance if its already being deleted\n(I2f97f93bd714e0ea3b6d4fa3ac457ab43eed00e1). The combination of these two\nthings means that if an instance fails to delete for some reason a\ntenant is unable to delete that instance.\n\nIt turns out this is really bad because instances in deleting state\ncount against quota, so the tenant slowly looses usable quota.\n\nTo fix this, upon a failed termination set the vm_state to error and\nrevert the task_state. This is a partial revert of\nI55742203bdd071c7df90902868e46c2020f799bd.\n\nChange-Id: I55742203bdd071c7df90902868e46c2020f799bd\nCloses-Bug: #1329559\n'}]",10,99796,f33a25a3c40722644c774395b38fd7a7ed0246e1,87,19,5,1849,,,0,"Failure during termination should always leave state as error()

Currently we have a situation where if an instance fails to delete,
instead of having its state reverted, like we do in most places we set
it to error,deleting. This was intentionally done in
I5fb1bbd56035792f566a6e076edfe7a69df006ef. We also intentionally ignore
duplicate requests to delete an instance if its already being deleted
(I2f97f93bd714e0ea3b6d4fa3ac457ab43eed00e1). The combination of these two
things means that if an instance fails to delete for some reason a
tenant is unable to delete that instance.

It turns out this is really bad because instances in deleting state
count against quota, so the tenant slowly looses usable quota.

To fix this, upon a failed termination set the vm_state to error and
revert the task_state. This is a partial revert of
I55742203bdd071c7df90902868e46c2020f799bd.

Change-Id: I55742203bdd071c7df90902868e46c2020f799bd
Closes-Bug: #1329559
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/99796/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,75df7431cf894aadd3c1e2a78b849c039d36f987,deleting," if (original_task_state in (task_states.DELETING, task_states.SOFT_DELETING) and instance.vm_state != vm_states.ERROR):"," if original_task_state in (task_states.DELETING, task_states.SOFT_DELETING):",3,2
openstack%2Fpython-manilaclient~master~Iab88831d602bddc6608d0d428994895aa433f049,openstack/python-manilaclient,master,Iab88831d602bddc6608d0d428994895aa433f049,Fixed args descriptions for share-networks,MERGED,2014-06-05 08:37:58.000000000,2014-06-17 09:42:09.000000000,2014-06-17 09:42:09.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 7173}, {'_account_id': 7534}, {'_account_id': 8851}]","[{'number': 1, 'created': '2014-06-05 08:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/e88b0c5022bcd623c1703d017fd5ac1301587993', 'message': 'Fixed args descriptions for share-networks\n\nDescriptions for\nshare-network-create\nshare-network-update\nprovide incorrect information, so update it to proper ones.\n\nChange-Id: Iab88831d602bddc6608d0d428994895aa433f049\n'}, {'number': 2, 'created': '2014-06-05 08:40:52.000000000', 'files': ['manilaclient/v1/shell.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/95faeac80f74f341fe6f163620f2a1ed02495bb8', 'message': 'Fixed args descriptions for share-networks\n\nDescriptions for\nshare-network-create\nshare-network-update\nprovide incorrect information, so update it to proper ones.\n\nChange-Id: Iab88831d602bddc6608d0d428994895aa433f049\n'}]",0,98061,95faeac80f74f341fe6f163620f2a1ed02495bb8,17,5,2,8851,,,0,"Fixed args descriptions for share-networks

Descriptions for
share-network-create
share-network-update
provide incorrect information, so update it to proper ones.

Change-Id: Iab88831d602bddc6608d0d428994895aa433f049
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/61/98061/2 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/v1/shell.py'],1,e88b0c5022bcd623c1703d017fd5ac1301587993,master," help=""Neutron network id. Used to set up network for share servers."") help=""Neutron subnet id. Used to set up network for share servers. "" ""This subnet should belong to specified neutron network."") help=""Neutron network id. Used to set up network for share servers."") help=""Neutron subnet id. Used to set up network for share servers. "" ""This subnet should belong to specified neutron network."") help=""Share network name."") help=""Share network description."")"," help=""Neutron network id. If using manila network neutron plug-in, this "" ""value should be specified. Tenant can't have more than one share's"" "" network with the same neutron_net_id and neutron_subnet_id "") help=""Neutron subnet id. If using manila network neutron plug-in, this "" ""value should be specified. Tenant can't have more than one share's"" "" network with the same neutron_net_id and neutron_subnet_id "") help=""Neutron network id. Tenant can't have more than one share's"" "" network with the same neutron_net_id and neutron_subnet_id "") help=""Neutron subnet id. Tenant can't have more than one share's"" "" network with the same neutron_net_id and neutron_subnet_id "") help=""Share network name"") help=""Share network description"")",8,12
openstack%2Fpython-manilaclient~master~Ieb0cea22fd38efe99a3c42e60d9610e145b7eb7f,openstack/python-manilaclient,master,Ieb0cea22fd38efe99a3c42e60d9610e145b7eb7f,Skip sdist step in tox setup,MERGED,2014-05-27 21:04:11.000000000,2014-06-17 09:40:30.000000000,2014-06-17 09:40:30.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 7534}, {'_account_id': 7872}, {'_account_id': 8851}]","[{'number': 1, 'created': '2014-05-27 21:04:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c14ee0a1b181c5a6bd92c49a1a11186e4dbc7d73', 'message': 'Skip sdist step in tox setup\n\nThis is slow and can be disabled with tox 1.6 or newer.\nAlso disable install of distribute (not needed)\n\nChange-Id: Ieb0cea22fd38efe99a3c42e60d9610e145b7eb7f\n'}]",0,95909,c14ee0a1b181c5a6bd92c49a1a11186e4dbc7d73,20,5,1,6593,,,0,"Skip sdist step in tox setup

This is slow and can be disabled with tox 1.6 or newer.
Also disable install of distribute (not needed)

Change-Id: Ieb0cea22fd38efe99a3c42e60d9610e145b7eb7f
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/09/95909/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c14ee0a1b181c5a6bd92c49a1a11186e4dbc7d73,pbr,distribute = Falseminversion = 1.6 skipsdist = True,,3,0
openstack%2Fsahara-image-elements~master~I8e6e0bdd7c895250f8a8f24967f30194b50d73bb,openstack/sahara-image-elements,master,I8e6e0bdd7c895250f8a8f24967f30194b50d73bb,Updated from global requirements,MERGED,2014-06-16 09:53:11.000000000,2014-06-17 09:40:23.000000000,2014-06-16 11:03:08.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}]","[{'number': 1, 'created': '2014-06-16 09:53:11.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/9bc740cf0e1a23075a45ee1b01f5525b193d5bf4', 'message': 'Updated from global requirements\n\nChange-Id: I8e6e0bdd7c895250f8a8f24967f30194b50d73bb\n'}]",0,100206,9bc740cf0e1a23075a45ee1b01f5525b193d5bf4,9,3,1,11131,,,0,"Updated from global requirements

Change-Id: I8e6e0bdd7c895250f8a8f24967f30194b50d73bb
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/06/100206/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,9bc740cf0e1a23075a45ee1b01f5525b193d5bf4,openstack/requirements,"hacking>=0.9.2,<0.10","hacking>=0.9.1,<0.10",1,1
openstack%2Fnova~master~Ib5e86a47e70b874724613574e5b9d1aee5c87999,openstack/nova,master,Ib5e86a47e70b874724613574e5b9d1aee5c87999,Improve error notification when schedule_run_instance fails,ABANDONED,2014-02-17 18:37:17.000000000,2014-06-17 09:39:21.000000000,,"[{'_account_id': 3}, {'_account_id': 688}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 5652}, {'_account_id': 8163}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9537}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-02-17 18:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1fbccf35680a05389a6a893607b9f1d3fd59fc68', 'message': 'Improve error notification when schedule_run_instance fails\n\nWhen a valid host fails to spawn a new instance due to any reason\n(My use-case was a docker driver error on the node), we store the\nexception in an attribute of the object to be able to use it in\nthe message when a NoValidHost exception is thrown.\n\nWe store only the exception from the last host error, it will\navoid having a too long error message if many hosts are failing\nthe same way.\n\nThis patch is intended to help diagnose errors when a NoValidHost\nexception is raised, not to give the full error list of what\nhappened on the hosts in error\n\nChange-Id: Ib5e86a47e70b874724613574e5b9d1aee5c87999\nCloses-Bug: #1281217\n'}, {'number': 2, 'created': '2014-02-18 15:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65a5d175d613fdc72c064948de34e2125896c050', 'message': 'Improve error notification when schedule_run_instance fails\n\nWhen a valid host fails to spawn a new instance due to any reason\n(My use-case was a docker driver error on the node), we store the\nexception in an attribute of the object to be able to use it in\nthe message when a NoValidHost exception is thrown.\n\nWe store only the exception from the last host error, it will\navoid having a too long error message if many hosts are failing\nthe same way.\n\nThis patch is intended to help diagnose errors when a NoValidHost\nexception is raised, not to give the full error list of what\nhappened on the hosts in error\n\nChange-Id: Ib5e86a47e70b874724613574e5b9d1aee5c87999\nCloses-Bug: #1281217\n'}, {'number': 3, 'created': '2014-02-18 17:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe636aa5deedac6417839060771f94f30bed11bd', 'message': 'Improve error notification when schedule_run_instance fails\n\nWhen a valid host fails to spawn a new instance due to any reason\n(My use-case was a docker driver error on the node), we store the\nexception in an attribute of the object to be able to use it in\nthe message when a NoValidHost exception is thrown.\n\nWe store only the exception from the last host error, it will\navoid having a too long error message if many hosts are failing\nthe same way.\n\nThis patch is intended to help diagnose errors when a NoValidHost\nexception is raised, not to give the full error list of what\nhappened on the hosts in error\n\nChange-Id: Ib5e86a47e70b874724613574e5b9d1aee5c87999\nCloses-Bug: #1281217\n'}, {'number': 4, 'created': '2014-02-19 14:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96b9da25e0ab3acf0f8223634a1737b1a9449380', 'message': 'Improve error notification when schedule_run_instance fails\n\nWhen a valid host fails to spawn a new instance due to any reason\n(My use-case was a docker driver error on the node), we store the\nexception in an attribute of the object to be able to use it in\nthe message when a NoValidHost exception is thrown.\n\nWe store only the exception from the last host error, it will\navoid having a too long error message if many hosts are failing\nthe same way.\n\nThis patch is intended to help diagnose errors when a NoValidHost\nexception is raised, not to give the full error list of what\nhappened on the hosts in error\n\nChange-Id: Ib5e86a47e70b874724613574e5b9d1aee5c87999\nCloses-Bug: #1281217\n'}, {'number': 5, 'created': '2014-03-27 11:31:28.000000000', 'files': ['nova/tests/scheduler/test_filter_scheduler.py', 'nova/scheduler/filter_scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5a42b16857a7c585bd88d63a1b883c0802a50173', 'message': 'Improve error notification when schedule_run_instance fails\n\nWhen a valid host fails to spawn a new instance due to any reason\n(My use-case was a docker driver error on the node), we store the\nexception in an attribute of the object to be able to use it in\nthe message when a NoValidHost exception is thrown.\n\nWe store only the exception from the last host error, it will\navoid having a too long error message if many hosts are failing\nthe same way.\n\nThis patch is intended to help diagnose errors when a NoValidHost\nexception is raised, not to give the full error list of what\nhappened on the hosts in error\n\nChange-Id: Ib5e86a47e70b874724613574e5b9d1aee5c87999\nCloses-Bug: #1281217\n'}]",10,74119,5a42b16857a7c585bd88d63a1b883c0802a50173,56,11,5,9537,,,0,"Improve error notification when schedule_run_instance fails

When a valid host fails to spawn a new instance due to any reason
(My use-case was a docker driver error on the node), we store the
exception in an attribute of the object to be able to use it in
the message when a NoValidHost exception is thrown.

We store only the exception from the last host error, it will
avoid having a too long error message if many hosts are failing
the same way.

This patch is intended to help diagnose errors when a NoValidHost
exception is raised, not to give the full error list of what
happened on the hosts in error

Change-Id: Ib5e86a47e70b874724613574e5b9d1aee5c87999
Closes-Bug: #1281217
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/74119/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/filter_scheduler.py'],1,1fbccf35680a05389a6a893607b9f1d3fd59fc68,bug/1281217," self.last_host_exception_infos = None self.last_host_exception_infos = None msg = """" if self.last_host_exception_infos is not None: msg = 'Error from host: %s (node %s): %s' % \ self.last_host_exception_infos raise exception.NoValidHost(reason=msg) self.last_host_exception_infos = (last_host, last_node, exc[-1])"," raise exception.NoValidHost(reason="""")",8,1
openstack%2Fpython-manilaclient~master~Ic2f36d9f97e96ec47d6afa04ffa8c8abf6db491e,openstack/python-manilaclient,master,Ic2f36d9f97e96ec47d6afa04ffa8c8abf6db491e,Pass share network by name in manilaclient - part 2,MERGED,2014-06-03 13:19:30.000000000,2014-06-17 09:38:24.000000000,2014-06-17 09:38:23.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 7173}, {'_account_id': 7534}, {'_account_id': 8851}]","[{'number': 1, 'created': '2014-06-03 13:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/9d3dd6d404fb49a6d1de48e672f5b15a1ee8b6aa', 'message': 'Pass share network by name in manilaclient - part 2\n\nAdd ability to pass share network by name when doing:\n- create --share-network-id\n- share-network-security-service-add\n- share-network-security-service-remove\n- share-network-security-service-list\n\nCloses-Bug: #1324919\n\nChange-Id: Ic2f36d9f97e96ec47d6afa04ffa8c8abf6db491e\n'}, {'number': 2, 'created': '2014-06-04 13:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/8946c0c6fcc9c16f390e6d175e439c92d7727bc8', 'message': 'Pass share network by name in manilaclient - part 2\n\nAdd ability to pass share network by name when doing:\n- create --share-network-id\n- share-network-security-service-add\n- share-network-security-service-remove\n- share-network-security-service-list\n\nCloses-Bug: #1324919\n\nChange-Id: Ic2f36d9f97e96ec47d6afa04ffa8c8abf6db491e\n'}, {'number': 3, 'created': '2014-06-05 11:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/0901d24f3e058d55068658799634ced33519e343', 'message': 'Pass share network by name in manilaclient - part 2\n\nAdd ability to pass share network by name when doing:\n- create --share-network-id\n- share-network-security-service-add\n- share-network-security-service-remove\n- share-network-security-service-list\n\nCloses-Bug: #1324919\n\nChange-Id: Ic2f36d9f97e96ec47d6afa04ffa8c8abf6db491e\n'}, {'number': 4, 'created': '2014-06-05 11:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/ed966bd188a773ff85521cbd1f09a28e9b51d41d', 'message': 'Pass share network by name in manilaclient - part 2\n\nAdd ability to pass share network by name when doing:\n- create --share-network-id\n- share-network-security-service-add\n- share-network-security-service-remove\n- share-network-security-service-list\n\nCloses-Bug: #1324919\n\nChange-Id: Ic2f36d9f97e96ec47d6afa04ffa8c8abf6db491e\n'}, {'number': 5, 'created': '2014-06-05 12:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/3be3ea7db1c28b89a86e60e423a802a7d7762e3d', 'message': 'Pass share network by name in manilaclient - part 2\n\nAdd ability to pass share network by name when doing:\n- create --share-network-id\n- share-network-security-service-add\n- share-network-security-service-remove\n- share-network-security-service-list\n\nRelated-Bug: #1324919\n\nChange-Id: Ic2f36d9f97e96ec47d6afa04ffa8c8abf6db491e\n'}, {'number': 6, 'created': '2014-06-10 13:32:58.000000000', 'files': ['tests/v1/test_shell.py', 'manilaclient/v1/shares.py', 'manilaclient/v1/share_networks.py', 'tests/v1/fakes.py', 'manilaclient/v1/shell.py', 'tests/v1/test_share_networks.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/8e2a5d12595b43287d2f7cf6dd49e7771b672739', 'message': 'Pass share network by name in manilaclient - part 2\n\nAdd ability to pass share network by name when doing:\n- create --share-network-id\n- share-network-security-service-add\n- share-network-security-service-remove\n- share-network-security-service-list\n\nCloses-Bug: #1317492\n\nChange-Id: Ic2f36d9f97e96ec47d6afa04ffa8c8abf6db491e\n'}]",2,97493,8e2a5d12595b43287d2f7cf6dd49e7771b672739,28,5,6,7331,,,0,"Pass share network by name in manilaclient - part 2

Add ability to pass share network by name when doing:
- create --share-network-id
- share-network-security-service-add
- share-network-security-service-remove
- share-network-security-service-list

Closes-Bug: #1317492

Change-Id: Ic2f36d9f97e96ec47d6afa04ffa8c8abf6db491e
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/93/97493/2 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/v1/share_networks.py', 'manilaclient/v1/shares.py', 'manilaclient/v1/shell.py', 'tests/v1/test_share_networks.py']",4,9d3dd6d404fb49a6d1de48e672f5b15a1ee8b6aa,bug/1324919," def test_add_security_service_to_share_nw_object(self): security_service = 'fake security service' share_nw = self._FakeShareNetwork() expected_path = (share_networks.RESOURCE_PATH + '/action') % \ share_nw.id expected_body = {'add_security_service': {'security_service_id': security_service}} with mock.patch.object(self.manager, '_create', mock.Mock()): self.manager.add_security_service(share_nw, security_service) self.manager._create.assert_called_once_with( expected_path, expected_body, share_networks.RESOURCE_NAME) def test_remove_security_service_from_share_nw_object(self): security_service = 'fake security service' share_nw = self._FakeShareNetwork() expected_path = (share_networks.RESOURCE_PATH + '/action') % \ share_nw.id expected_body = {'remove_security_service': {'security_service_id': security_service}} with mock.patch.object(self.manager, '_create', mock.Mock()): self.manager.remove_security_service(share_nw, security_service) self.manager._create.assert_called_once_with( expected_path, expected_body, share_networks.RESOURCE_NAME)",,54,16
openstack%2Fironic~stable%2Ficehouse~I387ed02c50532527c41d12964c212b0cd9201fad,openstack/ironic,stable/icehouse,I387ed02c50532527c41d12964c212b0cd9201fad,Update ironic.conf.sample,ABANDONED,2014-04-22 12:56:38.000000000,2014-06-17 09:37:20.000000000,,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 2889}, {'_account_id': 3099}, {'_account_id': 6773}, {'_account_id': 8106}, {'_account_id': 8125}]","[{'number': 1, 'created': '2014-04-22 12:56:38.000000000', 'files': ['etc/ironic/ironic.conf.sample'], 'web_link': 'https://opendev.org/openstack/ironic/commit/de9621420449dc254af2745105f53d38e2aa5269', 'message': 'Update ironic.conf.sample\n\nUpdate ironic.conf.sample due to changes in keystoneclient\n\nChange-Id: I387ed02c50532527c41d12964c212b0cd9201fad\n(cherry picked from commit 14c61d69a20c9afaee8e534f0143874f751d1783)\n'}]",0,89554,de9621420449dc254af2745105f53d38e2aa5269,21,7,1,308,,,0,"Update ironic.conf.sample

Update ironic.conf.sample due to changes in keystoneclient

Change-Id: I387ed02c50532527c41d12964c212b0cd9201fad
(cherry picked from commit 14c61d69a20c9afaee8e534f0143874f751d1783)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/54/89554/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/ironic/ironic.conf.sample'],1,de9621420449dc254af2745105f53d38e2aa5269,fix-config,"# Prefix to prepend at the beginning of the path. Deprecated, # use identity_uri. (string value)# Host providing the admin Identity API endpoint. Deprecated, # use identity_uri. (string value)# Port of the admin Identity API endpoint. Deprecated, use # identity_uri. (integer value)# Protocol of the admin Identity API endpoint (http or https). # Deprecated, use identity_uri. (string value)# Complete admin Identity API endpoint. This should specify # the unversioned root endpoint eg. https://localhost:35357/ # (string value) #identity_uri=<None> ",# Prefix to prepend at the beginning of the path (string # value)# Host providing the admin Identity API endpoint (string # value)# Port of the admin Identity API endpoint (integer value)# Protocol of the admin Identity API endpoint(http or https) # (string value),13,7
openstack%2Ffuel-main~master~Idf677700be8dc2498f9eb45a4e338e691d2aa008,openstack/fuel-main,master,Idf677700be8dc2498f9eb45a4e338e691d2aa008,Add missing \n at end of file,MERGED,2014-06-08 17:07:55.000000000,2014-06-17 09:37:14.000000000,2014-06-17 09:37:13.000000000,"[{'_account_id': 3}, {'_account_id': 8882}]","[{'number': 1, 'created': '2014-06-08 17:07:55.000000000', 'files': ['utils/jenkins/report-exporter/settings.py', 'utils/jenkins/report-exporter/__init__.py', 'utils/jenkins/report-exporter/__main__.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/7877b5d93f5e4141ed39916fc05746a539bd6631', 'message': 'Add missing \\n at end of file\n\nChange-Id: Idf677700be8dc2498f9eb45a4e338e691d2aa008\n'}]",0,98648,7877b5d93f5e4141ed39916fc05746a539bd6631,9,2,1,167,,,0,"Add missing \n at end of file

Change-Id: Idf677700be8dc2498f9eb45a4e338e691d2aa008
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/48/98648/1 && git format-patch -1 --stdout FETCH_HEAD,"['utils/jenkins/report-exporter/settings.py', 'utils/jenkins/report-exporter/__init__.py', 'utils/jenkins/report-exporter/__main__.py']",3,7877b5d93f5e4141ed39916fc05746a539bd6631,add_missing_newline_at_eof, wksht_id=gd_sheet_id) , wksht_id=gd_sheet_id),3,3
openstack%2Fsahara-image-elements~stable%2Ficehouse~I777c13b70bbc142e31d17fd6c8653aa1960ba532,openstack/sahara-image-elements,stable/icehouse,I777c13b70bbc142e31d17fd6c8653aa1960ba532,Use archive.apache.org instead of www.apache.org,MERGED,2014-06-16 08:06:46.000000000,2014-06-17 09:28:00.000000000,2014-06-16 08:08:21.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 7555}]","[{'number': 1, 'created': '2014-06-16 08:06:46.000000000', 'files': ['elements/hive/post-install.d/60-hive'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/bbd92d3e15efd69991bdb1ec6b3c40659761d392', 'message': 'Use archive.apache.org instead of www.apache.org\n\nThe Apache Hive project has taken hive 0.11.0 down from\nwww.apache.org. However, it and newer versions are available from\narchive.apache.org. This change uses archive over www.\n\nChange-Id: I777c13b70bbc142e31d17fd6c8653aa1960ba532\n(cherry picked from commit f812f4168c4a9f525f488b4d8a4853b4c48cb6ba)\n'}]",0,100179,bbd92d3e15efd69991bdb1ec6b3c40659761d392,9,4,1,6786,,,0,"Use archive.apache.org instead of www.apache.org

The Apache Hive project has taken hive 0.11.0 down from
www.apache.org. However, it and newer versions are available from
archive.apache.org. This change uses archive over www.

Change-Id: I777c13b70bbc142e31d17fd6c8653aa1960ba532
(cherry picked from commit f812f4168c4a9f525f488b4d8a4853b4c48cb6ba)
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/79/100179/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/hive/post-install.d/60-hive'],1,bbd92d3e15efd69991bdb1ec6b3c40659761d392,, HIVE_DOWNLOAD_URL=http://archive.apache.org/dist/hive/hive-$HIVE_VERSION/hive-$HIVE_VERSION-bin.tar.gz, HIVE_DOWNLOAD_URL=http://www.apache.org/dist/hive/hive-$HIVE_VERSION/hive-$HIVE_VERSION-bin.tar.gz,1,1
openstack%2Ftripleo-image-elements~master~I489746d384c0c2c5a4f2b12444606e3bf8e3ce11,openstack/tripleo-image-elements,master,I489746d384c0c2c5a4f2b12444606e3bf8e3ce11,indent using 4 spaces (2/3),MERGED,2014-05-10 23:51:59.000000000,2014-06-17 09:25:32.000000000,2014-06-17 09:25:32.000000000,"[{'_account_id': 3}, {'_account_id': 1926}, {'_account_id': 7537}, {'_account_id': 8041}, {'_account_id': 8042}, {'_account_id': 8399}, {'_account_id': 8449}, {'_account_id': 9268}, {'_account_id': 9453}]","[{'number': 1, 'created': '2014-05-10 23:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/3e1006f8e08ed565d3efa9b7c24076cd53a16424', 'message': 'indent using 4 spaces (2/3)\n\nAs advised in I072cf8bf6748d0c910fecffdf2282bcc4656d038, code should\nuse 4 spaces for indentation.\nThis commit enforces the use of 4 spaces indentation.\nIn order to simplify the review process, this patch only cover the\nfollowing elements:\n - nagios3\n - network-utils\n - neutron-openvswitch\n - nova-api\n - nova-baremetal\n - nova-compute\n - nova-kvm\n - openstack-client\n - openstack-db\n - openstack-ssl\n\nChange-Id: I489746d384c0c2c5a4f2b12444606e3bf8e3ce11\n'}, {'number': 2, 'created': '2014-05-22 12:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/a1a63579031c2777e504965be7fe0466a68c4efe', 'message': 'indent using 4 spaces (2/3)\n\nAs advised in I072cf8bf6748d0c910fecffdf2282bcc4656d038, code should\nuse 4 spaces for indentation.\nThis commit enforces the use of 4 spaces indentation.\nIn order to simplify the review process, this patch only cover the\nfollowing elements:\n - nagios3\n - network-utils\n - neutron-openvswitch\n - nova-api\n - nova-baremetal\n - nova-compute\n - nova-kvm\n - openstack-client\n - openstack-db\n - openstack-ssl\n\nChange-Id: I489746d384c0c2c5a4f2b12444606e3bf8e3ce11\n'}, {'number': 3, 'created': '2014-05-22 22:30:50.000000000', 'files': ['elements/network-utils/install.d/70-network-utils', 'elements/openstack-db/install.d/50-openstack-db', 'elements/openstack-ssl/install.d/70-install-stunnel', 'elements/network-utils/bin/ensure-bridge', 'elements/nova-api/install.d/nova-source-install/80-nova-api', 'elements/nova-baremetal/install.d/80-pxelinux', 'elements/openstack-clients/bin/install-openstack-client', 'elements/neutron-openvswitch-agent/bin/init-neutron-ovs', 'elements/nagios3/install.d/17-nagios', 'elements/nova-compute/install.d/nova-source-install/80-nova-compute', 'elements/nova-kvm/install.d/nova-source-install/80-nova-kvm'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/e73cbc8e2b735bd1c411efbc4485d10b19e8da79', 'message': 'indent using 4 spaces (2/3)\n\nAs advised in I072cf8bf6748d0c910fecffdf2282bcc4656d038, code should\nuse 4 spaces for indentation.\nThis commit enforces the use of 4 spaces indentation.\nIn order to simplify the review process, this patch only cover the\nfollowing elements:\n - nagios3\n - network-utils\n - neutron-openvswitch\n - nova-api\n - nova-baremetal\n - nova-compute\n - nova-kvm\n - openstack-client\n - openstack-db\n - openstack-ssl\n\nChange-Id: I489746d384c0c2c5a4f2b12444606e3bf8e3ce11\n'}]",1,93207,e73cbc8e2b735bd1c411efbc4485d10b19e8da79,53,9,3,9268,,,0,"indent using 4 spaces (2/3)

As advised in I072cf8bf6748d0c910fecffdf2282bcc4656d038, code should
use 4 spaces for indentation.
This commit enforces the use of 4 spaces indentation.
In order to simplify the review process, this patch only cover the
following elements:
 - nagios3
 - network-utils
 - neutron-openvswitch
 - nova-api
 - nova-baremetal
 - nova-compute
 - nova-kvm
 - openstack-client
 - openstack-db
 - openstack-ssl

Change-Id: I489746d384c0c2c5a4f2b12444606e3bf8e3ce11
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/07/93207/3 && git format-patch -1 --stdout FETCH_HEAD,"['elements/network-utils/install.d/70-network-utils', 'elements/openstack-db/install.d/50-openstack-db', 'elements/openstack-ssl/install.d/70-install-stunnel', 'elements/network-utils/bin/ensure-bridge', 'elements/nova-api/install.d/nova-source-install/80-nova-api', 'elements/nova-baremetal/install.d/80-pxelinux', 'elements/openstack-clients/bin/install-openstack-client', 'elements/neutron-openvswitch-agent/bin/init-neutron-ovs', 'elements/nagios3/install.d/17-nagios', 'elements/nova-compute/install.d/nova-source-install/80-nova-compute', 'elements/nova-kvm/install.d/nova-source-install/80-nova-kvm']",11,3e1006f8e08ed565d3efa9b7c24076cd53a16424,lint, groupadd -f libvirtd, groupadd -f libvirtd,66,66
openstack%2Fmurano~master~I4b10a0e1a0bb3dec99f56d00c621da9898d0725d,openstack/murano,master,I4b10a0e1a0bb3dec99f56d00c621da9898d0725d,MuranoPlException was referenced from incorrect module,MERGED,2014-06-16 15:59:38.000000000,2014-06-17 09:20:11.000000000,2014-06-17 09:20:11.000000000,"[{'_account_id': 3}, {'_account_id': 7226}, {'_account_id': 7562}, {'_account_id': 7600}, {'_account_id': 7821}, {'_account_id': 8040}, {'_account_id': 8127}, {'_account_id': 8443}, {'_account_id': 10063}]","[{'number': 1, 'created': '2014-06-16 15:59:38.000000000', 'files': ['murano/common/engine.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/c67211da7ab01bc2c4115523bb9c5dfc7524f575', 'message': 'MuranoPlException was referenced from incorrect module\n\nChange-Id: I4b10a0e1a0bb3dec99f56d00c621da9898d0725d\n'}]",0,100285,c67211da7ab01bc2c4115523bb9c5dfc7524f575,12,9,1,7226,,,0,"MuranoPlException was referenced from incorrect module

Change-Id: I4b10a0e1a0bb3dec99f56d00c621da9898d0725d
",git fetch https://review.opendev.org/openstack/murano refs/changes/85/100285/1 && git format-patch -1 --stdout FETCH_HEAD,['murano/common/engine.py'],1,c67211da7ab01bc2c4115523bb9c5dfc7524f575,incorrect_module,"from murano.dsl import dsl_exception if isinstance(e, dsl_exception.MuranoPlException):","from murano.dsl import virtual_exceptions if isinstance(e, virtual_exceptions.MuranoPlException):",2,2
openstack%2Fmurano~master~I1a4e766a1f8a9926768acec24f09b5e7b0eb169a,openstack/murano,master,I1a4e766a1f8a9926768acec24f09b5e7b0eb169a,Return and Break were broken,MERGED,2014-06-16 16:40:10.000000000,2014-06-17 09:18:40.000000000,2014-06-17 09:18:39.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7549}, {'_account_id': 7562}, {'_account_id': 7600}, {'_account_id': 7821}, {'_account_id': 8040}, {'_account_id': 8127}, {'_account_id': 10063}]","[{'number': 1, 'created': '2014-06-16 16:40:10.000000000', 'files': ['murano/dsl/macros.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/6c210b19bb1b10907a5641a9f304d8695e47b52f', 'message': ""Return and Break were broken\n\nBreakException and ReturnException were wrapped in MuranoPlException\nsimilar to other python exceptions. So they were never catch by the code\nthat expects them and thus those macros didn't work\n\nChange-Id: I1a4e766a1f8a9926768acec24f09b5e7b0eb169a\n""}]",0,100290,6c210b19bb1b10907a5641a9f304d8695e47b52f,17,10,1,7226,,,0,"Return and Break were broken

BreakException and ReturnException were wrapped in MuranoPlException
similar to other python exceptions. So they were never catch by the code
that expects them and thus those macros didn't work

Change-Id: I1a4e766a1f8a9926768acec24f09b5e7b0eb169a
",git fetch https://review.opendev.org/openstack/murano refs/changes/90/100290/1 && git format-patch -1 --stdout FETCH_HEAD,['murano/dsl/macros.py'],1,6c210b19bb1b10907a5641a9f304d8695e47b52f,return_break," except (dsl_exception.MuranoPlException, exceptions.BreakException, exceptions.ReturnException):", except dsl_exception.MuranoPlException:,3,1
openstack%2Fironic~master~Iaabbcb9843480d6a137598fabc4b52e2e6d1d176,openstack/ironic,master,Iaabbcb9843480d6a137598fabc4b52e2e6d1d176,Add inactive timeout to dd,ABANDONED,2014-04-28 20:01:23.000000000,2014-06-17 09:18:29.000000000,,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 4190}, {'_account_id': 6773}, {'_account_id': 7711}, {'_account_id': 8968}]","[{'number': 3, 'created': '2014-04-28 20:01:23.000000000', 'files': ['ironic/common/exception.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/openstack/common/processutils.py', 'ironic/common/utils.py', 'ironic/tests/drivers/test_deploy_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/575127f3057e4e4508d5c2b0fcdfa0ea70ac03ef', 'message': 'Add inactive timeout to dd\n\nPeriodical SIGUSR1 used for monitoring activity\nof dd process. dd process terminated if timeout\nreached.\nThere are two timeouts parameters: general timeout\nand inactivity timeout.\nThis patch intended for integration with deploy\ntask cancellation.\n\nChange-Id: Iaabbcb9843480d6a137598fabc4b52e2e6d1d176\n'}, {'number': 2, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c114040e15063c654a15f34b9cf9e67a8317287b', 'message': 'Add inactive timeout to dd\n\nPeriodical SIGUSR1 used for monitoring activity\nof dd process. dd process terminated if timeout\nreached.\nReal dd process used in tests.\n\nPurposes of this patch:\n1) Further porting to Nova baremetal\n2) Use in Ironic as base for dd monitoring\n\nPartial-Bug: #1208638\n\nChange-Id: Iaabbcb9843480d6a137598fabc4b52e2e6d1d176\n'}, {'number': 1, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f5fd08024c1034df9f346bb339736f6303302242', 'message': 'Add inactive timeout to dd\n\nPeriodical SIGUSR1 used for monitoring activity\nof dd process. dd process terminated if timeout\nreached.\nReal dd process used in tests.\n\nPurposes of this patch:\n1) Further porting to Nova baremetal\n2) Use in Ironic as base for dd monitoring\n\nPartial-Bug: #1208638\n\nChange-Id: Iaabbcb9843480d6a137598fabc4b52e2e6d1d176\n'}]",7,48198,575127f3057e4e4508d5c2b0fcdfa0ea70ac03ef,19,6,3,7711,,,0,"Add inactive timeout to dd

Periodical SIGUSR1 used for monitoring activity
of dd process. dd process terminated if timeout
reached.
There are two timeouts parameters: general timeout
and inactivity timeout.
This patch intended for integration with deploy
task cancellation.

Change-Id: Iaabbcb9843480d6a137598fabc4b52e2e6d1d176
",git fetch https://review.opendev.org/openstack/ironic refs/changes/98/48198/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/exception.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/openstack/common/processutils.py', 'ironic/common/utils.py', 'ironic/tests/drivers/test_deploy_utils.py']",5,575127f3057e4e4508d5c2b0fcdfa0ea70ac03ef,dd-timeouts,"from ironic.common import utils as ironic_utilsfrom ironic.openstack.common import processutils class DDTestCase(tests_base.TestCase): def _create_stub(self, *add_args): orig_execute = ironic_utils.execute def exec_stub(*args, **kwargs): kwargs['run_as_root'] = False args = args[:3] + add_args return orig_execute(*args, **kwargs) return exec_stub def test_dd_ok(self): exec_stub = self._create_stub('count=10') self.useFixture(fixtures.MonkeyPatch('ironic.common.utils.execute', exec_stub)) utils.dd('/dev/zero', '/dev/null', poll_interval=0.1) def test_dd_exec_error(self): exec_stub = self._create_stub() self.useFixture(fixtures.MonkeyPatch('ironic.common.utils.execute', exec_stub)) self.assertRaises(processutils.ProcessExecutionError, utils.dd, 'foo', 'bar', poll_interval=0.1) def test_dd_progress_timeout(self): exec_stub = self._create_stub('count=50000000') self.useFixture(fixtures.MonkeyPatch('ironic.common.utils.execute', exec_stub)) self.assertRaises(exception.DDTimeOut, utils.dd, '/dev/zero', '/dev/null', 0.5, 0.3, 0.2) def test_dd_inactive_timeout(self): def fake_bytes(out): return 12345 self.useFixture(fixtures.MonkeyPatch( 'ironic.drivers.modules.deploy_utils.dd_bytes', fake_bytes)) exec_stub = self._create_stub('count=50000000') self.useFixture(fixtures.MonkeyPatch('ironic.common.utils.execute', exec_stub)) self.assertRaises(exception.DDInactiveTimeOut, utils.dd, '/dev/zero', '/dev/null', None, 0.3, 0.2)",,142,13
openstack%2Fnova~master~I22a711795ea616aabc155a71703c9c794e84a5dc,openstack/nova,master,I22a711795ea616aabc155a71703c9c794e84a5dc,"Revert ""Allow admin user to get all tenant's floating IPs""",MERGED,2014-06-13 13:30:17.000000000,2014-06-17 09:17:00.000000000,2014-06-17 09:16:58.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 782}, {'_account_id': 1849}, {'_account_id': 2271}, {'_account_id': 2284}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 8290}, {'_account_id': 8430}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-13 13:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ad9d6819adc18f96796dce3bbfbb8da0da7bf70', 'message': 'Revert ""Allow admin user to get all tenant\'s floating IPs""\n\nThis reverts commit 6478554f531f6ee2fa86226fbc79dd31e556bc06.\n\nThis API change merged as a bug fix and introduced bugs and our API change policy is more or less to go through the blueprint/nova-specs review process:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2014-June/037536.html\n\nSo reverting this so it can go through the blueprint/nova-specs review process.\n\nThere should be minimal impacts to removing this (broken) API since it merged not too long ago and was added strictly for Ceilometer\'s usage, not an external deployer that would be (more) broken by this API removal.\n\nChange-Id: I22a711795ea616aabc155a71703c9c794e84a5dc\nCloses-Bug: #1328694\n'}, {'number': 2, 'created': '2014-06-13 13:30:52.000000000', 'files': ['nova/tests/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'nova/tests/api/openstack/compute/contrib/test_floating_ips.py', 'nova/network/api.py', 'nova/api/openstack/compute/contrib/floating_ips.py', 'nova/tests/network/test_api.py', 'etc/nova/policy.json', 'nova/tests/fake_policy.py', 'nova/api/ec2/cloud.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/801a37de197cdd98f264caa2bbe9c6ebddec070b', 'message': 'Revert ""Allow admin user to get all tenant\'s floating IPs""\n\nThis reverts commit 6478554f531f6ee2fa86226fbc79dd31e556bc06.\n\nThis API change merged as a bug fix and introduced bugs and our API\nchange policy is more or less to go through the blueprint/nova-specs\nreview process:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2014-June/037536.html\n\nSo reverting this so it can go through the blueprint/nova-specs\nreview process.\n\nThere should be minimal impacts to removing this (broken) API since\nit merged not too long ago and was added strictly for Ceilometer\'s\nusage, not an external deployer that would be (more) broken by this\nAPI removal.\n\nCloses-Bug: #1328694\n\nChange-Id: I22a711795ea616aabc155a71703c9c794e84a5dc\n'}]",0,99938,801a37de197cdd98f264caa2bbe9c6ebddec070b,22,14,2,6873,,,0,"Revert ""Allow admin user to get all tenant's floating IPs""

This reverts commit 6478554f531f6ee2fa86226fbc79dd31e556bc06.

This API change merged as a bug fix and introduced bugs and our API
change policy is more or less to go through the blueprint/nova-specs
review process:

http://lists.openstack.org/pipermail/openstack-dev/2014-June/037536.html

So reverting this so it can go through the blueprint/nova-specs
review process.

There should be minimal impacts to removing this (broken) API since
it merged not too long ago and was added strictly for Ceilometer's
usage, not an external deployer that would be (more) broken by this
API removal.

Closes-Bug: #1328694

Change-Id: I22a711795ea616aabc155a71703c9c794e84a5dc
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/99938/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'nova/tests/api/openstack/compute/contrib/test_floating_ips.py', 'nova/network/api.py', 'nova/api/openstack/compute/contrib/floating_ips.py', 'nova/tests/network/test_api.py', 'etc/nova/policy.json', 'nova/tests/fake_policy.py', 'nova/api/ec2/cloud.py']",9,4ad9d6819adc18f96796dce3bbfbb8da0da7bf70,bug/1262124, floatings = self.network_api.get_floating_ips_by_project(context), floatings = self.network_api.get_floating_ips(context),3,155
openstack%2Ftempest~master~Icbb2719ffae772878f183c0c77c1e9d9028655c1,openstack/tempest,master,Icbb2719ffae772878f183c0c77c1e9d9028655c1,Nodestate API test for power state set,MERGED,2014-04-08 11:42:04.000000000,2014-06-17 09:16:48.000000000,2014-06-17 09:16:48.000000000,"[{'_account_id': 3}, {'_account_id': 5803}, {'_account_id': 7139}, {'_account_id': 7428}, {'_account_id': 7872}, {'_account_id': 7882}, {'_account_id': 8085}, {'_account_id': 8205}, {'_account_id': 8556}, {'_account_id': 8824}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-08 11:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f967a4ce664959dd496699c71db274c01ca4a614', 'message': 'Nodestate API test for power state set\n\nThis patch implements Nodestate API tests, to set the power state of\nthe node for the following power states -\n1. power on\n2. rebooting\n3. power off\n\nChange-Id: Icbb2719ffae772878f183c0c77c1e9d9028655c1\n'}, {'number': 2, 'created': '2014-04-17 07:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d3bb91c47e4853992c2851e1a1f9baeeafb50877', 'message': 'Nodestate API test for power state set\n\nThis patch implements Nodestate API tests, to set the power state of\nthe node for the following power states -\n1. power on\n2. rebooting\n3. power off\n\nChange-Id: Icbb2719ffae772878f183c0c77c1e9d9028655c1\n'}, {'number': 3, 'created': '2014-04-17 11:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ee7e3c49a0189fb9e79c19786904538a62859780', 'message': 'Nodestate API test for power state set\n\nThis patch implements Nodestate API tests, to set the power state of\nthe node for the following power states -\n1. power on\n2. rebooting\n3. power off\n\nChange-Id: Icbb2719ffae772878f183c0c77c1e9d9028655c1\n'}, {'number': 4, 'created': '2014-04-24 09:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/72f525e257646205f872d2786730eb1fe754e9f0', 'message': 'Nodestate API test for power state set\n\nThis patch implements Nodestate API tests, to set the power state of\nthe node for the following power states -\n1. power on\n2. rebooting\n3. power off\n\nChange-Id: Icbb2719ffae772878f183c0c77c1e9d9028655c1\n'}, {'number': 5, 'created': '2014-04-29 10:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9edf548db79616ccead1dbade868abc6a3c1d14b', 'message': 'Nodestate API test for power state set\n\nThis patch implements Nodestate API tests, to set the power state of\nthe node for the following power states -\n1. power on\n2. rebooting\n3. power off\n\nChange-Id: Icbb2719ffae772878f183c0c77c1e9d9028655c1\n'}, {'number': 6, 'created': '2014-04-30 04:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d90b8ec7c321e165a10c19373a190d76d73b7e90', 'message': 'Nodestate API test for power state set\n\nThis patch implements Nodestate API tests, to set the power state of\nthe node for the following power states -\n1. power on\n2. rebooting\n3. power off\n\nChange-Id: Icbb2719ffae772878f183c0c77c1e9d9028655c1\n'}, {'number': 7, 'created': '2014-04-30 06:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7b7efd40fe9c256ef9109ebaf5cf9eb16ef39c48', 'message': 'Nodestate API test for power state set\n\nThis patch implements Nodestate API tests, to set the power state of\nthe node for the following power states -\n1. power on\n2. rebooting\n3. power off\n\nChange-Id: Icbb2719ffae772878f183c0c77c1e9d9028655c1\n'}, {'number': 8, 'created': '2014-05-01 07:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0b0e8c96ad8f642345cc148eb9b9de147d397e6b', 'message': 'Nodestate API test for power state set\n\nThis patch implements Nodestate API tests, to set the power state of\nthe node for the following power states -\n1. power on\n2. rebooting\n3. power off\n\nChange-Id: Icbb2719ffae772878f183c0c77c1e9d9028655c1\n'}, {'number': 9, 'created': '2014-06-03 11:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/08857f9029e9d53de6747c903c9e555275604090', 'message': 'Nodestate API test for power state set\n\nThis patch implements Nodestate API tests, to set the power state of\nthe node for the following power states -\n1. power on\n2. rebooting\n3. power off\n\nChange-Id: Icbb2719ffae772878f183c0c77c1e9d9028655c1\n'}, {'number': 10, 'created': '2014-06-03 11:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1af071895f6ec4bc2b321678bf926edad8475ff1', 'message': 'Nodestate API test for power state set\n\nThis patch implements Nodestate API tests, to set the power state of\nthe node for the following power states -\n1. power on\n2. rebooting\n3. power off\n\nChange-Id: Icbb2719ffae772878f183c0c77c1e9d9028655c1\n'}, {'number': 11, 'created': '2014-06-03 11:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ccdfaee330972f2ec143e807dba6df0fb9afc6ed', 'message': 'Nodestate API test for power state set\n\nThis patch implements Nodestate API tests, to set the power state of\nthe node for the following power states -\n1. power on\n2. rebooting\n3. power off\n\nChange-Id: Icbb2719ffae772878f183c0c77c1e9d9028655c1\n'}, {'number': 12, 'created': '2014-06-04 05:18:49.000000000', 'files': ['tempest/services/baremetal/v1/base_v1.py', 'tempest/api/baremetal/base.py', 'tempest/services/baremetal/base.py', 'tempest/api/baremetal/test_nodestates.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f8ecf23c3cb82a8c711e666373bcbe4297ea0cbd', 'message': 'Nodestate API test for power state set\n\nThis patch implements Nodestate API tests, to set the power state of\nthe node for the following power states -\n1. power on\n2. rebooting\n3. power off\n\nChange-Id: Icbb2719ffae772878f183c0c77c1e9d9028655c1\n'}]",48,86002,f8ecf23c3cb82a8c711e666373bcbe4297ea0cbd,156,13,12,8205,,,0,"Nodestate API test for power state set

This patch implements Nodestate API tests, to set the power state of
the node for the following power states -
1. power on
2. rebooting
3. power off

Change-Id: Icbb2719ffae772878f183c0c77c1e9d9028655c1
",git fetch https://review.opendev.org/openstack/tempest refs/changes/02/86002/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/services/baremetal/v1/base_v1.py', 'tempest/services/baremetal/base.py', 'tempest/api/baremetal/test_nodestates.py']",3,f967a4ce664959dd496699c71db274c01ca4a614,bp/missing-baremetal-api-test,"from tempest import exceptions self.chassis = self.create_chassis()['chassis'] self.node = self.create_node(self.chassis['uuid'])['node'] def _delete_node(self, node_uuid): # delete node, if it exists try: resp, node = self.client.show_node(node_uuid) if node['power_state'] == 'power on': resp, body = self.client.set_node_power_state(node_uuid, 'power off') self.client.delete_node(node_uuid) else: self.client.delete_node(node_uuid) # if node is not found, this means it was deleted in the test except exceptions.NotFound: pass @test.attr(type='smoke') def test_set_node_power_state(self): node = self.create_node(self.chassis['uuid'])['node'] self.addCleanup(self._delete_node, node['uuid']) #Set power state to 'power on' resp, body = self.client.set_node_power_state(node['uuid'], ""power on"") self.assertEqual('202', resp['status']) #Check power state after state set to on #power state should be 'power on' resp, node = self.client.show_node(node['uuid']) self.assertEqual('power on', node['power_state']) #Set power state to 'power reboot' resp, body = self.client.set_node_power_state(node['uuid'], ""rebooting"") self.assertEqual('202', resp['status']) #Check power state after state set to rebooting #power state should be 'power on' resp, node = self.client.show_node(node['uuid']) self.assertEqual('power on', node['power_state']) #Set power state to 'power off' resp, body = self.client.set_node_power_state(node['uuid'], ""power off"") self.assertEqual('202', resp['status']) #Check power state after state set to off #power state should be 'power off' resp, node = self.client.show_node(node['uuid']) self.assertEqual('power off', node['power_state'])", chassis = self.create_chassis()['chassis'] self.node = self.create_node(chassis['uuid'])['node'],70,2
openstack%2Fkeystone~stable%2Ficehouse~I6b328dfc8435457a8d7ff16320f3d869cfa1043c,openstack/keystone,stable/icehouse,I6b328dfc8435457a8d7ff16320f3d869cfa1043c,Encode/Decode LDAP parameters to/from UTF-8,MERGED,2014-05-02 19:54:08.000000000,2014-06-17 09:15:36.000000000,2014-06-17 09:15:35.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 1955}, {'_account_id': 2218}, {'_account_id': 6460}, {'_account_id': 6486}, {'_account_id': 8116}, {'_account_id': 9569}, {'_account_id': 9751}, {'_account_id': 11045}]","[{'number': 1, 'created': '2014-05-02 19:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2901ca02126efb1f8466dfa2e5b58ed4cc0f507f', 'message': 'Encode/Decode LDAP parameters to/from UTF-8\n\nThe python-ldap API only accepts UTF-8 encoded strings therefore any\nunicode values must be encoded to UTF-8 prior to passing to\npython-ldap and conversely UTF-8 encoded strings returned from\npython-ldap need to be decoded back from UTF-8 into unicode.\n\nCloses-Bug #1172106\n\nChange-Id: I6b328dfc8435457a8d7ff16320f3d869cfa1043c\n'}, {'number': 2, 'created': '2014-05-05 19:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5626a3e49522915320278a3abfdcd14152341072', 'message': 'Encode/Decode LDAP parameters to/from UTF-8\n\nThe python-ldap API only accepts UTF-8 encoded strings therefore any\nunicode values must be encoded to UTF-8 prior to passing to\npython-ldap and conversely UTF-8 encoded strings returned from\npython-ldap need to be decoded back from UTF-8 into unicode.\n\nCloses-Bug #1172106\n\nChange-Id: I6b328dfc8435457a8d7ff16320f3d869cfa1043c\n'}, {'number': 3, 'created': '2014-05-20 00:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a9ccadbcfcd63406a0514e0664d3b17fbaeec614', 'message': 'Encode/Decode LDAP parameters to/from UTF-8\n\nThe python-ldap API only accepts UTF-8 encoded strings therefore any\nunicode values must be encoded to UTF-8 prior to passing to\npython-ldap and conversely UTF-8 encoded strings returned from\npython-ldap need to be decoded back from UTF-8 into unicode.\n\nCloses-Bug: #1172106\n\nChange-Id: I6b328dfc8435457a8d7ff16320f3d869cfa1043c\n'}, {'number': 4, 'created': '2014-05-30 00:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e14be61dabd90dc67b3c1da3567edf995b2b2214', 'message': ""Encode/Decode LDAP parameters to/from UTF-8\n\nThe python-ldap API only accepts UTF-8 encoded strings therefore any\nunicode values must be encoded to UTF-8 prior to passing to\npython-ldap and conversely UTF-8 encoded strings returned from\npython-ldap need to be decoded back from UTF-8 into unicode.\n\nNeed to use unicode() rather than str() to properly handle non-ascii\ncharacters, but to be PY2/PY3 compatible use six.text_type.\n\nVery few of the ldap tests were using non-ascii values, in fact\nnon-ascii values were restricted to only specific tests that\nhad 'unicode' in their test name. This is very weak test coverage.\nReplace all occurances of 'fake', the standard string\nused in the tests for test value with 'fk' where the a has an\numlaut and the e has a diacritical. Visually they look almost the\nsame but will trigger the type of encoding exceptions we've seen\nin the past.\n\nThis is the minimal backport for icehouse from the following\nmaster commits:\nhttps://review.openstack.org/#/c/82396/\nhttps://review.openstack.org/#/c/82398/\nhttps://review.openstack.org/#/c/82399/\n\nCloses-Bug: #1172106\n\nChange-Id: I6b328dfc8435457a8d7ff16320f3d869cfa1043c\n""}, {'number': 5, 'created': '2014-06-04 14:14:36.000000000', 'files': ['keystone/tests/test_ldap_livetest.py', 'keystone/tests/fakeldap.py', 'keystone/common/ldap/core.py', 'keystone/tests/test_backend_ldap.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/935fd60326feafd767993475a48b9f5973c828db', 'message': ""Encode/Decode LDAP parameters to/from UTF-8\n\nThe python-ldap API only accepts UTF-8 encoded strings therefore any\nunicode values must be encoded to UTF-8 prior to passing to\npython-ldap and conversely UTF-8 encoded strings returned from\npython-ldap need to be decoded back from UTF-8 into unicode.\n\nNeed to use unicode() rather than str() to properly handle non-ascii\ncharacters, but to be PY2/PY3 compatible use six.text_type.\n\nVery few of the ldap tests were using non-ascii values, in fact\nnon-ascii values were restricted to only specific tests that\nhad 'unicode' in their test name. This is very weak test coverage.\nReplace all occurances of 'fake', the standard string\nused in the tests for test value with 'fk' where the a has an\numlaut and the e has a diacritical. Visually they look almost the\nsame but will trigger the type of encoding exceptions we've seen\nin the past.\n\nThis is the minimal backport for icehouse from the following\nmaster commits:\nhttps://review.openstack.org/#/c/82396/\nhttps://review.openstack.org/#/c/82398/\nhttps://review.openstack.org/#/c/82399/\n\nCloses-Bug: #1172106\n\nChange-Id: I6b328dfc8435457a8d7ff16320f3d869cfa1043c\n""}]",38,91883,935fd60326feafd767993475a48b9f5973c828db,52,10,5,8116,,,0,"Encode/Decode LDAP parameters to/from UTF-8

The python-ldap API only accepts UTF-8 encoded strings therefore any
unicode values must be encoded to UTF-8 prior to passing to
python-ldap and conversely UTF-8 encoded strings returned from
python-ldap need to be decoded back from UTF-8 into unicode.

Need to use unicode() rather than str() to properly handle non-ascii
characters, but to be PY2/PY3 compatible use six.text_type.

Very few of the ldap tests were using non-ascii values, in fact
non-ascii values were restricted to only specific tests that
had 'unicode' in their test name. This is very weak test coverage.
Replace all occurances of 'fake', the standard string
used in the tests for test value with 'fk' where the a has an
umlaut and the e has a diacritical. Visually they look almost the
same but will trigger the type of encoding exceptions we've seen
in the past.

This is the minimal backport for icehouse from the following
master commits:
https://review.openstack.org/#/c/82396/
https://review.openstack.org/#/c/82398/
https://review.openstack.org/#/c/82399/

Closes-Bug: #1172106

Change-Id: I6b328dfc8435457a8d7ff16320f3d869cfa1043c
",git fetch https://review.opendev.org/openstack/keystone refs/changes/83/91883/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/test_ldap_livetest.py', 'keystone/common/ldap/core.py']",2,2901ca02126efb1f8466dfa2e5b58ed4cc0f507f,ldap-utf8-icehouse,"import codecs_utf8_encoder = codecs.getencoder('utf-8') def utf8_encode(value): if isinstance(value, six.text_type): return _utf8_encoder(value)[0] elif isinstance(value, six.binary_type): return value else: raise TypeError(""value must be basestring, "" ""not %s"" % value.__class__.__name__) _utf8_decoder = codecs.getdecoder('utf-8') def utf8_decode(value): if isinstance(value, six.binary_type): return _utf8_decoder(value)[0] return six.text_type(value) def py2ldap(val): if isinstance(val, bool): return u'TRUE' if val else u'FALSE' else: return six.text_type(val) return utf8_decode(val) def convert_ldap_result(ldap_result): py_result = [] at_least_one_referral = False for dn, attrs in ldap_result: if dn is None: # this is a Referral object, rather than an Entry object at_least_one_referral = True continue py_result.append((utf8_decode(dn), dict((kind, [ldap2py(x) for x in values]) for kind, values in six.iteritems(attrs)))) if at_least_one_referral: LOG.debug(_('Referrals were returned and ignored. Enable referral ' 'chasing in keystone.conf via [ldap] chase_referrals')) return py_result user_utf8 = utf8_encode(user) password_utf8 = utf8_encode(password) return self.conn.simple_bind_s(user_utf8, password_utf8) dn_utf8 = utf8_encode(dn) ldap_attrs_utf8 = [(kind, [utf8_encode(x) for x in safe_iter(values)]) for kind, values in ldap_attrs] return self.conn.add_s(dn_utf8, ldap_attrs_utf8) ldap_result = self.paged_search_s(dn, scope, query, attrlist) else: dn_utf8 = utf8_encode(dn) query_utf8 = utf8_encode(query) if attrlist is None: attrlist_utf8 = None else: attrlist_utf8 = map(utf8_encode, attrlist) ldap_result = self.conn.search_s(dn_utf8, scope, query_utf8, attrlist_utf8) py_result = convert_ldap_result(ldap_result) return py_result dn_utf8 = utf8_encode(dn) query_utf8 = utf8_encode(query) if attrlist is None: attrlist_utf8 = None else: attrlist = [attr for attr in attrlist if attr is not None] attrlist_utf8 = map(utf8_encode, attrlist) msgid = self.conn.search_ext(dn_utf8, query_utf8, attrlist_utf8, msgid = self.conn.search_ext(dn_utf8, query_utf8, attrlist_utf8, dn_utf8 = utf8_encode(dn) ldap_modlist_utf8 = [ (op, kind, (None if values is None else [utf8_encode(x) for x in safe_iter(values)])) for op, kind, values in ldap_modlist] return self.conn.modify_s(dn_utf8, ldap_modlist_utf8) dn_utf8 = utf8_encode(dn) return self.conn.delete_s(dn_utf8) dn_utf8 = utf8_encode(dn) return self.conn.delete_ext_s(dn_utf8, serverctrls)","def py2ldap(val): if isinstance(val, str): return val elif isinstance(val, bool): return 'TRUE' if val else 'FALSE' else: return str(val) return val return self.conn.simple_bind_s(user, password) return self.conn.add_s(dn, ldap_attrs) res = self.paged_search_s(dn, scope, query, attrlist) else: res = self.conn.search_s(dn, scope, query, attrlist) o = [] at_least_one_referral = False for dn, attrs in res: if dn is None: # this is a Referral object, rather than an Entry object at_least_one_referral = True continue o.append((dn, dict((kind, [ldap2py(x) for x in values]) for kind, values in six.iteritems(attrs)))) if at_least_one_referral: LOG.debug(_('Referrals were returned and ignored. Enable referral ' 'chasing in keystone.conf via [ldap] chase_referrals')) return o msgid = self.conn.search_ext(dn, query, attrlist, msgid = self.conn.search_ext(dn, query, attrlist, return self.conn.modify_s(dn, ldap_modlist) return self.conn.delete_s(dn) return self.conn.delete_ext_s(dn, serverctrls)",87,41
openstack%2Ftraining-guides~master~Ie3f7ec480a70beea1abedb3bb81d7380b978d7b2,openstack/training-guides,master,Ie3f7ec480a70beea1abedb3bb81d7380b978d7b2,Add functions used inside and outside of VMs,MERGED,2014-06-17 08:54:42.000000000,2014-06-17 09:14:16.000000000,2014-06-17 09:14:16.000000000,"[{'_account_id': 3}, {'_account_id': 6923}, {'_account_id': 7007}]","[{'number': 1, 'created': '2014-06-17 08:54:42.000000000', 'files': ['labs/lib/functions'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/00642658124ed71d75d8ef5493e4624830564b81', 'message': 'Add functions used inside and outside of VMs\n\nThe helper functions in this library are for use by host-side scripts\n(osbash) and by scripts running inside the node VMs.\n\nPartial-Bug: 1312764\nImplements: blueprint openstack-training-labs\nChange-Id: Ie3f7ec480a70beea1abedb3bb81d7380b978d7b2\n'}]",0,100455,00642658124ed71d75d8ef5493e4624830564b81,7,3,1,11109,,,0,"Add functions used inside and outside of VMs

The helper functions in this library are for use by host-side scripts
(osbash) and by scripts running inside the node VMs.

Partial-Bug: 1312764
Implements: blueprint openstack-training-labs
Change-Id: Ie3f7ec480a70beea1abedb3bb81d7380b978d7b2
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/55/100455/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/lib/functions'],1,00642658124ed71d75d8ef5493e4624830564b81,bug/1312764,"# This file contains bash functions that may be used by both guest and host # systems. # Non-recursive removal of all files except README.* function clean_dir { local CLEAN_DIR=$1 if [ ! -e ""$CLEAN_DIR"" ]; then mkdir -pv ""$CLEAN_DIR"" elif [ ! -d ""$CLEAN_DIR"" ]; then echo >&2 ""Not a directory: $CLEAN_DIR"" return 1 fi shopt -s nullglob local ENTRIES=(""$CLEAN_DIR""/*) if [ -n ""${ENTRIES[0]-}"" ]; then for f in ""${ENTRIES[@]}""; do # Skip directories if [ ! -f ""$f"" ]; then continue fi # Skip README.* if [[ $f =~ /README\. ]]; then continue fi rm -f ""$f"" done fi } function is_root { if [ $EUID -eq 0 ]; then return 0 else return 1 fi } function yes_or_no { local prompt=$1 local input="""" while [ : ]; do read -p ""$prompt (Y/n): "" input case ""$input"" in N|n) return 1 ;; """"|Y|y) return 0 ;; *) echo ""Invalid input: $input"" ;; esac done } #------------------------------------------------------------------------------- # Helpers to incrementally number files via name prefixes #------------------------------------------------------------------------------- function get_next_file_number { local DIR=$1 local EXT=${2:-""""} # Get number of *.log files in directory shopt -s nullglob if [ -n ""$EXT"" ]; then # Count files with specific extension local FILES=(""$DIR/""*"".$EXT"") else # Count all files local FILES=(""$DIR/""*) fi echo ""${#FILES[*]}"" } function get_next_prefix { local DIR=$1 local EXT=$2 # Number of digits in prefix string (default 3) local DIGITS=${3:-3} # Get number of *.$EXT files in $DIR local CNT=""$(get_next_file_number ""$DIR"" ""$EXT"")"" printf ""%0${DIGITS}d"" ""$CNT"" } #------------------------------------------------------------------------------- # Helpers for scripts configuration files (config/scripts.*) #------------------------------------------------------------------------------- # Configuration files use codes for directories rather than full paths (to make # them easier to read and write) function src_dir_code_to_dir { local SRC_DIR_CODE=$1 case ""$SRC_DIR_CODE"" in osbash) echo ""$OSBASH_SCRIPTS_DIR"" ;; scripts) echo ""$SCRIPTS_DIR"" ;; config) echo ""$CONFIG_DIR"" ;; *) # No code, it must be a path already echo ""$SRC_DIR_CODE"" ;; esac } # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - # Returns list of enabled scripts (to disable, comment out with #) function get_script_paths_from_config { local CONFIG_FILE=$1 local CONFIG_PATH=$CONFIG_DIR/$CONFIG_FILE if [ ! -f ""$CONFIG_PATH"" ]; then echo >&2 ""Config file not found: $CONFIG_FILE"" return 1 fi local DIR_CODE="""" local NAME="""" while read -r DIR_CODE NAME; do if [[ $DIR_CODE =~ ^# ]]; then # Skip lines that are commented out continue else local DIR=""$(src_dir_code_to_dir ""$DIR_CODE"")"" local SCR_PATH=$DIR/$NAME echo ""$SCR_PATH"" fi done < ""$CONFIG_PATH"" } # vim: set ai ts=4 sw=4 et ft=sh: ",,142,0
openstack%2Fpython-glanceclient~master~Id1f320af05d9344645836359758e4aa227aafc69,openstack/python-glanceclient,master,Id1f320af05d9344645836359758e4aa227aafc69,Add support for location parameters in v2 commands,MERGED,2014-02-11 03:18:09.000000000,2014-06-17 09:13:41.000000000,2014-06-17 09:13:41.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 6159}, {'_account_id': 6484}, {'_account_id': 6549}, {'_account_id': 9096}, {'_account_id': 9126}, {'_account_id': 9520}]","[{'number': 1, 'created': '2014-02-11 03:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/71143ed42a2c2f81d877b4b93321498074504287', 'message': 'Add support for location parameters in v2 commands\n\nCurrently glanceclient\'s v2 commands don\'t support modification\noperations on an image\'s location attribute - the argparse specification\nfor the location attribute of the image-update command causes the image\nid argument to be included in list of locations and so the command\nparsing fails (because it causes the image id to appear to be missing).\n\nFurthermore even if the \'locations\' argument were to be accepted by\nargparse (e.g. by changing the argument specs and using --id to specify\nthe image id) the command would still fail because the arguments are\npassed directly to the schema which expects the value of the \'locations\'\nargument to be a valid dictionary (there is nobody to convert the\nargument string to a python dictionary that the schema expects).\n\nThis commit adds the following location related commands to\nglanceclient:\n    --image-location-add: Add a new location to the list of image\n                          locations\n    --image-location-delete: Remove an existing location from the list\n                          of image locations\n    --image-location-update: Update the metadata of existing location\n\nThe glanceclient.v2.images.Controller class has been agumented with\nthree new methods to support the commands listed above:\n    - add_location\n    - delete_locations\n    - update_location\n\nThe server has not been modified, i.e. all location related API requests\nare passed to the server via HTTP PATCH requests and handled by the\nserver\'s image update function.\n\nThe v2 \'image\' and \'shell\' related tests have also been supplemented.\n\nNote that in order to use these options the server must be first\nconfigured to expose location related info to the clients (i.e.\n\'show_multiple_locations\' must be set to \'True"").\n\nI also added a mailmap entry for myself.\n\nChange-Id: Id1f320af05d9344645836359758e4aa227aafc69\nCloses-bug: #1271452\n'}, {'number': 2, 'created': '2014-02-21 03:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/0a5d9299f24dc0749d51363c1d823a04b7a9a3e5', 'message': 'Add support for location parameters in v2 commands\n\nCurrently glanceclient\'s v2 commands don\'t support modification\noperations on an image\'s location attribute - the argparse specification\nfor the location attribute of the image-update command causes the image\nid argument to be included in list of locations and so the command\nparsing fails (because it causes the image id to appear to be missing).\n\nFurthermore even if the \'locations\' argument were to be accepted by\nargparse (e.g. by changing the argument specs and using --id to specify\nthe image id) the command would still fail because the arguments are\npassed directly to the schema which expects the value of the \'locations\'\nargument to be a valid dictionary (there is nobody to convert the\nargument string to a python dictionary that the schema expects).\n\nThis commit adds the following location related commands to\nglanceclient:\n    --image-location-add: Add a new location to the list of image\n                          locations\n    --image-location-delete: Remove an existing location from the list\n                          of image locations\n    --image-location-update: Update the metadata of existing location\n\nThe glanceclient.v2.images.Controller class has been agumented with\nthree new methods to support the commands listed above:\n    - add_location\n    - delete_locations\n    - update_location\n\nThe server has not been modified, i.e. all location related API requests\nare passed to the server via HTTP PATCH requests and handled by the\nserver\'s image update function.\n\nThe v2 \'image\' and \'shell\' related tests have also been supplemented.\n\nNote that in order to use these options the server must be first\nconfigured to expose location related info to the clients (i.e.\n\'show_multiple_locations\' must be set to \'True"").\n\nI also added a mailmap entry for myself.\n\nChange-Id: Id1f320af05d9344645836359758e4aa227aafc69\nCloses-bug: #1271452\n'}, {'number': 3, 'created': '2014-02-21 06:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/7568c1fa963e3659f154a10ccd00fb5cc5008c0a', 'message': 'Add support for location parameters in v2 commands\n\nCurrently glanceclient\'s v2 commands don\'t support modification\noperations on an image\'s location attribute - the argparse specification\nfor the location attribute of the image-update command causes the image\nid argument to be included in list of locations and so the command\nparsing fails (because it causes the image id to appear to be missing).\n\nFurthermore even if the \'locations\' argument were to be accepted by\nargparse (e.g. by changing the argument specs and using --id to specify\nthe image id) the command would still fail because the arguments are\npassed directly to the schema which expects the value of the \'locations\'\nargument to be a valid dictionary (there is nobody to convert the\nargument string to a python dictionary that the schema expects).\n\nThis commit adds the following location related commands to\nglanceclient:\n    --image-location-add: Add a new location to the list of image\n                          locations\n    --image-location-delete: Remove an existing location from the list\n                          of image locations\n    --image-location-update: Update the metadata of existing location\n\nThe glanceclient.v2.images.Controller class has been agumented with\nthree new methods to support the commands listed above:\n    - add_location\n    - delete_locations\n    - update_location\n\nThe server has not been modified, i.e. all location related API requests\nare passed to the server via HTTP PATCH requests and handled by the\nserver\'s image update function.\n\nThe v2 \'image\' and \'shell\' related tests have also been supplemented.\n\nNote that in order to use these options the server must be first\nconfigured to expose location related info to the clients (i.e.\n\'show_multiple_locations\' must be set to \'True"").\n\nI also added a mailmap entry for myself.\n\nChange-Id: Id1f320af05d9344645836359758e4aa227aafc69\nCloses-bug: #1271452\n'}, {'number': 4, 'created': '2014-04-03 01:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/9fb47deec87e610e7302c65c7d56fffec691dcda', 'message': 'Add support for location parameters in v2 commands\n\nCurrently glanceclient\'s v2 commands don\'t support modification\noperations on an image\'s location attribute - the argparse specification\nfor the location attribute of the image-update command causes the image\nid argument to be included in list of locations and so the command\nparsing fails (because it causes the image id to appear to be missing).\n\nFurthermore even if the \'locations\' argument were to be accepted by\nargparse (e.g. by changing the argument specs and using --id to specify\nthe image id) the command would still fail because the arguments are\npassed directly to the schema which expects the value of the \'locations\'\nargument to be a valid dictionary (there is nobody to convert the\nargument string to a python dictionary that the schema expects).\n\nThis commit adds the following location related commands to\nglanceclient:\n    --location-add: Add a new location to the list of image locations.\n    --location-delete: Remove an existing location from the list of\n        image locations.\n    --location-update: Update the metadata of existing location.\n\nThe glanceclient.v2.images.Controller class has been agumented with\nthree new methods to support the commands listed above:\n    - add_location\n    - delete_locations\n    - update_location\n\nThe server has not been modified, i.e. all location related API requests\nare passed to the server via HTTP PATCH requests and handled by the\nserver\'s image update function.\n\nThe v2 \'image\' and \'shell\' related tests have also been supplemented.\n\nNote that in order to use these options the server must be first\nconfigured to expose location related info to the clients (i.e.\n\'show_multiple_locations\' must be set to \'True"").\n\nI also added a mailmap entry for myself.\n\nChange-Id: Id1f320af05d9344645836359758e4aa227aafc69\nCloses-bug: #1271452\n'}, {'number': 5, 'created': '2014-06-11 04:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/995667a57856a4ca67d2b23d62a49d4b422f44c6', 'message': 'Add support for location parameters in v2 commands\n\nCurrently glanceclient\'s v2 commands don\'t support modification\noperations on an image\'s location attribute - the argparse specification\nfor the location attribute of the image-update command causes the image\nid argument to be included in list of locations and so the command\nparsing fails (because it causes the image id to appear to be missing).\n\nFurthermore even if the \'locations\' argument were to be accepted by\nargparse (e.g. by changing the argument specs and using --id to specify\nthe image id) the command would still fail because the arguments are\npassed directly to the schema which expects the value of the \'locations\'\nargument to be a valid dictionary (there is nobody to convert the\nargument string to a python dictionary that the schema expects).\n\nThis commit adds the following location related commands to\nglanceclient:\n    --location-add: Add a new location to the list of image locations.\n    --location-delete: Remove an existing location from the list of\n        image locations.\n    --location-update: Update the metadata of existing location.\n\nThe glanceclient.v2.images.Controller class has been agumented with\nthree new methods to support the commands listed above:\n    - add_location\n    - delete_locations\n    - update_location\n\nThe server has not been modified, i.e. all location related API requests\nare passed to the server via HTTP PATCH requests and handled by the\nserver\'s image update function.\n\nThe v2 \'image\' and \'shell\' related tests have also been supplemented.\n\nNote that in order to use these options the server must be first\nconfigured to expose location related info to the clients (i.e.\n\'show_multiple_locations\' must be set to \'True"").\n\nI also added a mailmap entry for myself.\n\nChange-Id: Id1f320af05d9344645836359758e4aa227aafc69\nCloses-bug: #1271452\n'}, {'number': 6, 'created': '2014-06-11 13:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/17732f578bebf1cb977f5871f514b9172d097276', 'message': 'Add support for location parameters in v2 commands\n\nCurrently glanceclient\'s v2 commands don\'t support modification\noperations on an image\'s location attribute - the argparse specification\nfor the location attribute of the image-update command causes the image\nid argument to be included in list of locations and so the command\nparsing fails (because it causes the image id to appear to be missing).\n\nFurthermore even if the \'locations\' argument were to be accepted by\nargparse (e.g. by changing the argument specs and using --id to specify\nthe image id) the command would still fail because the arguments are\npassed directly to the schema which expects the value of the \'locations\'\nargument to be a valid dictionary (there is nobody to convert the\nargument string to a python dictionary that the schema expects).\n\nThis commit adds the following location related commands to\nglanceclient:\n    --location-add: Add a new location to the list of image locations.\n    --location-delete: Remove an existing location from the list of\n        image locations.\n    --location-update: Update the metadata of existing location.\n\nThe glanceclient.v2.images.Controller class has been agumented with\nthree new methods to support the commands listed above:\n    - add_location\n    - delete_locations\n    - update_location\n\nThe server has not been modified, i.e. all location related API requests\nare passed to the server via HTTP PATCH requests and handled by the\nserver\'s image update function.\n\nThe v2 \'image\' and \'shell\' related tests have also been supplemented.\n\nNote that in order to use these options the server must be first\nconfigured to expose location related info to the clients (i.e.\n\'show_multiple_locations\' must be set to \'True"").\n\nI also added a mailmap entry for myself.\n\nDocImpact\nCloses-bug: #1271452\nCo-Author: David Koo (koofoss) <david.koo@huawei.com>\n\nChange-Id: Id1f320af05d9344645836359758e4aa227aafc69\n'}, {'number': 7, 'created': '2014-06-12 13:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/278ce3c17cee225c0d2af8266bf8f73ca98cb649', 'message': 'Add support for location parameters in v2 commands\n\nCurrently glanceclient\'s v2 commands don\'t support modification\noperations on an image\'s location attribute - the argparse specification\nfor the location attribute of the image-update command causes the image\nid argument to be included in list of locations and so the command\nparsing fails (because it causes the image id to appear to be missing).\n\nFurthermore even if the \'locations\' argument were to be accepted by\nargparse (e.g. by changing the argument specs and using --id to specify\nthe image id) the command would still fail because the arguments are\npassed directly to the schema which expects the value of the \'locations\'\nargument to be a valid dictionary (there is nobody to convert the\nargument string to a python dictionary that the schema expects).\n\nThis commit adds the following location related commands to\nglanceclient:\n    --location-add: Add a new location to the list of image locations.\n    --location-delete: Remove an existing location from the list of\n        image locations.\n    --location-update: Update the metadata of existing location.\n\nThe glanceclient.v2.images.Controller class has been agumented with\nthree new methods to support the commands listed above:\n    - add_location\n    - delete_locations\n    - update_location\n\nThe server has not been modified, i.e. all location related API requests\nare passed to the server via HTTP PATCH requests and handled by the\nserver\'s image update function.\n\nThe v2 \'image\' and \'shell\' related tests have also been supplemented.\n\nNote that in order to use these options the server must be first\nconfigured to expose location related info to the clients (i.e.\n\'show_multiple_locations\' must be set to \'True"").\n\nI also added a mailmap entry for myself.\n\nDocImpact\nCloses-bug: #1271452\nCo-Author: David Koo (koofoss) <david.koo@huawei.com>\n\nChange-Id: Id1f320af05d9344645836359758e4aa227aafc69\n'}, {'number': 8, 'created': '2014-06-13 07:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/cb1eb6458744e7ee01a0452668cde997b237f217', 'message': 'Add support for location parameters in v2 commands\n\nCurrently glanceclient\'s v2 commands don\'t support modification\noperations on an image\'s location attribute - the argparse specification\nfor the location attribute of the image-update command causes the image\nid argument to be included in list of locations and so the command\nparsing fails (because it causes the image id to appear to be missing).\n\nFurthermore even if the \'locations\' argument were to be accepted by\nargparse (e.g. by changing the argument specs and using --id to specify\nthe image id) the command would still fail because the arguments are\npassed directly to the schema which expects the value of the \'locations\'\nargument to be a valid dictionary (there is nobody to convert the\nargument string to a python dictionary that the schema expects).\n\nThis commit adds the following location related commands to\nglanceclient:\n    --location-add: Add a new location to the list of image locations.\n    --location-delete: Remove an existing location from the list of\n        image locations.\n    --location-update: Update the metadata of existing location.\n\nThe glanceclient.v2.images.Controller class has been agumented with\nthree new methods to support the commands listed above:\n    - add_location\n    - delete_locations\n    - update_location\n\nThe server has not been modified, i.e. all location related API requests\nare passed to the server via HTTP PATCH requests and handled by the\nserver\'s image update function.\n\nThe v2 \'image\' and \'shell\' related tests have also been supplemented.\n\nNote that in order to use these options the server must be first\nconfigured to expose location related info to the clients (i.e.\n\'show_multiple_locations\' must be set to \'True"").\n\nI also added a mailmap entry for myself.\n\nDocImpact\nCloses-bug: #1271452\nCo-Author: David Koo (koofoss) <david.koo@huawei.com>\n\nChange-Id: Id1f320af05d9344645836359758e4aa227aafc69\n'}, {'number': 9, 'created': '2014-06-16 03:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/546967dc256d8d6dc2308fe531bee7b272e9dd2c', 'message': 'Add support for location parameters in v2 commands\n\nCurrently glanceclient\'s v2 commands don\'t support modification\noperations on an image\'s location attribute - the argparse specification\nfor the location attribute of the image-update command causes the image\nid argument to be included in list of locations and so the command\nparsing fails (because it causes the image id to appear to be missing).\n\nFurthermore even if the \'locations\' argument were to be accepted by\nargparse (e.g. by changing the argument specs and using --id to specify\nthe image id) the command would still fail because the arguments are\npassed directly to the schema which expects the value of the \'locations\'\nargument to be a valid dictionary (there is nobody to convert the\nargument string to a python dictionary that the schema expects).\n\nThis commit adds the following location related commands to\nglanceclient:\n    --location-add: Add a new location to the list of image locations.\n    --location-delete: Remove an existing location from the list of\n        image locations.\n    --location-update: Update the metadata of existing location.\n\nThe glanceclient.v2.images.Controller class has been agumented with\nthree new methods to support the commands listed above:\n    - add_location\n    - delete_locations\n    - update_location\n\nThe server has not been modified, i.e. all location related API requests\nare passed to the server via HTTP PATCH requests and handled by the\nserver\'s image update function.\n\nThe v2 \'image\' and \'shell\' related tests have also been supplemented.\n\nNote that in order to use these options the server must be first\nconfigured to expose location related info to the clients (i.e.\n\'show_multiple_locations\' must be set to \'True"").\n\nI also added a mailmap entry for myself.\n\nDocImpact\nCloses-bug: #1271452\nCo-Author: David Koo (koofoss) <david.koo@huawei.com>\n\nChange-Id: Id1f320af05d9344645836359758e4aa227aafc69\n'}, {'number': 10, 'created': '2014-06-16 04:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/774a1be7ea9f9daa2b742eaf947714ee9b599aaf', 'message': 'Add support for location parameters in v2 commands\n\nCurrently glanceclient\'s v2 commands don\'t support modification\noperations on an image\'s location attribute - the argparse specification\nfor the location attribute of the image-update command causes the image\nid argument to be included in list of locations and so the command\nparsing fails (because it causes the image id to appear to be missing).\n\nFurthermore even if the \'locations\' argument were to be accepted by\nargparse (e.g. by changing the argument specs and using --id to specify\nthe image id) the command would still fail because the arguments are\npassed directly to the schema which expects the value of the \'locations\'\nargument to be a valid dictionary (there is nobody to convert the\nargument string to a python dictionary that the schema expects).\n\nThis commit adds the following location related commands to\nglanceclient:\n    --location-add: Add a new location to the list of image locations.\n    --location-delete: Remove an existing location from the list of\n        image locations.\n    --location-update: Update the metadata of existing location.\n\nThe glanceclient.v2.images.Controller class has been agumented with\nthree new methods to support the commands listed above:\n    - add_location\n    - delete_locations\n    - update_location\n\nThe server has not been modified, i.e. all location related API requests\nare passed to the server via HTTP PATCH requests and handled by the\nserver\'s image update function.\n\nThe v2 \'image\' and \'shell\' related tests have also been supplemented.\n\nNote that in order to use these options the server must be first\nconfigured to expose location related info to the clients (i.e.\n\'show_multiple_locations\' must be set to \'True"").\n\nI also added a mailmap entry for myself.\n\nDocImpact\nCloses-bug: #1271452\nCo-Author: David Koo (koofoss) <david.koo@huawei.com>\n\nChange-Id: Id1f320af05d9344645836359758e4aa227aafc69\n'}, {'number': 11, 'created': '2014-06-16 21:57:24.000000000', 'files': ['tests/v2/test_images.py', 'glanceclient/v2/images.py', 'glanceclient/v2/shell.py', '.mailmap', 'tests/v2/test_shell_v2.py', 'glanceclient/common/utils.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/323d32cc6d28434ad57f3ddd5253b9a8950b4c8a', 'message': 'Add support for location parameters in v2 commands\n\nCurrently glanceclient\'s v2 commands don\'t support modification\noperations on an image\'s location attribute - the argparse specification\nfor the location attribute of the image-update command causes the image\nid argument to be included in list of locations and so the command\nparsing fails (because it causes the image id to appear to be missing).\n\nFurthermore even if the \'locations\' argument were to be accepted by\nargparse (e.g. by changing the argument specs and using --id to specify\nthe image id) the command would still fail because the arguments are\npassed directly to the schema which expects the value of the \'locations\'\nargument to be a valid dictionary (there is nobody to convert the\nargument string to a python dictionary that the schema expects).\n\nThis commit adds the following location related commands to\nglanceclient:\n    --location-add: Add a new location to the list of image locations.\n    --location-delete: Remove an existing location from the list of\n        image locations.\n    --location-update: Update the metadata of existing location.\n\nThe glanceclient.v2.images.Controller class has been agumented with\nthree new methods to support the commands listed above:\n    - add_location\n    - delete_locations\n    - update_location\n\nThe server has not been modified, i.e. all location related API requests\nare passed to the server via HTTP PATCH requests and handled by the\nserver\'s image update function.\n\nThe v2 \'image\' and \'shell\' related tests have also been supplemented.\n\nNote that in order to use these options the server must be first\nconfigured to expose location related info to the clients (i.e.\n\'show_multiple_locations\' must be set to \'True"").\n\nI also added a mailmap entry for myself.\n\nDocImpact\nCloses-bug: #1271452\nCo-Author: David Koo (koofoss) <david.koo@huawei.com>\n\nChange-Id: Id1f320af05d9344645836359758e4aa227aafc69\n'}]",18,72539,323d32cc6d28434ad57f3ddd5253b9a8950b4c8a,63,8,11,9520,,,0,"Add support for location parameters in v2 commands

Currently glanceclient's v2 commands don't support modification
operations on an image's location attribute - the argparse specification
for the location attribute of the image-update command causes the image
id argument to be included in list of locations and so the command
parsing fails (because it causes the image id to appear to be missing).

Furthermore even if the 'locations' argument were to be accepted by
argparse (e.g. by changing the argument specs and using --id to specify
the image id) the command would still fail because the arguments are
passed directly to the schema which expects the value of the 'locations'
argument to be a valid dictionary (there is nobody to convert the
argument string to a python dictionary that the schema expects).

This commit adds the following location related commands to
glanceclient:
    --location-add: Add a new location to the list of image locations.
    --location-delete: Remove an existing location from the list of
        image locations.
    --location-update: Update the metadata of existing location.

The glanceclient.v2.images.Controller class has been agumented with
three new methods to support the commands listed above:
    - add_location
    - delete_locations
    - update_location

The server has not been modified, i.e. all location related API requests
are passed to the server via HTTP PATCH requests and handled by the
server's image update function.

The v2 'image' and 'shell' related tests have also been supplemented.

Note that in order to use these options the server must be first
configured to expose location related info to the clients (i.e.
'show_multiple_locations' must be set to 'True"").

I also added a mailmap entry for myself.

DocImpact
Closes-bug: #1271452
Co-Author: David Koo (koofoss) <david.koo@huawei.com>

Change-Id: Id1f320af05d9344645836359758e4aa227aafc69
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/39/72539/9 && git format-patch -1 --stdout FETCH_HEAD,"['tests/v2/test_images.py', 'glanceclient/v2/images.py', 'glanceclient/v2/shell.py', '.mailmap', 'tests/v2/test_shell_v2.py']",5,71143ed42a2c2f81d877b4b93321498074504287,alternate/bugfix/1271452,"import json def assert_exits_with_msg(self, func, func_args, err_msg): def test_do_image_location_add_update_with_invalid_json_metadata(self): args = self._make_args({'id': 'pass', 'url': 'http://foo/bar', 'metadata': '{1, 2, 3}'}) self.assert_exits_with_msg(test_shell.do_image_location_add, args, 'Metadata is not a valid JSON object.') self.assert_exits_with_msg(test_shell.do_image_location_update, args, 'Metadata is not a valid JSON object.') def test_do_image_location_add(self): gc = self.gc loc = {'url': 'http://foo.com/', 'metadata': {'foo': 'bar'}} args = self._make_args({'id': 'pass', 'url': loc['url'], 'metadata': json.dumps(loc['metadata'])}) with mock.patch.object(gc.images, 'add_location') as mocked_addloc: expect_image = {'id': 'pass', 'locations': [loc]} mocked_addloc.return_value = expect_image test_shell.do_image_location_add(self.gc, args) mocked_addloc.assert_called_once_with('pass', loc['url'], loc['metadata']) utils.print_dict.assert_called_once_with(expect_image) def test_do_image_location_delete(self): gc = self.gc loc_set = set(['http://foo/bar', 'http://spam/ham']) args = self._make_args({'id': 'pass', 'url': loc_set}) with mock.patch.object(gc.images, 'delete_locations') as mocked_rmloc: expect_image = {'id': 'pass', 'locations': []} test_shell.do_image_location_delete(self.gc, args) mocked_rmloc.assert_called_once_with('pass', loc_set) def test_do_image_location_update(self): gc = self.gc loc = {'url': 'http://foo.com/', 'metadata': {'foo': 'bar'}} args = self._make_args({'id': 'pass', 'url': loc['url'], 'metadata': json.dumps(loc['metadata'])}) with mock.patch.object(gc.images, 'update_location') as mocked_modloc: expect_image = {'id': 'pass', 'locations': [loc]} mocked_modloc.return_value = expect_image test_shell.do_image_location_update(self.gc, args) mocked_modloc.assert_called_once_with('pass', loc['url'], loc['metadata']) utils.print_dict.assert_called_once_with(expect_image) self.assert_exits_with_msg(func=test_shell.do_member_create, func_args=args, err_msg=msg) self.assert_exits_with_msg(func=test_shell.do_member_update, func_args=args, err_msg=msg) self.assert_exits_with_msg(func=test_shell.do_member_delete, func_args=args, err_msg=msg) self.assert_exits_with_msg(func=test_shell.do_image_tag_update, func_args=args, err_msg=msg) self.assert_exits_with_msg(func=test_shell.do_image_tag_delete, func_args=args, err_msg=msg)"," def _test_with_few_arguments(self, func, func_args, err_msg): self._test_with_few_arguments(func=test_shell.do_member_create, func_args=args, err_msg=msg) self._test_with_few_arguments(func=test_shell.do_member_update, func_args=args, err_msg=msg) self._test_with_few_arguments(func=test_shell.do_member_delete, func_args=args, err_msg=msg) self._test_with_few_arguments(func=test_shell.do_image_tag_update, func_args=args, err_msg=msg) self._test_with_few_arguments(func=test_shell.do_image_tag_delete, func_args=args, err_msg=msg)",360,29
openstack%2Fmurano-dashboard~master~I18d1e9fa44395424361148b72b9dd0b7100947a2,openstack/murano-dashboard,master,I18d1e9fa44395424361148b72b9dd0b7100947a2,Change image title in dashboard test,MERGED,2014-06-11 11:32:53.000000000,2014-06-17 09:09:15.000000000,2014-06-17 09:09:14.000000000,"[{'_account_id': 3}, {'_account_id': 7226}, {'_account_id': 7562}, {'_account_id': 7600}, {'_account_id': 7821}, {'_account_id': 8040}, {'_account_id': 8127}, {'_account_id': 8592}]","[{'number': 1, 'created': '2014-06-11 11:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/5c0393100c4deb824e48d6ea25ca189500ca9e82', 'message': 'Change image title in dashboard tests to avoid problem with parallel execution\n\nChange-Id: I18d1e9fa44395424361148b72b9dd0b7100947a2\n'}, {'number': 2, 'created': '2014-06-11 11:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/55bd94c9a00e9bef75889b4bde80c3388b49f028', 'message': 'Change image title in dashboard tests to avoid problem with parallel execution\n\nChange-Id: I18d1e9fa44395424361148b72b9dd0b7100947a2\n'}, {'number': 3, 'created': '2014-06-11 12:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/91d856cccc68076786240dee1a80605433f6fa5e', 'message': 'Change image title in dashboard tests to avoid problem with parallel execution\n\nChange-Id: I18d1e9fa44395424361148b72b9dd0b7100947a2\n'}, {'number': 4, 'created': '2014-06-11 12:59:06.000000000', 'files': ['functionaltests/sanity_check.py'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/8dcbe289c528c307e2a8cd14b949f5c76c5c10ac', 'message': 'Change image title in dashboard test\n\nImage title was changed to avoid problem with parallel execution\n\nChange-Id: I18d1e9fa44395424361148b72b9dd0b7100947a2\n'}]",0,99341,8dcbe289c528c307e2a8cd14b949f5c76c5c10ac,35,8,4,8592,,,0,"Change image title in dashboard test

Image title was changed to avoid problem with parallel execution

Change-Id: I18d1e9fa44395424361148b72b9dd0b7100947a2
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/41/99341/4 && git format-patch -1 --stdout FETCH_HEAD,['functionaltests/sanity_check.py'],1,5c0393100c4deb824e48d6ea25ca189500ca9e82,,"import testtools import uuid self.image_title = ""TestImage-{0}"".format(uuid.uuid4()[:6]) self.fill_field(by.By.ID, 'id_title', self.image_title) self.assertIn('{""type"": ""windows.2012"", ""title"": ""{0}""}' .format(self.image_title),","import testtools self.fill_field(by.By.ID, 'id_title', 'TestImage') self.assertIn('{""type"": ""windows.2012"", ""title"": ""TestImage""}',",7,4
openstack%2Ftraining-guides~master~Ieb57e77bb65c562d3674b964af4ac28bc8766c65,openstack/training-guides,master,Ieb57e77bb65c562d3674b964af4ac28bc8766c65,Add guest functions library,MERGED,2014-06-17 08:40:46.000000000,2014-06-17 09:08:59.000000000,2014-06-17 09:08:59.000000000,"[{'_account_id': 3}, {'_account_id': 6923}, {'_account_id': 7007}]","[{'number': 1, 'created': '2014-06-17 08:40:46.000000000', 'files': ['labs/lib/functions.guest'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/db8bc7b50b5504cbccdbd149b2cf61d481ac8060', 'message': 'Add guest functions library\n\nThis change adds a library of functions that are used by scripts running\ninside the node VMs (i.e. scripts located in the scripts directory).\n\nMany of them are specific to either Vagrant or osbash, so they might\nget split out later on.\n\nPartial-Bug: 1312764\nImplements: blueprint openstack-training-labs\nChange-Id: Ieb57e77bb65c562d3674b964af4ac28bc8766c65\n'}]",0,100448,db8bc7b50b5504cbccdbd149b2cf61d481ac8060,7,3,1,11109,,,0,"Add guest functions library

This change adds a library of functions that are used by scripts running
inside the node VMs (i.e. scripts located in the scripts directory).

Many of them are specific to either Vagrant or osbash, so they might
get split out later on.

Partial-Bug: 1312764
Implements: blueprint openstack-training-labs
Change-Id: Ieb57e77bb65c562d3674b964af4ac28bc8766c65
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/48/100448/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/lib/functions.guest'],1,db8bc7b50b5504cbccdbd149b2cf61d481ac8060,bug/1312764,"# This file contains bash functions that may be used by guest systems (VMs). # Sourcing this file calls functions fix_path_env and source_deploy. source ""$LIB_DIR/functions"" source ""$LIB_DIR/functions-common-devstack"" function source_deploy { if [ -n ""${VM_SHELL_USER:-}"" ]; then # Already sourced return 0 fi if mountpoint -q /vagrant; then source ""$CONFIG_DIR/deploy.vagrant"" else source ""$CONFIG_DIR/deploy.osbash"" fi } # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - # If our sudo user's PATH is preserved (and does not contain sbin dirs), # some commands won't be found. Observed with Vagrant shell provisioner # scripts using sudo after ""su - vagrant"". # Adding to the path seems preferable to messing with the vagrant user's # sudoers environment (or working with a separate Vagrant user). function fix_path_env { if is_root; then return 0; fi if echo 'echo $PATH'|sudo sh|grep -q '/sbin'; then return 0; fi export PATH=$PATH:/sbin:/usr/sbin:/usr/local/sbin } # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - function zero_empty_space { echo ""Filling empty disk space with zeros"" sudo dd if=/dev/zero of=/filler bs=1M 2>/dev/null || true sudo rm /filler } # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - # Used by guest scripts to let osbash know they are running function indicate_current_auto { if [ ""${VM_SHELL_USER:-}"" = ""osbash"" ]; then local NAME=${1:-$(basename ""$0"")} local FPATH=${2:-""/$STATUS_DIR/$NAME.begin""} mkdir -p ""$STATUS_DIR"" touch ""$FPATH"" fi } # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - # Debug function to make a script halt execution until a tmp file is removed function wait_for_file { local MSG=$1 local WAITFILE=remove_to_continue [ -n ""$MSG"" ] && WAITFILE=${WAITFILE}_${MSG} touch ""/tmp/$WAITFILE"" while [ -e ""/tmp/$WAITFILE"" ]; do sleep 1 done } #------------------------------------------------------------------------------- # Copy stdin/stderr to log file #------------------------------------------------------------------------------- function exec_logpath { local LOG_PATH=$1 # Append all stdin and stderr to log file exec > >(tee -a ""$LOG_PATH"") 2>&1 } function exec_logfile { local LOG_DIR=${1:-/home/$VM_SHELL_USER/log} # Default extension is log local EXT=${2:-log} mkdir -p ""$LOG_DIR"" # Log name based on name of running script local BASE_NAME=$(basename ""$0"" .sh) local PREFIX=$(get_next_prefix ""$LOG_DIR"" ""$EXT"") local LOG_NAME=""${PREFIX}_$BASE_NAME.$EXT"" exec_logpath ""$LOG_DIR/$LOG_NAME"" } #------------------------------------------------------------------------------- # Functions that need to run as root #------------------------------------------------------------------------------- function as_root_fix_mount_vboxsf_link { local FILE=/sbin/mount.vboxsf if [ -L $FILE -a ! -e $FILE ]; then echo ""$FILE is a broken symlink. Trying to fix it."" shopt -s nullglob local NEW=(/opt/VBoxGuestAdditions*/lib/VBoxGuestAdditions) if [ -n ""$NEW"" ]; then ln -sv ""$NEW"" /usr/lib/VBoxGuestAdditions else return 1 fi fi } function as_root_inject_sudoer { if grep -q ""${VM_SHELL_USER}"" /etc/sudoers; then echo ""${VM_SHELL_USER} already in /etc/sudoers"" else echo ""${VM_SHELL_USER} ALL=(ALL) NOPASSWD: ALL"" >> /etc/sudoers echo ""Defaults:${VM_SHELL_USER} !requiretty"" >> /etc/sudoers fi } # Change to a regular user to execute a guest script (and log its output) function as_root_exec_script { local SCRIPT_PATH=$1 local SCRIPT_NAME=""$(basename ""$SCRIPT_PATH"" .sh)"" echo ""$(date) start $SCRIPT_PATH"" local PREFIX=$(get_next_prefix ""$LOG_DIR"" ""auto"") local LOG_PATH=$LOG_DIR/${PREFIX}_$SCRIPT_NAME.auto su - ""$VM_SHELL_USER"" -c ""bash $SCRIPT_PATH"" >""$LOG_PATH"" 2>&1 echo ""$(date) done"" } #------------------------------------------------------------------------------- # Network configuration #------------------------------------------------------------------------------- # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - # Fedora /etc/sysconfig/network-scripts/ifcfg-* configuration # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - function _ifnum_to_ifname_fedora { local IF_NUM=$1 local -a IF_NAMES=('p2p1' 'p7p1' 'p8p1' 'p9p1') echo ""${IF_NAMES[$IF_NUM]}"" } function _config_sysconfig_nat { local IF_NUM=$1 local IF_NAME=""$(_ifnum_to_ifname_fedora ""$IF_NUM"")"" local IF_FILE=/etc/sysconfig/network-scripts/ifcfg-$IF_NAME sed -e "" s,%IF_NAME%,$IF_NAME,g; "" ""$TEMPLATE_DIR/template-fedora-ifcfg-nat"" | sudo tee ""$IF_FILE"" } function _config_sysconfig_hostonly { local IF_NUM=$1 local IP_ADDRESS=$2 local IF_NAME=""$(_ifnum_to_ifname_fedora ""$IF_NUM"")"" local IF_FILE=/etc/sysconfig/network-scripts/ifcfg-$IF_NAME sed -e "" s,%IF_NAME%,$IF_NAME,g; s,%IP_ADDRESS%,$IP_ADDRESS,g; "" ""$TEMPLATE_DIR/template-fedora-ifcfg-hostonly"" | sudo tee ""$IF_FILE"" } # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - # Ubuntu /etc/network/interfaces configuration # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - readonly UBUNTU_IF_FILE=/etc/network/interfaces function _ifnum_to_ifname_ubuntu { local IF_NUM=$1 local -a IF_NAMES=('eth0' 'eth1' 'eth2' 'eth3') echo ""${IF_NAMES[$IF_NUM]}"" } function _config_interfaces_nat { local IF_NAME=eth0 local IF_NAME=""$(_ifnum_to_ifname_ubuntu ""$IF_NUM"")"" # Empty line before this entry echo | sudo tee -a ""$UBUNTU_IF_FILE"" sed -e "" s,%IF_NAME%,$IF_NAME,g; "" ""$TEMPLATE_DIR/template-ubuntu-interfaces-nat"" | sudo tee -a ""$UBUNTU_IF_FILE"" } function _config_interfaces_hostonly { local IF_NUM=$1 local IP_ADDRESS=$2 local IF_NAME=""$(_ifnum_to_ifname_ubuntu ""$IF_NUM"")"" # Empty line before this entry echo | sudo tee -a ""$UBUNTU_IF_FILE"" sed -e "" s,%IF_NAME%,$IF_NAME,g; s,%IP_ADDRESS%,$IP_ADDRESS,g; "" ""$TEMPLATE_DIR/template-ubuntu-interfaces-hostonly"" | sudo tee -a ""$UBUNTU_IF_FILE"" } # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - function config_nat { local IF_NUM=$1 if is_fedora; then echo _config_sysconfig_nat ""$IF_NUM"" _config_sysconfig_nat ""$IF_NUM"" else echo _config_interfaces_nat ""$IF_NUM"" _config_interfaces_nat ""$IF_NUM"" fi } function config_hostonly { local IF_NUM=$1 local IP_ADDRESS=$2 if is_fedora; then echo _config_sysconfig_hostonly ""$IF_NUM"" ""$IP_ADDRESS"" _config_sysconfig_hostonly ""$IF_NUM"" ""$IP_ADDRESS"" else echo _config_interfaces_hostonly ""$IF_NUM"" ""$IP_ADDRESS"" _config_interfaces_hostonly ""$IF_NUM"" ""$IP_ADDRESS"" fi } function get_ip_from_net_and_fourth { local NET_NAME=$1 local NET=""${!NET_NAME}"" local FOURTH_OCTET=$2 echo ""${NET%.*}.$FOURTH_OCTET"" } function config_network { if is_ubuntu; then # Configuration functions will append to this file sudo cp -v ""$TEMPLATE_DIR/template-ubuntu-interfaces-loopback"" \ ""$UBUNTU_IF_FILE"" fi # Get FOURTH_OCTET and network interfaces (NET_IF_?) for this node unset -v NET_IF_0 NET_IF_1 NET_IF_2 NET_IF_3 source ""$CONFIG_DIR/config.$(hostname)"" # Get API_NET, DATA_NET, MGMT_NET source ""$CONFIG_DIR/openstack"" # Iterate over all NET_IF_? variables local NET_IFS=( ""${!NET_IF_@}"" ) local NET_IF="""" for NET_IF in ""${NET_IFS[@]}""; do echo >&2 -n ""${NET_IF} ${!NET_IF}"" local IF_NUM=${NET_IF##*_} if [ ""${!NET_IF}"" = ""nat"" ]; then echo >&2 config_nat ""$IF_NUM"" else # Host-only network: NET_IF is net name (e.g. API_NET) # Use corresponding value (e.g. 192.168.100.1) IP=""$(get_ip_from_net_and_fourth ""${!NET_IF}"" ""$FOURTH_OCTET"")"" echo >&2 "" $IP"" config_hostonly ""$IF_NUM"" ""$IP"" fi done } #------------------------------------------------------------------------------- fix_path_env source_deploy #------------------------------------------------------------------------------- # vim: set ai ts=4 sw=4 et ft=sh: ",,286,0
openstack%2Fnova~master~I146f1d082fa37e1a5c09aa8c5363746daffbc219,openstack/nova,master,I146f1d082fa37e1a5c09aa8c5363746daffbc219,Fix api direct use of instance module objects,MERGED,2014-05-17 20:31:35.000000000,2014-06-17 09:08:21.000000000,2014-06-17 01:23:35.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2271}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 7494}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-05-17 20:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5faa93a1bd71882566fe85c6571dab425bd97bfd', 'message': 'Fix api direct use of instance module objects\n\nThis switches the nova/api and nova/tests/api code to use\nnova.objects.Instance* vs nova.objects.instance.Instance*.\n\nChange-Id: I146f1d082fa37e1a5c09aa8c5363746daffbc219\n'}, {'number': 2, 'created': '2014-05-17 22:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af91f765019e502ea9576af0f2bb76e43e5fd18f', 'message': 'Fix api direct use of instance module objects\n\nThis switches the nova/api and nova/tests/api code to use\nnova.objects.Instance* vs nova.objects.instance.Instance*.\n\nChange-Id: I146f1d082fa37e1a5c09aa8c5363746daffbc219\n'}, {'number': 3, 'created': '2014-05-18 00:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49134a32619388366285971057faae5d20471cca', 'message': 'Fix api direct use of instance module objects\n\nThis switches the nova/api and nova/tests/api code to use\nnova.objects.Instance* vs nova.objects.instance.Instance*.\n\nChange-Id: I146f1d082fa37e1a5c09aa8c5363746daffbc219\n'}, {'number': 4, 'created': '2014-05-19 15:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5fb43b9b77dcf8e33d71dcff41036e885ccf86de', 'message': 'Fix api direct use of instance module objects\n\nThis switches the nova/api and nova/tests/api code to use\nnova.objects.Instance* vs nova.objects.instance.Instance*.\n\nChange-Id: I146f1d082fa37e1a5c09aa8c5363746daffbc219\n'}, {'number': 5, 'created': '2014-05-19 15:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b03b479f485c8e8a72cdbcf0d3ef52f1c959908', 'message': 'Fix api direct use of instance module objects\n\nThis switches the nova/api and nova/tests/api code to use\nnova.objects.Instance* vs nova.objects.instance.Instance*.\n\nChange-Id: I146f1d082fa37e1a5c09aa8c5363746daffbc219\n'}, {'number': 6, 'created': '2014-05-20 07:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f40f50224e0104fbccba6e9461967e61476bb37', 'message': 'Fix api direct use of instance module objects\n\nThis switches the nova/api and nova/tests/api code to use\nnova.objects.Instance* vs nova.objects.instance.Instance*.\n\nPartial-Blueprint: object-subclassing\n\nChange-Id: I146f1d082fa37e1a5c09aa8c5363746daffbc219\n'}, {'number': 7, 'created': '2014-05-20 14:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3aca1f1526d8ee4c10e5d2ebe6d4834b80e8365', 'message': 'Fix api direct use of instance module objects\n\nThis switches the nova/api and nova/tests/api code to use\nnova.objects.Instance* vs nova.objects.instance.Instance*.\n\nPartial-Blueprint: object-subclassing\n\nChange-Id: I146f1d082fa37e1a5c09aa8c5363746daffbc219\n'}, {'number': 8, 'created': '2014-05-20 17:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2cc2405374d6d76640ffb0dcc9330e5e40a3ed0d', 'message': 'Fix api direct use of instance module objects\n\nThis switches the nova/api and nova/tests/api code to use\nnova.objects.Instance* vs nova.objects.instance.Instance*.\n\nPartial-Blueprint: object-subclassing\n\nChange-Id: I146f1d082fa37e1a5c09aa8c5363746daffbc219\n'}, {'number': 9, 'created': '2014-05-20 21:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c3fb36556ccfb53d736846c9ddbefeca1eebea4', 'message': 'Fix api direct use of instance module objects\n\nThis switches the nova/api and nova/tests/api code to use\nnova.objects.Instance* vs nova.objects.instance.Instance*.\n\nPartial-Blueprint: object-subclassing\n\nChange-Id: I146f1d082fa37e1a5c09aa8c5363746daffbc219\n'}, {'number': 10, 'created': '2014-05-20 22:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a500bd1e84986d545d68e93264c94c658a702b02', 'message': 'Fix api direct use of instance module objects\n\nThis switches the nova/api and nova/tests/api code to use\nnova.objects.Instance* vs nova.objects.instance.Instance*.\n\nPartial-Blueprint: object-subclassing\n\nChange-Id: I146f1d082fa37e1a5c09aa8c5363746daffbc219\n'}, {'number': 11, 'created': '2014-05-21 03:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39f037b09ac637aded155ffe661679c1c41d4a51', 'message': 'Fix api direct use of instance module objects\n\nThis switches the nova/api and nova/tests/api code to use\nnova.objects.Instance* vs nova.objects.instance.Instance*.\n\nPartial-Blueprint: object-subclassing\n\nChange-Id: I146f1d082fa37e1a5c09aa8c5363746daffbc219\n'}, {'number': 12, 'created': '2014-05-21 04:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd40e64b182afe7e69185edeeebbbf3ca222d5f6', 'message': 'Fix api direct use of instance module objects\n\nThis switches the nova/api and nova/tests/api code to use\nnova.objects.Instance* vs nova.objects.instance.Instance*.\n\nPartial-Blueprint: object-subclassing\n\nChange-Id: I146f1d082fa37e1a5c09aa8c5363746daffbc219\n'}, {'number': 13, 'created': '2014-05-21 06:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f55aa319ed17ca328f8f1086e2d7e2e840781cc', 'message': 'Fix api direct use of instance module objects\n\nThis switches the nova/api and nova/tests/api code to use\nnova.objects.Instance* vs nova.objects.instance.Instance*.\n\nPartial-Blueprint: object-subclassing\n\nChange-Id: I146f1d082fa37e1a5c09aa8c5363746daffbc219\n'}, {'number': 14, 'created': '2014-05-22 04:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a0ad7b169f5c5adee4be60d1e9a3487730be806', 'message': 'Fix api direct use of instance module objects\n\nThis switches the nova/api and nova/tests/api code to use\nnova.objects.Instance* vs nova.objects.instance.Instance*.\n\nPartial-Blueprint: object-subclassing\n\nChange-Id: I146f1d082fa37e1a5c09aa8c5363746daffbc219\n'}, {'number': 15, 'created': '2014-05-25 17:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf351f25d8342d39d53b3ad399fa817788d621c0', 'message': 'Fix api direct use of instance module objects\n\nThis switches the nova/api and nova/tests/api code to use\nnova.objects.Instance* vs nova.objects.instance.Instance*.\n\nPartial-Blueprint: object-subclassing\n\nChange-Id: I146f1d082fa37e1a5c09aa8c5363746daffbc219\n'}, {'number': 16, 'created': '2014-05-28 15:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c9f6447bd3c8e3f24f6a3c0414f9cb991e80519', 'message': 'Fix api direct use of instance module objects\n\nThis switches the nova/api and nova/tests/api code to use\nnova.objects.Instance* vs nova.objects.instance.Instance*.\n\nPartial-Blueprint: object-subclassing\n\nChange-Id: I146f1d082fa37e1a5c09aa8c5363746daffbc219\n'}, {'number': 17, 'created': '2014-05-29 16:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80ad06ead285e377f4ec5090f42c8ac63e570ea1', 'message': 'Fix api direct use of instance module objects\n\nThis switches the nova/api and nova/tests/api code to use\nnova.objects.Instance* vs nova.objects.instance.Instance*.\n\nPartial-Blueprint: object-subclassing\n\nChange-Id: I146f1d082fa37e1a5c09aa8c5363746daffbc219\n'}, {'number': 18, 'created': '2014-05-30 14:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6e836de8885b1a24f9f99efc50fe8f1d1169083', 'message': 'Fix api direct use of instance module objects\n\nThis switches the nova/api and nova/tests/api code to use\nnova.objects.Instance* vs nova.objects.instance.Instance*.\n\nPartial-Blueprint: object-subclassing\n\nChange-Id: I146f1d082fa37e1a5c09aa8c5363746daffbc219\n'}, {'number': 19, 'created': '2014-06-03 16:08:56.000000000', 'files': ['nova/tests/api/openstack/compute/contrib/test_simple_tenant_usage.py', 'nova/api/openstack/compute/contrib/server_start_stop.py', 'nova/tests/api/openstack/compute/plugins/v3/test_server_usage.py', 'nova/tests/api/openstack/compute/test_server_actions.py', 'nova/api/openstack/compute/views/servers.py', 'nova/api/openstack/compute/contrib/server_groups.py', 'nova/tests/api/ec2/test_cloud.py', 'nova/api/ec2/cloud.py', 'nova/tests/api/openstack/compute/contrib/test_extended_availability_zone.py', 'nova/tests/api/openstack/compute/contrib/test_extended_ips_mac.py', 'nova/api/ec2/ec2utils.py', 'nova/tests/api/openstack/compute/plugins/v3/test_hide_server_addresses.py', 'nova/tests/api/openstack/compute/contrib/test_extended_ips.py', 'nova/tests/api/openstack/compute/test_server_metadata.py', 'nova/tests/api/openstack/compute/contrib/test_server_usage.py', 'nova/api/openstack/compute/plugins/v3/server_external_events.py', 'nova/tests/api/openstack/compute/plugins/v3/test_extended_availability_zone.py', 'nova/api/openstack/compute/contrib/server_external_events.py', 'nova/tests/api/ec2/test_cinder_cloud.py', 'nova/tests/api/openstack/compute/test_servers.py', 'nova/tests/api/openstack/compute/contrib/test_extended_status.py', 'nova/tests/api/openstack/compute/contrib/test_admin_actions.py', 'nova/tests/api/openstack/compute/contrib/test_security_groups.py', 'nova/tests/api/openstack/compute/plugins/v3/test_extended_volumes.py', 'nova/tests/api/openstack/compute/plugins/v3/test_admin_actions.py', 'nova/tests/api/openstack/compute/contrib/test_extended_server_attributes.py', 'nova/tests/api/openstack/compute/contrib/test_hide_server_addresses.py', 'nova/tests/api/openstack/compute/plugins/v3/test_server_metadata.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/api/openstack/compute/contrib/test_server_groups.py', 'nova/tests/api/openstack/compute/plugins/v3/test_extended_status.py', 'nova/tests/api/openstack/compute/plugins/v3/test_security_groups.py', 'nova/api/openstack/compute/plugins/v3/servers.py', 'nova/tests/api/openstack/compute/contrib/test_multinic_xs.py', 'nova/tests/api/openstack/compute/plugins/v3/test_extended_server_attributes.py', 'nova/tests/api/openstack/compute/plugins/v3/test_servers.py', 'nova/tests/api/openstack/compute/contrib/test_extended_volumes.py', 'nova/api/metadata/base.py', 'nova/tests/api/openstack/compute/contrib/test_server_external_events.py', 'nova/tests/api/openstack/compute/plugins/v3/test_server_actions.py', 'nova/tests/api/openstack/compute/plugins/v3/test_server_external_events.py', 'nova/api/openstack/compute/contrib/simple_tenant_usage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a9f54de2773bea258211f9cc4f8c2a362aca7075', 'message': 'Fix api direct use of instance module objects\n\nThis switches the nova/api and nova/tests/api code to use\nnova.objects.Instance* vs nova.objects.instance.Instance*.\n\nPartial-Blueprint: object-subclassing\n\nChange-Id: I146f1d082fa37e1a5c09aa8c5363746daffbc219\n'}]",0,94047,a9f54de2773bea258211f9cc4f8c2a362aca7075,153,12,19,1030,,,0,"Fix api direct use of instance module objects

This switches the nova/api and nova/tests/api code to use
nova.objects.Instance* vs nova.objects.instance.Instance*.

Partial-Blueprint: object-subclassing

Change-Id: I146f1d082fa37e1a5c09aa8c5363746daffbc219
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/94047/18 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/api/openstack/compute/contrib/test_simple_tenant_usage.py', 'nova/api/openstack/compute/contrib/server_start_stop.py', 'nova/tests/api/openstack/compute/plugins/v3/test_server_usage.py', 'nova/tests/api/openstack/compute/test_server_actions.py', 'nova/api/openstack/compute/views/servers.py', 'nova/api/openstack/compute/contrib/server_groups.py', 'nova/tests/api/ec2/test_cloud.py', 'nova/api/ec2/cloud.py', 'nova/tests/api/openstack/compute/contrib/test_extended_availability_zone.py', 'nova/tests/api/openstack/compute/contrib/test_extended_ips_mac.py', 'nova/api/ec2/ec2utils.py', 'nova/tests/api/openstack/compute/plugins/v3/test_hide_server_addresses.py', 'nova/tests/api/openstack/compute/contrib/test_extended_ips.py', 'nova/tests/api/openstack/compute/test_server_metadata.py', 'nova/tests/api/openstack/compute/contrib/test_server_usage.py', 'nova/api/openstack/compute/plugins/v3/server_external_events.py', 'nova/tests/api/openstack/compute/plugins/v3/test_extended_availability_zone.py', 'nova/api/openstack/compute/contrib/server_external_events.py', 'nova/tests/api/ec2/test_cinder_cloud.py', 'nova/tests/api/openstack/compute/test_servers.py', 'nova/tests/api/openstack/compute/contrib/test_extended_status.py', 'nova/tests/api/openstack/compute/contrib/test_admin_actions.py', 'nova/tests/api/openstack/compute/contrib/test_security_groups.py', 'nova/tests/api/openstack/compute/plugins/v3/test_extended_volumes.py', 'nova/tests/api/openstack/compute/plugins/v3/test_admin_actions.py', 'nova/tests/api/openstack/compute/contrib/test_extended_server_attributes.py', 'nova/tests/api/openstack/compute/contrib/test_hide_server_addresses.py', 'nova/tests/api/openstack/compute/plugins/v3/test_server_metadata.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/api/openstack/compute/contrib/test_server_groups.py', 'nova/tests/api/openstack/compute/plugins/v3/test_extended_status.py', 'nova/tests/api/openstack/compute/plugins/v3/test_security_groups.py', 'nova/api/openstack/compute/plugins/v3/servers.py', 'nova/tests/api/openstack/compute/contrib/test_multinic_xs.py', 'nova/tests/api/openstack/compute/plugins/v3/test_extended_server_attributes.py', 'nova/tests/api/openstack/compute/plugins/v3/test_servers.py', 'nova/tests/api/openstack/compute/contrib/test_extended_volumes.py', 'nova/api/metadata/base.py', 'nova/tests/api/openstack/compute/contrib/test_server_external_events.py', 'nova/tests/api/openstack/compute/plugins/v3/test_server_actions.py', 'nova/tests/api/openstack/compute/plugins/v3/test_server_external_events.py', 'nova/api/openstack/compute/contrib/simple_tenant_usage.py']",42,5faa93a1bd71882566fe85c6571dab425bd97bfd,bp/object-subclassing,from nova import objects instances = objects.InstanceList.get_active_by_window_joined(, instances = instance_obj.InstanceList.get_active_by_window_joined(,147,133
openstack%2Fnova~master~I5640df721345fe9a878c7c6f8e1c13cfed484112,openstack/nova,master,I5640df721345fe9a878c7c6f8e1c13cfed484112,Add more logging to nova-network.,MERGED,2014-06-10 10:32:10.000000000,2014-06-17 09:05:28.000000000,2014-06-17 05:35:35.000000000,"[{'_account_id': 3}, {'_account_id': 67}, {'_account_id': 1653}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 6316}, {'_account_id': 6873}, {'_account_id': 7069}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-10 10:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7edaf74eaa2864c35f4b422605b63511147a4c47', 'message': 'Add more logging to nova-network.\n\nAs requested to help debug gate issues.\n\nChange-Id: I5640df721345fe9a878c7c6f8e1c13cfed484112\n'}, {'number': 2, 'created': '2014-06-12 01:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b89fc3a8941a9d4c2fcc8cb9304a15f84e5c56a', 'message': 'Add more logging to nova-network.\n\nAs requested to help debug gate issues.\n\nRelated-Bug: #1298472\n\nChange-Id: I5640df721345fe9a878c7c6f8e1c13cfed484112\n'}, {'number': 3, 'created': '2014-06-14 22:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1e4cc97cab054591bfe55aadb4ac29fa1249d1d', 'message': 'Add more logging to nova-network.\n\nAs requested to help debug gate issues.\n\nRelated-Bug: #1298472\n\nChange-Id: I5640df721345fe9a878c7c6f8e1c13cfed484112\n'}, {'number': 4, 'created': '2014-06-16 21:08:17.000000000', 'files': ['nova/network/manager.py', 'nova/tests/network/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/80c5c87fa24e7007b3d372a0028a5148cd06c66b', 'message': 'Add more logging to nova-network.\n\nAs requested to help debug gate issues.\n\nRelated-Bug: #1298472\n\nChange-Id: I5640df721345fe9a878c7c6f8e1c13cfed484112\n'}]",23,99002,80c5c87fa24e7007b3d372a0028a5148cd06c66b,63,15,4,2271,,,0,"Add more logging to nova-network.

As requested to help debug gate issues.

Related-Bug: #1298472

Change-Id: I5640df721345fe9a878c7c6f8e1c13cfed484112
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/99002/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/manager.py', 'nova/tests/network/test_manager.py']",2,7edaf74eaa2864c35f4b422605b63511147a4c47,network-manager-logging," inst['uuid'] = 'nosuch' self.context, 123, {'uuid': 'nosuch'}) {'cidr': '24', 'id': 1, 'uuid': 'nosuch'}, {'cidr': '24', 'id': 1, 'uuid': 'nosuch'}, {'cidr': '24', 'id': 1, 'uuid': 'nosuch',"," self.context, 123, None) {'cidr': '24', 'id': 1}, {'cidr': '24', 'id': 1}, {'cidr': '24', 'id': 1,",41,8
openstack%2Fpython-novaclient~master~I8678d70897449adf45d65e812362c63838896fb1,openstack/python-novaclient,master,I8678d70897449adf45d65e812362c63838896fb1,Enable F811,ABANDONED,2014-06-17 07:17:52.000000000,2014-06-17 08:58:21.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-06-17 07:17:52.000000000', 'files': ['novaclient/tests/v1_1/test_security_groups.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/9cb44c12fc86ca40b8784e39b66163531aa99d3f', 'message': 'Enable F811\n\nF811 detect redefinition of unused method.\nThis commit fix the violation and enable it in gate.\nChange-Id: I8678d70897449adf45d65e812362c63838896fb1\n'}]",0,100436,9cb44c12fc86ca40b8784e39b66163531aa99d3f,4,1,1,9796,,,0,"Enable F811

F811 detect redefinition of unused method.
This commit fix the violation and enable it in gate.
Change-Id: I8678d70897449adf45d65e812362c63838896fb1
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/36/100436/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/tests/v1_1/test_security_groups.py', 'tox.ini']",2,9cb44c12fc86ca40b8784e39b66163531aa99d3f,enable_F811,"ignore = E12,F821,H302,H404","ignore = E12,F811,F821,H302,H404",2,2
openstack%2Ftraining-guides~master~Ib736b65ec0f87decd81866a60ed82d6f8b5aa0f1,openstack/training-guides,master,Ib736b65ec0f87decd81866a60ed82d6f8b5aa0f1,Add function for creating basedisk,MERGED,2014-06-17 08:12:50.000000000,2014-06-17 08:43:59.000000000,2014-06-17 08:43:59.000000000,"[{'_account_id': 3}, {'_account_id': 6923}, {'_account_id': 7007}]","[{'number': 1, 'created': '2014-06-17 08:12:50.000000000', 'files': ['labs/lib/osbash/virtualbox.install_base'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/8691fc7e1508449c484e6f2209b4f9d4dd4d8a7e', 'message': 'Add function for creating basedisk\n\nThe function introduced with this changeset creates a base disk that\ncan be used to create custom node VMs.\n\nPartial-Bug: 1312764\nImplements: blueprint openstack-training-labs\nChange-Id: Ib736b65ec0f87decd81866a60ed82d6f8b5aa0f1\n'}]",0,100443,8691fc7e1508449c484e6f2209b4f9d4dd4d8a7e,7,3,1,11109,,,0,"Add function for creating basedisk

The function introduced with this changeset creates a base disk that
can be used to create custom node VMs.

Partial-Bug: 1312764
Implements: blueprint openstack-training-labs
Change-Id: Ib736b65ec0f87decd81866a60ed82d6f8b5aa0f1
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/43/100443/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/lib/osbash/virtualbox.install_base'],1,8691fc7e1508449c484e6f2209b4f9d4dd4d8a7e,bug/1312764,"# This bash library contains the main function that creates the base disk. function vm_install_base { local BASE_DISK=$1 local BASE_BUILD_DISK=$DISK_DIR/tmp-disk.vdi # Port used for ssh forwarding when building base disk : ${VM_BASE_SSH_PORT:=2229} echo >&2 ""$(date) osbash vm_install starts."" ${WBATCH:-:} wbatch_begin_base # Don't remove BASE_BUILD_DISK if we are just faking it for wbatch ${OSBASH:-:} rm -f ""$BASE_BUILD_DISK"" ${WBATCH:-:} wbatch_delete_disk ""$BASE_BUILD_DISK"" vm_create ""$VM_BASE_NAME"" vm_mem ""$VM_BASE_NAME"" ""${VM_BASE_MEM:=512}"" if [ -z ""${INSTALL_ISO-}"" ]; then local ISO_NAME=""$(get_iso_name)"" if [ -z ""$ISO_NAME"" ]; then echo >&2 ""Either ISO URL or name needed (ISO_URL, INSTALL_ISO)."" exit 1 fi INSTALL_ISO=$ISO_DIR/$ISO_NAME find_install-iso ""$ISO_NAME"" fi echo >&2 -e ""Install ISO:\n\t$INSTALL_ISO"" $VBM storageattach ""$VM_BASE_NAME"" \ --storagectl IDE \ --port 0 \ --device 0 \ --type dvddrive \ --medium ""$INSTALL_ISO"" vm_attach_guestadd-iso ""$VM_BASE_NAME"" ${OSBASH:-:} mkdir -pv ""$DISK_DIR"" create_vdi ""$BASE_BUILD_DISK"" 8000 vm_attach_disk ""$VM_BASE_NAME"" ""$BASE_BUILD_DISK"" #--------------------------------------------------------------------------- # Set up communication with base VM: ssh port forwarding by default, # VirtualBox shared folders for wbatch # wbatch runs cannot use ssh, so skip port forwarding in that case ${WBATCH:+:} vm_port ""$VM_BASE_NAME"" ssh ""$VM_BASE_SSH_PORT"" 22 # Automounted on /media/sf_bootstrap for first boot ${WBATCH:-:} vm_add_share_automount ""$VM_BASE_NAME"" ""$SHARE_DIR"" bootstrap # Mounted on /$SHARE_NAME after first boot ${WBATCH:-:} vm_add_share ""$VM_BASE_NAME"" ""$SHARE_DIR"" ""$SHARE_NAME"" #--------------------------------------------------------------------------- $VBM modifyvm ""$VM_BASE_NAME"" --boot1 dvd # Configure autostart autostart_reset # For wbatch, install osbashauto as a boot service ${WBATCH:-:} autostart osbash activate_autostart.sh autostart osbash base_fixups.sh # By default, set by lib/osbash/lib.* to something like scripts.ubuntu autostart_from_config ""$BASE_INSTALL_SCRIPTS"" autostart scripts zero_empty.sh shutdown.sh # Boot VM into distribution installer vbox_boot ""$VM_BASE_NAME"" local DELAY=5 echo >&2 ""Waiting $DELAY seconds for VM \""$VM_BASE_NAME\"" to come up"" vbox_sleep ""$DELAY"" vbox_distro_start_installer ""$VM_BASE_NAME"" echo >&2 ""Installing operating system; waiting for reboot"" # Wait for ssh connection and execute scripts in autostart directory # (for wbatch, osbashauto does the processing instead) ${WBATCH:+:} ssh_process_autostart ""$VM_BASE_SSH_PORT"" & # After reboot wait_for_autofiles echo >&2 ""Installation done for VM $VM_BASE_NAME"" vm_wait_for_shutdown ""$VM_BASE_NAME"" # Detach disk from VM now or it will be deleted by vm_unregister_del vm_detach_disk ""$VM_BASE_NAME"" vm_unregister_del ""$VM_BASE_NAME"" echo >&2 ""Compacting $BASE_BUILD_DISK"" $VBM modifyhd ""$BASE_BUILD_DISK"" --compact # This disk will be moved to a new name, and this name will be used for # a new disk next time the script runs. disk_unregister ""$BASE_BUILD_DISK"" echo >&2 ""Base disk created"" echo >&2 ""Moving base disk to $BASE_DISK"" ${OSBASH:-:} mv -vf ""$BASE_BUILD_DISK"" ""$BASE_DISK"" ${WBATCH:-:} wbatch_rename_disk ""$BASE_BUILD_DISK"" ""$BASE_DISK"" ${WBATCH:-:} wbatch_end_file echo >&2 -e ""$(date) osbash vm_install ends\n"" } # vim: set ai ts=4 sw=4 et ft=sh: ",,117,0
openstack%2Ftraining-guides~master~Idfb78f3683c5bedba96f16fdef23512be6c251d9,openstack/training-guides,master,Idfb78f3683c5bedba96f16fdef23512be6c251d9,Add functions for creating node VMs,MERGED,2014-06-17 08:13:37.000000000,2014-06-17 08:43:29.000000000,2014-06-17 08:43:29.000000000,"[{'_account_id': 3}, {'_account_id': 6923}, {'_account_id': 7007}]","[{'number': 1, 'created': '2014-06-17 08:13:37.000000000', 'files': ['labs/lib/osbash/virtualbox.install_node'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/510ca6cd4c5ed4085eb69778ee801d6f81d29284', 'message': 'Add functions for creating node VMs\n\nThe functions introduced with this changeset create and configure\nVirtualBox node VMs.\n\nThe VMs use copy-on-write disks based on previously created base disks.\n\nPartial-Bug: 1312764\nImplements: blueprint openstack-training-labs\nChange-Id: Idfb78f3683c5bedba96f16fdef23512be6c251d9\n'}]",0,100444,510ca6cd4c5ed4085eb69778ee801d6f81d29284,7,3,1,11109,,,0,"Add functions for creating node VMs

The functions introduced with this changeset create and configure
VirtualBox node VMs.

The VMs use copy-on-write disks based on previously created base disks.

Partial-Bug: 1312764
Implements: blueprint openstack-training-labs
Change-Id: Idfb78f3683c5bedba96f16fdef23512be6c251d9
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/44/100444/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/lib/osbash/virtualbox.install_node'],1,510ca6cd4c5ed4085eb69778ee801d6f81d29284,bug/1312764,"# This bash library contains the main function that creates a node VM. # Configure VirtualBox network interfaces function _vbox_configure_ifs { # Iterate over all NET_IF_? variables local NET_IFS=( ""${!NET_IF_@}"" ) local NET_IF="""" for NET_IF in ""${NET_IFS[@]}""; do local IF_NUM=${NET_IF##*_} if [ ""${!NET_IF}"" = ""nat"" ]; then echo ""interface $IF_NUM: NAT"" vm_nic_nat ""$NODE_NAME"" ""$IF_NUM"" else # Host-only network: NET_IF is net name (e.g. API_NET) # Use corresponding VirtualBox interface (e.g. API_NET_IF) local HOST_IF=""${!NET_IF}_IF"" echo ""interface $IF_NUM: host-only ${!HOST_IF}"" vm_nic_hostonly ""$NODE_NAME"" ""$IF_NUM"" ""${!HOST_IF}"" fi done } # Boot node VM; wait until autostart files are processed and VM is shut down function _vbox_boot_with_autostart { local VM=$1 local SSH_PORT=$2 vbox_boot ""$VM"" # Wait for ssh connection and execute scripts in autostart directory # (for wbatch, osbashauto does the processing instead) ${WBATCH:+:} ssh_process_autostart ""$SSH_PORT"" & wait_for_autofiles echo >&2 ""VM \""$VM\"": autostart files executed"" vm_wait_for_shutdown ""$VM"" } function vm_build_node { # XXX Run this function in sub-shell to protect our caller's environment # (which might be _our_ enviroment if we get called again) ( NODE_NAME=$1 source ""$CONFIG_DIR/config.$NODE_NAME"" ${WBATCH:-:} wbatch_begin_node ""$NODE_NAME"" vm_create ""$NODE_NAME"" # Set VM_MEM in config/config.NODE_NAME to override vm_mem ""$NODE_NAME"" ""${VM_MEM:-512}"" _vbox_configure_ifs # Port forwarding if [ -n ""${VM_SSH_PORT:-}"" ]; then vm_port ""$NODE_NAME"" ssh ""$VM_SSH_PORT"" 22 fi if [ -n ""${VM_WWW_PORT:-}"" ]; then vm_port ""$NODE_NAME"" http ""$VM_WWW_PORT"" 80 fi vm_add_share ""$NODE_NAME"" ""$SHARE_DIR"" ""$SHARE_NAME"" vm_attach_disk_multi ""$NODE_NAME"" ""$BASE_DISK"" #- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - autostart_reset # Rename to pass the node name to the script autostart_and_rename osbash init_xxx_node.sh ""init_${NODE_NAME}_node.sh"" autostart_from_config scripts.nodeinit_osbash _vbox_boot_with_autostart ""$NODE_NAME"" ""$VM_SSH_PORT"" vm_snapshot ""$NODE_NAME"" ""network_configured"" #- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - autostart_reset autostart_from_config ""scripts.$NODE_NAME"" autostart scripts shutdown.sh _vbox_boot_with_autostart ""$NODE_NAME"" ""$VM_SSH_PORT"" vm_snapshot ""$NODE_NAME"" ""pre-installed"" #- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - ${WBATCH:-:} wbatch_end_file ) } # vim: set ai ts=4 sw=4 et ft=sh: ",,86,0
openstack%2Fcinder~master~I507749b383d48365d65e9f968840097a252e35a3,openstack/cinder,master,I507749b383d48365d65e9f968840097a252e35a3,Disallow lowering quota below current usage,ABANDONED,2014-04-16 08:33:49.000000000,2014-06-17 08:42:58.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 4159}, {'_account_id': 8874}]","[{'number': 1, 'created': '2014-04-16 08:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0b2671a408e5e02f52bd458eb843e1b31eabe3d2', 'message': 'Fix the problem of updating quota\n\nIt should not allow update the quota of resource lower than quota usage.\n\nCloses-bug: #1304234\nChange-Id: I507749b383d48365d65e9f968840097a252e35a3\n'}, {'number': 2, 'created': '2014-04-17 03:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7044ee449b0067936492d46f655ef2c85f5f11eb', 'message': 'Disallow lowering quota below current usage\n\nIt should not allow update the quota of resource lower than quota usage.\n\nCloses-bug: #1304234\nChange-Id: I507749b383d48365d65e9f968840097a252e35a3\n'}, {'number': 3, 'created': '2014-04-18 09:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6da6d8289e1e19ff6cb5088cc01b68d8bf452eea', 'message': 'Disallow lowering quota below current usage\n\nIt should not allow update the quota of resource lower than quota usage.\n\nCloses-bug: #1304234\nChange-Id: I507749b383d48365d65e9f968840097a252e35a3\n'}, {'number': 4, 'created': '2014-04-18 13:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0781e0255a0f83b346811d4fa1c0b67b45a13c2b', 'message': 'Disallow lowering quota below current usage\n\nIt should not allow update the quota of resource lower than quota usage.\n\nCloses-bug: #1304234\nChange-Id: I507749b383d48365d65e9f968840097a252e35a3\n'}, {'number': 5, 'created': '2014-04-20 11:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a0c2a7a9d6ed2741315101bfb11515536b2ef94d', 'message': 'Disallow lowering quota below current usage\n\nIt should not allow update the quota of resource lower than quota usage.\n\nCloses-bug: #1304234\nChange-Id: I507749b383d48365d65e9f968840097a252e35a3\n'}, {'number': 6, 'created': '2014-04-20 11:52:34.000000000', 'files': ['cinder/api/contrib/quotas.py', 'cinder/tests/api/contrib/test_quotas.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/588e5f90f423d7da382ee8d440b5ecd65658cd22', 'message': 'Disallow lowering quota below current usage\n\nIt should not allow update the quota of resource lower than quota usage.\n\nCloses-bug: #1304234\nChange-Id: I507749b383d48365d65e9f968840097a252e35a3\n'}]",10,87871,588e5f90f423d7da382ee8d440b5ecd65658cd22,29,6,6,8874,,,0,"Disallow lowering quota below current usage

It should not allow update the quota of resource lower than quota usage.

Closes-bug: #1304234
Change-Id: I507749b383d48365d65e9f968840097a252e35a3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/87871/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/contrib/quotas.py'],1,0b2671a408e5e02f52bd458eb843e1b31eabe3d2,bug/1304234," quotas = self._get_quotas(context, id, usages=True) quota_value = quotas.get(key) if quota_value and quota_value['limit'] >= 0: quota_used = (quota_value['in_use'] + quota_value['reserved']) LOG.debug(_(""Quota %(key)s used: %(quota_used)s, "" ""value: %(value)s.""), {'key': key, 'quota_used': quota_used, 'value': value}) if quota_used > value: msg = (_(""Quota value %(value)s for %(key)s are "" ""less than already used and reserved "" ""%(quota_used)s"") % {'value': value, 'key': key, 'quota_used': quota_used}) raise webob.exc.HTTPBadRequest(explanation=msg) def _get_quotas(self, context, id, usages=False): values = QUOTAS.get_project_quotas(context, id, usages=usages) if usages: return values else: return dict((k, v['limit']) for k, v in values.items())",,23,0
openstack%2Ftraining-guides~master~I726414adca545fc6d6e59cd900b6179a6233f096,openstack/training-guides,master,I726414adca545fc6d6e59cd900b6179a6233f096,Add functions-common from devstack,MERGED,2014-06-17 08:21:18.000000000,2014-06-17 08:41:36.000000000,2014-06-17 08:41:35.000000000,"[{'_account_id': 3}, {'_account_id': 6923}, {'_account_id': 7007}]","[{'number': 1, 'created': '2014-06-17 08:21:18.000000000', 'files': ['labs/lib/functions-common-devstack'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/63480bd8b3725a26fbea00fb99866cebe0a4a441', 'message': 'Add functions-common from devstack\n\nThis changeset adds the functions-common library from the devstack\nproject.\n\nAs the file\'s header states: ""The canonical copy of this file is\nmaintained in the DevStack repo. All modifications should be made there\nand then sync\'ed to other repos as required.""\n\nPartial-Bug: 1312764\nImplements: blueprint openstack-training-labs\nChange-Id: I726414adca545fc6d6e59cd900b6179a6233f096\n'}]",0,100446,63480bd8b3725a26fbea00fb99866cebe0a4a441,7,3,1,11109,,,0,"Add functions-common from devstack

This changeset adds the functions-common library from the devstack
project.

As the file's header states: ""The canonical copy of this file is
maintained in the DevStack repo. All modifications should be made there
and then sync'ed to other repos as required.""

Partial-Bug: 1312764
Implements: blueprint openstack-training-labs
Change-Id: I726414adca545fc6d6e59cd900b6179a6233f096
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/46/100446/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/lib/functions-common-devstack'],1,63480bd8b3725a26fbea00fb99866cebe0a4a441,bug/1312764,"# functions-common - Common functions used by DevStack components # # The canonical copy of this file is maintained in the DevStack repo. # All modifications should be made there and then sync'ed to other repos # as required. # # This file is sorted alphabetically within the function groups. # # - Config Functions # - Control Functions # - Distro Functions # - Git Functions # - OpenStack Functions # - Package Functions # - Process Functions # - Python Functions # - Service Functions # - System Functions # # The following variables are assumed to be defined by certain functions: # # - ``ENABLED_SERVICES`` # - ``ERROR_ON_CLONE`` # - ``FILES`` # - ``OFFLINE`` # - ``PIP_DOWNLOAD_CACHE`` # - ``PIP_USE_MIRRORS`` # - ``RECLONE`` # - ``REQUIREMENTS_DIR`` # - ``STACK_USER`` # - ``TRACK_DEPENDS`` # - ``UNDO_REQUIREMENTS`` # - ``http_proxy``, ``https_proxy``, ``no_proxy`` # Save trace setting XTRACE=$(set +o | grep xtrace) set +o xtrace # Config Functions # ================ # Append a new option in an ini file without replacing the old value # iniadd config-file section option value1 value2 value3 ... function iniadd { local xtrace=$(set +o | grep xtrace) set +o xtrace local file=$1 local section=$2 local option=$3 shift 3 local values=""$(iniget_multiline $file $section $option) $@"" iniset_multiline $file $section $option $values $xtrace } # Comment an option in an INI file # inicomment config-file section option function inicomment { local xtrace=$(set +o | grep xtrace) set +o xtrace local file=$1 local section=$2 local option=$3 sed -i -e ""/^\[$section\]/,/^\[.*\]/ s|^\($option[ \t]*=.*$\)|#\1|"" ""$file"" $xtrace } # Get an option from an INI file # iniget config-file section option function iniget { local xtrace=$(set +o | grep xtrace) set +o xtrace local file=$1 local section=$2 local option=$3 local line line=$(sed -ne ""/^\[$section\]/,/^\[.*\]/ { /^$option[ \t]*=/ p; }"" ""$file"") echo ${line#*=} $xtrace } # Get a multiple line option from an INI file # iniget_multiline config-file section option function iniget_multiline { local xtrace=$(set +o | grep xtrace) set +o xtrace local file=$1 local section=$2 local option=$3 local values values=$(sed -ne ""/^\[$section\]/,/^\[.*\]/ { s/^$option[ \t]*=[ \t]*//gp; }"" ""$file"") echo ${values} $xtrace } # Determinate is the given option present in the INI file # ini_has_option config-file section option function ini_has_option { local xtrace=$(set +o | grep xtrace) set +o xtrace local file=$1 local section=$2 local option=$3 local line line=$(sed -ne ""/^\[$section\]/,/^\[.*\]/ { /^$option[ \t]*=/ p; }"" ""$file"") $xtrace [ -n ""$line"" ] } # Set an option in an INI file # iniset config-file section option value function iniset { local xtrace=$(set +o | grep xtrace) set +o xtrace local file=$1 local section=$2 local option=$3 local value=$4 [[ -z $section || -z $option ]] && return if ! grep -q ""^\[$section\]"" ""$file"" 2>/dev/null; then # Add section at the end echo -e ""\n[$section]"" >>""$file"" fi if ! ini_has_option ""$file"" ""$section"" ""$option""; then # Add it sed -i -e ""/^\[$section\]/ a\\ $option = $value "" ""$file"" else local sep=$(echo -ne ""\x01"") # Replace it sed -i -e '/^\['${section}'\]/,/^\[.*\]/ s'${sep}'^\('${option}'[ \t]*=[ \t]*\).*$'${sep}'\1'""${value}""${sep} ""$file"" fi $xtrace } # Set a multiple line option in an INI file # iniset_multiline config-file section option value1 value2 valu3 ... function iniset_multiline { local xtrace=$(set +o | grep xtrace) set +o xtrace local file=$1 local section=$2 local option=$3 shift 3 local values for v in $@; do # The later sed command inserts each new value in the line next to # the section identifier, which causes the values to be inserted in # the reverse order. Do a reverse here to keep the original order. values=""$v ${values}"" done if ! grep -q ""^\[$section\]"" ""$file""; then # Add section at the end echo -e ""\n[$section]"" >>""$file"" else # Remove old values sed -i -e ""/^\[$section\]/,/^\[.*\]/ { /^$option[ \t]*=/ d; }"" ""$file"" fi # Add new ones for v in $values; do sed -i -e ""/^\[$section\]/ a\\ $option = $v "" ""$file"" done $xtrace } # Uncomment an option in an INI file # iniuncomment config-file section option function iniuncomment { local xtrace=$(set +o | grep xtrace) set +o xtrace local file=$1 local section=$2 local option=$3 sed -i -e ""/^\[$section\]/,/^\[.*\]/ s|[^ \t]*#[ \t]*\($option[ \t]*=.*$\)|\1|"" ""$file"" $xtrace } # Normalize config values to True or False # Accepts as False: 0 no No NO false False FALSE # Accepts as True: 1 yes Yes YES true True TRUE # VAR=$(trueorfalse default-value test-value) function trueorfalse { local xtrace=$(set +o | grep xtrace) set +o xtrace local default=$1 local testval=$2 [[ -z ""$testval"" ]] && { echo ""$default""; return; } [[ ""0 no No NO false False FALSE"" =~ ""$testval"" ]] && { echo ""False""; return; } [[ ""1 yes Yes YES true True TRUE"" =~ ""$testval"" ]] && { echo ""True""; return; } echo ""$default"" $xtrace } # Control Functions # ================= # Prints backtrace info # filename:lineno:function # backtrace level function backtrace { local level=$1 local deep=$((${#BASH_SOURCE[@]} - 1)) echo ""[Call Trace]"" while [ $level -le $deep ]; do echo ""${BASH_SOURCE[$deep]}:${BASH_LINENO[$deep-1]}:${FUNCNAME[$deep-1]}"" deep=$((deep - 1)) done } # Prints line number and ""message"" then exits # die $LINENO ""message"" function die { local exitcode=$? set +o xtrace local line=$1; shift if [ $exitcode == 0 ]; then exitcode=1 fi backtrace 2 err $line ""$*"" # Give buffers a second to flush sleep 1 exit $exitcode } # Checks an environment variable is not set or has length 0 OR if the # exit code is non-zero and prints ""message"" and exits # NOTE: env-var is the variable name without a '$' # die_if_not_set $LINENO env-var ""message"" function die_if_not_set { local exitcode=$? FXTRACE=$(set +o | grep xtrace) set +o xtrace local line=$1; shift local evar=$1; shift if ! is_set $evar || [ $exitcode != 0 ]; then die $line ""$*"" fi $FXTRACE } # Prints line number and ""message"" in error format # err $LINENO ""message"" function err { local exitcode=$? errXTRACE=$(set +o | grep xtrace) set +o xtrace local msg=""[ERROR] ${BASH_SOURCE[2]}:$1 $2"" echo $msg 1>&2; if [[ -n ${SCREEN_LOGDIR} ]]; then echo $msg >> ""${SCREEN_LOGDIR}/error.log"" fi $errXTRACE return $exitcode } # Checks an environment variable is not set or has length 0 OR if the # exit code is non-zero and prints ""message"" # NOTE: env-var is the variable name without a '$' # err_if_not_set $LINENO env-var ""message"" function err_if_not_set { local exitcode=$? errinsXTRACE=$(set +o | grep xtrace) set +o xtrace local line=$1; shift local evar=$1; shift if ! is_set $evar || [ $exitcode != 0 ]; then err $line ""$*"" fi $errinsXTRACE return $exitcode } # Exit after outputting a message about the distribution not being supported. # exit_distro_not_supported [optional-string-telling-what-is-missing] function exit_distro_not_supported { if [[ -z ""$DISTRO"" ]]; then GetDistro fi if [ $# -gt 0 ]; then die $LINENO ""Support for $DISTRO is incomplete: no support for $@"" else die $LINENO ""Support for $DISTRO is incomplete."" fi } # Test if the named environment variable is set and not zero length # is_set env-var function is_set { local var=\$""$1"" eval ""[ -n \""$var\"" ]"" # For ex.: sh -c ""[ -n \""$var\"" ]"" would be better, but several exercises depends on this } # Prints line number and ""message"" in warning format # warn $LINENO ""message"" function warn { local exitcode=$? errXTRACE=$(set +o | grep xtrace) set +o xtrace local msg=""[WARNING] ${BASH_SOURCE[2]}:$1 $2"" echo $msg 1>&2; if [[ -n ${SCREEN_LOGDIR} ]]; then echo $msg >> ""${SCREEN_LOGDIR}/error.log"" fi $errXTRACE return $exitcode } # Distro Functions # ================ # Determine OS Vendor, Release and Update # Tested with OS/X, Ubuntu, RedHat, CentOS, Fedora # Returns results in global variables: # os_VENDOR - vendor name # os_RELEASE - release # os_UPDATE - update # os_PACKAGE - package type # os_CODENAME - vendor's codename for release # GetOSVersion function GetOSVersion { # Figure out which vendor we are if [[ -x ""`which sw_vers 2>/dev/null`"" ]]; then # OS/X os_VENDOR=`sw_vers -productName` os_RELEASE=`sw_vers -productVersion` os_UPDATE=${os_RELEASE##*.} os_RELEASE=${os_RELEASE%.*} os_PACKAGE="""" if [[ ""$os_RELEASE"" =~ ""10.7"" ]]; then os_CODENAME=""lion"" elif [[ ""$os_RELEASE"" =~ ""10.6"" ]]; then os_CODENAME=""snow leopard"" elif [[ ""$os_RELEASE"" =~ ""10.5"" ]]; then os_CODENAME=""leopard"" elif [[ ""$os_RELEASE"" =~ ""10.4"" ]]; then os_CODENAME=""tiger"" elif [[ ""$os_RELEASE"" =~ ""10.3"" ]]; then os_CODENAME=""panther"" else os_CODENAME="""" fi elif [[ -x $(which lsb_release 2>/dev/null) ]]; then os_VENDOR=$(lsb_release -i -s) os_RELEASE=$(lsb_release -r -s) os_UPDATE="""" os_PACKAGE=""rpm"" if [[ ""Debian,Ubuntu,LinuxMint"" =~ $os_VENDOR ]]; then os_PACKAGE=""deb"" elif [[ ""SUSE LINUX"" =~ $os_VENDOR ]]; then lsb_release -d -s | grep -q openSUSE if [[ $? -eq 0 ]]; then os_VENDOR=""openSUSE"" fi elif [[ $os_VENDOR == ""openSUSE project"" ]]; then os_VENDOR=""openSUSE"" elif [[ $os_VENDOR =~ Red.*Hat ]]; then os_VENDOR=""Red Hat"" fi os_CODENAME=$(lsb_release -c -s) elif [[ -r /etc/redhat-release ]]; then # Red Hat Enterprise Linux Server release 5.5 (Tikanga) # Red Hat Enterprise Linux Server release 7.0 Beta (Maipo) # CentOS release 5.5 (Final) # CentOS Linux release 6.0 (Final) # Fedora release 16 (Verne) # XenServer release 6.2.0-70446c (xenenterprise) os_CODENAME="""" for r in ""Red Hat"" CentOS Fedora XenServer; do os_VENDOR=$r if [[ -n ""`grep \""$r\"" /etc/redhat-release`"" ]]; then ver=`sed -e 's/^.* \([0-9].*\) (\(.*\)).*$/\1\|\2/' /etc/redhat-release` os_CODENAME=${ver#*|} os_RELEASE=${ver%|*} os_UPDATE=${os_RELEASE##*.} os_RELEASE=${os_RELEASE%.*} break fi os_VENDOR="""" done os_PACKAGE=""rpm"" elif [[ -r /etc/SuSE-release ]]; then for r in openSUSE ""SUSE Linux""; do if [[ ""$r"" = ""SUSE Linux"" ]]; then os_VENDOR=""SUSE LINUX"" else os_VENDOR=$r fi if [[ -n ""`grep \""$r\"" /etc/SuSE-release`"" ]]; then os_CODENAME=`grep ""CODENAME = "" /etc/SuSE-release | sed 's:.* = ::g'` os_RELEASE=`grep ""VERSION = "" /etc/SuSE-release | sed 's:.* = ::g'` os_UPDATE=`grep ""PATCHLEVEL = "" /etc/SuSE-release | sed 's:.* = ::g'` break fi os_VENDOR="""" done os_PACKAGE=""rpm"" # If lsb_release is not installed, we should be able to detect Debian OS elif [[ -f /etc/debian_version ]] && [[ $(cat /proc/version) =~ ""Debian"" ]]; then os_VENDOR=""Debian"" os_PACKAGE=""deb"" os_CODENAME=$(awk '/VERSION=/' /etc/os-release | sed 's/VERSION=//' | sed -r 's/\""|\(|\)//g' | awk '{print $2}') os_RELEASE=$(awk '/VERSION_ID=/' /etc/os-release | sed 's/VERSION_ID=//' | sed 's/\""//g') fi export os_VENDOR os_RELEASE os_UPDATE os_PACKAGE os_CODENAME } # Translate the OS version values into common nomenclature # Sets global ``DISTRO`` from the ``os_*`` values function GetDistro { GetOSVersion if [[ ""$os_VENDOR"" =~ (Ubuntu) || ""$os_VENDOR"" =~ (Debian) ]]; then # 'Everyone' refers to Ubuntu / Debian releases by the code name adjective DISTRO=$os_CODENAME elif [[ ""$os_VENDOR"" =~ (Fedora) ]]; then # For Fedora, just use 'f' and the release DISTRO=""f$os_RELEASE"" elif [[ ""$os_VENDOR"" =~ (openSUSE) ]]; then DISTRO=""opensuse-$os_RELEASE"" elif [[ ""$os_VENDOR"" =~ (SUSE LINUX) ]]; then # For SLE, also use the service pack if [[ -z ""$os_UPDATE"" ]]; then DISTRO=""sle${os_RELEASE}"" else DISTRO=""sle${os_RELEASE}sp${os_UPDATE}"" fi elif [[ ""$os_VENDOR"" =~ (Red Hat) || ""$os_VENDOR"" =~ (CentOS) ]]; then # Drop the . release as we assume it's compatible DISTRO=""rhel${os_RELEASE::1}"" elif [[ ""$os_VENDOR"" =~ (XenServer) ]]; then DISTRO=""xs$os_RELEASE"" else # Catch-all for now is Vendor + Release + Update DISTRO=""$os_VENDOR-$os_RELEASE.$os_UPDATE"" fi export DISTRO } # Utility function for checking machine architecture # is_arch arch-type function is_arch { ARCH_TYPE=$1 [[ ""$(uname -m)"" == ""$ARCH_TYPE"" ]] } # Determine if current distribution is a Fedora-based distribution # (Fedora, RHEL, CentOS, etc). # is_fedora function is_fedora { if [[ -z ""$os_VENDOR"" ]]; then GetOSVersion fi [ ""$os_VENDOR"" = ""Fedora"" ] || [ ""$os_VENDOR"" = ""Red Hat"" ] || [ ""$os_VENDOR"" = ""CentOS"" ] } # Determine if current distribution is a SUSE-based distribution # (openSUSE, SLE). # is_suse function is_suse { if [[ -z ""$os_VENDOR"" ]]; then GetOSVersion fi [ ""$os_VENDOR"" = ""openSUSE"" ] || [ ""$os_VENDOR"" = ""SUSE LINUX"" ] } # Determine if current distribution is an Ubuntu-based distribution # It will also detect non-Ubuntu but Debian-based distros # is_ubuntu function is_ubuntu { if [[ -z ""$os_PACKAGE"" ]]; then GetOSVersion fi [ ""$os_PACKAGE"" = ""deb"" ] } # Git Functions # ============= # Returns openstack release name for a given branch name # ``get_release_name_from_branch branch-name`` function get_release_name_from_branch { local branch=$1 if [[ $branch =~ ""stable/"" ]]; then echo ${branch#*/} else echo ""master"" fi } # git clone only if directory doesn't exist already. Since ``DEST`` might not # be owned by the installation user, we create the directory and change the # ownership to the proper user. # Set global RECLONE=yes to simulate a clone when dest-dir exists # Set global ERROR_ON_CLONE=True to abort execution with an error if the git repo # does not exist (default is False, meaning the repo will be cloned). # Uses global ``OFFLINE`` # git_clone remote dest-dir branch function git_clone { GIT_REMOTE=$1 GIT_DEST=$2 GIT_REF=$3 RECLONE=$(trueorfalse False $RECLONE) local orig_dir=`pwd` if [[ ""$OFFLINE"" = ""True"" ]]; then echo ""Running in offline mode, clones already exist"" # print out the results so we know what change was used in the logs cd $GIT_DEST git show --oneline | head -1 cd $orig_dir return fi if echo $GIT_REF | egrep -q ""^refs""; then # If our branch name is a gerrit style refs/changes/... if [[ ! -d $GIT_DEST ]]; then [[ ""$ERROR_ON_CLONE"" = ""True"" ]] && \ die $LINENO ""Cloning not allowed in this configuration"" git_timed clone $GIT_REMOTE $GIT_DEST fi cd $GIT_DEST git_timed fetch $GIT_REMOTE $GIT_REF && git checkout FETCH_HEAD else # do a full clone only if the directory doesn't exist if [[ ! -d $GIT_DEST ]]; then [[ ""$ERROR_ON_CLONE"" = ""True"" ]] && \ die $LINENO ""Cloning not allowed in this configuration"" git_timed clone $GIT_REMOTE $GIT_DEST cd $GIT_DEST # This checkout syntax works for both branches and tags git checkout $GIT_REF elif [[ ""$RECLONE"" = ""True"" ]]; then # if it does exist then simulate what clone does if asked to RECLONE cd $GIT_DEST # set the url to pull from and fetch git remote set-url origin $GIT_REMOTE git_timed fetch origin # remove the existing ignored files (like pyc) as they cause breakage # (due to the py files having older timestamps than our pyc, so python # thinks the pyc files are correct using them) find $GIT_DEST -name '*.pyc' -delete # handle GIT_REF accordingly to type (tag, branch) if [[ -n ""`git show-ref refs/tags/$GIT_REF`"" ]]; then git_update_tag $GIT_REF elif [[ -n ""`git show-ref refs/heads/$GIT_REF`"" ]]; then git_update_branch $GIT_REF elif [[ -n ""`git show-ref refs/remotes/origin/$GIT_REF`"" ]]; then git_update_remote_branch $GIT_REF else die $LINENO ""$GIT_REF is neither branch nor tag"" fi fi fi # print out the results so we know what change was used in the logs cd $GIT_DEST git show --oneline | head -1 cd $orig_dir } # git can sometimes get itself infinitely stuck with transient network # errors or other issues with the remote end. This wraps git in a # timeout/retry loop and is intended to watch over non-local git # processes that might hang. GIT_TIMEOUT, if set, is passed directly # to timeout(1); otherwise the default value of 0 maintains the status # quo of waiting forever. # usage: git_timed <git-command> function git_timed { local count=0 local timeout=0 if [[ -n ""${GIT_TIMEOUT}"" ]]; then timeout=${GIT_TIMEOUT} fi until timeout -s SIGINT ${timeout} git ""$@""; do # 124 is timeout(1)'s special return code when it reached the # timeout; otherwise assume fatal failure if [[ $? -ne 124 ]]; then die $LINENO ""git call failed: [git $@]"" fi count=$(($count + 1)) warn ""timeout ${count} for git call: [git $@]"" if [ $count -eq 3 ]; then die $LINENO ""Maximum of 3 git retries reached"" fi sleep 5 done } # git update using reference as a branch. # git_update_branch ref function git_update_branch { GIT_BRANCH=$1 git checkout -f origin/$GIT_BRANCH # a local branch might not exist git branch -D $GIT_BRANCH || true git checkout -b $GIT_BRANCH } # git update using reference as a branch. # git_update_remote_branch ref function git_update_remote_branch { GIT_BRANCH=$1 git checkout -b $GIT_BRANCH -t origin/$GIT_BRANCH } # git update using reference as a tag. Be careful editing source at that repo # as working copy will be in a detached mode # git_update_tag ref function git_update_tag { GIT_TAG=$1 git tag -d $GIT_TAG # fetching given tag only git_timed fetch origin tag $GIT_TAG git checkout -f $GIT_TAG } # OpenStack Functions # =================== # Get the default value for HOST_IP # get_default_host_ip fixed_range floating_range host_ip_iface host_ip function get_default_host_ip { local fixed_range=$1 local floating_range=$2 local host_ip_iface=$3 local host_ip=$4 # Find the interface used for the default route host_ip_iface=${host_ip_iface:-$(ip route | sed -n '/^default/{ s/.*dev \(\w\+\)\s\+.*/\1/; p; }' | head -1)} # Search for an IP unless an explicit is set by ``HOST_IP`` environment variable if [ -z ""$host_ip"" -o ""$host_ip"" == ""dhcp"" ]; then host_ip="""" host_ips=`LC_ALL=C ip -f inet addr show ${host_ip_iface} | awk '/inet/ {split($2,parts,""/""); print parts[1]}'` for IP in $host_ips; do # Attempt to filter out IP addresses that are part of the fixed and # floating range. Note that this method only works if the ``netaddr`` # python library is installed. If it is not installed, an error # will be printed and the first IP from the interface will be used. # If that is not correct set ``HOST_IP`` in ``localrc`` to the correct # address. if ! (address_in_net $IP $fixed_range || address_in_net $IP $floating_range); then host_ip=$IP break; fi done fi echo $host_ip } # Grab a numbered field from python prettytable output # Fields are numbered starting with 1 # Reverse syntax is supported: -1 is the last field, -2 is second to last, etc. # get_field field-number function get_field { while read data; do if [ ""$1"" -lt 0 ]; then field=""(\$(NF$1))"" else field=""\$$(($1 + 1))"" fi echo ""$data"" | awk -F'[ \t]*\\|[ \t]*' ""{print $field}"" done } # Add a policy to a policy.json file # Do nothing if the policy already exists # ``policy_add policy_file policy_name policy_permissions`` function policy_add { local policy_file=$1 local policy_name=$2 local policy_perm=$3 if grep -q ${policy_name} ${policy_file}; then echo ""Policy ${policy_name} already exists in ${policy_file}"" return fi # Add a terminating comma to policy lines without one # Remove the closing '}' and all lines following to the end-of-file local tmpfile=$(mktemp) uniq ${policy_file} | sed -e ' s/]$/],/ /^[}]/,$d ' > ${tmpfile} # Append policy and closing brace echo "" \""${policy_name}\"": ${policy_perm}"" >>${tmpfile} echo ""}"" >>${tmpfile} mv ${tmpfile} ${policy_file} } # Package Functions # ================= # _get_package_dir function _get_package_dir { local pkg_dir if is_ubuntu; then pkg_dir=$FILES/apts elif is_fedora; then pkg_dir=$FILES/rpms elif is_suse; then pkg_dir=$FILES/rpms-suse else exit_distro_not_supported ""list of packages"" fi echo ""$pkg_dir"" } # Wrapper for ``apt-get`` to set cache and proxy environment variables # Uses globals ``OFFLINE``, ``*_proxy`` # apt_get operation package [package ...] function apt_get { local xtrace=$(set +o | grep xtrace) set +o xtrace [[ ""$OFFLINE"" = ""True"" || -z ""$@"" ]] && return local sudo=""sudo"" [[ ""$(id -u)"" = ""0"" ]] && sudo=""env"" $xtrace $sudo DEBIAN_FRONTEND=noninteractive \ http_proxy=$http_proxy https_proxy=$https_proxy \ no_proxy=$no_proxy \ apt-get --option ""Dpkg::Options::=--force-confold"" --assume-yes ""$@"" } # get_packages() collects a list of package names of any type from the # prerequisite files in ``files/{apts|rpms}``. The list is intended # to be passed to a package installer such as apt or yum. # # Only packages required for the services in 1st argument will be # included. Two bits of metadata are recognized in the prerequisite files: # # - ``# NOPRIME`` defers installation to be performed later in `stack.sh` # - ``# dist:DISTRO`` or ``dist:DISTRO1,DISTRO2`` limits the selection # of the package to the distros listed. The distro names are case insensitive. function get_packages { local xtrace=$(set +o | grep xtrace) set +o xtrace local services=$@ local package_dir=$(_get_package_dir) local file_to_parse local service if [[ -z ""$package_dir"" ]]; then echo ""No package directory supplied"" return 1 fi if [[ -z ""$DISTRO"" ]]; then GetDistro echo ""Found Distro $DISTRO"" fi for service in ${services//,/ }; do # Allow individual services to specify dependencies if [[ -e ${package_dir}/${service} ]]; then file_to_parse=""${file_to_parse} $service"" fi # NOTE(sdague) n-api needs glance for now because that's where # glance client is if [[ $service == n-api ]]; then if [[ ! $file_to_parse =~ nova ]]; then file_to_parse=""${file_to_parse} nova"" fi if [[ ! $file_to_parse =~ glance ]]; then file_to_parse=""${file_to_parse} glance"" fi elif [[ $service == c-* ]]; then if [[ ! $file_to_parse =~ cinder ]]; then file_to_parse=""${file_to_parse} cinder"" fi elif [[ $service == ceilometer-* ]]; then if [[ ! $file_to_parse =~ ceilometer ]]; then file_to_parse=""${file_to_parse} ceilometer"" fi elif [[ $service == s-* ]]; then if [[ ! $file_to_parse =~ swift ]]; then file_to_parse=""${file_to_parse} swift"" fi elif [[ $service == n-* ]]; then if [[ ! $file_to_parse =~ nova ]]; then file_to_parse=""${file_to_parse} nova"" fi elif [[ $service == g-* ]]; then if [[ ! $file_to_parse =~ glance ]]; then file_to_parse=""${file_to_parse} glance"" fi elif [[ $service == key* ]]; then if [[ ! $file_to_parse =~ keystone ]]; then file_to_parse=""${file_to_parse} keystone"" fi elif [[ $service == q-* ]]; then if [[ ! $file_to_parse =~ neutron ]]; then file_to_parse=""${file_to_parse} neutron"" fi elif [[ $service == ir-* ]]; then if [[ ! $file_to_parse =~ ironic ]]; then file_to_parse=""${file_to_parse} ironic"" fi fi done for file in ${file_to_parse}; do local fname=${package_dir}/${file} local OIFS line package distros distro [[ -e $fname ]] || continue OIFS=$IFS IFS=$'\n' for line in $(<${fname}); do if [[ $line =~ ""NOPRIME"" ]]; then continue fi # Assume we want this package package=${line%#*} inst_pkg=1 # Look for # dist:xxx in comment if [[ $line =~ (.*)#.*dist:([^ ]*) ]]; then # We are using BASH regexp matching feature. package=${BASH_REMATCH[1]} distros=${BASH_REMATCH[2]} # In bash ${VAR,,} will lowecase VAR # Look for a match in the distro list if [[ ! ${distros,,} =~ ${DISTRO,,} ]]; then # If no match then skip this package inst_pkg=0 fi fi # Look for # testonly in comment if [[ $line =~ (.*)#.*testonly.* ]]; then package=${BASH_REMATCH[1]} # Are we installing test packages? (test for the default value) if [[ $INSTALL_TESTONLY_PACKAGES = ""False"" ]]; then # If not installing test packages the skip this package inst_pkg=0 fi fi if [[ $inst_pkg = 1 ]]; then echo $package fi done IFS=$OIFS done $xtrace } # Distro-agnostic package installer # install_package package [package ...] function install_package { local xtrace=$(set +o | grep xtrace) set +o xtrace if is_ubuntu; then # if there are transient errors pulling the updates, that's fine. It may # be secondary repositories that we don't really care about. [[ ""$NO_UPDATE_REPOS"" = ""True"" ]] || apt_get update || /bin/true NO_UPDATE_REPOS=True $xtrace apt_get install ""$@"" elif is_fedora; then $xtrace yum_install ""$@"" elif is_suse; then $xtrace zypper_install ""$@"" else $xtrace exit_distro_not_supported ""installing packages"" fi } # Distro-agnostic function to tell if a package is installed # is_package_installed package [package ...] function is_package_installed { if [[ -z ""$@"" ]]; then return 1 fi if [[ -z ""$os_PACKAGE"" ]]; then GetOSVersion fi if [[ ""$os_PACKAGE"" = ""deb"" ]]; then dpkg -s ""$@"" > /dev/null 2> /dev/null elif [[ ""$os_PACKAGE"" = ""rpm"" ]]; then rpm --quiet -q ""$@"" else exit_distro_not_supported ""finding if a package is installed"" fi } # Distro-agnostic package uninstaller # uninstall_package package [package ...] function uninstall_package { if is_ubuntu; then apt_get purge ""$@"" elif is_fedora; then sudo yum remove -y ""$@"" elif is_suse; then sudo zypper rm ""$@"" else exit_distro_not_supported ""uninstalling packages"" fi } # Wrapper for ``yum`` to set proxy environment variables # Uses globals ``OFFLINE``, ``*_proxy`` # yum_install package [package ...] function yum_install { [[ ""$OFFLINE"" = ""True"" ]] && return local sudo=""sudo"" [[ ""$(id -u)"" = ""0"" ]] && sudo=""env"" # The manual check for missing packages is because yum -y assumes # missing packages are OK. See # https://bugzilla.redhat.com/show_bug.cgi?id=965567 $sudo http_proxy=$http_proxy https_proxy=$https_proxy \ no_proxy=$no_proxy \ yum install -y ""$@"" 2>&1 | \ awk ' BEGIN { fail=0 } /No package/ { fail=1 } { print } END { exit fail }' || \ die $LINENO ""Missing packages detected"" # also ensure we catch a yum failure if [[ ${PIPESTATUS[0]} != 0 ]]; then die $LINENO ""Yum install failure"" fi } # zypper wrapper to set arguments correctly # zypper_install package [package ...] function zypper_install { [[ ""$OFFLINE"" = ""True"" ]] && return local sudo=""sudo"" [[ ""$(id -u)"" = ""0"" ]] && sudo=""env"" $sudo http_proxy=$http_proxy https_proxy=$https_proxy \ zypper --non-interactive install --auto-agree-with-licenses ""$@"" } # Process Functions # ================= # _run_process() is designed to be backgrounded by run_process() to simulate a # fork. It includes the dirty work of closing extra filehandles and preparing log # files to produce the same logs as screen_it(). The log filename is derived # from the service name and global-and-now-misnamed SCREEN_LOGDIR # _run_process service ""command-line"" function _run_process { local service=$1 local command=""$2"" # Undo logging redirections and close the extra descriptors exec 1>&3 exec 2>&3 exec 3>&- exec 6>&- if [[ -n ${SCREEN_LOGDIR} ]]; then exec 1>&${SCREEN_LOGDIR}/screen-${1}.${CURRENT_LOG_TIME}.log 2>&1 ln -sf ${SCREEN_LOGDIR}/screen-${1}.${CURRENT_LOG_TIME}.log ${SCREEN_LOGDIR}/screen-${1}.log # TODO(dtroyer): Hack to get stdout from the Python interpreter for the logs. export PYTHONUNBUFFERED=1 fi exec /bin/bash -c ""$command"" die ""$service exec failure: $command"" } # Helper to remove the ``*.failure`` files under ``$SERVICE_DIR/$SCREEN_NAME``. # This is used for ``service_check`` when all the ``screen_it`` are called finished # init_service_check function init_service_check { SCREEN_NAME=${SCREEN_NAME:-stack} SERVICE_DIR=${SERVICE_DIR:-${DEST}/status} if [[ ! -d ""$SERVICE_DIR/$SCREEN_NAME"" ]]; then mkdir -p ""$SERVICE_DIR/$SCREEN_NAME"" fi rm -f ""$SERVICE_DIR/$SCREEN_NAME""/*.failure } # Find out if a process exists by partial name. # is_running name function is_running { local name=$1 ps auxw | grep -v grep | grep ${name} > /dev/null RC=$? # some times I really hate bash reverse binary logic return $RC } # run_process() launches a child process that closes all file descriptors and # then exec's the passed in command. This is meant to duplicate the semantics # of screen_it() without screen. PIDs are written to # $SERVICE_DIR/$SCREEN_NAME/$service.pid # run_process service ""command-line"" function run_process { local service=$1 local command=""$2"" # Spawn the child process _run_process ""$service"" ""$command"" & echo $! } # Helper to launch a service in a named screen # screen_it service ""command-line"" function screen_it { SCREEN_NAME=${SCREEN_NAME:-stack} SERVICE_DIR=${SERVICE_DIR:-${DEST}/status} USE_SCREEN=$(trueorfalse True $USE_SCREEN) if is_service_enabled $1; then # Append the service to the screen rc file screen_rc ""$1"" ""$2"" if [[ ""$USE_SCREEN"" = ""True"" ]]; then screen -S $SCREEN_NAME -X screen -t $1 if [[ -n ${SCREEN_LOGDIR} ]]; then screen -S $SCREEN_NAME -p $1 -X logfile ${SCREEN_LOGDIR}/screen-${1}.${CURRENT_LOG_TIME}.log screen -S $SCREEN_NAME -p $1 -X log on ln -sf ${SCREEN_LOGDIR}/screen-${1}.${CURRENT_LOG_TIME}.log ${SCREEN_LOGDIR}/screen-${1}.log fi # sleep to allow bash to be ready to be send the command - we are # creating a new window in screen and then sends characters, so if # bash isn't running by the time we send the command, nothing happens sleep 1.5 NL=`echo -ne '\015'` # This fun command does the following: # - the passed server command is backgrounded # - the pid of the background process is saved in the usual place # - the server process is brought back to the foreground # - if the server process exits prematurely the fg command errors # and a message is written to stdout and the service failure file # The pid saved can be used in screen_stop() as a process group # id to kill off all child processes screen -S $SCREEN_NAME -p $1 -X stuff ""$2 & echo \$! >$SERVICE_DIR/$SCREEN_NAME/$1.pid; fg || echo \""$1 failed to start\"" | tee \""$SERVICE_DIR/$SCREEN_NAME/$1.failure\""$NL"" else # Spawn directly without screen run_process ""$1"" ""$2"" >$SERVICE_DIR/$SCREEN_NAME/$1.pid fi fi } # Screen rc file builder # screen_rc service ""command-line"" function screen_rc { SCREEN_NAME=${SCREEN_NAME:-stack} SCREENRC=$TOP_DIR/$SCREEN_NAME-screenrc if [[ ! -e $SCREENRC ]]; then # Name the screen session echo ""sessionname $SCREEN_NAME"" > $SCREENRC # Set a reasonable statusbar echo ""hardstatus alwayslastline '$SCREEN_HARDSTATUS'"" >> $SCREENRC # Some distributions override PROMPT_COMMAND for the screen terminal type - turn that off echo ""setenv PROMPT_COMMAND /bin/true"" >> $SCREENRC echo ""screen -t shell bash"" >> $SCREENRC fi # If this service doesn't already exist in the screenrc file if ! grep $1 $SCREENRC 2>&1 > /dev/null; then NL=`echo -ne '\015'` echo ""screen -t $1 bash"" >> $SCREENRC echo ""stuff \""$2$NL\"""" >> $SCREENRC if [[ -n ${SCREEN_LOGDIR} ]]; then echo ""logfile ${SCREEN_LOGDIR}/screen-${1}.${CURRENT_LOG_TIME}.log"" >>$SCREENRC echo ""log on"" >>$SCREENRC fi fi } # Stop a service in screen # If a PID is available use it, kill the whole process group via TERM # If screen is being used kill the screen window; this will catch processes # that did not leave a PID behind # screen_stop service function screen_stop { SCREEN_NAME=${SCREEN_NAME:-stack} SERVICE_DIR=${SERVICE_DIR:-${DEST}/status} USE_SCREEN=$(trueorfalse True $USE_SCREEN) if is_service_enabled $1; then # Kill via pid if we have one available if [[ -r $SERVICE_DIR/$SCREEN_NAME/$1.pid ]]; then pkill -TERM -P -$(cat $SERVICE_DIR/$SCREEN_NAME/$1.pid) rm $SERVICE_DIR/$SCREEN_NAME/$1.pid fi if [[ ""$USE_SCREEN"" = ""True"" ]]; then # Clean up the screen window screen -S $SCREEN_NAME -p $1 -X kill fi fi } # Helper to get the status of each running service # service_check function service_check { local service local failures SCREEN_NAME=${SCREEN_NAME:-stack} SERVICE_DIR=${SERVICE_DIR:-${DEST}/status} if [[ ! -d ""$SERVICE_DIR/$SCREEN_NAME"" ]]; then echo ""No service status directory found"" return fi # Check if there is any falure flag file under $SERVICE_DIR/$SCREEN_NAME # make this -o errexit safe failures=`ls ""$SERVICE_DIR/$SCREEN_NAME""/*.failure 2>/dev/null || /bin/true` for service in $failures; do service=`basename $service` service=${service%.failure} echo ""Error: Service $service is not running"" done if [ -n ""$failures"" ]; then die $LINENO ""More details about the above errors can be found with screen, with ./rejoin-stack.sh"" fi } # Python Functions # ================ # Get the path to the pip command. # get_pip_command function get_pip_command { which pip || which pip-python if [ $? -ne 0 ]; then die $LINENO ""Unable to find pip; cannot continue"" fi } # Get the path to the direcotry where python executables are installed. # get_python_exec_prefix function get_python_exec_prefix { if is_fedora || is_suse; then echo ""/usr/bin"" else echo ""/usr/local/bin"" fi } # Wrapper for ``pip install`` to set cache and proxy environment variables # Uses globals ``OFFLINE``, ``PIP_DOWNLOAD_CACHE``, ``PIP_USE_MIRRORS``, # ``TRACK_DEPENDS``, ``*_proxy`` # pip_install package [package ...] function pip_install { local xtrace=$(set +o | grep xtrace) set +o xtrace if [[ ""$OFFLINE"" = ""True"" || -z ""$@"" ]]; then $xtrace return fi if [[ -z ""$os_PACKAGE"" ]]; then GetOSVersion fi if [[ $TRACK_DEPENDS = True ]]; then source $DEST/.venv/bin/activate CMD_PIP=$DEST/.venv/bin/pip SUDO_PIP=""env"" else SUDO_PIP=""sudo"" CMD_PIP=$(get_pip_command) fi # Mirror option not needed anymore because pypi has CDN available, # but it's useful in certain circumstances PIP_USE_MIRRORS=${PIP_USE_MIRRORS:-False} if [[ ""$PIP_USE_MIRRORS"" != ""False"" ]]; then PIP_MIRROR_OPT=""--use-mirrors"" fi # pip < 1.4 has a bug where it will use an already existing build # directory unconditionally. Say an earlier component installs # foo v1.1; pip will have built foo's source in # /tmp/$USER-pip-build. Even if a later component specifies foo < # 1.1, the existing extracted build will be used and cause # confusing errors. By creating unique build directories we avoid # this problem. See https://github.com/pypa/pip/issues/709 local pip_build_tmp=$(mktemp --tmpdir -d pip-build.XXXXX) $xtrace $SUDO_PIP PIP_DOWNLOAD_CACHE=${PIP_DOWNLOAD_CACHE:-/var/cache/pip} \ http_proxy=$http_proxy \ https_proxy=$https_proxy \ no_proxy=$no_proxy \ $CMD_PIP install --build=${pip_build_tmp} \ $PIP_MIRROR_OPT $@ \ && $SUDO_PIP rm -rf ${pip_build_tmp} } # this should be used if you want to install globally, all libraries should # use this, especially *oslo* ones function setup_install { local project_dir=$1 setup_package_with_req_sync $project_dir } # this should be used for projects which run services, like all services function setup_develop { local project_dir=$1 setup_package_with_req_sync $project_dir -e } # ``pip install -e`` the package, which processes the dependencies # using pip before running `setup.py develop` # # Updates the dependencies in project_dir from the # openstack/requirements global list before installing anything. # # Uses globals ``TRACK_DEPENDS``, ``REQUIREMENTS_DIR``, ``UNDO_REQUIREMENTS`` # setup_develop directory function setup_package_with_req_sync { local project_dir=$1 local flags=$2 # Don't update repo if local changes exist # Don't use buggy ""git diff --quiet"" # ``errexit`` requires us to trap the exit code when the repo is changed local update_requirements=$(cd $project_dir && git diff --exit-code >/dev/null || echo ""changed"") if [[ $update_requirements != ""changed"" ]]; then (cd $REQUIREMENTS_DIR; \ $SUDO_CMD python update.py $project_dir) fi setup_package $project_dir $flags # We've just gone and possibly modified the user's source tree in an # automated way, which is considered bad form if it's a development # tree because we've screwed up their next git checkin. So undo it. # # However... there are some circumstances, like running in the gate # where we really really want the overridden version to stick. So provide # a variable that tells us whether or not we should UNDO the requirements # changes (this will be set to False in the OpenStack ci gate) if [ $UNDO_REQUIREMENTS = ""True"" ]; then if [[ $update_requirements != ""changed"" ]]; then (cd $project_dir && git reset --hard) fi fi } # ``pip install -e`` the package, which processes the dependencies # using pip before running `setup.py develop` # Uses globals ``STACK_USER`` # setup_develop_no_requirements_update directory function setup_package { local project_dir=$1 local flags=$2 pip_install $flags $project_dir # ensure that further actions can do things like setup.py sdist if [[ ""$flags"" == ""-e"" ]]; then safe_chown -R $STACK_USER $1/*.egg-info fi } # Service Functions # ================= # remove extra commas from the input string (i.e. ``ENABLED_SERVICES``) # _cleanup_service_list service-list function _cleanup_service_list { echo ""$1"" | sed -e ' s/,,/,/g; s/^,//; s/,$// ' } # disable_all_services() removes all current services # from ``ENABLED_SERVICES`` to reset the configuration # before a minimal installation # Uses global ``ENABLED_SERVICES`` # disable_all_services function disable_all_services { ENABLED_SERVICES="""" } # Remove all services starting with '-'. For example, to install all default # services except rabbit (rabbit) set in ``localrc``: # ENABLED_SERVICES+="",-rabbit"" # Uses global ``ENABLED_SERVICES`` # disable_negated_services function disable_negated_services { local tmpsvcs=""${ENABLED_SERVICES}"" local service for service in ${tmpsvcs//,/ }; do if [[ ${service} == -* ]]; then tmpsvcs=$(echo ${tmpsvcs}|sed -r ""s/(,)?(-)?${service#-}(,)?/,/g"") fi done ENABLED_SERVICES=$(_cleanup_service_list ""$tmpsvcs"") } # disable_service() removes the services passed as argument to the # ``ENABLED_SERVICES`` list, if they are present. # # For example: # disable_service rabbit # # This function does not know about the special cases # for nova, glance, and neutron built into is_service_enabled(). # Uses global ``ENABLED_SERVICES`` # disable_service service [service ...] function disable_service { local tmpsvcs="",${ENABLED_SERVICES},"" local service for service in $@; do if is_service_enabled $service; then tmpsvcs=${tmpsvcs//,$service,/,} fi done ENABLED_SERVICES=$(_cleanup_service_list ""$tmpsvcs"") } # enable_service() adds the services passed as argument to the # ``ENABLED_SERVICES`` list, if they are not already present. # # For example: # enable_service qpid # # This function does not know about the special cases # for nova, glance, and neutron built into is_service_enabled(). # Uses global ``ENABLED_SERVICES`` # enable_service service [service ...] function enable_service { local tmpsvcs=""${ENABLED_SERVICES}"" for service in $@; do if ! is_service_enabled $service; then tmpsvcs+="",$service"" fi done ENABLED_SERVICES=$(_cleanup_service_list ""$tmpsvcs"") disable_negated_services } # is_service_enabled() checks if the service(s) specified as arguments are # enabled by the user in ``ENABLED_SERVICES``. # # Multiple services specified as arguments are ``OR``'ed together; the test # is a short-circuit boolean, i.e it returns on the first match. # # There are special cases for some 'catch-all' services:: # **nova** returns true if any service enabled start with **n-** # **cinder** returns true if any service enabled start with **c-** # **ceilometer** returns true if any service enabled start with **ceilometer** # **glance** returns true if any service enabled start with **g-** # **neutron** returns true if any service enabled start with **q-** # **swift** returns true if any service enabled start with **s-** # **trove** returns true if any service enabled start with **tr-** # For backward compatibility if we have **swift** in ENABLED_SERVICES all the # **s-** services will be enabled. This will be deprecated in the future. # # Cells within nova is enabled if **n-cell** is in ``ENABLED_SERVICES``. # We also need to make sure to treat **n-cell-region** and **n-cell-child** # as enabled in this case. # # Uses global ``ENABLED_SERVICES`` # is_service_enabled service [service ...] function is_service_enabled { local xtrace=$(set +o | grep xtrace) set +o xtrace local enabled=1 services=$@ for service in ${services}; do [[ ,${ENABLED_SERVICES}, =~ ,${service}, ]] && enabled=0 # Look for top-level 'enabled' function for this service if type is_${service}_enabled >/dev/null 2>&1; then # A function exists for this service, use it is_${service}_enabled enabled=$? fi # TODO(dtroyer): Remove these legacy special-cases after the is_XXX_enabled() # are implemented [[ ${service} == n-cell-* && ${ENABLED_SERVICES} =~ ""n-cell"" ]] && enabled=0 [[ ${service} == ""nova"" && ${ENABLED_SERVICES} =~ ""n-"" ]] && enabled=0 [[ ${service} == ""cinder"" && ${ENABLED_SERVICES} =~ ""c-"" ]] && enabled=0 [[ ${service} == ""ceilometer"" && ${ENABLED_SERVICES} =~ ""ceilometer-"" ]] && enabled=0 [[ ${service} == ""glance"" && ${ENABLED_SERVICES} =~ ""g-"" ]] && enabled=0 [[ ${service} == ""ironic"" && ${ENABLED_SERVICES} =~ ""ir-"" ]] && enabled=0 [[ ${service} == ""neutron"" && ${ENABLED_SERVICES} =~ ""q-"" ]] && enabled=0 [[ ${service} == ""trove"" && ${ENABLED_SERVICES} =~ ""tr-"" ]] && enabled=0 [[ ${service} == ""swift"" && ${ENABLED_SERVICES} =~ ""s-"" ]] && enabled=0 [[ ${service} == s-* && ${ENABLED_SERVICES} =~ ""swift"" ]] && enabled=0 done $xtrace return $enabled } # Toggle enable/disable_service for services that must run exclusive of each other # $1 The name of a variable containing a space-separated list of services # $2 The name of a variable in which to store the enabled service's name # $3 The name of the service to enable function use_exclusive_service { local options=${!1} local selection=$3 out=$2 [ -z $selection ] || [[ ! ""$options"" =~ ""$selection"" ]] && return 1 for opt in $options;do [[ ""$opt"" = ""$selection"" ]] && enable_service $opt || disable_service $opt done eval ""$out=$selection"" return 0 } # System Functions # ================ # Only run the command if the target file (the last arg) is not on an # NFS filesystem. function _safe_permission_operation { local xtrace=$(set +o | grep xtrace) set +o xtrace local args=( $@ ) local last local sudo_cmd local dir_to_check let last=""${#args[*]} - 1"" dir_to_check=${args[$last]} if [ ! -d ""$dir_to_check"" ]; then dir_to_check=`dirname ""$dir_to_check""` fi if is_nfs_directory ""$dir_to_check"" ; then $xtrace return 0 fi if [[ $TRACK_DEPENDS = True ]]; then sudo_cmd=""env"" else sudo_cmd=""sudo"" fi $xtrace $sudo_cmd $@ } # Exit 0 if address is in network or 1 if address is not in network # ip-range is in CIDR notation: 1.2.3.4/20 # address_in_net ip-address ip-range function address_in_net { local ip=$1 local range=$2 local masklen=${range#*/} local network=$(maskip ${range%/*} $(cidr2netmask $masklen)) local subnet=$(maskip $ip $(cidr2netmask $masklen)) [[ $network == $subnet ]] } # Add a user to a group. # add_user_to_group user group function add_user_to_group { local user=$1 local group=$2 if [[ -z ""$os_VENDOR"" ]]; then GetOSVersion fi # SLE11 and openSUSE 12.2 don't have the usual usermod if ! is_suse || [[ ""$os_VENDOR"" = ""openSUSE"" && ""$os_RELEASE"" != ""12.2"" ]]; then sudo usermod -a -G ""$group"" ""$user"" else sudo usermod -A ""$group"" ""$user"" fi } # Convert CIDR notation to a IPv4 netmask # cidr2netmask cidr-bits function cidr2netmask { local maskpat=""255 255 255 255"" local maskdgt=""254 252 248 240 224 192 128"" set -- ${maskpat:0:$(( ($1 / 8) * 4 ))}${maskdgt:$(( (7 - ($1 % 8)) * 4 )):3} echo ${1-0}.${2-0}.${3-0}.${4-0} } # Gracefully cp only if source file/dir exists # cp_it source destination function cp_it { if [ -e $1 ] || [ -d $1 ]; then cp -pRL $1 $2 fi } # HTTP and HTTPS proxy servers are supported via the usual environment variables [1] # ``http_proxy``, ``https_proxy`` and ``no_proxy``. They can be set in # ``localrc`` or on the command line if necessary:: # # [1] http://www.w3.org/Daemon/User/Proxies/ProxyClients.html # # http_proxy=http://proxy.example.com:3128/ no_proxy=repo.example.net ./stack.sh function export_proxy_variables { if [[ -n ""$http_proxy"" ]]; then export http_proxy=$http_proxy fi if [[ -n ""$https_proxy"" ]]; then export https_proxy=$https_proxy fi if [[ -n ""$no_proxy"" ]]; then export no_proxy=$no_proxy fi } # Returns true if the directory is on a filesystem mounted via NFS. function is_nfs_directory { local mount_type=`stat -f -L -c %T $1` test ""$mount_type"" == ""nfs"" } # Return the network portion of the given IP address using netmask # netmask is in the traditional dotted-quad format # maskip ip-address netmask function maskip { local ip=$1 local mask=$2 local l=""${ip%.*}""; local r=""${ip#*.}""; local n=""${mask%.*}""; local m=""${mask#*.}"" local subnet=$((${ip%%.*}&${mask%%.*})).$((${r%%.*}&${m%%.*})).$((${l##*.}&${n##*.})).$((${ip##*.}&${mask##*.})) echo $subnet } # Service wrapper to restart services # restart_service service-name function restart_service { if is_ubuntu; then sudo /usr/sbin/service $1 restart else sudo /sbin/service $1 restart fi } # Only change permissions of a file or directory if it is not on an # NFS filesystem. function safe_chmod { _safe_permission_operation chmod $@ } # Only change ownership of a file or directory if it is not on an NFS # filesystem. function safe_chown { _safe_permission_operation chown $@ } # Service wrapper to start services # start_service service-name function start_service { if is_ubuntu; then sudo /usr/sbin/service $1 start else sudo /sbin/service $1 start fi } # Service wrapper to stop services # stop_service service-name function stop_service { if is_ubuntu; then sudo /usr/sbin/service $1 stop else sudo /sbin/service $1 stop fi } # Restore xtrace $XTRACE # Local variables: # mode: shell-script # End: ",,1630,0
openstack%2Ftempest~master~Ibec518910597fc9e03a69d1d2bc94e719cfab0f9,openstack/tempest,master,Ibec518910597fc9e03a69d1d2bc94e719cfab0f9,make 'server' as 'required' in server update schema,MERGED,2014-06-11 09:56:30.000000000,2014-06-17 08:17:36.000000000,2014-06-17 08:17:36.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 6796}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-11 09:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0ccc9dfed3d50079af6b50466db7a0d3386f42de', 'message': ""make 'server' as 'required' in server update schema\n\nThis patch make the 'server' attribute as 'required' in\nserver update schema (base_update_server).\n\nThis attribute is not optional in server's update API response.\n\nPartially implements blueprint nova-api-attribute-test\n\nChange-Id: Ibec518910597fc9e03a69d1d2bc94e719cfab0f9\n""}, {'number': 2, 'created': '2014-06-12 01:34:23.000000000', 'files': ['tempest/api_schema/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c079a029e92008b291d8d082fdba0c2692064cef', 'message': ""make 'server' as 'required' in server update schema\n\nThis patch make the 'server' attribute as 'required' in\nserver update schema (base_update_server).\n\nThis attribute is not optional in server's update API response.\n\nPartially implements blueprint nova-api-attribute-test\n\nChange-Id: Ibec518910597fc9e03a69d1d2bc94e719cfab0f9\n""}]",0,99319,c079a029e92008b291d8d082fdba0c2692064cef,23,8,2,8556,,,0,"make 'server' as 'required' in server update schema

This patch make the 'server' attribute as 'required' in
server update schema (base_update_server).

This attribute is not optional in server's update API response.

Partially implements blueprint nova-api-attribute-test

Change-Id: Ibec518910597fc9e03a69d1d2bc94e719cfab0f9
",git fetch https://review.opendev.org/openstack/tempest refs/changes/19/99319/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api_schema/compute/servers.py'],1,0ccc9dfed3d50079af6b50466db7a0d3386f42de,bp/nova-api-attribute-test," }, 'required': ['server']", },2,1
openstack%2Fkeystone~master~I4cae5fddc42897615554746f946ed4f490dc1ca5,openstack/keystone,master,I4cae5fddc42897615554746f946ed4f490dc1ca5,install gettext on OS X for msgfmt,MERGED,2014-06-04 20:55:37.000000000,2014-06-17 08:14:09.000000000,2014-06-17 08:14:08.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 1916}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 6460}, {'_account_id': 8871}, {'_account_id': 11333}]","[{'number': 1, 'created': '2014-06-04 20:55:37.000000000', 'files': ['doc/source/setup.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f75073f6a9ed984dec3e1debb77a7021990c8b18', 'message': 'install gettext on OS X for msgfmt\n\nas already mentioned by this doc, gettext provides msgfmt, which is\nrequired for i18n validation via tox.\n\nChange-Id: I4cae5fddc42897615554746f946ed4f490dc1ca5\n'}]",0,97928,f75073f6a9ed984dec3e1debb77a7021990c8b18,20,8,1,4,,,0,"install gettext on OS X for msgfmt

as already mentioned by this doc, gettext provides msgfmt, which is
required for i18n validation via tox.

Change-Id: I4cae5fddc42897615554746f946ed4f490dc1ca5
",git fetch https://review.opendev.org/openstack/keystone refs/changes/28/97928/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/setup.rst'],1,f75073f6a9ed984dec3e1debb77a7021990c8b18,(detached, $ brew install python openssl gettext, $ brew install python openssl,1,1
openstack%2Fmistral~master~Id261784e71c1b763c60090ffed92430d359f448b,openstack/mistral,master,Id261784e71c1b763c60090ffed92430d359f448b,Fix hacking rules H101 and E265,MERGED,2014-06-11 10:58:49.000000000,2014-06-17 08:08:39.000000000,2014-06-17 08:08:39.000000000,"[{'_account_id': 3}, {'_account_id': 1534}, {'_account_id': 4715}, {'_account_id': 7227}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9537}]","[{'number': 1, 'created': '2014-06-11 10:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/fb77c41f1cdc8db27d7be9e226f900af86fcbf10', 'message': 'Fix Hacking rule H101\n\nThis is trivial, but easy to get out of the way.\n\nChange-Id: Id261784e71c1b763c60090ffed92430d359f448b\n'}, {'number': 2, 'created': '2014-06-11 23:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/582507aed471178bd586c66071cbd74e6e35f33c', 'message': 'Fix Hacking rule H101\n\nThis is trivial, but easy to get out of the way.\n\nChange-Id: Id261784e71c1b763c60090ffed92430d359f448b\n'}, {'number': 3, 'created': '2014-06-12 07:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/3602899b2dbf55b62c8ea1d9f5f9b3c88ee004fa', 'message': 'Fix hacking rules H101 and E265\n\nThis is trivial, but easy to get out of the way.\n\nChange-Id: Id261784e71c1b763c60090ffed92430d359f448b\n'}, {'number': 4, 'created': '2014-06-16 10:52:24.000000000', 'files': ['mistral/config.py', 'mistral/tests/api/v1/controllers/test_tasks.py', 'mistral/api/app.py', 'mistral/utils/ssh_utils.py', 'mistral/db/sqlalchemy/models.py', 'mistral/engine/__init__.py', 'mistral/services/workbooks.py', 'mistral/api/controllers/v1/root.py', 'mistral/context.py', 'functionaltests/api/v1/test_mistral_basic.py', 'mistral/engine/workflow.py', 'mistral/actions/std_actions.py', 'mistral/api/controllers/resource.py', 'mistral/tests/base.py', 'tox.ini', 'mistral/tests/api/v1/controllers/test_executions.py', 'mistral/tests/unit/engine/default/test_engine.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/9fa8cd669b9c5e88c7f6f7b3d72f3e957e0a5853', 'message': 'Fix hacking rules H101 and E265\n\nThis is trivial, but easy to get out of the way.\n\nChange-Id: Id261784e71c1b763c60090ffed92430d359f448b\n'}]",8,99330,9fa8cd669b9c5e88c7f6f7b3d72f3e957e0a5853,24,7,4,4715,,,0,"Fix hacking rules H101 and E265

This is trivial, but easy to get out of the way.

Change-Id: Id261784e71c1b763c60090ffed92430d359f448b
",git fetch https://review.opendev.org/openstack/mistral refs/changes/30/99330/2 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/api/controllers/v1/root.py', 'mistral/config.py', 'mistral/tests/api/v1/controllers/test_tasks.py', 'mistral/utils/ssh_utils.py', 'mistral/actions/std_actions.py', 'mistral/api/controllers/resource.py', 'mistral/tests/base.py', 'tox.ini', 'mistral/tests/api/v1/controllers/test_executions.py']",9,fb77c41f1cdc8db27d7be9e226f900af86fcbf10,new-hacking,# TODO(you): later we need additional tests verifying all the errors etc.,# TODO: later we need additional tests verifying all the errors etc.,14,12
openstack%2Fmistral~master~I951e7fe9fec7a292f2773a5f0e55e9ee8d3d3aeb,openstack/mistral,master,I951e7fe9fec7a292f2773a5f0e55e9ee8d3d3aeb,Temporarily disable the new hacking rules,MERGED,2014-06-12 07:06:57.000000000,2014-06-17 08:08:29.000000000,2014-06-17 08:08:29.000000000,"[{'_account_id': 3}, {'_account_id': 7227}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9537}]","[{'number': 1, 'created': '2014-06-12 07:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/bc19ff86eee2848db8ce6f16fd2597a80763172f', 'message': 'Temporarily disable the new hacking rules\n\nChange-Id: I951e7fe9fec7a292f2773a5f0e55e9ee8d3d3aeb\n'}, {'number': 2, 'created': '2014-06-16 10:52:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral/commit/f827fedd19e92f57b2a76e06b4d2006f49e8be42', 'message': 'Temporarily disable the new hacking rules\n\nChange-Id: I951e7fe9fec7a292f2773a5f0e55e9ee8d3d3aeb\n'}]",0,99586,f827fedd19e92f57b2a76e06b4d2006f49e8be42,18,5,2,4715,,,0,"Temporarily disable the new hacking rules

Change-Id: I951e7fe9fec7a292f2773a5f0e55e9ee8d3d3aeb
",git fetch https://review.opendev.org/openstack/mistral refs/changes/86/99586/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bc19ff86eee2848db8ce6f16fd2597a80763172f,new-hacking,"ignore = H101,H302,H306,H803,E265,H305,H405,H307,H904,H236","ignore = H101,H302,H306,H803",1,1
openstack%2Fnova~master~I346ee0248c03e60716bd7dc4a5ee4493610867cb,openstack/nova,master,I346ee0248c03e60716bd7dc4a5ee4493610867cb,Remove deprecated config option names: Juno Edition,MERGED,2014-04-17 22:39:12.000000000,2014-06-17 07:37:26.000000000,2014-06-15 01:56:54.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1004}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 4190}, {'_account_id': 5170}, {'_account_id': 6735}, {'_account_id': 8163}, {'_account_id': 8367}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-17 22:39:12.000000000', 'files': ['nova/virt/libvirt/imagecache.py', 'nova/virt/xenapi/image/bittorrent.py', 'nova/virt/libvirt/vif.py', 'nova/virt/xenapi/vif.py', 'nova/virt/xenapi/vm_utils.py', 'nova/virt/cpu.py', 'nova/virt/libvirt/utils.py', 'nova/virt/imagecache.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/agent.py', 'nova/virt/xenapi/driver.py', 'nova/virt/xenapi/client/session.py', 'nova/virt/xenapi/vmops.py', 'nova/virt/libvirt/volume.py', 'nova/virt/xenapi/pool.py', 'nova/virt/baremetal/driver.py', 'nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d0a02fa390e4bd70b03390d6bdbb35d8d9c159dd', 'message': 'Remove deprecated config option names: Juno Edition\n\nJust like the beginning of every other release, remove the deprecated\nconfig option aliases that were marked as deprecated in Icehouse.\n\nEquivalent Icehouse patch: I64548e40f6cea42275a6f0f3ebdc0c4cd9324804\n\nDocImpact: Configurations that were deprecated in the Icehouse release are not\nrecognized in Juno.\n\nChange-Id: I346ee0248c03e60716bd7dc4a5ee4493610867cb\n'}]",4,88456,d0a02fa390e4bd70b03390d6bdbb35d8d9c159dd,52,16,1,1849,,,0,"Remove deprecated config option names: Juno Edition

Just like the beginning of every other release, remove the deprecated
config option aliases that were marked as deprecated in Icehouse.

Equivalent Icehouse patch: I64548e40f6cea42275a6f0f3ebdc0c4cd9324804

DocImpact: Configurations that were deprecated in the Icehouse release are not
recognized in Juno.

Change-Id: I346ee0248c03e60716bd7dc4a5ee4493610867cb
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/88456/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/imagecache.py', 'nova/virt/xenapi/image/bittorrent.py', 'nova/virt/libvirt/vif.py', 'nova/virt/xenapi/vif.py', 'nova/virt/xenapi/vm_utils.py', 'nova/virt/cpu.py', 'nova/virt/libvirt/utils.py', 'nova/virt/imagecache.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/agent.py', 'nova/virt/xenapi/driver.py', 'nova/virt/xenapi/client/session.py', 'nova/virt/xenapi/vmops.py', 'nova/virt/libvirt/volume.py', 'nova/virt/xenapi/pool.py', 'nova/virt/baremetal/driver.py', 'nova/virt/libvirt/imagebackend.py']",17,d0a02fa390e4bd70b03390d6bdbb35d8d9c159dd,deprecated," ' then use_cow_images flag is used instead of this one.'), ' specify images_type=lvm.'), ' if this flag is set to True.'), help='The RADOS pool in which rbd volumes are stored'), help='Path to the ceph configuration file to use'),"," ' then use_cow_images flag is used instead of this one.', deprecated_group='DEFAULT', deprecated_name='libvirt_images_type'), ' specify images_type=lvm.', deprecated_group='DEFAULT', deprecated_name='libvirt_images_volume_group'), ' if this flag is set to True.', deprecated_group='DEFAULT', deprecated_name='libvirt_sparse_logical_volumes'), help='The RADOS pool in which rbd volumes are stored', deprecated_group='DEFAULT', deprecated_name='libvirt_images_rbd_pool'), help='Path to the ceph configuration file to use', deprecated_group='DEFAULT', deprecated_name='libvirt_images_rbd_ceph_conf'),",53,224
openstack%2Ftraining-guides~master~Id5529432eba01bd1e3e67a1d64b7517efd1966d0,openstack/training-guides,master,Id5529432eba01bd1e3e67a1d64b7517efd1966d0,Add library of VirtualBox functions,MERGED,2014-06-17 07:02:54.000000000,2014-06-17 07:36:44.000000000,2014-06-17 07:36:44.000000000,"[{'_account_id': 3}, {'_account_id': 6923}, {'_account_id': 7007}]","[{'number': 1, 'created': '2014-06-17 07:02:54.000000000', 'files': ['labs/lib/osbash/virtualbox.functions'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/a17aa7c02a1a435d52a728cb7e322abec8d5ea8f', 'message': 'Add library of VirtualBox functions\n\nThis changeset adds a library of functions for interacting with\nVirtualBox via VBoxManage. It contains functions for creating and\nbooting VMs, taking snapshots, configuring disks, networking, and\nshared folders.\n\nIn addition, its vm_attach_guestadd-iso can ask VirtualBox for the\nguest-additions ISO and, if that fails, look for it on the local\nfilesystem or download the correct version from virtualbox.org. On\nWindows (wbatch), the function relies on VirtualBox providing the\nguest-additions ISO (which on that platform appears to be a safe bet).\n\nPartial-Bug: 1312764\nImplements: blueprint openstack-training-labs\nChange-Id: Id5529432eba01bd1e3e67a1d64b7517efd1966d0\n'}]",0,100434,a17aa7c02a1a435d52a728cb7e322abec8d5ea8f,7,3,1,11109,,,0,"Add library of VirtualBox functions

This changeset adds a library of functions for interacting with
VirtualBox via VBoxManage. It contains functions for creating and
booting VMs, taking snapshots, configuring disks, networking, and
shared folders.

In addition, its vm_attach_guestadd-iso can ask VirtualBox for the
guest-additions ISO and, if that fails, look for it on the local
filesystem or download the correct version from virtualbox.org. On
Windows (wbatch), the function relies on VirtualBox providing the
guest-additions ISO (which on that platform appears to be a safe bet).

Partial-Bug: 1312764
Implements: blueprint openstack-training-labs
Change-Id: Id5529432eba01bd1e3e67a1d64b7517efd1966d0
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/34/100434/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/lib/osbash/virtualbox.functions'],1,a17aa7c02a1a435d52a728cb7e322abec8d5ea8f,bug/1312764,"#------------------------------------------------------------------------------- # VirtualBoxManage #------------------------------------------------------------------------------- VBM=vbm : ${VBM_LOG:=$LOG_DIR/vbm.log} function vbm { ${WBATCH:-:} wbatch_log_vbm ""$@"" mkdir -p ""$(dirname ""$VBM_LOG"")"" if [[ -n ""${OSBASH:-}"" ]]; then echo ""$@"" >> ""$VBM_LOG"" local rc=0 ""$VBM_EXE"" ""$@"" || rc=$? if [ $rc -ne 0 ]; then echo >&2 ""FAILURE: VBoxManage: $@"" return 1 fi else echo ""(not executed) $@"" >> ""$VBM_LOG"" fi } function get_vb_version { local VERSION="""" local RAW=$(WBATCH= $VBM --version) local re='([0-9]+\.[0-9]+\.[0-9]+).*' if [[ $RAW =~ $re ]]; then VERSION=${BASH_REMATCH[1]} fi echo ""$VERSION"" } #------------------------------------------------------------------------------- # VM status #------------------------------------------------------------------------------- function vm_exists { local VM_NAME=$1 return $(WBATCH= $VBM list vms | grep -q ""\""$VM_NAME\"""") } function vm_is_running { local VM_NAME=$1 return $(WBATCH= $VBM showvminfo --machinereadable ""$VM_NAME"" | \ grep -q 'VMState=""running""') } function vm_wait_for_shutdown { local VM=$1 ${WBATCH:-:} wbatch_wait_poweroff ""$VM"" # Return if we are just faking it for wbatch ${OSBASH:+:} return 0 echo >&2 -n ""Machine shutting down"" until WBATCH= $VBM showvminfo --machinereadable ""$VM"" 2>/dev/null | \ grep -q '=""poweroff""'; do echo -n . sleep 1 done echo >&2 -e ""\nMachine powered off."" } function vm_power_off { local VM_NAME=$1 if vm_is_running ""$VM_NAME""; then echo >&2 ""Powering off VM \""$VM_NAME\"""" $VBM controlvm ""$VM_NAME"" poweroff fi # VirtualBox VM needs a break before taking new commands vbox_sleep 1 } function vm_snapshot { local VM_NAME=$1 local SHOT_NAME=$2 # Blanks would fail in Windows batch files; space becomes underscore SHOT_NAME=""${SHOT_NAME// /_}"" $VBM snapshot ""$VM_NAME"" take ""$SHOT_NAME"" # VirtualBox VM needs a break before taking new commands vbox_sleep 1 } #------------------------------------------------------------------------------- # Host-only network functions #------------------------------------------------------------------------------- function hostonlyif_in_use { local NAME=$1 return $(WBATCH= $VBM list -l runningvms | \ grep -q ""Host-only Interface '$NAME'"") } function ip_to_hostonlyif { local IP=$1 local prevline="""" WBATCH= $VBM list hostonlyifs | grep -e ""^Name:"" -e ""^IPAddress:"" | \ while read line; do if [[ ""$line"" == *$IP* ]]; then # match longest string that ends with a space echo ${prevline##Name:* } break fi prevline=$line done } function create_hostonlyif { local OUT=$(WBATCH= $VBM hostonlyif create 2> /dev/null | grep ""^Interface"") # OUT is something like ""Interface 'vboxnet3' was successfully created"" local re=""Interface '(.*)' was successfully created"" if [[ $OUT =~ $re ]]; then echo ""${BASH_REMATCH[1]}"" else echo >&2 ""Host-only interface creation failed"" return 1 fi } function create_network { local IP=$1 # XXX We need host-only interface names as identifiers for wbatch; by # always executing VBoxManage calls to ip_to_hostonlyif and # create_hostonlyif we avoid the need to invent fake interface names local NAME=""$(OSBASH=exec_cmd ip_to_hostonlyif ""$IP"")"" if [ -n ""$NAME"" ]; then if hostonlyif_in_use ""$NAME""; then echo >&2 ""Host-only interface $NAME ($IP) is in use. Using it, too."" fi else echo >&2 ""Creating host-only interface"" NAME=$(OSBASH=exec_cmd create_hostonlyif) fi echo >&2 ""Configuring host-only network $IP ($NAME)"" $VBM hostonlyif ipconfig ""$NAME"" \ --ip ""$IP"" \ --netmask 255.255.255.0 >/dev/null echo ""$NAME"" } #------------------------------------------------------------------------------- # Disk functions #------------------------------------------------------------------------------- # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - # Creating, registering and unregistering disk images with VirtualBox # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - # DISK can be either a path or a disk UUID function disk_registered { local DISK=$1 return $(WBATCH= $VBM list hdds | grep -q ""$DISK"") } # DISK can be either a path or a disk UUID function disk_unregister { local DISK=$1 echo >&2 -e ""Unregistering disk\n\t$DISK"" $VBM closemedium disk ""$DISK"" } function create_vdi { local HDPATH=$1 local SIZE=$2 echo >&2 -e ""Creating disk:\n\t$HDPATH"" $VBM createhd --format VDI --filename ""$HDPATH"" --size ""$SIZE"" } # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - # Attaching and detaching disks from VMs # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - # DISK can be either a path or a disk UUID function get_next_child_uuid { local DISK=$1 local CHILD_UUID="""" if disk_registered ""$DISK""; then local LINE=$(WBATCH= $VBM showhdinfo ""$DISK"" | grep -e ""^Child UUIDs:"") CHILD_UUID=${LINE##Child UUIDs:* } fi echo -e ""next_child_uuid $DISK:\n\t$LINE\n\t$CHILD_UUID"" >> ""$VBM_LOG"" echo ""$CHILD_UUID"" } # DISK can be either a path or a disk UUID function path_to_disk_uuid { local DISK=$1 local UUID="""" local LINE=$(WBATCH= $VBM showhdinfo ""$DISK"" | grep -e ""^UUID:"") local re='UUID:[ ]+([^ ]+)' if [[ $LINE =~ $re ]]; then UUID=${BASH_REMATCH[1]} fi echo -e ""path_to_disk_uuid $DISK:\n\t$LINE\n\t$UUID"" >> ""$VBM_LOG"" echo ""$UUID"" } # DISK can be either a path or a disk UUID function disk_to_path { local DISK=$1 local FPATH="""" local LINE=$(WBATCH= $VBM showhdinfo ""$DISK"" | grep -e ""^Location:"") local re='Location:[ ]+([^ ]+)' if [[ $LINE =~ $re ]]; then FPATH=${BASH_REMATCH[1]} fi echo -e ""disk_to_path $DISK:\n\t$LINE\n\t$FPATH"" >> ""$VBM_LOG"" echo ""$FPATH"" } # DISK can be either a path or a disk UUID function disk_to_vm { local DISK=$1 local VM_NAME="""" local LINE=$(WBATCH= $VBM showhdinfo ""$DISK"" | grep -e ""^In use by VMs:"") local re='In use by VMs:[ ]+([^ ]+) ' if [[ $LINE =~ $re ]]; then VM_NAME=${BASH_REMATCH[1]} fi echo -e ""disk_to_vm $DISK:\n\t$LINE\n\t$VM_NAME"" >> ""$VBM_LOG"" echo ""$VM_NAME"" } function vm_get_disk_path { local VM_NAME=$1 local LINE=$(WBATCH= $VBM showvminfo --machinereadable ""$VM_NAME"" | \ grep '^""SATA-0-0""=.*vdi""$') local HDPATH=${LINE##\""SATA-0-0\""=\""} HDPATH=${HDPATH%\""} echo ""$HDPATH"" } function vm_detach_disk { local VM_NAME=$1 echo >&2 ""Detaching disk from VM \""$VM_NAME\"""" $VBM storageattach ""$VM_NAME"" \ --storagectl SATA \ --port 0 \ --device 0 \ --type hdd \ --medium none # VirtualBox VM needs a break before taking new commands vbox_sleep 1 } # DISK can be either a path or a disk UUID function vm_attach_disk { local VM_NAME=$1 local DISK=$2 echo >&2 -e ""Attaching to VM \""$VM_NAME\"":\n\t$DISK"" $VBM storageattach ""$VM_NAME"" \ --storagectl SATA \ --port 0 \ --device 0 \ --type hdd \ --medium ""$DISK"" } # DISK can be either a path or a disk UUID function vm_attach_disk_multi { local VM_NAME=$1 local DISK=$2 echo >&2 -e ""Attaching to VM \""$VM_NAME\"":\n\t$DISK"" $VBM storageattach ""$VM_NAME"" \ --storagectl SATA \ --port 0 \ --device 0 \ --type hdd \ --medium ""$DISK"" \ --mtype multiattach } #------------------------------------------------------------------------------- # VM create and configure #------------------------------------------------------------------------------- function vm_mem { local NAME=""$1"" local MEM=""$2"" $VBM modifyvm ""$NAME"" --memory ""$MEM"" } function vm_port { local NAME=""$1"" local DESC=""$2"" local HOSTPORT=""$3"" local GUESTPORT=""$4"" $VBM modifyvm ""$NAME"" --natpf1 ""$DESC,tcp,,$HOSTPORT,,$GUESTPORT"" } function vm_nic_hostonly { local VM=$1 # We start counting interfaces at 0, but VirtualBox starts NICs at 1 local NIC=$(($2 + 1)) local NETNAME=$3 $VBM modifyvm ""$VM"" \ ""--nictype$NIC"" ""$NICTYPE"" \ ""--nic$NIC"" hostonly \ ""--hostonlyadapter$NIC"" ""$NETNAME"" \ ""--nicpromisc$NIC"" allow-all } function vm_nic_nat { local VM=$1 # We start counting interfaces at 0, but VirtualBox starts NICs at 1 local NIC=$(($2 + 1)) $VBM modifyvm ""$VM"" ""--nictype$NIC"" ""$NICTYPE"" ""--nic$NIC"" nat } function vm_create { # NOTE: We assume that a VM with a matching name is ours. # Remove and recreate just in case someone messed with it. local VM_NAME=""$1"" ${WBATCH:-:} wbatch_abort_if_vm_exists ""$VM_NAME"" # Don't write to wbatch scripts, and don't execute when we are faking it # it for wbatch WBATCH= ${OSBASH:-:} vm_delete ""$VM_NAME"" # XXX ostype is distro-specific; moving it to modifyvm disables networking # Note: The VirtualBox GUI may not notice group changes after VM creation # until GUI is restarted. Moving a VM with group membership will # fail in cases (lingering files from old VM) where creating a # VM in that location succeeds. # # XXX temporary hack # --groups not supported in VirtualBox 4.1 (Mac OS X 10.5) echo >&2 ""Creating VM \""$VM_NAME\"""" local VER=$(get_vb_version) if [[ $VER = 4.1* ]]; then $VBM createvm \ --name ""$VM_NAME"" \ --register \ --ostype Ubuntu_64 >/dev/null else $VBM createvm \ --name ""$VM_NAME"" \ --register \ --ostype Ubuntu_64 \ --groups ""/$VM_GROUP"" >/dev/null fi $VBM modifyvm ""$VM_NAME"" --rtcuseutc on $VBM modifyvm ""$VM_NAME"" --biosbootmenu disabled $VBM modifyvm ""$VM_NAME"" --largepages on $VBM modifyvm ""$VM_NAME"" --boot1 disk # XXX temporary hack # --portcount not supported in VirtualBox 4.1 (Mac OS X 10.5) if [[ $VER == 4.1* ]]; then $VBM storagectl ""$VM_NAME"" --name SATA --add sata else $VBM storagectl ""$VM_NAME"" --name SATA --add sata --portcount 1 fi $VBM storagectl ""$VM_NAME"" --name IDE --add ide echo >&2 ""Created VM \""$VM_NAME\"""" } #------------------------------------------------------------------------------- # VM unregister, remove, delete #------------------------------------------------------------------------------- function vm_unregister_del { local VM_NAME=$1 echo >&2 ""Unregistering and deleting VM \""$VM_NAME\"""" $VBM unregistervm ""$VM_NAME"" --delete } function vm_delete { local VM_NAME=$1 echo >&2 -n ""Asked to delete VM \""$VM_NAME\"" "" if vm_exists ""$VM_NAME""; then echo >&2 ""(found)"" vm_power_off ""$VM_NAME"" local HDPATH=""$(vm_get_disk_path ""$VM_NAME"")"" if [ -n ""$HDPATH"" ]; then echo >&2 -e ""Disk attached: $HDPATH"" vm_detach_disk ""$VM_NAME"" disk_unregister ""$HDPATH"" echo >&2 -e ""Deleting: $HDPATH"" rm -f ""$HDPATH"" fi vm_unregister_del ""$VM_NAME"" else echo >&2 ""(not found)"" fi } # Remove VMs using disk and its children disks # DISK can be either a path or a disk UUID function disk_delete_child_vms { local DISK=$1 if ! disk_registered ""$DISK""; then # VirtualBox doesn't know this disk; we are done echo >&2 -e ""Disk not registered with VirtualBox:\n\t$DISK"" return 0 fi # XXX temporary hack # No Child UUIDs through showhdinfo in VirtualBox 4.1 (Mac OS X 10.5) local VER=$(get_vb_version) if [[ $VER == 4.1* ]]; then local VM="""" for VM in controller network compute base; do vm_delete ""$VM"" done return 0 fi while [ : ]; do local CHILD_UUID=$(get_next_child_uuid ""$DISK"") if [ -n ""$CHILD_UUID"" ]; then local CHILD_DISK=""$(disk_to_path ""$CHILD_UUID"")"" echo >&2 -e ""\nChild disk UUID: $CHILD_UUID\n\t$CHILD_DISK"" local VM=""$(disk_to_vm ""$CHILD_UUID"")"" if [ -n ""$VM"" ]; then echo 2>&1 -e ""\tstill attached to VM \""$VM\"""" vm_delete ""$VM"" else echo >&2 ""Unregistering and deleting: $CHILD_UUID"" disk_unregister ""$CHILD_UUID"" echo >&2 -e ""\t$CHILD_DISK"" rm -f ""$CHILD_DISK"" fi else break fi done } #------------------------------------------------------------------------------- # VM shared folders #------------------------------------------------------------------------------- function vm_add_share_automount { local VM_NAME=$1 local SHARE_DIR=$2 local SHARE_NAME=$3 $VBM sharedfolder add ""$VM_NAME"" \ --name ""$SHARE_NAME"" \ --hostpath ""$SHARE_DIR"" \ --automount } function vm_add_share { local VM_NAME=$1 local SHARE_DIR=$2 local SHARE_NAME=$3 $VBM sharedfolder add ""$VM_NAME"" \ --name ""$SHARE_NAME"" \ --hostpath ""$SHARE_DIR"" } function vm_rm_share { local VM_NAME=$1 local SHARE_NAME=$2 $VBM sharedfolder remove ""$VM_NAME"" --name ""$SHARE_NAME"" } #------------------------------------------------------------------------------- # VirtualBox guest add-ons #------------------------------------------------------------------------------- function _download_guestadd-iso { # e.g. 4.1.32r92798 4.3.10_RPMFusionr93012 4.3.10_Debianr93012 local ISO=VBoxGuestAdditions.iso local VER=$(get_vb_version) if [[ -n ""$VER"" ]]; then local URL=""http://download.virtualbox.org/virtualbox/$VER/VBoxGuestAdditions_$VER.iso"" download ""$URL"" ""$ISO_DIR"" $ISO fi GUESTADD_ISO=""$ISO_DIR/$ISO"" } function _get_guestadd-iso { local ISO=VBoxGuestAdditions.iso local ADD_ISO=""$IMG_DIR/$ISO"" if [ -f ""$ADD_ISO"" ]; then echo ""$ADD_ISO"" return 0 fi ADD_ISO=""/Applications/VirtualBox.app/Contents/MacOS/$ISO"" if [ -f ""$ADD_ISO"" ]; then echo ""$ADD_ISO"" return 0 fi echo >&2 ""Searching filesystem for VBoxGuestAdditions. This may take a while..."" ADD_ISO=$(find / -name ""$ISO"" 2>/dev/null) || true if [ -n ""$ADD_ISO"" ]; then echo ""$ADD_ISO"" return 0 fi echo >&2 ""Looking on the Internet"" _download_guestadd-iso if [ -f ""$ADD_ISO"" ]; then echo ""$ADD_ISO"" return 0 fi } function _vm_attach_guestadd-iso { local VM=$1 local GUESTADD_ISO=$2 local rc=0 $VBM storageattach ""$VM"" --storagectl IDE --port 1 --device 0 --type dvddrive --medium ""$GUESTADD_ISO"" 2>/dev/null || rc=$? return $rc } function vm_attach_guestadd-iso { local VM=$1 OSBASH= ${WBATCH:-:} _vm_attach_guestadd-iso ""$VM"" emptydrive OSBASH= ${WBATCH:-:} _vm_attach_guestadd-iso ""$VM"" additions # Return if we are just faking it for wbatch ${OSBASH:+:} return 0 if [ -z ""${GUESTADD_ISO-}"" ]; then # No location provided, asking VirtualBox for one # An existing drive is needed to make additions shortcut work # (at least VirtualBox 4.3.12 and below) WBATCH= _vm_attach_guestadd-iso ""$VM"" emptydrive if WBATCH= _vm_attach_guestadd-iso ""$VM"" additions; then echo >&2 ""Using VBoxGuestAdditions provided by VirtualBox"" return 0 fi # Neither user nor VirtualBox are helping, let's go guessing GUESTADD_ISO=$(_get_guestadd-iso) if [ -z ""GUESTADD_ISO"" ]; then # No ISO found return 2 fi fi if WBATCH= _vm_attach_guestadd-iso ""$VM"" ""$GUESTADD_ISO""; then echo >&2 ""Attached $GUESTADD_ISO"" return 0 else echo >&2 ""Failed to attach $GUESTADD_ISO"" return 3 fi } #------------------------------------------------------------------------------- # Sleep #------------------------------------------------------------------------------- function vbox_sleep { SEC=$1 # Don't sleep if we are just faking it for wbatch ${OSBASH:-:} sleep ""$SEC"" ${WBATCH:-:} wbatch_sleep ""$SEC"" } #------------------------------------------------------------------------------- # Booting a VM and passing boot parameters #------------------------------------------------------------------------------- source ""$OSBASH_LIB_DIR/scanlib"" function _vbox_push_scancode { local VM_NAME=$1 shift # Split string (e.g. '01 81') into arguments (works also if we # get each hexbyte as a separate argument) # Not quoting $@ is intentional -- we want to split on blanks local SCANCODE=( $@ ) $VBM controlvm ""$VM_NAME"" keyboardputscancode ""${SCANCODE[@]}"" } function vbox_kbd_escape_key { _vbox_push_scancode ""$VM_NAME"" ""$(esc2scancode)"" } function vbox_kbd_enter_key { _vbox_push_scancode ""$VM_NAME"" ""$(enter2scancode)"" } function vbox_kbd_string_input { local VM_NAME=$1 local STR=$2 # This loop is inefficient enough that we don't overrun the keyboard input # buffer when pushing scancodes to the VirtualBox. while IFS= read -r -n1 char; do if [ -n ""$char"" ]; then SC=$(char2scancode ""$char"") if [ -n ""$SC"" ]; then _vbox_push_scancode ""$VM_NAME"" ""$SC"" else echo >&2 ""not found: $char"" fi fi done <<< ""$STR"" } function vbox_boot { local VM=$1 echo >&2 ""Starting VM \""$VM\"""" $VBM startvm ""$VM"" } #------------------------------------------------------------------------------- # vim: set ai ts=4 sw=4 et ft=sh: ",,624,0
openstack%2Fdiskimage-builder~master~Ib5287a56b8e2b3e882dca489192f01d9f01cd8ba,openstack/diskimage-builder,master,Ib5287a56b8e2b3e882dca489192f01d9f01cd8ba,Ensure dib-run-parts profiling works with py3 and py2,MERGED,2014-05-20 01:40:43.000000000,2014-06-17 07:26:28.000000000,2014-06-17 07:26:27.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 6488}, {'_account_id': 6796}, {'_account_id': 6928}, {'_account_id': 7471}, {'_account_id': 7582}, {'_account_id': 8449}, {'_account_id': 8532}]","[{'number': 1, 'created': '2014-05-20 01:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/940ea17e6335bd4deeef0c6f03d94dd9926a9f47', 'message': 'Ensure python2 is used by dib-run-parts profiling func.\n\nChange-Id: Ib5287a56b8e2b3e882dca489192f01d9f01cd8ba\n'}, {'number': 2, 'created': '2014-05-21 12:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/952d9577b794cdfde1671b9ba685fec7aad51ae1', 'message': 'Ensure dib-run-parts profiling works with py3 and py2\n\nThis change adapts the ""inline"" function we use to profile\nrun-parts duration to make it run successfully on both py2 and py3\n\nChange-Id: Ib5287a56b8e2b3e882dca489192f01d9f01cd8ba\n'}, {'number': 3, 'created': '2014-06-06 16:37:41.000000000', 'files': ['elements/dib-run-parts/bin/dib-run-parts'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3262e7624815d3979f558b301cb07c7f111acd51', 'message': 'Ensure dib-run-parts profiling works with py3 and py2\n\nThis change adjusts the ""inline"" python function used to profile\nrun-parts duration to make it run successfully on both py2 and py3\n\nChange-Id: Ib5287a56b8e2b3e882dca489192f01d9f01cd8ba\n'}]",2,94292,3262e7624815d3979f558b301cb07c7f111acd51,50,9,3,6796,,,0,"Ensure dib-run-parts profiling works with py3 and py2

This change adjusts the ""inline"" python function used to profile
run-parts duration to make it run successfully on both py2 and py3

Change-Id: Ib5287a56b8e2b3e882dca489192f01d9f01cd8ba
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/92/94292/2 && git format-patch -1 --stdout FETCH_HEAD,['elements/dib-run-parts/bin/dib-run-parts'],1,940ea17e6335bd4deeef0c6f03d94dd9926a9f47,py3," duration=$(python2 -c ""print $stop_seconds - $start_seconds"")"," duration=$(python -c ""print $stop_seconds - $start_seconds"")",1,1
openstack%2Fhorizon~master~Ib4fc0624cc71e226895c7cef1567948d7f82d277,openstack/horizon,master,Ib4fc0624cc71e226895c7cef1567948d7f82d277,"Update customizing docs, css was replaced by .less",MERGED,2014-04-18 12:02:36.000000000,2014-06-17 07:26:12.000000000,2014-06-16 21:28:28.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 4264}, {'_account_id': 5623}, {'_account_id': 6230}, {'_account_id': 6610}, {'_account_id': 6914}, {'_account_id': 7386}, {'_account_id': 8090}, {'_account_id': 8648}, {'_account_id': 8794}, {'_account_id': 8871}, {'_account_id': 9317}, {'_account_id': 9531}, {'_account_id': 9576}, {'_account_id': 10112}]","[{'number': 1, 'created': '2014-04-18 12:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/22c105aa6a7719d4990aaff8369cb35dcb98aa35', 'message': ""Update customizing docs\n\nDocs still refer to style.css, but we're using horizon.less\nfor ages now. The docs should reflect that.\n\nChange-Id: Ib4fc0624cc71e226895c7cef1567948d7f82d277\n""}, {'number': 2, 'created': '2014-04-18 14:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/dedd80cf367ee9d6774061331351a53cf74e6507', 'message': ""Update customizing docs\n\nDocs still refer to style.css, but we're using horizon.less\nfor ages now. The docs should reflect that.\n\nChange-Id: Ib4fc0624cc71e226895c7cef1567948d7f82d277\n""}, {'number': 3, 'created': '2014-04-20 18:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e8134bce58a6198e769f2042ba554c35a4925243', 'message': ""Update customizing docs\n\nDocs still refer to style.css, but we're using horizon.less\nfor ages now. The docs should reflect that. The size of the logo\nchanged as well.\n\nChange-Id: Ib4fc0624cc71e226895c7cef1567948d7f82d277\n""}, {'number': 4, 'created': '2014-04-22 10:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ed89bd7b1ea3791d33bfd971e503e024f44a2402', 'message': ""Update customizing docs, css was replaced by .less\n\nDocs still refer to style.css, but we're using horizon.less\nfor ages now. The docs should reflect that. The size of the logo\nchanged as well.\n\nChange-Id: Ib4fc0624cc71e226895c7cef1567948d7f82d277\n""}, {'number': 5, 'created': '2014-06-02 09:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/978b4f02d8633a50a2cb280ef54b43d398704dda', 'message': ""Update customizing docs, css was replaced by .less\n\nDocs still refer to style.css, but we're using horizon.less\nfor ages now. The docs should reflect that. The size of the logo\nchanged as well.\n\nChange-Id: Ib4fc0624cc71e226895c7cef1567948d7f82d277\n""}, {'number': 6, 'created': '2014-06-16 06:23:34.000000000', 'files': ['doc/source/topics/customizing.rst'], 'web_link': 'https://opendev.org/openstack/horizon/commit/74df193de34866fe72243fbf2a6596bda1eed791', 'message': ""Update customizing docs, css was replaced by .less\n\nDocs still refer to style.css, but we're using horizon.less\nfor ages now. The docs should reflect that. The size of the logo\nchanged as well.\n\nChange-Id: Ib4fc0624cc71e226895c7cef1567948d7f82d277\n""}]",8,88559,74df193de34866fe72243fbf2a6596bda1eed791,80,16,6,4264,,,0,"Update customizing docs, css was replaced by .less

Docs still refer to style.css, but we're using horizon.less
for ages now. The docs should reflect that. The size of the logo
changed as well.

Change-Id: Ib4fc0624cc71e226895c7cef1567948d7f82d277
",git fetch https://review.opendev.org/openstack/horizon refs/changes/59/88559/6 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/topics/customizing.rst'],1,22c105aa6a7719d4990aaff8369cb35dcb98aa35,customization_docs,The OpenStack Logo is pulled in through ``horizon.less``:: #splash .login { background: #fff url(/static/dashboard/img/logo-splash.png) no-repeat center 35px; background: url(/static/dashboard/img/logo.png) top left no-repeat;,The OpenStack Logo is pulled in through ``style.css``:: #splash .modal { background: #fff url(../images/logo.png) no-repeat center 35px; background: url(../images/logo.png) top left no-repeat;,4,4
openstack%2Fpython-novaclient~master~I80a456c765026ac6179fd424ead01715798c1dac,openstack/python-novaclient,master,I80a456c765026ac6179fd424ead01715798c1dac,adjust to {SHA1} convention for token,MERGED,2014-06-11 23:42:02.000000000,2014-06-17 07:10:46.000000000,2014-06-17 07:10:45.000000000,"[{'_account_id': 3}, {'_account_id': 100}, {'_account_id': 679}, {'_account_id': 1849}, {'_account_id': 2903}]","[{'number': 1, 'created': '2014-06-11 23:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/4eb67bb260597e987fc98c5cb71ab30fbecea872', 'message': 'adjust to {SHA1} convention for token\n\nbased on openstack-dev mailing list thread, support the {SHA1}\nconvention for headers that is generally agreed on.\n\nAlso fix a minor issue that Johannes found after the review landed,\nwhich was doing substring matching instead of tuple matching.\n\nChange-Id: I80a456c765026ac6179fd424ead01715798c1dac\n'}, {'number': 2, 'created': '2014-06-12 10:51:24.000000000', 'files': ['novaclient/tests/test_client.py', 'novaclient/client.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/ef91a5732abb6c1516135048afe7aa9647fb466f', 'message': 'adjust to {SHA1} convention for token\n\nbased on openstack-dev mailing list thread, support the {SHA1}\nconvention for headers that is generally agreed on.\n\nAlso fix a minor issue that Johannes found after the review landed,\nwhich was doing substring matching instead of tuple matching.\n\nChange-Id: I80a456c765026ac6179fd424ead01715798c1dac\n'}]",0,99511,ef91a5732abb6c1516135048afe7aa9647fb466f,15,5,2,2750,,,0,"adjust to {SHA1} convention for token

based on openstack-dev mailing list thread, support the {SHA1}
convention for headers that is generally agreed on.

Also fix a minor issue that Johannes found after the review landed,
which was doing substring matching instead of tuple matching.

Change-Id: I80a456c765026ac6179fd424ead01715798c1dac
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/11/99511/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/tests/test_client.py', 'novaclient/client.py']",2,4eb67bb260597e987fc98c5cb71ab30fbecea872,mask_keystone_token,"SENSITIVE_HEADERS = ('X-Auth-Token',) return name, ""{SHA1}%s"" % d","SENSITIVE_HEADERS = ('X-Auth-Token') return name, ""SHA1(%s)"" % d",4,4
openstack%2Fheat~master~Ie34a39a9d6d11bdbd2601e2c4be01b5411c2ac5a,openstack/heat,master,Ie34a39a9d6d11bdbd2601e2c4be01b5411c2ac5a,Get the resource type from ResourceDefinition,MERGED,2014-05-28 02:25:07.000000000,2014-06-17 06:52:38.000000000,2014-06-17 06:52:37.000000000,"[{'_account_id': 3}, {'_account_id': 3098}, {'_account_id': 4257}, {'_account_id': 4571}, {'_account_id': 6488}, {'_account_id': 7193}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-05-28 02:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ca442dfd1127a77717463899740997d4f2c73e45', 'message': 'Get the resource type from ResourceDefinition\n\nChange-Id: Ie34a39a9d6d11bdbd2601e2c4be01b5411c2ac5a\n'}, {'number': 2, 'created': '2014-05-28 13:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/dd4791b5061ba5cffc40038207091a72cc982477', 'message': 'Get the resource type from ResourceDefinition\n\nChange-Id: Ie34a39a9d6d11bdbd2601e2c4be01b5411c2ac5a\n'}, {'number': 3, 'created': '2014-05-30 20:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/212d1ba797e09778b3ed12acac626234dc5e78e1', 'message': 'Get the resource type from ResourceDefinition\n\nChange-Id: Ie34a39a9d6d11bdbd2601e2c4be01b5411c2ac5a\n'}, {'number': 4, 'created': '2014-06-05 18:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/dcfe5c983d6071426faa30487dc03f748afde889', 'message': 'Get the resource type from ResourceDefinition\n\nChange-Id: Ie34a39a9d6d11bdbd2601e2c4be01b5411c2ac5a\n'}, {'number': 5, 'created': '2014-06-11 01:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e76c51b271279cc6b842003416471871f8820f9c', 'message': 'Get the resource type from ResourceDefinition\n\nChange-Id: Ie34a39a9d6d11bdbd2601e2c4be01b5411c2ac5a\n'}, {'number': 6, 'created': '2014-06-11 13:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4230fdf05bc8dca8fc7a0e7dd30aee8cf42379af', 'message': 'Get the resource type from ResourceDefinition\n\nChange-Id: Ie34a39a9d6d11bdbd2601e2c4be01b5411c2ac5a\n'}, {'number': 7, 'created': '2014-06-16 15:22:28.000000000', 'files': ['heat/engine/api.py', 'heat/engine/resources/resource_group.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/7fdb2a80eeedb92f67ebae865498edafea58e569', 'message': 'Get the resource type from ResourceDefinition\n\nChange-Id: Ie34a39a9d6d11bdbd2601e2c4be01b5411c2ac5a\n'}]",0,96011,7fdb2a80eeedb92f67ebae865498edafea58e569,53,7,7,4257,,,0,"Get the resource type from ResourceDefinition

Change-Id: Ie34a39a9d6d11bdbd2601e2c4be01b5411c2ac5a
",git fetch https://review.opendev.org/openstack/heat refs/changes/11/96011/6 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/api.py', 'heat/engine/resource.py']",2,ca442dfd1127a77717463899740997d4f2c73e45,bp/update-failure-recovery, return self.t.resource_type, return self.t['Type'],2,2
openstack%2Fcinder~stable%2Fhavana~Idf09c9e9cf015c78c1c5e91c05b897e3e9b7c006,openstack/cinder,stable/havana,Idf09c9e9cf015c78c1c5e91c05b897e3e9b7c006,<WIP: TEST> VMware: Implement vmdk extend_volume,ABANDONED,2014-06-11 22:21:27.000000000,2014-06-17 06:48:43.000000000,,"[{'_account_id': 3}, {'_account_id': 2861}, {'_account_id': 4395}, {'_account_id': 7088}, {'_account_id': 9751}]","[{'number': 1, 'created': '2014-06-11 22:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d205f72d6b03881963467be44772bc8c0728379d', 'message': '<WIP: TEST> VMware: Implement vmdk extend_volume\n\nAdd the API implementation of extend_volume for the VMware\nvmdk driver.\n\nConflicts:\n\tcinder/tests/test_vmware_vmdk.py\n\tcinder/volume/drivers/vmware/vmdk.py\n\nChange-Id: Idf09c9e9cf015c78c1c5e91c05b897e3e9b7c006\nCloses-Bug: #1232172\n'}, {'number': 2, 'created': '2014-06-12 03:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1c8d1720f5c08b8e973170217ea808d9e8d0d1d7', 'message': '<WIP: TEST> VMware: Implement vmdk extend_volume\n\nAdd the API implementation of extend_volume for the VMware\nvmdk driver.\n\nConflicts:\n\tcinder/tests/test_vmware_vmdk.py\n\tcinder/volume/drivers/vmware/vmdk.py\n\nChange-Id: Idf09c9e9cf015c78c1c5e91c05b897e3e9b7c006\nCloses-Bug: #1232172\n'}, {'number': 3, 'created': '2014-06-12 04:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aa74e9155cc177797446d548022ffd28af4874e5', 'message': '<WIP: TEST> VMware: Implement vmdk extend_volume\n\nAdd the API implementation of extend_volume for the VMware\nvmdk driver.\n\nConflicts:\n\tcinder/tests/test_vmware_vmdk.py\n\tcinder/volume/drivers/vmware/vmdk.py\n\nChange-Id: Idf09c9e9cf015c78c1c5e91c05b897e3e9b7c006\nCloses-Bug: #1232172\n'}, {'number': 4, 'created': '2014-06-12 04:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/acd8abfec26335ef3e80e24b00d857e60df06b00', 'message': '<WIP: TEST> VMware: Implement vmdk extend_volume\n\nAdd the API implementation of extend_volume for the VMware\nvmdk driver.\n\nConflicts:\n\tcinder/tests/test_vmware_vmdk.py\n\tcinder/volume/drivers/vmware/vmdk.py\n\nChange-Id: Idf09c9e9cf015c78c1c5e91c05b897e3e9b7c006\nCloses-Bug: #1232172\n'}, {'number': 5, 'created': '2014-06-12 21:54:38.000000000', 'files': ['cinder/volume/drivers/vmware/vmdk.py', 'cinder/volume/drivers/vmware/volumeops.py', 'cinder/tests/test_vmware_vmdk.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6deba112397a04cce789395908e313ce23cd34c0', 'message': '<WIP: TEST> VMware: Implement vmdk extend_volume\n\nAdd the API implementation of extend_volume for the VMware\nvmdk driver.\n\nConflicts:\n\tcinder/tests/test_vmware_vmdk.py\n\tcinder/volume/drivers/vmware/vmdk.py\n\nChange-Id: Idf09c9e9cf015c78c1c5e91c05b897e3e9b7c006\nCloses-Bug: #1232172\n'}]",0,99494,6deba112397a04cce789395908e313ce23cd34c0,21,5,5,4395,,,0,"<WIP: TEST> VMware: Implement vmdk extend_volume

Add the API implementation of extend_volume for the VMware
vmdk driver.

Conflicts:
	cinder/tests/test_vmware_vmdk.py
	cinder/volume/drivers/vmware/vmdk.py

Change-Id: Idf09c9e9cf015c78c1c5e91c05b897e3e9b7c006
Closes-Bug: #1232172
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/99494/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/vmware/vmdk.py', 'cinder/tests/test_vmware_vmdk.py']",2,d205f72d6b03881963467be44772bc8c0728379d,,,"# vim: tabstop=4 shiftwidth=4 softtabstop=4 # Copyright (c) 2013 VMware, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Test suite for VMware VMDK driver. """""" import mox from cinder import exception from cinder.image import glance from cinder import test from cinder import units from cinder.volume import configuration from cinder.volume.drivers.vmware import api from cinder.volume.drivers.vmware import error_util from cinder.volume.drivers.vmware import vim from cinder.volume.drivers.vmware import vim_util from cinder.volume.drivers.vmware import vmdk from cinder.volume.drivers.vmware import vmware_images from cinder.volume.drivers.vmware import volumeops class FakeVim(object): @property def service_content(self): return mox.MockAnything() @property def client(self): return mox.MockAnything() def Login(self, session_manager, userName, password): return mox.MockAnything() class FakeTaskInfo(object): def __init__(self, state, result=None): self.state = state self.result = result class FakeError(object): def __init__(self): self.localizedMessage = None self.error = FakeError() class FakeMor(object): def __init__(self, type, val): self._type = type self.value = val class FakeObject(object): def __init__(self): self._fields = {} def __setitem__(self, key, value): self._fields[key] = value def __getitem__(self, item): return self._fields[item] class FakeManagedObjectReference(object): def __init__(self, lis=[]): self.ManagedObjectReference = lis class FakeDatastoreSummary(object): def __init__(self, freeSpace, capacity, datastore=None, name=None): self.freeSpace = freeSpace self.capacity = capacity self.datastore = datastore self.name = name class FakeSnapshotTree(object): def __init__(self, tree=None, name=None, snapshot=None, childSnapshotList=None): self.rootSnapshotList = tree self.name = name self.snapshot = snapshot self.childSnapshotList = childSnapshotList class FakeElem(object): def __init__(self, prop_set=None): self.propSet = prop_set class FakeProp(object): def __init__(self, name=None, val=None): self.name = name self.val = val class FakeRetrieveResult(object): def __init__(self, objects, token): self.objects = objects self.token = token class FakeObj(object): def __init__(self, obj=None): self.obj = obj class VMwareEsxVmdkDriverTestCase(test.TestCase): """"""Test class for VMwareEsxVmdkDriver."""""" IP = 'localhost' USERNAME = 'username' PASSWORD = 'password' VOLUME_FOLDER = 'cinder-volumes' API_RETRY_COUNT = 3 TASK_POLL_INTERVAL = 5.0 IMG_TX_TIMEOUT = 10 MAX_OBJECTS = 100 def setUp(self): super(VMwareEsxVmdkDriverTestCase, self).setUp() self._config = mox.MockObject(configuration.Configuration) self._config.append_config_values(mox.IgnoreArg()) self._config.vmware_host_ip = self.IP self._config.vmware_host_username = self.USERNAME self._config.vmware_host_password = self.PASSWORD self._config.vmware_wsdl_location = None self._config.vmware_volume_folder = self.VOLUME_FOLDER self._config.vmware_api_retry_count = self.API_RETRY_COUNT self._config.vmware_task_poll_interval = self.TASK_POLL_INTERVAL self._config.vmware_image_transfer_timeout_secs = self.IMG_TX_TIMEOUT self._config.vmware_max_objects_retrieval = self.MAX_OBJECTS self._driver = vmdk.VMwareEsxVmdkDriver(configuration=self._config) api_retry_count = self._config.vmware_api_retry_count, task_poll_interval = self._config.vmware_task_poll_interval, self._session = api.VMwareAPISession(self.IP, self.USERNAME, self.PASSWORD, api_retry_count, task_poll_interval, create_session=False) self._volumeops = volumeops.VMwareVolumeOps(self._session, self.MAX_OBJECTS) self._vim = FakeVim() def test_retry(self): """"""Test Retry."""""" class TestClass(object): def __init__(self): self.counter1 = 0 @api.Retry(max_retry_count=2, inc_sleep_time=0.001, exceptions=(Exception)) def fail(self): self.counter1 += 1 raise exception.CinderException('Fail') test_obj = TestClass() self.assertRaises(exception.CinderException, test_obj.fail) self.assertEqual(test_obj.counter1, 3) def test_create_session(self): """"""Test create_session."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.ReplayAll() self._session.create_session() m.UnsetStubs() m.VerifyAll() def test_do_setup(self): """"""Test do_setup."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'session') self._driver.session = self._session m.ReplayAll() self._driver.do_setup(mox.IgnoreArg()) m.UnsetStubs() m.VerifyAll() def test_check_for_setup_error(self): """"""Test check_for_setup_error."""""" self._driver.check_for_setup_error() def test_get_volume_stats(self): """"""Test get_volume_stats."""""" stats = self._driver.get_volume_stats() self.assertEqual(stats['vendor_name'], 'VMware') self.assertEqual(stats['driver_version'], '1.0') self.assertEqual(stats['storage_protocol'], 'LSI Logic SCSI') self.assertEqual(stats['reserved_percentage'], 0) self.assertEqual(stats['total_capacity_gb'], 'unknown') self.assertEqual(stats['free_capacity_gb'], 'unknown') def test_create_volume(self): """"""Test create_volume."""""" self._driver.create_volume(mox.IgnoreArg()) def test_success_wait_for_task(self): """"""Test successful wait_for_task."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim result = FakeMor('VirtualMachine', 'my_vm') success_task_info = FakeTaskInfo('success', result=result) m.StubOutWithMock(vim_util, 'get_object_property') vim_util.get_object_property(self._session.vim, mox.IgnoreArg(), 'info').AndReturn(success_task_info) m.ReplayAll() ret = self._session.wait_for_task(mox.IgnoreArg()) self.assertEqual(ret.result, result) m.UnsetStubs() m.VerifyAll() def test_failed_wait_for_task(self): """"""Test failed wait_for_task."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim failed_task_info = FakeTaskInfo('failed') m.StubOutWithMock(vim_util, 'get_object_property') vim_util.get_object_property(self._session.vim, mox.IgnoreArg(), 'info').AndReturn(failed_task_info) m.ReplayAll() self.assertRaises(error_util.VimFaultException, self._session.wait_for_task, mox.IgnoreArg()) m.UnsetStubs() m.VerifyAll() def test_continue_retrieval(self): """"""Test continue_retrieval."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') self._session.invoke_api(vim_util, 'continue_retrieval', self._vim, mox.IgnoreArg()) m.ReplayAll() self._volumeops.continue_retrieval(mox.IgnoreArg()) m.UnsetStubs() m.VerifyAll() def test_cancel_retrieval(self): """"""Test cancel_retrieval."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') self._session.invoke_api(vim_util, 'cancel_retrieval', self._vim, mox.IgnoreArg()) m.ReplayAll() self._volumeops.cancel_retrieval(mox.IgnoreArg()) m.UnsetStubs() m.VerifyAll() def test_get_backing(self): """"""Test get_backing."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') self._session.invoke_api(vim_util, 'get_objects', self._vim, 'VirtualMachine', self.MAX_OBJECTS) m.ReplayAll() self._volumeops.get_backing(mox.IgnoreArg()) m.UnsetStubs() m.VerifyAll() def test_get_backing_multiple_retrieval(self): """"""Test get_backing with multiple retrieval."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') retrieve_result = FakeRetrieveResult([], 'my_token') self._session.invoke_api(vim_util, 'get_objects', self._vim, 'VirtualMachine', self.MAX_OBJECTS).AndReturn(retrieve_result) m.StubOutWithMock(self._volumeops, 'cancel_retrieval') self._volumeops.continue_retrieval(retrieve_result) m.ReplayAll() self._volumeops.get_backing(mox.IgnoreArg()) m.UnsetStubs() m.VerifyAll() def test_delete_backing(self): """"""Test delete_backing."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') backing = FakeMor('VirtualMachine', 'my_vm') self._session.invoke_api(self._vim, 'Destroy_Task', backing) m.StubOutWithMock(self._session, 'wait_for_task') self._session.wait_for_task(mox.IgnoreArg()) m.ReplayAll() self._volumeops.delete_backing(backing) m.UnsetStubs() m.VerifyAll() def test_delete_volume_without_backing(self): """"""Test delete_volume without backing."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops m.StubOutWithMock(self._volumeops, 'get_backing') self._volumeops.get_backing('hello_world').AndReturn(None) m.ReplayAll() volume = FakeObject() volume['name'] = 'hello_world' self._driver.delete_volume(volume) m.UnsetStubs() m.VerifyAll() def test_delete_volume_with_backing(self): """"""Test delete_volume with backing."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops backing = FakeMor('VirtualMachine', 'my_vm') task = FakeMor('Task', 'my_task') m.StubOutWithMock(self._volumeops, 'get_backing') m.StubOutWithMock(self._volumeops, 'delete_backing') self._volumeops.get_backing('hello_world').AndReturn(backing) self._volumeops.delete_backing(backing) m.ReplayAll() volume = FakeObject() volume['name'] = 'hello_world' self._driver.delete_volume(volume) m.UnsetStubs() m.VerifyAll() def test_create_export(self): """"""Test create_export."""""" self._driver.create_export(mox.IgnoreArg(), mox.IgnoreArg()) def test_ensure_export(self): """"""Test ensure_export."""""" self._driver.ensure_export(mox.IgnoreArg(), mox.IgnoreArg()) def test_remove_export(self): """"""Test remove_export."""""" self._driver.remove_export(mox.IgnoreArg(), mox.IgnoreArg()) def test_terminate_connection(self): """"""Test terminate_connection."""""" self._driver.terminate_connection(mox.IgnoreArg(), mox.IgnoreArg(), force=mox.IgnoreArg()) def test_get_host(self): """"""Test get_host."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') instance = FakeObject() self._session.invoke_api(vim_util, 'get_object_property', self._vim, instance, 'runtime.host') m.ReplayAll() self._volumeops.get_host(instance) m.UnsetStubs() m.VerifyAll() def test_get_hosts(self): """"""Test get_hosts."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') self._session.invoke_api(vim_util, 'get_objects', self._vim, 'HostSystem', self.MAX_OBJECTS) m.ReplayAll() self._volumeops.get_hosts() m.UnsetStubs() m.VerifyAll() def test_is_valid_with_accessible_attr(self): """"""Test _is_valid with accessible attribute."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') datastore = FakeMor('Datastore', 'my_ds') mntInfo = FakeObject() mntInfo.accessMode = ""readWrite"" mntInfo.accessible = True host = FakeMor('HostSystem', 'my_host') host_mount = FakeObject() host_mount.key = host host_mount.mountInfo = mntInfo host_mounts = FakeObject() host_mounts.DatastoreHostMount = [host_mount] self._session.invoke_api(vim_util, 'get_object_property', self._vim, datastore, 'host').AndReturn(host_mounts) m.ReplayAll() self.assertTrue(self._volumeops._is_valid(datastore, host)) m.UnsetStubs() m.VerifyAll() def test_is_valid_without_accessible_attr(self): """"""Test _is_valid without accessible attribute."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') datastore = FakeMor('Datastore', 'my_ds') mntInfo = FakeObject() mntInfo.accessMode = ""readWrite"" host = FakeMor('HostSystem', 'my_host') host_mount = FakeObject() host_mount.key = host host_mount.mountInfo = mntInfo host_mounts = FakeObject() host_mounts.DatastoreHostMount = [host_mount] self._session.invoke_api(vim_util, 'get_object_property', self._vim, datastore, 'host').AndReturn(host_mounts) m.StubOutWithMock(self._volumeops, 'get_summary') summary = FakeObject() summary.accessible = True self._volumeops.get_summary(datastore).AndReturn(summary) m.ReplayAll() self.assertTrue(self._volumeops._is_valid(datastore, host)) m.UnsetStubs() m.VerifyAll() def test_get_dss_rp(self): """"""Test get_dss_rp."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') host = FakeObject() self._session.invoke_api(vim_util, 'get_object_properties', self._vim, host, ['datastore', 'parent']).AndReturn([]) self._session.invoke_api(vim_util, 'get_object_property', self._vim, mox.IgnoreArg(), 'resourcePool') m.ReplayAll() self.assertRaises(error_util.VimException, self._volumeops.get_dss_rp, host) m.UnsetStubs() m.VerifyAll() def test_get_dss_rp_without_datastores(self): """"""Test get_dss_rp without datastores."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') host = FakeObject() props = [FakeElem(prop_set=[FakeProp(name='datastore')])] self._session.invoke_api(vim_util, 'get_object_properties', self._vim, host, ['datastore', 'parent']).AndReturn(props) self._session.invoke_api(vim_util, 'get_object_property', self._vim, mox.IgnoreArg(), 'resourcePool') m.ReplayAll() self.assertRaises(error_util.VimException, self._volumeops.get_dss_rp, host) m.UnsetStubs() m.VerifyAll() def test_get_parent(self): """"""Test get_parent."""""" # Not recursive child = FakeMor('Parent', 'my_parent') parent = self._volumeops._get_parent(child, 'Parent') self.assertEqual(parent, child) # Recursive m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') parent = FakeMor('Parent', 'my_parent1') child = FakeMor('Child', 'my_child') self._session.invoke_api(vim_util, 'get_object_property', self._vim, child, 'parent').AndReturn(parent) m.ReplayAll() ret = self._volumeops._get_parent(child, 'Parent') self.assertEqual(ret, parent) m.UnsetStubs() m.VerifyAll() def test_get_dc(self): """"""Test get_dc."""""" m = self.mox m.StubOutWithMock(self._volumeops, '_get_parent') self._volumeops._get_parent(mox.IgnoreArg(), 'Datacenter') m.ReplayAll() self._volumeops.get_dc(mox.IgnoreArg()) m.UnsetStubs() m.VerifyAll() def test_get_vmfolder(self): """"""Test get_vmfolder."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') datacenter = FakeMor('Datacenter', 'my_dc') self._session.invoke_api(vim_util, 'get_object_property', self._vim, datacenter, 'vmFolder') m.ReplayAll() dc = self._volumeops.get_vmfolder(datacenter) m.UnsetStubs() m.VerifyAll() def test_create_backing(self): """"""Test create_backing."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') folder = FakeMor('Folder', 'my_fol') resource_pool = FakeMor('ResourcePool', 'my_rs') host = FakeMor('HostSystem', 'my_host') task = FakeMor('Task', 'my_task') self._session.invoke_api(self._vim, 'CreateVM_Task', folder, config=mox.IgnoreArg(), pool=resource_pool, host=host).AndReturn(task) m.StubOutWithMock(self._session, 'wait_for_task') task_info = FakeTaskInfo('success', mox.IgnoreArg()) self._session.wait_for_task(task).AndReturn(task_info) name = 'my_vm' size_kb = 1 * units.MiB disk_type = 'thick' ds_name = 'my_ds' m.StubOutWithMock(self._volumeops, '_get_create_spec') self._volumeops._get_create_spec(name, size_kb, disk_type, ds_name) m.ReplayAll() self._volumeops.create_backing(name, size_kb, disk_type, folder, resource_pool, host, ds_name) m.UnsetStubs() m.VerifyAll() def test_create_backing_in_inventory_multi_hosts(self): """"""Test _create_backing_in_inventory scanning multiple hosts."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops host1 = FakeObj(obj=FakeMor('HostSystem', 'my_host1')) host2 = FakeObj(obj=FakeMor('HostSystem', 'my_host2')) retrieve_result = FakeRetrieveResult([host1, host2], None) m.StubOutWithMock(self._volumeops, 'get_hosts') self._volumeops.get_hosts().AndReturn(retrieve_result) m.StubOutWithMock(self._driver, '_create_backing') volume = FakeObject() volume['name'] = 'vol_name' backing = FakeMor('VirtualMachine', 'my_back') mux = self._driver._create_backing(volume, host1.obj) mux.AndRaise(error_util.VimException('Maintenance mode')) mux = self._driver._create_backing(volume, host2.obj) mux.AndReturn(backing) m.StubOutWithMock(self._volumeops, 'cancel_retrieval') self._volumeops.cancel_retrieval(retrieve_result) m.StubOutWithMock(self._volumeops, 'continue_retrieval') m.ReplayAll() result = self._driver._create_backing_in_inventory(volume) self.assertEqual(result, backing) m.UnsetStubs() m.VerifyAll() def test_get_datastore(self): """"""Test get_datastore."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') backing = FakeMor('VirtualMachine', 'my_back') datastore = FakeMor('Datastore', 'my_ds') datastores = FakeManagedObjectReference([datastore]) self._session.invoke_api(vim_util, 'get_object_property', self._vim, backing, 'datastore').AndReturn(datastores) m.ReplayAll() result = self._volumeops.get_datastore(backing) self.assertEqual(result, datastore) m.UnsetStubs() m.VerifyAll() def test_get_summary(self): """"""Test get_summary."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') datastore = FakeMor('Datastore', 'my_ds') self._session.invoke_api(vim_util, 'get_object_property', self._vim, datastore, 'summary') m.ReplayAll() self._volumeops.get_summary(datastore) m.UnsetStubs() m.VerifyAll() def test_init_conn_with_instance_and_backing(self): """"""Test initialize_connection with instance and backing."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops m.StubOutWithMock(self._volumeops, 'get_backing') volume = FakeObject() volume['name'] = 'volume_name' volume['id'] = 'volume_id' volume['size'] = 1 connector = {'instance': 'my_instance'} backing = FakeMor('VirtualMachine', 'my_back') self._volumeops.get_backing(volume['name']).AndReturn(backing) m.StubOutWithMock(self._volumeops, 'get_host') host = FakeMor('HostSystem', 'my_host') self._volumeops.get_host(mox.IgnoreArg()).AndReturn(host) m.ReplayAll() conn_info = self._driver.initialize_connection(volume, connector) self.assertEqual(conn_info['driver_volume_type'], 'vmdk') self.assertEqual(conn_info['data']['volume'], 'my_back') self.assertEqual(conn_info['data']['volume_id'], 'volume_id') m.UnsetStubs() m.VerifyAll() def test_get_volume_group_folder(self): """"""Test _get_volume_group_folder."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops datacenter = FakeMor('Datacenter', 'my_dc') m.StubOutWithMock(self._volumeops, 'get_vmfolder') self._volumeops.get_vmfolder(datacenter) m.ReplayAll() self._driver._get_volume_group_folder(datacenter) m.UnsetStubs() m.VerifyAll() def test_select_datastore_summary(self): """"""Test _select_datastore_summary."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops datastore1 = FakeMor('Datastore', 'my_ds_1') datastore2 = FakeMor('Datastore', 'my_ds_2') datastore3 = FakeMor('Datastore', 'my_ds_3') datastore4 = FakeMor('Datastore', 'my_ds_4') datastores = [datastore1, datastore2, datastore3, datastore4] m.StubOutWithMock(self._volumeops, 'get_summary') summary1 = FakeDatastoreSummary(10, 10) summary2 = FakeDatastoreSummary(25, 50) summary3 = FakeDatastoreSummary(50, 50) summary4 = FakeDatastoreSummary(100, 100) moxd = self._volumeops.get_summary(datastore1) moxd.MultipleTimes().AndReturn(summary1) moxd = self._volumeops.get_summary(datastore2) moxd.MultipleTimes().AndReturn(summary2) moxd = self._volumeops.get_summary(datastore3) moxd.MultipleTimes().AndReturn(summary3) moxd = self._volumeops.get_summary(datastore4) moxd.MultipleTimes().AndReturn(summary4) m.ReplayAll() summary = self._driver._select_datastore_summary(1, datastores) self.assertEqual(summary, summary1) summary = self._driver._select_datastore_summary(10, datastores) self.assertEqual(summary, summary3) summary = self._driver._select_datastore_summary(50, datastores) self.assertEqual(summary, summary4) self.assertRaises(error_util.VimException, self._driver._select_datastore_summary, 100, datastores) m.UnsetStubs() m.VerifyAll() def test_get_folder_ds_summary(self): """"""Test _get_folder_ds_summary."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops size = 1 resource_pool = FakeMor('ResourcePool', 'my_rp') datacenter = FakeMor('Datacenter', 'my_dc') m.StubOutWithMock(self._volumeops, 'get_dc') self._volumeops.get_dc(resource_pool).AndReturn(datacenter) m.StubOutWithMock(self._driver, '_get_volume_group_folder') folder = FakeMor('Folder', 'my_fol') self._driver._get_volume_group_folder(datacenter).AndReturn(folder) m.StubOutWithMock(self._driver, '_select_datastore_summary') size = 1 datastores = [FakeMor('Datastore', 'my_ds')] self._driver._select_datastore_summary(size * units.GiB, datastores) m.ReplayAll() self._driver._get_folder_ds_summary(size, resource_pool, datastores) m.UnsetStubs() m.VerifyAll() def test_get_disk_type(self): """"""Test _get_disk_type."""""" volume = FakeObject() volume['volume_type_id'] = None self.assertEqual(vmdk.VMwareEsxVmdkDriver._get_disk_type(volume), 'thin') def test_init_conn_with_instance_no_backing(self): """"""Test initialize_connection with instance and without backing."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops m.StubOutWithMock(self._volumeops, 'get_backing') volume = FakeObject() volume['name'] = 'volume_name' volume['id'] = 'volume_id' volume['size'] = 1 volume['volume_type_id'] = None connector = {'instance': 'my_instance'} self._volumeops.get_backing(volume['name']) m.StubOutWithMock(self._volumeops, 'get_host') host = FakeMor('HostSystem', 'my_host') self._volumeops.get_host(mox.IgnoreArg()).AndReturn(host) m.StubOutWithMock(self._volumeops, 'get_dss_rp') resource_pool = FakeMor('ResourcePool', 'my_rp') datastores = [FakeMor('Datastore', 'my_ds')] self._volumeops.get_dss_rp(host).AndReturn((datastores, resource_pool)) m.StubOutWithMock(self._driver, '_get_folder_ds_summary') folder = FakeMor('Folder', 'my_fol') summary = FakeDatastoreSummary(1, 1) self._driver._get_folder_ds_summary(volume['size'], resource_pool, datastores).AndReturn((folder, summary)) backing = FakeMor('VirtualMachine', 'my_back') m.StubOutWithMock(self._volumeops, 'create_backing') self._volumeops.create_backing(volume['name'], volume['size'] * units.MiB, mox.IgnoreArg(), folder, resource_pool, host, mox.IgnoreArg()).AndReturn(backing) m.ReplayAll() conn_info = self._driver.initialize_connection(volume, connector) self.assertEqual(conn_info['driver_volume_type'], 'vmdk') self.assertEqual(conn_info['data']['volume'], 'my_back') self.assertEqual(conn_info['data']['volume_id'], 'volume_id') m.UnsetStubs() m.VerifyAll() def test_init_conn_without_instance(self): """"""Test initialize_connection without instance and a backing."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops m.StubOutWithMock(self._volumeops, 'get_backing') backing = FakeMor('VirtualMachine', 'my_back') volume = FakeObject() volume['name'] = 'volume_name' volume['id'] = 'volume_id' connector = {} self._volumeops.get_backing(volume['name']).AndReturn(backing) m.ReplayAll() conn_info = self._driver.initialize_connection(volume, connector) self.assertEqual(conn_info['driver_volume_type'], 'vmdk') self.assertEqual(conn_info['data']['volume'], 'my_back') self.assertEqual(conn_info['data']['volume_id'], 'volume_id') m.UnsetStubs() m.VerifyAll() def test_create_snapshot_operation(self): """"""Test volumeops.create_snapshot."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') name = 'snapshot_name' description = 'snapshot_desc' backing = FakeMor('VirtualMachine', 'my_back') task = FakeMor('Task', 'my_task') self._session.invoke_api(self._vim, 'CreateSnapshot_Task', backing, name=name, description=description, memory=False, quiesce=False).AndReturn(task) result = FakeMor('VirtualMachineSnapshot', 'my_snap') success_task_info = FakeTaskInfo('success', result=result) m.StubOutWithMock(self._session, 'wait_for_task') self._session.wait_for_task(task).AndReturn(success_task_info) m.ReplayAll() self._volumeops.create_snapshot(backing, name, description) m.UnsetStubs() m.VerifyAll() def test_create_snapshot_without_backing(self): """"""Test vmdk.create_snapshot without backing."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops m.StubOutWithMock(self._volumeops, 'get_backing') snapshot = FakeObject() snapshot['volume_name'] = 'volume_name' snapshot['name'] = 'snap_name' snapshot['volume'] = FakeObject() snapshot['volume']['status'] = 'available' self._volumeops.get_backing(snapshot['volume_name']) m.ReplayAll() self._driver.create_snapshot(snapshot) m.UnsetStubs() m.VerifyAll() def test_create_snapshot_with_backing(self): """"""Test vmdk.create_snapshot with backing."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops m.StubOutWithMock(self._volumeops, 'get_backing') snapshot = FakeObject() snapshot['volume_name'] = 'volume_name' snapshot['name'] = 'snapshot_name' snapshot['display_description'] = 'snapshot_desc' snapshot['volume'] = FakeObject() snapshot['volume']['status'] = 'available' backing = FakeMor('VirtualMachine', 'my_back') self._volumeops.get_backing(snapshot['volume_name']).AndReturn(backing) m.StubOutWithMock(self._volumeops, 'create_snapshot') self._volumeops.create_snapshot(backing, snapshot['name'], snapshot['display_description']) m.ReplayAll() self._driver.create_snapshot(snapshot) m.UnsetStubs() m.VerifyAll() def test_create_snapshot_when_attached(self): """"""Test vmdk.create_snapshot when volume is attached."""""" snapshot = FakeObject() snapshot['volume'] = FakeObject() snapshot['volume']['status'] = 'in-use' self.assertRaises(exception.InvalidVolume, self._driver.create_snapshot, snapshot) def test_get_snapshot_from_tree(self): """"""Test _get_snapshot_from_tree."""""" volops = volumeops.VMwareVolumeOps ret = volops._get_snapshot_from_tree(mox.IgnoreArg(), None) self.assertEqual(ret, None) name = 'snapshot_name' snapshot = FakeMor('VirtualMachineSnapshot', 'my_snap') root = FakeSnapshotTree(name='snapshot_name', snapshot=snapshot) ret = volops._get_snapshot_from_tree(name, root) self.assertEqual(ret, snapshot) snapshot1 = FakeMor('VirtualMachineSnapshot', 'my_snap_1') root = FakeSnapshotTree(name='snapshot_name_1', snapshot=snapshot1, childSnapshotList=[root]) ret = volops._get_snapshot_from_tree(name, root) self.assertEqual(ret, snapshot) def test_get_snapshot(self): """"""Test get_snapshot."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') name = 'snapshot_name' backing = FakeMor('VirtualMachine', 'my_back') root = FakeSnapshotTree() tree = FakeSnapshotTree(tree=[root]) self._session.invoke_api(vim_util, 'get_object_property', self._session.vim, backing, 'snapshot').AndReturn(tree) volops = volumeops.VMwareVolumeOps m.StubOutWithMock(volops, '_get_snapshot_from_tree') volops._get_snapshot_from_tree(name, root) m.ReplayAll() self._volumeops.get_snapshot(backing, name) m.UnsetStubs() m.VerifyAll() def test_delete_snapshot_not_present(self): """"""Test volumeops.delete_snapshot, when not present."""""" m = self.mox m.StubOutWithMock(self._volumeops, 'get_snapshot') name = 'snapshot_name' backing = FakeMor('VirtualMachine', 'my_back') self._volumeops.get_snapshot(backing, name) m.ReplayAll() self._volumeops.delete_snapshot(backing, name) m.UnsetStubs() m.VerifyAll() def test_delete_snapshot_when_present(self): """"""Test volumeops.delete_snapshot, when it is present."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') m.StubOutWithMock(self._volumeops, 'get_snapshot') name = 'snapshot_name' backing = FakeMor('VirtualMachine', 'my_back') snapshot = FakeMor('VirtualMachineSnapshot', 'my_snap') self._volumeops.get_snapshot(backing, name).AndReturn(snapshot) task = FakeMor('Task', 'my_task') self._session.invoke_api(self._session.vim, 'RemoveSnapshot_Task', snapshot, removeChildren=False).AndReturn(task) m.StubOutWithMock(self._session, 'wait_for_task') self._session.wait_for_task(task) m.ReplayAll() self._volumeops.delete_snapshot(backing, name) m.UnsetStubs() m.VerifyAll() def test_delete_snapshot_without_backing(self): """"""Test delete_snapshot without backing."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops m.StubOutWithMock(self._volumeops, 'get_backing') snapshot = FakeObject() snapshot['volume_name'] = 'volume_name' snapshot['name'] = 'snap_name' snapshot['volume'] = FakeObject() snapshot['volume']['status'] = 'available' self._volumeops.get_backing(snapshot['volume_name']) m.ReplayAll() self._driver.delete_snapshot(snapshot) m.UnsetStubs() m.VerifyAll() def test_delete_snapshot_with_backing(self): """"""Test delete_snapshot with backing."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops m.StubOutWithMock(self._volumeops, 'get_backing') snapshot = FakeObject() snapshot['name'] = 'snapshot_name' snapshot['volume_name'] = 'volume_name' snapshot['name'] = 'snap_name' snapshot['volume'] = FakeObject() snapshot['volume']['status'] = 'available' backing = FakeMor('VirtualMachine', 'my_back') self._volumeops.get_backing(snapshot['volume_name']).AndReturn(backing) m.StubOutWithMock(self._volumeops, 'delete_snapshot') self._volumeops.delete_snapshot(backing, snapshot['name']) m.ReplayAll() self._driver.delete_snapshot(snapshot) m.UnsetStubs() m.VerifyAll() def test_delete_snapshot_when_attached(self): """"""Test delete_snapshot when volume is attached."""""" snapshot = FakeObject() snapshot['volume'] = FakeObject() snapshot['volume']['status'] = 'in-use' self.assertRaises(exception.InvalidVolume, self._driver.delete_snapshot, snapshot) def test_create_cloned_volume_without_backing(self): """"""Test create_cloned_volume without a backing."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops m.StubOutWithMock(self._volumeops, 'get_backing') volume = FakeObject() volume['name'] = 'volume_name' volume['status'] = 'available' src_vref = FakeObject() src_vref['name'] = 'src_volume_name' self._volumeops.get_backing(src_vref['name']) m.ReplayAll() self._driver.create_cloned_volume(volume, src_vref) m.UnsetStubs() m.VerifyAll() def test_get_path_name(self): """"""Test get_path_name."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') backing = FakeMor('VirtualMachine', 'my_back') class FakePath(object): def __init__(self, path=None): self.vmPathName = path path = FakePath() self._session.invoke_api(vim_util, 'get_object_property', self._vim, backing, 'config.files').AndReturn(path) m.ReplayAll() self._volumeops.get_path_name(backing) m.UnsetStubs() m.VerifyAll() def test_delete_file(self): """"""Test _delete_file."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') src_path = 'src_path' task = FakeMor('Task', 'my_task') self._session.invoke_api(self._vim, 'DeleteDatastoreFile_Task', mox.IgnoreArg(), name=src_path, datacenter=mox.IgnoreArg()).AndReturn(task) m.StubOutWithMock(self._session, 'wait_for_task') self._session.wait_for_task(task) m.ReplayAll() self._volumeops.delete_file(src_path) m.UnsetStubs() m.VerifyAll() def test_clone_backing_by_copying(self): """"""Test _clone_backing_by_copying."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops volume = FakeObject() src_vmdk_path = ""[datastore] src_vm/src_vm.vmdk"" new_vmdk_path = ""[datastore] dest_vm/dest_vm.vmdk"" backing = FakeMor('VirtualMachine', 'my_back') m.StubOutWithMock(self._driver, '_create_backing_in_inventory') mux = self._driver._create_backing_in_inventory(volume) mux.AndReturn(backing) m.StubOutWithMock(self._volumeops, 'get_vmdk_path') self._volumeops.get_vmdk_path(backing).AndReturn(new_vmdk_path) m.StubOutWithMock(self._volumeops, 'get_dc') datacenter = FakeMor('Datacenter', 'my_dc') self._volumeops.get_dc(backing).AndReturn(datacenter) m.StubOutWithMock(self._volumeops, 'delete_vmdk_file') self._volumeops.delete_vmdk_file(new_vmdk_path, datacenter) m.StubOutWithMock(self._volumeops, 'copy_vmdk_file') self._volumeops.copy_vmdk_file(datacenter, src_vmdk_path, new_vmdk_path) m.ReplayAll() self._driver._clone_backing_by_copying(volume, src_vmdk_path) m.UnsetStubs() m.VerifyAll() def test_create_cloned_volume_with_backing(self): """"""Test create_cloned_volume with a backing."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops m.StubOutWithMock(self._volumeops, 'get_backing') volume = FakeObject() src_vref = FakeObject() src_vref['name'] = 'src_snapshot_name' backing = FakeMor('VirtualMachine', 'my_vm') self._volumeops.get_backing(src_vref['name']).AndReturn(backing) m.StubOutWithMock(self._volumeops, 'get_vmdk_path') src_vmdk_path = ""[datastore] src_vm/src_vm.vmdk"" self._volumeops.get_vmdk_path(backing).AndReturn(src_vmdk_path) m.StubOutWithMock(self._driver, '_clone_backing_by_copying') self._driver._clone_backing_by_copying(volume, src_vmdk_path) m.ReplayAll() self._driver.create_cloned_volume(volume, src_vref) m.UnsetStubs() m.VerifyAll() def test_create_volume_from_snapshot_without_backing(self): """"""Test create_volume_from_snapshot without a backing."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops m.StubOutWithMock(self._volumeops, 'get_backing') volume = FakeObject() volume['name'] = 'volume_name' snapshot = FakeObject() snapshot['volume_name'] = 'volume_name' snapshot['name'] = 'snap_name' self._volumeops.get_backing(snapshot['volume_name']) m.ReplayAll() self._driver.create_volume_from_snapshot(volume, snapshot) m.UnsetStubs() m.VerifyAll() def test_create_volume_from_snap_without_backing_snap(self): """"""Test create_volume_from_snapshot without a backing snapshot."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops backing = FakeMor('VirtualMachine', 'my_vm') m.StubOutWithMock(self._volumeops, 'get_backing') volume = FakeObject() volume['name'] = 'volume_name' snapshot = FakeObject() snapshot['volume_name'] = 'volume_name' self._volumeops.get_backing(snapshot['volume_name']).AndReturn(backing) m.StubOutWithMock(self._volumeops, 'get_snapshot') snapshot['name'] = 'snapshot_name' self._volumeops.get_snapshot(backing, snapshot['name']) m.ReplayAll() self._driver.create_volume_from_snapshot(volume, snapshot) m.UnsetStubs() m.VerifyAll() def test_create_volume_from_snapshot(self): """"""Test create_volume_from_snapshot."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops backing = FakeMor('VirtualMachine', 'my_vm') m.StubOutWithMock(self._volumeops, 'get_backing') volume = FakeObject() snapshot = FakeObject() snapshot['volume_name'] = 'volume_name' self._volumeops.get_backing(snapshot['volume_name']).AndReturn(backing) m.StubOutWithMock(self._volumeops, 'get_snapshot') snapshot['name'] = 'snapshot_name' snapshot_mor = FakeMor('VirtualMachineSnapshot', 'my_snap') self._volumeops.get_snapshot(backing, snapshot['name']).AndReturn(snapshot_mor) m.StubOutWithMock(self._volumeops, 'get_vmdk_path') src_vmdk_path = ""[datastore] src_vm/src_vm-001.vmdk"" self._volumeops.get_vmdk_path(snapshot_mor).AndReturn(src_vmdk_path) m.StubOutWithMock(self._driver, '_clone_backing_by_copying') self._driver._clone_backing_by_copying(volume, src_vmdk_path) m.ReplayAll() self._driver.create_volume_from_snapshot(volume, snapshot) m.UnsetStubs() m.VerifyAll() def test_get_entity_name(self): """"""Test volumeops get_entity_name."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') entity = FakeMor('VirtualMachine', 'virt') self._session.invoke_api(vim_util, 'get_object_property', self._vim, entity, 'name') m.ReplayAll() self._volumeops.get_entity_name(entity) m.UnsetStubs() m.VerifyAll() def test_get_vmdk_path(self): """"""Test volumeops get_vmdk_path."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') backing = FakeMor('VirtualMachine', 'my_back') vmdk_path = '[datastore 1] folders/myvols/volume-123.vmdk' class VirtualDisk: pass virtualDisk = VirtualDisk() class VirtualDiskFlatVer2BackingInfo: pass backingInfo = VirtualDiskFlatVer2BackingInfo() backingInfo.fileName = vmdk_path virtualDisk.backing = backingInfo devices = [FakeObject(), virtualDisk, FakeObject()] moxed = self._session.invoke_api(vim_util, 'get_object_property', self._vim, backing, 'config.hardware.device') moxed.AndReturn(devices) m.ReplayAll() actual_vmdk_path = self._volumeops.get_vmdk_path(backing) self.assertEqual(backingInfo.__class__.__name__, 'VirtualDiskFlatVer2BackingInfo') self.assertEqual(virtualDisk.__class__.__name__, 'VirtualDisk') self.assertEqual(actual_vmdk_path, vmdk_path) m.UnsetStubs() m.VerifyAll() def test_copy_vmdk_file(self): """"""Test copy_vmdk_file."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') dc_ref = FakeMor('Datacenter', 'dc1') src_path = 'src_path' dest_path = 'dest_path' task = FakeMor('Task', 'my_task') self._session.invoke_api(self._vim, 'CopyVirtualDisk_Task', mox.IgnoreArg(), sourceName=src_path, sourceDatacenter=dc_ref, destName=dest_path, destDatacenter=dc_ref, force=True).AndReturn(task) m.StubOutWithMock(self._session, 'wait_for_task') self._session.wait_for_task(task) m.ReplayAll() self._volumeops.copy_vmdk_file(dc_ref, src_path, dest_path) m.UnsetStubs() m.VerifyAll() def test_delete_vmdk_file(self): """"""Test delete_vmdk_file."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') dc_ref = FakeMor('Datacenter', 'dc1') vmdk_path = 'vmdk_path' task = FakeMor('Task', 'my_task') self._session.invoke_api(self._vim, 'DeleteVirtualDisk_Task', mox.IgnoreArg(), name=vmdk_path, datacenter=dc_ref).AndReturn(task) m.StubOutWithMock(self._session, 'wait_for_task') self._session.wait_for_task(task) m.ReplayAll() self._volumeops.delete_vmdk_file(vmdk_path, dc_ref) m.UnsetStubs() m.VerifyAll() def test_split_datastore_path(self): """"""Test volumeops split_datastore_path."""""" test1 = '[datastore1] myfolder/mysubfolder/myvm.vmx' (datastore, folder, file_name) = volumeops.split_datastore_path(test1) self.assertEqual(datastore, 'datastore1') self.assertEqual(folder, 'myfolder/mysubfolder/') self.assertEqual(file_name, 'myvm.vmx') test2 = '[datastore2 ] myfolder/myvm.vmdk' (datastore, folder, file_name) = volumeops.split_datastore_path(test2) self.assertEqual(datastore, 'datastore2') self.assertEqual(folder, 'myfolder/') self.assertEqual(file_name, 'myvm.vmdk') test3 = 'myfolder/myvm.vmdk' self.assertRaises(IndexError, volumeops.split_datastore_path, test3) def test_copy_image_to_volume_non_vmdk(self): """"""Test copy_image_to_volume for a non-vmdk disk format."""""" m = self.mox image_id = 'image-123456789' image_meta = FakeObject() image_meta['disk_format'] = 'novmdk' image_service = m.CreateMock(glance.GlanceImageService) image_service.show(mox.IgnoreArg(), image_id).AndReturn(image_meta) m.ReplayAll() self.assertRaises(exception.ImageUnacceptable, self._driver.copy_image_to_volume, mox.IgnoreArg(), mox.IgnoreArg(), image_service, image_id) m.UnsetStubs() m.VerifyAll() def test_copy_image_to_volume_vmdk(self): """"""Test copy_image_to_volume with an acceptable vmdk disk format."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'session') self._driver.session = self._session m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops image_id = 'image-id' image_meta = FakeObject() image_meta['disk_format'] = 'vmdk' image_meta['size'] = 1024 * 1024 image_service = m.CreateMock(glance.GlanceImageService) image_service.show(mox.IgnoreArg(), image_id).AndReturn(image_meta) volume = FakeObject() vol_name = 'volume name' volume['name'] = vol_name backing = FakeMor('VirtualMachine', 'my_vm') m.StubOutWithMock(self._driver, '_create_backing_in_inventory') self._driver._create_backing_in_inventory(volume).AndReturn(backing) datastore_name = 'datastore1' flat_vmdk_path = 'myvolumes/myvm-flat.vmdk' m.StubOutWithMock(self._driver, '_get_ds_name_flat_vmdk_path') moxed = self._driver._get_ds_name_flat_vmdk_path(mox.IgnoreArg(), vol_name) moxed.AndReturn((datastore_name, flat_vmdk_path)) host = FakeMor('Host', 'my_host') m.StubOutWithMock(self._volumeops, 'get_host') self._volumeops.get_host(backing).AndReturn(host) datacenter = FakeMor('Datacenter', 'my_datacenter') m.StubOutWithMock(self._volumeops, 'get_dc') self._volumeops.get_dc(host).AndReturn(datacenter) datacenter_name = 'my-datacenter' m.StubOutWithMock(self._volumeops, 'get_entity_name') self._volumeops.get_entity_name(datacenter).AndReturn(datacenter_name) flat_path = '[%s] %s' % (datastore_name, flat_vmdk_path) m.StubOutWithMock(self._volumeops, 'delete_file') self._volumeops.delete_file(flat_path, datacenter) client = FakeObject() client.options = FakeObject() client.options.transport = FakeObject() cookies = FakeObject() client.options.transport.cookiejar = cookies m.StubOutWithMock(self._vim.__class__, 'client') self._vim.client = client m.StubOutWithMock(vmware_images, 'fetch_image') timeout = self._config.vmware_image_transfer_timeout_secs vmware_images.fetch_image(mox.IgnoreArg(), timeout, image_service, image_id, host=self.IP, data_center_name=datacenter_name, datastore_name=datastore_name, cookies=cookies, file_path=flat_vmdk_path) m.ReplayAll() self._driver.copy_image_to_volume(mox.IgnoreArg(), volume, image_service, image_id) m.UnsetStubs() m.VerifyAll() def test_copy_volume_to_image_non_vmdk(self): """"""Test copy_volume_to_image for a non-vmdk disk format."""""" m = self.mox image_meta = FakeObject() image_meta['disk_format'] = 'novmdk' volume = FakeObject() volume['name'] = 'vol-name' volume['instance_uuid'] = None volume['attached_host'] = None m.ReplayAll() self.assertRaises(exception.ImageUnacceptable, self._driver.copy_volume_to_image, mox.IgnoreArg(), volume, mox.IgnoreArg(), image_meta) m.UnsetStubs() m.VerifyAll() def test_copy_volume_to_image_when_attached(self): """"""Test copy_volume_to_image when volume is attached."""""" m = self.mox volume = FakeObject() volume['instance_uuid'] = 'my_uuid' m.ReplayAll() self.assertRaises(exception.InvalidVolume, self._driver.copy_volume_to_image, mox.IgnoreArg(), volume, mox.IgnoreArg(), mox.IgnoreArg()) m.UnsetStubs() m.VerifyAll() def test_copy_volume_to_image_vmdk(self): """"""Test copy_volume_to_image for a valid vmdk disk format."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'session') self._driver.session = self._session m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops image_id = 'image-id-1' image_meta = FakeObject() image_meta['disk_format'] = 'vmdk' image_meta['id'] = image_id image_meta['name'] = image_id image_service = FakeObject() vol_name = 'volume-123456789' project_id = 'project-owner-id-123' volume = FakeObject() volume['name'] = vol_name volume['project_id'] = project_id volume['instance_uuid'] = None volume['attached_host'] = None # volumeops.get_backing backing = FakeMor(""VirtualMachine"", ""my_vm"") m.StubOutWithMock(self._volumeops, 'get_backing') self._volumeops.get_backing(vol_name).AndReturn(backing) # volumeops.get_vmdk_path datastore_name = 'datastore1' file_path = 'my_folder/my_nested_folder/my_vm.vmdk' vmdk_file_path = '[%s] %s' % (datastore_name, file_path) m.StubOutWithMock(self._volumeops, 'get_vmdk_path') self._volumeops.get_vmdk_path(backing).AndReturn(vmdk_file_path) tmp_vmdk = '[datastore1] %s.vmdk' % image_id # volumeops.get_host host = FakeMor('Host', 'my_host') m.StubOutWithMock(self._volumeops, 'get_host') self._volumeops.get_host(backing).AndReturn(host) # volumeops.get_dc datacenter_name = 'my_datacenter' datacenter = FakeMor('Datacenter', datacenter_name) m.StubOutWithMock(self._volumeops, 'get_dc') self._volumeops.get_dc(host).AndReturn(datacenter) # volumeops.copy_vmdk_file m.StubOutWithMock(self._volumeops, 'copy_vmdk_file') self._volumeops.copy_vmdk_file(datacenter, vmdk_file_path, tmp_vmdk) # host_ip host_ip = self.IP # volumeops.get_entity_name m.StubOutWithMock(self._volumeops, 'get_entity_name') self._volumeops.get_entity_name(datacenter).AndReturn(datacenter_name) # cookiejar client = FakeObject() client.options = FakeObject() client.options.transport = FakeObject() cookies = FakeObject() client.options.transport.cookiejar = cookies m.StubOutWithMock(self._vim.__class__, 'client') self._vim.client = client # flat_vmdk flat_vmdk_file = '%s-flat.vmdk' % image_id # vmware_images.upload_image timeout = self._config.vmware_image_transfer_timeout_secs m.StubOutWithMock(vmware_images, 'upload_image') vmware_images.upload_image(mox.IgnoreArg(), timeout, image_service, image_id, project_id, host=host_ip, data_center_name=datacenter_name, datastore_name=datastore_name, cookies=cookies, file_path=flat_vmdk_file, snapshot_name=image_meta['name'], image_version=1) # volumeops.delete_vmdk_file m.StubOutWithMock(self._volumeops, 'delete_vmdk_file') self._volumeops.delete_vmdk_file(tmp_vmdk, datacenter) m.ReplayAll() self._driver.copy_volume_to_image(mox.IgnoreArg(), volume, image_service, image_meta) m.UnsetStubs() m.VerifyAll() def test_retrieve_properties_ex_fault_checker(self): """"""Test retrieve_properties_ex_fault_checker is called."""""" m = self.mox class FakeVim(vim.Vim): def __init__(self): pass @property def client(self): class FakeRetrv(object): def RetrievePropertiesEx(self, collector): pass def __getattr__(self, name): if name == 'service': return FakeRetrv() return FakeRetrv() def RetrieveServiceContent(self, type='ServiceInstance'): return mox.MockAnything() _vim = FakeVim() m.ReplayAll() # retrieve_properties_ex_fault_checker throws authentication error self.assertRaises(error_util.VimFaultException, _vim.RetrievePropertiesEx, mox.IgnoreArg()) m.UnsetStubs() m.VerifyAll() class VMwareVcVmdkDriverTestCase(VMwareEsxVmdkDriverTestCase): """"""Test class for VMwareVcVmdkDriver."""""" def setUp(self): super(VMwareVcVmdkDriverTestCase, self).setUp() self._driver = vmdk.VMwareVcVmdkDriver(configuration=self._config) def test_create_folder_not_present(self): """"""Test create_folder when not present."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') parent_folder = FakeMor('Folder', 'my_par_fol') child_entities = FakeManagedObjectReference() self._session.invoke_api(vim_util, 'get_object_property', self._vim, parent_folder, 'childEntity').AndReturn(child_entities) self._session.invoke_api(self._vim, 'CreateFolder', parent_folder, name='child_folder_name') m.ReplayAll() dc = self._volumeops.create_folder(parent_folder, 'child_folder_name') m.UnsetStubs() m.VerifyAll() def test_create_folder_already_present(self): """"""Test create_folder when already present."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') parent_folder = FakeMor('Folder', 'my_par_fol') child_folder = FakeMor('Folder', 'my_child_fol') child_entities = FakeManagedObjectReference([child_folder]) self._session.invoke_api(vim_util, 'get_object_property', self._vim, parent_folder, 'childEntity').AndReturn(child_entities) self._session.invoke_api(vim_util, 'get_object_property', self._vim, child_folder, 'name').AndReturn('child_folder_name') m.ReplayAll() fol = self._volumeops.create_folder(parent_folder, 'child_folder_name') self.assertEqual(fol, child_folder) m.UnsetStubs() m.VerifyAll() def test_relocate_backing(self): """"""Test relocate_backing."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._volumeops, '_get_relocate_spec') datastore = FakeMor('Datastore', 'my_ds') resource_pool = FakeMor('ResourcePool', 'my_rp') host = FakeMor('HostSystem', 'my_host') disk_move_type = 'moveAllDiskBackingsAndAllowSharing' self._volumeops._get_relocate_spec(datastore, resource_pool, host, disk_move_type) m.StubOutWithMock(self._session, 'invoke_api') backing = FakeMor('VirtualMachine', 'my_back') task = FakeMor('Task', 'my_task') self._session.invoke_api(self._vim, 'RelocateVM_Task', backing, spec=mox.IgnoreArg()).AndReturn(task) m.StubOutWithMock(self._session, 'wait_for_task') self._session.wait_for_task(task) m.ReplayAll() self._volumeops.relocate_backing(backing, datastore, resource_pool, host) m.UnsetStubs() m.VerifyAll() def test_move_backing_to_folder(self): """"""Test move_backing_to_folder."""""" m = self.mox m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') backing = FakeMor('VirtualMachine', 'my_back') folder = FakeMor('Folder', 'my_fol') task = FakeMor('Task', 'my_task') self._session.invoke_api(self._vim, 'MoveIntoFolder_Task', folder, list=[backing]).AndReturn(task) m.StubOutWithMock(self._session, 'wait_for_task') self._session.wait_for_task(task) m.ReplayAll() self._volumeops.move_backing_to_folder(backing, folder) m.UnsetStubs() m.VerifyAll() def test_init_conn_with_instance_and_backing(self): """"""Test initialize_connection with instance and backing."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops m.StubOutWithMock(self._volumeops, 'get_backing') volume = FakeObject() volume['name'] = 'volume_name' volume['id'] = 'volume_id' volume['size'] = 1 connector = {'instance': 'my_instance'} backing = FakeMor('VirtualMachine', 'my_back') self._volumeops.get_backing(volume['name']).AndReturn(backing) m.StubOutWithMock(self._volumeops, 'get_host') host = FakeMor('HostSystem', 'my_host') self._volumeops.get_host(mox.IgnoreArg()).AndReturn(host) datastore = FakeMor('Datastore', 'my_ds') resource_pool = FakeMor('ResourcePool', 'my_rp') m.StubOutWithMock(self._volumeops, 'get_dss_rp') self._volumeops.get_dss_rp(host).AndReturn(([datastore], resource_pool)) m.StubOutWithMock(self._volumeops, 'get_datastore') self._volumeops.get_datastore(backing).AndReturn(datastore) m.ReplayAll() conn_info = self._driver.initialize_connection(volume, connector) self.assertEqual(conn_info['driver_volume_type'], 'vmdk') self.assertEqual(conn_info['data']['volume'], 'my_back') self.assertEqual(conn_info['data']['volume_id'], 'volume_id') m.UnsetStubs() m.VerifyAll() def test_get_volume_group_folder(self): """"""Test _get_volume_group_folder."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops datacenter = FakeMor('Datacenter', 'my_dc') m.StubOutWithMock(self._volumeops, 'get_vmfolder') self._volumeops.get_vmfolder(datacenter) m.StubOutWithMock(self._volumeops, 'create_folder') self._volumeops.create_folder(mox.IgnoreArg(), self._config.vmware_volume_folder) m.ReplayAll() self._driver._get_volume_group_folder(datacenter) m.UnsetStubs() m.VerifyAll() def test_init_conn_with_instance_and_backing_and_relocation(self): """"""Test initialize_connection with backing being relocated."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops m.StubOutWithMock(self._volumeops, 'get_backing') volume = FakeObject() volume['name'] = 'volume_name' volume['id'] = 'volume_id' volume['size'] = 1 connector = {'instance': 'my_instance'} backing = FakeMor('VirtualMachine', 'my_back') self._volumeops.get_backing(volume['name']).AndReturn(backing) m.StubOutWithMock(self._volumeops, 'get_host') host = FakeMor('HostSystem', 'my_host') self._volumeops.get_host(mox.IgnoreArg()).AndReturn(host) datastore1 = FakeMor('Datastore', 'my_ds_1') datastore2 = FakeMor('Datastore', 'my_ds_2') resource_pool = FakeMor('ResourcePool', 'my_rp') m.StubOutWithMock(self._volumeops, 'get_dss_rp') self._volumeops.get_dss_rp(host).AndReturn(([datastore1], resource_pool)) m.StubOutWithMock(self._volumeops, 'get_datastore') self._volumeops.get_datastore(backing).AndReturn(datastore2) m.StubOutWithMock(self._driver, '_get_folder_ds_summary') folder = FakeMor('Folder', 'my_fol') summary = FakeDatastoreSummary(1, 1, datastore1) size = 1 self._driver._get_folder_ds_summary(size, resource_pool, [datastore1]).AndReturn((folder, summary)) m.StubOutWithMock(self._volumeops, 'relocate_backing') self._volumeops.relocate_backing(backing, datastore1, resource_pool, host) m.StubOutWithMock(self._volumeops, 'move_backing_to_folder') self._volumeops.move_backing_to_folder(backing, folder) m.ReplayAll() conn_info = self._driver.initialize_connection(volume, connector) self.assertEqual(conn_info['driver_volume_type'], 'vmdk') self.assertEqual(conn_info['data']['volume'], 'my_back') self.assertEqual(conn_info['data']['volume_id'], 'volume_id') m.UnsetStubs() m.VerifyAll() def test_get_folder(self): """"""Test _get_folder."""""" m = self.mox m.StubOutWithMock(self._volumeops, '_get_parent') self._volumeops._get_parent(mox.IgnoreArg(), 'Folder') m.ReplayAll() self._volumeops._get_folder(mox.IgnoreArg()) m.UnsetStubs() m.VerifyAll() def test_volumeops_clone_backing(self): """"""Test volumeops.clone_backing."""""" m = self.mox m.StubOutWithMock(self._volumeops, '_get_parent') backing = FakeMor('VirtualMachine', 'my_back') folder = FakeMor('Folder', 'my_fol') self._volumeops._get_folder(backing).AndReturn(folder) m.StubOutWithMock(self._volumeops, '_get_clone_spec') name = 'name' snapshot = FakeMor('VirtualMachineSnapshot', 'my_snap') datastore = FakeMor('Datastore', 'my_ds') self._volumeops._get_clone_spec(datastore, mox.IgnoreArg(), snapshot) m.StubOutWithMock(api.VMwareAPISession, 'vim') self._session.vim = self._vim m.StubOutWithMock(self._session, 'invoke_api') task = FakeMor('Task', 'my_task') self._session.invoke_api(self._vim, 'CloneVM_Task', backing, folder=folder, name=name, spec=mox.IgnoreArg()).AndReturn(task) m.StubOutWithMock(self._session, 'wait_for_task') clone = FakeMor('VirtualMachine', 'my_clone') task_info = FakeTaskInfo('success', clone) self._session.wait_for_task(task).AndReturn(task_info) m.ReplayAll() ret = self._volumeops.clone_backing(name, backing, snapshot, mox.IgnoreArg(), datastore) self.assertEqual(ret, clone) m.UnsetStubs() m.VerifyAll() def test_clone_backing_linked(self): """"""Test _clone_backing with clone type - linked."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops m.StubOutWithMock(self._volumeops, 'clone_backing') volume = FakeObject() volume['name'] = 'volume_name' self._volumeops.clone_backing(volume['name'], mox.IgnoreArg(), mox.IgnoreArg(), volumeops.LINKED_CLONE_TYPE, mox.IgnoreArg()) m.ReplayAll() self._driver._clone_backing(volume, mox.IgnoreArg(), mox.IgnoreArg(), volumeops.LINKED_CLONE_TYPE) m.UnsetStubs() m.VerifyAll() def test_clone_backing_full(self): """"""Test _clone_backing with clone type - full."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops m.StubOutWithMock(self._volumeops, 'get_host') backing = FakeMor('VirtualMachine', 'my_vm') host = FakeMor('HostSystem', 'my_host') self._volumeops.get_host(backing).AndReturn(host) m.StubOutWithMock(self._volumeops, 'get_dss_rp') datastore = FakeMor('Datastore', 'my_ds') datastores = [datastore] resource_pool = FakeMor('ResourcePool', 'my_rp') self._volumeops.get_dss_rp(host).AndReturn((datastores, resource_pool)) m.StubOutWithMock(self._driver, '_select_datastore_summary') volume = FakeObject() volume['name'] = 'volume_name' volume['size'] = 1 summary = FakeDatastoreSummary(1, 1, datastore=datastore) self._driver._select_datastore_summary(volume['size'] * units.GiB, datastores).AndReturn(summary) m.StubOutWithMock(self._volumeops, 'clone_backing') self._volumeops.clone_backing(volume['name'], backing, mox.IgnoreArg(), volumeops.FULL_CLONE_TYPE, datastore) m.ReplayAll() self._driver._clone_backing(volume, backing, mox.IgnoreArg(), volumeops.FULL_CLONE_TYPE) m.UnsetStubs() m.VerifyAll() def test_create_volume_from_snapshot(self): """"""Test create_volume_from_snapshot."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops m.StubOutWithMock(self._volumeops, 'get_backing') snapshot = FakeObject() snapshot['volume_name'] = 'volume_name' snapshot['name'] = 'snapshot_name' backing = FakeMor('VirtualMachine', 'my_back') self._volumeops.get_backing(snapshot['volume_name']).AndReturn(backing) m.StubOutWithMock(self._volumeops, 'get_snapshot') snap_mor = FakeMor('VirtualMachineSnapshot', 'my_snap') self._volumeops.get_snapshot(backing, snapshot['name']).AndReturn(snap_mor) volume = FakeObject() volume['volume_type_id'] = None m.StubOutWithMock(self._driver, '_clone_backing') self._driver._clone_backing(volume, backing, snap_mor, mox.IgnoreArg()) m.ReplayAll() self._driver.create_volume_from_snapshot(volume, snapshot) m.UnsetStubs() m.VerifyAll() def test_create_cloned_volume_with_backing(self): """"""Test create_cloned_volume with clone type - full."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops m.StubOutWithMock(self._volumeops, 'get_backing') backing = FakeMor('VirtualMachine', 'my_back') src_vref = FakeObject() src_vref['name'] = 'src_vol_name' src_vref['status'] = 'available' self._volumeops.get_backing(src_vref['name']).AndReturn(backing) volume = FakeObject() volume['volume_type_id'] = None m.StubOutWithMock(self._driver, '_clone_backing') self._driver._clone_backing(volume, backing, mox.IgnoreArg(), volumeops.FULL_CLONE_TYPE) m.ReplayAll() self._driver.create_cloned_volume(volume, src_vref) m.UnsetStubs() def test_create_linked_cloned_volume_with_backing(self): """"""Test create_cloned_volume with clone type - linked."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops m.StubOutWithMock(self._volumeops, 'get_backing') backing = FakeMor('VirtualMachine', 'my_back') src_vref = FakeObject() src_vref['name'] = 'src_vol_name' src_vref['status'] = 'available' self._volumeops.get_backing(src_vref['name']).AndReturn(backing) volume = FakeObject() volume['id'] = 'volume_id' m.StubOutWithMock(vmdk.VMwareVcVmdkDriver, '_get_clone_type') moxed = vmdk.VMwareVcVmdkDriver._get_clone_type(volume) moxed.AndReturn(volumeops.LINKED_CLONE_TYPE) m.StubOutWithMock(self._volumeops, 'create_snapshot') name = 'snapshot-%s' % volume['id'] snapshot = FakeMor('VirtualMachineSnapshot', 'my_snap') self._volumeops.create_snapshot(backing, name, None).AndReturn(snapshot) m.StubOutWithMock(self._driver, '_clone_backing') self._driver._clone_backing(volume, backing, snapshot, volumeops.LINKED_CLONE_TYPE) m.ReplayAll() self._driver.create_cloned_volume(volume, src_vref) m.UnsetStubs() def test_create_linked_cloned_volume_when_attached(self): """"""Test create_cloned_volume linked clone when volume is attached."""""" m = self.mox m.StubOutWithMock(self._driver.__class__, 'volumeops') self._driver.volumeops = self._volumeops m.StubOutWithMock(self._volumeops, 'get_backing') backing = FakeMor('VirtualMachine', 'my_back') src_vref = FakeObject() src_vref['name'] = 'src_vol_name' src_vref['status'] = 'in-use' volume = FakeObject() self._volumeops.get_backing(src_vref['name']).AndReturn(backing) m.StubOutWithMock(vmdk.VMwareVcVmdkDriver, '_get_clone_type') moxed = vmdk.VMwareVcVmdkDriver._get_clone_type(volume) moxed.AndReturn(volumeops.LINKED_CLONE_TYPE) m.ReplayAll() self.assertRaises(exception.InvalidVolume, self._driver.create_cloned_volume, volume, src_vref) m.UnsetStubs() m.VerifyAll() ",202,1900
openstack%2Fheat~master~I5e402e3ed02b9e09d3f78ef3c910c4c3d2f90fc0,openstack/heat,master,I5e402e3ed02b9e09d3f78ef3c910c4c3d2f90fc0,Get deletion policy from ResourceDefinition,MERGED,2014-05-28 02:25:07.000000000,2014-06-17 06:44:47.000000000,2014-06-17 06:44:47.000000000,"[{'_account_id': 3}, {'_account_id': 6488}, {'_account_id': 7193}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-05-28 02:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0f028ee3b6a71668c4544f101a6d5d1bee6846dc', 'message': 'Get deletion policy from ResourceDefinition\n\nChange-Id: I5e402e3ed02b9e09d3f78ef3c910c4c3d2f90fc0\n'}, {'number': 2, 'created': '2014-05-28 13:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a13032175baa7581c3182c7c18f1fdd5caa11860', 'message': 'Get deletion policy from ResourceDefinition\n\nChange-Id: I5e402e3ed02b9e09d3f78ef3c910c4c3d2f90fc0\n'}, {'number': 3, 'created': '2014-05-30 20:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1a4e0232c3525cfc412fd678d3fd877469576194', 'message': 'Get deletion policy from ResourceDefinition\n\nChange-Id: I5e402e3ed02b9e09d3f78ef3c910c4c3d2f90fc0\n'}, {'number': 4, 'created': '2014-06-05 18:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c668f7b568677f14371096383905f0e95d495507', 'message': 'Get deletion policy from ResourceDefinition\n\nChange-Id: I5e402e3ed02b9e09d3f78ef3c910c4c3d2f90fc0\n'}, {'number': 5, 'created': '2014-06-11 01:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/046743e5e83ba5fdbc4b842a53a2da0cf6d40dd4', 'message': 'Get deletion policy from ResourceDefinition\n\nChange-Id: I5e402e3ed02b9e09d3f78ef3c910c4c3d2f90fc0\n'}, {'number': 6, 'created': '2014-06-11 13:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/30bb63d8f410305d0c483c7e59e7ba36201d4963', 'message': 'Get deletion policy from ResourceDefinition\n\nChange-Id: I5e402e3ed02b9e09d3f78ef3c910c4c3d2f90fc0\n'}, {'number': 7, 'created': '2014-06-16 15:22:28.000000000', 'files': ['heat/tests/test_validate.py', 'heat/engine/cfn/functions.py', 'heat/engine/service.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/5097031f3608bf1f12c94a54038a8456016a1387', 'message': 'Get deletion policy from ResourceDefinition\n\nChange-Id: I5e402e3ed02b9e09d3f78ef3c910c4c3d2f90fc0\n'}]",0,96010,5097031f3608bf1f12c94a54038a8456016a1387,40,4,7,4257,,,0,"Get deletion policy from ResourceDefinition

Change-Id: I5e402e3ed02b9e09d3f78ef3c910c4c3d2f90fc0
",git fetch https://review.opendev.org/openstack/heat refs/changes/10/96010/6 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_validate.py', 'heat/engine/cfn/functions.py', 'heat/engine/resource.py', 'heat/engine/service.py']",4,0f028ee3b6a71668c4544f101a6d5d1bee6846dc,bp/update-failure-recovery," deletion_policy = res.get('DeletionPolicy', 'Delete') try: ResourceClass.validate_deletion_policy(deletion_policy)", try: ResourceClass.validate_deletion_policy(res),17,18
openstack%2Fheat~master~I08cedd0fb9c7b804a4bf9dd5233f7b9060337a71,openstack/heat,master,I08cedd0fb9c7b804a4bf9dd5233f7b9060337a71,Use ResourceDefinition to generate UpdatePolicy,MERGED,2014-05-28 02:25:07.000000000,2014-06-17 06:38:51.000000000,2014-06-17 06:38:50.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 4571}, {'_account_id': 6488}, {'_account_id': 7193}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-05-28 02:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/035789c79f50d2db915b04be20dbb60f766b5bb3', 'message': 'Use ResourceDefinition to generate UpdatePolicy\n\nChange-Id: I08cedd0fb9c7b804a4bf9dd5233f7b9060337a71\n'}, {'number': 2, 'created': '2014-05-28 13:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/185f1dbd6e2f2f3c8f29813084e0d88ecaea02b4', 'message': 'Use ResourceDefinition to generate UpdatePolicy\n\nChange-Id: I08cedd0fb9c7b804a4bf9dd5233f7b9060337a71\n'}, {'number': 3, 'created': '2014-05-30 20:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/18332a3159c90f5c127838bbfba7b008ae13c168', 'message': 'Use ResourceDefinition to generate UpdatePolicy\n\nChange-Id: I08cedd0fb9c7b804a4bf9dd5233f7b9060337a71\n'}, {'number': 4, 'created': '2014-06-05 18:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/61028b91007111ad7ab59b9c7c3ec6d1b67cd2f0', 'message': 'Use ResourceDefinition to generate UpdatePolicy\n\nChange-Id: I08cedd0fb9c7b804a4bf9dd5233f7b9060337a71\n'}, {'number': 5, 'created': '2014-06-11 01:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/891e62aa48f299506dcff7162493896bd7e8bad8', 'message': 'Use ResourceDefinition to generate UpdatePolicy\n\nChange-Id: I08cedd0fb9c7b804a4bf9dd5233f7b9060337a71\n'}, {'number': 6, 'created': '2014-06-11 13:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7ef3382f9b76b0f16b5cbe770e9cf5be259e8708', 'message': 'Use ResourceDefinition to generate UpdatePolicy\n\nChange-Id: I08cedd0fb9c7b804a4bf9dd5233f7b9060337a71\n'}, {'number': 7, 'created': '2014-06-16 15:22:28.000000000', 'files': ['heat/engine/resources/autoscaling.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/b1af2e5695f6e23ccbb3184b522de5f89f063073', 'message': 'Use ResourceDefinition to generate UpdatePolicy\n\nChange-Id: I08cedd0fb9c7b804a4bf9dd5233f7b9060337a71\n'}]",0,96009,b1af2e5695f6e23ccbb3184b522de5f89f063073,54,6,7,4257,,,0,"Use ResourceDefinition to generate UpdatePolicy

Change-Id: I08cedd0fb9c7b804a4bf9dd5233f7b9060337a71
",git fetch https://review.opendev.org/openstack/heat refs/changes/09/96009/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/autoscaling.py'],1,035789c79f50d2db915b04be20dbb60f766b5bb3,bp/update-failure-recovery," self.update_policy = self.t.update_policy(self.update_policy_schema, self.context) up = json_snippet.update_policy(self.update_policy_schema, self.context) self.update_policy = up up = json_snippet.update_policy(self.update_policy_schema, self.context) self.update_policy = up","from heat.engine.properties import Properties self.update_policy = Properties(self.update_policy_schema, self.t.get('UpdatePolicy', {}), parent_name=self.name, context=self.context) self.update_policy = Properties( self.update_policy_schema, json_snippet.get('UpdatePolicy', {}), parent_name=self.name, context=self.context) self.update_policy = Properties( self.update_policy_schema, json_snippet.get('UpdatePolicy', {}), parent_name=self.name, context=self.context)",8,15
openstack%2Fmanila~master~I62144ba43d62e3becb90427d5d6600f97db458df,openstack/manila,master,I62144ba43d62e3becb90427d5d6600f97db458df,Use testtools module instead unittest module,MERGED,2014-06-16 06:24:29.000000000,2014-06-17 06:32:49.000000000,2014-06-17 06:32:48.000000000,"[{'_account_id': 3}, {'_account_id': 177}, {'_account_id': 6491}, {'_account_id': 7534}, {'_account_id': 8851}]","[{'number': 1, 'created': '2014-06-16 06:24:29.000000000', 'files': ['manila/tests/scheduler/test_filter_scheduler.py', 'manila/tests/scheduler/test_host_filters.py', 'test-requirements.txt', 'manila/test.py', 'manila/tests/test_quota.py', 'manila/tests/scheduler/test_capacity_weigher.py', 'manila/tests/test_skip_examples.py', 'manila/tests/test_migrations.py', 'manila/tests/test_wsgi.py', 'manila/tests/api/v1/test_limits.py', 'manila/tests/test_exception.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/ea26ee3c9a30705f530eec2326e4902441c0115a', 'message': 'Use testtools module instead unittest module\n\nIt allows us to use a bunch of skip\ndecorators, addCleanup method with\n2.6 and 2.7 python versions.\nProvides more strict usage of setUp\nand tearDown methods.\n\nChange-Id: I62144ba43d62e3becb90427d5d6600f97db458df\n'}]",0,100154,ea26ee3c9a30705f530eec2326e4902441c0115a,10,5,1,8851,,,0,"Use testtools module instead unittest module

It allows us to use a bunch of skip
decorators, addCleanup method with
2.6 and 2.7 python versions.
Provides more strict usage of setUp
and tearDown methods.

Change-Id: I62144ba43d62e3becb90427d5d6600f97db458df
",git fetch https://review.opendev.org/openstack/manila refs/changes/54/100154/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/scheduler/test_filter_scheduler.py', 'manila/tests/scheduler/test_host_filters.py', 'manila/test.py', 'test-requirements.txt', 'manila/tests/scheduler/test_capacity_weigher.py', 'manila/tests/test_quota.py', 'manila/tests/test_skip_examples.py', 'manila/tests/test_migrations.py', 'manila/tests/test_wsgi.py', 'manila/tests/api/v1/test_limits.py', 'manila/tests/test_exception.py']",11,ea26ee3c9a30705f530eec2326e4902441c0115a,testtools,,def good_function(): return 99 def bad_function_error(): raise exception.Error() def bad_function_exception(): raise test.TestingException() ,51,167
openstack%2Ftraining-guides~master~Idaf8b859e2b58036948f1a3ad077d797b3757d61,openstack/training-guides,master,Idaf8b859e2b58036948f1a3ad077d797b3757d61,Add distro-specific boot libraries,MERGED,2014-06-17 05:58:51.000000000,2014-06-17 06:32:03.000000000,2014-06-17 06:32:02.000000000,"[{'_account_id': 3}, {'_account_id': 6923}, {'_account_id': 7007}]","[{'number': 1, 'created': '2014-06-17 05:58:51.000000000', 'files': ['labs/lib/osbash/lib.fedora-20-x86_64', 'labs/lib/osbash/lib.ubuntu-12.04.4-server-amd64'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/be6ca702112c66f1787d8b95698f68af9c3110e9', 'message': 'Add distro-specific boot libraries\n\nThis changeset adds two files (one for Ubuntu 12.04.4 LTS amd64 server,\none for Fedora 20 x86_64) containing the distribution specific\nboot code.\n\nThis includes the URL for the installation ISO image, the location of the\ndistribution-specific preseed or kickstart files, the boot arguments,\nand the sequence of keys needed to get the installer to take our boot\narguments.\n\nThe preseed or kickstart file to use is selected based on the VM_ACCESS\nvariable.\n\nIn the case of Fedora, VM memory is increased to 1024 MB to allow a\nsmooth install.\n\nPartial-Bug: 1312764\nImplements: blueprint openstack-training-labs\nChange-Id: Idaf8b859e2b58036948f1a3ad077d797b3757d61\n'}]",0,100426,be6ca702112c66f1787d8b95698f68af9c3110e9,7,3,1,11109,,,0,"Add distro-specific boot libraries

This changeset adds two files (one for Ubuntu 12.04.4 LTS amd64 server,
one for Fedora 20 x86_64) containing the distribution specific
boot code.

This includes the URL for the installation ISO image, the location of the
distribution-specific preseed or kickstart files, the boot arguments,
and the sequence of keys needed to get the installer to take our boot
arguments.

The preseed or kickstart file to use is selected based on the VM_ACCESS
variable.

In the case of Fedora, VM memory is increased to 1024 MB to allow a
smooth install.

Partial-Bug: 1312764
Implements: blueprint openstack-training-labs
Change-Id: Idaf8b859e2b58036948f1a3ad077d797b3757d61
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/26/100426/1 && git format-patch -1 --stdout FETCH_HEAD,"['labs/lib/osbash/lib.fedora-20-x86_64', 'labs/lib/osbash/lib.ubuntu-12.04.4-server-amd64']",2,be6ca702112c66f1787d8b95698f68af9c3110e9,bug/1312764,"# Ubuntu 12.04.4 LTS amd64 server # Default scripts for all Ubuntu installs : ${BASE_INSTALL_SCRIPTS:=scripts.ubuntu} #------------------------------------------------------------------------------- # Booting the operating system installer #------------------------------------------------------------------------------- readonly ISO_URL=http://releases.ubuntu.com/12.04/ubuntu-12.04.4-server-amd64.iso readonly _PS_ssh=http://git.openstack.org/cgit/openstack/training-guides/plain/labs/lib/osbash/netboot/preseed-ssh.cfg readonly _PS_vbadd=http://git.openstack.org/cgit/openstack/training-guides/plain/labs/lib/osbash/netboot/preseed-vbadd.cfg readonly _PS_all=http://git.openstack.org/cgit/openstack/training-guides/plain/labs/lib/osbash/netboot/preseed-all.cfg readonly _BOOT_ARGS=""/install/vmlinuz noapic preseed/url=%s debian-installer=en_US auto=true locale=en_US hostname=osbash fb=false debconf/frontend=noninteractive keyboard-configuration/modelcode=SKIP initrd=/install/initrd.gz console-setup/ask_detect=false"" function vbox_distro_start_installer { local VM_NAME=$1 # pick a _PS_* file local PRESEED=_PS_$VM_ACCESS echo ""Using $PRESEED ${!PRESEED}"" local BOOT_ARGS=$(printf ""$_BOOT_ARGS"" ""${!PRESEED}"") vbox_kbd_escape_key vbox_kbd_escape_key vbox_kbd_enter_key vbox_sleep 1 echo ""Pushing boot command line"" vbox_kbd_string_input ""$VM_NAME"" ""$BOOT_ARGS"" echo ""Initiating boot sequence"" vbox_kbd_enter_key } # vim: set ai ts=4 sw=4 et ft=sh: ",,94,0
openstack%2Fdevstack~master~I123eef661c85cc805e950f1179b48e885078d40f,openstack/devstack,master,I123eef661c85cc805e950f1179b48e885078d40f,Support option for Keystone PKIZ token provider,MERGED,2014-06-04 14:34:08.000000000,2014-06-17 06:14:29.000000000,2014-06-17 06:14:29.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 970}, {'_account_id': 2750}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7350}, {'_account_id': 8871}, {'_account_id': 9009}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-04 14:34:08.000000000', 'files': ['lib/keystone'], 'web_link': 'https://opendev.org/openstack/devstack/commit/754c4408b3e1af671dd9cf4cadd2ec8c8a41482e', 'message': 'Support option for Keystone PKIZ token provider\n\nKeystone added support for a compressed token provider, PKIZ. This\nchange adds support to devstack. Set the KEYSTONE_TOKEN_FORMAT\noption to ""PKIZ"" to configure Keystone to use it.\n\nChange-Id: I123eef661c85cc805e950f1179b48e885078d40f\n'}]",2,97808,754c4408b3e1af671dd9cf4cadd2ec8c8a41482e,34,10,1,6486,,,0,"Support option for Keystone PKIZ token provider

Keystone added support for a compressed token provider, PKIZ. This
change adds support to devstack. Set the KEYSTONE_TOKEN_FORMAT
option to ""PKIZ"" to configure Keystone to use it.

Change-Id: I123eef661c85cc805e950f1179b48e885078d40f
",git fetch https://review.opendev.org/openstack/devstack refs/changes/08/97808/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/keystone'],1,754c4408b3e1af671dd9cf4cadd2ec8c8a41482e,keystone_pkiz_provider,"# Choose from 'UUID', 'PKI', or 'PKIZ' elif [[ ""$KEYSTONE_TOKEN_FORMAT"" = ""PKIZ"" ]]; then iniset $KEYSTONE_CONF token provider keystone.token.providers.pkiz.Provider if [[ ""$KEYSTONE_TOKEN_FORMAT"" == ""PKI"" || ""$KEYSTONE_TOKEN_FORMAT"" == ""PKIZ"" ]]; then","# Choose from 'UUID' and 'PKI' if [[ ""$KEYSTONE_TOKEN_FORMAT"" == ""PKI"" ]]; then",4,2
openstack%2Fzaqar~master~Ie6a3bfc0d20d8d30bd484a9fec2063e1c191c7c4,openstack/zaqar,master,Ie6a3bfc0d20d8d30bd484a9fec2063e1c191c7c4,Refactor auxiliary methods for MongoDB unit tests,MERGED,2014-06-09 22:41:05.000000000,2014-06-17 06:04:39.000000000,2014-06-17 06:04:39.000000000,"[{'_account_id': 3}, {'_account_id': 6944}, {'_account_id': 7498}]","[{'number': 1, 'created': '2014-06-09 22:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/82f7b0979a6a2f7c5c2d886c38207361ca747788', 'message': 'Refactor auxiliary methods for MongoDB unit tests\n\nThis patchset DRYes the implementation of auxiliary\nfunctions in MongoDB unit tests.\n\nChange-Id: Ie6a3bfc0d20d8d30bd484a9fec2063e1c191c7c4\nCloses-Bug: #1257391\n'}, {'number': 2, 'created': '2014-06-10 03:09:00.000000000', 'files': ['tests/unit/queues/storage/test_impl_mongodb.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/67d936902d1ba3b6491ecb5e2cdadde05b362e1d', 'message': 'Refactor auxiliary methods for MongoDB unit tests\n\nThis patchset DRYes the implementation of auxiliary\nfunctions in MongoDB unit tests.\n\nChange-Id: Ie6a3bfc0d20d8d30bd484a9fec2063e1c191c7c4\nCloses-Bug: #1257391\n'}]",0,98916,67d936902d1ba3b6491ecb5e2cdadde05b362e1d,13,3,2,6413,,,0,"Refactor auxiliary methods for MongoDB unit tests

This patchset DRYes the implementation of auxiliary
functions in MongoDB unit tests.

Change-Id: Ie6a3bfc0d20d8d30bd484a9fec2063e1c191c7c4
Closes-Bug: #1257391
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/16/98916/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/unit/queues/storage/test_impl_mongodb.py'],1,82f7b0979a6a2f7c5c2d886c38207361ca747788,bug/1257391,"class MongodbDBSetup(testing.TestBase): def _purge_databases(self): databases = (self.driver.message_databases + [self.driver.queues_database]) for db in databases: self.driver.connection.drop_database(db) def _prepare_conf(self): self.config(options.MONGODB_GROUP, database=uuid.uuid4().hex) super(MongodbCatalogueTests, self).tearDown()","def _cleanup_databases(controller): databases = (controller.driver.message_databases + [controller.driver.queues_database]) for db in databases: controller.driver.connection.drop_database(db) def _purge_databases(self): _cleanup_databases(self) def _purge_databases(self): _cleanup_databases(self) def _prepare_conf(self): self.config(options.MONGODB_GROUP, database=uuid.uuid4().hex) def _purge_databases(self): _cleanup_databases(self) def _prepare_conf(self): self.config(options.MONGODB_GROUP, database=uuid.uuid4().hex) def _purge_databases(self): _cleanup_databases(self) def _prepare_conf(self): self.config(options.MONGODB_GROUP, database=uuid.uuid4().hex) super(MongodbCatalogueTests, self).tearDown() ",11,30
openstack%2Ftraining-guides~master~I112bbfc9947091e36a55ba0471928b5822c29424,openstack/training-guides,master,I112bbfc9947091e36a55ba0471928b5822c29424,Add figure to the appropriate place,MERGED,2014-06-17 01:15:34.000000000,2014-06-17 05:54:31.000000000,2014-06-17 05:54:31.000000000,"[{'_account_id': 3}, {'_account_id': 6923}, {'_account_id': 7007}, {'_account_id': 11109}]","[{'number': 1, 'created': '2014-06-17 01:15:34.000000000', 'files': ['doc/training-guides/module001-ch006-overview-horizon-cli.xml'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/e46a149a8a4861e27a685a90839a0ae7f9b051a3', 'message': ""Add figure to the appropriate place\n\nThere is a wrong caption in the subsection of 'Launch an instance from an\nimage' in the 'Controller Node' section of Associate Training Guide. And\nthere is no figure for it. This patch fix the problem.\n\nChange-Id: I112bbfc9947091e36a55ba0471928b5822c29424\nCloses-Bug: #1327017\n""}]",0,100397,e46a149a8a4861e27a685a90839a0ae7f9b051a3,8,4,1,6732,,,0,"Add figure to the appropriate place

There is a wrong caption in the subsection of 'Launch an instance from an
image' in the 'Controller Node' section of Associate Training Guide. And
there is no figure for it. This patch fix the problem.

Change-Id: I112bbfc9947091e36a55ba0471928b5822c29424
Closes-Bug: #1327017
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/97/100397/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/training-guides/module001-ch006-overview-horizon-cli.xml'],1,e46a149a8a4861e27a685a90839a0ae7f9b051a3,bug/1327017," <figure> <title>OpenStack Dashboard- Instances</title> <mediaobject> <imageobject> <imagedata fileref=""figures/image00.png""/> </imageobject> </mediaobject> </figure>", <para>Figure 5. OpenStack dashboard  Instances</para>,8,1
openstack%2Fnova~master~Ia8c67acf93d71af868907f0711dcc1dfe103560c,openstack/nova,master,Ia8c67acf93d71af868907f0711dcc1dfe103560c,Prevent clean-up of migrating instances on compute init,MERGED,2014-05-16 12:40:55.000000000,2014-06-17 05:49:50.000000000,2014-06-17 05:49:48.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1247}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 1882}, {'_account_id': 2271}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 6896}, {'_account_id': 7133}, {'_account_id': 7975}, {'_account_id': 8430}, {'_account_id': 8871}, {'_account_id': 8922}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10663}]","[{'number': 1, 'created': '2014-05-16 12:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0e7e1c3802d09a37047b3aa1b91795dd399b2b3', 'message': ""WIP: Prevent clean-up of migrating instances on compute init\n\nDuring compute manager startup init_host is called. One\nof the functions this carries out is to delete instance\ndata that doesn't belong to this host this function only\nchecks if the local instance belongs to the host or not.\nIt doesn't check the task_state. This could result in the\nloss of all instance data if it occured at the wrong\npoint during live migration.\n\nThis change checks if the task_state of the instance to\nbe deleted is MIGRATING and if so it does not delete the\ninstance.\n\nChange-Id: Ia8c67acf93d71af868907f0711dcc1dfe103560c\nCloses-Bug: 1319797\n""}, {'number': 2, 'created': '2014-05-16 14:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98d94ebfaf7808ac099f957e1a3cdba8aef321a8', 'message': ""WIP: Prevent clean-up of migrating instances on compute init\n\nDuring compute manager startup init_host is called. One\nof the functions this carries out is to delete instance\ndata that doesn't belong to this host this function only\nchecks if the local instance belongs to the host or not.\nIt doesn't check the task_state. This could result in the\nloss of all instance data if it occured at the wrong\npoint during live migration.\n\nThis change checks if the task_state of the instance to\nbe deleted is MIGRATING and if so it does not delete the\ninstance.\n\nChange-Id: Ia8c67acf93d71af868907f0711dcc1dfe103560c\nCloses-Bug: 1319797\n""}, {'number': 3, 'created': '2014-05-19 15:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94cf50a1ba6c9f45ee3473cbdcf2cb5969c43c0c', 'message': ""Prevent clean-up of migrating instances on compute init\n\nDuring compute manager startup init_host is called. One\nof the functions this carries out is to delete instance\ndata that doesn't belong to this host this function only\nchecks if the local instance belongs to the host or not.\nIt doesn't check the task_state. This could result in the\nloss of all instance data if it occured at the wrong\npoint during live migration.\n\nThis change checks if the task_state of the instance to\nbe deleted is MIGRATING and if so it does not delete the\ninstance.\n\nChange-Id: Ia8c67acf93d71af868907f0711dcc1dfe103560c\nCloses-Bug: 1319797\n""}, {'number': 4, 'created': '2014-05-21 11:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1db3402978e1634a593297ba699fca2993eeba7', 'message': ""Prevent clean-up of migrating instances on compute init\n\nDuring compute manager startup init_host is called. One\nof the functions this carries out is to delete instance\ndata that doesn't belong to this host this function only\nchecks if the local instance belongs to the host or not.\nIt doesn't check the task_state. This could result in the\nloss of all instance data if it occured at the wrong\npoint during live migration.\n\nThis change checks if the task_state of the instance to\nbe deleted is MIGRATING and if so it does not delete the\ninstance.\n\nChange-Id: Ia8c67acf93d71af868907f0711dcc1dfe103560c\nCloses-Bug: 1319797\n""}, {'number': 5, 'created': '2014-05-21 18:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3b0fc49950a48953e33b0707c7ac5f2df4c730b', 'message': ""Prevent clean-up of migrating instances on compute init\n\nDuring compute manager startup init_host is called. One\nof the functions this carries out is to delete instance\ndata that doesn't belong to this host this function only\nchecks if the local instance belongs to the host or not.\nIt doesn't check the task_state. This could result in the\nloss of all instance data if it occured at the wrong\npoint during live migration.\n\nThis change checks if the task_state of the instance to\nbe deleted is MIGRATING and if so it does not delete the\ninstance.\n\nChange-Id: Ia8c67acf93d71af868907f0711dcc1dfe103560c\nCloses-Bug: 1319797\n""}, {'number': 6, 'created': '2014-05-28 12:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/625d23638c99df6583dd1979d6e41b8c2ce20b59', 'message': ""Prevent clean-up of migrating instances on compute init\n\nDuring compute manager startup init_host is called. One\nof the functions this carries out is to delete instance\ndata that doesn't belong to this host this function only\nchecks if the local instance belongs to the host or not.\nIt doesn't check the task_state. This could result in the\nloss of all instance data if it occured at the wrong\npoint during live migration.\n\nThis change checks if the task_state of the instance to\nbe deleted is MIGRATING and if so it does not delete the\ninstance.\n\nChange-Id: Ia8c67acf93d71af868907f0711dcc1dfe103560c\nCloses-Bug: 1319797\n""}, {'number': 7, 'created': '2014-06-03 13:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8785ba404eee251a6678a010de01ab13e32720b0', 'message': ""Prevent clean-up of migrating instances on compute init\n\nDuring compute manager startup init_host is called. One\nof the functions this carries out is to delete instance\ndata that doesn't belong to this host this function only\nchecks if the local instance belongs to the host or not.\nIt doesn't check the task_state. This could result in the\nloss of all instance data if it occured at the wrong\npoint during live migration.\n\nThis change checks if the task_state of the instance to\nbe deleted is MIGRATING and if so it does not delete the\ninstance. Similarily for the task state RESIZE_MIGRATING.\n\nChange-Id: Ia8c67acf93d71af868907f0711dcc1dfe103560c\nCloses-Bug: 1319797\n""}, {'number': 8, 'created': '2014-06-03 13:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/506fcfbc2f1f65e12b5d774e4a1b81db95f9a13a', 'message': ""Prevent clean-up of migrating instances on compute init\n\nDuring compute manager startup init_host is called. One\nof the functions this carries out is to delete instance\ndata that doesn't belong to this host this function only\nchecks if the local instance belongs to the host or not.\nIt doesn't check the task_state. This could result in the\nloss of all instance data if it occured at the wrong\npoint during live migration.\n\nThis change checks if the task_state of the instance to\nbe deleted is MIGRATING and if so it does not delete the\ninstance. Similarily for the task state RESIZE_MIGRATING.\n\nChange-Id: Ia8c67acf93d71af868907f0711dcc1dfe103560c\nCloses-Bug: 1319797\n""}, {'number': 9, 'created': '2014-06-09 08:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/464cc973314b81d0ced5ff5b6cd9358102e84930', 'message': ""Prevent clean-up of migrating instances on compute init\n\nDuring compute manager startup init_host is called. One\nof the functions this carries out is to delete instance\ndata that doesn't belong to this host this function only\nchecks if the local instance belongs to the host or not.\nIt doesn't check the task_state. This could result in the\nloss of all instance data if it occured at the wrong\npoint during live migration.\n\nThis change checks if the task_state of the instance to\nbe deleted is MIGRATING and if so it does not delete the\ninstance. Similarily for the task state RESIZE_MIGRATING.\n\nChange-Id: Ia8c67acf93d71af868907f0711dcc1dfe103560c\nCloses-Bug: 1319797\n""}, {'number': 10, 'created': '2014-06-13 13:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f29e0a4d953341e0adcaf5cac1e542590bf0b09b', 'message': ""Prevent clean-up of migrating instances on compute init\n\nDuring compute manager startup init_host is called. One\nof the functions this carries out is to delete instance\ndata that doesn't belong to this host this function only\nchecks if the local instance belongs to the host or not.\nIt doesn't check the task_state. This could result in the\nloss of all instance data if it occured at the wrong\npoint during live migration.\n\nThis change checks if the task_state of the instance to\nbe deleted is MIGRATING and if so it does not delete the\ninstance. Similarily for the task state RESIZE_MIGRATING.\n\nChange-Id: Ia8c67acf93d71af868907f0711dcc1dfe103560c\nCloses-Bug: 1319797\n""}, {'number': 11, 'created': '2014-06-16 14:37:19.000000000', 'files': ['nova/tests/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/340cae5466eaf5568c4f0eecb2a2fa7cdbcc0ba4', 'message': ""Prevent clean-up of migrating instances on compute init\n\nDuring compute manager startup init_host is called. One\nof the functions this carries out is to delete instance\ndata that doesn't belong to this host this function only\nchecks if the local instance belongs to the host or not.\nIt doesn't check the task_state. This could result in the\nloss of all instance data if it occured at the wrong\npoint during live migration.\n\nThis change checks if the task_state of the instance to\nbe deleted is MIGRATING and if so it does not delete the\ninstance. Similarily for the task state RESIZE_MIGRATING.\n\nChange-Id: Ia8c67acf93d71af868907f0711dcc1dfe103560c\nCloses-Bug: 1319797\n""}]",17,93903,340cae5466eaf5568c4f0eecb2a2fa7cdbcc0ba4,155,21,11,1882,,,0,"Prevent clean-up of migrating instances on compute init

During compute manager startup init_host is called. One
of the functions this carries out is to delete instance
data that doesn't belong to this host this function only
checks if the local instance belongs to the host or not.
It doesn't check the task_state. This could result in the
loss of all instance data if it occured at the wrong
point during live migration.

This change checks if the task_state of the instance to
be deleted is MIGRATING and if so it does not delete the
instance. Similarily for the task state RESIZE_MIGRATING.

Change-Id: Ia8c67acf93d71af868907f0711dcc1dfe103560c
Closes-Bug: 1319797
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/93903/11 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,c0e7e1c3802d09a37047b3aa1b91795dd399b2b3,bug/1319797," if instance.task_state == task_states.MIGRATING: LOG.info(_('Ignoring instance as its host (' '%(instance_host)s) is not equal to our ' 'host (%(our_host)s) but its state is ' '(%(task_state)s)' ), {'instance_host': instance.host, 'our_host': our_host, 'task_state':instance.task_state}, instance=instance) elif instance.host != our_host:", if instance.host != our_host:,9,1
openstack%2Fopenstack-doc-tools~master~I4a193abe2634f21b52ba61c5692fe03061ac7fd3,openstack/openstack-doc-tools,master,I4a193abe2634f21b52ba61c5692fe03061ac7fd3,Fix the target argument,MERGED,2014-06-16 19:21:27.000000000,2014-06-17 05:47:47.000000000,2014-06-17 05:47:47.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 7923}]","[{'number': 1, 'created': '2014-06-16 19:21:27.000000000', 'files': ['autogenerate_config_docs/autohelp.py'], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/a2da2135f1d033196d35fd38a6aefdc374cf2004', 'message': ""Fix the target argument\n\nWe always explicitely pass a target argument to the write_docbook*\nfunctions, so we can't use a default value for it. This patch makes the\ntarget argument mandatory.\n\nChange-Id: I4a193abe2634f21b52ba61c5692fe03061ac7fd3\n""}]",0,100332,a2da2135f1d033196d35fd38a6aefdc374cf2004,8,3,1,7923,,,0,"Fix the target argument

We always explicitely pass a target argument to the write_docbook*
functions, so we can't use a default value for it. This patch makes the
target argument mandatory.

Change-Id: I4a193abe2634f21b52ba61c5692fe03061ac7fd3
",git fetch https://review.opendev.org/openstack/openstack-doc-tools refs/changes/32/100332/1 && git format-patch -1 --stdout FETCH_HEAD,['autogenerate_config_docs/autohelp.py'],1,a2da2135f1d033196d35fd38a6aefdc374cf2004,fix-target-arg,"def write_docbook(package_name, options, target, verbose=0): target = target or '../../doc/common/tables/'def write_docbook_rootwrap(package_name, repo, target, verbose=0): target = target or '../../doc/common/tables/' write_docbook(package_name, options, args.target, verbose=args.verbose) write_docbook_rootwrap(package_name, args.repo, args.target, verbose=args.verbose)","def write_docbook(package_name, options, verbose=0, target='../../doc/common/tables/'):def write_docbook_rootwrap(package_name, repo, verbose=0, target='../../doc/common/tables/'): write_docbook(package_name, options, verbose=args.verbose, target=args.target) write_docbook_rootwrap(package_name, args.repo, verbose=args.verbose, target=args.target)",8,9
openstack%2Fpython-glanceclient~master~I1d22379c320adb47a2178697e546413b9257f987,openstack/python-glanceclient,master,I1d22379c320adb47a2178697e546413b9257f987,progress flag not supported in v2 API,MERGED,2014-03-24 11:11:59.000000000,2014-06-17 05:38:14.000000000,2014-06-17 05:38:13.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 2537}, {'_account_id': 6159}, {'_account_id': 6484}, {'_account_id': 6549}, {'_account_id': 9101}, {'_account_id': 9126}, {'_account_id': 9569}]","[{'number': 2, 'created': '2014-03-24 11:11:59.000000000', 'files': ['glanceclient/v2/shell.py', 'tests/v2/test_shell_v2.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/86191005979256512ecbd026828d1968ab3b7780', 'message': 'progress flag not supported in v2 API\n\nCurrently only download method supports --progress flag in v2 API.\nThis patch let upload method in v2 API support this flag too.\n\nChange-Id: I1d22379c320adb47a2178697e546413b9257f987\nCloses-Bug: #1286265\n'}, {'number': 1, 'created': '2014-03-24 11:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/e707232787d4bc6495f1703f62d229e1d204d71d', 'message': 'progress flag not supported in v2 API\n\nCurrently only download method supports --progress flag in v2 API.\nThis patch let upload method in v2 API support this flag too.\n\nChange-Id: I1d22379c320adb47a2178697e546413b9257f987\nCloses-Bug: #1286265\n'}]",0,82476,86191005979256512ecbd026828d1968ab3b7780,34,9,2,9101,,,0,"progress flag not supported in v2 API

Currently only download method supports --progress flag in v2 API.
This patch let upload method in v2 API support this flag too.

Change-Id: I1d22379c320adb47a2178697e546413b9257f987
Closes-Bug: #1286265
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/76/82476/2 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/v2/shell.py', 'tests/v2/test_shell_v2.py']",2,86191005979256512ecbd026828d1968ab3b7780,bug/1286265," args = self._make_args( {'id': 'IMG-01', 'file': 'test', 'size': 1024, 'progress': False}) def test_image_upload_with_progressbar(self): args = self._make_args( {'id': 'IMG-01', 'file': 'test', 'size': 1024, 'progress': True}) with mock.patch.object(self.gc.images, 'upload') as mocked_upload: utils.get_data_file = mock.Mock(return_value='testfile') utils.get_file_size = mock.Mock(return_value=8) mocked_upload.return_value = None test_shell.do_image_upload(self.gc, args) self.assertIsInstance(mocked_upload.call_args[0][1], progressbar.VerboseFileWrapper) "," args = self._make_args({'id': 'IMG-01', 'file': 'test', 'size': 1024})",21,3
openstack%2Ftripleo-image-elements~master~Ieac3703dc910ccb420e1a5a1cdc40105bd4f067a,openstack/tripleo-image-elements,master,Ieac3703dc910ccb420e1a5a1cdc40105bd4f067a,Start openvswitch-switch early in upstart,MERGED,2014-05-28 18:50:51.000000000,2014-06-17 05:36:35.000000000,2014-06-17 03:31:30.000000000,"[{'_account_id': 3}, {'_account_id': 215}, {'_account_id': 4190}, {'_account_id': 6488}, {'_account_id': 6969}]","[{'number': 1, 'created': '2014-05-28 18:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/13ebb7240b100993905a8ef5358de84ec0342906', 'message': 'Start the cloud-init nic before cloud-init\n\nOn nodes where openvswitch-switch runs and we have run ensure-bridge\nwe can have problems rebooting.  Cloud-init waits for\nstatic-network-up which cannot occur until after openvswitch-switch\nhas started, but that is not until System-V start scripts are run.\n\nWorkaround this by adding an allow-cloud-init line into the interfaces\nconfiguration and adding an init script to specifically ifup that\nclass of device.\n\nThis ensures that the device that can talk to the metadata server is\navailable for cloud-init when it runs.\n\nChange-Id: Ieac3703dc910ccb420e1a5a1cdc40105bd4f067a\nCloses-bug: #1314573\n'}, {'number': 2, 'created': '2014-05-29 11:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/24c070afedb8052ac25a5fabca15b2b990e4dd28', 'message': 'Start openvswitch-switch early in upstart\n\nWhen there is a bridge configuration in the interfaces definition the\nopenvswitch-switch service needs to be started early.\n\nThis ensures that the metadata server is available for cloud-init when\nit runs.\n\nChange-Id: Ieac3703dc910ccb420e1a5a1cdc40105bd4f067a\nCloses-bug: #1314573\n'}, {'number': 3, 'created': '2014-05-30 17:28:35.000000000', 'files': ['elements/network-utils/install.d/70-network-utils'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/7781738f9644b27ae0b8c4f29b9dc2bf32374946', 'message': 'Start openvswitch-switch early in upstart\n\nWhen there is a bridge configuration in the interfaces definition the\nopenvswitch-switch service needs to be started early.\n\nThis ensures that the metadata server is available for cloud-init when\nit runs.\n\nChange-Id: Ieac3703dc910ccb420e1a5a1cdc40105bd4f067a\nCloses-bug: #1314573\n'}]",4,96221,7781738f9644b27ae0b8c4f29b9dc2bf32374946,33,5,3,215,,,0,"Start openvswitch-switch early in upstart

When there is a bridge configuration in the interfaces definition the
openvswitch-switch service needs to be started early.

This ensures that the metadata server is available for cloud-init when
it runs.

Change-Id: Ieac3703dc910ccb420e1a5a1cdc40105bd4f067a
Closes-bug: #1314573
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/21/96221/3 && git format-patch -1 --stdout FETCH_HEAD,"['elements/network-utils/install.d/70-network-utils', 'elements/network-utils/bin/ensure-bridge']",2,13ebb7240b100993905a8ef5358de84ec0342906,ovs-upstart,allow-cloud-init $interface iface $interface inet dhcp,,37,0
openstack%2Fpython-openstackclient~master~I123a64c9b4feecab25a3e2013cc047f55b1c9967,openstack/python-openstackclient,master,I123a64c9b4feecab25a3e2013cc047f55b1c9967,Image create and set command updates and tests,MERGED,2014-05-08 17:44:03.000000000,2014-06-17 05:36:07.000000000,2014-06-17 05:36:07.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 6482}, {'_account_id': 8736}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-05-08 17:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a703f76bc4510ceb2554811a7caa65f3ce2a1927', 'message': ""Image set command updates and tests\n\nProperties were not being updated correctly in the 'image set' command.\nRefactor it to use the same pattern as in other SetXxx commands.\nAdd tests for arg handling.\n\nChange-Id: I123a64c9b4feecab25a3e2013cc047f55b1c9967\n""}, {'number': 2, 'created': '2014-05-08 19:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5e1b1f2774e8a9190d3a0dd691d94d197ca9e765', 'message': ""Image set command updates and tests\n\nProperties were not being updated correctly in the 'image set' command.\nRefactor it to use the same pattern as in other SetXxx commands.\nAdd tests for arg handling.\n\nChange-Id: I123a64c9b4feecab25a3e2013cc047f55b1c9967\n""}, {'number': 3, 'created': '2014-05-12 14:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/48682c5426615a03f779331acb943ea2efa6aa96', 'message': ""Image create and set command updates and tests\n\nRefactor image create and set commands to properly handle properties.\n\nProperties were not being updated correctly in the 'image set' command.\nRefactor it to use the same pattern as in other SetXxx commands.\nAdd tests for arg handling.\n\nChange-Id: I123a64c9b4feecab25a3e2013cc047f55b1c9967\n""}, {'number': 4, 'created': '2014-05-13 18:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a59ca4030cd408374b729a9acb4211a8725e5311', 'message': ""Image create and set command updates and tests\n\nRefactor image create and set commands to properly handle properties.\n\nProperties were not being updated correctly in the 'image set' command.\nRefactor it to use the same pattern as in other SetXxx commands.\nAdd tests for arg handling.\n\nChange-Id: I123a64c9b4feecab25a3e2013cc047f55b1c9967\n""}, {'number': 5, 'created': '2014-06-09 17:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a0fee4af8a7f022341444a9a0783e94282f3f4c1', 'message': ""Image create and set command updates and tests\n\nRefactor image create and set commands to properly handle properties.\nThis is particularly tricky with exclusive booleans as in this case leaving\nboth choices off the command line should NOT assume a default value but\nleave the existing value unchanged.\n\nProperties were not being updated correctly in the 'image set' command.\nRefactor it to use the same pattern as in other SetXxx commands.\nAdd tests for arg handling.\n\nChange-Id: I123a64c9b4feecab25a3e2013cc047f55b1c9967\n""}, {'number': 6, 'created': '2014-06-13 22:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/eff0b6eb828dc23776ac60fe79c04bd0bf108a13', 'message': ""Image create and set command updates and tests\n\nRefactor image create and set commands to properly handle properties.\nThis is particularly tricky with exclusive booleans as in this case leaving\nboth choices off the command line should NOT assume a default value but\nleave the existing value unchanged.\n\nProperties were not being updated correctly in the 'image set' command.\nRefactor it to use the same pattern as in other SetXxx commands.\nAdd tests for arg handling.\n\nChange-Id: I123a64c9b4feecab25a3e2013cc047f55b1c9967\n""}, {'number': 7, 'created': '2014-06-17 03:30:53.000000000', 'files': ['openstackclient/image/v1/image.py', 'openstackclient/tests/image/v1/fakes.py', 'openstackclient/tests/image/v1/test_image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6380b8b95918a42cee63c21b90f7d8d55854d0c8', 'message': ""Image create and set command updates and tests\n\nRefactor image create and set commands to properly handle properties.\nThis is particularly tricky with exclusive booleans as in this case leaving\nboth choices off the command line should NOT assume a default value but\nleave the existing value unchanged.\n\nProperties were not being updated correctly in the 'image set' command.\nRefactor it to use the same pattern as in other SetXxx commands.\nAdd tests for arg handling.\n\nChange-Id: I123a64c9b4feecab25a3e2013cc047f55b1c9967\n""}]",15,92878,6380b8b95918a42cee63c21b90f7d8d55854d0c8,43,5,7,970,,,0,"Image create and set command updates and tests

Refactor image create and set commands to properly handle properties.
This is particularly tricky with exclusive booleans as in this case leaving
both choices off the command line should NOT assume a default value but
leave the existing value unchanged.

Properties were not being updated correctly in the 'image set' command.
Refactor it to use the same pattern as in other SetXxx commands.
Add tests for arg handling.

Change-Id: I123a64c9b4feecab25a3e2013cc047f55b1c9967
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/78/92878/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/image/v1/image.py', 'openstackclient/tests/image/v1/fakes.py', 'openstackclient/tests/image/v1/test_image.py']",3,a703f76bc4510ceb2554811a7caa65f3ce2a1927,dt," class TestImageSet(TestImage): def setUp(self): super(TestImageSet, self).setUp() # This is the return value for utils.find_resource() self.images_mock.get.return_value = fakes.FakeResource( None, copy.deepcopy(image_fakes.IMAGE), loaded=True, ) self.images_mock.update.return_value = fakes.FakeResource( None, copy.deepcopy(image_fakes.IMAGE), loaded=True, ) # Get the command object to test self.cmd = image.SetImage(self.app, None) def test_image_set_no_options(self): arglist = [ image_fakes.image_name, ] verifylist = [ ('image', image_fakes.image_name), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) # DisplayCommandBase.take_action() returns two tuples self.cmd.take_action(parsed_args) # Verify update() was not called, if it was show the args self.assertItemsEqual(self.images_mock.update.call_args_list, []) def test_image_set_options(self): arglist = [ image_fakes.image_name, '--name', 'new-name', '--owner', 'new-owner', '--min-disk', '2', '--min-ram', '4', ] verifylist = [ ('image', image_fakes.image_name), ('name', 'new-name'), ('owner', 'new-owner'), ('min_disk', '2'), ('min_ram', '4'), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) # DisplayCommandBase.take_action() returns two tuples self.cmd.take_action(parsed_args) kwargs = { 'name': 'new-name', 'owner': 'new-owner', 'min_disk': '2', 'min_ram': '4', } # ImageManager.update(image, **kwargs) self.images_mock.update.assert_called_with( image_fakes.image_id, **kwargs ) def test_image_set_bools1(self): arglist = [ image_fakes.image_name, '--protected', '--private', ] verifylist = [ ('image', image_fakes.image_name), ('protected', True), ('unprotected', False), ('public', False), ('private', True), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) # DisplayCommandBase.take_action() returns two tuples self.cmd.take_action(parsed_args) kwargs = { 'protected': True, 'is_public': False, } # ImageManager.update(image, **kwargs) self.images_mock.update.assert_called_with( image_fakes.image_id, **kwargs ) def test_image_set_bools2(self): arglist = [ image_fakes.image_name, '--unprotected', '--public', ] verifylist = [ ('image', image_fakes.image_name), ('protected', False), ('unprotected', True), ('public', True), ('private', False), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) # DisplayCommandBase.take_action() returns two tuples self.cmd.take_action(parsed_args) kwargs = { 'protected': False, 'is_public': True, } # ImageManager.update(image, **kwargs) self.images_mock.update.assert_called_with( image_fakes.image_id, **kwargs ) def test_image_set_properties(self): arglist = [ image_fakes.image_name, '--property', 'Alpha=1', '--property', 'Beta=2', ] verifylist = [ ('image', image_fakes.image_name), ('properties', {'Alpha': '1', 'Beta': '2'}), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) # DisplayCommandBase.take_action() returns two tuples self.cmd.take_action(parsed_args) kwargs = { 'properties': { 'Alpha': '1', 'Beta': '2', 'Gamma': 'g', }, } # ImageManager.update(image, **kwargs) self.images_mock.update.assert_called_with( image_fakes.image_id, **kwargs )",,188,23
openstack%2Ftempest~master~I3e753c81182af83e01ad3a1f2eb9782c8abb6f50,openstack/tempest,master,I3e753c81182af83e01ad3a1f2eb9782c8abb6f50,Clarify API extension description of Nova API,MERGED,2014-05-06 02:06:03.000000000,2014-06-17 05:35:27.000000000,2014-06-17 05:35:26.000000000,"[{'_account_id': 3}, {'_account_id': 5174}, {'_account_id': 5196}, {'_account_id': 5292}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7139}, {'_account_id': 7350}, {'_account_id': 7428}, {'_account_id': 8556}, {'_account_id': 8824}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-05-06 02:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e23882d6555e726a099bb50f693daed469b1105a', 'message': 'Clarify API extension description of Nova API\n\nOn Nova API, we can see two names for each API extension. The one is\n""Name"", the other is ""Alias"". The ""Name"" is represented with camelcase\nand the ""Alias"" is done with characters and hyphens:\n\n $ nova list-extensions\n +--------------+-----------------------+------------------+---------+\n | Name         | Summary               | Alias            | Updated |\n +--------------+-----------------------+------------------+---------+\n | AdminActions | Enable admin-only ... | os-admin-actions | ...     |\n | Agents       | Agents support.       | os-agents        | ...     |\n | ConsoleOutput| Console log output... | os-console-output| ...     |\n | Consoles     | Interactive Console.. | os-consoles      | ...     |\n\nIn Tempest, we can select API extensions what we test and it should be\nbased on ""Alias"". This patch clarifies it.\n\nChange-Id: I3e753c81182af83e01ad3a1f2eb9782c8abb6f50\n'}, {'number': 2, 'created': '2014-05-06 03:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1f4045079e5cf9f1ffac902586425b28eaed1ce0', 'message': 'Clarify API extension description of Nova API\n\nOn Nova API, we can see two names for each API extension. The one is\n""Name"", the other is ""Alias"". The ""Name"" is represented with camelcase\nand the ""Alias"" is done with characters and hyphens:\n\n $ nova list-extensions\n +--------------+-----------------------+------------------+---------+\n | Name         | Summary               | Alias            | Updated |\n +--------------+-----------------------+------------------+---------+\n | AdminActions | Enable admin-only ... | os-admin-actions | ...     |\n | Agents       | Agents support.       | os-agents        | ...     |\n | ConsoleOutput| Console log output... | os-console-output| ...     |\n | Consoles     | Interactive Console.. | os-consoles      | ...     |\n\nIn Tempest, we can select API extensions what we test and it should be\nbased on ""Alias"". This patch clarifies it.\n\nChange-Id: I3e753c81182af83e01ad3a1f2eb9782c8abb6f50\n'}, {'number': 3, 'created': '2014-05-06 23:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b3699bd04ded270aa6c809ac60bfe6e6ced2fa68', 'message': 'Clarify API extension description of Nova API\n\nOn Nova API, we can see two names for each API extension. The one is\n""Name"", the other is ""Alias"". The ""Name"" is represented with camelcase\nand the ""Alias"" is done with characters and hyphens:\n\n $ nova list-extensions\n +--------------+-----------------------+------------------+---------+\n | Name         | Summary               | Alias            | Updated |\n +--------------+-----------------------+------------------+---------+\n | AdminActions | Enable admin-only ... | os-admin-actions | ...     |\n | Agents       | Agents support.       | os-agents        | ...     |\n | ConsoleOutput| Console log output... | os-console-output| ...     |\n | Consoles     | Interactive Console.. | os-consoles      | ...     |\n\nIn Tempest, we can select API extensions what we test and it should be\nbased on ""Alias"". This patch clarifies it.\n\nChange-Id: I3e753c81182af83e01ad3a1f2eb9782c8abb6f50\n'}, {'number': 4, 'created': '2014-05-08 14:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a8eea4623e57f2a9746d61e76876d49bed05e928', 'message': 'Clarify API extension description of Nova API\n\nOn Nova API, we can see two names for each API extension. The one is\n""Name"", the other is ""Alias"". The ""Name"" is represented with camelcase\nand the ""Alias"" is done with characters and hyphens:\n\n $ nova list-extensions\n +--------------+-----------------------+------------------+---------+\n | Name         | Summary               | Alias            | Updated |\n +--------------+-----------------------+------------------+---------+\n | AdminActions | Enable admin-only ... | os-admin-actions | ...     |\n | Agents       | Agents support.       | os-agents        | ...     |\n | ConsoleOutput| Console log output... | os-console-output| ...     |\n | Consoles     | Interactive Console.. | os-consoles      | ...     |\n\nIn Tempest, we can select API extensions what we test and it should be\nbased on ""Alias"". This patch clarifies it.\n\nChange-Id: I3e753c81182af83e01ad3a1f2eb9782c8abb6f50\n'}, {'number': 5, 'created': '2014-05-12 16:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8a37e1f5db1205eed1e5ffe3ec6e7245b22f867d', 'message': 'Clarify API extension description of Nova API\n\nOn Nova API, we can see two names for each API extension. The one is\n""Name"", the other is ""Alias"". The ""Name"" is represented with camelcase\nand the ""Alias"" is done with characters and hyphens:\n\n $ nova list-extensions\n +--------------+-----------------------+------------------+---------+\n | Name         | Summary               | Alias            | Updated |\n +--------------+-----------------------+------------------+---------+\n | AdminActions | Enable admin-only ... | os-admin-actions | ...     |\n | Agents       | Agents support.       | os-agents        | ...     |\n | ConsoleOutput| Console log output... | os-console-output| ...     |\n | Consoles     | Interactive Console.. | os-consoles      | ...     |\n\nIn Tempest, we can select API extensions what we test and it should be\nbased on ""Alias"". This patch clarifies it.\n\nChange-Id: I3e753c81182af83e01ad3a1f2eb9782c8abb6f50\n'}, {'number': 6, 'created': '2014-05-29 06:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/57394d50cedd5d0fd0f8c35fcd41ba657e4d1dee', 'message': 'Clarify API extension description of Nova API\n\nOn Nova API, we can see two names for each API extension. The one is\n""Name"", the other is ""Alias"". The ""Name"" is represented with camelcase\nand the ""Alias"" is done with characters and hyphens:\n\n $ nova list-extensions\n +--------------+-----------------------+------------------+---------+\n | Name         | Summary               | Alias            | Updated |\n +--------------+-----------------------+------------------+---------+\n | AdminActions | Enable admin-only ... | os-admin-actions | ...     |\n | Agents       | Agents support.       | os-agents        | ...     |\n | ConsoleOutput| Console log output... | os-console-output| ...     |\n | Consoles     | Interactive Console.. | os-consoles      | ...     |\n\nIn Tempest, we can select API extensions what we test and it should be\nbased on ""Alias"", because on Nova side we have been a lot stricter about\nformat/uniqueness for the alias which is seen as the canonical name.\nThis patch clarifies it.\n\nChange-Id: I3e753c81182af83e01ad3a1f2eb9782c8abb6f50\n'}, {'number': 7, 'created': '2014-06-04 07:50:06.000000000', 'files': ['tempest/api/compute/admin/test_flavors_access_negative.py', 'tempest/tests/cmd/test_verify_tempest_config.py', 'tempest/api/compute/admin/test_flavors_access.py', 'tempest/cmd/verify_tempest_config.py', 'etc/tempest.conf.sample', 'tempest/api/compute/admin/test_flavors_extra_specs.py', 'tempest/config.py', 'tempest/api/compute/admin/test_flavors_negative.py', 'tempest/api/compute/admin/test_flavors_extra_specs_negative.py', 'tempest/api/compute/admin/test_flavors.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a7e6871604d9e6813c6beaeb8d51c30873b46bab', 'message': 'Clarify API extension description of Nova API\n\nOn Nova API, we can see two names for each API extension. The one is\n""Name"", the other is ""Alias"". The ""Name"" is represented with camelcase\nand the ""Alias"" is done with characters and hyphens:\n\n $ nova list-extensions\n +--------------+-----------------------+------------------+---------+\n | Name         | Summary               | Alias            | Updated |\n +--------------+-----------------------+------------------+---------+\n | AdminActions | Enable admin-only ... | os-admin-actions | ...     |\n | Agents       | Agents support.       | os-agents        | ...     |\n | ConsoleOutput| Console log output... | os-console-output| ...     |\n | Consoles     | Interactive Console.. | os-consoles      | ...     |\n\nIn Tempest, we can select API extensions what we test and it should be\nbased on ""Alias"", because on Nova side we have been a lot stricter about\nformat/uniqueness for the alias which is seen as the canonical name.\nThis patch clarifies it.\n\nChange-Id: I3e753c81182af83e01ad3a1f2eb9782c8abb6f50\n'}]",7,92277,a7e6871604d9e6813c6beaeb8d51c30873b46bab,102,15,7,6167,,,0,"Clarify API extension description of Nova API

On Nova API, we can see two names for each API extension. The one is
""Name"", the other is ""Alias"". The ""Name"" is represented with camelcase
and the ""Alias"" is done with characters and hyphens:

 $ nova list-extensions
 +--------------+-----------------------+------------------+---------+
 | Name         | Summary               | Alias            | Updated |
 +--------------+-----------------------+------------------+---------+
 | AdminActions | Enable admin-only ... | os-admin-actions | ...     |
 | Agents       | Agents support.       | os-agents        | ...     |
 | ConsoleOutput| Console log output... | os-console-output| ...     |
 | Consoles     | Interactive Console.. | os-consoles      | ...     |

In Tempest, we can select API extensions what we test and it should be
based on ""Alias"", because on Nova side we have been a lot stricter about
format/uniqueness for the alias which is seen as the canonical name.
This patch clarifies it.

Change-Id: I3e753c81182af83e01ad3a1f2eb9782c8abb6f50
",git fetch https://review.opendev.org/openstack/tempest refs/changes/77/92277/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/tempest.conf.sample', 'tempest/config.py']",2,e23882d6555e726a099bb50f693daed469b1105a,explain-alias-name," 'entry all which indicates every extension is enabled. ' 'Each extension should be specified with alias name'), ' which indicates every extension is enabled. ' 'Each extension should be specified with alias name'),"," 'entry all which indicates every extension is enabled'), ' which indicates every extension is enabled'),",8,4
openstack%2Fneutron~stable%2Ficehouse~Ic5eedb8057c7f4934eed08869ebf55c91e6edfc9,openstack/neutron,stable/icehouse,Ic5eedb8057c7f4934eed08869ebf55c91e6edfc9,Metadata agent caches networks for routers,MERGED,2014-05-26 10:30:33.000000000,2014-06-17 05:35:19.000000000,2014-06-17 05:35:18.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 841}, {'_account_id': 1955}, {'_account_id': 2592}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 8655}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9925}, {'_account_id': 10117}, {'_account_id': 10153}, {'_account_id': 10192}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 11515}]","[{'number': 1, 'created': '2014-05-26 10:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/073ee3d8d5b6a27efc00a8dd7df78f23061096df', 'message': ""Metadata agent caches networks for routers\n\nDuring cloud-init there are several calls that asks neutron API for the\nsame data which will not be most likely changed. Specifically router's\nnetworks are cached.\n\nCloses-bug: #1276440\n\nConflicts:\n\tneutron/tests/unit/test_metadata_agent.py\n\nChange-Id: Ic5eedb8057c7f4934eed08869ebf55c91e6edfc9\n(cherry picked from commit 3faea81c6029033c85cefd6e98d7a3e719e858f5)\n""}, {'number': 2, 'created': '2014-06-10 15:51:39.000000000', 'files': ['etc/metadata_agent.ini', 'neutron/agent/metadata/agent.py', 'neutron/tests/unit/test_metadata_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce712b2ab56f2aeaf9fe01929c0034ef8f4a766a', 'message': ""Metadata agent caches networks for routers\n\nDuring cloud-init there are several calls that asks neutron API for the\nsame data which will not be most likely changed. Specifically router's\nnetworks are cached.\n\nCloses-bug: #1276440\n\nConflicts:\n\tneutron/tests/unit/test_metadata_agent.py\n\nChange-Id: Ic5eedb8057c7f4934eed08869ebf55c91e6edfc9\n(cherry picked from commit 3faea81c6029033c85cefd6e98d7a3e719e858f5)\n""}]",1,95491,ce712b2ab56f2aeaf9fe01929c0034ef8f4a766a,48,17,2,8655,,,0,"Metadata agent caches networks for routers

During cloud-init there are several calls that asks neutron API for the
same data which will not be most likely changed. Specifically router's
networks are cached.

Closes-bug: #1276440

Conflicts:
	neutron/tests/unit/test_metadata_agent.py

Change-Id: Ic5eedb8057c7f4934eed08869ebf55c91e6edfc9
(cherry picked from commit 3faea81c6029033c85cefd6e98d7a3e719e858f5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/95491/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/metadata_agent.ini', 'neutron/agent/metadata/agent.py', 'neutron/tests/unit/test_metadata_agent.py']",3,073ee3d8d5b6a27efc00a8dd7df78f23061096df,bug/1276440,"import contextlib cache_url = '' class FakeConfCache(FakeConf): cache_url = 'memory://?default_ttl=5' class TestMetadataProxyHandlerCache(base.BaseTestCase): fake_conf = FakeConfCache def setUp(self): super(TestMetadataProxyHandlerCache, self).setUp() self.handler = agent.MetadataProxyHandler(self.fake_conf) def test_get_router_networks(self): router_id = 'router-id' expected = ('network_id1', 'network_id2') ports = {'ports': [{'network_id': 'network_id1', 'something': 42}, {'network_id': 'network_id2', 'something_else': 32}], 'not_used': [1, 2, 3]} mock_list_ports = self.qclient.return_value.list_ports mock_list_ports.return_value = ports networks = self.handler._get_router_networks(router_id) mock_list_ports.assert_called_once_with( device_id=router_id, device_owner=constants.DEVICE_OWNER_ROUTER_INTF) self.assertEqual(expected, networks) def _test_get_router_networks_twice_helper(self): router_id = 'router-id' ports = {'ports': [{'network_id': 'network_id1', 'something': 42}], 'not_used': [1, 2, 3]} expected_networks = ('network_id1',) with mock.patch( 'neutron.openstack.common.timeutils.utcnow_ts', return_value=0): mock_list_ports = self.qclient.return_value.list_ports mock_list_ports.return_value = ports networks = self.handler._get_router_networks(router_id) mock_list_ports.assert_called_once_with( device_id=router_id, device_owner=constants.DEVICE_OWNER_ROUTER_INTF) self.assertEqual(expected_networks, networks) networks = self.handler._get_router_networks(router_id) def test_get_router_networks_twice(self): self._test_get_router_networks_twice_helper() self.assertEqual( 1, self.qclient.return_value.list_ports.call_count) def test_get_ports_for_remote_address(self): remote_address = 'remote_address' networks = 'networks' fixed_ips = [""ip_address=%s"" % remote_address] ports = self.handler._get_ports_for_remote_address(remote_address, networks) mock_list_ports = self.qclient.return_value.list_ports mock_list_ports.assert_called_once_with( network_id=networks, fixed_ips=fixed_ips) self.assertEqual(mock_list_ports.return_value.__getitem__('ports'), ports) def _get_ports_for_remote_address_cache_hit_helper(self): remote_address = 'remote_address' networks = ('net1', 'net2') fixed_ips = [""ip_address=%s"" % remote_address] ports = self.handler._get_ports_for_remote_address(remote_address, networks) mock_list_ports = self.qclient.return_value.list_ports mock_list_ports.assert_called_once_with( network_id=networks, fixed_ips=fixed_ips) self.assertEqual( mock_list_ports.return_value.__getitem__('ports'), ports) self.assertEqual(1, mock_list_ports.call_count) self.handler._get_ports_for_remote_address(remote_address, networks) def test_get_ports_for_remote_address_cache_hit(self): self._get_ports_for_remote_address_cache_hit_helper() self.assertEqual( 1, self.qclient.return_value.list_ports.call_count) def test_get_ports_network_id(self): network_id = 'network-id' router_id = 'router-id' remote_address = 'remote-address' expected = ['port1'] networks = (network_id,) with contextlib.nested( mock.patch.object(self.handler, '_get_ports_for_remote_address'), mock.patch.object(self.handler, '_get_router_networks') ) as (mock_get_ip_addr, mock_get_router_networks): mock_get_ip_addr.return_value = expected ports = self.handler._get_ports(remote_address, network_id, router_id) mock_get_ip_addr.assert_called_once_with(remote_address, networks) self.assertFalse(mock_get_router_networks.called) self.assertEqual(expected, ports) def test_get_ports_router_id(self): router_id = 'router-id' remote_address = 'remote-address' expected = ['port1'] networks = ('network1', 'network2') with contextlib.nested( mock.patch.object(self.handler, '_get_ports_for_remote_address', return_value=expected), mock.patch.object(self.handler, '_get_router_networks', return_value=networks) ) as (mock_get_ip_addr, mock_get_router_networks): ports = self.handler._get_ports(remote_address, router_id=router_id) mock_get_router_networks.called_once_with(router_id) mock_get_ip_addr.assert_called_once_with(remote_address, networks) self.assertEqual(expected, ports) def test_get_ports_no_id(self): self.assertRaises(TypeError, self.handler._get_ports, 'remote_address') remote_address = '192.168.1.1' headers['X-Forwarded-For'] = remote_address new_qclient_call = mock.call( username=FakeConf.admin_user, tenant_name=FakeConf.admin_tenant_name, region_name=FakeConf.auth_region, auth_url=FakeConf.auth_url, password=FakeConf.admin_password, auth_strategy=FakeConf.auth_strategy, token=None, insecure=FakeConf.auth_insecure, ca_cert=FakeConf.auth_ca_cert, endpoint_url=None, endpoint_type=FakeConf.endpoint_type) expected = [new_qclient_call] expected.extend([ new_qclient_call, ]) expected.extend([ new_qclient_call, network_id=networks or tuple(), ]) networks = ('net1', 'net2') networks = ('net1', 'net2') networks=('the_id',)), networks=('the_id',)),class TestMetadataProxyHandlerNoCache(TestMetadataProxyHandlerCache): fake_conf = FakeConf def test_get_router_networks_twice(self): self._test_get_router_networks_twice_helper() self.assertEqual( 2, self.qclient.return_value.list_ports.call_count) def test_get_ports_for_remote_address_cache_hit(self): self._get_ports_for_remote_address_cache_hit_helper() self.assertEqual( 2, self.qclient.return_value.list_ports.call_count) "," class TestMetadataProxyHandler(base.BaseTestCase): def setUp(self): super(TestMetadataProxyHandler, self).setUp() self.handler = agent.MetadataProxyHandler(FakeConf) headers['X-Forwarded-For'] = '192.168.1.1' expected = [ mock.call( username=FakeConf.admin_user, tenant_name=FakeConf.admin_tenant_name, region_name=FakeConf.auth_region, auth_url=FakeConf.auth_url, password=FakeConf.admin_password, auth_strategy=FakeConf.auth_strategy, token=None, insecure=FakeConf.auth_insecure, ca_cert=FakeConf.auth_ca_cert, endpoint_url=None, endpoint_type=FakeConf.endpoint_type) ] expected.append( ) expected.append( network_id=networks or [], ) networks = ['net1', 'net2'] networks = ['net1', 'net2'] networks=['the_id']), networks=['the_id']),",216,39
openstack%2Fneutron~stable%2Ficehouse~Ibe3f1b2eb10b9601ad76ec24b7f0e3551b4013e2,openstack/neutron,stable/icehouse,Ibe3f1b2eb10b9601ad76ec24b7f0e3551b4013e2,Common decorator for caching methods,MERGED,2014-05-26 10:30:33.000000000,2014-06-17 05:33:32.000000000,2014-06-17 05:33:31.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1653}, {'_account_id': 2592}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 8655}, {'_account_id': 9732}, {'_account_id': 9925}, {'_account_id': 10117}, {'_account_id': 10153}, {'_account_id': 10192}, {'_account_id': 10387}, {'_account_id': 10503}]","[{'number': 1, 'created': '2014-05-26 10:30:33.000000000', 'files': ['neutron/tests/unit/test_common_utils.py', 'neutron/common/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ce5ef3536152a24af949899cd1787dacc994f37', 'message': ""Common decorator for caching methods\n\nDecorator caches methods' results, the key is composed from function\nname and its parameters. Implementation of cache itself should be in\nobject implementing decorated method. Cache backend should be taken\nfrom oslo-incubator.\n\nRelated-Bug: #1276440\n\nConflicts:\n\tneutron/common/utils.py\n\nChange-Id: Ibe3f1b2eb10b9601ad76ec24b7f0e3551b4013e2\n(cherry picked from commit 7508170498949818aed02ba0fd9b7f861e596320)\n""}]",0,95490,9ce5ef3536152a24af949899cd1787dacc994f37,30,14,1,8655,,,0,"Common decorator for caching methods

Decorator caches methods' results, the key is composed from function
name and its parameters. Implementation of cache itself should be in
object implementing decorated method. Cache backend should be taken
from oslo-incubator.

Related-Bug: #1276440

Conflicts:
	neutron/common/utils.py

Change-Id: Ibe3f1b2eb10b9601ad76ec24b7f0e3551b4013e2
(cherry picked from commit 7508170498949818aed02ba0fd9b7f861e596320)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/95490/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_common_utils.py', 'neutron/common/utils.py']",2,9ce5ef3536152a24af949899cd1787dacc994f37,bug/1276440,"import functoolsclass cache_method_results(object): """"""This decorator is intended for object methods only."""""" def __init__(self, func): self.func = func functools.update_wrapper(self, func) self._first_call = True self._not_cached = object() def _get_from_cache(self, target_self, *args, **kwargs): func_name = ""%(module)s.%(class)s.%(func_name)s"" % { 'module': target_self.__module__, 'class': target_self.__class__.__name__, 'func_name': self.func.__name__, } key = (func_name,) + args if kwargs: key += dict2tuple(kwargs) try: item = target_self._cache.get(key, self._not_cached) except TypeError: LOG.debug(_(""Method %(func_name)s cannot be cached due to "" ""unhashable parameters: args: %(args)s, kwargs: "" ""%(kwargs)s""), {'func_name': func_name, 'args': args, 'kwargs': kwargs}) return self.func(target_self, *args, **kwargs) if item is self._not_cached: item = self.func(target_self, *args, **kwargs) target_self._cache.set(key, item, None) return item def __call__(self, target_self, *args, **kwargs): if not hasattr(target_self, '_cache'): raise NotImplementedError( ""Instance of class %(module)s.%(class)s must contain _cache "" ""attribute"" % { 'module': target_self.__module__, 'class': target_self.__class__.__name__}) if not target_self._cache: if self._first_call: LOG.debug(_(""Instance of class %(module)s.%(class)s doesn't "" ""contain attribute _cache therefore results "" ""cannot be cached for %(func_name)s.""), {'module': target_self.__module__, 'class': target_self.__class__.__name__, 'func_name': self.func.__name__}) self._first_call = False return self.func(target_self, *args, **kwargs) return self._get_from_cache(target_self, *args, **kwargs) def __get__(self, obj, objtype): return functools.partial(self.__call__, obj) def dict2tuple(d): items = d.items() items.sort() return tuple(items) ",,132,0
openstack%2Fneutron~stable%2Ficehouse~I4f652a030ae23a71a2e20af2e8ef0ad5b882b80e,openstack/neutron,stable/icehouse,I4f652a030ae23a71a2e20af2e8ef0ad5b882b80e,Do not defer IPTables apply in firewall path,MERGED,2014-06-05 18:34:54.000000000,2014-06-17 05:30:00.000000000,2014-06-17 05:30:00.000000000,"[{'_account_id': 3}, {'_account_id': 490}, {'_account_id': 841}, {'_account_id': 2592}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 7752}, {'_account_id': 9732}, {'_account_id': 10117}, {'_account_id': 10153}, {'_account_id': 10192}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10571}]","[{'number': 1, 'created': '2014-06-05 18:34:54.000000000', 'files': ['neutron/services/firewall/drivers/linux/iptables_fwaas.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cd7a622d3b6a3c1d0e6d810993e2b78adb232b9a', 'message': 'Do not defer IPTables apply in firewall path\n\nBy default, iptables apply is deferred in L3 agent. For\nexternal gateways, iptables is applied immediately (to\nenable NAT for floating IP). Similarly, when firewall\nis created/updated/deleted, iptable rules are applies\nimmediately.\n\nChange-Id: I4f652a030ae23a71a2e20af2e8ef0ad5b882b80e\nCloses-Bug: #1320775\n(cherry picked from commit 6167cb55e2f62a645487d66e52b809c9599b3bb8)\n'}]",0,98206,cd7a622d3b6a3c1d0e6d810993e2b78adb232b9a,22,14,1,5803,,,0,"Do not defer IPTables apply in firewall path

By default, iptables apply is deferred in L3 agent. For
external gateways, iptables is applied immediately (to
enable NAT for floating IP). Similarly, when firewall
is created/updated/deleted, iptable rules are applies
immediately.

Change-Id: I4f652a030ae23a71a2e20af2e8ef0ad5b882b80e
Closes-Bug: #1320775
(cherry picked from commit 6167cb55e2f62a645487d66e52b809c9599b3bb8)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/98206/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/firewall/drivers/linux/iptables_fwaas.py'],1,cd7a622d3b6a3c1d0e6d810993e2b78adb232b9a,, # apply the changes immediately (no defer in firewall path) ipt_mgr.defer_apply_off() # apply the changes immediately (no defer in firewall path) ipt_mgr.defer_apply_off() # apply the changes immediately (no defer in firewall path) ipt_mgr.defer_apply_off(), ipt_mgr.apply() # apply the changes ipt_mgr.apply() # apply the changes ipt_mgr.apply(),6,5
openstack%2Fneutron~stable%2Ficehouse~I4519a0e5a0f3027675958a68d1f9e0440b177229,openstack/neutron,stable/icehouse,I4519a0e5a0f3027675958a68d1f9e0440b177229,Check DB scheme prior to migration to Ml2,MERGED,2014-06-12 13:04:35.000000000,2014-06-17 05:25:17.000000000,2014-06-17 05:25:16.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 10117}, {'_account_id': 10153}, {'_account_id': 10387}]","[{'number': 1, 'created': '2014-06-12 13:04:35.000000000', 'files': ['neutron/db/migration/migrate_to_ml2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/71097a05755f1b1f7c4ed941545b12590165bfbd', 'message': 'Check DB scheme prior to migration to Ml2\n\nWhen using migration tool from LB/OVS plugin to Ml2, there is no\nguarantee current scheme is supported by migration tool. This patch\nchecks version stored in DB by alembic and compares whether version\nis supported.\n\nCloses-bug: #1307720\n\nChange-Id: I4519a0e5a0f3027675958a68d1f9e0440b177229\n(cherry picked from commit de10d7299ba3dce18b8e12a41830ec0e686df340)\n'}]",0,99655,71097a05755f1b1f7c4ed941545b12590165bfbd,16,9,1,8655,,,0,"Check DB scheme prior to migration to Ml2

When using migration tool from LB/OVS plugin to Ml2, there is no
guarantee current scheme is supported by migration tool. This patch
checks version stored in DB by alembic and compares whether version
is supported.

Closes-bug: #1307720

Change-Id: I4519a0e5a0f3027675958a68d1f9e0440b177229
(cherry picked from commit de10d7299ba3dce18b8e12a41830ec0e686df340)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/99655/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/migration/migrate_to_ml2.py'],1,71097a05755f1b1f7c4ed941545b12590165bfbd,bug/1307720,"SUPPORTED_SCHEMA_VERSIONS = [ICEHOUSE] def check_db_schema_version(engine, metadata): """"""Check that current version of the db schema is supported."""""" version_table = sa.Table( 'alembic_version', metadata, autoload=True, autoload_with=engine) versions = [v[0] for v in engine.execute(version_table.select())] if not versions: raise ValueError(_(""Missing version in alembic_versions table"")) elif len(versions) > 1: raise ValueError(_(""Multiple versions in alembic_versions table: %s"") % versions) current_version = versions[0] if current_version not in SUPPORTED_SCHEMA_VERSIONS: raise SystemError(_(""Unsupported database schema %(current)s. "" ""Please migrate your database to one of following "" ""versions: %(supported)s"") % {'current': current_version, 'supported': ', '.join(SUPPORTED_SCHEMA_VERSIONS)} ) check_db_schema_version(engine, metadata) ", #TODO(marun) Check for the db version to ensure that it can be # safely migrated from.,25,2
openstack%2Fneutron~stable%2Ficehouse~I6b4fb533576a317f7d568b4a0fe4117b5464ffa6,openstack/neutron,stable/icehouse,I6b4fb533576a317f7d568b4a0fe4117b5464ffa6,Fix network profile subtype validation in N1kv plugin,MERGED,2014-06-13 08:19:21.000000000,2014-06-17 05:14:27.000000000,2014-06-17 05:14:26.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 5892}, {'_account_id': 6659}, {'_account_id': 7018}, {'_account_id': 9732}, {'_account_id': 10117}, {'_account_id': 10192}, {'_account_id': 10387}]","[{'number': 1, 'created': '2014-06-13 08:19:21.000000000', 'files': ['neutron/tests/unit/cisco/n1kv/test_n1kv_plugin.py', 'neutron/plugins/cisco/db/n1kv_db_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/86e4b80b874b6b51219c939676e7349619c4b4f7', 'message': 'Fix network profile subtype validation in N1kv plugin\n\nNetwork profile of type Trunk expects a subtype field for\ncreation. If a subtype is missing in the request body, plugin\nshould raise an exception. This patch fixes the validation logic\nto detect missing subtype field.\n\nChange-Id: I6b4fb533576a317f7d568b4a0fe4117b5464ffa6\nCloses-Bug: 1315197\n(cherry picked from commit 1dd0bdc06dedf0f577d220f4c1a1f9f43f04a0fe)\n'}]",0,99865,86e4b80b874b6b51219c939676e7349619c4b4f7,17,11,1,9656,,,0,"Fix network profile subtype validation in N1kv plugin

Network profile of type Trunk expects a subtype field for
creation. If a subtype is missing in the request body, plugin
should raise an exception. This patch fixes the validation logic
to detect missing subtype field.

Change-Id: I6b4fb533576a317f7d568b4a0fe4117b5464ffa6
Closes-Bug: 1315197
(cherry picked from commit 1dd0bdc06dedf0f577d220f4c1a1f9f43f04a0fe)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/99865/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/cisco/n1kv/test_n1kv_plugin.py', 'neutron/plugins/cisco/db/n1kv_db_v2.py']",2,86e4b80b874b6b51219c939676e7349619c4b4f7,," if not attributes.is_attr_set(net_p.get(""sub_type"")):"," if ""sub_type"" not in net_p:",16,1
openstack%2Fneutron~master~Iaa6c4d766ca086deb28c8ef7310dbfdcef2c105f,openstack/neutron,master,Iaa6c4d766ca086deb28c8ef7310dbfdcef2c105f,ovs-agent: Ensure integration bridge is created,MERGED,2014-06-09 11:56:43.000000000,2014-06-17 05:08:07.000000000,2014-06-17 05:08:06.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 2062}, {'_account_id': 2592}, {'_account_id': 4726}, {'_account_id': 4894}, {'_account_id': 5170}, {'_account_id': 6659}, {'_account_id': 6854}, {'_account_id': 7787}, {'_account_id': 8873}, {'_account_id': 9681}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 11825}]","[{'number': 1, 'created': '2014-06-09 11:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/27ee4a4b4224802a73953c1d7f552ec1c00866b4', 'message': 'ovs-agent: Ensure integration bridge is created\n\novs-agent will fail to launch if integration bridge(br-int by default) is not\nexisted. To fix this, the agent should check and create the bridge if necessary\nduring launching.\n\nCloses-Bug: 1328076\nChange-Id: Iaa6c4d766ca086deb28c8ef7310dbfdcef2c105f\n'}, {'number': 2, 'created': '2014-06-09 12:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/076e14388c82101a3f24f3507838eab07fe2ef53', 'message': 'ovs-agent: Ensure integration bridge is created\n\novs-agent will fail to launch if integration bridge(br-int by default) does not\nexist. To fix this, the agent should check and create the bridge if necessary\nduring launching.\n\nCloses-Bug: 1328076\nChange-Id: Iaa6c4d766ca086deb28c8ef7310dbfdcef2c105f\n'}, {'number': 3, 'created': '2014-06-10 08:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9a5749bd25eb73d455d5a6daeee1930fe608d1d', 'message': 'ovs-agent: Ensure integration bridge is created\n\novs-agent will fail to launch if integration bridge(br-int by default) is not\nexisted. To fix this, the agent should check and create the bridge if necessary\nduring launching.\n\nCloses-Bug: 1328076\nChange-Id: Iaa6c4d766ca086deb28c8ef7310dbfdcef2c105f\n'}, {'number': 4, 'created': '2014-06-11 01:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab9d25265bd561a54bc54f205d273e5ff8155594', 'message': 'ovs-agent: Ensure integration bridge is created\n\novs-agent will fail to launch if integration bridge(br-int by default) is not\nexisted. To fix this, the agent should check and create the bridge if necessary\nduring launching.\n\nCloses-Bug: 1328076\nChange-Id: Iaa6c4d766ca086deb28c8ef7310dbfdcef2c105f\n'}, {'number': 5, 'created': '2014-06-11 01:57:02.000000000', 'files': ['neutron/tests/unit/openvswitch/test_ovs_neutron_agent.py', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/openvswitch/test_ovs_tunnel.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e5cdad90f97d3a54a493eca19e7a3ff643426de1', 'message': 'ovs-agent: Ensure integration bridge is created\n\novs-agent will fail to launch if integration bridge(br-int by default) is not\nexisted. To fix this, the agent should check and create the bridge if necessary\nduring launching.\n\nCloses-Bug: 1328076\nChange-Id: Iaa6c4d766ca086deb28c8ef7310dbfdcef2c105f\n'}]",5,98755,e5cdad90f97d3a54a493eca19e7a3ff643426de1,81,24,5,4894,,,0,"ovs-agent: Ensure integration bridge is created

ovs-agent will fail to launch if integration bridge(br-int by default) is not
existed. To fix this, the agent should check and create the bridge if necessary
during launching.

Closes-Bug: 1328076
Change-Id: Iaa6c4d766ca086deb28c8ef7310dbfdcef2c105f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/98755/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/openvswitch/test_ovs_tunnel.py']",2,27ee4a4b4224802a73953c1d7f552ec1c00866b4,bug/1328076," mock.call.create(), self.device_exists.side_effect = [False, True, True] mock.call('integration_bridge', 'sudo'),", self.device_exists.return_value = True,6,1
openstack%2Fneutron~stable%2Ficehouse~I64dcc6f9552cf7f8b6ff3503923e9acc58e3f5bd,openstack/neutron,stable/icehouse,I64dcc6f9552cf7f8b6ff3503923e9acc58e3f5bd,Updated from global requirements,MERGED,2014-05-22 18:08:11.000000000,2014-06-17 05:06:17.000000000,2014-06-17 05:06:17.000000000,"[{'_account_id': 3}, {'_account_id': 261}, {'_account_id': 704}, {'_account_id': 2592}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9925}, {'_account_id': 10117}, {'_account_id': 10153}, {'_account_id': 10192}]","[{'number': 1, 'created': '2014-05-22 18:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3b3e710c207cd154a1b018703a5c7033b28eeffd', 'message': 'Updated from global requirements\n\nChange-Id: I64dcc6f9552cf7f8b6ff3503923e9acc58e3f5bd\n'}, {'number': 2, 'created': '2014-06-03 23:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/60727172ba17f61dae13140c8adc6ade59697c96', 'message': 'Updated from global requirements\n\nChange-Id: I64dcc6f9552cf7f8b6ff3503923e9acc58e3f5bd\n'}, {'number': 3, 'created': '2014-06-17 02:21:57.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cbbf9f54dea9efc9154b15ad2731b1e25b20156c', 'message': 'Updated from global requirements\n\nChange-Id: I64dcc6f9552cf7f8b6ff3503923e9acc58e3f5bd\n'}]",0,94968,cbbf9f54dea9efc9154b15ad2731b1e25b20156c,82,13,3,11131,,,0,"Updated from global requirements

Change-Id: I64dcc6f9552cf7f8b6ff3503923e9acc58e3f5bd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/94968/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,3b3e710c207cd154a1b018703a5c7033b28eeffd,openstack/requirements,six>=1.6.0,six>=1.5.2,1,1
openstack%2Fpython-keystoneclient~master~I2e641ec496e596fcc4879855ac750d957522be88,openstack/python-keystoneclient,master,I2e641ec496e596fcc4879855ac750d957522be88,Added help text for the debug option,MERGED,2014-06-11 09:47:34.000000000,2014-06-17 05:06:14.000000000,2014-06-17 05:06:14.000000000,"[{'_account_id': 3}, {'_account_id': 220}, {'_account_id': 6482}, {'_account_id': 7191}, {'_account_id': 11045}, {'_account_id': 11333}, {'_account_id': 11387}]","[{'number': 1, 'created': '2014-06-11 09:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/e34ec18ec210ed60ec5e3908400d0ed2cdbb922b', 'message': 'Added help text for the debug option\n\nThis adds a short help text for --debug on the command line. Prior to\nthis short help text the debug option was hidden.\n\nChange-Id: I2e641ec496e596fcc4879855ac750d957522be88\nCloses-Bug: #1328813\n'}, {'number': 2, 'created': '2014-06-12 06:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/c837748ce62ceb3a81262f15bffd4bf46063b564', 'message': 'Added help text for the debug option\n\nThis adds a short help text for --debug on the command line. Prior to\nthis short help text the debug option was hidden.\n\nChange-Id: I2e641ec496e596fcc4879855ac750d957522be88\nCloses-Bug: #1328813\n'}, {'number': 3, 'created': '2014-06-13 05:53:29.000000000', 'files': ['keystoneclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/d3b665c0e078dc63e9b4ea0c0383509617f66eab', 'message': 'Added help text for the debug option\n\nThis adds a short help text for --debug on the command line. Prior to\nthis short help text the debug option was hidden.\n\nChange-Id: I2e641ec496e596fcc4879855ac750d957522be88\nCloses-Bug: #1328813\n'}]",3,99312,d3b665c0e078dc63e9b4ea0c0383509617f66eab,23,7,3,1057,,,0,"Added help text for the debug option

This adds a short help text for --debug on the command line. Prior to
this short help text the debug option was hidden.

Change-Id: I2e641ec496e596fcc4879855ac750d957522be88
Closes-Bug: #1328813
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/12/99312/1 && git format-patch -1 --stdout FETCH_HEAD,['keystoneclient/shell.py'],1,e34ec18ec210ed60ec5e3908400d0ed2cdbb922b,bug/1328813," help=""Print debugging output."")", help=argparse.SUPPRESS),1,1
openstack%2Fpython-keystoneclient~master~I60c01f85901a33a0e3e7a255049084126558f031,openstack/python-keystoneclient,master,I60c01f85901a33a0e3e7a255049084126558f031,Using six.u('') instead of u'',MERGED,2014-06-15 03:15:29.000000000,2014-06-17 05:04:00.000000000,2014-06-17 05:03:59.000000000,"[{'_account_id': 3}, {'_account_id': 220}, {'_account_id': 6476}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7186}, {'_account_id': 7191}]","[{'number': 1, 'created': '2014-06-15 03:15:29.000000000', 'files': ['keystoneclient/tests/test_discovery.py', 'keystoneclient/tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/2d1cc878033c9dee997c12f937bd92f32599071b', 'message': ""Using six.u('') instead of u''\n\nIn a few places, there's some u'' strings, this patch replaces\nthem by six.u(''), as this fixes things when running the unit\ntests in Debian Wheezy.\n\nChange-Id: I60c01f85901a33a0e3e7a255049084126558f031\n""}]",0,100082,2d1cc878033c9dee997c12f937bd92f32599071b,13,7,1,6476,,,0,"Using six.u('') instead of u''

In a few places, there's some u'' strings, this patch replaces
them by six.u(''), as this fixes things when running the unit
tests in Debian Wheezy.

Change-Id: I60c01f85901a33a0e3e7a255049084126558f031
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/82/100082/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/tests/test_discovery.py', 'keystoneclient/tests/test_utils.py']",2,2d1cc878033c9dee997c12f937bd92f32599071b,, name = six.u('\u540d\u5b57') name = six.u('\u540d\u5b57'), name = u'\u540d\u5b57' name = u'\u540d\u5b57',3,3
openstack%2Ftempest~master~I0447292553394877493fc264451559d9df14242f,openstack/tempest,master,I0447292553394877493fc264451559d9df14242f,Check create/get/delete V2 server_group attributes,MERGED,2014-05-23 04:51:49.000000000,2014-06-17 05:03:52.000000000,2014-06-17 05:03:51.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 5292}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7139}, {'_account_id': 7293}, {'_account_id': 7350}, {'_account_id': 7428}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-05-23 04:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5e65c0cf4ee19a97504b0d2ac7959fcb697445dd', 'message': 'Check create/get/delete V2 server_group attributes\n\nThis patch adds the JSON schema for Nova V2 create, get & delete\nserver_group APIs response and validate the response with added\nJSON schema to block the backward incompatibility change in the future.\n\nThe response body of create & get server_group V2 APIs is same and given\nbelow:\n\n{\n    ""server_group"": {\n        ""id"": ""5bbcc3c4-1da2-4437-a48a-66f15b1b13f9"",\n        ""name"": ""test"",\n        ""policies"": [""anti-affinity""],\n        ""members"": [],\n        ""metadata"": {}\n    }\n}\n\nDelete server_group API only return 204 response code.\n\nPartially implements blueprint nova-api-attribute-test\n\nChange-Id: I0447292553394877493fc264451559d9df14242f\n'}, {'number': 2, 'created': '2014-05-27 11:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1830d8b29d635b2ca71963e7375c242eb1b18f72', 'message': 'Check create/get/delete V2 server_group attributes\n\nThis patch adds the JSON schema for Nova V2 create, get & delete\nserver_group APIs response and validate the response with added\nJSON schema to block the backward incompatibility change in the future.\n\nThe response body of create & get server_group V2 APIs is same and given\nbelow:\n\n{\n    ""server_group"": {\n        ""id"": ""5bbcc3c4-1da2-4437-a48a-66f15b1b13f9"",\n        ""name"": ""test"",\n        ""policies"": [""anti-affinity""],\n        ""members"": [],\n        ""metadata"": {}\n    }\n}\n\nDelete server_group API only return 204 response code.\n\nPartially implements blueprint nova-api-attribute-test\n\nChange-Id: I0447292553394877493fc264451559d9df14242f\n'}, {'number': 3, 'created': '2014-06-02 00:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/214448bb4e72d591d66a6146b5a466f980c65d4b', 'message': 'Check create/get/delete V2 server_group attributes\n\nThis patch adds the JSON schema for Nova V2 create, get & delete\nserver_group APIs response and validate the response with added\nJSON schema to block the backward incompatibility change in the future.\n\nThe response body of create & get server_group V2 APIs is same and given\nbelow:\n\n{\n    ""server_group"": {\n        ""id"": ""5bbcc3c4-1da2-4437-a48a-66f15b1b13f9"",\n        ""name"": ""test"",\n        ""policies"": [""anti-affinity""],\n        ""members"": [],\n        ""metadata"": {}\n    }\n}\n\nDelete server_group API only return 204 response code.\n\nPartially implements blueprint nova-api-attribute-test\n\nChange-Id: I0447292553394877493fc264451559d9df14242f\n'}, {'number': 4, 'created': '2014-06-06 00:53:31.000000000', 'files': ['tempest/services/compute/json/servers_client.py', 'tempest/api_schema/compute/v2/servers.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f81f9faabf57ffa8cb02ab4beca9447d58f7ae29', 'message': 'Check create/get/delete V2 server_group attributes\n\nThis patch adds the JSON schema for Nova V2 create, get & delete\nserver_group APIs response and validate the response with added\nJSON schema to block the backward incompatibility change in the future.\n\nThe response body of create & get server_group V2 APIs is same and given\nbelow:\n\n{\n    ""server_group"": {\n        ""id"": ""5bbcc3c4-1da2-4437-a48a-66f15b1b13f9"",\n        ""name"": ""test"",\n        ""policies"": [""anti-affinity""],\n        ""members"": [],\n        ""metadata"": {}\n    }\n}\n\nDelete server_group API only return 204 response code.\n\nPartially implements blueprint nova-api-attribute-test\n\nChange-Id: I0447292553394877493fc264451559d9df14242f\n'}]",7,95064,f81f9faabf57ffa8cb02ab4beca9447d58f7ae29,71,13,4,8556,,,0,"Check create/get/delete V2 server_group attributes

This patch adds the JSON schema for Nova V2 create, get & delete
server_group APIs response and validate the response with added
JSON schema to block the backward incompatibility change in the future.

The response body of create & get server_group V2 APIs is same and given
below:

{
    ""server_group"": {
        ""id"": ""5bbcc3c4-1da2-4437-a48a-66f15b1b13f9"",
        ""name"": ""test"",
        ""policies"": [""anti-affinity""],
        ""members"": [],
        ""metadata"": {}
    }
}

Delete server_group API only return 204 response code.

Partially implements blueprint nova-api-attribute-test

Change-Id: I0447292553394877493fc264451559d9df14242f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/64/95064/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/services/compute/json/servers_client.py', 'tempest/api_schema/compute/v2/servers.py']",2,5e65c0cf4ee19a97504b0d2ac7959fcb697445dd,bp/nova-api-attribute-test," common_server_group = { 'type': 'object', 'properties': { 'id': {'type': 'string'}, 'name': {'type': 'string'}, # Current supported policies is 'anti-affinity' & 'affinity' 'policies': { 'type': 'array', 'items': {'enum': ['anti-affinity', 'affinity']} }, # 'members' attribute contains the array of instance's UUID of # instances present in server sroup 'members': { 'type': 'array', 'items': {'type': 'string'} }, 'metadata': { 'type': 'object', 'patternProperties': { '^.+$': {'type': 'string'} } } }, 'required': ['id', 'name', 'policies', 'members', 'metadata'] } create_get_server_group = { 'status_code': [200], 'response_body': { 'type': 'object', 'properties': { 'server_group': common_server_group }, 'required': ['server_group'] } } delete_server_group = { 'status_code': [204] }",,46,1
openstack%2Fgrenade~master~I235a725b6ca8a02caddad9f5a1457f6461269d5b,openstack/grenade,master,I235a725b6ca8a02caddad9f5a1457f6461269d5b,provide timestamps in grenade output,MERGED,2014-06-11 14:14:24.000000000,2014-06-17 05:03:45.000000000,2014-06-17 05:03:45.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 2750}, {'_account_id': 3153}]","[{'number': 1, 'created': '2014-06-11 14:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/9fd8b2db110cbbd3257927c216249071595cc202', 'message': ""provide timestamps in grenade output\n\nthis is part of the effort to make grenade summaries actually work\nin the gate like we expect, so that the base case can take the\noutput out of the main console and into summary consoles for\nreadability.\n\nInstead of duplicating the awk filter from devstack, create a new\npython tool for this, which lets us have much greater control and\nsanity in filtering out garbage that we don't care about.\n\nChange-Id: I235a725b6ca8a02caddad9f5a1457f6461269d5b\n""}, {'number': 2, 'created': '2014-06-16 14:26:43.000000000', 'files': ['grenade.sh', 'tools/outfilter.py'], 'web_link': 'https://opendev.org/openstack/grenade/commit/9210dd8c41a80a0c4289de04fb4b9a37b9af311d', 'message': ""provide timestamps in grenade output\n\nthis is part of the effort to make grenade summaries actually work\nin the gate like we expect, so that the base case can take the\noutput out of the main console and into summary consoles for\nreadability.\n\nInstead of duplicating the awk filter from devstack, create a new\npython tool for this, which lets us have much greater control and\nsanity in filtering out garbage that we don't care about.\n\nChange-Id: I235a725b6ca8a02caddad9f5a1457f6461269d5b\n""}]",0,99390,9210dd8c41a80a0c4289de04fb4b9a37b9af311d,31,4,2,2750,,,0,"provide timestamps in grenade output

this is part of the effort to make grenade summaries actually work
in the gate like we expect, so that the base case can take the
output out of the main console and into summary consoles for
readability.

Instead of duplicating the awk filter from devstack, create a new
python tool for this, which lets us have much greater control and
sanity in filtering out garbage that we don't care about.

Change-Id: I235a725b6ca8a02caddad9f5a1457f6461269d5b
",git fetch https://review.opendev.org/openstack/grenade refs/changes/90/99390/1 && git format-patch -1 --stdout FETCH_HEAD,"['grenade.sh', 'tools/outfilter.py']",2,9fd8b2db110cbbd3257927c216249071595cc202,working_summary,"#!/usr/bin/python import argparse import datetime import sys def get_options(): parser = argparse.ArgumentParser( description='Filter output by devstack and friends') parser.add_argument('-o', '--outfile', help='Output file for content', default=None) parser.add_argument('-v', '--verbose', action='store_true', default=False) return parser.parse_args() def main(): opts = get_options() outfile = None if opts.outfile: outfile = open(opts.outfile, 'a', 0) # otherwise fileinput reprocess args as files sys.argv = [] while True: line = sys.stdin.readline() # put skip lines here now = datetime.datetime.utcnow() newline = (""%s.%s | %s"" % ( now.strftime(""%Y-%m-%d %H:%M:%S""), now.strftime(""%f"")[:3], line)) if opts.verbose: sys.stdout.write(newline) sys.stdout.flush() if outfile: outfile.write(newline) outfile.flush() if __name__ == '__main__': try: sys.exit(main()) except KeyboardInterrupt: sys.exit(1) ",,60,5
openstack%2Fneutron~master~Ib73d875ad6ed9ce7821a508106ad59f5adf5c343,openstack/neutron,master,Ib73d875ad6ed9ce7821a508106ad59f5adf5c343,Imported Translations from Transifex,MERGED,2014-06-11 06:08:41.000000000,2014-06-17 05:00:52.000000000,2014-06-17 05:00:51.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 167}, {'_account_id': 748}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 9681}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}]","[{'number': 1, 'created': '2014-06-11 06:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/05a367ef1caef8ad2fc194aa16df394898250e46', 'message': 'Imported Translations from Transifex\n\nChange-Id: Ib73d875ad6ed9ce7821a508106ad59f5adf5c343\n'}, {'number': 2, 'created': '2014-06-12 06:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c25f6286418ef5b1b899ff806644177137ea2ec6', 'message': 'Imported Translations from Transifex\n\nChange-Id: Ib73d875ad6ed9ce7821a508106ad59f5adf5c343\n'}, {'number': 3, 'created': '2014-06-13 06:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c8906ed1b5991ec83b808211c93537252469f9b9', 'message': 'Imported Translations from Transifex\n\nChange-Id: Ib73d875ad6ed9ce7821a508106ad59f5adf5c343\n'}, {'number': 4, 'created': '2014-06-14 06:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/57809f689ede3985917c5792d6bd2379623e2e18', 'message': 'Imported Translations from Transifex\n\nChange-Id: Ib73d875ad6ed9ce7821a508106ad59f5adf5c343\n'}, {'number': 5, 'created': '2014-06-15 06:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b116dbad32a4367e41a06429142f44d1013c58c', 'message': 'Imported Translations from Transifex\n\nChange-Id: Ib73d875ad6ed9ce7821a508106ad59f5adf5c343\n'}, {'number': 6, 'created': '2014-06-16 06:09:00.000000000', 'files': ['neutron/locale/en_US/LC_MESSAGES/neutron.po', 'neutron/locale/pt_BR/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/ja/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/de/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/zh_CN/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/es/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/fr/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/neutron-log-info.pot', 'neutron/locale/en_GB/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/neutron.pot', 'neutron/locale/ko_KR/LC_MESSAGES/neutron-log-error.po', 'neutron/locale/ko_KR/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/zh_TW/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/en_AU/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/it/LC_MESSAGES/neutron-log-info.po'], 'web_link': 'https://opendev.org/openstack/neutron/commit/02395ca47031edd7f00453a0afe8911c8bf75312', 'message': 'Imported Translations from Transifex\n\nChange-Id: Ib73d875ad6ed9ce7821a508106ad59f5adf5c343\n'}]",0,99275,02395ca47031edd7f00453a0afe8911c8bf75312,91,17,6,11131,,,0,"Imported Translations from Transifex

Change-Id: Ib73d875ad6ed9ce7821a508106ad59f5adf5c343
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/99275/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/locale/en_US/LC_MESSAGES/neutron.po', 'neutron/locale/neutron.pot']",2,05a367ef1caef8ad2fc194aa16df394898250e46,transifex/translations,"""Project-Id-Version: neutron 2014.2.dev654.g442960d\n""""POT-Creation-Date: 2014-06-11 06:08+0000\n""#: neutron/agent/dhcp_agent.py:51#: neutron/agent/dhcp_agent.py:54#: neutron/agent/dhcp_agent.py:56#: neutron/agent/dhcp_agent.py:58#: neutron/agent/dhcp_agent.py:62#: neutron/agent/dhcp_agent.py:65 neutron/agent/l3_agent.py:187 #: neutron/agent/metadata/namespace_proxy.py:167#: neutron/agent/dhcp_agent.py:102#: neutron/agent/dhcp_agent.py:109 neutron/agent/dhcp_agent.py:598#: neutron/agent/dhcp_agent.py:118#: neutron/agent/dhcp_agent.py:134#: neutron/agent/dhcp_agent.py:143 neutron/agent/dhcp_agent.py:201#: neutron/agent/dhcp_agent.py:145#: neutron/agent/dhcp_agent.py:155#: neutron/agent/dhcp_agent.py:167#: neutron/agent/dhcp_agent.py:173#: neutron/agent/dhcp_agent.py:177#: neutron/agent/dhcp_agent.py:189#: neutron/agent/dhcp_agent.py:205#: neutron/agent/dhcp_agent.py:217#: neutron/agent/dhcp_agent.py:342#: neutron/agent/dhcp_agent.py:580 neutron/agent/l3_agent.py:958 #: neutron/agent/metadata/agent.py:363 #: neutron/services/metering/agents/metering_agent.py:274#: neutron/agent/dhcp_agent.py:586 neutron/agent/l3_agent.py:963 #: neutron/agent/metadata/agent.py:368 #: neutron/plugins/ibm/agent/sdnve_neutron_agent.py:109 #: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:856 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:258 #: neutron/plugins/nec/agent/nec_neutron_agent.py:180#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:237#: neutron/services/metering/agents/metering_agent.py:279#: neutron/agent/dhcp_agent.py:593#: neutron/agent/dhcp_agent.py:595 neutron/agent/l3_agent.py:968 #: neutron/services/metering/agents/metering_agent.py:282#: neutron/agent/l3_agent.py:161 neutron/debug/debug_agent.py:43#: neutron/agent/l3_agent.py:165#: neutron/agent/l3_agent.py:169#: neutron/agent/l3_agent.py:172#: neutron/agent/l3_agent.py:177#: neutron/agent/l3_agent.py:179#: neutron/agent/l3_agent.py:182#: neutron/agent/l3_agent.py:184#: neutron/agent/l3_agent.py:207#: neutron/agent/l3_agent.py:235 neutron/agent/linux/dhcp.py:716#: neutron/agent/l3_agent.py:240#: neutron/agent/l3_agent.py:261#: neutron/agent/l3_agent.py:281#: neutron/agent/l3_agent.py:302 neutron/agent/linux/dhcp.py:227#: neutron/agent/l3_agent.py:332#: neutron/agent/l3_agent.py:356#: neutron/agent/l3_agent.py:405 #: neutron/services/firewall/agents/varmour/varmour_router.py:101#: neutron/agent/l3_agent.py:407 neutron/db/l3_db.py:968 #: neutron/services/firewall/agents/varmour/varmour_router.py:104#: neutron/agent/l3_agent.py:447#: neutron/agent/l3_agent.py:476#: neutron/agent/l3_agent.py:595#: neutron/agent/l3_agent.py:625#: neutron/agent/l3_agent.py:734#: neutron/agent/l3_agent.py:739#: neutron/agent/l3_agent.py:747#: neutron/agent/l3_agent.py:751#: neutron/agent/l3_agent.py:758#: neutron/agent/l3_agent.py:808#: neutron/agent/l3_agent.py:826#: neutron/agent/l3_agent.py:828 neutron/agent/l3_agent.py:866 #: neutron/services/metering/agents/metering_agent.py:60#: neutron/agent/l3_agent.py:846#: neutron/agent/l3_agent.py:857#: neutron/agent/l3_agent.py:860#: neutron/agent/l3_agent.py:862#: neutron/agent/l3_agent.py:875#: neutron/agent/l3_agent.py:890#: neutron/agent/l3_agent.py:898#: neutron/agent/l3_agent.py:931#: neutron/agent/l3_agent.py:955#: neutron/agent/netns_cleanup_util.py:61#: neutron/agent/netns_cleanup_util.py:118#: neutron/agent/netns_cleanup_util.py:142#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:677 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:275#: neutron/agent/linux/dhcp.py:209#: neutron/agent/linux/dhcp.py:216#: neutron/agent/linux/dhcp.py:248 neutron/agent/linux/external_process.py:80#: neutron/agent/linux/dhcp.py:255 neutron/agent/linux/external_process.py:88#: neutron/agent/linux/dhcp.py:257 neutron/agent/linux/external_process.py:86#: neutron/agent/linux/dhcp.py:318#: neutron/agent/linux/dhcp.py:323#: neutron/agent/linux/dhcp.py:421#: neutron/agent/linux/dhcp.py:433#: neutron/agent/linux/dhcp.py:434#: neutron/agent/linux/dhcp.py:474#: neutron/agent/linux/dhcp.py:484#: neutron/agent/linux/dhcp.py:500#: neutron/agent/linux/dhcp.py:723#: neutron/agent/linux/dhcp.py:763#: neutron/agent/linux/dhcp.py:773#: neutron/agent/linux/dhcp.py:817#: neutron/agent/linux/dhcp.py:831#: neutron/agent/linux/dhcp.py:866 neutron/debug/debug_agent.py:69#: neutron/agent/linux/interface.py:50 neutron/agent/metadata/agent.py:55#: neutron/agent/linux/interface.py:53 neutron/agent/metadata/agent.py:58#: neutron/agent/linux/interface.py:55 neutron/agent/metadata/agent.py:60#: neutron/agent/linux/interface.py:57 neutron/agent/metadata/agent.py:62#: neutron/agent/linux/interface.py:59 neutron/agent/metadata/agent.py:64#: neutron/plugins/bigswitch/agent/restproxy_agent.py:55#: neutron/agent/metadata/agent.py:53#: neutron/agent/metadata/agent.py:67#: neutron/agent/metadata/agent.py:70#: neutron/agent/metadata/agent.py:74#: neutron/agent/metadata/agent.py:77#: neutron/agent/metadata/agent.py:80#: neutron/agent/metadata/agent.py:83#: neutron/agent/metadata/agent.py:88#: neutron/agent/metadata/agent.py:90#: neutron/agent/metadata/agent.py:94#: neutron/agent/metadata/agent.py:97#: neutron/agent/metadata/agent.py:127 #: neutron/agent/metadata/namespace_proxy.py:70#: neutron/agent/metadata/agent.py:136 #: neutron/agent/metadata/namespace_proxy.py:78#: neutron/agent/metadata/agent.py:137 #: neutron/agent/metadata/namespace_proxy.py:79#: neutron/agent/metadata/agent.py:179#: neutron/agent/metadata/agent.py:231#: neutron/agent/metadata/agent.py:242 #: neutron/agent/metadata/namespace_proxy.py:122#: neutron/agent/metadata/agent.py:248 #: neutron/agent/metadata/namespace_proxy.py:128#: neutron/agent/metadata/agent.py:308#: neutron/agent/metadata/agent.py:311#: neutron/agent/metadata/agent.py:315#: neutron/agent/metadata/namespace_proxy.py:65#: neutron/agent/metadata/namespace_proxy.py:151#: neutron/agent/metadata/namespace_proxy.py:154#: neutron/agent/metadata/namespace_proxy.py:157#: neutron/agent/metadata/namespace_proxy.py:160#: neutron/agent/metadata/namespace_proxy.py:163#: neutron/api/extensions.py:519#: neutron/api/extensions.py:537#: neutron/api/extensions.py:545#: neutron/api/extensions.py:553#: neutron/api/extensions.py:561#: neutron/api/extensions.py:570#: neutron/api/extensions.py:601#: neutron/api/extensions.py:612#: neutron/db/db_base_plugin_v2.py:148#: neutron/db/db_base_plugin_v2.py:317#: neutron/db/db_base_plugin_v2.py:323#: neutron/db/db_base_plugin_v2.py:327#: neutron/db/db_base_plugin_v2.py:345#: neutron/db/db_base_plugin_v2.py:383#: neutron/db/db_base_plugin_v2.py:388#: neutron/db/db_base_plugin_v2.py:395#: neutron/db/db_base_plugin_v2.py:414#: neutron/db/db_base_plugin_v2.py:546#: neutron/db/db_base_plugin_v2.py:558#: neutron/db/db_base_plugin_v2.py:564#: neutron/db/db_base_plugin_v2.py:584#: neutron/db/db_base_plugin_v2.py:593 neutron/db/db_base_plugin_v2.py:626msgid ""Port update. Hold %s"" msgstr """" #: neutron/db/db_base_plugin_v2.py:648 #, python-format#: neutron/db/db_base_plugin_v2.py:717#: neutron/db/db_base_plugin_v2.py:722#: neutron/db/db_base_plugin_v2.py:742#: neutron/db/db_base_plugin_v2.py:749#: neutron/db/db_base_plugin_v2.py:756#: neutron/db/db_base_plugin_v2.py:760#: neutron/db/db_base_plugin_v2.py:765#: neutron/db/db_base_plugin_v2.py:778#: neutron/db/db_base_plugin_v2.py:789#: neutron/db/db_base_plugin_v2.py:802 neutron/db/db_base_plugin_v2.py:806#: neutron/db/db_base_plugin_v2.py:879#: neutron/db/db_base_plugin_v2.py:887#: neutron/db/db_base_plugin_v2.py:893#: neutron/db/db_base_plugin_v2.py:983#: neutron/db/db_base_plugin_v2.py:1080#: neutron/db/db_base_plugin_v2.py:1104#: neutron/db/db_base_plugin_v2.py:1124 neutron/db/db_base_plugin_v2.py:1138#: neutron/db/db_base_plugin_v2.py:1131#: neutron/db/db_base_plugin_v2.py:1147#: neutron/db/db_base_plugin_v2.py:1151#: neutron/db/db_base_plugin_v2.py:1452#: neutron/db/db_base_plugin_v2.py:1531#: neutron/services/firewall/fwaas_plugin.py:235#: neutron/services/firewall/fwaas_plugin.py:250#: neutron/services/firewall/fwaas_plugin.py:265#: neutron/services/firewall/fwaas_plugin.py:274#: neutron/services/firewall/fwaas_plugin.py:282#: neutron/services/firewall/fwaas_plugin.py:292#: neutron/services/firewall/fwaas_plugin.py:300msgid ""Delay must be greater than or equal to timeout""msgid ""No eligible backend for pool %(pool_id)s""msgid ""Vip %(vip_id)s could not be found""msgid ""Another Vip already exists for pool %(pool_id)s""msgid ""Pool %(pool_id)s could not be found""msgid ""Member %(member_id)s could not be found""msgid ""Health_monitor %(monitor_id)s could not be found"" msgstr """" #: neutron/extensions/loadbalancer.py:61 #, python-format#: neutron/extensions/loadbalancer.py:66#: neutron/extensions/loadbalancer.py:71#: neutron/extensions/loadbalancer.py:75#: neutron/extensions/loadbalancer.py:79#: neutron/extensions/loadbalancer.py:84#: neutron/extensions/loadbalancer.py:88#: neutron/extensions/loadbalancer.py:93#: neutron/extensions/loadbalancer.py:309#: neutron/extensions/loadbalancer.py:313#: neutron/extensions/loadbalancer.py:317#: neutron/extensions/loadbalancer.py:321#: neutron/plugins/bigswitch/agent/restproxy_agent.py:115 #: neutron/plugins/ryu/agent/ryu_neutron_agent.py:237#: neutron/plugins/bigswitch/agent/restproxy_agent.py:119#: neutron/plugins/bigswitch/agent/restproxy_agent.py:122#: neutron/plugins/bigswitch/agent/restproxy_agent.py:150 #: neutron/plugins/ryu/agent/ryu_neutron_agent.py:270#: neutron/plugins/bigswitch/agent/restproxy_agent.py:154 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:408 #: neutron/plugins/nec/agent/nec_neutron_agent.py:223 #: neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py:157 #: neutron/plugins/ryu/agent/ryu_neutron_agent.py:274#: neutron/plugins/bigswitch/agent/restproxy_agent.py:160 #: neutron/plugins/ibm/agent/sdnve_neutron_agent.py:227 #: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:1023 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1371 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1433 #: neutron/plugins/ryu/agent/ryu_neutron_agent.py:280#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:51#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:57#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:59#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:63#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:70#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:151#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:186#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:207#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:213#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:216#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:221 #: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:681 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:172#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:246 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:132#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:259#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:271#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:279#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:292#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:305 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:117#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:314#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:318#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:331#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:335#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:360 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:210 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:324#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:365#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:373#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:380#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:406#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:414#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:439 #: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:997 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:392 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1273 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1331#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:447 #: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:1009#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:454#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:462 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:415#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:475 #: neutron/plugins/ibm/agent/sdnve_neutron_agent.py:270 #: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:1047#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1515#: neutron/plugins/ibm/agent/sdnve_neutron_agent.py:137#: neutron/plugins/ibm/agent/sdnve_neutron_agent.py:142#: neutron/plugins/ibm/agent/sdnve_neutron_agent.py:148#: neutron/plugins/ibm/agent/sdnve_neutron_agent.py:196#: neutron/plugins/ibm/agent/sdnve_neutron_agent.py:202#: neutron/plugins/ibm/agent/sdnve_neutron_agent.py:220#: neutron/plugins/ibm/agent/sdnve_neutron_agent.py:242#: neutron/plugins/ibm/agent/sdnve_neutron_agent.py:264 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1502#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:86#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:100#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:107#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:114#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:123#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:186#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:218#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:231#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:238#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:253#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:306#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:321#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:343#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:356#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:363#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:372#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:385#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:403#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:412#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:450#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:457#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:460#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:474#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:481#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:487#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:495#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:502#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:506#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:511#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:535 #: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:570#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:547#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:564#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:589#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:599#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:674 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:163 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:273#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:731 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:208#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:734 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:314#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:756 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:342#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:778 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:421#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:803 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:444#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:866#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:870 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:262 #: neutron/plugins/nec/agent/nec_neutron_agent.py:141 #: neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py:106#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:919#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:925 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1075 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1114 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1104 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1143#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:931 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1081 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1110#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:963 #: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:984 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:378 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1101 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1163 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1130 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1192#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:970 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1131 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1148 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1160 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1177#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:978 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1138 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1155 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1167 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1184#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:982 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:376 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1160 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1189#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:992#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:1004#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:1015#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:1037 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:429#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:1040 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:432#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:59#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:74#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:87#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:98#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:108#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:127#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:134#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:136#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:166#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:168#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:301#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:304#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:329#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:336#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:342#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:343#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:356#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:363#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:371#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:386#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:399#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:404#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:437#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:442#: neutron/plugins/nec/agent/nec_neutron_agent.py:53#: neutron/plugins/nec/agent/nec_neutron_agent.py:75 #: neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py:50#: neutron/plugins/nec/agent/nec_neutron_agent.py:218#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1262#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:550 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:281 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:612#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:293#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:302#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:305#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:465 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:520#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:468 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:528#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:480 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:550#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:488 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:569#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:498 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:589#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:507 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:598#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:553 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:615#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:587 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:655#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:638 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:701#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:712#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:802 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:783#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:886 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:896#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:892 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:902#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:960 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:991#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:989 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1020#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:997 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1030#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1010 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1043 #: neutron/tests/unit/ofagent/test_ofa_neutron_agent.py:683 #: neutron/tests/unit/openvswitch/test_ovs_neutron_agent.py:763#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1013 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1046 #: neutron/tests/unit/ofagent/test_ofa_neutron_agent.py:666 #: neutron/tests/unit/ofagent/test_ofa_neutron_agent.py:686 #: neutron/tests/unit/openvswitch/test_ovs_neutron_agent.py:746 #: neutron/tests/unit/openvswitch/test_ovs_neutron_agent.py:766 #: neutron/tests/unit/openvswitch/test_ovs_neutron_agent.py:783#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1061 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1088#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1067 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1094#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1092 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1121#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1096 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1125#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1099 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1128#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1109 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1138#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1184#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1192#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1205 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1240#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1214 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1249#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1241 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1291#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1269#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1280 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1338#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1284 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1342#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1288#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1301#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1311 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1375#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1315#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1330#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1340#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1355 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1417#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1362#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1395 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1461#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1418#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1421 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1487#: neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py:152#: neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py:159#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:225#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:290#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:491#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:762#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:876 #, python-format msgid """" ""Creating an interface named %(name)s exceeds the %(limit)d character "" ""limitation. It was shortened to %(new_name)s to fit."" msgstr """" #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1219#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1227#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1328#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1352#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1365#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1380#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1394#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1403#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1424#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1484#: neutron/plugins/ryu/agent/ryu_neutron_agent.py:95#: neutron/plugins/ryu/agent/ryu_neutron_agent.py:161#: neutron/plugins/ryu/agent/ryu_neutron_agent.py:169#: neutron/plugins/ryu/agent/ryu_neutron_agent.py:219#: neutron/plugins/ryu/agent/ryu_neutron_agent.py:220#: neutron/plugins/ryu/agent/ryu_neutron_agent.py:296#: neutron/plugins/ryu/agent/ryu_neutron_agent.py:298#: neutron/plugins/ryu/agent/ryu_neutron_agent.py:300#: neutron/plugins/ryu/agent/ryu_neutron_agent.py:306#: neutron/plugins/ryu/agent/ryu_neutron_agent.py:309#: neutron/plugins/vmware/api_client/eventlet_client.py:145#: neutron/plugins/vmware/api_client/eventlet_client.py:150#: neutron/services/firewall/fwaas_plugin.py:57 #, python-format msgid ""Firewall %(fw_id)s in PENDING_DELETE state, not changing to %(status)s"" msgstr """" #: neutron/services/firewall/fwaas_plugin.py:72#: neutron/services/firewall/fwaas_plugin.py:80#: neutron/services/firewall/fwaas_plugin.py:88#: neutron/services/firewall/fwaas_plugin.py:97#: neutron/services/firewall/fwaas_plugin.py:103#: neutron/services/firewall/fwaas_plugin.py:151#: neutron/services/firewall/agents/varmour/varmour_router.py:48#: neutron/services/firewall/agents/varmour/varmour_router.py:62#: neutron/services/firewall/agents/varmour/varmour_router.py:69#: neutron/services/firewall/agents/varmour/varmour_router.py:110#: neutron/services/firewall/agents/varmour/varmour_router.py:142#: neutron/services/firewall/agents/varmour/varmour_router.py:162#: neutron/services/firewall/agents/varmour/varmour_router.py:193#: neutron/services/firewall/agents/varmour/varmour_router.py:208#: neutron/services/firewall/agents/varmour/varmour_router.py:221#: neutron/services/firewall/agents/varmour/varmour_router.py:253#: neutron/services/firewall/agents/varmour/varmour_router.py:275#: neutron/services/firewall/agents/varmour/varmour_router.py:286#: neutron/services/firewall/agents/varmour/varmour_router.py:289#: neutron/services/firewall/agents/varmour/varmour_router.py:308#: neutron/services/loadbalancer/agent/agent.py:35#: neutron/services/metering/agents/metering_agent.py:69#: neutron/services/metering/agents/metering_agent.py:71#: neutron/services/metering/agents/metering_agent.py:73#: neutron/services/metering/agents/metering_agent.py:97#: neutron/services/metering/agents/metering_agent.py:99#: neutron/services/metering/agents/metering_agent.py:114#: neutron/services/metering/agents/metering_agent.py:181#: neutron/services/metering/agents/metering_agent.py:185#: neutron/services/metering/agents/metering_agent.py:220#: neutron/services/metering/agents/metering_agent.py:224#: neutron/services/metering/agents/metering_agent.py:229#: neutron/services/metering/agents/metering_agent.py:236","""Project-Id-Version: neutron 2014.2.dev626.gb44fa14\n""""POT-Creation-Date: 2014-06-10 06:07+0000\n""#: neutron/agent/dhcp_agent.py:49#: neutron/agent/dhcp_agent.py:52#: neutron/agent/dhcp_agent.py:54#: neutron/agent/dhcp_agent.py:56#: neutron/agent/dhcp_agent.py:60#: neutron/agent/dhcp_agent.py:63 neutron/agent/l3_agent.py:185 #: neutron/agent/metadata/namespace_proxy.py:166#: neutron/agent/dhcp_agent.py:100#: neutron/agent/dhcp_agent.py:107 neutron/agent/dhcp_agent.py:596#: neutron/agent/dhcp_agent.py:116#: neutron/agent/dhcp_agent.py:132#: neutron/agent/dhcp_agent.py:141 neutron/agent/dhcp_agent.py:199#: neutron/agent/dhcp_agent.py:143#: neutron/agent/dhcp_agent.py:153#: neutron/agent/dhcp_agent.py:165#: neutron/agent/dhcp_agent.py:171#: neutron/agent/dhcp_agent.py:175#: neutron/agent/dhcp_agent.py:187#: neutron/agent/dhcp_agent.py:203#: neutron/agent/dhcp_agent.py:215#: neutron/agent/dhcp_agent.py:340#: neutron/agent/dhcp_agent.py:578 neutron/agent/l3_agent.py:956 #: neutron/agent/metadata/agent.py:361 #: neutron/services/metering/agents/metering_agent.py:272#: neutron/agent/dhcp_agent.py:584 neutron/agent/l3_agent.py:961 #: neutron/agent/metadata/agent.py:366 #: neutron/plugins/ibm/agent/sdnve_neutron_agent.py:107 #: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:854 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:256 #: neutron/plugins/nec/agent/nec_neutron_agent.py:179#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:234#: neutron/services/metering/agents/metering_agent.py:277#: neutron/agent/dhcp_agent.py:591#: neutron/agent/dhcp_agent.py:593 neutron/agent/l3_agent.py:966 #: neutron/services/metering/agents/metering_agent.py:280#: neutron/agent/l3_agent.py:159 neutron/debug/debug_agent.py:43#: neutron/agent/l3_agent.py:163#: neutron/agent/l3_agent.py:167#: neutron/agent/l3_agent.py:170#: neutron/agent/l3_agent.py:175#: neutron/agent/l3_agent.py:177#: neutron/agent/l3_agent.py:180#: neutron/agent/l3_agent.py:182#: neutron/agent/l3_agent.py:205#: neutron/agent/l3_agent.py:233 neutron/agent/linux/dhcp.py:687#: neutron/agent/l3_agent.py:238#: neutron/agent/l3_agent.py:259#: neutron/agent/l3_agent.py:279#: neutron/agent/l3_agent.py:300 neutron/agent/linux/dhcp.py:198#: neutron/agent/l3_agent.py:330#: neutron/agent/l3_agent.py:354#: neutron/agent/l3_agent.py:403 #: neutron/services/firewall/agents/varmour/varmour_router.py:99#: neutron/agent/l3_agent.py:405 neutron/db/l3_db.py:968 #: neutron/services/firewall/agents/varmour/varmour_router.py:102#: neutron/agent/l3_agent.py:445#: neutron/agent/l3_agent.py:474#: neutron/agent/l3_agent.py:593#: neutron/agent/l3_agent.py:623#: neutron/agent/l3_agent.py:732#: neutron/agent/l3_agent.py:737#: neutron/agent/l3_agent.py:745#: neutron/agent/l3_agent.py:749#: neutron/agent/l3_agent.py:756#: neutron/agent/l3_agent.py:806#: neutron/agent/l3_agent.py:824#: neutron/agent/l3_agent.py:826 neutron/agent/l3_agent.py:864 #: neutron/services/metering/agents/metering_agent.py:58#: neutron/agent/l3_agent.py:844#: neutron/agent/l3_agent.py:855#: neutron/agent/l3_agent.py:858#: neutron/agent/l3_agent.py:860#: neutron/agent/l3_agent.py:873#: neutron/agent/l3_agent.py:888#: neutron/agent/l3_agent.py:896#: neutron/agent/l3_agent.py:929#: neutron/agent/l3_agent.py:953#: neutron/agent/netns_cleanup_util.py:59#: neutron/agent/netns_cleanup_util.py:116#: neutron/agent/netns_cleanup_util.py:140#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:675 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:272#: neutron/agent/linux/dhcp.py:180#: neutron/agent/linux/dhcp.py:187#: neutron/agent/linux/dhcp.py:219 neutron/agent/linux/external_process.py:80#: neutron/agent/linux/dhcp.py:226 neutron/agent/linux/external_process.py:88#: neutron/agent/linux/dhcp.py:228 neutron/agent/linux/external_process.py:86#: neutron/agent/linux/dhcp.py:289#: neutron/agent/linux/dhcp.py:294#: neutron/agent/linux/dhcp.py:392#: neutron/agent/linux/dhcp.py:404#: neutron/agent/linux/dhcp.py:405#: neutron/agent/linux/dhcp.py:445#: neutron/agent/linux/dhcp.py:455#: neutron/agent/linux/dhcp.py:471#: neutron/agent/linux/dhcp.py:694#: neutron/agent/linux/dhcp.py:734#: neutron/agent/linux/dhcp.py:744#: neutron/agent/linux/dhcp.py:788#: neutron/agent/linux/dhcp.py:802#: neutron/agent/linux/dhcp.py:837 neutron/debug/debug_agent.py:69#: neutron/agent/linux/interface.py:50 neutron/agent/metadata/agent.py:53#: neutron/agent/linux/interface.py:53 neutron/agent/metadata/agent.py:56#: neutron/agent/linux/interface.py:55 neutron/agent/metadata/agent.py:58#: neutron/agent/linux/interface.py:57 neutron/agent/metadata/agent.py:60#: neutron/agent/linux/interface.py:59 neutron/agent/metadata/agent.py:62#: neutron/plugins/bigswitch/agent/restproxy_agent.py:53#: neutron/agent/metadata/agent.py:51#: neutron/agent/metadata/agent.py:65#: neutron/agent/metadata/agent.py:68#: neutron/agent/metadata/agent.py:72#: neutron/agent/metadata/agent.py:75#: neutron/agent/metadata/agent.py:78#: neutron/agent/metadata/agent.py:81#: neutron/agent/metadata/agent.py:86#: neutron/agent/metadata/agent.py:88#: neutron/agent/metadata/agent.py:92#: neutron/agent/metadata/agent.py:95#: neutron/agent/metadata/agent.py:125 #: neutron/agent/metadata/namespace_proxy.py:68#: neutron/agent/metadata/agent.py:134 #: neutron/agent/metadata/namespace_proxy.py:76#: neutron/agent/metadata/agent.py:135 #: neutron/agent/metadata/namespace_proxy.py:77#: neutron/agent/metadata/agent.py:177#: neutron/agent/metadata/agent.py:229#: neutron/agent/metadata/agent.py:240 #: neutron/agent/metadata/namespace_proxy.py:120#: neutron/agent/metadata/agent.py:246 #: neutron/agent/metadata/namespace_proxy.py:126#: neutron/agent/metadata/agent.py:306#: neutron/agent/metadata/agent.py:309#: neutron/agent/metadata/agent.py:313#: neutron/agent/metadata/namespace_proxy.py:63#: neutron/agent/metadata/namespace_proxy.py:150#: neutron/agent/metadata/namespace_proxy.py:153#: neutron/agent/metadata/namespace_proxy.py:156#: neutron/agent/metadata/namespace_proxy.py:159#: neutron/agent/metadata/namespace_proxy.py:162#: neutron/api/extensions.py:519 neutron/api/extensions.py:525#: neutron/api/extensions.py:543#: neutron/api/extensions.py:551#: neutron/api/extensions.py:559#: neutron/api/extensions.py:567#: neutron/api/extensions.py:576#: neutron/api/extensions.py:607#: neutron/api/extensions.py:618#: neutron/db/db_base_plugin_v2.py:147#: neutron/db/db_base_plugin_v2.py:316#: neutron/db/db_base_plugin_v2.py:322#: neutron/db/db_base_plugin_v2.py:326#: neutron/db/db_base_plugin_v2.py:344#: neutron/db/db_base_plugin_v2.py:376#: neutron/db/db_base_plugin_v2.py:381#: neutron/db/db_base_plugin_v2.py:388#: neutron/db/db_base_plugin_v2.py:407#: neutron/db/db_base_plugin_v2.py:539#: neutron/db/db_base_plugin_v2.py:551#: neutron/db/db_base_plugin_v2.py:557#: neutron/db/db_base_plugin_v2.py:577#: neutron/db/db_base_plugin_v2.py:586 neutron/db/db_base_plugin_v2.py:619#: neutron/db/db_base_plugin_v2.py:634 #, python-format msgid ""Port update. Hold %s"" msgstr """" #: neutron/db/db_base_plugin_v2.py:696#: neutron/db/db_base_plugin_v2.py:701#: neutron/db/db_base_plugin_v2.py:721#: neutron/db/db_base_plugin_v2.py:728#: neutron/db/db_base_plugin_v2.py:735#: neutron/db/db_base_plugin_v2.py:739#: neutron/db/db_base_plugin_v2.py:744#: neutron/db/db_base_plugin_v2.py:757#: neutron/db/db_base_plugin_v2.py:768#: neutron/db/db_base_plugin_v2.py:781 neutron/db/db_base_plugin_v2.py:785#: neutron/db/db_base_plugin_v2.py:858#: neutron/db/db_base_plugin_v2.py:866#: neutron/db/db_base_plugin_v2.py:872#: neutron/db/db_base_plugin_v2.py:962#: neutron/db/db_base_plugin_v2.py:1059#: neutron/db/db_base_plugin_v2.py:1083#: neutron/db/db_base_plugin_v2.py:1103 neutron/db/db_base_plugin_v2.py:1117#: neutron/db/db_base_plugin_v2.py:1110#: neutron/db/db_base_plugin_v2.py:1126#: neutron/db/db_base_plugin_v2.py:1130#: neutron/db/db_base_plugin_v2.py:1420#: neutron/db/db_base_plugin_v2.py:1499#: neutron/services/firewall/fwaas_plugin.py:225#: neutron/services/firewall/fwaas_plugin.py:240#: neutron/services/firewall/fwaas_plugin.py:255#: neutron/services/firewall/fwaas_plugin.py:264#: neutron/services/firewall/fwaas_plugin.py:272#: neutron/services/firewall/fwaas_plugin.py:282#: neutron/services/firewall/fwaas_plugin.py:290#, python-format msgid ""No eligible backend for pool %(pool_id)s""msgid ""Vip %(vip_id)s could not be found""msgid ""Another Vip already exists for pool %(pool_id)s""msgid ""Pool %(pool_id)s could not be found""msgid ""Member %(member_id)s could not be found""msgid ""Health_monitor %(monitor_id)s could not be found""#: neutron/extensions/loadbalancer.py:62#: neutron/extensions/loadbalancer.py:67#: neutron/extensions/loadbalancer.py:71#: neutron/extensions/loadbalancer.py:75#: neutron/extensions/loadbalancer.py:80#: neutron/extensions/loadbalancer.py:84#: neutron/extensions/loadbalancer.py:89#: neutron/extensions/loadbalancer.py:305#: neutron/extensions/loadbalancer.py:309#: neutron/extensions/loadbalancer.py:313#: neutron/extensions/loadbalancer.py:317#: neutron/plugins/bigswitch/agent/restproxy_agent.py:113 #: neutron/plugins/ryu/agent/ryu_neutron_agent.py:235#: neutron/plugins/bigswitch/agent/restproxy_agent.py:117#: neutron/plugins/bigswitch/agent/restproxy_agent.py:120#: neutron/plugins/bigswitch/agent/restproxy_agent.py:148 #: neutron/plugins/ryu/agent/ryu_neutron_agent.py:268#: neutron/plugins/bigswitch/agent/restproxy_agent.py:152 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:406 #: neutron/plugins/nec/agent/nec_neutron_agent.py:222 #: neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py:156 #: neutron/plugins/ryu/agent/ryu_neutron_agent.py:272#: neutron/plugins/bigswitch/agent/restproxy_agent.py:158 #: neutron/plugins/ibm/agent/sdnve_neutron_agent.py:225 #: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:1021 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1372 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1406 #: neutron/plugins/ryu/agent/ryu_neutron_agent.py:278#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:49#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:55#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:57#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:61#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:68#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:149#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:184#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:205#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:211#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:214#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:219 #: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:679 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:170#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:244 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:130#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:257#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:269#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:277#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:290#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:303 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:115#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:312#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:316#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:329#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:333#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:358 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:208 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:322#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:363#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:371#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:378#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:404#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:412#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:437 #: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:995 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:390 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1274 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1304#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:445 #: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:1007#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:452#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:460 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:413#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:474 #: neutron/plugins/ibm/agent/sdnve_neutron_agent.py:269 #: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:1046#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1489#: neutron/plugins/ibm/agent/sdnve_neutron_agent.py:135#: neutron/plugins/ibm/agent/sdnve_neutron_agent.py:140#: neutron/plugins/ibm/agent/sdnve_neutron_agent.py:146#: neutron/plugins/ibm/agent/sdnve_neutron_agent.py:194#: neutron/plugins/ibm/agent/sdnve_neutron_agent.py:200#: neutron/plugins/ibm/agent/sdnve_neutron_agent.py:218#: neutron/plugins/ibm/agent/sdnve_neutron_agent.py:240#: neutron/plugins/ibm/agent/sdnve_neutron_agent.py:263 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1476#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:84#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:98#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:105#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:112#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:121#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:184#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:216#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:229#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:236#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:251#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:304#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:319#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:341#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:354#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:361#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:370#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:383#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:401#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:410#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:448#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:455#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:458#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:472#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:479#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:485#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:493#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:500#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:504#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:509#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:533 #: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:568#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:545#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:562#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:587#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:597#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:672 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:161 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:270#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:729 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:206#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:732 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:311#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:754 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:339#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:776 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:418#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:801 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:441#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:864#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:868 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:260 #: neutron/plugins/nec/agent/nec_neutron_agent.py:140 #: neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py:105#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:917#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:923 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1076 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1115 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1077 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1116#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:929 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1082 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1083#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:961 #: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:982 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:376 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1102 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1164 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1103 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1165#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:968 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1132 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1149 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1133 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1150#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:976 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1139 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1156 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1140 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1157#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:980 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:374 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1161 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1162#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:990#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:1002#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:1013#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:1036 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:428#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:1039 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:431#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:57#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:72#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:85#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:96#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:106#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:125#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:132#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:134#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:164#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:166#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:299#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:302#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:327#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:334#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:340#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:341#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:354#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:361#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:369#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:384#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:397#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:402#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:436#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:441#: neutron/plugins/nec/agent/nec_neutron_agent.py:52#: neutron/plugins/nec/agent/nec_neutron_agent.py:74 #: neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py:49#: neutron/plugins/nec/agent/nec_neutron_agent.py:217#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1235#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:546 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:278 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:609#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:290#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:299#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:302#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:464 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:517#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:467 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:525#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:479 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:547#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:487 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:566#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:497 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:586#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:506 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:595#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:549 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:612#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:588 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:652#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:639 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:698#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:713#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:803 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:780#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:887 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:871#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:893 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:877#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:961 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:964#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:990 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:993#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:998 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1003#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1011 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1016 #: neutron/tests/unit/ofagent/test_ofa_neutron_agent.py:665 #: neutron/tests/unit/openvswitch/test_ovs_neutron_agent.py:753#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1014 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1019 #: neutron/tests/unit/ofagent/test_ofa_neutron_agent.py:648 #: neutron/tests/unit/ofagent/test_ofa_neutron_agent.py:668 #: neutron/tests/unit/openvswitch/test_ovs_neutron_agent.py:736 #: neutron/tests/unit/openvswitch/test_ovs_neutron_agent.py:756 #: neutron/tests/unit/openvswitch/test_ovs_neutron_agent.py:773#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1062 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1061#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1068 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1067#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1093 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1094#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1097 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1098#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1100 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1101#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1110 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1111#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1185#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1193#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1206 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1213#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1215 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1222#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1242 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1264#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1270#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1281 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1311#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1285 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1315#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1289#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1302#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1312 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1348#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1316#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1331#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1341#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1356 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1390#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1363#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1396 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1434#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1419#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:1422 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1460#: neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py:151#: neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py:158#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:222#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:287#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:488#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:759#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1192#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1200#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1301#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1325#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1338#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1353#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1367#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1376#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1397#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1457#: neutron/plugins/ryu/agent/ryu_neutron_agent.py:93#: neutron/plugins/ryu/agent/ryu_neutron_agent.py:159#: neutron/plugins/ryu/agent/ryu_neutron_agent.py:167#: neutron/plugins/ryu/agent/ryu_neutron_agent.py:217#: neutron/plugins/ryu/agent/ryu_neutron_agent.py:218#: neutron/plugins/ryu/agent/ryu_neutron_agent.py:295#: neutron/plugins/ryu/agent/ryu_neutron_agent.py:297#: neutron/plugins/ryu/agent/ryu_neutron_agent.py:299#: neutron/plugins/ryu/agent/ryu_neutron_agent.py:305#: neutron/plugins/ryu/agent/ryu_neutron_agent.py:308#: neutron/plugins/vmware/api_client/eventlet_client.py:144#: neutron/plugins/vmware/api_client/eventlet_client.py:149#: neutron/services/firewall/fwaas_plugin.py:63#: neutron/services/firewall/fwaas_plugin.py:70#: neutron/services/firewall/fwaas_plugin.py:78#: neutron/services/firewall/fwaas_plugin.py:87#: neutron/services/firewall/fwaas_plugin.py:93#: neutron/services/firewall/fwaas_plugin.py:141#: neutron/services/firewall/agents/varmour/varmour_router.py:46#: neutron/services/firewall/agents/varmour/varmour_router.py:60#: neutron/services/firewall/agents/varmour/varmour_router.py:67#: neutron/services/firewall/agents/varmour/varmour_router.py:108#: neutron/services/firewall/agents/varmour/varmour_router.py:140#: neutron/services/firewall/agents/varmour/varmour_router.py:160#: neutron/services/firewall/agents/varmour/varmour_router.py:191#: neutron/services/firewall/agents/varmour/varmour_router.py:206#: neutron/services/firewall/agents/varmour/varmour_router.py:219#: neutron/services/firewall/agents/varmour/varmour_router.py:251#: neutron/services/firewall/agents/varmour/varmour_router.py:273#: neutron/services/firewall/agents/varmour/varmour_router.py:284#: neutron/services/firewall/agents/varmour/varmour_router.py:287#: neutron/services/firewall/agents/varmour/varmour_router.py:306#: neutron/services/loadbalancer/agent/agent.py:33#: neutron/services/metering/agents/metering_agent.py:67#: neutron/services/metering/agents/metering_agent.py:69#: neutron/services/metering/agents/metering_agent.py:71#: neutron/services/metering/agents/metering_agent.py:95#: neutron/services/metering/agents/metering_agent.py:97#: neutron/services/metering/agents/metering_agent.py:112#: neutron/services/metering/agents/metering_agent.py:179#: neutron/services/metering/agents/metering_agent.py:183#: neutron/services/metering/agents/metering_agent.py:218#: neutron/services/metering/agents/metering_agent.py:222#: neutron/services/metering/agents/metering_agent.py:227#: neutron/services/metering/agents/metering_agent.py:234",1143,1111
openstack%2Fhorizon~master~I80cdb67df87cb5192f220bc78a156d6e4113112f,openstack/horizon,master,I80cdb67df87cb5192f220bc78a156d6e4113112f,Fix formatting of heat exceptions,MERGED,2014-04-13 21:19:29.000000000,2014-06-17 04:48:17.000000000,2014-04-17 10:33:50.000000000,"[{'_account_id': 3}, {'_account_id': 2455}, {'_account_id': 4571}, {'_account_id': 5733}, {'_account_id': 6914}, {'_account_id': 8876}, {'_account_id': 9317}, {'_account_id': 10112}]","[{'number': 1, 'created': '2014-04-13 21:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3c7f214b6ddff20abf495a9b8fd9c8194e0d7333', 'message': 'Fix formatting of heat exceptions\n\nHeat now consistently formats error messages in returned HTTP json\nand heatclient HTTPException makes every attempt to capture these\nmessages.\n\nThis means that the safest way to display an error or validation\nmessage from Heat is to convert the exception to a string.\n\nChange-Id: I80cdb67df87cb5192f220bc78a156d6e4113112f\nCloses-Bug: #1241395\n'}, {'number': 2, 'created': '2014-04-13 22:47:34.000000000', 'files': ['openstack_dashboard/dashboards/project/stacks/tests.py', 'openstack_dashboard/dashboards/project/stacks/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/2c7db077b265c25573bfef73586a539fa639f65f', 'message': ""Fix formatting of heat exceptions\n\nHeat now consistently formats error messages in returned HTTP json\nand heatclient HTTPException makes every attempt to capture these\nmessages.\n\nThis means that the safest way to display an error or validation\nmessage from Heat is to rely on the existing behaviour of\nHorizon's exceptions.handle.\n\nChange-Id: I80cdb67df87cb5192f220bc78a156d6e4113112f\nCloses-Bug: #1241395\n""}]",2,87138,2c7db077b265c25573bfef73586a539fa639f65f,18,8,2,4571,,,0,"Fix formatting of heat exceptions

Heat now consistently formats error messages in returned HTTP json
and heatclient HTTPException makes every attempt to capture these
messages.

This means that the safest way to display an error or validation
message from Heat is to rely on the existing behaviour of
Horizon's exceptions.handle.

Change-Id: I80cdb67df87cb5192f220bc78a156d6e4113112f
Closes-Bug: #1241395
",git fetch https://review.opendev.org/openstack/horizon refs/changes/38/87138/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/stacks/forms.py'],1,3c7f214b6ddff20abf495a9b8fd9c8194e0d7333,bug/1241395, return unicode(e)," try: error = json.loads(str(e)) # NOTE(jianingy): if no message exists, we just return 'None' # and let the caller to deciede what to show return error['error'].get('message', None) except Exception: # NOTE(jianingy): fallback to legacy message parsing approach # either if error message isn't a json nor the json isn't in # valid format. validation_patterns = [ ""Remote error: \w* {'Error': '(.*?)'}"", 'Remote error: \w* (.*?) \[', '400 Bad Request\n\nThe server could not comply with the request ' 'since it is either malformed or otherwise incorrect.\n\n (.*)', '(ParserError: .*)' ] for pattern in validation_patterns: match = re.search(pattern, str(e)) if match: return match.group(1)",1,21
openstack%2Fpython-glanceclient~master~I9a923089a55c9a4f3ac80756af3603d4a2d11345,openstack/python-glanceclient,master,I9a923089a55c9a4f3ac80756af3603d4a2d11345,Add exception to create image in V1,ABANDONED,2014-05-08 16:02:54.000000000,2014-06-17 04:37:46.000000000,,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 6159}, {'_account_id': 6484}, {'_account_id': 9126}]","[{'number': 1, 'created': '2014-05-08 16:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/9106ecdddd2aa965fcdc8aa8d065a743b48bc9c0', 'message': 'Add exception to create image in V1\n\nIf someone tries to input a non-integer argue into the size\nparameter in create image command in v1, the CLI will throw\na 400 error. This patch adds the code to catch the exception.\n\nFixes Bug: #1315292\n\nChange-Id: I9a923089a55c9a4f3ac80756af3603d4a2d11345\n'}, {'number': 2, 'created': '2014-05-21 17:32:47.000000000', 'files': ['tests/v1/test_shell.py', 'glanceclient/v1/shell.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/4a3b6c97191cf0b22c39987b3b7ec4dcf4ea0df8', 'message': 'Add exception to create image in V1\n\nIf someone tries to input a non-integer argue into the size\nparameter in create image command in v1, the CLI will throw\na 400 error. This patch adds the code to catch the exception.\n\nFixes Bug: #1315292\n\nChange-Id: I9a923089a55c9a4f3ac80756af3603d4a2d11345\n'}]",9,92865,4a3b6c97191cf0b22c39987b3b7ec4dcf4ea0df8,17,5,2,9096,,,0,"Add exception to create image in V1

If someone tries to input a non-integer argue into the size
parameter in create image command in v1, the CLI will throw
a 400 error. This patch adds the code to catch the exception.

Fixes Bug: #1315292

Change-Id: I9a923089a55c9a4f3ac80756af3603d4a2d11345
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/65/92865/1 && git format-patch -1 --stdout FETCH_HEAD,['glanceclient/v1/shell.py'],1,9106ecdddd2aa965fcdc8aa8d065a743b48bc9c0,bug/1315292," try: # Only show progress bar for local image files if fields.get('data') and args.progress: filesize = utils.get_file_size(fields['data']) fields['data'] = progressbar.VerboseFileWrapper( fields['data'], filesize ) image = gc.images.create(**fields) _image_show(image, args.human_readable) except exc.HTTPException as e: print('Unable to create image')"," # Only show progress bar for local image files if fields.get('data') and args.progress: filesize = utils.get_file_size(fields['data']) fields['data'] = progressbar.VerboseFileWrapper( fields['data'], filesize ) image = gc.images.create(**fields) _image_show(image, args.human_readable)",12,8
openstack%2Ftripleo-image-elements~master~Ic24b138a50ac1b137109dac43003c5ab64d86c6e,openstack/tripleo-image-elements,master,Ic24b138a50ac1b137109dac43003c5ab64d86c6e,Fixes start of mysql service on node upgrade,ABANDONED,2014-04-11 14:59:36.000000000,2014-06-17 04:16:11.000000000,,"[{'_account_id': 3}, {'_account_id': 951}, {'_account_id': 1605}, {'_account_id': 1872}, {'_account_id': 6449}, {'_account_id': 6488}, {'_account_id': 9369}, {'_account_id': 10035}]","[{'number': 1, 'created': '2014-04-11 14:59:36.000000000', 'files': ['elements/mysql/os-refresh-config/configure.d/51-mysql-init'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/5a28e6765a158a3c48d1255ad0b0e28772c233fe', 'message': 'Fixes start of mysql service on node upgrade\n\nStart mysql service after node has been re-imaged/upgraded.\n\nChange-Id: Ic24b138a50ac1b137109dac43003c5ab64d86c6e\nCloses-Bug: #1306596\n'}]",7,86925,5a28e6765a158a3c48d1255ad0b0e28772c233fe,26,8,1,951,,,0,"Fixes start of mysql service on node upgrade

Start mysql service after node has been re-imaged/upgraded.

Change-Id: Ic24b138a50ac1b137109dac43003c5ab64d86c6e
Closes-Bug: #1306596
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/25/86925/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/mysql/os-refresh-config/configure.d/51-mysql-init'],1,5a28e6765a158a3c48d1255ad0b0e28772c233fe,, os-svc-restart -n mysql, else os-svc-restart mysql,2,2
openstack%2Fzaqar~master~Idc8e07b67c884c4c6e6632f7e31efd384353e34c,openstack/zaqar,master,Idc8e07b67c884c4c6e6632f7e31efd384353e34c,remove default=None for config options,MERGED,2014-06-12 02:06:33.000000000,2014-06-17 04:13:47.000000000,2014-06-17 04:13:47.000000000,"[{'_account_id': 3}, {'_account_id': 6484}, {'_account_id': 7498}, {'_account_id': 8092}]","[{'number': 1, 'created': '2014-06-12 02:06:33.000000000', 'files': ['marconi/tests/functional/config.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/d9fe301633825605174f81a73c473e4a7594bbaa', 'message': ""remove default=None for config options\n\nIn the cfg module default=None is set as the default value. It's not\nnecessary to set it again when defining config options.\n\nChange-Id: Idc8e07b67c884c4c6e6632f7e31efd384353e34c\nCloses-Bug: #1323975\n""}]",0,99545,d9fe301633825605174f81a73c473e4a7594bbaa,11,4,1,6676,,,0,"remove default=None for config options

In the cfg module default=None is set as the default value. It's not
necessary to set it again when defining config options.

Change-Id: Idc8e07b67c884c4c6e6632f7e31efd384353e34c
Closes-Bug: #1323975
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/45/99545/1 && git format-patch -1 --stdout FETCH_HEAD,['marconi/tests/functional/config.py'],1,d9fe301633825605174f81a73c473e4a7594bbaa,bug/1323975," cfg.StrOpt(""username""), cfg.StrOpt(""password""),"," cfg.StrOpt(""username"", default=None), cfg.StrOpt(""password"", default=None),",2,2
openstack%2Fzaqar~master~I0945fd50fd00c53808412bbc6a837dc153abef25,openstack/zaqar,master,I0945fd50fd00c53808412bbc6a837dc153abef25,Re-enable tests affected by #1321840,MERGED,2014-06-10 15:03:52.000000000,2014-06-17 04:13:01.000000000,2014-06-17 04:13:00.000000000,"[{'_account_id': 3}, {'_account_id': 6484}, {'_account_id': 7498}, {'_account_id': 8092}]","[{'number': 1, 'created': '2014-06-10 15:03:52.000000000', 'files': ['tests/functional/wsgi/v1/test_claims.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/29c55e3b6b43b3a45a88ec3603fc29238e65fa75', 'message': 'Re-enable tests affected by #1321840\n\nUncomments tests that were failing due to the above bug\n\nChange-Id: I0945fd50fd00c53808412bbc6a837dc153abef25\n'}]",0,99117,29c55e3b6b43b3a45a88ec3603fc29238e65fa75,11,4,1,11399,,,0,"Re-enable tests affected by #1321840

Uncomments tests that were failing due to the above bug

Change-Id: I0945fd50fd00c53808412bbc6a837dc153abef25
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/17/99117/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/functional/wsgi/v1/test_claims.py'],1,29c55e3b6b43b3a45a88ec3603fc29238e65fa75,reendable," self.assertSchema(result.json(), 'claim_create') self.assertSchema(result.json(), 'claim_get')"," # NOTE(abettadapur) This fails because of Bug #1321840 # self.assertSchema(result.json(), 'claim_create') # NOTE(abettadapur) This fails because of Bug #1321840 # self.assertSchema(result.json(), 'claim_get')",2,4
openstack%2Fpython-novaclient~master~Ia820d62c4a1f428d60d88b04d8a4d9b1442baa09,openstack/python-novaclient,master,Ia820d62c4a1f428d60d88b04d8a4d9b1442baa09,Add posargs support to flake8 call,MERGED,2014-06-16 07:04:36.000000000,2014-06-17 03:59:22.000000000,2014-06-17 03:59:22.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 2750}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-06-16 07:04:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/b4d0280f03cc5c172351a4d526d0438371c7a773', 'message': ""Add posargs support to flake8 call\n\nAdd posargs to flake8 call in tox.ini, with this you can pass arguments\ndirectly into flake8 using the following notation\n  tox -epep8 -- --FLAKE8-ARG\n\nThis can be used to pass arguments like '--statistics' to flake8\n\nChange-Id: Ia820d62c4a1f428d60d88b04d8a4d9b1442baa09\n""}]",0,100160,b4d0280f03cc5c172351a4d526d0438371c7a773,14,4,1,1849,,,0,"Add posargs support to flake8 call

Add posargs to flake8 call in tox.ini, with this you can pass arguments
directly into flake8 using the following notation
  tox -epep8 -- --FLAKE8-ARG

This can be used to pass arguments like '--statistics' to flake8

Change-Id: Ia820d62c4a1f428d60d88b04d8a4d9b1442baa09
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/60/100160/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b4d0280f03cc5c172351a4d526d0438371c7a773,hacking,commands = flake8 {posargs},commands = flake8,1,1
openstack%2Ftraining-guides~master~I0aebc71e416bf931aa698d66d9e135ba05fda017,openstack/training-guides,master,I0aebc71e416bf931aa698d66d9e135ba05fda017,Add network configuration templates,MERGED,2014-06-16 13:55:29.000000000,2014-06-17 03:50:19.000000000,2014-06-17 03:50:19.000000000,"[{'_account_id': 3}, {'_account_id': 2448}, {'_account_id': 6923}, {'_account_id': 7007}]","[{'number': 1, 'created': '2014-06-16 13:55:29.000000000', 'files': ['labs/lib/osbash/templates/template-ubuntu-interfaces-nat', 'labs/lib/osbash/templates/template-ubuntu-interfaces-loopback', 'labs/lib/osbash/templates/template-fedora-ifcfg-nat', 'labs/lib/osbash/templates/template-fedora-ifcfg-hostonly', 'labs/lib/osbash/templates/template-ubuntu-interfaces-hostonly'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/c628cc38c44d2af1e20fea344a386e57266b7d92', 'message': 'Add network configuration templates\n\nThis changeset adds templates used by osbash/wbatch guest-side scripts\nwhen creating network configuration files.\n\nThe template-ubuntu-interfaces-* files are for /etc/network/interfaces\n(as used by Ubuntu and Debian).\n\nThe template-fedora-ifcfg-* files are for ifcfg-<interfacename> files\nin /etc/sysconfig/network-scripts/ (as used by Fedora).\n\nPartial-Bug: 1312764\nImplements: blueprint openstack-training-labs\nChange-Id: I0aebc71e416bf931aa698d66d9e135ba05fda017\n'}]",0,100255,c628cc38c44d2af1e20fea344a386e57266b7d92,9,4,1,11109,,,0,"Add network configuration templates

This changeset adds templates used by osbash/wbatch guest-side scripts
when creating network configuration files.

The template-ubuntu-interfaces-* files are for /etc/network/interfaces
(as used by Ubuntu and Debian).

The template-fedora-ifcfg-* files are for ifcfg-<interfacename> files
in /etc/sysconfig/network-scripts/ (as used by Fedora).

Partial-Bug: 1312764
Implements: blueprint openstack-training-labs
Change-Id: I0aebc71e416bf931aa698d66d9e135ba05fda017
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/55/100255/1 && git format-patch -1 --stdout FETCH_HEAD,"['labs/lib/osbash/templates/template-ubuntu-interfaces-nat', 'labs/lib/osbash/templates/template-ubuntu-interfaces-loopback', 'labs/lib/osbash/templates/template-fedora-ifcfg-nat', 'labs/lib/osbash/templates/template-fedora-ifcfg-hostonly', 'labs/lib/osbash/templates/template-ubuntu-interfaces-hostonly']",5,c628cc38c44d2af1e20fea344a386e57266b7d92,bug/1312764,auto %IF_NAME% iface %IF_NAME% inet static address %IP_ADDRESS% netmask 255.255.255.0 ,,19,0
openstack%2Ftraining-guides~master~I43cf5f47ac17b8292c5ce32a6849e89d1e192be3,openstack/training-guides,master,I43cf5f47ac17b8292c5ce32a6849e89d1e192be3,Add batch_for_windows,MERGED,2014-06-16 12:15:33.000000000,2014-06-17 03:47:04.000000000,2014-06-17 03:47:04.000000000,"[{'_account_id': 3}, {'_account_id': 2448}, {'_account_id': 6923}, {'_account_id': 7007}]","[{'number': 1, 'created': '2014-06-16 12:15:33.000000000', 'files': ['labs/lib/wbatch/batch_for_windows'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/d9433b8aad9d8bfc41fae4e5f0e4221b47f9f099', 'message': 'Add batch_for_windows\n\nAdd a library used by osbash to generate Windows batch files that\ncan build a base disk and create a VM cluster with no dependency\nother than VirtualBox.\n\nPartial-Bug: 1312764\nImplements: blueprint openstack-training-labs\nChange-Id: I43cf5f47ac17b8292c5ce32a6849e89d1e192be3\n'}]",0,100232,d9433b8aad9d8bfc41fae4e5f0e4221b47f9f099,8,4,1,11109,,,0,"Add batch_for_windows

Add a library used by osbash to generate Windows batch files that
can build a base disk and create a VM cluster with no dependency
other than VirtualBox.

Partial-Bug: 1312764
Implements: blueprint openstack-training-labs
Change-Id: I43cf5f47ac17b8292c5ce32a6849e89d1e192be3
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/32/100232/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/lib/wbatch/batch_for_windows'],1,d9433b8aad9d8bfc41fae4e5f0e4221b47f9f099,bug/1312764,"# This bash library contains the functions that allow osbash to produce # Windows batch files. : ${WBATCH_DIR:=""$TOP_DIR/wbatch""} # By default, Windows batch file templates are in the same directory as this # file : ${WBATCH_TEMPLATE_DIR:=$(dirname ""$BASH_SOURCE"")} # wbatch cannot use ssh for talking to the VM; install VirtualBox guest # additions VM_ACCESS=vbadd #------------------------------------------------------------------------------- # Helper functions #------------------------------------------------------------------------------- # See functions.host for definition and explanation of exec_cmd WBATCH=exec_cmd # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - function wbatch_reset { clean_dir ""$WBATCH_DIR"" } function wbatch_new_file { local NAME=$1 mkdir -p ""$WBATCH_DIR"" WBATCH_OUT=""$WBATCH_DIR/$NAME"" echo -n > ""$WBATCH_OUT"" } function wbatch_close_file { unset WBATCH_OUT } # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - function wbatch_write_line { if [ -n ""${WBATCH_OUT:-}"" ]; then # Don't expand backslash escapes except for ending the line with CRLF # # Note: Windows batch scripts with LF may seem to work, but (for # instance) jump labels don't work properly echo -n ""$@"" >> ""$WBATCH_OUT"" echo -e ""\r"" >> ""$WBATCH_OUT"" fi } function wbatch_write_stdin { local LINE="""" # Set IFS to preserve leading whitespace while IFS= read -r LINE; do wbatch_write_line ""$LINE"" done } function wbatch_echo { wbatch_write_line ""ECHO %time% $@"" } #------------------------------------------------------------------------------- # Batch function calls #------------------------------------------------------------------------------- function wbatch_abort_if_vm_exists { local VM=$1 wbatch_write_line ""CALL :vm_exists $VM"" } function wbatch_wait_poweroff { local VM=$1 cat << WBAT | wbatch_write_stdin ECHO %time% Waiting for VM $VM to power off. CALL :wait_poweroff $VM ECHO %time% VM $VM powered off. WBAT } function wbatch_wait_auto { cat << WBAT | wbatch_write_stdin ECHO %time% Waiting for autostart files to execute. CALL :wait_auto ECHO %time% All autostart files executed. WBAT } #------------------------------------------------------------------------------- # Batch commands #------------------------------------------------------------------------------- function wbatch_delete_disk { local DISK=$(basename ""$1"") wbatch_write_line ""IF EXIST %IMGDIR%\\$DISK DEL %IMGDIR%\\$DISK"" } function wbatch_rename_disk { local SOURCE=$(basename ""$1"") local TARGET=$(basename ""$2"") wbatch_write_line ""MOVE /y %IMGDIR%\\$SOURCE %IMGDIR%\\$TARGET"" } function wbatch_cp_auto { local SOURCE=$(wbatch_path_to_windows ""$1"") local TARGET=$(basename ""$2"") SOURCE=${SOURCE//\//\\} wbatch_write_line ""COPY %TOPDIR%\\$SOURCE %AUTODIR%\\$TARGET"" } function wbatch_sleep { local SEC=$1 wbatch_write_line ""TIMEOUT /T $SEC /NOBREAK"" } #------------------------------------------------------------------------------- # Templated parts #------------------------------------------------------------------------------- # Note: BSD and GNU sed behavior is different. Don't try anything fancy # like inserting \r or in-place editing (-i). function wbatch_file_header { local PRODUCT=$1 local DATE=$(date -u) sed -e "" s,%USER%,$USER,g; s,%HOSTNAME%,$HOSTNAME,g; s,%DATE%,$DATE,g; s,%PRODUCT%,$PRODUCT,g; "" ""$WBATCH_TEMPLATE_DIR/template-file_header_bat"" | wbatch_write_stdin } function wbatch_end_file { cat ""$WBATCH_TEMPLATE_DIR/template-end_file_bat"" | wbatch_write_stdin wbatch_close_file } function wbatch_find_vbm { cat ""$WBATCH_TEMPLATE_DIR/template-find_vbm_bat"" | wbatch_write_stdin } function wbatch_mkdirs { local AUTODIR=$(wbatch_path_to_windows ""$AUTOSTART_DIR"") local IMGDIR=$(wbatch_path_to_windows ""$IMG_DIR"") local LOGDIR=$(wbatch_path_to_windows ""$LOG_DIR"") local STATUSDIR=$(wbatch_path_to_windows ""$STATUS_DIR"") AUTODIR=""$(wbatch_escape_backslash ""$AUTODIR"")"" IMGDIR=""$(wbatch_escape_backslash ""$IMGDIR"")"" LOGDIR=""$(wbatch_escape_backslash ""$LOGDIR"")"" STATUSDIR=""$(wbatch_escape_backslash ""$STATUSDIR"")"" sed -e "" s,%P_AUTODIR%,$AUTODIR,g; s,%P_IMGDIR%,$IMGDIR,g; s,%P_LOGDIR%,$LOGDIR,g; s,%P_STATUSDIR%,$STATUSDIR,g; "" ""$WBATCH_TEMPLATE_DIR/template-mkdirs_bat"" | wbatch_write_stdin } function wbatch_create_hostnet { wbatch_new_file ""create_hostnet.bat"" wbatch_file_header ""host-only networks"" wbatch_find_vbm sed -e "" s,%APINET%,$API_NET,g; s,%DATANET%,$DATA_NET,g; s,%MGMTNET%,$MGMT_NET,g; "" ""$WBATCH_TEMPLATE_DIR/template-create_hostnet_bat"" | wbatch_write_stdin wbatch_end_file } function wbatch_begin_base { local ISO_NAME=$(get_iso_name) if [ -z ""$ISO_NAME"" ]; then echo >&2 ""Windows batch file needs install ISO URL (ISO_URL)."" exit 1 fi wbatch_new_file ""create_base.bat"" wbatch_file_header ""base disk"" wbatch_find_vbm wbatch_mkdirs sed -e "" s,%INSTALLFILE%,$ISO_NAME,g; s,%ISOURL%,$ISO_URL,g; "" ""$WBATCH_TEMPLATE_DIR/template-begin_base_bat"" | wbatch_write_stdin } function wbatch_begin_node { local NAME=$1 wbatch_new_file ""create_${NAME}_node.bat"" wbatch_file_header ""$NAME VM"" wbatch_find_vbm wbatch_mkdirs local BASEDISK=$(basename ""$BASE_DISK"") sed -e "" s,%BASEDISK%,$BASEDISK,g; "" ""$WBATCH_TEMPLATE_DIR/template-begin_node_bat"" | wbatch_write_stdin } #------------------------------------------------------------------------------- # VBoxManage call handling #------------------------------------------------------------------------------- function wbatch_get_hostif_subst { local HOSTIF=$1 case ""$HOSTIF"" in ${MGMT_NET_IF:-""""}) echo 'VirtualBox Host-Only Ethernet Adapter' ;; ${DATA_NET_IF:-""""}) echo 'VirtualBox Host-Only Ethernet Adapter #2' ;; ${API_NET_IF:-""""}) echo 'VirtualBox Host-Only Ethernet Adapter #3' ;; *) return 1 ;; esac } function wbatch_log_vbm { ARGS=( ""$@"" ) for i in ""${!ARGS[@]}""; do case ""${ARGS[i]}"" in --hostonlyadapter*) # The next arg is the host-only interface name -> change it ARGS[i+1]=\""$(wbatch_get_hostif_subst ""${ARGS[i+1]}"")\"" ;; --hostpath) # The next arg is the shared dir -> change it ARGS[i+1]='%SHAREDIR%' continue ;; esac # On Windows, ISO and base disk images must be in IMGDIR re='\.(iso|vdi)$' if [[ ""${ARGS[i]}"" =~ $re ]]; then local IMG_NAME=$(basename ""${ARGS[i]}"") ARGS[i]=""%IMGDIR%\\$IMG_NAME"" continue fi done # Echo what we are about to do wbatch_write_line ""ECHO VBoxManage ${ARGS[@]}"" wbatch_write_line ""VBoxManage ${ARGS[@]}"" # Abort if VBoxManage call raised errorlevel wbatch_write_line ""IF %errorlevel% NEQ 0 GOTO :vbm_error"" # Blank line for readability wbatch_write_line """" } #------------------------------------------------------------------------------- # Windows path name helpers #------------------------------------------------------------------------------- # On Windows, all paths are relative to TOP_DIR function wbatch_path_to_windows { local FULL_PATH=$1 # strip off ${TOP_DIR}/ FULL_PATH=""${FULL_PATH/$TOP_DIR\//}"" FULL_PATH=$(wbatch_slash_to_backslash ""$FULL_PATH"") echo ""$FULL_PATH"" } # Escape backslashes in (path) variables that are given to sed function wbatch_escape_backslash { local STRING=$1 STRING=""${STRING//\\/\\\\}"" echo ""$STRING"" } function wbatch_slash_to_backslash { local SOME_PATH=$1 SOME_PATH=""${SOME_PATH//\//\\}"" echo ""$SOME_PATH"" } # vim: set ai ts=4 sw=4 et ft=sh: ",,296,0
openstack%2Ftripleo-image-elements~master~I4b35b98be789d689a95c363790ff2bdd548eae10,openstack/tripleo-image-elements,master,I4b35b98be789d689a95c363790ff2bdd548eae10,Update to use flavor_extra_specs.,MERGED,2014-06-17 01:33:32.000000000,2014-06-17 02:46:37.000000000,2014-06-17 02:46:37.000000000,"[{'_account_id': 3}, {'_account_id': 4190}, {'_account_id': 9453}, {'_account_id': 10035}]","[{'number': 1, 'created': '2014-06-17 01:33:32.000000000', 'files': ['elements/nova/os-apply-config/etc/nova/nova.conf'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/28a4cb814c49fe43cc5f46a7f649aa2b9af59170', 'message': 'Update to use flavor_extra_specs.\n\nNova recently dropped the deprecated instance_type_extra_specs\nconfig option. This commit updates our TripleO nova.conf\nconfig to use the new format.\n\nCloses-bug #1330735\n\nChange-Id: I4b35b98be789d689a95c363790ff2bdd548eae10\n'}]",0,100399,28a4cb814c49fe43cc5f46a7f649aa2b9af59170,11,4,1,360,,,0,"Update to use flavor_extra_specs.

Nova recently dropped the deprecated instance_type_extra_specs
config option. This commit updates our TripleO nova.conf
config to use the new format.

Closes-bug #1330735

Change-Id: I4b35b98be789d689a95c363790ff2bdd548eae10
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/99/100399/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/nova/os-apply-config/etc/nova/nova.conf'],1,28a4cb814c49fe43cc5f46a7f649aa2b9af59170,bug/1330735,flavor_extra_specs = cpu_arch:{{arch}},instance_type_extra_specs = cpu_arch:{{arch}},1,1
openstack%2Fpuppet-swift~stable%2Ficehouse~I5662c4337ff23310c12a86834c51c6a3ec151a1f,openstack/puppet-swift,stable/icehouse,I5662c4337ff23310c12a86834c51c6a3ec151a1f,Fix path for restorecon,MERGED,2014-06-16 14:13:53.000000000,2014-06-17 02:34:48.000000000,2014-06-17 02:34:48.000000000,"[{'_account_id': 3}, {'_account_id': 1607}, {'_account_id': 1918}, {'_account_id': 5241}, {'_account_id': 6525}, {'_account_id': 7462}, {'_account_id': 8083}, {'_account_id': 10261}]","[{'number': 1, 'created': '2014-06-16 14:13:53.000000000', 'files': ['manifests/storage/mount.pp', 'spec/defines/swift_storage_mount_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/80ec3a7576efad5e13d37a8c760ed0ad7f36055f', 'message': 'Fix path for restorecon\n\nOn RHEL6 restorecon is in /sbin and on newer RHEL based systems it is in /usr/sbin\n\nCloses-Bug: rhbz#1109079\nChange-Id: I5662c4337ff23310c12a86834c51c6a3ec151a1f\n(cherry picked from commit c6e0dff2b49183dd6d94d32e80d353172d3365ac)\n'}]",0,100259,80ec3a7576efad5e13d37a8c760ed0ad7f36055f,10,8,1,11166,,,0,"Fix path for restorecon

On RHEL6 restorecon is in /sbin and on newer RHEL based systems it is in /usr/sbin

Closes-Bug: rhbz#1109079
Change-Id: I5662c4337ff23310c12a86834c51c6a3ec151a1f
(cherry picked from commit c6e0dff2b49183dd6d94d32e80d353172d3365ac)
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/59/100259/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/storage/mount.pp', 'spec/defines/swift_storage_mount_spec.rb']",2,80ec3a7576efad5e13d37a8c760ed0ad7f36055f,," :path => ['/usr/sbin', '/sbin'],"," :path => ['/usr/sbin', '/bin'],",2,2
openstack%2Ftripleo-ci~master~I3c62e7c366d3330987343088ea7dcb4ea3bcc9a3,openstack/tripleo-ci,master,I3c62e7c366d3330987343088ea7dcb4ea3bcc9a3,Just a hunch...,ABANDONED,2014-06-16 20:13:08.000000000,2014-06-17 02:34:35.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 10035}]","[{'number': 1, 'created': '2014-06-16 20:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3987df5aec067b4dbe1463a833752ef76d4fcde4', 'message': ""Just a hunch...\n\nTesting a revert of nova commit 9639b55b614082206207e67af7dde7af85a9b614\n\n  'Fix infinitely reschedule instance due to miss retry info'\n\nChange-Id: I3c62e7c366d3330987343088ea7dcb4ea3bcc9a3\n""}, {'number': 2, 'created': '2014-06-17 01:28:53.000000000', 'files': ['toci_devtest.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/89574ee2122eaea895bc6d9840faad0618660e23', 'message': 'Just a hunch...\n\nTesting a revert of nova commit 1d340cc79baa9124ce15b3bbd9726da363aa6e6d\n\nChange-Id: I3c62e7c366d3330987343088ea7dcb4ea3bcc9a3\n'}]",0,100337,89574ee2122eaea895bc6d9840faad0618660e23,12,3,2,360,,,0,"Just a hunch...

Testing a revert of nova commit 1d340cc79baa9124ce15b3bbd9726da363aa6e6d

Change-Id: I3c62e7c366d3330987343088ea7dcb4ea3bcc9a3
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/37/100337/2 && git format-patch -1 --stdout FETCH_HEAD,['toci_devtest.sh'],1,3987df5aec067b4dbe1463a833752ef76d4fcde4,test_revert,temprevert nova 9639b55b614082206207e67af7dde7af85a9b614 XXXX ,,2,0
openstack%2Fopenstacksdk~master~I98ce49fa49343dfb93459ca0cd5dc5f658fba2d1,openstack/openstacksdk,master,I98ce49fa49343dfb93459ca0cd5dc5f658fba2d1,Synced from global-requirements,MERGED,2014-06-16 21:03:46.000000000,2014-06-17 02:33:51.000000000,2014-06-17 02:33:51.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 7191}, {'_account_id': 7680}]","[{'number': 1, 'created': '2014-06-16 21:03:46.000000000', 'files': ['test-requirements.txt', 'setup.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ec113b54a084b4b6978f6947c8292979f5a1f99d', 'message': 'Synced from global-requirements\n\nChange-Id: I98ce49fa49343dfb93459ca0cd5dc5f658fba2d1\n'}]",0,100355,ec113b54a084b4b6978f6947c8292979f5a1f99d,25,4,1,7680,,,0,"Synced from global-requirements

Change-Id: I98ce49fa49343dfb93459ca0cd5dc5f658fba2d1
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/55/100355/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'setup.py']",2,ec113b54a084b4b6978f6947c8292979f5a1f99d,sync,"# In python < 2.7.4, a lazy loading of package `pbr` will break # setuptools if some other modules registered functions in `atexit`. # solution from: http://bugs.python.org/issue15881#msg170215 try: import multiprocessing # noqa except ImportError: pass setup_requires=['pbr'],"," setup_requires=['pbr>=0.5.21,<1.0'],",12,4
openstack%2Frequirements~stable%2Ficehouse~I08677bbb08097f3b023515e9031f28a8da94ba67,openstack/requirements,stable/icehouse,I08677bbb08097f3b023515e9031f28a8da94ba67,Update openstack-doc-tools for translation of api-site,MERGED,2014-06-04 20:03:34.000000000,2014-06-17 02:19:57.000000000,2014-06-17 02:19:57.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 6786}]","[{'number': 1, 'created': '2014-06-04 20:03:34.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f6939525ee416e275852661bbf66ea0d70dd5015', 'message': 'Update openstack-doc-tools for translation of api-site\n\nVersion 0.13 of openstack-doc-tools is needed for building localized\nbooks in the repo api-site, update the required version.\n\nSignificant changes between 0.11 and 0.13 are:\n* ``openstack-generate-docbook`` handles now the api-site project.\n* ``openstack-doc-test``: Handle changes in api-site project, new\n  option --print-unused-files.\n* ``openstack-autohelp``: Handle keystone_authtoken options.\n\nChange-Id: I08677bbb08097f3b023515e9031f28a8da94ba67\n(cherry picked from commit 2cdab0666db6abc142051e0d366bd4ad52f5b556)\n'}]",0,97901,f6939525ee416e275852661bbf66ea0d70dd5015,11,4,1,6547,,,0,"Update openstack-doc-tools for translation of api-site

Version 0.13 of openstack-doc-tools is needed for building localized
books in the repo api-site, update the required version.

Significant changes between 0.11 and 0.13 are:
* ``openstack-generate-docbook`` handles now the api-site project.
* ``openstack-doc-test``: Handle changes in api-site project, new
  option --print-unused-files.
* ``openstack-autohelp``: Handle keystone_authtoken options.

Change-Id: I08677bbb08097f3b023515e9031f28a8da94ba67
(cherry picked from commit 2cdab0666db6abc142051e0d366bd4ad52f5b556)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/01/97901/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,f6939525ee416e275852661bbf66ea0d70dd5015,icehouse/backport/90746,openstack-doc-tools>=0.13,openstack-doc-tools>=0.8.2,1,1
openstack%2Freviewstats~master~I8d41bda6438c22d7af4b105bd96a8784875f8bda,openstack/reviewstats,master,I8d41bda6438c22d7af4b105bd96a8784875f8bda,Fix small grammatical errors,MERGED,2014-06-17 00:31:34.000000000,2014-06-17 02:17:53.000000000,2014-06-17 02:17:52.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 4190}, {'_account_id': 5293}, {'_account_id': 10068}, {'_account_id': 10342}, {'_account_id': 11610}]","[{'number': 1, 'created': '2014-06-17 00:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/69792bbb9427eb7ef9a2a420f96a4a957a16c774', 'message': ""I think it should be '1st quartile' rather than '1rd quartile', but I'm no statistician.\n\nChange-Id: I8d41bda6438c22d7af4b105bd96a8784875f8bda\n""}, {'number': 2, 'created': '2014-06-17 00:34:03.000000000', 'files': ['reviewstats/cmd/openreviews.py'], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/3c3b7c6bea3e691083dbe366fe82b7593fb1a792', 'message': ""Fix small grammatical errors\n\nI think it should be '1st quartile' rather than '1rd quartile', but I'm no statistician.\n\nChange-Id: I8d41bda6438c22d7af4b105bd96a8784875f8bda\n""}]",1,100393,3c3b7c6bea3e691083dbe366fe82b7593fb1a792,14,7,2,11610,,,0,"Fix small grammatical errors

I think it should be '1st quartile' rather than '1rd quartile', but I'm no statistician.

Change-Id: I8d41bda6438c22d7af4b105bd96a8784875f8bda
",git fetch https://review.opendev.org/openstack/reviewstats refs/changes/93/100393/2 && git format-patch -1 --stdout FETCH_HEAD,['reviewstats/cmd/openreviews.py'],1,69792bbb9427eb7ef9a2a420f96a4a957a16c774,fix-quartile-typo," latest_rev_stats.append(('1st quartile wait time', '%s' last_without_nack_stats.append(('1st quartile wait time', '%s'"," latest_rev_stats.append(('1rd quartile wait time', '%s' last_without_nack_stats.append(('1rd quartile wait time', '%s'",2,2
openstack%2Foslo.db~master~Ica0e37af4d4aa154480d9dd853df18deddb24d83,openstack/oslo.db,master,Ica0e37af4d4aa154480d9dd853df18deddb24d83,Instead of string checks just use float('inf'),ABANDONED,2014-05-05 23:56:45.000000000,2014-06-17 01:34:14.000000000,,"[{'_account_id': 3}, {'_account_id': 7536}, {'_account_id': 9107}]","[{'number': 1, 'created': '2014-05-05 23:56:45.000000000', 'files': ['oslo/db/sqlalchemy/session.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/81be87cf605b103a0d032e20bae2a993f7e59bd4', 'message': ""Instead of string checks just use float('inf')\n\nInstead of checking that the remaining count is a string and\nthen adjusting it & other type specific checks, just replace\nit with the floating point infinity and apply all the normal\noperations to it (for ex, subtracting from infinity does\nnothing, so this way retrying will continue forever).\n\nChange-Id: Ica0e37af4d4aa154480d9dd853df18deddb24d83\n""}]",2,92253,81be87cf605b103a0d032e20bae2a993f7e59bd4,10,3,1,1297,,,0,"Instead of string checks just use float('inf')

Instead of checking that the remaining count is a string and
then adjusting it & other type specific checks, just replace
it with the floating point infinity and apply all the normal
operations to it (for ex, subtracting from infinity does
nothing, so this way retrying will continue forever).

Change-Id: Ica0e37af4d4aa154480d9dd853df18deddb24d83
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/53/92253/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo/db/sqlalchemy/session.py'],1,81be87cf605b103a0d032e20bae2a993f7e59bd4,, remaining = float('inf') if remaining == float('inf'): LOG.warning(msg % 'infinity') else: LOG.warning(msg % remaining) remaining -= 1 if remaining == 0 or not _is_db_connection_error(e.args[0]):, remaining = 'infinite' LOG.warning(msg % remaining) if remaining != 'infinite': remaining -= 1 if (remaining != 'infinite' and remaining == 0) or \ not _is_db_connection_error(e.args[0]):,7,6
openstack%2Fglance~master~Icc42b43ec6d059616bf921a56a092fae16d4a107,openstack/glance,master,Icc42b43ec6d059616bf921a56a092fae16d4a107,sync oslo incubator code,MERGED,2014-05-18 08:16:59.000000000,2014-06-17 01:24:50.000000000,2014-06-17 01:24:49.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6549}, {'_account_id': 8759}, {'_account_id': 8871}, {'_account_id': 9608}, {'_account_id': 9751}]","[{'number': 1, 'created': '2014-05-18 08:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/01d9a4110f9a322926f110737f99bc9279c7d170', 'message': 'sync oslo incubator code\n\nCode was added in oslo incubator to allow configuring tcp keepalive[0]. Syncing\nglance to pull in this changes so we can use that function to set keepalive\n\n[0] https://review.openstack.org/#/c/90870/\n\nChanges are\ngettextutils.py\n9912e5d Add API for creating translation functions\n6cc96d0 Fix test_gettextutils on Python 3\nfd33d1e Fix gettextutil.Message handling of deep copy failures\n047b2e4 Change lazy translation to retain complete dict\n\nimportutils.py\n885828a Deleted duplicated method in cliutils.\n\njsonutils.py\n9e5a393  jsonutils.load() accepts file pointer, not string\na6b2aec  On Python <= 2.6, use simplejson if available\ne3a1d9c  Use six.moves.xmlrpc_client instead of xmlrpclib\n\nlog.py\nedd73c9  Merge ""Improve help strings""\n\nnetwork_utils.py\ne433899 Enable configuring tcp keepalive\n162e850 Remove import workaround of SplitResult\n\ntimeutils.py\nd815087  Merge ""Fix spelling errors in comments""\n\nHead in oslo incubator is\n=================================================\ncommit 8ce44b1d8b57532d6178137aabaa77cbb8e1bae7\nMerge: 933bf04 e53e815\nAuthor: Jenkins <jenkins@review.openstack.org>\nMerge ""Add mailmap entry""\n=================================================\n\nChange-Id: Icc42b43ec6d059616bf921a56a092fae16d4a107\n'}, {'number': 2, 'created': '2014-05-18 19:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d33832e036efaeb7440c5663921c3cee02409986', 'message': 'sync oslo incubator code\n\nCode was added in oslo incubator to allow configuring tcp keepalive[0]. Syncing\nglance to pull in this changes so we can use that function to set keepalive\n\n[0] https://review.openstack.org/#/c/90870/\n\nChanges are\ngettextutils.py\n9912e5d Add API for creating translation functions\n6cc96d0 Fix test_gettextutils on Python 3\nfd33d1e Fix gettextutil.Message handling of deep copy failures\n047b2e4 Change lazy translation to retain complete dict\n\nimportutils.py\n885828a Deleted duplicated method in cliutils.\n\njsonutils.py\n9e5a393  jsonutils.load() accepts file pointer, not string\na6b2aec  On Python <= 2.6, use simplejson if available\ne3a1d9c  Use six.moves.xmlrpc_client instead of xmlrpclib\n\nlog.py\nedd73c9  Merge ""Improve help strings""\n\nnetwork_utils.py\ne433899 Enable configuring tcp keepalive\n162e850 Remove import workaround of SplitResult\n\ntimeutils.py\nd815087  Merge ""Fix spelling errors in comments""\n\nHead in oslo incubator is\n=================================================\ncommit 8ce44b1d8b57532d6178137aabaa77cbb8e1bae7\nMerge: 933bf04 e53e815\nAuthor: Jenkins <jenkins@review.openstack.org>\nMerge ""Add mailmap entry""\n=================================================\n\nChange-Id: Icc42b43ec6d059616bf921a56a092fae16d4a107\n'}, {'number': 3, 'created': '2014-05-29 08:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3c7c1e488d540d6f44cf98098be0f13b8d1938bb', 'message': 'sync oslo incubator code\n\nCode was added in oslo incubator to allow configuring tcp keepalive[0]. Syncing\nglance to pull in this changes so we can use that function to set keepalive\n\n[0] https://review.openstack.org/#/c/90870/\n\nChanges are\ngettextutils.py\n9912e5d Add API for creating translation functions\n6cc96d0 Fix test_gettextutils on Python 3\nfd33d1e Fix gettextutil.Message handling of deep copy failures\n047b2e4 Change lazy translation to retain complete dict\n\nimportutils.py\n885828a Deleted duplicated method in cliutils.\n\njsonutils.py\n9e5a393  jsonutils.load() accepts file pointer, not string\na6b2aec  On Python <= 2.6, use simplejson if available\ne3a1d9c  Use six.moves.xmlrpc_client instead of xmlrpclib\n\nlog.py\nedd73c9  Merge ""Improve help strings""\n\nnetwork_utils.py\ne433899 Enable configuring tcp keepalive\n162e850 Remove import workaround of SplitResult\n\ntimeutils.py\nd815087  Merge ""Fix spelling errors in comments""\n\nHead in oslo incubator is\n=================================================\ncommit 8ce44b1d8b57532d6178137aabaa77cbb8e1bae7\nMerge: 933bf04 e53e815\nAuthor: Jenkins <jenkins@review.openstack.org>\nMerge ""Add mailmap entry""\n=================================================\n\nChange-Id: Icc42b43ec6d059616bf921a56a092fae16d4a107\n'}, {'number': 4, 'created': '2014-05-30 19:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b3f6b3915bf973f8cf35fd000821c94749ed763f', 'message': 'sync oslo incubator code\n\nCode was added in oslo incubator to allow configuring tcp keepalive[0]. Syncing\nglance to pull in this changes so we can use that function to set keepalive\n\n[0] https://review.openstack.org/#/c/90870/\n\nChanges are\ngettextutils.py\n9912e5d Add API for creating translation functions\n6cc96d0 Fix test_gettextutils on Python 3\nfd33d1e Fix gettextutil.Message handling of deep copy failures\n047b2e4 Change lazy translation to retain complete dict\n\nimportutils.py\n885828a Deleted duplicated method in cliutils.\n\nlog.py\nedd73c9  Merge ""Improve help strings""\n\nnetwork_utils.py\ne433899 Enable configuring tcp keepalive\n162e850 Remove import workaround of SplitResult\n\ntimeutils.py\nd815087  Merge ""Fix spelling errors in comments""\n\nHead in oslo incubator is\n=================================================\ncommit 8ce44b1d8b57532d6178137aabaa77cbb8e1bae7\nMerge: 933bf04 e53e815\nAuthor: Jenkins <jenkins@review.openstack.org>\nMerge ""Add mailmap entry""\n=================================================\n\nChange-Id: Icc42b43ec6d059616bf921a56a092fae16d4a107\n'}, {'number': 5, 'created': '2014-06-16 20:52:34.000000000', 'files': ['glance/openstack/common/network_utils.py', 'glance/openstack/common/importutils.py', 'glance/openstack/common/gettextutils.py', 'glance/openstack/common/log.py', 'glance/openstack/common/timeutils.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/0435a7823bfea87eec0bdd129c532305da6efb19', 'message': 'sync oslo incubator code\n\nCode was added in oslo incubator to allow configuring tcp keepalive[0]. Syncing\nglance to pull in this changes so we can use that function to set keepalive\n\n[0] https://review.openstack.org/#/c/90870/\n\nChanges are\ngettextutils.py\n9912e5d Add API for creating translation functions\n6cc96d0 Fix test_gettextutils on Python 3\nfd33d1e Fix gettextutil.Message handling of deep copy failures\n047b2e4 Change lazy translation to retain complete dict\n\nimportutils.py\n885828a Deleted duplicated method in cliutils.\n\nlog.py\nedd73c9  Merge ""Improve help strings""\n\nnetwork_utils.py\ne433899 Enable configuring tcp keepalive\n162e850 Remove import workaround of SplitResult\n\ntimeutils.py\nd815087  Merge ""Fix spelling errors in comments""\n\nHead in oslo incubator is\n=================================================\ncommit 8ce44b1d8b57532d6178137aabaa77cbb8e1bae7\nMerge: 933bf04 e53e815\nAuthor: Jenkins <jenkins@review.openstack.org>\nMerge ""Add mailmap entry""\n=================================================\n\nChange-Id: Icc42b43ec6d059616bf921a56a092fae16d4a107\n'}]",1,94073,0435a7823bfea87eec0bdd129c532305da6efb19,52,7,5,9608,,,0,"sync oslo incubator code

Code was added in oslo incubator to allow configuring tcp keepalive[0]. Syncing
glance to pull in this changes so we can use that function to set keepalive

[0] https://review.openstack.org/#/c/90870/

Changes are
gettextutils.py
9912e5d Add API for creating translation functions
6cc96d0 Fix test_gettextutils on Python 3
fd33d1e Fix gettextutil.Message handling of deep copy failures
047b2e4 Change lazy translation to retain complete dict

importutils.py
885828a Deleted duplicated method in cliutils.

log.py
edd73c9  Merge ""Improve help strings""

network_utils.py
e433899 Enable configuring tcp keepalive
162e850 Remove import workaround of SplitResult

timeutils.py
d815087  Merge ""Fix spelling errors in comments""

Head in oslo incubator is
=================================================
commit 8ce44b1d8b57532d6178137aabaa77cbb8e1bae7
Merge: 933bf04 e53e815
Author: Jenkins <jenkins@review.openstack.org>
Merge ""Add mailmap entry""
=================================================

Change-Id: Icc42b43ec6d059616bf921a56a092fae16d4a107
",git fetch https://review.opendev.org/openstack/glance refs/changes/73/94073/5 && git format-patch -1 --stdout FETCH_HEAD,"['glance/openstack/common/network_utils.py', 'glance/openstack/common/jsonutils.py', 'openstack-common.conf', 'glance/openstack/common/importutils.py', 'glance/openstack/common/gettextutils.py', 'glance/openstack/common/log.py', 'glance/openstack/common/timeutils.py']",7,01d9a4110f9a322926f110737f99bc9279c7d170,(detached," """"""Returns a iso8601 formatted date from timestamp."""""""," """"""Returns a iso8601 formated date from timestamp.""""""",276,180
openstack%2Fnova~master~I4078655f01638c22cf029f088018b8be93d6a01a,openstack/nova,master,I4078655f01638c22cf029f088018b8be93d6a01a,Skip migrations test_walk_versions instead of pass,MERGED,2014-06-13 21:47:58.000000000,2014-06-17 01:23:52.000000000,2014-06-17 01:23:50.000000000,"[{'_account_id': 3}, {'_account_id': 100}, {'_account_id': 1247}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-13 21:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f464624472c7452fb756f6c6274c85425b3413d', 'message': 'Skip migrations test_walk_versions instead of pass\n\nWhen there is no db engine configured for the migration tests,\nthe test_walk_versions test was passing, rather than skipping,\nbecause it contained a for-loop and no check for the length of the\nsequence being iterated over.\nThis patch checks the length of the configured engines and\nproperly skips the test when there are no engines.\n\nChange-Id: I4078655f01638c22cf029f088018b8be93d6a01a\nCo-Authored-By: Devananda van der Veen<devananda.vdv@gmail.com>\nCloses-bug: #1327397\n'}, {'number': 2, 'created': '2014-06-16 06:46:05.000000000', 'files': ['nova/tests/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/08201764d1500a4bff5db91228659a2c4063b808', 'message': 'Skip migrations test_walk_versions instead of pass\n\nWhen there is no db engine configured for the migration tests,\nthe test_walk_versions test was passing, rather than skipping,\nbecause it contained a for-loop and no check for the length of the\nsequence being iterated over.\nThis patch checks the length of the configured engines and\nproperly skips the test when there are no engines.\n\nChange-Id: I4078655f01638c22cf029f088018b8be93d6a01a\nCo-Authored-By: Devananda van der Veen<devananda.vdv@gmail.com>\nCloses-bug: #1327397\n'}]",2,100024,08201764d1500a4bff5db91228659a2c4063b808,20,8,2,1849,,,0,"Skip migrations test_walk_versions instead of pass

When there is no db engine configured for the migration tests,
the test_walk_versions test was passing, rather than skipping,
because it contained a for-loop and no check for the length of the
sequence being iterated over.
This patch checks the length of the configured engines and
properly skips the test when there are no engines.

Change-Id: I4078655f01638c22cf029f088018b8be93d6a01a
Co-Authored-By: Devananda van der Veen<devananda.vdv@gmail.com>
Closes-bug: #1327397
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/100024/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/db/test_migrations.py'],1,9f464624472c7452fb756f6c6274c85425b3413d,skip," if not len(self.engines.values()): self.skipTest(""No engines initialized"") ",,3,0
openstack%2Fdevstack~stable%2Ficehouse~Ic2b86ddba3e7f6520a0fd35599b01143936c6deb,openstack/devstack,stable/icehouse,Ic2b86ddba3e7f6520a0fd35599b01143936c6deb,convert devstack from awk to outfilter,MERGED,2014-06-16 20:21:33.000000000,2014-06-17 01:23:27.000000000,2014-06-17 01:23:27.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 9009}]","[{'number': 1, 'created': '2014-06-16 20:21:33.000000000', 'files': ['tools/outfilter.py', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/730353b17f040e10eff90035f385a73af0addd91', 'message': 'convert devstack from awk to outfilter\n\nThe complexity of the awk script was pretty high, and it would\nbe good to do it in summaries as well, which starts to get a bit\nsquirelly. Instead bring over the outfilter.py from grenade and\nuse it for the timestamping.\n\nAny additional overhead from python should be offset from not\nshelling out to date on every line of output.\n\n(cherry picked from commit 62cb563ddc5f6923a9734a96d394ff2c27c320ca)\n\nConflicts:\n\tstack.sh\n\nChange-Id: Ic2b86ddba3e7f6520a0fd35599b01143936c6deb\n'}]",0,100341,730353b17f040e10eff90035f385a73af0addd91,8,3,1,2750,,,0,"convert devstack from awk to outfilter

The complexity of the awk script was pretty high, and it would
be good to do it in summaries as well, which starts to get a bit
squirelly. Instead bring over the outfilter.py from grenade and
use it for the timestamping.

Any additional overhead from python should be offset from not
shelling out to date on every line of output.

(cherry picked from commit 62cb563ddc5f6923a9734a96d394ff2c27c320ca)

Conflicts:
	stack.sh

Change-Id: Ic2b86ddba3e7f6520a0fd35599b01143936c6deb
",git fetch https://review.opendev.org/openstack/devstack refs/changes/41/100341/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/outfilter.py', 'stack.sh']",2,730353b17f040e10eff90035f385a73af0addd91,," # Set fd 1 and 2 to write the log file exec 1> >( ./tools/outfilter.py -v -o ""${LOGFILE}"" ) 2>&1 # Set fd 6 to summary log file exec 6> >( ./tools/outfilter.py -o ""${SUMFILE}"" ) exec 1> >( ./tools/outfilter.py -o ""${LOGFILE}"" ) 2>&1 exec 6> >( ./tools/outfilter.py -v -o ""${SUMFILE}"" >&3 ) exec 6> >( ./tools/outfilter.py -v >&3 )"," # Redirect stdout/stderr to tee to write the log file exec 1> >( awk -v logfile=${LOGFILE} ' /((set \+o$)|xtrace)/ { next } { cmd =""date +\""%Y-%m-%d %H:%M:%S.%3N | \"""" cmd | getline now close(""date +\""%Y-%m-%d %H:%M:%S.%3N | \"""") sub(/^/, now) print > logfile fflush(logfile) print fflush("""") }' ) 2>&1 # Set up a second fd for output exec 6> >( tee ""${SUMFILE}"" ) exec 1> ""${LOGFILE}"" 2>&1 exec 6> >( tee ""${SUMFILE}"" >&3 ) exec 6>&3",94,18
openstack%2Fpython-openstackclient~master~I559c18a73ad95a0c8b7a6a95f463b78334186f61,openstack/python-openstackclient,master,I559c18a73ad95a0c8b7a6a95f463b78334186f61,Refactor oauth1 code for updates,MERGED,2014-04-28 20:01:23.000000000,2014-06-17 01:23:26.000000000,2014-06-17 01:23:25.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 2218}, {'_account_id': 6482}, {'_account_id': 7191}, {'_account_id': 8736}, {'_account_id': 8871}]","[{'number': 2, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f86a9d66395d5f5ddd6a5151959b6d0385761d37', 'message': 'Refactor some oauth parts\n\nNow pass in project id with request token create.\nNow pass in roles in request token authorize\nRemove list/get/delete access tokens for now.\n\nChange-Id: I559c18a73ad95a0c8b7a6a95f463b78334186f61\n'}, {'number': 1, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f0a6ef6116436dca285be52e0e6ea53cab9ef70a', 'message': 'Refactor some oauth parts\n\nNow pass in project id with request token create.\nNow pass in roles in request token authorize\nRemove list/get/delete access tokens for now.\n\nChange-Id: I559c18a73ad95a0c8b7a6a95f463b78334186f61\n'}, {'number': 3, 'created': '2014-05-19 03:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f639c593a594cf9bb12b50ab44cd4c09b4691c22', 'message': 'Refactor oauth1 code for updates\n\nThe keystoneclient code for oauth1 support has changed.\nAs such, we should remove the delete, list and authenticate\nfunctions, since they are not in keystoneclient.\n\nAlso, we must now pass in the project id when creating a\nrequest token. Additionally we must now pass in roles\nwhen authorizing a request token.\n\nAdded functional tests to ensure output and input args\nare the same.\n\nChange-Id: I559c18a73ad95a0c8b7a6a95f463b78334186f61\n'}, {'number': 4, 'created': '2014-05-19 07:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fdfa420bcec2493a1714ee0c7d1676b3e1f20dfb', 'message': 'Refactor oauth1 code for updates\n\nThe keystoneclient code for oauth1 support has changed.\nAs such, we should remove the delete, list and authenticate\nfunctions, since they are not in keystoneclient.\n\nAlso, we must now pass in the project id when creating a\nrequest token. Additionally we must now pass in roles\nwhen authorizing a request token.\n\nAdded functional tests to ensure output and input args\nare the same.\n\nbp add-oauth-support\nChange-Id: I559c18a73ad95a0c8b7a6a95f463b78334186f61\n'}, {'number': 5, 'created': '2014-06-14 21:22:16.000000000', 'files': ['openstackclient/tests/identity/v3/test_oauth.py', 'openstackclient/identity/v3/token.py', 'openstackclient/tests/identity/v3/fakes.py', 'openstackclient/identity/v3/consumer.py', 'openstackclient/tests/identity/v3/test_consumer.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d5aaba9d8284ea1cafe137b367ef9c9297b31e75', 'message': 'Refactor oauth1 code for updates\n\nThe keystoneclient code for oauth1 support has changed.\nAs such, we should remove the delete, list and authenticate\nfunctions, since they are not in keystoneclient.\n\nAlso, we must now pass in the project id when creating a\nrequest token. Additionally we must now pass in roles\nwhen authorizing a request token.\n\nAdded functional tests to ensure output and input args\nare the same.\n\nbp add-oauth-support\nChange-Id: I559c18a73ad95a0c8b7a6a95f463b78334186f61\n'}]",1,61196,d5aaba9d8284ea1cafe137b367ef9c9297b31e75,40,7,5,6482,,,0,"Refactor oauth1 code for updates

The keystoneclient code for oauth1 support has changed.
As such, we should remove the delete, list and authenticate
functions, since they are not in keystoneclient.

Also, we must now pass in the project id when creating a
request token. Additionally we must now pass in roles
when authorizing a request token.

Added functional tests to ensure output and input args
are the same.

bp add-oauth-support
Change-Id: I559c18a73ad95a0c8b7a6a95f463b78334186f61
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/96/61196/5 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/identity/v3/token.py', 'openstackclient/identity/v3/consumer.py', 'setup.cfg']",3,f86a9d66395d5f5ddd6a5151959b6d0385761d37,bp/add-oauth-support,, access_token_delete = openstackclient.identity.v3.token:DeleteAccessToken access_token_list = openstackclient.identity.v3.token:ListAccessToken,39,31
openstack%2Fkeystone~master~Id6e4166cb9b2d4382de5fd0e04bc34baa7aba478,openstack/keystone,master,Id6e4166cb9b2d4382de5fd0e04bc34baa7aba478,Move mutable parameter checking into federation,ABANDONED,2014-04-16 04:41:21.000000000,2014-06-17 01:11:52.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 5046}, {'_account_id': 6460}, {'_account_id': 6482}, {'_account_id': 7191}, {'_account_id': 7725}, {'_account_id': 8978}, {'_account_id': 10327}]","[{'number': 1, 'created': '2014-04-16 04:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5648166784ebc4ca8e419ddf66ed931b41341145', 'message': ""Move mutable parameter checking into federation\n\nThe mutuable and immutable parameter checking is used only in\nfederation. There may be plans later to use it more globally but until\nthen let's keep it relative to where it is being used.\n\nChange-Id: Id6e4166cb9b2d4382de5fd0e04bc34baa7aba478\n""}, {'number': 2, 'created': '2014-04-21 21:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/846393cf9eead07caaa0165bb2dc944882261305', 'message': ""Move mutable parameter checking into federation\n\nThe mutuable and immutable parameter checking is used only in\nfederation. There may be plans later to use it more globally but until\nthen let's keep it relative to where it is being used.\n\nChange-Id: Id6e4166cb9b2d4382de5fd0e04bc34baa7aba478\n""}, {'number': 3, 'created': '2014-06-03 13:15:49.000000000', 'files': ['keystone/common/controller.py', 'keystone/contrib/federation/controllers.py', 'keystone/tests/test_v3_controller.py', 'keystone/tests/test_v3_federation.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/05d6931de59e9a3518e311fe80d4364187e4631e', 'message': ""Move mutable parameter checking into federation\n\nThe mutuable and immutable parameter checking is used only in\nfederation. There may be plans later to use it more globally but until\nthen let's keep it relative to where it is being used.\n\nChange-Id: Id6e4166cb9b2d4382de5fd0e04bc34baa7aba478\n""}]",2,87849,05d6931de59e9a3518e311fe80d4364187e4631e,46,9,3,7191,,,0,"Move mutable parameter checking into federation

The mutuable and immutable parameter checking is used only in
federation. There may be plans later to use it more globally but until
then let's keep it relative to where it is being used.

Change-Id: Id6e4166cb9b2d4382de5fd0e04bc34baa7aba478
",git fetch https://review.opendev.org/openstack/keystone refs/changes/49/87849/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/controller.py', 'keystone/contrib/federation/controllers.py', 'keystone/tests/test_v3_controller.py', 'keystone/tests/test_v3_federation.py']",4,5648166784ebc4ca8e419ddf66ed931b41341145,immutable,"from testtools import matchers from keystone import tests class V3ControllerTestCase(tests.TestCase): """"""Tests for the V3Controller class."""""" def setUp(self): super(V3ControllerTestCase, self).setUp() class ControllerUnderTest(federation_controllers._ControllerBase): _mutable_parameters = frozenset(['hello', 'world']) self.api = ControllerUnderTest() def test_check_immutable_params(self): """"""Pass valid parameters to the method and expect no failure."""""" ref = { 'hello': uuid.uuid4().hex, 'world': uuid.uuid4().hex } self.api.check_immutable_params(ref) def test_check_immutable_params_fail(self): """"""Pass invalid parameter to the method and expect failure."""""" ref = dict([(uuid.uuid4().hex, uuid.uuid4().hex) for _ in range(3)]) ex = self.assertRaises(exception.ImmutableAttributeError, self.api.check_immutable_params, ref) ex_msg = unicode(ex) self.assertThat(ex_msg, matchers.Contains(self.api.__class__.__name__)) for key in ref.keys(): self.assertThat(ex_msg, matchers.Contains(key))",,89,106
openstack%2Fironic~master~I1e8bc0628f5f8d2b0fd7d8b2c2f7f452e7efb97c,openstack/ironic,master,I1e8bc0628f5f8d2b0fd7d8b2c2f7f452e7efb97c,Prevent property modification to nodes /w instance,ABANDONED,2014-06-09 23:33:44.000000000,2014-06-17 01:07:58.000000000,,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 8125}]","[{'number': 1, 'created': '2014-06-09 23:33:44.000000000', 'files': ['ironic/tests/api/v1/test_nodes.py', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/832c26dcaf03bbaf0362cdc624979337e719c300', 'message': ""Prevent property modification to nodes /w instance\n\nNova's resource tracker depends on node properties remaining stable\nthroughout the instance's life.  Increasing properties (memory, disk, etc)\nwhile an instance is deployed can result in the scheduler reporting available\nresources that will not actually be available until the current instance is\ndeleted.  This prevents client requests to patch properties while an instance\nis deployed.\n\nChange-Id: I1e8bc0628f5f8d2b0fd7d8b2c2f7f452e7efb97c\nCloses-bug: #1301279.\n""}]",3,98921,832c26dcaf03bbaf0362cdc624979337e719c300,9,3,1,1420,,,0,"Prevent property modification to nodes /w instance

Nova's resource tracker depends on node properties remaining stable
throughout the instance's life.  Increasing properties (memory, disk, etc)
while an instance is deployed can result in the scheduler reporting available
resources that will not actually be available until the current instance is
deleted.  This prevents client requests to patch properties while an instance
is deployed.

Change-Id: I1e8bc0628f5f8d2b0fd7d8b2c2f7f452e7efb97c
Closes-bug: #1301279.
",git fetch https://review.opendev.org/openstack/ironic refs/changes/21/98921/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/api/v1/test_nodes.py', 'ironic/api/controllers/v1/node.py']",2,832c26dcaf03bbaf0362cdc624979337e719c300,prevent_property_mod," # Do not allow properties to be updated while an instance is # associated and the node's resource usage is being tracked by Nova. for p in patch: if p['path'].startswith('/properties') and \ rpc_node['instance_uuid']: msg = _(""Properties of node %s can not be modified while "" ""it is associated with an instance "") % node_uuid raise wsme.exc.ClientSideError(msg, status_code=409) ",,22,0
openstack%2Fkeystone~master~Ib41c62e99faa7c82f89ab3c5bfa0d740f426829a,openstack/keystone,master,Ib41c62e99faa7c82f89ab3c5bfa0d740f426829a,Add instructions for removing pyc files to docs,MERGED,2014-06-02 04:43:01.000000000,2014-06-17 01:06:52.000000000,2014-06-17 01:06:51.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 6460}, {'_account_id': 6482}, {'_account_id': 8871}, {'_account_id': 9751}, {'_account_id': 11045}, {'_account_id': 11333}, {'_account_id': 11387}]","[{'number': 1, 'created': '2014-06-02 04:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5eade1d45d87eab124d55307d1a486ca64177ad2', 'message': 'Add instructions for removing pyc files to docs\n\nSo an issue I hit when following the getting started docs for developers\nis that I forgot to remove old pyc files and that can cause\nkeystone-manage db_sync to throw errors.  I added some extra doc that\nexplains how to remove these files should this situation be encountered\n\nChange-Id: Ib41c62e99faa7c82f89ab3c5bfa0d740f426829a\n'}, {'number': 2, 'created': '2014-06-03 04:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3b6ddcdf19a5eb9efee34af53a727b9876cd0339', 'message': 'Add instructions for removing pyc files to docs\n\nSo an issue I hit when following the getting started docs for developers\nis that I forgot to remove old pyc files and that can cause\nkeystone-manage db_sync to throw errors.  I added some extra doc that\nexplains how to remove these files should this situation be encountered\n\nChange-Id: Ib41c62e99faa7c82f89ab3c5bfa0d740f426829a\n'}, {'number': 3, 'created': '2014-06-06 05:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/effea7fd2e47e7598f503039d723213df8493877', 'message': 'Add instructions for removing pyc files to docs\n\nSo an issue I hit when following the getting started docs for developers\nis that I forgot to remove old pyc files and that can cause\nkeystone-manage db_sync to throw errors.  I added some extra doc that\nexplains how to remove these files should this situation be encountered\n\nChange-Id: Ib41c62e99faa7c82f89ab3c5bfa0d740f426829a\n'}, {'number': 4, 'created': '2014-06-13 04:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/eb9738c7d54a5d3b8c78aeb9349fbfb1f34a1ee7', 'message': 'Add instructions for removing pyc files to docs\n\nSo an issue I hit when following the getting started docs for developers\nis that I forgot to remove old pyc files and that can cause\nkeystone-manage db_sync to throw errors.  I added some extra doc that\nexplains how to remove these files should this situation be encountered\n\nChange-Id: Ib41c62e99faa7c82f89ab3c5bfa0d740f426829a\n'}, {'number': 5, 'created': '2014-06-15 03:44:58.000000000', 'files': ['doc/source/developing.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/6b01dbc91f4f6a526faef171d21ed172ea12b5d3', 'message': 'Add instructions for removing pyc files to docs\n\nSo an issue I hit when following the getting started docs for developers\nis that I forgot to remove old pyc files and that can cause\nkeystone-manage db_sync to throw errors.  I added some extra doc that\nexplains how to remove these files should this situation be encountered\n\nChange-Id: Ib41c62e99faa7c82f89ab3c5bfa0d740f426829a\n'}]",19,97140,6b01dbc91f4f6a526faef171d21ed172ea12b5d3,52,11,5,6460,,,0,"Add instructions for removing pyc files to docs

So an issue I hit when following the getting started docs for developers
is that I forgot to remove old pyc files and that can cause
keystone-manage db_sync to throw errors.  I added some extra doc that
explains how to remove these files should this situation be encountered

Change-Id: Ib41c62e99faa7c82f89ab3c5bfa0d740f426829a
",git fetch https://review.opendev.org/openstack/keystone refs/changes/40/97140/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/developing.rst'],1,5eade1d45d87eab124d55307d1a486ca64177ad2,add_clean_pyc,"If you encounter errors when running the above commands, and if you have installed and run versions of keystone previously, it is possible that out of date compiled python bytecode files (i.e., .pyc files) in the keystone directory tree are causing problems. These can be easily removed by running a command like the following from the keystone directory:: $ sudo find . -name ""*.pyc"" -exec rm -rf {} ",,8,0
openstack%2Fdevstack~master~I384662ba8fbb06aed255c299b09c3e4795ee98fc,openstack/devstack,master,I384662ba8fbb06aed255c299b09c3e4795ee98fc,SSL protected cinder endpoints,ABANDONED,2014-06-03 21:37:14.000000000,2014-06-17 01:04:36.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 7191}, {'_account_id': 9009}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-03 21:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/90653bbb3208a8155efbc330c3fc1874f1d2911f', 'message': 'SSL protected cinder endpoints\n\nInstall SSL certificates into cinder if present.\n\nImplements: blueprint devstack-https\nChange-Id: I384662ba8fbb06aed255c299b09c3e4795ee98fc\n'}, {'number': 2, 'created': '2014-06-10 08:57:35.000000000', 'files': ['lib/cinder', 'lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f327fba1ab669e246657c9c7ba15f0e0eca2342e', 'message': 'SSL protected cinder endpoints\n\nInstall SSL certificates into cinder if present.\n\nImplements: blueprint devstack-https\nChange-Id: I384662ba8fbb06aed255c299b09c3e4795ee98fc\n'}]",0,97632,f327fba1ab669e246657c9c7ba15f0e0eca2342e,22,5,2,7191,,,0,"SSL protected cinder endpoints

Install SSL certificates into cinder if present.

Implements: blueprint devstack-https
Change-Id: I384662ba8fbb06aed255c299b09c3e4795ee98fc
",git fetch https://review.opendev.org/openstack/devstack refs/changes/32/97632/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/cinder', 'lib/nova']",2,90653bbb3208a8155efbc330c3fc1874f1d2911f,bp/devstack-https," if is_ssl_enabled_service cinder; then iniset $NOVA_CONF DEFAULT cinder_ca_certificates_file ""$SSL_BUNDLE_FILE"" fi ",,18,1
openstack%2Fdevstack~stable%2Ficehouse~I2b066a687916742e966190f00b5b06a795d4a014,openstack/devstack,stable/icehouse,I2b066a687916742e966190f00b5b06a795d4a014,double the screen sleep timeout,MERGED,2014-06-16 20:21:33.000000000,2014-06-17 01:03:39.000000000,2014-06-17 01:03:38.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 9009}]","[{'number': 1, 'created': '2014-06-16 20:21:33.000000000', 'files': ['functions-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ca6446e3f21fdf96e47643f9a9d5db26baf5a5d4', 'message': ""double the screen sleep timeout\n\nHP Cloud 1.1 is quite slow per core. So much so that grenade is\noften failing to start services because bash in a screen session\nisn't ready in 1.5s. Double this to 3s to try to decrease failures\nin the gate.\n\nWe should instead do this via some readiness check to decrease\nraces.\n\n(cherry picked from commit 43d8f1cdddee5ed20dfef267dc59f7c4805d3a75)\n\nChange-Id: I2b066a687916742e966190f00b5b06a795d4a014\n""}]",0,100340,ca6446e3f21fdf96e47643f9a9d5db26baf5a5d4,8,3,1,2750,,,0,"double the screen sleep timeout

HP Cloud 1.1 is quite slow per core. So much so that grenade is
often failing to start services because bash in a screen session
isn't ready in 1.5s. Double this to 3s to try to decrease failures
in the gate.

We should instead do this via some readiness check to decrease
races.

(cherry picked from commit 43d8f1cdddee5ed20dfef267dc59f7c4805d3a75)

Change-Id: I2b066a687916742e966190f00b5b06a795d4a014
",git fetch https://review.opendev.org/openstack/devstack refs/changes/40/100340/1 && git format-patch -1 --stdout FETCH_HEAD,['functions-common'],1,ca6446e3f21fdf96e47643f9a9d5db26baf5a5d4,, sleep 3, sleep 1.5,1,1
openstack%2Fsahara~master~I8766fb156411e3deacc7d5e1b76a302f9bb78aa7,openstack/sahara,master,I8766fb156411e3deacc7d5e1b76a302f9bb78aa7,Updated from global requirements,MERGED,2014-06-16 09:53:04.000000000,2014-06-17 00:56:04.000000000,2014-06-16 12:56:44.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}]","[{'number': 1, 'created': '2014-06-16 09:53:04.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara/commit/912d2e955dbe8236b5c2d17c681148703e4ce9f4', 'message': 'Updated from global requirements\n\nChange-Id: I8766fb156411e3deacc7d5e1b76a302f9bb78aa7\n'}]",0,100203,912d2e955dbe8236b5c2d17c681148703e4ce9f4,12,3,1,11131,,,0,"Updated from global requirements

Change-Id: I8766fb156411e3deacc7d5e1b76a302f9bb78aa7
",git fetch https://review.opendev.org/openstack/sahara refs/changes/03/100203/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,912d2e955dbe8236b5c2d17c681148703e4ce9f4,openstack/requirements,"hacking>=0.9.2,<0.10","hacking>=0.9.1,<0.10",1,1
openstack%2Fopenstacksdk~master~Ib0ee6ceeeb4603a98277d4a3cb914ba394944fd4,openstack/openstacksdk,master,Ib0ee6ceeeb4603a98277d4a3cb914ba394944fd4,Removed two flake8 skips,MERGED,2014-06-12 06:00:15.000000000,2014-06-17 00:50:06.000000000,2014-06-17 00:50:06.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 970}, {'_account_id': 8736}]","[{'number': 1, 'created': '2014-06-12 06:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7cb1e7d754f48db7c124b458625315a5cd5f11f1', 'message': 'Removed two flake8 skips that are no longer needed with the latest hacking\n\nChange-Id: Ib0ee6ceeeb4603a98277d4a3cb914ba394944fd4\n'}, {'number': 2, 'created': '2014-06-12 06:16:12.000000000', 'files': ['openstack/resource.py', 'openstack/tests/auth/identity/utils.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/47704f22c7c13c8c6d972cf96ecd45a3d2835c19', 'message': 'Removed two flake8 skips\n\nThese are no longer needed with the latest hacking.\n\nChange-Id: Ib0ee6ceeeb4603a98277d4a3cb914ba394944fd4\n'}]",0,99571,47704f22c7c13c8c6d972cf96ecd45a3d2835c19,14,4,2,7680,,,0,"Removed two flake8 skips

These are no longer needed with the latest hacking.

Change-Id: Ib0ee6ceeeb4603a98277d4a3cb914ba394944fd4
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/71/99571/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/resource.py', 'openstack/tests/auth/identity/utils.py']",2,7cb1e7d754f48db7c124b458625315a5cd5f11f1,no-no-qa,from six.moves.urllib import parse as urlparse,from six.moves.urllib import parse as urlparse # flake8: noqa,2,2
openstack%2Fpython-saharaclient~master~I040fb0f1402850b9ad32fcd2485c377d140a1ac5,openstack/python-saharaclient,master,I040fb0f1402850b9ad32fcd2485c377d140a1ac5,Updated from global requirements,MERGED,2014-06-16 09:52:56.000000000,2014-06-17 00:49:40.000000000,2014-06-16 22:58:03.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 8411}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-06-16 09:52:56.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/81186cd07cc2375b0999a3b346836e658148323c', 'message': 'Updated from global requirements\n\nChange-Id: I040fb0f1402850b9ad32fcd2485c377d140a1ac5\n'}]",0,100202,81186cd07cc2375b0999a3b346836e658148323c,23,5,1,11131,,,0,"Updated from global requirements

Change-Id: I040fb0f1402850b9ad32fcd2485c377d140a1ac5
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/02/100202/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,81186cd07cc2375b0999a3b346836e658148323c,openstack/requirements,"hacking>=0.9.2,<0.10sphinx>=1.1.2,!=1.2.0,<1.3","hacking>=0.9.1,<0.10sphinx>=1.2.1,<1.3",2,2
openstack%2Fsahara~master~I0d09c7a19e4df7fce948994fb21028fe147d2782,openstack/sahara,master,I0d09c7a19e4df7fce948994fb21028fe147d2782,Remove usage of remote from HDP Instance constructor,MERGED,2014-06-03 13:49:21.000000000,2014-06-17 00:49:04.000000000,2014-06-16 09:50:55.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7109}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 7428}, {'_account_id': 7555}, {'_account_id': 7604}, {'_account_id': 7700}, {'_account_id': 8091}, {'_account_id': 8304}, {'_account_id': 8411}, {'_account_id': 9499}]","[{'number': 1, 'created': '2014-06-03 13:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/508adabed6b7e4d033d1150cd017dfd4e22cc03e', 'message': 'Remove usage of remote from HDP Instance object\n\nThe usage causes problem in distributed mode (see bug description)\n\nChange-Id: I0d09c7a19e4df7fce948994fb21028fe147d2782\nCloses-bug: #1325989\n'}, {'number': 2, 'created': '2014-06-11 07:01:56.000000000', 'files': ['sahara/plugins/hdp/clusterspec.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/049e64a4408d6ff6ef0d3e8d10f8433e8271e991', 'message': ""Remove usage of remote from HDP Instance constructor\n\nWhen Sahara is run in distributed mode, the Instance object is used in\nsahara-api context. You can see the full stack trace in the bug description.\nHere it is in the simplified form:\n  * User requests HDP cluster scaling\n  * Scaling validation (in HDP plugin)\n  * HDP Instance objects are constructed\n  * Sahara's instance.remote() is called inside the constructor\n\nThe remote is unavalable in sahara-api context and that causes the issue.\nMoving invokation of instance.remote() out of constructor fixes it.\n\nChange-Id: I0d09c7a19e4df7fce948994fb21028fe147d2782\nCloses-bug: #1325989\n""}]",8,97502,049e64a4408d6ff6ef0d3e8d10f8433e8271e991,45,13,2,7109,,,0,"Remove usage of remote from HDP Instance constructor

When Sahara is run in distributed mode, the Instance object is used in
sahara-api context. You can see the full stack trace in the bug description.
Here it is in the simplified form:
  * User requests HDP cluster scaling
  * Scaling validation (in HDP plugin)
  * HDP Instance objects are constructed
  * Sahara's instance.remote() is called inside the constructor

The remote is unavalable in sahara-api context and that causes the issue.
Moving invokation of instance.remote() out of constructor fixes it.

Change-Id: I0d09c7a19e4df7fce948994fb21028fe147d2782
Closes-bug: #1325989
",git fetch https://review.opendev.org/openstack/sahara refs/changes/02/97502/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara/plugins/hdp/clusterspec.py'],1,508adabed6b7e4d033d1150cd017dfd4e22cc03e,(detached," node_group.instances.add(Instance(instance)) def __init__(self, sahara_instance): self.inst_fqdn = sahara_instance.fqdn() self.management_ip = sahara_instance.management_ip self.internal_ip = sahara_instance.internal_ip self.sahara_instance = sahara_instance return self.sahara_instance.remote()"," node_group.instances.add(Instance(instance.fqdn(), instance.management_ip, instance.internal_ip, instance.remote())) def __init__(self, fqdn, management_ip, internal_ip, remote): self.inst_fqdn = fqdn self.management_ip = management_ip self.internal_ip = internal_ip self.inst_remote = remote return self.inst_remote",7,10
openstack%2Fopenstacksdk~master~I325c8e516d4b8c0868e703524aef9aa2b885203b,openstack/openstacksdk,master,I325c8e516d4b8c0868e703524aef9aa2b885203b,Remove a now unused flake8 exclude directory,MERGED,2014-06-12 17:49:14.000000000,2014-06-17 00:41:22.000000000,2014-06-17 00:41:21.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 8736}]","[{'number': 1, 'created': '2014-06-12 17:49:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e5d07e43e2b6cd7ead037d451fafc49d323b6897', 'message': 'Remove a now unused flake8 exclude directory\n\nChange-Id: I325c8e516d4b8c0868e703524aef9aa2b885203b\n'}]",0,99726,e5d07e43e2b6cd7ead037d451fafc49d323b6897,10,3,1,7680,,,0,"Remove a now unused flake8 exclude directory

Change-Id: I325c8e516d4b8c0868e703524aef9aa2b885203b
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/26/99726/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e5d07e43e2b6cd7ead037d451fafc49d323b6897,tox-cleanup,"exclude=.venv,.git,.tox,dist,doc,*openstack/common*,*lib/python*,*egg,build","exclude=api_strawman/,.venv,.git,.tox,dist,doc,*openstack/common*,*lib/python*,*egg,build",1,1
openstack%2Fnova~master~Iaee8b7f7b4d32605e36fd72e893794066727fb65,openstack/nova,master,Iaee8b7f7b4d32605e36fd72e893794066727fb65,Add deprecation warning to nova baremetal virt driver,MERGED,2014-06-12 15:08:02.000000000,2014-06-17 00:27:05.000000000,2014-06-16 18:34:46.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1247}, {'_account_id': 1849}, {'_account_id': 2889}, {'_account_id': 4190}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-12 15:08:02.000000000', 'files': ['nova/virt/baremetal/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f7e9f3839180fbeaa96999eef6311843eafd649d', 'message': 'Add deprecation warning to nova baremetal virt driver\n\nWe have warnings in the other group C virt drivers and for cells, and\ngiven the baremetal driver is deprecated and slated to be replaced by\nthe ironic driver, add a deprecation warning to the logs when the\nbaremetal driver is loaded.\n\nChange-Id: Iaee8b7f7b4d32605e36fd72e893794066727fb65\n'}]",0,99685,f7e9f3839180fbeaa96999eef6311843eafd649d,29,12,1,6873,,,0,"Add deprecation warning to nova baremetal virt driver

We have warnings in the other group C virt drivers and for cells, and
given the baremetal driver is deprecated and slated to be replaced by
the ironic driver, add a deprecation warning to the logs when the
baremetal driver is loaded.

Change-Id: Iaee8b7f7b4d32605e36fd72e893794066727fb65
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/99685/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/baremetal/driver.py'],1,f7e9f3839180fbeaa96999eef6311843eafd649d,deprecation-warn-bm-driver," def _do_deprecation_warning(self): LOG.warning(_('The baremetal driver is deprecated, untested, ' 'unmaintained and will be replaced by an Ironic ' 'driver in the future.')) self._do_deprecation_warning() ",,7,0
openstack%2Fsahara~master~I8f867d7cc89abbdf407a170344be062f00ed50a2,openstack/sahara,master,I8f867d7cc89abbdf407a170344be062f00ed50a2,Added several checks on deleted cluster to prevent error logs,MERGED,2014-06-06 23:24:16.000000000,2014-06-17 00:27:00.000000000,2014-06-16 09:45:58.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7109}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 8411}]","[{'number': 1, 'created': '2014-06-06 23:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/09e47248913e08ec8817549793b7648e46264061', 'message': 'Added several checks on deleted cluster to prevent error logs\n\nChange-Id: I8f867d7cc89abbdf407a170344be062f00ed50a2\nCloses-Bug: #1274739\n'}, {'number': 2, 'created': '2014-06-06 23:28:38.000000000', 'files': ['sahara/utils/general.py', 'sahara/service/ops.py', 'sahara/service/heat_engine.py', 'sahara/service/direct_engine.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/d429c22a85a8637d805a6f66716688bc3e969180', 'message': 'Added several checks on deleted cluster to prevent error logs\n\nChange-Id: I8f867d7cc89abbdf407a170344be062f00ed50a2\nCloses-Bug: #1274739\nCloses-Bug: #1286391'}]",8,98556,d429c22a85a8637d805a6f66716688bc3e969180,32,6,2,8411,,,0,"Added several checks on deleted cluster to prevent error logs

Change-Id: I8f867d7cc89abbdf407a170344be062f00ed50a2
Closes-Bug: #1274739
Closes-Bug: #1286391",git fetch https://review.opendev.org/openstack/sahara refs/changes/56/98556/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/utils/general.py', 'sahara/service/ops.py', 'sahara/service/heat_engine.py', 'sahara/service/direct_engine.py']",4,09e47248913e08ec8817549793b7648e46264061,, if not g.check_cluster_exists(cluster): LOG.info(g.format_cluster_deleted_message(cluster)) return if not g.check_cluster_exists(cluster): LOG.info(g.format_cluster_deleted_message(cluster)) return if not g.check_cluster_exists(cluster): LOG.info(g.format_cluster_deleted_message(cluster)) return if not g.check_cluster_exists(cluster): LOG.info(g.format_cluster_deleted_message(cluster)) return [] if not g.check_cluster_exists(cluster): LOG.info(g.format_cluster_deleted_message(cluster)) return [] if not g.check_cluster_exists(cluster): LOG.info(g.format_cluster_deleted_message(cluster)) return [] ,,69,0
openstack%2Fironic-python-agent~master~I9739c2e0d29091d29fa170cf04d953184b8cb54d,openstack/ironic-python-agent,master,I9739c2e0d29091d29fa170cf04d953184b8cb54d,Improve cache_image testing,MERGED,2014-06-11 09:17:37.000000000,2014-06-17 00:17:29.000000000,2014-06-17 00:17:29.000000000,"[{'_account_id': 3}, {'_account_id': 10342}, {'_account_id': 10343}]","[{'number': 1, 'created': '2014-06-11 09:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/980c6effccfc1efe055e2cbd404ef0b5209b432a', 'message': 'Improve cache_image testing\n\nAdd tests around cache_image functionality to cover other cases:\n- A image is already cached\n- A image is already cached but we use the parameter force to refresh it.\n\nChange-Id: I9739c2e0d29091d29fa170cf04d953184b8cb54d\nPartial-Bug: #1326849\n'}, {'number': 2, 'created': '2014-06-16 10:07:29.000000000', 'files': ['ironic_python_agent/tests/extensions/standby.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/3206ce7c6c88ad645210056dac44da5c3e0ed1fc', 'message': 'Improve cache_image testing\n\nAdd tests around cache_image functionality to cover other cases:\n- A image is already cached\n- A image is already cached but we use the parameter force to refresh it.\n\nChange-Id: I9739c2e0d29091d29fa170cf04d953184b8cb54d\nPartial-Bug: #1326849\n'}]",2,99301,3206ce7c6c88ad645210056dac44da5c3e0ed1fc,13,3,2,1726,,,0,"Improve cache_image testing

Add tests around cache_image functionality to cover other cases:
- A image is already cached
- A image is already cached but we use the parameter force to refresh it.

Change-Id: I9739c2e0d29091d29fa170cf04d953184b8cb54d
Partial-Bug: #1326849
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/01/99301/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/tests/extensions/standby.py'],1,980c6effccfc1efe055e2cbd404ef0b5209b432a,cache_image," @mock.patch('ironic_python_agent.extensions.standby._write_image', autospec=True) @mock.patch('ironic_python_agent.extensions.standby._download_image', autospec=True) @mock.patch('ironic_python_agent.hardware.get_manager', autospec=True) def test_cache_image_force(self, mock_hw, mock_download, mock_write): image_info = self._build_fake_image_info() self.agent_extension.cached_image_id = image_info['id'] result = self.agent_extension.cache_image( 'cache_image', image_info=image_info, force=True ) result.join() self.assertTrue(mock_write.called) @mock.patch('ironic_python_agent.extensions.standby._write_image', autospec=True) @mock.patch('ironic_python_agent.extensions.standby._download_image', autospec=True) @mock.patch('ironic_python_agent.hardware.get_manager', autospec=True) def test_cache_image_cached(self, mock_hw, mock_download, mock_write): image_info = self._build_fake_image_info() self.agent_extension.cached_image_id = image_info['id'] result = self.agent_extension.cache_image( 'cache_image', image_info=image_info ) result.join() self.assertFalse(mock_write.called) ",,28,0
openstack%2Fironic-python-agent~master~Ie2ff5931cc77e5cdd1621c652d73a62fed0b69a6,openstack/ironic-python-agent,master,Ie2ff5931cc77e5cdd1621c652d73a62fed0b69a6,Remove duplicated test for caching image,MERGED,2014-06-10 22:57:13.000000000,2014-06-17 00:16:18.000000000,2014-06-17 00:16:17.000000000,"[{'_account_id': 3}, {'_account_id': 10342}, {'_account_id': 10343}, {'_account_id': 11702}]","[{'number': 1, 'created': '2014-06-10 22:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a985874ba3354f464320527167b67e1dcc92579c', 'message': 'Fix IPA standby extension test\n\nThe test is trying to retrieve a real url and saving it into\na block device. Mock several calls to avoid this behavior and\nand assert that the cached image is properly saved.\n\nChange-Id: Ie2ff5931cc77e5cdd1621c652d73a62fed0b69a6\nPartial-Bug: #1326849\n'}, {'number': 2, 'created': '2014-06-16 09:46:46.000000000', 'files': ['ironic_python_agent/tests/extensions/standby.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0ee229eb8005b66057bebf63e296a26e8b38d2ad', 'message': 'Remove duplicated test for caching image\n\nThe test test_cache_image_success is (bad) duplicate of the\ntest test_cache_image\n\nThe test is trying to retrieve a real url and saving it into\na block device. Mock several calls to avoid this behavior and\nand assert that the cached image is properly saved.\n\nChange-Id: Ie2ff5931cc77e5cdd1621c652d73a62fed0b69a6\nPartial-Bug: #1326849\n'}]",0,99230,0ee229eb8005b66057bebf63e296a26e8b38d2ad,14,4,2,1726,,,0,"Remove duplicated test for caching image

The test test_cache_image_success is (bad) duplicate of the
test test_cache_image

The test is trying to retrieve a real url and saving it into
a block device. Mock several calls to avoid this behavior and
and assert that the cached image is properly saved.

Change-Id: Ie2ff5931cc77e5cdd1621c652d73a62fed0b69a6
Partial-Bug: #1326849
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/30/99230/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/tests/extensions/standby.py'],1,a985874ba3354f464320527167b67e1dcc92579c,cache_image," @mock.patch('ironic_python_agent.extensions.standby._write_image', autospec=True) @mock.patch('ironic_python_agent.extensions.standby._download_image', autospec=True) @mock.patch('ironic_python_agent.hardware.get_manager', autospec=True) def test_cache_image_success(self, mock_hw, mock_download, mock_write): image_info = self._build_fake_image_info() 'cache_image', image_info=image_info ) self.assertEqual(self.agent_extension.cached_image_id, image_info['id'])"," def test_cache_image_success(self): 'cache_image', image_info=self._build_fake_image_info())",11,3
openstack%2Fheat~master~Ifb6abd30a882d4c5197090c87498781702488b9c,openstack/heat,master,Ifb6abd30a882d4c5197090c87498781702488b9c,Heat and Openstack incomplete documentation,MERGED,2014-06-04 17:12:03.000000000,2014-06-17 00:04:55.000000000,2014-06-17 00:04:55.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 8328}]","[{'number': 1, 'created': '2014-06-04 17:12:03.000000000', 'files': ['doc/source/getting_started/on_devstack.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/8e20becccede321320106663db1986a04fafef1a', 'message': 'Heat and Openstack incomplete documentation\n\nImprove documentation running a heat template with devstack\n\nChange-Id: Ifb6abd30a882d4c5197090c87498781702488b9c\nCloses-Bug: #1326089\n'}]",0,97858,8e20becccede321320106663db1986a04fafef1a,10,3,1,10765,,,0,"Heat and Openstack incomplete documentation

Improve documentation running a heat template with devstack

Change-Id: Ifb6abd30a882d4c5197090c87498781702488b9c
Closes-Bug: #1326089
",git fetch https://review.opendev.org/openstack/heat refs/changes/58/97858/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/getting_started/on_devstack.rst'],1,8e20becccede321320106663db1986a04fafef1a,improve_devstack_doc, http://git.openstack.org/cgit/openstack/heat-templates/plain/hot/F20/WordPress_Native.yaml -P key_name=heat_key -P image_id=Fedora-x86_64-20-20131211.1-sda," https://raw.github.com/openstack/heat-templates/master/cfn/F17/WordPress_Single_Instance.template -P ""InstanceType=m1.large;DBUsername=wp;DBPassword=verybadpassword;KeyName=heat_key;LinuxDistribution=F17""",1,1
openstack%2Foslo.messaging~master~I6aa2e2ac3cebf443719d64ebcd9eaadc0a9328b8,openstack/oslo.messaging,master,I6aa2e2ac3cebf443719d64ebcd9eaadc0a9328b8,zmq: switch back to not using message envelopes,MERGED,2014-04-02 12:07:12.000000000,2014-06-17 00:04:53.000000000,2014-06-17 00:04:52.000000000,"[{'_account_id': 3}, {'_account_id': 1247}, {'_account_id': 1297}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 6537}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-04-02 12:07:12.000000000', 'files': ['oslo/messaging/_drivers/impl_zmq.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/8aa17091b46162e9cdf5b5c63092be82708d7686', 'message': ""zmq: switch back to not using message envelopes\n\nIn oslo-incubator, we default to not serializing messages using a\nmessage envelope:\n\n  def _cast(.., envelope=False, ...)\n\nexcept using the v2 notifyer which explicitly passes envelope=True.\n\nHowever, in oslo.messaging, we accidentally switched to using a\nmessage envelope:\n\n     def _send(self, ..., envelope=True):\n\nThis was not intentional and may be disruptive to users.\n\nThis issue was identified because the envelope=True path just doesn't\nwork! We don't have any zmq tests in oslo.messaging, but even in\noslo-incubator the code path isn't tested and has been broken since\nI73aad7697cf83ad4aabb3c2058b7cc4f53f783c2\n\nPartial-Bug: #1301132\nChange-Id: I6aa2e2ac3cebf443719d64ebcd9eaadc0a9328b8\n""}]",0,84704,8aa17091b46162e9cdf5b5c63092be82708d7686,22,7,1,1247,,,0,"zmq: switch back to not using message envelopes

In oslo-incubator, we default to not serializing messages using a
message envelope:

  def _cast(.., envelope=False, ...)

except using the v2 notifyer which explicitly passes envelope=True.

However, in oslo.messaging, we accidentally switched to using a
message envelope:

     def _send(self, ..., envelope=True):

This was not intentional and may be disruptive to users.

This issue was identified because the envelope=True path just doesn't
work! We don't have any zmq tests in oslo.messaging, but even in
oslo-incubator the code path isn't tested and has been broken since
I73aad7697cf83ad4aabb3c2058b7cc4f53f783c2

Partial-Bug: #1301132
Change-Id: I6aa2e2ac3cebf443719d64ebcd9eaadc0a9328b8
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/04/84704/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo/messaging/_drivers/impl_zmq.py'],1,8aa17091b46162e9cdf5b5c63092be82708d7686,," wait_for_reply=None, timeout=None, envelope=False):"," wait_for_reply=None, timeout=None, envelope=True):",1,1
openstack%2Ftempest~master~Iea047c48e9b50c9dcca4c73073056274594c42fb,openstack/tempest,master,Iea047c48e9b50c9dcca4c73073056274594c42fb,Disable isolated_creds.net_resources on network scenarios,MERGED,2014-04-07 10:48:51.000000000,2014-06-17 00:03:47.000000000,2014-06-17 00:03:46.000000000,"[{'_account_id': 3}, {'_account_id': 261}, {'_account_id': 2750}, {'_account_id': 5803}, {'_account_id': 6683}, {'_account_id': 7139}, {'_account_id': 7428}, {'_account_id': 8556}, {'_account_id': 8576}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10966}]","[{'number': 1, 'created': '2014-04-07 10:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a6e83081bce2457cd86cb19e711767849672fd02', 'message': 'Disable isolated_creds.net_resources on network scenarios\n\nChange-Id: Iea047c48e9b50c9dcca4c73073056274594c42fb\nPartial-Bug: 1263635\n'}, {'number': 2, 'created': '2014-04-23 10:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ba1b53c98f39de4a4944a23886123a1d7fc30dcb', 'message': 'Disable isolated_creds.net_resources on network scenarios\n\nThese tests creates their own network resources as part of the scenario.\nisolated_creds network resources are redundant.\n\nChange-Id: Iea047c48e9b50c9dcca4c73073056274594c42fb\nPartial-Bug: 1263635\n'}, {'number': 3, 'created': '2014-06-08 05:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/282f21a98c2fdf2beb37ef5cf8a01646269706ac', 'message': 'Disable isolated_creds.net_resources on network scenarios\n\nThese tests creates their own network resources as part of the scenario.\nisolated_creds network resources are redundant.\n\nChange-Id: Iea047c48e9b50c9dcca4c73073056274594c42fb\nPartial-Bug: 1263635\n'}, {'number': 4, 'created': '2014-06-15 08:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9eac671463547ffe5332bb8e0ed68bc62dff5ea4', 'message': 'Disable isolated_creds.net_resources on network scenarios\n\nThese tests creates their own network resources as part of the scenario.\nisolated_creds network resources are redundant.\n\nChange-Id: Iea047c48e9b50c9dcca4c73073056274594c42fb\nPartial-Bug: 1263635\n'}, {'number': 5, 'created': '2014-06-16 06:50:15.000000000', 'files': ['tempest/scenario/test_network_basic_ops.py', 'tempest/scenario/test_security_groups_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/764610afe0e269879df04f1e38795c6f8d8eb8e3', 'message': 'Disable isolated_creds.net_resources on network scenarios\n\nThese tests creates their own network resources as part of the scenario.\nisolated_creds network resources are redundant.\n\nChange-Id: Iea047c48e9b50c9dcca4c73073056274594c42fb\nPartial-Bug: 1263635\n'}]",1,85684,764610afe0e269879df04f1e38795c6f8d8eb8e3,79,14,5,8576,,,0,"Disable isolated_creds.net_resources on network scenarios

These tests creates their own network resources as part of the scenario.
isolated_creds network resources are redundant.

Change-Id: Iea047c48e9b50c9dcca4c73073056274594c42fb
Partial-Bug: 1263635
",git fetch https://review.opendev.org/openstack/tempest refs/changes/84/85684/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/scenario/test_network_basic_ops.py', 'tempest/scenario/test_security_groups_basic_ops.py']",2,a6e83081bce2457cd86cb19e711767849672fd02,bug/1263635, # Create no network resources for these tests. cls.set_network_resources(),,4,0
openstack%2Ftempest~master~Icd14925058a388eba9fd2aa1b06b1db7f80f1327,openstack/tempest,master,Icd14925058a388eba9fd2aa1b06b1db7f80f1327,Remove the validate_driver_info test,MERGED,2014-05-27 15:01:10.000000000,2014-06-17 00:03:39.000000000,2014-06-17 00:03:38.000000000,"[{'_account_id': 3}, {'_account_id': 97}, {'_account_id': 1420}, {'_account_id': 2750}, {'_account_id': 2889}, {'_account_id': 5196}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 6773}, {'_account_id': 8125}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-05-27 15:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d4704b11cc308d8ec1ba1a05dfe2cc44db34b776', 'message': ""Modify BaremetalBasicOptsPXESSH.validate_driver_info()\n\nThe 'pxe_image_source' parameter won't be part of the driver_info anymore,\nthis parameter is related to the instance and will be separated from the\ndriver-level data. The flavor also won't contain the deploy kernel and\ndeploy ramdisk parameters anymore, it needs to be done to enable Ironic\nto support different deploy provisioning methods using the same flavor,\nboth pxe_deploy_ramdisk and pxe_deploy_kernel will still be part of the\ndriver-level data and should be present at deploy time, but they will\nbe set as part of the informations needed to enroll a node.\n\nChange-Id: Icd14925058a388eba9fd2aa1b06b1db7f80f1327\nImplements: blueprint add-node-instance-info\n""}, {'number': 2, 'created': '2014-06-13 14:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cf853b5a90883efb2194d3b714d77dfea289e141', 'message': ""Modify BaremetalBasicOptsPXESSH.validate_driver_info()\n\nThe 'pxe_image_source' parameter won't be part of the driver_info anymore,\nthis parameter is related to the instance and will be separated from the\ndriver-level data. The flavor also won't contain the deploy kernel and\ndeploy ramdisk parameters anymore, it needs to be done to enable Ironic\nto support different deploy provisioning methods using the same flavor,\nboth pxe_deploy_ramdisk and pxe_deploy_kernel will still be part of the\ndriver-level data and should be present at deploy time, but they will\nbe set as part of the informations needed to enroll a node.\n\nChange-Id: Icd14925058a388eba9fd2aa1b06b1db7f80f1327\nImplements: blueprint add-node-instance-info\n""}, {'number': 3, 'created': '2014-06-13 14:49:37.000000000', 'files': ['tempest/scenario/test_baremetal_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/40a5e9c56e95fd942ef612f4b7735dfd80bd510d', 'message': ""Remove the validate_driver_info test\n\nThis test is not exercising anything in the API, it's just looking at\nsome driver specific parameters, and so can be dropped.\n\nImplements: blueprint add-node-instance-info\nChange-Id: Icd14925058a388eba9fd2aa1b06b1db7f80f1327\n""}]",1,95789,40a5e9c56e95fd942ef612f4b7735dfd80bd510d,59,15,3,6773,,,0,"Remove the validate_driver_info test

This test is not exercising anything in the API, it's just looking at
some driver specific parameters, and so can be dropped.

Implements: blueprint add-node-instance-info
Change-Id: Icd14925058a388eba9fd2aa1b06b1db7f80f1327
",git fetch https://review.opendev.org/openstack/tempest refs/changes/89/95789/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_baremetal_basic_ops.py'],1,d4704b11cc308d8ec1ba1a05dfe2cc44db34b776,bp/add-node-instance-info, self.assertIsNotNone(driver_info['pxe_deploy_kernel']) self.assertIsNotNone(driver_info['pxe_deploy_ramdisk'])," f_id = self.instance.flavor['id'] flavor_extra = self.compute_client.flavors.get(f_id).get_keys() self.assertEqual(driver_info['pxe_deploy_kernel'], flavor_extra['baremetal:deploy_kernel_id']) self.assertEqual(driver_info['pxe_deploy_ramdisk'], flavor_extra['baremetal:deploy_ramdisk_id']) self.assertEqual(driver_info['pxe_image_source'], self.instance.image['id'])",2,8
openstack%2Ftempest~master~I4bc5aa756508b533919c283ce18f641fec50b30e,openstack/tempest,master,I4bc5aa756508b533919c283ce18f641fec50b30e,Optimization and response status code update,MERGED,2014-04-17 10:52:32.000000000,2014-06-16 23:59:52.000000000,2014-06-16 23:59:51.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 2750}, {'_account_id': 7293}, {'_account_id': 7428}, {'_account_id': 7882}, {'_account_id': 8085}, {'_account_id': 8205}, {'_account_id': 8556}, {'_account_id': 8824}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-17 10:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3e899dbb1ed8d0565f8d87a9ff7f7771f774c55d', 'message': 'Missing response status code update\n\nThis patch adds checking for missing response status code.\n\nChange-Id: I4bc5aa756508b533919c283ce18f641fec50b30e\n'}, {'number': 2, 'created': '2014-04-17 10:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/425d2550a87de90be0c45b8be1489395b6b63a4c', 'message': 'Missing response status code update\n\nThis patch adds checking for missing response status code.\n\nChange-Id: I4bc5aa756508b533919c283ce18f641fec50b30e\n'}, {'number': 3, 'created': '2014-04-18 09:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/21462b2b55d9a1c4460ebef9f23abb96aebe97c5', 'message': 'Missing response status code update\n\nIn following test files response status code is not being checked -\n1. test_api_discovery.py\n2. test_chassis.py\n3. test_nodes.py\n\nThis patch adds checking for missing response status code in above.\n\nChange-Id: I4bc5aa756508b533919c283ce18f641fec50b30e\n'}, {'number': 4, 'created': '2014-04-18 11:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/30f6c454cde058c5d3ddad0a635ea91318407504', 'message': 'Missing response status code update\n\nIn following test files response status code is not being checked -\n1. test_api_discovery.py\n2. test_chassis.py\n3. test_nodes.py\n\nThis patch adds checking for missing response status code in above.\n\nChange-Id: I4bc5aa756508b533919c283ce18f641fec50b30e\n'}, {'number': 5, 'created': '2014-04-21 07:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cd8011e22194d6653d422db0e59d12aa96de7382', 'message': 'Missing response status code update\n\nIn following test files response status code is not being checked -\n1. test_api_discovery.py\n2. test_chassis.py\n3. test_nodes.py\n4. test_ports.py\n\nThis patch adds checking for missing response status code in above.\n\nChange-Id: I4bc5aa756508b533919c283ce18f641fec50b30e\n'}, {'number': 6, 'created': '2014-04-21 09:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c134b76c59ddcc07e31dcdd9a13fc72c9e68ed02', 'message': 'Missing response status code update\n\nIn following test files response status code is not being checked -\n1. test_api_discovery.py\n2. test_chassis.py\n3. test_nodes.py\n4. test_ports.py\n\nThis patch adds checking for missing response status code in above.\n\nChange-Id: I4bc5aa756508b533919c283ce18f641fec50b30e\n'}, {'number': 7, 'created': '2014-06-04 11:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0876a944121d8bdba0d87c65690e5c9e6a118e02', 'message': 'Optimization and response status code update\n\nIn following test files response status code is not being checked -\n1. test_api_discovery.py\n2. test_chassis.py\n3. test_nodes.py\n4. test_ports.py\n\nThis patch adds checking for missing response status code in above.\nAlso it optimize codes of files.\nChange-Id: I4bc5aa756508b533919c283ce18f641fec50b30e\n'}, {'number': 8, 'created': '2014-06-05 04:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5e8ecd6438e4694d3c9576c42ee8d6a47f7a066c', 'message': 'Optimization and response status code update\n\nIn following test files response status code is not being checked -\n1. test_api_discovery.py\n2. test_chassis.py\n3. test_nodes.py\n4. test_ports.py\n\nThis patch adds checking for missing response status code in above.\nAlso it optimize codes of files.\nChange-Id: I4bc5aa756508b533919c283ce18f641fec50b30e\n'}, {'number': 9, 'created': '2014-06-05 06:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/37bcf8e6f49978c104ac2fcaf47d9c378111cac0', 'message': 'Optimization and response status code update\n\nIn following test files response status code is not being checked -\n1. test_api_discovery.py\n2. test_chassis.py\n3. test_nodes.py\n4. test_ports.py\n\nThis patch adds checking for missing response status code in above.\nAlso it optimize codes of files.\nChange-Id: I4bc5aa756508b533919c283ce18f641fec50b30e\n'}, {'number': 10, 'created': '2014-06-06 04:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/59d7b18070525caf3ff8cbde073ebbdbeadcc34c', 'message': 'Optimization and response status code update\n\nIn following test files response status code is not being checked -\n1. test_api_discovery.py\n2. test_chassis.py\n3. test_nodes.py\n4. test_ports.py\n\nThis patch adds checking for missing response status code in above.\nAlso it optimize codes of files.\nChange-Id: I4bc5aa756508b533919c283ce18f641fec50b30e\n'}, {'number': 11, 'created': '2014-06-06 04:23:36.000000000', 'files': ['tempest/api/baremetal/test_api_discovery.py', 'tempest/api/baremetal/test_nodes.py', 'tempest/api/baremetal/base.py', 'tempest/api/baremetal/test_chassis.py', 'tempest/api/baremetal/test_ports.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a9bb79dca3db4e1970a30c363c251107af9eac13', 'message': 'Optimization and response status code update\n\nIn following test files response status code is not being checked -\n1. test_api_discovery.py\n2. test_chassis.py\n3. test_nodes.py\n4. test_ports.py\n\nThis patch adds checking for missing response status code in above.\nAlso it optimize codes of files.\nChange-Id: I4bc5aa756508b533919c283ce18f641fec50b30e\n'}]",18,88233,a9bb79dca3db4e1970a30c363c251107af9eac13,120,13,11,8205,,,0,"Optimization and response status code update

In following test files response status code is not being checked -
1. test_api_discovery.py
2. test_chassis.py
3. test_nodes.py
4. test_ports.py

This patch adds checking for missing response status code in above.
Also it optimize codes of files.
Change-Id: I4bc5aa756508b533919c283ce18f641fec50b30e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/33/88233/7 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/baremetal/test_api_discovery.py', 'tempest/api/baremetal/test_nodes.py', 'tempest/api/baremetal/test_chassis.py']",3,3e899dbb1ed8d0565f8d87a9ff7f7771f774c55d,response_code_update," self.assertEqual('200', resp['status']) self.assertEqual('200', resp['status']) resp, body = (self.client.update_chassis(chassis_id, description=new_description)) self.assertEqual('200', resp['status'])"," self.client.update_chassis(chassis_id, description=new_description) ",12,4
openstack%2Ftempest~master~Ic931fab33b461b00a2155407bf307c692c7f18e6,openstack/tempest,master,Ic931fab33b461b00a2155407bf307c692c7f18e6,add block_device_mapping to create_server params for nova clients,MERGED,2014-06-09 07:06:22.000000000,2014-06-16 23:59:43.000000000,2014-06-16 23:59:43.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 5371}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7428}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10224}, {'_account_id': 10234}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-09 07:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3937ccb75ef0d0d82e741371354df8a4a2d83ec6', 'message': 'add block_device_mapping to create_server params for nova clients\n\nChange-Id: Ic931fab33b461b00a2155407bf307c692c7f18e6\nCloses-Bug: #1327942\n'}, {'number': 2, 'created': '2014-06-13 07:33:55.000000000', 'files': ['tempest/services/compute/xml/servers_client.py', 'tempest/services/compute/json/servers_client.py', 'tempest/services/compute/v3/json/servers_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2a2fc41eaa67fee358f834121f9450533d0a814d', 'message': 'add block_device_mapping to create_server params for nova clients\n\nChange-Id: Ic931fab33b461b00a2155407bf307c692c7f18e6\nCloses-Bug: #1327942\n'}]",0,98699,2a2fc41eaa67fee358f834121f9450533d0a814d,38,13,2,10234,,,0,"add block_device_mapping to create_server params for nova clients

Change-Id: Ic931fab33b461b00a2155407bf307c692c7f18e6
Closes-Bug: #1327942
",git fetch https://review.opendev.org/openstack/tempest refs/changes/99/98699/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/services/compute/xml/servers_client.py', 'tempest/services/compute/json/servers_client.py', 'tempest/services/compute/v3/json/servers_client.py']",3,3937ccb75ef0d0d82e741371354df8a4a2d83ec6,master-3," block_device_mapping: Block device mapping for the server. 'return_reservation_id'), ('os-block-device-mapping:block_device_mapping', 'block_device_mapping')]:", 'return_reservation_id')]:,9,3
openstack%2Fironic-python-agent~master~Iac67fd4d855388d2671da3b7258b31d1eead77a9,openstack/ironic-python-agent,master,Iac67fd4d855388d2671da3b7258b31d1eead77a9,Reduce requests connection pool size,MERGED,2014-06-16 22:47:13.000000000,2014-06-16 23:45:07.000000000,2014-06-16 23:45:07.000000000,"[{'_account_id': 3}, {'_account_id': 10342}, {'_account_id': 10343}]","[{'number': 1, 'created': '2014-06-16 22:47:13.000000000', 'files': ['ironic_python_agent/ironic_api_client.py', 'ironic_python_agent/tests/agent.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1893e02c1033e3a41a2d6c0704125914758869f2', 'message': 'Reduce requests connection pool size\n\nRequests defaults to keeping 10 connections to the API alive. This\nseems excessive, reduce it to 2.\n\nChange-Id: Iac67fd4d855388d2671da3b7258b31d1eead77a9\n'}]",0,100375,1893e02c1033e3a41a2d6c0704125914758869f2,8,3,1,10626,,,0,"Reduce requests connection pool size

Requests defaults to keeping 10 connections to the API alive. This
seems excessive, reduce it to 2.

Change-Id: Iac67fd4d855388d2671da3b7258b31d1eead77a9
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/75/100375/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/ironic_api_client.py', 'ironic_python_agent/tests/agent.py']",2,1893e02c1033e3a41a2d6c0704125914758869f2,, self.mock_agent.api_url = 'https://fake_api.example.org:8081/',,9,0
openstack%2Fzaqar~master~If0eb67c630708b5e7adc9029562b275011c7eec8,openstack/zaqar,master,If0eb67c630708b5e7adc9029562b275011c7eec8,Sync from oslo-incubator,MERGED,2014-06-15 14:16:36.000000000,2014-06-16 23:41:27.000000000,2014-06-16 23:41:26.000000000,"[{'_account_id': 3}, {'_account_id': 6159}, {'_account_id': 6944}]","[{'number': 1, 'created': '2014-06-15 14:16:36.000000000', 'files': ['marconi/openstack/common/importutils.py', 'marconi/openstack/common/jsonutils.py', 'marconi/openstack/common/timeutils.py', 'marconi/openstack/common/log.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/cbaf543ccbc5624c0154ec9034b642e388212892', 'message': 'Sync from oslo-incubator\n\nThe main purpose is to sync log module with improved py3k compatibility\nand jsonutils module, that enables passing additional parameters to\njsonutils.load(s) functions. Also other modules were sync as\ndependencies.\n\nChange-Id: If0eb67c630708b5e7adc9029562b275011c7eec8\n'}]",0,100093,cbaf543ccbc5624c0154ec9034b642e388212892,10,3,1,10777,,,0,"Sync from oslo-incubator

The main purpose is to sync log module with improved py3k compatibility
and jsonutils module, that enables passing additional parameters to
jsonutils.load(s) functions. Also other modules were sync as
dependencies.

Change-Id: If0eb67c630708b5e7adc9029562b275011c7eec8
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/93/100093/1 && git format-patch -1 --stdout FETCH_HEAD,"['marconi/openstack/common/importutils.py', 'marconi/openstack/common/jsonutils.py', 'marconi/openstack/common/timeutils.py', 'marconi/openstack/common/log.py']",4,cbaf543ccbc5624c0154ec9034b642e388212892,," r'([\'""].*?%(key)s[\'""]\s*:\s*u?[\'""]).*?([\'""])', r'([\'""].*?%(key)s[\'""]\s*,\s*\'--?[A-z]+\'\s*,\s*u?[\'""])' '.*?([\'""])', r'(%(key)s\s*--?[A-z]+\s*).*?([\s])'] help='The name of a logging configuration file. This file ' 'is appended to any existing logging configuration ' 'files. For details about logging configuration files, ' 'see the Python logging module documentation.'), 'Default: %(default)s .'), '--log-file paths.'), 'and will change in J to honor RFC5424.'), help='(Optional) Enables or disables syslog rfc5424 format ' 'for logging. If enabled, prefixes the MSG part of the ' 'syslog message with APP-NAME (RFC5424). The ' 'format without the APP-NAME is deprecated in I, ' help='Syslog facility to receive log lines.') help='Log output to standard error.') help='Format string to use for log messages with context.'), help='Format string to use for log messages without context.'), help='Data to append to log format when level is DEBUG.'), help='Prefix each line of exception output with this format.'), 'oslo.messaging=INFO', help='List of logger=LEVEL pairs.'), help='Enables or disables publication of error events.'), help='Enables or disables fatal status of deprecations.'), help='The format for an instance that is passed with the log ' 'message. '), help='The format for an instance UUID that is passed with the ' 'log message. '), extra = {'exc_info': (exc_type, value, tb)} raise LogConfigError(log_config_append, six.text_type(exc)) # Do not use super() unless type(logging.handlers.SysLogHandler) # is 'type' (Python 2.7). # Use old style calls, if the type is 'classobj' (Python 2.6) logging.handlers.SysLogHandler.__init__(self, *args, **kwargs) # Do not use super() unless type(logging.handlers.SysLogHandler) # is 'type' (Python 2.7). # Use old style calls, if the type is 'classobj' (Python 2.6) msg = logging.handlers.SysLogHandler.format(self, record) # NOTE(AAzza) in python2.6 Logger.setLevel doesn't convert string name # to integer code. if sys.version_info < (2, 7): level = logging.getLevelName(level_name) logger.setLevel(level) else: logger.setLevel(level_name) for key in ('instance', 'color', 'user_identity'): fmt = CONF.logging_context_format_string else: fmt = CONF.logging_default_format_string fmt += "" "" + CONF.logging_debug_format_suffix if sys.version_info < (3, 2): self._fmt = fmt else: self._style = logging.PercentStyle(fmt) self._fmt = self._style._fmt"," r'([\'""].*?%(key)s[\'""]\s*:\s*u?[\'""]).*?([\'""])'] help='The name of logging configuration file. It does not ' 'disable existing loggers, but just appends specified ' 'logging configuration to any other existing logging ' 'options. Please see the Python logging module ' 'documentation for details on logging configuration ' 'files.'), default=None, 'Default: %(default)s'), '--log-file paths'), 'and then will be changed in J to honor RFC5424'), help='(Optional) Use syslog rfc5424 format for logging. ' 'If enabled, will add APP-NAME (RFC5424) before the ' 'MSG part of the syslog message. The old format ' 'without APP-NAME is deprecated in I, ' help='Syslog facility to receive log lines') help='Log output to standard error') help='Format string to use for log messages with context'), help='Format string to use for log messages without context'), help='Data to append to log format when level is DEBUG'), help='Prefix each line of exception output with this format'), help='List of logger=LEVEL pairs'), help='Publish error events'), help='Make deprecations fatal'), help='If an instance is passed with the log message, format ' 'it like this'), help='If an instance UUID is passed with the log message, ' 'format it like this'), extra = {} if CONF.verbose or CONF.debug: extra['exc_info'] = (exc_type, value, tb) raise LogConfigError(log_config_append, str(exc)) super(RFCSysLogHandler, self).__init__(*args, **kwargs) msg = super(RFCSysLogHandler, self).format(record) level = logging.getLevelName(level_name) logger.setLevel(level) for key in ('instance', 'color'): self._fmt = CONF.logging_context_format_string else: self._fmt = CONF.logging_default_format_string self._fmt += "" "" + CONF.logging_debug_format_suffix ",64,48
openstack%2Fironic-python-agent~master~I6ec98dc237b42bfe94ce79cf84d155332335c9f6,openstack/ironic-python-agent,master,I6ec98dc237b42bfe94ce79cf84d155332335c9f6,Fix: partitions recently imaged not being detected,MERGED,2014-06-11 23:12:17.000000000,2014-06-16 23:36:34.000000000,2014-06-16 23:36:34.000000000,"[{'_account_id': 3}, {'_account_id': 10343}, {'_account_id': 10626}]","[{'number': 1, 'created': '2014-06-11 23:12:17.000000000', 'files': ['ironic_python_agent/shell/copy_configdrive_to_disk.sh'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d159aec4f01795726dccc2bc8ccece3655668e2f', 'message': 'Fix: partitions recently imaged not being detected\n\nWhen we have just written out a whole disk image, if we do not run\npartprobe none of the new partitions show up in blkid, therefore even\nimages with a built-in configdrive partition will have one created\n\nChange-Id: I6ec98dc237b42bfe94ce79cf84d155332335c9f6\n'}]",0,99504,d159aec4f01795726dccc2bc8ccece3655668e2f,10,3,1,10342,,,0,"Fix: partitions recently imaged not being detected

When we have just written out a whole disk image, if we do not run
partprobe none of the new partitions show up in blkid, therefore even
images with a built-in configdrive partition will have one created

Change-Id: I6ec98dc237b42bfe94ce79cf84d155332335c9f6
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/04/99504/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/shell/copy_configdrive_to_disk.sh'],1,d159aec4f01795726dccc2bc8ccece3655668e2f,bug/1326326,"# We need to run partprobe to ensure all partitions are visible so the # following blkid command returns partitions just imaged to the device /sbin/partprobe $DEVICE || fail ""running partprobe against $DEVICE"" ",,4,0
openstack%2Ftripleo-heat-templates~master~I1f8249e244fea97e2690b85bb42c09c6eabb0451,openstack/tripleo-heat-templates,master,I1f8249e244fea97e2690b85bb42c09c6eabb0451,Update ip_local_port_range through sysctl,ABANDONED,2014-05-09 02:22:11.000000000,2014-06-16 23:26:41.000000000,,"[{'_account_id': 3}, {'_account_id': 4190}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 7471}, {'_account_id': 8041}, {'_account_id': 8907}, {'_account_id': 10035}]","[{'number': 1, 'created': '2014-05-09 02:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/85ccbbb6487b95453a868076aa1b825ddb0ce011', 'message': 'Add ephemeral port range parameters\n\nAdds parameters to specify the start and end of the\nephemeral port range.\n\nRequired by https://review.openstack.org/#/c/92298/\n\nChange-Id: I1f8249e244fea97e2690b85bb42c09c6eabb0451\n'}, {'number': 2, 'created': '2014-05-17 00:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1067b3d7dc751c30c467d862d6955fe52eddd0a6', 'message': 'Update ip_local_port_range through sysctl\n\nAdds a IPLocalPortRange parameter to set the start and end of the\nephemeral port range. The value is applied by the sysctl element.\n\nRequired by change I95a5bd48afea179273044c338d73d9c2dbb884a0\n\nChange-Id: I1f8249e244fea97e2690b85bb42c09c6eabb0451\n'}, {'number': 3, 'created': '2014-06-10 00:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d5486d2dd5b47eea071f35439aca32d7c3ba96cd', 'message': 'Update ip_local_port_range through sysctl\n\nAdds a IPLocalPortRange parameter to set the start and end of the\nephemeral port range. The value is applied by the sysctl element.\n\nRequired by change I95a5bd48afea179273044c338d73d9c2dbb884a0\n\nChange-Id: I1f8249e244fea97e2690b85bb42c09c6eabb0451\n'}, {'number': 4, 'created': '2014-06-12 22:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a4963eaf3ac6d2c7c8f57f72626ffe06c95623d7', 'message': 'Update ip_local_port_range through sysctl\n\nAdds a IPLocalPortRange parameter to set the start and end of the\nephemeral port range. The value is applied by the sysctl element.\n\nThe default range is normally 32768-61000. The range is set to\n267-60999 to reserve port 61000 for rabbitmq clustering.\n\nRequired by change I95a5bd48afea179273044c338d73d9c2dbb884a0\n\nChange-Id: I1f8249e244fea97e2690b85bb42c09c6eabb0451\n'}, {'number': 5, 'created': '2014-06-12 22:43:25.000000000', 'files': ['undercloud-source.yaml', 'overcloud-source.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/945013b7f7e2b1f9491147490bfc448501967f7d', 'message': 'Update ip_local_port_range through sysctl\n\nAdds a IPLocalPortRange parameter to set the start and end of the\nephemeral port range. The value is applied by the sysctl element.\n\nThe default range is normally 32768-61000. The range is set to\n267-60999 to reserve port 61000 for rabbitmq clustering.\n\nRequired by change I95a5bd48afea179273044c338d73d9c2dbb884a0\n\nChange-Id: I1f8249e244fea97e2690b85bb42c09c6eabb0451\n'}]",3,92952,945013b7f7e2b1f9491147490bfc448501967f7d,42,8,5,7471,,,0,"Update ip_local_port_range through sysctl

Adds a IPLocalPortRange parameter to set the start and end of the
ephemeral port range. The value is applied by the sysctl element.

The default range is normally 32768-61000. The range is set to
267-60999 to reserve port 61000 for rabbitmq clustering.

Required by change I95a5bd48afea179273044c338d73d9c2dbb884a0

Change-Id: I1f8249e244fea97e2690b85bb42c09c6eabb0451
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/92952/3 && git format-patch -1 --stdout FETCH_HEAD,"['undercloud-source.yaml', 'overcloud-source.yaml']",2,85ccbbb6487b95453a868076aa1b825ddb0ce011,ephemeral-ports, EphemeralPortsStart: Default: 32678 Description: Start of the ephemeral ports range Type: String EphemeralPortsEnd: Default: 60999 Description: End of the ephemeral ports range Type: String ephemeral-ports: start: Ref: EphemeralPortsStart end: Ref: EphemeralPortsEnd,,26,0
openstack%2Fneutron~master~I2c1aa159132e4aad0138d4b0b7ff90eb98ed400c,openstack/neutron,master,I2c1aa159132e4aad0138d4b0b7ff90eb98ed400c,Introduced rpc_compat.create_connection(),MERGED,2014-06-02 16:54:03.000000000,2014-06-16 23:11:31.000000000,2014-06-16 23:11:30.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 6072}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 7787}, {'_account_id': 9008}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9828}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10153}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10503}]","[{'number': 1, 'created': '2014-06-02 16:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dc27de614d8f4b3ebc048d90b21dd433e8141e36', 'message': 'Introduced rpc_compat.create_connection() (WIP)\n\nThis will be used to emulate oslo-rpc API using oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I2c1aa159132e4aad0138d4b0b7ff90eb98ed400c\n'}, {'number': 2, 'created': '2014-06-02 21:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c33f66497af4f1e861ed56e050c6aa5a6ce7674', 'message': 'Introduced rpc_compat.create_connection() (WIP)\n\nThis will be used to emulate oslo-rpc API using oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I2c1aa159132e4aad0138d4b0b7ff90eb98ed400c\n'}, {'number': 3, 'created': '2014-06-03 14:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26919ae94fc4b1a37b290080dfb72bfc46b1d33a', 'message': 'Introduced rpc_compat.create_connection()\n\nThis will be used to emulate oslo-rpc API using oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I2c1aa159132e4aad0138d4b0b7ff90eb98ed400c\n'}, {'number': 4, 'created': '2014-06-03 14:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/81817adf00bf3d93d409df5d9281b1cd3ed651d7', 'message': 'Introduced rpc_compat.create_connection()\n\nThis will be used to emulate oslo-rpc API using oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I2c1aa159132e4aad0138d4b0b7ff90eb98ed400c\n'}, {'number': 5, 'created': '2014-06-03 20:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f9e7406ca9b6256668be1c8cc94096d923c93c7', 'message': 'Introduced rpc_compat.create_connection()\n\nThis will be used to emulate oslo-rpc API using oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I2c1aa159132e4aad0138d4b0b7ff90eb98ed400c\n'}, {'number': 6, 'created': '2014-06-04 19:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d02589d403fbd85eb6aabebada11bb0abeddc20a', 'message': 'Introduced rpc_compat.create_connection()\n\nThis will be used to emulate oslo-rpc API using oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I2c1aa159132e4aad0138d4b0b7ff90eb98ed400c\n'}, {'number': 7, 'created': '2014-06-07 08:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c6ca2cbe729a42b2a0b944971defe8627ec8a8b', 'message': 'Introduced rpc_compat.create_connection()\n\nThis will be used to emulate oslo-rpc API using oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I2c1aa159132e4aad0138d4b0b7ff90eb98ed400c\n'}, {'number': 8, 'created': '2014-06-09 10:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/883487dcce675c1ebc5688db3055bfe28ab67ddd', 'message': 'Introduced rpc_compat.create_connection()\n\nThis will be used to emulate oslo-rpc API using oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I2c1aa159132e4aad0138d4b0b7ff90eb98ed400c\n'}, {'number': 9, 'created': '2014-06-09 14:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3757008b9fb3665c0d293334979c02a69eefe88a', 'message': 'Introduced rpc_compat.create_connection()\n\nThis will be used to emulate oslo-rpc API using oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I2c1aa159132e4aad0138d4b0b7ff90eb98ed400c\n'}, {'number': 10, 'created': '2014-06-12 15:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1866ffefc27903ad22dc42fb8f0bc54f7e4b7cfb', 'message': 'Introduced rpc_compat.create_connection()\n\nThis will be used to emulate oslo-rpc API using oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I2c1aa159132e4aad0138d4b0b7ff90eb98ed400c\n'}, {'number': 11, 'created': '2014-06-14 18:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1cb35c50ed50dbfbe04ab827224b500f747a49d4', 'message': 'Introduced rpc_compat.create_connection()\n\nThis will be used to emulate oslo-rpc API using oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I2c1aa159132e4aad0138d4b0b7ff90eb98ed400c\n'}, {'number': 12, 'created': '2014-06-16 11:25:28.000000000', 'files': ['neutron/plugins/linuxbridge/lb_neutron_plugin.py', 'neutron/plugins/vmware/dhcpmeta_modes.py', 'neutron/plugins/oneconvergence/plugin.py', 'neutron/tests/unit/test_agent_rpc.py', 'neutron/plugins/openvswitch/ovs_neutron_plugin.py', 'neutron/services/metering/metering_plugin.py', 'neutron/plugins/ml2/plugin.py', 'neutron/services/vpn/device_drivers/cisco_ipsec.py', 'neutron/tests/unit/services/vpn/service_drivers/test_ipsec.py', 'neutron/services/vpn/device_drivers/ipsec.py', 'neutron/services/firewall/fwaas_plugin.py', 'neutron/services/loadbalancer/drivers/common/agent_driver_base.py', 'neutron/plugins/hyperv/hyperv_neutron_plugin.py', 'neutron/tests/unit/services/vpn/service_drivers/test_cisco_ipsec.py', 'neutron/plugins/cisco/n1kv/n1kv_neutron_plugin.py', 'neutron/tests/unit/services/vpn/device_drivers/test_cisco_ipsec.py', 'neutron/tests/unit/services/vpn/device_drivers/test_ipsec.py', 'neutron/plugins/mlnx/mlnx_plugin.py', 'neutron/plugins/brocade/NeutronPlugin.py', 'neutron/plugins/nec/nec_plugin.py', 'neutron/agent/rpc.py', 'neutron/plugins/midonet/plugin.py', 'neutron/plugins/bigswitch/plugin.py', 'neutron/services/l3_router/l3_router_plugin.py', 'neutron/plugins/ryu/ryu_neutron_plugin.py', 'neutron/services/vpn/service_drivers/cisco_ipsec.py', 'neutron/services/vpn/service_drivers/ipsec.py', 'neutron/common/rpc_compat.py', 'neutron/plugins/ibm/sdnve_neutron_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8d04713a98ff037b4dec62c051a499ed61ad02d', 'message': 'Introduced rpc_compat.create_connection()\n\nThis will be used to emulate oslo-rpc API using oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I2c1aa159132e4aad0138d4b0b7ff90eb98ed400c\n'}]",0,97290,d8d04713a98ff037b4dec62c051a499ed61ad02d,185,27,12,9656,,,0,"Introduced rpc_compat.create_connection()

This will be used to emulate oslo-rpc API using oslo.messaging.

blueprint oslo-messaging

Change-Id: I2c1aa159132e4aad0138d4b0b7ff90eb98ed400c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/97290/10 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/linuxbridge/lb_neutron_plugin.py', 'neutron/plugins/vmware/dhcpmeta_modes.py', 'neutron/plugins/oneconvergence/plugin.py', 'neutron/tests/unit/test_agent_rpc.py', 'neutron/plugins/openvswitch/ovs_neutron_plugin.py', 'neutron/services/metering/metering_plugin.py', 'neutron/plugins/ml2/plugin.py', 'neutron/services/vpn/device_drivers/cisco_ipsec.py', 'neutron/tests/unit/services/vpn/service_drivers/test_ipsec.py', 'neutron/services/vpn/device_drivers/ipsec.py', 'neutron/services/firewall/fwaas_plugin.py', 'neutron/services/loadbalancer/drivers/common/agent_driver_base.py', 'neutron/plugins/hyperv/hyperv_neutron_plugin.py', 'neutron/tests/unit/services/vpn/service_drivers/test_cisco_ipsec.py', 'neutron/plugins/cisco/n1kv/n1kv_neutron_plugin.py', 'neutron/tests/unit/services/vpn/device_drivers/test_cisco_ipsec.py', 'neutron/tests/unit/services/vpn/device_drivers/test_ipsec.py', 'neutron/plugins/mlnx/mlnx_plugin.py', 'neutron/plugins/brocade/NeutronPlugin.py', 'neutron/plugins/nec/nec_plugin.py', 'neutron/agent/rpc.py', 'neutron/plugins/midonet/plugin.py', 'neutron/plugins/bigswitch/plugin.py', 'neutron/services/l3_router/l3_router_plugin.py', 'neutron/plugins/ryu/ryu_neutron_plugin.py', 'neutron/services/vpn/service_drivers/cisco_ipsec.py', 'neutron/services/vpn/service_drivers/ipsec.py', 'neutron/common/rpc_compat.py', 'neutron/plugins/ibm/sdnve_neutron_plugin.py']",29,dc27de614d8f4b3ebc048d90b21dd433e8141e36,bp/oslo-messaging, self.conn = rpc_compat.create_connection(new=True),from neutron.openstack.common import rpc self.conn = rpc.create_connection(new=True),40,54
openstack%2Fneutron~master~Ie48de6d3636d6404316f19d73c7e8453298ecf14,openstack/neutron,master,Ie48de6d3636d6404316f19d73c7e8453298ecf14,Copy-paste RPC Service class for backwards compatibility,MERGED,2014-06-02 16:54:03.000000000,2014-06-16 23:11:22.000000000,2014-06-16 23:11:21.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 6072}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10153}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}]","[{'number': 1, 'created': '2014-06-02 16:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/30f824386cbe5b5b4a62c2d3f3c9c8d16d70f4e2', 'message': 'Copy-paste RPC Service class for backwards compatibility (WIP)\n\nblueprint oslo-messaging\n\nChange-Id: Ie48de6d3636d6404316f19d73c7e8453298ecf14\n'}, {'number': 2, 'created': '2014-06-02 21:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f499e0f5094e2b00c8498efbd5783195f328de9c', 'message': 'Copy-paste RPC Service class for backwards compatibility (WIP)\n\nblueprint oslo-messaging\n\nChange-Id: Ie48de6d3636d6404316f19d73c7e8453298ecf14\n'}, {'number': 3, 'created': '2014-06-03 14:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/09b0029643bc8b8a7606e5034b767ecf798dfd40', 'message': 'Copy-paste RPC Service class for backwards compatibility\n\nblueprint oslo-messaging\n\nChange-Id: Ie48de6d3636d6404316f19d73c7e8453298ecf14\n'}, {'number': 4, 'created': '2014-06-03 14:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/31470bed72cccd805caa285632e4289a2b3530d4', 'message': 'Copy-paste RPC Service class for backwards compatibility\n\nblueprint oslo-messaging\n\nChange-Id: Ie48de6d3636d6404316f19d73c7e8453298ecf14\n'}, {'number': 5, 'created': '2014-06-03 20:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8500edd2b208d70e946bf7b3bdce29bfafc16dd8', 'message': 'Copy-paste RPC Service class for backwards compatibility\n\nblueprint oslo-messaging\n\nChange-Id: Ie48de6d3636d6404316f19d73c7e8453298ecf14\n'}, {'number': 6, 'created': '2014-06-04 19:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b5540dcae16beab1968631851175d828317031a', 'message': 'Copy-paste RPC Service class for backwards compatibility\n\nblueprint oslo-messaging\n\nChange-Id: Ie48de6d3636d6404316f19d73c7e8453298ecf14\n'}, {'number': 7, 'created': '2014-06-07 08:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2209ff92c7d037588d6676e0027b3ca6fd559885', 'message': 'Copy-paste RPC Service class for backwards compatibility\n\nblueprint oslo-messaging\n\nChange-Id: Ie48de6d3636d6404316f19d73c7e8453298ecf14\n'}, {'number': 8, 'created': '2014-06-09 10:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/032aacdd57a96b695728ecf6f287e28d77c8812f', 'message': 'Copy-paste RPC Service class for backwards compatibility\n\nblueprint oslo-messaging\n\nChange-Id: Ie48de6d3636d6404316f19d73c7e8453298ecf14\n'}, {'number': 9, 'created': '2014-06-09 14:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/deaed11c0815e528786c4882d79438a37547ce60', 'message': 'Copy-paste RPC Service class for backwards compatibility\n\nblueprint oslo-messaging\n\nChange-Id: Ie48de6d3636d6404316f19d73c7e8453298ecf14\n'}, {'number': 10, 'created': '2014-06-12 15:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0de79012793edf8f8a186fb30e86d8806f47c124', 'message': 'Copy-paste RPC Service class for backwards compatibility\n\nblueprint oslo-messaging\n\nChange-Id: Ie48de6d3636d6404316f19d73c7e8453298ecf14\n'}, {'number': 11, 'created': '2014-06-14 18:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a47bd7fcf50b626c616b33fab31dc9f84b3a9914', 'message': 'Copy-paste RPC Service class for backwards compatibility\n\nblueprint oslo-messaging\n\nChange-Id: Ie48de6d3636d6404316f19d73c7e8453298ecf14\n'}, {'number': 12, 'created': '2014-06-16 11:25:28.000000000', 'files': ['neutron/service.py', 'neutron/common/rpc_compat.py', 'neutron/services/loadbalancer/agent/agent.py', 'neutron/tests/unit/services/loadbalancer/agent/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ebe89547f27713821f9778939b7943064b784f3c', 'message': 'Copy-paste RPC Service class for backwards compatibility\n\nblueprint oslo-messaging\n\nChange-Id: Ie48de6d3636d6404316f19d73c7e8453298ecf14\n'}]",3,97289,ebe89547f27713821f9778939b7943064b784f3c,161,23,12,9656,,,0,"Copy-paste RPC Service class for backwards compatibility

blueprint oslo-messaging

Change-Id: Ie48de6d3636d6404316f19d73c7e8453298ecf14
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/97289/12 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/service.py', 'neutron/common/rpc_compat.py', 'neutron/services/loadbalancer/agent/agent.py']",3,30f824386cbe5b5b4a62c2d3f3c9c8d16d70f4e2,bp/oslo-messaging,from neutron.common import rpc_compatclass LbaasAgentService(rpc_compat.Service):,from neutron.openstack.common.rpc import service as rpc_serviceclass LbaasAgentService(rpc_service.Service):,62,4
openstack%2Fheat~master~Ib243d6d1f4ff41c83fddcd0a3741cc28ff954448,openstack/heat,master,Ib243d6d1f4ff41c83fddcd0a3741cc28ff954448,Unit tests: always use ResourceDefinition for handle_update(),MERGED,2014-05-28 02:25:07.000000000,2014-06-16 22:57:23.000000000,2014-06-16 22:08:32.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 6488}, {'_account_id': 7193}, {'_account_id': 7385}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-05-28 02:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ad5f782d8f96530339df80b35da661c696b39c84', 'message': 'Unit tests: always use ResourceDefinition for handle_update()\n\nChange-Id: Ib243d6d1f4ff41c83fddcd0a3741cc28ff954448\n'}, {'number': 2, 'created': '2014-05-28 13:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/38c95285b1901791850451516f425b569a895e51', 'message': 'Unit tests: always use ResourceDefinition for handle_update()\n\nChange-Id: Ib243d6d1f4ff41c83fddcd0a3741cc28ff954448\n'}, {'number': 3, 'created': '2014-05-30 20:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/59914106412ee28b3597851fe8d6c3d6dccaa099', 'message': 'Unit tests: always use ResourceDefinition for handle_update()\n\nChange-Id: Ib243d6d1f4ff41c83fddcd0a3741cc28ff954448\n'}, {'number': 4, 'created': '2014-06-05 18:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e85d6b4ef3ded70f31a04cc62649e3e49131cad2', 'message': 'Unit tests: always use ResourceDefinition for handle_update()\n\nChange-Id: Ib243d6d1f4ff41c83fddcd0a3741cc28ff954448\n'}, {'number': 5, 'created': '2014-06-11 01:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/564a313c0936e4972203c10ed25c283feae6e78d', 'message': 'Unit tests: always use ResourceDefinition for handle_update()\n\nChange-Id: Ib243d6d1f4ff41c83fddcd0a3741cc28ff954448\n'}, {'number': 6, 'created': '2014-06-11 13:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6b1ee93e5d4c3bfe96c52e4515e7995ef6c75cfb', 'message': 'Unit tests: always use ResourceDefinition for handle_update()\n\nChange-Id: Ib243d6d1f4ff41c83fddcd0a3741cc28ff954448\n'}, {'number': 7, 'created': '2014-06-16 15:22:28.000000000', 'files': ['heat/tests/test_neutron_network_gateway.py', 'heat/tests/test_nested_stack.py', 'heat/tests/test_waitcondition.py', 'heat/tests/test_software_deployment.py', 'heat/tests/test_neutron.py', 'heat/tests/test_instance_group.py', 'heat/tests/test_loadbalancer.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/a844ceb9681253caa82fccfdd5ea073580dd3e67', 'message': 'Unit tests: always use ResourceDefinition for handle_update()\n\nChange-Id: Ib243d6d1f4ff41c83fddcd0a3741cc28ff954448\n'}]",0,96005,a844ceb9681253caa82fccfdd5ea073580dd3e67,43,6,7,4257,,,0,"Unit tests: always use ResourceDefinition for handle_update()

Change-Id: Ib243d6d1f4ff41c83fddcd0a3741cc28ff954448
",git fetch https://review.opendev.org/openstack/heat refs/changes/05/96005/3 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_neutron_network_gateway.py', 'heat/tests/test_nested_stack.py', 'heat/tests/test_waitcondition.py', 'heat/tests/test_software_deployment.py', 'heat/tests/test_neutron.py', 'heat/tests/test_instance_group.py', 'heat/tests/test_loadbalancer.py']",7,ad5f782d8f96530339df80b35da661c696b39c84,bp/update-failure-recovery,"from heat.engine import rsrc_defn prop_diff = {'Instances': id_list} props = copy.copy(rsrc.properties.data) props.update(prop_diff) update_defn = rsrc_defn.ResourceDefinition(rsrc.name, rsrc.type(), props) rsrc.handle_update(update_defn, {}, prop_diff) self.assertIsNone(rsrc.handle_update(rsrc.t, {}, {}))"," rsrc.handle_update(copy.deepcopy(rsrc.t), {}, {'Instances': id_list}) self.assertIsNone(rsrc.handle_update({}, {}, {}))",102,112
openstack%2Fbarbican~master~If0697b2cce365b4be1c6159d6955469121d9d133,openstack/barbican,master,If0697b2cce365b4be1c6159d6955469121d9d133,Adding target support for policy enforcement.,ABANDONED,2014-03-18 17:09:31.000000000,2014-06-16 22:45:00.000000000,,"[{'_account_id': 3}, {'_account_id': 994}, {'_account_id': 1091}, {'_account_id': 1916}, {'_account_id': 2218}, {'_account_id': 7136}, {'_account_id': 7789}]","[{'number': 1, 'created': '2014-03-18 17:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/0d9c68a815838b5564d8fed8ef91bbbde78d5330', 'message': 'Adding target support for policy enforcement\n\nChange-Id: If0697b2cce365b4be1c6159d6955469121d9d133\nCloses-Bug: #1291073\n'}, {'number': 2, 'created': '2014-03-18 18:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/1e033b1decaa092c5500ff1815f72573ffd1af00', 'message': 'Adding target support for policy enforcement\n\nChange-Id: If0697b2cce365b4be1c6159d6955469121d9d133\nCloses-Bug: #1291073\n'}, {'number': 3, 'created': '2014-03-20 00:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/8f60450ec39151b6492205f2a2f5b7234256e439', 'message': 'Adding target support for policy enforcement\n\nChange-Id: If0697b2cce365b4be1c6159d6955469121d9d133\nCloses-Bug: #1291073\n'}, {'number': 4, 'created': '2014-03-20 01:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/ac3746769afb2cee691efe286e314e6cb98eda74', 'message': 'Adding target support for policy enforcement.\n\nChange-Id: If0697b2cce365b4be1c6159d6955469121d9d133\nCloses-Bug: #1291073\n'}, {'number': 5, 'created': '2014-03-20 01:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/67b3d4241e8163d819461197a165ba3e04012700', 'message': 'Adding target support for policy enforcement.\n\nChange-Id: If0697b2cce365b4be1c6159d6955469121d9d133\nCloses-Bug: #1291073\n'}, {'number': 6, 'created': '2014-03-21 18:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/9e88816f6c974a5568880341413d3d654dcfc716', 'message': 'Adding target support for policy enforcement.\n\nChange-Id: If0697b2cce365b4be1c6159d6955469121d9d133\nCloses-Bug: #1291073\n'}, {'number': 7, 'created': '2014-03-21 20:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/f75c80c405e5f65b313824a2a51566e626267d53', 'message': 'Adding target support for policy enforcement.\n\nBlueprint: policy-target-support\nCloses-Bug: #1291073\n\nChange-Id: If0697b2cce365b4be1c6159d6955469121d9d133\n'}, {'number': 8, 'created': '2014-03-27 15:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/e1ff08195c4569b8613add69bfc286ef2e947962', 'message': 'Adding target support for policy enforcement.\n\nBlueprint: policy-target-support\nCloses-Bug: #1291073\n\nChange-Id: If0697b2cce365b4be1c6159d6955469121d9d133\n'}, {'number': 9, 'created': '2014-04-04 15:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/e5e9747c697e9b2e80f7750a9dd823bd9cff2172', 'message': 'Adding target support for policy enforcement.\n\nBlueprint: policy-target-support\nCloses-Bug: #1291073\n\nChange-Id: If0697b2cce365b4be1c6159d6955469121d9d133\n'}, {'number': 10, 'created': '2014-04-29 22:03:58.000000000', 'files': ['etc/barbican/policy.json', 'barbican/api/__init__.py', 'barbican/tests/api/test_resources_policy.py', 'barbican/api/resources.py', 'barbican/tests/api/test_resources.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/0db85a93c7582cc012a81e1c27aeffaaa8d1feb5', 'message': 'Adding target support for policy enforcement.\n\nBlueprint: policy-target-support\nCloses-Bug: #1291073\n\nChange-Id: If0697b2cce365b4be1c6159d6955469121d9d133\n'}]",38,81310,0db85a93c7582cc012a81e1c27aeffaaa8d1feb5,34,7,10,1091,,,0,"Adding target support for policy enforcement.

Blueprint: policy-target-support
Closes-Bug: #1291073

Change-Id: If0697b2cce365b4be1c6159d6955469121d9d133
",git fetch https://review.opendev.org/openstack/barbican refs/changes/10/81310/9 && git format-patch -1 --stdout FETCH_HEAD,"['bin/barbican.sh', 'etc/barbican/policy.json', 'barbican/api/__init__.py', 'barbican/tests/api/test_resources_policy.py', 'barbican/api/resources.py', 'barbican/tests/api/test_resources.py']",6,0d9c68a815838b5564d8fed8ef91bbbde78d5330,bp/policy-target-support,"import uuiddef get_tenant_repo(self, keystone_id=None): tenant = models.Tenant() tenant.id = uuid.uuid4().hex tenant.keystone_id = keystone_id tenant_repo = mock.MagicMock() tenant_repo.find_by_keystone_id.return_value = tenant return tenant_repo self.resource = res.OrderResource( tenant_repo=get_tenant_repo(self.tenant_keystone_id), order_repo=self.order_repo)", self.resource = res.OrderResource(self.order_repo),290,63
openstack%2Fdevstack~master~I6f87b6999bac14b2e25935984aa79679c4b470b6,openstack/devstack,master,I6f87b6999bac14b2e25935984aa79679c4b470b6,generate apache config in the SUSE case,ABANDONED,2014-06-16 13:58:51.000000000,2014-06-16 22:40:09.000000000,,"[{'_account_id': 3}, {'_account_id': 9009}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-16 13:58:51.000000000', 'files': ['lib/apache'], 'web_link': 'https://opendev.org/openstack/devstack/commit/56e05c5078eaff81e0b8665e5cedf8f56400cf2d', 'message': 'generate apache config in the SUSE case\n\nChange-Id: I6f87b6999bac14b2e25935984aa79679c4b470b6\n'}]",0,100257,56e05c5078eaff81e0b8665e5cedf8f56400cf2d,6,3,1,1446,,,0,"generate apache config in the SUSE case

Change-Id: I6f87b6999bac14b2e25935984aa79679c4b470b6
",git fetch https://review.opendev.org/openstack/devstack refs/changes/57/100257/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/apache'],1,56e05c5078eaff81e0b8665e5cedf8f56400cf2d,," elif is_suse; then echo ""$APACHE_CONF_DIR/${site}.conf""",,2,0
openstack%2Fheat~master~Ied4b3df4e15d165100eb5b059ac605879c6b9b5e,openstack/heat,master,Ied4b3df4e15d165100eb5b059ac605879c6b9b5e,Unit tests: use ResourceDefinition to test facades,MERGED,2014-05-28 02:25:07.000000000,2014-06-16 22:08:57.000000000,2014-06-16 22:08:56.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 6488}, {'_account_id': 7193}]","[{'number': 1, 'created': '2014-05-28 02:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/123a92ee9e24685453008162260fe7fc9050b9e0', 'message': 'Unit tests: use ResourceDefinition to test facades\n\nChange-Id: Ied4b3df4e15d165100eb5b059ac605879c6b9b5e\n'}, {'number': 2, 'created': '2014-05-28 13:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c329ac6fab2e2d0d56eee1cfb097dde8baf3b924', 'message': 'Unit tests: use ResourceDefinition to test facades\n\nChange-Id: Ied4b3df4e15d165100eb5b059ac605879c6b9b5e\n'}, {'number': 3, 'created': '2014-05-30 20:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0d1235449ebc98a2e2fe749aa25043846eaff519', 'message': 'Unit tests: use ResourceDefinition to test facades\n\nChange-Id: Ied4b3df4e15d165100eb5b059ac605879c6b9b5e\n'}, {'number': 4, 'created': '2014-06-05 18:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f0552285603b6be40ee476b61dd9176a957101b7', 'message': 'Unit tests: use ResourceDefinition to test facades\n\nChange-Id: Ied4b3df4e15d165100eb5b059ac605879c6b9b5e\n'}, {'number': 5, 'created': '2014-06-11 01:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e66fb0e410faf69cd0d518ba7f98a1f577da8275', 'message': 'Unit tests: use ResourceDefinition to test facades\n\nChange-Id: Ied4b3df4e15d165100eb5b059ac605879c6b9b5e\n'}, {'number': 6, 'created': '2014-06-11 13:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1198c55027da08c85c0621a8fc005be85c91bae6', 'message': 'Unit tests: use ResourceDefinition to test facades\n\nChange-Id: Ied4b3df4e15d165100eb5b059ac605879c6b9b5e\n'}, {'number': 7, 'created': '2014-06-16 15:22:28.000000000', 'files': ['heat/tests/test_parser.py', 'heat/tests/test_hot.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/ec1e5c42a39001b81ddca6f47e2218299118ab8d', 'message': 'Unit tests: use ResourceDefinition to test facades\n\nChange-Id: Ied4b3df4e15d165100eb5b059ac605879c6b9b5e\n'}]",0,96008,ec1e5c42a39001b81ddca6f47e2218299118ab8d,35,4,7,4257,,,0,"Unit tests: use ResourceDefinition to test facades

Change-Id: Ied4b3df4e15d165100eb5b059ac605879c6b9b5e
",git fetch https://review.opendev.org/openstack/heat refs/changes/08/96008/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_parser.py', 'heat/tests/test_hot.py']",2,123a92ee9e24685453008162260fe7fc9050b9e0,bp/update-failure-recovery,"from heat.engine.cfn import functions as cfn_funcsfrom heat.engine import rsrc_defn parent_resource.t = rsrc_defn.ResourceDefinition( 'parent', 'SomeType', deletion_policy=rsrc_defn.ResourceDefinition.RETAIN, update_policy={""blarg"": ""wibble""}) del_policy = cfn_funcs.Join(parent_resource.stack, 'Fn::Join', ['eta', ['R', 'in']]) parent_resource.t = rsrc_defn.ResourceDefinition( 'parent', 'SomeType', deletion_policy=del_policy) parent_resource.t = rsrc_defn.ResourceDefinition('parent', 'SomeType')"," parent_resource.t = {'DeletionPolicy': 'Retain', 'UpdatePolicy': {""blarg"": ""wibble""}} parent_snippet = {'DeletionPolicy': {'Fn::Join': ['eta', ['R', 'in']]}} parent_tmpl = parent_resource.stack.t.parse(parent_resource.stack, parent_snippet) parent_resource.t = parent_tmpl parent_resource.t = {}",27,16
openstack%2Fheat~master~I30e9b38f79bbcf5532ca35724ef4af8131c06c3c,openstack/heat,master,I30e9b38f79bbcf5532ca35724ef4af8131c06c3c,Use ResourceDefinition to generate Properties,MERGED,2014-05-28 02:25:07.000000000,2014-06-16 22:08:49.000000000,2014-06-16 22:08:48.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 4571}, {'_account_id': 6488}, {'_account_id': 7193}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-05-28 02:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/dca314cbe5eb6778413803628defec3ad344a90b', 'message': 'Use ResourceDefinition to generate Properties\n\nChange-Id: I30e9b38f79bbcf5532ca35724ef4af8131c06c3c\n'}, {'number': 2, 'created': '2014-05-28 13:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/52dd2a7166ef7d0042ac089a2208e570353fd4fb', 'message': 'Use ResourceDefinition to generate Properties\n\nChange-Id: I30e9b38f79bbcf5532ca35724ef4af8131c06c3c\n'}, {'number': 3, 'created': '2014-05-30 20:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/582b2da8288c9aa4b6937f075d72f6e4f0cd980a', 'message': 'Use ResourceDefinition to generate Properties\n\nChange-Id: I30e9b38f79bbcf5532ca35724ef4af8131c06c3c\n'}, {'number': 4, 'created': '2014-06-05 18:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2023902bdef9dacf18bb8b3b75b2b2b005952b56', 'message': 'Use ResourceDefinition to generate Properties\n\nChange-Id: I30e9b38f79bbcf5532ca35724ef4af8131c06c3c\n'}, {'number': 5, 'created': '2014-06-11 01:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/25149605f123a2748b10fad4813a4eae615e38b0', 'message': 'Use ResourceDefinition to generate Properties\n\nChange-Id: I30e9b38f79bbcf5532ca35724ef4af8131c06c3c\n'}, {'number': 6, 'created': '2014-06-11 13:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2dad4d039d1fde14ac3676a17e62ebd60fb2a678', 'message': 'Use ResourceDefinition to generate Properties\n\nChange-Id: I30e9b38f79bbcf5532ca35724ef4af8131c06c3c\n'}, {'number': 7, 'created': '2014-06-16 15:22:28.000000000', 'files': ['heat/engine/resources/autoscaling.py', 'heat/engine/resources/cloud_watch.py', 'heat/engine/resources/neutron/neutron.py', 'heat/engine/resources/stack.py', 'heat/engine/resources/wait_condition.py', 'heat/engine/resources/template_resource.py', 'heat/engine/resource.py', 'heat/engine/resources/software_config/software_deployment.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/544031278a8338958425760f2a5e6dd21912ffc7', 'message': 'Use ResourceDefinition to generate Properties\n\nChange-Id: I30e9b38f79bbcf5532ca35724ef4af8131c06c3c\n'}]",3,96007,544031278a8338958425760f2a5e6dd21912ffc7,42,6,7,4257,,,0,"Use ResourceDefinition to generate Properties

Change-Id: I30e9b38f79bbcf5532ca35724ef4af8131c06c3c
",git fetch https://review.opendev.org/openstack/heat refs/changes/07/96007/7 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/autoscaling.py', 'heat/engine/resources/cloud_watch.py', 'heat/engine/resources/neutron/neutron.py', 'heat/engine/resources/stack.py', 'heat/engine/resources/wait_condition.py', 'heat/engine/resources/template_resource.py', 'heat/engine/resource.py', 'heat/engine/resources/software_config/software_deployment.py']",8,dca314cbe5eb6778413803628defec3ad344a90b,bp/update-failure-recovery," self.properties = json_snippet.properties(self.properties_schema, self.context)","from heat.engine import function self.properties = properties.Properties( self.properties_schema, json_snippet.get('Properties', {}), function.resolve, self.name, self.context)",25,67
openstack%2Fheat~master~Ibfaaea5077a4a97dc45b84d4d25bbba6a78425bf,openstack/heat,master,Ibfaaea5077a4a97dc45b84d4d25bbba6a78425bf,Unit tests: Name resources the same as in template,MERGED,2014-05-28 02:25:07.000000000,2014-06-16 22:08:40.000000000,2014-06-16 22:08:40.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 6488}, {'_account_id': 7193}, {'_account_id': 7385}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-05-28 02:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/17cc38b3e5c0789719c6d20aae813ef109974f64', 'message': 'Unit tests: Name resources the same as in template\n\nWe were creating a bunch of resources with a different name from their\ndefinition in the template. This makes the data consistent.\n\nChange-Id: Ibfaaea5077a4a97dc45b84d4d25bbba6a78425bf\n'}, {'number': 2, 'created': '2014-05-28 13:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ed602a4e1193e7f58497611b37b5a68b259b0960', 'message': 'Unit tests: Name resources the same as in template\n\nWe were creating a bunch of resources with a different name from their\ndefinition in the template. This makes the data consistent.\n\nChange-Id: Ibfaaea5077a4a97dc45b84d4d25bbba6a78425bf\n'}, {'number': 3, 'created': '2014-05-30 20:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b3710815d1223e65ed8eb55ea42a268a04f35cad', 'message': 'Unit tests: Name resources the same as in template\n\nWe were creating a bunch of resources with a different name from their\ndefinition in the template. This makes the data consistent.\n\nChange-Id: Ibfaaea5077a4a97dc45b84d4d25bbba6a78425bf\n'}, {'number': 4, 'created': '2014-06-05 18:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/53f9a8834f349e795ad9dd4f6089b78287d6fe67', 'message': 'Unit tests: Name resources the same as in template\n\nWe were creating a bunch of resources with a different name from their\ndefinition in the template. This makes the data consistent.\n\nChange-Id: Ibfaaea5077a4a97dc45b84d4d25bbba6a78425bf\n'}, {'number': 5, 'created': '2014-06-11 01:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/932a7bb75a5fa16f44e359f3f7872107cee348fe', 'message': 'Unit tests: Name resources the same as in template\n\nWe were creating a bunch of resources with a different name from their\ndefinition in the template. This makes the data consistent.\n\nChange-Id: Ibfaaea5077a4a97dc45b84d4d25bbba6a78425bf\n'}, {'number': 6, 'created': '2014-06-11 13:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d3821e8446c7077e049a9c634026211201841ba4', 'message': 'Unit tests: Name resources the same as in template\n\nWe were creating a bunch of resources with a different name from their\ndefinition in the template. This makes the data consistent.\n\nChange-Id: Ibfaaea5077a4a97dc45b84d4d25bbba6a78425bf\n'}, {'number': 7, 'created': '2014-06-16 15:22:28.000000000', 'files': ['heat/tests/test_server.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/dca66d06d0f5a830dcbadfc758e7a976bd4273b5', 'message': 'Unit tests: Name resources the same as in template\n\nWe were creating a bunch of resources with a different name from their\ndefinition in the template. This makes the data consistent.\n\nChange-Id: Ibfaaea5077a4a97dc45b84d4d25bbba6a78425bf\n'}]",0,96006,dca66d06d0f5a830dcbadfc758e7a976bd4273b5,43,6,7,4257,,,0,"Unit tests: Name resources the same as in template

We were creating a bunch of resources with a different name from their
definition in the template. This makes the data consistent.

Change-Id: Ibfaaea5077a4a97dc45b84d4d25bbba6a78425bf
",git fetch https://review.opendev.org/openstack/heat refs/changes/06/96006/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/test_server.py'],1,17cc38b3e5c0789719c6d20aae813ef109974f64,bp/update-failure-recovery," server = servers.Server('WebServer', 'WebServer: image Error validating value ' server = servers.Server('WebServer', 'WebServer: image Multiple physical resources were ' server = servers.Server('WebServer', 'WebServer: image Error validating value \'1\': ' server = servers.Server('WebServer', 'Property error : WebServer: key_name Error validating '"," server = servers.Server('server_create_image_err', 'server_create_image_err: image Error validating value ' server = servers.Server('server_create_image_err', 'server_create_image_err: image Multiple physical resources were ' server = servers.Server('server_create_image_err', 'server_create_image_err: image Error validating value \'1\': ' server = servers.Server('server_validate_test', 'Property error : server_validate_test: key_name Error validating '",8,8
openstack%2Fnova-specs~master~I24c2a9486ba71f1078b8aaab3be4affc902eb80c,openstack/nova-specs,master,I24c2a9486ba71f1078b8aaab3be4affc902eb80c,Enforce unique instance uuid in data model,MERGED,2014-06-02 17:55:19.000000000,2014-06-16 21:48:54.000000000,2014-06-16 21:48:54.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 100}, {'_account_id': 136}, {'_account_id': 1561}, {'_account_id': 1779}, {'_account_id': 2271}, {'_account_id': 6873}]","[{'number': 1, 'created': '2014-06-02 17:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9a27c630248d96e34cafb978288cd772c7a956de', 'message': 'Enforce unique instance uuid in data model\n\nDetails the nova spec for blueprint enforce-unique-instance-uuid-in-db\n\nChange-Id: I24c2a9486ba71f1078b8aaab3be4affc902eb80c\n'}, {'number': 2, 'created': '2014-06-04 21:49:23.000000000', 'files': ['specs/juno/enforce-unique-instance-uuid-in-db.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5ea13aea87cfd1abd21fdef38f03642a50e00d6f', 'message': 'Enforce unique instance uuid in data model\n\nDetails the nova spec for blueprint enforce-unique-instance-uuid-in-db\n\nChange-Id: I24c2a9486ba71f1078b8aaab3be4affc902eb80c\n'}]",6,97300,5ea13aea87cfd1abd21fdef38f03642a50e00d6f,20,8,2,6873,,,0,"Enforce unique instance uuid in data model

Details the nova spec for blueprint enforce-unique-instance-uuid-in-db

Change-Id: I24c2a9486ba71f1078b8aaab3be4affc902eb80c
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/00/97300/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/enforce-unique-instance-uuid-in-db.rst'],1,9a27c630248d96e34cafb978288cd772c7a956de,enforce-unique-instance-uuid-in-db,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Enforce unique instance uuid in data model ========================================== https://blueprints.launchpad.net/nova/+spec/enforce-unique-instance-uuid-in-db The instances.uuid column in the data model is not unique but by definition a UUID should be unique, and given how it's used within nova and across other openstack services like glance, neutron, ceilometer, etc, it should be unique. Furthermore, there are Foreign Keys created against instances.uuid so it should be unique. Problem description =================== * Uniqueness for instances.uuid is not enforced in the data model. * There are foreign keys created on the instances.uuid column so it should be unique. Proposed change =============== Add a database migration that checks for existing records where the instances.uuid or related instance_uuid column is NULL and if found, fails the migration until those are deleted. A tool will be provided to scan the database for these records and list them, then prompt the user to delete them. A --force option could also be provided in the tool to ignore any prompts and just delete the records if found. The new migration would be blocked until the records are deleted. Once there are no records left, the migration will make those columns non-nullable via SQLAlchemy and create a UniqueConstraint on the instances.uuid column. Note that the fixed_ips table is the exception here since it can, by design, contain NULL instance_uuid records to indicate deallocated and disassociated fixed IPs. Alternatives ------------ Do nothing and leave the nova objects layer to enforce unique instance uuid entries, but this does not help with the foreign key issue in the data model. Data model impact ----------------- #. NULL instances.uuid/instance_uuid records must be deleted, except in table fixed_ips as described above. #. The instances.uuid column will be made non-nullable. #. A UniqueConstraint will be created on the instances.uuid column. REST API impact --------------- None. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ The only performance impact on existing deployments is in the migration script changes which would be tested with turbo-hipster. Other deployer impact --------------------- The main impacts to deployers are: #. The biggest impact is the new migration. Migrations are potentially slow and require the controller service to be down when run. #. The hope is that existing deployments are not carrying records where instances.uuid or instance_uuid are None so the NULL queries in the new migration script would not yield large result sets. However, the impact to the deployer here is that they would be forced to manually prune those records before the migration can continue. Note that it's expected that those cases are exceptional and they are only the result of an inconsistent database. So finding these records is not expected, but if it is a problem the migration will fail clearly with instructions on how to fix the problem. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: mriedem@us.ibm.com Work Items ---------- #. Add a new migration to make instances.uuid non-nullable and put a unique constraint on that column. See the WIP patch for details: https://review.openstack.org/#/c/69047/ Dependencies ============ None. Testing ======= * Unit tests for the new database migration will be added to stub a database with NULL instance_uuid records to make sure the migration fails when those records are found and then test that when they are removed, the migration completes successfully and the unique constraint is created. Similarly the downgrade path will be unit tested. * It is expected that turbo-hipster will cover scale testing the new migration for MySQL. Documentation Impact ==================== None. References ========== * Work in progress nova patch: https://review.openstack.org/#/c/69047/ * Mailing list thread on making instances.uuid non-nullable: http://lists.openstack.org/pipermail/openstack-dev/2014-March/029467.html ",,159,0
openstack%2Fnova~master~Iec329d1c12a48ea90ba9d57decd0996fde6544f0,openstack/nova,master,Iec329d1c12a48ea90ba9d57decd0996fde6544f0,Update block_device_info to contain swap and ephemeral disks,MERGED,2014-04-27 04:49:32.000000000,2014-06-16 21:36:10.000000000,2014-05-06 01:31:45.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 2271}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 6062}, {'_account_id': 8247}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-27 04:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b0d95f5cb86e1425d9e61ed6427ae7dab1981aa', 'message': ""Update block_device_info to contain swap and ephemeral disks\n\nAn ephemeral or swap disk is attached to an instance on boot\nas follows: nova boot --flavor FLAVOR --image IMAGE_ID\n--swap 512 --ephemeral size=2 INSTANCE.  When a hard reboot is\nperformed on the instance, nova fails to recreate the\nappropriate libvirt XML definition, containing the ephemeral\ndisk.  This is because the correct block_device_info dict that\nis passed to the compute manager's reboot_instance method does\nnot contain swap or ephemeral disk key values that are necessary\nto recrate those disks.  This patch updates\n_get_instance_volume_block_device_info to return the swap and\nephemeral disk key values, in addition to the block_device_mapping\nit already returns today.\n\nChange-Id: Iec329d1c12a48ea90ba9d57decd0996fde6544f0\nCloses-Bug: #1305423\n""}, {'number': 2, 'created': '2014-04-27 16:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3350e646add82ed1b0bd6c582972df46199b299f', 'message': ""Update block_device_info to contain swap and ephemeral disks\n\nAn ephemeral or swap disk is attached to an instance on boot\nas follows: nova boot --flavor FLAVOR --image IMAGE_ID\n--swap 512 --ephemeral size=2 INSTANCE.  When a hard reboot is\nperformed on the instance, nova fails to recreate the\nappropriate libvirt XML definition, containing the ephemeral\ndisk.  This is because the correct block_device_info dict that\nis passed to the compute manager's reboot_instance method does\nnot contain swap or ephemeral disk key values that are necessary\nto recrate those disks.  This patch updates\n_get_instance_volume_block_device_info to return the swap and\nephemeral disk key values, in addition to the block_device_mapping\nit already returns today.\n\nChange-Id: Iec329d1c12a48ea90ba9d57decd0996fde6544f0\nCloses-Bug: #1305423\n""}, {'number': 3, 'created': '2014-04-28 13:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2927e3b2c4901867c63acd8314ae78fa74c8401', 'message': ""Update block_device_info to contain swap and ephemeral disks\n\nAn ephemeral or swap disk is attached to an instance on boot\nas follows: nova boot --flavor FLAVOR --image IMAGE_ID\n--swap 512 --ephemeral size=2 INSTANCE.  When a hard reboot is\nperformed on the instance, nova fails to recreate the\nappropriate libvirt XML definition, containing the ephemeral\ndisk.  This is because the correct block_device_info dict that\nis passed to the compute manager's reboot_instance method does\nnot contain swap or ephemeral disk key values that are necessary\nto recreate those disks.  This patch updates\n_get_instance_volume_block_device_info to return the swap and\nephemeral disk key values, in addition to the block_device_mapping\nit already returns today.\n\nChange-Id: Iec329d1c12a48ea90ba9d57decd0996fde6544f0\nCloses-Bug: #1305423\n""}, {'number': 4, 'created': '2014-04-28 19:33:15.000000000', 'files': ['nova/tests/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/compute/test_compute.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f087a6f77ef1338bb8d10943d2a18712220c3c44', 'message': ""Update block_device_info to contain swap and ephemeral disks\n\nAn ephemeral or swap disk is attached to an instance on boot\nas follows: nova boot --flavor FLAVOR --image IMAGE_ID\n--swap 512 --ephemeral size=2 INSTANCE.  When a hard reboot is\nperformed on the instance, nova fails to recreate the\nappropriate libvirt XML definition, containing the ephemeral\ndisk.  This is because the correct block_device_info dict that\nis passed to the compute manager's reboot_instance method does\nnot contain swap or ephemeral disk key values that are necessary\nto recreate those disks.  In addition to nova boot, the correct\nblock_device_info dict is also needed by nova rebuild, reboot,\nresize, and migrate to recreate those disks.  This patch updates\n_get_instance_volume_block_device_info (renamed\n_get_instance_block_device_info) to return the swap and ephemeral\ndisk key values, in addition to the block_device_mapping it\nalready returns today.\n\nChange-Id: Iec329d1c12a48ea90ba9d57decd0996fde6544f0\nCloses-Bug: #1305423\n""}]",11,90583,f087a6f77ef1338bb8d10943d2a18712220c3c44,73,13,4,8247,,,0,"Update block_device_info to contain swap and ephemeral disks

An ephemeral or swap disk is attached to an instance on boot
as follows: nova boot --flavor FLAVOR --image IMAGE_ID
--swap 512 --ephemeral size=2 INSTANCE.  When a hard reboot is
performed on the instance, nova fails to recreate the
appropriate libvirt XML definition, containing the ephemeral
disk.  This is because the correct block_device_info dict that
is passed to the compute manager's reboot_instance method does
not contain swap or ephemeral disk key values that are necessary
to recreate those disks.  In addition to nova boot, the correct
block_device_info dict is also needed by nova rebuild, reboot,
resize, and migrate to recreate those disks.  This patch updates
_get_instance_volume_block_device_info (renamed
_get_instance_block_device_info) to return the swap and ephemeral
disk key values, in addition to the block_device_mapping it
already returns today.

Change-Id: Iec329d1c12a48ea90ba9d57decd0996fde6544f0
Closes-Bug: #1305423
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/90583/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/compute/test_compute.py']",2,7b0d95f5cb86e1425d9e61ed6427ae7dab1981aa,bug/1305423," 'swap': None, 'ephemerals': [], 'swap': None, 'ephemerals': [], def test_get_instance_volume_block_device_info_swap_and_ephemeral(self): instance = self._create_fake_instance() ephemerals = fake_block_device.FakeDbBlockDeviceDict({ 'id': 1, 'instance_uuid': 'fake-instance', 'device_name': '/dev/vdb', 'source_type': 'blank', 'destination_type': 'local', 'device_type': 'disk', 'disk_bus': 'virtio', 'delete_on_termination': True, 'guest_format': None, 'volume_size': 1, 'boot_index': -1 }) swap = fake_block_device.FakeDbBlockDeviceDict({ 'id': 2, 'instance_uuid': 'fake-instance', 'device_name': '/dev/vdc', 'source_type': 'blank', 'destination_type': 'local', 'device_type': 'disk', 'disk_bus': 'virtio', 'delete_on_termination': True, 'guest_format': 'swap', 'volume_size': 1, 'boot_index': -1 }) bdms = block_device_obj.block_device_make_list(self.context, [swap, ephemerals]) with ( mock.patch.object(block_device_obj.BlockDeviceMappingList, 'get_by_instance_uuid', return_value=bdms) ) as mock_get_by_instance_uuid: expected_block_device_info = { 'swap': {'device_name': '/dev/vdc', 'swap_size': 1}, 'ephemerals': [{'device_name': '/dev/vdb', 'num': 0, 'size': 1, 'virtual_name': 'ephemeral0'}], 'block_device_mapping': [] } block_device_info = ( self.compute._get_instance_volume_block_device_info( self.context, instance) ) mock_get_by_instance_uuid.assert_called_once_with(self.context, instance.uuid) self.assertEqual(block_device_info, expected_block_device_info) {'swap': None, 'ephemerals': [], 'block_device_mapping': []}, mock.call(c, instance, {'swap': None, 'ephemerals': [], 'block_device_mapping': []}, None)]) instance, [], {'swap': None, 'ephemerals': [], 'block_device_mapping': []})"," {'block_device_mapping': []}, mock.call(c, instance, {'block_device_mapping': []}, None)]) instance, [], {'block_device_mapping': []})",72,4
openstack%2Ffuel-library~master~If6f256cfeeba5bee486dd45c34cbc56c9e721730,openstack/fuel-library,master,If6f256cfeeba5bee486dd45c34cbc56c9e721730,Add missed 30-remote-log.conf for docker container,MERGED,2014-06-16 15:02:53.000000000,2014-06-16 21:35:40.000000000,2014-06-16 21:35:40.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7195}, {'_account_id': 8787}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 11081}]","[{'number': 1, 'created': '2014-06-16 15:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/ff9b943478d28a22d9798ecad1fc201333d680a6', 'message': 'Add missed 30-remote-log.conf for docker container\n\nCloses-bug: #1328877\n\nChange-Id: If6f256cfeeba5bee486dd45c34cbc56c9e721730\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n'}, {'number': 2, 'created': '2014-06-16 15:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/213c4bd40870dcababbfc4f4ff97a85516b17953', 'message': 'Add missed 30-remote-log.conf for docker container\n\nFix existing dependency issue (rsyslog::server wipes templates dir)\n\nCloses-bug: #1328877\n\nChange-Id: If6f256cfeeba5bee486dd45c34cbc56c9e721730\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n'}, {'number': 3, 'created': '2014-06-16 16:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/09c16f8c915e081401d27a6c8a08444a1ad3c890', 'message': 'Add missed 30-remote-log.conf for docker container\n\nFix existing dependency issue (rsyslog::server wipes templates dir)\nFix 30-remote-log.conf template should not touch udp listen for docker\nFix default access and notification for rsyslog.d file resources\n\nCloses-bug: #1328877\n\nChange-Id: If6f256cfeeba5bee486dd45c34cbc56c9e721730\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n'}, {'number': 4, 'created': '2014-06-16 16:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/29f07028a49d1845dc98ed8ff8e30475a241d8e9', 'message': 'Add missed 30-remote-log.conf for docker container\n\nFix existing dependency issue (rsyslog::server wipes templates dir)\nFix default access and notification for rsyslog.d file resources\nPurge confusing nailgun templates for syslog (not used anymore)\n\nCloses-bug: #1328877\n\nChange-Id: If6f256cfeeba5bee486dd45c34cbc56c9e721730\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n'}, {'number': 5, 'created': '2014-06-16 16:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/939a22d91509408a940a0e1311288478f08189f0', 'message': 'Fix 30-remote-log.conf for docker container\n\nFix existing dependency issue (rsyslog::server wipes templates dir)\nFix default access and notification for rsyslog.d file resources\nPurge confusing nailgun templates for syslog (not used anymore)\n\nCloses-bug: #1328877\n\nChange-Id: If6f256cfeeba5bee486dd45c34cbc56c9e721730\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n'}, {'number': 6, 'created': '2014-06-16 17:25:00.000000000', 'files': ['deployment/puppet/nailgun/examples/rsyslog-only.pp', 'deployment/puppet/nailgun/templates/rsyslog/rsyslog.erb', 'deployment/puppet/nailgun/templates/rsyslog/50-puppet-log.conf.erb', 'deployment/puppet/nailgun/manifests/rsyslog.pp', 'deployment/puppet/openstack/manifests/logging.pp', 'deployment/puppet/nailgun/templates/rsyslog/30-remote-log.conf.erb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/46c06ec3bd8350e67cbbbc8dea9d2aee7d74a75a', 'message': 'Add missed 30-remote-log.conf for docker container\n\nAdd missed 30-remote.conf template for rsyslog docker container\nFix existing dependency issue (rsyslog::server wipes templates dir)\nFix default access and notification for rsyslog.d file resources\nPurge confusing nailgun templates for syslog (not used anymore)\n\nCloses-bug: #1328877\n\nChange-Id: If6f256cfeeba5bee486dd45c34cbc56c9e721730\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n'}]",1,100273,46c06ec3bd8350e67cbbbc8dea9d2aee7d74a75a,50,7,6,6926,,,0,"Add missed 30-remote-log.conf for docker container

Add missed 30-remote.conf template for rsyslog docker container
Fix existing dependency issue (rsyslog::server wipes templates dir)
Fix default access and notification for rsyslog.d file resources
Purge confusing nailgun templates for syslog (not used anymore)

Closes-bug: #1328877

Change-Id: If6f256cfeeba5bee486dd45c34cbc56c9e721730
Signed-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/73/100273/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/nailgun/examples/rsyslog-only.pp'],1,ff9b943478d28a22d9798ecad1fc201333d680a6,fix1328877,"# Fuel specific config for logging parse formats used for /var/log/remote $logconf = ""${::rsyslog::params::rsyslog_d}30-remote-log.conf"" file { $logconf : content => template(""${module_name}/30-server-remote-log.conf.erb""), require => Class['::rsyslog::server'], } ",,7,0
openstack%2Fpython-openstackclient~master~Ide2233b3316471d279260fb1e7255a6ca2072023,openstack/python-openstackclient,master,Ide2233b3316471d279260fb1e7255a6ca2072023,Clean up logging levels,MERGED,2014-05-08 22:54:16.000000000,2014-06-16 21:32:32.000000000,2014-06-16 21:32:31.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 1849}, {'_account_id': 6482}, {'_account_id': 8736}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-05-08 22:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ee92afa971536d23db55f0fe97730585e6f94b0e', 'message': 'Clean up logging levels\n\nThe following logging levels are set according to the combination of\n--verbose, --quiet and --debug options:\n\nverbose_level   logging level       options\n0               --quiet             ERROR\n1               (none)              WARNING\n2               --verbose           INFO\n3+              --verbose --verbose DEBUG\n                or --debug\n\nLogging levels for the requests and iso8601 modules are forced to ERROR.\n\nThis is the first step in bp use-logging-not-print\n\nChange-Id: Ide2233b3316471d279260fb1e7255a6ca2072023\n'}, {'number': 2, 'created': '2014-06-09 16:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/70bcf6290be78058ddf2bc4a6c7cf509d2bd0079', 'message': ""Clean up logging levels\n\nThe following logging levels are set according to the combination of\n--verbose, --quiet and --debug options:\n\nverbose_level   logging level       options\n0               --quiet             ERROR\n1               (none)              WARNING\n2               --verbose           INFO\n3+              --verbose --verbose DEBUG\n                or --debug\n\nLogging levels for the requests and iso8601 modules are forced to ERROR.\n\nThis is the first step in bp use-logging-not-print\n\nThe difference between '--debug' and '--verbose --verbose' is --debug triggers\ncliff's exception handling and traceback display.\n\nChange-Id: Ide2233b3316471d279260fb1e7255a6ca2072023\n""}, {'number': 3, 'created': '2014-06-13 22:16:14.000000000', 'files': ['openstackclient/shell.py', 'openstackclient/common/commandmanager.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/67354f651b064c7c67ad749bf75196d59b851d18', 'message': ""Clean up logging levels\n\nThe following logging levels are set according to the combination of\n--verbose, --quiet and --debug options:\n\nverbose_level   logging level       options\n0               --quiet             ERROR\n1               (none)              WARNING\n2               --verbose           INFO\n3+              --verbose --verbose DEBUG\n                or --debug\n\nLogging levels for the requests and iso8601 modules are forced to ERROR.\n\nThis is the first step in bp use-logging-not-print\n\nThe difference between '--debug' and '--verbose --verbose' is --debug triggers\ncliff's exception handling and traceback display.\n\nChange-Id: Ide2233b3316471d279260fb1e7255a6ca2072023\n""}]",0,92932,67354f651b064c7c67ad749bf75196d59b851d18,30,6,3,970,,,0,"Clean up logging levels

The following logging levels are set according to the combination of
--verbose, --quiet and --debug options:

verbose_level   logging level       options
0               --quiet             ERROR
1               (none)              WARNING
2               --verbose           INFO
3+              --verbose --verbose DEBUG
                or --debug

Logging levels for the requests and iso8601 modules are forced to ERROR.

This is the first step in bp use-logging-not-print

The difference between '--debug' and '--verbose --verbose' is --debug triggers
cliff's exception handling and traceback display.

Change-Id: Ide2233b3316471d279260fb1e7255a6ca2072023
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/32/92932/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/shell.py', 'openstackclient/common/commandmanager.py']",2,ee92afa971536d23db55f0fe97730585e6f94b0e,bp/use-logging-not-print,, LOG.debug('found command %r' % ep.name),36,10
openstack%2Fneutron~master~I1fb5eb0aaac0d115fd84630e58b333e695ad4f5f,openstack/neutron,master,I1fb5eb0aaac0d115fd84630e58b333e695ad4f5f,Introduce RpcCallback class,MERGED,2014-05-30 15:10:39.000000000,2014-06-16 21:32:23.000000000,2014-06-16 21:32:22.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 1935}, {'_account_id': 2031}, {'_account_id': 5170}, {'_account_id': 6072}, {'_account_id': 6447}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 8788}, {'_account_id': 9008}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9828}, {'_account_id': 9845}, {'_account_id': 9885}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10503}]","[{'number': 1, 'created': '2014-05-30 15:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/93c261b798df94122a43d458649ec5c10831cd8f', 'message': 'Introduce RpcCallback class (WIP)\n\nThis class will be used to create proper self.target with appropriate\nAPI version once we migrate to oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I1fb5eb0aaac0d115fd84630e58b333e695ad4f5f\n'}, {'number': 2, 'created': '2014-05-30 21:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc31bd8ec75c5c75d4efec6c02a8dea0d2edf399', 'message': 'Introduce RpcCallback class (WIP)\n\nThis class will be used to create proper self.target with appropriate\nAPI version once we migrate to oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I1fb5eb0aaac0d115fd84630e58b333e695ad4f5f\n'}, {'number': 3, 'created': '2014-05-30 22:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ec9522f90916b67254955b8ab013f13ab32e802', 'message': 'Introduce RpcCallback class (WIP)\n\nThis class will be used to create proper self.target with appropriate\nAPI version once we migrate to oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I1fb5eb0aaac0d115fd84630e58b333e695ad4f5f\n'}, {'number': 4, 'created': '2014-05-30 23:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/201d819fdbd1fe15408eca690fedadea07cf2d50', 'message': 'Introduce RpcCallback class (WIP)\n\nThis class will be used to create proper self.target with appropriate\nAPI version once we migrate to oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I1fb5eb0aaac0d115fd84630e58b333e695ad4f5f\n'}, {'number': 5, 'created': '2014-05-31 06:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da26ad832d0b4e0ebb494a3cc6164b2530521cc7', 'message': 'Introduce RpcCallback class (WIP)\n\nThis class will be used to create proper self.target with appropriate\nAPI version once we migrate to oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I1fb5eb0aaac0d115fd84630e58b333e695ad4f5f\n'}, {'number': 6, 'created': '2014-05-31 08:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f145b9954511d1a68257df1a91f2ad68439c0aa', 'message': 'Introduce RpcCallback class (WIP)\n\nThis class will be used to create proper self.target with appropriate\nAPI version once we migrate to oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I1fb5eb0aaac0d115fd84630e58b333e695ad4f5f\n'}, {'number': 7, 'created': '2014-06-02 16:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab922832220acf9f456837a215a4380cc0c077f8', 'message': 'Introduce RpcCallback class (WIP)\n\nThis class will be used to create proper self.target with appropriate\nAPI version once we migrate to oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I1fb5eb0aaac0d115fd84630e58b333e695ad4f5f\n'}, {'number': 8, 'created': '2014-06-02 21:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5ca60cc9b8fcd55638aeaf5e546218281896c772', 'message': 'Introduce RpcCallback class (WIP)\n\nThis class will be used to create proper self.target with appropriate\nAPI version once we migrate to oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I1fb5eb0aaac0d115fd84630e58b333e695ad4f5f\n'}, {'number': 9, 'created': '2014-06-03 14:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0979026cc8757944a4bb2eab3a899efcece2f440', 'message': 'Introduce RpcCallback class\n\nThis class will be used to create proper self.target with appropriate\nAPI version once we migrate to oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I1fb5eb0aaac0d115fd84630e58b333e695ad4f5f\n'}, {'number': 10, 'created': '2014-06-03 14:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/af2005317a1b1d9facb9b15bbc7a9fd2931fd3f1', 'message': 'Introduce RpcCallback class\n\nThis class will be used to create proper self.target with appropriate\nAPI version once we migrate to oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I1fb5eb0aaac0d115fd84630e58b333e695ad4f5f\n'}, {'number': 11, 'created': '2014-06-03 20:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f390191fbfd77ce0808fb2fe5d311ebb604077a3', 'message': 'Introduce RpcCallback class\n\nThis class will be used to create proper self.target with appropriate\nAPI version once we migrate to oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I1fb5eb0aaac0d115fd84630e58b333e695ad4f5f\n'}, {'number': 12, 'created': '2014-06-04 19:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a347b925a2ce990d69ec1d9c48e7e36015c69db0', 'message': 'Introduce RpcCallback class\n\nThis class will be used to create proper self.target with appropriate\nAPI version once we migrate to oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I1fb5eb0aaac0d115fd84630e58b333e695ad4f5f\n'}, {'number': 13, 'created': '2014-06-07 08:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c0c93433458a46b52036d01f1a8dea175937263e', 'message': 'Introduce RpcCallback class\n\nThis class will be used to create proper self.target with appropriate\nAPI version once we migrate to oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I1fb5eb0aaac0d115fd84630e58b333e695ad4f5f\n'}, {'number': 14, 'created': '2014-06-09 10:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52443074b7efd0828f433da060e37b82e36a195f', 'message': 'Introduce RpcCallback class\n\nThis class will be used to create proper self.target with appropriate\nAPI version once we migrate to oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I1fb5eb0aaac0d115fd84630e58b333e695ad4f5f\n'}, {'number': 15, 'created': '2014-06-09 14:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cf4bc2444dd6327c9c3bbfab5f3949e0e0b1cd6f', 'message': 'Introduce RpcCallback class\n\nThis class will be used to create proper self.target with appropriate\nAPI version once we migrate to oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I1fb5eb0aaac0d115fd84630e58b333e695ad4f5f\n'}, {'number': 16, 'created': '2014-06-12 15:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9d70357fdf6aec5f6f1460221b4b17f9b0d52c13', 'message': 'Introduce RpcCallback class\n\nThis class will be used to create proper self.target with appropriate\nAPI version once we migrate to oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I1fb5eb0aaac0d115fd84630e58b333e695ad4f5f\n'}, {'number': 17, 'created': '2014-06-14 18:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ee6740833c04d49b436291e9eb6d38408a38ada', 'message': 'Introduce RpcCallback class\n\nThis class will be used to create proper self.target with appropriate\nAPI version once we migrate to oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I1fb5eb0aaac0d115fd84630e58b333e695ad4f5f\n'}, {'number': 18, 'created': '2014-06-16 11:25:28.000000000', 'files': ['neutron/plugins/linuxbridge/lb_neutron_plugin.py', 'neutron/plugins/oneconvergence/plugin.py', 'neutron/plugins/mlnx/agent/eswitch_neutron_agent.py', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/openvswitch/ovs_neutron_plugin.py', 'neutron/plugins/vmware/dhcp_meta/rpc.py', 'neutron/plugins/ibm/agent/sdnve_neutron_agent.py', 'neutron/services/vpn/device_drivers/cisco_ipsec.py', 'neutron/plugins/ofagent/agent/ofa_neutron_agent.py', 'neutron/services/vpn/device_drivers/ipsec.py', 'neutron/services/firewall/fwaas_plugin.py', 'neutron/services/loadbalancer/drivers/common/agent_driver_base.py', 'neutron/services/loadbalancer/agent/agent_manager.py', 'neutron/plugins/cisco/n1kv/n1kv_neutron_plugin.py', 'neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/manager.py', 'neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py', 'neutron/plugins/hyperv/agent/hyperv_neutron_agent.py', 'neutron/plugins/ml2/rpc.py', 'neutron/plugins/brocade/NeutronPlugin.py', 'neutron/plugins/nec/nec_plugin.py', 'neutron/db/agents_db.py', 'neutron/plugins/midonet/plugin.py', 'neutron/plugins/nec/agent/nec_neutron_agent.py', 'neutron/plugins/ryu/agent/ryu_neutron_agent.py', 'neutron/plugins/bigswitch/plugin.py', 'neutron/plugins/hyperv/rpc_callbacks.py', 'neutron/plugins/bigswitch/agent/restproxy_agent.py', 'neutron/services/l3_router/l3_router_plugin.py', 'neutron/plugins/mlnx/rpc_callbacks.py', 'neutron/plugins/ryu/ryu_neutron_plugin.py', 'neutron/services/vpn/service_drivers/cisco_ipsec.py', 'neutron/services/vpn/service_drivers/ipsec.py', 'neutron/common/rpc_compat.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/caf60442247ef0a13595db2691733f3b7589d24f', 'message': 'Introduce RpcCallback class\n\nThis class will be used to create proper self.target with appropriate\nAPI version once we migrate to oslo.messaging.\n\nblueprint oslo-messaging\n\nChange-Id: I1fb5eb0aaac0d115fd84630e58b333e695ad4f5f\n'}]",25,96792,caf60442247ef0a13595db2691733f3b7589d24f,314,30,18,9656,,,0,"Introduce RpcCallback class

This class will be used to create proper self.target with appropriate
API version once we migrate to oslo.messaging.

blueprint oslo-messaging

Change-Id: I1fb5eb0aaac0d115fd84630e58b333e695ad4f5f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/96792/13 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/linuxbridge/lb_neutron_plugin.py', 'neutron/plugins/oneconvergence/plugin.py', 'neutron/agent/l3_agent.py', 'neutron/plugins/mlnx/agent/eswitch_neutron_agent.py', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/openvswitch/ovs_neutron_plugin.py', 'neutron/plugins/vmware/dhcp_meta/rpc.py', 'neutron/plugins/ibm/agent/sdnve_neutron_agent.py', 'neutron/services/vpn/device_drivers/cisco_ipsec.py', 'neutron/plugins/ofagent/agent/ofa_neutron_agent.py', 'neutron/services/vpn/device_drivers/ipsec.py', 'neutron/services/firewall/fwaas_plugin.py', 'neutron/services/loadbalancer/drivers/common/agent_driver_base.py', 'neutron/services/loadbalancer/agent/agent_manager.py', 'neutron/plugins/cisco/n1kv/n1kv_neutron_plugin.py', 'neutron/common/rpc.py', 'neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/manager.py', 'neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py', 'neutron/plugins/hyperv/agent/hyperv_neutron_agent.py', 'neutron/plugins/ml2/rpc.py', 'neutron/plugins/brocade/NeutronPlugin.py', 'neutron/plugins/nec/nec_plugin.py', 'neutron/db/agents_db.py', 'neutron/plugins/midonet/plugin.py', 'neutron/plugins/nec/agent/nec_neutron_agent.py', 'neutron/plugins/ryu/agent/ryu_neutron_agent.py', 'neutron/plugins/bigswitch/plugin.py', 'neutron/plugins/hyperv/rpc_callbacks.py', 'neutron/plugins/bigswitch/agent/restproxy_agent.py', 'neutron/services/l3_router/l3_router_plugin.py', 'neutron/plugins/mlnx/rpc_callbacks.py', 'neutron/plugins/ryu/ryu_neutron_plugin.py', 'neutron/services/vpn/service_drivers/cisco_ipsec.py', 'neutron/services/vpn/service_drivers/ipsec.py']",35,93c261b798df94122a43d458649ec5c10831cd8f,bp/oslo-messaging,"class IPsecVpnDriverCallBack(n_rpc.RpcCallback): super(IPsecVpnDriverCallBack, self).__init__()class IPsecVpnAgentApi(service_drivers.BaseIPsecVpnAgentApi, n_rpc.RpcCallback):",class IPsecVpnDriverCallBack(object):class IPsecVpnAgentApi(service_drivers.BaseIPsecVpnAgentApi):,108,43
openstack%2Fopenstack-manuals~stable%2Ficehouse~Iaa90a7229776d4dd6abced99a83d4d500c267b46,openstack/openstack-manuals,stable/icehouse,Iaa90a7229776d4dd6abced99a83d4d500c267b46,Remove typo - duplicate 'you',MERGED,2014-06-16 18:57:09.000000000,2014-06-16 21:00:34.000000000,2014-06-16 21:00:34.000000000,"[{'_account_id': 3}, {'_account_id': 2448}, {'_account_id': 11894}]","[{'number': 1, 'created': '2014-06-16 18:57:09.000000000', 'files': ['doc/install-guide/section_neutron-initial-networks.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c6d2d551176ea00e4d457499bfb61aebffdf563f', 'message': ""Remove typo - duplicate 'you'\n\nChange-Id: Iaa90a7229776d4dd6abced99a83d4d500c267b46\nCloses-Bug: #1330206\n(cherry picked from commit 1cbee6e1bf5152fdcf37d1a3389960d9861082dc)\n""}]",0,100320,c6d2d551176ea00e4d457499bfb61aebffdf563f,7,3,1,7923,,,0,"Remove typo - duplicate 'you'

Change-Id: Iaa90a7229776d4dd6abced99a83d4d500c267b46
Closes-Bug: #1330206
(cherry picked from commit 1cbee6e1bf5152fdcf37d1a3389960d9861082dc)
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/20/100320/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/section_neutron-initial-networks.xml'],1,c6d2d551176ea00e4d457499bfb61aebffdf563f,icehouse/backport/100238, should be able to <command>ping</command> this IP address from any, you should be able to <command>ping</command> this IP address from any,1,1
openstack%2Fdevstack~master~Ibfcb0959159f3b84fe35a1198d481bff308da0d4,openstack/devstack,master,Ibfcb0959159f3b84fe35a1198d481bff308da0d4,make mysql run in strict mode,MERGED,2014-06-03 09:58:36.000000000,2014-06-16 20:57:54.000000000,2014-06-16 20:57:53.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 2750}, {'_account_id': 6849}, {'_account_id': 6928}, {'_account_id': 7350}, {'_account_id': 7491}, {'_account_id': 8415}, {'_account_id': 8871}, {'_account_id': 9009}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-03 09:58:36.000000000', 'files': ['lib/databases/mysql'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e56c137edb504cb86c4bb2cc5749603829438378', 'message': 'make mysql run in strict mode\n\nthis might obviate the need for postgresql in the gate, as it will\nmake mysql act more strict. Suggested by Monty during Atlanta\nsummit on test matrix.\n\nChange-Id: Ibfcb0959159f3b84fe35a1198d481bff308da0d4\n'}]",8,97442,e56c137edb504cb86c4bb2cc5749603829438378,37,11,1,2750,,,0,"make mysql run in strict mode

this might obviate the need for postgresql in the gate, as it will
make mysql act more strict. Suggested by Monty during Atlanta
summit on test matrix.

Change-Id: Ibfcb0959159f3b84fe35a1198d481bff308da0d4
",git fetch https://review.opendev.org/openstack/devstack refs/changes/42/97442/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/databases/mysql'],1,e56c137edb504cb86c4bb2cc5749603829438378,strict_tables, iniset $MY_CONF mysqld sql_mode STRICT_ALL_TABLES && \,,1,0
openstack%2Fkeystone~master~Ia82822b4997473466bd43a3a956e0f85c09e8aa2,openstack/keystone,master,Ia82822b4997473466bd43a3a956e0f85c09e8aa2,Allow for multiple PKI Style Providers,MERGED,2014-06-09 17:51:13.000000000,2014-06-16 20:56:47.000000000,2014-06-16 20:56:46.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 1916}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 6482}, {'_account_id': 8871}, {'_account_id': 9751}]","[{'number': 1, 'created': '2014-06-09 17:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/66823ebcb714a41c09495e120c1c8b7465f43cf9', 'message': 'Allow for multiple PKI Style Providers\n\nPKIZ will break the existing check in SimpleCert:\n\nA PKIZ provider would mean that no certs could be issued\nwith a wider array of PKI style Providers possible in the future\nthis check is going to break all of them, or require them all\nto force changes to this code.\nCloses-Bug: 1328201\n\nChange-Id: Ia82822b4997473466bd43a3a956e0f85c09e8aa2\n'}, {'number': 2, 'created': '2014-06-10 16:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2401888639e9ed142b760187871344753487c1d8', 'message': 'Allow for multiple PKI Style Providers\n\nPKIZ will break the existing check in SimpleCert:\n\nA PKIZ provider would mean that no certs could be issued\nwith a wider array of PKI style Providers possible in the future\nthis check is going to break all of them, or require them all\nto force changes to this code.\nCloses-Bug: 1328201\n\nChange-Id: Ia82822b4997473466bd43a3a956e0f85c09e8aa2\n'}, {'number': 3, 'created': '2014-06-16 03:07:13.000000000', 'files': ['keystone/contrib/simple_cert/controllers.py', 'keystone/tests/test_contrib_simple_cert.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/345bfacaebb0e10753fba7b294408e83db82d3ee', 'message': 'Allow for multiple PKI Style Providers\n\nPKIZ will break the existing check in SimpleCert:\n\nA PKIZ provider would mean that no certs could be issued\nwith a wider array of PKI style Providers possible in the future\nthis check is going to break all of them, or require them all\nto force changes to this code.\nCloses-Bug: 1328201\n\nChange-Id: Ia82822b4997473466bd43a3a956e0f85c09e8aa2\n'}]",2,98845,345bfacaebb0e10753fba7b294408e83db82d3ee,24,8,3,2218,,,0,"Allow for multiple PKI Style Providers

PKIZ will break the existing check in SimpleCert:

A PKIZ provider would mean that no certs could be issued
with a wider array of PKI style Providers possible in the future
this check is going to break all of them, or require them all
to force changes to this code.
Closes-Bug: 1328201

Change-Id: Ia82822b4997473466bd43a3a956e0f85c09e8aa2
",git fetch https://review.opendev.org/openstack/keystone refs/changes/45/98845/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/contrib/simple_cert/controllers.py', 'keystone/tests/test_contrib_simple_cert.py']",2,66823ebcb714a41c09495e120c1c8b7465f43cf9,pkiz_default,," class UUIDSimpleCertTests(BaseTestCase): def config_overrides(self): super(UUIDSimpleCertTests, self).config_overrides() self.config_fixture.config( group='token', provider='keystone.token.providers.uuid.Provider') def test_using_uuid_controller(self): for path in [self.CA_PATH, self.CERT_PATH]: self.request(app=self.public_app, method='GET', path=path, expected_status=403)",0,21
openstack%2Fironic-python-agent~master~I1cc20e5351a704325f0cf41dab205c9164799f6a,openstack/ironic-python-agent,master,I1cc20e5351a704325f0cf41dab205c9164799f6a,Fix HardwareManager loading order bug,MERGED,2014-06-09 02:37:09.000000000,2014-06-16 20:44:10.000000000,2014-06-16 20:44:10.000000000,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 8003}, {'_account_id': 8125}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 10343}, {'_account_id': 10380}, {'_account_id': 10626}]","[{'number': 1, 'created': '2014-06-09 02:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d785d3edc8d8105bd9c114f750c565c66c6239cc', 'message': 'Fix HardwareManager loading order bug\n\nThe agent attempts to sort the HardwareManager implementations found\nby stevedore in order of suitability. This patch fixes a bug in the\nsorting order that caused the GenericHardwareManager to always be\nloaded.\n\nFixes bug 1327923\n\nChange-Id: I1cc20e5351a704325f0cf41dab205c9164799f6a\n'}, {'number': 2, 'created': '2014-06-09 21:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/dd189f95c0e1394f242af43eb4acae14ed643b9f', 'message': 'Fix HardwareManager loading order bug\n\nThe agent attempts to sort the HardwareManager implementations found\nby stevedore in order of suitability. This patch fixes a bug in the\nsorting order that caused the GenericHardwareManager to always be\nloaded.\n\nFixes bug 1327923\n\nChange-Id: I1cc20e5351a704325f0cf41dab205c9164799f6a\n'}, {'number': 3, 'created': '2014-06-10 15:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/331ca81946dd6d1c16e7dd5d8870a472d5892a5d', 'message': 'Fix HardwareManager loading order bug\n\nThe agent attempts to sort the HardwareManager implementations found\nby stevedore in order of suitability. This patch fixes a bug in the\nsorting order that caused the GenericHardwareManager to always be\nloaded.\n\nFixes bug 1327923\n\nChange-Id: I1cc20e5351a704325f0cf41dab205c9164799f6a\n'}, {'number': 4, 'created': '2014-06-11 17:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ad8b9c972085cae4173ea09690a5c5f8124e2fd1', 'message': 'Fix HardwareManager loading order bug\n\nThe agent attempts to sort the HardwareManager implementations found\nby stevedore in order of suitability. This patch fixes a bug in the\nsorting order that caused the GenericHardwareManager to always be\nloaded.\n\nFixes bug 1327923\n\nChange-Id: I1cc20e5351a704325f0cf41dab205c9164799f6a\n'}, {'number': 5, 'created': '2014-06-11 17:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/33e8c0dab2dea307a8314c8c366b0c91f9c7c671', 'message': 'Fix HardwareManager loading order bug\n\nThe agent attempts to sort the HardwareManager implementations found\nby stevedore in order of suitability. This patch fixes a bug in the\nsorting order that caused the GenericHardwareManager to always be\nloaded.\n\nFixes bug 1327923\n\nChange-Id: I1cc20e5351a704325f0cf41dab205c9164799f6a\n'}, {'number': 6, 'created': '2014-06-16 18:14:40.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5d5d443d167f38322e543689c51d60a41f1c254b', 'message': 'Fix HardwareManager loading order bug\n\nThe agent attempts to sort the HardwareManager implementations found\nby stevedore in order of suitability. This patch fixes a bug in the\nsorting order that caused the GenericHardwareManager to always be\nloaded.\n\nFixes bug 1327923\n\nChange-Id: I1cc20e5351a704325f0cf41dab205c9164799f6a\n'}]",10,98678,5d5d443d167f38322e543689c51d60a41f1c254b,41,9,6,10626,,,0,"Fix HardwareManager loading order bug

The agent attempts to sort the HardwareManager implementations found
by stevedore in order of suitability. This patch fixes a bug in the
sorting order that caused the GenericHardwareManager to always be
loaded.

Fixes bug 1327923

Change-Id: I1cc20e5351a704325f0cf41dab205c9164799f6a
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/78/98678/5 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/hardware.py'],1,d785d3edc8d8105bd9c114f750c565c66c6239cc,bug/1327923, return mgr2.evaluate_hardware_support() - mgr1.evaluate_hardware_support(), return mgr1.evaluate_hardware_support() - mgr2.evaluate_hardware_support(),1,1
openstack%2Fbarbican~master~I15670d815ea5e369b06e9a940aba299a6e54bf19,openstack/barbican,master,I15670d815ea5e369b06e9a940aba299a6e54bf19,data migration for add certificate to container type,ABANDONED,2014-06-10 22:12:32.000000000,2014-06-16 20:26:11.000000000,,"[{'_account_id': 3}, {'_account_id': 994}, {'_account_id': 7789}]","[{'number': 1, 'created': '2014-06-10 22:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/1dbe75b2aac733295aa60b5ad899796e4370f397', 'message': 'data migrationf or add cert to container type\n\nChange-Id: I15670d815ea5e369b06e9a940aba299a6e54bf19\n'}, {'number': 2, 'created': '2014-06-10 22:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/940f4b5e3ba334a8bb3b4cc6bace61ac2bf91cea', 'message': 'data migrationf or add cert to container type\n\nChange-Id: I15670d815ea5e369b06e9a940aba299a6e54bf19\n'}, {'number': 3, 'created': '2014-06-10 22:33:36.000000000', 'files': ['barbican/model/models.py', 'barbican/model/migration/alembic_migrations/versions/cd4106a1a0_add_cert_to_container_type.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/5a7612e7e285d06c95336fd527151016c7a04ece', 'message': 'data migration for add certificate to container type\n\nChange-Id: I15670d815ea5e369b06e9a940aba299a6e54bf19\n'}]",3,99222,5a7612e7e285d06c95336fd527151016c7a04ece,13,3,3,994,,,0,"data migration for add certificate to container type

Change-Id: I15670d815ea5e369b06e9a940aba299a6e54bf19
",git fetch https://review.opendev.org/openstack/barbican refs/changes/22/99222/2 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/model/models.py', 'barbican/model/migration/alembic_migrations/versions/cd4106a1a0_add_cert_to_container_type.py']",2,1dbe75b2aac733295aa60b5ad899796e4370f397,data-migration-for-add-cert-to-container-type,"""""""add-cert-to-container-type Revision ID: cd4106a1a0 Revises: 1e86c18af2dd Create Date: 2014-06-10 15:07:25.084173 """""" # revision identifiers, used by Alembic. revision = 'cd4106a1a0' down_revision = '1e86c18af2dd' from alembic import op import sqlalchemy as sa def upgrade(): ### commands auto generated by Alembic - please adjust! ### op.execute( 'ALTER TABLE containers CHANGE type type ENUM(\'generic\',\'rsa\',\'certificate\') DEFAULT NULL'); ### end Alembic commands ### def downgrade(): ### commands auto generated by Alembic - please adjust! ### op.execute( 'ALTER TABLE containers CHANGE type type ENUM(\'generic\',\'rsa\') DEFAULT NULL'); ### end Alembic commands ### ",,28,1
openstack%2Fkeystone-specs~master~I9057014227ebc093d15dfe6ee1f43c60693b6230,openstack/keystone-specs,master,I9057014227ebc093d15dfe6ee1f43c60693b6230,Propose api-validation blueprint,MERGED,2014-05-27 22:36:23.000000000,2014-06-16 20:24:42.000000000,2014-06-16 20:24:42.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 220}, {'_account_id': 1091}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 6460}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 7725}, {'_account_id': 8978}, {'_account_id': 11045}, {'_account_id': 11589}]","[{'number': 1, 'created': '2014-05-27 22:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/50fb90e384affecb29e8fd4c41ad8bd172aa0637', 'message': 'Purpose keystone-api-validation blueprint\n\nThis blueprint describes the work required for adding a jsonschema\nvalidation layer to the Keystone API.\n\nChange-Id: I9057014227ebc093d15dfe6ee1f43c60693b6230\n'}, {'number': 2, 'created': '2014-05-27 22:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/f83d91569f0744fa87b3569e24f0a4f6e2ce26c6', 'message': 'Purpose keystone-api-validation blueprint\n\nThis document describes the work required for adding a jsonschema\nvalidation layer to the Keystone API.\n\nChange-Id: I9057014227ebc093d15dfe6ee1f43c60693b6230\n'}, {'number': 3, 'created': '2014-05-28 02:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/6d15daafe471fc5bcabd91edd6997024b6279c0d', 'message': 'Purpose keystone-api-validation blueprint\n\nThis document describes the work required for adding a jsonschema\nvalidation layer to the Keystone API.\n\nChange-Id: I9057014227ebc093d15dfe6ee1f43c60693b6230\n'}, {'number': 4, 'created': '2014-05-28 13:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/39caad8c3c812d60f7f421ab9753e3fd8db5175a', 'message': 'Purpose keystone-api-validation blueprint\n\nThis document describes the work required for adding a jsonschema\nvalidation layer to the Keystone API.\n\nChange-Id: I9057014227ebc093d15dfe6ee1f43c60693b6230\n'}, {'number': 5, 'created': '2014-05-28 13:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/bfc43cab25ce126dffe13a2dd8e1277a6c587973', 'message': 'Purpose keystone-api-validation blueprint\n\nThis document describes the work required for adding a jsonschema\nvalidation layer to the Keystone API.\n\nChange-Id: I9057014227ebc093d15dfe6ee1f43c60693b6230\n'}, {'number': 6, 'created': '2014-05-28 14:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/75efb7d0688ca082437a6f9d94f781d7aba31cb1', 'message': 'Purpose keystone-api-validation blueprint\n\nThis document describes the work required for adding a jsonschema\nvalidation layer to the Keystone API.\n\nChange-Id: I9057014227ebc093d15dfe6ee1f43c60693b6230\n'}, {'number': 7, 'created': '2014-05-28 16:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/ee3ae57f4deeb344ad8abaae66f4a23c1b5870ba', 'message': 'Purpose keystone-api-validation blueprint\n\nThis document describes the work required for adding a jsonschema\nvalidation layer to the Keystone API.\n\nChange-Id: I9057014227ebc093d15dfe6ee1f43c60693b6230\n'}, {'number': 8, 'created': '2014-06-02 19:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/f388e4310ded5ea3067598487794d24467472d27', 'message': 'Purpose keystone-api-validation blueprint\n\nThis document describes the work required for adding a jsonschema\nvalidation layer to the Keystone API.\n\nChange-Id: I9057014227ebc093d15dfe6ee1f43c60693b6230\n'}, {'number': 9, 'created': '2014-06-03 13:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/eb6c39147c1c54f13b6e4396afca98c8695e771d', 'message': 'Purpose api-validation blueprint\n\nThis document describes the work required for adding a jsonschema\nvalidation layer to the Keystone API.\n\nbp api-validation\nChange-Id: I9057014227ebc093d15dfe6ee1f43c60693b6230\n'}, {'number': 10, 'created': '2014-06-05 18:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/658a1d0a9afacfd5a795263cd7b3bbc659062d05', 'message': 'Propose api-validation blueprint\n\nThis document describes the work required for adding a jsonschema\nvalidation layer to the Keystone API.\n\nbp api-validation\nChange-Id: I9057014227ebc093d15dfe6ee1f43c60693b6230\n'}, {'number': 11, 'created': '2014-06-06 21:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/b0a05ff33c6821d4e18358de13bf478eacf14f1e', 'message': 'Propose api-validation blueprint\n\nThis document describes the work required for adding a jsonschema\nvalidation layer to the Keystone API.\n\nbp api-validation\nChange-Id: I9057014227ebc093d15dfe6ee1f43c60693b6230\n'}, {'number': 12, 'created': '2014-06-07 18:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/d1abbf94f76bd460950d7fe975aa037fc2fcd67b', 'message': 'Propose api-validation blueprint\n\nThis document describes the work required for adding a jsonschema\nvalidation layer to the Keystone API.\n\nbp api-validation\nChange-Id: I9057014227ebc093d15dfe6ee1f43c60693b6230\n'}, {'number': 13, 'created': '2014-06-08 05:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/8c87807145dde9ed8f988f73ea974f49740b5513', 'message': 'Propose api-validation blueprint\n\nThis document describes the work required for adding a jsonschema\nvalidation layer to the Keystone API.\n\nbp api-validation\nChange-Id: I9057014227ebc093d15dfe6ee1f43c60693b6230\n'}, {'number': 14, 'created': '2014-06-13 14:20:08.000000000', 'files': ['specs/juno/keystone-api-validation.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/d4b56e36dc639cdc74b8046aa24498d55124eec9', 'message': 'Propose api-validation blueprint\n\nThis document describes the work required for adding a jsonschema\nvalidation layer to the Keystone API.\n\nbp api-validation\nChange-Id: I9057014227ebc093d15dfe6ee1f43c60693b6230\n'}]",174,95957,d4b56e36dc639cdc74b8046aa24498d55124eec9,85,15,14,5046,,,0,"Propose api-validation blueprint

This document describes the work required for adding a jsonschema
validation layer to the Keystone API.

bp api-validation
Change-Id: I9057014227ebc093d15dfe6ee1f43c60693b6230
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/57/95957/14 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/keystone-api-validation.rst'],1,50fb90e384affecb29e8fd4c41ad8bd172aa0637,bp/This,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Keystone API Validation ========================================== Existing launchpad blueprint URL:: https://blueprints.launchpad.net/keystone/+spec/keystone-api-validation Currently, the Keystone API has different implementations for validating resources. The purpose of this blueprint is to track the progress of standardizing the validation layer in Keystone and implement it consistently across Keystone. Problem Description =================== Currently Keystone doesn't have a consistent API validation layer. Some resources validate input in the resource controller and some fail out in the backend. Ideally, Keystone would have some validation in place to catch unallowed parameters and return a validation error to the user. The use cases for this improvement should be relatively transparent to the user. Use Case: As an End User, I want to observe consistent API validation regardless of the backend being used and values passed to the Keystone server. Proposed Change =============== One possible way to validate the Keystone API is to use jsonschema. A jsonschema validator object can be used to check each resource against an appropriate schema for that resource. If the validation passes, the request can follow the existing flow of control to the resource manager to the backend. If the request body parameters fail the validation specified by the resource schema, a validation error will be returned from the server. Some notes on doing this implementation: * Common parameter types can be leveraged across all Keystone resources. * The validation can take place at the controller layer. * Initial work will include capturing the Identity API Spec for existing resources in a schema. This should be a one time operation for each version of the API. * The current implementation up for review uses a method decorator in the resource controller. This is a fairly simple change and doesn't clutter the existing controller code. * When adding a new extention to Keystone, the new extention could be purposed with its appropriate schema. There are a couple notes on how to deal with different backend constraints. The validator will have to honor the Identity API Spec but it will also have to account for the cases specific to the backend. Example, the SQL backend allows for 255 character user names but the LDAP backend doesn't have a restriction against the length of user names. In this case, we could do the following: * Validate against the least common denominator, 255 in this example. This might be the suboptimal solution since it could effect existing deployments. * Have the backend call back to the validator, giving it a value to validate with. Example, the SQL backend understands the schema, so when asked the limit of user names, it could return 255. This work can be taken in steps: * Introduce a jsonschema validator implementation https://review.openstack.org/#/c/86483/ * Convert resources to validator https://review.openstack.org/#/c/86484/ The second part could be considered an on going effort given the addition of Keystone extentions. Alternatives ------------ None, but open to other suggestions here. Data Model Impact ----------------- * What new data objects and/or database schema changes is this going to require? The incoming request could be represented as an object, in which case the request object would have the jsonschema validator as an attribute. * What database migrations will accompany this change? None, this blueprint shouldn't require a database migration or schema change. * How will the initial set of new data objects be generated, for example if you need to take into account existing instances, or modify other existing data describe how that will work. The validator should be the new object added in this case. There is discussion about implementing the request as an object, which jamielennox has posted in a review: https://review.openstack.org/#/c/92031/ REST API Impact --------------- This blueprint shouldn't effect the existing API. In the event that it does, it will be correcting the API to following the Identity API Spec. Security Impact --------------- Describe any potential security impact on the system. Some of the items to consider include: * Does this change touch sensitive data such as tokens, keys, or user data? No * Does this change alter the API in a way that may impact security, such as a new way to access sensitive information or a new way to login? No * Does this change involve cryptography or hashing? No * Does this change require the use of sudo or any elevated privileges? No * Does this change involve using or parsing user-provided data? This could be directly at the API level or indirectly such as changes to a cache layer. Yes, the validator will check the user provided data against a resource schema. * Can this change enable a resource exhaustion attack, such as allowing a single API interaction to consume significant server resources? No Notifications Impact -------------------- None Other End User Impact --------------------- Aside from the API, are there other ways a user will interact with this feature? No * Does this change have an impact on python-keystoneclient? What does the user interface there look like? This change will be enforcing the Identity API Spec which should already be taken into consideration in python-keystoneclient. Performance Impact ------------------ This code will be called primarily on resource create and update. The validator will not have to rely on persistent storage for validating a request. A similar operation to this would be the performance of notifications, as they are implemented with a wrapper and called on the create, update, and delete operations of some Keystone resources. * Will the change include any locking, and if so what considerations are there on holding the lock? No Other Deployer Impact --------------------- Discuss things that will affect how you deploy and configure OpenStack that have not already been mentioned, such as: * What config options are being added? Should they be more generic than proposed (for example a flag that other hypervisor drivers might want to implement as well)? Are the default values ones which will work well in real deployments? No additional configuration values required. * Is this a change that takes immediate effect after its merged, or is it something that has to be explicitly enabled? The validator will take effect immediately. * If this change is a new binary, how would it be deployed? Deployed the same way Keystone is deployed now. * Please state anything that those doing continuous deployment, or those upgrading from the previous release, need to be aware of. Also describe any plans to deprecate configuration values or features. For example, if we change the directory name that instances are stored in, how do we handle instance directories created before the change landed? Do we move them? Do we have a special case in the code? Do we assume that the operator will recreate all the instances in their cloud? No Developer Impact ---------------- This will require developers contributing new extentions to Keystone to have a proper schema representing the extention's API. Implementation ============== Assignee(s) ----------- Primary assignee: ldbragst Other contributors: jamielennox Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. 1. Initial validator implementation 2. Implement validator on existing Keystone resources 3. Implement validator on existing Keystone extentions 4. Enforce validation on purposed Keystone extentions Dependencies ============ * Include specific references to specs and/or blueprints in keystone, or in other projects, that this one either depends on or is related to. None * If this requires functionality of another project that is not currently used by Keystone (such as the glance v2 API when we previously only required v1), document that fact. None * Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? No Testing ======= Tempest tests can be added as each resource is validated against its schema. These tests should walk through invalid request types. We can follow some of the validation work already done in the Nova V3 API. http://git.openstack.org/cgit/openstack/tempest/tree/etc/schemas/compute/ \ flavors/flavors_list.json http://git.openstack.org/cgit/openstack/tempest/tree/tempest/api/compute/ \ flavors/test_flavors_negative.py Negative validation tests should use tempest.test.NegativeAutoTest Documentation Impact ==================== None References ========== Useful Links: * http://spacetelescope.github.io/understanding-json-schema/reference/ \ object.html * http://git.openstack.org/cgit/openstack/nova/tree/nova/api/validation ",,268,0
openstack%2Fdesignate~master~I7eec6ddf9f7dd4ee17d0f50938b6fefdbfcc3dae,openstack/designate,master,I7eec6ddf9f7dd4ee17d0f50938b6fefdbfcc3dae,DevStack: PowerDNS and Bind9 should listen on SERVICE_HOST,MERGED,2014-06-13 10:22:11.000000000,2014-06-16 20:19:36.000000000,2014-06-16 20:19:36.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8094}, {'_account_id': 8099}, {'_account_id': 8130}, {'_account_id': 9983}]","[{'number': 1, 'created': '2014-06-13 10:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/732b9cc9ae5792bdb154d318665d106152469d29', 'message': 'DevStack: PowerDNS and Bind9 should listen on SERVICE_HOST\n\nChange-Id: I7eec6ddf9f7dd4ee17d0f50938b6fefdbfcc3dae\n'}, {'number': 2, 'created': '2014-06-13 12:09:01.000000000', 'files': ['contrib/devstack/lib/designate_plugins/backend-powerdns', 'contrib/devstack/lib/designate_plugins/backend-bind9'], 'web_link': 'https://opendev.org/openstack/designate/commit/71f6aec13f59765458f78eae6d09f0523ff31784', 'message': 'DevStack: PowerDNS and Bind9 should listen on SERVICE_HOST\n\nChange-Id: I7eec6ddf9f7dd4ee17d0f50938b6fefdbfcc3dae\n(cherry picked from commit 732b9cc9ae5792bdb154d318665d106152469d29)\n'}]",0,99899,71f6aec13f59765458f78eae6d09f0523ff31784,15,6,2,741,,,0,"DevStack: PowerDNS and Bind9 should listen on SERVICE_HOST

Change-Id: I7eec6ddf9f7dd4ee17d0f50938b6fefdbfcc3dae
(cherry picked from commit 732b9cc9ae5792bdb154d318665d106152469d29)
",git fetch https://review.opendev.org/openstack/designate refs/changes/99/99899/2 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/devstack/lib/designate_plugins/backend-powerdns', 'contrib/devstack/lib/designate_plugins/backend-bind9']",2,732b9cc9ae5792bdb154d318665d106152469d29,bug/1326141," iniset $DESIGNATE_CONF backend:bind9 rndc_port 953 iniset $DESIGNATE_CONF backend:bind9 rndc_host $SERVICE_HOST listen-on { $SERVICE_HOST; }; inet $SERVICE_HOST allow { localhost; } keys { ""rndc-key""; }; default-server $SERVICE_HOST;"," iniset $DESIGNATE_CONF backend:bind9 rndc_port '953' iniset $DESIGNATE_CONF backend:bind9 rndc_host '127.0.0.1' listen-on-v6 { any; }; inet 127.0.0.1 allow { localhost; } keys { ""rndc-key""; }; default-server 127.0.0.1;",6,6
openstack%2Fneutron-specs~master~Id3ca698c84a4df5dd8900029fbf3e669eb87f615,openstack/neutron-specs,master,Id3ca698c84a4df5dd8900029fbf3e669eb87f615,ofagent: port monitoring w/o ovsdb accesses,MERGED,2014-05-02 05:44:46.000000000,2014-06-16 20:19:19.000000000,2014-06-16 20:19:19.000000000,"[{'_account_id': 3}, {'_account_id': 261}, {'_account_id': 333}, {'_account_id': 1923}, {'_account_id': 1935}, {'_account_id': 2031}, {'_account_id': 6854}]","[{'number': 1, 'created': '2014-05-02 05:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/82e32df8c1ecb9e6a3e2294cf109a9ba2954d9ee', 'message': 'ofagent: port monitoring w/o ovsdb accesses\n\nChange-Id: Id3ca698c84a4df5dd8900029fbf3e669eb87f615\n'}, {'number': 2, 'created': '2014-05-21 05:21:03.000000000', 'files': ['specs/juno/ofagent-port-monitor.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/01f30d40ca1e41a01cf890f9ac3f6b7238ef56fc', 'message': 'ofagent: port monitoring w/o ovsdb accesses\n\nChange-Id: Id3ca698c84a4df5dd8900029fbf3e669eb87f615\n'}]",6,91742,01f30d40ca1e41a01cf890f9ac3f6b7238ef56fc,28,7,2,6854,,,0,"ofagent: port monitoring w/o ovsdb accesses

Change-Id: Id3ca698c84a4df5dd8900029fbf3e669eb87f615
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/42/91742/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/ofagent-port-monitor.rst'],1,82e32df8c1ecb9e6a3e2294cf109a9ba2954d9ee,bp/ofagent-port-monitor,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================================== ofagent: port monitoring w/o ovsdb accesses =========================================== https://blueprints.launchpad.net/neutron/+spec/ofagent-port-monitor Problem description =================== ofagent currently scans ovsdb (via ovs-vsctl command) to get a list of ports. ovsdb is not likely available for other openflow switch implementations. Proposed change =============== * implement the functionality using OFPMP_PORT_DESC instead of ovsdb. * (optional) use OFPT_PORT_STATUS asynchronous messages to avoid periodic polling. * as there is no pure openflow equivalent for port external-ids, we plan to use port name to identify devices. (as linuxbridge does) Alternatives ------------ * implement switch-specific methods for every switch implementations * use of-config Data model impact ----------------- none REST API impact --------------- none Security impact --------------- none Notifications impact -------------------- none Other end user impact --------------------- none Performance Impact ------------------ none Other deployer impact --------------------- none Developer impact ---------------- none Implementation ============== Assignee(s) ----------- Primary assignee: yamamoto Other contributors: kakuma Work Items ---------- see ""Proposed change"" section. Dependencies ============ none but some of bug fixes need to be merged to make this useful. for example, https://review.openstack.org/#/c/88224/ Testing ======= ryu/ofagent third party testing would find regressions. Documentation Impact ==================== none References ========== * https://www.opennetworking.org/sdn-resources/onf-specifications/openflow * OpenFlow 1.3.3 7.3.5.7 Port Description * OpenFlow 1.3.3 7.4.3 Port Status Message ",,118,0
openstack%2Fdesignate~master~Ib44f4d9633161e7c019284488d4f31446f20622a,openstack/designate,master,Ib44f4d9633161e7c019284488d4f31446f20622a,DevStack: Fix Bind9 Apparmor profile,MERGED,2014-06-13 11:50:34.000000000,2014-06-16 20:18:19.000000000,2014-06-16 20:18:18.000000000,"[{'_account_id': 3}, {'_account_id': 8094}, {'_account_id': 8099}, {'_account_id': 8130}]","[{'number': 1, 'created': '2014-06-13 11:50:34.000000000', 'files': ['contrib/devstack/lib/designate_plugins/backend-bind9'], 'web_link': 'https://opendev.org/openstack/designate/commit/f91a179a180bd3604ae24d03df882c8f800b7544', 'message': 'DevStack: Fix Bind9 Apparmor profile\n\nChange-Id: Ib44f4d9633161e7c019284488d4f31446f20622a\n'}]",0,99914,f91a179a180bd3604ae24d03df882c8f800b7544,10,4,1,741,,,0,"DevStack: Fix Bind9 Apparmor profile

Change-Id: Ib44f4d9633161e7c019284488d4f31446f20622a
",git fetch https://review.opendev.org/openstack/designate refs/changes/14/99914/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/devstack/lib/designate_plugins/backend-bind9'],1,f91a179a180bd3604ae24d03df882c8f800b7544,," # Customize Bind9 apparmor profile if installed if [[ -d /etc/apparmor.d ]]; then sudo tee /etc/apparmor.d/local/usr.sbin.named > /dev/null << EOF $DESIGNATE_STATE_PATH/bind9/** rw, EOF restart_service apparmor", # Disable apparmor if installed if [[ -f /etc/apparmor.d/disable/usr.sbin.named ]]; then sudo touch /etc/apparmor.d/disable/usr.sbin.named sudo service apparmor reload,6,4
openstack%2Fheat~master~I85ab9d0a3ed824020c7a38f7a814e7755a437b1a,openstack/heat,master,I85ab9d0a3ed824020c7a38f7a814e7755a437b1a,Unit tests: Always use ResourceDefinition for updates,MERGED,2014-05-28 02:25:07.000000000,2014-06-16 20:03:25.000000000,2014-06-16 20:03:24.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 6488}, {'_account_id': 6917}, {'_account_id': 7193}, {'_account_id': 7385}]","[{'number': 1, 'created': '2014-05-28 02:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/176726ff3f37f87e12446436cc81417fb6363540', 'message': 'Unit tests: Always use ResourceDefinition for updates\n\nChange-Id: I85ab9d0a3ed824020c7a38f7a814e7755a437b1a\n'}, {'number': 2, 'created': '2014-05-28 13:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ff2ecb046784365ba2ade9032bfd94b40121bba5', 'message': 'Unit tests: Always use ResourceDefinition for updates\n\nChange-Id: I85ab9d0a3ed824020c7a38f7a814e7755a437b1a\n'}, {'number': 3, 'created': '2014-05-30 20:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/138a46193a814417693ec0e7949f8766c883b350', 'message': 'Unit tests: Always use ResourceDefinition for updates\n\nChange-Id: I85ab9d0a3ed824020c7a38f7a814e7755a437b1a\n'}, {'number': 4, 'created': '2014-06-05 18:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c227a4a578e94e1a6efe2a657df35eca71b2d847', 'message': 'Unit tests: Always use ResourceDefinition for updates\n\nChange-Id: I85ab9d0a3ed824020c7a38f7a814e7755a437b1a\n'}, {'number': 5, 'created': '2014-06-11 01:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7863b31e7c8bf5331fa840e8ae6c18a9acc90a1a', 'message': 'Unit tests: Always use ResourceDefinition for updates\n\nChange-Id: I85ab9d0a3ed824020c7a38f7a814e7755a437b1a\n'}, {'number': 6, 'created': '2014-06-11 13:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/af48327e4baf355ff382fa0f985585d254e8ed93', 'message': 'Unit tests: Always use ResourceDefinition for updates\n\nChange-Id: I85ab9d0a3ed824020c7a38f7a814e7755a437b1a\n'}, {'number': 7, 'created': '2014-06-16 15:22:28.000000000', 'files': ['contrib/marconi/marconi/tests/test_queue.py', 'heat/tests/test_heat_autoscaling_group.py', 'heat/tests/test_waitcondition.py', 'contrib/rackspace/rackspace/tests/test_auto_scale.py', 'heat/tests/test_volume.py', 'heat/tests/test_cw_alarm.py', 'contrib/rackspace/rackspace/tests/test_rackspace_dns.py', 'heat/tests/test_instance_group.py', 'heat/tests/test_nova_floatingip.py', 'heat/tests/test_resource.py', 'heat/tests/test_autoscaling.py', 'heat/tests/test_neutron.py', 'heat/engine/resource.py', 'heat/tests/test_ceilometer_alarm.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/ead7117331abd93678ddd34f45d34a8da276b65a', 'message': 'Unit tests: Always use ResourceDefinition for updates\n\nChange-Id: I85ab9d0a3ed824020c7a38f7a814e7755a437b1a\n'}]",0,96004,ead7117331abd93678ddd34f45d34a8da276b65a,48,8,7,4257,,,0,"Unit tests: Always use ResourceDefinition for updates

Change-Id: I85ab9d0a3ed824020c7a38f7a814e7755a437b1a
",git fetch https://review.opendev.org/openstack/heat refs/changes/04/96004/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/marconi/marconi/tests/test_queue.py', 'heat/tests/test_heat_autoscaling_group.py', 'heat/tests/test_waitcondition.py', 'contrib/rackspace/rackspace/tests/test_auto_scale.py', 'heat/tests/test_volume.py', 'heat/tests/test_cw_alarm.py', 'contrib/rackspace/rackspace/tests/test_rackspace_dns.py', 'heat/tests/test_instance_group.py', 'heat/tests/test_resource.py', 'heat/tests/test_autoscaling.py', 'heat/engine/resource.py', 'heat/tests/test_ceilometer_alarm.py']",12,176726ff3f37f87e12446436cc81417fb6363540,bp/update-failure-recovery,"from heat.engine import rsrc_defn props = copy.copy(rsrc.properties.data) props.update({ 'comparison_operator': 'lt', 'description': 'fruity', 'evaluation_periods': '2', 'period': '90', 'enabled': 'true', 'repeat_actions': True, 'statistic': 'max', 'threshold': '39', 'insufficient_data_actions': [], 'alarm_actions': [], 'ok_actions': ['signal_handler'], }) snippet = rsrc_defn.ResourceDefinition(rsrc.name, rsrc.type(), props) props = copy.copy(rsrc.properties.data) props['meter_name'] = 'temp' snippet = rsrc_defn.ResourceDefinition(rsrc.name, rsrc.type(), props)", snippet = copy.deepcopy(rsrc.parsed_template()) snippet['Properties']['comparison_operator'] = 'lt' snippet['Properties']['description'] = 'fruity' snippet['Properties']['evaluation_periods'] = '2' snippet['Properties']['period'] = '90' snippet['Properties']['enabled'] = 'true' snippet['Properties']['repeat_actions'] = True snippet['Properties']['statistic'] = 'max' snippet['Properties']['threshold'] = '39' snippet['Properties']['insufficient_data_actions'] = [] snippet['Properties']['alarm_actions'] = [] snippet['Properties']['ok_actions'] = ['signal_handler'] snippet = copy.deepcopy(rsrc.parsed_template()) snippet['Properties']['meter_name'] = 'temp',203,87
openstack%2Fpython-novaclient~master~I4b81963ab6a9924c5f2262f49a42baa56326964d,openstack/python-novaclient,master,I4b81963ab6a9924c5f2262f49a42baa56326964d,Convert Floating IP bulk tests to httpretty,MERGED,2014-05-26 07:00:06.000000000,2014-06-16 20:03:22.000000000,2014-06-16 20:03:22.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 2750}, {'_account_id': 7191}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-05-26 07:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/790969122bfa82b63f6ee04da5bc7bb2add900a7', 'message': 'Convert Floating IP bulk tests to httpretty\n\nChange-Id: I4b81963ab6a9924c5f2262f49a42baa56326964d\nblueprint: httpretty-testing\n'}, {'number': 2, 'created': '2014-05-27 01:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/9a1d4f19a935e89b11630ba97023d68a223460ee', 'message': 'Convert Floating IP bulk tests to httpretty\n\nChange-Id: I4b81963ab6a9924c5f2262f49a42baa56326964d\nblueprint: httpretty-testing\n'}, {'number': 3, 'created': '2014-06-06 04:41:01.000000000', 'files': ['novaclient/tests/fixture_data/floatingips.py', 'novaclient/tests/v1_1/test_floating_ips_bulk.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/858a83023a95ce8625102daa7b2c673ea5be4572', 'message': 'Convert Floating IP bulk tests to httpretty\n\nChange-Id: I4b81963ab6a9924c5f2262f49a42baa56326964d\nblueprint: httpretty-testing\n'}]",0,95424,858a83023a95ce8625102daa7b2c673ea5be4572,29,5,3,7191,,,0,"Convert Floating IP bulk tests to httpretty

Change-Id: I4b81963ab6a9924c5f2262f49a42baa56326964d
blueprint: httpretty-testing
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/24/95424/3 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/tests/fixture_data/floatingips.py', 'novaclient/tests/v1_1/test_floating_ips_bulk.py']",2,790969122bfa82b63f6ee04da5bc7bb2add900a7,bp/httpretty-testing,"from novaclient.tests.fixture_data import client from novaclient.tests.fixture_data import floatingips as dataclass FloatingIPsBulkTest(utils.FixturedTestCase): client_fixture_class = client.V1 data_fixture_class = data.BulkFixture fl = self.cs.floating_ips_bulk.list() self.assert_called('GET', '/os-floating-ips-bulk') fl = self.cs.floating_ips_bulk.list('testHost') self.assert_called('GET', '/os-floating-ips-bulk/testHost') fl = self.cs.floating_ips_bulk.create('192.168.1.0/30') self.assert_called('POST', '/os-floating-ips-bulk', body) fl = self.cs.floating_ips_bulk.create('192.168.1.0/30', 'poolTest', 'interfaceTest') self.assert_called('POST', '/os-floating-ips-bulk', body) fl = self.cs.floating_ips_bulk.delete('192.168.1.0/30') self.assert_called('PUT', '/os-floating-ips-bulk/delete', body)","from novaclient.tests.v1_1 import fakescs = fakes.FakeClient() class FloatingIPsBulkTest(utils.TestCase): fl = cs.floating_ips_bulk.list() cs.assert_called('GET', '/os-floating-ips-bulk') fl = cs.floating_ips_bulk.list('testHost') cs.assert_called('GET', '/os-floating-ips-bulk/testHost') fl = cs.floating_ips_bulk.create('192.168.1.0/30') cs.assert_called('POST', '/os-floating-ips-bulk', body) fl = cs.floating_ips_bulk.create('192.168.1.0/30', 'poolTest', 'interfaceTest') cs.assert_called('POST', '/os-floating-ips-bulk', body) fl = cs.floating_ips_bulk.delete('192.168.1.0/30') cs.assert_called('PUT', '/os-floating-ips-bulk/delete', body)",63,15
openstack%2Fheat~master~I7f78a2202514f13deb60ad7d66b9145447cc5625,openstack/heat,master,I7f78a2202514f13deb60ad7d66b9145447cc5625,Allow passing an existing user_creds_id to parser.Stack,MERGED,2014-06-12 17:59:25.000000000,2014-06-16 20:03:15.000000000,2014-06-16 20:03:15.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 6488}, {'_account_id': 7193}, {'_account_id': 7385}]","[{'number': 1, 'created': '2014-06-12 17:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8a391e44a43b02b8c0f5dce846fa06791895d29d', 'message': ""Allow passing an exiting user_creds_id to parser.Stack\n\nCurrently we always create a new user_creds entry every time a stack\nis stored, even if a user_creds_id is passed to the constructor.  So\nallow an existing user_creds ID to be respected.\n\nThis will enable optimisation of the creation of trusts, e.g so we won't\nhave to create a new trust for every nested stack, we can pass the top\nlevel credentials into the nested stack instead, which means things\nupdates which create nested stacks with a trust-scoped-token will work.\n\nThis will be required for updates via trusts from Solum, and probably\nalso to make OS::Heat::AutoScalingGroup work with the trust-alarm-urls\nblueprint work, where ceilometer will send a signal using a trust.\n\nChange-Id: I7f78a2202514f13deb60ad7d66b9145447cc5625\nPartial-Bug: #1317293\nblueprint: trust-alarm-urls\n""}, {'number': 2, 'created': '2014-06-13 13:28:56.000000000', 'files': ['heat/engine/parser.py', 'heat/tests/test_parser.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/a75d3c94d8e07a5a73e008925eb6fc25515d7c13', 'message': ""Allow passing an existing user_creds_id to parser.Stack\n\nCurrently we always create a new user_creds entry every time a stack\nis stored, even if a user_creds_id is passed to the constructor.  So\nallow an existing user_creds ID to be respected.\n\nThis will enable optimisation of the creation of trusts, e.g so we won't\nhave to create a new trust for every nested stack, we can pass the top\nlevel credentials into the nested stack instead, which means updates which\ncreate nested stacks with a trust-scoped-token will work.\n\nThis will be required for updates via trusts from Solum, and probably\nalso to make OS::Heat::AutoScalingGroup work with the trust-alarm-urls\nblueprint, where ceilometer will send a signal using a trust.\n\nChange-Id: I7f78a2202514f13deb60ad7d66b9145447cc5625\nPartial-Bug: #1317293\nblueprint: trust-alarm-urls\n""}]",2,99729,a75d3c94d8e07a5a73e008925eb6fc25515d7c13,16,6,2,4328,,,0,"Allow passing an existing user_creds_id to parser.Stack

Currently we always create a new user_creds entry every time a stack
is stored, even if a user_creds_id is passed to the constructor.  So
allow an existing user_creds ID to be respected.

This will enable optimisation of the creation of trusts, e.g so we won't
have to create a new trust for every nested stack, we can pass the top
level credentials into the nested stack instead, which means updates which
create nested stacks with a trust-scoped-token will work.

This will be required for updates via trusts from Solum, and probably
also to make OS::Heat::AutoScalingGroup work with the trust-alarm-urls
blueprint, where ceilometer will send a signal using a trust.

Change-Id: I7f78a2202514f13deb60ad7d66b9145447cc5625
Partial-Bug: #1317293
blueprint: trust-alarm-urls
",git fetch https://review.opendev.org/openstack/heat refs/changes/29/99729/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/parser.py', 'heat/tests/test_parser.py']",2,8a391e44a43b02b8c0f5dce846fa06791895d29d,bug/1306294_3," def test_init_user_creds_id(self): ctx_init = utils.dummy_context(user='my_user', password='my_pass') ctx_init.request_id = self.ctx.request_id creds = db_api.user_creds_create(ctx_init) self.stack = parser.Stack(self.ctx, 'creds_init', self.tmpl, user_creds_id=creds.id) self.stack.store() self.assertEqual(creds.id, self.stack.user_creds_id) ctx_expected = ctx_init.to_dict() ctx_expected['auth_token'] = None self.assertEqual(ctx_expected, self.stack.stored_context().to_dict()) ",,23,9
openstack%2Fneutron~master~Id9dbe11599c55b447387df4a2d6639b7e8dba6ce,openstack/neutron,master,Id9dbe11599c55b447387df4a2d6639b7e8dba6ce,Fix opt helpstring for dhcp_lease_duration,MERGED,2014-06-16 09:17:35.000000000,2014-06-16 20:00:09.000000000,2014-06-16 20:00:08.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1689}, {'_account_id': 5170}, {'_account_id': 5892}, {'_account_id': 6072}, {'_account_id': 6854}, {'_account_id': 8655}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}]","[{'number': 1, 'created': '2014-06-16 09:17:35.000000000', 'files': ['neutron/common/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0f9e82d6a68fa46bf11c3883e65975a2b40498e4', 'message': 'Fix opt helpstring for dhcp_lease_duration\n\nRecently (https://review.openstack.org/#/c/92453), the\nfunctionality of dhcp_lease_duration was changed to support\ninfinite lease times.\n\nHowever, this change failed to update the associated help text\nwith the option declaration. This patch simply updates the text\nso that the new functionality can be understood by the user.\n\nChange-Id: Id9dbe11599c55b447387df4a2d6639b7e8dba6ce\n'}]",0,100196,0f9e82d6a68fa46bf11c3883e65975a2b40498e4,22,17,1,612,,,0,"Fix opt helpstring for dhcp_lease_duration

Recently (https://review.openstack.org/#/c/92453), the
functionality of dhcp_lease_duration was changed to support
infinite lease times.

However, this change failed to update the associated help text
with the option declaration. This patch simply updates the text
so that the new functionality can be understood by the user.

Change-Id: Id9dbe11599c55b447387df4a2d6639b7e8dba6ce
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/100196/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/common/config.py'],1,0f9e82d6a68fa46bf11c3883e65975a2b40498e4,fix_option_doc," help=_(""DHCP lease duration (in seconds). Use -1 to tell "" ""dnsmasq to use infinite lease times."")),"," help=_(""DHCP lease duration"")),",2,1
openstack%2Fcliff~master~I6042efc694fefc705db5d425142a1068780ef2de,openstack/cliff,master,I6042efc694fefc705db5d425142a1068780ef2de,CSV formatter should use system-dependent line ending,MERGED,2014-06-10 14:47:45.000000000,2014-06-16 19:58:43.000000000,2014-06-16 19:58:43.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 5950}, {'_account_id': 8736}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-06-10 14:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/0c0dc602eaac3f151daa64d4fa47b6a72f13958d', 'message': 'CSV formatter should use system-dependent line ending\n\nThe fix introduces new parameter --line-terminator with the following\nvalues:\n  * system - for system-dependend line terminator, default value\n  * crlf - \\r\\n\n  * cr - \\r\n  * lf - \\n\n\nCloses bug 1298907\n\nChange-Id: I6042efc694fefc705db5d425142a1068780ef2de\n'}, {'number': 2, 'created': '2014-06-11 09:48:07.000000000', 'files': ['cliff/formatters/commaseparated.py'], 'web_link': 'https://opendev.org/openstack/cliff/commit/c3834489f029a07c9afdb63445620501e63a84c0', 'message': 'CSV formatter should use system-dependent line ending\n\nCloses bug 1298907\n\nChange-Id: I6042efc694fefc705db5d425142a1068780ef2de\n'}]",4,99106,c3834489f029a07c9afdb63445620501e63a84c0,31,6,2,5950,,,0,"CSV formatter should use system-dependent line ending

Closes bug 1298907

Change-Id: I6042efc694fefc705db5d425142a1068780ef2de
",git fetch https://review.opendev.org/openstack/cliff refs/changes/06/99106/1 && git format-patch -1 --stdout FETCH_HEAD,['cliff/formatters/commaseparated.py'],1,0c0dc602eaac3f151daa64d4fa47b6a72f13958d,bug/1298907,"import os LINE_TERMINATOR_MODES = { 'system': os.linesep, 'crlf': '\r\n', 'cr': '\r', 'lf': '\n', } lt_group = parser.add_argument_group('Line terminator') lt_group.add_argument( '--line-terminator', choices=sorted(self.LINE_TERMINATOR_MODES.keys()), dest='line_terminator_mode', default='system', help='line terminator, defaults to system-dependent', ) lineterminator=self.LINE_TERMINATOR_MODES[ parsed_args.line_terminator_mode],",,18,0
openstack%2Fdevstack~master~I2b066a687916742e966190f00b5b06a795d4a014,openstack/devstack,master,I2b066a687916742e966190f00b5b06a795d4a014,double the screen sleep timeout,MERGED,2014-06-16 13:41:09.000000000,2014-06-16 19:58:37.000000000,2014-06-16 19:58:37.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 6316}, {'_account_id': 9009}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-16 13:41:09.000000000', 'files': ['functions-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/43d8f1cdddee5ed20dfef267dc59f7c4805d3a75', 'message': ""double the screen sleep timeout\n\nHP Cloud 1.1 is quite slow per core. So much so that grenade is\noften failing to start services because bash in a screen session\nisn't ready in 1.5s. Double this to 3s to try to decrease failures\nin the gate.\n\nWe should instead do this via some readiness check to decrease\nraces.\n\nChange-Id: I2b066a687916742e966190f00b5b06a795d4a014\n""}]",0,100253,43d8f1cdddee5ed20dfef267dc59f7c4805d3a75,12,7,1,2750,,,0,"double the screen sleep timeout

HP Cloud 1.1 is quite slow per core. So much so that grenade is
often failing to start services because bash in a screen session
isn't ready in 1.5s. Double this to 3s to try to decrease failures
in the gate.

We should instead do this via some readiness check to decrease
races.

Change-Id: I2b066a687916742e966190f00b5b06a795d4a014
",git fetch https://review.opendev.org/openstack/devstack refs/changes/53/100253/1 && git format-patch -1 --stdout FETCH_HEAD,['functions-common'],1,43d8f1cdddee5ed20dfef267dc59f7c4805d3a75,hpisslow, sleep 3, sleep 1.5,1,1
openstack%2Fironic~master~I181ffabe673636b628329592e623e6425da54d6d,openstack/ironic,master,I181ffabe673636b628329592e623e6425da54d6d,Factoring out PXE and TFTP functions,MERGED,2014-04-24 21:20:37.000000000,2014-06-16 19:49:20.000000000,2014-06-16 19:49:20.000000000,"[{'_account_id': 3}, {'_account_id': 1420}, {'_account_id': 1726}, {'_account_id': 2889}, {'_account_id': 4190}, {'_account_id': 6773}, {'_account_id': 7882}, {'_account_id': 8106}, {'_account_id': 8125}, {'_account_id': 8412}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 10380}]","[{'number': 1, 'created': '2014-04-24 21:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2d98a0ffc99e3832c137f1b43f569450e7b2008f', 'message': 'Starting refactor\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n'}, {'number': 2, 'created': '2014-04-24 21:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b3c12e005243fe6484e8a578e56c8495c9ee4110', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 3, 'created': '2014-04-25 00:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/17b5781e40739cac0ddbf0ece42f71564231ac8e', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 5, 'created': '2014-04-25 18:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2de3b5fbd1717c1598fca1f81aed00cea66972d7', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 4, 'created': '2014-04-25 18:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7774b5f99f85e110e021ad8bd399cddd9af77674', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 7, 'created': '2014-04-25 19:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8f5a02be5439bf65015945dba876519fc974522c', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 6, 'created': '2014-04-25 19:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/527648cabb46f092fc2c3aed27ab89c096d774c1', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 8, 'created': '2014-04-25 22:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6e17358010e286e902575d0be62feddcecbcd806', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 9, 'created': '2014-04-25 22:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eddb3560f4af41b186fc2e0ac071ce327cf00891', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 11, 'created': '2014-04-26 00:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fc53856eb37f7abdd9480e3ab5b08e890feb60f9', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 10, 'created': '2014-04-26 00:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f351b4518eca2ab8e9420d2a40285d827731adbf', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 12, 'created': '2014-04-28 05:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3f83904066a8532e2fc13200775fd5ac00ef92cf', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 13, 'created': '2014-04-28 06:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1b3381d9c6ebf9a7b4e02bf07bca76ea5bebf491', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 14, 'created': '2014-04-28 22:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/59b26bcceeeb1fc3dd094b661178bc8d3245a393', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 15, 'created': '2014-04-30 23:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1af50ec8fbeb3cde822eb8a1432467090a0c6194', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 16, 'created': '2014-05-01 00:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1ba902ac24e72a59ed2f6790dec6ea2004eabb5d', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 17, 'created': '2014-05-01 00:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f5991efacc6049cc6efa9d993171e51710921da5', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 18, 'created': '2014-05-01 19:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/67b6beaba7a7e906f2204b2e703379ab3109c3a6', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 19, 'created': '2014-05-02 17:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/864743287f85bd70fa7c4db99edcd929d357887e', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 20, 'created': '2014-05-02 20:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5fe58716a50826a40d4acffb44ba9ec15d952a77', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 21, 'created': '2014-05-05 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/34e1f05c9a655e8d8d73cd8bc4841e7c002b2bda', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 22, 'created': '2014-05-05 23:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/33eb9eec28fe53ab28c4bfe222ff452dd2301f79', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 23, 'created': '2014-05-06 17:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2a07a64629d085ad87818041bbee948e164bd95a', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 24, 'created': '2014-05-06 19:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c51d4567de2721bf64612cc0eaff02a7360e9061', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 25, 'created': '2014-05-07 02:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d49a8e8f76f7ea3c972552d9e14e2b7b307aebe1', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 26, 'created': '2014-05-07 02:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dd011acd3160190a9b5b839180309d9671eee34f', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 27, 'created': '2014-05-07 22:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/01b9276be6d81080bf779d035630c9604386a144', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 28, 'created': '2014-05-08 00:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eb9f041353fc1913c13ec56eaf3f5b14fb0d1a29', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 29, 'created': '2014-05-09 17:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5f666883978ffb1531d47b2f3ca03f0207b8343f', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 30, 'created': '2014-05-09 20:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3a4af812418de1029ce6ae95944f4ffd05e33c88', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 31, 'created': '2014-05-09 20:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cfaa61be8e5d57e9bea1e9858e8339d09a586cf4', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 32, 'created': '2014-05-15 15:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a4e13142eb2dcd624dca955c545f1ed382a32b0f', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 33, 'created': '2014-05-16 19:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c0379b8aca37f138d0e1fda27b9e3b334e3ebc4f', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 34, 'created': '2014-05-17 00:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/43cd3ceb7e8bc40a71668e9d9443a7c7df18febe', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 35, 'created': '2014-05-21 17:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4ca638e71c2a0de26ea7c7ed593e12f4af57b423', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 36, 'created': '2014-05-22 22:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8850dc6c540e1a6a5f58c9b3e6d1fccb7daa2506', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 37, 'created': '2014-05-23 16:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f2dbb06b8eefb8cf1e361a0f7b6bb32fe61d1379', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 38, 'created': '2014-05-28 00:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ae71d3f12c4cc2107397a22cae4a3c743eeb9a1c', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 39, 'created': '2014-05-28 01:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a68508d50d76e27dab9f569fb8aa0eedc245b1c1', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 40, 'created': '2014-05-28 21:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/68f72b914f6b8ab6a1c525c0f611bbbf4e968168', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 41, 'created': '2014-05-29 20:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/37424badfb4231f729c09474f5d863007b430d99', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 42, 'created': '2014-05-29 21:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/479afe99ef5bdcaf76ee5279a796e0530159e6b6', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 43, 'created': '2014-05-31 01:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d439265024187f38293f8507753c1ec5ebd60e1f', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 44, 'created': '2014-06-09 23:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/92ae36cc4e6e48e02d903ec2981cfec0edd6ac9a', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 45, 'created': '2014-06-10 17:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/436fb641c73ab21c8e85439abd17eaee751e871d', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 46, 'created': '2014-06-10 18:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0ed90fb718cea9230b48c2e3535a61d4d61d9e0d', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 47, 'created': '2014-06-10 18:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0d611bf64aaba008989c407a62381b97a5253843', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 48, 'created': '2014-06-10 19:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/741518d4102d7730961ca8f8ea76611ecaf01728', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 49, 'created': '2014-06-12 14:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e2942075cc941a0c8ecee2cc39e13da5af93032d', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 50, 'created': '2014-06-14 03:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/59b32a929133f2cf3d53d572fe6573b1e5ada41f', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 51, 'created': '2014-06-14 03:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5fd4660725a74b297649ea218e63d9a91fe11621', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. I've moved all the generic calls into neutron\nand reconfigured the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}, {'number': 52, 'created': '2014-06-14 14:34:09.000000000', 'files': ['ironic/tests/test_tftp.py', 'ironic/tests/test_neutron.py', 'ironic/common/tftp.py', 'etc/ironic/ironic.conf.sample', 'ironic/drivers/modules/pxe.py', 'ironic/common/neutron.py', 'ironic/tests/drivers/test_pxe.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5f5ec56bed86fb48744cae0ffb20fa518068719d', 'message': ""Factoring out PXE and TFTP functions\n\nMultiple drivers need to support neutron and Ironic's PXE and TFTP\nserver. Factoring them out into a common file will make that\ntransition possible. This moves all the generic calls into neutron\nand reconfigures the PXE driver to work with the new functions.\n\nChange-Id: I181ffabe673636b628329592e623e6425da54d6d\n""}]",107,90233,5f5ec56bed86fb48744cae0ffb20fa518068719d,240,13,52,10380,,,0,"Factoring out PXE and TFTP functions

Multiple drivers need to support neutron and Ironic's PXE and TFTP
server. Factoring them out into a common file will make that
transition possible. This moves all the generic calls into neutron
and reconfigures the PXE driver to work with the new functions.

Change-Id: I181ffabe673636b628329592e623e6425da54d6d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/33/90233/49 && git format-patch -1 --stdout FETCH_HEAD,"['etc/ironic/ironic.conf.sample', 'ironic/drivers/modules/pxe.py', 'ironic/common/neutron.py', 'ironic/tests/drivers/test_pxe.py']",4,2d98a0ffc99e3832c137f1b43f569450e7b2008f,refactor_network," neutron._get_pxe_mac_path(mac)) os.path.join(CONF.neutron.tftp_root, os.path.join(CONF.neutron.tftp_root, os.path.join(CONF.neutron.tftp_root, os.path.join(CONF.neutron.tftp_root, @mock.patch('ironic.common.neutron._build_pxe_config') def test__build_pxe_config(self, build_pxe_mock): self.config(pxe_append_params='test_param', group='neutron') expected_options = { 'deployment_key': '0123456789ABCDEFGHIJKLMNOPQRSTUV', 'ari_path': u'/tftpboot/1be26c0b-03f2-4d2e-ae87-c02d7f33c123/' u'ramdisk', 'deployment_iscsi_iqn': u'iqn-1be26c0b-03f2-4d2e-ae87-c02d7f33' u'c123', 'deployment_ari_path': u'/tftpboot/1be26c0b-03f2-4d2e-ae87-c02d7' u'f33c123/deploy_ramdisk', 'pxe_append_params': 'test_param', 'aki_path': u'/tftpboot/1be26c0b-03f2-4d2e-ae87-c02d7f33c123/' u'kernel', 'deployment_id': u'1be26c0b-03f2-4d2e-ae87-c02d7f33c123', 'ironic_api_url': 'http://192.168.122.184:6385', 'deployment_aki_path': u'/tftpboot/1be26c0b-03f2-4d2e-ae87-' u'c02d7f33c123/deploy_kernel' } image_info = {'deploy_kernel': ['deploy_kernel', os.path.join( CONF.neutron.tftp_root, self.node.uuid, 'deploy_kernel')], 'deploy_ramdisk': ['deploy_ramdisk', os.path.join( CONF.neutron.tftp_root, self.node.uuid, 'deploy_ramdisk')], os.path.join(CONF.neutron.tftp_root, os.path.join(CONF.neutron.tftp_root, pxe._build_pxe_config_options(self.node, image_info, self.context) build_pxe_mock.assert_called_once_with(self.node, expected_options) result = neutron._get_node_vif_ids(task) result = neutron._get_node_vif_ids(task) result = neutron._get_node_vif_ids(task) opts = neutron._dhcp_options_for_instance() with mock.patch.object(neutron, '_get_node_vif_ids') as mock_gnvi: neutron._update_neutron(task, self.node) with mock.patch.object(neutron, '_get_node_vif_ids') as mock_gnvi: neutron._update_neutron(task, self.node) with mock.patch.object(neutron, '_get_node_vif_ids') as mock_gnvi: neutron._update_neutron(task, self.node) with mock.patch.object(neutron, '_get_node_vif_ids') as mock_gnvi: neutron._update_neutron, self.config(pxe_bootfile_name='test_pxe_bootfile', group='neutron') self.config(tftp_server='192.0.2.1', group='neutron') self.assertEqual(expected_info, neutron._dhcp_options_for_instance()) self.assertEqual(os.path.join(CONF.neutron.tftp_root, neutron._get_pxe_config_file_path(self.node.uuid)) self.config(tftp_root=temp_dir, group='neutron') self.config(tftp_root=temp_dir, group='neutron') self.config(tftp_root=self.temp_dir, group='neutron') @mock.patch('ironic.drivers.modules.pxe._get_tftp_image_info') @mock.patch('ironic.drivers.modules.pxe._cache_images') @mock.patch('ironic.drivers.modules.pxe._build_pxe_config_options') @mock.patch('ironic.common.neutron._create_pxe_config') def test_prepare(self, create_pxe_config_mock, pxe_config_mock, cache_images_mock, get_tftp_image_info_mock): get_tftp_image_info_mock.return_value = None create_pxe_config_mock.return_value = None pxe_config_mock.return_value = None cache_images_mock.return_value = None with task_manager.acquire(self.context, self.node['uuid'], shared=True) as task: task.driver.deploy.prepare(task, self.node) get_tftp_image_info_mock.assert_called_once_with(self.node, self.context) create_pxe_config_mock.assert_called_once_with(task, self.node, None) cache_images_mock.assert_called_once_with(self.node, None, self.context) with mock.patch.object(neutron, '_update_neutron') as update_neutron_mock: with mock.patch.object(neutron, '_update_neutron') as update_neutron_mock: d_kernel_path = os.path.join(CONF.neutron.tftp_root, pxecfg_dir = os.path.join(CONF.neutron.tftp_root, 'pxelinux.cfg') instance_dir = os.path.join(CONF.neutron.tftp_root, tftp_master_dir = os.path.join(CONF.neutron.tftp_root, deploy_kernel_link = os.path.join(CONF.neutron.tftp_root,"," pxe._get_pxe_mac_path(mac)) os.path.join(CONF.pxe.tftp_root, os.path.join(CONF.pxe.tftp_root, os.path.join(CONF.pxe.tftp_root, os.path.join(CONF.pxe.tftp_root, def test__build_pxe_config(self): self.config(pxe_append_params='test_param', group='pxe') template = 'ironic/tests/drivers/pxe_config.template' pxe_config_template = open(template, 'r').read() image_info = {'deploy_kernel': ['deploy_kernel', os.path.join(CONF.pxe.tftp_root, self.node.uuid, 'deploy_kernel')], 'deploy_ramdisk': ['deploy_ramdisk', os.path.join(CONF.pxe.tftp_root, self.node.uuid, 'deploy_ramdisk')], os.path.join(CONF.pxe.tftp_root, os.path.join(CONF.pxe.tftp_root, pxe_config = pxe._build_pxe_config(self.node, image_info, self.context) self.assertEqual(pxe_config_template, pxe_config) result = pxe._get_node_vif_ids(task) result = pxe._get_node_vif_ids(task) result = pxe._get_node_vif_ids(task) opts = pxe._dhcp_options_for_instance() with mock.patch.object(pxe, '_get_node_vif_ids') as mock_gnvi: pxe._update_neutron(task, self.node) with mock.patch.object(pxe, '_get_node_vif_ids') as mock_gnvi: pxe._update_neutron(task, self.node) with mock.patch.object(pxe, '_get_node_vif_ids') as mock_gnvi: pxe._update_neutron(task, self.node) with mock.patch.object(pxe, '_get_node_vif_ids') as mock_gnvi: pxe._update_neutron, self.config(pxe_bootfile_name='test_pxe_bootfile', group='pxe') self.config(tftp_server='192.0.2.1', group='pxe') self.assertEqual(expected_info, pxe._dhcp_options_for_instance()) self.assertEqual(os.path.join(CONF.pxe.tftp_root, pxe._get_pxe_config_file_path(self.node.uuid)) self.config(tftp_root=temp_dir, group='pxe') self.config(tftp_root=temp_dir, group='pxe') self.config(tftp_root=self.temp_dir, group='pxe') def test_prepare(self): with mock.patch.object(pxe, '_create_pxe_config') as create_pxe_config_mock: with mock.patch.object(pxe, '_cache_images') as cache_images_mock: with mock.patch.object(pxe, '_get_tftp_image_info') as get_tftp_image_info_mock: get_tftp_image_info_mock.return_value = None create_pxe_config_mock.return_value = None cache_images_mock.return_value = None with task_manager.acquire(self.context, self.node['uuid'], shared=True) as task: task.driver.deploy.prepare(task, self.node) get_tftp_image_info_mock.assert_called_once_with( self.node, self.context) create_pxe_config_mock.assert_called_once_with(task, self.node, None) cache_images_mock.assert_called_once_with(self.node, None, self.context) with mock.patch.object(pxe, '_update_neutron') as update_neutron_mock: with mock.patch.object(pxe, '_update_neutron') as update_neutron_mock: d_kernel_path = os.path.join(CONF.pxe.tftp_root, pxecfg_dir = os.path.join(CONF.pxe.tftp_root, 'pxelinux.cfg') instance_dir = os.path.join(CONF.pxe.tftp_root, tftp_master_dir = os.path.join(CONF.pxe.tftp_root, deploy_kernel_link = os.path.join(CONF.pxe.tftp_root,",335,293
openstack%2Ffuel-main~master~I49108278e365c20bec5de5c595992fc4a68e1a07,openstack/fuel-main,master,I49108278e365c20bec5de5c595992fc4a68e1a07,Add python-neutronclient to requirments for tests,MERGED,2014-06-16 19:20:22.000000000,2014-06-16 19:42:00.000000000,2014-06-16 19:42:00.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 10136}]","[{'number': 1, 'created': '2014-06-16 19:20:22.000000000', 'files': ['fuelweb_test/requirements.txt'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/c47adf97135da66b9a5598976d34e46b5c0bfb56', 'message': 'Add python-neutronclient to requirments for tests\n\nImport of python-neutronclient was added to\nsystem tests by commit to fuel-main #\n5e4ae8d3f38ecbf0af3959651cbacfd40ec8f299, so\nit should be added to requirements\n\nChange-Id: I49108278e365c20bec5de5c595992fc4a68e1a07\nCloses-bug: #1330615\n'}]",0,100331,c47adf97135da66b9a5598976d34e46b5c0bfb56,9,6,1,11081,,,0,"Add python-neutronclient to requirments for tests

Import of python-neutronclient was added to
system tests by commit to fuel-main #
5e4ae8d3f38ecbf0af3959651cbacfd40ec8f299, so
it should be added to requirements

Change-Id: I49108278e365c20bec5de5c595992fc4a68e1a07
Closes-bug: #1330615
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/31/100331/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/requirements.txt'],1,c47adf97135da66b9a5598976d34e46b5c0bfb56,bug/1330615,python-neutronclient>=2.0,,1,0
openstack%2Foslo-incubator~master~Ib04401a1e8bba20fdee92cbca69ba6d1ba689c24,openstack/oslo-incubator,master,Ib04401a1e8bba20fdee92cbca69ba6d1ba689c24,Ensure options passed to update.py are sane,MERGED,2014-03-28 17:01:41.000000000,2014-06-16 19:34:44.000000000,2014-06-16 19:34:43.000000000,"[{'_account_id': 3}, {'_account_id': 1247}, {'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 7536}, {'_account_id': 7725}, {'_account_id': 8041}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-03-28 17:01:41.000000000', 'files': ['update.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/79c5dff278c232fd0c2ae7748c1ad5fb19be8492', 'message': ""Ensure options passed to update.py are sane\n\nSome of the example commands in the update.py docstring seem like\nthey should work but don't because of the way we parse the\npositional argument.  This means that specifying a list of modules\nand a positional target directory doesn't work, because the module\nlist ends up being overwritten by whatever is in the target\ndirectory openstack-common.conf.\n\nThis change checks for that situation and does the right thing.  It\nalso detects when a config file and a list of modules was explicitly\npassed to the script, which will not work as expected due to the\nbehavior above.\n\nChange-Id: Ib04401a1e8bba20fdee92cbca69ba6d1ba689c24\n""}]",2,83824,79c5dff278c232fd0c2ae7748c1ad5fb19be8492,24,8,1,6928,,,0,"Ensure options passed to update.py are sane

Some of the example commands in the update.py docstring seem like
they should work but don't because of the way we parse the
positional argument.  This means that specifying a list of modules
and a positional target directory doesn't work, because the module
list ends up being overwritten by whatever is in the target
directory openstack-common.conf.

This change checks for that situation and does the right thing.  It
also detects when a config file and a list of modules was explicitly
passed to the script, which will not work as expected due to the
behavior above.

Change-Id: Ib04401a1e8bba20fdee92cbca69ba6d1ba689c24
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/24/83824/1 && git format-patch -1 --stdout FETCH_HEAD,['update.py'],1,79c5dff278c232fd0c2ae7748c1ad5fb19be8492,update-sanity," if not (conf.module or conf.modules): conf(argv + ['--config-file', config_file]) elif os.path.isdir(conf.configfile_or_destdir): conf(argv + ['--dest-dir', conf.configfile_or_destdir]) else: print('Specifying a config file and a list of modules to ' 'sync will not work correctly', file=sys.stderr) sys.exit(1)"," conf(argv + ['--config-file', config_file])",8,1
openstack%2Fcookbook-openstack-integration-test~master~I95e8c01703822c4adc6d1fbf369fc6fa1115406b,openstack/cookbook-openstack-integration-test,master,I95e8c01703822c4adc6d1fbf369fc6fa1115406b,Automatic upload of needed image files to glance for tempest tests,MERGED,2014-06-13 14:01:28.000000000,2014-06-16 19:33:44.000000000,2014-06-16 19:33:44.000000000,"[{'_account_id': 3}, {'_account_id': 1032}, {'_account_id': 7128}, {'_account_id': 9884}, {'_account_id': 10068}]","[{'number': 1, 'created': '2014-06-13 14:01:28.000000000', 'files': ['recipes/setup.rb', 'attributes/default.rb', 'spec/setup_spec.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/1d5758fbeede585845246958d67eead84ded202f', 'message': 'Automatic upload of needed image files to glance for tempest tests\n\nThis change adds an automated upload of the needed (here just a standard\ncirros) images for the tempest integration tests.\n\nChange-Id: I95e8c01703822c4adc6d1fbf369fc6fa1115406b\n'}]",0,99941,1d5758fbeede585845246958d67eead84ded202f,12,5,1,11915,,,0,"Automatic upload of needed image files to glance for tempest tests

This change adds an automated upload of the needed (here just a standard
cirros) images for the tempest integration tests.

Change-Id: I95e8c01703822c4adc6d1fbf369fc6fa1115406b
",git fetch https://review.opendev.org/openstack/cookbook-openstack-integration-test refs/changes/41/99941/1 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/setup.rb', 'attributes/default.rb', 'spec/setup_spec.rb']",3,1d5758fbeede585845246958d67eead84ded202f,image_upload," it 'uploads image1' do expect(chef_run).to upload_openstack_image_image('image1').with( identity_user: 'admin', identity_pass: 'admin', identity_tenant: 'admin', identity_uri: 'http://127.0.0.1:35357/v2.0', image_name: 'cirros', image_url: 'http://download.cirros-cloud.net/0.3.2/cirros-0.3.2-x86_64-disk.img' ) end it 'uploads image2' do expect(chef_run).to upload_openstack_image_image('image2').with( identity_user: 'admin', identity_pass: 'admin', identity_tenant: 'admin', identity_uri: 'http://127.0.0.1:35357/v2.0', image_name: 'cirros', image_url: 'http://download.cirros-cloud.net/0.3.2/cirros-0.3.2-x86_64-disk.img' ) end ",,39,6
openstack%2Fironic~master~Ic6196bcc13024b914c04d35868f3d5f10e73f420,openstack/ironic,master,Ic6196bcc13024b914c04d35868f3d5f10e73f420,VendorPassthru.validate()s call _parse_driver_info,MERGED,2014-06-03 16:58:41.000000000,2014-06-16 19:22:33.000000000,2014-06-16 19:22:32.000000000,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 2889}, {'_account_id': 3099}, {'_account_id': 6618}, {'_account_id': 6623}, {'_account_id': 6773}, {'_account_id': 7711}, {'_account_id': 7882}, {'_account_id': 8106}, {'_account_id': 8125}, {'_account_id': 10239}, {'_account_id': 10343}]","[{'number': 1, 'created': '2014-06-03 16:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bdcd837c067ef57d665ad7dfbe7d5f00568c6ba4', 'message': ""VendorPassthru.validate()s call _parse_driver_info\n\nipmitool's and seamicro's VendorPassthru methods use the parameters that\ntheir _parse_driver_info() validates. Yet their VendorPassthru.validate()'s\nweren't calling _parse_driver_info() to make sure that needed parameters\nwere specified/valid.\n\nipmitool's and seamicro's VendorPassthru.validate()s now call\n _parse_driver_info().\n\nChange-Id: Ic6196bcc13024b914c04d35868f3d5f10e73f420\nCloses-Bug: #1312383\n""}, {'number': 2, 'created': '2014-06-10 19:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/609fc48290aa1fb3d74ba19f9547c9475f1ccf22', 'message': ""VendorPassthru.validate()s call _parse_driver_info\n\nipmitool's and seamicro's VendorPassthru methods use the parameters that\ntheir _parse_driver_info() validates. Yet their VendorPassthru.validate()'s\nweren't calling _parse_driver_info() to make sure that needed parameters\nwere specified/valid.\n\nipmitool's and seamicro's VendorPassthru.validate()s now call\n _parse_driver_info().\n\nChange-Id: Ic6196bcc13024b914c04d35868f3d5f10e73f420\nCloses-Bug: #1312383\n""}, {'number': 3, 'created': '2014-06-16 15:26:59.000000000', 'files': ['ironic/tests/drivers/test_ipmitool.py', 'ironic/drivers/modules/seamicro.py', 'ironic/tests/drivers/test_seamicro.py', 'ironic/drivers/modules/ipmitool.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a7d1399a4d1b178951abe317921c18a3d8fed426', 'message': ""VendorPassthru.validate()s call _parse_driver_info\n\nipmitool's and seamicro's VendorPassthru methods use the parameters that\ntheir _parse_driver_info() validates. Yet their VendorPassthru.validate()'s\nweren't calling _parse_driver_info() to make sure that needed parameters\nwere specified/valid.\n\nipmitool's and seamicro's VendorPassthru.validate()s now call\n _parse_driver_info().\n\nChange-Id: Ic6196bcc13024b914c04d35868f3d5f10e73f420\nCloses-Bug: #1312383\n""}]",0,97558,a7d1399a4d1b178951abe317921c18a3d8fed426,56,13,3,6618,,,0,"VendorPassthru.validate()s call _parse_driver_info

ipmitool's and seamicro's VendorPassthru methods use the parameters that
their _parse_driver_info() validates. Yet their VendorPassthru.validate()'s
weren't calling _parse_driver_info() to make sure that needed parameters
were specified/valid.

ipmitool's and seamicro's VendorPassthru.validate()s now call
 _parse_driver_info().

Change-Id: Ic6196bcc13024b914c04d35868f3d5f10e73f420
Closes-Bug: #1312383
",git fetch https://review.opendev.org/openstack/ironic refs/changes/58/97558/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/drivers/test_ipmitool.py', 'ironic/drivers/modules/seamicro.py', 'ironic/tests/drivers/test_seamicro.py', 'ironic/drivers/modules/ipmitool.py']",4,bdcd837c067ef57d665ad7dfbe7d5f00568c6ba4,bug/1312383, _parse_driver_info(task.node),,42,6
openstack%2Fcinder~master~Ieb5e28e3f81987ab8518b861fff885f371969a56,openstack/cinder,master,Ieb5e28e3f81987ab8518b861fff885f371969a56,LIO: Don't add ACL for local initiator name,MERGED,2014-06-10 15:44:54.000000000,2014-06-16 18:57:01.000000000,2014-06-16 18:57:00.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 4355}, {'_account_id': 4523}, {'_account_id': 6796}, {'_account_id': 8871}, {'_account_id': 10725}]","[{'number': 1, 'created': '2014-06-10 15:44:54.000000000', 'files': ['bin/cinder-rtstool'], 'web_link': 'https://opendev.org/openstack/cinder/commit/37472be084358717ec2a046147e42dc248258ee9', 'message': ""LIO: Don't add ACL for local initiator name\n\nCurrently cinder-rtstool requires /etc/iscsi/initiatorname.iscsi\nto be present in order to create a LUN/ACL/portal successfully.\nHowever, this is not required since Cinder will create the\nrequired ACLs dynamically at attach time as well.\n\nRemoving this path means that iscsi-initiator-utils no longer\nneeds to be installed locally when using a remote Nova compute\nnode.\n\nCloses-Bug: 1328580\n\nChange-Id: Ieb5e28e3f81987ab8518b861fff885f371969a56\n""}]",0,99134,37472be084358717ec2a046147e42dc248258ee9,23,8,1,4523,,,0,"LIO: Don't add ACL for local initiator name

Currently cinder-rtstool requires /etc/iscsi/initiatorname.iscsi
to be present in order to create a LUN/ACL/portal successfully.
However, this is not required since Cinder will create the
required ACLs dynamically at attach time as well.

Removing this path means that iscsi-initiator-utils no longer
needs to be installed locally when using a remote Nova compute
node.

Closes-Bug: 1328580

Change-Id: Ieb5e28e3f81987ab8518b861fff885f371969a56
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/99134/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/cinder-rtstool'],1,37472be084358717ec2a046147e42dc248258ee9,bug/1328580,,"import re initiator_name = None name_file = '/etc/iscsi/initiatorname.iscsi' try: with open(name_file, 'r') as f: for line in f: m = re.match('InitiatorName=(.+)', line) if m != None: initiator_name = m.group(1) break except IOError: raise RtstoolError(_('Could not open %s') % name_file) if initiator_name == None: raise RtstoolError(_('Could not read InitiatorName from %s') % name_file) acl_new = rtslib.NodeACL(tpg_new, initiator_name, mode='create') acl_new.chap_userid = userid acl_new.chap_password = password rtslib.MappedLUN(acl_new, lun_new.lun, lun_new.lun) ",0,25
openstack%2Fmanila~master~I3fb2dd9c0e1c292accffc934e45983cb9e12b171,openstack/manila,master,I3fb2dd9c0e1c292accffc934e45983cb9e12b171,Use Python 3.x compatible except construct,MERGED,2014-05-22 22:38:17.000000000,2014-06-16 18:56:12.000000000,2014-06-16 18:56:12.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 6593}, {'_account_id': 7534}, {'_account_id': 8851}]","[{'number': 1, 'created': '2014-05-22 22:38:17.000000000', 'files': ['manila/api/contrib/share_actions.py', 'manila/tests/test_migrations.py', 'manila/wsgi.py', 'manila/scheduler/scheduler_options.py', 'manila/tests/api/v1/test_limits.py', 'manila/share/drivers/lvm.py', 'manila/exception.py', 'manila/utils.py', 'manila/db/sqlalchemy/session.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/f1f0cb64b20fe1287fdb35ff02fc163a72822940', 'message': 'Use Python 3.x compatible except construct\n\nexcept x,y: can be rewritten as except x as y: which\nworks with all Python versions >= 2.6\n\nChange-Id: I3fb2dd9c0e1c292accffc934e45983cb9e12b171\n'}]",0,95031,f1f0cb64b20fe1287fdb35ff02fc163a72822940,22,5,1,6593,,,0,"Use Python 3.x compatible except construct

except x,y: can be rewritten as except x as y: which
works with all Python versions >= 2.6

Change-Id: I3fb2dd9c0e1c292accffc934e45983cb9e12b171
",git fetch https://review.opendev.org/openstack/manila refs/changes/31/95031/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/api/contrib/share_actions.py', 'manila/tests/test_migrations.py', 'manila/wsgi.py', 'manila/scheduler/scheduler_options.py', 'manila/tests/api/v1/test_limits.py', 'manila/share/drivers/lvm.py', 'manila/exception.py', 'manila/utils.py', 'manila/db/sqlalchemy/session.py']",9,f1f0cb64b20fe1287fdb35ff02fc163a72822940,pep8, except dbapi_conn.OperationalError as ex: except OperationalError as e: except OperationalError as e:," except dbapi_conn.OperationalError, ex: except OperationalError, e: except OperationalError, e:",15,15
openstack%2Fopenstack-manuals~master~Ib9d1b13d8d303a737d3aec8cefb0a11b2513dd58,openstack/openstack-manuals,master,Ib9d1b13d8d303a737d3aec8cefb0a11b2513dd58,Add oslo.db link to the documentation,MERGED,2014-05-30 10:03:00.000000000,2014-06-16 18:50:18.000000000,2014-06-16 18:50:18.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 6849}, {'_account_id': 7491}, {'_account_id': 7923}]","[{'number': 1, 'created': '2014-05-30 10:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/3619dca0a7a96bfc61b71c0a3d0429aed3128096', 'message': 'Add oslo.db link to the documentation\n\noslo.db going to became a separate library, so we should add required\nlink to the oslo developers documentation.\n\nblueprint oslo-db-lib\n\nChange-Id: Ib9d1b13d8d303a737d3aec8cefb0a11b2513dd58\n'}, {'number': 2, 'created': '2014-05-30 12:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/bccd7a0e78b83f0dd09c7322b60924ed30335b21', 'message': 'Add oslo.db link to the documentation\n\noslo.db has been graduated from oslo-incubator, so we should add\nrequired link to the oslo developers documentation.\n\nblueprint oslo-db-lib\n\nChange-Id: Ib9d1b13d8d303a737d3aec8cefb0a11b2513dd58\n'}, {'number': 3, 'created': '2014-06-06 15:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a6be4dd6cdc253f093fc52e4d52c4626ba71e36d', 'message': 'Add oslo.db link to the documentation\n\noslo.db has been graduated from oslo-incubator, so we should add\nrequired link to the oslo developers documentation.\n\nblueprint oslo-db-lib\n\nChange-Id: Ib9d1b13d8d303a737d3aec8cefb0a11b2513dd58\n'}, {'number': 4, 'created': '2014-06-10 19:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/0fd154a46607199aa5cea8ef14a15a0a09254918', 'message': 'Add oslo.db link to the documentation\n\noslo.db has been graduated from oslo-incubator, so we should add\nrequired link to the oslo developers documentation.\n\nblueprint oslo-db-lib\n\nChange-Id: Ib9d1b13d8d303a737d3aec8cefb0a11b2513dd58\n'}, {'number': 5, 'created': '2014-06-16 07:31:41.000000000', 'files': ['www/developer/openstack-projects.html'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/0dc7b6a557a128e09ddef6560a7a87537ebd8920', 'message': 'Add oslo.db link to the documentation\n\noslo.db has been graduated from oslo-incubator, so we should add\nrequired link to the oslo developers documentation.\n\nblueprint oslo-db-lib\n\nChange-Id: Ib9d1b13d8d303a737d3aec8cefb0a11b2513dd58\n'}]",4,96707,0dc7b6a557a128e09ddef6560a7a87537ebd8920,33,7,5,7491,,,0,"Add oslo.db link to the documentation

oslo.db has been graduated from oslo-incubator, so we should add
required link to the oslo developers documentation.

blueprint oslo-db-lib

Change-Id: Ib9d1b13d8d303a737d3aec8cefb0a11b2513dd58
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/07/96707/5 && git format-patch -1 --stdout FETCH_HEAD,['www/developer/openstack-projects.html'],1,3619dca0a7a96bfc61b71c0a3d0429aed3128096,bp/oslo-db-lib," href=""http://docs.openstack.org/developer/oslo.db/"" >oslo.db</a>&mdash;Provides different helpers for work with database and SQLA tools.</dd> <dd><a",,4,0
openstack%2Fopenstack-manuals~master~Ia0db1dfd4ccd47845333acbc6000330c83c985fb,openstack/openstack-manuals,master,Ia0db1dfd4ccd47845333acbc6000330c83c985fb,Fix cinder Debian install procedure,MERGED,2014-06-02 06:46:35.000000000,2014-06-16 18:46:06.000000000,2014-06-16 18:46:05.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 2448}, {'_account_id': 6476}, {'_account_id': 6772}]","[{'number': 1, 'created': '2014-06-02 06:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8dfd3254fa6d49309eb21d665b0b6717edfb9b80', 'message': 'Fix cinder Debian install procedure\n\nThis patch adds links to the ""Respond to the prompts for"" steps,\nand removes the manual edition of cinder.conf for the\nkeystone_authtoken (as this is handled by Debconf).\n\nChange-Id: Ia0db1dfd4ccd47845333acbc6000330c83c985fb\nBackport: icehouse\n'}, {'number': 2, 'created': '2014-06-02 08:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/dd92ee90c9041a586f04c33d48fbbf5b5eb42784', 'message': 'Fix cinder Debian install procedure\n\nThis patch adds links to the ""Respond to the prompts for"" steps,\nand removes the manual edition of cinder.conf for the\nkeystone_authtoken (as this is handled by Debconf).\n\nChange-Id: Ia0db1dfd4ccd47845333acbc6000330c83c985fb\nBackport: icehouse\n'}, {'number': 3, 'created': '2014-06-15 06:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a2c486f0357ff604301ccca272252c2cb14a67a9', 'message': 'Fix cinder Debian install procedure\n\nThis patch adds links to the ""Respond to the prompts for"" steps,\nand removes the manual edition of cinder.conf for the\nkeystone_authtoken (as this is handled by Debconf).\n\nChange-Id: Ia0db1dfd4ccd47845333acbc6000330c83c985fb\nBackport: icehouse\n'}, {'number': 4, 'created': '2014-06-15 08:27:35.000000000', 'files': ['doc/install-guide/section_cinder-node.xml', 'doc/install-guide/section_cinder-controller.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4a1ad2d7e8d481478c54e98d951721ada1f227a6', 'message': 'Fix cinder Debian install procedure\n\nThis patch adds links to the ""Respond to the prompts for"" steps,\nand removes the manual edition of cinder.conf for the\nkeystone_authtoken (as this is handled by Debconf).\n\nChange-Id: Ia0db1dfd4ccd47845333acbc6000330c83c985fb\nBackport: icehouse\n'}]",2,97158,4a1ad2d7e8d481478c54e98d951721ada1f227a6,24,5,4,6476,,,0,"Fix cinder Debian install procedure

This patch adds links to the ""Respond to the prompts for"" steps,
and removes the manual edition of cinder.conf for the
keystone_authtoken (as this is handled by Debconf).

Change-Id: Ia0db1dfd4ccd47845333acbc6000330c83c985fb
Backport: icehouse
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/58/97158/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/install-guide/section_cinder-node.xml', 'doc/install-guide/section_cinder-controller.xml']",2,8dfd3254fa6d49309eb21d665b0b6717edfb9b80,debian-cinder-icehouse-fix," <para>Respond to the prompts for <link linkend=""debconf-dbconfig-common"">database management</link>, <link linkend=""debconf-keystone_authtoken"" ><literal>[keystone_authtoken]</literal> settings</link>, <link linkend=""debconf-rabbitqm"">RabbitMQ credentials</link>, and <link linkend=""debconf-api-endpoints"" >API endpoint</link> registration.</para> <para os=""ubuntu"">Edit the"," <para>Respond to the prompts for database management, <literal>[keystone_authtoken]</literal> settings, RabbitMQ credentials and API endpoint registration.</para> <para os=""ubuntu;debian"">Edit the",10,5
openstack%2Fapi-site~master~Ia6d546db7386acb0add2fce7bc258a1e05c6ae0c,openstack/api-site,master,Ia6d546db7386acb0add2fce7bc258a1e05c6ae0c,WADL clean-up -,MERGED,2014-06-11 20:04:47.000000000,2014-06-16 18:44:22.000000000,2014-06-16 18:44:22.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 964}]","[{'number': 1, 'created': '2014-06-11 20:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/4ef6416bb4f15c3e89de32b8dad93308d087bcea', 'message': 'WADL clean-up -\n\nSome WADLs are missing the {tenant_id}, so I added it.\nSome WADLs had misplaced request parameters, so I moved them.\n\nChange-Id: Ia6d546db7386acb0add2fce7bc258a1e05c6ae0c\nauthor: diane fleming\n'}, {'number': 2, 'created': '2014-06-11 20:06:07.000000000', 'files': ['api-ref/src/wadls/image-api/src/v2/os-image-v2.wadl', 'api-ref/src/wadls/netconn-api/src/metering-labels.wadl', 'api-ref/src/wadls/netconn-api/src/os-layer3-ext.wadl', 'api-ref/src/wadls/netconn-api/src/os-ports-binding-ext.wadl', 'api-ref/src/wadls/compute-api/src/v2/ext/os-disk-config.wadl', 'api-ref/src/wadls/compute-api/src/v2/ext/os-multi-server-create.wadl', 'api-ref/src/wadls/image-api/src/v1/os-image-1.0.wadl', 'api-ref/src/wadls/compute-api/src/v2/ext/os-createserverext.wadl', 'pom.xml', 'api-ref/src/wadls/netconn-api/src/os-ports.wadl', 'api-ref/src/wadls/netconn-api/src/os-networks.wadl', 'api-ref/src/wadls/compute-api/src/v2/ext/os-block-device-mapping-v2-boot.wadl', 'api-ref/src/wadls/netconn-api/src/os-lbaas-ext.wadl', 'api-ref/src/wadls/netconn-api/src/security-groups.wadl', 'api-ref/src/wadls/compute-api/src/v2/common.ent', 'api-ref/src/wadls/netconn-api/src/os-quotas.wadl', 'api-ref/src/wadls/compute-api/src/v2/ext/os-server-OS-EXT-IPS-MAC.wadl', 'api-ref/src/wadls/identity-api/src/v2.0/wadl/HP-IDM-admin.wadl', 'api-ref/src/wadls/compute-api/src/v2/wadl/os-compute-2.wadl', 'api-ref/src/wadls/netconn-api/src/os-subnets.wadl', 'api-ref/src/wadls/telemetry-api/src/v2/os-telemetry-api-2.0.wadl', 'api-ref/src/wadls/netconn-api/src/os-networks-multi-provider-ext.wadl', 'api-ref/src/wadls/compute-api/src/v2/ext/os-scheduler-hints.wadl', 'api-ref/src/wadls/netconn-api/src/os-networks-provider-ext.wadl'], 'web_link': 'https://opendev.org/openstack/api-site/commit/2ebc89ee6421a11a0db64558ca7bcda344b5c677', 'message': 'WADL clean-up -\n\nSome WADLs are missing the {tenant_id}, so I added it.\nSome WADLs had misplaced request parameters, so I moved them.\n\nChange-Id: Ia6d546db7386acb0add2fce7bc258a1e05c6ae0c\nauthor: diane fleming\n'}]",0,99469,2ebc89ee6421a11a0db64558ca7bcda344b5c677,12,3,2,2448,,,0,"WADL clean-up -

Some WADLs are missing the {tenant_id}, so I added it.
Some WADLs had misplaced request parameters, so I moved them.

Change-Id: Ia6d546db7386acb0add2fce7bc258a1e05c6ae0c
author: diane fleming
",git fetch https://review.opendev.org/openstack/api-site refs/changes/69/99469/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/src/wadls/image-api/src/v2/os-image-v2.wadl', 'api-ref/src/wadls/netconn-api/src/metering-labels.wadl', 'api-ref/src/wadls/netconn-api/src/os-layer3-ext.wadl', 'api-ref/src/wadls/netconn-api/src/os-ports-binding-ext.wadl', 'api-ref/src/wadls/compute-api/src/v2/ext/os-disk-config.wadl', 'api-ref/src/wadls/compute-api/src/v2/ext/os-multi-server-create.wadl', 'api-ref/src/wadls/image-api/src/v1/os-image-1.0.wadl', 'api-ref/src/wadls/compute-api/src/v2/ext/os-createserverext.wadl', 'pom.xml', 'api-ref/src/wadls/netconn-api/src/os-ports.wadl', 'api-ref/src/wadls/netconn-api/src/os-networks.wadl', 'api-ref/src/wadls/compute-api/src/v2/ext/os-block-device-mapping-v2-boot.wadl', 'api-ref/src/wadls/netconn-api/src/os-lbaas-ext.wadl', 'api-ref/src/wadls/netconn-api/src/security-groups.wadl', 'api-ref/src/wadls/compute-api/src/v2/common.ent', 'api-ref/src/wadls/netconn-api/src/os-quotas.wadl', 'api-ref/src/wadls/compute-api/src/v2/ext/os-server-OS-EXT-IPS-MAC.wadl', 'api-ref/src/wadls/identity-api/src/v2.0/wadl/HP-IDM-admin.wadl', 'api-ref/src/wadls/compute-api/src/v2/wadl/os-compute-2.wadl', 'api-ref/src/wadls/netconn-api/src/os-subnets.wadl', 'api-ref/src/wadls/telemetry-api/src/v2/os-telemetry-api-2.0.wadl', 'api-ref/src/wadls/netconn-api/src/os-networks-multi-provider-ext.wadl', 'api-ref/src/wadls/compute-api/src/v2/ext/os-scheduler-hints.wadl', 'api-ref/src/wadls/netconn-api/src/os-networks-provider-ext.wadl']",24,4ef6416bb4f15c3e89de32b8dad93308d087bcea,fix-wadls," <resource id=""tenant_id"" path=""{tenant_id}""> <param name=""tenant_id"" style=""template"" type=""xsd:string""> <wadl:doc xmlns=""http://docbook.org/ns/docbook"" xml:lang=""EN""><para>The ID for the tenant or account in a multi-tenancy cloud.</para></wadl:doc> </param> <resource id=""Networks"" path=""networks""> <method href=""#listNetworks""/> <method href=""#createNetwork""/> <resource path=""{network_id}"" id=""network_id""> <param name=""network_id"" style=""template"" type=""csapi:UUID""> <wadl:doc xmlns=""http://docbook.org/ns/docbook"" xml:lang=""EN""><para>The UUID for the network of interest to you.</para></wadl:doc> </param> <method href=""#showNetwork""/> <method href=""#updateNetwork""/> <method href=""#deleteNetwork""/> </resource> <request> &networkCreateParameters; &networkProviderParameters; <representation"," <resource id=""Networks"" path=""networks""> <method href=""#listNetworks""/> <method href=""#createNetwork""/> <resource path=""{network_id}"" id=""network_id""> <param name=""network_id"" style=""template"" type=""csapi:UUID""> <wadl:doc xmlns=""http://docbook.org/ns/docbook"" xml:lang=""EN""><para>The UUID for the network of interest to you.</para></wadl:doc> </param> <method href=""#showNetwork""/> <method href=""#updateNetwork""/> <method href=""#deleteNetwork""/> <request> &networkCreateParameters; &networkProviderParameters; <representation",485,359
openstack%2Fceilometer~master~I82eea5c2f3ec0a8c5f33307d41df45111788c50f,openstack/ceilometer,master,I82eea5c2f3ec0a8c5f33307d41df45111788c50f,Fix ceilometer.alarm.notifier.trust import,MERGED,2014-06-08 17:09:36.000000000,2014-06-16 18:38:55.000000000,2014-06-16 18:38:55.000000000,"[{'_account_id': 3}, {'_account_id': 3012}, {'_account_id': 4715}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 6924}, {'_account_id': 7729}, {'_account_id': 7763}, {'_account_id': 7923}, {'_account_id': 8871}, {'_account_id': 9562}]","[{'number': 1, 'created': '2014-06-08 17:09:36.000000000', 'files': ['ceilometer/alarm/notifier/trust.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/0e437543283f4b96f2e6837df93962c1475a236e', 'message': 'Fix ceilometer.alarm.notifier.trust import\n\nImport ceilometer.alarm.notifier.rest instead of\nceilometer.alarm.notifier to be able to use the rest module.\n\nChange-Id: I82eea5c2f3ec0a8c5f33307d41df45111788c50f\nCloses-Bug: #1327818\n'}]",0,98649,0e437543283f4b96f2e6837df93962c1475a236e,30,11,1,7923,,,0,"Fix ceilometer.alarm.notifier.trust import

Import ceilometer.alarm.notifier.rest instead of
ceilometer.alarm.notifier to be able to use the rest module.

Change-Id: I82eea5c2f3ec0a8c5f33307d41df45111788c50f
Closes-Bug: #1327818
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/49/98649/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/alarm/notifier/trust.py'],1,0e437543283f4b96f2e6837df93962c1475a236e,alarm-rest-import,from ceilometer.alarm.notifier import rest class TrustRestAlarmNotifier(rest.RestAlarmNotifier): rest.RestAlarmNotifier.notify(,from ceilometer.alarm import notifier class TrustRestAlarmNotifier(notifier.rest.RestAlarmNotifier): notifier.rest.RestAlarmNotifier.notify(,3,3
openstack%2Fkeystone~master~I560daa843b94a05412af59a059de5a98bad2925e,openstack/keystone,master,I560daa843b94a05412af59a059de5a98bad2925e,Password trunction makes password insecure,MERGED,2014-03-01 02:59:09.000000000,2014-06-16 18:38:52.000000000,2014-06-16 18:38:51.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 792}, {'_account_id': 1916}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 5707}, {'_account_id': 6460}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 7725}, {'_account_id': 7805}, {'_account_id': 8871}, {'_account_id': 9098}, {'_account_id': 9569}, {'_account_id': 9751}, {'_account_id': 10327}, {'_account_id': 10873}, {'_account_id': 11045}, {'_account_id': 11387}]","[{'number': 1, 'created': '2014-03-01 02:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c63c5113414d559f961cafcfe52a53c445590e19', 'message': ""Password trunction makes password insecure\n\nThe trunc_password function attempts to correct and truncate passwords\nthat are over the MAX_PASSWORD_LENGTH value (default 4096). As the\nMAX_PASSWORD_LENGTH field is globally mutable it could be modified\nto restrict all passwords to length = 1. This scenario might be unlikely\nbut generally speaking we should not try to 'fix' invalid input and\ncontinue on processing and logging it.\n\nChange-Id: I560daa843b94a05412af59a059de5a98bad2925e\nCloses-Bug: #1175904\n""}, {'number': 2, 'created': '2014-03-01 07:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b8abff6c32aa1ff546c4168ea30ae8996f7430c3', 'message': ""Password trunction makes password insecure\n\nThe trunc_password function attempts to correct and truncate passwords\nthat are over the MAX_PASSWORD_LENGTH value (default 4096). As the\nMAX_PASSWORD_LENGTH field is globally mutable it could be modified\nto restrict all passwords to length = 1. This scenario might be unlikely\nbut generally speaking we should not try to 'fix' invalid input and\ncontinue on processing and logging it.\n\nChange-Id: I560daa843b94a05412af59a059de5a98bad2925e\nCloses-Bug: #1175904\n""}, {'number': 3, 'created': '2014-03-05 07:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2070950ef6e52ea1d2c1b4667d3b302a834fbd8d', 'message': ""Password trunction makes password insecure\n\nThe trunc_password function attempts to correct and truncate passwords\nthat are over the MAX_PASSWORD_LENGTH value (default 4096). As the\nMAX_PASSWORD_LENGTH field is globally mutable it could be modified\nto restrict all passwords to length = 1. This scenario might be unlikely\nbut generally speaking we should not try to 'fix' invalid input and\ncontinue on processing and logging it.\n\nChange-Id: I560daa843b94a05412af59a059de5a98bad2925e\nCloses-Bug: #1175904\n""}, {'number': 4, 'created': '2014-04-05 17:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ace8e3f674350e1f5b7b863fa9acd37f88f4a3f4', 'message': ""Password trunction makes password insecure\n\nThe trunc_password function attempts to correct and truncate password.\nIt is not recommended to 'fix' invalid input and continue on processing\nand logging it. Instead, strict check is introduced to validate password.\nIf a password exceeds the maximum length, a ValidationError is thrown.\n\nIn order to keep compatibility, an option 'strict_password_length' is also\nintroduced to let operator decide which method to use.\n\nDocImpact\nChange-Id: I560daa843b94a05412af59a059de5a98bad2925e\nCloses-Bug: #1175904\n""}, {'number': 5, 'created': '2014-04-10 09:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f60f2858d0b654d372705dd75ea5a26147a286c0', 'message': ""Password trunction makes password insecure\n\nThe trunc_password function attempts to correct and truncate password.\nIt is not recommended to 'fix' invalid input and continue on processing\nand logging it. Instead, strict check is introduced to validate password.\nIf a password exceeds the maximum length, a ValidationError is thrown.\n\nIn order to keep compatibility, an option 'strict_password_length' is also\nintroduced to let operator decide which method to use.\n\nDocImpact\nChange-Id: I560daa843b94a05412af59a059de5a98bad2925e\nCloses-Bug: #1175904\n""}, {'number': 6, 'created': '2014-04-13 11:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7c8690e9d8f7a7d1897f2d42421d027657a462f6', 'message': ""Password trunction makes password insecure\n\nThe trunc_password function attempts to correct and truncate password.\nIt is not recommended to 'fix' invalid input and continue on processing\nand logging it. Instead, strict check is introduced to validate password.\nIf a password exceeds the maximum length, a ValidationError is thrown.\n\nIn order to keep compatibility, an option 'strict_password_length' is also\nintroduced to let operator decide which method to use.\n\nDocImpact\nChange-Id: I560daa843b94a05412af59a059de5a98bad2925e\nCloses-Bug: #1175904\n""}, {'number': 7, 'created': '2014-04-13 13:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cc847f146c3e3369a7cce77d290df4d60a8858ac', 'message': ""Password trunction makes password insecure\n\nThe trunc_password function attempts to correct and truncate password.\nIt is not recommended to 'fix' invalid input and continue on processing\nand logging it. Instead, strict check is introduced to validate password.\nIf a password exceeds the maximum length, a ValidationError is thrown.\n\nIn order to keep compatibility, an option 'strict_password_length' is also\nintroduced to let operator decide which method to use.\n\nDocImpact\nChange-Id: I560daa843b94a05412af59a059de5a98bad2925e\nCloses-Bug: #1175904\n""}, {'number': 8, 'created': '2014-04-16 05:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ccc165a1d080df8fd11820be877eb14775ad36e0', 'message': ""Password trunction makes password insecure\n\nThe trunc_password function attempts to correct and truncate password.\nIt is not recommended to 'fix' invalid input and continue on processing\nand logging it. Instead, strict check is introduced to validate password.\nIf a password exceeds the maximum length, a ValidationError is thrown.\n\nIn order to keep compatibility, an option 'strict_password_length' is also\nintroduced to let operator decide which method to use.\n\nDocImpact\nChange-Id: I560daa843b94a05412af59a059de5a98bad2925e\nCloses-Bug: #1175904\n""}, {'number': 9, 'created': '2014-04-17 02:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3123d094160f67770d3df674ba9a751f87f4568e', 'message': ""Password trunction makes password insecure\n\nThe trunc_password function attempts to correct and truncate password.\nIt is not recommended to 'fix' invalid input and continue on processing\nand logging it. Instead, strict check is introduced to validate password.\nIf a password exceeds the maximum length, a ValidationError is thrown.\n\nIn order to keep compatibility, an option 'strict_password_length' is also\nintroduced to let operator decide which method to use.\n\nDocImpact\nChange-Id: I560daa843b94a05412af59a059de5a98bad2925e\nCloses-Bug: #1175904\n""}, {'number': 10, 'created': '2014-04-20 02:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/64cda84f1c5a7e63b0cea8ad474d20d951810928', 'message': ""Password trunction makes password insecure\n\nThe trunc_password function attempts to correct and truncate password.\nIt is not recommended to 'fix' invalid input and continue on processing\nand logging it. Instead, strict check is introduced to validate password.\nIf a password exceeds the maximum length, a ValidationError is thrown.\n\nIn order to keep compatibility, an option 'strict_password_length' is also\nintroduced to let operator decide which method to use.\n\nDocImpact\nChange-Id: I560daa843b94a05412af59a059de5a98bad2925e\nCloses-Bug: #1175904\n""}, {'number': 11, 'created': '2014-04-22 04:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/147118a6a485ee0f5a51322ee201e806be3d3879', 'message': ""Password trunction makes password insecure\n\nThe trunc_password function attempts to correct and truncate password.\nIt is not recommended to 'fix' invalid input and continue on processing\nand logging it. Instead, strict check is introduced to validate password.\nIf a password exceeds the maximum length, a ValidationError is thrown.\n\nIn order to keep compatibility, an option 'strict_password_length' is also\nintroduced to let operator decide which method to use.\n\nDocImpact\nChange-Id: I560daa843b94a05412af59a059de5a98bad2925e\nCloses-Bug: #1175904\n""}, {'number': 12, 'created': '2014-04-23 11:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8a73654eca67660114fa1eb3200c94de5a42956e', 'message': ""Password trunction makes password insecure\n\nThe trunc_password function attempts to correct and truncate password.\nIt is not recommended to 'fix' invalid input and continue on processing\nand logging it. Instead, strict check is introduced to validate password.\nIf a password exceeds the maximum length, a ValidationError is thrown.\n\nIn order to keep compatibility, an option 'strict_password_length' is also\nintroduced to let operator decide which method to use.\n\nDocImpact\nChange-Id: I560daa843b94a05412af59a059de5a98bad2925e\nCloses-Bug: #1175904\n""}, {'number': 13, 'created': '2014-04-26 11:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6556a90775979eb1020e153684173427c1a06816', 'message': ""Password trunction makes password insecure\n\nThe trunc_password function attempts to correct and truncate password.\nIt is not recommended to 'fix' invalid input and continue on processing\nand logging it. Instead, strict check is introduced to validate password.\nIf a password exceeds the maximum length, a ValidationError is thrown.\n\nIn order to keep compatibility, an option 'strict_password_length' is also\nintroduced to let operator decide which method to use.\n\nDocImpact\nChange-Id: I560daa843b94a05412af59a059de5a98bad2925e\nCloses-Bug: #1175904\n""}, {'number': 14, 'created': '2014-05-04 08:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e4bb7be4b4c6a83e53c53d7df410f566ec8eca36', 'message': ""Password trunction makes password insecure\n\nThe trunc_password function attempts to correct and truncate password.\nIt is not recommended to 'fix' invalid input and continue on processing\nand logging it. Instead, strict check is introduced to validate password.\nIf a password exceeds the maximum length, a ValidationError is thrown.\n\nIn order to keep compatibility, an option 'strict_password_length' is also\nintroduced to let operator decide which method to use.\n\nDocImpact\nChange-Id: I560daa843b94a05412af59a059de5a98bad2925e\nCloses-Bug: #1175904\n""}, {'number': 15, 'created': '2014-05-06 01:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/90d711cfb2e87c6edcdc49fb58a8a50d63c201d1', 'message': ""Password trunction makes password insecure\n\nThe trunc_password function attempts to correct and truncate password.\nIt is not recommended to 'fix' invalid input and continue on processing\nand logging it. Instead, strict check is introduced to validate password.\nIf a password exceeds the maximum length, a ValidationError is thrown.\n\nIn order to keep compatibility, an option 'strict_password_length' is also\nintroduced to let operator decide which method to use.\n\nDocImpact\nChange-Id: I560daa843b94a05412af59a059de5a98bad2925e\nCloses-Bug: #1175904\n""}, {'number': 16, 'created': '2014-05-08 05:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/037af8305f7cc6412b95cae8835cde1a12997110', 'message': ""Password trunction makes password insecure\n\nThe trunc_password function attempts to correct and truncate password.\nIt is not recommended to 'fix' invalid input and continue on processing\nand logging it. Instead, strict check is introduced to validate password.\nIf a password exceeds the maximum length, a ValidationError is thrown.\n\nIn order to keep compatibility, an option 'strict_password_length' is also\nintroduced to let operator decide which method to use.\n\nDocImpact\nChange-Id: I560daa843b94a05412af59a059de5a98bad2925e\nCloses-Bug: #1175904\n""}, {'number': 17, 'created': '2014-05-28 07:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/331b68ffd62b522b37f57000b7463175fb08b9cb', 'message': ""Password trunction makes password insecure\n\nThe trunc_password function attempts to correct and truncate password.\nIt is not recommended to 'fix' invalid input and continue on processing\nand logging it. Instead, strict check is introduced to validate password.\nIf a password exceeds the maximum length, a 403 Forbidden Error is thrown.\n\nIn order to keep compatibility, an option 'strict_password_length' is also\nintroduced to let operator decide which method to use.\n\nDocImpact\nChange-Id: I560daa843b94a05412af59a059de5a98bad2925e\nCloses-Bug: #1175904\n""}, {'number': 18, 'created': '2014-06-13 02:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6928c233a4bccb5471a38e10edcd0612f89a7ce9', 'message': ""Password trunction makes password insecure\n\nThe trunc_password function attempts to correct and truncate password.\nIt is not recommended to 'fix' invalid input and continue on processing\nand logging it. Instead, strict check is introduced to validate password.\nIf a password exceeds the maximum length, a 403 Forbidden Error is thrown.\n\nIn order to keep compatibility, an option 'strict_password_length' is also\nintroduced to let operator decide which method to use.\n\nDocImpact\nChange-Id: I560daa843b94a05412af59a059de5a98bad2925e\nCloses-Bug: #1175904\n""}, {'number': 19, 'created': '2014-06-13 04:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d5d284688059daf1401a9305e312a229cc802a1c', 'message': ""Password trunction makes password insecure\n\nThe trunc_password function attempts to correct and truncate\npassword. It is not recommended to 'fix' invalid input and\ncontinue on processing and logging it. Instead, strict check\nis introduced to validate password. If a password exceeds the\nmaximum length, an HTTP 403 Forbidden error is thrown.\n\nIn order to keep compatibility, an option 'strict_password_check'\nis also introduced to let operator decide which method to use.\n\nDocImpact\nChange-Id: I560daa843b94a05412af59a059de5a98bad2925e\nCloses-Bug: #1175904\n""}, {'number': 20, 'created': '2014-06-14 04:25:17.000000000', 'files': ['etc/keystone.conf.sample', 'keystone/common/config.py', 'keystone/exception.py', 'keystone/tests/test_utils.py', 'keystone/common/utils.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/94a2053cd05cabee2e4233ef33e1f116201d9368', 'message': ""Password trunction makes password insecure\n\nThe trunc_password function attempts to correct and truncate\npassword. It is not recommended to 'fix' invalid input and\ncontinue on processing and logging it. Instead, strict check\nis introduced to validate password. If a password exceeds the\nmaximum length, an HTTP 403 Forbidden error is thrown.\n\nIn order to keep compatibility, an option 'strict_password_check'\nis also introduced to let operator decide which method to use.\n\nDocImpact\nChange-Id: I560daa843b94a05412af59a059de5a98bad2925e\nCloses-Bug: #1175904\n""}]",82,77325,94a2053cd05cabee2e4233ef33e1f116201d9368,183,22,20,7805,,,0,"Password trunction makes password insecure

The trunc_password function attempts to correct and truncate
password. It is not recommended to 'fix' invalid input and
continue on processing and logging it. Instead, strict check
is introduced to validate password. If a password exceeds the
maximum length, an HTTP 403 Forbidden error is thrown.

In order to keep compatibility, an option 'strict_password_check'
is also introduced to let operator decide which method to use.

DocImpact
Change-Id: I560daa843b94a05412af59a059de5a98bad2925e
Closes-Bug: #1175904
",git fetch https://review.opendev.org/openstack/keystone refs/changes/25/77325/20 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/utils.py'],1,c63c5113414d559f961cafcfe52a53c445590e19,bug/1175904,"def verify_password_length(password): """"""Verify the max_length of the password."""""" _('User password length exceeds the max_length ' 'to %s characters.'), (len(password) - max_length)) # Truncate the password will make it insecure. # Just return the original password and log it. return password password_utf8 = verify_password_length(password).encode('utf-8') password_utf8 = verify_password_length(password).encode('utf-8') password_utf8 = verify_password_length(password).encode('utf-8') password_utf8 = verify_password_length(password).encode('utf-8')","def trunc_password(password): """"""Truncate passwords to the max_length."""""" _('Truncating user password to %s characters.'), max_length) return password[:max_length] password_utf8 = trunc_password(password).encode('utf-8') password_utf8 = trunc_password(password).encode('utf-8') password_utf8 = trunc_password(password).encode('utf-8') password_utf8 = trunc_password(password).encode('utf-8')",11,8
openstack%2Foslo.db~master~Ic0aaf26e76f68adc48f7ed58fd4c7e9e87648005,openstack/oslo.db,master,Ic0aaf26e76f68adc48f7ed58fd4c7e9e87648005,Fix kwarg passed twice error in EngineFacade.from_config(),MERGED,2014-06-16 10:05:31.000000000,2014-06-16 18:38:49.000000000,2014-06-16 18:38:49.000000000,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 6849}, {'_account_id': 6928}, {'_account_id': 7491}, {'_account_id': 7536}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-06-16 10:05:31.000000000', 'files': ['tests/sqlalchemy/test_sqlalchemy.py', 'oslo/db/sqlalchemy/session.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/5c1d5c81c98ab9ea3d598041868fa8036a864556', 'message': ""Fix kwarg passed twice error in EngineFacade.from_config()\n\nslave_connection keyword argument is passed to EngineFacade init\ntwice: the first time in code explicitly, and the second time when\nCONF.database options are unpacked. Actually, it's better to pass\nall the arguments explicitly rather than rely on the fact that\nargument names correspond to database options names (now they are\ntightly coupled).\n\nCloses-Bug: #1330426\n\nChange-Id: Ic0aaf26e76f68adc48f7ed58fd4c7e9e87648005\n""}]",1,100209,5c1d5c81c98ab9ea3d598041868fa8036a864556,14,7,1,6849,,,0,"Fix kwarg passed twice error in EngineFacade.from_config()

slave_connection keyword argument is passed to EngineFacade init
twice: the first time in code explicitly, and the second time when
CONF.database options are unpacked. Actually, it's better to pass
all the arguments explicitly rather than rely on the fact that
argument names correspond to database options names (now they are
tightly coupled).

Closes-Bug: #1330426

Change-Id: Ic0aaf26e76f68adc48f7ed58fd4c7e9e87648005
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/09/100209/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo/db/sqlalchemy/session.py', 'tests/sqlalchemy/test_sqlalchemy.py']",2,5c1d5c81c98ab9ea3d598041868fa8036a864556,fix_kwarg_passed_twice,"from oslo.config import cfgfrom oslo.db import options as db_options conf = cfg.ConfigOpts() conf.register_opts(db_options.database_opts, group='database') overrides = { 'connection': 'sqlite:///:memory:', 'slave_connection': None, 'connection_debug': 100, 'max_pool_size': 10, 'mysql_sql_mode': 'TRADITIONAL', } for optname, optvalue in overrides.items(): conf.set_override(optname, optvalue, group='database')"," conf = mock.MagicMock() conf.database.connection = 'sqlite:///:memory:' conf.database.slave_connection = None conf.database.items.return_value = [ ('connection_debug', 100), ('max_pool_size', 10), ('mysql_sql_mode', 'TRADITIONAL'), ] conf.database.items.assert_called_once_with()",24,10
openstack%2Fapi-site~master~I71765759b558fbfd283a227876638684c2659116,openstack/api-site,master,I71765759b558fbfd283a227876638684c2659116,"Fix bug Image, Flavors and Image metadata api is wrong",MERGED,2014-06-13 18:42:28.000000000,2014-06-16 18:34:40.000000000,2014-06-16 18:34:39.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 2448}, {'_account_id': 6547}, {'_account_id': 8932}, {'_account_id': 11022}]","[{'number': 1, 'created': '2014-06-13 18:42:28.000000000', 'files': ['api-ref/src/wadls/compute-api/src/v2/wadl/os-compute-2.wadl'], 'web_link': 'https://opendev.org/openstack/api-site/commit/cc449ce86fe0348c2458074a0f4bae2eef6d36c4', 'message': 'Fix bug Image, Flavors and Image metadata api is wrong\n\nThis patch inclute {tenant_id} in some calls like:\n\nGET v2/{tenant_id}/images Lists IDs, names, and links for ...\nGET v2/{tenant_id}/images/detail Lists all details for available images.\nGET v2/{tenant_id}/images/\u200b{image_id}\u200b Gets details for a specified image.\nDELETE v2/{tenant_id}/images/\u200b{image_id}\u200b Deletes a specified image.\n\nThe same change will happen for Flavors and Image metadata.\n\nbug 1290857\n\nChange-Id: I71765759b558fbfd283a227876638684c2659116\n'}]",0,99985,cc449ce86fe0348c2458074a0f4bae2eef6d36c4,11,6,1,8866,,,0,"Fix bug Image, Flavors and Image metadata api is wrong

This patch inclute {tenant_id} in some calls like:

GET v2/{tenant_id}/images Lists IDs, names, and links for ...
GET v2/{tenant_id}/images/detail Lists all details for available images.
GET v2/{tenant_id}/images/{image_id} Gets details for a specified image.
DELETE v2/{tenant_id}/images/{image_id} Deletes a specified image.

The same change will happen for Flavors and Image metadata.

bug 1290857

Change-Id: I71765759b558fbfd283a227876638684c2659116
",git fetch https://review.opendev.org/openstack/api-site refs/changes/85/99985/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/src/wadls/compute-api/src/v2/wadl/os-compute-2.wadl'],1,cc449ce86fe0348c2458074a0f4bae2eef6d36c4,bug/1290857, </resource>, </resource>,2,1
openstack%2Ftempest~master~Ibf0070e12f3087756addcbed841d52c73cf70553,openstack/tempest,master,Ibf0070e12f3087756addcbed841d52c73cf70553,Mising CLI test for Keystone,MERGED,2014-06-09 11:35:54.000000000,2014-06-16 18:32:34.000000000,2014-06-16 18:32:33.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 1849}, {'_account_id': 6796}, {'_account_id': 8205}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-09 11:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5f064358030e2204aa00437034c41f3ac900fb2b', 'message': 'Mising CLI test for Keystone\n\nThis patch adds following missing Keystone CLI test -\n1. ec2 credentialslist\n\nPartially implements: blueprint missing-cli-tests-in-tempest\n\nChange-Id: Ibf0070e12f3087756addcbed841d52c73cf70553\n'}, {'number': 2, 'created': '2014-06-10 04:00:05.000000000', 'files': ['tempest/cli/simple_read_only/test_keystone.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/fa49c6c4961a204218ac2e7667e3f3d77aa7e669', 'message': 'Mising CLI test for Keystone\n\nThis patch adds following missing Keystone CLI test -\n1. ec2 credentialslist\n\nPartially implements: blueprint missing-cli-tests-in-tempest\n\nChange-Id: Ibf0070e12f3087756addcbed841d52c73cf70553\n'}]",0,98749,fa49c6c4961a204218ac2e7667e3f3d77aa7e669,28,8,2,8205,,,0,"Mising CLI test for Keystone

This patch adds following missing Keystone CLI test -
1. ec2 credentialslist

Partially implements: blueprint missing-cli-tests-in-tempest

Change-Id: Ibf0070e12f3087756addcbed841d52c73cf70553
",git fetch https://review.opendev.org/openstack/tempest refs/changes/49/98749/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/cli/simple_read_only/test_keystone.py'],1,5f064358030e2204aa00437034c41f3ac900fb2b,bp/missing-cli-tests-in-tempest," print out _listself.assertTableStruct(user_roles, [ def test_admin_ec2_credentials_list(self): creds = self.keystone('ec2-credentials-list') creds = self.parser.listing(creds) self.assertTableStruct(creds, ['tenant', 'access', 'secret']) "," self.assertTableStruct(user_roles, [",7,1
openstack%2Ffuel-main~master~I0fe2d4e1b59f1b1124cb0dde48e46a8c176a51ab,openstack/fuel-main,master,I0fe2d4e1b59f1b1124cb0dde48e46a8c176a51ab,Use smaller image and condense steps,MERGED,2014-06-04 15:51:34.000000000,2014-06-16 18:23:00.000000000,2014-06-16 18:22:59.000000000,"[{'_account_id': 3}, {'_account_id': 7195}, {'_account_id': 8749}, {'_account_id': 8786}, {'_account_id': 8787}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 9387}]","[{'number': 1, 'created': '2014-06-04 15:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/991622820eadc1c4e9021267f9c61505cf4fdc0b', 'message': 'Use fuel/centos base image for docker\n\nfuel/centos base image includes both\nruby21-puppet and logrotate, reducing\nthe number of steps for docker build\n\nAdditionally, condense some commands\nwhere sensible in dockerfiles\n\nblueprint small-docker-container-base-image\n\nChange-Id: I0fe2d4e1b59f1b1124cb0dde48e46a8c176a51ab\n'}, {'number': 2, 'created': '2014-06-05 07:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/5b4ea45afc923fcb8a2060c078be5f965cb04127', 'message': 'Use fuel/centos base image for docker\n\nfuel/centos base image includes both\nruby21-puppet and logrotate, reducing\nthe number of steps for docker build\n\nAdditionally, condense some commands\nwhere sensible in dockerfiles\n\nblueprint small-docker-container-base-image\n\nChange-Id: I0fe2d4e1b59f1b1124cb0dde48e46a8c176a51ab\n'}, {'number': 3, 'created': '2014-06-05 10:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/c392f78aea80c015a3c756d057a54cadef16dca9', 'message': 'Use smaller image and condense steps\n\nfuel/centos base image includes both\nruby21-puppet and logrotate, reducing\nthe number of steps for docker build.\n\nAdditionally, condense some commands\nwhere sensible in dockerfiles\n\nblueprint small-docker-container-base-image\n\nChange-Id: I0fe2d4e1b59f1b1124cb0dde48e46a8c176a51ab\n'}, {'number': 4, 'created': '2014-06-05 10:37:53.000000000', 'files': ['mirror/docker/base-images.mk', 'docker/rsync/Dockerfile', 'docker/mcollective/Dockerfile', 'docker/astute/Dockerfile', 'docker/ostf/Dockerfile', 'docker/postgres/Dockerfile', 'docker/rsyslog/Dockerfile', 'docker/cobbler/Dockerfile', 'docker/nailgun/Dockerfile', 'docker/nginx/Dockerfile', 'docker/rabbitmq/Dockerfile'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/0e58ff273b557abd6af2494b262080b980069905', 'message': 'Use smaller image and condense steps\n\nfuel/centos base image includes both\nruby21-puppet and logrotate, reducing\nthe number of steps for docker build.\n\nAdditionally, condense some commands\nwhere sensible in dockerfiles\n\nblueprint small-docker-container-base-image\n\nChange-Id: I0fe2d4e1b59f1b1124cb0dde48e46a8c176a51ab\n'}]",0,97836,0e58ff273b557abd6af2494b262080b980069905,29,8,4,7195,,,0,"Use smaller image and condense steps

fuel/centos base image includes both
ruby21-puppet and logrotate, reducing
the number of steps for docker build.

Additionally, condense some commands
where sensible in dockerfiles

blueprint small-docker-container-base-image

Change-Id: I0fe2d4e1b59f1b1124cb0dde48e46a8c176a51ab
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/36/97836/3 && git format-patch -1 --stdout FETCH_HEAD,"['mirror/docker/base-images.mk', 'docker/rsync/Dockerfile', 'docker/mcollective/Dockerfile', 'docker/astute/Dockerfile', 'docker/ostf/Dockerfile', 'docker/postgres/Dockerfile', 'docker/rsyslog/Dockerfile', 'docker/cobbler/Dockerfile', 'docker/nailgun/Dockerfile', 'docker/nginx/Dockerfile', 'docker/rabbitmq/Dockerfile']",11,991622820eadc1c4e9021267f9c61505cf4fdc0b,bp/small-docker-container-base-image,FROM fuel/centosRUN yum --quiet install -y rabbitmq-server,FROM centosRUN yum --quiet install -y ruby21-puppet rabbitmq-server logrotate,17,25
openstack%2Fmanila~master~I360f91d71cad5f472d5d9f5953e434f489330e47,openstack/manila,master,I360f91d71cad5f472d5d9f5953e434f489330e47,Added service_instance_locks directory to .gitignore,MERGED,2014-06-06 10:35:31.000000000,2014-06-16 18:18:15.000000000,2014-06-16 18:18:14.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 7534}, {'_account_id': 8851}]","[{'number': 1, 'created': '2014-06-06 10:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/adf6ccb1970dfe8b73805fa8d9cc34fa248b7053', 'message': 'Added to .gitignore locks dir\n\nmodule manila.share.drivers.service_instance uses\ninterproces locks and creates external files\nin ""service_instance_locks"" directory.\n\nChange-Id: I360f91d71cad5f472d5d9f5953e434f489330e47\n'}, {'number': 2, 'created': '2014-06-06 10:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/454092a0596b2d39254435b4eb19a9aa92e86eb2', 'message': 'Added locks dir to .gitignore\n\nmodule manila.share.drivers.service_instance uses\ninterproces locks and creates external files\nin ""service_instance_locks"" directory.\n\nChange-Id: I360f91d71cad5f472d5d9f5953e434f489330e47\n'}, {'number': 3, 'created': '2014-06-06 10:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/086e04e02e7531aa0aef39ae9a60e06cdcb57115', 'message': 'Added service_instance_locks directory dir to .gitignore\n\nmodule manila.share.drivers.service_instance uses\ninterproces locks and creates external files\nin ""service_instance_locks"" directory.\n\nChange-Id: I360f91d71cad5f472d5d9f5953e434f489330e47\n'}, {'number': 4, 'created': '2014-06-06 10:38:41.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/manila/commit/69b7f42b1c83ffd01090a69a800120c95403fbfa', 'message': 'Added service_instance_locks directory to .gitignore\n\nmodule manila.share.drivers.service_instance uses\ninterproces locks and creates external files\nin ""service_instance_locks"" directory.\n\nChange-Id: I360f91d71cad5f472d5d9f5953e434f489330e47\n'}]",0,98361,69b7f42b1c83ffd01090a69a800120c95403fbfa,23,4,4,8851,,,0,"Added service_instance_locks directory to .gitignore

module manila.share.drivers.service_instance uses
interproces locks and creates external files
in ""service_instance_locks"" directory.

Change-Id: I360f91d71cad5f472d5d9f5953e434f489330e47
",git fetch https://review.opendev.org/openstack/manila refs/changes/61/98361/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,adf6ccb1970dfe8b73805fa8d9cc34fa248b7053,gitignore, # Lock dirs and files service_instance_locks,,3,0
openstack%2Ffuel-main~master~I58d5de34851bea321936593a933ed6c0a03d70ab,openstack/fuel-main,master,I58d5de34851bea321936593a933ed6c0a03d70ab,Remove absent files from 'fuelmenu' spec,MERGED,2014-06-10 08:35:13.000000000,2014-06-16 18:16:40.000000000,2014-06-16 18:16:40.000000000,"[{'_account_id': 3}, {'_account_id': 7195}, {'_account_id': 8749}, {'_account_id': 8787}, {'_account_id': 8789}, {'_account_id': 8797}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-06-10 08:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/8d3c37a319007563f48c11867a75df2b8a97cb88', 'message': ""Remove absent files from 'fuelmenu' spec\n\nTo merge review # 98743 we need to remove\ndeleted from 'fuelmenu' package files from\nit's spec.\n\nChange-Id: I58d5de34851bea321936593a933ed6c0a03d70ab\n""}, {'number': 2, 'created': '2014-06-10 08:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/5f816382481f98f54f0235b7b049303cbf4fe30a', 'message': ""Remove absent files from 'fuelmenu' spec\n\nTo merge review # 98743 we need to remove\ndeleted from 'fuelmenu' package files from\nit's spec.\n\nChange-Id: I58d5de34851bea321936593a933ed6c0a03d70ab\n""}, {'number': 3, 'created': '2014-06-10 09:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/9da0d8438efe846928e8cf2c3416d4dda17093f9', 'message': ""Remove absent files from 'fuelmenu' spec\n\nTo merge review # 98743 we need to remove\ndeleted from 'fuelmenu' package files from\nit's spec.\n\nChange-Id: I58d5de34851bea321936593a933ed6c0a03d70ab\n""}, {'number': 4, 'created': '2014-06-10 09:52:19.000000000', 'files': ['packages/rpm/specs/fuelmenu.spec'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/e45dc95b0e19f72b5c945da6c1210f23cbf2163c', 'message': ""Remove absent files from 'fuelmenu' spec\n\nTo merge review # 98743 we need to remove\ndeleted from 'fuelmenu' package files from\nit's spec.\n\nChange-Id: I58d5de34851bea321936593a933ed6c0a03d70ab\n""}]",0,98973,e45dc95b0e19f72b5c945da6c1210f23cbf2163c,27,7,4,11081,,,0,"Remove absent files from 'fuelmenu' spec

To merge review # 98743 we need to remove
deleted from 'fuelmenu' package files from
it's spec.

Change-Id: I58d5de34851bea321936593a933ed6c0a03d70ab
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/73/98973/3 && git format-patch -1 --stdout FETCH_HEAD,['packages/rpm/specs/fuelmenu.spec'],1,8d3c37a319007563f48c11867a75df2b8a97cb88,bug/1323369,%config(noreplace) /etc/fuel/astute.yaml,install -m 0600 fuelmenu/naily.facts.default $RPM_BUILD_ROOT/etc/naily.facts.default%config /etc/naily.facts.default%config(noreplace) /etc/astute.yaml,1,3
openstack%2Ffuel-library~master~Iacd96d6fa02b0c63c63ce5256cc832eda229dcc7,openstack/fuel-library,master,Iacd96d6fa02b0c63c63ce5256cc832eda229dcc7,Fix /var/log/remote rotation template,MERGED,2014-06-16 08:34:06.000000000,2014-06-16 18:15:25.000000000,2014-06-16 18:15:25.000000000,"[{'_account_id': 3}, {'_account_id': 7195}, {'_account_id': 7468}, {'_account_id': 8787}, {'_account_id': 8829}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 9387}, {'_account_id': 11090}]","[{'number': 1, 'created': '2014-06-16 08:34:06.000000000', 'files': ['deployment/puppet/openstack/templates/10-fuel.conf.erb', 'deployment/puppet/openstack/templates/20-fuel.conf.erb', 'deployment/puppet/openstack/templates/20-fuel-docker.conf.erb', 'deployment/puppet/openstack/templates/10-fuel-docker.conf.erb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/5319075fb440b0880122f64af14056e3808f9d54', 'message': 'Fix /var/log/remote rotation template\n\n- Put /var/log/remote rotation into an appropriate server role template\n- Fix node names matching to exclude symlinks for IP addresses\n\nCloses bug: #1329991\nCloses bug: #1316957\n\nChange-Id: Iacd96d6fa02b0c63c63ce5256cc832eda229dcc7\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n'}]",0,100187,5319075fb440b0880122f64af14056e3808f9d54,14,9,1,6926,,,0,"Fix /var/log/remote rotation template

- Put /var/log/remote rotation into an appropriate server role template
- Fix node names matching to exclude symlinks for IP addresses

Closes bug: #1329991
Closes bug: #1316957

Change-Id: Iacd96d6fa02b0c63c63ce5256cc832eda229dcc7
Signed-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/87/100187/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/openstack/templates/10-fuel.conf.erb', 'deployment/puppet/openstack/templates/20-fuel.conf.erb', 'deployment/puppet/openstack/templates/10-fuel-docker.conf.erb', 'deployment/puppet/openstack/templates/20-fuel-docker.conf.erb']",4,5319075fb440b0880122f64af14056e3808f9d54,fix1329991,"""/var/log/remote/*-*/*.log""",,2,2
openstack%2Fdevstack~master~Ic61e74e23d741195d38b0724b75c621fd597a351,openstack/devstack,master,Ic61e74e23d741195d38b0724b75c621fd597a351,[DO NOT MERGE] test multiple collectors,ABANDONED,2014-05-21 17:31:25.000000000,2014-06-16 18:13:20.000000000,,"[{'_account_id': 3}, {'_account_id': 3012}, {'_account_id': 6537}, {'_account_id': 9009}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-05-21 17:31:25.000000000', 'files': ['lib/ceilometer'], 'web_link': 'https://opendev.org/openstack/devstack/commit/be5afdb392c2dce309b8c0c192467ef54195cbf9', 'message': '[DO NOT MERGE] test multiple collectors\n\ntest enabling multiple collectors to handle notification bursts.\n\nChange-Id: Ic61e74e23d741195d38b0724b75c621fd597a351\n'}]",0,94682,be5afdb392c2dce309b8c0c192467ef54195cbf9,9,5,1,6537,,,0,"[DO NOT MERGE] test multiple collectors

test enabling multiple collectors to handle notification bursts.

Change-Id: Ic61e74e23d741195d38b0724b75c621fd597a351
",git fetch https://review.opendev.org/openstack/devstack refs/changes/82/94682/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/ceilometer'],1,be5afdb392c2dce309b8c0c192467ef54195cbf9,test_workers, iniset $CEILOMETER_CONF DEFAULT collector_workers 3,,1,0
openstack%2Fironic~master~I9a2f90c7cdd0fdfcc00d49a49581c61e4f073888,openstack/ironic,master,I9a2f90c7cdd0fdfcc00d49a49581c61e4f073888,Reuse validate_instance_and_node() Nova ironic Driver,MERGED,2014-06-06 11:03:20.000000000,2014-06-16 18:13:17.000000000,2014-06-16 18:13:16.000000000,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 3099}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 7711}, {'_account_id': 8125}, {'_account_id': 11702}]","[{'number': 1, 'created': '2014-06-06 11:03:20.000000000', 'files': ['ironic/nova/virt/ironic/driver.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/295ff70983e71a16365ab2e2b2a0459237eb9089', 'message': 'Reuse validate_instance_and_node() Nova ironic Driver\n\nThe driver already counts with a function called\nvalidate_instance_and_node() that checks which node is associated to\na given instance and raises InstanceNotFound if the instance UUID is\nnot found in Ironic. The same functionality was being duplicate in many\nother parts of the driver, this patch simply update those parts to use\nthe validate_instance_and_node() function.\n\nChange-Id: I9a2f90c7cdd0fdfcc00d49a49581c61e4f073888\n'}]",0,98372,295ff70983e71a16365ab2e2b2a0459237eb9089,21,8,1,6773,,,0,"Reuse validate_instance_and_node() Nova ironic Driver

The driver already counts with a function called
validate_instance_and_node() that checks which node is associated to
a given instance and raises InstanceNotFound if the instance UUID is
not found in Ironic. The same functionality was being duplicate in many
other parts of the driver, this patch simply update those parts to use
the validate_instance_and_node() function.

Change-Id: I9a2f90c7cdd0fdfcc00d49a49581c61e4f073888
",git fetch https://review.opendev.org/openstack/ironic refs/changes/72/98372/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/nova/virt/ironic/driver.py'],1,295ff70983e71a16365ab2e2b2a0459237eb9089,reuse-validate_instance_and_node," node = validate_instance_and_node(icli, instance) validate_instance_and_node(icli, instance) except exception.InstanceNotFound: node = validate_instance_and_node(icli, instance) except exception.InstanceNotFound: node = validate_instance_and_node(icli, instance)"," try: node = icli.call(""node.get_by_instance_uuid"", instance['uuid']) except ironic_exception.NotFound: raise exception.InstanceNotFound(instance_id=instance['uuid']) icli.call(""node.get_by_instance_uuid"", instance['uuid']) except ironic_exception.NotFound: node = icli.call(""node.get_by_instance_uuid"", instance['uuid']) except ironic_exception.NotFound: try: node = icli.call(""node.get_by_instance_uuid"", instance['uuid']) except ironic_exception.NotFound: raise exception.InstanceNotFound(instance_id=instance['uuid']) ",6,14
openstack%2Foslo-incubator~master~Ic2ede3046709b831adf8204e4c909c589c1786c4,openstack/oslo-incubator,master,Ic2ede3046709b831adf8204e4c909c589c1786c4,Slow down Kombu reconnect attempts,MERGED,2014-06-10 11:45:19.000000000,2014-06-16 18:11:30.000000000,2014-06-16 18:11:30.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 2592}, {'_account_id': 6928}, {'_account_id': 9656}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-06-10 11:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/b1ef309b2f02e3774e240134ffd2796bac5600bd', 'message': 'Slow down Kombu reconnect attempts\n\nFor a rationale for this patch, see the discussion surrounding Bug\nWhen reconnecting to a RabbitMQ cluster with mirrored queues in\nuse, the attempt to release the connection can hang ""indefinitely""\nsomewhere deep down in Kombu.  Blocking the thread for a bit\nprior to release seems to kludge around the problem where it is\notherwise reproduceable.\n\nDocImpact\n\nChange-Id: Ic2ede3046709b831adf8204e4c909c589c1786c4\nRelated-Bug: #856764\n'}, {'number': 2, 'created': '2014-06-10 12:00:14.000000000', 'files': ['openstack/common/rpc/impl_kombu.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/28f73c26d0eb43ab3e8ee058423ba248d65a2847', 'message': 'Slow down Kombu reconnect attempts\n\nFor a rationale for this patch, see the discussion surrounding Bug\n\nWhen reconnecting to a RabbitMQ cluster with mirrored queues in\nuse, the attempt to release the connection can hang ""indefinitely""\nsomewhere deep down in Kombu.  Blocking the thread for a bit\nprior to release seems to kludge around the problem where it is\notherwise reproduceable.\n\nDocImpact\n\nChange-Id: Ic2ede3046709b831adf8204e4c909c589c1786c4\nPartial-Bug: #856764\n'}]",3,99017,28f73c26d0eb43ab3e8ee058423ba248d65a2847,18,6,2,6926,,,0,"Slow down Kombu reconnect attempts

For a rationale for this patch, see the discussion surrounding Bug

When reconnecting to a RabbitMQ cluster with mirrored queues in
use, the attempt to release the connection can hang ""indefinitely""
somewhere deep down in Kombu.  Blocking the thread for a bit
prior to release seems to kludge around the problem where it is
otherwise reproduceable.

DocImpact

Change-Id: Ic2ede3046709b831adf8204e4c909c589c1786c4
Partial-Bug: #856764
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/17/99017/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/common/rpc/impl_kombu.py'],1,b1ef309b2f02e3774e240134ffd2796bac5600bd,fix1322259_kombu_recon," cfg.FloatOpt('kombu_reconnect_delay', default=1.0, help='How long to wait before reconnecting in response to an ' 'AMQP consumer cancel notification.'), # XXX(nick): when reconnecting to a RabbitMQ cluster # with mirrored queues in use, the attempt to release the # connection can hang ""indefinitely"" somewhere deep down # in Kombu. Blocking the thread for a bit prior to # release seems to kludge around the problem where it is # otherwise reproduceable. if self.conf.kombu_reconnect_delay > 0: LOG.info(_(""Delaying reconnect for %1.1f seconds..."") % self.conf.kombu_reconnect_delay) time.sleep(self.conf.kombu_reconnect_delay) ",,15,0
openstack%2Ffuel-main~master~Ib71c8790e3cb2902d91e06b7ea7cc92657c52385,openstack/fuel-main,master,Ib71c8790e3cb2902d91e06b7ea7cc92657c52385,"Simplify ""make iso"" process",MERGED,2014-06-11 09:01:32.000000000,2014-06-16 17:41:29.000000000,2014-06-16 17:41:29.000000000,"[{'_account_id': 3}, {'_account_id': 8787}, {'_account_id': 8971}, {'_account_id': 9582}, {'_account_id': 9788}]","[{'number': 1, 'created': '2014-06-11 09:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/11bb93c2e69457f208aa7199b2b3f7856a620c74', 'message': 'Simplify ""make iso"" process\n\nResolving all the dependencies is cumbersome and time consuming,\nand missing one minor step can result in a dev environment that\ncan not build an ISO (but does not necessarily tell you what is missing).\n\nProposed script helps to ensure that all the dependencies are installed.\n\nChange-Id: Ib71c8790e3cb2902d91e06b7ea7cc92657c52385\nRelated-Bug: #1324723\n'}, {'number': 2, 'created': '2014-06-11 09:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/2a9c973125366ac57e0e963e11d4f7f60d8087d8', 'message': 'Simplify ""make iso"" process\n\nResolving all the dependencies is cumbersome and time consuming,\nand missing one minor step can result in a dev environment that\ncan not build an ISO (but does not necessarily tell you what is missing).\n\nProposed script helps to ensure that all the dependencies are installed.\n\nChange-Id: Ib71c8790e3cb2902d91e06b7ea7cc92657c52385\nRelated-Bug: #1324723\n'}, {'number': 3, 'created': '2014-06-16 12:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/69397428283188c17384fa31c7b3edb7ff5436f0', 'message': 'Simplify ""make iso"" process\n\nResolving all the dependencies is cumbersome and time consuming,\nand missing one minor step can result in a dev environment that\ncan not build an ISO (but does not necessarily tell you what is missing).\n\nProposed script helps to ensure that all the dependencies are installed.\n\nChange-Id: Ib71c8790e3cb2902d91e06b7ea7cc92657c52385\nRelated-Bug: #1324723\n'}, {'number': 4, 'created': '2014-06-16 12:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/2eeb3533fe9546df21b4dc7b3dcbf5eb3bc87591', 'message': 'Simplify ""make iso"" process\n\nResolving all the dependencies is cumbersome and time consuming,\nand missing one minor step can result in a dev environment that\ncan not build an ISO (but does not necessarily tell you what is missing).\n\nProposed script helps to ensure that all the dependencies are installed.\n\nChange-Id: Ib71c8790e3cb2902d91e06b7ea7cc92657c52385\nRelated-Bug: #1324723\n'}, {'number': 5, 'created': '2014-06-16 17:36:48.000000000', 'files': ['prepare-build-env.sh'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/3c32864f67f3ecd45b45d3bea60a39ac9532a8fd', 'message': 'Simplify ""make iso"" process\n\nResolving all the dependencies is cumbersome and time consuming,\nand missing one minor step can result in a dev environment that\ncan not build an ISO (but does not necessarily tell you what is missing).\n\nProposed script helps to ensure that all the dependencies are installed.\n\nChange-Id: Ib71c8790e3cb2902d91e06b7ea7cc92657c52385\nRelated-Bug: #1324723\n'}]",0,99298,3c32864f67f3ecd45b45d3bea60a39ac9532a8fd,33,5,5,10474,,,0,"Simplify ""make iso"" process

Resolving all the dependencies is cumbersome and time consuming,
and missing one minor step can result in a dev environment that
can not build an ISO (but does not necessarily tell you what is missing).

Proposed script helps to ensure that all the dependencies are installed.

Change-Id: Ib71c8790e3cb2902d91e06b7ea7cc92657c52385
Related-Bug: #1324723
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/98/99298/5 && git format-patch -1 --stdout FETCH_HEAD,['resolve-dependencies.sh'],1,11bb93c2e69457f208aa7199b2b3f7856a620c74,simplify-iso-build,"#!/bin/bash -x # Check if docker is installed if hash docker 2>/dev/null; then echo ""Docker binary found, checking if service is running..."" ps cax | grep docker > /dev/null if [ $? -eq 0 ]; then echo ""Docker is running."" else echo ""Process is not running, starting it..."" sudo service docker start fi else # Install docker repository # Check that HTTPS transport is available to APT if [ ! -e /usr/lib/apt/methods/https ]; then sudo apt-get update sudo apt-get -y install -y apt-transport-https fi # Add the repository to APT sources echo deb http://mirror.yandex.ru/mirrors/docker/ docker main | sudo tee /etc/apt/sources.list.d/docker.list # Import the repository key sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 36A1D7869245C8950F966E92D8576A8BA88D21E9 # Install docker sudo apt-get -y install lxc-docker fi # Install software sudo apt-get update sudo apt-get -y remove nodejs nodejs-legacy npm sudo apt-get -y install software-properties-common python-software-properties sudo add-apt-repository -y ppa:chris-lea/node.js sudo apt-get update sudo apt-get -y install build-essential make git ruby ruby-dev rubygems debootstrap createrepo \ python-setuptools yum yum-utils libmysqlclient-dev isomd5sum \ python-nose libvirt-bin python-ipaddr python-paramiko python-yaml \ python-pip kpartx extlinux unzip genisoimage nodejs multistrap \ lrzip python-daemon sudo gem install bundler -v 1.2.1 sudo gem install builder sudo pip install xmlbuilder jinja2 sudo npm install -g grunt-cli # Add account to sudoers if sudo grep ""`whoami` ALL=(ALL) NOPASSWD: ALL"" /etc/sudoers; then echo ""Required /etc/sudoers record found"" else echo ""Required /etc/sudoers record not found, adding it..."" echo ""`whoami` ALL=(ALL) NOPASSWD: ALL"" | sudo tee -a /etc/sudoers fi # Fix tmp folder ownership mkdir -p ~/tmp sudo chown $USER:$USER ~/tmp echo ""Dependency check complete, please proceed with 'make iso' command"" ",,56,0
openstack%2Fopenstack-manuals~master~Iaa90a7229776d4dd6abced99a83d4d500c267b46,openstack/openstack-manuals,master,Iaa90a7229776d4dd6abced99a83d4d500c267b46,Remove typo - duplicate 'you',MERGED,2014-06-16 12:34:29.000000000,2014-06-16 17:35:30.000000000,2014-06-16 17:35:30.000000000,"[{'_account_id': 3}, {'_account_id': 2448}, {'_account_id': 2733}, {'_account_id': 7923}, {'_account_id': 10068}]","[{'number': 1, 'created': '2014-06-16 12:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/865215d818aa1fa4d67cb628359e3eab97eed82c', 'message': ""Remove typo - duplicate 'you'\n\nChange-Id: Iaa90a7229776d4dd6abced99a83d4d500c267b46\nCloses-Bag: #1330206\n""}, {'number': 2, 'created': '2014-06-16 12:47:39.000000000', 'files': ['doc/install-guide/section_neutron-initial-networks.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1cbee6e1bf5152fdcf37d1a3389960d9861082dc', 'message': ""Remove typo - duplicate 'you'\n\nChange-Id: Iaa90a7229776d4dd6abced99a83d4d500c267b46\nCloses-Bug: #1330206\n""}]",1,100238,1cbee6e1bf5152fdcf37d1a3389960d9861082dc,15,5,2,11894,,,0,"Remove typo - duplicate 'you'

Change-Id: Iaa90a7229776d4dd6abced99a83d4d500c267b46
Closes-Bug: #1330206
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/38/100238/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/section_neutron-initial-networks.xml'],1,865215d818aa1fa4d67cb628359e3eab97eed82c,bug/1330206, should be able to <command>ping</command> this IP address from any, you should be able to <command>ping</command> this IP address from any,1,1
openstack%2Fpuppet-neutron~master~I5445fcd05f7cf5c48ded209a2895ea7d8732f40f,openstack/puppet-neutron,master,I5445fcd05f7cf5c48ded209a2895ea7d8732f40f,stop puppet from breaking neutron,MERGED,2014-06-14 01:49:22.000000000,2014-06-16 17:30:45.000000000,2014-06-16 17:30:45.000000000,"[{'_account_id': 3}, {'_account_id': 1918}, {'_account_id': 2265}, {'_account_id': 5241}, {'_account_id': 7462}, {'_account_id': 11491}]","[{'number': 1, 'created': '2014-06-14 01:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/bf27b0abbb990581128441b671fe40dfa7eb69c8', 'message': 'stop puppet from breaking neutron\n\nThe neutron-ovs-cleanup service is meant to run at boot to tear down ovs\ninterfaces created by Neutron.  The service runs and then exits, which\nmeans that from Puppet\'s perspective it is always ""stopped"".\n\nBy setting `ensure => started` on the neutron-ovs-cleanup service,\npuppet was starting this service every time it runs, which would\ncompletely disable Neutron networking.\n\nThis patch removes the `ensure` setting, such that the service will be\nenabled and will run at boot but will not be erroneously started by\nPuppet.\n\nChange-Id: I5445fcd05f7cf5c48ded209a2895ea7d8732f40f\n'}, {'number': 2, 'created': '2014-06-14 02:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/363e29b8f8870150b7c94c7e87b89edce85a0232', 'message': 'stop puppet from breaking neutron\n\nThe neutron-ovs-cleanup service is meant to run at boot to tear down ovs\ninterfaces created by Neutron.  The service runs and then exits, which\nmeans that from Puppet\'s perspective it is always ""stopped"".\n\nBy setting `ensure => started` on the neutron-ovs-cleanup service,\npuppet was starting this service every time it runs, which would\ncompletely disable Neutron networking.\n\nThis patch removes the `ensure` setting, such that the service will be\nenabled and will run at boot but will not be erroneously started by\nPuppet.\n\nChange-Id: I5445fcd05f7cf5c48ded209a2895ea7d8732f40f\n'}, {'number': 3, 'created': '2014-06-14 02:05:51.000000000', 'files': ['manifests/agents/ovs.pp', 'spec/classes/neutron_agents_ovs_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/5d953a42b5f8a3a52bb894e4289b0d557c047a8a', 'message': 'stop puppet from breaking neutron\n\nThe neutron-ovs-cleanup service is meant to run at boot to tear down ovs\ninterfaces created by Neutron.  The service runs and then exits, which\nmeans that from Puppet\'s perspective it is always ""stopped"".\n\nBy setting `ensure => started` on the neutron-ovs-cleanup service,\npuppet was starting this service every time it runs, which would\ncompletely disable Neutron networking.\n\nThis patch removes the `ensure` setting, such that the service will be\nenabled and will run at boot but will not be erroneously started by\nPuppet.\n\nChange-Id: I5445fcd05f7cf5c48ded209a2895ea7d8732f40f\n'}]",0,100042,5d953a42b5f8a3a52bb894e4289b0d557c047a8a,19,6,3,8745,,,0,"stop puppet from breaking neutron

The neutron-ovs-cleanup service is meant to run at boot to tear down ovs
interfaces created by Neutron.  The service runs and then exits, which
means that from Puppet's perspective it is always ""stopped"".

By setting `ensure => started` on the neutron-ovs-cleanup service,
puppet was starting this service every time it runs, which would
completely disable Neutron networking.

This patch removes the `ensure` setting, such that the service will be
enabled and will run at boot but will not be erroneously started by
Puppet.

Change-Id: I5445fcd05f7cf5c48ded209a2895ea7d8732f40f
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/42/100042/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/agents/ovs.pp'],1,bf27b0abbb990581128441b671fe40dfa7eb69c8,bz/1109445,," ensure => $service_ensure,",0,1
openstack-attic%2Fidentity-api~master~I47f62ae6845a896509f1c54dafca1a0c2178f1aa,openstack-attic/identity-api,master,I47f62ae6845a896509f1c54dafca1a0c2178f1aa,Cleanup region V3 documentation,MERGED,2014-06-06 21:07:00.000000000,2014-06-16 17:27:30.000000000,2014-06-16 17:27:30.000000000,"[{'_account_id': 3}, {'_account_id': 220}, {'_account_id': 2448}, {'_account_id': 5046}, {'_account_id': 6482}, {'_account_id': 10705}]","[{'number': 1, 'created': '2014-06-06 21:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack-attic/identity-api/commit/a2f975cb169a0da8154a6b26bb386faf9351aa5a', 'message': 'Cleanup region V3 documentation\n\nUse more realistic examples for the regions Identity V3 documentation.\n\nChange-Id: I47f62ae6845a896509f1c54dafca1a0c2178f1aa\n'}, {'number': 2, 'created': '2014-06-16 14:23:26.000000000', 'files': ['v3/src/markdown/identity-api-v3.md'], 'web_link': 'https://opendev.org/openstack-attic/identity-api/commit/8ee7f3856a1be92957da6c2e9d189a93e29c7d96', 'message': 'Cleanup region V3 documentation\n\nUse more realistic examples for the regions Identity V3 documentation.\n\nChange-Id: I47f62ae6845a896509f1c54dafca1a0c2178f1aa\n'}]",6,98520,8ee7f3856a1be92957da6c2e9d189a93e29c7d96,21,6,2,5046,,,0,"Cleanup region V3 documentation

Use more realistic examples for the regions Identity V3 documentation.

Change-Id: I47f62ae6845a896509f1c54dafca1a0c2178f1aa
",git fetch https://review.opendev.org/openstack-attic/identity-api refs/changes/20/98520/1 && git format-patch -1 --stdout FETCH_HEAD,['v3/src/markdown/identity-api-v3.md'],1,a2f975cb169a0da8154a6b26bb386faf9351aa5a,region-cleanup," ""self"": ""https://identity:35357/v3/regions/us-east-2"" ""description"": ""US East Region"", ""id"": ""us-east"", ""links"": { ""self"": ""https://identity:35357/v3/regions/us-east"", ""child_regions"": ""https://identity:35357/v3/regions?parent_region_id=us-east"" ""parent_region_id"": ""us-east-coast"" ""self"": ""https://identity:35357/v3/regions"", ""description"": ""US Southwest Region"", ""id"": ""us-southwest"", ""links"": { ""self"": ""https://identity:35357/v3/regions/us-southwest"", ""child_regions"": ""http://identity:35357/v3/regions?parent_region_id=us-southwest"" ""parent_region_id"": ""us-west-coast"" ""description"": ""US West Subregion 1"", ""parent_region_id"": ""829551"" ""description"": ""US West Subregion 1"", ""id"": ""8ebd7f"", ""links"": { ""self"": ""https://identity:35357/v3/regions/8ebd7f"", ""child_regions"": ""https://identity:35357/v3/regions?parent_region_id=8ebd7f"" ""parent_region_id"": ""829551"" ""description"": ""US Southwest Subregion 1"", ""id"": ""us-southwest-1"" ""parent_region_id"": ""us-south"" ""description"": ""US Southwest Subregion 1"", ""id"": ""us-southwest-1"", ""links"": { ""self"": ""https://identity:35357/v3/regions/us-southwest-1"", ""child_regions"": ""https://identity:35357/v3/regions?parent_region_id=us-southwest-1"" ""parent_region_id"": ""us-south"" ""description"": ""US Southwest Subregion"", ""parent_region_id"": ""us-southwest"" ""description"": ""US Southwest Subregion"", ""id"": ""us-southwest-1"", ""links"": { ""self"": ""https://identity:35357/v3/regions/us-southwest-1"", ""child_regions"": ""https://identity:35357/v3/regions?parent_region_id=us-southwest-1"" ""parent_region_id"": ""us-southwest"""," ""self"": ""http://identity:35357/v3/regions/us-east-2"" ""description"": ""--description--"", ""id"": ""--region-id--"", ""links"": { ""self"": ""http://identity:35357/v3/regions/--region-id--"", ""child_regions"": ""http://identity:35357/v3/regions?parent_region_id=--region-id--"" ""parent_region_id"": ""--parent-region-id--"" ""self"": ""http://identity:35357/v3/regions"", ""description"": ""--description--"", ""id"": ""--region-id--"", ""links"": { ""self"": ""http://identity:35357/v3/regions/--region-id--"", ""child_regions"": ""http://identity:35357/v3/regions?parent_region_id=--region-id--"" ""parent_region_id"": ""--parent-region-id--"" ""description"": ""--region-description--"", ""parent_region_id"": ""--parent-region-id--"" ""description"": ""--description--"", ""id"": ""--region-id--"", ""links"": { ""self"": ""http://identity:35357/v3/regions/--region-id--"", ""child_regions"": ""http://identity:35357/v3/regions?parent_region_id=--region-id--"" ""parent_region_id"": ""--parent-region-id--"" ""description"": ""--region-description--"", ""parent_region_id"": ""--parent-region-id--"" ""description"": ""--description--"", ""id"": ""--region-id--"", ""links"": { ""self"": ""http://identity:35357/v3/regions/--region-id--"", ""child_regions"": ""http://identity:35357/v3/regions?parent_region_id=--region-id--"" ""parent_region_id"": ""--parent-region-id--"" ""description"": ""..."", ""parent_region_id"": ""--parent-region-id--"" ""description"": ""--description--"", ""id"": ""--region-id--"", ""links"": { ""self"": ""http://identity:35357/v3/regions/--region-id--"", ""child_regions"": ""http://identity:35357/v3/regions?parent_region_id=--region-id--"" ""parent_region_id"": ""--parent-region-id--""",34,33
openstack%2Fpython-saharaclient~master~I538e87953a8bd8b912dad276090940eee09d3dc8,openstack/python-saharaclient,master,I538e87953a8bd8b912dad276090940eee09d3dc8,Updated from global requirements,MERGED,2014-06-15 16:51:44.000000000,2014-06-16 17:21:33.000000000,2014-06-16 12:12:10.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-06-15 16:51:44.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/1961a66d51e171be266c4b7b0947ee56da3bb055', 'message': 'Updated from global requirements\n\nIb139c1f60fbc91f0354072134bdbc43ed92ae594 is incorrect due to the\nhacking version update that needs new checks manual disable.\n\nChange-Id: I538e87953a8bd8b912dad276090940eee09d3dc8\n'}]",0,100100,1961a66d51e171be266c4b7b0947ee56da3bb055,15,4,1,6786,,,0,"Updated from global requirements

Ib139c1f60fbc91f0354072134bdbc43ed92ae594 is incorrect due to the
hacking version update that needs new checks manual disable.

Change-Id: I538e87953a8bd8b912dad276090940eee09d3dc8
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/00/100100/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1961a66d51e171be266c4b7b0947ee56da3bb055,,"sphinx>=1.1.2,!=1.2.0,<1.3","sphinx>=1.2.1,<1.3",1,1
openstack%2Fgnocchi~master~I10ef3912caeed405035c7ad1d7d4cc0b8ddfba7e,openstack/gnocchi,master,I10ef3912caeed405035c7ad1d7d4cc0b8ddfba7e,rest: factorize resource_class,MERGED,2014-06-10 15:02:00.000000000,2014-06-16 17:20:47.000000000,2014-06-16 17:20:46.000000000,"[{'_account_id': 3}, {'_account_id': 1669}]","[{'number': 1, 'created': '2014-06-10 15:02:00.000000000', 'files': ['gnocchi/rest/__init__.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/65cee5aa1b4cf519354e58ce511ae8fdbd8adaaf', 'message': ""rest: factorize resource_class\n\nThis simplifies a bit the code by using the Resource attribute where\nit's needed directly in the REST controller class.\n\nChange-Id: I10ef3912caeed405035c7ad1d7d4cc0b8ddfba7e\n""}]",0,99116,65cee5aa1b4cf519354e58ce511ae8fdbd8adaaf,9,2,1,1669,,,0,"rest: factorize resource_class

This simplifies a bit the code by using the Resource attribute where
it's needed directly in the REST controller class.

Change-Id: I10ef3912caeed405035c7ad1d7d4cc0b8ddfba7e
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/16/99116/1 && git format-patch -1 --stdout FETCH_HEAD,['gnocchi/rest/__init__.py'],1,65cee5aa1b4cf519354e58ce511ae8fdbd8adaaf,," Resource = ResourceSchema({}) body = deserialize(self.Resource) Resource = ResourceSchema({ voluptuous.Required(""flavor_id""): int, voluptuous.Required(""image_ref""): six.text_type, voluptuous.Required(""host""): six.text_type, voluptuous.Required(""display_name""): six.text_type, })"," Resource = ResourceSchema({}) Instance = ResourceSchema({ voluptuous.Required(""flavor_id""): int, voluptuous.Required(""image_ref""): six.text_type, voluptuous.Required(""host""): six.text_type, voluptuous.Required(""display_name""): six.text_type, }) _resource_class = GenericResourceController.Resource body = deserialize(self._resource_class) _resource_class = InstanceController.Instance",10,11
openstack%2Fcliff~master~Ib463eff98c2ac04488ce4a8875cf3e1b7779b27c,openstack/cliff,master,Ib463eff98c2ac04488ce4a8875cf3e1b7779b27c,Expose load_commands publicly,MERGED,2014-05-22 04:33:25.000000000,2014-06-16 17:16:00.000000000,2014-06-16 17:16:00.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 2472}, {'_account_id': 7191}, {'_account_id': 8736}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-05-22 04:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/3b532b314ae8222a519e0d0352bcb3d8aaa8ccc9', 'message': 'Expose load_commands publicly\n\nThis will allow us to load commands from other entrypoints into the\nlist.\n\nChange-Id: Ib463eff98c2ac04488ce4a8875cf3e1b7779b27c\n'}, {'number': 2, 'created': '2014-05-22 04:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/c134c8123ace8d0120412ce6fbb5493e62a63d47', 'message': 'Expose load_commands publicly\n\nThis will allow us to load commands from other entrypoints into the\nlist.\n\nChange-Id: Ib463eff98c2ac04488ce4a8875cf3e1b7779b27c\n'}, {'number': 3, 'created': '2014-05-22 21:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/50188f486708ba9be414198f6e0d573c4b40c16b', 'message': 'Expose load_commands publicly\n\nThis will allow us to load commands from other entrypoints into the\nlist. It brings together the two CommandManager overrides in tests into\none place in utils to simply usage.\n\nChange-Id: Ib463eff98c2ac04488ce4a8875cf3e1b7779b27c\n'}, {'number': 4, 'created': '2014-05-22 21:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/4301e53b484090333ffa3c03fc7d69c4a755ddde', 'message': 'Expose load_commands publicly\n\nThis will allow us to load commands from other entrypoints into the\nlist. It brings together the two CommandManager overrides in tests into\none place in utils to simply usage.\n\nChange-Id: Ib463eff98c2ac04488ce4a8875cf3e1b7779b27c\n'}, {'number': 5, 'created': '2014-05-22 22:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/5a880a92a6e95b9dd7ed6c2c6b216d520ff65eac', 'message': 'Expose load_commands publicly\n\nThis will allow us to load commands from other entrypoints into the\nlist. It brings together the two CommandManager overrides in tests into\none place in utils to simply usage.\n\nChange-Id: Ib463eff98c2ac04488ce4a8875cf3e1b7779b27c\n'}, {'number': 6, 'created': '2014-05-22 22:27:35.000000000', 'files': ['cliff/tests/test_help.py', 'cliff/tests/test_commandmanager.py', 'cliff/commandmanager.py', 'cliff/tests/utils.py'], 'web_link': 'https://opendev.org/openstack/cliff/commit/69966df0727d61b8c46056ee9af4567f176bb73f', 'message': 'Expose load_commands publicly\n\nThis will allow us to load commands from other entrypoints into the\nlist. It brings together the two CommandManager overrides in tests into\none place in utils to simply usage.\n\nChange-Id: Ib463eff98c2ac04488ce4a8875cf3e1b7779b27c\n'}]",2,94771,69966df0727d61b8c46056ee9af4567f176bb73f,38,6,6,7191,,,0,"Expose load_commands publicly

This will allow us to load commands from other entrypoints into the
list. It brings together the two CommandManager overrides in tests into
one place in utils to simply usage.

Change-Id: Ib463eff98c2ac04488ce4a8875cf3e1b7779b27c
",git fetch https://review.opendev.org/openstack/cliff refs/changes/71/94771/6 && git format-patch -1 --stdout FETCH_HEAD,['cliff/commandmanager.py'],1,3b532b314ae8222a519e0d0352bcb3d8aaa8ccc9,loadcmds," self.load_commands(namespace) def load_commands(self, namespace): """"""Load all the commands from an entrypoint"""""" for ep in pkg_resources.iter_entry_points(namespace):", self._load_commands() def _load_commands(self): for ep in pkg_resources.iter_entry_points(self.namespace):,4,3
openstack%2Fcliff~master~I1ecf1b48d82c71ef12cf419540740aac2d64bb56,openstack/cliff,master,I1ecf1b48d82c71ef12cf419540740aac2d64bb56,fixed typos found by RETF rules,MERGED,2014-05-29 15:41:30.000000000,2014-06-16 17:15:15.000000000,2014-06-16 17:15:15.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 8736}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-05-29 15:41:30.000000000', 'files': ['cliff/interactive.py', 'docs/source/history.rst', 'cliff/commandmanager.py'], 'web_link': 'https://opendev.org/openstack/cliff/commit/9f331fb43954a7a88a9c8d8238e3fa2908b4bba9', 'message': 'fixed typos found by RETF rules\n\nrules are avaialble at https://en.wikipedia.org/wiki/Wikipedia:AutoWikiBrowser/Typos\n\nChange-Id: I1ecf1b48d82c71ef12cf419540740aac2d64bb56\n'}]",0,96501,9f331fb43954a7a88a9c8d8238e3fa2908b4bba9,16,4,1,167,,,0,"fixed typos found by RETF rules

rules are avaialble at https://en.wikipedia.org/wiki/Wikipedia:AutoWikiBrowser/Typos

Change-Id: I1ecf1b48d82c71ef12cf419540740aac2d64bb56
",git fetch https://review.opendev.org/openstack/cliff refs/changes/01/96501/1 && git format-patch -1 --stdout FETCH_HEAD,"['cliff/interactive.py', 'docs/source/history.rst', 'cliff/commandmanager.py']",3,9f331fb43954a7a88a9c8d8238e3fa2908b4bba9,retf, spaces in entry_point commands., to spaces in entry_point commands.,3,3
openstack%2Fneutron-specs~master~Ia7b3aecba8361db1eabc82c7f93041b4c928ff4f,openstack/neutron-specs,master,Ia7b3aecba8361db1eabc82c7f93041b4c928ff4f,Spec for keystone V3 Support changes,MERGED,2014-05-29 20:10:20.000000000,2014-06-16 17:09:57.000000000,2014-06-16 17:09:56.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 105}, {'_account_id': 220}, {'_account_id': 1091}, {'_account_id': 1313}, {'_account_id': 1916}, {'_account_id': 2031}, {'_account_id': 2592}, {'_account_id': 2903}, {'_account_id': 7191}, {'_account_id': 7874}, {'_account_id': 8126}]","[{'number': 1, 'created': '2014-05-29 20:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/89825eec9f2e02aaa6255e77a475895e68b4d66e', 'message': 'Spec for keystone V3 Support changes\n\nThis spec will describe necessary changes to the python\nneutron-client to comply with the deprecation of keystone\nV2 APIs as of Icehouse.\n\nChange-Id: Ia7b3aecba8361db1eabc82c7f93041b4c928ff4f\n'}, {'number': 2, 'created': '2014-06-04 23:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c8a1be3983068b52c504e0a93bec3781047d3a23', 'message': 'Spec for keystone V3 Support changes\n\nThis spec will describe necessary changes to the python\nneutronclient to integrate with python-keystoneclient\nfor authentication and session management.\n\nChange-Id: Ia7b3aecba8361db1eabc82c7f93041b4c928ff4f\n'}, {'number': 3, 'created': '2014-06-05 06:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2bf2664e471c0616f7720342e812bdad56a57906', 'message': 'Spec for keystone V3 Support changes\n\nThis spec will describe necessary changes to the python\nneutronclient to integrate with python-keystoneclient\nfor authentication and session management.\n\nChange-Id: Ia7b3aecba8361db1eabc82c7f93041b4c928ff4f\n'}, {'number': 4, 'created': '2014-06-12 13:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c54b3b3f2502528c4b4ad6c51374834db7fb9085', 'message': 'Spec for keystone V3 Support changes\n\nThis spec will describe necessary changes to the python\nneutronclient to integrate with python-keystoneclient\nfor authentication and session management.\n\nChange-Id: Ia7b3aecba8361db1eabc82c7f93041b4c928ff4f\n'}, {'number': 5, 'created': '2014-06-12 15:45:56.000000000', 'files': ['specs/juno/keystone-v3-api-support.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/116124253679b8c17f233a227b7b8e2b5d7eeb3f', 'message': 'Spec for keystone V3 Support changes\n\nThis spec will describe necessary changes to the python\nneutronclient to integrate with python-keystoneclient\nfor authentication and session management.\n\nChange-Id: Ia7b3aecba8361db1eabc82c7f93041b4c928ff4f\n'}]",9,96575,116124253679b8c17f233a227b7b8e2b5d7eeb3f,34,13,5,8126,,,0,"Spec for keystone V3 Support changes

This spec will describe necessary changes to the python
neutronclient to integrate with python-keystoneclient
for authentication and session management.

Change-Id: Ia7b3aecba8361db1eabc82c7f93041b4c928ff4f
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/75/96575/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/keystone-v3-api-support.rst'],1,89825eec9f2e02aaa6255e77a475895e68b4d66e,keystone_v3_api_support,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================================== Add support for Keystone V3 APIs in the python-neutron client. ============================================================== URL of the launchpad blueprint: ******************************************************************************** https://blueprints.launchpad.net/python-neutronclient/+spec/keystone-api-v3-support This blueprint is meant to capture the changes necessary to the python-neutron client to comply with the deprecation of the Keystone V2 APIs. All clients have this requirement. Problem description =================== The Keystone V2 API is deprecated as of Icehouse, so the neutron client needs support V3 Keystone endpoints and the additional authentication domain specific parameters. Proposed change =============== Many of the python clients have begun implementing their own versions of an HTTPClient, and this change will instead use the Keystone session class and auth plugin to make HTTP calls. The Keystone session class contains the HTTPClient necessary for requests, as well as methods to get tokens and endpoints. The additional command arguments added to the parser that are keystone specific (--os-...) will be separated into a separate method, as a future version of the keystone client will provided those. This should make refactoring the neutron client easier when that's available. Alternatives ------------ None -- this is a required change. Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- In order to authenticate with V3 in keystone, if a username is provided for authentication, the user's domain name or id must also be provided. Similarly, if a tenant/project name is provided, the tenant's domain name or id must also be specified. Performance Impact ------------------ Shouldn't be any -- the same calls to keystone are being made, just via the keystone client instead of the neutron specific HTTPClient. Other deployer impact --------------------- None. Developer impact ---------------- Same as the end user impact. Implementation ============== Assignee(s) ----------- Bradley Klein (bklei) Work Items ---------- Need to import the keystone client session and auth plugin, and construct both to authenticate. Dependencies ============ None, the keystone client already provides what is needed for this change. Testing ======= Unit testing comprehensively tests the keystone integration, those tests will be modified/enhanced to also test the new V3 code. Documentation Impact ==================== The new domain specific parameters for the neutron command should be documented. References ========== None. ",,121,0
openstack%2Fopenstack-doc-tools~master~If57af0c6f0d46de69c0785635cd57c3a0995654e,openstack/openstack-doc-tools,master,If57af0c6f0d46de69c0785635cd57c3a0995654e,jsoncheck: make formatting check optional,MERGED,2014-06-11 07:24:14.000000000,2014-06-16 16:56:33.000000000,2014-06-16 16:56:32.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 7923}, {'_account_id': 11109}]","[{'number': 1, 'created': '2014-06-11 07:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/0298cff07f21a2e3339a977fc1604e085fe0f0e3', 'message': 'jsoncheck: make formatting check optional\n\nblueprint modularize-doctest\n\ndoctest.py expects to enable syntax checks and formatting checks\nindividually. This patch changes jsoncheck.py to allow that.\n\nThe former boolean ""format"" argument becomes ""formatting"", a variable\nthat can be either ""check"" or ""fix"".\n\nChange-Id: If57af0c6f0d46de69c0785635cd57c3a0995654e\n'}, {'number': 2, 'created': '2014-06-14 09:15:28.000000000', 'files': ['os_doc_tools/jsoncheck.py'], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/b69c64833790fc2088692d8bd8d14487e04fe996', 'message': 'jsoncheck: make formatting check optional\n\nblueprint modularize-doctest\n\ndoctest.py expects to enable syntax checks and formatting checks\nindividually. This patch changes jsoncheck.py to allow that.\n\nThe former boolean ""format"" argument becomes ""formatting"", a variable\nthat can be either ""check"" or ""fix"".\n\nA ValueError is thrown if an invalid formatting argument is given to the\nfunction (to be caught by external callers).\n\nChange-Id: If57af0c6f0d46de69c0785635cd57c3a0995654e\n'}]",2,99285,b69c64833790fc2088692d8bd8d14487e04fe996,17,4,2,11109,,,0,"jsoncheck: make formatting check optional

blueprint modularize-doctest

doctest.py expects to enable syntax checks and formatting checks
individually. This patch changes jsoncheck.py to allow that.

The former boolean ""format"" argument becomes ""formatting"", a variable
that can be either ""check"" or ""fix"".

A ValueError is thrown if an invalid formatting argument is given to the
function (to be caught by external callers).

Change-Id: If57af0c6f0d46de69c0785635cd57c3a0995654e
",git fetch https://review.opendev.org/openstack/openstack-doc-tools refs/changes/85/99285/2 && git format-patch -1 --stdout FETCH_HEAD,['os_doc_tools/jsoncheck.py'],1,0298cff07f21a2e3339a977fc1604e085fe0f0e3,bp/modularize-doctest,"def process_file(path, formatting=None): """"""Check syntax/formatting and fix formatting of a JSON file. :param formatting: one of 'check' or 'fix' """""" if formatting in ('check', 'fix'): formatted = format_parsed_json(parsed) if formatted != raw: if formatting == ""fix"": with open(path, 'w') as outfile: outfile.write(formatted) errstr = indent_note(""Reformatted"") else: errstr = indent_note(""Reformatting needed"") print(""%s\n%s"" % (path, errstr)) parser.add_argument('-f', '--formatting', choices=['check', 'fix'], help='check or fix formatting of JSON files') process_file(path, args.formatting)","def process_file(path, format): """"""Check syntax/formatting and fix formatting of a JSON file."""""" formatted = format_parsed_json(parsed) if formatted != raw: if format: with open(path, 'w') as outfile: outfile.write(formatted) errstr = indent_note(""Reformatted"") else: errstr = indent_note(""Reformatting needed"") print(""%s\n%s"" % (path, errstr)) parser.add_argument('-f', '--format', action='store_true', help='reformat valid JSON files') process_file(path, args.format)",18,14
openstack%2Fopenstack-doc-tools~master~Iafda3ac7f4678d4bb9eb1375e3dc6a072a9679ee,openstack/openstack-doc-tools,master,Iafda3ac7f4678d4bb9eb1375e3dc6a072a9679ee,Include swift in the autohelp-wrapper script,MERGED,2014-06-13 05:30:09.000000000,2014-06-16 16:52:35.000000000,2014-06-16 16:52:35.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 7923}, {'_account_id': 11109}]","[{'number': 1, 'created': '2014-06-13 05:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/4d6c66a83450046d8d68a1d3973b94f18114e554', 'message': 'Include swift in the autohelp-wrapper script\n\nCall the extract_swift_flags script when generating the docbook output.\n\nChange-Id: Iafda3ac7f4678d4bb9eb1375e3dc6a072a9679ee\n'}, {'number': 2, 'created': '2014-06-13 12:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/77f9763a66130a56c7adadf7f6316761541902df', 'message': 'Include swift in the autohelp-wrapper script\n\nCall the extract_swift_flags script when generating the docbook output.\n\nChange-Id: Iafda3ac7f4678d4bb9eb1375e3dc6a072a9679ee\n'}, {'number': 3, 'created': '2014-06-13 20:13:01.000000000', 'files': ['autogenerate_config_docs/autohelp-wrapper'], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/0bcd8cb2fb183f9ed966fc3e69265ba708236000', 'message': 'Include swift in the autohelp-wrapper script\n\nCall the extract_swift_flags script when generating the docbook output.\n\nChange-Id: Iafda3ac7f4678d4bb9eb1375e3dc6a072a9679ee\n'}]",1,99845,0bcd8cb2fb183f9ed966fc3e69265ba708236000,18,4,3,7923,,,0,"Include swift in the autohelp-wrapper script

Call the extract_swift_flags script when generating the docbook output.

Change-Id: Iafda3ac7f4678d4bb9eb1375e3dc6a072a9679ee
",git fetch https://review.opendev.org/openstack/openstack-doc-tools refs/changes/45/99845/1 && git format-patch -1 --stdout FETCH_HEAD,['autogenerate_config_docs/autohelp-wrapper'],1,4d6c66a83450046d8d68a1d3973b94f18114e554,swift-in-wrapper,"EXTRACT_SWIFT=""python $HERE/extract_swift_flags.py""PROJECTS=""ceilometer cinder glance heat keystone neutron nova swift trove"" [ ""$project"" = ""swift"" ] && continue if [ ""$project"" = ""swift"" ]; then $EXTRACT_SWIFT -m $MANUALSREPO -s $SOURCESDIR/swift else $AUTOHELP docbook $project -i $SOURCESDIR/$project fi","PROJECTS=""ceilometer cinder glance heat keystone neutron nova trove"" # Ceilometer pip install swift $AUTOHELP docbook $project -i $SOURCESDIR/$project",8,5
openstack%2Fopenstack-doc-tools~master~I2395aa5c6bfdb30990ec7f930a9277cdef6d3777,openstack/openstack-doc-tools,master,I2395aa5c6bfdb30990ec7f930a9277cdef6d3777,Provide CLI options for extract_swift_flags.py,MERGED,2014-06-12 21:41:21.000000000,2014-06-16 16:51:18.000000000,2014-06-16 16:51:18.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 7923}, {'_account_id': 11109}]","[{'number': 1, 'created': '2014-06-12 21:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/0b1acb00ab1bc9aac662fd705f8d09f9789c1eb5', 'message': 'Procide CLI options for extract_swift_flags.py\n\n3 options:\n  - location of the swift repo\n  - location of the manuals repo\n  - verbosity\n\nThe defaults should be sane to use with the soon-to-be-updated\nautohelp-wrapper.\n\nChange-Id: I2395aa5c6bfdb30990ec7f930a9277cdef6d3777\n'}, {'number': 2, 'created': '2014-06-13 03:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/f43e377e9e1cb078d8dbfeef5dc06d45b6f0ff01', 'message': 'Provide CLI options for extract_swift_flags.py\n\n3 options:\n  - location of the swift repo\n  - location of the manuals repo\n  - verbosity\n\nThe defaults should be sane to use with the soon-to-be-updated\nautohelp-wrapper.\n\nChange-Id: I2395aa5c6bfdb30990ec7f930a9277cdef6d3777\n'}, {'number': 3, 'created': '2014-06-13 12:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/7c0f1640d22d84874f2c78982942b90afc89c857', 'message': 'Provide CLI options for extract_swift_flags.py\n\n3 options:\n  - location of the swift repo\n  - location of the manuals repo\n  - verbosity\n\nThe defaults should be sane to use with the soon-to-be-updated\nautohelp-wrapper.\n\nChange-Id: I2395aa5c6bfdb30990ec7f930a9277cdef6d3777\n'}, {'number': 4, 'created': '2014-06-13 20:12:35.000000000', 'files': ['autogenerate_config_docs/extract_swift_flags.py'], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/cb214b93704d12c97e795a70c0955f6535c2fb06', 'message': 'Provide CLI options for extract_swift_flags.py\n\n3 options:\n  - location of the swift repo\n  - location of the manuals repo\n  - verbosity\n\nThe defaults should be sane to use with the soon-to-be-updated\nautohelp-wrapper.\n\nChange-Id: I2395aa5c6bfdb30990ec7f930a9277cdef6d3777\n'}]",4,99773,cb214b93704d12c97e795a70c0955f6535c2fb06,23,4,4,7923,,,0,"Provide CLI options for extract_swift_flags.py

3 options:
  - location of the swift repo
  - location of the manuals repo
  - verbosity

The defaults should be sane to use with the soon-to-be-updated
autohelp-wrapper.

Change-Id: I2395aa5c6bfdb30990ec7f930a9277cdef6d3777
",git fetch https://review.opendev.org/openstack/openstack-doc-tools refs/changes/73/99773/4 && git format-patch -1 --stdout FETCH_HEAD,['autogenerate_config_docs/extract_swift_flags.py'],1,0b1acb00ab1bc9aac662fd705f8d09f9789c1eb5,swift-options,"import argparsedef extract_descriptions_from_devref(swift_repo, options): rsts = glob.glob(swift_repo + '/doc/source/*.rst')def new_section_file(manuals_repo, sample, current_section): section_filename = (manuals_repo + '/doc/common/tables/' + 'swift-' +def create_new_tables(swift_repo, manuals_repo, verbose): # FIXME(gpocentek): this path shouldn't be hardcoded existing_tables = glob.glob(manuals_repo + '/doc/common/tables/swift*xml') option_descs = extract_descriptions_from_devref(swift_repo, options) conf_samples = glob.glob(swift_repo + '/etc/*conf-sample') section_file = new_section_file(manuals_repo, sample, current_section)def main(): parser = argparse.ArgumentParser( description=""Update the swift options tables"", usage=""%(prog)s [-v] [swift_repo] [output_dir]"") parser.add_argument('-s', '--swift-repo', dest='swift_repo', help=""Location of the swift git repository."", required=False, default=""./sources/swift"") parser.add_argument('-m', '--manuals-repo', dest='manuals_repo', help=""Location of the manuals git repository."", required=False, default=""./sources/openstack-manuals"") parser.add_argument('-v', '--verbose', action='count', default=0, dest='verbose', required=False) args = parser.parse_args() create_new_tables(args.swift_repo, args.manuals_repo, args.verbose) return 0 sys.exit(main())","def extract_descriptions_from_devref(repo, options): rsts = glob.glob(repo + '/doc/source/*.rst')def new_section_file(sample, current_section): section_filename = ('swift-' +def create_new_tables(repo, verbose): existing_tables = glob.glob('../../doc/common/tables/swift*xml') option_descs = extract_descriptions_from_devref(repo, options) conf_samples = glob.glob(repo + '/etc/*conf-sample') section_file = new_section_file(sample, current_section)def main(repo, verbose=0): create_new_tables(repo, verbose) main(sys.argv[1])",38,12
openstack%2Fheat-translator~master~Idbbbf2a9992ffac51bdaf93a68039b0fecc928dc,openstack/heat-translator,master,Idbbbf2a9992ffac51bdaf93a68039b0fecc928dc,TOSCA generator top level code,MERGED,2014-06-10 19:32:25.000000000,2014-06-16 16:49:22.000000000,2014-06-16 16:49:21.000000000,"[{'_account_id': 3}, {'_account_id': 6456}, {'_account_id': 7193}]","[{'number': 1, 'created': '2014-06-10 19:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/392cb474409c6ab5733269d139281df285c69638', 'message': 'TOSCA generator top level code\n\nThis set is invoked after the parser has created the TOSCA graph as the\nintermediate representation.  It iterates over the TOSCA graph and creates\nthe graph for the Heat template.  It invokes the classes in the tosca\nand syntax directories.\n\nPartially implements blueprint heat-translator-tosca\nChange-Id: Idbbbf2a9992ffac51bdaf93a68039b0fecc928dc\n'}, {'number': 2, 'created': '2014-06-11 19:06:51.000000000', 'files': ['translator/hot/__init__.py', 'translator/hot/translate_node_templates.py', 'translator/hot/translate_outputs.py', 'translator/hot/translate_inputs.py', 'translator/hot/tosca_translator.py'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/e76adf3c6cae88970b9fd5baa5d26d3d1a6a85d6', 'message': 'TOSCA generator top level code\n\nThis set is invoked after the parser has created the TOSCA graph as the\nintermediate representation.  It iterates over the TOSCA graph and creates\nthe graph for the Heat template.  It invokes the classes in the tosca\nand syntax directories.\n\nPartially implements blueprint heat-translator-tosca\nChange-Id: Idbbbf2a9992ffac51bdaf93a68039b0fecc928dc\n'}]",0,99191,e76adf3c6cae88970b9fd5baa5d26d3d1a6a85d6,13,3,2,9591,,,0,"TOSCA generator top level code

This set is invoked after the parser has created the TOSCA graph as the
intermediate representation.  It iterates over the TOSCA graph and creates
the graph for the Heat template.  It invokes the classes in the tosca
and syntax directories.

Partially implements blueprint heat-translator-tosca
Change-Id: Idbbbf2a9992ffac51bdaf93a68039b0fecc928dc
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/91/99191/2 && git format-patch -1 --stdout FETCH_HEAD,"['translator/hot/__init__.py', 'translator/hot/translate_node_templates.py', 'translator/hot/translate_outputs.py', 'translator/hot/translate_inputs.py', 'translator/hot/tosca_translator.py']",5,392cb474409c6ab5733269d139281df285c69638,bp/heat-translator-tosca,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from translator.hot.syntax.hot_template import HotTemplate from translator.hot.translate_inputs import TranslateInputs from translator.hot.translate_node_templates import TranslateNodeTemplates from translator.hot.translate_outputs import TranslateOutputs class TOSCATranslator(object): '''Invokes translation methods.''' def __init__(self, tosca, parsed_params): super(TOSCATranslator, self).__init__() self.tosca = tosca self.hot_template = HotTemplate() self.parsed_params = parsed_params def translate(self): self._resolve_input() self.hot_template.description = self.tosca.description self.hot_template.parameters = self._translate_inputs() self.hot_template.resources = self._translate_node_templates() self.hot_template.outputs = self._translate_outputs() return self.hot_template.output_to_yaml() def _translate_inputs(self): translator = TranslateInputs(self.tosca.inputs, self.parsed_params) return translator.translate() def _translate_node_templates(self): translator = TranslateNodeTemplates(self.tosca.nodetemplates, self.hot_template) return translator.translate() def _translate_outputs(self): translator = TranslateOutputs(self.tosca.outputs) return translator.translate() # check all properties for all node and ensure they are resolved # to actual value def _resolve_input(self): for n in self.tosca.nodetemplates: for node_prop in n.properties: if isinstance(node_prop.value, dict): try: self.parsed_params[node_prop.value['get_input']] except Exception: raise ValueError('Must specify all input values in \ TOSCA template, missing %s' % node_prop.value['get_input']) ",,316,0
openstack%2Ftripleo-image-elements~master~I118c8c80ec50b265c22577b075d15f56389b7a47,openstack/tripleo-image-elements,master,I118c8c80ec50b265c22577b075d15f56389b7a47,add some missing set -ue declarations,MERGED,2014-05-10 16:32:42.000000000,2014-06-16 16:49:16.000000000,2014-06-16 16:49:16.000000000,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 8042}, {'_account_id': 8399}, {'_account_id': 9369}]","[{'number': 1, 'created': '2014-05-10 16:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/4c7bee716bf85c8a0ea57772cb94b465e8891604', 'message': ""add some missing set -ue declarations\n\nSince 79ab95b16e78d563c473b5acada62cb3e22d4eb1 dib-lint ensure\nevery element shell scripts have set -e activated.\n\nEven if dib-lint doesn't test it yet, the set -u is already widely\nused.\n\nChange-Id: I118c8c80ec50b265c22577b075d15f56389b7a47\n""}, {'number': 2, 'created': '2014-05-20 07:43:40.000000000', 'files': ['elements/neutron-openvswitch-agent/install.d/90-disable-upstart-network-interface-logging', 'elements/os-apply-config/os-refresh-config/configure.d/50-os-config-applier', 'elements/heat-engine/install.d/20-heat-crontab', 'elements/tripleo-cd/configs/te_commonrc', 'elements/bm-dnsmasq/install.d/75-filter-bootps-cronjob', 'elements/heat-api/os-refresh-config/post-configure.d/79-heat-api', 'elements/qpidd/install.d/20-qpidd', 'elements/neutron-ovs-cleanup/install.d/neutron-source-install/81-neutron-ovs-cleanup', 'elements/mariadb-dev/environment.d/20-mariadb', 'elements/tripleo-cd/configs/te_localrc', 'elements/glance/os-refresh-config/configure.d/10-glance-state', 'elements/openstack-clients/environment.d/10-openstack-clients-venv-dir.bash', 'elements/mysql/environment.d/20-percona', 'elements/neutron-server/install.d/neutron-source-install/80-neutron-server', 'elements/ntp/install.d/50-ntp', 'elements/tripleo-cd/configs/te_hp1rc', 'elements/nova/os-refresh-config/configure.d/10-nova-state', 'elements/tripleo-cd/configs/te_rh1rc'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/25a962a6eb213b7a4aa8083d77491decc716e17e', 'message': ""add some missing set -ue declarations\n\nSince 79ab95b16e78d563c473b5acada62cb3e22d4eb1 dib-lint ensure\nevery element shell scripts have set -e activated.\n\nEven if dib-lint doesn't test it yet, the set -u is already widely\nused.\n\nAs pointed out by Jiri Stransky, elements/tripleo-cd/configs/* files\nare sourced by deploy-testenv. There is no reason to enable set -ue\nmanually. The patch just disable the dib-lint sete check on these files.\n\nChange-Id: I118c8c80ec50b265c22577b075d15f56389b7a47\n""}]",1,93188,25a962a6eb213b7a4aa8083d77491decc716e17e,34,5,2,9268,,,0,"add some missing set -ue declarations

Since 79ab95b16e78d563c473b5acada62cb3e22d4eb1 dib-lint ensure
every element shell scripts have set -e activated.

Even if dib-lint doesn't test it yet, the set -u is already widely
used.

As pointed out by Jiri Stransky, elements/tripleo-cd/configs/* files
are sourced by deploy-testenv. There is no reason to enable set -ue
manually. The patch just disable the dib-lint sete check on these files.

Change-Id: I118c8c80ec50b265c22577b075d15f56389b7a47
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/88/93188/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/neutron-openvswitch-agent/install.d/90-disable-upstart-network-interface-logging', 'elements/os-apply-config/os-refresh-config/configure.d/50-os-config-applier', 'elements/heat-engine/install.d/20-heat-crontab', 'elements/tripleo-cd/configs/te_commonrc', 'elements/bm-dnsmasq/install.d/75-filter-bootps-cronjob', 'elements/heat-api/os-refresh-config/post-configure.d/79-heat-api', 'elements/qpidd/install.d/20-qpidd', 'elements/neutron-ovs-cleanup/install.d/neutron-source-install/81-neutron-ovs-cleanup', 'elements/mariadb-dev/environment.d/20-mariadb', 'elements/tripleo-cd/configs/te_localrc', 'elements/glance/os-refresh-config/configure.d/10-glance-state', 'elements/openstack-clients/environment.d/10-openstack-clients-venv-dir.bash', 'elements/mysql/environment.d/20-percona', 'elements/neutron-server/install.d/neutron-source-install/80-neutron-server', 'elements/ntp/install.d/50-ntp', 'elements/tripleo-cd/configs/te_hp1rc', 'elements/nova/os-refresh-config/configure.d/10-nova-state', 'elements/tripleo-cd/configs/te_rh1rc']",18,4c7bee716bf85c8a0ea57772cb94b465e8891604,lint,set -ue,,26,0
openstack%2Fheat-translator~master~Ida687e6eed53e1edfdc611bc3d27704d9d9f3d67,openstack/heat-translator,master,Ida687e6eed53e1edfdc611bc3d27704d9d9f3d67,TOSCA generator translation for individual TOSCA type.,MERGED,2014-06-10 19:22:40.000000000,2014-06-16 16:46:37.000000000,2014-06-16 16:46:36.000000000,"[{'_account_id': 3}, {'_account_id': 6456}, {'_account_id': 7193}, {'_account_id': 9591}]","[{'number': 1, 'created': '2014-06-10 19:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/3ecdaec3011a75accb9d865ec38bfcf01c0a0fc8', 'message': 'TOSCA generator translation for individual TOSCA type.\n\nEach TOSCA abstract type is handled by a separate generator. These contain the\nnecessary logic to implement the abstract type as concrete Heat resource type.\nIn this set, only the server type requires custom handling.\nAll the other types are software config and are handled by the super class.\nThe WordPress type is a custom type and will be moved to a separate place\n\nPartially implements blueprint heat-translator-tosca\nChange-Id: Ida687e6eed53e1edfdc611bc3d27704d9d9f3d67\nO\n'}, {'number': 2, 'created': '2014-06-11 18:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/b51ec0a2e6af21a17e27ad788faee163789ee9c7', 'message': 'TOSCA generator translation for individual TOSCA type.\n\nEach TOSCA abstract type is handled by a separate generator. These contain the\nnecessary logic to implement the abstract type as concrete Heat resource type.\nIn this set, only the server type requires custom handling.\nAll the other types are software config and are handled by the super class.\nThe WordPress type is a custom type and will be moved to a separate place\n\nPartially implements blueprint heat-translator-tosca\nChange-Id: Ida687e6eed53e1edfdc611bc3d27704d9d9f3d67\n'}, {'number': 3, 'created': '2014-06-11 19:06:51.000000000', 'files': ['translator/hot/tosca/tosca_compute.py', 'translator/hot/tosca/tosca_wordpress.py', 'translator/hot/tosca/__init__.py', 'translator/hot/tosca/tosca_webserver.py', 'translator/hot/tosca/tosca_database.py', 'translator/hot/tosca/tosca_dbms.py'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/40a9ce5629722ebc38d002eecde1fd616d8c30a6', 'message': 'TOSCA generator translation for individual TOSCA type.\n\nEach TOSCA abstract type is handled by a separate generator. These contain the\nnecessary logic to implement the abstract type as concrete Heat resource type.\nIn this set, only the server type requires custom handling.\nAll the other types are software config and are handled by the super class.\nThe WordPress type is a custom type and will be moved to a separate place\n\nPartially implements blueprint heat-translator-tosca\nChange-Id: Ida687e6eed53e1edfdc611bc3d27704d9d9f3d67\nO\n'}]",0,99189,40a9ce5629722ebc38d002eecde1fd616d8c30a6,19,4,3,9591,,,0,"TOSCA generator translation for individual TOSCA type.

Each TOSCA abstract type is handled by a separate generator. These contain the
necessary logic to implement the abstract type as concrete Heat resource type.
In this set, only the server type requires custom handling.
All the other types are software config and are handled by the super class.
The WordPress type is a custom type and will be moved to a separate place

Partially implements blueprint heat-translator-tosca
Change-Id: Ida687e6eed53e1edfdc611bc3d27704d9d9f3d67
O
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/89/99189/3 && git format-patch -1 --stdout FETCH_HEAD,"['translator/hot/tosca/tosca_compute.py', 'translator/hot/tosca/__init__.py', 'translator/hot/tosca/tosca_wordpress.py', 'translator/hot/tosca/tosca_webserver.py', 'translator/hot/tosca/tosca_database.py', 'translator/hot/tosca/tosca_dbms.py']",6,3ecdaec3011a75accb9d865ec38bfcf01c0a0fc8,bp/heat-translator-tosca,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from translator.hot.syntax.hot_resource import HotResource class ToscaDbms(HotResource): '''Translate TOSCA node type tosca.nodes.DBMS.''' toscatype = 'tosca.nodes.DBMS' def __init__(self, nodetemplate): super(ToscaDbms, self).__init__(nodetemplate) pass def handle_properties(self): pass ",,249,0
openstack%2Fsahara~master~I07f0727ca0b051d13bd3b1fa1b5738bb67acd517,openstack/sahara,master,I07f0727ca0b051d13bd3b1fa1b5738bb67acd517,Imported Translations from Transifex,MERGED,2014-06-16 06:01:59.000000000,2014-06-16 16:46:19.000000000,2014-06-16 08:05:06.000000000,"[{'_account_id': 3}, {'_account_id': 7125}, {'_account_id': 7213}]","[{'number': 1, 'created': '2014-06-16 06:01:59.000000000', 'files': ['sahara/locale/ko_KR/LC_MESSAGES/sahara-log-error.po'], 'web_link': 'https://opendev.org/openstack/sahara/commit/6a91c6573cd8a455ff04ef4a76d5b511bf979fca', 'message': 'Imported Translations from Transifex\n\nChange-Id: I07f0727ca0b051d13bd3b1fa1b5738bb67acd517\n'}]",0,100147,6a91c6573cd8a455ff04ef4a76d5b511bf979fca,9,3,1,11131,,,0,"Imported Translations from Transifex

Change-Id: I07f0727ca0b051d13bd3b1fa1b5738bb67acd517
",git fetch https://review.opendev.org/openstack/sahara refs/changes/47/100147/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara/locale/ko_KR/LC_MESSAGES/sahara-log-error.po'],1,6a91c6573cd8a455ff04ef4a76d5b511bf979fca,transifex/translations,"# Translations template for sahara. # Copyright (C) 2014 ORGANIZATION # This file is distributed under the same license as the sahara project. # # Translators: msgid """" msgstr """" ""Project-Id-Version: Sahara\n"" ""Report-Msgid-Bugs-To: EMAIL@ADDRESS\n"" ""POT-Creation-Date: 2014-06-16 06:01+0000\n"" ""PO-Revision-Date: 2014-06-16 04:10+0000\n"" ""Last-Translator: openstackjenkins <jenkins@openstack.org>\n"" ""Language-Team: Korean (Korea) (http://www.transifex.com/projects/p/sahara/"" ""language/ko_KR/)\n"" ""Language: ko_KR\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""Generated-By: Babel 1.3\n"" ""Plural-Forms: nplurals=1; plural=0;\n"" #: sahara/openstack/common/excutils.py:62 #, python-format msgid ""Original exception being dropped: %s"" msgstr ""  : %s"" #: sahara/openstack/common/excutils.py:91 #, python-format msgid ""Unexpected exception occurred %d time(s)... retrying."" msgstr ""   %d  ...  ."" #: sahara/openstack/common/loopingcall.py:89 msgid ""in fixed duration looping call"" msgstr ""   "" #: sahara/openstack/common/loopingcall.py:136 msgid ""in dynamic looping call"" msgstr ""  "" #: sahara/openstack/common/periodic_task.py:179 #, python-format msgid ""Error during %(full_task_name)s: %(e)s"" msgstr ""%(full_task_name)s  : %(e)s"" #: sahara/openstack/common/db/api.py:72 msgid ""DB exceeded retry limit."" msgstr """" #: sahara/openstack/common/db/api.py:76 msgid ""DB connection error."" msgstr ""   ."" #: sahara/openstack/common/db/sqlalchemy/session.py:460 msgid ""DB exception wrapped."" msgstr ""DB  ."" #: sahara/openstack/common/db/sqlalchemy/test_migrations.py:267 #, python-format msgid ""Failed to migrate to version %s on engine %s"" msgstr """" ",,60,0
openstack%2Fheat-translator~master~If9def2d90483d84824e405ed69b61c9fb757d8ac,openstack/heat-translator,master,If9def2d90483d84824e405ed69b61c9fb757d8ac,TOSCA generator template syntax,MERGED,2014-05-28 06:33:37.000000000,2014-06-16 16:44:02.000000000,2014-06-16 16:44:01.000000000,"[{'_account_id': 3}, {'_account_id': 6456}, {'_account_id': 7193}, {'_account_id': 9591}]","[{'number': 1, 'created': '2014-05-28 06:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/51029567016c25db991c1dfe61a44e41fbaad9d9', 'message': 'Classes to hold the required data structure for a Heat template\n\nPartially implements blueprint heat-translator-tosca\nChange-Id: If9def2d90483d84824e405ed69b61c9fb757d8ac\n'}, {'number': 2, 'created': '2014-05-28 22:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/b3e06277d2fbf2f8011bd9215c3dcc1b26ffccce', 'message': 'Classes to hold the required data structure for a Heat template\n\nPartially implements blueprint heat-translator-tosca\nChange-Id: If9def2d90483d84824e405ed69b61c9fb757d8ac\n'}, {'number': 3, 'created': '2014-05-28 23:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/e61b12538dffcf223f9ebea6b185935c96e49de5', 'message': 'Classes to hold the required data structure for a Heat template\n\nPartially implements blueprint heat-translator-tosca\nChange-Id: If9def2d90483d84824e405ed69b61c9fb757d8ac\n'}, {'number': 4, 'created': '2014-05-29 23:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/ee8fff4e1364cbd31a0ce01e8895bc5a199aa481', 'message': 'TOSCA generator template syntax\n\nA set of classes to hold the required data structure for a Heat template.\nThe generator uses these classes to construct the HOT graph, then\nprint the yaml text\n\nPartially implements blueprint heat-translator-tosca\nChange-Id: If9def2d90483d84824e405ed69b61c9fb757d8ac\n'}, {'number': 5, 'created': '2014-06-03 18:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/b2629f263aea04cfaae711414f5b58385ad00aa9', 'message': 'TOSCA generator template syntax\n\nA set of classes to hold the required data structure for a Heat template.\nThe generator uses these classes to construct the HOT graph, then\nprint the yaml text\n\nPartially implements blueprint heat-translator-tosca\nChange-Id: If9def2d90483d84824e405ed69b61c9fb757d8ac\n'}, {'number': 6, 'created': '2014-06-05 23:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/d7771ea40d3056b6196f4c532075a2dc20077fce', 'message': 'TOSCA generator template syntax\n\nA set of classes to hold the required data structure for a Heat template.\nThe generator uses these classes to construct the HOT graph, then\nprint the yaml text\n\nPartially implements blueprint heat-translator-tosca\nChange-Id: If9def2d90483d84824e405ed69b61c9fb757d8ac\n'}, {'number': 7, 'created': '2014-06-06 04:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/5bc578c68d0521f24774c16db20cc4d3f3e239ea', 'message': 'TOSCA generator template syntax\n\nA set of classes to hold the required data structure for a Heat template.\nThe generator uses these classes to construct the HOT graph, then\nprint the yaml text\n\nPartially implements blueprint heat-translator-tosca\nChange-Id: If9def2d90483d84824e405ed69b61c9fb757d8ac\n'}, {'number': 8, 'created': '2014-06-10 19:16:41.000000000', 'files': ['translator/hot/syntax/hot_parameter.py', 'translator/hot/syntax/hot_template.py', 'translator/hot/syntax/hot_output.py', 'translator/hot/syntax/__init__.py', 'translator/hot/syntax/hot_resource.py'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/89c397901c2b88492e28b8ba4effacfadd138e09', 'message': 'TOSCA generator template syntax\n\nA set of classes to hold the required data structure for a Heat template.\nThe generator uses these classes to construct the HOT graph, then\nprint the yaml text\n\nPartially implements blueprint heat-translator-tosca\nChange-Id: If9def2d90483d84824e405ed69b61c9fb757d8ac\n'}]",4,96071,89c397901c2b88492e28b8ba4effacfadd138e09,40,4,8,9591,,,0,"TOSCA generator template syntax

A set of classes to hold the required data structure for a Heat template.
The generator uses these classes to construct the HOT graph, then
print the yaml text

Partially implements blueprint heat-translator-tosca
Change-Id: If9def2d90483d84824e405ed69b61c9fb757d8ac
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/71/96071/8 && git format-patch -1 --stdout FETCH_HEAD,"['translator/hot/syntax/hot_parameter.py', 'translator/hot/syntax/hot_template.py', 'translator/hot/syntax/hot_output.py', 'translator/hot/syntax/__init__.py', 'translator/hot/syntax/hot_resource.py']",5,51029567016c25db991c1dfe61a44e41fbaad9d9,bp/heat-translator-tosca,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. SECTIONS = (TYPE, PROPERTIES, MEDADATA, DEPENDS_ON, UPDATE_POLICY, DELETION_POLICY) = \ ('type', 'properties', 'metadata', 'depends_on', 'update_policy', 'deletion_policy') class HotResource(object): ''' Base class for TOSCA node type translation to Heat resource type ''' def __init__(self, nodetemplate, name=None, type=None, properties=None, metadata=None, depends_on=None, update_policy=None, deletion_policy=None): self.nodetemplate = nodetemplate if name: self.name = name else: self.name = nodetemplate.name self.type = type self.properties = properties # special case for HOT softwareconfig if type == 'OS::Heat::SoftwareConfig': self.properties['group'] = 'script' self.metadata = metadata if depends_on: self.depends_on = depends_on else: self.depends_on = [] self.update_policy = update_policy self.deletion_policy = deletion_policy self.group_dependencies = {} def handle_properties(self): # the property can hold a value or the intrinsic function get_input # for value, copy it # for get_input, convert to get_param for prop in self.nodetemplate.tpl_properties: pass def handle_life_cycle(self): hot_resources = [] deploy_lookup = {} interfaces_deploy_sequence = ['create', 'start', 'configure'] # create HotResrouce for each interface used for deployment: # create, start, configure # ignore the other interfaces # observe the order: create, start, configure # use the current HotResource for the first interface in this order # hold the original name since it will be changed during # the transformation node_name = self.name reserve_current = 'NONE' interfaces_actual = [] for interface in self.nodetemplate.tpl_interfaces: interfaces_actual.append(interface.name) for operation in interfaces_deploy_sequence: if operation in interfaces_actual: reserve_current = operation break # create the set of SoftwareDeployment and SoftwareConfig for # the interface operations for interface in self.nodetemplate.tpl_interfaces: if interface.name in interfaces_deploy_sequence: config_name = node_name+'_'+interface.name+'_config' deploy_name = node_name+'_'+interface.name+'_deploy' hot_resources.append( HotResource(self.nodetemplate, config_name, 'OS::Heat::SoftwareConfig', {'config': {'get_file': interface.implementation}})) if interface.name == reserve_current: deploy_resource = self self.name = deploy_name self.type = 'OS::Heat::SoftwareDeployment' self.properties = {'config': {'get_resource': config_name}} deploy_lookup[interface.name] = self else: deploy_resource = \ HotResource(self.nodetemplate, deploy_name, 'OS::Heat::SoftwareDeployment', {'config': {'get_resource': config_name}}) hot_resources.append(deploy_resource) deploy_lookup[interface.name] = deploy_resource # Add dependencies for the set of HOT resources in the sequence defined # in interfaces_deploy_sequence # TODO: find some better way to encode this implicit sequence group = {} for op, hot in deploy_lookup.iteritems(): # position to determine potential preceding nodes op_index = interfaces_deploy_sequence.index(op) for preceding_op in \ reversed(interfaces_deploy_sequence[:op_index]): preceding_hot = deploy_lookup.get(preceding_op) if preceding_hot: hot.depends_on.append(preceding_hot) group[preceding_hot] = hot break # save this dependency chain in the set of HOT resources self.group_dependencies.update(group) for hot in hot_resources: hot.group_dependencies.update(group) return hot_resources def handle_hosting(self): # handle hosting server for the OS:HEAT::SoftwareDeployment # from the TOSCA nodetemplate, traverse the relationship chain # down to the server if self.type == 'OS::Heat::SoftwareDeployment': # skip if already have hosting host_server = self.properties.get('server') if host_server is None: host_server = self.bottom_of_chain().\ properties['server']['get_resource'] self.properties['server'] = {'get_resource': host_server} def top_of_chain(self): dependent = self.group_dependencies.get(self) if dependent is None: return self else: return dependent.top_of_chain() # TODO: traverse using the relationship requirement:host in TOSCA def bottom_of_chain(self): if len(self.depends_on) == 0: return self else: for preceding in self.depends_on: return preceding.bottom_of_chain() def get_dict_output(self): resource_sections = {TYPE: self.type} if self.properties: resource_sections[PROPERTIES] = self.properties if self.metadata: resource_sections[MEDADATA] = self.metadata if self.depends_on: resource_sections[DEPENDS_ON] = [] for depend in self.depends_on: resource_sections[DEPENDS_ON].append(depend.name) if self.update_policy: resource_sections[UPDATE_POLICY] = self.update_policy if self.deletion_policy: resource_sections[DELETION_POLICY] = self.deletion_policy return {self.name: resource_sections} ",,302,0
openstack%2Ffuel-library~stable%2F4.1~Ie55c2a812455953d6cdf0d701a412a38f6dc8afa,openstack/fuel-library,stable/4.1,Ie55c2a812455953d6cdf0d701a412a38f6dc8afa,Implements memcache storage for keystone tokens,ABANDONED,2014-06-16 07:37:37.000000000,2014-06-16 16:43:59.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-06-16 07:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/43ca892666043dea9d9ccf7665a78a0631c8dfeb', 'message': 'Implements memcache storage for keystone tokens\n\nSwitching keystone token storage to memcache with dogpile cache implementation.\nThis allows to use memcache as non persistence storage in HA mode.\n\nChange-Id: Ie55c2a812455953d6cdf0d701a412a38f6dc8afa\nCloses-Bug: 1269819\n'}, {'number': 2, 'created': '2014-06-16 07:43:23.000000000', 'files': ['deployment/puppet/openstack/manifests/keystone.pp', 'deployment/puppet/keystone/manifests/init.pp', 'deployment/puppet/openstack/manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/bed362776c66e84a52975baeeb05e7d64e68b331', 'message': 'Implements memcache storage for keystone tokens\n\nSwitching keystone token storage to memcache with dogpile cache implementation.\nThis allows to use memcache as non persistence storage in HA mode.\n\nChange-Id: Ie55c2a812455953d6cdf0d701a412a38f6dc8afa\nCloses-Bug: 1269819\n'}]",0,100173,bed362776c66e84a52975baeeb05e7d64e68b331,15,2,2,11090,,,0,"Implements memcache storage for keystone tokens

Switching keystone token storage to memcache with dogpile cache implementation.
This allows to use memcache as non persistence storage in HA mode.

Change-Id: Ie55c2a812455953d6cdf0d701a412a38f6dc8afa
Closes-Bug: 1269819
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/73/100173/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/openstack/manifests/keystone.pp', 'deployment/puppet/keystone/manifests/init.pp', 'deployment/puppet/openstack/manifests/controller.pp']",3,43ca892666043dea9d9ccf7665a78a0631c8dfeb,bug/1269819," memcache_servers => $cache_server_ip, memcache_server_port => $cache_server_port, max_retries => $max_retries, max_pool_size => $max_pool_size, max_overflow => $max_overflow, idle_timeout => $idle_timeout,"," $memcached_addresses = inline_template(""<%= @cache_server_ip.collect {|ip| ip + ':' + @cache_server_port }.join ',' %>"") nova_config {'DEFAULT/memcached_servers': value => $memcached_addresses; } ",67,40
openstack%2Fcookbook-openstack-integration-test~master~I08224d2f4784d2fc041a5806f221e7411d5b813a,openstack/cookbook-openstack-integration-test,master,I08224d2f4784d2fc041a5806f221e7411d5b813a,First pass at cookbook-openstack-integration-test,MERGED,2014-05-21 15:18:41.000000000,2014-06-16 16:01:20.000000000,2014-06-16 16:01:19.000000000,"[{'_account_id': 3}, {'_account_id': 26}, {'_account_id': 1032}, {'_account_id': 6526}, {'_account_id': 7128}, {'_account_id': 7307}, {'_account_id': 10110}, {'_account_id': 11915}]","[{'number': 1, 'created': '2014-05-21 15:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/db0eabb22c8349699482622edb57faed033e2f11', 'message': 'First pass at cookbook-openstack-integration-test\n\nThis is a WIP, and more changes are still required.\n\nChange-Id: I08224d2f4784d2fc041a5806f221e7411d5b813a\n'}, {'number': 2, 'created': '2014-05-22 15:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/324eb8fecd9af941e326896dcce007238e08c886', 'message': 'First pass at cookbook-openstack-integration-test\n\nThis is a WIP, and more changes are still required.\n\nChange-Id: I08224d2f4784d2fc041a5806f221e7411d5b813a\n'}, {'number': 3, 'created': '2014-05-22 15:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/37d3b528ef4b602ddfac7758df145d68a2bb861b', 'message': 'First pass at cookbook-openstack-integration-test\n\nThis is a WIP, and more changes are still required.\n\nChange-Id: I08224d2f4784d2fc041a5806f221e7411d5b813a\n'}, {'number': 4, 'created': '2014-05-22 21:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/e6a35e923b8dd4d9eee7b88518c2eb48be80bbee', 'message': 'First pass at cookbook-openstack-integration-test\n\nThis is a WIP, and more changes are still required.\n\nChange-Id: I08224d2f4784d2fc041a5806f221e7411d5b813a\n'}, {'number': 5, 'created': '2014-05-23 12:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/cde23121805fe3e74bbdfae6076cc7cd038bc121', 'message': 'First pass at cookbook-openstack-integration-test\n\nThis is a WIP, and more changes are still required.\n\nChange-Id: I08224d2f4784d2fc041a5806f221e7411d5b813a\n'}, {'number': 6, 'created': '2014-05-23 13:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/c47265c02ec809b9d85210e832eaa540d026bd83', 'message': 'First pass at cookbook-openstack-integration-test\n\nThis is a WIP, and more changes are still required.\n\nChange-Id: I08224d2f4784d2fc041a5806f221e7411d5b813a\n'}, {'number': 7, 'created': '2014-05-23 14:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/ad3ff21e41c726955f462065329202db43f8e122', 'message': 'First pass at cookbook-openstack-integration-test\n\nThis first pass gets tempest installed to /opt/tempest, and sets up\nnecessary users for testing.  More work needs to be done on adding\ncorrect configuration to tempest.conf and enabling different features\ndepending on what exists in the environment.  This will most likely\ninvolve exposing everything via different attributes.\n\nChange-Id: I08224d2f4784d2fc041a5806f221e7411d5b813a\n'}, {'number': 8, 'created': '2014-05-28 10:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/6b47368febe241dacbb1ddf4ce1881065ef7d61d', 'message': 'First pass at cookbook-openstack-integration-test\n\nThis first pass gets tempest installed to /opt/tempest, and sets up\nnecessary users for testing.  More work needs to be done on adding\ncorrect configuration to tempest.conf and enabling different features\ndepending on what exists in the environment.  This will most likely\ninvolve exposing everything via different attributes.\n\nSince we checkout master of tempest, the cookbook assumes tempest\nwill be executed to use a virtual env.  This will hopefully safe-guard\nus from future package-related issues.  Note that at the moment\nthe python virtual env does NOT build cleanly on RHEL 6.5.  According\nto devstack, it appears that a number of work-arounds are required to\nmake tempest run on RHEL 6.5.\n\nChange-Id: I08224d2f4784d2fc041a5806f221e7411d5b813a\n'}, {'number': 9, 'created': '2014-05-28 10:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/ee7cd579ffdf313c0e688921bd095b3aeaac351f', 'message': 'First pass at cookbook-openstack-integration-test\n\nThis first pass gets tempest installed to /opt/tempest, and sets up\nnecessary users for testing.  More work needs to be done on adding\ncorrect configuration to tempest.conf and enabling different features\ndepending on what exists in the environment.  This will most likely\ninvolve exposing everything via different attributes.\n\nSince we checkout master of tempest, the cookbook assumes tempest\nwill be executed to use a virtual env.  This will hopefully safe-guard\nus from future package-related issues.  Note that at the moment\nthe python virtual env does NOT build cleanly on RHEL 6.5.  According\nto devstack, it appears that a number of work-arounds are required to\nmake tempest run on RHEL 6.5.\n\nChange-Id: I08224d2f4784d2fc041a5806f221e7411d5b813a\n'}, {'number': 10, 'created': '2014-06-05 15:26:29.000000000', 'files': ['TESTING.md', '.gitignore', 'Gemfile', 'templates/default/tempest.conf.erb', 'spec/setup-redhat_spec.rb', 'spec/setup_spec.rb', 'Strainerfile', '.rubocop.yml', 'Berksfile', 'README.md', 'spec/spec_helper.rb', 'Gemfile.lock', 'recipes/setup.rb', 'attributes/default.rb', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/2debea8459d7a83bfa32d3c6b6ed50559b671c1c', 'message': 'First pass at cookbook-openstack-integration-test\n\nThis first pass gets tempest installed to /opt/tempest, and sets up\nnecessary users for testing.  More work needs to be done on adding\ncorrect configuration to tempest.conf and enabling different features\ndepending on what exists in the environment.  This will most likely\ninvolve exposing everything via different attributes.\n\nSince we checkout master of tempest, the cookbook assumes tempest\nwill be executed to use a virtual env.  This will hopefully safe-guard\nus from future package-related issues.  Note that at the moment\nthe python virtual env does NOT build cleanly on RHEL 6.5.  According\nto devstack, it appears that a number of work-arounds are required to\nmake tempest run on RHEL 6.5.\n\nChange-Id: I08224d2f4784d2fc041a5806f221e7411d5b813a\n'}]",3,94647,2debea8459d7a83bfa32d3c6b6ed50559b671c1c,60,8,10,7307,,,0,"First pass at cookbook-openstack-integration-test

This first pass gets tempest installed to /opt/tempest, and sets up
necessary users for testing.  More work needs to be done on adding
correct configuration to tempest.conf and enabling different features
depending on what exists in the environment.  This will most likely
involve exposing everything via different attributes.

Since we checkout master of tempest, the cookbook assumes tempest
will be executed to use a virtual env.  This will hopefully safe-guard
us from future package-related issues.  Note that at the moment
the python virtual env does NOT build cleanly on RHEL 6.5.  According
to devstack, it appears that a number of work-arounds are required to
make tempest run on RHEL 6.5.

Change-Id: I08224d2f4784d2fc041a5806f221e7411d5b813a
",git fetch https://review.opendev.org/openstack/cookbook-openstack-integration-test refs/changes/47/94647/10 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/setup.rb', 'attributes/default.rb', 'templates/default/tempest.conf.erb', 'metadata.rb']",4,db0eabb22c8349699482622edb57faed033e2f11,,"name 'openstack-integration-test' maintainer 'Rackspace Hosting, Inc.' license 'Apache 2.0' description 'Installs and configures the Tempest Integration Test Suite' long_description IO.read(File.join(File.dirname(__FILE__), 'README.md')) version '9.0.0' %w{ ubuntu fedora redhat centos }.each do |os| supports os end %w{ openstack-common openstack-identity openstack-image openstack-compute openstack-block-storage openstack-object-storage }.each do |dep| depends dep end ",,384,0
openstack%2Fmanila~master~Ie4a1a646c63ee29e26379484bb50cd5b3b402cbe,openstack/manila,master,Ie4a1a646c63ee29e26379484bb50cd5b3b402cbe,Removed redundant code for glance,MERGED,2014-06-04 19:44:18.000000000,2014-06-16 15:56:57.000000000,2014-06-16 15:56:57.000000000,"[{'_account_id': 3}, {'_account_id': 177}, {'_account_id': 6491}, {'_account_id': 7173}, {'_account_id': 7534}, {'_account_id': 8851}]","[{'number': 1, 'created': '2014-06-04 19:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bd4f158b26ca986946734dc852b951327d282a8b', 'message': 'Removed redundant code for glance\n\nThis code left as artifact after port from cinder\nRemove it as unused/redundant.\n\nChange-Id: Ie4a1a646c63ee29e26379484bb50cd5b3b402cbe\n'}, {'number': 2, 'created': '2014-06-05 07:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/cbb1b70841a2f4be18e936d597fc9aab1edfbdd5', 'message': 'Removed redundant code for glance\n\nThis code left as artifact after port from cinder\nRemove it as unused/redundant.\n\nChange-Id: Ie4a1a646c63ee29e26379484bb50cd5b3b402cbe\n'}, {'number': 3, 'created': '2014-06-10 08:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/781301627909d6b1bce7a6149f4a22e76f17d6e6', 'message': 'Removed redundant code for glance\n\nThis code left as artifact after port from cinder\nRemove it as unused/redundant.\n\nChange-Id: Ie4a1a646c63ee29e26379484bb50cd5b3b402cbe\n'}, {'number': 4, 'created': '2014-06-16 09:02:47.000000000', 'files': ['manila/tests/image/__init__.py', 'manila/tests/glance/stubs.py', 'requirements.txt', 'manila/tests/glance/__init__.py', 'manila/image/image_utils.py', 'manila/image/glance.py', 'manila/image/__init__.py', 'manila/exception.py', 'manila/tests/image/test_glance.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/809d8bcd8e44e4df6c654e365f593acde51b23ae', 'message': 'Removed redundant code for glance\n\nThis code left as artifact after port from cinder\nRemove it as unused/redundant.\n\nChange-Id: Ie4a1a646c63ee29e26379484bb50cd5b3b402cbe\n'}]",0,97895,809d8bcd8e44e4df6c654e365f593acde51b23ae,27,6,4,8851,,,0,"Removed redundant code for glance

This code left as artifact after port from cinder
Remove it as unused/redundant.

Change-Id: Ie4a1a646c63ee29e26379484bb50cd5b3b402cbe
",git fetch https://review.opendev.org/openstack/manila refs/changes/95/97895/4 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/image/__init__.py', 'manila/image/image_utils.py', 'manila/tests/image/test_glance.py']",3,bd4f158b26ca986946734dc852b951327d282a8b,exceptions,,"# vim: tabstop=4 shiftwidth=4 softtabstop=4 # Copyright 2011 OpenStack LLC. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import datetime import random import time import glanceclient.exc from glanceclient.v2.client import Client as glanceclient_v2 from manila import context from manila import exception from manila.image import glance from manila import test from manila.tests.glance import stubs as glance_stubs from oslo.config import cfg CONF = cfg.CONF class NullWriter(object): """"""Used to test ImageService.get which takes a writer object."""""" def write(self, *arg, **kwargs): pass class TestGlanceSerializer(test.TestCase): def test_serialize(self): metadata = {'name': 'image1', 'is_public': True, 'foo': 'bar', 'properties': { 'prop1': 'propvalue1', 'mappings': [ {'virtual': 'aaa', 'device': 'bbb'}, {'virtual': 'xxx', 'device': 'yyy'}], 'block_device_mapping': [ {'virtual_device': 'fake', 'device_name': '/dev/fake'}, {'virtual_device': 'ephemeral0', 'device_name': '/dev/fake0'}]}} converted_expected = { 'name': 'image1', 'is_public': True, 'foo': 'bar', 'properties': { 'prop1': 'propvalue1', 'mappings': '[{""device"": ""bbb"", ""virtual"": ""aaa""}, ' '{""device"": ""yyy"", ""virtual"": ""xxx""}]', 'block_device_mapping': '[{""virtual_device"": ""fake"", ""device_name"": ""/dev/fake""}, ' '{""virtual_device"": ""ephemeral0"", ' '""device_name"": ""/dev/fake0""}]'}} converted = glance._convert_to_string(metadata) self.assertEqual(converted, converted_expected) self.assertEqual(glance._convert_from_string(converted), metadata) class TestGlanceImageService(test.TestCase): """""" Tests the Glance image service. At a high level, the translations involved are: 1. Glance -> ImageService - This is needed so we can support multple ImageServices (Glance, Local, etc) 2. ImageService -> API - This is needed so we can support multple APIs (OpenStack, EC2) """""" NOW_GLANCE_OLD_FORMAT = ""2010-10-11T10:30:22"" NOW_GLANCE_FORMAT = ""2010-10-11T10:30:22.000000"" class tzinfo(datetime.tzinfo): @staticmethod def utcoffset(*args, **kwargs): return datetime.timedelta() NOW_DATETIME = datetime.datetime(2010, 10, 11, 10, 30, 22, tzinfo=tzinfo()) def setUp(self): super(TestGlanceImageService, self).setUp() #fakes.stub_out_compute_api_snapshot(self.stubs) client = glance_stubs.StubGlanceClient() self.service = self._create_image_service(client) self.context = context.RequestContext('fake', 'fake', auth_token=True) self.stubs.Set(glance.time, 'sleep', lambda s: None) def _create_image_service(self, client): def _fake_create_glance_client(context, host, port, use_ssl, version): return client self.stubs.Set(glance, '_create_glance_client', _fake_create_glance_client) client_wrapper = glance.GlanceClientWrapper('fake', 'fake_host', 9292) return glance.GlanceImageService(client=client_wrapper) @staticmethod def _make_fixture(**kwargs): fixture = {'name': None, 'properties': {}, 'status': None, 'is_public': None} fixture.update(kwargs) return fixture def _make_datetime_fixture(self): return self._make_fixture(created_at=self.NOW_GLANCE_FORMAT, updated_at=self.NOW_GLANCE_FORMAT, deleted_at=self.NOW_GLANCE_FORMAT) def test_create_with_instance_id(self): """"""Ensure instance_id is persisted as an image-property."""""" fixture = {'name': 'test image', 'is_public': False, 'properties': {'instance_id': '42', 'user_id': 'fake'}} image_id = self.service.create(self.context, fixture)['id'] image_meta = self.service.show(self.context, image_id) expected = { 'id': image_id, 'name': 'test image', 'is_public': False, 'size': None, 'min_disk': None, 'min_ram': None, 'disk_format': None, 'container_format': None, 'checksum': None, 'created_at': self.NOW_DATETIME, 'updated_at': self.NOW_DATETIME, 'deleted_at': None, 'deleted': None, 'status': None, 'properties': {'instance_id': '42', 'user_id': 'fake'}, 'owner': None, } self.assertDictMatch(image_meta, expected) image_metas = self.service.detail(self.context) self.assertDictMatch(image_metas[0], expected) def test_create_without_instance_id(self): """""" Ensure we can create an image without having to specify an instance_id. Public images are an example of an image not tied to an instance. """""" fixture = {'name': 'test image', 'is_public': False} image_id = self.service.create(self.context, fixture)['id'] expected = { 'id': image_id, 'name': 'test image', 'is_public': False, 'size': None, 'min_disk': None, 'min_ram': None, 'disk_format': None, 'container_format': None, 'checksum': None, 'created_at': self.NOW_DATETIME, 'updated_at': self.NOW_DATETIME, 'deleted_at': None, 'deleted': None, 'status': None, 'properties': {}, 'owner': None, } actual = self.service.show(self.context, image_id) self.assertDictMatch(actual, expected) def test_create(self): fixture = self._make_fixture(name='test image') num_images = len(self.service.detail(self.context)) image_id = self.service.create(self.context, fixture)['id'] self.assertNotEqual(None, image_id) self.assertEqual(num_images + 1, len(self.service.detail(self.context))) def test_create_and_show_non_existing_image(self): fixture = self._make_fixture(name='test image') image_id = self.service.create(self.context, fixture)['id'] self.assertNotEqual(None, image_id) self.assertRaises(exception.ImageNotFound, self.service.show, self.context, 'bad image id') def test_detail_private_image(self): fixture = self._make_fixture(name='test image') fixture['is_public'] = False properties = {'owner_id': 'proj1'} fixture['properties'] = properties self.service.create(self.context, fixture)['id'] proj = self.context.project_id self.context.project_id = 'proj1' image_metas = self.service.detail(self.context) self.context.project_id = proj self.assertEqual(1, len(image_metas)) self.assertEqual(image_metas[0]['name'], 'test image') self.assertEqual(image_metas[0]['is_public'], False) def test_detail_marker(self): fixtures = [] ids = [] for i in range(10): fixture = self._make_fixture(name='TestImage %d' % (i)) fixtures.append(fixture) ids.append(self.service.create(self.context, fixture)['id']) image_metas = self.service.detail(self.context, marker=ids[1]) self.assertEqual(len(image_metas), 8) i = 2 for meta in image_metas: expected = { 'id': ids[i], 'status': None, 'is_public': None, 'name': 'TestImage %d' % (i), 'properties': {}, 'size': None, 'min_disk': None, 'min_ram': None, 'disk_format': None, 'container_format': None, 'checksum': None, 'created_at': self.NOW_DATETIME, 'updated_at': self.NOW_DATETIME, 'deleted_at': None, 'deleted': None, 'owner': None, } self.assertDictMatch(meta, expected) i = i + 1 def test_detail_limit(self): fixtures = [] ids = [] for i in range(10): fixture = self._make_fixture(name='TestImage %d' % (i)) fixtures.append(fixture) ids.append(self.service.create(self.context, fixture)['id']) image_metas = self.service.detail(self.context, limit=5) self.assertEqual(len(image_metas), 5) def test_detail_default_limit(self): fixtures = [] ids = [] for i in range(10): fixture = self._make_fixture(name='TestImage %d' % (i)) fixtures.append(fixture) ids.append(self.service.create(self.context, fixture)['id']) image_metas = self.service.detail(self.context) for i, meta in enumerate(image_metas): self.assertEqual(meta['name'], 'TestImage %d' % (i)) def test_detail_marker_and_limit(self): fixtures = [] ids = [] for i in range(10): fixture = self._make_fixture(name='TestImage %d' % (i)) fixtures.append(fixture) ids.append(self.service.create(self.context, fixture)['id']) image_metas = self.service.detail(self.context, marker=ids[3], limit=5) self.assertEqual(len(image_metas), 5) i = 4 for meta in image_metas: expected = { 'id': ids[i], 'status': None, 'is_public': None, 'name': 'TestImage %d' % (i), 'properties': {}, 'size': None, 'min_disk': None, 'min_ram': None, 'disk_format': None, 'container_format': None, 'checksum': None, 'created_at': self.NOW_DATETIME, 'updated_at': self.NOW_DATETIME, 'deleted_at': None, 'deleted': None, 'owner': None, } self.assertDictMatch(meta, expected) i = i + 1 def test_detail_invalid_marker(self): fixtures = [] ids = [] for i in range(10): fixture = self._make_fixture(name='TestImage %d' % (i)) fixtures.append(fixture) ids.append(self.service.create(self.context, fixture)['id']) self.assertRaises(exception.Invalid, self.service.detail, self.context, marker='invalidmarker') def test_update(self): fixture = self._make_fixture(name='test image') image = self.service.create(self.context, fixture) print image image_id = image['id'] fixture['name'] = 'new image name' self.service.update(self.context, image_id, fixture) new_image_data = self.service.show(self.context, image_id) self.assertEqual('new image name', new_image_data['name']) def test_delete(self): fixture1 = self._make_fixture(name='test image 1') fixture2 = self._make_fixture(name='test image 2') fixtures = [fixture1, fixture2] num_images = len(self.service.detail(self.context)) self.assertEqual(0, num_images) ids = [] for fixture in fixtures: new_id = self.service.create(self.context, fixture)['id'] ids.append(new_id) num_images = len(self.service.detail(self.context)) self.assertEqual(2, num_images) self.service.delete(self.context, ids[0]) num_images = len(self.service.detail(self.context)) self.assertEqual(1, num_images) def test_show_passes_through_to_client(self): fixture = self._make_fixture(name='image1', is_public=True) image_id = self.service.create(self.context, fixture)['id'] image_meta = self.service.show(self.context, image_id) expected = { 'id': image_id, 'name': 'image1', 'is_public': True, 'size': None, 'min_disk': None, 'min_ram': None, 'disk_format': None, 'container_format': None, 'checksum': None, 'created_at': self.NOW_DATETIME, 'updated_at': self.NOW_DATETIME, 'deleted_at': None, 'deleted': None, 'status': None, 'properties': {}, 'owner': None, } self.assertEqual(image_meta, expected) def test_show_raises_when_no_authtoken_in_the_context(self): fixture = self._make_fixture(name='image1', is_public=False, properties={'one': 'two'}) image_id = self.service.create(self.context, fixture)['id'] self.context.auth_token = False self.assertRaises(exception.ImageNotFound, self.service.show, self.context, image_id) def test_detail_passes_through_to_client(self): fixture = self._make_fixture(name='image10', is_public=True) image_id = self.service.create(self.context, fixture)['id'] image_metas = self.service.detail(self.context) expected = [ { 'id': image_id, 'name': 'image10', 'is_public': True, 'size': None, 'min_disk': None, 'min_ram': None, 'disk_format': None, 'container_format': None, 'checksum': None, 'created_at': self.NOW_DATETIME, 'updated_at': self.NOW_DATETIME, 'deleted_at': None, 'deleted': None, 'status': None, 'properties': {}, 'owner': None, }, ] self.assertEqual(image_metas, expected) def test_show_makes_datetimes(self): fixture = self._make_datetime_fixture() image_id = self.service.create(self.context, fixture)['id'] image_meta = self.service.show(self.context, image_id) self.assertEqual(image_meta['created_at'], self.NOW_DATETIME) self.assertEqual(image_meta['updated_at'], self.NOW_DATETIME) def test_detail_makes_datetimes(self): fixture = self._make_datetime_fixture() self.service.create(self.context, fixture) image_meta = self.service.detail(self.context)[0] self.assertEqual(image_meta['created_at'], self.NOW_DATETIME) self.assertEqual(image_meta['updated_at'], self.NOW_DATETIME) def test_download_with_retries(self): tries = [0] class MyGlanceStubClient(glance_stubs.StubGlanceClient): """"""A client that fails the first time, then succeeds."""""" def get(self, image_id): if tries[0] == 0: tries[0] = 1 raise glanceclient.exc.ServiceUnavailable('') else: return {} client = MyGlanceStubClient() service = self._create_image_service(client) image_id = 1 # doesn't matter writer = NullWriter() # When retries are disabled, we should get an exception self.flags(glance_num_retries=0) self.assertRaises(exception.GlanceConnectionFailed, service.download, self.context, image_id, writer) # Now lets enable retries. No exception should happen now. tries = [0] self.flags(glance_num_retries=1) service.download(self.context, image_id, writer) def test_client_forbidden_converts_to_imagenotauthed(self): class MyGlanceStubClient(glance_stubs.StubGlanceClient): """"""A client that raises a Forbidden exception."""""" def get(self, image_id): raise glanceclient.exc.Forbidden(image_id) client = MyGlanceStubClient() service = self._create_image_service(client) image_id = 1 # doesn't matter writer = NullWriter() self.assertRaises(exception.ImageNotAuthorized, service.download, self.context, image_id, writer) def test_client_httpforbidden_converts_to_imagenotauthed(self): class MyGlanceStubClient(glance_stubs.StubGlanceClient): """"""A client that raises a HTTPForbidden exception."""""" def get(self, image_id): raise glanceclient.exc.HTTPForbidden(image_id) client = MyGlanceStubClient() service = self._create_image_service(client) image_id = 1 # doesn't matter writer = NullWriter() self.assertRaises(exception.ImageNotAuthorized, service.download, self.context, image_id, writer) def test_client_notfound_converts_to_imagenotfound(self): class MyGlanceStubClient(glance_stubs.StubGlanceClient): """"""A client that raises a NotFound exception."""""" def get(self, image_id): raise glanceclient.exc.NotFound(image_id) client = MyGlanceStubClient() service = self._create_image_service(client) image_id = 1 # doesn't matter writer = NullWriter() self.assertRaises(exception.ImageNotFound, service.download, self.context, image_id, writer) def test_client_httpnotfound_converts_to_imagenotfound(self): class MyGlanceStubClient(glance_stubs.StubGlanceClient): """"""A client that raises a HTTPNotFound exception."""""" def get(self, image_id): raise glanceclient.exc.HTTPNotFound(image_id) client = MyGlanceStubClient() service = self._create_image_service(client) image_id = 1 # doesn't matter writer = NullWriter() self.assertRaises(exception.ImageNotFound, service.download, self.context, image_id, writer) def test_glance_client_image_id(self): fixture = self._make_fixture(name='test image') image_id = self.service.create(self.context, fixture)['id'] (service, same_id) = glance.get_remote_image_service(self.context, image_id) self.assertEqual(same_id, image_id) def test_glance_client_image_ref(self): fixture = self._make_fixture(name='test image') image_id = self.service.create(self.context, fixture)['id'] image_url = 'http://something-less-likely/%s' % image_id (service, same_id) = glance.get_remote_image_service(self.context, image_url) self.assertEqual(same_id, image_id) self.assertEqual(service._client.host, 'something-less-likely') class TestGlanceClientVersion(test.TestCase): """"""Tests the version of the glance client generated"""""" def setUp(self): super(TestGlanceClientVersion, self).setUp() def fake_get_image_model(self): return self.stubs.Set(glanceclient_v2, '_get_image_model', fake_get_image_model) self.stubs.Set(glanceclient_v2, '_get_member_model', fake_get_image_model) def test_glance_version_by_flag(self): """"""Test glance version set by flag is honoured"""""" client_wrapper_v1 = glance.GlanceClientWrapper('fake', 'fake_host', 9292) self.assertEqual(client_wrapper_v1.client.__module__, 'glanceclient.v1.client') self.flags(glance_api_version=2) client_wrapper_v2 = glance.GlanceClientWrapper('fake', 'fake_host', 9292) self.assertEqual(client_wrapper_v2.client.__module__, 'glanceclient.v2.client') CONF.reset() def test_glance_version_by_arg(self): """"""Test glance version set by arg to GlanceClientWrapper"""""" client_wrapper_v1 = glance.GlanceClientWrapper('fake', 'fake_host', 9292, version=1) self.assertEqual(client_wrapper_v1.client.__module__, 'glanceclient.v1.client') client_wrapper_v2 = glance.GlanceClientWrapper('fake', 'fake_host', 9292, version=2) self.assertEqual(client_wrapper_v2.client.__module__, 'glanceclient.v2.client') def _create_failing_glance_client(info): class MyGlanceStubClient(glance_stubs.StubGlanceClient): """"""A client that fails the first time, then succeeds."""""" def get(self, image_id): info['num_calls'] += 1 if info['num_calls'] == 1: raise glanceclient.exc.ServiceUnavailable('') return {} return MyGlanceStubClient() ",0,863
openstack%2Fdiskimage-builder~master~Ie860601e1110c770d895877905b1ab43035e3e3e,openstack/diskimage-builder,master,Ie860601e1110c770d895877905b1ab43035e3e3e,Debian: Allow debootstrap configuration,ABANDONED,2014-06-11 11:15:19.000000000,2014-06-16 15:55:23.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-06-11 11:15:19.000000000', 'files': ['elements/debian/root.d/08-debootstrap', 'elements/debian/README.md'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ff59ed21ebb93f6d0ae4c7194b434885041cdcc5', 'message': 'Debian: Allow debootstrap configuration\n\nAdd DIB_DEBOOTSTRAP_EXTRA_ARGS environment variable, which allows extra\narguments to be passed to the debootstrap command when creating an image\nusing the debian element.\n\nAdd DIB_DEBIAN_DEBOOTSTRAP_SCRIPT, the path to a alternative debootstrap\nscript.\n\nSupercedes I87eb856365ff6a17f051e2e56587235648328d57 and\nI42e8832b435b8a77b0681b5bc9d9332bbe860cd5.\n\nChange-Id: Ie860601e1110c770d895877905b1ab43035e3e3e\n'}]",0,99335,ff59ed21ebb93f6d0ae4c7194b434885041cdcc5,5,1,1,8688,,,0,"Debian: Allow debootstrap configuration

Add DIB_DEBOOTSTRAP_EXTRA_ARGS environment variable, which allows extra
arguments to be passed to the debootstrap command when creating an image
using the debian element.

Add DIB_DEBIAN_DEBOOTSTRAP_SCRIPT, the path to a alternative debootstrap
script.

Supercedes I87eb856365ff6a17f051e2e56587235648328d57 and
I42e8832b435b8a77b0681b5bc9d9332bbe860cd5.

Change-Id: Ie860601e1110c770d895877905b1ab43035e3e3e
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/35/99335/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/debian/root.d/08-debootstrap', 'elements/debian/README.md']",2,ff59ed21ebb93f6d0ae4c7194b434885041cdcc5,feature/debootstrap-extra-args," The DIB_DEBOOTSTRAP_EXTRA_ARGS environment variable may be used to pass extra arguments to the debootstrap command used to create the base filesystem image. See manpage debootstrap(8) for full details on the options which may be included. All paths must be absolute. The DIB_DEBIAN_DEBOOTSTRAP_SCRIPT environment variable, if set, will be passed to debootstrap as the script to run. An absolute path must be used.",,12,1
openstack%2Fheat~master~I7b797719036238c424905a5d2555dc00e40f4e89,openstack/heat,master,I7b797719036238c424905a5d2555dc00e40f4e89,parser.Stack add stored_context,MERGED,2014-06-12 17:59:25.000000000,2014-06-16 15:53:08.000000000,2014-06-16 15:53:07.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 6488}, {'_account_id': 6917}, {'_account_id': 7193}, {'_account_id': 8289}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-06-12 17:59:25.000000000', 'files': ['heat/engine/parser.py', 'heat/tests/test_parser.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/0b91f35c014728afbe53dcb20e710578ab37d401', 'message': 'parser.Stack add stored_context\n\nAdds a new stored_context method, which may allow for some cleanup\nin service.py, and also enable switching from the request context\nto the stored context when needed, e.g when the current context\nauth_token is about to expire.\n\nChange-Id: I7b797719036238c424905a5d2555dc00e40f4e89\nPartial-Bug: #1306294\n'}]",0,99728,0b91f35c014728afbe53dcb20e710578ab37d401,21,8,1,4328,,,0,"parser.Stack add stored_context

Adds a new stored_context method, which may allow for some cleanup
in service.py, and also enable switching from the request context
to the stored context when needed, e.g when the current context
auth_token is about to expire.

Change-Id: I7b797719036238c424905a5d2555dc00e40f4e89
Partial-Bug: #1306294
",git fetch https://review.opendev.org/openstack/heat refs/changes/28/99728/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/parser.py', 'heat/tests/test_parser.py']",2,0b91f35c014728afbe53dcb20e710578ab37d401,bug/1306294_3,"import sixfrom heat.common import context for i in six.moves.xrange(len(raw)): for i in six.moves.xrange(len(raw['foo'])): for i in six.moves.xrange(1, len(raw)): for i in six.moves.xrange(1, len(raw)): # Check the stored_context is as expected expected_context = context.RequestContext.from_dict(self.ctx.to_dict()) expected_context.auth_token = None stored_context = self.stack.stored_context().to_dict() self.assertEqual(expected_context.to_dict(), stored_context) # Check the stored_context is as expected expected_context = context.RequestContext( trust_id='atrust', trustor_user_id='auser123', request_id=self.ctx.request_id, is_admin=False).to_dict() stored_context = self.stack.stored_context().to_dict() self.assertEqual(expected_context, stored_context) def test_stored_context_err(self): """""" Test stored_context error path. """""" self.stack = parser.Stack(self.ctx, 'creds_stack', self.tmpl) ex = self.assertRaises(exception.Error, self.stack.stored_context) expected_err = 'Attempt to use stored_context with no user_creds' self.assertEqual(expected_err, six.text_type(ex)) ","from six.moves import xrange for i in xrange(len(raw)): for i in xrange(len(raw['foo'])): for i in xrange(1, len(raw)): for i in xrange(1, len(raw)):",44,5
openstack%2Ftaskflow~master~I6bae61591fb988cc17fa79e21cb5f1508d22781c,openstack/taskflow,master,I6bae61591fb988cc17fa79e21cb5f1508d22781c,Upgrade hacking version and fix some of the issues,MERGED,2014-06-12 01:46:47.000000000,2014-06-16 15:53:05.000000000,2014-06-16 15:53:05.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 7366}]","[{'number': 1, 'created': '2014-06-12 01:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/2bec4181bf7b75f12bd514a484c4b794d8fbbb89', 'message': 'Upgrade hacking version and fix some of the issues\n\nUpdate hacking to the new requirements version and\nfix about half of the new reported issues. The other\nhacking issues are for now ignored until fixed by\nadjusting our tox.ini file.\n\nChange-Id: I6bae61591fb988cc17fa79e21cb5f1508d22781c\n'}, {'number': 2, 'created': '2014-06-12 01:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/deb80a5558c6325bc476c94c131965f44312fb01', 'message': 'Upgrade hacking version and fix some of the issues\n\nUpdate hacking to the new requirements version and\nfix about half of the new reported issues. The other\nhacking issues are for now ignored until fixed by\nadjusting our tox.ini file.\n\nChange-Id: I6bae61591fb988cc17fa79e21cb5f1508d22781c\n'}, {'number': 3, 'created': '2014-06-12 05:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/f24c1339db6a0cbab7d940b1141c7898209ff7c6', 'message': 'Upgrade hacking version and fix some of the issues\n\nUpdate hacking to the new requirements version and\nfix about half of the new reported issues. The other\nhacking issues are for now ignored until fixed by\nadjusting our tox.ini file.\n\nChange-Id: I6bae61591fb988cc17fa79e21cb5f1508d22781c\n'}, {'number': 4, 'created': '2014-06-12 20:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/02a914d17c4261d30d6a98c688774536d092d196', 'message': 'Upgrade hacking version and fix some of the issues\n\nUpdate hacking to the new requirements version and\nfix about half of the new reported issues. The other\nhacking issues are for now ignored until fixed by\nadjusting our tox.ini file.\n\nChange-Id: I6bae61591fb988cc17fa79e21cb5f1508d22781c\n'}, {'number': 5, 'created': '2014-06-14 02:27:59.000000000', 'files': ['taskflow/engines/worker_based/server.py', 'taskflow/types/graph.py', 'taskflow/engines/base.py', 'test-requirements.txt', 'taskflow/engines/action_engine/runtime.py', 'taskflow/jobs/job.py', 'tox-tmpl.ini', 'taskflow/utils/reflection.py', 'taskflow/atom.py', 'taskflow/persistence/backends/impl_sqlalchemy.py', 'taskflow/tests/unit/persistence/test_sql_persistence.py', 'taskflow/jobs/backends/__init__.py', 'taskflow/flow.py', 'taskflow/storage.py', 'taskflow/test.py', 'taskflow/persistence/backends/impl_zookeeper.py', 'taskflow/persistence/backends/impl_memory.py', 'taskflow/jobs/jobboard.py', 'taskflow/engines/helpers.py', 'taskflow/tests/unit/test_utils_lock_utils.py', 'taskflow/engines/worker_based/protocol.py', 'taskflow/engines/worker_based/worker.py', 'taskflow/conductors/single_threaded.py', 'taskflow/utils/persistence_utils.py', 'taskflow/engines/worker_based/proxy.py', 'taskflow/persistence/logbook.py', 'taskflow/engines/action_engine/analyzer.py', 'taskflow/patterns/graph_flow.py', 'taskflow/persistence/backends/base.py', 'taskflow/tests/unit/jobs/__init__.py', 'taskflow/engines/worker_based/executor.py', 'taskflow/conductors/base.py', 'taskflow/task.py', 'taskflow/utils/lock_utils.py', 'taskflow/persistence/backends/impl_dir.py', 'taskflow/engines/action_engine/compiler.py', 'taskflow/tests/test_examples.py', 'taskflow/exceptions.py', 'taskflow/retry.py', 'taskflow/states.py', 'taskflow/utils/kazoo_utils.py', 'taskflow/persistence/backends/__init__.py', 'taskflow/utils/misc.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/c558da07b65bebdc6940be72348d126fa1eccda6', 'message': ""Upgrade hacking version and fix some of the issues\n\nUpdate hacking to the new requirements version and\nfix about half of the new reported issues. The other\nhacking issues are for now ignored until fixed by\nadjusting our tox.ini file.\n\nThis commit fixes the following new hacking errors:\n\nH405 - multi line docstring summary not separated\n       with an empty line\nE265 - block comment should start with '# '\nF402 - import 'endpoint' from line 21 shadowed by\n       loop variable\n\nChange-Id: I6bae61591fb988cc17fa79e21cb5f1508d22781c\n""}]",1,99531,c558da07b65bebdc6940be72348d126fa1eccda6,21,3,5,1297,,,0,"Upgrade hacking version and fix some of the issues

Update hacking to the new requirements version and
fix about half of the new reported issues. The other
hacking issues are for now ignored until fixed by
adjusting our tox.ini file.

This commit fixes the following new hacking errors:

H405 - multi line docstring summary not separated
       with an empty line
E265 - block comment should start with '# '
F402 - import 'endpoint' from line 21 shadowed by
       loop variable

Change-Id: I6bae61591fb988cc17fa79e21cb5f1508d22781c
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/31/99531/4 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/worker_based/server.py', 'taskflow/types/graph.py', 'taskflow/engines/base.py', 'test-requirements.txt', 'taskflow/engines/action_engine/runtime.py', 'taskflow/jobs/job.py', 'tox-tmpl.ini', 'taskflow/utils/reflection.py', 'taskflow/atom.py', 'taskflow/persistence/backends/impl_sqlalchemy.py', 'taskflow/tests/unit/persistence/test_sql_persistence.py', 'taskflow/jobs/backends/__init__.py', 'taskflow/flow.py', 'taskflow/storage.py', 'taskflow/test.py', 'taskflow/persistence/backends/impl_zookeeper.py', 'taskflow/persistence/backends/impl_memory.py', 'taskflow/jobs/jobboard.py', 'taskflow/engines/helpers.py', 'taskflow/tests/unit/test_utils_lock_utils.py', 'taskflow/engines/worker_based/protocol.py', 'taskflow/engines/worker_based/worker.py', 'taskflow/conductors/single_threaded.py', 'taskflow/utils/persistence_utils.py', 'taskflow/engines/worker_based/proxy.py', 'taskflow/persistence/logbook.py', 'taskflow/engines/action_engine/analyzer.py', 'taskflow/patterns/graph_flow.py', 'taskflow/persistence/backends/base.py', 'taskflow/tests/unit/jobs/__init__.py', 'taskflow/engines/worker_based/executor.py', 'taskflow/conductors/base.py', 'taskflow/task.py', 'taskflow/utils/lock_utils.py', 'taskflow/persistence/backends/impl_dir.py', 'taskflow/engines/action_engine/compiler.py', 'taskflow/tests/test_examples.py', 'taskflow/exceptions.py', 'taskflow/retry.py', 'taskflow/states.py', 'taskflow/utils/kazoo_utils.py', 'taskflow/persistence/backends/__init__.py', 'taskflow/utils/misc.py', 'tox.ini']",44,2bec4181bf7b75f12bd514a484c4b794d8fbbb89,fix-hacking,"ignore = H307,H305,H904,E265",,518,285
openstack%2Fpython-cinderclient~master~Ia99b6d46b1944db631fc4bd446aeae77abb08262,openstack/python-cinderclient,master,Ia99b6d46b1944db631fc4bd446aeae77abb08262,Pretty print of endpoints for ambiguous error,MERGED,2014-02-24 19:20:01.000000000,2014-06-16 15:48:56.000000000,2014-06-16 15:48:56.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 4355}, {'_account_id': 4656}, {'_account_id': 8736}]","[{'number': 1, 'created': '2014-02-24 19:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/bc6c337d26bed4897af9f67f39eec83c8e8c50fc', 'message': 'Pretty print of endpoints for ambiguous error\n\nPretty print the list of endpoints by region for ambigous endpoint error\n\nChange-Id: Ia99b6d46b1944db631fc4bd446aeae77abb08262\nCloses-Bug: #1241177\n'}, {'number': 2, 'created': '2014-02-24 19:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/4a31e70b027e7459915abf1fc0e17c0a25db7399', 'message': 'Pretty print of endpoints for ambiguous error\n\nPretty print the list of endpoints by region for ambigous endpoint error\n\nChange-Id: Ia99b6d46b1944db631fc4bd446aeae77abb08262\nCloses-Bug: #1241177\n'}, {'number': 3, 'created': '2014-03-04 15:32:00.000000000', 'files': ['cinderclient/service_catalog.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/7f56f0a8c315d514fcbb6ae353a5cc83ce1a5c84', 'message': 'Pretty print of endpoints for ambiguous error\n\nPretty print the list of endpoints by region for ambigous endpoint error\n\nChange-Id: Ia99b6d46b1944db631fc4bd446aeae77abb08262\nCloses-Bug: #1241177\n'}]",2,75962,7f56f0a8c315d514fcbb6ae353a5cc83ce1a5c84,22,5,3,8736,,,0,"Pretty print of endpoints for ambiguous error

Pretty print the list of endpoints by region for ambigous endpoint error

Change-Id: Ia99b6d46b1944db631fc4bd446aeae77abb08262
Closes-Bug: #1241177
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/62/75962/1 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/service_catalog.py'],1,bc6c337d26bed4897af9f67f39eec83c8e8c50fc,bug/1241177, try: eplist = [str(ep[attr]) for ep in matching_endpoints] except: eplist = matching_endpoints raise cinderclient.exceptions.AmbiguousEndpoints(endpoints=eplist), raise cinderclient.exceptions.AmbiguousEndpoints( endpoints=matching_endpoints),5,2
openstack%2Fironic~master~Ia4193ea561a31e54754049d9964c6c9021474caf,openstack/ironic,master,Ia4193ea561a31e54754049d9964c6c9021474caf,Remove 'node' parameter from the validate() methods,MERGED,2014-04-29 17:16:27.000000000,2014-06-16 15:47:18.000000000,2014-06-16 15:47:17.000000000,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 2889}, {'_account_id': 3099}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 7882}, {'_account_id': 8003}, {'_account_id': 8106}, {'_account_id': 8125}, {'_account_id': 10239}, {'_account_id': 11702}]","[{'number': 1, 'created': '2014-04-29 17:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/73ae96abb493b0bda90d1c619f96269965b08e34', 'message': ""Remove 'node' parameter from the validate() methods\n\nThe node parameter is redundant since the node object is an attribute\nof the task object.\n\nCloses-Bug: #1312632\nChange-Id: Ia4193ea561a31e54754049d9964c6c9021474caf\n""}, {'number': 2, 'created': '2014-04-30 09:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/10bbe825d0e3048e73a6aa004e771edfb3b143c9', 'message': ""Remove 'node' parameter from the validate() methods\n\nThe node parameter is redundant since the node object is an attribute\nof the task object.\n\nCloses-Bug: #1312632\nChange-Id: Ia4193ea561a31e54754049d9964c6c9021474caf\n""}, {'number': 3, 'created': '2014-05-08 10:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a36aff04088396c573928d5531e6b3c458b8f04a', 'message': ""Remove 'node' parameter from the validate() methods\n\nThe node parameter is redundant since the node object is an attribute\nof the task object.\n\nCloses-Bug: #1312632\nChange-Id: Ia4193ea561a31e54754049d9964c6c9021474caf\n""}, {'number': 4, 'created': '2014-05-19 10:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/638ef13f522b6b41bac7e70c54efbf764e69d60b', 'message': ""Remove 'node' parameter from the validate() methods\n\nThe node parameter is redundant since the node object is an attribute\nof the task object.\n\nCloses-Bug: #1312632\nChange-Id: Ia4193ea561a31e54754049d9964c6c9021474caf\n""}, {'number': 5, 'created': '2014-05-19 10:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/88086582e4cbde91a392fe66da1b60cf1a49971c', 'message': ""Remove 'node' parameter from the validate() methods\n\nThe node parameter is redundant since the node object is an attribute\nof the task object.\n\nCloses-Bug: #1312632\nChange-Id: Ia4193ea561a31e54754049d9964c6c9021474caf\n""}, {'number': 6, 'created': '2014-05-22 15:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/413372d7d93ffbd5e38b6f52ac0f15c8af69bc1a', 'message': ""Remove 'node' parameter from the validate() methods\n\nThe node parameter is redundant since the node object is an attribute\nof the task object.\n\nCloses-Bug: #1312632\nChange-Id: Ia4193ea561a31e54754049d9964c6c9021474caf\n""}, {'number': 7, 'created': '2014-05-23 10:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1a6bbfd47a6b0a6e0ab4aa23a308ddee6873f374', 'message': ""Remove 'node' parameter from the validate() methods\n\nThe node parameter is redundant since the node object is an attribute\nof the task object.\n\nCloses-Bug: #1312632\nChange-Id: Ia4193ea561a31e54754049d9964c6c9021474caf\n""}, {'number': 8, 'created': '2014-05-26 10:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/038060fba81520e43ba4b2dee815970a99c129b8', 'message': ""Remove 'node' parameter from the validate() methods\n\nThe node parameter is redundant since the node object is an attribute\nof the task object.\n\nCloses-Bug: #1312632\nChange-Id: Ia4193ea561a31e54754049d9964c6c9021474caf\n""}, {'number': 9, 'created': '2014-05-29 09:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/168e0b993c0b6f9f5d679719fdbcf56f7a91879f', 'message': ""Remove 'node' parameter from the validate() methods\n\nThe node parameter is redundant since the node object is an attribute\nof the task object.\n\nCloses-Bug: #1312632\nChange-Id: Ia4193ea561a31e54754049d9964c6c9021474caf\n""}, {'number': 10, 'created': '2014-06-10 14:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cfca5570fa146d00380680123d5a91d7e0eb2988', 'message': ""Remove 'node' parameter from the validate() methods\n\nThe node parameter is redundant since the node object is an attribute\nof the task object.\n\nCloses-Bug: #1312632\nChange-Id: Ia4193ea561a31e54754049d9964c6c9021474caf\n""}, {'number': 11, 'created': '2014-06-10 17:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4bf3622891ed7d8dae12f66a40c79b1aa0f7b6ce', 'message': ""Remove 'node' parameter from the validate() methods\n\nThe node parameter is redundant since the node object is an attribute\nof the task object.\n\nCloses-Bug: #1312632\nChange-Id: Ia4193ea561a31e54754049d9964c6c9021474caf\n""}, {'number': 12, 'created': '2014-06-16 13:15:30.000000000', 'files': ['ironic/tests/drivers/test_ssh.py', 'ironic/drivers/base.py', 'ironic/tests/drivers/test_seamicro.py', 'ironic/tests/drivers/test_pxe.py', 'ironic/tests/drivers/test_fake.py', 'ironic/tests/conductor/test_manager.py', 'ironic/conductor/manager.py', 'ironic/drivers/modules/pxe.py', 'ironic/drivers/modules/seamicro.py', 'ironic/drivers/modules/ssh.py', 'ironic/drivers/modules/ipmitool.py', 'ironic/drivers/modules/ipminative.py', 'ironic/drivers/modules/fake.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/216969427b964d91079c0f781b8579a6aaa8290c', 'message': ""Remove 'node' parameter from the validate() methods\n\nThe node parameter is redundant since the node object is an attribute\nof the task object.\n\nCloses-Bug: #1312632\nChange-Id: Ia4193ea561a31e54754049d9964c6c9021474caf\n""}]",3,91104,216969427b964d91079c0f781b8579a6aaa8290c,78,12,12,6773,,,0,"Remove 'node' parameter from the validate() methods

The node parameter is redundant since the node object is an attribute
of the task object.

Closes-Bug: #1312632
Change-Id: Ia4193ea561a31e54754049d9964c6c9021474caf
",git fetch https://review.opendev.org/openstack/ironic refs/changes/04/91104/12 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/drivers/test_ipmitool.py', 'ironic/tests/drivers/test_ssh.py', 'ironic/drivers/base.py', 'ironic/tests/drivers/test_seamicro.py', 'ironic/tests/drivers/test_pxe.py', 'ironic/tests/drivers/test_fake.py', 'ironic/tests/conductor/test_manager.py', 'ironic/conductor/manager.py', 'ironic/drivers/modules/pxe.py', 'ironic/drivers/modules/seamicro.py', 'ironic/drivers/modules/ssh.py', 'ironic/drivers/modules/ipmitool.py', 'ironic/drivers/modules/ipminative.py', 'ironic/drivers/modules/fake.py']",14,73ae96abb493b0bda90d1c619f96269965b08e34,bug/1312632-node-param," def validate(self, task): def validate(self, task): def validate(self, task):"," def validate(self, task, node): def validate(self, task, node): def validate(self, task, node):",40,60
openstack%2Fbarbican~master~I8a485b214db3d27232be5fcfaca0c16aeb54d5e5,openstack/barbican,master,I8a485b214db3d27232be5fcfaca0c16aeb54d5e5,Add certificate to the container type option,MERGED,2014-06-10 17:38:16.000000000,2014-06-16 15:40:25.000000000,2014-06-16 15:40:24.000000000,"[{'_account_id': 3}, {'_account_id': 994}, {'_account_id': 7063}, {'_account_id': 7136}, {'_account_id': 7398}, {'_account_id': 7789}, {'_account_id': 8004}]","[{'number': 1, 'created': '2014-06-10 17:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/a424cbc9121194cabae454e7e9985031d9eb76c5', 'message': 'Add certificate to the container type\n\nThis enhancement is need to store SSL certificates\nusing container resource.\n\nImplements: blueprint add-certificate-to-the-container-type\n\nChange-Id: I8a485b214db3d27232be5fcfaca0c16aeb54d5e5\n'}, {'number': 2, 'created': '2014-06-10 22:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/90360f056bb77ae8cdceb1fb4e713fffbe73106c', 'message': 'Add certificate to the container type\n\nThis enhancement is need to store SSL certificates\nusing container resource.\n\nImplements: blueprint add-certificate-to-the-container-type\n\nChange-Id: I8a485b214db3d27232be5fcfaca0c16aeb54d5e5\n'}, {'number': 3, 'created': '2014-06-10 23:14:14.000000000', 'files': ['barbican/common/validators.py', 'barbican/model/models.py', 'barbican/tests/common/test_validators.py', 'barbican/model/migration/alembic_migrations/versions/cd4106a1a0_add_cert_to_container_type.py', 'barbican/tests/model/test_models.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/8ce67d0f441e0f133e6db75f32a5d9dd035ea9c0', 'message': 'Add certificate to the container type option\n\nThis enhancement is need to store SSL certificates\nusing container resource.\n\nImplements: blueprint add-certificate-to-the-container-type\n\nChange-Id: I8a485b214db3d27232be5fcfaca0c16aeb54d5e5\n'}]",0,99174,8ce67d0f441e0f133e6db75f32a5d9dd035ea9c0,20,7,3,994,,,0,"Add certificate to the container type option

This enhancement is need to store SSL certificates
using container resource.

Implements: blueprint add-certificate-to-the-container-type

Change-Id: I8a485b214db3d27232be5fcfaca0c16aeb54d5e5
",git fetch https://review.opendev.org/openstack/barbican refs/changes/74/99174/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/common/validators.py', 'barbican/model/models.py', 'barbican/tests/common/test_validators.py', 'barbican/tests/model/test_models.py']",4,a424cbc9121194cabae454e7e9985031d9eb76c5,bp/add-certificate-to-the-container-type," def test_new_certificate_container_is_created_from_dict(self): self.parsed_container['type'] = 'certificate' container = models.Container(self.parsed_container) self.assertEqual(container.name, self.parsed_container['name']) self.assertEqual(container.type, self.parsed_container['type']) self.assertEqual(len(container.container_secrets), len(self.parsed_container['secret_refs'])) self.assertEqual(container.container_secrets[0].name, self.parsed_container['secret_refs'][0]['name']) self.assertEqual(container.container_secrets[0].secret_id, self.parsed_container['secret_refs'][0]['secret_ref']) self.assertEqual(container.container_secrets[1].name, self.parsed_container['secret_refs'][1]['name']) self.assertEqual(container.container_secrets[1].secret_id, self.parsed_container['secret_refs'][1]['secret_ref']) self.assertEqual(container.container_secrets[2].name, self.parsed_container['secret_refs'][2]['name']) self.assertEqual(container.container_secrets[2].secret_id, self.parsed_container['secret_refs'][2]['secret_ref']) ",,97,2
openstack%2Fironic~master~Ic8fb626874ed6cb11494c84dc184d70686441b0f,openstack/ironic,master,Ic8fb626874ed6cb11494c84dc184d70686441b0f,Driver interface's validate should return nothing,MERGED,2014-06-04 16:52:47.000000000,2014-06-16 15:31:32.000000000,2014-06-16 09:15:44.000000000,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 6618}, {'_account_id': 6623}, {'_account_id': 6773}, {'_account_id': 7589}, {'_account_id': 7882}, {'_account_id': 8106}, {'_account_id': 8125}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11702}]","[{'number': 1, 'created': '2014-06-04 16:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dcf4cd6ca3d5ce03f23a06a867ceccc17344e87c', 'message': ""Driver interface's validate should return nothing\n\nSome of the driver interface's validate(), eg pxe.VendorPassthru.validate()\nreturns True. The expected behaviour is for them to raise an exception if\nvalidation isn't successful, or return nothing if validation succeeds.\n\nThis is fixed.\n\nThe docstrings for the validate functions in the base class have been updated\nto mention that nothing should be returned.\n\nChange-Id: Ic8fb626874ed6cb11494c84dc184d70686441b0f\nCloses-Bug: #1288363\n""}, {'number': 2, 'created': '2014-06-05 00:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2338dd903439d00fd1cd405ea38cc7b6720ab2c3', 'message': ""Driver interface's validate should return nothing\n\nSome of the driver interface's validate(), eg pxe.VendorPassthru.validate()\nreturns True. The expected behaviour is for them to raise an exception if\nvalidation isn't successful, or return nothing if validation succeeds.\n\nThis is fixed.\n\nThe docstrings for the validate functions in the base class have been updated\nto mention that they should return None.\n\nChange-Id: Ic8fb626874ed6cb11494c84dc184d70686441b0f\nCloses-Bug: #1288363\n""}, {'number': 3, 'created': '2014-06-09 21:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/648719843e438854995039e400b31e90be181064', 'message': ""Driver interface's validate should return nothing\n\nSome of the driver interface's validate(), eg pxe.VendorPassthru.validate()\nreturns True. The expected behaviour is for them to raise an exception if\nvalidation isn't successful, or return nothing if validation succeeds.\n\nThis is fixed.\n\nThe docstrings for the validate functions in the base class have been updated\nto mention that they should return None.\n\nChange-Id: Ic8fb626874ed6cb11494c84dc184d70686441b0f\nCloses-Bug: #1288363\n""}, {'number': 4, 'created': '2014-06-12 21:29:56.000000000', 'files': ['ironic/drivers/base.py', 'ironic/drivers/modules/pxe.py', 'ironic/drivers/modules/seamicro.py', 'ironic/drivers/modules/ipmitool.py', 'ironic/drivers/modules/fake.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2891f18d598412b8ae48bccd09f331d8013aa20a', 'message': ""Driver interface's validate should return nothing\n\nSome of the driver interface's validate(), eg pxe.VendorPassthru.validate()\nreturns True. The expected behaviour is for them to raise an exception if\nvalidation isn't successful, or return nothing if validation succeeds.\n\nThis is fixed.\n\nThe docstrings for the validate functions in the base class have been updated\nto mention that they should return None.\n\nChange-Id: Ic8fb626874ed6cb11494c84dc184d70686441b0f\nCloses-Bug: #1288363\n""}]",5,97855,2891f18d598412b8ae48bccd09f331d8013aa20a,60,12,4,6618,,,0,"Driver interface's validate should return nothing

Some of the driver interface's validate(), eg pxe.VendorPassthru.validate()
returns True. The expected behaviour is for them to raise an exception if
validation isn't successful, or return nothing if validation succeeds.

This is fixed.

The docstrings for the validate functions in the base class have been updated
to mention that they should return None.

Change-Id: Ic8fb626874ed6cb11494c84dc184d70686441b0f
Closes-Bug: #1288363
",git fetch https://review.opendev.org/openstack/ironic refs/changes/55/97855/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/base.py', 'ironic/drivers/modules/pxe.py', 'ironic/drivers/modules/seamicro.py', 'ironic/drivers/modules/ipmitool.py', 'ironic/drivers/modules/fake.py']",5,dcf4cd6ca3d5ce03f23a06a867ceccc17344e87c,bug/1288363, pass pass, return True return True,16,11
openstack%2Fopenstack-doc-tools~master~Iccf331f678513a2fdf19ffdae9e3b87ffb14f5ea,openstack/openstack-doc-tools,master,Iccf331f678513a2fdf19ffdae9e3b87ffb14f5ea,Don't check the autohelp-wrapper output dirs,MERGED,2014-06-13 04:47:44.000000000,2014-06-16 15:28:59.000000000,2014-06-16 15:28:59.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 7923}, {'_account_id': 11109}]","[{'number': 1, 'created': '2014-06-13 04:47:44.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/92e6b6f14735c6e3f9cbf10ca07387c3071f7434', 'message': ""Don't check the autohelp-wrapper output dirs\n\nMake flake8 ignore the sources/ and venv/ folder generated by the\nautohelp-wrapper script.\n\nChange-Id: Iccf331f678513a2fdf19ffdae9e3b87ffb14f5ea\n""}]",0,99839,92e6b6f14735c6e3f9cbf10ca07387c3071f7434,11,4,1,7923,,,0,"Don't check the autohelp-wrapper output dirs

Make flake8 ignore the sources/ and venv/ folder generated by the
autohelp-wrapper script.

Change-Id: Iccf331f678513a2fdf19ffdae9e3b87ffb14f5ea
",git fetch https://review.opendev.org/openstack/openstack-doc-tools refs/changes/39/99839/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,92e6b6f14735c6e3f9cbf10ca07387c3071f7434,flake-exclude,"exclude=.venv,.git,.tox,dist,*openstack/common*,*lib/python*,*egg,build,*autogenerate_config_docs/venv,*autogenerate_config_docs/sources","exclude=.venv,.git,.tox,dist,*openstack/common*,*lib/python*,*egg,build",1,1
openstack%2Fcookbook-openstack-compute~master~I9839c7629bb58489468fd98032abcb76a87725f7,openstack/cookbook-openstack-compute,master,I9839c7629bb58489468fd98032abcb76a87725f7,Add resize_confirm_window configuration option,MERGED,2014-06-16 03:24:54.000000000,2014-06-16 15:27:54.000000000,2014-06-16 15:27:54.000000000,"[{'_account_id': 3}, {'_account_id': 1032}, {'_account_id': 7128}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-06-16 03:24:54.000000000', 'files': ['attributes/default.rb', 'spec/nova-common_spec.rb', 'CHANGELOG.md', 'metadata.rb', 'templates/default/nova.conf.erb', 'README.md'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/1bae624eae0ea94b36c8c340e4400df3ddda6703', 'message': 'Add resize_confirm_window configuration option\n\nAdd resize_confirm_window configuration option to nova.conf.erb\n\nCloses-Bug: #1328522\nChange-Id: I9839c7629bb58489468fd98032abcb76a87725f7'}]",0,100129,1bae624eae0ea94b36c8c340e4400df3ddda6703,9,4,1,9493,,,0,"Add resize_confirm_window configuration option

Add resize_confirm_window configuration option to nova.conf.erb

Closes-Bug: #1328522
Change-Id: I9839c7629bb58489468fd98032abcb76a87725f7",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/29/100129/1 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/default.rb', 'spec/nova-common_spec.rb', 'CHANGELOG.md', 'metadata.rb', 'templates/default/nova.conf.erb', 'README.md']",6,1bae624eae0ea94b36c8c340e4400df3ddda6703,bug/1328522,"* `openstack[""compute""][""config""][""resize_confirm_window""]` - Automatically confirm resizes after N seconds, Set to 0 to disable (default is 0)",,13,1
openstack%2Fdevstack~master~Ic2b86ddba3e7f6520a0fd35599b01143936c6deb,openstack/devstack,master,Ic2b86ddba3e7f6520a0fd35599b01143936c6deb,convert devstack from awk to outfilter,MERGED,2014-06-11 15:09:42.000000000,2014-06-16 15:17:54.000000000,2014-06-16 14:24:06.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 2750}, {'_account_id': 7118}, {'_account_id': 7369}, {'_account_id': 9009}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-11 15:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/801715b24b3ca6c13b69b800b47e736a68e50a8d', 'message': 'convert devstack from awk to outfilter\n\nThe complexity of the awk script was pretty high, and it would\nbe good to do it in summaries as well, which starts to get a bit\nsquirelly. Instead bring over the outfilter.py from grenade and\nuse it for the timestamping.\n\nAny additional overhead from python should be offset from not\nshelling out to date on every line of output.\n\nChange-Id: Ic2b86ddba3e7f6520a0fd35599b01143936c6deb\n'}, {'number': 2, 'created': '2014-06-12 10:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/88a5249eed37764753d6694ceb76d0e7d550972e', 'message': 'convert devstack from awk to outfilter\n\nThe complexity of the awk script was pretty high, and it would\nbe good to do it in summaries as well, which starts to get a bit\nsquirelly. Instead bring over the outfilter.py from grenade and\nuse it for the timestamping.\n\nAny additional overhead from python should be offset from not\nshelling out to date on every line of output.\n\nChange-Id: Ic2b86ddba3e7f6520a0fd35599b01143936c6deb\n'}, {'number': 3, 'created': '2014-06-15 13:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d09509feeb5b18af61d8062d484788162a99fa7d', 'message': 'convert devstack from awk to outfilter\n\nThe complexity of the awk script was pretty high, and it would\nbe good to do it in summaries as well, which starts to get a bit\nsquirelly. Instead bring over the outfilter.py from grenade and\nuse it for the timestamping.\n\nAny additional overhead from python should be offset from not\nshelling out to date on every line of output.\n\nChange-Id: Ic2b86ddba3e7f6520a0fd35599b01143936c6deb\n'}, {'number': 4, 'created': '2014-06-15 20:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4ca1feb58d1d4bd7f9a2dc7838403e781281d2bc', 'message': 'convert devstack from awk to outfilter\n\nThe complexity of the awk script was pretty high, and it would\nbe good to do it in summaries as well, which starts to get a bit\nsquirelly. Instead bring over the outfilter.py from grenade and\nuse it for the timestamping.\n\nAny additional overhead from python should be offset from not\nshelling out to date on every line of output.\n\nChange-Id: Ic2b86ddba3e7f6520a0fd35599b01143936c6deb\n'}, {'number': 5, 'created': '2014-06-16 11:04:10.000000000', 'files': ['tools/outfilter.py', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/62cb563ddc5f6923a9734a96d394ff2c27c320ca', 'message': 'convert devstack from awk to outfilter\n\nThe complexity of the awk script was pretty high, and it would\nbe good to do it in summaries as well, which starts to get a bit\nsquirelly. Instead bring over the outfilter.py from grenade and\nuse it for the timestamping.\n\nAny additional overhead from python should be offset from not\nshelling out to date on every line of output.\n\nChange-Id: Ic2b86ddba3e7f6520a0fd35599b01143936c6deb\n'}]",4,99399,62cb563ddc5f6923a9734a96d394ff2c27c320ca,39,7,5,2750,,,0,"convert devstack from awk to outfilter

The complexity of the awk script was pretty high, and it would
be good to do it in summaries as well, which starts to get a bit
squirelly. Instead bring over the outfilter.py from grenade and
use it for the timestamping.

Any additional overhead from python should be offset from not
shelling out to date on every line of output.

Change-Id: Ic2b86ddba3e7f6520a0fd35599b01143936c6deb
",git fetch https://review.opendev.org/openstack/devstack refs/changes/99/99399/5 && git format-patch -1 --stdout FETCH_HEAD,"['tools/outfilter.py', 'stack.sh']",2,801715b24b3ca6c13b69b800b47e736a68e50a8d,better_filter," exec 1> >( ./tools/outfilter.py -v -o ""${LOGFILE}"" ) 2>&1 exec 6> >( ./tools/outfilter.py -o ""${SUMFILE}"" ) exec 1> >( ./tools/outfilter.py -o ""${LOGFILE}"" ) 2>&1 exec 6> >( ./tools/outfilter.py -v -o ""${SUMFILE}"" >&3 ) exec 6> >( ./tools/outfilter.py -v >&3 )"," exec 1> >( awk -v logfile=${LOGFILE} ' /((set \+o$)|xtrace)/ { next } { cmd =""date +\""%Y-%m-%d %H:%M:%S.%3N | \"""" cmd | getline now close(""date +\""%Y-%m-%d %H:%M:%S.%3N | \"""") sub(/^/, now) print > logfile fflush(logfile) print fflush("""") }' ) 2>&1 exec 6> >( tee ""${SUMFILE}"" ) exec 1> ""${LOGFILE}"" 2>&1 exec 6> >( tee ""${SUMFILE}"" >&3 ) exec 6>&3",83,16
openstack%2Frally~master~I91773fda0f937e4f1c1f01a7545f77e9f64993c0,openstack/rally,master,I91773fda0f937e4f1c1f01a7545f77e9f64993c0,Rename api directory to rest,MERGED,2014-06-12 08:17:31.000000000,2014-06-16 15:11:02.000000000,2014-06-16 15:11:02.000000000,"[{'_account_id': 3}, {'_account_id': 4428}, {'_account_id': 6172}, {'_account_id': 8507}, {'_account_id': 9545}, {'_account_id': 10692}]","[{'number': 1, 'created': '2014-06-12 08:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/249165feacb7bbd1a7906f95a9d1d51e4d0e7159', 'message': 'Rename api directory to rest\n\nChange-Id: I91773fda0f937e4f1c1f01a7545f77e9f64993c0\n'}, {'number': 2, 'created': '2014-06-12 09:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/f9cae6af6f5d7f6b7bc7f066100c652015eece96', 'message': 'Rename api directory to rest\n\nChange-Id: I91773fda0f937e4f1c1f01a7545f77e9f64993c0\n'}, {'number': 3, 'created': '2014-06-12 10:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e612997905aeb4a711b0dd23e332f04760d93238', 'message': 'Rename api directory to rest\n\nChange-Id: I91773fda0f937e4f1c1f01a7545f77e9f64993c0\n'}, {'number': 4, 'created': '2014-06-12 15:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/15ea2e0baf4cd80f57071f881534f42fb4d42807', 'message': 'Rename api directory to rest\n\nChange-Id: I91773fda0f937e4f1c1f01a7545f77e9f64993c0\n'}, {'number': 5, 'created': '2014-06-12 15:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a43165d9f835b8716622bbd407e11e2f5b1d3c1e', 'message': 'Rename api directory to rest\n\nChange-Id: I91773fda0f937e4f1c1f01a7545f77e9f64993c0\n'}, {'number': 6, 'created': '2014-06-13 00:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/2545387648a741c5a07dea8ad3886625c89bba6c', 'message': 'Rename api directory to rest\n\nChange-Id: I91773fda0f937e4f1c1f01a7545f77e9f64993c0\n'}, {'number': 7, 'created': '2014-06-16 07:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/7e683a2af2e05e080c4bbb1ebce93dfadb3c05a4', 'message': 'Rename api directory to rest\n\nChange-Id: I91773fda0f937e4f1c1f01a7545f77e9f64993c0\n'}, {'number': 8, 'created': '2014-06-16 07:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/cecbcb7d16b69dc4a323a89adc1a41b19da2434e', 'message': 'Rename api directory to rest\n\nChange-Id: I91773fda0f937e4f1c1f01a7545f77e9f64993c0\n'}, {'number': 9, 'created': '2014-06-16 13:32:17.000000000', 'files': ['etc/rally/rally.conf.sample', 'rally/aas/rest/controllers/__init__.py', 'rally/aas/rest/__init__.py', 'rally/aas/rest/app.py', 'rally/aas/rest/controllers/v1/__init__.py', 'rally/aas/rest/types.py', 'rally/aas/rest/controllers/v1/root.py', 'rally/aas/rest/controllers/root.py', 'rally/aas/__init__.py', 'rally/cmd/api.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/e1c555c7cfb62e9047c1ebd43c77f0186c0754e3', 'message': 'Rename api directory to rest\n\nChange-Id: I91773fda0f937e4f1c1f01a7545f77e9f64993c0\n'}]",5,99596,e1c555c7cfb62e9047c1ebd43c77f0186c0754e3,43,6,9,4428,,,0,"Rename api directory to rest

Change-Id: I91773fda0f937e4f1c1f01a7545f77e9f64993c0
",git fetch https://review.opendev.org/openstack/rally refs/changes/96/99596/2 && git format-patch -1 --stdout FETCH_HEAD,"['rally/rest/controllers/root.py', 'rally/rest/controllers/v1/__init__.py', 'rally/rest/types.py', 'rally/rest/controllers/__init__.py', 'rally/rest/__init__.py', 'rally/rest/app.py', 'rally/rest/controllers/v1/root.py', 'rally/cmd/api.py']",8,249165feacb7bbd1a7906f95a9d1d51e4d0e7159,rally-worker,from rally.rest import app as rally_app,from rally.api import app as rally_app,6,6
openstack%2Ffuel-main~master~Ifd8f99596ce79f08d99bc99743a97df9884a4724,openstack/fuel-main,master,Ifd8f99596ce79f08d99bc99743a97df9884a4724,Add possibility to add several interfaces on 1 L2,MERGED,2014-04-16 08:07:13.000000000,2014-06-16 15:02:20.000000000,2014-06-16 15:02:20.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8839}, {'_account_id': 8882}, {'_account_id': 8965}, {'_account_id': 8971}, {'_account_id': 9977}, {'_account_id': 10136}]","[{'number': 1, 'created': '2014-04-16 08:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/57c61592275fcfcebeda800b9702f451f0a52fa3', 'message': 'Add possibility to add several interfaces on 1 L2\n\nModified describe_environment, create_interfaces,\nset_network methods so that they use bonding\nparameters of settings.py module. Added new\nparameters to settings.py that allow bonding.\n\nCloses-Bug: #1301834\n\nChange-Id: Ifd8f99596ce79f08d99bc99743a97df9884a4724\n'}, {'number': 2, 'created': '2014-04-16 08:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/a7393eff9aca05c328849cc052775007f8c6f7ad', 'message': 'Add possibility to add several interfaces on 1 L2\n\nModified describe_environment, create_interfaces,\nset_network methods so that they use bonding\nparameters of settings.py module. Added new\nparameters to settings.py that allow bonding.\n\nCloses-Bug: #1301834\n\nChange-Id: Ifd8f99596ce79f08d99bc99743a97df9884a4724\n'}, {'number': 3, 'created': '2014-04-16 08:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/c453033c41f9ccbd1eb83666bec23bd5cfeb6405', 'message': 'Add possibility to add several interfaces on 1 L2\n\nModified describe_environment, create_interfaces,\nset_network methods so that they use bonding\nparameters of settings.py module. Added new\nparameters to settings.py that allow bonding.\n\nCloses-Bug: #1301834\n\nChange-Id: Ifd8f99596ce79f08d99bc99743a97df9884a4724\n'}, {'number': 4, 'created': '2014-04-16 08:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/6f9c652ab0c21759e442685008fed58a3631abd0', 'message': 'Add possibility to add several interfaces on 1 L2\n\nModified describe_environment, create_interfaces,\nset_network methods so that they use bonding\nparameters of settings.py module. Added new\nparameters to settings.py that allow bonding.\n\nCloses-Bug: #1301834\n\nChange-Id: Ifd8f99596ce79f08d99bc99743a97df9884a4724\n'}, {'number': 5, 'created': '2014-04-16 09:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/0b51590fb9912750723b1bb74934df777785ac01', 'message': 'Add possibility to add several interfaces on 1 L2\n\nModified describe_environment, create_interfaces,\nset_network methods so that they use bonding\nparameters of settings.py module. Added new\nparameters to settings.py that allow bonding.\n\nCloses-Bug: #1301834\n\nChange-Id: Ifd8f99596ce79f08d99bc99743a97df9884a4724\n'}, {'number': 6, 'created': '2014-04-17 07:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/deeda52604b8dc5c5c33cadd5edd166e6d56a23e', 'message': 'Add possibility to add several interfaces on 1 L2\n\nModified describe_environment, create_interfaces,\nset_network methods so that they use bonding\nparameters of settings.py module. Added new\nparameters to settings.py that allow bonding.\n\nCloses-Bug: #1301834\n\nChange-Id: Ifd8f99596ce79f08d99bc99743a97df9884a4724\n'}, {'number': 7, 'created': '2014-04-17 07:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/e2de898a9732cc40964eb7a58d00396ebc293a3c', 'message': 'Add possibility to add several interfaces on 1 L2\n\nModified describe_environment, create_interfaces,\nset_network methods so that they use bonding\nparameters of settings.py module. Added new\nparameters to settings.py that allow bonding.\n\nCloses-Bug: #1301834\n\nChange-Id: Ifd8f99596ce79f08d99bc99743a97df9884a4724\n'}, {'number': 8, 'created': '2014-04-18 13:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/8688c70393c4418e2293899c85f22b027a73789b', 'message': 'Add possibility to add several interfaces on 1 L2\n\nModified describe_environment, create_interfaces,\nset_network methods so that they use bonding\nparameters of settings.py module. Added new\nparameters to settings.py that allow bonding.\n\nCloses-Bug: #1301834\n\nChange-Id: Ifd8f99596ce79f08d99bc99743a97df9884a4724\n'}, {'number': 10, 'created': '2014-04-18 13:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/ca8ac0164c429d3247a203b798a92f249c12d67b', 'message': 'Add possibility to add several interfaces on 1 L2\n\nModified describe_environment, create_interfaces,\nset_network methods so that they use bonding\nparameters of settings.py module. Added new\nparameters to settings.py that allow bonding.\n\nCloses-Bug: #1301834\n\nChange-Id: Ifd8f99596ce79f08d99bc99743a97df9884a4724\n'}, {'number': 9, 'created': '2014-04-18 13:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/babba39d3c15723b2c84b5a34116ba46a297a3bb', 'message': 'Add possibility to add several interfaces on 1 L2\n\nModified describe_environment, create_interfaces,\nset_network methods so that they use bonding\nparameters of settings.py module. Added new\nparameters to settings.py that allow bonding.\n\nCloses-Bug: #1301834\n\nChange-Id: Ifd8f99596ce79f08d99bc99743a97df9884a4724\n'}, {'number': 11, 'created': '2014-05-26 12:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/6c68e4ddc3c4e57a2f00d12e0d590da638e06660', 'message': 'Add possibility to add several interfaces on 1 L2\n\nModified describe_environment, create_interfaces,\nset_network methods so that they use bonding\nparameters of settings.py module. Added new\nparameters to settings.py that allow bonding.\n\nCloses-Bug: #1301834\n\nChange-Id: Ifd8f99596ce79f08d99bc99743a97df9884a4724\n'}, {'number': 12, 'created': '2014-05-26 13:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/b4c494d9e25203cfbdef3ec1419c1f8a73006ded', 'message': 'Add possibility to add several interfaces on 1 L2\n\nModified describe_environment, create_interfaces,\nset_network methods so that they use bonding\nparameters of settings.py module. Added new\nparameters to settings.py that allow bonding.\n\nCloses-Bug: #1301834\n\nChange-Id: Ifd8f99596ce79f08d99bc99743a97df9884a4724\n'}, {'number': 13, 'created': '2014-06-11 07:48:54.000000000', 'files': ['fuelweb_test/models/fuel_web_client.py', 'fuelweb_test/models/environment.py', 'fuelweb_test/tests/test_bonding.py', 'fuelweb_test/settings.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/0e97fdbf22abab0ab26cdf854c5c78098f31b843', 'message': 'Add possibility to add several interfaces on 1 L2\n\nModified describe_environment, create_interfaces,\nset_network methods so that they use bonding\nparameters of settings.py module. Added new\nparameters to settings.py that allow bonding.\n\nCloses-Bug: #1301834\n\nChange-Id: Ifd8f99596ce79f08d99bc99743a97df9884a4724\n'}]",6,87866,0e97fdbf22abab0ab26cdf854c5c78098f31b843,81,8,13,8839,,,0,"Add possibility to add several interfaces on 1 L2

Modified describe_environment, create_interfaces,
set_network methods so that they use bonding
parameters of settings.py module. Added new
parameters to settings.py that allow bonding.

Closes-Bug: #1301834

Change-Id: Ifd8f99596ce79f08d99bc99743a97df9884a4724
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/66/87866/2 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/helpers/decorators.py', 'fuelweb_test/models/fuel_web_client.py', 'fuelweb_test/models/environment.py', 'fuelweb_test/tests/test_bonding.py', 'fuelweb_test/settings.py']",5,57c61592275fcfcebeda800b9702f451f0a52fa3,master,"# Just don`t define this varable for tests without bonding BONDING = os.environ.get(""BONDING"") BONDING_INTERFACES = { 'admin': ['eth0'], 'public': ['eth1', 'eth2', 'eth3', 'eth4'] } ",,44,16
openstack%2Foslo-incubator~master~Iec5cbbc44cf9626f0464ab684dff1ba37e006151,openstack/oslo-incubator,master,Iec5cbbc44cf9626f0464ab684dff1ba37e006151,Remove common context usage from db model_query(),ABANDONED,2014-04-28 20:01:23.000000000,2014-06-16 14:59:12.000000000,,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6549}, {'_account_id': 6849}, {'_account_id': 7491}]","[{'number': 8, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/1fb9b348af1ca61640f094490979286d490f97e4', 'message': 'Remove common context usage from db model_query()\n\nFunction model_query() from openstack.common.db.sqlalchemy.utils use\nis_user_context() function from common context module to indicate, is\nthe request context is a normal user. But in a different OS projects can\nbe used different contexts, so this check can be not suitable for same\ncases. Also it add one more dependency (oslo.context) to oslo.db lib.\nSimilar situation with `read_deleted` option.\n\nSo, to avoid confusions, we removed context transmission to model_query().\nNow we pass there values `read_deleted`, `is_user_context`, and\n`project_id` instead of context.\n\nCloses-bug: #1288846\nChange-Id: Iec5cbbc44cf9626f0464ab684dff1ba37e006151\n'}, {'number': 9, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/5cb2d115b6c5b34e225a1cd86d56f372da889e50', 'message': 'Remove common context usage from db model_query()\n\nFunction model_query() from openstack.common.db.sqlalchemy.utils use\nis_user_context() function from common context module to indicate, is\nthe request context is a normal user. But in a different OS projects can\nbe used different contexts, so this check can be not suitable for same\ncases. Also it add one more dependency (oslo.context) to oslo.db lib.\nSimilar situation with `read_deleted` option.\n\nSo, to avoid confusions, we removed context transmission to model_query().\nNow we pass there values `read_deleted`, `is_user_context`, and\n`project_id` instead of context.\n\nCloses-bug: #1288846\nChange-Id: Iec5cbbc44cf9626f0464ab684dff1ba37e006151\n'}, {'number': 10, 'created': '2014-04-28 20:01:23.000000000', 'files': ['tests/unit/db/sqlalchemy/test_utils.py', 'openstack/common/db/sqlalchemy/utils.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/968b484ac9fd01f5d08913b0ce94fffc227472e0', 'message': 'Remove common context usage from db model_query()\n\nFunction model_query() from openstack.common.db.sqlalchemy.utils use\nis_user_context() function from common context module to indicate, is\nthe request context is a normal user. But in a different OS projects can\nbe used different contexts, so this check can be not suitable for same\ncases. Also it add one more dependency (oslo.context) to oslo.db lib.\nSimilar situation with `read_deleted` option.\n\nSo, to avoid confusions, we removed context transmission to model_query().\nNow we pass there values `read_deleted`, `is_user_context`, and\n`project_id` instead of context.\n\nCloses-bug: #1288846\nChange-Id: Iec5cbbc44cf9626f0464ab684dff1ba37e006151\n'}, {'number': 4, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/0d8bf89ef5e82c9e7f1991e9068738f7c7afa165', 'message': 'Remove common context usage from db model_query()\n\nFunction model_query() from openstack.common.db.sqlalchemy.utils use\nis_user_context() function from common context module to indicate, is\nthe request context is a normal user. But in a different OS projects can\nbe used different contexts, so this check can be not suitable for same\ncases. Also it add one more dependency (oslo.context) to oslo.db lib.\nSimilar situation with `read_deleted` option.\n\nSo, to avoid confusions, we removed context transmission to model_query().\nNow we pass there values `read_deleted`, `is_user_context`, and\n`project_id` instead of context.\n\nCloses-bug: #1288846\nChange-Id: Iec5cbbc44cf9626f0464ab684dff1ba37e006151\n'}, {'number': 5, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/7bb794407081fedb48517e1743ded6206f572a52', 'message': 'Remove common context usage from db model_query()\n\nFunction model_query() from openstack.common.db.sqlalchemy.utils use\nis_user_context() function from common context module to indicate, is\nthe request context is a normal user. But in a different OS projects can\nbe used different contexts, so this check can be not suitable for same\ncases. Also it add one more dependency (oslo.context) to oslo.db lib.\nSimilar situation with `read_deleted` option.\n\nSo, to avoid confusions, we removed context transmission to model_query().\nNow we pass there values `read_deleted`, `is_user_context`, and\n`project_id` instead of context.\n\nCloses-bug: #1288846\nChange-Id: Iec5cbbc44cf9626f0464ab684dff1ba37e006151\n'}, {'number': 6, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/686d644983e8f06db419c0c0206c7888fcfbf3f6', 'message': 'Remove common context usage from db model_query()\n\nFunction model_query() from openstack.common.db.sqlalchemy.utils use\nis_user_context() function from common context module to indicate, is\nthe request context is a normal user. But in a different OS projects can\nbe used different contexts, so this check can be not suitable for same\ncases. Also it add one more dependency (oslo.context) to oslo.db lib.\nSimilar situation with `read_deleted` option.\n\nSo, to avoid confusions, we removed context transmission to model_query().\nNow we pass there values `read_deleted`, `is_user_context`, and\n`project_id` instead of context.\n\nCloses-bug: #1288846\nChange-Id: Iec5cbbc44cf9626f0464ab684dff1ba37e006151\n'}, {'number': 7, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/66297546b5b729a8c4f9218ecdfea856d5626d9f', 'message': 'Remove common context usage from db model_query()\n\nFunction model_query() from openstack.common.db.sqlalchemy.utils use\nis_user_context() function from common context module to indicate, is\nthe request context is a normal user. But in a different OS projects can\nbe used different contexts, so this check can be not suitable for same\ncases. Also it add one more dependency (oslo.context) to oslo.db lib.\nSimilar situation with `read_deleted` option.\n\nSo, to avoid confusions, we removed context transmission to model_query().\nNow we pass there values `read_deleted`, `is_user_context`, and\n`project_id` instead of context.\n\nCloses-bug: #1288846\nChange-Id: Iec5cbbc44cf9626f0464ab684dff1ba37e006151\n'}, {'number': 1, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/c2d2a9a8b8abd31ea1c60d5fa3629e4db6ce0040', 'message': 'WIP: Drop common context usage\n\nChange-Id: Iec5cbbc44cf9626f0464ab684dff1ba37e006151\n'}, {'number': 2, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/5a89fc4d4024f57539ed60f84b34646f5b3470d8', 'message': ""Remove common context usage from db model_query()\n\nFunction model_query() from openstack.common.db.sqlalchemy.utils use\nis_user_context() function from common context module to indicate, is\nthe request context is a normal user. But in a different OS projects can\nbe used different contexts, so this check can be not suitable for same\ncases. Also it add one more dependency (oslo.context) to oslo.db lib.\n\nTo fix it, we check, context's user role in client's code and pass this\nboolean value to model_query().\n\nCloses-bug: #1288846\nChange-Id: Iec5cbbc44cf9626f0464ab684dff1ba37e006151\n""}, {'number': 3, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/45e29fa5af371b8e2865d206d2ebee26d96c63c0', 'message': ""Remove common context usage from db model_query()\n\nFunction model_query() from openstack.common.db.sqlalchemy.utils use\nis_user_context() function from common context module to indicate, is\nthe request context is a normal user. But in a different OS projects can\nbe used different contexts, so this check can be not suitable for same\ncases. Also it add one more dependency (oslo.context) to oslo.db lib.\n\nTo fix it, we check, context's user role in client's code and pass this\nboolean value to model_query().\n\nCloses-bug: #1288846\nChange-Id: Iec5cbbc44cf9626f0464ab684dff1ba37e006151\n""}]",31,79653,968b484ac9fd01f5d08913b0ce94fffc227472e0,64,5,10,7491,,,0,"Remove common context usage from db model_query()

Function model_query() from openstack.common.db.sqlalchemy.utils use
is_user_context() function from common context module to indicate, is
the request context is a normal user. But in a different OS projects can
be used different contexts, so this check can be not suitable for same
cases. Also it add one more dependency (oslo.context) to oslo.db lib.
Similar situation with `read_deleted` option.

So, to avoid confusions, we removed context transmission to model_query().
Now we pass there values `read_deleted`, `is_user_context`, and
`project_id` instead of context.

Closes-bug: #1288846
Change-Id: Iec5cbbc44cf9626f0464ab684dff1ba37e006151
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/53/79653/8 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/db/sqlalchemy/test_utils.py', 'openstack/common/db/sqlalchemy/utils.py']",2,1fb9b348af1ca61640f094490979286d490f97e4,drop-common-context,"def _read_deleted_filter(query, db_model, deleted): if deleted: else: query = query.filter(db_model.deleted != default_deleted_value)def _project_filter(query, db_model, project_id): if 'project_id' not in db_model.__table__.columns: if isinstance(project_id, (list, tuple)): query = query.filter(db_model.project_id.in_(project_id)) else: query = query.filter(db_model.project_id == project_id)def model_query(model, session, args=None, **kwargs): """"""Query helper for db.sqlalchemy api methods. This accounts for `deleted` and `project_id` fields. Keyword arguments: :keyword project_id: If present, present, allows filtering by project_id(s) Can be either model.__table__.columns.project_id type, or iterable, or None. If project_id is iterable, filter returns all rows, where `project_id` value in the project_id list :type project_id: iterable, model.__table__.columns.project_id.type, None type :keyword deleted: If present, allows filtering by deleted field. If True is passed, only deleted entries will be returned, if False - only existing entries. :type deleted: bool def model_query(context, *args, **kwargs): _kwargs = {} if is_user_context(context): _kwargs[project_id] = [context.project_id, None] elif 'project_id' in kwargs: _kwargs['project_id'] = kwargs['project_id'] _kwargs['deleted'] = is_read_deleted( kwargs.get(read_deleted, False), context): return utils.model_query(*args, **_kwargs) result = (model_query(context, models.Instance, session=session) query = model_query( ).filter_by(uuid=node_uuid) if 'deleted' in kwargs: query = _read_deleted_filter(query, model, kwargs['deleted']) if 'project_id' in kwargs: query = _project_filter(query, model, kwargs['project_id'])","from sqlalchemy import or_from openstack.common import context as request_contextdef _read_deleted_filter(query, db_model, read_deleted): if read_deleted == 'no': elif read_deleted == 'yes': pass # omit the filter to include deleted and active elif read_deleted == 'only': query = query.filter(db_model.deleted != default_deleted_value) else: raise ValueError(_(""Unrecognized read_deleted value '%s'"") % read_deleted)def _project_filter(query, db_model, context, project_only): if project_only and 'project_id' not in db_model.__table__.columns: if request_context.is_user_context(context) and project_only: if project_only == 'allow_none': is_none = None query = query.filter(or_(db_model.project_id == context.project_id, db_model.project_id == is_none)) else: query = query.filter(db_model.project_id == context.project_id)def model_query(context, model, session, args=None, project_only=False, read_deleted=None): """"""Query helper that accounts for context's `read_deleted` field. :param context: context to query under :param project_only: If present and context is user-type, then restrict query to match the context's project_id. If set to 'allow_none', restriction includes project_id = None. :type project_only: bool :param read_deleted: If present, overrides context's read_deleted field. :type read_deleted: bool result = (utils.model_query(context, models.Instance, session=session) query = utils.model_query( ).filter_by(project_id=project_id) if not read_deleted: if hasattr(context, 'read_deleted'): # NOTE(viktors): some projects use `read_deleted` attribute in # their contexts instead of `show_deleted`. read_deleted = context.read_deleted else: read_deleted = context.show_deleted query = _read_deleted_filter(query, model, read_deleted) query = _project_filter(query, model, context, project_only)",78,96
openstack%2Fpython-solumclient~master~Ib5b30721c2b5f6efacea8d41d7a01487e6d06a16,openstack/python-solumclient,master,Ib5b30721c2b5f6efacea8d41d7a01487e6d06a16,Updated from global requirements,MERGED,2014-05-30 16:34:40.000000000,2014-06-16 14:47:30.000000000,2014-06-16 14:47:29.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 4715}, {'_account_id': 8334}, {'_account_id': 9537}]","[{'number': 1, 'created': '2014-05-30 16:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/3bb22b0e069dcbdf64f9f9c836efe876cd76c9fd', 'message': 'Updated from global requirements\n\nChange-Id: Ib5b30721c2b5f6efacea8d41d7a01487e6d06a16\n'}, {'number': 2, 'created': '2014-06-02 19:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/67863097f4355ef5806dba898059055fd3a7c7f5', 'message': 'Updated from global requirements\n\nChange-Id: Ib5b30721c2b5f6efacea8d41d7a01487e6d06a16\n'}, {'number': 3, 'created': '2014-06-10 00:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/fbb2063767d0febf623b6abf65a0c2301f66cb25', 'message': 'Updated from global requirements\n\nChange-Id: Ib5b30721c2b5f6efacea8d41d7a01487e6d06a16\n'}, {'number': 4, 'created': '2014-06-10 14:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/3c0d92db2ecc176f8b973ea02d1a33542066d8bd', 'message': 'Updated from global requirements\n\nChange-Id: Ib5b30721c2b5f6efacea8d41d7a01487e6d06a16\n'}, {'number': 5, 'created': '2014-06-11 01:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/bb66bb68ab8487369b4e1c35c5b634de9a870210', 'message': 'Updated from global requirements\n\nChange-Id: Ib5b30721c2b5f6efacea8d41d7a01487e6d06a16\n'}, {'number': 6, 'created': '2014-06-12 05:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/cd56cd3763eaad5b2cfddde095ec2f21da6b0c33', 'message': 'Updated from global requirements\n\nChange-Id: Ib5b30721c2b5f6efacea8d41d7a01487e6d06a16\n'}, {'number': 7, 'created': '2014-06-13 22:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/fbae65fced9b288d679125a2d944e8fb24f20f6d', 'message': 'Updated from global requirements\n\nChange-Id: Ib5b30721c2b5f6efacea8d41d7a01487e6d06a16\n'}, {'number': 8, 'created': '2014-06-16 09:53:45.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/81126cc2578e4e71038f7bf5775934f572dd33e1', 'message': 'Updated from global requirements\n\nChange-Id: Ib5b30721c2b5f6efacea8d41d7a01487e6d06a16\n'}]",0,96832,81126cc2578e4e71038f7bf5775934f572dd33e1,45,5,8,11131,,,0,"Updated from global requirements

Change-Id: Ib5b30721c2b5f6efacea8d41d7a01487e6d06a16
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/32/96832/7 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,3bb22b0e069dcbdf64f9f9c836efe876cd76c9fd,openstack/requirements,"sphinx>=1.2.1,<1.3","sphinx>=1.1.2,<1.2",2,2
openstack%2Fpython-solumclient~master~I6382be807d0cba8e86be15c5b16944cb04635793,openstack/python-solumclient,master,I6382be807d0cba8e86be15c5b16944cb04635793,Correcting docstring to confirm to H405,ABANDONED,2014-06-12 06:03:11.000000000,2014-06-16 14:39:08.000000000,,"[{'_account_id': 3}, {'_account_id': 8334}, {'_account_id': 9548}]","[{'number': 1, 'created': '2014-06-12 06:03:11.000000000', 'files': ['solumclient/client.py'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/5d4ccd94f23cb356b4258bcf6735add9e1bc3ef9', 'message': 'Correcting docstring to confirm to H405\n\nChange-Id: I6382be807d0cba8e86be15c5b16944cb04635793\nSee: http://docs.openstack.org/developer/hacking/#docstrings\n'}]",1,99573,5d4ccd94f23cb356b4258bcf6735add9e1bc3ef9,8,3,1,668,,,0,"Correcting docstring to confirm to H405

Change-Id: I6382be807d0cba8e86be15c5b16944cb04635793
See: http://docs.openstack.org/developer/hacking/#docstrings
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/73/99573/1 && git format-patch -1 --stdout FETCH_HEAD,['solumclient/client.py'],1,5d4ccd94f23cb356b4258bcf6735add9e1bc3ef9,master," """"""Get an authtenticated client, based on the credentials in the keyword args."," """"""Get an authtenticated client, based on the credentials in the keyword args.",1,2
openstack%2Fceilometer~master~I22317527cc4fb44ea1fb9642586e8cdcbc97030b,openstack/ceilometer,master,I22317527cc4fb44ea1fb9642586e8cdcbc97030b,Don't keep a single global TRANSPORT object,MERGED,2014-06-13 10:06:04.000000000,2014-06-16 14:35:30.000000000,2014-06-16 14:35:29.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2284}, {'_account_id': 2813}, {'_account_id': 4491}, {'_account_id': 6537}]","[{'number': 1, 'created': '2014-06-13 10:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/874202c353a1c92655569669d22d223036119446', 'message': ""Don't keep a single global TRANSPORT object\n\nTo keep the global state of messaging like the old olso-incubator\nlibrary does, we have created a global TRANSPORT object.\n\nBut since the test use the fake:// driver of oslo.messaging in tests,\nthis transport is shared between tests, but some tests use 'fake://',\nother the default one, and someother disable the transport.\n\nThis change ensures that different transports can live together in our\ncode, even only tests needs that.\n\nChange-Id: I22317527cc4fb44ea1fb9642586e8cdcbc97030b\n""}, {'number': 2, 'created': '2014-06-13 10:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/fc967cefc21f7bfd735f1036b73ba172bcc8b72d', 'message': ""Don't keep a single global TRANSPORT object\n\nTo keep the global state of messaging like the old olso-incubator\nlibrary does, we have created a global TRANSPORT object.\n\nBut since the test use the fake:// driver of oslo.messaging in tests,\nthis transport is shared between tests, but some tests use 'fake://',\nother the default one, and someother disable the transport.\n\nThis change ensures that different transports can live together in our\ncode, even only tests needs that.\n\nChange-Id: I22317527cc4fb44ea1fb9642586e8cdcbc97030b\n""}, {'number': 3, 'created': '2014-06-13 14:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6087781ff12efb401474273d171c73f57ad892ce', 'message': ""Don't keep a single global TRANSPORT object\n\nTo keep the global state of messaging like the old olso-incubator\nlibrary does, we have created a global TRANSPORT object.\n\nBut since the test use the fake:// driver of oslo.messaging in tests,\nthis transport is shared between tests, but some tests use 'fake://',\nother the default one, and someother disable the transport.\n\nThis change ensures that different transports can live together in our\ncode, even only tests needs that.\n\nChange-Id: I22317527cc4fb44ea1fb9642586e8cdcbc97030b\n""}, {'number': 4, 'created': '2014-06-13 14:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6e68278ff84a3690b6ad279a6abd34d6bdf231b5', 'message': ""Don't keep a single global TRANSPORT object\n\nTo keep the global state of messaging like the old olso-incubator\nlibrary does, we have created a global TRANSPORT object.\n\nBut since the test use the fake:// driver of oslo.messaging in tests,\nthis transport is shared between tests, but some tests use 'fake://',\nother the default one, and someother disable the transport.\n\nThis change ensures that different transports can live together in our\ncode, even only tests needs that.\n\nChange-Id: I22317527cc4fb44ea1fb9642586e8cdcbc97030b\n""}, {'number': 5, 'created': '2014-06-16 01:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/39f7947b1fd27f87652891fb63aa215b0df6758a', 'message': ""Don't keep a single global TRANSPORT object\n\nTo keep the global state of messaging like the old olso-incubator\nlibrary does, we have created a global TRANSPORT object.\n\nBut since the test use the fake:// driver of oslo.messaging in tests,\nthis transport is shared between tests, but some tests use 'fake://',\nother the default one, and someother disable the transport.\n\nThis change ensures that different transports can live together in our\ncode, even only tests needs that.\n\nChange-Id: I22317527cc4fb44ea1fb9642586e8cdcbc97030b\n""}, {'number': 6, 'created': '2014-06-16 06:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/22d908c80c65a8b463342f3aa53fbc43c4c96efa', 'message': ""Don't keep a single global TRANSPORT object\n\nTo keep the global state of messaging like the old olso-incubator\nlibrary does, we have created a global TRANSPORT object.\n\nBut since the test use the fake:// driver of oslo.messaging in tests,\nthis transport is shared between tests, but some tests use 'fake://',\nother the default one, and someother disable the transport.\n\nThis change ensures that different transports can live together in our\ncode, even only tests needs that. And put each tests into a different\nmessaging exchange for test isolation.\n\nChange-Id: I22317527cc4fb44ea1fb9642586e8cdcbc97030b\n""}, {'number': 7, 'created': '2014-06-16 07:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2094a650ad0ff8f28db50b395804def3effd285b', 'message': ""Don't keep a single global TRANSPORT object\n\nTo keep the global state of messaging like the old olso-incubator\nlibrary does, we have created a global TRANSPORT object.\n\nBut since the test use the fake:// driver of oslo.messaging in tests,\nthis transport is shared between tests, but some tests use 'fake://',\nother the default one, and someother disable the transport.\n\nThis change ensures that different transports can live together in our\ncode, even only tests needs that. And put each tests into a different\nmessaging exchange for test isolation.\n\nChange-Id: I22317527cc4fb44ea1fb9642586e8cdcbc97030b\n""}, {'number': 8, 'created': '2014-06-16 07:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/365094d5f71231fbf399aff831977b8e2c3aa4f8', 'message': ""Don't keep a single global TRANSPORT object\n\nTo keep the global state of messaging like the old olso-incubator\nlibrary does, we have created a global TRANSPORT object.\n\nBut since the test use the fake:// driver of oslo.messaging in tests,\nthis transport is shared between tests, but some tests use 'fake://',\nother the default one, and someother disable the transport.\n\nThis change ensures that different transports can live together in our\ncode, even only tests needs that. And put each tests into a different\nmessaging exchange for test isolation.\n\nChange-Id: I22317527cc4fb44ea1fb9642586e8cdcbc97030b\n""}, {'number': 9, 'created': '2014-06-16 07:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f25f75b28668b95fcc3f9d33fd086c0144d0cbde', 'message': ""Don't keep a single global TRANSPORT object\n\nTo keep the global state of messaging like the old olso-incubator\nlibrary does, we have created a global TRANSPORT object.\n\nBut since the test use the fake:// driver of oslo.messaging in tests,\nthis transport is shared between tests, but some tests use 'fake://',\nother the default one, and someother disable the transport.\n\nThis change ensures that different transports can live together in our\ncode, even only tests needs that. And put each tests into a different\nmessaging exchange for test isolation.\n\nChange-Id: I22317527cc4fb44ea1fb9642586e8cdcbc97030b\n""}, {'number': 10, 'created': '2014-06-16 07:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/8c253a5f3b17647011739e138c5a54652b81bfb1', 'message': ""Don't keep a single global TRANSPORT object\n\nTo keep the global state of messaging like the old olso-incubator\nlibrary does, we have created a global TRANSPORT object.\n\nBut since the test use the fake:// driver of oslo.messaging in tests,\nthis transport is shared between tests, but some tests use 'fake://',\nother the default one, and someother disable the transport.\n\nThis change ensures that different transports can live together in our\ncode, even only tests needs that. And put each tests into a different\nmessaging exchange for test isolation.\n\nChange-Id: I22317527cc4fb44ea1fb9642586e8cdcbc97030b\n""}, {'number': 11, 'created': '2014-06-16 07:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/0d037102e579a3eeb4e64229b138ce10de0ef8d4', 'message': ""Don't keep a single global TRANSPORT object\n\nTo keep the global state of messaging like the old olso-incubator\nlibrary does, we have created a global TRANSPORT object.\n\nBut since the test use the fake:// driver of oslo.messaging in tests,\nthis transport is shared between tests, but some tests use 'fake://',\nother the default one, and someother disable the transport.\n\nThis change ensures that different transports can live together in our\ncode, even only tests needs that. And put each tests into a different\nmessaging exchange for test isolation.\n\nChange-Id: I22317527cc4fb44ea1fb9642586e8cdcbc97030b\n""}, {'number': 12, 'created': '2014-06-16 07:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3467db381e1cc0b5dadfaf586b51718d89019c85', 'message': ""Don't keep a single global TRANSPORT object\n\nTo keep the global state of messaging like the old olso-incubator\nlibrary does, we have created a global TRANSPORT object.\n\nBut since the test use the fake:// driver of oslo.messaging in tests,\nthis transport is shared between tests, but some tests use 'fake://',\nother the default one, and someother disable the transport.\n\nThis change ensures that different transports can live together in our\ncode, even only tests needs that. And put each tests into a different\nmessaging exchange for test isolation.\n\nChange-Id: I22317527cc4fb44ea1fb9642586e8cdcbc97030b\n""}, {'number': 13, 'created': '2014-06-16 08:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e3bf7b821561ee71127453657013e40513480594', 'message': ""Don't keep a single global TRANSPORT object\n\nTo keep the global state of messaging like the old olso-incubator\nlibrary does, we have created a global TRANSPORT object.\n\nBut since the test use the fake:// driver of oslo.messaging in tests,\nthis transport is shared between tests, but some tests use 'fake://',\nother the default one, and someother disable the transport.\n\nThis change ensures that different transports can live together in our\ncode, even only tests needs that. And put each tests into a different\nmessaging exchange for test isolation.\n\nChange-Id: I22317527cc4fb44ea1fb9642586e8cdcbc97030b\n""}, {'number': 14, 'created': '2014-06-16 08:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/fe6fecc55de5cb739e6b95f783860e5b264950b8', 'message': ""Don't keep a single global TRANSPORT object\n\nTo keep the global state of messaging like the old olso-incubator\nlibrary does, we have created a global TRANSPORT object.\n\nBut since the test use the fake:// driver of oslo.messaging in tests,\nthis transport is shared between tests, but some tests use 'fake://',\nother the default one, and someother disable the transport.\n\nThis change ensures that different transports can live together in our\ncode, even only tests needs that. And put each tests into a different\nmessaging exchange for test isolation.\n\nChange-Id: I22317527cc4fb44ea1fb9642586e8cdcbc97030b\n""}, {'number': 15, 'created': '2014-06-16 08:48:44.000000000', 'files': ['ceilometer/tests/test_notification.py', 'ceilometer/tests/api/__init__.py', 'ceilometer/alarm/service.py', 'ceilometer/tests/alarm/test_rpc.py', 'ceilometer/messaging.py', 'ceilometer/notification.py', 'ceilometer/tests/alarm/test_notifier.py', 'ceilometer/tests/api/v2/test_post_samples_scenarios.py', 'ceilometer/alarm/rpc.py', 'ceilometer/collector.py', 'ceilometer/tests/test_collector.py', 'ceilometer/tests/base.py', 'ceilometer/tests/event/test_endpoint.py', 'ceilometer/api/controllers/v2.py', 'ceilometer/tests/alarm/partition/test_coordination.py', 'ceilometer/tests/publisher/test_rpc_publisher.py', 'ceilometer/tests/alarm/test_singleton_alarm_svc.py', 'ceilometer/tests/api/v2/test_alarm_scenarios.py', 'ceilometer/publisher/rpc.py', 'ceilometer/tests/alarm/test_partitioned_alarm_svc.py', 'ceilometer/tests/objectstore/test_swift_middleware.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/253d99026e2f4b97aecfe8146a0c6fe32b0110cc', 'message': ""Don't keep a single global TRANSPORT object\n\nTo keep the global state of messaging like the old olso-incubator\nlibrary does, we have created a global TRANSPORT object.\n\nBut since the test use the fake:// driver of oslo.messaging in tests,\nthis transport is shared between tests, but some tests use 'fake://',\nother the default one, and someother disable the transport.\n\nThis change ensures that a different transport is used for\ncode tests.\n\nChange-Id: I22317527cc4fb44ea1fb9642586e8cdcbc97030b\n""}]",0,99891,253d99026e2f4b97aecfe8146a0c6fe32b0110cc,43,6,15,2813,,,0,"Don't keep a single global TRANSPORT object

To keep the global state of messaging like the old olso-incubator
library does, we have created a global TRANSPORT object.

But since the test use the fake:// driver of oslo.messaging in tests,
this transport is shared between tests, but some tests use 'fake://',
other the default one, and someother disable the transport.

This change ensures that a different transport is used for
code tests.

Change-Id: I22317527cc4fb44ea1fb9642586e8cdcbc97030b
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/91/99891/5 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/test_notification.py', 'ceilometer/tests/api/__init__.py', 'ceilometer/alarm/service.py', 'ceilometer/tests/alarm/test_rpc.py', 'ceilometer/messaging.py', 'ceilometer/notification.py', 'ceilometer/tests/alarm/test_notifier.py', 'ceilometer/tests/api/v2/test_post_samples_scenarios.py', 'ceilometer/alarm/rpc.py', 'ceilometer/collector.py', 'ceilometer/tests/test_collector.py', 'ceilometer/tests/event/test_endpoint.py', 'ceilometer/api/controllers/v2.py', 'ceilometer/tests/alarm/partition/test_coordination.py', 'ceilometer/tests/publisher/test_rpc_publisher.py', 'ceilometer/tests/alarm/test_singleton_alarm_svc.py', 'ceilometer/tests/api/v2/test_alarm_scenarios.py', 'ceilometer/publisher/rpc.py', 'ceilometer/tests/alarm/test_partitioned_alarm_svc.py', 'ceilometer/tests/objectstore/test_swift_middleware.py']",20,874202c353a1c92655569669d22d223036119446,,"from ceilometer.openstack.common.fixture import mockpatch self.useFixture(mockpatch.PatchObject( pipeline, 'setup_pipeline', side_effect=self._fake_setup_pipeline)) transport = messaging.get_transport(""fake://"") self.useFixture(mockpatch.Patch( 'ceilometer.messaging.get_transport', return_value=transport))","from ceilometer.openstack.common.fixture.mockpatch import PatchObject self.useFixture(PatchObject(pipeline, 'setup_pipeline', side_effect=self._fake_setup_pipeline)) messaging.setup('fake://') self.addCleanup(messaging.cleanup)",147,89
openstack%2Fironic-python-agent~master~I3343f104a5a8200d53bd87a8799ff918e375b17f,openstack/ironic-python-agent,master,I3343f104a5a8200d53bd87a8799ff918e375b17f,Use processutils properly,MERGED,2014-04-30 00:20:49.000000000,2014-06-16 14:27:58.000000000,2014-06-16 14:27:58.000000000,"[{'_account_id': 3}, {'_account_id': 8125}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 10343}]","[{'number': 1, 'created': '2014-04-30 00:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0e4acce6cb9ec9edd62b3a19a60a951fc0509849', 'message': 'Use processutils properly\n\nPreviously this code was calling processutils.execute incorrectly,\nexpecting it to return the exit code. This change:\n\n* fixes calls to processutils.execute\n* fixes related tests\n* changes exceptions triggered by shell command failure to\n  subclass processutils.ProcessExecutionError, to properly capture\n  commands, stdout, stderr, etc. from processutils.execute().\n\nChange-Id: I3343f104a5a8200d53bd87a8799ff918e375b17f\n'}, {'number': 2, 'created': '2014-06-04 00:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9b4f3c91449b49414e0263b5fc6ee51fa353aae6', 'message': 'Use processutils properly\n\nPreviously this code was calling processutils.execute incorrectly,\nexpecting it to return the exit code. This change:\n\n* fixes calls to processutils.execute\n* fixes related tests\n* changes exceptions triggered by shell command failure to\n  subclass processutils.ProcessExecutionError, to properly capture\n  commands, stdout, stderr, etc. from processutils.execute().\n\nChange-Id: I3343f104a5a8200d53bd87a8799ff918e375b17f\n'}, {'number': 3, 'created': '2014-06-04 22:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/160d42debb62cb64d40915177d4c05e175abe1b6', 'message': 'Use processutils properly\n\nPreviously this code was calling processutils.execute incorrectly,\nexpecting it to return the exit code. This change:\n\n* fixes calls to processutils.execute\n* fixes related tests\n* changes exceptions triggered by shell command failure to\n  subclass processutils.ProcessExecutionError, to properly capture\n  commands, stdout, stderr, etc. from processutils.execute().\n\nChange-Id: I3343f104a5a8200d53bd87a8799ff918e375b17f\n'}, {'number': 4, 'created': '2014-06-12 13:52:05.000000000', 'files': ['ironic_python_agent/tests/extensions/standby.py', 'ironic_python_agent/extensions/standby.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7b5575f6602f1199077c2819c18e5d587d5704ea', 'message': 'Use processutils properly\n\nPreviously this code was calling processutils.execute incorrectly,\nexpecting it to return the exit code. This change:\n\n* fixes calls to processutils.execute\n* fixes related tests\n\nChange-Id: I3343f104a5a8200d53bd87a8799ff918e375b17f\n'}]",0,91202,7b5575f6602f1199077c2819c18e5d587d5704ea,27,5,4,10343,,,0,"Use processutils properly

Previously this code was calling processutils.execute incorrectly,
expecting it to return the exit code. This change:

* fixes calls to processutils.execute
* fixes related tests

Change-Id: I3343f104a5a8200d53bd87a8799ff918e375b17f
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/02/91202/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/extensions/standby.py', 'ironic_python_agent/extensions/standby.py', 'ironic_python_agent/errors.py']",3,0e4acce6cb9ec9edd62b3a19a60a951fc0509849,fix-processutils-usage,"from ironic_python_agent.openstack.common import processutilsclass ImageWriteError(processutils.ProcessExecutionError, RESTError):class ConfigDriveWriteError(processutils.ProcessExecutionError, RESTError): class SystemRebootError(processutils.ProcessExecutionError, RESTError):","class ImageWriteError(RESTError): message = 'Error writing image to device.' def __init__(self, exit_code, device): super(ImageWriteError, self).__init__() self.details = 'Writing image to device {0} failed with exit code {1}.' self.details = self.details.format(device, exit_code) class ConfigDriveWriteError(RESTError): message = 'Error writing configdrive to device.' def __init__(self, exit_code, device): details = 'Writing configdrive to device {0} failed with exit code ' \ '{1}.' details = details.format(device, exit_code) super(ConfigDriveWriteError, self).__init__(details) self.details = details class SystemRebootError(RESTError): message = 'Error rebooting system.' def __init__(self, exit_code): super(SystemRebootError, self).__init__() self.details = 'Reboot script failed with exit code {0}.' self.details = self.details.format(exit_code)",45,47
openstack%2Fmistral~master~I1154c2b2da2823e94d40014cdca4499ac4e272e8,openstack/mistral,master,I1154c2b2da2823e94d40014cdca4499ac4e272e8,Renaming all example config files from *.conf.example to *.conf.sample,MERGED,2014-06-16 09:53:39.000000000,2014-06-16 14:25:28.000000000,2014-06-16 14:25:28.000000000,"[{'_account_id': 3}, {'_account_id': 4715}, {'_account_id': 7227}, {'_account_id': 7700}, {'_account_id': 8824}, {'_account_id': 9432}, {'_account_id': 10127}]","[{'number': 1, 'created': '2014-06-16 09:53:39.000000000', 'files': ['etc/logging.conf.sample', 'etc/wf_trace_logging.conf.sample'], 'web_link': 'https://opendev.org/openstack/mistral/commit/08e80b5a682d1e79a8e85a52773a7afe10bd2ca7', 'message': ""Renaming all example config files from *.conf.example to *.conf.sample\n\n* It's needed for consistency with the main config example\n\nChange-Id: I1154c2b2da2823e94d40014cdca4499ac4e272e8\n""}]",0,100207,08e80b5a682d1e79a8e85a52773a7afe10bd2ca7,11,7,1,8731,,,0,"Renaming all example config files from *.conf.example to *.conf.sample

* It's needed for consistency with the main config example

Change-Id: I1154c2b2da2823e94d40014cdca4499ac4e272e8
",git fetch https://review.opendev.org/openstack/mistral refs/changes/07/100207/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/logging.conf.sample', 'etc/wf_trace_logging.conf.sample']",2,08e80b5a682d1e79a8e85a52773a7afe10bd2ca7,conf_example_to_sample,,,0,0
openstack%2Fmistral~master~I5a3c57e7842fbbc80034226926b2a88141192cd7,openstack/mistral,master,I5a3c57e7842fbbc80034226926b2a88141192cd7,Add upload definition action in test,MERGED,2014-06-16 07:22:26.000000000,2014-06-16 14:25:02.000000000,2014-06-16 14:25:01.000000000,"[{'_account_id': 3}, {'_account_id': 4715}, {'_account_id': 7227}, {'_account_id': 7700}, {'_account_id': 8592}, {'_account_id': 8731}, {'_account_id': 9432}]","[{'number': 1, 'created': '2014-06-16 07:22:26.000000000', 'files': ['functionaltests/api/v1/test_mistral_basic.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/9e9017bccf50c1a6cadbb2fd497675e963cfc3cc', 'message': ""Add upload definition action in test\n\nAdd upload definition action in get_workbook_definition\ntest, because if definition isn't exist, get request\nreturns 404, but it's a positive test\n\nChange-Id: I5a3c57e7842fbbc80034226926b2a88141192cd7\n""}]",0,100170,9e9017bccf50c1a6cadbb2fd497675e963cfc3cc,13,7,1,8824,,,0,"Add upload definition action in test

Add upload definition action in get_workbook_definition
test, because if definition isn't exist, get request
returns 404, but it's a positive test

Change-Id: I5a3c57e7842fbbc80034226926b2a88141192cd7
",git fetch https://review.opendev.org/openstack/mistral refs/changes/70/100170/1 && git format-patch -1 --stdout FETCH_HEAD,['functionaltests/api/v1/test_mistral_basic.py'],1,9e9017bccf50c1a6cadbb2fd497675e963cfc3cc,, self.client.upload_workbook_definition('test'),,1,0
openstack%2Fpuppet-ceph~master~Idf339ceff0c10e0b3571c62d0d828a71892b0112,openstack/puppet-ceph,master,Idf339ceff0c10e0b3571c62d0d828a71892b0112,test,ABANDONED,2014-06-16 13:32:25.000000000,2014-06-16 14:24:00.000000000,,"[{'_account_id': 3}, {'_account_id': 2064}, {'_account_id': 9133}]","[{'number': 1, 'created': '2014-06-16 13:32:25.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/a908a0e512f994454e78ed6ee3ef0b2e4b48f34b', 'message': 'test\n\nChange-Id: Idf339ceff0c10e0b3571c62d0d828a71892b0112\n'}]",0,100251,a908a0e512f994454e78ed6ee3ef0b2e4b48f34b,7,3,1,2064,,,0,"test

Change-Id: Idf339ceff0c10e0b3571c62d0d828a71892b0112
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/51/100251/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,a908a0e512f994454e78ed6ee3ef0b2e4b48f34b,,"The. ceph module is intended to leverage all [Ceph](http://ceph.com/) has to offer and allow for a wide range of use case. Although hosted on the OpenStack infrastructure, it does not require to sign a CLA nor is it restricted to OpenStack users. It benefits from a structured development process that helps federate the development effort. Each component is unit tested and an integration test shows that it performs as expected when used with a realistic scenario.","The ceph module is intended to leverage all [Ceph](http://ceph.com/) has to offer and allow for a wide range of use case. Although hosted on the OpenStack infrastructure, it does not require to sign a CLA nor is it restricted to OpenStack users. It benefits from a structured development process that helps federate the development effort. Each component is unit tested and an integration test shows that it performs as expected when used with a realistic scenario.",1,1
openstack%2Ftaskflow~master~Ia348566c1c22ca31fa1cbdeb38d902ca0f622378,openstack/taskflow,master,Ia348566c1c22ca31fa1cbdeb38d902ca0f622378,Adjust sphinx requirement,MERGED,2014-06-14 02:30:16.000000000,2014-06-16 14:18:17.000000000,2014-06-16 14:18:16.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 2472}, {'_account_id': 7366}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-06-14 02:30:16.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/564f145b25794a169a1c505ea1ac362a28e8414e', 'message': 'Adjust sphinx requirement\n\nBump up the sphinx requirement to match the\nopenstack requirements version to ensure\nconsistency among projects.\n\nChange-Id: Ia348566c1c22ca31fa1cbdeb38d902ca0f622378\n'}]",0,100043,564f145b25794a169a1c505ea1ac362a28e8414e,17,5,1,1297,,,0,"Adjust sphinx requirement

Bump up the sphinx requirement to match the
openstack requirements version to ensure
consistency among projects.

Change-Id: Ia348566c1c22ca31fa1cbdeb38d902ca0f622378
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/43/100043/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,564f145b25794a169a1c505ea1ac362a28e8414e,,"sphinx>=1.1.2,!=1.2.0,<1.3","sphinx>=1.2.1,<1.3",1,1
openstack%2Fneutron~master~I6da0ca578cfe1fe0885138a5e2da76278f791491,openstack/neutron,master,I6da0ca578cfe1fe0885138a5e2da76278f791491,Return no active network if the agent has not been learnt yet,MERGED,2014-05-12 12:25:38.000000000,2014-06-16 14:18:14.000000000,2014-06-16 14:18:13.000000000,"[{'_account_id': 3}, {'_account_id': 261}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 7448}, {'_account_id': 7787}, {'_account_id': 8279}, {'_account_id': 9044}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}]","[{'number': 1, 'created': '2014-05-12 12:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1ffe66ded623f6d500adeee4dcaf933df317dfb6', 'message': 'Return no active network if the agent has not been learnt yet\n\nSometimes the agent message to get the active networks is\nprocessed before the agent is leant by Neutron. Neutron throws an\nerror, while should simply return no network\n\nChange-Id: I6da0ca578cfe1fe0885138a5e2da76278f791491\nFixes-bug: #1302838\n'}, {'number': 2, 'created': '2014-05-21 09:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f2b329e9bfcdc71c9857517115a023b5e2f2122', 'message': 'Return no active network if the agent has not been learnt yet\n\nSometimes the agent message to get the active networks is\nprocessed before the agent is leant by Neutron. Neutron throws an\nerror, while should simply return no network\n\nChange-Id: I6da0ca578cfe1fe0885138a5e2da76278f791491\nFixes-bug: #1302838\n'}, {'number': 3, 'created': '2014-06-04 16:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/422d8ada22f2fd2a6f43abfe90d52b068a6dd763', 'message': 'Return no active network if the agent has not been learnt yet\n\nSometimes the agent message to get the active networks is\nprocessed before the agent is learnt by Neutron. Neutron throws an\nerror, but it should simply return no network\n\nChange-Id: I6da0ca578cfe1fe0885138a5e2da76278f791491\nCloses-bug: #1302838\n'}, {'number': 4, 'created': '2014-06-05 11:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5fdeba30ea9652feeed3420fdf25174315a9491', 'message': 'Return no active network if the agent has not been learnt yet\n\nSometimes the agent message to get the active networks is\nprocessed before the agent is learnt by Neutron. Neutron throws an\nerror, but it should simply return no network\n\nChange-Id: I6da0ca578cfe1fe0885138a5e2da76278f791491\nCloses-bug: #1302838\n'}, {'number': 5, 'created': '2014-06-06 13:41:50.000000000', 'files': ['neutron/tests/unit/openvswitch/test_agent_scheduler.py', 'neutron/db/agentschedulers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7fa8d60f246d36d5eef9cd54dc706b9a77972259', 'message': 'Return no active network if the agent has not been learnt yet\n\nSometimes the agent message to get the active networks is\nprocessed before the agent is learnt by Neutron. Neutron throws an\nerror, but it should simply return no network\n\nChange-Id: I6da0ca578cfe1fe0885138a5e2da76278f791491\nCloses-bug: #1302838\n'}]",15,93290,7fa8d60f246d36d5eef9cd54dc706b9a77972259,117,25,5,6788,,,0,"Return no active network if the agent has not been learnt yet

Sometimes the agent message to get the active networks is
processed before the agent is learnt by Neutron. Neutron throws an
error, but it should simply return no network

Change-Id: I6da0ca578cfe1fe0885138a5e2da76278f791491
Closes-bug: #1302838
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/93290/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/agentschedulers_db.py'],1,1ffe66ded623f6d500adeee4dcaf933df317dfb6,master,"from neutron.extensions import agent as ext_agent try: agent = self._get_agent_by_type_and_host( context, constants.AGENT_TYPE_DHCP, host) except ext_agent.AgentNotFoundByTypeHost: LOG.debug(_(""Agent %(id)s not found"", agent.id)) return [] "," agent = self._get_agent_by_type_and_host( context, constants.AGENT_TYPE_DHCP, host)",8,2
openstack%2Fpython-novaclient~master~Ib54dc49fca2463f1c5cd788b48d06bd85be52655,openstack/python-novaclient,master,Ib54dc49fca2463f1c5cd788b48d06bd85be52655,add tox target for python 3.4,MERGED,2014-06-09 14:23:25.000000000,2014-06-16 14:14:34.000000000,2014-06-16 14:14:33.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 4690}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-06-09 14:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/eff3783134a0ed25f8031f84885f86e1b744e222', 'message': 'add tox target for python 3.4\n\nUbuntu 14.04 has python 3.4, so in order to be able to test against\nit locally you need a 3.4 target. Note that this will fail unless\nyou have new enough virtualenv. Recommend you install the packaged\nversion of 1.11.4 and get rid of any pip installed ones.\n\nChange-Id: Ib54dc49fca2463f1c5cd788b48d06bd85be52655\n'}, {'number': 2, 'created': '2014-06-09 18:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/a0e37aacafb5541f9d35452d80656a6d42b8c8eb', 'message': 'add tox target for python 3.4\n\nUbuntu 14.04 has python 3.4, so in order to be able to test against\nit locally you need a 3.4 target. Note that this will fail unless\nyou have new enough virtualenv. Recommend you install the packaged\nversion of 1.11.4 and get rid of any pip installed ones.\n\nChange-Id: Ib54dc49fca2463f1c5cd788b48d06bd85be52655\n'}, {'number': 3, 'created': '2014-06-10 10:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/20b7866c79bf136d20b33711e86050f28b857146', 'message': 'add tox target for python 3.4\n\nUbuntu 14.04 has python 3.4, so in order to be able to test against\nit locally you need a 3.4 target. Note that this will fail unless\nyou have new enough virtualenv. Recommend you install the packaged\nversion of 1.11.4 and get rid of any pip installed ones.\n\nChange-Id: Ib54dc49fca2463f1c5cd788b48d06bd85be52655\n'}, {'number': 4, 'created': '2014-06-11 10:45:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/9520fbbfeab6cce5013ca1356cf35b274871757f', 'message': 'add tox target for python 3.4\n\nUbuntu 14.04 has python 3.4 so add a 3.4 target. \nNote that this will fail unless\nyou have new enough virtualenv. Recommend you install the packaged\nversion of 1.11.4 and get rid of any pip installed ones.\n\nChange-Id: Ib54dc49fca2463f1c5cd788b48d06bd85be52655\n'}]",0,98804,9520fbbfeab6cce5013ca1356cf35b274871757f,31,6,4,2750,,,0,"add tox target for python 3.4

Ubuntu 14.04 has python 3.4 so add a 3.4 target. 
Note that this will fail unless
you have new enough virtualenv. Recommend you install the packaged
version of 1.11.4 and get rid of any pip installed ones.

Change-Id: Ib54dc49fca2463f1c5cd788b48d06bd85be52655
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/04/98804/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,eff3783134a0ed25f8031f84885f86e1b744e222,mask_keystone_token,"# noted to use py34 you need virtualenv >= 1.11.4envlist = py26,py27,py33,py34,pypy,pep8","envlist = py26,py27,py33,pypy,pep8",2,1
openstack%2Fheat~master~I9e15f31979d44f018db69ebc8109f707b0f51671,openstack/heat,master,I9e15f31979d44f018db69ebc8109f707b0f51671,Assume compute service_type for nova client,MERGED,2014-06-04 23:24:46.000000000,2014-06-16 14:12:37.000000000,2014-06-16 14:12:37.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 6577}, {'_account_id': 6917}, {'_account_id': 7385}, {'_account_id': 8289}, {'_account_id': 8871}, {'_account_id': 9542}, {'_account_id': 10556}]","[{'number': 1, 'created': '2014-06-04 23:24:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b05e6dc0b3e85801bf27281bc134c1cab57ff966', 'message': 'Assume compute service_type for nova client\n\nThis change removes the ability to specify a non-compute service\ntype when requesting a nova client. The only non-compute service\ntype actually requested was the fallback path for cinder. However\nnova volumes was completely removed from nova in grizzly, so we\ndo not need to support this any more.\n\nChange-Id: I9e15f31979d44f018db69ebc8109f707b0f51671\n'}, {'number': 2, 'created': '2014-06-09 04:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d18fc64e01a405e1b2f6e20b5f23898ead5e0518', 'message': 'Assume compute service_type for nova client\n\nThis change removes the ability to specify a non-compute service\ntype when requesting a nova client. The only non-compute service\ntype actually requested was the fallback path for cinder. However\nnova volumes was completely removed from nova in grizzly, so we\ndo not need to support this any more.\n\nChange-Id: I9e15f31979d44f018db69ebc8109f707b0f51671\n'}, {'number': 3, 'created': '2014-06-09 22:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ebab3facba7468f730a1b63ec7fde30e2e0bb571', 'message': 'Assume compute service_type for nova client\n\nThis change removes the ability to specify a non-compute service\ntype when requesting a nova client. The only non-compute service\ntype actually requested was the fallback path for cinder. However\nnova volumes was completely removed from nova in grizzly, so we\ndo not need to support this any more.\n\nChange-Id: I9e15f31979d44f018db69ebc8109f707b0f51671\n'}, {'number': 4, 'created': '2014-06-10 05:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b69faeb2f9e945b5989421482b7a720c019d7430', 'message': 'Assume compute service_type for nova client\n\nThis change removes the ability to specify a non-compute service\ntype when requesting a nova client. The only non-compute service\ntype actually requested was the fallback path for cinder. However\nnova volumes was completely removed from nova in grizzly, so we\ndo not need to support this any more.\n\nChange-Id: I9e15f31979d44f018db69ebc8109f707b0f51671\n'}, {'number': 5, 'created': '2014-06-16 00:58:28.000000000', 'files': ['heat/tests/test_security_group.py', 'heat/tests/test_server.py', 'heat/engine/clients.py', 'heat/tests/test_neutron_loadbalancer.py', 'heat/tests/test_nova_floatingip.py', 'heat/engine/resource.py', 'contrib/rackspace/rackspace/clients.py', 'heat/tests/test_loadbalancer.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/97720037c28d89f64d4c48d703ef51354350db49', 'message': 'Assume compute service_type for nova client\n\nThis change removes the ability to specify a non-compute service\ntype when requesting a nova client. The only non-compute service\ntype actually requested was the fallback path for cinder. However\nnova volumes was completely removed from nova in grizzly, so we\ndo not need to support this any more.\n\nChange-Id: I9e15f31979d44f018db69ebc8109f707b0f51671\n'}]",0,97971,97720037c28d89f64d4c48d703ef51354350db49,29,10,5,4571,,,0,"Assume compute service_type for nova client

This change removes the ability to specify a non-compute service
type when requesting a nova client. The only non-compute service
type actually requested was the fallback path for cinder. However
nova volumes was completely removed from nova in grizzly, so we
do not need to support this any more.

Change-Id: I9e15f31979d44f018db69ebc8109f707b0f51671
",git fetch https://review.opendev.org/openstack/heat refs/changes/71/97971/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_security_group.py', 'heat/tests/test_server.py', 'heat/engine/clients.py', 'heat/tests/test_neutron_loadbalancer.py', 'heat/engine/resource.py', 'heat/tests/test_nova_floatingip.py', 'contrib/rackspace/rackspace/clients.py', 'heat/tests/test_loadbalancer.py']",8,b05e6dc0b3e85801bf27281bc134c1cab57ff966,bp/client-plugins, clients.OpenStackClients.nova().MultipleTimes().AndReturn(self.fc)," clients.OpenStackClients.nova( ""compute"").MultipleTimes().AndReturn(self.fc) if key_name: clients.OpenStackClients.nova().MultipleTimes().AndReturn(self.fc)",42,55
openstack%2Fpython-saharaclient~master~I2832d60350babc8f37a2b4aeae1ad4ad8095fada,openstack/python-saharaclient,master,I2832d60350babc8f37a2b4aeae1ad4ad8095fada,Added new hacking version to requirements,MERGED,2014-06-16 05:13:46.000000000,2014-06-16 14:05:19.000000000,2014-06-16 09:45:50.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}]","[{'number': 1, 'created': '2014-06-16 05:13:46.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/6d8e6dad1a1c0bb5a6b0367a096d9e6fb15518ca', 'message': 'Added new hacking version to requirements\n\n* Added hacking>=0.9.1,<0.10 according to change\n  I160ee86ea8102e6ce82a9e34e2056a0f1f965d7b\n* Ignored all pep8 errors to work with new version\n\nChange-Id: I2832d60350babc8f37a2b4aeae1ad4ad8095fada\n'}]",0,100137,6d8e6dad1a1c0bb5a6b0367a096d9e6fb15518ca,9,3,1,7125,,,0,"Added new hacking version to requirements

* Added hacking>=0.9.1,<0.10 according to change
  I160ee86ea8102e6ce82a9e34e2056a0f1f965d7b
* Ignored all pep8 errors to work with new version

Change-Id: I2832d60350babc8f37a2b4aeae1ad4ad8095fada
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/37/100137/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,6d8e6dad1a1c0bb5a6b0367a096d9e6fb15518ca,new-hacking,"# E111 indentation is not a multiple of four # E112 expected an indented block # E113 unexpected indentation # E226 missing whitespace around arithmetic operator # E241 multiple spaces after ':' # E265 block comment should start with '# ' # F841 local variable is assigned to but never used # H305 imports not grouped correctly (re: stdlib, six: third-party) # H307 like imports should be grouped together (six and oslo.config.cfg from third-party are separated by whitespace) # H405 multi line docstring summary not separated with an empty line # H904 Wrap long lines in parentheses instead of a backslash ignore = E111,E112,E113,E226,E241,E265,F841,H305,H307,H405,H904",,13,1
openstack%2Fdevstack-gate~master~Ie958446c312d37fff9ebccfe352cfa0185e7a514,openstack/devstack-gate,master,Ie958446c312d37fff9ebccfe352cfa0185e7a514,Use root to write syslog from journalctl,MERGED,2014-06-06 01:33:50.000000000,2014-06-16 14:02:03.000000000,2014-06-16 12:40:38.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 1926}, {'_account_id': 4146}, {'_account_id': 6786}, {'_account_id': 7118}, {'_account_id': 7233}, {'_account_id': 8871}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-06 01:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/37806208eccf51e43a07f89ffd48d95e4021fa49', 'message': 'Use root to write syslog from journalctl\n\nWe need to be root to write out the syslog data\n\nChange-Id: Ie958446c312d37fff9ebccfe352cfa0185e7a514\n'}, {'number': 2, 'created': '2014-06-06 01:38:55.000000000', 'files': ['functions.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/0b917ba51fd34445b2d0b15e2ab7bb728472b852', 'message': 'Use root to write syslog from journalctl\n\nWe need to be root to write out the syslog data\n\nChange-Id: Ie958446c312d37fff9ebccfe352cfa0185e7a514\n'}]",0,98283,0b917ba51fd34445b2d0b15e2ab7bb728472b852,49,9,2,7118,,,0,"Use root to write syslog from journalctl

We need to be root to write out the syslog data

Change-Id: Ie958446c312d37fff9ebccfe352cfa0185e7a514
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/83/98283/1 && git format-patch -1 --stdout FETCH_HEAD,['functions.sh'],1,37806208eccf51e43a07f89ffd48d95e4021fa49,sudo-syslog, > sudo $BASE/logs/syslog.txt, > $BASE/logs/syslog.txt,1,1
openstack%2Fnova~master~I3c9ee3f59fd17394b251fedf8df592e5d6304962,openstack/nova,master,I3c9ee3f59fd17394b251fedf8df592e5d6304962,Add tests to avoid inconsistent extension names,MERGED,2014-05-16 11:01:24.000000000,2014-06-16 14:00:33.000000000,2014-06-16 12:48:26.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2271}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-05-16 11:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/885b1247d19f2b6da00d57ccbcb53d003495b462', 'message': 'Add an integrated test to avoid inconsistent names\n\nOn v3 API, extension names should be camelcases.\nI0dc6c23ffcdcf97fc52d3575d521692805ffd9e3 has fixed inconsistent names\nalready, and this patch adds a test for blocking these inconsistent\nname additions in the future.\n\nChange-Id: I3c9ee3f59fd17394b251fedf8df592e5d6304962\nRelated-Bug: #1315597\n'}, {'number': 2, 'created': '2014-05-16 11:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6d514860055af3dc5a838cb234d4e4a691bda36', 'message': 'Add integrated tests to avoid inconsistent names\n\nOn v3 API, extension names should be camelcases.\nI0dc6c23ffcdcf97fc52d3575d521692805ffd9e3 has fixed inconsistent\nnames already.\nThis patch adds tests for blocking these inconsistent name/alias\nadditions in the future.\n\nChange-Id: I3c9ee3f59fd17394b251fedf8df592e5d6304962\nRelated-Bug: #1315597\n'}, {'number': 3, 'created': '2014-05-20 01:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb179d4d9ae3dcba4c2311ea136e85aa237cd6ff', 'message': 'Add tests to avoid inconsistent extension names\n\nOn v2.1/v3 API, extension names should be camelcases.\nI0dc6c23ffcdcf97fc52d3575d521692805ffd9e3 has fixed inconsistent\nnames already.\nThis patch adds tests for blocking these inconsistent name/alias\nadditions in the future.\n\nChange-Id: I3c9ee3f59fd17394b251fedf8df592e5d6304962\nRelated-Bug: #1315597\n'}, {'number': 4, 'created': '2014-05-20 03:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6273420d7b93e515a2ac926a296f95b0ed5e53f2', 'message': 'Add tests to avoid inconsistent extension names\n\nOn v2.1/v3 API, extension names should be camelcases.\nI0dc6c23ffcdcf97fc52d3575d521692805ffd9e3 has fixed inconsistent\nnames already.\nThis patch adds tests for blocking these inconsistent name/alias\nadditions in the future.\n\nChange-Id: I3c9ee3f59fd17394b251fedf8df592e5d6304962\nRelated-Bug: #1315597\n'}, {'number': 5, 'created': '2014-05-27 11:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3136ee4a8df2620af572ae87eba9c51ce962dbe2', 'message': 'Add tests to avoid inconsistent extension names\n\nOn v2.1/v3 API, extension names should be camelcases.\nI0dc6c23ffcdcf97fc52d3575d521692805ffd9e3 has fixed inconsistent\nnames already.\nThis patch adds tests for blocking these inconsistent name/alias\nadditions in the future.\n\nChange-Id: I3c9ee3f59fd17394b251fedf8df592e5d6304962\nRelated-Bug: #1315597\n'}, {'number': 6, 'created': '2014-06-02 23:38:04.000000000', 'files': ['nova/tests/integrated/v3/test_extension_info.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ba8d6c01d743a3d24739de1aecc2cf3cd22fa00a', 'message': 'Add tests to avoid inconsistent extension names\n\nOn v2.1/v3 API, extension names should be camelcases.\nI0dc6c23ffcdcf97fc52d3575d521692805ffd9e3 has fixed inconsistent\nnames already.\nThis patch adds tests for blocking these inconsistent name/alias\nadditions in the future.\n\nChange-Id: I3c9ee3f59fd17394b251fedf8df592e5d6304962\nRelated-Bug: #1315597\n'}]",4,93891,ba8d6c01d743a3d24739de1aecc2cf3cd22fa00a,85,12,6,6167,,,0,"Add tests to avoid inconsistent extension names

On v2.1/v3 API, extension names should be camelcases.
I0dc6c23ffcdcf97fc52d3575d521692805ffd9e3 has fixed inconsistent
names already.
This patch adds tests for blocking these inconsistent name/alias
additions in the future.

Change-Id: I3c9ee3f59fd17394b251fedf8df592e5d6304962
Related-Bug: #1315597
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/93891/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/test.py', 'nova/tests/integrated/v3/test_extension_info.py']",2,885b1247d19f2b6da00d57ccbcb53d003495b462,consistent_ext_name,"import re from nova.openstack.common import jsonutils class ExtensionInfoFormatTest(api_sample_base.ApiSampleTestBaseV3): # NOTE: To check all extension formats, here uses policy.json instead of # fake_policy.py because most extensions are not set as ""discoverable"" in # fake_policy.py. all_extensions = True USES_FAKE_POLICY = False def _test_list_extensions(self, key, pattern): response = self._do_get('extensions') response = jsonutils.loads(response.read()) extensions = response['extensions'] pattern_comp = re.compile(pattern) for ext in extensions: self.assertIsNotNone(pattern_comp.match(ext[key]), '%s does not match with %s' % (ext[key], pattern)) def test_list_extensions_name_format(self): # name should be CamelCase. pattern = '^[A-Z]{1}[a-z]{1}[a-zA-Z]*$' self._test_list_extensions('name', pattern) def test_list_extensions_alias_format(self): # alias should contain lowcase chars and '-' only. pattern = '^[a-z-]+$' self._test_list_extensions('alias', pattern)",,34,1
openstack%2Fdiskimage-builder~master~Id61af0f7abbc353e0750580b80e448820cc17b10,openstack/diskimage-builder,master,Id61af0f7abbc353e0750580b80e448820cc17b10,Add missing dollar,MERGED,2014-06-04 13:17:26.000000000,2014-06-16 13:55:22.000000000,2014-06-16 13:49:04.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 1706}, {'_account_id': 6969}, {'_account_id': 7144}, {'_account_id': 7491}, {'_account_id': 7582}, {'_account_id': 8532}, {'_account_id': 10692}]","[{'number': 1, 'created': '2014-06-04 13:17:26.000000000', 'files': ['elements/ramdisk/init.d/02-start-network'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6b8a0408d82ecdad9e620e6d5fcc85a5d728e5d8', 'message': 'Add missing dollar\n\nCheck is missing a dollar leading to an error on deploy ramdisk\nconsoles when booting .\n\nChange-Id: Id61af0f7abbc353e0750580b80e448820cc17b10\n'}]",0,97784,6b8a0408d82ecdad9e620e6d5fcc85a5d728e5d8,26,9,1,1706,,,0,"Add missing dollar

Check is missing a dollar leading to an error on deploy ramdisk
consoles when booting .

Change-Id: Id61af0f7abbc353e0750580b80e448820cc17b10
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/84/97784/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/ramdisk/init.d/02-start-network'],1,6b8a0408d82ecdad9e620e6d5fcc85a5d728e5d8,missing_dollar,if [ $rv -ne 0 ]; then,if [ rv -ne 0 ]; then,1,1
openstack%2Ffuel-web~master~I00b9adb09a87a05bf980761710eddf6992a3e39a,openstack/fuel-web,master,I00b9adb09a87a05bf980761710eddf6992a3e39a,Settings tab fixes,MERGED,2014-06-16 09:47:55.000000000,2014-06-16 13:54:24.000000000,2014-06-16 13:54:23.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-06-16 09:47:55.000000000', 'files': ['nailgun/static/js/views/cluster_page_tabs/settings_tab.js'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/02b94ba4da575b0110e6ee694ebaa362305635ef', 'message': 'Settings tab fixes\n\nChange-Id: I00b9adb09a87a05bf980761710eddf6992a3e39a\n'}]",1,100200,02b94ba4da575b0110e6ee694ebaa362305635ef,13,4,1,8766,,,0,"Settings tab fixes

Change-Id: I00b9adb09a87a05bf980761710eddf6992a3e39a
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/00/100200/1 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/static/js/views/cluster_page_tabs/settings_tab.js'],1,02b94ba4da575b0110e6ee694ebaa362305635ef,settings-tab-fixes," if (!this.settings.get(groupName + '.metadata.visible')) { return; } if (!this.settings.get(groupName + '.metadata.visible')) { return; } _.each(group, function(setting, settingName) { if (settingPath == groupName + '.' + settingName) { return; } var isSettingDisabled = false; _.each(this.settings.get(settingPath + '.restrictions'), function(restriction) { isSettingDisabled = isSettingDisabled || handleRestriction(restriction); }); var isValueDisabled = false; _.each(value.restrictions, function(restriction) { isValueDisabled = isValueDisabled || handleRestriction(restriction); }); settingValues[index].disabled = isValueDisabled;"," if (!this.settings.get(groupName + '.metadata.visible')) { return false; } if (!this.settings.get(groupName + '.metadata.visible')) { return false; } _.each(group, function(setting, settingName) { if (settingPath == groupName + '.' + settingName) { return false; } var isSettingDisabled = _.any(this.settings.get(settingPath + '.restrictions'), handleRestriction); settingValues[index].disabled = _.any(value.restrictions, handleRestriction);",12,5
openstack%2Foslo-incubator~stable%2Ficehouse~Ic815ca3df94c33edec9104172048b2cd94b92e3f,openstack/oslo-incubator,stable/icehouse,Ic815ca3df94c33edec9104172048b2cd94b92e3f,Enforce unicode json output for jsonutils.load[s](),MERGED,2014-05-27 12:50:01.000000000,2014-06-16 13:53:09.000000000,2014-06-16 13:53:09.000000000,"[{'_account_id': 3}, {'_account_id': 1247}, {'_account_id': 2472}]","[{'number': 1, 'created': '2014-05-27 12:50:01.000000000', 'files': ['test-requirements.txt', 'tests/unit/test_jsonutils.py', 'test-requirements-py3.txt', 'openstack/common/jsonutils.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/1b9018859fa3b420d01ed191b916476db6eb9182', 'message': ""Enforce unicode json output for jsonutils.load[s]()\n\nsimplejson module applies some optimizations on ASCII-only unicode\nstrings which result in non-unicode json output. See details at [1]\nand [2]. To make sure we always return consistent json output no\nmatter which json implementation is used, we should explicitly convert\nthe input for json.load[s]() to unicode.\n\nIf user wants to pass a file object of non UTF-8 encoding to\njson.load[s](), she must also specify this encoding as an argument. To\nsupport this scenario too, we've added 'encoding' argument to\njsonutils.load[s]() implementation.\n\nMade all present JSON tests to run on both supported json library\nimplementations.\n\nAdded explicit dependency for simplejson to be able to test different\nimplementations in unit tests. Distributors still running Python 2.6\nare recommended but not required to install simplejson.\n\nRelated-Bug: 1314129\n\n[1]: https://code.djangoproject.com/ticket/11742\n[2]: https://code.google.com/p/simplejson/issues/detail?id=40\n\nConflicts:\n\ttests/unit/test_jsonutils.py\n\nChange-Id: Ic815ca3df94c33edec9104172048b2cd94b92e3f\n(cherry picked from commit 18f2bc1bf080b41a22c70842e7c127da21c63b8b)\n""}]",0,95749,1b9018859fa3b420d01ed191b916476db6eb9182,11,3,1,9656,,,0,"Enforce unicode json output for jsonutils.load[s]()

simplejson module applies some optimizations on ASCII-only unicode
strings which result in non-unicode json output. See details at [1]
and [2]. To make sure we always return consistent json output no
matter which json implementation is used, we should explicitly convert
the input for json.load[s]() to unicode.

If user wants to pass a file object of non UTF-8 encoding to
json.load[s](), she must also specify this encoding as an argument. To
support this scenario too, we've added 'encoding' argument to
jsonutils.load[s]() implementation.

Made all present JSON tests to run on both supported json library
implementations.

Added explicit dependency for simplejson to be able to test different
implementations in unit tests. Distributors still running Python 2.6
are recommended but not required to install simplejson.

Related-Bug: 1314129

[1]: https://code.djangoproject.com/ticket/11742
[2]: https://code.google.com/p/simplejson/issues/detail?id=40

Conflicts:
	tests/unit/test_jsonutils.py

Change-Id: Ic815ca3df94c33edec9104172048b2cd94b92e3f
(cherry picked from commit 18f2bc1bf080b41a22c70842e7c127da21c63b8b)
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/49/95749/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tests/unit/test_jsonutils.py', 'test-requirements-py3.txt', 'openstack/common/jsonutils.py']",4,1b9018859fa3b420d01ed191b916476db6eb9182,simplejson-stable-backport,"import codecsfrom openstack.common import strutilsdef loads(s, encoding='utf-8'): return json.loads(strutils.safe_decode(s, encoding)) def load(fp, encoding='utf-8'): return json.load(codecs.getreader(encoding)(fp))",def loads(s): return json.loads(s) def load(fp): return json.load(fp),56,9
openstack%2Foslo-incubator~stable%2Ficehouse~Ia0cfce0e023ce29d3aad80a71039343643820bb4,openstack/oslo-incubator,stable/icehouse,Ia0cfce0e023ce29d3aad80a71039343643820bb4,"jsonutils.load() accepts file pointer, not string",MERGED,2014-05-27 12:50:01.000000000,2014-06-16 13:52:20.000000000,2014-06-16 13:52:19.000000000,"[{'_account_id': 3}, {'_account_id': 1247}, {'_account_id': 2472}]","[{'number': 1, 'created': '2014-05-27 12:50:01.000000000', 'files': ['openstack/common/jsonutils.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/cd909d83ba996c1ce026fa439ae9447560566fa3', 'message': 'jsonutils.load() accepts file pointer, not string\n\nRenamed jsonutils.load() argument name to more appropriate one. This\nname is also used in stdlib json documentation [1].\n\n1: https://docs.python.org/2/library/json.html#json.load\n\nChange-Id: Ia0cfce0e023ce29d3aad80a71039343643820bb4\n(cherry picked from commit 9e5a39389c866d3e0901edc618e7cd364a49dbce)\n'}]",0,95748,cd909d83ba996c1ce026fa439ae9447560566fa3,11,3,1,9656,,,0,"jsonutils.load() accepts file pointer, not string

Renamed jsonutils.load() argument name to more appropriate one. This
name is also used in stdlib json documentation [1].

1: https://docs.python.org/2/library/json.html#json.load

Change-Id: Ia0cfce0e023ce29d3aad80a71039343643820bb4
(cherry picked from commit 9e5a39389c866d3e0901edc618e7cd364a49dbce)
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/48/95748/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/common/jsonutils.py'],1,cd909d83ba996c1ce026fa439ae9447560566fa3,simplejson-stable-backport,def load(fp): return json.load(fp),def load(s): return json.load(s),2,2
openstack%2Foslo-incubator~master~Ieb1e47adae221426a117ef96075c16d9b5e25078,openstack/oslo-incubator,master,Ieb1e47adae221426a117ef96075c16d9b5e25078,Missing parameter in policy.py,ABANDONED,2014-04-14 14:01:41.000000000,2014-06-16 13:51:28.000000000,,"[{'_account_id': 3}, {'_account_id': 7132}, {'_account_id': 7725}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-04-14 14:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/2712804c500d0aed993a837b587318fce4c02907', 'message': ""Missing parameter added in policy.py\n\nThe 'policy_file' parameter was supposed in a docstring bu missing in\nmethod definition.\n\nChange-Id: Ieb1e47adae221426a117ef96075c16d9b5e25078\nCloses-Bug: #1307515\n""}, {'number': 2, 'created': '2014-04-21 12:11:49.000000000', 'files': ['openstack/common/policy.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/fc4389709bd4be2315027e6de58af76d8d50acb6', 'message': ""Missing parameter in policy.py\n\nThe 'policy_file' parameter was supposed in a docstring bu missing in\nmethod definition. Removing it.\n\nChange-Id: Ieb1e47adae221426a117ef96075c16d9b5e25078\nCloses-Bug: #1307515\n""}]",2,87272,fc4389709bd4be2315027e6de58af76d8d50acb6,9,4,2,7132,,,0,"Missing parameter in policy.py

The 'policy_file' parameter was supposed in a docstring bu missing in
method definition. Removing it.

Change-Id: Ieb1e47adae221426a117ef96075c16d9b5e25078
Closes-Bug: #1307515
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/72/87272/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/common/policy.py'],1,2712804c500d0aed993a837b587318fce4c02907,," self.policy_path = self._get_policy_path(self.policy_file) def _get_policy_path(self, policy_file): policy_path = CONF.find_file(policy_file) if policy_path: return policy_path", self.policy_path = self._get_policy_path() def _get_policy_path(self): policy_file = CONF.find_file(self.policy_file) if policy_file: return policy_file,5,5
openstack%2Fceilometer~master~Ia1c9a2df26cbf6d005075edfae4c92a392cbc851,openstack/ceilometer,master,Ia1c9a2df26cbf6d005075edfae4c92a392cbc851,[TEST] try fix 1328679,ABANDONED,2014-06-12 13:04:29.000000000,2014-06-16 13:44:57.000000000,,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 4491}, {'_account_id': 7052}]","[{'number': 1, 'created': '2014-06-12 13:04:29.000000000', 'files': ['ceilometer/tests/test_notification.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/423ea32f7a74e8ae881d0205aa5b634d3bba2e5d', 'message': '[TEST] try fix 1328679\n\nChange-Id: Ia1c9a2df26cbf6d005075edfae4c92a392cbc851\n'}]",0,99654,423ea32f7a74e8ae881d0205aa5b634d3bba2e5d,21,4,1,2813,,,0,"[TEST] try fix 1328679

Change-Id: Ia1c9a2df26cbf6d005075edfae4c92a392cbc851
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/54/99654/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/tests/test_notification.py'],1,423ea32f7a74e8ae881d0205aa5b634d3bba2e5d,, self.sem.acquire(), self.sem.acquire(timeout=30),1,1
openstack%2Fnova~master~Ib527ade86aef52a8445b57fa03fed434578c4204,openstack/nova,master,Ib527ade86aef52a8445b57fa03fed434578c4204,Delete image when backup operation failed on snapshot step,MERGED,2014-03-06 07:44:35.000000000,2014-06-16 13:37:55.000000000,2014-06-16 09:51:03.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 2271}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 6062}, {'_account_id': 8163}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9533}, {'_account_id': 9578}, {'_account_id': 10385}, {'_account_id': 10614}]","[{'number': 1, 'created': '2014-03-06 07:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6310ee7533cb5c446b66a0fff2e3e75336578984', 'message': ""Delete image when backup operation failed on snapshot step\n\nwhen we snapshot an instance, we will use @delete_image_on_error to\ndelete any failed snapshot, however, the image will not be removed\nby backup code flow, it will be an issue if too many backup failed\nat last ,all useful image will be removed and we have only 'error'\nimage left in host\n\nChange-Id: Ib527ade86aef52a8445b57fa03fed434578c4204\nCloses-Bug: #1288574\n""}, {'number': 2, 'created': '2014-03-07 01:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d9331bc8eeb308a77d8c12abd5f1c0dd4fa6497', 'message': ""Delete image when backup operation failed on snapshot step\n\nwhen we snapshot an instance, we will use @delete_image_on_error to\ndelete any failed snapshot, however, the image will not be removed\nby backup code flow, it will be an issue if too many backup failed\nat last ,all useful image will be removed and we have only 'error'\nimage left in host\n\nChange-Id: Ib527ade86aef52a8445b57fa03fed434578c4204\nCloses-Bug: #1288574\n""}, {'number': 3, 'created': '2014-03-07 07:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/feb871ff1158720a2fcd6a238be6bfc3dcf33946', 'message': ""Delete image when backup operation failed on snapshot step\n\nwhen we snapshot an instance, we will use @delete_image_on_error to\ndelete any failed snapshot, however, the image will not be removed\nby backup code flow, it will be an issue if too many backup failed\nat last ,all useful image will be removed and we have only 'error'\nimage left in host\n\nChange-Id: Ib527ade86aef52a8445b57fa03fed434578c4204\nCloses-Bug: #1288574\n""}, {'number': 4, 'created': '2014-04-18 05:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2f75516e2f6d58ede69498bd2043c51be3f72c6', 'message': ""Delete image when backup operation failed on snapshot step\n\nwhen we snapshot an instance, we will use @delete_image_on_error to\ndelete any failed snapshot, however, the image will not be removed\nby backup code flow, it will be an issue if too many backup failed\nat last ,all useful image will be removed and we have only 'error'\nimage left in host\n\nChange-Id: Ib527ade86aef52a8445b57fa03fed434578c4204\nCloses-Bug: #1288574\n""}, {'number': 5, 'created': '2014-04-21 08:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f71fdff439417087dc7214fe92b8b0b192263d7', 'message': ""Delete image when backup operation failed on snapshot step\n\nwhen we snapshot an instance, we will use @delete_image_on_error to\ndelete any failed snapshot, however, the image will not be removed\nby backup code flow, it will be an issue if too many backup failed\nat last ,all useful image will be removed and we have only 'error'\nimage left in host\n\nChange-Id: Ib527ade86aef52a8445b57fa03fed434578c4204\nCloses-Bug: #1288574\n""}, {'number': 6, 'created': '2014-04-23 08:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/088816517fcaea7ba2b659be2376884e74c2ac5e', 'message': ""Delete image when backup operation failed on snapshot step\n\nwhen we snapshot an instance, we will use @delete_image_on_error to\ndelete any failed snapshot, however, the image will not be removed\nby backup code flow, it will be an issue if too many backup failed\nat last ,all useful image will be removed and we have only 'error'\nimage left in host\n\nChange-Id: Ib527ade86aef52a8445b57fa03fed434578c4204\nCloses-Bug: #1288574\n""}, {'number': 7, 'created': '2014-04-24 09:24:21.000000000', 'files': ['nova/compute/manager.py', 'nova/tests/compute/test_compute.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3824051b1e5618388a17c88867a3037397bc96b7', 'message': ""Delete image when backup operation failed on snapshot step\n\nwhen we snapshot an instance, we will use @delete_image_on_error to\ndelete any failed snapshot, however, the image will not be removed\nby backup code flow, it will be an issue if too many backup failed\nat last ,all useful image will be removed and we have only 'error'\nimage left in host\n\nChange-Id: Ib527ade86aef52a8445b57fa03fed434578c4204\nCloses-Bug: #1288574\n""}]",8,78534,3824051b1e5618388a17c88867a3037397bc96b7,126,14,7,6062,,,0,"Delete image when backup operation failed on snapshot step

when we snapshot an instance, we will use @delete_image_on_error to
delete any failed snapshot, however, the image will not be removed
by backup code flow, it will be an issue if too many backup failed
at last ,all useful image will be removed and we have only 'error'
image left in host

Change-Id: Ib527ade86aef52a8445b57fa03fed434578c4204
Closes-Bug: #1288574
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/78534/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/compute/test_compute.py']",2,6310ee7533cb5c446b66a0fff2e3e75336578984,bug/1288574," def _test_snapshot_fails(self, raise_during_cleanup, method): if method == 'snapshot': self.assertRaises(test.TestingException, self.compute.snapshot_instance, self.context, image_id='fakesnap', instance=inst_obj) else: self.assertRaises(test.TestingException, self.compute.backup_instance, self.context, image_id='fakesnap', instance=inst_obj, backup_type='fake', rotation=1) def test_backup_fails(self): self.stubs.Set(self.compute, '_rotate_backups', lambda *a, **kw: None) self._test_snapshot_fails(False, 'backup') def test_backup_fails_cleanup_ignores_exception(self): self.stubs.Set(self.compute, '_rotate_backups', lambda *a, **kw: None) self._test_snapshot_fails(True, 'backup') def test_snapshot_fails(self): self._test_snapshot_fails(False, 'snapshot') self._test_snapshot_fails(True, 'snapshot')"," def _test_snapshot_fails(self, raise_during_cleanup): self.assertRaises(test.TestingException, self.compute.snapshot_instance, self.context, image_id='fakesnap', instance=inst_obj) def test_snapshot_fails(self): self._test_snapshot_fails(False) self._test_snapshot_fails(True)",34,11
openstack%2Fdevstack-gate~master~I81e5fc52580383d6606d185ba7ac9fa10be52ff6,openstack/devstack-gate,master,I81e5fc52580383d6606d185ba7ac9fa10be52ff6,Save sql logs,MERGED,2014-05-20 07:09:50.000000000,2014-06-16 13:37:11.000000000,2014-06-16 12:41:28.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 6786}, {'_account_id': 8871}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-05-20 07:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/15158985ce16f04f03c87c8afd4a408e9b55b0ee', 'message': ""Save sql logs\n\nPreserve sql logs in gate. A postgres bug was just found in the gate,\nbut the issue had to be reproduced locally since postgres logs aren't\nsaved. This fixes that.\n\nChange-Id: I81e5fc52580383d6606d185ba7ac9fa10be52ff6\nRelated-Bug: #1321093\n""}, {'number': 2, 'created': '2014-05-21 03:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/39c65328dc58f9a16e807d26110ca09297d6fc5c', 'message': ""Save sql logs\n\nPreserve sql logs in gate. A postgres bug was just found in the gate,\nbut the issue had to be reproduced locally since postgres logs aren't\nsaved. This fixes that.\n\nChange-Id: I81e5fc52580383d6606d185ba7ac9fa10be52ff6\nRelated-Bug: #1321093\n""}, {'number': 3, 'created': '2014-05-21 05:58:30.000000000', 'files': ['functions.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/28cededc752762b4dcf4fa6cfd37627f44773a9a', 'message': ""Save sql logs\n\nPreserve sql logs in gate. A postgres bug was just found in the gate,\nbut the issue had to be reproduced locally since postgres logs aren't\nsaved. This fixes that.\n\nChange-Id: I81e5fc52580383d6606d185ba7ac9fa10be52ff6\nRelated-Bug: #1321093\n""}]",2,94314,28cededc752762b4dcf4fa6cfd37627f44773a9a,46,7,3,1849,,,0,"Save sql logs

Preserve sql logs in gate. A postgres bug was just found in the gate,
but the issue had to be reproduced locally since postgres logs aren't
saved. This fixes that.

Change-Id: I81e5fc52580383d6606d185ba7ac9fa10be52ff6
Related-Bug: #1321093
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/14/94314/3 && git format-patch -1 --stdout FETCH_HEAD,['functions.sh'],1,15158985ce16f04f03c87c8afd4a408e9b55b0ee,db, if [ -d /var/log/postgres ] ; then sudo cp /var/log/postgres/*log $BASE/logs/ fi if [ -d /var/log/mysql ] ; then sudo cp /var/log/mysql/* $BASE/logs/ fi ,,10,0
openstack%2Fironic~master~Id41f5f19796a7af8cf4cb52dd7afc2e6ec1ccbc4,openstack/ironic,master,Id41f5f19796a7af8cf4cb52dd7afc2e6ec1ccbc4,Test for membership should be 'not in',MERGED,2014-06-03 06:23:56.000000000,2014-06-16 13:36:40.000000000,2014-06-16 13:36:40.000000000,"[{'_account_id': 3}, {'_account_id': 6348}, {'_account_id': 6773}, {'_account_id': 8125}, {'_account_id': 10239}]","[{'number': 1, 'created': '2014-06-03 06:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b7fe49b24750ab9c891f7dba9aac4d97f63cb181', 'message': ""Test for membership should be 'not in'\n\nEnabled check for PEP8 issue E713.\n\nChange-Id: Id41f5f19796a7af8cf4cb52dd7afc2e6ec1ccbc4\n""}, {'number': 2, 'created': '2014-06-04 15:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9a349928dd4b4eb9cfe7041611369459b7dd684c', 'message': ""Test for membership should be 'not in'\n\nEnabled check for PEP8 issue E713.\n\nChange-Id: Id41f5f19796a7af8cf4cb52dd7afc2e6ec1ccbc4\n""}, {'number': 3, 'created': '2014-06-16 11:19:40.000000000', 'files': ['ironic/common/exception.py', 'ironic/common/utils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/164f9636764ee8f9a7582ef5d97cd0b3c98a2fbf', 'message': ""Test for membership should be 'not in'\n\nEnabled check for PEP8 issue E713.\n\nChange-Id: Id41f5f19796a7af8cf4cb52dd7afc2e6ec1ccbc4\n""}]",0,97412,164f9636764ee8f9a7582ef5d97cd0b3c98a2fbf,21,5,3,167,,,0,"Test for membership should be 'not in'

Enabled check for PEP8 issue E713.

Change-Id: Id41f5f19796a7af8cf4cb52dd7afc2e6ec1ccbc4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/12/97412/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/exception.py', 'ironic/common/utils.py', 'tox.ini']",3,b7fe49b24750ab9c891f7dba9aac4d97f63cb181,e713,select = E713,,4,3
openstack%2Ftempest~master~Ic025ec401135b1de64871ef1df368cd13f85f7a3,openstack/tempest,master,Ic025ec401135b1de64871ef1df368cd13f85f7a3,"Add cinder CLI tests ""qos-list"" and ""encryption-type-list""",MERGED,2014-05-28 06:38:17.000000000,2014-06-16 13:29:42.000000000,2014-06-16 12:13:42.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5174}, {'_account_id': 5292}, {'_account_id': 6167}, {'_account_id': 6796}, {'_account_id': 7139}, {'_account_id': 7350}, {'_account_id': 7428}, {'_account_id': 8072}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11667}]","[{'number': 1, 'created': '2014-05-28 06:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c50c492c72e8961d34d044e4329db1e7bba732d0', 'message': ""Added cinder cli tests\n\nBelow two tests added for cinder cli:\nqos-list\nencryption-type-list\n\nAnd variable name 'roles' changed to more specific name\n\nChange-Id: Ic025ec401135b1de64871ef1df368cd13f85f7a3\n""}, {'number': 2, 'created': '2014-06-03 04:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3f3db6beb973c853007dfc5ac3b90d6de20f92f3', 'message': 'Added cinder cli tests\n\nBelow two tests added for cinder cli:\nqos-list\nencryption-type-list\n\nChange-Id: Ic025ec401135b1de64871ef1df368cd13f85f7a3\n'}, {'number': 3, 'created': '2014-06-04 04:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/22d931e3fd6c2172228179cc776abbab889203a7', 'message': 'Add CLI tests of ""cinder qos-list and cinder encryption-type-list""\n\nBelow two tests are added for cinder cli:\nqos-list\nencryption-type-list\n\nChange-Id: Ic025ec401135b1de64871ef1df368cd13f85f7a3\n'}, {'number': 4, 'created': '2014-06-04 04:05:06.000000000', 'files': ['tempest/cli/simple_read_only/test_cinder.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4ec0de24c091fd7acffb53faedcfc723c68596c5', 'message': 'Add cinder CLI tests ""qos-list"" and ""encryption-type-list""\n\nBelow two tests are added for cinder cli:\nqos-list\nencryption-type-list\n\nChange-Id: Ic025ec401135b1de64871ef1df368cd13f85f7a3\n'}]",0,96072,4ec0de24c091fd7acffb53faedcfc723c68596c5,64,16,4,11667,,,0,"Add cinder CLI tests ""qos-list"" and ""encryption-type-list""

Below two tests are added for cinder cli:
qos-list
encryption-type-list

Change-Id: Ic025ec401135b1de64871ef1df368cd13f85f7a3
",git fetch https://review.opendev.org/openstack/tempest refs/changes/72/96072/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/cli/simple_read_only/test_cinder.py'],1,c50c492c72e8961d34d044e4329db1e7bba732d0,cinder cli test," limits = self.parser.listing(self.cinder('absolute-limits')) self.assertTableStruct(limits, ['Name', 'Value']) quotas = self.parser.listing(self.cinder('quota-class-show', params='abc')) self.assertTableStruct(quotas, ['Property', 'Value']) quotas = self.parser.listing(self.cinder('quota-defaults', params=CONF.identity. admin_tenant_name)) self.assertTableStruct(quotas, ['Property', 'Value']) quotas = self.parser.listing(self.cinder('quota-show', params=CONF.identity. admin_tenant_name)) self.assertTableStruct(quotas, ['Property', 'Value']) extensions = self.parser.listing(self.cinder('list-extensions')) cols = ['Name', 'Summary', 'Alias', 'Updated'] self.assertTableStruct(extensions, cols) def test_cinder_qos_list(self): self.cinder('qos-list') def test_cinder_encryption_type_list(self): self.cinder('encryption-type-list') "," roles = self.parser.listing(self.cinder('absolute-limits')) self.assertTableStruct(roles, ['Name', 'Value']) roles = self.parser.listing(self.cinder('quota-class-show', params='abc')) self.assertTableStruct(roles, ['Property', 'Value']) roles = self.parser.listing(self.cinder('quota-defaults', params=CONF.identity. admin_tenant_name)) self.assertTableStruct(roles, ['Property', 'Value']) roles = self.parser.listing(self.cinder('quota-show', params=CONF.identity. admin_tenant_name)) self.assertTableStruct(roles, ['Property', 'Value']) roles = self.parser.listing(self.cinder('list-extensions')) self.assertTableStruct(roles, ['Name', 'Summary', 'Alias', 'Updated'])",22,15
openstack%2Fpython-swiftclient~master~I1e0bb0cb7f80e3f22c54efc2691209f726c5d114,openstack/python-swiftclient,master,I1e0bb0cb7f80e3f22c54efc2691209f726c5d114,Fix py33 gate issue with setuptools,ABANDONED,2014-06-12 10:47:03.000000000,2014-06-16 13:29:24.000000000,,"[{'_account_id': 3}, {'_account_id': 866}, {'_account_id': 7680}, {'_account_id': 7847}]","[{'number': 1, 'created': '2014-06-12 10:47:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/14c0df1ab5a38328637b6a9c745e74168d4be2c0', 'message': 'Fix py33 gate issue with setuptools\n\nAs noted in bug 1326972, swiftclient is failing\nto install under py33 due to a bug in setuptools 4.0.1,\nand as a result py33 jobs are failing.\n\nAdds requirement for setuptools<=3.8 for py33 testenv.\n\nChange-Id: I1e0bb0cb7f80e3f22c54efc2691209f726c5d114\nReleated-bug: #1326972\n'}]",0,99624,14c0df1ab5a38328637b6a9c745e74168d4be2c0,9,4,1,7847,,,0,"Fix py33 gate issue with setuptools

As noted in bug 1326972, swiftclient is failing
to install under py33 due to a bug in setuptools 4.0.1,
and as a result py33 jobs are failing.

Adds requirement for setuptools<=3.8 for py33 testenv.

Change-Id: I1e0bb0cb7f80e3f22c54efc2691209f726c5d114
Releated-bug: #1326972
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/24/99624/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,14c0df1ab5a38328637b6a9c745e74168d4be2c0,bug/1326972,[testenv:py33] deps = setuptools<=3.8 -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt ,,5,0
openstack%2Ftraining-guides~master~I5dbed4bc6a4e30b50693208812d3dbfebecb2f19,openstack/training-guides,master,I5dbed4bc6a4e30b50693208812d3dbfebecb2f19,Add Windows batch templates used by wbatch/osbash,MERGED,2014-06-16 12:06:29.000000000,2014-06-16 13:23:42.000000000,2014-06-16 13:23:42.000000000,"[{'_account_id': 3}, {'_account_id': 6923}, {'_account_id': 7007}]","[{'number': 1, 'created': '2014-06-16 12:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/training-guides/commit/473aabf31369b7dd98e7588c19c88bf9af03288a', 'message': 'Add Windows batch templates used by wbatch/osbash\n\nThe files added in this changeset are used by osbash as templates when\nthe user requests the creation of Windows batch files.\n\nTheir names end on _bat rather than *.bat because some mail providers\nrefuse to deliver .bat files even within archives.\n\nChange-Id: I5dbed4bc6a4e30b50693208812d3dbfebecb2f19\nPartial-Bug: 1312764\nImplements: blueprint openstack-training-labs\n'}, {'number': 2, 'created': '2014-06-16 12:22:58.000000000', 'files': ['labs/lib/wbatch/template-create_hostnet_bat', 'labs/lib/wbatch/template-begin_node_bat', 'labs/lib/wbatch/template-begin_base_bat', 'labs/lib/wbatch/template-find_vbm_bat', 'labs/lib/wbatch/template-end_file_bat', 'labs/lib/wbatch/template-mkdirs_bat', 'labs/lib/wbatch/template-file_header_bat'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/271448cee6e7d0620431253f6e0c160bdf0a686b', 'message': 'Add Windows batch templates used by wbatch/osbash\n\nThe files added in this changeset are used by osbash as templates when\nthe user requests the creation of Windows batch files.\n\nThe names of the templates end on _bat rather than .bat because some\nmail providers refuse to deliver .bat files even within archives.\n\nThe generated Windows batch files will have the proper extension (.bat).\n\nChange-Id: I5dbed4bc6a4e30b50693208812d3dbfebecb2f19\nPartial-Bug: 1312764\nImplements: blueprint openstack-training-labs\n'}]",0,100230,271448cee6e7d0620431253f6e0c160bdf0a686b,10,3,2,11109,,,0,"Add Windows batch templates used by wbatch/osbash

The files added in this changeset are used by osbash as templates when
the user requests the creation of Windows batch files.

The names of the templates end on _bat rather than .bat because some
mail providers refuse to deliver .bat files even within archives.

The generated Windows batch files will have the proper extension (.bat).

Change-Id: I5dbed4bc6a4e30b50693208812d3dbfebecb2f19
Partial-Bug: 1312764
Implements: blueprint openstack-training-labs
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/30/100230/2 && git format-patch -1 --stdout FETCH_HEAD,"['labs/lib/wbatch/template-create_hostnet_bat', 'labs/lib/wbatch/template-begin_node_bat', 'labs/lib/wbatch/template-begin_base_bat', 'labs/lib/wbatch/template-find_vbm_bat', 'labs/lib/wbatch/template-end_file_bat', 'labs/lib/wbatch/template-mkdirs_bat', 'labs/lib/wbatch/template-file_header_bat']",7,473aabf31369b7dd98e7588c19c88bf9af03288a,bug/1312764,"@ECHO OFF REM This is an automatically generated Windows batch file. It creates the REM %PRODUCT% for an OpenStack training-labs setup. SETLOCAL ENABLEDELAYEDEXPANSION ECHO. ECHO OpenStack labs for VirtualBox on Windows ECHO Generated by osbash (%USER%@%HOSTNAME%, %DATE%) ECHO. ECHO Create %PRODUCT% ECHO. REM vim: set ai ts=4 sw=4 et ft=dosbatch: ",,190,0
openstack%2Ffuel-ostf~master~Ic8175d22ef2285f87cd2afcaced53838cc7371b1,openstack/fuel-ostf,master,Ic8175d22ef2285f87cd2afcaced53838cc7371b1,Fixed issues with whitespaces,MERGED,2014-06-11 07:54:10.000000000,2014-06-16 13:21:17.000000000,2014-06-16 13:21:17.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8592}, {'_account_id': 8782}, {'_account_id': 8786}, {'_account_id': 8824}, {'_account_id': 8839}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-06-11 07:54:10.000000000', 'files': ['fuel_health/tests/platform_tests/test_platform_murano_linux.py'], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/30c93a66229817fd92e3ebc1580c00209f541028', 'message': 'Fixed issues with whitespaces\n\nChange-Id: Ic8175d22ef2285f87cd2afcaced53838cc7371b1\nCloses-Bug: #1328533\n'}]",0,99290,30c93a66229817fd92e3ebc1580c00209f541028,14,8,1,7227,,,0,"Fixed issues with whitespaces

Change-Id: Ic8175d22ef2285f87cd2afcaced53838cc7371b1
Closes-Bug: #1328533
",git fetch https://review.opendev.org/openstack/fuel-ostf refs/changes/90/99290/1 && git format-patch -1 --stdout FETCH_HEAD,['fuel_health/tests/platform_tests/test_platform_murano_linux.py'],1,30c93a66229817fd92e3ebc1580c00209f541028,," self.fail(""This test requires more resources "" ""on one of the compute nodes "" ""(>2048MB of free RAM), but you have "" ""only {0} MB of free RAM "" ""on most appropriate "" ""compute node. "".format(self.max_available_ram))"," self.fail(""This test requires more resources"" ""on one of the compute nodes"" ""(>2048MB of free RAM), but you have"" ""only {0} MB of free RAM"" ""on most appropriate"" ""compute node"".format(self.max_available_ram))",6,6
openstack%2Fgnocchi~master~Icd49b51969a44d5d8c7cb01e546a348f10a5c2ad,openstack/gnocchi,master,Icd49b51969a44d5d8c7cb01e546a348f10a5c2ad,rest: allow to PATCH instance attributes,MERGED,2014-06-10 15:02:00.000000000,2014-06-16 13:13:42.000000000,2014-06-16 13:13:42.000000000,"[{'_account_id': 3}, {'_account_id': 1669}]","[{'number': 1, 'created': '2014-06-10 15:02:00.000000000', 'files': ['gnocchi/rest/__init__.py', 'gnocchi/tests/test_rest.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/cf2e75aab71ac0ad36f4de341b4829b5b3e4af85', 'message': 'rest: allow to PATCH instance attributes\n\nThis adds a generic mechanism to patch any authorized resource type\nattribute.\n\nChange-Id: Icd49b51969a44d5d8c7cb01e546a348f10a5c2ad\n'}]",0,99115,cf2e75aab71ac0ad36f4de341b4829b5b3e4af85,9,2,1,1669,,,0,"rest: allow to PATCH instance attributes

This adds a generic mechanism to patch any authorized resource type
attribute.

Change-Id: Icd49b51969a44d5d8c7cb01e546a348f10a5c2ad
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/15/99115/1 && git format-patch -1 --stdout FETCH_HEAD,"['gnocchi/rest/__init__.py', 'gnocchi/tests/test_rest.py']",2,cf2e75aab71ac0ad36f4de341b4829b5b3e4af85,," ""host"": ""fooz"", ""image_ref"": ""imageref!z"", ""flavor_id"": 1234, ""display_name"": ""myinstancez"",",,28,12
openstack%2Fgnocchi~master~I886a7e18bb14e6a026cf5280e28b5d670ef3d152,openstack/gnocchi,master,I886a7e18bb14e6a026cf5280e28b5d670ef3d152,tests: factorize patchable attribute testing,MERGED,2014-06-10 15:02:00.000000000,2014-06-16 13:11:12.000000000,2014-06-16 13:11:12.000000000,"[{'_account_id': 3}, {'_account_id': 1669}]","[{'number': 1, 'created': '2014-06-10 15:02:00.000000000', 'files': ['gnocchi/tests/test_rest.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/78b5254b2680be55483872a84812d27e4792e847', 'message': 'tests: factorize patchable attribute testing\n\nThis is a factorization in order to introduce different patchable\nattributes for each resource type.\n\nChange-Id: I886a7e18bb14e6a026cf5280e28b5d670ef3d152\n'}]",0,99114,78b5254b2680be55483872a84812d27e4792e847,9,2,1,1669,,,0,"tests: factorize patchable attribute testing

This is a factorization in order to introduce different patchable
attributes for each resource type.

Change-Id: I886a7e18bb14e6a026cf5280e28b5d670ef3d152
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/14/99114/1 && git format-patch -1 --stdout FETCH_HEAD,['gnocchi/tests/test_rest.py'],1,78b5254b2680be55483872a84812d27e4792e847,,"import six patchable_attributes={ ""ended_at"": ""2014-01-03 02:02:02"", }, patchable_attributes={ ""ended_at"": ""2014-01-03 02:02:02"", }, def test_patch_resource_attributes(self): params=self.patchable_attributes) for k, v in six.iteritems(self.patchable_attributes): self.assertEqual(v, result[k])"," def test_patch_resource_ended_at(self): params={'ended_at': ""2043-05-05 23:23:23""}) self.assertEqual(""2043-05-05 23:23:23"", result['ended_at'])",11,3
openstack%2Fcinder~master~I719067a8e1824add45fb525c106642a9c0e6bb46,openstack/cinder,master,I719067a8e1824add45fb525c106642a9c0e6bb46,Made provision for providing optional arguments,MERGED,2014-06-11 13:54:24.000000000,2014-06-16 12:48:39.000000000,2014-06-16 12:48:38.000000000,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 1297}, {'_account_id': 4355}, {'_account_id': 9303}, {'_account_id': 9751}]","[{'number': 1, 'created': '2014-06-11 13:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0afb1a82ea4019b98d48ccc9ccf97006666633d8', 'message': ""Made provision for providing optional arguments\n\nThe 'quota_committed' attribute of 'RequestContext' object is\na transient property, so it will not be saved in the taskflow\npersistent storage. The updated value of 'quota_committed'\nattribute will not be available while resuming/reverting the\nflow, if cinder api-service is down/stopped after committing\nthe quota.\n\nSince this 'quota_committed' attribute is not used anywhere\nin cinder project other than in create-volume taskflow api, so\nremoved 'quota_committed' from RequestContext and made\nprovision to pass it as an optional argument which will be\npassed to api-flow via create_what dictionary, in order to\nmake it persistent and use it as and when needed.\n\nChange-Id: I719067a8e1824add45fb525c106642a9c0e6bb46\n""}, {'number': 2, 'created': '2014-06-16 06:45:54.000000000', 'files': ['cinder/context.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/971a63bd9cf675a00bce1244ec101577b5c17cac', 'message': ""Made provision for providing optional arguments\n\nThe 'quota_committed' attribute of 'RequestContext' object is\na transient property, so it will not be saved in the taskflow\npersistent storage. The updated value of 'quota_committed'\nattribute will not be available while resuming/reverting the\nflow, if cinder api-service is down/stopped after committing\nthe quota.\n\nSince this 'quota_committed' attribute is not used anywhere\nin cinder project other than in create-volume taskflow api, so\nremoved 'quota_committed' from RequestContext and made\nprovision to pass it as an optional argument which will be\npassed to api-flow via create_what dictionary, in order to\nmake it persistent and use it as and when needed.\n\nChange-Id: I719067a8e1824add45fb525c106642a9c0e6bb46\n""}]",1,99376,971a63bd9cf675a00bce1244ec101577b5c17cac,19,6,2,9303,,,0,"Made provision for providing optional arguments

The 'quota_committed' attribute of 'RequestContext' object is
a transient property, so it will not be saved in the taskflow
persistent storage. The updated value of 'quota_committed'
attribute will not be available while resuming/reverting the
flow, if cinder api-service is down/stopped after committing
the quota.

Since this 'quota_committed' attribute is not used anywhere
in cinder project other than in create-volume taskflow api, so
removed 'quota_committed' from RequestContext and made
provision to pass it as an optional argument which will be
passed to api-flow via create_what dictionary, in order to
make it persistent and use it as and when needed.

Change-Id: I719067a8e1824add45fb525c106642a9c0e6bb46
",git fetch https://review.opendev.org/openstack/cinder refs/changes/76/99376/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/context.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/volume/api.py']",3,0afb1a82ea4019b98d48ccc9ccf97006666633d8,cinder/opt_args, 'optional_args': {'is_quota_committed': False},,13,9
openstack%2Ffuel-web~master~I2d8a1e3e9ea85a5c99684eacb4eb3131cfb9fb81,openstack/fuel-web,master,I2d8a1e3e9ea85a5c99684eacb4eb3131cfb9fb81,Use server_default=[] for can_update_from_versions,MERGED,2014-06-12 13:55:24.000000000,2014-06-16 12:43:13.000000000,2014-06-16 12:43:12.000000000,"[{'_account_id': 3}, {'_account_id': 8053}, {'_account_id': 8392}, {'_account_id': 8749}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}]","[{'number': 1, 'created': '2014-06-12 13:55:24.000000000', 'files': ['nailgun/nailgun/db/migration/alembic_migrations/versions/fuel_5_0_1.py', 'nailgun/nailgun/db/sqlalchemy/models/release.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/8106cba16120157668bb1d1cb8624a92707a64e2', 'message': ""Use server_default=[] for can_update_from_versions\n\nColumn can_update_from_versions of release table\nshould use server_default='[]'\n\nChange-Id: I2d8a1e3e9ea85a5c99684eacb4eb3131cfb9fb81\nCloses-Bug: #1328874\n""}]",0,99668,8106cba16120157668bb1d1cb8624a92707a64e2,17,7,1,8907,,,0,"Use server_default=[] for can_update_from_versions

Column can_update_from_versions of release table
should use server_default='[]'

Change-Id: I2d8a1e3e9ea85a5c99684eacb4eb3131cfb9fb81
Closes-Bug: #1328874
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/68/99668/1 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/db/migration/alembic_migrations/versions/fuel_5_0_1.py', 'nailgun/nailgun/db/sqlalchemy/models/release.py']",2,8106cba16120157668bb1d1cb8624a92707a64e2,," can_update_from_versions = Column(JSON, default=[], nullable=False, server_default='[]')"," can_update_from_versions = Column(JSON, default=[], nullable=False)",4,2
openstack%2Fswift~master~Ie899d146bc6fff81a5fae77815897244e8ec6bec,openstack/swift,master,Ie899d146bc6fff81a5fae77815897244e8ec6bec,Remove unused variable,MERGED,2014-06-02 16:29:31.000000000,2014-06-16 12:42:12.000000000,2014-06-16 12:42:11.000000000,"[{'_account_id': 3}, {'_account_id': 330}, {'_account_id': 6198}, {'_account_id': 6968}, {'_account_id': 7233}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-06-02 16:29:31.000000000', 'files': ['test/functional/tests.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/b5d7c1eaacf74a00af518059653abb9455d446dc', 'message': ""Remove unused variable\n\nThe tempurl functional tests would fail if you put tempurl.methods in\nthe proxy server's disallowed_sections. The test assumed that the\npresence of the key 'tempurl' implied the presence of the subkey\n'methods', but since 9cbf8a3 landed, operators can remove arbitrary\nthings from /info.\n\nNormally I'd just change x['methods'] to x.get('methods', []), but it\nturns out this was setting up a class variable that nobody ever looked\nout again, so removing the code also works.\n\nChange-Id: Ie899d146bc6fff81a5fae77815897244e8ec6bec\n""}]",0,97287,b5d7c1eaacf74a00af518059653abb9455d446dc,18,6,1,2622,,,0,"Remove unused variable

The tempurl functional tests would fail if you put tempurl.methods in
the proxy server's disallowed_sections. The test assumed that the
presence of the key 'tempurl' implied the presence of the subkey
'methods', but since 9cbf8a3 landed, operators can remove arbitrary
things from /info.

Normally I'd just change x['methods'] to x.get('methods', []), but it
turns out this was setting up a class variable that nobody ever looked
out again, so removing the code also works.

Change-Id: Ie899d146bc6fff81a5fae77815897244e8ec6bec
",git fetch https://review.opendev.org/openstack/swift refs/changes/87/97287/1 && git format-patch -1 --stdout FETCH_HEAD,['test/functional/tests.py'],1,b5d7c1eaacf74a00af518059653abb9455d446dc,deadcode,, cls.tempurl_methods = cluster_info['tempurl']['methods'],0,1
openstack%2Fnova~stable%2Fhavana~I3c2e005b98abf2a80276562cc05e88ba5ff199bc,openstack/nova,stable/havana,I3c2e005b98abf2a80276562cc05e88ba5ff199bc,Remove unnecessary call to fetch info_cache,MERGED,2014-05-27 02:39:45.000000000,2014-06-16 12:42:01.000000000,2014-06-16 12:41:59.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1678}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 9578}, {'_account_id': 10118}]","[{'number': 1, 'created': '2014-05-27 02:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7f87c8c4458942918c06a44b9dd49e30aa93731', 'message': ""Remove unnecessary call to fetch info_cache\n\nThe _heal_instance_info cache() always accesses instance['info_cache']\ntherefore we should always load the info_cache so we can avoid the extra\nquery to fetch it.\n\nCloses-bug: #1309239\n\nConflicts:\n\tnova/compute/manager.py\n\nChange-Id: I3c2e005b98abf2a80276562cc05e88ba5ff199bc\n""}, {'number': 2, 'created': '2014-05-27 05:58:58.000000000', 'files': ['nova/compute/manager.py', 'nova/tests/compute/test_compute.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b0b523b4afff8f5a59aca23ccd3904eb4e29bf42', 'message': ""Remove unnecessary call to fetch info_cache\n\nThe _heal_instance_info cache() always accesses instance['info_cache']\ntherefore we should always load the info_cache so we can avoid the extra\nquery to fetch it.\n\nCloses-bug: #1309239\n\nConflicts:\n\tnova/compute/manager.py\n\n(cherry picked from commit 5aa29b6b0a34d603e882a80cdc8e936f983b1892)\n\nChange-Id: I3c2e005b98abf2a80276562cc05e88ba5ff199bc\n""}]",0,95631,b0b523b4afff8f5a59aca23ccd3904eb4e29bf42,29,7,2,1678,,,0,"Remove unnecessary call to fetch info_cache

The _heal_instance_info cache() always accesses instance['info_cache']
therefore we should always load the info_cache so we can avoid the extra
query to fetch it.

Closes-bug: #1309239

Conflicts:
	nova/compute/manager.py

(cherry picked from commit 5aa29b6b0a34d603e882a80cdc8e936f983b1892)

Change-Id: I3c2e005b98abf2a80276562cc05e88ba5ff199bc
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/95631/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/compute/test_compute.py']",2,e7f87c8c4458942918c06a44b9dd49e30aa93731,bug/1309239," self.assertEqual(['system_metadata', 'info_cache'], columns_to_join)"," self.assertEqual(['system_metadata'], columns_to_join)",3,2
openstack%2Fheat~master~Ifdcf3d98b99a09aac8755c84ef3f59d8602fc6a8,openstack/heat,master,Ifdcf3d98b99a09aac8755c84ef3f59d8602fc6a8,Restore resource metadata attribute,MERGED,2014-05-29 22:21:00.000000000,2014-06-16 12:41:51.000000000,2014-06-16 12:41:51.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 4571}, {'_account_id': 6577}, {'_account_id': 7193}, {'_account_id': 7236}, {'_account_id': 7404}]","[{'number': 1, 'created': '2014-05-29 22:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a09a3f8a24af95df801d178fd0a251ae47756755', 'message': 'Restore resource metadata attribute\n\nFor backwards compatibility the Resource.metadata attribute\nhas been restored, however reading or assigning this attribute\nwill result in a deprecation warning.\n\nReading metadata will force a refresh from the database, which\nmaintains the previous behaviour rather than optimising for\nperformance.\n\nChange-Id: Ifdcf3d98b99a09aac8755c84ef3f59d8602fc6a8\nCloses-Bug: #1324704\n'}, {'number': 2, 'created': '2014-06-13 00:50:06.000000000', 'files': ['heat/engine/resource.py', 'heat/tests/test_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/19a8dbfa5ffb6467fd6abeb76afb4c6f7997044e', 'message': 'Restore resource metadata attribute\n\nFor backwards compatibility the Resource.metadata attribute\nhas been restored, however reading or assigning this attribute\nwill result in a deprecation warning.\n\nReading metadata will force a refresh from the database, which\nmaintains the previous behaviour rather than optimising for\nperformance.\n\nChange-Id: Ifdcf3d98b99a09aac8755c84ef3f59d8602fc6a8\nCloses-Bug: #1324704'}]",2,96618,19a8dbfa5ffb6467fd6abeb76afb4c6f7997044e,24,7,2,4571,,,0,"Restore resource metadata attribute

For backwards compatibility the Resource.metadata attribute
has been restored, however reading or assigning this attribute
will result in a deprecation warning.

Reading metadata will force a refresh from the database, which
maintains the previous behaviour rather than optimising for
performance.

Change-Id: Ifdcf3d98b99a09aac8755c84ef3f59d8602fc6a8
Closes-Bug: #1324704",git fetch https://review.opendev.org/openstack/heat refs/changes/18/96618/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resource.py', 'heat/tests/test_resource.py']",2,a09a3f8a24af95df801d178fd0a251ae47756755,bug/1324704," self.assertEqual({}, res.metadata) self.assertEqual({}, res.metadata) self.assertEqual({""os_distro"": ""test-distro""}, res.metadata) self.assertEqual({'Test': 'Initial metadata'}, self.res.metadata) def test_assign_attribute(self): test_data = {'Test': 'Newly-written data'} self.res.metadata = test_data self.assertEqual(test_data, self.res.metadata_get()) self.assertEqual(test_data, self.res.metadata) ",,22,0
openstack%2Fpython-ceilometerclient~master~I5d589b27cafabd22204585a76f107125b2f3c7bd,openstack/python-ceilometerclient,master,I5d589b27cafabd22204585a76f107125b2f3c7bd,Improve a bit query API,MERGED,2014-06-15 19:50:00.000000000,2014-06-16 12:41:11.000000000,2014-06-16 12:41:11.000000000,"[{'_account_id': 3}, {'_account_id': 2284}, {'_account_id': 6172}, {'_account_id': 7478}, {'_account_id': 9562}]","[{'number': 1, 'created': '2014-06-15 19:50:00.000000000', 'files': ['ceilometerclient/v2/query.py'], 'web_link': 'https://opendev.org/openstack/python-ceilometerclient/commit/1ba3cd7641953f875d5c9a651f0f06d2841ff258', 'message': ""Improve a bit query API\n\nMake QueryManager.query arguments optional.\n\nAt this point we are forced to speicify all filter, orderby, limit\narguments as well to save order. So for example if I would like to get\nonly 20 records I have to write something like:\n\nceilometer.query_sample.query(None, None, 20)\n\ninstead of\n\nceilometer.query_sample.query(limit=20)\n\nAs this doesn't break backward compatibility it shouldn't be a\nbig deal to merge it.\n\nChange-Id: I5d589b27cafabd22204585a76f107125b2f3c7bd\n""}]",0,100110,1ba3cd7641953f875d5c9a651f0f06d2841ff258,11,5,1,6172,,,0,"Improve a bit query API

Make QueryManager.query arguments optional.

At this point we are forced to speicify all filter, orderby, limit
arguments as well to save order. So for example if I would like to get
only 20 records I have to write something like:

ceilometer.query_sample.query(None, None, 20)

instead of

ceilometer.query_sample.query(limit=20)

As this doesn't break backward compatibility it shouldn't be a
big deal to merge it.

Change-Id: I5d589b27cafabd22204585a76f107125b2f3c7bd
",git fetch https://review.opendev.org/openstack/python-ceilometerclient refs/changes/10/100110/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometerclient/v2/query.py'],1,1ba3cd7641953f875d5c9a651f0f06d2841ff258,imporve_complex_query," def query(self, filter=None, orderby=None, limit=None):"," def query(self, filter, orderby, limit):",1,1
openstack%2Fsahara~master~I172b2306bc798240fe2d8c4e2624b13fa5adb668,openstack/sahara,master,I172b2306bc798240fe2d8c4e2624b13fa5adb668,Removed cluster retrieving in provisioning engine,MERGED,2014-06-11 22:35:50.000000000,2014-06-16 12:39:47.000000000,2014-06-16 09:46:04.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 7428}, {'_account_id': 8091}]","[{'number': 1, 'created': '2014-06-11 22:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/934eb77b0790fcd589162a73d42d04a4572c56e2', 'message': 'Minor improvements in provisioning engine\n\nChange-Id: I172b2306bc798240fe2d8c4e2624b13fa5adb668\n'}, {'number': 2, 'created': '2014-06-15 21:48:16.000000000', 'files': ['sahara/service/engine.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/a856f1a3c7288e529fbc6286400fc10088659808', 'message': 'Removed cluster retrieving in provisioning engine\n\nCluster is already passed as argument.\n\nChange-Id: I172b2306bc798240fe2d8c4e2624b13fa5adb668'}]",0,99497,a856f1a3c7288e529fbc6286400fc10088659808,23,6,2,8411,,,0,"Removed cluster retrieving in provisioning engine

Cluster is already passed as argument.

Change-Id: I172b2306bc798240fe2d8c4e2624b13fa5adb668",git fetch https://review.opendev.org/openstack/sahara refs/changes/97/99497/2 && git format-patch -1 --stdout FETCH_HEAD,['sahara/service/engine.py'],1,934eb77b0790fcd589162a73d42d04a4572c56e2,," if not g.check_cluster_exists(cluster): cluster = conductor.cluster_get(context.ctx(), cluster)"," if not g.check_cluster_exists(instances[0].node_group.cluster): ctx = context.ctx() cluster = conductor.cluster_get(ctx, instances[0].node_group.cluster)",2,3
openstack%2Ffuel-ostf~master~I6e70ef9d11aeed7c55c0a5dd96adf417c16116c7,openstack/fuel-ostf,master,I6e70ef9d11aeed7c55c0a5dd96adf417c16116c7,Proper skip action processing added,MERGED,2014-04-22 16:36:14.000000000,2014-06-16 12:37:39.000000000,2014-06-16 12:37:39.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8392}, {'_account_id': 8839}, {'_account_id': 8882}, {'_account_id': 8907}, {'_account_id': 8931}, {'_account_id': 8971}, {'_account_id': 10391}]","[{'number': 1, 'created': '2014-04-22 16:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/3aaaa38ffccc8cdc8e972abf97c29ddd4e645b57', 'message': 'Proper skip action processing added\n\nNow skipped tests are processing properly via NoseStoragPlugin.\n\nChange-Id: I6e70ef9d11aeed7c55c0a5dd96adf417c16116c7\nCloses-Bug: #1282106\n'}, {'number': 2, 'created': '2014-04-23 09:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/2749348a1bfce1053862703c95054f350e740435', 'message': 'Proper skip action processing added\n\nNow skipped tests are processing properly via NoseStoragPlugin.\n\nChange-Id: I6e70ef9d11aeed7c55c0a5dd96adf417c16116c7\nCloses-Bug: #1282106\n'}, {'number': 3, 'created': '2014-04-24 09:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/efc92655b69e156e45476e590f34805e9cc6fdb4', 'message': 'Proper skip action processing added\n\nNow skipped tests are processing properly via NoseStoragPlugin.\n\nChange-Id: I6e70ef9d11aeed7c55c0a5dd96adf417c16116c7\nCloses-Bug: #1282106\n'}, {'number': 4, 'created': '2014-05-29 10:50:58.000000000', 'files': ['fuel_plugin/testing/tests/functional/tests.py', 'fuel_plugin/ostf_adapter/nose_plugin/nose_storage_plugin.py', 'fuel_plugin/ostf_client/client.py'], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/138be75771946488c642ec3c49a823ef8294d4b6', 'message': 'Proper skip action processing added\n\nNow skipped tests are processing properly via NoseStoragPlugin.\n\nChange-Id: I6e70ef9d11aeed7c55c0a5dd96adf417c16116c7\nCloses-Bug: #1282106\n'}]",4,89636,138be75771946488c642ec3c49a823ef8294d4b6,44,9,4,8931,,,0,"Proper skip action processing added

Now skipped tests are processing properly via NoseStoragPlugin.

Change-Id: I6e70ef9d11aeed7c55c0a5dd96adf417c16116c7
Closes-Bug: #1282106
",git fetch https://review.opendev.org/openstack/fuel-ostf refs/changes/36/89636/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_plugin/testing/tests/functional/tests.py', 'fuel_plugin/ostf_adapter/nose_plugin/nose_storage_plugin.py', 'fuel_plugin/ostf_client/client.py', 'fuel_plugin/testing/test_utils/nailgun_mimic.py']",4,3aaaa38ffccc8cdc8e972abf97c29ddd4e645b57,bug/1282106_fix_test_skipping,"run(host='localhost', port=8000, debug=True)","run(host='localhost', port=8888, debug=True)",8,15
openstack%2Ffuel-main~master~Id87ee91bcfc77a3867bca72bf48f5ff972461ef4,openstack/fuel-main,master,Id87ee91bcfc77a3867bca72bf48f5ff972461ef4,Add wait for nodes get online state after revert,ABANDONED,2014-06-10 16:09:14.000000000,2014-06-16 12:35:13.000000000,,"[{'_account_id': 3}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 11081}]","[{'number': 1, 'created': '2014-06-10 16:09:14.000000000', 'files': ['fuelweb_test/tests/test_simple.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/d3ac969bd7c0392bb0f2828f87cdb574f0694a76', 'message': 'Add wait for nodes get online state after revert\n\nChange-Id: Id87ee91bcfc77a3867bca72bf48f5ff972461ef4\n(cherry picked from commit 858768c691305778f6a1c810d25a3dce70bced10)\n'}]",0,99142,d3ac969bd7c0392bb0f2828f87cdb574f0694a76,7,4,1,10136,,,0,"Add wait for nodes get online state after revert

Change-Id: Id87ee91bcfc77a3867bca72bf48f5ff972461ef4
(cherry picked from commit 858768c691305778f6a1c810d25a3dce70bced10)
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/42/99142/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_simple.py'],1,d3ac969bd7c0392bb0f2828f87cdb574f0694a76,cherry-pick, self.fuel_web.wait_nodes_get_online_state(self.env.nodes().slaves[:2]),,1,0
openstack%2Fnova~master~Ibde5f5b754f0fc4a3c5fc13f13850f0ac162ed0d,openstack/nova,master,Ibde5f5b754f0fc4a3c5fc13f13850f0ac162ed0d,"Revert ""Sync common db and db/sqlalchemy""",ABANDONED,2014-06-11 18:14:51.000000000,2014-06-16 12:30:42.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6849}, {'_account_id': 6873}, {'_account_id': 7491}, {'_account_id': 7536}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-11 18:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49a0fc697cabfe42c081ed757071f9d24fe6985c', 'message': 'Revert ""Sync common db and db/sqlalchemy""\n\nThis reverts commit 0f07f8546fda9732a7e3597a2de78156f1fb5a34.\n\nChange-Id: Ibde5f5b754f0fc4a3c5fc13f13850f0ac162ed0d\n'}, {'number': 2, 'created': '2014-06-11 18:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c95799ddf5ec2d6f3d22aa958c94e105d5424ed1', 'message': 'Revert ""Sync common db and db/sqlalchemy""\n\nThis reverts commit 0f07f8546fda9732a7e3597a2de78156f1fb5a34.\n\nRelated-Bug: #1328997\n\nChange-Id: Ibde5f5b754f0fc4a3c5fc13f13850f0ac162ed0d\n'}, {'number': 3, 'created': '2014-06-11 18:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf68debfdf08cd75d00706f2e6301d9877dd2917', 'message': 'Revert ""Sync common db and db/sqlalchemy""\n\nThis reverts commit 0f07f8546fda9732a7e3597a2de78156f1fb5a34.\n\nWe\'re currently hitting race bugs in Nova python unit tests\ndue to the fact that oslo.db doesn\'t handle the multiple db\nin parallel that nova\'s db tests used to handle here.\n\nAttempt to revert to fix it.\n\nRelated-Bug: #1328997\n\nChange-Id: Ibde5f5b754f0fc4a3c5fc13f13850f0ac162ed0d\n'}, {'number': 4, 'created': '2014-06-11 18:48:37.000000000', 'files': ['nova/openstack/common/db/sqlalchemy/migration.py', 'nova/openstack/common/db/sqlalchemy/test_migrations.py', 'nova/openstack/common/db/options.py', 'nova/openstack/common/db/sqlalchemy/test_base.py', 'nova/openstack/common/db/sqlalchemy/provision.py', 'nova/openstack/common/db/sqlalchemy/session.py', 'nova/openstack/common/db/sqlalchemy/models.py', 'nova/openstack/common/db/sqlalchemy/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8b64c494947f1a47423e715811fbcacffcc12c29', 'message': 'Revert ""Sync common db and db/sqlalchemy""\n\nThis reverts commit 0f07f8546fda9732a7e3597a2de78156f1fb5a34.\n\nWe\'re currently hitting race bugs in Nova python unit tests\ndue to the fact that oslo.db doesn\'t handle the multiple db\nin parallel that nova\'s db tests used to handle here.\n\nAttempt to revert to fix it.\n\nConflicts:\n       requirements.txt\n\nRelated-Bug: #1328997\n\nChange-Id: Ibde5f5b754f0fc4a3c5fc13f13850f0ac162ed0d\n'}]",2,99442,8b64c494947f1a47423e715811fbcacffcc12c29,31,10,4,2750,,,0,"Revert ""Sync common db and db/sqlalchemy""

This reverts commit 0f07f8546fda9732a7e3597a2de78156f1fb5a34.

We're currently hitting race bugs in Nova python unit tests
due to the fact that oslo.db doesn't handle the multiple db
in parallel that nova's db tests used to handle here.

Attempt to revert to fix it.

Conflicts:
       requirements.txt

Related-Bug: #1328997

Change-Id: Ibde5f5b754f0fc4a3c5fc13f13850f0ac162ed0d
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/99442/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/openstack/common/db/sqlalchemy/migration.py', 'requirements.txt', 'nova/openstack/common/db/sqlalchemy/test_migrations.py', 'nova/openstack/common/db/options.py', 'nova/openstack/common/db/sqlalchemy/test_base.py', 'nova/openstack/common/db/sqlalchemy/provision.py', 'nova/openstack/common/db/sqlalchemy/session.py', 'nova/openstack/common/db/sqlalchemy/models.py', 'nova/openstack/common/db/sqlalchemy/utils.py']",9,49a0fc697cabfe42c081ed757071f9d24fe6985c,bp/db-api-tests-on-all-backends,"from migrate.changeset import UniqueConstraintfrom sqlalchemy.sql import select ).filter_by(project_id=project_id) duplicated_rows_select = select(columns_for_select, group_by=columns_for_group_by, having=func.count(table.c.id) > 1) rows_to_delete_select = select([table.c.id]).where(delete_condition) ins = InsertFromSelect(new_table, select(c_select))"," ..code:: python ).filter_by(project_id=project_id) .. warning:: Do not use this method when creating ForeignKeys in database migrations because sqlalchemy needs the same MetaData object to hold information about the parent table and the reference table in the ForeignKey. This method uses a unique MetaData object per table object so it won't work with ForeignKey creation. DEPRECATED: this function is deprecated and will be removed from nova.db in a few releases. Please use UniqueConstraint.drop() method directly for sqlalchemy-migrate migration scripts. from migrate.changeset import UniqueConstraint duplicated_rows_select = sqlalchemy.sql.select( columns_for_select, group_by=columns_for_group_by, having=func.count(table.c.id) > 1) rows_to_delete_select = sqlalchemy.sql.select( [table.c.id]).where(delete_condition) ins = InsertFromSelect(new_table, sqlalchemy.sql.select(c_select))",137,202
openstack%2Ffuel-main~master~I9976bdec4cc5bba43d95d10602bd59c8fef1827e,openstack/fuel-main,master,I9976bdec4cc5bba43d95d10602bd59c8fef1827e,Added check on mongo partitioning,MERGED,2014-06-02 10:10:58.000000000,2014-06-16 12:30:38.000000000,2014-06-16 12:30:38.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 11081}]","[{'number': 1, 'created': '2014-06-02 10:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/a29db08441aca0c7357fc581ad9da49f5f59fdfd', 'message': 'Added check on mongo partitioning\n\nChange-Id: I9976bdec4cc5bba43d95d10602bd59c8fef1827e\nCloses-Bug: #1308230\n'}, {'number': 2, 'created': '2014-06-02 10:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/7f8ce4bdee0a3a5485d0e2e566799a4459e6a0d2', 'message': 'Added check on mongo partitioning\n\nChange-Id: I9976bdec4cc5bba43d95d10602bd59c8fef1827e\nCloses-Bug: #1308230\n'}, {'number': 3, 'created': '2014-06-05 14:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/a90e62290b59244d039af9b46e9ba43bb921b22a', 'message': 'Added check on mongo partitioning\n\nChange-Id: I9976bdec4cc5bba43d95d10602bd59c8fef1827e\nCloses-Bug: #1308230\n'}, {'number': 4, 'created': '2014-06-05 14:51:57.000000000', 'files': ['fuelweb_test/tests/test_services.py', 'fuelweb_test/models/fuel_web_client.py', 'fuelweb_test/helpers/checkers.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/92a406820701634b73bfb7692793936e2c7d5e20', 'message': 'Added check on mongo partitioning\n\nChange-Id: I9976bdec4cc5bba43d95d10602bd59c8fef1827e\nCloses-Bug: #1308230\n'}]",1,97183,92a406820701634b73bfb7692793936e2c7d5e20,29,5,4,10136,,,0,"Added check on mongo partitioning

Change-Id: I9976bdec4cc5bba43d95d10602bd59c8fef1827e
Closes-Bug: #1308230
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/83/97183/4 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/tests/test_services.py', 'fuelweb_test/helpers/checkers.py']",2,a29db08441aca0c7357fc581ad9da49f5f59fdfd,checkMongoPartitions,"import re@logwrap def get_mongo_partitions(remote, device): ret = remote.check_call(""lsblk | grep {device} | awk {size}"".format( device=device, size=re.escape('{print $4}')))['stdout'] if not ret: logger.error(""Partition not present! {partitions}: "".format( remote.check_call(""parted {device} print""))) raise Exception logger.debug(""Partitions: {part}"".format(part=ret)) return ret",,33,1
openstack%2Ffuel-ostf~master~I3c5e5729757f37c94bb3d5d5ef169b4f4868169a,openstack/fuel-ostf,master,I3c5e5729757f37c94bb3d5d5ef169b4f4868169a,Refactoring ssh commands for Sahara,MERGED,2014-05-28 13:53:20.000000000,2014-06-16 12:29:58.000000000,2014-06-16 12:29:58.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 7126}, {'_account_id': 7227}, {'_account_id': 7428}, {'_account_id': 8592}, {'_account_id': 8824}, {'_account_id': 8882}, {'_account_id': 8907}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-05-28 13:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/fe894f6116e18c1148a2a0a3b8cd245e46886b60', 'message': 'Refactoring ssh commands for Sahara\n\nRefactoring ssh commands for Sahara project\nin accordance with a common code\n\nChange-Id: I3c5e5729757f37c94bb3d5d5ef169b4f4868169a\n'}, {'number': 2, 'created': '2014-05-28 13:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/b06d55f52ef1a463fd5fd85365539a96912795e7', 'message': 'Refactoring ssh commands for Sahara\n\nRefactoring ssh commands for Sahara project\nin accordance with a common code\n\nChange-Id: I3c5e5729757f37c94bb3d5d5ef169b4f4868169a\n'}, {'number': 3, 'created': '2014-05-28 14:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/1f2c536a0c4f0455c84ce737596a0faa5638f416', 'message': 'Refactoring ssh commands for Sahara\n\nRefactoring ssh commands for Sahara project\nin accordance with a common code\n\ncloses-bug: #1324143\n\nChange-Id: I3c5e5729757f37c94bb3d5d5ef169b4f4868169a\n'}, {'number': 4, 'created': '2014-05-28 14:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/185fb6f41ad60b898b65c4f32b82ab449b44f86e', 'message': 'Refactor ssh commands for Sahara\n\nRefactor ssh commands for Sahara tests\nin accordance with a common code\n\nCloses-bug: #1324143\nChange-Id: I3c5e5729757f37c94bb3d5d5ef169b4f4868169a\n'}, {'number': 5, 'created': '2014-05-28 15:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/5f6adb379d2959594f4248ed00ca2068fff93118', 'message': 'Refactoring ssh commands for Sahara\n\nRefactoring ssh commands for Sahara project\nin accordance with a common code\n\nChange-Id: I3c5e5729757f37c94bb3d5d5ef169b4f4868169a\n'}, {'number': 6, 'created': '2014-05-30 15:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/585cd03e656b20cf76ada04f24970dc892785206', 'message': 'Refactoring ssh commands for Sahara\n\nRefactoring ssh commands for Sahara project\nin accordance with a common code\n\nChange-Id: I3c5e5729757f37c94bb3d5d5ef169b4f4868169a\n'}, {'number': 7, 'created': '2014-06-03 14:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/81eea61a5337c923c1accd7ab58dd61d0b172144', 'message': 'Refactoring ssh commands for Sahara\n\nRefactoring ssh commands for Sahara project\nin accordance with a common code\n\nChange-Id: I3c5e5729757f37c94bb3d5d5ef169b4f4868169a\n'}, {'number': 8, 'created': '2014-06-06 09:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/bc01829bcd16da4f60df3f570c20f7f2fa7ca401', 'message': 'Refactoring ssh commands for Sahara\n\nRefactoring ssh commands for Sahara project\nin accordance with a common code\n\nChange-Id: I3c5e5729757f37c94bb3d5d5ef169b4f4868169a\nCloses-Bug: #1324143\n'}, {'number': 9, 'created': '2014-06-10 12:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/e88a66e0a65e8a33f4c80ffac2d5327fabe59151', 'message': 'Refactoring ssh commands for Sahara\n\nRefactoring ssh commands for Sahara project\nin accordance with a common code\n\nChange-Id: I3c5e5729757f37c94bb3d5d5ef169b4f4868169a\nCloses-Bug: #1324143\n'}, {'number': 10, 'created': '2014-06-10 13:06:37.000000000', 'files': ['fuel_health/savanna.py', 'fuel_health/common/ssh.py', 'fuel_health/common/savanna_ssh.py', 'fuel_health/nmanager.py', 'fuel_health/heatmanager.py'], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/a800d0527d6493c6c6f1dcc455425b0f6d0e80c7', 'message': 'Refactoring ssh commands for Sahara\n\nRefactoring ssh commands for Sahara project\nin accordance with a common code\n\nChange-Id: I3c5e5729757f37c94bb3d5d5ef169b4f4868169a\nCloses-Bug: #1324143\n'}]",6,96169,a800d0527d6493c6c6f1dcc455425b0f6d0e80c7,79,10,10,7126,,,0,"Refactoring ssh commands for Sahara

Refactoring ssh commands for Sahara project
in accordance with a common code

Change-Id: I3c5e5729757f37c94bb3d5d5ef169b4f4868169a
Closes-Bug: #1324143
",git fetch https://review.opendev.org/openstack/fuel-ostf refs/changes/69/96169/9 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_health/common/ssh.py', 'fuel_health/savanna.py', 'fuel_health/common/savanna_ssh.py']",3,fe894f6116e18c1148a2a0a3b8cd245e46886b60,sshfix,,"# vim: tabstop=4 shiftwidth=4 softtabstop=4 # Copyright 2013 Mirantis, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import logging import paramiko from fuel_health.exceptions import SSHExecCommandFailed import fuel_health.config LOG = logging.getLogger(__name__) def ssh_command(cmd): config = fuel_health.config.FuelConfig() ssh = paramiko.SSHClient() ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy()) LOG.debug('Remote ssh commad is ""%s""', cmd) try: ssh.connect(hostname=config.compute.controller_nodes[0], username=config.compute.controller_node_ssh_user, key_filename=config.compute.path_to_private_key, timeout=300) _, stdout, stderr = ssh.exec_command(cmd) output = stdout.read() output_err = stderr.read() ssh.close() LOG.debug('Output ssh is ""%s%s""', output, output_err) return output, output_err except SSHExecCommandFailed as exc: output_msg = ""Command failed."" LOG.debug(exc) LOG.debug(output_msg) raise ",27,57
openstack%2Ffuel-main~master~I3017914d1e6ac40336feaea66055fda6b49b2285,openstack/fuel-main,master,I3017914d1e6ac40336feaea66055fda6b49b2285,Add tempest config autogeneration,MERGED,2014-05-27 11:03:25.000000000,2014-06-16 12:28:03.000000000,2014-06-16 12:28:03.000000000,"[{'_account_id': 3}, {'_account_id': 6631}, {'_account_id': 6719}, {'_account_id': 8053}, {'_account_id': 8392}, {'_account_id': 8749}, {'_account_id': 8882}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}]","[{'number': 1, 'created': '2014-05-27 11:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/48cfb88f0f3af25b324bb4c402493945cee7921b', 'message': 'WIP: Add tempest config autogeneration\n\nChange-Id: I3017914d1e6ac40336feaea66055fda6b49b2285\n'}, {'number': 2, 'created': '2014-05-27 12:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/c8284f8be999d44cbacf0bb2e1d2c5370a5bd366', 'message': 'WIP: Add tempest config autogeneration\n\nChange-Id: I3017914d1e6ac40336feaea66055fda6b49b2285\n'}, {'number': 3, 'created': '2014-05-27 12:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/591f2944ba5e1fc67ec03361607d364c93f0f5f0', 'message': 'WIP: Add tempest config autogeneration\n\nChange-Id: I3017914d1e6ac40336feaea66055fda6b49b2285\n'}, {'number': 4, 'created': '2014-05-27 14:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/5f296a6e8073ed2bc10505dbf2d5aa9dc89252df', 'message': 'WIP: Add tempest config autogeneration\n\nChange-Id: I3017914d1e6ac40336feaea66055fda6b49b2285\n'}, {'number': 5, 'created': '2014-05-28 12:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/fe054422922be99b4aff10e0537ae31b6dad2786', 'message': 'WIP: Add tempest config autogeneration\n\nChange-Id: I3017914d1e6ac40336feaea66055fda6b49b2285\n'}, {'number': 6, 'created': '2014-05-28 13:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/1007a9ccbee58def201b56d4c6189a3424eff73e', 'message': 'WIP: Add tempest config autogeneration\n\nChange-Id: I3017914d1e6ac40336feaea66055fda6b49b2285\n'}, {'number': 7, 'created': '2014-05-28 14:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/a4e060e38df7c218f055ce2cbc5392ed04e19bfc', 'message': 'Add tempest config autogeneration\n\nConfig passes verify-tempest-config sanity check\nBut there is anyway plenty of errors\n\nChange-Id: I3017914d1e6ac40336feaea66055fda6b49b2285\n'}, {'number': 8, 'created': '2014-05-29 09:04:46.000000000', 'files': ['fuelweb_test/helpers/conf_tempest.py', 'fuelweb_test/helpers/common.py', 'fuelweb_test/helpers/tempest.conf.template', 'fuelweb_test/helpers/os_actions.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/ac8d1deec9ba18d168cccb5df2f2062aebae3c7a', 'message': 'Add tempest config autogeneration\n\nConfig passes verify-tempest-config sanity check\nBut there is anyway plenty of errors\n\nChange-Id: I3017914d1e6ac40336feaea66055fda6b49b2285\n'}]",11,95720,ac8d1deec9ba18d168cccb5df2f2062aebae3c7a,63,11,8,8907,,,0,"Add tempest config autogeneration

Config passes verify-tempest-config sanity check
But there is anyway plenty of errors

Change-Id: I3017914d1e6ac40336feaea66055fda6b49b2285
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/20/95720/7 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/helpers/conf_tempest.py', 'fuelweb_test/helpers/tempest.conf.template']",2,48cfb88f0f3af25b324bb4c402493945cee7921b,tempest,[DEFAULT] debug=true verbose=true [identity] uri=http://{{ management_vip }}:5000/v2.0/ uri_v3=http://{{ management_vip }}:5000/v3.0/ username={{username}} password={{password}} tenant_name={{tenant_name}} admin_username={{admin_username}} admin_tenant_name={{admin_tenant_name}} admin_password={{admin_password}} [dashboard] dashboard_url=http://{{ management_vip }}/dashboard/ login_url=http://{{ management_vip }}/dashboard/auth/login/ [network] tenant_network_cidr={{ internal_cidr }} tenant_network_mask_bits={{ internal_mask }} public_network_id={{ public_network }} public_router_id={{ public_router}} [network-feature-enabled] ipv6=false [service_available] {% if net_provider == 'neutron' %} neutron=true {% endif %} [compute] image_ref={{image_ref}} {% if image_ref_alt %} image_ref_alt={{image_ref_alt}} {% else %} image_ref_alt={{image_ref}} {% endif %} ,,258,0
openstack%2Ftraining-guides~master~Ibba6a68d104b2aade412a06d63ed49467fb2bba3,openstack/training-guides,master,Ibba6a68d104b2aade412a06d63ed49467fb2bba3,Add README.rst for subdirectories,MERGED,2014-06-16 10:42:38.000000000,2014-06-16 12:27:47.000000000,2014-06-16 12:27:46.000000000,"[{'_account_id': 3}, {'_account_id': 6923}, {'_account_id': 7007}, {'_account_id': 11109}]","[{'number': 1, 'created': '2014-06-16 10:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/training-guides/commit/6415c034afe7fa3ca6342f17ce7f00e1edff9642', 'message': 'Add README.txt for subdirectories\n\nThis changeset adds README.txt files to several subdirectories\nto explain their content and purpose.\n\nPartial-Bug: 1312764\nImplements: blueprint openstack-training-labs\nChange-Id: Ibba6a68d104b2aade412a06d63ed49467fb2bba3\n'}, {'number': 2, 'created': '2014-06-16 11:25:58.000000000', 'files': ['labs/lib/wbatch/README.rst', 'labs/img/README.rst', 'labs/config/README.rst', 'labs/scripts/README.rst', 'labs/lib/README.rst', 'labs/wbatch/README.rst', 'labs/autostart/README.rst', 'labs/log/README.rst'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/9ada0ed03299c99e7cc6f53bb12a327581bebf89', 'message': 'Add README.rst for subdirectories\n\nThis changeset adds README.rst files to several subdirectories\nto explain their content and purpose.\n\nPartial-Bug: 1312764\nImplements: blueprint openstack-training-labs\nChange-Id: Ibba6a68d104b2aade412a06d63ed49467fb2bba3\n'}]",0,100215,9ada0ed03299c99e7cc6f53bb12a327581bebf89,11,4,2,11109,,,0,"Add README.rst for subdirectories

This changeset adds README.rst files to several subdirectories
to explain their content and purpose.

Partial-Bug: 1312764
Implements: blueprint openstack-training-labs
Change-Id: Ibba6a68d104b2aade412a06d63ed49467fb2bba3
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/15/100215/1 && git format-patch -1 --stdout FETCH_HEAD,"['labs/config/README.txt', 'labs/autostart/README.txt', 'labs/scripts/README.txt', 'labs/lib/wbatch/README.txt', 'labs/lib/README.txt', 'labs/log/README.txt', 'labs/wbatch/README.txt', 'labs/img/README.txt']",8,6415c034afe7fa3ca6342f17ce7f00e1edff9642,bug/1312764,"By default, osbash will put into this directory its base disk images (base-*-<distro>.vdi), the VM export images (oslabs-<distro>.ova), and all installation ISO images it may download. ",,39,0
openstack%2Fmurano-dashboard~master~Ie98ddfbb7a4b5a7c539a246193b50bb112cf8692,openstack/murano-dashboard,master,Ie98ddfbb7a4b5a7c539a246193b50bb112cf8692,Fix tests according to changes in layout of App Catalog page,MERGED,2014-06-16 07:34:29.000000000,2014-06-16 12:24:44.000000000,2014-06-16 12:24:43.000000000,"[{'_account_id': 3}, {'_account_id': 7226}, {'_account_id': 7227}, {'_account_id': 7562}, {'_account_id': 7600}, {'_account_id': 7821}, {'_account_id': 8040}, {'_account_id': 8127}, {'_account_id': 8592}, {'_account_id': 8824}]","[{'number': 1, 'created': '2014-06-16 07:34:29.000000000', 'files': ['functionaltests/base.py', 'functionaltests/common.ini', 'functionaltests/sanity_check.py'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/497e6033e21506daa279edb70387f12417c9e479', 'message': 'Fix tests according to changes in layout of App Catalog page\n\nChange-Id: Ie98ddfbb7a4b5a7c539a246193b50bb112cf8692\n'}]",0,100172,497e6033e21506daa279edb70387f12417c9e479,13,10,1,8592,,,0,"Fix tests according to changes in layout of App Catalog page

Change-Id: Ie98ddfbb7a4b5a7c539a246193b50bb112cf8692
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/72/100172/1 && git format-patch -1 --stdout FETCH_HEAD,"['functionaltests/base.py', 'functionaltests/common.ini', 'functionaltests/sanity_check.py']",3,497e6033e21506daa279edb70387f12417c9e479,," 2. Set search criterion in the search field(e.g 'Telnet') 3. Click on 'Filter' and check result self.fill_field(by.By.NAME, 'search', 'Telnet') self.driver.find_element_by_id('apps__action_filter').click() self.assertIn('Telnet', self.driver.page_source) self.assertNotIn('PostgreSQL', self.driver.page_source) 2. Select 'Databases' category in 'App Category' dropdown menu 3. Verify that PostgreSQL is shown 4. Select 'Microsoft Services' category in 'App Category' dropdown menu 5. Verify that AD is shown self.driver.find_element_by_xpath("".//*[@href='#']"").click() self.driver.find_element_by_xpath("".//*[@href='#']"").click()"," 2. Click on 'Search' panel 3. Type name of service that should be founded 3. Click on 'Go' and check result self.driver.find_element_by_id('MuranoSearchPanelToggle').click() self.fill_field(by.By.XPATH, "".//*[@name='search']"", 'PARAM') self.driver.find_element_by_xpath( "".//*[@id='MuranoSearchPanel']/form/button"").click() 2. Click on 'Category' panel 3. Select category and click on it 4. Verify result self.driver.find_element_by_id('MuranoCategoriesPanelToggle').click() self.driver.find_element_by_id('MuranoCategoriesPanelToggle').click()",16,15
openstack%2Ftraining-guides~master~I49d49340db89b61a03dbc483291c252c8c72d61a,openstack/training-guides,master,I49d49340db89b61a03dbc483291c252c8c72d61a,Add functions.host library,MERGED,2014-06-16 07:15:54.000000000,2014-06-16 12:21:26.000000000,2014-06-16 12:21:26.000000000,"[{'_account_id': 3}, {'_account_id': 6923}, {'_account_id': 7007}]","[{'number': 1, 'created': '2014-06-16 07:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/training-guides/commit/4812823d827aee0252d3a538d46535e0f17c2946', 'message': 'Add functions.host library\n\nThis library is used by osbash host-side scripts.\n\nIt contains exec_cmd, a simple function that is used when marking\ncommands for conditional execution, depending on whether the user\nrequested Windows batch files and whether the artifacts are to be\ncreated on the local machine as well.\n\nThe library also contains functions that allow the host to execute\nscripts in the VMs, either directly through ssh or indirectly, by\nadding files to an autostart directory shared with the guest VMs.\n\nIn addition, the library contains functions to find and (if\nnecessary) download the install ISO image of the configured\nLinux distribution.\n\nPartial-Bug: 1312764\nImplements: blueprint openstack-training-labs\nChange-Id: I49d49340db89b61a03dbc483291c252c8c72d61a\n'}, {'number': 2, 'created': '2014-06-16 09:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/training-guides/commit/98bf7c00a5ae6739ab7da1a1c97381b2f71a4d5c', 'message': 'Add functions.host library\n\nThis library is used by osbash host-side scripts.\n\nIt contains exec_cmd, a simple function that is used when marking\ncommands for conditional execution, depending on whether the user\nrequested Windows batch files and whether the artifacts are to be\ncreated on the local machine as well.\n\nThe library also contains functions that allow the host to execute\nscripts in the VMs, either directly through ssh or indirectly, by\nadding files to an autostart directory shared with the guest VMs.\n\nIn addition, the library contains functions to find and (if\nnecessary) download the install ISO image of the configured\nLinux distribution.\n\nPartial-Bug: 1312764\nImplements: blueprint openstack-training-labs\nChange-Id: I49d49340db89b61a03dbc483291c252c8c72d61a\n'}, {'number': 3, 'created': '2014-06-16 11:21:24.000000000', 'files': ['labs/lib/osbash/functions.host'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/bb303c8889ea0270a28f81b89a9524b1bd3c2b71', 'message': 'Add functions.host library\n\nThis library is used by osbash host-side scripts.\n\nIt contains exec_cmd, a simple function that is used when marking\ncommands for conditional execution, depending on whether the user\nrequested Windows batch files and whether the artifacts are to be\ncreated on the local machine as well.\n\nThe library also contains functions that allow the host to execute\nscripts in the VMs, either directly through ssh or indirectly, by\nadding files to an autostart directory shared with the guest VMs.\n\nIn addition, the library contains functions to find and (if\nnecessary) download the install ISO image of the configured\nLinux distribution.\n\nPartial-Bug: 1312764\nImplements: blueprint openstack-training-labs\nChange-Id: I49d49340db89b61a03dbc483291c252c8c72d61a\n'}]",0,100166,bb303c8889ea0270a28f81b89a9524b1bd3c2b71,13,3,3,11109,,,0,"Add functions.host library

This library is used by osbash host-side scripts.

It contains exec_cmd, a simple function that is used when marking
commands for conditional execution, depending on whether the user
requested Windows batch files and whether the artifacts are to be
created on the local machine as well.

The library also contains functions that allow the host to execute
scripts in the VMs, either directly through ssh or indirectly, by
adding files to an autostart directory shared with the guest VMs.

In addition, the library contains functions to find and (if
necessary) download the install ISO image of the configured
Linux distribution.

Partial-Bug: 1312764
Implements: blueprint openstack-training-labs
Change-Id: I49d49340db89b61a03dbc483291c252c8c72d61a
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/66/100166/2 && git format-patch -1 --stdout FETCH_HEAD,['labs/lib/osbash/functions.host'],1,4812823d827aee0252d3a538d46535e0f17c2946,bug/1312764,"# This file contains bash functions that are used by osbash on the host. source ""$LIB_DIR/functions"" #------------------------------------------------------------------------------- # Conditional execution #------------------------------------------------------------------------------- # exec_cmd is used for conditional execution: # # OSBASH=exec_cmd # # Execute command only if OSBASH is set: # ${OSBASH:-:} cmd args # # Execute command only if OSBASH is not set: # ${OSBASH:+:} cmd args # # Disable actual call to VBoxManage (selectively override configuration): # OSBASH= cmd args # # Enable call to VBoxManage (selectively override configuration): # OSBASH=exec_cmd cmd args function exec_cmd { local cmd=$1 shift $cmd ""$@"" } OSBASH=exec_cmd #------------------------------------------------------------------------------- function get_base_disk_path { echo $DISK_DIR/base-$VM_ACCESS-$DISTRO.vdi } #------------------------------------------------------------------------------- # Console logging helper #------------------------------------------------------------------------------- function decho { local OPTS="""" if [[ $1 == -* ]]; then OPTS=$1 shift fi echo ""$OPTS"" ""$(date +%T) $@"" ${WBATCH:-:} wbatch_echo ""$@"" || true } #------------------------------------------------------------------------------- # ssh #------------------------------------------------------------------------------- function strip_top_dir { local FULL_PATH=$1 echo ""${FULL_PATH/$TOP_DIR\//}"" } # Copy files or directories to VM (incl. implied directories; HOME is TOP_DIR) function vm_scp_to_vm { local SSH_PORT=$1 shift while (($#)); do local SRC_PATH=$1 shift local TARGET_PATH=$(strip_top_dir ""$SRC_PATH"") local TARGET_DIR=$(dirname ""$TARGET_PATH"") vm_ssh ""$SSH_PORT"" ""mkdir -p $TARGET_DIR"" scp -q -r \ -i ""$LIB_DIR/vagrant-ssh-keys/vagrant"" \ -o ""UserKnownHostsFile /dev/null"" \ -o ""StrictHostKeyChecking no"" \ -P ""$SSH_PORT"" \ ""$SRC_PATH"" ""$VM_SHELL_USER@localhost:$TARGET_PATH"" done } # Execute commands via ssh function vm_ssh { local SSH_PORT=$1 shift ssh -q \ -i ""$LIB_DIR/vagrant-ssh-keys/vagrant"" \ -o ""UserKnownHostsFile /dev/null"" \ -o ""StrictHostKeyChecking no"" \ -p ""$SSH_PORT"" \ ""$VM_SHELL_USER@localhost"" ""$@"" } function wait_for_ssh { local SSH_PORT=$1 echo ""Waiting for ssh server to respond on local port $SSH_PORT"" while [ : ]; do if vm_ssh ""$SSH_PORT"" exit ; then break else echo -n . sleep 1 fi done } # Copy one script to VM and execute it via ssh; log output to separate file function ssh_exec_script { local SSH_PORT=$1 local SCRIPT_PATH=$2 vm_scp_to_vm ""$SSH_PORT"" ""$SCRIPT_PATH"" local REMOTE_PATH=$(strip_top_dir ""$SCRIPT_PATH"") echo -en ""\n$(date) start $REMOTE_PATH"" local SCRIPT_NAME=""$(basename ""$SCRIPT_PATH"" .sh)"" local PREFIX=$(get_next_prefix ""$LOG_DIR"" ""auto"") local LOG_PATH=$LOG_DIR/${PREFIX}_${SCRIPT_NAME}.auto vm_ssh ""$SSH_PORT"" ""bash $REMOTE_PATH"" > ""$LOG_PATH"" 2>&1 echo -en ""\n$(date) done"" } # Wait for sshd, prepare autostart dirs, and execute autostart scripts on VM function ssh_process_autostart { local SSH_PORT=$1 wait_for_ssh ""$SSH_PORT"" vm_ssh ""$SSH_PORT"" ""rm -rf lib config autostart"" vm_scp_to_vm ""$SSH_PORT"" ""$TOP_DIR/lib"" ""$TOP_DIR/config"" local SCR_PATH="""" for SCRIPT_PATH in ""$AUTOSTART_DIR/""*.sh; do ssh_exec_script ""$SSH_PORT"" ""$SCRIPT_PATH"" done touch ""$STATUS_DIR/done"" } #------------------------------------------------------------------------------- # Autostart mechanism #------------------------------------------------------------------------------- function autostart_reset { clean_dir ""$AUTOSTART_DIR"" clean_dir ""$STATUS_DIR"" } function wait_for_autofiles { local DONE=false shopt -s nullglob ${WBATCH:-:} wbatch_wait_auto # Return if we are just faking it for wbatch ${OSBASH:+:} return 0 until $DONE ; do if [ -f ""$STATUS_DIR/done"" ]; then DONE=true rm ""$STATUS_DIR/done"" # Return only after checking for remaining *.sh.begin files fi # Note: begin files are only visible with a VirtualBox shared folder local PROCESSING=(""$STATUS_DIR""/*.sh.begin) if [ -n ""${PROCESSING[0]-}"" ]; then for f in ""${PROCESSING[@]}""; do echo >&2 -en ""\nVM processing $(basename ""$f"" .begin)"" rm ""$f"" done fi echo >&2 -n . sleep 1 done echo } # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - # Prepending numbers ensures scripts will be executed in the order they # were added to the queue. function _autostart_queue { local SRC_DIR=${1%/*} # if SRC_DIR is a code, turn it into a real path local SRC_DIR=""$(src_dir_code_to_dir ""$SRC_DIR"")"" local SRC_NAME=${1##*/} # If we get a target name, file will be renamed local TARGET_NAME=${2:-$SRC_NAME} if [[ $TARGET_NAME = *.sh ]]; then # Create target file name like 01_apt_init.sh local PREFIX=$(get_next_prefix ""$AUTOSTART_DIR"" ""sh"" 2) TARGET_NAME=""${PREFIX}_$TARGET_NAME"" fi if [ ""$SRC_NAME"" = ""$TARGET_NAME"" ]; then echo >&2 -e ""\t$SRC_NAME"" else echo >&2 -e ""\t$SRC_NAME -> $TARGET_NAME"" fi local SRC_PATH=$SRC_DIR/$SRC_NAME cp -- ""$SRC_PATH"" ""$AUTOSTART_DIR/$TARGET_NAME"" ${WBATCH:-:} wbatch_cp_auto ""$SRC_PATH"" ""$AUTOSTART_DIR/$TARGET_NAME"" } # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - # Print to the console which file requested guest scripts to run function log_autostart_source { # If the caller doesn't provide a config file, log the caller's source file local SRC_FILE=${1:-${BASH_SOURCE[1]##*/}} echo >&2 ""Copying autostart files set in $SRC_FILE"" } # autostart <src_dir|src_dir_code> <file> <new_name> # e.g. autostart osbash init_xxx_node.sh init_controller_node.sh function autostart_and_rename { local SRC_DIR=$1 local SRC_FILE=$2 local TARGET_FILE=$3 # Don't log this file -- log our caller's source file log_autostart_source ""${BASH_SOURCE[1]##*/}"" _autostart_queue ""$SRC_DIR/$SRC_FILE"" ""$TARGET_FILE"" } # autostart <src_dir|src_dir_code> <file> [<file> ...] # e.g. autostart scripts prepare_home.sh apt_init.sh function autostart { local SRC_DIR=$1 shift # Don't log this file -- log our caller's source file log_autostart_source ""${BASH_SOURCE[1]##*/}"" while (($#)); do local SRC_FILE=$1 shift _autostart_queue ""$SRC_DIR/$SRC_FILE"" done } function autostart_from_config { local CONFIG_FILE=$1 log_autostart_source ""$CONFIG_FILE"" get_script_paths_from_config ""$CONFIG_FILE"" | while read SCR_PATH; do _autostart_queue ""$SCR_PATH"" done } #------------------------------------------------------------------------------- # Functions to get install ISO images #------------------------------------------------------------------------------- function download { local URL=$1 local DEST_DIR=$2 local DEST_FILE=$3 local RC=0 local WGET=$(which wget) mkdir -pv ""$DEST_DIR"" if [ -n ""$WGET"" ]; then $WGET --output-document ""$DEST_DIR/$DEST_FILE"" ""$URL""||RC=$? else # Mac OS X has curl instead of wget local CURL=$(which curl) if [ -n ""$CURL"" ]; then $CURL ""$URL"" -o ""$DEST_DIR/$DEST_FILE""||RC=$? fi fi if [ $RC -ne 0 ]; then echo >&2 ""Unable to download $URL, quitting."" exit 1 fi } function get_iso_name { basename ""${ISO_URL:-}"" } function find_install-iso { local ISO_NAME=$1 if [ ! -f ""$ISO_DIR/$ISO_NAME"" ]; then echo >&2 ""$ISO_NAME not in $ISO_DIR; downloading"" download ""$ISO_URL"" ""$ISO_DIR"" ""$ISO_NAME"" fi } # vim: set ai ts=4 sw=4 et ft=sh: ",,296,0
openstack%2Fdevstack~master~Icd84212e97a9d5e007745be8096fa552bc23cb6f,openstack/devstack,master,Icd84212e97a9d5e007745be8096fa552bc23cb6f,XenAPI: Fix deprecated config options,MERGED,2014-06-16 07:42:07.000000000,2014-06-16 12:13:35.000000000,2014-06-16 12:13:34.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-16 07:42:07.000000000', 'files': ['lib/nova_plugins/hypervisor-xenserver'], 'web_link': 'https://opendev.org/openstack/devstack/commit/786a3a3849b0b2d72cabe9a9b931b00a6d1041fc', 'message': 'XenAPI: Fix deprecated config options\n\nI346ee0248c03e60716bd7dc4a5ee4493610867cb broke the XenServer CI as\ndevstack was still setting the deprecated config options.\n\nChange-Id: Icd84212e97a9d5e007745be8096fa552bc23cb6f\n'}]",0,100174,786a3a3849b0b2d72cabe9a9b931b00a6d1041fc,8,3,1,6735,,,0,"XenAPI: Fix deprecated config options

I346ee0248c03e60716bd7dc4a5ee4493610867cb broke the XenServer CI as
devstack was still setting the deprecated config options.

Change-Id: Icd84212e97a9d5e007745be8096fa552bc23cb6f
",git fetch https://review.opendev.org/openstack/devstack refs/changes/74/100174/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova_plugins/hypervisor-xenserver'],1,786a3a3849b0b2d72cabe9a9b931b00a6d1041fc,," iniset $NOVA_CONF xenserver connection_url ""$XENAPI_CONNECTION_URL"" iniset $NOVA_CONF xenserver connection_username ""$XENAPI_USER"" iniset $NOVA_CONF xenserver connection_password ""$XENAPI_PASSWORD"""," iniset $NOVA_CONF DEFAULT xenapi_connection_url ""$XENAPI_CONNECTION_URL"" iniset $NOVA_CONF DEFAULT xenapi_connection_username ""$XENAPI_USER"" iniset $NOVA_CONF DEFAULT xenapi_connection_password ""$XENAPI_PASSWORD""",3,3
openstack%2Fcinder~master~I2e4c2327803c25e54ed771f25ef973bb543b9355,openstack/cinder,master,I2e4c2327803c25e54ed771f25ef973bb543b9355,Use oslo network utils function to set tcp_keepalive,MERGED,2014-05-05 23:12:23.000000000,2014-06-16 12:08:44.000000000,2014-06-16 12:08:43.000000000,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 2243}, {'_account_id': 8871}, {'_account_id': 9608}]","[{'number': 1, 'created': '2014-05-05 23:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b46442f0874fe3bf0bd96cf0b388e280f196080b', 'message': 'Use oslo network utils function to set tcp_keepalive\n\nEarlier, tcp_keepidle was set to 600s and other parameters left to default\nvalues. A new function was added to oslo-incubator for setting tcp keepalive\nsettings, and cinder should use this to set any values we want.\nIn addition to the existing cfg option for tcp_keepidle, new values were added\nfor tcp_keepalive(to turn on/off this feature, tcp_keepintvl(to specify gap\nbetween successive probes) and tcp_keepcnt(to specify number of probes). To\nmimic existing behavior, tcp_keepalive defaults to True, and tcp_keepidle to\n600(seconds). The other two default to None, and the oslo code will ignore\nthem.\nAlso ran update.py in oslo-incubator to copy changed modules into cinder.\nImplements blueprint configure-tcp-keepalive\n\nChange-Id: I2e4c2327803c25e54ed771f25ef973bb543b9355\n'}, {'number': 2, 'created': '2014-05-05 23:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/709b38e66d767072f413052bd2189a185af9dd10', 'message': 'Use oslo network utils function to set tcp_keepalive\n\nEarlier, tcp_keepidle was set to 600s and other parameters left to default\nvalues. A new function was added to oslo-incubator for setting tcp keepalive\nsettings, and cinder should use this to set any values we want.\nIn addition to the existing cfg option for tcp_keepidle, new values were added\nfor tcp_keepalive(to turn on/off this feature, tcp_keepintvl(to specify gap\nbetween successive probes) and tcp_keepcnt(to specify number of probes). To\nmimic existing behavior, tcp_keepalive defaults to True, and tcp_keepidle to\n600(seconds). The other two default to None, and the oslo code will ignore\nthem.\nAlso ran update.py in oslo-incubator to copy changed modules into cinder.\nImplements blueprint configure-tcp-keepalive\n\nChange-Id: I2e4c2327803c25e54ed771f25ef973bb543b9355\n'}, {'number': 3, 'created': '2014-05-06 02:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2edd574230a34fc6d5a180c4b53814bc0de0d664', 'message': 'Use oslo network utils function to set tcp_keepalive\n\nEarlier, tcp_keepidle was set to 600s and other parameters left to default\nvalues. A new function was added to oslo-incubator for setting tcp keepalive\nsettings, and cinder should use this to set any values we want.\nIn addition to the existing cfg option for tcp_keepidle, new values were added\nfor tcp_keepalive(to turn on/off this feature, tcp_keepintvl(to specify gap\nbetween successive probes) and tcp_keepcnt(to specify number of probes). To\nmimic existing behavior, tcp_keepalive defaults to True, and tcp_keepidle to\n600(seconds). The other two default to None, and the oslo code will ignore\nthem.\nAlso ran update.py in oslo-incubator to copy changed modules into cinder.\nImplements blueprint configure-tcp-keepalive\n\nChange-Id: I2e4c2327803c25e54ed771f25ef973bb543b9355\n'}, {'number': 4, 'created': '2014-05-06 16:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f8052cd400bb0494dc7e911b8884b74be553d997', 'message': 'Use oslo network utils function to set tcp_keepalive\n\nEarlier, tcp_keepidle was set to 600s and other parameters left to default\nvalues. A new function was added to oslo-incubator for setting tcp keepalive\nsettings, and cinder should use this to set any values we want.\nIn addition to the existing cfg option for tcp_keepidle, new values were added\nfor tcp_keepalive(to turn on/off this feature, tcp_keepintvl(to specify gap\nbetween successive probes) and tcp_keepcnt(to specify number of probes). To\nmimic existing behavior, tcp_keepalive defaults to True, and tcp_keepidle to\n600(seconds). The other two default to None, and the oslo code will ignore\nthem.\nRan update.py in oslo-incubator to copy changed modules into cinder.\nRan generate_sample to generate cinder.conf.sample\nImplements blueprint configure-tcp-keepalive\n\nChange-Id: I2e4c2327803c25e54ed771f25ef973bb543b9355\n'}, {'number': 5, 'created': '2014-05-06 17:43:38.000000000', 'files': ['cinder/openstack/common/jsonutils.py', 'etc/cinder/cinder.conf.sample', 'cinder/openstack/common/network_utils.py', 'cinder/wsgi.py', 'cinder/openstack/common/gettextutils.py', 'cinder/openstack/common/log.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc87669e9adb7a3c3b04927581dcba6c97706612', 'message': 'Use oslo network utils function to set tcp_keepalive\n\nEarlier, tcp_keepidle was set to 600s and other parameters left to default\nvalues. A new function was added to oslo-incubator for setting tcp keepalive\nsettings, and cinder should use this to set any values we want.\nIn addition to the existing cfg option for tcp_keepidle, new values were added\nfor tcp_keepalive(to turn on/off this feature, tcp_keepintvl(to specify gap\nbetween successive probes) and tcp_keepcnt(to specify number of probes). To\nmimic existing behavior, tcp_keepalive defaults to True, and tcp_keepidle to\n600(seconds). The other two default to None, and the oslo code will ignore\nthem.\nRan update.py in oslo-incubator to copy changed modules into cinder.\nChanges are:\nnetwork_utils.py (which contains the function we need, others are deps)\nedd73c9 Merge ""Improve help strings""\nfe3389e Improve help strings\n8a0f567 Remove str() from LOG.* and exceptions\nf61a4e7 Fix python26 compatibility for RFCSysLogHandler\nda6d713 Revert setting oslo-incubator logs to INFO\n0d18381 Set default log levels for oslo.messaging and oslo-incubator\n\ngettextutils.py\n9912e5d Add API for creating translation functions\n6cc96d0 Fix test_gettextutils on Python 3\n\njsonutils.py\n9e5a393 jsonutils.load() accepts file pointer, not string\na6b2aec On Python <= 2.6, use simplejson if available\ne3a1d9c Use six.moves.xmlrpc_client instead of xmlrpclib\n3a31bba Python3 support for xmlrpclib\ne6494c2 Use six.iteritems to make dict work on Python2/3\n\nlog.py\nedd73c9 Merge ""Improve help strings""\nfe3389e Improve help strings\n8a0f567 Remove str() from LOG.* and exceptions\nf61a4e7 Fix python26 compatibility for RFCSysLogHandler\nda6d713 Revert setting oslo-incubator logs to INFO\n0d18381 Set default log levels for oslo.messaging and oslo-incubator\n\nCurrent HEAD in OSLO:\n----------------------------------------------\nMerge: 2640847 e433899\nDate:   Mon May 5 19:41:28 2014 +0000\nMerge ""Enable configuring tcp keepalive""\n----------------------------------------------\n\nRan generate_sample to generate cinder.conf.sample\n\nImplements blueprint configure-tcp-keepalive\nChange-Id: I2e4c2327803c25e54ed771f25ef973bb543b9355\n'}]",0,92245,bc87669e9adb7a3c3b04927581dcba6c97706612,63,5,5,9608,,,0,"Use oslo network utils function to set tcp_keepalive

Earlier, tcp_keepidle was set to 600s and other parameters left to default
values. A new function was added to oslo-incubator for setting tcp keepalive
settings, and cinder should use this to set any values we want.
In addition to the existing cfg option for tcp_keepidle, new values were added
for tcp_keepalive(to turn on/off this feature, tcp_keepintvl(to specify gap
between successive probes) and tcp_keepcnt(to specify number of probes). To
mimic existing behavior, tcp_keepalive defaults to True, and tcp_keepidle to
600(seconds). The other two default to None, and the oslo code will ignore
them.
Ran update.py in oslo-incubator to copy changed modules into cinder.
Changes are:
network_utils.py (which contains the function we need, others are deps)
edd73c9 Merge ""Improve help strings""
fe3389e Improve help strings
8a0f567 Remove str() from LOG.* and exceptions
f61a4e7 Fix python26 compatibility for RFCSysLogHandler
da6d713 Revert setting oslo-incubator logs to INFO
0d18381 Set default log levels for oslo.messaging and oslo-incubator

gettextutils.py
9912e5d Add API for creating translation functions
6cc96d0 Fix test_gettextutils on Python 3

jsonutils.py
9e5a393 jsonutils.load() accepts file pointer, not string
a6b2aec On Python <= 2.6, use simplejson if available
e3a1d9c Use six.moves.xmlrpc_client instead of xmlrpclib
3a31bba Python3 support for xmlrpclib
e6494c2 Use six.iteritems to make dict work on Python2/3

log.py
edd73c9 Merge ""Improve help strings""
fe3389e Improve help strings
8a0f567 Remove str() from LOG.* and exceptions
f61a4e7 Fix python26 compatibility for RFCSysLogHandler
da6d713 Revert setting oslo-incubator logs to INFO
0d18381 Set default log levels for oslo.messaging and oslo-incubator

Current HEAD in OSLO:
----------------------------------------------
Merge: 2640847 e433899
Date:   Mon May 5 19:41:28 2014 +0000
Merge ""Enable configuring tcp keepalive""
----------------------------------------------

Ran generate_sample to generate cinder.conf.sample

Implements blueprint configure-tcp-keepalive
Change-Id: I2e4c2327803c25e54ed771f25ef973bb543b9355
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/92245/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/openstack/common/jsonutils.py', 'cinder/openstack/common/network_utils.py', 'cinder/wsgi.py', 'cinder/openstack/common/gettextutils.py', 'cinder/openstack/common/log.py']",5,b46442f0874fe3bf0bd96cf0b388e280f196080b,bp/configure-tcp-keepalive," help='The name of a logging configuration file. This file ' 'is appended to any existing logging configuration ' 'files. For details about logging configuration files, ' 'see the Python logging module documentation.'), 'Default: %(default)s .'), '--log-file paths.'), 'and will chang in J to honor RFC5424.'), help='(Optional) Enables or disables syslog rfc5424 format ' 'for logging. If enabled, prefixes the MSG part of the ' 'syslog message with APP-NAME (RFC5424). The ' 'format without the APP-NAME is deprecated in I, ' help='Syslog facility to receive log lines.') help='Log output to standard error.') help='Format string to use for log messages with context.'), help='Format string to use for log messages without context.'), help='Data to append to log format when level is DEBUG.'), help='Prefix each line of exception output with this format.'), help='List of logger=LEVEL pairs.'), help='Enables or disables publication of error events.'), help='Enables or disables fatal status of deprecations.'), help='The format for an instance that is passed with the log ' 'message. '), help='The format for an instance UUID that is passed with the ' 'log message. '), raise LogConfigError(log_config_append, six.text_type(exc)) # Do not use super() unless type(logging.handlers.SysLogHandler) # is 'type' (Python 2.7). # Use old style calls, if the type is 'classobj' (Python 2.6) logging.handlers.SysLogHandler.__init__(self, *args, **kwargs) # Do not use super() unless type(logging.handlers.SysLogHandler) # is 'type' (Python 2.7). # Use old style calls, if the type is 'classobj' (Python 2.6) msg = logging.handlers.SysLogHandler.format(self, record)"," help='The name of logging configuration file. It does not ' 'disable existing loggers, but just appends specified ' 'logging configuration to any other existing logging ' 'options. Please see the Python logging module ' 'documentation for details on logging configuration ' 'files.'), 'Default: %(default)s'), '--log-file paths'), 'and then will be changed in J to honor RFC5424'), help='(Optional) Use syslog rfc5424 format for logging. ' 'If enabled, will add APP-NAME (RFC5424) before the ' 'MSG part of the syslog message. The old format ' 'without APP-NAME is deprecated in I, ' help='Syslog facility to receive log lines') help='Log output to standard error') help='Format string to use for log messages with context'), help='Format string to use for log messages without context'), help='Data to append to log format when level is DEBUG'), help='Prefix each line of exception output with this format'), help='List of logger=LEVEL pairs'), help='Publish error events'), help='Make deprecations fatal'), help='If an instance is passed with the log message, format ' 'it like this'), help='If an instance UUID is passed with the log message, ' 'format it like this'), raise LogConfigError(log_config_append, str(exc)) super(RFCSysLogHandler, self).__init__(*args, **kwargs) msg = super(RFCSysLogHandler, self).format(record)",269,114
openstack%2Fsahara~master~If80453ab703045994ec5ad4f67a9672f956f7d93,openstack/sahara,master,If80453ab703045994ec5ad4f67a9672f956f7d93,Updated from global requirements,ABANDONED,2014-06-15 19:49:25.000000000,2014-06-16 12:07:30.000000000,,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 7213}]","[{'number': 1, 'created': '2014-06-15 19:49:25.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara/commit/f100d0b5674eb575b4c9b18f10b1944506ca4888', 'message': 'Updated from global requirements\n\nChange-Id: If80453ab703045994ec5ad4f67a9672f956f7d93\n'}]",0,100109,f100d0b5674eb575b4c9b18f10b1944506ca4888,8,4,1,11131,,,0,"Updated from global requirements

Change-Id: If80453ab703045994ec5ad4f67a9672f956f7d93
",git fetch https://review.opendev.org/openstack/sahara refs/changes/09/100109/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f100d0b5674eb575b4c9b18f10b1944506ca4888,openstack/requirements,"hacking>=0.9.1,<0.10","hacking>=0.8.0,<0.9",1,1
openstack%2Fsahara-dashboard~master~I36360fa24aab4d477fd4b71fbc390574d29adf91,openstack/sahara-dashboard,master,I36360fa24aab4d477fd4b71fbc390574d29adf91,Updated from global requirements,MERGED,2014-06-16 09:53:07.000000000,2014-06-16 12:02:57.000000000,2014-06-16 12:02:57.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}]","[{'number': 1, 'created': '2014-06-16 09:53:07.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/adb6d6190ae549cbb6d0ed7b633789634e650e50', 'message': 'Updated from global requirements\n\nChange-Id: I36360fa24aab4d477fd4b71fbc390574d29adf91\n'}]",0,100204,adb6d6190ae549cbb6d0ed7b633789634e650e50,13,3,1,11131,,,0,"Updated from global requirements

Change-Id: I36360fa24aab4d477fd4b71fbc390574d29adf91
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/04/100204/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,adb6d6190ae549cbb6d0ed7b633789634e650e50,openstack/requirements,"hacking>=0.9.2,<0.10","hacking>=0.9.1,<0.10",1,1
openstack%2Frally~master~I2ea781f08a731500bfff85e4c25e9786108b8b70,openstack/rally,master,I2ea781f08a731500bfff85e4c25e9786108b8b70,Make quotas context cleanup lazy,MERGED,2014-06-11 18:10:44.000000000,2014-06-16 12:00:55.000000000,2014-06-16 12:00:55.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 6835}, {'_account_id': 7309}, {'_account_id': 8507}, {'_account_id': 11938}]","[{'number': 1, 'created': '2014-06-11 18:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e3b3e2907d75c96863b43d82969f0ac62ac1b0c9', 'message': 'test quotas in gates\n\nChange-Id: I2ea781f08a731500bfff85e4c25e9786108b8b70\n'}, {'number': 2, 'created': '2014-06-12 18:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/81bfd45d761ad826f009241d076a9d8663d4964e', 'message': 'Make quotas context cleanup lazy\n\n*) Clean up service quotas only if they were changed.\n*) Code clean up in setup() and cleanup() to avoid copy paste\n*) Use append instead of extend in quotas tests\n*) Init clients as well lazy\n*) Add functional tests\n\nCloses-bug: #1329379\n\nChange-Id: I2ea781f08a731500bfff85e4c25e9786108b8b70\n'}, {'number': 3, 'created': '2014-06-13 09:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/3be512e775e0562e18e1b3b778ecc88c77ad704f', 'message': 'Make quotas context cleanup lazy\n\n*) Clean up service quotas only if they were changed.\n*) Code clean up in setup() and cleanup() to avoid copy paste\n*) Use append instead of extend in quotas tests\n*) Init clients as well lazy\n*) Add functional tests\n\nCloses-bug: #1329379\n\nChange-Id: I2ea781f08a731500bfff85e4c25e9786108b8b70\n'}, {'number': 4, 'created': '2014-06-13 14:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/3edcc4685474ec741f6fb1a072e67efd1052f701', 'message': 'Make quotas context cleanup lazy\n\n*) Clean up service quotas only if they were changed.\n*) Code clean up in setup() and cleanup() to avoid copy paste\n*) Use append instead of extend in quotas tests\n*) Init clients as well lazy\n*) Add functional tests for quotas\n*) Fix names of nova quotas\n\nCloses-bug: #1329795\nCloses-bug: #1329379\n\nChange-Id: I2ea781f08a731500bfff85e4c25e9786108b8b70\n'}, {'number': 5, 'created': '2014-06-13 14:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4b4ba268e926993948b820c0a5bdccf2d4309845', 'message': 'Make quotas context cleanup lazy\n\n*) Clean up service quotas only if they were changed.\n*) Code clean up in setup() and cleanup() to avoid copy paste\n*) Use append instead of extend in quotas tests\n*) Init clients as well lazy\n*) Add functional tests for quotas\n*) Fix names of nova quotas\n\nCloses-bug: #1329795\nCloses-bug: #1329379\n\nChange-Id: I2ea781f08a731500bfff85e4c25e9786108b8b70\n'}, {'number': 6, 'created': '2014-06-13 15:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/136755123026fec09c2cd03da529be4ac2cbc3f0', 'message': 'Make quotas context cleanup lazy\n\n*) Clean up service quotas only if they were changed.\n*) Code clean up in setup() and cleanup() to avoid copy paste\n*) Use append instead of extend in quotas tests\n*) Init clients as well lazy\n*) Add functional tests for quotas\n*) Fix names of nova quotas\n\nCloses-bug: #1329795\nCloses-bug: #1329379\n\nChange-Id: I2ea781f08a731500bfff85e4c25e9786108b8b70\n'}, {'number': 7, 'created': '2014-06-13 15:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6943367afc366a617f963aab68c3d678b2fb78bd', 'message': 'Make quotas context cleanup lazy\n\n*) Clean up service quotas only if they were changed.\n*) Code clean up in setup() and cleanup() to avoid copy paste\n*) Use append instead of extend in quotas tests\n*) Init clients as well lazy\n*) Add functional tests for quotas\n*) Fix names of nova quotas\n\nCloses-bug: #1329795\nCloses-bug: #1329379\n\nChange-Id: I2ea781f08a731500bfff85e4c25e9786108b8b70\n'}, {'number': 8, 'created': '2014-06-13 16:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6a90b5b84954ed17180a875c50893f40f0109d08', 'message': 'Make quotas context cleanup lazy\n\n*) Clean up service quotas only if they were changed.\n*) Code clean up in setup() and cleanup() to avoid copy paste\n*) Use append instead of extend in quotas tests\n*) Init clients as well lazy\n*) Add functional tests for quotas\n*) Fix names of nova quotas\n\nCloses-bug: #1329795\nCloses-bug: #1329379\n\nChange-Id: I2ea781f08a731500bfff85e4c25e9786108b8b70\n'}, {'number': 9, 'created': '2014-06-13 19:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/5f21cb087da0aff4d885b13fd95ac348e0fb4099', 'message': ""Make quotas context cleanup lazy\n\n*) Clean up service quotas only if they were changed.\n*) Code clean up in setup() and cleanup() to avoid copy paste\n*) Use append instead of extend in quotas tests\n*) Init clients as well lazy\n*) Add functional tests for quotas\n*) Fix names of nova quotas\n*) Fix don't break everything if you are not able to delete quota\n\nCloses-bug: #1329907\nCloses-bug: #1329795\nCloses-bug: #1329379\n\nChange-Id: I2ea781f08a731500bfff85e4c25e9786108b8b70\n""}, {'number': 10, 'created': '2014-06-13 19:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/14253bd1844b84c765b92c294e5530c65188f38b', 'message': ""Make quotas context cleanup lazy\n\n*) Clean up service quotas only if they were changed.\n*) Code clean up in setup() and cleanup() to avoid copy paste\n*) Use append instead of extend in quotas tests\n*) Init clients as well lazy\n*) Add functional tests for quotas\n*) Fix names of nova quotas\n*) Fix don't break everything if you are not able to delete quota\n\nCloses-bug: #1329907\nCloses-bug: #1329795\nCloses-bug: #1329379\n\nChange-Id: I2ea781f08a731500bfff85e4c25e9786108b8b70\n""}, {'number': 11, 'created': '2014-06-16 07:57:44.000000000', 'files': ['tests/benchmark/context/test_quotas.py', 'rally/benchmark/context/quotas.py', 'rally-scenarios/rally-neutron.yaml', 'rally-scenarios/rally.yaml'], 'web_link': 'https://opendev.org/openstack/rally/commit/e973ced371da8817d50fda6d14c0725d8974e29f', 'message': ""Make quotas context cleanup lazy\n\n*) Clean up service quotas only if they were changed.\n*) Code clean up in setup() and cleanup() to avoid copy paste\n*) Use append instead of extend in quotas tests\n*) Init clients as well lazy\n*) Add functional tests for quotas\n*) Fix names of nova quotas\n*) Fix don't break everything if you are not able to delete quota\n\nCloses-bug: #1329907\nCloses-bug: #1329795\nCloses-bug: #1329379\n\nChange-Id: I2ea781f08a731500bfff85e4c25e9786108b8b70\n""}]",5,99441,e973ced371da8817d50fda6d14c0725d8974e29f,39,6,11,6172,,,0,"Make quotas context cleanup lazy

*) Clean up service quotas only if they were changed.
*) Code clean up in setup() and cleanup() to avoid copy paste
*) Use append instead of extend in quotas tests
*) Init clients as well lazy
*) Add functional tests for quotas
*) Fix names of nova quotas
*) Fix don't break everything if you are not able to delete quota

Closes-bug: #1329907
Closes-bug: #1329795
Closes-bug: #1329379

Change-Id: I2ea781f08a731500bfff85e4c25e9786108b8b70
",git fetch https://review.opendev.org/openstack/rally refs/changes/41/99441/10 && git format-patch -1 --stdout FETCH_HEAD,['rally-scenarios/rally.yaml'],1,e3b3e2907d75c96863b43d82969f0ac62ac1b0c9,fix_quotas, tenants: 5 users_per_tenant: 5 quotas: nova: instances: 200 cores: 200 ram: -1, tenants: 1 users_per_tenant: 1,7,2
openstack%2Ffuel-docs~master~I8271e361807fb6fa9e646c39e7262ffac280393d,openstack/fuel-docs,master,I8271e361807fb6fa9e646c39e7262ffac280393d,Google Analytics replaced by Google Tag Manager,MERGED,2014-06-09 14:05:25.000000000,2014-06-16 11:33:59.000000000,2014-06-13 21:31:02.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 8053}, {'_account_id': 8735}, {'_account_id': 8787}, {'_account_id': 8971}, {'_account_id': 10822}]","[{'number': 1, 'created': '2014-06-09 14:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/6686d21a21453d7ef9eab8b0981c3fb73cd1d2ef', 'message': 'Google Analytics replaced by Google Tag Manager\n\nGoogle Analytics upgraded to Universal Analytics and now used via Google Tag Manager.\n\nChange-Id: I8271e361807fb6fa9e646c39e7262ffac280393d\nCloses-Bug: #1328123\n'}, {'number': 2, 'created': '2014-06-09 16:59:18.000000000', 'files': ['_templates/mirantis/theme.conf', '_templates/mirantis/layout.html'], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/fa2fdfad6d7f63f198fa6a8e14a2af84c494a9b1', 'message': 'Google Analytics replaced by Google Tag Manager\n\nGoogle Analytics upgraded to Universal Analytics and now used via Google Tag Manager. Google Tag parameter set in theme.conf file.\n\nChange-Id: I8271e361807fb6fa9e646c39e7262ffac280393d\nCloses-Bug: #1328123\n'}]",0,98800,fa2fdfad6d7f63f198fa6a8e14a2af84c494a9b1,19,7,2,9977,,,0,"Google Analytics replaced by Google Tag Manager

Google Analytics upgraded to Universal Analytics and now used via Google Tag Manager. Google Tag parameter set in theme.conf file.

Change-Id: I8271e361807fb6fa9e646c39e7262ffac280393d
Closes-Bug: #1328123
",git fetch https://review.opendev.org/openstack/fuel-docs refs/changes/00/98800/1 && git format-patch -1 --stdout FETCH_HEAD,['_templates/mirantis/layout.html'],1,6686d21a21453d7ef9eab8b0981c3fb73cd1d2ef,googletag,"<!-- Google Tag Manager --> <noscript><iframe src=""//www.googletagmanager.com/ns.html?id=GTM-K2J65K"" height=""0"" width=""0"" style=""display:none;visibility:hidden""></iframe></noscript> <script>(function(w,d,s,l,i){wl=wl||[];wl.push( {'gtm.start': new Date().getTime(),event:'gtm.js'} );var f=d.getElementsByTagName(s)0, j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-K2J65K');</script> <!-- End Google Tag Manager -->"," {%- if theme_googleanalytics_id -%} <script type=""text/javascript""> var ga_enabled = !$.cookie('disable-ga'); if(ga_enabled){ var _gaq = _gaq || []; _gaq.push(['_setAccount', '{{ theme_googleanalytics_id }}']); _gaq.push(['_setDomainName', '{{ theme_googleanalytics_domain }}']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); } </script> {%- endif %} {%- if theme_googleanalytics_id -%} <script type=""text/javascript""> if(ga_enabled){ document.write(""<div class=\""footer\"">This page uses <a href=\""http://analytics.google.com\"">Google Analytics</a> to collect statistics. ""); document.write(""Click <button title=\""set cookie to disable analytics for this site\"" class=\""link\"" onclick=\""$.cookie('disable-ga', 'true', {expires: 3650, path: '{{ theme_googleanalytics_path }}'}); window.location.reload(); return false; \"">here</button> to disable analytics for this site.""); document.write(""</div>""); }else{ document.write(""<div class=\""footer\"">Google Analytics has been disabled. ""); document.write(""Click <button title=\""set cookie to re-enable analytics for this site\"" class=\""link\"" onclick=\""$.cookie('disable-ga', null, {path: '{{ theme_googleanalytics_path }}'}); window.location.reload(); return false; \"">here</button> to re-enable analytics for this site.""); }; </script> {%- endif %}",10,29
openstack%2Ffuel-main~master~I245b303f14fd7b0c085ee1e1aa2245d573458501,openstack/fuel-main,master,I245b303f14fd7b0c085ee1e1aa2245d573458501,Make sheet names version-independent,MERGED,2014-05-22 09:46:27.000000000,2014-06-16 11:28:31.000000000,2014-06-16 11:28:31.000000000,"[{'_account_id': 3}, {'_account_id': 8882}, {'_account_id': 8965}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 11110}]","[{'number': 1, 'created': '2014-05-22 09:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/aec2192bc667d405184d33727a3dff5a16e82696', 'message': 'Make sheet names version-independent\n\nAlso add logging and several flake8 fixes.\n\nChange-Id: I245b303f14fd7b0c085ee1e1aa2245d573458501\n'}, {'number': 2, 'created': '2014-05-28 14:08:08.000000000', 'files': ['utils/jenkins/report-exporter/jenkins.py', 'utils/jenkins/report-exporter/spreadsheet.py', 'utils/jenkins/report-exporter/settings.py', 'utils/jenkins/report-exporter/__init__.py', 'utils/jenkins/report-exporter/__main__.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/374ceb9b5ee47b3243b8133c85906cbcbaa63553', 'message': 'Make sheet names version-independent\n\nAlso add logging and several flake8 fixes.\n\nChange-Id: I245b303f14fd7b0c085ee1e1aa2245d573458501\n'}]",2,94807,374ceb9b5ee47b3243b8133c85906cbcbaa63553,26,6,2,9977,,,0,"Make sheet names version-independent

Also add logging and several flake8 fixes.

Change-Id: I245b303f14fd7b0c085ee1e1aa2245d573458501
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/07/94807/1 && git format-patch -1 --stdout FETCH_HEAD,"['utils/jenkins/report-exporter/jenkins.py', 'utils/jenkins/report-exporter/spreadsheet.py', 'utils/jenkins/report-exporter/settings.py', 'utils/jenkins/report-exporter/__init__.py', 'utils/jenkins/report-exporter/__main__.py']",5,aec2192bc667d405184d33727a3dff5a16e82696,reporter,"logger.addHandler(logging.StreamHandler())parser.add_option(""-v"", ""--verbose"", action=""store_true"", dest=""verbose"", default=False, help=""Enable debug output"") if options.verbose: logger.setLevel(logging.DEBUG) build = job.last_finished_build() # Remove leading version-dependent symbols sheet_name = job.name[job.name.index(""system_test.""):] logger.info(""Sheet %s"" % sheet_name) test_report = build.test_report sheet = doc.get_sheet(sheet_name)gd_sheet = filter( lambda e: sheet_name in e.title.text, gd_client.GetWorksheetsFeed(key=options.spreadsheet).entry ).pop() wksht_id=gd_sheet_id) ","build = None # Look for last finished build for b in job.builds: if b.get_data()['building']: logger.info( 'job #{0} is building. Go to previous build'.format(b.number)) continue test_report = b.test_report if test_report is None: raise Exception('Test report has not been found. Job: {0}. ' 'Build #{1}'.format(options.job_name, b.number)) build = b break if build is None: raise Exception('Finished build has not been found. ' 'Job: {0}'.format(options.job_name))sheet = doc.get_sheet(job.name) gd_sheet = filter(lambda e: job.name in e.title.text, gd_client.GetWorksheetsFeed(key=options.spreadsheet).entry).pop() wksht_id=gd_sheet_id)",54,28
openstack%2Ftraining-guides~master~Ib4909d42472e8a60397952d04d88e80f5d9daad1,openstack/training-guides,master,Ib4909d42472e8a60397952d04d88e80f5d9daad1,Vagrantfile: use documented IP addresses,MERGED,2014-06-16 07:01:39.000000000,2014-06-16 11:25:53.000000000,2014-06-16 11:25:53.000000000,"[{'_account_id': 3}, {'_account_id': 6923}, {'_account_id': 7007}]","[{'number': 1, 'created': '2014-06-16 07:01:39.000000000', 'files': ['labs/Vagrantfile'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/5c3c9dcd5692d1c9fa6eca74bb48b21009062667', 'message': 'Vagrantfile: use documented IP addresses\n\nFor the compute and the network nodes, the current Vagrantfile uses IP\naddresses that are different from those in the training-guide.\n\nThis patch fixes that.\n\nPartial-Bug: 1312764\nImplements: blueprint openstack-training-labs\nChange-Id: Ib4909d42472e8a60397952d04d88e80f5d9daad1\n'}]",0,100158,5c3c9dcd5692d1c9fa6eca74bb48b21009062667,7,3,1,11109,,,0,"Vagrantfile: use documented IP addresses

For the compute and the network nodes, the current Vagrantfile uses IP
addresses that are different from those in the training-guide.

This patch fixes that.

Partial-Bug: 1312764
Implements: blueprint openstack-training-labs
Change-Id: Ib4909d42472e8a60397952d04d88e80f5d9daad1
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/58/100158/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/Vagrantfile'],1,5c3c9dcd5692d1c9fa6eca74bb48b21009062667,bug/1312764,"# 'compute' => 52, # 'network' => 53,","# 'compute' => 201, # 'network' => 210,",2,2
openstack%2Fpython-saharaclient~master~I160ee86ea8102e6ce82a9e34e2056a0f1f965d7b,openstack/python-saharaclient,master,I160ee86ea8102e6ce82a9e34e2056a0f1f965d7b,Updated from global requirements,ABANDONED,2014-06-15 19:49:16.000000000,2014-06-16 11:17:39.000000000,,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 7213}]","[{'number': 1, 'created': '2014-06-15 19:49:16.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/e78eb25b00b8d48abcefe9c8f1363adf6461cb2f', 'message': 'Updated from global requirements\n\nChange-Id: I160ee86ea8102e6ce82a9e34e2056a0f1f965d7b\n'}]",0,100108,e78eb25b00b8d48abcefe9c8f1363adf6461cb2f,8,4,1,11131,,,0,"Updated from global requirements

Change-Id: I160ee86ea8102e6ce82a9e34e2056a0f1f965d7b
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/08/100108/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,e78eb25b00b8d48abcefe9c8f1363adf6461cb2f,openstack/requirements,"hacking>=0.9.1,<0.10sphinx>=1.1.2,!=1.2.0,<1.3","hacking>=0.8.0,<0.9sphinx>=1.2.1,<1.3",2,2
openstack%2Fsahara-extra~master~I0112be5d9aa95f21fcf2f1b2bafd325cc39737bc,openstack/sahara-extra,master,I0112be5d9aa95f21fcf2f1b2bafd325cc39737bc,Updated from global requirements,MERGED,2014-06-16 09:53:09.000000000,2014-06-16 11:03:00.000000000,2014-06-16 11:03:00.000000000,"[{'_account_id': 3}, {'_account_id': 6786}]","[{'number': 1, 'created': '2014-06-16 09:53:09.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara-extra/commit/21e037c120c539f311a4e86e0e29545eaca51dea', 'message': 'Updated from global requirements\n\nChange-Id: I0112be5d9aa95f21fcf2f1b2bafd325cc39737bc\n'}]",0,100205,21e037c120c539f311a4e86e0e29545eaca51dea,7,2,1,11131,,,0,"Updated from global requirements

Change-Id: I0112be5d9aa95f21fcf2f1b2bafd325cc39737bc
",git fetch https://review.opendev.org/openstack/sahara-extra refs/changes/05/100205/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,21e037c120c539f311a4e86e0e29545eaca51dea,openstack/requirements,"hacking>=0.9.2,<0.10","hacking>=0.9.1,<0.10",1,1
openstack%2Ffuel-web~master~I3667e74c24472626de81603929a1fc24074c1e71,openstack/fuel-web,master,I3667e74c24472626de81603929a1fc24074c1e71,"Upgrade system: new db migration mechanism, add images types",MERGED,2014-06-10 16:04:46.000000000,2014-06-16 10:55:17.000000000,2014-06-16 10:55:16.000000000,"[{'_account_id': 3}, {'_account_id': 8749}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}]","[{'number': 1, 'created': '2014-06-10 16:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/002ea5779120e4fd2113445dc464412a36073308', 'message': ""Upgrade system: new db migartion mechanism, add images types\n\n* Implemented new database migartion mechanism, we don't use\n  shared volume, we use pg_dumpall to take database from\n  previous container, and then we add it in new container.\n  We assume that db migration applied by puppet when\n  supervisor starts container. As result we removed a lot\n  of hardcoded logic.\n* Added images types, it's important because we have containers\n  like busybox which don't have fuel prefixes and postfixes.\n  In images section of config was added new field `type`\n  which can be `base` or `fuel`. Also we don't need delete\n  `base` when upload new images.\n* Upgrade checker. It's very important part of the system\n  which can tell us if upgrade succeed, now we have simple\n  checks for each service. If verification failed, we run\n  rollback system.\n* Fixed volume_logs container bindings.\n\nblueprint upgrade-to-5-1\nChange-Id: I3667e74c24472626de81603929a1fc24074c1e71\n""}, {'number': 2, 'created': '2014-06-11 12:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/4f8971474abfafb3761f64cd3218664f6906adb9', 'message': ""Upgrade system: new db migration mechanism, add images types\n\n* Implemented new database migartion mechanism, we don't use\n  shared volume, we use pg_dumpall to take database from\n  previous container, and then we add it in new container.\n  We assume that db migration applied by puppet when\n  supervisor starts container. As result we removed a lot\n  of hardcoded logic.\n* Added images types, it's important because we have containers\n  like busybox which don't have fuel prefixes and postfixes.\n  In images section of config was added new field `type`\n  which can be `base` or `fuel`. Also we don't need delete\n  `base` when upload new images.\n* Upgrade checker. It's very important part of the system\n  which can tell us if upgrade succeed, now we have simple\n  checks for each service. If verification failed, we run\n  rollback system.\n* Fixed volume_logs container bindings.\n\nblueprint upgrade-to-5-1\nChange-Id: I3667e74c24472626de81603929a1fc24074c1e71\n""}, {'number': 3, 'created': '2014-06-11 15:09:18.000000000', 'files': ['fuel_upgrade_system/fuel_upgrade/fuel_upgrade/tests/test_utils.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/utils.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/tests/test_checker.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/config.yaml', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/upgrade.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/checker.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/errors.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/tests/test_docker_upgrader.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/tests/test_upgrade_manager.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/09fe0930075110df77ca7541849810e95fe9adb3', 'message': ""Upgrade system: new db migration mechanism, add images types\n\n* Implemented new database migartion mechanism, we don't use\n  shared volume, we use pg_dumpall to take database from\n  previous container, and then we add it in new container.\n  We assume that db migration applied by puppet when\n  supervisor starts container. As result we removed a lot\n  of hardcoded logic.\n* Added images types, it's important because we have containers\n  like busybox which don't have fuel prefixes and postfixes.\n  In images section of config was added new field `type`\n  which can be `base` or `fuel`. Also we don't need delete\n  `base` when upload new images.\n* Upgrade checker. It's very important part of the system\n  which can tell us if upgrade succeed, now we have simple\n  checks for each service. If verification failed, we run\n  rollback system.\n* Fixed volume_logs container bindings.\n\nblueprint upgrade-to-5-1\nChange-Id: I3667e74c24472626de81603929a1fc24074c1e71\n""}]",38,99141,09fe0930075110df77ca7541849810e95fe9adb3,33,6,3,8749,,,0,"Upgrade system: new db migration mechanism, add images types

* Implemented new database migartion mechanism, we don't use
  shared volume, we use pg_dumpall to take database from
  previous container, and then we add it in new container.
  We assume that db migration applied by puppet when
  supervisor starts container. As result we removed a lot
  of hardcoded logic.
* Added images types, it's important because we have containers
  like busybox which don't have fuel prefixes and postfixes.
  In images section of config was added new field `type`
  which can be `base` or `fuel`. Also we don't need delete
  `base` when upload new images.
* Upgrade checker. It's very important part of the system
  which can tell us if upgrade succeed, now we have simple
  checks for each service. If verification failed, we run
  rollback system.
* Fixed volume_logs container bindings.

blueprint upgrade-to-5-1
Change-Id: I3667e74c24472626de81603929a1fc24074c1e71
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/41/99141/3 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_upgrade_system/fuel_upgrade/fuel_upgrade/tests/test_utils.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/utils.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/tests/test_checker.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/config.yaml', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/upgrade.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/checker.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/errors.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/tests/test_docker_upgrader.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/tests/test_upgrade_manager.py']",9,002ea5779120e4fd2113445dc464412a36073308,bp/upgrade-to-5-1,"@mock.patch('fuel_upgrade.upgrade.utils.get_request', return_value=([], 200)) return_value=(tasks, 200)) as get_method_mock: return_value=(tasks, 200)) as get_method_mock:","@mock.patch('fuel_upgrade.upgrade.utils.get_request', return_value=[]) return_value=tasks) as get_method_mock: return_value=tasks) as get_method_mock:",1061,155
openstack%2Fmistral~master~Ie42f23312869ad92f790743a9b4c19675b914560,openstack/mistral,master,Ie42f23312869ad92f790743a9b4c19675b914560,Fix devstack gate,MERGED,2014-06-16 09:25:27.000000000,2014-06-16 10:54:16.000000000,2014-06-16 10:54:16.000000000,"[{'_account_id': 3}, {'_account_id': 4715}, {'_account_id': 7227}, {'_account_id': 7700}, {'_account_id': 8592}, {'_account_id': 8731}, {'_account_id': 9432}]","[{'number': 1, 'created': '2014-06-16 09:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/f0d48f8021307f4a355333c0aff712df73fbe10f', 'message': 'Fix devstack gate\n\nChange-Id: Ie42f23312869ad92f790743a9b4c19675b914560\n'}, {'number': 2, 'created': '2014-06-16 09:26:43.000000000', 'files': ['contrib/devstack/lib/mistral'], 'web_link': 'https://opendev.org/openstack/mistral/commit/eaee1741fadb3a3925c9e46e29a2f848ff974d18', 'message': 'Fix devstack gate\n\nChange-Id: Ie42f23312869ad92f790743a9b4c19675b914560\n'}]",0,100198,eaee1741fadb3a3925c9e46e29a2f848ff974d18,13,7,2,8824,,,0,"Fix devstack gate

Change-Id: Ie42f23312869ad92f790743a9b4c19675b914560
",git fetch https://review.opendev.org/openstack/mistral refs/changes/98/100198/2 && git format-patch -1 --stdout FETCH_HEAD,['contrib/devstack/lib/mistral'],1,f0d48f8021307f4a355333c0aff712df73fbe10f,, voting: false cp $MISTRAL_DIR/etc/mistral.conf.sample $MISTRAL_CONF_FILE, cp $MISTRAL_DIR/etc/mistral.conf.example $MISTRAL_CONF_FILE,2,1
openstack%2Fironic~master~I7a4ff941144a03bd441459561efb68760391da1a,openstack/ironic,master,I7a4ff941144a03bd441459561efb68760391da1a,Let ipmitool natively retry commands,MERGED,2014-05-30 19:02:51.000000000,2014-06-16 10:47:11.000000000,2014-06-16 10:47:11.000000000,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 5805}, {'_account_id': 6449}, {'_account_id': 6773}, {'_account_id': 7080}, {'_account_id': 7589}, {'_account_id': 7711}, {'_account_id': 7882}, {'_account_id': 8106}, {'_account_id': 8125}, {'_account_id': 10343}, {'_account_id': 10373}]","[{'number': 1, 'created': '2014-05-30 19:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/be060116e6f6b9de19c8529a12e68ccf10af9b4f', 'message': 'Add retry delay to ipmitool commands\n\nAdd a configurable retry interal to ipmitool commands issued by the\nIPMITool Power driver.\n\nAdds a new CONF option for retry_interval, which is used to calculate\nthe total number of retries based on the retry_timeout option.\n\nChange-Id: I7a4ff941144a03bd441459561efb68760391da1a\nPartial-bug: #1320513\n'}, {'number': 2, 'created': '2014-05-30 20:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7de49d55f0dd0cca92b2f0768fece35111bfd86e', 'message': ""Let ipmitool natively retry commands\n\nInstead of calling ipmitool multiple times on failure via\n  utils.execute(*args, attempts=3)\nallow ipmitool to use its own native retry behavior with -N.. -R..\n\nThis patch adds a configurable min time between retries, which is used,\nin conjunction with the ipmi retry time, to determine these option's\nvalues. It will be further leveraged in a subsequent patch as well.\n\nChange-Id: I7a4ff941144a03bd441459561efb68760391da1a\nPartial-bug: #1320513\n""}, {'number': 3, 'created': '2014-05-30 22:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/beb5613152092f0d50fba73dd8045c58728c6c28', 'message': ""Let ipmitool natively retry commands\n\nInstead of calling ipmitool multiple times on failure via\n  utils.execute(*args, attempts=3)\nallow ipmitool to use its own native retry behavior with -N.. -R..\n\nThis patch adds a configurable min time between retries, which is used,\nin conjunction with the ipmi retry time, to determine these option's\nvalues. It will be further leveraged in a subsequent patch as well.\n\nChange-Id: I7a4ff941144a03bd441459561efb68760391da1a\nPartial-bug: #1320513\n""}, {'number': 4, 'created': '2014-05-30 22:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d072c7a9967c4817f767bb4ad71fd13ed2b69eac', 'message': ""Let ipmitool natively retry commands\n\nInstead of calling ipmitool multiple times on failure via\n  utils.execute(*args, attempts=3)\nallow ipmitool to use its own native retry behavior with -N.. -R..\n\nThis patch adds a configurable min time between retries, which is used,\nin conjunction with the ipmi retry time, to determine these option's\nvalues. It will be further leveraged in a subsequent patch as well.\n\nIt also adds a note in the deployer docs about known issues with\nthe openipmi project.\n\nChange-Id: I7a4ff941144a03bd441459561efb68760391da1a\nPartial-bug: #1320513\n""}, {'number': 5, 'created': '2014-06-02 17:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/72fff6cb98d2f546aad7a26920e294415d5bc1dd', 'message': ""Let ipmitool natively retry commands\n\nInstead of calling ipmitool multiple times on failure via\n  utils.execute(*args, attempts=3)\nallow ipmitool to use its own native retry behavior with -N.. -R..\n\nThis patch adds a configurable min time between retries, which is used,\nin conjunction with the ipmi retry time, to determine these option's\nvalues. It will be further leveraged in a subsequent patch as well.\n\nIt also adds a note in the deployer docs about known issues with\nthe openipmi project.\n\nChange-Id: I7a4ff941144a03bd441459561efb68760391da1a\nPartial-bug: #1320513\n""}, {'number': 6, 'created': '2014-06-04 20:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d65d5f41a8c43eb04978d46b926b3fc87fa83d5b', 'message': ""Let ipmitool natively retry commands\n\nInstead of calling ipmitool multiple times on failure via\n  utils.execute(*args, attempts=3)\nallow ipmitool to use its own native retry behavior with -N.. -R..\nif those options are supported by the installed version of ipmitool.\nThis will fall back to a single run of ipmitool on older versions,\nwhich should be fine -- it defaults to retry several times anyway.\n\nThis patch adds a configurable min time between retries, which is used,\nin conjunction with the ipmi retry time, to determine these option's\nvalues. It will be further leveraged in a subsequent patch as well.\n\nIt also adds a note in the deployer docs about known issues with\nthe openipmi project.\n\nLastly, since this patch is checking for the version of ipmitool\ninstalled on a system, it will raise a DriverLoadError if it is unable\nto find ipmitool in the system path.\n\nChange-Id: I7a4ff941144a03bd441459561efb68760391da1a\nPartial-bug: #1320513\n""}, {'number': 7, 'created': '2014-06-04 21:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5aad192aa0bdbfce22badb23b723d3b36d0e2a3b', 'message': ""Let ipmitool natively retry commands\n\nInstead of calling ipmitool multiple times on failure via\n  utils.execute(*args, attempts=3)\nallow ipmitool to use its own native retry behavior with -N.. -R..\nif those options are supported by the installed version of ipmitool.\nThis will fall back to a single run of ipmitool on older versions,\nwhich should be fine -- it defaults to retry several times anyway.\n\nThis patch adds a configurable min time between retries, which is used,\nin conjunction with the ipmi retry time, to determine these option's\nvalues. It will be further leveraged in a subsequent patch as well.\n\nIt also adds a note in the deployer docs about known issues with\nthe openipmi project.\n\nLastly, since this patch is checking for the version of ipmitool\ninstalled on a system, it will raise a DriverLoadError if it is unable\nto find ipmitool in the system path.\n\nChange-Id: I7a4ff941144a03bd441459561efb68760391da1a\nPartial-bug: #1320513\n""}, {'number': 8, 'created': '2014-06-06 16:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ae48dce5021bac21ec6acae066a6ca85250eccf8', 'message': ""Let ipmitool natively retry commands\n\nInstead of calling ipmitool multiple times on failure via\n  utils.execute(*args, attempts=3)\nallow ipmitool to use its own native retry behavior with -N.. -R..\nif those options are supported by the installed version of ipmitool.\nThis will fall back to a single run of ipmitool on older versions,\nwhich should be fine -- it defaults to retry several times anyway.\n\nThis patch adds a configurable min time between retries, which is used,\nin conjunction with the ipmi retry time, to determine these option's\nvalues. It will be further leveraged in a subsequent patch as well.\n\nIt also adds a note in the deployer docs about known issues with\nthe openipmi project.\n\nLastly, since this patch is checking for the version of ipmitool\ninstalled on a system, it will raise a DriverLoadError if it is unable\nto find ipmitool in the system path.\n\nChange-Id: I7a4ff941144a03bd441459561efb68760391da1a\nPartial-bug: #1320513\n""}, {'number': 9, 'created': '2014-06-11 00:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/defcd60ea6e01b0b1b6537d47abba197511a19ac', 'message': ""Let ipmitool natively retry commands\n\nInstead of calling ipmitool multiple times on failure via\n  utils.execute(*args, attempts=3)\nallow ipmitool to use its own native retry behavior with -N.. -R..\nif those options are supported by the installed version of ipmitool.\nThis will fall back to a single run of ipmitool on older versions,\nwhich should be fine -- it defaults to retry several times anyway.\n\nThis patch adds a configurable min time between retries, which is used,\nin conjunction with the ipmi retry time, to determine these option's\nvalues. It will be further leveraged in a subsequent patch as well.\n\nIt also adds a note in the deployer docs about known issues with\nthe openipmi project.\n\nLastly, since this patch is checking for the support of the -N and -R\noptions of the ipmitool installed on a system, it will raise a\nDriverLoadError if it is unable to find ipmitool in the system path.\n\nChange-Id: I7a4ff941144a03bd441459561efb68760391da1a\nPartial-bug: #1320513\n""}, {'number': 10, 'created': '2014-06-11 14:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6589938ded23fc45809af9d79114997535659617', 'message': ""Let ipmitool natively retry commands\n\nInstead of calling ipmitool multiple times on failure via\n  utils.execute(*args, attempts=3)\nallow ipmitool to use its own native retry behavior with -N.. -R..\nif those options are supported by the installed version of ipmitool.\nThis will fall back to a single run of ipmitool on older versions,\nwhich should be fine -- it defaults to retry several times anyway.\n\nThis patch adds a configurable min time between retries, which is used,\nin conjunction with the ipmi retry time, to determine these option's\nvalues. It will be further leveraged in a subsequent patch as well.\n\nIt also adds a note in the deployer docs about known issues with\nthe openipmi project.\n\nLastly, since this patch is checking for the support of the -N and -R\noptions of the ipmitool installed on a system, it will raise a\nDriverLoadError if it is unable to find ipmitool in the system path.\n\nChange-Id: I7a4ff941144a03bd441459561efb68760391da1a\nPartial-bug: #1320513\n""}, {'number': 11, 'created': '2014-06-11 15:39:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5d17ff4853defc3c25e15e21ea137fd813dc2ce1', 'message': ""Let ipmitool natively retry commands\n\nInstead of calling ipmitool multiple times on failure via\n  utils.execute(*args, attempts=3)\nallow ipmitool to use its own native retry behavior with -N.. -R..\nif those options are supported by the installed version of ipmitool.\nThis will fall back to a single run of ipmitool on older versions,\nwhich should be fine -- it defaults to retry several times anyway.\n\nThis patch adds a configurable min time between retries, which is used,\nin conjunction with the ipmi retry time, to determine these option's\nvalues. It will be further leveraged in a subsequent patch as well.\n\nIt also adds a note in the deployer docs about known issues with\nthe openipmi project.\n\nLastly, since this patch is checking for the support of the -N and -R\noptions of the ipmitool installed on a system, it will raise a\nDriverLoadError if it is unable to find ipmitool in the system path.\n\nChange-Id: I7a4ff941144a03bd441459561efb68760391da1a\nPartial-bug: #1320513\n""}, {'number': 12, 'created': '2014-06-11 22:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ab00e8297305bbc9af28a41b6f65f10cabdef3c3', 'message': ""Let ipmitool natively retry commands\n\nInstead of calling ipmitool multiple times on failure via\n  utils.execute(*args, attempts=3)\nallow ipmitool to use its own native retry behavior with -N.. -R..\nif those options are supported by the installed version of ipmitool.\nThis will fall back to a single run of ipmitool on older versions,\nwhich should be fine -- it defaults to retry several times anyway.\n\nThis patch adds a configurable min time between retries, which is used,\nin conjunction with the ipmi retry time, to determine these option's\nvalues. It will be further leveraged in a subsequent patch as well.\n\nIt also adds a note in the deployer docs about known issues with\nthe openipmi project.\n\nLastly, since this patch is checking for the support of the -N and -R\noptions of the ipmitool installed on a system, it will raise a\nDriverLoadError if it is unable to find ipmitool in the system path.\n\nChange-Id: I7a4ff941144a03bd441459561efb68760391da1a\nPartial-bug: #1320513\n""}, {'number': 13, 'created': '2014-06-12 13:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ef94c6e5c02391a3038d2cf4708944a9fbd1fe21', 'message': ""Let ipmitool natively retry commands\n\nInstead of calling ipmitool multiple times on failure via\n  utils.execute(*args, attempts=3)\nallow ipmitool to use its own native retry behavior with -N.. -R..\nif those options are supported by the installed version of ipmitool.\nThis will fall back to a single run of ipmitool on older versions,\nwhich should be fine -- it defaults to retry several times anyway.\n\nThis patch adds a configurable min time between retries, which is used,\nin conjunction with the ipmi retry time, to determine these option's\nvalues. It will be further leveraged in a subsequent patch as well.\n\nIt also adds a note in the deployer docs about known issues with\nthe openipmi project.\n\nLastly, since this patch is checking for the support of the -N and -R\noptions of the ipmitool installed on a system, it will raise a\nDriverLoadError if it is unable to find ipmitool in the system path.\n\nChange-Id: I7a4ff941144a03bd441459561efb68760391da1a\nPartial-bug: #1320513\n""}, {'number': 14, 'created': '2014-06-13 18:02:02.000000000', 'files': ['ironic/tests/drivers/test_ipmitool.py', 'etc/ironic/ironic.conf.sample', 'ironic/tests/drivers/third_party_driver_mocks.py', 'doc/source/deploy/install-guide.rst', 'ironic/drivers/modules/ipmitool.py', 'ironic/drivers/modules/ipminative.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/12ef2bc621f6c713524d54a157bc3fe216b04977', 'message': ""Let ipmitool natively retry commands\n\nInstead of calling ipmitool multiple times on failure via\n  utils.execute(*args, attempts=3)\nallow ipmitool to use its own native retry behavior with -N.. -R..\nif those options are supported by the installed version of ipmitool.\nThis will fall back to a single run of ipmitool on older versions,\nwhich should be fine -- it defaults to retry several times anyway.\n\nThis patch adds a configurable min time between retries, which is used,\nin conjunction with the ipmi retry time, to determine these option's\nvalues. It will be further leveraged in a subsequent patch as well.\n\nIt also adds a note in the deployer docs about known issues with\nthe openipmi project.\n\nChange-Id: I7a4ff941144a03bd441459561efb68760391da1a\nPartial-bug: #1320513\n""}]",36,96902,12ef2bc621f6c713524d54a157bc3fe216b04977,114,13,14,2889,,,0,"Let ipmitool natively retry commands

Instead of calling ipmitool multiple times on failure via
  utils.execute(*args, attempts=3)
allow ipmitool to use its own native retry behavior with -N.. -R..
if those options are supported by the installed version of ipmitool.
This will fall back to a single run of ipmitool on older versions,
which should be fine -- it defaults to retry several times anyway.

This patch adds a configurable min time between retries, which is used,
in conjunction with the ipmi retry time, to determine these option's
values. It will be further leveraged in a subsequent patch as well.

It also adds a note in the deployer docs about known issues with
the openipmi project.

Change-Id: I7a4ff941144a03bd441459561efb68760391da1a
Partial-bug: #1320513
",git fetch https://review.opendev.org/openstack/ironic refs/changes/02/96902/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/ironic/ironic.conf.sample', 'ironic/drivers/modules/ipmitool.py', 'ironic/drivers/modules/ipminative.py']",3,be060116e6f6b9de19c8529a12e68ccf10af9b4f,bug/1320513," cfg.IntOpt('retry_interval', default=5, help='Number of seconds between retries of IPMI operations.'),",,18,0
openstack%2Fmagnetodb~master~I250a1b6fa8027d2f51328c6b5d5f047f7badf26f,openstack/magnetodb,master,I250a1b6fa8027d2f51328c6b5d5f047f7badf26f,Delete obsolete tests,ABANDONED,2014-06-13 15:50:54.000000000,2014-06-16 10:31:50.000000000,,"[{'_account_id': 3}, {'_account_id': 8491}, {'_account_id': 8601}, {'_account_id': 11006}]","[{'number': 1, 'created': '2014-06-13 15:50:54.000000000', 'files': ['magnetodb/tests/storage/test_cassandra_impl.py', 'magnetodb/tests/storage/__init__.py'], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/dcb7f87e8ebe5881e223eaa12791176b087b2d20', 'message': 'Delete obsolete tests\n\nDelete outdated intergation tests for\nC* storage backend\n\nChange-Id: I250a1b6fa8027d2f51328c6b5d5f047f7badf26f\n'}]",0,99958,dcb7f87e8ebe5881e223eaa12791176b087b2d20,9,4,1,8491,,,0,"Delete obsolete tests

Delete outdated intergation tests for
C* storage backend

Change-Id: I250a1b6fa8027d2f51328c6b5d5f047f7badf26f
",git fetch https://review.opendev.org/openstack/magnetodb refs/changes/58/99958/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnetodb/tests/storage/test_cassandra_impl.py', 'magnetodb/tests/storage/__init__.py']",2,dcb7f87e8ebe5881e223eaa12791176b087b2d20,remove-obsolete-integral-tests,,,0,2528
openstack%2Ffuel-web~master~Iaed70ee002916858a52e34f05c8485841ae05737,openstack/fuel-web,master,Iaed70ee002916858a52e34f05c8485841ae05737,Patching of OpenStack,MERGED,2014-04-28 20:01:23.000000000,2014-06-16 10:11:12.000000000,2014-06-06 12:12:23.000000000,"[{'_account_id': 3}, {'_account_id': 8053}, {'_account_id': 8392}, {'_account_id': 8749}, {'_account_id': 8907}, {'_account_id': 8935}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}, {'_account_id': 11082}]","[{'number': 14, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ffc36c5c88bc5e65d6019545029ae9f3b0faea0d', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 12, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/c56fe112a99540f426e881937e538c7f03615d86', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 13, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/b4bddbd3c0d37fcc8d9f2b8b270db3099226bc55', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 10, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/1e82efcea6090ea6930a239226410de297892255', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 11, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/72e44839dc17be82fcc71803f7dab0791d591e56', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 8, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ad5d3a4e654aab98e653c54d93f2143949245cf6', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 9, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/11a94743e3cb0fa563bc664ed78af486e5551d5e', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 6, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/fb6aeb8e84c1141d0f416ced813597206bf371f1', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 7, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/acbe235ae0d9c6e7f19c23f71978632d9225a597', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 4, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ed19388858045a1550063f23ed8c787ea6b58842', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 5, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7653cfa7cad41aa7069ddd882a8f3a231925e127', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 2, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/a4ecd708c265492c780a45b4739e955b738c1612', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 3, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/1862e82876e9ad7b76804e0160ad2106aaf1144c', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 1, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/dac3cb93c81440afdcb73590e92d5834d5918a4d', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 15, 'created': '2014-05-06 14:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/12686b916d9c698f1c53d9f82bfedb5a3bfc659e', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 16, 'created': '2014-05-06 14:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/f5b8ff3518c6677c6d3e407162f7d34d2d6357d0', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 17, 'created': '2014-05-07 09:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ea5abc88f124b196ebf261a0b15aaddaa0654948', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 18, 'created': '2014-05-08 09:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/862bcde861369e578bf2a57524d27cb7c48171f3', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 19, 'created': '2014-05-12 08:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/09a3d8e200cf0b3d8739126fbe4c02c46eefcac7', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 20, 'created': '2014-05-14 08:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/a57c74f484a1f9ec6829350caab233241abec5f2', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 21, 'created': '2014-05-20 08:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/0126b52e0751aed9117cbcf6d26df6c4a6c1b7c6', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 22, 'created': '2014-05-27 13:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ac0b2a7ea9518693606d2425224711439b3d458a', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 23, 'created': '2014-05-28 12:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/bd79c6baca531e7564a95b94d837bae7a60bf44d', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 24, 'created': '2014-05-30 09:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/974e5b0709cf7628829286f5e7c9395043daf3f8', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 25, 'created': '2014-05-30 12:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/9f4434c65db3ed65b31f1282a45cd4e2421a2965', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 26, 'created': '2014-05-30 14:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ffecd39dac88620adeca425c28cf5e45b3924e4a', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 27, 'created': '2014-06-02 17:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/6fcd5bb6bc4e834fc5d452699465f3e3beaae004', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 28, 'created': '2014-06-03 15:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/e54dd56ad73eb981274642397f626ac5b9fdfe32', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}, {'number': 29, 'created': '2014-06-05 14:36:11.000000000', 'files': ['nailgun/nailgun/db/sqlalchemy/models/release.py', 'nailgun/nailgun/api/v1/handlers/cluster.py', 'nailgun/nailgun/task/helpers.py', 'nailgun/nailgun/orchestrator/deployment_serializers.py', 'nailgun/nailgun/fixtures/openstack.yaml', 'nailgun/nailgun/test/integration/test_rpc_consumer.py', 'nailgun/nailgun/consts.py', 'nailgun/nailgun/api/v1/urls.py', 'nailgun/nailgun/api/v1/validators/notification.py', 'nailgun/nailgun/task/manager.py', 'nailgun/nailgun/task/task.py', 'nailgun/nailgun/objects/serializers/cluster.py', 'nailgun/nailgun/api/v1/validators/cluster.py', 'nailgun/nailgun/errors/__init__.py', 'nailgun/nailgun/objects/serializers/release.py', 'nailgun/nailgun/objects/node.py', 'nailgun/nailgun/rpc/receiver.py', 'nailgun/nailgun/objects/release.py', 'nailgun/nailgun/db/sqlalchemy/models/cluster.py', 'nailgun/nailgun/db/migration/alembic_migrations/versions/fuel_5_0_1.py', 'nailgun/nailgun/test/integration/test_put_same_json.py', 'nailgun/nailgun/objects/notification.py', 'nailgun/nailgun/objects/cluster.py', 'nailgun/nailgun/utils/migration.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/88aad909892c30bc990073e2496168f07017e768', 'message': 'Patching of OpenStack\n\nImplements: blueprint openstack-patching-nailgun-part\n\nChange-Id: Iaed70ee002916858a52e34f05c8485841ae05737\n'}]",87,86275,88aad909892c30bc990073e2496168f07017e768,223,10,29,8392,,,0,"Patching of OpenStack

Implements: blueprint openstack-patching-nailgun-part

Change-Id: Iaed70ee002916858a52e34f05c8485841ae05737
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/75/86275/14 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/db/sqlalchemy/models/release.py', 'nailgun/nailgun/task/helpers.py', 'nailgun/nailgun/orchestrator/deployment_serializers.py', 'nailgun/nailgun/fixtures/openstack.yaml', 'nailgun/nailgun/api/validators/notification.py', 'nailgun/nailgun/consts.py', 'nailgun/nailgun/db/migration/alembic_migrations/versions/current.py', 'nailgun/nailgun/api/urls/v1.py', 'nailgun/nailgun/task/manager.py', 'nailgun/nailgun/test/integration/test_cluster_collection_handlers.py', 'nailgun/nailgun/task/task.py', 'nailgun/nailgun/errors/__init__.py', 'nailgun/nailgun/test/base.py', 'nailgun/nailgun/test/unit/test_release_collection_handlers.py', 'nailgun/nailgun/db/migration/alembic_migrations/versions/596b7e3f2b11_patch_openstack.py', 'nailgun/nailgun/api/serializers/release.py', 'nailgun/nailgun/objects/node.py', 'nailgun/nailgun/api/validators/release.py', 'nailgun/nailgun/rpc/receiver.py', 'nailgun/nailgun/test/integration/test_cluster_changes_handler.py', 'nailgun/nailgun/test/unit/test_release_handler.py', 'nailgun/nailgun/objects/release.py', 'nailgun/nailgun/db/sqlalchemy/models/cluster.py', 'nailgun/nailgun/api/serializers/cluster.py', 'fuelclient/fuelclient/cli/actions/release.py', 'nailgun/nailgun/api/validators/cluster.py', 'nailgun/nailgun/objects/notification.py', 'nailgun/nailgun/test/unit/test_logs_handlers.py', 'nailgun/nailgun/objects/cluster.py', 'nailgun/nailgun/test/integration/test_fixture_uploading.py', 'nailgun/nailgun/api/handlers/cluster.py']",31,ffc36c5c88bc5e65d6019545029ae9f3b0faea0d,bp/openstack-patching-nailgun-part,"from nailgun.task.manager import UpdateEnvironmentTaskManagerclass ClusterUpdateHandler(DeferredTaskHandler): log_message = u""Trying to update environment '{env_id}'"" log_error = u""Error during execution of update task "" \ u""on environment '{env_id}': {error}"" task_manager = UpdateEnvironmentTaskManager ",,534,115
openstack%2Fos-cloud-config~master~I5b46051ed246438c9ba2543c92fb1e712963a940,openstack/os-cloud-config,master,I5b46051ed246438c9ba2543c92fb1e712963a940,More documentation fixes,MERGED,2014-06-12 05:53:53.000000000,2014-06-16 10:10:09.000000000,2014-06-16 10:10:09.000000000,"[{'_account_id': 3}, {'_account_id': 4190}, {'_account_id': 8042}, {'_account_id': 9369}]","[{'number': 1, 'created': '2014-06-12 05:53:53.000000000', 'files': ['doc/source/contributing.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-cloud-config/commit/ae2645826ff1cb001924d2216469c5203525e157', 'message': 'More documentation fixes\n\nAdd a title to contributing.rst to silence a docs build warning,\nand make it easier (as well as matching other projects) by adding\na docs tox environment.\n\nChange-Id: I5b46051ed246438c9ba2543c92fb1e712963a940\n'}]",0,99570,ae2645826ff1cb001924d2216469c5203525e157,15,4,1,9369,,,0,"More documentation fixes

Add a title to contributing.rst to silence a docs build warning,
and make it easier (as well as matching other projects) by adding
a docs tox environment.

Change-Id: I5b46051ed246438c9ba2543c92fb1e712963a940
",git fetch https://review.opendev.org/openstack/os-cloud-config refs/changes/70/99570/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributing.rst', 'tox.ini']",2,ae2645826ff1cb001924d2216469c5203525e157,moar-doc-fixes,[testenv:docs] commands = python setup.py build_sphinx ,,7,1
openstack%2Ffuel-web~master~Idff49dd7e01a159f4d5c4f4208aadf1894346b8e,openstack/fuel-web,master,Idff49dd7e01a159f4d5c4f4208aadf1894346b8e,Fix for deadlocks in stop_deployment task,MERGED,2014-05-20 14:09:53.000000000,2014-06-16 10:04:45.000000000,2014-06-16 10:04:44.000000000,"[{'_account_id': 3}, {'_account_id': 8053}, {'_account_id': 8392}, {'_account_id': 8749}, {'_account_id': 8907}, {'_account_id': 8930}, {'_account_id': 8931}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}]","[{'number': 1, 'created': '2014-05-20 14:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/4fed42cbc83c649a6cefb9d8c964e4a300f0475a', 'message': 'Fix for deadlocks in stop_deployment task\n\nNailgun base object:\n- order_by parameter added to filter_by parameters\n- get_by_id_lists renamed to filter_by_id_list\n- filtering by param logic extracted to method\n- filter_by_name method added\n\nNailgun Node object:\n- swap roles method added\n\nRpc receiver:\n- stop_deployment task refactored to nailgun objects\n- queries with locking used in stop_deployment\n\nChange-Id: Idff49dd7e01a159f4d5c4f4208aadf1894346b8e\nCloses-Bug: #1321302\n'}, {'number': 2, 'created': '2014-05-21 05:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/2809b2466a014b2414da447c0325b013c7065131', 'message': 'Fix for deadlocks in stop_deployment task\n\nNailgun base object:\n- order_by parameter added to filter_by parameters\n- get_by_id_lists renamed to filter_by_id_list\n- filtering by param logic extracted to method\n- filter_by_name method added\n\nNailgun Node object:\n- swap roles method added\n\nRpc receiver:\n- stop_deployment task refactored to nailgun objects\n- queries with locking and ordering used in stop_deployment\n- ordering added into locking queries in deploy_resp\n\nChange-Id: Idff49dd7e01a159f4d5c4f4208aadf1894346b8e\nCloses-Bug: #1321302\n'}, {'number': 3, 'created': '2014-05-23 14:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/d65fe91273856bdadc3922f16544699fd28984c9', 'message': 'Fix for deadlocks in stop_deployment task\n\nNailgun base object:\n- order_by parameter added to filter_by parameters\n- get_by_id_lists renamed to filter_by_id_list\n- filtering by param logic extracted to method\n- filter_by_name method added\n\nNailgun Node object:\n- swap roles method added\n\nRpc receiver:\n- stop_deployment task refactored to nailgun objects\n- queries with locking and ordering used in stop_deployment\n- ordering added into locking queries in deploy_resp\n- fetched from db nodes used in deploy_resp\n\nChange-Id: Idff49dd7e01a159f4d5c4f4208aadf1894346b8e\nCloses-Bug: #1321302\n'}, {'number': 4, 'created': '2014-05-26 11:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/4a4411af1314402b075f186b62add3081993a7f9', 'message': 'Fix for deadlocks in stop_deployment task\n\nNailgun base object:\n- order_by parameter added to filter_by parameters\n- get_by_id_lists renamed to filter_by_id_list\n- filtering by param logic extracted to method\n- filter_by_name method added\n\nNailgun Node object:\n- move_roles_to_pending_roles method added\n\nRpc receiver:\n- stop_deployment task refactored to nailgun objects\n- queries with locking and ordering used in stop_deployment\n- ordering added into locking queries in deploy_resp\n- fetched from db nodes used in deploy_resp\n\nChange-Id: Idff49dd7e01a159f4d5c4f4208aadf1894346b8e\nCloses-Bug: #1321302\n'}, {'number': 5, 'created': '2014-05-26 13:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/75bda965d6f411016d482e2a48fd8332a7788c4a', 'message': 'Fix for deadlocks in stop_deployment task\n\nNailgun base object:\n- order_by parameter added to filter_by parameters\n- get_by_id_lists renamed to filter_by_id_list\n- filtering by param logic extracted to method\n- filter_by_name method added\n\nNailgun Node object:\n- move_roles_to_pending_roles method added\n\nRpc receiver:\n- stop_deployment task refactored to nailgun objects\n- queries with locking and ordering used in stop_deployment\n- ordering added into locking queries in deploy_resp\n- fetched from db nodes used in deploy_resp\n\nChange-Id: Idff49dd7e01a159f4d5c4f4208aadf1894346b8e\nCloses-Bug: #1321302\n'}, {'number': 6, 'created': '2014-05-27 09:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/df45397e7dec3d06a7ee78f43faa431984f08780', 'message': 'Fix for deadlocks in stop_deployment task\n\nNailgun base object:\n- order_by parameter added to filter_by parameters\n- get_by_id_lists renamed to filter_by_id_list\n- filtering by param logic extracted to method\n- filter_by_name method added\n\nNailgun Node object:\n- move_roles_to_pending_roles method added\n\nRpc receiver:\n- stop_deployment task refactored to nailgun objects\n- queries with locking and ordering used in stop_deployment\n- ordering added into locking queries in deploy_resp\n- fetched from db nodes used in deploy_resp\n\nChange-Id: Idff49dd7e01a159f4d5c4f4208aadf1894346b8e\nCloses-Bug: #1321302\n'}, {'number': 7, 'created': '2014-05-27 10:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/1868e2078586dddb2b7b425a12b1317142a6e8dc', 'message': 'Fix for deadlocks in stop_deployment task\n\nNailgun base object:\n- order_by parameter added to filter_by parameters\n- get_by_id_lists renamed to filter_by_id_list\n- filtering by param logic extracted to method\n- filter_by_name method added\n\nNailgun Node object:\n- move_roles_to_pending_roles method added\n\nRpc receiver:\n- stop_deployment task refactored to nailgun objects\n- queries with locking and ordering used in stop_deployment\n- ordering added into locking queries in deploy_resp\n- fetched from db nodes used in deploy_resp\n\nChange-Id: Idff49dd7e01a159f4d5c4f4208aadf1894346b8e\nCloses-Bug: #1321302\n'}, {'number': 8, 'created': '2014-05-27 10:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/254b9cffd836872f00226a3809662064457f3d6a', 'message': 'Fix for deadlocks in stop_deployment task\n\nNailgun base object:\n- order_by parameter added to filter_by parameters\n- get_by_id_lists renamed to filter_by_id_list\n- filtering by param logic extracted to method\n- filter_by_name method added\n\nNailgun Node object:\n- move_roles_to_pending_roles method added\n\nRpc receiver:\n- stop_deployment task refactored to nailgun objects\n- queries with locking and ordering used in stop_deployment\n- ordering added into locking queries in deploy_resp\n- fetched from db nodes used in deploy_resp \n\nChange-Id: Idff49dd7e01a159f4d5c4f4208aadf1894346b8e\nCloses-Bug: #1321302\n'}, {'number': 9, 'created': '2014-05-27 15:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/fafa8729bdf594081e131a944b0cc2e7e0c8889f', 'message': 'Fix for deadlocks in stop_deployment task\n\nNailgun base object:\n- order_by parameter added to filter_by parameters\n- get_by_id_lists renamed to filter_by_id_list\n- filtering by param logic extracted to method\n- filter_by_name method added\n\nNailgun Node object:\n- move_roles_to_pending_roles method added\n\nRpc receiver:\n- stop_deployment task refactored to nailgun objects\n- queries with locking and ordering used in stop_deployment\n- ordering added into locking queries in deploy_resp\n- fetched from db nodes used in deploy_resp\n\nChange-Id: Idff49dd7e01a159f4d5c4f4208aadf1894346b8e\nCloses-Bug: #1321302\n'}, {'number': 10, 'created': '2014-05-28 11:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/b2114ab40a3ade6dbceb1e2f59319979653a4c31', 'message': 'Fix for deadlocks in stop_deployment task\n\nNailgun base object:\n- order_by parameter added to filter_by parameters\n- get_by_id_lists renamed to filter_by_id_list\n- filtering by param logic extracted to method\n- filter_by_name method added\n\nNailgun Node object:\n- move_roles_to_pending_roles method added\n\nRpc receiver:\n- stop_deployment task refactored to nailgun objects\n- queries with locking and ordering used in stop_deployment\n- ordering added into locking queries in deploy_resp\n- fetched from db nodes used in deploy_resp\n\nChange-Id: Idff49dd7e01a159f4d5c4f4208aadf1894346b8e\nCloses-Bug: #1321302\n'}, {'number': 11, 'created': '2014-06-04 12:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/74a1e492269b7b27bf35af16a5603afc0b9587a7', 'message': 'Fix for deadlocks in stop_deployment task\n\nNailgun base object:\n- order_by method added into NailgunCollection\n- get_by_id_lists renamed to filter_by_id_list\n- filtering by param logic extracted to method\n- filter_by_name method added\n\nNailgun Node object:\n- move_roles_to_pending_roles method added\n\nRpc receiver:\n- stop_deployment task refactored to nailgun objects\n- queries with locking and ordering used in stop_deployment\n- ordering added into locking queries in deploy_resp\n- fetched from db nodes used in deploy_resp\n\nChange-Id: Idff49dd7e01a159f4d5c4f4208aadf1894346b8e\nCloses-Bug: #1321302\n'}, {'number': 12, 'created': '2014-06-10 14:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/226a38435805dd4cd81afd812ea49dc92bb9cb74', 'message': 'Fix for deadlocks in stop_deployment task\n\nNailgun base object:\n- order_by method added into NailgunCollection\n- get_by_id_lists renamed to filter_by_id_list\n- filtering by param logic extracted to method\n- filter_by_name method added\n\nNailgun Node object:\n- move_roles_to_pending_roles method added\n\nRpc receiver:\n- stop_deployment task refactored to nailgun objects\n- queries with locking and ordering used in stop_deployment\n- ordering added into locking queries in deploy_resp\n- fetched from db nodes used in deploy_resp\n\nChange-Id: Idff49dd7e01a159f4d5c4f4208aadf1894346b8e\nCloses-Bug: #1321302\n'}, {'number': 13, 'created': '2014-06-11 12:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/728e09006545b197cab96e6896f5a3f62a60e049', 'message': 'Fix for deadlocks in stop_deployment task\n\nNailgun base object:\n- order_by method added into NailgunCollection\n- get_by_id_lists renamed to filter_by_id_list\n- filtering by param logic extracted to method\n- filter_by_name method added\n\nNailgun Node object:\n- move_roles_to_pending_roles method added\n\nRpc receiver:\n- stop_deployment task refactored to nailgun objects\n- queries with locking and ordering used in stop_deployment\n- ordering added into locking queries in deploy_resp\n- fetched from db nodes used in deploy_resp\n\nChange-Id: Idff49dd7e01a159f4d5c4f4208aadf1894346b8e\nCloses-Bug: #1321302\n'}, {'number': 14, 'created': '2014-06-16 06:03:12.000000000', 'files': ['nailgun/nailgun/api/v1/handlers/node.py', 'nailgun/nailgun/objects/node.py', 'nailgun/nailgun/rpc/receiver.py', 'nailgun/nailgun/objects/base.py', 'nailgun/nailgun/test/unit/test_objects.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7bf1a6296d442032f12d5d7d6c9c053f5800f56e', 'message': 'Fix for deadlocks in stop_deployment task\n\nNailgun base object:\n- order_by method added into NailgunCollection\n- get_by_id_lists renamed to filter_by_id_list\n- filtering by param logic extracted to method\n- filter_by_name method added\n\nNailgun Node object:\n- move_roles_to_pending_roles method added\n\nRpc receiver:\n- stop_deployment task refactored to nailgun objects\n- queries with locking and ordering used in stop_deployment\n- ordering added into locking queries in deploy_resp\n- fetched from db nodes used in deploy_resp \n\nChange-Id: Idff49dd7e01a159f4d5c4f4208aadf1894346b8e\nCloses-Bug: #1321302\n'}]",57,94372,7bf1a6296d442032f12d5d7d6c9c053f5800f56e,128,10,14,10959,,,0,"Fix for deadlocks in stop_deployment task

Nailgun base object:
- order_by method added into NailgunCollection
- get_by_id_lists renamed to filter_by_id_list
- filtering by param logic extracted to method
- filter_by_name method added

Nailgun Node object:
- move_roles_to_pending_roles method added

Rpc receiver:
- stop_deployment task refactored to nailgun objects
- queries with locking and ordering used in stop_deployment
- ordering added into locking queries in deploy_resp
- fetched from db nodes used in deploy_resp 

Change-Id: Idff49dd7e01a159f4d5c4f4208aadf1894346b8e
Closes-Bug: #1321302
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/72/94372/10 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/objects/node.py', 'nailgun/nailgun/rpc/receiver.py', 'nailgun/nailgun/objects/base.py', 'nailgun/nailgun/api/handlers/node.py']",4,4fed42cbc83c649a6cefb9d8c964e4a300f0475a,dead_lock_in_stop_deployment, nodes = self.collection.filter_by_id_list(, nodes = self.collection.get_by_id_list(,152,44
openstack%2Frelease-tools~master~I4624c9be5c70e4401c67f4f053daa9e85e3cdea4,openstack/release-tools,master,I4624c9be5c70e4401c67f4f053daa9e85e3cdea4,"Use except x as y instead of except x, y",MERGED,2014-05-29 22:07:59.000000000,2014-06-16 09:56:46.000000000,2014-06-16 09:56:46.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 6786}, {'_account_id': 7233}]","[{'number': 1, 'created': '2014-05-29 22:07:59.000000000', 'files': ['upload_release.py'], 'web_link': 'https://opendev.org/openstack/release-tools/commit/504ea7c9fcfa1bf6e91931ab4224ce53d0c671f0', 'message': 'Use except x as y instead of except x, y\n\nAccording to https://docs.python.org/3/howto/pyporting.html the\nsyntax changed in Python 3.x. The new syntax is usable with\nPython >= 2.6 and should be preferred to be compatible with Python3.\n\nChange-Id: I4624c9be5c70e4401c67f4f053daa9e85e3cdea4\n'}]",0,96612,504ea7c9fcfa1bf6e91931ab4224ce53d0c671f0,14,4,1,167,,,0,"Use except x as y instead of except x, y

According to https://docs.python.org/3/howto/pyporting.html the
syntax changed in Python 3.x. The new syntax is usable with
Python >= 2.6 and should be preferred to be compatible with Python3.

Change-Id: I4624c9be5c70e4401c67f4f053daa9e85e3cdea4
",git fetch https://review.opendev.org/openstack/release-tools refs/changes/12/96612/1 && git format-patch -1 --stdout FETCH_HEAD,['upload_release.py'],1,504ea7c9fcfa1bf6e91931ab4224ce53d0c671f0,except_as,except Exception as error:,"except Exception, error:",1,1
openstack%2Fneutron~stable%2Fhavana~Ia4f4e93237c1c2ea6cb4b6c2f5adf78d6b34c7bf,openstack/neutron,stable/havana,Ia4f4e93237c1c2ea6cb4b6c2f5adf78d6b34c7bf,Fix get_vif_port_by_id to only return relevant ports,MERGED,2014-04-04 09:05:49.000000000,2014-06-16 09:51:24.000000000,2014-06-16 09:51:23.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 2592}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 7141}, {'_account_id': 7448}, {'_account_id': 7962}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9925}, {'_account_id': 10117}, {'_account_id': 10192}, {'_account_id': 10503}]","[{'number': 1, 'created': '2014-04-04 09:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a120a719bd0dbb32486529366c8c1478d8a1cb4a', 'message': ""Fix get_vif_port_by_id to only return relevant ports\n\nThis is returning any port, even if it's not on the switch that we're\nlooking at. As a side-effect, this means that we can actually manipulate\nthese ports while we really shouldn't.\n\nBackported from 9bc2920\n\nChange-Id: Ia4f4e93237c1c2ea6cb4b6c2f5adf78d6b34c7bf\nCloses-Bug: #1283765\n""}, {'number': 2, 'created': '2014-05-06 08:12:36.000000000', 'files': ['neutron/agent/linux/ovs_lib.py', 'neutron/tests/unit/openvswitch/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe7eef495fc917adac4090af9fe1c4e98178912d', 'message': ""Fix get_vif_port_by_id to only return relevant ports\n\nThis is returning any port, even if it's not on the switch that we're\nlooking at. As a side-effect, this means that we can actually manipulate\nthese ports while we really shouldn't.\n\nBackported from 9bc2920\n\nChange-Id: Ia4f4e93237c1c2ea6cb4b6c2f5adf78d6b34c7bf\nCloses-Bug: #1283765\n""}]",2,85270,fe7eef495fc917adac4090af9fe1c4e98178912d,50,17,2,6788,,,0,"Fix get_vif_port_by_id to only return relevant ports

This is returning any port, even if it's not on the switch that we're
looking at. As a side-effect, this means that we can actually manipulate
these ports while we really shouldn't.

Backported from 9bc2920

Change-Id: Ia4f4e93237c1c2ea6cb4b6c2f5adf78d6b34c7bf
Closes-Bug: #1283765
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/85270/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/ovs_lib.py', 'neutron/tests/unit/openvswitch/test_ovs_lib.py']",2,a120a719bd0dbb32486529366c8c1478d8a1cb4a,," def test_get_vif_port_by_id(self): iface_id = ""tap99id"" iface_name = ""tap99"" execute_mock = mock.patch.object( utils, ""execute"", spec=utils.execute).start() self.addCleanup(mock.patch.stopall) json = ('external_ids : {attached-mac=""fa:16:3e:3f:59:d7"",' ' iface-id=""%(id)s""} name : ""%(name)s"" ofport : 8' % {'id': iface_id, 'name': iface_name}) find_if_mock_call = mock.call([""ovs-vsctl"", self.TO, ""--"", ""--columns=external_ids,name,ofport"", ""find"", ""Interface"", 'external_ids:iface-id=""%s""' % 'tap99id'], root_helper=self.root_helper) iface_br_mock_call = mock.call([""ovs-vsctl"", self.TO, ""iface-to-br"", iface_name], root_helper=self.root_helper) execute_mock.side_effect = [json, self.BR_NAME] self.br.get_vif_port_by_id(iface_id) execute_mock.assert_has_calls([find_if_mock_call, iface_br_mock_call])",# vim: tabstop=4 shiftwidth=4 softtabstop=4,31,1
openstack%2Fhorizon~master~Ie865017d4fdd6c5d6e028d9e3bf94dd67c21daca,openstack/horizon,master,Ie865017d4fdd6c5d6e028d9e3bf94dd67c21daca,Fix Instance Image Name cell value,MERGED,2014-02-08 00:28:37.000000000,2014-06-16 09:51:16.000000000,2014-06-16 09:51:15.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 1941}, {'_account_id': 4264}, {'_account_id': 6610}, {'_account_id': 6914}, {'_account_id': 7386}, {'_account_id': 8648}, {'_account_id': 8871}, {'_account_id': 9317}, {'_account_id': 9449}, {'_account_id': 9450}, {'_account_id': 9531}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 10295}, {'_account_id': 10697}]","[{'number': 1, 'created': '2014-02-08 00:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/213e188f5642e7d501e3f66a20206ecddd24449f', 'message': ""Fix Instance Image Name cell value\n\nIt shows up differently in Project/Admin table.\nProject table shows '-' while Admin table shows '(not found)'\n\nChange-Id: Ie865017d4fdd6c5d6e028d9e3bf94dd67c21daca\nCloses-Bug: #1277240\n""}, {'number': 2, 'created': '2014-02-26 03:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a0a3eaf984014f4dda88f63821ee01bb0b4cc713', 'message': 'Fix Instance Image Name cell value\n\nIt shows up differently in Project/Admin table for instances with no instance.\nProject table shows \'-\' while Admin table shows \'(not found)\'\n=> Now both tables show \'-\' as it is consistent with other tables\nAlso in the Instance detail page, Image Name shows as a hyperlinked ""(not found)""\n=> Now the instance page shows a plain text \'None\'\n\nChange-Id: Ie865017d4fdd6c5d6e028d9e3bf94dd67c21daca\nCloses-Bug: #1277240\n'}, {'number': 3, 'created': '2014-02-26 03:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0e8f05e00c80e486dc5ea5ab0f5ffc2b575ec779', 'message': 'Fix Instance Image Name cell value\n\nIt shows up differently in Project/Admin table for instances with no instance.\nProject table shows \'-\' while Admin table shows \'(not found)\'\n=> Now both tables show \'-\' as it is consistent with other tables\nAlso in the Instance detail page, Image Name shows as a hyperlinked ""(not found)""\n=> Now the instance page shows a plain text \'None\'\n\nChange-Id: Ie865017d4fdd6c5d6e028d9e3bf94dd67c21daca\nCloses-Bug: #1277240\n'}, {'number': 4, 'created': '2014-02-26 03:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/26bd18e8cb9bd65163b5f2943a6f88f7b2065eb0', 'message': 'Fix Instance Image Name cell value\n\nIt shows up differently in Project/Admin table for instances with no instance.\nProject table shows \'-\' while Admin table shows \'(not found)\'\n=> Now both tables show \'-\' as it is consistent with other tables\nAlso in the Instance detail page, Image Name shows as a hyperlinked ""(not found)""\n=> Now the instance page shows a plain text \'None\'\n\nChange-Id: Ie865017d4fdd6c5d6e028d9e3bf94dd67c21daca\nCloses-Bug: #1277240\n'}, {'number': 5, 'created': '2014-02-26 19:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ab89e6aacfb4dcd24c743d003b82ad0470757ef4', 'message': 'Fix Instance Image Name cell value\n\nIt shows up differently in Project/Admin table for instances with no instance.\nProject table shows \'-\' while Admin table shows \'(not found)\'\n=> Now both tables show \'-\' as it is consistent with other tables\n\nAlso in the Instance detail page, Image Name shows as a hyperlinked ""(not found)""\n=> Now the instance page shows a plain text \'None\'\n\nChange-Id: Ie865017d4fdd6c5d6e028d9e3bf94dd67c21daca\nCloses-Bug: #1277240\n'}, {'number': 6, 'created': '2014-02-26 21:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c3c01cf19a8295f4d936fb3eb7c47adf88aa6e15', 'message': 'Fix Instance Image Name cell value\n\nIt shows up differently in Project/Admin table for instances with no image.\nProject table shows \'-\' while Admin table shows \'(not found)\'\n=> Now both tables show \'-\' as it is consistent with other tables\n\nAlso in the Instance detail page, Image Name shows as a hyperlinked ""(not found)""\n=> Now the instance page shows a plain text \'None\'\n\nChange-Id: Ie865017d4fdd6c5d6e028d9e3bf94dd67c21daca\nCloses-Bug: #1277240\n'}, {'number': 7, 'created': '2014-05-22 23:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6235d26af953841b89f7fd7397299b94dc52435e', 'message': 'Fix Instance Image Name cell value\n\nIt shows up differently in Project vs Admin table for instance with no image.\nProject table shows \'-\'\nAdmin table shows \'(not found)\'\n=> Now both tables show \'-\' as it is consistent with other tables\n\nAlso, in the Instance detail page, Image Name shows as a hyperlinked ""(not found)""\n=> Now the detail page shows a plain text \'None\'\n\nChange-Id: Ie865017d4fdd6c5d6e028d9e3bf94dd67c21daca\nCloses-Bug: #1277240\n'}, {'number': 8, 'created': '2014-05-30 19:33:36.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/templates/instances/_detail_overview.html', 'openstack_dashboard/dashboards/project/instances/views.py', 'openstack_dashboard/api/nova.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d4b7e5be82da551c21889db4b8794295e95af243', 'message': 'Fix Instance Image Name cell value\n\nIt shows up differently in Project vs Admin table for instance with no image.\nProject table shows \'-\'\nAdmin table shows \'(not found)\'\n=> Now both tables show \'-\' as it is consistent with other tables\n\nAlso, in the Instance detail page, Image Name shows as a hyperlinked ""(not found)""\n=> Now the detail page shows a plain text \'None\'\n\nChange-Id: Ie865017d4fdd6c5d6e028d9e3bf94dd67c21daca\nCloses-Bug: #1277240\n'}]",10,72032,d4b7e5be82da551c21889db4b8794295e95af243,87,17,8,9622,,,0,"Fix Instance Image Name cell value

It shows up differently in Project vs Admin table for instance with no image.
Project table shows '-'
Admin table shows '(not found)'
=> Now both tables show '-' as it is consistent with other tables

Also, in the Instance detail page, Image Name shows as a hyperlinked ""(not found)""
=> Now the detail page shows a plain text 'None'

Change-Id: Ie865017d4fdd6c5d6e028d9e3bf94dd67c21daca
Closes-Bug: #1277240
",git fetch https://review.opendev.org/openstack/horizon refs/changes/32/72032/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/instances/views.py'],1,213e188f5642e7d501e3f66a20206ecddd24449f,bug/1277240,," else: # Instance from volume returns a string instance.image = {'name': instance.image if instance.image else _(""-"")}",0,4
openstack%2Fos-cloud-config~master~I947ac94ee268696e61695d2e841e993b2671cb7e,openstack/os-cloud-config,master,I947ac94ee268696e61695d2e841e993b2671cb7e,Wrap register-nodes CLI in try/except,MERGED,2014-06-12 01:41:46.000000000,2014-06-16 09:47:05.000000000,2014-06-16 09:47:05.000000000,"[{'_account_id': 3}, {'_account_id': 4190}, {'_account_id': 8042}]","[{'number': 1, 'created': '2014-06-12 01:41:46.000000000', 'files': ['os_cloud_config/cmd/register_nodes.py', 'os_cloud_config/cmd/tests/test_register_nodes.py'], 'web_link': 'https://opendev.org/openstack/os-cloud-config/commit/08dfebfa43a09ea67d75890ab67b73c24729504a', 'message': 'Wrap register-nodes CLI in try/except\n\nTo make for a better CLI experience, wrap all calls in main() in a\ntry/except Exception block rather than giving a potientally large\ntraceback to the user.\n\nChange-Id: I947ac94ee268696e61695d2e841e993b2671cb7e\n'}]",0,99530,08dfebfa43a09ea67d75890ab67b73c24729504a,11,3,1,9369,,,0,"Wrap register-nodes CLI in try/except

To make for a better CLI experience, wrap all calls in main() in a
try/except Exception block rather than giving a potientally large
traceback to the user.

Change-Id: I947ac94ee268696e61695d2e841e993b2671cb7e
",git fetch https://review.opendev.org/openstack/os-cloud-config refs/changes/30/99530/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_cloud_config/cmd/register_nodes.py', 'os_cloud_config/cmd/tests/test_register_nodes.py']",2,08dfebfa43a09ea67d75890ab67b73c24729504a,exceptions-for-cli," return_code = register_nodes.main() self.assertEqual(0, return_code) @mock.patch('os_cloud_config.nodes.register_all_nodes') @mock.patch.object(sys, 'argv', ['register-nodes', '--service-host', 'seed', '--nodes']) def test_with_exception(self, register_mock): register_mock.side_effect = ValueError with tempfile.NamedTemporaryFile() as f: f.write('{}\n') f.flush() sys.argv.append(f.name) return_code = register_nodes.main() self.assertEqual(1, return_code)", register_nodes.main(),23,5
openstack%2Fsahara~master~I444feced07970b75636358321199ec69992270a5,openstack/sahara,master,I444feced07970b75636358321199ec69992270a5,Added new hacking version to requirements,MERGED,2014-06-15 13:51:04.000000000,2014-06-16 09:45:52.000000000,2014-06-16 09:45:51.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}]","[{'number': 1, 'created': '2014-06-15 13:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/6113b11f521168484c7611810d77fd63766fd6f1', 'message': 'Added new hacking version to requirements\n\n* Added hacking>=0.9.1,<0.10 according to change\n  https://review.openstack.org/#/c/99096\n* Ignored all pep8 errors to work with new version\n\nChange-Id: I444feced07970b75636358321199ec69992270a5\n'}, {'number': 2, 'created': '2014-06-15 19:15:00.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara/commit/4f0c4055b351aef672f18af4e2718184794e0a8b', 'message': 'Added new hacking version to requirements\n\n* Added hacking>=0.9.1,<0.10 according to change\n  https://review.openstack.org/#/c/99096\n* Ignored all pep8 errors to work with new version\n\nChange-Id: I444feced07970b75636358321199ec69992270a5\n'}]",0,100090,4f0c4055b351aef672f18af4e2718184794e0a8b,18,3,2,7125,,,0,"Added new hacking version to requirements

* Added hacking>=0.9.1,<0.10 according to change
  https://review.openstack.org/#/c/99096
* Ignored all pep8 errors to work with new version

Change-Id: I444feced07970b75636358321199ec69992270a5
",git fetch https://review.opendev.org/openstack/sahara refs/changes/90/100090/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,6113b11f521168484c7611810d77fd63766fd6f1,pep8-E265,"# E112 expected an indented block # E122 continuation line missing indentation or outdented # E128 continuation line under-indented for visual indent # E226 missing whitespace around arithmetic operator # E241 multiple spaces after ':' # E251 unexpected spaces around keyword / parameter equals # E265 block comment should start with '# ' # E713 test for membership should be 'not in' # F402 import 'u' from line 23 shadowed by loop variable # H202 assertRaises Exception too broad # H305 imports not grouped correctly (re: stdlib, six: third-party) # H307 like imports should be grouped together (six and oslo.config.cfg from third-party are separated by whitespace) # H405 multi line docstring summary not separated with an empty line # H904 Wrap long lines in parentheses instead of a backslash ignore = E112,E122,E128,E226,E241,E251,E265,E713,F402,H202,H305,H307,H405,H904",,16,1
openstack%2Fnova~master~I3b7c5afce7f3bacce1b444c245b035334962ff7c,openstack/nova,master,I3b7c5afce7f3bacce1b444c245b035334962ff7c,Make sure domain exists before referencing it,MERGED,2014-06-08 21:29:25.000000000,2014-06-16 09:45:40.000000000,2014-06-16 09:45:38.000000000,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6450}, {'_account_id': 8871}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11650}]","[{'number': 1, 'created': '2014-06-08 21:29:25.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5a98983e87e5020626db2e319f7b00ae547ae8e1', 'message': 'Make sure domain exists before referencing it\n\nBefore calling domain.destroy() in the exception handler for a failed\ncreate attempt, make sure domain was created prior to when the\nexception was thrown.\n\nChange-Id: I3b7c5afce7f3bacce1b444c245b035334962ff7c\nCloses-Bug: #1326998\n'}]",0,98667,5a98983e87e5020626db2e319f7b00ae547ae8e1,30,10,1,6450,,,0,"Make sure domain exists before referencing it

Before calling domain.destroy() in the exception handler for a failed
create attempt, make sure domain was created prior to when the
exception was thrown.

Change-Id: I3b7c5afce7f3bacce1b444c245b035334962ff7c
Closes-Bug: #1326998
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/98667/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,5a98983e87e5020626db2e319f7b00ae547ae8e1,bug/1326998, domain = None if domain: domain.destroy() if domain: domain.destroy(), domain.destroy() domain.destroy(),5,2
openstack%2Frequirements~master~I94ac3d6eb68f762f9bf0706a2bd9cd3b953178c8,openstack/requirements,master,I94ac3d6eb68f762f9bf0706a2bd9cd3b953178c8,Bump minimum hacking version to 0.9.2,MERGED,2014-06-13 01:18:43.000000000,2014-06-16 09:45:35.000000000,2014-06-16 09:45:35.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2592}, {'_account_id': 6786}, {'_account_id': 7680}]","[{'number': 1, 'created': '2014-06-13 01:18:43.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6655cabc5364a3f01642354f20641d5e3858b8d9', 'message': 'Bump minimum hacking version to 0.9.2\n\nHacking 0.9.2 has a fix for the library six.\nRelated patch: I4e401e0fcce077f81a5471692aa6ecd16f26f6ed\n\nChange-Id: I94ac3d6eb68f762f9bf0706a2bd9cd3b953178c8\n'}]",0,99815,6655cabc5364a3f01642354f20641d5e3858b8d9,18,5,1,1849,,,0,"Bump minimum hacking version to 0.9.2

Hacking 0.9.2 has a fix for the library six.
Related patch: I4e401e0fcce077f81a5471692aa6ecd16f26f6ed

Change-Id: I94ac3d6eb68f762f9bf0706a2bd9cd3b953178c8
",git fetch https://review.opendev.org/openstack/requirements refs/changes/15/99815/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,6655cabc5364a3f01642354f20641d5e3858b8d9,hacking,"hacking>=0.9.2,<0.10","hacking>=0.9.1,<0.10",1,1
openstack%2Fopenstack-planet~master~I34d01081a33d46b52285701bfe2534ad963e7391,openstack/openstack-planet,master,I34d01081a33d46b52285701bfe2534ad963e7391,Added Manishanker to Planet Openstack,MERGED,2014-06-14 15:33:18.000000000,2014-06-16 09:45:29.000000000,2014-06-16 09:45:29.000000000,"[{'_account_id': 3}, {'_account_id': 308}]","[{'number': 1, 'created': '2014-06-14 15:33:18.000000000', 'files': ['images/Manishanker.png', 'planet.ini'], 'web_link': 'https://opendev.org/openstack/openstack-planet/commit/0484a16ce8d157834aeabeaa63dbe920ffa43600', 'message': 'Added Manishanker to Planet Openstack\n\nChange-Id: I34d01081a33d46b52285701bfe2534ad963e7391\n'}]",0,100062,0484a16ce8d157834aeabeaa63dbe920ffa43600,9,2,1,10880,,,0,"Added Manishanker to Planet Openstack

Change-Id: I34d01081a33d46b52285701bfe2534ad963e7391
",git fetch https://review.opendev.org/openstack/openstack-planet refs/changes/62/100062/1 && git format-patch -1 --stdout FETCH_HEAD,"['images/Manishanker.png', 'planet.ini']",2,0484a16ce8d157834aeabeaa63dbe920ffa43600,master, [http://manishankert.blogspot.in/feeds/posts/default/-/openstack] name = Manishanker Talusani face = Manishanker.png nick = Manishanker,,5,0
openstack%2Fmagnetodb~master~I0d206f757dd3c734d3159486c6b49a04bd1f09dc,openstack/magnetodb,master,I0d206f757dd3c734d3159486c6b49a04bd1f09dc,Fix streaming API,MERGED,2014-06-13 11:12:19.000000000,2014-06-16 09:43:05.000000000,2014-06-16 09:43:05.000000000,"[{'_account_id': 3}, {'_account_id': 8188}, {'_account_id': 8491}, {'_account_id': 8601}]","[{'number': 1, 'created': '2014-06-13 11:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/4b24a798c9b1caefe862841dc7a9dd73c3f642ab', 'message': 'Fix streaming API\n\nFix streaming API to work properly with eventlet\nAdd missing data to streaming API config file\n\nChange-Id: I0d206f757dd3c734d3159486c6b49a04bd1f09dc\n'}, {'number': 2, 'created': '2014-06-13 15:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/b0ba086c3bb354ad20c911568e4d25dd3c10aa23', 'message': 'Fix streaming API\n\nFix streaming API to work properly with eventlet\nAdd missing data to streaming API config file\n\nChange-Id: I0d206f757dd3c734d3159486c6b49a04bd1f09dc\n'}, {'number': 3, 'created': '2014-06-16 06:59:29.000000000', 'files': ['magnetodb/api/stream_wsgi.py', 'etc/magnetodb-streaming-api.conf'], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/4eff4c8ca5800393fd61037487610cb72a2db037', 'message': 'Fix streaming API\n\nFix streaming API to work properly with eventlet\nAdd missing data to streaming API config file\n\nChange-Id: I0d206f757dd3c734d3159486c6b49a04bd1f09dc\n'}]",2,99907,4eff4c8ca5800393fd61037487610cb72a2db037,22,4,3,8491,,,0,"Fix streaming API

Fix streaming API to work properly with eventlet
Add missing data to streaming API config file

Change-Id: I0d206f757dd3c734d3159486c6b49a04bd1f09dc
",git fetch https://review.opendev.org/openstack/magnetodb refs/changes/07/99907/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnetodb/api/stream_wsgi.py', 'etc/magnetodb-streaming-api.conf']",2,4b24a798c9b1caefe862841dc7a9dd73c3f642ab,fix-streaming-api," ""table_info_repo"": ""@table_info_repo"", ""default_keyspace_opts"": { ""replication"": { ""replication_factor"": 3, ""class"": ""SimpleStrategy"" } }"," ""table_info_repo"": ""@table_info_repo""",9,3
openstack%2Fironic-python-agent~master~I7d2568c3693b9c486672e4322c7f01622aeba875,openstack/ironic-python-agent,master,I7d2568c3693b9c486672e4322c7f01622aeba875,Perform manual error checks instead of set -e,MERGED,2014-06-04 17:26:36.000000000,2014-06-16 09:27:45.000000000,2014-06-16 09:27:45.000000000,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 10343}, {'_account_id': 11739}]","[{'number': 1, 'created': '2014-06-04 17:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9a19de7cb296ea40a6eadeba020ea862c6debae5', 'message': 'Perform manual error checks instead of set -e\n\nWhen using set -e, if you have a command fail, even when setting a\nvariable, it causes the node to fail. I have removed set -e and checked\nerror state where unexpected everywhere. I also added additional\nlogging.\n\nChange-Id: I7d2568c3693b9c486672e4322c7f01622aeba875\n'}, {'number': 2, 'created': '2014-06-04 17:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1a9ee68028e6bbc7fe321f6a5ee5de37bfe284d1', 'message': 'Perform manual error checks instead of set -e\n\nWhen using set -e, if you have a command fail, even when setting a\nvariable, it causes the node to fail. I have removed set -e and checked\nerror state where unexpected everywhere. I also added additional\nlogging.\n\nCloses-bug: 1326326\nChange-Id: I7d2568c3693b9c486672e4322c7f01622aeba875\n'}, {'number': 3, 'created': '2014-06-04 17:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/352c25aa691efbe0e73fd9cf7044a4d59954a10e', 'message': 'Perform manual error checks instead of set -e\n\nWhen using set -e, if you have a command fail, even when setting a\nvariable, it causes the node to fail. I have removed set -e and checked\nerror state where unexpected everywhere. I also added additional\nlogging.\n\nCloses-bug: 1326326\nChange-Id: I7d2568c3693b9c486672e4322c7f01622aeba875\n'}, {'number': 4, 'created': '2014-06-10 15:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/05b63fa9a49053a877d588b5368342c704074312', 'message': 'Perform manual error checks instead of set -e\n\nWhen using set -e, if you have a command fail, even when setting a\nvariable, it causes the node to fail. I have removed set -e and checked\nerror state where unexpected everywhere. I also added additional\nlogging.\n\nCloses-bug: 1326326\nChange-Id: I7d2568c3693b9c486672e4322c7f01622aeba875\n'}, {'number': 5, 'created': '2014-06-10 15:22:44.000000000', 'files': ['ironic_python_agent/shell/copy_configdrive_to_disk.sh'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d82b8c6bc0bf0131fb4bec6d18920191f68f2b54', 'message': 'Perform manual error checks instead of set -e\n\nWhen using set -e, if you have a command fail, even when setting a\nvariable, it causes the node to fail. I have removed set -e and checked\nerror state where unexpected everywhere. I also added additional\nlogging.\n\nCloses-Bug: #1326326\nChange-Id: I7d2568c3693b9c486672e4322c7f01622aeba875\n'}]",3,97860,d82b8c6bc0bf0131fb4bec6d18920191f68f2b54,28,6,5,10342,,,0,"Perform manual error checks instead of set -e

When using set -e, if you have a command fail, even when setting a
variable, it causes the node to fail. I have removed set -e and checked
error state where unexpected everywhere. I also added additional
logging.

Closes-Bug: #1326326
Change-Id: I7d2568c3693b9c486672e4322c7f01622aeba875
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/60/97860/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/shell/copy_configdrive_to_disk.sh'],1,9a19de7cb296ea40a6eadeba020ea862c6debae5,bug/1326326,"fail() { log ""ERROR: $@"" exit 1 } log ""Existing configdrive found on ${DEVICE} at ${EXISTING_PARTITION}"" parted -a optimal -s -- $DEVICE mkpart primary ext2 -64MiB -0 || fail ""Creating configdrive on ${DEVICE}"" ISO_PARTITION=`sfdisk --dump $DEVICE | grep -v ' 0,' | tail -n1 | awk '{print $1}'` || fail ""Finding ISO partition created on ${DEVICE}""dd if=$CONFIGDRIVE of=$ISO_PARTITION bs=64K oflag=direct || fail ""Writing Configdrive to ${ISO_PARTITION}""","set -e parted -a optimal -s -- $DEVICE mkpart primary ext2 -64MiB -0 ISO_PARTITION=`sfdisk --dump $DEVICE | grep -v ' 0,' | tail -n1 | awk '{print $1}'`dd if=$CONFIGDRIVE of=$ISO_PARTITION bs=64K oflag=direct",9,5
openstack%2Fmanila~master~I81bc45f5fc9f44720d42ebdf5631dbd0dd367954,openstack/manila,master,I81bc45f5fc9f44720d42ebdf5631dbd0dd367954,Test change of concurrency for tempest,ABANDONED,2014-06-06 17:08:32.000000000,2014-06-16 09:12:11.000000000,,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 8851}]","[{'number': 1, 'created': '2014-06-06 17:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f6970e991efdd52e63ce8f558b0d96a0b5fc7ff3', 'message': 'Test change of concurrency for tempest\n\nDO NOT MERGE\n\nChange-Id: I81bc45f5fc9f44720d42ebdf5631dbd0dd367954\n'}, {'number': 2, 'created': '2014-06-06 19:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6e44030a13860c875eeb110b8645d13527c4f48c', 'message': 'Test change of concurrency for tempest\n\nDO NOT MERGE\n\nChange-Id: I81bc45f5fc9f44720d42ebdf5631dbd0dd367954\n'}, {'number': 3, 'created': '2014-06-06 21:04:27.000000000', 'files': ['contrib/ci/post_test_hook.sh', 'manila/share/manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/d2a2b1a2bf9ed74132efb3be319bae9663c22009', 'message': 'Test change of concurrency for tempest\n\nDO NOT MERGE\n\nChange-Id: I81bc45f5fc9f44720d42ebdf5631dbd0dd367954\n'}]",1,98469,d2a2b1a2bf9ed74132efb3be319bae9663c22009,14,3,3,8851,,,0,"Test change of concurrency for tempest

DO NOT MERGE

Change-Id: I81bc45f5fc9f44720d42ebdf5631dbd0dd367954
",git fetch https://review.opendev.org/openstack/manila refs/changes/69/98469/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/ci/post_test_hook.sh'],1,f6970e991efdd52e63ce8f558b0d96a0b5fc7ff3,master,export TEMPEST_CONCURRENCY=4,export TEMPEST_CONCURRENCY=2,1,1
openstack%2Fdiskimage-builder~master~Ic98603c285362abd706815f43dd6193bd2d8ba03,openstack/diskimage-builder,master,Ic98603c285362abd706815f43dd6193bd2d8ba03,Improve kernel detection in debian family systems,ABANDONED,2014-06-09 11:58:15.000000000,2014-06-16 09:12:01.000000000,,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 8041}, {'_account_id': 9268}]","[{'number': 1, 'created': '2014-06-09 11:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fa21e90e48b8fa91d0958b5bc23dd13c78487db4', 'message': ""Improve kernel detection in debian family systems\n\nNot every debian family kernel includes a -generic suffix. This\nextra logic was already included in other elements and now it's\nmerged into the get-kernel-image utility.\n\nChange-Id: Ic98603c285362abd706815f43dd6193bd2d8ba03\n""}, {'number': 2, 'created': '2014-06-09 13:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/def95d2ba919edb12bad0bb330c9e30ce36a3cd6', 'message': ""Improve kernel detection in debian family systems\n\nNot every debian family kernel includes a -generic suffix. This\nextra logic was already included in other elements and now it's\nmerged into the get-kernel-image utility.\n\nChange-Id: Ic98603c285362abd706815f43dd6193bd2d8ba03\n""}, {'number': 3, 'created': '2014-06-09 20:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fcf769ddeb169e39151fa67dc512c04619d1cb12', 'message': ""Improve kernel detection in debian family systems\n\nNot every debian family kernel includes a -generic suffix. This\nextra logic was already included in other elements and now it's\nmerged into the get-kernel-image utility.\n\nChange-Id: Ic98603c285362abd706815f43dd6193bd2d8ba03\n""}, {'number': 4, 'created': '2014-06-10 07:19:25.000000000', 'files': ['lib/common-functions'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f88c217a76f4a51ef5bfb53f567a2bc05c81edbe', 'message': ""Improve kernel detection in debian family systems\n\nNot every debian family kernel includes a -generic suffix. This\nextra logic was already included in other elements and now it's\nmerged into the get-kernel-image utility.\n\nChange-Id: Ic98603c285362abd706815f43dd6193bd2d8ba03\n""}]",0,98759,f88c217a76f4a51ef5bfb53f567a2bc05c81edbe,22,4,4,1726,,,0,"Improve kernel detection in debian family systems

Not every debian family kernel includes a -generic suffix. This
extra logic was already included in other elements and now it's
merged into the get-kernel-image utility.

Change-Id: Ic98603c285362abd706815f43dd6193bd2d8ba03
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/59/98759/4 && git format-patch -1 --stdout FETCH_HEAD,['lib/common-functions'],1,fa21e90e48b8fa91d0958b5bc23dd13c78487db4,common_get_kenel," # in case files with ""generic"" suffix were not found, fall back to default kernel=${kernel:-$(basename `ls -1rv $BOOTDIR/vmlinuz* | head -1`)} initrd=${initrd:-$(basename `ls -1rv $BOOTDIR/initrd* | head -1`)} ",,5,0
openstack%2Frelease-tools~master~If1103ebba8faee0459ed7262e3cce5bb6dc151a4,openstack/release-tools,master,If1103ebba8faee0459ed7262e3cce5bb6dc151a4,Add script for new-style milestone publication,MERGED,2014-06-05 14:28:25.000000000,2014-06-16 09:09:13.000000000,2014-06-16 09:09:13.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 6786}]","[{'number': 1, 'created': '2014-06-05 14:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/release-tools/commit/91424defac903be498cf2e311439cfcd04db77a6', 'message': ""Add script for new-style milestone publication\n\nMilestones are now published directly from master and do no longer use\ntemporary milestone-proposed branches. Rather than using mpcut.sh first\nto create the MP branch and mpdelivery.sh afterwards to apply the tag\nand upload the resulting tarball, we'll use milestone.sh which does\nboth.\n\nIt calls ms2version.py to translate milestone names into version numbers\nsuitable for tagging, rather than require that you provide the\ntranslation as arguments. ms2version.py currently requires that\nmilestones have target release dates set.\n\nChange-Id: If1103ebba8faee0459ed7262e3cce5bb6dc151a4\n""}, {'number': 2, 'created': '2014-06-05 14:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/release-tools/commit/4c92d2658cf2e7eee3119ed3b1f569df08b952a5', 'message': ""Add script for new-style milestone publication\n\nMilestones are now published directly from master and do no longer use\ntemporary milestone-proposed branches. Rather than using mpcut.sh first\nto create the MP branch and mark bugs fixreleased, and then mpdelivery.sh\nto apply the tag and upload the resulting tarball, we'll use milestone.sh\nwhich does everything in one shot.\n\nIt calls the new ms2version.py script to translate milestone names into\nversion numbers suitable for tagging, rather than require that you provide\nthe translation as arguments. Note that ms2version.py currently requires\nthat milestones have target release dates set.\n\nChange-Id: If1103ebba8faee0459ed7262e3cce5bb6dc151a4\n""}, {'number': 3, 'created': '2014-06-10 12:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/release-tools/commit/c6e6f4eec5f6ffc33ea4db8246de77dfccb646cf', 'message': ""Add script for new-style milestone publication\n\nMilestones are now published directly from master and do no longer use\ntemporary milestone-proposed branches. Rather than using mpcut.sh first\nto create the MP branch and mark bugs fixreleased, and then mpdelivery.sh\nto apply the tag and upload the resulting tarball, we'll use milestone.sh\nwhich does everything in one shot.\n\nIt calls the new ms2version.py script to translate milestone names into\nversion numbers suitable for tagging, rather than require that you provide\nthe translation as arguments.\n\nChange-Id: If1103ebba8faee0459ed7262e3cce5bb6dc151a4\n""}, {'number': 4, 'created': '2014-06-10 12:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/release-tools/commit/b72cd00e2bda1cfe8edfc04e99deadaa0ecdc331', 'message': ""Add script for new-style milestone publication\n\nMilestones are now published directly from master and do no longer\nuse temporary milestone-proposed branches. Rather than using mpcut.sh\nfirst to create the MP branch and mark bugs fixreleased, and then\nmpdelivery.sh to apply the tag and upload the resulting tarball,\nwe'll use milestone.sh which does everything in one shot.\n\nIt calls the new ms2version.py script to translate milestone names\ninto version numbers suitable for tagging, rather than require that\nyou provide the translation as arguments.\n\nChange-Id: If1103ebba8faee0459ed7262e3cce5bb6dc151a4\n""}, {'number': 5, 'created': '2014-06-10 12:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/release-tools/commit/a4290bf4c01509f56e2bb0a52df83912e2ab4dc4', 'message': ""Add script for new-style milestone publication\n\nMilestones are now published directly from master and do no longer\nuse temporary milestone-proposed branches. Rather than using mpcut.sh\nfirst to create the MP branch and mark bugs fixreleased, and then\nmpdelivery.sh to apply the tag and upload the resulting tarball,\nwe'll use milestone.sh which does everything in one shot.\n\nIt calls the new ms2version.py script to translate milestone names\ninto version numbers suitable for tagging, rather than require that\nyou provide the translation as arguments.\n\nChange-Id: If1103ebba8faee0459ed7262e3cce5bb6dc151a4\n""}, {'number': 6, 'created': '2014-06-13 08:49:47.000000000', 'files': ['ms2version.py', 'milestone.sh'], 'web_link': 'https://opendev.org/openstack/release-tools/commit/067d9d5857294f905536642d84d0113361e5ecb8', 'message': ""Add script for new-style milestone publication\n\nMilestones are now published directly from master and do no longer\nuse temporary milestone-proposed branches. Rather than using mpcut.sh\nfirst to create the MP branch and mark bugs fixreleased, and then\nmpdelivery.sh to apply the tag and upload the resulting tarball,\nwe'll use milestone.sh which does everything in one shot.\n\nIt calls the new ms2version.py script to translate milestone names\ninto version numbers suitable for tagging, rather than require that\nyou provide the translation as arguments.\n\nChange-Id: If1103ebba8faee0459ed7262e3cce5bb6dc151a4\n""}]",0,98123,067d9d5857294f905536642d84d0113361e5ecb8,24,3,6,308,,,0,"Add script for new-style milestone publication

Milestones are now published directly from master and do no longer
use temporary milestone-proposed branches. Rather than using mpcut.sh
first to create the MP branch and mark bugs fixreleased, and then
mpdelivery.sh to apply the tag and upload the resulting tarball,
we'll use milestone.sh which does everything in one shot.

It calls the new ms2version.py script to translate milestone names
into version numbers suitable for tagging, rather than require that
you provide the translation as arguments.

Change-Id: If1103ebba8faee0459ed7262e3cce5bb6dc151a4
",git fetch https://review.opendev.org/openstack/release-tools refs/changes/23/98123/3 && git format-patch -1 --stdout FETCH_HEAD,"['ms2version.py', 'milestone.sh']",2,91424defac903be498cf2e311439cfcd04db77a6,milestonecut,"#!/bin/bash # # Script to publish a milestone in one shot # # Copyright 2014 Thierry Carrez <thierry@openstack.org> # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. set -e if [ $# -lt 3 ]; then echo ""Usage: $0 milestone SHA project"" echo echo ""Example: $0 juno-1 HEAD keystone"" exit 2 fi MILESTONE=$1 SHA=$2 PROJECT=$3 TOOLSDIR=""$( cd ""$( dirname ""${BASH_SOURCE[0]}"" )"" && pwd )"" function title { echo echo ""$(tput bold)$(tput setaf 1)[ $1 ]$(tput sgr0)"" } title ""Resolving $MILESTONE to version"" VERSION=`$TOOLSDIR/ms2version.py $PROJECT $MILESTONE` RELVERSION=${VERSION:0:6} echo ""$MILESTONE is $VERSION (final being $RELVERSION)"" title ""Cloning repository for $PROJECT"" MYTMPDIR=`mktemp -d` cd $MYTMPDIR git clone git://git.openstack.org/openstack/$PROJECT cd $PROJECT LANG=C git review -s TARGETSHA=`git log -1 $SHA --format='%H'` HEADSHA=`git log -1 HEAD --format='%H'` title ""Tagging $TARGETSHA as $VERSION"" TAGMSG=""${PROJECT^} $MILESTONE milestone ($VERSION)"" echo ""Tag message is '$TAGMSG'"" if [[ ""$TARGETSHA"" != ""$HEADSHA"" ]]; then echo ""Warning: target SHA does not correspond to HEAD"" fi read -sn 1 -p ""Press any key to continue..."" git tag -m ""$TAGMSG"" -s ""$VERSION"" $TARGETSHA git push gerrit $VERSION title ""Setting FixCommitted bugs to FixReleased"" $TOOLSDIR/process_bugs.py $PROJECT --settarget=$MILESTONE --fixrelease title ""Waiting for tarball from $TARGETSHA"" $TOOLSDIR/wait_for_tarball.py $TARGETSHA title ""Checking tarball is similar to last master.tar.gz"" if [[ ""$TARGETSHA"" != ""$HEADSHA"" ]]; then echo ""It will probably be a bit different since target is not HEAD."" fi $TOOLSDIR/similar_tarballs.sh $PROJECT master $VERSION read -sn 1 -p ""Press any key to continue..."" title ""Uploading tarball to Launchpad"" $TOOLSDIR/upload_release.py $PROJECT $RELVERSION --milestone=$MILESTONE title ""Cleaning up"" cd ../.. rm -rf $MYTMPDIR ",,148,0
openstack%2Fmagnetodb~master~I0fc228d15392b6ba58e892b471adf9acd51f178a,openstack/magnetodb,master,I0fc228d15392b6ba58e892b471adf9acd51f178a,Integrate with Notification System,MERGED,2014-06-05 04:34:30.000000000,2014-06-16 08:59:33.000000000,2014-06-16 08:59:33.000000000,"[{'_account_id': 3}, {'_account_id': 8188}, {'_account_id': 8414}, {'_account_id': 8491}, {'_account_id': 8601}, {'_account_id': 10692}, {'_account_id': 11006}]","[{'number': 1, 'created': '2014-06-05 04:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/01645c31659c1074cec3f3263816327426e7fe38', 'message': 'Integrate with Notification System\n\nIntegrate with oslo notifier to send out notifications on table CRUD\nand data item CRUD activities.\n\nChange-Id: I0fc228d15392b6ba58e892b471adf9acd51f178a\nImplements: blueprint magnetodb-notifications\n'}, {'number': 2, 'created': '2014-06-05 18:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/43c267518cd7377ff1de614db6d52098d205ac29', 'message': 'Integrate with Notification System\n\nIntegrate with oslo notifier to send out notifications on table CRUD\nand data item CRUD activities.\n\nChange-Id: I0fc228d15392b6ba58e892b471adf9acd51f178a\nImplements: blueprint magnetodb-notifications\n'}, {'number': 3, 'created': '2014-06-06 02:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/6ac9e14cb03b84fd9ba31a4284e5eb1f2c67da6b', 'message': 'Integrate with Notification System\n\nIntegrate with oslo notifier to send out notifications on table CRUD\nand data item CRUD activities.\n\nChange-Id: I0fc228d15392b6ba58e892b471adf9acd51f178a\nImplements: blueprint magnetodb-notifications\n'}, {'number': 4, 'created': '2014-06-06 21:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/3c80b72377301ef688e39252446e6ed9c6d208a8', 'message': 'Integrate with Notification System\n\nIntegrate with oslo notifier to send out notifications on table CRUD\nand data item CRUD activities.\n\nChange-Id: I0fc228d15392b6ba58e892b471adf9acd51f178a\nImplements: blueprint magnetodb-notifications\n'}, {'number': 5, 'created': '2014-06-11 02:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/d86c121a7fca66d56a4778dcdde13cb218c9cda1', 'message': 'Integrate with Notification System\n\nIntegrate with oslo notifier to send out notifications on table CRUD\nand data item CRUD activities.\n\nChange-Id: I0fc228d15392b6ba58e892b471adf9acd51f178a\nImplements: blueprint magnetodb-notifications\n'}, {'number': 6, 'created': '2014-06-11 14:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/117c84b16a7bdfaf39807c4b272fe547b7c1fdba', 'message': 'Integrate with Notification System\n\nIntegrate with oslo notifier to send out notifications on table CRUD\nand data item CRUD activities.\n\nChange-Id: I0fc228d15392b6ba58e892b471adf9acd51f178a\nImplements: blueprint magnetodb-notifications\n'}, {'number': 7, 'created': '2014-06-11 14:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/7a371d67a4922c984ab12ee3b596bbe5de11d1be', 'message': 'Integrate with Notification System\n\nIntegrate with oslo notifier to send out notifications on table CRUD\nand data item CRUD activities.\n\nChange-Id: I0fc228d15392b6ba58e892b471adf9acd51f178a\nImplements: blueprint magnetodb-notifications\n'}, {'number': 8, 'created': '2014-06-11 16:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/f508c5b06526531a56cce9c040c546b043a080d6', 'message': 'Integrate with Notification System\n\nIntegrate with oslo notifier to send out notifications on table CRUD\nand data item CRUD activities.\n\nChange-Id: I0fc228d15392b6ba58e892b471adf9acd51f178a\nImplements: blueprint magnetodb-notifications\n'}, {'number': 9, 'created': '2014-06-11 17:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/5c9a3ebadbe609664c6594415051c944185246eb', 'message': 'Integrate with Notification System\n\nIntegrate with oslo notifier to send out notifications on table CRUD\nand data item CRUD activities.\n\nChange-Id: I0fc228d15392b6ba58e892b471adf9acd51f178a\nImplements: blueprint magnetodb-notifications\n'}, {'number': 10, 'created': '2014-06-12 08:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/58864b6074815eaf1da216eb8faa1d0b886fba2d', 'message': 'Integrate with Notification System\n\nIntegrate with oslo notifier to send out notifications on table CRUD\nand data item CRUD activities.\n\nChange-Id: I0fc228d15392b6ba58e892b471adf9acd51f178a\nImplements: blueprint magnetodb-notifications\n'}, {'number': 11, 'created': '2014-06-13 00:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/31cfc56b56d882453adf761f70add08589641bdf', 'message': 'Integrate with Notification System\n\nIntegrate with oslo notifier to send out notifications on table CRUD\nand data item CRUD activities.\n\nChange-Id: I0fc228d15392b6ba58e892b471adf9acd51f178a\nImplements: blueprint magnetodb-notifications\n'}, {'number': 12, 'created': '2014-06-13 08:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/6939209e45ffb7da19c4cfbd6f61e1f6db9382f7', 'message': 'Integrate with Notification System\n\nIntegrate with oslo notifier to send out notifications on table CRUD\nand data item CRUD activities.\n\nChange-Id: I0fc228d15392b6ba58e892b471adf9acd51f178a\nImplements: blueprint magnetodb-notifications\n'}, {'number': 13, 'created': '2014-06-13 15:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/041856426868e49f1091cffb289683e76b7740b9', 'message': 'Integrate with Notification System\n\nIntegrate with oslo notifier to send out notifications on table CRUD\nand data item CRUD activities.\n\nChange-Id: I0fc228d15392b6ba58e892b471adf9acd51f178a\nImplements: blueprint magnetodb-notifications\n'}, {'number': 14, 'created': '2014-06-16 00:20:27.000000000', 'files': ['magnetodb/openstack/common/rpc/service.py', 'magnetodb/openstack/common/notifier/proxy.py', 'magnetodb/openstack/common/rpc/dispatcher.py', 'magnetodb/openstack/common/rpc/proxy.py', 'magnetodb/openstack/common/loopingcall.py', 'magnetodb/openstack/common/notifier/api.py', 'magnetodb/openstack/common/rpc/__init__.py', 'magnetodb/openstack/common/rpc/common.py', 'magnetodb/openstack/common/strutils.py', 'magnetodb/tests/unittests/storage/manager/test_notify_storage_manager.py', 'magnetodb/tests/unittests/common/notifier/__init__.py', 'magnetodb/common/__init__.py', 'magnetodb/openstack/common/excutils.py', 'magnetodb/openstack/common/versionutils.py', 'magnetodb/openstack/common/sslutils.py', 'requirements.txt', 'magnetodb/openstack/common/rpc/matchmaker_ring.py', 'magnetodb/openstack/common/rpc/impl_qpid.py', 'magnetodb/tests/unittests/common/notifier/test_notification.py', 'magnetodb/openstack/common/rpc/amqp.py', 'magnetodb/openstack/common/rpc/impl_kombu.py', 'magnetodb/tests/unittests/common/__init__.py', 'magnetodb/openstack/common/notifier/rpc_notifier.py', 'magnetodb/openstack/common/notifier/log_notifier.py', 'magnetodb/openstack/common/rpc/zmq_receiver.py', 'magnetodb/openstack/common/notifier/__init__.py', 'magnetodb/storage/manager/async_simple_impl.py', 'magnetodb/tests/unittests/storage/manager/test_async_storage_manager.py', 'magnetodb/common/notifier/__init__.py', 'magnetodb/openstack/common/notifier/rpc_notifier2.py', 'magnetodb/openstack/common/jsonutils.py', 'magnetodb/common/notifier/decimal_encoder.py', 'magnetodb/openstack/common/notifier/no_op_notifier.py', 'magnetodb/openstack/common/rpc/impl_fake.py', 'etc/magnetodb-api.conf', 'magnetodb/common/notifier/event.py', 'magnetodb/openstack/common/rpc/matchmaker_redis.py', 'magnetodb/openstack/common/notifier/test_notifier.py', 'magnetodb/storage/manager/simple_impl.py', 'magnetodb/openstack/common/rpc/matchmaker.py', 'magnetodb/openstack/common/rpc/impl_zmq.py', 'magnetodb/openstack/common/gettextutils.py', 'etc/magnetodb-streaming-api.conf'], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/18f0b4f23e986e34381badb68e8ff83a3d1b25d8', 'message': 'Integrate with Notification System\n\nIntegrate with oslo notifier to send out notifications on table CRUD\nand data item CRUD activities.\n\nChange-Id: I0fc228d15392b6ba58e892b471adf9acd51f178a\nImplements: blueprint magnetodb-notifications\n'}]",21,98023,18f0b4f23e986e34381badb68e8ff83a3d1b25d8,77,7,14,11006,,,0,"Integrate with Notification System

Integrate with oslo notifier to send out notifications on table CRUD
and data item CRUD activities.

Change-Id: I0fc228d15392b6ba58e892b471adf9acd51f178a
Implements: blueprint magnetodb-notifications
",git fetch https://review.opendev.org/openstack/magnetodb refs/changes/23/98023/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnetodb/openstack/common/rpc/service.py', 'magnetodb/openstack/common/notifier/proxy.py', 'magnetodb/openstack/common/rpc/dispatcher.py', 'magnetodb/openstack/common/rpc/proxy.py', 'magnetodb/openstack/common/loopingcall.py', 'magnetodb/openstack/common/notifier/api.py', 'magnetodb/openstack/common/rpc/__init__.py', 'magnetodb/openstack/common/rpc/common.py', 'magnetodb/openstack/common/strutils.py', 'magnetodb/tests/unittests/storage/manager/test_notify_storage_manager.py', 'magnetodb/tests/unittests/common/notifier/__init__.py', 'magnetodb/openstack/common/excutils.py', 'magnetodb/openstack/common/versionutils.py', 'magnetodb/openstack/common/sslutils.py', 'requirements.txt', 'magnetodb/openstack/common/rpc/matchmaker_ring.py', 'magnetodb/openstack/common/rpc/impl_qpid.py', 'magnetodb/tests/unittests/common/notifier/test_notification.py', 'magnetodb/openstack/common/rpc/amqp.py', 'magnetodb/openstack/common/rpc/impl_kombu.py', 'magnetodb/tests/unittests/common/__init__.py', 'magnetodb/common/notifier/decimalEncoder.py', 'magnetodb/openstack/common/notifier/rpc_notifier.py', 'magnetodb/openstack/common/notifier/log_notifier.py', 'magnetodb/openstack/common/rpc/zmq_receiver.py', 'magnetodb/openstack/common/notifier/__init__.py', 'magnetodb/storage/manager/async_simple_impl.py', 'magnetodb/tests/unittests/storage/manager/test_async_storage_manager.py', 'magnetodb/common/notifier/__init__.py', 'magnetodb/openstack/common/notifier/rpc_notifier2.py', 'magnetodb/openstack/common/jsonutils.py', 'magnetodb/openstack/common/notifier/no_op_notifier.py', 'magnetodb/openstack/common/rpc/impl_fake.py', 'etc/magnetodb-api.conf', 'magnetodb/common/notifier/event.py', 'magnetodb/openstack/common/rpc/matchmaker_redis.py', 'magnetodb/openstack/common/notifier/test_notifier.py', 'magnetodb/storage/manager/simple_impl.py', 'magnetodb/openstack/common/rpc/matchmaker.py', 'magnetodb/openstack/common/rpc/impl_zmq.py', 'magnetodb/openstack/common/gettextutils.py']",41,01645c31659c1074cec3f3263816327426e7fe38,bp/magnetodb-notifications,"import functoolsimport locale from logging import handlers# We use separate translation catalogs for each log level, so set up a # mapping between the log level name and the translator. The domain # for the log level is project_name + ""-log-"" + log_level so messages # for each level end up in their own catalog. _t_log_levels = dict( (level, gettext.translation('magnetodb' + '-log-' + level, localedir=_localedir, fallback=True)) for level in ['info', 'warning', 'error', 'critical'] ) return Message(msg, domain='magnetodb') else: if six.PY3: return _t.gettext(msg)def _log_translation(msg, level): """"""Build a single translation of a log message """""" if USE_LAZY: return Message(msg, domain='magnetodb' + '-log-' + level) else: translator = _t_log_levels[level] if six.PY3: return translator.gettext(msg) return translator.ugettext(msg) # Translators for log levels. # # The abbreviated names are meant to reflect the usual use of a short # name like '_'. The ""L"" is for ""log"" and the other letter comes from # the level. _LI = functools.partial(_log_translation, level='info') _LW = functools.partial(_log_translation, level='warning') _LE = functools.partial(_log_translation, level='error') _LC = functools.partial(_log_translation, level='critical') return Message(msg, domain=domain) from six import moves moves.builtins.__dict__['_'] = _lazy_gettext if six.PY3: gettext.install(domain, localedir=os.environ.get(localedir)) else: gettext.install(domain, localedir=os.environ.get(localedir), unicode=True) class Message(six.text_type): """"""A Message object is a unicode object that can be translated. Translation of Message is done explicitly using the translate() method. For all non-translation intents and purposes, a Message is simply unicode, and can be treated as such. """""" def __new__(cls, msgid, msgtext=None, params=None, domain='magnetodb', *args): """"""Create a new Message object. In order for translation to work gettext requires a message ID, this msgid will be used as the base unicode text. It is also possible for the msgid and the base unicode text to be different by passing the msgtext parameter. """""" # If the base msgtext is not given, we use the default translation # of the msgid (which is in English) just in case the system locale is # not English, so that the base text will be in that locale by default. if not msgtext: msgtext = Message._translate_msgid(msgid, domain) # We want to initialize the parent unicode with the actual object that # would have been plain unicode if 'Message' was not enabled. msg = super(Message, cls).__new__(cls, msgtext) msg.msgid = msgid msg.domain = domain msg.params = params return msg def translate(self, desired_locale=None): """"""Translate this message to the desired locale. :param desired_locale: The desired locale to translate the message to, if no locale is provided the message will be translated to the system's default locale. :returns: the translated message in unicode """""" translated_message = Message._translate_msgid(self.msgid, self.domain, desired_locale) if self.params is None: # No need for more translation return translated_message # This Message object may have been formatted with one or more # Message objects as substitution arguments, given either as a single # argument, part of a tuple, or as one or more values in a dictionary. # When translating this Message we need to translate those Messages too translated_params = _translate_args(self.params, desired_locale) translated_message = translated_message % translated_params return translated_message @staticmethod def _translate_msgid(msgid, domain, desired_locale=None): if not desired_locale: system_locale = locale.getdefaultlocale() # If the system locale is not available to the runtime use English if not system_locale[0]: desired_locale = 'en_US' else: desired_locale = system_locale[0] locale_dir = os.environ.get(domain.upper() + '_LOCALEDIR') lang = gettext.translation(domain, localedir=locale_dir, languages=[desired_locale], fallback=True) if six.PY3: translator = lang.gettext else: translator = lang.ugettext translated_message = translator(msgid) return translated_message # When we mod a Message we want the actual operation to be performed # by the parent class (i.e. unicode()), the only thing we do here is # save the original msgid and the parameters in case of a translation params = self._sanitize_mod_params(other) unicode_mod = super(Message, self).__mod__(params) modded = Message(self.msgid, msgtext=unicode_mod, params=params, domain=self.domain) return modded def _sanitize_mod_params(self, other): """"""Sanitize the object being modded with this Message. - Add support for modding 'None' so translation supports it - Trim the modded object, which can be a large dictionary, to only those keys that would actually be used in a translation - Snapshot the object being modded, in case the message is translated, it will be used as it was when the Message was created """""" if other is None: params = (other,) elif isinstance(other, dict): # Merge the dictionaries # Copy each item in case one does not support deep copy. params = {} if isinstance(self.params, dict): for key, val in self.params.items(): params[key] = self._copy_param(val) for key, val in other.items(): params[key] = self._copy_param(val) else: params = self._copy_param(other) return params def _copy_param(self, param): try: return copy.deepcopy(param) except Exception: # Fallback to casting to unicode this will handle the # python code-like objects that can't be deep-copied return six.text_type(param) def __add__(self, other): msg = _('Message objects do not support addition.') raise TypeError(msg) def __radd__(self, other): return self.__add__(other) def __str__(self): # NOTE(luisg): Logging in python 2.6 tries to str() log records, # and it expects specifically a UnicodeError in order to proceed. msg = _('Message objects do not support str() because they may ' 'contain non-ascii characters. ' 'Please use unicode() or translate() instead.') raise UnicodeError(msg) # this check when the master list updates to >=1.0, and update all projects # NOTE(luisg): Babel>=1.0,<1.3 has a bug where some OpenStack supported # locales (e.g. 'zh_CN', and 'zh_TW') aren't supported even though they # are perfectly legitimate locales: # https://github.com/mitsuhiko/babel/issues/37 # In Babel 1.3 they fixed the bug and they support these locales, but # they are still not explicitly ""listed"" by locale_identifiers(). # That is why we add the locales here explicitly if necessary so that # they are listed as supported. aliases = {'zh': 'zh_CN', 'zh_Hant_HK': 'zh_HK', 'zh_Hant': 'zh_TW', 'fil': 'tl_PH'} for (locale2, alias) in six.iteritems(aliases): if locale2 in language_list and alias not in language_list: language_list.append(alias) def translate(obj, desired_locale=None): """"""Gets the translated unicode representation of the given object. If the object is not translatable it is returned as-is. If the locale is None the object is translated to the system locale. :param obj: the object to translate :param desired_locale: the locale to translate the message to, if None the default system locale will be used :returns: the translated object in unicode, or the original object if it could not be translated """""" message = obj if not isinstance(message, Message): # If the object to translate is not already translatable, # let's first get its unicode representation message = six.text_type(obj) if isinstance(message, Message): # Even after unicoding() we still need to check if we are # running with translatable unicode before translating return message.translate(desired_locale) return obj def _translate_args(args, desired_locale=None): """"""Translates all the translatable elements of the given arguments object. This method is used for translating the translatable values in method arguments which include values of tuples or dictionaries. If the object is not a tuple or a dictionary the object itself is translated if it is translatable. If the locale is None the object is translated to the system locale. :param args: the args to translate :param desired_locale: the locale to translate the args to, if None the default system locale will be used :returns: a new args object with the translated contents of the original """""" if isinstance(args, tuple): return tuple(translate(v, desired_locale) for v in args) if isinstance(args, dict): translated_dict = {} for (k, v) in six.iteritems(args): translated_v = translate(v, desired_locale) translated_dict[k] = translated_v return translated_dict return translate(args, desired_locale) class TranslationHandler(handlers.MemoryHandler): """"""Handler that translates records before logging them. The TranslationHandler takes a locale and a target logging.Handler object to forward LogRecord objects to after translating them. This handler depends on Message objects being logged, instead of regular strings. The handler can be configured declaratively in the logging.conf as follows: [handlers] keys = translatedlog, translator [handler_translatedlog] class = handlers.WatchedFileHandler args = ('/var/log/api-localized.log',) formatter = context [handler_translator] class = openstack.common.log.TranslationHandler target = translatedlog args = ('zh_CN',) If the specified locale is not available in the system, the handler will log in the default locale. def __init__(self, locale=None, target=None): """"""Initialize a TranslationHandler # NOTE(luisg): In order to allow this handler to be a wrapper for # other handlers, such as a FileHandler, and still be able to # configure it using logging.conf, this handler has to extend # MemoryHandler because only the MemoryHandlers' logging.conf # parsing is implemented such that it accepts a target handler. handlers.MemoryHandler.__init__(self, capacity=0, target=target) def setFormatter(self, fmt): self.target.setFormatter(fmt) # We save the message from the original record to restore it # after translation, so other handlers are not affected by this original_msg = record.msg original_args = record.args try: self._translate_and_log_record(record) finally: record.msg = original_msg record.args = original_args def _translate_and_log_record(self, record): record.msg = translate(record.msg, self.locale) # In addition to translating the message, we also need to translate # arguments that were passed to the log method that were not part # of the main message e.g., log.info(_('Some message %s'), this_one)) record.args = _translate_args(record.args, self.locale)","# vim: tabstop=4 shiftwidth=4 softtabstop=4 import loggingimport re try: import UserString as _userString except ImportError: import collections as _userString return Message(msg, 'magnetodb') else: # # Also included below is an example LocaleHandler that translates # Messages to an associated locale, effectively allowing many logs, # each with their own locale. return Message(msg, domain) import __builtin__ __builtin__.__dict__['_'] = _lazy_gettext gettext.install(domain, localedir=os.environ.get(localedir), unicode=True) class Message(_userString.UserString, object): """"""Class used to encapsulate translatable messages."""""" def __init__(self, msg, domain): # _msg is the gettext msgid and should never change self._msg = msg self._left_extra_msg = '' self._right_extra_msg = '' self.params = None self.locale = None self.domain = domain @property def data(self): # NOTE(mrodden): this should always resolve to a unicode string # that best represents the state of the message currently localedir = os.environ.get(self.domain.upper() + '_LOCALEDIR') if self.locale: lang = gettext.translation(self.domain, localedir=localedir, languages=[self.locale], fallback=True) else: # use system locale for translations lang = gettext.translation(self.domain, localedir=localedir, fallback=True) full_msg = (self._left_extra_msg + lang.ugettext(self._msg) + self._right_extra_msg) if self.params is not None: full_msg = full_msg % self.params return six.text_type(full_msg) def _save_dictionary_parameter(self, dict_param): full_msg = self.data # look for %(blah) fields in string; # ignore %% and deal with the # case where % is first character on the line keys = re.findall('(?:[^%]|^)?%\((\w*)\)[a-z]', full_msg) # if we don't find any %(blah) blocks but have a %s if not keys and re.findall('(?:[^%]|^)%[a-z]', full_msg): # apparently the full dictionary is the parameter params = copy.deepcopy(dict_param) else: params = {} for key in keys: try: params[key] = copy.deepcopy(dict_param[key]) except TypeError: # cast uncopyable thing to unicode string params[key] = unicode(dict_param[key]) return params def _save_parameters(self, other): # we check for None later to see if # we actually have parameters to inject, # so encapsulate if our parameter is actually None if other is None: self.params = (other, ) elif isinstance(other, dict): self.params = self._save_dictionary_parameter(other) else: # fallback to casting to unicode, # this will handle the problematic python code-like # objects that cannot be deep-copied try: self.params = copy.deepcopy(other) except TypeError: self.params = unicode(other) return self # overrides to be more string-like def __unicode__(self): return self.data def __str__(self): return self.data.encode('utf-8') def __getstate__(self): to_copy = ['_msg', '_right_extra_msg', '_left_extra_msg', 'domain', 'params', 'locale'] new_dict = self.__dict__.fromkeys(to_copy) for attr in to_copy: new_dict[attr] = copy.deepcopy(self.__dict__[attr]) return new_dict def __setstate__(self, state): for (k, v) in state.items(): setattr(self, k, v) # operator overloads def __add__(self, other): copied = copy.deepcopy(self) copied._right_extra_msg += other.__str__() return copied def __radd__(self, other): copied = copy.deepcopy(self) copied._left_extra_msg += other.__str__() return copied # do a format string to catch and raise # any possible KeyErrors from missing parameters self.data % other copied = copy.deepcopy(self) return copied._save_parameters(other) def __mul__(self, other): return self.data * other def __rmul__(self, other): return other * self.data def __getitem__(self, key): return self.data[key] def __getslice__(self, start, end): return self.data.__getslice__(start, end) def __getattribute__(self, name): # NOTE(mrodden): handle lossy operations that we can't deal with yet # These override the UserString implementation, since UserString # uses our __class__ attribute to try and build a new message # after running the inner data string through the operation. # At that point, we have lost the gettext message id and can just # safely resolve to a string instead. ops = ['capitalize', 'center', 'decode', 'encode', 'expandtabs', 'ljust', 'lstrip', 'replace', 'rjust', 'rstrip', 'strip', 'swapcase', 'title', 'translate', 'upper', 'zfill'] if name in ops: return getattr(self.data, name) else: return _userString.UserString.__getattribute__(self, name) # this check when the master list updates to >=1.0, and all projects udpatedef get_localized_message(message, user_locale): """"""Gets a localized version of the given message in the given locale."""""" if isinstance(message, Message): if user_locale: message.locale = user_locale return unicode(message) else: return message class LocaleHandler(logging.Handler): """"""Handler that can have a locale associated to translate Messages. A quick example of how to utilize the Message class above. LocaleHandler takes a locale and a target logging.Handler object to forward LogRecord objects to after translating the internal Message. def __init__(self, locale, target): """"""Initialize a LocaleHandler logging.Handler.__init__(self) self.target = target if isinstance(record.msg, Message): # set the locale and resolve to a string record.msg.locale = self.locale",7471,214
openstack%2Fnova~master~I624fe77c71f6cb7ca453c863b59f0452c8e6b383,openstack/nova,master,I624fe77c71f6cb7ca453c863b59f0452c8e6b383,Network: add instance to the debug statement,MERGED,2014-05-21 08:20:19.000000000,2014-06-16 08:34:38.000000000,2014-06-16 08:34:36.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 261}, {'_account_id': 642}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 1678}, {'_account_id': 1849}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 5892}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7148}, {'_account_id': 8247}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9172}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-05-21 08:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57d7ea923b2f722526e430ca2ba9d76e9e91108a', 'message': 'Network: add instance to the debug statement\n\nDeallocating a network from an instance was difficult to debug when\nmore than one instance has the same name.\n\nChange-Id: I624fe77c71f6cb7ca453c863b59f0452c8e6b383\n'}, {'number': 2, 'created': '2014-05-22 08:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f9fde9e94da7b804e44e86d316cd0cb790200fb', 'message': 'Network: add instance to the debug statement\n\niAllocating and deallocating a network from an instance is\nto debug when more than one instance has the same name.\n\nChange-Id: I624fe77c71f6cb7ca453c863b59f0452c8e6b383\n'}, {'number': 3, 'created': '2014-05-31 17:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6051330f1f0ffe8243912306668e6d519349385', 'message': 'Network: add instance to the debug statement\n\nAllocating and deallocating a network from an instance is\nto debug when more than one instance has the same name.\n\nChange-Id: I624fe77c71f6cb7ca453c863b59f0452c8e6b383\n'}, {'number': 4, 'created': '2014-05-31 17:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b26693918d6db4f9c8db52cd87097c3f2058e58', 'message': 'Network: add instance to the debug statement\n\nAllocating and deallocating a network from an instance is\nto debug when more than one instance has the same name.\n\nChange-Id: I624fe77c71f6cb7ca453c863b59f0452c8e6b383\n'}, {'number': 5, 'created': '2014-05-31 17:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc30387643e7d3cd94d9f0f6ea95b147c3542bf5', 'message': 'Network: add instance to the debug statement\n\nAllocating and deallocating a network from an instance is\nto debug when more than one instance has the same name.\n\nIn addition to this it also does the same for exceptions.\n\nChange-Id: I624fe77c71f6cb7ca453c863b59f0452c8e6b383\n'}, {'number': 6, 'created': '2014-05-31 17:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e087c8b232f416f55cd071db81803dba79bc5a80', 'message': 'Network: add instance to the debug statement\n\nAllocating and deallocating a network from an instance is\nto debug when more than one instance has the same name.\n\nIn addition to this it also does the same for exceptions.\n\nChange-Id: I624fe77c71f6cb7ca453c863b59f0452c8e6b383\n'}, {'number': 7, 'created': '2014-06-01 06:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1622b194b314fca616921a13cad97b435cbe31e8', 'message': 'Network: add instance to the debug statement\n\nAllocating and deallocating a network from an instance needs\nmore info to debug especially when more than one instance\nhas the same name.\n\nThe same change is also mae regarding exceptions. That is,\nthe instance UUID will be used instead of the name.\n\nChange-Id: I624fe77c71f6cb7ca453c863b59f0452c8e6b383\n'}, {'number': 8, 'created': '2014-06-02 06:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9206386d9fd6e0297932db3611b1b9859af4065e', 'message': 'Network: add instance to the debug statement\n\nAllocating and deallocating a network from an instance needs\nmore info to debug especially when more than one instance\nhas the same name.\n\nThe same change is also mae regarding exceptions. That is,\nthe instance UUID will be used instead of the name.\n\nChange-Id: I624fe77c71f6cb7ca453c863b59f0452c8e6b383\n'}, {'number': 9, 'created': '2014-06-08 09:49:11.000000000', 'files': ['nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/57a2091a10f9e860059215018def0556e07b3b7d', 'message': 'Network: add instance to the debug statement\n\nAllocating and deallocating a network from an instance needs\nmore info to debug especially when more than one instance\nhas the same name.\n\nThe same change is also made regarding exceptions. That is,\nthe instance UUID will be used instead of the name.\n\nChange-Id: I624fe77c71f6cb7ca453c863b59f0452c8e6b383\n'}]",10,94550,57a2091a10f9e860059215018def0556e07b3b7d,120,21,9,1653,,,0,"Network: add instance to the debug statement

Allocating and deallocating a network from an instance needs
more info to debug especially when more than one instance
has the same name.

The same change is also made regarding exceptions. That is,
the instance UUID will be used instead of the name.

Change-Id: I624fe77c71f6cb7ca453c863b59f0452c8e6b383
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/94550/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutronv2/api.py'],1,57d7ea923b2f722526e430ca2ba9d76e9e91108a,debug-network," instance['display_name'], instance=instance)", instance['display_name']),1,1
openstack%2Fpython-solumclient~master~I41ba51ce6b3ac61b5af0fb02b8fb86285d20eba6,openstack/python-solumclient,master,I41ba51ce6b3ac61b5af0fb02b8fb86285d20eba6,Fix new pep8 checks so we can get the new hacking package,MERGED,2014-06-16 01:44:14.000000000,2014-06-16 08:32:58.000000000,2014-06-16 08:32:58.000000000,"[{'_account_id': 3}, {'_account_id': 8334}, {'_account_id': 9537}]","[{'number': 1, 'created': '2014-06-16 01:44:14.000000000', 'files': ['solumclient/tests/test_solum.py', 'solumclient/client.py', 'solumclient/tests/__init__.py', 'solumclient/solum.py', 'solumclient/common/cli_utils.py'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/743a7a253bccdc38f1a80555a7019e9a48f1c34b', 'message': 'Fix new pep8 checks so we can get the new hacking package\n\nChange-Id: I41ba51ce6b3ac61b5af0fb02b8fb86285d20eba6\n'}]",0,100122,743a7a253bccdc38f1a80555a7019e9a48f1c34b,8,3,1,4715,,,0,"Fix new pep8 checks so we can get the new hacking package

Change-Id: I41ba51ce6b3ac61b5af0fb02b8fb86285d20eba6
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/22/100122/1 && git format-patch -1 --stdout FETCH_HEAD,"['solumclient/tests/test_solum.py', 'solumclient/client.py', 'solumclient/tests/__init__.py', 'solumclient/solum.py', 'solumclient/common/cli_utils.py']",5,743a7a253bccdc38f1a80555a7019e9a48f1c34b,," """"""Action handler."""""""," """"""Action handler""""""",7,19
openstack%2Fdiskimage-builder~master~Id3bd11d669fd46b5cdd98f51edbe3289bf819743,openstack/diskimage-builder,master,Id3bd11d669fd46b5cdd98f51edbe3289bf819743,Factor out get kernel image,ABANDONED,2014-06-09 11:58:15.000000000,2014-06-16 08:29:46.000000000,,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 8041}]","[{'number': 1, 'created': '2014-06-09 11:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cf17bd504c5a15da241d8d9af9ba3a2b510b1160', 'message': 'Factor out get kernel image\n\nAdds new function get_kernel_initrd_image.\nThis reduces code duplication, and allows other elements to\nuse it.\n\nChange-Id: Id3bd11d669fd46b5cdd98f51edbe3289bf819743\n'}, {'number': 2, 'created': '2014-06-09 13:33:56.000000000', 'files': ['elements/baremetal/cleanup.d/99-extract-kernel-and-ramdisk', 'lib/common-functions', 'bin/disk-image-get-kernel'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9a0afa63d8e029df0b24d31531211debd605e74a', 'message': 'Factor out get kernel image\n\nAdds new function get_kernel_initrd_image.\nThis reduces code duplication, and allows other elements to\nuse it.\n\nChange-Id: Id3bd11d669fd46b5cdd98f51edbe3289bf819743\n'}]",0,98756,9a0afa63d8e029df0b24d31531211debd605e74a,12,3,2,1726,,,0,"Factor out get kernel image

Adds new function get_kernel_initrd_image.
This reduces code duplication, and allows other elements to
use it.

Change-Id: Id3bd11d669fd46b5cdd98f51edbe3289bf819743
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/56/98756/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/baremetal/cleanup.d/99-extract-kernel-and-ramdisk', 'lib/common-functions', 'bin/disk-image-get-kernel']",3,cf17bd504c5a15da241d8d9af9ba3a2b510b1160,common_get_kenel,get_kernel_initrd_image,"if [ -f $WORK_DIR/etc/redhat-release ]; then # Prioritize PAE if present KERNEL=$(ls -1rv $BOOTDIR/vmlinuz* | grep PAE | grep -v debug | head -1) if [ ! $KERNEL ]; then KERNEL=$(ls -1rv $BOOTDIR/vmlinuz* | grep -v debug | head -1) if [ ! $KERNEL ]; then echo ""No suitable kernel found."" exit 1 fi fi KERNEL=$(basename $KERNEL) KERNEL_VERSION=`echo $KERNEL | sed 's/vmlinuz-//g'` RAMDISK=$(basename `ls $BOOTDIR/initramfs-$KERNEL_VERSION.img`) if [ ! $RAMDISK ]; then echo ""Can't find an initramfs for the $KERNEL_VERSION version of the kernel."" exit 1 fi elif [ -f $WORK_DIR/etc/debian_version ]; then KERNEL=$(basename `ls -1rv $BOOTDIR/vmlinuz*generic | head -1`) RAMDISK=$(basename `ls -1rv $BOOTDIR/initrd*generic | head -1`) elif [ -f $WORK_DIR/etc/SuSE-release ]; then KERNEL=$(basename `ls -1rv $BOOTDIR/vmlinuz`) RAMDISK=$(basename `ls -1rv $BOOTDIR/initrd`) else echo ""ERROR: Unable to detect operating system"" exit 1 fi",38,62
openstack%2Fsahara-dashboard~master~Ia99d1bbcbacd686d6d9de5aeacc13e6066bf49cc,openstack/sahara-dashboard,master,Ia99d1bbcbacd686d6d9de5aeacc13e6066bf49cc,Added new hacking version to requirements,MERGED,2014-06-16 05:30:46.000000000,2014-06-16 08:27:32.000000000,2014-06-16 08:27:31.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}]","[{'number': 1, 'created': '2014-06-16 05:30:46.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/81a8c6e634b0dee1ba5fc05157100aabca299a02', 'message': 'Added new hacking version to requirements\n\n* Added hacking>=0.9.1,<0.10 according to change\n  I4e5f370607936144c11585453f3b1db7a26eff9c\n* Ignored all pep8 errors to work with new version\n\nChange-Id: Ia99d1bbcbacd686d6d9de5aeacc13e6066bf49cc\n'}]",0,100139,81a8c6e634b0dee1ba5fc05157100aabca299a02,8,3,1,7125,,,0,"Added new hacking version to requirements

* Added hacking>=0.9.1,<0.10 according to change
  I4e5f370607936144c11585453f3b1db7a26eff9c
* Ignored all pep8 errors to work with new version

Change-Id: Ia99d1bbcbacd686d6d9de5aeacc13e6066bf49cc
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/39/100139/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,81a8c6e634b0dee1ba5fc05157100aabca299a02,new-hacking,"# E226 missing whitespace around arithmetic operator # E251 unexpected spaces around keyword / parameter equals # E265 block comment should start with '# ' # H305 imports not grouped correctly (re: stdlib, six: third-party) # H307 like imports should be grouped together (six and oslo.config.cfg from third-party are separated by whitespace) # H904 Wrap long lines in parentheses instead of a backslash ignore = E226,E251,E265,H305,H307,H904",,8,1
openstack%2Fsahara-dashboard~master~I4e5f370607936144c11585453f3b1db7a26eff9c,openstack/sahara-dashboard,master,I4e5f370607936144c11585453f3b1db7a26eff9c,Updated from global requirements,ABANDONED,2014-06-10 14:40:13.000000000,2014-06-16 08:24:35.000000000,,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 8090}]","[{'number': 1, 'created': '2014-06-10 14:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/1e4f850adf90e77bb59b0efa435f964cd2392567', 'message': 'Updated from global requirements\n\nChange-Id: I4e5f370607936144c11585453f3b1db7a26eff9c\n'}, {'number': 2, 'created': '2014-06-11 01:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/df4993172f0720a45939e6a41bef8de26f2ba980', 'message': 'Updated from global requirements\n\nChange-Id: I4e5f370607936144c11585453f3b1db7a26eff9c\n'}, {'number': 3, 'created': '2014-06-15 19:49:27.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/89516ecf48e12574d925531695337f65072694b9', 'message': 'Updated from global requirements\n\nChange-Id: I4e5f370607936144c11585453f3b1db7a26eff9c\n'}]",0,99097,89516ecf48e12574d925531695337f65072694b9,24,5,3,11131,,,0,"Updated from global requirements

Change-Id: I4e5f370607936144c11585453f3b1db7a26eff9c
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/97/99097/3 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1e4f850adf90e77bb59b0efa435f964cd2392567,openstack/requirements,"hacking>=0.8.0,<0.10,!=0.9.0","hacking>=0.8.0,<0.9",1,1
openstack%2Fpython-novaclient~master~I19dfadbe9103145a6b80d8ce10d2b6d3ce326ffa,openstack/python-novaclient,master,I19dfadbe9103145a6b80d8ce10d2b6d3ce326ffa,Convert Floating IPs DNS tests to httpretty,MERGED,2014-05-26 07:00:06.000000000,2014-06-16 08:22:27.000000000,2014-06-16 08:22:27.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 2750}, {'_account_id': 7191}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-05-26 07:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/ac520cd2655d7a5380e2f00d249edfb2fb362dbf', 'message': 'Convert Floating IPs DNS tests to httpretty\n\nChange-Id: I19dfadbe9103145a6b80d8ce10d2b6d3ce326ffa\nblueprint: httpretty-testing\n'}, {'number': 2, 'created': '2014-05-27 01:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/f205651803f5bc7dcb7b7f0cd3b770138a46d8ca', 'message': 'Convert Floating IPs DNS tests to httpretty\n\nChange-Id: I19dfadbe9103145a6b80d8ce10d2b6d3ce326ffa\nblueprint: httpretty-testing\n'}, {'number': 3, 'created': '2014-06-06 04:41:01.000000000', 'files': ['novaclient/tests/fixture_data/floatingips.py', 'novaclient/tests/v1_1/test_floating_ip_dns.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/851c7a2d97567d4cc2d6f2863dcbcf8d26d67eb9', 'message': 'Convert Floating IPs DNS tests to httpretty\n\nChange-Id: I19dfadbe9103145a6b80d8ce10d2b6d3ce326ffa\nblueprint: httpretty-testing\n'}]",0,95423,851c7a2d97567d4cc2d6f2863dcbcf8d26d67eb9,24,5,3,7191,,,0,"Convert Floating IPs DNS tests to httpretty

Change-Id: I19dfadbe9103145a6b80d8ce10d2b6d3ce326ffa
blueprint: httpretty-testing
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/23/95423/2 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/tests/fixture_data/floatingips.py', 'novaclient/tests/v1_1/test_floating_ip_dns.py']",2,ac520cd2655d7a5380e2f00d249edfb2fb362dbf,bp/httpretty-testing,"from novaclient.tests.fixture_data import client from novaclient.tests.fixture_data import floatingips as dataclass FloatingIPDNSDomainTest(utils.FixturedTestCase): client_fixture_class = client.V1 data_fixture_class = data.DNSFixture domainlist = self.cs.dns_domains.domains() self.cs.dns_domains.create_private(self.testdomain, 'test_avzone') self.assert_called('PUT', '/os-floating-ip-dns/%s' % self.testdomain) self.cs.dns_domains.create_public(self.testdomain, 'test_project') self.assert_called('PUT', '/os-floating-ip-dns/%s' % self.testdomain) self.cs.dns_domains.delete(self.testdomain) self.assert_called('DELETE', '/os-floating-ip-dns/%s' % self.testdomain) class FloatingIPDNSEntryTest(utils.FixturedTestCase): client_fixture_class = client.V1 data_fixture_class = data.DNSFixture entries = self.cs.dns_entries.get_for_ip(self.testdomain, ip=self.testip) entry = self.cs.dns_entries.get(self.testdomain, self.testname) self.cs.dns_entries.create(self.testdomain, self.testname, self.testip, self.testtype) self.assert_called('PUT', '/os-floating-ip-dns/%s/entries/%s' % (self.testdomain, self.testname)) self.cs.dns_entries.delete(self.testdomain, self.testname) self.assert_called('DELETE', '/os-floating-ip-dns/%s/entries/%s' % (self.testdomain, self.testname))","from novaclient.tests.v1_1 import fakescs = fakes.FakeClient() class FloatingIPDNSDomainTest(utils.TestCase): domainlist = cs.dns_domains.domains() cs.dns_domains.create_private(self.testdomain, 'test_avzone') cs.assert_called('PUT', '/os-floating-ip-dns/%s' % self.testdomain) cs.dns_domains.create_public(self.testdomain, 'test_project') cs.assert_called('PUT', '/os-floating-ip-dns/%s' % self.testdomain) cs.dns_domains.delete(self.testdomain) cs.assert_called('DELETE', '/os-floating-ip-dns/%s' % self.testdomain) class FloatingIPDNSEntryTest(utils.TestCase): entries = cs.dns_entries.get_for_ip(self.testdomain, ip=self.testip) entry = cs.dns_entries.get(self.testdomain, self.testname) cs.dns_entries.create(self.testdomain, self.testname, self.testip, self.testtype) cs.assert_called('PUT', '/os-floating-ip-dns/%s/entries/%s' % (self.testdomain, self.testname)) cs.dns_entries.delete(self.testdomain, self.testname) cs.assert_called('DELETE', '/os-floating-ip-dns/%s/entries/%s' % (self.testdomain, self.testname))",126,28
openstack%2Fos-cloud-config~master~I77eef1654b025e33b1b54d35f020d0b61d739e5a,openstack/os-cloud-config,master,I77eef1654b025e33b1b54d35f020d0b61d739e5a,Ignore Conflict exception when setting power state,MERGED,2014-06-13 05:55:52.000000000,2014-06-16 08:22:22.000000000,2014-06-16 08:22:22.000000000,"[{'_account_id': 3}, {'_account_id': 4190}, {'_account_id': 4330}]","[{'number': 1, 'created': '2014-06-13 05:55:52.000000000', 'files': ['os_cloud_config/nodes.py'], 'web_link': 'https://opendev.org/openstack/os-cloud-config/commit/3a217fa80fbe7fbf4aef13702d9782e24ca7338e', 'message': 'Ignore Conflict exception when setting power state\n\nThe call to set_power_state() when registering an Ironic node can\nfail if the Ironic conductor has grabbed a lock first and started\nits work to assert power state. Since the conductor will power off\nthe node, we can safely ignore the exception.\n\nChange-Id: I77eef1654b025e33b1b54d35f020d0b61d739e5a\n'}]",0,99849,3a217fa80fbe7fbf4aef13702d9782e24ca7338e,12,3,1,9369,,,0,"Ignore Conflict exception when setting power state

The call to set_power_state() when registering an Ironic node can
fail if the Ironic conductor has grabbed a lock first and started
its work to assert power state. Since the conductor will power off
the node, we can safely ignore the exception.

Change-Id: I77eef1654b025e33b1b54d35f020d0b61d739e5a
",git fetch https://review.opendev.org/openstack/os-cloud-config refs/changes/49/99849/1 && git format-patch -1 --stdout FETCH_HEAD,['os_cloud_config/nodes.py'],1,3a217fa80fbe7fbf4aef13702d9782e24ca7338e,no-conflict-for-power-state," try: client.node.set_power_state(ironic_node.uuid, 'off') except ironicexp.Conflict: # Conflict means the Ironic conductor got there first, so we can # ignore the exception. pass"," client.node.set_power_state(ironic_node.uuid, 'off')",6,1
openstack%2Fnova~master~Iacfc555b98554af4ba783743493e6267180cefe9,openstack/nova,master,Iacfc555b98554af4ba783743493e6267180cefe9,"compute/api:fix pep8 failures, delete unused param",ABANDONED,2014-06-13 15:00:39.000000000,2014-06-16 08:21:07.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11650}]","[{'number': 1, 'created': '2014-06-13 15:00:39.000000000', 'files': ['nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/407d5a5ad9e02da764778a500ec84d26c1f7c698', 'message': 'compute/api:fix pep8 failures, delete unused param\n\nFix PEP8 E128 (continuation line under-indented for visual indent) in\n_validate_and_build_base_options\n\nRemove unused param block_device_mapping from\n_validate_and_build_base_options\n\nChange-Id: Iacfc555b98554af4ba783743493e6267180cefe9\n'}]",0,99951,407d5a5ad9e02da764778a500ec84d26c1f7c698,12,8,1,11650,,,0,"compute/api:fix pep8 failures, delete unused param

Fix PEP8 E128 (continuation line under-indented for visual indent) in
_validate_and_build_base_options

Remove unused param block_device_mapping from
_validate_and_build_base_options

Change-Id: Iacfc555b98554af4ba783743493e6267180cefe9
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/99951/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,407d5a5ad9e02da764778a500ec84d26c1f7c698,," instance_type, metadata, injected_files) requested_networks, max_count) kernel_id, ramdisk_id = self._handle_kernel_and_ramdisk(context, kernel_id, ramdisk_id, boot_meta) options_from_image = \ self._inherit_properties_from_image(boot_meta, auto_disk_config) auto_disk_config, reservation_id, max_count)"," block_device_mapping, instance_type, metadata, injected_files) requested_networks, max_count) kernel_id, ramdisk_id = self._handle_kernel_and_ramdisk( context, kernel_id, ramdisk_id, boot_meta) options_from_image = self._inherit_properties_from_image( boot_meta, auto_disk_config) block_device_mapping, auto_disk_config, reservation_id, max_count)",11,9
openstack%2Fpython-novaclient~master~I0f6816868580af32ee93c0bfdf2c113c6c6ecd13,openstack/python-novaclient,master,I0f6816868580af32ee93c0bfdf2c113c6c6ecd13,Convert Floating IP tests to httpretty,MERGED,2014-05-26 07:00:06.000000000,2014-06-16 08:20:46.000000000,2014-06-16 08:20:46.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 2750}, {'_account_id': 7191}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-05-26 07:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/f0f145d278c80052297b9b10f2fcb0aa7085e1c8', 'message': 'Convert Floating IP tests to httpretty\n\nChange-Id: I0f6816868580af32ee93c0bfdf2c113c6c6ecd13\nblueprint: httpretty-testing\n'}, {'number': 2, 'created': '2014-05-27 01:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/ca40cd49382b9a47c51de6b36261d6218964d235', 'message': 'Convert Floating IP tests to httpretty\n\nChange-Id: I0f6816868580af32ee93c0bfdf2c113c6c6ecd13\nblueprint: httpretty-testing\n'}, {'number': 3, 'created': '2014-06-06 04:41:01.000000000', 'files': ['novaclient/tests/v1_1/test_floating_ips.py', 'novaclient/tests/fixture_data/floatingips.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/782a2595f8224ed96fd582a8f49f9a0cf29a6fbc', 'message': 'Convert Floating IP tests to httpretty\n\nChange-Id: I0f6816868580af32ee93c0bfdf2c113c6c6ecd13\nblueprint: httpretty-testing\n'}]",0,95422,782a2595f8224ed96fd582a8f49f9a0cf29a6fbc,24,5,3,7191,,,0,"Convert Floating IP tests to httpretty

Change-Id: I0f6816868580af32ee93c0bfdf2c113c6c6ecd13
blueprint: httpretty-testing
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/22/95422/2 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/tests/v1_1/test_floating_ips.py', 'novaclient/tests/fixture_data/floatingips.py']",2,f0f145d278c80052297b9b10f2fcb0aa7085e1c8,bp/httpretty-testing,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import httpretty from novaclient.openstack.common import jsonutils from novaclient.tests.fixture_data import base class FloatingFixture(base.Fixture): base_url = 'os-floating-ips' def setUp(self): super(FloatingFixture, self).setUp() floating_ips = [{'id': 1, 'fixed_ip': '10.0.0.1', 'ip': '11.0.0.1'}, {'id': 2, 'fixed_ip': '10.0.0.2', 'ip': '11.0.0.2'}] get_os_floating_ips = {'floating_ips': floating_ips} httpretty.register_uri(httpretty.GET, self.url(), body=jsonutils.dumps(get_os_floating_ips), content_type='application/json') for ip in floating_ips: get_os_floating_ip = {'floating_ip': ip} httpretty.register_uri(httpretty.GET, self.url(ip['id']), body=jsonutils.dumps(get_os_floating_ip), content_type='application/json') httpretty.register_uri(httpretty.DELETE, self.url(ip['id']), content_type='application/json', status=204) def post_os_floating_ips(request, url, headers): ip = floating_ips[0].copy() ip['pool'] = request.parsed_body.get('pool') ip = jsonutils.dumps({'floating_ip': ip}) return 200, headers, ip httpretty.register_uri(httpretty.POST, self.url(), body=post_os_floating_ips, content_type='application/json') ",,70,18
openstack%2Fnova~master~Ib10f5826e2238cbb2d4315c48be570eb31b2ea55,openstack/nova,master,Ib10f5826e2238cbb2d4315c48be570eb31b2ea55,Don't translate debug level logs in nova,MERGED,2014-06-12 08:41:51.000000000,2014-06-16 08:18:30.000000000,2014-06-16 08:18:28.000000000,"[{'_account_id': 3}, {'_account_id': 1247}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10692}, {'_account_id': 11650}]","[{'number': 1, 'created': '2014-06-12 08:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e68b5e5fab8e5d8ea9d26738c0585a709393ad9', 'message': ""Don't translate debug level logs in nova\n\nOur translation policy\n(https://wiki.openstack.org/wiki/LoggingStandards#Log_Translation) calls\nfor not translating debug level logs. This is to help prioritize log\ntranslation. Furthermore translation has a performance overhead, even if\nthe log isn't used (since nova doesn't support lazy translation yet).\n\nThis is the final patch ensuring that all fines in the nova directory\nno longer have translations for debug messages.\n\nChange-Id: Ib10f5826e2238cbb2d4315c48be570eb31b2ea55\n""}, {'number': 2, 'created': '2014-06-13 08:08:09.000000000', 'files': ['nova/service.py', 'nova/filters.py', 'nova/debugger.py', 'nova/hacking/checks.py', 'nova/crypto.py', 'nova/hooks.py', 'nova/wsgi.py', 'nova/block_device.py', 'nova/quota.py', 'nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4dcf093236aa9492668695a9a085a61f2a886685', 'message': ""Don't translate debug level logs in nova\n\nOur translation policy\n(https://wiki.openstack.org/wiki/LoggingStandards#Log_Translation) calls\nfor not translating debug level logs. This is to help prioritize log\ntranslation. Furthermore translation has a performance overhead, even if\nthe log isn't used (since nova doesn't support lazy translation yet).\n\nThis is the final patch ensuring that all fines in the nova directory\nno longer have translations for debug messages.\n\nChange-Id: Ib10f5826e2238cbb2d4315c48be570eb31b2ea55\n""}]",2,99602,4dcf093236aa9492668695a9a085a61f2a886685,32,11,2,1653,,,0,"Don't translate debug level logs in nova

Our translation policy
(https://wiki.openstack.org/wiki/LoggingStandards#Log_Translation) calls
for not translating debug level logs. This is to help prioritize log
translation. Furthermore translation has a performance overhead, even if
the log isn't used (since nova doesn't support lazy translation yet).

This is the final patch ensuring that all fines in the nova directory
no longer have translations for debug messages.

Change-Id: Ib10f5826e2238cbb2d4315c48be570eb31b2ea55
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/99602/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/service.py', 'nova/debugger.py', 'nova/filters.py', 'nova/hacking/checks.py', 'nova/crypto.py', 'nova/hooks.py', 'nova/wsgi.py', 'nova/block_device.py', 'nova/quota.py', 'nova/utils.py']",10,4e68b5e5fab8e5d8ea9d26738c0585a709393ad9,complete-debug," LOG.debug(""Reloading cached file %s"", filename)"," LOG.debug(_(""Reloading cached file %s"") % filename)",19,48
openstack%2Fdib-utils~master~If1e6ac6fe528ca0225dcdbe5774545512be9d13a,openstack/dib-utils,master,If1e6ac6fe528ca0225dcdbe5774545512be9d13a,Ensure dib-run-parts profiling works with py3 and py2,MERGED,2014-06-06 16:35:20.000000000,2014-06-16 08:09:53.000000000,2014-06-16 07:16:54.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4190}, {'_account_id': 6928}, {'_account_id': 8449}]","[{'number': 1, 'created': '2014-06-06 16:35:20.000000000', 'files': ['bin/dib-run-parts'], 'web_link': 'https://opendev.org/openstack/dib-utils/commit/45b7cf44bc939ef08afc6b1cb1d855e0a85710ad', 'message': 'Ensure dib-run-parts profiling works with py3 and py2\n\nThis change adjusts the ""inline"" python function used to profile\nrun-parts duration to make it run successfully on both py2 and py3\n\nChange-Id: If1e6ac6fe528ca0225dcdbe5774545512be9d13a\n'}]",0,98461,45b7cf44bc939ef08afc6b1cb1d855e0a85710ad,19,5,1,6796,,,0,"Ensure dib-run-parts profiling works with py3 and py2

This change adjusts the ""inline"" python function used to profile
run-parts duration to make it run successfully on both py2 and py3

Change-Id: If1e6ac6fe528ca0225dcdbe5774545512be9d13a
",git fetch https://review.opendev.org/openstack/dib-utils refs/changes/61/98461/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/dib-run-parts'],1,45b7cf44bc939ef08afc6b1cb1d855e0a85710ad,py3," duration=$(python -c ""print($stop_seconds - $start_seconds)"")"," duration=$(python -c ""print $stop_seconds - $start_seconds"")",1,1
openstack%2Fsahara-image-elements~master~I777c13b70bbc142e31d17fd6c8653aa1960ba532,openstack/sahara-image-elements,master,I777c13b70bbc142e31d17fd6c8653aa1960ba532,Use archive.apache.org instead of www.apache.org,MERGED,2014-04-22 13:13:37.000000000,2014-06-16 08:06:46.000000000,2014-04-22 13:58:29.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 7732}, {'_account_id': 8411}, {'_account_id': 9499}]","[{'number': 1, 'created': '2014-04-22 13:13:37.000000000', 'files': ['elements/hive/post-install.d/60-hive'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/f812f4168c4a9f525f488b4d8a4853b4c48cb6ba', 'message': 'Use archive.apache.org instead of www.apache.org\n\nThe Apache Hive project has taken hive 0.11.0 down from\nwww.apache.org. However, it and newer versions are available from\narchive.apache.org. This change uses archive over www.\n\nChange-Id: I777c13b70bbc142e31d17fd6c8653aa1960ba532\n'}]",0,89561,f812f4168c4a9f525f488b4d8a4853b4c48cb6ba,12,8,1,7555,,,0,"Use archive.apache.org instead of www.apache.org

The Apache Hive project has taken hive 0.11.0 down from
www.apache.org. However, it and newer versions are available from
archive.apache.org. This change uses archive over www.

Change-Id: I777c13b70bbc142e31d17fd6c8653aa1960ba532
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/61/89561/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/hive/post-install.d/60-hive'],1,f812f4168c4a9f525f488b4d8a4853b4c48cb6ba,archive-hive, HIVE_DOWNLOAD_URL=http://archive.apache.org/dist/hive/hive-$HIVE_VERSION/hive-$HIVE_VERSION-bin.tar.gz, HIVE_DOWNLOAD_URL=http://www.apache.org/dist/hive/hive-$HIVE_VERSION/hive-$HIVE_VERSION-bin.tar.gz,1,1
openstack%2Fopenstack-manuals~stable%2Ficehouse~I4821be3ce72b2ab69b81e89d5584334b77e7a098,openstack/openstack-manuals,stable/icehouse,I4821be3ce72b2ab69b81e89d5584334b77e7a098,Config ref: document options modified in icehouse,MERGED,2014-06-13 18:45:06.000000000,2014-06-16 07:54:52.000000000,2014-06-16 07:54:52.000000000,"[{'_account_id': 3}, {'_account_id': 612}]","[{'number': 1, 'created': '2014-06-13 18:45:06.000000000', 'files': ['doc/common/tables/keystone-conf-changes-icehouse.xml', 'doc/config-reference/ch_orchestrationconfigure.xml', 'doc/common/tables/neutron-conf-changes-icehouse.xml', 'doc/config-reference/ch_networkingconfigure.xml', 'doc/common/tables/ceilometer-conf-changes-icehouse.xml', 'doc/config-reference/ch_identityconfigure.xml', 'doc/common/tables/nova-conf-changes-icehouse.xml', 'doc/common/tables/cinder-conf-changes-icehouse.xml', 'doc/config-reference/ch_blockstorageconfigure.xml', 'doc/common/tables/glance-conf-changes-icehouse.xml', 'doc/config-reference/ch_imageservice.xml', 'doc/common/tables/heat-conf-changes-icehouse.xml', 'doc/config-reference/ch_telemetryconfigure.xml', 'doc/config-reference/ch_computeconfigure.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/7ce45be0807d31b49689658d956c31a84df125b4', 'message': 'Config ref: document options modified in icehouse\n\nThe tables of modified/new/deprecated options is automatically generated\nusing the diff_branches.py script (https://review.openstack.org/97620).\n\nThis commit handles the havana->icehouse changes to be easily backported\nthe stable/icehouse. It can be updated for each milestone to document\nthe latest changes.\n\nChange-Id: I4821be3ce72b2ab69b81e89d5584334b77e7a098\nbackport: icehouse\n(cherry picked from commit 2621bcb92f43ca8aaff5d3788c8a414c21286c71)\n'}]",0,99986,7ce45be0807d31b49689658d956c31a84df125b4,9,2,1,7923,,,0,"Config ref: document options modified in icehouse

The tables of modified/new/deprecated options is automatically generated
using the diff_branches.py script (https://review.openstack.org/97620).

This commit handles the havana->icehouse changes to be easily backported
the stable/icehouse. It can be updated for each milestone to document
the latest changes.

Change-Id: I4821be3ce72b2ab69b81e89d5584334b77e7a098
backport: icehouse
(cherry picked from commit 2621bcb92f43ca8aaff5d3788c8a414c21286c71)
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/86/99986/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/common/tables/keystone-conf-changes-icehouse.xml', 'doc/config-reference/ch_orchestrationconfigure.xml', 'doc/common/tables/neutron-conf-changes-icehouse.xml', 'doc/config-reference/ch_networkingconfigure.xml', 'doc/common/tables/ceilometer-conf-changes-icehouse.xml', 'doc/config-reference/ch_identityconfigure.xml', 'doc/common/tables/nova-conf-changes-icehouse.xml', 'doc/common/tables/cinder-conf-changes-icehouse.xml', 'doc/config-reference/ch_blockstorageconfigure.xml', 'doc/common/tables/glance-conf-changes-icehouse.xml', 'doc/config-reference/ch_imageservice.xml', 'doc/common/tables/heat-conf-changes-icehouse.xml', 'doc/config-reference/ch_telemetryconfigure.xml', 'doc/config-reference/ch_computeconfigure.xml']",14,7ce45be0807d31b49689658d956c31a84df125b4,icehouse/backport/97621," <xi:include href=""../common/tables/nova-conf-changes-icehouse.xml""/>",,3174,6
openstack%2Fkeystone~master~I3b6d26278329841cfe1be5ce7f67ba6d3569785f,openstack/keystone,master,I3b6d26278329841cfe1be5ce7f67ba6d3569785f,Make sure domains are enabled by default,MERGED,2014-06-12 05:26:24.000000000,2014-06-16 07:52:02.000000000,2014-06-14 18:52:51.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 220}, {'_account_id': 1916}, {'_account_id': 2903}, {'_account_id': 8871}, {'_account_id': 9751}, {'_account_id': 11957}]","[{'number': 1, 'created': '2014-06-12 05:26:24.000000000', 'files': ['keystone/assignment/core.py', 'keystone/clean.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/091730c4ae1434dcb75f4ebbb4184c1de88d2cef', 'message': ""Make sure domains are enabled by default\n\nDomains without an explicit 'enabled' key in the dict will now be\nhandled in the same way as projects are. This will ensure that\nthe KVS backend produces the same result as the SQL backend for\nassignment.\n\nChange-Id: I3b6d26278329841cfe1be5ce7f67ba6d3569785f\nRelated-Bug: #1311142\n""}]",0,99568,091730c4ae1434dcb75f4ebbb4184c1de88d2cef,23,8,1,2903,,,0,"Make sure domains are enabled by default

Domains without an explicit 'enabled' key in the dict will now be
handled in the same way as projects are. This will ensure that
the KVS backend produces the same result as the SQL backend for
assignment.

Change-Id: I3b6d26278329841cfe1be5ce7f67ba6d3569785f
Related-Bug: #1311142
",git fetch https://review.opendev.org/openstack/keystone refs/changes/68/99568/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/assignment/core.py', 'keystone/clean.py']",2,091730c4ae1434dcb75f4ebbb4184c1de88d2cef,bug/1311142,"def domain_enabled(enabled): return check_enabled('Domain', enabled) ",,8,0
openstack%2Fopenstack-manuals~master~I271c29088dcf8af65ba4a6258a3f63ce4a9e700e,openstack/openstack-manuals,master,I271c29088dcf8af65ba4a6258a3f63ce4a9e700e,change to section_cli_nova_customize_flavors,MERGED,2014-06-04 17:36:47.000000000,2014-06-16 07:48:24.000000000,2014-06-16 07:48:23.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6547}, {'_account_id': 7923}, {'_account_id': 9162}, {'_account_id': 10607}]","[{'number': 1, 'created': '2014-06-04 17:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/e0ef3180d2596d6911579623ad03dc9cdd541ada', 'message': 'change to section_cli_nova_customize_flavors\n\nchanged one to 1, added ,\nelement to elements\nadded transition words\n\nChange-Id: I271c29088dcf8af65ba4a6258a3f63ce4a9e700e\n'}, {'number': 2, 'created': '2014-06-14 18:05:26.000000000', 'files': ['doc/common/section_cli_nova_customize_flavors.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d6299e14e0a0ec7cc9e00259a5629c0286d7a70f', 'message': 'change to section_cli_nova_customize_flavors\n\nadded ,\nelement to elements\nadded transition words\n\nChange-Id: I271c29088dcf8af65ba4a6258a3f63ce4a9e700e\n'}]",4,97861,d6299e14e0a0ec7cc9e00259a5629c0286d7a70f,18,6,2,9382,,,0,"change to section_cli_nova_customize_flavors

added ,
element to elements
added transition words

Change-Id: I271c29088dcf8af65ba4a6258a3f63ce4a9e700e
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/61/97861/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/common/section_cli_nova_customize_flavors.xml'],1,e0ef3180d2596d6911579623ad03dc9cdd541ada,section_cli_nova_customize_flavors," most, 1 inbound and at most, 1 outbound child element. If you leave any of these children elements out, no quality of service (QoS) is applied on that specifies the maximum rate at which a bridge can send data (kilobytes/second), and on the guest server, and carry out the configured action, if the server hangs."," most one inbound and at most one outbound child element. If you leave any of these children element out, no quality of service (QoS) is applied on that specifies maximum rate at which bridge can send data (kilobytes/second), and on the guest server, and carry out the configured action if the server hangs.",4,4
openstack%2Fnova~master~I504675576e56bc7dce1f2bb0876b92e10563b86e,openstack/nova,master,I504675576e56bc7dce1f2bb0876b92e10563b86e,Enable InstanceActionEventObject testcase,ABANDONED,2014-02-26 03:57:44.000000000,2014-06-16 07:45:03.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1849}, {'_account_id': 2271}, {'_account_id': 2468}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 5511}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-02-26 03:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a490e201011555e7384a1c26d2821a3f4eec9b91', 'message': 'Enable InstanceActionEventObject by default\n\nCurrent InstanceActionEventObject is not triggered by default. This\nchange enables it and also fix the default argument value for\nevent_finish_with_failure to match with other object methods.\n\nThis is a part of: blueprint make-instance-action-use-objects\n\nChange-Id: I504675576e56bc7dce1f2bb0876b92e10563b86e\n'}, {'number': 2, 'created': '2014-02-26 06:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e395bd364c695fc046bf2cae24e4447a6fa01e62', 'message': 'Enable InstanceActionEventObject testcase by default\n\nCurrent InstanceActionEventObject testcase is not triggered by default.\nThis change enables it and also fix the default argument value for\nevent_finish_with_failure to match with other object methods.\n\nThis is a part of: blueprint make-instance-action-use-objects\n\nChange-Id: I504675576e56bc7dce1f2bb0876b92e10563b86e\n'}, {'number': 3, 'created': '2014-03-03 13:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e5c1a5fb6706a100d9faaf9c5721a06052fb534', 'message': 'Enable InstanceActionEventObject testcase by default\n\nCurrent InstanceActionEventObject testcase is not triggered by default.\nThis change switches it on to ensure or instance action event object\npasses unit testcases.\n\nThis is a part of: blueprint make-instance-action-use-objects\n\nChange-Id: I504675576e56bc7dce1f2bb0876b92e10563b86e\n'}, {'number': 4, 'created': '2014-05-20 09:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0acdb40ba67296dba3457a9bbd23dc16617d5dac', 'message': 'Enable InstanceActionEventObject testcase\n\nCurrent InstanceActionEventObject testcase is not triggered by default.\nThis change switches it on to ensure or instance action event object\npasses unit testcases.\n\nThis is a part of: blueprint make-instance-action-use-objects\n\nChange-Id: I504675576e56bc7dce1f2bb0876b92e10563b86e\n'}, {'number': 5, 'created': '2014-05-20 22:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23cd73cb310bdd67aab6e8c64fe4cc1059879be8', 'message': 'Enable InstanceActionEventObject testcase\n\nCurrent InstanceActionEventObject testcase is not triggered by default.\nThis change switches it on to ensure or instance action event object\npasses unit testcases.\n\nThis is a part of: blueprint make-instance-action-use-objects\n\nChange-Id: I504675576e56bc7dce1f2bb0876b92e10563b86e\n'}, {'number': 6, 'created': '2014-05-21 14:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a86377900e2074f10e7a048e599a7ffaa746f39c', 'message': 'Enable InstanceActionEventObject testcase\n\nCurrent InstanceActionEventObject testcase is not triggered by default.\nThis change switches it on to ensure or instance action event object\npasses unit testcases.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: I504675576e56bc7dce1f2bb0876b92e10563b86e\n'}, {'number': 7, 'created': '2014-06-03 00:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/067e0edf47cd67ed9f067530bd9bb6623c0af5a2', 'message': 'Enable InstanceActionEventObject testcase\n\nCurrent InstanceActionEventObject testcase is not triggered by default.\nThis change switches it on to ensure or instance action event object\npasses unit testcases.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: I504675576e56bc7dce1f2bb0876b92e10563b86e\n'}, {'number': 8, 'created': '2014-06-03 12:17:22.000000000', 'files': ['nova/tests/objects/test_instance_action.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5c6372bd98db90b1f4a83c7ca9a90fc9e7d6b7f5', 'message': 'Enable InstanceActionEventObject testcase\n\nCurrent InstanceActionEventObject testcase is not triggered by default.\nThis change switches it on to ensure or instance action event object\npasses unit testcases.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: I504675576e56bc7dce1f2bb0876b92e10563b86e\n'}]",0,76427,5c6372bd98db90b1f4a83c7ca9a90fc9e7d6b7f5,78,14,8,2468,,,0,"Enable InstanceActionEventObject testcase

Current InstanceActionEventObject testcase is not triggered by default.
This change switches it on to ensure or instance action event object
passes unit testcases.

Related to blueprint compute-manager-objects-juno

Change-Id: I504675576e56bc7dce1f2bb0876b92e10563b86e
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/76427/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/objects/test_instance_action.py', 'nova/objects/instance_action.py']",2,a490e201011555e7384a1c26d2821a3f4eec9b91,bp/compute-manager-objects-juno," exc_val=None, exc_tb=None, want_result=True):"," exc_val=None, exc_tb=None, want_result=None):",11,1
openstack%2Foslo-incubator~stable%2Ficehouse~Ib3dc0b713ed90396919feba018772243b3b9c90f,openstack/oslo-incubator,stable/icehouse,Ib3dc0b713ed90396919feba018772243b3b9c90f,"On Python <= 2.6, use simplejson if available",MERGED,2014-04-30 20:17:47.000000000,2014-06-16 07:44:30.000000000,2014-06-16 07:44:30.000000000,"[{'_account_id': 3}, {'_account_id': 1247}, {'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 9656}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-04-30 20:17:47.000000000', 'files': ['openstack/common/jsonutils.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/d14f56f02a289a9d1f6ac9a9c43adbc32fd569d6', 'message': 'On Python <= 2.6, use simplejson if available\n\nUntil Python 2.7, stdlib json module was not boosted with a C extension,\nmeaning bad performance. Try to use simplejson module if available.\n\nRHEL 6.5 is one of the platforms that still ship Python 2.6.\n\nThe original idea of the patch belongs to Miguel Angel Ajo Pelayo @\nmangelajo@redhat.com\n\nChange-Id: Ib3dc0b713ed90396919feba018772243b3b9c90f\nCloses-Bug: 1314129\n(cherry picked from commit a6b2aecf3a75e4bdef493b645112a7944bced1e1)\n'}]",0,91454,d14f56f02a289a9d1f6ac9a9c43adbc32fd569d6,27,6,1,9656,,,0,"On Python <= 2.6, use simplejson if available

Until Python 2.7, stdlib json module was not boosted with a C extension,
meaning bad performance. Try to use simplejson module if available.

RHEL 6.5 is one of the platforms that still ship Python 2.6.

The original idea of the patch belongs to Miguel Angel Ajo Pelayo @
mangelajo@redhat.com

Change-Id: Ib3dc0b713ed90396919feba018772243b3b9c90f
Closes-Bug: 1314129
(cherry picked from commit a6b2aecf3a75e4bdef493b645112a7944bced1e1)
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/54/91454/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/common/jsonutils.py'],1,d14f56f02a289a9d1f6ac9a9c43adbc32fd569d6,simplejson-stable-backport,"import sys if sys.version_info < (2, 7): # On Python <= 2.6, json module is not C boosted, so try to use # simplejson module if available try: import simplejson as json except ImportError: import json else: import json",import json,11,1
openstack%2Fapi-site~master~Id65b97d65299f4e7194a687b37bea1065ac30699,openstack/api-site,master,Id65b97d65299f4e7194a687b37bea1065ac30699,Fixing Response code for POST token,MERGED,2014-06-14 18:20:45.000000000,2014-06-16 07:44:10.000000000,2014-06-16 07:44:09.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 612}, {'_account_id': 8340}]","[{'number': 1, 'created': '2014-06-14 18:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/421e0844c73e157de2911a43a3fdc0a6a5201b3e', 'message': 'Fixing Response code for POST token\n\nAPI docs for Identity V3 has invalid response Code.\nIn the tokens section, for creating a token, its says:\nthe ""Normal Response Codes"" is 200, but the normal response code\nis 201.\n\nChange-Id: Id65b97d65299f4e7194a687b37bea1065ac30699\n'}, {'number': 2, 'created': '2014-06-14 18:23:19.000000000', 'files': ['api-ref/src/wadls/identity-api/src/v3/wadl/identity-admin-v3.wadl'], 'web_link': 'https://opendev.org/openstack/api-site/commit/c310beef9b8d0ee7a5307959a367480e0e86ee44', 'message': 'Fixing Response code for POST token\n\nAPI docs for Identity V3 has invalid response Code.\nIn the tokens section, for creating a token, its says:\nthe ""Normal Response Codes"" is 200, but the normal response code\nis 201.\n\nCloses-bug: #1330026\nChange-Id: Id65b97d65299f4e7194a687b37bea1065ac30699\n'}]",0,100071,c310beef9b8d0ee7a5307959a367480e0e86ee44,11,4,2,10281,,,0,"Fixing Response code for POST token

API docs for Identity V3 has invalid response Code.
In the tokens section, for creating a token, its says:
the ""Normal Response Codes"" is 200, but the normal response code
is 201.

Closes-bug: #1330026
Change-Id: Id65b97d65299f4e7194a687b37bea1065ac30699
",git fetch https://review.opendev.org/openstack/api-site refs/changes/71/100071/2 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/src/wadls/identity-api/src/v3/wadl/identity-admin-v3.wadl'],1,421e0844c73e157de2911a43a3fdc0a6a5201b3e,bug/1330026," <response status=""201"">"," <response status=""200"">",1,1
openstack%2Fopenstack-manuals~master~Ic378f269f20d96ef620e71f378c200e37fc70f9b,openstack/openstack-manuals,master,Ic378f269f20d96ef620e71f378c200e37fc70f9b,Fix textual errors,MERGED,2014-06-14 15:32:32.000000000,2014-06-16 07:42:19.000000000,2014-06-16 07:42:18.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 7923}]","[{'number': 1, 'created': '2014-06-14 15:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a5e48add9970aa3fbd01066929f837c5d9b60ecf', 'message': ""fix textual errors, fix 'rabbitmp' to 'rabbitmq'\n\nChange-Id: Ic378f269f20d96ef620e71f378c200e37fc70f9b\nFixes: bug #1329804\n""}, {'number': 2, 'created': '2014-06-14 15:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/defeea79845ab4e9b737cea78b06be48493fa138', 'message': ""fix textual errors, fix 'abbitmq' to 'rabbitmq'\n\nChange-Id: Ic378f269f20d96ef620e71f378c200e37fc70f9b\nFixes: bug #1329804\n""}, {'number': 3, 'created': '2014-06-14 16:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f232b23f962f622f242379c42af989bac745561c', 'message': ""Fix textual errors, fix 'abbitmq' to 'rabbitmq'\n\nChange-Id: Ic378f269f20d96ef620e71f378c200e37fc70f9b\nFixes: bug #1329804\n""}, {'number': 4, 'created': '2014-06-14 16:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8449521ab25641f97a82da430acc133d3154802b', 'message': ""Fix textual errors\n\nFix 'p_ip_rabbitmp' to 'p_ip_rabbitmq'\n\nCloses-bug: #1329804\nChange-Id: Ic378f269f20d96ef620e71f378c200e37fc70f9b\n""}, {'number': 5, 'created': '2014-06-14 19:48:07.000000000', 'files': ['doc/high-availability-guide/includes/pacemaker-rabbitmq.crm', 'doc/high-availability-guide/controller/section_rabbitmq.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/23561b22407857bd8dd3356e8cb4a019bfcd463b', 'message': ""Fix textual errors\n\nFix 'p_ip_rabbitmp' to 'p_ip_rabbitmq'.\n\nCloses-bug: #1329804\nChange-Id: Ic378f269f20d96ef620e71f378c200e37fc70f9b\n""}]",0,100061,23561b22407857bd8dd3356e8cb4a019bfcd463b,24,3,5,8019,,,0,"Fix textual errors

Fix 'p_ip_rabbitmp' to 'p_ip_rabbitmq'.

Closes-bug: #1329804
Change-Id: Ic378f269f20d96ef620e71f378c200e37fc70f9b
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/61/100061/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/high-availability-guide/includes/pacemaker-rabbitmq.crm', 'doc/high-availability-guide/locale/ja.po', 'doc/high-availability-guide/locale/high-availability-guide.pot', 'doc/high-availability-guide/controller/section_rabbitmq.xml']",4,a5e48add9970aa3fbd01066929f837c5d9b60ecf,bug/1329804," <screen>primitive p_ip_rabbitmq ocf:heartbeat:IPaddr2 \ <simpara><literal>p_ip_rabbitmq</literal>, a virtual IP address for use by RabbitMQ"," <screen>primitive p_ip_rabbitmp ocf:heartbeat:IPaddr2 \ <simpara><literal>p_ip_rabbitmp</literal>, a virtual IP address for use by RabbitMQ",7,7
openstack%2Fopenstack-manuals~master~I523726af3afcce641f0e19ee629422e925c3461c,openstack/openstack-manuals,master,I523726af3afcce641f0e19ee629422e925c3461c,Fix keystone installation,MERGED,2014-06-15 18:56:02.000000000,2014-06-16 07:32:09.000000000,2014-06-16 07:32:08.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6772}]","[{'number': 1, 'created': '2014-06-15 18:56:02.000000000', 'files': ['doc/install-guide/section_keystone-install.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/0f3b1ea5913c7b1016b534909fc4d6f832a8b1ef', 'message': 'Fix keystone installation\n\nFix the ""connection"" config syntax\nCloses-Bug: #1330087\n\nAdd missing / at the beginning of the crontab path\nCloses-Bug: #1330096\n\nChange-Id: I523726af3afcce641f0e19ee629422e925c3461c\nbackport: icehouse\n'}]",0,100102,0f3b1ea5913c7b1016b534909fc4d6f832a8b1ef,8,3,1,7923,,,0,"Fix keystone installation

Fix the ""connection"" config syntax
Closes-Bug: #1330087

Add missing / at the beginning of the crontab path
Closes-Bug: #1330096

Change-Id: I523726af3afcce641f0e19ee629422e925c3461c
backport: icehouse
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/02/100102/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/section_keystone-install.xml'],1,0f3b1ea5913c7b1016b534909fc4d6f832a8b1ef,keystone-fixes,connection = mysql://keystone:<replaceable>KEYSTONE_DBPASS</replaceable>@<replaceable>controller</replaceable>/keystone</programlisting>>> /var/spool/cron/crontabs/keystone</userinput></screen>,connection mysql://keystone:<replaceable>KEYSTONE_DBPASS</replaceable>@<replaceable>controller</replaceable>/keystone</programlisting>>> var/spool/cron/crontabs/keystone</userinput></screen>,2,2
openstack%2Ftripleo-image-elements~master~If5b10b4da8e1f0ed42e25d9755b79eda97b0251b,openstack/tripleo-image-elements,master,If5b10b4da8e1f0ed42e25d9755b79eda97b0251b,Set glance registry host from heat metadata,ABANDONED,2014-06-09 12:31:37.000000000,2014-06-16 07:26:48.000000000,,"[{'_account_id': 3}, {'_account_id': 7537}]","[{'number': 1, 'created': '2014-06-09 12:31:37.000000000', 'files': ['elements/glance/os-config-applier/etc/glance/glance-api.conf'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/f58b24650b018a835edc4f642b81b2dcf3abe7e3', 'message': ""Set glance registry host from heat metadata\n\nBy default we will want registry host point to load balancer's\nvirtual IP. If not set, no need to explicitly set 0.0.0.0 which is\ndefault value.\n\nChange-Id: If5b10b4da8e1f0ed42e25d9755b79eda97b0251b\n""}]",0,98773,f58b24650b018a835edc4f642b81b2dcf3abe7e3,8,2,1,7582,,,0,"Set glance registry host from heat metadata

By default we will want registry host point to load balancer's
virtual IP. If not set, no need to explicitly set 0.0.0.0 which is
default value.

Change-Id: If5b10b4da8e1f0ed42e25d9755b79eda97b0251b
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/73/98773/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/glance/os-config-applier/etc/glance/glance-api.conf'],1,f58b24650b018a835edc4f642b81b2dcf3abe7e3,glance,{{#glance.registry.host}} registry_host = {{glance.registry.host}} {{/glance.registry.host}},registry_host = 0.0.0.0,3,1
openstack%2Fopenstack-manuals~master~I8b7fbc68d7368d22328551c2ff9d505ea3241797,openstack/openstack-manuals,master,I8b7fbc68d7368d22328551c2ff9d505ea3241797,Imported Translations from Transifex,MERGED,2014-06-16 06:08:06.000000000,2014-06-16 07:20:34.000000000,2014-06-16 07:20:33.000000000,"[{'_account_id': 3}, {'_account_id': 612}]","[{'number': 1, 'created': '2014-06-16 06:08:06.000000000', 'files': ['doc/user-guide/locale/ja.po', 'doc/install-guide/locale/ja.po', 'doc/common/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b2c3d3b187d40b8bf4301304efaa42799da6b37a', 'message': 'Imported Translations from Transifex\n\nChange-Id: I8b7fbc68d7368d22328551c2ff9d505ea3241797\n'}]",0,100149,b2c3d3b187d40b8bf4301304efaa42799da6b37a,7,2,1,11131,,,0,"Imported Translations from Transifex

Change-Id: I8b7fbc68d7368d22328551c2ff9d505ea3241797
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/49/100149/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/user-guide/locale/ja.po', 'doc/install-guide/locale/ja.po', 'doc/common/locale/ja.po']",3,b2c3d3b187d40b8bf4301304efaa42799da6b37a,transifex/translations,"""POT-Creation-Date: 2014-06-14 07:28+0000\n"" ""PO-Revision-Date: 2014-06-16 03:30+0000\n""msgstr ""Identity ""","""POT-Creation-Date: 2014-06-13 18:43+0000\n"" ""PO-Revision-Date: 2014-06-13 19:01+0000\n""msgstr """"",38,38
openstack%2Fsahara~master~I4c45cd0d583110c8a5d610f5a69d9d9f9a178f8d,openstack/sahara,master,I4c45cd0d583110c8a5d610f5a69d9d9f9a178f8d,Minor EDP refactoring,MERGED,2014-06-03 21:40:18.000000000,2014-06-16 06:56:24.000000000,2014-06-16 06:56:24.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 7428}, {'_account_id': 7710}, {'_account_id': 8091}, {'_account_id': 8411}, {'_account_id': 10670}]","[{'number': 1, 'created': '2014-06-03 21:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/fa663e29fc19d4fa9f500b8b6816ee95b69dc1ab', 'message': ""Minor EDP refactoring\n\n* Made run_job method more structored.\n* Got rid of workflow creator object (we don't use factory externaly)\n* Created unit tests for extracted methods\n\nChange-Id: I4c45cd0d583110c8a5d610f5a69d9d9f9a178f8d\n""}, {'number': 2, 'created': '2014-06-10 19:12:55.000000000', 'files': ['sahara/tests/unit/service/edp/test_job_manager.py', 'sahara/service/edp/job_manager.py', 'sahara/service/edp/workflow_creator/workflow_factory.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/f70802046ca6838f7cc3ab59b957bbb913145103', 'message': ""Minor EDP refactoring\n\n* Made run_job method more structored.\n* Got rid of workflow creator object (we don't use factory externaly)\n* Created unit tests for extracted methods\n\nChange-Id: I4c45cd0d583110c8a5d610f5a69d9d9f9a178f8d\n""}]",1,97633,f70802046ca6838f7cc3ab59b957bbb913145103,40,9,2,8411,,,0,"Minor EDP refactoring

* Made run_job method more structored.
* Got rid of workflow creator object (we don't use factory externaly)
* Created unit tests for extracted methods

Change-Id: I4c45cd0d583110c8a5d610f5a69d9d9f9a178f8d
",git fetch https://review.opendev.org/openstack/sahara refs/changes/33/97633/2 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/tests/unit/service/edp/test_job_manager.py', 'sahara/service/edp/job_manager.py', 'sahara/service/edp/workflow_creator/workflow_factory.py']",3,fa663e29fc19d4fa9f500b8b6816ee95b69dc1ab,,"def _get_creator(job):def get_workflow_xml(job, cluster, execution, *args, **kwargs): return _get_creator(job).get_workflow_xml( cluster, execution, *args, **kwargs) ",def get_creator(job):,130,83
openstack%2Foslo-incubator~stable%2Ficehouse~Ifb498b64f6a4305c6639afaeed246394043decd1,openstack/oslo-incubator,stable/icehouse,Ifb498b64f6a4305c6639afaeed246394043decd1,Start ping listener also for postgresql,MERGED,2014-05-08 16:20:18.000000000,2014-06-16 06:52:18.000000000,2014-06-16 06:52:18.000000000,"[{'_account_id': 3}, {'_account_id': 1247}, {'_account_id': 2472}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-05-08 16:20:18.000000000', 'files': ['openstack/common/db/sqlalchemy/session.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/f74c34e19874a2a11891fe14bb2bf546dfea7d9c', 'message': 'Start ping listener also for postgresql\n\nWe can make use of the automatic connection disposal\nfor PostgreSQL as well.\n\nCloses-Bug: #1298310\nChange-Id: Ifb498b64f6a4305c6639afaeed246394043decd1\n(cherry picked from commit 4a591eaafe035fa3fd508c910f057bfa8ff51005)\n'}]",0,92871,f74c34e19874a2a11891fe14bb2bf546dfea7d9c,13,4,1,6593,,,0,"Start ping listener also for postgresql

We can make use of the automatic connection disposal
for PostgreSQL as well.

Closes-Bug: #1298310
Change-Id: Ifb498b64f6a4305c6639afaeed246394043decd1
(cherry picked from commit 4a591eaafe035fa3fd508c910f057bfa8ff51005)
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/71/92871/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/common/db/sqlalchemy/session.py'],1,f74c34e19874a2a11891fe14bb2bf546dfea7d9c,," if engine_name not in (""ibm_db_sa"", ""mysql"", ""sqlite"", ""postgresql""): """"""Ensures that MySQL, PostgreSQL or DB2 connections are alive. if engine.name in ('ibm_db_sa', 'mysql', 'postgresql'):"," if engine_name not in [""ibm_db_sa"", ""mysql"", ""sqlite"", ""postgresql""]: """"""Ensures that MySQL and DB2 connections are alive. if engine.name in ['mysql', 'ibm_db_sa']:",3,3
openstack%2Ftraining-guides~master~Id8691fff1499cc2428e4b7858c908c117f3c4bce,openstack/training-guides,master,Id8691fff1499cc2428e4b7858c908c117f3c4bce,Add scanlib for producing keyboard scancodes,MERGED,2014-06-14 10:58:53.000000000,2014-06-16 06:50:27.000000000,2014-06-16 06:50:26.000000000,"[{'_account_id': 3}, {'_account_id': 6923}, {'_account_id': 7007}, {'_account_id': 11109}]","[{'number': 1, 'created': '2014-06-14 10:58:53.000000000', 'files': ['labs/lib/osbash/scanlib'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/e914188a29a17562bdc77fa06a4651cf3469641e', 'message': 'Add scanlib for producing keyboard scancodes\n\nAdd scanlib, a library for turning characters into keyboard scancodes\nwhich are needed for scripted keyboard input to VirtualBox VMs.\n\nThe keyboard scancode strings returned by this library consist of groups\nof two or four hex bytes: two for a key pressed and released, four if a\nmodifier key such as shift is involved.\n\nThe char2scancode function is complemented by two functions for special\nkeys, esc2scancode and enter2scancode.\n\nPartial-Bug: 1312764\nImplements: blueprint openstack-training-labs\nChange-Id: Id8691fff1499cc2428e4b7858c908c117f3c4bce\n'}]",3,100053,e914188a29a17562bdc77fa06a4651cf3469641e,13,4,1,11109,,,0,"Add scanlib for producing keyboard scancodes

Add scanlib, a library for turning characters into keyboard scancodes
which are needed for scripted keyboard input to VirtualBox VMs.

The keyboard scancode strings returned by this library consist of groups
of two or four hex bytes: two for a key pressed and released, four if a
modifier key such as shift is involved.

The char2scancode function is complemented by two functions for special
keys, esc2scancode and enter2scancode.

Partial-Bug: 1312764
Implements: blueprint openstack-training-labs
Change-Id: Id8691fff1499cc2428e4b7858c908c117f3c4bce
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/53/100053/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/lib/osbash/scanlib'],1,e914188a29a17562bdc77fa06a4651cf3469641e,bug/1312764,"# The functions in this library are used to get scancode strings for VirtualBox # keyboard input (keyboardputscancode). # # It was generated mostly from output of Cameron Kerr's scancodes.l: # http://humbledown.org/keyboard-scancodes.xhtml # # The library works with bash 3.2 (shipped with Mac OS X as of 2014). function char2scancode { local KEY=$1 case ""$KEY"" in 'a') echo -n "" 1e 9e"" ;; 'b') echo -n "" 30 b0"" ;; 'c') echo -n "" 2e ae"" ;; 'd') echo -n "" 20 a0"" ;; 'e') echo -n "" 12 92"" ;; 'f') echo -n "" 21 a1"" ;; 'g') echo -n "" 22 a2"" ;; 'h') echo -n "" 23 a3"" ;; 'i') echo -n "" 17 97"" ;; 'j') echo -n "" 24 a4"" ;; 'k') echo -n "" 25 a5"" ;; 'l') echo -n "" 26 a6"" ;; 'm') echo -n "" 32 b2"" ;; 'n') echo -n "" 31 b1"" ;; 'o') echo -n "" 18 98"" ;; 'p') echo -n "" 19 99"" ;; 'q') echo -n "" 10 90"" ;; 'r') echo -n "" 13 93"" ;; 's') echo -n "" 1f 9f"" ;; 't') echo -n "" 14 94"" ;; 'u') echo -n "" 16 96"" ;; 'v') echo -n "" 2f af"" ;; 'w') echo -n "" 11 91"" ;; 'x') echo -n "" 2d ad"" ;; 'y') echo -n "" 15 95"" ;; 'z') echo -n "" 2c ac"" ;; 'A') echo -n "" 2a 1e 9e aa"" ;; 'B') echo -n "" 2a 30 b0 aa"" ;; 'C') echo -n "" 2a 2e ae aa"" ;; 'D') echo -n "" 2a 20 a0 aa"" ;; 'E') echo -n "" 2a 12 92 aa"" ;; 'F') echo -n "" 2a 21 a1 aa"" ;; 'G') echo -n "" 2a 22 a2 aa"" ;; 'H') echo -n "" 2a 23 a3 aa"" ;; 'I') echo -n "" 2a 17 97 aa"" ;; 'J') echo -n "" 2a 24 a4 aa"" ;; 'K') echo -n "" 2a 25 a5 aa"" ;; 'L') echo -n "" 2a 26 a6 aa"" ;; 'M') echo -n "" 2a 32 b2 aa"" ;; 'N') echo -n "" 2a 31 b1 aa"" ;; 'O') echo -n "" 2a 18 98 aa"" ;; 'P') echo -n "" 2a 19 99 aa"" ;; 'Q') echo -n "" 2a 10 90 aa"" ;; 'R') echo -n "" 2a 13 93 aa"" ;; 'S') echo -n "" 2a 1f 9f aa"" ;; 'T') echo -n "" 2a 14 94 aa"" ;; 'U') echo -n "" 2a 16 96 aa"" ;; 'V') echo -n "" 2a 2f af aa"" ;; 'W') echo -n "" 2a 11 91 aa"" ;; 'X') echo -n "" 2a 2d ad aa"" ;; 'Z') echo -n "" 2a 2c ac aa"" ;; 'Y') echo -n "" 2a 15 95 aa"" ;; '1') echo -n "" 02 82"" ;; '2') echo -n "" 03 83"" ;; '3') echo -n "" 04 84"" ;; '4') echo -n "" 05 85"" ;; '5') echo -n "" 06 86"" ;; '6') echo -n "" 07 87"" ;; '7') echo -n "" 08 88"" ;; '8') echo -n "" 09 89"" ;; '9') echo -n "" 0a 8a"" ;; '0') echo -n "" 0b 8b"" ;; '!') echo -n "" 2a 02 82 aa"" ;; '@') echo -n "" 2a 03 83 aa"" ;; '#') echo -n "" 2a 04 84 aa"" ;; '$') echo -n "" 2a 05 85 aa"" ;; '%') echo -n "" 2a 06 86 aa"" ;; '^') echo -n "" 2a 07 87 aa"" ;; '&') echo -n "" 2a 08 88 aa"" ;; '*') echo -n "" 2a 09 89 aa"" ;; '(') echo -n "" 2a 0a 8a aa"" ;; ')') echo -n "" 2a 0b 8b aa"" ;; '-') echo -n "" 0c 8c"" ;; '_') echo -n "" 2a 0c 8c aa"" ;; '=') echo -n "" 0d 8d"" ;; '+') echo -n "" 2a 0d 8d aa"" ;; ' ') echo -n "" 39 b9"" ;; '[') echo -n "" 1a 9a"" ;; ']') echo -n "" 1b 9b"" ;; '{') echo -n "" 2a 1a 9a aa"" ;; '}') echo -n "" 2a 1b 9b aa"" ;; ';') echo -n "" 27 a7"" ;; ':') echo -n "" 2a 27 a7 aa"" ;; ',') echo -n "" 33 b3"" ;; '.') echo -n "" 34 b4"" ;; '/') echo -n "" 35 b5"" ;; '\') echo -n "" 2b ab"" ;; '|') echo -n "" 2a 2b ab aa"" ;; '?') echo -n "" 2a 35 b5 aa"" ;; '""') echo -n "" 2a 28 a8 aa"" ;; ""'"") echo -n "" 28 a8"" ;; "">"") echo -n "" 2a 34 b4 aa"" ;; ""<"") echo -n "" 2a 33 b3 aa"" ;; esac } function esc2scancode { echo -n "" 01 81"" } function enter2scancode { echo -n "" 1c 9c"" } # vim: set ai ts=4 sw=4 et ft=sh: ",,302,0
openstack%2Foslo-incubator~stable%2Ficehouse~Ia1bfa1bd24989681db1d2f385defc12e69a01f8d,openstack/oslo-incubator,stable/icehouse,Ia1bfa1bd24989681db1d2f385defc12e69a01f8d,remove token from notifier middleware,MERGED,2014-05-22 04:21:55.000000000,2014-06-16 06:50:00.000000000,2014-06-16 06:50:00.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1247}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 8041}, {'_account_id': 8574}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-05-22 04:21:55.000000000', 'files': ['tests/unit/middleware/test_notifier.py', 'openstack/common/middleware/notifier.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/354a9f99d177fd14d86e099ee3ffa91b9d12b5bd', 'message': 'remove token from notifier middleware\n\nnotifier middleware is capturing token and sending it to MQ. this\nis not advisable so we should filter it out.\n\nChange-Id: Ia1bfa1bd24989681db1d2f385defc12e69a01f8d\nCloses-Bug: #1321080\n(cherry picked from commit 09281ccf7837b70962ad2dfbaa1e84722ad987e8)\n'}]",0,94770,354a9f99d177fd14d86e099ee3ffa91b9d12b5bd,19,10,1,7139,,,0,"remove token from notifier middleware

notifier middleware is capturing token and sending it to MQ. this
is not advisable so we should filter it out.

Change-Id: Ia1bfa1bd24989681db1d2f385defc12e69a01f8d
Closes-Bug: #1321080
(cherry picked from commit 09281ccf7837b70962ad2dfbaa1e84722ad987e8)
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/70/94770/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/middleware/test_notifier.py', 'openstack/common/middleware/notifier.py']",2,354a9f99d177fd14d86e099ee3ffa91b9d12b5bd,, if k.isupper() and k != 'HTTP_X_AUTH_TOKEN'), if k.isupper()),10,3
openstack%2Foslo-incubator~stable%2Ficehouse~I0f92235beaa1bfd548688c9b0803f9931bc9dac8,openstack/oslo-incubator,stable/icehouse,I0f92235beaa1bfd548688c9b0803f9931bc9dac8,Make stop_timers() method public,MERGED,2014-05-29 15:32:33.000000000,2014-06-16 06:47:46.000000000,2014-06-16 06:47:46.000000000,"[{'_account_id': 3}, {'_account_id': 1247}, {'_account_id': 2472}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-05-29 15:32:33.000000000', 'files': ['tests/unit/test_threadgroup.py', 'openstack/common/threadgroup.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/d6a25d239cdcd427685b830a72e4f50bd21cc8ec', 'message': 'Make stop_timers() method public\n\nThis is needed to fix Heat bug 1315044.\n\nChange-Id: I0f92235beaa1bfd548688c9b0803f9931bc9dac8\n(cherry picked from commit 5a1a01667eb8c08999c0e31ef281f7b98a0c9cbc)\n'}]",0,96495,d6a25d239cdcd427685b830a72e4f50bd21cc8ec,13,4,1,7253,,,0,"Make stop_timers() method public

This is needed to fix Heat bug 1315044.

Change-Id: I0f92235beaa1bfd548688c9b0803f9931bc9dac8
(cherry picked from commit 5a1a01667eb8c08999c0e31ef281f7b98a0c9cbc)
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/95/96495/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/test_threadgroup.py', 'openstack/common/threadgroup.py']",2,d6a25d239cdcd427685b830a72e4f50bd21cc8ec,bug/1315044, def stop_timers(self): self.stop_timers(), def _stop_timers(self): self._stop_timers(),11,2
openstack%2Foslo-incubator~stable%2Ficehouse~Id575674af95ae7ad88c00a2ac5d629ab0d0a9b46,openstack/oslo-incubator,stable/icehouse,Id575674af95ae7ad88c00a2ac5d629ab0d0a9b46,Add graceful stop function to ThreadGroup.stop,MERGED,2014-05-29 15:32:33.000000000,2014-06-16 06:46:23.000000000,2014-06-16 06:46:22.000000000,"[{'_account_id': 3}, {'_account_id': 1247}, {'_account_id': 2472}, {'_account_id': 8844}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-05-29 15:32:33.000000000', 'files': ['tests/unit/test_threadgroup.py', 'openstack/common/threadgroup.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/3f830bfd8c70a237aa5c38abfa27c18e286289e2', 'message': 'Add graceful stop function to ThreadGroup.stop\n\nCurrently ThreadGroup.stop() would stop both timers and threads\nimmediately.\nHowever, heat-engine should stop timers before threads finished for\nthe purpose of graceful shutdown.\n\nThe graceful shutdown for Heat is ""do process exit after stack\nprocessing finished"". Heat implemented the stack processing as threads.\nWe should wait its finishing for graceful shutdown\'s purpose.\n\nOn the one hand, Heat is using timers.\nThe timers have the function of make another job threads.\nIt means, we should stop timers before waiting threads for preventing\nanother thread occur by timers.\n\nFrom the above, the appropriate order of Heat\'s graceful shutdown is:\n\n  * stop timers for preventing new thread occur\n  * wait for all threads to be finished\n  * process exit\n\nHowever, currently ThreadGroup class doesn\'t have the function of\ngraceful stop. So I propose the function of graceful stop.\n\nConflicts:\n\ttests/unit/test_threadgroup.py\n\nChange-Id: Id575674af95ae7ad88c00a2ac5d629ab0d0a9b46\nCloses-bug: #1304244\n(cherry picked from commit fdc88831e272dec25ed77a176e6bdfb9cddb6c3d)\n'}]",0,96494,3f830bfd8c70a237aa5c38abfa27c18e286289e2,14,5,1,7253,,,0,"Add graceful stop function to ThreadGroup.stop

Currently ThreadGroup.stop() would stop both timers and threads
immediately.
However, heat-engine should stop timers before threads finished for
the purpose of graceful shutdown.

The graceful shutdown for Heat is ""do process exit after stack
processing finished"". Heat implemented the stack processing as threads.
We should wait its finishing for graceful shutdown's purpose.

On the one hand, Heat is using timers.
The timers have the function of make another job threads.
It means, we should stop timers before waiting threads for preventing
another thread occur by timers.

From the above, the appropriate order of Heat's graceful shutdown is:

  * stop timers for preventing new thread occur
  * wait for all threads to be finished
  * process exit

However, currently ThreadGroup class doesn't have the function of
graceful stop. So I propose the function of graceful stop.

Conflicts:
	tests/unit/test_threadgroup.py

Change-Id: Id575674af95ae7ad88c00a2ac5d629ab0d0a9b46
Closes-bug: #1304244
(cherry picked from commit fdc88831e272dec25ed77a176e6bdfb9cddb6c3d)
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/94/96494/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/test_threadgroup.py', 'openstack/common/threadgroup.py']",2,3f830bfd8c70a237aa5c38abfa27c18e286289e2,bug/1315044," def _stop_threads(self): def _stop_timers(self): def stop(self, graceful=False): """"""stop function has the option of graceful=True/False. * In case of graceful=True, wait for all threads to be finished. Never kill threads. * In case of graceful=False, kill threads immediately. """""" self._stop_timers() if graceful: # In case of graceful=True, wait for all threads to be # finished, never kill threads self.wait() else: # In case of graceful=False(Default), kill threads # immediately self._stop_threads() ", def stop(self):,45,1
openstack%2Fcinder~master~Ibf6a53fad616d162db8e95e5b0fda617490b6a2d,openstack/cinder,master,Ibf6a53fad616d162db8e95e5b0fda617490b6a2d,Add throttle ability for cinder volume migrate,ABANDONED,2014-05-25 16:13:57.000000000,2014-06-16 06:40:26.000000000,,"[{'_account_id': 3}, {'_account_id': 1773}, {'_account_id': 2759}, {'_account_id': 6491}, {'_account_id': 8871}, {'_account_id': 9533}, {'_account_id': 9751}, {'_account_id': 10069}, {'_account_id': 10973}]","[{'number': 1, 'created': '2014-05-25 16:13:57.000000000', 'files': ['cinder/volume/utils.py', 'cinder/volume/manager.py', 'etc/cinder/rootwrap.d/volume.filters', 'cinder/volume/driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/af4078e2b339aed80cda8404e2b9d869bf3d338d', 'message': 'Add throttle ability for cinder volume migrate\n\nLimit the rate of migrating volume to avoid to affect the read/write\nof other processes too much.\n\nRelated to blueprint throttle-cinder-migrate\n\nChange-Id: Ibf6a53fad616d162db8e95e5b0fda617490b6a2d\n'}]",5,95376,af4078e2b339aed80cda8404e2b9d869bf3d338d,15,9,1,10069,,,0,"Add throttle ability for cinder volume migrate

Limit the rate of migrating volume to avoid to affect the read/write
of other processes too much.

Related to blueprint throttle-cinder-migrate

Change-Id: Ibf6a53fad616d162db8e95e5b0fda617490b6a2d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/76/95376/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/utils.py', 'cinder/volume/manager.py', 'etc/cinder/rootwrap.d/volume.filters', 'cinder/volume/driver.py']",4,af4078e2b339aed80cda8404e2b9d869bf3d338d,bp/throttle-cinder-migrate," cfg.IntOpt('volume_copy_ratelimit', default='100', help='The default ratelimit when copying volume, ' 'the unit is megabyte'),",,73,2
openstack%2Fapi-site~master~I3a1a58ed7d80cf54f54fd4fbbdc5ff9306dadbe3,openstack/api-site,master,I3a1a58ed7d80cf54f54fd4fbbdc5ff9306dadbe3,Imported Translations from Transifex,MERGED,2014-06-16 06:01:12.000000000,2014-06-16 06:33:25.000000000,2014-06-16 06:33:25.000000000,"[{'_account_id': 3}, {'_account_id': 612}]","[{'number': 1, 'created': '2014-06-16 06:01:12.000000000', 'files': ['api-quick-start/locale/ko_KR.po'], 'web_link': 'https://opendev.org/openstack/api-site/commit/768ccfb3330da55bc899eb2ebaec9dfdb1a73827', 'message': 'Imported Translations from Transifex\n\nChange-Id: I3a1a58ed7d80cf54f54fd4fbbdc5ff9306dadbe3\n'}]",0,100145,768ccfb3330da55bc899eb2ebaec9dfdb1a73827,7,2,1,11131,,,0,"Imported Translations from Transifex

Change-Id: I3a1a58ed7d80cf54f54fd4fbbdc5ff9306dadbe3
",git fetch https://review.opendev.org/openstack/api-site refs/changes/45/100145/1 && git format-patch -1 --stdout FETCH_HEAD,['api-quick-start/locale/ko_KR.po'],1,768ccfb3330da55bc899eb2ebaec9dfdb1a73827,transifex/translations,"# # Translators: #  <hyangii@gmail.com>, 2013 # Sungjin Kang <potopro@gmail.com>, 2013 # Sungjin Kang <potopro@gmail.com>, 2014 msgid """" msgstr """" ""Project-Id-Version: OpenStack Manuals\n"" ""POT-Creation-Date: 2014-06-13 17:52+0000\n"" ""PO-Revision-Date: 2014-06-15 17:50+0000\n"" ""Last-Translator: Sungjin Kang <potopro@gmail.com>\n"" ""Language-Team: Korean (Korea) (http://www.transifex.com/projects/p/openstack-manuals-i18n/language/ko_KR/)\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""Language: ko_KR\n"" ""Plural-Forms: nplurals=1; plural=0;\n"" #: ./api-quick-start/src/docbkx/cli-uses.xml6(title) #: ./api-quick-start/src/docbkx/api-quick-start-onepager.xml32(emphasis) msgid ""OpenStack command-line clients"" msgstr ""OpenStack  "" #: ./api-quick-start/src/docbkx/cli-uses.xml7(para) msgid """" ""For scripting work, you can use a command-line client like the <systemitem "" ""role=\""client\"">python-novaclient</systemitem> client. This client enables "" ""you to use the Compute API through a command-line interface."" msgstr ""  , <systemitem role=\""client\"">python-novaclient</systemitem>       .     Compute API   ."" #: ./api-quick-start/src/docbkx/cli-uses.xml11(para) msgid """" ""For information about the command-line clients, see <link "" ""href=\""http://docs.openstack.org/cli-"" ""reference/content/\""><citetitle>OpenStack Command-Line Interface "" ""Reference</citetitle></link>."" msgstr ""     <link href=\""http://docs.openstack.org/cli-reference/content/\""><citetitle>OpenStack Command-Line Interface Reference</citetitle></link>   ."" #: ./api-quick-start/src/docbkx/cli-uses.xml16(title) msgid ""Install the clients"" msgstr "" "" #: ./api-quick-start/src/docbkx/cli-uses.xml17(para) msgid """" ""Use <placeholder-1/> to install the OpenStack clients on a Mac OS X or Linux"" "" system. It is easy and ensures that you get the latest version of the "" ""client from the <link href=\""http://pypi.python.org/pypi\"">Python Package "" ""Index</link>. Also, <placeholder-2/> lets you update or remove a package."" msgstr ""Mac OS X Linux  <placeholder-1/>  OpenStack  .    , <link href=\""http://pypi.python.org/pypi\"">Python Package Index</link>     . , <placeholder-2/>   ,   ."" #: ./api-quick-start/src/docbkx/cli-uses.xml23(para) msgid ""You must install each client separately."" msgstr ""   ."" #: ./api-quick-start/src/docbkx/cli-uses.xml24(para) msgid ""Run this command to install or update a client package:"" msgstr ""      :"" #: ./api-quick-start/src/docbkx/cli-uses.xml26(replaceable) msgid ""PROJECT"" msgstr ""PROJECT"" #: ./api-quick-start/src/docbkx/cli-uses.xml27(para) msgid ""Where <replaceable>PROJECT</replaceable> is the project name."" msgstr "" <replaceable>PROJECT</replaceable>  ."" #: ./api-quick-start/src/docbkx/cli-uses.xml29(para) msgid ""For example, to install the <placeholder-1/> client, run this command:"" msgstr "" , <placeholder-1/>  ,   :"" #: ./api-quick-start/src/docbkx/cli-uses.xml32(para) msgid ""To update the <placeholder-1/> client, run this command:"" msgstr ""<placeholder-1/>   ,   :"" #: ./api-quick-start/src/docbkx/cli-uses.xml35(para) msgid ""To remove the <placeholder-1/> client, run this command:"" msgstr ""<placeholder-1/>     :"" #: ./api-quick-start/src/docbkx/cli-uses.xml38(para) msgid """" ""Before you can issue client commands, you must download and source the "" ""<filename>openrc</filename> file to set environment variables."" msgstr ""       <filename>openrc</filename>     source  ."" #: ./api-quick-start/src/docbkx/cli-uses.xml41(para) msgid """" ""For complete information about the OpenStack clients, including how to "" ""source the <filename>openrc</filename> file, see <link "" ""href=\""http://docs.openstack.org/user-guide/content/\""><citetitle>OpenStack "" ""End User Guide</citetitle></link>, <link href=\""http://docs.openstack.org"" ""/user-guide-admin/content/\""><citetitle>OpenStack Admin User "" ""Guide</citetitle></link>, and <link href=\""http://docs.openstack.org/cli-"" ""reference/content/\""><citetitle>OpenStack Command-Line Interface "" ""Reference</citetitle></link>."" msgstr ""OpenStack  <filename>openrc</filename>       <link href=\""http://docs.openstack.org/user-guide/content/\""><citetitle>OpenStack End User Guide</citetitle></link> <link href=\""http://docs.openstack.org/user-guide-admin/content/\""><citetitle>OpenStack Admin User Guide</citetitle></link>, <link href=\""http://docs.openstack.org/cli-reference/content/\""><citetitle>OpenStack Command-Line Interface Reference</citetitle></link>   ."" #: ./api-quick-start/src/docbkx/cli-uses.xml59(title) msgid ""Launch an instance"" msgstr "" "" #: ./api-quick-start/src/docbkx/cli-uses.xml60(para) msgid """" ""To launch instances, you must choose a name, an image, and a flavor for your"" "" instance."" msgstr "" , , ,  flavor ."" #: ./api-quick-start/src/docbkx/cli-uses.xml62(para) msgid """" ""To list available images, call the Compute API through the <placeholder-1/> "" ""client, as follows:"" msgstr ""     , <placeholder-1/>  Compute API :"" #: ./api-quick-start/src/docbkx/cli-uses.xml72(para) msgid ""To list flavors, run this command:"" msgstr ""Flavor     :"" #: ./api-quick-start/src/docbkx/cli-uses.xml85(para) msgid ""To launch an instance, note the IDs of your desired image and flavor."" msgstr "" ,   flavor ID ."" #: ./api-quick-start/src/docbkx/cli-uses.xml87(para) msgid """" ""To launch an instance named <literal>my_instance</literal>, run the "" ""<placeholder-1/> command with the image and flavor IDs and the server name, "" ""as follows:"" msgstr ""<literal>my_instance</literal>    . , flavor ID,     <placeholder-1/>    :"" #: ./api-quick-start/src/docbkx/cli-uses.xml122(para) msgid ""Use the <placeholder-1/> command to view your server:"" msgstr ""<placeholder-1/>      :"" #: ./api-quick-start/src/docbkx/cli-uses.xml130(para) msgid """" ""To view details for a specified server, use the <placeholder-1/> command. "" ""Include the ID of the server:"" msgstr ""    , <placeholder-1/>  .  ID :"" #: ./api-quick-start/src/docbkx/cli-uses.xml165(para) msgid """" ""For information about the default ports that the OpenStack components use, "" ""see <link href=\""http://docs.openstack.org/trunk/config-reference/content"" ""/firewalls-default-ports.html\""><citetitle>Appendix A. Firewalls and default"" "" ports</citetitle></link> in the <citetitle>OpenStack Configuration "" ""Reference</citetitle>."" msgstr ""OpenStack        , <citetitle>OpenStack Configuration Reference</citetitle> <link href=\""http://docs.openstack.org/trunk/config-reference/content/firewalls-default-ports.html\""><citetitle> A.   </citetitle></link> ."" #: ./api-quick-start/src/docbkx/api-quick-start-onepager.xml8(title) msgid ""OpenStack API Quick Start"" msgstr ""OpenStack API  "" #: ./api-quick-start/src/docbkx/api-quick-start-onepager.xml10(para) msgid """" ""Although you install each OpenStack service separately, the OpenStack "" ""services work together to meet your cloud needs: Identity, Compute, Image "" ""Service, Block Storage, Networking (neutron), Object Storage, Orchestration,"" "" and Telemetry. With the <link "" ""href=\""http://www.trystack.org/\"">TryStack</link> OpenStack installation, "" ""these services work together in the background of the installation."" msgstr """" #: ./api-quick-start/src/docbkx/api-quick-start-onepager.xml17(para) msgid """" ""After you authenticate through Identity, you can use the other OpenStack "" ""APIs to create and manage resources in your OpenStack cloud. You can launch "" ""instances from images and assign metadata to instances through the Compute "" ""API or the <placeholder-1/> command-line client."" msgstr """" #: ./api-quick-start/src/docbkx/api-quick-start-onepager.xml22(para) msgid ""To begin sending API requests, use one of the following methods:"" msgstr ""API  ,      :"" #: ./api-quick-start/src/docbkx/api-quick-start-onepager.xml26(emphasis) msgid ""cURL"" msgstr ""cURL"" #: ./api-quick-start/src/docbkx/api-quick-start-onepager.xml27(para) msgid """" ""A command-line tool that lets you send HTTP requests and receive responses. "" ""See <xref linkend=\""Compute_API_Quick_Start\""/>."" msgstr ""HTTP  ,      .   <xref linkend=\""Compute_API_Quick_Start\""/> ."" #: ./api-quick-start/src/docbkx/api-quick-start-onepager.xml34(para) msgid """" ""Each OpenStack project provides a command-line client that enables you to "" ""access its API through easy-to-use commands. See <xref linkend=\""cli-"" ""intro\""/>."" msgstr "" OpenStack      API      .   <xref linkend=\""cli-intro\""/> ."" #: ./api-quick-start/src/docbkx/api-quick-start-onepager.xml40(emphasis) msgid ""REST clients"" msgstr ""REST "" #: ./api-quick-start/src/docbkx/api-quick-start-onepager.xml41(para) msgid """" ""Both Mozilla and Google provide browser-based graphical interfaces for REST."" "" For Firefox, see <link href=\""https://addons.mozilla.org/en-"" ""US/firefox/addon/restclient/\"">RESTClient</link>. For Chrome, see <link "" ""href=\""http://code.google.com/p/rest-client/\"">rest-client</link>."" msgstr ""Mozilla Google  REST      .  <link href=\""https://addons.mozilla.org/en-US/firefox/addon/restclient/\"">RESTClient</link>,  <link href=\""http://code.google.com/p/rest-client/\"">rest-client</link>   ."" #: ./api-quick-start/src/docbkx/api-quick-start-onepager.xml49(emphasis) msgid ""OpenStack Python Software Development Kit (SDK)"" msgstr ""OpenStack     (SDK)"" #: ./api-quick-start/src/docbkx/api-quick-start-onepager.xml51(para) msgid """" ""Use this SDK to write Python automation scripts that create and manage "" ""resources in your OpenStack cloud. The SDK implements Python bindings to the"" "" OpenStack API, which enables you to perform automation tasks in Python by "" ""making calls on Python objects rather than making REST calls directly. All "" ""OpenStack command-line tools are implemented by using the Python SDK. See "" ""<link href=\""http://docs.openstack.org/user-"" ""guide/content/ch_sdk.html\"">OpenStack Python SDK</link> in the "" ""<citetitle>OpenStack End User Guide</citetitle>."" msgstr """" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml6(title) msgid ""OpenStack APIs"" msgstr ""OpenStack APIs"" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml7(para) msgid """" ""To authenticate access to OpenStack services, you must first issue an "" ""authentication request to OpenStack Identity to acquire an authentication "" ""token. To request an authentication token, you must supply a payload of "" ""credentials in the authentication request."" msgstr """" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml12(para) msgid """" ""Credentials are usually a combination of your user name and password, and "" ""optionally, the name or ID of the tenant in which your cloud runs. Ask your "" ""cloud administrator for your user name, password, and tenant so that you can"" "" generate authentication tokens. Alternatively, you can supply a token "" ""rather than a user name and password."" msgstr ""Credential        tenant   ID   .        , , tenant   . ,       ."" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml18(para) msgid """" ""When you send API requests, you include the token in the <literal>X-Auth-"" ""Token</literal> header. If you access multiple OpenStack services, you must "" ""get a token for each service. A token is valid for a limited time before it "" ""expires. A token can also become invalid for other reasons. For example, if "" ""the roles for a user change, existing tokens for that user are invalid."" msgstr ""API  , <literal>X-Auth-Token</literal>   .  OpenStack  ,    .    .       .  ,    ,       ."" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml26(title) msgid ""Authentication and API request workflow"" msgstr "" API   "" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml28(para) msgid """" ""Request an authentication token from the Identity endpoint that your cloud "" ""administrator gave you. Send a payload of credentials in the request:"" msgstr """" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml38(th) msgid ""Parameter"" msgstr "" "" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml39(th) msgid ""Type"" msgstr """" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml40(th) msgid ""Description"" msgstr """" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml45(td) msgid ""username (Optional)"" msgstr ""  ()"" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml46(td) #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml53(td) #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml58(td) msgid ""xsd:string"" msgstr ""xsd:string"" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml47(td) msgid """" ""The user name. If you do not provide a user name and password, you must "" ""provide a token."" msgstr "" .      ,  ."" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml52(td) msgid ""password (Optional)"" msgstr "" ()"" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml54(td) msgid ""The password for the user."" msgstr "" ."" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml57(td) msgid ""tenantName (Optional)"" msgstr ""tenant  ()"" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml60(parameter) #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml72(parameter) msgid ""tenantId"" msgstr ""tenantId"" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml61(parameter) #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml73(parameter) msgid ""tenantName"" msgstr ""tenantName"" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml65(errorcode) #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml77(errorcode) msgid ""400"" msgstr ""400"" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml66(errorname) #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml78(errorname) msgid ""Bad Request"" msgstr "" "" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml59(td) msgid """" ""The tenant name. Both the <placeholder-1/> and <placeholder-2/> are "" ""optional, but should not be specified together. If both attributes are "" ""specified, the server responds with a <placeholder-3/><placeholder-4/>."" msgstr ""Tenant . <placeholder-1/> <placeholder-2/>   .    ,  <placeholder-3/><placeholder-4/> ."" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml69(td) msgid ""tenantId (Optional)"" msgstr ""tenantId ()"" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml70(td) #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml82(td) msgid ""capi:UUID"" msgstr ""capi:UUID"" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml71(td) msgid """" ""The tenant ID. Both the <placeholder-1/> and <placeholder-2/> are optional, "" ""but should not be specified together. If both attributes are specified, the "" ""server responds with a <placeholder-3/><placeholder-4/>."" msgstr ""Tenant ID. <placeholder-1/> <placeholder-2/>   .     <placeholder-3/><placeholder-4/>  ."" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml81(td) msgid ""token (Optional)"" msgstr ""token ()"" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml83(td) msgid """" ""A token. If you do not provide a token, you must provide a user name and "" ""password."" msgstr "".    ,    ."" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml89(para) msgid ""If the request succeeds, the server returns an authentication token."" msgstr "" ,    ."" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml93(para) msgid """" ""Send API requests and include the token in the <literal>X-Auth-"" ""Token</literal> header. Continue to send API requests with that token until "" ""the job completes or a "" ""<errorcode>401</errorcode><errortext>Unauthorized</errortext> error occurs."" msgstr ""API  <literal>X-Auth-Token</literal>  .   <errorcode>401</errorcode><errortext>Unauthorized</errortext>     API  ."" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml101(para) msgid """" ""If the <errorcode>401</errorcode><errortext>Unauthorized</errortext> error "" ""occurs, request another token."" msgstr "" <errorcode>401</errorcode><errortext>Unauthorized</errortext>  ,   ."" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml106(para) msgid """" ""The examples in this section use cURL commands. For information about cURL, "" ""see <link href=\""http://curl.haxx.se/\"">http://curl.haxx.se/</link>. For "" ""information about the OpenStack APIs, see <link "" ""href=\""http://developer.openstack.org/api-ref.html\"">OpenStack API "" ""Reference</link>."" msgstr ""   cURL  . cURL    <link href=\""http://curl.haxx.se/\"">http://curl.haxx.se/</link> . OpenStack API    <link href=\""http://developer.openstack.org/api-ref.html\"">OpenStack API Reference</link>  ."" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml115(title) msgid ""Authenticate"" msgstr """" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml116(para) msgid """" ""For a typical OpenStack deployment that runs Identity, use a cURL command "" ""like the following command to request a token:"" msgstr """" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml120(para) msgid """" ""If the request succeeds, you receive a <returnvalue>200 OK</returnvalue> "" ""response followed by a response body that contains a token in the form "" ""<code>\""id\"":\""<replaceable>token</replaceable>\""</code> and an expiration "" ""date and time in the form "" ""<code>\""expires\"":\""<replaceable>datetime</replaceable>\""</code>."" msgstr """" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml126(para) msgid ""The following example shows a successful response:"" msgstr ""   :"" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml135(para) msgid """" ""If you do not know your tenant name or ID, you can send an authentication "" ""request with an empty tenant, as follows:"" msgstr "" tenant  ID  ,  tenant     :"" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml142(title) msgid ""Send API requests"" msgstr ""API  "" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml143(para) msgid """" ""This section shows how to make some Identity API and Compute API calls. For "" ""a complete list of Identity API calls, see <link "" ""href=\""http://developer.openstack.org/api-ref-identity-v3.html\"">Identity "" ""APIs</link>. For a complete list of Compute API calls, see <link "" ""href=\""http://developer.openstack.org/api-ref-compute-v2.html\"">Compute APIs"" "" and Extensions</link>."" msgstr ""  Identity API  Compute API     . Identity API     , <link href=\""http://developer.openstack.org/api-ref-identity-v3.html\"">Identity APIs</link>  . Compute API     , <link href=\""http://developer.openstack.org/api-ref-compute-v2.html\"">Compute APIs and Extensions</link> ."" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml151(para) msgid ""Use the Identity API to request a list of tenants, as follows:"" msgstr ""Tenant     Identity API :"" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml153(replaceable) #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml157(replaceable) #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml160(replaceable) msgid ""token"" msgstr ""token"" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml155(para) msgid ""Use the Identity API to request a list of endpoints, as follows:"" msgstr ""Endpoint     Identity API  :"" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml159(para) msgid ""Use the Compute API to list servers, as follows:"" msgstr ""Compute API     ,  :"" #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml160(replaceable) msgid ""tenant_id"" msgstr ""tenant_id"" #. Put one translator per line, in the form of NAME <EMAIL>, YEAR1, YEAR2 #: ./api-quick-start/src/docbkx/api-quick-start-intro.xml0(None) msgid ""translator-credits"" msgstr ""Sungjin Gang <ujuc@ujuc.kr>, 2012-2014.\nYeonki Choi < >, 2013.\nJay Lee <hyangii@gmail.com>, 2013"" ",,446,0
openstack%2Fmistral~master~Ib15e0a3a96df690b0bfccb93c05348167619babb,openstack/mistral,master,Ib15e0a3a96df690b0bfccb93c05348167619babb,All tests should call the base class setUp(),MERGED,2014-06-11 02:54:07.000000000,2014-06-16 05:45:12.000000000,2014-06-16 05:45:12.000000000,"[{'_account_id': 3}, {'_account_id': 7227}, {'_account_id': 7700}, {'_account_id': 9432}, {'_account_id': 9537}]","[{'number': 1, 'created': '2014-06-11 02:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/b83c6cdc7b97b09fc441a2b5013dd6afd935ba41', 'message': 'All tests should call the base class setUp()\n\nChange-Id: Ib15e0a3a96df690b0bfccb93c05348167619babb\n'}, {'number': 2, 'created': '2014-06-11 04:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/0ec5b7f791fb862d899a505404f65a5886e91177', 'message': 'All tests should call the base class setUp()\n\nChange-Id: Ib15e0a3a96df690b0bfccb93c05348167619babb\n'}, {'number': 3, 'created': '2014-06-12 00:54:02.000000000', 'files': ['mistral/tests/unit/actions/test_std_email_action.py', 'mistral/tests/unit/workbook/test_get_on_state.py', 'mistral/tests/base.py', 'mistral/tests/unit/workbook/test_workbook.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/08b76f65630eb6b5da0bdb2982735761d64118af', 'message': 'All tests should call the base class setUp()\n\nChange-Id: Ib15e0a3a96df690b0bfccb93c05348167619babb\n'}]",0,99258,08b76f65630eb6b5da0bdb2982735761d64118af,18,5,3,4715,,,0,"All tests should call the base class setUp()

Change-Id: Ib15e0a3a96df690b0bfccb93c05348167619babb
",git fetch https://review.opendev.org/openstack/mistral refs/changes/58/99258/3 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/actions/test_std_email_action.py', 'mistral/tests/base.py', 'mistral/tests/unit/workbook/test_workbook.py']",3,b83c6cdc7b97b09fc441a2b5013dd6afd935ba41,bp/mistral-multitenancy," super(DSLModelTest, self).setUp()",,4,0
openstack%2Fmistral~master~Ifc03433ec2a086635cd27f417d97447141139e7b,openstack/mistral,master,Ifc03433ec2a086635cd27f417d97447141139e7b,Move all tests to use base.BaseTest,MERGED,2014-06-11 02:54:07.000000000,2014-06-16 05:45:06.000000000,2014-06-16 05:45:06.000000000,"[{'_account_id': 3}, {'_account_id': 7227}, {'_account_id': 7700}, {'_account_id': 9432}, {'_account_id': 9537}]","[{'number': 1, 'created': '2014-06-11 02:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/6611fd2097807df674e09f8e5ee35815a22463c9', 'message': 'Move all tests to use base.BaseTest\n\nThis is so it will be easier to change to openstack/common/test.py\nso we can get stderr/logging output from testr.\n\nChange-Id: Ifc03433ec2a086635cd27f417d97447141139e7b\n'}, {'number': 2, 'created': '2014-06-11 04:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/84ff4b285664c28e1aeee6e314899e3a9e6efd54', 'message': 'Move all tests to use base.BaseTest\n\nThis is so it will be easier to change to oslotest\nso we can get stderr/logging output from testr.\n\nChange-Id: Ifc03433ec2a086635cd27f417d97447141139e7b\n'}, {'number': 3, 'created': '2014-06-12 00:54:02.000000000', 'files': ['mistral/tests/unit/actions/test_std_email_action.py', 'mistral/tests/unit/test_expressions.py', 'mistral/tests/unit/workbook/test_get_on_state.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/86c0f73ed3afaad916877ed33f2857f506ae469c', 'message': 'Move all tests to use base.BaseTest\n\nThis is so it will be easier to change to oslotest\nso we can get stderr/logging output from testr.\n\nChange-Id: Ifc03433ec2a086635cd27f417d97447141139e7b\n'}]",1,99257,86c0f73ed3afaad916877ed33f2857f506ae469c,18,5,3,4715,,,0,"Move all tests to use base.BaseTest

This is so it will be easier to change to oslotest
so we can get stderr/logging output from testr.

Change-Id: Ifc03433ec2a086635cd27f417d97447141139e7b
",git fetch https://review.opendev.org/openstack/mistral refs/changes/57/99257/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/actions/test_std_email_action.py', 'mistral/tests/unit/test_expressions.py', 'mistral/tests/unit/workbook/test_get_on_state.py']",3,6611fd2097807df674e09f8e5ee35815a22463c9,bp/mistral-multitenancy,"from mistral.tests import baseclass GetOnStateTest(base.BaseTest): def setUp(self): super(GetOnStateTest, self).setUp()",import unittest2 class GetOnStateTest(unittest2.TestCase): def setUp(self):,7,8
openstack%2Fmistral~master~If7d7f3631144d1746976d99bcee9d95f04e57e8c,openstack/mistral,master,If7d7f3631144d1746976d99bcee9d95f04e57e8c,Add OS_LOG_CAPTURE to testr.conf,MERGED,2014-06-11 02:54:07.000000000,2014-06-16 05:45:01.000000000,2014-06-16 05:45:00.000000000,"[{'_account_id': 3}, {'_account_id': 7227}, {'_account_id': 7700}, {'_account_id': 8824}, {'_account_id': 9432}, {'_account_id': 9537}]","[{'number': 1, 'created': '2014-06-11 02:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e6a4e90ff03b87d447ef853ea8459ea73a81e738', 'message': 'Add OS_LOG_CAPTURE to testr.conf\n\nThis is so we can get log output on errors.\n\nChange-Id: If7d7f3631144d1746976d99bcee9d95f04e57e8c\n'}, {'number': 2, 'created': '2014-06-11 04:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/771e1ad5aac4b0b4ab1f20d1a6d272f732175ebc', 'message': 'Add OS_LOG_CAPTURE to testr.conf\n\nThis is so we can get log output on errors.\n\nChange-Id: If7d7f3631144d1746976d99bcee9d95f04e57e8c\n'}, {'number': 3, 'created': '2014-06-12 00:54:02.000000000', 'files': ['.testr.conf'], 'web_link': 'https://opendev.org/openstack/mistral/commit/5bd8fe8b8437a2fce36b9b538cd058c0cf2b519f', 'message': 'Add OS_LOG_CAPTURE to testr.conf\n\nThis is so we can get log output on errors.\n\nChange-Id: If7d7f3631144d1746976d99bcee9d95f04e57e8c\n'}]",0,99256,5bd8fe8b8437a2fce36b9b538cd058c0cf2b519f,19,6,3,4715,,,0,"Add OS_LOG_CAPTURE to testr.conf

This is so we can get log output on errors.

Change-Id: If7d7f3631144d1746976d99bcee9d95f04e57e8c
",git fetch https://review.opendev.org/openstack/mistral refs/changes/56/99256/2 && git format-patch -1 --stdout FETCH_HEAD,['.testr.conf'],1,e6a4e90ff03b87d447ef853ea8459ea73a81e738,bp/mistral-multitenancy, OS_LOG_CAPTURE=${OS_LOG_CAPTURE:-1} \,,1,0
openstack%2Fmistral~master~I5ae18d378916c6eba81088603414300891f1b816,openstack/mistral,master,I5ae18d378916c6eba81088603414300891f1b816,Fix create execution when workbook does not exist,MERGED,2014-06-09 10:38:32.000000000,2014-06-16 05:43:29.000000000,2014-06-16 05:43:28.000000000,"[{'_account_id': 3}, {'_account_id': 4715}, {'_account_id': 7227}, {'_account_id': 7700}, {'_account_id': 8824}, {'_account_id': 9432}, {'_account_id': 9537}]","[{'number': 1, 'created': '2014-06-09 10:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/be7742930305b8e96bd2e2cea3366bd4ee78b5d2', 'message': ""Fix create execution when workbook does not exist\n\n * Controller return 404 Not Found if Workbook doesn't exist\n   or workbook definition is empty (in case of empty\n   Definition we can't start Execution)\n\nCloses-bug: #1325914\n\nChange-Id: I5ae18d378916c6eba81088603414300891f1b816\n""}, {'number': 2, 'created': '2014-06-09 10:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/75db39b4077bb91f3c79b61832577c5d31e57969', 'message': ""Fix create execution when workbook does not exist\n\n * Controller return 404 Not Found if Workbook doesn't exist\n   or workbook definition is empty (in case of empty\n   Definition we can't start Execution)\n\nCloses-bug: #1325914\n\nChange-Id: I5ae18d378916c6eba81088603414300891f1b816\n""}, {'number': 3, 'created': '2014-06-11 07:38:48.000000000', 'files': ['mistral/db/api.py', 'functionaltests/api/v1/test_mistral_basic.py', 'mistral/api/controllers/v1/execution.py', 'mistral/tests/api/v1/controllers/test_executions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/9f2043e41e7c1c8a35331bc42ae93cbcd1e8b0e5', 'message': ""Fix create execution when workbook does not exist\n\n * Controller return 404 Not Found if Workbook doesn't exist\n   or workbook definition is empty (in case of empty\n   Definition we can't start Execution)\n\nCloses-bug: #1325914\n\nChange-Id: I5ae18d378916c6eba81088603414300891f1b816\n""}]",4,98736,9f2043e41e7c1c8a35331bc42ae93cbcd1e8b0e5,30,7,3,7700,,,0,"Fix create execution when workbook does not exist

 * Controller return 404 Not Found if Workbook doesn't exist
   or workbook definition is empty (in case of empty
   Definition we can't start Execution)

Closes-bug: #1325914

Change-Id: I5ae18d378916c6eba81088603414300891f1b816
",git fetch https://review.opendev.org/openstack/mistral refs/changes/36/98736/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/api/controllers/v1/execution.py', 'mistral/tests/api/v1/controllers/test_executions.py']",2,be7742930305b8e96bd2e2cea3366bd4ee78b5d2,create_execution," WORKBOOKS = [ { 'name': ""my_workbook"", 'description': ""My cool Mistral workbook"", 'tags': ['deployment', 'demo'] } ] @mock.patch.object(db_api, 'workbook_definition_get', mock.Mock(return_value=""Workflow:"")) def test_post(self): my_workbook = WORKBOOKS[0] self.app.post_json('/v1/workbooks', my_workbook) mock.MagicMock(return_value=EXECS[0])) def test_post_definition_empty(self): my_workbook = WORKBOOKS[0] self.app.post_json('/v1/workbooks', my_workbook) new_exec = EXECS[0].copy() new_exec['context'] = json.dumps(new_exec['context']) resp = self.app.post_json('/v1/workbooks/my_workbook/executions', new_exec, expect_errors=True) self.assertEqual(resp.status_int, 404) @mock.patch.object(engine.EngineClient, 'start_workflow_execution',", def test_post(self):,44,8
openstack%2Ftripleo-heat-templates~master~Id91e6ef2747981f17a43afd279d4eebaad01fe4d,openstack/tripleo-heat-templates,master,Id91e6ef2747981f17a43afd279d4eebaad01fe4d,Use virtual ip for OS services,MERGED,2014-06-09 12:52:50.000000000,2014-06-16 05:24:39.000000000,2014-06-16 05:24:37.000000000,"[{'_account_id': 3}, {'_account_id': 4190}, {'_account_id': 7471}, {'_account_id': 8041}, {'_account_id': 10035}]","[{'number': 1, 'created': '2014-06-09 12:52:50.000000000', 'files': ['overcloud-source.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c82cc1d485a148b6ab5a402643f3cf5ce4ef343b', 'message': ""Use virtual ip for OS services\n\nVIP should be used when pointing an OS service to\nanother OS service in config files (most typical is\nsetting Keystone's host IP, but also Glance and Netron\nhost needs to be set in Nova config file).\n\nChange-Id: Id91e6ef2747981f17a43afd279d4eebaad01fe4d\n""}]",0,98778,c82cc1d485a148b6ab5a402643f3cf5ce4ef343b,15,5,1,7582,,,0,"Use virtual ip for OS services

VIP should be used when pointing an OS service to
another OS service in config files (most typical is
setting Keystone's host IP, but also Glance and Netron
host needs to be set in Nova config file).

Change-Id: Id91e6ef2747981f17a43afd279d4eebaad01fe4d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/98778/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud-source.yaml'],1,c82cc1d485a148b6ab5a402643f3cf5ce4ef343b,vip," registry: host: {get_input: controller_virtual_ip} host: {get_input: controller_virtual_ip} host: {get_input: controller_virtual_ip} controller_virtual_ip: {'Fn::Select': [ip_address, 'Fn::Select': [0, 'Fn::GetAtt': [ControlVirtualIP, fixed_ips]]]}", host: get_input: controller_host host: get_input: controller_host,6,4
openstack%2Ftripleo-heat-templates~master~I485ed0b0e0cc5ac600192f4ed237a3b482d975ad,openstack/tripleo-heat-templates,master,I485ed0b0e0cc5ac600192f4ed237a3b482d975ad,Add overcloud parameter to start keystone under Apache,ABANDONED,2014-05-08 20:49:28.000000000,2014-06-16 05:16:56.000000000,,"[{'_account_id': 3}, {'_account_id': 6488}]","[{'number': 1, 'created': '2014-05-08 20:49:28.000000000', 'files': ['overcloud-source.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/80a4c5f1104054032f2f4589328f236ca576d92b', 'message': 'Add overcloud parameter to start keystone under Apache\n\nRelated reviews:\n        https://review.openstack.org/#/c/89742/\n        https://review.openstack.org/#/c/89744/\n\nChange-Id: I485ed0b0e0cc5ac600192f4ed237a3b482d975ad\n'}]",0,92912,80a4c5f1104054032f2f4589328f236ca576d92b,9,2,1,220,,,0,"Add overcloud parameter to start keystone under Apache

Related reviews:
        https://review.openstack.org/#/c/89742/
        https://review.openstack.org/#/c/89744/

Change-Id: I485ed0b0e0cc5ac600192f4ed237a3b482d975ad
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/92912/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud-source.yaml'],1,80a4c5f1104054032f2f4589328f236ca576d92b,master, overcloud_keystone_apache: '1',,1,0
openstack%2Fneutron~master~I6834c0fee0429bb72b8c61307be7bdca77f6de9b,openstack/neutron,master,I6834c0fee0429bb72b8c61307be7bdca77f6de9b,Big Switch: Catch exceptions in watchdog thread,MERGED,2014-06-14 23:28:22.000000000,2014-06-16 05:08:49.000000000,2014-06-16 04:58:10.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 490}, {'_account_id': 5170}, {'_account_id': 7787}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10153}, {'_account_id': 10192}]","[{'number': 1, 'created': '2014-06-14 23:28:22.000000000', 'files': ['neutron/tests/unit/bigswitch/test_servermanager.py', 'neutron/plugins/bigswitch/servermanager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f89a6bd30b6f99bc39f266ae8d3880380379f8b9', 'message': 'Big Switch: Catch exceptions in watchdog thread\n\nCatch and log exceptions in the watchdog greenthread to prevent\nthem from stopping the periodic consistency checks.\n\nCloses-Bug: #1330135\nChange-Id: I6834c0fee0429bb72b8c61307be7bdca77f6de9b\n'}]",1,100075,f89a6bd30b6f99bc39f266ae8d3880380379f8b9,27,13,1,7787,,,0,"Big Switch: Catch exceptions in watchdog thread

Catch and log exceptions in the watchdog greenthread to prevent
them from stopping the periodic consistency checks.

Closes-Bug: #1330135
Change-Id: I6834c0fee0429bb72b8c61307be7bdca77f6de9b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/100075/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/bigswitch/test_servermanager.py', 'neutron/plugins/bigswitch/servermanager.py']",2,f89a6bd30b6f99bc39f266ae8d3880380379f8b9,bug/1330135," try: self.rest_action('GET', HEALTH_PATH) except Exception: LOG.exception(_(""Encountered an error checking controller "" ""health.""))"," self.rest_action('GET', HEALTH_PATH)",13,4
openstack%2Fswift~master~Ia4fa7ab0860532a71a531c13ee2125666547136e,openstack/swift,master,Ia4fa7ab0860532a71a531c13ee2125666547136e,"replaced e.message with a bare ""e"" object ref",MERGED,2014-05-14 14:40:44.000000000,2014-06-16 04:58:28.000000000,2014-06-16 04:58:27.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 330}, {'_account_id': 597}, {'_account_id': 2622}, {'_account_id': 6198}, {'_account_id': 7233}]","[{'number': 1, 'created': '2014-05-14 14:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/777a5f44771d56b9d2a6eb95c46633aa2fd83d76', 'message': 'replaced e.message with unicode(e)\n\nBaseException.message has been deprecated as of Python 2.6\n\nChange-Id: Ia4fa7ab0860532a71a531c13ee2125666547136e\n'}, {'number': 2, 'created': '2014-05-15 22:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3631739b9fb5748db7679fec226089e05aa36743', 'message': 'replaced e.message with str(e)\n\nChange-Id: Ia4fa7ab0860532a71a531c13ee2125666547136e\n'}, {'number': 3, 'created': '2014-05-29 09:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/029cb869771411699d3fc988a2beea77733ccb2d', 'message': 'replaced e.message with str(e)\n\nChange-Id: Ia4fa7ab0860532a71a531c13ee2125666547136e\n'}, {'number': 4, 'created': '2014-06-03 21:55:49.000000000', 'files': ['swift/cli/ringbuilder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/3beea4d730c549af7130ed4b685a572a9820450f', 'message': 'replaced e.message with a bare ""e"" object ref\n\nChange-Id: Ia4fa7ab0860532a71a531c13ee2125666547136e\n'}]",2,93570,3beea4d730c549af7130ed4b685a572a9820450f,36,7,4,167,,,0,"replaced e.message with a bare ""e"" object ref

Change-Id: Ia4fa7ab0860532a71a531c13ee2125666547136e
",git fetch https://review.opendev.org/openstack/swift refs/changes/70/93570/4 && git format-patch -1 --stdout FETCH_HEAD,['swift/cli/ringbuilder.py'],1,777a5f44771d56b9d2a6eb95c46633aa2fd83d76,e_message_to_str_e," (dev['id'], unicode(e))"," (dev['id'], e.message)",1,1
openstack%2Fneutron~master~Ie90000183ae67ff391a23ca3213fd23aef5f4dc5,openstack/neutron,master,Ie90000183ae67ff391a23ca3213fd23aef5f4dc5,"Increase default metadata_workers, backlog to 4096",MERGED,2014-05-25 14:04:45.000000000,2014-06-16 04:58:20.000000000,2014-06-16 04:58:19.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 1689}, {'_account_id': 2035}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 5756}, {'_account_id': 7787}, {'_account_id': 7805}, {'_account_id': 7921}, {'_account_id': 8655}, {'_account_id': 8788}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}]","[{'number': 1, 'created': '2014-05-25 14:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1249bf717eec4836d6ba9ec97fa94f69da88705a', 'message': 'Change default metadata_workers to 4, metadata_backlog to 2048\n\nWhile deployment tools might want to change the number of workers\nto match the number of cores (Or some fraction of it), any default\nother than 1 should be outright better.\n\nDocImpact\nBug-Url: #1323005\nChange-Id: Ie90000183ae67ff391a23ca3213fd23aef5f4dc5\n'}, {'number': 2, 'created': '2014-05-25 14:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad6a2699af574e57baef9b77a47cdbb75b2a7873', 'message': 'Change default metadata_workers to 4, metadata_backlog to 2048\n\nWhile deployment tools might want to change the number of workers\nto match the number of cores (Or some fraction of it), any default\nother than 1 should be outright better.\n\nDocImpact\nCloses-Bug: #1323005\nChange-Id: Ie90000183ae67ff391a23ca3213fd23aef5f4dc5\n'}, {'number': 3, 'created': '2014-05-26 08:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a6f8edf6493eb00d6dc9d228fb0ade8715215e6e', 'message': 'Change default metadata_workers to 10, backlog to 2048\n\nWhile deployment tools might want to change the number of workers\nto match the number of cores (Or some fraction of it), any default\nother than 1 should be outright better.\n\nThe numbers were taken from 19:34:\nhttps://www.youtube.com/watch?v=AF9r_VQrcJ0\n\nDocImpact\nCloses-Bug: #1323005\nChange-Id: Ie90000183ae67ff391a23ca3213fd23aef5f4dc5\n'}, {'number': 4, 'created': '2014-05-27 08:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/abd63a8ba8d21bdbd9951f98f97e1fa2091d2e07', 'message': 'Change default metadata_workers to cpu_count(), backlog to 2048\n\nWhile deployment tools might want to change the number of workers\nto match the number of cores (Or some fraction of it), any default\nother than 1 should be outright better.\n\nInspired from 19:34:\nhttps://www.youtube.com/watch?v=AF9r_VQrcJ0\n\nDocImpact\nCloses-Bug: #1323005\nChange-Id: Ie90000183ae67ff391a23ca3213fd23aef5f4dc5\n'}, {'number': 5, 'created': '2014-05-28 11:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4db46a0a25284db2427e4da2324090cdc31ff819', 'message': 'Increase default metadata_workers, backlog to 2048\n\nWhile deployment tools might want to change the number of workers\nto match the number of cores (Or some fraction of it), any default\nother than 1 should be outright better.\n\nInspired from 19:34:\nhttps://www.youtube.com/watch?v=AF9r_VQrcJ0\n\nDocImpact\nCloses-Bug: #1323005\nChange-Id: Ie90000183ae67ff391a23ca3213fd23aef5f4dc5\n'}, {'number': 6, 'created': '2014-06-08 13:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e282818938ea85a2bf38c161654161e8022ab961', 'message': 'Increase default metadata_workers, backlog to 4096\n\nWhile deployment tools might want to change the number of workers\nto match the number of cores (Or some fraction of it), any default\nother than 1 should be outright better.\n\nInspired from 19:34:\nhttps://www.youtube.com/watch?v=AF9r_VQrcJ0\n\nDocImpact\nCloses-Bug: #1323005\nChange-Id: Ie90000183ae67ff391a23ca3213fd23aef5f4dc5\n'}, {'number': 7, 'created': '2014-06-08 14:59:36.000000000', 'files': ['etc/metadata_agent.ini', 'neutron/agent/metadata/agent.py', 'neutron/common/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/10bf897bf3a10681f5a8769f387599271d57dadb', 'message': 'Increase default metadata_workers, backlog to 4096\n\nWhile deployment tools might want to change the number of workers\nto match the number of cores (Or some fraction of it), any default\nother than 1 should be outright better.\n\nInspired from 19:34:\nhttps://www.youtube.com/watch?v=AF9r_VQrcJ0\n\nDocImpact\nCloses-Bug: #1323005\nChange-Id: Ie90000183ae67ff391a23ca3213fd23aef5f4dc5\n'}]",18,95372,10bf897bf3a10681f5a8769f387599271d57dadb,133,30,7,8873,,,0,"Increase default metadata_workers, backlog to 4096

While deployment tools might want to change the number of workers
to match the number of cores (Or some fraction of it), any default
other than 1 should be outright better.

Inspired from 19:34:
https://www.youtube.com/watch?v=AF9r_VQrcJ0

DocImpact
Closes-Bug: #1323005
Change-Id: Ie90000183ae67ff391a23ca3213fd23aef5f4dc5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/95372/5 && git format-patch -1 --stdout FETCH_HEAD,"['etc/metadata_agent.ini', 'neutron/agent/metadata/agent.py']",2,1249bf717eec4836d6ba9ec97fa94f69da88705a,bug/1323005," default=4, default=2048,"," default=0, default=128,",4,4
openstack%2Fneutron~master~I000a03c1ffd5c02e7b827ec757287633e5a5dd64,openstack/neutron,master,I000a03c1ffd5c02e7b827ec757287633e5a5dd64,"Control update, delete for cisco-network-profile",MERGED,2014-05-28 06:53:11.000000000,2014-06-16 04:57:33.000000000,2014-06-16 04:57:32.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 490}, {'_account_id': 704}, {'_account_id': 5170}, {'_account_id': 6072}, {'_account_id': 6524}, {'_account_id': 6659}, {'_account_id': 7018}, {'_account_id': 7787}, {'_account_id': 8940}, {'_account_id': 9680}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}]","[{'number': 1, 'created': '2014-05-28 06:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c51464905de11c820c08771aac5ecf5a4be4e03a', 'message': 'control update, delete for cisco-network-profile\nAdd new behavior to control update and delete operations for the\ncisco-network-profile resource extension.\nThe new behavior is to allow update and delete operations only if\nthere are no neutron networks associated with a particular\ncisco-network-profile instance.\n\nChange-Id: I000a03c1ffd5c02e7b827ec757287633e5a5dd64\nCloses-Bug: #1323867\n'}, {'number': 2, 'created': '2014-05-29 18:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d366458250e3ca894b60e5bebcd3340c82c5662', 'message': 'Control update, delete for cisco-network-profile\n\nAdd new behavior to control update and delete operations for the\ncisco-network-profile resource extension.\nThe new behavior is to allow update and delete operations only if\nthere are no neutron networks associated with a particular\ncisco-network-profile instance\n\nChange-Id: I000a03c1ffd5c02e7b827ec757287633e5a5dd64\nCloses-Bug: #1323867\n'}, {'number': 3, 'created': '2014-05-29 23:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a73f4e36b91c414079b6de90f8dc5f3f834e7d0', 'message': 'Control update, delete for cisco-network-profile\n\nAdd new behavior to control update and delete operations for the\ncisco-network-profile resource extension.\nThe new behavior is to allow update and delete operations only if\nthere are no neutron networks associated with a particular\ncisco-network-profile instance\n\nChange-Id: I000a03c1ffd5c02e7b827ec757287633e5a5dd64\nCloses-Bug: #1323867\n'}, {'number': 4, 'created': '2014-06-03 00:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a5c801194ddb6757dbb99bdfb498e36abef75053', 'message': 'Control update, delete for cisco-network-profile\n\nAdd new behavior to control update and delete operations for the\ncisco-network-profile resource extension.\nThe new behavior is to allow update and delete operations only if\nthere are no neutron networks associated with a particular\ncisco-network-profile instance\n\nChange-Id: I000a03c1ffd5c02e7b827ec757287633e5a5dd64\nCloses-Bug: #1323867\n'}, {'number': 5, 'created': '2014-06-03 20:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/928d3ab23e9a37c9ecf3fea616ab32ffe3fbc5b0', 'message': 'Control update, delete for cisco-network-profile\n\nAdd new behavior to control update and delete operations for the\ncisco-network-profile resource extension.\nThe new behavior is to allow update and delete operations only if\nthere are no neutron networks associated with a particular\ncisco-network-profile instance\n\nChange-Id: I000a03c1ffd5c02e7b827ec757287633e5a5dd64\nCloses-Bug: #1323867\n'}, {'number': 6, 'created': '2014-06-05 18:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da1ff48870eef7ba98c81d9e882e3543f73f2485', 'message': 'Control update, delete for cisco-network-profile\n\nAdd new behavior to control update and delete operations for the\ncisco-network-profile resource extension.\nThe new behavior is to allow update and delete operations only if\nthere are no neutron networks associated with a particular\ncisco-network-profile instance\n\nChange-Id: I000a03c1ffd5c02e7b827ec757287633e5a5dd64\nCloses-Bug: #1323867\n'}, {'number': 7, 'created': '2014-06-09 22:13:52.000000000', 'files': ['neutron/plugins/cisco/common/cisco_constants.py', 'neutron/tests/unit/cisco/n1kv/test_n1kv_plugin.py', 'neutron/plugins/cisco/common/cisco_exceptions.py', 'neutron/plugins/cisco/db/n1kv_db_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/accd56fea86a0cd5f1706cbdd5b1bbc31c4cf479', 'message': 'Control update, delete for cisco-network-profile\n\nAdd new behavior to control update and delete operations for the\ncisco-network-profile resource extension.\nThe new behavior is to allow update and delete operations only if\nthere are no neutron networks associated with a particular\ncisco-network-profile instance\n\nChange-Id: I000a03c1ffd5c02e7b827ec757287633e5a5dd64\nCloses-Bug: #1323867\n'}]",62,96080,accd56fea86a0cd5f1706cbdd5b1bbc31c4cf479,153,24,7,9680,,,0,"Control update, delete for cisco-network-profile

Add new behavior to control update and delete operations for the
cisco-network-profile resource extension.
The new behavior is to allow update and delete operations only if
there are no neutron networks associated with a particular
cisco-network-profile instance

Change-Id: I000a03c1ffd5c02e7b827ec757287633e5a5dd64
Closes-Bug: #1323867
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/96080/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/cisco/n1kv/test_n1kv_plugin.py', 'neutron/plugins/cisco/common/cisco_exceptions.py', 'neutron/plugins/cisco/db/n1kv_db_v2.py']",3,c51464905de11c820c08771aac5ecf5a4be4e03a,master,"def delete_segment_allocations(db_session, net_p): """""" Delete the segment allocation entry from the table. :params db_session: database session :params net_p: network profile object """""" with db_session.begin(subtransactions=True): seg_min, seg_max = get_segment_range(net_p) if net_p['segment_type'] == c_const.NETWORK_TYPE_VLAN: for vlan_id in range(seg_min, seg_max + 1): alloc = (db_session.query(n1kv_models_v2.N1kvVlanAllocation). filter_by(physical_network=net_p['physical_network'], vlan_id=vlan_id). one()) db_session.delete(alloc) elif net_p['segment_type'] == c_const.NETWORK_TYPE_OVERLAY: for vxlan_id in range(seg_min, seg_max + 1): alloc = (db_session.query(n1kv_models_v2.N1kvVxlanAllocation). filter_by(vxlan_id=vxlan_id).one()) db_session.delete(alloc) def _segment_in_use(self, db_session, network_profile): """"""Verify whether a segment is allocated for given network profile."""""" with db_session.begin(subtransactions=True): return (db_session.query(n1kv_models_v2.N1kvNetworkBinding). filter_by(profile_id=network_profile['id'])).first() # Check whether the network profile is in use. if self._segment_in_use(context.session, get_network_profile(context.session, id)): raise c_exc.NetworkProfileInUse(profile=id) # Delete and return the network profile if it is not in use. # Flag to check whether network profile is updated or not. is_updated = False original_net_p = get_network_profile(context.session, id) # Update network profile to tenant id binding. if context.is_admin and ""add_tenant"" in p: self.add_network_profile_tenant(context.session, id, is_updated = True is_updated = True if original_net_p.segment_type == c_const.NETWORK_TYPE_TRUNK: #TODO(abhraut): Remove check when Trunk supports segment range. if ""segment_range"" in p and p[""segment_range""]: msg = _(""segment_range not required for TRUNK"") LOG.exception(msg) raise n_exc.InvalidInput(error_message=msg) if original_net_p.segment_type in [c_const.NETWORK_TYPE_VLAN, c_const.NETWORK_TYPE_TRUNK]: if ""multicast_ip_range"" in p and p[""multicast_ip_range""]: msg = _(""multicast_ip_range not required"") LOG.exception(msg) raise n_exc.InvalidInput(error_message=msg) # Update segment range if network profile is not in use. if (""segment_range"" in p and p[""segment_range""] and p[""segment_range""] != original_net_p.segment_range): if not self._segment_in_use(context.session, original_net_p): delete_segment_allocations(context.session, original_net_p) updated_net_p = update_network_profile(context.session, id, p) self._validate_segment_range_uniqueness(context, updated_net_p, id) if original_net_p.segment_type == c_const.NETWORK_TYPE_VLAN: sync_vlan_allocations(context.session, updated_net_p) if original_net_p.segment_type == c_const.NETWORK_TYPE_OVERLAY: sync_vxlan_allocations(context.session, updated_net_p) is_updated = True else: raise c_exc.NetworkProfileInUse(profile=id) if ('multicast_ip_range' in p and p[""multicast_ip_range""] and p[""multicast_ip_range""] != original_net_p[""multicast_ip_range""]): self._validate_multicast_ip_range(p) if not self._segment_in_use(context.session, original_net_p): is_updated = True else: raise c_exc.NetworkProfileInUse(profile=id) # Update network profile if name is updated and the network profile # is not yet updated. if ""name"" in p and not is_updated: is_updated = True # Return network profile if it is successfully updated. if is_updated: return self._make_network_profile_dict( update_network_profile(context.session, id, p)) segment_type = p['segment_type'].lower() if segment_type != c_const.NETWORK_TYPE_TRUNK: self._validate_segment_range_uniqueness(context, p) if netaddr.IPAddress(ip) <= netaddr.IPAddress('224.0.0.255'): msg = _(""%s is reserved multicast ip address"") % ip LOG.error(msg) raise n_exc.InvalidInput(error_message=msg) if segment_type == c_const.NETWORK_TYPE_TRUNK: if net_p[""segment_range""]: msg = _(""segment_range not required for trunk"") LOG.exception(msg) raise n_exc.InvalidInput(error_message=msg) def _validate_segment_range_uniqueness(self, context, net_p, id=None): :param id: UUID representing the network profile being updated seg_min, seg_max = self._get_segment_range(net_p['segment_range']) if ((1 > seg_min or seg_max > 4093) or seg_min in range(3968, 4048) or seg_max in range(3968, 4048) or (seg_min in range(1, 3968) and seg_max in range(3968, 4094))): msg = _(""Segment range is invalid, select from 1-3967, "" ""4048-4093"") LOG.exception(msg) raise n_exc.InvalidInput(error_message=msg) elif segment_type in [c_const.NETWORK_TYPE_OVERLAY, c_const.NETWORK_TYPE_MULTI_SEGMENT, c_const.NETWORK_TYPE_TRUNK]: profiles = _get_network_profiles() if ((seg_min < 4096) or (seg_max > 16000000)): msg = _(""segment range is invalid. Valid range is :"" "" 4096-16000000"") LOG.exception(msg) raise n_exc.InvalidInput(error_message=msg) if id and profile.id == id: continue"," if context.is_admin and ""add_tenant"" in p: self.add_network_profile_tenant(context.session, id, return self._make_network_profile_dict(get_network_profile( context.session, id)) return self._make_network_profile_dict(get_network_profile( context.session, id)) return self._make_network_profile_dict( update_network_profile(context.session, id, p)) self._validate_segment_range_uniqueness(context, p) def _validate_segment_range_uniqueness(self, context, net_p): else: profiles = _get_network_profiles(db_session=context.session)",193,12
openstack%2Fcinder~master~I89eedb0d0276a985b4d496093df2eee2ce067ec1,openstack/cinder,master,I89eedb0d0276a985b4d496093df2eee2ce067ec1,Removes unecessary call to rbd.Image,MERGED,2014-06-15 20:36:52.000000000,2014-06-16 04:50:40.000000000,2014-06-16 04:50:40.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 2759}, {'_account_id': 9533}, {'_account_id': 9751}]","[{'number': 1, 'created': '2014-06-15 20:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/699e07e5a5f5469032e8ddbfae53979d12cadca4', 'message': 'Removes unecessary call to rbd.Image\n\nRemoved duplicate and unprotected call to rbd.Image\nin rbd driver which can result in an uncaught exception\nif the rbd image no longer exists.\n\nAlso added unit test for _delete_backup_snaps()\n\nCloses-Bug: 1323203\nChange-Id: I89eedb0d0276a985b4d496093df2eee2ce067ec1\n'}, {'number': 2, 'created': '2014-06-15 20:42:56.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/86643780bc2cf1f7a467a7c65aab64e3110d031e', 'message': 'Removes unecessary call to rbd.Image\n\nRemoved duplicate and unprotected call to rbd.Image\nin rbd driver which can result in an uncaught exception\nif the rbd image no longer exists.\n\nAlso added unit test for _delete_backup_snaps()\n\nCloses-Bug: 1323203\nChange-Id: I89eedb0d0276a985b4d496093df2eee2ce067ec1\n'}]",0,100111,86643780bc2cf1f7a467a7c65aab64e3110d031e,12,5,2,6737,,,0,"Removes unecessary call to rbd.Image

Removed duplicate and unprotected call to rbd.Image
in rbd driver which can result in an uncaught exception
if the rbd image no longer exists.

Also added unit test for _delete_backup_snaps()

Closes-Bug: 1323203
Change-Id: I89eedb0d0276a985b4d496093df2eee2ce067ec1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/11/100111/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/tests/test_rbd.py']",2,699e07e5a5f5469032e8ddbfae53979d12cadca4,bug/1323203," def test_delete_backup_snaps(self): self.driver.rbd.Image.remove_snap = mock.Mock() with mock.patch.object(self.driver, '_get_backup_snaps') as \ mock_get_backup_snaps: mock_get_backup_snaps.return_value = [{'name': 'snap1'}] rbd_image = self.driver.rbd.Image() self.driver._delete_backup_snaps(rbd_image) mock_get_backup_snaps.assert_called_once_with(rbd_image) self.assertTrue(self.driver.rbd.Image.remove_snap.called) @common_mocks",,13,3
openstack%2Fpython-ironicclient~master~I58bf93fea711fd25890356a397e594bd820c99e3,openstack/python-ironicclient,master,I58bf93fea711fd25890356a397e594bd820c99e3,Add UTF-8 coding lines to all Python files,MERGED,2014-05-28 09:02:38.000000000,2014-06-16 04:31:06.000000000,2014-06-16 04:31:05.000000000,"[{'_account_id': 3}, {'_account_id': 3099}, {'_account_id': 6773}, {'_account_id': 7882}, {'_account_id': 8106}, {'_account_id': 10239}, {'_account_id': 11638}]","[{'number': 1, 'created': '2014-05-28 09:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/a043aeb2a7cdc111a1bf9eea5fede907047648ca', 'message': 'Remove unnecessary coding lines\n\nAs per PEP 263, a Python file with non-ASCII characters must have a\nline with ""coding: <some-encoding>"". These files are pure ASCII, so\nthe lines are unnecessary in them.\n\nChange-Id: I58bf93fea711fd25890356a397e594bd820c99e3\n'}, {'number': 2, 'created': '2014-05-29 21:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/ea15c9b6215b4f95e0da506ba2fea7b8932cb3c6', 'message': 'Add UTF-8 coding lines to all Python files\n\nWhile not strictly necessary for files containing only ASCII\ncharacters, adding a line with ""coding: utf-8"" can guard against\nfuture SyntaxError\'s in case someone inserts a Unicode literal.\n\nThe syntax used works with Python (of course) and also with Emacs,\nwhich will recognize the special ""-*-"" marker and use the ""coding""\nvariable to correctly decode the file, even in an environment where\nUTF-8 is not the default file encoding.\n\nChange-Id: I58bf93fea711fd25890356a397e594bd820c99e3\n'}, {'number': 3, 'created': '2014-05-31 11:23:55.000000000', 'files': ['ironicclient/common/http.py', 'ironicclient/tests/v1/test_driver_shell.py', 'ironicclient/openstack/common/__init__.py', 'ironicclient/openstack/common/apiclient/exceptions.py', 'ironicclient/v1/driver_shell.py', 'ironicclient/tests/test_client.py', 'setup.py', 'ironicclient/tests/v1/test_node.py', 'ironicclient/tests/v1/test_port.py', 'ironicclient/common/base.py', 'ironicclient/tests/test_shell.py', 'ironicclient/v1/node_shell.py', 'ironicclient/openstack/common/cliutils.py', 'ironicclient/v1/shell.py', 'ironicclient/shell.py', 'ironicclient/tests/test_http.py', 'ironicclient/tests/v1/test_chassis.py', 'ironicclient/openstack/__init__.py', 'ironicclient/openstack/common/apiclient/fake_client.py', 'ironicclient/v1/chassis.py', 'ironicclient/openstack/common/gettextutils.py', 'ironicclient/tests/utils.py', 'ironicclient/tests/test_utils.py', 'ironicclient/common/utils.py', 'ironicclient/openstack/common/apiclient/client.py', 'ironicclient/tests/v1/test_node_shell.py', 'ironicclient/v1/port.py', 'ironicclient/client.py', 'ironicclient/openstack/common/strutils.py', 'ironicclient/v1/__init__.py', 'ironicclient/v1/node.py', 'ironicclient/tests/v1/test_driver.py', 'ironicclient/openstack/common/apiclient/base.py', 'ironicclient/exc.py', 'ironicclient/tests/v1/test_port_shell.py', 'ironicclient/v1/driver.py', 'ironicclient/__init__.py', 'ironicclient/v1/chassis_shell.py', 'ironicclient/v1/port_shell.py', 'ironicclient/openstack/common/apiclient/auth.py', 'ironicclient/openstack/common/importutils.py', 'ironicclient/v1/client.py', 'tools/install_venv_common.py', 'ironicclient/openstack/common/uuidutils.py', 'ironicclient/tests/v1/test_chassis_shell.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/af741ec2236619880fa902d68aef4a6ae6cef534', 'message': 'Add UTF-8 coding lines to all Python files\n\nWhile not strictly necessary for files containing only ASCII\ncharacters, adding a line with ""coding: utf-8"" can guard against\nfuture SyntaxError\'s in case someone inserts a Unicode literal.\n\nThis commit adds such lines to all .py files. The syntax used by this\ncommit works with Python (of course). It also works with Emacs, which\nwill recognize the special ""-*-"" marker and use the ""coding"" variable\nto correctly decode the file, even in an environment where UTF-8 is\nnot the default file encoding.\n\nExisting coding lines were normalized to match the new lines added.\n\nPartial-bug: #1325193\nChange-Id: I58bf93fea711fd25890356a397e594bd820c99e3\n'}]",0,96109,af741ec2236619880fa902d68aef4a6ae6cef534,34,7,3,11638,,,0,"Add UTF-8 coding lines to all Python files

While not strictly necessary for files containing only ASCII
characters, adding a line with ""coding: utf-8"" can guard against
future SyntaxError's in case someone inserts a Unicode literal.

This commit adds such lines to all .py files. The syntax used by this
commit works with Python (of course). It also works with Emacs, which
will recognize the special ""-*-"" marker and use the ""coding"" variable
to correctly decode the file, even in an environment where UTF-8 is
not the default file encoding.

Existing coding lines were normalized to match the new lines added.

Partial-bug: #1325193
Change-Id: I58bf93fea711fd25890356a397e594bd820c99e3
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/09/96109/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironicclient/v1/node.py', 'ironicclient/tests/v1/test_driver.py', 'ironicclient/tests/v1/test_driver_shell.py', 'ironicclient/v1/driver_shell.py', 'ironicclient/tests/v1/test_port_shell.py', 'ironicclient/v1/driver.py', 'doc/source/conf.py', 'ironicclient/tests/v1/test_node.py', 'ironicclient/tests/v1/test_port.py', 'ironicclient/tests/v1/test_chassis.py', 'ironicclient/tests/v1/test_node_shell.py', 'ironicclient/tests/v1/test_chassis_shell.py']",12,a043aeb2a7cdc111a1bf9eea5fede907047648ca,add-coding-lines-everywhere,,# -*- encoding: utf-8 -*-,0,12
openstack%2Ftrove~master~I0d7c61b4c0103d4f9e627ff5d22cddcdff2f7274,openstack/trove,master,I0d7c61b4c0103d4f9e627ff5d22cddcdff2f7274,Apply six for metaclass,MERGED,2014-02-13 02:57:22.000000000,2014-06-16 03:34:24.000000000,2014-06-16 03:34:24.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 1925}, {'_account_id': 2340}, {'_account_id': 5293}, {'_account_id': 7092}, {'_account_id': 7543}, {'_account_id': 8415}, {'_account_id': 8871}, {'_account_id': 9664}, {'_account_id': 10215}]","[{'number': 1, 'created': '2014-02-13 02:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/8d4f910af4c340f1a7d30e4f1ee08f99679e98e5', 'message': 'Apply six for metaclass\n\n__metaclass__ cannot be used in python3.\nsix be used in general for python 3 compatibility.\n\nChange-Id: I0d7c61b4c0103d4f9e627ff5d22cddcdff2f7274\n'}, {'number': 2, 'created': '2014-02-16 05:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ff3e9ed84936c856531ead2699b3e2cea576b705', 'message': 'Apply six for metaclass\n\n__metaclass__ cannot be used in python3.\nsix be used in general for python 3 compatibility.\n\nChange-Id: I0d7c61b4c0103d4f9e627ff5d22cddcdff2f7274\n'}, {'number': 3, 'created': '2014-02-25 08:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/809e4af4c534be0735dfdda8a2aafb5adb28f460', 'message': 'Apply six for metaclass\n\n__metaclass__ cannot be used in python3.\nsix be used in general for python 3 compatibility.\n\nChange-Id: I0d7c61b4c0103d4f9e627ff5d22cddcdff2f7274\n'}, {'number': 4, 'created': '2014-04-21 02:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/61a887c44b2e73282df4ea326ff018d77d7177a7', 'message': 'Apply six for metaclass\n\n__metaclass__ cannot be used in python3.\nsix be used in general for python 3 compatibility.\n\nChange-Id: I0d7c61b4c0103d4f9e627ff5d22cddcdff2f7274\n'}, {'number': 5, 'created': '2014-05-06 06:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f1a24eff5c97146b1784a13737d3e03102ed91d7', 'message': 'Apply six for metaclass\n\n__metaclass__ cannot be used in python3.\nsix be used in general for python 3 compatibility.\n\nChange-Id: I0d7c61b4c0103d4f9e627ff5d22cddcdff2f7274\n'}, {'number': 6, 'created': '2014-05-06 07:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e58fffd3b69bc67e687b73286f5e797617e0ecb3', 'message': 'Apply six for metaclass\n\n__metaclass__ cannot be used in python3.\nsix be used in general for python 3 compatibility.\n\nChange-Id: I0d7c61b4c0103d4f9e627ff5d22cddcdff2f7274\n'}, {'number': 7, 'created': '2014-06-03 07:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/0e3134e7cd18f60a0377b5f00a1009c2d58347a9', 'message': 'Apply six for metaclass\n\n__metaclass__ cannot be used in python3.\nsix be used in general for python 3 compatibility.\n\nChange-Id: I0d7c61b4c0103d4f9e627ff5d22cddcdff2f7274\n'}, {'number': 8, 'created': '2014-06-04 07:09:48.000000000', 'files': ['trove/guestagent/strategy.py', 'trove/guestagent/pkg.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/6fb0a9ebee3834c095af953252b8d536d09205ad', 'message': 'Apply six for metaclass\n\n__metaclass__ cannot be used in python3.\nsix be used in general for python 3 compatibility.\n\nChange-Id: I0d7c61b4c0103d4f9e627ff5d22cddcdff2f7274\n'}]",3,73136,6fb0a9ebee3834c095af953252b8d536d09205ad,92,11,8,7543,,,0,"Apply six for metaclass

__metaclass__ cannot be used in python3.
six be used in general for python 3 compatibility.

Change-Id: I0d7c61b4c0103d4f9e627ff5d22cddcdff2f7274
",git fetch https://review.opendev.org/openstack/trove refs/changes/36/73136/2 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/strategy.py', 'trove/guestagent/pkg.py']",2,8d4f910af4c340f1a7d30e4f1ee08f99679e98e5,six-replace,import six@six.add_metaclass(BasePackage) class Package(object): pass,class Package(object): __metaclass__ = BasePackage,5,3
openstack%2Fneutron~master~I224ec8db28d62484f5f4142cfd361162fb37e1b6,openstack/neutron,master,I224ec8db28d62484f5f4142cfd361162fb37e1b6,Fix invalid IPv6 address used in FakeV6 variables,MERGED,2014-06-11 14:53:54.000000000,2014-06-16 03:28:00.000000000,2014-06-16 03:27:59.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1131}, {'_account_id': 2592}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 5892}, {'_account_id': 6524}, {'_account_id': 7787}, {'_account_id': 9411}, {'_account_id': 9681}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10068}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}]","[{'number': 1, 'created': '2014-06-11 14:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/853fb1a7abfb65add87b740bd5ba76e87f1b1892', 'message': 'Fix invalid IPv6 address used in FakeV6 variables\n\nUses RFC 5180 benchmark scope to change bad IPv6 addresses\n\nClose-Bug: #1328889\nChange-Id: I224ec8db28d62484f5f4142cfd361162fb37e1b6\n'}, {'number': 2, 'created': '2014-06-11 17:24:26.000000000', 'files': ['neutron/tests/unit/test_linux_dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d4e5373240b97727ce9c4ec6636119bd5849bace', 'message': 'Fix invalid IPv6 address used in FakeV6 variables\n\nUses RFC 5180 benchmark scope to change bad IPv6 addresses\n\nCloses-Bug: #1328889\nChange-Id: I224ec8db28d62484f5f4142cfd361162fb37e1b6\n'}]",1,99398,d4e5373240b97727ce9c4ec6636119bd5849bace,53,24,2,9411,,,0,"Fix invalid IPv6 address used in FakeV6 variables

Uses RFC 5180 benchmark scope to change bad IPv6 addresses

Closes-Bug: #1328889
Change-Id: I224ec8db28d62484f5f4142cfd361162fb37e1b6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/99398/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/test_linux_dhcp.py'],1,853fb1a7abfb65add87b740bd5ba76e87f1b1892,bug/1328889, destination = '2001:0200:feed:7ac0::/64' nexthop = '2001:0200:feed:7ac0::1' dns_nameservers = ['2001:0200:feed:7ac0::1'] fake_v6 = '2001:0200:feed:7ac0::1' fake_v6_cidr = '2001:0200:feed:7ac0::/64' fake_v6 = '2001:0200:feed:7ac0::1' fake_v6_cidr = '2001:0200:feed:7ac0::/64' fake_v6 = '2001:0200:feed:7ac0::1' fake_v6_cidr = '2001:0200:feed:7ac0::/64', destination = 'gdca:3ba5:a17a:4ba3::/64' nexthop = 'gdca:3ba5:a17a:4ba3::1' dns_nameservers = ['gdca:3ba5:a17a:4ba3::1'] fake_v6 = 'gdca:3ba5:a17a:4ba3::1' fake_v6_cidr = 'gdca:3ba5:a17a:4ba3::/64' fake_v6 = 'gdca:3ba5:a17a:4ba3::1' fake_v6_cidr = 'gdca:3ba5:a17a:4ba3::/64' fake_v6 = 'gdca:3ba5:a17a:4ba3::1' fake_v6_cidr = 'gdca:3ba5:a17a:4ba3::/64',9,9
openstack%2Ftripleo-ci~master~Ibd65079a00a8d0c361f9d3422e8efcdf6a962cef,openstack/tripleo-ci,master,Ibd65079a00a8d0c361f9d3422e8efcdf6a962cef,Log get_state_from_host to a file,MERGED,2014-06-12 10:20:18.000000000,2014-06-16 03:16:28.000000000,2014-06-16 03:16:27.000000000,"[{'_account_id': 3}, {'_account_id': 4190}, {'_account_id': 7144}]","[{'number': 1, 'created': '2014-06-12 10:20:18.000000000', 'files': ['toci_devtest.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/94fb708f2fc2da231f236450c4e77d9d335dfcd0', 'message': 'Log get_state_from_host to a file\n\nThe scope of this function has now expanded causing lots more log\noutput after the ci tests has completed, this can make it difficult to\nfind the point where a CI test failed, directing most of it to a file\nwill make the situation better.\n\nChange-Id: Ibd65079a00a8d0c361f9d3422e8efcdf6a962cef\n'}]",0,99620,94fb708f2fc2da231f236450c4e77d9d335dfcd0,11,3,1,1926,,,0,"Log get_state_from_host to a file

The scope of this function has now expanded causing lots more log
output after the ci tests has completed, this can make it difficult to
find the point where a CI test failed, directing most of it to a file
will make the situation better.

Change-Id: Ibd65079a00a8d0c361f9d3422e8efcdf6a962cef
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/20/99620/1 && git format-patch -1 --stdout FETCH_HEAD,['toci_devtest.sh'],1,94fb708f2fc2da231f236450c4e77d9d335dfcd0,lessstatelogs, get_state_from_host seed root@$SEED_IP &> $WORKSPACE/logs/get_state_from_host.log get_state_from_host $NAME heat-admin@$IP &>> $WORKSPACE/logs/get_state_from_host.log || true, get_state_from_host seed root@$SEED_IP get_state_from_host $NAME heat-admin@$IP || true,2,2
openstack%2Ftripleo-ci~master~Ifeb6360dbdb6edaf602a984df078aa68c1cf7652,openstack/tripleo-ci,master,Ifeb6360dbdb6edaf602a984df078aa68c1cf7652,Split very long line in toci_devtest.sh,MERGED,2014-06-03 08:24:10.000000000,2014-06-16 03:15:30.000000000,2014-06-16 03:15:30.000000000,"[{'_account_id': 3}, {'_account_id': 1865}, {'_account_id': 1926}, {'_account_id': 4190}, {'_account_id': 7582}, {'_account_id': 8688}, {'_account_id': 9268}]","[{'number': 1, 'created': '2014-06-03 08:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0c84454c865f9ddcc7553053f8002f08fe38e9ca', 'message': ""Fix long lines\n\nAs far as I know there's no strict standard here, but 120+ characters\nseems excessive. toci_devtest.sh had one line which was 368 characters\nlong.\n\nChange-Id: Ifeb6360dbdb6edaf602a984df078aa68c1cf7652\n""}, {'number': 2, 'created': '2014-06-05 12:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a86851c397b59e133ba2be81e92cc72bf451c269', 'message': ""Split very long line in toci_devtest.sh\n\nAs far as I know there's no strict standard here, but 360+ characters\nseems excessive.\n\nChange-Id: Ifeb6360dbdb6edaf602a984df078aa68c1cf7652\n""}, {'number': 3, 'created': '2014-06-06 10:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/abf6105852160d1a7263ec7384d12dbcd021fbbb', 'message': ""Split very long line in toci_devtest.sh\n\nAs far as I know there's no strict standard here, but 360+ characters\nseems excessive.\n\nChange-Id: Ifeb6360dbdb6edaf602a984df078aa68c1cf7652\n""}, {'number': 4, 'created': '2014-06-06 10:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/71b0e1a192546545f000d369cbe0f308e93e2158', 'message': ""Split very long line in toci_devtest.sh\n\nAs far as I know there's no strict standard here, but 360+ characters\nseems excessive.\n\nChange-Id: Ifeb6360dbdb6edaf602a984df078aa68c1cf7652\n""}, {'number': 5, 'created': '2014-06-09 14:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/db8c481681d00b9e1f367a2df26e3d67b4376e4d', 'message': ""Split very long line in toci_devtest.sh\n\nAs far as I know there's no strict standard here, but 360+ characters\nseems excessive.\n\nChange-Id: Ifeb6360dbdb6edaf602a984df078aa68c1cf7652\n""}, {'number': 6, 'created': '2014-06-10 09:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/35a505573b5f82e2ad00c1aa3b8f3815ab6270ae', 'message': ""Split very long line in toci_devtest.sh\n\nAs far as I know there's no strict standard here, but 360+ characters\nseems excessive.\n\nChange-Id: Ifeb6360dbdb6edaf602a984df078aa68c1cf7652\n""}, {'number': 7, 'created': '2014-06-11 10:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8fed66437ae5aa2d0e22831bfd9460f76e0f109f', 'message': ""Split very long line in toci_devtest.sh\n\nAs far as I know there's no strict standard here, but 360+ characters\nseems excessive.\n\nChange-Id: Ifeb6360dbdb6edaf602a984df078aa68c1cf7652\n""}, {'number': 8, 'created': '2014-06-12 12:27:45.000000000', 'files': ['toci_devtest.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4aa95a3d8049baf5bed579667b7692f028c00da1', 'message': ""Split very long line in toci_devtest.sh\n\nAs far as I know there's no strict standard here, but 360+ characters\nseems excessive.\n\nChange-Id: Ifeb6360dbdb6edaf602a984df078aa68c1cf7652\n""}]",0,97429,4aa95a3d8049baf5bed579667b7692f028c00da1,52,7,8,8688,,,0,"Split very long line in toci_devtest.sh

As far as I know there's no strict standard here, but 360+ characters
seems excessive.

Change-Id: Ifeb6360dbdb6edaf602a984df078aa68c1cf7652
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/29/97429/2 && git format-patch -1 --stdout FETCH_HEAD,"['elements/testenv-worker/README.md', 'elements/testenv-worker/os-refresh-config/configure.d/60-setup-testenvs', 'toci_devtest.sh']",3,0c84454c865f9ddcc7553053f8002f08fe38e9ca,fix/long-lines, ssh -o StrictHostKeyChecking=no \ -o UserKnownHostsFile=/dev/null \ -o LogLevel=QUIET \ -o PasswordAuthentication=no $2 \ $(cat <<EOT ( set -x ps -ef df -h uptime sudo netstat -lpn sudo iptables-save sudo ovs-vsctl show ip addr dpkg -l || rpm -qa ) 2>&1 | sudo dd of=/var/log/host_info.txt &> /dev/null sudo XZ_OPT=-3 tar -cJf - --exclude=udev/hwdb.bin --exclude=selinux/targeted \ --exclude=etc/services --exclude=etc/pki /var/log /etc || true EOT) > $WORKSPACE/logs/$1_logs.tar.xz," ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -o LogLevel=QUIET -o PasswordAuthentication=no $2 \ ""( set -x ; ps -ef ; df -h ; uptime ; sudo netstat -lpn ; sudo iptables-save ; sudo ovs-vsctl show ; ip addr ; dpkg -l || rpm -qa) 2>&1 | sudo dd of=/var/log/host_info.txt &> /dev/null ; sudo XZ_OPT=-3 tar -cJf - --exclude=udev/hwdb.bin --exclude=selinux/targeted --exclude=etc/services --exclude=etc/pki /var/log /etc || true"" > $WORKSPACE/logs/$1_logs.tar.xz",24,5
openstack%2Fneutron~master~I8ba2f2d2ee896d9f4a378570be1524077d5b663c,openstack/neutron,master,I8ba2f2d2ee896d9f4a378570be1524077d5b663c,Add 'ip rule ...' support to ip_lib,MERGED,2014-05-11 19:49:00.000000000,2014-06-16 03:13:32.000000000,2014-06-15 03:22:19.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 490}, {'_account_id': 704}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 6854}, {'_account_id': 6876}, {'_account_id': 7183}, {'_account_id': 7448}, {'_account_id': 7730}, {'_account_id': 7787}, {'_account_id': 7962}, {'_account_id': 8873}, {'_account_id': 9077}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}]","[{'number': 1, 'created': '2014-05-11 19:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/16212ddac65afb33ed35669b0b81749a1fef68cf', 'message': ""Add 'ip rule add from' to ip_lib\n\nThis change adds 'ip rule add from cidr lookup table priority' as ip wrapper\ncommand.\n\nChange-Id: I8ba2f2d2ee896d9f4a378570be1524077d5b663c\nPartially-Implements: blueprint neutron-ovs-dvr\n""}, {'number': 2, 'created': '2014-06-12 23:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/60e12ad1c414799dc59841b3b436a15e594b5b86', 'message': ""Add 'ip rule ...' support to ip_lib\n\nThis change adds 'ip rule add', 'ip rule delete' and extends the IpRoute\nclass to support more ip commands\n\nChange-Id: I8ba2f2d2ee896d9f4a378570be1524077d5b663c\nPartially-Implements: blueprint neutron-ovs-dvr\n""}, {'number': 3, 'created': '2014-06-13 16:55:21.000000000', 'files': ['neutron/tests/unit/test_linux_ip_lib.py', 'neutron/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/88613528dfd1678c5a4520e6f4c50cbc72853d45', 'message': ""Add 'ip rule ...' support to ip_lib\n\nThis change adds 'ip rule add', 'ip rule delete' and extends the IpRoute\nclass to support more ip commands\n\nChange-Id: I8ba2f2d2ee896d9f4a378570be1524077d5b663c\nPartially-Implements: blueprint neutron-ovs-dvr\n""}]",9,93233,88613528dfd1678c5a4520e6f4c50cbc72853d45,69,29,3,9077,,,0,"Add 'ip rule ...' support to ip_lib

This change adds 'ip rule add', 'ip rule delete' and extends the IpRoute
class to support more ip commands

Change-Id: I8ba2f2d2ee896d9f4a378570be1524077d5b663c
Partially-Implements: blueprint neutron-ovs-dvr
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/93233/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_linux_ip_lib.py', 'neutron/agent/linux/ip_lib.py']",2,16212ddac65afb33ed35669b0b81749a1fef68cf,bp/neutron-ovs-dvr," def add_rule_from(self, cidr, table, priority=None): args = ['add', 'from', cidr, 'lookup', table] if priority: args += ['priority', priority] self._as_root('', 'rule', tuple(args)) ",,14,0
openstack%2Fhorizon~stable%2Ficehouse~Ic4107c446b015eb72a54496a7a7ef6e2b0a53554,openstack/horizon,stable/icehouse,Ic4107c446b015eb72a54496a7a7ef6e2b0a53554,Fix the dot overlaps with the table border in Availability Zones table,MERGED,2014-06-04 10:17:55.000000000,2014-06-16 02:18:01.000000000,2014-06-16 02:18:01.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1941}, {'_account_id': 4264}, {'_account_id': 5623}, {'_account_id': 6610}, {'_account_id': 6914}, {'_account_id': 8871}, {'_account_id': 9317}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 9961}, {'_account_id': 9981}, {'_account_id': 10112}]","[{'number': 1, 'created': '2014-06-04 10:17:55.000000000', 'files': ['openstack_dashboard/static/dashboard/less/horizon.less'], 'web_link': 'https://opendev.org/openstack/horizon/commit/4a70f4ce76e3db8396a429535a8660f479f7d654', 'message': 'Fix the dot overlaps with the table border in Availability Zones table\n\nAdd space between the dot and table border in Availability\nZones table.\n\nChange-Id: Ic4107c446b015eb72a54496a7a7ef6e2b0a53554\nCloses-bug:#1309381\n(cherry picked from commit 9456d69e02139c5cf891069a997ae03def0d242a)\n'}]",0,97738,4a70f4ce76e3db8396a429535a8660f479f7d654,38,14,1,4978,,,0,"Fix the dot overlaps with the table border in Availability Zones table

Add space between the dot and table border in Availability
Zones table.

Change-Id: Ic4107c446b015eb72a54496a7a7ef6e2b0a53554
Closes-bug:#1309381
(cherry picked from commit 9456d69e02139c5cf891069a997ae03def0d242a)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/38/97738/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/static/dashboard/less/horizon.less'],1,4a70f4ce76e3db8396a429535a8660f479f7d654,bug/1309381,.table li { list-style-position: inside; },,3,0
openstack%2Fnova-specs~master~I1d8d381c3aed40218493824e0de19a83f8a0c65f,openstack/nova-specs,master,I1d8d381c3aed40218493824e0de19a83f8a0c65f,Add an index column to 'nova list',ABANDONED,2014-04-22 03:48:39.000000000,2014-06-16 02:04:03.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1501}, {'_account_id': 1849}, {'_account_id': 7494}, {'_account_id': 8021}]","[{'number': 1, 'created': '2014-04-22 03:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9c66e69606463aff62c66cc598f9107a49ae10c7', 'message': ""Add an index column to 'nova list'\n\nTo make 'nova list' more clear and efficient for operation\nImplements: blueprint add-an-index-column-to-nova-list\n\nChange-Id: I1d8d381c3aed40218493824e0de19a83f8a0c65f\n""}, {'number': 2, 'created': '2014-04-22 03:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0b93ffc7c9dd9858bd1be29086893f9864e430e3', 'message': ""Add an index column to 'nova list'\n\nTo make 'nova list' more clear and efficient for operation\nImplements: blueprint add-an-index-column-to-nova-list\n\nChange-Id: I1d8d381c3aed40218493824e0de19a83f8a0c65f\n""}, {'number': 3, 'created': '2014-04-22 04:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f407b9f829495dc39036b37543bf25b563e74082', 'message': ""Add an index column to 'nova list'\n\nTo make 'nova list' more clear and efficient for operation\nImplements: blueprint add-an-index-column-to-nova-list\n\nChange-Id: I1d8d381c3aed40218493824e0de19a83f8a0c65f\n""}, {'number': 4, 'created': '2014-04-22 06:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b4695e64f43fc7197f7168f1d8cacec7815811ca', 'message': ""Add an index column to 'nova list'\n\nTo make 'nova list' more clear and efficient for operation\nImplements: blueprint add-an-index-column-to-nova-list\n\nChange-Id: I1d8d381c3aed40218493824e0de19a83f8a0c65f\n""}, {'number': 5, 'created': '2014-04-22 07:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/011837b8625abb8c7346e33e11783d47aa7292ca', 'message': ""Add an index column to 'nova list'\n\nTo make 'nova list' more clear and efficient for operation\nImplements: blueprint add-an-index-column-to-nova-list\n\nChange-Id: I1d8d381c3aed40218493824e0de19a83f8a0c65f\n""}, {'number': 6, 'created': '2014-04-22 07:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6e8fbcd111cb15a01934988a46a683232a760e58', 'message': ""Add an index column to 'nova list'\n\nTo make 'nova list' more clear and efficient for operation\nImplements: blueprint add-an-index-column-to-nova-list\n\nChange-Id: I1d8d381c3aed40218493824e0de19a83f8a0c65f\n""}, {'number': 7, 'created': '2014-04-22 07:22:02.000000000', 'files': ['specs/juno/add-an-index-column-to-nova-list.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d3f2b2dcf989d161c543491b926eafa627d1ca18', 'message': ""Add an index column to 'nova list'\n\nTo make 'nova list' more clear and efficient for operation\nImplements: blueprint add-an-index-column-to-nova-list\n\nChange-Id: I1d8d381c3aed40218493824e0de19a83f8a0c65f\n""}]",4,89468,d3f2b2dcf989d161c543491b926eafa627d1ca18,33,6,7,8021,,,0,"Add an index column to 'nova list'

To make 'nova list' more clear and efficient for operation
Implements: blueprint add-an-index-column-to-nova-list

Change-Id: I1d8d381c3aed40218493824e0de19a83f8a0c65f
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/68/89468/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/add-an-index-column-to-nova-list.txt'],1,9c66e69606463aff62c66cc598f9107a49ae10c7,bp/add-an-index-column-to-nova-list,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================================= add an index column to 'nova list' ================================================================= https://blueprints.launchpad.net/python-novaclient/+spec/ add-an-index-column-to-nova-list Now 'nova list' can not give the amount of instances easily, so I want to add an index column to 'nova list' in python-novaclient. Problem description =================== Now 'nova list' only shows the 'ID'/'Name'/'Status'/'Task State'/'Power State'/'Networks' columns. That's OK for normal using. But if you have more than 200 VMs or even larger in one environment, 'nova list' will print out lots of lines even if I add some filters (such as '--name'/'--status'/..). My environment often has more than 500 instances, so it's very hard to count the amount of them. Here's a result of 'nova list' on one environment only has 150 instances: http://paste.openstack.org/show/60553/. Now I just have to use 'nova list |wc' to count them(minus 4 line).. So, if an index column add to 'nova list' in novaclient, it can easily count the amount of the VMs under any filters. It'll benefit the operation of OpenStack. P.S. Cinder also has the similar problem if one environment has much volumes. I have submitted a similar BP in launchpad: https://blueprints.launchpad.net/python-cinderclient/+spec/ add-an-index-column-to-cinder-list-functions Proposed change =============== Add one 'index' column to 'nova list' in novaclient. The response of the command will print like this: +-------+------+------+---------+------------+-------------+---------------+ | Index | ID | Name | Status | Task State | Power State | Networks | +-------+------+------+---------+------------+-------------+---------------+ | 1 | .... | vm01 | SHUTOFF | - | Shutdown | test=10.0.0.3 | | 2 | .... | vm02 | ACTIVE | - | Running | test=10.0.0.4 | | 3 | .... | vm03 | ACTIVE | - | Running | test=10.0.0.5 | | 4 | .... | vm04 | ACTIVE | - | Running | test=10.0.0.6 | | 5 | .... | vm05 | ACTIVE | - | Running | test=10.0.0.7 | | 6 | .... | vm06 | SHUTOFF | - | Shutdown | test=10.0.0.8 | +-------+------+------+---------+------------+-------------+---------------+ Alternatives ------------ Add one filter like '--number' to instead of the design above. * If we add one filter like 'nova list --number', the response may only print the amount number, like this: # nova list --number > 6 * This filter can be also executed with other filters, like this: # nova list --status active --number > 4 This modification will not change the response of 'nova list', it only add one filter to count. So I think it's also a usable method to achieve the goal even if it's not more clear for operators than the former design. Therefore, I paste it here to hear your advice. Thanks. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Assignee: wingwj <wingwj@gmail.com> Work Items ---------- Code this function & related tests in python-novaclient Dependencies ============ None Testing ======= Unit tests will add to check this function in python-novaclient Documentation Impact ==================== None References ========== None",,163,0
openstack%2Fsahara~master~Ia26cb20565d50af71032d0e739c272b3ade0e8ee,openstack/sahara,master,Ia26cb20565d50af71032d0e739c272b3ade0e8ee,Update job execution status on cluster deletion,MERGED,2014-06-12 22:46:28.000000000,2014-06-16 01:41:40.000000000,2014-06-15 21:49:04.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 7428}, {'_account_id': 7604}, {'_account_id': 8091}, {'_account_id': 8411}]","[{'number': 1, 'created': '2014-06-12 22:46:28.000000000', 'files': ['sahara/service/engine.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/fdc0ebc46223cb1d7ddfc08dc9392710b45281c4', 'message': ""Update job execution status on cluster deletion\n\nOn cluster creation Sahara now does:\n1. remove cluster_id (as before)\n2. don't change status and end_time for finished jobs\n3. change status to 'FAILED' and update end_time for not finished jobs\n\nChange-Id: Ia26cb20565d50af71032d0e739c272b3ade0e8ee\nCloses-Bug: #1329109\n""}]",1,99788,fdc0ebc46223cb1d7ddfc08dc9392710b45281c4,20,8,1,8411,,,0,"Update job execution status on cluster deletion

On cluster creation Sahara now does:
1. remove cluster_id (as before)
2. don't change status and end_time for finished jobs
3. change status to 'FAILED' and update end_time for not finished jobs

Change-Id: Ia26cb20565d50af71032d0e739c272b3ade0e8ee
Closes-Bug: #1329109
",git fetch https://review.opendev.org/openstack/sahara refs/changes/88/99788/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara/service/engine.py'],1,fdc0ebc46223cb1d7ddfc08dc9392710b45281c4,," update = {""cluster_id"": None} if not je.end_time: info = je.info.copy() if je.info else {} info['status'] = 'KILLED' update.update({""info"": info, ""end_time"": datetime.datetime.now()})"," update = {""cluster_id"": None, ""end_time"": datetime.datetime.now()}",6,2
openstack%2Fkeystone~master~If74f13bc2898e880649ee809967f5b5859b793c6,openstack/keystone,master,If74f13bc2898e880649ee809967f5b5859b793c6,enable multiple keystone-all worker processes,MERGED,2013-08-20 18:41:02.000000000,2014-06-15 23:34:20.000000000,2014-06-15 23:34:19.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 455}, {'_account_id': 1032}, {'_account_id': 1916}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 6486}, {'_account_id': 6549}, {'_account_id': 6969}, {'_account_id': 7500}, {'_account_id': 9098}, {'_account_id': 9751}]","[{'number': 1, 'created': '2013-08-20 18:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6b1e9c40cb48b7d81ba485e52a1d4c4bc3535d73', 'message': ""enable multiple keystone-all worker processes\n\nFixes bug 1157261.\n\nSince the majority of the work keystone does is cryptographic\ncalculations and filtering database records, keystone is CPU-bound.\nGiven that a keystone-all process has only one thread (i.e.,\neventlet's thread), keystone-all's throughput is limited to the\nthroughput of a single CPU core. To increase keystone-all's\nthroughput, we need to increase its CPU parallelism, which entails\nrunning more keystone-all processes.\n\nThis patch adds two configuration options, public_workers=N and\nadmin_workers=N, that determine the number of keystone-all processes\nthat handle requests for keystone's public and admin WSGI applications\nrespectively.\n\nNote that simply running keystone-all multiple times won't work\nbecause care has to be taken for all of the worker processes to be\nusing the same socket (i.e., listen() then fork()).\n\nChange-Id: If74f13bc2898e880649ee809967f5b5859b793c6\n""}, {'number': 2, 'created': '2013-08-27 13:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/13ab70fc6af989a0817146d1b8e486f0b7ff617f', 'message': ""enable multiple keystone-all worker processes\n\nFixes bug 1157261.\n\nSince the majority of the work keystone does is cryptographic\ncalculations and filtering database records, keystone is CPU-bound.\nGiven that a keystone-all process has only one thread (i.e.,\neventlet's thread), keystone-all's throughput is limited to the\nthroughput of a single CPU core. To increase keystone-all's\nthroughput, we need to increase its CPU parallelism, which entails\nrunning more keystone-all processes.\n\nThis patch adds two configuration options, public_workers=N and\nadmin_workers=N, that determine the number of keystone-all processes\nthat handle requests for keystone's public and admin WSGI applications\nrespectively.\n\nNote that simply running keystone-all multiple times won't work\nbecause care has to be taken for all of the worker processes to be\nusing the same socket (i.e., listen() then fork()).\n\nDocImpact\n\nChange-Id: If74f13bc2898e880649ee809967f5b5859b793c6\n""}, {'number': 3, 'created': '2013-09-05 01:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4e9fc4f5d0a2703d04a14d18e743d0210fcb6c7e', 'message': ""enable multiple keystone-all worker processes\n\nFixes bug 1157261.\n\nSince the majority of the work keystone does is cryptographic\ncalculations and filtering database records, keystone is CPU-bound.\nGiven that a keystone-all process has only one thread (i.e.,\neventlet's thread), keystone-all's throughput is limited to the\nthroughput of a single CPU core. To increase keystone-all's\nthroughput, we need to increase its CPU parallelism, which entails\nrunning more keystone-all processes.\n\nThis patch adds two configuration options, public_workers=N and\nadmin_workers=N, that determine the number of keystone-all processes\nthat handle requests for keystone's public and admin WSGI applications\nrespectively.\n\nNote that simply running keystone-all multiple times won't work\nbecause care has to be taken for all of the worker processes to be\nusing the same socket (i.e., listen() then fork()).\n\nDocImpact\n\nChange-Id: If74f13bc2898e880649ee809967f5b5859b793c6\n""}, {'number': 4, 'created': '2014-06-06 16:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/420ea574ebf68f2520f0fe82799bdbc74eef6bad', 'message': ""enable multiple keystone-all worker processes\n\nFixes bug 1157261.\n\nSince the majority of the work keystone does is cryptographic\ncalculations and filtering database records, keystone is CPU-bound.\nGiven that a keystone-all process has only one thread (i.e.,\neventlet's thread), keystone-all's throughput is limited to the\nthroughput of a single CPU core. To increase keystone-all's\nthroughput, we need to increase its CPU parallelism, which entails\nrunning more keystone-all processes.\n\nThis patch adds two configuration options, public_workers=N and\nadmin_workers=N, that determine the number of keystone-all processes\nthat handle requests for keystone's public and admin WSGI applications\nrespectively.\n\nNote that simply running keystone-all multiple times won't work\nbecause care has to be taken for all of the worker processes to be\nusing the same socket (i.e., listen() then fork()).\n\nDocImpact\n\nChange-Id: If74f13bc2898e880649ee809967f5b5859b793c6\n""}, {'number': 5, 'created': '2014-06-09 15:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e6467aa14e67b2c6ec9c71406127740eaabf929d', 'message': ""enable multiple keystone-all worker processes\n\nFixes bug 1157261.\n\nSince the majority of the work keystone does is cryptographic\ncalculations and filtering database records, keystone is CPU-bound.\nGiven that a keystone-all process has only one thread (i.e.,\neventlet's thread), keystone-all's throughput is limited to the\nthroughput of a single CPU core. To increase keystone-all's\nthroughput, we need to increase its CPU parallelism, which entails\nrunning more keystone-all processes.\n\nThis patch adds two configuration options, public_workers=N and\nadmin_workers=N, that determine the number of keystone-all processes\nthat handle requests for keystone's public and admin WSGI applications\nrespectively.\n\nNote that simply running keystone-all multiple times won't work\nbecause care has to be taken for all of the worker processes to be\nusing the same socket (i.e., listen() then fork()).\n\nDocImpact\n\nChange-Id: If74f13bc2898e880649ee809967f5b5859b793c6\nCo-Authored-By: Stuart McLaren <stuart.mclaren@hp.com>\n""}, {'number': 6, 'created': '2014-06-09 17:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/91845a3411b6e1ebaa6f20c6e8143484889d9db1', 'message': ""enable multiple keystone-all worker processes\n\nFixes bug 1157261.\n\nSince the majority of the work keystone does is cryptographic\ncalculations and filtering database records, keystone is CPU-bound.\nGiven that a keystone-all process has only one thread (i.e.,\neventlet's thread), keystone-all's throughput is limited to the\nthroughput of a single CPU core. To increase keystone-all's\nthroughput, we need to increase its CPU parallelism, which entails\nrunning more keystone-all processes.\n\nThis patch adds two configuration options, public_workers=N and\nadmin_workers=N, that determine the number of keystone-all processes\nthat handle requests for keystone's public and admin WSGI applications\nrespectively.\n\nNote that simply running keystone-all multiple times won't work\nbecause care has to be taken for all of the worker processes to be\nusing the same socket (i.e., listen() then fork()).\n\nDocImpact\n\nChange-Id: If74f13bc2898e880649ee809967f5b5859b793c6\nCo-Authored-By: Stuart McLaren <stuart.mclaren@hp.com>\n""}, {'number': 7, 'created': '2014-06-13 10:31:59.000000000', 'files': ['keystone/tests/core.py', 'keystone/common/config.py', 'bin/keystone-all', 'keystone/common/environment/eventlet_server.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/3580c2af1bd8a8c6574cf4cb7b63bd75b8effad7', 'message': ""enable multiple keystone-all worker processes\n\nFixes bug 1157261.\n\nSince the majority of the work keystone does is cryptographic\ncalculations and filtering database records, keystone is CPU-bound.\nGiven that a keystone-all process has only one thread (i.e.,\neventlet's thread), keystone-all's throughput is limited to the\nthroughput of a single CPU core. To increase keystone-all's\nthroughput, we need to increase its CPU parallelism, which entails\nrunning more keystone-all processes.\n\nThis patch adds two configuration options, public_workers=N and\nadmin_workers=N, that determine the number of keystone-all processes\nthat handle requests for keystone's public and admin WSGI applications\nrespectively.\n\nNote that simply running keystone-all multiple times won't work\nbecause care has to be taken for all of the worker processes to be\nusing the same socket (i.e., listen() then fork()).\n\nDocImpact\n\nChange-Id: If74f13bc2898e880649ee809967f5b5859b793c6\nCo-Authored-By: Stuart McLaren <stuart.mclaren@hp.com>\n""}]",44,42967,3580c2af1bd8a8c6574cf4cb7b63bd75b8effad7,66,13,7,7500,,,0,"enable multiple keystone-all worker processes

Fixes bug 1157261.

Since the majority of the work keystone does is cryptographic
calculations and filtering database records, keystone is CPU-bound.
Given that a keystone-all process has only one thread (i.e.,
eventlet's thread), keystone-all's throughput is limited to the
throughput of a single CPU core. To increase keystone-all's
throughput, we need to increase its CPU parallelism, which entails
running more keystone-all processes.

This patch adds two configuration options, public_workers=N and
admin_workers=N, that determine the number of keystone-all processes
that handle requests for keystone's public and admin WSGI applications
respectively.

Note that simply running keystone-all multiple times won't work
because care has to be taken for all of the worker processes to be
using the same socket (i.e., listen() then fork()).

DocImpact

Change-Id: If74f13bc2898e880649ee809967f5b5859b793c6
Co-Authored-By: Stuart McLaren <stuart.mclaren@hp.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/67/42967/7 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/config.py', 'bin/keystone-all', 'keystone/common/environment/eventlet_server.py']",3,6b1e9c40cb48b7d81ba485e52a1d4c4bc3535d73,bug/1157261," self.socket = None def listen(self, key=None, backlog=128): """"""Create and start listening on socket. Call before forking worker processes. """""" if self.socket is not None: raise Exception(_('Server can only listen once.')) self.socket = _socket def start(self, key=None, backlog=128): """"""Run a WSGI server with the given application."""""" if self.socket is None: self.listen(key, backlog) self.socket) def stop(self): self.kill() except greenlet.GreenletExit: pass"," def start(self, key=None, backlog=128): """"""Run a WSGI server with the given application."""""" _socket)",54,18
openstack%2Foslo.rootwrap~master~I1f41209b5992588a8430dd1456d28f88d61a7e86,openstack/oslo.rootwrap,master,I1f41209b5992588a8430dd1456d28f88d61a7e86,"Fix Python 3 support, add functional test",MERGED,2014-05-28 08:27:32.000000000,2014-06-15 22:55:13.000000000,2014-06-15 22:55:13.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 708}, {'_account_id': 2472}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-05-28 08:27:32.000000000', 'files': ['tests/test_functional.py', 'oslo/rootwrap/wrapper.py'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/106cbbaf22a43b608681e0cd077655bb05ed22ab', 'message': 'Fix Python 3 support, add functional test\n\nPython 3 issue was hidden in code not covered by unit tests so I added a\nfunctional test that covers most of the common code.\n\nChange-Id: I1f41209b5992588a8430dd1456d28f88d61a7e86\n'}]",0,96104,106cbbaf22a43b608681e0cd077655bb05ed22ab,29,5,1,708,,,0,"Fix Python 3 support, add functional test

Python 3 issue was hidden in code not covered by unit tests so I added a
functional test that covers most of the common code.

Change-Id: I1f41209b5992588a8430dd1456d28f88d61a7e86
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/04/96104/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_functional.py', 'oslo/rootwrap/wrapper.py']",2,106cbbaf22a43b608681e0cd077655bb05ed22ab,," filterdefinition = [s.strip() for s in value.split(',')]","import string filterdefinition = [string.strip(s) for s in value.split(',')]",77,2
openstack%2Fsahara~master~I4067667c19c8fd2e3eea72b2c1d64bba6016c19f,openstack/sahara,master,I4067667c19c8fd2e3eea72b2c1d64bba6016c19f,Fixed status update for job execution,MERGED,2014-06-12 22:52:04.000000000,2014-06-15 22:12:35.000000000,2014-06-15 22:12:34.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 7428}, {'_account_id': 7604}, {'_account_id': 8091}]","[{'number': 1, 'created': '2014-06-12 22:52:04.000000000', 'files': ['sahara/tests/unit/service/edp/test_job_manager.py', 'sahara/service/edp/job_manager.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/f092140d18a1c43ba096fed00cc1c622033f0fcf', 'message': 'Fixed status update for job execution\n\nFixed wrong status update for job execution introduced at\nhttps://review.openstack.org/#/c/97637/\n\nChange-Id: I4067667c19c8fd2e3eea72b2c1d64bba6016c19f\nCloses-Bug: #1306720\nCloses-Bug: #1317205\n'}]",0,99790,f092140d18a1c43ba096fed00cc1c622033f0fcf,18,7,1,8411,,,0,"Fixed status update for job execution

Fixed wrong status update for job execution introduced at
https://review.openstack.org/#/c/97637/

Change-Id: I4067667c19c8fd2e3eea72b2c1d64bba6016c19f
Closes-Bug: #1306720
Closes-Bug: #1317205
",git fetch https://review.opendev.org/openstack/sahara refs/changes/90/99790/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/tests/unit/service/edp/test_job_manager.py', 'sahara/service/edp/job_manager.py']",2,f092140d18a1c43ba096fed00cc1c622033f0fcf,," {'info': {'status': 'FAILED'},"," {'status': 'FAILED',",2,2
openstack%2Fsahara~master~I2f997a589407c45a60848297513da95f847bd66c,openstack/sahara,master,I2f997a589407c45a60848297513da95f847bd66c,Hided not found logger messages in unit tests,MERGED,2014-06-13 22:40:09.000000000,2014-06-15 22:01:08.000000000,2014-06-15 22:01:08.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 7428}, {'_account_id': 7710}, {'_account_id': 8411}]","[{'number': 1, 'created': '2014-06-13 22:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/89513b1618a2eed4858c764762aa69ed3f02c093', 'message': 'Hided log messages in unit tests\n\nHided log messages ""No handlers could be found for logger ..."" from\nunit tests output.\n\nChange-Id: I2f997a589407c45a60848297513da95f847bd66c\nCloses-Bug: #1264005\n'}, {'number': 2, 'created': '2014-06-13 22:41:13.000000000', 'files': ['sahara/tests/unit/test_context.py', 'sahara/tests/unit/base.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/89170bc2a922cb5f6005b8970770fdca31e38296', 'message': 'Hided not found logger messages in unit tests\n\nHided messages ""No handlers could be found for logger ..."" from\nunit tests output.\n\nChange-Id: I2f997a589407c45a60848297513da95f847bd66c\nCloses-Bug: #1264005'}]",0,100034,89170bc2a922cb5f6005b8970770fdca31e38296,22,7,2,8411,,,0,"Hided not found logger messages in unit tests

Hided messages ""No handlers could be found for logger ..."" from
unit tests output.

Change-Id: I2f997a589407c45a60848297513da95f847bd66c
Closes-Bug: #1264005",git fetch https://review.opendev.org/openstack/sahara refs/changes/34/100034/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/tests/unit/test_context.py', 'sahara/tests/unit/base.py']",2,89513b1618a2eed4858c764762aa69ed3f02c093,(detached,import fixtures self.useFixture(fixtures.FakeLogger('sahara')),,4,0
openstack%2Foslo.db~master~I7876d0c9e9614a688eb14d9da57bbdbf916a119a,openstack/oslo.db,master,I7876d0c9e9614a688eb14d9da57bbdbf916a119a,Fix Sphinx directive name,MERGED,2014-06-12 13:53:27.000000000,2014-06-15 21:49:10.000000000,2014-06-15 21:49:10.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 7491}, {'_account_id': 8041}, {'_account_id': 8871}, {'_account_id': 9562}]","[{'number': 1, 'created': '2014-06-12 13:53:27.000000000', 'files': ['oslo/db/sqlalchemy/session.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/d54c1fda4aca8da936ee6610d3de7763eaa8e1a0', 'message': 'Fix Sphinx directive name\n\nDuring the build of source code reference of Ceilometer Sphinx reported\nthe following error: Unknown directive type ""code"". The correct directive\nis \'.. code-block::\' instead of \'.. code::\'. This was fixed in the\nsession.py. The other occurences of this directive were correct.\n\nChange-Id: I7876d0c9e9614a688eb14d9da57bbdbf916a119a\n'}]",0,99667,d54c1fda4aca8da936ee6610d3de7763eaa8e1a0,25,6,1,9562,,,0,"Fix Sphinx directive name

During the build of source code reference of Ceilometer Sphinx reported
the following error: Unknown directive type ""code"". The correct directive
is '.. code-block::' instead of '.. code::'. This was fixed in the
session.py. The other occurences of this directive were correct.

Change-Id: I7876d0c9e9614a688eb14d9da57bbdbf916a119a
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/67/99667/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo/db/sqlalchemy/session.py'],1,d54c1fda4aca8da936ee6610d3de7763eaa8e1a0,sphinx-directive-fix, .. code-block:: python .. code-block:: python .. code-block:: python .. code-block:: sql .. code-block:: python .. code-block:: python .. code-block:: python .. code-block:: python .. code-block:: python .. code-block:: python .. code-block:: python, .. code:: python .. code:: python .. code:: python .. code:: sql .. code:: python .. code:: python .. code:: python .. code:: python .. code:: python .. code:: python .. code:: python,11,11
openstack%2Fceilometer~master~Ie189531e6425af3acfeae5636d8b93b102f319d1,openstack/ceilometer,master,Ie189531e6425af3acfeae5636d8b93b102f319d1,[HBase] get_resource optimization,MERGED,2014-04-14 11:49:24.000000000,2014-06-15 21:40:03.000000000,2014-06-15 21:40:02.000000000,"[{'_account_id': 3}, {'_account_id': 2284}, {'_account_id': 2813}, {'_account_id': 3012}, {'_account_id': 4491}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 7478}, {'_account_id': 7729}, {'_account_id': 8871}, {'_account_id': 9562}, {'_account_id': 10987}]","[{'number': 1, 'created': '2014-04-14 11:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/afc3c1bdcdbf50323deba5b1b89f9950ca7b6154', 'message': ""[HBase] get_resource optimization\n\nIn this change only Resource table is scanned during get_resources().\n\nIt becomes possible because of the following:\n1. Store all meters for each resource.\n2. QualifierFilter is used when timestamp filter is needed.\n3. To make metadata up-to date in case of unusual order (old comes earlier then new)\n   we use versioning. So during 'put' it's possible to set timestamp and the newest data will be\n   automatically 'on the top'\n\nTODOs:\n1. Make MTable support akll above\n\nImplements blueprint hbase-resource-rowkey-enhancement\n\nChange-Id: Ie189531e6425af3acfeae5636d8b93b102f319d1\n""}, {'number': 2, 'created': '2014-04-16 15:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/51ad7bf3159726a383f8e8da0837c94670eafb1e', 'message': ""[HBase] get_resource optimization\n\nIn this change only Resource table is scanned during get_resources().\n\nIt becomes possible because of the following:\n1. Store all meters for each resource.\n2. QualifierFilter is used when timestamp filter is needed.\n3. To make metadata up-to date in case of unusual order (old comes earlier then new)\n   we use versioning. So during 'put' it's possible to set timestamp and the newest data will be\n   automatically 'on the top'\n\nImplements blueprint hbase-resource-rowkey-enhancement\n\nChange-Id: Ie189531e6425af3acfeae5636d8b93b102f319d1\n""}, {'number': 3, 'created': '2014-04-17 09:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/eeeef0655496f057edacd027058992840d4b79bf', 'message': ""[HBase] get_resource optimization\n\nIn this change only Resource table is scanned during get_resources().\n\nIt becomes possible because of the following:\n1. Store all meters for each resource.\n2. QualifierFilter is used when timestamp filter is needed.\n3. To make metadata up-to date in case of unusual order (old comes earlier then new)\n   we use versioning. So during 'put' it's possible to set timestamp and the newest data will be\n   automatically 'on the top'\n\nImplements blueprint hbase-resource-rowkey-enhancement\n\nChange-Id: Ie189531e6425af3acfeae5636d8b93b102f319d1\n""}, {'number': 4, 'created': '2014-05-23 12:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/009cd2f110aadc0b6bfdaada3e6d33fa558d03da', 'message': ""[HBase] get_resource optimization\n\nIn this change only Resource table is scanned during get_resources().\n\nIt becomes possible because of the following:\n1. Store all meters for each resource.\n2. QualifierFilter is used when timestamp filter is needed.\n3. To make metadata up-to date in case of unusual order (old comes earlier then new)\n   we use versioning. So during 'put' it's possible to set timestamp and the newest data will be\n   automatically 'on the top'\n\nImplements blueprint hbase-resource-rowkey-enhancement\n\nChange-Id: Ie189531e6425af3acfeae5636d8b93b102f319d1\n""}, {'number': 5, 'created': '2014-06-04 12:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/578bf68cabc61c4c04b2482d85f4c0a640cba609', 'message': ""[HBase] get_resource optimization\n\nIn this change only Resource table is scanned during get_resources().\n\nIt becomes possible because of the following:\n1. Store all meters for each resource.\n2. QualifierFilter is used when timestamp filter is needed.\n3. To make metadata up-to date in case of unusual order (old comes earlier then new)\n   we use versioning. So during 'put' it's possible to set timestamp and the newest data will be\n   automatically 'on the top'\n\nImplements blueprint hbase-resource-rowkey-enhancement\n\nChange-Id: Ie189531e6425af3acfeae5636d8b93b102f319d1\n""}, {'number': 6, 'created': '2014-06-10 09:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/20a63779d6f6b495bee495bb9f7495d9d0c28bc3', 'message': ""[HBase] get_resource optimization\n\nIn this change only Resource table is scanned during get_resources().\n\nIt becomes possible because of the following:\n1. Store all meters for each resource.\n2. QualifierFilter is used when timestamp filter is needed.\n3. To make metadata up-to date in case of unusual order (old comes earlier then new)\n   we use versioning. So during 'put' it's possible to set timestamp and the newest data will be\n   automatically 'on the top'\n\nImplements blueprint hbase-resource-rowkey-enhancement\n\nChange-Id: Ie189531e6425af3acfeae5636d8b93b102f319d1\n""}, {'number': 7, 'created': '2014-06-10 16:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/79129c988d335bb873c0268c3df3dffa862c17d7', 'message': ""[HBase] get_resource optimization\n\nIn this change only Resource table is scanned during get_resources().\n\nIt becomes possible because of the following:\n1. Store all meters for each resource.\n2. QualifierFilter is used when timestamp filter is needed.\n3. To make metadata up-to date in case of unusual order\n   (old comes earlier then new) we use versioning. So during 'put'\n   it's possible to set timestamp and the newest data will be\n   automatically 'on the top'.\n\nImplements blueprint hbase-resource-rowkey-enhancement\n\nChange-Id: Ie189531e6425af3acfeae5636d8b93b102f319d1\n""}, {'number': 8, 'created': '2014-06-10 16:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e1520a82251a84c90085e612cf2964f3bb6e6798', 'message': ""[HBase] get_resource optimization\n\nIn this change only Resource table is scanned during get_resources().\n\nIt becomes possible because of the following:\n1. Store all meters for each resource.\n2. QualifierFilter is used when timestamp filter is needed.\n3. To make metadata up-to date in case of unusual order\n   (old comes earlier then new) we use versioning. So during 'put'\n   it's possible to set timestamp and the newest data will be\n   automatically 'on the top'.\n\nImplements blueprint hbase-resource-rowkey-enhancement\n\nChange-Id: Ie189531e6425af3acfeae5636d8b93b102f319d1\n""}, {'number': 9, 'created': '2014-06-10 17:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9f7968a3e532c467905b974cf8257ac1c3c77b99', 'message': ""[HBase] get_resource optimization\n\nIn this change only Resource table is scanned during get_resources().\n\nIt becomes possible because of the following:\n1. Store all meters for each resource.\n2. QualifierFilter is used when timestamp filter is needed.\n3. To make metadata up-to date in case of unusual order\n   (old comes earlier then new) we use versioning. So during 'put'\n   it's possible to set timestamp and the newest data will be\n   automatically 'on the top'.\n\nImplements blueprint hbase-resource-rowkey-enhancement\n\nChange-Id: Ie189531e6425af3acfeae5636d8b93b102f319d1\n""}, {'number': 10, 'created': '2014-06-11 13:06:52.000000000', 'files': ['ceilometer/storage/impl_hbase.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a0667fe0404f097658752259de577ea011582391', 'message': ""[HBase] get_resource optimization\n\nIn this change only Resource table is scanned during get_resources().\n\nIt becomes possible because of the following:\n1. Store all meters for each resource.\n2. QualifierFilter is used when timestamp filter is needed.\n3. To make metadata up-to date in case of unusual order (old comes earlier then new)\n   we use versioning. So during 'put' it's possible to set timestamp and the newest data will be\n   automatically 'on the top'\n\nImplements blueprint hbase-resource-rowkey-enhancement\n\nChange-Id: Ie189531e6425af3acfeae5636d8b93b102f319d1\n""}]",48,87249,a0667fe0404f097658752259de577ea011582391,102,12,10,7478,,,0,"[HBase] get_resource optimization

In this change only Resource table is scanned during get_resources().

It becomes possible because of the following:
1. Store all meters for each resource.
2. QualifierFilter is used when timestamp filter is needed.
3. To make metadata up-to date in case of unusual order (old comes earlier then new)
   we use versioning. So during 'put' it's possible to set timestamp and the newest data will be
   automatically 'on the top'

Implements blueprint hbase-resource-rowkey-enhancement

Change-Id: Ie189531e6425af3acfeae5636d8b93b102f319d1
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/49/87249/5 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/storage/impl_hbase.py'],1,afc3c1bdcdbf50323deba5b1b89f9950ca7b6154,bp/hbase-resource-rowkey-enhancement,"import time ""%s+%s+%s!%s!%s"" % (rts, source, counter_name, counter_type, counter_unit) rts = reverse_timestamp(data['timestamp']) data['counter_unit'], rts, data['source']) 'source': data['source'], 'meter': {new_meter: data['timestamp']}, # Here we put entry in HBase with our own timestamp. This is needed # when samples come in unusual order: old comes earlier then new. # If we use timestamp=data['timestamp'] the newest data will be # automatically 'on the top'. It is useful for metadata especially. resource_table.put(data['resource_id'], resource, int(time.mktime( data['timestamp'].timetuple()) * 1000)) q = make_query(metaquery=metaquery, user_id=user, project_id=project, resource_id=resource, source=source) start_rts, end_rts = get_start_end_rts(start_timestamp, start_timestamp_op, end_timestamp, end_timestamp_op) mq = [] # It means that we should take a look on all qualifiers with 'm_' # prefix in resource table, so query should be extended if start_rts: filter_value = start_rts + '+' + source if source else start_rts mq.append(""QualifierFilter (<=, 'binaryprefix:m_%s')"" % filter_value) if end_rts: filter_value = end_rts + '+' + source if source else end_rts mq.append(""QualifierFilter (>=, 'binaryprefix:m_%s')"" % filter_value) if mq: meter_q = "" AND "".join(mq) q = meter_q if not q else q + ' AND ' + meter_q with self.conn_pool.connection() as conn: resource_table = conn.table(self.RESOURCE_TABLE) LOG.debug(_(""Query Resource table: %s"") % q) gen = resource_table.scan(filter=q) for resource_id, data in gen: f_res, sources, meters, md = deserialize_entry(data) if not meters: continue else: # Unfortunately happybase doesn't keep ordered result from # HBase. So that's why it's needed to find min and max # manually first_ts = min(meters, key=lambda t: t[1])[1] last_ts = max(meters, key=lambda t: t[1])[1] source = meters[0][0].split('+')[1] if 'project_id' not in f_res and 'user_id' not in f_res: row = resource_table.row( resource_id, columns=['f:project_id', 'f:user_id', 'f:resource_metadata']) f_res, _s, _m, md = deserialize_entry(row) first_sample_timestamp=first_ts, last_sample_timestamp=last_ts, project_id=f_res['project_id'], source=source, user_id=f_res['user_id'], metadata=md) m_rts, m_source, m_raw = m[0].split(""+"") name, type, unit = m_raw.split('!')def _format_meter_reference(c_name, c_type, c_unit, rts, source): return ""%s+%s+%s!%s!%s"" % (rts, source, c_name, c_type, c_unit) elif k.startswith(""f:m_""): meter = (k[4:], load(v)) meters.append(meter) elif k == 'meter': for meter, ts in v.items(): result['f:m_%s' % meter] = dump(ts)","import itertoolsfrom ceilometer import storage ""%s!%s!%s+%s"" % (counter_name, counter_type, counter_unit, source) data['counter_unit'], data['source']) 'source': data['source'], 'meter': new_meter, resource_table.put(data['resource_id'], resource) rts = reverse_timestamp(data['timestamp']) sample_filter = storage.SampleFilter( user=user, project=project, start=start_timestamp, start_timestamp_op=start_timestamp_op, end=end_timestamp, end_timestamp_op=end_timestamp_op, resource=resource, source=source, metaquery=metaquery) q, start_row, stop_row = make_sample_query_from_filter( sample_filter, require_meter=False) with self.conn_pool.connection() as conn: meter_table = conn.table(self.METER_TABLE) LOG.debug(_(""Query Meter table: %s"") % q) meters = meter_table.scan(filter=q, row_start=start_row, row_stop=stop_row) d_meters = [] for i, m in meters: d_meters.append(deserialize_entry(m)) # We have to sort on resource_id before we can group by it. # According to the itertools documentation a new group is # generated when the value of the key function changes # (it breaks there). meters = sorted(d_meters, key=_resource_id_from_record_tuple) for resource_id, r_meters in itertools.groupby( meters, key=_resource_id_from_record_tuple): # We need deserialized entry(data[0]), sources (data[1]) and # metadata(data[3]) meter_rows = [(data[0], data[1], data[3]) for data in sorted( r_meters, key=_timestamp_from_record_tuple)] latest_data = meter_rows[-1] min_ts = meter_rows[0][0]['timestamp'] max_ts = latest_data[0]['timestamp'] first_sample_timestamp=min_ts, last_sample_timestamp=max_ts, project_id=latest_data[0]['project_id'], source=latest_data[1][0], user_id=latest_data[0]['user_id'], metadata=latest_data[2], ) meter_raw, m_source = m.split(""+"") name, type, unit = meter_raw.split('!')def _format_meter_reference(counter_name, counter_type, counter_unit, source): return ""%s!%s!%s+%s"" % (counter_name, counter_type, counter_unit, source) elif k.startswith('f:m_'): meters.append(k[4:]) elif k == 'meter': result['f:m_%s' % v] = dump('1')",72,53
openstack%2Fkeystone-specs~master~Id666d33ec9a6c60066117956c03a0fcf2b1dc1ba,openstack/keystone-specs,master,Id666d33ec9a6c60066117956c03a0fcf2b1dc1ba,Audit support for federation spec,MERGED,2014-06-03 18:06:13.000000000,2014-06-15 21:37:49.000000000,2014-06-15 21:37:49.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 792}, {'_account_id': 1916}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 5707}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 7725}, {'_account_id': 8119}, {'_account_id': 8978}]","[{'number': 1, 'created': '2014-06-03 18:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/ee2ba8d122b80c79a256e680569ed177fcc183f8', 'message': 'Spec for audit support for federation\n\nThis spec provides CADF based audit support for federation\noperations\n\nbp audit-support-for-federation\n\nChange-Id: Id666d33ec9a6c60066117956c03a0fcf2b1dc1ba\n'}, {'number': 2, 'created': '2014-06-12 16:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/80fe9b33577d2b3e4f7df36dcb41adb7652207b2', 'message': 'Audit support for federation spec\n\nThis spec provides CADF based audit support for federation\noperations.\n\nbp audit-support-for-federation\n\nChange-Id: Id666d33ec9a6c60066117956c03a0fcf2b1dc1ba\n'}, {'number': 3, 'created': '2014-06-12 20:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/4e81cb62c12110b1e5ada9e48814ef398bd3a64f', 'message': 'Audit support for federation spec\n\nThis spec provides CADF based audit support for federation\noperations.\n\nbp audit-support-for-federation\n\nCo-Authored-By: Steve Martinelli <stevemar@ca.ibm.com>\nChange-Id: Id666d33ec9a6c60066117956c03a0fcf2b1dc1ba\n'}, {'number': 4, 'created': '2014-06-15 04:30:52.000000000', 'files': ['specs/juno/audit-support-for-federation.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/f077d1548645ecb00891d060fe9454ac61fea17e', 'message': 'Audit support for federation spec\n\nThis spec provides CADF based audit support for federation\noperations.\n\nbp audit-support-for-federation\n\nCo-Authored-By: Steve Martinelli <stevemar@ca.ibm.com>\nChange-Id: Id666d33ec9a6c60066117956c03a0fcf2b1dc1ba\n'}]",34,97581,f077d1548645ecb00891d060fe9454ac61fea17e,34,14,4,6460,,,0,"Audit support for federation spec

This spec provides CADF based audit support for federation
operations.

bp audit-support-for-federation

Co-Authored-By: Steve Martinelli <stevemar@ca.ibm.com>
Change-Id: Id666d33ec9a6c60066117956c03a0fcf2b1dc1ba
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/81/97581/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/audit-support-for-federation.rst'],1,ee2ba8d122b80c79a256e680569ed177fcc183f8,bp/audit-support-for-federation,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Audit Support for Keystone Federation ========================================== `bp example audit-support-for-federation <https://blueprints.launchpad.net/keystone/+spec/ audit-support-for-federation>`_ Keystone is expanding its support for federated identity to enable it to more seamlessly integrate into enterprise environments and to leverage existing identity providers. The extra complexity associated with authentication and authorization in federated keystone deployments demands suitable audit support to ensure the OpenStack enviroment is used in a compliant fashion. In this blueprint we describe proposed auditing support for Keystone federated identity operations using the `DMTF Cloud Auditing Data Federation (CADF) Open Standard <http://docs.openstack.org/developer/pycadf/>`_ Problem Description =================== For Keystone, we need to define and implement support for new CADF audit event records that capture the authentication and authorization behavior associated with the mapping of federated attributes to group-based role assignments. We also need to capture for auditing the user identity information that is derived from external identity providers. This is crucial because in the federated identity model for Keystone users information is ephemeral and no longer stored inside Keystone directly Proposed Change =============== Proposed change is to add new CADF based audit event notifications for operations associated with federated identity. Alternatives ------------ NONE Data Model Impact ----------------- NONE REST API Impact --------------- NONE Security Impact --------------- Auditing records need to be designed so that they do not accidentally publish sensitive data such as token information Notifications Impact -------------------- Extra CADF ntoifications will need to be created Other End User Impact --------------------- NONE Performance Impact ------------------ Performance should be marginally impacted if the CADF event notification for federation support is enabled Other Deployer Impact --------------------- NONE Developer Impact ---------------- NONE Implementation ============== Assignee(s) ----------- Primary assignee: btopol Other contributors: stevemar chungg mrutkows Work Items ---------- Define new audit event formats. Implement notifications for the new events. Create unit tests for the new events. Dependencies ============ NONE Testing ======= Unit tests will be added for the new events. Documentation Impact ==================== New audit events that have been added should be documented. References ========== `DMTF Cloud Auditing Data Federation (CADF) Open Standard <http://docs.openstack.org/developer/pycadf/>`_ ",,119,0
openstack%2Fosprofiler~master~I0c52c7975a5893b33df0b0dd685bfb7b26f3091a,openstack/osprofiler,master,I0c52c7975a5893b33df0b0dd685bfb7b26f3091a,Imporve ceilometer parser,MERGED,2014-06-15 20:57:40.000000000,2014-06-15 21:01:05.000000000,2014-06-15 21:01:05.000000000,"[{'_account_id': 3}, {'_account_id': 6172}]","[{'number': 1, 'created': '2014-06-15 20:57:40.000000000', 'files': ['osprofiler/parsers/ceilometer.py', 'tests/parsers/test_ceilometer.py'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/b90de80316d0fe18fcbe63e0b57692ae5a1ce483', 'message': 'Imporve ceilometer parser\n\n*) Change a bit ceilometer plugin and oslo.messaging notification base\nso now there is no magic to get service and project name.\n\n*) Add method that can get notification from ceilometer if\nceilometer client and base id are passed\n\nChange-Id: I0c52c7975a5893b33df0b0dd685bfb7b26f3091a\n'}]",0,100112,b90de80316d0fe18fcbe63e0b57692ae5a1ce483,7,2,1,6172,,,0,"Imporve ceilometer parser

*) Change a bit ceilometer plugin and oslo.messaging notification base
so now there is no magic to get service and project name.

*) Add method that can get notification from ceilometer if
ceilometer client and base id are passed

Change-Id: I0c52c7975a5893b33df0b0dd685bfb7b26f3091a
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/12/100112/1 && git format-patch -1 --stdout FETCH_HEAD,"['osprofiler/parsers/ceilometer.py', 'tests/parsers/test_ceilometer.py']",2,b90de80316d0fe18fcbe63e0b57692ae5a1ce483,,"import mock ""host"": ""0.0.0.0"", ""service"": ""osapi_compute"", ""project"": ""nova"", ""resource_id"": ""profiler-f5587500-07d1-41a0-b434-525d3c28ac49"", ""user_id"": None, ""host"": ""0.0.0.0"", ""service"": ""osapi_compute"", ""project"": ""nova"", ""resource_id"": ""profiler-f5587500-07d1-41a0-b434-525d3c28ac49"", ""user_id"": None, ""host"": ""0.0.0.0"", ""service"": ""osapi_compute"", ""project"": ""nova"", ""name"": ""db-start"", ""meter"": ""db-start"", ""resource_id"": ""profiler-f5587500-07d1-41a0-b434-525d3c28ac49"", ""user_id"": None, ""host"": ""ubuntu"", ""service"": ""nova-conductor"", ""project"": ""nova"", ""name"": ""db-stop"", ""meter"": ""db-stop"", ""resource_id"": ""profiler-f5587500-07d1-41a0-b434-525d3c28ac49"", ""user_id"": None, ""host"": ""0.0.0.0"", ""service"": ""osapi_compute"", ""project"": ""nova"", ""host"": ""0.0.0.0"", ""service"": ""osapi_compute"", ""project"": ""nova"", ""name"": ""db"", ""host"": ""ubuntu"", ""name"": ""db"", ""service"": ""nova-conductor"", ""project"": ""nova"", def test_get_notifications(self): mock_ceil_client = mock.MagicMock() mock_ceil_client.query_samples.query.return_value = ""result"" base_id = ""10"" result = ceilometer.get_notifications(mock_ceil_client, base_id) expected_filter = '{""="": {""resource_id"": ""profiler-%s""}}' % base_id mock_ceil_client.query_samples.query.assert_called_once_with( expected_filter, None, None) self.assertEqual(result, ""result"")"," ""host"": ""osapi_compute.0.0.0.0"", ""resource_id"": ""profiler"", ""user_id"": ""f5587500-07d1-41a0-b434-525d3c28ac49"", ""host"": ""osapi_compute.0.0.0.0"", ""resource_id"": ""profiler"", ""user_id"": ""f5587500-07d1-41a0-b434-525d3c28ac49"", ""host"": ""osapi_compute.0.0.0.0"", ""name"": ""nova.db-start"", ""meter"": ""nova.db-start"", ""resource_id"": ""profiler"", ""user_id"": ""f5587500-07d1-41a0-b434-525d3c28ac49"", ""host"": ""nova-conductor.ubuntu"", ""name"": ""nova.db-stop"", ""meter"": ""nova.db-stop"", ""resource_id"": ""profiler"", ""user_id"": ""f5587500-07d1-41a0-b434-525d3c28ac49"", ""host"": ""osapi_compute.0.0.0.0"", ""service"": ""nova"", ""host"": ""osapi_compute.0.0.0.0"", ""name"": ""nova.db"", ""service"": ""nova"", ""host"": ""nova-conductor.ubuntu"", ""name"": ""nova.db"", ""service"": ""generic"",",61,28
openstack%2Fsahara~master~Ica0c8d6972c4128f92505b9988a523cf244ee4a6,openstack/sahara,master,Ica0c8d6972c4128f92505b9988a523cf244ee4a6,Updated from global requirements,MERGED,2014-06-15 16:40:41.000000000,2014-06-15 20:04:14.000000000,2014-06-15 18:32:20.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}]","[{'number': 1, 'created': '2014-06-15 16:40:41.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara/commit/a0ebcac82dbbe87f20bce754a9845abeb5c06c0c', 'message': 'Updated from global requirements\n\nI6ec51fa400a037cad06e4714dbe59a8627048635 is incorrect due to the\nhacking version update that needs new checks manual disable.\n\nChange-Id: Ica0c8d6972c4128f92505b9988a523cf244ee4a6\n'}]",0,100099,a0ebcac82dbbe87f20bce754a9845abeb5c06c0c,9,3,1,6786,,,0,"Updated from global requirements

I6ec51fa400a037cad06e4714dbe59a8627048635 is incorrect due to the
hacking version update that needs new checks manual disable.

Change-Id: Ica0c8d6972c4128f92505b9988a523cf244ee4a6
",git fetch https://review.opendev.org/openstack/sahara refs/changes/99/100099/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,a0ebcac82dbbe87f20bce754a9845abeb5c06c0c,,"sphinx>=1.1.2,!=1.2.0,<1.3","sphinx>=1.2.1,<1.3",1,1
openstack%2Fsahara-image-elements~master~Idd9422cbcde846fd621a8c674273ee9d2d9b7df9,openstack/sahara-image-elements,master,Idd9422cbcde846fd621a8c674273ee9d2d9b7df9,Updated from global requirements,MERGED,2014-06-10 14:40:18.000000000,2014-06-15 19:56:20.000000000,2014-06-15 16:42:52.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}]","[{'number': 1, 'created': '2014-06-10 14:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/c09fa50f7397d1703be2e82347f3092548c2f448', 'message': 'Updated from global requirements\n\nChange-Id: Idd9422cbcde846fd621a8c674273ee9d2d9b7df9\n'}, {'number': 2, 'created': '2014-06-11 01:38:07.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/b8153690c18ee39d7ecaf862669b2dfa29e81034', 'message': 'Updated from global requirements\n\nChange-Id: Idd9422cbcde846fd621a8c674273ee9d2d9b7df9\n'}]",0,99099,b8153690c18ee39d7ecaf862669b2dfa29e81034,20,3,2,11131,,,0,"Updated from global requirements

Change-Id: Idd9422cbcde846fd621a8c674273ee9d2d9b7df9
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/99/99099/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c09fa50f7397d1703be2e82347f3092548c2f448,openstack/requirements,"hacking>=0.8.0,<0.10,!=0.9.0","hacking>=0.8.0,<0.9",1,1
openstack%2Frequirements~master~I11f60bf7d38def0ba7686c89890e262c155c703c,openstack/requirements,master,I11f60bf7d38def0ba7686c89890e262c155c703c,Updated version requirement for pyghmi,MERGED,2014-06-03 14:03:20.000000000,2014-06-15 19:42:54.000000000,2014-06-15 19:42:54.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4190}, {'_account_id': 6786}, {'_account_id': 7589}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-06-03 14:03:20.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a7e8fa9962b8d4e7851bab5b240d4dbb7b79a977', 'message': 'Updated version requirement for pyghmi\n\nThis patch updated the pyghmi version from 0.5.8 to 0.6.11.\npyghmi is required by ironic. The newer version of pyghmi\nhas serial console support as well as some bug fixes that\nare required by ironic.\n\nChange-Id: I11f60bf7d38def0ba7686c89890e262c155c703c\n'}]",0,97508,a7e8fa9962b8d4e7851bab5b240d4dbb7b79a977,18,6,1,7589,,,0,"Updated version requirement for pyghmi

This patch updated the pyghmi version from 0.5.8 to 0.6.11.
pyghmi is required by ironic. The newer version of pyghmi
has serial console support as well as some bug fixes that
are required by ironic.

Change-Id: I11f60bf7d38def0ba7686c89890e262c155c703c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/08/97508/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,a7e8fa9962b8d4e7851bab5b240d4dbb7b79a977,pyghmi-update,pyghmi>=0.6.11,pyghmi>=0.5.8,1,1
openstack%2Fdevstack~master~I0519e30469c5cfbf285b2ad1032d110f8e9fdbb4,openstack/devstack,master,I0519e30469c5cfbf285b2ad1032d110f8e9fdbb4,VMware NSX: fix typo,MERGED,2014-06-11 11:18:13.000000000,2014-06-15 18:50:54.000000000,2014-06-15 18:50:54.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5892}, {'_account_id': 7369}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9009}, {'_account_id': 10385}, {'_account_id': 11800}]","[{'number': 1, 'created': '2014-06-11 11:18:13.000000000', 'files': ['lib/neutron_plugins/vmware_nsx'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b405256309aef08634d07870176dbd6f90637c1b', 'message': 'VMware NSX: fix typo\n\nFix typo in the Neutron VMware NSX driver\n\nChange-Id: I0519e30469c5cfbf285b2ad1032d110f8e9fdbb4\n'}]",0,99336,b405256309aef08634d07870176dbd6f90637c1b,31,11,1,1653,,,0,"VMware NSX: fix typo

Fix typo in the Neutron VMware NSX driver

Change-Id: I0519e30469c5cfbf285b2ad1032d110f8e9fdbb4
",git fetch https://review.opendev.org/openstack/devstack refs/changes/36/99336/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/vmware_nsx'],1,b405256309aef08634d07870176dbd6f90637c1b,master," die $LINENO ""q-l3 should not be executed with VMware NSX plugin!"""," die $LINENO ""q-l3 should must not be executed with VMware NSX plugin!""",1,1
openstack%2Fsahara~master~I303c013fc0fa85f1826aa60106846a3b7b214be3,openstack/sahara,master,I303c013fc0fa85f1826aa60106846a3b7b214be3,Fixed /etc/hosts update for external hdfs,MERGED,2014-06-11 22:15:24.000000000,2014-06-15 18:21:51.000000000,2014-06-15 18:21:51.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 8091}, {'_account_id': 8411}]","[{'number': 1, 'created': '2014-06-11 22:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/394f7457e664940f0b5e3bf671a4f8b1e8245bf9', 'message': 'Fixed /etc/hosts update for external hdfs\n\nBefore the change /etc/hosts were growing infinitely\n\nChange-Id: I303c013fc0fa85f1826aa60106846a3b7b214be3\nCloses-Bug: #1326114\n'}, {'number': 2, 'created': '2014-06-13 18:32:57.000000000', 'files': ['sahara/service/edp/hdfs_helper.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/33d6af13c857b299f6e67f99dd92f2bca0afe227', 'message': 'Fixed /etc/hosts update for external hdfs\n\nBefore the change /etc/hosts were growing infinitely\n\nChange-Id: I303c013fc0fa85f1826aa60106846a3b7b214be3\nCloses-Bug: #1326114\n'}]",3,99492,33d6af13c857b299f6e67f99dd92f2bca0afe227,24,5,2,8411,,,0,"Fixed /etc/hosts update for external hdfs

Before the change /etc/hosts were growing infinitely

Change-Id: I303c013fc0fa85f1826aa60106846a3b7b214be3
Closes-Bug: #1326114
",git fetch https://review.opendev.org/openstack/sahara refs/changes/92/99492/2 && git format-patch -1 --stdout FETCH_HEAD,['sahara/service/edp/hdfs_helper.py'],1,394f7457e664940f0b5e3bf671a4f8b1e8245bf9,(detached," update_etc_hosts_cmd = ( 'cat /tmp/etc-hosts-update /etc/hosts | ' 'sort | uniq > /tmp/etc-hosts && ' 'cat /tmp/etc-hosts > /etc/hosts && ' 'rm /tmp/etc-hosts /tmp/etc-hosts-update') r.execute_command(update_etc_hosts_cmd, run_as_root=True)"," create_etc_host = 'sudo ""cat /tmp/etc-hosts-update ' create_etc_host += '/etc/hosts > /tmp/etc-hosts""' copy_etc_host = 'sudo ""cat /tmp/etc-hosts > /etc/hosts""' r.execute_command(create_etc_host) r.execute_command(copy_etc_host)",6,5
openstack%2Fsahara~master~If9aef3be0cc88133d6e20c9e3ffb1ef75e16443c,openstack/sahara,master,If9aef3be0cc88133d6e20c9e3ffb1ef75e16443c,Fixed remote call in external HDFS configuration method,MERGED,2014-06-11 22:15:24.000000000,2014-06-15 18:21:44.000000000,2014-06-15 18:21:44.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 8091}, {'_account_id': 8411}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-06-11 22:15:24.000000000', 'files': ['sahara/service/edp/hdfs_helper.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/8b732228dc9dba2fee10ddc64a2de88a82440c5f', 'message': 'Fixed remote call in external HDFS configuration method\n\nBefore the change code was failing with exception. Probably\nparentheses were not added during remote engine refactoring for\nheat engine preparation.\n\nBlueprint to create integration test: it-external-hdfs\n\nChange-Id: If9aef3be0cc88133d6e20c9e3ffb1ef75e16443c\nCloses-Bug: #1329079\n'}]",0,99491,8b732228dc9dba2fee10ddc64a2de88a82440c5f,24,6,1,8411,,,0,"Fixed remote call in external HDFS configuration method

Before the change code was failing with exception. Probably
parentheses were not added during remote engine refactoring for
heat engine preparation.

Blueprint to create integration test: it-external-hdfs

Change-Id: If9aef3be0cc88133d6e20c9e3ffb1ef75e16443c
Closes-Bug: #1329079
",git fetch https://review.opendev.org/openstack/sahara refs/changes/91/99491/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara/service/edp/hdfs_helper.py'],1,8b732228dc9dba2fee10ddc64a2de88a82440c5f,(detached, with inst.remote() as r:, with inst.remote as r:,1,1
openstack%2Fsahara~master~I85f0ea1aa972ff68ddd1817ec936a8c26312f041,openstack/sahara,master,I85f0ea1aa972ff68ddd1817ec936a8c26312f041,Migrated unit tests to testtools,MERGED,2014-05-30 23:46:10.000000000,2014-06-15 18:12:40.000000000,2014-06-15 18:12:40.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 7604}, {'_account_id': 7710}, {'_account_id': 8091}, {'_account_id': 8411}, {'_account_id': 8871}, {'_account_id': 10670}]","[{'number': 1, 'created': '2014-05-30 23:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/c95ad8733f5cfa9efa0be5aa438e92da4c70655e', 'message': ""Migrated unit tests to testtools\n\nMain changes:\n* testtools checks that base setUp is called\n* assertRaises doesn't return context\n\nNotes:\n* Integration tests will be tracked separately (bp: it-testtools)\n* Migration to oslotest will be tracked separately (bp: oslotest)\n* bug #1325108 is out of scope of this CR\n\nImplements blueprint: ut-testtools\n\nChange-Id: I85f0ea1aa972ff68ddd1817ec936a8c26312f041\n""}, {'number': 2, 'created': '2014-05-31 06:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/a92503ab06f224dee95f1f37ebe48e4527e53c9b', 'message': ""Migrated unit tests to testtools\n\nMain changes:\n* testtools checks that base setUp is called\n* assertRaises doesn't return context\n* testtools inherits from unittest (not unittest2) and doesn't have\n  specific compare functions in py2.6\n\nNotes:\n* Integration tests will be tracked separately (bp: it-testtools)\n* Migration to oslotest will be tracked separately (bp: oslotest)\n* bug #1325108 is out of scope of this CR\n\nImplements blueprint: ut-testtools\n\nChange-Id: I85f0ea1aa972ff68ddd1817ec936a8c26312f041\n""}, {'number': 3, 'created': '2014-06-03 16:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/6915bc47f7ce8c9bbf7dc804d006104c69a6c3b4', 'message': ""Migrated unit tests to testtools\n\nMain changes:\n* testtools checks that base setUp is called\n* assertRaises doesn't return context\n* testtools inherits from unittest (not unittest2) and doesn't have\n  specific compare functions in py2.6\n\nNotes:\n* Integration tests will be tracked separately (bp: it-testtools)\n* Migration to oslotest will be tracked separately (bp: oslotest)\n* bug #1325108 is out of scope of this CR\n\nImplements blueprint: ut-testtools\nCloses-Bug: #1179009\n\nChange-Id: I85f0ea1aa972ff68ddd1817ec936a8c26312f041\n""}, {'number': 4, 'created': '2014-06-06 17:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/fd6161bdbb81a34ae80f4529bfeaa28134fd039a', 'message': ""Migrated unit tests to testtools\n\nMain changes:\n* testtools checks that base setUp is called\n* assertRaises doesn't return context\n* testtools inherits from unittest (not unittest2) and doesn't have\n  specific compare functions in py2.6\n\nNotes:\n* Integration tests will be tracked separately (bp: it-testtools)\n* Migration to oslotest will be tracked separately (bp: oslotest)\n* bug #1325108 is out of scope of this CR\n\nImplements blueprint: ut-testtools\nCloses-Bug: #1179009\n\nChange-Id: I85f0ea1aa972ff68ddd1817ec936a8c26312f041\n""}, {'number': 5, 'created': '2014-06-10 19:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/d7258e049fdd57ca05a123aa3aa6a9be1930e9b9', 'message': ""Migrated unit tests to testtools\n\nMain changes:\n* testtools checks that base setUp is called\n* assertRaises doesn't return context\n* testtools inherits from unittest (not unittest2) and doesn't have\n  specific compare functions in py2.6\n\nNotes:\n* Integration tests will be tracked separately (bp: it-testtools)\n* Migration to oslotest will be tracked separately (bp: oslotest)\n* bug #1325108 is out of scope of this CR\n\nImplements blueprint: ut-testtools\nCloses-Bug: #1179009\n\nChange-Id: I85f0ea1aa972ff68ddd1817ec936a8c26312f041\n""}, {'number': 6, 'created': '2014-06-13 22:40:09.000000000', 'files': ['sahara/tests/unit/utils/test_edp.py', 'sahara/tests/unit/utils/test_types.py', 'sahara/tests/unit/swift/test_utils.py', 'sahara/tests/unit/plugins/hdp/test_ambariplugin.py', 'sahara/tests/unit/utils/test_heat.py', 'sahara/tests/unit/utils/test_hashabledict.py', 'sahara/tests/unit/db/migration/test_migrations_base.py', 'sahara/tests/unit/service/validation/test_cluster_scaling_validation.py', 'sahara/tests/unit/plugins/hdp/test_clusterspec_hdp2.py', 'sahara/tests/unit/plugins/vanilla/v1_2_1/test_plugin.py', 'sahara/tests/unit/service/validation/test_ng_template_validation_create.py', 'sahara/tests/unit/plugins/hdp/test_services.py', 'sahara/tests/unit/conductor/manager/test_templates.py', 'sahara/tests/unit/service/validation/edp/test_job_executor_java.py', 'sahara/tests/unit/service/validation/utils.py', 'sahara/tests/unit/plugins/hdp/test_versionmanagerfactory.py', 'sahara/tests/unit/utils/test_xml_utils.py', 'sahara/tests/unit/service/edp/workflow_creator/test_create_workflow.py', 'sahara/tests/unit/utils/test_ssh_remote.py', 'sahara/tests/unit/service/validation/edp/test_data_source.py', 'sahara/tests/unit/plugins/test_provisioning.py', 'sahara/tests/unit/utils/test_patches.py', 'sahara/tests/unit/plugins/vanilla/v2_3_0/test_utils.py', 'sahara/tests/unit/utils/test_crypto.py', 'sahara/tests/unit/service/validation/test_cluster_template_create_validation.py', 'sahara/tests/unit/plugins/vanilla/v2_3_0/test_configs.py', 'sahara/tests/unit/service/validation/test_add_tags_validation.py', 'sahara/tests/unit/conductor/manager/test_clusters.py', 'sahara/tests/unit/utils/test_api_validator.py', 'sahara/tests/unit/plugins/hdp/test_clusterspec.py', 'sahara/tests/unit/base.py', 'sahara/tests/unit/conductor/base.py', 'sahara/tests/unit/plugins/test_base_plugins_support.py', 'sahara/tests/unit/plugins/general/test_utils.py', 'sahara/tests/unit/plugins/vanilla/v1_2_1/test_run_scripts.py', 'sahara/tests/unit/service/test_instances.py', 'sahara/tests/unit/service/validation/test_cluster_create_validation.py', 'sahara/tests/unit/plugins/vanilla/v2_3_0/test_validation.py', 'sahara/tests/unit/conductor/manager/test_edp.py', 'sahara/tests/unit/db/migration/test_db_manage_cli.py', 'sahara/tests/unit/plugins/vanilla/v1_2_1/test_dfsadmin_parsing.py', 'sahara/tests/unit/test_context.py', 'sahara/tests/unit/service/validation/edp/test_job.py', 'sahara/tests/unit/db/sqlalchemy/test_types.py', 'sahara/tests/unit/service/edp/test_job_possible_configs.py', 'sahara/tests/unit/topology/test_topology.py', 'sahara/tests/unit/service/validation/edp/test_job_executor.py', 'sahara/tests/unit/utils/test_neutron.py', 'sahara/tests/unit/utils/test_general.py', 'sahara/tests/unit/service/validation/edp/test_job_binary.py', 'sahara/tests/unit/conductor/test_resource.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/95e1c2f00bda95ed49f13879a83ca4fcbf054a1a', 'message': ""Migrated unit tests to testtools\n\nMain changes:\n* testtools checks that base setUp is called\n* assertRaises doesn't return context\n* testtools inherits from unittest (not unittest2) and doesn't have\n  specific compare functions in py2.6\n\nNotes:\n* Integration tests will be tracked separately (bp: it-testtools)\n* Migration to oslotest will be tracked separately (bp: oslotest)\n* bug #1325108 is out of scope of this CR\n\nImplements blueprint: ut-testtools\nCloses-Bug: #1179009\n\nChange-Id: I85f0ea1aa972ff68ddd1817ec936a8c26312f041\n""}]",4,96979,95e1c2f00bda95ed49f13879a83ca4fcbf054a1a,76,10,6,8411,,,0,"Migrated unit tests to testtools

Main changes:
* testtools checks that base setUp is called
* assertRaises doesn't return context
* testtools inherits from unittest (not unittest2) and doesn't have
  specific compare functions in py2.6

Notes:
* Integration tests will be tracked separately (bp: it-testtools)
* Migration to oslotest will be tracked separately (bp: oslotest)
* bug #1325108 is out of scope of this CR

Implements blueprint: ut-testtools
Closes-Bug: #1179009

Change-Id: I85f0ea1aa972ff68ddd1817ec936a8c26312f041
",git fetch https://review.opendev.org/openstack/sahara refs/changes/79/96979/3 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/tests/unit/utils/test_direct_engine.py', 'sahara/tests/unit/utils/test_edp.py', 'sahara/tests/unit/utils/test_types.py', 'sahara/tests/unit/plugins/hdp/test_ambariplugin.py', 'sahara/tests/unit/utils/test_heat.py', 'sahara/tests/unit/utils/test_hashabledict.py', 'sahara/tests/unit/db/migration/test_migrations_base.py', 'sahara/tests/unit/service/validation/test_cluster_scaling_validation.py', 'sahara/tests/unit/plugins/hdp/test_clusterspec_hdp2.py', 'sahara/tests/unit/plugins/vanilla/v1_2_1/test_plugin.py', 'sahara/tests/unit/service/validation/test_ng_template_validation_create.py', 'sahara/tests/unit/plugins/hdp/test_services.py', 'sahara/tests/unit/conductor/manager/test_templates.py', 'sahara/tests/unit/service/validation/edp/test_job_executor_java.py', 'sahara/tests/unit/service/validation/utils.py', 'sahara/tests/unit/plugins/hdp/test_versionmanagerfactory.py', 'sahara/tests/unit/utils/test_xml_utils.py', 'sahara/tests/unit/service/edp/workflow_creator/test_create_workflow.py', 'sahara/tests/unit/utils/test_ssh_remote.py', 'sahara/tests/unit/service/validation/edp/test_data_source.py', 'sahara/tests/unit/plugins/test_provisioning.py', 'sahara/tests/unit/utils/test_patches.py', 'sahara/tests/unit/utils/test_crypto.py', 'sahara/tests/unit/service/validation/test_cluster_template_create_validation.py', 'sahara/tests/unit/service/validation/test_add_tags_validation.py', 'sahara/tests/unit/conductor/manager/test_clusters.py', 'sahara/tests/unit/utils/test_api_validator.py', 'sahara/tests/unit/plugins/hdp/test_clusterspec.py', 'sahara/tests/unit/base.py', 'sahara/tests/unit/conductor/base.py', 'sahara/tests/unit/plugins/test_base_plugins_support.py', 'sahara/tests/unit/plugins/general/test_utils.py', 'sahara/tests/unit/plugins/vanilla/v1_2_1/test_run_scripts.py', 'sahara/tests/unit/service/test_instances.py', 'sahara/tests/unit/service/validation/test_cluster_create_validation.py', 'sahara/tests/unit/plugins/vanilla/v2_3_0/test_validation.py', 'sahara/tests/unit/conductor/manager/test_edp.py', 'sahara/tests/unit/db/migration/test_db_manage_cli.py', 'sahara/tests/unit/plugins/vanilla/v1_2_1/test_dfsadmin_parsing.py', 'sahara/tests/unit/test_context.py', 'sahara/tests/unit/service/validation/edp/test_job.py', 'sahara/tests/unit/db/sqlalchemy/test_types.py', 'sahara/tests/unit/service/edp/test_job_possible_configs.py', 'sahara/tests/unit/topology/test_topology.py', 'sahara/tests/unit/service/validation/edp/test_job_executor.py', 'sahara/tests/unit/utils/test_neutron.py', 'sahara/tests/unit/utils/test_general.py', 'sahara/tests/unit/service/validation/edp/test_job_binary.py', 'sahara/tests/unit/conductor/test_resource.py']",49,c95ad8733f5cfa9efa0be5aa438e92da4c70655e,,"import testtoolsclass TestResource(testtools.TestCase): def setUp(self): super(TestResource, self).setUp() with testtools.ExpectedException(types.FrozenClassError): with testtools.ExpectedException(types.FrozenClassError): with testtools.ExpectedException(types.FrozenClassError):",import unittest2class TestResource(unittest2.TestCase): def setUp(self): with self.assertRaises(types.FrozenClassError): with self.assertRaises(types.FrozenClassError): with self.assertRaises(types.FrozenClassError):,209,178
openstack%2Frally~master~Iffe75177e3c17360a6460b837e7e6fb7e2b066a4,openstack/rally,master,Iffe75177e3c17360a6460b837e7e6fb7e2b066a4,Fixes wrong indent in rally/objects/task.py,MERGED,2014-06-14 07:38:24.000000000,2014-06-15 17:32:52.000000000,2014-06-15 17:32:52.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 6835}]","[{'number': 1, 'created': '2014-06-14 07:38:24.000000000', 'files': ['rally/objects/task.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/29eb4fb5a58cd14c78f4b3f7a977a8d1d0449b2f', 'message': 'Fixes wrong indent in rally/objects/task.py\n\nChange-Id: Iffe75177e3c17360a6460b837e7e6fb7e2b066a4\n'}]",0,100050,29eb4fb5a58cd14c78f4b3f7a977a8d1d0449b2f,10,3,1,4428,,,0,"Fixes wrong indent in rally/objects/task.py

Change-Id: Iffe75177e3c17360a6460b837e7e6fb7e2b066a4
",git fetch https://review.opendev.org/openstack/rally refs/changes/50/100050/1 && git format-patch -1 --stdout FETCH_HEAD,['rally/objects/task.py'],1,29eb4fb5a58cd14c78f4b3f7a977a8d1d0449b2f,fix-wrong-indent, return self.task[key], return self.task[key],1,1
openstack%2Ftempest~master~I85461a7829440e4a9f8ca63eb214f56604a09039,openstack/tempest,master,I85461a7829440e4a9f8ca63eb214f56604a09039,fix usage of allow_tenant_isolation,MERGED,2014-06-02 04:18:26.000000000,2014-06-15 17:23:50.000000000,2014-06-15 17:23:49.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 2750}, {'_account_id': 5174}, {'_account_id': 5196}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 8831}, {'_account_id': 8871}, {'_account_id': 9312}, {'_account_id': 10118}, {'_account_id': 10224}, {'_account_id': 10234}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-02 04:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/427734561451f2e22018d0d50bfa3bd6f49380ae', 'message': 'fix usage of allow_tenant_isolation\n\nSome tests are not use allow_tenant_isolation when it True.\n\nChange-Id: I85461a7829440e4a9f8ca63eb214f56604a09039\n'}, {'number': 2, 'created': '2014-06-02 05:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9dad54eee9c9f3cd05ae6bf5f870aa01bfa7e5d9', 'message': 'fix usage of allow_tenant_isolation\n\nSome tests are not use allow_tenant_isolation when it True.\n\nChange-Id: I85461a7829440e4a9f8ca63eb214f56604a09039\n'}, {'number': 3, 'created': '2014-06-02 09:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b79652e46456f1b54cb6065429eb63bd58383a61', 'message': 'fix usage of allow_tenant_isolation\n\nSome tests are not use allow_tenant_isolation when it True.\n\nChange-Id: I85461a7829440e4a9f8ca63eb214f56604a09039\n'}, {'number': 4, 'created': '2014-06-05 06:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/50dd8dac749c1bc206c5efaf197f6edf2a0bfe49', 'message': 'fix usage of allow_tenant_isolation\n\nSome tests are not use allow_tenant_isolation when it True.\n\nChange-Id: I85461a7829440e4a9f8ca63eb214f56604a09039\n'}, {'number': 5, 'created': '2014-06-06 02:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5890a1c378e9e0a81107029bee66b0a26bf5beb5', 'message': 'fix usage of allow_tenant_isolation\n\nSome tests are not use allow_tenant_isolation when it True.\n\nChange-Id: I85461a7829440e4a9f8ca63eb214f56604a09039\n'}, {'number': 6, 'created': '2014-06-06 13:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/80c555640d356e0a18e7955047bb1878b9438fb4', 'message': 'fix usage of allow_tenant_isolation\n\nSome tests are not use allow_tenant_isolation when it True.\n\nChange-Id: I85461a7829440e4a9f8ca63eb214f56604a09039\n'}, {'number': 7, 'created': '2014-06-09 07:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/92fabd8fdf9bc1be652d0e4e56f53e89e852aeb8', 'message': 'fix usage of allow_tenant_isolation\n\nSome tests are not use allow_tenant_isolation when it True.\n\nChange-Id: I85461a7829440e4a9f8ca63eb214f56604a09039\n'}, {'number': 8, 'created': '2014-06-12 12:34:56.000000000', 'files': ['tempest/api/compute/servers/test_servers_negative.py', 'tempest/api/compute/v3/servers/test_servers_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e8d3fd5a138c49d786fcd70241f82a6d82ff0b8c', 'message': 'fix usage of allow_tenant_isolation\n\nSome tests are not use allow_tenant_isolation when it True.\n\nChange-Id: I85461a7829440e4a9f8ca63eb214f56604a09039\n'}]",0,97139,e8d3fd5a138c49d786fcd70241f82a6d82ff0b8c,120,14,8,10234,,,0,"fix usage of allow_tenant_isolation

Some tests are not use allow_tenant_isolation when it True.

Change-Id: I85461a7829440e4a9f8ca63eb214f56604a09039
",git fetch https://review.opendev.org/openstack/tempest refs/changes/39/97139/8 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/servers/test_servers_negative.py', 'tempest/api/compute/v3/servers/test_servers_negative.py']",2,427734561451f2e22018d0d50bfa3bd6f49380ae,master-2," if cls.config.compute.allow_tenant_isolation: creds = cls.isolated_creds.get_alt_creds() username, tenant_name, password = creds cls.alt_os = clients.Manager(username=username, password=password, tenant_name=tenant_name) else: # Use the alt_XXX credentials in the config file cls.alt_os = clients.AltManager()", cls.alt_os = clients.AltManager(),18,2
openstack%2Fpython-saharaclient~master~Ib139c1f60fbc91f0354072134bdbc43ed92ae594,openstack/python-saharaclient,master,Ib139c1f60fbc91f0354072134bdbc43ed92ae594,Updated from global requirements,ABANDONED,2014-06-10 14:40:02.000000000,2014-06-15 16:49:34.000000000,,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 7604}]","[{'number': 1, 'created': '2014-06-10 14:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/b2d5c7028cce5e61c04312c18675f2998578aa59', 'message': 'Updated from global requirements\n\nChange-Id: Ib139c1f60fbc91f0354072134bdbc43ed92ae594\n'}, {'number': 2, 'created': '2014-06-11 01:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/094423ad3ba84b724e9e5e25218ef87f9f8c9236', 'message': 'Updated from global requirements\n\nChange-Id: Ib139c1f60fbc91f0354072134bdbc43ed92ae594\n'}, {'number': 3, 'created': '2014-06-13 22:57:31.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/638414390ca6c4be8d9cc62b3f9d96971b26bbaf', 'message': 'Updated from global requirements\n\nChange-Id: Ib139c1f60fbc91f0354072134bdbc43ed92ae594\n'}]",0,99094,638414390ca6c4be8d9cc62b3f9d96971b26bbaf,21,4,3,11131,,,0,"Updated from global requirements

Change-Id: Ib139c1f60fbc91f0354072134bdbc43ed92ae594
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/94/99094/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,b2d5c7028cce5e61c04312c18675f2998578aa59,openstack/requirements,"hacking>=0.8.0,<0.10,!=0.9.0","hacking>=0.8.0,<0.9",1,1
openstack%2Fsahara-extra~master~Idd7f6e4195248618bb1e82a76e92336f4633165a,openstack/sahara-extra,master,Idd7f6e4195248618bb1e82a76e92336f4633165a,Updated from global requirements,MERGED,2014-06-10 14:40:16.000000000,2014-06-15 16:43:19.000000000,2014-06-15 16:43:19.000000000,"[{'_account_id': 3}, {'_account_id': 6786}]","[{'number': 1, 'created': '2014-06-10 14:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-extra/commit/d4482b69970d7129eed2fe70599f6b2f926a8973', 'message': 'Updated from global requirements\n\nChange-Id: Idd7f6e4195248618bb1e82a76e92336f4633165a\n'}, {'number': 2, 'created': '2014-06-11 01:38:04.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara-extra/commit/25838e389161ac62b047bcaf9231dbfd5b27a329', 'message': 'Updated from global requirements\n\nChange-Id: Idd7f6e4195248618bb1e82a76e92336f4633165a\n'}]",0,99098,25838e389161ac62b047bcaf9231dbfd5b27a329,14,2,2,11131,,,0,"Updated from global requirements

Change-Id: Idd7f6e4195248618bb1e82a76e92336f4633165a
",git fetch https://review.opendev.org/openstack/sahara-extra refs/changes/98/99098/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d4482b69970d7129eed2fe70599f6b2f926a8973,openstack/requirements,"hacking>=0.8.0,<0.10,!=0.9.0","hacking>=0.8.0,<0.9",1,1
openstack%2Fsahara~master~I6ec51fa400a037cad06e4714dbe59a8627048635,openstack/sahara,master,I6ec51fa400a037cad06e4714dbe59a8627048635,Updated from global requirements,ABANDONED,2014-06-10 14:40:11.000000000,2014-06-15 16:35:44.000000000,,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 7604}]","[{'number': 1, 'created': '2014-06-10 14:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/5729f7b2801858bf458bbfb6293c4230b75b61be', 'message': 'Updated from global requirements\n\nChange-Id: I6ec51fa400a037cad06e4714dbe59a8627048635\n'}, {'number': 2, 'created': '2014-06-11 01:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/e4e98f0ef0dc2d5cd2a3383a73ba7291962879ac', 'message': 'Updated from global requirements\n\nChange-Id: I6ec51fa400a037cad06e4714dbe59a8627048635\n'}, {'number': 3, 'created': '2014-06-12 05:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/dea014da6c317430ca2c32df75bf488726c76ee0', 'message': 'Updated from global requirements\n\nChange-Id: I6ec51fa400a037cad06e4714dbe59a8627048635\n'}, {'number': 4, 'created': '2014-06-12 21:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/80c2637359d2015f28a761905c6484b6d5a1f018', 'message': 'Updated from global requirements\n\nChange-Id: I6ec51fa400a037cad06e4714dbe59a8627048635\n'}, {'number': 5, 'created': '2014-06-13 22:57:41.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara/commit/acbcec920312928733fc3ca7b9085e5ed0163847', 'message': 'Updated from global requirements\n\nChange-Id: I6ec51fa400a037cad06e4714dbe59a8627048635\n'}]",0,99096,acbcec920312928733fc3ca7b9085e5ed0163847,29,5,5,11131,,,0,"Updated from global requirements

Change-Id: I6ec51fa400a037cad06e4714dbe59a8627048635
",git fetch https://review.opendev.org/openstack/sahara refs/changes/96/99096/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,5729f7b2801858bf458bbfb6293c4230b75b61be,openstack/requirements,"hacking>=0.8.0,<0.10,!=0.9.0","hacking>=0.8.0,<0.9",1,1
openstack%2Fsahara-specs~master~I25b37499287903f5fbca482e1ba47a9317e750ce,openstack/sahara-specs,master,I25b37499287903f5fbca482e1ba47a9317e750ce,Add simple tests,MERGED,2014-06-05 14:50:49.000000000,2014-06-15 16:33:45.000000000,2014-06-15 16:33:44.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7132}, {'_account_id': 7428}, {'_account_id': 7555}, {'_account_id': 8411}, {'_account_id': 10670}]","[{'number': 1, 'created': '2014-06-05 14:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/5c97907402a0d2ff4daf50552c7c97a5a1ba8fad', 'message': 'Add simple tests\n\nIt ensures sections presented and lines length. Copy-pasted from\nnova-specs.\n\nChange-Id: I25b37499287903f5fbca482e1ba47a9317e750ce\n'}, {'number': 2, 'created': '2014-06-05 15:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/be1459ed6a1ef8b88f44aec96e2e0499abd3b94b', 'message': 'Add simple tests\n\nIt ensures sections presented and lines length. Copy-pasted from\nnova-specs.\n\nChange-Id: I25b37499287903f5fbca482e1ba47a9317e750ce\n'}, {'number': 3, 'created': '2014-06-10 11:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/8159b9f9fdf0a19db8443e3958891ef17c13c899', 'message': 'Add simple tests\n\nIt ensures sections presented and lines length. Copy-pasted from\nnova-specs. Empty placeholder replaced with link to the template.rst.\n\nChange-Id: I25b37499287903f5fbca482e1ba47a9317e750ce\n'}, {'number': 4, 'created': '2014-06-10 19:21:12.000000000', 'files': ['specs/juno/placeholder.rst', 'tests/test_titles.py', 'tests/test_placeholder.py'], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/7cc283d55a16750e3d846fb5c6324cc9396a39f3', 'message': 'Add simple tests\n\nIt ensures sections presented and lines length. Copy-pasted from\nnova-specs. Empty placeholder replaced with link to the template.rst.\n\nChange-Id: I25b37499287903f5fbca482e1ba47a9317e750ce\n'}]",1,98130,7cc283d55a16750e3d846fb5c6324cc9396a39f3,26,7,4,6786,,,0,"Add simple tests

It ensures sections presented and lines length. Copy-pasted from
nova-specs. Empty placeholder replaced with link to the template.rst.

Change-Id: I25b37499287903f5fbca482e1ba47a9317e750ce
",git fetch https://review.opendev.org/openstack/sahara-specs refs/changes/30/98130/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_titles.py', 'tests/__init__.py']",2,5c97907402a0d2ff4daf50552c7c97a5a1ba8fad,,,,101,0
openstack%2Fsahara-specs~master~I6c769ddf05690d506ee2563c6ce7c52402fe4792,openstack/sahara-specs,master,I6c769ddf05690d506ee2563c6ce7c52402fe4792,Add base spec template,MERGED,2014-06-05 14:50:49.000000000,2014-06-15 16:33:39.000000000,2014-06-15 16:33:39.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7428}, {'_account_id': 7555}, {'_account_id': 8090}, {'_account_id': 8411}, {'_account_id': 10670}]","[{'number': 1, 'created': '2014-06-05 14:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/74a4b5350314362e5e8a48b60738789e1198a4d0', 'message': ""Add base spec template\n\nIt's 90% based on nova's one.\n\nChange-Id: I6c769ddf05690d506ee2563c6ce7c52402fe4792\n""}, {'number': 2, 'created': '2014-06-05 15:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/aeeb992ab862302b030dc359f69ab096c050ce0d', 'message': ""Add base spec template\n\nIt's 90% based on nova's one.\n\nChange-Id: I6c769ddf05690d506ee2563c6ce7c52402fe4792\n""}, {'number': 3, 'created': '2014-06-10 11:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/2b619e63189dbf49fbc0b7c99f9ffc6dedf4c005', 'message': ""Add base spec template\n\nIt's 90% based on nova's one.\n\nChange-Id: I6c769ddf05690d506ee2563c6ce7c52402fe4792\n""}, {'number': 4, 'created': '2014-06-10 19:21:12.000000000', 'files': ['specs/template.rst'], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/7c9b80235e71ca1eb486fd26f7758acc86a54eb6', 'message': ""Add base spec template\n\nIt's 90% based on nova's one.\n\nChange-Id: I6c769ddf05690d506ee2563c6ce7c52402fe4792\n""}]",1,98129,7c9b80235e71ca1eb486fd26f7758acc86a54eb6,27,7,4,6786,,,0,"Add base spec template

It's 90% based on nova's one.

Change-Id: I6c769ddf05690d506ee2563c6ce7c52402fe4792
",git fetch https://review.opendev.org/openstack/sahara-specs refs/changes/29/98129/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/template.rst'],1,74a4b5350314362e5e8a48b60738789e1198a4d0,," License.Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/sahara/+spec/example Introduction paragraph -- why are we doing anything? A single paragraph of prose that operators can understand. The title and this first paragraph should be used as the subject line and body of the commit message respectively. Some notes about using this template: * Your spec should be in ReSTructured text, like this template. * Please wrap text at 79 columns. * The filename in the git repository should match the launchpad URL, for example a URL of: https://blueprints.launchpad.net/sahara/+spec/awesome-thing should be named awesome-thing.rst * Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None * For help with syntax, see http://sphinx-doc.org/rest.html * To test out your formatting, build the docs using tox, or see: http://rst.ninjs.org * If you would like to provide a diagram with your spec, ascii diagrams are required. http://asciiflow.com/ is a very nice tool to assist with making ascii diagrams. The reason for this is that the tool used to review specs is based purely on plain text. Plain text will allow review to proceed without having to look at additional files which can not be viewed in gerrit. It will also allow inline feedback on the diagram itself. Problem description =================== A detailed description of the problem: * For a new feature this might be use cases. Ensure you are clear about the actors in each use case: End User vs Deployer * For a major reworking of something existing it would describe the problems in that feature that are being addressed. Proposed change =============== Here is where you cover the change you propose to make in detail. How do you propose to solve this problem? If this is one part of a larger effort make it clear where this piece ends. In other words, what's the scope of this effort? Alternatives ------------ What other ways could we do this thing? Why aren't we using those? This doesn't have to be a full literature review, but it should demonstrate that thought has been put into why the proposed solution is an appropriate one. Data model impact ----------------- Changes which require modifications to the data model often have a wider impact on the system. The community often has strong opinions on how the data model should be evolved, from both a functional and performance perspective. It is therefore important to capture and gain agreement as early as possible on any proposed changes to the data model. Questions which need to be addressed by this section include: * What new data objects and/or database schema changes is this going to require? * What database migrations will accompany this change. * How will the initial set of new data objects be generated, for example if you need to take into account existing instances, or modify other existing data describe how that will work. REST API impact --------------- Each API method which is either added or changed should have the following * Specification for the method * A description of what the method does suitable for use in user documentation * Method type (POST/PUT/GET/DELETE) * Normal http response code(s) * Expected error http response code(s) * A description for each possible error code should be included describing semantic errors which can cause it such as inconsistent parameters supplied to the method, or when an instance is not in an appropriate state for the request to succeed. Errors caused by syntactic problems covered by the JSON schema defintion do not need to be included. * URL for the resource * Parameters which can be passed via the url * Example use case including typical API samples for both data supplied by the caller and the response * Discuss any policy changes, and discuss what things a deployer needs to think about when defining their policy. Other end user impact --------------------- Aside from the API, are there other ways a user will interact with this feature? * Does this change have an impact on python-saharaclient? What does the user interface there look like? Deployer impact --------------- Discuss things that will affect how you deploy and configure OpenStack that have not already been mentioned, such as: * What config options are being added? Should they be more generic than proposed (for example a flag that other hypervisor drivers might want to implement as well)? Are the default values ones which will work well in real deployments? * Is this a change that takes immediate effect after its merged, or is it something that has to be explicitly enabled? * If this change is a new binary, how would it be deployed? * Please state anything that those doing continuous deployment, or those upgrading from the previous release, need to be aware of. Also describe any plans to deprecate configuration values or features. For example, if we change the directory name that instances are stored in, how do we handle instance directories created before the change landed? Do we move them? Do we have a special case in the code? Do we assume that the operator will recreate all the instances in their cloud? Developer impact ---------------- Discuss things that will affect other developers working on OpenStack, such as: * If the blueprint proposes a change to the driver API, discussion of how other hypervisors would implement the feature is required. Sahara-image-elements impact ---------------------------- Does it require changes to the sahara-image-elements? If so, changes should be described well. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <launchpad-id or None> Other contributors: <launchpad-id or None> Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ * Include specific references to specs and/or blueprints in sahara, or in other projects, that this one either depends on or is related to. * If this requires functionality of another project that is not currently used by Sahara, document that fact. * Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? Testing ======= Please discuss how the change will be tested. We especially want to know what tempest tests will be added. It is assumed that unit test coverage will be added so that doesn't need to be mentioned explicitly, but discussion of why you think unit tests are sufficient and we don't need to add more tempest tests would need to be included. Is this untestable in gate given current limitations (specific hardware / software configurations available)? Is this untestable in sahara-ci? If so, are there mitigation plans (3rd party testing, gate enhancements, etc). Documentation Impact ==================== What is the impact on the docs team of this change? Some changes might require donating resources to the docs team to have the documentation updated. Don't repeat details discussed above, but please reference them here. References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. Examples of what you could include are: * Links to mailing list or IRC discussions * Links to notes from a summit session * Links to relevant research, if appropriate * Related specifications as appropriate (e.g. if it's an EC2 thing, link the EC2 docs) * Anything else you feel it is worthwhile to refer to", License.TBD,243,2
openstack%2Ftraining-guides~master~I85e2e6a3c75a98e2cb5c5e5eda3ff8647aa32e66,openstack/training-guides,master,I85e2e6a3c75a98e2cb5c5e5eda3ff8647aa32e66,Fixing typo and adding example policy,MERGED,2014-06-11 23:23:27.000000000,2014-06-15 16:22:46.000000000,2014-06-15 16:22:46.000000000,"[{'_account_id': 3}, {'_account_id': 6923}]","[{'number': 1, 'created': '2014-06-11 23:23:27.000000000', 'files': ['doc/training-guides/module001-ch007-keystone-arch.xml'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/f816dec1813e7d58f7cec63d658f8931925a0ad4', 'message': 'Fixing typo and adding example policy\n\nKeystone Architecture in OpenStack Training Guides has\ntypo with cinder policy instead of nova policy filename.\nAlso, the policy sample was missing. Added policy sample\non privileges for creating volumes.\n\nChange-Id: I85e2e6a3c75a98e2cb5c5e5eda3ff8647aa32e66\nCloses-bug: #1326104\n'}]",0,99507,f816dec1813e7d58f7cec63d658f8931925a0ad4,9,2,1,10281,,,0,"Fixing typo and adding example policy

Keystone Architecture in OpenStack Training Guides has
typo with cinder policy instead of nova policy filename.
Also, the policy sample was missing. Added policy sample
on privileges for creating volumes.

Change-Id: I85e2e6a3c75a98e2cb5c5e5eda3ff8647aa32e66
Closes-bug: #1326104
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/07/99507/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/training-guides/module001-ch007-keystone-arch.xml'],1,f816dec1813e7d58f7cec63d658f8931925a0ad4,bug/1326104," <para>For example, this line ""volume:create"": [] in <filename>/etc/cinder/policy.json</filename> specifies"," <para>For example, this line in <filename>/etc/nova/policy.json</filename> specifies",2,2
openstack%2Fnova~master~I7f9a7c281f152985478b2ec295f0644ba475fd76,openstack/nova,master,I7f9a7c281f152985478b2ec295f0644ba475fd76,libvirt: Make nwfilter driver use right filterref,MERGED,2014-03-07 15:53:19.000000000,2014-06-15 16:01:39.000000000,2014-06-15 16:01:37.000000000,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 1894}, {'_account_id': 2271}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 8006}, {'_account_id': 8163}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-03-07 15:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bbfd3ad4e0432401917c09b1eb5d5b0df73a500d', 'message': ""libvirt: Make nwfilter driver use right filterref\n\nThis fixes Bug #1220856 which occurs with Libvirt NWFilterFirewall Driver.\nWhile creating a VM with multiple NICs including one connects to DHCP serving\nnetwork and another to DHCP non-serving network, NWFilterFirewall Driver will\nuse the same base filter that allows DHCP for all NICs. This leads a libvirt\nlaunch error due to lack of 'dhcp_server' parameter which is needed to define\nfilter to allow DHCP.\n\nThis patch makes NWFilterFirewall Driver use right base filter for each NIC\ndepends on 'dhcp_server' config.\n\nChange-Id: I7f9a7c281f152985478b2ec295f0644ba475fd76\nCloses-bug: #1220856\n""}, {'number': 2, 'created': '2014-03-09 23:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62ee91973a6cda9bcbdb0012ba98f580a154abff', 'message': ""libvirt: Make nwfilter driver use right filterref\n\nThis fixes Bug #1220856 which occurs with Libvirt NWFilterFirewall\nDriver.  While creating a VM with multiple NICs including one connects\nto DHCP serving network and another to DHCP non-serving network,\nNWFilterFirewall Driver will use the same base filter that allows DHCP\nfor all NICs. This leads a libvirt launch error due to lack of\n'dhcp_server' parameter which is needed to define allow-DHCP filters.\n\nThis patch makes NWFilterFirewall Driver use right base filter for\neach NIC depends on 'dhcp_server' config.\n\nCloses-bug: #1220856\nChange-Id: I7f9a7c281f152985478b2ec295f0644ba475fd76\n""}, {'number': 3, 'created': '2014-06-05 04:00:04.000000000', 'files': ['nova/tests/virt/libvirt/test_driver.py', 'nova/virt/libvirt/firewall.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d2874463010b129e62a568357cfa1df3ab4805e6', 'message': ""libvirt: Make nwfilter driver use right filterref\n\nThis fixes Bug #1220856 which occurs with Libvirt NWFilterFirewall\nDriver.  While creating a VM with multiple NICs including one connects\nto DHCP serving network and another to DHCP non-serving network,\nNWFilterFirewall Driver will use the same base filter that allows DHCP\nfor all NICs. This leads a libvirt launch error due to lack of\n'dhcp_server' parameter which is needed to define allow-DHCP filters.\n\nThis patch makes NWFilterFirewall Driver use right base filter for\neach NIC depends on 'dhcp_server' config.\n\nCloses-bug: #1220856\nChange-Id: I7f9a7c281f152985478b2ec295f0644ba475fd76\n""}]",0,78999,d2874463010b129e62a568357cfa1df3ab4805e6,43,12,3,1894,,,0,"libvirt: Make nwfilter driver use right filterref

This fixes Bug #1220856 which occurs with Libvirt NWFilterFirewall
Driver.  While creating a VM with multiple NICs including one connects
to DHCP serving network and another to DHCP non-serving network,
NWFilterFirewall Driver will use the same base filter that allows DHCP
for all NICs. This leads a libvirt launch error due to lack of
'dhcp_server' parameter which is needed to define allow-DHCP filters.

This patch makes NWFilterFirewall Driver use right base filter for
each NIC depends on 'dhcp_server' config.

Closes-bug: #1220856
Change-Id: I7f9a7c281f152985478b2ec295f0644ba475fd76
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/78999/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/libvirt/test_libvirt.py', 'nova/virt/libvirt/firewall.py']",2,bbfd3ad4e0432401917c09b1eb5d5b0df73a500d,bug/1220856," nodhcp_base_filter = self.get_base_filter_list(instance, False) dhcp_base_filter = self.get_base_filter_list(instance, True) for vif in network_info: _base_filter = nodhcp_base_filter _base_filter = dhcp_base_filter _base_filter,"," allow_dhcp = False for vif in network_info: if not vif['network'] or not vif['network']['subnets']: continue allow_dhcp = True base_filter = self.get_base_filter_list(instance, allow_dhcp) for vif in network_info: base_filter,",44,9
openstack%2Fdevstack~master~Ia9c78379b1d02df93fd28c543ff204586a8f6a0a,openstack/devstack,master,Ia9c78379b1d02df93fd28c543ff204586a8f6a0a,Workaround for #1330140,ABANDONED,2014-06-15 10:19:30.000000000,2014-06-15 14:40:31.000000000,,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 6172}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-15 10:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5cbb843380c2d09b937ed23ac9e37b7fb1844c22', 'message': 'Workaround for #1330140\n\nChange-Id: Ia9c78379b1d02df93fd28c543ff204586a8f6a0a\nRelated-Bug: #1330140\n'}, {'number': 2, 'created': '2014-06-15 10:56:50.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d7645a1ea355afa71983ba91b02707005352f43b', 'message': 'Workaround for #1330140\n\nChange-Id: Ia9c78379b1d02df93fd28c543ff204586a8f6a0a\nRelated-Bug: #1330140\n'}]",0,100085,d7645a1ea355afa71983ba91b02707005352f43b,10,4,2,5803,,,0,"Workaround for #1330140

Change-Id: Ia9c78379b1d02df93fd28c543ff204586a8f6a0a
Related-Bug: #1330140
",git fetch https://review.opendev.org/openstack/devstack refs/changes/85/100085/2 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,5cbb843380c2d09b937ed23ac9e37b7fb1844c22,setuptools_wa,# workaround for LP#1330140 pip_install -U 'setuptools==5.0' ,,3,0
openstack%2Fgrenade~master~I24fdd5de3d4cf0b8aba28edbf0dc5bad4ceddbfc,openstack/grenade,master,I24fdd5de3d4cf0b8aba28edbf0dc5bad4ceddbfc,javelin: introduce neutron resources,ABANDONED,2014-06-14 22:39:12.000000000,2014-06-15 11:44:00.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}]","[{'number': 1, 'created': '2014-06-14 22:39:12.000000000', 'files': ['setup-javelin', 'javelin.conf'], 'web_link': 'https://opendev.org/openstack/grenade/commit/b13df534987fbba2cef9787f2f1b7dfdb8f90db2', 'message': 'javelin: introduce neutron resources\n\nThis patch introduces networking resources:\n- create a network\n- create a subnet\n- create a router and connect the network\n- connect the router to external network\n- create and assign a floating IP to the instance\n\nChange-Id: I24fdd5de3d4cf0b8aba28edbf0dc5bad4ceddbfc\n'}]",0,100074,b13df534987fbba2cef9787f2f1b7dfdb8f90db2,4,3,1,3153,,,0,"javelin: introduce neutron resources

This patch introduces networking resources:
- create a network
- create a subnet
- create a router and connect the network
- connect the router to external network
- create and assign a floating IP to the instance

Change-Id: I24fdd5de3d4cf0b8aba28edbf0dc5bad4ceddbfc
",git fetch https://review.opendev.org/openstack/grenade refs/changes/74/100074/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup-javelin', 'javelin.conf']",2,b13df534987fbba2cef9787f2f1b7dfdb8f90db2,javelin-neutron,"JAVELIN_NETWORK=javnet JAVELIN_SUBNET=javsub JAVELIN_SUBNET_RANGE=""10.0.0.0/24"" JAVELIN_ROUTER=javrout",,50,1
openstack%2Fsahara-dashboard~master~If321fdb4b1f1e01e28c6cf70a435cd7ddc096f25,openstack/sahara-dashboard,master,If321fdb4b1f1e01e28c6cf70a435cd7ddc096f25,Added start and end times to job execution details page,MERGED,2014-06-12 23:59:03.000000000,2014-06-15 10:25:31.000000000,2014-06-15 10:25:31.000000000,"[{'_account_id': 3}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 7604}, {'_account_id': 8091}]","[{'number': 1, 'created': '2014-06-12 23:59:03.000000000', 'files': ['saharadashboard/templates/job_executions/_details.html'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/d389a552eb2f714fa11d3ab0d04ba6af7e79fb43', 'message': 'Added start and end times to job execution details page\n\nChange-Id: If321fdb4b1f1e01e28c6cf70a435cd7ddc096f25\nCloses-Bug: #1329529\n'}]",0,99804,d389a552eb2f714fa11d3ab0d04ba6af7e79fb43,13,5,1,8411,,,0,"Added start and end times to job execution details page

Change-Id: If321fdb4b1f1e01e28c6cf70a435cd7ddc096f25
Closes-Bug: #1329529
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/04/99804/1 && git format-patch -1 --stdout FETCH_HEAD,['saharadashboard/templates/job_executions/_details.html'],1,d389a552eb2f714fa11d3ab0d04ba6af7e79fb43,," <dt>{% trans ""Started"" %}</dt> <dd>{{ job_execution.start_time }}</dd> <dt>{% trans ""Ended"" %}</dt> <dd>{{ job_execution.end_time }}</dd>",,4,0
openstack%2Foslo.vmware~master~I605b8f4cd23a8c86dd8bdcdb1d1e5627403b334c,openstack/oslo.vmware,master,I605b8f4cd23a8c86dd8bdcdb1d1e5627403b334c,Setup for translation,MERGED,2014-06-05 20:51:27.000000000,2014-06-15 03:22:38.000000000,2014-06-15 03:22:38.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 8759}]","[{'number': 1, 'created': '2014-06-05 20:51:27.000000000', 'files': ['oslo.vmware/locale/oslo.vmware.pot'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/7d71775669db8302da1ec799a88a03568bc8bdd7', 'message': 'Setup for translation\n\nTo start translation, we need to initially import the\ntranslation file - and place it at the proper place so that\nthe usual CI scripts can handle it.\n\nThe proper place is for all python projects\n$PROJECT/locale/$PROJECT.pot - see setup.cfg.\n\nFurther imports will be done by the OpenStack Proposal bot.\n\nChange-Id: I605b8f4cd23a8c86dd8bdcdb1d1e5627403b334c\n'}]",0,98250,7d71775669db8302da1ec799a88a03568bc8bdd7,10,3,1,6547,,,0,"Setup for translation

To start translation, we need to initially import the
translation file - and place it at the proper place so that
the usual CI scripts can handle it.

The proper place is for all python projects
$PROJECT/locale/$PROJECT.pot - see setup.cfg.

Further imports will be done by the OpenStack Proposal bot.

Change-Id: I605b8f4cd23a8c86dd8bdcdb1d1e5627403b334c
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/50/98250/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo.vmware/locale/oslo.vmware.pot'],1,7d71775669db8302da1ec799a88a03568bc8bdd7,initialize-translation,"# Translations template for oslo.vmware. # Copyright (C) 2014 ORGANIZATION # This file is distributed under the same license as the oslo.vmware # project. # FIRST AUTHOR <EMAIL@ADDRESS>, 2014. # #, fuzzy msgid """" msgstr """" ""Project-Id-Version: oslo.vmware 0.3.22.gc4e0294\n"" ""Report-Msgid-Bugs-To: EMAIL@ADDRESS\n"" ""POT-Creation-Date: 2014-06-05 22:50+0200\n"" ""PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"" ""Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"" ""Language-Team: LANGUAGE <LL@li.org>\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=utf-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""Generated-By: Babel 1.3\n"" #: oslo/vmware/api.py:91 #, python-format msgid """" ""Exception which is in the suggested list of exceptions occurred while "" ""invoking function: %s."" msgstr """" #: oslo/vmware/api.py:98 #, python-format msgid """" ""Cannot retry upon suggested exception since retry count (%(retry_count)d)"" "" reached max retry count (%(max_retry_count)d)."" msgstr """" #: oslo/vmware/api.py:109 #, python-format msgid """" ""Exception which is not in the suggested list of exceptions occurred while"" "" invoking %s."" msgstr """" #: oslo/vmware/api.py:212 #, python-format msgid ""Successfully established new session; session ID is %s."" msgstr """" #: oslo/vmware/api.py:219 #, python-format msgid ""Terminating the previous session with ID = %s"" msgstr """" #: oslo/vmware/api.py:229 #, python-format msgid ""Error occurred while terminating the previous session with ID = %s."" msgstr """" #: oslo/vmware/api.py:241 #, python-format msgid ""Logging out and terminating the current session with ID = %s."" msgstr """" #: oslo/vmware/api.py:248 #, python-format msgid """" ""Error occurred while logging out and terminating the current session with"" "" ID = %s."" msgstr """" #: oslo/vmware/api.py:301 #, python-format msgid """" ""Current session: %(session)s is inactive; re-creating the session while "" ""invoking method %(module)s.%(method)s."" msgstr """" #: oslo/vmware/api.py:322 #, python-format msgid """" ""Re-creating session due to connection problems while invoking method "" ""%(module)s.%(method)s."" msgstr """" #: oslo/vmware/api.py:347 #, python-format msgid ""Error occurred while checking whether the current session: %s is active."" msgstr """" #: oslo/vmware/api.py:388 #, python-format msgid ""Error occurred while reading info of task: %s."" msgstr """" #: oslo/vmware/api.py:402 #, python-format msgid ""Task: %(task)s failed with error: %(error)s."" msgstr """" #: oslo/vmware/api.py:442 #, python-format msgid ""Error occurred while checking state of lease: %s."" msgstr """" #: oslo/vmware/api.py:456 #, python-format msgid ""Lease: %(lease)s is in error state. Details: %(error_msg)s."" msgstr """" #: oslo/vmware/api.py:463 #, python-format msgid ""Unknown state: %(state)s for lease: %(lease)s."" msgstr """" #: oslo/vmware/api.py:477 #, python-format msgid ""Error occurred while reading error message for lease: %s."" msgstr """" #: oslo/vmware/exceptions.py:48 msgid ""exception_summary must not be a list"" msgstr """" #: oslo/vmware/exceptions.py:81 msgid ""fault_list must be a list"" msgstr """" #: oslo/vmware/exceptions.py:107 msgid ""An unknown exception occurred."" msgstr """" #: oslo/vmware/exceptions.py:119 msgid ""Exception in string format operation"" msgstr """" #: oslo/vmware/exceptions.py:132 msgid ""VMware Driver configuration fault."" msgstr """" #: oslo/vmware/exceptions.py:136 msgid ""No default value for use_linked_clone found."" msgstr """" #: oslo/vmware/exceptions.py:140 #, python-format msgid ""Missing parameter : %(param)s"" msgstr """" #: oslo/vmware/exceptions.py:144 msgid ""Resource already exists."" msgstr """" #: oslo/vmware/exceptions.py:149 msgid ""Cannot delete file."" msgstr """" #: oslo/vmware/exceptions.py:154 msgid ""File already exists."" msgstr """" #: oslo/vmware/exceptions.py:159 msgid ""File fault."" msgstr """" #: oslo/vmware/exceptions.py:164 msgid ""File locked."" msgstr """" #: oslo/vmware/exceptions.py:169 msgid ""File not found."" msgstr """" #: oslo/vmware/exceptions.py:174 msgid ""Invalid power state."" msgstr """" #: oslo/vmware/exceptions.py:179 msgid ""Invalid property."" msgstr """" #: oslo/vmware/exceptions.py:184 msgid ""No Permission."" msgstr """" #: oslo/vmware/exceptions.py:189 msgid ""Not Authenticated."" msgstr """" #: oslo/vmware/image_transfer.py:170 #, python-format msgid ""Image: %s is in killed state."" msgstr """" #: oslo/vmware/image_transfer.py:184 #, python-format msgid ""Image: %(image)s is in unknown state: %(state)s."" msgstr """" #: oslo/vmware/image_transfer.py:192 #, python-format msgid ""Error occurred while writing image: %s"" msgstr """" #: oslo/vmware/image_transfer.py:277 msgid ""Error occurred during file read-write task."" msgstr """" #: oslo/vmware/image_transfer.py:364 msgid ""No image destination given."" msgstr """" #: oslo/vmware/image_transfer.py:381 #, python-format msgid """" ""Error occurred during image transfer with reader: %(reader)s and writer: "" ""%(writer)s"" msgstr """" #: oslo/vmware/rw_handles.py:64 msgid ""Error occurred while closing the file handle"" msgstr """" #: oslo/vmware/rw_handles.py:142 msgid ""Could not retrieve VMDK URL from lease info."" msgstr """" #: oslo/vmware/rw_handles.py:192 oslo/vmware/rw_handles.py:335 #, python-format msgid ""Invalid scheme: %s."" msgstr """" #: oslo/vmware/rw_handles.py:206 #, python-format msgid """" ""Error occurred while creating HTTP connection to write to file with URL ="" "" %s."" msgstr """" #: oslo/vmware/rw_handles.py:221 oslo/vmware/rw_handles.py:375 #, python-format msgid ""Connection error occurred while writing data to %s."" msgstr """" #: oslo/vmware/rw_handles.py:229 oslo/vmware/rw_handles.py:383 #, python-format msgid ""Error occurred while writing data to %s."" msgstr """" #: oslo/vmware/rw_handles.py:240 msgid ""Error occurred while reading the HTTP response."" msgstr """" #: oslo/vmware/rw_handles.py:354 #, python-format msgid """" ""Error occurred while creating HTTP connection to write to VMDK file with "" ""URL = %s."" msgstr """" #: oslo/vmware/rw_handles.py:412 #, python-format msgid """" ""Error occurred while updating the write progress of VMDK file with URL = "" ""%s."" msgstr """" #: oslo/vmware/rw_handles.py:445 oslo/vmware/rw_handles.py:607 #, python-format msgid ""Error occurred while releasing the lease for %s."" msgstr """" #: oslo/vmware/rw_handles.py:519 #, python-format msgid ""Error occurred while opening URL: %s for reading."" msgstr """" #: oslo/vmware/rw_handles.py:545 #, python-format msgid ""Error occurred while reading data from %s."" msgstr """" #: oslo/vmware/rw_handles.py:574 #, python-format msgid """" ""Error occurred while updating the read progress of VMDK file with URL = "" ""%s."" msgstr """" #: oslo/vmware/vim.py:150 #, python-format msgid ""Faults %s found in RetrievePropertiesEx API response."" msgstr """" #: oslo/vmware/vim.py:154 msgid ""Error occurred while calling RetrievePropertiesEx."" msgstr """" #: oslo/vmware/vim.py:216 #, python-format msgid ""No such SOAP method %s."" msgstr """" #: oslo/vmware/vim.py:222 #, python-format msgid ""httplib error in %s."" msgstr """" #: oslo/vmware/vim.py:226 #, python-format msgid ""urllib2 error in %s."" msgstr """" #: oslo/vmware/vim.py:237 #, python-format msgid ""Socket error in %s."" msgstr """" #: oslo/vmware/vim.py:242 #, python-format msgid ""Type error in %s."" msgstr """" #: oslo/vmware/vim.py:245 #, python-format msgid ""Exception in %s."" msgstr """" #: oslo/vmware/common/loopingcall.py:82 #, python-format msgid ""task run outlasted interval by %s sec"" msgstr """" #: oslo/vmware/common/loopingcall.py:89 msgid ""in fixed duration looping call"" msgstr """" #: oslo/vmware/common/loopingcall.py:136 msgid ""in dynamic looping call"" msgstr """" #: oslo/vmware/openstack/common/gettextutils.py:297 msgid ""Message objects do not support addition."" msgstr """" #: oslo/vmware/openstack/common/gettextutils.py:306 msgid """" ""Message objects do not support str() because they may contain non-ascii "" ""characters. Please use unicode() or translate() instead."" msgstr """" ",,348,0
openstack%2Foslo.vmware~master~Idc386415362e608c8fb3b1d215ceff4a32792d6a,openstack/oslo.vmware,master,Idc386415362e608c8fb3b1d215ceff4a32792d6a,cleaning up index.rst file,MERGED,2014-05-28 08:02:23.000000000,2014-06-15 03:22:36.000000000,2014-06-15 03:22:36.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 8759}]","[{'number': 1, 'created': '2014-05-28 08:02:23.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/46f9661628b33e18b404ced0b86acb190af7b7a7', 'message': 'cleaning up index.rst file\n\nRemoved notes about the generation of the file and fixed the title.\n\nChange-Id: Idc386415362e608c8fb3b1d215ceff4a32792d6a\n'}]",0,96101,46f9661628b33e18b404ced0b86acb190af7b7a7,11,4,1,167,,,0,"cleaning up index.rst file

Removed notes about the generation of the file and fixed the title.

Change-Id: Idc386415362e608c8fb3b1d215ceff4a32792d6a
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/01/96101/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,46f9661628b33e18b404ced0b86acb190af7b7a7,fix_docu_index,Welcome to oslo.vmware's documentation! =======================================,".. documentation master file, created by sphinx-quickstart on Tue Jul 9 22:26:36 2013. You can adapt this file completely to your liking, but it should at least contain the root `toctree` directive. Welcome to 's documentation! ========================================================",2,7
openstack%2Fneutron~stable%2Ficehouse~If7fcf7658db9ee2d7d1248bb0b016b4389c32c77,openstack/neutron,stable/icehouse,If7fcf7658db9ee2d7d1248bb0b016b4389c32c77,Wrong key router.interface reported by ceilometer,MERGED,2014-05-27 03:52:56.000000000,2014-06-15 03:22:29.000000000,2014-06-15 03:22:28.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 7805}, {'_account_id': 9732}, {'_account_id': 9925}, {'_account_id': 10117}, {'_account_id': 10153}, {'_account_id': 10192}, {'_account_id': 10387}, {'_account_id': 10503}]","[{'number': 1, 'created': '2014-05-27 03:52:56.000000000', 'files': ['neutron/tests/unit/test_l3_plugin.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/96e580deb95bebd83eaa94c8c3e08fce5a693507', 'message': ""Wrong key router.interface reported by ceilometer\n\nCeilometer with MongoDB doesn't accept the key with dot.\n\nThe dot in 'router.interface' should be replaced with '_',\nwhich is also the standard implementation of other keys in neutron.\n\nChange-Id: If7fcf7658db9ee2d7d1248bb0b016b4389c32c77\nRelated-Bug: #1310460\n(cherry picked from commit 7811c8a8ffce78dc14815203858854c450f1c8f6)\n""}]",0,95634,96e580deb95bebd83eaa94c8c3e08fce5a693507,45,13,1,7805,,,0,"Wrong key router.interface reported by ceilometer

Ceilometer with MongoDB doesn't accept the key with dot.

The dot in 'router.interface' should be replaced with '_',
which is also the standard implementation of other keys in neutron.

Change-Id: If7fcf7658db9ee2d7d1248bb0b016b4389c32c77
Related-Bug: #1310460
(cherry picked from commit 7811c8a8ffce78dc14815203858854c450f1c8f6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/95634/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_l3_plugin.py', 'neutron/db/l3_db.py']",2,96e580deb95bebd83eaa94c8c3e08fce5a693507,bug/1310460, {'router_interface': info}) {'router_interface': info}), {'router.interface': info}) {'router.interface': info}),3,3
openstack%2Fdevstack~master~Ie4527a0639e977e83e6bfc07751ba062839e0600,openstack/devstack,master,Ie4527a0639e977e83e6bfc07751ba062839e0600,Remove unnecessary ini commenting from nova,MERGED,2014-06-02 00:43:20.000000000,2014-06-15 01:49:45.000000000,2014-06-15 01:49:44.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 2592}, {'_account_id': 2750}, {'_account_id': 7350}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-02 00:43:20.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/25e548be3c808f02c4f9e854b73cb7e2a41caa5b', 'message': ""Remove unnecessary ini commenting from nova\n\nNova does not ship these options in it's api-paste.conf any more so the\nfunctions have no effect.\n\nChange-Id: Ie4527a0639e977e83e6bfc07751ba062839e0600\n""}]",0,97130,25e548be3c808f02c4f9e854b73cb7e2a41caa5b,15,6,1,7191,,,0,"Remove unnecessary ini commenting from nova

Nova does not ship these options in it's api-paste.conf any more so the
functions have no effect.

Change-Id: Ie4527a0639e977e83e6bfc07751ba062839e0600
",git fetch https://review.opendev.org/openstack/devstack refs/changes/30/97130/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,25e548be3c808f02c4f9e854b73cb7e2a41caa5b,nova-comments,, # Comment out the keystone configs in Nova's api-paste.ini. # We are using nova.conf to configure this instead. inicomment $NOVA_API_PASTE_INI filter:authtoken auth_host inicomment $NOVA_API_PASTE_INI filter:authtoken auth_protocol inicomment $NOVA_API_PASTE_INI filter:authtoken admin_tenant_name inicomment $NOVA_API_PASTE_INI filter:authtoken cafile inicomment $NOVA_API_PASTE_INI filter:authtoken admin_user inicomment $NOVA_API_PASTE_INI filter:authtoken admin_password inicomment $NOVA_API_PASTE_INI filter:authtoken signing_dir,0,10
openstack%2Fdevstack~master~I13da5f8978b280b192f9b033c348a11bfc44c9d2,openstack/devstack,master,I13da5f8978b280b192f9b033c348a11bfc44c9d2,Install 'ipmitool' package for Ironic,MERGED,2014-06-12 17:44:07.000000000,2014-06-15 01:49:08.000000000,2014-06-15 01:49:08.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 2750}, {'_account_id': 5805}, {'_account_id': 6618}, {'_account_id': 7118}, {'_account_id': 7369}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-12 17:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/730ec684d04d9d57d4ae6e90eb7d6e9302ed99c4', 'message': 'Install \'ipmitool\' package for Ironic\n\nIronic\'s reference / recommended driver is the ""pxe_ipmitool"" driver, which\nrequires the \'ipmitool\' package and system binary. Thus, devstack should\ninstall it.\n\nAlso, Ironic will soon be validating that ipmitool is present in the system\npath when loading the pxe_ipmitool driver, as it does for other drivers\n(seamicro, pyghmi) that have external dependencies.\n\nCausing devstack to install this package when Ironic is enabled will also help\nusers who wish to test Ironic against physical hardware that has IPMI support,\nwithout having to perform additional manual steps (like enabling the\npxe_ipmitool driver and installing the ipmitool packge by hand).\n\nChange-Id: I13da5f8978b280b192f9b033c348a11bfc44c9d2\n'}, {'number': 2, 'created': '2014-06-12 17:45:45.000000000', 'files': ['files/apts/ironic', 'files/rpms/ironic'], 'web_link': 'https://opendev.org/openstack/devstack/commit/23a64e2af8690e6c21c2e32b3f890c4ed854b74a', 'message': 'Install \'ipmitool\' package for Ironic\n\nIronic\'s reference / recommended driver is the ""pxe_ipmitool"" driver,\nwhich requires the \'ipmitool\' package and system binary. Thus,\ndevstack should install it.\n\nAlso, Ironic will soon be validating that ipmitool is present in the\nsystem path when loading the pxe_ipmitool driver, as it does for other\ndrivers (seamicro, pyghmi) that have external dependencies.\n\nCausing devstack to install this package when Ironic is enabled will\nalso help users who wish to test Ironic against physical hardware that\nhas IPMI support, without having to perform additional manual steps\n(like enabling the pxe_ipmitool driver and installing the ipmitool\npackge by hand).\n\nChange-Id: I13da5f8978b280b192f9b033c348a11bfc44c9d2\n'}]",0,99723,23a64e2af8690e6c21c2e32b3f890c4ed854b74a,17,8,2,2889,,,0,"Install 'ipmitool' package for Ironic

Ironic's reference / recommended driver is the ""pxe_ipmitool"" driver,
which requires the 'ipmitool' package and system binary. Thus,
devstack should install it.

Also, Ironic will soon be validating that ipmitool is present in the
system path when loading the pxe_ipmitool driver, as it does for other
drivers (seamicro, pyghmi) that have external dependencies.

Causing devstack to install this package when Ironic is enabled will
also help users who wish to test Ironic against physical hardware that
has IPMI support, without having to perform additional manual steps
(like enabling the pxe_ipmitool driver and installing the ipmitool
packge by hand).

Change-Id: I13da5f8978b280b192f9b033c348a11bfc44c9d2
",git fetch https://review.opendev.org/openstack/devstack refs/changes/23/99723/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/apts/ironic', 'files/rpms/ironic']",2,730ec684d04d9d57d4ae6e90eb7d6e9302ed99c4,install-ipmitool,ipmitool,,2,0
openstack%2Fnova~master~Icfe4d6c08f42296c756d1f9ab7c88b52e3209d84,openstack/nova,master,Icfe4d6c08f42296c756d1f9ab7c88b52e3209d84,Fix object change detection,MERGED,2014-06-03 15:19:16.000000000,2014-06-15 01:47:05.000000000,2014-06-14 16:50:17.000000000,"[{'_account_id': 3}, {'_account_id': 642}, {'_account_id': 1561}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11069}]","[{'number': 1, 'created': '2014-06-03 15:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90bf6add0d9c2d0270f297d9b689ed8c04c26737', 'message': 'Fix object change detection\n\nThe current object change detection actually just hashed the method\nargspecs of the remotable decorators instead of the wrapped methods\nthemselves. This patch fixes that by stashing a pointer to the\noriginal function, which is used for the hash and will be useful\nfor other inspection-related tasks as well.\n\nThis also adds a utility to help when regenerating the hashes,\nsimilar to what we do for API samples. Running the unit tests like\nthis will give you an object_hashes.txt output file:\n\n  GENERATE_HASHES=y tox TestObjectVersions\n\nChange-Id: Icfe4d6c08f42296c756d1f9ab7c88b52e3209d84\n'}, {'number': 2, 'created': '2014-06-04 18:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7065d870ccbb425db5d7d6fe35e20faf86fcb888', 'message': 'Fix object change detection\n\nThe current object change detection actually just hashed the method\nargspecs of the remotable decorators instead of the wrapped methods\nthemselves. This patch fixes that by stashing a pointer to the\noriginal function, which is used for the hash and will be useful\nfor other inspection-related tasks as well.\n\nThis also adds a utility to help when regenerating the hashes,\nsimilar to what we do for API samples. Running the unit tests like\nthis will give you an object_hashes.txt output file:\n\n  GENERATE_HASHES=y tox TestObjectVersions\n\nChange-Id: Icfe4d6c08f42296c756d1f9ab7c88b52e3209d84\n'}, {'number': 3, 'created': '2014-06-14 06:09:41.000000000', 'files': ['nova/objects/base.py', 'nova/tests/objects/test_objects.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/429cd4bb6a1c86b2e581a011d9e5075f9062fcb6', 'message': 'Fix object change detection\n\nThe current object change detection actually just hashed the method\nargspecs of the remotable decorators instead of the wrapped methods\nthemselves. This patch fixes that by stashing a pointer to the\noriginal function, which is used for the hash and will be useful\nfor other inspection-related tasks as well.\n\nThis also adds a utility to help when regenerating the hashes,\nsimilar to what we do for API samples. Running the unit tests like\nthis will give you an object_hashes.txt output file:\n\n  GENERATE_HASHES=y tox TestObjectVersions\n\nChange-Id: Icfe4d6c08f42296c756d1f9ab7c88b52e3209d84\n'}]",5,97538,429cd4bb6a1c86b2e581a011d9e5075f9062fcb6,43,10,3,4393,,,0,"Fix object change detection

The current object change detection actually just hashed the method
argspecs of the remotable decorators instead of the wrapped methods
themselves. This patch fixes that by stashing a pointer to the
original function, which is used for the hash and will be useful
for other inspection-related tasks as well.

This also adds a utility to help when regenerating the hashes,
similar to what we do for API samples. Running the unit tests like
this will give you an object_hashes.txt output file:

  GENERATE_HASHES=y tox TestObjectVersions

Change-Id: Icfe4d6c08f42296c756d1f9ab7c88b52e3209d84
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/97538/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/base.py', 'nova/tests/objects/test_objects.py']",2,90bf6add0d9c2d0270f297d9b689ed8c04c26737,fix_test_object_leaks_in_fields_tests,"import os import pprint 'Aggregate': '1.1-87fe544717c647ed7905c7f72aa4db97', 'AggregateList': '1.1-0824d3cd3ca542b3594653fd50897b16', 'BlockDeviceMapping': '1.1-1ba7cfbd4617a9f692ebe906de6822d5', 'BlockDeviceMappingList': '1.2-48178b80e82bd20d88e20d15d779e800', 'ComputeNode': '1.3-6de90e27638d4c5e8e4d53e695455a55', 'ComputeNodeList': '1.2-9be20025d38e9ce18d8dc6fc497fa4ad', 'DNSDomain': '1.0-29ea09d5b2ad316a22e80ba3eb97d118', 'DNSDomainList': '1.0-bb8054876b89be39a9038dbf1bd82613', 'FixedIP': '1.1-7cc16f9e7bca593551d1111f04f1197f', 'FixedIPList': '1.1-7ba6079fe15049022c3cee11c4aec3ff', 'Flavor': '1.0-f45ad260a6819a06cff5bb8d71bc3ab2', 'FlavorList': '1.0-a3673f466f45e9197ba9fa5a00792f8d', 'FloatingIP': '1.1-4ff6476cc1e0fe5f5a402c6c1fe15cb1', 'FloatingIPList': '1.1-21e94361b165389e878a598350301643', 'Instance': '1.13-95d28b3ca0011ebe29e273977c066bef', 'InstanceAction': '1.1-eb47496fdf2e16b856e4799d505f3181', 'InstanceActionEvent': '1.0-b8f02c7025928866f63ff8efca42f92a', 'InstanceActionEventList': '1.0-f0c21ee905e3c08a3eddbf4569f00731', 'InstanceActionList': '1.0-c7ff176a60b84f39e5732cca70fdfef2', 'InstanceFault': '1.2-700b9e1d5d5436c7b78932d584e54e9e', 'InstanceFaultList': '1.1-decf61d8867e5701e409527360544013', 'InstanceGroup': '1.6-430f0f0f1e8288bc6907525ffd62d0a4', 'InstanceGroupList': '1.2-5afd8608d816b58188d174be8d47dac3', 'InstanceInfoCache': '1.5-d580d7185911a9501389dce3c65b8f02', 'InstanceList': '1.6-465b314ac65ef20098c00cea2d84b4f0', 'KeyPair': '1.1-6aecdfd0d0f19e69986c2efc49bc82b6', 'KeyPairList': '1.0-3fcab2beb83ef5ead481fe98bc0538aa', 'Migration': '1.1-62b33601fff83480ce431af5cd86c682', 'MigrationList': '1.1-8381ec51b806fbff648cdc312996ba9b', 'MyObj': '1.5-53a8beac17b95a689932f24f36cccd28', 'Network': '1.1-eb1c39ee4b123f3d13dd488dec3106d8', 'NetworkList': '1.1-d359164c2251bd8da0896275bf6a2844', 'PciDevice': '1.1-f850e00866906e7c6c49f3b1fc850753', 'PciDeviceList': '1.0-39827be6b6ecf2de5a810f514bc45edf', 'Quotas': '1.0-44c3f3a746a55a40f3f0fd6b7032d344', 'SecurityGroup': '1.1-0027c1af21a74fa27f1afb09895d181e', 'SecurityGroupList': '1.0-af943539dd4c72025160b23a3bf9b3a8', 'SecurityGroupRule': '1.0-768b37517bc157b3d34cfaadffa1fb4f', 'SecurityGroupRuleList': '1.0-5721da0d8b9682f9b278be90f98f5add', 'Service': '1.2-ef34aa077dac1adb68dc3140447aee65', 'ServiceList': '1.0-a75fa0e5a09e8eeb5113ed2da9101add', 'TestSubclassedObject': '1.5-be34280a4b1204c59d000316b10f6b7f', 'VirtualInterface': '1.0-0b42dd3d6c1c8af60c653dc01307f892', 'VirtualInterfaceList': '1.0-461c0bc873cd6a5f798a161d5c18891f', 'VolumeMapping': '1.0-e88260a3c2aa6ae6ee89f2072c8cc6ab', } def setUp(self): super(TestObjectVersions, self).setUp() self._fingerprints = {} methods[name] = inspect.getargspec(thing.original_fn) self._fingerprints[obj_name] = actual_fingerprint if os.getenv('GENERATE_HASHES'): return if os.getenv('GENERATE_HASHES'): file('object_hashes.txt', 'w').write( pprint.pformat(self._fingerprints)) raise test.TestingException( 'Generated hashes in object_hashes.txt')"," 'Aggregate': '1.1-1d96b82d2f0ad66ad1d49313f08eca71', 'AggregateList': '1.1-dbb5bafde58c263c1fd132c33d68ba77', 'BlockDeviceMapping': '1.1-d44030deca25ebf8efcb4f3d12429677', 'BlockDeviceMappingList': '1.2-d0f559a2510ea2beab5478e5118a69f9', 'ComputeNode': '1.3-da09be1ff8b43f9889f2bb4e43b5686e', 'ComputeNodeList': '1.2-be44294fa7d0deef6146863836adb1e5', 'DNSDomain': '1.0-f0467d23e2c8b567469cdcd6a9708615', 'DNSDomainList': '1.0-47ffa72c29119d19fc8d3854ae49f094', 'FixedIP': '1.1-e3ceee4d62b52320707db6f730338531', 'FixedIPList': '1.1-c944566e2e21af32432d7b7c35018831', 'Flavor': '1.0-4f0c857e5bf5627a40d04ba249f9e31b', 'FlavorList': '1.0-47ffa72c29119d19fc8d3854ae49f094', 'FloatingIP': '1.1-ee1245f7df59fcd081e3bffe3411e822', 'FloatingIPList': '1.1-a5c220af1c55f2aa3d2d14771bbca668', 'Instance': '1.13-552999d3072d5aa7b31493d3c2ee551e', 'InstanceAction': '1.1-abef7ec3247d587bdef78bf47744c6ee', 'InstanceActionEvent': '1.0-3b23bda6f8431fd2ab27489275a150ab', 'InstanceActionEventList': '1.0-6f8bfe29181b175400069c8a47f6e618', 'InstanceActionList': '1.0-d0f559a2510ea2beab5478e5118a69f9', 'InstanceFault': '1.2-c85a5ecc4f4a82a26c9da95d947a719d', 'InstanceFaultList': '1.1-6e250b18ac45ea63a3478a4b365b009f', 'InstanceGroup': '1.6-c17ebff3c3453108370362a8f22b8d48', 'InstanceGroupList': '1.2-176452f4f090408eb1b9d631957f996b', 'InstanceInfoCache': '1.5-04937dde0e8409eb87bc04f3514736ba', 'InstanceList': '1.6-086b5de1c23af9e023fa10dd2e8c6a69', 'KeyPair': '1.1-30e67207cd4d0a3a044b5805f252a60c', 'KeyPairList': '1.0-ab564b050224c1945febb24ce84c9524', 'Migration': '1.1-c90e531ec87739decb31026c05100964', 'MigrationList': '1.1-add1d472f38ee759f9d717b9824e07a4', 'MyObj': '1.5-2cb1447b872ebaf439eff9c678af8bf4', 'Network': '1.1-faba26d0290395456f9a040584c4364b', 'NetworkList': '1.1-eaafb55cf6b571581df685127cd687c1', 'OtherTestableObject': '1.0-b43ae164bcf53764db6a54270af71b86', 'PciDevice': '1.1-637f3dddb48197d2a69e41bd1144a3c5', 'PciDeviceList': '1.0-80491949ec8ac90cbbd1ea153adcb4ef', 'Quotas': '1.0-759987de0abbb6e4428bba7c6bdf8e9e', 'SecurityGroup': '1.1-0a71e19e0b5bd790e6bf882afcb71d4c', 'SecurityGroupList': '1.0-ae82c19e66b17d506e25f8d49576db1f', 'SecurityGroupRule': '1.0-96cdebd0294fd834e3e4249238c76eb9', 'SecurityGroupRuleList': '1.0-790df2265ff6d41794f60decdf9dd080', 'Service': '1.2-16a7d0f0d41e423deefb804ca2aeb51d', 'ServiceList': '1.0-35c5e3a116de08c1655d5fc3ecbe6549', 'TestableObject': '1.0-b43ae164bcf53764db6a54270af71b86', 'TestSubclassedObject': '1.5-f5f524f005954e2e351f20bd58cb74fb', 'VirtualInterface': '1.0-022c3e84a172f8302a0f8c4407bc92a2', 'VirtualInterfaceList': '1.0-59568968ee1ac0e796c7ebbf8354d65d', 'VolumeMapping': '1.0-b97464d4e338688d04a46d5c1740423d', } methods[name] = inspect.getargspec(thing)",71,53
openstack%2Fdevstack~master~If6b1e623f9d146c2430dc8a4a007997290b90846,openstack/devstack,master,If6b1e623f9d146c2430dc8a4a007997290b90846,a more proper default nic selection criteria,MERGED,2014-06-05 23:07:11.000000000,2014-06-15 01:32:24.000000000,2014-06-15 01:32:23.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 2750}, {'_account_id': 5892}, {'_account_id': 7118}, {'_account_id': 7350}, {'_account_id': 8871}, {'_account_id': 9009}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-05 23:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0359b6f8cafb1a3cb5822840c3eda4af7cc5e64b', 'message': 'a more proper default nic selection criteria\n\nlook at all interfaces that ip link shows as being up, then filter\nthem for ^e or ^p devices. Should hold even after the bridges get\nbuilt.\n\nChange-Id: If6b1e623f9d146c2430dc8a4a007997290b90846\n'}, {'number': 2, 'created': '2014-06-05 23:10:02.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/fdb920c31dcb9998aa501c8f5e73d9bb29351142', 'message': 'a more proper default nic selection criteria\n\nlook at all interfaces that ip link shows as being up, then filter\nthem for ^e or ^p devices. Should hold even after the bridges get\nbuilt.\n\nChange-Id: If6b1e623f9d146c2430dc8a4a007997290b90846\n'}]",0,98272,fdb920c31dcb9998aa501c8f5e73d9bb29351142,44,9,2,2750,,,0,"a more proper default nic selection criteria

look at all interfaces that ip link shows as being up, then filter
them for ^e or ^p devices. Should hold even after the bridges get
built.

Change-Id: If6b1e623f9d146c2430dc8a4a007997290b90846
",git fetch https://review.opendev.org/openstack/devstack refs/changes/72/98272/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,0359b6f8cafb1a3cb5822840c3eda4af7cc5e64b,nic_selection,GUEST_INTERFACE_DEFAULT=$(ip link \ | grep 'state UP' \ | awk '{print $2}' \ | sed 's/://' \ | grep ^[ep] \ | sort \ | head -1),GUEST_INTERFACE_DEFAULT=$(route -n | awk '{print $8}' | grep ^[ep] | sort | head -1),7,1
openstack%2Fnova~master~Iab48856c0432af0b9483e9868c2e235de75fdd51,openstack/nova,master,Iab48856c0432af0b9483e9868c2e235de75fdd51,Deprecate instance_get_by_uuid() from conductor,MERGED,2014-05-29 21:02:11.000000000,2014-06-15 01:28:14.000000000,2014-06-15 01:28:12.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 2271}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 6873}, {'_account_id': 8430}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11258}]","[{'number': 1, 'created': '2014-05-29 21:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8b170880ae1f9fefde23c3f22caa6a76fd4e291', 'message': 'Deprecate instance_get_by_uuid() from conductor\n\nAside from a few trivial-to-fix places in the unit tests, the\nconductor instance_get_by_uuid() method is no longer used. This\ndeprecates it and cleans up the few places that were trivially\ntouching it.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Iab48856c0432af0b9483e9868c2e235de75fdd51\n'}, {'number': 2, 'created': '2014-05-29 21:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ecce7e263edfdb89c880647f737912146a0ae777', 'message': 'Deprecate instance_get_by_uuid() from conductor\n\nAside from a few trivial-to-fix places in the unit tests, the\nconductor instance_get_by_uuid() method is no longer used. This\ndeprecates it and cleans up the few places that were trivially\ntouching it.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Iab48856c0432af0b9483e9868c2e235de75fdd51\n'}, {'number': 3, 'created': '2014-05-30 14:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/edd711e4a2473fd683e9fddf939004fa9f82ff86', 'message': 'Deprecate instance_get_by_uuid() from conductor\n\nAside from a few trivial-to-fix places in the unit tests, the\nconductor instance_get_by_uuid() method is no longer used. This\ndeprecates it and cleans up the few places that were trivially\ntouching it.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Iab48856c0432af0b9483e9868c2e235de75fdd51\n'}, {'number': 4, 'created': '2014-06-02 14:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f679c88a781f14262dc966d1f3e1cef62087b551', 'message': 'Deprecate instance_get_by_uuid() from conductor\n\nAside from a few trivial-to-fix places in the unit tests, the\nconductor instance_get_by_uuid() method is no longer used. This\ndeprecates it and cleans up the few places that were trivially\ntouching it.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Iab48856c0432af0b9483e9868c2e235de75fdd51\n'}, {'number': 5, 'created': '2014-06-03 20:59:25.000000000', 'files': ['nova/tests/network/test_neutronv2.py', 'nova/conductor/rpcapi.py', 'nova/conductor/api.py', 'nova/tests/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/compute/test_compute.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1d340cc79baa9124ce15b3bbd9726da363aa6e6d', 'message': 'Deprecate instance_get_by_uuid() from conductor\n\nAside from a few trivial-to-fix places in the unit tests, the\nconductor instance_get_by_uuid() method is no longer used. This\ndeprecates it and cleans up the few places that were trivially\ntouching it.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: Iab48856c0432af0b9483e9868c2e235de75fdd51\n'}]",0,96587,1d340cc79baa9124ce15b3bbd9726da363aa6e6d,64,15,5,4393,,,0,"Deprecate instance_get_by_uuid() from conductor

Aside from a few trivial-to-fix places in the unit tests, the
conductor instance_get_by_uuid() method is no longer used. This
deprecates it and cleans up the few places that were trivially
touching it.

Related to blueprint compute-manager-objects-juno

Change-Id: Iab48856c0432af0b9483e9868c2e235de75fdd51
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/96587/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/network/test_neutronv2.py', 'nova/conductor/rpcapi.py', 'nova/conductor/api.py', 'nova/tests/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/compute/test_compute.py']",6,d8b170880ae1f9fefde23c3f22caa6a76fd4e291,bp/compute-manager-objects-juno," return objects.Instance.get_by_uuid(self.admin_ctxt, self.instance['uuid'])"," return self.compute.conductor_api.instance_get_by_uuid(self.admin_ctxt, self.instance['uuid'])",11,25
openstack%2Fpython-openstackclient~master~I44f13a22528824a8b24ffb3b0e3075e870e5ee58,openstack/python-openstackclient,master,I44f13a22528824a8b24ffb3b0e3075e870e5ee58,Updated from global requirements,MERGED,2014-05-28 21:00:05.000000000,2014-06-15 00:17:46.000000000,2014-06-15 00:17:45.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 6482}, {'_account_id': 8736}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-05-28 21:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1df7b36939839cbd4c9ff9f0abe4105bd96117b5', 'message': 'Updated from global requirements\n\nChange-Id: I44f13a22528824a8b24ffb3b0e3075e870e5ee58\n'}, {'number': 2, 'created': '2014-05-29 13:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4c8819386f817476c1473736abc716bd8706702b', 'message': 'Updated from global requirements\n\nChange-Id: I44f13a22528824a8b24ffb3b0e3075e870e5ee58\n'}, {'number': 3, 'created': '2014-05-30 16:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e027503d466726db7d5c77b7f8a0b591266ac14e', 'message': 'Updated from global requirements\n\nChange-Id: I44f13a22528824a8b24ffb3b0e3075e870e5ee58\n'}, {'number': 4, 'created': '2014-06-10 10:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d393ca4cadc7e203acb5b92e3f2b22d6614c33a9', 'message': 'Updated from global requirements\n\nChange-Id: I44f13a22528824a8b24ffb3b0e3075e870e5ee58\n'}, {'number': 5, 'created': '2014-06-10 14:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/21fa073507ec7432672efd9eecc45c153fcddcaf', 'message': 'Updated from global requirements\n\nChange-Id: I44f13a22528824a8b24ffb3b0e3075e870e5ee58\n'}, {'number': 6, 'created': '2014-06-11 01:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fca8a8cb5341b2e9ff8ed17dd31e4aacf53373f9', 'message': 'Updated from global requirements\n\nChange-Id: I44f13a22528824a8b24ffb3b0e3075e870e5ee58\n'}, {'number': 7, 'created': '2014-06-13 22:57:29.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5805596013435835842f9b050485f554e8758a02', 'message': 'Updated from global requirements\n\nChange-Id: I44f13a22528824a8b24ffb3b0e3075e870e5ee58\n'}]",0,96269,5805596013435835842f9b050485f554e8758a02,48,5,7,11131,,,0,"Updated from global requirements

Change-Id: I44f13a22528824a8b24ffb3b0e3075e870e5ee58
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/69/96269/7 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1df7b36939839cbd4c9ff9f0abe4105bd96117b5,openstack/requirements,"sphinx>=1.2.1,<1.3","sphinx>=1.1.2,<1.2",1,1
openstack%2Fpycadf~master~Id92d86233774000012f325c981df6772f64c33dd,openstack/pycadf,master,Id92d86233774000012f325c981df6772f64c33dd,Bump hacking to 0.9.x series,MERGED,2014-06-12 01:57:46.000000000,2014-06-15 00:13:44.000000000,2014-06-15 00:13:43.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6537}]","[{'number': 1, 'created': '2014-06-12 01:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pycadf/commit/c27794d2927aae39c402ad4bf22f092f8b66274d', 'message': 'Bump hacking to 0.9.x series\n\nChange-Id: Id92d86233774000012f325c981df6772f64c33dd\n'}, {'number': 2, 'created': '2014-06-12 11:52:04.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/pycadf/commit/ff1a8abb5d15f7cfa792c2b2f9ea974602bdef18', 'message': 'Bump hacking to 0.9.x series\n\nIn order to keep this patch to just a requirements bump, ignore new and\nstricter hacking rules that are being triggered. Fixing up the code and\nturning these on is out of scope of this patch and is for future patches.\n\nChange-Id: Id92d86233774000012f325c981df6772f64c33dd\n'}]",0,99542,ff1a8abb5d15f7cfa792c2b2f9ea974602bdef18,13,3,2,5638,,,0,"Bump hacking to 0.9.x series

In order to keep this patch to just a requirements bump, ignore new and
stricter hacking rules that are being triggered. Fixing up the code and
turning these on is out of scope of this patch and is for future patches.

Change-Id: Id92d86233774000012f325c981df6772f64c33dd
",git fetch https://review.opendev.org/openstack/pycadf refs/changes/42/99542/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c27794d2927aae39c402ad4bf22f092f8b66274d,,"hacking>=0.9.1,<0.10","hacking>=0.8.0,<0.9",1,1
openstack%2Foslo.messaging~master~Idef12bbc94d39c84ee06ddd6d743f3d2f705a8d1,openstack/oslo.messaging,master,Idef12bbc94d39c84ee06ddd6d743f3d2f705a8d1,rabbit/qpid: remove the args/kwargs from ensure(),MERGED,2014-06-13 15:16:34.000000000,2014-06-14 23:20:15.000000000,2014-06-14 23:20:15.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 8041}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-06-13 15:16:34.000000000', 'files': ['oslo/messaging/_drivers/impl_qpid.py', 'oslo/messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d7b85a1492030f18b649730da0da81e6d795f685', 'message': ""rabbit/qpid: remove the args/kwargs from ensure()\n\nHaving an *args list following the retry kwargs just screams:\n\n  SyntaxError: non-keyword arg after keyword arg\n\nbut we don't actually pass any args to methods invoked via ensure() so\nthese are just unused and can be removed. If we did want them in future\nwe could just use functools.partial().\n\nChange-Id: Idef12bbc94d39c84ee06ddd6d743f3d2f705a8d1\n""}]",0,99954,d7b85a1492030f18b649730da0da81e6d795f685,12,5,1,1247,,,0,"rabbit/qpid: remove the args/kwargs from ensure()

Having an *args list following the retry kwargs just screams:

  SyntaxError: non-keyword arg after keyword arg

but we don't actually pass any args to methods invoked via ensure() so
these are just unused and can be removed. If we did want them in future
we could just use functools.partial().

Change-Id: Idef12bbc94d39c84ee06ddd6d743f3d2f705a8d1
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/54/99954/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo/messaging/_drivers/impl_qpid.py', 'oslo/messaging/_drivers/impl_rabbit.py']",2,d7b85a1492030f18b649730da0da81e6d795f685,bug/1282639," def ensure(self, error_callback, method, retry=None): return method()"," def ensure(self, error_callback, method, retry=None, *args, **kwargs): return method(*args, **kwargs)",4,4
openstack%2Foslo.messaging~master~I32086d0abf141c368343bf225d4b021da496c020,openstack/oslo.messaging,master,I32086d0abf141c368343bf225d4b021da496c020,Add transport reconnection retries,MERGED,2014-02-21 10:59:37.000000000,2014-06-14 23:20:13.000000000,2014-06-14 23:20:12.000000000,"[{'_account_id': 3}, {'_account_id': 1247}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 3012}, {'_account_id': 6537}, {'_account_id': 8041}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-02-21 10:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/6787b2905ef1073efbc7d74df6b0a6ae1fa28028', 'message': '[PoC] Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server comeback.\n\nIn most case this is the derised behavior.\n\nBut some, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 2, 'created': '2014-02-21 17:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/116dd40da64159148c16b4396e99c858453a181c', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 3, 'created': '2014-02-21 17:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/bea5b24868768c610c6fa76b736fdc1a5cd2cf06', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 4, 'created': '2014-02-26 08:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/c23b412b8bb227c6b751c9d66b23d588a047ee8b', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 5, 'created': '2014-02-26 12:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/b2f808cee756588dd6706de57619ccd6b8fc4d4a', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 6, 'created': '2014-02-28 11:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/e57261e57330b931070b74e45dbfab6896597e28', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 7, 'created': '2014-03-03 08:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/9e4acf8fcb7799fb9181fda4272b7c094d8195c1', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 8, 'created': '2014-03-03 16:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/029b345d64914fed74a69b8226efe3449125019b', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 9, 'created': '2014-03-03 16:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/25c6f7291c939126f46854c03293cb55e776c9b2', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 10, 'created': '2014-03-04 14:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/08dbcbeec2eb3c5d4e85bda344437915cf3eb356', 'message': '[Do not merge yet] Add transport reconnection retries\n\n!! wait the qpid tests land https://review.openstack.org/#/c/75853/ !!\n!! I will add unittest for qpid too !!\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 11, 'created': '2014-03-06 17:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/c05798ff260fb8038f2ddaaf276eb619e156d76a', 'message': '[Do not merge yet] Add transport reconnection retries\n\n!! wait the qpid tests land https://review.openstack.org/#/c/75853/ !!\n!! I will add unittest for qpid too !!\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 12, 'created': '2014-03-06 17:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/b1d11ff02dd87032348974f3f316ac38ad7a4595', 'message': '[Do not merge yet] Add transport reconnection retries\n\n!! wait the qpid tests land https://review.openstack.org/#/c/75853/ !!\n!! I will add unittest for qpid too !!\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 13, 'created': '2014-03-06 17:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/de5c8317fa2b56647866cac2f4c5c42f15fec119', 'message': '[Do not merge yet] Add transport reconnection retries\n\n!! wait the qpid tests land https://review.openstack.org/#/c/75853/ !!\n!! I will add unittest for qpid too !!\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 14, 'created': '2014-03-07 08:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/c2eecbeb5d3384b251d3bddd91853331b0d6a145', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 15, 'created': '2014-03-07 12:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ff09553056432f41da79a7dcf280906095196d08', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 16, 'created': '2014-03-07 13:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1f7e72bb04586eeeae0efec5e5fcd8ab798c27f9', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 17, 'created': '2014-03-07 13:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/eae4e76229d2b7f954d07ea8a651c282f6081c0d', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 18, 'created': '2014-03-07 13:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d14680e386d1e106ac549fcc08ed59e7332cda74', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 19, 'created': '2014-03-11 12:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d90845f52483c6ac7e4e47d2c4426a81fac74b59', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 20, 'created': '2014-04-04 13:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d6a863873c6e66497d3ba25833158262d2dcbc36', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 21, 'created': '2014-04-04 13:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/02f171937d94605cad9635f709e976cc34403ea6', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 22, 'created': '2014-04-04 14:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d1c0b2918c6bbf3aaa663867fd0788a2d1fff7e1', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 23, 'created': '2014-04-10 07:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/38920db23ab29197c197b9197749f8dea0baa4bc', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\nCo-Authored-By: Ala Rezmerita <ala.rezmerita@cloudwatt.com>\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 24, 'created': '2014-04-16 08:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/f4b699a7c239ecd9e11ada3517e38b15f93c23b4', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\nCo-Authored-By: Ala Rezmerita <ala.rezmerita@cloudwatt.com>\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 25, 'created': '2014-04-22 15:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/42bf84d861692e6a017fbb5e31f1c994d4509c49', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nThis patch allow this.\n\nCloses bug #1282639\nCo-Authored-By: Ala Rezmerita <ala.rezmerita@cloudwatt.com>\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 26, 'created': '2014-05-06 13:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/07537b2872eddbf7c1a26cf5795d50e755e2b1d7', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nFor example in ceilometer, when publishing a\nstorage.objects.incoming.bytes sample from the Swift middleware to an\nAMQP topic, you might not want to block the Swift client if the AMQP broker\nis unavailable - instead, you might have a queueing policy whereby\nif a single reconection attempt fails we queue the sample in memory and\ntry again when another sample is to be published.\n\nThis patch is the oslo.messaging part that allow this.\n\nCloses bug #1282639\nCo-Authored-By: Ala Rezmerita <ala.rezmerita@cloudwatt.com>\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 27, 'created': '2014-05-06 14:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/40f102b3eae049d5720718204984c1859d379e5b', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nFor example in ceilometer, when publishing a\nstorage.objects.incoming.bytes sample from the Swift middleware to an\nAMQP topic, you might not want to block the Swift client if the AMQP broker\nis unavailable - instead, you might have a queueing policy whereby\nif a single reconection attempt fails we queue the sample in memory and\ntry again when another sample is to be published.\n\nThis patch is the oslo.messaging part that allow this.\n\nCloses bug #1282639\nCo-Authored-By: Ala Rezmerita <ala.rezmerita@cloudwatt.com>\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 28, 'created': '2014-05-06 16:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/8e12f0baacbac50fb17cab2043224ddc76b223fc', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nFor example in ceilometer, when publishing a\nstorage.objects.incoming.bytes sample from the Swift middleware to an\nAMQP topic, you might not want to block the Swift client if the AMQP broker\nis unavailable - instead, you might have a queueing policy whereby\nif a single reconection attempt fails we queue the sample in memory and\ntry again when another sample is to be published.\n\nThis patch is the oslo.messaging part that allow this.\n\nCloses bug #1282639\nCo-Authored-By: Ala Rezmerita <ala.rezmerita@cloudwatt.com>\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 29, 'created': '2014-05-06 16:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/a5b99370c4e8c08516f5eecf50d17707ebd4c0d2', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nFor example in ceilometer, when publishing a\nstorage.objects.incoming.bytes sample from the Swift middleware to an\nAMQP topic, you might not want to block the Swift client if the AMQP broker\nis unavailable - instead, you might have a queueing policy whereby\nif a single reconection attempt fails we queue the sample in memory and\ntry again when another sample is to be published.\n\nThis patch is the oslo.messaging part that allow this.\n\nCloses bug #1282639\nCo-Authored-By: Ala Rezmerita <ala.rezmerita@cloudwatt.com>\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 30, 'created': '2014-05-28 07:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/4d6bed4b4bb989981cf072dbda9f8f2c42c86f8d', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nFor example in ceilometer, when publishing a\nstorage.objects.incoming.bytes sample from the Swift middleware to an\nAMQP topic, you might not want to block the Swift client if the AMQP broker\nis unavailable - instead, you might have a queueing policy whereby\nif a single reconection attempt fails we queue the sample in memory and\ntry again when another sample is to be published.\n\nThis patch is the oslo.messaging part that allow this.\n\nCloses bug #1282639\nCo-Authored-By: Ala Rezmerita <ala.rezmerita@cloudwatt.com>\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 31, 'created': '2014-06-06 11:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1af5731c0f1feac15146570f3ad74e0c98fafbbe', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nFor example in ceilometer, when publishing a\nstorage.objects.incoming.bytes sample from the Swift middleware to an\nAMQP topic, you might not want to block the Swift client if the AMQP broker\nis unavailable - instead, you might have a queueing policy whereby\nif a single reconection attempt fails we queue the sample in memory and\ntry again when another sample is to be published.\n\nThis patch is the oslo.messaging part that allow this.\n\nCloses bug #1282639\nCo-Authored-By: Ala Rezmerita <ala.rezmerita@cloudwatt.com>\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}, {'number': 32, 'created': '2014-06-13 14:24:16.000000000', 'files': ['oslo/messaging/_drivers/impl_qpid.py', 'tests/test_qpid.py', 'tests/test_transport.py', 'oslo/messaging/_drivers/impl_zmq.py', 'oslo/messaging/exceptions.py', 'oslo/messaging/_drivers/amqpdriver.py', 'oslo/messaging/transport.py', 'oslo/messaging/_drivers/impl_rabbit.py', 'tests/test_rpc_client.py', 'oslo/messaging/rpc/client.py', 'tests/test_rabbit.py', 'oslo/messaging/_drivers/impl_fake.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/948c05417c7a44f85d3e77bae35e02f5c31834d7', 'message': 'Add transport reconnection retries\n\nWhen a rpc client try to make a RPC call and the server is unreachable\nThe rpc call hang until the server come back.\n\nIn most case this is the desired behavior.\n\nBut sometimes, we can prefer that the library raise an exception after a\ncertain number of retries.\n\nFor example in ceilometer, when publishing a\nstorage.objects.incoming.bytes sample from the Swift middleware to an\nAMQP topic, you might not want to block the Swift client if the AMQP broker\nis unavailable - instead, you might have a queueing policy whereby\nif a single reconection attempt fails we queue the sample in memory and\ntry again when another sample is to be published.\n\nThis patch is the oslo.messaging part that allow this.\n\nCloses bug #1282639\nCo-Authored-By: Ala Rezmerita <ala.rezmerita@cloudwatt.com>\n\nChange-Id: I32086d0abf141c368343bf225d4b021da496c020\n'}]",55,75365,948c05417c7a44f85d3e77bae35e02f5c31834d7,159,9,32,2813,,,0,"Add transport reconnection retries

When a rpc client try to make a RPC call and the server is unreachable
The rpc call hang until the server come back.

In most case this is the desired behavior.

But sometimes, we can prefer that the library raise an exception after a
certain number of retries.

For example in ceilometer, when publishing a
storage.objects.incoming.bytes sample from the Swift middleware to an
AMQP topic, you might not want to block the Swift client if the AMQP broker
is unavailable - instead, you might have a queueing policy whereby
if a single reconection attempt fails we queue the sample in memory and
try again when another sample is to be published.

This patch is the oslo.messaging part that allow this.

Closes bug #1282639
Co-Authored-By: Ala Rezmerita <ala.rezmerita@cloudwatt.com>

Change-Id: I32086d0abf141c368343bf225d4b021da496c020
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/65/75365/32 && git format-patch -1 --stdout FETCH_HEAD,"['oslo/messaging/_drivers/impl_qpid.py', 'oslo/messaging/exceptions.py', 'oslo/messaging/_drivers/amqpdriver.py', 'oslo/messaging/transport.py', 'oslo/messaging/_drivers/impl_rabbit.py', 'oslo/messaging/rpc/client.py', 'oslo/messaging/_drivers/impl_fake.py', 'oslo/messaging/_drivers/impl_zmq.py']",8,6787b2905ef1073efbc7d74df6b0a6ae1fa28028,bug/1282639," def send(self, target, ctxt, message, wait_for_reply=None, timeout=None, retry=None): #NOTE(sileht): retry is not implemented because this driver never #retry anything"," def send(self, target, ctxt, message, wait_for_reply=None, timeout=None):",93,45
openstack%2Foslo.db~master~I632655eb975a9f6c2b922c065c029e9870bc2b70,openstack/oslo.db,master,I632655eb975a9f6c2b922c065c029e9870bc2b70,Bump hacking to 0.9.x series,MERGED,2014-06-12 01:55:25.000000000,2014-06-14 22:53:15.000000000,2014-06-14 22:53:14.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 7491}, {'_account_id': 8041}]","[{'number': 1, 'created': '2014-06-12 01:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/768390365b927b9e5e850e9510d4dbba9d0c45c1', 'message': 'Bump hacking to 0.9.x series\n\nChange-Id: I632655eb975a9f6c2b922c065c029e9870bc2b70\n'}, {'number': 2, 'created': '2014-06-12 11:48:24.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/455b47168f8a09e62f9ffe4d74d26d60d44eea5f', 'message': 'Bump hacking to 0.9.x series\n\nIn order to keep this patch to just a requirements bump, ignore new and\nstricter hacking rules that are being triggered. Fixing up the code and\nturning these on is out of scope of this patch and is for future patches.\n\nChange-Id: I632655eb975a9f6c2b922c065c029e9870bc2b70\n'}]",0,99537,455b47168f8a09e62f9ffe4d74d26d60d44eea5f,14,4,2,5638,,,0,"Bump hacking to 0.9.x series

In order to keep this patch to just a requirements bump, ignore new and
stricter hacking rules that are being triggered. Fixing up the code and
turning these on is out of scope of this patch and is for future patches.

Change-Id: I632655eb975a9f6c2b922c065c029e9870bc2b70
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/37/99537/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,768390365b927b9e5e850e9510d4dbba9d0c45c1,,"hacking>=0.9.1,<0.10","hacking>=0.8.0,<0.9",1,1
openstack%2Fnova~master~I63cf0ac6636e17f2bfcd9d6a859d9ed8612a56e1,openstack/nova,master,I63cf0ac6636e17f2bfcd9d6a859d9ed8612a56e1,Make metadata password routines use Instance object,MERGED,2014-05-29 21:02:11.000000000,2014-06-14 21:24:30.000000000,2014-06-14 21:24:28.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2271}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11258}]","[{'number': 1, 'created': '2014-05-29 21:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07b782df2ad7cd8893027f0faa0217b3ca5c06f5', 'message': 'Make metadata password routines use Instance object\n\nThis replaces existing uses of raw conductor apis for get_by_uuid()\nand instance_update() with objects.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: I63cf0ac6636e17f2bfcd9d6a859d9ed8612a56e1\n'}, {'number': 2, 'created': '2014-05-29 21:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c3930b2d9bd19eaa45a74dc596b20dd59601f9d', 'message': 'Make metadata password routines use Instance object\n\nThis replaces existing uses of raw conductor apis for get_by_uuid()\nand instance_update() with objects.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: I63cf0ac6636e17f2bfcd9d6a859d9ed8612a56e1\n'}, {'number': 3, 'created': '2014-05-30 14:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55ac1776ca33264c197092a176d51f01987103b0', 'message': 'Make metadata password routines use Instance object\n\nThis replaces existing uses of raw conductor apis for get_by_uuid()\nand instance_update() with objects.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: I63cf0ac6636e17f2bfcd9d6a859d9ed8612a56e1\n'}, {'number': 4, 'created': '2014-06-02 14:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/572ec453aab4fea4cd695db80890408ace301dce', 'message': 'Make metadata password routines use Instance object\n\nThis replaces existing uses of raw conductor apis for get_by_uuid()\nand instance_update() with objects.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: I63cf0ac6636e17f2bfcd9d6a859d9ed8612a56e1\n'}, {'number': 5, 'created': '2014-06-03 20:59:25.000000000', 'files': ['nova/api/metadata/password.py', 'nova/tests/test_metadata.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/28224a617075e86e4afb5a312a48c70b4bf5826e', 'message': 'Make metadata password routines use Instance object\n\nThis replaces existing uses of raw conductor apis for get_by_uuid()\nand instance_update() with objects.\n\nRelated to blueprint compute-manager-objects-juno\n\nChange-Id: I63cf0ac6636e17f2bfcd9d6a859d9ed8612a56e1\n'}]",0,96586,28224a617075e86e4afb5a312a48c70b4bf5826e,80,12,5,4393,,,0,"Make metadata password routines use Instance object

This replaces existing uses of raw conductor apis for get_by_uuid()
and instance_update() with objects.

Related to blueprint compute-manager-objects-juno

Change-Id: I63cf0ac6636e17f2bfcd9d6a859d9ed8612a56e1
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/96586/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/metadata/password.py', 'nova/tests/test_metadata.py']",2,07b782df2ad7cd8893027f0faa0217b3ca5c06f5,bp/compute-manager-objects-juno,"import mock @mock.patch('nova.objects.Instance.get_by_uuid') def _try_set_password(self, get_by_uuid, val='bar'): get_by_uuid.return_value = self.instance with mock.patch.object(self.instance, 'save') as save: password.handle_password(request, self.mdinst) save.assert_called_once_with() self.assertIn('password_0', self.instance.system_metadata) val=('a' * (password.MAX_SIZE + 1)))"," def _try_set_password(self, val='bar'): self.stubs.Set(db, 'instance_get_by_uuid', lambda *a, **kw: {'system_metadata': []}) def fake_instance_update(context, uuid, updates): self.assertIn('system_metadata', updates) self.assertIn('password_0', updates['system_metadata']) return self.instance, self.instance self.stubs.Set(db, 'instance_update_and_get_original', fake_instance_update) password.handle_password(request, self.mdinst) 'a' * (password.MAX_SIZE + 1))",13,18
openstack%2Fstevedore~master~I8bf33fb1770511657587c8f7a33acfcf9a351e79,openstack/stevedore,master,I8bf33fb1770511657587c8f7a33acfcf9a351e79,use six.add_metaclass,MERGED,2014-06-10 06:41:11.000000000,2014-06-14 21:24:25.000000000,2014-06-14 21:24:25.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 4491}, {'_account_id': 5638}, {'_account_id': 7641}]","[{'number': 1, 'created': '2014-06-10 06:41:11.000000000', 'files': ['requirements.txt', 'stevedore/example/base.py'], 'web_link': 'https://opendev.org/openstack/stevedore/commit/d9d11fc612444e0b64fa1f35bd3f6ec5cc2bc86a', 'message': 'use six.add_metaclass\n\nUsing six.add_metaclass instead of ""__metaclass__"" for Python 3.x\ncompatibility.\n\nChange-Id: I8bf33fb1770511657587c8f7a33acfcf9a351e79\n'}]",0,98963,d9d11fc612444e0b64fa1f35bd3f6ec5cc2bc86a,19,6,1,7641,,,0,"use six.add_metaclass

Using six.add_metaclass instead of ""__metaclass__"" for Python 3.x
compatibility.

Change-Id: I8bf33fb1770511657587c8f7a33acfcf9a351e79
",git fetch https://review.opendev.org/openstack/stevedore refs/changes/63/98963/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'stevedore/example/base.py']",2,d9d11fc612444e0b64fa1f35bd3f6ec5cc2bc86a,master,import six @six.add_metaclass(abc.ABCMeta), __metaclass__ = abc.ABCMeta ,4,2
openstack%2Fpbr~master~I7c975acdd8a479bc3831c2bc7dfc3675204cb607,openstack/pbr,master,I7c975acdd8a479bc3831c2bc7dfc3675204cb607,Use the current pbr for testpackage tests.,ABANDONED,2014-05-18 18:31:29.000000000,2014-06-14 21:14:16.000000000,,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6786}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-05-18 18:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/1901452bbe08fda7cf2a99992d51818f28399a64', 'message': 'Use the current pbr for testpackage tests.\n\nThe current behaviour easy_installs pbr from pypi, which has\nseveral negatives. Firstly, it makes hacking on pbr on a plane\nrather tricky (as easy_install does not consult environment\nvariables for the index location). Secondly, it means we are\ntesting with the last release, which can mask bugs.\n\nChange-Id: I7c975acdd8a479bc3831c2bc7dfc3675204cb607\n'}, {'number': 2, 'created': '2014-05-26 22:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/88ac269314691a61f66f537f8546a032d5e6e38d', 'message': 'Use the current pbr for testpackage tests.\n\nThe current behaviour easy_installs pbr from pypi, which has\nseveral negatives. Firstly, it makes hacking on pbr on a plane\nrather tricky (as easy_install does not consult environment\nvariables for the index location). Secondly, it means we are\ntesting with the last release, which can mask bugs.\n\nChange-Id: I7c975acdd8a479bc3831c2bc7dfc3675204cb607\n'}, {'number': 3, 'created': '2014-05-28 20:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/573b9e6c2622539ade70ddcf6681bdeba1eb6cd8', 'message': 'Use the current pbr for testpackage tests.\n\nThe current behaviour easy_installs pbr from pypi, which has\nseveral negatives. Firstly, it makes hacking on pbr on a plane\nrather tricky (as easy_install does not consult environment\nvariables for the index location). Secondly, it means we are\ntesting with the last release, which can mask bugs.\n\nChange-Id: I7c975acdd8a479bc3831c2bc7dfc3675204cb607\n'}, {'number': 4, 'created': '2014-06-12 20:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/b0907afc331a4d92a146cb566d34f717bd7e52ab', 'message': 'Use the current pbr for testpackage tests.\n\nThe current behaviour easy_installs pbr from pypi, which has\nseveral negatives. Firstly, it makes hacking on pbr on a plane\nrather tricky (as easy_install does not consult environment\nvariables for the index location). Secondly, it means we are\ntesting with the last release, which can mask bugs.\n\nChange-Id: I7c975acdd8a479bc3831c2bc7dfc3675204cb607\n'}, {'number': 5, 'created': '2014-06-14 20:45:48.000000000', 'files': ['pbr/tests/base.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/13a9031fa16da0f18a0e652578bd23baffe610b0', 'message': 'Use the current pbr for testpackage tests.\n\nThe current behaviour easy_installs pbr from pypi, which has\nseveral negatives. Firstly, it makes hacking on pbr on a plane\nrather tricky (as easy_install does not consult environment\nvariables for the index location). Secondly, it means we are\ntesting with the last release, which can mask bugs.\n\nChange-Id: I7c975acdd8a479bc3831c2bc7dfc3675204cb607\n'}]",0,94107,13a9031fa16da0f18a0e652578bd23baffe610b0,29,5,5,4190,,,0,"Use the current pbr for testpackage tests.

The current behaviour easy_installs pbr from pypi, which has
several negatives. Firstly, it makes hacking on pbr on a plane
rather tricky (as easy_install does not consult environment
variables for the index location). Secondly, it means we are
testing with the last release, which can mask bugs.

Change-Id: I7c975acdd8a479bc3831c2bc7dfc3675204cb607
",git fetch https://review.opendev.org/openstack/pbr refs/changes/07/94107/2 && git format-patch -1 --stdout FETCH_HEAD,['pbr/tests/base.py'],1,1901452bbe08fda7cf2a99992d51818f28399a64,94107,"import pbrpbr_installed = False global pbr_installed if not pbr_installed: root_dir = os.path.abspath(os.path.join(pbr.__file__, '..', '..')) self._run_cmd('pip', ['install', root_dir], allow_fail=False) pbr_installed = True",,9,0
openstack%2Foslo.messaging~master~I5711e066da1076486d291bc4f45359ecb26e1b1a,openstack/oslo.messaging,master,I5711e066da1076486d291bc4f45359ecb26e1b1a,Bump hacking to 0.9.x series,MERGED,2014-06-12 01:55:59.000000000,2014-06-14 19:45:12.000000000,2014-06-14 19:45:12.000000000,"[{'_account_id': 3}, {'_account_id': 1247}, {'_account_id': 2472}, {'_account_id': 8041}]","[{'number': 1, 'created': '2014-06-12 01:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/eb7d455d6978c96dba83417f723c23dd52709ac6', 'message': 'Bump hacking to 0.9.x series\n\nChange-Id: I5711e066da1076486d291bc4f45359ecb26e1b1a\n'}, {'number': 2, 'created': '2014-06-12 11:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d157ebf38c50cd0055a1984f412b70836f475859', 'message': 'Bump hacking to 0.9.x series\n\nIn order to keep this patch to just a requirements bump, ignore new and\nstricter hacking rules that are being triggered. Fixing up the code and\nturning these on is out of scope of this patch and is for future patches.\n\nChange-Id: I5711e066da1076486d291bc4f45359ecb26e1b1a\n'}, {'number': 3, 'created': '2014-06-12 13:53:49.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d0254b736e531d64e88c7029699712f11e3232ed', 'message': 'Bump hacking to 0.9.x series\n\nIn order to keep this patch to just a requirements bump, ignore new and\nstricter hacking rules that are being triggered. Fixing up the code and\nturning these on is out of scope of this patch and is for future patches.\n\nChange-Id: I5711e066da1076486d291bc4f45359ecb26e1b1a\n'}]",0,99538,d0254b736e531d64e88c7029699712f11e3232ed,17,4,3,5638,,,0,"Bump hacking to 0.9.x series

In order to keep this patch to just a requirements bump, ignore new and
stricter hacking rules that are being triggered. Fixing up the code and
turning these on is out of scope of this patch and is for future patches.

Change-Id: I5711e066da1076486d291bc4f45359ecb26e1b1a
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/38/99538/3 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,eb7d455d6978c96dba83417f723c23dd52709ac6,,"hacking>=0.9.1,<0.10","hacking>=0.8.0,<0.9",1,1
openstack%2Foslo.db~master~I9aad455d1466e4b17579253af47bf1b7e51dbc49,openstack/oslo.db,master,I9aad455d1466e4b17579253af47bf1b7e51dbc49,Fix the test using in-file SQLite database,MERGED,2014-05-13 11:46:47.000000000,2014-06-14 19:40:30.000000000,2014-06-14 19:40:30.000000000,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 6849}, {'_account_id': 7491}, {'_account_id': 7536}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-05-13 11:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/6d211c5d7207ce6c70b918f24f46b48a1f75cc13', 'message': 'Fix the test using in-file SQLite database\n\nSQLite in-file uses exclusively lock for database, so the connection\nmust be only one.\nChange-Id: I9aad455d1466e4b17579253af47bf1b7e51dbc49\nCloses-Bug: #1308032\n'}, {'number': 2, 'created': '2014-05-16 14:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/91284be94acc7bfcf503eee7cb24fe22bedb3fa7', 'message': 'Fix the test using in-file SQLite database\n\nSQLite in-file uses exclusively lock for database, so the connection\nmust be only one.\nChange-Id: I9aad455d1466e4b17579253af47bf1b7e51dbc49\nCloses-Bug: #1308032\n'}, {'number': 3, 'created': '2014-05-23 09:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/2326025bb2adf5600179ecb0241c59e6d7b91c60', 'message': 'Fix the test using in-file SQLite database\n\nSQLite in-file uses exclusively lock for database, so the connection\nmust be only one.\nChange-Id: I9aad455d1466e4b17579253af47bf1b7e51dbc49\nCloses-Bug: #1308032\n'}, {'number': 4, 'created': '2014-05-26 13:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/558851869d34e8ffdb1e89e90f777b0333b9439c', 'message': 'Fix the test using in-file SQLite database\n\nSQLite in-file uses exclusively lock for database, so the connection\nmust be only one.\nChange-Id: I9aad455d1466e4b17579253af47bf1b7e51dbc49\nCloses-Bug: #1308032\n'}, {'number': 5, 'created': '2014-05-27 08:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/31df8eb3a049d851e2f24f9fc7b1024d454b9ff2', 'message': 'Fix the test using in-file SQLite database\n\nSQLite in-file uses exclusively lock for database, so the connection\nmust be only one.\nChange-Id: I9aad455d1466e4b17579253af47bf1b7e51dbc49\nCloses-Bug: #1308032\n'}, {'number': 6, 'created': '2014-05-27 09:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/4f10c2c7b3f8445a073615f1f72bbeef077fdfdb', 'message': 'Fix the test using in-file SQLite database\n\nSQLite in-file uses exclusively lock for database, so the connection\nmust be only one.\nChange-Id: I9aad455d1466e4b17579253af47bf1b7e51dbc49\nCloses-Bug: #1308032\n'}, {'number': 7, 'created': '2014-05-28 08:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/6b2df97052dd235aec68d98b993152994371d606', 'message': 'Fix the test using in-file SQLite database\n\nSQLite in-file uses exclusively lock for database, so the connection\nmust be only one.\nChange-Id: I9aad455d1466e4b17579253af47bf1b7e51dbc49\nCloses-Bug: #1308032\n'}, {'number': 8, 'created': '2014-05-29 15:21:44.000000000', 'files': ['tests/sqlalchemy/test_utils.py', 'oslo/db/sqlalchemy/utils.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/89833d8278e753d6a19645268c1b4181163b9c06', 'message': 'Fix the test using in-file SQLite database\n\nSQLite in-file uses exclusively lock for database, so the connection\nmust be only one.\nChange-Id: I9aad455d1466e4b17579253af47bf1b7e51dbc49\nCloses-Bug: #1308032\n'}]",8,93423,89833d8278e753d6a19645268c1b4181163b9c06,66,6,8,7536,,,0,"Fix the test using in-file SQLite database

SQLite in-file uses exclusively lock for database, so the connection
must be only one.
Change-Id: I9aad455d1466e4b17579253af47bf1b7e51dbc49
Closes-Bug: #1308032
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/23/93423/8 && git format-patch -1 --stdout FETCH_HEAD,['oslo/db/sqlalchemy/utils.py'],1,6d211c5d7207ce6c70b918f24f46b48a1f75cc13,bug/1308032," with migrate_engine.begin() as conn: for row in conn.execute(duplicated_rows_select): # NOTE(boris-42): Do not remove row that has the biggest ID. delete_condition = table.c.id != row[0] is_none = None # workaround for pyflakes delete_condition &= table.c.deleted_at == is_none for name in uc_column_names: delete_condition &= table.c[name] == row[name] rows_to_delete_select = sqlalchemy.sql.select( [table.c.id]).where(delete_condition) for row in conn.execute(rows_to_delete_select): LOG.info(_LI( ""Deleting duplicated row with id: %(id)s from table: "" ""%(table)s"") % dict(id=row[0], table=table_name)) if use_soft_delete: delete_statement = table.update().\ where(delete_condition).\ values({ 'deleted': literal_column('id'), 'updated_at': literal_column('updated_at'), 'deleted_at': timeutils.utcnow() }) else: delete_statement = table.delete().where(delete_condition) conn.execute(delete_statement)"," for row in migrate_engine.execute(duplicated_rows_select): # NOTE(boris-42): Do not remove row that has the biggest ID. delete_condition = table.c.id != row[0] is_none = None # workaround for pyflakes delete_condition &= table.c.deleted_at == is_none for name in uc_column_names: delete_condition &= table.c[name] == row[name] rows_to_delete_select = sqlalchemy.sql.select( [table.c.id]).where(delete_condition) for row in migrate_engine.execute(rows_to_delete_select).fetchall(): LOG.info(_LI(""Deleting duplicated row with id: %(id)s from table: "" ""%(table)s"") % dict(id=row[0], table=table_name)) if use_soft_delete: delete_statement = table.update().\ where(delete_condition).\ values({ 'deleted': literal_column('id'), 'updated_at': literal_column('updated_at'), 'deleted_at': timeutils.utcnow() }) else: delete_statement = table.delete().where(delete_condition) migrate_engine.execute(delete_statement)",25,23
openstack%2Fneutron~master~I66901c0c42472be1aadab803958932bcb9be8ee1,openstack/neutron,master,I66901c0c42472be1aadab803958932bcb9be8ee1,Sync service module from oslo-incubator,MERGED,2014-06-05 21:44:05.000000000,2014-06-14 19:31:37.000000000,2014-06-13 21:20:17.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 5756}, {'_account_id': 5948}, {'_account_id': 6072}, {'_account_id': 7448}, {'_account_id': 8655}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10387}, {'_account_id': 10503}]","[{'number': 1, 'created': '2014-06-05 21:44:05.000000000', 'files': ['neutron/openstack/common/service.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f9aaa9fdfa42b097b0c4f37d0be98875cc6482c3', 'message': 'Sync service module from oslo-incubator\n\nThis is needed for the stop method now implemented in service.py used here:\nhttps://review.openstack.org/#/c/72564\n\nCurrent oslo-incubator commit on HEAD\nad3c887fbfc81ac3502a3e49c1ed6c2824029c25\n\nChange-Id: I66901c0c42472be1aadab803958932bcb9be8ee1\n'}]",0,98259,f9aaa9fdfa42b097b0c4f37d0be98875cc6482c3,43,20,1,7448,,,0,"Sync service module from oslo-incubator

This is needed for the stop method now implemented in service.py used here:
https://review.openstack.org/#/c/72564

Current oslo-incubator commit on HEAD
ad3c887fbfc81ac3502a3e49c1ed6c2824029c25

Change-Id: I66901c0c42472be1aadab803958932bcb9be8ee1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/98259/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/openstack/common/service.py'],1,f9aaa9fdfa42b097b0c4f37d0be98875cc6482c3,," systemd.notify_once() LOG.info(_LI('Child caught %s, exiting'), signame) systemd.notify_once() # No signal means that stop was called. Don't clean up here. if not self.sigcaught: return signame = _signo_to_signame(self.sigcaught) LOG.info(_LI('Caught %s, stopping children'), signame) self.stop() def stop(self): """"""Terminate child processes and wait on each."""""" self.running = False"," LOG.info(_LI('Caught %s, exiting'), signame) if self.sigcaught: signame = _signo_to_signame(self.sigcaught) LOG.info(_LI('Caught %s, stopping children'), signame) systemd.notify_once()",14,5
openstack%2Foslo.db~master~I9a1b76ed261c69a92cc3e4e6b6100e43f98fea1e,openstack/oslo.db,master,I9a1b76ed261c69a92cc3e4e6b6100e43f98fea1e,Adding dependency documentation for MySQL.,MERGED,2014-06-05 13:05:14.000000000,2014-06-14 19:28:00.000000000,2014-06-14 19:28:00.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 7491}, {'_account_id': 7923}, {'_account_id': 8041}, {'_account_id': 8871}, {'_account_id': 11716}]","[{'number': 1, 'created': '2014-06-05 13:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/ba3ff89ebfdb9b814e784edc26936d661e29d057', 'message': 'Adding dependency documentation for MySQL.\n\nChange-Id: I9a1b76ed261c69a92cc3e4e6b6100e43f98fea1e\n'}, {'number': 2, 'created': '2014-06-05 13:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/44d67f420a2ecf13fde6ce598dda3d5ec110535e', 'message': 'Adding dependency documentation for MySQL.\n\nChange-Id: I9a1b76ed261c69a92cc3e4e6b6100e43f98fea1e\n'}, {'number': 3, 'created': '2014-06-05 13:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/f48f5fb312e866f6740ce08d13a02985247e70cc', 'message': 'Adding dependency documentation for MySQL.\n\nChange-Id: I9a1b76ed261c69a92cc3e4e6b6100e43f98fea1e\n'}, {'number': 4, 'created': '2014-06-05 13:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/0e60b8292665b1f72f5b4fc32466ecf98336c4cc', 'message': 'Adding dependency documentation for MySQL.\n\nChange-Id: I9a1b76ed261c69a92cc3e4e6b6100e43f98fea1e\n'}, {'number': 5, 'created': '2014-06-13 13:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/960182031b72bd9a3cb0e192aba4a862292409be', 'message': 'Adding dependency documentation for MySQL.\nMerging change I347e1c235bc82d6e510761f4b1c3c3de62994c2f fixing pip\ninfo.\n\nChange-Id: I9a1b76ed261c69a92cc3e4e6b6100e43f98fea1e\n'}, {'number': 6, 'created': '2014-06-13 13:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/c3371fd45b019195adc684880b08a51211f25fe9', 'message': 'Adding dependency documentation for MySQL.\nMerging change I347e1c235bc82d6e510761f4b1c3c3de62994c2f fixing pip\ninfo.\n\nCo-Authored-By: Gauvain Pocentek <gauvain.pocentek@objectif-libre.com>\n\nChange-Id: I9a1b76ed261c69a92cc3e4e6b6100e43f98fea1e\n'}, {'number': 7, 'created': '2014-06-13 13:32:22.000000000', 'files': ['doc/source/installation.rst'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/b2c64e45d58e5dfcd98dd353ad9a6f32efd4134f', 'message': 'Adding dependency documentation for MySQL.\n\nMerging change I347e1c235bc82d6e510761f4b1c3c3de62994c2f fixing pip\ninfo.\n\nCo-Authored-By: Gauvain Pocentek <gauvain.pocentek@objectif-libre.com>\n\nChange-Id: I9a1b76ed261c69a92cc3e4e6b6100e43f98fea1e\n'}]",6,98105,b2c64e45d58e5dfcd98dd353ad9a6f32efd4134f,54,7,7,11716,,,0,"Adding dependency documentation for MySQL.

Merging change I347e1c235bc82d6e510761f4b1c3c3de62994c2f fixing pip
info.

Co-Authored-By: Gauvain Pocentek <gauvain.pocentek@objectif-libre.com>

Change-Id: I9a1b76ed261c69a92cc3e4e6b6100e43f98fea1e
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/05/98105/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/installation.rst'],1,ba3ff89ebfdb9b814e784edc26936d661e29d057,documentation-MySQL, $ pip install If using MySQL (required for tox tests) make sure to instal the mysql client development package for your distro. On Ubuntu this is done as follows:: $ sudo apt-get install libmysqlclient-dev $ pip install MySQL-python The installation of MySQL-python will fail if libmysqlclient-dev is not installed first. Note that even in a virtual environment the MySQL package will be installed system wide. , $ pip install ,8,1
openstack%2Fkeystone~master~I63858d14f1b628597251c8980eae6a4fe626e83f,openstack/keystone,master,I63858d14f1b628597251c8980eae6a4fe626e83f,Add cloud auditing notification documentation,MERGED,2014-06-02 05:42:30.000000000,2014-06-14 19:24:56.000000000,2014-06-14 18:28:23.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 792}, {'_account_id': 1916}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 5707}, {'_account_id': 6460}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 7725}, {'_account_id': 8871}, {'_account_id': 9751}, {'_account_id': 11045}, {'_account_id': 11387}]","[{'number': 1, 'created': '2014-06-02 05:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/628463fddbfeaee08c30c73d73371cfdfa4662c1', 'message': 'Add cloud auditing notification documentation\n\nAdded documentation that states that keystone has added audit\nnotification support for operations like authetication using\nthe DMTF CADF Cloud Auditing Data Federation Standard\n\nChange-Id: I63858d14f1b628597251c8980eae6a4fe626e83f\n'}, {'number': 2, 'created': '2014-06-03 05:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/602dbc1aa36fd212c279131515567a961f830623', 'message': 'Add cloud auditing notification documentation\n\nAdded documentation that states that keystone has added audit\nnotification support for operations like authetication using\nthe DMTF CADF Cloud Auditing Data Federation Standard\n\nChange-Id: I63858d14f1b628597251c8980eae6a4fe626e83f\n'}, {'number': 3, 'created': '2014-06-06 06:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cc9614e788fa14ff58e4e2029a3daca409fcff27', 'message': 'Add cloud auditing notification documentation\n\nAdded documentation that states that keystone has added audit\nnotification support for operations like authetication using\nthe DMTF CADF Cloud Auditing Data Federation Standard\n\nChange-Id: I63858d14f1b628597251c8980eae6a4fe626e83f\n'}, {'number': 4, 'created': '2014-06-06 06:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0879a45d737b1be3728b366c0aff6118458458fc', 'message': 'Add cloud auditing notification documentation\n\nAdded documentation that states that keystone has added audit\nnotification support for operations like authetication using\nthe DMTF CADF Cloud Auditing Data Federation Standard\n\nChange-Id: I63858d14f1b628597251c8980eae6a4fe626e83f\n'}, {'number': 5, 'created': '2014-06-13 03:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5c6c096f598daa8dc6782a7351c9cda0f659cd28', 'message': 'Add cloud auditing notification documentation\n\nAdded documentation that states that keystone has added audit\nnotification support for operations like authetication using\nthe DMTF CADF Cloud Auditing Data Federation Standard\n\nChange-Id: I63858d14f1b628597251c8980eae6a4fe626e83f\n'}, {'number': 6, 'created': '2014-06-13 04:17:23.000000000', 'files': ['doc/source/event_notifications.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/a7c77e81551402b6fff0d8f54a467adc15a856c4', 'message': 'Add cloud auditing notification documentation\n\nAdded documentation that states that Keystone has added audit\nnotification support for operations like authentication using\nthe DMTF Cloud Auditing Data Federation (CADF) standard.\n\nChange-Id: I63858d14f1b628597251c8980eae6a4fe626e83f\n'}]",15,97146,a7c77e81551402b6fff0d8f54a467adc15a856c4,42,17,6,6460,,,0,"Add cloud auditing notification documentation

Added documentation that states that Keystone has added audit
notification support for operations like authentication using
the DMTF Cloud Auditing Data Federation (CADF) standard.

Change-Id: I63858d14f1b628597251c8980eae6a4fe626e83f
",git fetch https://review.opendev.org/openstack/keystone refs/changes/46/97146/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/event_notifications.rst'],1,628463fddbfeaee08c30c73d73371cfdfa4662c1,notification_doc, Cloud Audit Notification Support ================================ Keystone has begun to add audit notification support for operations like authentication using the DMTF Cloud Auditing Data Federation (CADF) Open Standard. For more details on this please see: - http://docs.openstack.org/developer/pycadf/,,9,0
openstack%2Fkeystone~master~I228dc479b29db730873ba95207e4ace85c20e1fe,openstack/keystone,master,I228dc479b29db730873ba95207e4ace85c20e1fe,Add v3 curl examples,MERGED,2014-05-30 22:44:14.000000000,2014-06-14 19:23:50.000000000,2014-06-14 19:23:49.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 220}, {'_account_id': 2218}, {'_account_id': 5046}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 8871}, {'_account_id': 9751}, {'_account_id': 11045}, {'_account_id': 11333}, {'_account_id': 11387}]","[{'number': 1, 'created': '2014-05-30 22:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/fc858ffd26747f545784aa1bf85c1ad1fc47b993', 'message': ""Add v3 curl examples\n\nThere were curl examples for v2 APIs, but none for V3. This change\nadds some that I've found handy.\n\nChange-Id: I228dc479b29db730873ba95207e4ace85c20e1fe\n""}, {'number': 2, 'created': '2014-06-01 15:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cf309f8b9365755fc7248fb2387ed4af1cee304d', 'message': ""Add v3 curl examples\n\nThere were curl examples for v2 APIs, but none for V3. This change\nadds some that I've found handy.\n\nAlso, added an example of getting the revocation list using the v2\nAPI. This is handy for checking token revocations.\n\nChange-Id: I228dc479b29db730873ba95207e4ace85c20e1fe\n""}, {'number': 3, 'created': '2014-06-02 14:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4e32b84c0a83302a594a0f9c7187542d8a1b0afb', 'message': ""Add v3 curl examples\n\nThere were curl examples for v2 APIs, but none for V3. This change\nadds some that I've found handy.\n\nAlso, added an example of getting the revocation list using the v2\nAPI. This is handy for checking token revocations.\n\nPartial-Bug: #1283943\n\nChange-Id: I228dc479b29db730873ba95207e4ace85c20e1fe\n""}, {'number': 4, 'created': '2014-06-06 21:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6573ae1f6b03745c5d4218584d145ffc2cafec6a', 'message': ""Add v3 curl examples\n\nThere were curl examples for v2 APIs, but none for V3. This change\nadds some that I've found handy.\n\nAlso, added an example of getting the revocation list using the v2\nAPI. This is handy for checking token revocations.\n\nPartial-Bug: #1283943\n\nChange-Id: I228dc479b29db730873ba95207e4ace85c20e1fe\n""}, {'number': 5, 'created': '2014-06-06 22:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3d163df0a14d18ab1487921cf089f40e64036e3f', 'message': ""Add v3 curl examples\n\nThere were curl examples for v2 APIs, but none for V3. This change\nadds some that I've found handy.\n\nAlso, added an example of getting the revocation list using the v2\nAPI. This is handy for checking token revocations.\n\nPartial-Bug: #1283943\n\nChange-Id: I228dc479b29db730873ba95207e4ace85c20e1fe\n""}, {'number': 6, 'created': '2014-06-10 21:34:52.000000000', 'files': ['doc/source/api_curl_examples.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/6b75e2a9ea1890cb170fcbba3db6abd6ab244683', 'message': ""Add v3 curl examples\n\nThere were curl examples for v2 APIs, but none for V3. This change\nadds some that I've found handy.\n\nAlso, added an example of getting the revocation list using the v2\nAPI. This is handy for checking token revocations.\n\nPartial-Bug: #1283943\n\nChange-Id: I228dc479b29db730873ba95207e4ace85c20e1fe\n""}]",45,96973,6b75e2a9ea1890cb170fcbba3db6abd6ab244683,49,12,6,6486,,,0,"Add v3 curl examples

There were curl examples for v2 APIs, but none for V3. This change
adds some that I've found handy.

Also, added an example of getting the revocation list using the v2
API. This is handy for checking token revocations.

Partial-Bug: #1283943

Change-Id: I228dc479b29db730873ba95207e4ace85c20e1fe
",git fetch https://review.opendev.org/openstack/keystone refs/changes/73/96973/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/api_curl_examples.rst'],1,fc858ffd26747f545784aa1bf85c1ad1fc47b993,cleanup,"v3 API Examples Using Curl ------------------------------- Tokens ====== Unscoped -------- Get an unscoped token:: curl -i \ -H ""Content-Type: application/json"" \ -d ' { ""auth"": { ""identity"": { ""methods"": [""password""], ""password"": { ""user"": { ""name"": ""admin"", ""domain"": { ""id"": ""default"" }, ""password"": ""adminpwd"" } } } } }' \ http://localhost:5000/v3/auth/tokens ; echo Project-scoped -------------- Get a project-scoped token:: curl -i \ -H ""Content-Type: application/json"" \ -d ' { ""auth"": { ""identity"": { ""methods"": [""password""], ""password"": { ""user"": { ""name"": ""admin"", ""domain"": { ""id"": ""default"" }, ""password"": ""adminpwd"" } } }, ""scope"": { ""project"": { ""name"": ""demo"", ""domain"": { ""id"": ""default"" } } } } }' \ http://localhost:5000/v3/auth/tokens ; echo Domain-Scoped ------------- Get a domain-scoped token (Note that you're going to need a role on the domain first!):: curl -i \ -H ""Content-Type: application/json"" \ -d ' { ""auth"": { ""identity"": { ""methods"": [""password""], ""password"": { ""user"": { ""name"": ""admin"", ""domain"": { ""id"": ""default"" }, ""password"": ""adminpwd"" } } }, ""scope"": { ""domain"": { ""id"": ""default"" } } } }' \ http://localhost:5000/v3/auth/tokens ; echo Re-scoping ---------- Get a token from a token:: curl -i \ -H ""Content-Type: application/json"" \ -d ' { ""auth"": { ""identity"": { ""methods"": [""token""], ""token"": { ""id"": ""'$TOKEN'"" } } } }' \ http://localhost:5000/v3/auth/tokens ; echo DELETE /v3/auth/tokens ---------------------- Revoke a token:: curl -i -X DELETE -H ""X-Auth-Token: $TOKEN"" -H ""X-Subject-Token: $TOKEN"" \ http://localhost:5000/v3/auth/tokens Projects ======== GET /v3/projects ---------------- List projects:: curl \ -H ""X-Auth-Token: $TOKEN"" \ http://localhost:5000/v3/projects | python -mjson.tool PATCH /v3/projects/{id} ----------------------- Disable a project:: curl -X PATCH \ -H ""X-Auth-Token: $TOKEN"" \ -H ""Content-Type: application/json"" \ -d ' { ""project"": { ""enabled"": false } }'\ http://localhost:5000/v3/projects/$PROJECT_ID GET /v3/services ================ List the services:: curl -i \ -H ""X-Auth-Token: $TOKEN"" \ http://localhost:5000/v3/services GET /v3/endpoints ================= List the endpoints:: curl \ -H ""X-Auth-Token: $TOKEN"" \ http://localhost:5000/v3/endpoints | python -mjson.tool GET /v3/users ============= List users:: curl \ -H ""X-Auth-Token: $TOKEN"" \ http://localhost:5000/v3/users | python -mjson.tool POST /v3/users/{user_id}/password ================================= Change password:: USER_ID=b7793000f8d84c79af4e215e9da78654 ORIG_PASS=adminpwd NEW_PASS=newadminpwd curl -i \ -H ""X-Auth-Token: $TOKEN"" \ -H ""Content-Type: application/json"" \ -d '{ ""user"": {""password"": ""'$NEW_PASS'"", ""original_password"": ""'$ORIG_PASS'""} }' \ http://localhost:5000/v3/users/$USER_ID/password PUT /v3/projects/{project_id}/groups/{group_id}/roles/{role_id} =============================================================== Create group role assignment on project:: curl -i -X PUT \ -H ""X-Auth-Token: $TOKEN"" \ http://localhost:5000/v3/projects/$PROJECT_ID/groups/$GROUP_ID/roles/$ROLE_ID POST /v3/OS-TRUST/trusts ======================== Create a trust:: PROJECT_ID=ce4a76fa779a4f66b6e10e201fe00f11 DEMO_USER_ID=60ec1f87a2624ca593695a0851f10db2 ADMIN_USER_ID=97625786c6ef4976958c0fb5e8b17023 curl \ -H ""X-Auth-Token: $TOKEN"" \ -H ""Content-Type: application/json"" \ -d ' { ""trust"": { ""expires_at"": ""2014-12-30T23:59:59.999999Z"", ""impersonation"": true, ""project_id"": ""'$PROJECT_ID'"", ""roles"": [ { ""name"": ""admin"" } ], ""trustee_user_id"": ""'$DEMO_USER_ID'"", ""trustor_user_id"": ""'$ADMIN_USER_ID'"" }}'\ http://localhost:5000/v3/OS-TRUST/trusts ------------------------------- GET /tokens/revoked =================== Get the revocation list:: curl -s -H ""X-Auth-Token: adminpwd"" \ http://localhost:35357/v2.0/tokens/revoked | jq -r .signed | openssl cms -verify \ -certfile /etc/keystone/ssl/certs/signing_cert.pem \ -CAfile /etc/keystone/ssl/certs/ca.pem \ -inform PEM \ -nosmimecap -nodetach -nocerts -noattr 2>/dev/null | python -m json.tool ",,244,0
openstack%2Foslosphinx~master~Iff7562692fe76d24abb16d7b9f283ede2db4357e,openstack/oslosphinx,master,Iff7562692fe76d24abb16d7b9f283ede2db4357e,Bump hacking to 0.9.x series,MERGED,2014-06-12 01:57:19.000000000,2014-06-14 19:22:13.000000000,2014-06-14 19:22:13.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 8041}]","[{'number': 1, 'created': '2014-06-12 01:57:19.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslosphinx/commit/ea4511ebfa66f053947418e7b91f127a4a92624c', 'message': 'Bump hacking to 0.9.x series\n\nChange-Id: Iff7562692fe76d24abb16d7b9f283ede2db4357e\n'}]",0,99541,ea4511ebfa66f053947418e7b91f127a4a92624c,10,3,1,5638,,,0,"Bump hacking to 0.9.x series

Change-Id: Iff7562692fe76d24abb16d7b9f283ede2db4357e
",git fetch https://review.opendev.org/openstack/oslosphinx refs/changes/41/99541/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,ea4511ebfa66f053947418e7b91f127a4a92624c,,"hacking>=0.9.1,<0.10","hacking>=0.8.0,<0.9",1,1
openstack%2Foslo.config~master~I8f59083d1c0673b94fa94acb37f11a5dd0ee040d,openstack/oslo.config,master,I8f59083d1c0673b94fa94acb37f11a5dd0ee040d,Bump hacking to 0.9.x series,MERGED,2014-06-12 01:54:56.000000000,2014-06-14 19:10:51.000000000,2014-06-14 19:10:51.000000000,"[{'_account_id': 3}, {'_account_id': 1247}, {'_account_id': 2472}, {'_account_id': 8041}]","[{'number': 1, 'created': '2014-06-12 01:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/94a8c256892800924a744fab0eaf6b2ea21f001b', 'message': 'Bump hacking to 0.9.x series\n\nChange-Id: I8f59083d1c0673b94fa94acb37f11a5dd0ee040d\n'}, {'number': 2, 'created': '2014-06-12 11:46:35.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/18601d323448e2b67b5a8ec9782c2166a012cb96', 'message': 'Bump hacking to 0.9.x series\n\nIn order to keep this patch to just a requirements bump, ignore new and\nstricter hacking rules that are being triggered. Fixing up the code and\nturning these on is out of scope of this patch and is for future patches.\n\nChange-Id: I8f59083d1c0673b94fa94acb37f11a5dd0ee040d\n'}]",0,99535,18601d323448e2b67b5a8ec9782c2166a012cb96,15,4,2,5638,,,0,"Bump hacking to 0.9.x series

In order to keep this patch to just a requirements bump, ignore new and
stricter hacking rules that are being triggered. Fixing up the code and
turning these on is out of scope of this patch and is for future patches.

Change-Id: I8f59083d1c0673b94fa94acb37f11a5dd0ee040d
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/35/99535/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,94a8c256892800924a744fab0eaf6b2ea21f001b,,"hacking>=0.9.1,<0.10","hacking>=0.8.0,<0.9",1,1
openstack%2Fkeystone~master~I8c83901dadf52d64755328c70e3c2583b8c07026,openstack/keystone,master,I8c83901dadf52d64755328c70e3c2583b8c07026,Sync service module from oslo-incubator,MERGED,2014-06-09 17:13:01.000000000,2014-06-14 19:10:44.000000000,2014-06-14 19:10:44.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 455}, {'_account_id': 1916}, {'_account_id': 9751}]","[{'number': 1, 'created': '2014-06-09 17:13:01.000000000', 'files': ['keystone/openstack/common/service.py', 'keystone/openstack/common/threadgroup.py', 'keystone/openstack/common/eventlet_backdoor.py', 'openstack-common.conf', 'keystone/openstack/common/loopingcall.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c94083549489e751ecb04a7d525f98f66441859c', 'message': 'Sync service module from oslo-incubator\n\nPreviously we synced with oslo-incubator commit hash\ncaed79d8239679cb74476bb0d9e5011b4fcc39da.\n\nThis adds the service module from the same oslo hash.\n\nThe service module is required for bug 1157261.\n\nChange-Id: I8c83901dadf52d64755328c70e3c2583b8c07026\n'}]",3,98839,c94083549489e751ecb04a7d525f98f66441859c,13,5,1,455,,,0,"Sync service module from oslo-incubator

Previously we synced with oslo-incubator commit hash
caed79d8239679cb74476bb0d9e5011b4fcc39da.

This adds the service module from the same oslo hash.

The service module is required for bug 1157261.

Change-Id: I8c83901dadf52d64755328c70e3c2583b8c07026
",git fetch https://review.opendev.org/openstack/keystone refs/changes/39/98839/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/openstack/common/service.py', 'keystone/openstack/common/threadgroup.py', 'keystone/openstack/common/eventlet_backdoor.py', 'openstack-common.conf', 'keystone/openstack/common/loopingcall.py']",5,c94083549489e751ecb04a7d525f98f66441859c,bug/1157261,"# Copyright 2010 United States Government as represented by the # Administrator of the National Aeronautics and Space Administration. # Copyright 2011 Justin Santa Barbara # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import sys from eventlet import event from eventlet import greenthread from keystone.openstack.common.gettextutils import _LE, _LW from keystone.openstack.common import log as logging from keystone.openstack.common import timeutils LOG = logging.getLogger(__name__) class LoopingCallDone(Exception): """"""Exception to break out and stop a LoopingCallBase. The poll-function passed to LoopingCallBase can raise this exception to break out of the loop normally. This is somewhat analogous to StopIteration. An optional return-value can be included as the argument to the exception; this return-value will be returned by LoopingCallBase.wait() """""" def __init__(self, retvalue=True): """""":param retvalue: Value that LoopingCallBase.wait() should return."""""" self.retvalue = retvalue class LoopingCallBase(object): def __init__(self, f=None, *args, **kw): self.args = args self.kw = kw self.f = f self._running = False self.done = None def stop(self): self._running = False def wait(self): return self.done.wait() class FixedIntervalLoopingCall(LoopingCallBase): """"""A fixed interval looping call."""""" def start(self, interval, initial_delay=None): self._running = True done = event.Event() def _inner(): if initial_delay: greenthread.sleep(initial_delay) try: while self._running: start = timeutils.utcnow() self.f(*self.args, **self.kw) end = timeutils.utcnow() if not self._running: break delay = interval - timeutils.delta_seconds(start, end) if delay <= 0: LOG.warn(_LW('task run outlasted interval by %s sec') % -delay) greenthread.sleep(delay if delay > 0 else 0) except LoopingCallDone as e: self.stop() done.send(e.retvalue) except Exception: LOG.exception(_LE('in fixed duration looping call')) done.send_exception(*sys.exc_info()) return else: done.send(True) self.done = done greenthread.spawn_n(_inner) return self.done class DynamicLoopingCall(LoopingCallBase): """"""A looping call which sleeps until the next known event. The function called should return how long to sleep for before being called again. """""" def start(self, initial_delay=None, periodic_interval_max=None): self._running = True done = event.Event() def _inner(): if initial_delay: greenthread.sleep(initial_delay) try: while self._running: idle = self.f(*self.args, **self.kw) if not self._running: break if periodic_interval_max is not None: idle = min(idle, periodic_interval_max) LOG.debug('Dynamic looping call sleeping for %.02f ' 'seconds', idle) greenthread.sleep(idle) except LoopingCallDone as e: self.stop() done.send(e.retvalue) except Exception: LOG.exception(_LE('in dynamic looping call')) done.send_exception(*sys.exc_info()) return else: done.send(True) self.done = done greenthread.spawn(_inner) return self.done ",,937,0
openstack%2Foslo-incubator~master~I0d945784cbe24e34c8ef19d3d3c9c0f012cfe176,openstack/oslo-incubator,master,I0d945784cbe24e34c8ef19d3d3c9c0f012cfe176,file_open: fixed docstring to refer to open() instead of file(),MERGED,2014-05-29 11:35:04.000000000,2014-06-14 19:07:34.000000000,2014-06-14 19:07:34.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-05-29 11:35:04.000000000', 'files': ['openstack/common/fileutils.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/9c88dc31ed0dc0a3af3c49835b7bc009f6873d0c', 'message': 'file_open: fixed docstring to refer to open() instead of file()\n\nNow that we use open() instead of file(), we should refer to proper\nfunction in the docstring.\n\nChange-Id: I0d945784cbe24e34c8ef19d3d3c9c0f012cfe176\n'}]",0,96424,9c88dc31ed0dc0a3af3c49835b7bc009f6873d0c,11,4,1,9656,,,0,"file_open: fixed docstring to refer to open() instead of file()

Now that we use open() instead of file(), we should refer to proper
function in the docstring.

Change-Id: I0d945784cbe24e34c8ef19d3d3c9c0f012cfe176
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/24/96424/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/common/fileutils.py'],1,9c88dc31ed0dc0a3af3c49835b7bc009f6873d0c,minor-docstring-fix, see built-in open() documentation for more details, see built-in file() documentation for more details,1,1
openstack%2Fpython-keystoneclient~master~I5e44c1029ce160cb2798cfb8a535aa9f3311799a,openstack/python-keystoneclient,master,I5e44c1029ce160cb2798cfb8a535aa9f3311799a,Session Documentation,MERGED,2014-03-31 07:15:32.000000000,2014-06-14 19:07:05.000000000,2014-06-14 19:07:05.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 1916}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 7725}]","[{'number': 1, 'created': '2014-03-31 07:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/1f6b879b810353bc55d1a497a63347f02dc58638', 'message': 'Session Documentation\n\nInclude some client documentation for how to work with a Session object.\nThis is generally high level with this expectation that a developer\ncould take the concepts found here and determine more from the module\ndocumentation.\n\nChange-Id: I5e44c1029ce160cb2798cfb8a535aa9f3311799a\n'}, {'number': 2, 'created': '2014-06-10 05:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/8de55bdcb37994d7d34534fed8b65132961b8533', 'message': 'Session Documentation\n\nInclude some client documentation for how to work with a Session object.\nThis is generally high level with this expectation that a developer\ncould take the concepts found here and determine more from the module\ndocumentation.\n\nChange-Id: I5e44c1029ce160cb2798cfb8a535aa9f3311799a\n'}, {'number': 3, 'created': '2014-06-10 22:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/09e0319f42d24437eb93d451a6772f424c68efe2', 'message': 'Session Documentation\n\nInclude some client documentation for how to work with a Session object.\nThis is generally high level with this expectation that a developer\ncould take the concepts found here and determine more from the module\ndocumentation.\n\nChange-Id: I5e44c1029ce160cb2798cfb8a535aa9f3311799a\n'}, {'number': 4, 'created': '2014-06-13 03:35:12.000000000', 'files': ['doc/source/index.rst', 'doc/source/using-sessions.rst'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/e4d795e6cc4864b1a0b2e4134f6efb23167049a6', 'message': 'Session Documentation\n\nInclude some client documentation for how to work with a Session object.\nThis is generally high level with this expectation that a developer\ncould take the concepts found here and determine more from the module\ndocumentation.\n\nChange-Id: I5e44c1029ce160cb2798cfb8a535aa9f3311799a\n'}]",84,84070,e4d795e6cc4864b1a0b2e4134f6efb23167049a6,35,9,4,7191,,,0,"Session Documentation

Include some client documentation for how to work with a Session object.
This is generally high level with this expectation that a developer
could take the concepts found here and determine more from the module
documentation.

Change-Id: I5e44c1029ce160cb2798cfb8a535aa9f3311799a
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/70/84070/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'keystoneclient/auth/token_endpoint.py', 'doc/source/using-sessions.rst']",3,1f6b879b810353bc55d1a497a63347f02dc58638,docs,"============== Using Sessions ============== Introduction ============ The ``keystoneclient.session.Session`` object was introduced into keystoneclient as an attempt to bring a unified interface to the various openstack clients that share common authentication and request parameters between a variety of services. The model for using a session and auth plugin as well as the general terms used have been heavily inspired by the requests library however it not inheritted from the `requests <http://docs.python-requests.org>`_ library. This means that authentication plugins are not based on the same mechanisms used by requests and control of requests concepts such as session management are not necessarily accessible via the same interfaces as the requests library. Features -------- - Common client authentication Authentication should be handled by one of a variety of authentication plugins and then this authentication information will be shared between all the services that use the same session object. - Standard discovery mechanisms Clients should not have to know how to parse the data returned in a keystone service token and do version discovery before they are able to communicate. This process should be common. Sessions for Users ================== The session object should be seen as the contact point to your OpenStack cloud services. Your authentication credentials and connection information about your cloud such as available CA certificates will be stored here and re-used by other services. When creating services this session object is passed to the client so that it may use this information. A session does not authenticate immediately. When a request that requires authentication passes through the session the authentication plugin will be asked for a valid token. If a token is not available then the authentication plugin will then contact the authentication service and fetch a new token. If the plugin contains a still valid token then this will be used. An example from keystoneclient:: >>> from keystoneclient.auth.identity import v2 >>> from keystoneclient import session >>> from keystoneclient.v2_0 import client >>> auth = v2.Password(auth_url='https://my.keystone.com:5000/v2.0', ... username='myuser', ... password='mypassword', ... tenant_id='mytenant') >>> sess = session.Session(auth=auth, ... verify='/path/to/ca.cert') >>> ks = client.Client(session=sess) >>> users = ks.users.list() As more clients accept this means of operating they will be created in a similar fashion by passing the session object to the client's constructor. Notes for Migrating to Sessions ------------------------------- Using a Session object is a new way of using clients and adoption of this method will depend on the various clients. To maintain compatibility with applications using older versions of the client library methods will still be available on the client object that may not work correctly with a session object. For example the ``authenticate()`` method on a keystoneclient object will no longer force the client to (re-)authenticate as this is now the job of the Session and authentication plugins however the method is still there. Likewise parameters such as the ``user_id`` and ``auth_token`` are still available but no longer return valid values when using Sessions. When converting an application to using a Session care should be taken to ensure that internals (even if public) of the client objects are not accessed directly. Sharing Authentication Plugins ------------------------------ A session can only hold one authentication plugin however there is nothing that specifically binds the authentication plugin to that session, so a new Session can be created with different connection parameters that reuses the existing authentication plugin:: >>> new_sess = session.Session(auth=sess.auth, verify='/path/to/different-cas.cert') So long as the authentication call is able succeed with either session object the above ``new_sess`` will share the same token as the ``sess`` object including when the token is refreshed. Sessions for Client Developers ============================== Sessions are intended to take away much of the hassle of dealing with authentication data and token formats. Authentication -------------- When making a request with a session object you can simply pass the keyword argument ``authenticated`` to indicate whether the argument should contain a token, by default a token is given if an authentication plugin is available:: >>> # In keystone this route is unprotected by default >>> resp = sess.get('https://my.keystone.com:5000/v2.0', authenticated=False) Service Discovery ----------------- In OpenStack the URLs of available services are distributed to the user as a part of the token they receive called the Service Catalog. Clients are expected to use the URLs from the Service Catalog rather than knowing the service URLs ahead of time. In general a client should never need to know the full URL for the server that they are communicating with, simply that it should send a request to a path belonging to the correct service. This is controlled by the ``endpoint_filter`` parameter to a request which contains all the information an authentication plugin requires to determine the correct URL to which to send a request. When using this mode only the path for the request needs to be specified:: >>> resp = session.get('/v2.0/users', authenticated=True, endpoint_filter={'service_type': 'identity', 'interface': 'public', 'region_name': 'myregion'}) ``endpoint_filter`` accepts a number of arguments with which it can determine an endpoint url: - ``service_type``: the type of service. For example ``identity``, ``compute``, ``volume`` or many other predefined identifiers. - ``interface``: the network exposure the interface has. This will be one of: - ``public``: An endpoint that is available to the wider internet or network. - ``internal``: An endpoint that is only accessible within the private network. - ``admin``: An endpoint to be used for administrative tasks. - ``region_name``: the name of the region that the endpoint should reside in. The session object will determine the URL matching the filter and append to it the provided path and so create a valid request. While authentication plugins will endeavour to maintain a consistent set or arguments for an ``endpoint_filter`` the concept of an authentication plugin is purposefully generic and a specific mechanism may not know how to interpret certain arguments and ignore them. For example the ``keystone.auth.token_endpoint.Token`` plugin (which is generally used for testing) will always return the same endpoint regardless of the parameters to ``endpoint_filter`` or a custom OpenStack authentication mechanism may not have the concept of multiple ``interface`` and choose to ignore that parameter. There is some expectation on the user that they understand the limitations of the authentication system they are using. ",,171,2
openstack%2Foslo.i18n~master~I149bf82b9802f88d33d8a5b82dc32817305ca2fe,openstack/oslo.i18n,master,I149bf82b9802f88d33d8a5b82dc32817305ca2fe,Handle . and - in translation domains,MERGED,2014-05-07 19:40:11.000000000,2014-06-14 19:06:41.000000000,2014-06-14 19:06:41.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6159}, {'_account_id': 6928}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-05-07 19:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/93c1dfaf20b1b5d073eaa3222176d8a7814293ee', 'message': ""Handle . and - in translation domains\n\nRefactor the bit of code used to build the translation\ndomain variable name so it can be tested more easily.\n\nIf a translation domain includes '.' or '-' in the name,\nreplace them with '_' when building the environment variable\nname.\n\nChange-Id: I149bf82b9802f88d33d8a5b82dc32817305ca2fe\n""}, {'number': 2, 'created': '2014-05-07 19:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/0caa4d337bb132f1faadb24e05db5f44a1aa58a7', 'message': ""Handle . and - in translation domains\n\nRefactor the bit of code used to build the translation\ndomain variable name so it can be tested more easily.\n\nIf a translation domain includes '.' or '-' in the name,\nreplace them with '_' when building the environment variable\nname.\n\nbp graduate-oslo-i18n\n\nChange-Id: I149bf82b9802f88d33d8a5b82dc32817305ca2fe\n""}, {'number': 3, 'created': '2014-05-09 14:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/a1eb11a2d3c67eb43ad687084cf703e42327810d', 'message': ""Handle . and - in translation domains\n\nRefactor the bit of code used to build the translation\ndomain variable name so it can be tested more easily.\n\nIf a translation domain includes '.' or '-' in the name,\nreplace them with '_' when building the environment variable\nname.\n\nbp graduate-oslo-i18n\n\nChange-Id: I149bf82b9802f88d33d8a5b82dc32817305ca2fe\n""}, {'number': 4, 'created': '2014-06-03 19:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/f59a7573673f36695b59b69595666d1aa3c386e0', 'message': ""Handle . and - in translation domains\n\nRefactor the bit of code used to build the translation\ndomain variable name so it can be tested more easily.\n\nIf a translation domain includes '.' or '-' in the name,\nreplace them with '_' when building the environment variable\nname.\n\nbp graduate-oslo-i18n\n\nChange-Id: I149bf82b9802f88d33d8a5b82dc32817305ca2fe\n""}, {'number': 5, 'created': '2014-06-04 16:51:37.000000000', 'files': ['tests/test_locale_dir_variable.py', 'oslo/i18n/gettextutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/38acb78b01aee8e2df9b5a2d9d12e5ce1a1ab44f', 'message': ""Handle . and - in translation domains\n\nRefactor the bit of code used to build the translation\ndomain variable name so it can be tested more easily.\n\nIf a translation domain includes '.' or '-' in the name,\nreplace them with '_' when building the environment variable\nname.\n\nbp graduate-oslo-i18n\n\nChange-Id: I149bf82b9802f88d33d8a5b82dc32817305ca2fe\n""}]",1,92682,38acb78b01aee8e2df9b5a2d9d12e5ce1a1ab44f,42,5,5,2472,,,0,"Handle . and - in translation domains

Refactor the bit of code used to build the translation
domain variable name so it can be tested more easily.

If a translation domain includes '.' or '-' in the name,
replace them with '_' when building the environment variable
name.

bp graduate-oslo-i18n

Change-Id: I149bf82b9802f88d33d8a5b82dc32817305ca2fe
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/82/92682/5 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_locale_dir_variable.py', 'oslo/i18n/gettextutils.py']",2,93c1dfaf20b1b5d073eaa3222176d8a7814293ee,bp/graduate-oslo-i18n,"def _get_locale_dir_variable_name(domain): """"""Convert a translation domain name to a variable for specifying a separate locale dir. """""" return domain.upper().replace('.', '_').replace('-', '_') + '_LOCALEDIR' localedir = os.environ.get(_get_locale_dir_variable_name(domain))", localedir = os.environ.get(domain.upper() + '_LOCALEDIR'),40,1
openstack%2Foslo-incubator~master~I7b231eb492509cdfc844e7ed036892e37c5bb8b6,openstack/oslo-incubator,master,I7b231eb492509cdfc844e7ed036892e37c5bb8b6,Restore UUID and human-ID bash completion,MERGED,2014-06-10 21:50:20.000000000,2014-06-14 19:05:39.000000000,2014-06-14 19:05:38.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 2472}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-06-10 21:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/f35fe0d8913d69106523e4265d693b3217e06742', 'message': ""Restore UUID and human-ID bash completion\n\nThe refactoring to use Oslo's `Resource` broke UUID and human_id\n(https://review.openstack.org/#/c/63104/) bash-completion by removing the code\nthat writes the IDs to the cache.\n\nThis patch adds the missing code back, careful to handle cases where the\n`Manager` in a particular client doesn't yet support the\n`write_to_completion_cache` method that Novaclient does.\n\nChange-Id: I7b231eb492509cdfc844e7ed036892e37c5bb8b6\nCloses-Bug: 1327431\n""}, {'number': 2, 'created': '2014-06-10 22:03:11.000000000', 'files': ['openstack/common/apiclient/base.py', 'tests/unit/apiclient/test_base.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/e42e77fb47cc4d26e31d52ee75b65335e54336fb', 'message': ""Restore UUID and human-ID bash completion\n\nThe refactoring to use Oslo's `Resource` broke UUID and human_id\n(https://review.openstack.org/#/c/63104/) bash-completion by removing the code\nthat writes the IDs to the cache.\n\nThis patch adds the missing code back, careful to handle cases where the\n`Manager` in a particular client doesn't yet support the\n`write_to_completion_cache` method that Novaclient does.\n\nChange-Id: I7b231eb492509cdfc844e7ed036892e37c5bb8b6\nCloses-Bug: 1327431\n""}]",1,99216,e42e77fb47cc4d26e31d52ee75b65335e54336fb,14,4,2,475,,,0,"Restore UUID and human-ID bash completion

The refactoring to use Oslo's `Resource` broke UUID and human_id
(https://review.openstack.org/#/c/63104/) bash-completion by removing the code
that writes the IDs to the cache.

This patch adds the missing code back, careful to handle cases where the
`Manager` in a particular client doesn't yet support the
`write_to_completion_cache` method that Novaclient does.

Change-Id: I7b231eb492509cdfc844e7ed036892e37c5bb8b6
Closes-Bug: 1327431
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/16/99216/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/common/apiclient/base.py', 'tests/unit/apiclient/test_base.py']",2,f35fe0d8913d69106523e4265d693b3217e06742,bug/1327431,"import collectionsclass ManagerWithoutCompletionCache(object): def __init__(self): self.cache = collections.defaultdict(list) class ManagerWithCompletionCache(ManagerWithoutCompletionCache): def write_to_completion_cache(self, cache_type, val): self.cache[cache_type].append(val) def test_write_to_cache_with_manager_that_supports_it(self): """"""If a resource is using a `Manager` with a completion cache, then when the resource is created, it should write its UUID, and optionally, its human-id to the completion cache. """""" fake_uuid = 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa' fake_uuid2 = 'bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb' manager = ManagerWithCompletionCache() self.assertEqual({}, manager.cache) r = base.Resource(manager, {""id"": fake_uuid}) self.assertEqual({'uuid': [fake_uuid]}, manager.cache) r = HumanResource(manager, {""id"": fake_uuid2, ""name"": ""this is a resource""}) self.assertEqual({'uuid': [fake_uuid, fake_uuid2], 'human_id': ['this-is-a-resource']}, manager.cache) def test_write_to_cache_with_manager_that_doesnt_support_it(self): """"""If a resource is using a `Manager` that doesn't have a `write_to_completion_cache` method, then it should gracefully ignore it. """""" fake_uuid = 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa' fake_uuid2 = 'bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb' manager = ManagerWithoutCompletionCache() self.assertEqual({}, manager.cache) r = base.Resource(manager, {""id"": fake_uuid}) self.assertEqual({}, manager.cache) r = HumanResource(manager, {""id"": fake_uuid2, ""name"": ""this is a resource""}) self.assertEqual({}, manager.cache) ",,64,0
openstack%2Fdevstack~master~I6dad705dd11b9eb5f01ce67814f05d294b3979a5,openstack/devstack,master,I6dad705dd11b9eb5f01ce67814f05d294b3979a5,selinux permissive on Fedora,MERGED,2014-06-12 03:21:59.000000000,2014-06-14 18:56:30.000000000,2014-06-14 18:56:29.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 2750}, {'_account_id': 5803}, {'_account_id': 7118}, {'_account_id': 9009}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-12 03:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/656058ec14188fa5317b804811b3af46e5890f72', 'message': 'Use LOCAL_PATH of /tmp for horizon\n\nThe f20 gate job is failing with\n\n   File ""/usr/lib/python2.7/site-packages/lockfile/linklockfile.py"", line 20, in acquire\n     raise LockFailed(""failed to create %s"" % self.unique_name)\n  LockFailed: failed to create \\\n    /opt/stack/new/horizon/openstack_dashboard/local/devstack-f20-hpcloud-b2-339326-5ab6e700.27202\n\nSetting LOCAL_PATH to /tmp should avoid httpd hitting selinux issues\nwriting to the checkout directories\n\nChange-Id: I6dad705dd11b9eb5f01ce67814f05d294b3979a5\n'}, {'number': 2, 'created': '2014-06-12 04:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ff941119fb96ee425c01a11c6ae6eb3d032108bc', 'message': 'Use LOCAL_PATH of /tmp for horizon\n\nThe f20 gate job is failing on hpcloud images with\n\n---\n File ""/opt/stack/new/horizon/openstack_dashboard/\n  wsgi/../../openstack_dashboard/local/local_settings.py"", line 96, in <module>\n    os.path.join(LOCAL_PATH, \'.secret_key_store\'))\n ...\n File ""/usr/lib/python2.7/site-packages/lockfile/linklockfile.py"",\n  line 20, in acquire\n    raise LockFailed(""failed to create %s"" % self.unique_name)\n LockFailed: failed to create \\\n  /opt/stack/new/horizon/openstack_dashboard/\n    local/devstack-f20-hpcloud-b2-339326-5ab6e700.27202\n---\n\nbecause it has selinux enforcing (the rackspace f20 image doesn\'t)\n\nSetting LOCAL_PATH to /tmp should avoid httpd hitting selinux issues\nwriting to the checkout directories\n\nChange-Id: I6dad705dd11b9eb5f01ce67814f05d294b3979a5\n'}, {'number': 3, 'created': '2014-06-12 06:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3de3406da7f173ff2f06fc71b63840bdfa56e806', 'message': 'Use LOCAL_PATH of /tmp for horizon\n\nThe f20 gate job is failing on hpcloud images with\n\n---\n File ""/opt/stack/new/horizon/openstack_dashboard/\n  wsgi/../../openstack_dashboard/local/local_settings.py"", line 96, in <module>\n    os.path.join(LOCAL_PATH, \'.secret_key_store\'))\n ...\n File ""/usr/lib/python2.7/site-packages/lockfile/linklockfile.py"",\n  line 20, in acquire\n    raise LockFailed(""failed to create %s"" % self.unique_name)\n LockFailed: failed to create \\\n  /opt/stack/new/horizon/openstack_dashboard/\n    local/devstack-f20-hpcloud-b2-339326-5ab6e700.27202\n---\n\nbecause it has selinux enforcing (the rackspace f20 image doesn\'t)\n\nSetting LOCAL_PATH to /tmp should avoid httpd hitting selinux issues\nwriting to the checkout directories\n\nChange-Id: I6dad705dd11b9eb5f01ce67814f05d294b3979a5\n'}, {'number': 4, 'created': '2014-06-12 09:53:18.000000000', 'files': ['tools/fixup_stuff.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d7967a4879d38d86e5d7b870ba5a140f8adc1061', 'message': 'selinux permissive on Fedora\n\nThe f20 gate job is failing on hpcloud images\n(official F20 cloud image), with enforcing selinux.\n\nSetting selinux to permissive on all Fedoras.\n\nCurrently selinux policies are violated, when\n - horizon/httpd tries to access a files without\nhttpd_t friendly security label.\n - horizon/httpd_t tries to connect to openstack\n   service port, without an allowing policy.\n - swift tryes rsync content without an authorized\n   security label and without rsync_full_access sebool.\n - ..\n\nIn permissive mode you will be able to track,\nthe missing policies and labels by checking\nthe /var/log/auidit/audit.log*\n\nThe enforcing mode might be turned on in the future,\nwhen all label and policy configured correctly.\n\nChange-Id: I6dad705dd11b9eb5f01ce67814f05d294b3979a5\n'}]",0,99559,d7967a4879d38d86e5d7b870ba5a140f8adc1061,36,7,4,7118,,,0,"selinux permissive on Fedora

The f20 gate job is failing on hpcloud images
(official F20 cloud image), with enforcing selinux.

Setting selinux to permissive on all Fedoras.

Currently selinux policies are violated, when
 - horizon/httpd tries to access a files without
httpd_t friendly security label.
 - horizon/httpd_t tries to connect to openstack
   service port, without an allowing policy.
 - swift tryes rsync content without an authorized
   security label and without rsync_full_access sebool.
 - ..

In permissive mode you will be able to track,
the missing policies and labels by checking
the /var/log/auidit/audit.log*

The enforcing mode might be turned on in the future,
when all label and policy configured correctly.

Change-Id: I6dad705dd11b9eb5f01ce67814f05d294b3979a5
",git fetch https://review.opendev.org/openstack/devstack refs/changes/59/99559/4 && git format-patch -1 --stdout FETCH_HEAD,['lib/horizon'],1,656058ec14188fa5317b804811b3af46e5890f72,permissive,"HORIZON_LOCAL_PATH=${HORIZON_LOCAL_PATH:-""/tmp""} # reset this, otherwise it defaults to # /opt/stack/horizon/... which selinux bound apache can't get to _horizon_config_set $local_settings """" LOCAL_PATH ${HORIZON_LOCAL_PATH} ",,5,0
openstack%2Fkeystone~master~I62e286f20a40808d5ff69f9d98bf407174d6613f,openstack/keystone,master,I62e286f20a40808d5ff69f9d98bf407174d6613f,Fixes typo error in Keystone,MERGED,2014-06-12 12:56:59.000000000,2014-06-14 18:53:35.000000000,2014-06-14 18:53:34.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 220}, {'_account_id': 1795}, {'_account_id': 2238}, {'_account_id': 6482}, {'_account_id': 9751}, {'_account_id': 11333}, {'_account_id': 11717}]","[{'number': 1, 'created': '2014-06-12 12:56:59.000000000', 'files': ['keystone/tests/test_v3_identity.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f434d284075ee8cc07a9c7898a1508d29f300bb7', 'message': 'Fixes typo error in Keystone\n\nThis submission is to fix the typo error\nin ""/keystone/tests/test_v3_identity.py"" file\n\nChange-Id: I62e286f20a40808d5ff69f9d98bf407174d6613f\n'}]",0,99651,f434d284075ee8cc07a9c7898a1508d29f300bb7,23,9,1,1037,,,0,"Fixes typo error in Keystone

This submission is to fix the typo error
in ""/keystone/tests/test_v3_identity.py"" file

Change-Id: I62e286f20a40808d5ff69f9d98bf407174d6613f
",git fetch https://review.opendev.org/openstack/keystone refs/changes/51/99651/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/test_v3_identity.py'],1,f434d284075ee8cc07a9c7898a1508d29f300bb7,separate/typo_error, # Expected result if the user is not meant to have a tenantId element, # Expected result if the user is not meant ot have a tenantId element,1,1
openstack%2Foslo-incubator~master~Ibb2244ce95137996ad927fbb9d4380a0e32d8b46,openstack/oslo-incubator,master,Ibb2244ce95137996ad927fbb9d4380a0e32d8b46,Fix common.log.ContextFormatter for Python 3,MERGED,2014-05-26 07:15:40.000000000,2014-06-14 18:51:08.000000000,2014-06-14 18:51:08.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 9107}, {'_account_id': 10777}, {'_account_id': 10873}]","[{'number': 1, 'created': '2014-05-26 07:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/5ef0f081f44fe516af20d56ebac5663e2197c526', 'message': ""Fix common.log.ContextFormatter for Python 3\n\nThe incompatibilty of common.log.ContextFormatter with Python 3 is due\nto the use of 'hack' with Formatter._fmt, which is not working since\nPython 3.2 after introduction of different styles of formatting\nsyntax. The formatting string in Python3 should be stored in\nFormatter._style object.\n\nIn this patch the property where the formatting sting should be written\nis selected based on the current version of Python.\n\nChange-Id: Ibb2244ce95137996ad927fbb9d4380a0e32d8b46\n""}, {'number': 2, 'created': '2014-06-11 14:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/bd4f9fe6d33f96c997cf6247240a24a37bb73c22', 'message': ""Fix common.log.ContextFormatter for Python 3\n\nThe incompatibilty of common.log.ContextFormatter with Python 3 is due\nto the use of 'hack' with Formatter._fmt, which is not working since\nPython 3.2 after introduction of different styles of formatting\nsyntax. The formatting string in Python3 should be stored in\nFormatter._style object.\n\nIn this patch the property where the formatting sting should be written\nis selected based on the current version of Python.\n\nChange-Id: Ibb2244ce95137996ad927fbb9d4380a0e32d8b46\n""}, {'number': 3, 'created': '2014-06-11 18:53:07.000000000', 'files': ['openstack/common/log.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/eac71f57f9f6e426425571e69df8e5a9483e2484', 'message': ""Fix common.log.ContextFormatter for Python 3\n\nThe incompatibilty of common.log.ContextFormatter with Python 3 is due\nto the use of 'hack' with Formatter._fmt, which is not working since\nPython 3.2 after introduction of different styles of formatting\nsyntax. The formatting string in Python3 should be stored in\nFormatter._style object.\n\nIn this patch the property where the formatting string should be written\nis selected based on the current version of Python.\n\nChange-Id: Ibb2244ce95137996ad927fbb9d4380a0e32d8b46\n""}]",4,95439,eac71f57f9f6e426425571e69df8e5a9483e2484,27,6,3,10777,,,0,"Fix common.log.ContextFormatter for Python 3

The incompatibilty of common.log.ContextFormatter with Python 3 is due
to the use of 'hack' with Formatter._fmt, which is not working since
Python 3.2 after introduction of different styles of formatting
syntax. The formatting string in Python3 should be stored in
Formatter._style object.

In this patch the property where the formatting string should be written
is selected based on the current version of Python.

Change-Id: Ibb2244ce95137996ad927fbb9d4380a0e32d8b46
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/39/95439/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/common/log.py'],1,5ef0f081f44fe516af20d56ebac5663e2197c526,python3_log," fmt = CONF.logging_context_format_string else: fmt = CONF.logging_default_format_string fmt += "" "" + CONF.logging_debug_format_suffix if six.PY2: self._fmt = fmt else: self._style = logging.PercentStyle(fmt)"," self._fmt = CONF.logging_context_format_string else: self._fmt = CONF.logging_default_format_string self._fmt += "" "" + CONF.logging_debug_format_suffix ",7,4
openstack%2Fkeystone~master~I6264805dc91bc165e930708c2781074aa0b29070,openstack/keystone,master,I6264805dc91bc165e930708c2781074aa0b29070,gitignore etc/keystone/,MERGED,2014-06-05 18:59:37.000000000,2014-06-14 18:49:54.000000000,2014-06-14 18:49:53.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 220}, {'_account_id': 2218}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 8871}, {'_account_id': 9751}]","[{'number': 1, 'created': '2014-06-05 18:59:37.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/keystone/commit/ec9c58454df7e4178e578d3dd83b3e96f41ba6d8', 'message': 'gitignore etc/keystone/\n\nthis is the default directory used by pki_setup and ssl_setup if running\nwith a keystone.conf alongside keystone.conf.sample for development...\nfor example:\n\n$ tree etc/keystone/\netc/keystone/\n ssl\n     certs\n    \xa0\xa0  01.pem\n    \xa0\xa0  ca.pem\n    \xa0\xa0  index.txt\n    \xa0\xa0  index.txt.attr\n    \xa0\xa0  index.txt.old\n    \xa0\xa0  openssl.conf\n    \xa0\xa0  req.pem\n    \xa0\xa0  serial\n    \xa0\xa0  serial.old\n    \xa0\xa0  signing_cert.pem\n     private\n         cakey.pem\n         signing_key.pem\n\n3 directories, 12 files\n\nChange-Id: I6264805dc91bc165e930708c2781074aa0b29070\n'}]",1,98213,ec9c58454df7e4178e578d3dd83b3e96f41ba6d8,25,8,1,4,,,0,"gitignore etc/keystone/

this is the default directory used by pki_setup and ssl_setup if running
with a keystone.conf alongside keystone.conf.sample for development...
for example:

$ tree etc/keystone/
etc/keystone/
 ssl
     certs
      01.pem
      ca.pem
      index.txt
      index.txt.attr
      index.txt.old
      openssl.conf
      req.pem
      serial
      serial.old
      signing_cert.pem
     private
         cakey.pem
         signing_key.pem

3 directories, 12 files

Change-Id: I6264805dc91bc165e930708c2781074aa0b29070
",git fetch https://review.opendev.org/openstack/keystone refs/changes/13/98213/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,ec9c58454df7e4178e578d3dd83b3e96f41ba6d8,(detached,etc/keystone/,,1,0
openstack%2Fpython-keystoneclient~master~I2bdf62b775badc0adbe2c6f55bcc65cd13ac2d60,openstack/python-keystoneclient,master,I2bdf62b775badc0adbe2c6f55bcc65cd13ac2d60,Don't use mock non-exist method assert_called_once,MERGED,2014-05-16 03:00:33.000000000,2014-06-14 18:49:47.000000000,2014-06-14 18:49:46.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 2903}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 9796}, {'_account_id': 10873}]","[{'number': 1, 'created': '2014-05-16 03:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/43a6bd9174ab3927c9f199ce96d307b50a6d5b9f', 'message': ""Don't use mock non-exist method assert_called_once\n\nThere isn't method assert_called_once of mock class\nand hence does not really check anything. Let's use\nassertTrule(mock.called) to check.\n\nChange-Id: I2bdf62b775badc0adbe2c6f55bcc65cd13ac2d60\n""}, {'number': 2, 'created': '2014-05-16 08:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/7f666aad348fde9242af313bc6d2e952cb48fd5b', 'message': ""Don't use mock non-exist method assert_called_once\n\nThere isn't method assert_called_once of mock class\nand hence does not really check anything. Let's use\nassertTrue(mock.called) to check.\n\nChange-Id: I2bdf62b775badc0adbe2c6f55bcc65cd13ac2d60\n""}, {'number': 3, 'created': '2014-06-04 07:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/ca9fd72b2b624166476391d00c6a8031266ebeb1', 'message': ""Don't use mock non-exist method assert_called_once\n\nThere isn't method assert_called_once of mock class\nand hence does not really check anything. Let's use\nassertTrule(mock.called) to check.\n\nChange-Id: I2bdf62b775badc0adbe2c6f55bcc65cd13ac2d60\n""}, {'number': 4, 'created': '2014-06-09 22:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/32eb33c8e61315eb4d81b8ca603a095069398fec', 'message': ""Don't use mock non-exist method assert_called_once\n\nThere isn't method assert_called_once of mock class\nand hence does not really check anything. Let's use\nassertEqual(1, mock.call_count) to check.\n\nChange-Id: I2bdf62b775badc0adbe2c6f55bcc65cd13ac2d60\n""}, {'number': 5, 'created': '2014-06-10 02:05:30.000000000', 'files': ['keystoneclient/tests/test_keyring.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/992e371e4db940ea2805240d622865e2250365ae', 'message': ""Don't use mock non-exist method assert_called_once\n\nThere isn't method assert_called_once of mock class\nand hence does not really check anything. Let's use\nassertEqual(1, mock.call_count) to check.\n\nChange-Id: I2bdf62b775badc0adbe2c6f55bcc65cd13ac2d60\n""}]",3,93839,992e371e4db940ea2805240d622865e2250365ae,34,7,5,9796,,,0,"Don't use mock non-exist method assert_called_once

There isn't method assert_called_once of mock class
and hence does not really check anything. Let's use
assertEqual(1, mock.call_count) to check.

Change-Id: I2bdf62b775badc0adbe2c6f55bcc65cd13ac2d60
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/39/93839/4 && git format-patch -1 --stdout FETCH_HEAD,['keystoneclient/tests/test_keyring.py'],1,43a6bd9174ab3927c9f199ce96d307b50a6d5b9f,mock_wrong_usage, self.assertTrue(meth.called) self.assertTrue(meth.called) self.assertTrue(meth.called), meth.assert_called_once() meth.assert_called_once() meth.assert_called_once(),3,3
openstack%2Foslo-incubator~master~I5ce16688871c43b81c0671500acd6e92dc71cd06,openstack/oslo-incubator,master,I5ce16688871c43b81c0671500acd6e92dc71cd06,Fix parenthesis typo misunderstanding in periodic_task,MERGED,2014-05-30 14:40:38.000000000,2014-06-14 18:39:08.000000000,2014-06-14 18:39:07.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 4395}, {'_account_id': 6928}, {'_account_id': 8574}]","[{'number': 1, 'created': '2014-05-30 14:40:38.000000000', 'files': ['openstack/common/periodic_task.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/21249f12d2ef48dfa6f9d0d486074ea92568eaaa', 'message': ""Fix parenthesis typo misunderstanding in periodic_task\n\nCommit c5a1088 meant to fix a typo for 'parens' thinking it meant\n'parents' but it was actually short-hand for parenthesis, so fix the\nwording to be clear and accurate.\n\nChange-Id: I5ce16688871c43b81c0671500acd6e92dc71cd06\n""}]",0,96777,21249f12d2ef48dfa6f9d0d486074ea92568eaaa,14,5,1,6873,,,0,"Fix parenthesis typo misunderstanding in periodic_task

Commit c5a1088 meant to fix a typo for 'parens' thinking it meant
'parents' but it was actually short-hand for parenthesis, so fix the
wording to be clear and accurate.

Change-Id: I5ce16688871c43b81c0671500acd6e92dc71cd06
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/77/96777/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/common/periodic_task.py'],1,21249f12d2ef48dfa6f9d0d486074ea92568eaaa,fix-typo-typos," # and without parenthesis. # In the 'with-parenthesis' case (with kwargs present), this function needs # to return a decorator function since the interpreter will invoke it like: # In the 'without-parenthesis' case, the original function will be passed"," # and without parents. # In the 'with-parents' case (with kwargs present), this function needs to # return a decorator function since the interpreter will invoke it like: # In the 'without-parents' case, the original function will be passed",4,4
openstack%2Foslo-incubator~master~I3185a14e3cef48584bdcb406f01e066c6d928bf5,openstack/oslo-incubator,master,I3185a14e3cef48584bdcb406f01e066c6d928bf5,"generator: remove unused param, small clean up",MERGED,2014-06-12 16:24:28.000000000,2014-06-14 18:37:37.000000000,2014-06-14 18:37:37.000000000,"[{'_account_id': 3}, {'_account_id': 1247}, {'_account_id': 2472}, {'_account_id': 11650}]","[{'number': 1, 'created': '2014-06-12 16:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/09a5e416c57be1094580567a76d5881f2192ea7b', 'message': 'Small clean up in generator\n\nChange-Id: I3185a14e3cef48584bdcb406f01e066c6d928bf5\n'}, {'number': 2, 'created': '2014-06-13 13:30:13.000000000', 'files': ['openstack/common/config/generator.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/96510856b774eb7142d455893d67574651477645', 'message': 'generator: remove unused param, small clean up\n\nRemove mod_obj parameter from _guess_groups() not used since\nIaa4e9a806e79032ce1675b46a6b7a7628c3eff89\n\nDo not need to initialize opt_type before try/except because the try\nwill initialize opt_type or system will exit.\n\nAlways use multi-line string syntax for docstrings\n\nChange-Id: I3185a14e3cef48584bdcb406f01e066c6d928bf5\n'}]",0,99707,96510856b774eb7142d455893d67574651477645,16,4,2,11650,,,0,"generator: remove unused param, small clean up

Remove mod_obj parameter from _guess_groups() not used since
Iaa4e9a806e79032ce1675b46a6b7a7628c3eff89

Do not need to initialize opt_type before try/except because the try
will initialize opt_type or system will exit.

Always use multi-line string syntax for docstrings

Change-Id: I3185a14e3cef48584bdcb406f01e066c6d928bf5
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/07/99707/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/common/config/generator.py'],1,09a5e416c57be1094580567a76d5881f2192ea7b,generator_cleanup," """"""Check if opt is in group.""""""def _guess_groups(opt): ret.setdefault(_guess_groups(opt), []).append(opt)"," ""Check if opt is in group.""def _guess_groups(opt, mod_obj): ret.setdefault(_guess_groups(opt, obj), []).append(opt) opt_type = None",3,4
openstack%2Fpython-keystoneclient~master~Ibf00d39435fa7a6d9a92a9bdfacc3f1b07f890ef,openstack/python-keystoneclient,master,Ibf00d39435fa7a6d9a92a9bdfacc3f1b07f890ef,Refactor auth_token token cache members to class,MERGED,2014-06-01 16:16:23.000000000,2014-06-14 18:37:27.000000000,2014-06-14 18:37:26.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 1916}, {'_account_id': 5046}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 8871}, {'_account_id': 11045}, {'_account_id': 11333}]","[{'number': 1, 'created': '2014-06-01 16:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/0bc22848567f29ccba2c09c7a97371413bea1467', 'message': 'Refactor auth_token token cache members to class\n\nThe token cache members are moved from AuthToken to their own\nclass.\n\nChange-Id: Ibf00d39435fa7a6d9a92a9bdfacc3f1b07f890ef\n'}, {'number': 2, 'created': '2014-06-11 01:53:00.000000000', 'files': ['keystoneclient/tests/test_auth_token_middleware.py', 'keystoneclient/middleware/auth_token.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/8c60f34688360049c8cc4d6920d9262343001b09', 'message': 'Refactor auth_token token cache members to class\n\nThe token cache members are moved from AuthToken to their own\nclass.\n\nChange-Id: Ibf00d39435fa7a6d9a92a9bdfacc3f1b07f890ef\n'}]",22,97109,8c60f34688360049c8cc4d6920d9262343001b09,29,9,2,6486,,,0,"Refactor auth_token token cache members to class

The token cache members are moved from AuthToken to their own
class.

Change-Id: Ibf00d39435fa7a6d9a92a9bdfacc3f1b07f890ef
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/09/97109/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/tests/test_auth_token_middleware.py', 'keystoneclient/middleware/auth_token.py']",2,0bc22848567f29ccba2c09c7a97371413bea1467,auth_token_refactor," self._token_cache = TokenCache(self._conf_get, self.LOG) self._token_cache.initialize(env) token_ids, cached = self._token_cache.check_user_token(user_token) self._token_cache.store(token_id, data, expires) self._token_cache.store_invalid(token_id)class TokenCache(object): def __init__(self, conf_get, log): self._conf_get = conf_get self.LOG = log self._cache_pool = None self._initialized = False # memcache value treatment, ENCRYPT or MAC self._memcache_security_strategy = ( self._conf_get('memcache_security_strategy')) if self._memcache_security_strategy is not None: self._memcache_security_strategy = ( self._memcache_security_strategy.upper()) self._memcache_secret_key = ( self._conf_get('memcache_secret_key')) self._assert_valid_memcache_protection_config() self._token_cache_time = int(self._conf_get('token_cache_time')) def initialize(self, env): if not self._initialized: self._init_cache(env) def check_user_token(self, user_token): """"""Check if the token is cached already. Returns a tuple. The first element is a list of token IDs, where the first one is the preferred hash. The second element is the token data from the cache if the token was cached, otherwise ``None``. :raises InvalidUserToken: if the token is invalid """""" if cms.is_asn1_token(user_token): # user_token is a PKI token that's not hashed. algos = self._conf_get('hash_algorithms') token_hashes = list(cms.cms_hash_token(user_token, mode=algo) for algo in algos) for token_hash in token_hashes: cached = self._cache_get(token_hash) if cached: return (token_hashes, cached) # The token wasn't found using any hash algorithm. return (token_hashes, None) # user_token is either a UUID token or a hashed PKI token. token_id = user_token cached = self._cache_get(token_id) return ([token_id], cached) def store(self, token_id, data, expires): """"""Put token data into the cache. Stores the parsed expire date in cache allowing quick check of token freshness on retrieval. """""" self.LOG.debug('Storing token in cache') self._cache_store(token_id, (data, expires)) def store_invalid(self, token_id): """"""Store invalid token in cache."""""" self.LOG.debug('Marking token as unauthorized in cache') self._cache_store(token_id, 'invalid') def _assert_valid_memcache_protection_config(self): if self._memcache_security_strategy: if self._memcache_security_strategy not in ('MAC', 'ENCRYPT'): raise ConfigurationError('memcache_security_strategy must be ' 'ENCRYPT or MAC') if not self._memcache_secret_key: raise ConfigurationError('memcache_secret_key must be defined ' 'when a memcache_security_strategy ' 'is defined') def _init_cache(self, env): self._cache_pool = CachePool( env.get(self._conf_get('cache')), self._conf_get('memcached_servers')) self._initialized = True def _cache_get(self, token_id): """"""Return token information from cache. If token is invalid raise InvalidUserToken return token only if fresh (not expired). """""" if token_id: if self._memcache_security_strategy is None: key = CACHE_KEY_TEMPLATE % token_id with self._cache_pool.reserve() as cache: serialized = cache.get(key) else: secret_key = self._memcache_secret_key if isinstance(secret_key, six.string_types): secret_key = secret_key.encode('utf-8') security_strategy = self._memcache_security_strategy if isinstance(security_strategy, six.string_types): security_strategy = security_strategy.encode('utf-8') keys = memcache_crypt.derive_keys( token_id, secret_key, security_strategy) cache_key = CACHE_KEY_TEMPLATE % ( memcache_crypt.get_cache_key(keys)) with self._cache_pool.reserve() as cache: raw_cached = cache.get(cache_key) try: # unprotect_data will return None if raw_cached is None serialized = memcache_crypt.unprotect_data(keys, raw_cached) except Exception: msg = 'Failed to decrypt/verify cache data' self.LOG.exception(msg) # this should have the same effect as data not # found in cache serialized = None if serialized is None: return None # Note that 'invalid' and (data, expires) are the only # valid types of serialized cache entries, so there is not # a collision with jsonutils.loads(serialized) == None. if not isinstance(serialized, six.string_types): serialized = serialized.decode('utf-8') cached = jsonutils.loads(serialized) if cached == 'invalid': self.LOG.debug('Cached Token is marked unauthorized') raise InvalidUserToken('Token authorization failed') data, expires = cached try: expires = timeutils.parse_isotime(expires) except ValueError: # Gracefully handle upgrade of expiration times from *nix # timestamps to ISO 8601 formatted dates by ignoring old cached # values. return expires = timeutils.normalize_time(expires) utcnow = timeutils.utcnow() if utcnow < expires: self.LOG.debug('Returning cached token') return data else: self.LOG.debug('Cached Token seems expired') def _cache_store(self, token_id, data): """"""Store value into memcache. data may be the string 'invalid' or a tuple like (data, expires) """""" serialized_data = jsonutils.dumps(data) if isinstance(serialized_data, six.text_type): serialized_data = serialized_data.encode('utf-8') if self._memcache_security_strategy is None: cache_key = CACHE_KEY_TEMPLATE % token_id data_to_store = serialized_data else: secret_key = self._memcache_secret_key if isinstance(secret_key, six.string_types): secret_key = secret_key.encode('utf-8') security_strategy = self._memcache_security_strategy if isinstance(security_strategy, six.string_types): security_strategy = security_strategy.encode('utf-8') keys = memcache_crypt.derive_keys( token_id, secret_key, security_strategy) cache_key = CACHE_KEY_TEMPLATE % memcache_crypt.get_cache_key(keys) data_to_store = memcache_crypt.protect_data(keys, serialized_data) with self._cache_pool.reserve() as cache: cache.set(cache_key, data_to_store, time=self._token_cache_time) "," # Token caching self._cache_pool = None self._cache_initialized = False # memcache value treatment, ENCRYPT or MAC self._memcache_security_strategy = ( self._conf_get('memcache_security_strategy')) if self._memcache_security_strategy is not None: self._memcache_security_strategy = ( self._memcache_security_strategy.upper()) self._memcache_secret_key = ( self._conf_get('memcache_secret_key')) self._assert_valid_memcache_protection_config() # By default the token will be cached for 5 minutes self.token_cache_time = int(self._conf_get('token_cache_time')) def _assert_valid_memcache_protection_config(self): if self._memcache_security_strategy: if self._memcache_security_strategy not in ('MAC', 'ENCRYPT'): raise ConfigurationError('memcache_security_strategy must be ' 'ENCRYPT or MAC') if not self._memcache_secret_key: raise ConfigurationError('memcache_secret_key must be defined ' 'when a memcache_security_strategy ' 'is defined') def _init_cache(self, env): self._cache_pool = CachePool( env.get(self._conf_get('cache')), self._conf_get('memcached_servers')) self._cache_initialized = True # initialize memcache if we haven't done so if not self._cache_initialized: self._init_cache(env) token_ids, cached = self._check_user_token_cached(user_token) self._cache_put(token_id, data, expires) self._cache_store_invalid(token_id) def _check_user_token_cached(self, user_token): """"""Check if the token is cached already. Returns a tuple. The first element is a list of token IDs, where the first one is the preferred hash. The second element is the token data from the cache if the token was cached, otherwise ``None``. :raises InvalidUserToken: if the token is invalid """""" if cms.is_asn1_token(user_token): # user_token is a PKI token that's not hashed. algos = self._conf_get('hash_algorithms') token_hashes = list(cms.cms_hash_token(user_token, mode=algo) for algo in algos) for token_hash in token_hashes: cached = self._cache_get(token_hash) if cached: return (token_hashes, cached) # The token wasn't found using any hash algorithm. return (token_hashes, None) # user_token is either a UUID token or a hashed PKI token. token_id = user_token cached = self._cache_get(token_id) return ([token_id], cached) def _cache_get(self, token_id): """"""Return token information from cache. If token is invalid raise InvalidUserToken return token only if fresh (not expired). """""" if token_id: if self._memcache_security_strategy is None: key = CACHE_KEY_TEMPLATE % token_id with self._cache_pool.reserve() as cache: serialized = cache.get(key) else: secret_key = self._memcache_secret_key if isinstance(secret_key, six.string_types): secret_key = secret_key.encode('utf-8') security_strategy = self._memcache_security_strategy if isinstance(security_strategy, six.string_types): security_strategy = security_strategy.encode('utf-8') keys = memcache_crypt.derive_keys( token_id, secret_key, security_strategy) cache_key = CACHE_KEY_TEMPLATE % ( memcache_crypt.get_cache_key(keys)) with self._cache_pool.reserve() as cache: raw_cached = cache.get(cache_key) try: # unprotect_data will return None if raw_cached is None serialized = memcache_crypt.unprotect_data(keys, raw_cached) except Exception: msg = 'Failed to decrypt/verify cache data' self.LOG.exception(msg) # this should have the same effect as data not # found in cache serialized = None if serialized is None: return None # Note that 'invalid' and (data, expires) are the only # valid types of serialized cache entries, so there is not # a collision with jsonutils.loads(serialized) == None. if not isinstance(serialized, six.string_types): serialized = serialized.decode('utf-8') cached = jsonutils.loads(serialized) if cached == 'invalid': self.LOG.debug('Cached Token is marked unauthorized') raise InvalidUserToken('Token authorization failed') data, expires = cached try: expires = timeutils.parse_isotime(expires) except ValueError: # Gracefully handle upgrade of expiration times from *nix # timestamps to ISO 8601 formatted dates by ignoring old cached # values. return expires = timeutils.normalize_time(expires) utcnow = timeutils.utcnow() if utcnow < expires: self.LOG.debug('Returning cached token') return data else: self.LOG.debug('Cached Token seems expired') def _cache_store(self, token_id, data): """"""Store value into memcache. data may be the string 'invalid' or a tuple like (data, expires) """""" serialized_data = jsonutils.dumps(data) if isinstance(serialized_data, six.text_type): serialized_data = serialized_data.encode('utf-8') if self._memcache_security_strategy is None: cache_key = CACHE_KEY_TEMPLATE % token_id data_to_store = serialized_data else: secret_key = self._memcache_secret_key if isinstance(secret_key, six.string_types): secret_key = secret_key.encode('utf-8') security_strategy = self._memcache_security_strategy if isinstance(security_strategy, six.string_types): security_strategy = security_strategy.encode('utf-8') keys = memcache_crypt.derive_keys( token_id, secret_key, security_strategy) cache_key = CACHE_KEY_TEMPLATE % memcache_crypt.get_cache_key(keys) data_to_store = memcache_crypt.protect_data(keys, serialized_data) with self._cache_pool.reserve() as cache: cache.set(cache_key, data_to_store, time=self.token_cache_time) def _cache_put(self, token_id, data, expires): """"""Put token data into the cache. Stores the parsed expire date in cache allowing quick check of token freshness on retrieval. """""" self.LOG.debug('Storing token in cache') self._cache_store(token_id, (data, expires)) def _cache_store_invalid(self, token_id): """"""Store invalid token in cache."""""" self.LOG.debug('Marking token as unauthorized in cache') self._cache_store(token_id, 'invalid') ",235,217
openstack%2Fkeystone~master~I0d368159fa8862581ae51267e6068f29cae942a2,openstack/keystone,master,I0d368159fa8862581ae51267e6068f29cae942a2,Enforce ``saml2`` protocol in Apache config,MERGED,2014-06-03 12:17:54.000000000,2014-06-14 18:37:20.000000000,2014-06-14 18:37:19.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 220}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 5956}, {'_account_id': 6460}, {'_account_id': 6482}, {'_account_id': 8871}, {'_account_id': 8978}, {'_account_id': 9751}, {'_account_id': 11333}]","[{'number': 1, 'created': '2014-06-03 12:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/49f25222e08b70ff849ed41e659724cd56f944cb', 'message': 'Enforce ``saml2`` protocol in Apache config\n\nShibboleth, a SAML2 federation software should only protect urls with\nprotocol set to ``saml2``. Therefore, <Location> directive in the Apache\nconfig should enfore this, instead of accepting every protocol.\nMind that, a vhost should still accept all the protocols.\n\nChange-Id: I0d368159fa8862581ae51267e6068f29cae942a2\n'}, {'number': 2, 'created': '2014-06-03 12:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/bc3afebca9f032b9797c4fc0dbc4e98fd9741bbc', 'message': 'Enforce ``saml2`` protocol in Apache config\n\nShibboleth, a SAML2 federation software should only protect urls with\nprotocol set to ``saml2``. Therefore, <Location> directive in the Apache\nconfig should enfore this, instead of accepting every protocol.\nMind that a vhost should still accept all the protocols.\n\nChange-Id: I0d368159fa8862581ae51267e6068f29cae942a2\n'}, {'number': 3, 'created': '2014-06-03 15:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2287eef0f62b7a60cb567526cd26b9c43f7883da', 'message': 'Enforce ``saml2`` protocol in Apache config\n\nShibboleth, a SAML2 federation software should only protect urls with\nprotocol set to ``saml2``. Therefore, <Location> directive in the Apache\nconfig should enfore this, instead of accepting every protocol.\nMind that a vhost should still accept all the protocols.\n\nChange-Id: I0d368159fa8862581ae51267e6068f29cae942a2\n'}, {'number': 4, 'created': '2014-06-05 12:46:01.000000000', 'files': ['doc/source/configure_federation.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/8e8766ea9c64c17652dbc45fb64f3876aad8c5e3', 'message': 'Enforce ``saml2`` protocol in Apache config\n\nShibboleth, a SAML2 federation software should only protect urls with\nprotocol set to ``saml2``. Therefore, <Location> directive in the Apache\nconfig should enfore this, instead of accepting every protocol.\nMind that a vhost should still accept all the protocols.\n\nChange-Id: I0d368159fa8862581ae51267e6068f29cae942a2\n'}]",2,97479,8e8766ea9c64c17652dbc45fb64f3876aad8c5e3,45,12,4,8978,,,0,"Enforce ``saml2`` protocol in Apache config

Shibboleth, a SAML2 federation software should only protect urls with
protocol set to ``saml2``. Therefore, <Location> directive in the Apache
config should enfore this, instead of accepting every protocol.
Mind that a vhost should still accept all the protocols.

Change-Id: I0d368159fa8862581ae51267e6068f29cae942a2
",git fetch https://review.opendev.org/openstack/keystone refs/changes/79/97479/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configure_federation.rst'],1,49f25222e08b70ff849ed41e659724cd56f944cb,specify_protocol_in_docs, <LocationMatch /v3/OS-FEDERATION/identity_providers/.*?/protocols/saml2/auth>, <LocationMatch /v3/OS-FEDERATION/identity_providers/.*?/protocols/.*?/auth>,1,1
openstack%2Fpython-openstackclient~master~I62aaa423aa6da9e9f0ca026ec586b51cc6a6df03,openstack/python-openstackclient,master,I62aaa423aa6da9e9f0ca026ec586b51cc6a6df03,Ignore most of the new hacking 0.9.2 rules,MERGED,2014-06-13 22:09:24.000000000,2014-06-14 18:37:13.000000000,2014-06-14 18:37:12.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6482}]","[{'number': 1, 'created': '2014-06-13 22:09:24.000000000', 'files': ['openstackclient/compute/v2/usage.py', 'openstackclient/tests/common/test_utils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0059f045a9958b1748fcec51799d8cffc0831440', 'message': 'Ignore most of the new hacking 0.9.2 rules\n\nSo we can update requriements.txt.  But fix a couple of easy ones:\n* Fix E251 (1 occurrance)\n* Fix E131 (1 occurrance)\n\nChange-Id: I62aaa423aa6da9e9f0ca026ec586b51cc6a6df03\n'}]",0,100027,0059f045a9958b1748fcec51799d8cffc0831440,8,3,1,970,,,0,"Ignore most of the new hacking 0.9.2 rules

So we can update requriements.txt.  But fix a couple of easy ones:
* Fix E251 (1 occurrance)
* Fix E131 (1 occurrance)

Change-Id: I62aaa423aa6da9e9f0ca026ec586b51cc6a6df03
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/27/100027/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/compute/v2/usage.py', 'openstackclient/tests/common/test_utils.py', 'tox.ini']",3,0059f045a9958b1748fcec51799d8cffc0831440,hacking-hack,"ignore = E126,E202,W602,H302,H402,E265,H305,H307,H405,H904","ignore = E126,E202,W602,H302,H402",5,4
openstack%2Fkeystone~master~I6af25a33018e76b321488cacea65885fa597abbf,openstack/keystone,master,I6af25a33018e76b321488cacea65885fa597abbf,Use translation hints,MERGED,2014-06-04 16:42:33.000000000,2014-06-14 18:33:35.000000000,2014-06-14 18:33:34.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 1916}, {'_account_id': 5046}, {'_account_id': 6460}, {'_account_id': 6486}, {'_account_id': 11045}, {'_account_id': 11387}]","[{'number': 1, 'created': '2014-06-04 16:42:33.000000000', 'files': ['keystone/auth/controllers.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/7f5e120ab8e73fc77360a4adb2f73f2516bae8a0', 'message': 'Use translation hints\n\nUse the _LI() function instead of _() for new LOG.info messages.\n\nChange-Id: I6af25a33018e76b321488cacea65885fa597abbf\nRelated-Bug: #1299012\n'}]",0,97852,7f5e120ab8e73fc77360a4adb2f73f2516bae8a0,19,8,1,2903,,,0,"Use translation hints

Use the _LI() function instead of _() for new LOG.info messages.

Change-Id: I6af25a33018e76b321488cacea65885fa597abbf
Related-Bug: #1299012
",git fetch https://review.opendev.org/openstack/keystone refs/changes/52/97852/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/auth/controllers.py'],1,7f5e120ab8e73fc77360a4adb2f73f2516bae8a0,translation_hints,"from keystone.openstack.common.gettextutils import _LI # noqa LOG.info(_LI('""expires_at"" has conflicting values ' '%(existing)s and %(new)s. Will use the ' 'earliest value.'), {'existing': existing_val, 'new': val})"," msg = _('""expires_at"" has conflicting values %(existing)s ' 'and %(new)s. Will use the earliest value.') LOG.info(msg, {'existing': existing_val, 'new': val})",5,3
openstack-attic%2Foslo.version~master~I85e5f9e8b4cea3895231fd0c8a6e99e0ca59b204,openstack-attic/oslo.version,master,I85e5f9e8b4cea3895231fd0c8a6e99e0ca59b204,Updated from global requirements,MERGED,2014-06-13 22:56:56.000000000,2014-06-14 18:20:17.000000000,2014-06-14 18:20:17.000000000,"[{'_account_id': 3}, {'_account_id': 2472}]","[{'number': 1, 'created': '2014-06-13 22:56:56.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack-attic/oslo.version/commit/4b8b68298ba23e9c7bc70f67e426d9075f3fcad0', 'message': 'Updated from global requirements\n\nChange-Id: I85e5f9e8b4cea3895231fd0c8a6e99e0ca59b204\n'}]",0,100038,4b8b68298ba23e9c7bc70f67e426d9075f3fcad0,7,2,1,11131,,,0,"Updated from global requirements

Change-Id: I85e5f9e8b4cea3895231fd0c8a6e99e0ca59b204
",git fetch https://review.opendev.org/openstack-attic/oslo.version refs/changes/38/100038/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,4b8b68298ba23e9c7bc70f67e426d9075f3fcad0,openstack/requirements,"sphinx>=1.1.2,!=1.2.0,<1.3","sphinx>=1.2.1,<1.3",1,1
openstack%2Fstevedore~master~I8ba2d8fe0ae0d1c4aa76207e3522f9c487d8cf9d,openstack/stevedore,master,I8ba2d8fe0ae0d1c4aa76207e3522f9c487d8cf9d,Updated from global requirements,MERGED,2014-05-28 21:00:39.000000000,2014-06-14 18:17:29.000000000,2014-06-14 18:17:29.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-05-28 21:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stevedore/commit/9848aa97b993432a6c6732a3721826f63f029073', 'message': 'Updated from global requirements\n\nChange-Id: I8ba2d8fe0ae0d1c4aa76207e3522f9c487d8cf9d\n'}, {'number': 2, 'created': '2014-06-13 22:57:49.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/stevedore/commit/58ff35c44c0f0205c8a819ae34a1f9234e8148e2', 'message': 'Updated from global requirements\n\nChange-Id: I8ba2d8fe0ae0d1c4aa76207e3522f9c487d8cf9d\n'}]",0,96273,58ff35c44c0f0205c8a819ae34a1f9234e8148e2,19,5,2,11131,,,0,"Updated from global requirements

Change-Id: I8ba2d8fe0ae0d1c4aa76207e3522f9c487d8cf9d
",git fetch https://review.opendev.org/openstack/stevedore refs/changes/73/96273/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,9848aa97b993432a6c6732a3721826f63f029073,openstack/requirements,"sphinx>=1.2.1,<1.3","sphinx>=1.1.2,<1.2",1,1
openstack%2Fcinder~master~I8f0b4ae3b10ea93890f6506662905bd5823412f5,openstack/cinder,master,I8f0b4ae3b10ea93890f6506662905bd5823412f5,Limit formatting routes when adding resources,MERGED,2014-04-15 09:53:57.000000000,2014-06-14 17:28:01.000000000,2014-06-14 17:28:00.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1207}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 4355}, {'_account_id': 4523}, {'_account_id': 5538}, {'_account_id': 7198}, {'_account_id': 7219}, {'_account_id': 7639}, {'_account_id': 8871}, {'_account_id': 9533}]","[{'number': 1, 'created': '2014-04-15 09:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/702cd5fb6f1d02632b48e20aa136a108acd6747d', 'message': ""Limit formatting routes when adding resources\n\nBy default, routes.mapper.Mapper.resource adds a bunch of formatted\nroutes that accept anything after a '.'. Our spec says only .xml\nand .json are accepted so limit the formatting to those valuse.\n\nThis allows identifiers with a '.' in urls. A few tests were added\nto the extensions test to prove that .xml and .json are stripped\nbut other values are not.\n\nChange-Id: I8f0b4ae3b10ea93890f6506662905bd5823412f5\n""}, {'number': 2, 'created': '2014-04-15 09:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c7ac18d95fdaef4c85f88a6ad59a90728ce6f030', 'message': ""Limit formatting routes when adding resources\n\nBy default, routes.mapper.Mapper.resource adds a bunch of formatted\nroutes that accept anything after a '.'. Our spec says only .xml\nand .json are accepted so limit the formatting to those valuse.\n\nThis allows identifiers with a '.' in urls. A few tests were added\nto the extensions test to prove that .xml and .json are stripped\nbut other values are not.\n\nChange-Id: I8f0b4ae3b10ea93890f6506662905bd5823412f5\n""}, {'number': 3, 'created': '2014-04-21 10:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d265364ff477ad2e35efc842be03a20b747514a', 'message': ""Limit formatting routes when adding resources\n\nBy default, routes.mapper.Mapper.resource adds a bunch of formatted\nroutes that accept anything after a '.'. Our spec says only .xml\nand .json are accepted so limit the formatting to those valuse.\n\nThis allows identifiers with a '.' in urls. A few tests were added\nto the extensions test to prove that .xml and .json are stripped\nbut other values are not.\n\nCloses-bug: #1307956\nChange-Id: I8f0b4ae3b10ea93890f6506662905bd5823412f5\n""}, {'number': 4, 'created': '2014-04-28 18:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6b9a787c21768d3fbe6ca1aad890c47140e6c6ef', 'message': ""Limit formatting routes when adding resources\n\nBy default, routes.mapper.Mapper.resource adds a bunch of formatted\nroutes that accept anything after a '.'. Our spec says only .xml\nand .json are accepted so limit the formatting to those valuse.\n\nThis allows identifiers with a '.' in urls. A few tests were added\nto the extensions test to prove that .xml and .json are stripped\nbut other values are not.\n\nCloses-bug: #1307956\nChange-Id: I8f0b4ae3b10ea93890f6506662905bd5823412f5\n""}, {'number': 5, 'created': '2014-04-28 18:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/52c9b58a8f043fa0f88ea2031cc23e8bb94786f5', 'message': ""Limit formatting routes when adding resources\n\nBy default, routes.mapper.Mapper.resource adds a bunch of formatted\nroutes that accept anything after a '.'. Our spec says only .xml\nand .json are accepted so limit the formatting to those valuse.\n\nThis allows identifiers with a '.' in urls. A few tests were added\nto the extensions test to prove that .xml and .json are stripped\nbut other values are not.\n\nCloses-bug: #1307956\nChange-Id: I8f0b4ae3b10ea93890f6506662905bd5823412f5\n""}, {'number': 6, 'created': '2014-05-02 00:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/324b9814c1fbd856fa14350333d4dfd4d9d6a850', 'message': ""Limit formatting routes when adding resources\n\nBy default, routes.mapper.Mapper.resource adds a bunch of formatted\nroutes that accept anything after a '.'. Our spec says only .xml\nand .json are accepted so limit the formatting to those valuse.\n\nThis allows identifiers with a '.' in urls. A few tests were added\nto the extensions test to prove that .xml and .json are stripped\nbut other values are not.\n\nCloses-bug: #1307956\nChange-Id: I8f0b4ae3b10ea93890f6506662905bd5823412f5\n""}, {'number': 7, 'created': '2014-05-07 01:38:18.000000000', 'files': ['cinder/tests/api/test_extensions.py', 'cinder/api/openstack/__init__.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e71d982aa1a21ad7b952fcb8516a9610a5902afb', 'message': ""Limit formatting routes when adding resources\n\nBy default, routes.mapper.Mapper.resource adds a bunch of formatted\nroutes that accept anything after a '.'. Our spec says only .xml\nand .json are accepted so limit the formatting to those valuse.\n\nThis allows identifiers with a '.' in urls. A few tests were added\nto the extensions test to prove that .xml and .json are stripped\nbut other values are not.\n\nCloses-bug: #1307956\nChange-Id: I8f0b4ae3b10ea93890f6506662905bd5823412f5\n""}]",2,87520,e71d982aa1a21ad7b952fcb8516a9610a5902afb,67,13,7,7639,,,0,"Limit formatting routes when adding resources

By default, routes.mapper.Mapper.resource adds a bunch of formatted
routes that accept anything after a '.'. Our spec says only .xml
and .json are accepted so limit the formatting to those valuse.

This allows identifiers with a '.' in urls. A few tests were added
to the extensions test to prove that .xml and .json are stripped
but other values are not.

Closes-bug: #1307956
Change-Id: I8f0b4ae3b10ea93890f6506662905bd5823412f5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/20/87520/5 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/openstack/__init__.py'],1,702cd5fb6f1d02632b48e20aa136a108acd6747d,bug/1307956," def connect(self, *args, **kargs): # NOTE(inhye): Default the format part of a route to only accept json # and xml so it doesn't eat all characters after a '.' # in the url. kargs.setdefault('requirements', {}) if not kargs['requirements'].get('format'): kargs['requirements']['format'] = 'json|xml' return routes.Mapper.connect(self, *args, **kargs) ",,9,0
openstack%2Fhacking~master~I60f43640490e647d1e13686e67f4d53941eab67e,openstack/hacking,master,I60f43640490e647d1e13686e67f4d53941eab67e,Updated from global requirements,MERGED,2014-06-13 22:50:45.000000000,2014-06-14 17:22:56.000000000,2014-06-14 17:22:56.000000000,"[{'_account_id': 3}, {'_account_id': 2472}]","[{'number': 1, 'created': '2014-06-13 22:50:45.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/hacking/commit/4e8c087816a1988e07eb35419cdab934a8fde286', 'message': 'Updated from global requirements\n\nChange-Id: I60f43640490e647d1e13686e67f4d53941eab67e\n'}]",0,100037,4e8c087816a1988e07eb35419cdab934a8fde286,7,2,1,11131,,,0,"Updated from global requirements

Change-Id: I60f43640490e647d1e13686e67f4d53941eab67e
",git fetch https://review.opendev.org/openstack/hacking refs/changes/37/100037/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,4e8c087816a1988e07eb35419cdab934a8fde286,openstack/requirements,"sphinx>=1.1.2,!=1.2.0,<1.3","sphinx>=1.2.1,<1.3",1,1
openstack%2Ftelemetry-specs~master~Id8174b4889f85d07e5ade8419664b52f4c856b2e,openstack/telemetry-specs,master,Id8174b4889f85d07e5ade8419664b52f4c856b2e,Momgodb-events-feature specs,MERGED,2014-06-13 12:21:26.000000000,2014-06-14 17:15:23.000000000,2014-06-13 21:52:08.000000000,"[{'_account_id': 3}, {'_account_id': 2284}, {'_account_id': 2813}, {'_account_id': 3012}, {'_account_id': 6676}, {'_account_id': 7478}, {'_account_id': 7763}, {'_account_id': 9562}, {'_account_id': 10987}]","[{'number': 1, 'created': '2014-06-13 12:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/cf818f3814a1c139cc5f0c8b7fd9bc2080f0a8c1', 'message': 'Momgodb-events-feature specs\n\nThe purpose of this bp is to implement event feature on MongoDB\n\nImplements blueprint mongodb-events-feature\n\nChange-Id: Id8174b4889f85d07e5ade8419664b52f4c856b2e'}, {'number': 2, 'created': '2014-06-13 14:34:31.000000000', 'files': ['specs/juno/mongodb-events-feature.rst'], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/e225b5213b1101330f0be686999f947733a1514f', 'message': 'Momgodb-events-feature specs\n\nThe purpose of this bp is to implement event feature on MongoDB and DB2\n\nImplements blueprint mongodb-events-feature\n\nChange-Id: Id8174b4889f85d07e5ade8419664b52f4c856b2e'}]",3,99923,e225b5213b1101330f0be686999f947733a1514f,15,9,2,10987,,,0,"Momgodb-events-feature specs

The purpose of this bp is to implement event feature on MongoDB and DB2

Implements blueprint mongodb-events-feature

Change-Id: Id8174b4889f85d07e5ade8419664b52f4c856b2e",git fetch https://review.opendev.org/openstack/telemetry-specs refs/changes/23/99923/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/mongodb-events-feature.rst'],1,cf818f3814a1c139cc5f0c8b7fd9bc2080f0a8c1,bp/is,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============================== Enable event feature on MongoDB =============================== https://blueprints.launchpad.net/ceilometer/+spec/mongodb-events-feature Events feature was implemented on SQLAlchemy and HBase backends. And now it is necessary to extend it on MongoDB. Problem description =================== The usecase is to store events in MongoDB and to get events (event's types, traits, trait's types) from this database. The main idea is to implement event feature in way like it was done on other drivers (SQLAlchemy and HBase). Usecases: - to get all events that were created in a specified period of time - to get events by event's type - to get events by event's message id - to get events by trait's description, type, and value - to get all event's types that were stored - to get all trait types belonging to specific event type - to get all traits that could be found in specific event's type, and optionally with specific trait type. Proposed change =============== Add new methods in ceilometer.storage.impl_mongodb.py for storing and getting events from database. Basing on events implementation that have been already done we should create next methods: 1. record_event -- method for storing collected events into MongoDB 2. get_events -- method for getting events from MongoDB with specified filters: - period of event's generation time - event's type - event's message id - trait's description, type, and value (here should be taken into account possible operations on values, for ex: <lt, le, eq, ne, ge, gt>) 3. get_event_types -- method for getting all event's types that were stored in database. 4. get_trait_types -- method returns all trait types for all stored event types or only for one event's type if it is specified. 5. get_traits -- method returns all traits for certain event type, or traits for specified trait's type if type is defined. Alternatives ------------ None Data model impact ----------------- We will need to add new collection into MongoDB for events Collection: - events - _id: uuid of event (Event.message_id) - event_type: description of event's type - timestamp: time stamp of event generation - traits: [array of {trait_name: string, trait_type: integer, trait_value: data}] REST API impact --------------- None Security impact --------------- None Pipeline impact --------------- None Other end user impact --------------------- None Performance/Scalability Impacts ------------------------------- None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: * idegtiarov Ongoing maintainer: * idegtiarov Work Items ---------- * Create new method for event feature implementation on MongoDB * Test method in unit tests Future lifecycle ================ None Dependencies ============ None Testing ======= This code will be tested in unit tests for event feature Documentation Impact ==================== None References ========== None ",,164,0
openstack%2Foslo.i18n~master~Ie0fe59439fe9a5aa86e1ebbe5cf67fe97793c1e9,openstack/oslo.i18n,master,Ie0fe59439fe9a5aa86e1ebbe5cf67fe97793c1e9,Updated from global requirements,ABANDONED,2014-05-28 19:20:02.000000000,2014-06-14 17:12:36.000000000,,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 8041}]","[{'number': 1, 'created': '2014-05-28 19:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/ae0c5a7ce2b797420655963a443b882395ce8883', 'message': 'Updated from global requirements\n\nChange-Id: Ie0fe59439fe9a5aa86e1ebbe5cf67fe97793c1e9\n'}, {'number': 2, 'created': '2014-06-10 14:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/46d65a6db31fad0c517f7ec5e29d28def248ceb3', 'message': 'Updated from global requirements\n\nChange-Id: Ie0fe59439fe9a5aa86e1ebbe5cf67fe97793c1e9\n'}, {'number': 3, 'created': '2014-06-11 01:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/90375056d1b8d6cecc1809a47afc00281adacc27', 'message': 'Updated from global requirements\n\nChange-Id: Ie0fe59439fe9a5aa86e1ebbe5cf67fe97793c1e9\n'}, {'number': 4, 'created': '2014-06-13 22:56:49.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/70acf0ce6f4ab46a81c91d639d1ae4dc07fc1941', 'message': 'Updated from global requirements\n\nChange-Id: Ie0fe59439fe9a5aa86e1ebbe5cf67fe97793c1e9\n'}]",0,96239,70acf0ce6f4ab46a81c91d639d1ae4dc07fc1941,17,3,4,11131,,,0,"Updated from global requirements

Change-Id: Ie0fe59439fe9a5aa86e1ebbe5cf67fe97793c1e9
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/39/96239/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,ae0c5a7ce2b797420655963a443b882395ce8883,openstack/requirements,"sphinx>=1.2.1,<1.3","sphinx>=1.1.2,<1.2",1,1
openstack%2Fhorizon~master~I9f4e9209606999e5529e5ba068640d607b817f56,openstack/horizon,master,I9f4e9209606999e5529e5ba068640d607b817f56,policy checks for nova access/security actions,MERGED,2014-04-09 17:56:30.000000000,2014-06-14 15:01:09.000000000,2014-06-14 15:01:09.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 1941}, {'_account_id': 4264}, {'_account_id': 5623}, {'_account_id': 6610}, {'_account_id': 8648}, {'_account_id': 8871}, {'_account_id': 9014}, {'_account_id': 9531}, {'_account_id': 9576}, {'_account_id': 9659}, {'_account_id': 10697}]","[{'number': 1, 'created': '2014-04-09 17:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f31ea8deaedd9c6dfcdf61e8e0acb8e81a892d0f', 'message': 'policy checks for nova access/security actions\n\nAdding policy rule checks for all Nova access and security actions.\n\nChange-Id: I9f4e9209606999e5529e5ba068640d607b817f56\nImplements: blueprint compute-rbac\n'}, {'number': 2, 'created': '2014-04-30 21:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5a8bf799028eadecebf5dec0c8dc95780bbb5d50', 'message': 'policy checks for nova access/security actions\n\nAdding policy rule checks for all Nova access and security actions.\n\nCo-Authored-By: Lin Hua Cheng <lin-hua.cheng@hp.com>\nChange-Id: I9f4e9209606999e5529e5ba068640d607b817f56\nImplements: blueprint compute-rbac\n'}, {'number': 3, 'created': '2014-05-07 18:24:52.000000000', 'files': ['openstack_dashboard/dashboards/project/access_and_security/floating_ips/tables.py', 'openstack_dashboard/dashboards/project/access_and_security/api_access/tables.py', 'openstack_dashboard/dashboards/project/access_and_security/security_groups/tables.py', 'openstack_dashboard/dashboards/project/access_and_security/keypairs/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ee92fab5103e1f77bac237460f36eb28e325adb3', 'message': 'policy checks for nova access/security actions\n\nAdding policy rule checks for all Nova access and security actions.\n\nCo-Authored-By: Lin Hua Cheng <lin-hua.cheng@hp.com>\nChange-Id: I9f4e9209606999e5529e5ba068640d607b817f56\nImplements: blueprint compute-rbac\n'}]",8,86406,ee92fab5103e1f77bac237460f36eb28e325adb3,73,13,3,1941,,,0,"policy checks for nova access/security actions

Adding policy rule checks for all Nova access and security actions.

Co-Authored-By: Lin Hua Cheng <lin-hua.cheng@hp.com>
Change-Id: I9f4e9209606999e5529e5ba068640d607b817f56
Implements: blueprint compute-rbac
",git fetch https://review.opendev.org/openstack/horizon refs/changes/06/86406/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/access_and_security/floating_ips/tables.py', 'openstack_dashboard/dashboards/project/access_and_security/api_access/tables.py', 'openstack_dashboard/dashboards/project/access_and_security/security_groups/tables.py', 'openstack_dashboard/dashboards/project/access_and_security/keypairs/tables.py']",4,f31ea8deaedd9c6dfcdf61e8e0acb8e81a892d0f,bp/compute-rbac," policy_rules = ((""compute"", ""compute_extension:keypairs:delete""),) policy_rules = ((""compute"", ""compute_extension:keypairs:create""),) policy_rules = ((""compute"", ""compute_extension:keypairs:create""),)",,111,7
openstack%2Fhorizon~master~I9f8482179b7f3c9175c98115770b5239cbd84cb9,openstack/horizon,master,I9f8482179b7f3c9175c98115770b5239cbd84cb9,Fix testing fails on specific platforms,MERGED,2014-03-18 15:35:49.000000000,2014-06-14 15:00:22.000000000,2014-06-14 15:00:21.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 4264}, {'_account_id': 6610}, {'_account_id': 7976}, {'_account_id': 8648}, {'_account_id': 8871}, {'_account_id': 10112}]","[{'number': 1, 'created': '2014-03-18 15:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/49e78c3c57164b3faa7620655021560eef52ea9e', 'message': 'Fix testing fails on specific platforms\n\n    Due to the use of dictionnaries, some tests fails especially in\nthe html rendering (attributes are stored in a dictionnary).\n\nChange-Id: I9f8482179b7f3c9175c98115770b5239cbd84cb9\nCloses-Bug: #1293692\n'}, {'number': 2, 'created': '2014-03-18 15:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1ea181b4415fd6080703f89f35368437cc81a37f', 'message': 'Fix testing fails on specific platforms\n\n    Due to the use of dictionnaries, some tests fails especially in\nthe html rendering (attributes are stored in a dictionnary).\n\nChange-Id: I9f8482179b7f3c9175c98115770b5239cbd84cb9\nCloses-Bug: #1293692\n'}, {'number': 3, 'created': '2014-04-28 13:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/831969c036abfa7a97c3e52941f65b48eab0ca7d', 'message': 'Fix testing fails on specific platforms\n\n    Due to the use of dictionaries, some tests fails especially in\nthe html rendering (attributes are stored in a dictionary).\n\nCo-Authored-By: florent <florent.flament-ext@cloudwatt.com>\nChange-Id: I9f8482179b7f3c9175c98115770b5239cbd84cb9\nCloses-Bug: #1293692\n'}, {'number': 4, 'created': '2014-06-03 08:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/65db8eaf40a0919d6a0753f7a30ca63544281be2', 'message': 'Fix testing fails on specific platforms\n\n    Due to the use of dictionaries and sets, some tests fails especially in\nthe html rendering (attributes are stored in a dictionary), and in\nadmin/aggregates, where API calls are checked over a set and the use of\nInAnyOrder function of mox is needed.\n\nCo-Authored-By: florent <florent.flament-ext@cloudwatt.com>\nChange-Id: I9f8482179b7f3c9175c98115770b5239cbd84cb9\nCloses-Bug: #1293692\n'}, {'number': 5, 'created': '2014-06-03 10:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0b4c9552e8ed8971804da9449b6a6a7352b339e9', 'message': 'Fix testing fails on specific platforms\n\n    Due to the use of dictionaries and sets, some tests fails especially in\nthe html rendering (attributes are stored in a dictionary), and in\nadmin/aggregates, where API calls are checked over a set and the use of\nInAnyOrder function of mox is needed.\n\nCo-Authored-By: florent <florent.flament-ext@cloudwatt.com>\nChange-Id: I9f8482179b7f3c9175c98115770b5239cbd84cb9\nCloses-Bug: #1293692\n'}, {'number': 6, 'created': '2014-06-03 12:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4c1c1ad8d969b914158db625dd7fa07e7e2cdc64', 'message': 'Fix testing fails on specific platforms\n\n    Due to the use of dictionaries and sets, some tests fails especially in\nthe html rendering (attributes are stored in a dictionary), and in\nadmin/aggregates, where API calls are checked over a set and the use of\nInAnyOrder function of mox is needed.\n\nCo-Authored-By: florent <florent.flament-ext@cloudwatt.com>\nChange-Id: I9f8482179b7f3c9175c98115770b5239cbd84cb9\nCloses-Bug: #1293692\n'}, {'number': 7, 'created': '2014-06-03 12:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9164289d87365e7c5fc668aa56cb8a608ea666f5', 'message': 'Fix testing fails on specific platforms\n\n    Due to the use of dictionaries and sets, some tests fails especially in\nthe html rendering (attributes are stored in a dictionary), and in\nadmin/aggregates, where API calls are checked over a set and the use of\nInAnyOrder function of mox is needed.\n\nCo-Authored-By: florent <florent.flament-ext@cloudwatt.com>\nChange-Id: I9f8482179b7f3c9175c98115770b5239cbd84cb9\nCloses-Bug: #1293692\n'}, {'number': 8, 'created': '2014-06-03 12:52:45.000000000', 'files': ['horizon/tables/actions.py', 'openstack_dashboard/dashboards/admin/metering/tests.py', 'openstack_dashboard/dashboards/admin/aggregates/tests.py', 'openstack_dashboard/test/api_tests/ceilometer_tests.py', 'horizon/tables/base.py', 'openstack_dashboard/dashboards/admin/overview/tests.py', 'openstack_dashboard/dashboards/project/instances/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/099fd156562933de352c5158057d7912be163b0f', 'message': 'Fix testing fails on specific platforms\n\n    Due to the use of dictionaries and sets, some tests fails especially in\nthe html rendering (attributes are stored in a dictionary), and in\nadmin/aggregates, where API calls are checked over a set and the use of\nInAnyOrder function of mox is needed.\n\nCo-Authored-By: florent <florent.flament-ext@cloudwatt.com>\nChange-Id: I9f8482179b7f3c9175c98115770b5239cbd84cb9\nCloses-Bug: #1293692\n'}]",12,81289,099fd156562933de352c5158057d7912be163b0f,50,8,8,7976,,,0,"Fix testing fails on specific platforms

    Due to the use of dictionaries and sets, some tests fails especially in
the html rendering (attributes are stored in a dictionary), and in
admin/aggregates, where API calls are checked over a set and the use of
InAnyOrder function of mox is needed.

Co-Authored-By: florent <florent.flament-ext@cloudwatt.com>
Change-Id: I9f8482179b7f3c9175c98115770b5239cbd84cb9
Closes-Bug: #1293692
",git fetch https://review.opendev.org/openstack/horizon refs/changes/89/81289/8 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/test/tests/tables.py', 'openstack_dashboard/dashboards/admin/metering/tests.py', 'openstack_dashboard/test/api_tests/ceilometer_tests.py', 'horizon/tables/base.py', 'openstack_dashboard/dashboards/admin/overview/tests.py']",5,49e78c3c57164b3faa7620655021560eef52ea9e,(detached,"import re usage_table = '<td>test_tenant</td>' \ '<td>%s</td>' \ '<td>%s</td>' \ '<td>%s</td>' \ '<td>%.2f</td>' \ '<td>%.2f</td>' % \ usage_table = re.escape(usage_table).replace('\\<td\\>', '\\<td.*?\\>') usage_table = '.*?' + usage_table + '.*' usage_table1 = '<td>3 (Deleted)</td>' \ '<td>%s</td>' \ '<td>%s</td>' \ '<td>%s</td>' \ '<td>%.2f</td>' \ '<td>%.2f</td>' % \ usage_table1 = re.escape(usage_table1).replace( '\\<td\\>', '\\<td.*?\\>' ) usage_table1 = '.*?' + usage_table1 + '.*' self.assertEqual(res.status_code, 200) if nova_stu_enabled: self.assertRegexpMatches(str(res.content), usage_table) if tenant_deleted: self.assertRegexpMatches(str(res.content), usage_table1) else: self.assertNotRegexpMatches(str(res.content), usage_table1) else: self.assertNotRegexpMatches(str(res.content), usage_table)"," usage_table = '<td class=""sortable normal_column"">test_tenant</td>' \ '<td class=""sortable normal_column"">%s</td>' \ '<td class=""sortable normal_column"">%s</td>' \ '<td class=""sortable normal_column"">%s</td>' \ '<td class=""sortable normal_column"">%.2f</td>' \ '<td class=""sortable normal_column"">%.2f</td>' % \ usage_table1 = '<td class=""sortable normal_column"">3 (Deleted)</td>' \ '<td class=""sortable normal_column"">%s</td>' \ '<td class=""sortable normal_column"">%s</td>' \ '<td class=""sortable normal_column"">%s</td>' \ '<td class=""sortable normal_column"">%.2f</td>' \ '<td class=""sortable normal_column"">%.2f</td>' % \ if nova_stu_enabled: self.assertContains(res, usage_table) if tenant_deleted: self.assertContains(res, usage_table1) else: self.assertNotContains(res, usage_table1) else: self.assertNotContains(res, usage_table)",50,29
openstack%2Fnova~master~If71a055c28c1875e67d826c5c4affda7377d179d,openstack/nova,master,If71a055c28c1875e67d826c5c4affda7377d179d,Fix object leak in nova.tests.objects.test_fields.TestObject,MERGED,2014-06-01 07:45:08.000000000,2014-06-14 14:52:58.000000000,2014-06-14 14:52:56.000000000,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 7400}, {'_account_id': 8871}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11069}]","[{'number': 1, 'created': '2014-06-01 07:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dbb0d6949f883b1630e2babef58ccd64146f4665', 'message': ""Fix object leak in nova.tests.objects.test_fields.TestObject\n\nCall superclass's setUp() before defining new objects so that the object\nregistry can be saved, and later restored, without the test objects in\nit.  This prevents the objects leaking into other tests by way of the\nobject registry.\n\nChange-Id: If71a055c28c1875e67d826c5c4affda7377d179d\n""}, {'number': 2, 'created': '2014-06-04 18:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b237856d8d57572d03f2a1286d2ce194916d84e0', 'message': ""Fix object leak in nova.tests.objects.test_fields.TestObject\n\nCall superclass's setUp() before defining new objects so that the object\nregistry can be saved, and later restored, without the test objects in\nit.  This prevents the objects leaking into other tests by way of the\nobject registry.\n\nChange-Id: If71a055c28c1875e67d826c5c4affda7377d179d\n""}, {'number': 3, 'created': '2014-06-14 06:09:41.000000000', 'files': ['nova/tests/objects/test_fields.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/01381b8ea026c5534e63237dba6541d5760e208b', 'message': ""Fix object leak in nova.tests.objects.test_fields.TestObject\n\nCall superclass's setUp() before defining new objects so that the object\nregistry can be saved, and later restored, without the test objects in\nit.  This prevents the objects leaking into other tests by way of the\nobject registry.\n\nChange-Id: If71a055c28c1875e67d826c5c4affda7377d179d\n""}]",0,97086,01381b8ea026c5534e63237dba6541d5760e208b,62,11,3,11069,,,0,"Fix object leak in nova.tests.objects.test_fields.TestObject

Call superclass's setUp() before defining new objects so that the object
registry can be saved, and later restored, without the test objects in
it.  This prevents the objects leaking into other tests by way of the
object registry.

Change-Id: If71a055c28c1875e67d826c5c4affda7377d179d
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/97086/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/objects/test_fields.py'],1,dbb0d6949f883b1630e2babef58ccd64146f4665,fix_test_object_leaks_in_fields_tests," super(TestObject, self).setUp() "," super(TestObject, self).setUp()",2,1
openstack%2Foslo.i18n~master~If225bfa0a4d319ebc530c6497f74a20d0f25835b,openstack/oslo.i18n,master,If225bfa0a4d319ebc530c6497f74a20d0f25835b,Split up monolithic test file,MERGED,2014-05-07 19:40:11.000000000,2014-06-14 13:30:38.000000000,2014-06-14 12:47:30.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 6159}, {'_account_id': 6928}, {'_account_id': 8871}, {'_account_id': 10873}]","[{'number': 1, 'created': '2014-05-07 19:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/74272ae866efdaefc0ae6fa56c413ffe1feebb26', 'message': 'Split up monolithic test file\n\nSplit the tests up into multiple files for easier\nmaintenance.\n\nUpdate the import order of modules used by the\ntests.\n\nChange-Id: If225bfa0a4d319ebc530c6497f74a20d0f25835b\n'}, {'number': 2, 'created': '2014-05-07 19:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/448109b0e3f6c9203e27a5e528cada98d6ed310b', 'message': 'Split up monolithic test file\n\nSplit the tests up into multiple files for easier\nmaintenance.\n\nUpdate the import order of modules used by the\ntests.\n\nbp graduate-oslo-i18n\n\nChange-Id: If225bfa0a4d319ebc530c6497f74a20d0f25835b\n'}, {'number': 3, 'created': '2014-05-09 14:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/6c17e84de3f5c2373dbc7b5eebe7479c778b032b', 'message': 'Split up monolithic test file\n\nSplit the tests up into multiple files for easier\nmaintenance.\n\nUpdate the import order of modules used by the\ntests.\n\nbp graduate-oslo-i18n\n\nChange-Id: If225bfa0a4d319ebc530c6497f74a20d0f25835b\n'}, {'number': 4, 'created': '2014-06-03 19:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/d55c3884f0acbc9fcdf3c49a4c97aeb436402d0c', 'message': 'Split up monolithic test file\n\nSplit the tests up into multiple files for easier\nmaintenance.\n\nUpdate the import order of modules used by the\ntests.\n\nbp graduate-oslo-i18n\n\nChange-Id: If225bfa0a4d319ebc530c6497f74a20d0f25835b\n'}, {'number': 5, 'created': '2014-06-04 16:51:37.000000000', 'files': ['tests/test_handler.py', 'tests/test_logging.py', 'tests/test_factory.py', 'tests/test_gettextutils.py', 'tests/utils.py', 'tests/test_message.py'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/d601e1c55ba44e4eaacdf7277fd4cbff1cbd755e', 'message': 'Split up monolithic test file\n\nSplit the tests up into multiple files for easier\nmaintenance.\n\nUpdate the import order of modules used by the\ntests.\n\nbp graduate-oslo-i18n\n\nChange-Id: If225bfa0a4d319ebc530c6497f74a20d0f25835b\n'}]",4,92681,d601e1c55ba44e4eaacdf7277fd4cbff1cbd755e,43,7,5,2472,,,0,"Split up monolithic test file

Split the tests up into multiple files for easier
maintenance.

Update the import order of modules used by the
tests.

bp graduate-oslo-i18n

Change-Id: If225bfa0a4d319ebc530c6497f74a20d0f25835b
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/81/92681/5 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_handler.py', 'tests/test_logging.py', 'tests/test_factory.py', 'tests/test_gettextutils.py', 'tests/utils.py', 'tests/test_message.py']",6,74272ae866efdaefc0ae6fa56c413ffe1feebb26,bp/graduate-oslo-i18n,"# Copyright 2012 Red Hat, Inc. # Copyright 2013 IBM Corp. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import logging import mock import six import testtools from oslotest import base as test_base from tests import fakes, utils from oslo.i18n import gettextutils LOG = logging.getLogger(__name__) class MessageTestCase(test_base.BaseTestCase): """"""Unit tests for locale Message class."""""" @staticmethod def message(msg): return gettextutils.Message(msg) def test_message_id_and_message_text(self): message = gettextutils.Message('1') self.assertEqual('1', message.msgid) self.assertEqual('1', message) message = gettextutils.Message('1', msgtext='A') self.assertEqual('1', message.msgid) self.assertEqual('A', message) def test_message_is_unicode(self): message = self.message('some %s') % 'message' self.assertIsInstance(message, six.text_type) @mock.patch('locale.getdefaultlocale') @mock.patch('gettext.translation') def test_create_message_non_english_default_locale(self, mock_translation, mock_getdefaultlocale): msgid = 'A message in English' es_translation = 'A message in Spanish' es_translations = {msgid: es_translation} translations_map = {'es': es_translations} translator = fakes.FakeTranslations.translator(translations_map) mock_translation.side_effect = translator mock_getdefaultlocale.return_value = ('es',) message = gettextutils.Message(msgid) # The base representation of the message is in Spanish, as well as # the default translation, since the default locale was Spanish. self.assertEqual(es_translation, message) self.assertEqual(es_translation, message.translate()) def test_translate_returns_unicode(self): message = self.message('some %s') % 'message' self.assertIsInstance(message.translate(), six.text_type) def test_mod_with_named_parameters(self): msgid = (""%(description)s\nCommand: %(cmd)s\n"" ""Exit code: %(exit_code)s\nStdout: %(stdout)r\n"" ""Stderr: %(stderr)r %%(something)s"") params = {'description': 'test1', 'cmd': 'test2', 'exit_code': 'test3', 'stdout': 'test4', 'stderr': 'test5', 'something': 'trimmed'} result = self.message(msgid) % params expected = msgid % params self.assertEqual(result, expected) self.assertEqual(result.translate(), expected) def test_multiple_mod_with_named_parameter(self): msgid = (""%(description)s\nCommand: %(cmd)s\n"" ""Exit code: %(exit_code)s\nStdout: %(stdout)r\n"" ""Stderr: %(stderr)r"") params = {'description': 'test1', 'cmd': 'test2', 'exit_code': 'test3', 'stdout': 'test4', 'stderr': 'test5'} # Run string interpolation the first time to make a new Message first = self.message(msgid) % params # Run string interpolation on the new Message, to replicate # one of the error paths with some Exception classes we've # implemented in OpenStack. We should receive a second Message # object, but the translation results should be the same. # # The production code that triggers this problem does something # like: # # msg = _('there was a problem %(name)s') % {'name': 'some value'} # LOG.error(msg) # raise BadExceptionClass(msg) # # where BadExceptionClass does something like: # # class BadExceptionClass(Exception): # def __init__(self, msg, **kwds): # super(BadExceptionClass, self).__init__(msg % kwds) # expected = first % {} # Base message id should be the same self.assertEqual(first.msgid, expected.msgid) # Preserved arguments should be the same self.assertEqual(first.params, expected.params) # Should have different objects self.assertIsNot(expected, first) # Final translations should be the same self.assertEqual(expected.translate(), first.translate()) def test_mod_with_named_parameters_no_space(self): msgid = (""Request: %(method)s http://%(server)s:"" ""%(port)s%(url)s with headers %(headers)s"") params = {'method': 'POST', 'server': 'test1', 'port': 1234, 'url': 'test2', 'headers': {'h1': 'val1'}} result = self.message(msgid) % params expected = msgid % params self.assertEqual(result, expected) self.assertEqual(result.translate(), expected) def test_mod_with_dict_parameter(self): msgid = ""Test that we can inject a dictionary %s"" params = {'description': 'test1'} result = self.message(msgid) % params expected = msgid % params self.assertEqual(result, expected) self.assertEqual(result.translate(), expected) def test_mod_with_integer_parameters(self): msgid = ""Some string with params: %d"" params = [0, 1, 10, 24124] messages = [] results = [] for param in params: messages.append(msgid % param) results.append(self.message(msgid) % param) for message, result in zip(messages, results): self.assertEqual(type(result), gettextutils.Message) self.assertEqual(result.translate(), message) # simulate writing out as string result_str = '%s' % result.translate() self.assertEqual(result_str, message) self.assertEqual(result, message) def test_mod_copies_parameters(self): msgid = ""Found object: %(current_value)s"" changing_dict = {'current_value': 1} # A message created with some params result = self.message(msgid) % changing_dict # The parameters may change changing_dict['current_value'] = 2 # Even if the param changes when the message is # translated it should use the original param self.assertEqual(result.translate(), 'Found object: 1') def test_mod_deep_copies_parameters(self): msgid = ""Found list: %(current_list)s"" changing_list = list([1, 2, 3]) params = {'current_list': changing_list} # Apply the params result = self.message(msgid) % params # Change the list changing_list.append(4) # Even though the list changed the message # translation should use the original list self.assertEqual(result.translate(), ""Found list: [1, 2, 3]"") def test_mod_deep_copies_param_nodeep_param(self): msgid = ""Value: %s"" params = utils.NoDeepCopyObject(5) # Apply the params result = self.message(msgid) % params self.assertEqual(result.translate(), ""Value: 5"") def test_mod_deep_copies_param_nodeep_dict(self): msgid = ""Values: %(val1)s %(val2)s"" params = {'val1': 1, 'val2': utils.NoDeepCopyObject(2)} # Apply the params result = self.message(msgid) % params self.assertEqual(result.translate(), ""Values: 1 2"") # Apply again to make sure other path works as well params = {'val1': 3, 'val2': utils.NoDeepCopyObject(4)} result = self.message(msgid) % params self.assertEqual(result.translate(), ""Values: 3 4"") def test_mod_returns_a_copy(self): msgid = ""Some msgid string: %(test1)s %(test2)s"" message = self.message(msgid) m1 = message % {'test1': 'foo', 'test2': 'bar'} m2 = message % {'test1': 'foo2', 'test2': 'bar2'} self.assertIsNot(message, m1) self.assertIsNot(message, m2) self.assertEqual(m1.translate(), msgid % {'test1': 'foo', 'test2': 'bar'}) self.assertEqual(m2.translate(), msgid % {'test1': 'foo2', 'test2': 'bar2'}) def test_mod_with_none_parameter(self): msgid = ""Some string with params: %s"" message = self.message(msgid) % None self.assertEqual(msgid % None, message) self.assertEqual(msgid % None, message.translate()) def test_mod_with_missing_parameters(self): msgid = ""Some string with params: %s %s"" test_me = lambda: self.message(msgid) % 'just one' # Just like with strings missing parameters raise TypeError self.assertRaises(TypeError, test_me) def test_mod_with_extra_parameters(self): msgid = ""Some string with params: %(param1)s %(param2)s"" params = {'param1': 'test', 'param2': 'test2', 'param3': 'notinstring'} result = self.message(msgid) % params expected = msgid % params self.assertEqual(result, expected) self.assertEqual(result.translate(), expected) # Make sure unused params still there self.assertEqual(result.params.keys(), params.keys()) def test_mod_with_missing_named_parameters(self): msgid = (""Some string with params: %(param1)s %(param2)s"" "" and a missing one %(missing)s"") params = {'param1': 'test', 'param2': 'test2'} test_me = lambda: self.message(msgid) % params # Just like with strings missing named parameters raise KeyError self.assertRaises(KeyError, test_me) def test_add_disabled(self): msgid = ""A message"" test_me = lambda: self.message(msgid) + ' some string' self.assertRaises(TypeError, test_me) def test_radd_disabled(self): msgid = ""A message"" test_me = lambda: utils.SomeObject('test') + self.message(msgid) self.assertRaises(TypeError, test_me) @testtools.skipIf(six.PY3, 'test specific to Python 2') def test_str_disabled(self): msgid = ""A message"" test_me = lambda: str(self.message(msgid)) self.assertRaises(UnicodeError, test_me) @mock.patch('gettext.translation') def test_translate(self, mock_translation): en_message = 'A message in the default locale' es_translation = 'A message in Spanish' message = gettextutils.Message(en_message) es_translations = {en_message: es_translation} translations_map = {'es': es_translations} translator = fakes.FakeTranslations.translator(translations_map) mock_translation.side_effect = translator self.assertEqual(es_translation, message.translate('es')) @mock.patch('gettext.translation') def test_translate_message_from_unicoded_object(self, mock_translation): en_message = 'A message in the default locale' es_translation = 'A message in Spanish' message = gettextutils.Message(en_message) es_translations = {en_message: es_translation} translations_map = {'es': es_translations} translator = fakes.FakeTranslations.translator(translations_map) mock_translation.side_effect = translator # Here we are not testing the Message object directly but the result # of unicoding() an object whose unicode representation is a Message obj = utils.SomeObject(message) unicoded_obj = six.text_type(obj) self.assertEqual(es_translation, unicoded_obj.translate('es')) @mock.patch('gettext.translation') def test_translate_multiple_languages(self, mock_translation): en_message = 'A message in the default locale' es_translation = 'A message in Spanish' zh_translation = 'A message in Chinese' message = gettextutils.Message(en_message) es_translations = {en_message: es_translation} zh_translations = {en_message: zh_translation} translations_map = {'es': es_translations, 'zh': zh_translations} translator = fakes.FakeTranslations.translator(translations_map) mock_translation.side_effect = translator self.assertEqual(es_translation, message.translate('es')) self.assertEqual(zh_translation, message.translate('zh')) self.assertEqual(en_message, message.translate(None)) self.assertEqual(en_message, message.translate('en')) self.assertEqual(en_message, message.translate('XX')) @mock.patch('gettext.translation') def test_translate_message_with_param(self, mock_translation): message_with_params = 'A message: %s' es_translation = 'A message in Spanish: %s' param = 'A Message param' translations = {message_with_params: es_translation} translator = fakes.FakeTranslations.translator({'es': translations}) mock_translation.side_effect = translator msg = gettextutils.Message(message_with_params) msg = msg % param default_translation = message_with_params % param expected_translation = es_translation % param self.assertEqual(expected_translation, msg.translate('es')) self.assertEqual(default_translation, msg.translate('XX')) @mock.patch('gettext.translation') def test_translate_message_with_object_param(self, mock_translation): message_with_params = 'A message: %s' es_translation = 'A message in Spanish: %s' param = 'A Message param' param_translation = 'A Message param in Spanish' translations = {message_with_params: es_translation, param: param_translation} translator = fakes.FakeTranslations.translator({'es': translations}) mock_translation.side_effect = translator msg = gettextutils.Message(message_with_params) param_msg = gettextutils.Message(param) # Here we are testing translation of a Message with another object # that can be translated via its unicode() representation, this is # very common for instance when modding an Exception with a Message obj = utils.SomeObject(param_msg) msg = msg % obj default_translation = message_with_params % param expected_translation = es_translation % param_translation self.assertEqual(expected_translation, msg.translate('es')) self.assertEqual(default_translation, msg.translate('XX')) @mock.patch('gettext.translation') def test_translate_message_with_param_from_unicoded_obj(self, mock_translation): message_with_params = 'A message: %s' es_translation = 'A message in Spanish: %s' param = 'A Message param' translations = {message_with_params: es_translation} translator = fakes.FakeTranslations.translator({'es': translations}) mock_translation.side_effect = translator msg = gettextutils.Message(message_with_params) msg = msg % param default_translation = message_with_params % param expected_translation = es_translation % param obj = utils.SomeObject(msg) unicoded_obj = six.text_type(obj) self.assertEqual(expected_translation, unicoded_obj.translate('es')) self.assertEqual(default_translation, unicoded_obj.translate('XX')) @mock.patch('gettext.translation') def test_translate_message_with_message_parameter(self, mock_translation): message_with_params = 'A message with param: %s' es_translation = 'A message with param in Spanish: %s' message_param = 'A message param' es_param_translation = 'A message param in Spanish' translations = {message_with_params: es_translation, message_param: es_param_translation} translator = fakes.FakeTranslations.translator({'es': translations}) mock_translation.side_effect = translator msg = gettextutils.Message(message_with_params) msg_param = gettextutils.Message(message_param) msg = msg % msg_param default_translation = message_with_params % message_param expected_translation = es_translation % es_param_translation self.assertEqual(expected_translation, msg.translate('es')) self.assertEqual(default_translation, msg.translate('XX')) @mock.patch('gettext.translation') def test_translate_message_with_message_parameters(self, mock_translation): message_with_params = 'A message with params: %s %s' es_translation = 'A message with params in Spanish: %s %s' message_param = 'A message param' es_param_translation = 'A message param in Spanish' another_message_param = 'Another message param' another_es_param_translation = 'Another message param in Spanish' translations = {message_with_params: es_translation, message_param: es_param_translation, another_message_param: another_es_param_translation} translator = fakes.FakeTranslations.translator({'es': translations}) mock_translation.side_effect = translator msg = gettextutils.Message(message_with_params) param_1 = gettextutils.Message(message_param) param_2 = gettextutils.Message(another_message_param) msg = msg % (param_1, param_2) default_translation = message_with_params % (message_param, another_message_param) expected_translation = es_translation % (es_param_translation, another_es_param_translation) self.assertEqual(expected_translation, msg.translate('es')) self.assertEqual(default_translation, msg.translate('XX')) @mock.patch('gettext.translation') def test_translate_message_with_named_parameters(self, mock_translation): message_with_params = 'A message with params: %(param)s' es_translation = 'A message with params in Spanish: %(param)s' message_param = 'A Message param' es_param_translation = 'A message param in Spanish' translations = {message_with_params: es_translation, message_param: es_param_translation} translator = fakes.FakeTranslations.translator({'es': translations}) mock_translation.side_effect = translator msg = gettextutils.Message(message_with_params) msg_param = gettextutils.Message(message_param) msg = msg % {'param': msg_param} default_translation = message_with_params % {'param': message_param} expected_translation = es_translation % {'param': es_param_translation} self.assertEqual(expected_translation, msg.translate('es')) self.assertEqual(default_translation, msg.translate('XX')) @mock.patch('locale.getdefaultlocale') @mock.patch('gettext.translation') def test_translate_message_non_default_locale(self, mock_translation, mock_getdefaultlocale): message_with_params = 'A message with params: %(param)s' es_translation = 'A message with params in Spanish: %(param)s' zh_translation = 'A message with params in Chinese: %(param)s' fr_translation = 'A message with params in French: %(param)s' message_param = 'A Message param' es_param_translation = 'A message param in Spanish' zh_param_translation = 'A message param in Chinese' fr_param_translation = 'A message param in French' es_translations = {message_with_params: es_translation, message_param: es_param_translation} zh_translations = {message_with_params: zh_translation, message_param: zh_param_translation} fr_translations = {message_with_params: fr_translation, message_param: fr_param_translation} translator = fakes.FakeTranslations.translator({'es': es_translations, 'zh': zh_translations, 'fr': fr_translations}) mock_translation.side_effect = translator mock_getdefaultlocale.return_value = ('es',) msg = gettextutils.Message(message_with_params) msg_param = gettextutils.Message(message_param) msg = msg % {'param': msg_param} es_translation = es_translation % {'param': es_param_translation} zh_translation = zh_translation % {'param': zh_param_translation} fr_translation = fr_translation % {'param': fr_param_translation} # Because sys.getdefaultlocale() was Spanish, # the default translation will be to Spanish self.assertEqual(es_translation, msg) self.assertEqual(es_translation, msg.translate()) self.assertEqual(es_translation, msg.translate('es')) # Translation into other locales still works self.assertEqual(zh_translation, msg.translate('zh')) self.assertEqual(fr_translation, msg.translate('fr')) ",,775,663
openstack%2Fdevstack-gate~master~Ifae56479364ded13fb765ec6158f651888e828ea,openstack/devstack-gate,master,Ifae56479364ded13fb765ec6158f651888e828ea,don't delete grenade logs,MERGED,2014-06-11 14:45:17.000000000,2014-06-14 13:29:03.000000000,2014-06-14 13:29:03.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5263}, {'_account_id': 6786}, {'_account_id': 8871}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-11 14:45:17.000000000', 'files': ['functions.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/88a27326a0eca9ef6f84eff466230da725ed9302', 'message': ""don't delete grenade logs\n\nwe actually want to switch over to summary logs in the gate, so\nwe need to not delete the logs, as the console will be pretty\nempty otherwise:\n\nChange-Id: Ifae56479364ded13fb765ec6158f651888e828ea\nbp:grenade-readability\n""}]",0,99396,88a27326a0eca9ef6f84eff466230da725ed9302,22,6,1,2750,,,0,"don't delete grenade logs

we actually want to switch over to summary logs in the gate, so
we need to not delete the logs, as the console will be pretty
empty otherwise:

Change-Id: Ifae56479364ded13fb765ec6158f651888e828ea
bp:grenade-readability
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/96/99396/1 && git format-patch -1 --stdout FETCH_HEAD,['functions.sh'],1,88a27326a0eca9ef6f84eff466230da725ed9302,bp/grenade-readable,, # $BASE/logs is a link to $WORKSPACE (see # devstack-vm-gate-wrap.sh) so we need to clear out a few extra # logs files we don't want to keep sudo rm $BASE/logs/grenade.sh.log.* ,0,5
openstack%2Foslo.db~master~Ie92caff005217250de17461f4f87692ad8e96a09,openstack/oslo.db,master,Ie92caff005217250de17461f4f87692ad8e96a09,Fix changing the type of column deleted,MERGED,2014-05-13 11:17:16.000000000,2014-06-14 12:33:02.000000000,2014-06-14 12:33:01.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6849}, {'_account_id': 7491}, {'_account_id': 7536}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-05-13 11:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/d50c8738b07d646b0d5af58c3c23d51b748be8e9', 'message': ""Fix migrations changing the type of deleted column\n\nSQLite doesn't provide a native implementation of BOOLEAN data type.\nSQLAlchemy emulates BOOLEAN data type for SQLite using INT column +\nCHECK constraint.\nWe have a few migrations changing the type of column 'deleted' from\nBOOLEAN to INT. Due to limitations of ALTER in SQLite, in order to do\nthat, we omit the original 'deleted' column as well as the corresponding\nCHECK constraint when recreating the table. Omitting of the constraint\nis more tricky. It's implemented by analyzing the SQL text used for its\nrendering. SQLAlchemy versions 0.8.3+ slightly changed the way\nconstraints are rendered, so we have to update our migrations changing\nthe type of 'deleted' column to work with SQLAlchemy 0.8.3+ on SQLite\nbackend (we aren't using SQLite in production, but we still need it for\nrunning of unit tests).\n\nChange-Id: Ie92caff005217250de17461f4f87692ad8e96a09\nCloses-Bug: #1252693\n""}, {'number': 2, 'created': '2014-05-22 12:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/0d5fccc895611d0f0a69ed5d317e3d428704efc7', 'message': ""Fix migrations changing the type of deleted column\n\nSQLite doesn't provide a native implementation of BOOLEAN data type.\nSQLAlchemy emulates BOOLEAN data type for SQLite using INT column +\nCHECK constraint.\nWe have a few migrations changing the type of column 'deleted' from\nBOOLEAN to INT. Due to limitations of ALTER in SQLite, in order to do\nthat, we omit the original 'deleted' column as well as the corresponding\nCHECK constraint when recreating the table. Omitting of the constraint\nis more tricky. It's implemented by analyzing the SQL text used for its\nrendering. SQLAlchemy versions 0.8.3+ slightly changed the way\nconstraints are rendered, so we have to update our migrations changing\nthe type of 'deleted' column to work with SQLAlchemy 0.8.3+ on SQLite\nbackend (we aren't using SQLite in production, but we still need it for\nrunning of unit tests).\n\nChange-Id: Ie92caff005217250de17461f4f87692ad8e96a09\nCloses-Bug: #1252693\n""}, {'number': 3, 'created': '2014-05-22 13:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/0f894d1a1087fc32bdd5c36be65259ab6cb6929a', 'message': ""Fix migrations changing the type of deleted column\n\nSQLite doesn't provide a native implementation of BOOLEAN data type.\nSQLAlchemy emulates BOOLEAN data type for SQLite using INT column +\nCHECK constraint.\nWe have a few migrations changing the type of column 'deleted' from\nBOOLEAN to INT. Due to limitations of ALTER in SQLite, in order to do\nthat, we omit the original 'deleted' column as well as the corresponding\nCHECK constraint when recreating the table. Omitting of the constraint\nis more tricky. It's implemented by analyzing the SQL text used for its\nrendering. SQLAlchemy versions 0.8.3+ slightly changed the way\nconstraints are rendered, so we have to update our migrations changing\nthe type of 'deleted' column to work with SQLAlchemy 0.8.3+ on SQLite\nbackend (we aren't using SQLite in production, but we still need it for\nrunning of unit tests).\n\nChange-Id: Ie92caff005217250de17461f4f87692ad8e96a09\nCloses-Bug: #1252693\n""}, {'number': 4, 'created': '2014-05-23 09:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/ef7dac043ef403cc0861317cd1d2b8fc193b06ee', 'message': ""Fix migrations changing the type of deleted column\n\nSQLite doesn't provide a native implementation of BOOLEAN data type.\nSQLAlchemy emulates BOOLEAN data type for SQLite using INT column +\nCHECK constraint.\nWe have a few migrations changing the type of column 'deleted' from\nBOOLEAN to INT. Due to limitations of ALTER in SQLite, in order to do\nthat, we omit the original 'deleted' column as well as the corresponding\nCHECK constraint when recreating the table. Omitting of the constraint\nis more tricky. It's implemented by analyzing the SQL text used for its\nrendering. SQLAlchemy versions 0.8.3+ slightly changed the way\nconstraints are rendered, so we have to update our migrations changing\nthe type of 'deleted' column to work with SQLAlchemy 0.8.3+ on SQLite\nbackend (we aren't using SQLite in production, but we still need it for\nrunning of unit tests).\n\nChange-Id: Ie92caff005217250de17461f4f87692ad8e96a09\nCloses-Bug: #1252693\n""}, {'number': 5, 'created': '2014-05-27 09:04:27.000000000', 'files': ['tests/sqlalchemy/test_utils.py', 'oslo/db/sqlalchemy/utils.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/528e406053ac9dfc5ee1348cf1ee64220ad0c1ce', 'message': ""Fix changing the type of column deleted\n\nSQLite doesn't provide a native implementation of BOOLEAN data type.\nSQLAlchemy emulates BOOLEAN data type for SQLite using INT column +\na CHECK constraint.\n\nWe've been providing a helper util to change the type of column\n'deleted' from BOOLEAN to INT. Due to limitations of ALTER in SQLite,\nin order to do that, we omit the original 'deleted' column as well as\nthe corresponding CHECK constraint when recreating the table.\nOmitting of the constraint is more tricky, though. It's implemented\nby analyzing the SQL text used for its rendering.  SQLAlchemy\nversions 0.8.3+ slightly changed the way constraints are rendered, so\nwe have to update our util changing the type of 'deleted' column to\nwork with SQLAlchemy 0.8.3+ on SQLite backend (we aren't using SQLite\nin production, but we still need it for running of unit tests).\n\nCloses-Bug: #1252693\n\nChange-Id: Ie92caff005217250de17461f4f87692ad8e96a09\n""}]",4,93414,528e406053ac9dfc5ee1348cf1ee64220ad0c1ce,41,6,5,7536,,,0,"Fix changing the type of column deleted

SQLite doesn't provide a native implementation of BOOLEAN data type.
SQLAlchemy emulates BOOLEAN data type for SQLite using INT column +
a CHECK constraint.

We've been providing a helper util to change the type of column
'deleted' from BOOLEAN to INT. Due to limitations of ALTER in SQLite,
in order to do that, we omit the original 'deleted' column as well as
the corresponding CHECK constraint when recreating the table.
Omitting of the constraint is more tricky, though. It's implemented
by analyzing the SQL text used for its rendering.  SQLAlchemy
versions 0.8.3+ slightly changed the way constraints are rendered, so
we have to update our util changing the type of 'deleted' column to
work with SQLAlchemy 0.8.3+ on SQLite backend (we aren't using SQLite
in production, but we still need it for running of unit tests).

Closes-Bug: #1252693

Change-Id: Ie92caff005217250de17461f4f87692ad8e96a09
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/14/93414/4 && git format-patch -1 --stdout FETCH_HEAD,['oslo/db/sqlalchemy/utils.py'],1,d50c8738b07d646b0d5af58c3c23d51b748be8e9,bug/1252693," # NOTE(I159): when the type of column `deleted` is changed from boolean # to int, the corresponding CHECK constraint is dropped too. But # starting from SQLAlchemy version 0.8.3, those CHECK constraints # aren't dropped anymore. So despite the fact that column deleted is # of type int now, we still restrict its values to be either 0 or 1. constraint_markers = ( ""deleted in (0, 1)"", ""deleted IN (:deleted_1, :deleted_2)"", ""deleted IN (:param_1, :param_2)"" ) return any(sqltext.endswith(marker) for marker in constraint_markers)"," return (sqltext.endswith(""deleted in (0, 1)"") or sqltext.endswith(""deleted IN (:deleted_1, :deleted_2)""))",11,2
openstack%2Ftrove~master~I01cc796de1f7fd9b6da3e45fb172990a623ec27d,openstack/trove,master,I01cc796de1f7fd9b6da3e45fb172990a623ec27d,Imported Translations from Transifex,MERGED,2014-05-31 06:14:05.000000000,2014-06-14 11:48:41.000000000,2014-06-14 11:48:40.000000000,"[{'_account_id': 3}, {'_account_id': 5293}, {'_account_id': 7092}, {'_account_id': 8214}, {'_account_id': 8871}, {'_account_id': 9536}]","[{'number': 1, 'created': '2014-05-31 06:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a8d456794dce89f26f0c6339763896fed2c4f2de', 'message': 'Imported Translations from Transifex\n\nChange-Id: I01cc796de1f7fd9b6da3e45fb172990a623ec27d\n'}, {'number': 2, 'created': '2014-06-01 06:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/cb24d3494767bd2bcbdb571da6edefaf9738762f', 'message': 'Imported Translations from Transifex\n\nChange-Id: I01cc796de1f7fd9b6da3e45fb172990a623ec27d\n'}, {'number': 3, 'created': '2014-06-02 06:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/96b597ea1ce117ea5d524d1c9cc43c81a50ed652', 'message': 'Imported Translations from Transifex\n\nChange-Id: I01cc796de1f7fd9b6da3e45fb172990a623ec27d\n'}, {'number': 4, 'created': '2014-06-03 06:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/c29068d4ac9ede805eb85aaa1034be5cd212e810', 'message': 'Imported Translations from Transifex\n\nChange-Id: I01cc796de1f7fd9b6da3e45fb172990a623ec27d\n'}, {'number': 5, 'created': '2014-06-04 06:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f4093d50fb64fff20711927e5b8af7ece8ddf7fc', 'message': 'Imported Translations from Transifex\n\nChange-Id: I01cc796de1f7fd9b6da3e45fb172990a623ec27d\n'}, {'number': 6, 'created': '2014-06-05 06:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/8378fc1d4ceeb87e788fb56fb2a80c1040ddb059', 'message': 'Imported Translations from Transifex\n\nChange-Id: I01cc796de1f7fd9b6da3e45fb172990a623ec27d\n'}, {'number': 7, 'created': '2014-06-06 06:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7804917b4d1e3b23a3278ad71dcf497c36cb5bfa', 'message': 'Imported Translations from Transifex\n\nChange-Id: I01cc796de1f7fd9b6da3e45fb172990a623ec27d\n'}, {'number': 8, 'created': '2014-06-07 06:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/14e532cfeeecbebeab4f562f7e874aece89c20d6', 'message': 'Imported Translations from Transifex\n\nChange-Id: I01cc796de1f7fd9b6da3e45fb172990a623ec27d\n'}, {'number': 9, 'created': '2014-06-08 06:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/20e9e3a02a402ab53e2863236747ceb87c799fbf', 'message': 'Imported Translations from Transifex\n\nChange-Id: I01cc796de1f7fd9b6da3e45fb172990a623ec27d\n'}, {'number': 10, 'created': '2014-06-09 06:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f067f65c025a08709af8443ba5fd008038cd6e20', 'message': 'Imported Translations from Transifex\n\nChange-Id: I01cc796de1f7fd9b6da3e45fb172990a623ec27d\n'}, {'number': 11, 'created': '2014-06-10 06:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/8cb0185c779f279ad8eb298b8966f358b103a0ac', 'message': 'Imported Translations from Transifex\n\nChange-Id: I01cc796de1f7fd9b6da3e45fb172990a623ec27d\n'}, {'number': 12, 'created': '2014-06-11 06:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e6504f4a335031344c6ff49701c50b5dc23e5c21', 'message': 'Imported Translations from Transifex\n\nChange-Id: I01cc796de1f7fd9b6da3e45fb172990a623ec27d\n'}, {'number': 13, 'created': '2014-06-12 06:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/fca85a23716de37abbba3be8a3a5b018fee4fdcc', 'message': 'Imported Translations from Transifex\n\nChange-Id: I01cc796de1f7fd9b6da3e45fb172990a623ec27d\n'}, {'number': 14, 'created': '2014-06-13 06:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e61a8ccc5074ad104101e624bdb6ad19f287b082', 'message': 'Imported Translations from Transifex\n\nChange-Id: I01cc796de1f7fd9b6da3e45fb172990a623ec27d\n'}, {'number': 15, 'created': '2014-06-14 06:07:00.000000000', 'files': ['trove/locale/trove-log-warning.pot', 'trove/locale/trove-log-info.pot', 'trove/locale/trove.pot', 'trove/locale/trove-log-critical.pot', 'trove/locale/trove-log-error.pot', 'trove/locale/en_US/LC_MESSAGES/trove.po'], 'web_link': 'https://opendev.org/openstack/trove/commit/822a66e6588b2f9b38d7a57f55ce1457f7805cc5', 'message': 'Imported Translations from Transifex\n\nChange-Id: I01cc796de1f7fd9b6da3e45fb172990a623ec27d\n'}]",0,97008,822a66e6588b2f9b38d7a57f55ce1457f7805cc5,133,6,15,11131,,,0,"Imported Translations from Transifex

Change-Id: I01cc796de1f7fd9b6da3e45fb172990a623ec27d
",git fetch https://review.opendev.org/openstack/trove refs/changes/08/97008/5 && git format-patch -1 --stdout FETCH_HEAD,"['trove/locale/trove-log-warning.pot', 'trove/locale/trove-log-info.pot', 'trove/locale/trove-log-critical.pot', 'trove/locale/trove-log-error.pot']",4,a8d456794dce89f26f0c6339763896fed2c4f2de,transifex/translations,"# Translations template for trove. # Copyright (C) 2014 ORGANIZATION # This file is distributed under the same license as the trove project. # FIRST AUTHOR <EMAIL@ADDRESS>, 2014. # #, fuzzy msgid """" msgstr """" ""Project-Id-Version: trove 2014.2.dev118.ge8019b3\n"" ""Report-Msgid-Bugs-To: EMAIL@ADDRESS\n"" ""POT-Creation-Date: 2014-05-31 06:13+0000\n"" ""PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"" ""Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"" ""Language-Team: LANGUAGE <LL@li.org>\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=utf-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""Generated-By: Babel 1.3\n"" ",,76,0
openstack%2Fglance-specs~master~I248675e39d8a666807fcf34da5847c1f85a5a626,openstack/glance-specs,master,I248675e39d8a666807fcf34da5847c1f85a5a626,Proposal for logging refactoring,MERGED,2014-06-12 10:39:42.000000000,2014-06-14 11:40:43.000000000,2014-06-13 16:51:05.000000000,"[{'_account_id': 3}, {'_account_id': 616}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 8759}]","[{'number': 1, 'created': '2014-06-12 10:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/7ceb0ab568316a17cda33781f7d0dae2b7edb6c3', 'message': 'Proposal for logging refactoring\n\nThis spec would provide place to discuss needed actions for revisiting how\nGlance is logging.\n\nChange-Id: I248675e39d8a666807fcf34da5847c1f85a5a626\n'}, {'number': 2, 'created': '2014-06-12 12:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/4d43b2bd5e0d183fef352f9ee18478728ee1a72b', 'message': 'Proposal for logging refactoring\n\nThis spec would provide place to discuss needed actions for revisiting how\nGlance is logging.\n\nChange-Id: I248675e39d8a666807fcf34da5847c1f85a5a626\n'}, {'number': 3, 'created': '2014-06-13 13:42:50.000000000', 'files': ['specs/juno/refactoring-glance-logging.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/716dceb3b3526cd508e0f065f30f636f915f71e7', 'message': 'Proposal for logging refactoring\n\nThis spec would provide place to discuss needed actions for revisiting how\nGlance is logging.\n\nChange-Id: I248675e39d8a666807fcf34da5847c1f85a5a626\n'}]",8,99622,716dceb3b3526cd508e0f065f30f636f915f71e7,18,5,3,5202,,,0,"Proposal for logging refactoring

This spec would provide place to discuss needed actions for revisiting how
Glance is logging.

Change-Id: I248675e39d8a666807fcf34da5847c1f85a5a626
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/22/99622/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/refactoring-glance-logging.rst'],1,7ceb0ab568316a17cda33781f7d0dae2b7edb6c3,logging,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================== Refactoring Glance logging ========================== Glance is currently logging lots of operator relevant information as DEBUG. Also the logged messages are translated in various ways. I would like to refactor the whole Glance codebase reflecting the current logging guidelines. Problem description =================== OPS are complaining that OpenStack as whole does not utilize the logging levels appropriately and production implementations needs to run on DEBUG- level to get needed information out of the logs. Glance is logging a lot of operator relevant information as DEBUG. [1] Proposed change =============== I would like to see whole Glance codebase revisited and the logging changed to use appropriate logging level and reflect the translation functions to those levels as well. This would be also good opportunity to ensure that we have no logging left that would write sensitive information like URIs and credentials to logfiles. Unify the way how exceptions are logged. Exception message should be always logged if anything to ensure that operators can find the even based on end user problem description. Alternatives ------------ We could implement error codes to differentiate the messages sent to user and logged having still unique linkage between the two. This would cause more documentation overhead but provide greater flexibility and granularity. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- This would reinforce the confidence that we do not log sensitive/confidential information. [2] Notifications impact -------------------- Some notification messages might have minor changes. Other end user impact --------------------- None Performance Impact ------------------ This should not have performance hit outside of the corrected amount of translation function calls made. Other deployer impact --------------------- Users who have their own logging filtering in place would need to review those rules after the logging level has been changed. Developer impact ---------------- The logging on correct levels should make developer life easier when trying to debug the code. Implementation ============== Assignee(s) ----------- Primary assignee: Erno Kuvaja <jokke> Other contributors: <launchpad-id or None> Work Items ---------- * Review OpenStack logging guidelines [1][2] * Review the current logging pattern and make decision where changing the message content would be appropriate (sensitive data, etc.) * Determine the correct logging level message by message and align the translation functions used on that log level. Dependencies ============ * Related proposal in the Security Guideline draft [2] to implement some sanitizing and tagging to oslo. This is not dependency nor should affect this work other than possible adobtation if the proposed functionality gets implemented. Testing ======= None Documentation Impact ==================== New log level use cases should be documented so deployers would now what to expect finding from their logs. References ========== [1] https://wiki.openstack.org/wiki/LoggingStandards [2] https://wiki.openstack.org/wiki/Security/Guidelines/logging_guidelines {DRAFT} ",,142,0
openstack%2Ftraining-guides~master~I8d29b775b380f4efdcbca61ed1667b84db572bf5,openstack/training-guides,master,I8d29b775b380f4efdcbca61ed1667b84db572bf5,Add kickstart files for Fedora 20 installer,MERGED,2014-06-13 19:11:27.000000000,2014-06-14 10:44:07.000000000,2014-06-14 10:44:07.000000000,"[{'_account_id': 3}, {'_account_id': 6923}, {'_account_id': 7007}]","[{'number': 1, 'created': '2014-06-13 19:11:27.000000000', 'files': ['labs/lib/osbash/netboot/ks-ssh.cfg', 'labs/lib/osbash/netboot/ks-all.cfg', 'labs/lib/osbash/netboot/ks-vbadd.cfg'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/7d1f7434a43464a1db8b734b15e67340e9b0c5ad', 'message': 'Add kickstart files for Fedora 20 installer\n\nThese kickstart files take the Fedora 20 installer through the first\nstage of installation.\n\nThe three files differ in what is configured when the freshly installed\nsystem reboots:\n\nks-ssh.cfg:\n  user osbash (password: osbash) can log in with the insecure Vagrant\n  key and use password-less sudo for all commands.\n\nks-vbadd.cfg\n  VirtualBox guest additions are installed from /dev/sr1 (will\n  be put there by install script); a script is installed to run\n  activate_autostart.sh from an auto-mounted shared folder upon reboot.\n\nks-all.cfg:\n  Enables both VM access methods described above.\n\nPartial-Bug: 1312764\nImplements: blueprint openstack-training-labs\nChange-Id: I8d29b775b380f4efdcbca61ed1667b84db572bf5\n'}]",0,99993,7d1f7434a43464a1db8b734b15e67340e9b0c5ad,7,3,1,11109,,,0,"Add kickstart files for Fedora 20 installer

These kickstart files take the Fedora 20 installer through the first
stage of installation.

The three files differ in what is configured when the freshly installed
system reboots:

ks-ssh.cfg:
  user osbash (password: osbash) can log in with the insecure Vagrant
  key and use password-less sudo for all commands.

ks-vbadd.cfg
  VirtualBox guest additions are installed from /dev/sr1 (will
  be put there by install script); a script is installed to run
  activate_autostart.sh from an auto-mounted shared folder upon reboot.

ks-all.cfg:
  Enables both VM access methods described above.

Partial-Bug: 1312764
Implements: blueprint openstack-training-labs
Change-Id: I8d29b775b380f4efdcbca61ed1667b84db572bf5
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/93/99993/1 && git format-patch -1 --stdout FETCH_HEAD,"['labs/lib/osbash/netboot/ks-ssh.cfg', 'labs/lib/osbash/netboot/ks-all.cfg', 'labs/lib/osbash/netboot/ks-vbadd.cfg']",3,7d1f7434a43464a1db8b734b15e67340e9b0c5ad,bug/1312764,"#platform=x86, AMD64, or Intel EM64T #version=DEVEL # Install OS instead of upgrade install # Keyboard layouts keyboard 'us' # Reboot after installation reboot --eject # Root password rootpw --plaintext osbash # System timezone timezone Etc/UTC --isUtc # System language lang en_US # Firewall configuration firewall --disabled # System authorization information auth --useshadow --passalgo=sha512 # Use CDROM installation media cdrom # Use text mode install text # SELinux configuration selinux --permissive # Do not configure the X Window System skipx # System bootloader configuration bootloader --location=mbr # Partition clearing information clearpart --all part /boot --fstype=ext4 --size=1024 part pv.0 --grow --size=1 volgroup ROOTDISK --pesize=4096 pv.0 logvol swap --name=swap --vgname=ROOTDISK --recommended logvol / --fstype=ext4 --name=root --vgname=ROOTDISK --size=1 --grow %pre --interpreter=bash %end #------------------------------------------------------------------------------- # Install VirtualBox guest additions, bootstrap osbashauto %post --interpreter=/bin/bash yum -y install dkms mount /dev/sr1 /mnt /mnt/VBoxLinuxAdditions.run umount /mnt echo -e '#!/bin/bash\nbash /media/sf_*/autostart/*activate_autostart.sh\nrm /media/*/autostart/*activate_autostart.sh' > /etc/init.d/osbash chmod 755 /etc/init.d/osbash ln -s ../init.d/osbash /etc/rc2.d/S40osbash %end #------------------------------------------------------------------------------- # tar, bzip2, kernel-{devel,headers}: needed for VirtualBox guest additions # (but not in @core) %packages tar bzip2 kernel-devel kernel-headers %end ",,197,0
openstack%2Fglance~master~If9a35df8d1189d126033404faa7167c0b0cc4d44,openstack/glance,master,If9a35df8d1189d126033404faa7167c0b0cc4d44,Remove duplicated is_uuid_like() function,MERGED,2014-05-20 09:00:12.000000000,2014-06-14 10:01:09.000000000,2014-06-14 10:01:09.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 6549}, {'_account_id': 7491}, {'_account_id': 8759}, {'_account_id': 8871}, {'_account_id': 9126}]","[{'number': 1, 'created': '2014-05-20 09:00:12.000000000', 'files': ['glance/cmd/replicator.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/750f4c777c32767291c1f7d0876b3ea3d76da4ac', 'message': 'Remove duplicated is_uuid_like() function\n\nFunction is_uuid_like() declared in glance.cmd.replicator and\nglance.common.utils modules. These functions are similar, so we can\nuse only one of them\n\nChange-Id: If9a35df8d1189d126033404faa7167c0b0cc4d44\n'}]",0,94326,750f4c777c32767291c1f7d0876b3ea3d76da4ac,32,7,1,7491,,,0,"Remove duplicated is_uuid_like() function

Function is_uuid_like() declared in glance.cmd.replicator and
glance.common.utils modules. These functions are similar, so we can
use only one of them

Change-Id: If9a35df8d1189d126033404faa7167c0b0cc4d44
",git fetch https://review.opendev.org/openstack/glance refs/changes/26/94326/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/cmd/replicator.py'],1,750f4c777c32767291c1f7d0876b3ea3d76da4ac,fix-is_uuid_like, if utils.is_uuid_like(ent):,"import uuid# This is lifted from openstack-common, but copied here to reduce dependancies def is_uuid_like(value): try: uuid.UUID(value) return True except Exception: return False if is_uuid_like(ent):",1,11
openstack%2Fnova~master~I8dd858e4cf17d8f689613554d1fbc3e56f220886,openstack/nova,master,I8dd858e4cf17d8f689613554d1fbc3e56f220886,Fix the wrong dest of 'vlan' option and add new 'vlan_start' option,MERGED,2014-05-30 07:33:06.000000000,2014-06-14 09:42:25.000000000,2014-06-13 20:56:38.000000000,"[{'_account_id': 3}, {'_account_id': 67}, {'_account_id': 91}, {'_account_id': 642}, {'_account_id': 679}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 6526}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9409}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-05-30 07:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3a2435f6469948a101b10fc5ae1c17e668cbe1d', 'message': ""Fix the error dest of 'vlan' option and add new 'vlan_start' option\n\nDocImpact\nCloses-Bug: #1288609\nChange-Id: I8dd858e4cf17d8f689613554d1fbc3e56f220886\n""}, {'number': 2, 'created': '2014-06-03 02:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9474222a4a454a61fcb1edaa22c3a6527e54bd0', 'message': ""Fix the wrong dest of 'vlan' option and add new 'vlan_start' option\n\n* Allow to specify vlan tag when create nova network, the dest of vlan\noption should be 'vlan' instead of 'vlan_start'\n* Provide new option 'vlan_start' when create nova network\n* No new test cases needed since the existing can cover this changes.\n\nDocImpact\nCloses-Bug: #1288609\nChange-Id: I8dd858e4cf17d8f689613554d1fbc3e56f220886\n""}, {'number': 3, 'created': '2014-06-05 05:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19f1ee91d9f6097c53212a60e2b5e28226ac30d5', 'message': ""Fix the wrong dest of 'vlan' option and add new 'vlan_start' option\n\n* Allow to specify vlan tag when create nova network, the dest of vlan\noption should be 'vlan' instead of 'vlan_start'\n* Provide new option 'vlan_start' when create nova network\n* No new test cases needed since the existing can cover this changes.\n\nDocImpact\nCloses-Bug: #1288609\nChange-Id: I8dd858e4cf17d8f689613554d1fbc3e56f220886\n""}, {'number': 4, 'created': '2014-06-10 01:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/115c239051cca46360cadebaa7f12a609303ebf9', 'message': ""Fix the wrong dest of 'vlan' option and add new 'vlan_start' option\n\n* Allow to specify vlan tag when create nova network, the dest of vlan\noption should be 'vlan' instead of 'vlan_start'\n* Provide new option 'vlan_start' when create nova network\n* No new test cases needed since the existing can cover this changes.\n\nDocImpact\nCloses-Bug: #1288609\nChange-Id: I8dd858e4cf17d8f689613554d1fbc3e56f220886\n""}, {'number': 5, 'created': '2014-06-11 04:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/786f3f622e152755fe557f9030bd7bb79018501d', 'message': ""Fix the wrong dest of 'vlan' option and add new 'vlan_start' option\n\n* Allow to specify vlan tag when create nova network, the dest of vlan\noption should be 'vlan' instead of 'vlan_start'\n* Provide new option 'vlan_start' when create nova network\n* test case is updated.\n\nDocImpact\nCloses-Bug: #1288609\nChange-Id: I8dd858e4cf17d8f689613554d1fbc3e56f220886\n""}, {'number': 6, 'created': '2014-06-12 15:30:38.000000000', 'files': ['nova/tests/test_nova_manage.py', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e251535eaa7c6a564eddb9218de177c9bea656bb', 'message': ""Fix the wrong dest of 'vlan' option and add new 'vlan_start' option\n\n* Allow to specify vlan tag when create nova network, the dest of vlan\noption should be 'vlan' instead of 'vlan_start'\n* Provide new option 'vlan_start' when create nova network\n* test case is updated.\n\nDocImpact\nCloses-Bug: #1288609\nChange-Id: I8dd858e4cf17d8f689613554d1fbc3e56f220886\n""}]",0,96679,e251535eaa7c6a564eddb9218de177c9bea656bb,83,15,6,6526,,,0,"Fix the wrong dest of 'vlan' option and add new 'vlan_start' option

* Allow to specify vlan tag when create nova network, the dest of vlan
option should be 'vlan' instead of 'vlan_start'
* Provide new option 'vlan_start' when create nova network
* test case is updated.

DocImpact
Closes-Bug: #1288609
Change-Id: I8dd858e4cf17d8f689613554d1fbc3e56f220886
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/96679/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/cmd/manage.py'],1,d3a2435f6469948a101b10fc5ae1c17e668cbe1d,bug/1288609," @args('--vlan', metavar='<vlan id>', help='vlan id') @args('--vlan_start', dest='vlan_start', metavar='<vlan start id>', help='vlan start id') network_size=None, multi_host=None, vlan=None, vlan_start=None, vpn_start=None, cidr_v6=None, gateway=None,"," @args('--vlan', dest='vlan_start', metavar='<vlan id>', help='vlan id') network_size=None, multi_host=None, vlan_start=None, vpn_start=None, cidr_v6=None, gateway=None,",5,3
openstack%2Fcliff~master~Iffbaa176c3efd41084a655adcbbb0821d8ad496d,openstack/cliff,master,Iffbaa176c3efd41084a655adcbbb0821d8ad496d,Fix wrong method name assert_called_once,MERGED,2014-05-16 09:03:19.000000000,2014-06-14 09:35:59.000000000,2014-06-14 09:35:59.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 8736}, {'_account_id': 8871}, {'_account_id': 9796}]","[{'number': 1, 'created': '2014-05-16 09:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/691777f80cbd4f3a7f409d229f31ac76c1eb418d', 'message': ""Fix wrong method name assert_called_once\n\nThere isn't method assert_called_once, and it doesn't really\ncheck anything.  we use assertTrue(mock.called) instead.\n\nChange-Id: Iffbaa176c3efd41084a655adcbbb0821d8ad496d\n""}, {'number': 2, 'created': '2014-05-17 03:10:24.000000000', 'files': ['cliff/tests/test_app.py'], 'web_link': 'https://opendev.org/openstack/cliff/commit/a37ef609944c80e9acbf9c6052bbaf1cc6032e04', 'message': ""Fix wrong method name assert_called_once\n\nThere isn't method assert_called_once, and it doesn't really\ncheck anything. We'd better check mock.called directly.\n\nChange-Id: Iffbaa176c3efd41084a655adcbbb0821d8ad496d\n""}]",0,93876,a37ef609944c80e9acbf9c6052bbaf1cc6032e04,38,5,2,9796,,,0,"Fix wrong method name assert_called_once

There isn't method assert_called_once, and it doesn't really
check anything. We'd better check mock.called directly.

Change-Id: Iffbaa176c3efd41084a655adcbbb0821d8ad496d
",git fetch https://review.opendev.org/openstack/cliff refs/changes/76/93876/2 && git format-patch -1 --stdout FETCH_HEAD,['cliff/tests/test_app.py'],1,691777f80cbd4f3a7f409d229f31ac76c1eb418d,called_once, self.assertTrue(app.clean_up.called) self.assertTrue(app.clean_up.called) self.assertTrue(app.clean_up.called) self.assertTrue(app.clean_up.called) self.assertTrue(app.clean_up.called), app.clean_up.assert_called_once() app.clean_up.assert_called_once() app.clean_up.assert_called_once() app.clean_up.assert_called_once() app.clean_up.assert_called_once(),5,5
openstack%2Fnova~master~I15ad8f17d05c1af3fc2e3b90ed4e71451fdd328d,openstack/nova,master,I15ad8f17d05c1af3fc2e3b90ed4e71451fdd328d,maint: correct docstring parameter description,MERGED,2014-06-06 11:03:45.000000000,2014-06-14 09:30:48.000000000,2014-06-14 09:30:46.000000000,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 1812}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9578}, {'_account_id': 9796}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-06 11:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3731cad85ee465559a91c777ff03c1644a8c3a89', 'message': 'Fixes wrong parameter name in dmcrypt\n\nChange-Id: I15ad8f17d05c1af3fc2e3b90ed4e71451fdd328d\n'}, {'number': 2, 'created': '2014-06-06 11:32:11.000000000', 'files': ['nova/virt/libvirt/dmcrypt.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/76729a33b966b3509fb9830427cc43116c2f7c3e', 'message': 'maint: correct docstring parameter description\n\nChange-Id: I15ad8f17d05c1af3fc2e3b90ed4e71451fdd328d\n'}]",0,98373,76729a33b966b3509fb9830427cc43116c2f7c3e,37,9,2,9796,,,0,"maint: correct docstring parameter description

Change-Id: I15ad8f17d05c1af3fc2e3b90ed4e71451fdd328d
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/98373/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/dmcrypt.py'],1,3731cad85ee465559a91c777ff03c1644a8c3a89,maint_parameter, :param key_size: encryption key size, :param cipher: encryption key size,1,1
openstack%2Fnova~master~I5a306773d93affc30fa756a51a34924f60aafa69,openstack/nova,master,I5a306773d93affc30fa756a51a34924f60aafa69,Fix live_migration method's docstring,MERGED,2014-03-05 07:53:17.000000000,2014-06-14 09:30:34.000000000,2014-06-14 09:30:32.000000000,"[{'_account_id': 3}, {'_account_id': 642}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 7494}, {'_account_id': 7730}, {'_account_id': 8163}, {'_account_id': 8574}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9796}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-03-05 07:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d7c802763e6c83e0fc64ce3159fd67b99c7b22f6', 'message': ""Fix live_migration method's docstring\n\nUpdate with actual code path.\n\nChange-Id: I5a306773d93affc30fa756a51a34924f60aafa69\n""}, {'number': 2, 'created': '2014-04-19 01:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fea77475af7920d01377985ed460fabf19c9d3ac', 'message': ""Fix live_migration method's docstring\n\nUpdate with actual code path.\n\nChange-Id: I5a306773d93affc30fa756a51a34924f60aafa69\n""}, {'number': 3, 'created': '2014-05-13 07:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d33228aad62767c09991640f127cd54d0a204887', 'message': ""Fix live_migration method's docstring\n\nUpdate with actual code path.\n\nChange-Id: I5a306773d93affc30fa756a51a34924f60aafa69\n""}, {'number': 4, 'created': '2014-05-23 05:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4fd6558941bab923f58b3b54579bb31a8567b24a', 'message': ""Fix live_migration method's docstring\n\nUpdate with actual code path.\n\nChange-Id: I5a306773d93affc30fa756a51a34924f60aafa69\n""}, {'number': 5, 'created': '2014-06-10 02:10:19.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/virt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a5184d3589a4005e7418bc2213c301ca3778c3c2', 'message': ""Fix live_migration method's docstring\n\nUpdate with actual code path.\n\nChange-Id: I5a306773d93affc30fa756a51a34924f60aafa69\n""}]",0,78126,a5184d3589a4005e7418bc2213c301ca3778c3c2,92,16,5,9796,,,0,"Fix live_migration method's docstring

Update with actual code path.

Change-Id: I5a306773d93affc30fa756a51a34924f60aafa69
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/78126/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/virt/driver.py']",3,d7c802763e6c83e0fc64ce3159fd67b99c7b22f6,fix_docstring, expected nova.compute.manager._post_live_migration. expected nova.compute.manager._rollback_live_migration., expected nova.compute.manager.post_live_migration. expected nova.compute.manager.recover_live_migration.,8,8
openstack%2Fceilometer~master~If96ca91bf0104e2b532a75015f6c6b0b7ff60a78,openstack/ceilometer,master,If96ca91bf0104e2b532a75015f6c6b0b7ff60a78,set debug to true in api test,ABANDONED,2014-06-01 13:34:02.000000000,2014-06-14 09:08:58.000000000,,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 2860}, {'_account_id': 4491}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 7763}]","[{'number': 1, 'created': '2014-06-01 13:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/261158d5be3b1aa9e69bcbd42be611b7aedd7305', 'message': 'set debug to false in api test\n\nceilometer.tests.api.v2.test_post_samples_scenarios:TestPostSamples\nassumes debug is set to false. But in an environment which has\n/etc/ceilometer/ceilometer.conf, for example, an environment runs\ndevstack with ceilometer services enabled, then the debug option may\nbe set to true, in such scenario, the test code will fail.\n\nThe root cause is that ceilometer.api.app will invoke pecan.make_app\nwith cfg.CONF.debug, pecan will wrap the app with DebugMiddleware and\nStaticFileMiddleware if debug is true, then the line of:\npipeline_hook = self.app.app.application.app.hooks[2]\nwill raise AttributeError since the app chain has been extended.\n\nThis patch simply overrides the debug option to False, which can\nensure the test code run properly.\n\nChange-Id: If96ca91bf0104e2b532a75015f6c6b0b7ff60a78\nCloses-Bug: #1325354\n'}, {'number': 2, 'created': '2014-06-04 03:31:25.000000000', 'files': ['ceilometer/tests/api/__init__.py', 'ceilometer/tests/api/v2/test_post_samples_scenarios.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3cfe3613d5552bd9292782ea2c8061b7bf5b4331', 'message': 'set debug to true in api test\n\nceilometer.tests.api.v2.test_post_samples_scenarios:TestPostSamples\nassumes debug is set to false. But in an environment which has\n/etc/ceilometer/ceilometer.conf, for example, an environment runs\ndevstack with ceilometer services enabled, then the debug option may\nbe set to true, in such scenario, the test code will fail.\n\nThe root cause is that ceilometer.api.app will invoke pecan.make_app\nwith cfg.CONF.debug, pecan will wrap the app with DebugMiddleware and\nStaticFileMiddleware if debug is true, then the line of:\npipeline_hook = self.app.app.application.app.hooks[2]\nwill raise AttributeError since the app chain has been extended.\n\nWe need to enable debug by default, because for now, we only capture\nlog message for failing test in jenkins, enabling debug can help us to\nlocate the problem when jenkins fail.\n\nThis patch simply overrides the debug option to True in api test, and\nmodifies the corresponding unit test code to ensure the test code run\nproperly.\n\nChange-Id: If96ca91bf0104e2b532a75015f6c6b0b7ff60a78\nCloses-Bug: #1325354\n'}]",0,97099,3cfe3613d5552bd9292782ea2c8061b7bf5b4331,28,7,2,6676,,,0,"set debug to true in api test

ceilometer.tests.api.v2.test_post_samples_scenarios:TestPostSamples
assumes debug is set to false. But in an environment which has
/etc/ceilometer/ceilometer.conf, for example, an environment runs
devstack with ceilometer services enabled, then the debug option may
be set to true, in such scenario, the test code will fail.

The root cause is that ceilometer.api.app will invoke pecan.make_app
with cfg.CONF.debug, pecan will wrap the app with DebugMiddleware and
StaticFileMiddleware if debug is true, then the line of:
pipeline_hook = self.app.app.application.app.hooks[2]
will raise AttributeError since the app chain has been extended.

We need to enable debug by default, because for now, we only capture
log message for failing test in jenkins, enabling debug can help us to
locate the problem when jenkins fail.

This patch simply overrides the debug option to True in api test, and
modifies the corresponding unit test code to ensure the test code run
properly.

Change-Id: If96ca91bf0104e2b532a75015f6c6b0b7ff60a78
Closes-Bug: #1325354
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/99/97099/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/tests/api/__init__.py'],1,261158d5be3b1aa9e69bcbd42be611b7aedd7305,bug/1325354," self.CONF.set_override('debug', False)",,1,0
openstack%2Foslo.db~master~Ia5e96ed4a6af7a311d8dc89b00a1fb4cc02f56ac,openstack/oslo.db,master,Ia5e96ed4a6af7a311d8dc89b00a1fb4cc02f56ac,Add psycopg2 to test-requirements.txt,MERGED,2014-06-13 15:17:51.000000000,2014-06-14 09:06:04.000000000,2014-06-14 09:06:04.000000000,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 7491}]","[{'number': 1, 'created': '2014-06-13 15:17:51.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/af32ad219d81b48c5b9d710239310df130a96d79', 'message': 'Add psycopg2 to test-requirements.txt\n\nWe have a few opportunistic test cases which are skipped in the gate\nnow because psycopg2 is missing.\n\nChange-Id: Ia5e96ed4a6af7a311d8dc89b00a1fb4cc02f56ac\n'}]",0,99955,af32ad219d81b48c5b9d710239310df130a96d79,8,3,1,6849,,,0,"Add psycopg2 to test-requirements.txt

We have a few opportunistic test cases which are skipped in the gate
now because psycopg2 is missing.

Change-Id: Ia5e96ed4a6af7a311d8dc89b00a1fb4cc02f56ac
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/55/99955/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,af32ad219d81b48c5b9d710239310df130a96d79,add_psycopg2,psycopg2,,1,0
openstack%2Fironic-python-agent~master~I80d112062f51a6ccc932aeb71ec05042edb09884,openstack/ironic-python-agent,master,I80d112062f51a6ccc932aeb71ec05042edb09884,Fix incorrect log statement,MERGED,2014-06-12 16:21:26.000000000,2014-06-14 09:01:02.000000000,2014-06-14 09:01:02.000000000,"[{'_account_id': 3}, {'_account_id': 1030}, {'_account_id': 5805}, {'_account_id': 10343}, {'_account_id': 10626}]","[{'number': 1, 'created': '2014-06-12 16:21:26.000000000', 'files': ['ironic_python_agent/shell/write_image.sh'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6d9e9e8ba739bfda944a0a004d4c3f78d9eea21f', 'message': ""Fix incorrect log statement\n\nLogging statement says it's 'imaging' to RAW, when in reality it's a\nconversion.\n\nChange-Id: I80d112062f51a6ccc932aeb71ec05042edb09884\n""}]",0,99706,6d9e9e8ba739bfda944a0a004d4c3f78d9eea21f,12,5,1,10342,,,0,"Fix incorrect log statement

Logging statement says it's 'imaging' to RAW, when in reality it's a
conversion.

Change-Id: I80d112062f51a6ccc932aeb71ec05042edb09884
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/06/99706/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/shell/write_image.sh'],1,6d9e9e8ba739bfda944a0a004d4c3f78d9eea21f,jay/FixLogging,"log ""Converting $IMAGEFILE to RAW format""","log ""Imaging $IMAGEFILE to RAW format""",1,1
openstack%2Ftripleo-ci~master~Ic0aef792a44e473d2b75ad0091420ec1e1c2f4b9,openstack/tripleo-ci,master,Ic0aef792a44e473d2b75ad0091420ec1e1c2f4b9,Set http_proxy to use local rack squid caches,MERGED,2014-05-29 18:40:12.000000000,2014-06-14 08:02:48.000000000,2014-06-14 08:02:47.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 1726}, {'_account_id': 1926}, {'_account_id': 6488}]","[{'number': 1, 'created': '2014-05-29 18:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b27c7f80a3300055ef9d342e8cbaf82cf535137d', 'message': 'Set http_proxy to use local rack squid caches\n\nWe are currently running a Squid proxy on 192.168.1.100 in both Racks\nThis change may eventually belong in openstack-infra/config but\nwe can test and use it here for now...\n\nChange-Id: Ic0aef792a44e473d2b75ad0091420ec1e1c2f4b9\n'}, {'number': 2, 'created': '2014-06-02 13:50:31.000000000', 'files': ['toci_gate_test.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c8fe03744441403cbc52d4f1bf09eb39e8a475e9', 'message': 'Set http_proxy to use local rack squid caches\n\nWe are currently running a Squid proxy on 192.168.1.100 in both Racks\nThis change may eventually belong in openstack-infra/config but\nwe can test and use it here for now...\n\nChange-Id: Ic0aef792a44e473d2b75ad0091420ec1e1c2f4b9\n'}]",0,96550,c8fe03744441403cbc52d4f1bf09eb39e8a475e9,23,5,2,360,,,0,"Set http_proxy to use local rack squid caches

We are currently running a Squid proxy on 192.168.1.100 in both Racks
This change may eventually belong in openstack-infra/config but
we can test and use it here for now...

Change-Id: Ic0aef792a44e473d2b75ad0091420ec1e1c2f4b9
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/50/96550/2 && git format-patch -1 --stdout FETCH_HEAD,['toci_gate_test.sh'],1,b27c7f80a3300055ef9d342e8cbaf82cf535137d,squid_fedora,# We are currently running a Squid proxy on 192.168.1.100 in both Racks # This change may eventually belong in openstack-infra/config but we # can test and use it here for now export http_proxy=http://192.168.1.100:3128/ ,,5,0
