id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I7da826200db1b6ac7d2a60cfa2577004d27aee17,openstack/tripleo-heat-templates,stable/train,I7da826200db1b6ac7d2a60cfa2577004d27aee17,Remove unused post update and upgrade tasks,MERGED,2019-12-05 17:54:41.000000000,2019-12-22 05:39:50.000000000,2019-12-22 05:39:50.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-05 17:54:41.000000000', 'files': ['deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b6f7d0575a953038432123e07cb998e94126392', 'message': 'Remove unused post update and upgrade tasks\n\nThese tasks were incorrectly placed in post update and upgrade steps.\nThey need to be moved to tripleo-ansible.\nSee https://review.opendev.org/#/c/696727/\n\nCloses-Bug: #1836074\nChange-Id: I7da826200db1b6ac7d2a60cfa2577004d27aee17\n(cherry picked from commit 531327eec91e03c23270424b1bfc263601fb7a24)\n'}]",0,697536,3b6f7d0575a953038432123e07cb998e94126392,13,4,1,6469,,,0,"Remove unused post update and upgrade tasks

These tasks were incorrectly placed in post update and upgrade steps.
They need to be moved to tripleo-ansible.
See https://review.opendev.org/#/c/696727/

Closes-Bug: #1836074
Change-Id: I7da826200db1b6ac7d2a60cfa2577004d27aee17
(cherry picked from commit 531327eec91e03c23270424b1bfc263601fb7a24)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/697536/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml']",3,3b6f7d0575a953038432123e07cb998e94126392,,," post_upgrade_tasks: - name: remove directory /etc/octavia/conf.d/common when: step|int == 5 file: path: ""/var/lib/config-data/puppet-generated/octavia/etc/octavia/conf.d/common"" state: absent post_update_tasks: - name: remove directory /etc/octavia/conf.d/common when: step|int == 5 file: path: ""/var/lib/config-data/puppet-generated/octavia/etc/octavia/conf.d/common"" state: absent",0,36
openstack%2Fpuppet-tripleo~master~Iededba802be4b88e3b232a7b7474f2f981e40a08,openstack/puppet-tripleo,master,Iededba802be4b88e3b232a7b7474f2f981e40a08,Make sure neutron [placement] config section is set,MERGED,2019-12-13 08:23:40.000000000,2019-12-22 04:37:56.000000000,2019-12-22 04:37:56.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-13 08:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ca2e731f89cdca73f54a34792eed036e2d66850b', 'message': 'DNM neutron placement config\n\nChange-Id: Iededba802be4b88e3b232a7b7474f2f981e40a08\n'}, {'number': 2, 'created': '2019-12-13 10:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e5f4fe336da77cf34c43e19c3b22228c07278f79', 'message': 'DNM neutron placement config\n\nChange-Id: Iededba802be4b88e3b232a7b7474f2f981e40a08\n'}, {'number': 3, 'created': '2019-12-16 08:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bea698f76e861fc637d3ee713aa218df60590261', 'message': 'DNM neutron placement config\n\nChange-Id: Iededba802be4b88e3b232a7b7474f2f981e40a08\n'}, {'number': 4, 'created': '2019-12-16 11:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/51003982e45b25cc0cab1c5d2b4af6816f467f35', 'message': 'Make sure neutron [placement] config section is set\n\nEven if the hiera keys for the [placement] config section\nget created [1], the section is not being created/filles as the\n::neutron::server::placement class is not included anywhere.\n\nThis includes ::neutron::server::placement to have the section\ncreate in the neutron.conf\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/neutron/neutron-api-container-puppet.yaml#L391-L400\n\nChange-Id: Iededba802be4b88e3b232a7b7474f2f981e40a08\n'}, {'number': 5, 'created': '2019-12-18 07:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/efbdd0f21b53f4ed9137f463d6765dcc0ece9e41', 'message': 'Make sure neutron [placement] config section is set\n\nEven if the hiera keys for the [placement] config section\nget created [1], the section is not being created/filles as the\n::neutron::server::placement class is not included anywhere.\n\nThis includes ::neutron::server::placement to have the section\ncreate in the neutron.conf\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/neutron/neutron-api-container-puppet.yaml#L391-L400\n\nChange-Id: Iededba802be4b88e3b232a7b7474f2f981e40a08\n'}, {'number': 6, 'created': '2019-12-20 23:28:06.000000000', 'files': ['spec/classes/tripleo_profile_base_neutron_server_spec.rb', 'manifests/profile/base/neutron/server.pp', 'spec/fixtures/hieradata/default.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4717fbea774937fa3ecb69a4d6f75d862e349270', 'message': 'Make sure neutron [placement] config section is set\n\nEven if the hiera keys for the [placement] config section\nget created [1], the section is not being created/filles as the\n::neutron::server::placement class is not included anywhere.\n\nThis includes ::neutron::server::placement to have the section\ncreate in the neutron.conf\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/neutron/neutron-api-container-puppet.yaml#L391-L400\n\nDepends-On: https://review.opendev.org/700250\nChange-Id: Iededba802be4b88e3b232a7b7474f2f981e40a08\n'}]",0,698843,4717fbea774937fa3ecb69a4d6f75d862e349270,40,8,6,17216,,,0,"Make sure neutron [placement] config section is set

Even if the hiera keys for the [placement] config section
get created [1], the section is not being created/filles as the
::neutron::server::placement class is not included anywhere.

This includes ::neutron::server::placement to have the section
create in the neutron.conf

[1] https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/neutron/neutron-api-container-puppet.yaml#L391-L400

Depends-On: https://review.opendev.org/700250
Change-Id: Iededba802be4b88e3b232a7b7474f2f981e40a08
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/43/698843/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/neutron/server.pp'],1,ca2e731f89cdca73f54a34792eed036e2d66850b,neutron_placement, include ::neutron::server::placement,,1,0
openstack%2Fzun~master~Ia515de0698bbdabfd8e6a43c4da230869294b008,openstack/zun,master,Ia515de0698bbdabfd8e6a43c4da230869294b008,Add 'annotations' to db layer,MERGED,2019-12-21 19:59:05.000000000,2019-12-22 03:13:30.000000000,2019-12-22 03:12:05.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-21 19:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/46031362a2c1ca5a1479b740a7e2c7f4f4f36c81', 'message': ""Add 'annotations' to db layer\n\nChange-Id: Ia515de0698bbdabfd8e6a43c4da230869294b008\nImplements: blueprint add-annotations-to-capsule\n""}, {'number': 2, 'created': '2019-12-21 23:01:22.000000000', 'files': ['zun/tests/unit/db/utils.py', 'zun/db/sqlalchemy/alembic/versions/df87dbd4846c_add_annotations_to_container.py', 'zun/db/sqlalchemy/models.py', 'zun/objects/fields.py', 'zun/objects/container.py', 'zun/tests/unit/objects/test_objects.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/4a8e0301de6b45737d12a9f3488957b7b083267f', 'message': ""Add 'annotations' to db layer\n\nChange-Id: Ia515de0698bbdabfd8e6a43c4da230869294b008\nImplements: blueprint add-annotations-to-capsule\n""}]",0,700282,4a8e0301de6b45737d12a9f3488957b7b083267f,9,2,2,11536,,,0,"Add 'annotations' to db layer

Change-Id: Ia515de0698bbdabfd8e6a43c4da230869294b008
Implements: blueprint add-annotations-to-capsule
",git fetch https://review.opendev.org/openstack/zun refs/changes/82/700282/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/db/sqlalchemy/alembic/versions/df87dbd4846c_add_annotations_to_container.py', 'zun/tests/unit/db/utils.py', 'zun/db/sqlalchemy/models.py', 'zun/objects/container.py', 'zun/tests/unit/objects/test_objects.py']",5,46031362a2c1ca5a1479b740a7e2c7f4f4f36c81,bp/add-annotations-to-capsule," 'Capsule': '1.2-09d3dd7dba14b637e8fac2ba79a7f624', 'CapsuleContainer': '1.2-068254182aa6a33e6cadad60bf9e5640', 'CapsuleInitContainer': '1.2-068254182aa6a33e6cadad60bf9e5640', 'Container': '1.41-aa2199ccf568ee0a229606508c9b2d6e',"," 'Capsule': '1.1-829f8acb1ca4b57d33fa09233c9520d3', 'CapsuleContainer': '1.1-712817e2fcc085dbf0a794b3770e1907', 'CapsuleInitContainer': '1.1-712817e2fcc085dbf0a794b3770e1907', 'Container': '1.40-a24b78bcfb8c2c7e77ed24bd4a43dda1',",58,8
openstack%2Fstorlets~master~I86d893ecf7e83fe9ee85efa421ca3e3613be113c,openstack/storlets,master,I86d893ecf7e83fe9ee85efa421ca3e3613be113c,Autogenerate bin script files,ABANDONED,2019-12-21 02:25:01.000000000,2019-12-22 01:50:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-12-21 02:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/3e1d37fc2e7d3486994edb7e1431371b7b7bd73b', 'message': 'Autogenerate bin script files\n\nChange-Id: I86d893ecf7e83fe9ee85efa421ca3e3613be113c\n'}, {'number': 2, 'created': '2019-12-21 02:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/94753a43b3677216064e69c2f73c472f2f538d9d', 'message': 'Autogenerate bin script files\n\nChange-Id: I86d893ecf7e83fe9ee85efa421ca3e3613be113c\n'}, {'number': 3, 'created': '2019-12-21 02:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/55639b22d86e01f695f1b1d08df4b5318461ada6', 'message': 'Autogenerate bin script files\n\nChange-Id: I86d893ecf7e83fe9ee85efa421ca3e3613be113c\n'}, {'number': 4, 'created': '2019-12-21 23:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/45fd7808157c40d0038356dbef787912cd274a78', 'message': 'Autogenerate bin script files\n\nChange-Id: I86d893ecf7e83fe9ee85efa421ca3e3613be113c\n'}, {'number': 5, 'created': '2019-12-21 23:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/bedf5f9e3fb3b261e3b881f0ce714085a922cdbb', 'message': 'Autogenerate bin script files\n\nChange-Id: I86d893ecf7e83fe9ee85efa421ca3e3613be113c\n'}, {'number': 6, 'created': '2019-12-22 01:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/42ea154f680b5c8635ac53f6d7c767f42e307c56', 'message': 'Autogenerate bin script files\n\nChange-Id: I86d893ecf7e83fe9ee85efa421ca3e3613be113c\n'}, {'number': 7, 'created': '2019-12-22 01:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/46abf155b62c1732ace7f5fa85c516c6ecdbbf16', 'message': 'Autogenerate bin script files\n\nChange-Id: I86d893ecf7e83fe9ee85efa421ca3e3613be113c\n'}, {'number': 8, 'created': '2019-12-22 01:43:40.000000000', 'files': ['storlets/agent/common/utils.py', 'storlets/sbus/client/cli.py', 'storlets/agent/daemon/server.py', '.zuul.yaml', 'devstack/plugin.sh', 'storlets/agent/daemon_factory/server.py', 'setup.cfg', 'install_libs.sh'], 'web_link': 'https://opendev.org/openstack/storlets/commit/d11593546de56afe8156403172d4aec5653915dc', 'message': 'Autogenerate bin script files\n\nChange-Id: I86d893ecf7e83fe9ee85efa421ca3e3613be113c\n'}]",0,700259,d11593546de56afe8156403172d4aec5653915dc,11,1,8,9816,,,0,"Autogenerate bin script files

Change-Id: I86d893ecf7e83fe9ee85efa421ca3e3613be113c
",git fetch https://review.opendev.org/openstack/storlets refs/changes/59/700259/8 && git format-patch -1 --stdout FETCH_HEAD,"['storlets/sbus/client/cli.py', 'storlets/agent/daemon/server.py', 'devstack/plugin.sh', 'storlets/agent/daemon_factory/server.py', 'setup.cfg', 'install_libs.sh']",6,3e1d37fc2e7d3486994edb7e1431371b7b7bd73b,devstack,mkdir -p -m 755 $DST,"mkdir -p $DST chmod 755 $DSTcp ""$SRC/storlets-daemon"" $DST cp ""$SRC/storlets-daemon-factory"" $DST",27,21
openstack%2Fneutron~master~I78cbd02c7dc0c60b12c9c4e90046336157b8bcb1,openstack/neutron,master,I78cbd02c7dc0c60b12c9c4e90046336157b8bcb1,Imported Translations from Zanata,MERGED,2019-12-08 07:27:16.000000000,2019-12-22 00:32:18.000000000,2019-12-22 00:28:52.000000000,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-12-08 07:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e569ccb7f61d77627f5cbdbfe2aef4c4bb76150', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I78cbd02c7dc0c60b12c9c4e90046336157b8bcb1\n'}, {'number': 2, 'created': '2019-12-09 07:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e0060cfc780a2fc84f11b7d8f445de3b1a8f7b0', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I78cbd02c7dc0c60b12c9c4e90046336157b8bcb1\n'}, {'number': 3, 'created': '2019-12-10 08:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a16a44321643b3c33b466323fa1a398010b9872a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I78cbd02c7dc0c60b12c9c4e90046336157b8bcb1\n'}, {'number': 4, 'created': '2019-12-11 08:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/78f3af52efedfea8aea2820b0be13ec7887244bc', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I78cbd02c7dc0c60b12c9c4e90046336157b8bcb1\n'}, {'number': 5, 'created': '2019-12-12 08:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/41f9fd0fca48c51b66d1ceb213e7da24a7141bfa', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I78cbd02c7dc0c60b12c9c4e90046336157b8bcb1\n'}, {'number': 6, 'created': '2019-12-13 09:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/19aebaaa8fa17fc0c038c5ed96541b500d207af9', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I78cbd02c7dc0c60b12c9c4e90046336157b8bcb1\n'}, {'number': 7, 'created': '2019-12-14 08:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/20259f2c6b00cb35d6086924c6f96840abfa3da8', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I78cbd02c7dc0c60b12c9c4e90046336157b8bcb1\n'}, {'number': 8, 'created': '2019-12-18 09:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f196085bce24075fccc586f9bd5db0653c4f00fe', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I78cbd02c7dc0c60b12c9c4e90046336157b8bcb1\n'}, {'number': 9, 'created': '2019-12-19 07:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3fab3907e1ab4b14677d58a15f869a6eaf08b0a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I78cbd02c7dc0c60b12c9c4e90046336157b8bcb1\n'}, {'number': 10, 'created': '2019-12-20 07:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/df7cd44925758add5fe34aa34bb3eba3c91a43c4', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I78cbd02c7dc0c60b12c9c4e90046336157b8bcb1\n'}, {'number': 11, 'created': '2019-12-21 07:16:13.000000000', 'files': ['neutron/locale/ja/LC_MESSAGES/neutron.po', 'neutron/locale/pt_BR/LC_MESSAGES/neutron.po', 'neutron/locale/it/LC_MESSAGES/neutron.po', 'neutron/locale/ko_KR/LC_MESSAGES/neutron.po', 'neutron/locale/es/LC_MESSAGES/neutron.po', 'neutron/locale/tr_TR/LC_MESSAGES/neutron.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'neutron/locale/de/LC_MESSAGES/neutron.po', 'neutron/locale/fr/LC_MESSAGES/neutron.po', 'neutron/locale/zh_TW/LC_MESSAGES/neutron.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'neutron/locale/zh_CN/LC_MESSAGES/neutron.po', 'neutron/locale/ru/LC_MESSAGES/neutron.po'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a8b5860a0cc7674bba7da207ec9bc8828eeb829', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I78cbd02c7dc0c60b12c9c4e90046336157b8bcb1\n'}]",0,697872,2a8b5860a0cc7674bba7da207ec9bc8828eeb829,48,5,11,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I78cbd02c7dc0c60b12c9c4e90046336157b8bcb1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/697872/9 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/locale/ja/LC_MESSAGES/neutron.po', 'neutron/locale/pt_BR/LC_MESSAGES/neutron.po', 'neutron/locale/it/LC_MESSAGES/neutron.po', 'neutron/locale/ko_KR/LC_MESSAGES/neutron.po', 'neutron/locale/es/LC_MESSAGES/neutron.po', 'neutron/locale/tr_TR/LC_MESSAGES/neutron.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'neutron/locale/de/LC_MESSAGES/neutron.po', 'neutron/locale/fr/LC_MESSAGES/neutron.po', 'neutron/locale/zh_TW/LC_MESSAGES/neutron.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'neutron/locale/zh_CN/LC_MESSAGES/neutron.po', 'neutron/locale/ru/LC_MESSAGES/neutron.po']",13,1e569ccb7f61d77627f5cbdbfe2aef4c4bb76150,zanata/translations,"""POT-Creation-Date: 2019-12-08 03:34+0000\n""msgid ""Port %s does not exist"" msgstr ""Порт %s не существует"" #, python-format","""POT-Creation-Date: 2019-09-30 23:37+0000\n""""Enable local ARP responder if it is supported. Requires OVS 2.1 and ML2 "" ""l2population driver. Allows the switch (when supporting an overlay) to "" ""respond to an ARP request locally without performing a costly ARP broadcast "" ""into the overlay."" msgstr """" ""Включить локальный промежуточный клиент ARP, если он поддерживается. "" ""Требуется OVS 2.1 и драйвер ML2 l2population. Позволяет коммутатору (когда "" ""поддерживается перекрытие) отвечать на запрос ARP локально, без выполнения "" ""дорогостоящего оповещения ARP в перекрытии."" msgid """"""Geneve encapsulation header size is dynamic, this value is used to calculate "" ""the maximum MTU for the driver. This is the sum of the sizes of the outer "" ""ETH + IP + UDP + GENEVE header sizes. The default size for this field is 50, "" ""which is the size of the Geneve header without any additional option headers."" msgstr """" ""Размер заголовка Geneve меняется динамически, и его значение используется "" ""при вычислении MTU для драйвера. Сюда входит сумма размеров заголовков ETH + "" ""IP + UDP + GENEVE. Размер поля по умолчанию равен 50, это размер заголовков "" ""Geneve без заголовков дополнительных опций."" msgid """"msgid ""ip command failed: %(reason)s"" msgstr ""Команда ip не выполнена: %(reason)s"" #, python-format",51,1934
openstack%2Fcinder~master~I02586ee907daf24de622990c8bc8357a88f94005,openstack/cinder,master,I02586ee907daf24de622990c8bc8357a88f94005,Alter default value of 'is_public' when update and its none,NEW,2018-11-12 11:21:51.000000000,2019-12-21 23:59:50.000000000,,"[{'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-11-12 11:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/051da55cdefb3194c3082be710af049cfe463b92', 'message': ""Alter default value of 'is_public' when update and its none\n\nWhen update a volume type whoes 'is_public' is false. If don't\ninput 'is_public' in request, its value will become True.\nSo, I think the default value should be used.\n\nChange-Id: I02586ee907daf24de622990c8bc8357a88f94005\n""}, {'number': 2, 'created': '2018-11-12 13:29:28.000000000', 'files': ['cinder/api/contrib/types_manage.py', 'cinder/tests/unit/api/contrib/test_types_manage.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e50719d8166a3f8187668b02c0db83980e5b0e7e', 'message': ""Alter default value of 'is_public' when update and its none\n\nWhen update a volume type whoes 'is_public' is false. If don't\ninput 'is_public' in request, its value will become True.\nSo, I think the default value should be used.\n\nChange-Id: I02586ee907daf24de622990c8bc8357a88f94005\n""}]",0,617293,e50719d8166a3f8187668b02c0db83980e5b0e7e,35,21,2,27496,,,0,"Alter default value of 'is_public' when update and its none

When update a volume type whoes 'is_public' is false. If don't
input 'is_public' in request, its value will become True.
So, I think the default value should be used.

Change-Id: I02586ee907daf24de622990c8bc8357a88f94005
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/617293/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/contrib/types_manage.py', 'cinder/tests/unit/api/contrib/test_types_manage.py']",2,051da55cdefb3194c3082be710af049cfe463b92,type," is_public=True, six.text_type(id), six.text_type(id)), is_public=True) description='vol_type_desc_%s' % six.text_type(id), is_public=True) description='vol_type_desc_%s' % six.text_type(id), is_public=True) def test_update_type_with_is_public_no( self, mock_get_volume_type, mock_type_update): mock_get_volume_type.return_value = \ {'id': DEFAULT_VOLUME_TYPE, 'name': u'vol_type_1', 'description': u'', 'is_public': False} type_description = """" body = {""volume_type"": {""name"": ""vol_type_1"", ""description"": type_description}} req = fakes.HTTPRequest.blank('/v2/%s/types/%s' % ( fake.PROJECT_ID, DEFAULT_VOLUME_TYPE)) req.method = 'PUT' resp = self.controller._update(req, DEFAULT_VOLUME_TYPE, body=body) self._check_test_results(resp, {'expected_desc': '', 'expected_name': 'vol_type_1', 'is_public': False}) @mock.patch('cinder.volume.volume_types.update') @mock.patch('cinder.volume.volume_types.get_volume_type')"," six.text_type(id), six.text_type(id))) description='vol_type_desc_%s' % six.text_type(id)) description='vol_type_desc_%s' % six.text_type(id))",52,18
openstack%2Fcinder~master~I09602f66c0313e9c045e87f10a5dc8ef3f9b1892,openstack/cinder,master,I09602f66c0313e9c045e87f10a5dc8ef3f9b1892,Consistent policy name - volume actions,NEW,2018-10-30 07:39:30.000000000,2019-12-21 23:59:22.000000000,,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15888}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-30 07:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ec054f76e2c83b53a4015f05422a1ceb4490e89f', 'message': 'Consistent policy name - volume actions\n\nThis implements consistent policy names following the convention\ndetailed in:\n\n  https://docs.openstack.org/oslo.policy/latest/user/usage.html#naming-policies\n\nChange-Id: I09602f66c0313e9c045e87f10a5dc8ef3f9b1892\n'}, {'number': 2, 'created': '2018-10-30 12:19:31.000000000', 'files': ['api-ref/source/v2/volumes-v2-volumes-actions.inc', 'cinder/api/contrib/admin_actions.py', 'cinder/tests/unit/policy.json', 'api-ref/source/v3/volumes-v3-volumes-actions.inc', 'cinder/policies/volume_actions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d5d32ef262e0a3eb85c8e00078ee5852380c907b', 'message': 'Consistent policy name - volume actions\n\nThis implements consistent policy names following the convention\ndetailed in:\n\n  https://docs.openstack.org/oslo.policy/latest/user/usage.html#naming-policies\n\nChange-Id: I09602f66c0313e9c045e87f10a5dc8ef3f9b1892\n'}]",0,614105,d5d32ef262e0a3eb85c8e00078ee5852380c907b,40,23,2,20722,,,0,"Consistent policy name - volume actions

This implements consistent policy names following the convention
detailed in:

  https://docs.openstack.org/oslo.policy/latest/user/usage.html#naming-policies

Change-Id: I09602f66c0313e9c045e87f10a5dc8ef3f9b1892
",git fetch https://review.opendev.org/openstack/cinder refs/changes/05/614105/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/policy.json', 'cinder/policies/volume_actions.py']",2,ec054f76e2c83b53a4015f05422a1ceb4490e89f,consistent_policy_name,"from oslo_log import versionutilsDEPRECATED_EXTEND_POLICY = ""volume:extend"" DEPRECATED_EXTEND_ATTACHED_POLICY = ""volume:extend_attached_volume"" DEPRECATED_REVERT_POLICY = ""volume:revert_to_snapshot"" DEPRECATED_RESET_STATUS = ""volume_extension:volume_admin_actions:reset_status"" DEPRECATED_RETYPE_POLICY = ""volume:retype"" DEPRECATED_UPDATE_READONLY_POLICY = ""volume:update_readonly_flag"" DEPRECATED_FORCE_DELETE_POLICY = ( ""volume_extension:volume_admin_actions:force_delete"") DEPRECATED_FORCE_DETACH_POLICY = ( ""volume_extension:volume_admin_actions:force_detach"") DEPRECATED_UPLOAD_PUBLIC_POLICY = ( ""volume_extension:volume_actions:upload_public"") DEPRECATED_UPLOAD_IMAGE_POLICY = ( ""volume_extension:volume_actions:upload_image"") DEPRECATED_MIGRATE_POLICY = ( ""volume_extension:volume_admin_actions:migrate_volume"") DEPRECATED_MIGRATE_COMPLETE_POLICY = ( ""volume_extension:volume_admin_actions:migrate_volume_completion"") DEPRECATED_DETACH_POLICY = ""volume_extension:volume_actions:detach"" DEPRECATED_ATTACH_POLICY = ""volume_extension:volume_actions:attach"" DEPRECATED_BEGIN_DETACHING_POLICY = ( ""volume_extension:volume_actions:begin_detaching"") DEPRECATED_UNRESERVE_POLICY = ""volume_extension:volume_actions:unreserve"" DEPRECATED_RESERVE_POLICY = ""volume_extension:volume_actions:reserve"" DEPRECATED_ROLL_DETACHING_POLICY = ( ""volume_extension:volume_actions:roll_detaching"") DEPRECATED_TERMINATE_POLICY = ( ""volume_extension:volume_actions:terminate_connection"") DEPRECATED_INITIALIZE_POLICY = ( ""volume_extension:volume_actions:initialize_connection"") EXTEND_POLICY = ""block-storage:volume:extend"" EXTEND_ATTACHED_POLICY = ""block-storage:volume:extend_attached"" REVERT_POLICY = ""block-storage:volume:revert_to_snapshot"" RESET_STATUS = ""block-storage:volume:admin_actions:reset_status"" RETYPE_POLICY = ""block-storage:volume:retype"" UPDATE_READONLY_POLICY = ""block-storage:volume:update_readonly_flag"" FORCE_DELETE_POLICY = ""block-storage:volume:admin_actions:force_delete"" FORCE_DETACH_POLICY = ""block-storage:volume:admin_actions:force_detach"" UPLOAD_PUBLIC_POLICY = ""block-storage:volume:actions:upload_public"" UPLOAD_IMAGE_POLICY = ""block-storage:volume:actions:upload_image"" MIGRATE_POLICY = ""block-storage:volume:admin_actions:migrate_volume"" MIGRATE_COMPLETE_POLICY = ( ""block-storage:volume:admin_actions:migrate_volume_completion"") DETACH_POLICY = ""block-storage:volume:actions:detach"" ATTACH_POLICY = ""block-storage:volume:actions:attach"" BEGIN_DETACHING_POLICY = ""block-storage:volume:actions:begin_detaching"" UNRESERVE_POLICY = ""block-storage:volume:actions:unreserve"" RESERVE_POLICY = ""block-storage:volume:actions:reserve"" ROLL_DETACHING_POLICY = ""block-storage:volume:actions:roll_detaching"" TERMINATE_POLICY = ""block-storage:volume:actions:terminate_connection"" INITIALIZE_POLICY = ""block-storage:volume:actions:initialize_connection"" deprecated_extend_policy = policy.DeprecatedRule( name=DEPRECATED_EXTEND_POLICY, check_str=base.RULE_ADMIN_OR_OWNER) deprecated_extend_attached_policy = policy.DeprecatedRule( name=DEPRECATED_EXTEND_ATTACHED_POLICY, check_str=base.RULE_ADMIN_OR_OWNER) deprecated_revert_policy = policy.DeprecatedRule( name=DEPRECATED_REVERT_POLICY, check_str=base.RULE_ADMIN_OR_OWNER) deprecated_reset_status = policy.DeprecatedRule( name=DEPRECATED_RESET_STATUS, check_str=base.RULE_ADMIN_API) deprecated_retype_policy = policy.DeprecatedRule( name=DEPRECATED_RETYPE_POLICY, check_str=base.RULE_ADMIN_OR_OWNER) deprecated_update_readonly_policy = policy.DeprecatedRule( name=DEPRECATED_UPDATE_READONLY_POLICY, check_str=base.RULE_ADMIN_OR_OWNER) deprecated_force_delete_policy = policy.DeprecatedRule( name=DEPRECATED_FORCE_DELETE_POLICY, check_str=base.RULE_ADMIN_API) deprecated_force_detach_policy = policy.DeprecatedRule( name=DEPRECATED_FORCE_DETACH_POLICY, check_str=base.RULE_ADMIN_API) deprecated_upload_public_policy = policy.DeprecatedRule( name=DEPRECATED_UPLOAD_PUBLIC_POLICY, check_str=base.RULE_ADMIN_API) deprecated_upload_image_policy = policy.DeprecatedRule( name=DEPRECATED_UPLOAD_IMAGE_POLICY, check_str=base.RULE_ADMIN_OR_OWNER) deprecated_migrate_policy = policy.DeprecatedRule( name=DEPRECATED_MIGRATE_POLICY, check_str=base.RULE_ADMIN_API) deprecated_migrate_complete_policy = policy.DeprecatedRule( name=DEPRECATED_MIGRATE_COMPLETE_POLICY, check_str=base.RULE_ADMIN_API) deprecated_detach_policy = policy.DeprecatedRule( name=DEPRECATED_DETACH_POLICY, check_str=base.RULE_ADMIN_OR_OWNER) deprecated_attach_policy = policy.DeprecatedRule( name=DEPRECATED_ATTACH_POLICY, check_str=base.RULE_ADMIN_OR_OWNER) deprecated_begin_detaching_policy = policy.DeprecatedRule( name=DEPRECATED_BEGIN_DETACHING_POLICY, check_str=base.RULE_ADMIN_OR_OWNER) deprecated_unreserve_policy = policy.DeprecatedRule( name=DEPRECATED_UNRESERVE_POLICY, check_str=base.RULE_ADMIN_OR_OWNER) deprecated_reserve_policy = policy.DeprecatedRule( name=DEPRECATED_RESERVE_POLICY, check_str=base.RULE_ADMIN_OR_OWNER) deprecated_roll_detaching_policy = policy.DeprecatedRule( name=DEPRECATED_ROLL_DETACHING_POLICY, check_str=base.RULE_ADMIN_OR_OWNER) deprecated_terminate_policy = policy.DeprecatedRule( name=DEPRECATED_TERMINATE_POLICY, check_str=base.RULE_ADMIN_OR_OWNER) deprecated_initialize_policy = policy.DeprecatedRule( name=DEPRECATED_INITIALIZE_POLICY, check_str=base.RULE_ADMIN_OR_OWNER) ], deprecated_rule=deprecated_extend_policy, deprecated_reason=base.CONSISTENT_POLICY_NAME_REASON, deprecated_since=versionutils.deprecated.STEIN), ], deprecated_rule=deprecated_extend_attached_policy, deprecated_reason=base.CONSISTENT_POLICY_NAME_REASON, deprecated_since=versionutils.deprecated.STEIN), ], deprecated_rule=deprecated_revert_policy, deprecated_reason=base.CONSISTENT_POLICY_NAME_REASON, deprecated_since=versionutils.deprecated.STEIN), ], deprecated_rule=deprecated_reset_status, deprecated_reason=base.CONSISTENT_POLICY_NAME_REASON, deprecated_since=versionutils.deprecated.STEIN), ], deprecated_rule=deprecated_retype_policy, deprecated_reason=base.CONSISTENT_POLICY_NAME_REASON, deprecated_since=versionutils.deprecated.STEIN), ], deprecated_rule=deprecated_update_readonly_policy, deprecated_reason=base.CONSISTENT_POLICY_NAME_REASON, deprecated_since=versionutils.deprecated.STEIN), ], deprecated_rule=deprecated_force_delete_policy, deprecated_reason=base.CONSISTENT_POLICY_NAME_REASON, deprecated_since=versionutils.deprecated.STEIN), ], deprecated_rule=deprecated_upload_public_policy, deprecated_reason=base.CONSISTENT_POLICY_NAME_REASON, deprecated_since=versionutils.deprecated.STEIN), ], deprecated_rule=deprecated_upload_image_policy, deprecated_reason=base.CONSISTENT_POLICY_NAME_REASON, deprecated_since=versionutils.deprecated.STEIN), ], deprecated_rule=deprecated_force_detach_policy, deprecated_reason=base.CONSISTENT_POLICY_NAME_REASON, deprecated_since=versionutils.deprecated.STEIN), ], deprecated_rule=deprecated_migrate_policy, deprecated_reason=base.CONSISTENT_POLICY_NAME_REASON, deprecated_since=versionutils.deprecated.STEIN), ], deprecated_rule=deprecated_migrate_complete_policy, deprecated_reason=base.CONSISTENT_POLICY_NAME_REASON, deprecated_since=versionutils.deprecated.STEIN), ], deprecated_rule=deprecated_initialize_policy, deprecated_reason=base.CONSISTENT_POLICY_NAME_REASON, deprecated_since=versionutils.deprecated.STEIN), ], deprecated_rule=deprecated_terminate_policy, deprecated_reason=base.CONSISTENT_POLICY_NAME_REASON, deprecated_since=versionutils.deprecated.STEIN), ], deprecated_rule=deprecated_roll_detaching_policy, deprecated_reason=base.CONSISTENT_POLICY_NAME_REASON, deprecated_since=versionutils.deprecated.STEIN), ], deprecated_rule=deprecated_reserve_policy, deprecated_reason=base.CONSISTENT_POLICY_NAME_REASON, deprecated_since=versionutils.deprecated.STEIN), ], deprecated_rule=deprecated_unreserve_policy, deprecated_reason=base.CONSISTENT_POLICY_NAME_REASON, deprecated_since=versionutils.deprecated.STEIN), ], deprecated_rule=deprecated_begin_detaching_policy, deprecated_reason=base.CONSISTENT_POLICY_NAME_REASON, deprecated_since=versionutils.deprecated.STEIN), ], deprecated_rule=deprecated_attach_policy, deprecated_reason=base.CONSISTENT_POLICY_NAME_REASON, deprecated_since=versionutils.deprecated.STEIN), ], deprecated_rule=deprecated_detach_policy, deprecated_reason=base.CONSISTENT_POLICY_NAME_REASON, deprecated_since=versionutils.deprecated.STEIN),","EXTEND_POLICY = ""volume:extend"" EXTEND_ATTACHED_POLICY = ""volume:extend_attached_volume"" REVERT_POLICY = ""volume:revert_to_snapshot"" RESET_STATUS = ""volume_extension:volume_admin_actions:reset_status"" RETYPE_POLICY = ""volume:retype"" UPDATE_READONLY_POLICY = ""volume:update_readonly_flag"" FORCE_DELETE_POLICY = ""volume_extension:volume_admin_actions:force_delete"" FORCE_DETACH_POLICY = ""volume_extension:volume_admin_actions:force_detach"" UPLOAD_PUBLIC_POLICY = ""volume_extension:volume_actions:upload_public"" UPLOAD_IMAGE_POLICY = ""volume_extension:volume_actions:upload_image"" MIGRATE_POLICY = ""volume_extension:volume_admin_actions:migrate_volume"" MIGRATE_COMPLETE_POLICY = \ ""volume_extension:volume_admin_actions:migrate_volume_completion"" DETACH_POLICY = ""volume_extension:volume_actions:detach"" ATTACH_POLICY = ""volume_extension:volume_actions:attach"" BEGIN_DETACHING_POLICY = ""volume_extension:volume_actions:begin_detaching"" UNRESERVE_POLICY = ""volume_extension:volume_actions:unreserve"" RESERVE_POLICY = ""volume_extension:volume_actions:reserve"" ROLL_DETACHING_POLICY = ""volume_extension:volume_actions:roll_detaching"" TERMINATE_POLICY = ""volume_extension:volume_actions:terminate_connection"" INITIALIZE_POLICY = ""volume_extension:volume_actions:initialize_connection"" ]), ]), ]), ]), ]), ]), ]), ]), ]), ]), ]), ]), ]), ]), ]), ]), ]), ]), ]), ]),",200,47
openstack%2Fpython-neutronclient~master~I208de891515cb2cbdde779013ba58f19e36fc55c,openstack/python-neutronclient,master,I208de891515cb2cbdde779013ba58f19e36fc55c,Drop python3 hack for XML serializer,MERGED,2019-12-17 05:44:37.000000000,2019-12-21 23:40:11.000000000,2019-12-21 23:37:06.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-17 05:44:37.000000000', 'files': ['neutronclient/common/serializer.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/d5c516a5a288003ca661091152c1a8ebfa527909', 'message': 'Drop python3 hack for XML serializer\n\nIt was added in https://review.opendev.org/#/c/110947/\nto make the XML serializer work in python 3.\nWe dropped the XML serializer support long ago.\nI believe we can drop it safely.\n\nChange-Id: I208de891515cb2cbdde779013ba58f19e36fc55c\n'}]",0,699341,d5c516a5a288003ca661091152c1a8ebfa527909,10,4,1,841,,,0,"Drop python3 hack for XML serializer

It was added in https://review.opendev.org/#/c/110947/
to make the XML serializer work in python 3.
We dropped the XML serializer support long ago.
I believe we can drop it safely.

Change-Id: I208de891515cb2cbdde779013ba58f19e36fc55c
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/41/699341/1 && git format-patch -1 --stdout FETCH_HEAD,['neutronclient/common/serializer.py'],1,d5c516a5a288003ca661091152c1a8ebfa527909,unnecesary-serializer-hack,,if six.PY3: long = int ,0,4
openstack%2Fpython-neutronclient~master~I8a07c007a129cd2141085a1a3cc7f81658c42db2,openstack/python-neutronclient,master,I8a07c007a129cd2141085a1a3cc7f81658c42db2,Drop python 2.7 support,MERGED,2019-11-12 16:28:19.000000000,2019-12-21 23:39:07.000000000,2019-12-21 23:37:06.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 16:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/a8ef2a203bac712af3a4765838329ce9ac809c40', 'message': ""Stop testing python 2.7\n\nSince it's no longer supported past Train, lets stop testings\nwith python 2.7.\n\nA workaround for 'long' in py3 in common/serializer.py is also dropped\nas it is not used now. The workaround was added for XML serializer\nand deserializer but the XML support was dropped long ago.\n\npypy in tox.ini is also dropped too. It is not used for long.\n\nChange-Id: I8a07c007a129cd2141085a1a3cc7f81658c42db2\n""}, {'number': 2, 'created': '2019-12-17 05:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/59e276ca3313b98030d860813d54455fe9a727a0', 'message': ""Stop testing python 2.7\n\nSince it's no longer supported past Train, lets stop testings\nwith python 2.7.\n\nA workaround for 'long' in py3 in common/serializer.py is also dropped\nas it is not used now. The workaround was added for XML serializer\nand deserializer but the XML support was dropped long ago.\n\npypy in tox.ini is also dropped too. It is not used for long.\n\nChange-Id: I8a07c007a129cd2141085a1a3cc7f81658c42db2\n""}, {'number': 3, 'created': '2019-12-17 05:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/4c6c056de87f8714c43761989afeef9600d38241', 'message': ""Stop testing python 2.7\n\nSince it's no longer supported past Train, lets stop testings\nwith python 2.7.\n\npypy in tox.ini is also dropped too. It is not used for long.\n\nChange-Id: I8a07c007a129cd2141085a1a3cc7f81658c42db2\n""}, {'number': 4, 'created': '2019-12-17 05:47:06.000000000', 'files': ['.zuul.yaml', 'releasenotes/notes/drop-python-2.7-f615ebae463b2143.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/010053df07d7dffad55581c0db9d43256a482280', 'message': ""Drop python 2.7 support\n\nWe no longer support python 2.7 past Train.\nLet's stop testings with python 2.7 and drop python 2.7 stuffs.\n\npypy in tox.ini is also dropped too. It is not used for long.\n\nChange-Id: I8a07c007a129cd2141085a1a3cc7f81658c42db2\n""}]",4,693876,010053df07d7dffad55581c0db9d43256a482280,22,6,4,841,,,0,"Drop python 2.7 support

We no longer support python 2.7 past Train.
Let's stop testings with python 2.7 and drop python 2.7 stuffs.

pypy in tox.ini is also dropped too. It is not used for long.

Change-Id: I8a07c007a129cd2141085a1a3cc7f81658c42db2
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/76/693876/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'releasenotes/notes/drop-python-2.7-f615ebae463b2143.yaml', 'setup.cfg', 'tox.ini', 'neutronclient/common/serializer.py']",5,a8ef2a203bac712af3a4765838329ce9ac809c40,drop-py27-support,,if six.PY3: long = int ,8,18
openstack%2Ftrove~stable%2Ftrain~Ib53308b33ce7e16ac0ff027f6af6635797ba5ae6,openstack/trove,stable/train,Ib53308b33ce7e16ac0ff027f6af6635797ba5ae6,Fix Trove periodic CI job,MERGED,2019-12-21 10:24:18.000000000,2019-12-21 23:21:56.000000000,2019-12-21 23:20:30.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-21 10:24:18.000000000', 'files': ['integration/scripts/functions_qemu'], 'web_link': 'https://opendev.org/openstack/trove/commit/47605e6c137e3934c052be5fb084198735d9697c', 'message': 'Fix Trove periodic CI job\n\nChange-Id: Ib53308b33ce7e16ac0ff027f6af6635797ba5ae6\n'}]",0,700273,47605e6c137e3934c052be5fb084198735d9697c,7,2,1,6732,,,0,"Fix Trove periodic CI job

Change-Id: Ib53308b33ce7e16ac0ff027f6af6635797ba5ae6
",git fetch https://review.opendev.org/openstack/trove refs/changes/73/700273/1 && git format-patch -1 --stdout FETCH_HEAD,['integration/scripts/functions_qemu'],1,47605e6c137e3934c052be5fb084198735d9697c,fix-periodic-job," if [[ ""${dev_mode,,}"" == ""true"" ]]; then if [[ ""${dev_mode,,}"" == ""false"" ]]; then"," if [[ ""${dev_mode}"" == ""true"" ]]; then if [[ ""${dev_mode}"" == ""false"" ]]; then",2,2
openstack%2Fcinder~master~I17f50948a6b2ad7adde29b4f28fac9ff1441d75f,openstack/cinder,master,I17f50948a6b2ad7adde29b4f28fac9ff1441d75f,Remove ProphetStor Flexvisor Driver,MERGED,2019-12-19 17:19:22.000000000,2019-12-21 22:31:58.000000000,2019-12-21 21:12:22.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-12-19 17:19:22.000000000', 'files': ['cinder/opts.py', 'cinder/tests/unit/volume/drivers/test_prophetstor_dpl.py', 'doc/source/reference/support-matrix.ini', 'doc/source/reference/support-matrix.rst', 'cinder/volume/drivers/prophetstor/dplcommon.py', 'cinder/volume/drivers/prophetstor/dpl_iscsi.py', 'cinder/volume/drivers/prophetstor/__init__.py', 'cinder/volume/drivers/prophetstor/dpl_fc.py', 'cinder/volume/drivers/prophetstor/options.py', 'doc/source/configuration/block-storage/drivers/prophetstor-dpl-driver.rst', 'releasenotes/notes/prophetstor-driver-removal-f6b9911d1f84b48f.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cbda94022c2123c47661fcee525e4db5e1cab49d', 'message': ""Remove ProphetStor Flexvisor Driver\n\nThe ProphetStor Flexvisor driver was marked\nunsupported during the Train release.  Since\nthen, the 3rd Party CI hasn't been fixed and\nthere has been no sign of activity from the\nvendor.  As a result the driver is being removed.\n\nChange-Id: I17f50948a6b2ad7adde29b4f28fac9ff1441d75f\n""}]",0,700034,cbda94022c2123c47661fcee525e4db5e1cab49d,63,24,1,7198,,,0,"Remove ProphetStor Flexvisor Driver

The ProphetStor Flexvisor driver was marked
unsupported during the Train release.  Since
then, the 3rd Party CI hasn't been fixed and
there has been no sign of activity from the
vendor.  As a result the driver is being removed.

Change-Id: I17f50948a6b2ad7adde29b4f28fac9ff1441d75f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/700034/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'cinder/tests/unit/volume/drivers/test_prophetstor_dpl.py', 'doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/prophetstor/dplcommon.py', 'doc/source/reference/support-matrix.rst', 'cinder/volume/drivers/prophetstor/__init__.py', 'cinder/volume/drivers/prophetstor/dpl_iscsi.py', 'cinder/volume/drivers/prophetstor/dpl_fc.py', 'cinder/volume/drivers/prophetstor/options.py', 'doc/source/configuration/block-storage/drivers/prophetstor-dpl-driver.rst', 'releasenotes/notes/prophetstor-driver-removal-f6b9911d1f84b48f.yaml']",11,cbda94022c2123c47661fcee525e4db5e1cab49d,ci_unsupported,--- upgrade: - | The ProphetStor Flexvisor driver was marked unsupported in the Train release and has now been removed. All data on ProphetStor Flexvisor backends should be migrated to a supported storage backend before upgrading your Cinder installation. ,,8,3173
openstack%2Fnova~master~I444a9f94060dd620a4837ba123544c1fb0fea190,openstack/nova,master,I444a9f94060dd620a4837ba123544c1fb0fea190,Add archive_deleted_rows wrinkle to cross-cell functional test,MERGED,2019-04-10 21:12:56.000000000,2019-12-21 21:47:36.000000000,2019-12-21 21:33:40.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23312}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30413}, {'_account_id': 30448}]","[{'number': 1, 'created': '2019-04-10 21:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a577db97c93e5dcf8a24ce50c921a57d4bbf2653', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 2, 'created': '2019-04-10 21:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d68b68d2677ec171d6346fcf1ebfb1236be5295c', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 3, 'created': '2019-04-11 19:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f16f7a2c10e4834d213153ac2cc12d9a3defcb6b', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 4, 'created': '2019-04-17 22:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c8e76fdca1f55fdae0af2d5c4318e988d7d07a30', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 5, 'created': '2019-04-19 01:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ceb881ac333e4de69cf3600f98736917d2417f7', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 6, 'created': '2019-04-20 22:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2dcbc4669afe5f48407e2afc5debafba3203684', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 7, 'created': '2019-04-26 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c8ab3660caa28a1c7c6336e2ef52b2315c429c70', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 8, 'created': '2019-04-30 20:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0862254cb7a24f20d7240e3f1b9929929634f3e7', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 9, 'created': '2019-05-01 15:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0f5fbf297056cdcaf0b7812520fbd992104824a', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 10, 'created': '2019-05-02 03:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5480ad5560495bbbd707a0f99bc735f838aa273d', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 11, 'created': '2019-05-09 22:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb31f8fd7f110dc12c9ca497ab7c8bbc2ec2734c', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 12, 'created': '2019-05-13 19:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00257fd560748f370c21b12b29449d4d67d4ee82', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 13, 'created': '2019-05-16 02:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54c7d9ea0bbff032c02965f069beb7e425584e65', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 14, 'created': '2019-05-22 14:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b45397f1745a5ad8dced0ad24760929225e4a15', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 15, 'created': '2019-05-28 23:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2597c0832539a9b8cee0bd3b1b83f0d96df94e11', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 16, 'created': '2019-05-29 21:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf1cd4654ee608cd3bcedeb67985a947f3dc3b13', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 17, 'created': '2019-06-10 21:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6dabea50bc1ee55253c8cfa872ace3499c259f9b', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 18, 'created': '2019-06-27 16:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b3ae0614aae8d67dbb5812b4c1441d9fa8ab31f2', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 19, 'created': '2019-06-28 00:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23fb70499f73d9252d9b7a771902f3e81432c1de', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 20, 'created': '2019-07-04 01:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4652b8997e194d35784d970c081ed898ff532bd7', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 21, 'created': '2019-07-05 22:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/34f02769644626f795ad0987865ecba6230ae106', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 22, 'created': '2019-07-10 01:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81cb39424d20d5e9d1e2d198208dd91ca93fcf31', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 23, 'created': '2019-07-26 23:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a838b7cadd629b8edf3430bf4f5010edfa4a4c8', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 24, 'created': '2019-08-07 22:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e33f6f13eb6074b3d2298b070c40442088d9e651', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 25, 'created': '2019-08-14 21:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60019ce6514dc0bdc824fa3d20b904622408e9f1', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 26, 'created': '2019-08-27 19:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1303a6d8670a60d8c539f67490249ab4ae72754', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 27, 'created': '2019-09-04 18:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4882a3737ca4c2fcbb60f5620e1b2c45d3afe9ac', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 28, 'created': '2019-09-21 23:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a0b28eb6f91adebb486f9e2f915fa4c39b14def', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 29, 'created': '2019-10-03 21:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/938722be67aa8153ed8e137552654508c669fb40', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 30, 'created': '2019-10-08 15:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b9aadff0cb1620f98e99bdb3fcb5d6be5447451', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 31, 'created': '2019-10-14 17:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0466e96bf344477a7f5330c6e30a5f9725a19983', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 32, 'created': '2019-10-14 18:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc68f6d92898ec77a6e22b7e0435bfe885ba7af2', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 33, 'created': '2019-10-16 01:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f1ffec38a60dcb91e92c8aaeb4e98b4dabe6bfa', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 34, 'created': '2019-10-21 19:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ee99b7a650408c194fff278fb916a10f590fd12', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 35, 'created': '2019-11-02 23:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a120b8eb77278a327d3c54a7df47abb92576699', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 36, 'created': '2019-11-03 17:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca8b4429636de9d9b5cdd0a6dd710cdaa6b54678', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 37, 'created': '2019-11-04 21:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94dbfa93030dcfe3a5eb9cd498d37ffddbd3610c', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 38, 'created': '2019-11-05 18:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1bef4c2d8c5d0e43ca11d30c60a2906d6612ba9c', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 39, 'created': '2019-11-05 19:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a22f5b0dc3677710a72c59d40225d9b97d5ee51e', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 40, 'created': '2019-11-12 21:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ae274d7f3a5837f2b900dd49a3964214791c6fa', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 41, 'created': '2019-11-13 15:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb000b86ad8d5847ec35da845355ae31ff0bd4fb', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 42, 'created': '2019-11-15 23:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81854444b8c635d1dd2644e2b1fd0f7f9bc108f5', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 43, 'created': '2019-11-21 01:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0834d8cd78172d78a4e6c77bf72905d601d4108a', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 44, 'created': '2019-11-27 00:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45dbace3b9be7a453dd4f09e0bff585c2d646b87', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 45, 'created': '2019-12-09 17:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e148d87c51cd329abb95082bc7fd1212af6caae0', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 46, 'created': '2019-12-09 17:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c42efc52fa077f0269ad710ff34c17d89563dec', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}, {'number': 47, 'created': '2019-12-12 19:07:41.000000000', 'files': ['nova/tests/functional/test_cross_cell_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/83edfb7ec83cb10229bfdee524c7330684c2407d', 'message': 'Add archive_deleted_rows wrinkle to cross-cell functional test\n\nThis adds a wrinkle to the test_resize_confirm_image_backed\nfunctional test which will run the archive_deleted_rows DB API\nmethod on all cells (there are three in the test: cell0, cell1 and\ncell2) and verify at least one instance is archived. This is mostly\na sanity check to make sure some referential constraint is not\nmessed up during the cross-cell resize + confirm flow where the\nsource cell1 instance records are hard-deleted and the target\ncell2 instance records are soft-deleted.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I444a9f94060dd620a4837ba123544c1fb0fea190\n'}]",3,651650,83edfb7ec83cb10229bfdee524c7330684c2407d,384,16,47,6873,,,0,"Add archive_deleted_rows wrinkle to cross-cell functional test

This adds a wrinkle to the test_resize_confirm_image_backed
functional test which will run the archive_deleted_rows DB API
method on all cells (there are three in the test: cell0, cell1 and
cell2) and verify at least one instance is archived. This is mostly
a sanity check to make sure some referential constraint is not
messed up during the cross-cell resize + confirm flow where the
source cell1 instance records are hard-deleted and the target
cell2 instance records are soft-deleted.

Part of blueprint cross-cell-resize

Change-Id: I444a9f94060dd620a4837ba123544c1fb0fea190
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/651650/45 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_cross_cell_migrate.py'],1,a577db97c93e5dcf8a24ce50c921a57d4bbf2653,bp/cross-cell-resize,"from nova.db import api as db_api # Run the DB archive code in all cells to make sure we did not mess # up some referential constraint. self._archive_cell_dbs() def _archive_cell_dbs(self): ctxt = nova_context.get_admin_context() archived_instances_count = 0 for cell in self.cell_mappings.values(): # We have to mock get_engine() for each cell because we cannot # pass in a targeted cell context. with nova_context.target_cell(ctxt, cell) as cctxt: with mock.patch( 'nova.db.sqlalchemy.api._context_manager_from_context', return_value=cctxt.db_connection): results = db_api.archive_deleted_rows(max_rows=1000)[0] archived_instances_count += results.get('instances', 0) # We expect to have archived at least one instance. self.assertGreaterEqual(archived_instances_count, 0, 'No instances were archived from any cell.') ",,21,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I83f57cb71f304c14aa4bacc4a57a9930bd168150,openstack/tripleo-heat-templates,stable/train,I83f57cb71f304c14aa4bacc4a57a9930bd168150,Remove ceph backend by default for gnocchi,MERGED,2019-12-13 06:48:56.000000000,2019-12-21 21:34:40.000000000,2019-12-21 21:34:40.000000000,"[{'_account_id': 4264}, {'_account_id': 6924}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-13 06:48:56.000000000', 'files': ['environments/enable-legacy-telemetry.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d48f73b1870d93cb268d322d80879f77b691c5aa', 'message': 'Remove ceph backend by default for gnocchi\n\nCeph requires some additional setup, and just defaulting to ceph\nwill make a deployment fail, if ceph is not set up.\n\nChange-Id: I83f57cb71f304c14aa4bacc4a57a9930bd168150\n(cherry picked from commit f6fe742059e90ce7dbebd091ef7be13eb351ed14)\n'}]",0,698836,d48f73b1870d93cb268d322d80879f77b691c5aa,18,4,1,4264,,,0,"Remove ceph backend by default for gnocchi

Ceph requires some additional setup, and just defaulting to ceph
will make a deployment fail, if ceph is not set up.

Change-Id: I83f57cb71f304c14aa4bacc4a57a9930bd168150
(cherry picked from commit f6fe742059e90ce7dbebd091ef7be13eb351ed14)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/698836/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/enable-legacy-telemetry.yaml'],1,d48f73b1870d93cb268d322d80879f77b691c5aa,, # uncomment the next two lines when using ceph # GnocchiRbdPoolName: 'metrics' # GnocchiBackend: 'rbd', GnocchiRbdPoolName: 'metrics' GnocchiBackend: 'rbd',3,2
openstack%2Fcinder~master~I6bfb5bd55ed8d2e194336ecef5d00ea8e22a4c4d,openstack/cinder,master,I6bfb5bd55ed8d2e194336ecef5d00ea8e22a4c4d,Remove Nimble Storage Driver,MERGED,2019-12-19 18:00:05.000000000,2019-12-21 21:15:25.000000000,2019-12-21 21:12:24.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-12-19 18:00:05.000000000', 'files': ['cinder/opts.py', 'doc/source/reference/support-matrix.ini', 'doc/source/reference/support-matrix.rst', 'cinder/volume/drivers/nimble.py', 'cinder/tests/unit/volume/drivers/test_nimble.py', 'doc/source/configuration/block-storage/drivers/nimble-volume-driver.rst', 'releasenotes/notes/nimble-driver-removal-ff80d077e7707614.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/416e60f579a625d9698f2b11c788d062d6b676a7', 'message': ""Remove Nimble Storage Driver\n\nThe Nimble Storage driver was marked\nunsupported during the Train release.  Since\nthen, the 3rd Party CI hasn't been fixed and\nthere has been no sign of activity from the\nvendor.  As a result the driver is being removed.\n\nChange-Id: I6bfb5bd55ed8d2e194336ecef5d00ea8e22a4c4d\n""}]",0,700043,416e60f579a625d9698f2b11c788d062d6b676a7,43,24,1,7198,,,0,"Remove Nimble Storage Driver

The Nimble Storage driver was marked
unsupported during the Train release.  Since
then, the 3rd Party CI hasn't been fixed and
there has been no sign of activity from the
vendor.  As a result the driver is being removed.

Change-Id: I6bfb5bd55ed8d2e194336ecef5d00ea8e22a4c4d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/700043/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'doc/source/reference/support-matrix.ini', 'doc/source/reference/support-matrix.rst', 'cinder/volume/drivers/nimble.py', 'cinder/tests/unit/volume/drivers/test_nimble.py', 'doc/source/configuration/block-storage/drivers/nimble-volume-driver.rst', 'releasenotes/notes/nimble-driver-removal-ff80d077e7707614.yaml']",7,416e60f579a625d9698f2b11c788d062d6b676a7,ci_unsupported,--- upgrade: - | The Nimble Storage driver was marked unsupported in the Train release and has now been removed. All data on Nimble Storage backends should be migrated to a supported storage backend before upgrading your Cinder installation. ,,8,3614
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I36602a20822b5544e8c1cd2aa0d8ae4a84de1c6e,openstack/tripleo-heat-templates,stable/train,I36602a20822b5544e8c1cd2aa0d8ae4a84de1c6e,Enable healthcheck script in clustercheck service,MERGED,2019-12-16 22:03:04.000000000,2019-12-21 16:22:12.000000000,2019-12-21 16:22:12.000000000,"[{'_account_id': 5241}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-16 22:03:04.000000000', 'files': ['deployment/pacemaker/clustercheck-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/414449705399d22838b5fafa7084fe166db48801', 'message': 'Enable healthcheck script in clustercheck service\n\nThe clustercheck container uses the same container image as the mysql\nservice. That image already contains a healthcheck script that can\nmonitor either mysql or clustercheck. So we can enable healthcheck\nin the clustercheck service as well.\n\nChange-Id: I36602a20822b5544e8c1cd2aa0d8ae4a84de1c6e\nCloses-Bug: #1856085\n(cherry picked from commit 5f1db96f96277e6e28df7b8aa64ce35b5badc04e)\n'}]",0,699303,414449705399d22838b5fafa7084fe166db48801,15,4,1,20778,,,0,"Enable healthcheck script in clustercheck service

The clustercheck container uses the same container image as the mysql
service. That image already contains a healthcheck script that can
monitor either mysql or clustercheck. So we can enable healthcheck
in the clustercheck service as well.

Change-Id: I36602a20822b5544e8c1cd2aa0d8ae4a84de1c6e
Closes-Bug: #1856085
(cherry picked from commit 5f1db96f96277e6e28df7b8aa64ce35b5badc04e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/699303/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/clustercheck-container-puppet.yaml'],1,414449705399d22838b5fafa7084fe166db48801,bug/1856085-stable/train, healthcheck: test: /openstack/healthcheck,,2,0
openstack%2Fpuppet-openstack-integration~master~I98fc088cd87c1412544f9590ce7a925b413297e2,openstack/puppet-openstack-integration,master,I98fc088cd87c1412544f9590ce7a925b413297e2,Add CentOS8 support and jobs,MERGED,2019-12-10 06:00:37.000000000,2019-12-21 14:34:04.000000000,2019-12-20 18:58:56.000000000,"[{'_account_id': 3153}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-10 06:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f7ab9cf3cbc2e7313a67c3cf6d9c8cfe20babd80', 'message': '[DNM] Test CentOS8\n\nChange-Id: I98fc088cd87c1412544f9590ce7a925b413297e2\n'}, {'number': 2, 'created': '2019-12-10 17:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1b61cd3b0b7aee8fe32a49a70357c8026b5cfa2e', 'message': '[DNM] Test CentOS8\n\nChange-Id: I98fc088cd87c1412544f9590ce7a925b413297e2\n'}, {'number': 3, 'created': '2019-12-10 17:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3d9d23e83eae05a42622e1b83710b0ff130d5ddf', 'message': '[DNM] Test CentOS8\n\nChange-Id: I98fc088cd87c1412544f9590ce7a925b413297e2\n'}, {'number': 4, 'created': '2019-12-10 17:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b9c698498f4695c8074e39009b1a6e53921e1bf3', 'message': '[DNM] Test CentOS8\n\nChange-Id: I98fc088cd87c1412544f9590ce7a925b413297e2\n'}, {'number': 5, 'created': '2019-12-10 18:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/15c9a36b7216b22f93d41811bbcca4b2099fbc7a', 'message': '[DNM] Test CentOS8\n\nChange-Id: I98fc088cd87c1412544f9590ce7a925b413297e2\n'}, {'number': 6, 'created': '2019-12-11 06:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/93cd842fa3614bba4cc52ccbfa55b1c9b235d747', 'message': '[DNM] Test CentOS8\n\nChange-Id: I98fc088cd87c1412544f9590ce7a925b413297e2\n'}, {'number': 7, 'created': '2019-12-12 09:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c7f2a048be27c230b6def6af8b01d51cb6738622', 'message': '[DNM] Test CentOS8\n\nChange-Id: I98fc088cd87c1412544f9590ce7a925b413297e2\n'}, {'number': 8, 'created': '2019-12-18 15:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/014a0db2411e970ebd7018f4bbcba3412d8da02b', 'message': 'Add CentOS8 support and jobs\n\n- scenario001 and 004 will be running without ceph\n  until ceph repos get available for CentOS8\n- scenario003 will run not run with linuxbridge until next CentOS\n  minor version as it has issues:-\n    - https://bugzilla.redhat.com/show_bug.cgi?id=1720637\n\nChange-Id: I98fc088cd87c1412544f9590ce7a925b413297e2\n'}, {'number': 9, 'created': '2019-12-18 16:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2414a4201d18652193981fa91a3b6f8119307113', 'message': 'Add CentOS8 support and jobs\n\n- scenario001 and 004 will be running without ceph\n  until ceph repos get available for CentOS8\n- scenario003 will run not run with linuxbridge until next CentOS\n  minor version as it has issues:-\n    - https://bugzilla.redhat.com/show_bug.cgi?id=1720637\n\nChange-Id: I98fc088cd87c1412544f9590ce7a925b413297e2\n'}, {'number': 10, 'created': '2019-12-19 05:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5387d04e28f60403e36fa723c9bb2679932b39ef', 'message': ""Add CentOS8 support and jobs\n\n- scenario001 and 004 will be running without ceph\n  until ceph repos get available for CentOS8\n- scenario003 will run not run with linuxbridge until next CentOS\n  minor version as it has issues:-\n    - https://bugzilla.redhat.com/show_bug.cgi?id=1720637\n- Add Puppetfile_centos8 to have different puppet modules\n  as compared to other distros. Currently only puppet-mysql\n  needs to be different, but it's done keeping in mind in future\n  we may need to use different versions for other modules.\n- check for rdo_dlrn url existence only for RedHat distros.\n\nChange-Id: I98fc088cd87c1412544f9590ce7a925b413297e2\n""}, {'number': 11, 'created': '2019-12-19 14:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e874c67f197f8917dd1de14ef24d320fb0076a4d', 'message': ""Add CentOS8 support and jobs\n\n- scenario001 and 004 will be running without ceph\n  until ceph repos get available for CentOS8\n- scenario003 will run not run with linuxbridge until next CentOS\n  minor version as it has issues:-\n    - https://bugzilla.redhat.com/show_bug.cgi?id=1720637\n- Add Puppetfile_centos8 to have different puppet modules\n  as compared to other distros. Currently only puppet-mysql\n  needs to be different, but it's done keeping in mind in future\n  we may need to use different versions for other modules.\n- check for rdo_dlrn url existence only for RedHat distros.\n\nChange-Id: I98fc088cd87c1412544f9590ce7a925b413297e2\n""}, {'number': 12, 'created': '2019-12-20 10:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3e92eb24da0a34acca67dab0fd63c5e6131cf1ae', 'message': 'Add CentOS8 support and jobs\n\n- scenario001 and 004 will be running without ceph\n  until ceph repos get available for CentOS8\n- scenario003 will run not run with linuxbridge until next CentOS\n  minor version as it has issues:-\n    - https://bugzilla.redhat.com/show_bug.cgi?id=1720637\n- Add Puppetfile_centos7 to have different puppet modules\n  as compared to other distros. Currently only puppet-mysql\n  needs to be kept pinned for centos7 as newere mariadb version\n  is required to remove the pin, CentOS8 and ubuntu have required\n  mariadb version so pin is removed. So automatic updates of puppet\n  modules will not be applied for CentOS7 as those jobs are going to\n  be removed in coming months.\n- check for rdo_dlrn url existence only for RedHat distros.\n\nChange-Id: I98fc088cd87c1412544f9590ce7a925b413297e2\n'}, {'number': 13, 'created': '2019-12-20 10:18:18.000000000', 'files': ['fixtures/scenario001.pp', 'functions', 'external_modules.txt', 'fixtures/scenario003.pp', 'configure_facts.sh', 'manifests/rabbitmq.pp', 'manifests/config.pp', 'manifests/neutron.pp', 'Puppetfile', 'Puppetfile_centos7', 'fixtures/scenario004.pp', 'zuul.d/integration.yaml', 'manifests/mysql.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b44d0bdd5a19661130b6ada02f9ae825783a78a1', 'message': 'Add CentOS8 support and jobs\n\n- scenario001 and 004 will be running without ceph\n  until ceph repos get available for CentOS8\n- scenario003 will run not run with linuxbridge until next CentOS\n  minor version as it has issues:-\n    - https://bugzilla.redhat.com/show_bug.cgi?id=1720637\n- Add Puppetfile_centos7 to have different puppet modules\n  as compared to other distros. Currently only puppet-mysql\n  needs to be kept pinned for centos7 as newere mariadb version\n  is required to remove the pin, CentOS8 and ubuntu have required\n  mariadb version so pin is removed. So automatic updates of puppet\n  modules will not be applied for CentOS7 as those jobs are going to\n  be removed in coming months.\n- check for rdo_dlrn url existence only for RedHat distros.\n\nChange-Id: I98fc088cd87c1412544f9590ce7a925b413297e2\n'}]",9,698142,b44d0bdd5a19661130b6ada02f9ae825783a78a1,64,7,13,13861,,,0,"Add CentOS8 support and jobs

- scenario001 and 004 will be running without ceph
  until ceph repos get available for CentOS8
- scenario003 will run not run with linuxbridge until next CentOS
  minor version as it has issues:-
    - https://bugzilla.redhat.com/show_bug.cgi?id=1720637
- Add Puppetfile_centos7 to have different puppet modules
  as compared to other distros. Currently only puppet-mysql
  needs to be kept pinned for centos7 as newere mariadb version
  is required to remove the pin, CentOS8 and ubuntu have required
  mariadb version so pin is removed. So automatic updates of puppet
  modules will not be applied for CentOS7 as those jobs are going to
  be removed in coming months.
- check for rdo_dlrn url existence only for RedHat distros.

Change-Id: I98fc088cd87c1412544f9590ce7a925b413297e2
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/42/698142/11 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'zuul.d/integration.yaml', 'zuul.d/layout.yaml']",3,f7ab9cf3cbc2e7313a67c3cf6d9c8cfe20babd80,rdo-centos8, - puppet-openstack-integration-5-scenario001-tempest-centos-8-luminous - puppet-openstack-integration-5-scenario002-tempest-centos-8 - puppet-openstack-integration-5-scenario003-tempest-centos-8 - puppet-openstack-integration-5-scenario004-tempest-centos-8-nautilus, - puppet-openstack-integration-5-scenario001-tempest-centos-7-luminous - puppet-openstack-integration-5-scenario002-tempest-centos-7 - puppet-openstack-integration-5-scenario003-tempest-centos-7 - puppet-openstack-integration-5-scenario004-tempest-centos-7-nautilus - puppet-openstack-integration-5-scenario001-tempest-ubuntu-bionic-mimic - puppet-openstack-integration-5-scenario002-tempest-ubuntu-bionic - puppet-openstack-integration-5-scenario003-tempest-ubuntu-bionic - puppet-openstack-integration-5-scenario004-tempest-ubuntu-bionic-mimic,41,9
openstack%2Ftrove~master~I484d45f24176c89d999864d3eb1c48860b3038bd,openstack/trove,master,I484d45f24176c89d999864d3eb1c48860b3038bd,Fix delete instance,MERGED,2019-12-09 01:25:16.000000000,2019-12-21 10:37:44.000000000,2019-12-10 05:40:32.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 25254}]","[{'number': 1, 'created': '2019-12-09 01:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/60d7155b001ec973ba3c603eeebe099672bc84e9', 'message': 'Fix delete instance\n\nDeal with the situation when Trove fails to look for the Nova server\nwhen waiting for the db instance ACTIVE\n\nChange-Id: I484d45f24176c89d999864d3eb1c48860b3038bd\n'}, {'number': 2, 'created': '2019-12-09 08:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/5c3c9b828eff87428c8326087998ba3a2f8d54e3', 'message': 'Fix delete instance\n\nDeal with the situation when Trove fails to look for the Nova server\nwhen waiting for the db instance ACTIVE\n\nChange-Id: I484d45f24176c89d999864d3eb1c48860b3038bd\n'}, {'number': 3, 'created': '2019-12-09 20:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/85c02740a625b07958bd674b00de4c6053535b06', 'message': 'Fix delete instance\n\nDeal with the situation when Trove fails to look for the Nova server\nwhen waiting for the db instance ACTIVE\n\nChange-Id: I484d45f24176c89d999864d3eb1c48860b3038bd\n'}, {'number': 4, 'created': '2019-12-09 23:56:20.000000000', 'files': ['trove/taskmanager/models.py', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/trove/commit/d93a4109436af6517b9f9276b27c517a30bcd86e', 'message': 'Fix delete instance\n\nDeal with the situation when Trove fails to look for the Nova server\nwhen waiting for the db instance ACTIVE\n\nChange-Id: I484d45f24176c89d999864d3eb1c48860b3038bd\n'}]",0,697937,d93a4109436af6517b9f9276b27c517a30bcd86e,16,3,4,6732,,,0,"Fix delete instance

Deal with the situation when Trove fails to look for the Nova server
when waiting for the db instance ACTIVE

Change-Id: I484d45f24176c89d999864d3eb1c48860b3038bd
",git fetch https://review.opendev.org/openstack/trove refs/changes/37/697937/2 && git format-patch -1 --stdout FETCH_HEAD,"['trove/taskmanager/models.py', 'devstack/plugin.sh']",2,60d7155b001ec973ba3c603eeebe099672bc84e9,fix-delete-instance," iniset $TROVE_CONF DEFAULT network_label_regex """"", iniset $TROVE_CONF DEFAULT network_label_regex ${PRIVATE_NETWORK_NAME},15,6
openstack%2Frequirements~master~Id968e906136ed74a87090c10df62e0f8704780c5,openstack/requirements,master,Id968e906136ed74a87090c10df62e0f8704780c5,update constraint for glance_store to new release 1.1.0,MERGED,2019-12-20 11:16:31.000000000,2019-12-21 08:37:00.000000000,2019-12-21 08:35:18.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-20 11:16:31.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e9b3a7024456d5b4464fbb5d43eb77df9bb2ed3b', 'message': 'update constraint for glance_store to new release 1.1.0\n\nChange-Id: Id968e906136ed74a87090c10df62e0f8704780c5\nmeta:version: 1.1.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Thierry Carrez <thierry@openstack.org>\nmeta:release:Change-Id: If8e94f9e39961c61d17110e8bffcd4057e07561a\nmeta:release:Code-Review+1: Abhishek Kekane <akekane@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,700154,e9b3a7024456d5b4464fbb5d43eb77df9bb2ed3b,18,2,1,11131,,,0,"update constraint for glance_store to new release 1.1.0

Change-Id: Id968e906136ed74a87090c10df62e0f8704780c5
meta:version: 1.1.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Thierry Carrez <thierry@openstack.org>
meta:release:Change-Id: If8e94f9e39961c61d17110e8bffcd4057e07561a
meta:release:Code-Review+1: Abhishek Kekane <akekane@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/54/700154/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e9b3a7024456d5b4464fbb5d43eb77df9bb2ed3b,new-release,glance-store===1.1.0,glance-store===1.0.1,1,1
openstack%2Ftripleo-heat-templates~stable%2Frocky~I25d1c534c199f50c82458257d1c24196501c5499,openstack/tripleo-heat-templates,stable/rocky,I25d1c534c199f50c82458257d1c24196501c5499,Enable recon middleware for swift account/container server,MERGED,2019-11-26 01:59:42.000000000,2019-12-21 08:08:01.000000000,2019-12-21 08:08:01.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-26 01:59:42.000000000', 'files': ['puppet/services/swift-storage.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f29d55c839b1c193b98f347fbbb5c6154be9cfb1', 'message': 'Enable recon middleware for swift account/container server\n\nEnable recon middleware in account server and container server,\nso that we can monitor metrics about swift processes related to\naccount or container using recon api.\n\nConflicts:\n\tdocker/services/swift-storage.yaml\n\nChange-Id: I25d1c534c199f50c82458257d1c24196501c5499\nCloses-Bug: #1852530\n(cherry-picked from commit 927531adb4088919339d8167154b18698d744f1d)\n(cherry picked from commit 26338c3e26ec3711b32eb9f3b9c888a39b252816)\n(cherry picked from commit ce335e229f65b952b9e18a083764ac7edda6bc6a)\n'}]",0,696005,f29d55c839b1c193b98f347fbbb5c6154be9cfb1,20,5,1,9816,,,0,"Enable recon middleware for swift account/container server

Enable recon middleware in account server and container server,
so that we can monitor metrics about swift processes related to
account or container using recon api.

Conflicts:
	docker/services/swift-storage.yaml

Change-Id: I25d1c534c199f50c82458257d1c24196501c5499
Closes-Bug: #1852530
(cherry-picked from commit 927531adb4088919339d8167154b18698d744f1d)
(cherry picked from commit 26338c3e26ec3711b32eb9f3b9c888a39b252816)
(cherry picked from commit ce335e229f65b952b9e18a083764ac7edda6bc6a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/696005/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/swift-storage.yaml'],1,f29d55c839b1c193b98f347fbbb5c6154be9cfb1,bug/1852530, - recon - recon,,2,0
openstack%2Ftripleo-common~stable%2Fstein~Iafecc885abac5583c07bc046bc4d541f5e1e1c00,openstack/tripleo-common,stable/stein,Iafecc885abac5583c07bc046bc4d541f5e1e1c00,Ensure blacklisted nodes are not included in server_names,MERGED,2019-12-20 11:24:41.000000000,2019-12-21 07:25:00.000000000,2019-12-21 02:43:03.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-20 11:24:41.000000000', 'files': ['tripleo_common/utils/config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/13b77d3670ccd69530850fe72c6dba33e663cc64', 'message': ""Ensure blacklisted nodes are not included in server_names\n\n'ServerIdData' map actually returns 'None' ids for blacklisted\nnodes for a role, as 'nova_server_resource' output is\nevaluated with condition 'server_not_blacklisted'. This\nresults in get_server_names() returning these blacklisted\nnodes with something like 'None: compute-1' and results\nin issues when we write ansible_host_vars. As we don't intend to\nwrite ansible_host_vars for blacklisted nodes, we can ignore\nthese from 'server_names'.\n\nCloses-bug: #1856661\nChange-Id: Iafecc885abac5583c07bc046bc4d541f5e1e1c00\n(cherry picked from commit d407c96d17020a15395ba4f6537e03e596caedaa)\n""}]",0,700155,13b77d3670ccd69530850fe72c6dba33e663cc64,9,4,1,3153,,,0,"Ensure blacklisted nodes are not included in server_names

'ServerIdData' map actually returns 'None' ids for blacklisted
nodes for a role, as 'nova_server_resource' output is
evaluated with condition 'server_not_blacklisted'. This
results in get_server_names() returning these blacklisted
nodes with something like 'None: compute-1' and results
in issues when we write ansible_host_vars. As we don't intend to
write ansible_host_vars for blacklisted nodes, we can ignore
these from 'server_names'.

Closes-bug: #1856661
Change-Id: Iafecc885abac5583c07bc046bc4d541f5e1e1c00
(cherry picked from commit d407c96d17020a15395ba4f6537e03e596caedaa)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/55/700155/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/config.py'],1,13b77d3670ccd69530850fe72c6dba33e663cc64,, if server_id is not None: servers[server_id] = name.lower(), servers[server_id] = name.lower(),2,1
openstack%2Fhorizon~stable%2Fstein~I0d31c7406027d7396ec341818eb154f6d1101938,openstack/horizon,stable/stein,I0d31c7406027d7396ec341818eb154f6d1101938,Imported Translations from Zanata,MERGED,2019-12-12 08:09:51.000000000,2019-12-21 06:31:14.000000000,2019-12-21 06:28:04.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-12 08:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/de0457f21c885e3ffe8c16e20d5c050c8f772d8b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I0d31c7406027d7396ec341818eb154f6d1101938\n'}, {'number': 2, 'created': '2019-12-20 08:43:39.000000000', 'files': ['openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-install.po', 'horizon/locale/en_GB/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/djangojs.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-user.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-admin.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d6056bf466ebdc65e75c3d2df6d434b491969d3c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I0d31c7406027d7396ec341818eb154f6d1101938\n'}]",0,698652,d6056bf466ebdc65e75c3d2df6d434b491969d3c,12,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I0d31c7406027d7396ec341818eb154f6d1101938
",git fetch https://review.opendev.org/openstack/horizon refs/changes/52/698652/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-install.po', 'horizon/locale/en_GB/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/djangojs.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-user.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-admin.po']",6,de0457f21c885e3ffe8c16e20d5c050c8f772d8b,zanata/translations,"""Project-Id-Version: horizon 15.1.2.dev8\n""""POT-Creation-Date: 2019-12-09 07:08-0600\n""""PO-Revision-Date: 2019-12-11 01:05+0000\n""msgid ""256 (Recommended for aes-xts-plain64 and aes-cbc-essiv)"" msgstr ""256 (Recommended for aes-xts-plain64 and aes-cbc-essiv)"" ","""Project-Id-Version: horizon 15.1.2.dev3\n""""POT-Creation-Date: 2019-11-15 06:04-0600\n""""PO-Revision-Date: 2019-01-11 04:46+0000\n""",165,15
openstack%2Fhorizon~stable%2Ftrain~I8916572c5f18794f7681fdfea47c7717c435d181,openstack/horizon,stable/train,I8916572c5f18794f7681fdfea47c7717c435d181,Imported Translations from Zanata,MERGED,2019-12-20 08:48:09.000000000,2019-12-21 06:31:03.000000000,2019-12-21 06:28:02.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-20 08:48:09.000000000', 'files': ['openstack_dashboard/locale/de/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d5ee750a9fad046e643a3089b1fb2a08e54a1f5b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8916572c5f18794f7681fdfea47c7717c435d181\n'}]",0,700122,d5ee750a9fad046e643a3089b1fb2a08e54a1f5b,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I8916572c5f18794f7681fdfea47c7717c435d181
",git fetch https://review.opendev.org/openstack/horizon refs/changes/22/700122/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/locale/de/LC_MESSAGES/django.po'],1,d5ee750a9fad046e643a3089b1fb2a08e54a1f5b,zanata/translations,"""POT-Creation-Date: 2019-12-19 19:04+0000\n""""PO-Revision-Date: 2019-12-19 09:09+0000\n""msgstr ""Die Instanz ist entsperrt.""","""POT-Creation-Date: 2019-09-19 14:45+0000\n""""PO-Revision-Date: 2019-09-19 12:35+0000\n""msgstr ""Die Instanz ist nicht entsperrt.""",3,3
openstack%2Frequirements~master~If6d15c7b8a36ddd53e9ae04502e024e29f2ca2f8,openstack/requirements,master,If6d15c7b8a36ddd53e9ae04502e024e29f2ca2f8,"Revert ""Cap requests-mock to 1.6.0""",MERGED,2019-12-20 19:48:38.000000000,2019-12-21 06:27:27.000000000,2019-12-21 06:24:27.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-20 19:48:38.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b4d5ca39901dcecaca242b4f73f0c3aa4c4ae867', 'message': 'Revert ""Cap requests-mock to 1.6.0""\n\nThe issue with keystoneauth has been fixed by Colleen\nin https://review.opendev.org/680515\n\nThis reverts commit b7fc4603ab83a31ff973542e9e212b6cffa7248e.\n\nChange-Id: If6d15c7b8a36ddd53e9ae04502e024e29f2ca2f8\n'}]",0,700234,b4d5ca39901dcecaca242b4f73f0c3aa4c4ae867,12,3,1,6593,,,0,"Revert ""Cap requests-mock to 1.6.0""

The issue with keystoneauth has been fixed by Colleen
in https://review.opendev.org/680515

This reverts commit b7fc4603ab83a31ff973542e9e212b6cffa7248e.

Change-Id: If6d15c7b8a36ddd53e9ae04502e024e29f2ca2f8
",git fetch https://review.opendev.org/openstack/requirements refs/changes/34/700234/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,b4d5ca39901dcecaca242b4f73f0c3aa4c4ae867,,requests-mock===1.7.0,requests-mock===1.6.0,2,2
openstack%2Fnova~stable%2Frocky~Ifd4387a02b3103e1258e146e63c73be1ad10030c,openstack/nova,stable/rocky,Ifd4387a02b3103e1258e146e63c73be1ad10030c,Zuul v3: use devstack-plugin-nfs-tempest-full,MERGED,2019-12-20 08:23:47.000000000,2019-12-21 06:24:24.000000000,2019-12-21 06:24:24.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-20 08:23:47.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/ee6af34437069a23284f4521330057a95f86f9b7', 'message': 'Zuul v3: use devstack-plugin-nfs-tempest-full\n\n... and replace its legacy ancestor.\n\nChange-Id: Ifd4387a02b3103e1258e146e63c73be1ad10030c\n(cherry picked from commit e7e39b8c2e20f5d7b5e70020f0e42541dc772e68)\n(cherry picked from commit e82e1704caa1c2baea29f05e8d426337e8de7a3c)\n(cherry picked from commit 99aa8ebc12949f9bba76f22e877b07d02791bf5b)\n'}]",0,700121,ee6af34437069a23284f4521330057a95f86f9b7,24,6,1,10459,,,0,"Zuul v3: use devstack-plugin-nfs-tempest-full

... and replace its legacy ancestor.

Change-Id: Ifd4387a02b3103e1258e146e63c73be1ad10030c
(cherry picked from commit e7e39b8c2e20f5d7b5e70020f0e42541dc772e68)
(cherry picked from commit e82e1704caa1c2baea29f05e8d426337e8de7a3c)
(cherry picked from commit 99aa8ebc12949f9bba76f22e877b07d02791bf5b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/700121/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ee6af34437069a23284f4521330057a95f86f9b7,, - devstack-plugin-nfs-tempest-full:, - legacy-tempest-dsvm-full-devstack-plugin-nfs:,1,1
openstack%2Fhorizon~stable%2Fstein~Ibafe3e2eb3ee1ee5c9eb5d2a276a0edfa3e7c607,openstack/horizon,stable/stein,Ibafe3e2eb3ee1ee5c9eb5d2a276a0edfa3e7c607,Fix users/projects list when domain context is changed,MERGED,2019-12-13 10:24:16.000000000,2019-12-21 05:55:50.000000000,2019-12-21 05:54:23.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 5623}, {'_account_id': 8648}, {'_account_id': 10366}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-12-13 10:24:16.000000000', 'files': ['openstack_dashboard/api/keystone.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f6490abc288f667e9af299264e5eebf7eb931355', 'message': 'Fix users/projects list when domain context is changed\n\nIn case of Keystone Multidomain setup, the project and users list\nis empty when the domain context is changed. Horizon uses domain\nscoped token for keystone api calls to get list of projects and users.\nAnd domain scoped token cannot get information about projects and users\nin other domains, the list is empty.\n\nThis patch modifies the use of domain scoped token only when domain\ncontext is not modified.\n\nThe bug have 3 parts\n1. Users are not listed on GUI in different domain\n2. Projects are not listed on GUI in different domain\n3. Gui hangs during creation of user/project using + option\nThis patch handles case 1 and 2.\n\nChange-Id: Ibafe3e2eb3ee1ee5c9eb5d2a276a0edfa3e7c607\nPartial-Bug: #1826114\nCloses-Bug: #1830782\n(cherry picked from commit 9aca7a94e28589484e312770cc1ee2b8243211bb)\n'}]",0,698867,f6490abc288f667e9af299264e5eebf7eb931355,11,7,1,10366,,,0,"Fix users/projects list when domain context is changed

In case of Keystone Multidomain setup, the project and users list
is empty when the domain context is changed. Horizon uses domain
scoped token for keystone api calls to get list of projects and users.
And domain scoped token cannot get information about projects and users
in other domains, the list is empty.

This patch modifies the use of domain scoped token only when domain
context is not modified.

The bug have 3 parts
1. Users are not listed on GUI in different domain
2. Projects are not listed on GUI in different domain
3. Gui hangs during creation of user/project using + option
This patch handles case 1 and 2.

Change-Id: Ibafe3e2eb3ee1ee5c9eb5d2a276a0edfa3e7c607
Partial-Bug: #1826114
Closes-Bug: #1830782
(cherry picked from commit 9aca7a94e28589484e312770cc1ee2b8243211bb)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/67/698867/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/api/keystone.py'],1,f6490abc288f667e9af299264e5eebf7eb931355,bug/1826114-stable/stein," is_domain_context_specified = bool( request.session.get(""domain_context"")) # If user is Cloud Admin, Domain Admin or Mixed Domain Admin and there # is no domain context specified, use domain scoped token if is_domain_admin(request) and not is_domain_context_specified:"," # Cloud Admin, Domain Admin or Mixed Domain Admin if is_domain_admin(request):",6,2
openstack%2Fnova~master~I50b23c99a017bbfed98fd072112f0d06dd303829,openstack/nova,master,I50b23c99a017bbfed98fd072112f0d06dd303829,Confirm cross-cell resize while deleting a server,MERGED,2019-02-20 21:15:18.000000000,2019-12-21 05:49:40.000000000,2019-12-21 05:47:29.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11347}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23950}, {'_account_id': 25314}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 27679}, {'_account_id': 29963}, {'_account_id': 30427}]","[{'number': 1, 'created': '2019-02-20 21:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a6f80952e76bee10e852573a431d947dbdb1b95', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 2, 'created': '2019-02-26 22:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c55f2f80100bd362eb6522b73ef319c0e924c8f', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 3, 'created': '2019-03-07 22:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d6653c49a806095c94bc20691ce55452bd1077e', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 4, 'created': '2019-03-08 23:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff80d385733d32deef51f7fbc2ace7ca76b1ccfc', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 5, 'created': '2019-03-11 22:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/002a16461b83b2191f3fc47e32838ad6bacbd6af', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 6, 'created': '2019-03-14 20:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/849f4e17c951813785c2be0cb8c964057b7c7be4', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 7, 'created': '2019-03-14 20:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a88463f3c86e839489a68baf57c57d598d424a3', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 8, 'created': '2019-03-15 11:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/abc869d34be6791470168d5834db7fa326f45adb', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 9, 'created': '2019-04-01 22:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ddd456a1965e4cd85b5b952f9844bbc8ee69ac77', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 10, 'created': '2019-04-03 21:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03be3d85c32efacc9bcb7c363a8a0a9d01f85ef4', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 11, 'created': '2019-04-06 01:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f621f5362a510f8fca5b62f31d2b9ff7a7800913', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 12, 'created': '2019-04-08 20:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89443bbdf69c4227d7a2d530a6daaaa4e3efe596', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 13, 'created': '2019-04-11 19:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51a1cf23b610e9ac97ba9a6c94935eb9bf864aef', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 14, 'created': '2019-04-17 22:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab67d2631755cfd1423f2d6ddcd258d10c65ea58', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 15, 'created': '2019-04-19 01:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2b188b9e96b6286393ffe44227a29e7211d2570', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 16, 'created': '2019-04-20 22:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db8e4d62a77a05fdb5e8093e901f0b994ba253d1', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 17, 'created': '2019-04-26 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9319030bd939a1a22794c7745855327662b748c', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 18, 'created': '2019-04-30 20:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72268b87d6a9eed4dbe966d4c3534fab49130c12', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 19, 'created': '2019-05-01 15:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e288d2eb8805e1dab3219ced0c351c5e75ee3a2c', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 20, 'created': '2019-05-02 03:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d7502b7e3cacb3f04c5c390a3b6dea045ce3f461', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 21, 'created': '2019-05-09 22:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be0b2c8d60de3b3ecad8fdefad39f8949ae74c0e', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 22, 'created': '2019-05-13 19:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4358d22ce3bb2d23c1fb7ac03dff65507afc3800', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 23, 'created': '2019-05-16 02:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5eaee05460b3ce613bab22fc20dca891530bd5c', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 24, 'created': '2019-05-22 14:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2808277cf97f2534305f7681e4080490d00b7110', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 25, 'created': '2019-05-28 23:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9dfdd20da230a50dcf8838a195024bc33b59c416', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 26, 'created': '2019-05-29 21:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be45e2b4748203c17326f3fb74e2a68d0a1e7949', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 27, 'created': '2019-06-10 21:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10a6f781bca2d27b5d29bffaa0c522945132723d', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 28, 'created': '2019-06-27 16:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f754762b0d8c3c7e71dc49e212a9dbe6b901beb9', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 29, 'created': '2019-06-28 00:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4721b1b56d83ec481712941803537d4a301f8c8', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 30, 'created': '2019-07-04 01:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80d8f9948dae984bbe6821d41dcd4bdc631c0f0f', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 31, 'created': '2019-07-05 22:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c5b7d4f7a6e6f4435061228116ae0ae633267f6', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 32, 'created': '2019-07-10 01:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0255e2e38a42f63d8a6ca7863ac8679c7dfaa03', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 33, 'created': '2019-07-26 23:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2322c6e1d40db415b8db8f60a4220d9bfde820a2', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 34, 'created': '2019-08-07 22:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0db13a44bb8b09c476b655ed633ab01fb47b3720', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 35, 'created': '2019-08-14 21:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/723ca97255215241386436af0ed0ad520b73cda3', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 36, 'created': '2019-08-27 19:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe3691622042f22e3274a29fd5ede3705bcb41e9', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 37, 'created': '2019-09-04 18:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31f52aebd20f7d94c277757265ff0f5fcf145322', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 38, 'created': '2019-09-21 23:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb6243881d51cf9b73916247fb0889f990245352', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 39, 'created': '2019-10-03 21:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c2f528781e41d281cfddf4310b5ad3684d0446b', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 40, 'created': '2019-10-08 15:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d8e246ec92b4d07f5c681810ed5b9ab3c3918b1', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 41, 'created': '2019-10-14 17:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d9f30ebbe6e28850b80d57acb442c171184b63e', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 42, 'created': '2019-10-14 18:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15e830a3b3d22ee3a12d9ce095d845ef17d1d9a6', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 43, 'created': '2019-10-16 01:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a7a5b37034a371dd9b9edcc23a35612fab40601', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 44, 'created': '2019-10-21 19:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af37d946d57936ddb2549050dd3fc2394bd4557b', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 45, 'created': '2019-11-02 23:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7d9a99f7235c7461afc3fbc5bc85650a369acbf', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 46, 'created': '2019-11-04 21:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/524bd5b42dc43316ee8942da089ef00a8869b1bb', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 47, 'created': '2019-11-05 18:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63e643c99d73894d174f3ee0829117865fdc02d1', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 48, 'created': '2019-11-05 19:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f1e1af8eab03ac6a79c5092f71eac583bb86594', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 49, 'created': '2019-11-12 21:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/adde2736ec975a7e5d5d5846b04b66deb69d20d4', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 50, 'created': '2019-11-13 15:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e51437de44e7e49fd55c7fe4ece6b9c20381cd9b', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 51, 'created': '2019-11-15 23:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9d894f12c256c44c5ebad173d6d300b8c30d023', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 52, 'created': '2019-11-21 01:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58d346d2bf3b679773e1e1a7f647d365099e7848', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 53, 'created': '2019-11-27 00:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f38e68da7100ccaf228eacb1543cd19aab704586', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 54, 'created': '2019-12-09 17:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/559082cbbfac6fedbb82bf177e3e711781b9b968', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 55, 'created': '2019-12-09 17:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5bb94e2e47aae53f14ed142c0ebe24b9f09825a', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}, {'number': 56, 'created': '2019-12-12 19:07:41.000000000', 'files': ['nova/tests/functional/test_cross_cell_migrate.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6057373191a7df10b2d2afba876f3c5a15ae33e5', 'message': ""Confirm cross-cell resize while deleting a server\n\nThis adds the code to handle the TODO in the API code\nwhen deleting a server in 'resized' status. Like the\ntraditional confirm resize code used here, this will\nsynchronously RPC call conductor to orchestrate the\nconfirm operation which will delete the instance-related\nrecords from the source cell before the API deletes the\ninstance in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I50b23c99a017bbfed98fd072112f0d06dd303829\n""}]",7,638268,6057373191a7df10b2d2afba876f3c5a15ae33e5,571,22,56,6873,,,0,"Confirm cross-cell resize while deleting a server

This adds the code to handle the TODO in the API code
when deleting a server in 'resized' status. Like the
traditional confirm resize code used here, this will
synchronously RPC call conductor to orchestrate the
confirm operation which will delete the instance-related
records from the source cell before the API deletes the
instance in the target cell.

Part of blueprint cross-cell-resize

Change-Id: I50b23c99a017bbfed98fd072112f0d06dd303829
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/638268/45 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_cross_cell_migrate.py', 'nova/compute/api.py']",2,1a6f80952e76bee10e852573a431d947dbdb1b95,bp/cross-cell-resize," # If migration.cross_cell_move, we need to also cleanup the instance # data from the source cell database. if migration.cross_cell_move: self.compute_task_api.confirm_snapshot_based_resize( context, instance, migration, do_cast=False) else: self.compute_rpcapi.confirm_resize(context, instance, migration, migration.source_compute, cast=False)"," src_host = migration.source_compute # FIXME(mriedem): If migration.cross_cell_move, we need to also # cleanup the instance data from the source cell database. self.compute_rpcapi.confirm_resize(context, instance, migration, src_host, cast=False)",9,25
openstack%2Ftripleo-ansible~master~Ice7de15eae2373717292286a44ff92f627c8ca5c,openstack/tripleo-ansible,master,Ice7de15eae2373717292286a44ff92f627c8ca5c,"Revert ""Revert ""tripleo-keystone-resources: reduce permissions for clouds.yaml""""",MERGED,2019-12-19 16:18:08.000000000,2019-12-21 05:29:31.000000000,2019-12-21 05:29:31.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-19 16:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/af48acb5f2671123283c7fbab6dd0ccb9cfcb63a', 'message': 'Revert ""Revert ""tripleo-keystone-resources: reduce permissions for clouds.yaml""""\n\nWith proper dependencies merged, we can now secure the file.\nThis reverts commit f0f36d215542a0eb6a9100b66e52df23be245675.\n\nDepends-On: https://review.opendev.org/699448\nChange-Id: Ice7de15eae2373717292286a44ff92f627c8ca5c\n'}, {'number': 2, 'created': '2019-12-20 03:41:35.000000000', 'files': ['tripleo_ansible/roles/tripleo-keystone-resources/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c9285fd01a8f211522f144ed140e3746849a6df8', 'message': 'Revert ""Revert ""tripleo-keystone-resources: reduce permissions for clouds.yaml""""\n\nWith proper dependencies merged, we can now secure the file.\nThis reverts commit f0f36d215542a0eb6a9100b66e52df23be245675.\n\nDepends-On: https://review.opendev.org/699448\nChange-Id: Ice7de15eae2373717292286a44ff92f627c8ca5c\n'}]",0,700017,c9285fd01a8f211522f144ed140e3746849a6df8,11,5,2,3153,,,0,"Revert ""Revert ""tripleo-keystone-resources: reduce permissions for clouds.yaml""""

With proper dependencies merged, we can now secure the file.
This reverts commit f0f36d215542a0eb6a9100b66e52df23be245675.

Depends-On: https://review.opendev.org/699448
Change-Id: Ice7de15eae2373717292286a44ff92f627c8ca5c
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/17/700017/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-keystone-resources/defaults/main.yml'],1,af48acb5f2671123283c7fbab6dd0ccb9cfcb63a,secure,tripleo_keystone_resources_clouds_file_mode: '0600',tripleo_keystone_resources_clouds_file_mode: '0644',1,1
openstack%2Ftripleo-heat-templates~master~Ie45a56b8dab1272798440110ad96b6ee11fcf26b,openstack/tripleo-heat-templates,master,Ie45a56b8dab1272798440110ad96b6ee11fcf26b,HA: increase resource default op timeout for podman bundles,MERGED,2019-12-06 12:56:28.000000000,2019-12-21 05:27:20.000000000,2019-12-21 05:27:20.000000000,"[{'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-06 12:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/79814f7af6af97990f063087a948b93a9cedd820', 'message': 'WIP increase default op timeout for podman bundles\n\nChange-Id: Ie45a56b8dab1272798440110ad96b6ee11fcf26b\n'}, {'number': 2, 'created': '2019-12-09 21:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1365e0a288a7615af2ef55825b1df38020809d8c', 'message': 'WIP increase default op timeout for podman bundles\n\nChange-Id: Ie45a56b8dab1272798440110ad96b6ee11fcf26b\n'}, {'number': 3, 'created': '2019-12-10 15:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7888aed4a4505b86f8d5734feb8dd97d23a81846', 'message': ""HA: increase resource default op timeout for podman bundles\n\nPacemaker currently relies on a single, system-wide timeout for\nevery operation run on containers, set by default to 20s.\n\nWith podman's reliance on disk, the default timeout can be\nreached under high disk IO (e.g. during container-puppet or\nwhen paunch restart containers from step 4). This causes unneeded\nresource restart in pacemaker and can even trigger fencing if\nstop operations time out.\n\nRaise the default to a safer value of 120s when using podman,\nand make that default timeout configurable via a new Heat\nparameter PacemakerBundleOperationTimeout.\n\nCloses-Bug: #1834325\n\nChange-Id: Ie45a56b8dab1272798440110ad96b6ee11fcf26b\n""}, {'number': 4, 'created': '2019-12-17 17:13:53.000000000', 'files': ['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/744da29ba71d5e8bb3de3efba0fd60200fd5d758', 'message': ""HA: increase resource default op timeout for podman bundles\n\nPacemaker currently relies on a single, system-wide timeout for\nevery operation run on containers, set by default to 20s.\n\nWith podman's reliance on disk, the default timeout can be\nreached under high disk IO (e.g. during container-puppet or\nwhen paunch restart containers from step 4). This causes unneeded\nresource restart in pacemaker and can even trigger fencing if\nstop operations time out.\n\nRaise the default to a safer value of 120s when using podman,\nand make that default timeout configurable via a new Heat\nparameter PacemakerBundleOperationTimeout.\n\nCloses-Bug: #1834325\n\nChange-Id: Ie45a56b8dab1272798440110ad96b6ee11fcf26b\n""}]",0,697660,744da29ba71d5e8bb3de3efba0fd60200fd5d758,39,7,4,20778,,,0,"HA: increase resource default op timeout for podman bundles

Pacemaker currently relies on a single, system-wide timeout for
every operation run on containers, set by default to 20s.

With podman's reliance on disk, the default timeout can be
reached under high disk IO (e.g. during container-puppet or
when paunch restart containers from step 4). This causes unneeded
resource restart in pacemaker and can even trigger fencing if
stop operations time out.

Raise the default to a safer value of 120s when using podman,
and make that default timeout configurable via a new Heat
parameter PacemakerBundleOperationTimeout.

Closes-Bug: #1834325

Change-Id: Ie45a56b8dab1272798440110ad96b6ee11fcf26b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/697660/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'],1,79814f7af6af97990f063087a948b93a9cedd820,podman-op-timeout," ContainerCli: type: string default: 'podman' description: CLI tool used to manage containers. constraints: - allowed_values: ['docker', 'podman'] PacemakerBundleOperationTimeout: type: string default: if: - {equals: [{get_param: ContainerCli}, 'podman']} - '120s' - '' description: The timeout for start, monitor and stop operations run by the container resource agent. Defaults to '' or '120s' if podman is used. constraints: - allowed_pattern: ""([1-9][0-9]*s)?"" pcmk_bundle_op_timeout_empty: {equals: [{get_param: PacemakerBundleOperationTimeout}, '']} - if: - pcmk_bundle_op_timeout_empty - {} - tripleo::profile::base::pacemaker::resource_op_defaults: bundle: name: timeout value: {get_param: PacemakerBundleOperationTimeout}",,27,0
openstack%2Fpuppet-tripleo~master~I442b190b6fa429ee3a81fd2ea84ada6ed9bca7d2,openstack/puppet-tripleo,master,I442b190b6fa429ee3a81fd2ea84ada6ed9bca7d2,Add support to configure pcsd bind address,MERGED,2019-12-09 03:17:41.000000000,2019-12-21 05:14:39.000000000,2019-12-21 05:14:39.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-09 03:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a6f36a84cec6d1ec5504a4933157c222ebffa20e', 'message': 'Add support to configure pcsd bind address\n\nAdd support to configure pcsd bind address so that we can\nmake pcsd listen on specific address instead of all interfaces\non the node.\n\nDepends-on: https://review.opendev.org/#/c/697942\nChange-Id: I442b190b6fa429ee3a81fd2ea84ada6ed9bca7d2\n'}, {'number': 2, 'created': '2019-12-09 07:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a9022be2928a78b44625b70d03ceaf92d89a78d3', 'message': 'Add support to configure pcsd bind address\n\nAdd support to configure pcsd bind address so that we can\nmake pcsd listen on specific address instead of all interfaces\non the node.\n\nDepends-on: https://review.opendev.org/#/c/697942\nChange-Id: I442b190b6fa429ee3a81fd2ea84ada6ed9bca7d2\n'}, {'number': 3, 'created': '2019-12-17 01:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ec7cf73fb32766b2130f1a0b56230c0b210a6188', 'message': 'Add support to configure pcsd bind address\n\nAdd support to configure pcsd bind address so that we can\nmake pcsd listen on specific address instead of all interfaces\non the node.\n\nRelated-Bug: #1856626\nDepends-on: https://review.opendev.org/#/c/697942\nChange-Id: I442b190b6fa429ee3a81fd2ea84ada6ed9bca7d2\n'}, {'number': 4, 'created': '2019-12-20 23:27:43.000000000', 'files': ['manifests/profile/base/pacemaker_remote.pp', 'manifests/profile/base/pacemaker.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b5ee4bacacd3b63d98b7cf37d526c460f8113dcb', 'message': 'Add support to configure pcsd bind address\n\nAdd support to configure pcsd bind address so that we can\nmake pcsd listen on specific address instead of all interfaces\non the node.\n\nRelated-Bug: #1856626\nDepends-on: https://review.opendev.org/#/c/697942\nDepends-On: https://review.opendev.org/700250\nChange-Id: I442b190b6fa429ee3a81fd2ea84ada6ed9bca7d2\n'}]",0,697943,b5ee4bacacd3b63d98b7cf37d526c460f8113dcb,28,6,4,9816,,,0,"Add support to configure pcsd bind address

Add support to configure pcsd bind address so that we can
make pcsd listen on specific address instead of all interfaces
on the node.

Related-Bug: #1856626
Depends-on: https://review.opendev.org/#/c/697942
Depends-On: https://review.opendev.org/700250
Change-Id: I442b190b6fa429ee3a81fd2ea84ada6ed9bca7d2
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/43/697943/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/pacemaker_remote.pp', 'manifests/profile/base/pacemaker.pp']",2,a6f36a84cec6d1ec5504a4933157c222ebffa20e,bug/1856626,"# [*pcsd_bind_addr*] # (Optional) List of IP addresses pcsd should bind to # Defaults to undef # $pcsd_bind_addr = undef, pcsd_bind_addr => $pcsd_bind_addr,",,12,0
openstack%2Fkeystonemiddleware~master~Ic7bca16d8c6211d006fc2ba09dc2ecd83f8955db,openstack/keystonemiddleware,master,Ic7bca16d8c6211d006fc2ba09dc2ecd83f8955db,Rename _v3_to_v2_catalog to _normalize_catalog,MERGED,2019-08-24 17:51:19.000000000,2019-12-21 02:46:41.000000000,2019-12-21 02:45:28.000000000,"[{'_account_id': 2903}, {'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-08-24 17:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/f168ee441e3f0597283d7f883dbeef591d648233', 'message': 'Remove _v3_to_v2_catalog and associated tests\n\nThis change removes the _v3_to_v2_catalog function as well as the\nrelated test class.\n\nChange-Id: Ic7bca16d8c6211d006fc2ba09dc2ecd83f8955db\nPartial-Bug: #1829453\nPartial-Bug: #1777177\n'}, {'number': 2, 'created': '2019-11-05 23:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/4366ad9af278aee1bd451756bbfab409aba27cac', 'message': 'Remove _v3_to_v2_catalog and associated tests\n\nThis change removes the _v3_to_v2_catalog function as well as the\nrelated test class.\n\nChange-Id: Ic7bca16d8c6211d006fc2ba09dc2ecd83f8955db\nPartial-Bug: #1829453\nPartial-Bug: #1777177\n'}, {'number': 3, 'created': '2019-12-13 17:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/ec111e127c2fe075ab21a3990f270789e8ab7065', 'message': 'Remove _v3_to_v2_catalog and associated tests\n\nThis change removes the _v3_to_v2_catalog function as well as the\nrelated test class.\n\nChange-Id: Ic7bca16d8c6211d006fc2ba09dc2ecd83f8955db\nPartial-Bug: #1829453\nPartial-Bug: #1777177\n'}, {'number': 4, 'created': '2019-12-20 20:41:09.000000000', 'files': ['keystonemiddleware/auth_token/_request.py', 'keystonemiddleware/tests/unit/auth_token/test_request.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/7c33d8ebb67b0d85964a03660d6f34bbee8b7e58', 'message': 'Rename _v3_to_v2_catalog to _normalize_catalog\n\nThis change renames the _v3_to_v2_catalog to _normalize_catalog as\npart of the v2 removal effort. Several services still rely on the\nconverted catalog format, so this change maintains the conversion\nbut removes the v2 association.\n\nChange-Id: Ic7bca16d8c6211d006fc2ba09dc2ecd83f8955db\nPartial-Bug: #1845539\nPartial-Bug: #1777177\n'}]",0,678382,7c33d8ebb67b0d85964a03660d6f34bbee8b7e58,22,5,4,21420,,,0,"Rename _v3_to_v2_catalog to _normalize_catalog

This change renames the _v3_to_v2_catalog to _normalize_catalog as
part of the v2 removal effort. Several services still rely on the
converted catalog format, so this change maintains the conversion
but removes the v2 association.

Change-Id: Ic7bca16d8c6211d006fc2ba09dc2ecd83f8955db
Partial-Bug: #1845539
Partial-Bug: #1777177
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/82/678382/4 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/auth_token/_request.py', 'keystonemiddleware/tests/unit/auth_token/test_request.py']",2,f168ee441e3f0597283d7f883dbeef591d648233,bug/1845539,," class CatalogConversionTests(utils.TestCase): PUBLIC_URL = 'http://server:5000/v2.0' ADMIN_URL = 'http://admin:35357/v2.0' INTERNAL_URL = 'http://internal:5000/v2.0' REGION_ONE = 'RegionOne' REGION_TWO = 'RegionTwo' REGION_THREE = 'RegionThree' def test_basic_convert(self): token = fixture.V3Token() s = token.add_service(type='identity') s.add_standard_endpoints(public=self.PUBLIC_URL, admin=self.ADMIN_URL, internal=self.INTERNAL_URL, region=self.REGION_ONE) auth_ref = access.create(body=token) catalog_data = auth_ref.service_catalog.catalog catalog = _request._v3_to_v2_catalog(catalog_data) self.assertEqual(1, len(catalog)) service = catalog[0] self.assertEqual(1, len(service['endpoints'])) endpoints = service['endpoints'][0] self.assertEqual('identity', service['type']) self.assertEqual(4, len(endpoints)) self.assertEqual(self.PUBLIC_URL, endpoints['publicURL']) self.assertEqual(self.ADMIN_URL, endpoints['adminURL']) self.assertEqual(self.INTERNAL_URL, endpoints['internalURL']) self.assertEqual(self.REGION_ONE, endpoints['region']) def test_multi_region(self): token = fixture.V3Token() s = token.add_service(type='identity') s.add_endpoint('internal', self.INTERNAL_URL, region=self.REGION_ONE) s.add_endpoint('public', self.PUBLIC_URL, region=self.REGION_TWO) s.add_endpoint('admin', self.ADMIN_URL, region=self.REGION_THREE) auth_ref = access.create(body=token) catalog_data = auth_ref.service_catalog.catalog catalog = _request._v3_to_v2_catalog(catalog_data) self.assertEqual(1, len(catalog)) service = catalog[0] # the 3 regions will come through as 3 separate endpoints expected = [{'internalURL': self.INTERNAL_URL, 'region': self.REGION_ONE}, {'publicURL': self.PUBLIC_URL, 'region': self.REGION_TWO}, {'adminURL': self.ADMIN_URL, 'region': self.REGION_THREE}] self.assertEqual('identity', service['type']) self.assertEqual(3, len(service['endpoints'])) for e in expected: self.assertIn(e, expected)",0,102
openstack%2Fpython-tripleoclient~master~I49b95bf7a03e39db3c2cbb91b2167c7645b09136,openstack/python-tripleoclient,master,I49b95bf7a03e39db3c2cbb91b2167c7645b09136,Implement utils.copy_clouds_yaml,MERGED,2019-12-17 16:20:32.000000000,2019-12-21 02:45:30.000000000,2019-12-21 02:43:02.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9712}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-17 16:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/410bb4755c0bafbea750152e8aa34502eda43bab', 'message': 'Implement utils.copy_clouds_yaml\n\ncopy_clouds_yaml is a new function that will be used to copy\n/etc/openstack/clouds.yaml which is now generated by Ansible in TripleO\nHeat Templates:\nI585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n\nIt also sets the right permissions to only allow the deployment user to\nread the file which container sensible credentials (cloud admin).\n\nNote that I286c71edf120e11d8e51c792e6078dc60147f026 will be rebased so\nthe revert can properly happen with the right dependencies with\ntripleo-common.\n\nChange-Id: I49b95bf7a03e39db3c2cbb91b2167c7645b09136\n'}, {'number': 2, 'created': '2019-12-17 16:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/97c33d218e9f8809a3a0afc271d3f8adb6a418de', 'message': 'Implement utils.copy_clouds_yaml\n\ncopy_clouds_yaml is a new function that will be used to copy\n/etc/openstack/clouds.yaml which is now generated by Ansible in TripleO\nHeat Templates:\nI585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n\nIt also sets the right permissions to only allow the deployment user to\nread the file which container sensible credentials (cloud admin).\n\nNote that I286c71edf120e11d8e51c792e6078dc60147f026 will be rebased so\nthe revert can properly happen with the right dependencies with\ntripleo-common.\n\nChange-Id: I49b95bf7a03e39db3c2cbb91b2167c7645b09136\n'}, {'number': 3, 'created': '2019-12-17 19:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eb8f2479e7bbf05c3068cad6e92209dbf00af338', 'message': 'Implement utils.copy_clouds_yaml\n\ncopy_clouds_yaml is a new function that will be used to copy\n/etc/openstack/clouds.yaml which is now generated by Ansible in TripleO\nHeat Templates:\nI585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n\nIt also sets the right permissions to only allow the deployment user to\nread the file which container sensible credentials (cloud admin).\n\nNote that I286c71edf120e11d8e51c792e6078dc60147f026 will be rebased so\nthe revert can properly happen with the right dependencies with\ntripleo-common.\n\nChange-Id: I49b95bf7a03e39db3c2cbb91b2167c7645b09136\n'}, {'number': 4, 'created': '2019-12-17 20:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a2ebf157c0d81c07c44dda82a4caaed9970b1e1a', 'message': 'Implement utils.copy_clouds_yaml\n\ncopy_clouds_yaml is a new function that will be used to copy\n/etc/openstack/clouds.yaml which is now generated by Ansible in TripleO\nHeat Templates:\nI585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n\nIt also sets the right permissions to only allow the deployment user to\nread the file which container sensible credentials (cloud admin).\n\nNote that I286c71edf120e11d8e51c792e6078dc60147f026 will be rebased so\nthe revert can properly happen with the right dependencies with\ntripleo-common.\n\nChange-Id: I49b95bf7a03e39db3c2cbb91b2167c7645b09136\n'}, {'number': 5, 'created': '2019-12-18 03:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6ecfa58b8955892c775102ca7d1e7a5defea0fae', 'message': 'Implement utils.copy_clouds_yaml\n\ncopy_clouds_yaml is a new function that will be used to copy\n/etc/openstack/clouds.yaml which is now generated by Ansible in TripleO\nHeat Templates:\nI585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n\nIt also sets the right permissions to only allow the deployment user to\nread the file which container sensible credentials (cloud admin).\n\nNote that I286c71edf120e11d8e51c792e6078dc60147f026 will be rebased so\nthe revert can properly happen with the right dependencies with\ntripleo-common.\n\nChange-Id: I49b95bf7a03e39db3c2cbb91b2167c7645b09136\n'}, {'number': 6, 'created': '2019-12-18 13:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6b7486620241a4feaa2ccd91c1768f99c29be7f2', 'message': 'Implement utils.copy_clouds_yaml\n\ncopy_clouds_yaml is a new function that will be used to copy\n/etc/openstack/clouds.yaml which is now generated by Ansible in TripleO\nHeat Templates:\nI585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n\nIt also sets the right permissions to only allow the deployment user to\nread the file which container sensible credentials (cloud admin).\n\nNote that I286c71edf120e11d8e51c792e6078dc60147f026 will be rebased so\nthe revert can properly happen with the right dependencies with\ntripleo-common.\n\nChange-Id: I49b95bf7a03e39db3c2cbb91b2167c7645b09136\n'}, {'number': 7, 'created': '2019-12-18 16:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7affb3cad7e3e47ac19eea9e7facc140dca84fec', 'message': 'Implement utils.copy_clouds_yaml\n\ncopy_clouds_yaml is a new function that will be used to copy\n/etc/openstack/clouds.yaml which is now generated by Ansible in TripleO\nHeat Templates:\nI585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n\nIt also sets the right permissions to only allow the deployment user to\nread the file which container sensible credentials (cloud admin).\n\nNote that I286c71edf120e11d8e51c792e6078dc60147f026 will be rebased so\nthe revert can properly happen with the right dependencies with\ntripleo-common.\n\nChange-Id: I49b95bf7a03e39db3c2cbb91b2167c7645b09136\n'}, {'number': 8, 'created': '2019-12-18 16:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a3da7e4504cf65499ce3ffd215169c42604f06d4', 'message': 'Implement utils.copy_clouds_yaml\n\ncopy_clouds_yaml is a new function that will be used to copy\n/etc/openstack/clouds.yaml which is now generated by Ansible in TripleO\nHeat Templates:\nI585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n\nIt also sets the right permissions to only allow the deployment user to\nread the file which container sensible credentials (cloud admin).\n\nNote that I286c71edf120e11d8e51c792e6078dc60147f026 will be rebased so\nthe revert can properly happen with the right dependencies with\ntripleo-common.\n\nChange-Id: I49b95bf7a03e39db3c2cbb91b2167c7645b09136\n'}, {'number': 9, 'created': '2019-12-18 19:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/834951dc4707025cf536490f78b1df0e05cd500c', 'message': 'Implement utils.copy_clouds_yaml\n\ncopy_clouds_yaml is a new function that will be used to copy\n/etc/openstack/clouds.yaml which is now generated by Ansible in TripleO\nHeat Templates:\nI585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n\nIt also sets the right permissions to only allow the deployment user to\nread the file which container sensible credentials (cloud admin).\n\nNote that I286c71edf120e11d8e51c792e6078dc60147f026 will be rebased so\nthe revert can properly happen with the right dependencies with\ntripleo-common.\n\nChange-Id: I49b95bf7a03e39db3c2cbb91b2167c7645b09136\n'}, {'number': 10, 'created': '2019-12-18 19:04:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f4d9db69bf807d9db02e0bd285a82571f40ce8db', 'message': 'Implement utils.copy_clouds_yaml\n\ncopy_clouds_yaml is a new function that will be used to copy\n/etc/openstack/clouds.yaml which is now generated by Ansible in TripleO\nHeat Templates:\nI585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n\nIt also sets the right permissions to only allow the deployment user to\nread the file which container sensible credentials (cloud admin).\n\nNote that I286c71edf120e11d8e51c792e6078dc60147f026 will be rebased so\nthe revert can properly happen with the right dependencies with\ntripleo-common.\n\nChange-Id: I49b95bf7a03e39db3c2cbb91b2167c7645b09136\n'}, {'number': 11, 'created': '2019-12-18 20:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/444bd608ecd06459b65dea1f5551c50d6ba53024', 'message': 'Implement utils.copy_clouds_yaml\n\ncopy_clouds_yaml is a new function that will be used to copy\n/etc/openstack/clouds.yaml which is now generated by Ansible in TripleO\nHeat Templates:\nI585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n\nIt also sets the right permissions to only allow the deployment user to\nread the file which container sensible credentials (cloud admin).\n\nNote that I286c71edf120e11d8e51c792e6078dc60147f026 will be rebased so\nthe revert can properly happen with the right dependencies with\ntripleo-common.\n\nChange-Id: I49b95bf7a03e39db3c2cbb91b2167c7645b09136\n'}, {'number': 12, 'created': '2019-12-19 03:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d32677ca467b1c56581cf7214a9138d1f672f8de', 'message': 'Implement utils.copy_clouds_yaml\n\ncopy_clouds_yaml is a new function that will be used to copy\n/etc/openstack/clouds.yaml which is now generated by Ansible in TripleO\nHeat Templates:\nI585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n\nIt also sets the right permissions to only allow the deployment user to\nread the file which container sensible credentials (cloud admin).\n\nNote that I286c71edf120e11d8e51c792e6078dc60147f026 will be rebased so\nthe revert can properly happen with the right dependencies with\ntripleo-common.\n\nDepends-On: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\nChange-Id: I49b95bf7a03e39db3c2cbb91b2167c7645b09136\n'}, {'number': 13, 'created': '2019-12-19 03:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fa781309bc8b288a3236e664d277b5e0e0c3b04d', 'message': 'Implement utils.copy_clouds_yaml\n\ncopy_clouds_yaml is a new function that will be used to copy\n/etc/openstack/clouds.yaml which is now generated by Ansible in TripleO\nHeat Templates:\nI585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n\nIt also sets the right permissions to only allow the deployment user to\nread the file which container sensible credentials (cloud admin).\n\nNote that I286c71edf120e11d8e51c792e6078dc60147f026 will be rebased so\nthe revert can properly happen with the right dependencies with\ntripleo-common.\n\nDepends-On: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n\nChange-Id: I49b95bf7a03e39db3c2cbb91b2167c7645b09136\n'}, {'number': 14, 'created': '2019-12-19 12:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b4ec30b4369c5fc7fd6da208d5a2885c91664131', 'message': 'Implement utils.copy_clouds_yaml\n\ncopy_clouds_yaml is a new function that will be used to copy\n/etc/openstack/clouds.yaml which is now generated by Ansible in TripleO\nHeat Templates:\nI585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n\nIt also sets the right permissions to only allow the deployment user to\nread the file which container sensible credentials (cloud admin).\n\nNote that I286c71edf120e11d8e51c792e6078dc60147f026 will be rebased so\nthe revert can properly happen with the right dependencies with\ntripleo-common.\n\nDepends-On: https://review.opendev.org/#/c/696390/\nChange-Id: I49b95bf7a03e39db3c2cbb91b2167c7645b09136\n'}, {'number': 15, 'created': '2019-12-19 15:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5f7b47a1aaa4662760528b6b909240f2e3664421', 'message': 'Implement utils.copy_clouds_yaml\n\ncopy_clouds_yaml is a new function that will be used to copy\n/etc/openstack/clouds.yaml which is now generated by Ansible in TripleO\nHeat Templates:\nI585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n\nIt also sets the right permissions to only allow the deployment user to\nread the file which container sensible credentials (cloud admin).\n\nNote that I286c71edf120e11d8e51c792e6078dc60147f026 will be rebased so\nthe revert can properly happen with the right dependencies with\ntripleo-common.\n\nChange-Id: I49b95bf7a03e39db3c2cbb91b2167c7645b09136\n'}, {'number': 16, 'created': '2019-12-19 16:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b2adf144decf5c297ddecfaa5f393ce5ab5a7f46', 'message': 'Implement utils.copy_clouds_yaml\n\ncopy_clouds_yaml is a new function that will be used to copy\n/etc/openstack/clouds.yaml which is now generated by Ansible in TripleO\nHeat Templates:\nI585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n\nIt also sets the right permissions to only allow the deployment user to\nread the file which container sensible credentials (cloud admin).\n\nNote that I286c71edf120e11d8e51c792e6078dc60147f026 will be rebased so\nthe revert can properly happen with the right dependencies with\ntripleo-common.\n\nDepends-On: https://review.opendev.org/#/c/696390/\nChange-Id: I49b95bf7a03e39db3c2cbb91b2167c7645b09136\n'}, {'number': 17, 'created': '2019-12-19 22:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/837397b8759be050d76494b24044b5f4aa5dee1b', 'message': 'Implement utils.copy_clouds_yaml\n\ncopy_clouds_yaml is a new function that will be used to copy\n/etc/openstack/clouds.yaml which is now generated by Ansible in TripleO\nHeat Templates:\nI585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n\nIt also sets the right permissions to only allow the deployment user to\nread the file which container sensible credentials (cloud admin).\n\nNote that I286c71edf120e11d8e51c792e6078dc60147f026 will be rebased so\nthe revert can properly happen with the right dependencies with\ntripleo-common.\n\nDepends-On: https://review.opendev.org/#/c/696390/\nChange-Id: I49b95bf7a03e39db3c2cbb91b2167c7645b09136\n'}, {'number': 18, 'created': '2019-12-20 00:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ca5ad1058321f4795d207e0a0d1add5cc26af5eb', 'message': 'Implement utils.copy_clouds_yaml\n\ncopy_clouds_yaml is a new function that will be used to copy\n/etc/openstack/clouds.yaml which is now generated by Ansible in TripleO\nHeat Templates:\nI585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n\nIt also sets the right permissions to only allow the deployment user to\nread the file which container sensible credentials (cloud admin).\n\nNote that I286c71edf120e11d8e51c792e6078dc60147f026 will be rebased so\nthe revert can properly happen with the right dependencies with\ntripleo-common.\n\nDepends-On: https://review.opendev.org/#/c/696390/\nChange-Id: I49b95bf7a03e39db3c2cbb91b2167c7645b09136\n'}, {'number': 19, 'created': '2019-12-20 03:40:21.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ccd4c7f59f0884b16894018710f9ea5236c257d2', 'message': 'Implement utils.copy_clouds_yaml\n\ncopy_clouds_yaml is a new function that will be used to copy\n/etc/openstack/clouds.yaml which is now generated by Ansible in TripleO\nHeat Templates:\nI585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n\nIt also sets the right permissions to only allow the deployment user to\nread the file which container sensible credentials (cloud admin).\n\nNote that I286c71edf120e11d8e51c792e6078dc60147f026 will be rebased so\nthe revert can properly happen with the right dependencies with\ntripleo-common.\n\nDepends-On: https://review.opendev.org/#/c/696390/\nChange-Id: I49b95bf7a03e39db3c2cbb91b2167c7645b09136\n'}]",13,699448,ccd4c7f59f0884b16894018710f9ea5236c257d2,70,8,19,3153,,,0,"Implement utils.copy_clouds_yaml

copy_clouds_yaml is a new function that will be used to copy
/etc/openstack/clouds.yaml which is now generated by Ansible in TripleO
Heat Templates:
I585abc3e6a3b9b8ae9183e0b5170df2e39301e17

It also sets the right permissions to only allow the deployment user to
read the file which container sensible credentials (cloud admin).

Note that I286c71edf120e11d8e51c792e6078dc60147f026 will be rebased so
the revert can properly happen with the right dependencies with
tripleo-common.

Depends-On: https://review.opendev.org/#/c/696390/
Change-Id: I49b95bf7a03e39db3c2cbb91b2167c7645b09136
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/48/699448/17 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",6,410bb4755c0bafbea750152e8aa34502eda43bab,yaml,from pwd import getpwuid # Copy clouds.yaml to the cloud user directory user = getpwuid(os.stat(constants.CLOUD_HOME_DIR).st_uid).pw_name utils.copy_clouds_yaml(user)," # Create overcloud clouds.yaml cloud_data = deployment.create_cloudsyaml( self.clients, container=stack.stack_name) cloud_yaml_dir = os.path.join(constants.CLOUD_HOME_DIR, constants.CLOUDS_YAML_DIR) cloud_user_id = os.stat(constants.CLOUD_HOME_DIR).st_uid cloud_group_id = os.stat(constants.CLOUD_HOME_DIR).st_gid clouds_yaml.create_clouds_yaml( cloud=cloud_data, cloud_yaml_dir=cloud_yaml_dir, user_id=cloud_user_id, group_id=cloud_group_id)",87,29
openstack%2Fpython-tripleoclient~master~Ic8dbf28b5796ff998165b6b73b941f21c65f1dfa,openstack/python-tripleoclient,master,Ic8dbf28b5796ff998165b6b73b941f21c65f1dfa,Handle config-download in progress in tripleoclient,MERGED,2019-11-12 16:02:34.000000000,2019-12-21 02:44:23.000000000,2019-12-21 02:42:59.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 9712}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-12 16:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/37c6797de8d6ff4621102efb6901e69640f732c9', 'message': 'Handle config-download in progress in tripleoclient\n\nThis patch adds handling and checking of any instances of the workflow\ntripleo.deployment.v1.config_download_deploy already in progress for the\ncurrent stack. It will prevent duplicate instances of the same workflow\nbeing started and running at the same time.\n\nIt will allow for multiple instances of the workflow running at the same\ntime as long as they are for different stacks.\n\nChange-Id: Ic8dbf28b5796ff998165b6b73b941f21c65f1dfa\nCloses-Bug: #1852314\n'}, {'number': 2, 'created': '2019-12-05 19:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/46a33c62e9029180230be623698ab08703420564', 'message': 'Handle config-download in progress in tripleoclient\n\nThis patch adds handling and checking of any instances of the workflow\ntripleo.deployment.v1.config_download_deploy already in progress for the\ncurrent stack. It will prevent duplicate instances of the same workflow\nbeing started and running at the same time.\n\nIt will allow for multiple instances of the workflow running at the same\ntime as long as they are for different stacks.\n\nChange-Id: Ic8dbf28b5796ff998165b6b73b941f21c65f1dfa\nCloses-Bug: #1852314\n'}, {'number': 3, 'created': '2019-12-10 21:23:16.000000000', 'files': ['releasenotes/notes/config-download-in-progress-4af02517cb5a5c0c.yaml', 'tripleoclient/workflows/deployment.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/exceptions.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/72f5762e45284543227246c19309e147114e8c07', 'message': 'Handle config-download in progress in tripleoclient\n\nThis patch adds handling and checking of any instances of the workflow\ntripleo.deployment.v1.config_download_deploy already in progress for the\ncurrent stack. It will prevent duplicate instances of the same workflow\nbeing started and running at the same time.\n\nIt will allow for multiple instances of the workflow running at the same\ntime as long as they are for different stacks.\n\nChange-Id: Ic8dbf28b5796ff998165b6b73b941f21c65f1dfa\nCloses-Bug: #1852314\n'}]",1,693870,72f5762e45284543227246c19309e147114e8c07,21,6,3,7144,,,0,"Handle config-download in progress in tripleoclient

This patch adds handling and checking of any instances of the workflow
tripleo.deployment.v1.config_download_deploy already in progress for the
current stack. It will prevent duplicate instances of the same workflow
being started and running at the same time.

It will allow for multiple instances of the workflow running at the same
time as long as they are for different stacks.

Change-Id: Ic8dbf28b5796ff998165b6b73b941f21c65f1dfa
Closes-Bug: #1852314
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/70/693870/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/config-download-in-progress-4af02517cb5a5c0c.yaml', 'tripleoclient/workflows/deployment.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/exceptions.py']",4,37c6797de8d6ff4621102efb6901e69640f732c9,bug/1852314,"class ConfigDownloadInProgress(Base): """"""Unable to deploy as config download already in progress"""""" msg_format = (""Config download already in progress with "" ""execution id {} for stack {}"") def __init__(self, execution_id='', stack=''): message = self.msg_format.format(execution_id, stack) super(ConfigDownloadInProgress, self).__init__(message) ",,81,1
openstack%2Finstack-undercloud~stable%2Frocky~I5a19399e0a33091d0a0d0d35876ea8e1788821de,openstack/instack-undercloud,stable/rocky,I5a19399e0a33091d0a0d0d35876ea8e1788821de,Apply firewall rule for tripleo ui if ui is really enabled,MERGED,2019-12-17 08:14:25.000000000,2019-12-21 02:43:05.000000000,2019-12-21 02:43:05.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-17 08:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/5033964bff0ee7d38801c4ee8262fdc4f66398f2', 'message': 'Apply firewall rule for tripleo ui if ui is really enabled\n\nDo not set firewall rule for tripleo ui if ui is disabled in\nundercloud.\n\nChange-Id: I5a19399e0a33091d0a0d0d35876ea8e1788821de\n'}, {'number': 2, 'created': '2019-12-19 20:53:53.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/702c551bf138aa5ee6926a634c36148c33a2165c', 'message': 'Apply firewall rule for tripleo ui if ui is really enabled\n\nDo not set firewall rule for tripleo ui if ui is disabled in\nundercloud.\n\nChange-Id: I5a19399e0a33091d0a0d0d35876ea8e1788821de\n'}]",0,699366,702c551bf138aa5ee6926a634c36148c33a2165c,12,4,2,9816,,,0,"Apply firewall rule for tripleo ui if ui is really enabled

Do not set firewall rule for tripleo ui if ui is disabled in
undercloud.

Change-Id: I5a19399e0a33091d0a0d0d35876ea8e1788821de
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/66/699366/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.yaml.template'],1,5033964bff0ee7d38801c4ee8262fdc4f66398f2,ui-firewall-rocky,{{#ENABLE_UI}}{{/ENABLE_UI}},,2,0
openstack%2Ftripleo-heat-templates~master~I585abc3e6a3b9b8ae9183e0b5170df2e39301e17,openstack/tripleo-heat-templates,master,I585abc3e6a3b9b8ae9183e0b5170df2e39301e17,Deploy /etc/openstack/clouds.yaml with Ansible,MERGED,2019-11-27 19:16:40.000000000,2019-12-21 02:43:00.000000000,2019-12-21 02:43:00.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-27 19:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bd4a6f2774b41eb225878c4ae77ee797107f958b', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nIt introduces a new parameter: OpenStackCloudName (default: openstack)\nwhich helps to give a name to the cloud that is deployed (e.g.\nundercloud, standalone, etc).\n\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 2, 'created': '2019-11-27 19:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/89a0b8e7eeaccb29385224707973f2c9f52e058e', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nIt introduces a new parameter: OpenStackCloudName (default: openstack)\nwhich helps to give a name to the cloud that is deployed (e.g.\nundercloud, standalone, etc).\n\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 3, 'created': '2019-11-27 19:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3e2d1e2c7080f717a4b088bd527840b7cc99eec7', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nIt introduces a new parameter: OpenStackCloudName (default: openstack)\nwhich helps to give a name to the cloud that is deployed (e.g.\nundercloud, standalone, etc).\n\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 4, 'created': '2019-11-27 19:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/409830fb1ea43ad84d08d21ca2b8bdcf207b4db5', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 5, 'created': '2019-11-27 21:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e741220d10ff426677e6a0535006709703353552', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 6, 'created': '2019-11-28 11:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fb0a0512dc965c83a512ee2f3bed4a2b2f14f016', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 7, 'created': '2019-11-28 14:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f6fc7956e827c104ceaf2a10d608313ebcd1934', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 8, 'created': '2019-11-28 20:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cc3ab140d9d797f5ec5738c8319203a46d43ca9f', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 9, 'created': '2019-11-29 14:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ac501320cc44dc18d8dcd5746359270611befd8', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 10, 'created': '2019-11-29 20:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6727de519a68594ff2cf1d204beb7e6268b7df07', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Ic7cfdb28647fa5addb3e6561cc5a1701f6848645\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 11, 'created': '2019-12-03 19:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42a6b4f2b66c5cb4474ec36179a54ea19fc55e6c', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Ic7cfdb28647fa5addb3e6561cc5a1701f6848645\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 12, 'created': '2019-12-03 22:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/69fe27d284c28e9d2686c27f939f9074ee015ced', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Ic7cfdb28647fa5addb3e6561cc5a1701f6848645\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 13, 'created': '2019-12-03 22:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57e113236fecadc4886bbaec0411a92e24f05ee7', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Ic7cfdb28647fa5addb3e6561cc5a1701f6848645\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 14, 'created': '2019-12-04 15:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8904f2e700a229d00b660dd5ba6d7d065f16eb06', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Ic7cfdb28647fa5addb3e6561cc5a1701f6848645\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 15, 'created': '2019-12-04 17:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/00d841ae075212a235ad7f891f29e0567d7b1431', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Ic7cfdb28647fa5addb3e6561cc5a1701f6848645\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 16, 'created': '2019-12-04 19:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec13dbc7a51f394c01ee9258077b28f62f0cb5e0', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Ic7cfdb28647fa5addb3e6561cc5a1701f6848645\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 17, 'created': '2019-12-04 21:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b23adf99d6fca323f93e94aa681e5b8114ec56d', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Ic7cfdb28647fa5addb3e6561cc5a1701f6848645\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 18, 'created': '2019-12-04 22:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5e3a5ea700c82c9e764abfa6856b103a92b6c626', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Ic7cfdb28647fa5addb3e6561cc5a1701f6848645\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 19, 'created': '2019-12-04 23:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a16b7f27534078604715e20de2d4a7fb75cd13e', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Ic7cfdb28647fa5addb3e6561cc5a1701f6848645\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 20, 'created': '2019-12-04 23:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b262d4c14b3e9604c6642289887d15047f51743b', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Ic7cfdb28647fa5addb3e6561cc5a1701f6848645\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\n\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 21, 'created': '2019-12-05 02:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d31c5696e24ff7574c23733403fd1add6b186095', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Ic7cfdb28647fa5addb3e6561cc5a1701f6848645\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nDepends-On: Icd9cb9a2759a12d68623cf6557282648022f08ba\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 22, 'created': '2019-12-05 12:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e20c04036241a5731117db8e4365fe830843d9af', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Ic7cfdb28647fa5addb3e6561cc5a1701f6848645\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nDepends-On: Icd9cb9a2759a12d68623cf6557282648022f08ba\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 23, 'created': '2019-12-05 13:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1ed9b89b335bd268cb6e38e424c2c98fbc0f22a8', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Ic7cfdb28647fa5addb3e6561cc5a1701f6848645\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nDepends-On: I560eaff21c22d2ab70c657b35a3d43a76003e6ba\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 24, 'created': '2019-12-05 15:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5f2f7b695c9c4f20fddb23b96ddfe31b3842958b', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Iba87e39857269441cad76a33b7a52fcae30dddba\nDepends-On: Ic7cfdb28647fa5addb3e6561cc5a1701f6848645\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nDepends-On: I560eaff21c22d2ab70c657b35a3d43a76003e6ba\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 25, 'created': '2019-12-05 15:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fe39415dc704b9455f2099bca3c7aa1a59868309', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Iba87e39857269441cad76a33b7a52fcae30dddba\nDepends-On: Ic7cfdb28647fa5addb3e6561cc5a1701f6848645\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nDepends-On: I560eaff21c22d2ab70c657b35a3d43a76003e6ba\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 26, 'created': '2019-12-05 15:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab04521a2f54a1dc08294016bad56996a0beaeb6', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Iba87e39857269441cad76a33b7a52fcae30dddba\nDepends-On: Ic7cfdb28647fa5addb3e6561cc5a1701f6848645\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nDepends-On: I560eaff21c22d2ab70c657b35a3d43a76003e6ba\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 27, 'created': '2019-12-05 17:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c8a91226541dc7d58942f672da4ec9bc6ef986d9', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Iba87e39857269441cad76a33b7a52fcae30dddba\nDepends-On: Ic7cfdb28647fa5addb3e6561cc5a1701f6848645\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nDepends-On: I560eaff21c22d2ab70c657b35a3d43a76003e6ba\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 28, 'created': '2019-12-05 21:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f9aa319b8179280370fc824ed3ab92e39685e33', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Iba87e39857269441cad76a33b7a52fcae30dddba\nDepends-On: Ic7cfdb28647fa5addb3e6561cc5a1701f6848645\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nDepends-On: I560eaff21c22d2ab70c657b35a3d43a76003e6ba\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 29, 'created': '2019-12-06 03:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1106454f85f97481e7e2b4e0afefd0d507b600c', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Iba87e39857269441cad76a33b7a52fcae30dddba\nDepends-On: Ic7cfdb28647fa5addb3e6561cc5a1701f6848645\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nDepends-On: I560eaff21c22d2ab70c657b35a3d43a76003e6ba\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 30, 'created': '2019-12-06 12:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e98658c0439eeddcece3558a1ab147af20581a19', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Iba87e39857269441cad76a33b7a52fcae30dddba\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 31, 'created': '2019-12-06 12:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b24e7d4df6caeb32e7b56388a4e419ee96a58672', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Iba87e39857269441cad76a33b7a52fcae30dddba\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 32, 'created': '2019-12-06 13:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52b65f78c654402f7004aa9357d6e2069b956462', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Iba87e39857269441cad76a33b7a52fcae30dddba\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\n\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 33, 'created': '2019-12-06 18:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b7ff2699af60630074935d2b67150fe3586cc505', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Iba87e39857269441cad76a33b7a52fcae30dddba\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 34, 'created': '2019-12-06 20:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1fd532bb9ce8e53ba0e180125ed0de8799cdb5b5', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Iba87e39857269441cad76a33b7a52fcae30dddba\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\n\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 35, 'created': '2019-12-09 17:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ccab6a732beda07a8ef94b0297811a4a16bb4beb', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 36, 'created': '2019-12-09 20:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/67c2dde18c77045fe1992f1867f58f141bd1e228', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 37, 'created': '2019-12-09 20:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/97e9701b6cfc65866f12a2b07125c1b204885f1b', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\n\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 38, 'created': '2019-12-09 21:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f4eb06ec3c358a2f5a75df8802986bcff891cdb0', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\n\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 39, 'created': '2019-12-09 21:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/62d16256aa9912269efcf9858b5313a33f0571bd', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\n\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 40, 'created': '2019-12-10 13:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6810eb6fb6c0ba16680dad4bcf593fdb8dc0b9f4', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nDepends-On: Iaa0929dd82e00d183f7ef1f53ead78a5c8abf0ae\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 41, 'created': '2019-12-10 17:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6ebf7a2998c190ed4f5bb6c1e72819f1641cd17e', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nDepends-On: Iaa0929dd82e00d183f7ef1f53ead78a5c8abf0ae\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 42, 'created': '2019-12-10 19:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c60dd1edfd11ab45c089fc6fb173225929b948d', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Ica961a9117af2f7f762984948762d8d855086ade\nDepends-On: Iaa0929dd82e00d183f7ef1f53ead78a5c8abf0ae\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 43, 'created': '2019-12-12 17:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/488eacebd6ff1992f9866d7937b27c861849e479', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Iaa0929dd82e00d183f7ef1f53ead78a5c8abf0ae\nDepends-On: Ib9615c55d0fb4ea71208d74c5ee22594db52f46a\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 44, 'created': '2019-12-12 21:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c6836c5406409c04502cb5b0faf0e530aab8c7a0', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Iaa0929dd82e00d183f7ef1f53ead78a5c8abf0ae\nDepends-On: Ib9615c55d0fb4ea71208d74c5ee22594db52f46a\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 45, 'created': '2019-12-13 15:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33bacf4b88dca040ccd4e2ef260e629c26dc4734', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Ie9b6fd5792efb270ae577b08d6a2d5b78dabe5e7\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 46, 'created': '2019-12-13 15:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3a06c5cbd4e62c452cb35e2e528b4d03518068e', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: Ie9b6fd5792efb270ae577b08d6a2d5b78dabe5e7\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 47, 'created': '2019-12-17 16:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/75fe1ec13fc56f71373ee9e7e74fc84f3041f04a', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: I49b95bf7a03e39db3c2cbb91b2167c7645b09136\nDepends-On: Ic463aa66b719bfc8f860662e8387f3eea6faaf01\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 48, 'created': '2019-12-17 16:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a82f64fcdf858712b2f01a1f6e941b2eeae56e5c', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: I49b95bf7a03e39db3c2cbb91b2167c7645b09136\nDepends-On: Ic463aa66b719bfc8f860662e8387f3eea6faaf01\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 49, 'created': '2019-12-17 19:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8279bf1411f8d2a5c23fb0c6f80ef1c3e73a67a2', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: I49b95bf7a03e39db3c2cbb91b2167c7645b09136\nDepends-On: Ic463aa66b719bfc8f860662e8387f3eea6faaf01\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 50, 'created': '2019-12-17 20:24:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e71a3d5ac554052463c9c6fd06730e82b7d09dc2', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: I49b95bf7a03e39db3c2cbb91b2167c7645b09136\nDepends-On: Ic463aa66b719bfc8f860662e8387f3eea6faaf01\n\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 51, 'created': '2019-12-19 03:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ed92ff0010353b9b44ab516ebd4c0d2cd4c7dd03', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 52, 'created': '2019-12-19 03:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/523ec6e13e87a14189c3328ea556968e2d770d2f', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 53, 'created': '2019-12-19 16:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f90700ce589aaa874da1df44808d350b3e9666c', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 54, 'created': '2019-12-19 16:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c2cb0801fc5a4918cfa3001090555dce748443ac', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: f0f36d215542a0eb6a9100b66e52df23be245675\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 55, 'created': '2019-12-19 20:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da6a6ae32fccff435fe6c5c9e9ddb37b6450b5a3', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: https://review.opendev.org/#/c/700015\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}, {'number': 56, 'created': '2019-12-19 20:09:08.000000000', 'files': ['sample-env-generator/standalone.yaml', 'extraconfig/post_deploy/undercloud_post.yaml', 'environments/standalone.yaml', 'extraconfig/post_deploy/clouds_yaml.py', 'environments/standalone/standalone-tripleo.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'ci/common/ironic_standalone_post.yaml', 'extraconfig/post_deploy/standalone_post.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/25a2045e6205d07f38cc6a065f9ad67b86ebe43d', 'message': ""Deploy /etc/openstack/clouds.yaml with Ansible\n\nReplace the python script that was run on post-config, by an Ansible\ntask running on the host where Keystone is running.\n\nIt'll be useful later when using OpenStackSDK to have access to the\ncredentials during the deployment and not having to wait the far end.\n\nIt's also reducing the Heat resources.\n\nDepends-On: https://review.opendev.org/#/c/700015\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n""}]",4,696390,25a2045e6205d07f38cc6a065f9ad67b86ebe43d,157,8,56,3153,,,0,"Deploy /etc/openstack/clouds.yaml with Ansible

Replace the python script that was run on post-config, by an Ansible
task running on the host where Keystone is running.

It'll be useful later when using OpenStackSDK to have access to the
credentials during the deployment and not having to wait the far end.

It's also reducing the Heat resources.

Depends-On: https://review.opendev.org/#/c/700015
Change-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/696390/33 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'environments/standalone.yaml', 'extraconfig/post_deploy/undercloud_post.yaml', 'environments/undercloud.yaml', 'environments/standalone/standalone-tripleo.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'ci/common/ironic_standalone_post.yaml', 'extraconfig/post_deploy/standalone_post.yaml']",8,bd4a6f2774b41eb225878c4ae77ee797107f958b,tripleo-keystone-resources,,"heat_template_version: rocky description: > Post-deployment for the TripleO standalone deployment parameters: servers: type: json DeployedServerPortMap: default: {} type: json StandaloneHomeDir: description: The HOME directory where the stackrc and ssh credentials for the Standalone will be installed. Set to /home/<user> to customize the location. type: string default: '/root' AdminPassword: #supplied by tripleo-undercloud-passwords.yaml type: string description: The password for the keystone admin account, used for monitoring, querying neutron etc. hidden: True KeystoneRegion: type: string default: 'regionOne' description: Keystone region for endpoint StandaloneCloudName: type: string default: 'standalone' description: Cloud name for the clouds.yaml PythonInterpreter: type: string description: The python interpreter to use for python and ansible actions default: /usr/bin/python EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json resources: CloudsYamlConfig: type: OS::Heat::SoftwareConfig properties: group: script inputs: - name: admin_password - name: auth_url - name: cloud_name - name: home_dir - name: identity_api_version - name: project_name - name: project_domain_name - name: region_name - name: user_name - name: user_domain_name config: {get_file: ./clouds_yaml.py} CloudsYamlDeployment: type: OS::Heat::SoftwareDeploymentGroup properties: name: CloudsYamlDeployment servers: {get_param: servers} config: {get_resource: CloudsYamlConfig} input_values: admin_password: {get_param: AdminPassword} auth_url: {get_param: [EndpointMap, KeystonePublic, uri_no_suffix]} cloud_name: {get_param: StandaloneCloudName} home_dir: {get_param: StandaloneHomeDir} identity_api_version: 3 project_name: 'admin' project_domain_name: 'Default' region_name: {get_param: KeystoneRegion} user_name: 'admin' user_domain_name: 'Default' ",42,128
openstack%2Ftripleo-upgrade~master~I8b2cacd4271a59dfda948462146c0866b8b7725f,openstack/tripleo-upgrade,master,I8b2cacd4271a59dfda948462146c0866b8b7725f,Fix python command and fix python3 compatiblity.,MERGED,2019-12-17 11:14:14.000000000,2019-12-21 02:19:29.000000000,2019-12-21 02:19:29.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 27141}, {'_account_id': 31245}]","[{'number': 1, 'created': '2019-12-17 11:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/99c794a96951366809a107d9cb42b39cce5cbd07', 'message': 'Fix python command.\n\nThe python binary is not available in rhel8, add a variable with the\nbinary.\n\nChange-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f\n'}, {'number': 2, 'created': '2019-12-17 14:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9cad6e7f1f36895eb3eadea119a02b61468c8ae1', 'message': 'Fix python command.\n\nThe python binary is not available in rhel8, add a variable with the\nbinary.\n\nChange-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f\n'}, {'number': 3, 'created': '2019-12-18 15:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/90344fd39b904286eb19d963657b364e0abb2c19', 'message': 'Fix python command.\n\nThe python binary is not available in rhel8, add a variable with the\nbinary.\n\nChange-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f\n'}, {'number': 4, 'created': '2019-12-18 16:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/86909028d294be32fc713264da6b7213e5a4251f', 'message': 'Fix python command.\n\nThe python binary is not available in rhel8, add a variable with the\nbinary.\n\nChange-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f\n'}, {'number': 5, 'created': '2019-12-18 16:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/56fc042a8cd793d6727ce0f4b559a56ff2c8db2d', 'message': ""Fix python command and fix python3 compatiblity.\n\nThe python binary is not available in rhel8, add a variable with the\nbinary. In stein on, we deal python3 by default and print isn't\nsupported anymore now print is a function.\n\nChange-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f\n""}, {'number': 6, 'created': '2019-12-18 17:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7ed069263a076ae602ee6b2a2dbba91f53007317', 'message': ""Fix python command and fix python3 compatiblity.\n\nThe python binary is not available in rhel8, add a variable with the\nbinary. In stein on, we deal python3 by default and print isn't\nsupported anymore now print is a function.\n\nChange-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f\n""}, {'number': 7, 'created': '2019-12-18 17:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/236c8902c5b1da129d9b6b903a904214ebce7a5b', 'message': ""Fix python command and fix python3 compatiblity.\n\nThe python binary is not available in rhel8, add a variable with the\nbinary. In stein on, we deal python3 by default and print isn't\nsupported anymore now print is a function.\n\nChange-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f\n""}, {'number': 8, 'created': '2019-12-18 18:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/632823bb4a748d6350044d7a53c024d1dc64383a', 'message': ""Fix python command and fix python3 compatiblity.\n\nThe python binary is not available in rhel8, add a variable with the\nbinary. In stein on, we deal python3 by default and print isn't\nsupported anymore now print is a function.\n\nChange-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f\n""}, {'number': 9, 'created': '2019-12-18 18:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7f547a95e0cbec887d0fe2228485a5a47b9dd8db', 'message': ""Fix python command and fix python3 compatiblity.\n\nThe python binary is not available in rhel8, add a variable with the\nbinary. In stein on, we deal python3 by default and print isn't\nsupported anymore now print is a function.\n\nChange-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f\n""}, {'number': 10, 'created': '2019-12-18 18:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3b468cac94fe183b4fb56b9a246a89d258c9351d', 'message': ""Fix python command and fix python3 compatiblity.\n\nThe python binary is not available in rhel8, add a variable with the\nbinary. In stein on, we deal python3 by default and print isn't\nsupported anymore now print is a function.\n\nChange-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f\n""}, {'number': 11, 'created': '2019-12-18 19:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d5c5f2a227f4ace0ccb3c70c9ba0917f478bca10', 'message': ""Fix python command and fix python3 compatiblity.\n\nThe python binary is not available in rhel8, add a variable with the\nbinary. In stein on, we deal python3 by default and print isn't\nsupported anymore now print is a function.\n\nChange-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f\n""}, {'number': 12, 'created': '2019-12-19 04:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/38952cc206b4ec8bba06256c437a159a23dbc733', 'message': ""Fix python command and fix python3 compatiblity.\n\nThe python binary is not available in rhel8, add a variable with the\nbinary. In stein on, we deal python3 by default and print isn't\nsupported anymore now print is a function.\n\nChange-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f\n""}, {'number': 13, 'created': '2019-12-19 04:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/40791e18e472156dd5bed579e72acc06954c5426', 'message': ""Fix python command and fix python3 compatiblity.\n\nThe python binary is not available in rhel8, add a variable with the\nbinary. In stein on, we deal python3 by default and print isn't\nsupported anymore now print is a function.\n\nChange-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f\n""}, {'number': 14, 'created': '2019-12-19 08:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/bcd4917e91575cb3ded1dd411bcbcb205d0e532c', 'message': ""Fix python command and fix python3 compatiblity.\n\nThe python binary is not available in rhel8, add a variable with the\nbinary. In stein on, we deal python3 by default and print isn't\nsupported anymore now print is a function.\n\nChange-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f\n""}, {'number': 15, 'created': '2019-12-19 09:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/bc4fb3bf84ed5ea159dd7308ed15f94423826917', 'message': ""Fix python command and fix python3 compatiblity.\n\nThe python binary is not available in rhel8, add a variable with the\nbinary. In stein on, we deal python3 by default and print isn't\nsupported anymore now print is a function.\n\nChange-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f\n""}, {'number': 16, 'created': '2019-12-19 10:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9e39de7a53d40e03ad6af907b34627f6dfb7b8e9', 'message': ""Fix python command and fix python3 compatiblity.\n\nThe python binary is not available in rhel8, add a variable with the\nbinary. In stein on, we deal python3 by default and print isn't\nsupported anymore now print is a function. This patch defines python_bin\nbased on OS version (python in RHEL7 or python3 in RHEL8). Output is\nassigned as ansible registered variable to save it to file later on.\nAdditionally this patch moves all pipes to jq to minimize number of forks\n\nCo-Authored: Sergii Golovatiuk <sgolovat@redhat.com>\nCloses-Bug: #1856865\n\nChange-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f\n""}, {'number': 17, 'created': '2019-12-19 14:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6accf3219f85271593d35e22b0b5ca8deda10064', 'message': ""Fix python command and fix python3 compatiblity.\n\nThe python binary is not available in rhel8, add a variable with the\nbinary. In stein on, we deal python3 by default and print isn't\nsupported anymore now print is a function. This patch defines python_bin\nbased on OS version (python in RHEL7 or python3 in RHEL8). Output is\nassigned as ansible registered variable to save it to file later on.\nAdditionally this patch moves all pipes to jq to minimize number of forks\n\nCo-Authored-By: Sergii Golovatiuk <sgolovat@redhat.com>\nCloses-Bug: #1856865\n\nChange-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f\n""}, {'number': 18, 'created': '2019-12-20 09:37:10.000000000', 'files': ['tasks/common/adjust-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4a0d4b7acd2a8e39c490b9e814c590d9d95eca66', 'message': ""Fix python command and fix python3 compatiblity.\n\nThe python binary is not available in rhel8, add a variable with the\nbinary. In stein on, we deal python3 by default and print isn't\nsupported anymore now print is a function. This patch defines python_bin\nbased on OS version (python in RHEL7 or python3 in RHEL8). Output is\nassigned as ansible registered variable to save it to file later on.\nAdditionally this patch moves all pipes to jq to minimize number of forks\n\nCo-Authored-By: Sergii Golovatiuk <sgolovat@redhat.com>\nCloses-Bug: #1856865\n\nChange-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f\n""}]",23,699391,4a0d4b7acd2a8e39c490b9e814c590d9d95eca66,57,7,18,31245,,,0,"Fix python command and fix python3 compatiblity.

The python binary is not available in rhel8, add a variable with the
binary. In stein on, we deal python3 by default and print isn't
supported anymore now print is a function. This patch defines python_bin
based on OS version (python in RHEL7 or python3 in RHEL8). Output is
assigned as ansible registered variable to save it to file later on.
Additionally this patch moves all pipes to jq to minimize number of forks

Co-Authored-By: Sergii Golovatiuk <sgolovat@redhat.com>
Closes-Bug: #1856865

Change-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/91/699391/14 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/adjust-roles-data.yaml'],1,99c794a96951366809a107d9cb42b39cce5cbd07,bug/1856865," vars: python_bin: ""{{ 'python' if use_oooq|bool else 'python3' }}"" {{ python_bin }} -c 'import sys, yaml, simplejson as json; {{ python_bin }} -c 'import simplejson, sys, yaml;"," python -c 'import sys, yaml, simplejson as json; python -c 'import simplejson, sys, yaml;",4,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia2961f22d5bf1afbe6f5c1dd7bf7eb762d4c6e53,openstack/tripleo-heat-templates,stable/train,Ia2961f22d5bf1afbe6f5c1dd7bf7eb762d4c6e53,Move the legacy telemetry environment template to correct location,MERGED,2019-12-06 13:25:11.000000000,2019-12-21 02:19:28.000000000,2019-12-21 02:19:28.000000000,"[{'_account_id': 3153}, {'_account_id': 4264}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-06 13:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a084ca5f565d20abb004bd6d1d046886dfb0543', 'message': 'Move the legacy telemetry environment template to correct location\n\nThe deployment directory is not the right place for environment\ntemplates. Hences the relative paths end up as file not found.\n\nChange-Id: Ia2961f22d5bf1afbe6f5c1dd7bf7eb762d4c6e53\n(cherry picked from commit a309f03c18b52859b7b6707280d37b03b0169467)\n'}, {'number': 2, 'created': '2019-12-10 14:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/969305d8b5c62384632799ba5293c44f82b1676b', 'message': 'Move the legacy telemetry environment template to correct location\n\nThe deployment directory is not the right place for environment\ntemplates. Hences the relative paths end up as file not found.\n\nChange-Id: Ia2961f22d5bf1afbe6f5c1dd7bf7eb762d4c6e53\n(cherry picked from commit a309f03c18b52859b7b6707280d37b03b0169467)\n'}, {'number': 3, 'created': '2019-12-13 06:48:27.000000000', 'files': ['environments/enable-legacy-telemetry.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fd61d8c98c4e729ab9247a207f432705b6a15e40', 'message': 'Move the legacy telemetry environment template to correct location\n\nThe deployment directory is not the right place for environment\ntemplates. Hences the relative paths end up as file not found.\n\nChange-Id: Ia2961f22d5bf1afbe6f5c1dd7bf7eb762d4c6e53\n(cherry picked from commit a309f03c18b52859b7b6707280d37b03b0169467)\n'}]",0,697665,fd61d8c98c4e729ab9247a207f432705b6a15e40,40,6,3,6924,,,0,"Move the legacy telemetry environment template to correct location

The deployment directory is not the right place for environment
templates. Hences the relative paths end up as file not found.

Change-Id: Ia2961f22d5bf1afbe6f5c1dd7bf7eb762d4c6e53
(cherry picked from commit a309f03c18b52859b7b6707280d37b03b0169467)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/697665/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/enable-legacy-telemetry.yaml'],1,9a084ca5f565d20abb004bd6d1d046886dfb0543,,,,0,0
openstack%2Ffreezer-web-ui~master~I7a85a88ad3d248ea081eb22db6507f9bd21493f7,openstack/freezer-web-ui,master,I7a85a88ad3d248ea081eb22db6507f9bd21493f7,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-11-22 01:52:40.000000000,2019-12-21 02:14:17.000000000,2019-12-21 02:14:17.000000000,"[{'_account_id': 1736}, {'_account_id': 21069}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-11-22 01:52:40.000000000', 'files': ['test-requirements.txt', '.zuul.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini', 'releasenotes/notes/drop-py-2-7-5fbb19deece255ca.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/8f353278d4af8a6057d12bcaa4722ed71108c8d4', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nfreezer-web-ui is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I7a85a88ad3d248ea081eb22db6507f9bd21493f7\n'}]",0,695613,8f353278d4af8a6057d12bcaa4722ed71108c8d4,8,4,1,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

freezer-web-ui is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I7a85a88ad3d248ea081eb22db6507f9bd21493f7
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/13/695613/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', '.zuul.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini', 'releasenotes/notes/drop-py-2-7-5fbb19deece255ca.yaml']",6,8f353278d4af8a6057d12bcaa4722ed71108c8d4,drop-py27-support,--- upgrade: - | Python 2.7 support has been dropped. Last release of freezer-web-ui to support py2.7 is OpenStack Train. The minimum version of Python now supported by freezer-web-ui is Python 3.6. ,,11,16
openstack%2Ftripleo-heat-templates~stable%2Frocky~I6907729bca667459466834276513e9f0233d10d0,openstack/tripleo-heat-templates,stable/rocky,I6907729bca667459466834276513e9f0233d10d0,Update environment var for keystone bootstrap,MERGED,2019-12-13 21:09:06.000000000,2019-12-21 02:14:08.000000000,2019-12-21 02:14:08.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-13 21:09:06.000000000', 'files': ['docker/services/keystone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d35bfa0b866321857e84a66645e304a2bcc78eaa', 'message': 'Update environment var for keystone bootstrap\n\nRelated-Bug: #1855932\n\nChange-Id: I6907729bca667459466834276513e9f0233d10d0\nDepends-On: https://review.opendev.org/#/c/698932/\n(cherry picked from commit 6f90cd8528abbcfeb1f9f8180ca048704b6ffed0)\n'}]",0,699020,d35bfa0b866321857e84a66645e304a2bcc78eaa,32,4,1,14985,,,0,"Update environment var for keystone bootstrap

Related-Bug: #1855932

Change-Id: I6907729bca667459466834276513e9f0233d10d0
Depends-On: https://review.opendev.org/#/c/698932/
(cherry picked from commit 6f90cd8528abbcfeb1f9f8180ca048704b6ffed0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/699020/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/keystone.yaml'],1,d35bfa0b866321857e84a66645e304a2bcc78eaa,bug/1855932," command: [ 'keystone', '/usr/bin/bootstrap_host_exec', 'keystone' ,'keystone-manage', 'bootstrap' ] environment: - list_join: - '' - - 'OS_BOOTSTRAP_PASSWORD=' - {get_param: AdminPassword}"," # NOTE(mwhahaha): We use $$ because we're executing in python to # call as shell script and passing the command to run as arguments # to that shell script. So when it is called via eval, the escaped # $ properly evaulates command: [ 'keystone', '/usr/bin/bootstrap_host_exec', 'keystone' ,'keystone-manage', 'bootstrap', '--bootstrap-password', '$$KEYSTONE_BOOTSTRAP_PASSWORD' ] environment: KEYSTONE_BOOTSTRAP_PASSWORD: {get_param: AdminPassword}",5,6
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I730b107d4b5a002f82f658a83d11162606e44a16,openstack/tripleo-heat-templates,stable/queens,I730b107d4b5a002f82f658a83d11162606e44a16,Remove incorrect mapped_data key from cisco ml2 hieradata,MERGED,2019-12-17 13:58:32.000000000,2019-12-21 02:10:58.000000000,2019-12-21 02:10:58.000000000,"[{'_account_id': 3153}, {'_account_id': 6637}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-17 13:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0a4003e681b07be6f73bd134bc579aeaf35adf6e', 'message': 'Remove incorrect mapped_data key from cisco ml2 hieradata\n\nSince os-apply-config changed to the hiera hook here:\nhttps://github.com/openstack/tripleo-heat-templates/commit/c5d10cd9fc94e6557417673190b73867a83cbb7b\nthe mapped_data key is no longer required and results in an additional\nincorrect key being written to the hiera data. This patch removes it to\nensure the hiera data for cisco ml2 works as expected.\n\nChange-Id: I730b107d4b5a002f82f658a83d11162606e44a16\nCloses-Bug: #1791044\n(cherry picked from commit 95245f6ad4a85584081cfe1004e44329995a85b1)\n'}, {'number': 2, 'created': '2019-12-18 13:44:18.000000000', 'files': ['puppet/extraconfig/all_nodes/neutron-ml2-cisco-nexus-ucsm.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7044c1858d03d92fe38a41aa05cd8c578348121d', 'message': 'Remove incorrect mapped_data key from cisco ml2 hieradata\n\nSince os-apply-config changed to the hiera hook here:\nhttps://github.com/openstack/tripleo-heat-templates/commit/c5d10cd9fc94e6557417673190b73867a83cbb7b\nthe mapped_data key is no longer required and results in an additional\nincorrect key being written to the hiera data. This patch removes it to\nensure the hiera data for cisco ml2 works as expected.\n\nChange-Id: I730b107d4b5a002f82f658a83d11162606e44a16\nCloses-Bug: #1791044\n(cherry picked from commit 95245f6ad4a85584081cfe1004e44329995a85b1)\n'}]",0,699421,7044c1858d03d92fe38a41aa05cd8c578348121d,13,5,2,3153,,,0,"Remove incorrect mapped_data key from cisco ml2 hieradata

Since os-apply-config changed to the hiera hook here:
https://github.com/openstack/tripleo-heat-templates/commit/c5d10cd9fc94e6557417673190b73867a83cbb7b
the mapped_data key is no longer required and results in an additional
incorrect key being written to the hiera data. This patch removes it to
ensure the hiera data for cisco ml2 works as expected.

Change-Id: I730b107d4b5a002f82f658a83d11162606e44a16
Closes-Bug: #1791044
(cherry picked from commit 95245f6ad4a85584081cfe1004e44329995a85b1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/699421/2 && git format-patch -1 --stdout FETCH_HEAD,['puppet/extraconfig/all_nodes/neutron-ml2-cisco-nexus-ucsm.j2.yaml'],1,0a4003e681b07be6f73bd134bc579aeaf35adf6e,mapped/cisco, neutron::plugins::ml2::cisco::ucsm::ucsm_ip: {get_input: UCSM_ip} neutron::plugins::ml2::cisco::ucsm::ucsm_username: {get_input: UCSM_username} neutron::plugins::ml2::cisco::ucsm::ucsm_password: {get_input: UCSM_password} neutron::plugins::ml2::cisco::ucsm::ucsm_host_list: {get_input: UCSM_host_list} neutron::plugins::ml2::cisco::ucsm::supported_pci_devs: {get_input: UCSMSupportedPciDevs} neutron::plugins::ml2::cisco::ucsm::ucsm_https_verify: {get_input: UCSMHttpsVerify} neutron::plugins::ml2::cisco::ucsm::sp_template_list: {get_input: UCSMSpTemplateList} neutron::plugins::ml2::cisco::ucsm::vnic_template_list: {get_input: UCSMVnicTemplateList} neutron::plugins::ml2::cisco::nexus::nexus_config: {get_input: NexusConfig} neutron::plugins::ml2::cisco::nexus::managed_physical_network: {get_input: NexusManagedPhysicalNetwork} neutron::plugins::ml2::cisco::nexus::switch_heartbeat_time: {get_input: NexusSwitchHeartbeatTime} neutron::plugins::ml2::cisco::nexus::provider_vlan_auto_create: {get_input: NexusProviderVlanAutoCreate} neutron::plugins::ml2::cisco::nexus::provider_vlan_auto_trunk: {get_input: NexusProviderVlanAutoTrunk} neutron::plugins::ml2::cisco::nexus::vxlan_global_config: {get_input: NexusVxlanGlobalConfig} neutron::plugins::ml2::cisco::type_nexus_vxlan::vni_ranges: {get_input: NexusVxlanVniRanges} neutron::plugins::ml2::cisco::type_nexus_vxlan::mcast_ranges: {get_input: NexusVxlanMcastRanges}, mapped_data: neutron::plugins::ml2::cisco::ucsm::ucsm_ip: {get_input: UCSM_ip} neutron::plugins::ml2::cisco::ucsm::ucsm_username: {get_input: UCSM_username} neutron::plugins::ml2::cisco::ucsm::ucsm_password: {get_input: UCSM_password} neutron::plugins::ml2::cisco::ucsm::ucsm_host_list: {get_input: UCSM_host_list} neutron::plugins::ml2::cisco::ucsm::supported_pci_devs: {get_input: UCSMSupportedPciDevs} neutron::plugins::ml2::cisco::ucsm::ucsm_https_verify: {get_input: UCSMHttpsVerify} neutron::plugins::ml2::cisco::ucsm::sp_template_list: {get_input: UCSMSpTemplateList} neutron::plugins::ml2::cisco::ucsm::vnic_template_list: {get_input: UCSMVnicTemplateList} neutron::plugins::ml2::cisco::nexus::nexus_config: {get_input: NexusConfig} neutron::plugins::ml2::cisco::nexus::managed_physical_network: {get_input: NexusManagedPhysicalNetwork} neutron::plugins::ml2::cisco::nexus::switch_heartbeat_time: {get_input: NexusSwitchHeartbeatTime} neutron::plugins::ml2::cisco::nexus::provider_vlan_auto_create: {get_input: NexusProviderVlanAutoCreate} neutron::plugins::ml2::cisco::nexus::provider_vlan_auto_trunk: {get_input: NexusProviderVlanAutoTrunk} neutron::plugins::ml2::cisco::nexus::vxlan_global_config: {get_input: NexusVxlanGlobalConfig} neutron::plugins::ml2::cisco::type_nexus_vxlan::vni_ranges: {get_input: NexusVxlanVniRanges} neutron::plugins::ml2::cisco::type_nexus_vxlan::mcast_ranges: {get_input: NexusVxlanMcastRanges},16,17
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ibda17afdcf7a6748f15390fd8a0a8b70bb6dfc2b,openstack/tripleo-heat-templates,stable/queens,Ibda17afdcf7a6748f15390fd8a0a8b70bb6dfc2b,CiscoNexus: Update and Remove deprecated vars,MERGED,2019-12-17 13:57:15.000000000,2019-12-21 02:10:57.000000000,2019-12-21 02:10:56.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-17 13:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ce9cb8f736c0fca399e391b2af88bc0a1a29a5e5', 'message': 'CiscoNexus: Update and Remove deprecated vars\n\nUpdate and Remove deprecated variables from Cisco Nexus Config.\n* Deprecated variables include vlan_name_prefix, svi_round_robin,\n  provider_vlan_name_prefix, persistent_switch_config,\n  never_cache_ssh_connection, ssh_port, switch_replay_count,\n  nexus_driver, and host_key_checks.\n* Change config replay to on by defaulting switch_heartbeat_time=30.\n* Replaced method of configurating host_ports_mapping config.\n\nDepends-On: Iee2f869c4054f1120d224994aba8c827f981e6c0\nChange-Id: Ibda17afdcf7a6748f15390fd8a0a8b70bb6dfc2b\nCloses-bug:  #1793381\n(cherry picked from commit a425a6f1ff1833da0ec5f42c7ca3f9ad952b54bf)\n'}, {'number': 2, 'created': '2019-12-18 13:44:13.000000000', 'files': ['environments/neutron-ml2-cisco-nexus-ucsm.yaml', 'puppet/extraconfig/all_nodes/neutron-ml2-cisco-nexus-ucsm.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bcba626d3b868457d34aa418eca6b3cf4792356a', 'message': 'CiscoNexus: Update and Remove deprecated vars\n\nUpdate and Remove deprecated variables from Cisco Nexus Config.\n* Deprecated variables include vlan_name_prefix, svi_round_robin,\n  provider_vlan_name_prefix, persistent_switch_config,\n  never_cache_ssh_connection, ssh_port, switch_replay_count,\n  nexus_driver, and host_key_checks.\n* Change config replay to on by defaulting switch_heartbeat_time=30.\n* Replaced method of configurating host_ports_mapping config.\n\nDepends-On: Iee2f869c4054f1120d224994aba8c827f981e6c0\nChange-Id: Ibda17afdcf7a6748f15390fd8a0a8b70bb6dfc2b\nCloses-bug:  #1793381\n(cherry picked from commit a425a6f1ff1833da0ec5f42c7ca3f9ad952b54bf)\n'}]",0,699420,bcba626d3b868457d34aa418eca6b3cf4792356a,13,4,2,3153,,,0,"CiscoNexus: Update and Remove deprecated vars

Update and Remove deprecated variables from Cisco Nexus Config.
* Deprecated variables include vlan_name_prefix, svi_round_robin,
  provider_vlan_name_prefix, persistent_switch_config,
  never_cache_ssh_connection, ssh_port, switch_replay_count,
  nexus_driver, and host_key_checks.
* Change config replay to on by defaulting switch_heartbeat_time=30.
* Replaced method of configurating host_ports_mapping config.

Depends-On: Iee2f869c4054f1120d224994aba8c827f981e6c0
Change-Id: Ibda17afdcf7a6748f15390fd8a0a8b70bb6dfc2b
Closes-bug:  #1793381
(cherry picked from commit a425a6f1ff1833da0ec5f42c7ca3f9ad952b54bf)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/699420/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/neutron-ml2-cisco-nexus-ucsm.yaml', 'puppet/extraconfig/all_nodes/neutron-ml2-cisco-nexus-ucsm.j2.yaml']",2,ce9cb8f736c0fca399e391b2af88bc0a1a29a5e5,bug/1793381-stable/queens,, NetworkNexusVlanNamePrefix: type: string description: > This configuration item is OBSOLETE. A short prefix to prepend to the VLAN name default: 'q-' NetworkNexusSviRoundRobin: type: boolean description: > This configuration item is OBSOLETE. A flag to enable round robin scheduling default: false NetworkNexusProviderVlanNamePrefix: type: string description: > This configuration item is OBSOLETE. A short prefix to prepend to the VLAN name. default: 'p-' NetworkNexusPersistentSwitchConfig: type: string description: > This config item will be deprecated. To make Nexus device persistent. default: false NetworkNexusNeverCacheSshConnection: type: string description: > This config item will be deprecated. Prevent Cache of ssh connection default: false NetworkNexusSwitchReplayCount: type: number description: > This configuration item is OBSOLETE. The Nexus driver replay behavior is to continue to attempt to connect to the down Nexus device with a period equal to the heartbeat time interval. This was previously the Number of times to attempt config replay. default: 3 NetworkNexusCfgDriver: type: string description: > This will be deprecated. Lower-level configuration driver which sends commands to the Nexus Device. Choices are 'restapi' or 'ncclient' where the latter is being deprecated. So there is no longer a need for this variable. default: 'restapi' NetworkNexusHostKeyChecks: type: boolean description: > This config item will be deprecated. It enables strict host key checks when connecting to Nexus switches default: false neutron::plugins::ml2::cisco::nexus::vlan_name_prefix: {get_input: NexusVlanNamePrefix} neutron::plugins::ml2::cisco::nexus::svi_round_robin: {get_input: NexusSviRoundRobin} neutron::plugins::ml2::cisco::nexus::provider_vlan_name_prefix: {get_input: NexusProviderVlanNamePrefix} neutron::plugins::ml2::cisco::nexus::persistent_switch_config: {get_input: NexusPersistentSwitchConfig} neutron::plugins::ml2::cisco::nexus::never_cache_ssh_connection: {get_input: NexusNeverCacheSshConnection} neutron::plugins::ml2::cisco::nexus::switch_replay_count: {get_input: NexusSwitchReplayCount} neutron::plugins::ml2::cisco::nexus::nexus_driver: {get_input: NexusCfgDriver} neutron::plugins::ml2::cisco::nexus::host_key_checks: {get_input: NexusHostKeyChecks} NexusVlanNamePrefix: {get_param: NetworkNexusVlanNamePrefix} NexusSviRoundRobin: {get_param: NetworkNexusSviRoundRobin} NexusProviderVlanNamePrefix: {get_param: NetworkNexusProviderVlanNamePrefix} NexusPersistentSwitchConfig: {get_param: NetworkNexusPersistentSwitchConfig} NexusNeverCacheSshConnection: {get_param: NetworkNexusNeverCacheSshConnection} NexusSwitchReplayCount: {get_param: NetworkNexusSwitchReplayCount} NexusCfgDriver: {get_param: NetworkNexusCfgDriver} NexusHostKeyChecks: {get_param: NetworkNexusHostKeyChecks},0,76
openstack%2Ftripleo-upgrade~stable%2Ftrain~If62f3ab18289508f0b8ef372d64f84dec0c56610,openstack/tripleo-upgrade,stable/train,If62f3ab18289508f0b8ef372d64f84dec0c56610,Add LEAPP_SKIP_CHECK_OS_RELEASE variable in UC upgrade.,MERGED,2019-12-12 16:56:39.000000000,2019-12-21 02:10:56.000000000,2019-12-21 02:10:56.000000000,"[{'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 29222}, {'_account_id': 31245}]","[{'number': 1, 'created': '2019-12-12 16:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7548e99098ca7bd366fcf44d4c2c17636c519636', 'message': 'Add LEAPP_SKIP_CHECK_OS_RELEASE variable in UC upgrade.\n\nThe upgrade from RHEL7.7 might be supported by Leapp when\npassing the LEAPP_SKIP_CHECK_OS_RELEASE option. This patch\nadds the option to enable it if needed when executing the\nopearating system upgrade in the Undercloud.\n\nChange-Id: If62f3ab18289508f0b8ef372d64f84dec0c56610\n'}, {'number': 2, 'created': '2019-12-17 15:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c13e49e16da69ebdf15f3b05bd26e663ffb7cf9a', 'message': 'Add LEAPP_SKIP_CHECK_OS_RELEASE variable in UC upgrade.\n\nThe upgrade from RHEL7.7 might be supported by Leapp when\npassing the LEAPP_SKIP_CHECK_OS_RELEASE option. This patch\nadds the option to enable it if needed when executing the\nopearating system upgrade in the Undercloud.\n\nChange-Id: If62f3ab18289508f0b8ef372d64f84dec0c56610\n'}, {'number': 3, 'created': '2019-12-20 14:07:30.000000000', 'files': ['tasks/upgrade/undercloud_os_upgrade.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9fdd3514e28cabc1c9662739aea8706a195493fb', 'message': 'Add LEAPP_SKIP_CHECK_OS_RELEASE variable in UC upgrade.\n\nThe upgrade from RHEL7.7 might be supported by Leapp when\npassing the LEAPP_SKIP_CHECK_OS_RELEASE option. This patch\nadds the option to enable it if needed when executing the\nopearating system upgrade in the Undercloud.\n\n(cherry-picked from commit 452b83f2a5e97e7b1c85e95eb978b5f8963e3f24)\n\nChange-Id: If62f3ab18289508f0b8ef372d64f84dec0c56610\n'}]",0,698758,9fdd3514e28cabc1c9662739aea8706a195493fb,17,8,3,26343,,,0,"Add LEAPP_SKIP_CHECK_OS_RELEASE variable in UC upgrade.

The upgrade from RHEL7.7 might be supported by Leapp when
passing the LEAPP_SKIP_CHECK_OS_RELEASE option. This patch
adds the option to enable it if needed when executing the
opearating system upgrade in the Undercloud.

(cherry-picked from commit 452b83f2a5e97e7b1c85e95eb978b5f8963e3f24)

Change-Id: If62f3ab18289508f0b8ef372d64f84dec0c56610
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/58/698758/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/upgrade/undercloud_os_upgrade.yaml', 'defaults/main.yml']",2,7548e99098ca7bd366fcf44d4c2c17636c519636,,# Leapp OS upgrade variables #leapp_skip_release_check: false ,# Leapp OS upgrade variables,6,2
openstack%2Ftripleo-validations~stable%2Ftrain~I85d09955e839bab35cc06d2f0906f3012c8a1aa9,openstack/tripleo-validations,stable/train,I85d09955e839bab35cc06d2f0906f3012c8a1aa9,Add a validation to fail if a Ceph dependency is not installed,MERGED,2019-12-20 09:35:48.000000000,2019-12-21 02:10:55.000000000,2019-12-21 02:10:55.000000000,"[{'_account_id': 6796}, {'_account_id': 11491}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-12-20 09:35:48.000000000', 'files': ['playbooks/ceph-dependencies-installed.yaml', 'roles/ceph/tasks/ceph-dependencies-installed.yaml', 'roles/ceph/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6f850ab60bbf359598eb5b2285eb53dfe2207fc2', 'message': 'Add a validation to fail if a Ceph dependency is not installed\n\nWhen the overcloud is deployed with Ceph we need to install all the\nceph dependencies on the overcloud nodes.\nIf a ceph dependency is missing, a warning message is displayed and we\ncan also let the playbook fail setting the related boolean.\nFurthermore, if the package is found, the playbook check if a new\nversion is available.\n\nCloses-Bug: 1855692\nChange-Id: I85d09955e839bab35cc06d2f0906f3012c8a1aa9\n(cherry picked from commit 7fe786039b77c03fdd984e161b7aeccb78be9f1e)\n'}]",0,700126,6f850ab60bbf359598eb5b2285eb53dfe2207fc2,10,6,1,25402,,,0,"Add a validation to fail if a Ceph dependency is not installed

When the overcloud is deployed with Ceph we need to install all the
ceph dependencies on the overcloud nodes.
If a ceph dependency is missing, a warning message is displayed and we
can also let the playbook fail setting the related boolean.
Furthermore, if the package is found, the playbook check if a new
version is available.

Closes-Bug: 1855692
Change-Id: I85d09955e839bab35cc06d2f0906f3012c8a1aa9
(cherry picked from commit 7fe786039b77c03fdd984e161b7aeccb78be9f1e)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/26/700126/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/ceph-dependencies-installed.yaml', 'roles/ceph/tasks/ceph-dependencies-installed.yaml', 'roles/ceph/defaults/main.yml']",3,6f850ab60bbf359598eb5b2285eb53dfe2207fc2,ceph_lvm_package-stable/train,fail_without_deps: false,,44,0
openstack%2Fpuppet-openstack-integration~master~I43718a849d09653e6c352b581aef6bbbf372fc41,openstack/puppet-openstack-integration,master,I43718a849d09653e6c352b581aef6bbbf372fc41,Invert the logic of Puppetfile,MERGED,2019-12-20 22:06:48.000000000,2019-12-21 02:08:44.000000000,2019-12-21 02:08:44.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-20 22:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4ef82b167a56d56218d548f9cd0a82441eddbc5e', 'message': ""Invert the logic of Puppetfile\n\nI98fc088cd87c1412544f9590ce7a925b413297e2 broke unit 5.5 for\npuppet-tripleo and probably puppet-pacemaker, since it can't find the\nPuppetfile by default anymore.\n\nChange-Id: I43718a849d09653e6c352b581aef6bbbf372fc41\n""}, {'number': 2, 'created': '2019-12-20 22:08:13.000000000', 'files': ['Puppetfile_centos8', 'Puppetfile', 'functions', 'external_modules.txt'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/70ac070db150f7e8b86cc8334dc495f40eb4ed71', 'message': ""Invert the logic of Puppetfile\n\nI98fc088cd87c1412544f9590ce7a925b413297e2 broke unit 5.5 for\npuppet-tripleo and probably puppet-pacemaker, since it can't find the\nPuppetfile by default anymore.\n\nChange-Id: I43718a849d09653e6c352b581aef6bbbf372fc41\n""}]",0,700250,70ac070db150f7e8b86cc8334dc495f40eb4ed71,13,5,2,3153,,,0,"Invert the logic of Puppetfile

I98fc088cd87c1412544f9590ce7a925b413297e2 broke unit 5.5 for
puppet-tripleo and probably puppet-pacemaker, since it can't find the
Puppetfile by default anymore.

Change-Id: I43718a849d09653e6c352b581aef6bbbf372fc41
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/50/700250/1 && git format-patch -1 --stdout FETCH_HEAD,"['Puppetfile_centos8', 'Puppetfile', 'external_modules.txt']",3,4ef82b167a56d56218d548f9cd0a82441eddbc5e,fix,"puppetlabs/puppetlabs-mysql,6.2.0",puppetlabs/puppetlabs-mysql,4,4
openstack%2Ftripleo-upgrade~master~Ic420c0717165e01df99ad2368a23fc9fc10e71c1,openstack/tripleo-upgrade,master,Ic420c0717165e01df99ad2368a23fc9fc10e71c1,Fix workaround delegation when overcloud's name is not overcloud.,MERGED,2019-12-20 11:37:33.000000000,2019-12-21 02:05:01.000000000,2019-12-21 02:05:01.000000000,"[{'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 31245}]","[{'number': 1, 'created': '2019-12-20 11:37:33.000000000', 'files': ['templates/workarounds.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6483436d7d0916e5e07fa38b9041e0fd7a5dde1f', 'message': ""Fix workaround delegation when overcloud's name is not overcloud.\n\ntripleo-ansible-inventory use overcloud as the name of the stack by\ndefault.  On some ci, that value may be different, this then produces\nan undercloud only inventory file.\n\nChange-Id: Ic420c0717165e01df99ad2368a23fc9fc10e71c1\nCloses-Bug: #1857120\n""}]",0,700161,6483436d7d0916e5e07fa38b9041e0fd7a5dde1f,10,6,1,8297,,,0,"Fix workaround delegation when overcloud's name is not overcloud.

tripleo-ansible-inventory use overcloud as the name of the stack by
default.  On some ci, that value may be different, this then produces
an undercloud only inventory file.

Change-Id: Ic420c0717165e01df99ad2368a23fc9fc10e71c1
Closes-Bug: #1857120
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/61/700161/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/workarounds.sh.j2'],1,6483436d7d0916e5e07fa38b9041e0fd7a5dde1f,bug/1857120," local overcloud_stack_name=""overcloud"" if [ -n ""${OVERCLOUD_STACK_NAME}"" ]; then overcloud_stack_name=""${OVERCLOUD_STACK_NAME}"" fi tripleo-ansible-inventory --plan ""${overcloud_stack_name}"" --ansible_ssh_user ${ansible_ssh_user} --static-yaml-inventory ${inventory_file}OVERCLOUD_STACK_NAME=""{{ overcloud_stack_name }}"" -o|--overcloud-stack-name) OVERCLOUD_STACK_NAME=""$2"" shift # past argument shift # past value ;;", tripleo-ansible-inventory --ansible_ssh_user ${ansible_ssh_user} --static-yaml-inventory ${inventory_file},12,2
openstack%2Ftrove~stable%2Ftrain~Ie9706d26355bd325baf50ec874f05e6904768a1a,openstack/trove,stable/train,Ie9706d26355bd325baf50ec874f05e6904768a1a,Support incremental backup for MariaDB,MERGED,2019-12-18 21:11:22.000000000,2019-12-21 01:46:17.000000000,2019-12-21 01:45:00.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 21:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a80917c0f872467f94cb3800ad68425d5132f56c', 'message': 'Support incremental backup for MariaDB\n\nEnable the tests in CI as well.\n\nChange-Id: Ie9706d26355bd325baf50ec874f05e6904768a1a\n(cherry picked from commit 605ff34608e2db53673764fe406dd94306b69c5b)\n'}, {'number': 2, 'created': '2019-12-20 07:02:28.000000000', 'files': ['trove/guestagent/strategies/backup/experimental/mariadb_impl.py', 'trove/tests/int_tests.py', 'trove/guestagent/strategies/restore/experimental/mariadb_impl.py', 'trove/taskmanager/models.py', 'devstack/plugin.sh', 'trove/guestagent/strategies/restore/mysql_impl.py', 'trove/guestagent/strategies/backup/mysql_impl.py', 'trove/guestagent/backup/backupagent.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/27bdfcf7535d77664ad0d0548e3657be1b9af6dd', 'message': 'Support incremental backup for MariaDB\n\nEnable the tests in CI as well.\n\nChange-Id: Ie9706d26355bd325baf50ec874f05e6904768a1a\n(cherry picked from commit 605ff34608e2db53673764fe406dd94306b69c5b)\n'}]",0,699873,27bdfcf7535d77664ad0d0548e3657be1b9af6dd,13,2,2,6732,,,0,"Support incremental backup for MariaDB

Enable the tests in CI as well.

Change-Id: Ie9706d26355bd325baf50ec874f05e6904768a1a
(cherry picked from commit 605ff34608e2db53673764fe406dd94306b69c5b)
",git fetch https://review.opendev.org/openstack/trove refs/changes/73/699873/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/strategies/backup/experimental/mariadb_impl.py', 'trove/guestagent/strategies/restore/experimental/mariadb_impl.py', 'trove/taskmanager/models.py', 'trove/tests/int_tests.py', 'devstack/plugin.sh', 'trove/guestagent/strategies/restore/mysql_impl.py', 'trove/guestagent/strategies/backup/mysql_impl.py', 'trove/guestagent/backup/backupagent.py']",8,a80917c0f872467f94cb3800ad68425d5132f56c,train-mariadb-backup," LOG.info(""Restoring instance from backup %(id)s to "" ""%(restore_location)s"", backup_info) "," LOG.debug(""Restoring instance from backup %(id)s to "" ""%(restore_location)s."", backup_info)",261,47
openstack%2Finstack-undercloud~stable%2Fqueens~I0bdb23133e412d7427f2d91e8ac04f9b8a82c150,openstack/instack-undercloud,stable/queens,I0bdb23133e412d7427f2d91e8ac04f9b8a82c150,Remove configuration related to Horizon,MERGED,2019-12-19 06:37:20.000000000,2019-12-21 01:39:20.000000000,2019-12-21 01:39:20.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-19 06:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/e282ee0df5cf19ee72e43dbfd71f639b5f6ba6bd', 'message': ""Remove configuration related to Horizon\n\nBecause we never have Horizon deployed in undercloud node,\nwe don't need to have any parameteres for it.\n\nThis patch removes useless hieradata which is never refered,\nin addition to remove unnecessory firewall rule to allow\ntcp/80(Horizon).\n\nCloses-Bug: #1854117\nChange-Id: I0bdb23133e412d7427f2d91e8ac04f9b8a82c150\n(cherry picked from commit 0302c8385f15c6a3f7c22817f80a0bed39946f4a)\n""}, {'number': 2, 'created': '2019-12-19 20:54:07.000000000', 'files': ['instack_undercloud/undercloud.py', 'elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/7d74149e8ffd8fd1997b38672e7e48f9fef887f4', 'message': ""Remove configuration related to Horizon\n\nBecause we never have Horizon deployed in undercloud node,\nwe don't need to have any parameteres for it.\n\nThis patch removes useless hieradata which is never refered,\nin addition to remove unnecessory firewall rule to allow\ntcp/80(Horizon).\n\nCloses-Bug: #1854117\nChange-Id: I0bdb23133e412d7427f2d91e8ac04f9b8a82c150\n(cherry picked from commit 0302c8385f15c6a3f7c22817f80a0bed39946f4a)\n""}]",0,699917,7d74149e8ffd8fd1997b38672e7e48f9fef887f4,16,5,2,20172,,,0,"Remove configuration related to Horizon

Because we never have Horizon deployed in undercloud node,
we don't need to have any parameteres for it.

This patch removes useless hieradata which is never refered,
in addition to remove unnecessory firewall rule to allow
tcp/80(Horizon).

Closes-Bug: #1854117
Change-Id: I0bdb23133e412d7427f2d91e8ac04f9b8a82c150
(cherry picked from commit 0302c8385f15c6a3f7c22817f80a0bed39946f4a)
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/17/699917/2 && git format-patch -1 --stdout FETCH_HEAD,"['instack_undercloud/undercloud.py', 'elements/puppet-stack-config/puppet-stack-config.yaml.template']",2,e282ee0df5cf19ee72e43dbfd71f639b5f6ba6bd,bug/1854117-stable/queens,,"# Horizon horizon::django_debug: ""%{hiera('debug')}"" horizon_secret_key: {{UNDERCLOUD_HORIZON_SECRET_KEY}} horizon::allowed_hosts: - ""%{::fqdn}"" - ""{{LOCAL_IP}}"" horizon::wsgi::apache::priority: 10 horizon::openstack_endpoint_type: internalURL '126 horizon': dport: - 80 - 443",4,14
openstack%2Fos-brick~stable%2Frocky~I29d65ae036957f3a63cba93dd330b14e3361a1b9,openstack/os-brick,stable/rocky,I29d65ae036957f3a63cba93dd330b14e3361a1b9,linuxscsi: Stop waiting for multipath devices during extend_volume,MERGED,2019-12-11 17:16:51.000000000,2019-12-21 00:23:40.000000000,2019-12-21 00:23:40.000000000,"[{'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 22348}, {'_account_id': 24230}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-12-11 17:16:51.000000000', 'files': ['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/initiator/connectors/nvme.py', 'os_brick/tests/initiator/connectors/test_nvme.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/3eee28ce33df69cb4605338f140d2fa6e22bcd88', 'message': 'linuxscsi: Stop waiting for multipath devices during extend_volume\n\nPreviously linuxscsi.extend_volume would always attempt to wait for\nmultipath devices to appear regardless of multipath actually being used\nby the connector.\n\nThis change corrects this by passing down the existing use_multipath\nattribute from the iSCSI and FC connectors into linuxscsi.extend_volume.\nThe same attribute is introduced to the NVMe connector to also allow it\nto skip this search for multipath devices.\n\nChange-Id: I29d65ae036957f3a63cba93dd330b14e3361a1b9\nCloses-bug: #1832247\n(cherry picked from commit 9cf135c68640f81838e2898b4aef3e0445770089)\n'}]",0,698547,3eee28ce33df69cb4605338f140d2fa6e22bcd88,14,9,1,10135,,,0,"linuxscsi: Stop waiting for multipath devices during extend_volume

Previously linuxscsi.extend_volume would always attempt to wait for
multipath devices to appear regardless of multipath actually being used
by the connector.

This change corrects this by passing down the existing use_multipath
attribute from the iSCSI and FC connectors into linuxscsi.extend_volume.
The same attribute is introduced to the NVMe connector to also allow it
to skip this search for multipath devices.

Change-Id: I29d65ae036957f3a63cba93dd330b14e3361a1b9
Closes-bug: #1832247
(cherry picked from commit 9cf135c68640f81838e2898b4aef3e0445770089)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/47/698547/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/initiator/connectors/nvme.py', 'os_brick/tests/initiator/connectors/test_nvme.py']",6,3eee28ce33df69cb4605338f140d2fa6e22bcd88,bug/1832247," execute=self.fake_execute, use_multipath=False) @mock.patch.object(linuxscsi.LinuxSCSI, 'find_multipath_device_path') def test_extend_volume(self, mock_volume_paths, mock_scsi_extend, mock_scsi_find_mpath): mock_scsi_find_mpath.assert_not_called()"," execute=self.fake_execute) def test_extend_volume(self, mock_volume_paths, mock_scsi_extend):",37,25
openstack%2Ftripleo-ansible~master~Iea9be1416bcf487614ca39053e03a0474bf482d4,openstack/tripleo-ansible,master,Iea9be1416bcf487614ca39053e03a0474bf482d4,Add job sorting logic to the role-addition playbook,MERGED,2019-12-19 17:30:27.000000000,2019-12-20 23:31:10.000000000,2019-12-20 23:31:10.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2019-12-19 17:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bce7cd398525a80d13b9b85bcdacf0d2302771fc', 'message': ""Add job sorting logic to the role-addition playbook\n\nThis change will ensure that when a role is added to the stack the job\nentry is created in sorted order using the job name.\n\n> The new sort mechanism has been run against the existing molecule file\n  to ensure we're NOW in sorted order.\n\nChange-Id: Iea9be1416bcf487614ca39053e03a0474bf482d4\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 2, 'created': '2019-12-20 15:37:33.000000000', 'files': ['zuul.d/molecule.yaml', 'role-addition.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b20108f9f6737aa9454a8976895a38036af1ecf9', 'message': ""Add job sorting logic to the role-addition playbook\n\nThis change will ensure that when a role is added to the stack the job\nentry is created in sorted order using the job name.\n\n> The new sort mechanism has been run against the existing molecule file\n  to ensure we're NOW in sorted order.\n\nChange-Id: Iea9be1416bcf487614ca39053e03a0474bf482d4\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",1,700040,b20108f9f6737aa9454a8976895a38036af1ecf9,14,5,2,7353,,,0,"Add job sorting logic to the role-addition playbook

This change will ensure that when a role is added to the stack the job
entry is created in sorted order using the job name.

> The new sort mechanism has been run against the existing molecule file
  to ensure we're NOW in sorted order.

Change-Id: Iea9be1416bcf487614ca39053e03a0474bf482d4
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/40/700040/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'role-addition.yml']",2,bce7cd398525a80d13b9b85bcdacf0d2302771fc,," {% set check_jobs = (item['project-template']['check']['jobs'] | sort) %} {% set _ = item['project-template']['check'].update({'jobs': check_jobs}) %} {% set gate_jobs = (item['project-template']['gate']['jobs'] | sort) %} {% set _ = item['project-template']['gate'].update({'jobs': gate_jobs}) %} {% set project = items.pop(0) %} {% set sorted_jobs = items | sort(attribute='job.name') %} {% set _ = sorted_jobs.insert(0, project) %} {{ sorted_jobs | to_nice_yaml(indent=2, width=1337) }}"," {{ items | to_nice_yaml(indent=2, width=1337) }}",320,313
openstack%2Fpuppet-tripleo~master~Ied6b99ecf11209e02b05376536084a00f96e84ce,openstack/puppet-tripleo,master,Ied6b99ecf11209e02b05376536084a00f96e84ce,CI test - never merge,ABANDONED,2019-12-20 22:08:32.000000000,2019-12-20 23:14:11.000000000,,[],"[{'number': 1, 'created': '2019-12-20 22:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d6aa10c53e95581d19c491e76b29fa66e591d859', 'message': 'CI test - never merge\n\nDepends-On: https://review.opendev.org/700250\nChange-Id: Ied6b99ecf11209e02b05376536084a00f96e84ce\n'}, {'number': 2, 'created': '2019-12-20 22:09:43.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4bbf3864d3fb2e48403d097ef179b496a7de7bce', 'message': 'CI test - never merge\n\nDepends-On: https://review.opendev.org/700250\n\nChange-Id: Ied6b99ecf11209e02b05376536084a00f96e84ce\n'}]",0,700251,4bbf3864d3fb2e48403d097ef179b496a7de7bce,3,0,2,3153,,,0,"CI test - never merge

Depends-On: https://review.opendev.org/700250

Change-Id: Ied6b99ecf11209e02b05376536084a00f96e84ce
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/51/700251/2 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,d6aa10c53e95581d19c491e76b29fa66e591d859,ci-test,test ,,1,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I513e6564d18c7fe1c1e5dd63f164f3b5042cacf4,openstack/tripleo-heat-templates,stable/rocky,I513e6564d18c7fe1c1e5dd63f164f3b5042cacf4,Provide utility to generate NodeDataLookup from Ironic,MERGED,2019-12-19 17:26:12.000000000,2019-12-20 22:46:07.000000000,2019-12-20 22:46:07.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-12-19 17:26:12.000000000', 'files': ['tools/make_ceph_disk_list.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/55b0e371b0a71b3b63c4d6f57ee47198d178e292', 'message': 'Provide utility to generate NodeDataLookup from Ironic\n\nAdd small python program to tools directory for deployers\nwhich generates a THT environment file containing valid\nJSON to be used with NodeDataLookup. Uses ironic generated\ndata as input.\n\nTools like this end up getting written in the field after\ndeployers experience failures. Better to provide them an\nofficial tool up front to solve this problem so they do\nnot have a bad experience.\n\nChange-Id: I513e6564d18c7fe1c1e5dd63f164f3b5042cacf4\nCloses-bug: #1854214\n(cherry picked from commit fb8009458c949c3815256d126a483d47dae90b18)\n'}]",0,700037,55b0e371b0a71b3b63c4d6f57ee47198d178e292,10,4,1,18002,,,0,"Provide utility to generate NodeDataLookup from Ironic

Add small python program to tools directory for deployers
which generates a THT environment file containing valid
JSON to be used with NodeDataLookup. Uses ironic generated
data as input.

Tools like this end up getting written in the field after
deployers experience failures. Better to provide them an
official tool up front to solve this problem so they do
not have a bad experience.

Change-Id: I513e6564d18c7fe1c1e5dd63f164f3b5042cacf4
Closes-bug: #1854214
(cherry picked from commit fb8009458c949c3815256d126a483d47dae90b18)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/700037/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/make_ceph_disk_list.py'],1,55b0e371b0a71b3b63c4d6f57ee47198d178e292,bug/1854214,"#!/usr/bin/env python3 # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import argparse import json import sys def parse_opts(argv): parser = argparse.ArgumentParser( description='Create JSON environment file with NodeDataLookup for ' 'all disks (except root disk) found in introspection data. ' 'May be run for each CephStorage node. ' 'Converts the output of `openstack baremetal introspection ' 'data save <node>` into a Heat environment file to be ' 'passed to `openstack overcloud deploy` such that ' 'all discovered disks will be configured as Ceph OSDs.') parser.add_argument('-i', '--introspection-data', metavar='INTROSPECTION_DATA', nargs='+', help=""Relative path to the JSON file(s) produced "" ""by `openstack baremetal introspection data save <node>` for "" ""each node; e.g. '-i node0.json node1.json ... nodeN.json'"", required=True) parser.add_argument('-o', '--tht-env-file', metavar='THT_ENV_FILE', help=(""Relative path to the tripleo-heat-template (THT) "" ""environment JSON file to be produced by this tool. "" ""Default: node_data_lookup.json"")) parser.add_argument('-k', '--key', metavar='KEY', help=(""Key of ironic disk data structure to use to identify "" ""disk. Must be one of name, wwn, serial, by_path "" ""default: by_path""), default='by_path', choices=['name', 'wwn', 'serial', 'by_path']) parser.add_argument('-e', '--exclude-list', metavar='EXCLUDES', nargs='*', help=(""List of devices to exclude identified "" ""by value mapped by key; e.g. if '-k name' "" ""and '-e /dev/sdb /dev/sdc' is passed, then "" ""sdb and sdc will not be in the output file""), default=[]) opts = parser.parse_args(argv[1:]) return opts def parse_ironic(ironic_file): """"""Extracts relevant data from each ironic input file """""" with open(ironic_file, 'r') as f: try: ironic = json.load(f) except Exception: raise RuntimeError( 'Invalid JSON file: {ironic_data_file}'.format( ironic_data_file=ironic_file)) try: uuid = ironic['extra']['system']['product']['uuid'] except Exception: raise RuntimeError( 'The Machine Unique UUID is not defined in ' 'data file: {ironic_data_file}'.format( ironic_data_file=ironic_file)) try: disks = ironic['inventory']['disks'] except Exception: raise RuntimeError( 'No disks were found in ' 'data file: {ironic_data_file}'.format( ironic_data_file=ironic_file)) try: root_disk = ironic['root_disk'] except Exception: raise RuntimeError( 'No root disk was found in ' 'data file: {ironic_data_file}'.format( ironic_data_file=ironic_file)) return uuid.lower(), root_disk, disks def get_devices_list(root_disk, disks, ironic_file): """"""returns devices list without root disk and other excludes based on key """""" if root_disk[OPTS.key] is None: raise RuntimeError( 'The requested --key ""{key}"" for the root disk is not defined ' 'in data file: {ironic_data_file}. Please use a different key.' .format(key=OPTS.key, ironic_data_file=ironic_file)) exclude = OPTS.exclude_list # by default the root disk is excluded as it cannot be an OSD exclude.append(root_disk[OPTS.key]) devices = [] for disk_dict in disks: if disk_dict[OPTS.key] not in exclude: devices.append(disk_dict[OPTS.key]) return devices def wrap_node_data_lookup(uuid_to_devices): """"""given a uuid to devices map, returns dictionary like the following: {'parameter_defaults': {'NodeDataLookup': {'32e87b4c-c4a7-41be-865b-191684a6883b': {'devices': ['/dev/sdc']}}, {'ea6a84d6-cf89-4fe2-b7bd-869b3fe4dd6b': {'devices': ['/dev/sdc']}}}} """""" node_data_lookup = {} node_data_lookup['NodeDataLookup'] = uuid_to_devices output = {} output['parameter_defaults'] = node_data_lookup return output def write_to_file(node_data_lookup): """"""Writes THT env file in JSON containing NodeDataLookup To node_data_lookup.json or <file>.json if '-o <file>' """""" if OPTS.tht_env_file: file_name = OPTS.tht_env_file else: file_name = 'node_data_lookup.json' with open(file_name, 'w') as outfile: json.dump(node_data_lookup, outfile, indent=2) OPTS = parse_opts(sys.argv) node_data_lookup = {} for ironic_data in OPTS.introspection_data: uuid, root_disk, disks = parse_ironic(ironic_data) devices = get_devices_list(root_disk, disks, ironic_data) devices_map = {} devices_map['devices'] = devices node_data_lookup[uuid] = devices_map write_to_file(wrap_node_data_lookup(node_data_lookup)) ",,141,0
openstack%2Fopenstack-helm~master~I126393039301f451f67866f6a2eca0485c372dd3,openstack/openstack-helm,master,I126393039301f451f67866f6a2eca0485c372dd3,nova: Use FQDNs for nova-compute worker hostnames,ABANDONED,2019-10-09 17:13:19.000000000,2019-12-20 22:33:43.000000000,,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28618}]","[{'number': 1, 'created': '2019-10-09 17:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8d192962392d4d4c9a7c63255d6f0dce9d404c39', 'message': 'nova: Use FQDNs for nova-compute worker hostnames\n\nCurrently, nova-compute worker hostnames fallback to using the hostname\nof the host. This means that the compute service catalog only shows\nhostnames; however, the OpenStack hypervisor catalog shows FQDNs. This\nchange updates the Nova config file to use the hostname of the host and\nthe FQDN, when an FQDN is provided, for nova-compute worker hostnames.\n\nChange-Id: I126393039301f451f67866f6a2eca0485c372dd3\nSigned-off-by: Drew Walters <andrew.walters@att.com>\n'}, {'number': 2, 'created': '2019-10-09 17:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ffe798bfb84798c4e81d41455e88fdc0166cdfd0', 'message': 'nova: Use FQDNs for nova-compute worker hostnames\n\nCurrently, nova-compute worker hostnames fallback to using the hostname\nof the host. This means that the compute service catalog only shows\nhostnames; however, the OpenStack hypervisor catalog shows FQDNs. This\nchange updates the Nova config file to use the hostname of the host and\nthe FQDN, when an FQDN is provided, for nova-compute worker hostnames.\n\nChange-Id: I126393039301f451f67866f6a2eca0485c372dd3\nSigned-off-by: Drew Walters <andrew.walters@att.com>\n'}, {'number': 3, 'created': '2019-10-09 18:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2eb392e520e574a1aa03650798aa2e1cb9a64c20', 'message': 'nova: Use FQDNs for nova-compute worker hostnames\n\nCurrently, nova-compute worker hostnames fallback to using the hostname\nof the host. This means that the compute service catalog only shows\nhostnames; however, the OpenStack hypervisor catalog shows FQDNs. This\nchange updates the Nova config file to use the hostname of the host and\nthe FQDN, when an FQDN is provided, for nova-compute worker hostnames.\n\nChange-Id: I126393039301f451f67866f6a2eca0485c372dd3\nSigned-off-by: Drew Walters <andrew.walters@att.com>\n'}, {'number': 4, 'created': '2019-10-31 18:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cedb6ef69300a094202a977cf6f95c0f73b3d932', 'message': 'nova: Use FQDNs for nova-compute worker hostnames\n\nCurrently, nova-compute worker hostnames fallback to using the hostname\nof the host. This means that the compute service catalog only shows\nhostnames; however, the OpenStack hypervisor catalog shows FQDNs. This\nchange updates the Nova config file to use the hostname of the host and\nthe FQDN, when an FQDN is provided, for nova-compute worker hostnames.\n\nChange-Id: I126393039301f451f67866f6a2eca0485c372dd3\nSigned-off-by: Drew Walters <andrew.walters@att.com>\n'}, {'number': 5, 'created': '2019-11-01 16:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b93b7249a01af79748683c33b49e34a6d57b8695', 'message': 'nova: Use FQDNs for nova-compute worker hostnames\n\nCurrently, nova-compute worker hostnames fallback to using the hostname\nof the host. This means that the compute service catalog only shows\nhostnames; however, the OpenStack hypervisor catalog shows FQDNs. This\nchange updates the Nova config file to use the hostname of the host and\nthe FQDN, when an FQDN is provided, for nova-compute worker hostnames.\n\nChange-Id: I126393039301f451f67866f6a2eca0485c372dd3\nSigned-off-by: Drew Walters <andrew.walters@att.com>\n'}, {'number': 6, 'created': '2019-11-01 16:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e34dcf21f15ae283329b668f1e1dc97b55217634', 'message': 'nova: Use FQDNs for nova-compute worker hostnames\n\nCurrently, nova-compute worker hostnames fallback to using the hostname\nof the host. This means that the compute service catalog only shows\nhostnames; however, the OpenStack hypervisor catalog shows FQDNs. This\nchange updates the Nova config file to use the hostname of the host and\nthe FQDN, when an FQDN is provided, for nova-compute worker hostnames.\n\nChange-Id: I126393039301f451f67866f6a2eca0485c372dd3\nSigned-off-by: Drew Walters <andrew.walters@att.com>\n'}, {'number': 7, 'created': '2019-11-01 21:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fb7a5d0e04d04f536448af5b157abe83bb4c957c', 'message': 'nova: Use FQDNs for nova-compute worker hostnames\n\nCurrently, nova-compute worker hostnames fallback to using the hostname\nof the host. This means that the compute service catalog only shows\nhostnames; however, the OpenStack hypervisor catalog shows FQDNs. This\nchange updates the Nova config file to use the hostname of the host and\nthe FQDN, when an FQDN is provided, for nova-compute worker hostnames.\n\nChange-Id: I126393039301f451f67866f6a2eca0485c372dd3\nSigned-off-by: Drew Walters <andrew.walters@att.com>\n'}, {'number': 8, 'created': '2019-12-10 16:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c8387a5eea6e44da0661a6fe127aafd555c9346e', 'message': 'nova: Use FQDNs for nova-compute worker hostnames\n\nCurrently, nova-compute worker hostnames fallback to using the hostname\nof the host. This means that the compute service catalog only shows\nhostnames; however, the OpenStack hypervisor catalog shows FQDNs. This\nchange updates the Nova config file to use the hostname of the host and\nthe FQDN, when an FQDN is provided, for nova-compute worker hostnames.\n\nChange-Id: I126393039301f451f67866f6a2eca0485c372dd3\nSigned-off-by: Drew Walters <andrew.walters@att.com>\n'}, {'number': 9, 'created': '2019-12-17 16:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c83c9d653594fe9b66b75cba1e2efb1e85597b29', 'message': 'nova: Use FQDNs for nova-compute worker hostnames\n\nCurrently, nova-compute worker hostnames fallback to using the hostname\nof the host. This means that the compute service catalog only shows\nhostnames; however, the OpenStack hypervisor catalog shows FQDNs. This\nchange updates the Nova config file to use the hostname of the host and\nthe FQDN, when an FQDN is provided, for nova-compute worker hostnames.\n\nChange-Id: I126393039301f451f67866f6a2eca0485c372dd3\nSigned-off-by: Drew Walters <andrew.walters@att.com>\n'}, {'number': 10, 'created': '2019-12-18 07:08:34.000000000', 'files': ['nova/templates/bin/_nova-compute-init.sh.tpl', 'nova/templates/bin/_nova-compute.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8ccaec43d14dbc409c0c766a5616acd30cc4ac7b', 'message': 'nova: Use FQDNs for nova-compute worker hostnames\n\nCurrently, nova-compute worker hostnames fallback to using the hostname\nof the host. This means that the compute service catalog only shows\nhostnames; however, the OpenStack hypervisor catalog shows FQDNs. This\nchange updates the Nova config file to use the hostname of the host and\nthe FQDN, when an FQDN is provided, for nova-compute worker hostnames.\n\nChange-Id: I126393039301f451f67866f6a2eca0485c372dd3\nSigned-off-by: Drew Walters <andrew.walters@att.com>\n'}]",11,687628,8ccaec43d14dbc409c0c766a5616acd30cc4ac7b,32,4,10,28618,,,0,"nova: Use FQDNs for nova-compute worker hostnames

Currently, nova-compute worker hostnames fallback to using the hostname
of the host. This means that the compute service catalog only shows
hostnames; however, the OpenStack hypervisor catalog shows FQDNs. This
change updates the Nova config file to use the hostname of the host and
the FQDN, when an FQDN is provided, for nova-compute worker hostnames.

Change-Id: I126393039301f451f67866f6a2eca0485c372dd3
Signed-off-by: Drew Walters <andrew.walters@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/28/687628/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/templates/bin/_nova-compute-init.sh.tpl'],1,8d192962392d4d4c9a7c63255d6f0dce9d404c39,," {{ if .Values.endpoints.compute.host_fqdn_override.default }} tee >> /etc/nova/nova.conf << EOF host = ""$(hostname).{{ .Values.endpoints.compute.host_fqdn_override }}"" EOF",,5,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I513e6564d18c7fe1c1e5dd63f164f3b5042cacf4,openstack/tripleo-heat-templates,stable/queens,I513e6564d18c7fe1c1e5dd63f164f3b5042cacf4,Provide utility to generate NodeDataLookup from Ironic,MERGED,2019-12-19 17:26:20.000000000,2019-12-20 22:33:40.000000000,2019-12-20 22:33:40.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-12-19 17:26:20.000000000', 'files': ['tools/make_ceph_disk_list.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/16393095485b37602e63e89a57da1edc176ec6ea', 'message': 'Provide utility to generate NodeDataLookup from Ironic\n\nAdd small python program to tools directory for deployers\nwhich generates a THT environment file containing valid\nJSON to be used with NodeDataLookup. Uses ironic generated\ndata as input.\n\nTools like this end up getting written in the field after\ndeployers experience failures. Better to provide them an\nofficial tool up front to solve this problem so they do\nnot have a bad experience.\n\nChange-Id: I513e6564d18c7fe1c1e5dd63f164f3b5042cacf4\nCloses-bug: #1854214\n(cherry picked from commit fb8009458c949c3815256d126a483d47dae90b18)\n'}]",0,700038,16393095485b37602e63e89a57da1edc176ec6ea,9,4,1,18002,,,0,"Provide utility to generate NodeDataLookup from Ironic

Add small python program to tools directory for deployers
which generates a THT environment file containing valid
JSON to be used with NodeDataLookup. Uses ironic generated
data as input.

Tools like this end up getting written in the field after
deployers experience failures. Better to provide them an
official tool up front to solve this problem so they do
not have a bad experience.

Change-Id: I513e6564d18c7fe1c1e5dd63f164f3b5042cacf4
Closes-bug: #1854214
(cherry picked from commit fb8009458c949c3815256d126a483d47dae90b18)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/700038/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/make_ceph_disk_list.py'],1,16393095485b37602e63e89a57da1edc176ec6ea,bug/1854214,"#!/usr/bin/env python3 # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import argparse import json import sys def parse_opts(argv): parser = argparse.ArgumentParser( description='Create JSON environment file with NodeDataLookup for ' 'all disks (except root disk) found in introspection data. ' 'May be run for each CephStorage node. ' 'Converts the output of `openstack baremetal introspection ' 'data save <node>` into a Heat environment file to be ' 'passed to `openstack overcloud deploy` such that ' 'all discovered disks will be configured as Ceph OSDs.') parser.add_argument('-i', '--introspection-data', metavar='INTROSPECTION_DATA', nargs='+', help=""Relative path to the JSON file(s) produced "" ""by `openstack baremetal introspection data save <node>` for "" ""each node; e.g. '-i node0.json node1.json ... nodeN.json'"", required=True) parser.add_argument('-o', '--tht-env-file', metavar='THT_ENV_FILE', help=(""Relative path to the tripleo-heat-template (THT) "" ""environment JSON file to be produced by this tool. "" ""Default: node_data_lookup.json"")) parser.add_argument('-k', '--key', metavar='KEY', help=(""Key of ironic disk data structure to use to identify "" ""disk. Must be one of name, wwn, serial, by_path "" ""default: by_path""), default='by_path', choices=['name', 'wwn', 'serial', 'by_path']) parser.add_argument('-e', '--exclude-list', metavar='EXCLUDES', nargs='*', help=(""List of devices to exclude identified "" ""by value mapped by key; e.g. if '-k name' "" ""and '-e /dev/sdb /dev/sdc' is passed, then "" ""sdb and sdc will not be in the output file""), default=[]) opts = parser.parse_args(argv[1:]) return opts def parse_ironic(ironic_file): """"""Extracts relevant data from each ironic input file """""" with open(ironic_file, 'r') as f: try: ironic = json.load(f) except Exception: raise RuntimeError( 'Invalid JSON file: {ironic_data_file}'.format( ironic_data_file=ironic_file)) try: uuid = ironic['extra']['system']['product']['uuid'] except Exception: raise RuntimeError( 'The Machine Unique UUID is not defined in ' 'data file: {ironic_data_file}'.format( ironic_data_file=ironic_file)) try: disks = ironic['inventory']['disks'] except Exception: raise RuntimeError( 'No disks were found in ' 'data file: {ironic_data_file}'.format( ironic_data_file=ironic_file)) try: root_disk = ironic['root_disk'] except Exception: raise RuntimeError( 'No root disk was found in ' 'data file: {ironic_data_file}'.format( ironic_data_file=ironic_file)) return uuid.lower(), root_disk, disks def get_devices_list(root_disk, disks, ironic_file): """"""returns devices list without root disk and other excludes based on key """""" if root_disk[OPTS.key] is None: raise RuntimeError( 'The requested --key ""{key}"" for the root disk is not defined ' 'in data file: {ironic_data_file}. Please use a different key.' .format(key=OPTS.key, ironic_data_file=ironic_file)) exclude = OPTS.exclude_list # by default the root disk is excluded as it cannot be an OSD exclude.append(root_disk[OPTS.key]) devices = [] for disk_dict in disks: if disk_dict[OPTS.key] not in exclude: devices.append(disk_dict[OPTS.key]) return devices def wrap_node_data_lookup(uuid_to_devices): """"""given a uuid to devices map, returns dictionary like the following: {'parameter_defaults': {'NodeDataLookup': {'32e87b4c-c4a7-41be-865b-191684a6883b': {'devices': ['/dev/sdc']}}, {'ea6a84d6-cf89-4fe2-b7bd-869b3fe4dd6b': {'devices': ['/dev/sdc']}}}} """""" node_data_lookup = {} node_data_lookup['NodeDataLookup'] = uuid_to_devices output = {} output['parameter_defaults'] = node_data_lookup return output def write_to_file(node_data_lookup): """"""Writes THT env file in JSON containing NodeDataLookup To node_data_lookup.json or <file>.json if '-o <file>' """""" if OPTS.tht_env_file: file_name = OPTS.tht_env_file else: file_name = 'node_data_lookup.json' with open(file_name, 'w') as outfile: json.dump(node_data_lookup, outfile, indent=2) OPTS = parse_opts(sys.argv) node_data_lookup = {} for ironic_data in OPTS.introspection_data: uuid, root_disk, disks = parse_ironic(ironic_data) devices = get_devices_list(root_disk, disks, ironic_data) devices_map = {} devices_map['devices'] = devices node_data_lookup[uuid] = devices_map write_to_file(wrap_node_data_lookup(node_data_lookup)) ",,141,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I513e6564d18c7fe1c1e5dd63f164f3b5042cacf4,openstack/tripleo-heat-templates,stable/stein,I513e6564d18c7fe1c1e5dd63f164f3b5042cacf4,Provide utility to generate NodeDataLookup from Ironic,MERGED,2019-12-19 17:26:06.000000000,2019-12-20 22:33:39.000000000,2019-12-20 22:33:39.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-12-19 17:26:06.000000000', 'files': ['tools/make_ceph_disk_list.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/66645d5ff610ed0179c5a840f873698f1dbf6a24', 'message': 'Provide utility to generate NodeDataLookup from Ironic\n\nAdd small python program to tools directory for deployers\nwhich generates a THT environment file containing valid\nJSON to be used with NodeDataLookup. Uses ironic generated\ndata as input.\n\nTools like this end up getting written in the field after\ndeployers experience failures. Better to provide them an\nofficial tool up front to solve this problem so they do\nnot have a bad experience.\n\nChange-Id: I513e6564d18c7fe1c1e5dd63f164f3b5042cacf4\nCloses-bug: #1854214\n(cherry picked from commit fb8009458c949c3815256d126a483d47dae90b18)\n'}]",0,700036,66645d5ff610ed0179c5a840f873698f1dbf6a24,10,4,1,18002,,,0,"Provide utility to generate NodeDataLookup from Ironic

Add small python program to tools directory for deployers
which generates a THT environment file containing valid
JSON to be used with NodeDataLookup. Uses ironic generated
data as input.

Tools like this end up getting written in the field after
deployers experience failures. Better to provide them an
official tool up front to solve this problem so they do
not have a bad experience.

Change-Id: I513e6564d18c7fe1c1e5dd63f164f3b5042cacf4
Closes-bug: #1854214
(cherry picked from commit fb8009458c949c3815256d126a483d47dae90b18)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/700036/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/make_ceph_disk_list.py'],1,66645d5ff610ed0179c5a840f873698f1dbf6a24,bug/1854214,"#!/usr/bin/env python3 # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import argparse import json import sys def parse_opts(argv): parser = argparse.ArgumentParser( description='Create JSON environment file with NodeDataLookup for ' 'all disks (except root disk) found in introspection data. ' 'May be run for each CephStorage node. ' 'Converts the output of `openstack baremetal introspection ' 'data save <node>` into a Heat environment file to be ' 'passed to `openstack overcloud deploy` such that ' 'all discovered disks will be configured as Ceph OSDs.') parser.add_argument('-i', '--introspection-data', metavar='INTROSPECTION_DATA', nargs='+', help=""Relative path to the JSON file(s) produced "" ""by `openstack baremetal introspection data save <node>` for "" ""each node; e.g. '-i node0.json node1.json ... nodeN.json'"", required=True) parser.add_argument('-o', '--tht-env-file', metavar='THT_ENV_FILE', help=(""Relative path to the tripleo-heat-template (THT) "" ""environment JSON file to be produced by this tool. "" ""Default: node_data_lookup.json"")) parser.add_argument('-k', '--key', metavar='KEY', help=(""Key of ironic disk data structure to use to identify "" ""disk. Must be one of name, wwn, serial, by_path "" ""default: by_path""), default='by_path', choices=['name', 'wwn', 'serial', 'by_path']) parser.add_argument('-e', '--exclude-list', metavar='EXCLUDES', nargs='*', help=(""List of devices to exclude identified "" ""by value mapped by key; e.g. if '-k name' "" ""and '-e /dev/sdb /dev/sdc' is passed, then "" ""sdb and sdc will not be in the output file""), default=[]) opts = parser.parse_args(argv[1:]) return opts def parse_ironic(ironic_file): """"""Extracts relevant data from each ironic input file """""" with open(ironic_file, 'r') as f: try: ironic = json.load(f) except Exception: raise RuntimeError( 'Invalid JSON file: {ironic_data_file}'.format( ironic_data_file=ironic_file)) try: uuid = ironic['extra']['system']['product']['uuid'] except Exception: raise RuntimeError( 'The Machine Unique UUID is not defined in ' 'data file: {ironic_data_file}'.format( ironic_data_file=ironic_file)) try: disks = ironic['inventory']['disks'] except Exception: raise RuntimeError( 'No disks were found in ' 'data file: {ironic_data_file}'.format( ironic_data_file=ironic_file)) try: root_disk = ironic['root_disk'] except Exception: raise RuntimeError( 'No root disk was found in ' 'data file: {ironic_data_file}'.format( ironic_data_file=ironic_file)) return uuid.lower(), root_disk, disks def get_devices_list(root_disk, disks, ironic_file): """"""returns devices list without root disk and other excludes based on key """""" if root_disk[OPTS.key] is None: raise RuntimeError( 'The requested --key ""{key}"" for the root disk is not defined ' 'in data file: {ironic_data_file}. Please use a different key.' .format(key=OPTS.key, ironic_data_file=ironic_file)) exclude = OPTS.exclude_list # by default the root disk is excluded as it cannot be an OSD exclude.append(root_disk[OPTS.key]) devices = [] for disk_dict in disks: if disk_dict[OPTS.key] not in exclude: devices.append(disk_dict[OPTS.key]) return devices def wrap_node_data_lookup(uuid_to_devices): """"""given a uuid to devices map, returns dictionary like the following: {'parameter_defaults': {'NodeDataLookup': {'32e87b4c-c4a7-41be-865b-191684a6883b': {'devices': ['/dev/sdc']}}, {'ea6a84d6-cf89-4fe2-b7bd-869b3fe4dd6b': {'devices': ['/dev/sdc']}}}} """""" node_data_lookup = {} node_data_lookup['NodeDataLookup'] = uuid_to_devices output = {} output['parameter_defaults'] = node_data_lookup return output def write_to_file(node_data_lookup): """"""Writes THT env file in JSON containing NodeDataLookup To node_data_lookup.json or <file>.json if '-o <file>' """""" if OPTS.tht_env_file: file_name = OPTS.tht_env_file else: file_name = 'node_data_lookup.json' with open(file_name, 'w') as outfile: json.dump(node_data_lookup, outfile, indent=2) OPTS = parse_opts(sys.argv) node_data_lookup = {} for ironic_data in OPTS.introspection_data: uuid, root_disk, disks = parse_ironic(ironic_data) devices = get_devices_list(root_disk, disks, ironic_data) devices_map = {} devices_map['devices'] = devices node_data_lookup[uuid] = devices_map write_to_file(wrap_node_data_lookup(node_data_lookup)) ",,141,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I513e6564d18c7fe1c1e5dd63f164f3b5042cacf4,openstack/tripleo-heat-templates,stable/train,I513e6564d18c7fe1c1e5dd63f164f3b5042cacf4,Provide utility to generate NodeDataLookup from Ironic,MERGED,2019-12-19 17:25:56.000000000,2019-12-20 22:33:37.000000000,2019-12-20 22:33:37.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-12-19 17:25:56.000000000', 'files': ['tools/make_ceph_disk_list.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c9dd7ebcf12f8ff3131ed6858724b4d99d40ea17', 'message': 'Provide utility to generate NodeDataLookup from Ironic\n\nAdd small python program to tools directory for deployers\nwhich generates a THT environment file containing valid\nJSON to be used with NodeDataLookup. Uses ironic generated\ndata as input.\n\nTools like this end up getting written in the field after\ndeployers experience failures. Better to provide them an\nofficial tool up front to solve this problem so they do\nnot have a bad experience.\n\nChange-Id: I513e6564d18c7fe1c1e5dd63f164f3b5042cacf4\nCloses-bug: #1854214\n(cherry picked from commit fb8009458c949c3815256d126a483d47dae90b18)\n'}]",0,700035,c9dd7ebcf12f8ff3131ed6858724b4d99d40ea17,10,4,1,18002,,,0,"Provide utility to generate NodeDataLookup from Ironic

Add small python program to tools directory for deployers
which generates a THT environment file containing valid
JSON to be used with NodeDataLookup. Uses ironic generated
data as input.

Tools like this end up getting written in the field after
deployers experience failures. Better to provide them an
official tool up front to solve this problem so they do
not have a bad experience.

Change-Id: I513e6564d18c7fe1c1e5dd63f164f3b5042cacf4
Closes-bug: #1854214
(cherry picked from commit fb8009458c949c3815256d126a483d47dae90b18)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/700035/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/make_ceph_disk_list.py'],1,c9dd7ebcf12f8ff3131ed6858724b4d99d40ea17,bug/1854214,"#!/usr/bin/env python3 # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import argparse import json import sys def parse_opts(argv): parser = argparse.ArgumentParser( description='Create JSON environment file with NodeDataLookup for ' 'all disks (except root disk) found in introspection data. ' 'May be run for each CephStorage node. ' 'Converts the output of `openstack baremetal introspection ' 'data save <node>` into a Heat environment file to be ' 'passed to `openstack overcloud deploy` such that ' 'all discovered disks will be configured as Ceph OSDs.') parser.add_argument('-i', '--introspection-data', metavar='INTROSPECTION_DATA', nargs='+', help=""Relative path to the JSON file(s) produced "" ""by `openstack baremetal introspection data save <node>` for "" ""each node; e.g. '-i node0.json node1.json ... nodeN.json'"", required=True) parser.add_argument('-o', '--tht-env-file', metavar='THT_ENV_FILE', help=(""Relative path to the tripleo-heat-template (THT) "" ""environment JSON file to be produced by this tool. "" ""Default: node_data_lookup.json"")) parser.add_argument('-k', '--key', metavar='KEY', help=(""Key of ironic disk data structure to use to identify "" ""disk. Must be one of name, wwn, serial, by_path "" ""default: by_path""), default='by_path', choices=['name', 'wwn', 'serial', 'by_path']) parser.add_argument('-e', '--exclude-list', metavar='EXCLUDES', nargs='*', help=(""List of devices to exclude identified "" ""by value mapped by key; e.g. if '-k name' "" ""and '-e /dev/sdb /dev/sdc' is passed, then "" ""sdb and sdc will not be in the output file""), default=[]) opts = parser.parse_args(argv[1:]) return opts def parse_ironic(ironic_file): """"""Extracts relevant data from each ironic input file """""" with open(ironic_file, 'r') as f: try: ironic = json.load(f) except Exception: raise RuntimeError( 'Invalid JSON file: {ironic_data_file}'.format( ironic_data_file=ironic_file)) try: uuid = ironic['extra']['system']['product']['uuid'] except Exception: raise RuntimeError( 'The Machine Unique UUID is not defined in ' 'data file: {ironic_data_file}'.format( ironic_data_file=ironic_file)) try: disks = ironic['inventory']['disks'] except Exception: raise RuntimeError( 'No disks were found in ' 'data file: {ironic_data_file}'.format( ironic_data_file=ironic_file)) try: root_disk = ironic['root_disk'] except Exception: raise RuntimeError( 'No root disk was found in ' 'data file: {ironic_data_file}'.format( ironic_data_file=ironic_file)) return uuid.lower(), root_disk, disks def get_devices_list(root_disk, disks, ironic_file): """"""returns devices list without root disk and other excludes based on key """""" if root_disk[OPTS.key] is None: raise RuntimeError( 'The requested --key ""{key}"" for the root disk is not defined ' 'in data file: {ironic_data_file}. Please use a different key.' .format(key=OPTS.key, ironic_data_file=ironic_file)) exclude = OPTS.exclude_list # by default the root disk is excluded as it cannot be an OSD exclude.append(root_disk[OPTS.key]) devices = [] for disk_dict in disks: if disk_dict[OPTS.key] not in exclude: devices.append(disk_dict[OPTS.key]) return devices def wrap_node_data_lookup(uuid_to_devices): """"""given a uuid to devices map, returns dictionary like the following: {'parameter_defaults': {'NodeDataLookup': {'32e87b4c-c4a7-41be-865b-191684a6883b': {'devices': ['/dev/sdc']}}, {'ea6a84d6-cf89-4fe2-b7bd-869b3fe4dd6b': {'devices': ['/dev/sdc']}}}} """""" node_data_lookup = {} node_data_lookup['NodeDataLookup'] = uuid_to_devices output = {} output['parameter_defaults'] = node_data_lookup return output def write_to_file(node_data_lookup): """"""Writes THT env file in JSON containing NodeDataLookup To node_data_lookup.json or <file>.json if '-o <file>' """""" if OPTS.tht_env_file: file_name = OPTS.tht_env_file else: file_name = 'node_data_lookup.json' with open(file_name, 'w') as outfile: json.dump(node_data_lookup, outfile, indent=2) OPTS = parse_opts(sys.argv) node_data_lookup = {} for ironic_data in OPTS.introspection_data: uuid, root_disk, disks = parse_ironic(ironic_data) devices = get_devices_list(root_disk, disks, ironic_data) devices_map = {} devices_map['devices'] = devices node_data_lookup[uuid] = devices_map write_to_file(wrap_node_data_lookup(node_data_lookup)) ",,141,0
openstack%2Fnova~master~I9562e1bcbb18c7d543d5a6b36011fa28c13dfa79,openstack/nova,master,I9562e1bcbb18c7d543d5a6b36011fa28c13dfa79,FakeDriver: adding and removing instances on live migration.,MERGED,2015-11-10 14:13:34.000000000,2019-12-20 22:25:32.000000000,2019-12-20 21:18:07.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 14980}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2015-11-10 14:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/626713f25eef4fef58ecfd5460f4f4599a6952a2', 'message': 'FakeDriver: adding and removing instances on live migration.\n\nThere was no code in FakeDriver that updated the internal\ndict `self.instances` when a FakeInstance was live migrated.\nThis commit fills this gap.\n\nCloses-Bug: 1426433\n\nChange-Id: I9562e1bcbb18c7d543d5a6b36011fa28c13dfa79\nSigned-off-by: Lorenzo Affetti <lorenzo.affetti@gmail.com>\n'}, {'number': 2, 'created': '2015-11-11 14:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/142adf0d7e6308456eace0d42e2eb1a5bf484af9', 'message': 'FakeDriver: adding and removing instances on live migration.\n\nThere was no code in FakeDriver that updated the internal\ndict `self.instances` when a FakeInstance was live migrated.\nThis commit fills this gap.\n\nCloses-Bug: 1426433\n\nChange-Id: I9562e1bcbb18c7d543d5a6b36011fa28c13dfa79\nSigned-off-by: Lorenzo Affetti <lorenzo.affetti@gmail.com>\n'}, {'number': 3, 'created': '2015-11-11 16:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad3281ef05881901103e3ffed33734d9938a2c0d', 'message': 'FakeDriver: adding and removing instances on live migration.\n\nThere was no code in FakeDriver that updated the internal\ndict `self.instances` when a FakeInstance was live migrated.\nThis commit fills this gap.\n\nCloses-Bug: 1426433\n\nChange-Id: I9562e1bcbb18c7d543d5a6b36011fa28c13dfa79\n'}, {'number': 4, 'created': '2018-08-08 19:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0437082d1eb66cb56a2bd7184694cdce68c10815', 'message': 'FakeDriver: adding and removing instances on live migration.\n\nThere was no code in FakeDriver that updated the internal\ndict `self.instances` when a FakeInstance was live migrated.\nThis commit fills this gap. As a result, a couple of versioned\nnotification samples get updated since we are now properly\ntracking a live migrated instance on the destination host as\nrunning vs pending power state.\n\nCloses-Bug: 1426433\n\nChange-Id: I9562e1bcbb18c7d543d5a6b36011fa28c13dfa79\n'}, {'number': 5, 'created': '2019-10-22 18:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc10843354306c220f30a4d3e4076f187aa88712', 'message': 'FakeDriver: adding and removing instances on live migration.\n\nThere was no code in FakeDriver that updated the internal\ndict `self.instances` when a FakeInstance was live migrated.\nThis commit fills this gap. As a result, a couple of versioned\nnotification samples get updated since we are now properly\ntracking a live migrated instance on the destination host as\nrunning vs pending power state.\n\nCloses-Bug: 1426433\n\nChange-Id: I9562e1bcbb18c7d543d5a6b36011fa28c13dfa79\n'}, {'number': 6, 'created': '2019-12-20 10:59:06.000000000', 'files': ['doc/notification_samples/instance-evacuate.json', 'nova/virt/fake.py', 'doc/notification_samples/instance-live_migration_post_dest-end.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/14342d629b714f172545f133314b5ce584503cae', 'message': 'FakeDriver: adding and removing instances on live migration.\n\nThere was no code in FakeDriver that updated the internal\ndict `self.instances` when a FakeInstance was live migrated.\nThis commit fills this gap. As a result, a couple of versioned\nnotification samples get updated since we are now properly\ntracking a live migrated instance on the destination host as\nrunning vs pending power state.\n\nCloses-Bug: 1426433\n\nChange-Id: I9562e1bcbb18c7d543d5a6b36011fa28c13dfa79\n'}]",3,243613,14342d629b714f172545f133314b5ce584503cae,94,24,6,14980,,,0,"FakeDriver: adding and removing instances on live migration.

There was no code in FakeDriver that updated the internal
dict `self.instances` when a FakeInstance was live migrated.
This commit fills this gap. As a result, a couple of versioned
notification samples get updated since we are now properly
tracking a live migrated instance on the destination host as
running vs pending power state.

Closes-Bug: 1426433

Change-Id: I9562e1bcbb18c7d543d5a6b36011fa28c13dfa79
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/243613/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/fake.py'],1,626713f25eef4fef58ecfd5460f4f4599a6952a2,bug/1426433," name = instance['name'] state = power_state.RUNNING fake_instance = FakeInstance(name, state, instance['uuid']) self.instances[name] = fake_instance name = instance['name'] del self.instances[name]", pass,6,1
openstack%2Ftripleo-heat-templates~stable%2Frocky~I1adb886405cde6b6e0b5f25a735e36114cd1787b,openstack/tripleo-heat-templates,stable/rocky,I1adb886405cde6b6e0b5f25a735e36114cd1787b,Add Octavia anti-affinity parameters,MERGED,2019-12-10 13:57:46.000000000,2019-12-20 22:16:56.000000000,2019-12-20 22:15:12.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-10 13:57:46.000000000', 'files': ['releasenotes/notes/add-octavia-anti-affinity-parameters-fe9222f17b16ee1f.yaml', 'puppet/services/octavia-controller.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0486e56a79c786521dec83b598149adfe44c3310', 'message': ""Add Octavia anti-affinity parameters\n\nThis patch adds the following parameter for Octavia:\n\n1. OctaviaAntiAffinity\n\nThe default value is 'true' as is a best practice for production\ndeployments.\n\nDepends-On: https://review.opendev.org/696965/\nChange-Id: I1adb886405cde6b6e0b5f25a735e36114cd1787b\n(cherry picked from commit 7f8a565ea88b1058543fdbb2d1fb76d04c9cfebd)\n(cherry picked from commit ef66a0f4f56b4e7ccb916ef7e69f4cc24315a945)\n(cherry picked from commit 0c7b4629e2b6ad02be0b5a07a178206784bf5836)\n""}]",0,698249,0486e56a79c786521dec83b598149adfe44c3310,13,5,1,6469,,,0,"Add Octavia anti-affinity parameters

This patch adds the following parameter for Octavia:

1. OctaviaAntiAffinity

The default value is 'true' as is a best practice for production
deployments.

Depends-On: https://review.opendev.org/696965/
Change-Id: I1adb886405cde6b6e0b5f25a735e36114cd1787b
(cherry picked from commit 7f8a565ea88b1058543fdbb2d1fb76d04c9cfebd)
(cherry picked from commit ef66a0f4f56b4e7ccb916ef7e69f4cc24315a945)
(cherry picked from commit 0c7b4629e2b6ad02be0b5a07a178206784bf5836)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/698249/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-octavia-anti-affinity-parameters-fe9222f17b16ee1f.yaml', 'puppet/services/octavia-controller.yaml']",2,0486e56a79c786521dec83b598149adfe44c3310,octavia-anit-affinity, OctaviaAntiAffinity: default: true description: Flag to indicate if anti-affinity feature is turned on. type: boolean octavia::controller::enable_anti_affinity: {get_param: OctaviaAntiAffinity},,9,0
openstack%2Fswift~master~I5b391664b9260c762bd122a92387084c0582a362,openstack/swift,master,I5b391664b9260c762bd122a92387084c0582a362,py3: Clean up some needlessly-noisy tracebacks,MERGED,2019-12-20 06:10:23.000000000,2019-12-20 21:19:45.000000000,2019-12-20 21:18:11.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-20 06:10:23.000000000', 'files': ['swift/common/middleware/crypto/encrypter.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/54312b0b79ef2517f87a84a101507038d833104f', 'message': 'py3: Clean up some needlessly-noisy tracebacks\n\nChange-Id: I5b391664b9260c762bd122a92387084c0582a362\nRelated-Change: I5f3bc6416207cab2c7e3a77ee6689360b55990e7\n'}]",0,700111,54312b0b79ef2517f87a84a101507038d833104f,7,2,1,15343,,,0,"py3: Clean up some needlessly-noisy tracebacks

Change-Id: I5b391664b9260c762bd122a92387084c0582a362
Related-Change: I5f3bc6416207cab2c7e3a77ee6689360b55990e7
",git fetch https://review.opendev.org/openstack/swift refs/changes/11/700111/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/crypto/encrypter.py'],1,54312b0b79ef2517f87a84a101507038d833104f,, is_object_request = True except ValueError: is_object_request = False if not is_object_request:, except ValueError:,3,0
openstack%2Fkolla-ansible~stable%2Frocky~I566d6cac0b6749054fd5422ec8f36f99dacb1db7,openstack/kolla-ansible,stable/rocky,I566d6cac0b6749054fd5422ec8f36f99dacb1db7,Fix fluentd parsing of WSGI logs,MERGED,2019-12-18 17:51:12.000000000,2019-12-20 21:18:38.000000000,2019-12-20 21:17:02.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-12-18 17:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/29ab961816947d90d1a541a8e270cc7453f2eff0', 'message': 'Fix fluentd parsing of WSGI logs\n\nWSGI log files use a different input configuration than OpenStack log\nfiles. Currently this depends on log files matching either *-access.log\nor *-error.log. Some services use *_access.log or *_error.log, so are\nnot parsed correctly.\n\nThis change modifies the fluentd configuration to accept an underscore\nor hyphen for WSGI log file names.\n\nChange-Id: I566d6cac0b6749054fd5422ec8f36f99dacb1db7\nCloses-Bug: #1720371\n(cherry picked from commit a32cddca4974b9ee43c91544be19014a9748c450)\n'}, {'number': 2, 'created': '2019-12-20 18:38:16.000000000', 'files': ['ansible/roles/common/templates/conf/input/04-openstack-wsgi.conf.j2', 'ansible/roles/common/templates/conf/input/00-global.conf.j2', 'releasenotes/notes/fix-wsgi-log-collection-c9f347096394df5c.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1a8ed92f5cf084f527ea78cfb349e10e2f4559e7', 'message': 'Fix fluentd parsing of WSGI logs\n\nWSGI log files use a different input configuration than OpenStack log\nfiles. Currently this depends on log files matching either *-access.log\nor *-error.log. Some services use *_access.log or *_error.log, so are\nnot parsed correctly.\n\nThis change modifies the fluentd configuration to accept an underscore\nor hyphen for WSGI log file names.\n\nChange-Id: I566d6cac0b6749054fd5422ec8f36f99dacb1db7\nCloses-Bug: #1720371\n(cherry picked from commit a32cddca4974b9ee43c91544be19014a9748c450)\n'}]",0,699742,1a8ed92f5cf084f527ea78cfb349e10e2f4559e7,10,4,2,17669,,,0,"Fix fluentd parsing of WSGI logs

WSGI log files use a different input configuration than OpenStack log
files. Currently this depends on log files matching either *-access.log
or *-error.log. Some services use *_access.log or *_error.log, so are
not parsed correctly.

This change modifies the fluentd configuration to accept an underscore
or hyphen for WSGI log file names.

Change-Id: I566d6cac0b6749054fd5422ec8f36f99dacb1db7
Closes-Bug: #1720371
(cherry picked from commit a32cddca4974b9ee43c91544be19014a9748c450)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/42/699742/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/conf/input/04-openstack-wsgi.conf.j2', 'ansible/roles/common/templates/conf/input/00-global.conf.j2', 'releasenotes/notes/fix-wsgi-log-collection-c9f347096394df5c.yaml']",3,29ab961816947d90d1a541a8e270cc7453f2eff0,bug/1720371,"--- fixes: - | Fixes an issue with fluentd parsing of WSGI logs for Aodh, Masakari, Qinling, Vitrage and Zun. See `bug 1720371 <https://bugs.launchpad.net/kolla-ansible/+bug/1720371>`__ for details. ",,9,1
openstack%2Fkolla-ansible~stable%2Fstein~I566d6cac0b6749054fd5422ec8f36f99dacb1db7,openstack/kolla-ansible,stable/stein,I566d6cac0b6749054fd5422ec8f36f99dacb1db7,Fix fluentd parsing of WSGI logs,MERGED,2019-12-18 17:49:47.000000000,2019-12-20 21:18:25.000000000,2019-12-20 21:17:01.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-12-18 17:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cf06af6c5f8c871f6e77d5175ea0cf0c7a88a176', 'message': 'Fix fluentd parsing of WSGI logs\n\nWSGI log files use a different input configuration than OpenStack log\nfiles. Currently this depends on log files matching either *-access.log\nor *-error.log. Some services use *_access.log or *_error.log, so are\nnot parsed correctly.\n\nThis change modifies the fluentd configuration to accept an underscore\nor hyphen for WSGI log file names.\n\nChange-Id: I566d6cac0b6749054fd5422ec8f36f99dacb1db7\nCloses-Bug: #1720371\n(cherry picked from commit a32cddca4974b9ee43c91544be19014a9748c450)\n'}, {'number': 2, 'created': '2019-12-20 18:37:00.000000000', 'files': ['ansible/roles/common/templates/conf/input/04-openstack-wsgi.conf.j2', 'ansible/roles/common/templates/conf/input/00-global.conf.j2', 'releasenotes/notes/fix-wsgi-log-collection-c9f347096394df5c.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e29501b507c4fb3e25e2ac07ab86214bbcdda24f', 'message': 'Fix fluentd parsing of WSGI logs\n\nWSGI log files use a different input configuration than OpenStack log\nfiles. Currently this depends on log files matching either *-access.log\nor *-error.log. Some services use *_access.log or *_error.log, so are\nnot parsed correctly.\n\nThis change modifies the fluentd configuration to accept an underscore\nor hyphen for WSGI log file names.\n\nChange-Id: I566d6cac0b6749054fd5422ec8f36f99dacb1db7\nCloses-Bug: #1720371\n(cherry picked from commit a32cddca4974b9ee43c91544be19014a9748c450)\n'}]",0,699741,e29501b507c4fb3e25e2ac07ab86214bbcdda24f,12,5,2,17669,,,0,"Fix fluentd parsing of WSGI logs

WSGI log files use a different input configuration than OpenStack log
files. Currently this depends on log files matching either *-access.log
or *-error.log. Some services use *_access.log or *_error.log, so are
not parsed correctly.

This change modifies the fluentd configuration to accept an underscore
or hyphen for WSGI log file names.

Change-Id: I566d6cac0b6749054fd5422ec8f36f99dacb1db7
Closes-Bug: #1720371
(cherry picked from commit a32cddca4974b9ee43c91544be19014a9748c450)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/41/699741/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/conf/input/04-openstack-wsgi.conf.j2', 'ansible/roles/common/templates/conf/input/00-global.conf.j2', 'releasenotes/notes/fix-wsgi-log-collection-c9f347096394df5c.yaml']",3,cf06af6c5f8c871f6e77d5175ea0cf0c7a88a176,bug/1720371,"--- fixes: - | Fixes an issue with fluentd parsing of WSGI logs for Aodh, Masakari, Qinling, Vitrage and Zun. See `bug 1720371 <https://bugs.launchpad.net/kolla-ansible/+bug/1720371>`__ for details. ",,9,1
openstack%2Fkayobe~master~I8ee7a008dc6dfc07f2fd079323d43a28f15ecb42,openstack/kayobe,master,I8ee7a008dc6dfc07f2fd079323d43a28f15ecb42,Update master for stable/train,MERGED,2019-12-20 16:49:23.000000000,2019-12-20 21:05:55.000000000,2019-12-20 21:04:30.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-20 16:49:23.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4acc1b64ecce062db583f4e27a9e143d48b9752c', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I8ee7a008dc6dfc07f2fd079323d43a28f15ecb42\nSem-Ver: feature\n'}]",0,700204,4acc1b64ecce062db583f4e27a9e143d48b9752c,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I8ee7a008dc6dfc07f2fd079323d43a28f15ecb42
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/04/700204/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,4acc1b64ecce062db583f4e27a9e143d48b9752c,reno-train, train,,7,0
openstack%2Fkayobe~stable%2Ftrain~Ie6eea2c5d99f07cc9a4ca7eba5bbb0a87e369bb7,openstack/kayobe,stable/train,Ie6eea2c5d99f07cc9a4ca7eba5bbb0a87e369bb7,Update .gitreview for stable/train,MERGED,2019-12-20 16:49:21.000000000,2019-12-20 21:05:53.000000000,2019-12-20 21:04:29.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-20 16:49:21.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/51fb5c68833775224e6141476f2f155921cb0b2d', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ie6eea2c5d99f07cc9a4ca7eba5bbb0a87e369bb7\n'}]",0,700203,51fb5c68833775224e6141476f2f155921cb0b2d,8,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ie6eea2c5d99f07cc9a4ca7eba5bbb0a87e369bb7
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/03/700203/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,51fb5c68833775224e6141476f2f155921cb0b2d,create-train,defaultbranch=stable/train,,1,0
openstack%2Fkayobe-config~stable%2Ftrain~Ieb8be326b4b404074e88538a5c0c629dbdd45c66,openstack/kayobe-config,stable/train,Ieb8be326b4b404074e88538a5c0c629dbdd45c66,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-12-20 16:49:27.000000000,2019-12-20 21:04:32.000000000,2019-12-20 21:04:32.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-20 16:49:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/1c5fa6329344c8c25951f9d56897196c3327b27b', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ieb8be326b4b404074e88538a5c0c629dbdd45c66\n'}]",0,700206,1c5fa6329344c8c25951f9d56897196c3327b27b,7,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ieb8be326b4b404074e88538a5c0c629dbdd45c66
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/06/700206/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1c5fa6329344c8c25951f9d56897196c3327b27b,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fkayobe-config-dev~stable%2Ftrain~Ib1b98ebb7422bd817ac07c5d17057d2125ec2fef,openstack/kayobe-config-dev,stable/train,Ib1b98ebb7422bd817ac07c5d17057d2125ec2fef,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-12-20 16:49:32.000000000,2019-12-20 21:04:31.000000000,2019-12-20 21:04:31.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-20 16:49:32.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/9ad705ff57828da832047a0174a33bff4aef16e7', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ib1b98ebb7422bd817ac07c5d17057d2125ec2fef\n'}]",0,700208,9ad705ff57828da832047a0174a33bff4aef16e7,7,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ib1b98ebb7422bd817ac07c5d17057d2125ec2fef
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/08/700208/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9ad705ff57828da832047a0174a33bff4aef16e7,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fkayobe-config~stable%2Ftrain~Ibeb675d1536ec7bd2970d6974c11b3808d3b1886,openstack/kayobe-config,stable/train,Ibeb675d1536ec7bd2970d6974c11b3808d3b1886,Update .gitreview for stable/train,MERGED,2019-12-20 16:49:26.000000000,2019-12-20 21:04:31.000000000,2019-12-20 21:04:31.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-20 16:49:26.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/d4b0fd2910e16d8d4068f54a82619d7b825e6937', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ibeb675d1536ec7bd2970d6974c11b3808d3b1886\n'}]",0,700205,d4b0fd2910e16d8d4068f54a82619d7b825e6937,7,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ibeb675d1536ec7bd2970d6974c11b3808d3b1886
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/05/700205/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,d4b0fd2910e16d8d4068f54a82619d7b825e6937,create-train,defaultbranch=stable/train,,1,0
openstack%2Fkayobe-config-dev~stable%2Ftrain~If4986d8f73438d12f3ef12a43af72b91e8032aa9,openstack/kayobe-config-dev,stable/train,If4986d8f73438d12f3ef12a43af72b91e8032aa9,Update .gitreview for stable/train,MERGED,2019-12-20 16:49:31.000000000,2019-12-20 21:04:30.000000000,2019-12-20 21:04:29.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-20 16:49:31.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/65cf913a4c7689423032ad03e78c8e6907692e7d', 'message': 'Update .gitreview for stable/train\n\nChange-Id: If4986d8f73438d12f3ef12a43af72b91e8032aa9\n'}]",0,700207,65cf913a4c7689423032ad03e78c8e6907692e7d,7,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: If4986d8f73438d12f3ef12a43af72b91e8032aa9
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/07/700207/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,65cf913a4c7689423032ad03e78c8e6907692e7d,create-train,defaultbranch=stable/train,,1,0
openstack%2Frpm-packaging~stable%2Ftrain~I523431cd6339281b33c97fcfa06993331d5afba7,openstack/rpm-packaging,stable/train,I523431cd6339281b33c97fcfa06993331d5afba7,add X.509 certificate check plugin for monasca-agent,MERGED,2019-12-12 16:25:07.000000000,2019-12-20 21:00:09.000000000,2019-12-20 21:00:09.000000000,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-12 16:25:07.000000000', 'files': ['openstack/monasca-agent/monasca-agent.spec.j2', 'openstack/monasca-agent/0001-add-X.509-certificate-check-plugin.patch'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/459391e1b4e29e50258b6103dc0a82e3a6662eb5', 'message': 'add X.509 certificate check plugin for monasca-agent\n\nWe need this in order to monitor the internal TLS certificates. Since\nbackporting feature to stable/train is not feasible, the next option is\nto patch RPM.\n\nChange-Id: I523431cd6339281b33c97fcfa06993331d5afba7\n'}]",0,698752,459391e1b4e29e50258b6103dc0a82e3a6662eb5,13,4,1,1916,,,0,"add X.509 certificate check plugin for monasca-agent

We need this in order to monitor the internal TLS certificates. Since
backporting feature to stable/train is not feasible, the next option is
to patch RPM.

Change-Id: I523431cd6339281b33c97fcfa06993331d5afba7
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/52/698752/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/monasca-agent/monasca-agent.spec.j2', 'openstack/monasca-agent/0001-add-X.509-certificate-check-plugin.patch']",2,459391e1b4e29e50258b6103dc0a82e3a6662eb5,add_x509_cert_check,"From b2dd9d5d91fa097343d7bab21e2315b271f1fe2d Mon Sep 17 00:00:00 2001 From: Guang Yee <guang.yee@suse.com> Date: Tue, 22 Oct 2019 23:44:32 -0700 Subject: [PATCH] add X.509 certificate check plugin Currently we don't have any capability to monitor the internal TLS/SSL certificates. i.e. SSL certificates used by MySQL for replication, RabbitMQ for distribution, etc. The cert_check plugin is not adequate for this purpose becaue it can only check on certficates over HTTPS endpoints. Furthermore, checking on these internal certificates over the network is cumbersome because the agent plugin would have to speak specific protocols. This patch adds a cert_file_check plugin to detect the certificate expiry (in days from now) for the given X.509 certificate file in PEM format. Similar to cert_check plugin, this plugin will a metric 'cert_file.cert_expire_days' which contains the number of days from now the given certificate will be expired. If the certificate has already expired, this will be a negative number. Change-Id: Id95cc7115823f972e234417223ab5906b57447cc Story: 2006753 --- docs/Plugins.md | 75 +++++++++ .../collector/checks_d/cert_file_check.py | 68 +++++++++ .../detection/plugins/cert_file_check.py | 73 +++++++++ setup.cfg | 2 + test-requirements.txt | 2 + tests/checks_d/test_cert_file_check.py | 144 ++++++++++++++++++ tests/detection/test_cert_file_check.py | 65 ++++++++ 7 files changed, 429 insertions(+) create mode 100644 monasca_agent/collector/checks_d/cert_file_check.py create mode 100644 monasca_setup/detection/plugins/cert_file_check.py create mode 100644 tests/checks_d/test_cert_file_check.py create mode 100644 tests/detection/test_cert_file_check.py diff --git a/docs/Plugins.md b/docs/Plugins.md index 666caec..49b9285 100644 --- a/docs/Plugins.md +++ b/docs/Plugins.md @@ -30,6 +30,7 @@ - [Check_MK_Local](#check_mk_local) - [Ceph](#ceph) - [Certificate Expiration (HTTPS)](#certificate-expiration-https) + - [Certificate Expiration (PEM File)](#certificate-expiration-file) - [Congestion](#congestion) - [Couch](#couch) - [Couchbase](#couchbase) @@ -143,6 +144,7 @@ The following plugins are delivered via setup as part of the standard plugin che | cacti | | | | cAdvisor_host | | | | cert_check | | | +| cert_file_check | | | | check_mk_local | | | | couch | | | | couchbase | | | @@ -323,6 +325,7 @@ These are the detection plugins included with the Monasca Agent. See [Customiza | ceilometer | ServicePlugin | | ceph | Plugin | | cert_check | ArgsPlugin | +| cert_file_check | ArgsPlugin | | check_mk_local | Plugin | | cinder | ServicePlugin | | cloudkitty | ServicePlugin | @@ -917,6 +920,78 @@ These options can be set if desired: * collect_period: Integer time in seconds between outputting the metric. Since the metric is in days, it makes sense to output it at a slower rate. The default is 3600, once per hour * timeout: Float time in seconds before timing out the connect to the url. Increase if needed for very slow servers, but making this too long will increase the time this plugin takes to run if the server for the url is down. The default is 1.0 seconds +## Certificate Expiration (PEM file) +An extension to the Agent provides the ability to determine the expiration date +of the PEM formatted X.509 certificate in a file. The metric is days until the +certificate expires. If the given certificate has already expired, it will +return a negative number. For example, if the certificate has already expired +5 days prior to the check, -5 will be returned. + +Notice that the days till expiration value is calculated based on every 24 +hours block, rounded down. For example, if the certificate will be expiring in +23 hours, the days till expiration value will be 0. Here are some more +examples. + +| Certificate Expiration Date | Plugin Execution Date | cert_file.cert_expire_days | +| --------------------------- | --------------------- | -------------------------- | +| Nov 1 23:00:50 2019 GMT | Oct 29 23:01:00 2019 GMT | 2 | +| Nov 1 23:00:50 2019 GMT | Oct 30 23:01:00 2019 GMT | 1 | +| Nov 1 23:00:50 2019 GMT | Nov 1 10:00:50 2019 GMT | 0 | +| Nov 1 23:00:50 2019 GMT | Nov 1 23:01:50 2019 GMT | 0 | +| Nov 1 23:00:50 2019 GMT | Nov 2 23:01:50 2019 GMT | -1 | +| Nov 1 23:00:50 2019 GMT | Nov 3 23:23:00 2019 GMT | -2 | + +The following dimensions are included with the metric by default: +``` + cert_file: cert_file +``` + +### Configuration +A YAML file (cert_file_check.yaml) contains the list of cert_files to check. + +The configuration of the certificate expiration check is done in YAML, and consists of two keys: + +* init_config +* instances + +The init_config section lists the global configuration settings, such as the +period (in seconds) at which to output the metric. The default value for +collect_period is 1 hour (3600 seconds). To change it to emit metric every +24 hours, set it to 86400. + +```yaml +init_config: + collect_period: 3600 +``` + +The instances section contains the urls to check. + +```yaml +instances: +- built_by: CertificateFileCheck + cert_file: /etc/myservice/myservice.pem +- built_by: CertificateFileCheck + cert_file: /etc/ssl/myotherservice.pem +``` + +The certicate expiration checks return the following metrics + +| Metric Name | Dimensions | Semantics | +| ----------- | ---------- | --------- | +| cert_file.cert_expire_days | cert_file=supplied certificate file being checked | The number of days until the certificate expires + + +There is a detection plugin that should be used to configure this extension. It is invoked as: + + $ monasca-setup -d CertificateFileCheck -a ""cert_files=/etc/myservice/myservice.pem,/etc/myotherservice/myotherservice.pem"" + +The cert_files option is a comma separated list of certificate files to check. + +These options can be set if desired: +* collect_period: Integer time in seconds between outputting the metric. +Since the metric is in days, it makes sense to output it at a slower rate. +The default is 3600, once per hour + ## Congestion This section describes the congestion check performed by monasca-agent. diff --git a/monasca_agent/collector/checks_d/cert_file_check.py b/monasca_agent/collector/checks_d/cert_file_check.py new file mode 100644 index 0000000..811e113 --- /dev/null +++ b/monasca_agent/collector/checks_d/cert_file_check.py @@ -0,0 +1,68 @@ +# Copyright 2019 SUSE LLC +# +# Licensed under the Apache License, Version 2.0 (the ""License""); you may +# not use this file except in compliance with the License. You may obtain +# a copy of the License at +# +# http://www.apache.org/licenses/LICENSE-2.0 +# +# Unless required by applicable law or agreed to in writing, software +# distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT +# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the +# License for the specific language governing permissions and limitations +# under the License. + +from datetime import datetime + +from cryptography.hazmat.backends import default_backend +from cryptography import x509 + +from monasca_agent.collector.checks import AgentCheck + + +class CertificateFileCheck(AgentCheck): + """"""Check the given certificate file and output a metric + which is the number of days until it expires + """""" + + def __init__(self, name, init_config, agent_config, instances=None): + super(CertificateFileCheck, self).__init__(name, init_config, + agent_config, instances) + + def check(self, instance): + cert_file = instance.get('cert_file', None) + + if cert_file is None: + self.log.warning('Instance have no ""cert_file"" configured.') + return + + dimensions = self._set_dimensions(None, instance) + dimensions['cert_file'] = cert_file + self.log.info('cert_file = %s' % cert_file) + expire_in_days = self.get_expire_in_days(cert_file) + if expire_in_days is not None: + self.gauge('cert_file.cert_expire_days', expire_in_days, + dimensions=dimensions) + self.log.debug('%d days till expiration for %s' % (expire_in_days, + cert_file)) + + def get_expire_in_days(self, cert_file): + """"""Take the path the the TLS certificate file and returns the number + of till the certificate expires. If the certificate has already + expired, it will return a negative number. For example, + if the certificate has already expired 5 days prior to the check, + -5 will be returned. + """""" + try: + with open(cert_file, 'r') as cf: + pem_data = cf.read().encode('ascii') + + cert = x509.load_pem_x509_certificate(pem_data, default_backend()) + return (cert.not_valid_after - datetime.utcnow()).days + except IOError: + self.log.warning( + 'Unable to read certificate from %s' % (cert_file)) + except ValueError: + self.log.warning( + 'Unable to load certificate from %s. Invalid content.' % ( + cert_file)) diff --git a/monasca_setup/detection/plugins/cert_file_check.py b/monasca_setup/detection/plugins/cert_file_check.py new file mode 100644 index 0000000..988f080 --- /dev/null +++ b/monasca_setup/detection/plugins/cert_file_check.py @@ -0,0 +1,73 @@ +# Copyright 2019 SUSE LLC +# +# Licensed under the Apache License, Version 2.0 (the ""License""); you may +# not use this file except in compliance with the License. You may obtain +# a copy of the License at +# +# http://www.apache.org/licenses/LICENSE-2.0 +# +# Unless required by applicable law or agreed to in writing, software +# distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT +# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the +# License for the specific language governing permissions and limitations +# under the License. + +import logging + +import monasca_setup.agent_config +import monasca_setup.detection + +log = logging.getLogger(__name__) + +DEFAULT_COLLECT_PERIOD = 3600 + + +class CertificateFileCheck(monasca_setup.detection.ArgsPlugin): + """"""Setup a X.509 certificate file check according to the passed in args. + + Outputs one metric: cert_file.cert_expire_days which is the number of + days until the certificate expires + + Despite being a detection plugin, this plugin does no detection and + will be a NOOP without arguments. Expects one argument, 'cert_files' + which is a comma-separated list of PEM-formatted X.509 certificate + files. + + Examples: + + monasca-setup -d CertificateFileCheck -a ""cert_files=cert1.pem,cert2.pem"" + + These arguments are optional: + collect_period: Integer time in seconds between outputting the metric. + Since the metric is in days, it makes sense to output + it at a slower rate. The default is once per hour + """""" + + def _detect(self): + """"""Run detection, set self.available True if cert_files are detected + """""" + self.available = self._check_required_args(['cert_files']) + + def build_config(self): + """"""Build the config as a Plugins object and return. + """""" + config = monasca_setup.agent_config.Plugins() + instances = [] + init_config = {'collect_period': DEFAULT_COLLECT_PERIOD} + if 'collect_period' in self.args: + collect_period = int(self.args['collect_period']) + init_config['collect_period'] = collect_period + for cert_file in self.args['cert_files'].split(','): + cert_file = cert_file.strip() + # Allow comma terminated lists + if not cert_file: + continue + log.info(""\tAdding X.509 Certificate expiration check for {}"".format(cert_file)) + instance = self._build_instance([]) + instance.update({'cert_file': cert_file, 'name': cert_file}) + instances.append(instance) + + config['cert_file_check'] = {'init_config': init_config, + 'instances': instances} + + return config diff --git a/setup.cfg b/setup.cfg index cc96b95..398a132 100644 --- a/setup.cfg +++ b/setup.cfg @@ -63,6 +63,8 @@ libvirt = ovs = python-novaclient>=9.1.0 # Apache-2.0 python-neutronclient>=6.3.0 # Apache-2.0 +cert_file_check = + cryptography>=2.7 # BSD/Apache-2.0 [global] setup-hooks = diff --git a/test-requirements.txt b/test-requirements.txt index 2ad7fbc..33a1271 100644 --- a/test-requirements.txt +++ b/test-requirements.txt @@ -9,3 +9,5 @@ oslotest>=3.2.0 # Apache-2.0 prometheus_client stestr>=1.0.0 # Apache-2.0 docutils>=0.11 # OSI-Approved Open Source, Public Domain +freezegun>=0.3.6 # Apache-2.0 + diff --git a/tests/checks_d/test_cert_file_check.py b/tests/checks_d/test_cert_file_check.py new file mode 100644 index 0000000..539159f --- /dev/null +++ b/tests/checks_d/test_cert_file_check.py @@ -0,0 +1,144 @@ +# Copyright 2019 SUSE LLC +# +# Licensed under the Apache License, Version 2.0 (the ""License""); you may +# not use this file except in compliance with the License. You may obtain +# a copy of the License at +# +# http://www.apache.org/licenses/LICENSE-2.0 +# +# Unless required by applicable law or agreed to in writing, software +# distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT +# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the +# License for the specific language governing permissions and limitations +# under the License. + +import datetime +import logging +import mock +import os +import shutil +import tempfile +import unittest + +from cryptography import x509 +from cryptography.x509.oid import NameOID +from cryptography.hazmat.primitives import hashes +from cryptography.hazmat.backends import default_backend +from cryptography.hazmat.primitives import serialization +from cryptography.hazmat.primitives.asymmetric import rsa +import freezegun + +from monasca_agent.collector.checks_d import cert_file_check + +LOG = logging.getLogger('monasca_agent.collector.checks.check.cert_file_check') + + +def generate_selfsigned_cert(expired_in): + key = rsa.generate_private_key( + public_exponent=65537, + key_size=1024, + backend=default_backend() + ) + issuer = subject = x509.Name([ + x509.NameAttribute(NameOID.COMMON_NAME, u'foo') + ]) + now = datetime.datetime.utcnow() + cert = ( + x509.CertificateBuilder() + .subject_name(issuer) + .issuer_name(subject) + .public_key(key.public_key()) + .serial_number(1) + .not_valid_before(now) + .not_valid_after(now + datetime.timedelta(days=expired_in)) + .sign(key, hashes.SHA256(), default_backend()) + ) + cert_pem = cert.public_bytes(encoding=serialization.Encoding.PEM) + + return cert_pem.decode('ascii') + + +class TestCertificateFileCheck(unittest.TestCase): + + def setUp(self): + super(TestCertificateFileCheck, self).setUp() + self.cert_file_check_obj = cert_file_check.CertificateFileCheck( + name='cert_file_check', + init_config={}, + instances=[], + agent_config={} + ) + + def test_cert_file_is_none(self): + with mock.patch.object(LOG, 'warning') as mock_log: + self.cert_file_check_obj.check({'foo': 'bar'}) + mock_log.assert_called_with( + 'Instance have no ""cert_file"" configured.') + + def test_unable_to_read_file(self): + tmp_certdir = tempfile.mkdtemp(prefix='test-cert-file-check-') + try: + bogus_cert_file = os.path.join(tmp_certdir, 'foo') + with mock.patch.object(LOG, 'warning') as mock_log: + self.cert_file_check_obj.check({'cert_file': bogus_cert_file}) + mock_log.assert_called_with( + 'Unable to read certificate from %s' % (bogus_cert_file)) + finally: + shutil.rmtree(tmp_certdir) + + def test_unable_to_load_file(self): + tmp_certdir = tempfile.mkdtemp(prefix='test-cert-file-check-') + try: + bogus_cert_file = os.path.join(tmp_certdir, 'foo') + # create a non-PEM formatted certificate file + with open(bogus_cert_file, 'w') as f: + f.write('foo') + + with mock.patch.object(LOG, 'warning') as mock_log: + self.cert_file_check_obj.check({'cert_file': bogus_cert_file}) + mock_log.assert_called_with( + 'Unable to load certificate from %s. Invalid content.' % ( + bogus_cert_file)) + finally: + shutil.rmtree(tmp_certdir) + + def test_check(self): + tmp_certdir = tempfile.mkdtemp(prefix='test-cert-file-check-') + try: + cert_file = os.path.join(tmp_certdir, 'foo') + # create a self-signed cert that expires in 10 days from now + with open(cert_file, 'w') as f: + f.write(generate_selfsigned_cert(10)) + + with mock.patch.object(cert_file_check.CertificateFileCheck, + 'gauge') as mock_gauge: + self.cert_file_check_obj.check({'cert_file': cert_file}) + args, kwargs = mock_gauge.call_args + # make sure the plugin correctly detect the given cert will be + # expiring in equal or less than 10 days from now + self.assertEqual('cert_file.cert_expire_days', args[0]) + self.assertLessEqual(args[1], 10) + finally: + shutil.rmtree(tmp_certdir) + + def test_check_expired_cert(self): + tmp_certdir = tempfile.mkdtemp(prefix='test-cert-file-check-') + try: + cert_file = os.path.join(tmp_certdir, 'foo') + # create a self-signed cert that has expired 10 days ago + with open(cert_file, 'w') as f: + f.write(generate_selfsigned_cert(10)) + + now = datetime.datetime.utcnow() + back_to_the_future = now + datetime.timedelta(days=20) + with freezegun.freeze_time(back_to_the_future): + with mock.patch.object(cert_file_check.CertificateFileCheck, + 'gauge') as mock_gauge: + self.cert_file_check_obj.check({'cert_file': cert_file}) + args, kwargs = mock_gauge.call_args + # make sure the plugin correctly detect that the given + # cert has already expired + self.assertEqual('cert_file.cert_expire_days', args[0]) + self.assertLessEqual(args[1], -9) + finally: + shutil.rmtree(tmp_certdir) diff --git a/tests/detection/test_cert_file_check.py b/tests/detection/test_cert_file_check.py new file mode 100644 index 0000000..ad1225e --- /dev/null +++ b/tests/detection/test_cert_file_check.py @@ -0,0 +1,65 @@ +# Copyright 2019 SUSE LLC +# +# Licensed under the Apache License, Version 2.0 (the ""License""); you may +# not use this file except in compliance with the License. You may obtain +# a copy of the License at +# +# http://www.apache.org/licenses/LICENSE-2.0 +# +# Unless required by applicable law or agreed to in writing, software +# distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT +# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the +# License for the specific language governing permissions and limitations +# under the License. + +import logging +import unittest + +from mock import patch + +from monasca_setup.detection.plugins.cert_file_check import CertificateFileCheck + +LOG = logging.getLogger('monasca_setup.detection.plugins.cert_check') + + +class TestCertFileCheck(unittest.TestCase): + + def setUp(self): + unittest.TestCase.setUp(self) + with patch.object(CertificateFileCheck, '_detect') as mock_detect: + self.cert_obj = CertificateFileCheck('temp_dir') + self.assertTrue(mock_detect.called) + self.cert_obj.args = {'cert_files': '/etc/myservice/myserver.pem'} + + def test_detect(self): + self.cert_obj.available = False + with patch.object(self.cert_obj, '_check_required_args', + return_value=True) as mock_check_required_args: + self.cert_obj._detect() + self.assertTrue(self.cert_obj.available) + self.assertTrue(mock_check_required_args.called) + + def _build_config(self): + with patch.object(self.cert_obj, '_build_instance', + return_value={}) as mock_build_instance: + result = self.cert_obj.build_config() + self.assertTrue(mock_build_instance.called) + self.assertEqual( + result['cert_file_check']['instances'][0]['cert_file'], + '/etc/myservice/myserver.pem') + self.assertEqual(result['cert_file_check']['instances'][0]['name'], + '/etc/myservice/myserver.pem') + return result + + def test_build_config_without_args(self): + result = self._build_config() + self.assertEqual( + result['cert_file_check']['init_config']['collect_period'], + 3600) + + def test_build_config_with_args(self): + self.cert_obj.args.update({'collect_period': 1200}) + result = self._build_config() + self.assertEqual( + result['cert_file_check']['init_config']['collect_period'], + 1200) -- 2.17.1 ",,544,0
openstack%2Frpm-packaging~stable%2Ftrain~I282cbe76d3abab75d7f0a52ba5f6c515e4a2da1e,openstack/rpm-packaging,stable/train,I282cbe76d3abab75d7f0a52ba5f6c515e4a2da1e,tripleo-common/python-tripleoclient: convert to python3,MERGED,2019-12-20 09:53:32.000000000,2019-12-20 20:59:39.000000000,2019-12-20 20:59:39.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-20 09:53:32.000000000', 'files': ['openstack/tripleo-common/tripleo-common.spec.j2', 'openstack/python-tripleoclient/python-tripleoclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/fbb49c9768f683ea12c05e9588514d5d22c24eeb', 'message': 'tripleo-common/python-tripleoclient: convert to python3\n\nChange-Id: I282cbe76d3abab75d7f0a52ba5f6c515e4a2da1e\n(cherry picked from commit 3e69eb84ff7674a04a16ed3bb9dd601c0d9ea7f0)\n'}]",0,700134,fbb49c9768f683ea12c05e9588514d5d22c24eeb,9,5,1,6593,,,0,"tripleo-common/python-tripleoclient: convert to python3

Change-Id: I282cbe76d3abab75d7f0a52ba5f6c515e4a2da1e
(cherry picked from commit 3e69eb84ff7674a04a16ed3bb9dd601c0d9ea7f0)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/34/700134/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tripleo-common/tripleo-common.spec.j2', 'openstack/python-tripleoclient/python-tripleoclient.spec.j2']",2,fbb49c9768f683ea12c05e9588514d5d22c24eeb,,{% set pypi_name = 'python-tripleoclient' %} {% set upstream_version = upstream_version('12.2.0') %} {% set rpm_release = '1' %} {% set source = url_pypi() %} Name: {{ py2name() }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }}URL: https://launchpad.net/{{ pypi_name }} Source0: {{ source }}BuildRequires: {{ py3('cliff') }} BuildRequires: {{ py3('cryptography') }} BuildRequires: {{ py3('devel') }} BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('python-heatclient') }} BuildRequires: {{ py3('python-ironic-inspector-client') }} BuildRequires: {{ py3('python-ironicclient') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('python-openstackclient') }} BuildRequires: {{ py3('oslo.concurrency') }} BuildRequires: {{ py3('passlib') }} BuildRequires: {{ py3('psutil') }} BuildRequires: {{ py3('requests-mock') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testscenarios') }} BuildRequires: {{ py3('testtools') }} BuildRequires: {{ py3('python-zaqarclient') }}%package -n python3-tripleoclient Summary: OpenstackClient plugin for tripleoclient Requires: {{ py2pkg('tripleo-common') }} Requires: {{ py3('Babel') }} Requires: {{ py3('cliff') }} Requires: {{ py3('cryptography') }} Requires: {{ py3('python-heatclient') }} Requires: {{ py3('python-ironic-inspector-client') }} Requires: {{ py3('python-ironicclient') }} Requires: {{ py3('python-mistralclient') }} Requires: {{ py3('python-openstackclient') }} Requires: {{ py3('osc-lib') }} Requires: {{ py3('oslo.concurrency') }} Requires: {{ py3('passlib') }} Requires: {{ py3('pbr') }} Requires: {{ py3('psutil') }} Requires: {{ py3('simplejson') }} Requires: {{ py3('six') }} Requires: {{ py3('websocket-client') }} Requires: {{ py3('python-zaqarclient') }} %description -n python3-tripleoclient python-tripleoclient is a Python plugin to OpenstackClient for TripleO. This package contains the Python 3.x module. BuildRequires: {{ py3('Sphinx') }} BuildRequires: {{ py3('openstackdocstheme') }}%autosetup -p1 -n {{ pypi_name }}-%{version} %py_req_cleanup%{py3_build} PYTHONPATH=. %sphinx_build -b html doc/source doc/build/html PYTHONPATH=. %sphinx_build -b man doc/source doc/build/man%{py3_install}%{__python3} -m stestr.cli run%{python3_sitelib}/tripleoclient %{python3_sitelib}/*.egg-info,%global sname python-tripleoclientName: {{ py2name('python-tripleoclient') }} Version: 12.2.0 Release: 0URL: https://launchpad.net/%{sname} Source0: https://files.pythonhosted.org/packages/source/p/%{sname}/%{sname}-%{version}.tar.gzBuildRequires: {{ py2pkg('cliff') }} BuildRequires: {{ py2pkg('cryptography') }} BuildRequires: {{ py2pkg('devel') }} BuildRequires: {{ py2pkg('fixtures') }} BuildRequires: {{ py2pkg('python-heatclient') }} BuildRequires: {{ py2pkg('python-ironic-inspector-client') }} BuildRequires: {{ py2pkg('python-ironicclient') }} BuildRequires: {{ py2pkg('mock') }} BuildRequires: {{ py2pkg('python-openstackclient') }} BuildRequires: {{ py2pkg('passlib') }} BuildRequires: {{ py2pkg('psutil') }} BuildRequires: {{ py2pkg('requests-mock') }} BuildRequires: {{ py2pkg('stestr') }} BuildRequires: {{ py2pkg('testscenarios') }} BuildRequires: {{ py2pkg('testtools') }} BuildRequires: {{ py2pkg('python-zaqarclient') }} Requires: {{ py2pkg('tripleo-common') }} Requires: {{ py2pkg('Babel') }} Requires: {{ py2pkg('cliff') }} Requires: {{ py2pkg('cryptography') }} Requires: {{ py2pkg('python-heatclient') }} Requires: {{ py2pkg('ipaddress') }} Requires: {{ py2pkg('python-ironic-inspector-client') }} Requires: {{ py2pkg('python-ironicclient') }} Requires: {{ py2pkg('python-mistralclient') }} Requires: {{ py2pkg('python-openstackclient') }} Requires: {{ py2pkg('osc-lib') }} Requires: {{ py2pkg('passlib') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('psutil') }} Requires: {{ py2pkg('simplejson') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('websocket-client') }} Requires: {{ py2pkg('python-zaqarclient') }}BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('openstackdocstheme') }}%autosetup -p1 -n %{sname}-%{version}%{py2_build} PYTHONPATH=. sphinx-build -b html doc/source doc/build/html PYTHONPATH=. sphinx-build -b man doc/source doc/build/man%{py2_install}%{__python2} -m stestr.cli run%{python2_sitelib}/tripleoclient %{python2_sitelib}/*.egg-info,126,109
openstack%2Fcinder~master~Id2d66ec7fbe254a5d58ada2aa39cdf86de6f1f43,openstack/cinder,master,Id2d66ec7fbe254a5d58ada2aa39cdf86de6f1f43,doc: fixes typo in multi backend configration doc,MERGED,2019-12-18 15:49:08.000000000,2019-12-20 20:51:10.000000000,2019-12-18 18:28:09.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-12-18 15:49:08.000000000', 'files': ['doc/source/admin/blockstorage-multi-backend.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3ee18e5f6a7d83aea0d36e564902927e8f5393e7', 'message': 'doc: fixes typo in multi backend configration doc\n\nchanged backend_default to backend_defaults\n\nChange-Id: Id2d66ec7fbe254a5d58ada2aa39cdf86de6f1f43\nCloses-Bug: 1856859\n'}]",0,699710,3ee18e5f6a7d83aea0d36e564902927e8f5393e7,28,22,1,31106,,,0,"doc: fixes typo in multi backend configration doc

changed backend_default to backend_defaults

Change-Id: Id2d66ec7fbe254a5d58ada2aa39cdf86de6f1f43
Closes-Bug: 1856859
",git fetch https://review.opendev.org/openstack/cinder refs/changes/10/699710/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/blockstorage-multi-backend.rst'],1,3ee18e5f6a7d83aea0d36e564902927e8f5393e7,bug/1856859,parameters can be shared using the `[backend_defaults]` section. As [backend_defaults]``image_volume_cache_enabled`` as it is defined in the ``backend_defaults``will ignore the original value in ``backend_defaults``. The ``backend_defaults`` section should be configured according to,parameters can be shared using the `[backend_default]` section. As [backend_default]``image_volume_cache_enabled`` as it is defined in the ``backend_default``will ignore the original value in ``backend_default``. The ``backend_default`` section should be configured according to,5,5
openstack%2Fshotgun~master~Iefabb6184ae4c55c5e145a108d1f5cefc6f927f5,openstack/shotgun,master,Iefabb6184ae4c55c5e145a108d1f5cefc6f927f5,Fix a typo in config.py,ABANDONED,2016-09-23 02:28:33.000000000,2019-12-20 20:44:07.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 14200}, {'_account_id': 20656}, {'_account_id': 25903}]","[{'number': 1, 'created': '2016-09-23 02:28:33.000000000', 'files': ['shotgun/config.py'], 'web_link': 'https://opendev.org/openstack/shotgun/commit/b34753c474f3e9115cce2aa6c511b34b7439a720', 'message': 'Fix a typo in config.py\n\nTrivialFix\n\nChange-Id: Iefabb6184ae4c55c5e145a108d1f5cefc6f927f5\n'}]",0,375200,b34753c474f3e9115cce2aa6c511b34b7439a720,9,5,1,22484,,,0,"Fix a typo in config.py

TrivialFix

Change-Id: Iefabb6184ae4c55c5e145a108d1f5cefc6f927f5
",git fetch https://review.opendev.org/openstack/shotgun refs/changes/00/375200/1 && git format-patch -1 --stdout FETCH_HEAD,['shotgun/config.py'],1,b34753c474f3e9115cce2aa6c511b34b7439a720,bug/gengchc," """"""Lets the object to have another attempt for being processed."""""""," """"""Lets the object to have another attempt for being proccessed.""""""",1,1
openstack%2Fshotgun~master~Ida52b2acc65bfffd00d92a0d4da80a4c6faafab8,openstack/shotgun,master,Ida52b2acc65bfffd00d92a0d4da80a4c6faafab8,Replacing the link in HACKING.rst,ABANDONED,2018-11-16 00:59:57.000000000,2019-12-20 20:44:02.000000000,,"[{'_account_id': 17737}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-16 00:59:57.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/shotgun/commit/dd6001b5d919579754074e05eacfa07e2728526c', 'message': 'Replacing the link in HACKING.rst\n\nChange-Id: Ida52b2acc65bfffd00d92a0d4da80a4c6faafab8\n'}]",0,618342,dd6001b5d919579754074e05eacfa07e2728526c,3,2,1,29423,,,0,"Replacing the link in HACKING.rst

Change-Id: Ida52b2acc65bfffd00d92a0d4da80a4c6faafab8
",git fetch https://review.opendev.org/openstack/shotgun refs/changes/42/618342/1 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,dd6001b5d919579754074e05eacfa07e2728526c,,Read the OpenStack Style Commandments https://docs.openstack.org/hacking/latest/,Read the OpenStack Style Commandments http://docs.openstack.org/developer/hacking/,1,1
openstack%2Fshotgun~master~Ie1ebe016ee78370ef6f1075799497ea5ee814103,openstack/shotgun,master,Ie1ebe016ee78370ef6f1075799497ea5ee814103,Change openstack-dev to openstack-discuss in setup.cfg,ABANDONED,2019-01-24 03:04:56.000000000,2019-12-20 20:43:56.000000000,,"[{'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-01-24 03:04:56.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/shotgun/commit/a16728da4be34e9401a2c55a3aa7ad5c4905f07c', 'message': 'Change openstack-dev to openstack-discuss in setup.cfg\n\nChange-Id: Ie1ebe016ee78370ef6f1075799497ea5ee814103\n'}]",0,632889,a16728da4be34e9401a2c55a3aa7ad5c4905f07c,4,2,1,29423,,,0,"Change openstack-dev to openstack-discuss in setup.cfg

Change-Id: Ie1ebe016ee78370ef6f1075799497ea5ee814103
",git fetch https://review.opendev.org/openstack/shotgun refs/changes/89/632889/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a16728da4be34e9401a2c55a3aa7ad5c4905f07c,,author_email = openstack-discuss@lists.openstack.org,author_email = openstack-dev@lists.openstack.org,1,1
openstack%2Fgrenade~master~Ide146793053ae6b62f93a5af45c6130a21514e87,openstack/grenade,master,Ide146793053ae6b62f93a5af45c6130a21514e87,Disable c-bak and etcd3 in grenade jobs,ABANDONED,2019-12-20 17:43:36.000000000,2019-12-20 20:25:32.000000000,,"[{'_account_id': 6873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-20 17:43:36.000000000', 'files': ['devstack.localrc.base', 'devstack.localrc.target'], 'web_link': 'https://opendev.org/openstack/grenade/commit/0acf26dfa905db3f6aa661d48dd9eca535001a7c', 'message': ""Disable c-bak and etcd3 in grenade jobs\n\nGrenade only runs tempest smoke tests and there are no\ncinder-backup service related smoke tests in the main\ntempest repo so running the c-bak service on the primary\nand subnode (in multinode jobs) is just a waste of resources\nsince it's not used in testing.\n\nSimilarly, etcd3 is really only interesting for cinder in\na multinode job but in grenade multinode jobs etcd3 is not\nenabled on the subnode, so only the primary node cinder\nservices are configured to use etcd3, so again it's a waste\nof resources.\n\nThere is a theory that bug 1844929 is failing primarily on\nOVH nodes because they aggressively restrict iops so we're\nrunning into swap issues [1]. Freeing up more resources on\nthe nodes used in grenade jobs might alleviate some of that\nswap pressure.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-November/010506.html\n\nChange-Id: Ide146793053ae6b62f93a5af45c6130a21514e87\nRelated-Bug: #1844929\n""}]",0,700214,0acf26dfa905db3f6aa661d48dd9eca535001a7c,5,2,1,6873,,,0,"Disable c-bak and etcd3 in grenade jobs

Grenade only runs tempest smoke tests and there are no
cinder-backup service related smoke tests in the main
tempest repo so running the c-bak service on the primary
and subnode (in multinode jobs) is just a waste of resources
since it's not used in testing.

Similarly, etcd3 is really only interesting for cinder in
a multinode job but in grenade multinode jobs etcd3 is not
enabled on the subnode, so only the primary node cinder
services are configured to use etcd3, so again it's a waste
of resources.

There is a theory that bug 1844929 is failing primarily on
OVH nodes because they aggressively restrict iops so we're
running into swap issues [1]. Freeing up more resources on
the nodes used in grenade jobs might alleviate some of that
swap pressure.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-November/010506.html

Change-Id: Ide146793053ae6b62f93a5af45c6130a21514e87
Related-Bug: #1844929
",git fetch https://review.opendev.org/openstack/grenade refs/changes/14/700214/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack.localrc.base', 'devstack.localrc.target']",2,0acf26dfa905db3f6aa661d48dd9eca535001a7c,bug/1844929, # Disable c-bak and etcd3 since they are not used in grenade runs # and just take up resources (iops) which can cause gate failures. disable_service c-bak etcd3,,8,0
openstack%2Fneutron~stable%2Ftrain~I71f45fcd9b7e7bdacaafc7fa96c775e88333ab48,openstack/neutron,stable/train,I71f45fcd9b7e7bdacaafc7fa96c775e88333ab48,don't clear skb mark when ovs is hw-offload enabled,MERGED,2019-12-19 05:12:45.000000000,2019-12-20 20:21:40.000000000,2019-12-20 20:19:25.000000000,"[{'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-19 05:12:45.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1237df19e677ab55754462e52ad346d340ed56c', 'message': ""don't clear skb mark when ovs is hw-offload enabled\n\nskb mark is not supported when using ovs hw-offload and using it\nbreaks the vxlan offload.\n\nThis patch clear skb mark only if ovs hw-offload is disabled.\nThis should be fine as ovs with hw-offload runs on the\ncompute node (DVR is not supported), so clear the skb mark for\nthe qrouter is not needed.\n\nCloses-Bug: #1855888\n\nChange-Id: I71f45fcd9b7e7bdacaafc7fa96c775e88333ab48\n(cherry picked from commit a75ec08ddb6a672ba685a11ba3f7df1569497723)\n""}]",0,699912,a1237df19e677ab55754462e52ad346d340ed56c,16,5,1,12171,,,0,"don't clear skb mark when ovs is hw-offload enabled

skb mark is not supported when using ovs hw-offload and using it
breaks the vxlan offload.

This patch clear skb mark only if ovs hw-offload is disabled.
This should be fine as ovs with hw-offload runs on the
compute node (DVR is not supported), so clear the skb mark for
the qrouter is not needed.

Closes-Bug: #1855888

Change-Id: I71f45fcd9b7e7bdacaafc7fa96c775e88333ab48
(cherry picked from commit a75ec08ddb6a672ba685a11ba3f7df1569497723)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/699912/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py']",2,a1237df19e677ab55754462e52ad346d340ed56c,bug/1855888-stable/train," def test_hw_offload_enabled_false(self): config_mock1 = mock.PropertyMock(return_value={""other_config"": {}}) config_mock2 = mock.PropertyMock( return_value={""other_config"": {""hw-offload"": ""false""}}) config_mock3 = mock.PropertyMock( return_value={""other_config"": {""hw-offload"": ""False""}}) for config_mock in (config_mock1, config_mock2, config_mock3): with mock.patch(""neutron.agent.common.ovs_lib.OVSBridge.config"", new_callable=config_mock): self.assertFalse(self.br.is_hw_offload_enabled) def test_hw_offload_enabled_true(self): config_mock1 = mock.PropertyMock( return_value={""other_config"": {""hw-offload"": ""true""}}) config_mock2 = mock.PropertyMock( return_value={""other_config"": {""hw-offload"": ""True""}}) for config_mock in (config_mock1, config_mock2): with mock.patch(""neutron.agent.common.ovs_lib.OVSBridge.config"", new_callable=config_mock): self.assertTrue(self.br.is_hw_offload_enabled) ",,34,1
openstack%2Frequirements~master~Ie6dba8bc78dcd5fa95c7ac15b0a3770cdef8ad95,openstack/requirements,master,Ie6dba8bc78dcd5fa95c7ac15b0a3770cdef8ad95,Allow projects to drop 'python_version>=3.x' version specifier,MERGED,2019-12-13 16:48:26.000000000,2019-12-20 20:21:24.000000000,2019-12-20 20:19:28.000000000,"[{'_account_id': 4257}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-12-13 16:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2c7b3af360f33494bed1975caef001134bb45d26', 'message': ""Allow projects to drop 'python_version>=3.x' version specifier\n\nFor projects that have gone Python 3, having to keep the\n'python_version' specifiers can add otherwise unnecessary noise. Special\ncase these until such a time as Python 2.7 is history and we can drop\nall these Python version specifiers.\n\nChange-Id: Ie6dba8bc78dcd5fa95c7ac15b0a3770cdef8ad95\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-12-17 16:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/06a931344e512d961ee1430f359b6dafb7beb4c4', 'message': ""Allow projects to drop 'python_version>=3.x' version specifier\n\nFor projects that have gone Python 3, having to keep the\n'python_version' specifiers can add otherwise unnecessary noise. Special\ncase these until such a time as Python 2.7 is history and we can drop\nall these Python version specifiers.\n\nChange-Id: Ie6dba8bc78dcd5fa95c7ac15b0a3770cdef8ad95\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCo-Authored-By: Zane Bitter <zbitter@redhat.com>\n""}, {'number': 3, 'created': '2019-12-20 03:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9036dc2656d4d9a2b68a0a3eaa47fd5913763882', 'message': ""Allow projects to drop 'python_version>=3.x' version specifier\n\nFor projects that have gone Python 3, having to keep the\n'python_version' specifiers can add otherwise unnecessary noise. Special\ncase these until such a time as Python 2.7 is history and we can drop\nall these Python version specifiers.\n\nChange-Id: Ie6dba8bc78dcd5fa95c7ac15b0a3770cdef8ad95\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCo-Authored-By: Zane Bitter <zbitter@redhat.com>\n""}, {'number': 4, 'created': '2019-12-20 05:22:48.000000000', 'files': ['openstack_requirements/tests/test_check.py', 'openstack_requirements/check.py'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a6a75d1f75ade37ea0c0d449d5f36c085ef6cb41', 'message': ""Allow projects to drop 'python_version>=3.x' version specifier\n\nFor projects that have gone Python 3, having to keep the\n'python_version' specifiers can add otherwise unnecessary noise. Special\ncase these until such a time as Python 2.7 is history and we can drop\nall these Python version specifiers.\n\nChange-Id: Ie6dba8bc78dcd5fa95c7ac15b0a3770cdef8ad95\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCo-Authored-By: Zane Bitter <zbitter@redhat.com>\n""}]",3,698960,a6a75d1f75ade37ea0c0d449d5f36c085ef6cb41,30,6,4,15334,,,0,"Allow projects to drop 'python_version>=3.x' version specifier

For projects that have gone Python 3, having to keep the
'python_version' specifiers can add otherwise unnecessary noise. Special
case these until such a time as Python 2.7 is history and we can drop
all these Python version specifiers.

Change-Id: Ie6dba8bc78dcd5fa95c7ac15b0a3770cdef8ad95
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Co-Authored-By: Zane Bitter <zbitter@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/60/698960/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_requirements/tests/test_check.py', 'openstack_requirements/check.py']",2,2c7b3af360f33494bed1975caef001134bb45d26,reduce-py3-noise,"import rePY3_SPECIFIER_RE = r'python_version(==|>=|>)(\'|"")3.\d(\'|"")' # if global requirments specifies a python 3 version specifier # but a project doesn't, allow it since python 3-only is okay if aname == 'markers' and not local_req_val and matching: if re.match(PY3_SPECIFIER_RE, global_req_val): continue ",,21,0
openstack%2Fnova~stable%2Fstein~I7de14456d04370c842b4c35597dca3a628a826a2,openstack/nova,stable/stein,I7de14456d04370c842b4c35597dca3a628a826a2,Improve metadata server performance with large security groups,MERGED,2019-11-25 15:07:41.000000000,2019-12-20 20:15:36.000000000,2019-12-20 20:10:05.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10980}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-25 15:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5b051aae5eb776918cff043a6ff7cae369dc0ec', 'message': ""Improve metadata server performance with large security groups\n\nDon't include the rules in the SG fetch in the metadata server, since\nwe don't need them there, and with >1000 rules, it starts to get\nreally slow, especially in Pike and later.\n\nCloses-Bug: #1851430\n\nCo-Authored-By: Doug Wiegley <dougwig@parkside.io>\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: I7de14456d04370c842b4c35597dca3a628a826a2\n(cherry picked from commit eaf16fdde59a14fb38df669b21a911a0c2d2576f)\n(cherry picked from commit 418af2d865809cfa907678f883dae07f4f31baa2)\n""}, {'number': 2, 'created': '2019-12-05 16:34:58.000000000', 'files': ['nova/tests/unit/network/security_group/test_neutron_driver.py', 'nova/network/security_group/neutron_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fec95a2e4f763e15193504483383f918feb3e636', 'message': ""Improve metadata server performance with large security groups\n\nDon't include the rules in the SG fetch in the metadata server, since\nwe don't need them there, and with >1000 rules, it starts to get\nreally slow, especially in Pike and later.\n\nCloses-Bug: #1851430\n\nCo-Authored-By: Doug Wiegley <dougwig@parkside.io>\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nNOTE(mriedem): The test had to be modified in this backport because\nthe mock call() behavior is different since Train and I'm not\nentirely sure why but I'm guessing it's due to change\nI4484e63c97bd1cdde3d88855eabe7545784f365e which was added in Train.\nTo get around this, I just modified the test to use a simple\npredictable side_effect for _convert_to_nova_security_group_format.\n\nChange-Id: I7de14456d04370c842b4c35597dca3a628a826a2\n(cherry picked from commit eaf16fdde59a14fb38df669b21a911a0c2d2576f)\n(cherry picked from commit 418af2d865809cfa907678f883dae07f4f31baa2)\n""}]",1,695925,fec95a2e4f763e15193504483383f918feb3e636,24,9,2,6873,,,0,"Improve metadata server performance with large security groups

Don't include the rules in the SG fetch in the metadata server, since
we don't need them there, and with >1000 rules, it starts to get
really slow, especially in Pike and later.

Closes-Bug: #1851430

Co-Authored-By: Doug Wiegley <dougwig@parkside.io>
Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>

NOTE(mriedem): The test had to be modified in this backport because
the mock call() behavior is different since Train and I'm not
entirely sure why but I'm guessing it's due to change
I4484e63c97bd1cdde3d88855eabe7545784f365e which was added in Train.
To get around this, I just modified the test to use a simple
predictable side_effect for _convert_to_nova_security_group_format.

Change-Id: I7de14456d04370c842b4c35597dca3a628a826a2
(cherry picked from commit eaf16fdde59a14fb38df669b21a911a0c2d2576f)
(cherry picked from commit 418af2d865809cfa907678f883dae07f4f31baa2)
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/695925/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/security_group/test_neutron_driver.py', 'nova/network/security_group/neutron_driver.py']",2,c5b051aae5eb776918cff043a6ff7cae369dc0ec,faster-sg-pull," def _get_secgroups_from_port_list(self, ports, neutron, fields=None): if fields: sg_search_opts['fields'] = fields If detailed is False only the security group name is returned. # If detailed is True, we want all fields from the security groups # including the potentially slow-to-join security_group_rules field. # But if detailed is False, only get the id and name fields since # that's all we'll use below. fields = None if detailed else ['id', 'name'] security_groups = self._get_secgroups_from_port_list( ports, neutron, fields=fields) security groups associated with an instance, otherwise just the security group name."," def _get_secgroups_from_port_list(self, ports, neutron): security_groups = self._get_secgroups_from_port_list(ports, neutron) security groups associated with an instance.",36,11
openstack%2Fnova~stable%2Fstein~Icacc763f19db6dc90e72af32e17d480775ad5edf,openstack/nova,stable/stein,Icacc763f19db6dc90e72af32e17d480775ad5edf,Cache security group driver,MERGED,2019-12-05 14:25:36.000000000,2019-12-20 20:04:57.000000000,2019-12-20 19:58:49.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-05 14:25:36.000000000', 'files': ['nova/tests/unit/network/test_config.py', 'nova/test.py', 'nova/network/security_group/openstack_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/99048af872743638b3628555e96351e00bf1eb7e', 'message': ""Cache security group driver\n\nChange I0932c652fb455fe10239215a93e183ea947234e3 from Mitaka\nwas a performance improvement to cache the loaded security\ngroup driver since the API calls get_openstack_security_group_driver\na lot. That performance fix was regressed with change\nIa4a8d9954bf456253101b936f8b4ff513aaa73b2 in Newton.\n\nThis caches the loaded security group driver once again. This\nis pretty similar to the original change except simpler since\nwe don't have to account for the skip_policy_check flag.\n\nChange-Id: Icacc763f19db6dc90e72af32e17d480775ad5edf\nCloses-Bug: #1825018\n(cherry picked from commit 0461921d9e5313c3e92b039b90f713ed961e20c8)\n(cherry picked from commit 3ea6a7f79b0ad8a12c8ccfdeda838784c7922e63)\n""}]",0,697480,99048af872743638b3628555e96351e00bf1eb7e,14,6,1,6873,,,0,"Cache security group driver

Change I0932c652fb455fe10239215a93e183ea947234e3 from Mitaka
was a performance improvement to cache the loaded security
group driver since the API calls get_openstack_security_group_driver
a lot. That performance fix was regressed with change
Ia4a8d9954bf456253101b936f8b4ff513aaa73b2 in Newton.

This caches the loaded security group driver once again. This
is pretty similar to the original change except simpler since
we don't have to account for the skip_policy_check flag.

Change-Id: Icacc763f19db6dc90e72af32e17d480775ad5edf
Closes-Bug: #1825018
(cherry picked from commit 0461921d9e5313c3e92b039b90f713ed961e20c8)
(cherry picked from commit 3ea6a7f79b0ad8a12c8ccfdeda838784c7922e63)
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/697480/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_config.py', 'nova/test.py', 'nova/network/security_group/openstack_driver.py']",3,99048af872743638b3628555e96351e00bf1eb7e,bug/1825018,DRIVER_CACHE = None # singleton of the driver once loaded global DRIVER_CACHE if DRIVER_CACHE is None: if is_neutron_security_groups(): DRIVER_CACHE = importutils.import_object(NEUTRON_DRIVER) else: DRIVER_CACHE = importutils.import_object(NOVA_DRIVER) return DRIVER_CACHE, if is_neutron_security_groups(): return importutils.import_object(NEUTRON_DRIVER) else: return importutils.import_object(NOVA_DRIVER),19,5
openstack%2Fkolla-ansible~stable%2Ftrain~I566d6cac0b6749054fd5422ec8f36f99dacb1db7,openstack/kolla-ansible,stable/train,I566d6cac0b6749054fd5422ec8f36f99dacb1db7,Fix fluentd parsing of WSGI logs,MERGED,2019-12-18 11:13:40.000000000,2019-12-20 19:48:26.000000000,2019-12-20 19:42:43.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-12-18 11:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a4bf5612c493cfbc6676e0c6ba04dbee12dc94f8', 'message': 'Fix fluentd parsing of WSGI logs\n\nWSGI log files use a different input configuration than OpenStack log\nfiles. Currently this depends on log files matching either *-access.log\nor *-error.log. Some services use *_access.log or *_error.log, so are\nnot parsed correctly.\n\nThis change modifies the fluentd configuration to accept an underscore\nor hyphen for WSGI log file names.\n\nChange-Id: I566d6cac0b6749054fd5422ec8f36f99dacb1db7\nCloses-Bug: #1720371\n'}, {'number': 2, 'created': '2019-12-18 17:46:06.000000000', 'files': ['ansible/roles/common/templates/conf/input/04-openstack-wsgi.conf.j2', 'ansible/roles/common/templates/conf/input/00-global.conf.j2', 'releasenotes/notes/fix-wsgi-log-collection-c9f347096394df5c.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/19bae1bfbd6751e84d375c5ad2ff50bd65c5fa2f', 'message': 'Fix fluentd parsing of WSGI logs\n\nWSGI log files use a different input configuration than OpenStack log\nfiles. Currently this depends on log files matching either *-access.log\nor *-error.log. Some services use *_access.log or *_error.log, so are\nnot parsed correctly.\n\nThis change modifies the fluentd configuration to accept an underscore\nor hyphen for WSGI log file names.\n\nChange-Id: I566d6cac0b6749054fd5422ec8f36f99dacb1db7\nCloses-Bug: #1720371\n(cherry picked from commit a32cddca4974b9ee43c91544be19014a9748c450)\n'}]",0,699663,19bae1bfbd6751e84d375c5ad2ff50bd65c5fa2f,12,5,2,17669,,,0,"Fix fluentd parsing of WSGI logs

WSGI log files use a different input configuration than OpenStack log
files. Currently this depends on log files matching either *-access.log
or *-error.log. Some services use *_access.log or *_error.log, so are
not parsed correctly.

This change modifies the fluentd configuration to accept an underscore
or hyphen for WSGI log file names.

Change-Id: I566d6cac0b6749054fd5422ec8f36f99dacb1db7
Closes-Bug: #1720371
(cherry picked from commit a32cddca4974b9ee43c91544be19014a9748c450)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/63/699663/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/conf/input/04-openstack-wsgi.conf.j2', 'ansible/roles/common/templates/conf/input/00-global.conf.j2', 'releasenotes/notes/fix-wsgi-log-collection-c9f347096394df5c.yaml']",3,a4bf5612c493cfbc6676e0c6ba04dbee12dc94f8,bug/1720371,"--- fixes: - | Fixes an issue with fluentd parsing of WSGI logs for Aodh, Masakari, Qinling, Vitrage and Zun. See `bug 1720371 <https://bugs.launchpad.net/kolla-ansible/+bug/1720371>`__ for details. ",,10,2
openstack%2Ftripleo-validations~master~Ie45f8a66193d023360115e8cb3f8766d8e99a986,openstack/tripleo-validations,master,Ie45f8a66193d023360115e8cb3f8766d8e99a986,Introduce Ceph placement group validation,MERGED,2019-11-16 18:44:14.000000000,2019-12-20 19:36:16.000000000,2019-12-20 00:52:52.000000000,"[{'_account_id': 6796}, {'_account_id': 11491}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 25877}, {'_account_id': 28223}, {'_account_id': 31245}]","[{'number': 1, 'created': '2019-11-16 18:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/47e01afca1ddbcc89eaddc2ee72d5adec046f80d', 'message': 'WIP/DNM: Introduce Ceph placement group validation\n\nIntroduce ceph_pools_pg_protection Ansible module and\nceph-pg.yaml playbook.\n\nChange-Id: Ie45f8a66193d023360115e8cb3f8766d8e99a986\n'}, {'number': 2, 'created': '2019-11-16 21:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6bda10c3056bb9473829c04a11a2185fd62e5cd7', 'message': 'WIP/DNM: Introduce Ceph placement group validation\n\nIntroduce ceph_pools_pg_protection Ansible module and\nceph-pg.yaml playbook.\n\nChange-Id: Ie45f8a66193d023360115e8cb3f8766d8e99a986\n'}, {'number': 3, 'created': '2019-11-16 21:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/abb56d847c4b71da2494e8c9b540129bee581c3e', 'message': 'Introduce Ceph placement group validation\n\nIntroduce ceph_pools_pg_protection Ansible module and\nceph-pg.yaml playbook.\n\nChange-Id: Ie45f8a66193d023360115e8cb3f8766d8e99a986\n'}, {'number': 4, 'created': '2019-11-17 14:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2a6d9a5df723b24f00bed0cf36f767b2baa8478f', 'message': 'Introduce Ceph placement group validation\n\nIntroduce ceph_pools_pg_protection Ansible module and\nceph-pg.yaml playbook.\n\nChange-Id: Ie45f8a66193d023360115e8cb3f8766d8e99a986\n'}, {'number': 5, 'created': '2019-11-19 03:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ec5e50ebd342fe43274658ad756f2c3acd529b0a', 'message': 'Introduce Ceph placement group validation\n\nIntroduce ceph_pools_pg_protection Ansible module and\nceph-pg playbook and role.\n\nChange-Id: Ie45f8a66193d023360115e8cb3f8766d8e99a986\n'}, {'number': 6, 'created': '2019-11-19 03:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5eae88c68abed8f53de9fb7c177cf5c4d0f4d989', 'message': 'Introduce Ceph placement group validation\n\nIntroduce ceph_pools_pg_protection Ansible module and\nceph-pg playbook and role.\n\nChange-Id: Ie45f8a66193d023360115e8cb3f8766d8e99a986\n'}, {'number': 7, 'created': '2019-11-21 20:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a25d3302034f61ae988c04c6950e13e933cb3d9f', 'message': 'Introduce Ceph placement group validation\n\nIntroduce ceph_pools_pg_protection Ansible module and\nceph-pg playbook and role.\n\nChange-Id: Ie45f8a66193d023360115e8cb3f8766d8e99a986\n'}, {'number': 8, 'created': '2019-12-01 23:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c0df63b9fd6c302fb5b772645e88ce6698a476c3', 'message': 'Introduce Ceph placement group validation\n\nIntroduce ceph_pools_pg_protection Ansible module and\nceph-pg playbook and role.\n\nChange-Id: Ie45f8a66193d023360115e8cb3f8766d8e99a986\n'}, {'number': 9, 'created': '2019-12-02 01:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f45400b7a557d2bbb7a6fdc1813a172e589443fb', 'message': 'Introduce Ceph placement group validation\n\nIntroduce ceph_pools_pg_protection Ansible module and\nceph-pg playbook and role.\n\nChange-Id: Ie45f8a66193d023360115e8cb3f8766d8e99a986\n'}, {'number': 10, 'created': '2019-12-13 23:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b2f97e5f848b300015471a3b44fde5bf74559a44', 'message': 'Introduce Ceph placement group validation\n\nIntroduce ceph_pools_pg_protection Ansible module and\nceph-pg playbook and role.\n\nChange-Id: Ie45f8a66193d023360115e8cb3f8766d8e99a986\n'}, {'number': 11, 'created': '2019-12-16 19:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4b17b8dee26a28d9ce7f97ecf54050d87d0b247d', 'message': 'Introduce Ceph placement group validation\n\nIntroduce ceph_pools_pg_protection Ansible module and\nceph-pg playbook and role.\n\nChange-Id: Ie45f8a66193d023360115e8cb3f8766d8e99a986\n'}, {'number': 12, 'created': '2019-12-16 19:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/619b6cfcf65c7ebcb779cae94c006dd902f1f55f', 'message': 'Introduce Ceph placement group validation\n\nIntroduce ceph_pools_pg_protection Ansible module and\nceph-pg playbook and role.\n\nChange-Id: Ie45f8a66193d023360115e8cb3f8766d8e99a986\n'}, {'number': 13, 'created': '2019-12-17 20:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2c50067e791ce4c90d425930f8b964f54dccddb7', 'message': 'Introduce Ceph placement group validation\n\nIntroduce ceph_pools_pg_protection Ansible module and\nceph-pg playbook and role.\n\nChange-Id: Ie45f8a66193d023360115e8cb3f8766d8e99a986\n'}, {'number': 14, 'created': '2019-12-18 22:19:54.000000000', 'files': ['playbooks/ceph-pg.yaml', 'tripleo_validations/tests/library/test_ceph_pools_pg_protection.py', 'doc/source/modules/modules-ceph_pools_pg_protection.rst', 'roles/ceph/tasks/ceph-pg.yaml', 'library/ceph_pools_pg_protection.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/70596306b19809da8429486df6d39d1d03cf456f', 'message': 'Introduce Ceph placement group validation\n\nIntroduce ceph_pools_pg_protection Ansible module and\nceph-pg playbook and role.\n\nChange-Id: Ie45f8a66193d023360115e8cb3f8766d8e99a986\n'}]",43,694673,70596306b19809da8429486df6d39d1d03cf456f,72,8,14,18002,,,0,"Introduce Ceph placement group validation

Introduce ceph_pools_pg_protection Ansible module and
ceph-pg playbook and role.

Change-Id: Ie45f8a66193d023360115e8cb3f8766d8e99a986
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/73/694673/14 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/ceph-pg.yaml', 'library/ceph_pools_pg_protection.py']",2,47e01afca1ddbcc89eaddc2ee72d5adec046f80d,ceph_pg,"#!/usr/bin/env python # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. ANSIBLE_METADATA = { 'metadata_version': '0.1', 'status': ['preview'], 'supported_by': 'community' } DOCUMENTATION = ''' --- module: ceph_pools_pg_protection short_description: Warn if Ceph will not create CephPools based on PG and OSD numbers version_added: ""2.4"" description: - ""The Ceph PG overdose protection check (https://ceph.com/community/new-luminous-pg-overdose-protection) is executed by Ceph before a pool is created. If the check does not pass, then the pool is not created. When TripleO deploys Ceph it triggers ceph-ansible which creates the pools that OpenStack needs. This validation runs the same check that the overdose protection uses to determine if the user should update their CephPools, PG count, or number of OSD. Without this check a deployer may have to wait until after Ceph is running but before the pools are created to realize the deployment will fail."" options: num_osds: description: - The number of Ceph OSDs expected to be running during Pool creation. - TripleO does not have this parameter - Derive this parameter from TripleO parameters and then remove it required: true CephPoolDefaultSize: description: - The same as the TripleO CephPoolDefaultSize parameter - Number of replicas of the data required: false default: 3 CephPoolDefaultPgNum: description: - The same as the TripleO CephPoolDefaultPgNum parameter - The default number of Placement Groups a pool should have required: false default: 16 CephPools: description: - The same as the TripleO CephPools parameter - A list of dictionaries - Each embedded dict must have a name parameter - optional pg_num and size parameters may be set per pool required: yes author: - John Fulton (fultonj) ''' EXAMPLES = ''' # Call this module from TripleO Ansible - name: Is the CephPools parameter configured correctly? ceph_pools_pg_protection: num_osds: 36 CephPoolDefaultSize: 3 CephPoolDefaultPgNum: 128 CephPools: - {""name"": volumes, ""pg_num"": 1024,""pgp_num"": 1024, ""application"": rbd, ""size"": 3} - {""name"": vms, ""pg_num"": 512, ""pgp_num"": 512, ""application"": rbd, ""size"": 3} - {""name"": images, ""pg_num"": 128, ""pgp_num"": 128, ""application"": rbd, ""size"": 3} register: pool_creation_simulation - name: Fail if CephPools parameter is not configured correctly fail: msg: pool_creation_simulation[""message""] when: not pool_creation_simulation[""valid_input""] # Call this module from within TripleO Heat Templates - name: Is the CephPools parameter configured correctly? ceph_pools_pg_protection: num_osds: 36 CephPoolDefaultSize: {get_param: CephPoolDefaultSize} CephPoolDefaultPgNum: {get_param: CephPoolDefaultPgNum} CephPools: {get_param: CephPools} register: pool_creation_simulation ''' RETURN = ''' message: description: A description of why Ceph might refuse to create the requested CephPools type: str returned: always valid_input: description: True only if Ceph would create all requested pools type: boolean returned: always ''' from ansible.module_utils.basic import AnsibleModule def check_pg_num(pool, pg_num, size, num_osds=0, max_pgs_per_osd=200, pools={}): """""" Returns empty string only if the Pool PG numbers are correct for the OSDs. Otherwise returns an error message like the one Ceph would return. """""" # The original check in C++ from the Ceph source code is: # # int OSDMonitor::check_pg_num(int64_t pool, int pg_num, int size, ostream *ss) # { # auto max_pgs_per_osd = g_conf->get_val<uint64_t>(""mon_max_pg_per_osd""); # auto num_osds = std::max(osdmap.get_num_in_osds(), 3u); // assume min cluster size 3 # auto max_pgs = max_pgs_per_osd * num_osds; # uint64_t projected = 0; # if (pool < 0) { # projected += pg_num * size; # } # for (const auto& i : osdmap.get_pools()) { # if (i.first == pool) { # projected += pg_num * size; # } else { # projected += i.second.get_pg_num() * i.second.get_size(); # } # } # if (projected > max_pgs) { # if (pool >= 0) { # *ss << ""pool id "" << pool; # } # *ss << "" pg_num "" << pg_num << "" size "" << size # << "" would mean "" << projected # << "" total pgs, which exceeds max "" << max_pgs # << "" (mon_max_pg_per_osd "" << max_pgs_per_osd # << "" * num_in_osds "" << num_osds << "")""; # return -ERANGE; # } # return 0; # } import six msg = """" max_pgs = max_pgs_per_osd * num_osds projected = 0 if len(pool) < 0: projected = projected + (pg_num * size) for pool_name, pool_sizes in six.iteritems(pools): if pool_name == pool: projected = projected + (pg_num * size) else: projected = projected + (pool_sizes['pg_num'] * pool_sizes['size']) if projected > max_pgs: msg = ""Cannot add pool: "" + str(pool) + \ "" pg_num "" + str(pg_num) + "" size "" + str(size) + \ "" would mean "" + str(projected) + \ "" total pgs, which exceeds max "" + str(max_pgs) + \ "" (mon_max_pg_per_osd "" + str(max_pgs_per_osd) + \ "" * num_in_osds "" + str(num_osds) + "")"" return msg def simulate_pool_creation(num_osds, CephPools, CephPoolDefaultSize=3, CephPoolDefaultPgNum=16, max_pgs_per_osd=200): """""" Simulate ceph-ansible asking Ceph to create the pools in the CephPools list """""" msg = """" failed = False created_pools = {} for pool in CephPools: if 'size' not in pool: pool['size'] = CephPoolDefaultSize if 'pg_num' not in pool: pool['pg_num'] = CephPoolDefaultPgNum ceph_msg = check_pg_num(pool['name'], pool['pg_num'], pool['size'], num_osds, max_pgs_per_osd, created_pools) if len(ceph_msg) == 0: created_pools[pool['name']] = {'pg_num': pool['pg_num'], 'size': pool['size']} else: failed = True break if failed: msg = ""The following Ceph pools would be created (but no others):"" + \ ""\n"" + str(created_pools) + ""\n"" + \ ""Pool creation would then fail with the following from Ceph:"" + \ ""\n"" + ceph_msg + ""\n"" + \ ""Please use https://ceph.io/pgcalc and then update the CephPools parameter"" simulation_results = {} simulation_results['failed'] = failed simulation_results['msg'] = msg return simulation_results def run_module(): # Define available arguments/parameters a user can pass to the module module_args = dict( num_osds=dict(type='int', required=True), CephPoolDefaultSize=dict(type='int', required=False, default=3), CephPoolDefaultPgNum=dict(type='int', required=False, default=16), CephPools=dict(type='list', required=True), ) # Seed the result dict in the object result = dict( changed=False, valid_input=True, message='' ) # Use AnsibleModule object abstraction to work with Ansible module = AnsibleModule( argument_spec=module_args, supports_check_mode=True ) # Support check mode by not running the pool creation simulation if module.check_mode: module.exit_json(**result) # Simulate Ceph pool creation simulation = simulate_pool_creation(module.params['num_osds'], module.params['CephPools'], module.params['CephPoolDefaultSize'], module.params['CephPoolDefaultPgNum']) if simulation['failed']: result['message'] = ""Invalid Ceph configuration: "" + simulation['msg'] result['valid_input'] = False else: result['message'] = 'Provided CephPools satisfy PG overdose protection' result['valid_input'] = True # This module never changes state of a target system, it only # evaluates if inputs will work when Ceph processes then. # There shouldn't be anything like the following # result['changed'] = True # This module does not currently have fail options. It should # only evaluate input and make result of the evaluation available. # So it doesn't currently do anything like the following by design. # module.fail_json(msg='Failing for invalid input', **result) # Exit and pass the key/value results of the simulation module.exit_json(**result) def main(): run_module() if __name__ == '__main__': main() ",,290,0
openstack%2Fproject-config~master~I33890c851ad6f88e1d2ab212a9531c0b74ab16ac,openstack/project-config,master,I33890c851ad6f88e1d2ab212a9531c0b74ab16ac,Add zuul-helm repo,MERGED,2019-12-20 18:46:10.000000000,2019-12-20 19:01:23.000000000,2019-12-20 19:01:23.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-20 18:46:10.000000000', 'files': ['gerritbot/channels.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/dc18562d01d51b5b99e96d30c7a464661dfbbb35', 'message': 'Add zuul-helm repo\n\nChange-Id: I33890c851ad6f88e1d2ab212a9531c0b74ab16ac\n'}]",0,700224,dc18562d01d51b5b99e96d30c7a464661dfbbb35,7,3,1,1,,,0,"Add zuul-helm repo

Change-Id: I33890c851ad6f88e1d2ab212a9531c0b74ab16ac
",git fetch https://review.opendev.org/openstack/project-config refs/changes/24/700224/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,dc18562d01d51b5b99e96d30c7a464661dfbbb35,, - zuul/zuul-helm,,10,0
openstack%2Fironic-inspector~master~I79efdbeea4719acad6d9c314c121ea208dc6be2d,openstack/ironic-inspector,master,I79efdbeea4719acad6d9c314c121ea208dc6be2d,setting Port's extra field.,ABANDONED,2016-06-19 23:31:59.000000000,2019-12-20 19:00:59.000000000,,[{'_account_id': 10239}],"[{'number': 1, 'created': '2016-06-19 23:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c4e9996c6acd0ecf2b0a0c0627f3136c86e15383', 'message': 'setting Port\'s extra field.\n\nPatch sets Port\'s ""extra"" field, which would help in exposing parameters like Product and Vendor id, enabling  identifying the capabilities of the device(ex, does the device has SR-IOV capabilities or not), which would in turn help in creating heat template or building images using diskimage builder.\n\nPatch exposes Network Interface attributes other then \'ipv4_address\', \'mac_address\', \'name\' through Port\'s ""extra"" attribute using the patch_port function. ""extra"" field is set for all port obtained during the introspection process, even if the port already exists.\n\nChange-Id: I79efdbeea4719acad6d9c314c121ea208dc6be2d\nCloses-Bug: #1594201\nSigned-off-by: yogananth subramanian <ysubrama@redhat.com>\n'}, {'number': 2, 'created': '2016-06-20 00:30:06.000000000', 'files': ['ironic_inspector/test/base.py', 'ironic_inspector/process.py', 'ironic_inspector/plugins/standard.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/73969edd3ed3d767f240206f2ab85801a895949e', 'message': 'setting Port\'s extra field.\n\nPatch sets Port\'s ""extra"" field, which would help in exposing parameters like\nProduct and Vendor id, enabling  identifying the capabilities of the device\n(ex, does the device has SR-IOV capabilities or not), which would in turn help\nin creating heat template or building images using diskimage builder.\n\nPatch exposes Network Interface attributes other then \'ipv4_address\',\n\'mac_address\', \'name\' through Port\'s ""extra"" attribute using the patch_port\nfunction. ""extra"" field is set for all port obtained during the introspection\nprocess, even if the port already exists.\n\nChange-Id: I79efdbeea4719acad6d9c314c121ea208dc6be2d\nCloses-Bug: #1594201\nSigned-off-by: yogananth subramanian <ysubrama@redhat.com>\n'}]",0,331496,73969edd3ed3d767f240206f2ab85801a895949e,8,1,2,14972,,,0,"setting Port's extra field.

Patch sets Port's ""extra"" field, which would help in exposing parameters like
Product and Vendor id, enabling  identifying the capabilities of the device
(ex, does the device has SR-IOV capabilities or not), which would in turn help
in creating heat template or building images using diskimage builder.

Patch exposes Network Interface attributes other then 'ipv4_address',
'mac_address', 'name' through Port's ""extra"" attribute using the patch_port
function. ""extra"" field is set for all port obtained during the introspection
process, even if the port already exists.

Change-Id: I79efdbeea4719acad6d9c314c121ea208dc6be2d
Closes-Bug: #1594201
Signed-off-by: yogananth subramanian <ysubrama@redhat.com>
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/96/331496/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/base.py', 'ironic_inspector/process.py', 'ironic_inspector/plugins/standard.py']",3,c4e9996c6acd0ecf2b0a0c0627f3136c86e15383,bug/1594201," extra = {} for key in iface.keys(): if key not in ['ipv4_address', 'mac_address', 'name']: extra[key] = iface[key] result[name] = {'ip': ip, 'mac': mac, 'extra': extra} extra = iface.get('extra') result[name] = {'ip': ip, 'mac': mac.lower(), 'extra': extra}"," result[name] = {'ip': ip, 'mac': mac} result[name] = {'ip': ip, 'mac': mac.lower()}",18,7
openstack%2Fnova~stable%2Ftrain~I0322d872bdff68936033a6f5a54e8296a6fb3434,openstack/nova,stable/train,I0322d872bdff68936033a6f5a54e8296a6fb3434,Block rebuild when NUMA topology changed,MERGED,2019-12-11 16:38:53.000000000,2019-12-20 18:51:41.000000000,2019-12-20 18:49:14.000000000,"[{'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-11 16:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11df1d508ac02f9a060ea8f4c98cf92ff2ebab80', 'message': ""Block rebuild when NUMA topology changed\n\nIf the image change during a rebuild it's possible for the request\nNUMA topology to change. As a rebuild uses a noop claim in the\nresource tracker the NUMA topology will not be updated as part of\na rebuild.\n\nIf the NUMA constraints do not change, a rebuild will continue as normal.\nIf the new constraints conflict with the existing NUMA constraints of the\ninstance the rebuild will be rejected without altering the status of the\ninstance.\n\nThis change introduces an API check to block rebuild when the NUMA\nrequirements for the new image do not match the existing NUMA constraints.\nThis is in line with the previous check introduced to prevent the rebuild of\nvolume-backed instances which similarly are not supported.\n\nThis change adds functional tests to assert the expected behaviour of\nrebuilding NUMA instances with new images. This change also asserts that\nin place rebuilds of numa instances is currently not supported.\n\nConflicts:\n    nova/tests/functional/libvirt/test_numa_servers.py\n\nNOTE(sean-k-mooney): conflicts are due to minor test differences\nand the lack of I80cdc0a33ec27b1389130c22f9c3a8ff69f6b1a0 which\nchanges the behvior of _wait_for_state_change to be consistent.\n\nCloses-Bug: #1763766\nPartial-implements: blueprint inplace-rebuild-of-numa-instances\nChange-Id: I0322d872bdff68936033a6f5a54e8296a6fb3434\n""}, {'number': 2, 'created': '2019-12-16 09:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f2916fbb89bd771cbe3a3e4c135ccea4bdda04b', 'message': ""Block rebuild when NUMA topology changed\n\nIf the image change during a rebuild it's possible for the request\nNUMA topology to change. As a rebuild uses a noop claim in the\nresource tracker the NUMA topology will not be updated as part of\na rebuild.\n\nIf the NUMA constraints do not change, a rebuild will continue as normal.\nIf the new constraints conflict with the existing NUMA constraints of the\ninstance the rebuild will be rejected without altering the status of the\ninstance.\n\nThis change introduces an API check to block rebuild when the NUMA\nrequirements for the new image do not match the existing NUMA constraints.\nThis is in line with the previous check introduced to prevent the rebuild of\nvolume-backed instances which similarly are not supported.\n\nThis change adds functional tests to assert the expected behaviour of\nrebuilding NUMA instances with new images. This change also asserts that\nin place rebuilds of numa instances is currently not supported.\n\nConflicts:\n    nova/tests/functional/libvirt/test_numa_servers.py\n\nNOTE(sean-k-mooney): conflicts are due to minor test differences\nand the lack of I80cdc0a33ec27b1389130c22f9c3a8ff69f6b1a0 which\nchanges the behvior of _wait_for_state_change to be consistent.\n\nCloses-Bug: #1763766\nPartial-implements: blueprint inplace-rebuild-of-numa-instances\nChange-Id: I0322d872bdff68936033a6f5a54e8296a6fb3434\n(cherry picked from commit 6f5358ac1992b17b7f3f99d9a32290e0d4740dae)\n""}, {'number': 3, 'created': '2019-12-19 16:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39b2227ad757f89b47412c6356aea8bed6dc9416', 'message': ""Block rebuild when NUMA topology changed\n\nIf the image change during a rebuild it's possible for the request\nNUMA topology to change. As a rebuild uses a noop claim in the\nresource tracker the NUMA topology will not be updated as part of\na rebuild.\n\nIf the NUMA constraints do not change, a rebuild will continue as normal.\nIf the new constraints conflict with the existing NUMA constraints of the\ninstance the rebuild will be rejected without altering the status of the\ninstance.\n\nThis change introduces an API check to block rebuild when the NUMA\nrequirements for the new image do not match the existing NUMA constraints.\nThis is in line with the previous check introduced to prevent the rebuild of\nvolume-backed instances which similarly are not supported.\n\nThis change adds functional tests to assert the expected behaviour of\nrebuilding NUMA instances with new images. This change also asserts that\nin place rebuilds of numa instances is currently not supported.\n\nModifications:\n\tnova/tests/functional/libvirt/test_numa_servers.py\n\nNOTE(stephenfin): The new tests added in 'test_numa_servers.py' had to\nbe modified to use the old-style '_wait_for_state_change' function,\nsince change I0c56841d098d3e9d72db65be3143f3c893f0b6ba isn't present on\n'stable/train' and it's too large and invasive to justify backporting.\nIn addition, a 'super()' call had to be updated to use the Python 2\ncompatible 'super(ClassName, self)' style.\n\nCloses-Bug: #1763766\nPartial-implements: blueprint inplace-rebuild-of-numa-instances\nChange-Id: I0322d872bdff68936033a6f5a54e8296a6fb3434\n(cherry picked from commit 6f5358ac1992b17b7f3f99d9a32290e0d4740dae)\n""}, {'number': 4, 'created': '2019-12-19 16:47:53.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/functional/integrated_helpers.py', 'releasenotes/notes/numa-rebuild-b75f9a1966f576ea.yaml', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/745de99063bf77704a7f0610fe9e3647257eaa50', 'message': ""Block rebuild when NUMA topology changed\n\nIf the image change during a rebuild it's possible for the request\nNUMA topology to change. As a rebuild uses a noop claim in the\nresource tracker the NUMA topology will not be updated as part of\na rebuild.\n\nIf the NUMA constraints do not change, a rebuild will continue as normal.\nIf the new constraints conflict with the existing NUMA constraints of the\ninstance the rebuild will be rejected without altering the status of the\ninstance.\n\nThis change introduces an API check to block rebuild when the NUMA\nrequirements for the new image do not match the existing NUMA constraints.\nThis is in line with the previous check introduced to prevent the rebuild of\nvolume-backed instances which similarly are not supported.\n\nThis change adds functional tests to assert the expected behaviour of\nrebuilding NUMA instances with new images. This change also asserts that\nin place rebuilds of numa instances is currently not supported.\n\nModifications:\n\tnova/tests/functional/libvirt/test_numa_servers.py\n\nNOTE(stephenfin): The new tests added in 'test_numa_servers.py' had to\nbe modified to use the old-style '_wait_for_state_change' function,\nsince change I80cdc0a33ec27b1389130c22f9c3a8ff69f6b1a0 isn't present on\n'stable/train' and it's too large and invasive to justify backporting.\nIn addition, a 'super()' call had to be updated to use the Python 2\ncompatible 'super(ClassName, self)' style.\n\nCloses-Bug: #1763766\nPartial-implements: blueprint inplace-rebuild-of-numa-instances\nChange-Id: I0322d872bdff68936033a6f5a54e8296a6fb3434\n(cherry picked from commit 6f5358ac1992b17b7f3f99d9a32290e0d4740dae)\n""}]",12,698530,745de99063bf77704a7f0610fe9e3647257eaa50,49,9,4,11604,,,0,"Block rebuild when NUMA topology changed

If the image change during a rebuild it's possible for the request
NUMA topology to change. As a rebuild uses a noop claim in the
resource tracker the NUMA topology will not be updated as part of
a rebuild.

If the NUMA constraints do not change, a rebuild will continue as normal.
If the new constraints conflict with the existing NUMA constraints of the
instance the rebuild will be rejected without altering the status of the
instance.

This change introduces an API check to block rebuild when the NUMA
requirements for the new image do not match the existing NUMA constraints.
This is in line with the previous check introduced to prevent the rebuild of
volume-backed instances which similarly are not supported.

This change adds functional tests to assert the expected behaviour of
rebuilding NUMA instances with new images. This change also asserts that
in place rebuilds of numa instances is currently not supported.

Modifications:
	nova/tests/functional/libvirt/test_numa_servers.py

NOTE(stephenfin): The new tests added in 'test_numa_servers.py' had to
be modified to use the old-style '_wait_for_state_change' function,
since change I80cdc0a33ec27b1389130c22f9c3a8ff69f6b1a0 isn't present on
'stable/train' and it's too large and invasive to justify backporting.
In addition, a 'super()' call had to be updated to use the Python 2
compatible 'super(ClassName, self)' style.

Closes-Bug: #1763766
Partial-implements: blueprint inplace-rebuild-of-numa-instances
Change-Id: I0322d872bdff68936033a6f5a54e8296a6fb3434
(cherry picked from commit 6f5358ac1992b17b7f3f99d9a32290e0d4740dae)
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/698530/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/functional/integrated_helpers.py', 'releasenotes/notes/numa-rebuild-b75f9a1966f576ea.yaml', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py']",7,11df1d508ac02f9a060ea8f4c98cf92ff2ebab80,bug/1763766," exception.ImageNUMATopologyRebuildConflict,",,320,5
openstack%2Fnetworking-ovn~stable%2Fstein~I3c01bd7d1685c8a7e13a55e545e98baf19e9a0f9,openstack/networking-ovn,stable/stein,I3c01bd7d1685c8a7e13a55e545e98baf19e9a0f9,"Only set ""unknown"" in LSP that makes sense",MERGED,2019-12-18 09:51:38.000000000,2019-12-20 18:43:17.000000000,2019-12-20 18:41:29.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-12-18 09:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/908db9d241a70b9a6b78a7d09c8d86134c32b279', 'message': 'Only set ""unknown"" in LSP that makes sense\n\nPrior to this patch, the ""unknown"" address was being set the logical\nswitch ports solely based on whether the port security was enabled or\ndisabled. That\'s not how it\'s intended to work.\n\nWith this patch the ""unknown"" address is only set to the normal logical\nswitch ports, those which types are ""router"", ""localnet"" or ""localport""\nwon\'t be affected.\n\nThe maintenance task was updated to correct this behavior for existing\nports (the maintenance was suppose to be removed in the T cycle, this\npatch bumps it to U cycle instead due to this change).\n\nCloses-Bug: #1838535\nRelated-Bug: #1815270\nChange-Id: I3c01bd7d1685c8a7e13a55e545e98baf19e9a0f9\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 6a89dbfe47ae1f384e08fede3bb6afae2ada7b9c)\n'}, {'number': 2, 'created': '2019-12-19 09:27:49.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/common/constants.py', 'networking_ovn/common/maintenance.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/86eee7957b081c75d4d4d0cd810e77f10937bda1', 'message': 'Only set ""unknown"" in LSP that makes sense\n\nPrior to this patch, the ""unknown"" address was being set the logical\nswitch ports solely based on whether the port security was enabled or\ndisabled. That\'s not how it\'s intended to work.\n\nWith this patch the ""unknown"" address is only set to the normal logical\nswitch ports, those which types are ""router"", ""localnet"" or ""localport""\nwon\'t be affected.\n\nThe maintenance task was updated to correct this behavior for existing\nports (the maintenance was suppose to be removed in the T cycle, this\npatch bumps it to U cycle instead due to this change).\n\nCloses-Bug: #1838535\nRelated-Bug: #1815270\nChange-Id: I3c01bd7d1685c8a7e13a55e545e98baf19e9a0f9\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 6a89dbfe47ae1f384e08fede3bb6afae2ada7b9c)\n'}]",0,699643,86eee7957b081c75d4d4d0cd810e77f10937bda1,14,5,2,24791,,,0,"Only set ""unknown"" in LSP that makes sense

Prior to this patch, the ""unknown"" address was being set the logical
switch ports solely based on whether the port security was enabled or
disabled. That's not how it's intended to work.

With this patch the ""unknown"" address is only set to the normal logical
switch ports, those which types are ""router"", ""localnet"" or ""localport""
won't be affected.

The maintenance task was updated to correct this behavior for existing
ports (the maintenance was suppose to be removed in the T cycle, this
patch bumps it to U cycle instead due to this change).

Closes-Bug: #1838535
Related-Bug: #1815270
Change-Id: I3c01bd7d1685c8a7e13a55e545e98baf19e9a0f9
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 6a89dbfe47ae1f384e08fede3bb6afae2ada7b9c)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/43/699643/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/common/constants.py', 'networking_ovn/common/maintenance.py']",3,908db9d241a70b9a6b78a7d09c8d86134c32b279,bug/1838535-stable/stein, # TODO(lucasagomes): Remove this in the U cycle if port.type == ovn_const.LSP_TYPE_LOCALNET: addresses = port.addresses type_ = port.type.strip() if not port.port_security: if not type_ and ovn_const.UNKNOWN_ADDR not in addresses: addresses.append(ovn_const.UNKNOWN_ADDR) elif type_ and ovn_const.UNKNOWN_ADDR in addresses: addresses.remove(ovn_const.UNKNOWN_ADDR) else: if type_ and ovn_const.UNKNOWN_ADDR in addresses: addresses.remove(ovn_const.UNKNOWN_ADDR) elif not type_ and ovn_const.UNKNOWN_ADDR in addresses: addresses.remove(ovn_const.UNKNOWN_ADDR) , # TODO(lucasagomes): Remove this in the T cycle addresses = port.addresses if not port.port_security and 'unknown' not in addresses: addresses.append('unknown') elif port.port_security and 'unknown' in addresses: addresses.remove('unknown') else:,34,18
openstack%2Fopenstack-ansible-openstack_hosts~master~I3403f2009694593ac7c1fb1fc99f4ccb9bb3a95e,openstack/openstack-ansible-openstack_hosts,master,I3403f2009694593ac7c1fb1fc99f4ccb9bb3a95e,Update Openstack code name to Ussuri,MERGED,2019-12-19 13:23:59.000000000,2019-12-20 18:04:12.000000000,2019-12-20 18:02:45.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25591}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-12-19 13:23:59.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/ae7c843560de079521060b27b81cd6dd08046ce3', 'message': 'Update Openstack code name to Ussuri\n\nChange-Id: I3403f2009694593ac7c1fb1fc99f4ccb9bb3a95e\n'}]",0,699984,ae7c843560de079521060b27b81cd6dd08046ce3,14,4,1,29865,,,0,"Update Openstack code name to Ussuri

Change-Id: I3403f2009694593ac7c1fb1fc99f4ccb9bb3a95e
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/84/699984/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,ae7c843560de079521060b27b81cd6dd08046ce3,update-code-name,"openstack_distrib_code_name: ""Ussuri""","openstack_distrib_code_name: ""Stein""",1,1
openstack%2Ftripleo-upgrade~master~Iabad8160ecf9afc3c98ccdc5a45f4cf921afc0f1,openstack/tripleo-upgrade,master,Iabad8160ecf9afc3c98ccdc5a45f4cf921afc0f1,"Improve docker validation to support ""dummy"" update.",ABANDONED,2019-09-25 14:57:51.000000000,2019-12-20 18:02:15.000000000,,"[{'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-09-25 14:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7baddcaa3f712c3ae18e14f8572113b54b659bc7', 'message': 'Improve docker validation to support ""dummy"" update.\n\nWe can have update to the same container image (same id) but different\ntag (dummy repo) in order to run a test on the very latest release.\n\nSo we make sure we support that edge case as well.\n\nChange-Id: Iabad8160ecf9afc3c98ccdc5a45f4cf921afc0f1\n'}, {'number': 2, 'created': '2019-12-03 15:26:11.000000000', 'files': ['templates/validate_docker_images_versions.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/bd580c98afcbbb1436095cebd2c6712b4f891f8e', 'message': 'Improve docker validation to support ""dummy"" update.\n\nWe can have update to the same container image (same id) but different\ntag (dummy repo) in order to run a test on the very latest release.\n\nSo we make sure we support that edge case as well.\n\nChange-Id: Iabad8160ecf9afc3c98ccdc5a45f4cf921afc0f1\n'}]",0,684770,bd580c98afcbbb1436095cebd2c6712b4f891f8e,7,5,2,8297,,,0,"Improve docker validation to support ""dummy"" update.

We can have update to the same container image (same id) but different
tag (dummy repo) in order to run a test on the very latest release.

So we make sure we support that edge case as well.

Change-Id: Iabad8160ecf9afc3c98ccdc5a45f4cf921afc0f1
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/70/684770/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/validate_docker_images_versions.sh.j2'],1,7baddcaa3f712c3ae18e14f8572113b54b659bc7,," ""sudo podman images -sort tag 2>&1 | grep ${_img_id} | grep -v pcmklatest | awk '{ print \$1\"":\""\$2}' | tail -n1"" )"," ""sudo podman images 2>&1 | grep ${_img_id} | grep -v pcmklatest | awk '{ print \$1\"":\""\$2}'"" )",1,1
openstack%2Ftripleo-upgrade~master~I8f05954f5d9e7806e90d7d6137a1a6c9879cdcb5,openstack/tripleo-upgrade,master,I8f05954f5d9e7806e90d7d6137a1a6c9879cdcb5,Fix python3 compatibility during role adjustment.,ABANDONED,2019-12-18 15:48:09.000000000,2019-12-20 18:01:45.000000000,,"[{'_account_id': 8297}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 15:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/db1a454a64f0ce001b16937a2350c02f8aaa0231', 'message': 'Fix python3 compatibility during role adjustment.\n\nIn Stein on, we deal with python3 by default and print ""foo"" isn\'t\nsupported anymore we need print(""foo"").\n\nChange-Id: I8f05954f5d9e7806e90d7d6137a1a6c9879cdcb5\nCloses-Bug: #1856865\n'}, {'number': 2, 'created': '2019-12-18 16:49:34.000000000', 'files': ['tasks/common/adjust-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/00223b4f09218c1112031354a47a24bba8c220d1', 'message': 'Fix python3 compatibility during role adjustment.\n\nIn Stein on, we deal with python3 by default and print ""foo"" isn\'t\nsupported anymore we need print(""foo"").\n\nChange-Id: I8f05954f5d9e7806e90d7d6137a1a6c9879cdcb5\nCloses-Bug: #1856865\n'}]",0,699709,00223b4f09218c1112031354a47a24bba8c220d1,6,2,2,8297,,,0,"Fix python3 compatibility during role adjustment.

In Stein on, we deal with python3 by default and print ""foo"" isn't
supported anymore we need print(""foo"").

Change-Id: I8f05954f5d9e7806e90d7d6137a1a6c9879cdcb5
Closes-Bug: #1856865
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/09/699709/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/adjust-roles-data.yaml'],1,db1a454a64f0ce001b16937a2350c02f8aaa0231,bug/1856865," print(yaml.dump(simplejson.loads(str(sys.stdin.read()))),"," print yaml.dump(simplejson.loads(str(sys.stdin.read())),",1,1
openstack%2Ftripleo-ansible~master~I361421040adbcb56d6e0c7e11f16a9fa40205f63,openstack/tripleo-ansible,master,I361421040adbcb56d6e0c7e11f16a9fa40205f63,Special handling for podman update.,ABANDONED,2019-11-07 16:36:54.000000000,2019-12-20 18:00:54.000000000,,"[{'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-07 16:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ec0320982aa79786baa82e3e90be3a5c803b5677', 'message': 'Special handling for podman update.\n\nJump from podman 1.0 to 1.1 or newer requires a special handling of\npodman package update.\n\nThere, happens a one-time change to deal with the switch from file\nlocks to in-memory locking.  That change needs to be implemented using\npodman system renumber.\n\nChange-Id: I361421040adbcb56d6e0c7e11f16a9fa40205f63\n'}, {'number': 2, 'created': '2019-12-03 17:30:41.000000000', 'files': ['tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_special_update.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fbfaf74334bda7d3044568b0502e9aa65b122da7', 'message': 'Special handling for podman update.\n\nJump from podman 1.0 to 1.1 or newer requires a special handling of\npodman package update.\n\nThere, happens a one-time change to deal with the switch from file\nlocks to in-memory locking.  That change needs to be implemented using\npodman system renumber.\n\nChange-Id: I361421040adbcb56d6e0c7e11f16a9fa40205f63\n'}]",10,693387,fbfaf74334bda7d3044568b0502e9aa65b122da7,15,7,2,8297,,,0,"Special handling for podman update.

Jump from podman 1.0 to 1.1 or newer requires a special handling of
podman package update.

There, happens a one-time change to deal with the switch from file
locks to in-memory locking.  That change needs to be implemented using
podman system renumber.

Change-Id: I361421040adbcb56d6e0c7e11f16a9fa40205f63
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/87/693387/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_special_update.yml'],1,ec0320982aa79786baa82e3e90be3a5c803b5677,693387,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Podman special update handling become: true block: - name: get current version command: ""podman --version"" register: podman_current_version - name: get next version shell: | set -o pipefail dnf info -q podman | awk '/^Version/{print $NF}' register: podman_next_version # Required for podman update from Podman 1.0.x to any Podman # 1.1.x or higher - block: - name: get all the running container id command: podman container ls -q register: podman_ls_cmd - name: stop all containers before podman update. command: podman stop --all --timeout 100 - name: update podman package: - name: podman ensure: latest - name: migrate the locks command: podman system renumber - name: restart all containers podman_container: name: ""{{ item }}"" state: started loop: podman_version_cmd.stdout_lines when: - ""'podman version 1.0.' in podman_current_version.stdout"" - ""'1.0' not in podman_next_version.stdout[0:3]"" ",,56,0
openstack%2Ftripleo-heat-templates~master~Ic75df22e5d303bc9da8b2fad9cb6bdc7bb34c78b,openstack/tripleo-heat-templates,master,Ic75df22e5d303bc9da8b2fad9cb6bdc7bb34c78b,Special handling of podman update from 1.0.X to 1.1.X.,ABANDONED,2019-11-07 16:50:21.000000000,2019-12-20 18:00:17.000000000,,"[{'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-07 16:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a38565e06d5f4b2b2b905207e06147367e017df4', 'message': 'Special handling of podman update from 1.0.X to 1.1.X.\n\nHeat template part of the podman special handling.\n\nFor reference jump from podman 1.0 to 1.1 or newer requires a special\nhandling of podman package update in order to switch from file locks\nto in-memory locks.\n\nWe check if the special handling is necessary and then trigger some\npreventive action (ceph norebalancing, ...) if necessary and then do\nthe podman update.\n\nChange-Id: Ic75df22e5d303bc9da8b2fad9cb6bdc7bb34c78b\n'}, {'number': 2, 'created': '2019-11-07 16:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dbc2c93b07db5199b2d39c2137bbde153ff3de33', 'message': 'Special handling of podman update from 1.0.X to 1.1.X.\n\nHeat template part of the podman special handling.\n\nFor reference jump from podman 1.0 to 1.1 or newer requires a special\nhandling of podman package update in order to switch from file locks\nto in-memory locks.\n\nWe check if the special handling is necessary and then trigger some\npreventive action (ceph norebalancing, ...) if necessary and then do\nthe podman update.\n\nChange-Id: Ic75df22e5d303bc9da8b2fad9cb6bdc7bb34c78b\n'}, {'number': 3, 'created': '2019-11-07 16:53:42.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2fe03f4a8038e84518635340017108f13aa3bffb', 'message': 'Special handling of podman update from 1.0.X to 1.1.X.\n\nHeat template part of the podman special handling.\n\nFor reference jump from podman 1.0 to 1.1 or newer requires a special\nhandling of podman package update in order to switch from file locks\nto in-memory locks.\n\nWe check if the special handling is necessary and then trigger some\npreventive action (ceph norebalancing, ...) if necessary and then do\nthe podman update.\n\nDepends-On: https://review.opendev.org/693387\n\nChange-Id: Ic75df22e5d303bc9da8b2fad9cb6bdc7bb34c78b\n'}]",0,693394,2fe03f4a8038e84518635340017108f13aa3bffb,8,6,3,8297,,,0,"Special handling of podman update from 1.0.X to 1.1.X.

Heat template part of the podman special handling.

For reference jump from podman 1.0 to 1.1 or newer requires a special
handling of podman package update in order to switch from file locks
to in-memory locks.

We check if the special handling is necessary and then trigger some
preventive action (ceph norebalancing, ...) if necessary and then do
the podman update.

Depends-On: https://review.opendev.org/693387

Change-Id: Ic75df22e5d303bc9da8b2fad9cb6bdc7bb34c78b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/693394/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,a38565e06d5f4b2b2b905207e06147367e017df4,," - block: - name: get current version command: ""podman --version"" register: podman_current_version - name: get next version shell: | set -o pipefail dnf info -q podman | awk '/^Version/{print $NF}' register: podman_next_version - name: Special podman handling. when: - (step | int) == 3 - ""'podman version 1.0.' in podman_current_version.stdout"" - ""'1.0' not in podman_next_version.stdout[0:3]"" block: - debug: msg: ""NEED SOME MAGIC TO PREVENT REBALANCE ON CEPH NODE"" - debug: msg: ""Maybe some magic to the sidecar container metadata api (less important)"" - include_role: name: tripleo-podman tasks_from: tripleo_podman_special_update.yml ",,25,0
openstack%2Fos-brick~stable%2Fstein~I29d65ae036957f3a63cba93dd330b14e3361a1b9,openstack/os-brick,stable/stein,I29d65ae036957f3a63cba93dd330b14e3361a1b9,linuxscsi: Stop waiting for multipath devices during extend_volume,MERGED,2019-12-11 17:16:30.000000000,2019-12-20 17:31:13.000000000,2019-12-20 17:29:18.000000000,"[{'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-12-11 17:16:30.000000000', 'files': ['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/initiator/connectors/nvme.py', 'os_brick/tests/initiator/connectors/test_nvme.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/f7e06bce68519ab1715a70da91f9cf4f457d3c19', 'message': 'linuxscsi: Stop waiting for multipath devices during extend_volume\n\nPreviously linuxscsi.extend_volume would always attempt to wait for\nmultipath devices to appear regardless of multipath actually being used\nby the connector.\n\nThis change corrects this by passing down the existing use_multipath\nattribute from the iSCSI and FC connectors into linuxscsi.extend_volume.\nThe same attribute is introduced to the NVMe connector to also allow it\nto skip this search for multipath devices.\n\nChange-Id: I29d65ae036957f3a63cba93dd330b14e3361a1b9\nCloses-bug: #1832247\n(cherry picked from commit 9cf135c68640f81838e2898b4aef3e0445770089)\n'}]",0,698546,f7e06bce68519ab1715a70da91f9cf4f457d3c19,15,8,1,10135,,,0,"linuxscsi: Stop waiting for multipath devices during extend_volume

Previously linuxscsi.extend_volume would always attempt to wait for
multipath devices to appear regardless of multipath actually being used
by the connector.

This change corrects this by passing down the existing use_multipath
attribute from the iSCSI and FC connectors into linuxscsi.extend_volume.
The same attribute is introduced to the NVMe connector to also allow it
to skip this search for multipath devices.

Change-Id: I29d65ae036957f3a63cba93dd330b14e3361a1b9
Closes-bug: #1832247
(cherry picked from commit 9cf135c68640f81838e2898b4aef3e0445770089)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/46/698546/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/initiator/connectors/nvme.py', 'os_brick/tests/initiator/connectors/test_nvme.py']",6,f7e06bce68519ab1715a70da91f9cf4f457d3c19,bug/1832247," execute=self.fake_execute, use_multipath=False) @mock.patch.object(linuxscsi.LinuxSCSI, 'find_multipath_device_path') def test_extend_volume(self, mock_volume_paths, mock_scsi_extend, mock_scsi_find_mpath): mock_scsi_find_mpath.assert_not_called()"," execute=self.fake_execute) def test_extend_volume(self, mock_volume_paths, mock_scsi_extend):",37,25
openstack%2Foslo.privsep~master~Ib800f8d30c59adc6f46960c5810cba782839a902,openstack/oslo.privsep,master,Ib800f8d30c59adc6f46960c5810cba782839a902,Bump the openstackdocstheme extension to 1.20,MERGED,2019-10-12 06:54:21.000000000,2019-12-20 17:04:45.000000000,2019-12-20 17:03:08.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-12 06:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/984a62250f42df4a45d0aa8d1ff817c53603e39a', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Ib800f8d30c59adc6f46960c5810cba782839a902\n'}, {'number': 2, 'created': '2019-11-12 09:11:17.000000000', 'files': ['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/48fe5e3e3f067fc644f3bb9fcfba04d43382d4aa', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Ib800f8d30c59adc6f46960c5810cba782839a902\n'}]",4,688242,48fe5e3e3f067fc644f3bb9fcfba04d43382d4aa,13,4,2,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: Ib800f8d30c59adc6f46960c5810cba782839a902
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/42/688242/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py']",4,984a62250f42df4a45d0aa8d1ff817c53603e39a,openstackdocstheme,,"html_last_updated_fmt = '%Y-%m-%d %H:%M'project = u'oslo.privsep Release Notes'latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",2,16
openstack%2Fpython-senlinclient~master~Iadad5e6b719f3db8cad401a031718de41bfa8417,openstack/python-senlinclient,master,Iadad5e6b719f3db8cad401a031718de41bfa8417,Sync Sphinx requirement,ABANDONED,2019-06-19 16:56:12.000000000,2019-12-20 16:51:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 28471}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-06-19 16:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/2c87cf6369315e6598806916b94ca5b51568f2e3', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Update the UPPER_CONSTRAINTS_FILE for tox[1]\n\n[1]: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Iadad5e6b719f3db8cad401a031718de41bfa8417\n'}, {'number': 2, 'created': '2019-06-19 16:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/e44ff640bab3a66d51b92dfbbb7c2ba43962501e', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Update the UPPER_CONSTRAINTS_FILE for tox[1]\n3. Remove unncessary ""==""\n\n[1]: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Iadad5e6b719f3db8cad401a031718de41bfa8417\n'}, {'number': 3, 'created': '2019-06-25 04:15:39.000000000', 'files': ['doc/requirements.txt', 'releasenotes/source/stein.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/7df6c30054395ae5b7fd25572a645f5ebd33196d', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Update the UPPER_CONSTRAINTS_FILE for tox[1]\n3. Remove unncessary ""==""\n\n[1]: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Iadad5e6b719f3db8cad401a031718de41bfa8417\n'}]",0,666398,7df6c30054395ae5b7fd25572a645f5ebd33196d,9,3,3,28614,,,0,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Update the UPPER_CONSTRAINTS_FILE for tox[1]
3. Remove unncessary ""==""

[1]: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Iadad5e6b719f3db8cad401a031718de41bfa8417
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/98/666398/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,2c87cf6369315e6598806916b94ca5b51568f2e3,, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},6,4
openstack%2Freleases~master~Ife8aeaa5ca2e5b150f665940f75dca1b29c39c79,openstack/releases,master,Ife8aeaa5ca2e5b150f665940f75dca1b29c39c79,Release kayobe 7.0.0.0rc1 for Train,MERGED,2019-12-20 13:56:28.000000000,2019-12-20 16:41:59.000000000,2019-12-20 16:41:59.000000000,"[{'_account_id': 11904}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-20 13:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1a231172da9811f6258f9fd7a8e201e3d16e1a0c', 'message': 'Release kayobe 7.0.0.0rc1 for Train\n\nChange-Id: Ife8aeaa5ca2e5b150f665940f75dca1b29c39c79\n'}, {'number': 2, 'created': '2019-12-20 16:16:17.000000000', 'files': ['deliverables/train/kayobe.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/62eef1a6f2b87aa5be07c46a057c9c921a9ca35d', 'message': 'Release kayobe 7.0.0.0rc1 for Train\n\nChange-Id: Ife8aeaa5ca2e5b150f665940f75dca1b29c39c79\n'}]",0,700174,62eef1a6f2b87aa5be07c46a057c9c921a9ca35d,12,5,2,15197,,,0,"Release kayobe 7.0.0.0rc1 for Train

Change-Id: Ife8aeaa5ca2e5b150f665940f75dca1b29c39c79
",git fetch https://review.opendev.org/openstack/releases refs/changes/74/700174/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/kayobe.yaml'],1,1a231172da9811f6258f9fd7a8e201e3d16e1a0c,kayobe-train-rc1, openstack/kayobe-config: {} openstack/kayobe-config-dev: {} branches: - name: stable/train location: 7.0.0.0rc1 releases: - version: 7.0.0.0rc1 projects: - repo: openstack/kayobe hash: 47aeacbacb0fca4e2547b2e61196d65ed4182b11 - repo: openstack/kayobe-config hash: 17bda47d194a7d34cc4f4d3f3cf1b59fe3983e23 - repo: openstack/kayobe-config-dev hash: ae4bcc722734497106b05ad6fdc82ab9a4a8620b,,14,0
openstack%2Fproject-config~master~Ibe07ac22f9266396898a52d1f1c864401ceeb516,openstack/project-config,master,Ibe07ac22f9266396898a52d1f1c864401ceeb516,Add release jobs for kayobe-config repos,ABANDONED,2019-12-20 14:44:56.000000000,2019-12-20 16:37:23.000000000,,"[{'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-20 14:44:56.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/38c96d07bed2816c420f0aba4fef9470d9a7e304', 'message': 'Add release jobs for kayobe-config repos\n\nThese are repositories of configuration files which are not meant to be\ninstalled via pip, so only publish tarballs rather than publish to PyPI.\n\nChange-Id: Ibe07ac22f9266396898a52d1f1c864401ceeb516\n'}]",1,700182,38c96d07bed2816c420f0aba4fef9470d9a7e304,16,6,1,15197,,,0,"Add release jobs for kayobe-config repos

These are repositories of configuration files which are not meant to be
installed via pip, so only publish tarballs rather than publish to PyPI.

Change-Id: Ibe07ac22f9266396898a52d1f1c864401ceeb516
",git fetch https://review.opendev.org/openstack/project-config refs/changes/82/700182/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,38c96d07bed2816c420f0aba4fef9470d9a7e304,kayobe-config-release-jobs, name: openstack/kayobe-config release: jobs: - publish-openstack-python-branch-tarball - project: name: openstack/kayobe-config-dev release: jobs: - publish-openstack-python-branch-tarball - project:,,12,0
openstack%2Foslo.concurrency~master~I25efc1638106431ee36e760c0c213a1a675ec908,openstack/oslo.concurrency,master,I25efc1638106431ee36e760c0c213a1a675ec908,Fix remove_lock test,MERGED,2019-10-18 14:35:16.000000000,2019-12-20 16:35:08.000000000,2019-12-20 16:31:35.000000000,"[{'_account_id': 6928}, {'_account_id': 9535}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-18 14:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/9ee959422937b6bb8b0f878f77e5ca06496e2ad4', 'message': ""Fix remove_lock test\n\nCurrent external lock removal unit tests are not really testing the\nremoval as they don't bother to create the lock.\n\nThis patch fixes this situation by creating the lock and also creates a\nspecific test for removing a non-existent lock.\n\nChange-Id: I25efc1638106431ee36e760c0c213a1a675ec908\n""}, {'number': 2, 'created': '2019-12-20 12:39:02.000000000', 'files': ['oslo_concurrency/tests/unit/test_lockutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/e2c71e9937fe1b7faf06bc1435f0018a386eb4ac', 'message': ""Fix remove_lock test\n\nCurrent external lock removal unit tests are not really testing the\nremoval as they don't bother to check that we are calling os.remove\n\nThis patch fixes this situation by mocking the appropriate methods and\nchecking that they are being called (or not) as expected.\n\nChange-Id: I25efc1638106431ee36e760c0c213a1a675ec908\n""}]",4,689481,e2c71e9937fe1b7faf06bc1435f0018a386eb4ac,14,5,2,9535,,,0,"Fix remove_lock test

Current external lock removal unit tests are not really testing the
removal as they don't bother to check that we are calling os.remove

This patch fixes this situation by mocking the appropriate methods and
checking that they are being called (or not) as expected.

Change-Id: I25efc1638106431ee36e760c0c213a1a675ec908
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/81/689481/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_concurrency/tests/unit/test_lockutils.py'],1,9ee959422937b6bb8b0f878f77e5ca06496e2ad4,no-warning-removing-locks,"import mock def _test_remove_lock_external_file(self, lock_dir, use_external=False, create_lock=True): lock_path = lock_dir if use_external else None if create_lock: with lockutils.lock(lock_name, lock_pfix, use_external, lock_path, do_log=False): pass def test_remove_lock_external_file_lock_path_exists(self): with mock.patch.object(lockutils.LOG, 'info') as log_mock: self._test_remove_lock_external_file(tempfile.mkdtemp(), use_external=True) # No log call means we actually deleted the file log_mock.assert_not_called() def test_remove_lock_external_file_lock_path_doesnt_exist(self): with mock.patch.object(lockutils.LOG, 'info') as log_mock: self._test_remove_lock_external_file(tempfile.mkdtemp(), use_external=True, create_lock=False) # File doesn't exist, so there must be a log call log_mock.assert_called()"," def _test_remove_lock_external_file(self, lock_dir, use_external=False): if use_external: lock_path = lock_dir else: lock_path = None def test_remove_lock_external_file_lock_path(self): self._test_remove_lock_external_file(tempfile.mkdtemp(), use_external=True)",22,8
openstack%2Fopenstack-ansible-lxc_hosts~master~I372d72922ad58abc46b816f953e68972770d808a,openstack/openstack-ansible-lxc_hosts,master,I372d72922ad58abc46b816f953e68972770d808a,tox: Keeping going with docs,ABANDONED,2019-10-23 17:23:32.000000000,2019-12-20 16:25:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-23 17:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/818d9795d27c4eff6b65d922b3dbc63bb50a2ff5', 'message': 'tox: Keeping going with docs\n\nChange-Id: I372d72922ad58abc46b816f953e68972770d808a\n'}, {'number': 2, 'created': '2019-10-23 17:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/fb3721bc6e8b95710873b5b9ea809262c5089136', 'message': ""tox: Keeping going with docs\n\n1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n2. Remove the unnecessary blank line for tox.ini\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nDepends-On: Ie837d376bb1a1d93367369d25140dd8a9d5ac14e\nChange-Id: I372d72922ad58abc46b816f953e68972770d808a\n""}, {'number': 3, 'created': '2019-12-20 16:23:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/bf77ff09418843c1281dc61dbdedc3bad7e2f4a9', 'message': ""tox: Keeping going with docs\n\n1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n2. Remove the unnecessary blank line for tox.ini\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nDepends-On: Ie837d376bb1a1d93367369d25140dd8a9d5ac14e\nChange-Id: I372d72922ad58abc46b816f953e68972770d808a\n""}]",0,690680,bf77ff09418843c1281dc61dbdedc3bad7e2f4a9,5,1,3,28614,,,0,"tox: Keeping going with docs

1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.
2. Remove the unnecessary blank line for tox.ini

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Depends-On: Ie837d376bb1a1d93367369d25140dd8a9d5ac14e
Change-Id: I372d72922ad58abc46b816f953e68972770d808a
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/80/690680/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,818d9795d27c4eff6b65d922b3dbc63bb50a2ff5,, sphinx-build --keep-going -b html doc/source doc/build/html sphinx-build -W --keep-going -b latex doc/source doc/build/pdf sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -b html doc/source doc/build/html sphinx-build -W -b latex doc/source doc/build/pdf sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html ,3,16
openstack%2Fcharm-nova-cloud-controller~master~Idacb60bb31cd60cb1deaec7cb3ec061f0c04da24,openstack/charm-nova-cloud-controller,master,Idacb60bb31cd60cb1deaec7cb3ec061f0c04da24,config: allow to create VMs with unique names,MERGED,2019-05-22 14:25:26.000000000,2019-12-20 16:25:14.000000000,2019-12-20 16:25:14.000000000,"[{'_account_id': 935}, {'_account_id': 2424}, {'_account_id': 7730}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-22 14:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/03d5d394c794c3958efcbdc0cfe83a4d16e8a31a', 'message': 'config: allow to create VMs with unique names\n\nThis commit introduces option osapi_compute_unique_server_name_scope\nwhich allows operators to ensure VMs are created with uniq names per\ntenant or cloud.\n\nChange-Id: Idacb60bb31cd60cb1deaec7cb3ec061f0c04da24\nCloses-Bug: #1829782\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 2, 'created': '2019-07-25 09:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/0f27521e7e0a5ebeeafa71ac9a38edd3a268dc2f', 'message': 'config: allow to create VMs with unique names\n\nThis commit introduces option osapi_compute_unique_server_name_scope\nwhich allows operators to ensure VMs are created with uniq names per\ntenant or cloud.\n\nChange-Id: Idacb60bb31cd60cb1deaec7cb3ec061f0c04da24\nCloses-Bug: #1829782\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 3, 'created': '2019-07-25 09:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/558185e520ea71c8b2e0ca57521ec7698ce115c5', 'message': 'config: allow to create VMs with unique names\n\nThis commit introduces option osapi_compute_unique_server_name_scope\nwhich allows operators to ensure VMs are created with uniq names per\ntenant or cloud.\n\nChange-Id: Idacb60bb31cd60cb1deaec7cb3ec061f0c04da24\nCloses-Bug: #1829782\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 4, 'created': '2019-12-11 16:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/024d25beba3adf84a31c4490d8c9a65606c6dc97', 'message': 'config: allow to create VMs with unique names\n\nThis commit introduces option osapi_compute_unique_server_name_scope\nwhich allows operators to ensure VMs are created with uniq names per\ntenant or cloud.\n\nChange-Id: Idacb60bb31cd60cb1deaec7cb3ec061f0c04da24\nCloses-Bug: #1829782\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 5, 'created': '2019-12-20 02:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/1e2e5793d2865c71563dfb1c4560379dd1fcc779', 'message': 'config: allow to create VMs with unique names\n\nThis commit introduces option osapi_compute_unique_server_name_scope\nwhich allows operators to ensure VMs are created with uniq names per\ntenant or cloud.\n\nChange-Id: Idacb60bb31cd60cb1deaec7cb3ec061f0c04da24\nCloses-Bug: #1829782\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 6, 'created': '2019-12-20 14:56:22.000000000', 'files': ['templates/ocata/nova.conf', 'templates/liberty/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'templates/icehouse/nova.conf', 'unit_tests/test_nova_cc_contexts.py', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/mitaka/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/40282e035627a03404579f34e33714e2e35e9aeb', 'message': 'config: allow to create VMs with unique names\n\nThis commit introduces option osapi_compute_unique_server_name_scope\nwhich allows operators to ensure VMs are created with unique names per\nproject or cloud.\n\nChange-Id: Idacb60bb31cd60cb1deaec7cb3ec061f0c04da24\nCloses-Bug: #1829782\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}]",8,660736,40282e035627a03404579f34e33714e2e35e9aeb,31,5,6,7730,,,0,"config: allow to create VMs with unique names

This commit introduces option osapi_compute_unique_server_name_scope
which allows operators to ensure VMs are created with unique names per
project or cloud.

Change-Id: Idacb60bb31cd60cb1deaec7cb3ec061f0c04da24
Closes-Bug: #1829782
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/36/660736/5 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ocata/nova.conf', 'templates/liberty/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'templates/icehouse/nova.conf', 'unit_tests/test_nova_cc_contexts.py', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/mitaka/nova.conf']",11,03d5d394c794c3958efcbdc0cfe83a4d16e8a31a,bug/1829782,osapi_compute_unique_server_name_scope = {{ server_name_scope }},,24,0
openstack%2Fcharm-cinder~master~Ia76a5c6524d6682efba9eaa2fb2d2e80dad458aa,openstack/charm-cinder,master,Ia76a5c6524d6682efba9eaa2fb2d2e80dad458aa,Add oslo notification topics configuration option,MERGED,2019-12-14 18:54:26.000000000,2019-12-20 16:22:09.000000000,2019-12-20 16:22:08.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 28014}, {'_account_id': 30442}]","[{'number': 1, 'created': '2019-12-14 18:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/813f96ff4b3d70d05669bb6abbc322686148cff1', 'message': 'Add oslo notification topics configuration option\n\nThis patch adds a configuration option for oslo notification topics.\nCharm Helpers can accept this option to fill the configuration\ntemplate appropriately.\n\nChange-Id: Ia76a5c6524d6682efba9eaa2fb2d2e80dad458aa\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 2, 'created': '2019-12-18 11:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/3a89f8971c060901bf09d3bcb1e89273ca76b0a6', 'message': 'Add oslo notification topics configuration option\n\nThis patch adds a configuration option for oslo notification topics.\nCharm Helpers can accept this option to fill the configuration\ntemplate appropriately.\n\nChange-Id: Ia76a5c6524d6682efba9eaa2fb2d2e80dad458aa\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 3, 'created': '2019-12-19 11:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/3952419a7e9b8067aaf1f4b96dbf9e7f6dfe0b79', 'message': 'Add oslo notification topics configuration option\n\nThis patch adds a configuration option for oslo notification topics.\nCharm Helpers can accept this option to fill the configuration\ntemplate appropriately.\n\nChange-Id: Ia76a5c6524d6682efba9eaa2fb2d2e80dad458aa\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 4, 'created': '2019-12-19 19:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/0cac4413959938cc7bb3971697243a8417941ec2', 'message': 'Add oslo notification topics configuration option\n\nThis patch adds a configuration option for oslo notification topics.\nCharm Helpers can accept this option to fill the configuration\ntemplate appropriately.\n\nChange-Id: Ia76a5c6524d6682efba9eaa2fb2d2e80dad458aa\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 5, 'created': '2019-12-20 15:06:09.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/7050d048a6e2f43b14872639c20ebc63f7590f5f', 'message': 'Add oslo notification topics configuration option\n\nThis patch adds a configuration option for oslo notification topics.\nCharm Helpers can accept this option to fill the configuration\ntemplate appropriately.\n\nChange-Id: Ia76a5c6524d6682efba9eaa2fb2d2e80dad458aa\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}]",1,699081,7050d048a6e2f43b14872639c20ebc63f7590f5f,30,6,5,28014,,,0,"Add oslo notification topics configuration option

This patch adds a configuration option for oslo notification topics.
Charm Helpers can accept this option to fill the configuration
template appropriately.

Change-Id: Ia76a5c6524d6682efba9eaa2fb2d2e80dad458aa
Signed-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/81/699081/2 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,813f96ff4b3d70d05669bb6abbc322686148cff1,add-notification-topics," notification-topics: type: string default: """" description: | A comma-separated list of oslo notification topics. If left empty, the default topic 'cinder' is going to be used.",,6,0
openstack%2Fnova~stable%2Ftrain~I14637d788205408dcf9a007d7727358c03033dcd,openstack/nova,stable/train,I14637d788205408dcf9a007d7727358c03033dcd,Remove 'test_cold_migrate_with_physnet_fails' test,MERGED,2019-12-19 16:35:12.000000000,2019-12-20 16:12:58.000000000,2019-12-20 16:10:36.000000000,"[{'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9732}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-19 16:35:12.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8b766d14cf979cd994d52db71267b93aacee42e8', 'message': 'Remove \'test_cold_migrate_with_physnet_fails\' test\n\nThis never actually worked. What we wanted to do was test a setup where\nwe had two hosts, one with the necessary configuration needed for a\nspecific request and one without, and attempt to cold migrate the\ninstance from the former to the latter resulting in a fail. However,\nbecause it\'s not possible to use different configuration for different\nhosts, we were attempting to ""break"" the configuration on one host.\nUnfortunately, the driver correctly detects this broken behavior,\nresulting in an error message like so:\n\n  ERROR [nova.compute.manager] Error updating resources for node test_compute1.\n  Traceback (most recent call last):\n    File ""nova/compute/manager.py"", line 8524, in _update_available_resource_for_node\n      startup=startup)\n    File ""nova/compute/resource_tracker.py"", line 867, in update_available_resource\n      resources = self.driver.get_available_resource(nodename)\n    File ""nova/virt/libvirt/driver.py"", line 7907, in get_available_resource\n      numa_topology = self._get_host_numa_topology()\n    File ""nova/virt/libvirt/driver.py"", line 7057, in _get_host_numa_topology\n      physnet_affinities = _get_physnet_numa_affinity()\n    File ""nova/virt/libvirt/driver.py"", line 7039, in _get_physnet_numa_affinity\n      raise exception.InvalidNetworkNUMAAffinity(reason=msg)\n  InvalidNetworkNUMAAffinity: Invalid NUMA network affinity configured: node 1 for\n  physnet foo is not present in host affinity set {0: set([])}\n\nThere isn\'t really an alternative. We can\'t configure compute nodes\nseparately so that\'s ruled out and the virt driver will correctly detect\nany other attempts to break the configuration. Since the test never\nactually worked, the correct thing to do seems to be to remove it.\n\nNOTE(stephenfin): This was backported to make the backport of change\nI0322d872bdff68936033a6f5a54e8296a6fb3434 cleaner, but it also applies\nhere.\n\nChange-Id: I14637d788205408dcf9a007d7727358c03033dcd\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit a4ca0b531cb3eabdeee6aab925220067ebd81172)\n'}]",0,700021,8b766d14cf979cd994d52db71267b93aacee42e8,14,8,1,15334,,,0,"Remove 'test_cold_migrate_with_physnet_fails' test

This never actually worked. What we wanted to do was test a setup where
we had two hosts, one with the necessary configuration needed for a
specific request and one without, and attempt to cold migrate the
instance from the former to the latter resulting in a fail. However,
because it's not possible to use different configuration for different
hosts, we were attempting to ""break"" the configuration on one host.
Unfortunately, the driver correctly detects this broken behavior,
resulting in an error message like so:

  ERROR [nova.compute.manager] Error updating resources for node test_compute1.
  Traceback (most recent call last):
    File ""nova/compute/manager.py"", line 8524, in _update_available_resource_for_node
      startup=startup)
    File ""nova/compute/resource_tracker.py"", line 867, in update_available_resource
      resources = self.driver.get_available_resource(nodename)
    File ""nova/virt/libvirt/driver.py"", line 7907, in get_available_resource
      numa_topology = self._get_host_numa_topology()
    File ""nova/virt/libvirt/driver.py"", line 7057, in _get_host_numa_topology
      physnet_affinities = _get_physnet_numa_affinity()
    File ""nova/virt/libvirt/driver.py"", line 7039, in _get_physnet_numa_affinity
      raise exception.InvalidNetworkNUMAAffinity(reason=msg)
  InvalidNetworkNUMAAffinity: Invalid NUMA network affinity configured: node 1 for
  physnet foo is not present in host affinity set {0: set([])}

There isn't really an alternative. We can't configure compute nodes
separately so that's ruled out and the virt driver will correctly detect
any other attempts to break the configuration. Since the test never
actually worked, the correct thing to do seems to be to remove it.

NOTE(stephenfin): This was backported to make the backport of change
I0322d872bdff68936033a6f5a54e8296a6fb3434 cleaner, but it also applies
here.

Change-Id: I14637d788205408dcf9a007d7727358c03033dcd
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit a4ca0b531cb3eabdeee6aab925220067ebd81172)
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/700021/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_numa_servers.py'],1,8b766d14cf979cd994d52db71267b93aacee42e8,bug/1763766,," def test_cold_migrate_with_physnet_fails(self): host_infos = [ # host 1 has room on both nodes fakelibvirt.HostInfo(cpu_nodes=2, cpu_sockets=1, cpu_cores=2, cpu_threads=2, kB_mem=15740000), # host 2 has no second node, where the desired physnet is # reported to be attached fakelibvirt.HostInfo(cpu_nodes=1, cpu_sockets=1, cpu_cores=1, cpu_threads=1, kB_mem=15740000), ] # Start services self.computes = {} for host in ['test_compute0', 'test_compute1']: host_info = host_infos.pop(0) fake_connection = self._get_connection( host_info=host_info, hostname=host) # This is fun. Firstly we need to do a global'ish mock so we can # actually start the service. with mock.patch('nova.virt.libvirt.host.Host.get_connection', return_value=fake_connection): compute = self.start_service('compute', host=host) # Once that's done, we need to do some tweaks to each individual # compute ""service"" to make sure they return unique objects compute.driver._host.get_connection = lambda: fake_connection self.computes[host] = compute # Create server extra_spec = {'hw:numa_nodes': '1'} flavor_id = self._create_flavor(extra_spec=extra_spec) networks = [ {'uuid': base.LibvirtNeutronFixture.network_1['id']}, ] good_server = self._build_server(flavor_id) good_server['networks'] = networks post = {'server': good_server} created_server = self.api.post_server(post) server = self._wait_for_state_change(created_server, 'BUILD') self.assertEqual('ACTIVE', server['status']) # TODO(stephenfin): The mock of 'migrate_disk_and_power_off' should # probably be less...dumb with mock.patch('nova.virt.libvirt.driver.LibvirtDriver' '.migrate_disk_and_power_off', return_value='{}'): ex = self.assertRaises(client.OpenStackApiException, self.api.post_server_action, server['id'], {'migrate': None}) self.assertEqual(400, ex.response.status_code) self.assertIn('No valid host', six.text_type(ex))",0,58
openstack%2Fmonasca-notification~master~I48593e7b565b1f9ad8921fee64d91b1fc4838ae6,openstack/monasca-notification,master,I48593e7b565b1f9ad8921fee64d91b1fc4838ae6,Add custom formatting options for HipChat,ABANDONED,2016-07-29 22:16:20.000000000,2019-12-20 16:11:32.000000000,,"[{'_account_id': 220}, {'_account_id': 2419}, {'_account_id': 11809}, {'_account_id': 14273}, {'_account_id': 16168}, {'_account_id': 16222}, {'_account_id': 17001}, {'_account_id': 17244}, {'_account_id': 17669}]","[{'number': 1, 'created': '2016-07-29 22:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/a5743d08f193c294e3d1b56a20a515d907eb2aca', 'message': 'Add custom formatting option for HipChat\n\nChange-Id: I48593e7b565b1f9ad8921fee64d91b1fc4838ae6\n'}, {'number': 2, 'created': '2016-07-30 03:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/2cced8182d583e7787095790c2c2546d04fb7ec5', 'message': 'Add custom formatting options for HipChat\n\nCustom formatting is driven by an yaml file. Fields in the yaml\nfile can be furthur customized by using Jinja2 template\n\nChange-Id: I48593e7b565b1f9ad8921fee64d91b1fc4838ae6\n'}, {'number': 3, 'created': '2016-07-30 03:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/024f25b2ad878653a27490fbd82ba6d78737e0aa', 'message': 'Add custom formatting options for HipChat\n\nCustom formatting is driven by an yaml file. Fields in the yaml\nfile can be furthur customized by using Jinja2 template\n\nChange-Id: I48593e7b565b1f9ad8921fee64d91b1fc4838ae6\n'}, {'number': 4, 'created': '2016-08-03 20:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/9ea898f544ac6640d05433dd56dc9cddc82b2df1', 'message': 'Add custom formatting options for HipChat\n\nCustom formatting is driven by an yaml file. Fields in the yaml\nfile can be furthur customized by using Jinja2 template\n\nChange-Id: I48593e7b565b1f9ad8921fee64d91b1fc4838ae6\n'}, {'number': 5, 'created': '2016-08-03 20:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/8748aba354d800c44837df6e426b2f30202db45f', 'message': 'Add custom formatting options for HipChat\n\nCustom formatting is driven by an yaml file. Fields in the yaml\nfile can be furthur customized by using Jinja2 template\n\nChange-Id: I48593e7b565b1f9ad8921fee64d91b1fc4838ae6\n'}, {'number': 6, 'created': '2016-08-04 16:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/cd6134b731a840445405c215e850459569c7594e', 'message': 'Add custom formatting options for HipChat\n\nCustom formatting is driven by an yaml file. Fields in the yaml\nfile can be furthur customized by using Jinja2 template\n\nChange-Id: I48593e7b565b1f9ad8921fee64d91b1fc4838ae6\n'}, {'number': 7, 'created': '2016-08-04 22:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/edeedc151bfbdfed6129f62cef8d0f47110ceb89', 'message': 'Add custom formatting options for HipChat\n\nCustom formatting is driven by an yaml file. Fields in the yaml\nfile can be furthur customized by using Jinja2 template\n\nChange-Id: I48593e7b565b1f9ad8921fee64d91b1fc4838ae6\n'}, {'number': 8, 'created': '2016-08-05 18:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/48222b49c9260cc49b5e78d1df5809bd614e1c58', 'message': 'Add custom formatting options for HipChat\n\nCustom formatting is driven by an yaml file. Fields in the yaml\nfile can be furthur customized by using Jinja2 template\n\nChange-Id: I48593e7b565b1f9ad8921fee64d91b1fc4838ae6\n'}, {'number': 9, 'created': '2016-08-05 22:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/6d823b4c61db3ebbdc95da3f600dc76e6d6ae7d4', 'message': 'Add custom formatting options for HipChat\n\nCustom formatting is driven by an yaml file. Fields in the yaml\nfile can be furthur customized by using Jinja2 template\n\nChange-Id: I48593e7b565b1f9ad8921fee64d91b1fc4838ae6\n'}, {'number': 10, 'created': '2016-08-10 16:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/c79b9c9f906fae2aa0abcd21563aee3bdc2498c3', 'message': 'Add custom formatting options for HipChat\n\nCustom formatting is driven by an yaml file. Fields in the yaml\nfile can be furthur customized by using Jinja2 template\n\nChange-Id: I48593e7b565b1f9ad8921fee64d91b1fc4838ae6\n'}, {'number': 11, 'created': '2016-08-15 15:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/eb28564f800ff76742b36711b82354ea89e6ae19', 'message': 'Add custom formatting options for HipChat\n\nCustom formatting is driven by an yaml file. Fields in the yaml\nfile can be furthur customized by using Jinja2 template\n\nChange-Id: I48593e7b565b1f9ad8921fee64d91b1fc4838ae6\n'}, {'number': 12, 'created': '2016-08-22 16:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/977542d43a0ce4aca6dfaa666485b407ae1a798e', 'message': 'Add custom formatting options for HipChat\n\nCustom formatting is driven by an yaml file. Fields in the yaml\nfile can be furthur customized by using Jinja2 template\n\nChange-Id: I48593e7b565b1f9ad8921fee64d91b1fc4838ae6\n'}, {'number': 13, 'created': '2016-09-06 17:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/3c41f1ee23f7ed868838a822e8bbd98bc030f8ab', 'message': 'Add custom formatting options for HipChat\n\nCustom formatting is driven by an yaml file. Fields in the yaml\nfile can be furthur customized by using Jinja2 template\n\nChange-Id: I48593e7b565b1f9ad8921fee64d91b1fc4838ae6\n'}, {'number': 14, 'created': '2016-09-06 19:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/d838691dcab4b9e3f407949fb51afd8a46196282', 'message': 'Add custom formatting options for HipChat\n\nCustom formatting is driven by an yaml file. Fields in the yaml\nfile can be furthur customized by using Jinja2 template\n\nChange-Id: I48593e7b565b1f9ad8921fee64d91b1fc4838ae6\n'}, {'number': 15, 'created': '2016-09-20 17:27:43.000000000', 'files': ['tests/test_hipchat_notifications.py', 'requirements.txt', 'monasca_notification/plugins/hipchat_notifier.py', 'monasca_notification/plugins/hipchatformat.yml', 'monasca_notification/plugins/slack_notifier.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/bc2b35fbfe5c5cb31ca0346cb95cb1b382929746', 'message': 'Add custom formatting options for HipChat\n\nCustom formatting is driven by an yaml file. Fields in the yaml\nfile can be furthur customized by using Jinja2 template\n\nThis review also adds supports for proxy settings for the plugins.\n\nChange-Id: I48593e7b565b1f9ad8921fee64d91b1fc4838ae6\n'}]",16,349097,bc2b35fbfe5c5cb31ca0346cb95cb1b382929746,50,9,15,220,,,0,"Add custom formatting options for HipChat

Custom formatting is driven by an yaml file. Fields in the yaml
file can be furthur customized by using Jinja2 template

This review also adds supports for proxy settings for the plugins.

Change-Id: I48593e7b565b1f9ad8921fee64d91b1fc4838ae6
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/97/349097/6 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_notification/plugins/hipchatformat_html.yml', 'monasca_notification/plugins/hipchat_notifier.py', 'monasca_notification/plugins/hipchatformat.yml']",3,a5743d08f193c294e3d1b56a20a515d907eb2aca,customize-notification-format,"# Refer the following url for request parameters. # https://www.hipchat.com/docs/apiv2/method/send_room_notification # https://developer.atlassian.com/hipchat/guide/sending-messages -- List html tags supported # Some options such as card requires http acceible image/bitmap/url etc hipchat_format: # Lable to be show besides sender's name from: MonascaNotificationPlugin # Background color. Valid values(yellow,green,red,purple,gray.random) color: gray # Whether this should trigger user notification notify: false # Either text or html, depending on the content of messge field message_format: text # Message to be displayed. This is in Jinja2 format and can be customized. HipChat doesn't suuport # stylesheets in the version I tested. It does support few inline styles # Using notification object which is passed as parameter, opertators can customize the message # notification.alarm_id # notification.alarm_name # notification.alarm_timestamp # notification.message # notification.name # notification.notification_timestamp # notification.src_partition # notification.src_offset # notification.state # notification.severity # notification.link # notification.lifecycle_state # notification.tenant_id # notification.type # notification.metrics # notification.retry_count # notification.raw_alarm # notification.period # notification.periodic_topic message: An alarm was raised with the messaage {{ notification.message }} card: | { ""style"": ""application"", ""format"": ""compact"", ""url"" : ""{{notification.link}}"", ""id"": ""{{notification.tenant_id}}"", ""title"" : ""{{ notification.message }}"", ""icon"": { ""url"": ""https://int-dir.s3.amazonaws.com/uploads/2306_2306_HipChatl.png"" }, ""attributes"": [ { ""label"": ""TenantName"", ""value"": { ""label"": ""{{notification.tenant_id}}"" } }, { ""label"": ""Severity"", ""value"": { ""label"": ""{{notification.severity}}"" } } ] } ",,168,1
openstack%2Fmonasca-notification~master~Id6923abebfa014f9d3509fca76b549af6218c654,openstack/monasca-notification,master,Id6923abebfa014f9d3509fca76b549af6218c654,Improve HipChat notifier templating,ABANDONED,2017-05-02 22:26:45.000000000,2019-12-20 16:11:07.000000000,,"[{'_account_id': 14273}, {'_account_id': 16168}, {'_account_id': 16222}, {'_account_id': 17001}, {'_account_id': 17669}, {'_account_id': 18179}, {'_account_id': 20033}]","[{'number': 1, 'created': '2017-05-02 22:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/9d212047817d1548ca61a15602d170c23cf8084f', 'message': 'Improve HipChat notifier templating\n\nThis adds a simple new HipChat notification template with a reasonable\ndefault template. The template applies to the entire HipChat API\nrequest body, making it possible to enable or disable features (e.g.\ncards) in the template.\n\nChange-Id: Id6923abebfa014f9d3509fca76b549af6218c654\n'}, {'number': 2, 'created': '2017-05-02 23:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/9bae78d611effbdc69e210b73fe639cd747fcbb3', 'message': 'Improve HipChat notifier templating\n\nThis adds a simple new HipChat notification template with a reasonable\ndefault template. The template applies to the entire HipChat API\nrequest body, making it possible to enable or disable features (e.g.\ncards) in the template.\n\nChange-Id: Id6923abebfa014f9d3509fca76b549af6218c654\n'}, {'number': 3, 'created': '2017-05-03 15:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/df987d8663249fbbfb64ade0223e305d6107a920', 'message': 'Improve HipChat notifier templating\n\nThis adds a simple new HipChat notification template with a reasonable\ndefault template. The template applies to the entire HipChat API\nrequest body, making it possible to enable or disable features (e.g.\ncards) in the template.\n\nChange-Id: Id6923abebfa014f9d3509fca76b549af6218c654\n'}, {'number': 4, 'created': '2017-05-08 17:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/9611889e0edb4d9ecc6fd205be49bf904e8989de', 'message': 'Improve HipChat notifier templating\n\nThis adds a simple new HipChat notification template with a reasonable\ndefault template. The template applies to the entire HipChat API\nrequest body, making it possible to enable or disable features (e.g.\ncards) in the template.\n\nChange-Id: Id6923abebfa014f9d3509fca76b549af6218c654\n'}, {'number': 5, 'created': '2017-05-17 15:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/88fa3117b6dd01f2002e760bd094f5bf1185f4e2', 'message': 'Improve HipChat notifier templating\n\nThis adds a simple new HipChat notification template with a reasonable\ndefault template. The template applies to the entire HipChat API\nrequest body, making it possible to enable or disable features (e.g.\ncards) in the template.\n\nChange-Id: Id6923abebfa014f9d3509fca76b549af6218c654\n'}, {'number': 6, 'created': '2017-08-24 23:02:53.000000000', 'files': ['requirements.txt', 'monasca_notification/plugins/hipchat_template.yml.j2', 'monasca_notification/plugins/hipchat_notifier.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/7ee2dcec24d11bda0228268216e21df8223bbedd', 'message': 'Improve HipChat notifier templating\n\nThis adds a simple new HipChat notification template with a reasonable\ndefault template. The template applies to the entire HipChat API\nrequest body, making it possible to enable or disable features (e.g.\ncards) in the template.\n\nChange-Id: Id6923abebfa014f9d3509fca76b549af6218c654\n'}]",3,461917,7ee2dcec24d11bda0228268216e21df8223bbedd,21,7,6,17001,,,0,"Improve HipChat notifier templating

This adds a simple new HipChat notification template with a reasonable
default template. The template applies to the entire HipChat API
request body, making it possible to enable or disable features (e.g.
cards) in the template.

Change-Id: Id6923abebfa014f9d3509fca76b549af6218c654
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/17/461917/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'monasca_notification/plugins/hipchat_template.yml.j2', 'monasca_notification/plugins/hipchat_notifier.py']",3,9d212047817d1548ca61a15602d170c23cf8084f,hipchat-cards,"import datetime import osimport requests import yaml from jinja2 import Template DEFAULT_TEMPLATE = os.path.join(os.path.dirname(os.path.realpath(__file__)), 'hipchat_template.yml.j2') STATE_COLORS = { 'OK': 'green', 'ALARM': 'red', 'UNDETERMINED': 'gray' } SEVERITY_COLORS = { 'LOW': 'gray', 'MEDIUM': 'yellow', 'HIGH': 'purple', 'CRITICAL': 'red' } SEVERITY_LOZENGES = { 'LOW': 'lozenge', 'MEDIUM': 'lozenge-moved', 'HIGH': 'lozenge-current', 'CRITICAL': 'lozenge-error' } super(HipChatNotifier, self).__init__() self._log = log self._template = None def _load_template(self, path): with open(path, 'r') as f: self._template = Template(f.read(), keep_trailing_newline=True, lstrip_blocks=True, trim_blocks=True) def config(self, config): self._config.update(config) self._load_template(config.get('template', DEFAULT_TEMPLATE)) # generate a rough map of dimensions and values for all # metrics dimensions = {} for metric in notification.metrics: for k, v in metric['dimensions'].iteritems(): dimensions[k] = v raw_yaml = self._template.render({ 'notification': notification, 'n': notification, 'state_colors': STATE_COLORS, 'severity_colors': SEVERITY_COLORS, 'severity_lozenges': SEVERITY_LOZENGES, 'alarm_datetime': datetime.datetime.fromtimestamp( notification.alarm_timestamp), 'dimensions': dimensions }) return yaml.safe_load(raw_yaml) if self._config.get('ca_certs'): verify = self._config.get('ca_certs') proxy = None if self._config.get('proxy'): proxy = {'https': self._config.get('proxy')} json=hipchat_message, proxies=proxy, result.raise_for_status() self._log.info('Notification successfully posted.') return True except requests.RequestException: self._log.exception('Error trying to send to hipchat on URL {}'.format(url))","import json import requestsSEVERITY_COLORS = {""low"": 'green', 'medium': 'gray', 'high': 'yellow', 'critical': 'red'} self._log = log def config(self, config_dict): self._config.update(config_dict) body = {'alarm_id': notification.alarm_id, 'alarm_definition_id': notification.raw_alarm['alarmDefinitionId'], 'alarm_name': notification.alarm_name, 'alarm_description': notification.raw_alarm['alarmDescription'], 'alarm_timestamp': notification.alarm_timestamp, 'state': notification.state, 'old_state': notification.raw_alarm['oldState'], 'message': notification.message, 'tenant_id': notification.tenant_id, 'metrics': notification.metrics} hipchat_request = {} hipchat_request['color'] = self._get_color(notification.severity.lower()) hipchat_request['message_format'] = 'text' hipchat_request['message'] = json.dumps(body, indent=3) return hipchat_request def _get_color(self, severity): return SEVERITY_COLORS.get(severity, 'purple') if (self._config.get(""ca_certs"")): verify = self._config.get(""ca_certs"") proxyDict = None if (self._config.get(""proxy"")): proxyDict = {""https"": self._config.get(""proxy"")} data=hipchat_message, proxies=proxyDict, if result.status_code in range(200, 300): self._log.info(""Notification successfully posted."") return True else: msg = ""Received an HTTP code {} when trying to send to hipchat on URL {} with response {}."" self._log.error(msg.format(result.status_code, url, result.text)) return False except Exception: self._log.exception(""Error trying to send to hipchat on URL {}"".format(url))",150,44
openstack%2Fmonasca-api~master~I7109129ef34b03a323dbd18aeb0b8e277710ad6d,openstack/monasca-api,master,I7109129ef34b03a323dbd18aeb0b8e277710ad6d,Remove default notification_method_type values,ABANDONED,2017-10-25 10:06:19.000000000,2019-12-20 16:10:10.000000000,,"[{'_account_id': 14273}, {'_account_id': 16168}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 26733}]","[{'number': 1, 'created': '2017-10-25 10:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/66d4c7e209205048a010bedd34959ad65625156b', 'message': ""Remove default notification_method_type values\n\nAll of the notifiers are treated as plugins, therefore\nthey shouldn't be included in the database state after\nright after deployment.\n\nChange-Id: I7109129ef34b03a323dbd18aeb0b8e277710ad6d\n""}, {'number': 2, 'created': '2017-10-25 10:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/df343405aea4bfc01e1a634c47926a602a8b9579', 'message': ""Remove default notification_method_type values\n\nAll of the notifiers are treated as plugins, therefore\nthey shouldn't be included in the database state after\nright after deployment.\n\nChange-Id: I7109129ef34b03a323dbd18aeb0b8e277710ad6d\n""}, {'number': 3, 'created': '2017-10-25 10:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/73472885cebf0a78406a5f6d59ab5ff8dd61949b', 'message': ""Remove default notification_method_type values\n\nAll of the notifiers are treated as plugins, therefore\nthey shouldn't be included in the database state after\nright after deployment.\n\nDepends-On: I360cc2ad0782f209606706bf1869570fdae2260d\nChange-Id: I7109129ef34b03a323dbd18aeb0b8e277710ad6d\n""}, {'number': 4, 'created': '2017-10-25 19:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/cf3f00b308e6462ce34086dd16ce1a32e0c1e5d2', 'message': ""Remove default notification_method_type values\n\nAll of the notifiers are treated as plugins, therefore\nthey shouldn't be included in the database state after\nright after deployment.\n\nDepends-On: I360cc2ad0782f209606706bf1869570fdae2260d\nChange-Id: I7109129ef34b03a323dbd18aeb0b8e277710ad6d\n""}, {'number': 5, 'created': '2017-10-31 08:03:25.000000000', 'files': ['releasenotes/notes/drop_default_notif_types-f5973f4ebb741230.yaml', 'devstack/files/schema/mon_mysql.sql', 'devstack/files/schema/mon_postgresql.sql', 'devstack/files/monasca-notification/notification.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/0d28ec75bf20d864e028a0a01ebe5c52f8d993e2', 'message': ""Remove default notification_method_type values\n\nAll of the notifiers are treated as plugins, therefore\nthey shouldn't be included in the database state after\nright after deployment.\n\nDepends-On: I360cc2ad0782f209606706bf1869570fdae2260d\nChange-Id: I7109129ef34b03a323dbd18aeb0b8e277710ad6d\n""}]",0,515010,0d28ec75bf20d864e028a0a01ebe5c52f8d993e2,15,6,5,16168,,,0,"Remove default notification_method_type values

All of the notifiers are treated as plugins, therefore
they shouldn't be included in the database state after
right after deployment.

Depends-On: I360cc2ad0782f209606706bf1869570fdae2260d
Change-Id: I7109129ef34b03a323dbd18aeb0b8e277710ad6d
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/10/515010/2 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/files/schema/mon_mysql.sql', 'devstack/files/schema/mon_postgresql.sql']",2,66d4c7e209205048a010bedd34959ad65625156b,hipchat-cards,, insert into notification_method_type values ('EMAIL'); insert into notification_method_type values ('WEBHOOK'); insert into notification_method_type values ('PAGERDUTY');,0,8
openstack%2Fproject-config~master~I0a2b262d588ccf488f68cb1c598889f887b40743,openstack/project-config,master,I0a2b262d588ccf488f68cb1c598889f887b40743,"Revert ""Revert Revert ""Disable fortnebula""",MERGED,2019-12-18 13:09:53.000000000,2019-12-20 16:09:14.000000000,2019-12-20 16:09:14.000000000,"[{'_account_id': 3099}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 13:09:53.000000000', 'files': ['nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6a29c2cffd73d488d84caeb4bf7750be00321582', 'message': 'Revert ""Revert Revert ""Disable fortnebula""\n\nChange-Id: I0a2b262d588ccf488f68cb1c598889f887b40743\n'}]",0,699677,6a29c2cffd73d488d84caeb4bf7750be00321582,7,3,1,20754,,,0,"Revert ""Revert Revert ""Disable fortnebula""

Change-Id: I0a2b262d588ccf488f68cb1c598889f887b40743
",git fetch https://review.opendev.org/openstack/project-config refs/changes/77/699677/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.openstack.org.yaml'],1,6a29c2cffd73d488d84caeb4bf7750be00321582,674091, max-servers: 40, max-servers: 0,1,1
openstack%2Fgovernance-website~master~I81a3d1ade521082069ba9f4c8d39c5424d9c6db5,openstack/governance-website,master,I81a3d1ade521082069ba9f4c8d39c5424d9c6db5,Use openstackdocstheme 1.31.2,MERGED,2019-12-17 13:22:05.000000000,2019-12-20 15:57:28.000000000,2019-12-20 15:55:59.000000000,"[{'_account_id': 308}, {'_account_id': 4257}, {'_account_id': 8099}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-12-17 13:22:05.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/governance-website/commit/2cd409086d8891d6fa13186e5927b417e55d4e4b', 'message': 'Use openstackdocstheme 1.31.2\n\nopenstackdocstheme 1.31.2 introduces a larger main title to\ndifferentiate from other headers, which would be quite useful\nfor governance.o.o intro page.\n\nFor most sites the change will be picked up automatically as the\ncontents are refreshed, but governance-website almost never changes, so\nthis will trigger a refresh.\n\nChange-Id: I81a3d1ade521082069ba9f4c8d39c5424d9c6db5\n'}]",0,699410,2cd409086d8891d6fa13186e5927b417e55d4e4b,11,6,1,308,,,0,"Use openstackdocstheme 1.31.2

openstackdocstheme 1.31.2 introduces a larger main title to
differentiate from other headers, which would be quite useful
for governance.o.o intro page.

For most sites the change will be picked up automatically as the
contents are refreshed, but governance-website almost never changes, so
this will trigger a refresh.

Change-Id: I81a3d1ade521082069ba9f4c8d39c5424d9c6db5
",git fetch https://review.opendev.org/openstack/governance-website refs/changes/10/699410/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,2cd409086d8891d6fa13186e5927b417e55d4e4b,refresh,openstackdocstheme>=1.31.2 # Apache-2.0,openstackdocstheme>=1.25.1 # Apache-2.0,1,1
openstack%2Fmagnum~stable%2Ftrain~Ic5c7851d6603d23e554b2df88b5deefb30dd74b9,openstack/magnum,stable/train,Ic5c7851d6603d23e554b2df88b5deefb30dd74b9,[k8s] Enable services before starting them,MERGED,2019-12-20 05:36:51.000000000,2019-12-20 15:26:52.000000000,2019-12-20 15:25:08.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-12-20 05:36:51.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-services-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/4810b8615d2076d8dda6e251ad1cf5564969266a', 'message': '[k8s] Enable services before starting them\n\nIn the event that master/minion instances restart before the\nheat container agent bootstrapping is complete, it is safer to enable\nall the services before starting them so that they can restore normal\nfunction after reboot.\n\nstory: 2007031\ntask: 37835\n\nChange-Id: Ic5c7851d6603d23e554b2df88b5deefb30dd74b9\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n(cherry picked from commit 7d81ae186a929346e6bc784cd12e66489a554191)\n'}]",0,700107,4810b8615d2076d8dda6e251ad1cf5564969266a,8,4,1,28022,,,0,"[k8s] Enable services before starting them

In the event that master/minion instances restart before the
heat container agent bootstrapping is complete, it is safer to enable
all the services before starting them so that they can restore normal
function after reboot.

story: 2007031
task: 37835

Change-Id: Ic5c7851d6603d23e554b2df88b5deefb30dd74b9
Signed-off-by: Bharat Kunwar <brtknr@bath.edu>
(cherry picked from commit 7d81ae186a929346e6bc784cd12e66489a554191)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/07/700107/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/enable-services-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh']",2,4810b8615d2076d8dda6e251ad1cf5564969266a,2007031-stable/train,"for action in enable restart; do for service in etcd docker kube-apiserver kube-controller-manager kube-scheduler kubelet kube-proxy; do echo ""$action service $service"" $ssh_cmd systemctl $action $service done","for service in etcd docker kube-apiserver kube-controller-manager kube-scheduler kubelet kube-proxy; do echo ""activating service $service"" $ssh_cmd systemctl enable $service $ssh_cmd systemctl restart $service",10,8
openstack%2Fmagnum~master~Ib0170e6b3e5aafc42d1990468d27550ba6ad97ac,openstack/magnum,master,Ib0170e6b3e5aafc42d1990468d27550ba6ad97ac,Build k8s images v1.16.1,ABANDONED,2019-10-08 18:42:08.000000000,2019-12-20 15:21:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-10-08 18:42:08.000000000', 'files': ['playbooks/container-builder-vars.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/d734a346f09c5c4641740a7207511eb2f5fb072d', 'message': 'Build k8s images v1.16.1\n\nChange-Id: Ib0170e6b3e5aafc42d1990468d27550ba6ad97ac\nstory: 2005124\ntask: 36961\n'}]",0,687385,d734a346f09c5c4641740a7207511eb2f5fb072d,4,2,1,28022,,,0,"Build k8s images v1.16.1

Change-Id: Ib0170e6b3e5aafc42d1990468d27550ba6ad97ac
story: 2005124
task: 36961
",git fetch https://review.opendev.org/openstack/magnum refs/changes/85/687385/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/container-builder-vars.yaml'],1,d734a346f09c5c4641740a7207511eb2f5fb072d,,kubernetes_version_v1_16: v1.16.1,kubernetes_version_v1_16: v1.16.0,1,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I1adb886405cde6b6e0b5f25a735e36114cd1787b,openstack/tripleo-heat-templates,stable/queens,I1adb886405cde6b6e0b5f25a735e36114cd1787b,Add Octavia anti-affinity parameters,MERGED,2019-12-10 13:59:07.000000000,2019-12-20 15:21:12.000000000,2019-12-20 15:19:10.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-10 13:59:07.000000000', 'files': ['releasenotes/notes/add-octavia-anti-affinity-parameters-fe9222f17b16ee1f.yaml', 'puppet/services/octavia-controller.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a9aa85f7fc1441c8ff891cf2d9d13100cebe0fd0', 'message': ""Add Octavia anti-affinity parameters\n\nThis patch adds the following parameter for Octavia:\n\n1. OctaviaAntiAffinity\n\nThe default value is 'true' as is a best practice for production\ndeployments.\n\nDepends-On: https://review.opendev.org/696966/\nChange-Id: I1adb886405cde6b6e0b5f25a735e36114cd1787b\n(cherry picked from commit 7f8a565ea88b1058543fdbb2d1fb76d04c9cfebd)\n(cherry picked from commit ef66a0f4f56b4e7ccb916ef7e69f4cc24315a945)\n(cherry picked from commit 0c7b4629e2b6ad02be0b5a07a178206784bf5836)\n(cherry picked from commit 0486e56a79c786521dec83b598149adfe44c3310)\n""}]",0,698250,a9aa85f7fc1441c8ff891cf2d9d13100cebe0fd0,15,5,1,6469,,,0,"Add Octavia anti-affinity parameters

This patch adds the following parameter for Octavia:

1. OctaviaAntiAffinity

The default value is 'true' as is a best practice for production
deployments.

Depends-On: https://review.opendev.org/696966/
Change-Id: I1adb886405cde6b6e0b5f25a735e36114cd1787b
(cherry picked from commit 7f8a565ea88b1058543fdbb2d1fb76d04c9cfebd)
(cherry picked from commit ef66a0f4f56b4e7ccb916ef7e69f4cc24315a945)
(cherry picked from commit 0c7b4629e2b6ad02be0b5a07a178206784bf5836)
(cherry picked from commit 0486e56a79c786521dec83b598149adfe44c3310)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/698250/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-octavia-anti-affinity-parameters-fe9222f17b16ee1f.yaml', 'puppet/services/octavia-controller.yaml']",2,a9aa85f7fc1441c8ff891cf2d9d13100cebe0fd0,octavia-anit-affinity, OctaviaAntiAffinity: default: true description: Flag to indicate if anti-affinity feature is turned on. type: boolean octavia::controller::enable_anti_affinity: {get_param: OctaviaAntiAffinity},,9,0
openstack%2Fmagnum~stable%2Ftrain~Ide46d90dd30b41edaeaa8632205cc23b9ba7f162,openstack/magnum,stable/train,Ide46d90dd30b41edaeaa8632205cc23b9ba7f162,[k8s] Fix RBAC for OCCM v1.17.0,MERGED,2019-12-20 05:35:56.000000000,2019-12-20 15:20:27.000000000,2019-12-20 15:18:37.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-12-20 05:35:56.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/dda0adaf13642df03b33f76e6cda79775822d625', 'message': '[k8s] Fix RBAC for OCCM v1.17.0\n\nAt present, the openstack cloud controller manager tag v1.17.0 is broken\ndue to missing RBAC policy for leases. This patch addressed this\nshortcoming and thereby allowing the nodes in the cluster to be\nuntainted.\n\nstory: 2007031\ntask: 37838\n\nChange-Id: Ide46d90dd30b41edaeaa8632205cc23b9ba7f162\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n(cherry picked from commit b2393220c63f048c6dc1162f3e961eeef7a8445e)\n'}]",0,700106,dda0adaf13642df03b33f76e6cda79775822d625,8,4,1,28022,,,0,"[k8s] Fix RBAC for OCCM v1.17.0

At present, the openstack cloud controller manager tag v1.17.0 is broken
due to missing RBAC policy for leases. This patch addressed this
shortcoming and thereby allowing the nodes in the cluster to be
untainted.

story: 2007031
task: 37838

Change-Id: Ide46d90dd30b41edaeaa8632205cc23b9ba7f162
Signed-off-by: Bharat Kunwar <brtknr@bath.edu>
(cherry picked from commit b2393220c63f048c6dc1162f3e961eeef7a8445e)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/06/700106/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh'],1,dda0adaf13642df03b33f76e6cda79775822d625,2007031-stable/train," - apiGroups: - ""coordination.k8s.io"" resources: - leases verbs: - get - create - update",,8,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I689c370a1c676118ed01bd1bc0815eacf7c8dbc1,openstack/tripleo-heat-templates,stable/train,I689c370a1c676118ed01bd1bc0815eacf7c8dbc1,"Revert ""Disable ceph dashboard to fix upstream ci""",MERGED,2019-12-05 17:03:58.000000000,2019-12-20 15:19:11.000000000,2019-12-20 15:19:11.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-12-05 17:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a3b9bfa5c3c73aa4933adb77545c4293e9672802', 'message': 'Revert ""Disable ceph dashboard to fix upstream ci""\n\nThis reverts commit acd19fcd33dae7e78e920657e93e6c8627075904.\n\nChange-Id: I689c370a1c676118ed01bd1bc0815eacf7c8dbc1\nRelated-Bug: #1849274\n'}, {'number': 2, 'created': '2019-12-06 10:13:14.000000000', 'files': ['ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5352a88fea9fd62531f00b63f25a0be78f290e8d', 'message': 'Revert ""Disable ceph dashboard to fix upstream ci""\n\nThis reverts commit acd19fcd33dae7e78e920657e93e6c8627075904.\n\nRelated-Bug: #1849274\nChange-Id: I689c370a1c676118ed01bd1bc0815eacf7c8dbc1\n(cherry picked from commit 0808454b1f92c1058bec0d40dd1a0bc144a4ebdb)\n'}]",2,697526,5352a88fea9fd62531f00b63f25a0be78f290e8d,45,8,2,25402,,,0,"Revert ""Disable ceph dashboard to fix upstream ci""

This reverts commit acd19fcd33dae7e78e920657e93e6c8627075904.

Related-Bug: #1849274
Change-Id: I689c370a1c676118ed01bd1bc0815eacf7c8dbc1
(cherry picked from commit 0808454b1f92c1058bec0d40dd1a0bc144a4ebdb)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/697526/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario001-standalone.yaml'],1,a3b9bfa5c3c73aa4933adb77545c4293e9672802,, CephEnableDashboard: true, # disable dashboard until launchpad tripleo/+bug/1849274 CephEnableDashboard: false,1,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1adb886405cde6b6e0b5f25a735e36114cd1787b,openstack/tripleo-heat-templates,stable/train,I1adb886405cde6b6e0b5f25a735e36114cd1787b,Add Octavia anti-affinity parameters,MERGED,2019-12-10 13:49:05.000000000,2019-12-20 14:57:29.000000000,2019-12-20 14:55:34.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 8449}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-10 13:49:05.000000000', 'files': ['releasenotes/notes/add-octavia-anti-affinity-parameters-fe9222f17b16ee1f.yaml', 'deployment/octavia/octavia-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ef66a0f4f56b4e7ccb916ef7e69f4cc24315a945', 'message': ""Add Octavia anti-affinity parameters\n\nThis patch adds the following parameter for Octavia:\n\n1. OctaviaAntiAffinity\n\nThe default value is 'true' as is a best practice for production\ndeployments.\n\nDepends-On: https://review.opendev.org/696963/\nChange-Id: I1adb886405cde6b6e0b5f25a735e36114cd1787b\n(cherry picked from commit 7f8a565ea88b1058543fdbb2d1fb76d04c9cfebd)\n""}]",0,698246,ef66a0f4f56b4e7ccb916ef7e69f4cc24315a945,24,6,1,6469,,,0,"Add Octavia anti-affinity parameters

This patch adds the following parameter for Octavia:

1. OctaviaAntiAffinity

The default value is 'true' as is a best practice for production
deployments.

Depends-On: https://review.opendev.org/696963/
Change-Id: I1adb886405cde6b6e0b5f25a735e36114cd1787b
(cherry picked from commit 7f8a565ea88b1058543fdbb2d1fb76d04c9cfebd)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/698246/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-octavia-anti-affinity-parameters-fe9222f17b16ee1f.yaml', 'deployment/octavia/octavia-base.yaml']",2,ef66a0f4f56b4e7ccb916ef7e69f4cc24315a945,octavia-anit-affinity, OctaviaAntiAffinity: default: true description: Flag to indicate if anti-affinity feature is turned on. type: boolean octavia::controller::enable_anti_affinity: {get_param: OctaviaAntiAffinity},,9,0
openstack%2Fneutron~master~I2de57a79b63f3baa92f90fc0dcf8df69bbb63586,openstack/neutron,master,I2de57a79b63f3baa92f90fc0dcf8df69bbb63586,Bump min pyroute2 version to 0.5.7,MERGED,2019-12-13 09:22:33.000000000,2019-12-20 14:51:12.000000000,2019-12-20 14:48:53.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-12-13 09:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f46533893b97bffaa1507793ab4345dd7539f604', 'message': 'Bump min pyroute2 version to 0.5.7\n\nChange-Id: I2de57a79b63f3baa92f90fc0dcf8df69bbb63586\n'}, {'number': 2, 'created': '2019-12-13 09:50:05.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc4e3b95d835900eccb9ca50a9ec95bb76bb31c1', 'message': 'Bump min pyroute2 version to 0.5.7\n\nChange-Id: I2de57a79b63f3baa92f90fc0dcf8df69bbb63586\n'}]",1,698853,fc4e3b95d835900eccb9ca50a9ec95bb76bb31c1,36,5,2,11975,,,0,"Bump min pyroute2 version to 0.5.7

Change-Id: I2de57a79b63f3baa92f90fc0dcf8df69bbb63586
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/698853/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,f46533893b97bffaa1507793ab4345dd7539f604,bump-pyroute,pyroute2==0.5.7,pyroute2==0.5.3,1,1
openstack%2Fdiskimage-builder~master~I015820d58a45335af6e641ef9608fe3c37699271,openstack/diskimage-builder,master,I015820d58a45335af6e641ef9608fe3c37699271,Add python-yaml in bindep for ubuntu,ABANDONED,2019-12-18 14:05:09.000000000,2019-12-20 14:43:32.000000000,,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-18 14:05:09.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/802ba95b885cd1129b55fa763adad95d58c17fd5', 'message': 'Add python-yaml in bindep for ubuntu\n\nJobs that use 10-merge-svc-map-files fail without the python\nyaml module, with the message:\nImportError: No module named yaml\n\nAn example can be found in a recent ironic job [0].\n\n[0] https://6ad68def19a9c3e3c7f7-a757501b1a7ef7a48e849fadd8ea0086.ssl.cf2.rackcdn.com/699427/1/check/ironic-python-agent-check-image-dib-centos7/3ced17c/job-output.txt\n\nChange-Id: I015820d58a45335af6e641ef9608fe3c37699271\n'}]",0,699681,802ba95b885cd1129b55fa763adad95d58c17fd5,8,7,1,23851,,,0,"Add python-yaml in bindep for ubuntu

Jobs that use 10-merge-svc-map-files fail without the python
yaml module, with the message:
ImportError: No module named yaml

An example can be found in a recent ironic job [0].

[0] https://6ad68def19a9c3e3c7f7-a757501b1a7ef7a48e849fadd8ea0086.ssl.cf2.rackcdn.com/699427/1/check/ironic-python-agent-check-image-dib-centos7/3ced17c/job-output.txt

Change-Id: I015820d58a45335af6e641ef9608fe3c37699271
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/81/699681/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,802ba95b885cd1129b55fa763adad95d58c17fd5,install-python-yaml,python-yaml [platform:dpkg],,1,0
openstack%2Fcharm-rabbitmq-server~master~I61dc391836a0783d96713477b404b390982d4948,openstack/charm-rabbitmq-server,master,I61dc391836a0783d96713477b404b390982d4948,Not call to set_policy unless needed,ABANDONED,2019-11-21 00:14:42.000000000,2019-12-20 14:40:23.000000000,,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-21 00:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/cc8395b835aebb3c95208162f9733eb3d95b730e', 'message': 'Not call to set_policy unless needed\n\nChange-Id: I61dc391836a0783d96713477b404b390982d4948\n'}, {'number': 2, 'created': '2019-11-21 00:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/206405dfec2f93fbdd7508f70c9fbfec8da208fb', 'message': 'Not call to set_policy unless needed\n\nChange-Id: I61dc391836a0783d96713477b404b390982d4948\n'}, {'number': 3, 'created': '2019-11-21 22:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/6a1d98523913b99102a36bf87f7b864b92181b74', 'message': 'Not call to set_policy unless needed\n\nChange-Id: I61dc391836a0783d96713477b404b390982d4948\n'}, {'number': 4, 'created': '2019-11-21 22:23:27.000000000', 'files': ['hooks/rabbit_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/252f8fef613ca3380dea9de3b956c6625355dcdb', 'message': 'Not call to set_policy unless needed\n\nChange-Id: I61dc391836a0783d96713477b404b390982d4948\n'}]",0,695329,252f8fef613ca3380dea9de3b956c6625355dcdb,15,3,4,2424,,,0,"Not call to set_policy unless needed

Change-Id: I61dc391836a0783d96713477b404b390982d4948
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/29/695329/4 && git format-patch -1 --stdout FETCH_HEAD,['hooks/rabbit_utils.py'],1,cc8395b835aebb3c95208162f9733eb3d95b730e,reduce-set_policy,"def policy_exists(vhost, policy_name, match): output = subprocess.check_output([""rabbitmqctl"", ""list_policies"", ""-q"", ""-p"", vhost]) for line in output.decode('utf-8').split('\n'): tokens = line.split('\t') if tokens[0] == vhost and tokens[1] == policy_name and tokens[2] == match: return True return False def set_policy(vhost, policy_name, match, value): if policy_exists(vhost, policy_name, match): log(""Policy %s already exist in vhost '%s'"" % (policy_name, vhost), level=INFO) else: log(""Set policy: %s %s %s %s"" % (vhost, policy_name, match, value), level='INFO') rabbitmqctl('set_policy', '-p', vhost, policy_name, match, value)","def set_policy(vhost, policy_name, match, value): log(""setting policy"", level='DEBUG') rabbitmqctl('set_policy', '-p', vhost, policy_name, match, value)",17,3
openstack%2Fpython-monascaclient~master~If739012908f458acccba1e40fe6bb8dbd231fca7,openstack/python-monascaclient,master,If739012908f458acccba1e40fe6bb8dbd231fca7,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-12-15 00:40:39.000000000,2019-12-20 14:39:35.000000000,2019-12-20 14:37:11.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-15 00:40:39.000000000', 'files': ['releasenotes/notes/drop-py-2-7-1c41855c5edc5ba3.yaml', 'test-requirements.txt', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/2504eeda605252251a35a8e3a0151163e81772d9', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\npython-monascaclient is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: If739012908f458acccba1e40fe6bb8dbd231fca7\n'}]",0,699088,2504eeda605252251a35a8e3a0151163e81772d9,8,2,1,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

python-monascaclient is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: If739012908f458acccba1e40fe6bb8dbd231fca7
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/88/699088/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-py-2-7-1c41855c5edc5ba3.yaml', 'test-requirements.txt', '.zuul.yaml', 'tox.ini']",4,2504eeda605252251a35a8e3a0151163e81772d9,drop-py27-support,"envlist = py37,pypy,cover,pep8 minversion = 3.1.1ignore_basepython_conflict = Truebasepython = python3","envlist = py27,py37,pypy,cover,pep8 minversion = 2.5basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3",10,15
openstack%2Ftripleo-ansible~master~Ib5aaa22f6cf307181d8f34cf89f9f24619b43004,openstack/tripleo-ansible,master,Ib5aaa22f6cf307181d8f34cf89f9f24619b43004,Add role/playbook to manage nova image cache,MERGED,2019-08-13 17:30:34.000000000,2019-12-20 14:38:28.000000000,2019-12-20 14:36:00.000000000,"[{'_account_id': 3153}, {'_account_id': 4393}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2019-08-13 17:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/42662a2419ae2d67ebd2695f60c26e640bb46755', 'message': 'DNM/WIP: Add module to manage nova image cache\n\nChange-Id: Ib5aaa22f6cf307181d8f34cf89f9f24619b43004\nImplements: blueprint tripleo-nova-cache-mgmt\n'}, {'number': 2, 'created': '2019-08-14 10:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/391a34d61c2108737b6c7d8f02b37897a900877a', 'message': 'DNM/WIP: Add module to manage nova image cache\n\nChange-Id: Ib5aaa22f6cf307181d8f34cf89f9f24619b43004\nImplements: blueprint tripleo-nova-cache-mgmt\n'}, {'number': 3, 'created': '2019-10-04 17:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/82e77f292be325d74b3818d42b6493ad8418060e', 'message': 'DNM/WIP: Add role/playbook to manage nova image cache\n\nChange-Id: Ib5aaa22f6cf307181d8f34cf89f9f24619b43004\nImplements: blueprint tripleo-nova-cache-mgmt\n'}, {'number': 4, 'created': '2019-10-10 22:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3789e6fb7bf27ec23340dff5289764f37063f2f7', 'message': 'DNM/WIP: Add role/playbook to manage nova image cache\n\nChange-Id: Ib5aaa22f6cf307181d8f34cf89f9f24619b43004\nImplements: blueprint tripleo-nova-cache-mgmt\n'}, {'number': 5, 'created': '2019-10-10 23:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1af310975b67f1ec7c99508c2ef183f31d36700e', 'message': 'DNM/WIP: Add role/playbook to manage nova image cache\n\nChange-Id: Ib5aaa22f6cf307181d8f34cf89f9f24619b43004\nImplements: blueprint tripleo-nova-cache-mgmt\n'}, {'number': 6, 'created': '2019-10-10 23:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2aacee028fe6edb417b0d9de59489b585e708355', 'message': 'DNM/WIP: Add role/playbook to manage nova image cache\n\nChange-Id: Ib5aaa22f6cf307181d8f34cf89f9f24619b43004\nImplements: blueprint tripleo-nova-cache-mgmt\n'}, {'number': 7, 'created': '2019-11-18 11:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/17a049ec1b3673b4de557472cbf5ade91e1487fa', 'message': 'DNM/WIP: Add role/playbook to manage nova image cache\n\nChange-Id: Ib5aaa22f6cf307181d8f34cf89f9f24619b43004\nImplements: blueprint tripleo-nova-cache-mgmt\n'}, {'number': 8, 'created': '2019-11-25 20:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2d9fef0767da4a4743c09baf53ed8b0263c642ac', 'message': 'Add role/playbook to manage nova image cache\n\nAdds a tripleo-nova-image-cache role containing to manage the nova local image\ncache on remote compute nodes.\nFor multi-site/stack deployments the image can be downloaded once and\ndistributed to the remaing nodes in the stack to minimise WAN traffic.\n\nAlso adds a playbook to run the role using the single/multi-stack inventory\nand the overcloudrc environment variables.\n\nChange-Id: Ib5aaa22f6cf307181d8f34cf89f9f24619b43004\nImplements: blueprint tripleo-nova-cache-mgmt\n'}, {'number': 9, 'created': '2019-11-25 20:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f29c76702126b476edfd82fb4f09782b1e38394e', 'message': 'Add role/playbook to manage nova image cache\n\nAdds a tripleo-nova-image-cache role to manage the nova local image cache on\nremote compute nodes.\nFor multi-site/stack deployments the image can be downloaded once and\ndistributed to the remaing nodes in the stack to minimise WAN traffic.\n\nAlso adds a playbook to run the role using the single/multi-stack inventory\nand the overcloudrc environment variables.\n\nChange-Id: Ib5aaa22f6cf307181d8f34cf89f9f24619b43004\nImplements: blueprint tripleo-nova-cache-mgmt\n'}, {'number': 10, 'created': '2019-11-25 20:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e495e647c38c73b3230c863f6bf46038ec2e471b', 'message': 'Add role/playbook to manage nova image cache\n\nAdds a tripleo-nova-image-cache role to manage the nova local image cache on\nremote compute nodes.\nFor multi-site/stack deployments the image can be downloaded once and\ndistributed to the remaining nodes in the stack to minimise WAN traffic.\n\nAlso adds a playbook to run the role using the single/multi-stack inventory\nand the overcloudrc environment variables.\n\nChange-Id: Ib5aaa22f6cf307181d8f34cf89f9f24619b43004\nImplements: blueprint tripleo-nova-cache-mgmt\n'}, {'number': 11, 'created': '2019-12-11 18:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a189b51e48d8cea6b550cfcc574b70f17c82fdad', 'message': 'Add role/playbook to manage nova image cache\n\nAdds a tripleo-nova-image-cache role to manage the nova local image cache on\nremote compute nodes.\nFor multi-site/stack deployments the image can be downloaded once and\ndistributed to the remaining nodes in the stack to minimise WAN traffic.\n\nAlso adds a playbook to run the role using the single/multi-stack inventory\nand the overcloudrc environment variables.\n\nChange-Id: Ib5aaa22f6cf307181d8f34cf89f9f24619b43004\nImplements: blueprint tripleo-nova-cache-mgmt\n'}, {'number': 12, 'created': '2019-12-12 16:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/114ed8e6c4f1a748216b6449b591f167bcc63953', 'message': 'Add role/playbook to manage nova image cache\n\nAdds a tripleo-nova-image-cache role to manage the nova local image cache on\nremote compute nodes.\nFor multi-site/stack deployments the image can be downloaded once and\ndistributed to the remaining nodes in the stack to minimise WAN traffic.\n\nAlso adds a playbook to run the role using the single/multi-stack inventory\nand the overcloudrc environment variables.\n\nChange-Id: Ib5aaa22f6cf307181d8f34cf89f9f24619b43004\nImplements: blueprint tripleo-nova-cache-mgmt\n'}, {'number': 13, 'created': '2019-12-12 17:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/89f2ee64734fa323663e68f805072c640260e0f8', 'message': 'Add role/playbook to manage nova image cache\n\nAdds a tripleo-nova-image-cache role to manage the nova local image cache on\nremote compute nodes.\nFor multi-site/stack deployments the image can be downloaded once and\ndistributed to the remaining nodes in the stack to minimise WAN traffic.\n\nAlso adds a playbook to run the role using the single/multi-stack inventory\nand the overcloudrc environment variables.\n\nChange-Id: Ib5aaa22f6cf307181d8f34cf89f9f24619b43004\nImplements: blueprint tripleo-nova-cache-mgmt\n'}, {'number': 14, 'created': '2019-12-12 17:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/effc2e11d89929cac0fb901da5940e796a3d1adb', 'message': 'Add role/playbook to manage nova image cache\n\nAdds a tripleo-nova-image-cache role to manage the nova local image cache on\nremote compute nodes.\nFor multi-site/stack deployments the image can be downloaded once and\ndistributed to the remaining nodes in the stack to minimise WAN traffic.\n\nAlso adds a playbook to run the role using the single/multi-stack inventory\nand the overcloudrc environment variables.\n\nChange-Id: Ib5aaa22f6cf307181d8f34cf89f9f24619b43004\nImplements: blueprint tripleo-nova-cache-mgmt\n'}, {'number': 15, 'created': '2019-12-12 19:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f92812965a2fca3491597657901594ec9f890d0a', 'message': 'Add role/playbook to manage nova image cache\n\nAdds a tripleo-nova-image-cache role to manage the nova local image cache on\nremote compute nodes.\nFor multi-site/stack deployments the image can be downloaded once and\ndistributed to the remaining nodes in the stack to minimise WAN traffic.\n\nAlso adds a playbook to run the role using the single/multi-stack inventory\nand the overcloudrc environment variables.\n\nChange-Id: Ib5aaa22f6cf307181d8f34cf89f9f24619b43004\nImplements: blueprint tripleo-nova-cache-mgmt\n'}, {'number': 16, 'created': '2019-12-19 16:19:07.000000000', 'files': ['tripleo_ansible/ansible_plugins/action/tripleo_nova_image_cache.py', 'tripleo_ansible/roles/tripleo-nova-image-cache/tasks/uncache.yml', 'tripleo_ansible/roles/tripleo-nova-image-cache/defaults/main.yml', 'tripleo_ansible/roles/tripleo-nova-image-cache/molecule/default/prepare.yml', 'doc/source/modules/modules-tripleo_nova_image_cache.rst', 'tripleo_ansible/roles/tripleo-nova-image-cache/vars/main.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_nova_image_cache.py', 'zuul.d/molecule.yaml', 'doc/source/roles/role-tripleo-nova-image-cache.rst', 'tripleo_ansible/roles/tripleo-nova-image-cache/tasks/cache.yml', 'tripleo_ansible/roles/tripleo-nova-image-cache/tasks/main.yml', 'tripleo_ansible/roles/tripleo-nova-image-cache/molecule/default/playbook.yml', 'tripleo_ansible/playbooks/tripleo_nova_image_cache.yml', 'tripleo_ansible/roles/tripleo-nova-image-cache/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-nova-image-cache/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-nova-image-cache/meta/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8dc6d50b1678894fea0d79d26daee51d09729ab6', 'message': 'Add role/playbook to manage nova image cache\n\nAdds a tripleo-nova-image-cache role to manage the nova local image cache on\nremote compute nodes.\nFor multi-site/stack deployments the image can be downloaded once and\ndistributed to the remaining nodes in the stack to minimise WAN traffic.\n\nAlso adds a playbook to run the role using the single/multi-stack inventory\nand the overcloudrc environment variables.\n\nChange-Id: Ib5aaa22f6cf307181d8f34cf89f9f24619b43004\nImplements: blueprint tripleo-nova-cache-mgmt\n'}]",65,676252,8dc6d50b1678894fea0d79d26daee51d09729ab6,61,9,16,23811,,,0,"Add role/playbook to manage nova image cache

Adds a tripleo-nova-image-cache role to manage the nova local image cache on
remote compute nodes.
For multi-site/stack deployments the image can be downloaded once and
distributed to the remaining nodes in the stack to minimise WAN traffic.

Also adds a playbook to run the role using the single/multi-stack inventory
and the overcloudrc environment variables.

Change-Id: Ib5aaa22f6cf307181d8f34cf89f9f24619b43004
Implements: blueprint tripleo-nova-cache-mgmt
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/52/676252/16 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/modules/modules-nova_image_cache.rst', 'tripleo_ansible/ansible_plugins/modules/nova_image_cache.py']",2,42662a2419ae2d67ebd2695f60c26e640bb46755,,"#!/usr/bin/python # -*- coding: utf-8 -*- # Copyright (c) 2018 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from __future__ import absolute_import, division, print_function __metaclass__ = type ANSIBLE_METADATA = { 'metadata_version': '1.1', 'status': ['preview'], 'supported_by': 'community' } DOCUMENTATION = ''' --- module: nova_image_cache short_description: Manage Nova image cache on OpenStack Cloud extends_documentation_fragment: openstack version_added: ""2.0"" author: ""Oliver Walsh (@owalsh)"" description: - Manage Nova image cache on OpenStack Cloud options: id: description: - ID of the image to cache required: true ttl: description: - Ensure the image remains cached for at least ttl seconds default: 604800 (1 week) state: description: - Should the image be present in cache or expired (nova should delete when it is no longer used) choices: [present, expired] default: present requirements: [""openstacksdk""] ''' EXAMPLES = ''' - name: Cache image for at least 2 weeks nova_image_cache: id: ec151bd1-aab4-413c-b577-ced089e7d3f8 ttl: 1209600 - name: Allow nova to cleanup this image from cache nova_image_cache: id: ec151bd1-aab4-413c-b577-ced089e7d3f8 state: expired ''' from ansible.module_utils.basic import AnsibleModule from ansible.module_utils.openstack import openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module import hashlib import os import tempfile import time import uuid def main(): argument_spec = openstack_full_argument_spec( id=dict(required=True), ttl=dict(default=604800, type='int'), state=dict(default='present', choices=['expired', 'present']), ) module_kwargs = openstack_module_kwargs() module = AnsibleModule(argument_spec, **module_kwargs) chunk_size = 64 * 1024 cache_dir = '/var/lib/nova/instances/_base' result = dict( changed=False, actions=[], image=None, cache_file='', exists_in_cache=False, mtime=0 ) if not os.path.exists(cache_dir): result['actions'].append('Created nova instance base dir') # _base may not exist on a newly deployed nova-compute host os.mkdir(cache_dir, 0o755) # FIXME: chown to the container nova uid (42436) until we can run within the container os.chown(cache_dir, 42436, 42436) sdk, cloud = openstack_cloud_from_module(module, min_version='0.11.3') try: # Ensure it's a valid uuid image_id = str(uuid.UUID(module.params['id'])) except ValueError: module.fail_json(msg=""Invalid image id: %s"" % module.params['id']) try: cache_fn = hashlib.sha1(image_id.encode('utf-8')).hexdigest() cache_file = os.path.join(cache_dir, cache_fn) result['exists_in_cache'] = exists_in_cache = os.path.exists(cache_file) if exists_in_cache: result['cache_file'] = cache_file image = cloud.image.find_image(name_or_id=image_id) exists_in_glance = image is not None if exists_in_glance: result['image'] = image.to_dict() if module.params['state'] == 'present': if not exists_in_cache: if not exists_in_glance: module.fail_json(msg=""Image not found in glance: %s"" % image_id) with tempfile.NamedTemporaryFile('wb', dir=cache_dir, delete=False) as temp_cache_file: try: image_stream = cloud.image.download_image(image, stream=True) md5 = hashlib.md5() try: for chunk in image_stream.iter_content(chunk_size=chunk_size): md5.update(chunk) temp_cache_file.write(chunk) finally: image_stream.close() temp_cache_file.close() if md5.hexdigest() != image.checksum: module.fail_json(msg=""Downloaded image does not match checksum"") # FIXME: chown to the container nova uid (42436) until we can run within the container os.chown(temp_cache_file.name, 42436, 42436) os.rename(temp_cache_file.name, cache_file) result['actions'].append('Downloaded image from glance') result['changed'] = True except Exception: os.unlink(temp_cache_file.name) raise # Set the mtime in the future to prevent nova cleanup now = time.time() ts = now + module.params['ttl'] cache_file_stat = os.stat(cache_file) if cache_file_stat.st_mtime < ts: os.utime(cache_file, (now, ts)) result['actions'].append( 'Changed mtime from {} to {}'.format( cache_file_stat.st_mtime, ts) ) result['changed'] = True else: # expired if not exists_in_cache: result['changed'] = False else: # Set the mtime to epoch to enable nova cleanup now = time.time() ts = 0 cache_file_stat = os.stat(cache_file) if cache_file_stat.st_mtime > ts: os.utime(cache_file, (now, ts)) result['actions'].append( 'Changed mtime from {} to {}'.format( cache_file_stat.st_mtime, ts) ) result['changed'] = True cache_file_stat = os.stat(cache_file) result['mtime'] = cache_file_stat.st_mtime module.exit_json(**result) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e), extra_data=e.extra_data) if __name__ == ""__main__"": main() ",,210,0
openstack%2Fpuppet-openstack_spec_helper~stable%2Fstein~I332741d21c0a532f3f99abffcf27e122b06c62d1,openstack/puppet-openstack_spec_helper,stable/stein,I332741d21c0a532f3f99abffcf27e122b06c62d1,"Revert ""Disable relative_classname_inclusion""",MERGED,2019-12-19 21:38:18.000000000,2019-12-20 14:29:13.000000000,2019-12-19 23:52:19.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-19 21:38:18.000000000', 'files': ['puppet-openstack_spec_helper.gemspec', 'lib/puppet-openstack_spec_helper/rake_tasks.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/f76918391c9b56535e733633dc5eaa8013085429', 'message': 'Revert ""Disable relative_classname_inclusion""\n\nThis reverts commit e7e50db6cd6336a827422b14e079ee3d67b9e20c.\n\nFor stable branches we want to keep 1.0.0 because we won\'t\nbe backporting the relative class name changes.\n\nChange-Id: I332741d21c0a532f3f99abffcf27e122b06c62d1\n'}]",0,700075,f76918391c9b56535e733633dc5eaa8013085429,8,3,1,14985,,,0,"Revert ""Disable relative_classname_inclusion""

This reverts commit e7e50db6cd6336a827422b14e079ee3d67b9e20c.

For stable branches we want to keep 1.0.0 because we won't
be backporting the relative class name changes.

Change-Id: I332741d21c0a532f3f99abffcf27e122b06c62d1
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/75/700075/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-openstack_spec_helper.gemspec', 'lib/puppet-openstack_spec_helper/rake_tasks.rb']",2,f76918391c9b56535e733633dc5eaa8013085429,stein/lint2," config.disable_checks = [""80chars"", ""class_inherits_from_params_class"", ""only_variable_string""]"," # TODO(tobias-urdin) Remove relative_classname_inclusion # when we have fixed all the absolute includes to relative. # https://github.com/voxpupuli/puppet-lint-absolute_classname-check#relative-class-name-inclusion config.disable_checks = [""80chars"", ""class_inherits_from_params_class"", ""only_variable_string"", ""relative_classname_inclusion""]",5,6
openstack%2Fstorlets~master~I96a3705961bf111f9ea2d237bfdcc29ab61577ad,openstack/storlets,master,I96a3705961bf111f9ea2d237bfdcc29ab61577ad,Bump up openjdk from 8 to 11,ABANDONED,2019-12-20 13:02:44.000000000,2019-12-20 14:10:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-12-20 13:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/2308be158cddb5a707edb3d36e8c2b065a1af07e', 'message': 'Bump up openjdk from 8 to 10\n\nChange-Id: I96a3705961bf111f9ea2d237bfdcc29ab61577ad\n'}, {'number': 2, 'created': '2019-12-20 13:34:18.000000000', 'files': ['src/java/SBus/build.xml', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/storlets/commit/3d9e2e176c4cf09ba67d9cb06137b5e800669e5e', 'message': 'Bump up openjdk from 8 to 11\n\nChange-Id: I96a3705961bf111f9ea2d237bfdcc29ab61577ad\n'}]",0,700168,3d9e2e176c4cf09ba67d9cb06137b5e800669e5e,4,1,2,9816,,,0,"Bump up openjdk from 8 to 11

Change-Id: I96a3705961bf111f9ea2d237bfdcc29ab61577ad
",git fetch https://review.opendev.org/openstack/storlets refs/changes/68/700168/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/java/SBus/build.xml', 'devstack/plugin.sh']",2,2308be158cddb5a707edb3d36e8c2b065a1af07e,devstack, install_package openjdk-10-jdk-headless ant apt-get install openjdk-10-jre-headless -y && \, install_package openjdk-8-jdk-headless ant apt-get install openjdk-8-jre-headless -y && \,4,4
openstack%2Fkayobe~master~Ib6ed0e68b55a98920cbaf3e8ec828901b4b9ed9f,openstack/kayobe,master,Ib6ed0e68b55a98920cbaf3e8ec828901b4b9ed9f,Add Nova Cells documentation,MERGED,2019-12-13 17:31:04.000000000,2019-12-20 13:44:46.000000000,2019-12-20 13:43:14.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-13 17:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7f10a5fb18219d819fd7a33caf9fee2d9de6a58b', 'message': 'WIP: Cells documentation\n\nClearly not very user friendly at the moment. We probably want to\ninclude these files as part of test.\n\nStory: 2004291\nTask: 37810\nChange-Id: Ib6ed0e68b55a98920cbaf3e8ec828901b4b9ed9f\n'}, {'number': 2, 'created': '2019-12-17 15:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/94eb731db9860f1e91827830f3e29eb8e3ec9488', 'message': 'Cells documentation\n\nClearly not very user friendly at the moment. We probably want to\ninclude these files as part of test.\n\nStory: 2004291\nTask: 37810\nChange-Id: Ib6ed0e68b55a98920cbaf3e8ec828901b4b9ed9f\n'}, {'number': 3, 'created': '2019-12-17 15:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/246a45405dc31c84e0363cacb8a57c0cb324e7a3', 'message': 'Cells documentation\n\nClearly not very user friendly at the moment. We probably want to\ninclude these files as part of test.\n\nStory: 2004291\nTask: 37810\nChange-Id: Ib6ed0e68b55a98920cbaf3e8ec828901b4b9ed9f\n'}, {'number': 4, 'created': '2019-12-17 17:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d18755a9818a1c847aaa466537d66ba4ad1e06f9', 'message': 'Cells documentation\n\nClearly not very user friendly at the moment. We probably want to\ninclude these files as part of test.\n\nStory: 2004291\nTask: 37810\nChange-Id: Ib6ed0e68b55a98920cbaf3e8ec828901b4b9ed9f\n'}, {'number': 5, 'created': '2019-12-17 17:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7e85845108ea7338d61c7b2adbec5514ec8200c7', 'message': 'Cells documentation\n\nClearly not very user friendly at the moment. We probably want to\ninclude these files as part of test.\n\nStory: 2004291\nTask: 37810\nChange-Id: Ib6ed0e68b55a98920cbaf3e8ec828901b4b9ed9f\n'}, {'number': 6, 'created': '2019-12-17 17:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0c3a0bbe8a63a4b3edc802f59d7d89c8f9cc8834', 'message': 'Cells documentation\n\nClearly not very user friendly at the moment. We probably want to\ninclude these files as part of test.\n\nStory: 2004291\nTask: 37810\nChange-Id: Ib6ed0e68b55a98920cbaf3e8ec828901b4b9ed9f\n'}, {'number': 7, 'created': '2019-12-17 17:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9999ec08ddc3d8ee9c1d4c19a3b403804e3af803', 'message': 'Cells documentation\n\nClearly not very user friendly at the moment. We probably want to\ninclude these files as part of test.\n\nStory: 2004291\nTask: 37810\nChange-Id: Ib6ed0e68b55a98920cbaf3e8ec828901b4b9ed9f\n'}, {'number': 8, 'created': '2019-12-18 17:37:31.000000000', 'files': ['doc/source/configuration/index.rst', 'ansible/roles/kolla-ansible/tests/releasenotes/notes/add-support-for-nova-cells-8e18425b52ba06ea.yaml', 'doc/source/configuration/nova-cells.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/aee2af7a758c92f50e0fddfff518f3d5e80aa9e5', 'message': 'Add Nova Cells documentation\n\nClearly not very user friendly at the moment. We probably want to\ninclude these files as part of test.\n\nChange-Id: Ib6ed0e68b55a98920cbaf3e8ec828901b4b9ed9f\nStory: 2004291\nTask: 37810\n'}]",0,698971,aee2af7a758c92f50e0fddfff518f3d5e80aa9e5,27,4,8,17669,,,0,"Add Nova Cells documentation

Clearly not very user friendly at the moment. We probably want to
include these files as part of test.

Change-Id: Ib6ed0e68b55a98920cbaf3e8ec828901b4b9ed9f
Story: 2004291
Task: 37810
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/71/698971/8 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/nova-cells.rst'],1,7f10a5fb18219d819fd7a33caf9fee2d9de6a58b,story/2004291,"========== Nova cells ========== In the Train release, Kolla-Ansible gained full support for the Nova cells v2 scale out feature. Whilst configuring Nova cells is documented in the :kolla-ansible-doc:`Kolla Ansible <nova-cells-guide>`, implementing that configuration in Kayobe is documented here. In Kolla Ansible, Nova cells :kolla-ansible-doc:`are configured <nova-cells-guide>` via ``group vars``. In Kayobe, these ``group vars`` can be configured via Kayobe config. For example, to configure ``cell0001``` the following file could be created: .. code-block:: yaml :caption: ``$KAYOBE_CONFIG_PATH/kolla/inventory/group_vars/cell0001/all`` --- nova_cell_name: cell0001 nova_cell_novncproxy_group: cell0001-vnc nova_cell_conductor_group: cell0001-control nova_cell_compute_group: cell0001-compute After defining the cell ``group_vars`` the Kayobe inventory can be configured. In Kayobe, cell controllers and cell compute hosts become part of the existing ``controllers`` and ``compute`` Kayobe groups because typically they will need to be provisioned in the same way. In Kolla Ansible, to prevent non-cell services being mapped to cell controllers, the ``controllers`` group must be split into two. The inventory file should also include the cell definitions. The following groups and hosts file give an example of how this may be achieved: .. code-block:: yaml :caption: ``$KAYOBE_CONFIG_PATH/inventory/groups`` # Kayobe groups inventory file. This file should generally not be modified. # If declares the top-level groups and sub-groups. ############################################################################### # Seed groups. [seed] # Empty group to provide declaration of seed group. [seed-hypervisor] # Empty group to provide declaration of seed-hypervisor group. [container-image-builders:children] # Build container images on the seed by default. seed ############################################################################### # Overcloud groups. [controllers] # Empty group to provide declaration of controllers group. [network:children] # Add controllers to network group by default for backwards compatibility, # although they could be separate hosts. top-level-controllers [monitoring] # Empty group to provide declaration of monitoring group. [storage] # Empty group to provide declaration of storage group. [compute] # Empty group to provide declaration of compute group. # Empty group to provide declaration of top level controllers. [top-level-controllers] [overcloud:children] controllers network monitoring storage compute ############################################################################### # Docker groups. [docker:children] # Hosts in this group will have Docker installed. seed controllers network monitoring storage compute [docker-registry:children] # Hosts in this group will have a Docker Registry deployed. This group should # generally contain only a single host, to avoid deploying multiple independent # registries which may become unsynchronized. seed ############################################################################### # Baremetal compute node groups. [baremetal-compute] # Empty group to provide declaration of baremetal-compute group. ############################################################################### # Networking groups. [mgmt-switches] # Empty group to provide declaration of mgmt-switches group. [ctl-switches] # Empty group to provide declaration of ctl-switches group. [hs-switches] # Empty group to provide declaration of hs-switches group. [switches:children] mgmt-switches ctl-switches hs-switches .. code-block:: yaml :caption: ``$KAYOBE_CONFIG_PATH/inventory/hosts`` # Kayobe hosts inventory file. This file should be modified to define the hosts # and their top-level group membership. # This host acts as the configuration management Ansible control host. This must be # localhost. localhost ansible_connection=local [seed-hypervisor] # Add a seed hypervisor node here if required. This host will run a seed node # Virtual Machine. [seed] operator [controllers:children] top-level-controllers cell-controllers [top-level-controllers] control01 [cell-controllers:children] cell01-control cell02-control [compute:children] cell01-compute cell02-compute [cell01:children] cell01-control cell01-compute cell01-vnc [cell01-control] control02 [cell01-vnc] control02 [cell01-compute] compute01 [cell02:children] cell02-control cell02-compute cell02-vnc [cell02-control] control03 [cell02-vnc] control03 [cell02-compute] compute02 compute03 ################################## [mgmt-switches] # Add management network switches here if required. [ctl-switches] # Add control and provisioning switches here if required. [hs-switches] # Add high speed switches here if required. Having configured the Kayobe inventory, the Kolla Ansible inventory can be configured. Currently this can be done via the ``kolla_overcloud_inventory_top_level_group_map`` variable. For example, to configure the two cells defined in the Kayobe inventory above, the variable could be set to the following: .. code-block:: yaml :caption: ``$KAYOBE_CONFIG_PATH/kolla.yml kolla_overcloud_inventory_top_level_group_map: network: groups: - network compute: groups: - compute monitoring: groups: - monitoring cell-conductors: groups: - cell-conductors cell0001: groups: - cell01 cell0001-control: groups: - cell01-control cell0001-compute: groups: - cell01-compute cell0001-vnc: groups: - cell01-vnc cell0002: groups: - cell02 cell0002-control: groups: - cell02-control cell0002-compute: groups: - cell02-compute cell0002-vnc: groups: - cell02-vnc Finally, Nova cells can be enabled in Kolla Ansible: .. code-block:: yaml :caption: ``$KAYOBE_CONFIG_PATH/kolla/globals.yml enable_cells: True ",,247,0
openstack%2Ftripleo-common~stable%2Ftrain~Id6b4a5913141fc558c40f2cfd29f5e0741544ab4,openstack/tripleo-common,stable/train,Id6b4a5913141fc558c40f2cfd29f5e0741544ab4,Pass container_config to config actions,MERGED,2019-12-19 18:49:55.000000000,2019-12-20 13:32:04.000000000,2019-12-20 13:30:30.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-19 18:49:55.000000000', 'files': ['workbooks/package_update.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1a8ec6fea8e7e8195e1327e3d1f1cd1e1d63c305', 'message': 'Pass container_config to config actions\n\nThis patch updates the get_config and update_nodes workflows to pass in\nthe container_config name into the get_overcloud_config/download_config\nactions.\n\nWhen the container_config name is not passed, the default\novercloud-config is used. This means the correct config is not used if\nthe stack name is not overcloud as is often the case with multiple\noverclouds or multi-stack.\n\nChange-Id: Id6b4a5913141fc558c40f2cfd29f5e0741544ab4\nCloses-Bug: #1854991\n(cherry picked from commit 12ecf6c85d6db28794e5ce04c2c8a29d6c9fc53c)\n'}]",0,700050,1a8ec6fea8e7e8195e1327e3d1f1cd1e1d63c305,8,3,1,7144,,,0,"Pass container_config to config actions

This patch updates the get_config and update_nodes workflows to pass in
the container_config name into the get_overcloud_config/download_config
actions.

When the container_config name is not passed, the default
overcloud-config is used. This means the correct config is not used if
the stack name is not overcloud as is often the case with multiple
overclouds or multi-stack.

Change-Id: Id6b4a5913141fc558c40f2cfd29f5e0741544ab4
Closes-Bug: #1854991
(cherry picked from commit 12ecf6c85d6db28794e5ce04c2c8a29d6c9fc53c)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/50/700050/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/package_update.yaml'],1,1a8ec6fea8e7e8195e1327e3d1f1cd1e1d63c305,bug/1854991-stable/train, action: tripleo.config.get_overcloud_config input: container: <% $.container %> container_config: <% $.container %>-config - container: overcloud container_config: <% $.container %>-config, action: tripleo.config.get_overcloud_config container=<% $.container %>,6,1
openstack%2Fkuryr-kubernetes~stable%2Ftrain~I3500b11717f6eeeb5b5686a25f085d26900aa434,openstack/kuryr-kubernetes,stable/train,I3500b11717f6eeeb5b5686a25f085d26900aa434,Ensure namespace are recreated upon a k8s client failure,MERGED,2019-12-17 11:59:55.000000000,2019-12-20 13:27:13.000000000,2019-12-20 13:25:44.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-17 11:59:55.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/handlers/test_namespace.py', 'kuryr_kubernetes/controller/handlers/namespace.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c23fd82a715425be165c84361afd631fb640673d', 'message': 'Ensure namespace are recreated upon a k8s client failure\n\nIf k8s client is not responsive after the neutron resources for a\nnamespace are generated a rollback action will be triggered. However\nif during that rollback action the k8s is still not accessible, only\nthe neutron resources will be deleted and the k8s ones will be left\nbehind, blocking the recreation of the needed neutron resources\n\nChange-Id: I3500b11717f6eeeb5b5686a25f085d26900aa434\nCloses-Bug: 1856000\n(cherry picked from commit 64490e5d1366dd386cb70e66173118748eb60813)\n'}]",0,699400,c23fd82a715425be165c84361afd631fb640673d,8,3,1,23567,,,0,"Ensure namespace are recreated upon a k8s client failure

If k8s client is not responsive after the neutron resources for a
namespace are generated a rollback action will be triggered. However
if during that rollback action the k8s is still not accessible, only
the neutron resources will be deleted and the k8s ones will be left
behind, blocking the recreation of the needed neutron resources

Change-Id: I3500b11717f6eeeb5b5686a25f085d26900aa434
Closes-Bug: 1856000
(cherry picked from commit 64490e5d1366dd386cb70e66173118748eb60813)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/00/699400/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/handlers/test_namespace.py', 'kuryr_kubernetes/controller/handlers/namespace.py']",2,c23fd82a715425be165c84361afd631fb640673d,namespace-rollback-stable/train," self._set_net_crd(namespace, net_crd) try: self._del_kuryrnet_crd(net_crd_name) except exceptions.K8sClientException: LOG.exception(""Error when trying to rollback the KuryrNet CRD "" ""object %s"", net_crd_name) raise exceptions.ResourceNotReady(namespace)"," self._set_net_crd(namespace, net_crd) self._del_kuryrnet_crd(net_crd_name)",43,4
openstack%2Ftripleo-common~master~I571af51db0d21226bc42dc21925384f0129cd581,openstack/tripleo-common,master,I571af51db0d21226bc42dc21925384f0129cd581,image-uploader: allow an image without Labels to be uploaded,MERGED,2019-12-19 14:02:24.000000000,2019-12-20 13:22:26.000000000,2019-12-20 13:20:50.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-12-19 14:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f123a367c5a345c3c57a7069bfae9982f98ca614', 'message': ""image-uploader: allow an image without Labels to be uploaded\n\nSome images, like grafana don't have Labels set; let's just set an empty\ndefault if an image has no Labels and continue the upload.\n\nChange-Id: I571af51db0d21226bc42dc21925384f0129cd581\nCloses-Bug: #1857012\n""}, {'number': 2, 'created': '2019-12-19 14:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2a32edb0547d4514680ac63e9f5af579a89d7f7e', 'message': ""image-uploader: allow an image without Labels to be uploaded\n\nSome images, like grafana don't have Labels set; let's just set an empty\ndefault if an image has no Labels and continue the upload.\n\nChange-Id: I571af51db0d21226bc42dc21925384f0129cd581\nCloses-Bug: #1857012\n""}, {'number': 3, 'created': '2019-12-19 20:31:34.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/95b68c6d19119a022f94061ba98accc717ff6657', 'message': ""image-uploader: allow an image without Labels to be uploaded\n\nSome images, like grafana don't have Labels set; let's just set an empty\ndefault if an image has no Labels and continue the upload.\n\nChange-Id: I571af51db0d21226bc42dc21925384f0129cd581\nCloses-Bug: #1857012\n""}]",2,699992,95b68c6d19119a022f94061ba98accc717ff6657,27,7,3,3153,,,0,"image-uploader: allow an image without Labels to be uploaded

Some images, like grafana don't have Labels set; let's just set an empty
default if an image has no Labels and continue the upload.

Change-Id: I571af51db0d21226bc42dc21925384f0129cd581
Closes-Bug: #1857012
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/92/699992/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",2,f123a367c5a345c3c57a7069bfae9982f98ca614,bug/1857012," labels = config.get('labels', '') labels = config.get('labels', '')", labels = config['config']['Labels'] labels = config['config']['Labels'],45,2
openstack%2Ftripleo-puppet-elements~stable%2Ftrain~I26fc067c3d4c90bf699a74bac37a62defc2ace6b,openstack/tripleo-puppet-elements,stable/train,I26fc067c3d4c90bf699a74bac37a62defc2ace6b,RHEL8: Use podman-docker,MERGED,2019-12-19 15:02:38.000000000,2019-12-20 13:20:52.000000000,2019-12-20 13:20:52.000000000,"[{'_account_id': 8161}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-19 15:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/7fcb7f8bbc36b57ef7b85f4a307dc45ac3431ae7', 'message': 'RHEL8: Use podman-docker\n\nResolves: rhbz#1785242\n\nChange-Id: I26fc067c3d4c90bf699a74bac37a62defc2ace6b\nSigned-off-by: Lon Hohberger <lhh@redhat.com>\n'}, {'number': 2, 'created': '2019-12-19 15:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/676d3a476b222e9c16c27de37a6386f4c0cdc4b8', 'message': 'RHEL8: Use podman-docker\n\nResolves: rhbz#1785242\n\nChange-Id: I26fc067c3d4c90bf699a74bac37a62defc2ace6b\nSigned-off-by: Lon Hohberger <lhh@redhat.com>\n(cherry-picked from commit 7ed8609cc356cab8e0aa424a60af3982cdba22b4)\n'}, {'number': 3, 'created': '2019-12-19 17:52:53.000000000', 'files': ['elements/overcloud-base/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/a7412fddab74b21234b4ca3fcb23c5115e672b5b', 'message': ""RHEL8: Use podman-docker\n\nFedora (and consequently, recent RHEL8) builds seem to have\ndropped 'Provides: docker' from the podman-docker sub-rpm.\n\nThis switches the overcloud-base pkg-map on RHEL8 systems to\ninstead use podman-docker directly instead of relying on\nthe virtual 'Provides:' directive.\n\nResolves: rhbz#1785242\n\nChange-Id: I26fc067c3d4c90bf699a74bac37a62defc2ace6b\nSigned-off-by: Lon Hohberger <lhh@redhat.com>\n(cherry-picked from commit 43dbe36b9c3635090f736a910bde1d9c3e099a92)\n""}]",0,700004,a7412fddab74b21234b4ca3fcb23c5115e672b5b,12,6,3,8161,,,0,"RHEL8: Use podman-docker

Fedora (and consequently, recent RHEL8) builds seem to have
dropped 'Provides: docker' from the podman-docker sub-rpm.

This switches the overcloud-base pkg-map on RHEL8 systems to
instead use podman-docker directly instead of relying on
the virtual 'Provides:' directive.

Resolves: rhbz#1785242

Change-Id: I26fc067c3d4c90bf699a74bac37a62defc2ace6b
Signed-off-by: Lon Hohberger <lhh@redhat.com>
(cherry-picked from commit 43dbe36b9c3635090f736a910bde1d9c3e099a92)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/04/700004/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-base/pkg-map'],1,7fcb7f8bbc36b57ef7b85f4a307dc45ac3431ae7,," ""podman"": ""podman-docker"",",,1,0
openstack%2Ftripleo-puppet-elements~master~I26fc067c3d4c90bf699a74bac37a62defc2ace6b,openstack/tripleo-puppet-elements,master,I26fc067c3d4c90bf699a74bac37a62defc2ace6b,RHEL8: Use podman-docker,MERGED,2019-12-19 15:01:39.000000000,2019-12-20 13:20:51.000000000,2019-12-20 13:20:51.000000000,"[{'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-19 15:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/7ed8609cc356cab8e0aa424a60af3982cdba22b4', 'message': 'RHEL8: Use podman-docker\n\nResolves: rhbz#1785242\n\nChange-Id: I26fc067c3d4c90bf699a74bac37a62defc2ace6b\nSigned-off-by: Lon Hohberger <lhh@redhat.com>\n'}, {'number': 2, 'created': '2019-12-19 15:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/bcf94c9b3f083861af6aa2d9701b5a4e9b2bc698', 'message': 'RHEL8: Use podman-docker\n\nResolves: rhbz#1785242\n\nChange-Id: I26fc067c3d4c90bf699a74bac37a62defc2ace6b\nSigned-off-by: Lon Hohberger <lhh@redhat.com>\n'}, {'number': 3, 'created': '2019-12-19 15:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/6c04651d7ead5d6131fef26235f81b4c7c3edde0', 'message': ""RHEL8: Use podman-docker\n\nFedora (and consequently, recent RHEL8) builds seem to have\ndropped 'Provides: docker' from the podman-docker sub-rpm.\n\nThis switches the openstack-base image on RHEL8 systems to\ninstead use podman-docker directly instead of relying on\nthe virtual 'Provides:' directive.\n\nResolves: rhbz#1785242\n\nChange-Id: I26fc067c3d4c90bf699a74bac37a62defc2ace6b\nSigned-off-by: Lon Hohberger <lhh@redhat.com>\n""}, {'number': 4, 'created': '2019-12-19 15:55:50.000000000', 'files': ['elements/overcloud-base/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/43dbe36b9c3635090f736a910bde1d9c3e099a92', 'message': ""RHEL8: Use podman-docker\n\nFedora (and consequently, recent RHEL8) builds seem to have\ndropped 'Provides: docker' from the podman-docker sub-rpm.\n\nThis switches the overcloud-base pkg-map on RHEL8 systems to\ninstead use podman-docker directly instead of relying on\nthe virtual 'Provides:' directive.\n\nResolves: rhbz#1785242\n\nChange-Id: I26fc067c3d4c90bf699a74bac37a62defc2ace6b\nSigned-off-by: Lon Hohberger <lhh@redhat.com>\n""}]",0,700003,43dbe36b9c3635090f736a910bde1d9c3e099a92,11,5,4,8161,,,0,"RHEL8: Use podman-docker

Fedora (and consequently, recent RHEL8) builds seem to have
dropped 'Provides: docker' from the podman-docker sub-rpm.

This switches the overcloud-base pkg-map on RHEL8 systems to
instead use podman-docker directly instead of relying on
the virtual 'Provides:' directive.

Resolves: rhbz#1785242

Change-Id: I26fc067c3d4c90bf699a74bac37a62defc2ace6b
Signed-off-by: Lon Hohberger <lhh@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/03/700003/4 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-base/pkg-map'],1,7ed8609cc356cab8e0aa424a60af3982cdba22b4,," ""podman"": ""podman-docker"",",,1,0
openstack%2Fpuppet-nova~master~Ibff155075dbc174c491e7ff7d64e78ceb1bed4bf,openstack/puppet-nova,master,Ibff155075dbc174c491e7ff7d64e78ceb1bed4bf,DNM: Test relateive name inclusion,ABANDONED,2019-12-19 23:59:14.000000000,2019-12-20 13:19:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-19 23:59:14.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e5a0f60be87fc24d9c32871435871aa8fd749fca', 'message': 'DNM: Test relateive name inclusion\n\nChange-Id: Ibff155075dbc174c491e7ff7d64e78ceb1bed4bf\n'}]",0,700087,e5a0f60be87fc24d9c32871435871aa8fd749fca,4,2,1,9816,,,0,"DNM: Test relateive name inclusion

Change-Id: Ibff155075dbc174c491e7ff7d64e78ceb1bed4bf
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/87/700087/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,e5a0f60be87fc24d9c32871435871aa8fd749fca,dnm, include ::nova::deps, include nova::deps,1,1
openstack%2Fmagnum~master~Ia9273b02cd56352ca7628d95afa4a2062f4daa22,openstack/magnum,master,Ia9273b02cd56352ca7628d95afa4a2062f4daa22,tox: Keeping going with docs,MERGED,2019-10-24 05:35:34.000000000,2019-12-20 13:19:34.000000000,2019-12-20 13:17:51.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28022}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-10-24 05:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5fd33ce717093e2ad15c46948a48bf1e19ffbc4c', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ia9273b02cd56352ca7628d95afa4a2062f4daa22\n""}, {'number': 2, 'created': '2019-10-24 07:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c19fb5860420710df22ab2b8578df722eb22d0b2', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ia9273b02cd56352ca7628d95afa4a2062f4daa22\n""}, {'number': 3, 'created': '2019-12-20 02:32:47.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/magnum/commit/c5e65f3ff57996d7ea7be98c7ce41a1abf1e5680', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ia9273b02cd56352ca7628d95afa4a2062f4daa22\n""}]",0,690803,c5e65f3ff57996d7ea7be98c7ce41a1abf1e5680,17,7,3,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: Ia9273b02cd56352ca7628d95afa4a2062f4daa22
",git fetch https://review.opendev.org/openstack/magnum refs/changes/03/690803/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini']",3,5fd33ce717093e2ad15c46948a48bf1e19ffbc4c,,commands = sphinx-build -W --keep-going -b html doc/source doc/build/html sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/htmlcommands = sphinx-build -a -E -W -d install-guide/build/doctrees --keep-going -b html install-guide/source install-guide/build/html sphinx-build -W --keep-going -b html -d api-ref/build/doctrees api-ref/source api-ref/build/html,commands = sphinx-build -W -b html doc/source doc/build/html sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/htmlcommands = sphinx-build -a -E -W -d install-guide/build/doctrees -b html install-guide/source install-guide/build/html sphinx-build -W -b html -d api-ref/build/doctrees api-ref/source api-ref/build/html,7,7
openstack%2Fkuryr-kubernetes~master~Ib4194d5f6bd2c07eccf7916ff057c5204a575ac4,openstack/kuryr-kubernetes,master,Ib4194d5f6bd2c07eccf7916ff057c5204a575ac4,Use real port object in tests for vif pool driver.,ABANDONED,2019-12-04 17:19:12.000000000,2019-12-20 12:51:31.000000000,,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-12-04 17:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/835f11f7b2bf59c71d3d05681c26802ee260b4e2', 'message': ""Use real port object in tests for vif pool driver.\n\nCurrently, in tests plain dict was used as the port object in unittest,\nwhich doesn't help much to be confident enough regarding data types\njuggled in the vif pool transformation.\n\nBy using openstack.network.v2.port.Port objects we gain such confidence\nthat we are dealing with an port object, dict, tuple, or any other data\ntype, so that we can treat it accordingly in the code.\n\nThis change alone helped with flashing out some obvious mistakes\nregarding port object attributes.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Ib4194d5f6bd2c07eccf7916ff057c5204a575ac4\n""}, {'number': 2, 'created': '2019-12-05 11:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/248b37ccb0560d41e82e1200fb6a39af51e97c17', 'message': ""Use real port object in tests for vif pool driver.\n\nCurrently, in tests plain dict was used as the port object in unittest,\nwhich doesn't help much to be confident enough regarding data types\njuggled in the vif pool transformation.\n\nBy using openstack.network.v2.port.Port objects we gain such confidence\nthat we are dealing with an port object, dict, tuple, or any other data\ntype, so that we can treat it accordingly in the code.\n\nThis change alone helped with flashing out some obvious mistakes\nregarding port object attributes.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Ib4194d5f6bd2c07eccf7916ff057c5204a575ac4\n""}, {'number': 3, 'created': '2019-12-06 11:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e6d70aaf72469e4ab243d11269c3a7e8f85b83ad', 'message': ""Use real port object in tests for vif pool driver.\n\nCurrently, in tests plain dict was used as the port object in unittest,\nwhich doesn't help much to be confident enough regarding data types\njuggled in the vif pool transformation.\n\nBy using openstack.network.v2.port.Port objects we gain such confidence\nthat we are dealing with an port object, dict, tuple, or any other data\ntype, so that we can treat it accordingly in the code.\n\nThis change alone helped with flashing out some obvious mistakes\nregarding port object attributes.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Ib4194d5f6bd2c07eccf7916ff057c5204a575ac4\n""}, {'number': 4, 'created': '2019-12-09 14:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a5c0161222baf8cd6319efb2382ab16a1a219523', 'message': ""Use real port object in tests for vif pool driver.\n\nCurrently, in tests plain dict was used as the port object in unittest,\nwhich doesn't help much to be confident enough regarding data types\njuggled in the vif pool transformation.\n\nBy using openstack.network.v2.port.Port objects we gain such confidence\nthat we are dealing with an port object, dict, tuple, or any other data\ntype, so that we can treat it accordingly in the code.\n\nThis change alone helped with flashing out some obvious mistakes\nregarding port object attributes.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Ib4194d5f6bd2c07eccf7916ff057c5204a575ac4\n""}, {'number': 5, 'created': '2019-12-10 09:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6ac453e1680419a7d7ed3b271b619f7dd7a6a42c', 'message': ""Use real port object in tests for vif pool driver.\n\nCurrently, in tests plain dict was used as the port object in unittest,\nwhich doesn't help much to be confident enough regarding data types\njuggled in the vif pool transformation.\n\nBy using openstack.network.v2.port.Port objects we gain such confidence\nthat we are dealing with an port object, dict, tuple, or any other data\ntype, so that we can treat it accordingly in the code.\n\nThis change alone helped with flashing out some obvious mistakes\nregarding port object attributes.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Ib4194d5f6bd2c07eccf7916ff057c5204a575ac4\n""}, {'number': 6, 'created': '2019-12-10 14:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/082f1b10d17d2e252e12eb9c09723cc2db9cd6c1', 'message': ""Use real port object in tests for vif pool driver.\n\nCurrently, in tests plain dict was used as the port object in unittest,\nwhich doesn't help much to be confident enough regarding data types\njuggled in the vif pool transformation.\n\nBy using openstack.network.v2.port.Port objects we gain such confidence\nthat we are dealing with an port object, dict, tuple, or any other data\ntype, so that we can treat it accordingly in the code.\n\nThis change alone helped with flashing out some obvious mistakes\nregarding port object attributes.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Ib4194d5f6bd2c07eccf7916ff057c5204a575ac4\n""}, {'number': 7, 'created': '2019-12-16 07:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c8525652573626fa4660a7fb9abed90240520bf6', 'message': ""Use real port object in tests for vif pool driver.\n\nCurrently, in tests plain dict was used as the port object in unittest,\nwhich doesn't help much to be confident enough regarding data types\njuggled in the vif pool transformation.\n\nBy using openstack.network.v2.port.Port objects we gain such confidence\nthat we are dealing with an port object, dict, tuple, or any other data\ntype, so that we can treat it accordingly in the code.\n\nThis change alone helped with flashing out some obvious mistakes\nregarding port object attributes.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Ib4194d5f6bd2c07eccf7916ff057c5204a575ac4\n""}, {'number': 8, 'created': '2019-12-17 09:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1363f7342265bd37bf8c3f47c7c465be95ad097e', 'message': ""Use real port object in tests for vif pool driver.\n\nCurrently, in tests plain dict was used as the port object in unittest,\nwhich doesn't help much to be confident enough regarding data types\njuggled in the vif pool transformation.\n\nBy using openstack.network.v2.port.Port objects we gain such confidence\nthat we are dealing with an port object, dict, tuple, or any other data\ntype, so that we can treat it accordingly in the code.\n\nThis change alone helped with flashing out some obvious mistakes\nregarding port object attributes.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Ib4194d5f6bd2c07eccf7916ff057c5204a575ac4\n""}, {'number': 9, 'created': '2019-12-17 13:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/197ee9722431b4905896ff126d00e021f4f548ee', 'message': ""Use real port object in tests for vif pool driver.\n\nCurrently, in tests plain dict was used as the port object in unittest,\nwhich doesn't help much to be confident enough regarding data types\njuggled in the vif pool transformation.\n\nBy using openstack.network.v2.port.Port objects we gain such confidence\nthat we are dealing with an port object, dict, tuple, or any other data\ntype, so that we can treat it accordingly in the code.\n\nThis change alone helped with flashing out some obvious mistakes\nregarding port object attributes.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Ib4194d5f6bd2c07eccf7916ff057c5204a575ac4\n""}, {'number': 10, 'created': '2019-12-17 13:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/52b24c19494f83076f3af24a4ab95836170836e9', 'message': ""Use real port object in tests for vif pool driver.\n\nCurrently, in tests plain dict was used as the port object in unittest,\nwhich doesn't help much to be confident enough regarding data types\njuggled in the vif pool transformation.\n\nBy using openstack.network.v2.port.Port objects we gain such confidence\nthat we are dealing with an port object, dict, tuple, or any other data\ntype, so that we can treat it accordingly in the code.\n\nThis change alone helped with flashing out some obvious mistakes\nregarding port object attributes.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Ib4194d5f6bd2c07eccf7916ff057c5204a575ac4\n""}, {'number': 11, 'created': '2019-12-17 18:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bb5ea6cd4bfbd645fae1e3e664b84f1c78208d73', 'message': ""Use real port object in tests for vif pool driver.\n\nCurrently, in tests plain dict was used as the port object in unittest,\nwhich doesn't help much to be confident enough regarding data types\njuggled in the vif pool transformation.\n\nBy using openstack.network.v2.port.Port objects we gain such confidence\nthat we are dealing with an port object, dict, tuple, or any other data\ntype, so that we can treat it accordingly in the code.\n\nThis change alone helped with flashing out some obvious mistakes\nregarding port object attributes.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Ib4194d5f6bd2c07eccf7916ff057c5204a575ac4\n""}, {'number': 12, 'created': '2019-12-19 10:29:21.000000000', 'files': ['kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3b3b43137d238238395c8b5c88dde374ff14bdd3', 'message': ""Use real port object in tests for vif pool driver.\n\nCurrently, in tests plain dict was used as the port object in unittest,\nwhich doesn't help much to be confident enough regarding data types\njuggled in the vif pool transformation.\n\nBy using openstack.network.v2.port.Port objects we gain such confidence\nthat we are dealing with an port object, dict, tuple, or any other data\ntype, so that we can treat it accordingly in the code.\n\nThis change alone helped with flashing out some obvious mistakes\nregarding port object attributes.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Ib4194d5f6bd2c07eccf7916ff057c5204a575ac4\n""}]",0,697328,3b3b43137d238238395c8b5c88dde374ff14bdd3,27,4,12,13692,,,0,"Use real port object in tests for vif pool driver.

Currently, in tests plain dict was used as the port object in unittest,
which doesn't help much to be confident enough regarding data types
juggled in the vif pool transformation.

By using openstack.network.v2.port.Port objects we gain such confidence
that we are dealing with an port object, dict, tuple, or any other data
type, so that we can treat it accordingly in the code.

This change alone helped with flashing out some obvious mistakes
regarding port object attributes.

Implements: blueprint switch-to-openstacksdk
Change-Id: Ib4194d5f6bd2c07eccf7916ff057c5204a575ac4
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/28/697328/12 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py']",2,835f11f7b2bf59c71d3d05681c26802ee260b4e2,bp/switch-to-openstacksdk,"from openstack.network.v2 import port as os_portdef get_port_obj(port_id='07cfe856-11cc-43d9-9200-ff4dc02d3620', device_owner='compute:kuryr', ip_address=None): fixed_ips = [{'subnet_id': 'e1942bb1-5f51-4646-9885-365b66215592', 'ip_address': '10.10.0.5'}, {'subnet_id': '4894baaf-df06-4a54-9885-9cd99d1cc245', 'ip_address': 'fd35:7db5:e3fc:0:f816:3eff:fe80:d421'}] if ip_address: fixed_ips[0]['ip_address'] = ip_address security_group_ids = ['cfb3dfc4-7a43-4ba1-b92d-b8b2650d7f88'] port_data = {'allowed_address_pairs': [], 'binding_host_id': 'kuryr-devstack', 'binding_profile': {}, 'binding_vif_details': {'port_filter': True, 'ovs_hybrid_plug': False}, 'binding_vif_type': 'ovs', 'binding_vnic_type': 'normal', 'created_at': '2017-06-09T13:23:24Z', 'data_plane_status': None, 'description': '', 'device_id': '', 'device_owner': device_owner, 'dns_assignment': None, 'dns_domain': None, 'dns_name': None, 'extra_dhcp_opts': [], 'fixed_ips': fixed_ips, 'id': port_id, 'ip_address': None, 'is_admin_state_up': True, 'is_port_security_enabled': True, 'location': None, 'mac_address': 'fa:16:3e:80:d4:21', 'name': constants.KURYR_PORT_NAME, 'network_id': 'ba44f957-c467-412b-b985-ae720514bc46', 'option_name': None, 'option_value': None, 'project_id': 'b6e8fb2bde594673923afc19cf168f3a', 'qos_policy_id': None, 'revision_number': 9, 'security_group_ids': security_group_ids, 'status': u'DOWN', 'subnet_id': None, 'tags': [], 'trunk_details': None, 'updated_at': u'2019-12-04T15:06:09Z'} return os_port.Port(**port_data) port.tags = [tags] port.binding_host_id = None os_net.delete_port.assert_called_once_with(port.id) net_id = port.network_id os_net.delete_port.assert_called_once_with(port.id) port.binding_host_id = None 'security_group_ids': ['security_group_modified']})] port = get_port_obj(port_id=port_id) port.security_group_ids = ['security_group'] os_net.ports.return_value = (p for p in [port]) 'security_group_ids': ['security_group_modified']})] 'security_group_ids': ['security_group_modified']})] 'security_group_ids': ['security_group_modified']})] 'security_group_ids': ['security_group_modified']})] pool_key = (port['binding_host_id'], port['project_id'], net_id) {tuple(port.security_group_ids): [port_id]}) port = get_port_obj(port_id=port_id) port.security_group_ids = ['security_group'] os_net.ports.return_value = [port] port = get_port_obj(port_id=port_id) port.security_group_ids = ['security_group_modified'] os_net.ports.return_value = [port] port = get_port_obj(port_id=port_id) port.security_group_ids = ['security_group_modified'] os_net.ports.return_value = [port] port = get_port_obj(port_id=port_id) port.security_group_ids = ['security_group_modified'] os_net.ports.return_value = [port] port = get_port_obj(port_id=port_id) port.security_group_ids = ['security_group_modified'] os_net.ports.return_value = [port] self.assertEqual(r_subports, {subport_id: subport.to_dict()}) pool_key = (port.binding_host_id, port.project_id, net_id) {tuple(port.security_group_ids): [port_id]}) subnet_id = port.fixed_ips[0]['subnet_id'] pool_key = (port.binding_host_id, port.project_id, net_id) {tuple(port['security_group_ids']): [port_id]}) pool_key = (port.binding_host_id, port.project_id, net_id) pool_key: {tuple(port.security_group_ids): [port_id]}} port['security_group_ids'])], []) pool_key = (port1.binding_host_id, port1.project_id, net_id) {tuple(port1['security_group_ids']): [port_id1, port_id2]})","def get_port_obj(port_id=None, device_owner=None, ip_address=None): port_obj = munch.Munch({ 'allowed_address_pairs': [], 'extra_dhcp_opts': [], 'device_owner': 'compute:kuryr', 'revision_number': 9, 'port_security_enabled': True, 'binding:profile': {}, 'fixed_ips': [ munch.Munch({ 'subnet_id': 'e1942bb1-5f51-4646-9885-365b66215592', 'ip_address': '10.10.0.5'}), munch.Munch({ 'subnet_id': '4894baaf-df06-4a54-9885-9cd99d1cc245', 'ip_address': 'fd35:7db5:e3fc:0:f816:3eff:fe80:d421'})], 'id': '07cfe856-11cc-43d9-9200-ff4dc02d3620', 'security_groups': ['cfb3dfc4-7a43-4ba1-b92d-b8b2650d7f88'], 'binding:vif_details': munch.Munch({ 'port_filter': True, 'ovs_hybrid_plug': False}), 'binding:vif_type': 'ovs', 'mac_address': 'fa:16:3e:80:d4:21', 'project_id': 'b6e8fb2bde594673923afc19cf168f3a', 'status': 'DOWN', 'binding:host_id': 'kuryr-devstack', 'description': '', 'tags': [], 'device_id': '', 'name': constants.KURYR_PORT_NAME, 'admin_state_up': True, 'network_id': 'ba44f957-c467-412b-b985-ae720514bc46', 'tenant_id': 'b6e8fb2bde594673923afc19cf168f3a', 'created_at': '2017-06-09T13:23:24Z', 'binding:vnic_type': 'normal'}) if ip_address: port_obj.fixed_ips[0].ip_address = ip_address if port_id: port_obj.id = port_id if device_owner: port_obj.device_owner = device_owner return port_obj port['tags'] = [tags] port['binding:host_id'] = None os_net.delete_port.assert_called_once_with(port['id']) net_id = port['network_id'] os_net.delete_port.assert_called_once_with(port['id']) port['binding:host_id'] = None 'security_groups': ['security_group_modified']})] os_net.ports.return_value = [ munch.Munch({'id': port_id, 'security_groups': ['security_group']})] 'security_groups': ['security_group_modified']})] 'security_groups': ['security_group_modified']})] 'security_groups': ['security_group_modified']})] 'security_groups': ['security_group_modified']})] pool_key = (port['binding:host_id'], port['project_id'], net_id) {tuple(port['security_groups']): [port_id]}) os_net.ports.return_value = [ munch.Munch({'id': port_id, 'security_groups': ['security_group']})] os_net.ports.return_value = [ munch.Munch({'id': port_id, 'security_groups': ['security_group_modified']})] os_net.ports.return_value = [ munch.Munch({'id': port_id, 'security_groups': ['security_group_modified']})] os_net.ports.return_value = [ munch.Munch({'id': port_id, 'security_groups': ['security_group_modified']})] os_net.ports.return_value = [ munch.Munch({'id': port_id, 'security_groups': ['security_group_modified']})] self.assertEqual(r_subports, {subport_id: subport}) pool_key = (port['binding:host_id'], port['project_id'], net_id) {tuple(port['security_groups']): [port_id]}) subnet_id = port['fixed_ips'][0]['subnet_id'] pool_key = (port['binding:host_id'], port['project_id'], net_id) {tuple(port['security_groups']): [port_id]}) pool_key = (port['binding:host_id'], port['project_id'], net_id) pool_key: {tuple(port['security_groups']): [port_id]}} port['security_groups'])], []) pool_key = (port1['binding:host_id'], port1['project_id'], net_id) {tuple(port1['security_groups']): [port_id1, port_id2]})",96,90
openstack%2Fneutron~stable%2Fstein~Iea61238f37fdf24c0264f96d104ee0b3b6aec8e2,openstack/neutron,stable/stein,Iea61238f37fdf24c0264f96d104ee0b3b6aec8e2,Use constraints for docs tox target and cap hacking,MERGED,2019-12-11 18:21:52.000000000,2019-12-20 12:34:22.000000000,2019-12-20 12:31:54.000000000,"[{'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 8313}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-12-11 18:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/df0a1f0adfc9e92573801cb41970f09ea8c1cb2e', 'message': ""[stable-only] Use Stein version of neutron-lib for docs build\n\n'tox -e docs' does not use the upper-constraints.txt, that is why it\ninstalls the latest available neutron-lib version from pypi. With newly\nreleased neutron-lib version 1.30.0 some old constants were removed and\ndocs build fails. To fix this the proper upper contstraints needs to be\nused in the install_command of the docs tox target.\n\nChange-Id: Iea61238f37fdf24c0264f96d104ee0b3b6aec8e2\n""}, {'number': 2, 'created': '2019-12-12 12:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc872e7673dc1c5d7aab0d42f969de0ae0070be1', 'message': 'Use constraints for docs tox target\n\nIn Stein the docs target started to fail when new release of\nneutron-lib appeared. This is because tox installs neutron and its\nrequirements without any constraints. To fix this both the upper\nconstraints and neutron requirements needs to be added to dependencies\nof docs target.\n\nNote: patch adjusted to stable/stein\n\nCloses-Bug: #1856156\nChange-Id: Iea61238f37fdf24c0264f96d104ee0b3b6aec8e2\n(cherry picked from commit 07be7934359aa121761396ba47128904f19cb2e4)\n(cherry picked from commit d1c4ba581085f4978da82a597b1387d60e79ff0c)\n'}, {'number': 3, 'created': '2019-12-12 17:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52b589be72d8a86cb9abf328f0a6562c3f32dff0', 'message': 'Use constraints for docs tox target\n\nIn Stein the docs target started to fail when new release of\nneutron-lib appeared. This is because tox installs neutron and its\nrequirements without any constraints. To fix this both the upper\nconstraints and neutron requirements needs to be added to dependencies\nof docs target.\n\nNote: patch adjusted to stable/stein and by using upper constraints in\nStein another sphinx error comes up:\n\n  ../config-services-agent.rst:70:Error in ""code-block"" directive:\n  1 argument(s) required, 0 supplied.\n\nThis also makes the docs build fail so a \'none\' argument is added to\nthe code-block.\n\nCloses-Bug: #1856156\nChange-Id: Iea61238f37fdf24c0264f96d104ee0b3b6aec8e2\n(cherry picked from commit 07be7934359aa121761396ba47128904f19cb2e4)\n(cherry picked from commit d1c4ba581085f4978da82a597b1387d60e79ff0c)\n'}, {'number': 4, 'created': '2019-12-18 18:34:50.000000000', 'files': ['doc/source/admin/config-services-agent.rst', 'test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/34239888eb661415ed372808304a42339563dad6', 'message': 'Use constraints for docs tox target and cap hacking\n\nThis patch fixes 3 problems to fix gate jobs in Stein.\n\n1. In Stein the docs target started to fail when new release of\n   neutron-lib appeared. This is because tox installs neutron and its\n   requirements without any constraints. To fix this both the upper\n   constraints and neutron requirements needs to be added to\n   dependencies of docs target.\n\n2. Patch adjusted to stable/stein and by using upper constraints in\n   Stein another sphinx error comes up:\n\n   ../config-services-agent.rst:70:Error in ""code-block"" directive:\n   1 argument(s) required, 0 supplied.\n\n   This also makes the docs build fail so a \'none\' argument is added to\n   the code-block.\n\n3. Cap hacking in test-requirements.txt\n\n   hacking as a linter is in global requirements blacklist and so is\n   not in constraints. Recent release introduced new rules that\n   required fix on master, on stable branches we should rather cap to\n   the version that was in use during this release development.\n\nCloses-Bug: #1856156\nChange-Id: Iea61238f37fdf24c0264f96d104ee0b3b6aec8e2\n(cherry picked from commit 07be7934359aa121761396ba47128904f19cb2e4)\n(cherry picked from commit d1c4ba581085f4978da82a597b1387d60e79ff0c)\n'}]",8,698565,34239888eb661415ed372808304a42339563dad6,45,9,4,17685,,,0,"Use constraints for docs tox target and cap hacking

This patch fixes 3 problems to fix gate jobs in Stein.

1. In Stein the docs target started to fail when new release of
   neutron-lib appeared. This is because tox installs neutron and its
   requirements without any constraints. To fix this both the upper
   constraints and neutron requirements needs to be added to
   dependencies of docs target.

2. Patch adjusted to stable/stein and by using upper constraints in
   Stein another sphinx error comes up:

   ../config-services-agent.rst:70:Error in ""code-block"" directive:
   1 argument(s) required, 0 supplied.

   This also makes the docs build fail so a 'none' argument is added to
   the code-block.

3. Cap hacking in test-requirements.txt

   hacking as a linter is in global requirements blacklist and so is
   not in constraints. Recent release introduced new rules that
   required fix on master, on stable branches we should rather cap to
   the version that was in use during this release development.

Closes-Bug: #1856156
Change-Id: Iea61238f37fdf24c0264f96d104ee0b3b6aec8e2
(cherry picked from commit 07be7934359aa121761396ba47128904f19cb2e4)
(cherry picked from commit d1c4ba581085f4978da82a597b1387d60e79ff0c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/698565/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/config-services-agent.rst', 'tox.ini']",2,df0a1f0adfc9e92573801cb41970f09ea8c1cb2e,bug/1856156,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/stein} {opts} {packages},,2,1
openstack%2Fneutron~master~I14605ead2694d9e9422b3d7b519aed2e3c340e2a,openstack/neutron,master,I14605ead2694d9e9422b3d7b519aed2e3c340e2a,Allow to select subnets to publish DNS records,MERGED,2019-05-31 08:51:18.000000000,2019-12-20 12:34:05.000000000,2019-12-20 12:31:51.000000000,"[{'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 7249}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 26622}, {'_account_id': 27336}, {'_account_id': 30900}]","[{'number': 1, 'created': '2019-05-31 08:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9ab3cb6a76966c96db5e4f92ca401341e709172', 'message': 'WIP: Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\nTODO: Actually filter the fixed_ips for a port based on the new\nattribute.\n\nTODO: Create tests and a release note, update docs.\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\nDepends-On: https://review.opendev.org/662405\n'}, {'number': 2, 'created': '2019-05-31 09:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f06660b10c78a56dc1726a907d67010fd6757b59', 'message': 'WIP: Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\nTODO: Actually filter the fixed_ips for a port based on the new\nattribute.\n\nTODO: Create tests and a release note, update docs.\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\nDepends-On: https://review.opendev.org/662405\n'}, {'number': 3, 'created': '2019-05-31 10:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/92147663c8457547abdcda7db1ef4cb9e6c02f35', 'message': 'WIP: Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\nTODO: Actually filter the fixed_ips for a port based on the new\nattribute.\n\nTODO: Create tests and a release note, update docs.\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\nDepends-On: https://review.opendev.org/662405\n'}, {'number': 4, 'created': '2019-05-31 13:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/623ed167cc491b3729060a2860bccc8174db0937', 'message': 'WIP: Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\nTODO: Actually filter the fixed_ips for a port based on the new\nattribute.\n\nTODO: Create tests and a release note, update docs.\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\nDepends-On: https://review.opendev.org/662405\n'}, {'number': 5, 'created': '2019-06-13 14:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/de9d0856b70ff5aad13380e7bb6297e16b5d3619', 'message': 'WIP: Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\nTODO: Create tests and a release note, update docs.\n\nTODO: Revert the changes to .zuul.yaml once the dependency is merged and\nreleased.\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\nDepends-On: https://review.opendev.org/662405\n'}, {'number': 6, 'created': '2019-06-13 15:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c0d501db733c55ac976f8bb64bfa844d8636795', 'message': 'WIP: Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\nTODO: Create tests and a release note, update docs.\n\nTODO: Revert the changes to .zuul.yaml once the dependency is merged and\nreleased.\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\nDepends-On: https://review.opendev.org/662405\n'}, {'number': 7, 'created': '2019-06-17 09:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc777bb740a542c8962843904b6e1e2c2e942f69', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\nTODO: Create tests and a release note, update docs.\n\nTODO: Revert the changes to .zuul.yaml once the dependency is merged and\nreleased.\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\nDepends-On: https://review.opendev.org/662405\n'}, {'number': 8, 'created': '2019-06-17 09:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/94abdce7343867d1401fdc526edb6688b0e7760e', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\nTODO: Create tests and a release note, update docs.\n\nTODO: Revert the changes to .zuul.yaml once the dependency is merged and\nreleased.\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\nDepends-On: https://review.opendev.org/662405\n'}, {'number': 9, 'created': '2019-06-17 10:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/64fd56845f7ac816f9654e9d9b702255dde983d6', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\nTODO: Create tests and a release note, update docs.\n\nTODO: Revert the changes to .zuul.yaml once the dependency is merged and\nreleased.\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\nDepends-On: https://review.opendev.org/662405\n'}, {'number': 10, 'created': '2019-06-21 15:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9326e53ffb0fc43003e57fb7f6909ea1904e7ccc', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\nTODO: Create tests and a release note, update docs.\n\nTODO: Revert the changes to .zuul.yaml once the new neutron-lib is\nreleased.\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 11, 'created': '2019-07-01 13:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/07568b4600245654569b9a5520a32a7b9ccfa6ff', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\nTODO: Fix deleting DNS records on port deletion.\n\nTODO: Create tests and a release note, update docs.\n\nTODO: Revert the changes to .zuul.yaml once the new neutron-lib is\nreleased.\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 12, 'created': '2019-07-04 09:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d83ffbd1ebfd985b97bacb24cb5849674494ad42', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\nTODO: Fix deleting DNS records on port deletion.\n\nTODO: Create tests and a release note, update docs.\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 13, 'created': '2019-07-04 21:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f315c53eae091e0b76351e44f6ebcb24c42edfa4', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\nTODO: Fix deleting DNS records on port deletion.\n\nTODO: Create tests and a release note, update docs.\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 14, 'created': '2019-07-05 09:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb6ff3abc6852a8b9cb264aad6331ee26e9e4e42', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\nTODO: Fix deleting DNS records on port deletion.\n\nTODO: Create tests and a release note, update docs.\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 15, 'created': '2019-07-31 08:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/64b56beccb2e81222c05e3e4fb24438b55758612', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\nTODO: Fix deleting DNS records on port deletion.\n\nTODO: Create tests and a release note, update docs.\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 16, 'created': '2019-08-29 14:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9ce494fcbd0c76d7eed53953d02ffc76e5d4843', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\nTODO: Fix deleting DNS records on port deletion.\n\nTODO: Create tests and a release note, update docs.\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 17, 'created': '2019-08-30 11:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e137999c550ef535b344b0478c25b366529d9d19', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\nTODO: Fix deleting DNS records on port deletion.\n\nTODO: Create tests and a release note, update docs.\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 18, 'created': '2019-09-02 10:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b20a63f25a9e6042306fc955e6c45f84aeb31af', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\nTODO: Fix deleting DNS records on port deletion.\n\nTODO: Create tests and a release note, update docs.\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 19, 'created': '2019-09-06 13:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/47a3c5ff6c772f2b981bd4ec6627e52cffe042e9', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 20, 'created': '2019-09-09 15:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/43256c290cd83ba6461411cb419ee5a41379c012', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 21, 'created': '2019-10-15 14:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/616c8b6d0916493942db64b710c28c7b44a82440', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 22, 'created': '2019-10-20 08:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9dff600844067bab14c1dddbe97059920bba27ab', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 23, 'created': '2019-10-21 17:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b5b6bfe384395232f75aaa5e4327ef994c51223', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 24, 'created': '2019-10-26 17:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ff7b43454512155062ebc170f6d68a25a1ed350', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 25, 'created': '2019-10-27 19:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/349eb7021fd99b150ec1eda785cd0b9b2ed495a6', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 26, 'created': '2019-11-12 11:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/40bfb79061b4033715516c572d029008a4ace6c5', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 27, 'created': '2019-11-27 13:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/39e6fe8feb698a6295bd4b1aff9686bbd4402f11', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 28, 'created': '2019-11-27 19:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0cd1972dc648388caa83ec11e6dee56f9cabed7d', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 29, 'created': '2019-11-28 10:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7fc01d9e9663a5a38d436b37cdff9e4ae169c1b8', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 30, 'created': '2019-11-28 11:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9cdafaa93ff98db06fcbdaca8cace4ef72c9ef83', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 31, 'created': '2019-11-28 14:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c5a4ac236b462791314f041becb6bb85dfdcbd9', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 32, 'created': '2019-12-03 15:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/062d183d403d1cef74c3827fa5c495aee29d2847', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 33, 'created': '2019-12-03 15:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/64773f5d0fe3180be171d5794877b19367175350', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 34, 'created': '2019-12-03 15:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c88ef9f218cd17bcad2067c6c4c63713d2a5b60', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 35, 'created': '2019-12-03 16:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/94ac5b3c69b2cd8995f7b4349b2c17c046891def', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 36, 'created': '2019-12-03 20:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/db36fd1e28b7da9d2b92a443beb6f66837722823', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 37, 'created': '2019-12-03 20:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eeeab39df788e84789f3d748f144d95a21761e6b', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 38, 'created': '2019-12-04 18:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9bc4e814bb5ec8edeb0234a9ae94da58c1e47dac', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 39, 'created': '2019-12-05 20:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/42d23477d70d86fd7480bdfc3ce756aadc815f0c', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in, see [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 40, 'created': '2019-12-06 14:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/107f52a7c9aa1d4e4dd44cd87cfc0a3a8aa7251f', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in, see [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 41, 'created': '2019-12-09 13:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0190d5a45c1e083f73c596b814c44034eafc4e17', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in, see [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 42, 'created': '2019-12-11 11:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/abd66bc402b294fe3ad4c5e514c3ea1d69108674', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in, see [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}, {'number': 43, 'created': '2019-12-14 13:36:09.000000000', 'files': ['neutron/extensions/subnet_dns_publish_fixed_ip.py', 'neutron/objects/subnet.py', 'neutron/tests/unit/extensions/test_subnet_dns_publish_fixed_ip.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'devstack/lib/dns', 'neutron/db/models/dns.py', 'neutron/plugins/ml2/extensions/dns_integration.py', 'neutron/tests/unit/objects/test_objects.py', 'releasenotes/notes/subnet-dns-publish-fixed-ip-extension-6a5bb42a048a6671.yaml', 'neutron/db/migration/alembic_migrations/versions/ussuri/expand/263d454a9655_add_dns_publish_fixed_ip_to_subnets.py', 'neutron/tests/contrib/hooks/api_all_extensions', 'doc/source/admin/config-dns-int.rst', 'neutron/plugins/ml2/extensions/subnet_dns_publish_fixed_ip.py', 'doc/source/admin/config-dns-int-ext-serv.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/57bc6d167b44b4c898626aad2ad840ed85b7df17', 'message': 'Allow to select subnets to publish DNS records\n\nAs described in [0] a new attribute ``dns_publish_fixed_ip`` is added\nto subnets, allowing to specify directly whether DNS records should be\npublished for this subnet. This overrides the previous behaviour that\nmakes this decision based on various properties of the network that\nthe subnet is contained in, see [1].\n\n[0] https://launchpad.net/bugs/1784879\n[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html\n\nChange-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a\nPartial-Bug: 1784879\n'}]",94,662409,57bc6d167b44b4c898626aad2ad840ed85b7df17,247,17,43,13252,,,0,"Allow to select subnets to publish DNS records

As described in [0] a new attribute ``dns_publish_fixed_ip`` is added
to subnets, allowing to specify directly whether DNS records should be
published for this subnet. This overrides the previous behaviour that
makes this decision based on various properties of the network that
the subnet is contained in, see [1].

[0] https://launchpad.net/bugs/1784879
[1] https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html

Change-Id: I14605ead2694d9e9422b3d7b519aed2e3c340e2a
Partial-Bug: 1784879
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/662409/30 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/api/v2/test_base.py', 'neutron/extensions/subnet_dns_publish_fixed_ip.py', 'neutron/objects/subnet.py', 'neutron/db/migration/alembic_migrations/versions/train/expand/263d454a9655_add_dns_publish_fixed_ip_to_subnets.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'devstack/plugin.sh', 'neutron/plugins/ml2/plugin.py', 'neutron/db/migration/alembic_migrations/versions/train/expand/8ab9bbad3588_.py', 'neutron/plugins/ml2/extensions/dns_integration.py', 'neutron/db/db_base_plugin_common.py', 'neutron/db/subnet_dns_publish_fixed_ip_db.py', 'neutron/db/subnet_dns_publish_fixed_ip_mixin.py', 'neutron/db/models_v2.py', 'neutron/plugins/ml2/extensions/subnet_dns_publish_fixed_ip.py']",14,b9ab3cb6a76966c96db5e4f92ca401341e709172,bug/1784879,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.api.definitions import subnet_dns_publish_fixed_ip from neutron_lib.plugins.ml2 import api from oslo_log import log as logging LOG = logging.getLogger(__name__) class SubnetDNSPublishFixedIPExtensionDriver(api.ExtensionDriver): _supported_extension_alias = subnet_dns_publish_fixed_ip.ALIAS assert _supported_extension_alias == 'subnet_dns_publish_fixed_ip' def initialize(self): LOG.info(""SubnetDNSPublishFixedIPExtensionDriver initialization "" ""complete"") @property def extension_alias(self): return self._supported_extension_alias def process_create_subnet(self, context, data, result): # Create the subnet extension attributes. if 'dns_publish_fixed_ip' not in data: data['dns_publish_fixed_ip'] = False ",,240,14
openstack%2Ftrove~stable%2Ftrain~Ibaa6fd7273b98451097b32fb6b881008a236be9f,openstack/trove,stable/train,Ibaa6fd7273b98451097b32fb6b881008a236be9f,Fix mariadb CI - trove-scenario-mariadb-single,MERGED,2019-12-20 02:02:02.000000000,2019-12-20 12:30:22.000000000,2019-12-20 12:28:55.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-20 02:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ae169f0a71725d73e389339027d05696b1c719c3', 'message': 'Fix mariadb CI - trove-scenario-mariadb-single\n\n- Trove supports MariaDB 10.4\n- From MariaDB 10.3, Mariabackup is used instead of Percona XtraBackup\n  for backup functionality\n- Some log improvements\n\nChange-Id: Ibaa6fd7273b98451097b32fb6b881008a236be9f\n(cherry picked from commit 11b0b8d6f2888f74cbae509fe6c81b0b324d0032)\n'}, {'number': 2, 'created': '2019-12-20 07:02:28.000000000', 'files': ['trove/guestagent/strategies/backup/experimental/mariadb_impl.py', 'trove/templates/mariadb/config.template', 'trove/common/strategies/storage/__init__.py', 'trove/taskmanager/manager.py', 'trove/tests/int_tests.py', 'trove/guestagent/strategies/restore/mysql_impl.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/manager.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'integration/scripts/files/elements/ubuntu-xenial-mariadb/install.d/30-mariadb', 'trove/tests/unittests/guestagent/test_dbaas.py', 'integration/scripts/trovestack', 'trove/common/cfg.py', 'trove/guestagent/strategies/replication/experimental/mariadb_gtid.py', 'trove/guestagent/strategies/restore/experimental/mariadb_impl.py', 'trove/taskmanager/models.py', 'trove/guestagent/backup/backupagent.py', 'trove/guestagent/strategies/backup/__init__.py', 'trove/guestagent/strategies/replication/mysql_base.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/2afa3b039b327221950507d18905441bc4f3eb5a', 'message': 'Fix mariadb CI - trove-scenario-mariadb-single\n\n- Trove supports MariaDB 10.4\n- From MariaDB 10.3, Mariabackup is used instead of Percona XtraBackup\n  for backup functionality\n- Some log improvements\n\nChange-Id: Ibaa6fd7273b98451097b32fb6b881008a236be9f\n(cherry picked from commit 11b0b8d6f2888f74cbae509fe6c81b0b324d0032)\n'}]",0,700092,2afa3b039b327221950507d18905441bc4f3eb5a,9,2,2,6732,,,0,"Fix mariadb CI - trove-scenario-mariadb-single

- Trove supports MariaDB 10.4
- From MariaDB 10.3, Mariabackup is used instead of Percona XtraBackup
  for backup functionality
- Some log improvements

Change-Id: Ibaa6fd7273b98451097b32fb6b881008a236be9f
(cherry picked from commit 11b0b8d6f2888f74cbae509fe6c81b0b324d0032)
",git fetch https://review.opendev.org/openstack/trove refs/changes/92/700092/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/strategies/backup/experimental/mariadb_impl.py', 'trove/templates/mariadb/config.template', 'trove/common/strategies/storage/__init__.py', 'trove/taskmanager/manager.py', 'trove/tests/int_tests.py', 'trove/guestagent/strategies/restore/mysql_impl.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/manager.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'integration/scripts/files/elements/ubuntu-xenial-mariadb/install.d/30-mariadb', 'trove/tests/unittests/guestagent/test_dbaas.py', 'integration/scripts/trovestack', 'trove/common/cfg.py', 'trove/guestagent/strategies/replication/experimental/mariadb_gtid.py', 'trove/guestagent/strategies/restore/experimental/mariadb_impl.py', 'trove/taskmanager/models.py', 'trove/guestagent/backup/backupagent.py', 'trove/guestagent/strategies/backup/__init__.py', 'trove/guestagent/strategies/replication/mysql_base.py']",19,ae169f0a71725d73e389339027d05696b1c719c3,train-mariadb-backup,,,223,126
openstack%2Ftrove~master~I9662c4c23f3d2879d78e26fe4b32a6f55b6cfb99,openstack/trove,master,I9662c4c23f3d2879d78e26fe4b32a6f55b6cfb99,Fix trovestack tox job,MERGED,2019-12-19 01:23:12.000000000,2019-12-20 12:27:17.000000000,2019-12-20 12:25:43.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-19 01:23:12.000000000', 'files': ['test-upper-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/trove/commit/52c5646a9de746f26f03f7adada986ab8ee69f87', 'message': 'Fix trovestack tox job\n\nChange-Id: I9662c4c23f3d2879d78e26fe4b32a6f55b6cfb99\n'}]",0,699894,52c5646a9de746f26f03f7adada986ab8ee69f87,15,2,1,6732,,,0,"Fix trovestack tox job

Change-Id: I9662c4c23f3d2879d78e26fe4b32a6f55b6cfb99
",git fetch https://review.opendev.org/openstack/trove refs/changes/94/699894/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-upper-constraints.txt', 'tox.ini']",2,52c5646a9de746f26f03f7adada986ab8ee69f87,fix-trovestack-constraints,,skip_install = True pip install --no-binary :all: {toxinidir} \ -c/opt/stack/trove/test-upper-constraints.txt \ -chttps://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt,1,5
openstack%2Fkayobe~master~Ife90d839a5184a3b692c49e0411cd1ac6467f25a,openstack/kayobe,master,Ife90d839a5184a3b692c49e0411cd1ac6467f25a,Support customising nova-conductor and proxy groups for cells,MERGED,2019-12-13 17:31:04.000000000,2019-12-20 12:13:11.000000000,2019-12-20 12:11:45.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-13 17:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/199e4d91d07ff1c0fd9f196f84e5d50901edce66', 'message': 'Support customising nova-conductor group for cells\n\nStory: 2004291\nTask: 37804\nChange-Id: Ife90d839a5184a3b692c49e0411cd1ac6467f25a\n'}, {'number': 2, 'created': '2019-12-17 15:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c9b2d290a3f10739827e1edd8d4ee90eaf937d96', 'message': 'Support customising nova-conductor group for cells\n\nStory: 2004291\nTask: 37804\nChange-Id: Ife90d839a5184a3b692c49e0411cd1ac6467f25a\n'}, {'number': 3, 'created': '2019-12-17 15:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0a73d579f60cd8a6bd235c8f55ae0e587e8a2683', 'message': 'Support customising nova-conductor group for cells\n\nStory: 2004291\nTask: 37804\nChange-Id: Ife90d839a5184a3b692c49e0411cd1ac6467f25a\n'}, {'number': 4, 'created': '2019-12-17 17:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/711f85b3b4c09811db1e2f9fb1d16b35849c24e1', 'message': 'Support customising nova-conductor group for cells\n\nStory: 2004291\nTask: 37804\nChange-Id: Ife90d839a5184a3b692c49e0411cd1ac6467f25a\n'}, {'number': 5, 'created': '2019-12-17 17:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9216090ffdc399014f64e200ff5d40f909f32d8a', 'message': 'Support customising nova-conductor and proxy groups for cells\n\nStory: 2004291\nTask: 37804\nChange-Id: Ife90d839a5184a3b692c49e0411cd1ac6467f25a\n'}, {'number': 6, 'created': '2019-12-18 17:37:31.000000000', 'files': ['ansible/roles/kolla-ansible/templates/overcloud-services.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/05ae35bf6c06aceb6a4394152a48b333cbb44f13', 'message': 'Support customising nova-conductor and proxy groups for cells\n\nChange-Id: Ife90d839a5184a3b692c49e0411cd1ac6467f25a\nStory: 2004291\nTask: 37804\n'}]",2,698970,05ae35bf6c06aceb6a4394152a48b333cbb44f13,26,4,6,17669,,,0,"Support customising nova-conductor and proxy groups for cells

Change-Id: Ife90d839a5184a3b692c49e0411cd1ac6467f25a
Story: 2004291
Task: 37804
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/70/698970/5 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/kolla-ansible/templates/overcloud-services.j2'],1,199e4d91d07ff1c0fd9f196f84e5d50901edce66,story/2004291,{% if 'cell-controllers' in kolla_overcloud_inventory_top_level_group_map %} cell-controllers {% else %}{% endif %},,4,0
openstack%2Fcharm-specs~master~I23a8823568f1ac594982a37095f3e1c532b5ab53,openstack/charm-specs,master,I23a8823568f1ac594982a37095f3e1c532b5ab53,Open for Ussuri release,MERGED,2019-12-20 10:45:34.000000000,2019-12-20 11:56:29.000000000,2019-12-20 11:54:01.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-20 10:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/fa5bcd53b0e76f6919d5b44a01bea43adb248b22', 'message': 'Open for Ussuri release\n\nCarry forward any backlog specs to Ussuri.\n\nCarry forward any approved but still inflight specs to Ussuri.\n\nMove implemented specs for Train to implemented folder.\n\nMisc tidy of line lengths and missing titles in a couple of specs.\n\nChange-Id: I23a8823568f1ac594982a37095f3e1c532b5ab53\n'}, {'number': 2, 'created': '2019-12-20 11:04:33.000000000', 'files': ['specs/ussuri/backlog/service-discovery.rst', 'specs/train/implemented/charm-openstack-ovn.rst', 'specs/ussuri/backlog/controlled-service-restarts.rst', '.zuul.yaml', 'doc/source/specs/ussuri/approved', 'specs/ussuri/approved/ceph-fs-nfs-with-manilla.rst', 'specs/ussuri/redirects', 'doc/source/specs/ussuri/redirects', 'specs/train/implemented/policy-d-override.rst', 'specs/ussuri/backlog/openstack-load-balancer.rst', 'doc/source/index.rst', 'specs/ussuri/backlog/ceph-storage-action.rst', 'specs/ussuri/backlog/cinder-backup-swift.rst', 'doc/source/specs/ussuri/template.rst', 'specs/ussuri/backlog/charm-panko.rst', 'specs/ussuri/backlog/swift-extended-cluster-operations.rst', 'doc/source/specs/ussuri/implemented', 'specs/ussuri/approved/mysql8.rst', 'doc/source/specs/ussuri/index.rst', 'specs/train/implemented/ceph-pg-autotune.rst', 'doc/source/specs/ussuri/backlog', 'specs/ussuri/backlog/release-notes-migration-to-reno.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/34421843a2334e12d2148f13278645eee8b36f3f', 'message': 'Open for Ussuri release\n\nCarry forward any backlog specs to Ussuri.\n\nCarry forward any approved but still inflight specs to Ussuri.\n\nMove implemented specs for Train to implemented folder.\n\nMisc tidy of line lengths and missing titles in a couple of specs.\n\nRun unit tests in gate under Python 3.\n\nChange-Id: I23a8823568f1ac594982a37095f3e1c532b5ab53\n'}]",0,700151,34421843a2334e12d2148f13278645eee8b36f3f,9,2,2,935,,,0,"Open for Ussuri release

Carry forward any backlog specs to Ussuri.

Carry forward any approved but still inflight specs to Ussuri.

Move implemented specs for Train to implemented folder.

Misc tidy of line lengths and missing titles in a couple of specs.

Run unit tests in gate under Python 3.

Change-Id: I23a8823568f1ac594982a37095f3e1c532b5ab53
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/51/700151/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/ussuri/backlog/service-discovery.rst', 'specs/train/implemented/charm-openstack-ovn.rst', 'specs/ussuri/backlog/controlled-service-restarts.rst', 'doc/source/specs/ussuri/approved', 'specs/ussuri/approved/ceph-fs-nfs-with-manilla.rst', 'specs/ussuri/redirects', 'doc/source/specs/ussuri/redirects', 'specs/train/implemented/policy-d-override.rst', 'specs/ussuri/backlog/openstack-load-balancer.rst', 'doc/source/index.rst', 'specs/ussuri/backlog/ceph-storage-action.rst', 'specs/ussuri/backlog/cinder-backup-swift.rst', 'doc/source/specs/ussuri/template.rst', 'specs/ussuri/backlog/charm-panko.rst', 'specs/ussuri/backlog/swift-extended-cluster-operations.rst', 'doc/source/specs/ussuri/implemented', 'specs/ussuri/approved/mysql8.rst', 'doc/source/specs/ussuri/index.rst', 'specs/train/implemented/ceph-pg-autotune.rst', 'doc/source/specs/ussuri/backlog', 'specs/ussuri/backlog/release-notes-migration-to-reno.rst']",21,fa5bcd53b0e76f6919d5b44a01bea43adb248b22,ussuri-opening,,,179,6
openstack%2Fkolla-ansible~stable%2Fstein~I9fb4151261fba227dda09241bc141826589ad169,openstack/kolla-ansible,stable/stein,I9fb4151261fba227dda09241bc141826589ad169,Use'openstack_region_name' in cloudkitty collectors and fetchers,MERGED,2019-12-16 17:18:18.000000000,2019-12-20 11:45:13.000000000,2019-12-20 11:43:33.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 28356}]","[{'number': 1, 'created': '2019-12-16 17:18:18.000000000', 'files': ['ansible/roles/cloudkitty/templates/cloudkitty.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8c674296a9500a231089f5b3d5e5d238ad95c4dc', 'message': ""Use'openstack_region_name' in cloudkitty collectors and fetchers\n\nChange-Id: I9fb4151261fba227dda09241bc141826589ad169\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n(cherry picked from commit a01294a4de278f36bb574c0e1e912e89942a0312)\n""}]",0,699251,8c674296a9500a231089f5b3d5e5d238ad95c4dc,9,4,1,15197,,,0,"Use'openstack_region_name' in cloudkitty collectors and fetchers

Change-Id: I9fb4151261fba227dda09241bc141826589ad169
Signed-off-by: Rafael Weingärtner <rafael@apache.org>
(cherry picked from commit a01294a4de278f36bb574c0e1e912e89942a0312)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/699251/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cloudkitty/templates/cloudkitty.conf.j2'],1,8c674296a9500a231089f5b3d5e5d238ad95c4dc,cloudkitty-region-fixes-stable/stein,region_name = {{ openstack_region_name }}region_name = {{ openstack_region_name }},,2,0
openstack%2Fheat~master~I3863d6c75ad6b72bcf0dcbc5330705224679c432,openstack/heat,master,I3863d6c75ad6b72bcf0dcbc5330705224679c432,Let catch octavia client integration problems before they get to be released,ABANDONED,2019-12-03 12:06:27.000000000,2019-12-20 11:45:11.000000000,,"[{'_account_id': 4257}, {'_account_id': 22348}, {'_account_id': 27329}]","[{'number': 1, 'created': '2019-12-03 12:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1760669a2cc35e1c4702373d32fa0adbc4346fb9', 'message': 'Let catch octavia client integration problems before they get to be released\n\nChange-Id: I3863d6c75ad6b72bcf0dcbc5330705224679c432\n'}, {'number': 2, 'created': '2019-12-13 11:37:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/4d3ca58ebe5d86206e54972ce2f0306edb0dc537', 'message': 'Let catch octavia client integration problems before they get to be released\n\nChange-Id: I3863d6c75ad6b72bcf0dcbc5330705224679c432\n'}]",0,697067,4d3ca58ebe5d86206e54972ce2f0306edb0dc537,9,3,2,27329,,,0,"Let catch octavia client integration problems before they get to be released

Change-Id: I3863d6c75ad6b72bcf0dcbc5330705224679c432
",git fetch https://review.opendev.org/openstack/heat refs/changes/67/697067/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1760669a2cc35e1c4702373d32fa0adbc4346fb9,, - openstack/python-octaviaclient,,1,0
openstack%2Fpython-octaviaclient~master~I80c60e7b9ad2ef8d8c9a83055c25c493d3b824b1,openstack/python-octaviaclient,master,I80c60e7b9ad2ef8d8c9a83055c25c493d3b824b1,Add DevStack CI functional jobs,ABANDONED,2019-12-02 21:30:16.000000000,2019-12-20 11:44:58.000000000,,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27329}]","[{'number': 1, 'created': '2019-12-02 21:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/73aaa4ba54c052180b6c56944913125c55b014a7', 'message': 'Add DevStack CI functional job\n\nChange-Id: I80c60e7b9ad2ef8d8c9a83055c25c493d3b824b1\n'}, {'number': 2, 'created': '2019-12-02 21:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/6687be97cebde2e2618b8147426ca46095319899', 'message': 'Add DevStack CI functional job\n\nChange-Id: I80c60e7b9ad2ef8d8c9a83055c25c493d3b824b1\n'}, {'number': 3, 'created': '2019-12-03 08:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/1ee051460bbf9d80ec37c0f01000d46bbb6af0ac', 'message': 'Add DevStack CI functional job\n\nChange-Id: I80c60e7b9ad2ef8d8c9a83055c25c493d3b824b1\n'}, {'number': 4, 'created': '2019-12-03 09:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/49beb7d8d4192ac9b46d21e662918591dbdef494', 'message': 'Add DevStack CI functional job\n\nChange-Id: I80c60e7b9ad2ef8d8c9a83055c25c493d3b824b1\n'}, {'number': 5, 'created': '2019-12-03 09:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/ab276f5d6a1f7dd86d665efbfa9e7100fe15f63b', 'message': 'Add DevStack CI functional job\n\nChange-Id: I80c60e7b9ad2ef8d8c9a83055c25c493d3b824b1\n'}, {'number': 6, 'created': '2019-12-03 09:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/f208282e0b884e800d59b72efc460b080cfde4d4', 'message': 'Add DevStack CI functional jobs\n\nChange-Id: I80c60e7b9ad2ef8d8c9a83055c25c493d3b824b1\n'}, {'number': 7, 'created': '2019-12-03 09:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/5effc08e68421e56bc587c47cb4114a62729192c', 'message': 'Add DevStack CI functional jobs\n\nChange-Id: I80c60e7b9ad2ef8d8c9a83055c25c493d3b824b1\n'}, {'number': 8, 'created': '2019-12-03 09:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/ae2eb96d4c79428dbe0eb446aa593f8c1604ef47', 'message': 'Add DevStack CI functional jobs\n\nChange-Id: I80c60e7b9ad2ef8d8c9a83055c25c493d3b824b1\n'}, {'number': 9, 'created': '2019-12-03 11:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/fcbb7cbc48a1ec5cacc182b242a14cec9cb45b4f', 'message': 'Add DevStack CI functional jobs\n\nChange-Id: I80c60e7b9ad2ef8d8c9a83055c25c493d3b824b1\n'}, {'number': 10, 'created': '2019-12-03 11:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/b20d628e6ddb36d1ed0b8d60de0858b4d87535c1', 'message': 'Add DevStack CI functional jobs\n\nChange-Id: I80c60e7b9ad2ef8d8c9a83055c25c493d3b824b1\n'}, {'number': 11, 'created': '2019-12-03 11:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/31a34a4a8bb0f10a3a928032f6fd56a2f3396136', 'message': 'Add DevStack CI functional jobs\n\nChange-Id: I80c60e7b9ad2ef8d8c9a83055c25c493d3b824b1\n'}, {'number': 12, 'created': '2019-12-04 12:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/fc9cb6479b6a464bd003aa503de8a846cbf6be84', 'message': 'Add DevStack CI functional jobs\n\nDepends-On: https://review.opendev.org/697129/\nChange-Id: I80c60e7b9ad2ef8d8c9a83055c25c493d3b824b1\n'}, {'number': 13, 'created': '2019-12-04 13:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/acb49a8dc9bcad7cb08c9bf45d9e917998048e76', 'message': 'Add DevStack CI functional jobs\n\nDepends-On: https://review.opendev.org/697129/\nChange-Id: I80c60e7b9ad2ef8d8c9a83055c25c493d3b824b1\n'}, {'number': 14, 'created': '2019-12-05 15:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/75b4fe54ed6acc9933e0e416e7b540c8aa9ee0e5', 'message': 'Add DevStack CI functional jobs\n\nDepends-On: https://review.opendev.org/697129/\nChange-Id: I80c60e7b9ad2ef8d8c9a83055c25c493d3b824b1\n'}, {'number': 15, 'created': '2019-12-05 20:48:28.000000000', 'files': ['.gitignore', 'octaviaclient/tests/functional/api/v2/__init__.py', 'zuul.d/devstack-jobs.yaml', 'octaviaclient/tests/functional/api/v2/test_octavia.py', 'zuul.d/projects.yaml', 'functional-requirements.txt', 'tox.ini', '.stestr.conf', 'octaviaclient/tests/functional/api/__init__.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/3d5fab14f04cc48e400efa42f11fc420a1cd3832', 'message': 'Add DevStack CI functional jobs\n\nDepends-On: https://review.opendev.org/697129/\nChange-Id: I80c60e7b9ad2ef8d8c9a83055c25c493d3b824b1\n'}]",6,696967,3d5fab14f04cc48e400efa42f11fc420a1cd3832,35,4,15,27329,,,0,"Add DevStack CI functional jobs

Depends-On: https://review.opendev.org/697129/
Change-Id: I80c60e7b9ad2ef8d8c9a83055c25c493d3b824b1
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/67/696967/13 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/devstack-jobs.yaml', 'zuul.d/projects.yaml']",2,73aaa4ba54c052180b6c56944913125c55b014a7,devstack-ci, check: - octaviaclient-functional,,71,0
openstack%2Fnova~master~I8975e524cd5a9c7dfb065bb2dc8ceb03f1b89e7b,openstack/nova,master,I8975e524cd5a9c7dfb065bb2dc8ceb03f1b89e7b,FUP for in-place numa rebuild,MERGED,2019-12-10 14:28:27.000000000,2019-12-20 11:44:12.000000000,2019-12-20 11:41:55.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-10 14:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d852104d5b437473c595ed0e2585ed012c5d154', 'message': 'FUP for in-place numa rebuild\n\nThis patch addresses a number of typos and minor\nissues raised during review. a summary of the changes\nare corrections to typos in comments, a correct to a the\nexcpection message, an update to the release note and\naddtion of debug logging.\n\nChange-Id: I8975e524cd5a9c7dfb065bb2dc8ceb03f1b89e7b\nRelated-Bug: #1804502\nRelated-Bug: #1763766\n'}, {'number': 2, 'created': '2019-12-19 21:14:27.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/scheduler/filters/numa_topology_filter.py', 'releasenotes/notes/numa-rebuild-b75f9a1966f576ea.yaml', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f6060ab6b54261ff50b8068732f6e509619d713e', 'message': 'FUP for in-place numa rebuild\n\nThis patch addresses a number of typos and minor\nissues raised during review of [1][2]. A summary\nof the changes are corrections to typos in comments,\na correction to the exception message, an update to\nthe release note and the addition of debug logging.\n\n[1] I0322d872bdff68936033a6f5a54e8296a6fb3434\n[2] I48bccc4b9adcac3c7a3e42769c11fdeb8f6fd132\n\nRelated-Bug: #1804502\nRelated-Bug: #1763766\n\nChange-Id: I8975e524cd5a9c7dfb065bb2dc8ceb03f1b89e7b\n'}]",18,698260,f6060ab6b54261ff50b8068732f6e509619d713e,35,13,2,11604,,,0,"FUP for in-place numa rebuild

This patch addresses a number of typos and minor
issues raised during review of [1][2]. A summary
of the changes are corrections to typos in comments,
a correction to the exception message, an update to
the release note and the addition of debug logging.

[1] I0322d872bdff68936033a6f5a54e8296a6fb3434
[2] I48bccc4b9adcac3c7a3e42769c11fdeb8f6fd132

Related-Bug: #1804502
Related-Bug: #1763766

Change-Id: I8975e524cd5a9c7dfb065bb2dc8ceb03f1b89e7b
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/698260/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/scheduler/filters/numa_topology_filter.py', 'releasenotes/notes/numa-rebuild-b75f9a1966f576ea.yaml', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/compute/api.py']",6,6d852104d5b437473c595ed0e2585ed012c5d154,bug/1763766," return # if only one of the constraints are non-None (or 'set') then the action = ""removing"" if old_constraints else ""introducing"" LOG.debug(""NUMA rebuild validation failed. The requested image"" ""would alter the NUMA constrains by %s a NUMA topology"", action, instance=instance) # otherwise since both the old a new constraints are non none compare LOG.debug(""NUMA rebuild validation failed. The requested image"" ""conflicts with the existing NUMA constrains"", instance=instance)", :returns: True or raises on failure. # return true for easy unit testing return True # if only one of the constrains are non-None (or 'set') then the # otherwise since both the old a new constrains are non none compare # return true for easy unit testing return True ,36,33
openstack%2Fnova~master~I9d077718613c0de64bb8b4c3c84bc8faed14912f,openstack/nova,master,I9d077718613c0de64bb8b4c3c84bc8faed14912f,Support inherit api samples in ApiSampleTestBase,ABANDONED,2018-04-19 10:50:54.000000000,2019-12-20 11:43:42.000000000,,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 19944}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-19 10:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16e763421ea48a83f2624b277f40f5f439644fca', 'message': ""Support inherit api samples in ApiSampleTestBase\n\nAvoid to add more redundant sample files, we propose to\nsupport inherit api samples in ApiSampleTestBase.\n\nThe latest api samples file will be chosen when the user enable\nthe _use_inherit_api_samples flag. For example, We have\n[2.62, 2.58, 2.51, 2.21] api, first, 2.62 will be chosen, but if\nthe 2.62 sample file doesn't exist, and then 2.58 will be chosen,\nand then 2.51, and so on.\n\nChange-Id: I9d077718613c0de64bb8b4c3c84bc8faed14912f\nCloses-bug: #to-be-added\n""}, {'number': 2, 'created': '2018-04-19 11:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12d1dd88ec7b3bba6d0e1b466b38fe1fcbdffd32', 'message': ""Support inherit api samples in ApiSampleTestBase\n\nAvoid to add more redundant sample files, we propose to\nsupport inherit api samples in ApiSampleTestBase.\n\nThe latest api samples file will be chosen when the user enable\nthe _use_inherit_api_samples flag. For example, We have\n[2.62, 2.58, 2.51, 2.21] api, first, 2.62 will be chosen, but if\nthe 2.62 sample file doesn't exist, and then 2.58 will be chosen,\nand then 2.51, and so on.\n\nChange-Id: I9d077718613c0de64bb8b4c3c84bc8faed14912f\nCloses-bug: #1765385\n""}, {'number': 3, 'created': '2018-04-20 01:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8055534a9f4306f42f992553a4ded49f5b912eff', 'message': ""Support inherit api samples in ApiSampleTestBase\n\nAvoid to add more redundant sample files, we propose to\nsupport inherit api samples in ApiSampleTestBase.\n\nThe latest api samples file will be chosen when the user enable\nthe _use_inherit_api_samples flag. For example, We have\n[2.62, 2.58, 2.51, 2.21] api, first, 2.62 will be chosen, but if\nthe 2.62 sample file doesn't exist, and then 2.58 will be chosen,\nand then 2.51, and so on.\n\nChange-Id: I9d077718613c0de64bb8b4c3c84bc8faed14912f\nCloses-bug: #1765385\n""}, {'number': 4, 'created': '2018-04-26 01:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b31b88205a4ad94395e790bd3dd4ab9cd89bd109', 'message': ""Support inherit api samples in ApiSampleTestBase\n\nAvoid to add more redundant sample files, we propose to\nsupport inherit api samples in ApiSampleTestBase.\n\nThe latest api samples file will be chosen when the user enable\nthe _use_inherit_api_samples flag. For example, We have\n[2.62, 2.58, 2.51, 2.21] api, first, 2.62 will be chosen, but if\nthe 2.62 sample file doesn't exist, and then 2.58 will be chosen,\nand then 2.51, and so on.\n\nChange-Id: I9d077718613c0de64bb8b4c3c84bc8faed14912f\nCloses-bug: #1765385\n""}, {'number': 5, 'created': '2018-04-26 13:38:08.000000000', 'files': ['doc/api_samples/os-instance-actions/v2.62/instance-actions-list-with-timestamp-filter.json', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.62/instance-actions-list-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.62/instance-actions-list-with-limit-resp.json.tpl', 'nova/tests/functional/api_sample_tests/test_instance_actions.py', 'nova/tests/functional/api_samples_test_base.py', 'doc/api_samples/os-instance-actions/v2.62/instance-actions-list-with-marker-resp.json', 'doc/api_samples/os-instance-actions/v2.62/instance-actions-list-with-limit-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.62/instance-actions-list-with-timestamp-filter.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.62/instance-actions-list-with-marker-resp.json.tpl', 'doc/api_samples/os-instance-actions/v2.62/instance-actions-list-resp.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/6e175342e19a5bcb9696482a799c74b764f62b25', 'message': ""Support inherit api samples in ApiSampleTestBase\n\nAvoid to add more redundant sample files, we propose to\nsupport inherit api samples in ApiSampleTestBase.\n\nThe latest api samples file will be chosen when the user enable\nthe _use_inherit_api_samples flag. For example, We have\n[2.62, 2.58, 2.51, 2.21] api, first, 2.62 will be chosen, but if\nthe 2.62 sample file doesn't exist, and then 2.58 will be chosen,\nand then 2.51, and so on.\n\nChange-Id: I9d077718613c0de64bb8b4c3c84bc8faed14912f\nCloses-bug: #1765385\n""}]",2,562547,6e175342e19a5bcb9696482a799c74b764f62b25,41,13,5,20722,,,0,"Support inherit api samples in ApiSampleTestBase

Avoid to add more redundant sample files, we propose to
support inherit api samples in ApiSampleTestBase.

The latest api samples file will be chosen when the user enable
the _use_inherit_api_samples flag. For example, We have
[2.62, 2.58, 2.51, 2.21] api, first, 2.62 will be chosen, but if
the 2.62 sample file doesn't exist, and then 2.58 will be chosen,
and then 2.51, and so on.

Change-Id: I9d077718613c0de64bb8b4c3c84bc8faed14912f
Closes-bug: #1765385
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/562547/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/api_samples/os-instance-actions/v2.62/instance-actions-list-with-timestamp-filter.json', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.62/instance-actions-list-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.62/instance-actions-list-with-limit-resp.json.tpl', 'nova/tests/functional/api_sample_tests/test_instance_actions.py', 'nova/tests/functional/api_samples_test_base.py', 'doc/api_samples/os-instance-actions/v2.62/instance-actions-list-with-marker-resp.json', 'doc/api_samples/os-instance-actions/v2.62/instance-actions-list-with-limit-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.62/instance-actions-list-with-timestamp-filter.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-instance-actions/v2.62/instance-actions-list-with-marker-resp.json.tpl', 'doc/api_samples/os-instance-actions/v2.62/instance-actions-list-resp.json']",10,16e763421ea48a83f2624b277f40f5f439644fca,bug/1765385,,"{ ""instanceActions"": [ { ""instance_uuid"": ""e357e6d8-952e-4d1d-b74f-c8519e937706"", ""user_id"": ""fake"", ""start_time"": ""2017-12-07T11:07:06.088644"", ""updated_at"": ""2017-12-07T11:07:06.431902"", ""request_id"": ""req-e80018f1-c5bd-45ee-aaa9-290f2f5ef7bc"", ""action"": ""stop"", ""message"": null, ""project_id"": ""6f70656e737461636b20342065766572"" }, { ""instance_uuid"": ""e357e6d8-952e-4d1d-b74f-c8519e937706"", ""user_id"": ""fake"", ""start_time"": ""2017-12-07T11:07:04.313653"", ""updated_at"": ""2017-12-07T11:07:06.058351"", ""request_id"": ""req-c8fd339d-d2bf-43c2-a98a-84328281f83e"", ""action"": ""create"", ""message"": null, ""project_id"": ""6f70656e737461636b20342065766572"" } ] } ",18,144
openstack%2Fkayobe~master~I2695034d36936fcc77a4828c67f9552155781dd6,openstack/kayobe,master,I2695034d36936fcc77a4828c67f9552155781dd6,Support custom Kolla group_vars,MERGED,2019-12-13 11:28:32.000000000,2019-12-20 11:39:10.000000000,2019-12-20 11:37:29.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-12-13 11:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/848ecd99a21c62dd9b92e4e5c1051ff54a85e8cb', 'message': 'Support custom Kolla group_vars\n\nIn Kayobe hosts which are part of a Nova cell can be managed via the existing\ncontroller and compute groups. However, since Nova Cells are configured via group\nvars in Kolla Ansible we need some way of setting these. We could pass vars\nthrough to Kolla Ansible host vars using\n`kolla_overcloud_inventory_pass_through_host_vars` but the list of variables\nwhich may be set on a per cell basis is large and undefined.\n\nThis change allows the user to directly specify Kolla Ansible group vars as\npart of Kayobe config, allowing the deployment of Nova Cells by Kayobe to be\nlargely unchanged from the procedure documented in Kolla Ansible.\n\nChange-Id: I2695034d36936fcc77a4828c67f9552155781dd6\nStory: 2004291\nTask: 37804\n'}, {'number': 2, 'created': '2019-12-13 14:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d94c3b6dcec163be876888e27290bc2135b6c9c2', 'message': 'Support custom Kolla group_vars\n\nIn Kayobe hosts which are part of a Nova cell can be managed via the existing\ncontroller and compute groups. However, since Nova Cells are configured via group\nvars in Kolla Ansible we need some way of setting these. We could pass vars\nthrough to Kolla Ansible host vars using\n`kolla_overcloud_inventory_pass_through_host_vars` but the list of variables\nwhich may be set on a per cell basis is large and undefined.\n\nThis change allows the user to directly specify Kolla Ansible group vars as\npart of Kayobe config, allowing the deployment of Nova Cells by Kayobe to be\nlargely unchanged from the procedure documented in Kolla Ansible.\n\nChange-Id: I2695034d36936fcc77a4828c67f9552155781dd6\nStory: 2004291\nTask: 37804\n'}, {'number': 3, 'created': '2019-12-13 15:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/56b355c337be7f1913283f1e62a7e90fbc95d047', 'message': 'Support custom Kolla group_vars\n\nIn Kayobe hosts which are part of a Nova cell can be managed via the existing\ncontroller and compute groups. However, since Nova Cells are configured via group\nvars in Kolla Ansible we need some way of setting these. We could pass vars\nthrough to Kolla Ansible host vars using\n`kolla_overcloud_inventory_pass_through_host_vars` but the list of variables\nwhich may be set on a per cell basis is large and undefined.\n\nThis change allows the user to directly specify Kolla Ansible group vars as\npart of Kayobe config, allowing the deployment of Nova Cells by Kayobe to be\nlargely unchanged from the procedure documented in Kolla Ansible.\n\nChange-Id: I2695034d36936fcc77a4828c67f9552155781dd6\nStory: 2004291\nTask: 37804\n'}, {'number': 4, 'created': '2019-12-17 15:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/164c93e8988ce5d8c8fb0e07aac5e063f9b81e2d', 'message': 'Support custom Kolla group_vars\n\nIn Kayobe hosts which are part of a Nova cell can be managed via the existing\ncontroller and compute groups. However, since Nova Cells are configured via group\nvars in Kolla Ansible we need some way of setting these. We could pass vars\nthrough to Kolla Ansible host vars using\n`kolla_overcloud_inventory_pass_through_host_vars` but the list of variables\nwhich may be set on a per cell basis is large and undefined.\n\nThis change allows the user to directly specify Kolla Ansible group vars as\npart of Kayobe config, allowing the deployment of Nova Cells by Kayobe to be\nlargely unchanged from the procedure documented in Kolla Ansible.\n\nChange-Id: I2695034d36936fcc77a4828c67f9552155781dd6\nStory: 2004291\nTask: 37804\n'}, {'number': 5, 'created': '2019-12-17 15:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1b85c53708605fea9c3e3a6562930ecb02011364', 'message': 'Support custom Kolla group_vars\n\nIn Kayobe hosts which are part of a Nova cell can be managed via the\nexisting controller and compute groups. However, since Nova Cells are\nconfigured via group vars in Kolla Ansible we need some way of\nsetting these. We could pass vars through to Kolla Ansible host vars\nusing `kolla_overcloud_inventory_pass_through_host_vars` but the list\nof variables which may be set on a per cell basis is large and\nundefined.\n\nThis change allows the user to directly specify Kolla Ansible group\nvars as part of Kayobe config, allowing the deployment of Nova Cells\nby Kayobe to be largely unchanged from the procedure documented in\nKolla Ansible.\n\nChange-Id: I2695034d36936fcc77a4828c67f9552155781dd6\nStory: 2004291\nTask: 37804\n'}, {'number': 6, 'created': '2019-12-17 17:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ac7e17f3b22b81f3f943c48b5b5e9a3e394b083b', 'message': 'Support custom Kolla group_vars\n\nIn Kayobe hosts which are part of a Nova cell can be managed via the\nexisting controller and compute groups. However, since Nova Cells are\nconfigured via group vars in Kolla Ansible we need some way of\nsetting these. We could pass vars through to Kolla Ansible host vars\nusing `kolla_overcloud_inventory_pass_through_host_vars` but the list\nof variables which may be set on a per cell basis is large and\nundefined.\n\nThis change allows the user to directly specify Kolla Ansible group\nvars as part of Kayobe config, allowing the deployment of Nova Cells\nby Kayobe to be largely unchanged from the procedure documented in\nKolla Ansible.\n\nChange-Id: I2695034d36936fcc77a4828c67f9552155781dd6\nStory: 2004291\nTask: 37804\n'}, {'number': 7, 'created': '2019-12-18 15:46:32.000000000', 'files': ['ansible/roles/kolla-ansible/tasks/config.yml', 'ansible/kolla-ansible.yml', 'doc/source/configuration/kolla-ansible.rst', 'ansible/roles/kolla-ansible/tests/test-defaults.yml', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'releasenotes/notes/add-support-for-custom-group-vars-3760547c3505487d.yaml', 'ansible/roles/kolla-ansible/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/72d4d64609030201ccdc753b98091552638b03e5', 'message': 'Support custom Kolla group_vars\n\nIn Kayobe hosts which are part of a Nova cell can be managed via the\nexisting controller and compute groups. However, since Nova Cells are\nconfigured via group vars in Kolla Ansible we need some way of setting\nthese. We could pass vars through to Kolla Ansible host vars using\n`kolla_overcloud_inventory_pass_through_host_vars` but the list of\nvariables which may be set on a per cell basis is large and undefined.\n\nThis change allows the user to directly specify Kolla Ansible group vars\nas part of Kayobe config, allowing the deployment of Nova Cells by\nKayobe to be largely unchanged from the procedure documented in Kolla\nAnsible.\n\nChange-Id: I2695034d36936fcc77a4828c67f9552155781dd6\nStory: 2004291\nTask: 37804\n'}]",18,698882,72d4d64609030201ccdc753b98091552638b03e5,44,5,7,17669,,,0,"Support custom Kolla group_vars

In Kayobe hosts which are part of a Nova cell can be managed via the
existing controller and compute groups. However, since Nova Cells are
configured via group vars in Kolla Ansible we need some way of setting
these. We could pass vars through to Kolla Ansible host vars using
`kolla_overcloud_inventory_pass_through_host_vars` but the list of
variables which may be set on a per cell basis is large and undefined.

This change allows the user to directly specify Kolla Ansible group vars
as part of Kayobe config, allowing the deployment of Nova Cells by
Kayobe to be largely unchanged from the procedure documented in Kolla
Ansible.

Change-Id: I2695034d36936fcc77a4828c67f9552155781dd6
Story: 2004291
Task: 37804
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/82/698882/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/kayobe.rst', 'ansible/roles/kolla-ansible/tasks/config.yml', 'releasenotes/notes/add-support-for-custom-group-vars-3760547c3505487d.yaml']",3,848ecd99a21c62dd9b92e4e5c1051ff54a85e8cb,story/2004291,--- features: - | Adds support for passing through group vars to Kolla Ansible. ,,33,4
openstack%2Foslo.config~master~Ibc44a880ffddfaeffca682ccf3b34525f3f0fe27,openstack/oslo.config,master,Ibc44a880ffddfaeffca682ccf3b34525f3f0fe27,Support hyphens in positional argument names,MERGED,2017-03-30 20:19:22.000000000,2019-12-20 11:38:26.000000000,2019-12-20 11:36:47.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2017-03-30 20:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/622abe0e25c77148704494502ef7f839513d8463', 'message': ""Support hyphens in positional argument names\n\nCurrently, when you specify a positional argument with a hyphen in the\nname, oslo.config is not able to retrieve a value back for that\nargument, even if one is parsed by argparse, because there's a mismatch\nbetween where oslo.config expects to find the value (in the dest, with\nunderscores, which positional arguments do not have), versus where\nargparse puts it in the namespace (using the name, with hyphens).\n\nChange-Id: Ibc44a880ffddfaeffca682ccf3b34525f3f0fe27\n""}, {'number': 2, 'created': '2018-10-08 10:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/5c078c1bb65d54c2546df918fb5f2f3541dddcff', 'message': ""Support hyphens in positional argument names\n\nCurrently, when you specify a positional argument with a hyphen in the\nname, oslo.config is not able to retrieve a value back for that\nargument, even if one is parsed by argparse, because there's a mismatch\nbetween where oslo.config expects to find the value (in the dest, with\nunderscores, which positional arguments do not have), versus where\nargparse puts it in the namespace (using the name, with hyphens).\n\nChange-Id: Ibc44a880ffddfaeffca682ccf3b34525f3f0fe27\n""}, {'number': 3, 'created': '2019-12-18 13:27:32.000000000', 'files': ['oslo_config/tests/test_cfg.py', 'oslo_config/cfg.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/a84b5d73f18780e96f6e942e69f74321c8fb5f1f', 'message': ""Support hyphens in positional argument names\n\nCurrently, when you specify a positional argument with a hyphen in the\nname, oslo.config is not able to retrieve a value back for that\nargument, even if one is parsed by argparse, because there's a mismatch\nbetween where oslo.config expects to find the value (in the dest, with\nunderscores, which positional arguments do not have), versus where\nargparse puts it in the namespace (using the name, with hyphens).\n\nChange-Id: Ibc44a880ffddfaeffca682ccf3b34525f3f0fe27\n""}]",0,451967,a84b5d73f18780e96f6e942e69f74321c8fb5f1f,15,5,3,4,,,0,"Support hyphens in positional argument names

Currently, when you specify a positional argument with a hyphen in the
name, oslo.config is not able to retrieve a value back for that
argument, even if one is parsed by argparse, because there's a mismatch
between where oslo.config expects to find the value (in the dest, with
underscores, which positional arguments do not have), versus where
argparse puts it in the namespace (using the name, with hyphens).

Change-Id: Ibc44a880ffddfaeffca682ccf3b34525f3f0fe27
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/67/451967/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_config/tests/test_cfg.py', 'oslo_config/cfg.py']",2,622abe0e25c77148704494502ef7f839513d8463,bug/1676989," # Because we must omit the dest parameter when using a positional # argument, the name supplied for the positional argument must not # include hyphens. if positional: prefix = prefix.replace('-', '_') name = name.replace('-', '_') ",,15,16
openstack%2Fkeystone-specs~master~Ia944fea77dcc9ce61a24b1e7b9757b8040927948,openstack/keystone-specs,master,Ia944fea77dcc9ce61a24b1e7b9757b8040927948,API implementation to get policy rules,NEW,2017-05-09 12:11:29.000000000,2019-12-20 11:36:30.000000000,,"[{'_account_id': 3}, {'_account_id': 2218}, {'_account_id': 5046}, {'_account_id': 8205}, {'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 23185}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-05-09 12:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/a709aca44b44363826c75aafca40eaa53012f5b9', 'message': 'API implementation to get policy rules\n\nThis specification builds on the work proposed for,\nimplementing API to get/download policy rules using REST.\n\nbp api-implemetation-required-to-download-identity-policies\n\nChange-Id: Ia944fea77dcc9ce61a24b1e7b9757b8040927948\n'}, {'number': 2, 'created': '2017-05-09 12:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/11b474edc08ea5066ff46154ae630022646a9a26', 'message': 'API implementation to get policy rules\n\nThis specification builds on the work proposed for,\nimplementing API to get/download policy rules using REST.\n\nbp api-implemetation-required-to-download-identity-policies\n\nCo-Authored-By: Hemanth Kumar Nakkina <n.hemanth.kumar@ericsson.com>\n\nChange-Id: Ia944fea77dcc9ce61a24b1e7b9757b8040927948\n'}, {'number': 3, 'created': '2017-05-09 12:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/f4d6d3beedbcd46faa11e3a2855ac1eb89ee1df7', 'message': 'API implementation to get policy rules\n\nThis specification builds on the work proposed for,\nimplementing API to get/download policy rules using REST.\n\nbp api-implemetation-required-to-download-identity-policies\n\nCo-Authored-By: Hemanth Kumar Nakkina <n.hemanth.kumar@ericsson.com>\n\nChange-Id: Ia944fea77dcc9ce61a24b1e7b9757b8040927948\n'}, {'number': 4, 'created': '2017-05-09 12:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/5c11868b45ed7f4f2a153c96efa60a4b5340e779', 'message': 'API implementation to get policy rules\n\nThis specification builds on the work proposed for,\nimplementing API to get/download policy rules using REST.\n\nbp api-implemetation-required-to-download-identity-policies\n\nCo-Authored-By: Hemanth Kumar Nakkina <n.hemanth.kumar@ericsson.com>\n\nChange-Id: Ia944fea77dcc9ce61a24b1e7b9757b8040927948\n'}, {'number': 5, 'created': '2017-05-15 03:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/d859e3847c21db6496036e8e7806063455c6b95f', 'message': 'API implementation to get policy rules\n\nThis specification builds on the work proposed for,\nimplementing API to get/download policy rules using REST.\n\nbp api-implemetation-required-to-download-identity-policies\n\nCo-Authored-By: Hemanth Nakkina <mail2hemanth.n@gmail.com>\n\nChange-Id: Ia944fea77dcc9ce61a24b1e7b9757b8040927948\n'}, {'number': 6, 'created': '2017-05-15 03:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/5955aa4a96b049a575679258278587b2b25f3537', 'message': 'API implementation to get policy rules\n\nThis specification builds on the work proposed for,\nimplementing API to get/download policy rules using REST.\n\nbp api-implemetation-required-to-download-identity-policies\n\nCo-Authored-By: Hemanth Nakkina <mail2hemanth.n@gmail.com>\n\nChange-Id: Ia944fea77dcc9ce61a24b1e7b9757b8040927948\n'}, {'number': 7, 'created': '2017-05-15 04:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/be37c01e65129b97975a552f9767be5944412728', 'message': 'API implementation to get policy rules\n\nThis specification builds on the work proposed for,\nimplementing API to get/download policy rules using REST.\n\nbp api-implemetation-required-to-download-identity-policies\n\nCo-Authored-By: Hemanth Nakkina <mail2hemanth.n@gmail.com>\n\nChange-Id: Ia944fea77dcc9ce61a24b1e7b9757b8040927948\n'}, {'number': 8, 'created': '2017-05-15 05:06:49.000000000', 'files': ['specs/keystone/pike/api-implemetation-required-to-download-identity-policies.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/eb1c780aee3ea304bef317737543f4e78d5b0c23', 'message': 'API implementation to get policy rules\n\nThis specification builds on the work proposed for,\nimplementing API to get/download policy rules using REST.\n\nbp api-implemetation-required-to-download-identity-policies\n\nCo-Authored-By: Hemanth Nakkina <mail2hemanth.n@gmail.com>\n\nChange-Id: Ia944fea77dcc9ce61a24b1e7b9757b8040927948\n'}]",6,463547,eb1c780aee3ea304bef317737543f4e78d5b0c23,29,8,8,8205,,,0,"API implementation to get policy rules

This specification builds on the work proposed for,
implementing API to get/download policy rules using REST.

bp api-implemetation-required-to-download-identity-policies

Co-Authored-By: Hemanth Nakkina <mail2hemanth.n@gmail.com>

Change-Id: Ia944fea77dcc9ce61a24b1e7b9757b8040927948
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/47/463547/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/keystone/pike/api-implemetation-required-to-download-identity-policies.rst'],1,a709aca44b44363826c75aafca40eaa53012f5b9,bp/api-implemetation-required-to-download-identity-policies,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============== Implement an API to Download Policy Rules =============== `bp api-implemetation-required-to-download-identity-policies` https://blueprints.launchpad.net/keystone/+spec/api-implemetation-required-to-download-identity-policies API implemetation is required to download identity policies Problem Description =================== In OpenStack Policy is taken care of in either two ways - a. with policy.json file b. with oslo.policy Also projects have started migrating policy to oslo.policy. In case, when one requires to run identity RBAC tests (Patrole Identity tests ) remotely, for the time being it is not possible. For this one have to copy respective policy.json manually, to the machine from where tests are being run. Also in case when policy is being handled within the code (oslo.policy case), There is no suitable way to load policies on the machine from where tests are being run. Also without policy files and/or remote loading of oslo.policy Patrole tests (RBAC tests) can't be run from remote machine. Proposed Change =============== An API can be implemented in keystone for downloading the policy on remote machine. And it should be restricted to admin only. For example - CURL command - curl -s -H ""X-Auth-Token: $OS_TOKEN"" http://my-controller/identity_admin/v3/policy OUTPUT - {""identity:list_endpoints"": ""rule:admin_required"", ""identity:update_endpoint"": ""rule:admin_required"", ""admin_or_token_subject"": ""rule:admin_required or rule:token_subject"", ""token_subject"": ""user_id:%(target.token.user_id)s"", ""identity:create_service"": ""rule:admin_required"", ""identity:get_region"": """", ""identity:create_endpoint"": ""rule:admin_required"", ""admin_or_owner"": ""rule:admin_required or rule:owner"", ""owner"": ""user_id:%(user_id)s"", ""identity:update_region"": ""rule:admin_required"", ""identity:get_endpoint"": ""rule:admin_required"", ""admin_required"": ""role:admin or is_admin:1"", ""identity:list_regions"": """", ""identity:update_service"": ""rule:admin_required"", ""service_admin_or_token_subject"": ""rule:service_or_admin or rule:token_subject"", ""default"": ""rule:admin_required"", ""identity:delete_service"": ""rule:admin_required"", ""identity:create_region"": ""rule:admin_required"", ""identity:get_service"": ""rule:admin_required"", ""service_role"": ""role:service"", ""identity:list_services"": ""rule:admin_required"", ""service_or_admin"": ""rule:admin_required or rule:service_role"", ""identity:delete_region"": ""rule:admin_required"", ""identity:delete_endpoint"": ""rule:admin_required""} For this I have proposed this gerrit link - https://review.openstack.org/463543 Alternatives ------------ None Security Impact --------------- None Notifications Impact -------------------- None Other End User Impact --------------------- None Performance Impact ------------------ None Other Deployer Impact --------------------- None Developer Impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Mh Raies (mh.raies@ericsson.com) Hemanth Kumar Nakkina (n.hemanth.kumar@ericsson.com) Work Items ---------- https://review.openstack.org/463543 Dependencies ============ None Documentation Impact ==================== None References ========== None ",,111,0
openstack%2Fkolla-ansible~stable%2Fstein~I3395810f353c1a26eafcf0b97eb416d7083efde1,openstack/kolla-ansible,stable/stein,I3395810f353c1a26eafcf0b97eb416d7083efde1,Configure region_name in cloudkitty.conf,MERGED,2019-12-16 17:18:18.000000000,2019-12-20 11:31:22.000000000,2019-12-20 11:29:55.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 27420}]","[{'number': 1, 'created': '2019-12-16 17:18:18.000000000', 'files': ['ansible/roles/cloudkitty/templates/cloudkitty.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e6d509c1efec9995265dc9c4c7fe3327607e6346', 'message': 'Configure region_name in cloudkitty.conf\n\nChange-Id: I3395810f353c1a26eafcf0b97eb416d7083efde1\n(cherry picked from commit 11823e632d63d00cca9f7e8b9785d7f293fef33a)\n'}]",0,699250,e6d509c1efec9995265dc9c4c7fe3327607e6346,8,4,1,15197,,,0,"Configure region_name in cloudkitty.conf

Change-Id: I3395810f353c1a26eafcf0b97eb416d7083efde1
(cherry picked from commit 11823e632d63d00cca9f7e8b9785d7f293fef33a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/50/699250/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cloudkitty/templates/cloudkitty.conf.j2'],1,e6d509c1efec9995265dc9c4c7fe3327607e6346,cloudkitty-region-fixes-stable/stein,region_name = {{ openstack_region_name }},,1,0
openstack%2Fironic~master~Ieafa777660fae48c4ea160f206b8c855e8209aae,openstack/ironic,master,Ieafa777660fae48c4ea160f206b8c855e8209aae,Changed to bug fix to follow-on idrac job patch.,MERGED,2019-12-09 10:48:26.000000000,2019-12-20 11:27:55.000000000,2019-12-18 17:17:59.000000000,"[{'_account_id': 8580}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 10379}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-12-09 10:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e00a16406cf9ca9c8b57b1bcf63c13b69a14d8d9', 'message': 'Change to bug fix instead of features to follow-on idrac job patch.\n\nChange-Id: Ieafa777660fae48c4ea160f206b8c855e8209aae\n'}, {'number': 2, 'created': '2019-12-09 10:54:09.000000000', 'files': ['releasenotes/notes/idrac-drives-conversion-jbod-to-raid-1a229627708e10b9.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3e6cf84231d27ab65d98de297449dbafe634131d', 'message': 'Changed to bug fix to follow-on idrac job patch.\n\nChange-Id: Ieafa777660fae48c4ea160f206b8c855e8209aae\n'}]",0,697972,3e6cf84231d27ab65d98de297449dbafe634131d,14,9,2,29405,,,0,"Changed to bug fix to follow-on idrac job patch.

Change-Id: Ieafa777660fae48c4ea160f206b8c855e8209aae
",git fetch https://review.opendev.org/openstack/ironic refs/changes/72/697972/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/idrac-drives-conversion-jbod-to-raid-1a229627708e10b9.yaml'],1,e00a16406cf9ca9c8b57b1bcf63c13b69a14d8d9,drives_conversion_as_bug_fix,"fixes: When using the PERC H730P RAID controller, physical disks must be put into RAID mode prior to creating a virtual disk that includes them. If one or more physical disks are in JBOD/Non-RAID mode when creating a virtual disk from them, then the iDRAC will return an error. This patch ensures that the physical disks being included in a virtual disk are converted to RAID mode prior to creating the virtual disk.",features: Hardware type ``idrac`` converts physical drives from ``JBOD`` to ``RAID`` mode before building RAID on them.,9,3
openstack%2Fnova~master~I66b18abebef41d1eb8e13da14dcc5c52dcc568c6,openstack/nova,master,I66b18abebef41d1eb8e13da14dcc5c52dcc568c6,query instance after save to avoid partial update,ABANDONED,2017-07-24 10:48:35.000000000,2019-12-20 11:07:46.000000000,,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-24 10:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38e50d7627c22b52cdedd17a176772d1bfccd6af', 'message': 'query instance after save to avoid partial update\n\nThe instance_update_and_get_original() db call returns the original\nand the updated instance however returned updated instance does not\ncontain those updates that happens due to onupdate triggers on columns\nlike update_at. This means that the change of the update_at field on\nthe instance is not reflected after the instance.save() even if the db\ncontains the updated value. This leads to confusion in case of\ninstance.update notification payloads.\n\nThis patch adds an extra get_by_uuid call to instance.save() to get\nthe fully updated instance data back from the db before updating\nthe Instanve ovo during the save.\n\nNote that this means that every instance.save() will emit one extra\ndb query to read back the instance from the db which will increase\nthe db load after this patch. Which might not what we want as a fix.\n\nChange-Id: I66b18abebef41d1eb8e13da14dcc5c52dcc568c6\nCloses-Bug: #1704928\n'}, {'number': 2, 'created': '2017-07-26 12:40:46.000000000', 'files': ['doc/notification_samples/instance-create-start.json', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/objects/instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f1d3022f9704439bc1d49612d260377f17a26ec1', 'message': 'query instance after save to avoid partial update\n\nThe instance_update_and_get_original() db call returns the original\nand the updated instance however returned updated instance does not\ncontain those updates that happens due to onupdate triggers on columns\nlike update_at. This means that the change of the update_at field on\nthe instance is not reflected after the instance.save() even if the db\ncontains the updated value. This leads to confusion in case of\ninstance.update notification payloads.\n\nThis patch adds an extra get_by_uuid call to instance.save() to get\nthe fully updated instance data back from the db before updating\nthe Instanve ovo during the save.\n\nNote that this means that every instance.save() will emit one extra\ndb query to read back the instance from the db which will increase\nthe db load after this patch. Which might not what we want as a fix.\n\nChange-Id: I66b18abebef41d1eb8e13da14dcc5c52dcc568c6\nCloses-Bug: #1704928\n'}]",2,486561,f1d3022f9704439bc1d49612d260377f17a26ec1,27,12,2,9708,,,0,"query instance after save to avoid partial update

The instance_update_and_get_original() db call returns the original
and the updated instance however returned updated instance does not
contain those updates that happens due to onupdate triggers on columns
like update_at. This means that the change of the update_at field on
the instance is not reflected after the instance.save() even if the db
contains the updated value. This leads to confusion in case of
instance.update notification payloads.

This patch adds an extra get_by_uuid call to instance.save() to get
the fully updated instance data back from the db before updating
the Instanve ovo during the save.

Note that this means that every instance.save() will emit one extra
db query to read back the instance from the db which will increase
the db load after this patch. Which might not what we want as a fix.

Change-Id: I66b18abebef41d1eb8e13da14dcc5c52dcc568c6
Closes-Bug: #1704928
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/486561/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/notification_samples/instance-create-start.json', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/objects/instance.py']",3,38e50d7627c22b52cdedd17a176772d1bfccd6af,bug/1704928," # NOTE(gibi): the above call returns a partially updated instance that # does not contains updates of the Columns where onupdate function is # defined. So we query the instance again to have a fully updated view # on it. inst_ref = db.instance_get_by_uuid( context, self.uuid, columns_to_join=_expected_cols(expected_attrs))",,12,4
openstack%2Freleases~master~Ia557dfb64ad700b635bfc1b7b0c53d5efe366739,openstack/releases,master,Ia557dfb64ad700b635bfc1b7b0c53d5efe366739,Release Ussuri 1 for Glance,MERGED,2019-12-19 17:09:54.000000000,2019-12-20 11:06:02.000000000,2019-12-20 11:06:02.000000000,"[{'_account_id': 308}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-19 17:09:54.000000000', 'files': ['deliverables/ussuri/glance.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e27d20ac8be6aded3b149f0aa6261c702cf4688e', 'message': 'Release Ussuri 1 for Glance\n\nChange-Id: Ia557dfb64ad700b635bfc1b7b0c53d5efe366739\n'}]",0,700032,e27d20ac8be6aded3b149f0aa6261c702cf4688e,10,5,1,9303,,,0,"Release Ussuri 1 for Glance

Change-Id: Ia557dfb64ad700b635bfc1b7b0c53d5efe366739
",git fetch https://review.opendev.org/openstack/releases refs/changes/32/700032/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/glance.yaml'],1,e27d20ac8be6aded3b149f0aa6261c702cf4688e,glance/u-m1,releases: - version: 20.0.0.0b1 projects: - repo: openstack/glance hash: 0eacf2da183b641447e1fae703bca65facde91b5,,5,0
openstack%2Freleases~master~I2b38efbb6769bd5c700c051db72396930d42c741,openstack/releases,master,I2b38efbb6769bd5c700c051db72396930d42c741,Release cinder-tempest-plugin 0.3.1,MERGED,2019-12-18 18:34:23.000000000,2019-12-20 11:06:01.000000000,2019-12-20 11:06:01.000000000,"[{'_account_id': 308}, {'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 18:34:23.000000000', 'files': ['deliverables/ussuri/cinder-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bdaedd9e88f24e0c511a54f00484073d3ce6833b', 'message': 'Release cinder-tempest-plugin 0.3.1\n\nChange-Id: I2b38efbb6769bd5c700c051db72396930d42c741\n'}]",2,699774,bdaedd9e88f24e0c511a54f00484073d3ce6833b,11,5,1,5314,,,0,"Release cinder-tempest-plugin 0.3.1

Change-Id: I2b38efbb6769bd5c700c051db72396930d42c741
",git fetch https://review.opendev.org/openstack/releases refs/changes/74/699774/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/cinder-tempest-plugin.yaml'],1,bdaedd9e88f24e0c511a54f00484073d3ce6833b,cinderproject-dec-2019,releases: - version: 0.3.1 projects: - repo: openstack/cinder-tempest-plugin hash: 6f0b4fcd9d6d86f9aba81af94bc492aee228ea9d,,5,0
openstack%2Freleases~master~If8e94f9e39961c61d17110e8bffcd4057e07561a,openstack/releases,master,If8e94f9e39961c61d17110e8bffcd4057e07561a,Release glance-store for Ussuri milestone 1,MERGED,2019-12-11 15:14:05.000000000,2019-12-20 11:01:50.000000000,2019-12-20 11:01:50.000000000,"[{'_account_id': 308}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-11 15:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ff170548c3b1ff510beeb4967123cd69f6b5a05f', 'message': 'Release glance-store for Ussuri milestone 1\n\nThis picks up unreleased changes in glance-store.\nThe cycle-with-intermediary deliverables are good to release frequently\nwhenever there are functional changes to be released. Feel free to -1\nthis patch if there are additional changes that should be included in\nthis release or if it is not a good time to do it.\n\nChange-Id: If8e94f9e39961c61d17110e8bffcd4057e07561a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-12-19 09:50:56.000000000', 'files': ['deliverables/ussuri/glance-store.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3afa3828aa8ce338a2447432d228303e1af9801d', 'message': 'Release glance-store for Ussuri milestone 1\n\nThis picks up unreleased changes in glance-store.\nThe cycle-with-intermediary deliverables are good to release frequently\nwhenever there are functional changes to be released. Feel free to -1\nthis patch if there are additional changes that should be included in\nthis release or if it is not a good time to do it.\n\nChange-Id: If8e94f9e39961c61d17110e8bffcd4057e07561a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,698499,3afa3828aa8ce338a2447432d228303e1af9801d,11,5,2,11904,,,0,"Release glance-store for Ussuri milestone 1

This picks up unreleased changes in glance-store.
The cycle-with-intermediary deliverables are good to release frequently
whenever there are functional changes to be released. Feel free to -1
this patch if there are additional changes that should be included in
this release or if it is not a good time to do it.

Change-Id: If8e94f9e39961c61d17110e8bffcd4057e07561a
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/99/698499/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/glance-store.yaml'],1,ff170548c3b1ff510beeb4967123cd69f6b5a05f,glance-store,releases: - version: 1.1.0 projects: - repo: openstack/glance_store hash: 864f36f2095c8e51d1dea13dad83f9b87073f60b,,5,0
openstack%2Fmagnum~master~I4afaf159eaf2d2ff75bd3abec4137257e0daa8f2,openstack/magnum,master,I4afaf159eaf2d2ff75bd3abec4137257e0daa8f2,k8s_fedora: Bump up default kube_tag to v1.15.7,MERGED,2019-12-16 10:58:40.000000000,2019-12-20 10:55:43.000000000,2019-12-20 10:12:52.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-16 10:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/09e32bcfb60fc99a1202aa8af8761f5bd899798c', 'message': 'k8s_fedora: Bump up default kube_tag to v1.15.7\n\nAlso bump up cloud_provider_tag to v1.15.0.\n\nThis is the common supported version in Fedora Atomic (now EOL) when\n`use_podman=true` label is not supplied.\n\nTask: 37817\nStory: 2005380\n\nI7ac0cffcdc8712503e2ea584b12d28ed3a7748b7\n\nChange-Id: I4afaf159eaf2d2ff75bd3abec4137257e0daa8f2\n'}, {'number': 2, 'created': '2019-12-16 11:42:54.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/9e3be39dd5909c9b8c3e2d454f4c1269319ed583', 'message': 'k8s_fedora: Bump up default kube_tag to v1.15.7\n\nAlso bump up cloud_provider_tag to v1.15.0.\n\nThis is the common supported version in Fedora Atomic (now EOL) when\n`use_podman=true` label is not supplied.\n\nTask: 37817\nStory: 2005380\n\nChange-Id: I4afaf159eaf2d2ff75bd3abec4137257e0daa8f2\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}]",0,699182,9e3be39dd5909c9b8c3e2d454f4c1269319ed583,10,3,2,28022,,,0,"k8s_fedora: Bump up default kube_tag to v1.15.7

Also bump up cloud_provider_tag to v1.15.0.

This is the common supported version in Fedora Atomic (now EOL) when
`use_podman=true` label is not supplied.

Task: 37817
Story: 2005380

Change-Id: I4afaf159eaf2d2ff75bd3abec4137257e0daa8f2
Signed-off-by: Bharat Kunwar <brtknr@bath.edu>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/82/699182/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml']",3,09e32bcfb60fc99a1202aa8af8761f5bd899798c,bump_kube_tag, default: v1.15.7 default: v1.15.7 default: v1.15.7 default: v1.15.0 default: v1.15.7, default: v1.14.3 default: v1.14.3 default: v1.14.3 default: v1.14.0 default: v1.14.3,11,10
openstack%2Fcharm-gnocchi~master~I3a1f4a0fa61c739c8e6d6581670438944dfcbc7c,openstack/charm-gnocchi,master,I3a1f4a0fa61c739c8e6d6581670438944dfcbc7c,Fix blocked gnocchi unit due to remove/add ceph-mon relation,MERGED,2019-12-20 09:24:29.000000000,2019-12-20 10:45:16.000000000,2019-12-20 10:16:22.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 21107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-20 09:24:29.000000000', 'files': ['unit_tests/test_gnocchi_handlers.py', 'src/reactive/gnocchi_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/901e08ea003a6e6e5915fac53afe2dc9f244c8e3', 'message': 'Fix blocked gnocchi unit due to remove/add ceph-mon relation\n\nRemoving and adding back ceph-mon relation to gnocchi unit, the unit becomes\nblocked. Since the flag ceph.create_pool.req.sent is already set, its not\ntriggered during subsequent add of ceph-mon relation. This makes the relation\ninactive.\n\nThis patch resets the flag ceph.create_pool.req.sent based on the flags that\nwill be reset at ceph-client interface when relation is broken.\n\nChange-Id: I3a1f4a0fa61c739c8e6d6581670438944dfcbc7c\nCloses-Bug: #1856936\n'}]",0,700125,901e08ea003a6e6e5915fac53afe2dc9f244c8e3,8,4,1,10366,,,0,"Fix blocked gnocchi unit due to remove/add ceph-mon relation

Removing and adding back ceph-mon relation to gnocchi unit, the unit becomes
blocked. Since the flag ceph.create_pool.req.sent is already set, its not
triggered during subsequent add of ceph-mon relation. This makes the relation
inactive.

This patch resets the flag ceph.create_pool.req.sent based on the flags that
will be reset at ceph-client interface when relation is broken.

Change-Id: I3a1f4a0fa61c739c8e6d6581670438944dfcbc7c
Closes-Bug: #1856936
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/25/700125/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_gnocchi_handlers.py', 'src/reactive/gnocchi_handlers.py']",2,901e08ea003a6e6e5915fac53afe2dc9f244c8e3,bug/1856936, @reactive.when_not('storage-ceph.connected') @reactive.when_not('storage-ceph.pools.available') def reset_state_create_pool_req_sent(): reactive.remove_state('ceph.create_pool.req.sent'),,15,0
openstack%2Fnetworking-calico~master~I7615bb8184f394d0cdb9e098e55aaa3b60bffd03,openstack/networking-calico,master,I7615bb8184f394d0cdb9e098e55aaa3b60bffd03,"Set version 3.11.0.1 explicitly, as PBR cannot handle that",ABANDONED,2019-12-19 18:08:17.000000000,2019-12-20 10:39:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-12-19 18:08:17.000000000', 'files': ['networking_calico/__init__.py'], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/1bd9ec868617135646cc253f5e8a093f370486da', 'message': 'Set version 3.11.0.1 explicitly, as PBR cannot handle that\n\nFixes this crashlooping in the Neutron driver:\n\n2019-12-19 16:33:34.304 4368 CRITICAL neutron [-] Unhandled error: ValueError: invalid literal for int() with base 10: \'\'\n2019-12-19 16:33:34.304 4368 ERROR neutron Traceback (most recent call last):\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/bin/neutron-server"", line 10, in <module>\n2019-12-19 16:33:34.304 4368 ERROR neutron     sys.exit(main())\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/cmd/eventlet/server/__init__.py"", line 19, in main\n2019-12-19 16:33:34.304 4368 ERROR neutron     server.boot_server(wsgi_eventlet.eventlet_wsgi_server)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/server/__init__.py"", line 42, in boot_server\n2019-12-19 16:33:34.304 4368 ERROR neutron     server_func()\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/server/wsgi_eventlet.py"", line 24, in eventlet_wsgi_server\n2019-12-19 16:33:34.304 4368 ERROR neutron     neutron_api = service.serve_wsgi(service.NeutronApiService)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/service.py"", line 89, in serve_wsgi\n2019-12-19 16:33:34.304 4368 ERROR neutron     LOG.exception(\'Unrecoverable error: please check log \'\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/oslo_utils/excutils.py"", line 220, in __exit__\n2019-12-19 16:33:34.304 4368 ERROR neutron     self.force_reraise()\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/oslo_utils/excutils.py"", line 196, in force_reraise\n2019-12-19 16:33:34.304 4368 ERROR neutron     six.reraise(self.type_, self.value, self.tb)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/service.py"", line 86, in serve_wsgi\n2019-12-19 16:33:34.304 4368 ERROR neutron     service.start()\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/service.py"", line 62, in start\n2019-12-19 16:33:34.304 4368 ERROR neutron     self.wsgi_app = _run_wsgi(self.app_name)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/service.py"", line 289, in _run_wsgi\n2019-12-19 16:33:34.304 4368 ERROR neutron     app = config.load_paste_app(app_name)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/common/config.py"", line 122, in load_paste_app\n2019-12-19 16:33:34.304 4368 ERROR neutron     app = loader.load_app(app_name)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/oslo_service/wsgi.py"", line 353, in load_app\n2019-12-19 16:33:34.304 4368 ERROR neutron     return deploy.loadapp(""config:%s"" % self.config_path, name=name)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py"", line 247, in loadapp\n2019-12-19 16:33:34.304 4368 ERROR neutron     return loadobj(APP, uri, name=name, **kw)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py"", line 272, in loadobj\n2019-12-19 16:33:34.304 4368 ERROR neutron     return context.create()\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py"", line 710, in create\n2019-12-19 16:33:34.304 4368 ERROR neutron     return self.object_type.invoke(self)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py"", line 144, in invoke\n2019-12-19 16:33:34.304 4368 ERROR neutron     **context.local_conf)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/util.py"", line 55, in fix_call\n2019-12-19 16:33:34.304 4368 ERROR neutron     val = callable(*args, **kw)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/urlmap.py"", line 31, in urlmap_factory\n2019-12-19 16:33:34.304 4368 ERROR neutron     app = loader.get_app(app_name, global_conf=global_conf)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py"", line 350, in get_app\n2019-12-19 16:33:34.304 4368 ERROR neutron     name=name, global_conf=global_conf).create()\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py"", line 710, in create\n2019-12-19 16:33:34.304 4368 ERROR neutron     return self.object_type.invoke(self)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py"", line 144, in invoke\n2019-12-19 16:33:34.304 4368 ERROR neutron     **context.local_conf)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/util.py"", line 55, in fix_call\n2019-12-19 16:33:34.304 4368 ERROR neutron     val = callable(*args, **kw)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/auth.py"", line 47, in pipeline_factory\n2019-12-19 16:33:34.304 4368 ERROR neutron     app = loader.get_app(pipeline[-1])\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py"", line 350, in get_app\n2019-12-19 16:33:34.304 4368 ERROR neutron     name=name, global_conf=global_conf).create()\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py"", line 710, in create\n2019-12-19 16:33:34.304 4368 ERROR neutron     return self.object_type.invoke(self)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py"", line 146, in invoke\n2019-12-19 16:33:34.304 4368 ERROR neutron     return fix_call(context.object, context.global_conf, **context.local_conf)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/util.py"", line 55, in fix_call\n2019-12-19 16:33:34.304 4368 ERROR neutron     val = callable(*args, **kw)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/api/v2/router.py"", line 25, in _factory\n2019-12-19 16:33:34.304 4368 ERROR neutron     return pecan_app.v2_factory(global_config, **local_config)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/pecan_wsgi/app.py"", line 47, in v2_factory\n2019-12-19 16:33:34.304 4368 ERROR neutron     startup.initialize_all()\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/pecan_wsgi/startup.py"", line 39, in initialize_all\n2019-12-19 16:33:34.304 4368 ERROR neutron     manager.init()\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/manager.py"", line 296, in init\n2019-12-19 16:33:34.304 4368 ERROR neutron     NeutronManager.get_instance()\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/manager.py"", line 247, in get_instance\n2019-12-19 16:33:34.304 4368 ERROR neutron     cls._create_instance()\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py"", line 277, in inner\n2019-12-19 16:33:34.304 4368 ERROR neutron     return f(*args, **kwargs)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/manager.py"", line 233, in _create_instance\n2019-12-19 16:33:34.304 4368 ERROR neutron     cls._instance = cls()\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/manager.py"", line 132, in __init__\n2019-12-19 16:33:34.304 4368 ERROR neutron     plugin_provider)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/manager.py"", line 165, in _get_plugin_instance\n2019-12-19 16:33:34.304 4368 ERROR neutron     plugin_class = self.load_class_for_provider(namespace, plugin_provider)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/manager.py"", line 159, in load_class_for_provider\n2019-12-19 16:33:34.304 4368 ERROR neutron     plugin_provider)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron_lib/utils/runtime.py"", line 46, in load_class_by_alias_or_classname\n2019-12-19 16:33:34.304 4368 ERROR neutron     namespace, name, warn_on_missing_entrypoint=False)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/stevedore/driver.py"", line 61, in __init__\n2019-12-19 16:33:34.304 4368 ERROR neutron     warn_on_missing_entrypoint=warn_on_missing_entrypoint\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/stevedore/named.py"", line 81, in __init__\n2019-12-19 16:33:34.304 4368 ERROR neutron     verify_requirements)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/stevedore/extension.py"", line 203, in _load_plugins\n2019-12-19 16:33:34.304 4368 ERROR neutron     self._on_load_failure_callback(self, ep, err)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/stevedore/extension.py"", line 195, in _load_plugins\n2019-12-19 16:33:34.304 4368 ERROR neutron     verify_requirements,\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/stevedore/named.py"", line 158, in _load_one_plugin\n2019-12-19 16:33:34.304 4368 ERROR neutron     verify_requirements,\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/stevedore/extension.py"", line 223, in _load_one_plugin\n2019-12-19 16:33:34.304 4368 ERROR neutron     plugin = ep.resolve()\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/pkg_resources/__init__.py"", line 2330, in resolve\n2019-12-19 16:33:34.304 4368 ERROR neutron     module = __import__(self.module_name, fromlist=[\'__name__\'], level=0)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/networking_calico/__init__.py"", line 19, in <module>\n2019-12-19 16:33:34.304 4368 ERROR neutron     \'networking-calico\').version_string()\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/pbr/version.py"", line 466, in version_string\n2019-12-19 16:33:34.304 4368 ERROR neutron     return self.semantic_version().brief_string()\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/pbr/version.py"", line 461, in semantic_version\n2019-12-19 16:33:34.304 4368 ERROR neutron     self._semantic = self._get_version_from_pkg_resources()\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/pbr/version.py"", line 449, in _get_version_from_pkg_resources\n2019-12-19 16:33:34.304 4368 ERROR neutron     return SemanticVersion.from_pip_string(result_string)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/pbr/version.py"", line 145, in from_pip_string\n2019-12-19 16:33:34.304 4368 ERROR neutron     return klass._from_pip_string_unsafe(version_string)\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/pbr/version.py"", line 209, in _from_pip_string_unsafe\n2019-12-19 16:33:34.304 4368 ERROR neutron     prerelease_type, prerelease = _parse_type(remainder[0])\n2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/pbr/version.py"", line 187, in _parse_type\n2019-12-19 16:33:34.304 4368 ERROR neutron     return prerelease_type, int(prerelease)\n2019-12-19 16:33:34.304 4368 ERROR neutron ValueError: invalid literal for int() with base 10: \'\'\n2019-12-19 16:33:34.304 4368 ERROR neutron\n\nChange-Id: I7615bb8184f394d0cdb9e098e55aaa3b60bffd03\n'}]",0,700046,1bd9ec868617135646cc253f5e8a093f370486da,3,1,1,13734,,,0,"Set version 3.11.0.1 explicitly, as PBR cannot handle that

Fixes this crashlooping in the Neutron driver:

2019-12-19 16:33:34.304 4368 CRITICAL neutron [-] Unhandled error: ValueError: invalid literal for int() with base 10: ''
2019-12-19 16:33:34.304 4368 ERROR neutron Traceback (most recent call last):
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/bin/neutron-server"", line 10, in <module>
2019-12-19 16:33:34.304 4368 ERROR neutron     sys.exit(main())
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/cmd/eventlet/server/__init__.py"", line 19, in main
2019-12-19 16:33:34.304 4368 ERROR neutron     server.boot_server(wsgi_eventlet.eventlet_wsgi_server)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/server/__init__.py"", line 42, in boot_server
2019-12-19 16:33:34.304 4368 ERROR neutron     server_func()
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/server/wsgi_eventlet.py"", line 24, in eventlet_wsgi_server
2019-12-19 16:33:34.304 4368 ERROR neutron     neutron_api = service.serve_wsgi(service.NeutronApiService)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/service.py"", line 89, in serve_wsgi
2019-12-19 16:33:34.304 4368 ERROR neutron     LOG.exception('Unrecoverable error: please check log '
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/oslo_utils/excutils.py"", line 220, in __exit__
2019-12-19 16:33:34.304 4368 ERROR neutron     self.force_reraise()
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/oslo_utils/excutils.py"", line 196, in force_reraise
2019-12-19 16:33:34.304 4368 ERROR neutron     six.reraise(self.type_, self.value, self.tb)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/service.py"", line 86, in serve_wsgi
2019-12-19 16:33:34.304 4368 ERROR neutron     service.start()
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/service.py"", line 62, in start
2019-12-19 16:33:34.304 4368 ERROR neutron     self.wsgi_app = _run_wsgi(self.app_name)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/service.py"", line 289, in _run_wsgi
2019-12-19 16:33:34.304 4368 ERROR neutron     app = config.load_paste_app(app_name)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/common/config.py"", line 122, in load_paste_app
2019-12-19 16:33:34.304 4368 ERROR neutron     app = loader.load_app(app_name)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/oslo_service/wsgi.py"", line 353, in load_app
2019-12-19 16:33:34.304 4368 ERROR neutron     return deploy.loadapp(""config:%s"" % self.config_path, name=name)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py"", line 247, in loadapp
2019-12-19 16:33:34.304 4368 ERROR neutron     return loadobj(APP, uri, name=name, **kw)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py"", line 272, in loadobj
2019-12-19 16:33:34.304 4368 ERROR neutron     return context.create()
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py"", line 710, in create
2019-12-19 16:33:34.304 4368 ERROR neutron     return self.object_type.invoke(self)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py"", line 144, in invoke
2019-12-19 16:33:34.304 4368 ERROR neutron     **context.local_conf)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/util.py"", line 55, in fix_call
2019-12-19 16:33:34.304 4368 ERROR neutron     val = callable(*args, **kw)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/urlmap.py"", line 31, in urlmap_factory
2019-12-19 16:33:34.304 4368 ERROR neutron     app = loader.get_app(app_name, global_conf=global_conf)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py"", line 350, in get_app
2019-12-19 16:33:34.304 4368 ERROR neutron     name=name, global_conf=global_conf).create()
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py"", line 710, in create
2019-12-19 16:33:34.304 4368 ERROR neutron     return self.object_type.invoke(self)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py"", line 144, in invoke
2019-12-19 16:33:34.304 4368 ERROR neutron     **context.local_conf)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/util.py"", line 55, in fix_call
2019-12-19 16:33:34.304 4368 ERROR neutron     val = callable(*args, **kw)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/auth.py"", line 47, in pipeline_factory
2019-12-19 16:33:34.304 4368 ERROR neutron     app = loader.get_app(pipeline[-1])
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py"", line 350, in get_app
2019-12-19 16:33:34.304 4368 ERROR neutron     name=name, global_conf=global_conf).create()
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py"", line 710, in create
2019-12-19 16:33:34.304 4368 ERROR neutron     return self.object_type.invoke(self)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py"", line 146, in invoke
2019-12-19 16:33:34.304 4368 ERROR neutron     return fix_call(context.object, context.global_conf, **context.local_conf)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/paste/deploy/util.py"", line 55, in fix_call
2019-12-19 16:33:34.304 4368 ERROR neutron     val = callable(*args, **kw)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/api/v2/router.py"", line 25, in _factory
2019-12-19 16:33:34.304 4368 ERROR neutron     return pecan_app.v2_factory(global_config, **local_config)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/pecan_wsgi/app.py"", line 47, in v2_factory
2019-12-19 16:33:34.304 4368 ERROR neutron     startup.initialize_all()
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/pecan_wsgi/startup.py"", line 39, in initialize_all
2019-12-19 16:33:34.304 4368 ERROR neutron     manager.init()
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/manager.py"", line 296, in init
2019-12-19 16:33:34.304 4368 ERROR neutron     NeutronManager.get_instance()
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/manager.py"", line 247, in get_instance
2019-12-19 16:33:34.304 4368 ERROR neutron     cls._create_instance()
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py"", line 277, in inner
2019-12-19 16:33:34.304 4368 ERROR neutron     return f(*args, **kwargs)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/manager.py"", line 233, in _create_instance
2019-12-19 16:33:34.304 4368 ERROR neutron     cls._instance = cls()
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/manager.py"", line 132, in __init__
2019-12-19 16:33:34.304 4368 ERROR neutron     plugin_provider)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/manager.py"", line 165, in _get_plugin_instance
2019-12-19 16:33:34.304 4368 ERROR neutron     plugin_class = self.load_class_for_provider(namespace, plugin_provider)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron/manager.py"", line 159, in load_class_for_provider
2019-12-19 16:33:34.304 4368 ERROR neutron     plugin_provider)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/neutron_lib/utils/runtime.py"", line 46, in load_class_by_alias_or_classname
2019-12-19 16:33:34.304 4368 ERROR neutron     namespace, name, warn_on_missing_entrypoint=False)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/stevedore/driver.py"", line 61, in __init__
2019-12-19 16:33:34.304 4368 ERROR neutron     warn_on_missing_entrypoint=warn_on_missing_entrypoint
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/stevedore/named.py"", line 81, in __init__
2019-12-19 16:33:34.304 4368 ERROR neutron     verify_requirements)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/stevedore/extension.py"", line 203, in _load_plugins
2019-12-19 16:33:34.304 4368 ERROR neutron     self._on_load_failure_callback(self, ep, err)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/stevedore/extension.py"", line 195, in _load_plugins
2019-12-19 16:33:34.304 4368 ERROR neutron     verify_requirements,
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/stevedore/named.py"", line 158, in _load_one_plugin
2019-12-19 16:33:34.304 4368 ERROR neutron     verify_requirements,
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/stevedore/extension.py"", line 223, in _load_one_plugin
2019-12-19 16:33:34.304 4368 ERROR neutron     plugin = ep.resolve()
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/pkg_resources/__init__.py"", line 2330, in resolve
2019-12-19 16:33:34.304 4368 ERROR neutron     module = __import__(self.module_name, fromlist=['__name__'], level=0)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/networking_calico/__init__.py"", line 19, in <module>
2019-12-19 16:33:34.304 4368 ERROR neutron     'networking-calico').version_string()
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/pbr/version.py"", line 466, in version_string
2019-12-19 16:33:34.304 4368 ERROR neutron     return self.semantic_version().brief_string()
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/pbr/version.py"", line 461, in semantic_version
2019-12-19 16:33:34.304 4368 ERROR neutron     self._semantic = self._get_version_from_pkg_resources()
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/pbr/version.py"", line 449, in _get_version_from_pkg_resources
2019-12-19 16:33:34.304 4368 ERROR neutron     return SemanticVersion.from_pip_string(result_string)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/pbr/version.py"", line 145, in from_pip_string
2019-12-19 16:33:34.304 4368 ERROR neutron     return klass._from_pip_string_unsafe(version_string)
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/pbr/version.py"", line 209, in _from_pip_string_unsafe
2019-12-19 16:33:34.304 4368 ERROR neutron     prerelease_type, prerelease = _parse_type(remainder[0])
2019-12-19 16:33:34.304 4368 ERROR neutron   File ""/usr/lib/python2.7/dist-packages/pbr/version.py"", line 187, in _parse_type
2019-12-19 16:33:34.304 4368 ERROR neutron     return prerelease_type, int(prerelease)
2019-12-19 16:33:34.304 4368 ERROR neutron ValueError: invalid literal for int() with base 10: ''
2019-12-19 16:33:34.304 4368 ERROR neutron

Change-Id: I7615bb8184f394d0cdb9e098e55aaa3b60bffd03
",git fetch https://review.opendev.org/openstack/networking-calico refs/changes/46/700046/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_calico/__init__.py'],1,1bd9ec868617135646cc253f5e8a093f370486da,v31101,__version__ = '3.11.0.1',import pbr.version __version__ = pbr.version.VersionInfo( 'networking-calico').version_string(),1,5
openstack%2Fcloudkitty~master~Ic3a57b513d3646b6931edc6163c2702805d29d57,openstack/cloudkitty,master,Ic3a57b513d3646b6931edc6163c2702805d29d57,tox: Keeping going with docs,MERGED,2019-10-24 12:46:08.000000000,2019-12-20 10:36:07.000000000,2019-12-20 10:34:31.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23060}]","[{'number': 1, 'created': '2019-10-24 12:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/5062c40d0b416a826172647bb883847fd85a4d77', 'message': 'tox: Keeping going with docs\n\nChange-Id: Ic3a57b513d3646b6931edc6163c2702805d29d57\n'}, {'number': 2, 'created': '2019-10-24 13:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/edfc4f2a59259d858e55049928fdde0b5a133f31', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ic3a57b513d3646b6931edc6163c2702805d29d57\n""}, {'number': 3, 'created': '2019-10-24 13:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/3ad86a7ada69487d679477a97f8d4e8ff91c34c1', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ic3a57b513d3646b6931edc6163c2702805d29d57\n""}, {'number': 4, 'created': '2019-11-14 02:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/f6293f98598de7bba31eef752bc4c12177546f34', 'message': 'tox: Keeping going with docs\n\n1. Sphinx 1.8 introduced [1] the \'--keep-going\' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n2. Clean ""python setup.py build_sphinx"" up and use ""sphinx-build"" consistently\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ic3a57b513d3646b6931edc6163c2702805d29d57\n'}, {'number': 5, 'created': '2019-11-14 02:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/76f790da84594eb3d95ba9ad8a2dd13a4e489a28', 'message': 'tox: Keeping going with docs\n\n1. Sphinx 1.8 introduced [1] the \'--keep-going\' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n2. Clean ""python setup.py build_sphinx"" up and use ""sphinx-build"" consistently\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ic3a57b513d3646b6931edc6163c2702805d29d57\n'}, {'number': 6, 'created': '2019-11-14 02:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/d2c1786d21545078f8df58ad01882c5312fd763b', 'message': 'tox: Keeping going with docs\n\n1. Sphinx 1.8 introduced [1] the \'--keep-going\' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n2. Clean ""python setup.py build_sphinx"" up and use ""sphinx-build""\nconsistently[2]\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n[2] https://governance.openstack.org/tc/reference/project-testing-interface.html#documentation\n\nChange-Id: Ic3a57b513d3646b6931edc6163c2702805d29d57\n'}, {'number': 7, 'created': '2019-11-19 09:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/1e404cbbd3ec31b6e9bda636b788db270f5545ba', 'message': 'tox: Keeping going with docs\n\n1. Sphinx 1.8 introduced [1] the \'--keep-going\' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n2. Clean ""python setup.py build_sphinx"" up and use ""sphinx-build""\nconsistently[2]\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n[2] https://governance.openstack.org/tc/reference/project-testing-interface.html#documentation\n\nChange-Id: Ic3a57b513d3646b6931edc6163c2702805d29d57\n'}, {'number': 8, 'created': '2019-11-20 05:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/576f2b53c6a892915af631eea8f914e998bc715e', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ic3a57b513d3646b6931edc6163c2702805d29d57\n""}, {'number': 9, 'created': '2019-12-19 07:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/e24b78e83b25a27789fbc4ece9c54f8641d4c7ab', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ic3a57b513d3646b6931edc6163c2702805d29d57\n""}, {'number': 10, 'created': '2019-12-19 07:21:08.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/05eb7b9a58315e2ab58d152edcfaa6b453c84540', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ic3a57b513d3646b6931edc6163c2702805d29d57\n""}]",0,690958,05eb7b9a58315e2ab58d152edcfaa6b453c84540,24,3,10,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: Ic3a57b513d3646b6931edc6163c2702805d29d57
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/58/690958/4 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,5062c40d0b416a826172647bb883847fd85a4d77,, sphinx-build --keep-going -b latex doc/source doc/build/pdfcommands = sphinx-build -a -E -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -b latex doc/source doc/build/pdfcommands = sphinx-build -a -E -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,4,4
openstack%2Foslo.config~master~Ifdc6918444fe72f7e1649483c237cce64b4c72d8,openstack/oslo.config,master,Ifdc6918444fe72f7e1649483c237cce64b4c72d8,Assume positional arguments are required,MERGED,2017-03-30 18:51:03.000000000,2019-12-20 10:34:09.000000000,2019-12-20 10:32:44.000000000,"[{'_account_id': 3}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2017-03-30 18:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/c372d900aee7d813a3b76ca43b1a16e577e49043', 'message': 'Assume positional arguments are required\n\nThe \'positional\' keyword specifically applies to oslo.config\'s argparse\nsupport. Unlike oslo.config, argparse assumes that all positional\narguments are required by default, and you have to explicitly tell it\nthat a positional argument is optional if you\'d like to opt into that\nbehavior.\n\nThis patch adopts that same behavior for oslo.config. When you define an\noption to be non-positional (oslo.config\'s default, designed for config\nfiles), then oslo.config makes that option optional:\n\nHowever, when you define an option to be positional, oslo.config assumes\nthat the option is primarily going to be used on the CLI and thus sets\nit as required, by default.\n\nThis change in behavior has the side effect of allowing argparse to\nenforce required arguments on the CLI *while* parsing arguments, instead\nof depending on oslo.config to detect the condition *after* argparse has\nbeen allowed to parse ""invalid"" arguments. argparse correctly raises a\nSystemExit in this case, and prints the actual command usage and a ""hey,\nyou forgot this required argument"", instead of allowing oslo.config to\ndump a backtrace to the CLI with a context-less error message\n(""context-less"" in that no useful CLI usage information is dumped along\nwith the crash to help you correct the condition).\n\nChange-Id: Ifdc6918444fe72f7e1649483c237cce64b4c72d8\nPartial-Bug: 1676989\n'}, {'number': 2, 'created': '2017-03-30 18:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/0defdfe53ae74912f102140469784635df090d06', 'message': 'Assume positional arguments are required\n\nThe \'positional\' keyword specifically applies to oslo.config\'s argparse\nsupport. Unlike oslo.config, argparse assumes that all positional\narguments are required by default, and you have to explicitly tell it\nthat a positional argument is optional if you\'d like to opt into that\nbehavior.\n\nThis patch adopts that same behavior for oslo.config. When you define an\noption to be non-positional (oslo.config\'s default, designed for config\nfiles), then oslo.config makes that option optional:\n\nHowever, when you define an option to be positional, oslo.config assumes\nthat the option is primarily going to be used on the CLI and thus sets\nit as required, by default.\n\nThis change in behavior has the side effect of allowing argparse to\nenforce required arguments on the CLI *while* parsing arguments, instead\nof depending on oslo.config to detect the condition *after* argparse has\nbeen allowed to parse ""invalid"" arguments. argparse correctly raises a\nSystemExit in this case, and prints the actual command usage and a ""hey,\nyou forgot this required argument"", instead of allowing oslo.config to\ndump a backtrace to the CLI with a context-less error message\n(""context-less"" in that no useful CLI usage information is dumped along\nwith the crash to help you correct the condition).\n\nChange-Id: Ifdc6918444fe72f7e1649483c237cce64b4c72d8\nPartial-Bug: 1676989\n'}, {'number': 3, 'created': '2017-03-30 18:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/9ec9f81ef24cef56d4c839a9281c15bde9a148d0', 'message': 'Assume positional arguments are required\n\nThe \'positional\' keyword specifically applies to oslo.config\'s argparse\nsupport. Unlike oslo.config, argparse assumes that all positional\narguments are required by default, and you have to explicitly tell it\nthat a positional argument is optional if you\'d like to opt into that\nbehavior.\n\nThis patch adopts that same behavior for oslo.config. When you define an\noption to be non-positional (oslo.config\'s default, designed for config\nfiles), then oslo.config makes that option optional:\n\nHowever, when you define an option to be positional, oslo.config assumes\nthat the option is primarily going to be used on the CLI and thus sets\nit as required, by default.\n\nThis change in behavior has the side effect of allowing argparse to\nenforce required arguments on the CLI *while* parsing arguments, instead\nof depending on oslo.config to detect the condition *after* argparse has\nbeen allowed to parse ""invalid"" arguments. argparse correctly raises a\nSystemExit in this case, and prints the actual command usage and a ""hey,\nyou forgot this required argument"", instead of allowing oslo.config to\ndump a backtrace to the CLI with a context-less error message\n(""context-less"" in that no useful CLI usage information is dumped along\nwith the crash to help you correct the condition).\n\nChange-Id: Ifdc6918444fe72f7e1649483c237cce64b4c72d8\nPartial-Bug: 1676989\n'}, {'number': 4, 'created': '2017-03-30 18:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/75a87544e81039fd303fc3410710490c8f7e7a57', 'message': 'Assume positional arguments are required\n\nThe \'positional\' keyword specifically applies to oslo.config\'s argparse\nsupport. Unlike oslo.config, argparse assumes that all positional\narguments are required by default, and you have to explicitly tell it\nthat a positional argument is optional if you\'d like to opt into that\nbehavior.\n\nThis patch adopts that same behavior for oslo.config. When you define an\noption to be non-positional (oslo.config\'s default, designed for config\nfiles), then oslo.config makes that option optional:\n\nHowever, when you define an option to be positional, oslo.config assumes\nthat the option is primarily going to be used on the CLI and thus sets\nit as required, by default.\n\nThis change in behavior has the side effect of allowing argparse to\nenforce required arguments on the CLI *while* parsing arguments, instead\nof depending on oslo.config to detect the condition *after* argparse has\nbeen allowed to parse ""invalid"" arguments. argparse correctly raises a\nSystemExit in this case, and prints the actual command usage and a ""hey,\nyou forgot this required argument"", instead of allowing oslo.config to\ndump a backtrace to the CLI with a context-less error message\n(""context-less"" in that no useful CLI usage information is dumped along\nwith the crash to help you correct the condition).\n\nChange-Id: Ifdc6918444fe72f7e1649483c237cce64b4c72d8\nPartial-Bug: 1676989\n'}, {'number': 5, 'created': '2017-03-30 18:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/75c5c973173c15284edd15d34a05c85c72d730dd', 'message': 'Assume positional arguments are required\n\nThe \'positional\' keyword specifically applies to oslo.config\'s argparse\nsupport. Unlike oslo.config, argparse assumes that all positional\narguments are required by default, and you have to explicitly tell it\nthat a positional argument is optional if you\'d like to opt into that\nbehavior.\n\nThis patch adopts that same behavior for oslo.config. When you define an\noption to be non-positional (oslo.config\'s default, designed for config\nfiles), then oslo.config makes that option optional:\n\nHowever, when you define an option to be positional, oslo.config assumes\nthat the option is primarily going to be used on the CLI and thus sets\nit as required, by default.\n\nThis change in behavior has the side effect of allowing argparse to\nenforce required arguments on the CLI *while* parsing arguments, instead\nof depending on oslo.config to detect the condition *after* argparse has\nbeen allowed to parse ""invalid"" arguments. argparse correctly raises a\nSystemExit in this case, and prints the actual command usage and a ""hey,\nyou forgot this required argument"", instead of allowing oslo.config to\ndump a backtrace to the CLI with a context-less error message\n(""context-less"" in that no useful CLI usage information is dumped along\nwith the crash to help you correct the condition).\n\nChange-Id: Ifdc6918444fe72f7e1649483c237cce64b4c72d8\nPartial-Bug: 1676989\n'}, {'number': 6, 'created': '2018-10-08 10:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/0279f4a0f7bcaae2141a5909385966c83da1f8a6', 'message': 'Assume positional arguments are required\n\nThe \'positional\' keyword specifically applies to oslo.config\'s argparse\nsupport. Unlike oslo.config, argparse assumes that all positional\narguments are required by default, and you have to explicitly tell it\nthat a positional argument is optional if you\'d like to opt into that\nbehavior.\n\nThis patch adopts that same behavior for oslo.config. When you define an\noption to be non-positional (oslo.config\'s default, designed for config\nfiles), then oslo.config makes that option optional:\n\nHowever, when you define an option to be positional, oslo.config assumes\nthat the option is primarily going to be used on the CLI and thus sets\nit as required, by default.\n\nThis change in behavior has the side effect of allowing argparse to\nenforce required arguments on the CLI *while* parsing arguments, instead\nof depending on oslo.config to detect the condition *after* argparse has\nbeen allowed to parse ""invalid"" arguments. argparse correctly raises a\nSystemExit in this case, and prints the actual command usage and a ""hey,\nyou forgot this required argument"", instead of allowing oslo.config to\ndump a backtrace to the CLI with a context-less error message\n(""context-less"" in that no useful CLI usage information is dumped along\nwith the crash to help you correct the condition).\n\nChange-Id: Ifdc6918444fe72f7e1649483c237cce64b4c72d8\nPartial-Bug: 1676989\n'}, {'number': 7, 'created': '2019-12-18 13:27:32.000000000', 'files': ['doc/source/reference/command-line.rst', 'releasenotes/notes/positional-arguments-are-required-22ddca72e6f523bf.yaml', 'oslo_config/tests/test_cfg.py', 'oslo_config/cfg.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/18d1617caa5a7380e2298b1e647ef110c9d574be', 'message': 'Assume positional arguments are required\n\nThe \'positional\' keyword specifically applies to oslo.config\'s argparse\nsupport. Unlike oslo.config, argparse assumes that all positional\narguments are required by default, and you have to explicitly tell it\nthat a positional argument is optional if you\'d like to opt into that\nbehavior.\n\nThis patch adopts that same behavior for oslo.config. When you define an\noption to be non-positional (oslo.config\'s default, designed for config\nfiles), then oslo.config makes that option optional:\n\nHowever, when you define an option to be positional, oslo.config assumes\nthat the option is primarily going to be used on the CLI and thus sets\nit as required, by default.\n\nThis change in behavior has the side effect of allowing argparse to\nenforce required arguments on the CLI *while* parsing arguments, instead\nof depending on oslo.config to detect the condition *after* argparse has\nbeen allowed to parse ""invalid"" arguments. argparse correctly raises a\nSystemExit in this case, and prints the actual command usage and a ""hey,\nyou forgot this required argument"", instead of allowing oslo.config to\ndump a backtrace to the CLI with a context-less error message\n(""context-less"" in that no useful CLI usage information is dumped along\nwith the crash to help you correct the condition).\n\nChange-Id: Ifdc6918444fe72f7e1649483c237cce64b4c72d8\nPartial-Bug: 1676989\n'}]",3,451947,18d1617caa5a7380e2298b1e647ef110c9d574be,21,4,7,4,,,0,"Assume positional arguments are required

The 'positional' keyword specifically applies to oslo.config's argparse
support. Unlike oslo.config, argparse assumes that all positional
arguments are required by default, and you have to explicitly tell it
that a positional argument is optional if you'd like to opt into that
behavior.

This patch adopts that same behavior for oslo.config. When you define an
option to be non-positional (oslo.config's default, designed for config
files), then oslo.config makes that option optional:

However, when you define an option to be positional, oslo.config assumes
that the option is primarily going to be used on the CLI and thus sets
it as required, by default.

This change in behavior has the side effect of allowing argparse to
enforce required arguments on the CLI *while* parsing arguments, instead
of depending on oslo.config to detect the condition *after* argparse has
been allowed to parse ""invalid"" arguments. argparse correctly raises a
SystemExit in this case, and prints the actual command usage and a ""hey,
you forgot this required argument"", instead of allowing oslo.config to
dump a backtrace to the CLI with a context-less error message
(""context-less"" in that no useful CLI usage information is dumped along
with the crash to help you correct the condition).

Change-Id: Ifdc6918444fe72f7e1649483c237cce64b4c72d8
Partial-Bug: 1676989
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/47/451947/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_config/tests/test_cfg.py', 'oslo_config/cfg.py', 'releasenotes/notes/positional-arguments-are-optional-22ddca72e6f523bf.yaml']",3,c372d900aee7d813a3b76ca43b1a16e577e49043,bug/1676989,"--- upgrade: - | Positional options are now required by default, to match argparse's default behavior. To revert this behavior (and maintain optional positional arguments), you need to explicitly specify ``positional=True, required=False`` as part of the options definition. fixes: - | On the command line, oslo.config now returns command usage information from argparse (instead of dumping a backtrace) when required arguments are missing. ",,30,7
openstack%2Foslo.config~master~I54ba989768d074a5f24897299c85bd35fa1cbd1a,openstack/oslo.config,master,I54ba989768d074a5f24897299c85bd35fa1cbd1a,Refactor unit tests for CLI usage,MERGED,2017-03-30 18:03:11.000000000,2019-12-20 10:31:22.000000000,2019-12-20 10:29:49.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2017-03-30 18:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/b66f71ea88dccb2ee9fd26b9872f5b66d41a444d', 'message': 'Refactor unit tests for CLI usage\n\nPrior to this change, CLI usage was hardcoded into the config opt\nfixture used for all tests. That CLI usage described two required\npositional arguments that were not actually part of the argument parser\n(FOO and BAR), but were instead just made up to have a valid-looking\nusage description.\n\nThe trouble is that you can\'t then extend that argument parser with\nadditional real arguments, and then test the configuration of those\narguments by inspecting the *real* usage and --help output from\nargparse. For example, a unit test could not assert whether argparse was\nconfigured correctly by oslo.config, because there\'s simply no way to\nknow when the usage was just statically set to the arbitrary values of\n""FOO BAR.""\n\nThis patch moves that specific unit test coverage (overriding usage with\nsomething arbitrary) into a dedicated unit test, while removing the\narbitrary usage from all other unit tests. Instead, those unit tests now\nmake assertions against the argparser\'s real configuration, hence\noptions like --config-dir and --config-file now appear in those tests,\nbecause those options are included in every instance of\ncfg.ConfigOpts().\n\nChange-Id: I54ba989768d074a5f24897299c85bd35fa1cbd1a\n'}, {'number': 2, 'created': '2017-03-30 18:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/0c845a1fcfeea52a0254ea8d3647374bbe8d9a0a', 'message': 'Refactor unit tests for CLI usage\n\nPrior to this change, CLI usage was hardcoded into the config opt\nfixture used for all tests. That CLI usage described two required\npositional arguments that were not actually part of the argument parser\n(FOO and BAR), but were instead just made up to have a valid-looking\nusage description.\n\nThe trouble is that you can\'t then extend that argument parser with\nadditional real arguments, and then test the configuration of those\narguments by inspecting the *real* usage and --help output from\nargparse. For example, a unit test could not assert whether argparse was\nconfigured correctly by oslo.config, because there\'s simply no way to\nknow when the usage was just statically set to the arbitrary values of\n""FOO BAR.""\n\nThis patch moves that specific unit test coverage (overriding usage with\nsomething arbitrary) into a dedicated unit test, while removing the\narbitrary usage from all other unit tests. Instead, those unit tests now\nmake assertions against the argparser\'s real configuration, hence\noptions like --config-dir and --config-file now appear in those tests,\nbecause those options are included in every instance of\ncfg.ConfigOpts().\n\nChange-Id: I54ba989768d074a5f24897299c85bd35fa1cbd1a\nRelated-Bug: 1676989\n'}, {'number': 3, 'created': '2018-10-08 10:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/1a4dbc8ace2e3c376bb2fca43b543634678021ac', 'message': 'Refactor unit tests for CLI usage\n\nPrior to this change, CLI usage was hardcoded into the config opt\nfixture used for all tests. That CLI usage described two required\npositional arguments that were not actually part of the argument parser\n(FOO and BAR), but were instead just made up to have a valid-looking\nusage description.\n\nThe trouble is that you can\'t then extend that argument parser with\nadditional real arguments, and then test the configuration of those\narguments by inspecting the *real* usage and --help output from\nargparse. For example, a unit test could not assert whether argparse was\nconfigured correctly by oslo.config, because there\'s simply no way to\nknow when the usage was just statically set to the arbitrary values of\n""FOO BAR.""\n\nThis patch moves that specific unit test coverage (overriding usage with\nsomething arbitrary) into a dedicated unit test, while removing the\narbitrary usage from all other unit tests. Instead, those unit tests now\nmake assertions against the argparser\'s real configuration, hence\noptions like --config-dir and --config-file now appear in those tests,\nbecause those options are included in every instance of\ncfg.ConfigOpts().\n\nChange-Id: I54ba989768d074a5f24897299c85bd35fa1cbd1a\nRelated-Bug: 1676989\n'}, {'number': 4, 'created': '2019-12-18 13:27:32.000000000', 'files': ['oslo_config/tests/test_cfg.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/ec84eeda526adc20dcabdf6e704958cc06773dd3', 'message': 'Refactor unit tests for CLI usage\n\nPrior to this change, CLI usage was hardcoded into the config opt\nfixture used for all tests. That CLI usage described two required\npositional arguments that were not actually part of the argument parser\n(FOO and BAR), but were instead just made up to have a valid-looking\nusage description.\n\nThe trouble is that you can\'t then extend that argument parser with\nadditional real arguments, and then test the configuration of those\narguments by inspecting the *real* usage and --help output from\nargparse. For example, a unit test could not assert whether argparse was\nconfigured correctly by oslo.config, because there\'s simply no way to\nknow when the usage was just statically set to the arbitrary values of\n""FOO BAR.""\n\nThis patch moves that specific unit test coverage (overriding usage with\nsomething arbitrary) into a dedicated unit test, while removing the\narbitrary usage from all other unit tests. Instead, those unit tests now\nmake assertions against the argparser\'s real configuration, hence\noptions like --config-dir and --config-file now appear in those tests,\nbecause those options are included in every instance of\ncfg.ConfigOpts().\n\nChange-Id: I54ba989768d074a5f24897299c85bd35fa1cbd1a\nRelated-Bug: 1676989\n'}]",0,451933,ec84eeda526adc20dcabdf6e704958cc06773dd3,17,5,4,4,,,0,"Refactor unit tests for CLI usage

Prior to this change, CLI usage was hardcoded into the config opt
fixture used for all tests. That CLI usage described two required
positional arguments that were not actually part of the argument parser
(FOO and BAR), but were instead just made up to have a valid-looking
usage description.

The trouble is that you can't then extend that argument parser with
additional real arguments, and then test the configuration of those
arguments by inspecting the *real* usage and --help output from
argparse. For example, a unit test could not assert whether argparse was
configured correctly by oslo.config, because there's simply no way to
know when the usage was just statically set to the arbitrary values of
""FOO BAR.""

This patch moves that specific unit test coverage (overriding usage with
something arbitrary) into a dedicated unit test, while removing the
arbitrary usage from all other unit tests. Instead, those unit tests now
make assertions against the argparser's real configuration, hence
options like --config-dir and --config-file now appear in those tests,
because those options are included in every instance of
cfg.ConfigOpts().

Change-Id: I54ba989768d074a5f24897299c85bd35fa1cbd1a
Related-Bug: 1676989
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/33/451933/4 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/tests/test_cfg.py'],1,b66f71ea88dccb2ee9fd26b9872f5b66d41a444d,bug/1676989," default_config_dirs=[], usage=None): usage=usage, self.assertIn( 'usage: test [-h] [--config-dir DIR] [--config-file PATH] ' '[--version]', f.getvalue()) self.assertNotIn('somedesc', f.getvalue()) self.assertNotIn('tepilog', f.getvalue()) self.assertNotIn('optional:', f.getvalue()) def test_print_custom_usage(self): conf = self.TestConfigOpts() self.tempdirs = [] f = moves.StringIO() conf([], usage='%(prog)s FOO BAR') conf.print_usage(file=f) self.assertIn( 'usage: test [-h] [--config-dir DIR] [--config-file PATH] ' '[--version]', f.getvalue()) self.assertIn( 'usage: test [-h] [--config-dir DIR] [--config-file PATH] ' '[--version]', f.getvalue()) self.assertIn('usage: test', sys.stdout.getvalue()) self.assertIn('[--version]', sys.stdout.getvalue()) self.assertIn('[-h]', sys.stdout.getvalue()) self.assertIn('[--config-dir DIR]', sys.stdout.getvalue()) self.assertIn('[--config-file PATH]', sys.stdout.getvalue())"," default_config_dirs=[]): usage='%(prog)s FOO BAR', self.assertIn('usage: test FOO BAR', f.getvalue()) self.assertIn('usage: test FOO BAR', f.getvalue()) self.assertIn('FOO BAR', sys.stdout.getvalue()) self.assertIn('--version', sys.stdout.getvalue()) self.assertIn('--config-file', sys.stdout.getvalue())",30,7
openstack%2Faodh~master~I024ff3ec0e5c21f2f6cef9fa453cfb1497921947,openstack/aodh,master,I024ff3ec0e5c21f2f6cef9fa453cfb1497921947,Fix getting alarms,MERGED,2019-12-20 00:46:30.000000000,2019-12-20 10:29:55.000000000,2019-12-20 10:28:24.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-20 00:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/f0956157e21b57fc14f25ae709eca6d14ad092f2', 'message': 'Fix getting alarms\n\nThe normal users can get all other projects alarms because no project_id\nfilter when querying the db.\n\nChange-Id: I024ff3ec0e5c21f2f6cef9fa453cfb1497921947\n'}, {'number': 2, 'created': '2019-12-20 03:06:30.000000000', 'files': ['aodh/api/controllers/v2/alarms.py', 'aodh/tests/functional/api/v2/test_alarm_scenarios.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/b76f377781051fa75117ac7101b1a68be3575390', 'message': 'Fix getting alarms\n\nThe normal users can get all other projects alarms because no project_id\nfilter when querying the db.\n\nChange-Id: I024ff3ec0e5c21f2f6cef9fa453cfb1497921947\n'}]",0,700089,b76f377781051fa75117ac7101b1a68be3575390,9,2,2,6732,,,0,"Fix getting alarms

The normal users can get all other projects alarms because no project_id
filter when querying the db.

Change-Id: I024ff3ec0e5c21f2f6cef9fa453cfb1497921947
",git fetch https://review.opendev.org/openstack/aodh refs/changes/89/700089/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/api/controllers/v2/alarms.py', 'aodh/tests/functional/api/v2/test_alarm_scenarios.py']",2,f0956157e21b57fc14f25ae709eca6d14ad092f2,fix-get-alarms," def test_list_alarms_other_project(self): auth_headers = {'X-User-Id': uuidutils.generate_uuid(), 'X-Project-Id': uuidutils.generate_uuid()} data = self.get_json('/alarms', headers=auth_headers) self.assertEqual(0, len(data)) ",,8,0
openstack%2Foslo.config~master~I31156e2f47b0d68ea32726cde7f0c2b133022c9f,openstack/oslo.config,master,I31156e2f47b0d68ea32726cde7f0c2b133022c9f,Remove ConfigFilter,MERGED,2019-06-17 17:51:09.000000000,2019-12-20 10:24:37.000000000,2019-12-20 10:23:03.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-06-17 17:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/693345cc45dbc62be2db0e969b1d98b698b800ed', 'message': 'Remove ConfigFilter\n\nPer the deprecation in change I04baae695a7ba0bb93c91ea642c4e33c04bf87bd\nthis can be removed.\n\nChange-Id: I31156e2f47b0d68ea32726cde7f0c2b133022c9f\n'}, {'number': 2, 'created': '2019-09-23 12:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/c588f54537bd92c59be14eacd8bd4b6fbb6cb092', 'message': 'Remove ConfigFilter\n\nPer the deprecation in change I04baae695a7ba0bb93c91ea642c4e33c04bf87bd\nthis can be removed.\n\nChange-Id: I31156e2f47b0d68ea32726cde7f0c2b133022c9f\n'}, {'number': 3, 'created': '2019-12-17 17:00:56.000000000', 'files': ['oslo_config/tests/test_cfgfilter.py', 'oslo_config/cfgfilter.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/c7ac122554f866023ee913edba1e6fa32455704f', 'message': 'Remove ConfigFilter\n\nPer the deprecation in change I04baae695a7ba0bb93c91ea642c4e33c04bf87bd\nthis can be removed.\n\nChange-Id: I31156e2f47b0d68ea32726cde7f0c2b133022c9f\n'}]",0,665736,c7ac122554f866023ee913edba1e6fa32455704f,16,4,3,6928,,,0,"Remove ConfigFilter

Per the deprecation in change I04baae695a7ba0bb93c91ea642c4e33c04bf87bd
this can be removed.

Change-Id: I31156e2f47b0d68ea32726cde7f0c2b133022c9f
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/36/665736/3 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_config/tests/test_cfgfilter.py', 'oslo_config/cfgfilter.py']",2,693345cc45dbc62be2db0e969b1d98b698b800ed,deprecate-config-filter,,"# Copyright 2014 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. r"""""" DEPRECATED: This module is deprecated and scheduled for removal in the U cycle. There are three use cases for the ConfigFilter class: 1. Help enforce that a given module does not access options registered by another module, without first declaring those cross-module dependencies using import_opt(). 2. Prevent private configuration opts from being visible to modules other than the one which registered it. 3. Limit the options on a Cfg object that can be accessed. .. versionadded:: 1.4 Cross-Module Option Dependencies -------------------------------- When using the global cfg.CONF object, it is quite common for a module to require the existence of configuration options registered by other modules. For example, if module 'foo' registers the 'blaa' option and the module 'bar' uses the 'blaa' option then 'bar' might do:: import foo print(CONF.blaa) However, it's completely non-obvious why foo is being imported (is it unused, can we remove the import) and where the 'blaa' option comes from. The CONF.import_opt() method allows such a dependency to be explicitly declared:: CONF.import_opt('blaa', 'foo') print(CONF.blaa) However, import_opt() has a weakness - if 'bar' imports 'foo' using the import builtin and doesn't use import_opt() to import 'blaa', then 'blaa' can still be used without problems. Similarly, where multiple options are registered a module imported via import_opt(), a lazy programmer can get away with only declaring a dependency on a single option. The ConfigFilter class provides a way to ensure that options are not available unless they have been registered in the module or imported using import_opt() for example with:: CONF = ConfigFilter(cfg.CONF) CONF.import_opt('blaa', 'foo') print(CONF.blaa) no other options other than 'blaa' are available via CONF. Private Configuration Options ----------------------------- Libraries which register configuration options typically do not want users of the library API to access those configuration options. If API users do access private configuration options, those users will be disrupted if and when a configuration option is renamed. In other words, one does not typically wish for the name of the private config options to be part of the public API. The ConfigFilter class provides a way for a library to register options such that they are not visible via the ConfigOpts instance which the API user supplies to the library. For example:: from __future__ import print_function from oslo_config.cfg import * from oslo_config.cfgfilter import * class Widget(object): def __init__(self, conf): self.conf = conf self._private_conf = ConfigFilter(self.conf) self._private_conf.register_opt(StrOpt('foo')) @property def foo(self): return self._private_conf.foo conf = ConfigOpts() widget = Widget(conf) print(widget.foo) print(conf.foo) # raises NoSuchOptError Limited Configuration Options ----------------------------- It may be required that when passing a CONF object to other functions we want to filter that the receiving code is only able to access a restricted subset of the options that are available on the CONF object. This is essentially a more general case of the Private Configuration Options and Cross-Module Options whereby we expose an option that is already present on the underlying CONF object without providing any means to load it if not present. So given a CONF object with options defined:: CONF.register_opt(StrOpt('foo')) CONF.register_opt(StrOpt('bar')) we can expose options such that only those options are present:: restricted_conf = CfgFilter(CONF) restricted_conf.expose_opt('foo') print(restricted_conf.foo) print(restricted_conf.bar) # raises NoSuchOptError """""" import collections import itertools from debtcollector import removals from oslo_config import cfg @removals.removed_class('CliOptRegisteredError') class CliOptRegisteredError(cfg.Error): """"""Raised when registering cli opt not in original ConfigOpts. .. versionadded:: 1.12 """""" def __str__(self): ret = ""Cannot register a cli option that was not present in the"" \ "" original ConfigOpts."" if self.msg: ret += "": "" + self.msg return ret @removals.removed_class('ConfigFilter') class ConfigFilter(collections.Mapping): """"""A helper class which wraps a ConfigOpts object. ConfigFilter enforces the explicit declaration of dependencies on external options and allows private options which are not registered with the wrapped Configopts object. """""" def __init__(self, conf): """"""Construct a ConfigFilter object. :param conf: a ConfigOpts object """""" self._conf = conf self._fconf = cfg.ConfigOpts() self._sync() self._imported_opts = set() self._imported_groups = dict() def _sync(self): if self._fconf._namespace is not self._conf._namespace: self._fconf.clear() self._fconf._namespace = self._conf._namespace self._fconf._args = self._conf._args def __getattr__(self, name): """"""Look up an option value. :param name: the opt name (or 'dest', more precisely) :returns: the option value (after string subsititution) or a GroupAttr :raises: NoSuchOptError,ConfigFileValueError,TemplateSubstitutionError """""" if name in self._imported_groups: return self._imported_groups[name] elif name in self._imported_opts: return getattr(self._conf, name) else: self._sync() return getattr(self._fconf, name) def __getitem__(self, key): """"""Look up an option value."""""" return getattr(self, key) def __contains__(self, key): """"""Return True if key is the name of a registered opt or group."""""" return (key in self._fconf or key in self._imported_opts or key in self._imported_groups) def __iter__(self): """"""Iterate over all registered opt and group names."""""" return itertools.chain(self._fconf.keys(), self._imported_opts, self._imported_groups.keys()) def __len__(self): """"""Return the number of options and option groups."""""" return (len(self._fconf) + len(self._imported_opts) + len(self._imported_groups)) @staticmethod def _already_registered(conf, opt, group=None): group_name = group.name if isinstance(group, cfg.OptGroup) else group return ((group_name is None and opt.dest in conf) or (group_name is not None and group_name in conf and opt.dest in conf[group_name])) def register_opt(self, opt, group=None): """"""Register an option schema. :param opt: an instance of an Opt sub-class :param group: an optional OptGroup object or group name :return: False if the opt was already registered, True otherwise :raises: DuplicateOptError """""" if self._already_registered(self._conf, opt, group): # Raises DuplicateError if there is another opt with the same name ret = self._conf.register_opt(opt, group) self._import_opt(opt.dest, group) return ret else: return self._fconf.register_opt(opt, group) def register_opts(self, opts, group=None): """"""Register multiple option schemas at once."""""" for opt in opts: self.register_opt(opt, group) def register_cli_opt(self, opt, group=None): """"""Register a CLI option schema. :param opt: an instance of an Opt sub-class :param group: an optional OptGroup object or group name :return: False if the opt was already register, True otherwise :raises: DuplicateOptError, ArgsAlreadyParsedError """""" if self._already_registered(self._conf, opt, group): # Raises DuplicateError if there is another opt with the same name ret = self._conf.register_opt( opt, group, cli=True, clear_cache=False) self._import_opt(opt.dest, group) return ret else: raise CliOptRegisteredError( ""Opt '{0}' cannot be registered."".format(opt.dest)) def register_cli_opts(self, opts, group=None): """"""Register multiple CLI option schemas at once."""""" for opt in opts: self.register_cli_opt(opt, group) def register_group(self, group): """"""Register an option group. :param group: an OptGroup object """""" self._fconf.register_group(group) def import_opt(self, opt_name, module_str, group=None): """"""Import an option definition from a module. :param name: the name/dest of the opt :param module_str: the name of a module to import :param group: an option OptGroup object or group name :raises: NoSuchOptError, NoSuchGroupError """""" self._conf.import_opt(opt_name, module_str, group) self._import_opt(opt_name, group) def import_group(self, group, module_str): """"""Import an option group from a module. Note that this allows access to all options registered with the group whether or not those options were registered by the given module. :param group: an option OptGroup object or group name :param module_str: the name of a module to import :raises: ImportError, NoSuchGroupError """""" self._conf.import_group(group, module_str) group = self._import_group(group) group._all_opts = True def _import_opt(self, opt_name, group): if group is None: self._imported_opts.add(opt_name) return True else: group = self._import_group(group) return group._import_opt(opt_name) def _import_group(self, group_or_name): if isinstance(group_or_name, cfg.OptGroup): group_name = group_or_name.name else: group_name = group_or_name if group_name in self._imported_groups: return self._imported_groups[group_name] else: group = self.GroupAttr(self._conf, group_name) self._imported_groups[group_name] = group return group def expose_opt(self, opt_name, group=None): """"""Expose an option from the underlying conf object. This allows an object that has already been imported or used from the base conf object to be seen from the filter object. :param opt_name: the name/dest of the opt :param group: an option OptGroup object or group name """""" self._import_opt(opt_name, group) def expose_group(self, group): """"""Expose all option from a group in the underlying conf object. This allows an object that has already been imported or used from the base conf object to be seen from the filter object. :param group: an option OptGroup object or group name """""" group = self._import_group(group) group._all_opts = True class GroupAttr(collections.Mapping): """"""Helper class to wrap a group object. Represents the option values of a group as a mapping and attributes. """""" def __init__(self, conf, group): """"""Construct a GroupAttr object. :param conf: a ConfigOpts object :param group: an OptGroup object """""" self._conf = conf self._group = group self._imported_opts = set() self._all_opts = False def __getattr__(self, name): """"""Look up an option value."""""" if not self._all_opts and name not in self._imported_opts: raise cfg.NoSuchOptError(name) return getattr(self._conf[self._group], name) def __getitem__(self, key): """"""Look up an option value."""""" return getattr(self, key) def __contains__(self, key): """"""Return True if key is the name of a registered opt or group."""""" return key in self._imported_opts def __iter__(self): """"""Iterate over all registered opt and group names."""""" for key in self._imported_opts: yield key def __len__(self): """"""Return the number of options and option groups."""""" return len(self._imported_opts) def _import_opt(self, opt_name): self._imported_opts.add(opt_name) ",0,752
openstack%2Foslo.log~master~Ib61e1fd02a5ec98ddcaed2ce42f049636598870f,openstack/oslo.log,master,Ib61e1fd02a5ec98ddcaed2ce42f049636598870f,Always use jsonutils.to_primitive 'fallback' parameter,MERGED,2019-12-10 10:56:24.000000000,2019-12-20 10:18:14.000000000,2019-12-20 10:16:45.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-12-10 10:56:24.000000000', 'files': ['oslo_log/tests/unit/test_log.py', 'oslo_log/formatters.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/f8283aa222dd7f994117f8ff63ade9e0ddd02626', 'message': ""Always use jsonutils.to_primitive 'fallback' parameter\n\nThis was optionally being enabled to handle the case where we did not\nhave oslo.serialization 2.21.1. Our minimum version is now 2.25.0 so\nthis will never be the case. Remove this optionality logic.\n\nChange-Id: Ib61e1fd02a5ec98ddcaed2ce42f049636598870f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,698215,f8283aa222dd7f994117f8ff63ade9e0ddd02626,8,3,1,15334,,,0,"Always use jsonutils.to_primitive 'fallback' parameter

This was optionally being enabled to handle the case where we did not
have oslo.serialization 2.21.1. Our minimum version is now 2.25.0 so
this will never be the case. Remove this optionality logic.

Change-Id: Ib61e1fd02a5ec98ddcaed2ce42f049636598870f
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/15/698215/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_log/formatters.py', 'oslo_log/tests/unit/test_log.py']",2,f8283aa222dd7f994117f8ff63ade9e0ddd02626,trivial,," if not formatters._HAVE_JSONUTILS_FALLBACK: self.skipTest(""need the fallback parameter of "" ""jsonutils.to_primitive() added in "" ""oslo_serialization 2.21.1"")",7,23
openstack%2Fcharm-guide~master~I3271172ab3cbc2dbcfb14ae2d3e2c6cf9ae5ea78,openstack/charm-guide,master,I3271172ab3cbc2dbcfb14ae2d3e2c6cf9ae5ea78,Add workaround note for using Ceph with Train,MERGED,2019-12-19 23:54:35.000000000,2019-12-20 10:11:17.000000000,2019-12-20 10:09:55.000000000,"[{'_account_id': 935}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2019-12-19 23:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/c1c62eb2b86f22274dc4f1f39a4c2491348dcbe0', 'message': 'Add workaround note for using Ceph with Train\n\nCloses-Bug: #1854089\n\nChange-Id: I3271172ab3cbc2dbcfb14ae2d3e2c6cf9ae5ea78\n'}, {'number': 2, 'created': '2019-12-20 01:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/bb9b6c599ed72a19e791e17957aa087e4b43a973', 'message': 'Add workaround note for using Ceph with Train\n\nAlso add Stein.\n\nReformat the manner in which commands are displayed\nfor bundle deploys.\n\nCloses-Bug: #1854089\n\nChange-Id: I3271172ab3cbc2dbcfb14ae2d3e2c6cf9ae5ea78\n'}, {'number': 3, 'created': '2019-12-20 01:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/aa7dac8ae5ddfadfca52e2751678498f3a211e82', 'message': ""Add workaround note for using Ceph with Train\n\nAlso add Stein and Eoan.\n\nReformat the manner in which commands are displayed\nfor bundle deploys.\n\nDoes Ceph not work with s390x these days? It is\nremoved from the bundles. If that's the case a note\nshould be added mentioning the fact.\n\nCloses-Bug: #1854089\n\nChange-Id: I3271172ab3cbc2dbcfb14ae2d3e2c6cf9ae5ea78\n""}, {'number': 4, 'created': '2019-12-20 01:48:44.000000000', 'files': ['doc/source/openstack-on-lxd.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/0f20a1a802da0ee89f01f8dd85664e2c6380e5cf', 'message': ""Add workaround note for using Ceph with Train\n\nAlso add Stein and Eoan.\n\nReformat the manner in which commands are displayed\nfor bundle deploys (use tables).\n\nDoes Ceph not work with s390x these days? It is\nremoved from the bundles. If that's the case a note\nshould be added mentioning the fact.\n\nCloses-Bug: #1854089\n\nChange-Id: I3271172ab3cbc2dbcfb14ae2d3e2c6cf9ae5ea78\n""}]",0,700086,0f20a1a802da0ee89f01f8dd85664e2c6380e5cf,14,3,4,30561,,,0,"Add workaround note for using Ceph with Train

Also add Stein and Eoan.

Reformat the manner in which commands are displayed
for bundle deploys (use tables).

Does Ceph not work with s390x these days? It is
removed from the bundles. If that's the case a note
should be added mentioning the fact.

Closes-Bug: #1854089

Change-Id: I3271172ab3cbc2dbcfb14ae2d3e2c6cf9ae5ea78
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/86/700086/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/openstack-on-lxd.rst'],1,c1c62eb2b86f22274dc4f1f39a4c2491348dcbe0,bug/1854089,"For amd64, arm64, or ppc64el Train on Bionic: .. code:: bash juju deploy bundle-bionic-train.yaml .. note:: Machines hosting Ceph applications will have Ceph Mimic configured in the bundle until a solution has been implemented to address the dropping of directory backed OSD support in Ceph Nautilus. See bug `GH #72`_. For s390x Train on Bionic: .. code:: bash juju deploy bundle-bionic-train-s390x.yaml .. note:: Machines hosting Ceph applications will have Ceph Mimic configured in the bundle until a solution has been implemented to address the dropping of directory backed OSD support in Ceph Nautilus. See bug `GH #72`_. Note: If you are using a ZFS backend for this deployment, force-raw-images must be disabled on the nova-compute charm in Pike and later. .. BUGS .. _GH #72: https://github.com/openstack-charmers/openstack-on-lxd/issues/72","Note: If you are using a ZFS backend for this deployment, force-raw-images must be disabled on the nova-compute charm in Pike and later. ",28,1
openstack%2Fpython-muranoclient~master~I88134b5253cdf2f30cd004d77b2a40aa6764b77f,openstack/python-muranoclient,master,I88134b5253cdf2f30cd004d77b2a40aa6764b77f,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-12-15 00:40:38.000000000,2019-12-20 10:11:17.000000000,2019-12-20 10:09:01.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-15 00:40:38.000000000', 'files': ['releasenotes/notes/drop-py-2-7-7a44884ca5972df5.yaml', 'run_tests.sh', '.zuul.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/482a66018fb22caa4715672be26d7f0f10df0f75', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\npython-muranoclient is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I88134b5253cdf2f30cd004d77b2a40aa6764b77f\n'}]",0,699087,482a66018fb22caa4715672be26d7f0f10df0f75,15,2,1,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

python-muranoclient is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I88134b5253cdf2f30cd004d77b2a40aa6764b77f
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/87/699087/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-py-2-7-7a44884ca5972df5.yaml', 'run_tests.sh', '.zuul.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini']",6,482a66018fb22caa4715672be26d7f0f10df0f75,drop-py27-support,"envlist = py37,pep8,docs minversion = 3.1.1ignore_basepython_conflict = Truebasepython = python3basepython = python2.7","envlist = py37,py27,pep8,docs minversion = 2.0basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3",13,17
openstack%2Fpython-solumclient~master~I0240eb2b1c8779b63f1824ae17ee159a236ce52a,openstack/python-solumclient,master,I0240eb2b1c8779b63f1824ae17ee159a236ce52a,Fix py35/py36 gate jobs,ABANDONED,2019-03-08 05:45:20.000000000,2019-12-20 10:10:31.000000000,,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28614}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-03-08 05:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/7e4c7bff2296b66b501e78b6a658f94a4b3bbac6', 'message': 'Fix py35/py36 gate jobs\n\n1. py35/py36 jobs are failing[1]\npython 3.6 pycache also includes links - so those also\nneed to be removed by tox testenv\n\n[1]: http://paste.openstack.org/show/747440/\n\nChange-Id: I0240eb2b1c8779b63f1824ae17ee159a236ce52a\n'}, {'number': 2, 'created': '2019-03-09 02:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/b6661cb8536e799b5fda26ef626f6ccf14ccac4f', 'message': 'Fix py35/py36 gate jobs\n\n1. py35/py36 jobs are failing[1]\npython 3.6 pycache also includes links - so those also\nneed to be removed by tox testenv\n\n[1]: http://paste.openstack.org/show/747440/\n\nChange-Id: I0240eb2b1c8779b63f1824ae17ee159a236ce52a\nCloses-Bug: 1819243\n'}, {'number': 3, 'created': '2019-08-23 09:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/badb42e1d40a2f480f905b73ef2207e6fcc43b86', 'message': 'Fix py35/py36 gate jobs\n\n1. py35/py36 jobs are failing[1]\npython 3.6 pycache also includes links - so those also\nneed to be removed by tox testenv\n\n[1]: http://paste.openstack.org/show/747440/\n\nChange-Id: I0240eb2b1c8779b63f1824ae17ee159a236ce52a\nCloses-Bug: 1819243\n'}, {'number': 4, 'created': '2019-12-20 10:04:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/95955e386fc72adce70c7f00e297c78cf60f1af2', 'message': 'Fix py35/py36 gate jobs\n\n1. py35/py36 jobs are failing[1]\npython 3.6 pycache also includes links - so those also\nneed to be removed by tox testenv\n\n[1]: http://paste.openstack.org/show/747440/\n\nChange-Id: I0240eb2b1c8779b63f1824ae17ee159a236ce52a\nCloses-Bug: 1819243\n'}]",0,641929,95955e386fc72adce70c7f00e297c78cf60f1af2,12,5,4,22165,,,0,"Fix py35/py36 gate jobs

1. py35/py36 jobs are failing[1]
python 3.6 pycache also includes links - so those also
need to be removed by tox testenv

[1]: http://paste.openstack.org/show/747440/

Change-Id: I0240eb2b1c8779b63f1824ae17ee159a236ce52a
Closes-Bug: 1819243
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/29/641929/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7e4c7bff2296b66b501e78b6a658f94a4b3bbac6,," find . -type f -name ""*.py[c|o]"" -delete -o -type l -name ""*.py[c|o]"" -delete"," find . -type f -name ""*.py[c|o]"" -delete",1,1
openstack%2Fkolla~stable%2Frocky~I6bd7cfc5056ee8d2ad42580b8064b9d0c83861cb,openstack/kolla,stable/rocky,I6bd7cfc5056ee8d2ad42580b8064b9d0c83861cb,Bump versions for Openstack rocky,MERGED,2019-12-19 08:59:28.000000000,2019-12-20 10:07:38.000000000,2019-12-20 10:07:38.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2019-12-19 08:59:28.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/27ddb45adb8971fe536a99d3ac6abd0578daae9a', 'message': 'Bump versions for Openstack rocky\n\nChange-Id: I6bd7cfc5056ee8d2ad42580b8064b9d0c83861cb\n'}]",0,699934,27ddb45adb8971fe536a99d3ac6abd0578daae9a,10,5,1,24072,,,0,"Bump versions for Openstack rocky

Change-Id: I6bd7cfc5056ee8d2ad42580b8064b9d0c83861cb
",git fetch https://review.opendev.org/openstack/kolla refs/changes/34/699934/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,27ddb45adb8971fe536a99d3ac6abd0578daae9a,," 'magnum-7.2.0.tar.gz')}, 'octavia-3.2.1.tar.gz')},"," 'magnum-7.1.0.tar.gz')}, 'octavia-3.2.0.tar.gz')},",2,2
openstack%2Fcharm-guide~master~Ieefd414ee0bb8823affcb3186d00f6c109a94813,openstack/charm-guide,master,Ieefd414ee0bb8823affcb3186d00f6c109a94813,Add stein to the document,ABANDONED,2019-11-26 22:43:40.000000000,2019-12-20 10:04:12.000000000,,"[{'_account_id': 9247}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2019-11-26 22:43:40.000000000', 'files': ['doc/source/openstack-on-lxd.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/7f9ca4bc62c2962f26cbcbb2dd0887875da2760a', 'message': 'Add stein to the document\n\nAdd extra documentation to deploy stein in lxd\n\nChange-Id: Ieefd414ee0bb8823affcb3186d00f6c109a94813\n'}]",0,696202,7f9ca4bc62c2962f26cbcbb2dd0887875da2760a,7,3,1,9247,,,0,"Add stein to the document

Add extra documentation to deploy stein in lxd

Change-Id: Ieefd414ee0bb8823affcb3186d00f6c109a94813
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/02/696202/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/openstack-on-lxd.rst'],1,7f9ca4bc62c2962f26cbcbb2dd0887875da2760a,,"For amd64, arm64, or ppc64el Stein: .. code:: bash juju deploy bundle-bionic-stein.yaml For s390x Stein on Bionic: .. code:: bash juju deploy bundle-bionic-stein-s390x.yaml ",,12,0
openstack%2Fcharm-keystone-saml-mellon~master~If94f9d306cb73e716560d608851412395adfe88d,openstack/charm-keystone-saml-mellon,master,If94f9d306cb73e716560d608851412395adfe88d,Add a PAOS endpoint to support ECP,MERGED,2019-06-17 21:51:45.000000000,2019-12-20 10:03:04.000000000,2019-12-20 10:03:04.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2019-06-17 21:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/1054bb922a20824d69479e349f925642a970788e', 'message': 'Add a PAOS endpoint to support ECP\n\nSee ""4.13.2. Service Provider Metadata"" in mellon_user_guide.\n\nNote: SOAP reversed: PAOS\n\nChange-Id: If94f9d306cb73e716560d608851412395adfe88d\nCloses-Bug: #1833134\n'}, {'number': 2, 'created': '2019-06-22 12:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/fac864a242d3708d07a657db553eecb6e22d10fa', 'message': 'Add a PAOS endpoint to support ECP\n\nSee ""4.13.2. Service Provider Metadata"" in mellon_user_guide.\n\nNote: SOAP reversed: PAOS\n\nChange-Id: If94f9d306cb73e716560d608851412395adfe88d\nCloses-Bug: #1833134\n'}, {'number': 3, 'created': '2019-12-03 07:37:23.000000000', 'files': ['src/templates/mellon-sp-metadata.xml', 'src/lib/charm/openstack/keystone_saml_mellon.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/b1b4ff3253c8181cb885b1052af6239184ce483c', 'message': 'Add a PAOS endpoint to support ECP\n\nSee ""4.13.2. Service Provider Metadata"" in mellon_user_guide.\n\nNote: SOAP reversed: PAOS\n\nChange-Id: If94f9d306cb73e716560d608851412395adfe88d\nCloses-Bug: #1833134\n'}]",0,665771,b1b4ff3253c8181cb885b1052af6239184ce483c,27,5,3,24824,,,0,"Add a PAOS endpoint to support ECP

See ""4.13.2. Service Provider Metadata"" in mellon_user_guide.

Note: SOAP reversed: PAOS

Change-Id: If94f9d306cb73e716560d608851412395adfe88d
Closes-Bug: #1833134
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/71/665771/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/mellon-sp-metadata.xml', 'src/lib/charm/openstack/keystone_saml_mellon.py']",2,1054bb922a20824d69479e349f925642a970788e,bug/1833134, def sp_paos_response_path(self): return '{}/paosResponse'.format(self.mellon_endpoint_path) @property,,6,0
openstack%2Fkolla~stable%2Fstein~I88ebd3db3bf2be0db1c9082b050fe5788d3a7239,openstack/kolla,stable/stein,I88ebd3db3bf2be0db1c9082b050fe5788d3a7239,Bump versions for Openstack stein,MERGED,2019-12-19 08:59:38.000000000,2019-12-20 09:56:46.000000000,2019-12-20 09:55:13.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2019-12-19 08:59:38.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a7b0f25d4b21e013032c92e3160697f8d996480c', 'message': 'Bump versions for Openstack stein\n\nChange-Id: I88ebd3db3bf2be0db1c9082b050fe5788d3a7239\n'}]",0,699935,a7b0f25d4b21e013032c92e3160697f8d996480c,11,5,1,24072,,,0,"Bump versions for Openstack stein

Change-Id: I88ebd3db3bf2be0db1c9082b050fe5788d3a7239
",git fetch https://review.opendev.org/openstack/kolla refs/changes/35/699935/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,a7b0f25d4b21e013032c92e3160697f8d996480c,," 'magnum-8.2.0.tar.gz')}, 'octavia-4.1.1.tar.gz')},"," 'magnum-8.1.0.tar.gz')}, 'octavia-4.1.0.tar.gz')},",2,2
openstack%2Ftripleo-validations~master~Ib80b55cbd0d4b4dd83d8dbc9dc2afe1d6df2ede5,openstack/tripleo-validations,master,Ib80b55cbd0d4b4dd83d8dbc9dc2afe1d6df2ede5,Add an additional validation to check ceph-ansible repository,MERGED,2019-12-09 19:15:44.000000000,2019-12-20 09:54:47.000000000,2019-12-16 13:02:58.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-12-09 19:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cd89690a58f33f59483ad8ade0d503cc4221ad7e', 'message': ""Add an additional validation to check ceph-ansible repository\n\nIn order to address the ceph-ansible potential cross-shipping,\nthis change adds an extra task to validate the repository that\nshould be used to install ceph-ansible in the undercloud.\nIf ceph-ansible is not installed or the repo doesn't match the\nspecified one, this validation raise an error.\n\nChange-Id: Ib80b55cbd0d4b4dd83d8dbc9dc2afe1d6df2ede5\n""}, {'number': 2, 'created': '2019-12-10 08:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c7f78b44a1672ba1a2ed5a3825b0120262c83c92', 'message': ""Add an additional validation to check ceph-ansible repository\n\nIn order to address the ceph-ansible potential cross-shipping,\nthis change adds an extra task to validate the repository that\nshould be used to install ceph-ansible in the undercloud.\nIf ceph-ansible is not installed or the repo doesn't match the\nspecified one, this validation raise an error.\n\nChange-Id: Ib80b55cbd0d4b4dd83d8dbc9dc2afe1d6df2ede5\n""}, {'number': 3, 'created': '2019-12-10 08:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/04323536b75867b3e34dba3c71cb91dbd636758a', 'message': ""Add an additional validation to check ceph-ansible repository\n\nIn order to address the ceph-ansible potential cross-shipping,\nthis change adds an extra task to validate the repository that\nshould be used to install ceph-ansible in the undercloud.\nIf ceph-ansible is not installed or the repo doesn't match the\nspecified one, this validation raise an error.\n\nChange-Id: Ib80b55cbd0d4b4dd83d8dbc9dc2afe1d6df2ede5\n""}, {'number': 4, 'created': '2019-12-10 12:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a031186d12eccf6dd122206f8adcb5a813ed9646', 'message': ""Add an additional validation to check ceph-ansible repository\n\nIn order to address the ceph-ansible potential cross-shipping,\nthis change adds an extra task to validate the repository that\nshould be used to install ceph-ansible in the undercloud.\nIf ceph-ansible is not installed or the repo doesn't match the\nspecified one, this validation raise an error.\n\nChange-Id: Ib80b55cbd0d4b4dd83d8dbc9dc2afe1d6df2ede5\n""}, {'number': 5, 'created': '2019-12-11 13:54:06.000000000', 'files': ['playbooks/ceph-ansible-installed.yaml', 'roles/ceph/tasks/ceph-ansible-installed.yaml', 'roles/ceph/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/329f740d109b87105eac36fade70c69c15781a38', 'message': ""Add an additional validation to check ceph-ansible repository\n\nIn order to address the ceph-ansible potential cross-shipping,\nthis change adds an extra task to validate the repository that\nshould be used to install ceph-ansible in the undercloud.\nIf ceph-ansible is not installed or the repo doesn't match the\nspecified one, this validation raise an error.\n\nChange-Id: Ib80b55cbd0d4b4dd83d8dbc9dc2afe1d6df2ede5\n""}]",5,698070,329f740d109b87105eac36fade70c69c15781a38,23,7,5,25402,,,0,"Add an additional validation to check ceph-ansible repository

In order to address the ceph-ansible potential cross-shipping,
this change adds an extra task to validate the repository that
should be used to install ceph-ansible in the undercloud.
If ceph-ansible is not installed or the repo doesn't match the
specified one, this validation raise an error.

Change-Id: Ib80b55cbd0d4b4dd83d8dbc9dc2afe1d6df2ede5
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/70/698070/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/ceph-ansible-installed.yaml', 'roles/ceph/tasks/ceph-ansible-installed.yaml', 'roles/ceph/defaults/main.yml']",3,cd89690a58f33f59483ad8ade0d503cc4221ad7e,ceph_ansible_repo,"ceph_ansible_repo: ""centos-ceph-nautilus""",,14,0
openstack%2Frpm-packaging~master~I282cbe76d3abab75d7f0a52ba5f6c515e4a2da1e,openstack/rpm-packaging,master,I282cbe76d3abab75d7f0a52ba5f6c515e4a2da1e,tripleo-common/python-tripleoclient: convert to python3,MERGED,2019-11-28 18:42:21.000000000,2019-12-20 09:53:32.000000000,2019-12-03 13:18:19.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-28 18:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e7dbaa3a190b27837c25c1c2b3995d1e1f5258a2', 'message': 'tripleo-common: convert to python3\n\nChange-Id: I282cbe76d3abab75d7f0a52ba5f6c515e4a2da1e\n'}, {'number': 2, 'created': '2019-11-29 09:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6c59eaf15bea6588a9f8465e4cfa87672ff01fc7', 'message': 'tripleo-common/python-tripleoclient: convert to python3\n\nChange-Id: I282cbe76d3abab75d7f0a52ba5f6c515e4a2da1e\n'}, {'number': 3, 'created': '2019-11-29 09:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e985fa4a5715a5e2b34be5afad8fb8fd55aad325', 'message': 'tripleo-common/python-tripleoclient: convert to python3\n\nChange-Id: I282cbe76d3abab75d7f0a52ba5f6c515e4a2da1e\n'}, {'number': 4, 'created': '2019-12-02 14:14:56.000000000', 'files': ['openstack/tripleo-common/tripleo-common.spec.j2', 'openstack/python-tripleoclient/python-tripleoclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3e69eb84ff7674a04a16ed3bb9dd601c0d9ea7f0', 'message': 'tripleo-common/python-tripleoclient: convert to python3\n\nChange-Id: I282cbe76d3abab75d7f0a52ba5f6c515e4a2da1e\n'}]",0,696622,3e69eb84ff7674a04a16ed3bb9dd601c0d9ea7f0,21,6,4,13294,,,0,"tripleo-common/python-tripleoclient: convert to python3

Change-Id: I282cbe76d3abab75d7f0a52ba5f6c515e4a2da1e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/22/696622/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tripleo-common/tripleo-common.spec.j2'],1,e7dbaa3a190b27837c25c1c2b3995d1e1f5258a2,,"BuildRequires: {{ py3('GitPython') }} BuildRequires: {{ py3('PyYAML') }} BuildRequires: {{ py3('docker') }} BuildRequires: {{ py3('eventlet') }} BuildRequires: {{ py3('python-glanceclient') }} BuildRequires: {{ py3('python-heatclient') }} BuildRequires: {{ py3('python-ironic-inspector-client') }} BuildRequires: {{ py3('python-ironicclient') }} BuildRequires: {{ py3('metalsmith') }} BuildRequires: {{ py3('mistral-lib') }} BuildRequires: {{ py3('python-mistralclient') }} BuildRequires: {{ py3('python-novaclient') }} BuildRequires: {{ py3('oslo.concurrency') }} BuildRequires: {{ py3('oslo.log') }} BuildRequires: {{ py3('oslo.rootwrap') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('paramiko') }} BuildRequires: {{ py3('passlib') }} BuildRequires: {{ py3('python-subunit') }} BuildRequires: {{ py3('requests-mock') }} BuildRequires: {{ py3('setuptools') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('tenacity') }} BuildRequires: {{ py3('testscenarios') }} BuildRequires: {{ py3('testtools') }} BuildRequires: {{ py3('python-zaqarclient') }}Requires: {{ py3('Babel') }} Requires: {{ py3('GitPython') }} Requires: {{ py3('Jinja2') }}Requires: {{ py3('docker', ('>=', '2.0.0')) }} Requires: {{ py3('eventlet') }} Requires: {{ py3('python-glanceclient') }} Requires: {{ py3('python-heatclient') }} Requires: {{ py3('python-ironic-inspector-client') }} Requires: {{ py3('python-ironicclient') }} Requires: {{ py3('keystoneauth1') }} Requires: {{ py3('python-keystoneclient') }} Requires: {{ py3('metalsmith') }} Requires: {{ py3('mistral-lib') }} Requires: {{ py3('python-mistralclient') }} Requires: {{ py3('netaddr') }} Requires: {{ py3('netifaces') }} Requires: {{ py3('python-novaclient') }} Requires: {{ py3('oslo.concurrency') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.log') }} Requires: {{ py3('oslo.rootwrap') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('paramiko') }} Requires: {{ py3('passlib') }} Requires: {{ py3('six') }} Requires: {{ py3('tenacity') }} Requires: {{ py3('python-zaqarclient') }}BuildRequires: {{ py3('Sphinx') }} BuildRequires: {{ py3('openstackdocstheme') }}%{py3_build} PYTHONPATH=. %sphinx_build -b html doc/source doc/build/html%{py3_install}%{__python3} -m stestr.cli run%{python3_sitelib}/tripleo_common %{python3_sitelib}/*.egg-info","BuildRequires: {{ py2pkg('GitPython') }} BuildRequires: {{ py2pkg('PyYAML') }} BuildRequires: {{ py2pkg('docker') }} BuildRequires: {{ py2pkg('eventlet') }} BuildRequires: {{ py2pkg('python-heatclient') }} BuildRequires: {{ py2pkg('python-ironic-inspector-client') }} BuildRequires: {{ py2pkg('python-ironicclient') }} BuildRequires: {{ py2pkg('metalsmith') }} BuildRequires: {{ py2pkg('mistral-lib') }} BuildRequires: {{ py2pkg('python-mistralclient') }} BuildRequires: {{ py2pkg('oslo.concurrency') }} BuildRequires: {{ py2pkg('oslo.log') }} BuildRequires: {{ py2pkg('oslo.rootwrap') }} BuildRequires: {{ py2pkg('oslotest') }} BuildRequires: {{ py2pkg('paramiko') }} BuildRequires: {{ py2pkg('passlib') }} BuildRequires: {{ py2pkg('python-subunit') }} BuildRequires: {{ py2pkg('requests-mock') }} BuildRequires: {{ py2pkg('setuptools') }} BuildRequires: {{ py2pkg('stestr') }} BuildRequires: {{ py2pkg('tenacity') }} BuildRequires: {{ py2pkg('testscenarios') }} BuildRequires: {{ py2pkg('testtools') }} BuildRequires: {{ py2pkg('python-zaqarclient') }}Requires: {{ py2pkg('Babel') }} Requires: {{ py2pkg('GitPython') }} Requires: {{ py2pkg('Jinja2') }}Requires: {{ py2pkg('docker', ('>=', '2.0.0')) }} Requires: {{ py2pkg('eventlet') }} Requires: {{ py2pkg('python-glanceclient') }} Requires: {{ py2pkg('python-heatclient') }} Requires: {{ py2pkg('python-ironic-inspector-client') }} Requires: {{ py2pkg('python-ironicclient') }} Requires: {{ py2pkg('keystoneauth1') }} Requires: {{ py2pkg('python-keystoneclient') }} Requires: {{ py2pkg('metalsmith') }} Requires: {{ py2pkg('mistral-lib') }} Requires: {{ py2pkg('python-mistralclient') }} Requires: {{ py2pkg('netaddr') }} Requires: {{ py2pkg('netifaces') }} Requires: {{ py2pkg('python-novaclient') }} Requires: {{ py2pkg('oslo.concurrency') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.log') }} Requires: {{ py2pkg('oslo.rootwrap') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('paramiko') }} Requires: {{ py2pkg('passlib') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('tenacity') }} Requires: {{ py2pkg('python-zaqarclient') }}BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('openstackdocstheme') }}%{py2_build} %{__python2} setup.py build_sphinx%{py2_install}%{__python2} -m stestr.cli run%{python2_sitelib}/tripleo_common %{python2_sitelib}/*.egg-info",61,59
openstack%2Fcharm-keystone~master~Ie800c9030c94ff92f38b3502113e8875a4dcba11,openstack/charm-keystone,master,Ie800c9030c94ff92f38b3502113e8875a4dcba11,Adds watcher api support service catalog,MERGED,2019-12-14 19:03:36.000000000,2019-12-20 09:52:23.000000000,2019-12-20 09:52:23.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 28014}, {'_account_id': 30442}]","[{'number': 1, 'created': '2019-12-14 19:03:36.000000000', 'files': ['hooks/keystone_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/0ae98efa322c627301795ec35bd3b5bfaea3a38b', 'message': 'Adds watcher api support service catalog\n\nWatcher needs to be added to the keystone service catalog for\nfunctionality of the upcoming watcher charms.\n\nChange-Id: Ie800c9030c94ff92f38b3502113e8875a4dcba11\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}]",0,699082,0ae98efa322c627301795ec35bd3b5bfaea3a38b,12,6,1,28014,,,0,"Adds watcher api support service catalog

Watcher needs to be added to the keystone service catalog for
functionality of the upcoming watcher charms.

Change-Id: Ie800c9030c94ff92f38b3502113e8875a4dcba11
Signed-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/82/699082/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/keystone_utils.py'],1,0ae98efa322c627301795ec35bd3b5bfaea3a38b,," ""watcher"": { ""type"": ""infra-optim"", ""desc"": ""Infrastructure Optimization Service for Openstack"" },",,4,0
openstack%2Fcharm-keystone~master~Ieecfc4ef7c85c7f716ceef0c2938ae0c7787953d,openstack/charm-keystone,master,Ieecfc4ef7c85c7f716ceef0c2938ae0c7787953d,Notify changes when service key is missing,MERGED,2019-12-15 00:51:06.000000000,2019-12-20 09:48:51.000000000,2019-12-20 09:48:50.000000000,"[{'_account_id': 935}, {'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-15 00:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/5aee83d0e0866df77ec89079afc66f7ce5c6f51b', 'message': ""Notificate changes to endpoints that don't set 'service' name in the relation\n\nChange-Id: Ieecfc4ef7c85c7f716ceef0c2938ae0c7787953d\nCloses-Bug: #1856419\n""}, {'number': 2, 'created': '2019-12-18 01:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/01df246833c42f348fe1c756025d1fc3e4942b4a', 'message': ""Notificate changes to endpoints that don't set 'service' name in the relation\n\nServices that expose multiple endpoints use a prefix in their keys, this\npatch refactors that code to put it in their own function to be reused by\nthe notifications functionality and make it notificate for changes in those\nendpoints (e.g. neutron-api and nova-cloud-controller).\n\nChange-Id: Ieecfc4ef7c85c7f716ceef0c2938ae0c7787953d\nCloses-Bug: #1856419\n""}, {'number': 3, 'created': '2019-12-18 01:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/2d1912cf4ed3ce9d893457bcf467768a51fd1f10', 'message': ""Notificate changes to endpoints that don't set 'service' name in the relation\n\nServices that expose multiple endpoints use a prefix in their keys, this\npatch refactors that code to put it in their own function to be reused by\nthe notifications functionality and make it notificate for changes in those\nendpoints (e.g. neutron-api and nova-cloud-controller).\n\nChange-Id: Ieecfc4ef7c85c7f716ceef0c2938ae0c7787953d\nCloses-Bug: #1856419\n""}, {'number': 4, 'created': '2019-12-20 02:24:14.000000000', 'files': ['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py', 'hooks/keystone_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/0b7ca2624b8171056c92ac19c22ede2ab1e7ecc8', 'message': 'Notify changes when service key is missing\n\nServices that expose multiple endpoints use a prefix in their keys, this\npatch refactors that code to put it in their own function to be reused\nby the notifications functionality and make it notificate for changes in\nthose endpoints (e.g. neutron-api and nova-cloud-controller).\n\nChange-Id: Ieecfc4ef7c85c7f716ceef0c2938ae0c7787953d\nCloses-Bug: #1856419\n'}]",2,699089,0b7ca2624b8171056c92ac19c22ede2ab1e7ecc8,22,6,4,2424,,,0,"Notify changes when service key is missing

Services that expose multiple endpoints use a prefix in their keys, this
patch refactors that code to put it in their own function to be reused
by the notifications functionality and make it notificate for changes in
those endpoints (e.g. neutron-api and nova-cloud-controller).

Change-Id: Ieecfc4ef7c85c7f716ceef0c2938ae0c7787953d
Closes-Bug: #1856419
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/89/699089/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/keystone_utils.py', 'hooks/keystone_hooks.py']",2,5aee83d0e0866df77ec89079afc66f7ce5c6f51b,bug/1856419," assemble_endpoints, endpoints_checksum, service = settings.get('service') if service: key = '%s-endpoint-changed' % service notifications[key] = endpoints_checksum(settings) else: single = {'service', 'region', 'public_url', 'admin_url', 'internal_url'} endpoints = assemble_endpoints(settings) for ep in endpoints.keys(): if single.issubset(endpoints[ep]): key = '%s-endpoint-changed' % ep log('endpoint: %s' % ep) notifications[key] = endpoints_checksum(endpoints[ep])","import hashlib service = settings.get('service', None) if service: # If service is known and endpoint has changed, notify service if # it is related with notifications interface. csum = hashlib.sha256() # We base the decision to notify on whether these parameters have # changed (if csum is unchanged from previous notify, relation will # not fire). csum.update(settings.get('public_url', None).encode('utf-8')) csum.update(settings.get('admin_url', None).encode('utf-8')) csum.update(settings.get('internal_url', None).encode('utf-8')) notifications['%s-endpoint-changed' % (service)] = csum.hexdigest()",61,35
openstack%2Fcharm-deployment-guide~master~I597ede97201d52fe9596910889971b20fedb5dab,openstack/charm-deployment-guide,master,I597ede97201d52fe9596910889971b20fedb5dab,Review deploy guide policyd overrides appendix part II,MERGED,2019-12-19 19:42:00.000000000,2019-12-20 09:46:52.000000000,2019-12-20 09:45:29.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-19 19:42:00.000000000', 'files': ['deploy-guide/source/app-policy-overrides.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/c0a13ace15347799151a246e55ea245205436c3c', 'message': 'Review deploy guide policyd overrides appendix part II\n\nChange-Id: I597ede97201d52fe9596910889971b20fedb5dab\n'}]",0,700058,c0a13ace15347799151a246e55ea245205436c3c,7,2,1,30561,,,0,"Review deploy guide policyd overrides appendix part II

Change-Id: I597ede97201d52fe9596910889971b20fedb5dab
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/58/700058/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-policy-overrides.rst'],1,c0a13ace15347799151a246e55ea245205436c3c,review-policyd-appendix-part-II,"* `heat`_To update (or fix) the overrides simply attach a new resource file. Changes are applied immediately; there is no need to disable ('false') and re-enable ('true'). statements have been applied. In this case, the operator should either attach a fixed resource file or disable the overrides entirely. Information on broken overrides will appear in the logs for the application in question. For instance, for nova-cloud-controller: juju debug-log --replay --no-tail --include nova-cloud-controller.. _heat: https://opendev.org/openstack/charm-heat/src/branch/master/README.md#policy-overrides","statements have been applied. In this case, the operator should either re-attach the fixed resource file or disable the overrides entirely. .. note:: When updating (or fixing) an enabled override it first must be disabled (""false"") and then re-enabled (""true""). The new resource file can be attached either before or after disabling. Information on broken overrides will appear in the Juju unit agent logs. For instance: juju debug-log --replay --no-tail --include unit-nova-cloud-controller-0",11,11
openstack%2Ftripleo-common~master~Iafecc885abac5583c07bc046bc4d541f5e1e1c00,openstack/tripleo-common,master,Iafecc885abac5583c07bc046bc4d541f5e1e1c00,Ensure blacklisted nodes are not included in server_names,MERGED,2019-12-17 07:42:57.000000000,2019-12-20 09:45:16.000000000,2019-12-20 09:02:33.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-17 07:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eeeacb28a080beb77506116219f6e972b35c3a80', 'message': ""Ensure blacklisted nodes are not included in server_names\n\n'ServerIdData' map actually returns 'None' ids for blacklisted\nnodes for a role, as 'nova_server_resource' output is\nevaluated with condition 'server_not_blacklisted'. This\nresults in get_server_names() returning these blacklisted\nnodes with something like 'None: compute-1' and results\nin issues when we write ansible_host_vars. As we don't intend to\nwrite ansible_host_vars for blacklisted nodes, we can ignore\nthese from 'server_names'.\n\nCloses-bug: #1856661\nPlease enter the commit message for your changes. Lines starting\n\nChange-Id: Iafecc885abac5583c07bc046bc4d541f5e1e1c00\n""}, {'number': 2, 'created': '2019-12-17 13:44:05.000000000', 'files': ['tripleo_common/utils/config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d407c96d17020a15395ba4f6537e03e596caedaa', 'message': ""Ensure blacklisted nodes are not included in server_names\n\n'ServerIdData' map actually returns 'None' ids for blacklisted\nnodes for a role, as 'nova_server_resource' output is\nevaluated with condition 'server_not_blacklisted'. This\nresults in get_server_names() returning these blacklisted\nnodes with something like 'None: compute-1' and results\nin issues when we write ansible_host_vars. As we don't intend to\nwrite ansible_host_vars for blacklisted nodes, we can ignore\nthese from 'server_names'.\n\nCloses-bug: #1856661\nChange-Id: Iafecc885abac5583c07bc046bc4d541f5e1e1c00\n""}]",2,699359,d407c96d17020a15395ba4f6537e03e596caedaa,24,5,2,8833,,,0,"Ensure blacklisted nodes are not included in server_names

'ServerIdData' map actually returns 'None' ids for blacklisted
nodes for a role, as 'nova_server_resource' output is
evaluated with condition 'server_not_blacklisted'. This
results in get_server_names() returning these blacklisted
nodes with something like 'None: compute-1' and results
in issues when we write ansible_host_vars. As we don't intend to
write ansible_host_vars for blacklisted nodes, we can ignore
these from 'server_names'.

Closes-bug: #1856661
Change-Id: Iafecc885abac5583c07bc046bc4d541f5e1e1c00
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/59/699359/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/config.py'],1,eeeacb28a080beb77506116219f6e972b35c3a80,, if server_id is not None: servers[server_id] = name.lower(), servers[server_id] = name.lower(),2,1
openstack%2Fcharm-nova-cloud-controller~master~Ia935798994e24910ad23aca24cd777aa21d35561,openstack/charm-nova-cloud-controller,master,Ia935798994e24910ad23aca24cd777aa21d35561,"Revert ""Disable Apache default ports""",MERGED,2019-12-20 02:05:22.000000000,2019-12-20 09:44:42.000000000,2019-12-20 09:44:42.000000000,"[{'_account_id': 935}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-20 02:05:22.000000000', 'files': ['unit_tests/test_nova_cc_utils.py', 'templates/ports.conf', 'hooks/nova_cc_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/9ad9a8423af2ba3f0bc7bb030401b31dfb57548c', 'message': 'Revert ""Disable Apache default ports""\n\nThis reverts commit 0bf9812bc1bd2fe26d23a49ac972c9fbbc03edcd.\n\nChange-Id: Ia935798994e24910ad23aca24cd777aa21d35561\n'}]",0,700094,9ad9a8423af2ba3f0bc7bb030401b31dfb57548c,7,4,1,17097,,,0,"Revert ""Disable Apache default ports""

This reverts commit 0bf9812bc1bd2fe26d23a49ac972c9fbbc03edcd.

Change-Id: Ia935798994e24910ad23aca24cd777aa21d35561
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/94/700094/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_utils.py', 'templates/ports.conf', 'hooks/nova_cc_utils.py']",3,9ad9a8423af2ba3f0bc7bb030401b31dfb57548c,bug/1845665,,"APACHE_PORTS_CONF = '/etc/apache2/ports.conf' (APACHE_PORTS_CONF, { 'contexts': [], 'services': ['apache2'], }),",1,11
openstack%2Fcharm-swift-proxy~master~Iebd50c664273ed7178e3ec590c30eee66760b9df,openstack/charm-swift-proxy,master,Iebd50c664273ed7178e3ec590c30eee66760b9df,"Revert ""Disable Apache default ports""",MERGED,2019-12-20 02:05:18.000000000,2019-12-20 09:43:38.000000000,2019-12-20 09:43:38.000000000,"[{'_account_id': 935}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-20 02:05:18.000000000', 'files': ['lib/swift_utils.py', 'templates/ports.conf'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/f7a3670d87a2bd1ac8db10c9633c8e2e4873657e', 'message': 'Revert ""Disable Apache default ports""\n\nThis reverts commit 235ef232df3f67d0d091800510df81f05f5c0198.\n\nChange-Id: Iebd50c664273ed7178e3ec590c30eee66760b9df\n'}]",0,700093,f7a3670d87a2bd1ac8db10c9633c8e2e4873657e,7,4,1,17097,,,0,"Revert ""Disable Apache default ports""

This reverts commit 235ef232df3f67d0d091800510df81f05f5c0198.

Change-Id: Iebd50c664273ed7178e3ec590c30eee66760b9df
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/93/700093/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/swift_utils.py', 'templates/ports.conf']",2,f7a3670d87a2bd1ac8db10c9633c8e2e4873657e,bug/1845665,,#File written by Juju: leave default ports closed (see LP 1845665). ,0,6
openstack%2Fcharm-keystone~master~I48496e7d9649b3d7d68cc2c992332e018da263b9,openstack/charm-keystone,master,I48496e7d9649b3d7d68cc2c992332e018da263b9,"Revert ""Disable Apache default ports""",MERGED,2019-12-20 02:05:25.000000000,2019-12-20 09:42:05.000000000,2019-12-20 09:42:05.000000000,"[{'_account_id': 935}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-20 02:05:25.000000000', 'files': ['hooks/keystone_utils.py', 'templates/ports.conf'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/057a3ad7b2a18f43a8052fb4ecb2b5704e3d1790', 'message': 'Revert ""Disable Apache default ports""\n\nThis reverts commit 25562b842e0f67101c5e901090857b3f06cc4cbe.\n\nChange-Id: I48496e7d9649b3d7d68cc2c992332e018da263b9\n'}]",0,700095,057a3ad7b2a18f43a8052fb4ecb2b5704e3d1790,7,4,1,17097,,,0,"Revert ""Disable Apache default ports""

This reverts commit 25562b842e0f67101c5e901090857b3f06cc4cbe.

Change-Id: I48496e7d9649b3d7d68cc2c992332e018da263b9
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/95/700095/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/keystone_utils.py', 'templates/ports.conf']",2,057a3ad7b2a18f43a8052fb4ecb2b5704e3d1790,bug/1845665,,#File written by Juju: leave default ports closed (see LP 1845665). ,0,6
openstack%2Fcharm-glance~master~I842a67a7e167036ddd7fd529b35ef5d5c03f7c53,openstack/charm-glance,master,I842a67a7e167036ddd7fd529b35ef5d5c03f7c53,"Revert ""Disable Apache default ports""",MERGED,2019-12-20 02:05:33.000000000,2019-12-20 09:40:34.000000000,2019-12-20 09:40:34.000000000,"[{'_account_id': 935}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-20 02:05:33.000000000', 'files': ['hooks/glance_utils.py', 'templates/ports.conf', 'unit_tests/test_glance_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/bcadb3f450e19d51b49ebf4c3bd691ff8aeb38b1', 'message': 'Revert ""Disable Apache default ports""\n\nThis reverts commit dcd9a269dc95c504983935a16372db4e7a021426.\n\nChange-Id: I842a67a7e167036ddd7fd529b35ef5d5c03f7c53\n'}]",0,700097,bcadb3f450e19d51b49ebf4c3bd691ff8aeb38b1,7,4,1,17097,,,0,"Revert ""Disable Apache default ports""

This reverts commit dcd9a269dc95c504983935a16372db4e7a021426.

Change-Id: I842a67a7e167036ddd7fd529b35ef5d5c03f7c53
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/97/700097/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/glance_utils.py', 'templates/ports.conf', 'unit_tests/test_glance_utils.py']",3,bcadb3f450e19d51b49ebf4c3bd691ff8aeb38b1,bug/1845665,," (utils.APACHE_PORTS_CONF, ['apache2']), (utils.APACHE_PORTS_CONF, ['apache2']), (utils.APACHE_PORTS_CONF, ['apache2']),",1,10
openstack%2Fcharm-cinder~master~I28a3634eb1d980c16aea804e11eb1bbc0c88beec,openstack/charm-cinder,master,I28a3634eb1d980c16aea804e11eb1bbc0c88beec,"Revert ""Disable Apache default ports""",MERGED,2019-12-20 02:05:28.000000000,2019-12-20 09:40:12.000000000,2019-12-20 09:40:12.000000000,"[{'_account_id': 935}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-20 02:05:28.000000000', 'files': ['templates/ports.conf', 'hooks/cinder_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/ebcbb5bc90a1d59a83994bcba873f2ef6230fc75', 'message': 'Revert ""Disable Apache default ports""\n\nThis reverts commit 2b251b093f839c1b44c79d5427801359c3d704ff.\n\nChange-Id: I28a3634eb1d980c16aea804e11eb1bbc0c88beec\n'}]",0,700096,ebcbb5bc90a1d59a83994bcba873f2ef6230fc75,7,4,1,17097,,,0,"Revert ""Disable Apache default ports""

This reverts commit 2b251b093f839c1b44c79d5427801359c3d704ff.

Change-Id: I28a3634eb1d980c16aea804e11eb1bbc0c88beec
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/96/700096/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ports.conf', 'hooks/cinder_utils.py']",2,ebcbb5bc90a1d59a83994bcba873f2ef6230fc75,bug/1845665,,"APACHE_PORTS_CONF = '/etc/apache2/ports.conf' (APACHE_PORTS_CONF, { 'contexts': [], 'services': ['apache2'], }),",0,6
openstack%2Frequirements~master~I90ac12fea5303a4d1fe148109127d6b7550f9413,openstack/requirements,master,I90ac12fea5303a4d1fe148109127d6b7550f9413,update constraint for ceilometermiddleware to new release 2.0.0,MERGED,2019-12-13 10:06:37.000000000,2019-12-20 09:32:02.000000000,2019-12-20 09:30:11.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-13 10:06:37.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a0306f1d46d2e0c05fc534014a485ec9494d4438', 'message': 'update constraint for ceilometermiddleware to new release 2.0.0\n\nChange-Id: I90ac12fea5303a4d1fe148109127d6b7550f9413\nmeta:version: 2.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: Ib64198b265519397a51b3403aef384cf4816a898\nmeta:release:Code-Review+1: zhurong <aaronzhu1121@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,698859,a0306f1d46d2e0c05fc534014a485ec9494d4438,34,2,1,11131,,,0,"update constraint for ceilometermiddleware to new release 2.0.0

Change-Id: I90ac12fea5303a4d1fe148109127d6b7550f9413
meta:version: 2.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: Ib64198b265519397a51b3403aef384cf4816a898
meta:release:Code-Review+1: zhurong <aaronzhu1121@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/698859/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a0306f1d46d2e0c05fc534014a485ec9494d4438,new-release,ceilometermiddleware===2.0.0,ceilometermiddleware===1.5.0,1,1
openstack%2Fkolla~master~I57e725b44efe16a9f2f3900c6e14eb84aac37c32,openstack/kolla,master,I57e725b44efe16a9f2f3900c6e14eb84aac37c32,"Revert ""Add AArch64 publisher for Debian/source""",MERGED,2019-12-20 07:55:49.000000000,2019-12-20 09:23:03.000000000,2019-12-20 09:20:44.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-12-20 07:55:49.000000000', 'files': ['.zuul.d/debian.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/fba81eb0a010b3d2d3ee51bde47b10056be6e468', 'message': 'Revert ""Add AArch64 publisher for Debian/source""\n\nThis reverts commit 61fed77d79c8242c64772df5d409fdaffdc3a150.\n\nImages overwrite x86-64 ones.\n\nWe need to solve it better.\n\nChange-Id: I57e725b44efe16a9f2f3900c6e14eb84aac37c32\n'}]",0,700119,fba81eb0a010b3d2d3ee51bde47b10056be6e468,9,5,1,24072,,,0,"Revert ""Add AArch64 publisher for Debian/source""

This reverts commit 61fed77d79c8242c64772df5d409fdaffdc3a150.

Images overwrite x86-64 ones.

We need to solve it better.

Change-Id: I57e725b44efe16a9f2f3900c6e14eb84aac37c32
",git fetch https://review.opendev.org/openstack/kolla refs/changes/19/700119/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/debian.yaml'],1,fba81eb0a010b3d2d3ee51bde47b10056be6e468,,, - kolla-publish-debian-source-aarch64 - kolla-publish-debian-source-aarch64 - job: name: kolla-publish-debian-source-aarch64 parent: kolla-publish-debian-source nodeset: kolla-debian-buster-aarch64,0,7
openstack%2Fkolla-ansible~master~I82266829dba47eac81f440a53706c2e9064b8e62,openstack/kolla-ansible,master,I82266829dba47eac81f440a53706c2e9064b8e62,CI: Test Swift,MERGED,2019-11-27 17:16:40.000000000,2019-12-20 09:22:04.000000000,2019-12-20 09:19:18.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-27 17:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/90763a8e5983c57cbda81cfb4a50f51b0f4b6930', 'message': 'CI: Test Swift\n\nChange-Id: I82266829dba47eac81f440a53706c2e9064b8e62\n'}, {'number': 2, 'created': '2019-11-27 17:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8211b96d4a7b12a1562b234d64b7d17b43945ce8', 'message': 'CI: Test Swift\n\nChange-Id: I82266829dba47eac81f440a53706c2e9064b8e62\n'}, {'number': 3, 'created': '2019-11-27 19:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0a3372ea118a5b598d5e3b7ea48f1395327ea8bf', 'message': 'CI: Test Swift\n\nChange-Id: I82266829dba47eac81f440a53706c2e9064b8e62\n'}, {'number': 4, 'created': '2019-11-27 19:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bbcb74439bd280feed844e19dda7b7cd05261a62', 'message': 'CI: Test Swift\n\nChange-Id: I82266829dba47eac81f440a53706c2e9064b8e62\n'}, {'number': 5, 'created': '2019-11-27 19:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6c1fa236e65a798c958a9135e289196406c689d7', 'message': 'CI: Test Swift\n\nChange-Id: I82266829dba47eac81f440a53706c2e9064b8e62\n'}, {'number': 6, 'created': '2019-11-27 20:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cca5235fd98dd1bc4df6d80696085ae4dfc8f4c6', 'message': 'CI: Test Swift\n\nChange-Id: I82266829dba47eac81f440a53706c2e9064b8e62\n'}, {'number': 7, 'created': '2019-11-28 08:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5a5a1b21e89931540bd4b842c17fea21511a3d2d', 'message': 'CI: Test Swift\n\nChange-Id: I82266829dba47eac81f440a53706c2e9064b8e62\n'}, {'number': 8, 'created': '2019-11-28 09:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f212f08a4c4e79d4cace24a164a4deaa7f9b9049', 'message': 'CI: Test Swift\n\nChange-Id: I82266829dba47eac81f440a53706c2e9064b8e62\n'}, {'number': 9, 'created': '2019-11-28 09:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ef411d38f67afee79f07121af545e3f51dfefccd', 'message': 'CI: Test Swift\n\nChange-Id: I82266829dba47eac81f440a53706c2e9064b8e62\n'}, {'number': 10, 'created': '2019-11-28 10:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aa3bb84e4f1feefd6f2002952951e26fd6884aed', 'message': 'CI: Test Swift\n\nChange-Id: I82266829dba47eac81f440a53706c2e9064b8e62\n'}, {'number': 11, 'created': '2019-11-28 10:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4eb49cd477add0c728688040a4ff1fe800a25b1b', 'message': 'CI: Test Swift\n\nChange-Id: I82266829dba47eac81f440a53706c2e9064b8e62\n'}, {'number': 12, 'created': '2019-11-28 16:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/42a36cc73589812cb70bc0237fa9785fef13cbd4', 'message': 'CI: Test Swift\n\nChange-Id: I82266829dba47eac81f440a53706c2e9064b8e62\n'}, {'number': 13, 'created': '2019-11-28 17:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/305d4d9bfed9b6f2bbf380541a188761e4080657', 'message': 'CI: Test Swift\n\nChange-Id: I82266829dba47eac81f440a53706c2e9064b8e62\n'}, {'number': 14, 'created': '2019-11-29 07:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d18a584ed252590cf36aaa49632bdf8cb7348297', 'message': 'CI: Test Swift\n\nChange-Id: I82266829dba47eac81f440a53706c2e9064b8e62\n'}, {'number': 15, 'created': '2019-11-29 12:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/319ca8b600aa96f383dd10b3da59b8ce262b4a66', 'message': 'CI: Test Swift\n\nChange-Id: I82266829dba47eac81f440a53706c2e9064b8e62\n'}, {'number': 16, 'created': '2019-11-29 19:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/24d357d3078c17821d6f19fa2172a643d4b33b0c', 'message': 'CI: Test Swift\n\nDepends-on: https://review.opendev.org/696757\nChange-Id: I82266829dba47eac81f440a53706c2e9064b8e62\n'}, {'number': 17, 'created': '2019-11-30 17:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2ed9b70768d9bee4392a4c44254aebb82e17e1b4', 'message': 'CI: Test Swift\n\nDepends-on: https://review.opendev.org/696757\nChange-Id: I82266829dba47eac81f440a53706c2e9064b8e62\n'}, {'number': 18, 'created': '2019-11-30 19:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/785d99d6de506fb4d881a69ee288b292a3807a66', 'message': 'CI: Test Swift\n\nDepends-on: https://review.opendev.org/696757\nChange-Id: I82266829dba47eac81f440a53706c2e9064b8e62\n'}, {'number': 19, 'created': '2019-12-01 08:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/224fa73734050e680bd4478bdf1887f0bad3e1a4', 'message': 'CI: Test Swift\n\nDepends-on: https://review.opendev.org/696757\nChange-Id: I82266829dba47eac81f440a53706c2e9064b8e62\n'}, {'number': 20, 'created': '2019-12-08 14:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7d0d20ec173063fbbcc329379fdd97fe262c6cc2', 'message': 'CI: Test Swift\n\nChange-Id: I82266829dba47eac81f440a53706c2e9064b8e62\n'}, {'number': 21, 'created': '2019-12-09 08:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/99c1361de60aa460c05f0733f99ad4f8c4f6e110', 'message': 'CI: Test Swift\n\nPartially-implements: blueprint scenario-testing\nChange-Id: I82266829dba47eac81f440a53706c2e9064b8e62\n'}, {'number': 22, 'created': '2019-12-09 08:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a5acb2b895f4e2ef6dab121045b5d6c63239e283', 'message': 'CI: Test Swift\n\nPartially-implements: blueprint kolla-deployment-scenario-testing\nChange-Id: I82266829dba47eac81f440a53706c2e9064b8e62\n'}, {'number': 23, 'created': '2019-12-10 13:19:17.000000000', 'files': ['tests/test-swift.sh', 'tests/init-swift.sh', 'tests/run.yml', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'tests/setup_disks.sh', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7714ea724f7608d9512bca09107ce83e69f2f187', 'message': 'CI: Test Swift\n\nPartially-implements: blueprint kolla-deployment-scenario-testing\nChange-Id: I82266829dba47eac81f440a53706c2e9064b8e62\n'}]",6,696364,7714ea724f7608d9512bca09107ce83e69f2f187,65,5,23,30491,,,0,"CI: Test Swift

Partially-implements: blueprint kolla-deployment-scenario-testing
Change-Id: I82266829dba47eac81f440a53706c2e9064b8e62
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/64/696364/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run.yml', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'tests/setup_disks.sh', 'zuul.d/jobs.yaml']",6,90763a8e5983c57cbda81cfb4a50f51b0f4b6930,kolla-deployment-scenario-testing, name: kolla-ansible-centos-source-swift parent: kolla-ansible-swift-base nodeset: kolla-ansible-centos-multi vars: base_distro: centos install_type: source - job: name: kolla-ansible-ubuntu-source-swift parent: kolla-ansible-swift-base nodeset: kolla-ansible-bionic-multi vars: base_distro: ubuntu install_type: source - job:,,50,7
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If189eb6fc0b2dc2c78323a7c08f7e303be2b6124,openstack/tripleo-heat-templates,stable/train,If189eb6fc0b2dc2c78323a7c08f7e303be2b6124,Relax filtering in krb-service-principals jinja,MERGED,2019-12-06 01:32:08.000000000,2019-12-20 09:02:53.000000000,2019-12-20 09:01:27.000000000,"[{'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-12-06 01:32:08.000000000', 'files': ['extraconfig/nova_metadata/krb-service-principals/role.role.j2.yaml', 'releasenotes/notes/fix-krb-service-principals-do-not-filter-on-vip-in-jinja-c8f996ffed94d3cd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cfe728a51bdcb534a99bb3d4ad6759b9c51d247b', 'message': 'Relax filtering in krb-service-principals jinja\n\nThe filtering added to fix Bug: #1821377 filters any\nnetwork without a VIP address. This filtering is to\nagressive and cause deployment failure when a management\nnetwork without a VIP is used.\n\nChange-Id: If189eb6fc0b2dc2c78323a7c08f7e303be2b6124\nResolves: rhbz#1778719\nCloses-Bug: #1854846\n(cherry picked from commit af79ae34ad9a3ed1581c0f6df91fa1e3ef0f8433)\n'}]",0,697597,cfe728a51bdcb534a99bb3d4ad6759b9c51d247b,25,5,1,24245,,,0,"Relax filtering in krb-service-principals jinja

The filtering added to fix Bug: #1821377 filters any
network without a VIP address. This filtering is to
agressive and cause deployment failure when a management
network without a VIP is used.

Change-Id: If189eb6fc0b2dc2c78323a7c08f7e303be2b6124
Resolves: rhbz#1778719
Closes-Bug: #1854846
(cherry picked from commit af79ae34ad9a3ed1581c0f6df91fa1e3ef0f8433)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/697597/1 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/nova_metadata/krb-service-principals/role.role.j2.yaml', 'releasenotes/notes/fix-krb-service-principals-do-not-filter-on-vip-in-jinja-c8f996ffed94d3cd.yaml']",2,cfe728a51bdcb534a99bb3d4ad6759b9c51d247b,bug/1854846-stable/train,"--- fixes: - | Fixes an issue where filtering of networks for kerberos service principals was too aggressive, causing deployment failure. See bug `1854846 <https://bugs.launchpad.net/tripleo/+bug/1854846>`_. ",,8,1
openstack%2Finstack-undercloud~stable%2Fqueens~Ieed37e6acbc24e0cf906986c2b751db986961445,openstack/instack-undercloud,stable/queens,Ieed37e6acbc24e0cf906986c2b751db986961445,Fix spec helper,MERGED,2019-12-19 20:51:22.000000000,2019-12-20 09:02:34.000000000,2019-12-20 09:02:34.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-19 20:51:22.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/16ee00029840d9e29b763f40470a2a1813f74745', 'message': 'Fix spec helper\n\nWe should be using the stable/queens version for this branch.\n\nChange-Id: Ieed37e6acbc24e0cf906986c2b751db986961445\n'}]",0,700067,16ee00029840d9e29b763f40470a2a1813f74745,11,4,1,14985,,,0,"Fix spec helper

We should be using the stable/queens version for this branch.

Change-Id: Ieed37e6acbc24e0cf906986c2b751db986961445
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/67/700067/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,16ee00029840d9e29b763f40470a2a1813f74745,," :branch => 'stable/queens',"," :branch => 'master',",1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If6da4aff016db9a72e1cb9dfc9731f06e062f64d,openstack/tripleo-heat-templates,stable/train,If6da4aff016db9a72e1cb9dfc9731f06e062f64d,Increase rabbitmq tcp backlog,MERGED,2019-12-17 16:48:47.000000000,2019-12-20 09:00:24.000000000,2019-12-20 09:00:24.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-17 16:48:47.000000000', 'files': ['deployment/rabbitmq/rabbitmq-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/24e723475c409b565307261d1b3a2248edb404b5', 'message': ""Increase rabbitmq tcp backlog\n\nFrom https://bugzilla.redhat.com/show_bug.cgi?id=1778428\n\nWe need to tune the default rabbitmq tcp listen backlog.  Currently it defaults\nto 128, but here's what happens:\nSay we have 1500 total rabbitmq client connections spread across a 3 node\ncluster, evenly distributed so each node has 500 clients.\n\nThen, we stop rabbitmq on one of the nodes.\n\nNow those 500 client connections all immediately fail over to the other two\nnode.  Assume roughly even split, and each gets 250 connections simultaneously.\nSince the tcp listen backlog is only 128, a large number of the failover\nconnections cannot connect and get ECONNREFUSED because the kernel just drops\nthem.\n\nEventually things retry and the backlog clears, but it just makes things noisy\nin the logs and makes failover take a little bit longer.\n\nUpstream docs discuss here:\nhttps://www.rabbitmq.com/networking.html#tuning-for-large-number-of-connections-connection-backlog\n\nSuggested-By: John Eckersberg <jeckersb@redhat.com>\nCloses-Bug: #1854704\n\nChange-Id: If6da4aff016db9a72e1cb9dfc9731f06e062f64d\n(cherry picked from commit 9f4832fcc4d939da3d4e7f83e26c4f934bff7dc0)\n""}]",0,699462,24e723475c409b565307261d1b3a2248edb404b5,22,5,1,20172,,,0,"Increase rabbitmq tcp backlog

From https://bugzilla.redhat.com/show_bug.cgi?id=1778428

We need to tune the default rabbitmq tcp listen backlog.  Currently it defaults
to 128, but here's what happens:
Say we have 1500 total rabbitmq client connections spread across a 3 node
cluster, evenly distributed so each node has 500 clients.

Then, we stop rabbitmq on one of the nodes.

Now those 500 client connections all immediately fail over to the other two
node.  Assume roughly even split, and each gets 250 connections simultaneously.
Since the tcp listen backlog is only 128, a large number of the failover
connections cannot connect and get ECONNREFUSED because the kernel just drops
them.

Eventually things retry and the backlog clears, but it just makes things noisy
in the logs and makes failover take a little bit longer.

Upstream docs discuss here:
https://www.rabbitmq.com/networking.html#tuning-for-large-number-of-connections-connection-backlog

Suggested-By: John Eckersberg <jeckersb@redhat.com>
Closes-Bug: #1854704

Change-Id: If6da4aff016db9a72e1cb9dfc9731f06e062f64d
(cherry picked from commit 9f4832fcc4d939da3d4e7f83e26c4f934bff7dc0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/699462/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/rabbitmq/rabbitmq-container-puppet.yaml'],1,24e723475c409b565307261d1b3a2248edb404b5,backlog-stable/train, rabbitmq::tcp_backlog: 4096,,1,0
openstack%2Ftrove~stable%2Ftrain~Ied67c7c243d3f8c644708548cce71ea2aa3cf2e7,openstack/trove,stable/train,Ied67c7c243d3f8c644708548cce71ea2aa3cf2e7,Fix an error when generate root password during DB initialization,MERGED,2019-12-20 03:17:11.000000000,2019-12-20 08:58:05.000000000,2019-12-20 08:56:28.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 25254}]","[{'number': 1, 'created': '2019-12-20 03:17:11.000000000', 'files': ['trove/guestagent/common/sql_query.py', 'trove/tests/unittests/guestagent/test_dbaas.py', 'trove/tests/unittests/guestagent/test_query.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/83ab7910015c299c486249db1d51fb41c7cd1452', 'message': ""Fix an error when generate root password during DB initialization\n\nThis issue was occurring with percona database (v5.6).\n\nError logs:\n`An error occurred preparing datastore: (pymysql.err.InternalError)\n (1372, 'Password hash should be a 41-digit hexadecimal number'`\n\nTested with re-enable root function for both v5.6 and v5.7.\n\nChange-Id: Ied67c7c243d3f8c644708548cce71ea2aa3cf2e7\nStory: #2006546\nTask: #36629\n(cherry picked from commit e84718c7824b4567d8eb53346fc04fee94187e37)\n""}]",0,700101,83ab7910015c299c486249db1d51fb41c7cd1452,7,3,1,6732,,,0,"Fix an error when generate root password during DB initialization

This issue was occurring with percona database (v5.6).

Error logs:
`An error occurred preparing datastore: (pymysql.err.InternalError)
 (1372, 'Password hash should be a 41-digit hexadecimal number'`

Tested with re-enable root function for both v5.6 and v5.7.

Change-Id: Ied67c7c243d3f8c644708548cce71ea2aa3cf2e7
Story: #2006546
Task: #36629
(cherry picked from commit e84718c7824b4567d8eb53346fc04fee94187e37)
",git fetch https://review.opendev.org/openstack/trove refs/changes/01/700101/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/common/sql_query.py', 'trove/tests/unittests/guestagent/test_dbaas.py', 'trove/tests/unittests/guestagent/test_query.py']",3,83ab7910015c299c486249db1d51fb41c7cd1452,fix_password_mysql-stable/train," ""PASSWORD('new_password');"", str(uu))"," ""'new_password';"", str(uu))",5,5
openstack%2Fcharm-ceph-radosgw~master~Iac39529f0da1da1bfeab7980f9651c0fd89fd42b,openstack/charm-ceph-radosgw,master,Iac39529f0da1da1bfeab7980f9651c0fd89fd42b,Disable token revocation thread,ABANDONED,2019-11-22 13:54:16.000000000,2019-12-20 08:52:04.000000000,,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 28014}, {'_account_id': 30442}]","[{'number': 1, 'created': '2019-11-22 13:54:16.000000000', 'files': ['unit_tests/test_ceph_radosgw_context.py', 'hooks/ceph_radosgw_context.py', 'templates/ceph.conf', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/e88ebf5128ad4fb44347c154335d8ad09aad8e4c', 'message': 'Disable token revocation thread\n\nThis patchs disables token caching on radosgw witch is not functioning\nwell with fernet keys, thus, leading to radosgw errors.\n\nChange-Id: Iac39529f0da1da1bfeab7980f9651c0fd89fd42b\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}]",0,695687,e88ebf5128ad4fb44347c154335d8ad09aad8e4c,9,8,1,28014,,,0,"Disable token revocation thread

This patchs disables token caching on radosgw witch is not functioning
well with fernet keys, thus, leading to radosgw errors.

Change-Id: Iac39529f0da1da1bfeab7980f9651c0fd89fd42b
Signed-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/87/695687/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_ceph_radosgw_context.py', 'hooks/ceph_radosgw_context.py', 'templates/ceph.conf', 'config.yaml']",4,e88ebf5128ad4fb44347c154335d8ad09aad8e4c,disable-revocation-thread,, cache-size: type: int default: 500 description: Number of keystone tokens to hold in local cache.,2,15
openstack%2Fqinling~master~I4bc2838e293007e7bb46aff51496a554478c379e,openstack/qinling,master,I4bc2838e293007e7bb46aff51496a554478c379e,Switch to official Ussuri jobs,ABANDONED,2019-10-11 15:58:19.000000000,2019-12-20 08:51:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-10-11 15:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/b24f15f6b9871c5994775928349e4187a448872c', 'message': 'Switch to official Ussuri jobs\n\nChange-Id: I4bc2838e293007e7bb46aff51496a554478c379e\n'}, {'number': 2, 'created': '2019-12-20 08:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/dfb57b232408bb99bcdacf5754c032bc82e24cb7', 'message': 'Switch to official Ussuri jobs\n\nChange-Id: I4bc2838e293007e7bb46aff51496a554478c379e\n'}]",0,688156,dfb57b232408bb99bcdacf5754c032bc82e24cb7,5,2,2,22165,,,0,"Switch to official Ussuri jobs

Change-Id: I4bc2838e293007e7bb46aff51496a554478c379e
",git fetch https://review.opendev.org/openstack/qinling refs/changes/56/688156/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b24f15f6b9871c5994775928349e4187a448872c,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Foslo.privsep~master~If7d076a6f1f4e79846619e21cc9cda61c319d5e5,openstack/oslo.privsep,master,If7d076a6f1f4e79846619e21cc9cda61c319d5e5,"Use assertIsNone instead of assertEqual(None, ***)",ABANDONED,2017-06-07 00:50:54.000000000,2019-12-20 08:50:46.000000000,,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25720}, {'_account_id': 25903}, {'_account_id': 28522}]","[{'number': 1, 'created': '2017-06-07 00:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/a5d0609d1ba29c8d3d8396b656c8031e692c00e7', 'message': 'Use assertIsNone instead of assertEqual(None, ***)\n\nFollowing OpenStack Style Guidelines: [1]\nUnit test assertions tend to give better messages for more\nspecific assertions. As a result, assertIsNone(xxx) is\npreferred over assertEqual(None, xxx) and assertIs(xxx, None)\n\n[1] http://docs.openstack.org/developer/hacking/#unit-tests-and-assertraises\n\nChange-Id: If7d076a6f1f4e79846619e21cc9cda61c319d5e5\n'}, {'number': 2, 'created': '2019-12-18 11:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/554bbb59e4bce24aa7db4f4ed6548fb78e089c33', 'message': 'Use assertIsNone instead of assertEqual(None, ***)\n\nFollowing OpenStack Style Guidelines: [1]\nUnit test assertions tend to give better messages for more\nspecific assertions. As a result, assertIsNone(xxx) is\npreferred over assertEqual(None, xxx) and assertIs(xxx, None)\n\n[1] http://docs.openstack.org/developer/hacking/#unit-tests-and-assertraises\n\nChange-Id: If7d076a6f1f4e79846619e21cc9cda61c319d5e5\n'}]",0,471521,554bbb59e4bce24aa7db4f4ed6548fb78e089c33,11,7,2,25073,,,0,"Use assertIsNone instead of assertEqual(None, ***)

Following OpenStack Style Guidelines: [1]
Unit test assertions tend to give better messages for more
specific assertions. As a result, assertIsNone(xxx) is
preferred over assertEqual(None, xxx) and assertIs(xxx, None)

[1] http://docs.openstack.org/developer/hacking/#unit-tests-and-assertraises

Change-Id: If7d076a6f1f4e79846619e21cc9cda61c319d5e5
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/21/471521/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_privsep/tests/test_daemon.py'],1,a5d0609d1ba29c8d3d8396b656c8031e692c00e7,assertEqual, self.assertIsNone(record.exc_info)," self.assertEqual(None, record.exc_info)",1,1
openstack%2Fheat~master~I47683ab1313981a8202afe6b3fe1779d40340452,openstack/heat,master,I47683ab1313981a8202afe6b3fe1779d40340452,tox: Keeping going with docs,MERGED,2019-10-24 11:34:22.000000000,2019-12-20 08:47:54.000000000,2019-12-20 05:26:43.000000000,"[{'_account_id': 4257}, {'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-10-24 11:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e522e9552496836a39444eb81ba69a61e358f351', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I47683ab1313981a8202afe6b3fe1779d40340452\n""}, {'number': 2, 'created': '2019-10-24 11:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b30244e080ab1c301ab4544b430f6ae13dc323f5', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I47683ab1313981a8202afe6b3fe1779d40340452\n""}, {'number': 3, 'created': '2019-11-01 03:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/05190b36d999e20d5cc9cbdf62d9a3a29962a74b', 'message': ""tox: Keeping going with docs\n\n1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n2. Add whitelist_externals to fix the warning\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I47683ab1313981a8202afe6b3fe1779d40340452\n""}, {'number': 4, 'created': '2019-11-01 03:31:03.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/eb10545b372a936aa551acf03eebd250318aa3a5', 'message': ""tox: Keeping going with docs\n\n1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n2. Add whitelist_externals to fix the warning\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I47683ab1313981a8202afe6b3fe1779d40340452\n""}]",2,690926,eb10545b372a936aa551acf03eebd250318aa3a5,28,7,4,22165,,,0,"tox: Keeping going with docs

1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

2. Add whitelist_externals to fix the warning

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I47683ab1313981a8202afe6b3fe1779d40340452
",git fetch https://review.opendev.org/openstack/heat refs/changes/26/690926/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,e522e9552496836a39444eb81ba69a61e358f351,, sphinx-build -W --keep-going -b html doc/source doc/build/html sphinx-build -W --keep-going -b html -d api-ref/build/doctrees api-ref/source api-ref/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -W -b html doc/source doc/build/html sphinx-build -W -b html -d api-ref/build/doctrees api-ref/source api-ref/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,5,5
openstack%2Fkolla~master~Ie0b39743e2dbfaac55a6467ca98fb2f5a53a49e9,openstack/kolla,master,Ie0b39743e2dbfaac55a6467ca98fb2f5a53a49e9,Add AArch64 publisher for Debian/source,MERGED,2019-12-17 20:48:25.000000000,2019-12-20 07:55:49.000000000,2019-12-19 18:21:49.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-12-17 20:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/73852d54d404ca927bb784ff2c21bbcd702c62ba', 'message': 'Add AArch64 publisher for Debian/source\n\nWe want to have AArch64 in kolla-ansible CI. But building images each\ntime takes time. So let build them once, publish and re-use.\n\nChange-Id: Ie0b39743e2dbfaac55a6467ca98fb2f5a53a49e9\n'}, {'number': 2, 'created': '2019-12-19 08:32:20.000000000', 'files': ['.zuul.d/debian.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/61fed77d79c8242c64772df5d409fdaffdc3a150', 'message': 'Add AArch64 publisher for Debian/source\n\nWe want to have AArch64 in kolla-ansible CI. But building images each\ntime takes time. So let build them once, publish and re-use.\n\nChange-Id: Ie0b39743e2dbfaac55a6467ca98fb2f5a53a49e9\n'}]",1,699497,61fed77d79c8242c64772df5d409fdaffdc3a150,18,4,2,24072,,,0,"Add AArch64 publisher for Debian/source

We want to have AArch64 in kolla-ansible CI. But building images each
time takes time. So let build them once, publish and re-use.

Change-Id: Ie0b39743e2dbfaac55a6467ca98fb2f5a53a49e9
",git fetch https://review.opendev.org/openstack/kolla refs/changes/97/699497/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/debian.yaml'],1,73852d54d404ca927bb784ff2c21bbcd702c62ba,, - kolla-publish-debian-source-aarch64 - job: name: kolla-publish-debian-source-aarch64 parent: kolla-publish-debian-source nodeset: kolla-debian-buster-aarch64,,6,0
openstack%2Fpython-aodhclient~master~Id7784670604631d1fb702d2a33cfe91aa4d10987,openstack/python-aodhclient,master,Id7784670604631d1fb702d2a33cfe91aa4d10987,tox: Keeping going with docs,MERGED,2019-10-24 12:24:36.000000000,2019-12-20 07:07:21.000000000,2019-12-20 07:05:55.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-24 12:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/5fcc15e98399f95392075f22e5b1a0b023202594', 'message': 'tox: Keeping going with docs\n\nChange-Id: Id7784670604631d1fb702d2a33cfe91aa4d10987\n'}, {'number': 2, 'created': '2019-10-24 12:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/33f00de0d0760142b6af12174d2866b2cda31e71', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Id7784670604631d1fb702d2a33cfe91aa4d10987\n""}, {'number': 3, 'created': '2019-12-20 05:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/654b7c8c5c67bd142323f85142a959dc6814ead0', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Id7784670604631d1fb702d2a33cfe91aa4d10987\n""}, {'number': 4, 'created': '2019-12-20 05:41:12.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/b5ca8f90135a404e4183e9a08e717abb8bd7e2c1', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Id7784670604631d1fb702d2a33cfe91aa4d10987\n""}]",0,690947,b5ca8f90135a404e4183e9a08e717abb8bd7e2c1,11,2,4,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: Id7784670604631d1fb702d2a33cfe91aa4d10987
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/47/690947/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,5fcc15e98399f95392075f22e5b1a0b023202594,,commands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html sphinx-build -W --keep-going -b html doc/source doc/build/html,commands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html sphinx-build -W -b html doc/source doc/build/html,4,4
openstack%2Fnova~master~If6e1acb0efe1d7bac460deff2d9572ef7170f79d,openstack/nova,master,If6e1acb0efe1d7bac460deff2d9572ef7170f79d,Refresh target cell instance after finish_snapshot_based_resize_at_dest,MERGED,2019-12-12 19:07:41.000000000,2019-12-20 06:50:08.000000000,2019-12-20 06:41:41.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-12 19:07:41.000000000', 'files': ['nova/tests/unit/conductor/tasks/test_cross_cell_migrate.py', 'nova/conductor/tasks/cross_cell_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/85a1ac12e7da55311469409f5d384d642196cb18', 'message': 'Refresh target cell instance after finish_snapshot_based_resize_at_dest\n\nFinishResizeAtDestTask needs to refresh its local copy of the target\ncell instance after finish_snapshot_based_resize_at_dest to make sure\nit has the latest copy of the instance before updating it in\n_update_instance_mapping otherwise if the instance is dirty conductor\ncould overwrite fields set by the compute, like the flavor.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6e1acb0efe1d7bac460deff2d9572ef7170f79d\n'}]",2,698787,85a1ac12e7da55311469409f5d384d642196cb18,42,12,1,6873,,,0,"Refresh target cell instance after finish_snapshot_based_resize_at_dest

FinishResizeAtDestTask needs to refresh its local copy of the target
cell instance after finish_snapshot_based_resize_at_dest to make sure
it has the latest copy of the instance before updating it in
_update_instance_mapping otherwise if the instance is dirty conductor
could overwrite fields set by the compute, like the flavor.

Part of blueprint cross-cell-resize

Change-Id: If6e1acb0efe1d7bac460deff2d9572ef7170f79d
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/698787/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/tasks/test_cross_cell_migrate.py', 'nova/conductor/tasks/cross_cell_migrate.py']",2,85a1ac12e7da55311469409f5d384d642196cb18,bp/cross-cell-resize, # finish_snapshot_based_resize_at_dest updates the target cell # instance so we need to refresh it here to have the latest copy. self.instance.refresh(),,11,3
openstack%2Fnova~master~I89aef20eebb817822d830db178527c370e532f54,openstack/nova,master,I89aef20eebb817822d830db178527c370e532f54,Add functional cross-cell revert test with detached volume,MERGED,2019-11-21 01:10:40.000000000,2019-12-20 06:47:57.000000000,2019-12-20 06:41:34.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-21 01:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6976e24d64605392bbfbd0a499dc386767e0d4a', 'message': 'Add functional cross-cell revert test with detached volume\n\nThis implements one of the test todos where we create a server\nand attach a volume to it, resize to another cell, detach the\nvolume while the instance is in VERIFY_RESIZE status, and then\nrevert the resize and make sure the volume is still detached\nfrom the source cell after the revert.\n\nA log message is added to prep_snapshot_based_resize_at_source\nwhich was useful while debugging the new test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I89aef20eebb817822d830db178527c370e532f54\n'}, {'number': 2, 'created': '2019-11-27 00:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d7fb398cdb67090ccf3d8c0c34e5ab53cd1317e', 'message': 'Add functional cross-cell revert test with detached volume\n\nThis implements one of the test todos where we create a server\nand attach a volume to it, resize to another cell, detach the\nvolume while the instance is in VERIFY_RESIZE status, and then\nrevert the resize and make sure the volume is still detached\nfrom the source cell after the revert.\n\nA log message is added to prep_snapshot_based_resize_at_source\nwhich was useful while debugging the new test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I89aef20eebb817822d830db178527c370e532f54\n'}, {'number': 3, 'created': '2019-12-09 17:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e30a9448c52f6a0b76c5dcec8cb3ae4a8bb552e', 'message': 'Add functional cross-cell revert test with detached volume\n\nThis implements one of the test todos where we create a server\nand attach a volume to it, resize to another cell, detach the\nvolume while the instance is in VERIFY_RESIZE status, and then\nrevert the resize and make sure the volume is still detached\nfrom the source cell after the revert.\n\nA log message is added to prep_snapshot_based_resize_at_source\nwhich was useful while debugging the new test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I89aef20eebb817822d830db178527c370e532f54\n'}, {'number': 4, 'created': '2019-12-09 17:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47bd8bd37bba354720cbee1683549d3c0ab02c56', 'message': 'Add functional cross-cell revert test with detached volume\n\nThis implements one of the test todos where we create a server\nand attach a volume to it, resize to another cell, detach the\nvolume while the instance is in VERIFY_RESIZE status, and then\nrevert the resize and make sure the volume is still detached\nfrom the source cell after the revert.\n\nA log message is added to prep_snapshot_based_resize_at_source\nwhich was useful while debugging the new test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I89aef20eebb817822d830db178527c370e532f54\n'}, {'number': 5, 'created': '2019-12-12 19:07:41.000000000', 'files': ['nova/tests/functional/test_cross_cell_migrate.py', 'nova/compute/manager.py', 'nova/conductor/tasks/cross_cell_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f1ac153b036ed09055642a0fd510f016ef854e13', 'message': 'Add functional cross-cell revert test with detached volume\n\nThis implements one of the test todos where we create a server\nand attach a volume to it, resize to another cell, detach the\nvolume while the instance is in VERIFY_RESIZE status, and then\nrevert the resize and make sure the volume is still detached\nfrom the source cell after the revert.\n\nA log message is added to prep_snapshot_based_resize_at_source\nwhich was useful while debugging the new test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I89aef20eebb817822d830db178527c370e532f54\n'}]",5,695335,f1ac153b036ed09055642a0fd510f016ef854e13,96,13,5,6873,,,0,"Add functional cross-cell revert test with detached volume

This implements one of the test todos where we create a server
and attach a volume to it, resize to another cell, detach the
volume while the instance is in VERIFY_RESIZE status, and then
revert the resize and make sure the volume is still detached
from the source cell after the revert.

A log message is added to prep_snapshot_based_resize_at_source
which was useful while debugging the new test.

Part of blueprint cross-cell-resize

Change-Id: I89aef20eebb817822d830db178527c370e532f54
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/695335/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_cross_cell_migrate.py', 'nova/compute/manager.py', 'nova/conductor/tasks/cross_cell_migrate.py']",3,d6976e24d64605392bbfbd0a499dc386767e0d4a,bp/cross-cell-resize,," # TODO(mriedem): Need functional test wrinkle for this. Attach volume2 # while resized, detach volume1 while resized, and make sure those are # the same when the revert is done.",73,20
openstack%2Fheat~stable%2Ftrain~I28bfcc43b108d4d907098b2f0cf3553aab399553,openstack/heat,stable/train,I28bfcc43b108d4d907098b2f0cf3553aab399553,Don't use wrap_db_retry on subtransaction in resource_create_replacement(),MERGED,2019-10-18 15:30:01.000000000,2019-12-20 06:40:19.000000000,2019-12-20 06:37:28.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 15:30:01.000000000', 'files': ['heat/tests/db/test_sqlalchemy_api.py', 'heat/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/0abf43535d63e294f4649acff0f5e4a6e9c37275', 'message': ""Don't use wrap_db_retry on subtransaction in resource_create_replacement()\n\nThe wrap_db_retry decorator must be used outside the outermost DB\ntransaction. Using it on a subtransaction means that the main\ntransaction gets marked for rollback but not closed, leaving the session\nin the 'inactive' state.\n\nThis change ensures that the decorator is not used when we update the\nprevious resource from within a subtransaction as part of creating a\nreplacement resource, and instead the retry happens outside the main\ntransaction.\n\nChange-Id: I28bfcc43b108d4d907098b2f0cf3553aab399553\nTask: 36957\n(cherry picked from commit 2398191be91d0dd145a4183f9a025fff1aa3727e)\n""}]",0,689523,0abf43535d63e294f4649acff0f5e4a6e9c37275,16,4,1,4257,,,0,"Don't use wrap_db_retry on subtransaction in resource_create_replacement()

The wrap_db_retry decorator must be used outside the outermost DB
transaction. Using it on a subtransaction means that the main
transaction gets marked for rollback but not closed, leaving the session
in the 'inactive' state.

This change ensures that the decorator is not used when we update the
previous resource from within a subtransaction as part of creating a
replacement resource, and instead the retry happens outside the main
transaction.

Change-Id: I28bfcc43b108d4d907098b2f0cf3553aab399553
Task: 36957
(cherry picked from commit 2398191be91d0dd145a4183f9a025fff1aa3727e)
",git fetch https://review.opendev.org/openstack/heat refs/changes/23/689523/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/db/test_sqlalchemy_api.py', 'heat/db/sqlalchemy/api.py']",2,0abf43535d63e294f4649acff0f5e4a6e9c37275,," return _try_resource_update(context, resource_id, values, atomic_key, expected_engine_id) def _try_resource_update(context, resource_id, values, atomic_key, expected_engine_id=None):@oslo_db_api.wrap_db_retry(max_retries=3, retry_on_deadlock=True, retry_interval=0.5, inc_retry_interval=True) if not _try_resource_update(context, existing_res_id, update_data, atomic_key, expected_engine_id=expected_engine_id):"," if not resource_update(context, existing_res_id, update_data, atomic_key, expected_engine_id=expected_engine_id):",16,8
openstack%2Ftripleo-common~stable%2Ftrain~Id037525650c9976cd88a8ba2a02b206ec03855aa,openstack/tripleo-common,stable/train,Id037525650c9976cd88a8ba2a02b206ec03855aa,actions/ansible: catch errors when cleaning the work directory,MERGED,2019-12-17 13:20:40.000000000,2019-12-20 06:38:01.000000000,2019-12-20 06:36:21.000000000,"[{'_account_id': 3153}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-17 13:20:40.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3fecdd403977407a446aa171a20206bd4af85504', 'message': 'actions/ansible: catch errors when cleaning the work directory\n\nIf an error happens during the cleaning of the work directory, we now\ncatch the error and return the error to Mistral.\n\nChange-Id: Id037525650c9976cd88a8ba2a02b206ec03855aa\n(cherry picked from commit 9e8f79ccf3f181836c5222336b46be54b68ce571)\n'}]",0,699409,3fecdd403977407a446aa171a20206bd4af85504,21,5,1,3153,,,0,"actions/ansible: catch errors when cleaning the work directory

If an error happens during the cleaning of the work directory, we now
catch the error and return the error to Mistral.

Change-Id: Id037525650c9976cd88a8ba2a02b206ec03855aa
(cherry picked from commit 9e8f79ccf3f181836c5222336b46be54b68ce571)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/09/699409/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,3fecdd403977407a446aa171a20206bd4af85504,except," try: if not self.verbosity and self._remove_work_dir: shutil.rmtree(self.work_dir) except Exception as e: msg = ""An error happened while cleaning work directory: "" + e LOG.error(msg) return actions.Result(error=msg) try: if not self.verbosity and self._remove_work_dir: shutil.rmtree(self.work_dir) except Exception as e: msg = ""An error happened while cleaning work directory: "" + e LOG.error(msg) return actions.Result(error=msg)", if not self.verbosity and self._remove_work_dir: shutil.rmtree(self.work_dir) if not self.verbosity and self._remove_work_dir: shutil.rmtree(self.work_dir),14,4
openstack%2Frequirements~master~I2a5968b9a09529742af4b7057498a4fb7323080d,openstack/requirements,master,I2a5968b9a09529742af4b7057498a4fb7323080d,Add openstacksdk-functional-devstack job,MERGED,2019-11-06 15:21:40.000000000,2019-12-20 06:36:35.000000000,2019-12-20 06:33:25.000000000,"[{'_account_id': 12898}, {'_account_id': 13252}, {'_account_id': 14070}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-06 15:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/47bdbcc4ec82f5867b6be1f9cec9c813b1086584', 'message': ""Add openstacksdk-functional-devstack job\n\nThe openstacksdk project's functional job is also running for devstack\npatches, so a breakage there is affecting several important projects.\n\nThe main component that seems not to be covered by existing tests is the\nfunctional testing of the heat service, so adding this jobs closes that\nhole.\n\nChange-Id: I2a5968b9a09529742af4b7057498a4fb7323080d\n""}, {'number': 2, 'created': '2019-12-20 03:13:21.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d237107f8949e0e3ba146b9c4d8db3c74f44a7ed', 'message': ""Add openstacksdk-functional-devstack job\n\nThe openstacksdk project's functional job is also running for devstack\npatches, so a breakage there is affecting several important projects.\n\nThe main component that seems not to be covered by existing tests is the\nfunctional testing of the heat service, so adding this jobs closes that\nhole.\n\nChange-Id: I2a5968b9a09529742af4b7057498a4fb7323080d\n""}]",0,693197,d237107f8949e0e3ba146b9c4d8db3c74f44a7ed,29,5,2,13252,,,0,"Add openstacksdk-functional-devstack job

The openstacksdk project's functional job is also running for devstack
patches, so a breakage there is affecting several important projects.

The main component that seems not to be covered by existing tests is the
functional testing of the heat service, so adding this jobs closes that
hole.

Change-Id: I2a5968b9a09529742af4b7057498a4fb7323080d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/97/693197/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,47bdbcc4ec82f5867b6be1f9cec9c813b1086584,add-sdk-job, - openstacksdk-functional-devstack - openstacksdk-functional-devstack,,2,0
openstack%2Finstack-undercloud~stable%2Frocky~Ib030e3522d7da543260ab16bffd2b8ff19fe688c,openstack/instack-undercloud,stable/rocky,Ib030e3522d7da543260ab16bffd2b8ff19fe688c,Fix spec helper,MERGED,2019-12-19 20:52:17.000000000,2019-12-20 06:36:22.000000000,2019-12-20 06:36:22.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-19 20:52:17.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/525e655c7cdbff67b2d671761084092bfcc43e8b', 'message': 'Fix spec helper\n\nWe should be using the stable/rocky version for this branch.\n\nChange-Id: Ib030e3522d7da543260ab16bffd2b8ff19fe688c\n'}]",0,700068,525e655c7cdbff67b2d671761084092bfcc43e8b,7,3,1,14985,,,0,"Fix spec helper

We should be using the stable/rocky version for this branch.

Change-Id: Ib030e3522d7da543260ab16bffd2b8ff19fe688c
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/68/700068/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,525e655c7cdbff67b2d671761084092bfcc43e8b,," :branch => 'stable/rocky',"," :branch => 'master',",1,1
openstack%2Ftripleo-common~stable%2Ftrain~I4516648c9281becffe8f31b76db22da84caf3ca8,openstack/tripleo-common,stable/train,I4516648c9281becffe8f31b76db22da84caf3ca8,Remove workdir only if it's a temporary one,MERGED,2019-12-13 19:38:19.000000000,2019-12-20 06:36:14.000000000,2019-12-20 06:34:36.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-12-13 19:38:19.000000000', 'files': ['tripleo_common/actions/ansible.py', 'tripleo_common/tests/actions/test_ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/94a8ce483311db85dc30ce490148ce726bc143ee', 'message': 'Remove workdir only if it\'s a temporary one\n\nUp to now, in some cases, you might see the ""persistent"" workdir being\nremoved, for instance after a scale-down run.\n\nThis patch intends to drop only temporary workdirs, so that we shouldn\'t\nsee the /var/lib/mistral/<stackname> disapearing.\n\nChange-Id: I4516648c9281becffe8f31b76db22da84caf3ca8\nCo-Authored-By: ""Dougal Matthews <dougal@redhat.com>""\nCloses-Bug: #1856061\n(cherry picked from commit 33417a43aa01bf9ef0fceb6c6cc16e3dfc6e286b)\n'}]",0,699007,94a8ce483311db85dc30ce490148ce726bc143ee,42,8,1,14985,,,0,"Remove workdir only if it's a temporary one

Up to now, in some cases, you might see the ""persistent"" workdir being
removed, for instance after a scale-down run.

This patch intends to drop only temporary workdirs, so that we shouldn't
see the /var/lib/mistral/<stackname> disapearing.

Change-Id: I4516648c9281becffe8f31b76db22da84caf3ca8
Co-Authored-By: ""Dougal Matthews <dougal@redhat.com>""
Closes-Bug: #1856061
(cherry picked from commit 33417a43aa01bf9ef0fceb6c6cc16e3dfc6e286b)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/07/699007/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/ansible.py', 'tripleo_common/tests/actions/test_ansible.py']",2,94a8ce483311db85dc30ce490148ce726bc143ee,mistral/1856061-stable/train,"import shutil @mock.patch(""shutil.rmtree"") @mock.patch(""tripleo_common.actions.ansible.write_default_ansible_cfg"") @mock.patch(""oslo_concurrency.processutils.execute"") def test_work_dir_cleanup(self, mock_execute, mock_write_cfg, mock_rmtree): mock_execute.return_value = ('', '') action = ansible.AnsiblePlaybookAction( playbook=self.playbook, limit_hosts=self.limit_hosts, remote_user=self.remote_user, become=self.become, become_user=self.become_user, extra_vars=self.extra_vars, verbosity=0) try: action.run(self.ctx) mock_rmtree.assert_called_once_with(action.work_dir) finally: # Since we mocked the delete we need to manually cleanup. shutil.rmtree(action.work_dir) @mock.patch(""shutil.rmtree"") @mock.patch(""tripleo_common.actions.ansible.write_default_ansible_cfg"") @mock.patch(""oslo_concurrency.processutils.execute"") def test_work_dir_no_cleanup(self, mock_execute, mock_write_cfg, mock_rmtree): mock_execute.return_value = ('', '') # Specity a work_dir, this should not be deleted automatically. work_dir = tempfile.mkdtemp() try: action = ansible.AnsiblePlaybookAction( playbook=self.playbook, limit_hosts=self.limit_hosts, remote_user=self.remote_user, become=self.become, become_user=self.become_user, extra_vars=self.extra_vars, verbosity=self.verbosity, work_dir=work_dir) action.run(self.ctx) # verify the rmtree is not called mock_rmtree.assert_not_called() finally: shutil.rmtree(work_dir) ",,52,2
openstack%2Ftripleo-heat-templates~master~I4f96615bc1772c5d64492dda637120a3a268b0c1,openstack/tripleo-heat-templates,master,I4f96615bc1772c5d64492dda637120a3a268b0c1,Update nonha arch env file,MERGED,2019-12-19 03:05:48.000000000,2019-12-20 06:13:15.000000000,2019-12-20 06:13:14.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-19 03:05:48.000000000', 'files': ['environments/nonha-arch.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5fdb1a4c520c0739c64b6162b195bf44e90edf70', 'message': 'Update nonha arch env file\n\nThe non-ha arch file contains a reference to a deployment template\nthat no longer exists. This change updates the setting to the new\ntemplate file location.\n\nChange-Id: I4f96615bc1772c5d64492dda637120a3a268b0c1\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,699907,5fdb1a4c520c0739c64b6162b195bf44e90edf70,11,5,1,7353,,,0,"Update nonha arch env file

The non-ha arch file contains a reference to a deployment template
that no longer exists. This change updates the setting to the new
template file location.

Change-Id: I4f96615bc1772c5d64492dda637120a3a268b0c1
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/699907/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/nonha-arch.yaml'],1,5fdb1a4c520c0739c64b6162b195bf44e90edf70,, OS::TripleO::Services::Keepalived: ../deployment/keepalived/keepalived-container-puppet.yaml, OS::TripleO::Services::Keepalived: ../docker/services/keepalived.yaml,1,1
openstack%2Fmagnum~master~Ic5c7851d6603d23e554b2df88b5deefb30dd74b9,openstack/magnum,master,Ic5c7851d6603d23e554b2df88b5deefb30dd74b9,[k8s] Enable services before starting them,MERGED,2019-12-18 14:14:50.000000000,2019-12-20 05:36:51.000000000,2019-12-20 02:22:20.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-12-18 14:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/542e096ce195e952165fa7c7a9e209280733cc47', 'message': 'k8s: enable services before starting them\n\nIn the event that master/minion instances restart before the\nheat container agent bootstrapping is complete, it is safer to enable\nall the services before starting them so that they can restore normal\nfunction after reboot.\n\nstory: 2007031\ntask: 37835\n\nChange-Id: Ic5c7851d6603d23e554b2df88b5deefb30dd74b9\n'}, {'number': 2, 'created': '2019-12-18 14:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/1b49e423436fdfb72db7e6f2ca2f00a1b596b447', 'message': 'k8s: enable services before starting them\n\nIn the event that master/minion instances restart before the\nheat container agent bootstrapping is complete, it is safer to enable\nall the services before starting them so that they can restore normal\nfunction after reboot.\n\nstory: 2007031\ntask: 37835\n\nChange-Id: Ic5c7851d6603d23e554b2df88b5deefb30dd74b9\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}, {'number': 3, 'created': '2019-12-18 17:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b604ae89b5b655a72a2a899aeb09f8935d148473', 'message': 'k8s: enable services before starting them\n\nIn the event that master/minion instances restart before the\nheat container agent bootstrapping is complete, it is safer to enable\nall the services before starting them so that they can restore normal\nfunction after reboot.\n\nstory: 2007031\ntask: 37835\n\nChange-Id: Ic5c7851d6603d23e554b2df88b5deefb30dd74b9\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}, {'number': 4, 'created': '2019-12-18 17:28:30.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-services-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/7d81ae186a929346e6bc784cd12e66489a554191', 'message': '[k8s] Enable services before starting them\n\nIn the event that master/minion instances restart before the\nheat container agent bootstrapping is complete, it is safer to enable\nall the services before starting them so that they can restore normal\nfunction after reboot.\n\nstory: 2007031\ntask: 37835\n\nChange-Id: Ic5c7851d6603d23e554b2df88b5deefb30dd74b9\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}]",0,699687,7d81ae186a929346e6bc784cd12e66489a554191,14,4,4,28022,,,0,"[k8s] Enable services before starting them

In the event that master/minion instances restart before the
heat container agent bootstrapping is complete, it is safer to enable
all the services before starting them so that they can restore normal
function after reboot.

story: 2007031
task: 37835

Change-Id: Ic5c7851d6603d23e554b2df88b5deefb30dd74b9
Signed-off-by: Bharat Kunwar <brtknr@bath.edu>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/87/699687/4 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/enable-services-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh']",2,542e096ce195e952165fa7c7a9e209280733cc47,2007031,"for action in enable restart; do for service in etcd docker kube-apiserver kube-controller-manager kube-scheduler kubelet kube-proxy; do echo ""$action service $service"" $ssh_cmd systemctl $action $service done","for service in etcd docker kube-apiserver kube-controller-manager kube-scheduler kubelet kube-proxy; do echo ""activating service $service"" $ssh_cmd systemctl enable $service $ssh_cmd systemctl restart $service",10,8
openstack%2Fmagnum~master~Ide46d90dd30b41edaeaa8632205cc23b9ba7f162,openstack/magnum,master,Ide46d90dd30b41edaeaa8632205cc23b9ba7f162,[k8s] Fix RBAC for OCCM v1.17.0,MERGED,2019-12-18 17:16:43.000000000,2019-12-20 05:35:56.000000000,2019-12-20 02:22:24.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 17:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3df42e779650e7cb6bc1942f1522290c50acb561', 'message': 'k8s: Fix RBAC for OCCM v1.17.0\n\nAt present, the openstack cloud controller manager tag v1.17.0 is broken\ndue to missing RBAC policy for leases. This patch addressed this\nshortcoming and thereby allowing the nodes in the cluster to be\nuntainted.\n\nstory: 2007031\ntask: 37838\n\nChange-Id: Ide46d90dd30b41edaeaa8632205cc23b9ba7f162\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}, {'number': 2, 'created': '2019-12-18 17:28:30.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b2393220c63f048c6dc1162f3e961eeef7a8445e', 'message': '[k8s] Fix RBAC for OCCM v1.17.0\n\nAt present, the openstack cloud controller manager tag v1.17.0 is broken\ndue to missing RBAC policy for leases. This patch addressed this\nshortcoming and thereby allowing the nodes in the cluster to be\nuntainted.\n\nstory: 2007031\ntask: 37838\n\nChange-Id: Ide46d90dd30b41edaeaa8632205cc23b9ba7f162\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}]",0,699736,b2393220c63f048c6dc1162f3e961eeef7a8445e,10,3,2,28022,,,0,"[k8s] Fix RBAC for OCCM v1.17.0

At present, the openstack cloud controller manager tag v1.17.0 is broken
due to missing RBAC policy for leases. This patch addressed this
shortcoming and thereby allowing the nodes in the cluster to be
untainted.

story: 2007031
task: 37838

Change-Id: Ide46d90dd30b41edaeaa8632205cc23b9ba7f162
Signed-off-by: Bharat Kunwar <brtknr@bath.edu>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/36/699736/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh'],1,3df42e779650e7cb6bc1942f1522290c50acb561,2007031," - apiGroups: - ""coordination.k8s.io"" resources: - leases verbs: - get - create - update",,8,0
openstack%2Fpuppet-openstack_spec_helper~stable%2Ftrain~I5daba8eb89018e1162db8f562a608d54eaccab49,openstack/puppet-openstack_spec_helper,stable/train,I5daba8eb89018e1162db8f562a608d54eaccab49,"Revert ""Disable relative_classname_inclusion""",MERGED,2019-12-19 21:49:44.000000000,2019-12-20 05:17:47.000000000,2019-12-19 23:52:19.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-19 21:49:44.000000000', 'files': ['puppet-openstack_spec_helper.gemspec', 'lib/puppet-openstack_spec_helper/rake_tasks.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/398ae49ff9dfd8e2df62f179c8d0f9b34ffaca6f', 'message': 'Revert ""Disable relative_classname_inclusion""\n\nThis reverts commit 387a3f1a5f8da910b6cd4aceb68569675dc9aa8c.\n\nFor stable branches we want to keep 1.0.0 because we won\'t\nbe backporting the relative class name changes.\n\nChange-Id: I5daba8eb89018e1162db8f562a608d54eaccab49\n'}]",0,700076,398ae49ff9dfd8e2df62f179c8d0f9b34ffaca6f,7,3,1,14985,,,0,"Revert ""Disable relative_classname_inclusion""

This reverts commit 387a3f1a5f8da910b6cd4aceb68569675dc9aa8c.

For stable branches we want to keep 1.0.0 because we won't
be backporting the relative class name changes.

Change-Id: I5daba8eb89018e1162db8f562a608d54eaccab49
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/76/700076/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-openstack_spec_helper.gemspec', 'lib/puppet-openstack_spec_helper/rake_tasks.rb']",2,398ae49ff9dfd8e2df62f179c8d0f9b34ffaca6f,train/lint2," config.disable_checks = [""80chars"", ""class_inherits_from_params_class"", ""only_variable_string""]"," # TODO(tobias-urdin) Remove relative_classname_inclusion # when we have fixed all the absolute includes to relative. # https://github.com/voxpupuli/puppet-lint-absolute_classname-check#relative-class-name-inclusion config.disable_checks = [""80chars"", ""class_inherits_from_params_class"", ""only_variable_string"", ""relative_classname_inclusion""]",5,6
openstack%2Fcinder~master~I31c27661ea2acb684932493808e98ee4980c171b,openstack/cinder,master,I31c27661ea2acb684932493808e98ee4980c171b,Update the community page.,MERGED,2019-12-18 10:23:43.000000000,2019-12-20 05:02:14.000000000,2019-12-18 15:38:13.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-12-18 10:23:43.000000000', 'files': ['cinder/volume/drivers/dell_emc/unity/adapter.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2558ae14d6fd8d8ffc955fa8a0aa86290466ae3b', 'message': 'Update the community page.\n\nChange-Id: I31c27661ea2acb684932493808e98ee4980c171b\n'}]",0,699651,2558ae14d6fd8d8ffc955fa8a0aa86290466ae3b,35,26,1,30717,,,0,"Update the community page.

Change-Id: I31c27661ea2acb684932493808e98ee4980c171b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/51/699651/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/dell_emc/unity/adapter.py'],1,2558ae14d6fd8d8ffc955fa8a0aa86290466ae3b,, # https://review.opendev.org/#/c/574119/, # https://review.openstack.org/#/c/574119/,1,1
openstack%2Fcyborg~master~Ie5d305504b06f8c9c579e5b03173ec1f4f1702df,openstack/cyborg,master,Ie5d305504b06f8c9c579e5b03173ec1f4f1702df,Remove 'base object' that no longer exist,MERGED,2019-12-09 12:05:27.000000000,2019-12-20 04:58:00.000000000,2019-12-20 04:56:39.000000000,"[{'_account_id': 14107}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-12-09 12:05:27.000000000', 'files': ['cyborg/accelerator/drivers/modules/generic.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b7ff61e32d714ba845147c4ebb0916d19ca75c18', 'message': ""Remove 'base object' that no longer exist\n\nChange-Id: Ie5d305504b06f8c9c579e5b03173ec1f4f1702df\n""}]",0,698000,b7ff61e32d714ba845147c4ebb0916d19ca75c18,9,5,1,26490,,,0,"Remove 'base object' that no longer exist

Change-Id: Ie5d305504b06f8c9c579e5b03173ec1f4f1702df
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/00/698000/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/accelerator/drivers/modules/generic.py'],1,b7ff61e32d714ba845147c4ebb0916d19ca75c18,,class GENERICDRIVER(object):,from cyborg.accelerator.drivers import baseclass GENERICDRIVER(base.BaseDriver):,1,2
openstack%2Frequirements~master~Ibcd9c56525a269b47b9117653cea6b2d14341984,openstack/requirements,master,Ibcd9c56525a269b47b9117653cea6b2d14341984,update constraint for python-troveclient to new release 3.2.0,MERGED,2019-12-16 10:59:41.000000000,2019-12-20 04:13:33.000000000,2019-12-20 04:12:18.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-16 10:59:41.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/42d3117dac2bc57143c7f82ab08b0af2f46bdab3', 'message': 'update constraint for python-troveclient to new release 3.2.0\n\nChange-Id: Ibcd9c56525a269b47b9117653cea6b2d14341984\nmeta:version: 3.2.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Lingxian Kong <anlin.kong@gmail.com>\nmeta:release:Commit: Lingxian Kong <anlin.kong@gmail.com>\nmeta:release:Change-Id: Ic13d6053bce30fe093dfda60c5be4d8f4d5c677b\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,699184,42d3117dac2bc57143c7f82ab08b0af2f46bdab3,33,2,1,11131,,,0,"update constraint for python-troveclient to new release 3.2.0

Change-Id: Ibcd9c56525a269b47b9117653cea6b2d14341984
meta:version: 3.2.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Commit: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Change-Id: Ic13d6053bce30fe093dfda60c5be4d8f4d5c677b
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/84/699184/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,42d3117dac2bc57143c7f82ab08b0af2f46bdab3,new-release,python-troveclient===3.2.0,python-troveclient===3.1.0,1,1
openstack%2Ftripleo-heat-templates~master~I9dc5bbd4de28e92e2b6161eb12cb92680f4363bd,openstack/tripleo-heat-templates,master,I9dc5bbd4de28e92e2b6161eb12cb92680f4363bd,keystone/bootstrap: fix identity service name,MERGED,2019-12-17 17:23:47.000000000,2019-12-20 04:06:25.000000000,2019-12-20 04:06:25.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-17 17:23:47.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/32d3676e5f1bccb2f49d65aff134f18eda3c6722', 'message': ""keystone/bootstrap: fix identity service name\n\nService name for bootstrap should be named 'keystone' to match with what\nPuppet creates, so we don't end up with multiple 'identity' services and\nendpoints.\n\nChange-Id: I9dc5bbd4de28e92e2b6161eb12cb92680f4363bd\n""}]",0,699468,32d3676e5f1bccb2f49d65aff134f18eda3c6722,17,4,1,3153,,,0,"keystone/bootstrap: fix identity service name

Service name for bootstrap should be named 'keystone' to match with what
Puppet creates, so we don't end up with multiple 'identity' services and
endpoints.

Change-Id: I9dc5bbd4de28e92e2b6161eb12cb92680f4363bd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/699468/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,32d3676e5f1bccb2f49d65aff134f18eda3c6722,service_name, OS_BOOTSTRAP_SERVICE_NAME: 'keystone', OS_BOOTSTRAP_SERVICE_NAME: 'service',1,1
openstack%2Fpython-muranoclient~master~I5a2c9b65a4138e6ce03d69feab1b5ec034b8ea61,openstack/python-muranoclient,master,I5a2c9b65a4138e6ce03d69feab1b5ec034b8ea61,Fix function tests failed in python3 ,MERGED,2019-12-16 08:07:00.000000000,2019-12-20 04:05:44.000000000,2019-12-20 04:04:26.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-16 08:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/f51f7f5766a4b3ee1a588aad257967fe16139bf5', 'message': 'TEST\n\nChange-Id: I5a2c9b65a4138e6ce03d69feab1b5ec034b8ea61\n'}, {'number': 2, 'created': '2019-12-16 08:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/6cfb398b0e8d6c46cec497d39c1e61989e3efbc4', 'message': 'TEST\n\nChange-Id: I5a2c9b65a4138e6ce03d69feab1b5ec034b8ea61\n'}, {'number': 3, 'created': '2019-12-20 01:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/f3ed5dd1ea882562ab40c6cb00672128fcd0b9b6', 'message': 'TEST\n\nChange-Id: I5a2c9b65a4138e6ce03d69feab1b5ec034b8ea61\n'}, {'number': 4, 'created': '2019-12-20 02:38:22.000000000', 'files': ['muranoclient/tests/functional/cli/test_murano.py', 'muranoclient/v1/shell.py'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/af03963f4a8f04647a78356c31c096c4bc3128af', 'message': 'Fix function tests failed in python3 \n\nChange-Id: I5a2c9b65a4138e6ce03d69feab1b5ec034b8ea61\n'}]",0,699165,af03963f4a8f04647a78356c31c096c4bc3128af,13,2,4,14107,,,0,"Fix function tests failed in python3 

Change-Id: I5a2c9b65a4138e6ce03d69feab1b5ec034b8ea61
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/65/699165/4 && git format-patch -1 --stdout FETCH_HEAD,"['muranoclient/tests/functional/cli/test_murano.py', 'muranoclient/i18n.py']",2,f51f7f5766a4b3ee1a588aad257967fe16139bf5,,,,31,26
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I6907729bca667459466834276513e9f0233d10d0,openstack/tripleo-heat-templates,stable/train,I6907729bca667459466834276513e9f0233d10d0,Update environment var for keystone bootstrap,MERGED,2019-12-13 20:58:18.000000000,2019-12-20 03:58:05.000000000,2019-12-20 03:58:05.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-13 20:58:18.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58521422fc5b1d79d1a151615293603afa8c287d', 'message': 'Update environment var for keystone bootstrap\n\nRelated-Bug: #1855932\n\nChange-Id: I6907729bca667459466834276513e9f0233d10d0\nDepends-On: https://review.opendev.org/#/c/698928/\n(cherry picked from commit 6f90cd8528abbcfeb1f9f8180ca048704b6ffed0)\n'}]",0,699017,58521422fc5b1d79d1a151615293603afa8c287d,19,4,1,14985,,,0,"Update environment var for keystone bootstrap

Related-Bug: #1855932

Change-Id: I6907729bca667459466834276513e9f0233d10d0
Depends-On: https://review.opendev.org/#/c/698928/
(cherry picked from commit 6f90cd8528abbcfeb1f9f8180ca048704b6ffed0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/699017/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,58521422fc5b1d79d1a151615293603afa8c287d,bug/1855932-stable/train," command: [ 'keystone', '/usr/bin/bootstrap_host_exec', 'keystone' ,'keystone-manage', 'bootstrap' ] OS_BOOTSTRAP_PASSWORD: {get_param: AdminPassword}"," # NOTE(mwhahaha): We use $$ because we're executing in python to # call as shell script and passing the command to run as arguments # to that shell script. So when it is called via eval, the escaped # $ properly evaulates command: [ 'keystone', '/usr/bin/bootstrap_host_exec', 'keystone' ,'keystone-manage', 'bootstrap', '--bootstrap-password', '$$KEYSTONE_BOOTSTRAP_PASSWORD' ] KEYSTONE_BOOTSTRAP_PASSWORD: {get_param: AdminPassword}",2,6
openstack%2Fansible-role-collect-logs~master~Ife3e0c0b69a3e6ba8e26947707f3e9e0ff924e2d,openstack/ansible-role-collect-logs,master,Ife3e0c0b69a3e6ba8e26947707f3e9e0ff924e2d,Add functionality to sanitize collected logs,MERGED,2019-10-29 21:53:58.000000000,2019-12-20 03:24:50.000000000,2019-12-20 03:24:50.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22318}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-29 21:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/64b6853ffa8597581f42936e51ef028e2820a325', 'message': 'WIP: Add functionality to sanitize collected logs\n\nSome jobs include private links. To avoid publishing those links\nto a public log server, this review add a a task to search\ncertain log sub-directories for private strings and replace\nthem with a substitute string.\n\nChange-Id: Ife3e0c0b69a3e6ba8e26947707f3e9e0ff924e2d\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/1358\n'}, {'number': 2, 'created': '2019-10-29 22:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/0e9763e4c6ebf1e2de01adf84c5267edd715e004', 'message': 'WIP: Add functionality to sanitize collected logs\n\nSome jobs include private links. To avoid publishing those links\nto a public log server, this review add a a task to search\ncertain log sub-directories for private strings and replace\nthem with a substitute string.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/1358\nChange-Id: Ife3e0c0b69a3e6ba8e26947707f3e9e0ff924e2d\n'}, {'number': 3, 'created': '2019-10-30 13:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/ef3e8b5bc894d2a546fb096b1c71035f73caea40', 'message': 'WIP: Add functionality to sanitize collected logs\n\nSome jobs include private links. To avoid publishing those links\nto a public log server, this review add a a task to search\ncertain log sub-directories for private strings and replace\nthem with a substitute string.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/1358\nChange-Id: Ife3e0c0b69a3e6ba8e26947707f3e9e0ff924e2d\n'}, {'number': 4, 'created': '2019-10-30 16:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/b111497aea475ec0c4c5d19b6082c0ed01a5854c', 'message': 'WIP: Add functionality to sanitize collected logs\n\nSome jobs include private links. To avoid publishing those links\nto a public log server, this review add a a task to search\ncertain log sub-directories for private strings and replace\nthem with a substitute string.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/1358\nChange-Id: Ife3e0c0b69a3e6ba8e26947707f3e9e0ff924e2d\n'}, {'number': 5, 'created': '2019-12-11 17:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/0ba51d422be681cd26076d59ea07a03800c30b53', 'message': 'WIP: Add functionality to sanitize collected logs\n\nSome jobs include private links. To avoid publishing those links\nto a public log server, this review add a a task to search\ncertain log sub-directories for private strings and replace\nthem with a substitute string.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/1358\nChange-Id: Ife3e0c0b69a3e6ba8e26947707f3e9e0ff924e2d\n'}, {'number': 6, 'created': '2019-12-17 20:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/b2e3e110780a02dc8786af960adfd1a2eeef1860', 'message': 'WIP: Add functionality to sanitize collected logs\n\nSome jobs include private links. To avoid publishing those links\nto a public log server, this review add a a task to search\ncertain log sub-directories for private strings and replace\nthem with a substitute string.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/1358\nChange-Id: Ife3e0c0b69a3e6ba8e26947707f3e9e0ff924e2d\n'}, {'number': 7, 'created': '2019-12-18 13:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/3a3a9402cc7c1e3eaae553b432954b2146e5e1e7', 'message': 'WIP: Add functionality to sanitize collected logs\n\nSome jobs include private links. To avoid publishing those links\nto a public log server, this review add a a task to search\ncertain log sub-directories for private strings and replace\nthem with a substitute string.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/1358\nChange-Id: Ife3e0c0b69a3e6ba8e26947707f3e9e0ff924e2d\n'}, {'number': 8, 'created': '2019-12-18 16:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/5c03926a5d95c61192309729d16962e67e695a5a', 'message': 'Add functionality to sanitize collected logs\n\nSome jobs include private links. To avoid publishing those links\nto a public log server, this review add a a task to search\ncertain log sub-directories for private strings and replace\nthem with a substitute string.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/1358\nChange-Id: Ife3e0c0b69a3e6ba8e26947707f3e9e0ff924e2d\n'}, {'number': 9, 'created': '2019-12-19 15:48:34.000000000', 'files': ['tasks/collect.yml', 'tasks/sanitize_log_strings.yaml', 'README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/061f90faa79d60072735fad5e2d1287fb711c0eb', 'message': 'Add functionality to sanitize collected logs\n\nSome jobs include private links. To avoid publishing those links\nto a public log server, this review add a a task to search\ncertain log sub-directories for private strings and replace\nthem with a substitute string.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/1358\nChange-Id: Ife3e0c0b69a3e6ba8e26947707f3e9e0ff924e2d\n'}]",8,691994,061f90faa79d60072735fad5e2d1287fb711c0eb,34,8,9,9976,,,0,"Add functionality to sanitize collected logs

Some jobs include private links. To avoid publishing those links
to a public log server, this review add a a task to search
certain log sub-directories for private strings and replace
them with a substitute string.

Story: https://tree.taiga.io/project/tripleo-ci-board/task/1358
Change-Id: Ife3e0c0b69a3e6ba8e26947707f3e9e0ff924e2d
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/94/691994/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/sanitize_log_strings.yaml', 'tasks/publish.yml']",2,64b6853ffa8597581f42936e51ef028e2820a325,sanitize-logs,"- name: Sanitize logs to remove sensitive details include_tasks: sanitize_log_strings.yaml with_items: ""{{ sanitize_line }}"" loop_control: loop_var: outer_item when: sanitize_line is defined and sanitize_lines|length ",,21,0
openstack%2Ftrove~master~Ied67c7c243d3f8c644708548cce71ea2aa3cf2e7,openstack/trove,master,Ied67c7c243d3f8c644708548cce71ea2aa3cf2e7,Fix an error when generate root password during DB initialization,MERGED,2019-09-14 05:29:08.000000000,2019-12-20 03:17:11.000000000,2019-09-30 01:22:34.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 25254}]","[{'number': 1, 'created': '2019-09-14 05:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/eb5a88402919af6c6e99df43047f24a3d11822c9', 'message': '[WIP] Fix an error when password generator create with percona database\n\nChange-Id: Ied67c7c243d3f8c644708548cce71ea2aa3cf2e7\nStory: #2006546\nTask: #36629\n'}, {'number': 2, 'created': '2019-09-15 15:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/17b3fff56ef6036facb8c4ca3fc1ae89acf2dcbb', 'message': ""Fix an error when generate root password during DB initialization\n\nThis issue was occurring with percona database (v5.6).\n\nError logs:\n`An error occurred preparing datastore: (pymysql.err.InternalError)\n (1372, 'Password hash should be a 41-digit hexadecimal number'`\n\nTested with re-enable root function.\n\nChange-Id: Ied67c7c243d3f8c644708548cce71ea2aa3cf2e7\nStory: #2006546\nTask: #36629\n""}, {'number': 3, 'created': '2019-09-16 02:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d0b2cc567cde1c9da1475e4391e76598b2816caa', 'message': ""Fix an error when generate root password during DB initialization\n\nThis issue was occurring with percona database (v5.6).\n\nError logs:\n`An error occurred preparing datastore: (pymysql.err.InternalError)\n (1372, 'Password hash should be a 41-digit hexadecimal number'`\n\nTested with re-enable root function for both v5.6 and v5.7.\n\nChange-Id: Ied67c7c243d3f8c644708548cce71ea2aa3cf2e7\nStory: #2006546\nTask: #36629\n""}, {'number': 4, 'created': '2019-09-18 15:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/2e474e3e4ed467885e390a1217f293ba91b328bc', 'message': ""Fix an error when generate root password during DB initialization\n\nThis issue was occurring with percona database (v5.6).\n\nError logs:\n`An error occurred preparing datastore: (pymysql.err.InternalError)\n (1372, 'Password hash should be a 41-digit hexadecimal number'`\n\nTested with re-enable root function for both v5.6 and v5.7.\n\nChange-Id: Ied67c7c243d3f8c644708548cce71ea2aa3cf2e7\nStory: #2006546\nTask: #36629\n""}, {'number': 5, 'created': '2019-09-20 16:40:25.000000000', 'files': ['trove/guestagent/common/sql_query.py', 'trove/tests/unittests/guestagent/test_dbaas.py', 'trove/tests/unittests/guestagent/test_query.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/e84718c7824b4567d8eb53346fc04fee94187e37', 'message': ""Fix an error when generate root password during DB initialization\n\nThis issue was occurring with percona database (v5.6).\n\nError logs:\n`An error occurred preparing datastore: (pymysql.err.InternalError)\n (1372, 'Password hash should be a 41-digit hexadecimal number'`\n\nTested with re-enable root function for both v5.6 and v5.7.\n\nChange-Id: Ied67c7c243d3f8c644708548cce71ea2aa3cf2e7\nStory: #2006546\nTask: #36629\n""}]",0,682192,e84718c7824b4567d8eb53346fc04fee94187e37,19,3,5,25254,,,0,"Fix an error when generate root password during DB initialization

This issue was occurring with percona database (v5.6).

Error logs:
`An error occurred preparing datastore: (pymysql.err.InternalError)
 (1372, 'Password hash should be a 41-digit hexadecimal number'`

Tested with re-enable root function for both v5.6 and v5.7.

Change-Id: Ied67c7c243d3f8c644708548cce71ea2aa3cf2e7
Story: #2006546
Task: #36629
",git fetch https://review.opendev.org/openstack/trove refs/changes/92/682192/5 && git format-patch -1 --stdout FETCH_HEAD,['trove/guestagent/common/sql_query.py'],1,eb5a88402919af6c6e99df43047f24a3d11822c9,fix_password_mysql," ""PASSWORD('%(new_password)s');"" % properties)"," ""'%(new_password)s';"" % properties)",1,1
openstack%2Fneutron-tempest-plugin~master~I2a6e0f958dac8fb41bdd709e7b595e256b84ed03,openstack/neutron-tempest-plugin,master,I2a6e0f958dac8fb41bdd709e7b595e256b84ed03,"Add ""test_delete_agent_negative""",MERGED,2019-12-16 11:57:13.000000000,2019-12-20 03:10:25.000000000,2019-12-20 03:10:25.000000000,"[{'_account_id': 5756}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-16 11:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/7653635794288e3460a56f4b422c9ab3082e0fcd', 'message': 'Add ""test_delete_agent_negative""\n\nIn [0], ""AgentManagementTestJSON"" was removed to avoid duplications\nwith this repository, but ""test_delete_agent_negative"" was missing.\n\nChange-Id: I2a6e0f958dac8fb41bdd709e7b595e256b84ed03\nRelated-Bug: #1855985\n'}, {'number': 2, 'created': '2019-12-18 13:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/579797b9ccb61067f27e96a9f6b6717cb4f49bd3', 'message': 'Add ""test_delete_agent_negative""\n\nIn [0], ""AgentManagementTestJSON"" was removed to avoid duplications\nwith this repository, but ""test_delete_agent_negative"" was missing.\n\nChange-Id: I2a6e0f958dac8fb41bdd709e7b595e256b84ed03\nRelated-Bug: #1855985\n'}, {'number': 3, 'created': '2019-12-19 11:43:40.000000000', 'files': ['neutron_tempest_plugin/api/admin/test_agent_management.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/7d70482b10da28e16e5a16a95c491dae28fa3470', 'message': 'Add ""test_delete_agent_negative""\n\nIn [0], ""AgentManagementTestJSON"" was removed from tempest to avoid\nduplications with this repository, but ""test_delete_agent_negative""\nwas missing.\n\n[0] https://review.opendev.org/#/c/698589/\n\nChange-Id: I2a6e0f958dac8fb41bdd709e7b595e256b84ed03\nRelated-Bug: #1855985\n'}]",2,699199,7d70482b10da28e16e5a16a95c491dae28fa3470,22,4,3,16688,,,0,"Add ""test_delete_agent_negative""

In [0], ""AgentManagementTestJSON"" was removed from tempest to avoid
duplications with this repository, but ""test_delete_agent_negative""
was missing.

[0] https://review.opendev.org/#/c/698589/

Change-Id: I2a6e0f958dac8fb41bdd709e7b595e256b84ed03
Related-Bug: #1855985
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/99/699199/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/admin/test_agent_management.py'],1,7653635794288e3460a56f4b422c9ab3082e0fcd,bug/1855985,"from tempest.lib.common.utils import data_utilsfrom tempest.lib import exceptions as lib_exc @decorators.idempotent_id('b33af888-b6ac-4e68-a0ca-0444c2696cf9') def test_delete_agent_negative(self): non_existent_id = data_utils.rand_uuid() self.assertRaises( lib_exc.NotFound, self.admin_agents_client.delete_agent, non_existent_id)",,9,0
openstack%2Fcharm-hacluster~master~I82337030ec97866e76ed450bc043316797974ce4,openstack/charm-hacluster,master,I82337030ec97866e76ed450bc043316797974ce4,Add config option disable-unattended-upgrades,ABANDONED,2019-11-05 20:43:27.000000000,2019-12-20 02:27:27.000000000,,"[{'_account_id': 935}, {'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-05 20:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/288d961bdb3f85474a9fe9caf17d688960abecf9', 'message': 'Add config option disable-unattended-upgrades\n\ndisable-unattended-upgrades when set to true (the default) creates the\nfile /etc/apt/apt.conf.d/90hacluster setting\nAPT::Periodic::Unattended-Upgrade to 1.\n\nChange-Id: I82337030ec97866e76ed450bc043316797974ce4\nCloses-Bug: #1826898\n'}, {'number': 2, 'created': '2019-11-05 20:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/ff71cf19da672032d0ff59f1b5f3a8e4e2be2177', 'message': 'Add config option disable-unattended-upgrades\n\ndisable-unattended-upgrades when set to true (the default) creates the\nfile /etc/apt/apt.conf.d/90hacluster setting\nAPT::Periodic::Unattended-Upgrade to 1.\n\nChange-Id: I82337030ec97866e76ed450bc043316797974ce4\nCloses-Bug: #1826898\n'}, {'number': 3, 'created': '2019-11-05 21:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/8bb7337c46a74f96fc4b68018de91430e5db0e1d', 'message': 'Add config option disable-unattended-upgrades\n\ndisable-unattended-upgrades when set to true (the default) creates the\nfile /etc/apt/apt.conf.d/90hacluster setting\nAPT::Periodic::Unattended-Upgrade to 1.\n\nChange-Id: I82337030ec97866e76ed450bc043316797974ce4\nCloses-Bug: #1826898\n'}, {'number': 4, 'created': '2019-11-05 22:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/3fa0b348044a79c8f592a84e2dc1e36aa65b7ad5', 'message': 'Add config option disable-unattended-upgrades\n\ndisable-unattended-upgrades when set to true (the default) creates the\nfile /etc/apt/apt.conf.d/90hacluster setting\nAPT::Periodic::Unattended-Upgrade to 1.\n\nChange-Id: I82337030ec97866e76ed450bc043316797974ce4\nCloses-Bug: #1826898\n'}, {'number': 5, 'created': '2019-11-08 01:23:39.000000000', 'files': ['hooks/hooks.py', 'templates/90hacluster', 'tests/basic_deployment.py', 'config.yaml', 'unit_tests/test_hacluster_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/05fc36ef633a28822a9b5b433c24e89281ff3296', 'message': 'Add config option disable-unattended-upgrades\n\ndisable-unattended-upgrades when set to true (the default) creates the\nfile /etc/apt/apt.conf.d/90hacluster setting\nAPT::Periodic::Unattended-Upgrade to 1.\n\nChange-Id: I82337030ec97866e76ed450bc043316797974ce4\nCloses-Bug: #1826898\n'}]",0,693080,05fc36ef633a28822a9b5b433c24e89281ff3296,18,4,5,2424,,,0,"Add config option disable-unattended-upgrades

disable-unattended-upgrades when set to true (the default) creates the
file /etc/apt/apt.conf.d/90hacluster setting
APT::Periodic::Unattended-Upgrade to 1.

Change-Id: I82337030ec97866e76ed450bc043316797974ce4
Closes-Bug: #1826898
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/80/693080/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'templates/90hacluster', 'tests/basic_deployment.py', 'config.yaml', 'unit_tests/test_hacluster_hooks.py']",5,288d961bdb3f85474a9fe9caf17d688960abecf9,bug/1826898," @mock.patch('os.chown') @mock.patch('os.fchown') @mock.patch('charmhelpers.core.templating.hookenv.charm_dir') mock_configure_stonith, mock_charm_dir, mock_os_fchown, mock_os_chown): mock_charm_dir.return_value = os.path.abspath( os.path.join(os.path.dirname(__file__), '..')) hooks.APT_CONF_D_OVERRIDES = tempfile.mktemp() # check unattended-upgrades with open(hooks.APT_CONF_D_OVERRIDES, 'r') as f: assert 'APT::Periodic::Unattended-Upgrade ""1"";' in f.read() ", mock_configure_stonith):,34,1
openstack%2Frequirements~master~I640290359c0c15035187a62da1bc57dba5912b05,openstack/requirements,master,I640290359c0c15035187a62da1bc57dba5912b05,trivial: Variable rename,MERGED,2019-12-13 16:48:26.000000000,2019-12-20 02:26:45.000000000,2019-12-20 02:25:31.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-13 16:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/129c378b066183b9644d5bce992b0138ccc84566', 'message': ""trivial: Variable rename\n\nBefore doing any work on this, let's use some more meaningful names.\n\nChange-Id: I640290359c0c15035187a62da1bc57dba5912b05\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-12-18 19:34:03.000000000', 'files': ['openstack_requirements/check.py'], 'web_link': 'https://opendev.org/openstack/requirements/commit/40de09edad40f02ec73604c875201fd72f1883d7', 'message': ""trivial: Variable rename\n\nBefore doing any work on this, let's use some more meaningful names.\n\nChange-Id: I640290359c0c15035187a62da1bc57dba5912b05\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,698959,40de09edad40f02ec73604c875201fd72f1883d7,12,3,2,15334,,,0,"trivial: Variable rename

Before doing any work on this, let's use some more meaningful names.

Change-Id: I640290359c0c15035187a62da1bc57dba5912b05
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/698959/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_requirements/check.py'],1,129c378b066183b9644d5bce992b0138ccc84566,reduce-py3-noise,"def _is_requirement_in_global_reqs(local_req, global_reqs): req_exclusions = _get_exclusions(local_req) for global_req in global_reqs: local_req_val = getattr(local_req, aname) global_req_val = getattr(global_req, aname) if local_req_val != global_req_val: '""{}""'.format(local_req.package)) print(' ""{}"" does not match ""{}""'.format( local_req_val, global_req_val)) print(' {}'.format(local_req)) print(' {}'.format(global_req)) global_exclusions = _get_exclusions(global_req) local_req.package, req_exclusions, global_exclusions, ""settings."".format(local_req.package)","def _is_requirement_in_global_reqs(req, global_reqs): req_exclusions = _get_exclusions(req) for req2 in global_reqs: rval = getattr(req, aname) r2val = getattr(req2, aname) if rval != r2val: '""{}""'.format(req.package)) print(' ""{}"" does not match ""{}""'.format(rval, r2val)) print(' {}'.format(req)) print(' {}'.format(req2)) global_exclusions = _get_exclusions(req2) req.package, req_exclusions, global_exclusions, ""settings."".format(req.package)",14,13
openstack%2Ffreezer-api~master~I7587edb3cbdb5430a37c684da57ed38fabbe6d86,openstack/freezer-api,master,I7587edb3cbdb5430a37c684da57ed38fabbe6d86,[WIP]Add debug env into tox,ABANDONED,2018-03-04 14:42:01.000000000,2019-12-20 02:24:22.000000000,,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22405}]","[{'number': 1, 'created': '2018-03-04 14:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/b029ce42f1cfe96d79ff314839e344cba98e32d6', 'message': 'Add freezer-db-manage into setup.cfg\n\nshow the location of freezer-db-manage\n\nChange-Id: I7587edb3cbdb5430a37c684da57ed38fabbe6d86\n'}, {'number': 2, 'created': '2018-03-04 14:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/cb040280ab5fb616e96a62995de17e49a971bc1c', 'message': 'Add freezer-db-manage into setup.cfg\n\nshow the location of freezer-db-manage\n\nChange-Id: I7587edb3cbdb5430a37c684da57ed38fabbe6d86\n'}, {'number': 3, 'created': '2018-03-06 04:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/267fa60899497332332adf5c2c7fb899a68cc800', 'message': 'Add freezer-db-manage into setup.cfg\n\nshow the location of freezer-db-manage\n\nChange-Id: I7587edb3cbdb5430a37c684da57ed38fabbe6d86\n'}, {'number': 4, 'created': '2019-07-15 07:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/bcf02d63b68c7bb29e74222698be179ff3558010', 'message': 'Add debug env into tox\n\nshow the location of freezer-db-manage\n\nChange-Id: I7587edb3cbdb5430a37c684da57ed38fabbe6d86\n'}, {'number': 5, 'created': '2019-07-15 07:32:10.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/77b8fd78d4a057ed380c18032b90bcbe1eabb85e', 'message': '[WIP]Add debug env into tox\n\nChange-Id: I7587edb3cbdb5430a37c684da57ed38fabbe6d86\n'}]",0,549616,77b8fd78d4a057ed380c18032b90bcbe1eabb85e,14,3,5,22165,,,0,"[WIP]Add debug env into tox

Change-Id: I7587edb3cbdb5430a37c684da57ed38fabbe6d86
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/16/549616/3 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b029ce42f1cfe96d79ff314839e344cba98e32d6,, freezer-db-manage = freezer_cmd.manage:main ,,1,0
openstack%2Fmagnum~stable%2Ftrain~I021aeeef9f39dd426c1f335161a3d4b3f51670e8,openstack/magnum,stable/train,I021aeeef9f39dd426c1f335161a3d4b3f51670e8,Fix entrypoint for k8s components in podman,MERGED,2019-12-19 08:32:35.000000000,2019-12-20 02:23:42.000000000,2019-12-20 02:22:16.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-12-19 08:32:35.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/d5910a92c8b684538a2d66f63199cf905d1e61d2', 'message': 'Fix entrypoint for k8s components in podman\n\nUpstream k8s images changed the entrypoint to\n/hyperkube instead of shell.\n\nSet the entrypoint to /hyperkube which works\nfor v1.17.x and v1.16.x.\n\npodman inspect k8s.gcr.io/hyperkube:v1.16.0 | grep Entrypoint -A 2\npodman inspect k8s.gcr.io/hyperkube:v1.17.0 | grep Entrypoint -A 2\n            ""Entrypoint"": [\n                ""/hyperkube""\n            ]\n\nstory: 2007031\ntask: 37834\n\nChange-Id: I021aeeef9f39dd426c1f335161a3d4b3f51670e8\nSigned-off-by: Spyros Trigazis <strigazi@gmail.com>\n(cherry picked from commit 8fa77dae0bd734d8c270a86dd4aef0429e1e22d3)\n'}]",0,699928,d5910a92c8b684538a2d66f63199cf905d1e61d2,8,3,1,20498,,,0,"Fix entrypoint for k8s components in podman

Upstream k8s images changed the entrypoint to
/hyperkube instead of shell.

Set the entrypoint to /hyperkube which works
for v1.17.x and v1.16.x.

podman inspect k8s.gcr.io/hyperkube:v1.16.0 | grep Entrypoint -A 2
podman inspect k8s.gcr.io/hyperkube:v1.17.0 | grep Entrypoint -A 2
            ""Entrypoint"": [
                ""/hyperkube""
            ]

story: 2007031
task: 37834

Change-Id: I021aeeef9f39dd426c1f335161a3d4b3f51670e8
Signed-off-by: Spyros Trigazis <strigazi@gmail.com>
(cherry picked from commit 8fa77dae0bd734d8c270a86dd4aef0429e1e22d3)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/28/699928/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh']",2,d5910a92c8b684538a2d66f63199cf905d1e61d2,2007031-stable/train,"ExecStartPre=-/bin/bash -c '/usr/bin/podman run --privileged --user root --net host --entrypoint /bin/bash --rm --volume /usr/local/bin:/host/usr/local/bin \${CONTAINER_INFRA_PREFIX:-k8s.gcr.io/}hyperkube:\${KUBE_TAG} -c ""cp /usr/local/bin/kubectl /host/usr/local/bin/kubectl""' --entrypoint /hyperkube \\ kube-apiserver \\ --entrypoint /hyperkube \\ kube-controller-manager \\ --entrypoint /hyperkube \\ kube-scheduler \\ --entrypoint /hyperkube \\ kubelet \\ --entrypoint /hyperkube \\ kube-proxy \\","ExecStartPre=-/bin/bash -c '/usr/bin/podman run --privileged --user root --net host --rm --volume /usr/local/bin:/host/usr/local/bin \${CONTAINER_INFRA_PREFIX:-k8s.gcr.io/}hyperkube:\${KUBE_TAG} /bin/sh -c ""cp /usr/local/bin/kubectl /host/usr/local/bin/kubectl""' /hyperkube kube-apiserver \\ /hyperkube kube-controller-manager \\ /hyperkube kube-scheduler \\ /hyperkube kubelet \\ /hyperkube kube-proxy \\",16,9
openstack%2Fnova-powervm~master~I100b31eb5ab57af244390f199f26340048d55375,openstack/nova-powervm,master,I100b31eb5ab57af244390f199f26340048d55375,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-04-23 11:39:22.000000000,2019-12-20 02:23:18.000000000,,"[{'_account_id': 13637}, {'_account_id': 14581}, {'_account_id': 16128}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 23695}, {'_account_id': 26575}, {'_account_id': 28614}, {'_account_id': 30305}]","[{'number': 1, 'created': '2019-04-23 11:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/119af102436efb79b4254b1a7cdd20175c12dc37', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I100b31eb5ab57af244390f199f26340048d55375\n'}, {'number': 2, 'created': '2019-06-25 09:38:19.000000000', 'files': ['CONTRIBUTING.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/d5a15972e731422c032ff80b429acaa9f66aba68', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nmore info http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I100b31eb5ab57af244390f199f26340048d55375\n'}]",4,655037,d5a15972e731422c032ff80b429acaa9f66aba68,11,9,2,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

more info http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I100b31eb5ab57af244390f199f26340048d55375
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/37/655037/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,119af102436efb79b4254b1a7cdd20175c12dc37,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} -rhttps://opendev.org/openstack/nova/plain/test-requirements.txt -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} -rhttps://opendev.org/openstack/nova/plain/test-requirements.txt, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -rhttps://git.openstack.org/cgit/openstack/nova/plain/test-requirements.txt -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -rhttps://git.openstack.org/cgit/openstack/nova/plain/test-requirements.txt,4,4
openstack%2Fmasakari-monitors~master~I0383be4b7337ca450d84c637b1e4a602de1c596b,openstack/masakari-monitors,master,I0383be4b7337ca450d84c637b1e4a602de1c596b,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-04-23 11:33:19.000000000,2019-12-20 02:23:12.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 25553}, {'_account_id': 28743}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-04-23 11:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/12a10768e0053cf42e6f5988eadd4705915ce48e', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I0383be4b7337ca450d84c637b1e4a602de1c596b\n'}, {'number': 2, 'created': '2019-04-24 06:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/32e5df5af2e8250d9b024a780c60f1848b769ed0', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I0383be4b7337ca450d84c637b1e4a602de1c596b\n'}, {'number': 3, 'created': '2019-04-24 06:51:34.000000000', 'files': ['README.rst', 'tox.ini', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/2edd99833e37bf173213e202b491e7ad16603d11', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I0383be4b7337ca450d84c637b1e4a602de1c596b\n'}]",1,654974,2edd99833e37bf173213e202b491e7ad16603d11,10,5,3,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I0383be4b7337ca450d84c637b1e4a602de1c596b
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/74/654974/2 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,12a10768e0053cf42e6f5988eadd4705915ce48e,,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},2,2
openstack%2Fossa~master~I910283b068300a8acb1aca3d6b267e18344b3a50,openstack/ossa,master,I910283b068300a8acb1aca3d6b267e18344b3a50,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-04-23 11:40:03.000000000,2019-12-20 02:22:55.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28743}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-04-23 11:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/4048dc3cb119179bd1925c114f2257768c3e46cc', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I910283b068300a8acb1aca3d6b267e18344b3a50\n'}, {'number': 2, 'created': '2019-04-24 06:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/b7abf1402b695ece37c75497ac9445d595d0ca03', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I910283b068300a8acb1aca3d6b267e18344b3a50\n'}, {'number': 3, 'created': '2019-04-24 06:29:07.000000000', 'files': ['doc/source/index.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/ossa/commit/ab17b3ce3461d909b23b58acffe4a45d27c38408', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I910283b068300a8acb1aca3d6b267e18344b3a50\n'}]",1,655065,ab17b3ce3461d909b23b58acffe4a45d27c38408,10,5,3,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I910283b068300a8acb1aca3d6b267e18344b3a50
",git fetch https://review.opendev.org/openstack/ossa refs/changes/65/655065/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,4048dc3cb119179bd1925c114f2257768c3e46cc,,* `Bandit Git Repository <https://opendev.org/openstack/bandit>`_* `Syntribos Git Repository <https://opendev.org/openstack/syntribos>`_,* `Bandit Git Repository <https://git.openstack.org/cgit/openstack/bandit>`_* `Syntribos Git Repository <https://git.openstack.org/cgit/openstack/syntribos>`_,2,2
openstack%2Ftelemetry-tempest-plugin~master~I2be06b68a69f8ccae340d2dbc560d1e1fb07c27b,openstack/telemetry-tempest-plugin,master,I2be06b68a69f8ccae340d2dbc560d1e1fb07c27b,Update the constraints url,MERGED,2019-09-26 06:16:13.000000000,2019-12-20 02:15:49.000000000,2019-12-20 02:15:49.000000000,"[{'_account_id': 9542}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-26 06:16:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/cb79921764273d604f2db3279c48829f064b2532', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I2be06b68a69f8ccae340d2dbc560d1e1fb07c27b\n'}]",0,684940,cb79921764273d604f2db3279c48829f064b2532,7,3,1,27822,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I2be06b68a69f8ccae340d2dbc560d1e1fb07c27b
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/40/684940/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cb79921764273d604f2db3279c48829f064b2532,constraints,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},1,1
openstack%2Ftelemetry-tempest-plugin~master~I244332c9eff84c5f15d7d656f80a24f1267c6218,openstack/telemetry-tempest-plugin,master,I244332c9eff84c5f15d7d656f80a24f1267c6218,Update invalid link,MERGED,2019-11-19 08:04:11.000000000,2019-12-20 02:11:42.000000000,2019-12-20 02:11:42.000000000,"[{'_account_id': 9542}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-19 08:04:11.000000000', 'files': ['CONTRIBUTING.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/ef67c2ab40b3ac994af00a28d1278510aa3d19ef', 'message': 'Update invalid link\n\nThe links are invalid.\nReplace them with the available one.\n\nChange-Id: I244332c9eff84c5f15d7d656f80a24f1267c6218\n'}]",0,694931,ef67c2ab40b3ac994af00a28d1278510aa3d19ef,7,3,1,23317,,,0,"Update invalid link

The links are invalid.
Replace them with the available one.

Change-Id: I244332c9eff84c5f15d7d656f80a24f1267c6218
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/31/694931/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'setup.cfg']",2,ef67c2ab40b3ac994af00a28d1278510aa3d19ef,fix,home-page = https://www.openstack.org/,home-page = http://www.openstack.org/,3,3
openstack%2Fcharm-glance~master~I543e3309c5522d7bc865133f8ec5ecc79542112c,openstack/charm-glance,master,I543e3309c5522d7bc865133f8ec5ecc79542112c,Disable Apache default ports,MERGED,2019-11-02 09:23:27.000000000,2019-12-20 02:05:33.000000000,2019-12-19 12:16:28.000000000,"[{'_account_id': 935}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-02 09:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/525c131f9a38ef1d04dc4579f253d6e5e0a59ffe', 'message': ""Disable Apache default ports\n\nOpenstack services don't use the default ports (80 and 443), so\nchange Apache to not open them.\n\nChange-Id: I543e3309c5522d7bc865133f8ec5ecc79542112c\nCloses-bug: #1845665\n""}, {'number': 2, 'created': '2019-11-02 09:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/135b71f2e4c4299533dea14ae7e981f68663d5de', 'message': ""Disable Apache default ports\n\nOpenstack services don't use the default ports (80 and 443), so\nchange Apache to not open them.\n\nChange-Id: I543e3309c5522d7bc865133f8ec5ecc79542112c\nCloses-bug: #1845665\n""}, {'number': 3, 'created': '2019-11-06 19:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/f362c573324db255dd2d8ba545a7c7a3dd964ee3', 'message': ""Disable Apache default ports\n\nOpenstack services don't use the default ports (80 and 443), so\nchange Apache to not open them.\n\nChange-Id: I543e3309c5522d7bc865133f8ec5ecc79542112c\nCloses-bug: #1845665\n""}, {'number': 4, 'created': '2019-11-27 12:52:23.000000000', 'files': ['hooks/glance_utils.py', 'templates/ports.conf', 'unit_tests/test_glance_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/dcd9a269dc95c504983935a16372db4e7a021426', 'message': ""Disable Apache default ports\n\nOpenstack services don't use the default ports (80 and 443), so\nchange Apache to not open them.\n\nChange-Id: I543e3309c5522d7bc865133f8ec5ecc79542112c\nCloses-bug: #1845665\n""}]",0,692651,dcd9a269dc95c504983935a16372db4e7a021426,20,4,4,17097,,,0,"Disable Apache default ports

Openstack services don't use the default ports (80 and 443), so
change Apache to not open them.

Change-Id: I543e3309c5522d7bc865133f8ec5ecc79542112c
Closes-bug: #1845665
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/51/692651/4 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/glance_utils.py', 'templates/ports.conf']",2,525c131f9a38ef1d04dc4579f253d6e5e0a59ffe,bug/1845665,,,6,1
openstack%2Fcharm-cinder~master~I896334b232589baacb48da2285829f9e9f0963f9,openstack/charm-cinder,master,I896334b232589baacb48da2285829f9e9f0963f9,Disable Apache default ports,MERGED,2019-11-02 09:19:06.000000000,2019-12-20 02:05:28.000000000,2019-12-19 12:18:34.000000000,"[{'_account_id': 935}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-02 09:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/8d7bb502c79eb6e1a10dca53cb18bae052ffe42e', 'message': ""Disable Apache default ports\n\nOpenstack services don't use the default ports (80 and 443), so\nchange Apache to not open them.\n\nChange-Id: I896334b232589baacb48da2285829f9e9f0963f9\nCloses-bug: #1845665\n""}, {'number': 2, 'created': '2019-11-06 19:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/921d2bac80338aa287d9c7b70d62a20da03ea0f5', 'message': ""Disable Apache default ports\n\nOpenstack services don't use the default ports (80 and 443), so\nchange Apache to not open them.\n\nChange-Id: I896334b232589baacb48da2285829f9e9f0963f9\nCloses-bug: #1845665\n""}, {'number': 3, 'created': '2019-11-27 12:52:18.000000000', 'files': ['templates/ports.conf', 'hooks/cinder_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/2b251b093f839c1b44c79d5427801359c3d704ff', 'message': ""Disable Apache default ports\n\nOpenstack services don't use the default ports (80 and 443), so\nchange Apache to not open them.\n\nChange-Id: I896334b232589baacb48da2285829f9e9f0963f9\nCloses-bug: #1845665\n""}]",0,692649,2b251b093f839c1b44c79d5427801359c3d704ff,18,4,3,17097,,,0,"Disable Apache default ports

Openstack services don't use the default ports (80 and 443), so
change Apache to not open them.

Change-Id: I896334b232589baacb48da2285829f9e9f0963f9
Closes-bug: #1845665
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/49/692649/3 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ports.conf', 'hooks/cinder_utils.py']",2,8d7bb502c79eb6e1a10dca53cb18bae052ffe42e,bug/1845665,"APACHE_PORTS_CONF = '/etc/apache2/ports.conf' (APACHE_PORTS_CONF, { 'contexts': [], 'services': ['apache2'], }),",,5,0
openstack%2Fcharm-keystone~master~I394e03de59e1d8f8e65197509dcf95fa05727afa,openstack/charm-keystone,master,I394e03de59e1d8f8e65197509dcf95fa05727afa,Disable Apache default ports,MERGED,2019-11-02 09:31:38.000000000,2019-12-20 02:05:25.000000000,2019-12-19 12:20:43.000000000,"[{'_account_id': 935}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-02 09:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/959e31025cb7cfe2e8194fcd3a74371767e8c626', 'message': ""Disable Apache default ports\n\nOpenstack services don't use the default ports (80 and 443), so\nchange Apache to not open them.\n\nChange-Id: I394e03de59e1d8f8e65197509dcf95fa05727afa\nCloses-bug: #1845665\n""}, {'number': 2, 'created': '2019-11-06 19:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/7a5fa12924e8e57999ac1ee54acff94ddad740e8', 'message': ""Disable Apache default ports\n\nOpenstack services don't use the default ports (80 and 443), so\nchange Apache to not open them.\n\nChange-Id: I394e03de59e1d8f8e65197509dcf95fa05727afa\nCloses-bug: #1845665\n""}, {'number': 3, 'created': '2019-11-27 12:52:33.000000000', 'files': ['hooks/keystone_utils.py', 'templates/ports.conf'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/25562b842e0f67101c5e901090857b3f06cc4cbe', 'message': ""Disable Apache default ports\n\nOpenstack services don't use the default ports (80 and 443), so\nchange Apache to not open them.\n\nChange-Id: I394e03de59e1d8f8e65197509dcf95fa05727afa\nCloses-bug: #1845665\n""}]",0,692654,25562b842e0f67101c5e901090857b3f06cc4cbe,17,4,3,17097,,,0,"Disable Apache default ports

Openstack services don't use the default ports (80 and 443), so
change Apache to not open them.

Change-Id: I394e03de59e1d8f8e65197509dcf95fa05727afa
Closes-bug: #1845665
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/54/692654/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/keystone_utils.py', 'templates/ports.conf']",2,959e31025cb7cfe2e8194fcd3a74371767e8c626,bug/1845665,,,5,0
openstack%2Fcharm-nova-cloud-controller~master~I518465cd2d6f53e229ab81ebd751f311f8627f83,openstack/charm-nova-cloud-controller,master,I518465cd2d6f53e229ab81ebd751f311f8627f83,Disable Apache default ports,MERGED,2019-11-02 10:24:54.000000000,2019-12-20 02:05:22.000000000,2019-12-19 12:20:44.000000000,"[{'_account_id': 935}, {'_account_id': 6737}, {'_account_id': 17097}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-02 10:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/2531c11c173fe0d64d0150a0dfead7df58055674', 'message': ""Disable Apache default ports\n\nOpenstack services don't use the default ports (80 and 443), so\nchange Apache to not open them.\n\nChange-Id: I518465cd2d6f53e229ab81ebd751f311f8627f83\nCloses-bug: #1845665\n""}, {'number': 2, 'created': '2019-11-06 19:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/7e4092aeadfa94d95b88ff410f54c43187b41bad', 'message': ""Disable Apache default ports\n\nOpenstack services don't use the default ports (80 and 443), so\nchange Apache to not open them.\n\nChange-Id: I518465cd2d6f53e229ab81ebd751f311f8627f83\nCloses-bug: #1845665\n""}, {'number': 3, 'created': '2019-11-27 12:52:44.000000000', 'files': ['unit_tests/test_nova_cc_utils.py', 'templates/ports.conf', 'hooks/nova_cc_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/0bf9812bc1bd2fe26d23a49ac972c9fbbc03edcd', 'message': ""Disable Apache default ports\n\nOpenstack services don't use the default ports (80 and 443), so\nchange Apache to not open them.\n\nChange-Id: I518465cd2d6f53e229ab81ebd751f311f8627f83\nCloses-bug: #1845665\n""}]",0,692658,0bf9812bc1bd2fe26d23a49ac972c9fbbc03edcd,20,5,3,17097,,,0,"Disable Apache default ports

Openstack services don't use the default ports (80 and 443), so
change Apache to not open them.

Change-Id: I518465cd2d6f53e229ab81ebd751f311f8627f83
Closes-bug: #1845665
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/58/692658/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_utils.py', 'templates/ports.conf', 'hooks/nova_cc_utils.py']",3,2531c11c173fe0d64d0150a0dfead7df58055674,bug/1845665,"APACHE_PORTS_CONF = '/etc/apache2/ports.conf' (APACHE_PORTS_CONF, { 'contexts': [], 'services': ['apache2'], }),",,10,1
openstack%2Fcharm-swift-proxy~master~Iebde91ae780ab50e61ec5ad49961214ac2a137c4,openstack/charm-swift-proxy,master,Iebde91ae780ab50e61ec5ad49961214ac2a137c4,Disable Apache default ports,MERGED,2019-11-02 10:31:01.000000000,2019-12-20 02:05:18.000000000,2019-12-19 12:26:35.000000000,"[{'_account_id': 935}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-02 10:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/d6b11646dafb13b62df296fae4fdb63a24007d61', 'message': ""Disable Apache default ports\n\nOpenstack services don't use the default ports (80 and 443), so\nchange Apache to not open them.\n\nChange-Id: Iebde91ae780ab50e61ec5ad49961214ac2a137c4\nCloses-bug: #1845665\n""}, {'number': 2, 'created': '2019-11-06 19:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/e2b6ed8dd5571cfd079c26bf5a4f15388f87136b', 'message': ""Disable Apache default ports\n\nOpenstack services don't use the default ports (80 and 443), so\nchange Apache to not open them.\n\nChange-Id: Iebde91ae780ab50e61ec5ad49961214ac2a137c4\nCloses-bug: #1845665\n""}, {'number': 3, 'created': '2019-11-27 12:52:49.000000000', 'files': ['lib/swift_utils.py', 'templates/ports.conf'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/235ef232df3f67d0d091800510df81f05f5c0198', 'message': ""Disable Apache default ports\n\nOpenstack services don't use the default ports (80 and 443), so\nchange Apache to not open them.\n\nChange-Id: Iebde91ae780ab50e61ec5ad49961214ac2a137c4\nCloses-bug: #1845665\n""}]",0,692659,235ef232df3f67d0d091800510df81f05f5c0198,17,4,3,17097,,,0,"Disable Apache default ports

Openstack services don't use the default ports (80 and 443), so
change Apache to not open them.

Change-Id: Iebde91ae780ab50e61ec5ad49961214ac2a137c4
Closes-bug: #1845665
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/59/692659/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/swift_utils.py', 'templates/ports.conf']",2,d6b11646dafb13b62df296fae4fdb63a24007d61,bug/1845665,,,5,0
openstack%2Ftrove~master~Ibaa6fd7273b98451097b32fb6b881008a236be9f,openstack/trove,master,Ibaa6fd7273b98451097b32fb6b881008a236be9f,Fix mariadb CI - trove-scenario-mariadb-single,MERGED,2019-11-30 07:04:16.000000000,2019-12-20 02:02:02.000000000,2019-12-05 04:23:08.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-30 07:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/34a323caee6bf9138d20aafd0ec328cfebc60002', 'message': 'Fix mariadb upstream CI - trove-scenario-mariadb-single\n\n- Trove supports MariaDB 10.4\n- From MariaDB 10.3, Mariabackup is used instead of Percona XtraBackup\n- Some log improvements\n\nChange-Id: Ibaa6fd7273b98451097b32fb6b881008a236be9f\n'}, {'number': 2, 'created': '2019-12-04 01:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/512b5dc648b38cce0ee6e61e4661b021b397a36e', 'message': 'Fix mariadb CI - trove-scenario-mariadb-single\n\n- Trove supports MariaDB 10.4\n- From MariaDB 10.3, Mariabackup is used instead of Percona XtraBackup\n  for backup functionality\n- Some log improvements\n\nChange-Id: Ibaa6fd7273b98451097b32fb6b881008a236be9f\n'}, {'number': 3, 'created': '2019-12-04 10:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/fb524608816666dfe17b0286b725bb71b4234dac', 'message': 'Fix mariadb CI - trove-scenario-mariadb-single\n\n- Trove supports MariaDB 10.4\n- From MariaDB 10.3, Mariabackup is used instead of Percona XtraBackup\n  for backup functionality\n- Some log improvements\n\nChange-Id: Ibaa6fd7273b98451097b32fb6b881008a236be9f\n'}, {'number': 4, 'created': '2019-12-04 18:48:44.000000000', 'files': ['trove/guestagent/strategies/backup/experimental/mariadb_impl.py', 'trove/templates/mariadb/config.template', 'trove/common/strategies/storage/__init__.py', 'trove/taskmanager/manager.py', 'trove/tests/int_tests.py', 'trove/guestagent/strategies/restore/mysql_impl.py', 'integration/scripts/functions_qemu', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/manager.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'integration/scripts/files/elements/ubuntu-xenial-mariadb/install.d/30-mariadb', 'trove/tests/unittests/guestagent/test_dbaas.py', 'integration/scripts/trovestack', 'trove/common/cfg.py', 'trove/guestagent/strategies/replication/experimental/mariadb_gtid.py', 'trove/guestagent/strategies/restore/experimental/mariadb_impl.py', 'trove/taskmanager/models.py', 'trove/guestagent/backup/backupagent.py', 'trove/guestagent/strategies/backup/__init__.py', 'trove/guestagent/strategies/replication/mysql_base.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/11b0b8d6f2888f74cbae509fe6c81b0b324d0032', 'message': 'Fix mariadb CI - trove-scenario-mariadb-single\n\n- Trove supports MariaDB 10.4\n- From MariaDB 10.3, Mariabackup is used instead of Percona XtraBackup\n  for backup functionality\n- Some log improvements\n\nChange-Id: Ibaa6fd7273b98451097b32fb6b881008a236be9f\n'}]",0,696770,11b0b8d6f2888f74cbae509fe6c81b0b324d0032,16,2,4,6732,,,0,"Fix mariadb CI - trove-scenario-mariadb-single

- Trove supports MariaDB 10.4
- From MariaDB 10.3, Mariabackup is used instead of Percona XtraBackup
  for backup functionality
- Some log improvements

Change-Id: Ibaa6fd7273b98451097b32fb6b881008a236be9f
",git fetch https://review.opendev.org/openstack/trove refs/changes/70/696770/4 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/strategies/backup/experimental/mariadb_impl.py', 'trove/templates/mariadb/config.template', 'trove/common/strategies/storage/__init__.py', 'trove/taskmanager/manager.py', 'trove/tests/int_tests.py', 'trove/guestagent/strategies/restore/mysql_impl.py', 'integration/scripts/functions_qemu', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/manager.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'integration/scripts/files/elements/ubuntu-xenial-mariadb/install.d/30-mariadb', 'trove/tests/unittests/guestagent/test_dbaas.py', 'integration/scripts/trovestack', 'trove/common/cfg.py', 'trove/guestagent/strategies/replication/experimental/mariadb_gtid.py', 'trove/guestagent/strategies/restore/experimental/mariadb_impl.py', 'trove/taskmanager/models.py', 'trove/guestagent/backup/backupagent.py', 'trove/guestagent/strategies/backup/__init__.py', 'trove/guestagent/strategies/replication/mysql_base.py']",20,34a323caee6bf9138d20aafd0ec328cfebc60002,fix-mariadb,,,223,127
openstack%2Fdiskimage-builder~master~Ica845f79561bf2531491ae23a5ba4dd64b61987b,openstack/diskimage-builder,master,Ica845f79561bf2531491ae23a5ba4dd64b61987b,WIP: test docker element,NEW,2019-12-19 17:31:41.000000000,2019-12-20 01:42:51.000000000,,"[{'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-19 17:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7915efacb1c7ddbb355cba6eb02e0bb7a59a7a3b', 'message': 'WIP: test docker element\n\nChange-Id: Ica845f79561bf2531491ae23a5ba4dd64b61987b\n'}, {'number': 2, 'created': '2019-12-19 23:04:07.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f370cd985b9b7beabfc711bbd1e554d0b512df53', 'message': 'WIP: test docker element\n\nChange-Id: Ica845f79561bf2531491ae23a5ba4dd64b61987b\n'}]",0,700041,f370cd985b9b7beabfc711bbd1e554d0b512df53,8,3,2,1,,,0,"WIP: test docker element

Change-Id: Ica845f79561bf2531491ae23a5ba4dd64b61987b
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/41/700041/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', '.zuul.d/jobs.yaml']",2,7915efacb1c7ddbb355cba6eb02e0bb7a59a7a3b,docker, name: dib-nodepool-functional-openstack-ubuntu-bionic-docker description: | Test building and booting an Ubuntu bionic image from a docker container base image with Nodepool and OpenStack (using released libraries)xxx parent: nodepool-functional-openstack-base pre-run: playbooks/dib-nodepool/debootstrap.yaml vars: nodepool_debug: true nodepool_extra_packages: - debootstrap nodepool_diskimage: base_element: docker release: 'bionic' env-vars: DISTRO_NAME: 'ubuntu' - job:,,53,34
openstack%2Ftrove~stable%2Ftrain~Ieeba998cb87e79c7085a2836b221087bf11d2768,openstack/trove,stable/train,Ieeba998cb87e79c7085a2836b221087bf11d2768,Support to build dev datastore image in CI job,MERGED,2019-12-18 22:49:40.000000000,2019-12-20 01:39:35.000000000,2019-12-20 01:35:54.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 22:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d7f47bad5625e653323569ef8c126cd6d1ff1345', 'message': 'Support to build dev datastore image in CI job\n\nChange-Id: Ieeba998cb87e79c7085a2836b221087bf11d2768\n'}, {'number': 2, 'created': '2019-12-18 23:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/107395e27c8a1fa0bf9508eb5268ed6b8b84e74c', 'message': 'Support to build dev datastore image in CI job\n\nChange-Id: Ieeba998cb87e79c7085a2836b221087bf11d2768\n'}, {'number': 3, 'created': '2019-12-19 19:02:19.000000000', 'files': ['playbooks/image-build/run.yaml', '.zuul.yaml', 'integration/scripts/functions_qemu'], 'web_link': 'https://opendev.org/openstack/trove/commit/08f0c9767543728cb49bc40d38a46342622f9ef0', 'message': 'Support to build dev datastore image in CI job\n\nChange-Id: Ieeba998cb87e79c7085a2836b221087bf11d2768\n'}]",0,699883,08f0c9767543728cb49bc40d38a46342622f9ef0,10,2,3,6732,,,0,"Support to build dev datastore image in CI job

Change-Id: Ieeba998cb87e79c7085a2836b221087bf11d2768
",git fetch https://review.opendev.org/openstack/trove refs/changes/83/699883/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/image-build/run.yaml', '.zuul.yaml']",2,d7f47bad5625e653323569ef8c126cd6d1ff1345,train-dev-image," - publish-trove-guest-image-mysql-ubuntu-xenial-dev: branches: - stable/train branch: train dev_mode: false image_suffix: """" - job: name: publish-trove-guest-image-mysql-ubuntu-xenial-dev parent: publish-trove-guest-image description: | Build and publish Ubuntu Xenial based Trove guest image to tarballs.openstack.org. vars: datastore_type: mysql guest_os: ubuntu guest_os_release: xenial guest_username: ubuntu branch: train dev_mode: true image_suffix: ""-dev"" ", branch: train,23,3
openstack%2Ftrove~stable%2Ftrain~Iede80c39bb2a7aaf3c0453bd67f85375fa5ee76c,openstack/trove,stable/train,Iede80c39bb2a7aaf3c0453bd67f85375fa5ee76c,Rename devstack variable TROVE_DISABLE_IMAGE_SETUP,MERGED,2019-12-18 20:56:56.000000000,2019-12-20 01:38:24.000000000,2019-12-20 01:35:53.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 20:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/23952727ca397ca4f91cbff4e57970025e69f1b9', 'message': 'Rename devstack variable TROVE_DISABLE_IMAGE_SETUP\n\nRename TROVE_DISABLE_IMAGE_SETUP to TROVE_ENABLE_IMAGE_BUILD to avoid\ndouble negative definition.\n\nChange-Id: Iede80c39bb2a7aaf3c0453bd67f85375fa5ee76c\n(cherry picked from commit fc0c4fff4cd56a2dc88d083454c75ac2079f3fc8)\n'}, {'number': 2, 'created': '2019-12-19 19:02:50.000000000', 'files': ['.zuul.yaml', 'doc/source/install/install-devstack.rst', 'devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/trove/commit/8fbe6d88e016141b0a5043c26de84b3462103304', 'message': 'Rename devstack variable TROVE_DISABLE_IMAGE_SETUP\n\nRename TROVE_DISABLE_IMAGE_SETUP to TROVE_ENABLE_IMAGE_BUILD to avoid\ndouble negative definition.\n\nChange-Id: Iede80c39bb2a7aaf3c0453bd67f85375fa5ee76c\n(cherry picked from commit fc0c4fff4cd56a2dc88d083454c75ac2079f3fc8)\n'}]",0,699870,8fbe6d88e016141b0a5043c26de84b3462103304,9,2,2,6732,,,0,"Rename devstack variable TROVE_DISABLE_IMAGE_SETUP

Rename TROVE_DISABLE_IMAGE_SETUP to TROVE_ENABLE_IMAGE_BUILD to avoid
double negative definition.

Change-Id: Iede80c39bb2a7aaf3c0453bd67f85375fa5ee76c
(cherry picked from commit fc0c4fff4cd56a2dc88d083454c75ac2079f3fc8)
",git fetch https://review.opendev.org/openstack/trove refs/changes/70/699870/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'doc/source/install/install-devstack.rst', 'devstack/plugin.sh', 'devstack/settings']",4,23952727ca397ca4f91cbff4e57970025e69f1b9,devstack-setting-stable/train,"# Enable or disable the Trove guest image build during devstack installation. TROVE_ENABLE_IMAGE_BUILD=${TROVE_ENABLE_IMAGE_BUILD:-""true""}","# Trove image configuration, by default we don't build image. TROVE_DISABLE_IMAGE_SETUP=${TROVE_DISABLE_IMAGE_SETUP:-""true""}",20,23
openstack%2Fneutron~stable%2Ftrain~Iea61238f37fdf24c0264f96d104ee0b3b6aec8e2,openstack/neutron,stable/train,Iea61238f37fdf24c0264f96d104ee0b3b6aec8e2,Use constraints for docs tox target,MERGED,2019-12-12 11:59:03.000000000,2019-12-20 01:27:56.000000000,2019-12-20 01:25:38.000000000,"[{'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 8313}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-12-12 11:59:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d1c4ba581085f4978da82a597b1387d60e79ff0c', 'message': 'Use constraints for docs tox target\n\nIn Stein the docs target started to fail when new release of\nneutron-lib appeared. This is because tox installs neutron and its\nrequirements without any constraints. To fix this both the upper\nconstraints and neutron requirements needs to be added to dependencies\nof docs target.\n\nNote: patch adjusted to stable/train\n\nCloses-Bug: #1856156\nChange-Id: Iea61238f37fdf24c0264f96d104ee0b3b6aec8e2\n(cherry picked from commit 07be7934359aa121761396ba47128904f19cb2e4)\n'}]",0,698708,d1c4ba581085f4978da82a597b1387d60e79ff0c,23,8,1,17685,,,0,"Use constraints for docs tox target

In Stein the docs target started to fail when new release of
neutron-lib appeared. This is because tox installs neutron and its
requirements without any constraints. To fix this both the upper
constraints and neutron requirements needs to be added to dependencies
of docs target.

Note: patch adjusted to stable/train

Closes-Bug: #1856156
Change-Id: Iea61238f37fdf24c0264f96d104ee0b3b6aec8e2
(cherry picked from commit 07be7934359aa121761396ba47128904f19cb2e4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/698708/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d1c4ba581085f4978da82a597b1387d60e79ff0c,bug/1856156,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -r{toxinidir}/doc/requirements.txt -r{toxinidir}/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,4,1
openstack%2Fnova~stable%2Fstein~Ifd4387a02b3103e1258e146e63c73be1ad10030c,openstack/nova,stable/stein,Ifd4387a02b3103e1258e146e63c73be1ad10030c,Zuul v3: use devstack-plugin-nfs-tempest-full,MERGED,2019-12-19 07:41:16.000000000,2019-12-20 01:15:37.000000000,2019-12-20 01:12:26.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-19 07:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a97032ac126b16e427efd2bd39e92fcf9888934e', 'message': 'Zuul v3: use devstack-plugin-nfs-tempest-full\n\n... and replace its legacy ancestor.\n\nChange-Id: Ifd4387a02b3103e1258e146e63c73be1ad10030c\n(cherry picked from commit e7e39b8c2e20f5d7b5e70020f0e42541dc772e68)\n'}, {'number': 2, 'created': '2019-12-19 14:25:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/99aa8ebc12949f9bba76f22e877b07d02791bf5b', 'message': 'Zuul v3: use devstack-plugin-nfs-tempest-full\n\n... and replace its legacy ancestor.\n\nChange-Id: Ifd4387a02b3103e1258e146e63c73be1ad10030c\n(cherry picked from commit e7e39b8c2e20f5d7b5e70020f0e42541dc772e68)\n(cherry picked from commit e82e1704caa1c2baea29f05e8d426337e8de7a3c)\n'}]",0,699924,99aa8ebc12949f9bba76f22e877b07d02791bf5b,25,6,2,10459,,,0,"Zuul v3: use devstack-plugin-nfs-tempest-full

... and replace its legacy ancestor.

Change-Id: Ifd4387a02b3103e1258e146e63c73be1ad10030c
(cherry picked from commit e7e39b8c2e20f5d7b5e70020f0e42541dc772e68)
(cherry picked from commit e82e1704caa1c2baea29f05e8d426337e8de7a3c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/699924/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a97032ac126b16e427efd2bd39e92fcf9888934e,, - devstack-plugin-nfs-tempest-full:, - legacy-tempest-dsvm-full-devstack-plugin-nfs:,1,1
openstack%2Fpuppet-tripleo~stable%2Ftrain~I98de5aa974ebbe6e3e9b48555cd582e59692f755,openstack/puppet-tripleo,stable/train,I98de5aa974ebbe6e3e9b48555cd582e59692f755,bump metadata for new train version,MERGED,2019-12-19 18:04:14.000000000,2019-12-20 00:52:53.000000000,2019-12-20 00:52:53.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-19 18:04:14.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6969a3f5f3d059668f067d8201a07b7c82fc6dde', 'message': 'bump metadata for new train version\n\nRequest from RDO team to bump train\nversions.\n\nRelated-Bug: #1853978\nChange-Id: I98de5aa974ebbe6e3e9b48555cd582e59692f755\n'}]",0,700045,6969a3f5f3d059668f067d8201a07b7c82fc6dde,7,2,1,9592,,,0,"bump metadata for new train version

Request from RDO team to bump train
versions.

Related-Bug: #1853978
Change-Id: I98de5aa974ebbe6e3e9b48555cd582e59692f755
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/45/700045/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,6969a3f5f3d059668f067d8201a07b7c82fc6dde,," ""version"": ""11.4.0"","," ""version"": ""11.3.0"",",1,1
openstack%2Ftripleo-quickstart-extras~master~I8d1bad8d453c61ac113a0bab3529392cbffaf75a,openstack/tripleo-quickstart-extras,master,I8d1bad8d453c61ac113a0bab3529392cbffaf75a,build-test-packages: add retries for git clones,MERGED,2019-11-11 17:40:03.000000000,2019-12-20 00:46:46.000000000,2019-12-20 00:46:46.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-11 17:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5fa6a65ecc6b5f5a41ab7b25daacee89923bb7c8', 'message': ""build-test-packages: add retries for git clones\n\nIt's possible that GitHub might be having issues during a CI run\nwhich results in the clone failing making the entire job fail.\n\nGiven that a failure in cloning can easily be retried with no\nconsequences, let's do that to avoid failing the entire job.\n\nChange-Id: I8d1bad8d453c61ac113a0bab3529392cbffaf75a\n""}, {'number': 2, 'created': '2019-12-16 15:33:15.000000000', 'files': ['roles/build-test-packages/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8435281809a32ea0f125224218cea9c69fd6903c', 'message': ""build-test-packages: add retries for git clones\n\nIt's possible that GitHub might be having issues during a CI run\nwhich results in the clone failing making the entire job fail.\n\nGiven that a failure in cloning can easily be retried with no\nconsequences, let's do that to avoid failing the entire job.\n\nChange-Id: I8d1bad8d453c61ac113a0bab3529392cbffaf75a\n""}]",1,693734,8435281809a32ea0f125224218cea9c69fd6903c,18,5,2,1004,,,0,"build-test-packages: add retries for git clones

It's possible that GitHub might be having issues during a CI run
which results in the clone failing making the entire job fail.

Given that a failure in cloning can easily be retried with no
consequences, let's do that to avoid failing the entire job.

Change-Id: I8d1bad8d453c61ac113a0bab3529392cbffaf75a
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/34/693734/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/tasks/main.yml'],1,5fa6a65ecc6b5f5a41ab7b25daacee89923bb7c8,add-git-retries, register: _git_clone until: _git_clone is success retries: 3 delay: 5,,4,0
openstack%2Fneutron~stable%2Ftrain~I09114712582d2d38d14cf1683b87a8ce3a8e8c3c,openstack/neutron,stable/train,I09114712582d2d38d14cf1683b87a8ce3a8e8c3c,List SG rules which belongs to tenant's SG,MERGED,2019-10-15 13:56:12.000000000,2019-12-20 00:45:57.000000000,2019-12-20 00:43:42.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-15 13:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2371786c79a4a9e2c381e014265dfbd0985a8c18', 'message': ""List SG rules which belongs to tenant's SG\n\nIn case when user's security group contains rules created e.g.\nby admin, and such rules has got admin's tenant as tenant_id,\nowner of security group should be able to see those rules.\nSome time ago this was addressed for request:\n\nGET /v2.0/security-groups/<sec_group_id>\n\nBut it is also required to behave in same way for\n\nGET /v2.0/security-group-rules\n\nSo this patch fixes this behaviour for listing of security\ngroup rules.\nTo achieve that this patch also adds new policy rule:\nADMIN_OWNER_OR_SG_OWNER which is similar to already existing\nADMIN_OWNER_OR_NETWORK_OWNER used e.g. for listing or creating\nports.\n\nChange-Id: I09114712582d2d38d14cf1683b87a8ce3a8e8c3c\nCloses-Bug: #1824248\n""}, {'number': 2, 'created': '2019-12-04 20:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eafa6a2d106627194746514fe3d7035327e540db', 'message': ""List SG rules which belongs to tenant's SG\n\nIn case when user's security group contains rules created e.g.\nby admin, and such rules has got admin's tenant as tenant_id,\nowner of security group should be able to see those rules.\nSome time ago this was addressed for request:\n\nGET /v2.0/security-groups/<sec_group_id>\n\nBut it is also required to behave in same way for\n\nGET /v2.0/security-group-rules\n\nSo this patch fixes this behaviour for listing of security\ngroup rules.\nTo achieve that this patch also adds new policy rule:\nADMIN_OWNER_OR_SG_OWNER which is similar to already existing\nADMIN_OWNER_OR_NETWORK_OWNER used e.g. for listing or creating\nports.\n\nChange-Id: I09114712582d2d38d14cf1683b87a8ce3a8e8c3c\nCloses-Bug: #1824248\n""}, {'number': 3, 'created': '2019-12-04 20:44:11.000000000', 'files': ['releasenotes/notes/show-all-security-group-rules-for-security-group-owner-6635dd3e4c6ab5ee.yaml', 'neutron/db/securitygroups_db.py', 'neutron/policy.py', 'neutron/conf/policies/security_group.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a6b55d760bee4ea228a466cd45193f77eae53978', 'message': ""List SG rules which belongs to tenant's SG\n\nIn case when user's security group contains rules created e.g.\nby admin, and such rules has got admin's tenant as tenant_id,\nowner of security group should be able to see those rules.\nSome time ago this was addressed for request:\n\nGET /v2.0/security-groups/<sec_group_id>\n\nBut it is also required to behave in same way for\n\nGET /v2.0/security-group-rules\n\nSo this patch fixes this behaviour for listing of security\ngroup rules.\nTo achieve that this patch also adds new policy rule:\nADMIN_OWNER_OR_SG_OWNER which is similar to already existing\nADMIN_OWNER_OR_NETWORK_OWNER used e.g. for listing or creating\nports.\n\nChange-Id: I09114712582d2d38d14cf1683b87a8ce3a8e8c3c\nCloses-Bug: #1824248\n""}]",1,688715,a6b55d760bee4ea228a466cd45193f77eae53978,46,7,3,11975,,,0,"List SG rules which belongs to tenant's SG

In case when user's security group contains rules created e.g.
by admin, and such rules has got admin's tenant as tenant_id,
owner of security group should be able to see those rules.
Some time ago this was addressed for request:

GET /v2.0/security-groups/<sec_group_id>

But it is also required to behave in same way for

GET /v2.0/security-group-rules

So this patch fixes this behaviour for listing of security
group rules.
To achieve that this patch also adds new policy rule:
ADMIN_OWNER_OR_SG_OWNER which is similar to already existing
ADMIN_OWNER_OR_NETWORK_OWNER used e.g. for listing or creating
ports.

Change-Id: I09114712582d2d38d14cf1683b87a8ce3a8e8c3c
Closes-Bug: #1824248
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/688715/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/show-all-security-group-rules-for-security-group-owner-6635dd3e4c6ab5ee.yaml', 'neutron/db/securitygroups_db.py', 'neutron/policy.py', 'neutron/conf/policies/security_group.py']",4,2371786c79a4a9e2c381e014265dfbd0985a8c18,bug/1824248-stable/train,"RULE_ADMIN_OR_SG_OWNER = 'rule:admin_or_sg_owner' RULE_ADMIN_OWNER_OR_SG_OWNER = 'rule:admin_owner_or_sg_owner' policy.RuleDefault( 'admin_or_sg_owner', base.policy_or('rule:context_is_admin', 'tenant_id:%(security_group:tenant_id)s'), description='Rule for admin or security group owner access'), policy.RuleDefault( 'admin_owner_or_sg_owner', base.policy_or('rule:owner', RULE_ADMIN_OR_SG_OWNER), description=('Rule for resource owner, ' 'admin or security group owner access')), RULE_ADMIN_OWNER_OR_SG_OWNER,"," base.RULE_ADMIN_OR_OWNER,",35,4
openstack%2Fpuppet-openstack_spec_helper~stable%2Frocky~I8df5d5b6da0a317fde67b2acaf38bfd26fb2bcb5,openstack/puppet-openstack_spec_helper,stable/rocky,I8df5d5b6da0a317fde67b2acaf38bfd26fb2bcb5,"Revert ""Disable relative_classname_inclusion""",MERGED,2019-12-19 21:37:58.000000000,2019-12-19 23:52:20.000000000,2019-12-19 23:52:20.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-19 21:37:58.000000000', 'files': ['puppet-openstack_spec_helper.gemspec', 'lib/puppet-openstack_spec_helper/rake_tasks.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/2e675e25645db4e8f1ac541ef9499cf118b2156f', 'message': 'Revert ""Disable relative_classname_inclusion""\n\nThis reverts commit 30178762a6062cc1f7e29b92f689434a5b0e6d8c.\n\nFor stable branches we want to keep 1.0.0 because we won\'t\nbe backporting the relative class name changes.\n\nChange-Id: I8df5d5b6da0a317fde67b2acaf38bfd26fb2bcb5\n'}]",0,700074,2e675e25645db4e8f1ac541ef9499cf118b2156f,6,3,1,14985,,,0,"Revert ""Disable relative_classname_inclusion""

This reverts commit 30178762a6062cc1f7e29b92f689434a5b0e6d8c.

For stable branches we want to keep 1.0.0 because we won't
be backporting the relative class name changes.

Change-Id: I8df5d5b6da0a317fde67b2acaf38bfd26fb2bcb5
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/74/700074/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-openstack_spec_helper.gemspec', 'lib/puppet-openstack_spec_helper/rake_tasks.rb']",2,2e675e25645db4e8f1ac541ef9499cf118b2156f,rocky/lint2," config.disable_checks = [""80chars"", ""class_inherits_from_params_class"", ""only_variable_string""]"," # TODO(tobias-urdin) Remove relative_classname_inclusion # when we have fixed all the absolute includes to relative. # https://github.com/voxpupuli/puppet-lint-absolute_classname-check#relative-class-name-inclusion config.disable_checks = [""80chars"", ""class_inherits_from_params_class"", ""only_variable_string"", ""relative_classname_inclusion""]",5,6
openstack%2Fpuppet-openstack_spec_helper~stable%2Fqueens~I406a4cd21fcd3a8d0725c884dd5eb02005a2ee7b,openstack/puppet-openstack_spec_helper,stable/queens,I406a4cd21fcd3a8d0725c884dd5eb02005a2ee7b,"Revert ""Disable relative_classname_inclusion""",MERGED,2019-12-19 21:37:13.000000000,2019-12-19 23:52:20.000000000,2019-12-19 23:52:20.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-19 21:37:13.000000000', 'files': ['puppet-openstack_spec_helper.gemspec', 'lib/puppet-openstack_spec_helper/rake_tasks.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/26e54eaf6e91a8a316409e8815396dead3998c9b', 'message': 'Revert ""Disable relative_classname_inclusion""\n\nThis reverts commit 1d6a33bef563eea3043973b0b0ed9c498030d04c.\n\nFor stable branches we want to keep 1.0.0 because we won\'t\nbe backporting the relative class name changes.\n\nChange-Id: I406a4cd21fcd3a8d0725c884dd5eb02005a2ee7b\n'}]",0,700073,26e54eaf6e91a8a316409e8815396dead3998c9b,6,3,1,14985,,,0,"Revert ""Disable relative_classname_inclusion""

This reverts commit 1d6a33bef563eea3043973b0b0ed9c498030d04c.

For stable branches we want to keep 1.0.0 because we won't
be backporting the relative class name changes.

Change-Id: I406a4cd21fcd3a8d0725c884dd5eb02005a2ee7b
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/73/700073/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-openstack_spec_helper.gemspec', 'lib/puppet-openstack_spec_helper/rake_tasks.rb']",2,26e54eaf6e91a8a316409e8815396dead3998c9b,queens/lint2," config.disable_checks = [""80chars"", ""class_inherits_from_params_class"", ""only_variable_string""]"," # TODO(tobias-urdin) Remove relative_classname_inclusion # when we have fixed all the absolute includes to relative. # https://github.com/voxpupuli/puppet-lint-absolute_classname-check#relative-class-name-inclusion config.disable_checks = [""80chars"", ""class_inherits_from_params_class"", ""only_variable_string"", ""relative_classname_inclusion""]",5,6
openstack%2Fcharm-hacluster~master~I0c0447680f89e2378f9bca3b8322a9bfa50ffd46,openstack/charm-hacluster,master,I0c0447680f89e2378f9bca3b8322a9bfa50ffd46,Port hacluster tests from Amulet to Zaza,MERGED,2019-12-18 07:29:35.000000000,2019-12-19 23:34:03.000000000,2019-12-19 23:34:03.000000000,"[{'_account_id': 935}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 07:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/1adc44663d0e5a32703c50955b7f0e5f9b4e6e3b', 'message': 'Closes-Bug: #1828424\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/148\n\nChange-Id: I0c0447680f89e2378f9bca3b8322a9bfa50ffd46\nSigned-off-by: Xiyue Wang <celia.wang@canonical.com>\n'}, {'number': 2, 'created': '2019-12-18 09:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/cf2abdc1245bf16b555e5405cb8b4abfc97b611e', 'message': 'Closes-Bug: #1828424\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/148\n\nSigned-off-by: Xiyue Wang <celia.wang@canonical.com>\n\nChange-Id: I0c0447680f89e2378f9bca3b8322a9bfa50ffd46\n'}, {'number': 3, 'created': '2019-12-19 02:54:27.000000000', 'files': ['tests/bundles/overlays/local-charm-overlay.yaml.j2', 'tests/gate-basic-xenial-pike', 'test-requirements.txt', 'Makefile', 'tests/gate-basic-trusty-mitaka', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/README.md', 'tests/bundles/bionic-rocky.yaml', 'tests/gate-basic-xenial-mitaka', 'tests/bundles/bionic-queens.yaml', 'tests/gate-basic-bionic-stein', 'tests/bundles/xenial-ocata.yaml', 'tests/bundles/disco-stein.yaml', 'tests/gate-basic-xenial-ocata', 'tests/gate-basic-disco-stein', 'tests/bundles/xenial-mitaka.yaml', 'tests/gate-basic-bionic-train', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/basic_deployment.py', 'tests/dev-basic-cosmic-rocky', 'tests/gate-basic-bionic-queens', 'tests/gate-basic-xenial-queens', 'tests/gate-basic-bionic-rocky', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/df5f114ae1aad11d236772f6b9d832f3baf9e338', 'message': 'Port hacluster tests from Amulet to Zaza\n\nCloses-Bug: #1828424\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/148\n\nSigned-off-by: Xiyue Wang <celia.wang@canonical.com>\n\nChange-Id: I0c0447680f89e2378f9bca3b8322a9bfa50ffd46\n'}]",6,699572,df5f114ae1aad11d236772f6b9d832f3baf9e338,18,5,3,31107,,,0,"Port hacluster tests from Amulet to Zaza

Closes-Bug: #1828424
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/148

Signed-off-by: Xiyue Wang <celia.wang@canonical.com>

Change-Id: I0c0447680f89e2378f9bca3b8322a9bfa50ffd46
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/72/699572/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/overlays/local-charm-overlay.yaml.j2', 'tests/gate-basic-xenial-pike', 'test-requirements.txt', 'Makefile', 'tests/gate-basic-trusty-mitaka', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/README.md', 'tests/bundles/bionic-rocky.yaml', 'tests/gate-basic-xenial-mitaka', 'tests/bundles/bionic-queens.yaml', 'tests/gate-basic-bionic-stein', 'tests/bundles/xenial-ocata.yaml', 'tests/bundles/disco-stein.yaml', 'tests/gate-basic-xenial-ocata', 'tests/gate-basic-disco-stein', 'tests/bundles/xenial-mitaka.yaml', 'tests/gate-basic-bionic-train', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/basic_deployment.py', 'tests/dev-basic-cosmic-rocky', 'tests/gate-basic-bionic-queens', 'tests/gate-basic-xenial-queens', 'tests/gate-basic-bionic-rocky', 'tox.ini']",28,1adc44663d0e5a32703c50955b7f0e5f9b4e6e3b,migrate_to_zaza,# Classic charm (with zaza): ./tox.inipassenv = HOME TERM CS_* OS_* TEST_*basepython = python3 functest-run-suite --helpbasepython = python3 functest-run-suite --keep-model# Run a specific test as an zaza smoke test (expected to always pass) basepython = python3 functest-run-suite --keep-model --smoke --log INFObasepython = python3 functest-run-suite --keep-model --bundle {posargs},"# Classic charm (with amulet): ./tox.ini AMULET_SETUP_TIMEOUT=5400passenv = HOME TERM AMULET_* CS_* OS_* TEST_*basepython = python2.7 bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""gate-*"" -n --no-destroybasepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""gate-*"" --no-destroy# Run a specific test as an Amulet smoke test (expected to always pass) basepython = python2.7 bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-train --no-destroybasepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""dev-*"" --no-destroy",488,612
openstack%2Foslo.config~stable%2Frocky~I6930600c2b75f067ab43370a6903f0da229f8a0b,openstack/oslo.config,stable/rocky,I6930600c2b75f067ab43370a6903f0da229f8a0b,Use constraints when building docs,MERGED,2019-12-18 15:20:38.000000000,2019-12-19 23:18:38.000000000,2019-12-19 23:17:21.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2019-12-18 15:20:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/a3f25681520695c30701f843d826ba4312422354', 'message': 'Use constraints when building docs\n\nChange-Id: I6930600c2b75f067ab43370a6903f0da229f8a0b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nStable-Only\n'}]",0,699703,a3f25681520695c30701f843d826ba4312422354,13,4,1,15334,,,0,"Use constraints when building docs

Change-Id: I6930600c2b75f067ab43370a6903f0da229f8a0b
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Stable-Only
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/03/699703/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a3f25681520695c30701f843d826ba4312422354,bug/1856312,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/rocky} -r{toxinidir}/doc/requirements.txt rm -fr doc/build sphinx-build -W -b html doc/source doc/build/html {posargs}deps = {[testenv:docs]deps},deps = -r{toxinidir}/doc/requirements.txt rm -fr doc/build sphinx-build -W -b html doc/source doc/build/html {posargs}deps = -r{toxinidir}/doc/requirements.txt,6,4
openstack%2Ftripleo-ansible~master~Ic462408f1059c1d197224ff44f5836a2f2820b8d,openstack/tripleo-ansible,master,Ic462408f1059c1d197224ff44f5836a2f2820b8d,"Revert ""tripleo-keystone-resources: reduce permissions for clouds.yaml""",MERGED,2019-12-19 16:16:03.000000000,2019-12-19 23:13:00.000000000,2019-12-19 23:13:00.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-19 16:16:03.000000000', 'files': ['tripleo_ansible/roles/tripleo-keystone-resources/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f0f36d215542a0eb6a9100b66e52df23be245675', 'message': 'Revert ""tripleo-keystone-resources: reduce permissions for clouds.yaml""\n\nThis reverts commit d71d30694fd91b097a3bdff65edfdc92a84c44e5.\nI need that patch reverted until the convertion to Ansible is finished.\nYes it\'s opening security issues but I have a patch in tripleoclient to\nfix it: I49b95bf7a03e39db3c2cbb91b2167c7645b09136\nOrdering is complex, I\'m doing it step by step.\n\nChange-Id: Ic462408f1059c1d197224ff44f5836a2f2820b8d\n'}]",0,700015,f0f36d215542a0eb6a9100b66e52df23be245675,9,4,1,3153,,,0,"Revert ""tripleo-keystone-resources: reduce permissions for clouds.yaml""

This reverts commit d71d30694fd91b097a3bdff65edfdc92a84c44e5.
I need that patch reverted until the convertion to Ansible is finished.
Yes it's opening security issues but I have a patch in tripleoclient to
fix it: I49b95bf7a03e39db3c2cbb91b2167c7645b09136
Ordering is complex, I'm doing it step by step.

Change-Id: Ic462408f1059c1d197224ff44f5836a2f2820b8d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/15/700015/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-keystone-resources/defaults/main.yml'],1,f0f36d215542a0eb6a9100b66e52df23be245675,revert,tripleo_keystone_resources_clouds_file_mode: '0644',tripleo_keystone_resources_clouds_file_mode: '0600',1,1
openstack%2Ftripleo-validations~master~I599fe28a0b9f48cdbf02fd87c95506a3176244e2,openstack/tripleo-validations,master,I599fe28a0b9f48cdbf02fd87c95506a3176244e2,Remove the useless environment variable.,MERGED,2019-12-18 11:30:33.000000000,2019-12-19 22:21:09.000000000,2019-12-19 22:19:42.000000000,"[{'_account_id': 3153}, {'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 11:30:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/32d410826da3dfc4c2250406e6542fa9fa49301c', 'message': ""Remove the useless environment variable.\n\nRemove the useless environment variable to set the virtualenv directory.\nIt's the default value and the variable was duplicate.\n\nChange-Id: I599fe28a0b9f48cdbf02fd87c95506a3176244e2\n""}]",0,699667,32d410826da3dfc4c2250406e6542fa9fa49301c,8,3,1,31245,,,0,"Remove the useless environment variable.

Remove the useless environment variable to set the virtualenv directory.
It's the default value and the variable was duplicate.

Change-Id: I599fe28a0b9f48cdbf02fd87c95506a3176244e2
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/67/699667/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,32d410826da3dfc4c2250406e6542fa9fa49301c,remove_useless_variable_for_virtualenv,, VIRTUAL_ENV={envdir} VIRTUAL_ENV={envdir},0,2
openstack%2Ftripleo-quickstart-extras~master~Ibb3b62253c1a1ae4f7fb56791619a84ce9f9042f,openstack/tripleo-quickstart-extras,master,Ibb3b62253c1a1ae4f7fb56791619a84ce9f9042f,Ensure NSS package is updated for FreeIPA deploy,MERGED,2019-12-11 20:33:56.000000000,2019-12-19 22:19:43.000000000,2019-12-19 22:19:43.000000000,"[{'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-11 20:33:56.000000000', 'files': ['roles/freeipa-setup/templates/deploy_freeipa.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/38ef0457f8d022dd91a2ba717217e29be63e0164', 'message': 'Ensure NSS package is updated for FreeIPA deploy\n\nThere is an issue with older versions of NSS that will result in\nthe CA server not launching and subsequently blowing up the\nFreeIPA deployment. The resulting logs do not clearly identify this\npackage as the culprit.\n\nChange-Id: Ibb3b62253c1a1ae4f7fb56791619a84ce9f9042f\n'}]",0,698585,38ef0457f8d022dd91a2ba717217e29be63e0164,16,5,1,11589,,,0,"Ensure NSS package is updated for FreeIPA deploy

There is an issue with older versions of NSS that will result in
the CA server not launching and subsequently blowing up the
FreeIPA deployment. The resulting logs do not clearly identify this
package as the culprit.

Change-Id: Ibb3b62253c1a1ae4f7fb56791619a84ce9f9042f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/85/698585/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/freeipa-setup/templates/deploy_freeipa.sh.j2'],1,38ef0457f8d022dd91a2ba717217e29be63e0164,,## * Update NSS (required for CA server to launch during deploy) yum update -y nss ,,4,0
openstack%2Fansible-role-collect-logs~master~I67495abab485105b45619e477204414421496b60,openstack/ansible-role-collect-logs,master,I67495abab485105b45619e477204414421496b60,Render undercloud ara results,MERGED,2019-12-18 20:42:23.000000000,2019-12-19 22:19:41.000000000,2019-12-19 22:19:41.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-18 20:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/233a96d2c9d0d6a50c4e7770479cefd8e8efb49e', 'message': 'WIP: render UC ara results\n\nChange-Id: I67495abab485105b45619e477204414421496b60\n'}, {'number': 2, 'created': '2019-12-19 13:50:25.000000000', 'files': ['tasks/publish.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/1b8ed193fd70d6c7c9e95d4a3a34acfe43ee9c28', 'message': 'Render undercloud ara results\n\nGenerate HTML for undercloud or standalone ARA stats\n\nChange-Id: I67495abab485105b45619e477204414421496b60\n'}]",0,699867,1b8ed193fd70d6c7c9e95d4a3a34acfe43ee9c28,12,3,2,10969,,,0,"Render undercloud ara results

Generate HTML for undercloud or standalone ARA stats

Change-Id: I67495abab485105b45619e477204414421496b60
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/67/699867/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/publish.yml'],1,233a96d2c9d0d6a50c4e7770479cefd8e8efb49e,uc, - name: Generate and retrieve the ARA static playbook report for undercloud {{ local_working_dir }}/bin/ara generate html {{ local_working_dir }}/ara_oooq_uc; {{ local_working_dir }}/bin/ara task list --all -f json > {{ artcl_collect_dir }}/ara.oooq.uc.json; cp -r {{ local_working_dir }}/ara_oooq_uc {{ artcl_collect_dir }}/; environment: ARA_DATABASE: 'sqlite:///{{ working_dir }}/ara_db.sql', - name: Generate and retrieve root the ARA static playbook report become: true {{ local_working_dir }}/bin/ara generate html {{ local_working_dir }}/ara_oooq_root; {{ local_working_dir }}/bin/ara task list --all -f json > {{ artcl_collect_dir }}/ara.oooq.root.json; cp -r {{ local_working_dir }}/ara_oooq_root {{ artcl_collect_dir }}/;,6,5
openstack%2Fwhitebox-tempest-plugin~master~I50dd7f447ec347177b245af69532b6688154acca,openstack/whitebox-tempest-plugin,master,I50dd7f447ec347177b245af69532b6688154acca,Use ansible_become instead of become in multinode devstack gate,MERGED,2019-12-18 19:00:09.000000000,2019-12-19 22:01:23.000000000,2019-12-19 22:01:23.000000000,"[{'_account_id': 8864}, {'_account_id': 19619}, {'_account_id': 22348}, {'_account_id': 27478}, {'_account_id': 31033}]","[{'number': 1, 'created': '2019-12-18 19:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/a5a8541e1fd7c60ef89a0be9d57b887460fcc273', 'message': ""Use ansible_become instead of become in multinode devstack gate\n\nMultinode devstack gate job failed on RETRY_LIMIT due to using\nbecome with below error:\nERROR! 'become' is not a valid attribute for a IncludeRole\n\nThis patch uses the correct variable ansible_become to be used with\ninclude_roles.\n\nChange-Id: I50dd7f447ec347177b245af69532b6688154acca\n""}, {'number': 2, 'created': '2019-12-19 16:39:57.000000000', 'files': ['roles/whitebox-common/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/6218b77c4b16d60eda0df828f6181b38594d611f', 'message': ""Use ansible_become instead of become in multinode devstack gate\n\nIn Ansible 2.8 the become and become_user are not valid options for\ninclude_role. This is causing the multinode devstack gate job to fail\nwith:\n\nERROR! 'become' is not a valid attribute for a IncludeRole\n\nThis patch uses the correct variable ansible_become to be used with\ninclude_roles.\n\nChange-Id: I50dd7f447ec347177b245af69532b6688154acca\n""}]",0,699850,6218b77c4b16d60eda0df828f6181b38594d611f,15,5,2,27478,,,0,"Use ansible_become instead of become in multinode devstack gate

In Ansible 2.8 the become and become_user are not valid options for
include_role. This is causing the multinode devstack gate job to fail
with:

ERROR! 'become' is not a valid attribute for a IncludeRole

This patch uses the correct variable ansible_become to be used with
include_roles.

Change-Id: I50dd7f447ec347177b245af69532b6688154acca
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/50/699850/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/whitebox-common/tasks/main.yml'],1,a5a8541e1fd7c60ef89a0be9d57b887460fcc273,fix-gate, ansible_become: yes, become: yes,1,1
openstack%2Fpuppet-openstack_spec_helper~stable%2Ftrain~Ie64e8af8c461e0869a9d2e04eb700ad052ccee9b,openstack/puppet-openstack_spec_helper,stable/train,Ie64e8af8c461e0869a9d2e04eb700ad052ccee9b,Disable relative_classname_inclusion,MERGED,2019-12-07 22:35:22.000000000,2019-12-19 21:49:44.000000000,2019-12-07 23:42:52.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-07 22:35:22.000000000', 'files': ['puppet-openstack_spec_helper.gemspec', 'lib/puppet-openstack_spec_helper/rake_tasks.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/387a3f1a5f8da910b6cd4aceb68569675dc9aa8c', 'message': 'Disable relative_classname_inclusion\n\nWe still have some places to use absolute paths to inclusion,\nso disable the test until we complete migration to relative paths.\n\nChange-Id: Ie64e8af8c461e0869a9d2e04eb700ad052ccee9b\n(cherry picked from commit 33fc996588f092d5d5a43875a5339cba070a5853)\n'}]",0,697853,387a3f1a5f8da910b6cd4aceb68569675dc9aa8c,7,3,1,3153,,,0,"Disable relative_classname_inclusion

We still have some places to use absolute paths to inclusion,
so disable the test until we complete migration to relative paths.

Change-Id: Ie64e8af8c461e0869a9d2e04eb700ad052ccee9b
(cherry picked from commit 33fc996588f092d5d5a43875a5339cba070a5853)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/53/697853/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-openstack_spec_helper.gemspec', 'lib/puppet-openstack_spec_helper/rake_tasks.rb']",2,387a3f1a5f8da910b6cd4aceb68569675dc9aa8c,train/lint2," # TODO(tobias-urdin) Remove relative_classname_inclusion # when we have fixed all the absolute includes to relative. # https://github.com/voxpupuli/puppet-lint-absolute_classname-check#relative-class-name-inclusion config.disable_checks = [""80chars"", ""class_inherits_from_params_class"", ""only_variable_string"", ""relative_classname_inclusion""]"," config.disable_checks = [""80chars"", ""class_inherits_from_params_class"", ""only_variable_string""]",6,5
openstack%2Fpython-octaviaclient~master~I7280d2e8d027733e34be6a92b096f7e054563d62,openstack/python-octaviaclient,master,I7280d2e8d027733e34be6a92b096f7e054563d62,Add support for availability zone [profiles],MERGED,2019-11-18 04:49:03.000000000,2019-12-19 21:45:58.000000000,2019-12-19 21:44:27.000000000,"[{'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-18 04:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/dfcab73e8026844ea23dd1bb5b3dfa57c28abd12', 'message': 'Add support for availability zone and availability zone profiles.\n\nCan now also pass the --availability-zone argument when creating a\nload balancer.\n\nChange-Id: I7280d2e8d027733e34be6a92b096f7e054563d62\n'}, {'number': 2, 'created': '2019-12-02 01:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/4a2ac02d76a15f4625eb9eaedcb8e515006e372c', 'message': 'Add support for availability zone and availability zone profiles.\n\nCan now also pass the --availability-zone argument when creating a\nload balancer.\n\nChange-Id: I7280d2e8d027733e34be6a92b096f7e054563d62\n'}, {'number': 3, 'created': '2019-12-18 00:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/2c91c52e8ea22d5c7b7d616b377692cd7b404d7d', 'message': 'Add support for availability zone and availability zone profiles.\n\nCan now also pass the --availability-zone argument when creating a\nload balancer.\n\nChange-Id: I7280d2e8d027733e34be6a92b096f7e054563d62\n'}, {'number': 4, 'created': '2019-12-18 16:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/cb140d6c59d1383c04b03d2f5be4ee5c7cbb6f0f', 'message': 'Add support for availability zone and availability zone profiles.\n\nCan now also pass the --availability-zone argument when creating a\nload balancer.\n\nChange-Id: I7280d2e8d027733e34be6a92b096f7e054563d62\n'}, {'number': 5, 'created': '2019-12-19 00:54:26.000000000', 'files': ['octaviaclient/osc/v2/flavor.py', 'octaviaclient/tests/unit/osc/v2/test_provider.py', 'octaviaclient/osc/v2/load_balancer.py', 'octaviaclient/osc/v2/constants.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/tests/unit/osc/v2/test_availabilityzoneprofile.py', 'octaviaclient/api/constants.py', 'octaviaclient/osc/v2/availabilityzone.py', 'octaviaclient/tests/unit/api/test_octavia.py', 'releasenotes/notes/add-az-and-profiles-ed79c945c4e0d418.yaml', 'octaviaclient/osc/v2/provider.py', 'octaviaclient/tests/unit/osc/v2/test_availabilityzone.py', 'octaviaclient/tests/unit/osc/v2/constants.py', 'octaviaclient/api/v2/octavia.py', 'doc/source/cli/index.rst', 'setup.cfg', 'octaviaclient/osc/v2/availabilityzoneprofile.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/4033c417904f44dc2f4fb05456791734b8b05bbc', 'message': 'Add support for availability zone [profiles]\n\nCan now also pass the --availability-zone argument when creating a\nload balancer.\n\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nChange-Id: I7280d2e8d027733e34be6a92b096f7e054563d62\n'}]",6,694711,4033c417904f44dc2f4fb05456791734b8b05bbc,28,4,5,3031,,,0,"Add support for availability zone [profiles]

Can now also pass the --availability-zone argument when creating a
load balancer.

Co-Authored-By: Adam Harwell <flux.adam@gmail.com>
Change-Id: I7280d2e8d027733e34be6a92b096f7e054563d62
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/11/694711/5 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/osc/v2/load_balancer.py', 'octaviaclient/osc/v2/constants.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/tests/unit/osc/v2/test_availabilityzoneprofile.py', 'octaviaclient/api/constants.py', 'octaviaclient/osc/v2/availabilityzone.py', 'octaviaclient/tests/unit/api/test_octavia.py', 'releasenotes/notes/add-az-and-profiles-ed79c945c4e0d418.yaml', 'octaviaclient/tests/unit/osc/v2/test_availabilityzone.py', 'octaviaclient/tests/unit/osc/v2/constants.py', 'octaviaclient/api/v2/octavia.py', 'setup.cfg', 'octaviaclient/osc/v2/availabilityzoneprofile.py']",13,dfcab73e8026844ea23dd1bb5b3dfa57c28abd12,octavia-availability-zones,"# Copyright (c) 2018 China Telecom Corporation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Availabilityzone profile action implementation"""""" from cliff import lister from osc_lib.command import command from osc_lib import utils from octaviaclient.osc.v2 import constants as const from octaviaclient.osc.v2 import utils as v2_utils class CreateAvailabilityzoneProfile(command.ShowOne): """"""Create a octavia availabilityzone profile"""""" def get_parser(self, prog_name): parser = super(CreateAvailabilityzoneProfile, self).get_parser( prog_name) parser.add_argument( '--name', metavar='<name>', required=True, help=""New octavia availabilityzone profile name."" ) parser.add_argument( '--provider', metavar='<provider name>', required=True, help=""Provider name for the availabilityzone profile."" ) parser.add_argument( '--availability-zone-data', metavar='<availability_zone_data>', required=True, help=""The JSON string containing the availabilityzone metadata."" ) return parser def take_action(self, parsed_args): rows = const.AVAILABILITYZONEPROFILE_ROWS attrs = v2_utils.get_availabilityzoneprofile_attrs( self.app.client_manager, parsed_args) body = {""availability_zone_profile"": attrs} client_manager = self.app.client_manager data = client_manager.load_balancer.availabilityzoneprofile_create( json=body) return (rows, (utils.get_dict_properties( data['availability_zone_profile'], rows, formatters={}))) class DeleteAvailabilityzoneProfile(command.Command): """"""Delete a availabilityzone profile"""""" def get_parser(self, prog_name): parser = super(DeleteAvailabilityzoneProfile, self).get_parser( prog_name) parser.add_argument( 'availabilityzoneprofile', metavar='<availabilityzone_profile>', help=""Availabilityzone profiles to delete (name or ID)"" ) return parser def take_action(self, parsed_args): attrs = v2_utils.get_availabilityzoneprofile_attrs( self.app.client_manager, parsed_args) availabilityzoneprofile_id = attrs.pop('availability_zone_profile_id') self.app.client_manager.load_balancer.availabilityzoneprofile_delete( availabilityzoneprofile_id=availabilityzoneprofile_id) class ListAvailabilityzoneProfile(lister.Lister): """"""List availabilityzone profile"""""" def get_parser(self, prog_name): parser = super(ListAvailabilityzoneProfile, self).get_parser(prog_name) parser.add_argument( '--name', metavar='<name>', help=""List availabilityzone profiles by profile name."" ) parser.add_argument( '--provider', metavar='<provider_name>', help=""List availabilityzone profiles according to their provider."", ) return parser def take_action(self, parsed_args): columns = const.AVAILABILITYZONEPROFILE_COLUMNS attrs = v2_utils.get_availabilityzoneprofile_attrs( self.app.client_manager, parsed_args) client_manager = self.app.client_manager data = client_manager.load_balancer.availabilityzoneprofile_list( **attrs) return (columns, (utils.get_dict_properties(s, columns, formatters={}) for s in data['availability_zone_profiles'])) class ShowAvailabilityzoneProfile(command.ShowOne): """"""Show the details for a single availabilityzone profile"""""" def get_parser(self, prog_name): parser = super(ShowAvailabilityzoneProfile, self).get_parser(prog_name) parser.add_argument( 'availabilityzoneprofile', metavar='<availabilityzone_profile>', help=""Name or UUID of the availabilityzone profile to show."" ) return parser def take_action(self, parsed_args): rows = const.AVAILABILITYZONEPROFILE_ROWS attrs = v2_utils.get_availabilityzoneprofile_attrs( self.app.client_manager, parsed_args) availabilityzoneprofile_id = attrs.pop('availability_zone_profile_id') client_manager = self.app.client_manager data = client_manager.load_balancer.availabilityzoneprofile_show( availabilityzoneprofile_id=availabilityzoneprofile_id ) return (rows, (utils.get_dict_properties( data, rows, formatters={}))) class SetAvailabilityzoneProfile(command.Command): """"""Update a availabilityzone profile"""""" def get_parser(self, prog_name): parser = super(SetAvailabilityzoneProfile, self).get_parser(prog_name) parser.add_argument( 'availabilityzoneprofile', metavar='<availabilityzone_profile>', help='Name or UUID of the availabilityzone profile to update.' ) parser.add_argument( '--name', metavar='<name>', help=""Set the name of the availabilityzone profile."" ) parser.add_argument( '--provider', metavar='<provider_name>', help=""Set the provider of the availabilityzone profile."" ) parser.add_argument( '--availabilityzone-data', metavar='<availabilityzone_data>', help=""Set the availabilityzone data of the profile."" ) return parser def take_action(self, parsed_args): attrs = v2_utils.get_availabilityzoneprofile_attrs( self.app.client_manager, parsed_args) availabilityzoneprofile_id = attrs.pop('availability_zone_profile_id') body = {'availability_zone_profile': attrs} self.app.client_manager.load_balancer.availabilityzoneprofile_set( availabilityzoneprofile_id, json=body) ",,1311,1
openstack%2Fpuppet-openstack_spec_helper~stable%2Fstein~Ie64e8af8c461e0869a9d2e04eb700ad052ccee9b,openstack/puppet-openstack_spec_helper,stable/stein,Ie64e8af8c461e0869a9d2e04eb700ad052ccee9b,Disable relative_classname_inclusion,MERGED,2019-12-07 22:35:53.000000000,2019-12-19 21:38:18.000000000,2019-12-08 06:02:08.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-07 22:35:53.000000000', 'files': ['puppet-openstack_spec_helper.gemspec', 'lib/puppet-openstack_spec_helper/rake_tasks.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/e7e50db6cd6336a827422b14e079ee3d67b9e20c', 'message': 'Disable relative_classname_inclusion\n\nWe still have some places to use absolute paths to inclusion,\nso disable the test until we complete migration to relative paths.\n\nChange-Id: Ie64e8af8c461e0869a9d2e04eb700ad052ccee9b\n(cherry picked from commit 33fc996588f092d5d5a43875a5339cba070a5853)\n'}]",0,697855,e7e50db6cd6336a827422b14e079ee3d67b9e20c,9,4,1,3153,,,0,"Disable relative_classname_inclusion

We still have some places to use absolute paths to inclusion,
so disable the test until we complete migration to relative paths.

Change-Id: Ie64e8af8c461e0869a9d2e04eb700ad052ccee9b
(cherry picked from commit 33fc996588f092d5d5a43875a5339cba070a5853)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/55/697855/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-openstack_spec_helper.gemspec', 'lib/puppet-openstack_spec_helper/rake_tasks.rb']",2,e7e50db6cd6336a827422b14e079ee3d67b9e20c,stein/lint2," # TODO(tobias-urdin) Remove relative_classname_inclusion # when we have fixed all the absolute includes to relative. # https://github.com/voxpupuli/puppet-lint-absolute_classname-check#relative-class-name-inclusion config.disable_checks = [""80chars"", ""class_inherits_from_params_class"", ""only_variable_string"", ""relative_classname_inclusion""]"," config.disable_checks = [""80chars"", ""class_inherits_from_params_class"", ""only_variable_string""]",6,5
openstack%2Fpuppet-openstack_spec_helper~stable%2Frocky~Ie64e8af8c461e0869a9d2e04eb700ad052ccee9b,openstack/puppet-openstack_spec_helper,stable/rocky,Ie64e8af8c461e0869a9d2e04eb700ad052ccee9b,Disable relative_classname_inclusion,MERGED,2019-12-07 22:36:28.000000000,2019-12-19 21:37:58.000000000,2019-12-07 23:42:57.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-07 22:36:28.000000000', 'files': ['puppet-openstack_spec_helper.gemspec', 'lib/puppet-openstack_spec_helper/rake_tasks.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/30178762a6062cc1f7e29b92f689434a5b0e6d8c', 'message': 'Disable relative_classname_inclusion\n\nWe still have some places to use absolute paths to inclusion,\nso disable the test until we complete migration to relative paths.\n\nChange-Id: Ie64e8af8c461e0869a9d2e04eb700ad052ccee9b\n(cherry picked from commit 33fc996588f092d5d5a43875a5339cba070a5853)\n'}]",0,697857,30178762a6062cc1f7e29b92f689434a5b0e6d8c,7,3,1,3153,,,0,"Disable relative_classname_inclusion

We still have some places to use absolute paths to inclusion,
so disable the test until we complete migration to relative paths.

Change-Id: Ie64e8af8c461e0869a9d2e04eb700ad052ccee9b
(cherry picked from commit 33fc996588f092d5d5a43875a5339cba070a5853)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/57/697857/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-openstack_spec_helper.gemspec', 'lib/puppet-openstack_spec_helper/rake_tasks.rb']",2,30178762a6062cc1f7e29b92f689434a5b0e6d8c,rocky/lint2," # TODO(tobias-urdin) Remove relative_classname_inclusion # when we have fixed all the absolute includes to relative. # https://github.com/voxpupuli/puppet-lint-absolute_classname-check#relative-class-name-inclusion config.disable_checks = [""80chars"", ""class_inherits_from_params_class"", ""only_variable_string"", ""relative_classname_inclusion""]"," config.disable_checks = [""80chars"", ""class_inherits_from_params_class"", ""only_variable_string""]",6,5
openstack%2Fdevstack~stable%2Fpike~I82aa19e739eeda3721bac1cb5153ad0bf2d1125a,openstack/devstack,stable/pike,I82aa19e739eeda3721bac1cb5153ad0bf2d1125a,Centralize setting default branch for stable branching,ABANDONED,2019-09-25 14:20:33.000000000,2019-12-19 21:37:35.000000000,,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-25 14:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7e3b589c0756c7ff953498cfbbf8026ad9ed2423', 'message': ""Centralize setting default branch for stable branching\n\nOne of the steps when we create a new stable branch is to\nbranch devstack, then update the default branch for most\nrepos to use the new stable branch for each repo.\n\nThis requires making multiple updates throughout stackrc,\nand to further complicate things, there are some repo\nbranch variables for branchless repos that should not be\nupdated along with the others.\n\nThis can be error prone if not fully aware of these\nexceptions. To simplify this process a little, this\npatch adds two common variables - one that can be set to\nthe new stable branch name for all of the repos that\nshould be branched, and one that can be used for all of\nthe branchless repos to make it explicit that those\nvalues should be left alone. The cycle-trailing repos\nhave until two weeks after final release to branch, so\nalso adding another variable for those to make it easy\nto update them at a later time, separately from the\nother repos.\n\nConflicts:\n      stackrc\n      tests/test_refs.sh\n\nNOTE(mriedem): The conflicts are due to change\nI8c8b4ce1926af1fc5eb3844114b4c055ab38359c on stable/pike\nwhich was the last time the branches were hard-coded\neverywhere rather than centralized, which is what this\nchange does. As a result, one difference in the backport\nis that the TARGET_BRANCH immediately defaults to\nstable/pike since we won't backport the stable/queens\nchange I861068ae1a9902cef61c52c70dda7bb42f4371a0.\n\nRelated-Bug: #1835627\n\nChange-Id: I82aa19e739eeda3721bac1cb5153ad0bf2d1125a\n(cherry picked from commit a4922067009b4e293811ec6aa976ef7f72363069)\n(cherry picked from commit fd9b8c31a242dd008ffd023dedb1d66206af6168)\n""}, {'number': 2, 'created': '2019-09-25 14:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c76d7fc421f41930efb0af108f82a124b57e39a8', 'message': ""Centralize setting default branch for stable branching\n\nOne of the steps when we create a new stable branch is to\nbranch devstack, then update the default branch for most\nrepos to use the new stable branch for each repo.\n\nThis requires making multiple updates throughout stackrc,\nand to further complicate things, there are some repo\nbranch variables for branchless repos that should not be\nupdated along with the others.\n\nThis can be error prone if not fully aware of these\nexceptions. To simplify this process a little, this\npatch adds two common variables - one that can be set to\nthe new stable branch name for all of the repos that\nshould be branched, and one that can be used for all of\nthe branchless repos to make it explicit that those\nvalues should be left alone. The cycle-trailing repos\nhave until two weeks after final release to branch, so\nalso adding another variable for those to make it easy\nto update them at a later time, separately from the\nother repos.\n\nConflicts:\n      stackrc\n      tests/test_refs.sh\n\nNOTE(mriedem): The conflicts are due to change\nI8c8b4ce1926af1fc5eb3844114b4c055ab38359c on stable/pike\nwhich was the last time the branches were hard-coded\neverywhere rather than centralized, which is what this\nchange does. As a result, one difference in the backport\nis that the TARGET_BRANCH immediately defaults to\nstable/pike since we won't backport the stable/queens\nchange I861068ae1a9902cef61c52c70dda7bb42f4371a0.\n\nRelated-Bug: #1835627\n\nChange-Id: I82aa19e739eeda3721bac1cb5153ad0bf2d1125a\n(cherry picked from commit a4922067009b4e293811ec6aa976ef7f72363069)\n(cherry picked from commit fd9b8c31a242dd008ffd023dedb1d66206af6168)\n""}, {'number': 3, 'created': '2019-10-04 19:31:52.000000000', 'files': ['tests/test_refs.sh', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9e6d56e4c72372726fa6ef1e136230e879ae0da4', 'message': ""Centralize setting default branch for stable branching\n\nOne of the steps when we create a new stable branch is to\nbranch devstack, then update the default branch for most\nrepos to use the new stable branch for each repo.\n\nThis requires making multiple updates throughout stackrc,\nand to further complicate things, there are some repo\nbranch variables for branchless repos that should not be\nupdated along with the others.\n\nThis can be error prone if not fully aware of these\nexceptions. To simplify this process a little, this\npatch adds two common variables - one that can be set to\nthe new stable branch name for all of the repos that\nshould be branched, and one that can be used for all of\nthe branchless repos to make it explicit that those\nvalues should be left alone. The cycle-trailing repos\nhave until two weeks after final release to branch, so\nalso adding another variable for those to make it easy\nto update them at a later time, separately from the\nother repos.\n\nConflicts:\n      stackrc\n      tests/test_refs.sh\n\nNOTE(mriedem): The conflicts are due to change\nI8c8b4ce1926af1fc5eb3844114b4c055ab38359c on stable/pike\nwhich was the last time the branches were hard-coded\neverywhere rather than centralized, which is what this\nchange does. As a result, one difference in the backport\nis that the TARGET_BRANCH immediately defaults to\nstable/pike since we won't backport the stable/queens\nchange I861068ae1a9902cef61c52c70dda7bb42f4371a0. Also\nIaefb5b90036eef67529f93bdf6675bd2d511c3c9 on stable/pike\nhard-codes the TEMPEST_BRANCH to use the 21.0.0 tag.\n\nRelated-Bug: #1835627\n\nChange-Id: I82aa19e739eeda3721bac1cb5153ad0bf2d1125a\n(cherry picked from commit a4922067009b4e293811ec6aa976ef7f72363069)\n(cherry picked from commit fd9b8c31a242dd008ffd023dedb1d66206af6168)\n""}]",3,684756,9e6d56e4c72372726fa6ef1e136230e879ae0da4,18,3,3,6873,,,0,"Centralize setting default branch for stable branching

One of the steps when we create a new stable branch is to
branch devstack, then update the default branch for most
repos to use the new stable branch for each repo.

This requires making multiple updates throughout stackrc,
and to further complicate things, there are some repo
branch variables for branchless repos that should not be
updated along with the others.

This can be error prone if not fully aware of these
exceptions. To simplify this process a little, this
patch adds two common variables - one that can be set to
the new stable branch name for all of the repos that
should be branched, and one that can be used for all of
the branchless repos to make it explicit that those
values should be left alone. The cycle-trailing repos
have until two weeks after final release to branch, so
also adding another variable for those to make it easy
to update them at a later time, separately from the
other repos.

Conflicts:
      stackrc
      tests/test_refs.sh

NOTE(mriedem): The conflicts are due to change
I8c8b4ce1926af1fc5eb3844114b4c055ab38359c on stable/pike
which was the last time the branches were hard-coded
everywhere rather than centralized, which is what this
change does. As a result, one difference in the backport
is that the TARGET_BRANCH immediately defaults to
stable/pike since we won't backport the stable/queens
change I861068ae1a9902cef61c52c70dda7bb42f4371a0. Also
Iaefb5b90036eef67529f93bdf6675bd2d511c3c9 on stable/pike
hard-codes the TEMPEST_BRANCH to use the 21.0.0 tag.

Related-Bug: #1835627

Change-Id: I82aa19e739eeda3721bac1cb5153ad0bf2d1125a
(cherry picked from commit a4922067009b4e293811ec6aa976ef7f72363069)
(cherry picked from commit fd9b8c31a242dd008ffd023dedb1d66206af6168)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/56/684756/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_refs.sh', 'stackrc']",2,7e3b589c0756c7ff953498cfbbf8026ad9ed2423,bug/1835627,"# Set the target branch. This is used so that stable branching # does not need to update each repo below. TARGET_BRANCH=stable/queens # Cycle trailing projects need to branch later than the others. TRAILING_TARGET_BRANCH=master # And some repos do not create stable branches, so this is used # to make it explicit and avoid accidentally setting to a stable # branch. BRANCHLESS_TARGET_BRANCH=master CINDER_BRANCH=${CINDER_BRANCH:-$TARGET_BRANCH}GLANCE_BRANCH=${GLANCE_BRANCH:-$TARGET_BRANCH}HORIZON_BRANCH=${HORIZON_BRANCH:-$TARGET_BRANCH}KEYSTONE_BRANCH=${KEYSTONE_BRANCH:-$TARGET_BRANCH}NEUTRON_BRANCH=${NEUTRON_BRANCH:-$TARGET_BRANCH}NEUTRON_FWAAS_BRANCH=${NEUTRON_FWAAS_BRANCH:-$TARGET_BRANCH}NOVA_BRANCH=${NOVA_BRANCH:-$TARGET_BRANCH}SWIFT_BRANCH=${SWIFT_BRANCH:-$TARGET_BRANCH}REQUIREMENTS_BRANCH=${REQUIREMENTS_BRANCH:-$TARGET_BRANCH}TEMPEST_BRANCH=${TEMPEST_BRANCH:-$BRANCHLESS_TARGET_BRANCH}GITBRANCH[""python-cinderclient""]=${CINDERCLIENT_BRANCH:-$TARGET_BRANCH}GITBRANCH[""python-brick-cinderclient-ext""]=${BRICK_CINDERCLIENT_BRANCH:-$TARGET_BRANCH}GITBRANCH[""python-barbicanclient""]=${BARBICANCLIENT_BRANCH:-$TARGET_BRANCH}GITBRANCH[""python-glanceclient""]=${GLANCECLIENT_BRANCH:-$TARGET_BRANCH}GITBRANCH[""python-ironicclient""]=${IRONICCLIENT_BRANCH:-$TARGET_BRANCH}GITBRANCH[""keystoneauth""]=${KEYSTONEAUTH_BRANCH:-$TARGET_BRANCH}GITBRANCH[""python-keystoneclient""]=${KEYSTONECLIENT_BRANCH:-$TARGET_BRANCH}GITBRANCH[""python-neutronclient""]=${NEUTRONCLIENT_BRANCH:-$TARGET_BRANCH}GITBRANCH[""python-novaclient""]=${NOVACLIENT_BRANCH:-$TARGET_BRANCH}GITBRANCH[""python-swiftclient""]=${SWIFTCLIENT_BRANCH:-$TARGET_BRANCH}GITBRANCH[""python-openstackclient""]=${OPENSTACKCLIENT_BRANCH:-$TARGET_BRANCH}GITBRANCH[""castellan""]=${CASTELLAN_BRANCH:-$TARGET_BRANCH}GITBRANCH[""cliff""]=${CLIFF_BRANCH:-$TARGET_BRANCH}GITBRANCH[""futurist""]=${FUTURIST_BRANCH:-$TARGET_BRANCH}GITBRANCH[""debtcollector""]=${DEBTCOLLECTOR_BRANCH:-$TARGET_BRANCH}GITBRANCH[""automaton""]=${AUTOMATON_BRANCH:-$TARGET_BRANCH}GITBRANCH[""oslo.cache""]=${OSLOCACHE_BRANCH:-$TARGET_BRANCH}GITBRANCH[""oslo.concurrency""]=${OSLOCON_BRANCH:-$TARGET_BRANCH}GITBRANCH[""oslo.config""]=${OSLOCFG_BRANCH:-$TARGET_BRANCH}GITBRANCH[""oslo.context""]=${OSLOCTX_BRANCH:-$TARGET_BRANCH}GITBRANCH[""oslo.db""]=${OSLODB_BRANCH:-$TARGET_BRANCH}GITBRANCH[""oslo.i18n""]=${OSLOI18N_BRANCH:-$TARGET_BRANCH}GITBRANCH[""oslo.log""]=${OSLOLOG_BRANCH:-$TARGET_BRANCH}GITBRANCH[""oslo.messaging""]=${OSLOMSG_BRANCH:-$TARGET_BRANCH}GITBRANCH[""oslo.middleware""]=${OSLOMID_BRANCH:-$TARGET_BRANCH}GITBRANCH[""oslo.policy""]=${OSLOPOLICY_BRANCH:-$TARGET_BRANCH}GITBRANCH[""oslo.privsep""]=${OSLOPRIVSEP_BRANCH:-$TARGET_BRANCH}GITBRANCH[""oslo.reports""]=${OSLOREPORTS_BRANCH:-$TARGET_BRANCH}GITBRANCH[""oslo.rootwrap""]=${OSLORWRAP_BRANCH:-$TARGET_BRANCH}GITBRANCH[""oslo.serialization""]=${OSLOSERIALIZATION_BRANCH:-$TARGET_BRANCH}GITBRANCH[""oslo.service""]=${OSLOSERVICE_BRANCH:-$TARGET_BRANCH}GITBRANCH[""oslo.utils""]=${OSLOUTILS_BRANCH:-$TARGET_BRANCH}GITBRANCH[""oslo.versionedobjects""]=${OSLOVERSIONEDOBJECTS_BRANCH:-$TARGET_BRANCH}GITBRANCH[""oslo.vmware""]=${OSLOVMWARE_BRANCH:-$TARGET_BRANCH}GITBRANCH[""osprofiler""]=${OSPROFILER_BRANCH:-$TARGET_BRANCH}GITBRANCH[""pycadf""]=${PYCADF_BRANCH:-$TARGET_BRANCH}GITBRANCH[""stevedore""]=${STEVEDORE_BRANCH:-$TARGET_BRANCH}GITBRANCH[""taskflow""]=${TASKFLOW_BRANCH:-$TARGET_BRANCH}GITBRANCH[""tooz""]=${TOOZ_BRANCH:-$TARGET_BRANCH}GITBRANCH[""pbr""]=${PBR_BRANCH:-$TARGET_BRANCH}GITBRANCH[""cursive""]=${CURSIVE_BRANCH:-$TARGET_BRANCH}GITBRANCH[""glance_store""]=${GLANCE_STORE_BRANCH:-$TARGET_BRANCH}GITBRANCH[""django_openstack_auth""]=${HORIZONAUTH_BRANCH:-$TARGET_BRANCH}GITBRANCH[""keystonemiddleware""]=${KEYSTONEMIDDLEWARE_BRANCH:-$TARGET_BRANCH}SWIFT3_BRANCH=${SWIFT3_BRANCH:-$TARGET_BRANCH}GITBRANCH[""ceilometermiddleware""]=${CEILOMETERMIDDLEWARE_BRANCH:-$TARGET_BRANCH}GITBRANCH[""os-brick""]=${OS_BRICK_BRANCH:-$TARGET_BRANCH}GITBRANCH[""os-client-config""]=${OS_CLIENT_CONFIG_BRANCH:-$TARGET_BRANCH}GITBRANCH[""os-vif""]=${OS_VIF_BRANCH:-$TARGET_BRANCH}GITBRANCH[""osc-lib""]=${OSC_LIB_BRANCH:-$TARGET_BRANCH}GITBRANCH[""python-openstacksdk""]=${OPENSTACKSDK_BRANCH:-$TARGET_BRANCH}GITBRANCH[""ironic-lib""]=${IRONIC_LIB_BRANCH:-$TARGET_BRANCH}GITBRANCH[""diskimage-builder""]=${DIB_BRANCH:-$TARGET_BRANCH}GITBRANCH[""neutron-lib""]=${NEUTRON_LIB_BRANCH:-$TARGET_BRANCH}GITBRANCH[""os-traits""]=${OS_TRAITS_BRANCH:-$TARGET_BRANCH}DIB_UTILS_BRANCH=${DIB_UTILS_BRANCH:-$BRANCHLESS_TARGET_BRANCH}OAC_BRANCH=${OAC_BRANCH:-$TRAILING_TARGET_BRANCH}OCC_BRANCH=${OCC_BRANCH:-$TRAILING_TARGET_BRANCH}ORC_BRANCH=${ORC_BRANCH:-$TRAILING_TARGET_BRANCH}IRONIC_PYTHON_AGENT_BRANCH=${IRONIC_PYTHON_AGENT_BRANCH:-$TARGET_BRANCH}SPICE_BRANCH=${SPICE_BRANCH:-$BRANCHLESS_TARGET_BRANCH}","CINDER_BRANCH=${CINDER_BRANCH:-stable/pike}GLANCE_BRANCH=${GLANCE_BRANCH:-stable/pike}HORIZON_BRANCH=${HORIZON_BRANCH:-stable/pike}KEYSTONE_BRANCH=${KEYSTONE_BRANCH:-stable/pike}NEUTRON_BRANCH=${NEUTRON_BRANCH:-stable/pike}NEUTRON_FWAAS_BRANCH=${NEUTRON_FWAAS_BRANCH:-stable/pike}NOVA_BRANCH=${NOVA_BRANCH:-stable/pike}SWIFT_BRANCH=${SWIFT_BRANCH:-stable/pike}REQUIREMENTS_BRANCH=${REQUIREMENTS_BRANCH:-stable/pike}TEMPEST_BRANCH=${TEMPEST_BRANCH:-master}GITBRANCH[""python-cinderclient""]=${CINDERCLIENT_BRANCH:-stable/pike}GITBRANCH[""python-brick-cinderclient-ext""]=${BRICK_CINDERCLIENT_BRANCH:-stable/pike}GITBRANCH[""python-barbicanclient""]=${BARBICANCLIENT_BRANCH:-stable/pike}GITBRANCH[""python-glanceclient""]=${GLANCECLIENT_BRANCH:-stable/pike}GITBRANCH[""python-ironicclient""]=${IRONICCLIENT_BRANCH:-stable/pike}GITBRANCH[""keystoneauth""]=${KEYSTONEAUTH_BRANCH:-stable/pike}GITBRANCH[""python-keystoneclient""]=${KEYSTONECLIENT_BRANCH:-stable/pike}GITBRANCH[""python-neutronclient""]=${NEUTRONCLIENT_BRANCH:-stable/pike}GITBRANCH[""python-novaclient""]=${NOVACLIENT_BRANCH:-stable/pike}GITBRANCH[""python-swiftclient""]=${SWIFTCLIENT_BRANCH:-stable/pike}GITBRANCH[""python-openstackclient""]=${OPENSTACKCLIENT_BRANCH:-stable/pike}GITBRANCH[""castellan""]=${CASTELLAN_BRANCH:-stable/pike}GITBRANCH[""cliff""]=${CLIFF_BRANCH:-stable/pike}GITBRANCH[""futurist""]=${FUTURIST_BRANCH:-stable/pike}GITBRANCH[""debtcollector""]=${DEBTCOLLECTOR_BRANCH:-stable/pike}GITBRANCH[""automaton""]=${AUTOMATON_BRANCH:-stable/pike}GITBRANCH[""oslo.cache""]=${OSLOCACHE_BRANCH:-stable/pike}GITBRANCH[""oslo.concurrency""]=${OSLOCON_BRANCH:-stable/pike}GITBRANCH[""oslo.config""]=${OSLOCFG_BRANCH:-stable/pike}GITBRANCH[""oslo.context""]=${OSLOCTX_BRANCH:-stable/pike}GITBRANCH[""oslo.db""]=${OSLODB_BRANCH:-stable/pike}GITBRANCH[""oslo.i18n""]=${OSLOI18N_BRANCH:-stable/pike}GITBRANCH[""oslo.log""]=${OSLOLOG_BRANCH:-stable/pike}GITBRANCH[""oslo.messaging""]=${OSLOMSG_BRANCH:-stable/pike}GITBRANCH[""oslo.middleware""]=${OSLOMID_BRANCH:-stable/pike}GITBRANCH[""oslo.policy""]=${OSLOPOLICY_BRANCH:-stable/pike}GITBRANCH[""oslo.privsep""]=${OSLOPRIVSEP_BRANCH:-stable/pike}GITBRANCH[""oslo.reports""]=${OSLOREPORTS_BRANCH:-stable/pike}GITBRANCH[""oslo.rootwrap""]=${OSLORWRAP_BRANCH:-stable/pike}GITBRANCH[""oslo.serialization""]=${OSLOSERIALIZATION_BRANCH:-stable/pike}GITBRANCH[""oslo.service""]=${OSLOSERVICE_BRANCH:-stable/pike}GITBRANCH[""oslo.utils""]=${OSLOUTILS_BRANCH:-stable/pike}GITBRANCH[""oslo.versionedobjects""]=${OSLOVERSIONEDOBJECTS_BRANCH:-stable/pike}GITBRANCH[""oslo.vmware""]=${OSLOVMWARE_BRANCH:-stable/pike}GITBRANCH[""osprofiler""]=${OSPROFILER_BRANCH:-stable/pike}GITBRANCH[""pycadf""]=${PYCADF_BRANCH:-stable/pike}GITBRANCH[""stevedore""]=${STEVEDORE_BRANCH:-stable/pike}GITBRANCH[""taskflow""]=${TASKFLOW_BRANCH:-stable/pike}GITBRANCH[""tooz""]=${TOOZ_BRANCH:-stable/pike}GITBRANCH[""pbr""]=${PBR_BRANCH:-master}GITBRANCH[""cursive""]=${CURSIVE_BRANCH:-stable/pike}GITBRANCH[""glance_store""]=${GLANCE_STORE_BRANCH:-stable/pike}GITBRANCH[""django_openstack_auth""]=${HORIZONAUTH_BRANCH:-stable/pike}GITBRANCH[""keystonemiddleware""]=${KEYSTONEMIDDLEWARE_BRANCH:-stable/pike}SWIFT3_BRANCH=${SWIFT3_BRANCH:-stable/pike}GITBRANCH[""ceilometermiddleware""]=${CEILOMETERMIDDLEWARE_BRANCH:-stable/pike}GITBRANCH[""os-brick""]=${OS_BRICK_BRANCH:-stable/pike}GITBRANCH[""os-client-config""]=${OS_CLIENT_CONFIG_BRANCH:-stable/pike}GITBRANCH[""os-vif""]=${OS_VIF_BRANCH:-stable/pike}GITBRANCH[""osc-lib""]=${OSC_LIB_BRANCH:-stable/pike}GITBRANCH[""python-openstacksdk""]=${OPENSTACKSDK_BRANCH:-stable/pike}GITBRANCH[""ironic-lib""]=${IRONIC_LIB_BRANCH:-stable/pike}GITBRANCH[""diskimage-builder""]=${DIB_BRANCH:-master}GITBRANCH[""neutron-lib""]=${NEUTRON_LIB_BRANCH:-stable/pike}GITBRANCH[""os-traits""]=${OS_TRAITS_BRANCH:-stable/pike}DIB_UTILS_BRANCH=${DIB_UTILS_BRANCH:-master}OAC_BRANCH=${OAC_BRANCH:-master}OCC_BRANCH=${OCC_BRANCH:-master}ORC_BRANCH=${ORC_BRANCH:-master}IRONIC_PYTHON_AGENT_BRANCH=${IRONIC_PYTHON_AGENT_BRANCH:-master}SPICE_BRANCH=${SPICE_BRANCH:-master}",85,73
openstack%2Fpuppet-openstack_spec_helper~stable%2Fqueens~Ie64e8af8c461e0869a9d2e04eb700ad052ccee9b,openstack/puppet-openstack_spec_helper,stable/queens,Ie64e8af8c461e0869a9d2e04eb700ad052ccee9b,Disable relative_classname_inclusion,MERGED,2019-12-07 22:36:59.000000000,2019-12-19 21:37:13.000000000,2019-12-07 23:56:02.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-07 22:36:59.000000000', 'files': ['puppet-openstack_spec_helper.gemspec', 'lib/puppet-openstack_spec_helper/rake_tasks.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/1d6a33bef563eea3043973b0b0ed9c498030d04c', 'message': 'Disable relative_classname_inclusion\n\nWe still have some places to use absolute paths to inclusion,\nso disable the test until we complete migration to relative paths.\n\nChange-Id: Ie64e8af8c461e0869a9d2e04eb700ad052ccee9b\n(cherry picked from commit 33fc996588f092d5d5a43875a5339cba070a5853)\n'}]",0,697859,1d6a33bef563eea3043973b0b0ed9c498030d04c,7,3,1,3153,,,0,"Disable relative_classname_inclusion

We still have some places to use absolute paths to inclusion,
so disable the test until we complete migration to relative paths.

Change-Id: Ie64e8af8c461e0869a9d2e04eb700ad052ccee9b
(cherry picked from commit 33fc996588f092d5d5a43875a5339cba070a5853)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/59/697859/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-openstack_spec_helper.gemspec', 'lib/puppet-openstack_spec_helper/rake_tasks.rb']",2,1d6a33bef563eea3043973b0b0ed9c498030d04c,queens/lint2," # TODO(tobias-urdin) Remove relative_classname_inclusion # when we have fixed all the absolute includes to relative. # https://github.com/voxpupuli/puppet-lint-absolute_classname-check#relative-class-name-inclusion config.disable_checks = [""80chars"", ""class_inherits_from_params_class"", ""only_variable_string"", ""relative_classname_inclusion""]"," config.disable_checks = [""80chars"", ""class_inherits_from_params_class"", ""only_variable_string""]",6,5
openstack%2Fironic~stable%2Ftrain~I03b415ce4f07f9c306bafc05c52527f51061d864,openstack/ironic,stable/train,I03b415ce4f07f9c306bafc05c52527f51061d864,Update sushy library version,ABANDONED,2019-10-18 23:06:39.000000000,2019-12-19 21:20:06.000000000,,"[{'_account_id': 7160}, {'_account_id': 10250}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}]","[{'number': 1, 'created': '2019-10-18 23:06:39.000000000', 'files': ['releasenotes/notes/min-sushy-version-change-3b697530e0c05dee.yaml', 'driver-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8188e644f90c871e0ecdc29576339d12da220e49', 'message': 'Update sushy library version\n\nThis patch updates the sushy library version to a version that\ncontains a fix for a critical message registry bug.  This bug causes\nthe Redfish hardware type to not work against at least some Dell EMC\nhardware.\n\nSee: https://review.opendev.org/#/c/666253/\n\nChange-Id: I03b415ce4f07f9c306bafc05c52527f51061d864\nStory: #2006702\nTask: #37011\n(cherry picked from commit 0ab2c08e4741c18d17cfe5a4727b69ed01d64bb5)\n'}]",0,689603,8188e644f90c871e0ecdc29576339d12da220e49,9,7,1,11655,,,0,"Update sushy library version

This patch updates the sushy library version to a version that
contains a fix for a critical message registry bug.  This bug causes
the Redfish hardware type to not work against at least some Dell EMC
hardware.

See: https://review.opendev.org/#/c/666253/

Change-Id: I03b415ce4f07f9c306bafc05c52527f51061d864
Story: #2006702
Task: #37011
(cherry picked from commit 0ab2c08e4741c18d17cfe5a4727b69ed01d64bb5)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/03/689603/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/min-sushy-version-change-3b697530e0c05dee.yaml', 'driver-requirements.txt']",2,8188e644f90c871e0ecdc29576339d12da220e49,37011-stable/train,sushy>=2.0.0,sushy>=1.9.0,8,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ib2d5b019e3064acf50c06da071d9eb77fe0d10dd,openstack/tripleo-heat-templates,stable/queens,Ib2d5b019e3064acf50c06da071d9eb77fe0d10dd,Derive Pci passthrough whitelist disable option,MERGED,2019-12-17 12:22:58.000000000,2019-12-19 21:12:01.000000000,2019-12-19 21:12:01.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-17 12:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e42951afc1250bf4e8e5c6af7ebe549fe89f18af', 'message': 'Derive Pci passthrough whitelist disable option\n\nThis change is to add the option to disable the derive\npci passthrough whitelist automation logic in sriov\ndeployments if required.\n\nChange-Id: Ib2d5b019e3064acf50c06da071d9eb77fe0d10dd\nCloses-Bug: #1841041\n(cherry picked from commit 227c516aa2d7de60cec2cc2a77b74221b4c7bc4a)\n(cherry picked from commit 8a7dcb59d9c9b37132c7e6d67128c22790ca7722)\n'}, {'number': 2, 'created': '2019-12-17 12:28:58.000000000', 'files': ['docker/services/neutron-sriov-agent.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca07f6418291e0ea210a688d17a97ebf5cf0c6e2', 'message': 'Derive Pci passthrough whitelist disable option\n\nThis change is to add the option to disable the derive\npci passthrough whitelist automation logic in sriov\ndeployments if required.\n\nChange-Id: Ib2d5b019e3064acf50c06da071d9eb77fe0d10dd\nCloses-Bug: #1841041\n(cherry picked from commit 8a7dcb59d9c9b37132c7e6d67128c22790ca7722)\n'}]",0,699403,ca07f6418291e0ea210a688d17a97ebf5cf0c6e2,9,6,2,22865,,,0,"Derive Pci passthrough whitelist disable option

This change is to add the option to disable the derive
pci passthrough whitelist automation logic in sriov
deployments if required.

Change-Id: Ib2d5b019e3064acf50c06da071d9eb77fe0d10dd
Closes-Bug: #1841041
(cherry picked from commit 8a7dcb59d9c9b37132c7e6d67128c22790ca7722)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/699403/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/neutron-sriov-agent.yaml'],1,e42951afc1250bf4e8e5c6af7ebe549fe89f18af,," DerivePciWhitelistEnabled: default: true description: Whether to enable or not the pci passthrough whitelist automation. type: boolean tags: - role_specific conditions: derive_pci_whitelist_enabled: or: - and: - equals: [{get_param: DerivePciWhitelistEnabled}, true] - equals: [{get_param: [RoleParameters, DerivePciWhitelistEnabled]}, ''] - equals: [{get_param: [RoleParameters, DerivePciWhitelistEnabled]}, true] - - if: - derive_pci_whitelist_enabled - - name: ""creating directory"" file: state: directory path: /var/lib/pci_passthrough_whitelist_scripts owner: root group: root mode: 0750 - name: derive pci passthrough whitelist copy: content: {get_file: ./derive_pci_passthrough_whitelist.py} dest: '/var/lib/pci_passthrough_whitelist_scripts/derive_pci_passthrough_whitelist.py' mode: 0700 - name: run derive_pci_passthrough_whitelist.py command: /var/lib/pci_passthrough_whitelist_scripts/derive_pci_passthrough_whitelist.py - []"," - - name: ""creating directory"" file: state: directory path: /var/lib/pci_passthrough_whitelist_scripts owner: root group: root mode: 0750 - name: derive pci passthrough whitelist copy: content: {get_file: ./derive_pci_passthrough_whitelist.py} dest: '/var/lib/pci_passthrough_whitelist_scripts/derive_pci_passthrough_whitelist.py' mode: 0700 - name: run derive_pci_passthrough_whitelist.py command: /var/lib/pci_passthrough_whitelist_scripts/derive_pci_passthrough_whitelist.py",32,14
openstack%2Ftripleo-heat-templates~stable%2Fstein~I11bf31dc5e367fb317e5d1d3ae8cccdca64c66c9,openstack/tripleo-heat-templates,stable/stein,I11bf31dc5e367fb317e5d1d3ae8cccdca64c66c9,Install tmpwatch on the overcloud,MERGED,2019-12-19 12:33:06.000000000,2019-12-19 21:08:17.000000000,2019-12-19 21:08:17.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-19 12:33:06.000000000', 'files': ['deployment/logrotate/tmpwatch-install.yaml', 'overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/70946dc9a92778e36ee60e4e82e5c1f6059b3ba2', 'message': ""Install tmpwatch on the overcloud\n\nFor some reason, it wasn't active on the overcloud nodes.\n\nChange-Id: I11bf31dc5e367fb317e5d1d3ae8cccdca64c66c9\nCloses-Bug: #1855802\n(cherry picked from commit 0419a5b8e6682238418b3bd004d00b815b9a1c45)\n(cherry picked from commit 80be9b8f0f78fe196ace03a67fe9ccd3da893b1c)\n""}]",0,699971,70946dc9a92778e36ee60e4e82e5c1f6059b3ba2,8,4,1,28223,,,0,"Install tmpwatch on the overcloud

For some reason, it wasn't active on the overcloud nodes.

Change-Id: I11bf31dc5e367fb317e5d1d3ae8cccdca64c66c9
Closes-Bug: #1855802
(cherry picked from commit 0419a5b8e6682238418b3bd004d00b815b9a1c45)
(cherry picked from commit 80be9b8f0f78fe196ace03a67fe9ccd3da893b1c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/699971/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/logrotate/tmpwatch-install.yaml', 'overcloud-resource-registry-puppet.j2.yaml']",2,70946dc9a92778e36ee60e4e82e5c1f6059b3ba2,tmpwatch-on-overcloud-stable/stein, OS::TripleO::Services::Tmpwatch: deployment/logrotate/tmpwatch-install.yaml, OS::TripleO::Services::Tmpwatch: OS::Heat::None,3,3
openstack%2Ftripleo-heat-templates~stable%2Fstein~If6da4aff016db9a72e1cb9dfc9731f06e062f64d,openstack/tripleo-heat-templates,stable/stein,If6da4aff016db9a72e1cb9dfc9731f06e062f64d,Increase rabbitmq tcp backlog,MERGED,2019-12-18 07:36:03.000000000,2019-12-19 21:08:16.000000000,2019-12-19 21:08:16.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-18 07:36:03.000000000', 'files': ['deployment/rabbitmq/rabbitmq-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7889891987c6108cb66ef06cd0f48868fc3809f', 'message': ""Increase rabbitmq tcp backlog\n\nFrom https://bugzilla.redhat.com/show_bug.cgi?id=1778428\n\nWe need to tune the default rabbitmq tcp listen backlog.  Currently it defaults\nto 128, but here's what happens:\nSay we have 1500 total rabbitmq client connections spread across a 3 node\ncluster, evenly distributed so each node has 500 clients.\n\nThen, we stop rabbitmq on one of the nodes.\n\nNow those 500 client connections all immediately fail over to the other two\nnode.  Assume roughly even split, and each gets 250 connections simultaneously.\nSince the tcp listen backlog is only 128, a large number of the failover\nconnections cannot connect and get ECONNREFUSED because the kernel just drops\nthem.\n\nEventually things retry and the backlog clears, but it just makes things noisy\nin the logs and makes failover take a little bit longer.\n\nUpstream docs discuss here:\nhttps://www.rabbitmq.com/networking.html#tuning-for-large-number-of-connections-connection-backlog\n\nSuggested-By: John Eckersberg <jeckersb@redhat.com>\nCloses-Bug: #1854704\n\nChange-Id: If6da4aff016db9a72e1cb9dfc9731f06e062f64d\n(cherry picked from commit 9f4832fcc4d939da3d4e7f83e26c4f934bff7dc0)\n""}]",0,699573,e7889891987c6108cb66ef06cd0f48868fc3809f,11,5,1,20172,,,0,"Increase rabbitmq tcp backlog

From https://bugzilla.redhat.com/show_bug.cgi?id=1778428

We need to tune the default rabbitmq tcp listen backlog.  Currently it defaults
to 128, but here's what happens:
Say we have 1500 total rabbitmq client connections spread across a 3 node
cluster, evenly distributed so each node has 500 clients.

Then, we stop rabbitmq on one of the nodes.

Now those 500 client connections all immediately fail over to the other two
node.  Assume roughly even split, and each gets 250 connections simultaneously.
Since the tcp listen backlog is only 128, a large number of the failover
connections cannot connect and get ECONNREFUSED because the kernel just drops
them.

Eventually things retry and the backlog clears, but it just makes things noisy
in the logs and makes failover take a little bit longer.

Upstream docs discuss here:
https://www.rabbitmq.com/networking.html#tuning-for-large-number-of-connections-connection-backlog

Suggested-By: John Eckersberg <jeckersb@redhat.com>
Closes-Bug: #1854704

Change-Id: If6da4aff016db9a72e1cb9dfc9731f06e062f64d
(cherry picked from commit 9f4832fcc4d939da3d4e7f83e26c4f934bff7dc0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/699573/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/rabbitmq/rabbitmq-container-puppet.yaml'],1,e7889891987c6108cb66ef06cd0f48868fc3809f,backlog-stable/train-stable/stein, rabbitmq::tcp_backlog: 4096,,1,0
openstack%2Fcongress~master~I0e40eb0e5267d1cdd0ec1195424743310f3c39f8,openstack/congress,master,I0e40eb0e5267d1cdd0ec1195424743310f3c39f8,tox: Keeping going with docs,MERGED,2019-10-24 12:42:17.000000000,2019-12-19 20:56:04.000000000,2019-12-19 20:54:19.000000000,"[{'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-10-24 12:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/0a5055940a7c38ace759662cff621b14419cde12', 'message': 'tox: Keeping going with docs\n\nChange-Id: I0e40eb0e5267d1cdd0ec1195424743310f3c39f8\n'}, {'number': 2, 'created': '2019-10-24 12:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/3aa48b2ff6cae1c9effb7250b6058a9560df5ae3', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I0e40eb0e5267d1cdd0ec1195424743310f3c39f8\n""}, {'number': 3, 'created': '2019-12-19 02:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/87e446eb9d8bd4cd6466e01c686bdd8a1697368d', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I0e40eb0e5267d1cdd0ec1195424743310f3c39f8\n""}, {'number': 4, 'created': '2019-12-19 02:47:23.000000000', 'files': ['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/congress/commit/7aa9e87eaff8f8946d453ee6f9ed4ef5776c8196', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I0e40eb0e5267d1cdd0ec1195424743310f3c39f8\n""}]",0,690954,7aa9e87eaff8f8946d453ee6f9ed4ef5776c8196,17,3,4,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I0e40eb0e5267d1cdd0ec1195424743310f3c39f8
",git fetch https://review.opendev.org/openstack/congress refs/changes/54/690954/4 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini']",3,0a5055940a7c38ace759662cff621b14419cde12,, sphinx-build -W --keep-going -b html doc/source doc/build/html sphinx-build -W --keep-going -b latex doc/source doc/build/pdfcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -W -b html doc/source doc/build/html sphinx-build -W -b latex doc/source doc/build/pdfcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,6,6
openstack%2Finstack-undercloud~stable%2Frocky~Ib852079b4763f04d94920d01362d3704a2ad7981,openstack/instack-undercloud,stable/rocky,Ib852079b4763f04d94920d01362d3704a2ad7981,Convert all class usage to relative names,ABANDONED,2019-12-19 12:52:22.000000000,2019-12-19 20:52:42.000000000,,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-19 12:52:22.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.pp'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/57ec97c640f28d4f63fecafc7d9bef051d04aaae', 'message': 'Convert all class usage to relative names\n\nIn the similar vein of Ib2ed745b682cf12f9469a5a64451adcabec400af we\nremove absolute usage since puppet-lint seems to complain about this\nusage now.\n\nChange-Id: Ib852079b4763f04d94920d01362d3704a2ad7981\n'}]",0,699977,57ec97c640f28d4f63fecafc7d9bef051d04aaae,10,3,1,20172,,,0,"Convert all class usage to relative names

In the similar vein of Ib2ed745b682cf12f9469a5a64451adcabec400af we
remove absolute usage since puppet-lint seems to complain about this
usage now.

Change-Id: Ib852079b4763f04d94920d01362d3704a2ad7981
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/77/699977/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.pp'],1,57ec97c640f28d4f63fecafc7d9bef051d04aaae,class_absolute,include stdlib class { 'tripleo::network::os_net_config':include tripleo::profile::base::time::ntp include rabbitmq Class['rabbitmq'] -> Service['httpd'] include tripleo::firewall include tripleo::selinux include tripleo::profile::base::kernel include tripleo::profile::base::certmonger_user class {'tripleo::profile::base::haproxy': include tripleo::keepalived Class['tripleo::keepalived'] -> Class['::rabbitmq'] Class['tripleo::haproxy'] -> Anchor['keystone::install::begin']include tripleo::profile::base::database::mysqlclass { 'keystone::db::mysql':class { 'glance::db::mysql':class { 'nova::db::mysql':class { 'nova::db::mysql_api':class { 'nova::db::mysql_placement':class { 'neutron::db::mysql':class { 'heat::db::mysql': include ceilometer::keystone::auth include aodh::keystone::auth include ceilometer include ceilometer::agent::notification include ceilometer::agent::central include ceilometer::agent::auth include ceilometer::dispatcher::gnocchi class { 'aodh::db::mysql': include aodh include aodh::api include aodh::wsgi::apache include aodh::evaluator include aodh::notifier include aodh::listener include aodh::client include aodh::db::sync include aodh::auth include aodh::config class { 'gnocchi::db::mysql': include gnocchi include gnocchi::keystone::auth include gnocchi::api include gnocchi::wsgi::apache include gnocchi::client include gnocchi::db::sync include gnocchi::storage include gnocchi::metricd include gnocchi::statsd include gnocchi::config 'swift': { include gnocchi::storage::swift } 'file': { include gnocchi::storage::file } 'rbd': { include gnocchi::storage::ceph } class { 'panko::db::mysql': include panko include panko::keystone::auth include panko::config include panko::db include panko::db::sync include panko::api include panko::wsgi::apache include panko::clientclass { 'ironic::db::mysql':class { 'ironic::inspector::db::mysql':include swiftclass { 'keystone':include keystone::wsgi::apache include keystone::cron::token_flush include keystone::roles::admin include keystone::endpoint include keystone::cors include keystone::config include heat::keystone::auth include heat::keystone::auth_cfn include neutron::keystone::auth include glance::keystone::auth include nova::keystone::auth include nova::keystone::auth_placement include swift::keystone::auth include ironic::keystone::auth include ironic::keystone::auth_inspectorclass { 'glance::api':include glance::backend::swift include glance::notify::rabbitmq class { 'nova':class { 'nova::api':include nova::wsgi::apache_api include nova::cell_v2::simple_setup include nova::placement include nova::wsgi::apache_placement include nova::cron::archive_deleted_rows include nova::cron::purge_shadow_tables include nova::config include nova::conductor include nova::scheduler include nova::scheduler::filter include nova::compute class { 'neutron':include neutron::server include neutron::server::notifications include neutron::quota include neutron::plugins::ml2 include neutron::agents::dhcp include neutron::agents::l3 include neutron::plugins::ml2::networking_baremetal include neutron::agents::ml2::networking_baremetal include neutron::configclass { 'neutron::agents::ml2::ovs':include memcached include swift::proxy include swift::ringbuilder include swift::proxy::proxy_logging include swift::proxy::healthcheck include swift::proxy::bulk include swift::proxy::cache include swift::proxy::keystone include swift::proxy::authtoken include swift::proxy::staticweb include swift::proxy::copy include swift::proxy::slo include swift::proxy::dlo include swift::proxy::versioned_writes include swift::proxy::ratelimit include swift::proxy::catch_errors include swift::proxy::tempurl include swift::proxy::formpost include swift::objectexpirer include swift::configclass { 'swift::storage::all':include apacheclass { 'heat':include heat::api include heat::wsgi::apache_api include heat::api_cfn include heat::wsgi::apache_api_cfn include heat::engine include heat::keystone::domain include heat::cron::purge_deleted include heat::cors include heat::config include keystone::roles::admin include nova::compute::ironic include nova::network::neutron include nova::corsinclude ironic include ironic::api include ironic::wsgi::apache include ironic::conductor include ironic::drivers::ansible include ironic::drivers::drac include ironic::drivers::ilo include ironic::drivers::inspector include ironic::drivers::interfaces include ironic::drivers::ipmi include ironic::drivers::pxe include ironic::drivers::redfish include ironic::drivers::staging include ironic::glance include ironic::inspector include ironic::inspector::cors include ironic::inspector::pxe_filter include ironic::inspector::pxe_filter::dnsmasq include ironic::neutron include ironic::pxe include ironic::service_catalog include ironic::swift include ironic::cors include ironic::config include tripleo::profile::base::docker_registry } include mistralclass { 'mistral::db::mysql':include mistral::keystone::auth include mistral::db::sync include mistral::api include mistral::engineinclude mistral::executor include mistral::cors include mistral::cron_trigger include mistral::configClass['ironic::inspector'] ~> Exec['mistral-db-populate']Class['ironic::keystone::auth_inspector'] ~> Exec['mistral-db-populate'] include tripleo::ui include tripleo::profile::base::validations } include zaqarclass { 'zaqar::db::mysql':include zaqar::db::sync include zaqar::management::sqlalchemy include zaqar::messaging::swift include zaqar::keystone::auth include zaqar::keystone::auth_websocket include zaqar::transport::websocket include zaqar::transport::wsgi include zaqar::server include zaqar::wsgi::apache include zaqar::config class { 'cinder::db::mysql': include cinder::keystone::auth include cinder include cinder::api include cinder::cron::db_purge include cinder::config include cinder::glance include cinder::scheduler include cinder::volume include cinder::wsgi::apache include cinder::backends include cinder::setup_test_volumeinclude tripleo::profile::base::sshd include nova::metadata::novajoin::auth include nova::metadata::novajoin::api,include ::stdlib class { '::tripleo::network::os_net_config':include ::tripleo::profile::base::time::ntp include ::rabbitmq Class['::rabbitmq'] -> Service['httpd'] include ::tripleo::firewall include ::tripleo::selinux include ::tripleo::profile::base::kernel include ::tripleo::profile::base::certmonger_user class {'::tripleo::profile::base::haproxy': include ::tripleo::keepalived Class['::tripleo::keepalived'] -> Class['::rabbitmq'] Class['::tripleo::haproxy'] -> Anchor['keystone::install::begin']include ::tripleo::profile::base::database::mysqlclass { '::keystone::db::mysql':class { '::glance::db::mysql':class { '::nova::db::mysql':class { '::nova::db::mysql_api':class { '::nova::db::mysql_placement':class { '::neutron::db::mysql':class { '::heat::db::mysql': include ::ceilometer::keystone::auth include ::aodh::keystone::auth include ::ceilometer include ::ceilometer::agent::notification include ::ceilometer::agent::central include ::ceilometer::agent::auth include ::ceilometer::dispatcher::gnocchi class { '::aodh::db::mysql': include ::aodh include ::aodh::api include ::aodh::wsgi::apache include ::aodh::evaluator include ::aodh::notifier include ::aodh::listener include ::aodh::client include ::aodh::db::sync include ::aodh::auth include ::aodh::config class { '::gnocchi::db::mysql': include ::gnocchi include ::gnocchi::keystone::auth include ::gnocchi::api include ::gnocchi::wsgi::apache include ::gnocchi::client include ::gnocchi::db::sync include ::gnocchi::storage include ::gnocchi::metricd include ::gnocchi::statsd include ::gnocchi::config 'swift': { include ::gnocchi::storage::swift } 'file': { include ::gnocchi::storage::file } 'rbd': { include ::gnocchi::storage::ceph } class { '::panko::db::mysql': include ::panko include ::panko::keystone::auth include ::panko::config include ::panko::db include ::panko::db::sync include ::panko::api include ::panko::wsgi::apache include ::panko::clientclass { '::ironic::db::mysql':class { '::ironic::inspector::db::mysql':include ::swiftclass { '::keystone':include ::keystone::wsgi::apache include ::keystone::cron::token_flush include ::keystone::roles::admin include ::keystone::endpoint include ::keystone::cors include ::keystone::config include ::heat::keystone::auth include ::heat::keystone::auth_cfn include ::neutron::keystone::auth include ::glance::keystone::auth include ::nova::keystone::auth include ::nova::keystone::auth_placement include ::swift::keystone::auth include ::ironic::keystone::auth include ::ironic::keystone::auth_inspectorclass { '::glance::api':include ::glance::backend::swift include ::glance::notify::rabbitmq class { '::nova':class { '::nova::api':include ::nova::wsgi::apache_api include ::nova::cell_v2::simple_setup include ::nova::placement include ::nova::wsgi::apache_placement include ::nova::cron::archive_deleted_rows include ::nova::cron::purge_shadow_tables include ::nova::config include ::nova::conductor include ::nova::scheduler include ::nova::scheduler::filter include ::nova::compute class { '::neutron':include ::neutron::server include ::neutron::server::notifications include ::neutron::quota include ::neutron::plugins::ml2 include ::neutron::agents::dhcp include ::neutron::agents::l3 include ::neutron::plugins::ml2::networking_baremetal include ::neutron::agents::ml2::networking_baremetal include ::neutron::configclass { '::neutron::agents::ml2::ovs':include ::memcached include ::swift::proxy include ::swift::ringbuilder include ::swift::proxy::proxy_logging include ::swift::proxy::healthcheck include ::swift::proxy::bulk include ::swift::proxy::cache include ::swift::proxy::keystone include ::swift::proxy::authtoken include ::swift::proxy::staticweb include ::swift::proxy::copy include ::swift::proxy::slo include ::swift::proxy::dlo include ::swift::proxy::versioned_writes include ::swift::proxy::ratelimit include ::swift::proxy::catch_errors include ::swift::proxy::tempurl include ::swift::proxy::formpost include ::swift::objectexpirer include ::swift::configclass { '::swift::storage::all':include ::apacheclass { '::heat':include ::heat::api include ::heat::wsgi::apache_api include ::heat::api_cfn include ::heat::wsgi::apache_api_cfn include ::heat::engine include ::heat::keystone::domain include ::heat::cron::purge_deleted include ::heat::cors include ::heat::config include ::keystone::roles::admin include ::nova::compute::ironic include ::nova::network::neutron include ::nova::corsinclude ::ironic include ::ironic::api include ::ironic::wsgi::apache include ::ironic::conductor include ::ironic::drivers::ansible include ::ironic::drivers::drac include ::ironic::drivers::ilo include ::ironic::drivers::inspector include ::ironic::drivers::interfaces include ::ironic::drivers::ipmi include ::ironic::drivers::pxe include ::ironic::drivers::redfish include ::ironic::drivers::staging include ::ironic::glance include ::ironic::inspector include ::ironic::inspector::cors include ::ironic::inspector::pxe_filter include ::ironic::inspector::pxe_filter::dnsmasq include ::ironic::neutron include ::ironic::pxe include ::ironic::service_catalog include ::ironic::swift include ::ironic::cors include ::ironic::config include ::tripleo::profile::base::docker_registry } include ::mistralclass { '::mistral::db::mysql':include ::mistral::keystone::auth include ::mistral::db::sync include ::mistral::api include ::mistral::engineinclude ::mistral::executor include ::mistral::cors include ::mistral::cron_trigger include ::mistral::configClass['::ironic::inspector'] ~> Exec['mistral-db-populate']Class['::ironic::keystone::auth_inspector'] ~> Exec['mistral-db-populate'] include ::tripleo::ui include ::tripleo::profile::base::validations } include ::zaqarclass { '::zaqar::db::mysql':include ::zaqar::db::sync include ::zaqar::management::sqlalchemy include ::zaqar::messaging::swift include ::zaqar::keystone::auth include ::zaqar::keystone::auth_websocket include ::zaqar::transport::websocket include ::zaqar::transport::wsgi include ::zaqar::server include ::zaqar::wsgi::apache include ::zaqar::config class { '::cinder::db::mysql': include ::cinder::keystone::auth include ::cinder include ::cinder::api include ::cinder::cron::db_purge include ::cinder::config include ::cinder::glance include ::cinder::scheduler include ::cinder::volume include ::cinder::wsgi::apache include ::cinder::backends include ::cinder::setup_test_volumeinclude ::tripleo::profile::base::sshd include ::nova::metadata::novajoin::auth include ::nova::metadata::novajoin::api,210,210
openstack%2Fpython-tripleoclient~master~I8db50da826e2fbc074f4e7986d6fd00f6d488648,openstack/python-tripleoclient,master,I8db50da826e2fbc074f4e7986d6fd00f6d488648,Replace ansible shell with python runner,MERGED,2019-07-20 03:10:39.000000000,2019-12-19 20:47:05.000000000,2019-12-19 20:45:31.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9712}, {'_account_id': 10969}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-20 03:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8998c8049afc22060c159617c87fa2d07ba541a7', 'message': '[WIP] replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-07-20 03:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bbc55bd3fc2ba4bc1d4afd53cb942560627a0742', 'message': '[WIP] replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-07-22 01:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/852e45df128944fb71533abe0775888e3fba698d', 'message': '[WIP] replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2019-08-06 15:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/418a4e74e53d4b91d744aa035c038b94ec2e7dc6', 'message': '[WIP] replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2019-08-07 12:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cfef692740127e6f6650e86db7d20360b40a7ec3', 'message': '[WIP] replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2019-08-08 14:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/19554ab8b9f5f901847d2e998450f1fac6538814', 'message': '[WIP] replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2019-12-03 14:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/34dc5d19e90ce091362812512587993d2e12dcb9', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2019-12-03 17:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/584e37e74cccc1bf8a71975cafa8da7101a11210', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 9, 'created': '2019-12-03 17:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/213b76e709a3f050af6bfe6e93dc9a586ea00d01', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 10, 'created': '2019-12-04 01:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/58fce3ba3a1f487be96ad157b7c712bdf6b55372', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 11, 'created': '2019-12-04 07:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d61ee42dcf2fc531455a001c15c60e6d79fdbeac', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 12, 'created': '2019-12-04 08:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/944bb03ecd7668bee50df8aeca36e9afe9050290', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 13, 'created': '2019-12-04 14:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bcb164c8a3f9b41094dbfbdfe72c6646aa24b241', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 14, 'created': '2019-12-04 17:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9ce3b6930d6c6b18e29233e7de79db5592dec7ba', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 15, 'created': '2019-12-04 18:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bec1ed1725577bd71d8753787e667487568f297d', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 16, 'created': '2019-12-04 19:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/194f667bec69ba08fd6c945d317fdadc86635a60', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 17, 'created': '2019-12-05 01:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c37781fccea77214a0aef0b5f8844c31d8c6b103', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 18, 'created': '2019-12-05 01:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/43f64f582ee5918a7410032a9348d1b7c53ab2a4', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 19, 'created': '2019-12-05 02:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/75fdf50edc399d98eca092b39889230e1c3fb5a7', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 20, 'created': '2019-12-05 03:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2b2c7b756df0b4af75953e6459fc9fed2dbe0ac3', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 21, 'created': '2019-12-05 06:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1fd2232b8e5e91399b0026647d9770a39796afa3', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 22, 'created': '2019-12-05 15:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eb58c697d89c853e047a14a12b3b850e4d809ffb', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 23, 'created': '2019-12-05 19:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b2acd027000fac28c13501af4a3112fa0c77768c', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 24, 'created': '2019-12-05 23:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/284e68f261c973d47c5964cc8be1be402b53f18d', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 25, 'created': '2019-12-06 00:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dca0e2b523e777b4230effa8f07c77dcd7daac1e', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 26, 'created': '2019-12-06 02:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4af665c5662f330adc46fa0f896721e2f4a29c60', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 27, 'created': '2019-12-06 03:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4641ee8d60d3fc9efdcd5750e91656f8306e79bc', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 28, 'created': '2019-12-06 03:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0ca318644094f0915822a0dfeae883f04e1d1782', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 29, 'created': '2019-12-06 03:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8edec2f99a274363575ed093f4c4a68af6e420e7', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 30, 'created': '2019-12-06 05:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0a1101b8f61823ab8ccc3c46c965efbc29da2222', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 31, 'created': '2019-12-06 13:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f1ae8ef165ce7ca99f21bf83732ae8cb36f19bc1', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 32, 'created': '2019-12-06 15:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/118e5741f1e8997d6d1ea32d82639753c7361bcf', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 33, 'created': '2019-12-06 16:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ebd51985033c59db307e984db888072cc99a6751', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 34, 'created': '2019-12-06 19:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1f05ef2b379d67901dddb6691fe6de0bcf95792b', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 35, 'created': '2019-12-06 21:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/82f07e94945b4920a5606352434994c3354d399a', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 36, 'created': '2019-12-09 11:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/abd11e2b0e14480254b71558617e52e15ffa700a', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 37, 'created': '2019-12-09 14:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/628560e441d72784031cce5fd25b82ea6e643f88', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 38, 'created': '2019-12-09 19:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3d6a61eece5eda49f4e84e1d0054fe304205fc93', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 39, 'created': '2019-12-09 21:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/829daac17979b6686c36399eb20348342020b2ef', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 40, 'created': '2019-12-09 21:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/aae0252e9f236f576a8add03c21c6a7586cb26d2', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 41, 'created': '2019-12-10 09:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/baeac86fd9da549a071a73e5d9d88d0afebd50c7', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 42, 'created': '2019-12-10 14:35:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cb5c19666cd52524b95ab57c99727e6f05caac5f', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 43, 'created': '2019-12-13 14:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3489e0c842b54cb64f0135093b88bcbacb84160a', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 44, 'created': '2019-12-17 13:35:40.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/test_container_image.py', 'tripleoclient/v1/overcloud_config.py', 'tripleoclient/v1/undercloud_preflight.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'requirements.txt', 'tripleoclient/tests/workflows/test_support.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/v1/minion_config.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/container_image.py', 'tripleoclient/constants.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py', 'tripleoclient/workflows/support.py', 'lower-constraints.txt', 'tripleoclient/tests/v1/undercloud/minion/test_config.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_upgrade.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bcc9c667471e832739c20ae06b8325ef95a5e56b', 'message': 'Replace ansible shell with python runner\n\nThis change replaces all of the ansible shell commands with the\npython library, ansible-runner. This library is supported by\nupstream ansible, is approved by the openstack foundation, is\nsupported in global requirements, and provides a better, more\nprogramatic interface into running ansible playbooks.\n\nAll tests that interacted with the old shell commands have been\nupdated to now test using the library.\n\nChange-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",26,671878,bcc9c667471e832739c20ae06b8325ef95a5e56b,149,12,44,7353,,,0,"Replace ansible shell with python runner

This change replaces all of the ansible shell commands with the
python library, ansible-runner. This library is supported by
upstream ansible, is approved by the openstack foundation, is
supported in global requirements, and provides a better, more
programatic interface into running ansible playbooks.

All tests that interacted with the old shell commands have been
updated to now test using the library.

Change-Id: I8db50da826e2fbc074f4e7986d6fd00f6d488648
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/78/671878/41 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/constants.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py', 'tripleoclient/v1/undercloud_preflight.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'tripleoclient/tests/v1/undercloud/minion/test_config.py', 'tripleoclient/tests/v1/test_validator.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_upgrade.py', 'tripleoclient/v1/tripleo_deploy.py', 'requirements.txt', 'tripleoclient/tests/fakes.py', 'tripleoclient/v1/minion_config.py']",14,8998c8049afc22060c159617c87fa2d07ba541a7,mistral_to_ansible,," if CONF.get('minion_enable_validations') and not no_validations: utils.ansible_symlink() # TODO(aschultz): write this # minion_preflight.check(verbose_level, upgrade) ",283,384
openstack%2Finstack-undercloud~stable%2Fqueens~Ib852079b4763f04d94920d01362d3704a2ad7981,openstack/instack-undercloud,stable/queens,Ib852079b4763f04d94920d01362d3704a2ad7981,Convert all class usage to relative names,ABANDONED,2019-12-19 20:44:38.000000000,2019-12-19 20:46:35.000000000,,[{'_account_id': 20172}],"[{'number': 1, 'created': '2019-12-19 20:44:38.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.pp'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/ae4fd4ebe81c7d78b4c58b9e03b5a7ac3e71d4d3', 'message': 'Convert all class usage to relative names\n\nIn the similar vein of Ib2ed745b682cf12f9469a5a64451adcabec400af we\nremove absolute usage since puppet-lint seems to complain about this\nusage now.\n\nChange-Id: Ib852079b4763f04d94920d01362d3704a2ad7981\n(cherry picked from commit 57ec97c640f28d4f63fecafc7d9bef051d04aaae)\n'}]",0,700066,ae4fd4ebe81c7d78b4c58b9e03b5a7ac3e71d4d3,2,1,1,3153,,,0,"Convert all class usage to relative names

In the similar vein of Ib2ed745b682cf12f9469a5a64451adcabec400af we
remove absolute usage since puppet-lint seems to complain about this
usage now.

Change-Id: Ib852079b4763f04d94920d01362d3704a2ad7981
(cherry picked from commit 57ec97c640f28d4f63fecafc7d9bef051d04aaae)
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/66/700066/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.pp'],1,ae4fd4ebe81c7d78b4c58b9e03b5a7ac3e71d4d3,queens/lint,include stdlib class { 'tripleo::network::os_net_config':include tripleo::profile::base::time::ntp include rabbitmq Class['rabbitmq'] -> Service['httpd'] include tripleo::firewall include tripleo::selinux include tripleo::profile::base::kernel include tripleo::profile::base::certmonger_user } class {'tripleo::profile::base::haproxy': include tripleo::keepalived Class['tripleo::keepalived'] -> Class['rabbitmq'] Class['tripleo::haproxy'] -> Anchor['keystone::install::begin']include tripleo::profile::base::database::mysqlclass { 'keystone::db::mysql':class { 'glance::db::mysql':class { 'nova::db::mysql':class { 'nova::db::mysql_api':class { 'nova::db::mysql_placement':class { 'neutron::db::mysql':class { 'heat::db::mysql': include ceilometer::keystone::auth include aodh::keystone::auth include ceilometer include ceilometer::agent::notification include ceilometer::agent::central include ceilometer::agent::auth include ceilometer::dispatcher::gnocchi class { 'aodh::db::mysql': include aodh include aodh::api include aodh::wsgi::apache include aodh::evaluator include aodh::notifier include aodh::listener include aodh::client include aodh::db::sync include aodh::auth include aodh::config class { 'gnocchi::db::mysql': include gnocchi include gnocchi::keystone::auth include gnocchi::api include gnocchi::wsgi::apache include gnocchi::client include gnocchi::db::sync include gnocchi::storage include gnocchi::metricd include gnocchi::statsd include gnocchi::config 'swift': { include gnocchi::storage::swift } 'file': { include gnocchi::storage::file } 'rbd': { include gnocchi::storage::ceph } class { 'panko::db::mysql': include panko include panko::keystone::auth include panko::config include panko::db include panko::db::sync include panko::api include panko::wsgi::apache include panko::clientclass { 'ironic::db::mysql':class { 'ironic::inspector::db::mysql':include swiftclass { 'keystone':include keystone::wsgi::apache include keystone::cron::token_flush include keystone::roles::admin include keystone::endpoint include keystone::cors include keystone::config include heat::keystone::auth include heat::keystone::auth_cfn include neutron::keystone::auth include glance::keystone::auth include nova::keystone::auth include nova::keystone::auth_placement include swift::keystone::auth include ironic::keystone::auth include ironic::keystone::auth_inspectorclass { 'glance::api':include glance::backend::swift include glance::notify::rabbitmq class { 'nova':class { 'nova::api':include nova::wsgi::apache_api include nova::cell_v2::simple_setup include nova::placement include nova::wsgi::apache_placement include nova::cron::archive_deleted_rows include nova::config include nova::conductor include nova::scheduler include nova::scheduler::filter include nova::compute class { 'neutron':include neutron::server include neutron::server::notifications include neutron::quota include neutron::plugins::ml2 include neutron::plugins::ml2::networking_baremetal include neutron::agents::ml2::networking_baremetal include neutron::configclass { 'neutron::agents::dhcp':class { 'neutron::agents::l3': } class { 'neutron::agents::ml2::ovs':include memcached include swift::proxy include swift::ringbuilder include swift::proxy::proxy_logging include swift::proxy::healthcheck include swift::proxy::bulk include swift::proxy::cache include swift::proxy::keystone include swift::proxy::authtoken include swift::proxy::staticweb include swift::proxy::copy include swift::proxy::slo include swift::proxy::dlo include swift::proxy::versioned_writes include swift::proxy::ratelimit include swift::proxy::catch_errors include swift::proxy::tempurl include swift::proxy::formpost include swift::objectexpirer include swift::configclass { 'swift::storage::all':include apacheclass { 'heat':include heat::api include heat::wsgi::apache_api include heat::api_cfn include heat::wsgi::apache_api_cfn include heat::engine include heat::keystone::domain include heat::cron::purge_deleted include heat::cors include heat::config include keystone::roles::admininclude nova::compute::ironic include nova::network::neutron include nova::corsinclude ironic include ironic::api include ironic::wsgi::apache include ironic::conductor include ironic::drivers::ansible include ironic::drivers::drac include ironic::drivers::ilo include ironic::drivers::inspector include ironic::drivers::interfaces include ironic::drivers::ipmi include ironic::drivers::pxe include ironic::drivers::redfish include ironic::drivers::staging include ironic::glance include ironic::inspector include ironic::inspector::cors include ironic::inspector::pxe_filter include ironic::inspector::pxe_filter::dnsmasq include ironic::neutron include ironic::pxe include ironic::service_catalog include ironic::swift include ironic::cors include ironic::config include tripleo::profile::base::docker_registry } include mistralclass { 'mistral::db::mysql':include mistral::keystone::auth include mistral::db::sync include mistral::api include mistral::engine include mistral::executor include mistral::cors include mistral::cron_trigger include mistral::configClass['ironic::inspector'] ~> Exec['mistral-db-populate']Class['ironic::keystone::auth_inspector'] ~> Exec['mistral-db-populate'] include tripleo::ui include tripleo::profile::base::validations } include zaqarclass { 'zaqar::db::mysql':include zaqar::db::sync include zaqar::management::sqlalchemy include zaqar::messaging::swift include zaqar::keystone::auth include zaqar::keystone::auth_websocket include zaqar::transport::websocket include zaqar::transport::wsgi include zaqar::server include zaqar::wsgi::apache include zaqar::config class { 'cinder::db::mysql': include cinder::keystone::auth include cinder include cinder::api include cinder::cron::db_purge include cinder::config include cinder::glance include cinder::scheduler include cinder::volume include cinder::wsgi::apache include cinder::backends include cinder::setup_test_volumeinclude tripleo::profile::base::sshd include nova::metadata::novajoin::auth include nova::metadata::novajoin::api,include ::stdlib class { '::tripleo::network::os_net_config':include ::tripleo::profile::base::time::ntp include ::rabbitmq Class['::rabbitmq'] -> Service['httpd'] include ::tripleo::firewall include ::tripleo::selinux include ::tripleo::profile::base::kernel include ::tripleo::profile::base::certmonger_user } class {'::tripleo::profile::base::haproxy': include ::tripleo::keepalived Class['::tripleo::keepalived'] -> Class['::rabbitmq'] Class['::tripleo::haproxy'] -> Anchor['keystone::install::begin']include ::tripleo::profile::base::database::mysqlclass { '::keystone::db::mysql':class { '::glance::db::mysql':class { '::nova::db::mysql':class { '::nova::db::mysql_api':class { '::nova::db::mysql_placement':class { '::neutron::db::mysql':class { '::heat::db::mysql': include ::ceilometer::keystone::auth include ::aodh::keystone::auth include ::ceilometer include ::ceilometer::agent::notification include ::ceilometer::agent::central include ::ceilometer::agent::auth include ::ceilometer::dispatcher::gnocchi class { '::aodh::db::mysql': include ::aodh include ::aodh::api include ::aodh::wsgi::apache include ::aodh::evaluator include ::aodh::notifier include ::aodh::listener include ::aodh::client include ::aodh::db::sync include ::aodh::auth include ::aodh::config class { '::gnocchi::db::mysql': include ::gnocchi include ::gnocchi::keystone::auth include ::gnocchi::api include ::gnocchi::wsgi::apache include ::gnocchi::client include ::gnocchi::db::sync include ::gnocchi::storage include ::gnocchi::metricd include ::gnocchi::statsd include ::gnocchi::config 'swift': { include ::gnocchi::storage::swift } 'file': { include ::gnocchi::storage::file } 'rbd': { include ::gnocchi::storage::ceph } class { '::panko::db::mysql': include ::panko include ::panko::keystone::auth include ::panko::config include ::panko::db include ::panko::db::sync include ::panko::api include ::panko::wsgi::apache include ::panko::clientclass { '::ironic::db::mysql':class { '::ironic::inspector::db::mysql':include ::swiftclass { '::keystone':include ::keystone::wsgi::apache include ::keystone::cron::token_flush include ::keystone::roles::admin include ::keystone::endpoint include ::keystone::cors include ::keystone::config include ::heat::keystone::auth include ::heat::keystone::auth_cfn include ::neutron::keystone::auth include ::glance::keystone::auth include ::nova::keystone::auth include ::nova::keystone::auth_placement include ::swift::keystone::auth include ::ironic::keystone::auth include ::ironic::keystone::auth_inspectorclass { '::glance::api':include ::glance::backend::swift include ::glance::notify::rabbitmq class { '::nova':class { '::nova::api':include ::nova::wsgi::apache_api include ::nova::cell_v2::simple_setup include ::nova::placement include ::nova::wsgi::apache_placement include ::nova::cron::archive_deleted_rows include ::nova::config include ::nova::conductor include ::nova::scheduler include ::nova::scheduler::filter include ::nova::compute class { '::neutron':include ::neutron::server include ::neutron::server::notifications include ::neutron::quota include ::neutron::plugins::ml2 include ::neutron::plugins::ml2::networking_baremetal include ::neutron::agents::ml2::networking_baremetal include ::neutron::configclass { '::neutron::agents::dhcp':class { '::neutron::agents::l3': } class { '::neutron::agents::ml2::ovs':include ::memcached include ::swift::proxy include ::swift::ringbuilder include ::swift::proxy::proxy_logging include ::swift::proxy::healthcheck include ::swift::proxy::bulk include ::swift::proxy::cache include ::swift::proxy::keystone include ::swift::proxy::authtoken include ::swift::proxy::staticweb include ::swift::proxy::copy include ::swift::proxy::slo include ::swift::proxy::dlo include ::swift::proxy::versioned_writes include ::swift::proxy::ratelimit include ::swift::proxy::catch_errors include ::swift::proxy::tempurl include ::swift::proxy::formpost include ::swift::objectexpirer include ::swift::configclass { '::swift::storage::all':include ::apacheclass { '::heat':include ::heat::api include ::heat::wsgi::apache_api include ::heat::api_cfn include ::heat::wsgi::apache_api_cfn include ::heat::engine include ::heat::keystone::domain include ::heat::cron::purge_deleted include ::heat::cors include ::heat::config include ::keystone::roles::admininclude ::nova::compute::ironic include ::nova::network::neutron include ::nova::corsinclude ::ironic include ::ironic::api include ::ironic::wsgi::apache include ::ironic::conductor include ::ironic::drivers::ansible include ::ironic::drivers::drac include ::ironic::drivers::ilo include ::ironic::drivers::inspector include ::ironic::drivers::interfaces include ::ironic::drivers::ipmi include ::ironic::drivers::pxe include ::ironic::drivers::redfish include ::ironic::drivers::staging include ::ironic::glance include ::ironic::inspector include ::ironic::inspector::cors include ::ironic::inspector::pxe_filter include ::ironic::inspector::pxe_filter::dnsmasq include ::ironic::neutron include ::ironic::pxe include ::ironic::service_catalog include ::ironic::swift include ::ironic::cors include ::ironic::config include ::tripleo::profile::base::docker_registry } include ::mistralclass { '::mistral::db::mysql':include ::mistral::keystone::auth include ::mistral::db::sync include ::mistral::api include ::mistral::engine include ::mistral::executor include ::mistral::cors include ::mistral::cron_trigger include ::mistral::configClass['::ironic::inspector'] ~> Exec['mistral-db-populate']Class['::ironic::keystone::auth_inspector'] ~> Exec['mistral-db-populate'] include ::tripleo::ui include ::tripleo::profile::base::validations } include ::zaqarclass { '::zaqar::db::mysql':include ::zaqar::db::sync include ::zaqar::management::sqlalchemy include ::zaqar::messaging::swift include ::zaqar::keystone::auth include ::zaqar::keystone::auth_websocket include ::zaqar::transport::websocket include ::zaqar::transport::wsgi include ::zaqar::server include ::zaqar::wsgi::apache include ::zaqar::config class { '::cinder::db::mysql': include ::cinder::keystone::auth include ::cinder include ::cinder::api include ::cinder::cron::db_purge include ::cinder::config include ::cinder::glance include ::cinder::scheduler include ::cinder::volume include ::cinder::wsgi::apache include ::cinder::backends include ::cinder::setup_test_volumeinclude ::tripleo::profile::base::sshd include ::nova::metadata::novajoin::auth include ::nova::metadata::novajoin::api,209,209
openstack%2Ftripleo-upgrade~stable%2Frocky~I25e47c987ff796171f40fffedd89b855eab18265,openstack/tripleo-upgrade,stable/rocky,I25e47c987ff796171f40fffedd89b855eab18265,Fix the undefined operation_type variable.,MERGED,2019-12-17 14:06:17.000000000,2019-12-19 20:45:31.000000000,2019-12-19 20:45:31.000000000,"[{'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 27141}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2019-12-17 14:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b282ca7e706ad35ab658a44d574a47f18800c7d1', 'message': 'Fix the undefined operation_type variable.\n\nOn the update_noop or upgrade_noop the operation_type is undefined.\n\nChange-Id: I25e47c987ff796171f40fffedd89b855eab18265\n(cherry picked from commit 1719ee4f41071ba0e2d1fa8e5b9cd64d2b87841e)\n'}, {'number': 2, 'created': '2019-12-17 16:50:56.000000000', 'files': ['templates/overcloud_prepare_containers.sh.j2', 'templates/overcloud_online_data_migration.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6814b685856d5bfbd99b9964a698da1951533aa0', 'message': 'Fix the undefined operation_type variable.\n\nOn the update_noop or upgrade_noop the operation_type is undefined.\n\n(cherry picked from commit bf32b828d67dac6f01ff84f1651e921193f17e47)\n\nChange-Id: I25e47c987ff796171f40fffedd89b855eab18265\n(cherry picked from commit 1719ee4f41071ba0e2d1fa8e5b9cd64d2b87841e)\n'}]",0,699423,6814b685856d5bfbd99b9964a698da1951533aa0,17,7,2,31245,,,0,"Fix the undefined operation_type variable.

On the update_noop or upgrade_noop the operation_type is undefined.

(cherry picked from commit bf32b828d67dac6f01ff84f1651e921193f17e47)

Change-Id: I25e47c987ff796171f40fffedd89b855eab18265
(cherry picked from commit 1719ee4f41071ba0e2d1fa8e5b9cd64d2b87841e)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/23/699423/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/overcloud_prepare_containers.sh.j2', 'templates/overcloud_online_data_migration.sh.j2']",2,b282ca7e706ad35ab658a44d574a47f18800c7d1,rocky,{% if overcloud_update|bool or update_noop|bool -%}{% elif overcloud_upgrade|bool or upgrade_noop|bool -%},{% if overcloud_update|bool -%}{% elif overcloud_upgrade|bool -%},4,4
openstack%2Fironic~master~I372302d8ed392a2ee843b795dfeec21c92a86cb7,openstack/ironic,master,I372302d8ed392a2ee843b795dfeec21c92a86cb7,Drop postgres job,ABANDONED,2019-10-17 17:25:53.000000000,2019-12-19 20:25:13.000000000,,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-10-17 17:25:53.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9ebac9d0086e08a0f83c749d6cb523bf01de8a50', 'message': 'Drop postgres job\n\nSince it is being dropped from devstack[0], need to go ahead\nand drop it from ironic.\n\n[0]: https://review.opendev.org/#/c/678496/\n\nChange-Id: I372302d8ed392a2ee843b795dfeec21c92a86cb7\n'}]",0,689227,9ebac9d0086e08a0f83c749d6cb523bf01de8a50,11,7,1,11655,,,0,"Drop postgres job

Since it is being dropped from devstack[0], need to go ahead
and drop it from ironic.

[0]: https://review.opendev.org/#/c/678496/

Change-Id: I372302d8ed392a2ee843b795dfeec21c92a86cb7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/27/689227/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml']",2,9ebac9d0086e08a0f83c749d6cb523bf01de8a50,,, - ironic-tempest-pxe_ipmitool-postgres: voting: false,0,13
openstack%2Fglance~master~Iaac5c65f10f39027dd191b2397d8e5141bc9e12d,openstack/glance,master,Iaac5c65f10f39027dd191b2397d8e5141bc9e12d,Refresh Glance example configs for Ussuri milestone 1,MERGED,2019-12-19 16:31:56.000000000,2019-12-19 20:11:10.000000000,2019-12-19 20:08:42.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-19 16:31:56.000000000', 'files': ['etc/glance-api.conf', 'etc/glance-registry.conf'], 'web_link': 'https://opendev.org/openstack/glance/commit/0eacf2da183b641447e1fae703bca65facde91b5', 'message': 'Refresh Glance example configs for Ussuri milestone 1\n\nChange-Id: Iaac5c65f10f39027dd191b2397d8e5141bc9e12d\n'}]",0,700020,0eacf2da183b641447e1fae703bca65facde91b5,8,4,1,9303,,,0,"Refresh Glance example configs for Ussuri milestone 1

Change-Id: Iaac5c65f10f39027dd191b2397d8e5141bc9e12d
",git fetch https://review.opendev.org/openstack/glance refs/changes/20/700020/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/glance-api.conf', 'etc/glance-registry.conf']",2,0eacf2da183b641447e1fae703bca65facde91b5,ussuri-m1/example-config,"# EXPERIMENTAL: Run the health check heartbeat thread through a native python # thread. By default if this option isn't provided the health check heartbeat # will inherit the execution model from the parent process. By example if the # parent process have monkey patched the stdlib by using eventlet/greenlet then # the heartbeat will be run through a green thread. (boolean value)# used as reply, so the MessageUndeliverable exception is raised in case the","# # Absolute path to the CA file. # # Provide a string value representing a valid absolute path to # the Certificate Authority file to use for client authentication. # # A CA file typically contains necessary trusted certificates to # use for the client authentication. This is essential to ensure # that a secure connection is established to the server via the # internet. # # Possible values: # * Valid absolute path to the CA file # # Related options: # * None # # (string value) # # This option has a sample default set, which means that # its actual default value may vary from the one documented # below. #ca_file = /etc/ssl/cafile # # Absolute path to the certificate file. # # Provide a string value representing a valid absolute path to the # certificate file which is required to start the API service # securely. # # A certificate file typically is a public key container and includes # the server's public key, server name, server information and the # signature which was a result of the verification process using the # CA certificate. This is required for a secure connection # establishment. # # Possible values: # * Valid absolute path to the certificate file # # Related options: # * None # # (string value) # # This option has a sample default set, which means that # its actual default value may vary from the one documented # below. #cert_file = /etc/ssl/certs # # Absolute path to a private key file. # # Provide a string value representing a valid absolute path to a # private key file which is required to establish the client-server # connection. # # Possible values: # * Absolute path to the private key file # # Related options: # * None # # (string value) # # This option has a sample default set, which means that # its actual default value may vary from the one documented # below. #key_file = /etc/ssl/key/key-file.pem # EXPERIMENTAL: Run the health check heartbeat threadthrough a native python # thread. By default if thisoption isn't provided the health check heartbeat # willinherit the execution model from the parent process. Byexample if the # parent process have monkey patched thestdlib by using eventlet/greenlet then # the heartbeatwill be run through a green thread. (boolean value)# used as reply,so the MessageUndeliverable exception is raised in case the",12,152
openstack%2Fdevstack~master~I2e5e1068e77291d1d199cd698cec4946480c7601,openstack/devstack,master,I2e5e1068e77291d1d199cd698cec4946480c7601,Create OVS bridge even if OVS_BRIDGE_MAPPINGS is not empty,MERGED,2019-11-12 13:56:46.000000000,2019-12-19 20:10:20.000000000,2019-12-19 20:08:41.000000000,"[{'_account_id': 11975}, {'_account_id': 12171}, {'_account_id': 13252}, {'_account_id': 14807}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28714}]","[{'number': 1, 'created': '2019-11-12 13:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/25b35d204973175726f53f0a1cc53a3994e46d75', 'message': 'Create ovs bridge even if OVS_BRIDGE_MAPPINGS is not empty\n\nin complex cases when mapping is defined in local.conf ovs bridge\ncan be created automatically.\n\nChange-Id: I2e5e1068e77291d1d199cd698cec4946480c7601\n'}, {'number': 2, 'created': '2019-11-18 08:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3d728d378fc8b056d1e50d51c35ef752aa8d1ce2', 'message': 'Create ovs bridge even if OVS_BRIDGE_MAPPINGS is not empty\n\nin complex cases when mapping is defined in local.conf ovs bridge\ncan be created automatically.\n\nChange-Id: I2e5e1068e77291d1d199cd698cec4946480c7601\n'}, {'number': 3, 'created': '2019-11-21 08:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f5c882f1a4a109a4782290efb60efb73a8c66e20', 'message': 'Create OVS bridge even if OVS_BRIDGE_MAPPINGS is not empty\n\nin complex cases when mapping is defined in local.conf OVS bridge\ncan be created automatically.\n\nChange-Id: I2e5e1068e77291d1d199cd698cec4946480c7601\n'}, {'number': 4, 'created': '2019-11-21 11:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/44aa7b15653686993e94ccce13013411b5c06cea', 'message': 'Create OVS bridge even if OVS_BRIDGE_MAPPINGS is not empty\n\nin complex cases when mapping is defined in local.conf OVS bridge\ncan be created automatically.\n\nChange-Id: I2e5e1068e77291d1d199cd698cec4946480c7601\n'}, {'number': 5, 'created': '2019-12-18 08:09:11.000000000', 'files': ['lib/neutron_plugins/openvswitch_agent'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d6a7b73fc8d01d8118031f086d0ad20ab6186059', 'message': 'Create OVS bridge even if OVS_BRIDGE_MAPPINGS is not empty\n\nin complex cases when mapping is defined in local.conf OVS bridge\ncan be created automatically.\n\nChange-Id: I2e5e1068e77291d1d199cd698cec4946480c7601\n'}]",2,693850,d6a7b73fc8d01d8118031f086d0ad20ab6186059,39,7,5,14807,,,0,"Create OVS bridge even if OVS_BRIDGE_MAPPINGS is not empty

in complex cases when mapping is defined in local.conf OVS bridge
can be created automatically.

Change-Id: I2e5e1068e77291d1d199cd698cec4946480c7601
",git fetch https://review.opendev.org/openstack/devstack refs/changes/50/693850/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/openvswitch_agent'],1,25b35d204973175726f53f0a1cc53a3994e46d75,bridge_create," if [[ ""$PHYSICAL_NETWORK"" != """" ]] && [[ ""$OVS_PHYSICAL_BRIDGE"" != """" ]]; then if [[ ""$OVS_BRIDGE_MAPPINGS"" == """" ]]; then OVS_BRIDGE_MAPPINGS=$PHYSICAL_NETWORK:$OVS_PHYSICAL_BRIDGE fi"," if [[ ""$OVS_BRIDGE_MAPPINGS"" == """" ]] && [[ ""$PHYSICAL_NETWORK"" != """" ]] && [[ ""$OVS_PHYSICAL_BRIDGE"" != """" ]]; then OVS_BRIDGE_MAPPINGS=$PHYSICAL_NETWORK:$OVS_PHYSICAL_BRIDGE",4,2
openstack%2Fnetworking-calico~master~I7a14adcc540408dd4493114a429883ac6c8fe6af,openstack/networking-calico,master,I7a14adcc540408dd4493114a429883ac6c8fe6af,calico-dhcp-agent dnsmasq domain parameter fix,MERGED,2019-12-19 00:29:31.000000000,2019-12-19 20:07:04.000000000,2019-12-19 20:07:04.000000000,"[{'_account_id': 10068}, {'_account_id': 13734}, {'_account_id': 22348}, {'_account_id': 31429}]","[{'number': 1, 'created': '2019-12-19 00:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/cc7b75ecd61deee4b51f08fb91b7add027aa5d30', 'message': 'calico-dhcp-agent dnsmasq domain parameter fix\n\nneutron 13.0.4 introduced a change to the parent class dhcp.Dnsmasq\nwhich is inherited by DnsmasqRouted in calico-dhcp-agent. This\nchange removed the member variable self.dns_domain which is used by\ncalico-dhcp-agent to correctly set the --domain dnsmasq parameter to\nthe value set in /etc/neutron/neutron.conf\n\nthis patch updates the subclass DnsmasqRouted to look for the dns_domain\nparameter in the correct location which works with both neutron 13.0.2 and\n13.0.4\n\nChange-Id: I7a14adcc540408dd4493114a429883ac6c8fe6af\nCloses-Bug: #1856909\n'}, {'number': 2, 'created': '2019-12-19 16:59:02.000000000', 'files': ['networking_calico/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/594cf28fb0359c1abf6da1022574be5ddd710a7b', 'message': 'calico-dhcp-agent dnsmasq domain parameter fix\n\nneutron 13.0.4 introduced a change to the parent class dhcp.Dnsmasq\nwhich is inherited by DnsmasqRouted in calico-dhcp-agent. This\nchange removed the member variable self.dns_domain which is used by\ncalico-dhcp-agent to correctly set the --domain dnsmasq parameter to\nthe value set in /etc/neutron/neutron.conf\n\nthis patch updates the subclass DnsmasqRouted to look for the dns_domain\nparameter in the correct location which works with both neutron 13.0.2 and\n13.0.4\n\nChange-Id: I7a14adcc540408dd4493114a429883ac6c8fe6af\nCloses-Bug: #1856909\n'}]",1,699891,594cf28fb0359c1abf6da1022574be5ddd710a7b,11,4,2,31429,,,0,"calico-dhcp-agent dnsmasq domain parameter fix

neutron 13.0.4 introduced a change to the parent class dhcp.Dnsmasq
which is inherited by DnsmasqRouted in calico-dhcp-agent. This
change removed the member variable self.dns_domain which is used by
calico-dhcp-agent to correctly set the --domain dnsmasq parameter to
the value set in /etc/neutron/neutron.conf

this patch updates the subclass DnsmasqRouted to look for the dns_domain
parameter in the correct location which works with both neutron 13.0.2 and
13.0.4

Change-Id: I7a14adcc540408dd4493114a429883ac6c8fe6af
Closes-Bug: #1856909
",git fetch https://review.opendev.org/openstack/networking-calico refs/changes/91/699891/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_calico/agent/linux/dhcp.py'],1,cc7b75ecd61deee4b51f08fb91b7add027aa5d30,bug/1856909, if self.conf.dns_domain: cmd.append('--domain=%s' % self.conf.dns_domain), if self.dns_domain: cmd.append('--domain=%s' % self.dns_domain),2,2
openstack%2Fironic~master~I2d0d33a5b62fed536785915b2a80d7af8b6f3e0d,openstack/ironic,master,I2d0d33a5b62fed536785915b2a80d7af8b6f3e0d,Disable automated clean on newer jobs,MERGED,2019-12-17 05:12:06.000000000,2019-12-19 20:00:19.000000000,2019-12-19 19:56:45.000000000,"[{'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-12-17 05:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6bdc134a5ee859f31c64d34333872d4a7fdbae22', 'message': 'Disable automated clean on newer jobs\n\nWe simply do not need to run automated cleaning on most jobs\nand it has been left enabled on a number of newer jobs.\n\nDisabling it improves gate performance by reducing the overall\nwait to start tests and cycle through test nodes as sometimes\nspike in testing infrastucture utilization can create increased\nlatency which may cause cleaning to time out.\n\nChange-Id: I2d0d33a5b62fed536785915b2a80d7af8b6f3e0d\n'}, {'number': 2, 'created': '2019-12-17 05:23:04.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7b4e10c0626260bfa13f2ff2e11a96f1a84a1fae', 'message': 'Disable automated clean on newer jobs\n\nWe simply do not need to run automated cleaning on most jobs\nand it has been left enabled on a number of newer jobs.\n\nDisabling it improves gate performance by reducing the overall\nwait to start tests and cycle through test nodes as sometimes\nspike in testing infrastucture utilization can create increased\nlatency which may cause cleaning to time out.\n\nChange-Id: I2d0d33a5b62fed536785915b2a80d7af8b6f3e0d\n'}]",0,699336,7b4e10c0626260bfa13f2ff2e11a96f1a84a1fae,21,8,2,11655,,,0,"Disable automated clean on newer jobs

We simply do not need to run automated cleaning on most jobs
and it has been left enabled on a number of newer jobs.

Disabling it improves gate performance by reducing the overall
wait to start tests and cycle through test nodes as sometimes
spike in testing infrastucture utilization can create increased
latency which may cause cleaning to time out.

Change-Id: I2d0d33a5b62fed536785915b2a80d7af8b6f3e0d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/36/699336/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,6bdc134a5ee859f31c64d34333872d4a7fdbae22,699336, IRONIC_AUTOMATED_CLEAN_ENABLED: False IRONIC_AUTOMATED_CLEAN_ENABLED: False IRONIC_AUTOMATED_CLEAN_ENABLED: False IRONIC_AUTOMATED_CLEAN_ENABLED: False IRONIC_AUTOMATED_CLEAN_ENABLED: False IRONIC_AUTOMATED_CLEAN_ENABLED: False,,6,0
openstack%2Fironic-inspector~master~Ic443c7e4d5a5a849c4dc220207f8957e4c90bf53,openstack/ironic-inspector,master,Ic443c7e4d5a5a849c4dc220207f8957e4c90bf53,Stop using six library,MERGED,2019-11-28 17:36:05.000000000,2019-12-19 19:59:57.000000000,2019-12-19 19:56:44.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-11-28 17:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f770469c9179d170d8741c7cbac6328949f1a007', 'message': ""Stop using six library\n\nSince we're dropped support for Python 2.7, it's time to look at\nthe bright future that Python 3.x will bring and stop forcing\ncompatibility with older versions.\nThis patch removes the six library from requirements, not\nlooking back.\n\nChange-Id: Ic443c7e4d5a5a849c4dc220207f8957e4c90bf53\n""}, {'number': 2, 'created': '2019-11-29 09:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/8cd20c360b03bae6dae1f4764bd9cdc3637c4caf', 'message': ""Stop using six library\n\nSince we've dropped support for Python 2.7, it's time to look at\nthe bright future that Python 3.x will bring and stop forcing\ncompatibility with older versions.\nThis patch removes the six library from requirements, not\nlooking back.\n\nChange-Id: Ic443c7e4d5a5a849c4dc220207f8957e4c90bf53\n""}, {'number': 3, 'created': '2019-12-03 14:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/4728f1662fbbd8801f5cff8cad0117920181e84f', 'message': ""Stop using six library\n\nSince we've dropped support for Python 2.7, it's time to look at\nthe bright future that Python 3.x will bring and stop forcing\ncompatibility with older versions.\nThis patch removes the six library from requirements, not\nlooking back.\n\nChange-Id: Ic443c7e4d5a5a849c4dc220207f8957e4c90bf53\n""}, {'number': 4, 'created': '2019-12-17 08:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f78dbc62d40c1dcbc750c7e47a36d864a714b03b', 'message': ""Stop using six library\n\nSince we've dropped support for Python 2.7, it's time to look at\nthe bright future that Python 3.x will bring and stop forcing\ncompatibility with older versions.\nThis patch removes the six library from requirements, not\nlooking back.\n\nChange-Id: Ic443c7e4d5a5a849c4dc220207f8957e4c90bf53\n""}, {'number': 5, 'created': '2019-12-17 08:23:08.000000000', 'files': ['ironic_inspector/test/unit/test_api_tools.py', 'ironic_inspector/test/unit/test_node_cache.py', 'ironic_inspector/test/unit/test_iptables.py', 'ironic_inspector/pxe_filter/interface.py', 'ironic_inspector/cmd/migration.py', 'ironic_inspector/test/functional.py', 'ironic_inspector/pxe_filter/base.py', 'lower-constraints.txt', 'ironic_inspector/node_cache.py', 'ironic_inspector/rules.py', 'ironic_inspector/test/unit/test_dnsmasq_pxe_filter.py', 'ironic_inspector/test/unit/test_plugins_standard.py', 'ironic_inspector/test/unit/test_pxe_filter.py', 'requirements.txt', 'ironic_inspector/plugins/introspection_data.py', 'ironic_inspector/test/unit/test_process.py', 'ironic_inspector/api_tools.py', 'ironic_inspector/main.py', 'ironic_inspector/plugins/standard.py', 'ironic_inspector/cmd/dbsync.py', 'ironic_inspector/plugins/base.py', 'ironic_inspector/common/locking.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/9b1450398ced703415411db2f2eae0758bfcdb44', 'message': ""Stop using six library\n\nSince we've dropped support for Python 2.7, it's time to look at\nthe bright future that Python 3.x will bring and stop forcing\ncompatibility with older versions.\nThis patch removes the six library from requirements, not\nlooking back.\n\nChange-Id: Ic443c7e4d5a5a849c4dc220207f8957e4c90bf53\n""}]",5,696617,9b1450398ced703415411db2f2eae0758bfcdb44,40,7,5,23851,,,0,"Stop using six library

Since we've dropped support for Python 2.7, it's time to look at
the bright future that Python 3.x will bring and stop forcing
compatibility with older versions.
This patch removes the six library from requirements, not
looking back.

Change-Id: Ic443c7e4d5a5a849c4dc220207f8957e4c90bf53
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/17/696617/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_api_tools.py', 'ironic_inspector/test/unit/test_node_cache.py', 'ironic_inspector/test/unit/test_iptables.py', 'ironic_inspector/pxe_filter/interface.py', 'ironic_inspector/cmd/migration.py', 'ironic_inspector/test/functional.py', 'ironic_inspector/pxe_filter/base.py', 'lower-constraints.txt', 'ironic_inspector/node_cache.py', 'ironic_inspector/rules.py', 'ironic_inspector/test/unit/test_dnsmasq_pxe_filter.py', 'ironic_inspector/test/unit/test_plugins_standard.py', 'ironic_inspector/test/unit/test_pxe_filter.py', 'requirements.txt', 'ironic_inspector/plugins/introspection_data.py', 'ironic_inspector/test/unit/test_process.py', 'ironic_inspector/api_tools.py', 'ironic_inspector/main.py', 'ironic_inspector/plugins/standard.py', 'ironic_inspector/cmd/dbsync.py', 'ironic_inspector/plugins/base.py', 'ironic_inspector/common/locking.py']",22,f770469c9179d170d8741c7cbac6328949f1a007,goodbye-six,"class BaseLock(object, metaclass=abc.ABCMeta):",import six@six.add_metaclass(abc.ABCMeta) class BaseLock(object):,126,126
openstack%2Ftripleo-quickstart~master~Ib087756d05886e9e99334dfd7cf67dbdb16c0642,openstack/tripleo-quickstart,master,Ib087756d05886e9e99334dfd7cf67dbdb16c0642,Move ostempest job definition with in featureset 52,MERGED,2019-12-10 10:45:22.000000000,2019-12-19 19:40:25.000000000,2019-12-19 19:38:22.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-10 10:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/eb442d9c6113eeeda343dab50f0e1f52fdd340e7', 'message': 'Move ostempest job definition withi n featureset 52\n\nSince all the jobs and featureset are all already ported to\nos_tempest and in order to make job definition little lighter,\nIt moves the tripleo-ci-centos-7-standalone tempest overrides\nto featureset.\n\nIt also runs smoke tests only in periodic not in check jobs as\nit takes too much time.\n\nChange-Id: Ib087756d05886e9e99334dfd7cf67dbdb16c0642\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-12-12 10:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7e6b9eb34aed214dba830acb2bbcca8e1e5f32c8', 'message': 'Move ostempest job definition withi n featureset 52\n\nSince all the jobs and featureset are all already ported to\nos_tempest and in order to make job definition little lighter,\nIt moves the tripleo-ci-centos-7-standalone tempest overrides\nto featureset.\n\nIt also runs smoke tests only in periodic not in check jobs as\nit takes too much time.\n\nChange-Id: Ib087756d05886e9e99334dfd7cf67dbdb16c0642\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2019-12-12 10:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1c067f6ec81b1e5720612bcf67ac7aff887a72ac', 'message': 'Move ostempest job definition with in featureset 52\n\nSince all the jobs and featureset are all already ported to\nos_tempest and in order to make job definition little lighter,\nIt moves the tripleo-ci-centos-7-standalone tempest overrides\nto featureset.\n\nIt also runs smoke tests only in periodic not in check jobs as\nit takes too much time.\n\nChange-Id: Ib087756d05886e9e99334dfd7cf67dbdb16c0642\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2019-12-16 11:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/764014dcd782aded5662bd1fea81b846804383df', 'message': 'Move ostempest job definition with in featureset 52\n\nSince all the jobs and featureset are all already ported to\nos_tempest and in order to make job definition little lighter,\nIt moves the tripleo-ci-centos-7-standalone tempest overrides\nto featureset.\n\nIt also runs smoke tests only in periodic not in check jobs as\nit takes too much time.\n\nChange-Id: Ib087756d05886e9e99334dfd7cf67dbdb16c0642\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2019-12-17 12:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8e177adfbe8560dd0bb1b18cf127c8dad573c528', 'message': 'Move ostempest job definition with in featureset 52\n\nSince all the jobs and featureset are all already ported to\nos_tempest and in order to make job definition little lighter,\nIt moves the tripleo-ci-centos-7-standalone tempest overrides\nto featureset.\n\nIt also runs smoke tests only in periodic not in check jobs as\nit takes too much time.\n\nChange-Id: Ib087756d05886e9e99334dfd7cf67dbdb16c0642\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2019-12-17 15:36:36.000000000', 'files': ['config/general_config/featureset052.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2774c327c652d55de6b2ccebe5879f7c2025c40d', 'message': 'Move ostempest job definition with in featureset 52\n\nSince all the jobs and featureset are all already ported to\nos_tempest and in order to make job definition little lighter,\nIt moves the tripleo-ci-centos-7-standalone tempest overrides\nto featureset.\n\nIt also runs smoke tests only in periodic not in check jobs as\nit takes too much time.\n\nChange-Id: Ib087756d05886e9e99334dfd7cf67dbdb16c0642\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",4,698211,2774c327c652d55de6b2ccebe5879f7c2025c40d,39,7,6,12393,,,0,"Move ostempest job definition with in featureset 52

Since all the jobs and featureset are all already ported to
os_tempest and in order to make job definition little lighter,
It moves the tripleo-ci-centos-7-standalone tempest overrides
to featureset.

It also runs smoke tests only in periodic not in check jobs as
it takes too much time.

Change-Id: Ib087756d05886e9e99334dfd7cf67dbdb16c0642
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/11/698211/6 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset052.yml'],1,eb442d9c6113eeeda343dab50f0e1f52fdd340e7,move_to_plain_standalone,"# Settings for os_tempest run_tempest: >- {% if release not in ['pike', 'queens', 'rocky', 'stein'] -%} false {%- else -%} true {%- endif -%} use_os_tempest: >- {% if release not in ['pike', 'queens', 'rocky', 'stein'] -%} true {%- else -%} false {%- endif -%} tempest_test_whitelist: >- {% 'periodic' in zuul.pipeline -%} - {{ test_white_regex }} {%- endif -%} - {{ tempest_whitelist }} tempest_run_concurrency: 2 tempest_tempest_conf_overrides: auth.use_dynamic_credentials: true ",run_tempest: true,25,1
openstack%2Fpuppet-tripleo~master~I2590e46d4fb0c2dff23cb0fa6cacee9d42759e5c,openstack/puppet-tripleo,master,I2590e46d4fb0c2dff23cb0fa6cacee9d42759e5c,Add octavia::nova to Octavia services,MERGED,2019-12-14 15:45:31.000000000,2019-12-19 19:38:21.000000000,2019-12-19 19:38:21.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-14 15:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9b5edd8c586c6cc0e11050e1530a5c34f3862228', 'message': 'Add octavia::nova to worker\n\nChange-Id: I2590e46d4fb0c2dff23cb0fa6cacee9d42759e5c\n'}, {'number': 2, 'created': '2019-12-17 09:00:19.000000000', 'files': ['manifests/profile/base/octavia/worker.pp', 'manifests/profile/base/octavia/housekeeping.pp', 'manifests/profile/base/octavia/health_manager.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1dff3a811a1a0f712ef96bf7d7c29d8994e9abe7', 'message': 'Add octavia::nova to Octavia services\n\nChange-Id: I2590e46d4fb0c2dff23cb0fa6cacee9d42759e5c\n'}]",0,699074,1dff3a811a1a0f712ef96bf7d7c29d8994e9abe7,35,6,2,16137,,,0,"Add octavia::nova to Octavia services

Change-Id: I2590e46d4fb0c2dff23cb0fa6cacee9d42759e5c
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/74/699074/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/octavia/worker.pp'],1,9b5edd8c586c6cc0e11050e1530a5c34f3862228,, include octavia::nova,,1,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I11bf31dc5e367fb317e5d1d3ae8cccdca64c66c9,openstack/tripleo-heat-templates,stable/train,I11bf31dc5e367fb317e5d1d3ae8cccdca64c66c9,Install tmpwatch on the overcloud,MERGED,2019-12-16 12:19:12.000000000,2019-12-19 19:27:09.000000000,2019-12-19 19:27:09.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25613}]","[{'number': 1, 'created': '2019-12-16 12:19:12.000000000', 'files': ['deployment/logrotate/tmpwatch-install.yaml', 'overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/80be9b8f0f78fe196ace03a67fe9ccd3da893b1c', 'message': ""Install tmpwatch on the overcloud\n\nFor some reason, it wasn't active on the overcloud nodes.\n\nChange-Id: I11bf31dc5e367fb317e5d1d3ae8cccdca64c66c9\nCloses-Bug: #1855802\n(cherry picked from commit 0419a5b8e6682238418b3bd004d00b815b9a1c45)\n""}]",0,699200,80be9b8f0f78fe196ace03a67fe9ccd3da893b1c,12,8,1,28223,,,0,"Install tmpwatch on the overcloud

For some reason, it wasn't active on the overcloud nodes.

Change-Id: I11bf31dc5e367fb317e5d1d3ae8cccdca64c66c9
Closes-Bug: #1855802
(cherry picked from commit 0419a5b8e6682238418b3bd004d00b815b9a1c45)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/699200/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/logrotate/tmpwatch-install.yaml', 'overcloud-resource-registry-puppet.j2.yaml']",2,80be9b8f0f78fe196ace03a67fe9ccd3da893b1c,tmpwatch-on-overcloud-stable/train, OS::TripleO::Services::Tmpwatch: deployment/logrotate/tmpwatch-install.yaml, OS::TripleO::Services::Tmpwatch: OS::Heat::None,3,3
openstack%2Foslo.messaging~master~If616ac023f578f073d9ae8596bc8ce870096ef0b,openstack/oslo.messaging,master,If616ac023f578f073d9ae8596bc8ce870096ef0b,Ignore releasenote cache within git untracked files,MERGED,2019-12-18 16:03:22.000000000,2019-12-19 19:20:59.000000000,2019-12-19 19:19:22.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 16:03:22.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/2a4cea9e853d6c965e86b23201c4a13518c8f82b', 'message': 'Ignore releasenote cache within git untracked files\n\nChange-Id: If616ac023f578f073d9ae8596bc8ce870096ef0b\n'}]",0,699719,2a4cea9e853d6c965e86b23201c4a13518c8f82b,8,3,1,28522,,,0,"Ignore releasenote cache within git untracked files

Change-Id: If616ac023f578f073d9ae8596bc8ce870096ef0b
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/19/699719/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,2a4cea9e853d6c965e86b23201c4a13518c8f82b,ignore-releasenotes,RELEASENOTES.rst releasenotes/notes/reno.cache,,2,0
openstack%2Fneutron~master~I71f45fcd9b7e7bdacaafc7fa96c775e88333ab48,openstack/neutron,master,I71f45fcd9b7e7bdacaafc7fa96c775e88333ab48,don't clear skb mark when ovs is hw-offload enabled,MERGED,2019-12-10 22:59:46.000000000,2019-12-19 19:16:34.000000000,2019-12-19 04:15:13.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 12171}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 25241}, {'_account_id': 26622}, {'_account_id': 28714}]","[{'number': 1, 'created': '2019-12-10 22:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9f48f173691b050d69d314b457e8f83cd0d4862', 'message': ""don't clear skb mark when ovs is hw-offload enabled\n\nskb mark is not supported when using ovs hw-offload and using it\nbreaks the vxlan offload.\n\nThis patch clear skb mark only if ovs hw-offload is disabled.\nThis should be fine as ovs with hw-offload runs on the\ncompute node (DVR is not supported), so clear the skb mark for\nthe qrouter is not needed.\n\nCloses-Bug: #1855888\n\nChange-Id: I71f45fcd9b7e7bdacaafc7fa96c775e88333ab48\n""}, {'number': 2, 'created': '2019-12-12 11:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3baa9527ddaf6a0c447d13604e5df60837e47545', 'message': ""don't clear skb mark when ovs is hw-offload enabled\n\nskb mark is not supported when using ovs hw-offload and using it\nbreaks the vxlan offload.\n\nThis patch clear skb mark only if ovs hw-offload is disabled.\nThis should be fine as ovs with hw-offload runs on the\ncompute node (DVR is not supported), so clear the skb mark for\nthe qrouter is not needed.\n\nCloses-Bug: #1855888\n\nChange-Id: I71f45fcd9b7e7bdacaafc7fa96c775e88333ab48\n""}, {'number': 3, 'created': '2019-12-12 11:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/133bb2f2d4d1e2021f18bcefc1ceb97a1bdcdaee', 'message': ""don't clear skb mark when ovs is hw-offload enabled\n\nskb mark is not supported when using ovs hw-offload and using it\nbreaks the vxlan offload.\n\nThis patch clear skb mark only if ovs hw-offload is disabled.\nThis should be fine as ovs with hw-offload runs on the\ncompute node (DVR is not supported), so clear the skb mark for\nthe qrouter is not needed.\n\nCloses-Bug: #1855888\n\nChange-Id: I71f45fcd9b7e7bdacaafc7fa96c775e88333ab48\n""}, {'number': 4, 'created': '2019-12-13 18:03:37.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a75ec08ddb6a672ba685a11ba3f7df1569497723', 'message': ""don't clear skb mark when ovs is hw-offload enabled\n\nskb mark is not supported when using ovs hw-offload and using it\nbreaks the vxlan offload.\n\nThis patch clear skb mark only if ovs hw-offload is disabled.\nThis should be fine as ovs with hw-offload runs on the\ncompute node (DVR is not supported), so clear the skb mark for\nthe qrouter is not needed.\n\nCloses-Bug: #1855888\n\nChange-Id: I71f45fcd9b7e7bdacaafc7fa96c775e88333ab48\n""}]",8,698336,a75ec08ddb6a672ba685a11ba3f7df1569497723,54,12,4,12171,,,0,"don't clear skb mark when ovs is hw-offload enabled

skb mark is not supported when using ovs hw-offload and using it
breaks the vxlan offload.

This patch clear skb mark only if ovs hw-offload is disabled.
This should be fine as ovs with hw-offload runs on the
compute node (DVR is not supported), so clear the skb mark for
the qrouter is not needed.

Closes-Bug: #1855888

Change-Id: I71f45fcd9b7e7bdacaafc7fa96c775e88333ab48
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/698336/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py']",2,c9f48f173691b050d69d314b457e8f83cd0d4862,bug/1855888," def test_hw_offload_enabled_false(self): config_mock1 = mock.PropertyMock(return_value={""other_config"": {}}) config_mock2 = mock.PropertyMock( return_value={""other_config"": {""hw-offload"": ""false""}}) for config_mock in (config_mock1, config_mock2): with mock.patch(""neutron.agent.common.ovs_lib.OVSBridge.config"", new_callable=config_mock): self.assertFalse(self.br.is_hw_offload_enabled) def test_hw_offload_enabled_true(self): config_mock = mock.PropertyMock( return_value={""other_config"": {""hw-offload"": ""true""}}) with mock.patch(""neutron.agent.common.ovs_lib.OVSBridge.config"", new_callable=config_mock): self.assertTrue(self.br.is_hw_offload_enabled) ",,28,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~If6da4aff016db9a72e1cb9dfc9731f06e062f64d,openstack/tripleo-heat-templates,stable/queens,If6da4aff016db9a72e1cb9dfc9731f06e062f64d,Increase rabbitmq tcp backlog,MERGED,2019-12-19 06:20:37.000000000,2019-12-19 19:11:48.000000000,2019-12-19 19:11:47.000000000,"[{'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-19 06:20:37.000000000', 'files': ['puppet/services/rabbitmq.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9e868e15de576ef6ae2d873edc7f6ffed469165d', 'message': ""Increase rabbitmq tcp backlog\n\nFrom https://bugzilla.redhat.com/show_bug.cgi?id=1778428\n\nWe need to tune the default rabbitmq tcp listen backlog.  Currently it defaults\nto 128, but here's what happens:\nSay we have 1500 total rabbitmq client connections spread across a 3 node\ncluster, evenly distributed so each node has 500 clients.\n\nThen, we stop rabbitmq on one of the nodes.\n\nNow those 500 client connections all immediately fail over to the other two\nnode.  Assume roughly even split, and each gets 250 connections simultaneously.\nSince the tcp listen backlog is only 128, a large number of the failover\nconnections cannot connect and get ECONNREFUSED because the kernel just drops\nthem.\n\nEventually things retry and the backlog clears, but it just makes things noisy\nin the logs and makes failover take a little bit longer.\n\nUpstream docs discuss here:\nhttps://www.rabbitmq.com/networking.html#tuning-for-large-number-of-connections-connection-backlog\n\nSuggested-By: John Eckersberg <jeckersb@redhat.com>\nCloses-Bug: #1854704\n\nChange-Id: If6da4aff016db9a72e1cb9dfc9731f06e062f64d\n(cherry picked from commit 9f4832fcc4d939da3d4e7f83e26c4f934bff7dc0)\n(cherry picked from commit 5c8f9c67f1bd3eccaf68490b7432935deb171776)\n""}]",0,699916,9e868e15de576ef6ae2d873edc7f6ffed469165d,8,3,1,20172,,,0,"Increase rabbitmq tcp backlog

From https://bugzilla.redhat.com/show_bug.cgi?id=1778428

We need to tune the default rabbitmq tcp listen backlog.  Currently it defaults
to 128, but here's what happens:
Say we have 1500 total rabbitmq client connections spread across a 3 node
cluster, evenly distributed so each node has 500 clients.

Then, we stop rabbitmq on one of the nodes.

Now those 500 client connections all immediately fail over to the other two
node.  Assume roughly even split, and each gets 250 connections simultaneously.
Since the tcp listen backlog is only 128, a large number of the failover
connections cannot connect and get ECONNREFUSED because the kernel just drops
them.

Eventually things retry and the backlog clears, but it just makes things noisy
in the logs and makes failover take a little bit longer.

Upstream docs discuss here:
https://www.rabbitmq.com/networking.html#tuning-for-large-number-of-connections-connection-backlog

Suggested-By: John Eckersberg <jeckersb@redhat.com>
Closes-Bug: #1854704

Change-Id: If6da4aff016db9a72e1cb9dfc9731f06e062f64d
(cherry picked from commit 9f4832fcc4d939da3d4e7f83e26c4f934bff7dc0)
(cherry picked from commit 5c8f9c67f1bd3eccaf68490b7432935deb171776)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/699916/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/rabbitmq.yaml'],1,9e868e15de576ef6ae2d873edc7f6ffed469165d,queens_tcplog, rabbitmq::tcp_backlog: 4096,,1,0
openstack%2Fautomaton~master~I6d52fdd59be2a3be50a803b2b19621455765bfaf,openstack/automaton,master,I6d52fdd59be2a3be50a803b2b19621455765bfaf,trivial: Remove noise,MERGED,2019-12-18 15:25:21.000000000,2019-12-19 19:10:24.000000000,2019-12-19 19:08:38.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-12-18 15:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/automaton/commit/e2f241460aba02c487112bdb4f8d167f3a913ea1', 'message': 'trivial: Remove noise\n\nChange-Id: I6d52fdd59be2a3be50a803b2b19621455765bfaf\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2019-12-18 16:58:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/automaton/commit/a857df2e5e1b18ca26680a0fc51966a1b97c0589', 'message': 'trivial: Remove noise\n\nChange-Id: I6d52fdd59be2a3be50a803b2b19621455765bfaf\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",4,699704,a857df2e5e1b18ca26680a0fc51966a1b97c0589,12,4,2,15334,,,0,"trivial: Remove noise

Change-Id: I6d52fdd59be2a3be50a803b2b19621455765bfaf
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/automaton refs/changes/04/699704/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e2f241460aba02c487112bdb4f8d167f3a913ea1,sphinx,,install_command = pip install {opts} {packages}[testenv:py27] basepython = python2.7 commands = {[testenv]commands} ,0,6
openstack%2Fpython-tripleoclient~master~Ib25d8f8fbfde8fb13bd6518fd2383b7e3ae7abee,openstack/python-tripleoclient,master,Ib25d8f8fbfde8fb13bd6518fd2383b7e3ae7abee,Pass container name to update_nodes workflow,MERGED,2019-12-03 21:54:13.000000000,2019-12-19 18:50:04.000000000,2019-12-19 15:37:56.000000000,"[{'_account_id': 3153}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 21:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/743833c1f86e3b9b83ed8a4d18b35e7f2e0636cb', 'message': ""Pass container name to update_nodes workflow\n\nThe container name needs to be passed with the stack name value to the\nupdate_nodes workflow so that the right config container is used during\nthe update.\n\nPreviously, this was not an issue since all update actions just\ndefaulted to overcloud-config even if the stack name wasn't overcloud.\n\nHowever, with the multiple overclouds feature and the multi-stack\nfeature, we need to make sure the right config container is used that\nmatches the stack name.\n\nCloses-Bug: #1854991\nDepends-On: Id6b4a5913141fc558c40f2cfd29f5e0741544ab4\nChange-Id: Ib25d8f8fbfde8fb13bd6518fd2383b7e3ae7abee\n""}, {'number': 2, 'created': '2019-12-03 22:42:56.000000000', 'files': ['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_external_update/test_overcloud_external_update.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/tests/v1/overcloud_external_upgrade/test_overcloud_external_upgrade.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/v1/overcloud_external_update.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/test_overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_external_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/819dab257d5b671f3194792c111ece7b4ecaab39', 'message': ""Pass container name to update_nodes workflow\n\nThe container name needs to be passed with the stack name value to the\nupdate_nodes workflow so that the right config container is used during\nthe update.\n\nPreviously, this was not an issue since all update actions just\ndefaulted to overcloud-config even if the stack name wasn't overcloud.\n\nHowever, with the multiple overclouds feature and the multi-stack\nfeature, we need to make sure the right config container is used that\nmatches the stack name.\n\nCloses-Bug: #1854991\nDepends-On: Id6b4a5913141fc558c40f2cfd29f5e0741544ab4\nChange-Id: Ib25d8f8fbfde8fb13bd6518fd2383b7e3ae7abee\n""}]",0,697188,819dab257d5b671f3194792c111ece7b4ecaab39,18,4,2,7144,,,0,"Pass container name to update_nodes workflow

The container name needs to be passed with the stack name value to the
update_nodes workflow so that the right config container is used during
the update.

Previously, this was not an issue since all update actions just
defaulted to overcloud-config even if the stack name wasn't overcloud.

However, with the multiple overclouds feature and the multi-stack
feature, we need to make sure the right config container is used that
matches the stack name.

Closes-Bug: #1854991
Depends-On: Id6b4a5913141fc558c40f2cfd29f5e0741544ab4
Change-Id: Ib25d8f8fbfde8fb13bd6518fd2383b7e3ae7abee
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/88/697188/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py']",5,743833c1f86e3b9b83ed8a4d18b35e7f2e0636cb,bug/1854991," container='overcloud', container='overcloud',",,14,6
openstack%2Ftripleo-common~master~Id6b4a5913141fc558c40f2cfd29f5e0741544ab4,openstack/tripleo-common,master,Id6b4a5913141fc558c40f2cfd29f5e0741544ab4,Pass container_config to config actions,MERGED,2019-12-03 19:59:33.000000000,2019-12-19 18:49:55.000000000,2019-12-11 11:16:55.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 9712}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 19:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/da3777228fecd8ed5254eaa4eba7ab5b077de5aa', 'message': 'Pass container_config to get_overcloud_config action\n\nWhen the container_config name is not passed, the default\novercloud-config is used. This means the correct config is not used if\nthe stack name is not overcloud as is often the case with multiple\noverclouds or multi-stack.\n\nChange-Id: Id6b4a5913141fc558c40f2cfd29f5e0741544ab4\nCloses-Bug: #1854991\n'}, {'number': 2, 'created': '2019-12-03 21:35:30.000000000', 'files': ['workbooks/package_update.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/12ecf6c85d6db28794e5ce04c2c8a29d6c9fc53c', 'message': 'Pass container_config to config actions\n\nThis patch updates the get_config and update_nodes workflows to pass in\nthe container_config name into the get_overcloud_config/download_config\nactions.\n\nWhen the container_config name is not passed, the default\novercloud-config is used. This means the correct config is not used if\nthe stack name is not overcloud as is often the case with multiple\noverclouds or multi-stack.\n\nChange-Id: Id6b4a5913141fc558c40f2cfd29f5e0741544ab4\nCloses-Bug: #1854991\n'}]",2,697174,12ecf6c85d6db28794e5ce04c2c8a29d6c9fc53c,16,6,2,7144,,,0,"Pass container_config to config actions

This patch updates the get_config and update_nodes workflows to pass in
the container_config name into the get_overcloud_config/download_config
actions.

When the container_config name is not passed, the default
overcloud-config is used. This means the correct config is not used if
the stack name is not overcloud as is often the case with multiple
overclouds or multi-stack.

Change-Id: Id6b4a5913141fc558c40f2cfd29f5e0741544ab4
Closes-Bug: #1854991
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/74/697174/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/package_update.yaml'],1,da3777228fecd8ed5254eaa4eba7ab5b077de5aa,bug/1854991, action: tripleo.config.get_overcloud_config input: container: <% $.container %> container_config: <% $.container %>-config, action: tripleo.config.get_overcloud_config container=<% $.container %>,4,1
openstack%2Fdevstack~master~I01787641c887bfc0f4620b90b4ff488958dac53e,openstack/devstack,master,I01787641c887bfc0f4620b90b4ff488958dac53e,fix a command typo,MERGED,2019-12-19 11:33:55.000000000,2019-12-19 18:48:32.000000000,2019-12-19 18:46:45.000000000,"[{'_account_id': 13252}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-19 11:33:55.000000000', 'files': ['roles/export-devstack-journal/templates/devstack.journal.README.txt.j2'], 'web_link': 'https://opendev.org/openstack/devstack/commit/56b2e7fe8b676d0fd94f511529c731d9a6af5c4a', 'message': 'fix a command typo\n\nChange-Id: I01787641c887bfc0f4620b90b4ff488958dac53e\n'}]",0,699956,56b2e7fe8b676d0fd94f511529c731d9a6af5c4a,9,3,1,19134,,,0,"fix a command typo

Change-Id: I01787641c887bfc0f4620b90b4ff488958dac53e
",git fetch https://review.opendev.org/openstack/devstack refs/changes/56/699956/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/export-devstack-journal/templates/devstack.journal.README.txt.j2'],1,56b2e7fe8b676d0fd94f511529c731d9a6af5c4a,eyalb/typo,"platforms, you will need to have the ""systemd-journal-remote"" package","platforms, you will need to have the ""sytemd-journal-remote"" package",1,1
openstack%2Fcinderlib~stable%2Ftrain~I67fbf8e9d7ee79f3d6617b4d0ae755dae0e1987a,openstack/cinderlib,stable/train,I67fbf8e9d7ee79f3d6617b4d0ae755dae0e1987a,Fix configuration options,MERGED,2019-12-19 13:31:39.000000000,2019-12-19 18:48:29.000000000,2019-12-19 18:46:46.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-19 13:31:39.000000000', 'files': ['doc/source/validated.rst', 'cinderlib/tests/unit/test_cinderlib.py', 'cinderlib/cinderlib.py'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/199ebd4f5a1984573877f582a2655f4171916761', 'message': 'Fix configuration options\n\nWhen fixing bug #1854188 (Change-ID:\nI62e992804a3ae6aa0b4aa4f883807783197d4b33) we broke configuration\noptions, because now we cannot pass configuration options from the\nDEFAULT section, and some ListOpt don\'t work because cinderlib was\nincorrectly expecting all these options to have bounds=True, but some\ndon\'t define it and default to False.\n\nMost of the ""crazy"" code we currently have around oslo config is because\nwe wanted to support drivers that add configuration options on runtime\nand reload the configuration.\n\nThis made sense when cinderlib was not an OpenStack official project,\nbut now that it is it makes more sense to force Cinder drivers to do the\nright thing.\n\nAligned with this, this patch removes all the faking of the cinder.conf\nfile as a StringIO object, and simply sets things in the configuration\nobject that is passed to the drivers, which is the only thing they\nshould be using.\n\nThis will make cinderlib code more robust, even if some drivers will now\nneed to be modified to work with cinderlib.\n\nWe are validating known configuration options and ignoring unknown ones,\nlike Cinder does.\n\nThe NetApp driver was one of the drivers that would get broken, but\nsince I have access to it and we can make a very small and targeted\nworkaround to avoid breaking it, we do it as well.\n\nCloses-Bug: #1856556\nChange-Id: I67fbf8e9d7ee79f3d6617b4d0ae755dae0e1987a\n(cherry picked from commit fbd7a72c1bbfe4696eada41064c476ba3ecd6a8f)\n'}]",0,699986,199ebd4f5a1984573877f582a2655f4171916761,8,3,1,9535,,,0,"Fix configuration options

When fixing bug #1854188 (Change-ID:
I62e992804a3ae6aa0b4aa4f883807783197d4b33) we broke configuration
options, because now we cannot pass configuration options from the
DEFAULT section, and some ListOpt don't work because cinderlib was
incorrectly expecting all these options to have bounds=True, but some
don't define it and default to False.

Most of the ""crazy"" code we currently have around oslo config is because
we wanted to support drivers that add configuration options on runtime
and reload the configuration.

This made sense when cinderlib was not an OpenStack official project,
but now that it is it makes more sense to force Cinder drivers to do the
right thing.

Aligned with this, this patch removes all the faking of the cinder.conf
file as a StringIO object, and simply sets things in the configuration
object that is passed to the drivers, which is the only thing they
should be using.

This will make cinderlib code more robust, even if some drivers will now
need to be modified to work with cinderlib.

We are validating known configuration options and ignoring unknown ones,
like Cinder does.

The NetApp driver was one of the drivers that would get broken, but
since I have access to it and we can make a very small and targeted
workaround to avoid breaking it, we do it as well.

Closes-Bug: #1856556
Change-Id: I67fbf8e9d7ee79f3d6617b4d0ae755dae0e1987a
(cherry picked from commit fbd7a72c1bbfe4696eada41064c476ba3ecd6a8f)
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/86/699986/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/validated.rst', 'cinderlib/tests/unit/test_cinderlib.py', 'cinderlib/cinderlib.py']",3,199ebd4f5a1984573877f582a2655f4171916761,bug/1854188,"from cinder.volume import manager # noqa We need to import config options conf = self._get_backend_config(driver_cfg) self._apply_backend_workarounds(conf) cfg.CONF.version = cinderlib.__version__ cfg.CONF.oslo_concurrency.lock_path = locks_path cfg.CONF.coordination.backend_url = 'file://' + locks_path if host: cfg.CONF.host = host cls._validate_options(cinder_config_params) for k, v in cinder_config_params.items(): setattr(cfg.CONF, k, v) @classmethod def _validate_options(cls, kvs, group=None): if kvs.get('volume_driver'): group = group or 'backend_defaults' for k, v in kvs.items(): try: # set_override does the validation cfg.CONF.set_override(k, v, group) # for correctness, don't leave it there cfg.CONF.clear_override(k, group) except cfg.NoSuchOptError: # Don't fail on unknown variables, behave like cinder LOG.warning('Unknown config option %s', k) def _get_backend_config(self, driver_cfg): # Create the group for the backend cfg.CONF.register_group(cfg.OptGroup(backend_name)) # Validate and set config options backend_group = getattr(cfg.CONF, backend_name) self._validate_options(driver_cfg) for key, value in driver_cfg.items(): setattr(backend_group, key, value) # Return the Configuration that will be passed to the driver config = configuration.Configuration([], config_group=backend_name) def _apply_backend_workarounds(self, config): """"""Apply workarounds for drivers that do bad stuff."""""" if 'netapp' in config.volume_driver: # Workaround NetApp's weird replication stuff that makes it reload # config sections in get_backend_configuration. OK since we don't # support replication. cfg.CONF.list_all_sections = lambda: config.volume_backend_name ","import sixfrom cinder.volume import manager conf = self._set_backend_config(driver_cfg) # NOTE(geguileo): Staticmethod used instead of classmethod to make it work # on Python3 when assigning the unbound method. @staticmethod def _config_parse(self): """"""Replacer oslo_config.cfg.ConfigParser.parse for in-memory cfg."""""" res = super(cfg.ConfigParser, self).parse(Backend._config_string_io) return res @classmethod def _update_cinder_config(cls): """"""Parse in-memory file to update OSLO configuration used by Cinder."""""" cls._config_string_io.seek(0) cls._parser.write(cls._config_string_io) # Check if we have any multiopt cls._config_string_io.seek(0) current_cfg = cls._config_string_io.read() if '\n\t' in current_cfg: cls._config_string_io.seek(0) cls._config_string_io.write(current_cfg.replace('\n\t', '\n')) cls._config_string_io.seek(0) cfg.CONF.reload_config_files() cls._parser = six.moves.configparser.SafeConfigParser() cls._parser.set('DEFAULT', 'enabled_backends', '') cls._parser.add_section('oslo_concurrency') cls._parser.set('oslo_concurrency', 'lock_path', locks_path) cls._parser.add_section('coordination') cls._parser.set('coordination', 'backend_url', 'file://' + locks_path) if host: cls._parser.set('DEFAULT', 'host', host) # All other configuration options go into the DEFAULT section cls.__set_parser_kv(cinder_config_params, 'DEFAULT') # We replace the OSLO's default parser to read from a StringIO instead # of reading from a file. cls._config_string_io = six.moves.StringIO() cfg.ConfigParser.parse = six.create_unbound_method(cls._config_parse, cfg.ConfigParser) # Update the configuration with the options we have configured cfg.CONF(project='cinder', version=cinderlib.__version__, default_config_files=['in_memory_file']) cls._update_cinder_config() @staticmethod def __get_options_types(kvs): """"""Get loaded oslo options and load driver if we know it."""""" if 'volume_driver' in kvs: opts = configuration.CONF._groups['backend_defaults']._opts return opts @classmethod def __val_to_str(cls, val): """"""Convert an oslo config value to its string representation. Lists and tuples are treated as ListOpt classes and converted to ""[value1,value2]"" instead of the standard string representation of ""['value1','value2']"". Dictionaries are treated as DictOpt and converted to 'k1:v1,k2:v2"" instead of the standard representation of ""{'k1':'v1','k2':'v2'}"". Anything else is converted to a string. """""" if isinstance(val, six.string_types): return val # Recursion is used to to handle options like u4p_failover_target that # is a MultiOpt where each entry is a dictionary. if isinstance(val, (list, tuple)): return '[' + ','.join((cls.__val_to_str(v) for v in val)) + ']' if isinstance(val, dict): return ','.join('%s:%s' % (k, cls.__val_to_str(v)) for k, v in val.items()) return six.text_type(val) @classmethod def __convert_option_to_string(cls, key, val, opts): """"""Convert a Cinder driver cfg option into oslo config file format. A single Python object represents multiple Oslo config types. For example a list can be a ListOpt or a MultOpt, and their string representations on a file are different. This method uses the configuration option types to return the right string representation. """""" opt = opts[key]['opt'] # Convert to a list for ListOpt opts were the caller didn't pass a list if (isinstance(opt, cfg.ListOpt) and not isinstance(val, (list, tuple))): val = [val] # For MultiOpt we need multiple entries in the file but ConfigParser # doesn't support repeating the same entry multiple times, so we hack # our way around it elif isinstance(opt, cfg.MultiOpt): if not isinstance(val, (list, tuple)): val = [val] if val else [] val = [cls.__val_to_str(v) for v in val] if not val: val = '' elif len(val) == 1: val = val[0] else: val = (('%s\n' % val[0]) + '\n'.join('%s = %s' % (key, v) for v in val[1:])) # This will handle DictOpt and ListOpt if not isinstance(val, six.string_types): val = cls.__val_to_str(val) return val @classmethod def __set_parser_kv(cls, kvs, section): """"""Set Oslo configuration options in our parser. The Oslo parser needs to have the configuration options like they are in a file, but we have them as Python objects, so we need to set them for the parser in the format it is expecting them, strings. """""" opts = cls.__get_options_types(kvs) for key, val in kvs.items(): string_val = cls.__convert_option_to_string(key, val, opts) cls._parser.set(section, key, string_val) def _set_backend_config(self, driver_cfg): self._parser.add_section(backend_name) self.__set_parser_kv(driver_cfg, backend_name) self._parser.set('DEFAULT', 'enabled_backends', ','.join(self.backends.keys())) self._update_cinder_config() config = configuration.Configuration(manager.volume_backend_opts, config_group=backend_name)",134,280
openstack%2Fhorizon~stable%2Ftrain~Ibafe3e2eb3ee1ee5c9eb5d2a276a0edfa3e7c607,openstack/horizon,stable/train,Ibafe3e2eb3ee1ee5c9eb5d2a276a0edfa3e7c607,Fix users/projects list when domain context is changed,MERGED,2019-12-13 10:23:53.000000000,2019-12-19 18:40:54.000000000,2019-12-19 18:37:35.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 5623}, {'_account_id': 8648}, {'_account_id': 10366}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-12-13 10:23:53.000000000', 'files': ['openstack_dashboard/api/keystone.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/02f4d8ab762cd8587873e832bdcb8e4c1ec0656c', 'message': 'Fix users/projects list when domain context is changed\n\nIn case of Keystone Multidomain setup, the project and users list\nis empty when the domain context is changed. Horizon uses domain\nscoped token for keystone api calls to get list of projects and users.\nAnd domain scoped token cannot get information about projects and users\nin other domains, the list is empty.\n\nThis patch modifies the use of domain scoped token only when domain\ncontext is not modified.\n\nThe bug have 3 parts\n1. Users are not listed on GUI in different domain\n2. Projects are not listed on GUI in different domain\n3. Gui hangs during creation of user/project using + option\nThis patch handles case 1 and 2.\n\nChange-Id: Ibafe3e2eb3ee1ee5c9eb5d2a276a0edfa3e7c607\nPartial-Bug: #1826114\nCloses-Bug: #1830782\n(cherry picked from commit 9aca7a94e28589484e312770cc1ee2b8243211bb)\n'}]",0,698866,02f4d8ab762cd8587873e832bdcb8e4c1ec0656c,14,7,1,10366,,,0,"Fix users/projects list when domain context is changed

In case of Keystone Multidomain setup, the project and users list
is empty when the domain context is changed. Horizon uses domain
scoped token for keystone api calls to get list of projects and users.
And domain scoped token cannot get information about projects and users
in other domains, the list is empty.

This patch modifies the use of domain scoped token only when domain
context is not modified.

The bug have 3 parts
1. Users are not listed on GUI in different domain
2. Projects are not listed on GUI in different domain
3. Gui hangs during creation of user/project using + option
This patch handles case 1 and 2.

Change-Id: Ibafe3e2eb3ee1ee5c9eb5d2a276a0edfa3e7c607
Partial-Bug: #1826114
Closes-Bug: #1830782
(cherry picked from commit 9aca7a94e28589484e312770cc1ee2b8243211bb)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/66/698866/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/api/keystone.py'],1,02f4d8ab762cd8587873e832bdcb8e4c1ec0656c,bug/1826114-stable/train," is_domain_context_specified = bool( request.session.get(""domain_context"")) # If user is Cloud Admin, Domain Admin or Mixed Domain Admin and there # is no domain context specified, use domain scoped token if is_domain_admin(request) and not is_domain_context_specified:"," # Cloud Admin, Domain Admin or Mixed Domain Admin if is_domain_admin(request):",6,2
openstack%2Fnova~master~Id3389038b5fed1e70dd12c7ed9cef2c0950625cf,openstack/nova,master,Id3389038b5fed1e70dd12c7ed9cef2c0950625cf,Fix race in test_create_servers_with_vpmem,MERGED,2019-12-19 14:43:19.000000000,2019-12-19 18:38:27.000000000,2019-12-19 18:33:52.000000000,"[{'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-19 14:43:19.000000000', 'files': ['nova/tests/functional/libvirt/test_vpmem.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/40950f9c87681a1db0f3819530dd0b89ac5f6553', 'message': ""Fix race in test_create_servers_with_vpmem\n\nThis test creates 2 servers which take up all of the\nCUSTOM_PMEM_NAMESPACE_SMALL resources on the sole host in\nthe test. Then it tries to create a 3rd server which it\nexpects to fail and it does. Then it deletes the second\nserver to free up one CUSTOM_PMEM_NAMESPACE_SMALL resource\non the host and schedules another server which it expects\nto work. The problem is the test doesn't wait for the\nsecond server to be fully deleted so the test intermittently\nfails when the CUSTOM_PMEM_NAMESPACE_SMALL resource isn't\nyet freed up when the fourth server goes through scheduling.\n\nThis adds a simple wait call for the deleted server to actually\nbe gone before creating the fourth server.\n\nChange-Id: Id3389038b5fed1e70dd12c7ed9cef2c0950625cf\nCloses-Bug: #1856902\n""}]",0,699997,40950f9c87681a1db0f3819530dd0b89ac5f6553,14,10,1,6873,,,0,"Fix race in test_create_servers_with_vpmem

This test creates 2 servers which take up all of the
CUSTOM_PMEM_NAMESPACE_SMALL resources on the sole host in
the test. Then it tries to create a 3rd server which it
expects to fail and it does. Then it deletes the second
server to free up one CUSTOM_PMEM_NAMESPACE_SMALL resource
on the host and schedules another server which it expects
to work. The problem is the test doesn't wait for the
second server to be fully deleted so the test intermittently
fails when the CUSTOM_PMEM_NAMESPACE_SMALL resource isn't
yet freed up when the fourth server goes through scheduling.

This adds a simple wait call for the deleted server to actually
be gone before creating the fourth server.

Change-Id: Id3389038b5fed1e70dd12c7ed9cef2c0950625cf
Closes-Bug: #1856902
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/699997/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_vpmem.py'],1,40950f9c87681a1db0f3819530dd0b89ac5f6553,bug/1856902, self._wait_until_deleted(server2),,1,0
openstack%2Fneutron~stable%2Ftrain~I6492eb089b4977655b5c6977d36e13260f85f7ed,openstack/neutron,stable/train,I6492eb089b4977655b5c6977d36e13260f85f7ed,Cap hacking in test-requirements.txt,MERGED,2019-12-18 09:20:17.000000000,2019-12-19 18:37:18.000000000,2019-12-19 18:33:49.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 09:20:17.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d9aae2ab3c138623aa66544614b65ef5b5cd91e', 'message': 'Cap hacking in test-requirements.txt\n\nhacking as a linter is in global requirements blacklist and so is not in\nconstraints. Recent release introduced new rules that required fix on\nmaster, on stable branches we should rather cap to the version that was\nin use during this release development.\n\nChange-Id: I6492eb089b4977655b5c6977d36e13260f85f7ed\n'}]",0,699638,6d9aae2ab3c138623aa66544614b65ef5b5cd91e,17,6,1,21798,,,0,"Cap hacking in test-requirements.txt

hacking as a linter is in global requirements blacklist and so is not in
constraints. Recent release introduced new rules that required fix on
master, on stable branches we should rather cap to the version that was
in use during this release development.

Change-Id: I6492eb089b4977655b5c6977d36e13260f85f7ed
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/699638/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,6d9aae2ab3c138623aa66544614b65ef5b5cd91e,,"hacking>=1.1.0,<1.2.0 # Apache-2.0",hacking>=1.1.0 # Apache-2.0,1,1
openstack%2Fovsdbapp~master~I46894fefe681d7e84343a633a803c87e1e88cfb6,openstack/ovsdbapp,master,I46894fefe681d7e84343a633a803c87e1e88cfb6,Drop python 2 support and testing,MERGED,2019-12-17 14:52:11.000000000,2019-12-19 18:27:11.000000000,2019-12-19 18:23:04.000000000,"[{'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-12-17 14:52:11.000000000', 'files': ['releasenotes/notes/drop-py27-support-c426980520444bfa.yaml', 'zuul.d/project.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/b22a6a09fbbaf1d147d56c6f2aebaa7473f5623e', 'message': 'Drop python 2 support and testing\n\nThis is part of Ussuri goal tracked for Neutron stadium at:\nhttps://etherpad.openstack.org/p/neutron-train-zuulv3-py27drop\n\nChange-Id: I46894fefe681d7e84343a633a803c87e1e88cfb6\n'}]",0,699431,b22a6a09fbbaf1d147d56c6f2aebaa7473f5623e,9,4,1,21798,,,0,"Drop python 2 support and testing

This is part of Ussuri goal tracked for Neutron stadium at:
https://etherpad.openstack.org/p/neutron-train-zuulv3-py27drop

Change-Id: I46894fefe681d7e84343a633a803c87e1e88cfb6
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/31/699431/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-py27-support-c426980520444bfa.yaml', 'zuul.d/project.yaml', 'setup.cfg', 'tox.ini']",4,b22a6a09fbbaf1d147d56c6f2aebaa7473f5623e,drop-py27-support,"minversion = 3.1.1 envlist = py36,py37,pypy,pep8","minversion = 2.0 envlist = py27,py37,pypy,pep8basepython = python3",9,6
openstack%2Fopenstacksdk~master~Ib1f880f75e511faaf8c798da22b9ca54dd441166,openstack/openstacksdk,master,Ib1f880f75e511faaf8c798da22b9ca54dd441166,Handle HTTP errors in add/remove router interface calls,MERGED,2019-10-08 13:49:09.000000000,2019-12-19 18:23:04.000000000,2019-12-19 18:20:48.000000000,"[{'_account_id': 3099}, {'_account_id': 8313}, {'_account_id': 15554}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-10-08 13:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/43537e5afc84429b350a580b40d59f5943456df3', 'message': 'Handle HTTP errors in add/remove router interface calls\n\nChange-Id: Ib1f880f75e511faaf8c798da22b9ca54dd441166\nStory: #2006679\nTask: #36955\n'}, {'number': 2, 'created': '2019-10-09 10:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/07ab299904749830e3d4462ab775940116319306', 'message': 'Handle HTTP errors in add/remove router interface calls\n\nChange-Id: Ib1f880f75e511faaf8c798da22b9ca54dd441166\nStory: #2006679\nTask: #36955\n'}, {'number': 3, 'created': '2019-10-14 12:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e25edc50b9265fef43b2b71e5df8711eafbf0813', 'message': 'Handle HTTP errors in add/remove router interface calls\n\nChange-Id: Ib1f880f75e511faaf8c798da22b9ca54dd441166\nStory: #2006679\nTask: #36955\n'}, {'number': 4, 'created': '2019-10-15 07:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1555d67cd97504bb7735e7d9620c59411a9bf38a', 'message': 'Handle HTTP errors in add/remove router interface calls\n\nChange-Id: Ib1f880f75e511faaf8c798da22b9ca54dd441166\nStory: #2006679\nTask: #36955\n'}, {'number': 5, 'created': '2019-11-04 09:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2aca90bd95c48d4ac1437fcc83829b728bb80ea2', 'message': 'Handle HTTP errors in add/remove router interface calls\n\nChange-Id: Ib1f880f75e511faaf8c798da22b9ca54dd441166\nStory: #2006679\nTask: #36955\n'}, {'number': 6, 'created': '2019-11-05 07:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5fb4908bc42754d82bada6e326a26524064502a1', 'message': 'Handle HTTP errors in add/remove router interface calls\n\nChange-Id: Ib1f880f75e511faaf8c798da22b9ca54dd441166\nStory: #2006679\nTask: #36955\n'}, {'number': 7, 'created': '2019-11-06 01:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/edc70f0c2bfc29f129ed08afa5d5b9b5d26632ae', 'message': 'Handle HTTP errors in add/remove router interface calls\n\nChange-Id: Ib1f880f75e511faaf8c798da22b9ca54dd441166\nStory: #2006679\nTask: #36955\n'}, {'number': 8, 'created': '2019-12-19 12:40:54.000000000', 'files': ['openstack/network/v2/router.py', 'openstack/tests/unit/network/v2/test_router.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c0745ea4d1ae98ddfb36535453c81c964ef4863d', 'message': 'Handle HTTP errors in add/remove router interface calls\n\nChange-Id: Ib1f880f75e511faaf8c798da22b9ca54dd441166\nStory: #2006679\nTask: #36955\n'}]",7,687304,c0745ea4d1ae98ddfb36535453c81c964ef4863d,32,5,8,15554,,,0,"Handle HTTP errors in add/remove router interface calls

Change-Id: Ib1f880f75e511faaf8c798da22b9ca54dd441166
Story: #2006679
Task: #36955
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/04/687304/8 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/network/v2/router.py', 'openstack/tests/unit/network/v2/test_router.py']",2,43537e5afc84429b350a580b40d59f5943456df3,story/2006679,"from openstack.exceptions import HttpException def test_add_interface_4xx(self): # Neutron may return 4xx we have to raise if that happens sot = router.Router(**EXAMPLE) response = mock.Mock() response.body = {'NeutronError': {'message': 'borked'}} response.json = mock.Mock(return_value=response.body) response.ok = False response.status_code = 409 sess = mock.Mock() sess.put = mock.Mock(return_value=response) body = {'subnet_id': '3'} self.assertRaises( HttpException, sot.add_interface, sess, **body) def test_remove_interface_4xx(self): # Neutron may return 4xx for example if a router interface has # extra routes referring to it as a nexthop sot = router.Router(**EXAMPLE) response = mock.Mock() response.body = {'NeutronError': {'message': 'borked'}} response.json = mock.Mock(return_value=response.body) response.ok = False response.status_code = 409 sess = mock.Mock() sess.put = mock.Mock(return_value=response) body = {'subnet_id': '3'} self.assertRaises( HttpException, sot.remove_interface, sess, **body) ",,48,12
openstack%2Fpuppet-openstack-integration~master~I5fab19d41c2949e44309e28620720057b233c5d4,openstack/puppet-openstack-integration,master,I5fab19d41c2949e44309e28620720057b233c5d4,Updated from Puppet OpenStack modules constraints,MERGED,2019-12-19 06:13:37.000000000,2019-12-19 17:56:01.000000000,2019-12-19 17:56:01.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-19 06:13:37.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e591afc86bc45dd74b726f30b085cb1bc3bf5cc5', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I5fab19d41c2949e44309e28620720057b233c5d4\n'}]",0,699914,e591afc86bc45dd74b726f30b085cb1bc3bf5cc5,8,4,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I5fab19d41c2949e44309e28620720057b233c5d4
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/14/699914/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,e591afc86bc45dd74b726f30b085cb1bc3bf5cc5,openstack/puppet/constraints, :ref => 'v6.3.0', :ref => 'v6.2.0',1,1
openstack%2Fpuppet-neutron~stable%2Fqueens~Iee2f869c4054f1120d224994aba8c827f981e6c0,openstack/puppet-neutron,stable/queens,Iee2f869c4054f1120d224994aba8c827f981e6c0,CiscoNexus: Update and Remove deprecated vars,MERGED,2019-12-17 13:55:54.000000000,2019-12-19 17:55:43.000000000,2019-12-19 17:55:43.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-17 13:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/4d539e181844a433899b1f449d68e0253d4d5b60', 'message': 'CiscoNexus: Update and Remove deprecated vars\n\nUpdate and Remove deprecated variables from Cisco Nexus Config.\n* Deprecated variables include vlan_name_prefix, svi_round_robin,\n  provider_vlan_name_prefix, persistent_switch_config,\n  never_cache_ssh_connection, ssh_port, switch_replay_count,\n  nexus_driver, and host_key_checks.\n* Change config replay to on by defaulting switch_heartbeat_time=30.\n* Replaced method of configurating host_ports_mapping config.\n\nChange-Id: Iee2f869c4054f1120d224994aba8c827f981e6c0\nCloses-bug:  #1793379\n(cherry picked from commit f45169f38db4333d60841136fe3fab951221eeb6)\n'}, {'number': 2, 'created': '2019-12-17 16:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/8a0a47673b0b883826cd35a7668828228772828a', 'message': 'CiscoNexus: Update and Remove deprecated vars\n\nUpdate and Remove deprecated variables from Cisco Nexus Config.\n* Deprecated variables include vlan_name_prefix, svi_round_robin,\n  provider_vlan_name_prefix, persistent_switch_config,\n  never_cache_ssh_connection, ssh_port, switch_replay_count,\n  nexus_driver, and host_key_checks.\n* Change config replay to on by defaulting switch_heartbeat_time=30.\n* Replaced method of configurating host_ports_mapping config.\n\nChange-Id: Iee2f869c4054f1120d224994aba8c827f981e6c0\nCloses-bug:  #1793379\n(cherry picked from commit f45169f38db4333d60841136fe3fab951221eeb6)\n'}, {'number': 3, 'created': '2019-12-17 20:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/bbd2b3b8add2fe28f5a2f6319a0645a3d2be9eb9', 'message': 'CiscoNexus: Update and Remove deprecated vars\n\nBackward compatible backport (modified by hand).\n\nUpdate and Remove deprecated variables from Cisco Nexus Config.\n* Deprecated variables include vlan_name_prefix, svi_round_robin,\n  provider_vlan_name_prefix, persistent_switch_config,\n  never_cache_ssh_connection, ssh_port, switch_replay_count,\n  nexus_driver, and host_key_checks.\n* Change config replay to on by defaulting switch_heartbeat_time=30.\n* Replaced method of configurating host_ports_mapping config.\n\nChange-Id: Iee2f869c4054f1120d224994aba8c827f981e6c0\nCloses-bug:  #1793379\n(cherry picked from commit f45169f38db4333d60841136fe3fab951221eeb6)\n'}, {'number': 4, 'created': '2019-12-18 13:44:06.000000000', 'files': ['templates/nexus_switch_port_mappings.erb', 'manifests/plugins/ml2/cisco/nexus_creds.pp', 'manifests/plugins/ml2/cisco/nexus_switch.pp', 'examples/cisco_ml2.pp', 'manifests/plugins/ml2/cisco/nexus.pp', 'spec/classes/neutron_plugins_ml2_cisco_nexus_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/b0196fd0e4029bee0fc1431638f4db442b3d9b83', 'message': 'CiscoNexus: Update and Remove deprecated vars\n\nBackward compatible backport (modified by hand).\n\nUpdate and Remove deprecated variables from Cisco Nexus Config.\n* Deprecated variables include vlan_name_prefix, svi_round_robin,\n  provider_vlan_name_prefix, persistent_switch_config,\n  never_cache_ssh_connection, ssh_port, switch_replay_count,\n  nexus_driver, and host_key_checks.\n* Change config replay to on by defaulting switch_heartbeat_time=30.\n* Replaced method of configurating host_ports_mapping config.\n\nChange-Id: Iee2f869c4054f1120d224994aba8c827f981e6c0\nCloses-bug:  #1793379\n(cherry picked from commit f45169f38db4333d60841136fe3fab951221eeb6)\n'}]",0,699418,b0196fd0e4029bee0fc1431638f4db442b3d9b83,13,3,4,3153,,,0,"CiscoNexus: Update and Remove deprecated vars

Backward compatible backport (modified by hand).

Update and Remove deprecated variables from Cisco Nexus Config.
* Deprecated variables include vlan_name_prefix, svi_round_robin,
  provider_vlan_name_prefix, persistent_switch_config,
  never_cache_ssh_connection, ssh_port, switch_replay_count,
  nexus_driver, and host_key_checks.
* Change config replay to on by defaulting switch_heartbeat_time=30.
* Replaced method of configurating host_ports_mapping config.

Change-Id: Iee2f869c4054f1120d224994aba8c827f981e6c0
Closes-bug:  #1793379
(cherry picked from commit f45169f38db4333d60841136fe3fab951221eeb6)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/18/699418/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/nexus_switch_port_mappings.erb', 'manifests/plugins/ml2/cisco/nexus_creds.pp', 'manifests/plugins/ml2/cisco/nexus_switch.pp', 'examples/cisco_ml2.pp', 'manifests/plugins/ml2/cisco/nexus.pp', 'spec/classes/neutron_plugins_ml2_cisco_nexus_spec.rb']",6,4d539e181844a433899b1f449d68e0253d4d5b60,bug/1793379-stable/queens," ""control02"" => {""hostname""=> ""control02"", ""ports"" => ""portchannel:20""}, ""control01"" => {""hostname""=> ""control01"", ""ports"" => ""portchannel:10""} :vxlan_global_config => true"," ""ssh_port"" => 22, ""control02"" => {""ports"" => ""portchannel:20""}, ""control01"" => {""ports"" => ""portchannel:10""} :vlan_name_prefix => 'q-', :svi_round_robin => false, :provider_vlan_name_prefix => 'p-', :persistent_switch_config => false, :never_cache_ssh_connection => false, :switch_replay_count => 3, :nexus_driver => 'restapi', :vxlan_global_config => true, :host_key_checks => false is_expected.to contain_neutron_plugin_ml2('ml2_cisco/vlan_name_prefix').with_value(params[:vlan_name_prefix]) is_expected.to contain_neutron_plugin_ml2('ml2_cisco/svi_round_robin').with_value(params[:svi_round_robin]) is_expected.to contain_neutron_plugin_ml2('ml2_cisco/provider_vlan_name_prefix').with_value(params[:provider_vlan_name_prefix]) is_expected.to contain_neutron_plugin_ml2('ml2_cisco/persistent_switch_config').with_value(params[:persistent_switch_config]) is_expected.to contain_neutron_plugin_ml2('ml2_cisco/never_cache_ssh_connection').with_value(params[:never_cache_ssh_connection]) is_expected.to contain_neutron_plugin_ml2('ml2_cisco/switch_replay_count').with_value(params[:switch_replay_count]) is_expected.to contain_neutron_plugin_ml2('ml2_cisco/nexus_driver').with_value(params[:nexus_driver]) is_expected.to contain_neutron_plugin_ml2('ml2_cisco/host_key_checks').with_value(params[:host_key_checks])",12,125
openstack%2Ftripleo-ansible~master~I6a7d82938bfb138aa3de875184af8b38babed84e,openstack/tripleo-ansible,master,I6a7d82938bfb138aa3de875184af8b38babed84e,Update regex for presistent save roles,MERGED,2019-12-17 20:15:15.000000000,2019-12-19 17:54:22.000000000,2019-12-19 17:54:22.000000000,"[{'_account_id': 7353}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-12-17 20:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8da77c8672d3640b71fc9a654aa8e52f9f237330', 'message': 'Update regex for presistent save roles\n\nThe regex we were using was too general and was not removing the right\nrules. This change will make it so that the task will remove lines that\ndo NOT have a comment, AND contain either ""ironic-inspector"" OR ""neutron-"".\n\nThis change should provide parity with the old persistent save rule\nfunction we had in puppet.\n\nChange-Id: I6a7d82938bfb138aa3de875184af8b38babed84e\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-12-17 20:15:40.000000000', 'files': ['tripleo_ansible/roles/tripleo-firewall/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cc4919f95153207e764640c32b6e49a876fe8b64', 'message': 'Update regex for presistent save roles\n\nThe regex we were using was too general and was not removing the right\nrules. This change will make it so that the task will remove lines that\ndo NOT have a comment, AND contain either ""ironic-inspector"" OR ""neutron-"".\n\nThis change should provide parity with the old persistent save rule\nfunction we had in puppet.\n\nCloses-Bug: #1854980\nChange-Id: I6a7d82938bfb138aa3de875184af8b38babed84e\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,699489,cc4919f95153207e764640c32b6e49a876fe8b64,11,5,2,7353,,,0,"Update regex for presistent save roles

The regex we were using was too general and was not removing the right
rules. This change will make it so that the task will remove lines that
do NOT have a comment, AND contain either ""ironic-inspector"" OR ""neutron-"".

This change should provide parity with the old persistent save rule
function we had in puppet.

Closes-Bug: #1854980
Change-Id: I6a7d82938bfb138aa3de875184af8b38babed84e
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/89/699489/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-firewall/handlers/main.yml'],1,8da77c8672d3640b71fc9a654aa8e52f9f237330,fw-update, regexp: '^((?!.*comment)(?=.*(ironic-inspector|neutron-)))', regexp: 'comment.*(neutron-|ironic-inspector)',1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I502c38d3f27db3c6f62a47190136dd03627956bc,openstack/tripleo-ansible,stable/train,I502c38d3f27db3c6f62a47190136dd03627956bc,Create Validations logging directory,MERGED,2019-12-18 09:37:47.000000000,2019-12-19 17:54:21.000000000,2019-12-19 17:54:20.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-12-18 09:37:47.000000000', 'files': ['tripleo_ansible/roles/tripleo-validations-package/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e26dca0c95ef6cba33d76909fecb5bf8aab8a16c', 'message': ""Create Validations logging directory\n\nThe Validation framework is logging every execution in the\n/var/log/validations directory and this one should be created first.\n\nThis patch also get rid of the validations user creation because we\ndon't need anymore since Mistral is out for the validator CLI.\n\nChange-Id: I502c38d3f27db3c6f62a47190136dd03627956bc\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit ead21a609fdc2e01652eb495476bb750e86639b4)\n""}]",0,699641,e26dca0c95ef6cba33d76909fecb5bf8aab8a16c,8,7,1,11491,,,0,"Create Validations logging directory

The Validation framework is logging every execution in the
/var/log/validations directory and this one should be created first.

This patch also get rid of the validations user creation because we
don't need anymore since Mistral is out for the validator CLI.

Change-Id: I502c38d3f27db3c6f62a47190136dd03627956bc
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit ead21a609fdc2e01652eb495476bb750e86639b4)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/41/699641/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-validations-package/tasks/main.yml'],1,e26dca0c95ef6cba33d76909fecb5bf8aab8a16c,validations-logging-stable/train,"- name: Set group name fact set_fact: validations_group_name: ""{{ lookup('env', 'SUDO_USER') | default(ansible_user_id, true) }}"" - name: Ensure 'validations_group_name' exists group: name: ""{{ validations_group_name }}"" - name: 'Create validations logging directory' file: path: '/var/log/validations' state: directory owner: 'root' group: ""{{ validations_group_name }}"" mode: '2770'",- name: 'Create validations user' user: name: 'validations' comment: 'Tripleo validations' create_home: true home: '/home/validations' shell: '/sbin/nologin',15,7
openstack%2Ftripleo-ansible~master~I23898d7536edbedc6abca34eede8c680fe2c39d3,openstack/tripleo-ansible,master,I23898d7536edbedc6abca34eede8c680fe2c39d3,Update firewall role handlers,MERGED,2019-12-17 19:42:24.000000000,2019-12-19 17:54:21.000000000,2019-12-19 17:54:21.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-12-17 19:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/924702f7c91b8223a72adbd849d77be2a696e272', 'message': 'Update firewall role handlers\n\nThese changes will do the following\n\n> Ensure that the iptables services for both ipv4 and ipv6 are enabled\n  and started\n> Ensure the firewalld service is stopped and disabled.\n> Ensure that the tripleo-iptables services for both ipv4 and ipv6 are\n  enabled and started\n> Extend the non-persistent rule lookup to all iptables sysconfig files.\n\nChange-Id: I23898d7536edbedc6abca34eede8c680fe2c39d3\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-12-17 20:12:26.000000000', 'files': ['tripleo_ansible/roles/tripleo-firewall/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4b4d93ad041e64c7ad2da9d6072160764e5b7d41', 'message': 'Update firewall role handlers\n\nThese changes will do the following\n\n> Ensure that the iptables services for both ipv4 and ipv6 are enabled\n  and started\n> Ensure the firewalld service is stopped and disabled.\n> Ensure that the tripleo-iptables services for both ipv4 and ipv6 are\n  enabled and started\n> Extend the non-persistent rule lookup to all iptables sysconfig files.\n\nRelated-Bug: #1854980\nChange-Id: I23898d7536edbedc6abca34eede8c680fe2c39d3\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,699486,4b4d93ad041e64c7ad2da9d6072160764e5b7d41,22,6,2,7353,,,0,"Update firewall role handlers

These changes will do the following

> Ensure that the iptables services for both ipv4 and ipv6 are enabled
  and started
> Ensure the firewalld service is stopped and disabled.
> Ensure that the tripleo-iptables services for both ipv4 and ipv6 are
  enabled and started
> Extend the non-persistent rule lookup to all iptables sysconfig files.

Related-Bug: #1854980
Change-Id: I23898d7536edbedc6abca34eede8c680fe2c39d3
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/86/699486/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-firewall/handlers/main.yml'],1,924702f7c91b8223a72adbd849d77be2a696e272,fw-update,"- name: Enable iptables service (and do a daemon-reload systemd) systemd: daemon_reload: true enabled: true name: ""{{ item }}"" state: started loop: - iptables.service - ip6tables.service become: true listen: Save firewall rules name: ""{{ item }}"" state: started loop: - tripleo-iptables.service - tripleo-ip6tables.service- name: Stop and disable firewalld systemd: enabled: false name: ""firewalld.service"" state: stopped command: egrep -l 'comment.*(neutron-|ironic-inspector)' /etc/sysconfig/iptables* /etc/sysconfig/ip6tables*", name: tripleo-iptables.service- name: Enable tripleo-ip6tables service systemd: enabled: true name: tripleo-ip6tables.service command: egrep -l 'comment.*(neutron-|ironic-inspector)' /etc/sysconfig/iptables /etc/sysconfig/ip6tables,22,5
openstack%2Ftripleo-puppet-elements~stable%2Ftrain~Iaeb8f6aa8a4fe3673fc62e3d9d757b451a77e4b1,openstack/tripleo-puppet-elements,stable/train,Iaeb8f6aa8a4fe3673fc62e3d9d757b451a77e4b1,RHEL8: Use podman-docker,ABANDONED,2019-12-19 15:24:53.000000000,2019-12-19 17:53:18.000000000,,[{'_account_id': 17823}],"[{'number': 1, 'created': '2019-12-19 15:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/f21356147e6ea0bc77793d7672ad258a49608290', 'message': 'RHEL8: Use podman-docker\n\nResolves: rhbz#1785242\n\nSigned-off-by: Lon Hohberger <lhh@redhat.com>\n(cherry-picked from commit bcf94c9b3f083861af6aa2d9701b5a4e9b2bc698)\n\nChange-Id: Iaeb8f6aa8a4fe3673fc62e3d9d757b451a77e4b1\n'}, {'number': 2, 'created': '2019-12-19 15:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/66a4fba547be3df6d2d6159078d2a61db97b5b02', 'message': 'RHEL8: Use podman-docker\n\nResolves: rhbz#1785242\n\nChange-Id: Iaeb8f6aa8a4fe3673fc62e3d9d757b451a77e4b1\nSigned-off-by: Lon Hohberger <lhh@redhat.com>\n(cherry-picked from commit bcf94c9b3f083861af6aa2d9701b5a4e9b2bc698)\n'}, {'number': 3, 'created': '2019-12-19 15:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/c749871d2512aed7fae027e04698dd30a9e20a04', 'message': ""RHEL8: Use podman-docker\n\nFedora (and consequently, recent RHEL8) builds seem to have\ndropped 'Provides: docker' from the podman-docker sub-rpm.\n\nThis switches the openstack-base image on RHEL8 systems to\ninstead use podman-docker directly instead of relying on\nthe virtual 'Provides:' directive.\n\nResolves: rhbz#1785242\n\nChange-Id: Iaeb8f6aa8a4fe3673fc62e3d9d757b451a77e4b1\nSigned-off-by: Lon Hohberger <lhh@redhat.com>\n(cherry-picked from commit bcf94c9b3f083861af6aa2d9701b5a4e9b2bc698)\n""}, {'number': 4, 'created': '2019-12-19 17:50:18.000000000', 'files': ['elements/overcloud-base/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/6653d89536f6828879c28f00f7a213854c1ff8e0', 'message': ""RHEL8: Use podman-docker\n\nFedora (and consequently, recent RHEL8) builds seem to have\ndropped 'Provides: docker' from the podman-docker sub-rpm.\n\nThis switches the overcloud-base pkg-map on RHEL8 systems to\ninstead use podman-docker directly instead of relying on\nthe virtual 'Provides:' directive.\n\nResolves: rhbz#1785242\n\nChange-Id: Iaeb8f6aa8a4fe3673fc62e3d9d757b451a77e4b1\nSigned-off-by: Lon Hohberger <lhh@redhat.com>\n(cherry-picked from commit 43dbe36b9c3635090f736a910bde1d9c3e099a92)\n""}]",0,700010,6653d89536f6828879c28f00f7a213854c1ff8e0,5,1,4,8161,,,0,"RHEL8: Use podman-docker

Fedora (and consequently, recent RHEL8) builds seem to have
dropped 'Provides: docker' from the podman-docker sub-rpm.

This switches the overcloud-base pkg-map on RHEL8 systems to
instead use podman-docker directly instead of relying on
the virtual 'Provides:' directive.

Resolves: rhbz#1785242

Change-Id: Iaeb8f6aa8a4fe3673fc62e3d9d757b451a77e4b1
Signed-off-by: Lon Hohberger <lhh@redhat.com>
(cherry-picked from commit 43dbe36b9c3635090f736a910bde1d9c3e099a92)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/10/700010/4 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-base/pkg-map'],1,f21356147e6ea0bc77793d7672ad258a49608290,," ""docker"": ""podman-docker"",",,1,0
openstack%2Fproject-config~master~I939bd8f4f95501a12b389995cbffcb6a06464664,openstack/project-config,master,I939bd8f4f95501a12b389995cbffcb6a06464664,Run zuul tenant jobs under ansible 2.9,MERGED,2019-12-18 19:24:36.000000000,2019-12-19 17:51:48.000000000,2019-12-19 17:51:48.000000000,"[{'_account_id': 1}, {'_account_id': 4162}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 19:24:36.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ca95e41916bd73a1ef5bc1aa218294c28a69168b', 'message': ""Run zuul tenant jobs under ansible 2.9\n\nzuul-jobs has been updated to support ansible 2.9. The next step in\nensuring we run with ansible 2.9 is to switch over the zuul project's\njobs to 2.9.\n\nChange-Id: I939bd8f4f95501a12b389995cbffcb6a06464664\n""}]",0,699857,ca95e41916bd73a1ef5bc1aa218294c28a69168b,8,4,1,4146,,,0,"Run zuul tenant jobs under ansible 2.9

zuul-jobs has been updated to support ansible 2.9. The next step in
ensuring we run with ansible 2.9 is to switch over the zuul project's
jobs to 2.9.

Change-Id: I939bd8f4f95501a12b389995cbffcb6a06464664
",git fetch https://review.opendev.org/openstack/project-config refs/changes/57/699857/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,ca95e41916bd73a1ef5bc1aa218294c28a69168b,zuul-ansible-2.9, default-ansible-version: 2.9,,1,0
openstack%2Fhorizon~stable%2Ftrain~Ic563fa8f86e155ef05222dd152ddcc5c0b712081,openstack/horizon,stable/train,Ic563fa8f86e155ef05222dd152ddcc5c0b712081,Imported Translations from Zanata,MERGED,2019-12-10 07:17:39.000000000,2019-12-19 17:51:46.000000000,2019-12-19 17:49:46.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-10 07:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d19d72d6c1cca5c6a45c7f210a916fd1d8807b9d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ic563fa8f86e155ef05222dd152ddcc5c0b712081\n'}, {'number': 2, 'created': '2019-12-12 08:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/664b30546e731f782c5042b73b7f419bc339c289', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ic563fa8f86e155ef05222dd152ddcc5c0b712081\n'}, {'number': 3, 'created': '2019-12-14 07:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/14d57011f03aa13a0460760f8972a0ee9001c711', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ic563fa8f86e155ef05222dd152ddcc5c0b712081\n'}, {'number': 4, 'created': '2019-12-17 08:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/99a46fea6bddb119552742b2efd65858507ca3c1', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ic563fa8f86e155ef05222dd152ddcc5c0b712081\n'}, {'number': 5, 'created': '2019-12-18 08:41:31.000000000', 'files': ['horizon/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_TW/LC_MESSAGES/djangojs.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-install.po', 'horizon/locale/en_GB/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/djangojs.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po', 'horizon/locale/ko_KR/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/djangojs.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-admin.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-admin.po', 'openstack_dashboard/locale/zh_TW/LC_MESSAGES/django.po', 'openstack_auth/locale/en_GB/LC_MESSAGES/django.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-configuration.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-user.po', 'openstack_auth/locale/es/LC_MESSAGES/django.po', 'openstack_auth/locale/zh_TW/LC_MESSAGES/django.po', 'horizon/locale/en_GB/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a122315c73dd488e47006436902a6d3205988e84', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ic563fa8f86e155ef05222dd152ddcc5c0b712081\n'}]",0,698191,a122315c73dd488e47006436902a6d3205988e84,19,3,5,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ic563fa8f86e155ef05222dd152ddcc5c0b712081
",git fetch https://review.opendev.org/openstack/horizon refs/changes/91/698191/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/ko_KR/LC_MESSAGES/doc-admin.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/djangojs.po', 'horizon/locale/ko_KR/LC_MESSAGES/djangojs.po']",3,d19d72d6c1cca5c6a45c7f210a916fd1d8807b9d,zanata/translations,"# ByungYeol Woo <wby1089@gmail.com>, 2019. #zanata""POT-Creation-Date: 2019-12-09 13:05+0000\n""""PO-Revision-Date: 2019-12-10 04:06+0000\n"" ""Last-Translator: ByungYeol Woo <wby1089@gmail.com>\n""msgid ""Forbidden. Insufficient permissions of the requested operation"" msgstr ""금지됨. 요청된 작업의 권한이 불충분함."" ","""POT-Creation-Date: 2019-09-03 20:32+0000\n""""PO-Revision-Date: 2018-09-22 07:33+0000\n"" ""Last-Translator: Soonyeul Park <ardentpark@gmail.com>\n""",65,9
openstack%2Fkayobe~stable%2Frocky~Ie739ffbd67c6c26175f152449a7b7276ffa87824,openstack/kayobe,stable/rocky,Ie739ffbd67c6c26175f152449a7b7276ffa87824,Add support for custom Elasticsearch config,MERGED,2019-12-18 16:29:47.000000000,2019-12-19 17:48:57.000000000,2019-12-19 17:48:57.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 16:29:47.000000000', 'files': ['releasenotes/notes/add-custom-config-for-elasticsearch-a762134e51b50f91.yaml', 'ansible/roles/kolla-openstack/vars/main.yml', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'ansible/roles/kolla-openstack/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4652d3aae3c9c7790542283036292622e91b7cf3', 'message': 'Add support for custom Elasticsearch config\n\nElasticsearch Curator will be driven by custom config. This adds\nsupport in Kayobe for managing it.\n\nChange-Id: Ie739ffbd67c6c26175f152449a7b7276ffa87824\nStory: 2006852\nTask: 37443\n(cherry picked from commit 00002f25e14af8fcbbc7f734f26d5ade28a751e7)\n'}]",0,699724,4652d3aae3c9c7790542283036292622e91b7cf3,7,3,1,17669,,,0,"Add support for custom Elasticsearch config

Elasticsearch Curator will be driven by custom config. This adds
support in Kayobe for managing it.

Change-Id: Ie739ffbd67c6c26175f152449a7b7276ffa87824
Story: 2006852
Task: 37443
(cherry picked from commit 00002f25e14af8fcbbc7f734f26d5ade28a751e7)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/24/699724/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-openstack/vars/main.yml', 'releasenotes/notes/add-custom-config-for-elasticsearch-a762134e51b50f91.yaml', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'ansible/roles/kolla-openstack/defaults/main.yml']",4,4652d3aae3c9c7790542283036292622e91b7cf3,,# Elasticsearch configuration. # Whether to enable elasticsearch. kolla_enable_elasticsearch: ###############################################################################,,15,0
openstack%2Fnetworking-sfc~master~I69c8dfd113269f7092963536498e313c4d7afca1,openstack/networking-sfc,master,I69c8dfd113269f7092963536498e313c4d7afca1,Drop python 2 support and testing,MERGED,2019-11-26 16:38:17.000000000,2019-12-19 17:47:16.000000000,2019-12-19 17:43:17.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-26 16:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/c49ebb19aaf7d03af39cde0dcdbb95e7843406ef', 'message': 'Drop python 2 support and testing\n\nThis is part of Ussuri goal tracked for Neutron stadium at:\nhttps://etherpad.openstack.org/p/neutron-train-zuulv3-py27drop\n\nChange-Id: I69c8dfd113269f7092963536498e313c4d7afca1\n'}, {'number': 2, 'created': '2019-11-27 13:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/16969c24f3815a896fc20f415fd573f65a553b47', 'message': 'Drop python 2 support and testing\n\nThis is part of Ussuri goal tracked for Neutron stadium at:\nhttps://etherpad.openstack.org/p/neutron-train-zuulv3-py27drop\n\nChange-Id: I69c8dfd113269f7092963536498e313c4d7afca1\n'}, {'number': 3, 'created': '2019-12-09 21:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/8c481d687887ca770af8cddb22dc783b1fc86e9b', 'message': 'Drop python 2 support and testing\n\nThis is part of Ussuri goal tracked for Neutron stadium at:\nhttps://etherpad.openstack.org/p/neutron-train-zuulv3-py27drop\n\nChange-Id: I69c8dfd113269f7092963536498e313c4d7afca1\nDepends-On: https://review.opendev.org/698095\n'}, {'number': 4, 'created': '2019-12-10 09:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/87b91ee618ae8e774f3477e9c47ed39d92e12d9a', 'message': 'Drop python 2 support and testing\n\nThis is part of Ussuri goal tracked for Neutron stadium at:\nhttps://etherpad.openstack.org/p/neutron-train-zuulv3-py27drop\n\nChange-Id: I69c8dfd113269f7092963536498e313c4d7afca1\n'}, {'number': 5, 'created': '2019-12-17 13:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/7df82864df5d904d73404b598f5fcfb3f4fd1d17', 'message': 'Drop python 2 support and testing\n\nThis is part of Ussuri goal tracked for Neutron stadium at:\nhttps://etherpad.openstack.org/p/neutron-train-zuulv3-py27drop\n\nChange-Id: I69c8dfd113269f7092963536498e313c4d7afca1\n'}, {'number': 6, 'created': '2019-12-17 13:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/8e1e17a7b33c36b44d330c329c78c09fecd0aa4e', 'message': 'Drop python 2 support and testing\n\nThis is part of Ussuri goal tracked for Neutron stadium at:\nhttps://etherpad.openstack.org/p/neutron-train-zuulv3-py27drop\n\nChange-Id: I69c8dfd113269f7092963536498e313c4d7afca1\n'}, {'number': 7, 'created': '2019-12-18 14:04:21.000000000', 'files': ['zuul.d/project.yaml', 'doc/requirements.txt', 'networking_sfc/tests/unit/services/sfc/drivers/ovs/test_driver.py', 'releasenotes/notes/drop-py27-support-4670c8cdcfa3ba78.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/84175687fb5c23fdf76322b18392c783ca8d6d73', 'message': 'Drop python 2 support and testing\n\nThis is part of Ussuri goal tracked for Neutron stadium at:\nhttps://etherpad.openstack.org/p/neutron-train-zuulv3-py27drop\n\nChange-Id: I69c8dfd113269f7092963536498e313c4d7afca1\n'}]",4,696128,84175687fb5c23fdf76322b18392c783ca8d6d73,26,5,7,21798,,,0,"Drop python 2 support and testing

This is part of Ussuri goal tracked for Neutron stadium at:
https://etherpad.openstack.org/p/neutron-train-zuulv3-py27drop

Change-Id: I69c8dfd113269f7092963536498e313c4d7afca1
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/28/696128/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'networking_sfc/tests/unit/services/sfc/drivers/ovs/test_driver.py', 'setup.cfg', 'tox.ini']",4,c49ebb19aaf7d03af39cde0dcdbb95e7843406ef,drop-py27-support,"envlist = py37,pep8 minversion = 3.1.1","envlist = py27,py37,pep8 minversion = 2.0basepython = python3[testenv:functional-python27] basepython = python2.7 setenv = {[testenv:functional]setenv} basepython = python3[testenv:dsvm-functional-python27] basepython = python2.7 setenv = {[testenv:dsvm-functional]setenv} commands = stestr run {posargs} basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3 commands = {[testenv:dev]commands} {[testenv]commands} [testenv:py27-dev] basepython = python2.7basepython = python3basepython = python3",6,39
openstack%2Fkayobe~stable%2Fstein~Ie739ffbd67c6c26175f152449a7b7276ffa87824,openstack/kayobe,stable/stein,Ie739ffbd67c6c26175f152449a7b7276ffa87824,Add support for custom Elasticsearch config,MERGED,2019-12-18 16:29:31.000000000,2019-12-19 17:46:33.000000000,2019-12-19 17:44:56.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 16:29:31.000000000', 'files': ['releasenotes/notes/add-custom-config-for-elasticsearch-a762134e51b50f91.yaml', 'ansible/roles/kolla-openstack/vars/main.yml', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'ansible/roles/kolla-openstack/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0b9a7942604192f767b4c3c14871e5b2cce5bbc5', 'message': 'Add support for custom Elasticsearch config\n\nElasticsearch Curator will be driven by custom config. This adds\nsupport in Kayobe for managing it.\n\nChange-Id: Ie739ffbd67c6c26175f152449a7b7276ffa87824\nStory: 2006852\nTask: 37443\n(cherry picked from commit 00002f25e14af8fcbbc7f734f26d5ade28a751e7)\n'}]",0,699723,0b9a7942604192f767b4c3c14871e5b2cce5bbc5,9,3,1,17669,,,0,"Add support for custom Elasticsearch config

Elasticsearch Curator will be driven by custom config. This adds
support in Kayobe for managing it.

Change-Id: Ie739ffbd67c6c26175f152449a7b7276ffa87824
Story: 2006852
Task: 37443
(cherry picked from commit 00002f25e14af8fcbbc7f734f26d5ade28a751e7)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/23/699723/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-openstack/vars/main.yml', 'releasenotes/notes/add-custom-config-for-elasticsearch-a762134e51b50f91.yaml', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'ansible/roles/kolla-openstack/defaults/main.yml']",4,0b9a7942604192f767b4c3c14871e5b2cce5bbc5,,# Elasticsearch configuration. # Whether to enable elasticsearch. kolla_enable_elasticsearch: ###############################################################################,,15,0
openstack%2Ftripleo-heat-templates~master~I117959d64100b1357ff74a9efd1b7924ecfdf32f,openstack/tripleo-heat-templates,master,I117959d64100b1357ff74a9efd1b7924ecfdf32f,podman: force rm --storage and unlink lingering overlayfs,ABANDONED,2019-12-13 16:53:35.000000000,2019-12-19 17:42:35.000000000,,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-12-13 16:53:35.000000000', 'files': ['common/container-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8737b797dd62746d4cc99338b61db1b8dfc2c1bb', 'message': 'podman: force rm --storage and unlink lingering overlayfs\n\nSometimes under high container creation concurrency, podman\ndoesn\'t tear down container properly when they exit, leaving either\nsome lingering information in the container storage layer, or\nleaving unmounted overlayfs associated to the exited container.\n\nTo mitigate the risk of incomplete teardown, make sure to always\ntry to remove container between each retry. Also, in case\n""rm --storage"" fails, check whether a failed container left its\nassociated overlayfs mounted in the container storage, and\nunmount it manually to recover from this broken storage state.\n\nChange-Id: I117959d64100b1357ff74a9efd1b7924ecfdf32f\nCloses-Bug: #1856324\n'}]",0,698962,8737b797dd62746d4cc99338b61db1b8dfc2c1bb,12,7,1,20778,,,0,"podman: force rm --storage and unlink lingering overlayfs

Sometimes under high container creation concurrency, podman
doesn't tear down container properly when they exit, leaving either
some lingering information in the container storage layer, or
leaving unmounted overlayfs associated to the exited container.

To mitigate the risk of incomplete teardown, make sure to always
try to remove container between each retry. Also, in case
""rm --storage"" fails, check whether a failed container left its
associated overlayfs mounted in the container storage, and
unmount it manually to recover from this broken storage state.

Change-Id: I117959d64100b1357ff74a9efd1b7924ecfdf32f
Closes-Bug: #1856324
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/698962/1 && git format-patch -1 --stdout FETCH_HEAD,['common/container-puppet.py'],1,8737b797dd62746d4cc99338b61db1b8dfc2c1bb,bug/1856324," return (stdout, stderr, retval) # we have to run ""rm --storage"" unconditionally, # because we can't check whether the container is # still visible in the container-storage after a # successful ""rm"" command. out, err, ret = rm_process_call(rm_storage_cli_cmd) # from podman manual: # 125: ""failed for a reason other than a container did not exist"" if ret == 125: # https://bugs.launchpad.net/tripleo/+bug/1856324 # https://bugzilla.redhat.com/show_bug.cgi?id=1757845 # race: under heavy concurrent load, when podman tears # down a container, it sometimes fails to unmount its # associated overlayfs mount, so subsequent ""rm --storage"" # won't work. If that is the case, forcibly unmount # the lingering overlayfs mount point and retry removal. leaked_mount = False for line in err.splitlines(): match = re.search(r'\Wunlinkat\s([^\t :]*):', line) if match and os.path.exists(match.group(1)): leaked_mount = True overlayfs_mount = match.group(1) log.warning('container %s left its filesystem mounted in %s. ' 'Trying to unmount it' % (name, overlayfs_mount)) umount_cmd = ['/bin/umount', overlayfs_mount] local_subprocess_call(cmd=umount_cmd) if leaked_mount: log.warning('Retrying removing container: %s' % name) rm_process_call(rm_storage_cli_cmd) # if the container engine failed internally, the container might # stay present in the engine or in the storage, so forcefully # remove it. # (the same reasoning applies if we stop using ""<cli> run --rm"") rm_container(uname)", rm_process_call(rm_storage_cli_cmd),34,1
openstack%2Ftripleo-heat-templates~master~I918d7c7b9964680a3ab623f484b8b480620c2fa2,openstack/tripleo-heat-templates,master,I918d7c7b9964680a3ab623f484b8b480620c2fa2,"Revert ""Ensure /var/log/journal exists as soon as possible""",MERGED,2019-12-17 14:21:02.000000000,2019-12-19 17:32:06.000000000,2019-12-19 17:32:06.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-12-17 14:21:02.000000000', 'files': ['common/services/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/67a8357b64afe383df572b67b92215a948e0ffe9', 'message': 'Revert ""Ensure /var/log/journal exists as soon as possible""\n\nThis reverts commit 9cbfdfa1466ca38e7dd9f3df800993b5e2f2571d.\n\nThe code was made in the wrong place and would create a bad precedent.\n\nChange-Id: I918d7c7b9964680a3ab623f484b8b480620c2fa2\n'}]",0,699426,67a8357b64afe383df572b67b92215a948e0ffe9,24,6,1,28223,,,0,"Revert ""Ensure /var/log/journal exists as soon as possible""

This reverts commit 9cbfdfa1466ca38e7dd9f3df800993b5e2f2571d.

The code was made in the wrong place and would create a bad precedent.

Change-Id: I918d7c7b9964680a3ab623f484b8b480620c2fa2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/699426/1 && git format-patch -1 --stdout FETCH_HEAD,['common/services/role.role.j2.yaml'],1,67a8357b64afe383df572b67b92215a948e0ffe9,lp-1856278,, - - name: Ensure /var/log/journal exists file: path: /var/log/journal state: directory mode: 0750 owner: root group: root setype: var_log_t,0,8
openstack%2Ftripleo-heat-templates~stable%2Frocky~If6da4aff016db9a72e1cb9dfc9731f06e062f64d,openstack/tripleo-heat-templates,stable/rocky,If6da4aff016db9a72e1cb9dfc9731f06e062f64d,Increase rabbitmq tcp backlog,MERGED,2019-12-19 06:15:50.000000000,2019-12-19 17:32:04.000000000,2019-12-19 17:32:04.000000000,"[{'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-19 06:15:50.000000000', 'files': ['puppet/services/rabbitmq.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5c8f9c67f1bd3eccaf68490b7432935deb171776', 'message': ""Increase rabbitmq tcp backlog\n\nFrom https://bugzilla.redhat.com/show_bug.cgi?id=1778428\n\nWe need to tune the default rabbitmq tcp listen backlog.  Currently it defaults\nto 128, but here's what happens:\nSay we have 1500 total rabbitmq client connections spread across a 3 node\ncluster, evenly distributed so each node has 500 clients.\n\nThen, we stop rabbitmq on one of the nodes.\n\nNow those 500 client connections all immediately fail over to the other two\nnode.  Assume roughly even split, and each gets 250 connections simultaneously.\nSince the tcp listen backlog is only 128, a large number of the failover\nconnections cannot connect and get ECONNREFUSED because the kernel just drops\nthem.\n\nEventually things retry and the backlog clears, but it just makes things noisy\nin the logs and makes failover take a little bit longer.\n\nUpstream docs discuss here:\nhttps://www.rabbitmq.com/networking.html#tuning-for-large-number-of-connections-connection-backlog\n\nSuggested-By: John Eckersberg <jeckersb@redhat.com>\nCloses-Bug: #1854704\n\nChange-Id: If6da4aff016db9a72e1cb9dfc9731f06e062f64d\n(cherry picked from commit 9f4832fcc4d939da3d4e7f83e26c4f934bff7dc0)\n""}]",0,699915,5c8f9c67f1bd3eccaf68490b7432935deb171776,7,3,1,20172,,,0,"Increase rabbitmq tcp backlog

From https://bugzilla.redhat.com/show_bug.cgi?id=1778428

We need to tune the default rabbitmq tcp listen backlog.  Currently it defaults
to 128, but here's what happens:
Say we have 1500 total rabbitmq client connections spread across a 3 node
cluster, evenly distributed so each node has 500 clients.

Then, we stop rabbitmq on one of the nodes.

Now those 500 client connections all immediately fail over to the other two
node.  Assume roughly even split, and each gets 250 connections simultaneously.
Since the tcp listen backlog is only 128, a large number of the failover
connections cannot connect and get ECONNREFUSED because the kernel just drops
them.

Eventually things retry and the backlog clears, but it just makes things noisy
in the logs and makes failover take a little bit longer.

Upstream docs discuss here:
https://www.rabbitmq.com/networking.html#tuning-for-large-number-of-connections-connection-backlog

Suggested-By: John Eckersberg <jeckersb@redhat.com>
Closes-Bug: #1854704

Change-Id: If6da4aff016db9a72e1cb9dfc9731f06e062f64d
(cherry picked from commit 9f4832fcc4d939da3d4e7f83e26c4f934bff7dc0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/699915/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/rabbitmq.yaml'],1,5c8f9c67f1bd3eccaf68490b7432935deb171776,rocky_tcplog, rabbitmq::tcp_backlog: 4096,,1,0
openstack%2Ftripleo-upgrade~master~I71fd88ca085fc614bee6cba6136eb4dd6f997984,openstack/tripleo-upgrade,master,I71fd88ca085fc614bee6cba6136eb4dd6f997984,Fix bindeps,MERGED,2019-12-18 08:15:39.000000000,2019-12-19 17:32:03.000000000,2019-12-19 17:32:03.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-12-18 08:15:39.000000000', 'files': ['molecule/bindep.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/99bbdd3c7da587ab885f78eba3ad4ddd26bef879', 'message': 'Fix bindeps\n\nPackages for python3 support need to be\nadjusted to run the tests locally.\n\nChange-Id: I71fd88ca085fc614bee6cba6136eb4dd6f997984\n'}]",0,699574,99bbdd3c7da587ab885f78eba3ad4ddd26bef879,7,3,1,20775,,,0,"Fix bindeps

Packages for python3 support need to be
adjusted to run the tests locally.

Change-Id: I71fd88ca085fc614bee6cba6136eb4dd6f997984
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/74/699574/1 && git format-patch -1 --stdout FETCH_HEAD,['molecule/bindep.txt'],1,99bbdd3c7da587ab885f78eba3ad4ddd26bef879,,python-devel [platform:rpm !platform:rhel-8 !platform:centos-8] python3-devel [platform:rpm !platform:rhel-7 !platform:centos-7] PyYAML [platform:rpm !platform:rhel-8 !platform:centos-8] python3-pyyaml [platform:rpm !platform:rhel-7 !platform:centos-7] python3-dnf [platform:rpm !platform:rhel-7 !platform:centos-7]libselinux-python [platform:rpm !platform:rhel-8 !platform:centos-8] libsemanage-python [platform:redhat !platform:rhel-8 !platform:centos-8] libselinux-python3 [platform:rpm !platform:rhel-7 !platform:centos-7] libsemanage-python3 [platform:redhat !platform:rhel-7 !platform:centos-7],python-devel [platform:rpm] python2-dnf [platform:fedora]libselinux-python [platform:rpm] libsemanage-python [platform:redhat],9,4
openstack%2Ftripleo-heat-templates~master~Ie21f25e237e1176a8e9dfd741e85033a5462c3b5,openstack/tripleo-heat-templates,master,Ie21f25e237e1176a8e9dfd741e85033a5462c3b5,Add keystone_puppet_config,MERGED,2019-12-11 16:37:32.000000000,2019-12-19 17:30:34.000000000,2019-12-19 17:30:34.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-11 16:37:32.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/61033c5d88d73d6626ec17e4964f90aea4e1c725', 'message': 'Add keystone_puppet_config\n\nhttps://review.opendev.org/#/c/692664 is adding a new provider to handle\nthe auth token information for keystone. We need to include it in our\ncontainer generation so the file is generated.\n\nChange-Id: Ie21f25e237e1176a8e9dfd741e85033a5462c3b5\n'}]",0,698528,61033c5d88d73d6626ec17e4964f90aea4e1c725,28,5,1,14985,,,0,"Add keystone_puppet_config

https://review.opendev.org/#/c/692664 is adding a new provider to handle
the auth token information for keystone. We need to include it in our
container generation so the file is generated.

Change-Id: Ie21f25e237e1176a8e9dfd741e85033a5462c3b5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/698528/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,61033c5d88d73d6626ec17e4964f90aea4e1c725,bug/1855932," puppet_tags: 'keystone_config,keystone_domain_config,keystone_endpoint,keystone_identity_provider,keystone_role,keystone_service,keystone_tenant,keystone_user,keystone_user_role,keystone_domain,keystone_puppet_config'"," puppet_tags: 'keystone_config,keystone_domain_config,keystone_endpoint,keystone_identity_provider,keystone_role,keystone_service,keystone_tenant,keystone_user,keystone_user_role,keystone_domain'",1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id937389e4eda5c1fc4634ab14695390a09300468,openstack/tripleo-heat-templates,stable/train,Id937389e4eda5c1fc4634ab14695390a09300468,Create /var/log/journal directory during step-0,MERGED,2019-12-17 15:31:58.000000000,2019-12-19 17:27:29.000000000,2019-12-19 17:27:28.000000000,"[{'_account_id': 3153}, {'_account_id': 4264}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-12-17 15:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f9db3399af6a396a0ae55fe1352bed5f4ca15b1', 'message': ""Create /var/log/journal directory during step-0\n\nWhile I93dcc57aff63b91dab475b0c114b278324434e41 did the right thing, it\ndidn't do it in the right place.\n\nThis patch adds the creation without removing the misplaced code, so\nthat we can do an easy backport to Train.\nA follow-up will be the actual revert of the other change.\n\nChange-Id: Id937389e4eda5c1fc4634ab14695390a09300468\nCloses-Bug: #1856278\n(cherry picked from commit f7a35600655d4c4744425b87bb41fbdeceb9d3bb)\n""}, {'number': 2, 'created': '2019-12-18 21:31:39.000000000', 'files': ['common/deploy-steps-tasks-step-0.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/88492a9656a47011f3dd87ec1a387ae97465d340', 'message': ""Create /var/log/journal directory during step-0\n\nWhile I93dcc57aff63b91dab475b0c114b278324434e41 did the right thing, it\ndidn't do it in the right place.\n\nThis patch adds the creation without removing the misplaced code, so\nthat we can do an easy backport to Train.\nA follow-up will be the actual revert of the other change.\n\nChange-Id: Id937389e4eda5c1fc4634ab14695390a09300468\nCloses-Bug: #1856278\n(cherry picked from commit f7a35600655d4c4744425b87bb41fbdeceb9d3bb)\n""}]",0,699438,88492a9656a47011f3dd87ec1a387ae97465d340,27,11,2,28223,,,0,"Create /var/log/journal directory during step-0

While I93dcc57aff63b91dab475b0c114b278324434e41 did the right thing, it
didn't do it in the right place.

This patch adds the creation without removing the misplaced code, so
that we can do an easy backport to Train.
A follow-up will be the actual revert of the other change.

Change-Id: Id937389e4eda5c1fc4634ab14695390a09300468
Closes-Bug: #1856278
(cherry picked from commit f7a35600655d4c4744425b87bb41fbdeceb9d3bb)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/699438/2 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks-step-0.j2.yaml'],1,3f9db3399af6a396a0ae55fe1352bed5f4ca15b1,lp-1856278,- name: Ensure /var/log/journal exists file: path=/var/log/journal state=directory mode=0750 owner=root group=root setype=var_log_t,,2,0
openstack%2Ftripleo-heat-templates~master~I513e6564d18c7fe1c1e5dd63f164f3b5042cacf4,openstack/tripleo-heat-templates,master,I513e6564d18c7fe1c1e5dd63f164f3b5042cacf4,Provide utility to generate NodeDataLookup from Ironic,MERGED,2019-11-27 19:46:41.000000000,2019-12-19 17:25:56.000000000,2019-12-19 17:12:05.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-11-27 19:46:41.000000000', 'files': ['tools/make_ceph_disk_list.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fb8009458c949c3815256d126a483d47dae90b18', 'message': 'Provide utility to generate NodeDataLookup from Ironic\n\nAdd small python program to tools directory for deployers\nwhich generates a THT environment file containing valid\nJSON to be used with NodeDataLookup. Uses ironic generated\ndata as input.\n\nTools like this end up getting written in the field after\ndeployers experience failures. Better to provide them an\nofficial tool up front to solve this problem so they do\nnot have a bad experience.\n\nChange-Id: I513e6564d18c7fe1c1e5dd63f164f3b5042cacf4\nCloses-bug: #1854214\n'}]",0,696401,fb8009458c949c3815256d126a483d47dae90b18,25,7,1,18002,,,0,"Provide utility to generate NodeDataLookup from Ironic

Add small python program to tools directory for deployers
which generates a THT environment file containing valid
JSON to be used with NodeDataLookup. Uses ironic generated
data as input.

Tools like this end up getting written in the field after
deployers experience failures. Better to provide them an
official tool up front to solve this problem so they do
not have a bad experience.

Change-Id: I513e6564d18c7fe1c1e5dd63f164f3b5042cacf4
Closes-bug: #1854214
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/696401/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/make_ceph_disk_list.py'],1,fb8009458c949c3815256d126a483d47dae90b18,bug/1854214,"#!/usr/bin/env python3 # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import argparse import json import sys def parse_opts(argv): parser = argparse.ArgumentParser( description='Create JSON environment file with NodeDataLookup for ' 'all disks (except root disk) found in introspection data. ' 'May be run for each CephStorage node. ' 'Converts the output of `openstack baremetal introspection ' 'data save <node>` into a Heat environment file to be ' 'passed to `openstack overcloud deploy` such that ' 'all discovered disks will be configured as Ceph OSDs.') parser.add_argument('-i', '--introspection-data', metavar='INTROSPECTION_DATA', nargs='+', help=""Relative path to the JSON file(s) produced "" ""by `openstack baremetal introspection data save <node>` for "" ""each node; e.g. '-i node0.json node1.json ... nodeN.json'"", required=True) parser.add_argument('-o', '--tht-env-file', metavar='THT_ENV_FILE', help=(""Relative path to the tripleo-heat-template (THT) "" ""environment JSON file to be produced by this tool. "" ""Default: node_data_lookup.json"")) parser.add_argument('-k', '--key', metavar='KEY', help=(""Key of ironic disk data structure to use to identify "" ""disk. Must be one of name, wwn, serial, by_path "" ""default: by_path""), default='by_path', choices=['name', 'wwn', 'serial', 'by_path']) parser.add_argument('-e', '--exclude-list', metavar='EXCLUDES', nargs='*', help=(""List of devices to exclude identified "" ""by value mapped by key; e.g. if '-k name' "" ""and '-e /dev/sdb /dev/sdc' is passed, then "" ""sdb and sdc will not be in the output file""), default=[]) opts = parser.parse_args(argv[1:]) return opts def parse_ironic(ironic_file): """"""Extracts relevant data from each ironic input file """""" with open(ironic_file, 'r') as f: try: ironic = json.load(f) except Exception: raise RuntimeError( 'Invalid JSON file: {ironic_data_file}'.format( ironic_data_file=ironic_file)) try: uuid = ironic['extra']['system']['product']['uuid'] except Exception: raise RuntimeError( 'The Machine Unique UUID is not defined in ' 'data file: {ironic_data_file}'.format( ironic_data_file=ironic_file)) try: disks = ironic['inventory']['disks'] except Exception: raise RuntimeError( 'No disks were found in ' 'data file: {ironic_data_file}'.format( ironic_data_file=ironic_file)) try: root_disk = ironic['root_disk'] except Exception: raise RuntimeError( 'No root disk was found in ' 'data file: {ironic_data_file}'.format( ironic_data_file=ironic_file)) return uuid.lower(), root_disk, disks def get_devices_list(root_disk, disks, ironic_file): """"""returns devices list without root disk and other excludes based on key """""" if root_disk[OPTS.key] is None: raise RuntimeError( 'The requested --key ""{key}"" for the root disk is not defined ' 'in data file: {ironic_data_file}. Please use a different key.' .format(key=OPTS.key, ironic_data_file=ironic_file)) exclude = OPTS.exclude_list # by default the root disk is excluded as it cannot be an OSD exclude.append(root_disk[OPTS.key]) devices = [] for disk_dict in disks: if disk_dict[OPTS.key] not in exclude: devices.append(disk_dict[OPTS.key]) return devices def wrap_node_data_lookup(uuid_to_devices): """"""given a uuid to devices map, returns dictionary like the following: {'parameter_defaults': {'NodeDataLookup': {'32e87b4c-c4a7-41be-865b-191684a6883b': {'devices': ['/dev/sdc']}}, {'ea6a84d6-cf89-4fe2-b7bd-869b3fe4dd6b': {'devices': ['/dev/sdc']}}}} """""" node_data_lookup = {} node_data_lookup['NodeDataLookup'] = uuid_to_devices output = {} output['parameter_defaults'] = node_data_lookup return output def write_to_file(node_data_lookup): """"""Writes THT env file in JSON containing NodeDataLookup To node_data_lookup.json or <file>.json if '-o <file>' """""" if OPTS.tht_env_file: file_name = OPTS.tht_env_file else: file_name = 'node_data_lookup.json' with open(file_name, 'w') as outfile: json.dump(node_data_lookup, outfile, indent=2) OPTS = parse_opts(sys.argv) node_data_lookup = {} for ironic_data in OPTS.introspection_data: uuid, root_disk, disks = parse_ironic(ironic_data) devices = get_devices_list(root_disk, disks, ironic_data) devices_map = {} devices_map['devices'] = devices node_data_lookup[uuid] = devices_map write_to_file(wrap_node_data_lookup(node_data_lookup)) ",,141,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I38c658e0b0f2e334bd529fe66f937465036cc205,openstack/tripleo-heat-templates,stable/rocky,I38c658e0b0f2e334bd529fe66f937465036cc205,deploy-steps: use lookup() to get pre|post_deployments_role variables,MERGED,2019-12-14 15:34:56.000000000,2019-12-19 17:12:07.000000000,2019-12-19 17:12:07.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-14 15:34:56.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c8912671511b570bc997356000b94ee9a0b326e6', 'message': ""deploy-steps: use lookup() to get pre|post_deployments_role variables\n\nNote: this patch is only for Stein and its previous versions.\nTrain and master are fine.\n\nThe syntax in place didn't allow to have an empty default for these 2\nvars; which can happen in Queens if config-download is disabled.\n\nUsing the lookup module allows to set a default.\n\nChange-Id: I38c658e0b0f2e334bd529fe66f937465036cc205\nCloses-Bug: #1856314\n(cherry picked from commit 44d2502383bc539287cf42ca488773242ad6be9f)\n""}]",0,699072,c8912671511b570bc997356000b94ee9a0b326e6,28,4,1,3153,,,0,"deploy-steps: use lookup() to get pre|post_deployments_role variables

Note: this patch is only for Stein and its previous versions.
Train and master are fine.

The syntax in place didn't allow to have an empty default for these 2
vars; which can happen in Queens if config-download is disabled.

Using the lookup module allows to set a default.

Change-Id: I38c658e0b0f2e334bd529fe66f937465036cc205
Closes-Bug: #1856314
(cherry picked from commit 44d2502383bc539287cf42ca488773242ad6be9f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/699072/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,c8912671511b570bc997356000b94ee9a0b326e6,lookup/rocky," with_items: ""{{ '{{' }} lookup('vars', 'pre_deployments_' + tripleo_role_name, default=[]) {{ '}}' }}"" with_items: ""{{ '{{' }} lookup('vars', 'post_deployments_' + tripleo_role_name, default=[]) {{ '}}' }}"""," with_items: ""{{ '{{' }} lookup('vars', 'pre_deployments_' + tripleo_role_name)|default([]) {{ '}}' }}"" with_items: ""{{ '{{' }} lookup('vars', 'post_deployments_' + tripleo_role_name)|default([]) {{ '}}' }}""",2,2
openstack%2Fneutron~master~I08aaf0d1f65114945b14ba02d915055b402fc7c1,openstack/neutron,master,I08aaf0d1f65114945b14ba02d915055b402fc7c1,Add Neutron Priorities to dashboards list,MERGED,2019-12-10 10:08:22.000000000,2019-12-19 17:09:02.000000000,2019-12-19 17:04:29.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-12-10 10:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a9151fc3bb9e8b7d043fac179abb2d948b1a81fd', 'message': 'Add Neutron Priorities to dashboards list\n\nChange-Id: I08aaf0d1f65114945b14ba02d915055b402fc7c1\n'}, {'number': 2, 'created': '2019-12-16 11:48:42.000000000', 'files': ['doc/source/contributor/dashboards/index.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3dbe5c2057656bccf93bc27d8a734f38c8a18132', 'message': 'Add Neutron Priorities to dashboards list\n\nChange-Id: I08aaf0d1f65114945b14ba02d915055b402fc7c1\n'}]",3,698205,3dbe5c2057656bccf93bc27d8a734f38c8a18132,17,7,2,21798,,,0,"Add Neutron Priorities to dashboards list

Change-Id: I08aaf0d1f65114945b14ba02d915055b402fc7c1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/698205/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/dashboards/index.rst'],1,a9151fc3bb9e8b7d043fac179abb2d948b1a81fd,priorities-dashboard,- `Neutron priority reviews <https://review.opendev.org/#/dashboard/?title=Neutron+Priorities+Dashboard&foreach=%2528project%253Aopenstack%252Fneutron+OR%250Aproject%253Aopenstack%252Fneutron%252Dlib+OR%250Aproject%253Aopenstack%252Fneutron%252Dtempest%252Dplugin+OR%250Aproject%253Aopenstack%252Fpython%252Dneutronclient+OR%250Aproject%253Aopenstack%252Fneutron%252Dspecs+OR%250Aproject%253Aopenstack%252Fnetworking%252Dbagpipe+OR%250Aproject%253Aopenstack%252Fnetworking%252Dbgpvpn+OR%250Aproject%253Aopenstack%252Fnetworking%252Dmidonet+OR%250Aproject%253Aopenstack%252Fnetworking%252Dodl+OR%250Aproject%253Aopenstack%252Fnetworking%252Dovn+OR%250Aproject%253Aopenstack%252Fnetworking%252Dsfc+OR%250Aproject%253Aopenstack%252Fneutron%252Ddynamic%252Drouting+OR%250Aproject%253Aopenstack%252Fneutron%252Dfwaas+OR%250Aproject%253Aopenstack%252Fneutron%252Dfwaas%252Ddashboard+OR%250Aproject%253Aopenstack%252Fneutron%252Dvpnaas+OR%250Aproject%253Aopenstack%252Fneutron%252Dvpnaas%252Ddashboard+OR%250Aproject%253Aopenstack%252Fos%252Dken+OR%250Aproject%253Aopenstack%252Fovsdbapp%2529+status%253Aopen&High+Priority+Changes=label%253AReview%252DPriority%253D2&Priority+Changes=label%253AReview%252DPriority%253D1&Blocked+Reviews=label%253AReview%252DPriority%253D%252D1>`_ ,,1,0
openstack%2Fneutron-dynamic-routing~master~I325e26fb190890d29fba015c5105b9488d71367c,openstack/neutron-dynamic-routing,master,I325e26fb190890d29fba015c5105b9488d71367c,Drop python 2 support and testing,MERGED,2019-12-10 13:39:58.000000000,2019-12-19 17:08:08.000000000,2019-12-19 17:04:25.000000000,"[{'_account_id': 841}, {'_account_id': 4187}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-10 13:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/c6c753ea13ed0f88f819d6d607b9b2a9fc51911e', 'message': 'Drop python 2 support and testing\n\nThis is part of Ussuri goal tracked for Neutron stadium at:\nhttps://etherpad.openstack.org/p/neutron-train-zuulv3-py27drop\n\nChange-Id: I325e26fb190890d29fba015c5105b9488d71367c\n'}, {'number': 2, 'created': '2019-12-17 14:08:34.000000000', 'files': ['test-requirements.txt', '.zuul.yaml', 'releasenotes/notes/drop-py27-support-795303ca12cccd34.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/777fb1638e8b3d15ca261dfe449b443381819509', 'message': 'Drop python 2 support and testing\n\nThis is part of Ussuri goal tracked for Neutron stadium at:\nhttps://etherpad.openstack.org/p/neutron-train-zuulv3-py27drop\n\nChange-Id: I325e26fb190890d29fba015c5105b9488d71367c\n'}]",2,698243,777fb1638e8b3d15ca261dfe449b443381819509,13,5,2,21798,,,0,"Drop python 2 support and testing

This is part of Ussuri goal tracked for Neutron stadium at:
https://etherpad.openstack.org/p/neutron-train-zuulv3-py27drop

Change-Id: I325e26fb190890d29fba015c5105b9488d71367c
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/43/698243/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', '.zuul.yaml', 'setup.cfg', 'tox.ini']",4,c6c753ea13ed0f88f819d6d607b9b2a9fc51911e,drop-py27-support,"envlist = py37,pep8,pylint minversion = 3.1.1","envlist = py27,py37,pep8,pylint minversion = 2.5.0basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3[testenv:py3-dev] basepython = python3 commands = {[testenv:dev]commands} {[testenv]commands} basepython = python3",3,22
openstack%2Fneutron~master~I9b08a3a9c20b702b745b41d4885fb5120fd665ce,openstack/neutron,master,I9b08a3a9c20b702b745b41d4885fb5120fd665ce,Locate RP-tree parent by hypervisor name,MERGED,2019-11-28 15:29:54.000000000,2019-12-19 17:03:37.000000000,2019-12-19 17:01:21.000000000,"[{'_account_id': 8313}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-28 15:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f05991c11aacbe8baa0cf0d6bdadb27c3304dd1e', 'message': ""WIP Locate RP-tree parent by hypervisor name\n\nPreviously we assumed that we can look up the resource provider (created\nby nova) to be used as the parent of the agent and physical NIC resource\nprovider tree by the name set in the config option DEFAULT.host. This\nassumption was wrong.\n\nWhile nova-compute's DEFAULT.host and neutron-agent's DEFAULT.host\nmust match for port binding to work, the root resource provider created\nby nova does not belong to the compute host (where nova-compute runs)\nbut it belongs to the compute nodes (i.e. hypervisors). Actually there\nmay be multiple compute nodes managed by a single nova-compute (think\nof ironic). Plus the value of DEFAULT.host and the compute node's ID\nmay be different even when nova-compute manages a hypervisor on the\nsame host because of various deployment considerations. For example\nwhen tripleo does not manage the undercloud (so a libvirt hypervisor\nreturns the plain hostname), but the same tripleo enforces it's host\nnaming conventions in nova's and neutron's DEFAULT.host settings.\n\nThis change enables neutron to use the hypervisor name to locate the\nroot of the resource provider tree.\n\nWe introduce a new configuration option for\n\n(1) ovs-agent: resource_provider_hypervisors, for example:\n\n[ovs]\nbridge_mappings = physnet0:br-physnet0,...\nresource_provider_bandwidths = br-physnet0:10000000:10000000,...\nresource_provider_hypervisors = br-physnet0:hypervisor0,...\n\n(2) sriov-agent: resource_provider_hypervisors, for example:\n\n[sriov_nic]\nbridge_mappings = physnet1:ens5,...\nresource_provider_bandwidths = ens5:10000000:10000000,...\nresource_provider_hypervisors = ens5:hypervisor1,...\n\nFor both agents 'resource_provider_hypervisors' values default to\nsocket.gethostname() for each key in resource_provider_bandwidths.\n\nWe try to not block later developments in which one neutron\nagent may manage devices on multiple hosts. That's why we allow\nthe each physdev to be associated with a different hypervisor.\n\nBut here we do not try to solve the problem that the natural physdev\nidentifiers may not be unique accross multiple hosts. We leave solving\nthis problem to whoever wants to implement an agent handling devices of\nmultiple hosts.\n\n(3) We extend report_state message's configurations field alike:\n\n{\n'bridge_mappings': {'physnet0': 'br-physnet0'},\n'resource_provider_bandwidths': {\n    'br-physnet0': {'egress': 10000000, 'ingress': 10000000}},\n'resource_provider_hypervisors': {'br-physnet0': 'hypervisor0'},\n...\n}\n\n(4) In neutron-server we use\nreport_state.configurations.resource_provider_hypervisors.PHYSDEV\nwhen selecting parent resource provider for agent and physdev\nRP-tree. When not available in the message we fall back to using\nreport_state.host as before.\n\nSince we only changed the free-format configurations field of the\nreport_state message rpc version is not bumped and we expect this\nchange to be backported to stein and train.\n\nTODO tests\nTODO relnote\nTODO docs\n\nChange-Id: I9b08a3a9c20b702b745b41d4885fb5120fd665ce\nCloses-Bug: #1853840\n""}, {'number': 2, 'created': '2019-12-04 15:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b507cd3a2159991151eee671d8ec026b41c67a18', 'message': ""Locate RP-tree parent by hypervisor name\n\nPreviously we assumed that we can look up the resource provider (created\nby nova) to be used as the parent of the agent and physical NIC resource\nprovider tree by the name set in the config option DEFAULT.host. This\nassumption was wrong.\n\nWhile nova-compute's DEFAULT.host and neutron-agent's DEFAULT.host\nmust match for port binding to work, the root resource provider created\nby nova does not belong to the compute host (where nova-compute runs)\nbut it belongs to the compute nodes (i.e. hypervisors). Actually there\nmay be multiple compute nodes managed by a single nova-compute (think\nof ironic). Plus the value of DEFAULT.host and the compute node's ID\nmay be different even when nova-compute manages a hypervisor on the\nsame host because of various deployment considerations. For example\nwhen tripleo does not manage the undercloud (so a libvirt hypervisor\nreturns the plain hostname), but the same tripleo enforces it's host\nnaming conventions in nova's and neutron's DEFAULT.host settings.\n\nThis change enables neutron to use the hypervisor name to locate the\nroot of the resource provider tree.\n\nWe introduce a new configuration option for\n\n(1) ovs-agent: resource_provider_hypervisors, for example:\n\n[ovs]\nbridge_mappings = physnet0:br-physnet0,...\nresource_provider_bandwidths = br-physnet0:10000000:10000000,...\nresource_provider_hypervisors = br-physnet0:hypervisor0,...\n\n(2) sriov-agent: resource_provider_hypervisors, for example:\n\n[sriov_nic]\nbridge_mappings = physnet1:ens5,...\nresource_provider_bandwidths = ens5:10000000:10000000,...\nresource_provider_hypervisors = ens5:hypervisor1,...\n\nFor both agents 'resource_provider_hypervisors' values default to\nsocket.gethostname() for each key in resource_provider_bandwidths.\n\nWe try to not block later developments in which one neutron\nagent may manage devices on multiple hosts. That's why we allow\nthe each physdev to be associated with a different hypervisor.\n\nBut here we do not try to solve the problem that the natural physdev\nidentifiers may not be unique accross multiple hosts. We leave solving\nthis problem to whoever wants to implement an agent handling devices of\nmultiple hosts.\n\n(3) We extend report_state message's configurations field alike:\n\n{\n'bridge_mappings': {'physnet0': 'br-physnet0'},\n'resource_provider_bandwidths': {\n    'br-physnet0': {'egress': 10000000, 'ingress': 10000000}},\n'resource_provider_hypervisors': {'br-physnet0': 'hypervisor0'},\n...\n}\n\n(4) In neutron-server we use\nreport_state.configurations.resource_provider_hypervisors.PHYSDEV\nwhen selecting parent resource provider for agent and physdev\nRP-tree. When not available in the message we fall back to using\nreport_state.host as before.\n\nSince we only changed the free-format configurations field of the\nreport_state message rpc version is not bumped and we expect this\nchange to be backported to stein and train.\n\nChange-Id: I9b08a3a9c20b702b745b41d4885fb5120fd665ce\nCloses-Bug: #1853840\n""}, {'number': 3, 'created': '2019-12-10 09:25:14.000000000', 'files': ['neutron/conf/plugins/ml2/drivers/mech_sriov/agent_common.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/services/placement_report/test_plugin.py', 'neutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_sriov_nic_agent.py', 'neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/agent/common/placement_report.py', 'releasenotes/notes/locate-rp-tree-parent-by-hypervisor-name-3244ed87dc57f950.yaml', 'neutron/tests/unit/agent/common/test_placement_report.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/services/placement_report/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/258eebea71b1cac37badf429a90d5cf57e4c455c', 'message': ""Locate RP-tree parent by hypervisor name\n\nPreviously we assumed that we can look up the resource provider (created\nby nova) to be used as the parent of the agent and physical NIC resource\nprovider tree by the name set in the config option DEFAULT.host. This\nassumption was wrong.\n\nWhile nova-compute's DEFAULT.host and neutron-agent's DEFAULT.host\nmust match for port binding to work, the root resource provider created\nby nova does not belong to the compute host (where nova-compute runs)\nbut it belongs to the compute nodes (i.e. hypervisors). Actually there\nmay be multiple compute nodes managed by a single nova-compute (think\nof ironic). Plus the value of DEFAULT.host and the compute node's ID\nmay be different even when nova-compute manages a hypervisor on the\nsame host because of various deployment considerations. For example\nwhen tripleo does not manage the undercloud (so a libvirt hypervisor\nreturns the plain hostname), but the same tripleo enforces it's host\nnaming conventions in nova's and neutron's DEFAULT.host settings.\n\nThis change enables neutron to use the hypervisor name to locate the\nroot of the resource provider tree.\n\nWe introduce a new configuration option for\n\n(1) ovs-agent: resource_provider_hypervisors, for example:\n\n[ovs]\nbridge_mappings = physnet0:br-physnet0,...\nresource_provider_bandwidths = br-physnet0:10000000:10000000,...\nresource_provider_hypervisors = br-physnet0:hypervisor0,...\n\n(2) sriov-agent: resource_provider_hypervisors, for example:\n\n[sriov_nic]\nbridge_mappings = physnet1:ens5,...\nresource_provider_bandwidths = ens5:10000000:10000000,...\nresource_provider_hypervisors = ens5:hypervisor1,...\n\nFor both agents 'resource_provider_hypervisors' values default to\nsocket.gethostname() for each key in resource_provider_bandwidths.\n\nWe try to not block later developments in which one neutron\nagent may manage devices on multiple hosts. That's why we allow\nthe each physdev to be associated with a different hypervisor.\n\nBut here we do not try to solve the problem that the natural physdev\nidentifiers may not be unique accross multiple hosts. We leave solving\nthis problem to whoever wants to implement an agent handling devices of\nmultiple hosts.\n\n(3) We extend report_state message's configurations field alike:\n\n{\n'bridge_mappings': {'physnet0': 'br-physnet0'},\n'resource_provider_bandwidths': {\n    'br-physnet0': {'egress': 10000000, 'ingress': 10000000}},\n'resource_provider_hypervisors': {'br-physnet0': 'hypervisor0'},\n...\n}\n\n(4) In neutron-server we use\nreport_state.configurations.resource_provider_hypervisors.PHYSDEV\nwhen selecting parent resource provider for agent and physdev\nRP-tree. When not available in the message we fall back to using\nreport_state.host as before.\n\nSince we only changed the free-format configurations field of the\nreport_state message rpc version is not bumped and we expect this\nchange to be backported to stein and train.\n\nChange-Id: I9b08a3a9c20b702b745b41d4885fb5120fd665ce\nCloses-Bug: #1853840\n""}]",11,696600,258eebea71b1cac37badf429a90d5cf57e4c455c,42,10,3,15554,,,0,"Locate RP-tree parent by hypervisor name

Previously we assumed that we can look up the resource provider (created
by nova) to be used as the parent of the agent and physical NIC resource
provider tree by the name set in the config option DEFAULT.host. This
assumption was wrong.

While nova-compute's DEFAULT.host and neutron-agent's DEFAULT.host
must match for port binding to work, the root resource provider created
by nova does not belong to the compute host (where nova-compute runs)
but it belongs to the compute nodes (i.e. hypervisors). Actually there
may be multiple compute nodes managed by a single nova-compute (think
of ironic). Plus the value of DEFAULT.host and the compute node's ID
may be different even when nova-compute manages a hypervisor on the
same host because of various deployment considerations. For example
when tripleo does not manage the undercloud (so a libvirt hypervisor
returns the plain hostname), but the same tripleo enforces it's host
naming conventions in nova's and neutron's DEFAULT.host settings.

This change enables neutron to use the hypervisor name to locate the
root of the resource provider tree.

We introduce a new configuration option for

(1) ovs-agent: resource_provider_hypervisors, for example:

[ovs]
bridge_mappings = physnet0:br-physnet0,...
resource_provider_bandwidths = br-physnet0:10000000:10000000,...
resource_provider_hypervisors = br-physnet0:hypervisor0,...

(2) sriov-agent: resource_provider_hypervisors, for example:

[sriov_nic]
bridge_mappings = physnet1:ens5,...
resource_provider_bandwidths = ens5:10000000:10000000,...
resource_provider_hypervisors = ens5:hypervisor1,...

For both agents 'resource_provider_hypervisors' values default to
socket.gethostname() for each key in resource_provider_bandwidths.

We try to not block later developments in which one neutron
agent may manage devices on multiple hosts. That's why we allow
the each physdev to be associated with a different hypervisor.

But here we do not try to solve the problem that the natural physdev
identifiers may not be unique accross multiple hosts. We leave solving
this problem to whoever wants to implement an agent handling devices of
multiple hosts.

(3) We extend report_state message's configurations field alike:

{
'bridge_mappings': {'physnet0': 'br-physnet0'},
'resource_provider_bandwidths': {
    'br-physnet0': {'egress': 10000000, 'ingress': 10000000}},
'resource_provider_hypervisors': {'br-physnet0': 'hypervisor0'},
...
}

(4) In neutron-server we use
report_state.configurations.resource_provider_hypervisors.PHYSDEV
when selecting parent resource provider for agent and physdev
RP-tree. When not available in the message we fall back to using
report_state.host as before.

Since we only changed the free-format configurations field of the
report_state message rpc version is not bumped and we expect this
change to be backported to stein and train.

Change-Id: I9b08a3a9c20b702b745b41d4885fb5120fd665ce
Closes-Bug: #1853840
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/696600/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/placement_report.py', 'neutron/conf/plugins/ml2/drivers/mech_sriov/agent_common.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/services/placement_report/test_plugin.py', 'neutron/tests/unit/agent/common/test_placement_report.py', 'neutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_sriov_nic_agent.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/services/placement_report/plugin.py', 'neutron/agent/common/utils.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py']",10,f05991c11aacbe8baa0cf0d6bdadb27c3304dd1e,bug/1853840," cfg.DictOpt('resource_provider_hypervisors', default={}, help=_(""Mapping of bridges to hypervisors: "" ""<bridge>:<hypervisor>,... "" ""hypervisor name is used to locate the parent of the "" ""resource provider tree. Only needs to be set in the "" ""rare case when the hypervisor name is different from "" ""the DEFAULT.host config option value as known by the "" ""nova-compute managing that hypervisor."")),",,130,48
openstack%2Fcinderlib~master~I67fbf8e9d7ee79f3d6617b4d0ae755dae0e1987a,openstack/cinderlib,master,I67fbf8e9d7ee79f3d6617b4d0ae755dae0e1987a,Fix configuration options,MERGED,2019-12-16 12:53:43.000000000,2019-12-19 17:03:02.000000000,2019-12-19 17:01:23.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-16 12:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/a65f840474e6da552593143a2cf1437a280bab5e', 'message': ""Fix configuration options\n\nWhen fixing bug #1854188 (Change-ID:\nI62e992804a3ae6aa0b4aa4f883807783197d4b33) we broke configuration\noptions, because now we cannot pass configuration options from the\nDEFAULT section, and some ListOpt don't work because cinderlib was\nincorrectly expecting all these options to have bounds=True, but some\ndon't define it and default to False.\n\nThis patch fixes this by supporting configuration options from the\nDEFAULT section and supporting bounds=True and bounds=False for list and\ndict options.\n\nCloses-Bug: #1856556\nChange-Id: I67fbf8e9d7ee79f3d6617b4d0ae755dae0e1987a\n""}, {'number': 2, 'created': '2019-12-18 18:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/ce67a19bd2a6a24a6255323ba3d89b21e75070ec', 'message': 'Fix configuration options\n\nWhen fixing bug #1854188 (Change-ID:\nI62e992804a3ae6aa0b4aa4f883807783197d4b33) we broke configuration\noptions, because now we cannot pass configuration options from the\nDEFAULT section, and some ListOpt don\'t work because cinderlib was\nincorrectly expecting all these options to have bounds=True, but some\ndon\'t define it and default to False.\n\nMost of the ""crazy"" code we currently have around oslo config is because\nwe wanted to support drivers that add configuration options on runtime\nand reload the configuration.\n\nThis made sense when cinderlib was not an OpenStack official project,\nbut now that it is it makes more sense to force Cinder drivers to do the\nright thing.\n\nAligned with this, this patch removes all the faking of the cinder.conf\nfile as a StringIO object, and simply sets things in the configuration\nobject that is passed to the drivers, which is the only thing they\nshould be using.\n\nThis will make cinderlib code more robust, even if some drivers will now\nneed to be modified to work with cinderlib.\n\nThe NetApp driver was one of the drivers that would get broken, but\nsince I have access to it and we can make a very small and targeted\nworkaround to avoid breaking it, we do it as well.\n\nCloses-Bug: #1856556\nChange-Id: I67fbf8e9d7ee79f3d6617b4d0ae755dae0e1987a\n'}, {'number': 3, 'created': '2019-12-18 18:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/a5a566511998e83eb1761a8c3565399d4f36c30a', 'message': 'Fix configuration options\n\nWhen fixing bug #1854188 (Change-ID:\nI62e992804a3ae6aa0b4aa4f883807783197d4b33) we broke configuration\noptions, because now we cannot pass configuration options from the\nDEFAULT section, and some ListOpt don\'t work because cinderlib was\nincorrectly expecting all these options to have bounds=True, but some\ndon\'t define it and default to False.\n\nMost of the ""crazy"" code we currently have around oslo config is because\nwe wanted to support drivers that add configuration options on runtime\nand reload the configuration.\n\nThis made sense when cinderlib was not an OpenStack official project,\nbut now that it is it makes more sense to force Cinder drivers to do the\nright thing.\n\nAligned with this, this patch removes all the faking of the cinder.conf\nfile as a StringIO object, and simply sets things in the configuration\nobject that is passed to the drivers, which is the only thing they\nshould be using.\n\nThis will make cinderlib code more robust, even if some drivers will now\nneed to be modified to work with cinderlib.\n\nWe are validating known configuration options and ignoring unknown ones,\nlike Cinder does.\n\nThe NetApp driver was one of the drivers that would get broken, but\nsince I have access to it and we can make a very small and targeted\nworkaround to avoid breaking it, we do it as well.\n\nCloses-Bug: #1856556\nChange-Id: I67fbf8e9d7ee79f3d6617b4d0ae755dae0e1987a\n'}, {'number': 4, 'created': '2019-12-19 10:22:26.000000000', 'files': ['doc/source/validated.rst', 'cinderlib/tests/unit/test_cinderlib.py', 'cinderlib/cinderlib.py'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/fbd7a72c1bbfe4696eada41064c476ba3ecd6a8f', 'message': 'Fix configuration options\n\nWhen fixing bug #1854188 (Change-ID:\nI62e992804a3ae6aa0b4aa4f883807783197d4b33) we broke configuration\noptions, because now we cannot pass configuration options from the\nDEFAULT section, and some ListOpt don\'t work because cinderlib was\nincorrectly expecting all these options to have bounds=True, but some\ndon\'t define it and default to False.\n\nMost of the ""crazy"" code we currently have around oslo config is because\nwe wanted to support drivers that add configuration options on runtime\nand reload the configuration.\n\nThis made sense when cinderlib was not an OpenStack official project,\nbut now that it is it makes more sense to force Cinder drivers to do the\nright thing.\n\nAligned with this, this patch removes all the faking of the cinder.conf\nfile as a StringIO object, and simply sets things in the configuration\nobject that is passed to the drivers, which is the only thing they\nshould be using.\n\nThis will make cinderlib code more robust, even if some drivers will now\nneed to be modified to work with cinderlib.\n\nWe are validating known configuration options and ignoring unknown ones,\nlike Cinder does.\n\nThe NetApp driver was one of the drivers that would get broken, but\nsince I have access to it and we can make a very small and targeted\nworkaround to avoid breaking it, we do it as well.\n\nCloses-Bug: #1856556\nChange-Id: I67fbf8e9d7ee79f3d6617b4d0ae755dae0e1987a\n'}]",4,699203,fbd7a72c1bbfe4696eada41064c476ba3ecd6a8f,23,7,4,9535,,,0,"Fix configuration options

When fixing bug #1854188 (Change-ID:
I62e992804a3ae6aa0b4aa4f883807783197d4b33) we broke configuration
options, because now we cannot pass configuration options from the
DEFAULT section, and some ListOpt don't work because cinderlib was
incorrectly expecting all these options to have bounds=True, but some
don't define it and default to False.

Most of the ""crazy"" code we currently have around oslo config is because
we wanted to support drivers that add configuration options on runtime
and reload the configuration.

This made sense when cinderlib was not an OpenStack official project,
but now that it is it makes more sense to force Cinder drivers to do the
right thing.

Aligned with this, this patch removes all the faking of the cinder.conf
file as a StringIO object, and simply sets things in the configuration
object that is passed to the drivers, which is the only thing they
should be using.

This will make cinderlib code more robust, even if some drivers will now
need to be modified to work with cinderlib.

We are validating known configuration options and ignoring unknown ones,
like Cinder does.

The NetApp driver was one of the drivers that would get broken, but
since I have access to it and we can make a very small and targeted
workaround to avoid breaking it, we do it as well.

Closes-Bug: #1856556
Change-Id: I67fbf8e9d7ee79f3d6617b4d0ae755dae0e1987a
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/03/699203/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinderlib/tests/unit/test_cinderlib.py', 'cinderlib/cinderlib.py']",2,a65f840474e6da552593143a2cf1437a280bab5e,bug/1854188," opts = configuration.CONF._opts.copy() opts.update(configuration.CONF._groups['backend_defaults']._opts) def __val_to_str(cls, val, opt): res = ','.join((cls.__val_to_str(v, opt) for v in val)) if getattr(getattr(opt, 'type'), 'bounds'): return '[' + res + ']' return res res = ','.join('%s:%s' % (k, cls.__val_to_str(v, opt)) for k, v in val.items()) if getattr(getattr(opt, 'type'), 'bounds'): return '{' + res + '}' return res val = [cls.__val_to_str(v, opt) for v in val] val = cls.__val_to_str(val, opt)"," opts = configuration.CONF._groups['backend_defaults']._opts def __val_to_str(cls, val): return '[' + ','.join((cls.__val_to_str(v) for v in val)) + ']' return ','.join('%s:%s' % (k, cls.__val_to_str(v)) for k, v in val.items()) val = [cls.__val_to_str(v) for v in val] val = cls.__val_to_str(val)",57,23
openstack%2Ftripleo-docs~master~I2131d87c51f142166f341d2a9c209162659fca43,openstack/tripleo-docs,master,I2131d87c51f142166f341d2a9c209162659fca43,Document how to use NodeDataLookup generation utility,MERGED,2019-11-27 20:50:04.000000000,2019-12-19 17:01:14.000000000,2019-12-19 16:58:44.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-11-27 20:50:04.000000000', 'files': ['deploy-guide/source/features/ceph_config.rst', 'deploy-guide/source/features/node_specific_hieradata.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/3d6ffded364cbc83ad28b02d740c00fbb1fe3428', 'message': 'Document how to use NodeDataLookup generation utility\n\nThe updated version of the Ceph documentation warns\nabout the problems of using name-based methods of\nrefering to block devices and suggests use of the\nby_path method to avoid this problem. It then links\nto the updated Node Specific Hieradata document which\ncontains a description of how to use the utility from\nthe related bug.\n\nChange-Id: I2131d87c51f142166f341d2a9c209162659fca43\n'}]",0,696406,3d6ffded364cbc83ad28b02d740c00fbb1fe3428,11,6,1,18002,,,0,"Document how to use NodeDataLookup generation utility

The updated version of the Ceph documentation warns
about the problems of using name-based methods of
refering to block devices and suggests use of the
by_path method to avoid this problem. It then links
to the updated Node Specific Hieradata document which
contains a description of how to use the utility from
the related bug.

Change-Id: I2131d87c51f142166f341d2a9c209162659fca43
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/06/696406/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/features/ceph_config.rst', 'deploy-guide/source/features/node_specific_hieradata.rst']",2,3d6ffded364cbc83ad28b02d740c00fbb1fe3428,bug/1854214,"Generating the Heat environment file for Ceph devices ----------------------------------------------------- The tools directory of tripleo-heat-templates (`/usr/share/openstack-tripleo-heat-templates/tools/`) contains a utility called `make_ceph_disk_list.py` which can be used to create a valid JSON Heat environment file automatically from Ironic's introspection data. Export the introspection data from Ironic for the Ceph nodes to be deployed:: openstack baremetal introspection data save oc0-ceph-0 > ceph0.json openstack baremetal introspection data save oc0-ceph-1 > ceph1.json ... Copy the utility to the stack user's home directory on the undercloud and then use it to generate a `node_data_lookup.json` file which may be passed during openstack overcloud deployment:: ./make_ceph_disk_list.py -i ceph*.json -o node_data_lookup.json -k by_path Pass the introspection data file from `openstack baremetal introspection data save` for all nodes hosting Ceph OSDs to the utility as you may only define `NodeDataLookup` once during a deployment. The `-i` option can take an expression like `*.json` or a list of files as input. The `-k` option defines the key of ironic disk data structure to use to identify the disk to be used as an OSD. Using `name` is not recommended as it will produce a file of devices like `/dev/sdd` which may not always point to the same device on reboot. Thus, `by_path` is recommended and is the default if `-k` is not specified. Ironic will have one of the available disks on the system reserved as the root disk. The utility will always exlude the root disk from the list of devices genereated. Use `./make_ceph_disk_list.py --help` to see other available options. Deploying with NodeDataLookup ----------------------------- Add the environment file described in the previous section to the deploy commandline:: or:: openstack overcloud deploy [other overcloud deploy options] -e ~/node_data_lookup.json JSON is the recommended format (instead of JSON embedded in YAML) because you may use `jq` to validate the entire file before deployment.","Finally, add such an environment file to the deploy commandline::",63,1
openstack%2Fmonasca-events-api~stable%2Ftrain~I9f3c611029385eb9d4ff2a2ff190b441b1971f33,openstack/monasca-events-api,stable/train,I9f3c611029385eb9d4ff2a2ff190b441b1971f33,Bump the openstackdocstheme extension to 1.20.0,NEW,2019-12-02 09:37:39.000000000,2019-12-19 16:32:33.000000000,,"[{'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-12-02 09:37:39.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py', 'lower-constraints.txt', 'api-ref/source/conf.py', 'devstack/lib/events-persister.sh', 'devstack/lib/events-api.sh', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/244b6bcb7a8079d2eb926a612c6d247ada275451', 'message': 'Bump the openstackdocstheme extension to 1.20.0\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_elements\n- version\n- release.\n\nThe change also fixed Apache Kafka URLs in API and persister\nconfiguration in DevStack plugin.\n\nDepends-On: https://review.opendev.org/689513\nChange-Id: I9f3c611029385eb9d4ff2a2ff190b441b1971f33\n(cherry picked from commit 5e7f9f193d8eb264554479f816b7aea906fa0aad)\n'}]",0,696838,244b6bcb7a8079d2eb926a612c6d247ada275451,5,5,1,16222,,,0,"Bump the openstackdocstheme extension to 1.20.0

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_elements
- version
- release.

The change also fixed Apache Kafka URLs in API and persister
configuration in DevStack plugin.

Depends-On: https://review.opendev.org/689513
Change-Id: I9f3c611029385eb9d4ff2a2ff190b441b1971f33
(cherry picked from commit 5e7f9f193d8eb264554479f816b7aea906fa0aad)
",git fetch https://review.opendev.org/openstack/monasca-events-api refs/changes/38/696838/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'api-ref/source/conf.py', 'devstack/lib/events-persister.sh', 'doc/source/conf.py', 'lower-constraints.txt', 'devstack/lib/events-api.sh', 'releasenotes/source/conf.py']",7,244b6bcb7a8079d2eb926a612c6d247ada275451,openstackdocstheme-stable/train,,"project = u'OpenStack Monitoring Release Notes'# If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. html_last_updated_fmt = '%Y-%m-%d %H:%M' latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",8,64
openstack%2Fgovernance~master~I67774ace48682da07fef5e1c8ba5c7f72181543c,openstack/governance,master,I67774ace48682da07fef5e1c8ba5c7f72181543c,Add tripleo-operator-ansible,MERGED,2019-11-12 23:14:05.000000000,2019-12-19 16:22:09.000000000,2019-12-19 16:19:48.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 4257}, {'_account_id': 7353}, {'_account_id': 8099}, {'_account_id': 9592}, {'_account_id': 10607}, {'_account_id': 12404}, {'_account_id': 14985}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 23:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/e2f438301c54ba7464187b7bf625678cec9452a3', 'message': 'Add tripleo-operators-ansible\n\nRelated-Blueprint: tripleo-operators-ansible\nDepends-On: Ie0008222e4f197d6e94727637ce092a77f6ea81e\nChange-Id: I67774ace48682da07fef5e1c8ba5c7f72181543c\n'}, {'number': 2, 'created': '2019-11-13 20:55:44.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/b4e5cc4170630ce11033800adc3c5694fb7a93c2', 'message': 'Add tripleo-operator-ansible\n\nRelated-Blueprint: tripleo-operator-ansible\nDepends-On: Ie0008222e4f197d6e94727637ce092a77f6ea81e\nChange-Id: I67774ace48682da07fef5e1c8ba5c7f72181543c\n'}]",0,693946,b4e5cc4170630ce11033800adc3c5694fb7a93c2,24,12,2,14985,,,0,"Add tripleo-operator-ansible

Related-Blueprint: tripleo-operator-ansible
Depends-On: Ie0008222e4f197d6e94727637ce092a77f6ea81e
Change-Id: I67774ace48682da07fef5e1c8ba5c7f72181543c
",git fetch https://review.opendev.org/openstack/governance refs/changes/46/693946/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,e2f438301c54ba7464187b7bf625678cec9452a3,project-update, tripleo-operators-ansible: repos: - openstack/tripleo-operators-ansible,,3,0
openstack%2Ftrove~master~Iabcfad81343a71304b843b3a7778486253220d20,openstack/trove,master,Iabcfad81343a71304b843b3a7778486253220d20,Show service_status_updated in instance API,MERGED,2019-12-14 09:11:09.000000000,2019-12-19 16:02:49.000000000,2019-12-19 16:00:40.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-14 09:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/15eb9944962b19d11e719a4f1983c8eea8a5f9e0', 'message': ""Show service_status_updated in instance API\n\nA new field named ``service_status_updated`` is added to the instance\nAPI response which e.g. could be used to validate if the instance\n'HEALTHY' status is stale or not.\n\nChange-Id: Iabcfad81343a71304b843b3a7778486253220d20\n""}, {'number': 2, 'created': '2019-12-15 01:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a5159c5b31fa0992f1486b8f6bae653db48b31f7', 'message': ""Show service_status_updated in instance API\n\nA new field named ``service_status_updated`` is added to the instance\nAPI response which e.g. could be used to validate if the instance\n'HEALTHY' status is stale or not.\n\nChange-Id: Iabcfad81343a71304b843b3a7778486253220d20\n""}, {'number': 3, 'created': '2019-12-16 08:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/5c4ad25aa92f861c975f8d9f2ff83f2b61e01a42', 'message': ""Show service_status_updated in instance API\n\nA new field named ``service_status_updated`` is added to the instance\nAPI response which e.g. could be used to validate if the instance\n'HEALTHY' status is stale or not.\n\nChange-Id: Iabcfad81343a71304b843b3a7778486253220d20\n""}, {'number': 4, 'created': '2019-12-17 10:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/1e3f36af32d12140fd204d0895320645f9d6ad5e', 'message': ""Show service_status_updated in instance API\n\nA new field named ``service_status_updated`` is added to the instance\nAPI response which e.g. could be used to validate if the instance\n'HEALTHY' status is stale or not.\n\nChange-Id: Iabcfad81343a71304b843b3a7778486253220d20\n""}, {'number': 5, 'created': '2019-12-18 22:13:46.000000000', 'files': ['api-ref/source/parameters.yaml', 'releasenotes/notes/ussuri-03-add-service-status-updated.yaml', 'trove/instance/views.py', 'trove/instance/models.py', 'api-ref/source/samples/db-instance-status-detail-response.json', 'trove/tests/api/instances.py', 'api-ref/source/database-instances.inc'], 'web_link': 'https://opendev.org/openstack/trove/commit/75b9b686b1c4fa2be1be00ef390035da01e331eb', 'message': ""Show service_status_updated in instance API\n\nA new field named ``service_status_updated`` is added to the instance\nAPI response which e.g. could be used to validate if the instance\n'HEALTHY' status is stale or not.\n\nChange-Id: Iabcfad81343a71304b843b3a7778486253220d20\n""}]",0,699061,75b9b686b1c4fa2be1be00ef390035da01e331eb,38,2,5,6732,,,0,"Show service_status_updated in instance API

A new field named ``service_status_updated`` is added to the instance
API response which e.g. could be used to validate if the instance
'HEALTHY' status is stale or not.

Change-Id: Iabcfad81343a71304b843b3a7778486253220d20
",git fetch https://review.opendev.org/openstack/trove refs/changes/61/699061/5 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'releasenotes/notes/ussuri-03-add-service-status-updated.yaml', 'trove/instance/views.py', 'trove/instance/models.py', 'api-ref/source/samples/db-instance-status-detail-response.json', 'api-ref/source/database-instances.inc']",6,15eb9944962b19d11e719a4f1983c8eea8a5f9e0,updated-at, - service_status_updated: service_status_updated,,22,2
openstack%2Fkolla-ansible~master~I7b96f2b42a3e9e60ee0e2d516c731b7727948980,openstack/kolla-ansible,master,I7b96f2b42a3e9e60ee0e2d516c731b7727948980,Add a spec for Nova cells,ABANDONED,2018-11-08 17:56:15.000000000,2019-12-19 15:53:43.000000000,,"[{'_account_id': 782}, {'_account_id': 6488}, {'_account_id': 7488}, {'_account_id': 9076}, {'_account_id': 10273}, {'_account_id': 10343}, {'_account_id': 10910}, {'_account_id': 14826}, {'_account_id': 16006}, {'_account_id': 17669}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23717}, {'_account_id': 23942}, {'_account_id': 25314}, {'_account_id': 26285}, {'_account_id': 27866}, {'_account_id': 28614}, {'_account_id': 30356}]","[{'number': 1, 'created': '2018-11-08 17:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4781a9730ab5e07a1693658565e6cc28fa937999', 'message': 'Add a spec for Nova cells\n\nThis spec is based on the good work on cells v2 support which has\nalready been undertaken by the Kolla community. It serves as a strawman\nto help define exactly how cells support should be implemented in\nKolla-Ansible.\n\nChange-Id: I7b96f2b42a3e9e60ee0e2d516c731b7727948980\n'}, {'number': 2, 'created': '2018-11-08 18:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ac362f5822f321761184a39271bb1d6d20e4cad9', 'message': 'Add a spec for Nova cells\n\nThis spec is based on the good work that has already been undertaken\non cells v2 support by the Kolla community. It serves as a strawman\nto help define exactly how cells support should be implemented in\nKolla-Ansible.\n\nChange-Id: I7b96f2b42a3e9e60ee0e2d516c731b7727948980\n'}, {'number': 3, 'created': '2018-11-08 18:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9f25d5c8ce0d0a2239f8e6bc483a0b2fa8ad9a6f', 'message': 'Add a spec for Nova cells\n\nThis spec is based on the good work that has already been undertaken\non cells v2 support by the Kolla community. It serves as a strawman\nto help define exactly how cells support should be implemented in\nKolla-Ansible.\n\nChange-Id: I7b96f2b42a3e9e60ee0e2d516c731b7727948980\n'}, {'number': 4, 'created': '2018-11-09 15:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9af8924194440b7e0d7f7a6eeb35c460954b6763', 'message': 'Add a spec for Nova cells\n\nThis spec is based on the good work that has already been undertaken\non cells v2 support by the Kolla community. It serves as a strawman\nto help define exactly how cells support should be implemented in\nKolla-Ansible.\n\nChange-Id: I7b96f2b42a3e9e60ee0e2d516c731b7727948980\n'}, {'number': 5, 'created': '2018-11-13 07:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eb37400a943348fc4e912ad93c1836da5b137c3d', 'message': 'Add a spec for Nova cells\n\nThis spec is based on the good work that has already been undertaken\non cells v2 support by the Kolla community. It serves as a strawman\nto help define exactly how cells support should be implemented in\nKolla-Ansible.\n\nChange-Id: I7b96f2b42a3e9e60ee0e2d516c731b7727948980\n'}, {'number': 6, 'created': '2018-11-23 11:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a6bd8d9dd675b218189ef146d2200d91855318dc', 'message': 'Add a spec for Nova cells\n\nThis spec is based on the good work that has already been undertaken\non cells v2 support by the Kolla community. It serves as a strawman\nto help define exactly how cells support should be implemented in\nKolla-Ansible.\n\nChange-Id: I7b96f2b42a3e9e60ee0e2d516c731b7727948980\n'}, {'number': 7, 'created': '2018-11-23 11:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7c9d1551f8ce5ca6940f9e9b97a15ffdbc330f36', 'message': 'Add a spec for Nova cells\n\nThis spec is based on the good work that has already been undertaken\non cells v2 support by the Kolla community. It serves as a strawman\nto help define exactly how cells support should be implemented in\nKolla-Ansible.\n\nChange-Id: I7b96f2b42a3e9e60ee0e2d516c731b7727948980\n'}, {'number': 8, 'created': '2018-12-05 16:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a8a412ee43893969bbc2206b914ad4b4a094e3f8', 'message': 'Add a spec for Nova cells\n\nThis spec is based on the good work that has already been undertaken\non cells v2 support by the Kolla community. It serves as a strawman\nto help define exactly how cells support should be implemented in\nKolla-Ansible.\n\nChange-Id: I7b96f2b42a3e9e60ee0e2d516c731b7727948980\n'}, {'number': 9, 'created': '2018-12-05 16:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8859c46486d9f7492a4938bcc7645652178e5063', 'message': 'Add a spec for Nova cells\n\nThis spec is based on the good work that has already been undertaken\non cells v2 support by the Kolla community. It serves as a strawman\nto help define exactly how cells support should be implemented in\nKolla-Ansible.\n\nChange-Id: I7b96f2b42a3e9e60ee0e2d516c731b7727948980\n'}, {'number': 10, 'created': '2019-06-04 12:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/70be2f0423bdd080d855854000f84cdc395a9698', 'message': 'Add a spec for Nova cells\n\nThis spec is based on the good work that has already been undertaken\non cells v2 support by the Kolla community. It serves as a strawman\nto help define exactly how cells support should be implemented in\nKolla-Ansible.\n\nChange-Id: I7b96f2b42a3e9e60ee0e2d516c731b7727948980\n'}, {'number': 11, 'created': '2019-06-04 13:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ddc35e621cb813b859be1a2359fee123587cf6e7', 'message': 'Add a spec for Nova cells\n\nThis spec is based on the good work that has already been undertaken\non cells v2 support by the Kolla community. It serves as a strawman\nto help define exactly how cells support should be implemented in\nKolla-Ansible.\n\nChange-Id: I7b96f2b42a3e9e60ee0e2d516c731b7727948980\n'}, {'number': 12, 'created': '2019-07-03 12:30:55.000000000', 'files': ['specs/nova_cells.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ddd774141c3d31c2efa1a2b877ca3b190eeb6f8d', 'message': 'Add a spec for Nova cells\n\nThis spec is based on the good work that has already been undertaken\non cells v2 support by the Kolla community. It serves as a strawman\nto help define exactly how cells support should be implemented in\nKolla-Ansible.\n\nChange-Id: I7b96f2b42a3e9e60ee0e2d516c731b7727948980\n'}]",90,616645,ddd774141c3d31c2efa1a2b877ca3b190eeb6f8d,69,21,12,17669,,,0,"Add a spec for Nova cells

This spec is based on the good work that has already been undertaken
on cells v2 support by the Kolla community. It serves as a strawman
to help define exactly how cells support should be implemented in
Kolla-Ansible.

Change-Id: I7b96f2b42a3e9e60ee0e2d516c731b7727948980
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/45/616645/11 && git format-patch -1 --stdout FETCH_HEAD,['specs/nova_cells.rst'],1,4781a9730ab5e07a1693658565e6cc28fa937999,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/kolla/+spec/awesome-thing should be named awesome-thing.rst . Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None For help with syntax, see http://www.sphinx-doc.org/en/stable/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html ====================== Support for Nova cells ====================== https://blueprints.launchpad.net/kolla-ansible/+spec/support-nova-cells https://blueprints.launchpad.net/kolla-ansible/+spec/cellsv2-rabbitmq-support Nova cells facilitates scaling an OpenStack deployment beyond the point where a central database or message queue may become a bottleneck. By splitting the deployment into 'cells', each with it's own message queue and database, these bottlenecks can be removed. Problem description =================== Kolla-Ansible does not provide support for Nova cells which limits the size of the OpenStack deployments that it can manage. Use cases --------- 1. As an operator, I want to manage a 10,000 node OpenStack deployment with Kolla-Ansible. 2. As an operator, I do not want my entire control plane to go offline if a central message queue or database cluster fails. By splitting the deployment into 'cells' I can isolate failures. 3. As an operator of a small OpenStack deployment managed by Kolla-Ansible, I want a clear path for scaling my deployment if I need to in the future. Proposed change =============== Add support for scaling out a Kolla managed OpenStack deployment using Nova cells v2. The following high level functionality should be supported: * Nova * Support deploying a cluster of Nova services for each cell. Initially this will include nova-conductor and nova-compute. * The existing Nova API, conductor, scheduler and the placement API can remain on the control plane. The conductor will be promoted to a superconductor. * Messaging * Support optionally deploying a RabbitMQ cluster per cell * Support using a shared RabbitMQ cluster with vHosts * Support using mixtures of both of the above * Database * Support optionally deploying a database cluster per cell * Should not normally be hosted on the same nodes as the Nova compute services for security reasons. * Support optionally using an external database per cell * Support using mixtures of external databases and distinct clusters * HAProxy / Keepalived * Support deploying HAProxy/Keepalived for each cell * Used for providing a single point of access to, and for load balancing traffic across the cell database cluster and the Nova cell services. * Automatic deployment and registration of cells with the Nova API * Unique credentials per cell for database and message queues * Dedicated Kolla CLI command for discovering new hosts in cells Configuration ------------- Cells will be defined in `group_vars/all.yml` and groups of nodes will be defined in the inventory. For example, the following may be defined in `group_vars/all.yml`: ``` cells: - name: cell1 rabbitmq: group: cell1-infra database: group: cell1-infra haproxy: group: cell1-infra nova_compute: group: cell1-compute nova_conductor: group: cell1-compute - name: cell2 rabbitmq: group: rabbitmq-cluster vhost: cell2 port: 4567 username: foo password: bar database: name: cell2 address: https://10.0.0.1:1234 username: foo password: bar haproxy: group: cell2-haproxy nova_compute: group: cell2-nova-compute nova_conductor: group: cell2-nova-conductor ``` With the following example inventory: ``` ################ Cell 1 #################### [cell1-infra] infra1 [cell1-compute] compute1 compute2 compute3 ################ Cell 2 #################### [rabbit-cluster] rabbitmq1 rabbitmq2 rabbitmq3 [cell2-haproxy] infra2 infra3 [cell2-nova-compute] compute4 compute5 compute6 [cell2-nova-conductor] infra2 infra3 ############################################ ``` Out of scope ------------ The following are not part of this spec, but the implemenation should support adding them in the future: * Deploying baremetal machines with Ironic * Registering externally managed cells Security impact --------------- It will be possible to use a unique passphrase for each database and message queue cluster so that if an attacker gains access to one cluster, they will not automatically have access to all other clusters. Compared to a non-cells deployment this offers a modest improvement in security. Performance Impact ------------------ Since the default deployment of Nova is a cells configuration, nothing should change for existing users. The performance of large OpenStack deployments will improve since they will be able to take advantage of the Nova cells scaling concept. For these deployments, availability should improve because cells will be able to fail independently of each other. Alternatives ------------ Limit the size of OpenStack deployments to prevent the scaling issues solved by Nova cells from becoming apparent. Whilst some operators may be able to run multiple, smaller OpenStack deployments, this model is not suitable for everyone. Implementation ============== Assignee(s) ----------- Primary assignee: <launchpad-id or None> Milestones ---------- Target Milestone for completion: stein-2 (10th January 2019) Work Items ---------- * Support deploying a message queue per cell - A good start has been made here: https://review.openstack.org/#/c/569219 - Must be optional in case a user wants to use RabbitMQ vHosts * Support deploying a database per cell - Must be optional in case a user wants to use an external DB * Support deploying HAProxy/Keepalived per cell - For simplicty follow the existing model in Kolla where even if a single instance of a service is deployed it is made accessible via a VIP. * Support deploying Nova compute and Nova conductor per cell * Support automatic registration of cells with the Nova API * Document how cells are defined Testing ======= * Support deploying multiple Nova cells in the Kolla Vagrant development environment. This will aid development and fascilitate early testing. * Add a feature test in Zuul Documentation Impact ==================== Documentation will be extended to explain how Nova cells can be enabled. This will include a diagram. References ========== [1] https://docs.openstack.org/nova/latest/user/cells.html [2] https://www.openstack.org/videos/sydney-2017/adding-cellsv2-to-your-existing-nova-deployment [3] https://docs.openstack.org/nova/latest/user/cellsv2-layout.htm ",,226,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I81b788e38eecb3e0be88b140df3ae1ebb70cb191,openstack/tripleo-heat-templates,stable/queens,I81b788e38eecb3e0be88b140df3ae1ebb70cb191,Enable image import plugins & image output format,MERGED,2019-12-11 17:51:34.000000000,2019-12-19 15:40:48.000000000,2019-12-19 15:37:59.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 19138}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-11 17:51:34.000000000', 'files': ['releasenotes/notes/enable_image_conversion_parameters-740e5282385444c7.yaml', 'puppet/services/glance-api.yaml', 'docker/services/glance-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4ed38524500a9ac4227477c65e8577f3a09f24c1', 'message': 'Enable image import plugins & image output format\n\nAdding GlanceImageImportPlugins & GlanceImageConversionOutputFormat\nto enable glance image conversion.\n\nSince, glance-image-import.conf has been newly added while adding\nplugin framework in glance, passing the conf file to puppet_tags\nin docker service.\n\nDepends-on: I098aa0cabf2518b8861d5b58b885d9bdef54a7f6\nChange-Id: I81b788e38eecb3e0be88b140df3ae1ebb70cb191\nCloses-Bug: #1807366\n(cherry picked from commit 9333740b69f47f4bb1d5117398ddca715e1017ca)\n'}]",0,698558,4ed38524500a9ac4227477c65e8577f3a09f24c1,21,6,1,6796,,,0,"Enable image import plugins & image output format

Adding GlanceImageImportPlugins & GlanceImageConversionOutputFormat
to enable glance image conversion.

Since, glance-image-import.conf has been newly added while adding
plugin framework in glance, passing the conf file to puppet_tags
in docker service.

Depends-on: I098aa0cabf2518b8861d5b58b885d9bdef54a7f6
Change-Id: I81b788e38eecb3e0be88b140df3ae1ebb70cb191
Closes-Bug: #1807366
(cherry picked from commit 9333740b69f47f4bb1d5117398ddca715e1017ca)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/698558/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/enable_image_conversion_parameters-740e5282385444c7.yaml', 'puppet/services/glance-api.yaml', 'docker/services/glance-api.yaml']",3,4ed38524500a9ac4227477c65e8577f3a09f24c1,bug/1807366-stable/queens," puppet_tags: glance_api_config,glance_api_paste_ini,glance_swift_config,glance_cache_config,glance_image_import_config"," puppet_tags: glance_api_config,glance_api_paste_ini,glance_swift_config,glance_cache_config",20,1
openstack%2Ftripleo-common~stable%2Ftrain~Ia8a9517a3e505ad47266b90bbc90425b119a4ea5,openstack/tripleo-common,stable/train,Ia8a9517a3e505ad47266b90bbc90425b119a4ea5,Add horizon health check,MERGED,2019-12-13 19:35:40.000000000,2019-12-19 15:40:00.000000000,2019-12-19 15:37:57.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-13 19:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b3b3be6f192796d122069b65ab2a3bc2ac11c590', 'message': 'Add horizon health check\n\nThe health check has existed for some time but needs to be included in\nthe container.\n\nChange-Id: Ia8a9517a3e505ad47266b90bbc90425b119a4ea5\nRelated-Bug: #1856088\n(cherry picked from commit 4ee04749f72bb3f5f6151a3fbf6ded7953d333ec)\n'}, {'number': 2, 'created': '2019-12-17 12:08:52.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5c36331c2b9c895581af7cd0d325d9ec44ff8d8e', 'message': 'Add horizon health check\n\nThe health check has existed for some time but needs to be included in\nthe container.\n\nChange-Id: Ia8a9517a3e505ad47266b90bbc90425b119a4ea5\nRelated-Bug: #1856088\n(cherry picked from commit 4ee04749f72bb3f5f6151a3fbf6ded7953d333ec)\n'}]",0,699005,5c36331c2b9c895581af7cd0d325d9ec44ff8d8e,20,4,2,14985,,,0,"Add horizon health check

The health check has existed for some time but needs to be included in
the container.

Change-Id: Ia8a9517a3e505ad47266b90bbc90425b119a4ea5
Related-Bug: #1856088
(cherry picked from commit 4ee04749f72bb3f5f6151a3fbf6ded7953d333ec)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/05/699005/2 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,b3b3be6f192796d122069b65ab2a3bc2ac11c590,bug/1856088-stable/train,{# horizon #} {% block horizon_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/horizon /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} ,,9,0
openstack%2Fheat-translator~master~If199adbe6b3fe376e6fee941913360a414e62eab,openstack/heat-translator,master,If199adbe6b3fe376e6fee941913360a414e62eab,Switch to Ussuri jobs,MERGED,2019-10-25 02:30:52.000000000,2019-12-19 15:39:43.000000000,2019-12-19 15:36:21.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-25 02:30:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/4fd7fe0eaff2a221ccea06d659da431e8bf13f93', 'message': 'Switch to Ussuri jobs\n\nChange-Id: If199adbe6b3fe376e6fee941913360a414e62eab\n'}]",0,691152,4fd7fe0eaff2a221ccea06d659da431e8bf13f93,9,2,1,30092,,,0,"Switch to Ussuri jobs

Change-Id: If199adbe6b3fe376e6fee941913360a414e62eab
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/52/691152/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4fd7fe0eaff2a221ccea06d659da431e8bf13f93,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Ftrove~stable%2Ftrain~I92c15c065edf364b955f2243b3599e0b8cae8b4f,openstack/trove,stable/train,I92c15c065edf364b955f2243b3599e0b8cae8b4f,Use dedicated service credential config,MERGED,2019-12-18 21:32:50.000000000,2019-12-19 15:39:34.000000000,2019-12-19 15:34:28.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 21:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/6778940560383dda9791ef28adf8f3ca08273bd9', 'message': 'Use dedicated service credential config\n\nThe current admin credential config options are confusing\n\nChange-Id: I92c15c065edf364b955f2243b3599e0b8cae8b4f\n(cherry picked from commit f3bb46542baaed3eac1c0dfd625c1ce17feff043)\n'}, {'number': 2, 'created': '2019-12-19 00:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/c1bbe295fd5f6cf8405ef0ff28fd15442691c9ef', 'message': 'Use dedicated service credential config\n\nThe current admin credential config options are confusing\n\nChange-Id: I92c15c065edf364b955f2243b3599e0b8cae8b4f\n(cherry picked from commit f3bb46542baaed3eac1c0dfd625c1ce17feff043)\n'}, {'number': 3, 'created': '2019-12-19 00:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/219df8c19a80dc30901c4b003bea2b51fb82545f', 'message': 'Use dedicated service credential config\n\nThe current admin credential config options are confusing\n\nChange-Id: I92c15c065edf364b955f2243b3599e0b8cae8b4f\n(cherry picked from commit f3bb46542baaed3eac1c0dfd625c1ce17feff043)\n'}, {'number': 4, 'created': '2019-12-19 00:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/9ddd66778d4871adf9a233f72686028210b5935b', 'message': 'Use dedicated service credential config\n\nThe current admin credential config options are confusing\n\nChange-Id: I92c15c065edf364b955f2243b3599e0b8cae8b4f\n(cherry picked from commit f3bb46542baaed3eac1c0dfd625c1ce17feff043)\n'}, {'number': 5, 'created': '2019-12-19 02:39:54.000000000', 'files': ['trove/common/clients.py', 'trove/common/clients_admin.py', 'trove/instance/service.py', 'trove/common/strategies/storage/swift.py', 'trove/common/models.py', 'trove/backup/models.py', 'trove/extensions/mysql/models.py', 'trove/tests/unittests/cluster/test_redis_cluster.py', 'trove/cluster/models.py', 'trove/common/server_group.py', 'trove/taskmanager/manager.py', 'doc/source/install/install-manual.rst', 'trove/tests/unittests/cluster/test_vertica_cluster.py', 'trove/tests/unittests/instance/test_instance_models.py', 'trove/tests/unittests/taskmanager/test_models.py', 'trove/tests/unittests/mgmt/test_datastore_controller.py', 'tools/trove-pylint.config', 'trove/common/strategies/cluster/experimental/galera_common/taskmanager.py', 'trove/tests/unittests/mgmt/test_models.py', 'trove/taskmanager/models.py', 'trove/tests/unittests/mgmt/test_datastores.py', 'trove/network/neutron.py', 'trove/tests/unittests/cluster/test_galera_cluster.py', 'trove/tests/api/instances.py', 'trove/flavor/models.py', 'trove/tests/unittests/backup/test_backup_models.py', 'trove/tests/unittests/common/test_remote.py', 'trove/datastore/models.py', 'trove/common/strategies/cluster/experimental/mongodb/api.py', 'trove/common/trove_remote.py', 'trove/instance/models.py', 'trove/extensions/security_group/models.py', 'trove/common/neutron.py', 'trove/extensions/mgmt/upgrade/models.py', 'trove/common/cfg.py', 'trove/extensions/redis/models.py', 'trove/guestagent/guest_log.py', 'trove/network/nova.py', 'trove/common/glance_remote.py', 'trove/tests/unittests/volume_type/test_volume_type.py', 'devstack/plugin.sh', 'trove/tests/unittests/cluster/test_cluster.py', 'trove/extensions/common/models.py', 'trove/tests/unittests/cluster/test_models.py', 'trove/volume_type/models.py', 'trove/tests/unittests/datastore/test_datastore_version_metadata.py', 'trove/extensions/mgmt/datastores/service.py', 'trove/extensions/mgmt/instances/models.py', 'trove/tests/unittests/cluster/test_mongodb_cluster.py', 'trove/tests/unittests/guestagent/test_api.py', 'trove/db/sqlalchemy/migrate_repo/versions/039_region.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/775ec10c4f259f1075aaa761d1e3f6abc5a4c377', 'message': 'Use dedicated service credential config\n\nThe current admin credential config options are confusing\n\nChange-Id: I92c15c065edf364b955f2243b3599e0b8cae8b4f\n(cherry picked from commit f3bb46542baaed3eac1c0dfd625c1ce17feff043)\n'}]",0,699874,775ec10c4f259f1075aaa761d1e3f6abc5a4c377,11,2,5,6732,,,0,"Use dedicated service credential config

The current admin credential config options are confusing

Change-Id: I92c15c065edf364b955f2243b3599e0b8cae8b4f
(cherry picked from commit f3bb46542baaed3eac1c0dfd625c1ce17feff043)
",git fetch https://review.opendev.org/openstack/trove refs/changes/74/699874/3 && git format-patch -1 --stdout FETCH_HEAD,"['trove/common/clients.py', 'trove/common/clients_admin.py', 'trove/instance/service.py', 'trove/common/strategies/storage/swift.py', 'trove/common/models.py', 'trove/backup/models.py', 'trove/extensions/mysql/models.py', 'trove/tests/unittests/cluster/test_redis_cluster.py', 'trove/cluster/models.py', 'trove/common/server_group.py', 'trove/taskmanager/manager.py', 'doc/source/install/install-manual.rst', 'trove/tests/unittests/cluster/test_vertica_cluster.py', 'trove/tests/unittests/instance/test_instance_models.py', 'trove/tests/unittests/taskmanager/test_models.py', 'trove/tests/unittests/mgmt/test_datastore_controller.py', 'tools/trove-pylint.config', 'trove/common/strategies/cluster/experimental/galera_common/taskmanager.py', 'trove/tests/unittests/mgmt/test_models.py', 'trove/taskmanager/models.py', 'trove/tests/unittests/mgmt/test_datastores.py', 'trove/network/neutron.py', 'trove/tests/unittests/cluster/test_galera_cluster.py', 'trove/flavor/models.py', 'trove/tests/unittests/backup/test_backup_models.py', 'trove/tests/unittests/common/test_remote.py', 'trove/datastore/models.py', 'trove/common/strategies/cluster/experimental/mongodb/api.py', 'trove/common/trove_remote.py', 'trove/instance/models.py', 'trove/extensions/security_group/models.py', 'trove/common/neutron.py', 'trove/extensions/mgmt/upgrade/models.py', 'trove/common/cfg.py', 'trove/extensions/redis/models.py', 'trove/guestagent/guest_log.py', 'trove/network/nova.py', 'trove/common/glance_remote.py', 'trove/tests/unittests/volume_type/test_volume_type.py', 'devstack/plugin.sh', 'trove/tests/unittests/cluster/test_cluster.py', 'trove/extensions/common/models.py', 'trove/tests/unittests/cluster/test_models.py', 'trove/volume_type/models.py', 'trove/tests/unittests/datastore/test_datastore_version_metadata.py', 'trove/extensions/mgmt/datastores/service.py', 'trove/extensions/mgmt/instances/models.py', 'trove/tests/unittests/cluster/test_mongodb_cluster.py', 'trove/tests/unittests/guestagent/test_api.py', 'trove/db/sqlalchemy/migrate_repo/versions/039_region.py']",50,6778940560383dda9791ef28adf8f3ca08273bd9,train-admin-credential, instances.update().values( region_id=CONF.service_credentials.region_name).execute(), instances.update().values(region_id=CONF.os_region_name).execute(),407,1045
openstack%2Fproject-config~master~Ic1ce7c1d357ce2c121035d0feafd0fe965a63e6c,openstack/project-config,master,Ic1ce7c1d357ce2c121035d0feafd0fe965a63e6c,Retire remaining fuel repos (step 2),MERGED,2019-12-18 18:20:26.000000000,2019-12-19 15:38:05.000000000,2019-12-19 15:38:05.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 18:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1b643f46111ccd719c5050bb7dc8b2bd980bd705', 'message': 'Retire remaining fuel repos (step 2)\n\nAdd noop-jobs for x/fuel repos including x/network-checker where\nneeded so that they can get retired.\n\nAnnouncement:\nXXX\n\nChange-Id: Ic1ce7c1d357ce2c121035d0feafd0fe965a63e6c\n'}, {'number': 2, 'created': '2019-12-18 18:26:15.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a3f4b2ac4d5b67e8f12260aa75207d293a595629', 'message': 'Retire remaining fuel repos (step 2)\n\nAdd noop-jobs for x/fuel repos including x/network-checker where\nneeded so that they can get retired.\n\nAnnouncement:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-December/011675.html\n\nChange-Id: Ic1ce7c1d357ce2c121035d0feafd0fe965a63e6c\n'}]",0,699752,a3f4b2ac4d5b67e8f12260aa75207d293a595629,11,4,2,6547,,,0,"Retire remaining fuel repos (step 2)

Add noop-jobs for x/fuel repos including x/network-checker where
needed so that they can get retired.

Announcement:
http://lists.openstack.org/pipermail/openstack-discuss/2019-December/011675.html

Change-Id: Ic1ce7c1d357ce2c121035d0feafd0fe965a63e6c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/52/699752/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,1b643f46111ccd719c5050bb7dc8b2bd980bd705,retire-x-fuel, - noop-jobs - noop-jobs, - build-openstack-docs-pti - publish-to-pypi check: jobs: - openstack-tox-pep8 - openstack-tox-py27 gate: jobs: - openstack-tox-pep8 - openstack-tox-py27,2,10
openstack%2Fheat-agents~master~I846b43da43134ea92a2a3435585829ccf0416e54,openstack/heat-agents,master,I846b43da43134ea92a2a3435585829ccf0416e54,Install Ansible with pip,NEW,2018-12-07 10:50:17.000000000,2019-12-19 15:36:40.000000000,,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 25277}]","[{'number': 1, 'created': '2018-12-07 10:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/9f7ff529c34bbf904f3715127d4bca6b7ef74a1f', 'message': 'Install Ansible with pip\n\nFixes any problems with pip not being able to remove system packages\n(`python-yaml` for example) to install a newer version from pip.\n\nChange-Id: I846b43da43134ea92a2a3435585829ccf0416e54\nStory: 2004568\n'}, {'number': 2, 'created': '2019-01-31 15:21:32.000000000', 'files': ['heat-config-ansible/install.d/50-heat-config-hook-ansible'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/a5697485d9401ac54720dc6aa61630cead3de59c', 'message': 'Install Ansible with pip\n\nFixes any problems with pip not being able to remove system packages\n(`python-yaml` for example) to install a newer version from pip.\n\nChange-Id: I846b43da43134ea92a2a3435585829ccf0416e54\nStory: 2004568\nTask: 28333\n'}]",3,623445,a5697485d9401ac54720dc6aa61630cead3de59c,14,6,2,25277,,,0,"Install Ansible with pip

Fixes any problems with pip not being able to remove system packages
(`python-yaml` for example) to install a newer version from pip.

Change-Id: I846b43da43134ea92a2a3435585829ccf0416e54
Story: 2004568
Task: 28333
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/45/623445/2 && git format-patch -1 --stdout FETCH_HEAD,['heat-config-ansible/install.d/50-heat-config-hook-ansible'],1,9f7ff529c34bbf904f3715127d4bca6b7ef74a1f,pd/2004568,install-packages pip pip install -U ansible==2.4,install-packages ansible,2,1
openstack%2Ftrove~stable%2Ftrain~I4c08fe8b90e4b2879eb937aebc9d53789698f58d,openstack/trove,stable/train,I4c08fe8b90e4b2879eb937aebc9d53789698f58d,Use stable/train for trovestack pip constraints,MERGED,2019-12-19 00:24:56.000000000,2019-12-19 15:36:28.000000000,2019-12-19 15:34:27.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-19 00:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/87f5cfc55d5f4a3d7f5d21e0f958183c22c9e1f7', 'message': 'Use stable/train for trovestack pip constraints\n\nChange-Id: I4c08fe8b90e4b2879eb937aebc9d53789698f58d\n'}, {'number': 2, 'created': '2019-12-19 00:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/c8c3b775b535406dc17a4468c834c3a92fd9072f', 'message': 'Use stable/train for trovestack pip constraints\n\nUse stable/train branch for python-troveclient\n\nChange-Id: I4c08fe8b90e4b2879eb937aebc9d53789698f58d\n'}, {'number': 3, 'created': '2019-12-19 00:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/dd69878c9b9531791b36dd7bcad5137e2a16629a', 'message': 'Use stable/train for trovestack pip constraints\n\nUse stable/train branch for python-troveclient\n\nChange-Id: I4c08fe8b90e4b2879eb937aebc9d53789698f58d\n'}, {'number': 4, 'created': '2019-12-19 00:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/aa69c42448c7317194d22e921bab29d52ac7eac0', 'message': 'Use stable/train for trovestack pip constraints\n\nUse stable/train branch for python-troveclient\n\nChange-Id: I4c08fe8b90e4b2879eb937aebc9d53789698f58d\n'}, {'number': 5, 'created': '2019-12-19 02:39:54.000000000', 'files': ['test-upper-constraints.txt', 'trove/tests/scenario/runners/guest_log_runners.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/trove/commit/38b6f5ef705c158476375896d0cd38a5a2145e87', 'message': 'Use stable/train for trovestack pip constraints\n\n- Use stable/train branch for python-troveclient\n- Fix the log publish related test cases\n\nChange-Id: I4c08fe8b90e4b2879eb937aebc9d53789698f58d\n'}]",0,699889,38b6f5ef705c158476375896d0cd38a5a2145e87,13,2,5,6732,,,0,"Use stable/train for trovestack pip constraints

- Use stable/train branch for python-troveclient
- Fix the log publish related test cases

Change-Id: I4c08fe8b90e4b2879eb937aebc9d53789698f58d
",git fetch https://review.opendev.org/openstack/trove refs/changes/89/699889/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,87f5cfc55d5f4a3d7f5d21e0f958183c22c9e1f7,train-admin-credential, -chttps://releases.openstack.org/constraints/upper/train, -chttps://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt,1,1
openstack%2Fmagnum~master~Icdcd1255e7e08d68a5d31672b21127f781d6ac68,openstack/magnum,master,Icdcd1255e7e08d68a5d31672b21127f781d6ac68,Make it possible to use uwsgi easily,MERGED,2019-05-17 09:28:07.000000000,2019-12-19 15:25:52.000000000,2019-12-05 19:43:00.000000000,"[{'_account_id': 6476}, {'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-05-17 09:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/11a02836d9d4c4b86535c2c8e76f2cd1654a8f0a', 'message': ""Make it possible to use uwsgi easily\n\nThis patch adds a standard /usr/bin/magnum-api-uwsgi script, which we can\nuse from uwsgi. Without this patch, there's no way to load the application\ncorrectly, with parameters on the command line.\n\nChange-Id: Icdcd1255e7e08d68a5d31672b21127f781d6ac68\n""}, {'number': 2, 'created': '2019-09-27 18:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/82b1cb0411efe68f7eae94c10babe609eb3ead0e', 'message': ""Make it possible to use uwsgi easily\n\nThis patch adds a standard /usr/bin/magnum-api-uwsgi script, which we can\nuse from uwsgi. Without this patch, there's no way to load the application\ncorrectly, with parameters on the command line.\n\nChange-Id: Icdcd1255e7e08d68a5d31672b21127f781d6ac68\n""}, {'number': 3, 'created': '2019-11-22 11:05:50.000000000', 'files': ['magnum/api/app.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/magnum/commit/0d39f3535d674d221a976a251dd85f95af44981d', 'message': ""Make it possible to use uwsgi easily\n\nThis patch adds a standard /usr/bin/magnum-api-uwsgi script, which we can\nuse from uwsgi. Without this patch, there's no way to load the application\ncorrectly, with parameters on the command line.\n\nChange-Id: Icdcd1255e7e08d68a5d31672b21127f781d6ac68\n""}]",1,659764,0d39f3535d674d221a976a251dd85f95af44981d,14,5,3,6476,,,0,"Make it possible to use uwsgi easily

This patch adds a standard /usr/bin/magnum-api-uwsgi script, which we can
use from uwsgi. Without this patch, there's no way to load the application
correctly, with parameters on the command line.

Change-Id: Icdcd1255e7e08d68a5d31672b21127f781d6ac68
",git fetch https://review.opendev.org/openstack/magnum refs/changes/64/659764/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/api/app.py', 'setup.cfg']",2,11a02836d9d4c4b86535c2c8e76f2cd1654a8f0a,,wsgi_scripts = magnum-api-wsgi = magnum.api.app:build_wsgi_app ,,10,0
openstack%2Fhorizon~master~Ia4ea513023895f4ad2a87f91e3d2837c7668d9ae,openstack/horizon,master,Ia4ea513023895f4ad2a87f91e3d2837c7668d9ae,Add support to get disk_formats from glance,MERGED,2019-11-25 10:36:00.000000000,2019-12-19 15:22:02.000000000,2019-12-19 15:19:56.000000000,"[{'_account_id': 841}, {'_account_id': 1004}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-11-25 10:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3e6682fef602c8f96acc996e3971f1b22f3356ff', 'message': 'Add support to get disk_formats from glance\n\nThis patch allows administrators to set disk_formats only for glance,\nwhile horizon will retrieve list of supported formats from glance API.\nIMAGE_BACKEND_SETTINGS still may be used to redefine display name\nof the format or additionally limit list of availble ones.\n\nChange-Id: Ia4ea513023895f4ad2a87f91e3d2837c7668d9ae\nCloses-Bug: 1853822\n'}, {'number': 2, 'created': '2019-11-25 16:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7f9dc5af126f886853ab36d41b9ad53784f19b31', 'message': 'Add support to get disk_formats from glance\n\nThis patch allows administrators to set disk_formats only for glance,\nwhile horizon will retrieve list of supported formats from glance API.\nIMAGE_BACKEND_SETTINGS still may be used to redefine display name\nof the format or additionally limit list of availble ones.\n\nChange-Id: Ia4ea513023895f4ad2a87f91e3d2837c7668d9ae\nCloses-Bug: 1853822\n'}, {'number': 3, 'created': '2019-11-26 11:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/34656cc33087643b048b9d29c5387e323aa1eefa', 'message': 'Add support to get disk_formats from glance\n\nThis patch allows administrators to set disk_formats only for glance,\nwhile horizon will retrieve list of supported formats from glance API.\nIMAGE_BACKEND_SETTINGS still may be used to redefine display name\nof the format or additionally limit list of availble ones.\n\nChange-Id: Ia4ea513023895f4ad2a87f91e3d2837c7668d9ae\nCloses-Bug: 1853822\n'}, {'number': 4, 'created': '2019-11-27 12:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f94dd24bac719ab56d4b209f1f49c34ca6caf3f3', 'message': 'Add support to get disk_formats from glance\n\nThis patch allows administrators to set disk_formats only for glance,\nwhile horizon will retrieve list of supported formats from glance API.\nIMAGE_BACKEND_SETTINGS still may be used to redefine display name\nof the format or additionally limit list of availble ones.\n\nChange-Id: Ia4ea513023895f4ad2a87f91e3d2837c7668d9ae\nCloses-Bug: 1853822\n'}, {'number': 5, 'created': '2019-11-27 12:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6b4e8e400c2a5a7c028e366b90f78cdb66b8b79f', 'message': 'Add support to get disk_formats from glance\n\nThis patch allows administrators to set disk_formats only for glance,\nwhile horizon will retrieve list of supported formats from glance API.\nIMAGE_BACKEND_SETTINGS still may be used to redefine display name\nof the format or additionally limit list of availble ones.\n\nChange-Id: Ia4ea513023895f4ad2a87f91e3d2837c7668d9ae\nCloses-Bug: 1853822\n'}, {'number': 6, 'created': '2019-11-27 13:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2be27037f00ee9a5ca0e72e2c476c889a1e7d466', 'message': 'Add support to get disk_formats from glance\n\nThis patch allows administrators to set disk_formats only for glance,\nwhile horizon will retrieve list of supported formats from glance API.\nIMAGE_BACKEND_SETTINGS still may be used to redefine display name\nof the format or additionally limit list of availble ones.\n\nChange-Id: Ia4ea513023895f4ad2a87f91e3d2837c7668d9ae\nCloses-Bug: 1853822\n'}, {'number': 7, 'created': '2019-12-09 17:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ea0ebf1695135b1db770d3199e05c06cf8044920', 'message': 'Add support to get disk_formats from glance\n\nThis patch allows administrators to set disk_formats only for glance,\nwhile horizon will retrieve list of supported formats from glance API.\nIMAGE_BACKEND_SETTINGS still may be used to redefine display name\nof the format or additionally limit list of availble ones.\n\nChange-Id: Ia4ea513023895f4ad2a87f91e3d2837c7668d9ae\nCloses-Bug: 1853822\n'}, {'number': 8, 'created': '2019-12-10 17:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/41056278deae6c9b74d575e0ffae7cffc86ea336', 'message': 'Add support to get disk_formats from glance\n\nThis patch allows administrators to set disk_formats only for glance,\nwhile horizon will retrieve list of supported formats from glance API.\nIMAGE_BACKEND_SETTINGS still may be used to redefine display name\nof the format or additionally limit list of availble ones.\n\nChange-Id: Ia4ea513023895f4ad2a87f91e3d2837c7668d9ae\nCloses-Bug: 1853822\n'}, {'number': 9, 'created': '2019-12-11 17:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/eb19c295c1d79c626e9d9d4a27525f7bf045a9a3', 'message': 'Add support to get disk_formats from glance\n\nThis patch allows administrators to set disk_formats only for glance,\nwhile horizon will retrieve list of supported formats from glance API.\nIMAGE_BACKEND_SETTINGS still may be used to redefine display name\nof the format or additionally limit list of availble ones.\n\nChange-Id: Ia4ea513023895f4ad2a87f91e3d2837c7668d9ae\nCloses-Bug: 1853822\n'}, {'number': 10, 'created': '2019-12-11 18:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d6ca02aeda6f5c17b98eeb79b283e46a314e0d93', 'message': 'Add support to get disk_formats from glance\n\nThis patch allows administrators to set disk_formats only for glance,\nwhile horizon will retrieve list of supported formats from glance API.\nIMAGE_BACKEND_SETTINGS still may be used to redefine display name\nof the format or additionally limit list of availble ones.\n\nChange-Id: Ia4ea513023895f4ad2a87f91e3d2837c7668d9ae\nCloses-Bug: 1853822\n'}, {'number': 11, 'created': '2019-12-11 21:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e71cc52baa745efd66ea6e3b03b105a8020c3971', 'message': 'Add support to get disk_formats from glance\n\nThis patch allows administrators to set disk_formats only for glance,\nwhile horizon will retrieve list of supported formats from glance API.\nIMAGE_BACKEND_SETTINGS still may be used to redefine display name\nof the format or additionally limit list of availble ones.\n\nChange-Id: Ia4ea513023895f4ad2a87f91e3d2837c7668d9ae\nCloses-Bug: 1853822\n'}, {'number': 12, 'created': '2019-12-17 12:57:02.000000000', 'files': ['openstack_dashboard/test/unit/api/rest/test_config.py', 'openstack_dashboard/dashboards/admin/images/tests.py', 'openstack_dashboard/dashboards/project/images/images/tests.py', 'openstack_dashboard/dashboards/project/images/images/forms.py', 'openstack_dashboard/settings.py', 'openstack_dashboard/api/rest/config.py', 'releasenotes/notes/glance_disk_formats-a13cb994a2d5c1fe.yaml', 'openstack_dashboard/dashboards/project/volumes/tests.py', 'openstack_dashboard/test/test_data/glance_data.py', 'openstack_dashboard/test/unit/api/test_glance.py', 'openstack_dashboard/api/glance.py', 'openstack_dashboard/dashboards/project/volumes/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/04a3535e184dddb8ece828b94d44f589b02a3b94', 'message': 'Add support to get disk_formats from glance\n\nThis patch allows administrators to set disk_formats only for glance,\nwhile horizon will retrieve list of supported formats from glance API.\nIMAGE_BACKEND_SETTINGS still may be used to redefine display name\nof the format or additionally limit list of availble ones.\n\nChange-Id: Ia4ea513023895f4ad2a87f91e3d2837c7668d9ae\nCloses-Bug: 1853822\n'}]",11,695877,04a3535e184dddb8ece828b94d44f589b02a3b94,43,7,12,28619,,,0,"Add support to get disk_formats from glance

This patch allows administrators to set disk_formats only for glance,
while horizon will retrieve list of supported formats from glance API.
IMAGE_BACKEND_SETTINGS still may be used to redefine display name
of the format or additionally limit list of availble ones.

Change-Id: Ia4ea513023895f4ad2a87f91e3d2837c7668d9ae
Closes-Bug: 1853822
",git fetch https://review.opendev.org/openstack/horizon refs/changes/77/695877/12 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/api/rest/config.py', 'releasenotes/notes/glance_disk_formats-a13cb994a2d5c1fe.yaml', 'openstack_dashboard/dashboards/project/images/images/forms.py', 'openstack_dashboard/settings.py', 'openstack_dashboard/api/glance.py', 'openstack_dashboard/dashboards/project/volumes/forms.py']",6,3e6682fef602c8f96acc996e3971f1b22f3356ff,disk_formats, glance_schemas = glance.get_image_schemas(request) glance_formats = glance_schemas['properties']['disk_format']['enum'] if value in VALID_DISK_FORMATS and value in glance_formats], if value in VALID_DISK_FORMATS],43,10
openstack%2Ftripleo-common~master~I9aa39fbe7509bb4eea6174afd83febd23606f2e0,openstack/tripleo-common,master,I9aa39fbe7509bb4eea6174afd83febd23606f2e0,Make ()'s around step|int optional,MERGED,2019-12-12 21:01:07.000000000,2019-12-19 15:21:11.000000000,2019-12-19 15:18:52.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-12 21:01:07.000000000', 'files': ['tripleo_common/utils/config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4e8e9a494f0bd76f8c085cda2d8828f069f5a92a', 'message': ""Make ()'s around step|int optional\n\nWhen computing the per step tasks, the step|int expression is sometimes\nenclosed in parens. This commit updates the regular expression to\naccount for those.\n\nChange-Id: I9aa39fbe7509bb4eea6174afd83febd23606f2e0\n""}]",0,698804,4e8e9a494f0bd76f8c085cda2d8828f069f5a92a,14,4,1,7144,,,0,"Make ()'s around step|int optional

When computing the per step tasks, the step|int expression is sometimes
enclosed in parens. This commit updates the regular expression to
account for those.

Change-Id: I9aa39fbe7509bb4eea6174afd83febd23606f2e0
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/04/698804/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/config.py'],1,4e8e9a494f0bd76f8c085cda2d8828f069f5a92a,," # ()'s around step|int are also optional match = re.search(r'\(?step(\|int)?\)? == ([0-9]+)$', ""%s"" % w)"," match = re.search(r'step(\|int)? == ([0-9]+)$', ""%s"" % w)",2,1
openstack%2Fopenstack-ansible-os_nova~stable%2Fstein~Icd1fe43c9fa3ab16f9bdaf0a2cb60854c0e15e97,openstack/openstack-ansible-os_nova,stable/stein,Icd1fe43c9fa3ab16f9bdaf0a2cb60854c0e15e97,Make nova_novncproxy use BUMPs,MERGED,2019-12-15 10:44:13.000000000,2019-12-19 15:10:15.000000000,2019-12-19 15:08:53.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-12-15 10:44:13.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/f2deb01e6a310025fd21f031c4775b83b0bca5c9', 'message': 'Make nova_novncproxy use BUMPs\n\nWe have a lock of VNC version inside repo_packages [1]. We should\ntry using it as otherwise this may result in broken console\n\n[1] https://opendev.org/openstack/openstack-ansible/src/branch/stable/stein/playbooks/defaults/repo_packages/nova_consoles.yml#L33\n\nChange-Id: Icd1fe43c9fa3ab16f9bdaf0a2cb60854c0e15e97\n(cherry picked from commit 1de7b24e701bda75e0fc1d019510f71f16608502)\n'}]",0,699113,f2deb01e6a310025fd21f031c4775b83b0bca5c9,10,4,1,28619,,,0,"Make nova_novncproxy use BUMPs

We have a lock of VNC version inside repo_packages [1]. We should
try using it as otherwise this may result in broken console

[1] https://opendev.org/openstack/openstack-ansible/src/branch/stable/stein/playbooks/defaults/repo_packages/nova_consoles.yml#L33

Change-Id: Icd1fe43c9fa3ab16f9bdaf0a2cb60854c0e15e97
(cherry picked from commit 1de7b24e701bda75e0fc1d019510f71f16608502)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/13/699113/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,f2deb01e6a310025fd21f031c4775b83b0bca5c9,,"nova_novncproxy_git_repo: ""{{ novncproxy_git_repo | default('https://github.com/novnc/noVNC') }}"" nova_novncproxy_git_install_branch: ""{{ novncproxy_git_install_branch | default('master') }}""",nova_novncproxy_git_repo: https://github.com/novnc/noVNC nova_novncproxy_git_install_branch: master,2,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id856f035d30b19abb1424ea03ce28765566f34ff,openstack/tripleo-heat-templates,stable/train,Id856f035d30b19abb1424ea03ce28765566f34ff,Enable additional Swift healtchecks,MERGED,2019-12-13 12:56:11.000000000,2019-12-19 15:07:12.000000000,2019-12-19 15:05:28.000000000,"[{'_account_id': 3153}, {'_account_id': 6968}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-12-13 12:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b08e9e11f23ed4176cef649b665af1622ad46826', 'message': 'Enable additional Swift healtchecks\n\nChange-Id: Id856f035d30b19abb1424ea03ce28765566f34ff\n(cherry picked from commit 3ae7fb610d5a5dd967ae0656c4bdc5e977c65995)\n'}, {'number': 2, 'created': '2019-12-19 02:57:32.000000000', 'files': ['deployment/swift/swift-storage-container-puppet.yaml', 'releasenotes/notes/swift-additional-healthchecks-c286f7b7116e6543.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/63de4d066ea05fa174c0eb02182207f1111ab71f', 'message': 'Enable additional Swift healtchecks\n\nChange-Id: Id856f035d30b19abb1424ea03ce28765566f34ff\n(cherry picked from commit 3ae7fb610d5a5dd967ae0656c4bdc5e977c65995)\n'}]",0,698896,63de4d066ea05fa174c0eb02182207f1111ab71f,38,6,2,3153,,,0,"Enable additional Swift healtchecks

Change-Id: Id856f035d30b19abb1424ea03ce28765566f34ff
(cherry picked from commit 3ae7fb610d5a5dd967ae0656c4bdc5e977c65995)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/698896/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/swift/swift-storage-container-puppet.yaml', 'releasenotes/notes/swift-additional-healthchecks-c286f7b7116e6543.yaml']",2,b08e9e11f23ed4176cef649b665af1622ad46826,,"--- features: - | Enabling additional healtchecks for Swift to monitor account, container and object replicators as well as the rsync process. ",,13,0
openstack%2Fkolla~stable%2Ftrain~I0fad2261fbc97fa3ad92e4c7b9167cbbb424d236,openstack/kolla,stable/train,I0fad2261fbc97fa3ad92e4c7b9167cbbb424d236,Bump versions for Openstack train,MERGED,2019-12-19 08:59:48.000000000,2019-12-19 15:05:41.000000000,2019-12-19 15:03:52.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-12-19 08:59:48.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/582fe930005165f2d7345c3330b8c36135ddc556', 'message': 'Bump versions for Openstack train\n\nChange-Id: I0fad2261fbc97fa3ad92e4c7b9167cbbb424d236\n'}]",0,699936,582fe930005165f2d7345c3330b8c36135ddc556,15,5,1,24072,,,0,"Bump versions for Openstack train

Change-Id: I0fad2261fbc97fa3ad92e4c7b9167cbbb424d236
",git fetch https://review.opendev.org/openstack/kolla refs/changes/36/699936/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,582fe930005165f2d7345c3330b8c36135ddc556,," 'bifrost-7.1.0.tar.gz')}, 'octavia-5.0.1.tar.gz')},"," 'bifrost-7.0.0.tar.gz')}, 'octavia-5.0.0.tar.gz')},",2,2
openstack%2Fneutron-fwaas-dashboard~master~I1dca0bfbdc44186fffcbe757a142c930f5bc14b4,openstack/neutron-fwaas-dashboard,master,I1dca0bfbdc44186fffcbe757a142c930f5bc14b4,Add neutron-fwaas-dashboard integration tests,MERGED,2019-04-09 15:15:04.000000000,2019-12-19 14:57:51.000000000,2019-12-19 14:54:07.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-04-09 15:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/ef16fc95340faaebf1013bb08ba8f1164a716f67', 'message': 'Add neutron-fwaas-dashboard integration tests\n\nThis patch adds basic tests to verify that neutron-fwaas-dashboard\nis installed and could be opened.\n\nAlso it removes oslotest which is not used.\n\nneutron-fwaas-dashboard job is added in a non-voting mode.\n\nChange-Id: I1dca0bfbdc44186fffcbe757a142c930f5bc14b4\n'}, {'number': 2, 'created': '2019-04-09 15:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/4aa2e0e4da00fd847140e72f6aeec605934e8dcc', 'message': 'Add neutron-fwaas-dashboard integration tests\n\nThis patch adds basic tests to verify that neutron-fwaas-dashboard\nis installed and could be opened.\n\nAlso it removes oslotest which is not used.\n\nneutron-fwaas-dashboard job is added in a non-voting mode.\n\nChange-Id: I1dca0bfbdc44186fffcbe757a142c930f5bc14b4\n'}, {'number': 3, 'created': '2019-04-09 15:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/9629c5ea6a131124cbac0d58c9dcdf78c94d2aed', 'message': 'Add neutron-fwaas-dashboard integration tests\n\nThis patch adds basic tests to verify that neutron-fwaas-dashboard\nis installed and could be opened.\n\nAlso it removes oslotest which is not used.\n\nneutron-fwaas-dashboard job is added in a non-voting mode.\n\nChange-Id: I1dca0bfbdc44186fffcbe757a142c930f5bc14b4\n'}, {'number': 4, 'created': '2019-04-09 15:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/58df892c6129815c59c779a440525330d6a5e8af', 'message': 'Add neutron-fwaas-dashboard integration tests\n\nThis patch adds basic tests to verify that neutron-fwaas-dashboard\nis installed and could be opened.\n\nAlso it removes oslotest which is not used.\n\nneutron-fwaas-dashboard job is added in a non-voting mode.\n\nChange-Id: I1dca0bfbdc44186fffcbe757a142c930f5bc14b4\n'}, {'number': 5, 'created': '2019-04-09 15:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/656971a4fcca0c87609eaaf8cb99bbc529ff5a69', 'message': 'Add neutron-fwaas-dashboard integration tests\n\nThis patch adds basic tests to verify that neutron-fwaas-dashboard\nis installed and could be opened.\n\nAlso it removes oslotest which is not used.\n\nneutron-fwaas-dashboard job is added in a non-voting mode.\n\nChange-Id: I1dca0bfbdc44186fffcbe757a142c930f5bc14b4\n'}, {'number': 6, 'created': '2019-10-14 22:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/66782443b613fb35fe2d2bfb046c2524d624675a', 'message': 'Add neutron-fwaas-dashboard integration tests\n\nThis patch adds basic tests to verify that neutron-fwaas-dashboard\nis installed and could be opened.\n\nAlso it removes oslotest which is not used.\n\nneutron-fwaas-dashboard job is added in a non-voting mode.\n\nChange-Id: I1dca0bfbdc44186fffcbe757a142c930f5bc14b4\n'}, {'number': 7, 'created': '2019-10-15 12:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/5e020ac61e6f6f571854756d9be69c5eaffb5cda', 'message': 'Add neutron-fwaas-dashboard integration tests\n\nThis patch adds basic tests to verify that neutron-fwaas-dashboard\nis installed and could be opened.\n\nAlso it removes oslotest which is not used.\n\nneutron-fwaas-dashboard job is added in a non-voting mode.\n\nChange-Id: I1dca0bfbdc44186fffcbe757a142c930f5bc14b4\n'}, {'number': 8, 'created': '2019-10-15 13:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/f31781ec2b604d1d83e7fb2a9391cab084f5ba13', 'message': 'Add neutron-fwaas-dashboard integration tests\n\nThis patch adds basic tests to verify that neutron-fwaas-dashboard\nis installed and could be opened.\n\nAlso it removes oslotest which is not used.\n\nneutron-fwaas-dashboard job is added in a non-voting mode.\n\nChange-Id: I1dca0bfbdc44186fffcbe757a142c930f5bc14b4\n'}, {'number': 9, 'created': '2019-10-15 13:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/b992490dc8ddbbd01d02e2cf273910da4404baa2', 'message': 'Add neutron-fwaas-dashboard integration tests\n\nThis patch adds basic tests to verify that neutron-fwaas-dashboard\nis installed and could be opened.\n\nAlso it removes oslotest which is not used.\n\nneutron-fwaas-dashboard job is added in a non-voting mode.\n\nChange-Id: I1dca0bfbdc44186fffcbe757a142c930f5bc14b4\n'}, {'number': 10, 'created': '2019-10-21 14:35:08.000000000', 'files': ['test-requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'neutron_fwaas_dashboard/test/integration/pages/project/network/firewallgroupspage.py', 'neutron_fwaas_dashboard/test/integration/pages/__init__.py', 'neutron_fwaas_dashboard/test/integration/pages/project/network/__init__.py', 'neutron_fwaas_dashboard/test/integration/test_basic.py', 'bindep.txt', 'neutron_fwaas_dashboard/test/integration/horizon.conf', 'neutron_fwaas_dashboard/test/integration/__init__.py', 'tox.ini', 'neutron_fwaas_dashboard/test/integration/pages/project/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/725e1ac496711b7bca0543a852740a82cdd9a21c', 'message': 'Add neutron-fwaas-dashboard integration tests\n\nThis patch adds basic tests to verify that neutron-fwaas-dashboard\nis installed and could be opened.\n\nAlso this patch decoupless sphinx vesrions for Python 2.7 and 3.x\nto fix gates.\n\nneutron-fwaas-dashboard job is added in a non-voting mode.\n\nChange-Id: I1dca0bfbdc44186fffcbe757a142c930f5bc14b4\n'}]",6,651271,725e1ac496711b7bca0543a852740a82cdd9a21c,32,5,10,1736,,,0,"Add neutron-fwaas-dashboard integration tests

This patch adds basic tests to verify that neutron-fwaas-dashboard
is installed and could be opened.

Also this patch decoupless sphinx vesrions for Python 2.7 and 3.x
to fix gates.

neutron-fwaas-dashboard job is added in a non-voting mode.

Change-Id: I1dca0bfbdc44186fffcbe757a142c930f5bc14b4
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/71/651271/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas_dashboard/test/integration/test_basic.py', 'bindep.txt', 'test-requirements.txt', '.zuul.yaml', 'neutron_fwaas_dashboard/test/integration/horizon.conf', 'neutron_fwaas_dashboard/test/integration/pages/project/network/firewallgroupspage.py', 'neutron_fwaas_dashboard/test/integration/__init__.py', 'tox.ini', 'neutron_fwaas_dashboard/test/integration/pages/__init__.py', 'neutron_fwaas_dashboard/test/integration/pages/project/__init__.py', 'neutron_fwaas_dashboard/test/integration/pages/project/network/__init__.py']",11,ef16fc95340faaebf1013bb08ba8f1164a716f67,integration-test,,,93,0
openstack%2Fkolla-cli~master~I42fafe72a54bf9089180ad5e15baa68a193bea44,openstack/kolla-cli,master,I42fafe72a54bf9089180ad5e15baa68a193bea44,Switch to Ussuri jobs,ABANDONED,2019-10-23 07:40:22.000000000,2019-12-19 14:56:43.000000000,,"[{'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-23 07:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/5250b77d5b6f63be4301ed5a9f23fc632555e44c', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I42fafe72a54bf9089180ad5e15baa68a193bea44\n'}, {'number': 2, 'created': '2019-12-19 14:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/8fb5b854ddfeedb4e8385d0da7aa35b973e2c4b6', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I42fafe72a54bf9089180ad5e15baa68a193bea44\n'}]",0,690486,8fb5b854ddfeedb4e8385d0da7aa35b973e2c4b6,5,2,2,27822,,,0,"Switch to Ussuri jobs

Change-Id: I42fafe72a54bf9089180ad5e15baa68a193bea44
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/86/690486/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5250b77d5b6f63be4301ed5a9f23fc632555e44c,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fpython-tackerclient~master~I41fa78a7fb5fabd0839caa29545efae1e0b4329c,openstack/python-tackerclient,master,I41fa78a7fb5fabd0839caa29545efae1e0b4329c,Update json module to jsonutils,ABANDONED,2019-02-25 11:14:07.000000000,2019-12-19 14:54:15.000000000,,"[{'_account_id': 18955}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-02-25 11:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/02fea48d6ae961918fd3e5f1c3dc5daf5d344897', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and tackerclient use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/python-tackerclient/search?q=jsonutils&unscoped_q=jsonutils\n\nChange-Id: I41fa78a7fb5fabd0839caa29545efae1e0b4329c\n'}, {'number': 2, 'created': '2019-02-25 11:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/746b84454db52a5ac55241215ac7fcec51cd9983', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and tackerclient use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/python-tackerclient/search?q=jsonutils&unscoped_q=jsonutils\n\nChange-Id: I41fa78a7fb5fabd0839caa29545efae1e0b4329c\n'}, {'number': 3, 'created': '2019-02-27 15:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/2ec9ddf2d5439fd1b6fb2a7cd935d0d052029b7d', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and tackerclient use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/python-tackerclient/search?q=jsonutils&unscoped_q=jsonutils\n\nChange-Id: I41fa78a7fb5fabd0839caa29545efae1e0b4329c\n'}, {'number': 4, 'created': '2019-03-07 00:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/8bf276613146c8f41f084fad8151362015db81f9', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and tackerclient use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/python-tackerclient/search?q=jsonutils&unscoped_q=jsonutils\n\nChange-Id: I41fa78a7fb5fabd0839caa29545efae1e0b4329c\n'}, {'number': 5, 'created': '2019-03-09 02:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/1299974447efb11233d17d8f0e57595c2e7784e1', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and tackerclient use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/python-tackerclient/search?q=jsonutils&unscoped_q=jsonutils\n\nChange-Id: I41fa78a7fb5fabd0839caa29545efae1e0b4329c\n'}, {'number': 6, 'created': '2019-03-21 15:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/98e95d254eae936445a57da156147f9539303187', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and tackerclient use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/python-tackerclient/search?q=jsonutils&unscoped_q=jsonutils\n\nChange-Id: I41fa78a7fb5fabd0839caa29545efae1e0b4329c\n'}, {'number': 7, 'created': '2019-05-02 14:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/80b00517c78a560af4863793553a227b8e161e9b', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and tackerclient use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/python-tackerclient/search?q=jsonutils&unscoped_q=jsonutils\n\nChange-Id: I41fa78a7fb5fabd0839caa29545efae1e0b4329c\n'}, {'number': 8, 'created': '2019-08-09 06:11:20.000000000', 'files': ['tackerclient/client.py', 'tackerclient/tests/unit/test_auth.py'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/d8f7c2373e632d9a4107b42cc00027624ea98036', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and tackerclient use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/python-tackerclient/search?q=jsonutils&unscoped_q=jsonutils\n\nChange-Id: I41fa78a7fb5fabd0839caa29545efae1e0b4329c\n'}]",3,639061,d8f7c2373e632d9a4107b42cc00027624ea98036,26,4,8,22165,,,0,"Update json module to jsonutils

oslo project provide jsonutils, and tackerclient use it in many place[1],
this PS to update the remained json module to oslo jsonutils for
consistency.

[1]: https://github.com/openstack/python-tackerclient/search?q=jsonutils&unscoped_q=jsonutils

Change-Id: I41fa78a7fb5fabd0839caa29545efae1e0b4329c
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/61/639061/1 && git format-patch -1 --stdout FETCH_HEAD,"['tackerclient/client.py', 'tackerclient/tests/unit/test_auth.py']",2,02fea48d6ae961918fd3e5f1c3dc5daf5d344897,,"from oslo_serialization import jsonutils mock_request.return_value = (resp_200, jsonutils.dumps(KS_TOKEN_RESULT)) mock_request.return_value = (resp_200, jsonutils.dumps(KS_TOKEN_RESULT)) mock_request.return_value = (resp_200, jsonutils.dumps(ENDPOINTS_RESULT)) mock_request.return_value = (resp_200, jsonutils.dumps(ENDPOINTS_RESULT)) mock_request.return_value = (resp_200, jsonutils.dumps(KS_TOKEN_RESULT))","import json mock_request.return_value = (resp_200, json.dumps(KS_TOKEN_RESULT)) mock_request.return_value = (resp_200, json.dumps(KS_TOKEN_RESULT)) mock_request.return_value = (resp_200, json.dumps(ENDPOINTS_RESULT)) mock_request.return_value = (resp_200, json.dumps(ENDPOINTS_RESULT)) mock_request.return_value = (resp_200, json.dumps(KS_TOKEN_RESULT))",12,13
openstack%2Fbarbican-tempest-plugin~master~Id77976164ed9504da2ecb89189e92c7943682b2d,openstack/barbican-tempest-plugin,master,Id77976164ed9504da2ecb89189e92c7943682b2d,Update json module to jsonutils,ABANDONED,2019-02-24 14:53:55.000000000,2019-12-19 14:53:55.000000000,,"[{'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28614}, {'_account_id': 28743}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-02-24 14:53:55.000000000', 'files': ['barbican_tempest_plugin/services/key_manager/json/order_client.py', 'requirements.txt', 'barbican_tempest_plugin/services/key_manager/json/secret_metadata_client.py', 'barbican_tempest_plugin/services/key_manager/json/quota_client.py', 'barbican_tempest_plugin/services/key_manager/json/consumer_client.py', 'barbican_tempest_plugin/services/key_manager/json/container_client.py', 'barbican_tempest_plugin/services/key_manager/json/secret_client.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/32074bacc785dce5ec80e7d1c71cae00519310fd', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and the others use it in many place,\nthis PS to update the json moudule to oslo jsonutils for consistency.\n\nChange-Id: Id77976164ed9504da2ecb89189e92c7943682b2d\n'}]",0,638964,32074bacc785dce5ec80e7d1c71cae00519310fd,9,7,1,22165,,,0,"Update json module to jsonutils

oslo project provide jsonutils, and the others use it in many place,
this PS to update the json moudule to oslo jsonutils for consistency.

Change-Id: Id77976164ed9504da2ecb89189e92c7943682b2d
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/64/638964/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican_tempest_plugin/services/key_manager/json/order_client.py', 'requirements.txt', 'barbican_tempest_plugin/services/key_manager/json/secret_metadata_client.py', 'barbican_tempest_plugin/services/key_manager/json/quota_client.py', 'barbican_tempest_plugin/services/key_manager/json/consumer_client.py', 'barbican_tempest_plugin/services/key_manager/json/container_client.py', 'barbican_tempest_plugin/services/key_manager/json/secret_client.py']",7,32074bacc785dce5ec80e7d1c71cae00519310fd,,from oslo_serialization import jsonutils as json ,import json,8,8
openstack%2Fzaqar-tempest-plugin~master~I66622fa7d9a99af302e9a7fcac48bf17a458ac8a,openstack/zaqar-tempest-plugin,master,I66622fa7d9a99af302e9a7fcac48bf17a458ac8a,Update json module to jsonutils,ABANDONED,2019-02-24 15:00:53.000000000,2019-12-19 14:53:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 25540}, {'_account_id': 27078}, {'_account_id': 27781}, {'_account_id': 28614}, {'_account_id': 28743}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-02-24 15:00:53.000000000', 'files': ['zaqar_tempest_plugin/tests/v2/test_subscriptions.py'], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/c6b7b4f6fa69a76b9b86dea8b1fc20a7f68ccff3', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and zaqar-tempest-plugin use it\nin many place[1], this PS to update the remained json moudule to\noslo jsonutils for consistency.\n\n[1]: https://github.com/openstack/zaqar-tempest-plugin/search?utf8=%E2%9C%93&q=jsonutils&type=\n\nChange-Id: I66622fa7d9a99af302e9a7fcac48bf17a458ac8a\n'}]",0,638966,c6b7b4f6fa69a76b9b86dea8b1fc20a7f68ccff3,9,7,1,22165,,,0,"Update json module to jsonutils

oslo project provide jsonutils, and zaqar-tempest-plugin use it
in many place[1], this PS to update the remained json moudule to
oslo jsonutils for consistency.

[1]: https://github.com/openstack/zaqar-tempest-plugin/search?utf8=%E2%9C%93&q=jsonutils&type=

Change-Id: I66622fa7d9a99af302e9a7fcac48bf17a458ac8a
",git fetch https://review.opendev.org/openstack/zaqar-tempest-plugin refs/changes/66/638966/1 && git format-patch -1 --stdout FETCH_HEAD,['zaqar_tempest_plugin/tests/v2/test_subscriptions.py'],1,c6b7b4f6fa69a76b9b86dea8b1fc20a7f68ccff3,,from oslo_serialization import jsonutils as json,import json ,1,2
openstack%2Fpython-cyborgclient~master~I747e3d396997f8c30df32602abd217c98d8a1895,openstack/python-cyborgclient,master,I747e3d396997f8c30df32602abd217c98d8a1895,Update json module to jsonutils,ABANDONED,2019-02-24 15:49:08.000000000,2019-12-19 14:53:37.000000000,,"[{'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28614}, {'_account_id': 28743}, {'_account_id': 30356}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-02-24 15:49:08.000000000', 'files': ['cyborgclient/common/httpclient.py', 'cyborgclient/tests/unit/common/test_httpclient.py'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/9758fe804ad532a809306f1580759f15fbd453a4', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and ironic-tempest-plugin use it\nin many place[1], this PS to update the remained json moudule to\noslo jsonutils for consistency.\n\n[1]: https://github.com/openstack/python-cyborgclient/search?utf8=%E2%9C%93&q=jsonutils&type=\n\nChange-Id: I747e3d396997f8c30df32602abd217c98d8a1895\n'}]",0,638974,9758fe804ad532a809306f1580759f15fbd453a4,9,7,1,22165,,,0,"Update json module to jsonutils

oslo project provide jsonutils, and ironic-tempest-plugin use it
in many place[1], this PS to update the remained json moudule to
oslo jsonutils for consistency.

[1]: https://github.com/openstack/python-cyborgclient/search?utf8=%E2%9C%93&q=jsonutils&type=

Change-Id: I747e3d396997f8c30df32602abd217c98d8a1895
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/74/638974/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborgclient/common/httpclient.py', 'cyborgclient/tests/unit/common/test_httpclient.py']",2,9758fe804ad532a809306f1580759f15fbd453a4,,from oslo_serialization import jsonutils raw_error_body = jsonutils.dumps(error_body) raw_body = jsonutils.dumps(body),import json raw_error_body = json.dumps(error_body) raw_body = json.dumps(body),9,10
openstack%2Fmanila-tempest-plugin~master~I1b772fb22ccd69e133e59635a7fa7afbe20edb2a,openstack/manila-tempest-plugin,master,I1b772fb22ccd69e133e59635a7fa7afbe20edb2a,Update json module to jsonutils,ABANDONED,2019-02-24 14:35:52.000000000,2019-12-19 14:53:19.000000000,,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 27781}, {'_account_id': 28614}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-02-24 14:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/165a7fbb5c0a11c56bec71ebd583385849fc50f3', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and the others use it\nin many place, this PS to update the json moudule to\noslo jsonutils for consistency.\n\nChange-Id: I1b772fb22ccd69e133e59635a7fa7afbe20edb2a\n'}, {'number': 2, 'created': '2019-03-22 08:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/29aa1473b0462db2ecb93a002203780f4e6476b0', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and the others use it\nin many place, this PS to update the json module to\noslo jsonutils for consistency.\n\nChange-Id: I1b772fb22ccd69e133e59635a7fa7afbe20edb2a\n'}, {'number': 3, 'created': '2019-07-05 05:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/36c1553d0d539b3e383aedb079df9b2be61d0f8b', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and the others use it\nin many place, this PS to update the json module to\noslo jsonutils for consistency.\n\nChange-Id: I1b772fb22ccd69e133e59635a7fa7afbe20edb2a\n'}, {'number': 4, 'created': '2019-07-05 05:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/1120976a6deda15d622b810b163be5e635593f15', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and the others use it\nin many place, this PS to update the json module to\noslo jsonutils for consistency.\n\nChange-Id: I1b772fb22ccd69e133e59635a7fa7afbe20edb2a\n'}, {'number': 5, 'created': '2019-07-05 06:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/939bd2c39f3eb077a0d53beff0305c9386d0dda8', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and the others use it\nin many place, this PS to update the json module to\noslo jsonutils for consistency.\n\nChange-Id: I1b772fb22ccd69e133e59635a7fa7afbe20edb2a\n'}, {'number': 6, 'created': '2019-07-05 08:08:37.000000000', 'files': ['requirements.txt', 'manila_tempest_tests/services/share/json/shares_client.py', 'manila_tempest_tests/services/share/v2/json/shares_client.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/ae171512d9d3a9f2a92fe90e8f07910bcaceca41', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and the others use it\nin many place, this PS to update the json module to\noslo jsonutils for consistency.\n\nChange-Id: I1b772fb22ccd69e133e59635a7fa7afbe20edb2a\n'}]",0,638960,ae171512d9d3a9f2a92fe90e8f07910bcaceca41,17,6,6,22165,,,0,"Update json module to jsonutils

oslo project provide jsonutils, and the others use it
in many place, this PS to update the json module to
oslo jsonutils for consistency.

Change-Id: I1b772fb22ccd69e133e59635a7fa7afbe20edb2a
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/60/638960/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'manila_tempest_tests/services/share/json/shares_client.py', 'README.rst', 'HACKING.rst', 'manila_tempest_tests/services/share/v2/json/shares_client.py']",5,165a7fbb5c0a11c56bec71ebd583385849fc50f3,,from oslo_serialization import jsonutils as json ,import json,8,5
openstack%2Fpython-adjutantclient~master~I9628fc83415e433596755a759cd6a1c506ff9beb,openstack/python-adjutantclient,master,I9628fc83415e433596755a759cd6a1c506ff9beb,Update json module to jsonutils,ABANDONED,2019-02-24 15:32:38.000000000,2019-12-19 14:52:20.000000000,,"[{'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28614}, {'_account_id': 28743}, {'_account_id': 30356}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-02-24 15:32:38.000000000', 'files': ['adjutantclient/osc/v1/notifications.py', 'adjutantclient/osc/v1/signup.py', 'adjutantclient/osc/v1/tasks.py', 'adjutantclient/osc/v1/status.py', 'adjutantclient/osc/v1/tokens.py'], 'web_link': 'https://opendev.org/openstack/python-adjutantclient/commit/2aff69c3d72971301815c27656c81b5eef599d66', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and python-adjutantclient use it\nin many place[1], this PS to update the remained json moudule to\noslo jsonutils for consistency.\n\n[1]: https://github.com/openstack/python-adjutantclient/search?utf8=%E2%9C%93&q=jsonutils&type=\n\nChange-Id: I9628fc83415e433596755a759cd6a1c506ff9beb\n'}]",0,638969,2aff69c3d72971301815c27656c81b5eef599d66,9,7,1,22165,,,0,"Update json module to jsonutils

oslo project provide jsonutils, and python-adjutantclient use it
in many place[1], this PS to update the remained json moudule to
oslo jsonutils for consistency.

[1]: https://github.com/openstack/python-adjutantclient/search?utf8=%E2%9C%93&q=jsonutils&type=

Change-Id: I9628fc83415e433596755a759cd6a1c506ff9beb
",git fetch https://review.opendev.org/openstack/python-adjutantclient refs/changes/69/638969/1 && git format-patch -1 --stdout FETCH_HEAD,"['adjutantclient/osc/v1/notifications.py', 'adjutantclient/osc/v1/signup.py', 'adjutantclient/osc/v1/status.py', 'adjutantclient/osc/v1/tasks.py', 'adjutantclient/osc/v1/tokens.py']",5,2aff69c3d72971301815c27656c81b5eef599d66,,"from oslo_serialization import jsonutils parsed_args.token, jsonutils.loads(parsed_args.data))","import json parsed_args.token, json.loads(parsed_args.data))",19,14
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Ftrain~Iaece64d474cbc2ccb2b0cd0e5d6a3ff8ccb7c541,openstack/openstack-ansible-openstack_hosts,stable/train,Iaece64d474cbc2ccb2b0cd0e5d6a3ff8ccb7c541,Update OpenStack code name to Train,MERGED,2019-12-17 16:11:47.000000000,2019-12-19 14:50:15.000000000,2019-12-19 14:47:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25591}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-12-17 16:11:47.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/a10d98e40165388064d898d1f32b50ae2d7959dc', 'message': 'Update OpenStack code name to Train\n\nChange-Id: Iaece64d474cbc2ccb2b0cd0e5d6a3ff8ccb7c541\n'}]",0,699446,a10d98e40165388064d898d1f32b50ae2d7959dc,10,4,1,22018,,,0,"Update OpenStack code name to Train

Change-Id: Iaece64d474cbc2ccb2b0cd0e5d6a3ff8ccb7c541
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/46/699446/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,a10d98e40165388064d898d1f32b50ae2d7959dc,,"openstack_distrib_code_name: ""Train""","openstack_distrib_code_name: ""Stein""",1,1
openstack%2Foslotest~master~I11fa7a1de736dd615878572942bcfd9e7fb45211,openstack/oslotest,master,I11fa7a1de736dd615878572942bcfd9e7fb45211,tox: Keeping going with docs,ABANDONED,2019-10-24 06:10:43.000000000,2019-12-19 14:48:55.000000000,,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 17130}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-24 06:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslotest/commit/1f6e9e54a6aac7f2d9045caeae53696b7ba6201b', 'message': 'tox: Keeping going with docs\n\nChange-Id: I11fa7a1de736dd615878572942bcfd9e7fb45211\n'}, {'number': 2, 'created': '2019-10-24 06:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslotest/commit/ae74f7dff094370617d575488d2203f1e978a6f0', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I11fa7a1de736dd615878572942bcfd9e7fb45211\n""}, {'number': 3, 'created': '2019-11-14 02:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslotest/commit/543901395bd751e18800aef3f1a192a9c774ec18', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I11fa7a1de736dd615878572942bcfd9e7fb45211\n""}, {'number': 4, 'created': '2019-11-15 08:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslotest/commit/b551129271d2ccb0e8d1e79afcc720aed3fcb399', 'message': 'tox: Keeping going with docs\n\n1. Sphinx 1.8 introduced [1] the \'--keep-going\' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n2. Clean ""python setup.py build_sphinx"" up and use ""sphinx-build""\nconsistently[2]\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n[2] https://governance.openstack.org/tc/reference/project-testing-interface.html#documentation\n\nChange-Id: I11fa7a1de736dd615878572942bcfd9e7fb45211\n'}, {'number': 5, 'created': '2019-11-15 08:45:30.000000000', 'files': ['doc/source/reference/index.rst', 'test-requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/2bcd6e1a108e8ab87e58034c207e63adf00a2a2b', 'message': 'tox: Keeping going with docs\n\n1. Sphinx 1.8 introduced [1] the \'--keep-going\' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n2. Clean ""python setup.py build_sphinx"" up and use ""sphinx-build""\nconsistently[2]\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n[2] https://governance.openstack.org/tc/reference/project-testing-interface.html#documentation\n\nChange-Id: I11fa7a1de736dd615878572942bcfd9e7fb45211\n'}]",6,690828,2bcd6e1a108e8ab87e58034c207e63adf00a2a2b,24,7,5,22165,,,0,"tox: Keeping going with docs

1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

2. Clean ""python setup.py build_sphinx"" up and use ""sphinx-build""
consistently[2]

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045
[2] https://governance.openstack.org/tc/reference/project-testing-interface.html#documentation

Change-Id: I11fa7a1de736dd615878572942bcfd9e7fb45211
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/28/690828/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'tox.ini']",3,1f6e9e54a6aac7f2d9045caeae53696b7ba6201b,,commands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html,commands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,4,4
openstack%2Freleases~master~I18034724c0ec4a6a14f6b66808365e69df660dc6,openstack/releases,master,I18034724c0ec4a6a14f6b66808365e69df660dc6,"Neutron stable releases (Rocky, Stein, Train)",MERGED,2019-12-13 15:55:28.000000000,2019-12-19 14:42:54.000000000,2019-12-19 14:26:32.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-13 15:55:28.000000000', 'files': ['deliverables/train/neutron.yaml', 'deliverables/stein/neutron.yaml', 'deliverables/rocky/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b5fecf3830cf727fd15ff29ce8534d3e2a7f99bd', 'message': 'Neutron stable releases (Rocky, Stein, Train)\n\nTo go along with Ussuri-1 milestone\n\nChange-Id: I18034724c0ec4a6a14f6b66808365e69df660dc6\n'}]",0,698942,b5fecf3830cf727fd15ff29ce8534d3e2a7f99bd,11,4,1,21798,,,0,"Neutron stable releases (Rocky, Stein, Train)

To go along with Ussuri-1 milestone

Change-Id: I18034724c0ec4a6a14f6b66808365e69df660dc6
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/698942/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/neutron.yaml', 'deliverables/stein/neutron.yaml', 'deliverables/rocky/neutron.yaml']",3,b5fecf3830cf727fd15ff29ce8534d3e2a7f99bd,neutron-stable-u1, - projects: - hash: 22250e783b194b9d188268c0d301581d73bd430d repo: openstack/neutron version: 13.0.6,,12,0
openstack%2Fnova~master~Iec61f56c05e06924def814a3a6e09ceb91a15894,openstack/nova,master,Iec61f56c05e06924def814a3a6e09ceb91a15894,Add functional tests for virtual persistent memory,MERGED,2019-08-26 06:45:20.000000000,2019-12-19 14:41:00.000000000,2019-09-27 19:10:56.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23598}, {'_account_id': 26515}, {'_account_id': 28614}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-26 06:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98b0b9e8f4a69264aa0b0e61705983974f5be64c', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 2, 'created': '2019-08-26 12:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b3e301324c7ddd0107bcadea0fa02ac3b5de9337', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 3, 'created': '2019-08-27 09:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ffde0781d0cd9b82f407a55caea72e698a1632be', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 4, 'created': '2019-08-28 05:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7c0f88c37bfa65b5435fb4c51f78da75890713c', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 5, 'created': '2019-08-28 10:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2e36099ec8a250a89c2bf25f9a4ae02257370b2', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 6, 'created': '2019-08-28 11:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b38854df5bdc6a075c3f789dd2308c9b4cfde6b', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 7, 'created': '2019-08-29 03:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db52bfa4fc8b06d9f555a94d597b40f9fc788c4f', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 8, 'created': '2019-08-30 09:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8342c2e32c8d7c619471a282f2b7db9618b84b9c', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 9, 'created': '2019-08-30 09:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/56cf6a192344030de05b02d60a797fc9f8029c91', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 10, 'created': '2019-08-30 10:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a9d8e75eb3d452dbfda91b69d19a21a04c4029b', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 11, 'created': '2019-09-02 07:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ae18963dee21f2bc25f6c4699c825002c9a6a38', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 12, 'created': '2019-09-02 13:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ff8fa926c5d1ed0b8ae896aad0a4b4d29412743', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 13, 'created': '2019-09-03 06:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/445d060cad26898840b0253f9183e9d72766b70a', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 14, 'created': '2019-09-04 12:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0bbbe490d4c2ee4ce9c0960531ee4a30a6b3cef9', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 15, 'created': '2019-09-04 14:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0707681ce74f81941c2721b8a98bdf320fb16235', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 16, 'created': '2019-09-04 15:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d59411f3ad37da6d721e5c5a625c0f7294ac6da', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 17, 'created': '2019-09-04 15:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de7f41f853eddac58c1488b3800bd8ef0993f013', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 18, 'created': '2019-09-05 06:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b71e6d2a6939eae27a2b29218c4c403f9723f42', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 19, 'created': '2019-09-05 10:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7e2b4de63738e0e3b58ffefd31721cca5d144d4', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 20, 'created': '2019-09-05 11:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/301857129fd6995d9e5a1862abbbf08002334cfd', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 21, 'created': '2019-09-06 10:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf5f3d578a3af17c1468158b52865b203785fd99', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 22, 'created': '2019-09-06 10:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/841f5533b89deee57cd988b42b93ed086f5db1d3', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 23, 'created': '2019-09-06 10:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97f20d9a52cbe25dce1d3a4f636eb3b46e2c7a6e', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 24, 'created': '2019-09-09 08:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b80725a3587fd919760ba9d2aeba9d128c981149', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 25, 'created': '2019-09-10 07:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab0645ea561c8cdf72de139f7059cb7ffe3e4c17', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 26, 'created': '2019-09-10 14:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c57699cd3655d03d1f5cb3e0a519a42c8cb47dd', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 27, 'created': '2019-09-10 14:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54146ad1cbdc32dd80de2d82bdbae592d69d692f', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 28, 'created': '2019-09-11 08:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bf1279391c39b28bd70d0c5cc118c944d4db508', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 29, 'created': '2019-09-11 08:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77f438a8ee593edea1689bb862dfce0f38b6b8a1', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 30, 'created': '2019-09-11 11:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ecd86da8c0adbf005b052b95c41c1a9fdd587020', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 31, 'created': '2019-09-11 13:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f8f20614d7f356acae50fc1f544dfe8ec0e4ea9', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 32, 'created': '2019-09-11 16:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7c18f372ab21fce81677b3db8eb78473847e9b0', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 33, 'created': '2019-09-11 16:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d83031de05c0802c5305e81d40cdb3a7deeb394', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 34, 'created': '2019-09-11 18:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78126466481b98bdfdd199200f114e312ff9ee2b', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 35, 'created': '2019-09-11 20:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f6532fba68211eed47b948b58fe65a8e69fc789', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 36, 'created': '2019-09-12 03:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2eeef18c994784b1124a546a19f15d52715dd798', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 37, 'created': '2019-09-12 04:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90598cc4f4d87057a8a7c2e52a813001151a07d8', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 38, 'created': '2019-09-12 05:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d0e0b008f29637505de57fdd9cab81a22c39fb2', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 39, 'created': '2019-09-12 06:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e85ed182b2d4879750717b4c661a97ab2b098e1d', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 40, 'created': '2019-09-12 07:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d7c5192d76a8c21932629e6087ddb1e3cd4f33a7', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 41, 'created': '2019-09-12 08:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a8db87893fd8e45157b0792dd38f1f64a0f3b10', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 42, 'created': '2019-09-12 21:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4fda4399da62bc7935b9554f437b2bcc11937028', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 43, 'created': '2019-09-27 09:14:08.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/libvirt/test_vpmem.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/198573976fa6bebc6d046bd608b4319b7fce93ac', 'message': 'Add functional tests for virtual persistent memory\n\nChange-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}]",36,678470,198573976fa6bebc6d046bd608b4319b7fce93ac,238,14,43,23598,,,0,"Add functional tests for virtual persistent memory

Change-Id: Iec61f56c05e06924def814a3a6e09ceb91a15894
Partially-Implements: blueprint virtual-persistent-memory
Co-Authored-By: He Jie Xu <hejie.xu@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/678470/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_vpmem.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py']",2,98b0b9e8f4a69264aa0b0e61705983974f5be64c,bp/virtual-persistent-memory,FAKE_QEMU_VERSION = 3001000,FAKE_QEMU_VERSION = 2008000,238,1
openstack%2Fhorizon~stable%2Fstein~I2b174ef3231956037650eba19aebe5989dffa617,openstack/horizon,stable/stein,I2b174ef3231956037650eba19aebe5989dffa617,Cap hacking version to <2,MERGED,2019-12-19 11:58:26.000000000,2019-12-19 14:16:45.000000000,2019-12-19 14:13:51.000000000,"[{'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-19 11:58:26.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/horizon/commit/1f1ac980ef9ee288a2e8ff27fba2e80cdb12d611', 'message': 'Cap hacking version to <2\n\nHacking 2.0.0 and its dependencies like flake8 have incompatible changes\nand bumping to them leads to pep8 check failure.\nIt is good to address pep8 warnings in the master branch, but in case of\nstable branches it is good to continue to use the same version of hacking.\nThis commit is proposed to the master branch so that it can be backported.\n\nChange-Id: I2b174ef3231956037650eba19aebe5989dffa617\n(cherry picked from commit 7a7558b0583fa84f73d5ecb81204cbb76b0ef0e5)\n'}]",0,699961,1f1ac980ef9ee288a2e8ff27fba2e80cdb12d611,8,3,1,841,,,0,"Cap hacking version to <2

Hacking 2.0.0 and its dependencies like flake8 have incompatible changes
and bumping to them leads to pep8 check failure.
It is good to address pep8 warnings in the master branch, but in case of
stable branches it is good to continue to use the same version of hacking.
This commit is proposed to the master branch so that it can be backported.

Change-Id: I2b174ef3231956037650eba19aebe5989dffa617
(cherry picked from commit 7a7558b0583fa84f73d5ecb81204cbb76b0ef0e5)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/61/699961/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1f1ac980ef9ee288a2e8ff27fba2e80cdb12d611,cap-hacking-stable/stein,"hacking>=1.1.0,<2 # Apache-2.0",hacking>=1.1.0 # Apache-2.0,1,1
openstack%2Fhorizon~stable%2Ftrain~I2b174ef3231956037650eba19aebe5989dffa617,openstack/horizon,stable/train,I2b174ef3231956037650eba19aebe5989dffa617,Cap hacking version to <2,MERGED,2019-12-16 18:15:54.000000000,2019-12-19 13:53:29.000000000,2019-12-19 13:51:31.000000000,"[{'_account_id': 841}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-12-16 18:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/268021f514f2016d21d560b894e5064c9f2c0404', 'message': 'Cap hacking version to <2\n\nHacking 2.0.0 and its dependencies like flake8 have incompatible changes\nand bumping to them leads to pep8 check failure.\nIt is good to address pep8 warnings in the master branch, but in case of\nstable branches it is good to continue to use the same version of hacking.\nThis commit is proposed to the master branch so that it can be backported.\n\nChange-Id: I2b174ef3231956037650eba19aebe5989dffa617\n'}, {'number': 2, 'created': '2019-12-16 18:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f8019690b6771b669034d3885004f231071d072b', 'message': 'Cap hacking version to <2\n\nHacking 2.0.0 and its dependencies like flake8 have incompatible changes\nand bumping to them leads to pep8 check failure.\nIt is good to address pep8 warnings in the master branch, but in case of\nstable branches it is good to continue to use the same version of hacking.\nThis commit is proposed to the master branch so that it can be backported.\n\nChange-Id: I2b174ef3231956037650eba19aebe5989dffa617\n\ncherry picked from commit I2b174ef3231956037650eba19aebe5989dffa617\n'}, {'number': 3, 'created': '2019-12-17 03:54:14.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a5b4a3527151e247edf48bf913d6389df86a9576', 'message': 'Cap hacking version to <2\n\nHacking 2.0.0 and its dependencies like flake8 have incompatible changes\nand bumping to them leads to pep8 check failure.\nIt is good to address pep8 warnings in the master branch, but in case of\nstable branches it is good to continue to use the same version of hacking.\nThis commit is proposed to the master branch so that it can be backported.\n\nChange-Id: I2b174ef3231956037650eba19aebe5989dffa617\n(cherry picked from commit 7a7558b0583fa84f73d5ecb81204cbb76b0ef0e5)\n'}]",3,699268,a5b4a3527151e247edf48bf913d6389df86a9576,14,4,3,29313,,,0,"Cap hacking version to <2

Hacking 2.0.0 and its dependencies like flake8 have incompatible changes
and bumping to them leads to pep8 check failure.
It is good to address pep8 warnings in the master branch, but in case of
stable branches it is good to continue to use the same version of hacking.
This commit is proposed to the master branch so that it can be backported.

Change-Id: I2b174ef3231956037650eba19aebe5989dffa617
(cherry picked from commit 7a7558b0583fa84f73d5ecb81204cbb76b0ef0e5)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/68/699268/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,268021f514f2016d21d560b894e5064c9f2c0404,cap-hacking-stable/train,"hacking>=1.1.0,<2 # Apache-2.0",hacking>=1.1.0 # Apache-2.0,1,1
openstack%2Ftrove~master~Ic1d4982a479c2154d7ddcc807d863e2a37fea506,openstack/trove,master,Ic1d4982a479c2154d7ddcc807d863e2a37fea506,Support PostgreSQL 12,MERGED,2019-12-15 06:26:09.000000000,2019-12-19 13:43:15.000000000,2019-12-19 13:41:14.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-15 06:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/fe3669f52a142c4136c62ed6c102e6b0a73151f4', 'message': 'Support PostgreSQL 12\n\nChange-Id: Ic1d4982a479c2154d7ddcc807d863e2a37fea506\n'}, {'number': 2, 'created': '2019-12-16 08:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d5c93175a295545e327dbcb2af3724373297e068', 'message': 'Support PostgreSQL 12\n\nChange-Id: Ic1d4982a479c2154d7ddcc807d863e2a37fea506\n'}, {'number': 3, 'created': '2019-12-17 10:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/4c6edf202e1c9306d53c9d862ebc872b83ecf198', 'message': 'Support PostgreSQL 12\n\nChange-Id: Ic1d4982a479c2154d7ddcc807d863e2a37fea506\n'}, {'number': 4, 'created': '2019-12-18 22:13:32.000000000', 'files': ['integration/scripts/files/elements/ubuntu-postgresql/install.d/30-postgresql', 'devstack/plugin.sh', 'integration/scripts/files/elements/ubuntu-xenial-postgresql/install.d/31-fix-init-script', 'integration/scripts/files/elements/ubuntu-postgresql/pre-install.d/10-postgresql-repo'], 'web_link': 'https://opendev.org/openstack/trove/commit/72524f9d856dd715242d9d96116f8238a95c048b', 'message': 'Support PostgreSQL 12\n\nChange-Id: Ic1d4982a479c2154d7ddcc807d863e2a37fea506\n'}]",0,699100,72524f9d856dd715242d9d96116f8238a95c048b,36,2,4,6732,,,0,"Support PostgreSQL 12

Change-Id: Ic1d4982a479c2154d7ddcc807d863e2a37fea506
",git fetch https://review.opendev.org/openstack/trove refs/changes/00/699100/4 && git format-patch -1 --stdout FETCH_HEAD,"['integration/scripts/files/elements/ubuntu-postgresql/install.d/30-postgresql', 'devstack/plugin.sh', 'integration/scripts/files/elements/ubuntu-xenial-postgresql/install.d/31-fix-init-script', 'integration/scripts/files/elements/ubuntu-postgresql/pre-install.d/10-postgresql-repo']",4,fe3669f52a142c4136c62ed6c102e6b0a73151f4,fix-pgsql-image,"[ -n ""${DIB_RELEASE}"" ] || die ""RELEASE must be set to a valid Ubuntu release (e.g. trusty)""deb http://apt.postgresql.org/pub/repos/apt/ ${DIB_RELEASE}-pgdg main","[ -n ""${RELEASE}"" ] || die ""RELEASE must be set to a valid Ubuntu release (e.g. trusty)""deb http://apt.postgresql.org/pub/repos/apt/ ${RELEASE}-pgdg main",8,38
openstack%2Fkuryr-kubernetes~master~Ia77d52466635974cc826e31da77c14184c36d601,openstack/kuryr-kubernetes,master,Ia77d52466635974cc826e31da77c14184c36d601,Make kuryr-kubernetes-tempest-containerized voting,MERGED,2019-12-03 15:53:58.000000000,2019-12-19 13:34:21.000000000,2019-12-19 13:30:57.000000000,"[{'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-12-03 15:53:58.000000000', 'files': ['.zuul.d/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c963efa19c2c56a7f4bd81bee34c260e8b4a6c6a', 'message': ""Make kuryr-kubernetes-tempest-containerized voting\n\nWe don't have any voting containerized gate, yet the preferred way to\nrun Kuryr-Kubernetes is in containers running on top of K8s cluster it\nis serving.\n\nThis makes very little sense and this commit makes the most basic\ncontainerized gate voting.\n\nChange-Id: Ia77d52466635974cc826e31da77c14184c36d601\n""}]",0,697120,c963efa19c2c56a7f4bd81bee34c260e8b4a6c6a,10,4,1,11600,,,0,"Make kuryr-kubernetes-tempest-containerized voting

We don't have any voting containerized gate, yet the preferred way to
run Kuryr-Kubernetes is in containers running on top of K8s cluster it
is serving.

This makes very little sense and this commit makes the most basic
containerized gate voting.

Change-Id: Ia77d52466635974cc826e31da77c14184c36d601
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/20/697120/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/octavia.yaml'],1,c963efa19c2c56a7f4bd81bee34c260e8b4a6c6a,containerized-voting,, voting: false,0,1
openstack%2Fcinderlib~master~I47f7ea6f877e299c55f5517a72beadac7ccf78b0,openstack/cinderlib,master,I47f7ea6f877e299c55f5517a72beadac7ccf78b0,Fix: add a default value for cinderlib_pool_name,MERGED,2019-12-17 18:57:59.000000000,2019-12-19 13:18:26.000000000,2019-12-17 22:37:35.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-17 18:57:59.000000000', 'files': ['roles/run-cinderlib-tests/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/5a1e313b9bb7c0e91d78ce80de2cbfed5b884621', 'message': 'Fix: add a default value for cinderlib_pool_name\n\nOtherwise CL_FTEST_POOL_NAME is not defined by default\nwhen using run-cinderlib-tests, thus leading to an error.\n\nChange-Id: I47f7ea6f877e299c55f5517a72beadac7ccf78b0\n'}]",0,699481,5a1e313b9bb7c0e91d78ce80de2cbfed5b884621,10,5,1,10459,,,0,"Fix: add a default value for cinderlib_pool_name

Otherwise CL_FTEST_POOL_NAME is not defined by default
when using run-cinderlib-tests, thus leading to an error.

Change-Id: I47f7ea6f877e299c55f5517a72beadac7ccf78b0
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/81/699481/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-cinderlib-tests/defaults/main.yaml'],1,5a1e313b9bb7c0e91d78ce80de2cbfed5b884621,,cinderlib_pool_name: '',,1,0
openstack%2Fcharm-rabbitmq-server~master~Ie11cfad1d9affe8c1e66471df1542d696d9db702,openstack/charm-rabbitmq-server,master,Ie11cfad1d9affe8c1e66471df1542d696d9db702,Fix single unit upgrade-charm,MERGED,2019-09-05 19:59:43.000000000,2019-12-19 12:58:58.000000000,2019-12-19 12:58:58.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-05 19:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/91db5ca67507b247df21186453da75fdd393193a', 'message': 'Fix single unit upgrade-charm\n\nOn a single unit rabbitmq on upgrade-charm peer_retrieve would throw a\nValueError because there is no peer ""cluster"" relation.\n\nHandle this edege case.\n\nChange-Id: Ie11cfad1d9affe8c1e66471df1542d696d9db702\n'}, {'number': 2, 'created': '2019-09-06 15:29:58.000000000', 'files': ['hooks/rabbit_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/96a6bce0c71c21ea59786b79bd5c2c35009610ce', 'message': 'Fix single unit upgrade-charm\n\nOn a single unit rabbitmq on upgrade-charm peer_retrieve would throw a\nValueError because there is no peer ""cluster"" relation.\n\nHandle this edege case.\n\nCloses-Bug: #1842970\n\nChange-Id: Ie11cfad1d9affe8c1e66471df1542d696d9db702\n'}]",0,680504,96a6bce0c71c21ea59786b79bd5c2c35009610ce,12,4,2,20805,,,0,"Fix single unit upgrade-charm

On a single unit rabbitmq on upgrade-charm peer_retrieve would throw a
ValueError because there is no peer ""cluster"" relation.

Handle this edege case.

Closes-Bug: #1842970

Change-Id: Ie11cfad1d9affe8c1e66471df1542d696d9db702
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/04/680504/2 && git format-patch -1 --stdout FETCH_HEAD,['hooks/rabbit_utils.py'],1,91db5ca67507b247df21186453da75fdd393193a,bug/1842970, try: leader_node_hostname = peer_retrieve('leader_node_hostname') except ValueError: # This is a single unit return None, leader_node_hostname = peer_retrieve('leader_node_hostname'),5,1
openstack%2Fcharm-specs~master~I950f890a541df886bf06c7ca8f68d3c15867fb66,openstack/charm-specs,master,I950f890a541df886bf06c7ca8f68d3c15867fb66,fix misspelling,MERGED,2019-09-16 09:12:13.000000000,2019-12-19 12:57:52.000000000,2019-12-19 12:51:51.000000000,"[{'_account_id': 935}, {'_account_id': 22348}, {'_account_id': 27565}, {'_account_id': 30561}]","[{'number': 1, 'created': '2019-09-16 09:12:13.000000000', 'files': ['specs/stein/implemented/masakari.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/3e60bfefdfc7169dcad52b35127366293fd6f7cb', 'message': 'fix misspelling\n\nChange-Id: I950f890a541df886bf06c7ca8f68d3c15867fb66\n'}]",0,682303,3e60bfefdfc7169dcad52b35127366293fd6f7cb,9,4,1,27565,,,0,"fix misspelling

Change-Id: I950f890a541df886bf06c7ca8f68d3c15867fb66
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/03/682303/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/implemented/masakari.rst'],1,3e60bfefdfc7169dcad52b35127366293fd6f7cb,,Although not as feature rich as masakari much of the functionality can be,Although not as feature rich as maskari much of the functionality can be,1,1
openstack%2Fcharm-vault~stable%2F19.07~I68dd18a5ddbc3e9f0d8ada6c7a7f0a10dfe68f89,openstack/charm-vault,stable/19.07,I68dd18a5ddbc3e9f0d8ada6c7a7f0a10dfe68f89,Rebuild to pick up improved logging in ``layer-snap``,MERGED,2019-08-13 11:14:31.000000000,2019-12-19 12:57:51.000000000,2019-12-19 12:57:51.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-13 11:14:31.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/d213b21aa6b45c32b2943d179057c31fbfd136d7', 'message': 'Rebuild to pick up improved logging in ``layer-snap``\n\nChange-Id: I68dd18a5ddbc3e9f0d8ada6c7a7f0a10dfe68f89\nPartial-Bug: #1839616\n(cherry picked from commit deaccc35c1931c3c5a7e5bd432563c24167d744e)\n'}]",0,676161,d213b21aa6b45c32b2943d179057c31fbfd136d7,9,4,1,13686,,,0,"Rebuild to pick up improved logging in ``layer-snap``

Change-Id: I68dd18a5ddbc3e9f0d8ada6c7a7f0a10dfe68f89
Partial-Bug: #1839616
(cherry picked from commit deaccc35c1931c3c5a7e5bd432563c24167d744e)
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/61/676161/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,d213b21aa6b45c32b2943d179057c31fbfd136d7,bug/1839616-stable/19.07,d5e1ff5b-5739-4bd2-95d5-c3480265c6ba,6a4e8d66-b54e-11e9-9e21-27ae1864b062,1,1
openstack%2Fcharm-octavia~master~I58cbe0d2893a39b061b49084ba5d2e0a832994e7,openstack/charm-octavia,master,I58cbe0d2893a39b061b49084ba5d2e0a832994e7,Link root level readme to charm readme,MERGED,2019-08-27 20:48:26.000000000,2019-12-19 12:57:50.000000000,2019-12-19 12:57:50.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-27 20:48:26.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/9605cada6b6bdee30c3c4e0a4f409a26e663b923', 'message': 'Link root level readme to charm readme\n\nChange-Id: I58cbe0d2893a39b061b49084ba5d2e0a832994e7\n'}]",0,678955,9605cada6b6bdee30c3c4e0a4f409a26e663b923,9,4,1,20635,,,0,"Link root level readme to charm readme

Change-Id: I58cbe0d2893a39b061b49084ba5d2e0a832994e7
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/55/678955/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,9605cada6b6bdee30c3c4e0a4f409a26e663b923,link-readme,src/README.md,,1,0
openstack%2Fcharm-neutron-gateway~master~I0028a77e272a64ee63d2970061514da0eeb988ee,openstack/charm-neutron-gateway,master,I0028a77e272a64ee63d2970061514da0eeb988ee,fix the spelling mistakes,MERGED,2019-09-10 09:15:37.000000000,2019-12-19 12:56:31.000000000,2019-12-19 12:56:31.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-10 09:15:37.000000000', 'files': ['files/neutron-ha-monitor.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/61cb739a1667dbb778c3773ba771c4f6aa46e5a4', 'message': 'fix the spelling mistakes\n\nChange-Id: I0028a77e272a64ee63d2970061514da0eeb988ee\n'}]",0,681191,61cb739a1667dbb778c3773ba771c4f6aa46e5a4,7,3,1,30455,,,0,"fix the spelling mistakes

Change-Id: I0028a77e272a64ee63d2970061514da0eeb988ee
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/91/681191/1 && git format-patch -1 --stdout FETCH_HEAD,['files/neutron-ha-monitor.py'],1,61cb739a1667dbb778c3773ba771c4f6aa46e5a4,, logging.setup('Neutron-HA-Monitor') logging.setup('Neutron-HA-Monitor'), logging.setup('Neuron-HA-Monitor') logging.setup('Neuron-HA-Monitor'),2,2
openstack%2Fcharm-neutron-api~master~If01eb8de2bdcaf0bda5f03dfeed28d0472757d5a,openstack/charm-neutron-api,master,If01eb8de2bdcaf0bda5f03dfeed28d0472757d5a,Switch to Ussuri jobs,MERGED,2019-10-22 03:55:14.000000000,2019-12-19 12:56:30.000000000,2019-12-19 12:56:30.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 03:55:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/91791c8296278b2c9b7193f23b69980021d9af38', 'message': 'Switch to Ussuri jobs\n\nChange-Id: If01eb8de2bdcaf0bda5f03dfeed28d0472757d5a\n'}]",0,689920,91791c8296278b2c9b7193f23b69980021d9af38,7,3,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: If01eb8de2bdcaf0bda5f03dfeed28d0472757d5a
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/20/689920/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,91791c8296278b2c9b7193f23b69980021d9af38,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-neutron-api~master~I54f86546c71a407dfcdda425fba90dace57a36af,openstack/charm-neutron-api,master,I54f86546c71a407dfcdda425fba90dace57a36af,ml2_conf_srov.ini is replaced with ml2_conf_sriov.ini in line 150.,MERGED,2019-09-26 01:14:48.000000000,2019-12-19 12:56:30.000000000,2019-12-19 12:56:30.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2019-09-26 01:14:48.000000000', 'files': ['hooks/neutron_api_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/bf3c1f062a90738009c79ff31cc556f3478ab399', 'message': 'ml2_conf_srov.ini is replaced with ml2_conf_sriov.ini in line 150.\n\nChange-Id: I54f86546c71a407dfcdda425fba90dace57a36af\n'}]",0,684861,bf3c1f062a90738009c79ff31cc556f3478ab399,8,4,1,30717,,,0,"ml2_conf_srov.ini is replaced with ml2_conf_sriov.ini in line 150.

Change-Id: I54f86546c71a407dfcdda425fba90dace57a36af
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/61/684861/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/neutron_api_utils.py'],1,bf3c1f062a90738009c79ff31cc556f3478ab399,,# NOTE:(fnordahl) placeholder ml2_conf_sriov.ini pointing users to ml2_conf.ini,# NOTE:(fnordahl) placeholder ml2_conf_srov.ini pointing users to ml2_conf.ini,1,1
openstack%2Fcharm-cinder-backup~master~I464c4d1c8de3a34e378b5b44aaef1a7dfd67771b,openstack/charm-cinder-backup,master,I464c4d1c8de3a34e378b5b44aaef1a7dfd67771b,Switch to Ussuri jobs,MERGED,2019-10-23 01:58:11.000000000,2019-12-19 12:55:19.000000000,2019-12-19 12:55:19.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-23 01:58:11.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/905b65ac44f3f883a71197faa81bf50e94b75a5b', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I464c4d1c8de3a34e378b5b44aaef1a7dfd67771b\n'}]",0,690462,905b65ac44f3f883a71197faa81bf50e94b75a5b,7,3,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: I464c4d1c8de3a34e378b5b44aaef1a7dfd67771b
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/62/690462/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,905b65ac44f3f883a71197faa81bf50e94b75a5b,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-ceph-fs~master~I0ee0de9048fae3e23aec52f896bf73b7c4f99102,openstack/charm-ceph-fs,master,I0ee0de9048fae3e23aec52f896bf73b7c4f99102,Switch to Ussuri jobs,MERGED,2019-10-31 09:31:24.000000000,2019-12-19 12:55:18.000000000,2019-12-19 12:55:18.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 09:31:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/3f8a194b6c504972bdf25aa00d67c90682534f4a', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I0ee0de9048fae3e23aec52f896bf73b7c4f99102\n'}]",0,692297,3f8a194b6c504972bdf25aa00d67c90682534f4a,7,3,1,27565,,,0,"Switch to Ussuri jobs

Change-Id: I0ee0de9048fae3e23aec52f896bf73b7c4f99102
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/97/692297/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3f8a194b6c504972bdf25aa00d67c90682534f4a,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-openstack-dashboard~master~I91a4e3d3611f5734f9c003e29f9737c68768fe76,openstack/charm-openstack-dashboard,master,I91a4e3d3611f5734f9c003e29f9737c68768fe76,Switch to Ussuri jobs,MERGED,2019-10-25 02:22:05.000000000,2019-12-19 12:53:43.000000000,2019-12-19 12:53:43.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-25 02:22:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/6c4e014992db9e07ba4c17e12c1d61a707225a90', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I91a4e3d3611f5734f9c003e29f9737c68768fe76\n'}]",0,691147,6c4e014992db9e07ba4c17e12c1d61a707225a90,7,3,1,30092,,,0,"Switch to Ussuri jobs

Change-Id: I91a4e3d3611f5734f9c003e29f9737c68768fe76
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/47/691147/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6c4e014992db9e07ba4c17e12c1d61a707225a90,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-keystone-saml-mellon~master~I10bcd0c4847e2f0828c8df6d23d148d2b55c74f7,openstack/charm-keystone-saml-mellon,master,I10bcd0c4847e2f0828c8df6d23d148d2b55c74f7,Add Python 3 Train unit tests,MERGED,2019-07-26 19:00:09.000000000,2019-12-19 12:53:39.000000000,2019-12-19 12:53:39.000000000,"[{'_account_id': 935}, {'_account_id': 8556}, {'_account_id': 11805}, {'_account_id': 17499}, {'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-07-26 19:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/e076a601edf8ee224c2537611af4acc7262da314', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I10bcd0c4847e2f0828c8df6d23d148d2b55c74f7\nStory: #2005924\nTask: #34228\n'}, {'number': 2, 'created': '2019-08-09 16:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/cb61efce6405f37baa1eae78edcfaa442bcc62b0', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nNote that python35-charm-jobs is retained since this charm is supported\non Xenial.\n\nChange-Id: I10bcd0c4847e2f0828c8df6d23d148d2b55c74f7\nStory: #2005924\nTask: #34228\n'}, {'number': 3, 'created': '2019-08-30 20:12:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/89ea5a4fbf26ba4f89f29579425655e651aef326', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in\nplace\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nNote that python35-charm-jobs is retained since this charm is supported\non Xenial.\n\nChange-Id: I10bcd0c4847e2f0828c8df6d23d148d2b55c74f7\nStory: #2005924\nTask: #34228\n'}]",3,673087,89ea5a4fbf26ba4f89f29579425655e651aef326,31,12,3,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in
place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Note that python35-charm-jobs is retained since this charm is supported
on Xenial.

Change-Id: I10bcd0c4847e2f0828c8df6d23d148d2b55c74f7
Story: #2005924
Task: #34228
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/87/673087/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,e076a601edf8ee224c2537611af4acc7262da314,corey,"envlist = pep8,py37","envlist = pep8,py3",2,1
openstack%2Fcharm-glance~master~Id2881d33b85ffcf984de178c06de407946523ec7,openstack/charm-glance,master,Id2881d33b85ffcf984de178c06de407946523ec7,Switch to Ussuri jobs,MERGED,2019-10-22 03:37:27.000000000,2019-12-19 12:53:38.000000000,2019-12-19 12:53:38.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 03:37:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/09ba2aa60acee505c36b61447bea743572142e2f', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Id2881d33b85ffcf984de178c06de407946523ec7\n'}]",0,689916,09ba2aa60acee505c36b61447bea743572142e2f,7,3,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: Id2881d33b85ffcf984de178c06de407946523ec7
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/16/689916/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,09ba2aa60acee505c36b61447bea743572142e2f,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-manila~master~Ia61bac383c05c9ba48155773f524c1b4a46faf7c,openstack/charm-manila,master,Ia61bac383c05c9ba48155773f524c1b4a46faf7c,Fix misspell word,MERGED,2019-09-06 08:26:28.000000000,2019-12-19 12:53:37.000000000,2019-12-19 12:53:37.000000000,"[{'_account_id': 935}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-06 08:26:28.000000000', 'files': ['src/templates/mitaka/manila.conf'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/7ba5dd688bfb6fffca93e90ff5245c5a3f55b262', 'message': 'Fix misspell word\n\nChange-Id: Ia61bac383c05c9ba48155773f524c1b4a46faf7c\n'}]",0,680616,7ba5dd688bfb6fffca93e90ff5245c5a3f55b262,8,4,1,30408,,,0,"Fix misspell word

Change-Id: Ia61bac383c05c9ba48155773f524c1b4a46faf7c
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/16/680616/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/mitaka/manila.conf'],1,7ba5dd688bfb6fffca93e90ff5245c5a3f55b262,,# parts/section-rabbitmq-oslo include the [oslo_messaging_rabbit] section,# parts/section-rabbitmq-olso include the [oslo_messaging_rabbit] section,1,1
openstack%2Freleases~master~I332f3681bae55d06751d6666174816106a58be48,openstack/releases,master,I332f3681bae55d06751d6666174816106a58be48,Reflect abandon status in generated docs,ABANDONED,2019-12-18 19:59:14.000000000,2019-12-19 12:52:13.000000000,,"[{'_account_id': 308}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 19:59:14.000000000', 'files': ['doc/source/_exts/deliverables.py', 'openstack_releases/deliverable.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/d4164d14c5903ffdd3967c127e1dd773adedcebd', 'message': 'Reflect abandon status in generated docs\n\nThis updates our sphinx extension and deliverable parsing to denote\ndeliverables that are no longer active by showing abandoned deliverables\nas EOL.\n\nChange-Id: I332f3681bae55d06751d6666174816106a58be48\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,699860,d4164d14c5903ffdd3967c127e1dd773adedcebd,5,2,1,11904,,,0,"Reflect abandon status in generated docs

This updates our sphinx extension and deliverable parsing to denote
deliverables that are no longer active by showing abandoned deliverables
as EOL.

Change-Id: I332f3681bae55d06751d6666174816106a58be48
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/60/699860/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_exts/deliverables.py', 'openstack_releases/deliverable.py']",2,d4164d14c5903ffdd3967c127e1dd773adedcebd,abandoned-independent, if self.model == 'abandoned': status = 'end of life',,4,0
openstack%2Fcharm-keystone~master~I76321700fce2543c5819f478f0acfbe120441489,openstack/charm-keystone,master,I76321700fce2543c5819f478f0acfbe120441489,Switch to Ussuri jobs,MERGED,2019-10-22 03:51:10.000000000,2019-12-19 12:51:54.000000000,2019-12-19 12:51:54.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 03:51:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/444b0b91af1910d252dd817a6e99155f9c6a6d2b', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I76321700fce2543c5819f478f0acfbe120441489\n'}]",0,689918,444b0b91af1910d252dd817a6e99155f9c6a6d2b,7,3,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: I76321700fce2543c5819f478f0acfbe120441489
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/18/689918/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,444b0b91af1910d252dd817a6e99155f9c6a6d2b,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-heat~master~I761e9f59057e0917dcd73582b8361c817ff24987,openstack/charm-heat,master,I761e9f59057e0917dcd73582b8361c817ff24987,Switch to Ussuri jobs,MERGED,2019-10-22 03:32:57.000000000,2019-12-19 12:51:52.000000000,2019-12-19 12:51:52.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 03:32:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/5bf4fc3d98a01422a3385b695e6bcb664977589c', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I761e9f59057e0917dcd73582b8361c817ff24987\n'}]",0,689915,5bf4fc3d98a01422a3385b695e6bcb664977589c,7,3,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: I761e9f59057e0917dcd73582b8361c817ff24987
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/15/689915/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5bf4fc3d98a01422a3385b695e6bcb664977589c,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-ceilometer~master~I7a12098d2ad83459596c83e91c50ec3f62dd90d7,openstack/charm-ceilometer,master,I7a12098d2ad83459596c83e91c50ec3f62dd90d7,Switch to Ussuri jobs,MERGED,2019-10-23 01:37:22.000000000,2019-12-19 12:51:50.000000000,2019-12-19 12:51:50.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-23 01:37:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/dcab152011a2fb664464a1546f3ae1ddad28807b', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I7a12098d2ad83459596c83e91c50ec3f62dd90d7\n'}]",0,690458,dcab152011a2fb664464a1546f3ae1ddad28807b,7,3,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: I7a12098d2ad83459596c83e91c50ec3f62dd90d7
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/58/690458/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dcab152011a2fb664464a1546f3ae1ddad28807b,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Foslo.messaging~master~I6c30c28ee4c8be4677ccecf8822af15b060cf804,openstack/oslo.messaging,master,I6c30c28ee4c8be4677ccecf8822af15b060cf804,Remove telemetry checks,MERGED,2019-12-02 12:58:18.000000000,2019-12-19 12:50:17.000000000,2019-12-19 12:40:28.000000000,"[{'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 15334}, {'_account_id': 20523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-02 12:58:18.000000000', 'files': ['playbooks/oslo.messaging-telemetry-dsvm-integration-rabbit/run.yaml', '.zuul.yaml', 'playbooks/oslo.messaging-telemetry-dsvm-integration-amqp1/run.yaml', 'playbooks/oslo.messaging-telemetry-dsvm-integration-kafka/run.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1057cfc60f7df8c26ee31b9cb6132c3cbf444a63', 'message': 'Remove telemetry checks\n\nThe telemetry tests are not actively maintained and have been failing\nchecks for quite some time. Remove the non-voting tests for now and\nplan to introduce new tests in the future for better coverage of\nnotifications.\n\nChange-Id: I6c30c28ee4c8be4677ccecf8822af15b060cf804\n'}]",0,696880,1057cfc60f7df8c26ee31b9cb6132c3cbf444a63,18,5,1,20523,,,0,"Remove telemetry checks

The telemetry tests are not actively maintained and have been failing
checks for quite some time. Remove the non-voting tests for now and
plan to introduce new tests in the future for better coverage of
notifications.

Change-Id: I6c30c28ee4c8be4677ccecf8822af15b060cf804
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/80/696880/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/oslo.messaging-telemetry-dsvm-integration-rabbit/run.yaml', '.zuul.yaml', 'playbooks/oslo.messaging-telemetry-dsvm-integration-amqp1/run.yaml', 'playbooks/oslo.messaging-telemetry-dsvm-integration-kafka/run.yaml']",4,1057cfc60f7df8c26ee31b9cb6132c3cbf444a63,telemetry-tests,,"- hosts: all name: Autoconverted job legacy-oslo.messaging-telemetry-dsvm-integration-kafka from old job gate-oslo.messaging-telemetry-dsvm-integration-kafka-ubuntu-xenial-nv tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ https://opendev.org \ openstack/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PYTHONUNBUFFERED=true export DEVSTACK_GATE_HEAT=1 export DEVSTACK_GATE_NEUTRON=1 export DEVSTACK_GATE_TEMPEST=1 export DEVSTACK_GATE_INSTALL_TESTONLY=1 export DEVSTACK_GATE_TEMPEST_NOTESTS=1 export PROJECTS=""openstack/ceilometer openstack/aodh openstack/panko openstack/telemetry-tempest-plugin openstack/heat openstack/heat-tempest-plugin"" export PROJECTS=""openstack/devstack-plugin-kafka $PROJECTS"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin panko https://opendev.org/openstack/panko"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin ceilometer https://opendev.org/openstack/ceilometer"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin aodh https://opendev.org/openstack/aodh"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin heat https://opendev.org/openstack/heat"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""INSTALL_TEMPEST=False"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""CEILOMETER_BACKEND=gnocchi"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""GNOCCHI_ARCHIVE_POLICY=high"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""CEILOMETER_PIPELINE_INTERVAL=15"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin devstack-plugin-kafka https://opendev.org/openstack/devstack-plugin-kafka"" export DEVSTACK_PROJECT_FROM_GIT=$ZUUL_SHORT_PROJECT_NAME function post_test_hook { cd /opt/stack/new/telemetry-tempest-plugin/playbooks/legacy/telemetry-dsvm-integration-tempest-plugin ./post_test_hook.sh } export -f post_test_hook cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",0,245
openstack%2Fcharm-interface-ceph-rbd-mirror~master~Idb4befc0c7d2094ce0ab5d1306e41282a372d3de,openstack/charm-interface-ceph-rbd-mirror,master,Idb4befc0c7d2094ce0ab5d1306e41282a372d3de,Switch to Ussuri jobs,MERGED,2019-10-31 09:45:42.000000000,2019-12-19 12:49:59.000000000,2019-12-19 12:49:59.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 09:45:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-interface-ceph-rbd-mirror/commit/7627eb2e85219b0716109855277be9f3bae153e0', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Idb4befc0c7d2094ce0ab5d1306e41282a372d3de\n'}]",0,692306,7627eb2e85219b0716109855277be9f3bae153e0,7,3,1,27565,,,0,"Switch to Ussuri jobs

Change-Id: Idb4befc0c7d2094ce0ab5d1306e41282a372d3de
",git fetch https://review.opendev.org/openstack/charm-interface-ceph-rbd-mirror refs/changes/06/692306/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7627eb2e85219b0716109855277be9f3bae153e0,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharms.openstack~master~I27f3ddd11745ac858028a1787b07107691ff1cfa,openstack/charms.openstack,master,I27f3ddd11745ac858028a1787b07107691ff1cfa,Switch to Ussuri jobs,MERGED,2019-10-25 05:57:34.000000000,2019-12-19 12:49:58.000000000,2019-12-19 12:49:58.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-25 05:57:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/392a0231fd04bca4b14f1c0d96af3be30c40b791', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I27f3ddd11745ac858028a1787b07107691ff1cfa\n'}]",0,691196,392a0231fd04bca4b14f1c0d96af3be30c40b791,6,2,1,30384,,,0,"Switch to Ussuri jobs

Change-Id: I27f3ddd11745ac858028a1787b07107691ff1cfa
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/96/691196/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,392a0231fd04bca4b14f1c0d96af3be30c40b791,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-interface-dashboard-plugin~master~Ia84b60903b6c517faadddb99402ee8359d6af17b,openstack/charm-interface-dashboard-plugin,master,Ia84b60903b6c517faadddb99402ee8359d6af17b,Switch to Ussuri jobs,MERGED,2019-10-31 09:50:02.000000000,2019-12-19 12:49:57.000000000,2019-12-19 12:49:57.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 09:50:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-interface-dashboard-plugin/commit/bb8a1ae3432738f6aa1f18d2c2fce25df335af90', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Ia84b60903b6c517faadddb99402ee8359d6af17b\n'}]",0,692310,bb8a1ae3432738f6aa1f18d2c2fce25df335af90,7,3,1,27565,,,0,"Switch to Ussuri jobs

Change-Id: Ia84b60903b6c517faadddb99402ee8359d6af17b
",git fetch https://review.opendev.org/openstack/charm-interface-dashboard-plugin refs/changes/10/692310/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bb8a1ae3432738f6aa1f18d2c2fce25df335af90,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-interface-neutron-load-balancer~master~I857dfa363553780d0cb5c29e136f08962a08f560,openstack/charm-interface-neutron-load-balancer,master,I857dfa363553780d0cb5c29e136f08962a08f560,Switch to Ussuri jobs,MERGED,2019-10-31 09:58:43.000000000,2019-12-19 12:49:56.000000000,2019-12-19 12:49:56.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 09:58:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-interface-neutron-load-balancer/commit/980f971e71d32715bb3f77bd91ad8ea843e3b931', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I857dfa363553780d0cb5c29e136f08962a08f560\n'}]",0,692315,980f971e71d32715bb3f77bd91ad8ea843e3b931,7,3,1,27565,,,0,"Switch to Ussuri jobs

Change-Id: I857dfa363553780d0cb5c29e136f08962a08f560
",git fetch https://review.opendev.org/openstack/charm-interface-neutron-load-balancer refs/changes/15/692315/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,980f971e71d32715bb3f77bd91ad8ea843e3b931,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-interface-hacluster~master~I589aadb2e73adefbab62c705d28a81732206d32a,openstack/charm-interface-hacluster,master,I589aadb2e73adefbab62c705d28a81732206d32a,Switch to Ussuri jobs,MERGED,2019-10-31 09:51:55.000000000,2019-12-19 12:49:55.000000000,2019-12-19 12:49:55.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 09:51:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-interface-hacluster/commit/3fad300b7fc8793d1535aa233eb7a4ea5894cb89', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I589aadb2e73adefbab62c705d28a81732206d32a\n'}]",0,692312,3fad300b7fc8793d1535aa233eb7a4ea5894cb89,7,3,1,27565,,,0,"Switch to Ussuri jobs

Change-Id: I589aadb2e73adefbab62c705d28a81732206d32a
",git fetch https://review.opendev.org/openstack/charm-interface-hacluster refs/changes/12/692312/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3fad300b7fc8793d1535aa233eb7a4ea5894cb89,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fmagnum~stable%2Ftrain~I7ca2893b44ea5cb057e51013dbcb34efb18d54ed,openstack/magnum,stable/train,I7ca2893b44ea5cb057e51013dbcb34efb18d54ed,[k8s] Remove indentation in /etc/sysconfig/heat-params,MERGED,2019-12-18 20:31:48.000000000,2019-12-19 12:48:01.000000000,2019-12-19 12:34:34.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-12-18 20:31:48.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/dba4ab71e170c05c9fa3f3af1427ebcc29f285ed', 'message': '[k8s] Remove indentation in /etc/sysconfig/heat-params\n\nThere is harmless but unnecessary indentation in\n/etc/sysconfig/heat-params for the master node only which would be nice\nto remove going forward. This issue does not exist in minions.\n\nThis oddity was introduced in Ibbed59bc135969174a20e5243ff8464908801a23.\n\nTask: 37812\nStory: 2002210\n\nChange-Id: I7ca2893b44ea5cb057e51013dbcb34efb18d54ed\n(cherry picked from commit c37ca0f0d2ed65dbb17d0ee8c35133581c38469b)\n'}]",0,699865,dba4ab71e170c05c9fa3f3af1427ebcc29f285ed,8,4,1,28022,,,0,"[k8s] Remove indentation in /etc/sysconfig/heat-params

There is harmless but unnecessary indentation in
/etc/sysconfig/heat-params for the master node only which would be nice
to remove going forward. This issue does not exist in minions.

This oddity was introduced in Ibbed59bc135969174a20e5243ff8464908801a23.

Task: 37812
Story: 2002210

Change-Id: I7ca2893b44ea5cb057e51013dbcb34efb18d54ed
(cherry picked from commit c37ca0f0d2ed65dbb17d0ee8c35133581c38469b)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/65/699865/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh'],1,dba4ab71e170c05c9fa3f3af1427ebcc29f285ed,deindent-stable/train,"INSTANCE_NAME=""$INSTANCE_NAME"" HEAPSTER_ENABLED=""$HEAPSTER_ENABLED"" METRICS_SERVER_ENABLED=""$METRICS_SERVER_ENABLED"" METRICS_SERVER_CHART_TAG=""$METRICS_SERVER_CHART_TAG"" PROMETHEUS_MONITORING=""$PROMETHEUS_MONITORING"" KUBE_API_PUBLIC_ADDRESS=""$KUBE_API_PUBLIC_ADDRESS"" KUBE_API_PRIVATE_ADDRESS=""$KUBE_API_PRIVATE_ADDRESS"" KUBE_API_PORT=""$KUBE_API_PORT"" KUBE_NODE_PUBLIC_IP=""$KUBE_NODE_PUBLIC_IP"" KUBE_NODE_IP=""$KUBE_NODE_IP"" KUBE_ALLOW_PRIV=""$KUBE_ALLOW_PRIV"" TRAEFIK_INGRESS_CONTROLLER_TAG=""$TRAEFIK_INGRESS_CONTROLLER_TAG"" ENABLE_CINDER=""$ENABLE_CINDER"" ETCD_VOLUME=""$ETCD_VOLUME"" ETCD_VOLUME_SIZE=""$ETCD_VOLUME_SIZE"" DOCKER_VOLUME=""$DOCKER_VOLUME"" DOCKER_VOLUME_SIZE=""$DOCKER_VOLUME_SIZE"" DOCKER_STORAGE_DRIVER=""$DOCKER_STORAGE_DRIVER"" CGROUP_DRIVER=""$CGROUP_DRIVER"" NETWORK_DRIVER=""$NETWORK_DRIVER"" FLANNEL_NETWORK_CIDR=""$FLANNEL_NETWORK_CIDR"" FLANNEL_NETWORK_SUBNETLEN=""$FLANNEL_NETWORK_SUBNETLEN"" FLANNEL_BACKEND=""$FLANNEL_BACKEND"" PODS_NETWORK_CIDR=""$PODS_NETWORK_CIDR"" PORTAL_NETWORK_CIDR=""$PORTAL_NETWORK_CIDR"" ADMISSION_CONTROL_LIST=""$ADMISSION_CONTROL_LIST"" ETCD_DISCOVERY_URL=""$ETCD_DISCOVERY_URL"" USERNAME=""$USERNAME"" PASSWORD=""$PASSWORD"" CLUSTER_NETWORK=""$CLUSTER_NETWORK"" CLUSTER_NETWORK_NAME=""$CLUSTER_NETWORK_NAME"" CLUSTER_SUBNET=""$CLUSTER_SUBNET"" TLS_DISABLED=""$TLS_DISABLED"" KUBE_DASHBOARD_ENABLED=""$KUBE_DASHBOARD_ENABLED"" INFLUX_GRAFANA_DASHBOARD_ENABLED=""$INFLUX_GRAFANA_DASHBOARD_ENABLED"" VERIFY_CA=""$VERIFY_CA"" CLUSTER_UUID=""$CLUSTER_UUID"" MAGNUM_URL=""$MAGNUM_URL"" MONITORING_ENABLED=""$MONITORING_ENABLED"" PROMETHEUS_OPERATOR_CHART_TAG=""$PROMETHEUS_OPERATOR_CHART_TAG"" PROMETHEUS_ADAPTER_ENABLED=""$PROMETHEUS_ADAPTER_ENABLED"" PROMETHEUS_ADAPTER_CHART_TAG=""$PROMETHEUS_ADAPTER_CHART_TAG"" PROMETHEUS_ADAPTER_CONFIGMAP=""$PROMETHEUS_ADAPTER_CONFIGMAP"" VOLUME_DRIVER=""$VOLUME_DRIVER"" REGION_NAME=""$REGION_NAME"" HTTP_PROXY=""$HTTP_PROXY"" HTTPS_PROXY=""$HTTPS_PROXY"" NO_PROXY=""$NO_PROXY"" KUBE_TAG=""$KUBE_TAG"" CLOUD_PROVIDER_TAG=""$CLOUD_PROVIDER_TAG"" CLOUD_PROVIDER_ENABLED=""$CLOUD_PROVIDER_ENABLED"" ETCD_TAG=""$ETCD_TAG"" COREDNS_TAG=""$COREDNS_TAG"" FLANNEL_TAG=""$FLANNEL_TAG"" FLANNEL_CNI_TAG=""$FLANNEL_CNI_TAG"" KUBE_VERSION=""$KUBE_VERSION"" KUBE_DASHBOARD_VERSION=""$KUBE_DASHBOARD_VERSION"" TRUSTEE_USER_ID=""$TRUSTEE_USER_ID"" TRUSTEE_PASSWORD=""$TRUSTEE_PASSWORD"" TRUST_ID=""$TRUST_ID"" AUTH_URL=""$AUTH_URL"" INSECURE_REGISTRY_URL=""$INSECURE_REGISTRY_URL"" CONTAINER_INFRA_PREFIX=""$CONTAINER_INFRA_PREFIX"" SYSTEM_PODS_INITIAL_DELAY=""$SYSTEM_PODS_INITIAL_DELAY"" SYSTEM_PODS_TIMEOUT=""$SYSTEM_PODS_TIMEOUT"" ETCD_LB_VIP=""$ETCD_LB_VIP"" DNS_SERVICE_IP=""$DNS_SERVICE_IP"" DNS_CLUSTER_DOMAIN=""$DNS_CLUSTER_DOMAIN"" CERT_MANAGER_API=""$CERT_MANAGER_API"" CA_KEY=""$CA_KEY"" CALICO_TAG=""$CALICO_TAG"" CALICO_KUBE_CONTROLLERS_TAG=""$CALICO_KUBE_CONTROLLERS_TAG"" CALICO_IPV4POOL=""$CALICO_IPV4POOL"" INGRESS_CONTROLLER=""$INGRESS_CONTROLLER"" INGRESS_CONTROLLER_ROLE=""$INGRESS_CONTROLLER_ROLE"" OCTAVIA_INGRESS_CONTROLLER_TAG=""$OCTAVIA_INGRESS_CONTROLLER_TAG"" KUBELET_OPTIONS=""$KUBELET_OPTIONS"" KUBECONTROLLER_OPTIONS=""$KUBECONTROLLER_OPTIONS"" KUBEAPI_OPTIONS=""$KUBEAPI_OPTIONS"" KUBEPROXY_OPTIONS=""$KUBEPROXY_OPTIONS"" KUBESCHEDULER_OPTIONS=""$KUBESCHEDULER_OPTIONS"" OCTAVIA_ENABLED=""$OCTAVIA_ENABLED"" KUBE_SERVICE_ACCOUNT_KEY=""$KUBE_SERVICE_ACCOUNT_KEY"" KUBE_SERVICE_ACCOUNT_PRIVATE_KEY=""$KUBE_SERVICE_ACCOUNT_PRIVATE_KEY"" PROMETHEUS_TAG=""$PROMETHEUS_TAG"" GRAFANA_TAG=""$GRAFANA_TAG"" HEAT_CONTAINER_AGENT_TAG=""$HEAT_CONTAINER_AGENT_TAG"" KEYSTONE_AUTH_ENABLED=""$KEYSTONE_AUTH_ENABLED"" K8S_KEYSTONE_AUTH_TAG=""$K8S_KEYSTONE_AUTH_TAG"" PROJECT_ID=""$PROJECT_ID"" EXTERNAL_NETWORK_ID=""$EXTERNAL_NETWORK_ID"" TILLER_ENABLED=""$TILLER_ENABLED"" TILLER_TAG=""$TILLER_TAG"" TILLER_NAMESPACE=""$TILLER_NAMESPACE"" NODE_PROBLEM_DETECTOR_TAG=""$NODE_PROBLEM_DETECTOR_TAG"" NGINX_INGRESS_CONTROLLER_TAG=""$NGINX_INGRESS_CONTROLLER_TAG"" NGINX_INGRESS_CONTROLLER_CHART_TAG=""$NGINX_INGRESS_CONTROLLER_CHART_TAG"" AUTO_HEALING_ENABLED=""$AUTO_HEALING_ENABLED"" AUTO_HEALING_CONTROLLER=""$AUTO_HEALING_CONTROLLER"" AUTO_SCALING_ENABLED=""$AUTO_SCALING_ENABLED"" DRAINO_TAG=""$DRAINO_TAG"" MAGNUM_AUTO_HEALER_TAG=""$MAGNUM_AUTO_HEALER_TAG"" AUTOSCALER_TAG=""$AUTOSCALER_TAG"" MIN_NODE_COUNT=""$MIN_NODE_COUNT"" MAX_NODE_COUNT=""$MAX_NODE_COUNT"" NPD_ENABLED=""$NPD_ENABLED"" NODEGROUP_ROLE=""$NODEGROUP_ROLE"" NODEGROUP_NAME=""$NODEGROUP_NAME"" USE_PODMAN=""$USE_PODMAN"""," INSTANCE_NAME=""$INSTANCE_NAME"" HEAPSTER_ENABLED=""$HEAPSTER_ENABLED"" METRICS_SERVER_ENABLED=""$METRICS_SERVER_ENABLED"" METRICS_SERVER_CHART_TAG=""$METRICS_SERVER_CHART_TAG"" PROMETHEUS_MONITORING=""$PROMETHEUS_MONITORING"" KUBE_API_PUBLIC_ADDRESS=""$KUBE_API_PUBLIC_ADDRESS"" KUBE_API_PRIVATE_ADDRESS=""$KUBE_API_PRIVATE_ADDRESS"" KUBE_API_PORT=""$KUBE_API_PORT"" KUBE_NODE_PUBLIC_IP=""$KUBE_NODE_PUBLIC_IP"" KUBE_NODE_IP=""$KUBE_NODE_IP"" KUBE_ALLOW_PRIV=""$KUBE_ALLOW_PRIV"" TRAEFIK_INGRESS_CONTROLLER_TAG=""$TRAEFIK_INGRESS_CONTROLLER_TAG"" ENABLE_CINDER=""$ENABLE_CINDER"" ETCD_VOLUME=""$ETCD_VOLUME"" ETCD_VOLUME_SIZE=""$ETCD_VOLUME_SIZE"" DOCKER_VOLUME=""$DOCKER_VOLUME"" DOCKER_VOLUME_SIZE=""$DOCKER_VOLUME_SIZE"" DOCKER_STORAGE_DRIVER=""$DOCKER_STORAGE_DRIVER"" CGROUP_DRIVER=""$CGROUP_DRIVER"" NETWORK_DRIVER=""$NETWORK_DRIVER"" FLANNEL_NETWORK_CIDR=""$FLANNEL_NETWORK_CIDR"" FLANNEL_NETWORK_SUBNETLEN=""$FLANNEL_NETWORK_SUBNETLEN"" FLANNEL_BACKEND=""$FLANNEL_BACKEND"" PODS_NETWORK_CIDR=""$PODS_NETWORK_CIDR"" PORTAL_NETWORK_CIDR=""$PORTAL_NETWORK_CIDR"" ADMISSION_CONTROL_LIST=""$ADMISSION_CONTROL_LIST"" ETCD_DISCOVERY_URL=""$ETCD_DISCOVERY_URL"" USERNAME=""$USERNAME"" PASSWORD=""$PASSWORD"" CLUSTER_NETWORK=""$CLUSTER_NETWORK"" CLUSTER_NETWORK_NAME=""$CLUSTER_NETWORK_NAME"" CLUSTER_SUBNET=""$CLUSTER_SUBNET"" TLS_DISABLED=""$TLS_DISABLED"" KUBE_DASHBOARD_ENABLED=""$KUBE_DASHBOARD_ENABLED"" INFLUX_GRAFANA_DASHBOARD_ENABLED=""$INFLUX_GRAFANA_DASHBOARD_ENABLED"" VERIFY_CA=""$VERIFY_CA"" CLUSTER_UUID=""$CLUSTER_UUID"" MAGNUM_URL=""$MAGNUM_URL"" MONITORING_ENABLED=""$MONITORING_ENABLED"" PROMETHEUS_OPERATOR_CHART_TAG=""$PROMETHEUS_OPERATOR_CHART_TAG"" PROMETHEUS_ADAPTER_ENABLED=""$PROMETHEUS_ADAPTER_ENABLED"" PROMETHEUS_ADAPTER_CHART_TAG=""$PROMETHEUS_ADAPTER_CHART_TAG"" PROMETHEUS_ADAPTER_CONFIGMAP=""$PROMETHEUS_ADAPTER_CONFIGMAP"" VOLUME_DRIVER=""$VOLUME_DRIVER"" REGION_NAME=""$REGION_NAME"" HTTP_PROXY=""$HTTP_PROXY"" HTTPS_PROXY=""$HTTPS_PROXY"" NO_PROXY=""$NO_PROXY"" KUBE_TAG=""$KUBE_TAG"" CLOUD_PROVIDER_TAG=""$CLOUD_PROVIDER_TAG"" CLOUD_PROVIDER_ENABLED=""$CLOUD_PROVIDER_ENABLED"" ETCD_TAG=""$ETCD_TAG"" COREDNS_TAG=""$COREDNS_TAG"" FLANNEL_TAG=""$FLANNEL_TAG"" FLANNEL_CNI_TAG=""$FLANNEL_CNI_TAG"" KUBE_VERSION=""$KUBE_VERSION"" KUBE_DASHBOARD_VERSION=""$KUBE_DASHBOARD_VERSION"" TRUSTEE_USER_ID=""$TRUSTEE_USER_ID"" TRUSTEE_PASSWORD=""$TRUSTEE_PASSWORD"" TRUST_ID=""$TRUST_ID"" AUTH_URL=""$AUTH_URL"" INSECURE_REGISTRY_URL=""$INSECURE_REGISTRY_URL"" CONTAINER_INFRA_PREFIX=""$CONTAINER_INFRA_PREFIX"" SYSTEM_PODS_INITIAL_DELAY=""$SYSTEM_PODS_INITIAL_DELAY"" SYSTEM_PODS_TIMEOUT=""$SYSTEM_PODS_TIMEOUT"" ETCD_LB_VIP=""$ETCD_LB_VIP"" DNS_SERVICE_IP=""$DNS_SERVICE_IP"" DNS_CLUSTER_DOMAIN=""$DNS_CLUSTER_DOMAIN"" CERT_MANAGER_API=""$CERT_MANAGER_API"" CA_KEY=""$CA_KEY"" CALICO_TAG=""$CALICO_TAG"" CALICO_KUBE_CONTROLLERS_TAG=""$CALICO_KUBE_CONTROLLERS_TAG"" CALICO_IPV4POOL=""$CALICO_IPV4POOL"" INGRESS_CONTROLLER=""$INGRESS_CONTROLLER"" INGRESS_CONTROLLER_ROLE=""$INGRESS_CONTROLLER_ROLE"" OCTAVIA_INGRESS_CONTROLLER_TAG=""$OCTAVIA_INGRESS_CONTROLLER_TAG"" KUBELET_OPTIONS=""$KUBELET_OPTIONS"" KUBECONTROLLER_OPTIONS=""$KUBECONTROLLER_OPTIONS"" KUBEAPI_OPTIONS=""$KUBEAPI_OPTIONS"" KUBEPROXY_OPTIONS=""$KUBEPROXY_OPTIONS"" KUBESCHEDULER_OPTIONS=""$KUBESCHEDULER_OPTIONS"" OCTAVIA_ENABLED=""$OCTAVIA_ENABLED"" KUBE_SERVICE_ACCOUNT_KEY=""$KUBE_SERVICE_ACCOUNT_KEY"" KUBE_SERVICE_ACCOUNT_PRIVATE_KEY=""$KUBE_SERVICE_ACCOUNT_PRIVATE_KEY"" PROMETHEUS_TAG=""$PROMETHEUS_TAG"" GRAFANA_TAG=""$GRAFANA_TAG"" HEAT_CONTAINER_AGENT_TAG=""$HEAT_CONTAINER_AGENT_TAG"" KEYSTONE_AUTH_ENABLED=""$KEYSTONE_AUTH_ENABLED"" K8S_KEYSTONE_AUTH_TAG=""$K8S_KEYSTONE_AUTH_TAG"" PROJECT_ID=""$PROJECT_ID"" EXTERNAL_NETWORK_ID=""$EXTERNAL_NETWORK_ID"" TILLER_ENABLED=""$TILLER_ENABLED"" TILLER_TAG=""$TILLER_TAG"" TILLER_NAMESPACE=""$TILLER_NAMESPACE"" NODE_PROBLEM_DETECTOR_TAG=""$NODE_PROBLEM_DETECTOR_TAG"" NGINX_INGRESS_CONTROLLER_TAG=""$NGINX_INGRESS_CONTROLLER_TAG"" NGINX_INGRESS_CONTROLLER_CHART_TAG=""$NGINX_INGRESS_CONTROLLER_CHART_TAG"" AUTO_HEALING_ENABLED=""$AUTO_HEALING_ENABLED"" AUTO_HEALING_CONTROLLER=""$AUTO_HEALING_CONTROLLER"" AUTO_SCALING_ENABLED=""$AUTO_SCALING_ENABLED"" DRAINO_TAG=""$DRAINO_TAG"" MAGNUM_AUTO_HEALER_TAG=""$MAGNUM_AUTO_HEALER_TAG"" AUTOSCALER_TAG=""$AUTOSCALER_TAG"" MIN_NODE_COUNT=""$MIN_NODE_COUNT"" MAX_NODE_COUNT=""$MAX_NODE_COUNT"" NPD_ENABLED=""$NPD_ENABLED"" NODEGROUP_ROLE=""$NODEGROUP_ROLE"" NODEGROUP_NAME=""$NODEGROUP_NAME"" USE_PODMAN=""$USE_PODMAN""",109,109
openstack%2Fcharm-interface-websso-fid-service-provider~master~Idc42f464eca0ca3afcf37823f498055da1ea48fd,openstack/charm-interface-websso-fid-service-provider,master,Idc42f464eca0ca3afcf37823f498055da1ea48fd,Switch to Ussuri jobs,MERGED,2019-10-31 10:11:51.000000000,2019-12-19 12:47:59.000000000,2019-12-19 12:47:59.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 10:11:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-interface-websso-fid-service-provider/commit/470348aa649add518030857ad5aa8f42f1085484', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Idc42f464eca0ca3afcf37823f498055da1ea48fd\n'}]",0,692322,470348aa649add518030857ad5aa8f42f1085484,7,3,1,27565,,,0,"Switch to Ussuri jobs

Change-Id: Idc42f464eca0ca3afcf37823f498055da1ea48fd
",git fetch https://review.opendev.org/openstack/charm-interface-websso-fid-service-provider refs/changes/22/692322/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,470348aa649add518030857ad5aa8f42f1085484,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-gnocchi~master~If79bf6ca8b3486f0e29c4ea9f23c70a40f2f943a,openstack/charm-gnocchi,master,If79bf6ca8b3486f0e29c4ea9f23c70a40f2f943a,Switch to Ussuri jobs,MERGED,2019-11-14 06:57:34.000000000,2019-12-19 12:47:58.000000000,2019-12-19 12:47:58.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 23317}]","[{'number': 1, 'created': '2019-11-14 06:57:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/3f8b5805211f5bd0b2cce31195c6f5586ab11ef3', 'message': 'Switch to Ussuri jobs\n\nChange-Id: If79bf6ca8b3486f0e29c4ea9f23c70a40f2f943a\n'}]",0,694204,3f8b5805211f5bd0b2cce31195c6f5586ab11ef3,10,4,1,23317,,,0,"Switch to Ussuri jobs

Change-Id: If79bf6ca8b3486f0e29c4ea9f23c70a40f2f943a
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/04/694204/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3f8b5805211f5bd0b2cce31195c6f5586ab11ef3,dev, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-ceph-radosgw~master~I071200484b8fc28548264ad76c821f241d77f7f2,openstack/charm-ceph-radosgw,master,I071200484b8fc28548264ad76c821f241d77f7f2,Switch to Ussuri jobs,MERGED,2019-10-31 09:39:36.000000000,2019-12-19 12:47:57.000000000,2019-12-19 12:47:57.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 09:39:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/3c34176c55c6cb0cdd8fcbcfd57ae492908fc493', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I071200484b8fc28548264ad76c821f241d77f7f2\n'}]",0,692303,3c34176c55c6cb0cdd8fcbcfd57ae492908fc493,7,3,1,27565,,,0,"Switch to Ussuri jobs

Change-Id: I071200484b8fc28548264ad76c821f241d77f7f2
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/03/692303/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3c34176c55c6cb0cdd8fcbcfd57ae492908fc493,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-nova-compute~master~I409022c87b21cf078c22915fed0529dd1868d880,openstack/charm-nova-compute,master,I409022c87b21cf078c22915fed0529dd1868d880,Switch to Ussuri jobs,MERGED,2019-10-25 02:17:25.000000000,2019-12-19 12:45:32.000000000,2019-12-19 12:45:32.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-25 02:17:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/007779183fedb3e1e41abf38217c17798c149f47', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I409022c87b21cf078c22915fed0529dd1868d880\n'}]",0,691145,007779183fedb3e1e41abf38217c17798c149f47,7,3,1,30092,,,0,"Switch to Ussuri jobs

Change-Id: I409022c87b21cf078c22915fed0529dd1868d880
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/45/691145/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,007779183fedb3e1e41abf38217c17798c149f47,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-aodh~master~Id01b47dab4de2d0ca66d4eed548808e61ddfb313,openstack/charm-aodh,master,Id01b47dab4de2d0ca66d4eed548808e61ddfb313,Switch to Ussuri jobs,MERGED,2019-10-23 01:41:03.000000000,2019-12-19 12:45:31.000000000,2019-12-19 12:45:31.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-23 01:41:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/03486705c0bc5fab87138aebf0041c05368d29fd', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Id01b47dab4de2d0ca66d4eed548808e61ddfb313\n'}]",0,690460,03486705c0bc5fab87138aebf0041c05368d29fd,7,3,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: Id01b47dab4de2d0ca66d4eed548808e61ddfb313
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/60/690460/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,03486705c0bc5fab87138aebf0041c05368d29fd,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-barbican-vault~master~Ib6ec26f780bd895731a47db57eda9218de7c8001,openstack/charm-barbican-vault,master,Ib6ec26f780bd895731a47db57eda9218de7c8001,Enable functional tests for bionic-train,MERGED,2019-10-24 17:35:21.000000000,2019-12-19 12:45:28.000000000,2019-12-19 12:45:27.000000000,"[{'_account_id': 935}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-24 17:35:21.000000000', 'files': ['src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/b33d6b4b5bc461f69d531945e1c2a11c74578e4a', 'message': 'Enable functional tests for bionic-train\n\nThis patch also updates the smoke test to run bionic-train.\n\nChange-Id: Ib6ec26f780bd895731a47db57eda9218de7c8001\n'}]",0,691027,b33d6b4b5bc461f69d531945e1c2a11c74578e4a,8,4,1,11805,,,0,"Enable functional tests for bionic-train

This patch also updates the smoke test to run bionic-train.

Change-Id: Ib6ec26f780bd895731a47db57eda9218de7c8001
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/27/691027/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml']",2,b33d6b4b5bc461f69d531945e1c2a11c74578e4a,charms-train-function-test,series: bionic relations: - - mysql:shared-db - keystone:shared-db - - mysql:shared-db - vault:shared-db - - mysql:shared-db - barbican:shared-db - - keystone:identity-service - barbican:identity-service - - rabbitmq-server:amqp - barbican:amqp - - barbican-vault:secrets - barbican:secrets - - vault:secrets - barbican-vault:secrets-storage applications: mysql: charm: cs:~openstack-charmers-next/percona-cluster num_units: 1 keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: cloud:bionic-train barbican: series: bionic charm: cs:~openstack-charmers-next/barbican num_units: 1 options: openstack-origin: cloud:bionic-train barbican-vault: series: bionic charm: ../../../barbican-vault num_units: 0 rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 vault: charm: cs:~openstack-charmers-next/vault num_units: 1 ,,43,1
openstack%2Fcharm-cinder-ceph~master~I63ee791fa342a79ecaad55d0be44c0b500ac0e83,openstack/charm-cinder-ceph,master,I63ee791fa342a79ecaad55d0be44c0b500ac0e83,Switch to Ussuri jobs,MERGED,2019-10-31 11:25:34.000000000,2019-12-19 12:45:27.000000000,2019-12-19 12:45:27.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 11:25:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/7bb83081f07c727a562c9757878d82c161dc2988', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I63ee791fa342a79ecaad55d0be44c0b500ac0e83\n'}]",0,692340,7bb83081f07c727a562c9757878d82c161dc2988,8,3,1,30408,,,0,"Switch to Ussuri jobs

Change-Id: I63ee791fa342a79ecaad55d0be44c0b500ac0e83
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/40/692340/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7bb83081f07c727a562c9757878d82c161dc2988,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-cinder-ceph~master~Idd49bce274d02615b515d2c31ef23ab067387c32,openstack/charm-cinder-ceph,master,Idd49bce274d02615b515d2c31ef23ab067387c32,Switch to Ussuri jobs,MERGED,2019-10-25 02:34:12.000000000,2019-12-19 12:45:26.000000000,2019-12-19 12:45:26.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-25 02:34:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/f21173fe3dcba3a1c65b79c47d11017fbcbfebbe', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Idd49bce274d02615b515d2c31ef23ab067387c32\n'}]",0,691153,f21173fe3dcba3a1c65b79c47d11017fbcbfebbe,7,3,1,30077,,,0,"Switch to Ussuri jobs

Change-Id: Idd49bce274d02615b515d2c31ef23ab067387c32
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/53/691153/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f21173fe3dcba3a1c65b79c47d11017fbcbfebbe,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-barbican~master~I6306f941d0abdf8a56850244c4da6d5f1d1f376f,openstack/charm-barbican,master,I6306f941d0abdf8a56850244c4da6d5f1d1f376f,Switch to Ussuri jobs,MERGED,2019-10-23 01:54:04.000000000,2019-12-19 12:45:22.000000000,2019-12-19 12:45:22.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-23 01:54:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/5c3978a6c589a4715c14f543d5c490404bcfc923', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I6306f941d0abdf8a56850244c4da6d5f1d1f376f\n'}]",0,690461,5c3978a6c589a4715c14f543d5c490404bcfc923,7,3,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: I6306f941d0abdf8a56850244c4da6d5f1d1f376f
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/61/690461/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5c3978a6c589a4715c14f543d5c490404bcfc923,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-nova-compute~master~Ia2181ad2bd1894d5c2f91be5df8396bc77555658,openstack/charm-nova-compute,master,Ia2181ad2bd1894d5c2f91be5df8396bc77555658,config: Expose the introduced in Train cpu-dedicated-set's option,MERGED,2019-11-18 09:43:07.000000000,2019-12-19 12:43:03.000000000,2019-12-19 12:43:03.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-18 09:43:07.000000000', 'files': ['hooks/nova_compute_context.py', 'templates/train/nova.conf', 'config.yaml', 'unit_tests/test_nova_compute_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/7874696473b1332ab2875e801c42f35ac7d1868a', 'message': ""config: Expose the introduced in Train cpu-dedicated-set's option\n\nThe per-host config cpu-dedicated-set will provide new flexibility by\nadding ability to pack guests vCPUs which need dedicated host CPUs vs\nguests vCPUs which can float over a set of host CPUs (see:\ncpu-shared-set).\n\nChange-Id: Ia2181ad2bd1894d5c2f91be5df8396bc77555658\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n""}]",0,694736,7874696473b1332ab2875e801c42f35ac7d1868a,7,3,1,7730,,,0,"config: Expose the introduced in Train cpu-dedicated-set's option

The per-host config cpu-dedicated-set will provide new flexibility by
adding ability to pack guests vCPUs which need dedicated host CPUs vs
guests vCPUs which can float over a set of host CPUs (see:
cpu-shared-set).

Change-Id: Ia2181ad2bd1894d5c2f91be5df8396bc77555658
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/36/694736/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_context.py', 'templates/train/nova.conf', 'config.yaml', 'unit_tests/test_nova_compute_contexts.py']",4,7874696473b1332ab2875e801c42f35ac7d1868a,cpu-dedicated-set," self.test_config.set('cpu-dedicated-set', ""0-3,^10,33"") 'vcpu_pin_set': None, 'cpu_shared_set': ""4-12,^8,15"", 'cpu_dedicated_set': ""0-3,^10,33""}, libvirt()) def test_vcpu_pin_set(self): self.kv.return_value = FakeUnitdata(**{'host_uuid': self.host_uuid}) self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.test_config.set('vcpu-pin-set', '^0^2') libvirt = context.NovaComputeLibvirtContext() self.assertEqual( {'libvirtd_opts': '-d', 'libvirt_user': 'libvirtd', 'arch': platform.machine(), 'ksm': 'AUTO', 'kvm_hugepages': 0, 'listen_tls': 0, 'host_uuid': self.host_uuid, 'reserved_host_memory': 512, 'vcpu_pin_set': '^0^2', 'force_raw_images': True, 'default_ephemeral_format': 'ext4'}, libvirt())"," 'vcpu_pin_set': '^0^2', 'cpu_shared_set': ""4-12,^8,15""}, libvirt())",354,3
openstack%2Fcharm-interface-barbican-secrets~master~Ib26bdacadba617e0f2e95ad80ae35b5e5caaedd4,openstack/charm-interface-barbican-secrets,master,Ib26bdacadba617e0f2e95ad80ae35b5e5caaedd4,Switch to Ussuri jobs,MERGED,2019-10-31 09:43:33.000000000,2019-12-19 12:43:01.000000000,2019-12-19 12:43:01.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 09:43:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-interface-barbican-secrets/commit/deb7f5df41b026300080313fba143290ef984f0b', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Ib26bdacadba617e0f2e95ad80ae35b5e5caaedd4\n'}]",0,692305,deb7f5df41b026300080313fba143290ef984f0b,7,3,1,27565,,,0,"Switch to Ussuri jobs

Change-Id: Ib26bdacadba617e0f2e95ad80ae35b5e5caaedd4
",git fetch https://review.opendev.org/openstack/charm-interface-barbican-secrets refs/changes/05/692305/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,deb7f5df41b026300080313fba143290ef984f0b,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-interface-cinder-backend~master~I06838e07cc42a37837ed3c99bccb9625fcf6d4a4,openstack/charm-interface-cinder-backend,master,I06838e07cc42a37837ed3c99bccb9625fcf6d4a4,Switch to Ussuri jobs,MERGED,2019-10-31 09:47:47.000000000,2019-12-19 12:42:59.000000000,2019-12-19 12:42:59.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 09:47:47.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-interface-cinder-backend/commit/8cbc9c994a69c95fecfb2e5c1fabbfc4f286ed49', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I06838e07cc42a37837ed3c99bccb9625fcf6d4a4\n'}]",0,692308,8cbc9c994a69c95fecfb2e5c1fabbfc4f286ed49,7,3,1,27565,,,0,"Switch to Ussuri jobs

Change-Id: I06838e07cc42a37837ed3c99bccb9625fcf6d4a4
",git fetch https://review.opendev.org/openstack/charm-interface-cinder-backend refs/changes/08/692308/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8cbc9c994a69c95fecfb2e5c1fabbfc4f286ed49,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Ftripleo-common~master~I585abc3e6a3b9b8ae9183e0b5170df2e39301e17,openstack/tripleo-common,master,I585abc3e6a3b9b8ae9183e0b5170df2e39301e17,"Revert ""Added support of overcloud os_cloud""",ABANDONED,2019-12-16 13:17:34.000000000,2019-12-19 12:42:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-16 13:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dd1f9911fd5f3192bff190af24886d6cd0854e60', 'message': 'Revert ""Added support of overcloud os_cloud""\n\nThis reverts commit 3c4cb58d8162fadded40076a2e3b40a510a6e9d7.\n\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\nDepends-On: 932fc6755a8315ccde2e90848ad3224f1fe16735.\n'}, {'number': 2, 'created': '2019-12-17 03:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/06cc3f0e18fcbd5b02048f8058d5ea48c2e32573', 'message': 'Revert ""Added support of overcloud os_cloud""\n\nThis reverts commit 3c4cb58d8162fadded40076a2e3b40a510a6e9d7.\n\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\nDepends-On: https://review.opendev.org/#/c/699329/\n'}, {'number': 3, 'created': '2019-12-17 03:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/724370125e799f893d6577f35c4dd5d1ea240b14', 'message': 'Revert ""Added support of overcloud os_cloud""\n\nThis reverts commit 3c4cb58d8162fadded40076a2e3b40a510a6e9d7.\n\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\nDepends-On: https://review.opendev.org/#/c/699329/\n'}, {'number': 4, 'created': '2019-12-17 16:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5e772a631f806ee375970f423f7c90df54c79519', 'message': 'Revert ""Added support of overcloud os_cloud""\n\nThis reverts commit 3c4cb58d8162fadded40076a2e3b40a510a6e9d7.\n\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\nDepends-On: https://review.opendev.org/#/c/699329/\n'}, {'number': 5, 'created': '2019-12-19 03:05:15.000000000', 'files': ['tripleo_common/utils/clouds_yaml.py', 'workbooks/deployment.yaml', 'tripleo_common/actions/deployment.py', 'tripleo_common/constants.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/59471d64bbdbadba06838c9abfa75192b89169a9', 'message': 'Revert ""Added support of overcloud os_cloud""\n\nThis reverts commit 3c4cb58d8162fadded40076a2e3b40a510a6e9d7.\n\nChange-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17\n\nDepends-On: https://review.opendev.org/#/c/699329/\n'}]",0,699206,59471d64bbdbadba06838c9abfa75192b89169a9,16,2,5,3153,,,0,"Revert ""Added support of overcloud os_cloud""

This reverts commit 3c4cb58d8162fadded40076a2e3b40a510a6e9d7.

Change-Id: I585abc3e6a3b9b8ae9183e0b5170df2e39301e17

Depends-On: https://review.opendev.org/#/c/699329/
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/06/699206/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/clouds_yaml.py', 'workbooks/deployment.yaml', 'tripleo_common/actions/deployment.py', 'tripleo_common/constants.py', 'setup.cfg']",5,dd1f9911fd5f3192bff190af24886d6cd0854e60,tripleo-keystone-resources,"exclude = .eggs,.tox"," tripleo.deployment.createcloudsyaml = tripleo_common.actions.deployment:CreateCloudsYamlActionexclude = .eggs,.tox ",1,154
openstack%2Fcharm-hacluster~master~I690ab09f78e082ca1a30064262a0c2feeb60456d,openstack/charm-hacluster,master,I690ab09f78e082ca1a30064262a0c2feeb60456d,Only install python3-libmaas when necessary,ABANDONED,2019-06-27 13:50:06.000000000,2019-12-19 12:41:54.000000000,,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 13:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/aa2ea51640d753fdc2439a9a7eed40ae80f8340c', 'message': 'Only install python3-libmaas when necessary\n\nChange-Id: I690ab09f78e082ca1a30064262a0c2feeb60456d\nPartial-Bug: #1823718\n'}, {'number': 2, 'created': '2019-06-27 14:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/c7911c0e14782904a98fa9ef4972c4951ed19191', 'message': 'Only install python3-libmaas when necessary\n\nChange-Id: I690ab09f78e082ca1a30064262a0c2feeb60456d\nPartial-Bug: #1823718\n'}, {'number': 3, 'created': '2019-06-27 15:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/a03f934b8e1fa76d27c09db08a6e6eec059bdd6d', 'message': 'Only install python3-libmaas when necessary\n\nChange-Id: I690ab09f78e082ca1a30064262a0c2feeb60456d\nPartial-Bug: #1823718\n'}, {'number': 4, 'created': '2019-07-01 14:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/5b178b79c8ee7ab5ff9903422e61cb525f2f0145', 'message': 'Only install python3-libmaas when necessary\n\nChange-Id: I690ab09f78e082ca1a30064262a0c2feeb60456d\nPartial-Bug: #1823718\n'}, {'number': 5, 'created': '2019-07-03 05:59:25.000000000', 'files': ['hooks/hooks.py', 'hooks/utils.py', 'unit_tests/test_hacluster_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/d1558a07574d3841d72c4f2eafd577fb73c247af', 'message': 'Only install python3-libmaas when necessary\n\nChange-Id: I690ab09f78e082ca1a30064262a0c2feeb60456d\nPartial-Bug: #1823718\n'}]",1,667929,d1558a07574d3841d72c4f2eafd577fb73c247af,24,4,5,20634,,,0,"Only install python3-libmaas when necessary

Change-Id: I690ab09f78e082ca1a30064262a0c2feeb60456d
Partial-Bug: #1823718
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/29/667929/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/hooks.py'],1,aa2ea51640d753fdc2439a9a7eed40ae80f8340c,bug/1823718, elif (CompareHostReleases(ubuntu_release) >= 'bionic' and config('maas_url') is not None):, elif CompareHostReleases(ubuntu_release) >= 'bionic':,2,1
openstack%2Fcharm-swift-proxy~master~I4b59ae94d502dafff27d1f38007b68b55a565dae,openstack/charm-swift-proxy,master,I4b59ae94d502dafff27d1f38007b68b55a565dae,Switching out service_stop for service_pause for swift-proxy service,ABANDONED,2019-02-13 13:12:03.000000000,2019-12-19 12:40:37.000000000,,"[{'_account_id': 935}, {'_account_id': 6737}, {'_account_id': 11805}, {'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 29799}]","[{'number': 1, 'created': '2019-02-13 13:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/19c9e52bce40cdb685866c4adeec015b01cf99cd', 'message': "" Switching out service_stop for service_pause for swift-proxy service during\n ring syncs to avoid inadvertant service start by config-changed hook.\n\n If start is called\\ the service init file won't be present to be\n executed.  Only when service_resume is called after the ring_sync\n completes will the service file be available again.\n\n Fixes bug 1723427\n\nChange-Id: I4b59ae94d502dafff27d1f38007b68b55a565dae\n""}, {'number': 2, 'created': '2019-02-13 15:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/1bd20a02dd2a2ccf51e63ac5b96896353dfdf187', 'message': "" Switching out service_stop for service_pause for swift-proxy service during\n ring syncs to avoid inadvertant service start by config-changed hook.\n\n If start is called the service init file won't be present to be\n executed.  Only when service_resume is called after the ring_sync\n completes will the service file be available again.\n\n Closes-Bug: #1723427\n\nChange-Id: I4b59ae94d502dafff27d1f38007b68b55a565dae\n""}, {'number': 3, 'created': '2019-02-14 15:21:34.000000000', 'files': ['hooks/swift_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/6816941a73391cbd617918f53be5ae956d4fc97a', 'message': "" Switching out service_stop for service_pause for swift-proxy service\n\n During ring syncs, we should disable the service to avoid inadvertant\n service start by config-changed hook.\n\n If start is called the service init file won't be present to be\n executed.  Only when service_resume is called after the ring_sync\n completes will the service file be available again.\n\n Closes-Bug: #1723427\n\nChange-Id: I4b59ae94d502dafff27d1f38007b68b55a565dae\n""}]",2,636622,6816941a73391cbd617918f53be5ae956d4fc97a,14,9,3,29799,,,0," Switching out service_stop for service_pause for swift-proxy service

 During ring syncs, we should disable the service to avoid inadvertant
 service start by config-changed hook.

 If start is called the service init file won't be present to be
 executed.  Only when service_resume is called after the ring_sync
 completes will the service file be available again.

 Closes-Bug: #1723427

Change-Id: I4b59ae94d502dafff27d1f38007b68b55a565dae
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/22/636622/3 && git format-patch -1 --stdout FETCH_HEAD,['hooks/swift_hooks.py'],1,19c9e52bce40cdb685866c4adeec015b01cf99cd,bug/1723427," service_pause, service_resume service_pause('swift-proxy') service_pause('swift-proxy') service_pause(""swift-proxy"") service_pause('swift-proxy') service_resume('swift-proxy') service_resume('swift-proxy') started = service_resume(service)"," service_start, service_stop('swift-proxy') service_stop('swift-proxy') service_stop(""swift-proxy"") service_stop('swift-proxy') service_start('swift-proxy') service_start('swift-proxy') started = service_start(service)",9,8
openstack%2Fmagnum~stable%2Ftrain~Ic15ad96a13f18c820bba592d4550f3a4fa951ffb,openstack/magnum,stable/train,Ic15ad96a13f18c820bba592d4550f3a4fa951ffb,[fix] Allow cluster OS upgrade without specifying kube_tag,MERGED,2019-12-17 21:31:05.000000000,2019-12-19 12:40:35.000000000,2019-12-19 12:34:30.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-12-17 21:31:05.000000000', 'files': ['magnum/drivers/heat/driver.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/9deca03bb0ac32d67c516d50a1e9f137b36f3e1b', 'message': ""[fix] Allow cluster OS upgrade without specifying kube_tag\n\nIf kube_tag is not specified in the new cluster_template, the existing\nkube_tag should be reused. At the moment, we simply see this error which\ndoes not make any sense:\n\n    $ openstack coe cluster upgrade k8s k8s-alt\n    '\\'kube_tag\\'\\n (HTTP 500) (Request-ID: req-652883e9-05f3-43f1-b94d-8c6e0de75a2e)\n\nStory: 2005201\nTask: 37712\n\nChange-Id: Ic15ad96a13f18c820bba592d4550f3a4fa951ffb\n(cherry picked from commit 895b693c07caae39c20cfd94c2d415a481334e1a)\n""}]",0,699504,9deca03bb0ac32d67c516d50a1e9f137b36f3e1b,10,4,1,28022,,,0,"[fix] Allow cluster OS upgrade without specifying kube_tag

If kube_tag is not specified in the new cluster_template, the existing
kube_tag should be reused. At the moment, we simply see this error which
does not make any sense:

    $ openstack coe cluster upgrade k8s k8s-alt
    '\'kube_tag\'\n (HTTP 500) (Request-ID: req-652883e9-05f3-43f1-b94d-8c6e0de75a2e)

Story: 2005201
Task: 37712

Change-Id: Ic15ad96a13f18c820bba592d4550f3a4fa951ffb
(cherry picked from commit 895b693c07caae39c20cfd94c2d415a481334e1a)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/04/699504/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/heat/driver.py'],1,9deca03bb0ac32d67c516d50a1e9f137b36f3e1b,kube_tag-stable/train," @staticmethod def get_new_labels(nodegroup, cluster_template): new_labels = nodegroup.labels.copy() if 'kube_tag' in cluster_template.labels: new_kube_tag = cluster_template.labels['kube_tag'] new_labels.update({'kube_tag': new_kube_tag}) return new_labels nodegroup.labels = new_labels = self.get_new_labels(nodegroup, cluster_template)"," """"""For Train release we are going to upgrade only the kube tag"""""" new_kube_tag = cluster_template.labels['kube_tag'] new_labels = nodegroup.labels.copy() new_labels.update({'kube_tag': new_kube_tag}) nodegroup.labels = new_labels",10,5
openstack%2Fcharm-interface-pacemaker-remote~master~Icb78d522f12d520c1ac6dcb0b09e3311770be804,openstack/charm-interface-pacemaker-remote,master,Icb78d522f12d520c1ac6dcb0b09e3311770be804,Switch to Ussuri jobs,MERGED,2019-10-31 10:05:18.000000000,2019-12-19 12:40:34.000000000,2019-12-19 12:40:34.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 10:05:18.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-interface-pacemaker-remote/commit/750909a84096d34500a5b0a3b8758b15c386fcfd', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Icb78d522f12d520c1ac6dcb0b09e3311770be804\n'}]",0,692319,750909a84096d34500a5b0a3b8758b15c386fcfd,7,3,1,27565,,,0,"Switch to Ussuri jobs

Change-Id: Icb78d522f12d520c1ac6dcb0b09e3311770be804
",git fetch https://review.opendev.org/openstack/charm-interface-pacemaker-remote refs/changes/19/692319/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,750909a84096d34500a5b0a3b8758b15c386fcfd,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-ceph-proxy~master~Id61c1806a17a76c45e3dc19f1d97c250cc6125b8,openstack/charm-ceph-proxy,master,Id61c1806a17a76c45e3dc19f1d97c250cc6125b8,Switch to Ussuri jobs,MERGED,2019-10-31 09:37:40.000000000,2019-12-19 12:40:32.000000000,2019-12-19 12:40:32.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 09:37:40.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/1cad0439d4226e774f82f3c87b5e76a438e2b16e', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Id61c1806a17a76c45e3dc19f1d97c250cc6125b8\n'}]",0,692301,1cad0439d4226e774f82f3c87b5e76a438e2b16e,7,3,1,27565,,,0,"Switch to Ussuri jobs

Change-Id: Id61c1806a17a76c45e3dc19f1d97c250cc6125b8
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/01/692301/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1cad0439d4226e774f82f3c87b5e76a438e2b16e,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-ceph-rbd-mirror~master~I88580aee3943af84b9f23ee67da38d80a8394d11,openstack/charm-ceph-rbd-mirror,master,I88580aee3943af84b9f23ee67da38d80a8394d11,Switch to Ussuri jobs,MERGED,2019-10-31 09:41:39.000000000,2019-12-19 12:40:31.000000000,2019-12-19 12:40:31.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 09:41:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/1bd0221e4cc680433ae5d6bf96836dacb7b55d52', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I88580aee3943af84b9f23ee67da38d80a8394d11\n'}]",0,692304,1bd0221e4cc680433ae5d6bf96836dacb7b55d52,7,3,1,27565,,,0,"Switch to Ussuri jobs

Change-Id: I88580aee3943af84b9f23ee67da38d80a8394d11
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/04/692304/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1bd0221e4cc680433ae5d6bf96836dacb7b55d52,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-interface-neutron-plugin-api-subordinate~master~I8c3cab09d2691fec361b1913a9c5bc83e82c65f0,openstack/charm-interface-neutron-plugin-api-subordinate,master,I8c3cab09d2691fec361b1913a9c5bc83e82c65f0,Switch to Ussuri jobs,MERGED,2019-10-31 10:01:18.000000000,2019-12-19 12:40:26.000000000,2019-12-19 12:40:26.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 10:01:18.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-interface-neutron-plugin-api-subordinate/commit/eb1f0a7b7e72beaf389afebb27592df8d7fafc2d', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I8c3cab09d2691fec361b1913a9c5bc83e82c65f0\n'}]",0,692317,eb1f0a7b7e72beaf389afebb27592df8d7fafc2d,7,3,1,27565,,,0,"Switch to Ussuri jobs

Change-Id: I8c3cab09d2691fec361b1913a9c5bc83e82c65f0
",git fetch https://review.opendev.org/openstack/charm-interface-neutron-plugin-api-subordinate refs/changes/17/692317/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,eb1f0a7b7e72beaf389afebb27592df8d7fafc2d,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-cinder-purestorage~stable%2F19.10~Ibbc52690cd5af01e829f6643644204c03f79455d,openstack/charm-cinder-purestorage,stable/19.10,Ibbc52690cd5af01e829f6643644204c03f79455d,Enable func tests for pike through train,MERGED,2019-10-29 19:52:59.000000000,2019-12-19 12:37:36.000000000,2019-12-19 12:37:36.000000000,"[{'_account_id': 935}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-29 19:52:59.000000000', 'files': ['src/tests/tests_cinder_purestorage.py', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/bundles/xenial-queens.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/xenial-pike.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/687f2883d875d763f7f906872ff63b796397f6cc', 'message': 'Enable func tests for pike through train\n\nEnable func tests for pike through train. Also, the cinder api seems\nto take a little time to settle so ensure all units are idle before\nrunning tests.\n\nChange-Id: Ibbc52690cd5af01e829f6643644204c03f79455d\n'}]",0,691958,687f2883d875d763f7f906872ff63b796397f6cc,10,4,1,20635,,,0,"Enable func tests for pike through train

Enable func tests for pike through train. Also, the cinder api seems
to take a little time to settle so ensure all units are idle before
running tests.

Change-Id: Ibbc52690cd5af01e829f6643644204c03f79455d
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/58/691958/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/tests_cinder_purestorage.py', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/bundles/xenial-queens.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/xenial-pike.yaml']",7,687f2883d875d763f7f906872ff63b796397f6cc,charms-train-function-test-stable,series: xenial comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': '2': '3': relations: - - keystone:shared-db - mysql:shared-db - - cinder:shared-db - mysql:shared-db - - cinder:identity-service - keystone:identity-service - - cinder:amqp - rabbitmq-server:amqp - - cinder:storage-backend - cinder-purestorage:storage-backend applications: mysql: charm: cs:~openstack-charmers-next/percona-cluster num_units: 1 to: - '0' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: cloud:xenial-pike to: - '1' cinder: charm: cs:~openstack-charmers-next/cinder num_units: 1 options: openstack-origin: cloud:xenial-pike to: - '2' cinder-purestorage: series: xenial charm: ../../../cinder-purestorage options: # Add config options here driver-source: ppa:openstack-charmers/purestorage-stable protocol: iscsi volume-backend-name: cinder-pure rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 to: - '3' ,,271,0
openstack%2Fheat~master~I56560d014a02b5f2ddbc08689d39147fbe4ffca4,openstack/heat,master,I56560d014a02b5f2ddbc08689d39147fbe4ffca4,Use resource description as default description property,MERGED,2019-01-04 08:52:33.000000000,2019-12-19 12:37:26.000000000,2019-12-19 12:33:48.000000000,"[{'_account_id': 12404}, {'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-01-04 08:52:33.000000000', 'files': ['heat/engine/rsrc_defn.py', 'heat/tests/test_properties.py', 'heat/engine/properties.py', 'doc/source/ext/resources.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/da974ed216625ff261f3ddeb9d2dc8d412fff17c', 'message': ""Use resource description as default description property\n\nWe allow users to provide a description for a resource that shows up in\nthe Heat API. Many resource types also allow users to add descriptions,\nand these have typically been exposed as properties rather than by\ntrying to read the resource's own description.\n\nTo prevent the need to duplicate information, use the resource's\ndescription as the default for any top-level properties named\n'description'.\n\nOne downside of this is that any changes to the resource description\ncould cause updates to the resource. (However, there are no issues\nspecific to updgrades, because the subsitution is also done on the\nprevious properties.) To guard against the worst of this, only enable\nthis behaviour if the description can be updated without resource\nreplacement.\n\nChange-Id: I56560d014a02b5f2ddbc08689d39147fbe4ffca4\n""}]",0,628360,da974ed216625ff261f3ddeb9d2dc8d412fff17c,14,5,1,4257,,,0,"Use resource description as default description property

We allow users to provide a description for a resource that shows up in
the Heat API. Many resource types also allow users to add descriptions,
and these have typically been exposed as properties rather than by
trying to read the resource's own description.

To prevent the need to duplicate information, use the resource's
description as the default for any top-level properties named
'description'.

One downside of this is that any changes to the resource description
could cause updates to the resource. (However, there are no issues
specific to updgrades, because the subsitution is also done on the
previous properties.) To guard against the worst of this, only enable
this behaviour if the description can be updated without resource
replacement.

Change-Id: I56560d014a02b5f2ddbc08689d39147fbe4ffca4
",git fetch https://review.opendev.org/openstack/heat refs/changes/60/628360/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/rsrc_defn.py', 'heat/tests/test_properties.py', 'heat/engine/properties.py', 'doc/source/ext/resources.py']",4,da974ed216625ff261f3ddeb9d2dc8d412fff17c,," elif prop_key == 'description' and prop.update_allowed: para = nodes.line('', _('Defaults to the resource description'))",,36,2
openstack%2Fcharm-interface-service-control~master~I22a7d488efb8dba8bfe837464a3bca9934f624de,openstack/charm-interface-service-control,master,I22a7d488efb8dba8bfe837464a3bca9934f624de,Switch to Ussuri jobs,MERGED,2019-10-31 10:09:25.000000000,2019-12-19 12:37:23.000000000,2019-12-19 12:37:23.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 10:09:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-interface-service-control/commit/7896d6766fa1bfff3f65689b22fbb5c8dbf82e7f', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I22a7d488efb8dba8bfe837464a3bca9934f624de\n'}]",0,692321,7896d6766fa1bfff3f65689b22fbb5c8dbf82e7f,7,3,1,27565,,,0,"Switch to Ussuri jobs

Change-Id: I22a7d488efb8dba8bfe837464a3bca9934f624de
",git fetch https://review.opendev.org/openstack/charm-interface-service-control refs/changes/21/692321/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7896d6766fa1bfff3f65689b22fbb5c8dbf82e7f,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-interface-keystone-fid-service-provider~master~I1c996aaa8ca89a3a1b716ee8820f664683f0343e,openstack/charm-interface-keystone-fid-service-provider,master,I1c996aaa8ca89a3a1b716ee8820f664683f0343e,Switch to Ussuri jobs,MERGED,2019-10-31 09:54:24.000000000,2019-12-19 12:37:22.000000000,2019-12-19 12:37:22.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 09:54:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-interface-keystone-fid-service-provider/commit/cf1d2146c5b8b0e184db8ada3da4f3b904f61b28', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I1c996aaa8ca89a3a1b716ee8820f664683f0343e\n'}]",0,692313,cf1d2146c5b8b0e184db8ada3da4f3b904f61b28,7,3,1,27565,,,0,"Switch to Ussuri jobs

Change-Id: I1c996aaa8ca89a3a1b716ee8820f664683f0343e
",git fetch https://review.opendev.org/openstack/charm-interface-keystone-fid-service-provider refs/changes/13/692313/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,cf1d2146c5b8b0e184db8ada3da4f3b904f61b28,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-interface-mysql-shared~master~I180afc0040e49a1a3b5c6135369f13b717773764,openstack/charm-interface-mysql-shared,master,I180afc0040e49a1a3b5c6135369f13b717773764,Switch to Ussuri jobs,MERGED,2019-10-31 09:56:34.000000000,2019-12-19 12:37:20.000000000,2019-12-19 12:37:20.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 09:56:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-interface-mysql-shared/commit/ceaffa0af67abdd633a2fd8cbb5df6f4c8a29408', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I180afc0040e49a1a3b5c6135369f13b717773764\n'}]",0,692314,ceaffa0af67abdd633a2fd8cbb5df6f4c8a29408,7,3,1,27565,,,0,"Switch to Ussuri jobs

Change-Id: I180afc0040e49a1a3b5c6135369f13b717773764
",git fetch https://review.opendev.org/openstack/charm-interface-mysql-shared refs/changes/14/692314/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ceaffa0af67abdd633a2fd8cbb5df6f4c8a29408,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-interface-nova-compute~master~I2dd3decc71ca5fe8bf29330c0cadd8b5a148aae4,openstack/charm-interface-nova-compute,master,I2dd3decc71ca5fe8bf29330c0cadd8b5a148aae4,Switch to Ussuri jobs,MERGED,2019-10-31 10:03:16.000000000,2019-12-19 12:34:38.000000000,2019-12-19 12:34:38.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 10:03:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-interface-nova-compute/commit/9c2ac32428af831d23d7561d6639fac81c00c102', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I2dd3decc71ca5fe8bf29330c0cadd8b5a148aae4\n'}]",0,692318,9c2ac32428af831d23d7561d6639fac81c00c102,7,3,1,27565,,,0,"Switch to Ussuri jobs

Change-Id: I2dd3decc71ca5fe8bf29330c0cadd8b5a148aae4
",git fetch https://review.opendev.org/openstack/charm-interface-nova-compute refs/changes/18/692318/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9c2ac32428af831d23d7561d6639fac81c00c102,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-layer-openstack-api~master~I9726801bda0653ae98c028913eb2d67a77970715,openstack/charm-layer-openstack-api,master,I9726801bda0653ae98c028913eb2d67a77970715,Add list of files to exclude on layer consumption,MERGED,2019-11-13 11:57:50.000000000,2019-12-19 12:34:01.000000000,2019-12-19 12:34:01.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 11:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack-api/commit/58f11d8cc5c0014d672c3dc76f48c24ee8ce2843', 'message': 'Add list of files to exclude on layer consumption\n\nChange-Id: I9726801bda0653ae98c028913eb2d67a77970715\nCloses-Bug: #1852424\n'}, {'number': 2, 'created': '2019-11-13 13:06:19.000000000', 'files': ['layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack-api/commit/4cc2bf06608aed696f3454234c74b553f8e4e0e3', 'message': 'Add list of files to exclude on layer consumption\n\nChange-Id: I9726801bda0653ae98c028913eb2d67a77970715\nCloses-Bug: #1852424\n'}]",0,694052,4cc2bf06608aed696f3454234c74b553f8e4e0e3,10,3,2,13686,,,0,"Add list of files to exclude on layer consumption

Change-Id: I9726801bda0653ae98c028913eb2d67a77970715
Closes-Bug: #1852424
",git fetch https://review.opendev.org/openstack/charm-layer-openstack-api refs/changes/52/694052/1 && git format-patch -1 --stdout FETCH_HEAD,['layer.yaml'],1,58f11d8cc5c0014d672c3dc76f48c24ee8ce2843,bug/1852424,"exclude: ['.gitignore', '.gitreview', '.zuul.yaml', 'README.md', 'requirements.txt', 'test-requirements.txt', 'tox.ini']",,2,0
openstack%2Fcharm-layer-openstack~master~I4791f29f850e809a35c40b562e018a2f743e22d1,openstack/charm-layer-openstack,master,I4791f29f850e809a35c40b562e018a2f743e22d1,Add list of files to exclude on layer consumption,MERGED,2019-11-13 11:57:45.000000000,2019-12-19 12:33:46.000000000,2019-12-19 12:33:46.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 11:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack/commit/7c03702b12ec65741c8fc88ac665cdf4817a8170', 'message': 'Add list of files to exclude on layer consumption\n\nChange-Id: I4791f29f850e809a35c40b562e018a2f743e22d1\nCloses-Bug: #1852424\n'}, {'number': 2, 'created': '2019-11-13 13:06:18.000000000', 'files': ['layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack/commit/42f82ffaa8497fec7e33b6691740ba7377918f8a', 'message': 'Add list of files to exclude on layer consumption\n\nChange-Id: I4791f29f850e809a35c40b562e018a2f743e22d1\nCloses-Bug: #1852424\n'}]",0,694051,42f82ffaa8497fec7e33b6691740ba7377918f8a,12,4,2,13686,,,0,"Add list of files to exclude on layer consumption

Change-Id: I4791f29f850e809a35c40b562e018a2f743e22d1
Closes-Bug: #1852424
",git fetch https://review.opendev.org/openstack/charm-layer-openstack refs/changes/51/694051/1 && git format-patch -1 --stdout FETCH_HEAD,['layer.yaml'],1,7c03702b12ec65741c8fc88ac665cdf4817a8170,bug/1852424,"exclude: ['.gitignore', '.gitreview', '.zuul.yaml', 'README.md', 'requirements.txt', 'test-requirements.txt', 'tox.ini']",,2,0
openstack%2Fcharm-ceph-osd~master~Ib117fc5797447ade75d50a7ff7dae5de473fe7b9,openstack/charm-ceph-osd,master,Ib117fc5797447ade75d50a7ff7dae5de473fe7b9,Fix list-disk action wrongly report osd journal as the non-pristine device,MERGED,2019-10-14 10:22:18.000000000,2019-12-19 12:33:46.000000000,2019-12-19 12:33:45.000000000,"[{'_account_id': 935}, {'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 21107}, {'_account_id': 22348}, {'_account_id': 28759}]","[{'number': 1, 'created': '2019-10-14 10:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/fff06501555e5a82422abc107a88bd03aad2a846', 'message': 'Fix list-disk action wrongly report osd journal as the non-pristine device\n\nChange-Id: Ib117fc5797447ade75d50a7ff7dae5de473fe7b9\nCloses-Bug: #1847988\n'}, {'number': 2, 'created': '2019-10-15 02:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/2c3be65644977f2fd12c20a74a463796bb7b29f4', 'message': 'Fix list-disk action wrongly report osd journal as the non-pristine device\n\nChange-Id: Ib117fc5797447ade75d50a7ff7dae5de473fe7b9\nCloses-Bug: #1847988\n'}, {'number': 3, 'created': '2019-10-23 07:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/858a280396a7043e0fea343928244b57d2cf9c54', 'message': 'Fix list-disk action wrongly report osd journal as the non-pristine device\n\nChange-Id: Ib117fc5797447ade75d50a7ff7dae5de473fe7b9\nCloses-Bug: #1847988\n'}, {'number': 4, 'created': '2019-10-23 07:28:40.000000000', 'files': ['unit_tests/test_actions_list_disks.py', 'actions/list_disks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/8ca701eb878abbe31034e871fc1508e9bed47093', 'message': 'Fix list-disk action wrongly report osd journal as the non-pristine device\n\nChange-Id: Ib117fc5797447ade75d50a7ff7dae5de473fe7b9\nCloses-Bug: #1847988\n'}]",0,688372,8ca701eb878abbe31034e871fc1508e9bed47093,23,7,4,28759,,,0,"Fix list-disk action wrongly report osd journal as the non-pristine device

Change-Id: Ib117fc5797447ade75d50a7ff7dae5de473fe7b9
Closes-Bug: #1847988
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/72/688372/4 && git format-patch -1 --stdout FETCH_HEAD,['actions/list_disks.py'],1,fff06501555e5a82422abc107a88bd03aad2a846,bug/1847988,"import os osd_journal_realpath = set() for journal in osd_journal: osd_journal_realpath.add(os.path.realpath(journal)) for dev in list(set(ceph.utils.unmounted_disks()) - set(osd_journal_realpath)): 'disks': list(set(ceph.utils.unmounted_disks()) - set(osd_journal_realpath)),"," for dev in list(set(ceph.utils.unmounted_disks()) - set(osd_journal)): 'disks': list(set(ceph.utils.unmounted_disks()) - set(osd_journal)),",7,2
openstack%2Fcharm-ceph-rbd-mirror~master~I44307aa958ee3caf245865a21948fd2641fa0a6d,openstack/charm-ceph-rbd-mirror,master,I44307aa958ee3caf245865a21948fd2641fa0a6d,Make use of default ``config.rendered`` handler,MERGED,2019-11-29 07:03:26.000000000,2019-12-19 12:33:44.000000000,2019-12-19 12:33:44.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-29 07:03:26.000000000', 'files': ['src/reactive/ceph_rbd_mirror_handlers.py', 'unit_tests/test_ceph_rbd_mirror_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/0bb529a8284f142984bf0da9666f6c1aeb491298', 'message': 'Make use of default ``config.rendered`` handler\n\nChange-Id: I44307aa958ee3caf245865a21948fd2641fa0a6d\n'}]",0,696642,0bb529a8284f142984bf0da9666f6c1aeb491298,9,4,1,13686,,,0,"Make use of default ``config.rendered`` handler

Change-Id: I44307aa958ee3caf245865a21948fd2641fa0a6d
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/42/696642/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/reactive/ceph_rbd_mirror_handlers.py', 'unit_tests/test_ceph_rbd_mirror_handlers.py']",2,0bb529a8284f142984bf0da9666f6c1aeb491298,use-config-rendered," 'config.rendered',"," 'when_not': { 'disable_services': ( 'config.rendered', ), }, def test_disable_services(self): self.patch_object(handlers.ch_core.host, 'service') self.crm_charm.services = ['aservice'] handlers.disable_services() self.service.assert_has_calls([ mock.call('disable', 'aservice'), mock.call('stop', 'aservice'), ]) self.crm_charm.assess_status.assert_called_once_with() self.service.assert_has_calls([ mock.call('enable', 'aservice'), mock.call('start', 'aservice'), ]) self.crm_charm.assess_status.assert_called_once_with()",2,33
openstack%2Fneutron~stable%2Frocky~I6492eb089b4977655b5c6977d36e13260f85f7ed,openstack/neutron,stable/rocky,I6492eb089b4977655b5c6977d36e13260f85f7ed,Cap hacking in test-requirements.txt,ABANDONED,2019-12-19 11:05:19.000000000,2019-12-19 12:31:21.000000000,,[{'_account_id': 16688}],"[{'number': 1, 'created': '2019-12-19 11:05:19.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/33271ee3a8c6405c01d6d97a356c68c8eec11dae', 'message': 'Cap hacking in test-requirements.txt\n\nhacking as a linter is in global requirements blacklist and so is not in\nconstraints. Recent release introduced new rules that required fix on\nmaster, on stable branches we should rather cap to the version that was\nin use during this release development.\n\nChange-Id: I6492eb089b4977655b5c6977d36e13260f85f7ed\n(cherry picked from commit 6d9aae2ab3c138623aa66544614b65ef5b5cd91e)\n'}]",0,699955,33271ee3a8c6405c01d6d97a356c68c8eec11dae,3,1,1,21798,,,0,"Cap hacking in test-requirements.txt

hacking as a linter is in global requirements blacklist and so is not in
constraints. Recent release introduced new rules that required fix on
master, on stable branches we should rather cap to the version that was
in use during this release development.

Change-Id: I6492eb089b4977655b5c6977d36e13260f85f7ed
(cherry picked from commit 6d9aae2ab3c138623aa66544614b65ef5b5cd91e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/699955/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,33271ee3a8c6405c01d6d97a356c68c8eec11dae,,"hacking>=1.1.0,<1.2.0 # Apache-2.0",hacking>=1.1.0 # Apache-2.0,1,1
openstack%2Fcharm-interface-placement~master~Idc4873d113e82a0706113b67cda78a4e1a32b054,openstack/charm-interface-placement,master,Idc4873d113e82a0706113b67cda78a4e1a32b054,Switch to Ussuri jobs,MERGED,2019-10-31 10:07:19.000000000,2019-12-19 12:31:13.000000000,2019-12-19 12:31:13.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 10:07:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-interface-placement/commit/6c9ba2c5d83085ff904d636f51c63ed82cbd236d', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Idc4873d113e82a0706113b67cda78a4e1a32b054\n'}]",0,692320,6c9ba2c5d83085ff904d636f51c63ed82cbd236d,7,3,1,27565,,,0,"Switch to Ussuri jobs

Change-Id: Idc4873d113e82a0706113b67cda78a4e1a32b054
",git fetch https://review.opendev.org/openstack/charm-interface-placement refs/changes/20/692320/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6c9ba2c5d83085ff904d636f51c63ed82cbd236d,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-openstack-dashboard~master~I9258d798f9d6d75822cd5446ee039308a43da867,openstack/charm-openstack-dashboard,master,I9258d798f9d6d75822cd5446ee039308a43da867,Add resolve_CONFIGS to action-managed-upgrade,MERGED,2019-12-18 16:04:02.000000000,2019-12-19 12:30:19.000000000,2019-12-19 12:30:19.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 16:04:02.000000000', 'files': ['actions/openstack_upgrade.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/f7ef6a2af6adabd9e00ea6e09bc95a1d618e13ab', 'message': 'Add resolve_CONFIGS to action-managed-upgrade\n\nIn change-id I08a847abe7db22a11860f359442e1e8945585466 which\naddresses bug #1844325, CONFIGS must be loaded by any function\nneeding to import and use CONFIGS.  When running openstack-upgrade\nvia juju actions, CONFIGS = None causing traceback when running\nconfigs.set_release(new_release).  This change provides the\nCONFIGS resolution to enable action managed upgrades.\n\nChange-Id: I9258d798f9d6d75822cd5446ee039308a43da867\nCloses-Bug: #1851943\n'}]",0,699720,f7ef6a2af6adabd9e00ea6e09bc95a1d618e13ab,7,3,1,25011,,,0,"Add resolve_CONFIGS to action-managed-upgrade

In change-id I08a847abe7db22a11860f359442e1e8945585466 which
addresses bug #1844325, CONFIGS must be loaded by any function
needing to import and use CONFIGS.  When running openstack-upgrade
via juju actions, CONFIGS = None causing traceback when running
configs.set_release(new_release).  This change provides the
CONFIGS resolution to enable action managed upgrades.

Change-Id: I9258d798f9d6d75822cd5446ee039308a43da867
Closes-Bug: #1851943
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/20/699720/1 && git format-patch -1 --stdout FETCH_HEAD,['actions/openstack_upgrade.py'],1,f7ef6a2af6adabd9e00ea6e09bc95a1d618e13ab,bug/1844325," resolve_CONFIGS, resolve_CONFIGS()",,2,0
openstack%2Fcharm-nova-cloud-controller~master~Id64699b6d04aa05935b31d55532df45c6d973fa7,openstack/charm-nova-cloud-controller,master,Id64699b6d04aa05935b31d55532df45c6d973fa7,Add new config option to set [spice].agent_enabled,MERGED,2019-12-17 02:26:31.000000000,2019-12-19 12:29:30.000000000,2019-12-19 11:40:33.000000000,"[{'_account_id': 935}, {'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-17 02:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/b10fb61ee727a169f410b1547b35e6cdb8ccba81', 'message': 'Add new config option to set [spice].agent_enabled\n\nThis new config called spice-agent-enabled is added to inform the spice agent\nis not installed in the guest instance, which in conjunction with an image\nproperty hw_pointer_model=usbtablet allows accurate position of the mouse in\nWindows guests.\n\nChange-Id: Id64699b6d04aa05935b31d55532df45c6d973fa7\nCloses-Bug: #1856602\n'}, {'number': 2, 'created': '2019-12-17 16:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/5289f75e8ee349c06324fa681fdda379ddaf6c91', 'message': ""Add new config option to set [spice].agent_enabled\n\nThis new config called spice-agent-enabled is added to inform the spice agent\nis not installed in the guest instance, which in conjunction with an image\nproperty hw_pointer_model=usbtablet allows accurate position of the mouse in\nWindows guests.\n\nThis option is not rendered in the nova.conf local to nova-cloud-controller\nunits, instead it's passed to related nova-compute units.\n\nChange-Id: Id64699b6d04aa05935b31d55532df45c6d973fa7\nDepends-On: https://review.opendev.org/699461\nCloses-Bug: #1856602\n""}, {'number': 3, 'created': '2019-12-17 18:52:43.000000000', 'files': ['unit_tests/test_nova_cc_hooks.py', 'config.yaml', 'hooks/nova_cc_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/62262f845ad43278e9121601e6a939f2fa736919', 'message': ""Add new config option to set [spice].agent_enabled\n\nThis new config called spice-agent-enabled is added to inform the spice agent\nis not installed in the guest instance, which in conjunction with an image\nproperty hw_pointer_model=usbtablet allows accurate position of the mouse in\nWindows guests.\n\nThis option is not rendered in the nova.conf local to nova-cloud-controller\nunits, instead it's passed to related nova-compute units.\n\nChange-Id: Id64699b6d04aa05935b31d55532df45c6d973fa7\nDepends-On: https://review.opendev.org/699461\nCloses-Bug: #1856602\n""}]",0,699323,62262f845ad43278e9121601e6a939f2fa736919,21,4,3,2424,,,0,"Add new config option to set [spice].agent_enabled

This new config called spice-agent-enabled is added to inform the spice agent
is not installed in the guest instance, which in conjunction with an image
property hw_pointer_model=usbtablet allows accurate position of the mouse in
Windows guests.

This option is not rendered in the nova.conf local to nova-cloud-controller
units, instead it's passed to related nova-compute units.

Change-Id: Id64699b6d04aa05935b31d55532df45c6d973fa7
Depends-On: https://review.opendev.org/699461
Closes-Bug: #1856602
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/23/699323/3 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ocata/nova.conf', 'templates/pike/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'unit_tests/test_nova_cc_contexts.py', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/mitaka/nova.conf']",8,b10fb61ee727a169f410b1547b35e6cdb8ccba81,bug/1856602,agent_enabled = {{ spice_agent_enabled }},,21,0
openstack%2Fcastellan~master~I53671b85acd8e37ac0ae5deadee846ef5c7aa4bc,openstack/castellan,master,I53671b85acd8e37ac0ae5deadee846ef5c7aa4bc,Stop testing python2.7,ABANDONED,2019-10-28 02:00:31.000000000,2019-12-19 12:27:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-28 02:00:31.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/castellan/commit/4febe9d146a3300ce1e6c088d84115907f0e9888', 'message': ""Stop testing python2.7\n\nTrain was the last release supporting python2. Let's rip the bandaid\noff.\n\nChange-Id: I53671b85acd8e37ac0ae5deadee846ef5c7aa4bc\n""}]",0,691546,4febe9d146a3300ce1e6c088d84115907f0e9888,4,2,1,30092,,,0,"Stop testing python2.7

Train was the last release supporting python2. Let's rip the bandaid
off.

Change-Id: I53671b85acd8e37ac0ae5deadee846ef5c7aa4bc
",git fetch https://review.opendev.org/openstack/castellan refs/changes/46/691546/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,4febe9d146a3300ce1e6c088d84115907f0e9888,,"envlist = py37,pep8basepython = python3","envlist = py27,py37,pep8[testenv:py27] basepython = python2.7basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3",3,16
openstack%2Ftripleo-ci~master~Iba4e359882dfebfab5e719b759766725da8b8f95,openstack/tripleo-ci,master,Iba4e359882dfebfab5e719b759766725da8b8f95,DNM testing scenario10 octavia os-tempest,ABANDONED,2019-09-10 08:03:50.000000000,2019-12-19 12:27:06.000000000,,"[{'_account_id': 6681}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-10 08:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ee8002ef7e9258266ba63c858746a2e5fad81124', 'message': 'DNM testing scenario10 octavia os-tempest\n\nRelated to https://review.opendev.org/#/c/670135/\n\nChange-Id: Iba4e359882dfebfab5e719b759766725da8b8f95\n'}, {'number': 2, 'created': '2019-09-10 08:07:25.000000000', 'files': ['zuul.d/standalone-jobs.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/95db093228a92e81f4447b758c04cb15cd69bc71', 'message': 'DNM testing scenario10 octavia os-tempest\n\nRelated to https://review.opendev.org/#/c/670135/\n\nChange-Id: Iba4e359882dfebfab5e719b759766725da8b8f95\n'}]",2,681179,95db093228a92e81f4447b758c04cb15cd69bc71,11,6,2,8449,,,0,"DNM testing scenario10 octavia os-tempest

Related to https://review.opendev.org/#/c/670135/

Change-Id: Iba4e359882dfebfab5e719b759766725da8b8f95
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/79/681179/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/standalone-jobs.yaml', 'zuul.d/layout.yaml']",2,ee8002ef7e9258266ba63c858746a2e5fad81124,, - tripleo-ci-centos-7-scenario010-standalone # DO NOT MERGE THIS !, templates: - tripleo-ci-build-containers-jobs - tripleo-multinode-baremetal-full - tripleo-multinode-branchful - tripleo-multinode-container-full - tripleo-multinode-experimental - tripleo-standalone-scenarios-full - tripleo-undercloud-jobs - tripleo-periodic - tripleo-buildimage-overcloud-full-centos-7: files: &build_images_files - ^playbooks/tripleo-buildimages/.*$ - ^roles/oooci-build-images/.*$ - tripleo-buildimage-ironic-python-agent-centos-7: files: *build_images_files - tripleo-buildimage-overcloud-hardened-full-centos-7: files: *build_images_files - tripleo-ci-centos-7-scenario001-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario002-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario003-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario004-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario007-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario009-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario012-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-standalone-upgrade-stein: branches: master - tripleo-ci-centos-7-containers-undercloud-minion: files: - ^zuul.d/multinode-jobs.yaml$ ,7,48
openstack%2Ftripleo-ci~master~I94c0952426af53cd2d8b2d4d51995d632943e425,openstack/tripleo-ci,master,I94c0952426af53cd2d8b2d4d51995d632943e425,DMN: testing for periodic jobs,ABANDONED,2019-01-08 11:45:09.000000000,2019-12-19 12:27:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-08 11:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/41e0f84ae064e106594b89527cb3506cd95cee81', 'message': 'DMN: testing for periodic scenario standalone jobs\n\neg see https://review.rdoproject.org/r/#/c/18079/\nNOMERGE thanks\n\nChange-Id: I94c0952426af53cd2d8b2d4d51995d632943e425\n'}, {'number': 2, 'created': '2019-02-08 09:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4c7d2fda4b2cf273d67227a6793dfc191e7d0444', 'message': 'DMN: testing for periodic scenario standalone jobs\n\neg see https://review.rdoproject.org/r/#/c/18079/\nNOMERGE thanks\n\nChange-Id: I94c0952426af53cd2d8b2d4d51995d632943e425\n'}, {'number': 3, 'created': '2019-02-08 09:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c514c62aeb0399ef102a03106aa08a13e3ba513d', 'message': 'DMN: testing for periodic jobs\n\nChange-Id: I94c0952426af53cd2d8b2d4d51995d632943e425\n'}, {'number': 4, 'created': '2019-08-16 10:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2c388db5bde56e7c09fa21d7bc3745581a611b61', 'message': 'DMN: testing for periodic jobs\n\nChange-Id: I94c0952426af53cd2d8b2d4d51995d632943e425\n'}, {'number': 5, 'created': '2019-08-21 14:26:08.000000000', 'files': ['roles/common/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9d647e9ccae9f6fabc158570c087ffd75223615e', 'message': 'DMN: testing for periodic jobs\n\nChange-Id: I94c0952426af53cd2d8b2d4d51995d632943e425\n'}]",0,629157,9d647e9ccae9f6fabc158570c087ffd75223615e,14,2,5,8449,,,0,"DMN: testing for periodic jobs

Change-Id: I94c0952426af53cd2d8b2d4d51995d632943e425
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/57/629157/5 && git format-patch -1 --stdout FETCH_HEAD,"['roles/prepare-node/tasks/main.yaml', 'roles/common/vars/main.yaml']",2,41e0f84ae064e106594b89527cb3506cd95cee81,dnm_testing, {% if 'check' in zuul.pipeline -%}, {% if 'periodic' in zuul.pipeline -%},6,1
openstack%2Ftaskflow~master~I40e1d660cfc0f1de17a56668336918148fb97609,openstack/taskflow,master,I40e1d660cfc0f1de17a56668336918148fb97609,Make taskflow reproducible,ABANDONED,2018-09-07 10:31:26.000000000,2019-12-19 12:25:52.000000000,,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-07 10:31:26.000000000', 'files': ['taskflow/conductors/backends/impl_executor.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/e3e15ea7e0d1d66622207af1448e283f516ff5e3', 'message': ""Make taskflow reproducible\n\nThis patch forward what has been sent to the Debian bug tracker:\nhttps://bugs.debian.org/cgi-bin/bugreport.cgi?bug=860374\n\nPlease consider this patch to allow reproducibility. If you don't\nknow about reproducible builds, please read:\nhttps://wiki.debian.org/ReproducibleBuilds/About\n\nChange-Id: I40e1d660cfc0f1de17a56668336918148fb97609\n""}]",0,600702,e3e15ea7e0d1d66622207af1448e283f516ff5e3,5,3,1,6476,,,0,"Make taskflow reproducible

This patch forward what has been sent to the Debian bug tracker:
https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=860374

Please consider this patch to allow reproducibility. If you don't
know about reproducible builds, please read:
https://wiki.debian.org/ReproducibleBuilds/About

Change-Id: I40e1d660cfc0f1de17a56668336918148fb97609
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/02/600702/1 && git format-patch -1 --stdout FETCH_HEAD,['taskflow/conductors/backends/impl_executor.py'],1,e3e15ea7e0d1d66622207af1448e283f516ff5e3,reproducible," log=None, max_simultaneous_jobs=None): if max_simultaneous_jobs is None: max_simultaneous_jobs = MAX_SIMULTANEOUS_JOBS"," log=None, max_simultaneous_jobs=MAX_SIMULTANEOUS_JOBS):",3,1
openstack%2Fcharm-octavia-dashboard~master~I63ddf39922daa35a9b23f3a406640752bba88ade,openstack/charm-octavia-dashboard,master,I63ddf39922daa35a9b23f3a406640752bba88ade,Switch to Ussuri jobs,MERGED,2019-10-25 02:20:04.000000000,2019-12-19 12:23:42.000000000,2019-12-19 12:23:42.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30619}]","[{'number': 1, 'created': '2019-10-25 02:20:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/21907510a2327c3c80fa8acbf2a427da6a2d094e', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I63ddf39922daa35a9b23f3a406640752bba88ade\n'}]",0,691146,21907510a2327c3c80fa8acbf2a427da6a2d094e,8,4,1,30092,,,0,"Switch to Ussuri jobs

Change-Id: I63ddf39922daa35a9b23f3a406640752bba88ade
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/46/691146/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,21907510a2327c3c80fa8acbf2a427da6a2d094e,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fneutron~stable%2Fstein~I6492eb089b4977655b5c6977d36e13260f85f7ed,openstack/neutron,stable/stein,I6492eb089b4977655b5c6977d36e13260f85f7ed,Cap hacking in test-requirements.txt,ABANDONED,2019-12-19 12:13:15.000000000,2019-12-19 12:22:33.000000000,,[{'_account_id': 21798}],"[{'number': 1, 'created': '2019-12-19 12:13:15.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ba89054a92cfa654aaf063e629d42d150819fff', 'message': 'Cap hacking in test-requirements.txt\n\nhacking as a linter is in global requirements blacklist and so is not in\nconstraints. Recent release introduced new rules that required fix on\nmaster, on stable branches we should rather cap to the version that was\nin use during this release development.\n\nChange-Id: I6492eb089b4977655b5c6977d36e13260f85f7ed\n'}]",0,699964,2ba89054a92cfa654aaf063e629d42d150819fff,2,1,1,16688,,,0,"Cap hacking in test-requirements.txt

hacking as a linter is in global requirements blacklist and so is not in
constraints. Recent release introduced new rules that required fix on
master, on stable branches we should rather cap to the version that was
in use during this release development.

Change-Id: I6492eb089b4977655b5c6977d36e13260f85f7ed
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/699964/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,2ba89054a92cfa654aaf063e629d42d150819fff,,"hacking>=1.1.0,<1.2.0 # Apache-2.0",hacking>=1.1.0 # Apache-2.0,1,1
openstack%2Fcharm-deployment-guide~master~I0da7e5293be85f3723ca2fa49546737a5f677ed5,openstack/charm-deployment-guide,master,I0da7e5293be85f3723ca2fa49546737a5f677ed5,Add note about Neutron LBaaS retirement to known upgrade issues,MERGED,2019-11-27 11:38:08.000000000,2019-12-19 12:18:01.000000000,2019-12-19 12:15:37.000000000,"[{'_account_id': 935}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2019-11-27 11:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/53ec12e322ed4aaa19c1632a426eb977a47add53', 'message': 'Add note about Neutron LBaaS retirement to known upgrade issues\n\nChange-Id: I0da7e5293be85f3723ca2fa49546737a5f677ed5\nCloses-Bug: #1854152\n'}, {'number': 2, 'created': '2019-11-27 11:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/29199ef3274a0d0d461936f072821c8591922550', 'message': 'Add note about Neutron LBaaS retirement to known upgrade issues\n\nChange-Id: I0da7e5293be85f3723ca2fa49546737a5f677ed5\nCloses-Bug: #1854152\n'}, {'number': 3, 'created': '2019-11-28 15:36:15.000000000', 'files': ['deploy-guide/source/app-upgrade-openstack.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/111a24be9b06e1874aceb6a466a323e32df9110e', 'message': 'Add note about Neutron LBaaS retirement to known upgrade issues\n\nChange-Id: I0da7e5293be85f3723ca2fa49546737a5f677ed5\nCloses-Bug: #1854152\n'}]",1,696290,111a24be9b06e1874aceb6a466a323e32df9110e,12,3,3,13686,,,0,"Add note about Neutron LBaaS retirement to known upgrade issues

Change-Id: I0da7e5293be85f3723ca2fa49546737a5f677ed5
Closes-Bug: #1854152
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/90/696290/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-upgrade-openstack.rst'],1,53ec12e322ed4aaa19c1632a426eb977a47add53,bug/1854152,"Neutron LBaaS: upgrading from Stein to Train ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ As of Train, the Neutron LBaaS support has been retired. The load-balancing services are now provided by `Octavia LBaaS`_. There is no automatic migration path, please review the `Octavia LBaaS`_ appendix for more information. .. _Octavia LBaaS: app-octavia",,8,0
openstack%2Fopenstack-ansible-openstack_hosts~master~I30e7427e9a7a910a08aa2c957a0c229bb9531187,openstack/openstack-ansible-openstack_hosts,master,I30e7427e9a7a910a08aa2c957a0c229bb9531187,Install chrony on host,ABANDONED,2019-12-18 17:46:19.000000000,2019-12-19 12:12:40.000000000,,"[{'_account_id': 21314}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-12-18 17:46:19.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/0cae573f9405be569681c781d843f4ccf5943bb3', 'message': 'Install chrony on host\n\nThis patch updates the vars to install chrony in\norder to enable successful completion of the ansible-hardening tasks.\n\nChange-Id: I30e7427e9a7a910a08aa2c957a0c229bb9531187\n'}]",0,699740,0cae573f9405be569681c781d843f4ccf5943bb3,9,4,1,28619,,,0,"Install chrony on host

This patch updates the vars to install chrony in
order to enable successful completion of the ansible-hardening tasks.

Change-Id: I30e7427e9a7a910a08aa2c957a0c229bb9531187
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/40/699740/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,0cae573f9405be569681c781d843f4ccf5943bb3,chrony_install, - chrony,,1,0
openstack%2Fcharm-hacluster~master~Ic116516ba2f88f8f21fd56e2e259dd0b1d21ef7b,openstack/charm-hacluster,master,Ic116516ba2f88f8f21fd56e2e259dd0b1d21ef7b,Switch to Ussuri jobs,MERGED,2019-12-10 01:50:25.000000000,2019-12-19 12:06:30.000000000,2019-12-19 12:06:30.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-10 01:50:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/b6ca5cf22a3e34b9c2e71e5a6c3cb6132520585d', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Ic116516ba2f88f8f21fd56e2e259dd0b1d21ef7b\n'}]",0,698126,b6ca5cf22a3e34b9c2e71e5a6c3cb6132520585d,7,3,1,23317,,,0,"Switch to Ussuri jobs

Change-Id: Ic116516ba2f88f8f21fd56e2e259dd0b1d21ef7b
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/26/698126/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b6ca5cf22a3e34b9c2e71e5a6c3cb6132520585d,fix, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-deployment-guide~master~I28d11a3f2c38a270efcf810782e61a98cc75fde7,openstack/charm-deployment-guide,master,I28d11a3f2c38a270efcf810782e61a98cc75fde7,Review deploy guide policyd overrides appendix,MERGED,2019-12-18 18:16:23.000000000,2019-12-19 12:03:23.000000000,2019-12-19 12:00:24.000000000,"[{'_account_id': 935}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 18:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/9c3fd07565c52c1dcb55c5dad9c72bb8da894176', 'message': 'Review deploy guide policyd overrides appendix\n\nChange-Id: I28d11a3f2c38a270efcf810782e61a98cc75fde7\n'}, {'number': 2, 'created': '2019-12-18 18:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/77ab87d187b32c243411bef13563e5abb7c85314', 'message': 'Review deploy guide policyd overrides appendix\n\nChange-Id: I28d11a3f2c38a270efcf810782e61a98cc75fde7\n'}, {'number': 3, 'created': '2019-12-18 21:42:06.000000000', 'files': ['deploy-guide/source/app-policy-overrides.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/d380c9750522ab698051d1afcc296172e1ba2e48', 'message': 'Review deploy guide policyd overrides appendix\n\nChange-Id: I28d11a3f2c38a270efcf810782e61a98cc75fde7\n'}]",0,699749,d380c9750522ab698051d1afcc296172e1ba2e48,11,3,3,30561,,,0,"Review deploy guide policyd overrides appendix

Change-Id: I28d11a3f2c38a270efcf810782e61a98cc75fde7
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/49/699749/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-policy-overrides.rst'],1,9c3fd07565c52c1dcb55c5dad9c72bb8da894176,review-policyd-appendix,"============================-------- `OpenStack service policies`_ define access permissions for resources on a per-service basis. The policy defaults for a charmed OpenStack service are either coded in the service itself (""policy-in-code"") and/or provided by the charm via a YAML file. The preferred approach for modifying a default policy is via charm options as this leads to consistent policy files. In a Juju-managed OpenStack deployment, it is not recommended to manually override a service's default policy (i.e. editing a `policy.json`_ file on a unit). However, over time the demand has grown for the ability of an operator to tweak a policy in a way that the charm is currently incapable of, and without incurring the penalty of waiting for such changes to be implemented in the charm. The policy overrides feature provides a mechanism for doing this with the limitation that it can alter only the permissions of the tenant users of the system. It does **not** modify the permissions of the service users themselves (e.g. keystone, glance, nova). The charms maintains its responsibility for this through the use of policy files within the charms themselves. Overrides are supported on a per-charm basis. This support will be mentioned in a charm's README along with any charm-specific override information. Always consult the charm documentation prior to using this feature. Implementation -------------- Any policy statement valid for a given OpenStack service is placed, one per line, in a file (an *override file*). This file (or files) is then compressed into a single file (the *resource file*) and used as an `Application resource`_. Finally, the override is enabled via a Boolean charm option. The enablement phase will cause validation checks to be performed. If successful, the effective contents of each override file is placed into a corresponding file under the ``/etc/<service-name>/policy.d/`` directory on the appropriate unit. The service will then use this information to override the currently active policy. .. important:: Validation checks do not cover the actual policy statements themselves. They only ensure that the policy override mechanism is able to consume those statements (see `Requirements`_ below). A charm may optionally provide a template system where an override file can include template variables that the charm will substitute with data that the charm has access to via current charm options, the environment, or relation data. The override implementation is *per charm*. Thus if several services require overrides a separate resource file will need to be applied to each respective charm. .. note:: A problem arising from overrides is not considered a charm breakage. Overrides are orthogonal to the operation of the charm.------------ Requirements for the resource file are presented below. - It must be properly ZIP formatted. A ``pkunzip`` program must be able to open and test the enclosed files. - Enclosed override files must be properly YAML formatted and have an extension of ``.yaml``, or ``.yml``. - Enclosed override files must **not** contain rule targets/keys that have been blacklisted by the charm. These will be documented in the charm's README. - Enclosed override files must have unique filenames. Any directories in the file are ""flattened"" such that all override files appear as a simple list. Each of these filenames also get lower-cased.------------------ Policy overrides for a single OpenStack service are applied in the following way: #. Insert the policy statements into an override file (or files). #. Compress the override file(s) to get the resource file: .. code-block:: none zip <resource-file.zip> <override-file.yaml> [<override-file.yaml> ...] #. Attach the resource file to the charm corresponding to the service. The resource name used is ``policyd-override``: .. code-block:: none juju attach-resource <charm-name> policyd-override=<resource-file.zip> #. Enable the override via the ``use-policyd-override`` charm option: .. code-block:: none juju config <charm-name> use-policyd-override=true Override status --------------- The status of the overrides for an application is shown in the output for the :command:`juju status` command. When overrides are successful the text ``PO:`` (Policy Overrides) will be prefixed to the application's status message. When they are unsuccessful ``PO: (broken)`` will be used. An unsuccessful override implies that **none** of the override policy statements have been applied. In this case, the operator should either re-attach the fixed resource file or disable the overrides entirely. .. note:: When updating (or fixing) an enabled override it first must be disabled (""false"") and then re-enabled (""true""). The new resource file can be attached either before or after disabling. Information on broken overrides will appear in the Juju unit agent logs. For instance: .. code-block:: none juju debug-log --replay --no-tail --include unit-nova-cloud-controller-0--------.. code-block:: yaml #""os_compute_api:os-extended-server-attributes"": ""rule:admin_api"" ""os_compute_api:os-extended-server-attributes"": ""rule:admin_or_owner"".. code-block:: none.. code-block:: none.. _OpenStack service policies: https://docs.openstack.org/security-guide/identity/policies.html .. _policy.json: https://docs.openstack.org/oslo.policy/latest/admin/policy-json-file.html.. _Application resource: https://jaas.ai/docs/juju-resources#heading--application-resources","++++++++ This appendix explains the purpose of policy overrides and shows how to enable them. Overrides are available on a per-charm basis and will be noted in a charm's README. Always consult the charm documentation prior to enabling this feature. Background ++++++++++ The Policy Overrides feature provides a mechanism for operators to modify the policies within OpenStack services in order to manage the permissions of the tenants and users of the system. It is NOT intended that this facility is used to manage the permissions of the services themselves, and steps are taken to prevent this where possible. The charms will continue to manage the policies of the service users directly (e.g. keystone, glance, nova) using the default policy files within the charms themselves. The preferred approach has always been to use charm options to enable a more controlled approach to modifying the policy of a service by providing templates that the options modify - i.e. a controlled approach that always results in consistent policy files. However, over time, it has become apparent that there will always be an aspect of the policy of a service that an operator wants to tweak or change that the charm authors hadn't considered, and the cycle time to introduce the option exceeds the expectations of the delay that an operator is willing to tolerate. Therefore, it has been recognised that there are aspects of the configuration files that the charms control need to be more fluidly modifiable by operators. These tend to be orthogonal to the act of deployment and instead are to do with operating the cloud. So, the objective is to provide operators with a mechanism to override the policy defaults without (hopefully) breaking the cloud. The policy defaults are either coded in the service via ""policy-in-code"" and/or via a default policy YAML file provided by the charm/service. Facility offered ++++++++++++++++ The general facility offered is the ability to: - Create YAML files that contain any rules that are allowed in policy files for each service. - The YAML files are placed into a zip file. - The ZIP file will be attached/uploaded to the charm as a `Juju resource <https://jaas.ai/docs/juju-resources>`_. - A config item named ``use-policyd-override`` is set to ``True``. This will cause the charm to unzip the attached file, do some validation checks, and then drop the file(s) in the ``/etc/<service-name>/policy.d/`` directory. The OpenStack service will then use these overrides to add to, change, or remove the default charm- or package-determined policies and thus provide the permissions that the operator requires. Some charms may wish to provide a template system with the policy overrides. In this case the override file may include template variables that the charm will substitute with data that the charm has from config, the enviroment, or through relation data. This will be documented within the charms' README file. Policies across the OpenStack services ++++++++++++++++++++++++++++++++++++++ The policy override system described here is *per charm*. Thus if several services require policy overrides then a policy override resource ZIP file needs to be created for each charm and applied to the service.++++++++++++ Policy overrides are charm dependent, so the individual charm README files should be consulted. However, the following general issues may arise: - The ZIP file is not properly formatted. Check that a pkunzip program can open and test the enclosed files. - There are no files in the zip file that have an extension of ``.yaml``, or ``.yml``. - There are duplicate named files after the ZIP file has been processed. Directories in the zip file are ""flattened"" such that all of the files appear as a simple list. Each of these flattened filename is lower-cased. At this point any duplicates will cause a failure. This processing is done so that the policy.d directory for the OpenStack service is a simple list of unambiguous files. - An identified YAML file in the zip file is not formatted correctly; as it can't be loaded, it won't be written to the policy.d override folder. - The template substitution function errors. - A blacklisted key has been used in the policy override. Individual charms may choose to disallow the override of particular rules in the policy file. In this case the policy file will be rejected. Any problems with the overrides will be indicated in the output for ``juju status``. See next section `Applying overrides`_. .. note:: The hook (install, upgrade, config-changed) will not fail if the policy override is broken. The policy overrides will not be installed, and the status line will indicate a failure. It is not a charm breakage if the policy overrides are not installed as the overrides should be orthogonal to the operation of the charm. i.e. they are to do with tenants and user permissions, and not the operation of the underlying services.++++++++++++++++++ Policy overrides for an OpenStack service are applied by attaching the ZIP file to the corresponding charm and then enabling them by passing an option to the charm. These are both done via Juju commands. The file containing policy override files is attached to the charm in this way: juju attach-resource <charm-name> policyd-override=<overrides.zip> The policy override is enabled in the charm using: juju config <charm-name> use-policyd-override=true Juju status +++++++++++ The status of the overrides for a Juju application is shown in the output for the ``juju status`` command. When overrides are successful the text ``PO:`` (for Policy Overrides) will be prefixed to the application's status message. When they are unsuccessful ``PO: (broken)`` will be used. Unsuccessful overrides imply that **none** of the default policies have been modified. In this case, the operator should either fix and re-attach them to the charm or disable the overrides entirely (i.e. set ``use-policyd-overrides`` to 'false'). Information on broken overrides will appear in the logs.++++++++.. code-block:: ini { #""os_compute_api:os-extended-server-attributes"": ""rule:admin_api"" ""os_compute_api:os-extended-server-attributes"": ""rule:admin_or_owner"" }.. code-block:: console.. code-block:: console",111,115
openstack%2Fcharm-neutron-gateway~master~Ia1677afc1f50c522fae0f9d9762aaa9f7b0b2d96,openstack/charm-neutron-gateway,master,Ia1677afc1f50c522fae0f9d9762aaa9f7b0b2d96,Switch to Ussuri jobs,MERGED,2019-12-03 08:42:02.000000000,2019-12-19 12:03:17.000000000,2019-12-19 12:03:17.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-03 08:42:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/b1e06b58283b62c96d4aea6b918105bfb0a9a522', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Ia1677afc1f50c522fae0f9d9762aaa9f7b0b2d96\n'}]",0,697025,b1e06b58283b62c96d4aea6b918105bfb0a9a522,7,3,1,23317,,,0,"Switch to Ussuri jobs

Change-Id: Ia1677afc1f50c522fae0f9d9762aaa9f7b0b2d96
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/25/697025/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b1e06b58283b62c96d4aea6b918105bfb0a9a522,fix, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-vault~master~If4b3302cb3e63a2540b96720361245a9c32d8d8d,openstack/charm-vault,master,If4b3302cb3e63a2540b96720361245a9c32d8d8d,Switch to Ussuri jobs,MERGED,2019-12-03 09:05:31.000000000,2019-12-19 12:01:51.000000000,2019-12-19 12:01:51.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 23317}]","[{'number': 1, 'created': '2019-12-03 09:05:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/aea868e7dab5adfa69ab43bd1bec022cb498e29e', 'message': 'Switch to Ussuri jobs\n\nChange-Id: If4b3302cb3e63a2540b96720361245a9c32d8d8d\n'}]",0,697033,aea868e7dab5adfa69ab43bd1bec022cb498e29e,10,4,1,23317,,,0,"Switch to Ussuri jobs

Change-Id: If4b3302cb3e63a2540b96720361245a9c32d8d8d
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/33/697033/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,aea868e7dab5adfa69ab43bd1bec022cb498e29e,fix, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-barbican-vault~master~I60f2f6668f58f2c710dedb210f9ca0f136b6ea80,openstack/charm-barbican-vault,master,I60f2f6668f58f2c710dedb210f9ca0f136b6ea80,Switch to Ussuri jobs,MERGED,2019-12-10 01:36:51.000000000,2019-12-19 12:00:24.000000000,2019-12-19 12:00:24.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-10 01:36:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/71a608e09badb12330b65acadda485cd033c58c7', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I60f2f6668f58f2c710dedb210f9ca0f136b6ea80\n'}]",0,698123,71a608e09badb12330b65acadda485cd033c58c7,7,3,1,23317,,,0,"Switch to Ussuri jobs

Change-Id: I60f2f6668f58f2c710dedb210f9ca0f136b6ea80
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/23/698123/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,71a608e09badb12330b65acadda485cd033c58c7,fix, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-percona-cluster~master~Ic0a5f4e085b0184b895b018975e56c5989fb6bda,openstack/charm-percona-cluster,master,Ic0a5f4e085b0184b895b018975e56c5989fb6bda,Switch to Ussuri jobs,MERGED,2019-12-10 01:24:34.000000000,2019-12-19 11:58:50.000000000,2019-12-19 11:58:50.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-10 01:24:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/25f3d891ed9940488a2194cbe58a7d2a1c789af2', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Ic0a5f4e085b0184b895b018975e56c5989fb6bda\n'}]",0,698119,25f3d891ed9940488a2194cbe58a7d2a1c789af2,7,3,1,23317,,,0,"Switch to Ussuri jobs

Change-Id: Ic0a5f4e085b0184b895b018975e56c5989fb6bda
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/19/698119/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,25f3d891ed9940488a2194cbe58a7d2a1c789af2,fix, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharms.ceph~master~I7bf90531fe5bb01ff47cdeff879b5f72fd227855,openstack/charms.ceph,master,I7bf90531fe5bb01ff47cdeff879b5f72fd227855,"Let unmounted_disks not skipping device ""/dev/sdm""",MERGED,2019-10-14 11:14:39.000000000,2019-12-19 11:58:48.000000000,2019-12-19 11:58:48.000000000,"[{'_account_id': 935}, {'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 11:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/ce6bbfbb290c1a1b4a7619856b635d18145a1a6c', 'message': 'Let unmounted_disks not skipping device ""/dev/sdm""\n\nChange-Id: I7bf90531fe5bb01ff47cdeff879b5f72fd227855\nCloses-Bug: #1848000\n'}, {'number': 2, 'created': '2019-10-23 14:02:06.000000000', 'files': ['unit_tests/test_utils.py', 'ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/740eadcde534cca1f780959b8589ecec47e2a6bf', 'message': 'Let unmounted_disks not skipping device ""/dev/sdm""\n\nChange-Id: I7bf90531fe5bb01ff47cdeff879b5f72fd227855\nCloses-Bug: #1848000\n'}]",0,688386,740eadcde534cca1f780959b8589ecec47e2a6bf,8,4,2,28759,,,0,"Let unmounted_disks not skipping device ""/dev/sdm""

Change-Id: I7bf90531fe5bb01ff47cdeff879b5f72fd227855
Closes-Bug: #1848000
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/86/688386/2 && git format-patch -1 --stdout FETCH_HEAD,['ceph/utils.py'],1,ce6bbfbb290c1a1b4a7619856b635d18145a1a6c,bug/1848000," for block_type in [u'dm-', u'loop', u'ram', u'nbd']:"," for block_type in [u'dm', u'loop', u'ram', u'nbd']:",1,1
openstack%2Fhorizon~master~I2b174ef3231956037650eba19aebe5989dffa617,openstack/horizon,master,I2b174ef3231956037650eba19aebe5989dffa617,Cap hacking version to <2,MERGED,2019-12-16 06:10:14.000000000,2019-12-19 11:58:26.000000000,2019-12-16 19:51:24.000000000,"[{'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-12-16 06:10:14.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/horizon/commit/7a7558b0583fa84f73d5ecb81204cbb76b0ef0e5', 'message': 'Cap hacking version to <2\n\nHacking 2.0.0 and its dependencies like flake8 have incompatible changes\nand bumping to them leads to pep8 check failure.\nIt is good to address pep8 warnings in the master branch, but in case of\nstable branches it is good to continue to use the same version of hacking.\nThis commit is proposed to the master branch so that it can be backported.\n\nChange-Id: I2b174ef3231956037650eba19aebe5989dffa617\n'}]",0,699154,7a7558b0583fa84f73d5ecb81204cbb76b0ef0e5,11,4,1,841,,,0,"Cap hacking version to <2

Hacking 2.0.0 and its dependencies like flake8 have incompatible changes
and bumping to them leads to pep8 check failure.
It is good to address pep8 warnings in the master branch, but in case of
stable branches it is good to continue to use the same version of hacking.
This commit is proposed to the master branch so that it can be backported.

Change-Id: I2b174ef3231956037650eba19aebe5989dffa617
",git fetch https://review.opendev.org/openstack/horizon refs/changes/54/699154/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,7a7558b0583fa84f73d5ecb81204cbb76b0ef0e5,cap-hacking,"hacking>=1.1.0,<2 # Apache-2.0",hacking>=1.1.0 # Apache-2.0,1,1
openstack%2Fcharm-ceph-mon~master~I94bf717b40cac6298fece0d08f74b756b937b8fd,openstack/charm-ceph-mon,master,I94bf717b40cac6298fece0d08f74b756b937b8fd,Switch to Ussuri jobs,MERGED,2019-12-10 02:00:51.000000000,2019-12-19 11:57:11.000000000,2019-12-19 11:57:11.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-10 02:00:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/a3aba54abe2c9f65d8dab491370d3f42229db18d', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I94bf717b40cac6298fece0d08f74b756b937b8fd\n'}]",0,698127,a3aba54abe2c9f65d8dab491370d3f42229db18d,7,3,1,23317,,,0,"Switch to Ussuri jobs

Change-Id: I94bf717b40cac6298fece0d08f74b756b937b8fd
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/27/698127/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a3aba54abe2c9f65d8dab491370d3f42229db18d,fix, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-glance-simplestreams-sync~master~I20bc2c30d4f5113342893f91b6331ae5e85863a4,openstack/charm-glance-simplestreams-sync,master,I20bc2c30d4f5113342893f91b6331ae5e85863a4,Switch to Ussuri jobs,MERGED,2019-12-03 08:55:11.000000000,2019-12-19 11:55:36.000000000,2019-12-19 11:55:36.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-03 08:55:11.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/7dcb0569f05f69914a3ab936bfc606dbe14a151d', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I20bc2c30d4f5113342893f91b6331ae5e85863a4\n'}]",0,697029,7dcb0569f05f69914a3ab936bfc606dbe14a151d,7,3,1,23317,,,0,"Switch to Ussuri jobs

Change-Id: I20bc2c30d4f5113342893f91b6331ae5e85863a4
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/29/697029/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7dcb0569f05f69914a3ab936bfc606dbe14a151d,fix, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-cinder~master~I0c18c1ec44cf2d8a59a3ad2c814ef801183ccc4b,openstack/charm-cinder,master,I0c18c1ec44cf2d8a59a3ad2c814ef801183ccc4b,Sync charm-helpers,MERGED,2019-12-18 10:49:15.000000000,2019-12-19 11:52:25.000000000,2019-12-19 11:52:25.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 28014}]","[{'number': 1, 'created': '2019-12-18 10:49:15.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/vaultlocker.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/contrib/openstack/templates/section-placement'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/a41c913ccfa348abaa50947f21b4c7c892e19687', 'message': 'Sync charm-helpers\n\nChange-Id: I0c18c1ec44cf2d8a59a3ad2c814ef801183ccc4b\n'}]",0,699657,a41c913ccfa348abaa50947f21b4c7c892e19687,10,5,1,28014,,,0,"Sync charm-helpers

Change-Id: I0c18c1ec44cf2d8a59a3ad2c814ef801183ccc4b
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/57/699657/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/vaultlocker.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/contrib/openstack/templates/section-placement']",8,a41c913ccfa348abaa50947f21b4c7c892e19687,,"[placement] {% if auth_host -%} auth_url = {{ auth_protocol }}://{{ auth_host }}:{{ auth_port }} auth_type = password {% if api_version == ""3"" -%} project_domain_name = {{ admin_domain_name }} user_domain_name = {{ admin_domain_name }} {% else -%} project_domain_name = default user_domain_name = default {% endif -%} project_name = {{ admin_tenant_name }} username = {{ admin_user }} password = {{ admin_password }} {% endif -%} {% if region -%} os_region_name = {{ region }} {% endif -%} randomize_allocation_candidates = true ",,392,160
openstack%2Fcharm-cinder~master~I9b21e0a16f46071aaae5dfba1699fa98b3281191,openstack/charm-cinder,master,I9b21e0a16f46071aaae5dfba1699fa98b3281191,Fix unit tests,MERGED,2019-12-14 18:52:37.000000000,2019-12-19 11:52:25.000000000,2019-12-19 11:52:25.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 28014}]","[{'number': 1, 'created': '2019-12-14 18:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/85918e187c8fe66551120cf1b24c31a999a4e6a3', 'message': 'Fix unit tests\n\nThis patch fixes broken unit tests\n\nChange-Id: I9b21e0a16f46071aaae5dfba1699fa98b3281191\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 2, 'created': '2019-12-17 18:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/5de96e1ef93dc7ccdb13e65a746beb5f5c5aa684', 'message': 'Fix unit tests\n\nThis patch mocks list_thin_logical_volume_pools method for every unit\ntest running configure_lvm_storage method. Without this mocking these\nunit tests are trying to call configure_lvm_storage which in turn calls\nlist_thin_logical_volume_pools which in turn calls list_logical_volumes\nwhich finally fails to execute lvs command if it is not found in the\nrunning environment.\n\nChange-Id: I9b21e0a16f46071aaae5dfba1699fa98b3281191\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 3, 'created': '2019-12-18 11:07:52.000000000', 'files': ['unit_tests/test_cinder_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/0858083637e63ff38b154adc8562d23cc4edd8ef', 'message': 'Fix unit tests\n\nThis patch mocks list_thin_logical_volume_pools method for every unit\ntest running configure_lvm_storage method. Without this mocking these\nunit tests are trying to call configure_lvm_storage which in turn calls\nlist_thin_logical_volume_pools which in turn calls list_logical_volumes\nwhich finally fails to execute lvs command if it is not found in the\nrunning environment.\n\nChange-Id: I9b21e0a16f46071aaae5dfba1699fa98b3281191\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}]",2,699080,0858083637e63ff38b154adc8562d23cc4edd8ef,19,5,3,28014,,,0,"Fix unit tests

This patch mocks list_thin_logical_volume_pools method for every unit
test running configure_lvm_storage method. Without this mocking these
unit tests are trying to call configure_lvm_storage which in turn calls
list_thin_logical_volume_pools which in turn calls list_logical_volumes
which finally fails to execute lvs command if it is not found in the
running environment.

Change-Id: I9b21e0a16f46071aaae5dfba1699fa98b3281191
Signed-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/80/699080/2 && git format-patch -1 --stdout FETCH_HEAD,['unit_tests/test_cinder_utils.py'],1,85918e187c8fe66551120cf1b24c31a999a4e6a3,," @patch.object(cinder_utils, 'list_thin_logical_volume_pools') def test_configure_lvm_storage(self, list_thin_pools, extend_lvm, reduce_lvm, clean_storage, ensure_non_existent): @patch.object(cinder_utils, 'list_thin_logical_volume_pools') def test_configure_lvm_storage_existing_vg(self, list_thin_pools, extend_lvm, reduce_lvm, @patch.object(cinder_utils, 'list_thin_logical_volume_pools') def test_configure_lvm_storage_different_vg(self, list_thin_pools, extend_lvm, reduce_lvm,"," def test_configure_lvm_storage(self, extend_lvm, reduce_lvm, clean_storage, ensure_non_existent): def test_configure_lvm_storage_existing_vg(self, extend_lvm, reduce_lvm, def test_configure_lvm_storage_different_vg(self, extend_lvm, reduce_lvm,",10,4
openstack%2Fcharm-neutron-gateway~master~I0b0e397691c49d3fcebdd30bbe9b160789acf3c3,openstack/charm-neutron-gateway,master,I0b0e397691c49d3fcebdd30bbe9b160789acf3c3,Add ovsdb-timeout configuration option,MERGED,2019-11-08 16:22:34.000000000,2019-12-19 11:52:21.000000000,2019-12-19 11:52:21.000000000,"[{'_account_id': 935}, {'_account_id': 2276}, {'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 25011}, {'_account_id': 31289}]","[{'number': 1, 'created': '2019-11-08 16:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/cce51fe1419f6ff81baa4c1f6b08a5f01c462e0d', 'message': 'Add ovsdb-timeout configuration option\n\novsdb-timeout sets ovsdb_timeout in openvswitch_agent.ini, this option\nis used to determine when ovsdb commands should be marked as fail. This\nis helpful for large clouds or where the node is under pressure.\n\nChange-Id: I0b0e397691c49d3fcebdd30bbe9b160789acf3c3\nCloses-Bug: #1849732\n'}, {'number': 2, 'created': '2019-11-08 16:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/7d9657237d7e9012faad3c97f4a534379aa2a73e', 'message': 'Add ovsdb-timeout configuration option\n\novsdb-timeout sets ovsdb_timeout in openvswitch_agent.ini, this option\nis used to determine when ovsdb commands should be marked as fail. This\nis helpful for large clouds or where the node is under pressure.\n\nChange-Id: I0b0e397691c49d3fcebdd30bbe9b160789acf3c3\nCloses-Bug: #1849732\n'}, {'number': 3, 'created': '2019-12-03 01:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/33e362de120537b1ce1116a82e74acc8da9c606d', 'message': 'Add ovsdb-timeout configuration option\n\novsdb-timeout sets ovsdb_timeout in openvswitch_agent.ini, this option\nis used to determine when ovsdb commands should be marked as fail. This\nis helpful for large clouds or where the node is under pressure.\n\nChange-Id: I0b0e397691c49d3fcebdd30bbe9b160789acf3c3\nCloses-Bug: #1849732\n'}, {'number': 4, 'created': '2019-12-15 12:19:32.000000000', 'files': ['templates/queens/openvswitch_agent.ini', 'hooks/neutron_contexts.py', 'unit_tests/test_neutron_contexts.py', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/17cbdb50a27662bae4ace3def022d20d21f60c99', 'message': 'Add ovsdb-timeout configuration option\n\novsdb-timeout sets ovsdb_timeout in openvswitch_agent.ini, this option\nis used to determine when ovsdb commands should be marked as fail. This\nis helpful for large clouds or where the node is under pressure.\n\nChange-Id: I0b0e397691c49d3fcebdd30bbe9b160789acf3c3\nCloses-Bug: #1849732\n'}]",0,693559,17cbdb50a27662bae4ace3def022d20d21f60c99,29,8,4,2424,,,0,"Add ovsdb-timeout configuration option

ovsdb-timeout sets ovsdb_timeout in openvswitch_agent.ini, this option
is used to determine when ovsdb commands should be marked as fail. This
is helpful for large clouds or where the node is under pressure.

Change-Id: I0b0e397691c49d3fcebdd30bbe9b160789acf3c3
Closes-Bug: #1849732
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/59/693559/3 && git format-patch -1 --stdout FETCH_HEAD,"['templates/queens/openvswitch_agent.ini', 'hooks/neutron_contexts.py', 'unit_tests/test_neutron_contexts.py', 'config.yaml']",4,cce51fe1419f6ff81baa4c1f6b08a5f01c462e0d,bug/1849732, ovsdb-timeout: type: int default: description: | Timeout in seconds for ovsdb commands.,,37,0
openstack%2Fcharm-specs~master~Ib35364b57bba6e1341a241065f8686c011978c66,openstack/charm-specs,master,Ib35364b57bba6e1341a241065f8686c011978c66,fixed notes: charm-neuton-ovn is replaced with charm-neutron-ovn in line 107 .,MERGED,2019-09-27 02:50:49.000000000,2019-12-19 11:48:52.000000000,2019-12-19 11:46:17.000000000,"[{'_account_id': 935}, {'_account_id': 20634}, {'_account_id': 22348}, {'_account_id': 30455}, {'_account_id': 30717}, {'_account_id': 31204}]","[{'number': 1, 'created': '2019-09-27 02:50:49.000000000', 'files': ['specs/rocky/backlog/charm-openstack-ovn.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/49a68ed30070414e45d277f8374fee0bda314d11', 'message': 'fixed notes: charm-neuton-ovn is replaced with charm-neutron-ovn in line 107 .\n\nChange-Id: Ib35364b57bba6e1341a241065f8686c011978c66\n'}]",0,685196,49a68ed30070414e45d277f8374fee0bda314d11,13,6,1,30717,,,0,"fixed notes: charm-neuton-ovn is replaced with charm-neutron-ovn in line 107 .

Change-Id: Ib35364b57bba6e1341a241065f8686c011978c66
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/96/685196/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/backlog/charm-openstack-ovn.rst'],1,49a68ed30070414e45d277f8374fee0bda314d11,,* charm-neutron-ovn,* charm-neuton-ovn,1,1
openstack%2Fcharm-neutron-api~master~I58f835b6617fdeae9960f5226cd0a875eb33b61e,openstack/charm-neutron-api,master,I58f835b6617fdeae9960f5226cd0a875eb33b61e,update README.md to point to new code and docs,MERGED,2019-12-16 17:57:22.000000000,2019-12-19 11:47:47.000000000,2019-12-19 11:47:47.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-16 17:57:22.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/00c7f7917ae2ffedff2fd9a0aa11635f2b796077', 'message': 'update README.md to point to new code and docs\n\nThe the links to the pastedeploy is outdated, and now pointing to\nthe new location. The link to the developer documentation is also\noutdated, and pointing to the latest one\n\nChange-Id: I58f835b6617fdeae9960f5226cd0a875eb33b61e\n'}]",0,699260,00c7f7917ae2ffedff2fd9a0aa11635f2b796077,7,3,1,9247,,,0,"update README.md to point to new code and docs

The the links to the pastedeploy is outdated, and now pointing to
the new location. The link to the developer documentation is also
outdated, and pointing to the latest one

Change-Id: I58f835b6617fdeae9960f5226cd0a875eb33b61e
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/60/699260/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,00c7f7917ae2ffedff2fd9a0aa11635f2b796077,middleware_doc_update,https://opendev.org/openstack/neutron/src/branch/master/doc/source/contributor/internals/api_layer.rsthttps://github.com/Pylons/pastedeployhttps://github.com/Pylons/pastedeploy/blob/master/paste/deploy/loadwsgi.py,https://git.openstack.org/cgit/openstack/neutron/tree/doc/source/devref/api_layer.rst#n49https://bitbucket.org/ianb/pastedeployhttps://bitbucket.org/ianb/pastedeploy/src/4b27133a2a7db58b213ae55b580039c11d2055c0/paste/deploy/loadwsgi.py?at=default&fileviewer=file-view-default,3,3
openstack%2Fcharm-specs~master~I715fb8680b648ac2053076c80507e6c55b01ebb7,openstack/charm-specs,master,I715fb8680b648ac2053076c80507e6c55b01ebb7,opentack is replaced with openstack in line 187,MERGED,2019-09-25 03:09:36.000000000,2019-12-19 11:47:34.000000000,2019-12-19 11:46:16.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-25 03:09:36.000000000', 'files': ['specs/rocky/backlog/openstack-load-balancer.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/4504d0703724fe547dac4ac6da38a4be9d7c2d11', 'message': 'opentack is replaced with openstack in line 187\n\nChange-Id: I715fb8680b648ac2053076c80507e6c55b01ebb7\n'}]",0,684448,4504d0703724fe547dac4ac6da38a4be9d7c2d11,7,2,1,30717,,,0,"opentack is replaced with openstack in line 187

Change-Id: I715fb8680b648ac2053076c80507e6c55b01ebb7
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/48/684448/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/backlog/openstack-load-balancer.rst'],1,4504d0703724fe547dac4ac6da38a4be9d7c2d11,, openstack loadbalancers, opentack loadbalancers,1,1
openstack%2Fcharm-specs~master~Ie000c05bf1379dbbe3564c57badf4b62d19a1233,openstack/charm-specs,master,Ie000c05bf1379dbbe3564c57badf4b62d19a1233,opentack is replaced with openstack in line 187,MERGED,2019-09-25 03:18:54.000000000,2019-12-19 11:46:17.000000000,2019-12-19 11:46:16.000000000,"[{'_account_id': 935}, {'_account_id': 20634}, {'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 30717}, {'_account_id': 31204}]","[{'number': 1, 'created': '2019-09-25 03:18:54.000000000', 'files': ['specs/train/backlog/openstack-load-balancer.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/497f7a89e5c5ec27aad96ae8843ea32713974d42', 'message': 'opentack is replaced with openstack in line 187\n\nChange-Id: Ie000c05bf1379dbbe3564c57badf4b62d19a1233\n'}]",0,684450,497f7a89e5c5ec27aad96ae8843ea32713974d42,12,6,1,30717,,,0,"opentack is replaced with openstack in line 187

Change-Id: Ie000c05bf1379dbbe3564c57badf4b62d19a1233
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/50/684450/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/backlog/openstack-load-balancer.rst'],1,497f7a89e5c5ec27aad96ae8843ea32713974d42,, openstack loadbalancers, opentack loadbalancers,1,1
openstack%2Fironic-tempest-plugin~master~Id17081d1bcafed71b5ff704e1126dacc44874bf5,openstack/ironic-tempest-plugin,master,Id17081d1bcafed71b5ff704e1126dacc44874bf5,Remove use of deprecated config options for volume API selection,MERGED,2019-12-12 17:02:41.000000000,2019-12-19 11:43:00.000000000,2019-12-19 11:41:26.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-12-12 17:02:41.000000000', 'files': ['ironic_tempest_plugin/manager.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/3b663f6e519c290ef0a01e3e4691cb428d2f8ab0', 'message': 'Remove use of deprecated config options for volume API selection\n\nTempest has moved the Volume APIs testing to v3 as default and can be run\nunder v2 API via catalog_type.\n- https://review.opendev.org/#/q/topic:volume-default-testing-v3+(status:open+OR+status:merged)\n\nBelow config options were deprecated since Rocky and now Tempest is going\nto remove those (Needed-By patch):\n    * ``CONF.volume-feature-enabled.api_v2``\n    * ``CONF.volume-feature-enabled.api_v3``\n\nChange-Id: Id17081d1bcafed71b5ff704e1126dacc44874bf5\nNeeded-By: https://review.opendev.org/#/c/698754/\n'}]",0,698763,3b663f6e519c290ef0a01e3e4691cb428d2f8ab0,9,3,1,8556,,,0,"Remove use of deprecated config options for volume API selection

Tempest has moved the Volume APIs testing to v3 as default and can be run
under v2 API via catalog_type.
- https://review.opendev.org/#/q/topic:volume-default-testing-v3+(status:open+OR+status:merged)

Below config options were deprecated since Rocky and now Tempest is going
to remove those (Needed-By patch):
    * ``CONF.volume-feature-enabled.api_v2``
    * ``CONF.volume-feature-enabled.api_v3``

Change-Id: Id17081d1bcafed71b5ff704e1126dacc44874bf5
Needed-By: https://review.opendev.org/#/c/698754/
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/63/698763/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_tempest_plugin/manager.py'],1,3b663f6e519c290ef0a01e3e4691cb428d2f8ab0,volume-default-testing-v3, cls.volumes_client = cls.os_primary.volumes_client_latest cls.snapshots_client = cls.os_primary.snapshots_client_latest, if (CONF.volume_feature_enabled.api_v2 or CONF.volume_feature_enabled.api_v3): cls.volumes_client = cls.os_primary.volumes_client_latest cls.snapshots_client = cls.os_primary.snapshots_client_latest,2,4
openstack%2Fcharm-ceph-fs~master~I36d3d58d8f5c15475460997cce20fe442978eeed,openstack/charm-ceph-fs,master,I36d3d58d8f5c15475460997cce20fe442978eeed,Migrate CephFS tests to Zaza,MERGED,2019-12-02 12:49:22.000000000,2019-12-19 11:41:13.000000000,2019-12-19 11:41:13.000000000,"[{'_account_id': 935}, {'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-02 12:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/2cca192c8ef7f8787d5c242d9ed5dc4728b5eea9', 'message': 'Migrate CephFS tests to Zaza\n\nChange-Id: I36d3d58d8f5c15475460997cce20fe442978eeed\nCloses-Bug: #1828424\n'}, {'number': 2, 'created': '2019-12-02 13:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/0237943e3f621c637350598fee0d1978f624f04d', 'message': 'Migrate CephFS tests to Zaza\n\nChange-Id: I36d3d58d8f5c15475460997cce20fe442978eeed\nCloses-Bug: #1828424\n'}, {'number': 3, 'created': '2019-12-02 15:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/43942f3a43bc0e50f043311579aea4c39e0e5e47', 'message': 'Migrate CephFS tests to Zaza\n\nChange-Id: I36d3d58d8f5c15475460997cce20fe442978eeed\nCloses-Bug: #1828424\n'}, {'number': 4, 'created': '2019-12-03 06:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/9fbeadedd87aec0a12b48fcc2699d32cc69d5fca', 'message': 'Migrate CephFS tests to Zaza\n\nChange-Id: I36d3d58d8f5c15475460997cce20fe442978eeed\nCloses-Bug: #1828424\n'}, {'number': 5, 'created': '2019-12-05 15:10:12.000000000', 'files': ['src/tests/gate-basic-xenial-mitaka', 'src/tox.ini', 'src/tests/gate-basic-xenial-pike', 'src/test-requirements.txt', 'src/tests/bundles/xenial-queens.yaml', 'src/tests/README.md', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/gate-basic-bionic-stein', 'src/tests/bundles/xenial-pike.yaml', 'src/tests/gate-basic-bionic-train', 'src/tests/bundles/xenial-mitaka.yaml', 'src/tests/gate-basic-disco-stein', 'src/tests/bundles/xenial-ocata.yaml', 'src/tests/gate-basic-bionic-rocky', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/cosmic-rocky.yaml', 'src/tests/basic_deployment.py', 'src/tests/gate-basic-bionic-queens', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/bundles/bionic-queens.yaml', 'src/tests/bundles/disco-stein.yaml', 'src/tests/gate-basic-xenial-queens', 'tox.ini', 'src/tests/gate-basic-xenial-ocata'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/4dfe62d344c2b1df4d33a22533b9347bf1226e5c', 'message': 'Migrate CephFS tests to Zaza\n\nChange-Id: I36d3d58d8f5c15475460997cce20fe442978eeed\nCloses-Bug: #1828424\n'}]",0,696878,4dfe62d344c2b1df4d33a22533b9347bf1226e5c,30,5,5,20634,,,0,"Migrate CephFS tests to Zaza

Change-Id: I36d3d58d8f5c15475460997cce20fe442978eeed
Closes-Bug: #1828424
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/78/696878/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/gate-basic-bionic-train', 'src/tests/gate-basic-xenial-mitaka', 'src/tests/bundles/xenial-mitaka.yaml', 'src/tests/gate-basic-disco-stein', 'src/tests/bundles/xenial-ocata.yaml', 'src/tests/gate-basic-xenial-pike', 'src/tests/gate-basic-bionic-rocky', 'src/tests/bundles/xenial-queens.yaml', 'src/tests/tests.yaml', 'src/tests/README.md', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/cosmic-rocky.yaml', 'src/tests/gate-basic-bionic-stein', 'src/tests/basic_deployment.py', 'src/tests/gate-basic-bionic-queens', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/bundles/bionic-queens.yaml', 'src/tests/bundles/disco-stein.yaml', 'src/tests/gate-basic-xenial-queens', 'src/tests/gate-basic-xenial-ocata', 'src/tests/bundles/xenial-pike.yaml']",22,2cca192c8ef7f8787d5c242d9ed5dc4728b5eea9,bug/1828424,"series: xenial applications: ceph-fs: charm: ceph-fs series: xenial num_units: 1 options: source: cloud:xenial-pike ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 storage: osd-devices: 'cinder,10G' options: osd-devices: '/srv/ceph /dev/test-non-existent' source: cloud:xenial-pike ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: monitor-count: '3' auth-supported: 'none' source: cloud:xenial-pike percona-cluster: charm: cs:~openstack-charmers-next/percona-cluster num_units: 1 options: dataset-size: 25% max-connections: 1000 source: cloud:xenial-pike rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: cloud:xenial-pike keystone: expose: True charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: cloud:xenial-pike nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 1 options: openstack-origin: cloud:xenial-pike glance: expose: True charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: cloud:xenial-pike cinder: expose: True charm: cs:~openstack-charmers-next/cinder num_units: 1 options: block-device: 'None' glance-api-version: '2' openstack-origin: cloud:xenial-pike cinder-ceph: charm: cs:~openstack-charmers-next/cinder-ceph nova-cloud-controller: expose: True charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: openstack-origin: cloud:xenial-pike relations: - - ceph-mon:mds - ceph-fs:ceph-mds - - nova-compute:amqp - rabbitmq-server:amqp - - nova-compute:image-service - glance:image-service - - nova-compute:ceph - ceph-mon:client - - keystone:shared-db - percona-cluster:shared-db - - glance:shared-db - percona-cluster:shared-db - - glance:identity-service - keystone:identity-service - - glance:amqp - rabbitmq-server:amqp - - glance:ceph - ceph-mon:client - - cinder:shared-db - percona-cluster:shared-db - - cinder:identity-service - keystone:identity-service - - cinder:amqp - rabbitmq-server:amqp - - cinder:image-service - glance:image-service - - cinder-ceph:storage-backend - cinder:storage-backend - - cinder-ceph:ceph - ceph-mon:client - - ceph-osd:mon - ceph-mon:osd - - nova-cloud-controller:shared-db - percona-cluster:shared-db - - nova-cloud-controller:identity-service - keystone:identity-service - - nova-cloud-controller:amqp - rabbitmq-server:amqp - - nova-cloud-controller:cloud-compute - nova-compute:cloud-compute - - nova-cloud-controller:image-service - glance:image-service ",,1068,523
openstack%2Fcharm-rabbitmq-server~master~I206cdb35b0be355d2b29739c9dd42fb663bac15e,openstack/charm-rabbitmq-server,master,I206cdb35b0be355d2b29739c9dd42fb663bac15e,"Revert ""Default to autoheal for cluster-partition-handling""",MERGED,2019-12-18 20:07:10.000000000,2019-12-19 11:39:51.000000000,2019-12-19 11:39:50.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 24297}]","[{'number': 1, 'created': '2019-12-18 20:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/e37bb3c698ca809e92925b88844ee470fa984ac0', 'message': 'Revert ""Default to autoheal for cluster-partition-handling""\n\nThis reverts commit b74a50d30f5d257a1061263426052ca830528b55.\n\nChange-Id: I206cdb35b0be355d2b29739c9dd42fb663bac15e\n'}, {'number': 2, 'created': '2019-12-18 21:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/cbaab16d3c06c35b30bece4db6ad69a2575653fd', 'message': 'Revert ""Default to autoheal for cluster-partition-handling""\n\nThis reverts commit b74a50d30f5d257a1061263426052ca830528b55.\n\nChange-Id: I206cdb35b0be355d2b29739c9dd42fb663bac15e\n'}, {'number': 3, 'created': '2019-12-18 22:21:32.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/863c6cd97c399ecac4d693b382d0887419879d63', 'message': 'Revert ""Default to autoheal for cluster-partition-handling""\n\nThis reverts commit b74a50d30f5d257a1061263426052ca830528b55.\n\nChange-Id: I206cdb35b0be355d2b29739c9dd42fb663bac15e\n'}]",0,699862,863c6cd97c399ecac4d693b382d0887419879d63,16,6,3,20635,,,0,"Revert ""Default to autoheal for cluster-partition-handling""

This reverts commit b74a50d30f5d257a1061263426052ca830528b55.

Change-Id: I206cdb35b0be355d2b29739c9dd42fb663bac15e
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/62/699862/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,e37bb3c698ca809e92925b88844ee470fa984ac0,bug/1802315, default: ignore, default: autoheal,1,1
openstack%2Fcharm-gnocchi~master~Ic57530ad7f19d1499e47286e29faa13f3ba1c47e,openstack/charm-gnocchi,master,Ic57530ad7f19d1499e47286e29faa13f3ba1c47e,Changing condition release from rocky to queens for mysql uri,MERGED,2019-12-06 07:30:37.000000000,2019-12-19 11:39:24.000000000,2019-12-19 11:39:23.000000000,"[{'_account_id': 935}, {'_account_id': 5112}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-06 07:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/978e5df13c88e4aabca161dd62dfd7a8e53284f4', 'message': 'Changing release from rocky to queens for mysql uri\n\nAs Queens also has PyMySQL 0.8.0 dependency so it has the same issue[1][2][3][4],\nchanging release from rocky to queens to fix warning flood.\n\n[1] https://github.com/openstack/charm-gnocchi/commit/bf7ac78d07a313651e486196309140517d9ad861\n[2] https://github.com/openstack/requirements/blob/stable/rocky/upper-constraints.txt#L377\n[3] https://github.com/openstack/requirements/blob/stable/queens/upper-constraints.txt#L374\n[4] gnocchixyz/gnocchi#847\n\nChange-Id: Ic57530ad7f19d1499e47286e29faa13f3ba1c47e\n'}, {'number': 2, 'created': '2019-12-06 07:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/06edbe289e83e6513e3f5bd4fe8ca5bd72c26ff8', 'message': 'Changing release from rocky to queens for mysql uri\n\nAs Queens also has PyMySQL 0.8.0 dependency so it has the same issue[1][2][3][4],\nchanging release from rocky to queens to fix warning flood.\n\n[1] https://github.com/openstack/charm-gnocchi/commit/bf7ac78d07a313651e486196309140517d9ad861\n[2] https://github.com/openstack/requirements/blob/stable/rocky/upper-constraints.txt#L377\n[3] https://github.com/openstack/requirements/blob/stable/queens/upper-constraints.txt#L374\n[4] gnocchixyz/gnocchi#847\n\nChange-Id: Ic57530ad7f19d1499e47286e29faa13f3ba1c47e\n'}, {'number': 3, 'created': '2019-12-06 07:38:04.000000000', 'files': ['src/lib/charm/openstack/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/408bf97a36bd9538d07e92398a8278b567b78fc3', 'message': 'Changing condition release from rocky to queens for mysql uri\n\nAs Queens also has PyMySQL 0.8.0 dependency so it has the same issue[1][2][3][4],\nchanging condition release from rocky to queens to fix warning flood.\n\n[1] https://github.com/openstack/charm-gnocchi/commit/bf7ac78d07a313651e486196309140517d9ad861\n[2] https://github.com/openstack/requirements/blob/stable/rocky/upper-constraints.txt#L377\n[3] https://github.com/openstack/requirements/blob/stable/queens/upper-constraints.txt#L374\n[4] gnocchixyz/gnocchi#847\n\nChange-Id: Ic57530ad7f19d1499e47286e29faa13f3ba1c47e\n'}]",0,697627,408bf97a36bd9538d07e92398a8278b567b78fc3,15,4,3,5112,,,0,"Changing condition release from rocky to queens for mysql uri

As Queens also has PyMySQL 0.8.0 dependency so it has the same issue[1][2][3][4],
changing condition release from rocky to queens to fix warning flood.

[1] https://github.com/openstack/charm-gnocchi/commit/bf7ac78d07a313651e486196309140517d9ad861
[2] https://github.com/openstack/requirements/blob/stable/rocky/upper-constraints.txt#L377
[3] https://github.com/openstack/requirements/blob/stable/queens/upper-constraints.txt#L374
[4] gnocchixyz/gnocchi#847

Change-Id: Ic57530ad7f19d1499e47286e29faa13f3ba1c47e
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/27/697627/2 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/gnocchi.py'],1,978e5df13c88e4aabca161dd62dfd7a8e53284f4,, ch_utils.OPENSTACK_RELEASES.index('queens')):, ch_utils.OPENSTACK_RELEASES.index('rocky')):,1,1
openstack%2Fopenstack-ansible~master~I090c533cb487bbc1c086b3094845ea6ba637c0b7,openstack/openstack-ansible,master,I090c533cb487bbc1c086b3094845ea6ba637c0b7,Imported Translations from Zanata,MERGED,2019-12-14 06:32:12.000000000,2019-12-19 11:27:51.000000000,2019-12-19 11:25:15.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-12-14 06:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9b3103f0a63b81f686d9809de6886ee39b84f820', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I090c533cb487bbc1c086b3094845ea6ba637c0b7\n'}, {'number': 2, 'created': '2019-12-15 06:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/99f297f55e26b4cb12809c4c85a2a87a071f6827', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I090c533cb487bbc1c086b3094845ea6ba637c0b7\n'}, {'number': 3, 'created': '2019-12-19 08:30:15.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/ru/LC_MESSAGES/doc.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc.po', 'doc/source/locale/id/LC_MESSAGES/doc-user.po', 'doc/source/locale/id/LC_MESSAGES/doc-admin.po', 'doc/source/locale/de/LC_MESSAGES/doc-admin.po', 'doc/source/locale/id/LC_MESSAGES/doc.po', 'doc/source/locale/de/LC_MESSAGES/doc.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-admin.po', 'doc/source/locale/fr/LC_MESSAGES/doc.po'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2224cf162a1f9883be94477c25fbad431f11bc72', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I090c533cb487bbc1c086b3094845ea6ba637c0b7\n'}]",0,699060,2224cf162a1f9883be94477c25fbad431f11bc72,11,2,3,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I090c533cb487bbc1c086b3094845ea6ba637c0b7
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/60/699060/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/id/LC_MESSAGES/doc-user.po']",2,9b3103f0a63b81f686d9809de6886ee39b84f820,zanata/translations,"""POT-Creation-Date: 2019-12-11 21:45+0000\n""""PO-Revision-Date: 2019-12-13 04:47+0000\n""""The |current_release_formal_name| release is only compatible with Debian 9 "" ""(stretch), Debian 10 (buster), Ubuntu 18.04 (Bionic Beaver), CentOS 7 and "" ""openSUSE Leap 15.X."" msgstr """" ""The | current_release_formal_name | rilis hanya kompatibel dengan Debian 9 "" ""(stretch), Debian 10 (buster), Ubuntu 18.04 (Bionic Beaver), CentOS 7 dan "" ""openSUSE Leap 15.X."" msgid """"","""POT-Creation-Date: 2019-12-05 21:54+0000\n""""PO-Revision-Date: 2019-08-26 03:36+0000\n""",69,4
openstack%2Fkayobe~master~Ie8cad275089315ef62b826ff3ab720537bc71cdb,openstack/kayobe,master,Ie8cad275089315ef62b826ff3ab720537bc71cdb,Add prelude to mark the first release as part of Kolla,MERGED,2019-12-19 10:40:35.000000000,2019-12-19 11:02:46.000000000,2019-12-19 11:01:24.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-19 10:40:35.000000000', 'files': ['releasenotes/notes/first-official-release-6dff5747d34d161c.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6b0f1c68c40c73418f314f04cd49c30217cbf276', 'message': 'Add prelude to mark the first release as part of Kolla\n\nChange-Id: Ie8cad275089315ef62b826ff3ab720537bc71cdb\n'}]",0,699951,6b0f1c68c40c73418f314f04cd49c30217cbf276,8,3,1,15197,,,0,"Add prelude to mark the first release as part of Kolla

Change-Id: Ie8cad275089315ef62b826ff3ab720537bc71cdb
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/51/699951/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/first-official-release-6dff5747d34d161c.yaml'],1,6b0f1c68c40c73418f314f04cd49c30217cbf276,train-prelude,--- prelude: > This Kayobe release is the first as part of an official OpenStack project. Kayobe is now a deliverable of the `Kolla project <https://governance.openstack.org/tc/reference/projects/kolla.html>`_. ,,5,0
openstack%2Foslo.versionedobjects~master~I53b11ebe81977d13a460cdf167ba37c5d3e1bdcd,openstack/oslo.versionedobjects,master,I53b11ebe81977d13a460cdf167ba37c5d3e1bdcd,Import ABCs from collections.abc,MERGED,2019-12-18 18:08:48.000000000,2019-12-19 10:48:35.000000000,2019-12-19 10:46:01.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 18:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/9fe34198762fc5fe868b8f2d39efce6a9f0218cc', 'message': 'Import ABCs from collections.abc\n\nFrom the deprecation warning message:\n""Using or importing the ABCs from \'collections\' instead of from\n\'collections.abc\' is deprecated since Python 3.3, and in 3.9 it\nwill stop working""\n\nChange-Id: I53b11ebe81977d13a460cdf167ba37c5d3e1bdcd\nCloses-Bug: #1856882\n'}, {'number': 2, 'created': '2019-12-18 18:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/ae05770205e329c1cc5474bc663b4ba9fe477a7a', 'message': 'Import ABCs from collections.abc\n\nFrom the deprecation warning message:\n""Using or importing the ABCs from \'collections\' instead of from\n\'collections.abc\' is deprecated since Python 3.3, and in 3.9 it\nwill stop working""\n\nChange-Id: I53b11ebe81977d13a460cdf167ba37c5d3e1bdcd\nCloses-Bug: #1856882\n'}, {'number': 3, 'created': '2019-12-18 18:22:17.000000000', 'files': ['oslo_versionedobjects/base.py'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/f806dda6755546d15fcb620a0e4f9e446e6b6c47', 'message': 'Import ABCs from collections.abc\n\nFrom the deprecation warning message:\n""Using or importing the ABCs from \'collections\' instead of from\n\'collections.abc\' is deprecated since Python 3.3, and in 3.9 it\nwill stop working""\n\nChange-Id: I53b11ebe81977d13a460cdf167ba37c5d3e1bdcd\nCloses-Bug: #1856882\n'}]",0,699747,f806dda6755546d15fcb620a0e4f9e446e6b6c47,14,4,3,16688,,,0,"Import ABCs from collections.abc

From the deprecation warning message:
""Using or importing the ABCs from 'collections' instead of from
'collections.abc' is deprecated since Python 3.3, and in 3.9 it
will stop working""

Change-Id: I53b11ebe81977d13a460cdf167ba37c5d3e1bdcd
Closes-Bug: #1856882
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/47/699747/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_versionedobjects/base.py'],1,9fe34198762fc5fe868b8f2d39efce6a9f0218cc,bug/1856882,class ObjectListBase(collections.abc.Sequence):,class ObjectListBase(collections.Sequence):,1,1
openstack%2Freleases~master~I707b2a498af491c9d2e481ed1880ad74839c9389,openstack/releases,master,I707b2a498af491c9d2e481ed1880ad74839c9389,Fix propose-update-constraints job name in docs,MERGED,2019-12-16 19:54:50.000000000,2019-12-19 10:20:38.000000000,2019-12-19 10:20:38.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-12-16 19:54:50.000000000', 'files': ['doc/source/reference/reviewer_guide.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/96373561331e21ec65915736d41f536b991e92df', 'message': 'Fix propose-update-constraints job name in docs\n\nThe propose-update-constraints job was referred to as\npropose-upper-constraints. Update name to make it a little easier if\nsomeone is looking for references to the actual job.\n\nChange-Id: I707b2a498af491c9d2e481ed1880ad74839c9389\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,699283,96373561331e21ec65915736d41f536b991e92df,7,3,1,11904,,,0,"Fix propose-update-constraints job name in docs

The propose-update-constraints job was referred to as
propose-upper-constraints. Update name to make it a little easier if
someone is looking for references to the actual job.

Change-Id: I707b2a498af491c9d2e481ed1880ad74839c9389
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/699283/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/reviewer_guide.rst'],1,96373561331e21ec65915736d41f536b991e92df,propose-constraints,``propose-update-constraints`` submits a change to,``propose-upper-constraints`` submits a change to,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I7c1615685718924e872a2f9173b15c63bba8c482,openstack/tripleo-heat-templates,stable/train,I7c1615685718924e872a2f9173b15c63bba8c482,scale: fixes for compute scale down,MERGED,2019-12-12 18:15:00.000000000,2019-12-19 09:59:04.000000000,2019-12-19 09:59:04.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-12 18:15:00.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml', 'common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a4015f220f5d573c237cdec373eb68bf2fe7681', 'message': 'scale: fixes for compute scale down\n\n- Force fact gathering so that we\'re ensured to have the proper FQDN\n- Update start squence so that our scale down process is not starting\n  from irrelevant steps\n- correct list evaluation. The compute service argument should have one\n  item in the list. Prior to this change it was expecting zero items,\n  which was causing the removal tasks to skip.\n\nCo-Authored-By: ""Cedric Jeanneret (Tengu) <cjeanner@redhat.com>""\nCo-Authored-By: ""Emilien Macchi <emilien@redhat.com>""\nCo-Authored-By: ""Kevin Carter (cloudnull) <kecarter@redhat.com>""\n\nChange-Id: I7c1615685718924e872a2f9173b15c63bba8c482\nCloses-Bug: #1856062\n'}]",0,698784,7a4015f220f5d573c237cdec373eb68bf2fe7681,27,5,1,7353,,,0,"scale: fixes for compute scale down

- Force fact gathering so that we're ensured to have the proper FQDN
- Update start squence so that our scale down process is not starting
  from irrelevant steps
- correct list evaluation. The compute service argument should have one
  item in the list. Prior to this change it was expecting zero items,
  which was causing the removal tasks to skip.

Co-Authored-By: ""Cedric Jeanneret (Tengu) <cjeanner@redhat.com>""
Co-Authored-By: ""Emilien Macchi <emilien@redhat.com>""
Co-Authored-By: ""Kevin Carter (cloudnull) <kecarter@redhat.com>""

Change-Id: I7c1615685718924e872a2f9173b15c63bba8c482
Closes-Bug: #1856062
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/698784/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-compute-container-puppet.yaml', 'common/deploy-steps.j2']",2,7a4015f220f5d573c237cdec373eb68bf2fe7681,scale-stable/train," # NOTE(cloudnull): This is set to true explicitly so that we have up-to-date facts # on all DEPLOY_TARGET_HOST when performing a scaling operation. # Without up-to-date facts, we're creating a potential failure # scenario. gather_facts: true with_sequence: start=1 end={{scale_steps_max}}"," gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} with_sequence: start=0 end={{scale_steps_max}}",8,4
openstack%2Fosprofiler~stable%2Frocky~I50f5f369ec41ddc82f9b66f5910b7805940fb387,openstack/osprofiler,stable/rocky,I50f5f369ec41ddc82f9b66f5910b7805940fb387,Bring env OSPROFILER_CONNECTION_STRING into effect,MERGED,2019-07-01 03:43:02.000000000,2019-12-19 09:37:42.000000000,2019-12-19 09:36:24.000000000,"[{'_account_id': 5950}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 03:43:02.000000000', 'files': ['osprofiler/cmd/commands.py'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/6c035399ad12ab9a9c5b1c8d455aea294107e3b4', 'message': ""Bring env OSPROFILER_CONNECTION_STRING into effect\n\nThe --connection-string is marked required, and parse_args()\nassumes the flag invalid if it's not supplied as command line\nargument, even if env OSPROFILER_CONNECTION_STRING is setted.\n\nWe should not rely on the required=True of argparse module,\nbut check the required args on our own to take env arguments\ninto consideration.\n\nChange-Id: I50f5f369ec41ddc82f9b66f5910b7805940fb387\n(cherry picked from commit ede0ec402eee45e107c1fde429c3332b3e49f60e)\n""}]",0,668348,6c035399ad12ab9a9c5b1c8d455aea294107e3b4,8,3,1,30170,,,0,"Bring env OSPROFILER_CONNECTION_STRING into effect

The --connection-string is marked required, and parse_args()
assumes the flag invalid if it's not supplied as command line
argument, even if env OSPROFILER_CONNECTION_STRING is setted.

We should not rely on the required=True of argparse module,
but check the required args on our own to take env arguments
into consideration.

Change-Id: I50f5f369ec41ddc82f9b66f5910b7805940fb387
(cherry picked from commit ede0ec402eee45e107c1fde429c3332b3e49f60e)
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/48/668348/1 && git format-patch -1 --stdout FETCH_HEAD,['osprofiler/cmd/commands.py'],1,6c035399ad12ab9a9c5b1c8d455aea294107e3b4,cmd-args-check-stable/rocky," if not args.conn_str: raise exc.CommandError( ""You must provide connection string via"" "" either --connection-string or "" ""via env[OSPROFILER_CONNECTION_STRING]"") if not args.conn_str: raise exc.CommandError( ""You must provide connection string via"" "" either --connection-string or "" ""via env[OSPROFILER_CONNECTION_STRING]"")"," required=True, required=True,",11,2
openstack%2Fmistral~master~Ib875b42048b6382c9c96b6b3412c04b31b92b9db,openstack/mistral,master,Ib875b42048b6382c9c96b6b3412c04b31b92b9db,Add coordination support for devstack,ABANDONED,2019-12-18 09:18:57.000000000,2019-12-19 09:34:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-12-18 09:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e3a6b2cb2066675ef1777c55ee02494bcf91dd04', 'message': 'Add coordination support for devstack\n\nThis way we can test the service api later on gate\n\nChange-Id: Ib875b42048b6382c9c96b6b3412c04b31b92b9db\n'}, {'number': 2, 'created': '2019-12-18 12:38:08.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/mistral/commit/2033773447d57fb4f300de5bb1b60e940c50864a', 'message': 'Add coordination support for devstack\n\nThis way we can test the service api later on gate\n\nChange-Id: Ib875b42048b6382c9c96b6b3412c04b31b92b9db\n'}]",0,699637,2033773447d57fb4f300de5bb1b60e940c50864a,6,1,2,19134,,,0,"Add coordination support for devstack

This way we can test the service api later on gate

Change-Id: Ib875b42048b6382c9c96b6b3412c04b31b92b9db
",git fetch https://review.opendev.org/openstack/mistral refs/changes/37/699637/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,e3a6b2cb2066675ef1777c55ee02494bcf91dd04,eyalb/coordination," if [[ ! -z ""$MISTRAL_COORDINATION_URL"" ]]; then iniset $MISTRAL_CONF_FILE coordination backend_url ""$MISTRAL_COORDINATION_URL"" elif is_service_enabled etcd3; then iniset $MISTRAL_CONF_FILE coordination backend_url ""etcd3://${SERVICE_HOST}:$ETCD_PORT"" fi",,6,0
openstack%2Fpython-solumclient~master~I7309d339f5906fd8a10920ee9f2f4e03239f6b40,openstack/python-solumclient,master,I7309d339f5906fd8a10920ee9f2f4e03239f6b40,Drop python 2.7 support and testing,MERGED,2019-10-31 07:25:52.000000000,2019-12-19 09:34:30.000000000,2019-12-19 09:31:32.000000000,"[{'_account_id': 8556}, {'_account_id': 14107}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 07:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/5368a6b6d7c8807ce862bf64abda7c1c9e2fb69b', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\npython-solumclient is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I7309d339f5906fd8a10920ee9f2f4e03239f6b40\n'}, {'number': 2, 'created': '2019-12-13 23:45:06.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini', 'releasenotes/notes/drop-py-2-7-67ceae6137261c7c.yaml'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/fb399ee012bb5cec44171ad91c8b2ca7a23bea79', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\npython-solumclient is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I7309d339f5906fd8a10920ee9f2f4e03239f6b40\n'}]",0,692282,fb399ee012bb5cec44171ad91c8b2ca7a23bea79,21,4,2,8556,,,0,"Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

python-solumclient is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/

Change-Id: I7309d339f5906fd8a10920ee9f2f4e03239f6b40
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/82/692282/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini', 'releasenotes/notes/drop-py-2-7-67ceae6137261c7c.yaml']",4,5368a6b6d7c8807ce862bf64abda7c1c9e2fb69b,drop-py27-support,--- upgrade: - | Python 2.7 support has been dropped. Last release of python-solumclient to support python 2.7 is OpenStack Train. The minimum version of Python now supported by python-solumclient is Python 3.6. ,,8,5
openstack%2Fosprofiler~stable%2Fstein~I50f5f369ec41ddc82f9b66f5910b7805940fb387,openstack/osprofiler,stable/stein,I50f5f369ec41ddc82f9b66f5910b7805940fb387,Bring env OSPROFILER_CONNECTION_STRING into effect,MERGED,2019-07-01 03:42:45.000000000,2019-12-19 09:33:10.000000000,2019-12-19 09:30:47.000000000,"[{'_account_id': 5950}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 03:42:45.000000000', 'files': ['osprofiler/cmd/commands.py'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/b7ce08f35f9debff34e49363b316ddf8474c1662', 'message': ""Bring env OSPROFILER_CONNECTION_STRING into effect\n\nThe --connection-string is marked required, and parse_args()\nassumes the flag invalid if it's not supplied as command line\nargument, even if env OSPROFILER_CONNECTION_STRING is setted.\n\nWe should not rely on the required=True of argparse module,\nbut check the required args on our own to take env arguments\ninto consideration.\n\nChange-Id: I50f5f369ec41ddc82f9b66f5910b7805940fb387\n(cherry picked from commit ede0ec402eee45e107c1fde429c3332b3e49f60e)\n""}]",0,668347,b7ce08f35f9debff34e49363b316ddf8474c1662,8,3,1,30170,,,0,"Bring env OSPROFILER_CONNECTION_STRING into effect

The --connection-string is marked required, and parse_args()
assumes the flag invalid if it's not supplied as command line
argument, even if env OSPROFILER_CONNECTION_STRING is setted.

We should not rely on the required=True of argparse module,
but check the required args on our own to take env arguments
into consideration.

Change-Id: I50f5f369ec41ddc82f9b66f5910b7805940fb387
(cherry picked from commit ede0ec402eee45e107c1fde429c3332b3e49f60e)
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/47/668347/1 && git format-patch -1 --stdout FETCH_HEAD,['osprofiler/cmd/commands.py'],1,b7ce08f35f9debff34e49363b316ddf8474c1662,cmd-args-check-stable/stein," if not args.conn_str: raise exc.CommandError( ""You must provide connection string via"" "" either --connection-string or "" ""via env[OSPROFILER_CONNECTION_STRING]"") if not args.conn_str: raise exc.CommandError( ""You must provide connection string via"" "" either --connection-string or "" ""via env[OSPROFILER_CONNECTION_STRING]"")"," required=True, required=True,",11,2
openstack%2Foslo.context~master~Ibe4add5a9391c3b3bc49206c9ac65721cedddf5a,openstack/oslo.context,master,Ibe4add5a9391c3b3bc49206c9ac65721cedddf5a,Bump the openstackdocstheme extension to 1.20,MERGED,2019-10-12 06:48:55.000000000,2019-12-19 09:33:10.000000000,2019-12-19 09:30:45.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-12 06:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/81f69d500f7647043611cb9f744153a0ac557c66', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Ibe4add5a9391c3b3bc49206c9ac65721cedddf5a\n'}, {'number': 2, 'created': '2019-11-12 09:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/4f5b5a0e6ae968cf058a5317050f4e78bb3fe022', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Ibe4add5a9391c3b3bc49206c9ac65721cedddf5a\n'}, {'number': 3, 'created': '2019-12-17 17:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/3d2b98147e054cb80877feda95330f1d6c5b67c3', 'message': ""Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release\n\nNote that we don't actually drop 'project' since it's referenced\nelsewhere in the file and cleaning that up would be hassle.\n\nChange-Id: Ibe4add5a9391c3b3bc49206c9ac65721cedddf5a\n""}, {'number': 4, 'created': '2019-12-17 17:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/ae9e39972567d98ce766daacfd01dd1fbae82452', 'message': ""Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release\n\nNote that we don't actually drop 'project' since it's referenced\nelsewhere in the file and cleaning that up would be hassle.\n\nChange-Id: Ibe4add5a9391c3b3bc49206c9ac65721cedddf5a\n""}, {'number': 5, 'created': '2019-12-19 09:13:54.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/39923ae345db4ed573b03ffbc8b22bde9c0d023c', 'message': ""Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release\n\nNote that we don't actually drop 'project' since it's referenced\nelsewhere in the file and cleaning that up would be hassle.\n\nChange-Id: Ibe4add5a9391c3b3bc49206c9ac65721cedddf5a\n""}]",4,688240,39923ae345db4ed573b03ffbc8b22bde9c0d023c,21,4,5,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:

- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release

Note that we don't actually drop 'project' since it's referenced
elsewhere in the file and cleaning that up would be hassle.

Change-Id: Ibe4add5a9391c3b3bc49206c9ac65721cedddf5a
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/40/688240/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py']",3,81f69d500f7647043611cb9f744153a0ac557c66,openstackdocstheme,,"project = u'oslo.context Release Notes'# If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. # html_last_updated_fmt = '%b %d, %Y' html_last_updated_fmt = '%Y-%m-%d %H:%M' latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",1,23
openstack%2Fstevedore~master~I0573019ba9e98d31ccb43179590a970c9b7647af,openstack/stevedore,master,I0573019ba9e98d31ccb43179590a970c9b7647af,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-10-10 07:05:32.000000000,2019-12-19 09:33:09.000000000,2019-12-19 09:30:28.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-10 07:05:32.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/stevedore/commit/22d92824d2b94017d4f53befa881130d272e34e9', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I0573019ba9e98d31ccb43179590a970c9b7647af\n'}]",0,687801,22d92824d2b94017d4f53befa881130d272e34e9,8,3,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I0573019ba9e98d31ccb43179590a970c9b7647af
",git fetch https://review.opendev.org/openstack/stevedore refs/changes/01/687801/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,22d92824d2b94017d4f53befa881130d272e34e9,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Ftraining-labs~master~I4ca86a6affc4db67437ed95cbb899ce32c59ac16,openstack/training-labs,master,I4ca86a6affc4db67437ed95cbb899ce32c59ac16,setup_glance: remove glance-registry configuration,MERGED,2019-12-09 15:39:36.000000000,2019-12-19 09:26:09.000000000,2019-12-19 09:26:09.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-09 15:39:36.000000000', 'files': ['labs/osbash/scripts/ubuntu/setup_glance.sh'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/56e4e0b0595a8893ffb40dceec05c25489b126b0', 'message': 'setup_glance: remove glance-registry configuration\n\nLeftover, should have been removed with Change-ID\nIbf372b520bdc60a39cf8f53cf1fddfe4ace1c11f.\n\nChange-Id: I4ca86a6affc4db67437ed95cbb899ce32c59ac16\n'}]",0,698033,56e4e0b0595a8893ffb40dceec05c25489b126b0,6,2,1,11109,,,0,"setup_glance: remove glance-registry configuration

Leftover, should have been removed with Change-ID
Ibf372b520bdc60a39cf8f53cf1fddfe4ace1c11f.

Change-Id: I4ca86a6affc4db67437ed95cbb899ce32c59ac16
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/33/698033/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/osbash/scripts/ubuntu/setup_glance.sh'],1,56e4e0b0595a8893ffb40dceec05c25489b126b0,glance_registry,,"echo ""Configuring glance-registry.conf."" conf=/etc/glance/glance-registry.conf # Database section iniset_sudo $conf database connection ""$database_url"" # Keystone authtoken section iniset_sudo $conf keystone_authtoken www_authenticate_uri http://controller:5000 iniset_sudo $conf keystone_authtoken auth_url http://controller:5000 iniset_sudo $conf keystone_authtoken memcached_servers controller:11211 iniset_sudo $conf keystone_authtoken auth_type password iniset_sudo $conf keystone_authtoken project_domain_name Default iniset_sudo $conf keystone_authtoken user_domain_name Default iniset_sudo $conf keystone_authtoken project_name ""$SERVICE_PROJECT_NAME"" iniset_sudo $conf keystone_authtoken username ""$glance_admin_user"" iniset_sudo $conf keystone_authtoken password ""$GLANCE_PASS"" # Paste deploy section iniset_sudo $conf paste_deploy flavor ""keystone"" ",0,20
openstack%2Fkeystone-specs~master~I01b7f61bf6d07d00bec6802a56fcd977df1eb5ec,openstack/keystone-specs,master,I01b7f61bf6d07d00bec6802a56fcd977df1eb5ec,[ussuri][goal] Drop python 2.7 support,ABANDONED,2019-12-17 15:11:27.000000000,2019-12-19 09:20:56.000000000,,"[{'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-12-17 15:11:27.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/f5319cef5bed30f3ec1804c5d470614d36102aa5', 'message': '[ussuri][goal] Drop python 2.7 support\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nspecs repo either has py27 job or requirement or tox env.\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I01b7f61bf6d07d00bec6802a56fcd977df1eb5ec\n'}]",0,699433,f5319cef5bed30f3ec1804c5d470614d36102aa5,5,2,1,27621,,,0,"[ussuri][goal] Drop python 2.7 support

OpenStack is dropping the py2.7 support in ussuri cycle.

specs repo either has py27 job or requirement or tox env.

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I01b7f61bf6d07d00bec6802a56fcd977df1eb5ec
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/33/699433/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'setup.cfg', 'tox.ini']",4,f5319cef5bed30f3ec1804c5d470614d36102aa5,drop-py27-support,"minversion = 3.1.1 envlist = docs,pep8,py37ignore_basepython_conflict = Truebasepython = python3","minversion = 1.6 envlist = docs,py27,py37basepython = python3basepython = python3",6,9
openstack%2Fheat-translator~stable%2Ftrain~I514b33805460b3a8ffeabc05d2990b7cc1b22321,openstack/heat-translator,stable/train,I514b33805460b3a8ffeabc05d2990b7cc1b22321,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-09-20 16:22:41.000000000,2019-12-19 09:19:07.000000000,2019-12-19 09:17:15.000000000,"[{'_account_id': 11904}, {'_account_id': 12404}, {'_account_id': 16511}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-20 16:22:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/cbd4af5b54cf5ca3e5c01bb27e6ec74791b186b3', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I514b33805460b3a8ffeabc05d2990b7cc1b22321\n'}]",0,683459,cbd4af5b54cf5ca3e5c01bb27e6ec74791b186b3,14,4,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I514b33805460b3a8ffeabc05d2990b7cc1b22321
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/59/683459/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cbd4af5b54cf5ca3e5c01bb27e6ec74791b186b3,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt},1,1
openstack%2Foctavia~master~I30a16837fca8f1ddea2799dd7bd35ba4ebd7dbe8,openstack/octavia,master,I30a16837fca8f1ddea2799dd7bd35ba4ebd7dbe8,Add install guide for Ubuntu,MERGED,2019-07-26 01:19:19.000000000,2019-12-19 09:14:45.000000000,2019-12-19 09:12:41.000000000,"[{'_account_id': 2245}, {'_account_id': 6167}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 13111}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 27316}, {'_account_id': 29244}, {'_account_id': 30619}]","[{'number': 1, 'created': '2019-07-26 01:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b081fcb631c203a6dacc9c99acb3782975259bc5', 'message': 'Add install guide for Ubuntu\n\nThis patch adds install guide for Ubuntu.\n\nChange-Id: I30a16837fca8f1ddea2799dd7bd35ba4ebd7dbe8\n'}, {'number': 2, 'created': '2019-07-30 04:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c8bd4737cc7112536ac137431d96ab57bc795c2f', 'message': 'Add install guide for Ubuntu\n\nThis patch adds install guide for Ubuntu.\n\nChange-Id: I30a16837fca8f1ddea2799dd7bd35ba4ebd7dbe8\n'}, {'number': 3, 'created': '2019-08-22 01:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/73b60ee178ce5ccdfea854cc1630f1bf762464ab', 'message': 'Add install guide for Ubuntu\n\nThis patch adds install guide for Ubuntu.\n\nChange-Id: I30a16837fca8f1ddea2799dd7bd35ba4ebd7dbe8\n'}, {'number': 4, 'created': '2019-08-22 01:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0c8078eea65127e050da4f27e3810fb9e7ffe3f1', 'message': 'Add install guide for Ubuntu\n\nThis patch adds install guide for Ubuntu.\n\nChange-Id: I30a16837fca8f1ddea2799dd7bd35ba4ebd7dbe8\n'}, {'number': 5, 'created': '2019-08-23 05:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b050787b5986b383dbff984c7eaa8c1d430385cb', 'message': 'Add install guide for Ubuntu\n\nThis patch adds install guide for Ubuntu.\n\nChange-Id: I30a16837fca8f1ddea2799dd7bd35ba4ebd7dbe8\n'}, {'number': 6, 'created': '2019-10-09 08:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f0dc49ba0b54b8ca4be21330ab395bef4c3672f1', 'message': 'Add install guide for Ubuntu\n\nThis patch adds install guide for Ubuntu.\n\nChange-Id: I30a16837fca8f1ddea2799dd7bd35ba4ebd7dbe8\n'}, {'number': 7, 'created': '2019-10-09 09:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fc7603c92c4efca6685f024e061a0376f5d7d8a6', 'message': 'Add install guide for Ubuntu\n\nThis patch adds install guide for Ubuntu.\n\nChange-Id: I30a16837fca8f1ddea2799dd7bd35ba4ebd7dbe8\n'}, {'number': 8, 'created': '2019-10-22 07:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/031c45998a071dc43eaf5373c1ad97836dba5a90', 'message': 'Add install guide for Ubuntu\n\nThis patch adds install guide for Ubuntu.\n\nChange-Id: I30a16837fca8f1ddea2799dd7bd35ba4ebd7dbe8\n'}, {'number': 9, 'created': '2019-10-22 07:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d4058443040b20aae9e4ecd256ab7d9fae777873', 'message': 'Add install guide for Ubuntu\n\nThis patch adds install guide for Ubuntu.\n\nCo-Authored-By: Ajay Kumar <ajay.k@india.nec.com>\nChange-Id: I30a16837fca8f1ddea2799dd7bd35ba4ebd7dbe8\n'}, {'number': 10, 'created': '2019-11-26 17:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/24b56e5697aa194427db7963c3968d5e2073abba', 'message': 'Add install guide for Ubuntu\n\nThis patch adds install guide for Ubuntu.\n\nCo-Authored-By: Ajay Kumar <ajay.k@india.nec.com>\nChange-Id: I30a16837fca8f1ddea2799dd7bd35ba4ebd7dbe8\n'}, {'number': 11, 'created': '2019-11-26 17:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/33e3081ea974fdcd880efa6a6464b50d37de4d91', 'message': '[WIP] Add install guide for Ubuntu\n\nThis patch adds install guide for Ubuntu.\n\nCo-Authored-By: Ajay Kumar <ajay.k@india.nec.com>\nChange-Id: I30a16837fca8f1ddea2799dd7bd35ba4ebd7dbe8\n'}, {'number': 12, 'created': '2019-11-27 04:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fb5236715abaa012c049b5d0ba9c502dc9eca61c', 'message': 'Add install guide for Ubuntu\n\nThis patch adds install guide for Ubuntu.\n\nCo-Authored-By: Ajay Kumar <ajay.k@india.nec.com>\nChange-Id: I30a16837fca8f1ddea2799dd7bd35ba4ebd7dbe8\n'}, {'number': 13, 'created': '2019-12-13 05:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8b826048f25736261856a0c5ca10d29524f351d2', 'message': 'Add install guide for Ubuntu\n\nThis patch adds install guide for Ubuntu.\n\nCo-Authored-By: Ajay Kumar <ajay.k@india.nec.com>\nChange-Id: I30a16837fca8f1ddea2799dd7bd35ba4ebd7dbe8\n'}, {'number': 14, 'created': '2019-12-17 01:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4b10e4c480e616458ca10f33675fc48891fc15a3', 'message': 'Add install guide for Ubuntu\n\nThis patch adds install guide for Ubuntu.\n\nCo-Authored-By: Ajay Kumar <ajay.k@india.nec.com>\nChange-Id: I30a16837fca8f1ddea2799dd7bd35ba4ebd7dbe8\n'}, {'number': 15, 'created': '2019-12-17 02:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7f7b7367a9e448d72f62790a5f5b564c465c4ed3', 'message': 'Add install guide for Ubuntu\n\nThis patch adds install guide for Ubuntu.\n\nCo-Authored-By: Ajay Kumar <ajay.k@india.nec.com>\nChange-Id: I30a16837fca8f1ddea2799dd7bd35ba4ebd7dbe8\n'}, {'number': 16, 'created': '2019-12-18 01:24:36.000000000', 'files': ['doc/source/install/install-ubuntu.rst', 'doc/source/install/index.rst', 'doc/source/install/install.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/26cbb93a9a4ad40466f9e56bcd883bec6a89383c', 'message': 'Add install guide for Ubuntu\n\nThis patch adds install guide for Ubuntu.\n\nCo-Authored-By: Ajay Kumar <ajay.k@india.nec.com>\nChange-Id: I30a16837fca8f1ddea2799dd7bd35ba4ebd7dbe8\n'}]",154,672842,26cbb93a9a4ad40466f9e56bcd883bec6a89383c,86,11,16,13111,,,0,"Add install guide for Ubuntu

This patch adds install guide for Ubuntu.

Co-Authored-By: Ajay Kumar <ajay.k@india.nec.com>
Change-Id: I30a16837fca8f1ddea2799dd7bd35ba4ebd7dbe8
",git fetch https://review.opendev.org/openstack/octavia refs/changes/42/672842/16 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/install-ubuntu.rst', 'doc/source/install/index.rst', 'doc/source/install/install.rst']",3,b081fcb631c203a6dacc9c99acb3782975259bc5,install_doc,".. _install: Install and configure ~~~~~~~~~~~~~~~~~~~~~ This section describes how to install and configure the Load-balancer service, code-named Octavia, on the controller node. This section assumes that you already have a working OpenStack environment with at least the following components installed: Identity Service, Image Service, Placement Service, Compute Service, and Networking Service. Note that installation and configuration vary by distribution. .. toctree:: :maxdepth: 2 install-ubuntu.rst ",,413,0
openstack%2Fmagnum~master~I7f62b882fa812beb74e38bbc5916d9df5afbd481,openstack/magnum,master,I7f62b882fa812beb74e38bbc5916d9df5afbd481,Fix heat-container-agent image building error on arm64,MERGED,2019-12-17 05:27:55.000000000,2019-12-19 09:12:07.000000000,2019-12-17 18:54:46.000000000,"[{'_account_id': 6484}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22997}, {'_account_id': 24072}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-12-17 05:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/9a5a4453ff3f1514172ee51db552af9627c08dd8', 'message': ""Fix heat-container-agent image building error on arm64\n\nFix bellow building error on arm64.\n----------\n  build/temp.linux-aarch64-3.8/_openssl.c:498:10: fatal error: openssl/opensslv.h: No such file or directory\n    498 | #include <openssl/opensslv.h>\n        |          ^~~~~~~~~~~~~~~~~~~~\n  compilation terminated.\n  error: command 'gcc' failed with exit status 1\n  ----------------------------------------\n  ERROR: Failed building wheel for cryptography\n  Running setup.py clean for cryptography\n  Failed to build cryptography\n  ERROR: Could not build wheels for cryptography\n  which use PEP 517 and cannot be installed directly\n----------\n\nAdditionally, add an ARCH ARG to pass other architecure value when\nbuilding image.\nE.g: $ docker build --build-arg ARCH=`uname -m` -t TAGNAME .\n\nChange-Id: I7f62b882fa812beb74e38bbc5916d9df5afbd481\n""}, {'number': 2, 'created': '2019-12-17 07:35:17.000000000', 'files': ['dockerfiles/heat-container-agent/Dockerfile'], 'web_link': 'https://opendev.org/openstack/magnum/commit/36cb39110ae3fba5d9939a129bf51978be0f6da8', 'message': ""Fix heat-container-agent image building error on arm64\n\nFix bellow building error on arm64.\n----------\n  build/temp.linux-aarch64-3.8/_openssl.c:498:10: fatal error: openssl/opensslv.h: No such file or directory\n    498 | #include <openssl/opensslv.h>\n        |          ^~~~~~~~~~~~~~~~~~~~\n  compilation terminated.\n  error: command 'gcc' failed with exit status 1\n  ----------------------------------------\n  ERROR: Failed building wheel for cryptography\n  Running setup.py clean for cryptography\n  Failed to build cryptography\n  ERROR: Could not build wheels for cryptography\n  which use PEP 517 and cannot be installed directly\n----------\n\nAdditionally, add an ARCH ARG to pass other architecure value when\nbuilding image.\nE.g: $ docker build --build-arg ARCH=`uname -m` -t TAGNAME .\n\ntask: 37823\nstory: 2007026\n\nChange-Id: I7f62b882fa812beb74e38bbc5916d9df5afbd481\n""}]",2,699340,36cb39110ae3fba5d9939a129bf51978be0f6da8,21,6,2,22997,,,0,"Fix heat-container-agent image building error on arm64

Fix bellow building error on arm64.
----------
  build/temp.linux-aarch64-3.8/_openssl.c:498:10: fatal error: openssl/opensslv.h: No such file or directory
    498 | #include <openssl/opensslv.h>
        |          ^~~~~~~~~~~~~~~~~~~~
  compilation terminated.
  error: command 'gcc' failed with exit status 1
  ----------------------------------------
  ERROR: Failed building wheel for cryptography
  Running setup.py clean for cryptography
  Failed to build cryptography
  ERROR: Could not build wheels for cryptography
  which use PEP 517 and cannot be installed directly
----------

Additionally, add an ARCH ARG to pass other architecure value when
building image.
E.g: $ docker build --build-arg ARCH=`uname -m` -t TAGNAME .

task: 37823
story: 2007026

Change-Id: I7f62b882fa812beb74e38bbc5916d9df5afbd481
",git fetch https://review.opendev.org/openstack/magnum refs/changes/40/699340/1 && git format-patch -1 --stdout FETCH_HEAD,['dockerfiles/heat-container-agent/Dockerfile'],1,9a5a4453ff3f1514172ee51db552af9627c08dd8,bug/arm64-build-fix,ARG ARCH=x86_64 architecture=$ARCH \ openssl-devel \," architecture=""x86_64"" \",4,1
openstack%2Fheat-translator~stable%2Ftrain~I876db16a110925a17f8c0b4a26a8b0ffcc45e8fd,openstack/heat-translator,stable/train,I876db16a110925a17f8c0b4a26a8b0ffcc45e8fd,Update .gitreview for stable/train,MERGED,2019-09-20 16:22:37.000000000,2019-12-19 09:11:39.000000000,2019-12-19 09:09:32.000000000,"[{'_account_id': 11904}, {'_account_id': 12404}, {'_account_id': 16511}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-20 16:22:37.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/bda128f5d182f3322dd0a8114cefe569d7bfd45e', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I876db16a110925a17f8c0b4a26a8b0ffcc45e8fd\n'}]",0,683458,bda128f5d182f3322dd0a8114cefe569d7bfd45e,12,4,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I876db16a110925a17f8c0b4a26a8b0ffcc45e8fd
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/58/683458/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,bda128f5d182f3322dd0a8114cefe569d7bfd45e,create-train,defaultbranch=stable/train,,1,0
openstack%2Fkolla~stable%2Ftrain~I1bc3fe3357ad7779cb8723712da3b6b50a1429ba,openstack/kolla,stable/train,I1bc3fe3357ad7779cb8723712da3b6b50a1429ba,Update Bifrost to 7.1.0,ABANDONED,2019-12-19 08:54:50.000000000,2019-12-19 09:01:20.000000000,,[],"[{'number': 1, 'created': '2019-12-19 08:54:50.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/64d8992d82383e1606bd57bd5fa1f275743abcc3', 'message': 'Update Bifrost to 7.1.0\n\nThe 7.0.0 release fetches its dependencies using Git master branches.\nThis recently broke some Kayobe CI jobs as requirements have bumped the\nupper constraint on ironic-lib to 3.0.0, which dropped Python 2\ncompatibility: https://review.opendev.org/#/c/698981/\n\nSwitch to the 7.1.0 release of Bifrost which correctly fetches from\nstable/train branches.\n\nChange-Id: I1bc3fe3357ad7779cb8723712da3b6b50a1429ba\n'}]",0,699932,64d8992d82383e1606bd57bd5fa1f275743abcc3,2,0,1,15197,,,0,"Update Bifrost to 7.1.0

The 7.0.0 release fetches its dependencies using Git master branches.
This recently broke some Kayobe CI jobs as requirements have bumped the
upper constraint on ironic-lib to 3.0.0, which dropped Python 2
compatibility: https://review.opendev.org/#/c/698981/

Switch to the 7.1.0 release of Bifrost which correctly fetches from
stable/train branches.

Change-Id: I1bc3fe3357ad7779cb8723712da3b6b50a1429ba
",git fetch https://review.opendev.org/openstack/kolla refs/changes/32/699932/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,64d8992d82383e1606bd57bd5fa1f275743abcc3,bifrost-train," 'bifrost-7.1.0.tar.gz')},"," 'bifrost-7.0.0.tar.gz')},",1,1
openstack%2Foperations-guide~master~I41697a813485daa68e516df95123d9ce55816a73,openstack/operations-guide,master,I41697a813485daa68e516df95123d9ce55816a73,Imported Translations from Zanata,MERGED,2019-12-19 07:44:14.000000000,2019-12-19 08:36:46.000000000,2019-12-19 08:34:41.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-19 07:44:14.000000000', 'files': ['doc/source/locale/id/LC_MESSAGES/doc.po'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/7cad25f7b6c5a3b9682ed643baa9beb366a145a8', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I41697a813485daa68e516df95123d9ce55816a73\n'}]",0,699925,7cad25f7b6c5a3b9682ed643baa9beb366a145a8,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I41697a813485daa68e516df95123d9ce55816a73
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/25/699925/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/locale/id/LC_MESSAGES/doc.po'],1,7cad25f7b6c5a3b9682ed643baa9beb366a145a8,zanata/translations,"""POT-Creation-Date: 2019-12-17 10:23+0000\n""""PO-Revision-Date: 2019-12-18 02:44+0000\n""msgid """" ""The OpenStack Operations Guide was published in 2014, the last partial "" ""update was in 2017. Since then it has seen some minor updates to document "" ""newer releases and fix broken links."" msgstr """" ""Panduan Operasi OpenStack diterbitkan pada tahun 2014, pembaruan parsial "" ""terakhir adalah pada tahun 2017. Sejak itu ia telah melihat beberapa "" ""pembaruan kecil untuk mendokumentasikan rilis baru dan memperbaiki tautan "" ""yang rusak.."" msgid ""The guide thus might not apply anymore to current releases."" msgstr """" ""Dengan demikian panduan ini mungkin tidak berlaku lagi untuk rilis saat ini."" ","""POT-Creation-Date: 2019-08-23 12:35+0000\n""""PO-Revision-Date: 2019-08-26 03:47+0000\n""",16,2
openstack%2Fproject-config~master~I24a789b01f31c9e7e8f301d9b5652a0ea675ad38,openstack/project-config,master,I24a789b01f31c9e7e8f301d9b5652a0ea675ad38,Normalize projects.yaml,MERGED,2019-12-19 06:10:36.000000000,2019-12-19 08:33:53.000000000,2019-12-19 08:33:53.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-19 06:10:36.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9936b3ca93e89a8d7c418e97112bb82d280f44d2', 'message': 'Normalize projects.yaml\n\nChange-Id: I24a789b01f31c9e7e8f301d9b5652a0ea675ad38\n'}]",0,699913,9936b3ca93e89a8d7c418e97112bb82d280f44d2,6,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: I24a789b01f31c9e7e8f301d9b5652a0ea675ad38
",git fetch https://review.opendev.org/openstack/project-config refs/changes/13/699913/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,9936b3ca93e89a8d7c418e97112bb82d280f44d2,project-yaml-normalization," description: RETIRED, Urwid-based console user interface to configure Fuel master node. description: RETIRED, A service to process unstructured serialized configuration data and facilitate exchange of this data between deployment services such as Fuel or Puppet Master and deployed OpenStack components. description: RETIRED, Calico provides Layer 3 Virtual Networking for Highly Scalable Data Centers"," description: RETIRED, Urwid-based console user interface to configure Fuel master node. acl-config: /home/gerrit2/acls/openstack/retired.config description: RETIRED, A service to process unstructured serialized configuration data and facilitate exchange of this data between deployment services such as Fuel or Puppet Master and deployed OpenStack components. description: RETIRED, Calico provides Layer 3 Virtual Networking for Highly Scalable Data Centers",7,7
openstack%2Fmagnum~master~I021aeeef9f39dd426c1f335161a3d4b3f51670e8,openstack/magnum,master,I021aeeef9f39dd426c1f335161a3d4b3f51670e8,Fix entrypoint for k8s components in podman,MERGED,2019-12-18 13:05:57.000000000,2019-12-19 08:32:35.000000000,2019-12-19 02:36:29.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-12-18 13:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/03ef5e738c69252a549988566db07ab0d6a0c5ca', 'message': 'Fix entrypoint for k8s components in podman\n\nUpstream k8s images changed the entrypoint to\n/hyperkube instead of shell.\n\npodman inspect k8s.gcr.io/hyperkube:v1.16.0 | grep Entrypoint -A 2\npodman inspect k8s.gcr.io/hyperkube:v1.17.0 | grep Entrypoint -A 2\n            ""Entrypoint"": [\n                ""/hyperkube""\n            ]\n\nstory: 2007031\ntask: 37834\n\nChange-Id: I021aeeef9f39dd426c1f335161a3d4b3f51670e8\nSigned-off-by: Spyros Trigazis <strigazi@gmail.com>\n'}, {'number': 2, 'created': '2019-12-18 14:18:59.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/8fa77dae0bd734d8c270a86dd4aef0429e1e22d3', 'message': 'Fix entrypoint for k8s components in podman\n\nUpstream k8s images changed the entrypoint to\n/hyperkube instead of shell.\n\nSet the entrypoint to /hyperkube which works\nfor v1.17.x and v1.16.x.\n\npodman inspect k8s.gcr.io/hyperkube:v1.16.0 | grep Entrypoint -A 2\npodman inspect k8s.gcr.io/hyperkube:v1.17.0 | grep Entrypoint -A 2\n            ""Entrypoint"": [\n                ""/hyperkube""\n            ]\n\nstory: 2007031\ntask: 37834\n\nChange-Id: I021aeeef9f39dd426c1f335161a3d4b3f51670e8\nSigned-off-by: Spyros Trigazis <strigazi@gmail.com>\n'}]",0,699674,8fa77dae0bd734d8c270a86dd4aef0429e1e22d3,11,3,2,20498,,,0,"Fix entrypoint for k8s components in podman

Upstream k8s images changed the entrypoint to
/hyperkube instead of shell.

Set the entrypoint to /hyperkube which works
for v1.17.x and v1.16.x.

podman inspect k8s.gcr.io/hyperkube:v1.16.0 | grep Entrypoint -A 2
podman inspect k8s.gcr.io/hyperkube:v1.17.0 | grep Entrypoint -A 2
            ""Entrypoint"": [
                ""/hyperkube""
            ]

story: 2007031
task: 37834

Change-Id: I021aeeef9f39dd426c1f335161a3d4b3f51670e8
Signed-off-by: Spyros Trigazis <strigazi@gmail.com>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/74/699674/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh']",2,03ef5e738c69252a549988566db07ab0d6a0c5ca,2007031,"ExecStartPre=-/bin/bash -c '/usr/bin/podman run --privileged --user root --net host --entrypoint /bin/bash --rm --volume /usr/local/bin:/host/usr/local/bin \${CONTAINER_INFRA_PREFIX:-k8s.gcr.io/}hyperkube:\${KUBE_TAG} /bin/bash -c ""cp /usr/local/bin/kubectl /host/usr/local/bin/kubectl""' --entrypoint /bin/bash \\ --entrypoint /bin/bash \\ --entrypoint /bin/bash \\ --entrypoint /bin/bash \\ --entrypoint /bin/bash \\","ExecStartPre=-/bin/bash -c '/usr/bin/podman run --privileged --user root --net host --rm --volume /usr/local/bin:/host/usr/local/bin \${CONTAINER_INFRA_PREFIX:-k8s.gcr.io/}hyperkube:\${KUBE_TAG} /bin/sh -c ""cp /usr/local/bin/kubectl /host/usr/local/bin/kubectl""'",9,2
openstack%2Fheat~master~I70f64d43ed6d2bcb5bab3e5c8f986ca827df8c6f,openstack/heat,master,I70f64d43ed6d2bcb5bab3e5c8f986ca827df8c6f,zun: add 'tty' property to container,MERGED,2019-12-14 17:58:22.000000000,2019-12-19 08:26:07.000000000,2019-12-19 08:23:21.000000000,"[{'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 7385}, {'_account_id': 8289}, {'_account_id': 8833}, {'_account_id': 9542}, {'_account_id': 11536}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-14 17:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/79a470d66e55468f106ddfdeef7a386cf9cdd9b3', 'message': 'zun: add \'tty\' property to container\n\nThis property allows users to open the TTY of the container.\nIt basically allows users to use horizon\'s console to access\nthe container interactively. For example:\n\n  resources:\n    test:\n      type: OS::Zun::Container\n      properties:\n        image: ""cirros""\n        interactive: true\n        tty: true\n        command: ""/bin/sh""\n\nChange-Id: I70f64d43ed6d2bcb5bab3e5c8f986ca827df8c6f\nCloses-Bug: #1856233\n'}, {'number': 2, 'created': '2019-12-14 21:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6461d4f9f7175996c38d0e05da9253a3a303b209', 'message': 'zun: add \'tty\' property to container\n\nThis property allows users to open the TTY of the container.\nIt basically allows users to use horizon\'s console to access\nthe container interactively. For example:\n\n  resources:\n    test:\n      type: OS::Zun::Container\n      properties:\n        image: ""cirros""\n        interactive: true\n        tty: true\n        command: ""/bin/sh""\n\nChange-Id: I70f64d43ed6d2bcb5bab3e5c8f986ca827df8c6f\nCloses-Bug: #1856233\n'}, {'number': 3, 'created': '2019-12-19 02:38:51.000000000', 'files': ['heat/tests/openstack/zun/test_container.py', 'releasenotes/notes/add-tty-property-to-container-1b8bf92f0f47deca.yaml', 'heat/engine/clients/os/zun.py', 'heat/engine/resources/openstack/zun/container.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/74567b3f084145dcbf5770e96a85692072dfd750', 'message': 'zun: add \'tty\' property to container\n\nThis property allows users to open the TTY of the container.\nIt basically allows users to use horizon\'s console to access\nthe container interactively. For example:\n\n  resources:\n    test:\n      type: OS::Zun::Container\n      properties:\n        image: ""cirros""\n        interactive: true\n        tty: true\n        command: ""/bin/sh""\n\nChange-Id: I70f64d43ed6d2bcb5bab3e5c8f986ca827df8c6f\nCloses-Bug: #1856233\n'}]",0,699078,74567b3f084145dcbf5770e96a85692072dfd750,18,10,3,11536,,,0,"zun: add 'tty' property to container

This property allows users to open the TTY of the container.
It basically allows users to use horizon's console to access
the container interactively. For example:

  resources:
    test:
      type: OS::Zun::Container
      properties:
        image: ""cirros""
        interactive: true
        tty: true
        command: ""/bin/sh""

Change-Id: I70f64d43ed6d2bcb5bab3e5c8f986ca827df8c6f
Closes-Bug: #1856233
",git fetch https://review.opendev.org/openstack/heat refs/changes/78/699078/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/zun/test_container.py', 'heat/engine/clients/os/zun.py', 'heat/engine/resources/openstack/zun/container.py']",3,79a470d66e55468f106ddfdeef7a386cf9cdd9b3,bug/1856233," HOSTNAME, SECURITY_GROUPS, MOUNTS, NETWORKS, TTY, 'hostname', 'security_groups', 'mounts', 'networks', 'tty', TTY: properties.Schema( properties.Schema.BOOLEAN, _('Whether the container allocates a TTY for itself.'), support_status=support.SupportStatus(version='14.0.0'), ), if self.TTY in args: container = self.client( version=self.client_plugin().V1_36).containers.run(**args) else: container = self.client().containers.run(**args)"," HOSTNAME, SECURITY_GROUPS, MOUNTS, NETWORKS, 'hostname', 'security_groups', 'mounts', 'networks', container = self.client().containers.run(**args)",22,5
openstack%2Frequirements~master~Ic1fa6774a1040f555022e1a40dc1aff0d650a893,openstack/requirements,master,Ic1fa6774a1040f555022e1a40dc1aff0d650a893,update constraint for openstackdocstheme to new release 1.31.2,MERGED,2019-12-12 10:17:11.000000000,2019-12-19 08:21:43.000000000,2019-12-19 08:19:35.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-12 10:17:11.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c9b428c6f909fde893dee8960a7ee74e1fdb21ef', 'message': 'update constraint for openstackdocstheme to new release 1.31.2\n\nChange-Id: Ic1fa6774a1040f555022e1a40dc1aff0d650a893\nmeta:version: 1.31.2\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Thierry Carrez <thierry@openstack.org>\nmeta:release:Commit: Thierry Carrez <thierry@openstack.org>\nmeta:release:Change-Id: Icee6b59fe3c49e0dfe0f0f222cb6c71ba971ff5f\nmeta:release:Code-Review+1: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+1: Ben Nemec <openstack@nemebean.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>\nmeta:release:Code-Review+1: Stephen Finucane <stephenfin@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,698682,c9b428c6f909fde893dee8960a7ee74e1fdb21ef,26,2,1,11131,,,0,"update constraint for openstackdocstheme to new release 1.31.2

Change-Id: Ic1fa6774a1040f555022e1a40dc1aff0d650a893
meta:version: 1.31.2
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Thierry Carrez <thierry@openstack.org>
meta:release:Commit: Thierry Carrez <thierry@openstack.org>
meta:release:Change-Id: Icee6b59fe3c49e0dfe0f0f222cb6c71ba971ff5f
meta:release:Code-Review+1: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+1: Ben Nemec <openstack@nemebean.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>
meta:release:Code-Review+1: Stephen Finucane <stephenfin@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/82/698682/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c9b428c6f909fde893dee8960a7ee74e1fdb21ef,new-release,openstackdocstheme===1.31.2,openstackdocstheme===1.31.1,1,1
openstack%2Fmistral~master~I26667a82ec768c858f0282124864e377d8cf39f4,openstack/mistral,master,I26667a82ec768c858f0282124864e377d8cf39f4,"Allow the prefixes like ""eq:"" and ""neq:"" in the custom REST UUID type",MERGED,2019-11-20 14:53:01.000000000,2019-12-19 08:09:48.000000000,2019-12-19 08:08:22.000000000,"[{'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 30755}]","[{'number': 1, 'created': '2019-11-20 14:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/a18bc4a787b490aa8b7641c12622733facf994cf', 'message': 'Extended uuid type to support prefixes eq,neq\n\n *fields of type uuid with filter prefix are\n  denied because the they dont match the type\n  (ie. eq:6c07a453-c5e1-4bbe-97ed-3cb77b4f55ff\n   will throw an inputException).\n\nChange-Id: I26667a82ec768c858f0282124864e377d8cf39f4\n'}, {'number': 2, 'created': '2019-11-20 15:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/b4e85955f7adbd79f9a2eabed7778654e7b62d13', 'message': 'Extended uuid type to support prefixes eq,neq\n\n *fields of type uuid with filter prefix are\n  denied because the they dont match the type\n  (ie. eq:6c07a453-c5e1-4bbe-97ed-3cb77b4f55ff\n   will throw an inputException).\n\nCloses-Bug: #1792875\nChange-Id: I26667a82ec768c858f0282124864e377d8cf39f4\n'}, {'number': 3, 'created': '2019-12-06 07:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/084d2cd3c3cc87c7e34ccb46f96a1bb182f6dd85', 'message': 'Allow the prefixes ""eq:"" and ""neq:"" in the custom REST UUID type\n\n* Fields of type UUID with a filter prefix are denied because they\n  don\'t match the UUID string format. E.g. \n  ""eq:6c07a453-c5e1-4bbe-97ed-3cb77b4f55ff"" will throw an\n  InputException. This patch makes the change that allows to have ""eq:""\n  and ""neq:"" prefixes in a value of such fields.\n\nCloses-Bug: #1792875\nChange-Id: I26667a82ec768c858f0282124864e377d8cf39f4\n'}, {'number': 4, 'created': '2019-12-15 12:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/8238c645e3e2a275c18efb19b9e42e44a87ac935', 'message': 'Allow the prefixes like ""eq:"" and ""neq:"" in the custom REST UUID type\n\n* Fields of type UUID with a filter prefix are denied because they\n  don\'t match the UUID string format. E.g.\n  ""eq:6c07a453-c5e1-4bbe-97ed-3cb77b4f55ff"" will throw an\n  InputException. This patch makes the change that allows to have:\n  ""eq:"" ""neq:"" ""gt:"" ""gte:"" ""lt:"" ""lte:"" ""has:"" ""in:"" ""nin:"" prefixes\n  in a value of such fields.\n\nCloses-Bug: #1792875\nChange-Id: I26667a82ec768c858f0282124864e377d8cf39f4\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 5, 'created': '2019-12-16 08:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e36ce062db6415afe2c6f1dd14647453bc71ca7c', 'message': 'Allow the prefixes like ""eq:"" and ""neq:"" in the custom REST UUID type\n\n* Fields of type UUID with a filter prefix are denied because they\n  don\'t match the UUID string format. E.g.\n  ""eq:6c07a453-c5e1-4bbe-97ed-3cb77b4f55ff"" will throw an\n  InputException. This patch makes the change that allows to have:\n  ""eq:"" ""neq:"" ""gt:"" ""gte:"" ""lt:"" ""lte:"" ""has:"" ""in:"" ""nin:"" prefixes\n  in a value of such fields.\n\nCloses-Bug: #1792875\nChange-Id: I26667a82ec768c858f0282124864e377d8cf39f4\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 6, 'created': '2019-12-16 12:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/9af29540e876a267528c26aae6fa91534a10fd48', 'message': 'Allow the prefixes like ""eq:"" and ""neq:"" in the custom REST UUID type\n\n* Fields of type UUID with a filter prefix are denied because they\n  don\'t match the UUID string format. E.g.\n  ""eq:6c07a453-c5e1-4bbe-97ed-3cb77b4f55ff"" will throw an\n  InputException. This patch makes the change that allows to have:\n  ""eq:"" ""neq:"" ""gt:"" ""gte:"" ""lt:"" ""lte:"" ""has:"" ""in:"" ""nin:"" prefixes\n  in a value of such fields.\n\nCloses-Bug: #1792875\nChange-Id: I26667a82ec768c858f0282124864e377d8cf39f4\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 7, 'created': '2019-12-18 10:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4afae3b9dd212dfc35ce4d67e2b035ec98dde3fe', 'message': 'Allow the prefixes like ""eq:"" and ""neq:"" in the custom REST UUID type\n\n* Fields of type UUID with a filter prefix are denied because they\n  don\'t match the UUID string format. E.g.\n  ""eq:6c07a453-c5e1-4bbe-97ed-3cb77b4f55ff"" will throw an\n  InputException. This patch makes the change that allows to have:\n  ""eq:"" ""neq:"" ""gt:"" ""gte:"" ""lt:"" ""lte:"" ""has:"" ""in:"" ""nin:"" prefixes\n  in a value of such fields.\n\nCloses-Bug: #1792875\nChange-Id: I26667a82ec768c858f0282124864e377d8cf39f4\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}, {'number': 8, 'created': '2019-12-18 12:06:09.000000000', 'files': ['mistral/api/controllers/v2/types.py', 'mistral/utils/filter_utils.py', 'mistral/tests/unit/actions/test_types.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/6948e50de80559f78988ff34d92969aab61bf012', 'message': 'Allow the prefixes like ""eq:"" and ""neq:"" in the custom REST UUID type\n\n* Fields of type UUID with a filter prefix are denied because they\n  don\'t match the UUID string format. E.g.\n  ""eq:6c07a453-c5e1-4bbe-97ed-3cb77b4f55ff"" will throw an\n  InputException. This patch makes the change that allows to have:\n  ""eq:"" ""neq:"" ""gt:"" ""gte:"" ""lt:"" ""lte:"" ""has:"" ""in:"" ""nin:"" prefixes\n  in a value of such fields.\n\nCloses-Bug: #1792875\nChange-Id: I26667a82ec768c858f0282124864e377d8cf39f4\nSigned-off-by: ali <ali.abdelal@nokia.com>\n'}]",15,695212,6948e50de80559f78988ff34d92969aab61bf012,35,9,8,30755,,,0,"Allow the prefixes like ""eq:"" and ""neq:"" in the custom REST UUID type

* Fields of type UUID with a filter prefix are denied because they
  don't match the UUID string format. E.g.
  ""eq:6c07a453-c5e1-4bbe-97ed-3cb77b4f55ff"" will throw an
  InputException. This patch makes the change that allows to have:
  ""eq:"" ""neq:"" ""gt:"" ""gte:"" ""lt:"" ""lte:"" ""has:"" ""in:"" ""nin:"" prefixes
  in a value of such fields.

Closes-Bug: #1792875
Change-Id: I26667a82ec768c858f0282124864e377d8cf39f4
Signed-off-by: ali <ali.abdelal@nokia.com>
",git fetch https://review.opendev.org/openstack/mistral refs/changes/12/695212/8 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/api/v2/test_types.py', 'mistral/api/controllers/v2/types.py']",2,a18bc4a787b490aa8b7641c12622733facf994cf,bug/1792875," prefix_length = 0 if value.startswith(""eq:""): prefix_length = 3 elif value.startswith(""neq:""): prefix_length = 4 if not uuidutils.is_uuid_like(value[prefix_length:]):", if not uuidutils.is_uuid_like(value):,45,1
openstack%2Fosprofiler~master~If95f14a1815bf18dcba8dae8175fba4b0b1300c4,openstack/osprofiler,master,If95f14a1815bf18dcba8dae8175fba4b0b1300c4,Human-friendly trace show,ABANDONED,2018-11-12 10:19:44.000000000,2019-12-19 08:08:50.000000000,,"[{'_account_id': 5950}, {'_account_id': 6928}, {'_account_id': 9008}, {'_account_id': 11444}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-12 10:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/39e9437b0e2bceecdabf695ed2d9fca805ac1856', 'message': '[WIP] Show trace in console\n\nAdd a simple way to print trace information to console.\nThe output contains all trace events with minimized description,\nsee [1].\n\n[1] http://paste.openstack.org/show/734685/\n\nChange-Id: If95f14a1815bf18dcba8dae8175fba4b0b1300c4\n'}, {'number': 2, 'created': '2019-04-10 11:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/d0607d39931863dee7ed2c85691b4abb24a193ed', 'message': 'Human-friendly trace show\n\nAdd a simple way to print trace information to console.\nThe output contains all trace events with minimized description,\nsee [1].\n\n[1] http://paste.openstack.org/show/734685/\n\nChange-Id: If95f14a1815bf18dcba8dae8175fba4b0b1300c4\n'}, {'number': 3, 'created': '2019-04-12 14:28:26.000000000', 'files': ['playbooks/osprofiler-post.yaml', 'osprofiler/cmd/commands.py', 'osprofiler/tests/unit/cmd/test_shell.py'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/86e4e077dc78e44a95dbbaa56fe1eff3e9a6642b', 'message': 'Human-friendly trace show\n\nAdd a simple way to print trace information to console.\nThe output contains all trace events with minimized description,\nsee [1].\n\n[1] http://paste.openstack.org/show/734685/\n\nChange-Id: If95f14a1815bf18dcba8dae8175fba4b0b1300c4\n'}]",3,617269,86e4e077dc78e44a95dbbaa56fe1eff3e9a6642b,14,5,3,5950,,,0,"Human-friendly trace show

Add a simple way to print trace information to console.
The output contains all trace events with minimized description,
see [1].

[1] http://paste.openstack.org/show/734685/

Change-Id: If95f14a1815bf18dcba8dae8175fba4b0b1300c4
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/69/617269/2 && git format-patch -1 --stdout FETCH_HEAD,"['osprofiler/drivers/redis_driver.py', 'osprofiler/drivers/base.py', 'osprofiler/cmd/commands.py']",3,39e9437b0e2bceecdabf695ed2d9fca805ac1856,show-trace-events," trace_events = engine.get_trace(args.trace) fields = (""depth"", ""timestamp"", ""project"", ""service"", ""name"", ""details"") pretty_table = prettytable.PrettyTable(fields) pretty_table.align = ""l"" trace_events.sort(key=lambda x: x[""timestamp""]) # both start and end events share the same ids, # enough to record start only id_to_event = dict((e[""trace_id""], e) for e in trace_events if e[""name""].endswith(""start"")) for e in trace_events: parent_id = e[""parent_id""] depth = 0 if parent_id in id_to_event: parent_event = id_to_event[parent_id] depth = parent_event.get(""depth_value"", 0) + 1 e[""depth_value""] = depth e[""depth""] = ""*"" * depth def _get_event_details(info): details = """" if ""db"" in info: details = info[""db""][""statement""].replace(""\n"", """") if len(details) > 60: details = (details[:30] + ""..."" + details[-30:]) elif ""request"" in info: details = ""{} {}"".format(info[""request""][""method""], info[""request""][""path""]) elif ""function"" in info: details = info[""function""][""name""] return details e[""details""] = _get_event_details(e[""info""]) for e in trace_events: row = [e[field] for field in fields] pretty_table.add_row(row) s = pretty_table.get_string() if six.PY3: print(encodeutils.safe_encode(s).decode()) else: print(encodeutils.safe_encode(s)) return"," raise exc.CommandError(""You should choose one of the following "" ""output formats: json, html or dot."")",69,2
openstack%2Fosprofiler~master~I9d5f1e3f5791854125ee0c7a595ca55257f01dc0,openstack/osprofiler,master,I9d5f1e3f5791854125ee0c7a595ca55257f01dc0,Remove duplicated code from drivers,ABANDONED,2019-04-08 13:12:58.000000000,2019-12-19 08:08:39.000000000,,"[{'_account_id': 5950}, {'_account_id': 6928}, {'_account_id': 9008}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-08 13:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/cad95d31e2608413ad0c4eb34d809f010e29ea29', 'message': 'Remove duplicated code from drivers\n\nDecouple trace retrieval from report generation: drivers only\nretrieve trace events from the database, the report is generated in\nthe base driver class.\n\nChange-Id: I9d5f1e3f5791854125ee0c7a595ca55257f01dc0\n'}, {'number': 2, 'created': '2019-04-08 15:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/c20e3fb7f8499246669ece72d1c7bc1883512475', 'message': 'Remove duplicated code from drivers\n\nDecouple trace retrieval from report generation: drivers only\nretrieve trace events from the database, the report is generated in\nthe base driver class.\n\nChange-Id: I9d5f1e3f5791854125ee0c7a595ca55257f01dc0\n'}, {'number': 3, 'created': '2019-05-16 11:55:00.000000000', 'files': ['osprofiler/tests/unit/drivers/test_redis_driver.py', 'osprofiler/drivers/jaeger.py', 'osprofiler/drivers/sqlalchemy_driver.py', 'osprofiler/drivers/base.py', 'osprofiler/drivers/messaging.py', 'osprofiler/drivers/elasticsearch_driver.py', 'osprofiler/drivers/redis_driver.py', 'osprofiler/tests/unit/drivers/test_loginsight.py', 'osprofiler/tests/functional/test_driver.py', 'osprofiler/tests/unit/drivers/test_mongodb.py', 'osprofiler/drivers/mongodb.py', 'osprofiler/cmd/commands.py', 'osprofiler/drivers/loginsight.py', 'osprofiler/tests/unit/cmd/test_shell.py', 'osprofiler/tests/unit/drivers/test_elasticsearch.py'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/b64c3ca38f49c2546aa87b36529a646f56ec724f', 'message': 'Remove duplicated code from drivers\n\nDecouple trace retrieval from report generation: drivers only\nretrieve trace events from the database, the report is generated in\nthe base driver class.\n\nChange-Id: I9d5f1e3f5791854125ee0c7a595ca55257f01dc0\n'}]",1,650890,b64c3ca38f49c2546aa87b36529a646f56ec724f,12,4,3,5950,,,0,"Remove duplicated code from drivers

Decouple trace retrieval from report generation: drivers only
retrieve trace events from the database, the report is generated in
the base driver class.

Change-Id: I9d5f1e3f5791854125ee0c7a595ca55257f01dc0
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/90/650890/1 && git format-patch -1 --stdout FETCH_HEAD,"['osprofiler/tests/unit/drivers/test_redis_driver.py', 'osprofiler/drivers/jaeger.py', 'osprofiler/drivers/sqlalchemy_driver.py', 'osprofiler/drivers/base.py', 'osprofiler/drivers/messaging.py', 'osprofiler/drivers/elasticsearch_driver.py', 'osprofiler/drivers/redis_driver.py', 'osprofiler/tests/unit/drivers/test_loginsight.py', 'osprofiler/tests/unit/drivers/test_mongodb.py', 'osprofiler/drivers/mongodb.py', 'osprofiler/cmd/commands.py', 'osprofiler/drivers/loginsight.py', 'osprofiler/tests/unit/cmd/test_shell.py', 'osprofiler/tests/unit/drivers/test_elasticsearch.py']",14,cad95d31e2608413ad0c4eb34d809f010e29ea29,refactoring-drivers, self.elasticsearch.build_report( self.elasticsearch.iterate_trace_events(base_id)) self.elasticsearch.build_report( self.elasticsearch.iterate_trace_events(base_id)), get_report = self.elasticsearch.get_report get_report(base_id) self.elasticsearch.get_report(base_id),113,199
openstack%2Freleases~master~I3f3c7affaef53fb278c39053179a582900f3a7bc,openstack/releases,master,I3f3c7affaef53fb278c39053179a582900f3a7bc,Release Bifrost 7.1.0 for Train,MERGED,2019-12-13 15:42:16.000000000,2019-12-19 08:03:02.000000000,2019-12-19 08:03:01.000000000,"[{'_account_id': 308}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-13 15:42:16.000000000', 'files': ['deliverables/train/bifrost.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ed700d94ac27b02ac0a8814aa59d29130328eb3e', 'message': 'Release Bifrost 7.1.0 for Train\n\nChange-Id: I3f3c7affaef53fb278c39053179a582900f3a7bc\n'}]",0,698940,ed700d94ac27b02ac0a8814aa59d29130328eb3e,9,5,1,14826,,,0,"Release Bifrost 7.1.0 for Train

Change-Id: I3f3c7affaef53fb278c39053179a582900f3a7bc
",git fetch https://review.opendev.org/openstack/releases refs/changes/40/698940/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/bifrost.yaml'],1,ed700d94ac27b02ac0a8814aa59d29130328eb3e,, - projects: - hash: 1ec396d8e473587c4d653b6f518bcaa25c819b34 repo: openstack/bifrost version: 7.1.0,,4,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I7a63e8e2d9457c5025f3d70aeed6922e24958049,openstack/tripleo-heat-templates,stable/train,I7a63e8e2d9457c5025f3d70aeed6922e24958049,HA: enable cluster-common-tag naming scheme by default,MERGED,2019-12-17 22:01:53.000000000,2019-12-19 07:50:01.000000000,2019-12-19 07:47:56.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-17 22:01:53.000000000', 'files': ['environments/docker-ha.yaml', 'releasenotes/notes/pacemaker-enable-cluster-common-tag-fe03c47bbcbba13c.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b2f7e603826ce8ed6723c89afac8c9c6ccc5092', 'message': 'HA: enable cluster-common-tag naming scheme by default\n\nSince Id369154d147cd5cf0a6f997bf806084fc7580e01, HA services\ncan now be configured to use a floating container image name\n""cluster-common-tag/<servicename>:pcmklatest"" to allow\nminor update to a new image without service disruption, even\nwhen the namespace changes in the image URI configured in Heat.\n\nEnable that new naming scheme by default for pacemaker deployments.\n\nCloses-Bug: #1854730\n\nto allow minor update to arbitrary use container image name whose\n\nChange-Id: I7a63e8e2d9457c5025f3d70aeed6922e24958049\n(cherry picked from commit d4c1c84561b14109ad2b239ad0b5c15b395cf977)\n'}]",0,699511,3b2f7e603826ce8ed6723c89afac8c9c6ccc5092,17,4,1,20778,,,0,"HA: enable cluster-common-tag naming scheme by default

Since Id369154d147cd5cf0a6f997bf806084fc7580e01, HA services
can now be configured to use a floating container image name
""cluster-common-tag/<servicename>:pcmklatest"" to allow
minor update to a new image without service disruption, even
when the namespace changes in the image URI configured in Heat.

Enable that new naming scheme by default for pacemaker deployments.

Closes-Bug: #1854730

to allow minor update to arbitrary use container image name whose

Change-Id: I7a63e8e2d9457c5025f3d70aeed6922e24958049
(cherry picked from commit d4c1c84561b14109ad2b239ad0b5c15b395cf977)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/699511/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/docker-ha.yaml', 'releasenotes/notes/pacemaker-enable-cluster-common-tag-fe03c47bbcbba13c.yaml']",2,3b2f7e603826ce8ed6723c89afac8c9c6ccc5092,1854730-enable-stable/train,--- features: - Enable the new container image naming scheme for HA services. They are now configured in pacemaker to use container image name like 'container-common-tag/<servicename>:pcmklatest'. This allows rolling update of HA services even when the <namespace> changes in Heat. ,,7,0
openstack%2Fheat-templates~master~I3be272089ea026c657cf1a8e5cef08faabc850c6,openstack/heat-templates,master,I3be272089ea026c657cf1a8e5cef08faabc850c6,Add auto healing template with Vitrage,NEW,2018-07-19 12:34:42.000000000,2019-12-19 07:48:42.000000000,,"[{'_account_id': 12404}, {'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-19 12:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/493614158b19b45c553375f9e28b2a7b3d653e9b', 'message': 'Add auto healing template with Vitrage\n\nChange-Id: I3be272089ea026c657cf1a8e5cef08faabc850c6\nStory: 2002684\nTask: 23066\nDepends-On: Ie862e88ccb82c819b93fa2dbc5f21af61b138046\n'}, {'number': 2, 'created': '2019-02-20 17:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/509cbc388752ee979b70dd625f24cff48ea18304', 'message': 'Add auto healing template with Vitrage\n\nChange-Id: I3be272089ea026c657cf1a8e5cef08faabc850c6\nStory: 2002684\nTask: 23066\nDepends-On: Ie862e88ccb82c819b93fa2dbc5f21af61b138046\n'}, {'number': 3, 'created': '2019-02-26 09:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/516b618b4349c5ce027c3cf77a8151575ec7e845', 'message': 'Add auto healing template with Vitrage\n\nChange-Id: I3be272089ea026c657cf1a8e5cef08faabc850c6\nStory: 2002684\nTask: 23066\nDepends-On: Ie862e88ccb82c819b93fa2dbc5f21af61b138046\n'}, {'number': 4, 'created': '2019-02-26 11:44:26.000000000', 'files': ['hot/autohealing/autohealing_with_vitrage_server.yaml', 'tools/validate-templates', 'hot/autohealing/execute_healing_on_instance_down.vitrage.yaml'], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/80702eb1d992ee7bde926c340730a9ec60810716', 'message': 'Add auto healing template with Vitrage\n\nChange-Id: I3be272089ea026c657cf1a8e5cef08faabc850c6\nStory: 2002684\nTask: 23066\nDepends-On: Ie862e88ccb82c819b93fa2dbc5f21af61b138046\n'}]",0,583951,80702eb1d992ee7bde926c340730a9ec60810716,15,4,4,19159,,,0,"Add auto healing template with Vitrage

Change-Id: I3be272089ea026c657cf1a8e5cef08faabc850c6
Story: 2002684
Task: 23066
Depends-On: Ie862e88ccb82c819b93fa2dbc5f21af61b138046
",git fetch https://review.opendev.org/openstack/heat-templates refs/changes/51/583951/4 && git format-patch -1 --stdout FETCH_HEAD,['hot/autohealing/autohealing_with_vitrage_server.yaml'],1,493614158b19b45c553375f9e28b2a7b3d653e9b,vitrage_resource,"heat_template_version: rocky description: > A stack containing a server that is automatically replaced if it is stopped, deleted, or goes into an error state. An external alarm about an instance down is consumed by Vitrage, that triggers a Mistral healing workflow. This may be either be used standalone, or as the scaled unit of a scaling group. When using this from inside another template, the 'root_stack_id' parameter should be passed to indicate at which stack the stack update should commence after marking the server as failed. This should be the root-level stack, to ensure that any other resources depending on outputs from this stack are also updated. parameters: flavor: type: string description: Flavor for the instances to be created default: cirros256 constraints: - custom_constraint: nova.flavor description: Must be a flavor known to Nova image: type: string description: > Name or ID of the image to use for the instances. default: cirros-0.3.4-x86_64-uec constraints: - custom_constraint: glance.image description: Must identify an image known to Glance network: type: string description: The network for the VM default: private port: type: number description: The port to reply to requests on default: 8080 root_stack_id: type: string default: """" conditions: is_standalone: {equals: [{get_param: root_stack_id}, """"]} resources: server: type: OS::Nova::Server properties: image: {get_param: image} flavor: {get_param: flavor} networks: - network: {get_param: network} user_data_format: RAW user_data: str_replace: template: | #! /bin/sh -v Body=$(hostname) Response=""HTTP/1.1 200 OK\r\nContent-Length: ${#Body}\r\n\r\n$Body"" while true ; do echo -e $Response | nc -llp %PORT%; done params: ""%PORT%"": {get_param: port} execute_healing: type: OS::Vitrage::Template properties: description: Execute Mistral healing workflow if the instance is down input: alarm_name: Instance down instance_id: {get_resource: server} actions: - action: action_type: execute_mistral properties: workflow: {get_resource: autoheal} input: instance_id: {get_resource: server} stack_id: {get_param: ""OS::stack_id""} root_stack_id: if: - is_standalone - {get_param: ""OS::stack_id""} - {get_param: ""root_stack_id""} autoheal: type: OS::Mistral::Workflow properties: description: > Mark a server as unhealthy and commence a stack update to replace it. input: stack_id: root_stack_id: instance_id: type: direct tasks: - name: resources_mark_unhealthy action: list_join: - ' ' - - heat.resources_mark_unhealthy - stack_id=<% $.stack_id %> - resource_name=<% $.instance_id %> - mark_unhealthy=true - resource_status_reason='Marked by alarm' on_success: - stacks_update - name: stacks_update action: heat.stacks_update stack_id=<% $.root_stack_id %> existing=true outputs: OS::stack_id: description: The server UUID value: {get_resource: server} condition: {not: is_standalone} first_address: description: The server IP address value: {get_attr: [server, first_address]} ",,118,0
openstack%2Ftripleo-upgrade~stable%2Fqueens~I4cff09dc6aa9ac944b20a52ae087a8923f55209f,openstack/tripleo-upgrade,stable/queens,I4cff09dc6aa9ac944b20a52ae087a8923f55209f,Update: Ensure parallel execution,MERGED,2019-11-27 10:41:12.000000000,2019-12-19 07:47:58.000000000,2019-12-19 07:47:58.000000000,"[{'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 10:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7c53c8d26bea0ec7f6ec73ca8c621c390cc26243', 'message': 'DNM: Update: Ensure parallel execution\n\nIn middle of Queens and Rocky release we introduced option to\nset parallel execution of minor update on selected role types.\nIf the environment went through FFWD or was deployed before this\noption got backported we need to update the roles_data.\n\nChange-Id: I4cff09dc6aa9ac944b20a52ae087a8923f55209f\n'}, {'number': 2, 'created': '2019-12-10 16:19:49.000000000', 'files': ['tasks/common/adjust-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/405e250996c48249bc72078dfe63c491fc0c8866', 'message': 'Update: Ensure parallel execution\n\nIn middle of Queens and Rocky release we introduced option to\nset parallel execution of minor update on selected role types.\nIf the environment went through FFWD or was deployed before this\noption got backported we need to update the roles_data.\n\nBy default we have update_serial either unset at all for OSP13 and OSP14 or\nwe have it set where Pacemaker enabled nodes, CephOSD nodes and Networkers\nhave it set to 1. This is mostly defensive precaution and we do allow running\nin parallel for CephOSD and Networkers for production systems that did enough\ntesting on preprod or can take small outage. We should also parallelize it in\nCI as we just waste time here.\n\nChange-Id: I4cff09dc6aa9ac944b20a52ae087a8923f55209f\n(cherry picked from commit 2044957694d89eee9529d889859f0788767f7e28)\n(cherry picked from commit ad0e9b3954a95eb19764ba7720a2649737119d49)\n'}]",0,696279,405e250996c48249bc72078dfe63c491fc0c8866,15,3,2,11166,,,0,"Update: Ensure parallel execution

In middle of Queens and Rocky release we introduced option to
set parallel execution of minor update on selected role types.
If the environment went through FFWD or was deployed before this
option got backported we need to update the roles_data.

By default we have update_serial either unset at all for OSP13 and OSP14 or
we have it set where Pacemaker enabled nodes, CephOSD nodes and Networkers
have it set to 1. This is mostly defensive precaution and we do allow running
in parallel for CephOSD and Networkers for production systems that did enough
testing on preprod or can take small outage. We should also parallelize it in
CI as we just waste time here.

Change-Id: I4cff09dc6aa9ac944b20a52ae087a8923f55209f
(cherry picked from commit 2044957694d89eee9529d889859f0788767f7e28)
(cherry picked from commit ad0e9b3954a95eb19764ba7720a2649737119d49)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/79/696279/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/adjust-roles-data.yaml'],1,7c53c8d26bea0ec7f6ec73ca8c621c390cc26243,perf," - name: Ensure we set update_serial in roles data shell: | grep update_serial ""{{roles_data}}"" || \ python -c 'import sys, yaml, simplejson as json; json.dump(yaml.load(sys.stdin), sys.stdout, indent=4)' < ""{{roles_data}}"" |\ jq 'del(.[] | .update_serial)' |\ jq 'map(. |= (. += {update_serial: 25} ))' |\ jq 'map( if .ServicesDefault | contains ([""OS::TripleO::Services::CephOSD""]) then .update_serial = 25 else . end)' |\ jq 'map( if .ServicesDefault | contains ([""OS::TripleO::Services::Pacemaker""]) then .update_serial = 1 else . end)' |\ python -c 'import simplejson, sys, yaml; print yaml.dump(simplejson.loads(str(sys.stdin.read())), default_flow_style=False)' > ""{{ roles_data }}_new"" mv ""{{ roles_data }}_new"" ""{{ roles_data }}""",,16,0
openstack%2Fheat~master~Ieb12e1595f89f08b28275a607ec43f916553d71c,openstack/heat,master,Ieb12e1595f89f08b28275a607ec43f916553d71c,Add release note for log path changes,MERGED,2019-09-26 05:36:10.000000000,2019-12-19 07:36:15.000000000,2019-12-19 07:30:15.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-26 05:36:10.000000000', 'files': ['releasenotes/notes/Change-logger-path-e7a13878e5bb0bc2.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/4099eea873863b25c93adbf6f04ebf2791d13916', 'message': 'Add release note for log path changes\n\nDepends-On: https://review.opendev.org/#/c/495310\nChange-Id: Ieb12e1595f89f08b28275a607ec43f916553d71c\n'}]",0,684925,4099eea873863b25c93adbf6f04ebf2791d13916,7,2,1,12404,,,0,"Add release note for log path changes

Depends-On: https://review.opendev.org/#/c/495310
Change-Id: Ieb12e1595f89f08b28275a607ec43f916553d71c
",git fetch https://review.opendev.org/openstack/heat refs/changes/25/684925/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/Change-logger-path-e7a13878e5bb0bc2.yaml'],1,4099eea873863b25c93adbf6f04ebf2791d13916,releasenotes,--- upgrade: - | We have change some log pathes as below * Migrate ``heat.engine.clients.keystoneclient`` to ``heat.engine.clients.os.keystone.heat_keystoneclient`` * remove ``heat.all`` * remove ``heat.api`` * remove ``heat.api.cfn`` * remove ``heat.engine`` ,,10,0
openstack%2Fheat~master~I489c424136047e57e4649739fd0b0727bc3cc915,openstack/heat,master,I489c424136047e57e4649739fd0b0727bc3cc915,"pep8: Permit "".)"" at the end of resource docs",MERGED,2019-10-15 01:58:50.000000000,2019-12-19 07:34:10.000000000,2019-12-19 07:30:13.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2019-10-15 01:58:50.000000000', 'files': ['tools/custom_guidelines.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/36a3eaaa351e378f1ba48518ecf6341f66b7bc3d', 'message': 'pep8: Permit "".)"" at the end of resource docs\n\nWhen a sentence is wholly contained within parentheses, the period at\nthe end should appear inside the closing parenthesis. The current pep8\ncheck requires that e.g. resource property descriptions must end with a\nperiod, which makes things awkward when the last sentence is\nparenthesised. Allow them to optionally end with "".)"" instead.\n\nChange-Id: I489c424136047e57e4649739fd0b0727bc3cc915\n'}]",0,688597,36a3eaaa351e378f1ba48518ecf6341f66b7bc3d,8,3,1,4257,,,0,"pep8: Permit "".)"" at the end of resource docs

When a sentence is wholly contained within parentheses, the period at
the end should appear inside the closing parenthesis. The current pep8
check requires that e.g. resource property descriptions must end with a
period, which makes things awkward when the last sentence is
parenthesised. Allow them to optionally end with "".)"" instead.

Change-Id: I489c424136047e57e4649739fd0b0727bc3cc915
",git fetch https://review.opendev.org/openstack/heat refs/changes/97/688597/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/custom_guidelines.py'],1,36a3eaaa351e378f1ba48518ecf6341f66b7bc3d,, if not (description.endswith('.') or description.endswith('.)')): if not params and not (doclines[-2].endswith('.') or doclines[-2].endswith('.)')):, if not description.endswith('.'): if not params and not doclines[-2].endswith('.'):,3,2
openstack%2Frequirements~master~Ib3cc44469db106e81d63390d0cd4051fc4fdde7c,openstack/requirements,master,Ib3cc44469db106e81d63390d0cd4051fc4fdde7c,cap sphinxcontrib plugins that are incompatible with python3,MERGED,2019-12-12 16:17:52.000000000,2019-12-19 07:33:39.000000000,2019-12-19 07:31:28.000000000,"[{'_account_id': 6593}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-12 16:17:52.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bd48d7eecb53b6231d06dbedd483943f3f0febdf', 'message': 'cap sphinxcontrib plugins that are incompatible with python3\n\nChange-Id: Ib3cc44469db106e81d63390d0cd4051fc4fdde7c\n'}]",0,698750,bd48d7eecb53b6231d06dbedd483943f3f0febdf,19,4,1,14288,,,0,"cap sphinxcontrib plugins that are incompatible with python3

Change-Id: Ib3cc44469db106e81d63390d0cd4051fc4fdde7c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/50/698750/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,bd48d7eecb53b6231d06dbedd483943f3f0febdf,,sphinxcontrib-actdiag<2.0.0;python_version=='2.7' # BSD sphinxcontrib-actdiag;python_version>='3.4' # BSDsphinxcontrib-blockdiag<2.0.0;python_version=='2.7' # BSD sphinxcontrib-blockdiag;python_version>='3.4' # BSDsphinxcontrib-nwdiag<2.0.0;python_version=='2.7' # BSD sphinxcontrib-nwdiag;python_version>='3.4' # BSD sphinxcontrib-seqdiag<2.0.0;python_version=='2.7' # BSD sphinxcontrib-seqdiag;python_version>='3.4' # BSD,sphinxcontrib-actdiag # BSDsphinxcontrib-blockdiag # BSDsphinxcontrib-nwdiag # BSD sphinxcontrib-seqdiag # BSD,8,4
openstack%2Fnova~stable%2Ftrain~Ifd4387a02b3103e1258e146e63c73be1ad10030c,openstack/nova,stable/train,Ifd4387a02b3103e1258e146e63c73be1ad10030c,Zuul v3: use devstack-plugin-nfs-tempest-full,MERGED,2019-12-18 18:21:22.000000000,2019-12-19 07:21:22.000000000,2019-12-19 07:15:58.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-18 18:21:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/e82e1704caa1c2baea29f05e8d426337e8de7a3c', 'message': 'Zuul v3: use devstack-plugin-nfs-tempest-full\n\n... and replace its legacy ancestor.\n\nChange-Id: Ifd4387a02b3103e1258e146e63c73be1ad10030c\n(cherry picked from commit e7e39b8c2e20f5d7b5e70020f0e42541dc772e68)\n'}]",0,699753,e82e1704caa1c2baea29f05e8d426337e8de7a3c,15,6,1,10459,,,0,"Zuul v3: use devstack-plugin-nfs-tempest-full

... and replace its legacy ancestor.

Change-Id: Ifd4387a02b3103e1258e146e63c73be1ad10030c
(cherry picked from commit e7e39b8c2e20f5d7b5e70020f0e42541dc772e68)
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/699753/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e82e1704caa1c2baea29f05e8d426337e8de7a3c,, - devstack-plugin-nfs-tempest-full:, - legacy-tempest-dsvm-full-devstack-plugin-nfs:,1,1
openstack%2Frequirements~master~I58a483680ce8227cb013371696f16421fe799f5f,openstack/requirements,master,I58a483680ce8227cb013371696f16421fe799f5f,update constraint for oslo.log to new release 3.45.1,MERGED,2019-12-16 21:21:08.000000000,2019-12-19 07:19:59.000000000,2019-12-19 07:16:01.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-16 21:21:08.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8b86fe28b3484eb3e37a1ed1b0dbb38aa4479a1b', 'message': 'update constraint for oslo.log to new release 3.45.1\n\nChange-Id: I58a483680ce8227cb013371696f16421fe799f5f\nmeta:version: 3.45.1\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I2ee5a8a85a2b93614e8a44c73513632416848f89\nmeta:release:Code-Review+1: Colleen Murphy <colleen@gazlene.net>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Kendall Nelson <kennelson11@gmail.com>\nmeta:release:Workflow+1: Kendall Nelson <kennelson11@gmail.com>\n'}]",0,699292,8b86fe28b3484eb3e37a1ed1b0dbb38aa4479a1b,25,2,1,11131,,,0,"update constraint for oslo.log to new release 3.45.1

Change-Id: I58a483680ce8227cb013371696f16421fe799f5f
meta:version: 3.45.1
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: I2ee5a8a85a2b93614e8a44c73513632416848f89
meta:release:Code-Review+1: Colleen Murphy <colleen@gazlene.net>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Kendall Nelson <kennelson11@gmail.com>
meta:release:Workflow+1: Kendall Nelson <kennelson11@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/92/699292/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8b86fe28b3484eb3e37a1ed1b0dbb38aa4479a1b,new-release,oslo.log===3.45.1,oslo.log===3.45.0,1,1
openstack%2Fnova~stable%2Frocky~Ide31957306602c1f306ebfa48d6e95f48b1e8ead,openstack/nova,stable/rocky,Ide31957306602c1f306ebfa48d6e95f48b1e8ead,Add --dry-run option to heal_allocations CLI,MERGED,2019-12-11 16:29:07.000000000,2019-12-19 07:03:19.000000000,2019-12-19 06:58:53.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-11 16:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/826a46a3aa30175e8dd4500033fdfca44ef4707d', 'message': 'Add --dry-run option to heal_allocations CLI\n\nThis resolves one of the TODOs in the heal_allocations CLI\nby adding a --dry-run option which will still print the output\nas we process instances but not commit any allocation changes\nto placement, just print out that they would happen.\n\nConflicts:\n      nova/cmd/manage.py\n      nova/tests/functional/test_nova_manage.py\n\nNOTE(mriedem): The manage.py conflict is due to not having\nchange I0e9a804ae7717252175f7fe409223f5eb8f50013 in Rocky.\nThe test_nova_manage conflict is due to not having change\nIf6aa37d9b6b48791e070799ab026c816fda4441c in Rocky.\n\nChange-Id: Ide31957306602c1f306ebfa48d6e95f48b1e8ead\n(cherry picked from commit ded3e4d9007b3806665bc1b7bec2705bcbe2977e)\n(cherry picked from commit 4acec3e715b72f2f191ea544f135e40dc8fdaa81)\n'}, {'number': 2, 'created': '2019-12-13 20:06:29.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'doc/source/cli/nova-manage.rst', 'nova/cmd/manage.py', 'releasenotes/notes/heal-allocations-dry-run-1761fab00f7967d1.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/07de847d7bdae22dd2a4a9e2c02113d4803d0883', 'message': 'Add --dry-run option to heal_allocations CLI\n\nThis resolves one of the TODOs in the heal_allocations CLI\nby adding a --dry-run option which will still print the output\nas we process instances but not commit any allocation changes\nto placement, just print out that they would happen.\n\nConflicts:\n      nova/cmd/manage.py\n      nova/tests/functional/test_nova_manage.py\n\nNOTE(mriedem): The manage.py conflicts are due to not having\nchange I0e9a804ae7717252175f7fe409223f5eb8f50013 or change\nIba230201803ef3d33bccaaf83eb10453eea43f20 in Rocky.\nThe test_nova_manage conflict is due to not having change\nIf6aa37d9b6b48791e070799ab026c816fda4441c in Rocky.\n\nChange-Id: Ide31957306602c1f306ebfa48d6e95f48b1e8ead\n(cherry picked from commit ded3e4d9007b3806665bc1b7bec2705bcbe2977e)\n(cherry picked from commit 4acec3e715b72f2f191ea544f135e40dc8fdaa81)\n'}]",2,698525,07de847d7bdae22dd2a4a9e2c02113d4803d0883,39,7,2,6873,,,0,"Add --dry-run option to heal_allocations CLI

This resolves one of the TODOs in the heal_allocations CLI
by adding a --dry-run option which will still print the output
as we process instances but not commit any allocation changes
to placement, just print out that they would happen.

Conflicts:
      nova/cmd/manage.py
      nova/tests/functional/test_nova_manage.py

NOTE(mriedem): The manage.py conflicts are due to not having
change I0e9a804ae7717252175f7fe409223f5eb8f50013 or change
Iba230201803ef3d33bccaaf83eb10453eea43f20 in Rocky.
The test_nova_manage conflict is due to not having change
If6aa37d9b6b48791e070799ab026c816fda4441c in Rocky.

Change-Id: Ide31957306602c1f306ebfa48d6e95f48b1e8ead
(cherry picked from commit ded3e4d9007b3806665bc1b7bec2705bcbe2977e)
(cherry picked from commit 4acec3e715b72f2f191ea544f135e40dc8fdaa81)
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/698525/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_nova_manage.py', 'doc/source/cli/nova-manage.rst', 'nova/cmd/manage.py', 'releasenotes/notes/heal-allocations-dry-run-1761fab00f7967d1.yaml']",4,826a46a3aa30175e8dd4500033fdfca44ef4707d,heal_allocations_dry_run,--- other: - | A ``--dry-run`` option has been added to the ``nova-manage placement heal_allocations`` CLI which allows running the command to get output without committing any changes to placement. ,,76,28
openstack%2Fnova~stable%2Frocky~I3847567601a5bd38e9774f75914b6dda50c9dd40,openstack/nova,stable/rocky,I3847567601a5bd38e9774f75914b6dda50c9dd40,Add BFV wrinkle to TestNovaManagePlacementHealAllocations,MERGED,2019-12-11 16:39:52.000000000,2019-12-19 06:59:04.000000000,2019-12-19 06:59:04.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-11 16:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/621aa46efc0700202fa3e00a969aa49852edc6be', 'message': ""Add BFV wrinkle to TestNovaManagePlacementHealAllocations\n\nThe heal_allocations command is using the\nnova.scheduler.utils.resources_from_flavor method to build\nthe dictionary of resource allocations to PUT to placement\nand that method has a volume-backed instance check in it to\navoid creating DISK_GB allocations for volume-backed servers.\nWe weren't testing any volume-backed servers in the\nheal_allocations functional tests though so this adds a\nwrinkle for that coverage.\n\nChange-Id: I3847567601a5bd38e9774f75914b6dda50c9dd40\n(cherry picked from commit c00912db51f6af42c8560b0c0981940a41100d63)\n(cherry picked from commit 87f7a4268fae8a419e7dadbdbc295f97c904d738)\n""}, {'number': 2, 'created': '2019-12-12 19:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/127dcba5f36c59de3c020d082e496f81f633024e', 'message': ""Add BFV wrinkle to TestNovaManagePlacementHealAllocations\n\nThe heal_allocations command is using the\nnova.scheduler.utils.resources_from_flavor method to build\nthe dictionary of resource allocations to PUT to placement\nand that method has a volume-backed instance check in it to\navoid creating DISK_GB allocations for volume-backed servers.\nWe weren't testing any volume-backed servers in the\nheal_allocations functional tests though so this adds a\nwrinkle for that coverage.\n\nChange-Id: I3847567601a5bd38e9774f75914b6dda50c9dd40\n(cherry picked from commit c00912db51f6af42c8560b0c0981940a41100d63)\n(cherry picked from commit 87f7a4268fae8a419e7dadbdbc295f97c904d738)\n""}, {'number': 3, 'created': '2019-12-13 20:06:29.000000000', 'files': ['nova/tests/functional/test_nova_manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3f559d886b256ee212ca48f77a1eb8a87da15e68', 'message': ""Add BFV wrinkle to TestNovaManagePlacementHealAllocations\n\nThe heal_allocations command is using the\nnova.scheduler.utils.resources_from_flavor method to build\nthe dictionary of resource allocations to PUT to placement\nand that method has a volume-backed instance check in it to\navoid creating DISK_GB allocations for volume-backed servers.\nWe weren't testing any volume-backed servers in the\nheal_allocations functional tests though so this adds a\nwrinkle for that coverage.\n\nChange-Id: I3847567601a5bd38e9774f75914b6dda50c9dd40\n(cherry picked from commit c00912db51f6af42c8560b0c0981940a41100d63)\n(cherry picked from commit 87f7a4268fae8a419e7dadbdbc295f97c904d738)\n""}]",0,698531,3f559d886b256ee212ca48f77a1eb8a87da15e68,25,6,3,6873,,,0,"Add BFV wrinkle to TestNovaManagePlacementHealAllocations

The heal_allocations command is using the
nova.scheduler.utils.resources_from_flavor method to build
the dictionary of resource allocations to PUT to placement
and that method has a volume-backed instance check in it to
avoid creating DISK_GB allocations for volume-backed servers.
We weren't testing any volume-backed servers in the
heal_allocations functional tests though so this adds a
wrinkle for that coverage.

Change-Id: I3847567601a5bd38e9774f75914b6dda50c9dd40
(cherry picked from commit c00912db51f6af42c8560b0c0981940a41100d63)
(cherry picked from commit 87f7a4268fae8a419e7dadbdbc295f97c904d738)
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/698531/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_nova_manage.py'],1,621aa46efc0700202fa3e00a969aa49852edc6be,heal_allocations_dry_run,"from nova.tests import fixtures as nova_fixtures self.useFixture(nova_fixtures.CinderFixtureNewAttachFlow(self)) def _boot_and_assert_no_allocations(self, flavor, hostname, volume_backed=False): :param volume_backed: True if the server should be volume-backed and as a result not have any DISK_GB allocation if volume_backed: vol_id = nova_fixtures.CinderFixtureNewAttachFlow.IMAGE_BACKED_VOL server_req['block_device_mapping_v2'] = [{ 'source_type': 'volume', 'destination_type': 'volume', 'boot_index': 0, 'uuid': vol_id }] server_req['imageRef'] = '' server, rp_uuid = self._boot_and_assert_no_allocations( self.flavor, 'cell1', volume_backed=True) # Make sure there is no DISK_GB allocation for the volume-backed # instance but there is a VCPU allocation based on the flavor. allocs = self._get_allocations_by_server_uuid( server['id'])[rp_uuid]['resources'] self.assertNotIn('DISK_GB', allocs) self.assertEqual(self.flavor['vcpus'], allocs['VCPU'])"," def _boot_and_assert_no_allocations(self, flavor, hostname): server, _ = self._boot_and_assert_no_allocations( self.flavor, 'cell1')",23,3
openstack%2Fnova~stable%2Frocky~Icf57f217f03ac52b1443addc34aa5128661a8554,openstack/nova,stable/rocky,Icf57f217f03ac52b1443addc34aa5128661a8554,Add --instance option to heal_allocations,MERGED,2019-12-11 16:38:24.000000000,2019-12-19 06:58:58.000000000,2019-12-19 06:58:58.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-11 16:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bdb8943e5ed9fabc251f2313884ba89f569ed60', 'message': 'Add --instance option to heal_allocations\n\nThis resolves one of the TODOs in the heal_allocations CLI\nby adding an --instance option to the command which, when\nspecified, will process just the single instance given.\n\nNOTE(mriedem): The ""since version"" part of the CLI docs change\nis removed here since it does not make sense to mention this\nis a new option since Train in the Stein docs.\n\nChange-Id: Icf57f217f03ac52b1443addc34aa5128661a8554\n(cherry picked from commit c92b297896161e11b6e423a3ae50f7d6c21cb5bd)\n(cherry picked from commit 92645be4bb2f580b7499b1d7d162abf8caf2cdd6)\n'}, {'number': 2, 'created': '2019-12-12 19:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/958618703ecb5674da82e52863eda4f77ac3b615', 'message': 'Add --instance option to heal_allocations\n\nThis resolves one of the TODOs in the heal_allocations CLI\nby adding an --instance option to the command which, when\nspecified, will process just the single instance given.\n\nChange-Id: Icf57f217f03ac52b1443addc34aa5128661a8554\n(cherry picked from commit c92b297896161e11b6e423a3ae50f7d6c21cb5bd)\n(cherry picked from commit 92645be4bb2f580b7499b1d7d162abf8caf2cdd6)\n'}, {'number': 3, 'created': '2019-12-13 20:06:29.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'doc/source/cli/nova-manage.rst', 'nova/cmd/manage.py', 'releasenotes/notes/heal-allocations-instance-uuid-9aa93fdef5015c64.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/982c60dd0268232927cbed682fabe933923b9e8e', 'message': 'Add --instance option to heal_allocations\n\nThis resolves one of the TODOs in the heal_allocations CLI\nby adding an --instance option to the command which, when\nspecified, will process just the single instance given.\n\nChange-Id: Icf57f217f03ac52b1443addc34aa5128661a8554\n(cherry picked from commit c92b297896161e11b6e423a3ae50f7d6c21cb5bd)\n(cherry picked from commit 92645be4bb2f580b7499b1d7d162abf8caf2cdd6)\n'}]",3,698529,982c60dd0268232927cbed682fabe933923b9e8e,33,7,3,6873,,,0,"Add --instance option to heal_allocations

This resolves one of the TODOs in the heal_allocations CLI
by adding an --instance option to the command which, when
specified, will process just the single instance given.

Change-Id: Icf57f217f03ac52b1443addc34aa5128661a8554
(cherry picked from commit c92b297896161e11b6e423a3ae50f7d6c21cb5bd)
(cherry picked from commit 92645be4bb2f580b7499b1d7d162abf8caf2cdd6)
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/698529/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_nova_manage.py', 'doc/source/cli/nova-manage.rst', 'nova/cmd/manage.py', 'releasenotes/notes/heal-allocations-instance-uuid-9aa93fdef5015c64.yaml']",4,6bdb8943e5ed9fabc251f2313884ba89f569ed60,heal_allocations_dry_run,--- other: - | An ``--instance`` option has been added to the ``nova-manage placement heal_allocations`` CLI which allows running the command on a specific instance given its UUID. ,,100,12
openstack%2Fironic~master~I7d4457a456dedead4ad0d6a444be23a901b42111,openstack/ironic,master,I7d4457a456dedead4ad0d6a444be23a901b42111,Extend service timeout,MERGED,2019-12-17 05:03:58.000000000,2019-12-19 06:57:48.000000000,2019-12-19 06:54:13.000000000,"[{'_account_id': 10118}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-12-17 05:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f75da91058820a577ff06c1d320fb6827e8d9563', 'message': 'Extend glance service timeout\n\nGlance seems to be having issues getting started in time.\n\nAt least a couple times recently devstack exited because glance\nwas not running with-in 60 seconds. Logs in one case seemed to\nlean to well over a minute, as such lets extend the timeout\nand see if that stabilizes CI further.\n\n[0] https://storage.bhs.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_b45/697584/10/check/ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa-indirect/b456a36/\n\nChange-Id: I7d4457a456dedead4ad0d6a444be23a901b42111\n'}, {'number': 2, 'created': '2019-12-17 05:04:13.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f4d2a3127a69300f0efee221e97cb1fd513e8d34', 'message': 'Extend service timeout\n\nGlance seems to be having issues getting started in time.\n\nAt least a couple times recently devstack exited because glance\nwas not running with-in 60 seconds. Logs in one case seemed to\nlean to well over a minute, as such lets extend the timeout\nand see if that stabilizes CI further.\n\n[0] https://storage.bhs.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_b45/697584/10/check/ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa-indirect/b456a36/\n\nChange-Id: I7d4457a456dedead4ad0d6a444be23a901b42111\n'}]",0,699335,f4d2a3127a69300f0efee221e97cb1fd513e8d34,14,5,2,11655,,,0,"Extend service timeout

Glance seems to be having issues getting started in time.

At least a couple times recently devstack exited because glance
was not running with-in 60 seconds. Logs in one case seemed to
lean to well over a minute, as such lets extend the timeout
and see if that stabilizes CI further.

[0] https://storage.bhs.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_b45/697584/10/check/ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa-indirect/b456a36/

Change-Id: I7d4457a456dedead4ad0d6a444be23a901b42111
",git fetch https://review.opendev.org/openstack/ironic refs/changes/35/699335/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,f75da91058820a577ff06c1d320fb6827e8d9563,, SERVICE_TIMEOUT: 90,,1,0
openstack%2Finstack-undercloud~stable%2Frocky~I0bdb23133e412d7427f2d91e8ac04f9b8a82c150,openstack/instack-undercloud,stable/rocky,I0bdb23133e412d7427f2d91e8ac04f9b8a82c150,Remove configuration related to Horizon,MERGED,2019-11-27 00:27:56.000000000,2019-12-19 06:37:20.000000000,2019-12-19 06:21:21.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-27 00:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/3fe370d8347ae727fecba3c8505afb76933301df', 'message': ""Remove configuration related to Horizon\n\nBecause we never have Horizon deployed in undercloud node,\nwe don't need to have any parameteres for it.\n\nThis patch removes useless hieradata which is never refered,\nin addition to remove unnecessory firewall rule to allow\ntcp/80(Horizon).\n\nChange-Id: I0bdb23133e412d7427f2d91e8ac04f9b8a82c150\n""}, {'number': 2, 'created': '2019-11-27 02:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/d2b8b53d66f058f4157dd4f8102be6018fe20357', 'message': ""Remove configuration related to Horizon\n\nBecause we never have Horizon deployed in undercloud node,\nwe don't need to have any parameteres for it.\n\nThis patch removes useless hieradata which is never refered,\nin addition to remove unnecessory firewall rule to allow\ntcp/80(Horizon).\n\nCloses-Bug: #1854117\nChange-Id: I0bdb23133e412d7427f2d91e8ac04f9b8a82c150\n""}, {'number': 3, 'created': '2019-12-17 02:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/3278156f36ae78e691a708d79a006d464d92e99a', 'message': ""Remove configuration related to Horizon\n\nBecause we never have Horizon deployed in undercloud node,\nwe don't need to have any parameteres for it.\n\nThis patch removes useless hieradata which is never refered,\nin addition to remove unnecessory firewall rule to allow\ntcp/80(Horizon).\n\nCloses-Bug: #1854117\nChange-Id: I0bdb23133e412d7427f2d91e8ac04f9b8a82c150\n""}, {'number': 4, 'created': '2019-12-17 03:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/9d202656144c13216b89d3f1f221d4b97599a6ed', 'message': ""Remove configuration related to Horizon\n\nBecause we never have Horizon deployed in undercloud node,\nwe don't need to have any parameteres for it.\n\nThis patch removes useless hieradata which is never refered,\nin addition to remove unnecessory firewall rule to allow\ntcp/80(Horizon).\n\nCloses-Bug: #1854117\nChange-Id: I0bdb23133e412d7427f2d91e8ac04f9b8a82c150\n""}, {'number': 5, 'created': '2019-12-17 05:11:43.000000000', 'files': ['instack_undercloud/undercloud.py', 'elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/0302c8385f15c6a3f7c22817f80a0bed39946f4a', 'message': ""Remove configuration related to Horizon\n\nBecause we never have Horizon deployed in undercloud node,\nwe don't need to have any parameteres for it.\n\nThis patch removes useless hieradata which is never refered,\nin addition to remove unnecessory firewall rule to allow\ntcp/80(Horizon).\n\nCloses-Bug: #1854117\nChange-Id: I0bdb23133e412d7427f2d91e8ac04f9b8a82c150\n""}]",2,696215,0302c8385f15c6a3f7c22817f80a0bed39946f4a,27,6,5,9816,,,0,"Remove configuration related to Horizon

Because we never have Horizon deployed in undercloud node,
we don't need to have any parameteres for it.

This patch removes useless hieradata which is never refered,
in addition to remove unnecessory firewall rule to allow
tcp/80(Horizon).

Closes-Bug: #1854117
Change-Id: I0bdb23133e412d7427f2d91e8ac04f9b8a82c150
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/15/696215/1 && git format-patch -1 --stdout FETCH_HEAD,"['instack_undercloud/undercloud.py', 'elements/puppet-stack-config/puppet-stack-config.yaml.template']",2,3fe370d8347ae727fecba3c8505afb76933301df,bug/1854117,,"# Horizon horizon::django_debug: ""%{hiera('debug')}"" horizon_secret_key: {{UNDERCLOUD_HORIZON_SECRET_KEY}} horizon::allowed_hosts: - ""%{::fqdn}"" - ""{{LOCAL_IP}}"" horizon::wsgi::apache::priority: 10 horizon::openstack_endpoint_type: internalURL '126 horizon': dport: - 80 - 443",0,17
openstack%2Fheat~master~I0fd1e2a88665f2918c03f09a79974b92dd228c56,openstack/heat,master,I0fd1e2a88665f2918c03f09a79974b92dd228c56,Add unit test for API 'check' action,MERGED,2019-10-25 04:33:20.000000000,2019-12-19 06:19:22.000000000,2019-12-19 06:13:55.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-25 04:33:20.000000000', 'files': ['heat/tests/api/openstack_v1/test_actions.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/0f7ea6a0e62a4488618ee549203967fa75653dd5', 'message': ""Add unit test for API 'check' action\n\nChange-Id: I0fd1e2a88665f2918c03f09a79974b92dd228c56\n""}]",0,691180,0f7ea6a0e62a4488618ee549203967fa75653dd5,7,2,1,4257,,,0,"Add unit test for API 'check' action

Change-Id: I0fd1e2a88665f2918c03f09a79974b92dd228c56
",git fetch https://review.opendev.org/openstack/heat refs/changes/80/691180/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/api/openstack_v1/test_actions.py'],1,0f7ea6a0e62a4488618ee549203967fa75653dd5,," def test_action_check(self, mock_enforce): self._mock_enforce_setup(mock_enforce, 'action', True) stack_identity = identifier.HeatIdentifier(self.tenant, 'wordpress', '1') body = {'check': None} req = self._post(stack_identity._tenant_path() + '/actions', data=json.dumps(body)) mock_call = self.patchobject(rpc_client.EngineClient, 'call', return_value=None) result = self.controller.action(req, tenant_id=self.tenant, stack_name=stack_identity.stack_name, stack_id=stack_identity.stack_id, body=body) self.assertIsNone(result) mock_call.assert_called_once_with( req.context, ('stack_check', {'stack_identity': stack_identity}) ) ",,22,0
openstack%2Fheat~master~I1ea5206a5c7b787b82c5e21491f12336abd5b57b,openstack/heat,master,I1ea5206a5c7b787b82c5e21491f12336abd5b57b,Update readme,MERGED,2019-10-31 09:51:41.000000000,2019-12-19 06:16:43.000000000,2019-12-19 06:13:53.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 09:51:41.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/a644cb8274ca5c616a3bc1f1baad0a5e10b93407', 'message': 'Update readme\n\nAdd senlin client info to readme.rst\n\nChange-Id: I1ea5206a5c7b787b82c5e21491f12336abd5b57b\n'}]",0,692311,a644cb8274ca5c616a3bc1f1baad0a5e10b93407,7,2,1,23314,,,0,"Update readme

Add senlin client info to readme.rst

Change-Id: I1ea5206a5c7b787b82c5e21491f12336abd5b57b
",git fetch https://review.opendev.org/openstack/heat refs/changes/11/692311/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,a644cb8274ca5c616a3bc1f1baad0a5e10b93407,,* https://opendev.org/openstack/python-senlinclient (Clustering service),,1,0
openstack%2Fheat~master~I086bd9609367e247186d376a968a8d66ad042dad,openstack/heat,master,I086bd9609367e247186d376a968a8d66ad042dad,Retry purge_deleted DB api,ABANDONED,2018-07-06 17:30:48.000000000,2019-12-19 06:15:24.000000000,,"[{'_account_id': 4257}, {'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-06 17:30:48.000000000', 'files': ['heat/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/3edda8e0a357a98daa4dddc8674e1be3eb2fdc44', 'message': 'Retry purge_deleted DB api\n\n`heat-manage purge-deleted` call purge_deleted DB api.\nWe should allow it to retry when DB deadlock found.\n\nChange-Id: I086bd9609367e247186d376a968a8d66ad042dad\nStory: #2002902\nTask: #22869\n'}]",2,580723,3edda8e0a357a98daa4dddc8674e1be3eb2fdc44,7,4,1,12404,,,0,"Retry purge_deleted DB api

`heat-manage purge-deleted` call purge_deleted DB api.
We should allow it to retry when DB deadlock found.

Change-Id: I086bd9609367e247186d376a968a8d66ad042dad
Story: #2002902
Task: #22869
",git fetch https://review.opendev.org/openstack/heat refs/changes/23/580723/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/db/sqlalchemy/api.py'],1,3edda8e0a357a98daa4dddc8674e1be3eb2fdc44,story/2002902,"@oslo_db_api.wrap_db_retry(max_retries=3, retry_on_deadlock=True, retry_interval=0.5, inc_retry_interval=True)",,2,0
openstack%2Fheat~master~Ief37c7cf53bea62fd0084747f28f079d7d07ba58,openstack/heat,master,Ief37c7cf53bea62fd0084747f28f079d7d07ba58,update README: add senlinclient,ABANDONED,2019-09-30 08:30:11.000000000,2019-12-19 06:07:42.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 08:30:11.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/928d55841b9eed7d606a6a114bd52b14933ec246', 'message': 'update README: add senlinclient\n\nChange-Id: Ief37c7cf53bea62fd0084747f28f079d7d07ba58\n'}]",1,685660,928d55841b9eed7d606a6a114bd52b14933ec246,4,2,1,30456,,,0,"update README: add senlinclient

Change-Id: Ief37c7cf53bea62fd0084747f28f079d7d07ba58
",git fetch https://review.opendev.org/openstack/heat refs/changes/60/685660/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,928d55841b9eed7d606a6a114bd52b14933ec246,,* https://opendev.org/openstack/python-senlinclient.git (senlin service),,1,0
openstack%2Fpanko~master~I26ca1f62d0537a69f7991d780c6e1f0b03e80eab,openstack/panko,master,I26ca1f62d0537a69f7991d780c6e1f0b03e80eab,Fix Elasticsearch connection parameters,NEW,2018-10-03 06:44:40.000000000,2019-12-19 06:00:35.000000000,,"[{'_account_id': 20100}, {'_account_id': 22348}, {'_account_id': 26086}, {'_account_id': 30679}]","[{'number': 1, 'created': '2018-10-03 06:44:40.000000000', 'files': ['panko/storage/impl_elasticsearch.py'], 'web_link': 'https://opendev.org/openstack/panko/commit/1e786a9f820ac55b11c4df56bf8d068cb5d4b169', 'message': 'Fix Elasticsearch connection parameters\n\nThe elasticsearch connection parameters have been moved to\n[storage] instead of [database] but the implementation was\nnot updated.\nThis fixes this problem.\n\nChange-Id: I26ca1f62d0537a69f7991d780c6e1f0b03e80eab\nCloses-Bug: #1795801\n'}]",0,607475,1e786a9f820ac55b11c4df56bf8d068cb5d4b169,4,4,1,26086,,,0,"Fix Elasticsearch connection parameters

The elasticsearch connection parameters have been moved to
[storage] instead of [database] but the implementation was
not updated.
This fixes this problem.

Change-Id: I26ca1f62d0537a69f7991d780c6e1f0b03e80eab
Closes-Bug: #1795801
",git fetch https://review.opendev.org/openstack/panko refs/changes/75/607475/1 && git format-patch -1 --stdout FETCH_HEAD,['panko/storage/impl_elasticsearch.py'],1,1e786a9f820ac55b11c4df56bf8d068cb5d4b169,bug/1795801, use_ssl = conf.storage.es_ssl_enabled self.index_name = conf.storage.es_index_name, use_ssl = conf.database.es_ssl_enabled self.index_name = conf.database.es_index_name,2,2
openstack%2Fproject-config~master~I71d654d94f366f73c2c3731414ace477787cb45b,openstack/project-config,master,I71d654d94f366f73c2c3731414ace477787cb45b,Remove retired fuel repos from zuul.d/projects.yaml,MERGED,2019-12-18 18:14:44.000000000,2019-12-19 05:50:51.000000000,2019-12-19 05:50:50.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 18:14:44.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/489a81ae76c0533eebc32777f9ee17cb57942b3a', 'message': 'Remove retired fuel repos from zuul.d/projects.yaml\n\nThe previous retirement change forgot to remove all the noop-jobs, do\nthis now.\n\nChange-Id: I71d654d94f366f73c2c3731414ace477787cb45b\n'}]",0,699748,489a81ae76c0533eebc32777f9ee17cb57942b3a,7,3,1,6547,,,0,"Remove retired fuel repos from zuul.d/projects.yaml

The previous retirement change forgot to remove all the noop-jobs, do
this now.

Change-Id: I71d654d94f366f73c2c3731414ace477787cb45b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/48/699748/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,489a81ae76c0533eebc32777f9ee17cb57942b3a,cleanup-fuel,, name: openstack/fuel-agent templates: - noop-jobs - project: name: openstack/fuel-astute templates: - noop-jobs - project: name: openstack/fuel-dev-tools templates: - noop-jobs - project: name: openstack/fuel-devops templates: - noop-jobs - project: name: openstack/fuel-docs templates: - noop-jobs - project: name: openstack/fuel-library templates: - noop-jobs - project: name: openstack/fuel-main templates: - noop-jobs - project: name: openstack/fuel-menu templates: - noop-jobs - project: name: openstack/fuel-mirror templates: - noop-jobs - project: name: openstack/fuel-nailgun-agent templates: - noop-jobs - project: name: openstack/fuel-nailgun-extension-cluster-upgrade templates: - noop-jobs - project: name: openstack/fuel-nailgun-extension-converted-serializers templates: - noop-jobs - project: name: openstack/fuel-nailgun-extension-iac templates: - noop-jobs - project: name: openstack/fuel-octane templates: - noop-jobs - project: name: openstack/fuel-ostf templates: - noop-jobs - project: name: openstack/fuel-plugin-murano templates: - noop-jobs - project: name: openstack/fuel-plugin-murano-tests templates: - noop-jobs - project: name: openstack/fuel-plugins templates: - noop-jobs - project: name: openstack/fuel-qa templates: - noop-jobs - project: name: openstack/fuel-specs templates: - noop-jobs - project: name: openstack/fuel-stats templates: - noop-jobs - project: name: openstack/fuel-ui templates: - noop-jobs - project: name: openstack/fuel-virtualbox templates: - noop-jobs - project: name: openstack/fuel-web templates: - noop-jobs - project: name: openstack/python-fuelclient templates: - noop-jobs - project: name: openstack/tuning-box templates: - noop-jobs - project: name: x/fuel-ccp templates: - noop-jobs - project: name: x/fuel-ccp-ceph templates: - noop-jobs - project: name: x/fuel-ccp-ci-config templates: - noop-jobs - project: name: x/fuel-ccp-cinder templates: - noop-jobs - project: name: x/fuel-ccp-debian-base templates: - noop-jobs - project: name: x/fuel-ccp-designate templates: - noop-jobs - project: name: x/fuel-ccp-elasticsearch templates: - noop-jobs - project: name: x/fuel-ccp-entrypoint templates: - noop-jobs - project: name: x/fuel-ccp-etcd templates: - noop-jobs - project: name: x/fuel-ccp-galera templates: - noop-jobs - project: name: x/fuel-ccp-glance templates: - noop-jobs - project: name: x/fuel-ccp-grafana templates: - noop-jobs - project: name: x/fuel-ccp-heat templates: - noop-jobs - project: name: x/fuel-ccp-horizon templates: - noop-jobs - project: name: x/fuel-ccp-installer templates: - noop-jobs - project: name: x/fuel-ccp-ironic templates: - noop-jobs - project: name: x/fuel-ccp-keystone templates: - noop-jobs - project: name: x/fuel-ccp-mariadb templates: - noop-jobs - project: name: x/fuel-ccp-memcached templates: - noop-jobs - project: name: x/fuel-ccp-murano templates: - noop-jobs - project: name: x/fuel-ccp-neutron templates: - noop-jobs - project: name: x/fuel-ccp-nginx templates: - noop-jobs - project: name: x/fuel-ccp-nova templates: - noop-jobs - project: name: x/fuel-ccp-openstack-base templates: - noop-jobs - project: name: x/fuel-ccp-rabbitmq templates: - noop-jobs - project: name: x/fuel-ccp-rally templates: - noop-jobs - project: name: x/fuel-ccp-sahara templates: - noop-jobs - project: name: x/fuel-ccp-searchlight templates: - noop-jobs - project: name: x/fuel-ccp-specs templates: - noop-jobs - project: name: x/fuel-ccp-stacklight templates: - noop-jobs - project: name: x/fuel-ccp-tests templates: - noop-jobs - project: name: x/fuel-ccp-zmq templates: - noop-jobs - project:,0,290
openstack%2Fdevstack~master~I640af8e998a443710cbe1b03b22ec656a7583473,openstack/devstack,master,I640af8e998a443710cbe1b03b22ec656a7583473,Clean vbmc nodes to fix the issue that devstack failed because vbmc nodes were not cleaned. This would happen when run devstack from the second time.,NEW,2019-12-16 08:16:22.000000000,2019-12-19 05:19:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 29792}]","[{'number': 1, 'created': '2019-12-16 08:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f085612df5497093150b597ff5dc63f2fd31e6bc', 'message': 'Clean vbmc nodes to fix the issue that devstack failed because vbmc nodes were not\ncleaned. This would happen when run devstack from the second time.\n\nChange-Id: I640af8e998a443710cbe1b03b22ec656a7583473\n'}, {'number': 2, 'created': '2019-12-16 09:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f4671ffaf95d74c18fd05d12165db58bfc9910fb', 'message': '[WIP]Clean vbmc nodes to fix the issue that devstack failed because vbmc nodes were not\ncleaned. This would happen when run devstack from the second time.\n\nChange-Id: I640af8e998a443710cbe1b03b22ec656a7583473\n'}, {'number': 3, 'created': '2019-12-19 03:12:35.000000000', 'files': ['clean.sh', 'vbmc_clean.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7c6d1bc2d13e11b1af8d95b50ab39b43ea9f505a', 'message': 'Clean vbmc nodes to fix the issue that devstack\nfailed because vbmc nodes were not cleaned. This\nwould happen when run devstack from the second\ntime.\n\nChange-Id: I640af8e998a443710cbe1b03b22ec656a7583473\n'}]",0,699167,7c6d1bc2d13e11b1af8d95b50ab39b43ea9f505a,7,2,3,29792,,,0,"Clean vbmc nodes to fix the issue that devstack
failed because vbmc nodes were not cleaned. This
would happen when run devstack from the second
time.

Change-Id: I640af8e998a443710cbe1b03b22ec656a7583473
",git fetch https://review.opendev.org/openstack/devstack refs/changes/67/699167/1 && git format-patch -1 --stdout FETCH_HEAD,"['clean.sh', 'vbmc_clean.sh']",2,f085612df5497093150b597ff5dc63f2fd31e6bc,,"declare -i y=0 str="""" node_name="""" str=$( vbmc list | grep node | awk '{print $2}' | wc -l) while true if (($y==$str)); then break fi node_name=""Clean node-$y"" echo $node_name vbmc stop $node_name vbmc delete $node_name do y=y+1 done ",,18,0
openstack%2Fpython-octaviaclient~master~Id3b522ea6939993d169cb520450a5458810a3e5b,openstack/python-octaviaclient,master,Id3b522ea6939993d169cb520450a5458810a3e5b,Stop testing python 2,MERGED,2019-11-07 07:19:55.000000000,2019-12-19 05:01:53.000000000,2019-12-19 04:59:54.000000000,"[{'_account_id': 8556}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 07:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/9e8f4ea327d912adec2caa18a6be133847eca2cb', 'message': ""Stop testing python 2\n\nSince it's no longer supported past Train, let's stop\nrunning the tests.\n\nChange-Id: Id3b522ea6939993d169cb520450a5458810a3e5b\n""}, {'number': 2, 'created': '2019-11-07 07:53:28.000000000', 'files': ['requirements.txt', 'octaviaclient/tests/fakes.py', 'lower-constraints.txt', 'zuul.d/projects.yaml', 'releasenotes/notes/drop-python-2-7-7b427838d72ef248.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/825bc55f12163fe25e4c86fdadc0790b59ab6a00', 'message': ""Stop testing python 2\n\nSince it's no longer supported past Train, let's stop\nrunning the tests.\n\nChange-Id: Id3b522ea6939993d169cb520450a5458810a3e5b\n""}]",0,693300,825bc55f12163fe25e4c86fdadc0790b59ab6a00,12,4,2,1131,,,0,"Stop testing python 2

Since it's no longer supported past Train, let's stop
running the tests.

Change-Id: Id3b522ea6939993d169cb520450a5458810a3e5b
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/00/693300/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'octaviaclient/tests/fakes.py', 'lower-constraints.txt', 'zuul.d/projects.yaml', 'setup.cfg', 'tox.ini']",6,9e8f4ea327d912adec2caa18a6be133847eca2cb,drop-py27-support,"envlist = py37,pep8basepython = python3","envlist = py27,py37,pep8basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3",4,18
openstack%2Fheat~master~I497f05986d2ae0e6b4f1c920afbad2b59506c7c0,openstack/heat,master,I497f05986d2ae0e6b4f1c920afbad2b59506c7c0,Clean Auto generated API moudule rst file during rebuild,ABANDONED,2019-09-27 08:09:46.000000000,2019-12-19 05:01:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-27 08:09:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/298e8c87fd32723dfb5864003597216dd733c8da', 'message': ""Clean Auto generated API moudule rst file during rebuild\n\napp files under doc/source/api are auto generated during test\n(except index.rst), but they're not been cleaned during rebuild\nthe test environment.\nThis will lead to fail with module not found during test after\nrebuild when some module been moved and.\n\nChange-Id: I497f05986d2ae0e6b4f1c920afbad2b59506c7c0\n""}]",0,685220,298e8c87fd32723dfb5864003597216dd733c8da,3,1,1,12404,,,0,"Clean Auto generated API moudule rst file during rebuild

app files under doc/source/api are auto generated during test
(except index.rst), but they're not been cleaned during rebuild
the test environment.
This will lead to fail with module not found during test after
rebuild when some module been moved and.

Change-Id: I497f05986d2ae0e6b4f1c920afbad2b59506c7c0
",git fetch https://review.opendev.org/openstack/heat refs/changes/20/685220/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,298e8c87fd32723dfb5864003597216dd733c8da,correct-doc-test-clean," find {toxinidir}/doc/source/api -type f ! -name ""index.rst"" -exec rm -rf {} \;",,1,0
openstack%2Fnova~master~I702dbdbbb77811f8b0bd33af4ca2091aa54ff51c,openstack/nova,master,I702dbdbbb77811f8b0bd33af4ca2091aa54ff51c,Remove now invalid cells v1 comments from conductor code,MERGED,2019-12-06 14:41:25.000000000,2019-12-19 04:40:41.000000000,2019-12-19 04:38:05.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-06 14:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/219247275592c5954794bef4f5ab9ee016f7c898', 'message': 'Remove now invalid cells v1 comments from conductor code\n\nThe build_instances method had a couple of comments about\ncases where we used to be able to reach code when using cells v1\nbut since cells v1 is gone those comments are no longer valid\nand removed here.\n\nChange-Id: I702dbdbbb77811f8b0bd33af4ca2091aa54ff51c\n'}, {'number': 2, 'created': '2019-12-06 16:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4bf3ba7d20ebe538a4d9d2b7ba77f38eb743343f', 'message': 'Remove now invalid cells v1 comments from conductor code\n\nThe build_instances method had a couple of comments about\ncases where we used to be able to reach code when using cells v1\nbut since cells v1 is gone those comments are no longer valid\nand removed here.\n\nChange-Id: I702dbdbbb77811f8b0bd33af4ca2091aa54ff51c\n'}, {'number': 3, 'created': '2019-12-06 16:26:08.000000000', 'files': ['nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/103b8c984fa0f903e8a4ce42a64ff9f7822b422f', 'message': 'Remove now invalid cells v1 comments from conductor code\n\nThe build_instances method had a couple of comments about\ncases where we used to be able to reach code when using cells v1\nbut since cells v1 is gone those comments are no longer valid\nand removed here.\n\nChange-Id: I702dbdbbb77811f8b0bd33af4ca2091aa54ff51c\n'}]",2,697670,103b8c984fa0f903e8a4ce42a64ff9f7822b422f,33,10,3,6873,,,0,"Remove now invalid cells v1 comments from conductor code

The build_instances method had a couple of comments about
cases where we used to be able to reach code when using cells v1
but since cells v1 is gone those comments are no longer valid
and removed here.

Change-Id: I702dbdbbb77811f8b0bd33af4ca2091aa54ff51c
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/697670/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conductor/manager.py'],1,219247275592c5954794bef4f5ab9ee016f7c898,bp/request-spec-use-by-compute," # Older computes will not send a request_spec during reschedules so we # need to check and build our own if one is not provided. # NOTE(gibi): We only call the scheduler if we are rescheduling # from a really old compute. In that case we do not support # externally-defined resource requests, like port QoS. So no # requested_resources are set on the RequestSpec here."," # Older computes will not send a request_spec during reschedules, nor # will the API send the request_spec if using cells v1, so we need # to check and build our own if one is not provided. # NOTE(gibi): We only call the scheduler if using cells v1 or # we are rescheduling from a really old compute. In # either case we do not support externally-defined resource # requests, like port QoS. So no requested_resources are set # on the RequestSpec here.",6,8
openstack%2Fneutron~stable%2Fqueens~I044980a98845edc7b0a02e3323a1e62eb54c10c7,openstack/neutron,stable/queens,I044980a98845edc7b0a02e3323a1e62eb54c10c7,Set DB retry for quota_enforcement pecan_wsgi hook,MERGED,2019-12-16 11:28:30.000000000,2019-12-19 04:38:10.000000000,2019-12-19 04:38:10.000000000,"[{'_account_id': 1131}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-16 11:28:30.000000000', 'files': ['neutron/pecan_wsgi/hooks/quota_enforcement.py', 'neutron/quota/resource_registry.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2084585b81649b2afa747e24f036d54e5e16e90e', 'message': 'Set DB retry for quota_enforcement pecan_wsgi hook\n\nThe hook starts a DB transaction and should be covered with\nDB retry decorator.\n\nFor Rocky backport had to import neutron_lib.db for retry_db_errors.\n\nCloses-Bug: #1777965\nCloses-Bug: #1771293\nChange-Id: I044980a98845edc7b0a02e3323a1e62eb54c10c7\n(cherry picked from commit ab286bcdaccb788ab9df3186e0605e93a9b10bbc)\n(cherry picked from commit 3ec7aed8a367ba2a44fed300b08797e02fc47e06)\n(cherry picked from commit 22250e783b194b9d188268c0d301581d73bd430d)\n'}]",0,699193,2084585b81649b2afa747e24f036d54e5e16e90e,13,5,1,2733,,,0,"Set DB retry for quota_enforcement pecan_wsgi hook

The hook starts a DB transaction and should be covered with
DB retry decorator.

For Rocky backport had to import neutron_lib.db for retry_db_errors.

Closes-Bug: #1777965
Closes-Bug: #1771293
Change-Id: I044980a98845edc7b0a02e3323a1e62eb54c10c7
(cherry picked from commit ab286bcdaccb788ab9df3186e0605e93a9b10bbc)
(cherry picked from commit 3ec7aed8a367ba2a44fed300b08797e02fc47e06)
(cherry picked from commit 22250e783b194b9d188268c0d301581d73bd430d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/699193/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/pecan_wsgi/hooks/quota_enforcement.py', 'neutron/quota/resource_registry.py']",2,2084585b81649b2afa747e24f036d54e5e16e90e,bug/1771293,," Please note that this routine begins a nested transaction, and it is not recommended that this transaction begins within another transaction. For this reason the function will raise a SqlAlchemy exception if such an attempt is made. ",1,5
openstack%2Fdevstack-gate~master~If7874f6e74606fe8a79fbff48abf764cc41c4a3b,openstack/devstack-gate,master,If7874f6e74606fe8a79fbff48abf764cc41c4a3b,Bump ANSIBLE_VERSION default to 2.7.14,MERGED,2019-12-17 16:51:41.000000000,2019-12-19 04:22:14.000000000,2019-12-19 04:22:13.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-17 16:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/397eeca46a03144077900d9c4bba3353e53eebdf', 'message': 'Bump ANSIBLE_VERSION default to 2.7.14\n\ndevstack-gate is still used for grenade jobs and restricts\nara<1.0.0 and defaults ANSIBLE_VERSION=2.5.7.\n\nARA 0.16.6 dropped support for ansible < 2.6 [1]. As such,\ngrenade jobs are failing because ara 0.16.6 cannot be installed.\n\nThis bumps the ANSIBLE_VERSION default to 2.7.14 which is current\nas of Ubuntu Xenial 16.04 which should be sufficient for the\nbranches still supported in upstream OpenStack CI (mainly Ocata+).\n\n[1] https://github.com/ansible-community/ara/commit/872ba818fbc5267b1f769d5485fd3ab318235aea\n\nStory: 2007028\nTask: 37825\n\nChange-Id: If7874f6e74606fe8a79fbff48abf764cc41c4a3b\n'}, {'number': 2, 'created': '2019-12-17 23:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/c79180c353504f6717f825aa68c700522295fc6e', 'message': 'Bump ANSIBLE_VERSION default to 2.7.14\n\ndevstack-gate is still used for grenade jobs and restricts\nara<1.0.0 and defaults ANSIBLE_VERSION=2.5.7.\n\nARA 0.16.6 dropped support for ansible < 2.6 [1]. As such,\ngrenade jobs are failing because ara 0.16.6 cannot be installed.\n\nThis bumps the ANSIBLE_VERSION default to 2.7.14 which is current\nas of Ubuntu Xenial 16.04 which should be sufficient for the\nbranches still supported in upstream OpenStack CI (mainly Ocata+).\n\n[1] https://github.com/ansible-community/ara/commit/872ba818fbc5267b1f769d5485fd3ab318235aea\n\nStory: 2007028\nTask: 37825\n\nNote this sets a tox.ini basepython value of python2 so that bashate can\npass.\n\nChange-Id: If7874f6e74606fe8a79fbff48abf764cc41c4a3b\n'}, {'number': 3, 'created': '2019-12-18 16:46:02.000000000', 'files': ['devstack-vm-gate-wrap.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/0443da119f68180d9d1c829f03f64becc3955f76', 'message': 'Bump ANSIBLE_VERSION default to 2.7.14\n\ndevstack-gate is still used for grenade jobs and restricts\nara<1.0.0 and defaults ANSIBLE_VERSION=2.5.7.\n\nARA 0.16.6 dropped support for ansible < 2.6 [1]. As such,\ngrenade jobs are failing because ara 0.16.6 cannot be installed.\n\nThis bumps the ANSIBLE_VERSION default to 2.7.14 which is current\nas of Ubuntu Xenial 16.04 which should be sufficient for the\nbranches still supported in upstream OpenStack CI (mainly Ocata+).\n\n[1] https://github.com/ansible-community/ara/commit/872ba818fbc5267b1f769d5485fd3ab318235aea\n\nStory: 2007028\nTask: 37825\n\nChange-Id: If7874f6e74606fe8a79fbff48abf764cc41c4a3b\n'}]",0,699463,0443da119f68180d9d1c829f03f64becc3955f76,17,5,3,6873,,,0,"Bump ANSIBLE_VERSION default to 2.7.14

devstack-gate is still used for grenade jobs and restricts
ara<1.0.0 and defaults ANSIBLE_VERSION=2.5.7.

ARA 0.16.6 dropped support for ansible < 2.6 [1]. As such,
grenade jobs are failing because ara 0.16.6 cannot be installed.

This bumps the ANSIBLE_VERSION default to 2.7.14 which is current
as of Ubuntu Xenial 16.04 which should be sufficient for the
branches still supported in upstream OpenStack CI (mainly Ocata+).

[1] https://github.com/ansible-community/ara/commit/872ba818fbc5267b1f769d5485fd3ab318235aea

Story: 2007028
Task: 37825

Change-Id: If7874f6e74606fe8a79fbff48abf764cc41c4a3b
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/63/699463/3 && git format-patch -1 --stdout FETCH_HEAD,['devstack-vm-gate-wrap.sh'],1,397eeca46a03144077900d9c4bba3353e53eebdf,story/2007028,# NOTE(mriedem): Ansible 2.7.14 is current as of Ubuntu Xenial 16.04. # ARA is pinned to <1.0.0 below which affects the required version of Ansible. ANSIBLE_VERSION=${ANSIBLE_VERSION:-2.7.14},ANSIBLE_VERSION=${ANSIBLE_VERSION:-2.5.7},3,1
openstack%2Fdevstack-gate~master~Idbff334bec75bdbb7f7e46a164d8904768ef5881,openstack/devstack-gate,master,Idbff334bec75bdbb7f7e46a164d8904768ef5881,Set tox basepython to python2,MERGED,2019-12-18 16:46:02.000000000,2019-12-19 04:17:23.000000000,2019-12-19 04:17:23.000000000,"[{'_account_id': 4146}, {'_account_id': 6873}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 16:46:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/17e2df31b2f9525ebe75d2359e64989ff39cf3cc', 'message': ""Set tox basepython to python2\n\nbashate isn't working under python3 so we pin to python2.\n\nChange-Id: Idbff334bec75bdbb7f7e46a164d8904768ef5881\n""}]",2,699730,17e2df31b2f9525ebe75d2359e64989ff39cf3cc,8,4,1,4146,,,0,"Set tox basepython to python2

bashate isn't working under python3 so we pin to python2.

Change-Id: Idbff334bec75bdbb7f7e46a164d8904768ef5881
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/30/699730/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,17e2df31b2f9525ebe75d2359e64989ff39cf3cc,story/2007028,basepython = python2,,1,0
openstack%2Fheat~master~I7cae1b1ff866c42ab67d4b09ab54686c8ccf169d,openstack/heat,master,I7cae1b1ff866c42ab67d4b09ab54686c8ccf169d,DB: Never retry a subtransaction,MERGED,2019-10-11 21:32:06.000000000,2019-12-19 03:44:37.000000000,2019-12-19 03:42:51.000000000,"[{'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-11 21:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ceb897eaf0cd80c55f7f161d4c64425c6c9f147a', 'message': ""DB: Never retry a subtransaction\n\nWhen applying a decorator to retry on deadlock, check whether a\ntransaction has already started. If it has then don't apply the\ndecorator, since only transactions and not subtransactions can be\nretried.\n\nCurrently the only time this is known to occur is when calling\nstack_update() from Stack.migrate_to_convergence().\n\nChange-Id: I7cae1b1ff866c42ab67d4b09ab54686c8ccf169d\nTask: 37076\n""}, {'number': 2, 'created': '2019-10-12 00:33:12.000000000', 'files': ['heat/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/fc0e5c948c702222ef22bc2b587140c31bb14c3e', 'message': ""DB: Never retry a subtransaction\n\nWhen applying a decorator to retry on deadlock, check whether a\ntransaction has already started. If it has then don't apply the\ndecorator, since only transactions and not subtransactions can be\nretried.\n\nCurrently the only time this is known to occur is when calling\nstack_update() from Stack.migrate_to_convergence().\n\nChange-Id: I7cae1b1ff866c42ab67d4b09ab54686c8ccf169d\nTask: 37076\n""}]",0,688208,fc0e5c948c702222ef22bc2b587140c31bb14c3e,10,3,2,4257,,,0,"DB: Never retry a subtransaction

When applying a decorator to retry on deadlock, check whether a
transaction has already started. If it has then don't apply the
decorator, since only transactions and not subtransactions can be
retried.

Currently the only time this is known to occur is when calling
stack_update() from Stack.migrate_to_convergence().

Change-Id: I7cae1b1ff866c42ab67d4b09ab54686c8ccf169d
Task: 37076
",git fetch https://review.opendev.org/openstack/heat refs/changes/08/688208/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/db/sqlalchemy/api.py'],1,ceb897eaf0cd80c55f7f161d4c64425c6c9f147a,,"import functoolsdef retry_on_deadlock(func): @functools.wraps(func) def try_func(context, *args, **kwargs): if (context.session.transaction is None or not context.session.autocommit): wrapped = oslo_db_api.wrap_db_retry(max_retries=3, retry_on_deadlock=True, retry_interval=0.5, inc_retry_interval=True)(func) else: # Subtransactions cannot be restarted wrapped = func return wrapped(context, *args, **kwargs) return try_func @retry_on_deadlock@retry_on_deadlock@retry_on_deadlock@retry_on_deadlock@retry_on_deadlock@retry_on_deadlock@retry_on_deadlock@retry_on_deadlock","@oslo_db_api.wrap_db_retry(max_retries=3, retry_on_deadlock=True, retry_interval=0.5, inc_retry_interval=True)@oslo_db_api.wrap_db_retry(max_retries=3, retry_on_deadlock=True, retry_interval=0.5, inc_retry_interval=True)@oslo_db_api.wrap_db_retry(max_retries=3, retry_on_deadlock=True, retry_interval=0.5, inc_retry_interval=True)@oslo_db_api.wrap_db_retry(max_retries=3, retry_on_deadlock=True, retry_interval=0.5, inc_retry_interval=True)@oslo_db_api.wrap_db_retry(max_retries=3, retry_on_deadlock=True, retry_interval=0.5, inc_retry_interval=True)@oslo_db_api.wrap_db_retry(max_retries=3, retry_on_deadlock=True, retry_interval=0.5, inc_retry_interval=True)@oslo_db_api.wrap_db_retry(max_retries=3, retry_on_deadlock=True, retry_interval=0.5, inc_retry_interval=True)@oslo_db_api.wrap_db_retry(max_retries=3, retry_on_deadlock=True, retry_interval=0.5, inc_retry_interval=True)",25,16
openstack%2Fnetworking-ovn~stable%2Ftrain~I9396d8af17d281eef15777e70a7d8fc0791f20b2,openstack/networking-ovn,stable/train,I9396d8af17d281eef15777e70a7d8fc0791f20b2,Fix pep8 errors found by hacking 2.0.0,MERGED,2019-12-16 11:28:14.000000000,2019-12-19 03:37:36.000000000,2019-12-19 03:36:08.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 11952}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-12-16 11:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b02aff6859ab9800d6b3d9e92e32388c48c35807', 'message': ""Fix pep8 errors found by hacking 2.0.0\n\nFix the following issues that are now exposed by hacking version 2.0.0\n\n./networking_ovn/tests/unit/common/test_hash_ring_manager.py:92:38:\nF602 dictionary key variable another_host_node repeated with different\nvalues\n hash_dict_after_rebalance = {another_host_node: 'fake-uuid',\n\nAlso fixing\n\n./networking_ovn/ovsdb/ovsdb_monitor.py:359:13: F841 local variable\n'e' is assigned to but never used\n\nBut that is already fixed in the neutron repo, so this is only an\nissue in networking-ovn repo.\n\nDepends-On: https://review.opendev.org/699083/\nChange-Id: I9396d8af17d281eef15777e70a7d8fc0791f20b2\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\nCo-authored-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-authored-by: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n(cherry picked from commit b869f30e0b082d789c6668ec1a3ee69f2142798e)\n""}, {'number': 2, 'created': '2019-12-16 18:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/17f703a8b4227d059ecf50b4776b0de068b20199', 'message': ""Fix pep8 errors found by hacking 2.0.0\n\nFix the following issues that are now exposed by hacking version 2.0.0\n\n./networking_ovn/tests/unit/common/test_hash_ring_manager.py:92:38:\nF602 dictionary key variable another_host_node repeated with different\nvalues\n hash_dict_after_rebalance = {another_host_node: 'fake-uuid',\n\nAlso fixing\n\n./networking_ovn/ovsdb/ovsdb_monitor.py:359:13: F841 local variable\n'e' is assigned to but never used\n\nBut that is already fixed in the neutron repo, so this is only an\nissue in networking-ovn repo.\n\nDepends-On: https://review.opendev.org/699083/\nChange-Id: I9396d8af17d281eef15777e70a7d8fc0791f20b2\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\nCo-authored-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-authored-by: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n(cherry picked from commit b869f30e0b082d789c6668ec1a3ee69f2142798e)\n""}, {'number': 3, 'created': '2019-12-16 19:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5fa4a2c71807248a0251897deb88b5a524fc532d', 'message': ""Fix pep8 errors found by hacking 2.0.0\n\nFix the following issues that are now exposed by hacking version 2.0.0\n\n./networking_ovn/tests/unit/common/test_hash_ring_manager.py:92:38:\nF602 dictionary key variable another_host_node repeated with different\nvalues\n hash_dict_after_rebalance = {another_host_node: 'fake-uuid',\n\nAlso fixing\n\n./networking_ovn/ovsdb/ovsdb_monitor.py:359:13: F841 local variable\n'e' is assigned to but never used\n\nBut that is already fixed in the neutron repo, so this is only an\nissue in networking-ovn repo.\n\nAlso, this gerrit addresses an issue with functional tests where\novsdbapp expects OVN schema to be located at '/usr/local/share/ovn/'.\nWith that, this change is hard coding OVN_SRCDIR as\n/usr/local/share/openvswitch so we can fix the gate. The real fix\nis to make ovsdbapp smarter and then revert that change in tox.ini.\n\nDepends-On: https://review.opendev.org/699083/\nChange-Id: I9396d8af17d281eef15777e70a7d8fc0791f20b2\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\nCo-authored-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-authored-by: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nCo-authored-by: Terry Wilson <twilson@redhat.com>\n(cherry picked from commit b869f30e0b082d789c6668ec1a3ee69f2142798e)\n""}, {'number': 4, 'created': '2019-12-16 20:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7ab15292aa5d3221bce6cfbcfd52820d97010f31', 'message': ""Fix pep8 errors found by hacking 2.0.0\n\nThe following issues that are now exposed by hacking version 2.0.0\n\n./networking_ovn/tests/unit/common/test_hash_ring_manager.py:92:38:\nF602 dictionary key variable another_host_node repeated with different\nvalues\n hash_dict_after_rebalance = {another_host_node: 'fake-uuid',\n\nAlso fixing\n\n./networking_ovn/ovsdb/ovsdb_monitor.py:359:13: F841 local variable\n'e' is assigned to but never used\n\nwhich is already fixed in the neutron repo, so this is only an\nissue in networking-ovn repo.\n\nAlso, this gerrit addresses an issue with functional tests where\novsdbapp expects OVN schema to be located at '/usr/local/share/ovn/'.\nSo we are hard coding OVN_SRCDIR as /usr/local/share/openvswitch\nto unblock the Zuul gate. The real fix is to make ovsdbapp smarter\nabout that directory, and then revert that change in tox.ini. This\nparticular issue is related to change\nhttps://review.opendev.org/#/c/698293/ . Since functional tests are\nnot run for changes in tox.ini [1] so that fell through thecracks.\n\n[1]: https://github.com/openstack/networking-ovn/blob/0d603a7e105d2cbe8ca21a1ee752e1f3c81879e0/zuul.d/legacy-networking-ovn-jobs.yaml#L10\n\nDepends-On: https://review.opendev.org/699083/\nChange-Id: I9396d8af17d281eef15777e70a7d8fc0791f20b2\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\nCo-authored-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-authored-by: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nCo-authored-by: Terry Wilson <twilson@redhat.com>\n(cherry picked from commit b869f30e0b082d789c6668ec1a3ee69f2142798e)\n""}, {'number': 5, 'created': '2019-12-17 09:49:58.000000000', 'files': ['networking_ovn/tests/unit/common/test_hash_ring_manager.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ade39ec354824cd44764d01d31e295072e1663d2', 'message': ""Fix pep8 errors found by hacking 2.0.0\n\nThe following issues that are now exposed by hacking version 2.0.0\n\n./networking_ovn/tests/unit/common/test_hash_ring_manager.py:92:38:\nF602 dictionary key variable another_host_node repeated with different\nvalues\n hash_dict_after_rebalance = {another_host_node: 'fake-uuid',\n\nAlso fixing\n\n./networking_ovn/ovsdb/ovsdb_monitor.py:359:13: F841 local variable\n'e' is assigned to but never used\n\nwhich is already fixed in the neutron repo, so this is only an\nissue in networking-ovn repo.\n\nAlso, this gerrit addresses an issue with functional tests where\novsdbapp expects OVN schema to be located at '/usr/local/share/ovn/'.\nSo we are hard coding OVN_SRCDIR as /usr/local/share/openvswitch\nto unblock the Zuul gate. The real fix is to make ovsdbapp smarter\nabout that directory, and then revert that change in tox.ini. This\nparticular issue is related to change\nhttps://review.opendev.org/#/c/698293/ . Since functional tests are\nnot run for changes in tox.ini [1] so that fell through thecracks.\n\n[1]: https://github.com/openstack/networking-ovn/blob/0d603a7e105d2cbe8ca21a1ee752e1f3c81879e0/zuul.d/legacy-networking-ovn-jobs.yaml#L10\n\nDepends-On: https://review.opendev.org/699083/\nChange-Id: I9396d8af17d281eef15777e70a7d8fc0791f20b2\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\nCo-authored-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-authored-by: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nCo-authored-by: Terry Wilson <twilson@redhat.com>\n(cherry picked from commit b869f30e0b082d789c6668ec1a3ee69f2142798e)\n""}]",2,699192,ade39ec354824cd44764d01d31e295072e1663d2,31,8,5,11952,,,0,"Fix pep8 errors found by hacking 2.0.0

The following issues that are now exposed by hacking version 2.0.0

./networking_ovn/tests/unit/common/test_hash_ring_manager.py:92:38:
F602 dictionary key variable another_host_node repeated with different
values
 hash_dict_after_rebalance = {another_host_node: 'fake-uuid',

Also fixing

./networking_ovn/ovsdb/ovsdb_monitor.py:359:13: F841 local variable
'e' is assigned to but never used

which is already fixed in the neutron repo, so this is only an
issue in networking-ovn repo.

Also, this gerrit addresses an issue with functional tests where
ovsdbapp expects OVN schema to be located at '/usr/local/share/ovn/'.
So we are hard coding OVN_SRCDIR as /usr/local/share/openvswitch
to unblock the Zuul gate. The real fix is to make ovsdbapp smarter
about that directory, and then revert that change in tox.ini. This
particular issue is related to change
https://review.opendev.org/#/c/698293/ . Since functional tests are
not run for changes in tox.ini [1] so that fell through thecracks.

[1]: https://github.com/openstack/networking-ovn/blob/0d603a7e105d2cbe8ca21a1ee752e1f3c81879e0/zuul.d/legacy-networking-ovn-jobs.yaml#L10

Depends-On: https://review.opendev.org/699083/
Change-Id: I9396d8af17d281eef15777e70a7d8fc0791f20b2
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
Co-authored-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Co-authored-by: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
Co-authored-by: Terry Wilson <twilson@redhat.com>
(cherry picked from commit b869f30e0b082d789c6668ec1a3ee69f2142798e)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/92/699192/5 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/common/test_hash_ring_manager.py', 'networking_ovn/ovsdb/ovsdb_monitor.py']",2,b02aff6859ab9800d6b3d9e92e32388c48c35807,hacking2.0.0_upgrade, except Exception:, except Exception as e:,10,10
openstack%2Ftooz~master~I2a6a11d59c4c82124f4d42391176031656e26528,openstack/tooz,master,I2a6a11d59c4c82124f4d42391176031656e26528,Fix membership lease issue on the etcd3gw driver,MERGED,2019-08-10 02:17:41.000000000,2019-12-19 03:32:24.000000000,2019-12-16 17:13:57.000000000,"[{'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-08-10 02:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/c112f46dfeb6b8e5e3525fa11e1242408d24a472', 'message': ""Fix membership lease issue on the etcd3gw driver\n\nThe backend driver of etcd3gw doesn't update membership lease\non heartbeat, this patch aligns the implementation with etcd3\ndriver.\n\nChange-Id: I2a6a11d59c4c82124f4d42391176031656e26528\nCloses-Bug: #1839691\n""}, {'number': 2, 'created': '2019-08-12 14:12:59.000000000', 'files': ['tooz/drivers/etcd3gw.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/55864ed2450dc8adb3ea77be0e2edba061b6c548', 'message': ""Fix membership lease issue on the etcd3gw driver\n\nThe backend driver of etcd3gw doesn't update membership lease\non heartbeat, this patch aligns the implementation with etcd3\ndriver.\n\nChange-Id: I2a6a11d59c4c82124f4d42391176031656e26528\nCloses-Bug: #1839691\n""}]",4,675716,55864ed2450dc8adb3ea77be0e2edba061b6c548,21,5,2,24828,,,0,"Fix membership lease issue on the etcd3gw driver

The backend driver of etcd3gw doesn't update membership lease
on heartbeat, this patch aligns the implementation with etcd3
driver.

Change-Id: I2a6a11d59c4c82124f4d42391176031656e26528
Closes-Bug: #1839691
",git fetch https://review.opendev.org/openstack/tooz refs/changes/16/675716/2 && git format-patch -1 --stdout FETCH_HEAD,['tooz/drivers/etcd3gw.py'],1,c112f46dfeb6b8e5e3525fa11e1242408d24a472,bug/1839691," # TODO(jd) use the same lease for locks? self._membership_lease.refresh() return min(self.lock_timeout, self.membership_timeout)", return self.lock_timeout,3,1
openstack%2Fironic-python-agent~master~Ie2299372e94386902e0a8be0597250ec52e1fec9,openstack/ironic-python-agent,master,Ie2299372e94386902e0a8be0597250ec52e1fec9,Software RAID: Use UUID to find root fs,MERGED,2019-10-04 12:24:28.000000000,2019-12-19 02:57:20.000000000,2019-12-19 02:55:36.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 15064}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-04 12:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/94db6e3cc9b5cbe39d7e5bcaa215dcb166c0153e', 'message': 'Software RAID: Use UUID to find root fs\n\nRather than assuming that the root fs is in the first partition\nof the deployed image, use the UUID passed from the conductor.\n\nChange-Id: Ie2299372e94386902e0a8be0597250ec52e1fec9\nStory: #2006649\nDepends-on: https://review.opendev.org/686580\n'}, {'number': 2, 'created': '2019-10-14 07:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/57f06f3237457a7d4fc59d69afe3f4256ae02a5f', 'message': 'Software RAID: Use UUID to find root fs\n\nRather than assuming that the root fs is in the first partition\nof the deployed image, use the UUID passed from the conductor.\n\nChange-Id: Ie2299372e94386902e0a8be0597250ec52e1fec9\nStory: #2006649\nTask: #36887\nDepends-on: https://review.opendev.org/686580\n'}, {'number': 3, 'created': '2019-10-25 16:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/68335435947fc846e263f789aae670f1647d37e6', 'message': 'Software RAID: Use UUID to find root fs\n\nRather than assuming that the root fs is in the first partition\nof the deployed image, use the UUID passed from the conductor.\n\nChange-Id: Ie2299372e94386902e0a8be0597250ec52e1fec9\nStory: #2006649\nTask: #36887\nDepends-on: https://review.opendev.org/686580\n'}, {'number': 4, 'created': '2019-10-28 09:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/05b4746ea357cb8d4448ebd1e315005caf6ac47e', 'message': 'Software RAID: Use UUID to find root fs\n\nRather than assuming that the root fs is in the first partition\nof the deployed image, use the UUID passed from the conductor.\n\nChange-Id: Ie2299372e94386902e0a8be0597250ec52e1fec9\nStory: #2006649\nTask: #36887\nDepends-on: https://review.opendev.org/686580\n'}, {'number': 5, 'created': '2019-11-20 12:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2ad73ffcc324d276d7beebbbb95c6fb1276b1dc3', 'message': 'Software RAID: Use UUID to find root fs\n\nRather than assuming that the root fs is in the first partition\nof the deployed image, use the UUID passed from the conductor.\n\nChange-Id: Ie2299372e94386902e0a8be0597250ec52e1fec9\nStory: #2006649\nTask: #36887\nDepends-on: https://review.opendev.org/686580\n'}, {'number': 6, 'created': '2019-12-04 11:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0ccde99aa3e17f7a420dcd55ac3ce231137e522c', 'message': 'Software RAID: Use UUID to find root fs\n\nRather than assuming that the root fs is in the first partition\nof the deployed image, use the UUID passed from the conductor.\n\nChange-Id: Ie2299372e94386902e0a8be0597250ec52e1fec9\nStory: #2006649\nTask: #36887\nDepends-on: https://review.opendev.org/686580\n'}, {'number': 7, 'created': '2019-12-04 14:34:49.000000000', 'files': ['releasenotes/notes/software_raid_use_rootfs_uuid-9149cc0c8638d5d5.yaml', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/13a26553e540b252fffebaa72a92e592a0ea4882', 'message': 'Software RAID: Use UUID to find root fs\n\nRather than assuming that the root fs is in the first partition\nof the deployed image, use the UUID passed from the conductor.\n\nChange-Id: Ie2299372e94386902e0a8be0597250ec52e1fec9\nStory: #2006649\nTask: #36887\nDepends-on: https://review.opendev.org/686580\n'}]",5,686585,13a26553e540b252fffebaa72a92e592a0ea4882,50,9,7,11292,,,0,"Software RAID: Use UUID to find root fs

Rather than assuming that the root fs is in the first partition
of the deployed image, use the UUID passed from the conductor.

Change-Id: Ie2299372e94386902e0a8be0597250ec52e1fec9
Story: #2006649
Task: #36887
Depends-on: https://review.opendev.org/686580
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/85/686585/4 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/extensions/image.py'],1,94db6e3cc9b5cbe39d7e5bcaa215dcb166c0153e,story_2006649," if part.get('TYPE') not in ['md', 'part']:","import stat # If the deploy device is an md device, we want to install on # the first partition. We clearly take a shortcut here for now. # TODO(arne_wiebalck): Would it possible to use the partition # UUID and use the ""normal"" discovery instead? if hardware.is_md_device(device): md_partition = device + 'p1' if (not os.path.exists(md_partition) or not stat.S_ISBLK(os.stat(md_partition).st_mode)): error_msg = (""Could not find partition %(part)s on md "" ""device %(dev)s"" % {'part': md_partition, 'dev': device}) LOG.error(error_msg) raise errors.DeviceNotFound(error_msg) LOG.debug(""Found md device with partition %s"", md_partition) return md_partition if part.get('TYPE') != 'part':",1,18
openstack%2Ftrove~stable%2Ftrain~I9391b0e50ae37c1fc40268cba566a72fba0ce329,openstack/trove,stable/train,I9391b0e50ae37c1fc40268cba566a72fba0ce329,Fix the log related tests,ABANDONED,2019-12-18 20:45:35.000000000,2019-12-19 02:46:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-12-18 20:45:35.000000000', 'files': ['trove/tests/scenario/runners/guest_log_runners.py', 'trove/tests/scenario/runners/test_runners.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/9d8c8219621ba405f71138fa8c177268a7fe6b70', 'message': 'Fix the log related tests\n\nChange-Id: I9391b0e50ae37c1fc40268cba566a72fba0ce329\n(cherry picked from commit 5472d8a57c7c9e82cca122396fea75b8ef05a64a)\n'}]",0,699868,9d8c8219621ba405f71138fa8c177268a7fe6b70,3,1,1,6732,,,0,"Fix the log related tests

Change-Id: I9391b0e50ae37c1fc40268cba566a72fba0ce329
(cherry picked from commit 5472d8a57c7c9e82cca122396fea75b8ef05a64a)
",git fetch https://review.opendev.org/openstack/trove refs/changes/68/699868/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/tests/scenario/runners/guest_log_runners.py', 'trove/tests/scenario/runners/test_runners.py']",2,9d8c8219621ba405f71138fa8c177268a7fe6b70,fix-ci-stable/train," client.instances.log_action(inst_id, 'guest', publish=True) lines=0, swift=None)"," publish=True, lines=0, swift=None)",35,19
openstack%2Fwatcher-tempest-plugin~master~I04d3e8c2ac9c252e4212e504496d6c8dd4a03bda,openstack/watcher-tempest-plugin,master,I04d3e8c2ac9c252e4212e504496d6c8dd4a03bda,Remove use of deprecated config options for volume API selection,MERGED,2019-12-12 17:11:32.000000000,2019-12-19 02:14:30.000000000,2019-12-19 02:14:30.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-12-12 17:11:32.000000000', 'files': ['watcher_tempest_plugin/tests/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/55a829626fbb13e843e6ba52f2747ddc3689996b', 'message': 'Remove use of deprecated config options for volume API selection\n\nTempest has moved the Volume APIs testing to v3 as default and can be run\nunder v2 API via catalog_type.\n- https://review.opendev.org/#/q/topic:volume-default-testing-v3+(status:open+OR+status:merged)\n\nBelow config options were deprecated since Rocky and now Tempest is going\nto remove those (Needed-By patch):\n    * ``CONF.volume-feature-enabled.api_v2``\n    * ``CONF.volume-feature-enabled.api_v3``\n\nChange-Id: I04d3e8c2ac9c252e4212e504496d6c8dd4a03bda\nNeeded-By: https://review.opendev.org/#/c/698754/\n'}]",0,698764,55a829626fbb13e843e6ba52f2747ddc3689996b,9,4,1,8556,,,0,"Remove use of deprecated config options for volume API selection

Tempest has moved the Volume APIs testing to v3 as default and can be run
under v2 API via catalog_type.
- https://review.opendev.org/#/q/topic:volume-default-testing-v3+(status:open+OR+status:merged)

Below config options were deprecated since Rocky and now Tempest is going
to remove those (Needed-By patch):
    * ``CONF.volume-feature-enabled.api_v2``
    * ``CONF.volume-feature-enabled.api_v3``

Change-Id: I04d3e8c2ac9c252e4212e504496d6c8dd4a03bda
Needed-By: https://review.opendev.org/#/c/698754/
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/64/698764/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher_tempest_plugin/tests/scenario/manager.py'],1,55a829626fbb13e843e6ba52f2747ddc3689996b,volume-default-testing-v3, cls.volumes_client = cls.os_primary.volumes_client_latest cls.snapshots_client = cls.os_primary.snapshots_client_latest, if (CONF.volume_feature_enabled.api_v2 or CONF.volume_feature_enabled.api_v3): cls.volumes_client = cls.os_primary.volumes_client_latest cls.snapshots_client = cls.os_primary.snapshots_client_latest,2,4
openstack%2Fcongress~master~Ib64add1c2ae0638c7e3093aa1b4b6159ee3c20c1,openstack/congress,master,Ib64add1c2ae0638c7e3093aa1b4b6159ee3c20c1,Switch to Ussuri jobs,ABANDONED,2019-10-23 00:51:22.000000000,2019-12-19 02:07:54.000000000,,"[{'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 23312}]","[{'number': 1, 'created': '2019-10-23 00:51:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/congress/commit/3fb85053be0c3665ae4ecfb9eeba26b8ed4a47cc', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Ib64add1c2ae0638c7e3093aa1b4b6159ee3c20c1\n'}]",0,690453,3fb85053be0c3665ae4ecfb9eeba26b8ed4a47cc,11,3,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: Ib64add1c2ae0638c7e3093aa1b4b6159ee3c20c1
",git fetch https://review.opendev.org/openstack/congress refs/changes/53/690453/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3fb85053be0c3665ae4ecfb9eeba26b8ed4a47cc,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fwatcher-specs~master~I526e776be61e1fc7d3dda83b0cfa936b5306f04b,openstack/watcher-specs,master,I526e776be61e1fc7d3dda83b0cfa936b5306f04b,[ussuri][goal] Drop python 2.7 support,MERGED,2019-12-13 18:56:26.000000000,2019-12-19 01:52:27.000000000,2019-12-19 01:51:02.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-12-13 18:56:26.000000000', 'files': ['requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/d2405162c763cb593ea0f130ed6fa530b6fc943a', 'message': '[ussuri][goal] Drop python 2.7 support\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nspecs repo either has py27 job or requirement or tox env.\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I526e776be61e1fc7d3dda83b0cfa936b5306f04b\n'}]",0,698993,d2405162c763cb593ea0f130ed6fa530b6fc943a,9,4,1,8556,,,0,"[ussuri][goal] Drop python 2.7 support

OpenStack is dropping the py2.7 support in ussuri cycle.

specs repo either has py27 job or requirement or tox env.

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I526e776be61e1fc7d3dda83b0cfa936b5306f04b
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/93/698993/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tox.ini']",2,d2405162c763cb593ea0f130ed6fa530b6fc943a,drop-py27-support,minversion = 3.1.1ignore_basepython_conflict = True,minversion = 2.0basepython = python3basepython = python3basepython = python3basepython = python3,2,6
openstack%2Fpython-congressclient~master~I85496b2bffe62e4ae4c9ba2e1ddd1039251d1eb1,openstack/python-congressclient,master,I85496b2bffe62e4ae4c9ba2e1ddd1039251d1eb1,Stop testing python2.7,ABANDONED,2019-10-28 06:11:35.000000000,2019-12-19 01:48:06.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-28 06:11:35.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-congressclient/commit/27b157721a8e7ee824e28762b9a68ee3ca5b8945', 'message': 'Stop testing python2.7\n\nChange-Id: I85496b2bffe62e4ae4c9ba2e1ddd1039251d1eb1\n'}]",0,691594,27b157721a8e7ee824e28762b9a68ee3ca5b8945,4,2,1,30384,,,0,"Stop testing python2.7

Change-Id: I85496b2bffe62e4ae4c9ba2e1ddd1039251d1eb1
",git fetch https://review.opendev.org/openstack/python-congressclient refs/changes/94/691594/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,27b157721a8e7ee824e28762b9a68ee3ca5b8945,,"envlist = py36,py27,pep8","envlist = py37,py36,py27,pep8",1,3
openstack%2Fneutron-vpnaas~master~Ic454c86976aee5fc5f4d8e6a5e03c969ccecd246,openstack/neutron-vpnaas,master,Ic454c86976aee5fc5f4d8e6a5e03c969ccecd246,Stop testing python2.7,ABANDONED,2019-10-28 06:18:16.000000000,2019-12-19 01:47:52.000000000,,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-28 06:18:16.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/3b4cbc3e71bbc46d62311883bafd5d214f3fd277', 'message': 'Stop testing python2.7\n\nChange-Id: Ic454c86976aee5fc5f4d8e6a5e03c969ccecd246\n'}]",2,691600,3b4cbc3e71bbc46d62311883bafd5d214f3fd277,5,3,1,30384,,,0,"Stop testing python2.7

Change-Id: Ic454c86976aee5fc5f4d8e6a5e03c969ccecd246
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/00/691600/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,3b4cbc3e71bbc46d62311883bafd5d214f3fd277,,"envlist = py37,pep8","envlist = py27,py37,pep8",1,3
openstack%2Fmurano~master~I76fed9e80a7f848a0f6b37c25dd035844c75a6ee,openstack/murano,master,I76fed9e80a7f848a0f6b37c25dd035844c75a6ee,Eventlet monkey patching should be as early as possible,MERGED,2019-12-18 04:41:48.000000000,2019-12-19 01:42:17.000000000,2019-12-19 01:40:24.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 04:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/e9076dd44f19bebc209f633e8c23cddb0efdc763', 'message': 'Eventlet monkey patching should be as early as possible\n\nWe were seeing infinite recursion opening an ssl socket when running\nvarious combinations of python3, eventlet, and urllib3. It is not\nclear exactly what combination of versions are affected, but for\nbackground there is an example of this issue documented here:\n\nhttps://github.com/eventlet/eventlet/issues/371\n\n(Commit message copied in part from nova commit\n3c5e2b0e9fac985294a949852bb8c83d4ed77e04)\n\nChange-Id: I76fed9e80a7f848a0f6b37c25dd035844c75a6ee\n'}, {'number': 2, 'created': '2019-12-18 05:09:03.000000000', 'files': ['murano/monkey_patch.py', 'murano/cmd/engine.py', 'murano/cmd/cfapi.py', 'murano/cmd/api.py', 'murano/cmd/__init__.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/9fe5a99acddb6ab47eda8f0bbd214c78719fee65', 'message': 'Eventlet monkey patching should be as early as possible\n\nWe were seeing infinite recursion opening an ssl socket when running\nvarious combinations of python3, eventlet, and urllib3. It is not\nclear exactly what combination of versions are affected, but for\nbackground there is an example of this issue documented here:\n\nhttps://github.com/eventlet/eventlet/issues/371\n\n(Commit message copied in part from nova commit\n3c5e2b0e9fac985294a949852bb8c83d4ed77e04)\n\nChange-Id: I76fed9e80a7f848a0f6b37c25dd035844c75a6ee\n'}]",0,699542,9fe5a99acddb6ab47eda8f0bbd214c78719fee65,8,2,2,3031,,,0,"Eventlet monkey patching should be as early as possible

We were seeing infinite recursion opening an ssl socket when running
various combinations of python3, eventlet, and urllib3. It is not
clear exactly what combination of versions are affected, but for
background there is an example of this issue documented here:

https://github.com/eventlet/eventlet/issues/371

(Commit message copied in part from nova commit
3c5e2b0e9fac985294a949852bb8c83d4ed77e04)

Change-Id: I76fed9e80a7f848a0f6b37c25dd035844c75a6ee
",git fetch https://review.opendev.org/openstack/murano refs/changes/42/699542/1 && git format-patch -1 --stdout FETCH_HEAD,"['murano/monkey_patch.py', 'murano/cmd/engine.py', 'murano/cmd/cfapi.py', 'murano/cmd/api.py', 'murano/cmd/__init__.py']",5,e9076dd44f19bebc209f633e8c23cddb0efdc763,,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import murano.monkey_patch # noqa ",,39,27
openstack%2Ftelemetry-tempest-plugin~master~I978937d89b2e886e2ef690661bc00a730db94c92,openstack/telemetry-tempest-plugin,master,I978937d89b2e886e2ef690661bc00a730db94c92,Tolerate existing gabbiliveceph archive policy,MERGED,2019-12-18 10:30:30.000000000,2019-12-19 01:40:57.000000000,2019-12-19 01:40:57.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 10:30:30.000000000', 'files': ['telemetry_tempest_plugin/scenario/telemetry_integration_gabbits/aodh-gnocchi-threshold-alarm.yaml'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/421cd3fd46671ef53a59148a2d7b903aa2b6393c', 'message': 'Tolerate existing gabbiliveceph archive policy\n\ncurrent tests implementation is not friendly to test re-runs:\nas archive policy may fail to delete when there are still samples\nstored for it (and the test expects it, see the last xfail: true in\nthe aodh-gnocchi-threshold-alarm.yaml), next test rerun may fail\nright on the initial setup as it receives 409 Conflict instead of 201\non attempt to create an archive policy that already exists.\n\nSolve this by tolerating 409 in the archive policy creation step,\nand moving checks for fields of created (or existing) policy to an\nextra GET /v1/archive_policy/<name> step.\n\nChange-Id: I978937d89b2e886e2ef690661bc00a730db94c92\n'}]",0,699653,421cd3fd46671ef53a59148a2d7b903aa2b6393c,6,2,1,9542,,,0,"Tolerate existing gabbiliveceph archive policy

current tests implementation is not friendly to test re-runs:
as archive policy may fail to delete when there are still samples
stored for it (and the test expects it, see the last xfail: true in
the aodh-gnocchi-threshold-alarm.yaml), next test rerun may fail
right on the initial setup as it receives 409 Conflict instead of 201
on attempt to create an archive policy that already exists.

Solve this by tolerating 409 in the archive policy creation step,
and moving checks for fields of created (or existing) policy to an
extra GET /v1/archive_policy/<name> step.

Change-Id: I978937d89b2e886e2ef690661bc00a730db94c92
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/53/699653/1 && git format-patch -1 --stdout FETCH_HEAD,['telemetry_tempest_plugin/scenario/telemetry_integration_gabbits/aodh-gnocchi-threshold-alarm.yaml'],1,421cd3fd46671ef53a59148a2d7b903aa2b6393c,tolerate-policy-exists, # 409 when policy with such name already exists status: 201 || 409 - name: check properties of created or existing archive policy GET: $ENVIRON['GNOCCHI_SERVICE_URL']/v1/archive_policy/gabbiliveceph status: 200 request_headers: content-type: application/json response_json_paths:, status: 201 response_json_paths: $.name: gabbiliveceph,8,2
openstack%2Fapi-sig~master~I32e7ca8a3d6f4ce096becf4e219a3797e4a1c6b7,openstack/api-sig,master,I32e7ca8a3d6f4ce096becf4e219a3797e4a1c6b7,update reviewer url.,NEW,2019-12-18 07:28:56.000000000,2019-12-19 01:23:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 30717}]","[{'number': 1, 'created': '2019-12-18 07:28:56.000000000', 'files': ['tools/add-reviewers.py'], 'web_link': 'https://opendev.org/openstack/api-sig/commit/839540aa2031ed4b10cb8205ebb62b9d9a3ee5eb', 'message': 'update reviewer url.\n\nChange-Id: I32e7ca8a3d6f4ce096becf4e219a3797e4a1c6b7\n'}]",0,699570,839540aa2031ed4b10cb8205ebb62b9d9a3ee5eb,6,2,1,30717,,,0,"update reviewer url.

Change-Id: I32e7ca8a3d6f4ce096becf4e219a3797e4a1c6b7
",git fetch https://review.opendev.org/openstack/api-sig refs/changes/70/699570/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/add-reviewers.py'],1,839540aa2031ed4b10cb8205ebb62b9d9a3ee5eb,," '{}@review.opendev.org'.format(username),"," '{}@review.openstack.org'.format(username),",1,1
openstack%2Fnova~master~I57f6aa729408082d2ceee64ec6cac92b7e826a7d,openstack/nova,master,I57f6aa729408082d2ceee64ec6cac92b7e826a7d,Retry on cell timeout failures getting nodes during scheduling,ABANDONED,2019-12-18 17:15:29.000000000,2019-12-19 01:21:46.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-18 17:15:29.000000000', 'files': ['nova/tests/unit/scheduler/test_host_manager.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9b27872fa28926a86c192151947860bc47f52da1', 'message': 'Retry on cell timeout failures getting nodes during scheduling\n\nThis adds a simple retry to the scheduler HostManager code that\nscatters/gathers enabled cells to get compute nodes during\nscheduling. If a cell times out getting nodes and we got no nodes\nfrom other cells, we retry up to three times in the chance that the\nconnection to the cell is re-established in the interim *or* that\nmaybe whatever caused the failure is some weird eventlet issue\n(bug 1829062 comes to mind), e.g. maybe the greenthread switched\nand we lost the response.\n\nThis is obviously a hack but with no better solutions made available\nfor this bug which has been crippling the gate system for months,\nthis is at least an attempt at getting things flowing more smoothly.\n\nChange-Id: I57f6aa729408082d2ceee64ec6cac92b7e826a7d\nRelated-Bug: #1844929\n'}]",2,699735,9b27872fa28926a86c192151947860bc47f52da1,18,10,1,6873,,,0,"Retry on cell timeout failures getting nodes during scheduling

This adds a simple retry to the scheduler HostManager code that
scatters/gathers enabled cells to get compute nodes during
scheduling. If a cell times out getting nodes and we got no nodes
from other cells, we retry up to three times in the chance that the
connection to the cell is re-established in the interim *or* that
maybe whatever caused the failure is some weird eventlet issue
(bug 1829062 comes to mind), e.g. maybe the greenthread switched
and we lost the response.

This is obviously a hack but with no better solutions made available
for this bug which has been crippling the gate system for months,
this is at least an attempt at getting things flowing more smoothly.

Change-Id: I57f6aa729408082d2ceee64ec6cac92b7e826a7d
Related-Bug: #1844929
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/699735/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/test_host_manager.py', 'nova/scheduler/host_manager.py']",2,9b27872fa28926a86c192151947860bc47f52da1,bug/1844929," Will retry up to three times to get nodes from cells if any cell has a timeout and none of the cells yield nodes. def get_computes_from_cells(): timeout = context_module.CELL_TIMEOUT results = context_module.scatter_gather_cells( context, cells, timeout, targeted_operation) compute_nodes = collections.defaultdict(list) services = {} timeouts = [] # list of cell uuids for timed out cells for cell_uuid, result in results.items(): if isinstance(result, Exception): LOG.warning('Failed to get computes for cell %s', cell_uuid) elif result is context_module.did_not_respond_sentinel: timeouts.append(cell_uuid) else: _services, _compute_nodes = result compute_nodes[cell_uuid].extend(_compute_nodes) services.update({service.host: service for service in _services}) return compute_nodes, services, timeouts # Try up to three times to get computes in case of cell timeouts. # Note we could try using something like [scheduler]/max_attempts here # but if we are having problems connecting to cells it is probably best # to keep the retry limit low as it's symptomatic of a bigger problem # and a cell may need to be disabled. for attempt in range(3): compute_nodes, services, timeouts = get_computes_from_cells() # If we got cell timeouts which resulted in not getting any nodes # then retry as long as we have more attempts to make. if timeouts and not compute_nodes: LOG.warning('Timed out trying to get compute nodes from ' 'cell(s): %s. Attempt %d of 3.', ','.join(timeouts), attempt + 1) else: return compute_nodes, services LOG.error('Failed getting computes from cells; one or more cells ' 'appear to be down and may need to be disabled.')"," timeout = context_module.CELL_TIMEOUT results = context_module.scatter_gather_cells(context, cells, timeout, targeted_operation) compute_nodes = collections.defaultdict(list) services = {} for cell_uuid, result in results.items(): if isinstance(result, Exception): LOG.warning('Failed to get computes for cell %s', cell_uuid) elif result is context_module.did_not_respond_sentinel: LOG.warning('Timeout getting computes for cell %s', cell_uuid) else: _services, _compute_nodes = result compute_nodes[cell_uuid].extend(_compute_nodes) services.update({service.host: service for service in _services})",65,14
openstack%2Fcongress~master~I23fcb01265b734c0a87f5ad81b25a1eac179eb06,openstack/congress,master,I23fcb01265b734c0a87f5ad81b25a1eac179eb06,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-11-15 02:54:45.000000000,2019-12-19 01:12:24.000000000,2019-12-19 01:10:02.000000000,"[{'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-11-15 02:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/f751b1b70dbbff07ed43379aff3ee4c690031e0f', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nCongress is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\nChange-Id: I23fcb01265b734c0a87f5ad81b25a1eac179eb06\n'}, {'number': 2, 'created': '2019-11-16 14:33:13.000000000', 'files': ['releasenotes/notes/drop-py-2-7-fab5c163d3927708.yaml', '.zuul.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/congress/commit/49217bcec291fcfddb83b8fd2972014c9147e646', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nCongress is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\nChange-Id: I23fcb01265b734c0a87f5ad81b25a1eac179eb06\n'}]",0,694435,49217bcec291fcfddb83b8fd2972014c9147e646,10,3,2,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Congress is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Depends-On: https://review.opendev.org/#/c/693631/
Change-Id: I23fcb01265b734c0a87f5ad81b25a1eac179eb06
",git fetch https://review.opendev.org/openstack/congress refs/changes/35/694435/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-py-2-7-fab5c163d3927708.yaml', '.zuul.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini']",5,f751b1b70dbbff07ed43379aff3ee4c690031e0f,drop-py27-support,"envlist = py37,py36,pep8,genpolicy","envlist = py37,py36,py27,pep8,genpolicy",11,55
openstack%2Fjs-openstack-lib~master~Id77ec16342a8bedd20989bdc1f6c62e61cd7bad9,openstack/js-openstack-lib,master,Id77ec16342a8bedd20989bdc1f6c62e61cd7bad9,Fix review link.,NEW,2019-10-31 00:47:07.000000000,2019-12-19 01:06:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 30717}]","[{'number': 1, 'created': '2019-10-31 00:47:07.000000000', 'files': ['doc/source/specs.rst'], 'web_link': 'https://opendev.org/openstack/js-openstack-lib/commit/8ee1e8258dc1be3124b01796a1352391061f8eeb', 'message': 'Fix review link.\n\nChange-Id: Id77ec16342a8bedd20989bdc1f6c62e61cd7bad9\n'}]",0,692249,8ee1e8258dc1be3124b01796a1352391061f8eeb,4,2,1,30717,,,0,"Fix review link.

Change-Id: Id77ec16342a8bedd20989bdc1f6c62e61cd7bad9
",git fetch https://review.opendev.org/openstack/js-openstack-lib refs/changes/49/692249/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs.rst'],1,8ee1e8258dc1be3124b01796a1352391061f8eeb,,"https://review.opendev.org/#/q/status:open+AND+project:openstack/js-openstack-lib,n,z","https://review.openstack.org/#/q/status:open+AND+project:openstack/js-openstack-lib,n,z",1,1
openstack%2Ftripleo-heat-templates~master~I6183cdf63ea628cc86742d56b5e2cc0ec5e3aab9,openstack/tripleo-heat-templates,master,I6183cdf63ea628cc86742d56b5e2cc0ec5e3aab9,mysql: move firewall_rules to mysql-container-puppet,MERGED,2019-12-18 15:50:05.000000000,2019-12-19 01:04:00.000000000,2019-12-19 01:04:00.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-18 15:50:05.000000000', 'files': ['deployment/database/mysql-container-puppet.yaml', 'deployment/database/mysql-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c2fa7b8e916a31218347f3ca6bfd79958fdd2e9', 'message': ""mysql: move firewall_rules to mysql-container-puppet\n\nThe firewall_rules need to be in the service template and can't be in\nthe base, that is imported.\nThe current YAQL is looking for firewall_rules in the role_data:\n$.data.role_data, []).where($ != null).select($.get('firewall_rules')\n\nSo moving the firewall_rules from mysql-base to mysql-container-puppet\nwill allow the data to be found by the query and the firewall rules to\nbe applied.\n\nChange-Id: I6183cdf63ea628cc86742d56b5e2cc0ec5e3aab9\nCloses-Bug: #1856864\n""}]",0,699712,7c2fa7b8e916a31218347f3ca6bfd79958fdd2e9,15,8,1,3153,,,0,"mysql: move firewall_rules to mysql-container-puppet

The firewall_rules need to be in the service template and can't be in
the base, that is imported.
The current YAQL is looking for firewall_rules in the role_data:
$.data.role_data, []).where($ != null).select($.get('firewall_rules')

So moving the firewall_rules from mysql-base to mysql-container-puppet
will allow the data to be found by the query and the firewall rules to
be applied.

Change-Id: I6183cdf63ea628cc86742d56b5e2cc0ec5e3aab9
Closes-Bug: #1856864
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/699712/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/mysql-container-puppet.yaml', 'deployment/database/mysql-base.yaml']",2,7c2fa7b8e916a31218347f3ca6bfd79958fdd2e9,bug/1856864,, firewall_rules: '104 mysql galera': dport: - 873 - 3306 - 4444 - 4567 - 4568 - 9200,9,9
openstack%2Ftripleo-heat-templates~stable%2Frocky~I47aa8f496c2e70fd420bda1b9c5d8e0d5d5fbf34,openstack/tripleo-heat-templates,stable/rocky,I47aa8f496c2e70fd420bda1b9c5d8e0d5d5fbf34,Properly set loopback_users via rabbitmq::loopback_users,MERGED,2019-12-12 08:15:20.000000000,2019-12-19 01:03:59.000000000,2019-12-19 01:03:59.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2019-12-12 08:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7d34b576aced0259bed0cd67409f26161fb23c0d', 'message': 'Properly set loopback_users via rabbitmq::loopback_users\n\nSorta resurrecting https://review.opendev.org/#/c/324016/ now that\nhttps://github.com/voxpupuli/puppet-rabbitmq/pull/699 merged.\n\nThis commit prevents a duplicate entry for loopback_users in the\nrabbitmq.config file:\n\n{loopback_users, [<<""guest"">>]},\n{loopback_users, []},\n\nkeeping only the expected empty array.\n\nNote: not a 100% clean cherry pick due to tht path changes.\n\n(cherry picked from commit 04a5937e1f1482dd3115ddc809c555abea87e69d)\n\nChange-Id: I47aa8f496c2e70fd420bda1b9c5d8e0d5d5fbf34\n'}, {'number': 2, 'created': '2019-12-12 14:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0750652067eed0403af3697446432e519c9618ce', 'message': 'Properly set loopback_users via rabbitmq::loopback_users\n\nSorta resurrecting https://review.opendev.org/#/c/324016/ now that\nhttps://github.com/voxpupuli/puppet-rabbitmq/pull/699 merged.\n\nThis commit prevents a duplicate entry for loopback_users in the\nrabbitmq.config file:\n\n{loopback_users, [<<""guest"">>]},\n{loopback_users, []},\n\nkeeping only the expected empty array.\n\nNote: not a 100% clean cherry pick due to tht path changes.\n\n(cherry picked from commit 04a5937e1f1482dd3115ddc809c555abea87e69d)\n\nChange-Id: I0c291bf5611f02983c430179206556bae3b38736\n'}, {'number': 3, 'created': '2019-12-17 16:47:10.000000000', 'files': ['puppet/services/rabbitmq.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/45a42d83a58d4846e70954f18ddbfd6d99a22242', 'message': 'Properly set loopback_users via rabbitmq::loopback_users\n\nSorta resurrecting https://review.opendev.org/#/c/324016/ now that\nhttps://github.com/voxpupuli/puppet-rabbitmq/pull/699 merged.\n\nThis commit prevents a duplicate entry for loopback_users in the\nrabbitmq.config file:\n\n{loopback_users, [<<""guest"">>]},\n{loopback_users, []},\n\nkeeping only the expected empty array.\n\nNote: not a 100% clean cherry pick due to tht path changes.\n\n(cherry picked from commit 04a5937e1f1482dd3115ddc809c555abea87e69d)\n\nChange-Id: I0c291bf5611f02983c430179206556bae3b38736\n'}]",0,698653,45a42d83a58d4846e70954f18ddbfd6d99a22242,28,6,3,30126,,,0,"Properly set loopback_users via rabbitmq::loopback_users

Sorta resurrecting https://review.opendev.org/#/c/324016/ now that
https://github.com/voxpupuli/puppet-rabbitmq/pull/699 merged.

This commit prevents a duplicate entry for loopback_users in the
rabbitmq.config file:

{loopback_users, [<<""guest"">>]},
{loopback_users, []},

keeping only the expected empty array.

Note: not a 100% clean cherry pick due to tht path changes.

(cherry picked from commit 04a5937e1f1482dd3115ddc809c555abea87e69d)

Change-Id: I0c291bf5611f02983c430179206556bae3b38736
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/698653/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/rabbitmq.yaml'],1,7d34b576aced0259bed0cd67409f26161fb23c0d,, rabbitmq::loopback_users: [], loopback_users: '[]',1,1
openstack%2Fpython-congressclient~master~I1e3c52de2d0923902d75e850593de320f65612cd,openstack/python-congressclient,master,I1e3c52de2d0923902d75e850593de320f65612cd,tox: Keeping going with docs,MERGED,2019-10-24 12:42:04.000000000,2019-12-19 01:01:43.000000000,2019-12-19 00:59:56.000000000,"[{'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-10-24 12:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-congressclient/commit/b1c3c34439af255f02ceb2fdded191efcd159562', 'message': 'tox: Keeping going with docs\n\nChange-Id: I1e3c52de2d0923902d75e850593de320f65612cd\n'}, {'number': 2, 'created': '2019-10-24 12:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-congressclient/commit/cf26bbef30ffcdfc844193b7edaabca904d4a344', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I1e3c52de2d0923902d75e850593de320f65612cd\n""}, {'number': 3, 'created': '2019-12-19 00:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-congressclient/commit/1553fd06ccb9cf2706df0f70324f2f080acd65ea', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I1e3c52de2d0923902d75e850593de320f65612cd\n""}, {'number': 4, 'created': '2019-12-19 00:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-congressclient/commit/fbd147caab5f0083f55fe6a7dc2455615a0a08cb', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I1e3c52de2d0923902d75e850593de320f65612cd\n""}, {'number': 5, 'created': '2019-12-19 00:34:47.000000000', 'files': ['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-congressclient/commit/6a75f02a8d152a29523ff735bbc423f1a018afcd', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I1e3c52de2d0923902d75e850593de320f65612cd\n""}]",0,690951,6a75f02a8d152a29523ff735bbc423f1a018afcd,15,3,5,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I1e3c52de2d0923902d75e850593de320f65612cd
",git fetch https://review.opendev.org/openstack/python-congressclient refs/changes/51/690951/4 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini']",3,b1c3c34439af255f02ceb2fdded191efcd159562,,commands = sphinx-build -W --keep-going -b html doc/source doc/build/html sphinx-build -W --keep-going -b latex doc/source doc/build/pdfcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html,commands = sphinx-build -W -b html doc/source doc/build/html sphinx-build -W -b latex doc/source doc/build/pdfcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,6,6
openstack%2Fcongress-dashboard~master~Ifa044174c197f10c88947865508379c5b53c6090,openstack/congress-dashboard,master,Ifa044174c197f10c88947865508379c5b53c6090,tox: Keeping going with docs,MERGED,2019-10-24 12:42:04.000000000,2019-12-19 00:49:35.000000000,2019-12-19 00:48:19.000000000,"[{'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-10-24 12:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/bfc76124eaefe85548102c8b8c0b6df8d6e73e51', 'message': 'tox: Keeping going with docs\n\nChange-Id: Ifa044174c197f10c88947865508379c5b53c6090\n'}, {'number': 2, 'created': '2019-10-24 12:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/0fedacb65bf78c629b7d344b3b10c62c215da16b', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ifa044174c197f10c88947865508379c5b53c6090\n""}, {'number': 3, 'created': '2019-12-19 00:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/10358dc58cd4725d0f852d3bec3c80eb16c6dd19', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ifa044174c197f10c88947865508379c5b53c6090\n""}, {'number': 4, 'created': '2019-12-19 00:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/e8428b332a32a918ee6e6e7a25ae2cd2104e15f3', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ifa044174c197f10c88947865508379c5b53c6090\n""}, {'number': 5, 'created': '2019-12-19 00:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/81eaa11fff1d8b9cdcdbc7e7b38ad44533006136', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ifa044174c197f10c88947865508379c5b53c6090\n""}, {'number': 6, 'created': '2019-12-19 00:31:03.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/44bd4e5deb218ca4f500a69a57aceb4f0ff220f2', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ifa044174c197f10c88947865508379c5b53c6090\n""}]",0,690952,44bd4e5deb218ca4f500a69a57aceb4f0ff220f2,18,3,6,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: Ifa044174c197f10c88947865508379c5b53c6090
",git fetch https://review.opendev.org/openstack/congress-dashboard refs/changes/52/690952/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,bfc76124eaefe85548102c8b8c0b6df8d6e73e51,, sphinx-build -W --keep-going -b html doc/source doc/build/html sphinx-build -W --keep-going -b latex doc/source doc/build/pdfcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -W -b html doc/source doc/build/html sphinx-build -W -b latex doc/source doc/build/pdfcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,5,5
openstack%2Fpython-congressclient~master~Icfd04c4887a1bbb3ff72e244f0edd3a7f4ef8297,openstack/python-congressclient,master,Icfd04c4887a1bbb3ff72e244f0edd3a7f4ef8297,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-12-15 02:13:22.000000000,2019-12-19 00:25:55.000000000,2019-12-19 00:23:06.000000000,"[{'_account_id': 18591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-15 02:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-congressclient/commit/637b27f7dbfc8d792cdbf9569a66c6a6c8c01b95', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\npython-congressclient is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Icfd04c4887a1bbb3ff72e244f0edd3a7f4ef8297\n'}, {'number': 2, 'created': '2019-12-19 00:03:59.000000000', 'files': ['releasenotes/notes/drop-py-2-7-0991cef98d96593e.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-congressclient/commit/5b9bca6a740b9a0bb646015268c802350f4ef34a', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\npython-congressclient is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Icfd04c4887a1bbb3ff72e244f0edd3a7f4ef8297\n'}]",0,699094,5b9bca6a740b9a0bb646015268c802350f4ef34a,11,2,2,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

python-congressclient is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: Icfd04c4887a1bbb3ff72e244f0edd3a7f4ef8297
",git fetch https://review.opendev.org/openstack/python-congressclient refs/changes/94/699094/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-py-2-7-0991cef98d96593e.yaml', '.zuul.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini']",5,637b27f7dbfc8d792cdbf9569a66c6a6c8c01b95,drop-py27-support,"minversion = 3.1.1 envlist = py37,py36,pep8ignore_basepython_conflict = Truebasepython = python3","minversion = 2.0 envlist = py37,py36,py27,pep8basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3",11,14
openstack%2Fnova~master~Iad211a54719c5fde039c48072c58f3af96afc8b8,openstack/nova,master,Iad211a54719c5fde039c48072c58f3af96afc8b8,Revert cross-cell resize from the API,MERGED,2019-02-19 23:38:37.000000000,2019-12-19 00:13:58.000000000,2019-12-19 00:06:38.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23327}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30388}, {'_account_id': 30427}]","[{'number': 1, 'created': '2019-02-19 23:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08b33c5d67bee384b75efa59bd8c2eafefbedf41', 'message': 'WIP: Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 2, 'created': '2019-02-26 22:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f219e9c7ddfdd9beb7df5f33ee15c7d2b48b9543', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 3, 'created': '2019-03-07 22:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df7ebf23c16f21edacd1ae8210244ff2bf453c7b', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 4, 'created': '2019-03-08 23:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26f3bae0d7109021a24e42606f68dadee9c740b9', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 5, 'created': '2019-03-11 22:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45c6cf457939c347a805121845c66fbafd3c51b6', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 6, 'created': '2019-03-14 20:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a791b712afbd02ce874196aea519bd61dcc324b', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 7, 'created': '2019-03-14 20:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b799eeb33abbaec74d769bdffebb3a3cbb94e3b9', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 8, 'created': '2019-03-15 11:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0358f310b02ffb1832e0587aa4f34609c1eb3fba', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 9, 'created': '2019-04-01 22:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2f9ef0bc6aa50b1f04b4250941e75eb3dc64e1f', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 10, 'created': '2019-04-03 21:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb48ad94c1bce24041db76752c47b6162fb830bb', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 11, 'created': '2019-04-06 01:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2465253f59856a348f70eb9c5edc102dbb913a48', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 12, 'created': '2019-04-08 20:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d65bc4f1bfd6eabf4f02aee52cfc13cc38eb330b', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 13, 'created': '2019-04-11 19:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4379a3fdc0216ed5e330d903b05ddd2f8d15834e', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 14, 'created': '2019-04-17 22:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f990259964f6835943b80637a4098ea5d66f2fa1', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 15, 'created': '2019-04-19 01:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a42945128e5eab8ff09676729a5453baaec3255', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 16, 'created': '2019-04-20 22:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a17755d98c506f7cbfd4252f33c433c0315da4bf', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 17, 'created': '2019-04-26 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1649ad8862da922e9b5ec61d46d7874a356bac35', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 18, 'created': '2019-04-30 20:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d2367a4617889cf6607ccd2c845603b794dfcf7', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 19, 'created': '2019-05-01 15:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e28019ea993c9906f1243fe19608b62593014984', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 20, 'created': '2019-05-02 03:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83c45c6dc16e25fd6fdb72d32f2ee0f3d0c9b550', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 21, 'created': '2019-05-09 22:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35bb79d2f2235dc3478afbef722b8738e8862f65', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 22, 'created': '2019-05-13 19:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5947a13d15d52e2651e720680e46b5eae9ddcefb', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 23, 'created': '2019-05-16 02:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6eb4b12e8022eb03815e86818e5c02043f40f791', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 24, 'created': '2019-05-22 14:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17e9e02c24f37ee5169596ed1ec4d8b866724cc5', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 25, 'created': '2019-05-28 23:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a124f8ff05b264d839325a1e4bfa88731966c989', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 26, 'created': '2019-05-29 21:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33faecb7e4088a141b5e4f0fb2794ab462366752', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 27, 'created': '2019-06-10 21:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/583dcf0e6d5260d70afb25ba0c3843d9193d9303', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 28, 'created': '2019-06-27 16:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/083c8282baeee4347fd6da28138561879fff9689', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 29, 'created': '2019-06-28 00:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4e206e303cb06378927617cc19fd0475af2b14c', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 30, 'created': '2019-07-04 01:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b47d4a525364af34743e261ca9c4e779e2d4a4d', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 31, 'created': '2019-07-05 22:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0244917c7109e495c5bbf640c7a8de44e98e8323', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 32, 'created': '2019-07-10 01:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3ad0386b38baf55e6e789d29dee1eefb9163143', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 33, 'created': '2019-07-26 23:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/954234a646234c24a11f1c05bff611ed6fba1e6b', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 34, 'created': '2019-08-07 22:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/840f5e0567ecdc45d22e71557fa4010c94e9672f', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 35, 'created': '2019-08-14 21:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17f76f8385c276b6fd6e7908953bd57668dd806e', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 36, 'created': '2019-08-27 19:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da7904d059549fa2ce5020ebde8171869bf7f226', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 37, 'created': '2019-09-04 18:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1127429a65a50356079ff784c78c7bd1fea702ac', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 38, 'created': '2019-09-21 23:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f1ddcbd9602a2949b3fcbf9491b87fd21297b2d', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 39, 'created': '2019-10-03 21:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74016963fdec74b4a0e31b639c98ac81317b79d2', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 40, 'created': '2019-10-08 15:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb436e9b47ac3ffe15eef3b58a46213b2409b1c5', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 41, 'created': '2019-10-14 17:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b5647b1ea78839b3ce947a9ce609b23e0a207ee', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 42, 'created': '2019-10-14 18:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1bbc4610078a8ed21f42ef3ab34601d875cf70a', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 43, 'created': '2019-10-16 01:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4dc4f6489bb37a3167fb749e02e7b31c390153c', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 44, 'created': '2019-10-21 19:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a0b34e737f0997fca0a1cf74cc1dcf48b913bb6', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 45, 'created': '2019-11-02 23:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d2e3ff745f6567df8e5d84875bd50a735158917', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 46, 'created': '2019-11-04 21:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f90c7b3921008386831e0638e815a4b67522383a', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 47, 'created': '2019-11-05 18:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0d11624e0486bd87db6a5610cb2d67d1f16f189', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 48, 'created': '2019-11-05 19:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e131f368308de85a7cee6368251463f5ed68b316', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 49, 'created': '2019-11-12 21:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7231924a26df1862957f416610c6bb206151b82e', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 50, 'created': '2019-11-13 15:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57138e96392663a49ce7a0855c617733363bd793', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 51, 'created': '2019-11-15 23:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af4127efff32cfd5d04d487838bf733660c62514', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 52, 'created': '2019-11-21 01:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6024b58b82862b186b79b289a5e44abebabb884', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 53, 'created': '2019-11-27 00:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/008566bbeecf09634d0795e5eae67874c4cc1468', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 54, 'created': '2019-12-09 17:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04b64d709869789ed4070ef8d6160b1e2964b225', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 55, 'created': '2019-12-09 17:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1663f6c0f5fbb8dd0d4bd51303435226968afc2', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}, {'number': 56, 'created': '2019-12-12 19:07:41.000000000', 'files': ['nova/tests/functional/test_cross_cell_migrate.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/216640115c80723b676ab290d99fc1549526214f', 'message': 'Revert cross-cell resize from the API\n\nThis adds the logic to the API revertResize\noperation such that if the migration is a cross-cell\nresize the API will RPC cast to conductor to\nrevert the resize rather than directly to the dest\ncompute service like a traditional resize. Conductor\nwill then orchestrate the revert process between the\nsource and target cell.\n\nNow that the API has revertResize plumbed this change\nbuilds on the cross-cell resize functional tests by\nreverting the resize for the volume-backed server test\nand adds a revert from stopped image-backed test.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8\n'}]",16,638048,216640115c80723b676ab290d99fc1549526214f,544,20,56,6873,,,0,"Revert cross-cell resize from the API

This adds the logic to the API revertResize
operation such that if the migration is a cross-cell
resize the API will RPC cast to conductor to
revert the resize rather than directly to the dest
compute service like a traditional resize. Conductor
will then orchestrate the revert process between the
source and target cell.

Now that the API has revertResize plumbed this change
builds on the cross-cell resize functional tests by
reverting the resize for the volume-backed server test
and adds a revert from stopped image-backed test.

Part of blueprint cross-cell-resize

Change-Id: Iad211a54719c5fde039c48072c58f3af96afc8b8
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/638048/29 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_cross_cell_migrate.py', 'nova/compute/api.py']",2,08b33c5d67bee384b75efa59bd8c2eafefbedf41,bp/cross-cell-resize," if migration.cross_cell_move: # RPC cast to conductor to orchestrate the revert of the cross-cell # resize. self.compute_task_api.revert_snapshot_based_resize( context, instance, migration) else: # TODO(melwitt): We're not rechecking for strict quota here to # guard against going over quota during a race at this time because # the resource consumption for this operation is written to the # database by compute. self.compute_rpcapi.revert_resize(context, instance, migration, migration.dest_compute)"," # TODO(melwitt): We're not rechecking for strict quota here to guard # against going over quota during a race at this time because the # resource consumption for this operation is written to the database # by compute. self.compute_rpcapi.revert_resize(context, instance, migration, migration.dest_compute)",153,11
openstack%2Fpycadf~master~Ice4c614cd2bf239098753ed76ecec41c9bb60b42,openstack/pycadf,master,Ice4c614cd2bf239098753ed76ecec41c9bb60b42,Switch to Ussuri jobs,MERGED,2019-10-25 02:51:24.000000000,2019-12-19 00:13:45.000000000,2019-12-19 00:10:23.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-10-25 02:51:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/pycadf/commit/885a7093a02ea0b5d466befbcd37821efdb861bf', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Ice4c614cd2bf239098753ed76ecec41c9bb60b42\n'}]",0,691159,885a7093a02ea0b5d466befbcd37821efdb861bf,8,3,1,30092,,,0,"Switch to Ussuri jobs

Change-Id: Ice4c614cd2bf239098753ed76ecec41c9bb60b42
",git fetch https://review.opendev.org/openstack/pycadf refs/changes/59/691159/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,885a7093a02ea0b5d466befbcd37821efdb861bf,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcongress-dashboard~master~I433d289bb0a6d1c8bea5492b2fefa2e000636294,openstack/congress-dashboard,master,I433d289bb0a6d1c8bea5492b2fefa2e000636294,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-11-15 03:22:00.000000000,2019-12-19 00:12:06.000000000,2019-12-19 00:08:15.000000000,"[{'_account_id': 1736}, {'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-11-15 03:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/05c7915b2422e7f8b195641d1f1f72e7e8a435f8', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nCongress-dashboard is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\nChange-Id: I433d289bb0a6d1c8bea5492b2fefa2e000636294\n'}, {'number': 2, 'created': '2019-12-18 23:43:47.000000000', 'files': ['requirements.txt', 'releasenotes/notes/drop-py-2-7-0b1f5e1450e2991c.yaml', '.zuul.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/406b3ef20eea652333af2b2bae8b6de766d57bd4', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nCongress-dashboard is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\nChange-Id: I433d289bb0a6d1c8bea5492b2fefa2e000636294\n'}]",0,694438,406b3ef20eea652333af2b2bae8b6de766d57bd4,16,4,2,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Congress-dashboard is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Depends-On: https://review.opendev.org/#/c/693631/
Change-Id: I433d289bb0a6d1c8bea5492b2fefa2e000636294
",git fetch https://review.opendev.org/openstack/congress-dashboard refs/changes/38/694438/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'releasenotes/notes/drop-py-2-7-0b1f5e1450e2991c.yaml', '.zuul.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini']",6,05c7915b2422e7f8b195641d1f1f72e7e8a435f8,drop-py27-support,"envlist = py37,py36,py3-{dj111,dj22},pep8","envlist = py37,py36,py27,py3-{dj111,dj22},pep8",7,6
openstack%2Fglance_store~master~I0c202cedb1532b9fe44afbb6553e7353185f6238,openstack/glance_store,master,I0c202cedb1532b9fe44afbb6553e7353185f6238,Remove sheepdog store driver,MERGED,2019-11-19 06:21:34.000000000,2019-12-19 00:04:59.000000000,2019-12-19 00:02:39.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-19 06:21:34.000000000', 'files': ['glance_store/tests/unit/test_multistore_sheepdog.py', 'doc/source/user/drivers.rst', 'glance_store/_drivers/sheepdog.py', 'glance_store/tests/unit/test_opts.py', 'setup.cfg', 'glance_store/tests/unit/test_sheepdog_store.py', 'glance_store/backend.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/5c9db72a93356876fabab2b294bced61a67105fe', 'message': 'Remove sheepdog store driver\n\nChange-Id: I0c202cedb1532b9fe44afbb6553e7353185f6238\n'}]",0,694908,5c9db72a93356876fabab2b294bced61a67105fe,15,5,1,9303,,,0,"Remove sheepdog store driver

Change-Id: I0c202cedb1532b9fe44afbb6553e7353185f6238
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/08/694908/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/tests/unit/test_multistore_sheepdog.py', 'doc/source/user/drivers.rst', 'glance_store/_drivers/sheepdog.py', 'glance_store/tests/unit/test_opts.py', 'setup.cfg', 'glance_store/tests/unit/test_sheepdog_store.py', 'glance_store/backend.py']",7,5c9db72a93356876fabab2b294bced61a67105fe,remove-sheepdog-driver," 'cinder', 'vsphere'),"," * sheepdog 'sheepdog', 'cinder', 'vsphere'), * sheepdog",1,922
openstack%2Foslo.messaging~master~I007613058a2d21d1712c02fa6d1602b63705c1ab,openstack/oslo.messaging,master,I007613058a2d21d1712c02fa6d1602b63705c1ab,Do not use threading.Event,MERGED,2018-04-04 17:00:55.000000000,2019-12-19 00:00:29.000000000,2019-12-18 23:58:10.000000000,"[{'_account_id': 2813}, {'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 9257}, {'_account_id': 15334}, {'_account_id': 20523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-04 17:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0c9dbc50782c2c43fee51debbf6cb3963638eec4', 'message': 'Do not use threading.Event\n\nWaiting on a threading.Event with eventlet can cause busy looping via\nepoll_wait, see related bug for more details.\n\nRelated-bug: 1518430\nDepends-On: https://review.openstack.org/#/c/558879/\nChange-Id: I007613058a2d21d1712c02fa6d1602b63705c1ab\n'}, {'number': 2, 'created': '2018-04-12 14:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/5cbe4bccce4b1e0a31ae87108d750e0a6244e4bf', 'message': 'Do not use threading.Event\n\nWaiting on a threading.Event with eventlet can cause busy looping via\nepoll_wait, see related bug for more details.\n\nRelated-bug: 1518430\nDepends-On: https://review.openstack.org/#/c/558879/\nChange-Id: I007613058a2d21d1712c02fa6d1602b63705c1ab\n'}, {'number': 3, 'created': '2018-06-25 17:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/763dacfaa373c64fba33776874cb1b58ecdad9bd', 'message': 'Do not use threading.Event\n\nWaiting on a threading.Event with eventlet can cause busy looping via\nepoll_wait, see related bug for more details.\n\nRelated-bug: 1518430\nDepends-On: https://review.openstack.org/#/c/558879/\nChange-Id: I007613058a2d21d1712c02fa6d1602b63705c1ab\n'}, {'number': 4, 'created': '2018-10-15 20:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/3d1ab14e4069379bd475e2699a047547332ddd96', 'message': 'Do not use threading.Event\n\nWaiting on a threading.Event with eventlet can cause busy looping via\nepoll_wait, see related bug for more details.\n\nRelated-bug: 1518430\nDepends-On: https://review.openstack.org/#/c/558879/\nChange-Id: I007613058a2d21d1712c02fa6d1602b63705c1ab\n'}, {'number': 5, 'created': '2019-12-18 13:12:04.000000000', 'files': ['oslo_messaging/tests/drivers/test_impl_rabbit.py', 'requirements.txt', 'oslo_messaging/tests/utils.py', 'oslo_messaging/_drivers/impl_kafka.py', 'oslo_messaging/rpc/dispatcher.py', 'oslo_messaging/tests/drivers/test_amqp_driver.py', 'oslo_messaging/_drivers/impl_fake.py', 'lower-constraints.txt', 'oslo_messaging/_drivers/amqp1_driver/controller.py', 'oslo_messaging/tests/rpc/test_server.py', 'oslo_messaging/_drivers/amqpdriver.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d873c0d8f5722d5e2a08b5fc49d58b63dbe061a0', 'message': 'Do not use threading.Event\n\nWaiting on a threading.Event with eventlet can cause busy looping via\nepoll_wait, see related bug for more details.\n\nChange-Id: I007613058a2d21d1712c02fa6d1602b63705c1ab\nRelated-bug: #1518430\n'}]",0,558882,d873c0d8f5722d5e2a08b5fc49d58b63dbe061a0,24,7,5,9257,,,0,"Do not use threading.Event

Waiting on a threading.Event with eventlet can cause busy looping via
epoll_wait, see related bug for more details.

Change-Id: I007613058a2d21d1712c02fa6d1602b63705c1ab
Related-bug: #1518430
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/82/558882/4 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/tests/drivers/test_impl_rabbit.py', 'oslo_messaging/tests/utils.py', 'oslo_messaging/_drivers/impl_kafka.py', 'oslo_messaging/tests/drivers/test_amqp_driver.py', 'oslo_messaging/_drivers/impl_fake.py', 'oslo_messaging/_drivers/amqp1_driver/controller.py', 'oslo_messaging/tests/rpc/test_server.py', 'oslo_messaging/_drivers/zmq_driver/poller/threading_poller.py', 'oslo_messaging/_drivers/amqpdriver.py']",9,0c9dbc50782c2c43fee51debbf6cb3963638eec4,bug/1518430,from oslo_utils import eventletutils self._shutdown = eventletutils.Event() self._shutdown = eventletutils.Event() self._shutoff = eventletutils.Event() self._thread_exit_event = eventletutils.Event(), self._shutdown = threading.Event() self._shutdown = threading.Event() self._shutoff = threading.Event() self._thread_exit_event = threading.Event(),37,28
openstack%2Fcastellan~master~I9e85efdfacb1d9c1e9814b5cba79fc886f3674eb,openstack/castellan,master,I9e85efdfacb1d9c1e9814b5cba79fc886f3674eb,Switch to Ussuri jobs,MERGED,2019-10-25 03:24:16.000000000,2019-12-18 23:59:44.000000000,2019-12-18 23:56:31.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-25 03:24:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/castellan/commit/2c733545bd0986c425c5e7a3736d31b591e6cc08', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I9e85efdfacb1d9c1e9814b5cba79fc886f3674eb\n'}]",0,691175,2c733545bd0986c425c5e7a3736d31b591e6cc08,8,3,1,30092,,,0,"Switch to Ussuri jobs

Change-Id: I9e85efdfacb1d9c1e9814b5cba79fc886f3674eb
",git fetch https://review.opendev.org/openstack/castellan refs/changes/75/691175/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2c733545bd0986c425c5e7a3736d31b591e6cc08,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Foslo.db~master~I8960368d56604315d271aa958c5c6c361e512918,openstack/oslo.db,master,I8960368d56604315d271aa958c5c6c361e512918,Convert remaining use of mox,MERGED,2019-12-17 18:57:17.000000000,2019-12-18 23:44:41.000000000,2019-12-18 23:42:31.000000000,"[{'_account_id': 6928}, {'_account_id': 11816}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-12-17 18:57:17.000000000', 'files': ['oslo_db/tests/sqlalchemy/test_utils.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/e533d162ca7b350dd116b3a541ba112db8c737e7', 'message': ""Convert remaining use of mox\n\nThis is pretty ugly to look at, but essentially I've gone and replaced\nall occurences of\n\n  foo.bar(call_arg).AndReturn(return_arg)\n\nwith a mock of 'foo', followed by:\n\n  mock_foo.return_value = return_arg\n\n  <call>\n\n  mock_foo.assert_call_once_with(call_arg)\n\nOr 'side_effect'/'assert_has_calls' for functions that are called\nmultiple times.\n\nChange-Id: I8960368d56604315d271aa958c5c6c361e512918\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,699480,e533d162ca7b350dd116b3a541ba112db8c737e7,8,4,1,15334,,,0,"Convert remaining use of mox

This is pretty ugly to look at, but essentially I've gone and replaced
all occurences of

  foo.bar(call_arg).AndReturn(return_arg)

with a mock of 'foo', followed by:

  mock_foo.return_value = return_arg

  <call>

  mock_foo.assert_call_once_with(call_arg)

Or 'side_effect'/'assert_has_calls' for functions that are called
multiple times.

Change-Id: I8960368d56604315d271aa958c5c6c361e512918
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/80/699480/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/tests/sqlalchemy/test_utils.py'],1,e533d162ca7b350dd116b3a541ba112db8c737e7,remove-mox," self.query = mock.Mock() self.mock_asc = self.useFixture( fixtures.MockPatchObject(sqlalchemy, 'asc')).mock self.mock_desc = self.useFixture( fixtures.MockPatchObject(sqlalchemy, 'desc')).mock self.query.order_by.return_value = self.query self.mock_asc.side_effect = [ 'asc_3', 'asc_2', 'asc_1' ] self.mock_asc.assert_has_calls([ mock.call(self.model.user_id), mock.call(self.model.project_id), mock.call(self.model.snapshot_id), ]) self.query.order_by.assert_has_calls([ mock.call('asc_3'), mock.call('asc_2'), mock.call('asc_1'), ]) self.query.limit.assert_called_once_with(5) def test_paginate_query_no_pagination(self): self.query.order_by.return_value = self.query self.mock_asc.side_effect = ['asc'] self.mock_desc.side_effect = ['desc'] self.mock_asc.assert_called_once_with(self.model.user_id) self.mock_desc.assert_called_once_with(self.model.project_id) self.query.order_by.assert_has_calls([ mock.call('asc'), mock.call('desc'), ]) self.query.limit.assert_called_once_with(5) self.mock_asc.return_value = 'asc' self.mock_asc.assert_called_once_with(self.model.user_id) self.query.order_by.assert_called_once_with('asc') @mock.patch.object(sqlalchemy.sql, 'and_') @mock.patch.object(sqlalchemy.sql, 'or_') def test_paginate_query(self, mock_or, mock_and): self.query.order_by.return_value = self.query self.query.filter.return_value = self.query self.mock_asc.return_value = 'asc_1' self.mock_desc.return_value = 'desc_1' mock_and.side_effect = ['some_crit', 'another_crit'] mock_or.return_value = 'some_f' self.mock_asc.assert_called_once_with(self.model.user_id) self.mock_desc.assert_called_once_with(self.model.project_id) self.query.order_by.assert_has_calls([ mock.call('asc_1'), mock.call('desc_1'), ]) mock_and.assert_has_calls([ mock.call(mock.ANY), mock.call(mock.ANY, mock.ANY) ]) mock_or.assert_called_once_with('some_crit', 'another_crit') self.query.filter.assert_called_once_with('some_f') self.query.limit.assert_called_once_with(5) @mock.patch.object(sqlalchemy.sql, 'and_') @mock.patch.object(sqlalchemy.sql, 'or_') def test_paginate_query_null(self, mock_or, mock_and): self.query.order_by.return_value = self.query self.query.filter.return_value = self.query self.mock_desc.side_effect = [ 'asc_null_2', 'desc_null_2', 'desc_1', ] self.mock_asc.side_effect = [ 'asc_1' ] mock_or.side_effect = [ 'or_1', 'or_2', 'some_f', ] mock_and.side_effect = [ 'some_crit', 'another_crit', ] with mock.patch.object(self.model.user_id, 'isnot') as mock_isnot, \ mock.patch.object(self.model.user_id, 'is_') as mock_is_a, \ mock.patch.object(self.model.project_id, 'is_') as mock_is_b: mock_isnot.return_value = 'asc_null_1' mock_is_a.side_effect = [ 'desc_null_filter_1', 'desc_null_filter_2', ] mock_is_b.side_effect = [ 'desc_null_1', 'asc_null_filter', ] utils.paginate_query(self.query, self.model, 5, ['user_id', 'project_id'], marker=self.marker, sort_dirs=[ 'asc-nullslast', 'desc-nullsfirst']) mock_isnot.assert_called_once_with(None) mock_is_a.assert_has_calls([ mock.call(None), mock.call(None), ]) mock_is_b.assert_has_calls([ mock.call(None), mock.call(None), ]) self.mock_desc.assert_has_calls([ mock.call('asc_null_1'), mock.call('desc_null_1'), mock.call(self.model.project_id), ]) self.mock_asc.assert_has_calls([ mock.call(self.model.user_id), ]) mock_or.assert_has_calls([ mock.call(mock.ANY, 'desc_null_filter_2'), mock.call(mock.ANY, 'asc_null_filter'), mock.call('some_crit', 'another_crit'), ]) mock_and.assert_has_calls([ mock.call('or_1'), mock.call(mock.ANY, 'or_2'), ]) self.query.order_by.assert_has_calls([ mock.call('asc_null_2'), mock.call('asc_1'), mock.call('desc_null_2'), mock.call('desc_1'), ]) self.query.filter.assert_called_once_with('some_f') self.query.limit.assert_called_once_with(5) @mock.patch.object(sqlalchemy.sql, 'and_') @mock.patch.object(sqlalchemy.sql, 'or_') def test_paginate_query_marker_null(self, mock_or, mock_and): self.mock_asc.side_effect = [ 'asc_1' ] self.mock_desc.side_effect = [ 'asc_null_2', 'desc_null_2', 'desc_1', ] self.query.order_by.return_value = self.query self.query.filter.return_value = self.query mock_and.return_value = 'some_crit' mock_or.side_effect = ['or_1', 'some_f'] with mock.patch.object(self.model.user_id, 'isnot') as mock_isnot, \ mock.patch.object(self.model.updated_at, 'is_') as mock_is_a, \ mock.patch.object(self.model.user_id, 'is_') as mock_is_b: mock_isnot.return_value = 'asc_null_1' mock_is_a.return_value = 'desc_null_1' mock_is_b.side_effect = ['asc_null_filter_1', 'asc_null_filter_2'] utils.paginate_query(self.query, self.model, 5, ['user_id', 'updated_at'], marker=self.marker, sort_dirs=[ 'asc-nullslast', 'desc-nullsfirst']) mock_isnot.assert_called_once_with(None) mock_is_a.assert_called_once_with(None) mock_is_b.assert_has_calls([mock.call(None), mock.call(None)]) self.mock_asc.assert_called_once_with(self.model.user_id) self.mock_desc.assert_has_calls([ mock.call('asc_null_1'), mock.call('desc_null_1'), mock.call(self.model.updated_at), ]) mock_and.assert_called_once_with('or_1') mock_or.assert_has_calls([ mock.call(mock.ANY, 'asc_null_filter_2'), mock.call('some_crit'), ]) self.query.order_by.assert_has_calls([ mock.call('asc_null_2'), mock.call('asc_1'), mock.call('desc_null_2'), mock.call('desc_1'), ]) self.query.filter.assert_called_once_with('some_f') self.query.limit.assert_called_once_with(5) @mock.patch.object(sqlalchemy.sql, 'and_') @mock.patch.object(sqlalchemy.sql, 'or_') def test_paginate_query_marker_null_with_two_primary_keys( self, mock_or, mock_and): self.mock_asc.return_value = 'asc_1' self.mock_desc.side_effect = [ 'asc_null_2', 'desc_null_2', 'desc_1', 'desc_null_4', 'desc_4', ] self.query.order_by.return_value = self.query mock_or.side_effect = [ 'or_1', 'or_2', 'some_f', ] mock_and.side_effect = [ 'some_crit', 'other_crit', ] self.query.filter.return_value = self.query with mock.patch.object(self.model.user_id, 'isnot') as mock_isnot, \ mock.patch.object(self.model.updated_at, 'is_') as mock_is_a, \ mock.patch.object(self.model.user_id, 'is_') as mock_is_b, \ mock.patch.object(self.model.project_id, 'is_') as mock_is_c: mock_isnot.return_value = 'asc_null_1' mock_is_a.return_value = 'desc_null_1' mock_is_b.side_effect = ['asc_null_filter_1', 'asc_null_filter_2'] mock_is_c.side_effect = ['desc_null_3', 'desc_null_filter_3'] utils.paginate_query(self.query, self.model, 5, ['user_id', 'updated_at', 'project_id'], marker=self.marker, sort_dirs=['asc-nullslast', 'desc-nullsfirst', 'desc-nullsfirst']) mock_isnot.assert_called_once_with(None) mock_is_a.assert_called_once_with(None) mock_is_b.assert_has_calls([mock.call(None), mock.call(None)]) mock_is_c.assert_has_calls([mock.call(None), mock.call(None)]) self.mock_asc.assert_called_once_with(self.model.user_id) self.mock_desc.assert_has_calls([ mock.call('asc_null_1'), mock.call('desc_null_1'), mock.call(self.model.updated_at), mock.call('desc_null_3'), mock.call(self.model.project_id), ]) self.query.order_by.assert_has_calls = [ mock.call('asc_null_2'), mock.call('asc_1'), mock.call('desc_null_2'), mock.call('desc_1'), mock.call('desc_null_4'), mock.call('desc_4'), ] mock_or.assert_has_calls([ mock.call(mock.ANY, 'asc_null_filter_2'), mock.call(mock.ANY, 'desc_null_filter_3'), mock.call('some_crit', 'other_crit'), ]) mock_and.assert_has_calls([ mock.call('or_1'), mock.call(mock.ANY, 'or_2'), ]) self.query.filter.assert_called_once_with('some_f') self.query.limit.assert_called_once_with(5) self.mock_asc.return_value = 'asc_1' self.query.order_by.return_value = self.query self.mock_asc.assert_called_once_with(self.model.user_id) self.query.order_by.assert_called_once_with('asc_1') def test_paginate_on_hybrid(self): self.mock_asc.return_value = 'asc_1' self.mock_desc.return_value = 'desc_1' self.query.order_by.return_value = self.query self.mock_asc.assert_called_once_with(self.model.user_id) self.mock_desc.assert_called_once_with(self.model.some_hybrid) self.query.order_by.assert_has_calls([ mock.call('asc_1'), mock.call('desc_1'), ]) self.query.limit.assert_called_once_with(5) with mock.patch.object( sqlalchemy.engine.base.Engine, 'connect') as mock_connect: fake_connection = mock.Mock() mock_connect.return_value = fake_connection eng = provision.Backend._ensure_backend_available( self.connect_string) self.assertIsInstance(eng, sqlalchemy.engine.base.Engine) self.assertEqual(self.connect_string, str(eng.url)) mock_connect.assert_called_once() fake_connection.close.assert_called_once() with mock.patch.object( sqlalchemy.engine.base.Engine, 'connect') as mock_connect: mock_connect.side_effect = err exc = self.assertRaises( exception.BackendNotAvailable, provision.Backend._ensure_backend_available, self.connect_string) self.assertEqual( ""Backend 'postgresql' is unavailable: "" ""Could not connect"", str(exc)) self.assertEqual( ""The postgresql backend is unavailable: %s"" % err, log.output.strip()) with mock.patch.object(sqlalchemy, 'create_engine') as mock_create: mock_create.side_effect = ImportError( ""Can't import DBAPI module foobar"") exc = self.assertRaises( exception.BackendNotAvailable, provision.Backend._ensure_backend_available, self.connect_string) mock_create.assert_called_once_with( sa_url.make_url(self.connect_string)) self.assertEqual( ""Backend 'postgresql' is unavailable: "" ""No DBAPI installed"", str(exc)) self.assertEqual( ""The postgresql backend is unavailable: Can't import "" ""DBAPI module foobar"", log.output.strip())","from oslotest import moxstubout mox_fixture = self.useFixture(moxstubout.MoxStubout()) self.mox = mox_fixture.mox self.query = self.mox.CreateMockAnything() self.mox.StubOutWithMock(sqlalchemy, 'asc') self.mox.StubOutWithMock(sqlalchemy, 'desc') sqlalchemy.asc(self.model.user_id).AndReturn('asc_3') self.query.order_by('asc_3').AndReturn(self.query) sqlalchemy.asc(self.model.project_id).AndReturn('asc_2') self.query.order_by('asc_2').AndReturn(self.query) sqlalchemy.asc(self.model.snapshot_id).AndReturn('asc_1') self.query.order_by('asc_1').AndReturn(self.query) self.query.limit(5).AndReturn(self.query) self.mox.ReplayAll() def test_paginate_query_no_pagination(self): sqlalchemy.asc(self.model.user_id).AndReturn('asc') self.query.order_by('asc').AndReturn(self.query) sqlalchemy.desc(self.model.project_id).AndReturn('desc') self.query.order_by('desc').AndReturn(self.query) self.query.limit(5).AndReturn(self.query) self.mox.ReplayAll() sqlalchemy.asc(self.model.user_id).AndReturn('asc') self.query.order_by('asc').AndReturn(self.query) self.mox.ReplayAll() self.mox.ReplayAll() self.mox.ReplayAll() def test_paginate_query(self): sqlalchemy.asc(self.model.user_id).AndReturn('asc_1') self.query.order_by('asc_1').AndReturn(self.query) sqlalchemy.desc(self.model.project_id).AndReturn('desc_1') self.query.order_by('desc_1').AndReturn(self.query) self.mox.StubOutWithMock(sqlalchemy.sql, 'and_') sqlalchemy.sql.and_(mock.ANY).AndReturn('some_crit') sqlalchemy.sql.and_(mock.ANY, mock.ANY).AndReturn('another_crit') self.mox.StubOutWithMock(sqlalchemy.sql, 'or_') sqlalchemy.sql.or_('some_crit', 'another_crit').AndReturn('some_f') self.query.filter('some_f').AndReturn(self.query) self.query.limit(5).AndReturn(self.query) self.mox.ReplayAll() def test_paginate_query_null(self): self.mox.StubOutWithMock(self.model.user_id, 'isnot') self.model.user_id.isnot(None).AndReturn('asc_null_1') sqlalchemy.desc('asc_null_1').AndReturn('asc_null_2') self.query.order_by('asc_null_2').AndReturn(self.query) sqlalchemy.asc(self.model.user_id).AndReturn('asc_1') self.query.order_by('asc_1').AndReturn(self.query) self.mox.StubOutWithMock(self.model.project_id, 'is_') self.model.project_id.is_(None).AndReturn('desc_null_1') sqlalchemy.desc('desc_null_1').AndReturn('desc_null_2') self.query.order_by('desc_null_2').AndReturn(self.query) sqlalchemy.desc(self.model.project_id).AndReturn('desc_1') self.query.order_by('desc_1').AndReturn(self.query) self.mox.StubOutWithMock(sqlalchemy.sql, 'and_') self.mox.StubOutWithMock(sqlalchemy.sql, 'or_') self.mox.StubOutWithMock(self.model.user_id, 'is_') self.model.user_id.is_(None).AndReturn('desc_null_filter_1') self.model.user_id.is_(None).AndReturn('desc_null_filter_2') sqlalchemy.sql.or_(mock.ANY, 'desc_null_filter_2').AndReturn('or_1') self.model.project_id.is_(None).AndReturn('asc_null_filter') sqlalchemy.sql.or_(mock.ANY, 'asc_null_filter').AndReturn('or_2') sqlalchemy.sql.and_('or_1').AndReturn('some_crit') sqlalchemy.sql.and_(mock.ANY, 'or_2').AndReturn('another_crit') sqlalchemy.sql.or_('some_crit', 'another_crit').AndReturn('some_f') self.query.filter('some_f').AndReturn(self.query) self.query.limit(5).AndReturn(self.query) self.mox.ReplayAll() utils.paginate_query(self.query, self.model, 5, ['user_id', 'project_id'], marker=self.marker, sort_dirs=['asc-nullslast', 'desc-nullsfirst']) def test_paginate_query_marker_null(self): self.mox.StubOutWithMock(self.model.user_id, 'isnot') self.model.user_id.isnot(None).AndReturn('asc_null_1') sqlalchemy.desc('asc_null_1').AndReturn('asc_null_2') self.query.order_by('asc_null_2').AndReturn(self.query) sqlalchemy.asc(self.model.user_id).AndReturn('asc_1') self.query.order_by('asc_1').AndReturn(self.query) self.mox.StubOutWithMock(self.model.updated_at, 'is_') self.model.updated_at.is_(None).AndReturn('desc_null_1') sqlalchemy.desc('desc_null_1').AndReturn('desc_null_2') self.query.order_by('desc_null_2').AndReturn(self.query) sqlalchemy.desc(self.model.updated_at).AndReturn('desc_1') self.query.order_by('desc_1').AndReturn(self.query) self.mox.StubOutWithMock(sqlalchemy.sql, 'and_') self.mox.StubOutWithMock(sqlalchemy.sql, 'or_') self.mox.StubOutWithMock(self.model.user_id, 'is_') self.model.user_id.is_(None).AndReturn('asc_null_filter_1') self.model.user_id.is_(None).AndReturn('asc_null_filter_2') sqlalchemy.sql.or_(mock.ANY, 'asc_null_filter_2').AndReturn('or_1') sqlalchemy.sql.and_('or_1').AndReturn('some_crit') sqlalchemy.sql.or_('some_crit').AndReturn('some_f') self.query.filter('some_f').AndReturn(self.query) self.query.limit(5).AndReturn(self.query) self.mox.ReplayAll() utils.paginate_query(self.query, self.model, 5, ['user_id', 'updated_at'], marker=self.marker, sort_dirs=['asc-nullslast', 'desc-nullsfirst']) def test_paginate_query_marker_null_with_two_primary_keys(self): self.mox.StubOutWithMock(self.model.user_id, 'isnot') self.model.user_id.isnot(None).AndReturn('asc_null_1') sqlalchemy.desc('asc_null_1').AndReturn('asc_null_2') self.query.order_by('asc_null_2').AndReturn(self.query) sqlalchemy.asc(self.model.user_id).AndReturn('asc_1') self.query.order_by('asc_1').AndReturn(self.query) self.mox.StubOutWithMock(self.model.updated_at, 'is_') self.model.updated_at.is_(None).AndReturn('desc_null_1') sqlalchemy.desc('desc_null_1').AndReturn('desc_null_2') self.query.order_by('desc_null_2').AndReturn(self.query) sqlalchemy.desc(self.model.updated_at).AndReturn('desc_1') self.query.order_by('desc_1').AndReturn(self.query) self.mox.StubOutWithMock(self.model.project_id, 'is_') self.model.project_id.is_(None).AndReturn('desc_null_3') sqlalchemy.desc('desc_null_3').AndReturn('desc_null_4') self.query.order_by('desc_null_4').AndReturn(self.query) sqlalchemy.desc(self.model.project_id).AndReturn('desc_4') self.query.order_by('desc_4').AndReturn(self.query) self.mox.StubOutWithMock(sqlalchemy.sql, 'and_') self.mox.StubOutWithMock(sqlalchemy.sql, 'or_') self.mox.StubOutWithMock(self.model.user_id, 'is_') self.model.user_id.is_(None).AndReturn('asc_null_filter_1') self.model.user_id.is_(None).AndReturn('asc_null_filter_2') self.model.project_id.is_(None).AndReturn('desc_null_filter_3') sqlalchemy.sql.or_(mock.ANY, 'asc_null_filter_2').AndReturn('or_1') sqlalchemy.sql.or_(mock.ANY, 'desc_null_filter_3').AndReturn('or_2') sqlalchemy.sql.and_('or_1').AndReturn('some_crit') sqlalchemy.sql.and_(mock.ANY, 'or_2').AndReturn('other_crit') sqlalchemy.sql.or_('some_crit', 'other_crit').AndReturn('some_f') self.query.filter('some_f').AndReturn(self.query) self.query.limit(5).AndReturn(self.query) self.mox.ReplayAll() utils.paginate_query(self.query, self.model, 5, ['user_id', 'updated_at', 'project_id'], marker=self.marker, sort_dirs=['asc-nullslast', 'desc-nullsfirst', 'desc-nullsfirst']) sqlalchemy.asc(self.model.user_id).AndReturn('asc_1') self.query.order_by('asc_1').AndReturn(self.query) self.mox.ReplayAll() def test_paginate_on_hybrid(self): sqlalchemy.asc(self.model.user_id).AndReturn('asc_1') self.query.order_by('asc_1').AndReturn(self.query) sqlalchemy.desc(self.model.some_hybrid).AndReturn('desc_1') self.query.order_by('desc_1').AndReturn(self.query) self.query.limit(5).AndReturn(self.query) self.mox.ReplayAll() self.mox.StubOutWithMock(sqlalchemy.engine.base.Engine, 'connect') fake_connection = self.mox.CreateMockAnything() fake_connection.close() sqlalchemy.engine.base.Engine.connect().AndReturn(fake_connection) self.mox.ReplayAll() eng = provision.Backend._ensure_backend_available(self.connect_string) self.assertIsInstance(eng, sqlalchemy.engine.base.Engine) self.assertEqual(self.connect_string, str(eng.url)) self.mox.StubOutWithMock(sqlalchemy.engine.base.Engine, 'connect') sqlalchemy.engine.base.Engine.connect().AndRaise(err) self.mox.ReplayAll() exc = self.assertRaises( exception.BackendNotAvailable, provision.Backend._ensure_backend_available, self.connect_string ) self.assertEqual( ""Backend 'postgresql' is unavailable: "" ""Could not connect"", str(exc)) self.assertEqual( ""The postgresql backend is unavailable: %s"" % err, log.output.strip()) self.mox.StubOutWithMock(sqlalchemy, 'create_engine') sqlalchemy.create_engine( sa_url.make_url(self.connect_string)).AndRaise( ImportError(""Can't import DBAPI module foobar"")) self.mox.ReplayAll() exc = self.assertRaises( exception.BackendNotAvailable, provision.Backend._ensure_backend_available, self.connect_string ) self.assertEqual( ""Backend 'postgresql' is unavailable: "" ""No DBAPI installed"", str(exc)) self.assertEqual( ""The postgresql backend is unavailable: Can't import "" ""DBAPI module foobar"", log.output.strip())",311,186
openstack%2Fnetworking-ovn~stable%2Frocky~I15419c029cd9e60a1a6164f97fa893611994b8f3,openstack/networking-ovn,stable/rocky,I15419c029cd9e60a1a6164f97fa893611994b8f3,Functional tests: Fix setup error due to missing function,MERGED,2019-12-13 16:24:10.000000000,2019-12-18 23:31:27.000000000,2019-12-18 23:31:27.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-13 16:24:10.000000000', 'files': ['tools/configure_for_func_testing.sh'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7eeb4f1aa0c6e68f7714f2384594f021834596b2', 'message': 'Functional tests: Fix setup error due to missing function\n\nThe ""fixup_uca"" was recently renamed in DevStack to ""fixup_ubuntu""\nas part of https://review.opendev.org/#/c/619562 and that broke our\nfunctional gate setup. The functional itself does not seeing to be\nneeded anymore (functional tests passes without it) so this patch is\ngetting rid of it to avoid another renaming in the future.\n\nChange-Id: I15419c029cd9e60a1a6164f97fa893611994b8f3\nCloses-Bug: #1835375\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit dd5f1656b54822883f6c73ee68149f3312e02819)\n'}]",0,698953,7eeb4f1aa0c6e68f7714f2384594f021834596b2,11,5,1,11952,,,0,"Functional tests: Fix setup error due to missing function

The ""fixup_uca"" was recently renamed in DevStack to ""fixup_ubuntu""
as part of https://review.opendev.org/#/c/619562 and that broke our
functional gate setup. The functional itself does not seeing to be
needed anymore (functional tests passes without it) so this patch is
getting rid of it to avoid another renaming in the future.

Change-Id: I15419c029cd9e60a1a6164f97fa893611994b8f3
Closes-Bug: #1835375
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit dd5f1656b54822883f6c73ee68149f3312e02819)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/53/698953/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/configure_for_func_testing.sh'],1,7eeb4f1aa0c6e68f7714f2384594f021834596b2,bug/1835375,, GetDistro source $DEVSTACK_PATH/tools/fixup_stuff.sh fixup_uca,0,4
