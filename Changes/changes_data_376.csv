id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Finstack-undercloud~stable%2Frocky~I9e5d5e6cd6873431a17280a8a8c8ae5af45163c4,openstack/instack-undercloud,stable/rocky,I9e5d5e6cd6873431a17280a8a8c8ae5af45163c4,Quote controller_public_host_wrapped,MERGED,2019-06-19 14:24:50.000000000,2019-06-19 21:09:03.000000000,2019-06-19 21:09:03.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-19 14:24:50.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/e4cc043a1c945dc527f23897df4f06f9fb5ce2b8', 'message': 'Quote controller_public_host_wrapped\n\nIf this is an IPv6 address, it currently will be set to something like\ncontroller_public_host_wrapped: [2001:db8::2]\n\nThe yaml parser interprets this as a list and tries to part the IPv6\naddress as a hash. To avoid this, we need to wrap the value in quotes.\n\nChange-Id: I9e5d5e6cd6873431a17280a8a8c8ae5af45163c4\nCloses-Bug: #1833429\n'}]",0,666304,e4cc043a1c945dc527f23897df4f06f9fb5ce2b8,7,3,1,14985,,,0,"Quote controller_public_host_wrapped

If this is an IPv6 address, it currently will be set to something like
controller_public_host_wrapped: [2001:db8::2]

The yaml parser interprets this as a list and tries to part the IPv6
address as a hash. To avoid this, we need to wrap the value in quotes.

Change-Id: I9e5d5e6cd6873431a17280a8a8c8ae5af45163c4
Closes-Bug: #1833429
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/04/666304/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.yaml.template'],1,e4cc043a1c945dc527f23897df4f06f9fb5ce2b8,bug/1833429,"controller_public_host_wrapped: ""{{UNDERCLOUD_PUBLIC_HOST_WRAPPED}}""",controller_public_host_wrapped: {{UNDERCLOUD_PUBLIC_HOST_WRAPPED}},1,1
openstack%2Foslo.i18n~master~I87212a709b9e474238f4a4feca5ed806cfb4bd49,openstack/oslo.i18n,master,I87212a709b9e474238f4a4feca5ed806cfb4bd49,Clarify that translation strings are extracted via source inspection,MERGED,2019-06-12 11:17:19.000000000,2019-06-19 21:03:02.000000000,2019-06-19 21:03:02.000000000,"[{'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 29441}]","[{'number': 1, 'created': '2019-06-12 11:17:19.000000000', 'files': ['doc/source/user/guidelines.rst'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/7934e6f40554303067366897278ba8ba3adc6599', 'message': 'Clarify that translation strings are extracted via source inspection\n\nMake it clearer why the function argument to _() etc. has to be a\nstring, by explicitly mentioning source inspection, as suggested by\nDoug:\n\nhttps://review.opendev.org/#/c/664670/1/doc/source/user/guidelines.rst@164\n\nChange-Id: I87212a709b9e474238f4a4feca5ed806cfb4bd49\n'}]",0,664859,7934e6f40554303067366897278ba8ba3adc6599,11,7,1,2394,,,0,"Clarify that translation strings are extracted via source inspection

Make it clearer why the function argument to _() etc. has to be a
string, by explicitly mentioning source inspection, as suggested by
Doug:

https://review.opendev.org/#/c/664670/1/doc/source/user/guidelines.rst@164

Change-Id: I87212a709b9e474238f4a4feca5ed806cfb4bd49
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/59/664859/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/guidelines.rst'],1,7934e6f40554303067366897278ba8ba3adc6599,clarify-source-inspection,"performs source inspection to look for these specific markers, so the function argument must just be a string.","looks for these specific markers, so the function argument must just be a string.",2,2
openstack%2Foslo.i18n~master~Ib86013ff5e7bd07ddc696da2e4c56ce9d07f0cb6,openstack/oslo.i18n,master,Ib86013ff5e7bd07ddc696da2e4c56ce9d07f0cb6,Fix guidelines w.r.t. translation of log messages,MERGED,2019-06-11 18:55:43.000000000,2019-06-19 21:02:18.000000000,2019-06-19 21:02:18.000000000,"[{'_account_id': 2394}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 6928}, {'_account_id': 9796}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 14482}, {'_account_id': 15334}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-11 18:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/e3b8ae53a319f494beeb458a803e99342cdc0005', 'message': ""Fix guidelines w.r.t. translation of log messages\n\nTranslation of log messages was ceased starting with Pike, but these\nguidelines were only partially updated (by Ia34ad79ca9), with a small\nwarning block buried in the middle of a long page of unchanged\nguidelines which it somewhat contradicted.\n\nSo update the rest of the page to align with current best practices in\norder to avoid confusion.\n\nAlso summarise the primary reasons for the change in policy, so that\ncurious readers don't have to trawl through long email threads to find\nout.\n\nChange-Id: Ib86013ff5e7bd07ddc696da2e4c56ce9d07f0cb6\n""}, {'number': 2, 'created': '2019-06-12 11:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/e354564691a2226d010c380c2d0f7cc11b2d1763', 'message': ""Fix guidelines w.r.t. translation of log messages\n\nTranslation of log messages was ceased starting with Pike, but these\nguidelines were only partially updated (by Ia34ad79ca9), with a small\nwarning block buried in the middle of a long page of unchanged\nguidelines which it somewhat contradicted.\n\nSo update the rest of the page to align with current best practices in\norder to avoid confusion.\n\nAlso summarise the primary reasons for the change in policy, so that\ncurious readers don't have to trawl through long email threads to find\nout.\n\nChange-Id: Ib86013ff5e7bd07ddc696da2e4c56ce9d07f0cb6\n""}, {'number': 3, 'created': '2019-06-12 11:17:01.000000000', 'files': ['doc/source/user/guidelines.rst'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/746be6362b94f940a5f8e254c1897fd6da0fd598', 'message': ""Fix guidelines w.r.t. translation of log messages\n\nTranslation of log messages was ceased starting with Pike, but these\nguidelines were only partially updated (by Ia34ad79ca9), with a small\nwarning block buried in the middle of a long page of unchanged\nguidelines which it somewhat contradicted.\n\nSo update the rest of the page to align with current best practices in\norder to avoid confusion.\n\nAlso summarise the primary reasons for the change in policy, so that\ncurious readers don't have to trawl through long email threads to find\nout.\n\nChange-Id: Ib86013ff5e7bd07ddc696da2e4c56ce9d07f0cb6\n""}]",23,664670,746be6362b94f940a5f8e254c1897fd6da0fd598,35,12,3,2394,,,0,"Fix guidelines w.r.t. translation of log messages

Translation of log messages was ceased starting with Pike, but these
guidelines were only partially updated (by Ia34ad79ca9), with a small
warning block buried in the middle of a long page of unchanged
guidelines which it somewhat contradicted.

So update the rest of the page to align with current best practices in
order to avoid confusion.

Also summarise the primary reasons for the change in policy, so that
curious readers don't have to trawl through long email threads to find
out.

Change-Id: Ib86013ff5e7bd07ddc696da2e4c56ce9d07f0cb6
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/70/664670/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/guidelines.rst'],1,e3b8ae53a319f494beeb458a803e99342cdc0005,no-log-translations," Guidelines for Use in OpenStackto the user. Those do not need to be translated. Neither do log messages, as explained below. new code, and the instructions can be removed from old code. The following documentation is retained to help developers understand existing usage and how to remove it. Support was `dropped <http://lists.openstack.org/pipermail/openstack-dev/2017-March/114191.html>`_ primarily based on `feedback from operators <http://lists.openstack.org/pipermail/openstack-operators/2017-March/012953.html>`_ that they were not only needed but also undesirable, because they fragmented the set of web pages providing helpful information about any particular log message, thereby reducing the chances of finding those web pages by doing a web search for the message. Refer to the email thread `understanding log domain changeOpenStack previously supported translating some log levels using separate message catalogs, and so has separate marker functions. These well-known names were used by the build system jobs that extracted the messages from the source code and passed them to the translation tool. Debug level log messages were never translated.The log marker functions (``_LI()``, ``_LW()``, ``_LE()``, and ``_LC()``) should no longer be used, and existing usages should be removed. Anytime that the message is passed outside of the current context (for example as part of an exception) the ``_()`` marker function must be used instead. A common pattern used to be to define a single message object and use it more than once, for the log call and the exception. In that case, ``_()`` had to be used because the message was going to appear in an exception that may be presented to the user. However, now that log messages are no longer translated, it is unfortunately necessary to use two separate strings: a plain one for the log message, and a translatable one for the exception. msg = _('There was an error.') LOG.exception(msg) raise LocalExceptionClass(msg) or this:: # EVEN WRONGER LOG.exception('There was an error.')"," Guidelines for Use In OpenStackto the user. Those do not need to be translated. new code, and the instructions can be removed from old code. Refer to the email thread `understanding log domain changeOpenStack supports translating some log levels using separate message catalogs, and so has separate marker functions. These well-known names are used by the build system jobs that extract the messages from the source code and pass it to the translation tool. * Debug level log messages are not translated. * LOG.exception creates an ERROR level log, so when a marker function is used (see below) ``_LE()`` should be used. w_msg = _LW(variable_warning_msg) w_msg = _LW('My warning message')The log marker functions (``_LI()``, ``_LW()``, ``_LE()``, and ``_LC()``) must only be used when the message is only sent directly to the log. Anytime that the message will be passed outside of the current context (for example as part of an exception) the ``_()`` marker function must be used. A common pattern is to define a single message object and use it more than once, for the log call and the exception. In that case, ``_()`` must be used because the message is going to appear in an exception that may be presented to the user. msg = _('There was an error.') LOG.exception(msg) raise LocalExceptionClass(msg) Except in the case above, ``_()`` should not be used for translating log messages. This avoids having the same string in two message catalogs, possibly translated differently by two different translators. The log message will translate properly because when the message is not found in the log specific catalog the ``_()`` catalog will be used. If a common message is not being used, they should each be treated separately with respect to choosing a marker function. For example, **do not do this**:: # WRONG LOG.exception(_('There was an error.')) raise LocalExceptionClass(_('An error occurred.')) Instead, use this style:: # RIGHT LOG.exception(_LE('There was an error.')) Adding Variables to Log Messages ================================ String interpolation should be delayed to be handled by the logging code, rather than being done at the point of the logging call. For example, **do not do this**:: # WRONG LOG.info(_LI('some message: variable=%s') % variable) Instead, use this style:: # RIGHT LOG.info(_LI('some message: variable=%s'), variable) This allows the logging package to skip creating the formatted log message if the message is not going to be emitted because of the current log level. Avoid Forcing the Translation of Translatable Variables ======================================================= Translation can also be delayed for variables that potentially contain translatable objects such as exceptions. Whenever possible translation should not be forced by use of :func:`str`, :func:`unicode`, or :func:`six.text_type` on a message being used with a format string. For example, **do not do this**:: # WRONG LOG.info(_LI('some message: exception=%s'), six.text_type(exc)) Instead, use this style:: # RIGHT LOG.info(_LI('some message: exception=%s'), exc) This allows the translation of the translatable replacement text to be delayed until the message is translated.",43,89
openstack%2Ftempest~master~Ib9fac3eafa8e0dfe17771b3b92a337b9f8bec911,openstack/tempest,master,Ib9fac3eafa8e0dfe17771b3b92a337b9f8bec911,Fix cleanup race in test_volume_swap_with_multiattach,ABANDONED,2018-12-11 20:57:00.000000000,2019-06-19 21:02:09.000000000,,"[{'_account_id': 6873}, {'_account_id': 10385}, {'_account_id': 20190}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-11 20:57:00.000000000', 'files': ['tempest/api/compute/admin/test_volume_swap.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9fabce48e186b1ff5f731e317fe1a0c544b6e765', 'message': ""Fix cleanup race in test_volume_swap_with_multiattach\n\nThe test sets up resources in this order:\n\n1. create volume1\n2. create volume2\n3. create server1 and server2 (multi-create request)\n4. attach volume1 to server1\n5. attach volume1 to server2\n6. swap volume1 to volume2 on server1\n\nAt this point, volume1 is attached to server2 only\nand volume2 is attached to server1 only.\n\nWhen the test tears down, it will cleanup in this order:\n\n1. detach volume1 from server2\n2. detach volume1 from server1 (this should 404 since\n   volume1 is not attached to server1 after the swap but\n   the _detach_volume method ignores 404s)\n3. delete server1 and server2\n4. delete volume2\n5. delete volume1\n\nThere is a race on teardown where tempest doesn't know\nvolume2 is attached to server1, deletes server1 (which\ndetaches volume2) but since tempest isn't waiting for\nvolume2 to be detached before trying to delete it, it just\ngoes to delete volume2 which fails because the backend\ntarget is not yet disconnected.\n\nThis change resolves the race by having the test explicitly\ndetach volume2 from server1 before the automated teardown\nruns.\n\nChange-Id: Ib9fac3eafa8e0dfe17771b3b92a337b9f8bec911\nCloses-Bug: #1807723\n""}]",1,624491,9fabce48e186b1ff5f731e317fe1a0c544b6e765,6,4,1,6873,,,0,"Fix cleanup race in test_volume_swap_with_multiattach

The test sets up resources in this order:

1. create volume1
2. create volume2
3. create server1 and server2 (multi-create request)
4. attach volume1 to server1
5. attach volume1 to server2
6. swap volume1 to volume2 on server1

At this point, volume1 is attached to server2 only
and volume2 is attached to server1 only.

When the test tears down, it will cleanup in this order:

1. detach volume1 from server2
2. detach volume1 from server1 (this should 404 since
   volume1 is not attached to server1 after the swap but
   the _detach_volume method ignores 404s)
3. delete server1 and server2
4. delete volume2
5. delete volume1

There is a race on teardown where tempest doesn't know
volume2 is attached to server1, deletes server1 (which
detaches volume2) but since tempest isn't waiting for
volume2 to be detached before trying to delete it, it just
goes to delete volume2 which fails because the backend
target is not yet disconnected.

This change resolves the race by having the test explicitly
detach volume2 from server1 before the automated teardown
runs.

Change-Id: Ib9fac3eafa8e0dfe17771b3b92a337b9f8bec911
Closes-Bug: #1807723
",git fetch https://review.opendev.org/openstack/tempest refs/changes/91/624491/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_volume_swap.py'],1,9fabce48e186b1ff5f731e317fe1a0c544b6e765,drop-multiattach-job," # Explicitly detach volume2 from server1 to avoid a race with # teardown. When deleting server1 during teardown, the nova-compute # service will automatically detach volume2, but there could be a # race where tempest tries to delete volume2 before it is fully # detached which will result in a failure. self._detach_volume(server1, volume2) waiters.wait_for_volume_resource_status(self.volumes_client, volume2['id'], 'available')",,9,0
openstack%2Fpython-cinderclient~master~I8cd63f3d35e083f6fd90ceb1ba01cd8a763f5abd,openstack/python-cinderclient,master,I8cd63f3d35e083f6fd90ceb1ba01cd8a763f5abd,WIP: Add support for microversion 3.56 (volume re-image),ABANDONED,2018-12-04 22:22:05.000000000,2019-06-19 21:01:48.000000000,,"[{'_account_id': 6873}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2018-12-04 22:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/2843994e98e5dc182dc56e4fd76f433f20ebb5c6', 'message': 'WIP: Add support for microversion 3.56 (volume re-image)\n\nThis adds the ""cinder reimage"" CLI and related python\nAPI bindings for the os-reimage volume action API.\n\nDepends-On: https://review.openstack.org/606346/\n\nPart of blueprint add-volume-re-image-api\n\nChange-Id: I8cd63f3d35e083f6fd90ceb1ba01cd8a763f5abd\n'}, {'number': 2, 'created': '2018-12-04 22:34:30.000000000', 'files': ['cinderclient/v3/shell.py', 'cinderclient/v3/volumes.py', 'doc/source/cli/details.rst', 'cinderclient/api_versions.py', 'releasenotes/notes/microversion-v3.56-reimage-volume-c4066fe5f720d392.yaml'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/aab74572fc09efe4b5d3dd0c5bf866257697ffcf', 'message': 'WIP: Add support for microversion 3.56 (volume re-image)\n\nThis adds the ""cinder reimage"" CLI and related python\nAPI bindings for the os-reimage volume action API.\n\nDepends-On: https://review.openstack.org/606346/\n\nPart of blueprint add-volume-re-image-api\n\nChange-Id: I8cd63f3d35e083f6fd90ceb1ba01cd8a763f5abd\n'}]",0,622614,aab74572fc09efe4b5d3dd0c5bf866257697ffcf,7,4,2,6873,,,0,"WIP: Add support for microversion 3.56 (volume re-image)

This adds the ""cinder reimage"" CLI and related python
API bindings for the os-reimage volume action API.

Depends-On: https://review.openstack.org/606346/

Part of blueprint add-volume-re-image-api

Change-Id: I8cd63f3d35e083f6fd90ceb1ba01cd8a763f5abd
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/14/622614/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/v3/shell.py', 'cinderclient/v3/volumes.py', 'doc/source/cli/details.rst', 'cinderclient/api_versions.py']",4,2843994e98e5dc182dc56e4fd76f433f20ebb5c6,bp/add-volume-re-image-api,"MAX_VERSION = ""3.56""","MAX_VERSION = ""3.52""",96,1
openstack%2Fkolla-ansible~stable%2Fqueens~I336a81a5ecd824ace7d40e9a35942a1c853554cd,openstack/kolla-ansible,stable/queens,I336a81a5ecd824ace7d40e9a35942a1c853554cd,Hide logs when looping over passwords,MERGED,2019-06-18 18:24:19.000000000,2019-06-19 20:58:21.000000000,2019-06-19 20:58:21.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 29100}]","[{'number': 1, 'created': '2019-06-18 18:24:19.000000000', 'files': ['ansible/roles/ironic/tasks/bootstrap.yml', 'ansible/roles/nova/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/554187c9b6349f0246e7be90aac4f758c3520bbc', 'message': 'Hide logs when looping over passwords\n\nWhen ansible goes in to a loop, by default it prints all the keys for\nthe item it is looping over. Some roles, when setting up the databases,\niterate over an object that includes the database password.\n\nOverride the loop label to hide everything but the database name.\n\nChange-Id: I336a81a5ecd824ace7d40e9a35942a1c853554cd\n(cherry picked from commit 30c619d1bc8938ea2177fdc21e503808dbe0cca7)\n'}]",0,666130,554187c9b6349f0246e7be90aac4f758c3520bbc,9,4,1,14826,,,0,"Hide logs when looping over passwords

When ansible goes in to a loop, by default it prints all the keys for
the item it is looping over. Some roles, when setting up the databases,
iterate over an object that includes the database password.

Override the loop label to hide everything but the database name.

Change-Id: I336a81a5ecd824ace7d40e9a35942a1c853554cd
(cherry picked from commit 30c619d1bc8938ea2177fdc21e503808dbe0cca7)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/30/666130/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ironic/tasks/bootstrap.yml', 'ansible/roles/nova/tasks/bootstrap.yml']",2,554187c9b6349f0246e7be90aac4f758c3520bbc,hide-sensitive-logs-stable/queens," loop_control: label: ""{{ item.database_name }}""",,4,0
openstack%2Fopenstack-ansible-os_blazar~master~Id00f614fa662991186d6c277fa3869413a9febca,openstack/openstack-ansible-os_blazar,master,Id00f614fa662991186d6c277fa3869413a9febca,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:15:25.000000000,2019-06-19 20:57:56.000000000,2019-06-19 20:57:56.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-18 18:15:25.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/1db7b090ff411569afcd28cf3aac078a6d86d035', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Id00f614fa662991186d6c277fa3869413a9febca\n'}]",0,666101,1db7b090ff411569afcd28cf3aac078a6d86d035,7,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Id00f614fa662991186d6c277fa3869413a9febca
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/01/666101/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,1db7b090ff411569afcd28cf3aac078a6d86d035,openstack/openstack-ansible-tests/sync-tests, update_password: always, force: true,1,1
openstack%2Fopenstack-ansible-os_ironic~master~I486e29b7d0d0f6ffc403c4e6b25b95641a1691fc,openstack/openstack-ansible-os_ironic,master,I486e29b7d0d0f6ffc403c4e6b25b95641a1691fc,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:15:53.000000000,2019-06-19 20:51:01.000000000,2019-06-19 20:51:01.000000000,"[{'_account_id': 1004}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 18:15:53.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/9cd0e97dbc39ce374eb3c670867f870a365bda95', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I486e29b7d0d0f6ffc403c4e6b25b95641a1691fc\n'}]",0,666109,9cd0e97dbc39ce374eb3c670867f870a365bda95,7,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I486e29b7d0d0f6ffc403c4e6b25b95641a1691fc
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/09/666109/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,9cd0e97dbc39ce374eb3c670867f870a365bda95,openstack/openstack-ansible-tests/sync-tests, update_password: always, force: true,1,1
openstack%2Fkeystoneauth~master~I5a6d0b7b1e5c9fda4e16b107b026fac2b44a051f,openstack/keystoneauth,master,I5a6d0b7b1e5c9fda4e16b107b026fac2b44a051f,Cap bandit,MERGED,2019-06-19 16:36:20.000000000,2019-06-19 20:49:35.000000000,2019-06-19 20:49:35.000000000,"[{'_account_id': 2}, {'_account_id': 2903}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 16:36:20.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/b56a2a82d599ef0d6c3e1369b500cc7cbb8035e7', 'message': ""Cap bandit\n\nPin bandit to <1.6.0 because subsequent releases don't work for us.\n\nChange-Id: I5a6d0b7b1e5c9fda4e16b107b026fac2b44a051f\n""}]",0,666388,b56a2a82d599ef0d6c3e1369b500cc7cbb8035e7,7,4,1,8482,,,0,"Cap bandit

Pin bandit to <1.6.0 because subsequent releases don't work for us.

Change-Id: I5a6d0b7b1e5c9fda4e16b107b026fac2b44a051f
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/88/666388/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,b56a2a82d599ef0d6c3e1369b500cc7cbb8035e7,fix-bandit,"bandit<1.6.0,>=1.1.0 # Apache-2.0","bandit!=1.6.0,>=1.1.0 # Apache-2.0",1,1
openstack%2Fgoal-tools~master~I836609ed663de62ce92c9f5ada93acde52ef5941,openstack/goal-tools,master,I836609ed663de62ce92c9f5ada93acde52ef5941,Ignore invalid stories in import-goal,ABANDONED,2018-09-04 17:52:49.000000000,2019-06-19 20:45:54.000000000,,"[{'_account_id': 6873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-04 17:52:49.000000000', 'files': ['goal_tools/storyboard.py'], 'web_link': 'https://opendev.org/openstack/goal-tools/commit/d0aaf57a81cde752da4ac19a30154ed13bd3069e', 'message': 'Ignore invalid stories in import-goal\n\nIf --separate-stories and --story are not specified\nwith import-goal, the command attempts to lookup existing\nstories with the same goal title and will re-use the first\none found to create tasks for the goal.\n\nThis change filters out invalid stories during the find_story\nroutine since invalid stories are likely invalid for a reason\nand should not be re-used for creating new goal tasks.\n\nChange-Id: I836609ed663de62ce92c9f5ada93acde52ef5941\nStory: 2003656\nTask: 26117\n'}]",0,599722,d0aaf57a81cde752da4ac19a30154ed13bd3069e,4,2,1,6873,,,0,"Ignore invalid stories in import-goal

If --separate-stories and --story are not specified
with import-goal, the command attempts to lookup existing
stories with the same goal title and will re-use the first
one found to create tasks for the goal.

This change filters out invalid stories during the find_story
routine since invalid stories are likely invalid for a reason
and should not be re-used for creating new goal tasks.

Change-Id: I836609ed663de62ce92c9f5ada93acde52ef5941
Story: 2003656
Task: 26117
",git fetch https://review.opendev.org/openstack/goal-tools refs/changes/22/599722/1 && git format-patch -1 --stdout FETCH_HEAD,['goal_tools/storyboard.py'],1,d0aaf57a81cde752da4ac19a30154ed13bd3069e,story/2003656, # Ignore invalid stories - they are likely invalid for a reason # and we should create a new story rather than create tasks # under an invalid story. if story.status.lower() != 'invalid': LOG.info('found existing story {}'.format(story.id)) return story, LOG.info('found existing story {}'.format(story.id)) return story,6,2
openstack%2Fnova~master~Iddd742791d83e3bef834f996ec1001d6003f803b,openstack/nova,master,Iddd742791d83e3bef834f996ec1001d6003f803b,Add a warnings filter for inspect.getargspec usage,ABANDONED,2018-04-25 21:01:58.000000000,2019-06-19 20:45:15.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2018-04-25 21:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/afc31908bf139f6f33591157a7dc5ae289fd4ee3', 'message': 'Add a warnings filter for inspect.getargspec usage\n\nThis adds a warnings filter to the WarningsFixture\nsuch that any use of the deprecated inspect.getargspec\nwill result in an error to avoid new usage.\n\nChange-Id: Iddd742791d83e3bef834f996ec1001d6003f803b\nRelated-Bug: #1766919\n'}, {'number': 2, 'created': '2018-04-26 11:55:41.000000000', 'files': ['nova/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a58b5dc1058465757aeef519ca0ada484ef72a2f', 'message': 'Add a warnings filter for inspect.getargspec usage\n\nThis adds a warnings filter to the WarningsFixture\nsuch that any use of the deprecated inspect.getargspec\nwill result in an error to avoid new usage.\n\nChange-Id: Iddd742791d83e3bef834f996ec1001d6003f803b\nRelated-Bug: #1766919\n'}]",0,564343,a58b5dc1058465757aeef519ca0ada484ef72a2f,25,10,2,6873,,,0,"Add a warnings filter for inspect.getargspec usage

This adds a warnings filter to the WarningsFixture
such that any use of the deprecated inspect.getargspec
will result in an error to avoid new usage.

Change-Id: Iddd742791d83e3bef834f996ec1001d6003f803b
Related-Bug: #1766919
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/564343/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures.py'],1,afc31908bf139f6f33591157a7dc5ae289fd4ee3,bug/1766919,"import six if six.PY3: # NOTE(mriedem): inspect.getargspec is deprecated in py2 and # replaced with inspect.signature in py3. New usage of # inspect.getargspec should result in a test failure so we make it # fatal here. warnings.filterwarnings( 'error', message='^inspect.getargspec\(\) is deprecated.*')",,8,0
openstack%2Fnova~master~I6b48f1917fa6f6348dc0e3b70ec156f5551155a5,openstack/nova,master,I6b48f1917fa6f6348dc0e3b70ec156f5551155a5,WIP: Update instance mapping as soon as instance is created in cell,ABANDONED,2018-07-27 21:44:19.000000000,2019-06-19 20:43:36.000000000,,"[{'_account_id': 1004}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-07-27 21:44:19.000000000', 'files': ['nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/41c7cb7a19747c308b881205b4af6e30eadcbcd7', 'message': 'WIP: Update instance mapping as soon as instance is created in cell\n\nAs soon as we create an instance in a cell, we should update the\ninstance mapping for that instance otherwise we could hit failures\nin between the time the instance is created in the cell and the\ninstance mapping is updated, which would leave the instance mapping\nnot pointing at any cell even though the instance is created in a\ncell and therefore a user could see it when listing instances (which\niterate the cells directly) but not actually perform any actions on\nit, except delete - but even then delete would just delete the build\nrequest and leave the instance orphaned in the cell (since the related\ninstance mapping is not pointing at the cell).\n\nChange-Id: I6b48f1917fa6f6348dc0e3b70ec156f5551155a5\nCloses-Bug: #1784074\n'}]",8,586713,41c7cb7a19747c308b881205b4af6e30eadcbcd7,21,17,1,6873,,,0,"WIP: Update instance mapping as soon as instance is created in cell

As soon as we create an instance in a cell, we should update the
instance mapping for that instance otherwise we could hit failures
in between the time the instance is created in the cell and the
instance mapping is updated, which would leave the instance mapping
not pointing at any cell even though the instance is created in a
cell and therefore a user could see it when listing instances (which
iterate the cells directly) but not actually perform any actions on
it, except delete - but even then delete would just delete the build
request and leave the instance orphaned in the cell (since the related
instance mapping is not pointing at the cell).

Change-Id: I6b48f1917fa6f6348dc0e3b70ec156f5551155a5
Closes-Bug: #1784074
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/586713/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conductor/manager.py'],1,41c7cb7a19747c308b881205b4af6e30eadcbcd7,bug/1784074," try: # Update the cell mapping now that we've created the # instance in a cell. If anything goes wrong here, we # need to try and delete the instance in the cell # otherwise it could be orphaned. inst_mapping = ( objects.InstanceMapping.get_by_instance_uuid( context, instance.uuid)) inst_mapping.cell_mapping = cell inst_mapping.save() except Exception: LOG.exception('Instance was created in cell %s ' 'but failed to update instance mapping; ' 'attempting to rollback instance in ' 'cell.', cell.identity, instance=instance) with excutils.save_and_reraise_exception(): instance.destroy() # TODO(mriedem): Do we need to do anything else? # Update the build request to mark it in ERROR # state? instances.append(instance) cell_mapping_cache[instance.uuid] = cell"," instances.append(instance) cell_mapping_cache[instance.uuid] = cell # Update mapping for instance. Normally this check is guarded by # a try/except but if we're here we know that a newer nova-api # handled the build process and would have created the mapping inst_mapping = objects.InstanceMapping.get_by_instance_uuid( context, instance.uuid) inst_mapping.cell_mapping = cell inst_mapping.save() # TODO(mnaser): The cell mapping should already be populated by # this point to avoid setting it below here. inst_mapping = objects.InstanceMapping.get_by_instance_uuid( context, instance.uuid) inst_mapping.cell_mapping = cell inst_mapping.save() ",23,17
openstack%2Fopenstack-helm-infra~master~I8f76a6f0f4105d47efbc562d190f2eabf51764c1,openstack/openstack-helm-infra,master,I8f76a6f0f4105d47efbc562d190f2eabf51764c1,[Ceph]: Remove duplicate values,MERGED,2019-06-19 16:43:02.000000000,2019-06-19 20:39:48.000000000,2019-06-19 20:39:47.000000000,"[{'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-06-19 16:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c3efa79f6bd3e873c9cf96362cea608b7d038cbc', 'message': '[Ceph]: Remove duplicate values\n\nsecret_keystone_rgw is defined twice in\nsame section 548 and 550 Lines.\n\nChange-Id: I8f76a6f0f4105d47efbc562d190f2eabf51764c1\n'}, {'number': 2, 'created': '2019-06-19 16:45:07.000000000', 'files': ['ceph-rgw/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d1964b7b384c3d072846e124faf929e9ba4d6d1b', 'message': '[Ceph]: Remove duplicate values\n\nsecret_keystone_rgw is defined twice in\nsame section in lines 548 and 550.\n\nChange-Id: I8f76a6f0f4105d47efbc562d190f2eabf51764c1\n'}]",0,666392,d1964b7b384c3d072846e124faf929e9ba4d6d1b,10,8,2,29132,,,0,"[Ceph]: Remove duplicate values

secret_keystone_rgw is defined twice in
same section in lines 548 and 550.

Change-Id: I8f76a6f0f4105d47efbc562d190f2eabf51764c1
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/92/666392/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-rgw/values.yaml'],1,c3efa79f6bd3e873c9cf96362cea608b7d038cbc,,, secret_keystone_rgw: true,0,1
openstack%2Fnova~master~Id559e8e347156e8303e2cd9e7682e396e518e543,openstack/nova,master,Id559e8e347156e8303e2cd9e7682e396e518e543,Handle broken instance mapping in InstanceLister,ABANDONED,2018-06-14 22:01:38.000000000,2019-06-19 20:35:00.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-06-14 22:01:38.000000000', 'files': ['nova/compute/instance_list.py', 'nova/tests/functional/compute/test_instance_list.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d6b8035d39df62ecbedf8c26f610204a60bb8aec', 'message': 'Handle broken instance mapping in InstanceLister\n\nIf for whatever reason we are listing instances with\na marker instance that is not a build request but whose\ninstance mapping does not have a cell mapping, we need\nto handle it explicitly and fail, leaving a breadcrumb\nfor the operator to investigate, rather than a confusing\n""marker not found"" error for the user.\n\nInstances are represented in the API via build requests\nbefore the scheduler picks a host and the instance is created\nin the cell for that host. Once that is done, the instance\nmapping for the instance is updated with the cell and the\nbuild request is deleted. If the instance fails to schedule,\nit is created in cell0 but the same rules apply.\n\nIf we failed to update the instance mapping with the cell\nand the build request is gone, or we ignored it for some\nreason while listing instances, we need to bail early with\nan internal error message.\n\nChange-Id: Id559e8e347156e8303e2cd9e7682e396e518e543\nPartial-Bug: #1773945\n'}]",4,575556,d6b8035d39df62ecbedf8c26f610204a60bb8aec,15,11,1,6873,,,0,"Handle broken instance mapping in InstanceLister

If for whatever reason we are listing instances with
a marker instance that is not a build request but whose
instance mapping does not have a cell mapping, we need
to handle it explicitly and fail, leaving a breadcrumb
for the operator to investigate, rather than a confusing
""marker not found"" error for the user.

Instances are represented in the API via build requests
before the scheduler picks a host and the instance is created
in the cell for that host. Once that is done, the instance
mapping for the instance is updated with the cell and the
build request is deleted. If the instance fails to schedule,
it is created in cell0 but the same rules apply.

If we failed to update the instance mapping with the cell
and the build request is gone, or we ignored it for some
reason while listing instances, we need to bail early with
an internal error message.

Change-Id: Id559e8e347156e8303e2cd9e7682e396e518e543
Partial-Bug: #1773945
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/575556/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/instance_list.py', 'nova/tests/functional/compute/test_instance_list.py']",2,d6b8035d39df62ecbedf8c26f610204a60bb8aec,bug/1773945,"import six cell_mapping=self.cells[0]) def test_get_sorted_with_null_cell_mapping(self): """"""Tests an internal error scenario where the instance has a mapping but not a cell mapping. """""" im = objects.InstanceMapping( self.context, instance_uuid=uuids.missing, project_id=self.context.project_id, user_id=self.context.user_id, cell_mapping=None) im.create() ex = self.assertRaises( exception.NovaException, list, instance_list.get_instances_sorted( self.context, {}, None, uuids.missing, [], None, None)) self.assertIn('An internal error occurred while listing instances ' 'using marker', six.text_type(ex)) ", cell=self.cells[0]),55,1
openstack%2Fopenstack-helm~master~I359fcc239610df9e78ed0d490706673f37034936,openstack/openstack-helm,master,I359fcc239610df9e78ed0d490706673f37034936,Fixed wrong path to the value,MERGED,2019-06-19 07:33:07.000000000,2019-06-19 20:32:24.000000000,2019-06-19 20:32:24.000000000,"[{'_account_id': 6593}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17068}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-19 07:33:07.000000000', 'files': ['glance/templates/deployment-registry.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2d754adf212476e9752f09626123e9571a6e5941', 'message': 'Fixed wrong path to the value\n\nApparently there was a copy & paste bug introduced in https://review.opendev.org/#/c/665750/\n\nChange-Id: I359fcc239610df9e78ed0d490706673f37034936\n'}]",0,666237,2d754adf212476e9752f09626123e9571a6e5941,9,7,1,9963,,,0,"Fixed wrong path to the value

Apparently there was a copy & paste bug introduced in https://review.opendev.org/#/c/665750/

Change-Id: I359fcc239610df9e78ed0d490706673f37034936
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/37/666237/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/templates/deployment-registry.yaml'],1,2d754adf212476e9752f09626123e9571a6e5941,fix-glance-setup, {{- if .Values.conf.glance.DEFAULT.log_config_append }}, {{- if .Values.conf.congress.DEFAULT.log_config_append }},1,1
openstack%2Fhorizon~master~Iadb6ba54262f2848933fc0c7bf547b2c6458e82b,openstack/horizon,master,Iadb6ba54262f2848933fc0c7bf547b2c6458e82b,Change the way of verifying field cidr,MERGED,2019-06-13 07:48:32.000000000,2019-06-19 20:20:22.000000000,2019-06-19 20:20:21.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27738}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-06-13 07:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c9848b735c448c8a358c385ad89dcc4f204b3352', 'message': ""Change the way of verifying field cidr\n\nIf don't choice 'Create Subnet', the subnet section will not show,\nbut form is blocked by validation of field cidr is required, set\nrequired to false and using conditional statement to determine.\n\nChange-Id: Iadb6ba54262f2848933fc0c7bf547b2c6458e82b\n""}, {'number': 2, 'created': '2019-06-14 05:13:02.000000000', 'files': ['openstack_dashboard/dashboards/project/networks/workflows.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/26146458ea63efa1e9615cb571099d274d66e20f', 'message': ""Change the way of verifying field cidr\n\nIf don't choice 'Create Subnet', the subnet section will not show,\nbut form is blocked by validation of field cidr is required, set\nrequired to false and using conditional statement to determine.\n\nCloses-Bug: #1832804\n\nChange-Id: Iadb6ba54262f2848933fc0c7bf547b2c6458e82b\n""}]",2,665085,26146458ea63efa1e9615cb571099d274d66e20f,11,5,2,27738,,,0,"Change the way of verifying field cidr

If don't choice 'Create Subnet', the subnet section will not show,
but form is blocked by validation of field cidr is required, set
required to false and using conditional statement to determine.

Closes-Bug: #1832804

Change-Id: Iadb6ba54262f2848933fc0c7bf547b2c6458e82b
",git fetch https://review.opendev.org/openstack/horizon refs/changes/85/665085/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/networks/workflows.py'],1,c9848b735c448c8a358c385ad89dcc4f204b3352,bug/1832804," required=False, if not cidr and address_source != 'subnetpool': msg = _('Specify ""Network Address"" or ' 'clear ""Create Subnet"" checkbox in previous step.') raise forms.ValidationError(msg)",,5,0
openstack%2Ftripleo-ansible~master~I5c1a5b600f1d77b1375e9c4ed3cbabccf3196c17,openstack/tripleo-ansible,master,I5c1a5b600f1d77b1375e9c4ed3cbabccf3196c17,Re-organize zuul config,MERGED,2019-06-19 16:56:19.000000000,2019-06-19 20:14:38.000000000,2019-06-19 20:14:38.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 16:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/732f36829e4c9791fac36048917f85d4bfbf6fee', 'message': ""Re-organize zuul config\n\nTo simplify the configuration, let's move the molecule jobs to their own\nfile and leverage a template for inclusion into the main zuul config.\n\nChange-Id: I5c1a5b600f1d77b1375e9c4ed3cbabccf3196c17\n""}, {'number': 2, 'created': '2019-06-19 17:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a61a7dc2b2235f62b28dca0019d551135be08c4c', 'message': ""Re-organize zuul config\n\nTo simplify the configuration, let's move the molecule jobs to their own\nfile and leverage a template for inclusion into the main zuul config.\n\nChange-Id: I5c1a5b600f1d77b1375e9c4ed3cbabccf3196c17\n""}, {'number': 3, 'created': '2019-06-19 17:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0161c2c1bccc7b2f93045e28bffec7bed0febc0a', 'message': ""Re-organize zuul config\n\nTo simplify the configuration, let's move the molecule jobs to their own\nfile and leverage a template for inclusion into the main zuul config.\n\nChange-Id: I5c1a5b600f1d77b1375e9c4ed3cbabccf3196c17\n""}, {'number': 4, 'created': '2019-06-19 17:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/111f1406e5a429c182def15ea8e00a1d3ebe14f4', 'message': ""Re-organize zuul config\n\nTo simplify the configuration, let's move the molecule jobs to their own\nfile and leverage a template for inclusion into the main zuul config.\n\nChange-Id: I5c1a5b600f1d77b1375e9c4ed3cbabccf3196c17\n""}, {'number': 5, 'created': '2019-06-19 17:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3bcbab469ee25577a341d18d2154ccc9970b761b', 'message': ""Re-organize zuul config\n\nTo simplify the configuration, let's move the molecule jobs to their own\nfile and leverage a template for inclusion into the main zuul config.\n\nChange-Id: I5c1a5b600f1d77b1375e9c4ed3cbabccf3196c17\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 6, 'created': '2019-06-19 17:52:12.000000000', 'files': ['zuul.d/molecule.yaml', '.yamllint', 'role-addition.yml', 'zuul.d/base.yaml', 'zuul.d/layout.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/eb3dd70fc9f6af1c2077423639d50873b227c3fa', 'message': ""Re-organize zuul config\n\nTo simplify the configuration, let's move the molecule jobs to their own\nfile and leverage a template for inclusion into the main zuul config.\n\nChange-Id: I5c1a5b600f1d77b1375e9c4ed3cbabccf3196c17\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",2,666399,eb3dd70fc9f6af1c2077423639d50873b227c3fa,18,4,6,14985,,,0,"Re-organize zuul config

To simplify the configuration, let's move the molecule jobs to their own
file and leverage a template for inclusion into the main zuul config.

Change-Id: I5c1a5b600f1d77b1375e9c4ed3cbabccf3196c17
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/99/666399/5 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'role-addition.yml', 'zuul.d/base.yaml', 'zuul.d/layout.yaml', 'zuul.d/jobs.yaml']",5,732f36829e4c9791fac36048917f85d4bfbf6fee,fixup-ci,,--- - job: name: tripleo-ansible-centos parent: tox-molecule description: Basic tripleo-ansible tox job timeout: 900 nodeset: centos-7 voting: true - job: name: tripleo-ansible-docs parent: openstack-tox-docs files: - ^tripleo_ansible/doc/.* - ^tripleo_ansible/README.rst - job: name: tripleo-ansible-centos-7-molecule-aide parent: tripleo-ansible-centos files: - ^tripleo_ansible/roles/aide/.* vars: tox_envlist: mol-aide - job: name: tripleo-ansible-centos-7-molecule-test_deps parent: tripleo-ansible-centos files: - ^tripleo_ansible/roles/test_deps/.* vars: tox_envlist: mol-test_deps - job: name: tripleo-ansible-centos-7-molecule-test_package_action parent: tripleo-ansible-centos files: - ^tripleo_ansible/roles/test_package_action/.* - ^tripleo-ansible/tripleo_ansible/ansible_plugins/action/package.py vars: tox_envlist: mol-test_package_action - job: name: tripleo-ansible-centos-7-molecule-tuned parent: tripleo-ansible-centos description: | Run molecule tests. Uses tox with the ``mol-tuned`` environment. voting: true files: - ^tripleo_ansible/roles/tuned/.* vars: tox_envlist: mol-tuned ,89,86
openstack%2Fopenstack-helm~master~I3451c44a30a2e3d4bb58d2ac512e69da0781e961,openstack/openstack-helm,master,I3451c44a30a2e3d4bb58d2ac512e69da0781e961,Sync Sphinx requirement,MERGED,2019-06-19 09:50:35.000000000,2019-06-19 20:13:11.000000000,2019-06-19 20:13:11.000000000,"[{'_account_id': 8898}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-19 09:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/82a7f520cec93a8395230085390e674fdc3358db', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Remove unncessary ""==""\n\nChange-Id: I3451c44a30a2e3d4bb58d2ac512e69da0781e961\n'}, {'number': 2, 'created': '2019-06-19 09:52:51.000000000', 'files': ['doc/source/testing/ceph-resiliency/host-failure.rst', 'doc/requirements.txt', 'doc/source/install/plugins/deploy-tap-as-a-service-neutron-plugin.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4fd741d6bf5558d02df555e80e824448e343420d', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Remove unncessary ""==""\n\nChange-Id: I3451c44a30a2e3d4bb58d2ac512e69da0781e961\n'}]",0,666255,4fd741d6bf5558d02df555e80e824448e343420d,9,4,2,28614,,,0,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Remove unncessary ""==""

Change-Id: I3451c44a30a2e3d4bb58d2ac512e69da0781e961
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/55/666255/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/testing/ceph-resiliency/host-failure.rst', 'doc/source/specs/fluentbit-fluentd-architecture.rst', 'doc/requirements.txt', 'doc/source/install/plugins/deploy-tap-as-a-service-neutron-plugin.rst']",4,82a7f520cec93a8395230085390e674fdc3358db,,====================================================================,=========================================================================,8,6
openstack%2Ftripleo-heat-templates~master~Ibbb4548f4cd5ea72a20bc1b0b7073cfb14be2068,openstack/tripleo-heat-templates,master,Ibbb4548f4cd5ea72a20bc1b0b7073cfb14be2068,Remove duplicate mount destinations in containers,MERGED,2019-06-19 05:10:31.000000000,2019-06-19 20:12:55.000000000,2019-06-19 20:01:53.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 13861}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 28223}, {'_account_id': 30598}]","[{'number': 1, 'created': '2019-06-19 05:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/19a842c41d738f595d1fa3fb00523447c525a958', 'message': 'Remove duplicate mount destination in neutron_ovs_bridge\n\nChange-Id: Ibbb4548f4cd5ea72a20bc1b0b7073cfb14be2068\nCloses-Bug: #1833347\n'}, {'number': 2, 'created': '2019-06-19 06:11:51.000000000', 'files': ['deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b6c88a99aaefb5b89ec04f4c85e131d559c575bc', 'message': 'Remove duplicate mount destinations in containers\n\nChange-Id: Ibbb4548f4cd5ea72a20bc1b0b7073cfb14be2068\nCloses-Bug: #1833347\n'}]",0,666220,b6c88a99aaefb5b89ec04f4c85e131d559c575bc,26,13,2,8833,,,0,"Remove duplicate mount destinations in containers

Change-Id: Ibbb4548f4cd5ea72a20bc1b0b7073cfb14be2068
Closes-Bug: #1833347
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/666220/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-ovs-agent-container-puppet.yaml'],1,19a842c41d738f595d1fa3fb00523447c525a958,bug/1833347,, - /etc/puppet:/etc/puppet:ro,0,1
openstack%2Fswift~master~I8d6f66dfe846493972e433f70bad76a33d204562,openstack/swift,master,I8d6f66dfe846493972e433f70bad76a33d204562,Fix up how we memcache on py3,MERGED,2019-05-30 01:14:51.000000000,2019-06-19 20:09:56.000000000,2019-06-19 20:08:40.000000000,"[{'_account_id': 597}, {'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-05-30 01:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5d3f4fdbc1265035f70b3815495892a48924a8c3', 'message': 'WIP: fix up how we memcache on py3\n\nPreviously, we stored the WSGI strings in memcached and returned them when\nresponding to get_account/container_info calls. This would lead to cache\ncorruption in a heterogenous py2/py3 cluster such as you would have during\na rolling upgrade.\n\nNow, only store and return native strings.\n\nSeparately, work around https://bugs.python.org/issue37093 which would\ntruncate headers, for example, on existing containers with metadata like\n\n    X-Container-Meta-: \n\nChange-Id: I8d6f66dfe846493972e433f70bad76a33d204562\n'}, {'number': 2, 'created': '2019-05-31 19:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2c505cf0ff9176625af16ccb357158902c898080', 'message': 'Fix up how we memcache on py3\n\nPreviously, we stored the WSGI strings in memcached and returned them when\nresponding to get_account/container_info calls. This would lead to cache\ncorruption in a heterogenous py2/py3 cluster such as you would have during\na rolling upgrade.\n\nNow, only store and return native strings.\n\nChange-Id: I8d6f66dfe846493972e433f70bad76a33d204562\n'}, {'number': 3, 'created': '2019-06-06 18:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/46b07a3c1c292090c29f94413d740d3f3b0a2444', 'message': 'Fix up how we memcache on py3\n\nPreviously, we stored the WSGI strings in memcached and returned them when\nresponding to get_account/container_info calls. This would lead to cache\ncorruption in a heterogenous py2/py3 cluster such as you would have during\na rolling upgrade.\n\nNow, only store and return native strings.\n\nChange-Id: I8d6f66dfe846493972e433f70bad76a33d204562\n'}, {'number': 4, 'created': '2019-06-13 16:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7da78db66f6c6ea2facdb15c671dcfc604dcd79d', 'message': 'Fix up how we memcache on py3\n\nPreviously, we stored the WSGI strings in memcached and returned them when\nresponding to get_account/container_info calls. This would lead to cache\ncorruption in a heterogenous py2/py3 cluster such as you would have during\na rolling upgrade.\n\nNow, only store and return native strings.\n\nChange-Id: I8d6f66dfe846493972e433f70bad76a33d204562\n'}, {'number': 5, 'created': '2019-06-14 15:21:25.000000000', 'files': ['swift/common/memcached.py', 'test/unit/common/test_memcached.py', 'test/unit/proxy/controllers/test_base.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ef8818a6399e295ebf0dc891ef483e4840a61475', 'message': 'Fix up how we memcache on py3\n\nPreviously, we stored the WSGI strings in memcached and returned them when\nresponding to get_account/container_info calls. This would lead to cache\ncorruption in a heterogenous py2/py3 cluster such as you would have during\na rolling upgrade.\n\nNow, only store and return native strings.\n\nChange-Id: I8d6f66dfe846493972e433f70bad76a33d204562\n'}]",6,662115,ef8818a6399e295ebf0dc891ef483e4840a61475,39,6,5,15343,,,0,"Fix up how we memcache on py3

Previously, we stored the WSGI strings in memcached and returned them when
responding to get_account/container_info calls. This would lead to cache
corruption in a heterogenous py2/py3 cluster such as you would have during
a rolling upgrade.

Now, only store and return native strings.

Change-Id: I8d6f66dfe846493972e433f70bad76a33d204562
",git fetch https://review.opendev.org/openstack/swift refs/changes/15/662115/4 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/memcached.py', 'swift/common/bufferedhttp.py', 'swift/proxy/controllers/base.py']",3,5d3f4fdbc1265035f70b3815495892a48924a8c3,py3-tempurl," lkey = wsgi_to_str(key).lower() val = wsgi_to_str(val) :returns: a (native) string cache_key if six.PY2: def to_native(s): if s is None or isinstance(s, str): return s return s.encode('utf8') else: def to_native(s): if s is None or isinstance(s, str): return s return s.decode('utf8', 'surrogateescape') account = to_native(account) container = to_native(container) obj = to_native(obj)", lkey = key.lower() :returns: a string cache_key,67,3
openstack%2Ftripleo-upgrade~master~Ided7f974c571c45ab83a59c6dd35ad522555caa3,openstack/tripleo-upgrade,master,Ided7f974c571c45ab83a59c6dd35ad522555caa3,Automate the undercloud leapp upgrade.,MERGED,2019-05-24 14:22:11.000000000,2019-06-19 20:01:54.000000000,2019-06-19 20:01:54.000000000,"[{'_account_id': 8042}, {'_account_id': 8532}, {'_account_id': 11090}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 25403}, {'_account_id': 26343}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-05-24 14:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2d9ec63f2609f967dc1ba35a5fecb08b69c71292', 'message': 'WIP: Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<natal@redhat.com>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 2, 'created': '2019-05-24 14:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/68093cbf2581398bb5ce021b78fae6fc008963e8', 'message': 'WIP: Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 3, 'created': '2019-05-24 14:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7a165e9ab575d34d691cff87da775c04a5628ac9', 'message': 'WIP: Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 4, 'created': '2019-05-24 15:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/33fe4d3ad6a39ce702178f4b8f590e59658b67c3', 'message': 'WIP: Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 5, 'created': '2019-05-27 12:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/31cba98a2e7e39f2191971fc1d1b03bc7ba6a79d', 'message': 'Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 6, 'created': '2019-05-27 12:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/19ead44a1f9e213e0c3645b676ea0485ade5d397', 'message': 'Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 7, 'created': '2019-05-27 14:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b8a79403103cc2c314eac8e4981c6d33a9804e80', 'message': 'Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 8, 'created': '2019-05-28 06:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/20564ff844ef94b574a16afa44bec786bb932d37', 'message': 'Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 9, 'created': '2019-05-28 06:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/81878545d7fc5109099b242e55c54fb500a8c228', 'message': 'Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 10, 'created': '2019-05-28 08:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/07b59a9f08c362aa1cf2f2ec8b1a06314aedbb2a', 'message': 'Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 11, 'created': '2019-05-28 09:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/981f044ce09e08994809bc97f1235b27b5b93fbd', 'message': 'Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 12, 'created': '2019-05-28 10:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b5317f36f3d5d1f83f2f0eb01ad04c8324075016', 'message': 'Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 13, 'created': '2019-05-28 13:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b0b1a5061e479b6fb10e4231825d2580d9b51aeb', 'message': 'Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 14, 'created': '2019-05-28 13:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3988feff9ac00942c6f30801732432237817153a', 'message': 'Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 15, 'created': '2019-05-28 13:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/07dc73d949ed3b7c7eabc26e3614670859f06d38', 'message': 'Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 16, 'created': '2019-05-28 14:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6879217d475b0d6f827d84a478cf51b3928e1d6e', 'message': 'Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 17, 'created': '2019-05-29 14:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3c20848fd62caf946fbef3cdf709944ec90cdb88', 'message': 'Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 18, 'created': '2019-06-03 14:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1dd499aad7ca7b5a1803a519018e5c4b973c3d39', 'message': 'Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 19, 'created': '2019-06-04 07:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5f029ba353b424db30a4c06f4a1ee5152c48390b', 'message': 'Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 20, 'created': '2019-06-04 08:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7dbfcb30071538a6807a5bfd3ee3db0cae277c93', 'message': 'Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 21, 'created': '2019-06-04 10:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f9433644c84cce04861315f5535d9457188032c0', 'message': 'Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 22, 'created': '2019-06-06 12:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/48b27f83c67251d27fe46cc1c5d87ac75b54fa05', 'message': 'Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 23, 'created': '2019-06-06 12:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/634330e4622c5cb1b2d4cb5035e88d59d657ac45', 'message': 'Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 24, 'created': '2019-06-06 12:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c30bd3eaf4bdb423f1719c668e1113b9aa6b5cfc', 'message': 'Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 25, 'created': '2019-06-07 12:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f9e6f22876650fc49d84d7dc29160ffc5c2883ae', 'message': 'Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 26, 'created': '2019-06-10 10:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3cfcac6033bb77a57a27f46206ee21f7c905fceb', 'message': 'Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 27, 'created': '2019-06-12 07:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c2bbf1d52ee065bd407f1b69ee72903c3deb91f5', 'message': 'Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 28, 'created': '2019-06-12 08:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4d9430330b1ad2fdc6faa0194d500858b4675eed', 'message': 'Automate the undercloud leapp upgrade.\n\nThis patch subscribes the node using the redhat_subscription\nmodule and install the needed bits for leapp to work, followed\nby the execution of Leapp to perform the operating system\nupgrade in the undercloud.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n'}, {'number': 29, 'created': '2019-06-12 08:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4a9aa82c6a978404383b868dc3596be95696c7e7', 'message': ""Automate the undercloud leapp upgrade.\n\nThis patch covers the automation of the undercloud's operating\nsystem upgrade using Leapp.\nIt includes a new option for Infrared --undercloud_os_upgrade\nthat will allow us to run only the specific bits to upgrade the\nundercloud's OS. The node subscription needs to be done before\nrunning this set of tasks, otherwise it will fail.\n\nOnce the whole leapp upgrade and reboot has been performed, the\nundercloud might be unsubscribed if desired by setting the\nleapp_unregister variable.\n\nDue to the incompatibility of the python2 binary interpreter and\nrhel8, we also need to set the ansible_python_interpreter variable\nat playbook level inside infrared-plugin/main.yml.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n""}, {'number': 30, 'created': '2019-06-13 11:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/664007cee2ce7557cc11ca999b9e1ff618b4bc82', 'message': ""Automate the undercloud leapp upgrade.\n\nThis patch covers the automation of the undercloud's operating\nsystem upgrade using Leapp.\nIt includes a new option for Infrared --undercloud_os_upgrade\nthat will allow us to run only the specific bits to upgrade the\nundercloud's OS. The node subscription needs to be done before\nrunning this set of tasks, otherwise it will fail.\n\nOnce the whole leapp upgrade and reboot has been performed, the\nundercloud might be unsubscribed if desired by setting the\nleapp_unregister variable.\n\nDue to the incompatibility of the python2 binary interpreter and\nrhel8, we also need to set the ansible_python_interpreter variable\nat playbook level inside infrared-plugin/main.yml.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n""}, {'number': 31, 'created': '2019-06-14 12:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/34d9bcbb84e6b21a7832b224d1069d9843f27ea3', 'message': ""Automate the undercloud leapp upgrade.\n\nThis patch covers the automation of the undercloud's operating\nsystem upgrade using Leapp.\nIt includes a new option for Infrared --undercloud_os_upgrade\nthat will allow us to run only the specific bits to upgrade the\nundercloud's OS. The node subscription needs to be done before\nrunning this set of tasks, otherwise it will fail.\n\nBefore running leapp it's needed to clean up all the RHEL7\npackages and some other packages which conflict with leapp, like\nis the case of rhos-release.\n\nOnce the whole leapp upgrade and reboot has been performed, the\nundercloud might be unsubscribed if desired by setting the\nleapp_unregister variable.\n\nDue to the incompatibility of the python2 binary interpreter and\nRHEL8, we also need to set the ansible_python_interpreter variable\nat playbook level inside infrared-plugin/main.yml.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n""}, {'number': 32, 'created': '2019-06-14 13:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a6b135cfc4c471da58258452029b25379a8e7201', 'message': ""Automate the undercloud leapp upgrade.\n\nThis patch covers the automation of the undercloud's operating\nsystem upgrade using Leapp.\nIt includes a new option for Infrared --undercloud_os_upgrade\nthat will allow us to run only the specific bits to upgrade the\nundercloud's OS. The node subscription needs to be done before\nrunning this set of tasks, otherwise it will fail.\n\nBefore running leapp it's needed to clean up all the RHEL7\npackages and some other packages which conflict with leapp, like\nis the case of rhos-release.\n\nOnce the whole leapp upgrade and reboot has been performed, the\nundercloud might be unsubscribed if desired by setting the\nleapp_unregister variable.\n\nDue to the incompatibility of the python2 binary interpreter and\nRHEL8, we also need to set the ansible_python_interpreter variable\nat playbook level inside infrared-plugin/main.yml.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n""}, {'number': 33, 'created': '2019-06-17 10:47:38.000000000', 'files': ['templates/workarounds.sh.j2', 'tasks/main.yml', 'tasks/common/undercloud_validate_upgrade.yaml', 'tasks/upgrade/undercloud_os_upgrade.yaml', 'tasks/common/undercloud_reboot.yaml', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'tasks/upgrade/main.yml', 'tasks/upgrade/create-undercloud-upgrade-scripts.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7063b476f8744ab21f79de33e2127119a195c832', 'message': ""Automate the undercloud leapp upgrade.\n\nThis patch covers the automation of the undercloud's operating\nsystem upgrade using Leapp.\nIt includes a new option for Infrared --undercloud_os_upgrade\nthat will allow us to run only the specific bits to upgrade the\nundercloud's OS. The node subscription needs to be done before\nrunning this set of tasks, otherwise it will fail.\n\nBefore running leapp it's needed to clean up all the RHEL7\npackages and some other packages which conflict with leapp, like\nis the case of rhos-release.\n\nOnce the whole leapp upgrade and reboot has been performed, the\nundercloud might be unsubscribed if desired by setting the\nleapp_unregister variable.\n\nDue to the incompatibility of the python2 binary interpreter and\nRHEL8, we also need to set the ansible_python_interpreter variable\nat playbook level inside infrared-plugin/main.yml.\n\nCo-Authored: Natal Ngtal<hobbestigrou@erakis.eu>\nChange-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3\n""}]",42,661302,7063b476f8744ab21f79de33e2127119a195c832,80,10,33,26343,,,0,"Automate the undercloud leapp upgrade.

This patch covers the automation of the undercloud's operating
system upgrade using Leapp.
It includes a new option for Infrared --undercloud_os_upgrade
that will allow us to run only the specific bits to upgrade the
undercloud's OS. The node subscription needs to be done before
running this set of tasks, otherwise it will fail.

Before running leapp it's needed to clean up all the RHEL7
packages and some other packages which conflict with leapp, like
is the case of rhos-release.

Once the whole leapp upgrade and reboot has been performed, the
undercloud might be unsubscribed if desired by setting the
leapp_unregister variable.

Due to the incompatibility of the python2 binary interpreter and
RHEL8, we also need to set the ansible_python_interpreter variable
at playbook level inside infrared-plugin/main.yml.

Co-Authored: Natal Ngtal<hobbestigrou@erakis.eu>
Change-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/02/661302/33 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/upgrade/undercloud_os_upgrade.yaml', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'tasks/upgrade/main.yml', 'defaults/main.yml']",6,2d9ec63f2609f967dc1ba35a5fecb08b69c71292,661302-patch26," # Leapp OS upgrade variables leapp_unregister: true leapp_rhsm_username: ""oamg_acc"" leapp_rhsm_password: ""oamg_redhat"" leapp_rhsm_activationkey: """" leapp_rhsm_orgid: """" leapp_rhsm_server_hostname: ""subscription.rhsm.stage.redhat.com"" leapp_rhsm_baseurl: ""https://cdn.stage.redhat.com"" leapp_rhsm_pool: ""^Red Hat Enterprise Linux"" leapp_rhsm_force_reg: false leapp_rhsm_method: ""portal""",,94,1
openstack%2Fopenstack-helm-infra~master~Ia92a8b64205ab52ad15237e9fdeaacb61aae6400,openstack/openstack-helm-infra,master,Ia92a8b64205ab52ad15237e9fdeaacb61aae6400,Ingress: add keepalived-router-id for keeplived vip,MERGED,2019-06-05 05:22:28.000000000,2019-06-19 19:50:02.000000000,2019-06-19 19:50:02.000000000,"[{'_account_id': 8181}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-05 05:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c6690fa6f354db4b67bf35dde7b5388315ad86f3', 'message': ""Ingress: add keepalived-router-id for keeplived vip\n\nWe have to specify keepalived's router_id for VRRP peering, especially\nwhen there are multiple keepaliveds.\n\nChange-Id: Ia92a8b64205ab52ad15237e9fdeaacb61aae6400\n""}, {'number': 2, 'created': '2019-06-05 06:44:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f4e861e68df0ed44371eb343c5c6e8f80a7fb931', 'message': ""Ingress: add keepalived-router-id for keeplived vip\n\nWhen there are multiple keepalived instances in same network space,\nequal keepalived router-ids cause conflict (now default router-id number\nis 100). So we have to specify keepalived's router_id for VRRP peering.\nThis commit make keepalived route-id configurable, so that we can\nprevent keepalived conflict caused by default keepalived router-id.\n\nChange-Id: Ia92a8b64205ab52ad15237e9fdeaacb61aae6400\n""}, {'number': 3, 'created': '2019-06-19 15:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d12729dfc7344ee9e56aeb1196f577dfcbe68df6', 'message': ""Ingress: add keepalived-router-id for keeplived vip\n\nWhen there are multiple keepalived instances in same network space,\nequal keepalived router-ids cause conflict (now default router-id number\nis 100). So we have to specify keepalived's router_id for VRRP peering.\nThis commit make keepalived route-id configurable, so that we can\nprevent keepalived conflict caused by default keepalived router-id.\n\nChange-Id: Ia92a8b64205ab52ad15237e9fdeaacb61aae6400\n""}, {'number': 4, 'created': '2019-06-19 18:06:04.000000000', 'files': ['ingress/templates/deployment-ingress.yaml', 'ingress/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9022c9237d32c2dc69e4a24aafac9a40610043b6', 'message': ""Ingress: add keepalived-router-id for keeplived vip\n\nWhen there are multiple keepalived instances in same network space,\nequal keepalived router-ids cause conflict (now default router-id number\nis 100). So we have to specify keepalived's router_id for VRRP peering.\nThis commit make keepalived route-id configurable, so that we can\nprevent keepalived conflict caused by default keepalived router-id.\n\nChange-Id: Ia92a8b64205ab52ad15237e9fdeaacb61aae6400\n""}]",0,663231,9022c9237d32c2dc69e4a24aafac9a40610043b6,23,6,4,21892,,,0,"Ingress: add keepalived-router-id for keeplived vip

When there are multiple keepalived instances in same network space,
equal keepalived router-ids cause conflict (now default router-id number
is 100). So we have to specify keepalived's router_id for VRRP peering.
This commit make keepalived route-id configurable, so that we can
prevent keepalived conflict caused by default keepalived router-id.

Change-Id: Ia92a8b64205ab52ad15237e9fdeaacb61aae6400
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/31/663231/1 && git format-patch -1 --stdout FETCH_HEAD,"['ingress/templates/deployment-ingress.yaml', 'ingress/values.yaml']",2,c6690fa6f354db4b67bf35dde7b5388315ad86f3,add-keepalived-router-id, keepalived_router_id: 100,,3,0
openstack%2Fnova~master~I5a543d5442748c39217078ff2145dab3d8a46d84,openstack/nova,master,I5a543d5442748c39217078ff2145dab3d8a46d84,Avoid up-call in get_instance_availability_zone,ABANDONED,2018-07-12 19:09:19.000000000,2019-06-19 19:47:16.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-12 19:09:19.000000000', 'files': ['doc/source/user/cellsv2-layout.rst', 'nova/availability_zones.py', 'nova/tests/unit/api/openstack/compute/test_extended_availability_zone.py', 'nova/tests/unit/test_availability_zones.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/87717e1a5d23aca4a66541134cc2333dd7bcac87', 'message': 'Avoid up-call in get_instance_availability_zone\n\nDuring boot from volume, if [cinder]/cross_az_attach=False,\nnova-compute will compare the instance.availability_zone,\nwhich is set in (super)conductor once the scheduler picks a\nhost (see 03b4c67b22f49d325386bc3ebd2ade79b44fa699), against\nthe volume\'s availability zone.\n\nTo get the instance AZ, we call get_instance_availability_zone\nwhich will up-call to the API DB to get the availability zone\nfor the instance.host if set (which by the time we hit this\nduring boot from volume in the compute service it is set\nbecause the instance_claim in the resource tracker sets\ninstance.host).\n\nIn a split MQ deployment where the cell isn\'t configured to\nreach ""the top"" (the API DB), this results in a\nCantStartEngineError trying to query against the aggregates\ntable in the API DB.\n\nThe thing is, because of 03b4c67b2 in Pike, the\ninstance.availability_zone field will be set by the time we\ndo this check during boot from volume on the compute, *and*\ninstance.host is set because of RT.instance_claim.\n\nSo rather than do the up-call to get the AZ for the host on\nwhich we\'re building, we can just pull it off the instance\nif both the instance host and az fields are set.\n\nThe existing cache-based checks are left intact because older\ninstances created before 03b4c67b2 in Pike may have their host\nfield set but not the availabilty_zone field, so in that case\nwe\'d do the up-call (although this isn\'t a problem for boot\nfrom volume on those instances since they have already been\ncreated).\n\nThe existing tests are cleaned up and better documented for\nthe various scenarios.\n\nThis also allows us to check one more \'up call\' caveat off our\ncells v2 list in the docs.\n\nChange-Id: I5a543d5442748c39217078ff2145dab3d8a46d84\nCloses-Bug: #1781421\n'}]",5,582342,87717e1a5d23aca4a66541134cc2333dd7bcac87,28,16,1,6873,,,0,"Avoid up-call in get_instance_availability_zone

During boot from volume, if [cinder]/cross_az_attach=False,
nova-compute will compare the instance.availability_zone,
which is set in (super)conductor once the scheduler picks a
host (see 03b4c67b22f49d325386bc3ebd2ade79b44fa699), against
the volume's availability zone.

To get the instance AZ, we call get_instance_availability_zone
which will up-call to the API DB to get the availability zone
for the instance.host if set (which by the time we hit this
during boot from volume in the compute service it is set
because the instance_claim in the resource tracker sets
instance.host).

In a split MQ deployment where the cell isn't configured to
reach ""the top"" (the API DB), this results in a
CantStartEngineError trying to query against the aggregates
table in the API DB.

The thing is, because of 03b4c67b2 in Pike, the
instance.availability_zone field will be set by the time we
do this check during boot from volume on the compute, *and*
instance.host is set because of RT.instance_claim.

So rather than do the up-call to get the AZ for the host on
which we're building, we can just pull it off the instance
if both the instance host and az fields are set.

The existing cache-based checks are left intact because older
instances created before 03b4c67b2 in Pike may have their host
field set but not the availabilty_zone field, so in that case
we'd do the up-call (although this isn't a problem for boot
from volume on those instances since they have already been
created).

The existing tests are cleaned up and better documented for
the various scenarios.

This also allows us to check one more 'up call' caveat off our
cells v2 list in the docs.

Change-Id: I5a543d5442748c39217078ff2145dab3d8a46d84
Closes-Bug: #1781421
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/582342/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/cellsv2-layout.rst', 'nova/availability_zones.py', 'nova/tests/unit/api/openstack/compute/test_extended_availability_zone.py', 'nova/tests/unit/test_availability_zones.py']",4,87717e1a5d23aca4a66541134cc2333dd7bcac87,bug/1781421," az.reset_cache() """"""Test get right availability zone by given an instance. In this scenario, the host is not in an aggregate so we get the default az which is 'nova'. This is also testing the scenario for instances created before 03b4c67b2 in pike when the az was set on the instance once a host was selected from the scheduler (those old instances won't have the availability_zone field set unless the user created the instance in a specific zone). """""" def test_get_instance_availability_zone_from_instance_host_set(self): """"""Test get_instance_availability_zone where the instance host and availability_zone fields are set so the instance az is used rather than looked up via host aggregate. """""" fake_inst = objects.Instance(host='host170', self._add_to_aggregate(service, self.agg) # aggregate says 'nova-test' cache_get.return_value = self.default_az # cache says 'nova' availability_zone=None) """"""Test get availability zone from instance if host is None. This is the scenario where the API is checking the AZ to compare it against a volume during boot from volume and [cinder]/cross_az_attach=False. """""""," """"""Test get right availability zone by given an instance."""""" def test_get_instance_availability_zone_from_aggregate(self): """"""Test get availability zone from aggregate by given an instance."""""" host = 'host170' service = self._create_service_with_topic('compute', host) self._add_to_aggregate(service, self.agg) fake_inst = objects.Instance(host=host, self._add_to_aggregate(service, self.agg) cache_get.return_value = self.default_az availability_zone=self.availability_zone) """"""Test get availability zone from instance if host is None.""""""",45,19
openstack%2Fdevstack~master~Ia37f282e573f3f3d50ff391ebfd70bf65c9a97b5,openstack/devstack,master,Ia37f282e573f3f3d50ff391ebfd70bf65c9a97b5,Enable guestfs.debug when we are injecting files,ABANDONED,2017-12-01 19:36:44.000000000,2019-06-19 19:35:21.000000000,,"[{'_account_id': 1653}, {'_account_id': 4146}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7118}, {'_account_id': 9061}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-01 19:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c90eea40da37cc6a7f370c34f684e8297f022be0', 'message': 'Enable guestfs.debug when we are injecting files\n\nSometimes during CI we see guest spawn hang during\ninjection of data to the disk image via guestfs,\nnot even necessarily personality files, could just\nbe metadata items. So enable guestfs debug to help\ndebug anything that goes wrong here.\n\nChange-Id: Ia37f282e573f3f3d50ff391ebfd70bf65c9a97b5\n'}, {'number': 2, 'created': '2017-12-08 18:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e5cf206c815eea61311fd9454da1e322f12c4041', 'message': 'Enable guestfs.debug when we are injecting files\n\nSometimes during CI we see guest spawn hang during\ninjection of data to the disk image via guestfs,\nnot even necessarily personality files, could just\nbe metadata items. So enable guestfs debug to help\ndebug anything that goes wrong here.\n\nDepends-On: I0ffe93a031154b123c8beff96a695df5a280b935\n\nChange-Id: Ia37f282e573f3f3d50ff391ebfd70bf65c9a97b5\n'}, {'number': 3, 'created': '2018-03-21 01:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a38c1479374694c74963313202240c66674465e2', 'message': 'Enable guestfs.debug when we are injecting files\n\nSometimes during CI we see guest spawn hang during\ninjection of data to the disk image via guestfs,\nnot even necessarily personality files, could just\nbe metadata items. So enable guestfs debug to help\ndebug anything that goes wrong here.\n\nDepends-On: I0ffe93a031154b123c8beff96a695df5a280b935\n\nChange-Id: Ia37f282e573f3f3d50ff391ebfd70bf65c9a97b5\n'}, {'number': 4, 'created': '2019-05-18 18:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/db82223b9fd5143a6dfaf294071af18337faece0', 'message': 'Enable guestfs.debug when we are injecting files\n\nSometimes during CI we see guest spawn hang during\ninjection of data to the disk image via guestfs,\nnot even necessarily personality files, could just\nbe metadata items. So enable guestfs debug to help\ndebug anything that goes wrong here.\n\nDepends-On: I0ffe93a031154b123c8beff96a695df5a280b935\n\nChange-Id: Ia37f282e573f3f3d50ff391ebfd70bf65c9a97b5\n'}, {'number': 5, 'created': '2019-05-18 21:44:55.000000000', 'files': ['lib/nova_plugins/hypervisor-libvirt'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9d620f2e59aa17dc8a5d6e176d38bf0c4233662e', 'message': 'Enable guestfs.debug when we are injecting files\n\nSometimes during CI we see guest spawn hang during\ninjection of data to the disk image via guestfs,\nnot even necessarily personality files, could just\nbe metadata items. So enable guestfs debug to help\ndebug anything that goes wrong here.\n\nDepends-On: https://review.opendev.org/524748/\n\nChange-Id: Ia37f282e573f3f3d50ff391ebfd70bf65c9a97b5\n'}]",0,524710,9d620f2e59aa17dc8a5d6e176d38bf0c4233662e,63,12,5,6873,,,0,"Enable guestfs.debug when we are injecting files

Sometimes during CI we see guest spawn hang during
injection of data to the disk image via guestfs,
not even necessarily personality files, could just
be metadata items. So enable guestfs debug to help
debug anything that goes wrong here.

Depends-On: https://review.opendev.org/524748/

Change-Id: Ia37f282e573f3f3d50ff391ebfd70bf65c9a97b5
",git fetch https://review.opendev.org/openstack/devstack refs/changes/10/524710/5 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova_plugins/hypervisor-libvirt'],1,c90eea40da37cc6a7f370c34f684e8297f022be0,guestfs-debug," # Enable guestfs debug because sometimes things can get weird with # disk injection. iniset $NOVA_CONF guestfs debug ""True""",,3,0
openstack%2Fnova~master~I045c6293ad1f96af7b9bb3961c93300641852d86,openstack/nova,master,I045c6293ad1f96af7b9bb3961c93300641852d86,Pass migration from API to conductor for evacuate,ABANDONED,2017-09-01 19:28:54.000000000,2019-06-19 19:31:14.000000000,,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-01 19:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee7ad31d4f32ba905fede9fda5c24508131d3506', 'message': 'Pass migration from API to conductor for evacuate\n\nThe compute API creates the migration record and the\nconductor compute task manager is reading it from the\ndatabase. We can make this more efficient by just passing\nit through.\n\nChange-Id: I045c6293ad1f96af7b9bb3961c93300641852d86\n'}, {'number': 2, 'created': '2017-09-03 13:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f471aae1953c28460d22e9c01e81cbb1e5b8b3c6', 'message': 'Pass migration from API to conductor for evacuate\n\nThe compute API creates the migration record and the\nconductor compute task manager is reading it from the\ndatabase. We can make this more efficient by just passing\nit through.\n\nChange-Id: I045c6293ad1f96af7b9bb3961c93300641852d86\n'}, {'number': 3, 'created': '2017-09-06 19:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2428ef841fd118d6380d1a73fa86cb8c2dc782ad', 'message': 'Pass migration from API to conductor for evacuate\n\nThe compute API creates the migration record and the\nconductor compute task manager is reading it from the\ndatabase. We can make this more efficient by just passing\nit through.\n\nChange-Id: I045c6293ad1f96af7b9bb3961c93300641852d86\n'}, {'number': 5, 'created': '2017-09-07 15:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d8f133daa067dfe4b8b85e0c683997b092bb539', 'message': 'Pass migration from API to conductor for evacuate\n\nThe compute API creates the migration record and the\nconductor compute task manager is reading it from the\ndatabase. We can make this more efficient by just passing\nit through.\n\nChange-Id: I045c6293ad1f96af7b9bb3961c93300641852d86\n'}, {'number': 6, 'created': '2017-09-12 15:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/549a16800047503e87b7dc1f38f4711549531125', 'message': 'Pass migration from API to conductor for evacuate\n\nThe compute API creates the migration record and the\nconductor compute task manager is reading it from the\ndatabase. We can make this more efficient by just passing\nit through.\n\nChange-Id: I045c6293ad1f96af7b9bb3961c93300641852d86\n'}, {'number': 7, 'created': '2017-09-16 14:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19444f12454aef394c8e0fc6a8570dc20d2e8eaf', 'message': 'Pass migration from API to conductor for evacuate\n\nThe compute API creates the migration record and the\nconductor compute task manager is reading it from the\ndatabase. We can make this more efficient by just passing\nit through.\n\nChange-Id: I045c6293ad1f96af7b9bb3961c93300641852d86\n'}, {'number': 8, 'created': '2017-10-04 15:19:55.000000000', 'files': ['nova/conductor/rpcapi.py', 'nova/conductor/api.py', 'nova/tests/functional/api_sample_tests/test_evacuate.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/compute/test_compute.py', 'nova/conductor/manager.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9bd1d34b3f1ec0bdf035611790eccb97bdd5a65e', 'message': 'Pass migration from API to conductor for evacuate\n\nThe compute API creates the migration record and the\nconductor compute task manager is reading it from the\ndatabase. We can make this more efficient by just passing\nit through.\n\nChange-Id: I045c6293ad1f96af7b9bb3961c93300641852d86\n'}]",1,500176,9bd1d34b3f1ec0bdf035611790eccb97bdd5a65e,89,14,7,6873,,,0,"Pass migration from API to conductor for evacuate

The compute API creates the migration record and the
conductor compute task manager is reading it from the
database. We can make this more efficient by just passing
it through.

Change-Id: I045c6293ad1f96af7b9bb3961c93300641852d86
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/500176/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conductor/rpcapi.py', 'nova/conductor/api.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/compute/test_compute.py', 'nova/conductor/manager.py', 'nova/compute/api.py']",6,ee7ad31d4f32ba905fede9fda5c24508131d3506,bug/1713786, migration=migration), ),64,15
openstack%2Fnova~master~Iff110ba1d9df38fba3f8fc91b43accc41348b5bc,openstack/nova,master,Iff110ba1d9df38fba3f8fc91b43accc41348b5bc,WIP: Optimize creating servers with tags,ABANDONED,2017-07-15 19:36:07.000000000,2019-06-19 19:30:40.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-07-15 19:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5d80d7ac11908713a1708e37bc757c20f02cf30', 'message': ""Optimize creating servers with tags\n\nIt turns out we didn't need to be sending tags to the\nconductor schedule_and_build_instances method because\nwhen we started putting the tags in the BuildRequest\nthat get sent to conductor, we can get the instance to\ncreate from the BuildRequest.get_new_instance() method.\n\nHere we plumb in the code to properly create tags when\nthe instance is created via the Instance object and\nDB API. This is beneficial in two ways:\n\n1. It's arguably better performance to create the tags\n   at the same time as the instance while we're in the\n   same DB API call rather than separate calls.\n\n2. We want the tags set in the instance object before\n   casting to the compute build_and_run_instance method.\n   We want that because otherwise the instance.create\n   versioned notification method in compute will end\n   up lazy-loading the instance tags, so this is another\n   performance optimization.\n\nAlong the way, we can also remove the redundant\nTagList.destroy call in conductor because we destroy\nthe tags when we destroy the instance down in the DB API.\n\nRelated to blueprint support-tag-instance-when-boot\n\nChange-Id: Iff110ba1d9df38fba3f8fc91b43accc41348b5bc\n""}, {'number': 2, 'created': '2017-07-15 21:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c343af8a060550692704e9be0030c18692d51f67', 'message': ""Optimize creating servers with tags\n\nIt turns out we didn't need to be sending tags to the\nconductor schedule_and_build_instances method because\nwhen we started putting the tags in the BuildRequest\nthat get sent to conductor, we can get the instance to\ncreate from the BuildRequest.get_new_instance() method.\n\nHere we plumb in the code to properly create tags when\nthe instance is created via the Instance object and\nDB API. This is beneficial in two ways:\n\n1. It's arguably better performance to create the tags\n   at the same time as the instance while we're in the\n   same DB API call rather than separate calls.\n\n2. We want the tags set in the instance object before\n   casting to the compute build_and_run_instance method.\n   We want that because otherwise the instance.create\n   versioned notification method in compute will end\n   up lazy-loading the instance tags, so this is another\n   performance optimization.\n\nAlong the way, we can also remove the redundant\nTagList.destroy call in conductor because we destroy\nthe tags when we destroy the instance down in the DB API.\n\nRelated to blueprint support-tag-instance-when-boot\n\nChange-Id: Iff110ba1d9df38fba3f8fc91b43accc41348b5bc\n""}, {'number': 3, 'created': '2017-07-17 19:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfac2f41b0f910e56299f204bb4420d077146e4e', 'message': ""Optimize creating servers with tags\n\nIt turns out we didn't need to be sending tags to the\nconductor schedule_and_build_instances method because\nwhen we started putting the tags in the BuildRequest\nthat get sent to conductor, we can get the instance to\ncreate from the BuildRequest.get_new_instance() method.\n\nHere we plumb in the code to properly create tags when\nthe instance is created via the Instance object and\nDB API. This is beneficial in two ways:\n\n1. It's arguably better performance to create the tags\n   at the same time as the instance while we're in the\n   same DB API call rather than separate calls.\n\n2. We want the tags set in the instance object before\n   casting to the compute build_and_run_instance method.\n   We want that because otherwise the instance.create\n   versioned notification method in compute will end\n   up lazy-loading the instance tags, so this is another\n   performance optimization.\n\nAlong the way, we can also remove the redundant\nTagList.destroy call in conductor because we destroy\nthe tags when we destroy the instance down in the DB API.\n\nRelated to blueprint support-tag-instance-when-boot\n\nChange-Id: Iff110ba1d9df38fba3f8fc91b43accc41348b5bc\n""}, {'number': 4, 'created': '2017-07-17 20:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26308fdd58aacbcafea719a33cbb3e58616b1fb2', 'message': ""Optimize creating servers with tags\n\nIt turns out we didn't need to be sending tags to the\nconductor schedule_and_build_instances method because\nwhen we started putting the tags in the BuildRequest\nthat get sent to conductor, we can get the instance to\ncreate from the BuildRequest.get_new_instance() method.\n\nHere we plumb in the code to properly create tags when\nthe instance is created via the Instance object and\nDB API. This is beneficial in two ways:\n\n1. It's arguably better performance to create the tags\n   at the same time as the instance while we're in the\n   same DB API call rather than separate calls.\n\n2. We want the tags set in the instance object before\n   casting to the compute build_and_run_instance method.\n   We want that because otherwise the instance.create\n   versioned notification method in compute will end\n   up lazy-loading the instance tags, so this is another\n   performance optimization.\n\nAlong the way, we can also remove the redundant\nTagList.destroy call in conductor because we destroy\nthe tags when we destroy the instance down in the DB API.\n\nRelated to blueprint support-tag-instance-when-boot\n\nChange-Id: Iff110ba1d9df38fba3f8fc91b43accc41348b5bc\n""}, {'number': 5, 'created': '2019-05-30 20:53:31.000000000', 'files': ['nova/conductor/rpcapi.py', 'nova/objects/build_request.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/objects/test_build_request.py', 'nova/conductor/manager.py', 'nova/objects/instance.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d1daedf48555fff2393db7cba7cf6f6da10adca4', 'message': ""WIP: Optimize creating servers with tags\n\nIt turns out we didn't need to be sending tags to the\nconductor schedule_and_build_instances method because\nwhen we started putting the tags in the BuildRequest\nthat get sent to conductor, we can get the instance to\ncreate from the BuildRequest.get_new_instance() method.\n\nHere we plumb in the code to properly create tags when\nthe instance is created via the Instance object and\nDB API. This is beneficial in two ways:\n\n1. It's arguably better performance to create the tags\n   at the same time as the instance while we're in the\n   same DB API call rather than separate calls.\n\n2. We want the tags set in the instance object before\n   casting to the compute build_and_run_instance method.\n   We want that because otherwise the instance.create\n   versioned notification method in compute will end\n   up lazy-loading the instance tags, so this is another\n   performance optimization.\n\nAlong the way, we can also remove the redundant\nTagList.destroy call in conductor because we destroy\nthe tags when we destroy the instance down in the DB API.\n\nRelated to blueprint support-tag-instance-when-boot\n\nChange-Id: Iff110ba1d9df38fba3f8fc91b43accc41348b5bc\n""}]",5,484170,d1daedf48555fff2393db7cba7cf6f6da10adca4,62,18,5,6873,,,0,"WIP: Optimize creating servers with tags

It turns out we didn't need to be sending tags to the
conductor schedule_and_build_instances method because
when we started putting the tags in the BuildRequest
that get sent to conductor, we can get the instance to
create from the BuildRequest.get_new_instance() method.

Here we plumb in the code to properly create tags when
the instance is created via the Instance object and
DB API. This is beneficial in two ways:

1. It's arguably better performance to create the tags
   at the same time as the instance while we're in the
   same DB API call rather than separate calls.

2. We want the tags set in the instance object before
   casting to the compute build_and_run_instance method.
   We want that because otherwise the instance.create
   versioned notification method in compute will end
   up lazy-loading the instance tags, so this is another
   performance optimization.

Along the way, we can also remove the redundant
TagList.destroy call in conductor because we destroy
the tags when we destroy the instance down in the DB API.

Related to blueprint support-tag-instance-when-boot

Change-Id: Iff110ba1d9df38fba3f8fc91b43accc41348b5bc
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/484170/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conductor/rpcapi.py', 'nova/objects/build_request.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/objects/test_build_request.py', 'nova/conductor/manager.py', 'nova/objects/instance.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",8,b5d80d7ac11908713a1708e37bc757c20f02cf30,bp/support-tag-instance-when-boot," tags = values.pop('tags', None) if tags is not None: tag_refs = [] for tag in tags: tag_ref = models.Tag() tag_ref['tag'] = tag tag_refs.append(tag_ref) values['tags'] = tag_refs ",,66,40
openstack%2Fopenstack-ansible-os_manila~master~I4feee8b021c972f80f7997947e9387d15c30f99b,openstack/openstack-ansible-os_manila,master,I4feee8b021c972f80f7997947e9387d15c30f99b,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:16:05.000000000,2019-06-19 19:27:45.000000000,2019-06-19 19:27:44.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-18 18:16:05.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/764f9356c7e07a46edf3320f1b545ec76aafa373', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I4feee8b021c972f80f7997947e9387d15c30f99b\n'}]",0,666111,764f9356c7e07a46edf3320f1b545ec76aafa373,7,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I4feee8b021c972f80f7997947e9387d15c30f99b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/11/666111/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,764f9356c7e07a46edf3320f1b545ec76aafa373,openstack/openstack-ansible-tests/sync-tests, update_password: always, force: true,1,1
openstack%2Foslo.log~master~I73e284393ce26c91ea675d5be213ff5e910b4dfe,openstack/oslo.log,master,I73e284393ce26c91ea675d5be213ff5e910b4dfe,Modify the constraints url in tox.,MERGED,2019-05-23 19:49:00.000000000,2019-06-19 19:12:22.000000000,2019-06-19 19:12:22.000000000,"[{'_account_id': 6928}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-05-23 19:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/03cd32ccb3ed3635f967b6a0a557a3067fd62cf0', 'message': 'Modify the constraints url in tox.\n\nUse the hotness for constraints.\n\nChange-Id: I73e284393ce26c91ea675d5be213ff5e910b4dfe\n'}, {'number': 2, 'created': '2019-05-27 09:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/8dcb8b3773c0fb31e1d442faa98560795f6ee7a4', 'message': 'Modify the constraints url in tox.\n\nUse the hotness for constraints.\n\nChange-Id: I73e284393ce26c91ea675d5be213ff5e910b4dfe\n'}, {'number': 3, 'created': '2019-05-31 09:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/1a2065dcd3a24884c07f5777851fbab4770b7900', 'message': 'Modify the constraints url in tox.\n\nUse the hotness for constraints.\n\nChange-Id: I73e284393ce26c91ea675d5be213ff5e910b4dfe\n'}, {'number': 4, 'created': '2019-06-14 07:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/6207fe8b431e2456600eb6d7811073ae97fe5900', 'message': 'Modify the constraints url in tox.\n\nUse the hotness for constraints.\n\nChange-Id: I73e284393ce26c91ea675d5be213ff5e910b4dfe\n'}, {'number': 5, 'created': '2019-06-17 10:41:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/d693dc224788d6345c53352687308f097cf86618', 'message': 'Modify the constraints url in tox.\n\nUse the hotness for constraints.\n\nChange-Id: I73e284393ce26c91ea675d5be213ff5e910b4dfe\n'}]",3,661100,d693dc224788d6345c53352687308f097cf86618,19,5,5,29222,,,0,"Modify the constraints url in tox.

Use the hotness for constraints.

Change-Id: I73e284393ce26c91ea675d5be213ff5e910b4dfe
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/00/661100/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,03cd32ccb3ed3635f967b6a0a557a3067fd62cf0,constraints_url, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/openstack/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/openstack/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/openstack/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/upper-constraints.txt},3,3
openstack%2Fnetworking-ovn~stable%2Fqueens~Iba3969e43c76ca07fe840b84d8f81f34bc7e5cd6,openstack/networking-ovn,stable/queens,Iba3969e43c76ca07fe840b84d8f81f34bc7e5cd6,Don't wait for metadata service unnecessarily,MERGED,2019-05-17 09:05:52.000000000,2019-06-19 18:49:00.000000000,2019-06-19 18:49:00.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 9531}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-05-17 09:05:52.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/tests/unit/fakes.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b80adc1b9fb80866b6e0e3a8ff60e3720bdaa9d0', 'message': ""Don't wait for metadata service unnecessarily\n\nBefore neutron-server transitions a port to ACTIVE, it'll wait\nuntil the metadata service has been provisioned on that hypervisor.\nIf the port doesn't belong to any IPv4 subnet with DHCP enabled,\nthere's no need to wait for it.\n\nChange-Id: Iba3969e43c76ca07fe840b84d8f81f34bc7e5cd6\nCloses-Bug: #1828585\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 1888f19d24b17697d3a7cd5c5a0ea550af3ddb66)\n""}]",0,659760,b80adc1b9fb80866b6e0e3a8ff60e3720bdaa9d0,12,8,1,6773,,,0,"Don't wait for metadata service unnecessarily

Before neutron-server transitions a port to ACTIVE, it'll wait
until the metadata service has been provisioned on that hypervisor.
If the port doesn't belong to any IPv4 subnet with DHCP enabled,
there's no need to wait for it.

Change-Id: Iba3969e43c76ca07fe840b84d8f81f34bc7e5cd6
Closes-Bug: #1828585
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit 1888f19d24b17697d3a7cd5c5a0ea550af3ddb66)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/60/659760/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/tests/unit/fakes.py']",3,b80adc1b9fb80866b6e0e3a8ff60e3720bdaa9d0,bug/1828585," self.get_logical_port_chassis_and_datapath = mock.Mock() self.get_logical_port_chassis_and_datapath.return_value = \ ('fake', 'fake-dp')",,84,31
openstack%2Fopenstacksdk~stable%2Fqueens~I617e55d67d93f1e07f5192ba94dcc0997ba9e12f,openstack/openstacksdk,stable/queens,I617e55d67d93f1e07f5192ba94dcc0997ba9e12f,Fix response always being False,MERGED,2019-06-14 14:07:05.000000000,2019-06-19 18:31:16.000000000,2019-06-19 18:31:16.000000000,"[{'_account_id': 2}, {'_account_id': 10420}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 30081}]","[{'number': 1, 'created': '2019-06-14 14:07:05.000000000', 'files': ['openstack/exceptions.py', 'openstack/tests/unit/cloud/test_image.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2eaeff794631d6058625138633dfaa55b509bc17', 'message': 'Fix response always being False\n\nFrom requests.models.Response:\nReturns True if :attr:`status_code` is less than 400.\n\nWe\'re using it wrong, so have changed it to ""is not None""\n\nChange-Id: I617e55d67d93f1e07f5192ba94dcc0997ba9e12f\n(cherry picked from commit 1b7e5c05d020e980dec84e4668072bd46f526fa6)\n'}]",0,665400,2eaeff794631d6058625138633dfaa55b509bc17,8,5,1,30081,,,0,"Fix response always being False

From requests.models.Response:
Returns True if :attr:`status_code` is less than 400.

We're using it wrong, so have changed it to ""is not None""

Change-Id: I617e55d67d93f1e07f5192ba94dcc0997ba9e12f
(cherry picked from commit 1b7e5c05d020e980dec84e4668072bd46f526fa6)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/00/665400/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/exceptions.py', 'openstack/tests/unit/cloud/test_image.py']",2,2eaeff794631d6058625138633dfaa55b509bc17,bug/409_conflict-stable/queens," ""Some error"") ""Some error"")"," ""Some error"", {}) ""Some error"", {})",4,4
openstack%2Fopenstack-helm-infra~master~If31046769fd9032647af47ce8fce0cde5b8f7d7d,openstack/openstack-helm-infra,master,If31046769fd9032647af47ce8fce0cde5b8f7d7d,Add openstack-exporter to aio-monitoring & openstack-support jobs,MERGED,2019-06-13 14:59:32.000000000,2019-06-19 18:21:52.000000000,2019-06-19 18:21:52.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29132}]","[{'number': 1, 'created': '2019-06-13 14:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e48afc07fbeb886889bb05948d5d0105fd9ab395', 'message': 'Add openstack-exporter tp openstack-helm-infra-aio-monitoring job\n\nThis deploys the openstack-exporter as part of the aio-monitoring\nsingle node job, to help ensure this chart is actively checked and\ngated against\n\nChange-Id: If31046769fd9032647af47ce8fce0cde5b8f7d7d\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-06-13 14:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d870c84fdd61e62b4ef67a62b183a7d407756060', 'message': 'Add openstack-exporter to openstack-helm-infra-aio-monitoring job\n\nThis deploys the openstack-exporter as part of the aio-monitoring\nsingle node job, to help ensure this chart is actively checked and\ngated against\n\nChange-Id: If31046769fd9032647af47ce8fce0cde5b8f7d7d\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-06-13 18:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bdf07945945d0a14feed1d992ab9ede0981f7a8d', 'message': 'Add openstack-exporter to aio-monitoring & openstack-support jobs\n\nThis deploys the openstack-exporter as part of the aio-monitoring\nsingle node and openstack-support jobs, to ensure the exporter is\nfunctional and working as expected\n\nChange-Id: If31046769fd9032647af47ce8fce0cde5b8f7d7d\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 4, 'created': '2019-06-18 20:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/aad79709ca6059d56626f94214f52422cc89f3e1', 'message': 'Add openstack-exporter to aio-monitoring & openstack-support jobs\n\nThis deploys the openstack-exporter as part of the aio-monitoring\nsingle node and openstack-support jobs, to ensure the exporter is\nfunctional and working as expected\n\nChange-Id: If31046769fd9032647af47ce8fce0cde5b8f7d7d\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 5, 'created': '2019-06-19 04:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1aebf6b83551b1a9fbf4d49957f6cf39d5e4454c', 'message': 'Add openstack-exporter to aio-monitoring & openstack-support jobs\n\nThis deploys the openstack-exporter as part of the aio-monitoring\nsingle node and openstack-support jobs, to ensure the exporter is\nfunctional and working as expected\n\nChange-Id: If31046769fd9032647af47ce8fce0cde5b8f7d7d\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 6, 'created': '2019-06-19 16:38:10.000000000', 'files': ['tools/deployment/openstack-support/110-openstack-exporter.sh', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f2db36862ce81829b39638099b08bcf9fcc31969', 'message': 'Add openstack-exporter to aio-monitoring & openstack-support jobs\n\nThis deploys the openstack-exporter as part of the aio-monitoring\nsingle node and openstack-support jobs, to ensure the exporter is\nfunctional and working as expected\n\nChange-Id: If31046769fd9032647af47ce8fce0cde5b8f7d7d\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,665154,f2db36862ce81829b39638099b08bcf9fcc31969,24,5,6,17591,,,0,"Add openstack-exporter to aio-monitoring & openstack-support jobs

This deploys the openstack-exporter as part of the aio-monitoring
single node and openstack-support jobs, to ensure the exporter is
functional and working as expected

Change-Id: If31046769fd9032647af47ce8fce0cde5b8f7d7d
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/54/665154/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,e48afc07fbeb886889bb05948d5d0105fd9ab395,update-jobs, - ./tools/deployment/osh-infra-monitoring/100-openstack-exporter.sh,,1,0
openstack%2Fnetworking-ovn~stable%2Frocky~Iba3969e43c76ca07fe840b84d8f81f34bc7e5cd6,openstack/networking-ovn,stable/rocky,Iba3969e43c76ca07fe840b84d8f81f34bc7e5cd6,Don't wait for metadata service unnecessarily,MERGED,2019-05-17 09:06:13.000000000,2019-06-19 18:18:37.000000000,2019-06-19 18:18:37.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-05-17 09:06:13.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/tests/unit/fakes.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7442d0c120b5723fd5f09fa7b1e0b201852ad3b5', 'message': ""Don't wait for metadata service unnecessarily\n\nBefore neutron-server transitions a port to ACTIVE, it'll wait\nuntil the metadata service has been provisioned on that hypervisor.\nIf the port doesn't belong to any IPv4 subnet with DHCP enabled,\nthere's no need to wait for it.\n\nChange-Id: Iba3969e43c76ca07fe840b84d8f81f34bc7e5cd6\nCloses-Bug: #1828585\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 1888f19d24b17697d3a7cd5c5a0ea550af3ddb66)\n""}]",0,659761,7442d0c120b5723fd5f09fa7b1e0b201852ad3b5,17,6,1,6773,,,0,"Don't wait for metadata service unnecessarily

Before neutron-server transitions a port to ACTIVE, it'll wait
until the metadata service has been provisioned on that hypervisor.
If the port doesn't belong to any IPv4 subnet with DHCP enabled,
there's no need to wait for it.

Change-Id: Iba3969e43c76ca07fe840b84d8f81f34bc7e5cd6
Closes-Bug: #1828585
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit 1888f19d24b17697d3a7cd5c5a0ea550af3ddb66)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/61/659761/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/tests/unit/fakes.py']",3,7442d0c120b5723fd5f09fa7b1e0b201852ad3b5,bug/1828585," self.get_logical_port_chassis_and_datapath = mock.Mock() self.get_logical_port_chassis_and_datapath.return_value = \ ('fake', 'fake-dp')",,84,31
openstack%2Foctavia~stable%2Fstein~I20572505e448f9b7ff6314b5167cc4c519c445fb,openstack/octavia,stable/stein,I20572505e448f9b7ff6314b5167cc4c519c445fb,Fix allocate_and_associate DB deadlock,MERGED,2019-06-16 19:32:15.000000000,2019-06-19 18:14:11.000000000,2019-06-19 18:14:11.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-16 19:32:15.000000000', 'files': ['octavia/db/repositories.py', 'releasenotes/notes/Fix-allocate_and_associate-deadlock-3ff1464421c1d464.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/32afefd6e4441bbac7a6442013714e5a7433c99a', 'message': 'Fix allocate_and_associate DB deadlock\n\nIn testing we saw a DB deadlock in allocate_and_associate.\nThis patch corrects that with a DB retry wrapper.\n\nChange-Id: I20572505e448f9b7ff6314b5167cc4c519c445fb\nStory: 2005893\nTask: 33751\n(cherry picked from commit 0eaab450c12e33f277c31098a6792421d3f5806c)\n'}]",0,665556,32afefd6e4441bbac7a6442013714e5a7433c99a,12,4,1,11628,,,0,"Fix allocate_and_associate DB deadlock

In testing we saw a DB deadlock in allocate_and_associate.
This patch corrects that with a DB retry wrapper.

Change-Id: I20572505e448f9b7ff6314b5167cc4c519c445fb
Story: 2005893
Task: 33751
(cherry picked from commit 0eaab450c12e33f277c31098a6792421d3f5806c)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/56/665556/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/db/repositories.py', 'releasenotes/notes/Fix-allocate_and_associate-deadlock-3ff1464421c1d464.yaml']",2,32afefd6e4441bbac7a6442013714e5a7433c99a,,--- fixes: - | Fixes a potential DB deadlock in allocate_and_associate found in testing. ,,5,0
openstack%2Fsahara-tests~master~I593faafbe6b4c547db687d4f521e2a0b412d343a,openstack/sahara-tests,master,I593faafbe6b4c547db687d4f521e2a0b412d343a,Properly handle authentication with Keystone v3,MERGED,2019-06-04 14:42:56.000000000,2019-06-19 17:59:38.000000000,2019-06-19 17:59:38.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-06-04 14:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/7066f1512a7b22022fada7c8c7f7f2cb0f419f86', 'message': 'Properly handle authentication with Keystone v3\n\nAddress few previously unnoticed use cases.\n- Use uri_v3 is available (in the Tempest plugin). When v2\n  is not available (as in modern deployments) the old value\n  cannot be relied upon.\n- Otherwise just check whether v3 is there and adds it if not\n  (as it happens for example on a TripleO deployment).\n\nChange-Id: I593faafbe6b4c547db687d4f521e2a0b412d343a\n'}, {'number': 2, 'created': '2019-06-04 16:05:14.000000000', 'files': ['releasenotes/notes/more-auth-fixes-9ba23ceb54ba042a.yaml', 'sahara_tests/scenario/clients.py', 'sahara_tempest_plugin/tests/clients/base.py'], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/1c8cb702c5f40043869857cc41290f5af3a9c232', 'message': 'Properly handle authentication with Keystone v3\n\nAddress few previously unnoticed use cases.\n- Use uri_v3 is available (in the Tempest plugin). When v2\n  is not available (as in modern deployments) the old value\n  cannot be relied upon.\n- Otherwise just check whether v3 is there and adds it if not\n  (as it happens for example on a TripleO deployment).\n\nChange-Id: I593faafbe6b4c547db687d4f521e2a0b412d343a\n'}]",0,663055,1c8cb702c5f40043869857cc41290f5af3a9c232,8,3,2,10459,,,0,"Properly handle authentication with Keystone v3

Address few previously unnoticed use cases.
- Use uri_v3 is available (in the Tempest plugin). When v2
  is not available (as in modern deployments) the old value
  cannot be relied upon.
- Otherwise just check whether v3 is there and adds it if not
  (as it happens for example on a TripleO deployment).

Change-Id: I593faafbe6b4c547db687d4f521e2a0b412d343a
",git fetch https://review.opendev.org/openstack/sahara-tests refs/changes/55/663055/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/more-auth-fixes-9ba23ceb54ba042a.yaml', 'sahara_tests/scenario/clients.py', 'sahara_tempest_plugin/tests/clients/base.py']",3,7066f1512a7b22022fada7c8c7f7f2cb0f419f86,fixes-and-py3," auth_url = TEMPEST_CONF.identity.uri_v3 auth = v3.Password(auth_url=auth_url,"," auth_url = TEMPEST_CONF.identity.uri auth = v3.Password(auth_url=auth_url.replace('/v2.0', '/v3'),",11,3
openstack%2Fkuryr-kubernetes~master~Ia561833d594c55c17a9dc1a588d39bf3410cdf81,openstack/kuryr-kubernetes,master,Ia561833d594c55c17a9dc1a588d39bf3410cdf81,Ensure kuryrnet does not perform multiple repopulations,MERGED,2019-06-14 12:10:57.000000000,2019-06-19 17:48:02.000000000,2019-06-19 17:48:02.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-06-14 12:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3a4b79c6c3a44e0736312be21d26c437f187dd93', 'message': 'Ensure kuryrnet does not perform multiple repopulations\n\nThis patch makes use of the KuryrNet CRD spec to ensure pools\npopulation actions on a new namespace only happen once.\n\nChange-Id: Ia561833d594c55c17a9dc1a588d39bf3410cdf81\n'}, {'number': 2, 'created': '2019-06-17 06:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/09a49c697730e8bbc02e8cec22bff4d8b9bcc5f5', 'message': 'Ensure kuryrnet does not perform multiple repopulations\n\nThis patch makes use of the KuryrNet CRD spec to ensure pools\npopulation actions on a new namespace only happen once.\n\nCloses-Bug: 1833032\n\nChange-Id: Ia561833d594c55c17a9dc1a588d39bf3410cdf81\n'}, {'number': 3, 'created': '2019-06-18 15:56:44.000000000', 'files': ['kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy_security_groups.py', 'kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py', 'kuryr_kubernetes/controller/handlers/kuryrnet.py', 'kuryr_kubernetes/controller/handlers/namespace.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrnet.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e2e63cfc4d5506277b53510701c97fb9f57d0430', 'message': 'Ensure kuryrnet does not perform multiple repopulations\n\nThis patch makes use of the KuryrNet CRD spec to ensure pools\npopulation actions on a new namespace only happen once.\n\nCloses-Bug: 1833032\n\nChange-Id: Ia561833d594c55c17a9dc1a588d39bf3410cdf81\n'}]",5,665367,e2e63cfc4d5506277b53510701c97fb9f57d0430,23,5,3,23567,,,0,"Ensure kuryrnet does not perform multiple repopulations

This patch makes use of the KuryrNet CRD spec to ensure pools
population actions on a new namespace only happen once.

Closes-Bug: 1833032

Change-Id: Ia561833d594c55c17a9dc1a588d39bf3410cdf81
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/67/665367/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy_security_groups.py', 'kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py', 'kuryr_kubernetes/controller/handlers/kuryrnet.py', 'kuryr_kubernetes/controller/handlers/namespace.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrnet.py']",7,3a4b79c6c3a44e0736312be21d26c437f187dd93,kuryrnets,"from kuryr_kubernetes.controller.drivers import utils as driver_utils @mock.patch.object(driver_utils, 'patch_kuryrnet_crd') def test_on_added(self, m_get_nodes_ips, m_patch_kn_crd): m_patch_kn_crd.assert_called_once()"," def test_on_added(self, m_get_nodes_ips):",63,23
openstack%2Fkayobe~master~I7966cf33f6133090d83232504b8c1da4c7817e0c,openstack/kayobe,master,I7966cf33f6133090d83232504b8c1da4c7817e0c,Restrict cliff to <2.15.0,MERGED,2019-06-14 13:30:55.000000000,2019-06-19 17:45:15.000000000,2019-06-19 17:45:15.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28048}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-06-14 13:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/164127a6645653448f28d890ea518929b32288a9', 'message': ""Restrict cliff to <2.15.0\n\nUsing Kayobe with cliff 2.15.0 fails with the following error:\n\nkayobe playbook run playbook.yml\ninvalid conflict_resolution value: 'ignore'\n\nThis change restricts cliff to <2.15.0.\n\nChange-Id: I7966cf33f6133090d83232504b8c1da4c7817e0c\nStory: 2005891\nTask: 33749\n""}, {'number': 2, 'created': '2019-06-14 13:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/157b1fcdbc4b2b2af759aa7e8a642e76b5c23791', 'message': ""Restrict cliff to <2.15.0\n\nUsing Kayobe with cliff 2.15.0 fails with the following error:\n\nkayobe playbook run playbook.yml\ninvalid conflict_resolution value: 'ignore'\n\nThis change restricts cliff to <2.15.0.\n\nChange-Id: I7966cf33f6133090d83232504b8c1da4c7817e0c\nStory: 2005891\nTask: 33748\n""}, {'number': 3, 'created': '2019-06-17 15:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/13986f534f36e9902ac22872c07c8732bec9ae45', 'message': ""Restrict cliff to <2.15.0\n\nUsing Kayobe with cliff 2.15.0 fails with the following error:\n\nkayobe playbook run playbook.yml\ninvalid conflict_resolution value: 'ignore'\n\nThis change restricts cliff to <2.15.0.\n\nChange-Id: I7966cf33f6133090d83232504b8c1da4c7817e0c\nhttps://review.opendev.org/665703/\nStory: 2005891\nTask: 33748\n""}, {'number': 4, 'created': '2019-06-17 15:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b9661addb3324eb9fa8eba31da2592eadbb16d43', 'message': ""Restrict cliff to <2.15.0\n\nUsing Kayobe with cliff 2.15.0 fails with the following error:\n\nkayobe playbook run playbook.yml\ninvalid conflict_resolution value: 'ignore'\n\nThis change restricts cliff to <2.15.0.\n\nChange-Id: I7966cf33f6133090d83232504b8c1da4c7817e0c\nDepends-On: https://review.opendev.org/665703/\nStory: 2005891\nTask: 33748\n""}, {'number': 5, 'created': '2019-06-17 18:29:48.000000000', 'files': ['requirements.txt', 'playbooks/kayobe-seed-upgrade-base/pre.yml', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a3a71b919c9bfd71972911c6ab88b5522512233e', 'message': ""Restrict cliff to <2.15.0\n\nUsing Kayobe with cliff 2.15.0 fails with the following error:\n\nkayobe playbook run playbook.yml\ninvalid conflict_resolution value: 'ignore'\n\nThis change restricts cliff to <2.15.0.\n\nAlso, fix git cloning previous release repos in CI to allow this patch\nto merge.\n\nZuul provides repositories with all branches containing all prospective\nchanges, not just the current branch. We can use this in the upgrade\njobs to include changes to the previous release branch when a patch\ndepends on them.\n\nChange-Id: I7966cf33f6133090d83232504b8c1da4c7817e0c\nDepends-On: https://review.opendev.org/665703/\nStory: 2005891\nTask: 33748\n""}]",3,665388,a3a71b919c9bfd71972911c6ab88b5522512233e,39,6,5,14826,,,0,"Restrict cliff to <2.15.0

Using Kayobe with cliff 2.15.0 fails with the following error:

kayobe playbook run playbook.yml
invalid conflict_resolution value: 'ignore'

This change restricts cliff to <2.15.0.

Also, fix git cloning previous release repos in CI to allow this patch
to merge.

Zuul provides repositories with all branches containing all prospective
changes, not just the current branch. We can use this in the upgrade
jobs to include changes to the previous release branch when a patch
depends on them.

Change-Id: I7966cf33f6133090d83232504b8c1da4c7817e0c
Depends-On: https://review.opendev.org/665703/
Story: 2005891
Task: 33748
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/88/665388/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,164127a6645653448f28d890ea518929b32288a9,story/2005891,"cliff>=2.5.0,<2.15.0 # Apache",cliff>=2.5.0 # Apache,1,1
openstack%2Fkolla-ansible~stable%2Frocky~If71d5c056c042667388dae8e4ee6d51a5ecab46e,openstack/kolla-ansible,stable/rocky,If71d5c056c042667388dae8e4ee6d51a5ecab46e,Add blazar to fluentd aggregation,MERGED,2019-06-18 18:26:00.000000000,2019-06-19 17:40:22.000000000,2019-06-19 17:40:22.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 18:26:00.000000000', 'files': ['ansible/roles/common/templates/conf/input/00-global.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/05412a1d1aea0b47cd1f0c4c91994880e3e74f89', 'message': 'Add blazar to fluentd aggregation\n\nIf Blazar is enabled, ensure that fluentd processes its logs.\n\nChange-Id: If71d5c056c042667388dae8e4ee6d51a5ecab46e\n(cherry picked from commit 2c343562ee3b47248d3f0812101d48dd54793a9f)\n'}]",0,666138,05412a1d1aea0b47cd1f0c4c91994880e3e74f89,13,3,1,14826,,,0,"Add blazar to fluentd aggregation

If Blazar is enabled, ensure that fluentd processes its logs.

Change-Id: If71d5c056c042667388dae8e4ee6d51a5ecab46e
(cherry picked from commit 2c343562ee3b47248d3f0812101d48dd54793a9f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/666138/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/input/00-global.conf.j2'],1,05412a1d1aea0b47cd1f0c4c91994880e3e74f89,blazar-fluentd-agg-stable/rocky," ( 'blazar', enable_blazar ),",,1,0
openstack%2Ftripleo-ansible~master~I11f04f8128263af5932eef6c172e7d16091deb35,openstack/tripleo-ansible,master,I11f04f8128263af5932eef6c172e7d16091deb35,"Revert ""Import the json_error callback from tripleo-common""",MERGED,2019-06-19 16:24:53.000000000,2019-06-19 17:38:58.000000000,2019-06-19 16:50:36.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-19 16:24:53.000000000', 'files': ['tripleo_ansible/roles/test_json_error_callback/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/prepare.yml', 'tripleo_ansible/ansible_plugins/callback/json_error.py', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/verify.yml', 'tripleo_ansible/roles/test_json_error_callback/README.md', 'tripleo_ansible/roles/test_json_error_callback/meta/main.yml', 'tripleo_ansible/roles/test_json_error_callback/tasks/main.yml', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/Dockerfile', 'tripleo_ansible/ansible_plugins/callback/.gitkeep', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/playbook.yml', 'zuul.d/layout.yaml', 'tox.ini', 'zuul.d/jobs.yaml', 'doc/source/roles/role-test_json_error_callback.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8ebd012abc8bb39aded994badcffcd9eecbb9863', 'message': 'Revert ""Import the json_error callback from tripleo-common""\n\nThis reverts commit dc2e57b4290fa63e87b3ec8601ca909473503e12.\n\nThis broke building because tripleo-common provides json_error.py\n\nChange-Id: I11f04f8128263af5932eef6c172e7d16091deb35\n'}]",0,666382,8ebd012abc8bb39aded994badcffcd9eecbb9863,8,5,1,14985,,,0,"Revert ""Import the json_error callback from tripleo-common""

This reverts commit dc2e57b4290fa63e87b3ec8601ca909473503e12.

This broke building because tripleo-common provides json_error.py

Change-Id: I11f04f8128263af5932eef6c172e7d16091deb35
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/82/666382/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/test_json_error_callback/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/prepare.yml', 'tripleo_ansible/ansible_plugins/callback/json_error.py', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/verify.yml', 'tripleo_ansible/roles/test_json_error_callback/README.md', 'tripleo_ansible/roles/test_json_error_callback/meta/main.yml', 'tripleo_ansible/roles/test_json_error_callback/tasks/main.yml', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/Dockerfile', 'tripleo_ansible/ansible_plugins/callback/.gitkeep', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/playbook.yml', 'zuul.d/layout.yaml', 'tox.ini', 'zuul.d/jobs.yaml', 'doc/source/roles/role-test_json_error_callback.rst']",15,8ebd012abc8bb39aded994badcffcd9eecbb9863,tc/callback,,=============================================== TripleO-Ansible Role - test_json_error_callback =============================================== This role provides for the following services: * test_json_error_callback Example playbook ~~~~~~~~~~~~~~~~ .. literalinclude:: ../../../tripleo_ansible/roles/test_json_error_callback/molecule/default/playbook.yml :language: yaml :start-after: under the License. ,3,337
openstack%2Fsahara-tests~master~I1924239659072ec8f1ea67df8d3d5b9a2264beb8,openstack/sahara-tests,master,I1924239659072ec8f1ea67df8d3d5b9a2264beb8,CLI tests: more testing and Python 3 fixes,MERGED,2019-05-28 14:34:50.000000000,2019-06-19 17:37:17.000000000,2019-06-19 17:37:16.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-05-28 14:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/21aad973171547e468bc3053ef856b61aa02d13c', 'message': 'CLI tests: more testing and Python 3 fixes\n\n- when downloading the internal job binaries, compare it\n  with the original file;\n- simplify the string matching for the error messages in negative\n  testing (job binary and node group templates). The returned string\n  is a bit different when using python 3 (few \\n remainings, maybe\n  there is an interaction between string and byte arrays.)\n- run the API v2 tests using Python 3. Python 3 and API v2 tests\n  have been both added in Stein.\n\nChange-Id: I1924239659072ec8f1ea67df8d3d5b9a2264beb8\n'}, {'number': 2, 'created': '2019-06-04 14:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/a18e4c75aa3a03b4da3d26e756944e335d62ebfd', 'message': 'CLI tests: more testing and Python 3 fixes\n\n- when downloading the internal job binaries, compare it\n  with the original file;\n- simplify the string matching for the error messages in negative\n  testing (job binary and node group templates). The returned string\n  is a bit different when using python 3 (few \\n remainings, maybe\n  there is an interaction between string and byte arrays.)\n- run the API v2 tests using Python 3. Python 3 and API v2 tests\n  have been both added in Stein.\n- define few data strings used for testing as bytes, so that they\n  can work with both Python 2 and Python 3.\n\nChange-Id: I1924239659072ec8f1ea67df8d3d5b9a2264beb8\n'}, {'number': 3, 'created': '2019-06-04 16:05:14.000000000', 'files': ['sahara_tempest_plugin/tests/clients/test_job_binaries.py', 'sahara_tempest_plugin/tests/cli/test_scenario.py', 'sahara_tempest_plugin/tests/cli/base.py', '.zuul.yaml', 'sahara_tempest_plugin/tests/cli/job_binaries.py', 'sahara_tempest_plugin/tests/clients/test_job_binary_internals.py'], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/4c1d1645dee506b69241613c27c7e7f81ca8f5a7', 'message': 'CLI tests: more testing and Python 3 fixes\n\n- when downloading the internal job binaries, compare it\n  with the original file;\n- simplify the string matching for the error messages in negative\n  testing (job binary and node group templates). The returned string\n  is a bit different when using python 3 (few \\n remainings, maybe\n  there is an interaction between string and byte arrays.)\n- run the API v2 tests using Python 3. Python 3 and API v2 tests\n  have been both added in Stein.\n- define few data strings used for testing as bytes, so that they\n  can work with both Python 2 and Python 3.\n\nChange-Id: I1924239659072ec8f1ea67df8d3d5b9a2264beb8\n'}]",0,661771,4c1d1645dee506b69241613c27c7e7f81ca8f5a7,12,5,3,10459,,,0,"CLI tests: more testing and Python 3 fixes

- when downloading the internal job binaries, compare it
  with the original file;
- simplify the string matching for the error messages in negative
  testing (job binary and node group templates). The returned string
  is a bit different when using python 3 (few \n remainings, maybe
  there is an interaction between string and byte arrays.)
- run the API v2 tests using Python 3. Python 3 and API v2 tests
  have been both added in Stein.
- define few data strings used for testing as bytes, so that they
  can work with both Python 2 and Python 3.

Change-Id: I1924239659072ec8f1ea67df8d3d5b9a2264beb8
",git fetch https://review.opendev.org/openstack/sahara-tests refs/changes/71/661771/3 && git format-patch -1 --stdout FETCH_HEAD,"['sahara_tempest_plugin/tests/cli/test_scenario.py', 'sahara_tempest_plugin/tests/cli/base.py', '.zuul.yaml', 'sahara_tempest_plugin/tests/cli/job_binaries.py']",4,21aad973171547e468bc3053ef856b61aa02d13c,fixes-and-py3,"from filecmp import cmp script_name = '' return job_binary_name, script_name def openstack_job_binary_download(self, job_binary_name, original_file=None): if original_file: self.assertTrue(cmp(job_binary_name, original_file)) remove(original_file)"," if job_internal: remove(script_name) return job_binary_name def openstack_job_binary_download(self, job_binary_name):",28,18
openstack%2Fkolla-ansible~stable%2Fstein~I21eb1164c2f67098b81edbd5cc106472663b92cb,openstack/kolla-ansible,stable/stein,I21eb1164c2f67098b81edbd5cc106472663b92cb,Support multi-region discovery of Nova cells,MERGED,2019-06-18 18:23:11.000000000,2019-06-19 17:23:06.000000000,2019-06-19 17:23:06.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 29100}]","[{'number': 1, 'created': '2019-06-18 18:23:11.000000000', 'files': ['ansible/roles/nova/tasks/discover_computes.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d87904a58793ee9eb4fd216318a3ef02f8b59f0c', 'message': ""Support multi-region discovery of Nova cells\n\nIn a multi-region environment, each region is being deployed separately.\nCell discovery, however, would sometimes fail due to it picking a region\ndifferent than the one being deployed. Most likely, an internal endpoint\nfor region A will not be visible from region B. Furthermore, it is not\nvery useful to discover hosts on a region you're not modifying.\n\nThis changes the check to only run against nova compute services located\nin the region being deployed.\n\nChange-Id: I21eb1164c2f67098b81edbd5cc106472663b92cb\n(cherry picked from commit 328e14253d82a7fca0a4351f6f82211435477e62)\n""}]",0,666125,d87904a58793ee9eb4fd216318a3ef02f8b59f0c,11,4,1,14826,,,0,"Support multi-region discovery of Nova cells

In a multi-region environment, each region is being deployed separately.
Cell discovery, however, would sometimes fail due to it picking a region
different than the one being deployed. Most likely, an internal endpoint
for region A will not be visible from region B. Furthermore, it is not
very useful to discover hosts on a region you're not modifying.

This changes the check to only run against nova compute services located
in the region being deployed.

Change-Id: I21eb1164c2f67098b81edbd5cc106472663b92cb
(cherry picked from commit 328e14253d82a7fca0a4351f6f82211435477e62)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/25/666125/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/tasks/discover_computes.yml'],1,d87904a58793ee9eb4fd216318a3ef02f8b59f0c,multi-region-nova-cells-stable/stein, --os-region-name {{ openstack_region_name }},,1,0
openstack%2Fkolla-ansible~stable%2Frocky~I21eb1164c2f67098b81edbd5cc106472663b92cb,openstack/kolla-ansible,stable/rocky,I21eb1164c2f67098b81edbd5cc106472663b92cb,Support multi-region discovery of Nova cells,MERGED,2019-06-18 18:23:20.000000000,2019-06-19 17:23:05.000000000,2019-06-19 17:23:05.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 29100}]","[{'number': 1, 'created': '2019-06-18 18:23:20.000000000', 'files': ['ansible/roles/nova/tasks/discover_computes.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0c5896c993438ce72fd3da5b93d6269b30868acc', 'message': ""Support multi-region discovery of Nova cells\n\nIn a multi-region environment, each region is being deployed separately.\nCell discovery, however, would sometimes fail due to it picking a region\ndifferent than the one being deployed. Most likely, an internal endpoint\nfor region A will not be visible from region B. Furthermore, it is not\nvery useful to discover hosts on a region you're not modifying.\n\nThis changes the check to only run against nova compute services located\nin the region being deployed.\n\nChange-Id: I21eb1164c2f67098b81edbd5cc106472663b92cb\n(cherry picked from commit 328e14253d82a7fca0a4351f6f82211435477e62)\n""}]",0,666126,0c5896c993438ce72fd3da5b93d6269b30868acc,11,4,1,14826,,,0,"Support multi-region discovery of Nova cells

In a multi-region environment, each region is being deployed separately.
Cell discovery, however, would sometimes fail due to it picking a region
different than the one being deployed. Most likely, an internal endpoint
for region A will not be visible from region B. Furthermore, it is not
very useful to discover hosts on a region you're not modifying.

This changes the check to only run against nova compute services located
in the region being deployed.

Change-Id: I21eb1164c2f67098b81edbd5cc106472663b92cb
(cherry picked from commit 328e14253d82a7fca0a4351f6f82211435477e62)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/26/666126/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/tasks/discover_computes.yml'],1,0c5896c993438ce72fd3da5b93d6269b30868acc,multi-region-nova-cells-stable/rocky, --os-region-name {{ openstack_region_name }},,1,0
openstack%2Fopenstackdocstheme~master~Ic2fdb31aed51ecdceb36686b82338c28a2cdb066,openstack/openstackdocstheme,master,Ic2fdb31aed51ecdceb36686b82338c28a2cdb066,Make 'docstheme-build-pdf' executable,MERGED,2019-06-19 16:10:35.000000000,2019-06-19 17:21:16.000000000,2019-06-19 17:21:15.000000000,"[{'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 16:10:35.000000000', 'files': ['bin/docstheme-build-pdf'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/31ca35d832449434f2396a0dcf7c7a5131e4b3f5', 'message': ""Make 'docstheme-build-pdf' executable\n\nJust because the other scripts in 'bin' are doing it.\n\nChange-Id: Ic2fdb31aed51ecdceb36686b82338c28a2cdb066\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,666376,31ca35d832449434f2396a0dcf7c7a5131e4b3f5,6,2,1,15334,,,0,"Make 'docstheme-build-pdf' executable

Just because the other scripts in 'bin' are doing it.

Change-Id: Ic2fdb31aed51ecdceb36686b82338c28a2cdb066
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/76/666376/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/docstheme-build-pdf'],1,31ca35d832449434f2396a0dcf7c7a5131e4b3f5,build-pdf-docs,,,0,0
openstack%2Fmonasca-api~master~Ie7dbf4077fb1937f6cc77d1b05b70bc5c7e6643c,openstack/monasca-api,master,Ie7dbf4077fb1937f6cc77d1b05b70bc5c7e6643c,Make monascalog-python3-tempest a gating test,MERGED,2019-06-17 08:51:42.000000000,2019-06-19 17:02:28.000000000,2019-06-19 17:02:28.000000000,"[{'_account_id': 14123}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2019-06-17 08:51:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/7ce0d8e26ecd22c3d4174cf162dc056b4d5e2e7e', 'message': 'Make monascalog-python3-tempest a gating test\n\nIn change I03bc8d502a333a7a71d9c12b8ddc7c5dc0a4f588 this\ntest was made non-gating due to release of Falcon 2.0. Now\nthat the Log API also supports Falcon 2.0, we can mark\nthis as gating again.\n\nChange-Id: Ie7dbf4077fb1937f6cc77d1b05b70bc5c7e6643c\n'}]",0,665615,7ce0d8e26ecd22c3d4174cf162dc056b4d5e2e7e,9,3,1,17669,,,0,"Make monascalog-python3-tempest a gating test

In change I03bc8d502a333a7a71d9c12b8ddc7c5dc0a4f588 this
test was made non-gating due to release of Falcon 2.0. Now
that the Log API also supports Falcon 2.0, we can mark
this as gating again.

Change-Id: Ie7dbf4077fb1937f6cc77d1b05b70bc5c7e6643c
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/15/665615/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7ce0d8e26ecd22c3d4174cf162dc056b4d5e2e7e,, - monascalog-python3-tempest - monascalog-python3-tempest, - monascalog-python3-tempest: voting: false,2,2
openstack%2Fopenstack-helm-infra~master~I24afed7946f915e5e13f0ba759eca252c2598af9,openstack/openstack-helm-infra,master,I24afed7946f915e5e13f0ba759eca252c2598af9,Change the expression of defined alert in prometheus to avoid unnecessary errors,MERGED,2019-06-05 12:26:08.000000000,2019-06-19 16:55:46.000000000,2019-06-19 16:55:46.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 30252}, {'_account_id': 30430}]","[{'number': 1, 'created': '2019-06-05 12:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/65ba57d794537c870c2786b53c8a1fc1870e9d31', 'message': 'Change the expression of defined alert in prometheus to avoid unnecessary errors\n\nThere were some false alerts about volume_claim_capacity_high_utilization\ndue to wrong formula used to determine the percentage of used capacity.\n\nChange-Id: I24afed7946f915e5e13f0ba759eca252c2598af9\n'}, {'number': 2, 'created': '2019-06-18 20:19:29.000000000', 'files': ['prometheus/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b9a9ee323b81968297ee6dde414a8c6f0760ca33', 'message': 'Change the expression of defined alert in prometheus to avoid unnecessary errors\n\nThere were some false alerts about volume_claim_capacity_high_utilization\ndue to wrong formula used to determine the percentage of used capacity.\n\nChange-Id: I24afed7946f915e5e13f0ba759eca252c2598af9\n'}]",0,663310,b9a9ee323b81968297ee6dde414a8c6f0760ca33,12,6,2,30252,,,0,"Change the expression of defined alert in prometheus to avoid unnecessary errors

There were some false alerts about volume_claim_capacity_high_utilization
due to wrong formula used to determine the percentage of used capacity.

Change-Id: I24afed7946f915e5e13f0ba759eca252c2598af9
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/10/663310/2 && git format-patch -1 --stdout FETCH_HEAD,['prometheus/values.yaml'],1,65ba57d794537c870c2786b53c8a1fc1870e9d31,, expr: (kubelet_volume_stats_capacity_bytes / kubelet_volume_stats_used_bytes) < 1.25, expr: (kubelet_volume_stats_available_bytes / kubelet_volume_stats_capacity_bytes) > 0.80,1,1
openstack%2Fkuryr-tempest-plugin~master~I6522689fac6a7398cd78665a13daa6f5e46c6be2,openstack/kuryr-tempest-plugin,master,I6522689fac6a7398cd78665a13daa6f5e46c6be2,Removing threading option,MERGED,2019-06-04 16:31:29.000000000,2019-06-19 16:54:07.000000000,2019-06-19 16:54:07.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-06-04 16:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/a6d3acc2a323793b06fb3b134b4185ed86a1953b', 'message': 'Removing threading option\n\nGates are not reliably working with threading, leaving to some\nproblems and gates flakiness. Removing it to make it more stable\n\nChange-Id: I6522689fac6a7398cd78665a13daa6f5e46c6be2\n'}, {'number': 2, 'created': '2019-06-05 06:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/2b427231fc45ddb1465cd01a342186b9f42f2bff', 'message': 'Removing threading option\n\nGates are not reliably working with threading, leaving to some\nproblems and gates flakiness. Removing it to make it more stable\n\nChange-Id: I6522689fac6a7398cd78665a13daa6f5e46c6be2\n'}, {'number': 3, 'created': '2019-06-13 07:09:40.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/11463dda9e4feb26eac938aee31d203aea1e8675', 'message': 'Removing threading option\n\nGates are not reliably working with threading, leaving to some\nproblems and gates flakiness. Removing it to make it more stable\n\nDepends-On: I35f3be8fc16d71d0d2ac01c5451d398dd631f118\n\nChange-Id: I6522689fac6a7398cd78665a13daa6f5e46c6be2\n'}]",0,663090,11463dda9e4feb26eac938aee31d203aea1e8675,22,6,3,23567,,,0,"Removing threading option

Gates are not reliably working with threading, leaving to some
problems and gates flakiness. Removing it to make it more stable

Depends-On: I35f3be8fc16d71d0d2ac01c5451d398dd631f118

Change-Id: I6522689fac6a7398cd78665a13daa6f5e46c6be2
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/90/663090/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/base.py'],1,a6d3acc2a323793b06fb3b134b4185ed86a1953b,remove-multithread," protocol=""TCP"", headers=None): self._run_and_assert(req, pred) def assert_backend_amount_from_pod(self, url, amount, pod): self._run_and_assert(req, pred) def _run_and_assert(self, fn, predicate, retry_repetitions=10): resps = [fn() for _ in range(retry_repetitions)] predicate(self, resps) self._run_and_assert(req, pred)"," protocol=""TCP"", headers=None, repetitions=100, threads=8, request_timeout=5): self._run_threaded_and_assert(req, pred, repetitions=repetitions, threads=threads, fn_timeout=request_timeout) def assert_backend_amount_from_pod(self, url, amount, pod, repetitions=100, threads=8, request_timeout=20): self._run_threaded_and_assert(req, pred, repetitions=repetitions, threads=threads, fn_timeout=request_timeout) def _run_threaded_and_assert( self, fn, predicate, repetitions=100, threads=8, fn_timeout=1, retry_repetitions=10): tp = pool.ThreadPool(processes=threads) try: results = [tp.apply_async(fn) for _ in range(repetitions)] resps = [result.get(timeout=fn_timeout) for result in results] predicate(self, resps) except Exception as e: LOG.info(""Multi threaded test failed with Exception:%s. "" ""Retry with single thread"", e) resps = [fn() for _ in range(retry_repetitions)] predicate(self, resps) self._run_threaded_and_assert(req, pred, fn_timeout=10)",8,24
openstack%2Fkolla-ansible~stable%2Fstein~If71d5c056c042667388dae8e4ee6d51a5ecab46e,openstack/kolla-ansible,stable/stein,If71d5c056c042667388dae8e4ee6d51a5ecab46e,Add blazar to fluentd aggregation,MERGED,2019-06-18 18:25:53.000000000,2019-06-19 16:52:18.000000000,2019-06-19 16:52:18.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 18:25:53.000000000', 'files': ['ansible/roles/common/templates/conf/input/00-global.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/56239fcfcaa93bf728b0a5304266ac17ebe89ac8', 'message': 'Add blazar to fluentd aggregation\n\nIf Blazar is enabled, ensure that fluentd processes its logs.\n\nChange-Id: If71d5c056c042667388dae8e4ee6d51a5ecab46e\n(cherry picked from commit 2c343562ee3b47248d3f0812101d48dd54793a9f)\n'}]",0,666137,56239fcfcaa93bf728b0a5304266ac17ebe89ac8,13,3,1,14826,,,0,"Add blazar to fluentd aggregation

If Blazar is enabled, ensure that fluentd processes its logs.

Change-Id: If71d5c056c042667388dae8e4ee6d51a5ecab46e
(cherry picked from commit 2c343562ee3b47248d3f0812101d48dd54793a9f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/37/666137/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/input/00-global.conf.j2'],1,56239fcfcaa93bf728b0a5304266ac17ebe89ac8,blazar-fluentd-agg-stable/stein," ( 'blazar', enable_blazar ),",,1,0
openstack%2Fkeystone~master~Ic51205c1403f2085d7f921d3ff9d667cfe3f4c87,openstack/keystone,master,Ic51205c1403f2085d7f921d3ff9d667cfe3f4c87,Fix contributor doc of keystone,MERGED,2019-06-03 07:19:51.000000000,2019-06-19 16:45:09.000000000,2019-06-19 16:45:09.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-06-03 07:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/916bc3695fce3b5414b16263d6456d0095a37a4d', 'message': 'Fix contributor doc of keystone\n\nSince keystone now tracks features as Bugs not\nblueprints. This patch updates the same in the\ncontributor doc.\n\nChange-Id: Ic51205c1403f2085d7f921d3ff9d667cfe3f4c87\n'}, {'number': 2, 'created': '2019-06-18 06:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/392df2682185be6d292c67c79ff4c5b08f0107d3', 'message': 'Fix contributor doc of keystone\n\nSince keystone now tracks features as Bugs not\nblueprints. This patch updates the same in the\ncontributor doc.\n\nChange-Id: Ic51205c1403f2085d7f921d3ff9d667cfe3f4c87\n'}, {'number': 3, 'created': '2019-06-18 09:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ead832dca9047f63e5152772193fd3cd19eca242', 'message': 'Fix contributor doc of keystone\n\nSince keystone now tracks features as Bugs not\nblueprints. This patch updates the same in the\ncontributor doc.\n\nChange-Id: Ic51205c1403f2085d7f921d3ff9d667cfe3f4c87\n'}, {'number': 4, 'created': '2019-06-19 06:19:44.000000000', 'files': ['doc/source/contributor/release-notes.rst', 'doc/source/contributor/api_change_tutorial.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0a9d7cbec59183f772df9371644ed8639bc55b3b', 'message': 'Fix contributor doc of keystone\n\nSince keystone now tracks features as Bugs not\nblueprints. This patch updates the same in the\ncontributor doc.\n\nChange-Id: Ic51205c1403f2085d7f921d3ff9d667cfe3f4c87\n'}]",7,662690,0a9d7cbec59183f772df9371644ed8639bc55b3b,19,7,4,27621,,,0,"Fix contributor doc of keystone

Since keystone now tracks features as Bugs not
blueprints. This patch updates the same in the
contributor doc.

Change-Id: Ic51205c1403f2085d7f921d3ff9d667cfe3f4c87
",git fetch https://review.opendev.org/openstack/keystone refs/changes/90/662690/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/api_change_tutorial.rst'],1,916bc3695fce3b5414b16263d6456d0095a37a4d,bp/s,"You need to create a bug, submit a specification against the `keystone-specs`_ repository and bring it up to discussion with the `keystone core team`_ for agreement.#. `Create a bug`_ in launchpad;#. Write the spec based on the template. Ensure the Bug link points to the one.. _`Create a bug`: https://bugs.launchpad.net/keystone/+filebug","You need to create a blueprint, submit a specification against the `keystone-specs`_ repository and bring it up to discussion with the `keystone core team`_ for agreement.#. `Create a blueprint`_ in launchpad;#. Write the spec based on the template. Ensure the BP link points to the one.. _`Create a blueprint`: https://blueprints.launchpad.net/keystone/+addspec",6,6
openstack%2Fkolla-ansible~stable%2Fstein~Ie9a3b0fef395aaf414407f6bae1ac4bca158240d,openstack/kolla-ansible,stable/stein,Ie9a3b0fef395aaf414407f6bae1ac4bca158240d,Remove obsolete roles middleware,MERGED,2019-06-19 08:08:57.000000000,2019-06-19 16:35:28.000000000,2019-06-19 16:35:28.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 08:08:57.000000000', 'files': ['ansible/roles/monasca/templates/monasca-log-api/log-api-paste.ini.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8cbe09f6fcf6eaaeeb5e2873b5a92917c82d6630', 'message': 'Remove obsolete roles middleware\n\nChange I0ca38f2cc7d63b9b47eedb304ba7b00a94816f9a removed the roles\nmiddleware from the example paste pipeline.\n\nChange-Id: Ie9a3b0fef395aaf414407f6bae1ac4bca158240d\n(cherry picked from commit f23901677cdd247315eea56150df1fafafb107d1)\n'}]",0,666242,8cbe09f6fcf6eaaeeb5e2873b5a92917c82d6630,12,4,1,17669,,,0,"Remove obsolete roles middleware

Change I0ca38f2cc7d63b9b47eedb304ba7b00a94816f9a removed the roles
middleware from the example paste pipeline.

Change-Id: Ie9a3b0fef395aaf414407f6bae1ac4bca158240d
(cherry picked from commit f23901677cdd247315eea56150df1fafafb107d1)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/42/666242/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/monasca/templates/monasca-log-api/log-api-paste.ini.j2'],1,8cbe09f6fcf6eaaeeb5e2873b5a92917c82d6630,remove_roles_middlesware-stable/stein,pipeline = error_trap request_id auth api_v2_apppipeline = error_trap request_id auth api_v3_app,pipeline = error_trap request_id auth roles api_v2_apppipeline = error_trap request_id auth roles api_v3_app,2,2
openstack%2Fmonasca-common~master~I0ee61b6903d6e9e55f75c8a7c10bbec2e3039d36,openstack/monasca-common,master,I0ee61b6903d6e9e55f75c8a7c10bbec2e3039d36,Remove one unnecessary env var form Docker images,MERGED,2019-05-29 12:07:46.000000000,2019-06-19 16:31:55.000000000,2019-06-19 16:31:54.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2019-05-29 12:07:46.000000000', 'files': ['docker/Dockerfile'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/d5b3692e9b00fcbd58d47d072beade32f4276c8b', 'message': 'Remove one unnecessary env var form Docker images\n\nCONSTRAINTS_BRANCH is now included in CONSTRAINTS_FILE string.\n\nChange-Id: I0ee61b6903d6e9e55f75c8a7c10bbec2e3039d36\n'}]",0,661956,d5b3692e9b00fcbd58d47d072beade32f4276c8b,13,3,1,21922,,,0,"Remove one unnecessary env var form Docker images

CONSTRAINTS_BRANCH is now included in CONSTRAINTS_FILE string.

Change-Id: I0ee61b6903d6e9e55f75c8a7c10bbec2e3039d36
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/56/661956/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/Dockerfile'],1,d5b3692e9b00fcbd58d47d072beade32f4276c8b,fix/rm_env_var,,ONBUILD ARG CONSTRAINTS_BRANCH,0,1
openstack%2Fneutron~stable%2Fstein~I99d01d7bf29f236eff0f80d1ae8659f64ac55d39,openstack/neutron,stable/stein,I99d01d7bf29f236eff0f80d1ae8659f64ac55d39,DVR: on new port only send router update on port's host,MERGED,2019-06-17 23:52:41.000000000,2019-06-19 16:26:11.000000000,2019-06-19 15:32:18.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7016}, {'_account_id': 9732}, {'_account_id': 22348}, {'_account_id': 23950}, {'_account_id': 26622}, {'_account_id': 29071}]","[{'number': 1, 'created': '2019-06-17 23:52:41.000000000', 'files': ['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4cd7ba7fde57fb57407863606fc8f12ef0af3d6e', 'message': ""DVR: on new port only send router update on port's host\n\nWhen new DVR serviceable port appears on new node we need\nto update node's l3 agent with all routers which have the\nport's subnets, including connected routers.\nWe don't need to update all nodes hosting these routers.\nIt costs us much as all l3 agents then go back to neutron server\nand request routers info for no good reason.\nThis was one of the main issues with DVR at scale fixed in Mitaka.\n\nChange-Id: I99d01d7bf29f236eff0f80d1ae8659f64ac55d39\nRelated-Bug: #1830456\n(cherry picked from commit 52529bc949acff9a3454abd44925342468064b78)\n""}]",0,665831,4cd7ba7fde57fb57407863606fc8f12ef0af3d6e,19,8,1,29071,,,0,"DVR: on new port only send router update on port's host

When new DVR serviceable port appears on new node we need
to update node's l3 agent with all routers which have the
port's subnets, including connected routers.
We don't need to update all nodes hosting these routers.
It costs us much as all l3 agents then go back to neutron server
and request routers info for no good reason.
This was one of the main issues with DVR at scale fixed in Mitaka.

Change-Id: I99d01d7bf29f236eff0f80d1ae8659f64ac55d39
Related-Bug: #1830456
(cherry picked from commit 52529bc949acff9a3454abd44925342468064b78)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/665831/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py']",3,4cd7ba7fde57fb57407863606fc8f12ef0af3d6e,bug/1830456-stable/stein," 2, l3_notifier.routers_updated_on_host.call_count)"," mock.call(self.context, mock.ANY, HOST1), 3, l3_notifier.routers_updated_on_host.call_count) mock.call(self.context, mock.ANY, HOST1),",15,34
openstack%2Fmonasca-tempest-plugin~master~I10f155c316dc77b69dcbbc387f3edf59ed84b5dd,openstack/monasca-tempest-plugin,master,I10f155c316dc77b69dcbbc387f3edf59ed84b5dd,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 08:41:28.000000000,2019-06-19 16:25:20.000000000,2019-06-19 16:25:20.000000000,"[{'_account_id': 14123}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 25553}, {'_account_id': 26141}, {'_account_id': 27781}, {'_account_id': 28614}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-04-23 08:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/fbae71d9334b7d46bbe2ec854e8403012b130513', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I10f155c316dc77b69dcbbc387f3edf59ed84b5dd\n'}, {'number': 2, 'created': '2019-04-23 18:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/84bbd8f05ce2b3dda9103b2646b123ee94b34c23', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I10f155c316dc77b69dcbbc387f3edf59ed84b5dd\n'}, {'number': 3, 'created': '2019-04-23 18:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/887e9164e334f2059602cbc41f911c6dbbe18ade', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I10f155c316dc77b69dcbbc387f3edf59ed84b5dd\n'}, {'number': 4, 'created': '2019-06-04 13:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/8b749e655880d782a1cd426a92d4fad387b097a3', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I10f155c316dc77b69dcbbc387f3edf59ed84b5dd\n'}, {'number': 5, 'created': '2019-06-14 14:09:51.000000000', 'files': ['monasca_tempest_tests/README.md', 'docker/Dockerfile', 'README.rst', 'docker/build_image.sh', 'tox.ini', 'devstack/README.rst', 'doc/source/installation.rst', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/f90c73911d16556f07a17f3776bccac325e3b3f5', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I10f155c316dc77b69dcbbc387f3edf59ed84b5dd\n'}]",6,654839,f90c73911d16556f07a17f3776bccac325e3b3f5,43,10,5,27781,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I10f155c316dc77b69dcbbc387f3edf59ed84b5dd
",git fetch https://review.opendev.org/openstack/monasca-tempest-plugin refs/changes/39/654839/5 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'docker/build_image.sh', 'tox.ini']",3,fbae71d9334b7d46bbe2ec854e8403012b130513,654839,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},3,3
openstack%2Ftripleo-ansible~master~I1f32841786358203cf954eff2ca2f3dd5cf5ba07,openstack/tripleo-ansible,master,I1f32841786358203cf954eff2ca2f3dd5cf5ba07,Import the json_error callback from tripleo-common,MERGED,2019-06-13 18:07:57.000000000,2019-06-19 16:24:53.000000000,2019-06-19 15:30:31.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-13 18:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ab256cc6872f41a906952cc448b4fc226400aea9', 'message': 'Import the json_error callback from tripleo-common\n\nTHis change imports the json_error callback plugin from triple-common.\nThis import also creates a role which will test the plugins functions\nand validates the error log file is generated as expected.\n\nChange-Id: I1f32841786358203cf954eff2ca2f3dd5cf5ba07\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-06-14 15:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/04ab1816862de3a1e8560c01bb69972751391927', 'message': 'Import the json_error callback from tripleo-common\n\nTHis change imports the json_error callback plugin from triple-common.\nThis import also creates a role which will test the plugins functions\nand validates the error log file is generated as expected.\n\nChange-Id: I1f32841786358203cf954eff2ca2f3dd5cf5ba07\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-06-17 14:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7063e2a986dfc19f9a8173fd016f72c0c417395a', 'message': 'Import the json_error callback from tripleo-common\n\nTHis change imports the json_error callback plugin from triple-common.\nThis import also creates a role which will test the plugins functions\nand validates the error log file is generated as expected.\n\nChange-Id: I1f32841786358203cf954eff2ca2f3dd5cf5ba07\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2019-06-17 16:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/91bbabfe7f5190daf7c50c7e06b8520f4b253b8e', 'message': 'Import the json_error callback from tripleo-common\n\nTHis change imports the json_error callback plugin from triple-common.\nThis import also creates a role which will test the plugins functions\nand validates the error log file is generated as expected.\n\nChange-Id: I1f32841786358203cf954eff2ca2f3dd5cf5ba07\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2019-06-17 21:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ff8abd255277e6f6cafbb6a6def8e4637de6a58f', 'message': 'Import the json_error callback from tripleo-common\n\nTHis change imports the json_error callback plugin from triple-common.\nThis import also creates a role which will test the plugins functions\nand validates the error log file is generated as expected.\n\nChange-Id: I1f32841786358203cf954eff2ca2f3dd5cf5ba07\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2019-06-17 21:59:25.000000000', 'files': ['tripleo_ansible/roles/test_json_error_callback/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/prepare.yml', 'tripleo_ansible/ansible_plugins/callback/json_error.py', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/verify.yml', 'tripleo_ansible/roles/test_json_error_callback/README.md', 'tripleo_ansible/roles/test_json_error_callback/meta/main.yml', 'tripleo_ansible/roles/test_json_error_callback/tasks/main.yml', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/Dockerfile', 'tripleo_ansible/ansible_plugins/callback/.gitkeep', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/playbook.yml', 'zuul.d/layout.yaml', 'tox.ini', 'zuul.d/jobs.yaml', 'doc/source/roles/role-test_json_error_callback.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dc2e57b4290fa63e87b3ec8601ca909473503e12', 'message': 'Import the json_error callback from tripleo-common\n\nTHis change imports the json_error callback plugin from triple-common.\nThis import also creates a role which will test the plugins functions\nand validates the error log file is generated as expected.\n\nChange-Id: I1f32841786358203cf954eff2ca2f3dd5cf5ba07\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,665197,dc2e57b4290fa63e87b3ec8601ca909473503e12,24,4,6,7353,,,0,"Import the json_error callback from tripleo-common

THis change imports the json_error callback plugin from triple-common.
This import also creates a role which will test the plugins functions
and validates the error log file is generated as expected.

Change-Id: I1f32841786358203cf954eff2ca2f3dd5cf5ba07
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/97/665197/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/test_json_error_callback/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/prepare.yml', 'tripleo_ansible/ansible_plugins/callback/json_error.py', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/verify.yml', 'tripleo_ansible/roles/test_json_error_callback/README.md', 'tripleo_ansible/roles/test_json_error_callback/meta/main.yml', 'tripleo_ansible/roles/test_json_error_callback/tasks/main.yml', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/Dockerfile', 'tripleo_ansible/ansible_plugins/callback/.gitkeep', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/playbook.yml', 'zuul.d/layout.yaml', 'tox.ini', 'zuul.d/jobs.yaml']",14,ab256cc6872f41a906952cc448b4fc226400aea9,tc/callback, - job: name: tripleo-ansible-centos-7-molecule-test_json_error_callback parent: tripleo-ansible-centos files: - ^tripleo_ansible/roles/test_json_error_callback/.* vars: tox_envlist: mol-test_json_error_callback,,322,0
openstack%2Fpuppet-tripleo~stable%2Frocky~Id9bdd36aa0ee81424212e3a89185311817a15aee,openstack/puppet-tripleo,stable/rocky,Id9bdd36aa0ee81424212e3a89185311817a15aee,RabbitMQ: always allow promotion on HA queue during failover,MERGED,2019-06-18 19:42:47.000000000,2019-06-19 16:17:39.000000000,2019-06-19 16:17:39.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-18 19:42:47.000000000', 'files': ['manifests/profile/pacemaker/rabbitmq_bundle.pp', 'releasenotes/notes/rabbitmq_extra_policies-69cbc0a4afeac963.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/76101c8971f8e66e59bf43ce636a09029a080a6d', 'message': 'RabbitMQ: always allow promotion on HA queue during failover\n\nWhen the RabbitMQ experience a rolling restart of its peers, the\nmaster of an HA queue fails over from one replica to another.\n\nIf there are messages sent to the HA queue while some rabbit\nnodes are restarting, the latter will reconnect as unsynchronized\nslaves. It can happen that during a rolling restart, all rabbit\nnodes reconnect as unsynchronized, which prevents RabbitMQ to\nautomatically elect a new Master for failover. This has other\nside effects on fanout queues and may prevent OpenStack\nnotification to be consumed properly.\n\nChange the HA policy to always allow a promotion even when all\nreplicas are unsynchronized. When such rare condition happens,\nrely on OpenStack client to retry RPC if they need to.\n\nCloses-Bug: #1823305\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nChange-Id: Id9bdd36aa0ee81424212e3a89185311817a15aee\n(cherry picked from commit 610c8d8d41cd4b6bfd228ce1012416e424db625d)\n'}]",0,666153,76101c8971f8e66e59bf43ce636a09029a080a6d,7,6,1,20778,,,0,"RabbitMQ: always allow promotion on HA queue during failover

When the RabbitMQ experience a rolling restart of its peers, the
master of an HA queue fails over from one replica to another.

If there are messages sent to the HA queue while some rabbit
nodes are restarting, the latter will reconnect as unsynchronized
slaves. It can happen that during a rolling restart, all rabbit
nodes reconnect as unsynchronized, which prevents RabbitMQ to
automatically elect a new Master for failover. This has other
side effects on fanout queues and may prevent OpenStack
notification to be consumed properly.

Change the HA policy to always allow a promotion even when all
replicas are unsynchronized. When such rare condition happens,
rely on OpenStack client to retry RPC if they need to.

Closes-Bug: #1823305
Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>
Change-Id: Id9bdd36aa0ee81424212e3a89185311817a15aee
(cherry picked from commit 610c8d8d41cd4b6bfd228ce1012416e424db625d)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/53/666153/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/rabbitmq_bundle.pp', 'releasenotes/notes/rabbitmq_extra_policies-69cbc0a4afeac963.yaml']",2,76101c8971f8e66e59bf43ce636a09029a080a6d,rabbitmq-queues-stable/rocky,--- issues: - | Allow a hiera key to add an additional rabbitmq policy in the resource agend. ,,29,4
openstack%2Fopenstack-helm~master~I265a1ea9fcc501ea2c0af679fcae59e3c22d7b77,openstack/openstack-helm,master,I265a1ea9fcc501ea2c0af679fcae59e3c22d7b77,Fully Document node/nodelabel override capability,MERGED,2018-12-24 15:40:14.000000000,2019-06-19 16:17:27.000000000,2019-06-19 16:17:27.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 16881}, {'_account_id': 18250}, {'_account_id': 20466}, {'_account_id': 20469}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 25907}, {'_account_id': 26365}, {'_account_id': 26449}, {'_account_id': 26627}, {'_account_id': 28235}]","[{'number': 1, 'created': '2018-12-24 15:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f78c54d3098a86c6b35ff44ef0ed41794ffcf96a', 'message': 'Fully Document node/nodelabel override capability\n\nExplain more about how the override functionality works, and provide a\nfull example that shows how to integrate it into a new chart being\ndeveloped.\n\nChange-Id: I265a1ea9fcc501ea2c0af679fcae59e3c22d7b77\n'}, {'number': 2, 'created': '2019-04-11 18:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e2ec11b12d7e4ef5563458b0c66c61eb4727389c', 'message': 'Fully Document node/nodelabel override capability\n\nExplain more about how the override functionality works, and provide a\nfull example that shows how to integrate it into a new chart being\ndeveloped.\n\nChange-Id: I265a1ea9fcc501ea2c0af679fcae59e3c22d7b77\n'}, {'number': 3, 'created': '2019-04-11 18:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/daf1fdf66ffd7dbeda05cc00ab5e7adaaa7c7a90', 'message': 'Fully Document node/nodelabel override capability\n\nExplain more about how the override functionality works, and provide a\nfull example that shows how to integrate it into a new chart being\ndeveloped.\n\nChange-Id: I265a1ea9fcc501ea2c0af679fcae59e3c22d7b77\n'}, {'number': 4, 'created': '2019-04-11 19:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/012840e527952e1b2cfe8b80c727c5cefe97eb27', 'message': 'Fully Document node/nodelabel override capability\n\nExplain more about how the override functionality works, and provide a\nfull example that shows how to integrate it into a new chart being\ndeveloped.\n\nChange-Id: I265a1ea9fcc501ea2c0af679fcae59e3c22d7b77\n'}, {'number': 5, 'created': '2019-04-11 20:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9f8254996c22e4702354fb68eea340a019a8b909', 'message': 'Fully Document node/nodelabel override capability\n\nExplain more about how the override functionality works, and provide a\nfull example that shows how to integrate it into a new chart being\ndeveloped.\n\nChange-Id: I265a1ea9fcc501ea2c0af679fcae59e3c22d7b77\n'}, {'number': 6, 'created': '2019-04-15 18:28:11.000000000', 'files': ['doc/source/devref/node-and-label-specific-configurations.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f4336b860533252dbe8f0630f516807516c8dda3', 'message': 'Fully Document node/nodelabel override capability\n\nExplain more about how the override functionality works, and provide a\nfull example that shows how to integrate it into a new chart being\ndeveloped.\n\nChange-Id: I265a1ea9fcc501ea2c0af679fcae59e3c22d7b77\n'}]",3,627192,f4336b860533252dbe8f0630f516807516c8dda3,19,14,6,26686,,,0,"Fully Document node/nodelabel override capability

Explain more about how the override functionality works, and provide a
full example that shows how to integrate it into a new chart being
developed.

Change-Id: I265a1ea9fcc501ea2c0af679fcae59e3c22d7b77
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/92/627192/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/devref/node-and-label-specific-configurations.rst'],1,f78c54d3098a86c6b35ff44ef0ed41794ffcf96a,,"Node and node label specific daemonset configurations ===================================================== A typical Helm daemonset may leverage a secret to store configuration data. However, there are cases where the same secret document can't be used for the entire daemonset, because there are node-specific differences. To address this use-case, the ``helm-toolkit.utils.daemonset_overrides`` template was added in helm-toolkit. This was created with the intention that it should be straightforward to convert (wrap) a pre-existing daemonset with the functionality to override secret parameters on a per-node or per-nodelabel basis. Adapting your daemonset to support node/nodelabel overrides ----------------------------------------------------------- Consider the following (simplified) secret and daemonset pairing example:: .. code-block:: yaml # Simplified secret definition # =============================== --- apiVersion: v1 kind: Secret # Note ref to $secretName for dynamically generated secrets metadata: name: mychart-etc data: myConf: {{ include ""helm-toolkit.utils.template"" | b64enc }} # Simplified daemonset definition # =============================== --- apiVersion: extensions/v1beta1 kind: DaemonSet metadata: name: mychart-name spec: template: spec: containers: - name: my-container volumes: - name: mychart-etc secret: name: mychart-etc defaultMode: 0444 Assume the chart name is ``mychart``. Now we can wrap the existing YAML to make it support node and nodelabel overrides, with minimial changes to the existing YAML (note where $secretName has been substituted):: .. code-block:: yaml # Simplified secret definition needed for node/nodelabel overrides # ------------------------------------------------------------------- # Wrap secret definition {{- define ""mychart.secret.etc"" }} {{- $secretName := index . 0 }} {{- $envAll := index . 1 }} # Set to the same env context as was available to the caller, so we can # access any env data needed to build the template (e.g., envAll.Values...) {{- with $envAll }} --- apiVersion: v1 kind: Secret # Note ref to $secretName for dynamically generated secrets metadata: name: {{ $secretName }} data: myConf: {{ include ""helm-toolkit.utils.template"" | b64enc }} {{- end }} {{- end }} # Simplified daemonset definition needed for node/nodelabel overrides # ------------------------------------------------------------------- # Wrap daemonset definition {{- define ""mychart.daemonset"" }} {{- $daemonset := index . 0 }} {{- $secretName := index . 1 }} {{- $envAll := index . 2 }} # Set to the same env context as was available to the caller, so we can # access any env data needed to build the template (e.g., envAll.Values...) {{- with $envAll }} --- apiVersion: extensions/v1beta1 kind: DaemonSet metadata: name: {{ $daemonset }} spec: template: spec: containers: - name: {{ $daemonset }} volumes: # Note refs to $secretName for dynamically generated secrets - name: {{ $secretName }} secret: name: {{ $secretName }} defaultMode: 0444 {{- end }} {{- end }} # Desired daemonset name/prefix that helm will register with kubernetes # Note that this needs to be a valid dns-1123 name for a k8s resource {{- $daemonset := ""mydaemonset"" }} # Desired secret name/prefix that helm will register with kubernetes # Note that this needs to be a valid dns-1123 name for a k8s resource {{- $secretName := ""mychart-etc"" }} # Generate the daemonset YAML with a matching/consistent secretName (so # daemonset_overrides knows which volumes to dynamically substitute with the # auto-generated secrets). You may include in this list any other vars # which you need to reference or substitute into the daemonset YAML above. {{- $daemonset_yaml := list $secretName . | include ""mychart.daemonset"" | toString | fromYaml }} # Namespace to the secret definition which will be used/manipulated {{- $secret_include := ""mychart.secret.etc"" }} # Pass all these elements to daemonset_overrides to generate secret/daemonset # pairings for each set of overrides (plus one with no overrides) {{- list $daemonset $daemonset_yaml $secret_include $secretName . | include ""helm-toolkit.utils.daemonset_overrides"" }} Your daemonset should now support node and nodelabl level overrides. (Note that you will also need your chart to have helm-toolkit listed as a dependency.) Implementation details of node/nodelabel overrides -------------------------------------------------- Instead of having one daemonset with one monolithc secret, this helm-toolkit feature permits a common daemonset and secret template, from which daemonset and secret pairings are auto-generated. It supports establishing value overrides for nodes with specific label value pairs and for targeting nodes with specific hostnames and hostlabels. The overridden configuration is merged with the normal config data, with the override data taking precedence. The chart will then generate one daemonset for each host and label override, in addition to a default daemonset for which no overrides are applied. Each daemonset generated will also exclude from its scheduling criteria all other hosts and labels defined in other overrides for the same daemonset, to ensure that there is no overlap of daemonsets (i.e., one and only one daemonset of a given type for each node). For example, if you have some special conf setting that should be applied to ``host1.fqdn``, and another special conf setting that should be applied to nodes labeled with ``someNodeLabel``, then three secret/daemonset pairs will be generated and registered with kubernetes: one for ``host1.fqdn``, one for ``someNodeLabel``, and one for ``default``. The order of precedence for matches is FQDN, node label, and then default. If a node matches both a FQDN and a nodelabel, then only the FQDN override is applied. Pay special attention to adding FQDN overrides for nodes that match a nodelabel override, as you would need to duplicate the nodelabel overrides for that node in the FQDN overrides for them to still apply. If there is no matching FQDN and no matching nodelabel, then the default daemonset/secret (with no overrides applied) is used. If a node matches more than one nodelabel, only the last matching nodelabel will apply (last in terms of the order the overrides are defined in the YAML). Exercising node/nodelabel overrides ----------------------------------- The following example demonstrates how to exercise the node/nodelabel overrides:: .. code-block:: yaml data: values: conf: mychart: foo: 1 # ""overrides"" keyword to invoke override behavior overrides: # To match these overrides to the right daemonset, the following key # needs to follow the pattern: # Chart.Name + '_' + $daemonset # where $daemonset is the value set for $daemonset in the daemonset # config above. mychart_mydaemonset: # labels dict contains a list of labels which overrides apply to. Dict may be excluded # if there are no labels to override. # Note - if a host satisfies more than one label in this list, then whichever matching # label is furtherest down on the list will be the one applied to the node. E.g., if # a host matched both label criteria below, then the overrides for ""another_label"" # would be applied. labels: # node label key and values to match against to apply these config overrides. # The values are ORed, so the daemonset will spawn to all nodes to node_type # set to ""foo"" and to all nodes with node_type set to ""bar"". - label: key: node_type values: - ""foo"" - ""bar"" # The setting overrides that will be applied for hosts with this host label conf: mychart: foo: 2 # another label/key to match against to apply different overrides - label: key: another_label values: - ""another_value"" # The setting overrides that will be applied for hosts with this host label conf: mychart: foo: 3 # hosts dict contains a list of hosts which overrides apply to. Dict may be excluded # if there are no hosts to override. hosts: # FQDN of the host to override settings on - name: superhost # The setting overrides that will be applied for this host conf: mychart: foo: 4 # FQDN of another host to override settings on - name: superhost2 # The setting overrides that will be applied for this host conf: mychart: foo: 5 Nova vcpu example ------------------ Some nodes may have a different vcpu_pin_set in nova.conf due to differences in CPU hardware. To address this, we can specify overrides in the values fed to the chart. Ex:The following shows a set of example hosts and the values fed into each:","Node and label specific configurations -------------------------------------- There are situations where we need to define configuration differently for different nodes in the environment. For example, we may require that some nodes have a different vcpu_pin_set or other hardware specific deltas in nova.conf. To do this, we can specify overrides in the values fed to the chart. Ex:The following shows a set of example hosts and the values fed into the configmap for each:",230,7
openstack%2Fopenstack-helm~master~If82db83bdb3bd8bebeb15382079b538fd8019376,openstack/openstack-helm,master,If82db83bdb3bd8bebeb15382079b538fd8019376,[neutron] Update rootwrap filters to support python3 applications,MERGED,2019-06-10 10:57:28.000000000,2019-06-19 16:17:26.000000000,2019-06-19 16:17:26.000000000,"[{'_account_id': 11934}, {'_account_id': 12281}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24580}]","[{'number': 1, 'created': '2019-06-10 10:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2cab22b46e10cf0542ef281b584e28a8820004c9', 'message': '[neutron] Update rootwrap filters to support python3 applications\n\nThere are the changes here\n\n1. extend current kill_metadata filter for python3 versions\n\n2. add kill_keepalived_monitor filters (introduced for neutron with\n  https://review.opendev.org/#/c/636710/ )\n\nChange-Id: If82db83bdb3bd8bebeb15382079b538fd8019376\n'}, {'number': 2, 'created': '2019-06-19 13:26:49.000000000', 'files': ['neutron/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/83fbb31192cb9973ba3a503e956c965857ac5b42', 'message': '[neutron] Update rootwrap filters to support python3 applications\n\nThere are the changes here\n\n1. extend current kill_metadata filter for python3 versions\n\n2. add kill_keepalived_monitor filters (introduced for neutron with\n  https://review.opendev.org/#/c/636710/ )\n\nChange-Id: If82db83bdb3bd8bebeb15382079b538fd8019376\n'}]",2,664243,83fbb31192cb9973ba3a503e956c965857ac5b42,12,5,2,9963,,,0,"[neutron] Update rootwrap filters to support python3 applications

There are the changes here

1. extend current kill_metadata filter for python3 versions

2. add kill_keepalived_monitor filters (introduced for neutron with
  https://review.opendev.org/#/c/636710/ )

Change-Id: If82db83bdb3bd8bebeb15382079b538fd8019376
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/43/664243/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/values.yaml'],1,2cab22b46e10cf0542ef281b584e28a8820004c9,python3-rootwrap," kill_metadata3: KillFilter, root, python3, -15, -9 kill_metadata36: KillFilter, root, python3.6, -15, -9 kill_keepalived: KillFilter, root, keepalived, -HUP, -15, -9 # The following filters are used to kill the keepalived state change monitor. # Since the monitor runs as a Python script, the system reports that the # command of the process to be killed is python. # TODO(mlavalle) These kill filters will be updated once we come up with a # mechanism to kill using the name of the script being executed by Python kill_keepalived_monitor_py: KillFilter, root, python, -15 kill_keepalived_monitor_py27: KillFilter, root, python2.7, -15 kill_keepalived_monitor_py3: KillFilter, root, python3, -15 kill_keepalived_monitor_py35: KillFilter, root, python3.5, -15 kill_keepalived_monitor_py36: KillFilter, root, python3.6, -15 kill_keepalived_monitor_py37: KillFilter, root, python3.7, -15 kill_metadata3: KillFilter, root, python3, -9 kill_metadata36: KillFilter, root, python3.6, -9"," kill_keepalived: KillFilter, root, /usr/sbin/keepalived, -HUP, -15, -9",16,1
openstack%2Fmonasca-ceilometer~master~I28de9011d3e8c73f9d5057c8ca05cd42d3262dfc,openstack/monasca-ceilometer,master,I28de9011d3e8c73f9d5057c8ca05cd42d3262dfc,Fix devstack deployment by restoring ceilosca_pipeline.yaml,MERGED,2019-05-31 04:53:16.000000000,2019-06-19 16:14:39.000000000,2019-06-19 16:14:39.000000000,"[{'_account_id': 10311}, {'_account_id': 14123}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 04:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/e463f7948a2fad86c64b08d5e4bf10c8962f564d', 'message': 'Fix devstack deployment by restoring ceilosca_pipeline.yaml\n\nIn our efforts to clean up meters that were removed from Ceilometer\nin the Rocky release (see c51491676156a9956206c6785159be3c89390cb3 )\nthe ceilosca_pipeline.yaml was deleted. However, that file is needed\nfor the devstack plugin, as specified in devstack/settings .\n\nThis patch restores that file, and renames it to make the purpose\nclearer.\n\nChange-Id: I28de9011d3e8c73f9d5057c8ca05cd42d3262dfc\n'}, {'number': 2, 'created': '2019-05-31 16:09:33.000000000', 'files': ['etc/ceilometer/pipeline.yaml', 'etc/ceilometer/ceilosca-devstack_pipeline.yaml', 'etc/ceilometer/monasca_pipeline.yaml', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/081bcfb9c7288d7cfa31aad4e708c39094270f7a', 'message': 'Fix devstack deployment by restoring ceilosca_pipeline.yaml\n\nIn our efforts to clean up meters that were removed from Ceilometer\nin the Rocky release (see c51491676156a9956206c6785159be3c89390cb3 )\nthe ceilosca_pipeline.yaml was deleted. However, that file is needed\nfor the devstack plugin, as specified in devstack/settings .\n\nThis patch restores that file, and renames it to make the purpose\nclearer.\n\nAlso added comments to the pipeline.yaml files to indicate their\npurpose.\n\nChange-Id: I28de9011d3e8c73f9d5057c8ca05cd42d3262dfc\n'}]",0,662382,081bcfb9c7288d7cfa31aad4e708c39094270f7a,11,3,2,10311,,,0,"Fix devstack deployment by restoring ceilosca_pipeline.yaml

In our efforts to clean up meters that were removed from Ceilometer
in the Rocky release (see c51491676156a9956206c6785159be3c89390cb3 )
the ceilosca_pipeline.yaml was deleted. However, that file is needed
for the devstack plugin, as specified in devstack/settings .

This patch restores that file, and renames it to make the purpose
clearer.

Also added comments to the pipeline.yaml files to indicate their
purpose.

Change-Id: I28de9011d3e8c73f9d5057c8ca05cd42d3262dfc
",git fetch https://review.opendev.org/openstack/monasca-ceilometer refs/changes/82/662382/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/ceilometer/ceilosca-devstack_pipeline.yaml', 'devstack/settings']",2,e463f7948a2fad86c64b08d5e4bf10c8962f564d,fix-ceilosca-devstack,CEILOSCA_CONF_FILES='ceilosca-devstack_pipeline.yaml:pipeline.yaml monasca_field_definitions.yaml',CEILOSCA_CONF_FILES='ceilosca_pipeline.yaml:pipeline.yaml monasca_field_definitions.yaml',25,1
openstack%2Fopenstack-ansible-os_cloudkitty~master~I83bf215d8aa25270d88f2dac28d17394d3bc21b4,openstack/openstack-ansible-os_cloudkitty,master,I83bf215d8aa25270d88f2dac28d17394d3bc21b4,Sync Sphinx requirement,ABANDONED,2019-06-19 16:00:20.000000000,2019-06-19 16:09:20.000000000,,[],"[{'number': 1, 'created': '2019-06-19 16:00:20.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/f241622b3e43d4adf7849f538fe43adaa6cb8e85', 'message': 'Sync Sphinx requirement\n\nChange-Id: I83bf215d8aa25270d88f2dac28d17394d3bc21b4\n'}]",0,666348,f241622b3e43d4adf7849f538fe43adaa6cb8e85,2,0,1,27781,,,0,"Sync Sphinx requirement

Change-Id: I83bf215d8aa25270d88f2dac28d17394d3bc21b4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/48/666348/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,f241622b3e43d4adf7849f538fe43adaa6cb8e85,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-lxc_hosts~master~I7f62255bed60a9a50a1ce75eb8f55850e7c94924,openstack/openstack-ansible-lxc_hosts,master,I7f62255bed60a9a50a1ce75eb8f55850e7c94924,Sync Sphinx requirement,ABANDONED,2019-06-19 15:59:53.000000000,2019-06-19 16:08:36.000000000,,[],"[{'number': 1, 'created': '2019-06-19 15:59:53.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/29637f3a8e0302fc56af68d2f1a093c555a56aa0', 'message': 'Sync Sphinx requirement\n\nChange-Id: I7f62255bed60a9a50a1ce75eb8f55850e7c94924\n'}]",0,666328,29637f3a8e0302fc56af68d2f1a093c555a56aa0,2,0,1,27781,,,0,"Sync Sphinx requirement

Change-Id: I7f62255bed60a9a50a1ce75eb8f55850e7c94924
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/28/666328/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,29637f3a8e0302fc56af68d2f1a093c555a56aa0,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",,2,0
openstack%2Fopenstack-ansible-os_barbican~master~I3572e88ad4362a16f378a917b2d47eac758f8d8b,openstack/openstack-ansible-os_barbican,master,I3572e88ad4362a16f378a917b2d47eac758f8d8b,Sync Sphinx requirement,ABANDONED,2019-06-19 15:59:56.000000000,2019-06-19 16:08:11.000000000,,[],"[{'number': 1, 'created': '2019-06-19 15:59:56.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/a92236a359b7e9e32a07b90a479abbeffdfe1747', 'message': 'Sync Sphinx requirement\n\nChange-Id: I3572e88ad4362a16f378a917b2d47eac758f8d8b\n'}]",0,666331,a92236a359b7e9e32a07b90a479abbeffdfe1747,2,0,1,27781,,,0,"Sync Sphinx requirement

Change-Id: I3572e88ad4362a16f378a917b2d47eac758f8d8b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/31/666331/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,a92236a359b7e9e32a07b90a479abbeffdfe1747,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",,2,0
openstack%2Fopenstack-ansible-galera_server~master~I50e873c0a4a24e30e705fd668ee91f70af5872f9,openstack/openstack-ansible-galera_server,master,I50e873c0a4a24e30e705fd668ee91f70af5872f9,Sync Sphinx requirement,ABANDONED,2019-06-19 15:59:57.000000000,2019-06-19 16:07:56.000000000,,[],"[{'number': 1, 'created': '2019-06-19 15:59:57.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/1e37e0398cbdbb8066dc762a34998e229eb75c1c', 'message': 'Sync Sphinx requirement\n\nChange-Id: I50e873c0a4a24e30e705fd668ee91f70af5872f9\n'}]",0,666332,1e37e0398cbdbb8066dc762a34998e229eb75c1c,2,0,1,27781,,,0,"Sync Sphinx requirement

Change-Id: I50e873c0a4a24e30e705fd668ee91f70af5872f9
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/32/666332/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,1e37e0398cbdbb8066dc762a34998e229eb75c1c,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",,2,0
openstack%2Fopenstack-ansible-openstack_hosts~master~Ic07406879371dfc9c44d25631a1f6600a72a1240,openstack/openstack-ansible-openstack_hosts,master,Ic07406879371dfc9c44d25631a1f6600a72a1240,Sync Sphinx requirement,ABANDONED,2019-06-19 16:00:01.000000000,2019-06-19 16:07:53.000000000,,[],"[{'number': 1, 'created': '2019-06-19 16:00:01.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/e513308aaebbd219a8edfcc336760bfca3cfd555', 'message': 'Sync Sphinx requirement\n\nChange-Id: Ic07406879371dfc9c44d25631a1f6600a72a1240\n'}]",0,666335,e513308aaebbd219a8edfcc336760bfca3cfd555,2,0,1,27781,,,0,"Sync Sphinx requirement

Change-Id: Ic07406879371dfc9c44d25631a1f6600a72a1240
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/35/666335/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,e513308aaebbd219a8edfcc336760bfca3cfd555,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",,2,0
openstack%2Fopenstack-helm-infra~master~I1ac35433287818f083677442dc783cb74c1db4ae,openstack/openstack-helm-infra,master,I1ac35433287818f083677442dc783cb74c1db4ae,Enabled the system commands in nagios frontpage ui,ABANDONED,2019-06-19 13:13:39.000000000,2019-06-19 16:06:58.000000000,,"[{'_account_id': 18295}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 30166}]","[{'number': 1, 'created': '2019-06-19 13:13:39.000000000', 'files': ['nagios/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8e6c7c11b9f0f4bae5f092024dfe01c0bedf6793', 'message': 'Enabled the system commands in nagios frontpage ui\n\nChange-Id: I1ac35433287818f083677442dc783cb74c1db4ae\n'}]",1,666285,8e6c7c11b9f0f4bae5f092024dfe01c0bedf6793,4,4,1,30120,,,0,"Enabled the system commands in nagios frontpage ui

Change-Id: I1ac35433287818f083677442dc783cb74c1db4ae
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/85/666285/1 && git format-patch -1 --stdout FETCH_HEAD,['nagios/values.yaml'],1,8e6c7c11b9f0f4bae5f092024dfe01c0bedf6793,," authorized_for_system_commands=nagiosadmin,*", authorized_for_system_commands=nagiosadmin,1,1
openstack%2Fopenstack-ansible-galera_client~master~I4c84eee423724897ba2cde38aa220e9ae0e09c53,openstack/openstack-ansible-galera_client,master,I4c84eee423724897ba2cde38aa220e9ae0e09c53,Sync Sphinx requirement,ABANDONED,2019-06-19 16:00:01.000000000,2019-06-19 16:06:56.000000000,,[],"[{'number': 1, 'created': '2019-06-19 16:00:01.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/d9e57f1b23b81bf30b8823f761b412f8c4b9a142', 'message': 'Sync Sphinx requirement\n\nChange-Id: I4c84eee423724897ba2cde38aa220e9ae0e09c53\n'}]",0,666337,d9e57f1b23b81bf30b8823f761b412f8c4b9a142,2,0,1,27781,,,0,"Sync Sphinx requirement

Change-Id: I4c84eee423724897ba2cde38aa220e9ae0e09c53
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/37/666337/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,d9e57f1b23b81bf30b8823f761b412f8c4b9a142,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",,2,0
openstack%2Fopenstack-ansible-os_aodh~master~Ic5674dce6ccaca5d6b251e599c98aa6025695a33,openstack/openstack-ansible-os_aodh,master,Ic5674dce6ccaca5d6b251e599c98aa6025695a33,Sync Sphinx requirement,ABANDONED,2019-06-19 16:00:02.000000000,2019-06-19 16:06:45.000000000,,[],"[{'number': 1, 'created': '2019-06-19 16:00:02.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/3a6bcc070c8f72e1f04b359965d073115281faa4', 'message': 'Sync Sphinx requirement\n\nChange-Id: Ic5674dce6ccaca5d6b251e599c98aa6025695a33\n'}]",0,666338,3a6bcc070c8f72e1f04b359965d073115281faa4,2,0,1,27781,,,0,"Sync Sphinx requirement

Change-Id: Ic5674dce6ccaca5d6b251e599c98aa6025695a33
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/38/666338/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,3a6bcc070c8f72e1f04b359965d073115281faa4,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",,2,0
openstack%2Fopenstack-ansible-os_blazar~master~I292b80ec3188c90a0f9d716cae801a5b46af6abd,openstack/openstack-ansible-os_blazar,master,I292b80ec3188c90a0f9d716cae801a5b46af6abd,Sync Sphinx requirement,ABANDONED,2019-06-19 16:00:08.000000000,2019-06-19 16:06:27.000000000,,[],"[{'number': 1, 'created': '2019-06-19 16:00:08.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/21529e8c5e56f8e62b7a5ad73d49430630678f11', 'message': 'Sync Sphinx requirement\n\nChange-Id: I292b80ec3188c90a0f9d716cae801a5b46af6abd\n'}]",0,666340,21529e8c5e56f8e62b7a5ad73d49430630678f11,2,0,1,27781,,,0,"Sync Sphinx requirement

Change-Id: I292b80ec3188c90a0f9d716cae801a5b46af6abd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/40/666340/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,21529e8c5e56f8e62b7a5ad73d49430630678f11,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",,2,0
openstack%2Fopenstack-ansible-os_keystone~master~Icb8f126cdb54832c6bbfb004eb5bf2719b255f6c,openstack/openstack-ansible-os_keystone,master,Icb8f126cdb54832c6bbfb004eb5bf2719b255f6c,Sync Sphinx requirement,ABANDONED,2019-06-19 16:00:34.000000000,2019-06-19 16:04:32.000000000,,[],"[{'number': 1, 'created': '2019-06-19 16:00:34.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/9cb9aca9db042062b15522a3dea6886262184985', 'message': 'Sync Sphinx requirement\n\nChange-Id: Icb8f126cdb54832c6bbfb004eb5bf2719b255f6c\n'}]",0,666357,9cb9aca9db042062b15522a3dea6886262184985,2,0,1,27781,,,0,"Sync Sphinx requirement

Change-Id: Icb8f126cdb54832c6bbfb004eb5bf2719b255f6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/57/666357/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,9cb9aca9db042062b15522a3dea6886262184985,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",,2,0
openstack%2Fopenstack-ansible-os_zun~master~I3e7488934559c8494979d4dbf969c71a710e7f56,openstack/openstack-ansible-os_zun,master,I3e7488934559c8494979d4dbf969c71a710e7f56,Sync Sphinx requirement,ABANDONED,2019-06-19 16:00:47.000000000,2019-06-19 16:03:44.000000000,,[],"[{'number': 1, 'created': '2019-06-19 16:00:47.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/f78c0cbecd14753aec166358de4e9107dfae2808', 'message': 'Sync Sphinx requirement\n\nChange-Id: I3e7488934559c8494979d4dbf969c71a710e7f56\n'}]",0,666366,f78c0cbecd14753aec166358de4e9107dfae2808,2,0,1,27781,,,0,"Sync Sphinx requirement

Change-Id: I3e7488934559c8494979d4dbf969c71a710e7f56
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/66/666366/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,f78c0cbecd14753aec166358de4e9107dfae2808,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",,2,0
openstack%2Fopenstack-ansible-os_ceilometer~master~I1246e791871deccdf087d2d99bfcc5e46d5868ea,openstack/openstack-ansible-os_ceilometer,master,I1246e791871deccdf087d2d99bfcc5e46d5868ea,Sync Sphinx requirement,ABANDONED,2019-06-19 16:00:13.000000000,2019-06-19 16:02:05.000000000,,[],"[{'number': 1, 'created': '2019-06-19 16:00:13.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/27aca4ac678a55401967548e49b213ef0dd9b947', 'message': 'Sync Sphinx requirement\n\nChange-Id: I1246e791871deccdf087d2d99bfcc5e46d5868ea\n'}]",0,666344,27aca4ac678a55401967548e49b213ef0dd9b947,2,0,1,27781,,,0,"Sync Sphinx requirement

Change-Id: I1246e791871deccdf087d2d99bfcc5e46d5868ea
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/44/666344/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,27aca4ac678a55401967548e49b213ef0dd9b947,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",,2,0
openstack%2Fopenstack-ansible-os_heat~master~Ib7c88ec6606bb6eeb2673b5605b099a32d2a79fb,openstack/openstack-ansible-os_heat,master,Ib7c88ec6606bb6eeb2673b5605b099a32d2a79fb,Sync Sphinx requirement,ABANDONED,2019-06-19 16:00:18.000000000,2019-06-19 16:01:49.000000000,,[],"[{'number': 1, 'created': '2019-06-19 16:00:18.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/1ea001206af3854554c2e1e65b96f52b954f1e9c', 'message': 'Sync Sphinx requirement\n\nChange-Id: Ib7c88ec6606bb6eeb2673b5605b099a32d2a79fb\n'}]",0,666345,1ea001206af3854554c2e1e65b96f52b954f1e9c,2,0,1,27781,,,0,"Sync Sphinx requirement

Change-Id: Ib7c88ec6606bb6eeb2673b5605b099a32d2a79fb
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/45/666345/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,1ea001206af3854554c2e1e65b96f52b954f1e9c,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",,2,0
openstack%2Fopenstack-ansible-os_gnocchi~master~Icd091e091790b3807f0dacab627110422781e55e,openstack/openstack-ansible-os_gnocchi,master,Icd091e091790b3807f0dacab627110422781e55e,Sync Sphinx requirement,ABANDONED,2019-06-19 16:00:21.000000000,2019-06-19 16:01:17.000000000,,[],"[{'number': 1, 'created': '2019-06-19 16:00:21.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/29076b2611febe7368107b1be5c91abf066b4a36', 'message': 'Sync Sphinx requirement\n\nChange-Id: Icd091e091790b3807f0dacab627110422781e55e\n'}]",0,666349,29076b2611febe7368107b1be5c91abf066b4a36,2,0,1,27781,,,0,"Sync Sphinx requirement

Change-Id: Icd091e091790b3807f0dacab627110422781e55e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/49/666349/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,29076b2611febe7368107b1be5c91abf066b4a36,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",,2,0
openstack%2Frally~master~I803cde8b0c498f81f26af7c8f710ef9b6ae8f11f,openstack/rally,master,I803cde8b0c498f81f26af7c8f710ef9b6ae8f11f,Propose 1.6.0 release,MERGED,2019-06-19 15:11:38.000000000,2019-06-19 15:58:06.000000000,2019-06-19 15:58:05.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 15:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/1eeb4ce05bf9860aca9a0fd605e24500dff6ae04', 'message': 'Propose 1.6.0 release\n\nChange-Id: I803cde8b0c498f81f26af7c8f710ef9b6ae8f11f\n'}, {'number': 2, 'created': '2019-06-19 15:13:19.000000000', 'files': ['etc/docker/README.md', 'tests/unit/doc/test_docker_readme.py', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally/commit/ee13ba4983c86bb21096a14a681593f958a416a2', 'message': 'Propose 1.6.0 release\n\nChange-Id: I803cde8b0c498f81f26af7c8f710ef9b6ae8f11f\n'}]",0,666314,ee13ba4983c86bb21096a14a681593f958a416a2,7,2,2,9545,,,0,"Propose 1.6.0 release

Change-Id: I803cde8b0c498f81f26af7c8f710ef9b6ae8f11f
",git fetch https://review.opendev.org/openstack/rally refs/changes/14/666314/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/docker/README.md', 'tests/unit/doc/test_docker_readme.py', 'CHANGELOG.rst']",3,1eeb4ce05bf9860aca9a0fd605e24500dff6ae04,newRelease,[1.6.0] - 2019-06-19 -------------------- Added ~~~~~~~ A list of tests to skip while running verification now supports regular expressions. Fixed ~~~~~ * incompatibility with SQLAlchemy 1.3 * several py3 issues of verification component ,,20,5
openstack%2Fpython-openstackclient~stable%2Frocky~Ia81eebd3e00ae986cf3ba7e3d98f3e8a1647b622,openstack/python-openstackclient,stable/rocky,Ia81eebd3e00ae986cf3ba7e3d98f3e8a1647b622,Use os-cloud instead of OS env vars for functional tests,ABANDONED,2019-06-13 12:16:12.000000000,2019-06-19 15:57:21.000000000,,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-13 12:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5bd13f96be3cf9ad66b47ea8bfb41fe5e221e4fd', 'message': ""Use os-cloud instead of OS env vars for functional tests\n\nIn order to support switching auth contexts, such as for registered_limits\nwhich take a system scoped token, switch the functional tests to using\nthe --os-cloud command line parameter. However, honor the OS_CLOUD env var\nas a way that someone can select a different cloud, including 'envvars',\nto use.\n\nUse devstack-system-admin cloud for limit tests\n\nKeystone requires these to have system scope now.\n\nChange-Id: Ia81eebd3e00ae986cf3ba7e3d98f3e8a1647b622\n(cherry picked from commit 2dd5393167119c043ae125fead9f8ed9ba84241d)\n""}, {'number': 2, 'created': '2019-06-19 15:44:53.000000000', 'files': ['openstackclient/tests/functional/base.py', 'openstackclient/tests/functional/identity/v3/test_limit.py', 'openstackclient/tests/functional/identity/v3/test_registered_limit.py', 'openstackclient/tests/functional/run_stestr.sh', 'openstackclient/tests/functional/identity/v3/common.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f9db3ac3603f4cbf0e9db486979cd99c81448149', 'message': ""Use os-cloud instead of OS env vars for functional tests\n\nIn order to support switching auth contexts, such as for registered_limits\nwhich take a system scoped token, switch the functional tests to using\nthe --os-cloud command line parameter. However, honor the OS_CLOUD env var\nas a way that someone can select a different cloud, including 'envvars',\nto use.\n\nUse devstack-system-admin cloud for limit tests\n\nKeystone requires these to have system scope now.\n\nChange-Id: Ia81eebd3e00ae986cf3ba7e3d98f3e8a1647b622\n(cherry picked from commit 2dd5393167119c043ae125fead9f8ed9ba84241d)\n""}]",0,665128,f9db3ac3603f4cbf0e9db486979cd99c81448149,4,2,2,30081,,,0,"Use os-cloud instead of OS env vars for functional tests

In order to support switching auth contexts, such as for registered_limits
which take a system scoped token, switch the functional tests to using
the --os-cloud command line parameter. However, honor the OS_CLOUD env var
as a way that someone can select a different cloud, including 'envvars',
to use.

Use devstack-system-admin cloud for limit tests

Keystone requires these to have system scope now.

Change-Id: Ia81eebd3e00ae986cf3ba7e3d98f3e8a1647b622
(cherry picked from commit 2dd5393167119c043ae125fead9f8ed9ba84241d)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/28/665128/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/functional/base.py', 'openstackclient/tests/functional/identity/v3/test_limit.py', 'openstackclient/tests/functional/identity/v3/test_registered_limit.py', 'openstackclient/tests/functional/run_stestr.sh', 'openstackclient/tests/functional/identity/v3/common.py', 'tox.ini']",6,5bd13f96be3cf9ad66b47ea8bfb41fe5e221e4fd,584905-stable/rocky, stestr run {posargs} stestr run {posargs},whitelist_externals = openstackclient/tests/functional/run_stestr.sh {toxinidir}/openstackclient/tests/functional/run_stestr.sh {posargs}whitelist_externals = openstackclient/tests/functional/run_stestr.sh {toxinidir}/openstackclient/tests/functional/run_stestr.sh {posargs},87,51
openstack%2Fopenstacksdk~master~I765a0722aa718ab8e430c3f8fc31c192091e9ca1,openstack/openstacksdk,master,I765a0722aa718ab8e430c3f8fc31c192091e9ca1,from_conf: fix handling service names with dashes,MERGED,2019-06-17 11:20:49.000000000,2019-06-19 15:57:09.000000000,2019-06-19 15:57:09.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-06-17 11:20:49.000000000', 'files': ['openstack/config/cloud_region.py', 'openstack/tests/unit/config/test_from_conf.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b94a8ce4a9d7de66736dccc791d72ba8f4d888f5', 'message': 'from_conf: fix handling service names with dashes\n\nServices like ironic-inspector are likely to be represented as\nironic_inspector in the configuration, so fall back to underscores\nif the variant with dashes is not found.\n\nChange-Id: I765a0722aa718ab8e430c3f8fc31c192091e9ca1\n'}]",0,665645,b94a8ce4a9d7de66736dccc791d72ba8f4d888f5,7,3,1,10239,,,0,"from_conf: fix handling service names with dashes

Services like ironic-inspector are likely to be represented as
ironic_inspector in the configuration, so fall back to underscores
if the variant with dashes is not found.

Change-Id: I765a0722aa718ab8e430c3f8fc31c192091e9ca1
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/45/665645/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/config/cloud_region.py', 'openstack/tests/unit/config/test_from_conf.py']",2,b94a8ce4a9d7de66736dccc791d72ba8f4d888f5,dashes," # test a service with dashes 'ironic_inspector': { 'endpoint_override': 'https://example.org:5050', }, def test_name_with_dashes(self): conn = self._get_conn() discovery = { ""versions"": { ""values"": [ {""status"": ""stable"", ""id"": ""v1"", ""links"": [{ ""href"": ""https://example.org:5050/v1"", ""rel"": ""self""}] }] } } self.register_uris([ dict(method='GET', uri='https://example.org:5050', json=discovery), ]) adap = conn.baremetal_introspection self.assertEqual('baremetal-introspection', adap.service_type) self.assertEqual('public', adap.interface) self.assertEqual('https://example.org:5050', adap.endpoint_override) ",,39,6
openstack%2Fopenstack-ansible-os_nova~master~I02d8b4eca600cdfced8ad1daa20798723b16d97a,openstack/openstack-ansible-os_nova,master,I02d8b4eca600cdfced8ad1daa20798723b16d97a,tess,ABANDONED,2019-06-19 15:52:09.000000000,2019-06-19 15:57:07.000000000,,[],"[{'number': 1, 'created': '2019-06-19 15:52:09.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/bcc0373e98b5c23c2a28905a9984985b2afddbad', 'message': 'tess\n\nChange-Id: I02d8b4eca600cdfced8ad1daa20798723b16d97a\n'}]",0,666323,bcc0373e98b5c23c2a28905a9984985b2afddbad,2,0,1,27781,,,0,"tess

Change-Id: I02d8b4eca600cdfced8ad1daa20798723b16d97a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/23/666323/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,bcc0373e98b5c23c2a28905a9984985b2afddbad,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",,2,0
openstack%2Fopenstack-helm-infra~master~I7906e85a200f6fb92467371218b4e5957add39f4,openstack/openstack-helm-infra,master,I7906e85a200f6fb92467371218b4e5957add39f4,Ingress: Clean prometheus-nginx.socket on startup,MERGED,2019-06-17 20:28:01.000000000,2019-06-19 15:54:24.000000000,2019-06-19 15:54:24.000000000,"[{'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 18236}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 24780}, {'_account_id': 28372}, {'_account_id': 28849}, {'_account_id': 29132}, {'_account_id': 29198}]","[{'number': 1, 'created': '2019-06-17 20:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a37a82d51be8c09f50f9e7fd246513758bff53bc', 'message': 'Ingress: Clean tmp dir on startup\n\nThis PS cleans the tmp dir on startup of the container, which\nis required as it leavs a socket in /tmp.\n\nChange-Id: I7906e85a200f6fb92467371218b4e5957add39f4\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-06-17 20:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bd2bc6f5d30190f6cf376eb2718f74b0c2818d81', 'message': 'Ingress: Clean tmp dir on startup\n\nThis PS cleans the tmp dir on startup of the container, which\nis required as it leaves a socket in /tmp.\n\nChange-Id: I7906e85a200f6fb92467371218b4e5957add39f4\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-06-17 21:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/25b053554e143d625bebb557152e700d681bc869', 'message': 'Ingress: Clean tmp dir on startup\n\nThis PS cleans the tmp dir on startup of the container, which\nis required as it leaves a socket in /tmp.\n\nChange-Id: I7906e85a200f6fb92467371218b4e5957add39f4\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2019-06-17 21:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/11ab4fcbd721571ab50b3781a47a5246d3e6719a', 'message': 'Ingress: Clean prometheus-nginx.socket on startup\n\nThis PS cleans the prometheus-nginx.socket on startup of the container,\nwhich is required to allow the container, as opposed to the pod, restart.\n\nChange-Id: I7906e85a200f6fb92467371218b4e5957add39f4\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2019-06-17 23:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/899f7b9dac19dbe39afc995a639a6de727300a16', 'message': 'Ingress: Clean prometheus-nginx.socket on startup\n\nThis PS cleans the prometheus-nginx.socket on startup of the container,\nwhich is required to allow the container, as opposed to the pod, restart.\n\nChange-Id: I7906e85a200f6fb92467371218b4e5957add39f4\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 6, 'created': '2019-06-18 21:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/11c547d8ace6ec6f48ad8f6e9a673ccfc8f13743', 'message': 'Ingress: Clean prometheus-nginx.socket on startup\n\nThis PS cleans the prometheus-nginx.socket on startup of the container,\nwhich is required to allow the container, as opposed to the pod, restart.\n\nChange-Id: I7906e85a200f6fb92467371218b4e5957add39f4\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 7, 'created': '2019-06-19 02:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0948ead89578820868063383a8ca8d1f73868e78', 'message': 'Ingress: Clean prometheus-nginx.socket on startup\n\nThis PS cleans the prometheus-nginx.socket on startup of the container,\nwhich is required to allow the container, as opposed to the pod, restart.\n\nChange-Id: I7906e85a200f6fb92467371218b4e5957add39f4\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 8, 'created': '2019-06-19 14:02:56.000000000', 'files': ['ingress/templates/bin/_ingress-controller.sh.tpl', 'mariadb/templates/bin/_mariadb-ingress-controller.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fc58be6a9393621691baa769a642f833628447d2', 'message': 'Ingress: Clean prometheus-nginx.socket on startup\n\nThis PS cleans the prometheus-nginx.socket on startup of the container,\nwhich is required to allow the container, as opposed to the pod, restart.\n\nChange-Id: I7906e85a200f6fb92467371218b4e5957add39f4\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,665759,fc58be6a9393621691baa769a642f833628447d2,39,12,8,23928,,,0,"Ingress: Clean prometheus-nginx.socket on startup

This PS cleans the prometheus-nginx.socket on startup of the container,
which is required to allow the container, as opposed to the pod, restart.

Change-Id: I7906e85a200f6fb92467371218b4e5957add39f4
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/59/665759/8 && git format-patch -1 --stdout FETCH_HEAD,"['ingress/templates/bin/_ingress-controller.sh.tpl', 'mariadb/templates/bin/_mariadb-ingress-controller.sh.tpl']",2,a37a82d51be8c09f50f9e7fd246513758bff53bc,socket-cleanup, rm -rfv /tmp/*,,2,0
openstack%2Fpython-openstackclient~stable%2Frocky~Id3cc907c1ed2a25b49cf6f4a7233e0401a02383a,openstack/python-openstackclient,stable/rocky,Id3cc907c1ed2a25b49cf6f4a7233e0401a02383a,Fix service discovery in functional tests,ABANDONED,2019-06-12 12:55:56.000000000,2019-06-19 15:51:30.000000000,,"[{'_account_id': 22348}, {'_account_id': 30081}]","[{'number': 1, 'created': '2019-06-12 12:55:56.000000000', 'files': ['openstackclient/tests/functional/base.py', 'openstackclient/tests/functional/common/test_extension.py', 'openstackclient/tests/functional/object/v1/common.py', 'openstackclient/tests/functional/common/test_quota.py', 'openstackclient/network/v2/subnet.py', 'openstackclient/tests/functional/network/v2/common.py', 'openstackclient/tests/functional/compute/v2/test_server.py', 'openstackclient/tests/functional/volume/v1/common.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f63a08691393e98324401d9023cfd3dcd57b7904', 'message': ""Fix service discovery in functional tests\n\nIf a required service is not enabled then we skip the test.\nThe discovery is done by tests/functional/base.py:is_service_enabled\nbut this method is broken, credentials are not passed to the\n'openstack service show' command so every call will fail and every test\nthat relies on it will be skipped. This commit fixed that method and\nthe issues that popped up when re-enabling tests.\n\nNetwork segment range:\n - issue where we assumed network-segment-range extension is always\n   present\n - issue where we compare integers and string representations of numbers\n\nSubnet:\n - issue where we try to deepcopy an uncopyable object in UnsetSubnet\n\nChange-Id: Id3cc907c1ed2a25b49cf6f4a7233e0401a02383a\nStory: 2005169\nTask: 29908\n(cherry picked from commit 7741347041b078ca4d687597897194d7797d202d)\n""}]",0,664880,f63a08691393e98324401d9023cfd3dcd57b7904,4,2,1,30081,,,0,"Fix service discovery in functional tests

If a required service is not enabled then we skip the test.
The discovery is done by tests/functional/base.py:is_service_enabled
but this method is broken, credentials are not passed to the
'openstack service show' command so every call will fail and every test
that relies on it will be skipped. This commit fixed that method and
the issues that popped up when re-enabling tests.

Network segment range:
 - issue where we assumed network-segment-range extension is always
   present
 - issue where we compare integers and string representations of numbers

Subnet:
 - issue where we try to deepcopy an uncopyable object in UnsetSubnet

Change-Id: Id3cc907c1ed2a25b49cf6f4a7233e0401a02383a
Story: 2005169
Task: 29908
(cherry picked from commit 7741347041b078ca4d687597897194d7797d202d)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/80/664880/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/functional/base.py', 'openstackclient/tests/functional/common/test_extension.py', 'openstackclient/tests/functional/object/v1/common.py', 'openstackclient/tests/functional/common/test_quota.py', 'openstackclient/network/v2/subnet.py', 'openstackclient/tests/functional/network/v2/common.py', 'openstackclient/tests/functional/compute/v2/test_server.py', 'openstackclient/tests/functional/volume/v1/common.py']",8,f63a08691393e98324401d9023cfd3dcd57b7904,, cls.haz_volume_v1 = cls.is_service_enabled('volume'),from openstackclient.tests.functional import base cls.haz_volume_v1 = base.is_service_enabled('volume'),34,34
openstack%2Frally~master~I8ac7f5560b0c0d51bf744e1be6bf3768c978e5df,openstack/rally,master,I8ac7f5560b0c0d51bf744e1be6bf3768c978e5df,[verify ]Fix several py3 issues,MERGED,2019-06-19 15:04:13.000000000,2019-06-19 15:50:49.000000000,2019-06-19 15:50:49.000000000,"[{'_account_id': 9545}, {'_account_id': 21528}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 15:04:13.000000000', 'files': ['rally/api.py', 'tests/unit/test_api.py', 'rally/verification/manager.py', 'rally/cli/commands/verify.py', 'tests/functional/utils.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/45cc9ad01f0eaa06735e5c8518bac80143a854f9', 'message': '[verify ]Fix several py3 issues\n\n1. switch \\u2714 to :-)\n   a. \\u2714 can not be decoded on py3\n   b. \\u2714 can not shown rightly on Window as Linux\n\n2. compatiable py3 and py2 for load_lists\n\nChange-Id: I8ac7f5560b0c0d51bf744e1be6bf3768c978e5df\n'}]",0,666312,45cc9ad01f0eaa06735e5c8518bac80143a854f9,6,3,1,9545,,,0,"[verify ]Fix several py3 issues

1. switch \u2714 to :-)
   a. \u2714 can not be decoded on py3
   b. \u2714 can not shown rightly on Window as Linux

2. compatiable py3 and py2 for load_lists

Change-Id: I8ac7f5560b0c0d51bf744e1be6bf3768c978e5df
",git fetch https://review.opendev.org/openstack/rally refs/changes/12/666312/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/api.py', 'tests/unit/test_api.py', 'rally/verification/manager.py', 'rally/cli/commands/verify.py', 'tests/functional/utils.py']",5,45cc9ad01f0eaa06735e5c8518bac80143a854f9,verifier," output = encodeutils.safe_decode(e.output) raise RallyCliError(cmd, e.returncode, output)"," output = e.output raise RallyCliError(cmd, e.returncode, e.output)",19,8
openstack%2Fkolla-ansible~stable%2Frocky~I41b2986b2f4ccd8fdc6553e83737e4106b6a2c07,openstack/kolla-ansible,stable/rocky,I41b2986b2f4ccd8fdc6553e83737e4106b6a2c07,"Fix issue finding custom, host specific plugins",MERGED,2019-06-18 18:29:07.000000000,2019-06-19 15:50:18.000000000,2019-06-19 15:50:18.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 18:29:07.000000000', 'files': ['ansible/roles/monasca/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0bed6dd4b0e8b4cb9a8a6492219ee664459c4c05', 'message': 'Fix issue finding custom, host specific plugins\n\nThe results from the find operation need to be registered per host,\nbecause they depend on the host which runs the search. This bug\nimpacts users specifying custom plugins for specific hosts.\n\nChange-Id: I41b2986b2f4ccd8fdc6553e83737e4106b6a2c07\n(cherry picked from commit 4be219fcb7f3ed188ea0c4c5b2cb9a1fdba51991)\n'}]",0,666143,0bed6dd4b0e8b4cb9a8a6492219ee664459c4c05,11,4,1,14826,,,0,"Fix issue finding custom, host specific plugins

The results from the find operation need to be registered per host,
because they depend on the host which runs the search. This bug
impacts users specifying custom plugins for specific hosts.

Change-Id: I41b2986b2f4ccd8fdc6553e83737e4106b6a2c07
(cherry picked from commit 4be219fcb7f3ed188ea0c4c5b2cb9a1fdba51991)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/43/666143/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/monasca/tasks/config.yml'],1,0bed6dd4b0e8b4cb9a8a6492219ee664459c4c05,,, run_once: True,0,1
openstack%2Fopenstack-helm~master~Ide1918c1ed264ccc2998008b2334542e3d683bfc,openstack/openstack-helm,master,Ide1918c1ed264ccc2998008b2334542e3d683bfc,keystone: default domain fix,MERGED,2019-06-04 09:54:39.000000000,2019-06-19 15:50:12.000000000,2019-06-19 15:50:12.000000000,"[{'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17068}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-04 09:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6c5859f0b9e24580d4b8a380838e5a11c3eba1d6', 'message': 'keystone: default domain fix\n\nProvide the default domain id and assign the admin\nrole to it on bootstrap.\nCurrently we cannot provide domain scoped tokens with\nthe admin user due to it not being assigned the admin\nrole for the default domain.\n\nThis patch makes it so we assign the proper role on bootstrap.\n\nDepends-on: https://review.opendev.org/662992\nChange-Id: Ide1918c1ed264ccc2998008b2334542e3d683bfc\n'}, {'number': 2, 'created': '2019-06-19 13:05:05.000000000', 'files': ['keystone/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d4b8f16f262a2125c15b367dceb5a1733a3eb777', 'message': 'keystone: default domain fix\n\nProvide the default domain id and assign the admin\nrole to it on bootstrap.\nCurrently we cannot provide domain scoped tokens with\nthe admin user due to it not being assigned the admin\nrole for the default domain.\n\nThis patch makes it so we assign the proper role on bootstrap.\n\nDepends-on: https://review.opendev.org/662992\nChange-Id: Ide1918c1ed264ccc2998008b2334542e3d683bfc\n'}]",0,662993,d4b8f16f262a2125c15b367dceb5a1733a3eb777,25,7,2,12281,,,0,"keystone: default domain fix

Provide the default domain id and assign the admin
role to it on bootstrap.
Currently we cannot provide domain scoped tokens with
the admin user due to it not being assigned the admin
role for the default domain.

This patch makes it so we assign the proper role on bootstrap.

Depends-on: https://review.opendev.org/662992
Change-Id: Ide1918c1ed264ccc2998008b2334542e3d683bfc
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/93/662993/2 && git format-patch -1 --stdout FETCH_HEAD,['keystone/values.yaml'],1,6c5859f0b9e24580d4b8a380838e5a11c3eba1d6,fix_default_domain_admin," # admin needs the admin role for the default domain openstack role add \ --user=""${OS_USERNAME}"" \ --domain=""${OS_DEFAULT_DOMAIN}"" \ ""admin"" default_domain_id: default default_domain_id: default",,8,0
openstack%2Ftripleo-common~stable%2Frocky~I75b64dca102a62c06c56327cf425451ae804e3b9,openstack/tripleo-common,stable/rocky,I75b64dca102a62c06c56327cf425451ae804e3b9,Only update parameters once in backup workflow,MERGED,2019-06-18 03:28:25.000000000,2019-06-19 15:42:49.000000000,2019-06-19 15:42:49.000000000,"[{'_account_id': 7385}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-18 03:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6c4ec76429dd629c054199a2eff02f0115c18844', 'message': ""Only update parameters once in backup workflow\n\nIn the swift backup workflow we create 2 parameters for temp URLs, but\nwe don't need to call parameters.update twice, just once with the two\nnew parameters.\n\nChange-Id: I75b64dca102a62c06c56327cf425451ae804e3b9\nRelated-Bug: #1817539\n(cherry picked from commit e07dc79693ef1300a8b4cb900effe95314f18fac)\n""}, {'number': 2, 'created': '2019-06-18 16:33:03.000000000', 'files': ['workbooks/plan_management.yaml', 'workbooks/swift_backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b41d18c5f83a33ef37c3579b5c84b02db3ddf82a', 'message': ""Only update parameters once in backup workflow\n\nIn the swift backup workflow we create 2 parameters for temp URLs, but\nwe don't need to call parameters.update twice, just once with the two\nnew parameters.\n\nIt also includes fix for 'create_ceph_ansible_fetch_directory_backup_plan'\ntask to pass the 'validate_stack' input.\n\nChange-Id: I75b64dca102a62c06c56327cf425451ae804e3b9\nRelated-Bug: #1817539\n(cherry picked from commit e07dc79693ef1300a8b4cb900effe95314f18fac)\n""}]",0,665852,b41d18c5f83a33ef37c3579b5c84b02db3ddf82a,12,5,2,8833,,,0,"Only update parameters once in backup workflow

In the swift backup workflow we create 2 parameters for temp URLs, but
we don't need to call parameters.update twice, just once with the two
new parameters.

It also includes fix for 'create_ceph_ansible_fetch_directory_backup_plan'
task to pass the 'validate_stack' input.

Change-Id: I75b64dca102a62c06c56327cf425451ae804e3b9
Related-Bug: #1817539
(cherry picked from commit e07dc79693ef1300a8b4cb900effe95314f18fac)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/52/665852/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/swift_backup.yaml'],1,6c4ec76429dd629c054199a2eff02f0115c18844,bug/1817539," on-success: put_tempurl on-success: set_tempurl set_tempurl: parameters: <% {$.get_url_parm => task(get_tempurl).result, $.put_url_parm => task(put_tempurl).result} %> on-error: set_tempurl_failed set_tempurl_failed: message: <% task(set_tempurl).result %>", on-success: set_get_tempurl set_get_tempurl: action: tripleo.parameters.update input: parameters: <% {$.get_url_parm => task(get_tempurl).result} %> container: <% $.container %> on-success: put_tempurl on-success: set_put_tempurl set_put_tempurl: parameters: <% {$.put_url_parm => task(put_tempurl).result} %> on-error: set_put_tempurl_failed set_put_tempurl_failed: message: <% task(set_put_tempurl).result %>,7,14
openstack%2Fswift~master~Ib2c26fdf7bd36ed1cccd5dbd1fa208f912f4d8d5,openstack/swift,master,Ib2c26fdf7bd36ed1cccd5dbd1fa208f912f4d8d5,py3: port obj/reconstructor tests,MERGED,2019-04-16 04:44:59.000000000,2019-06-19 15:35:03.000000000,2019-06-19 15:32:21.000000000,"[{'_account_id': 597}, {'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-16 04:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3584b4ac341a11a89af5959c9bfbc94af5af851a', 'message': 'py3: port obj/reconstructor\n\nMostly, this involves porting the *tests* for the reconstructor; the\nswift/ changes are all rather minor.\n\nChange-Id: Ib2c26fdf7bd36ed1cccd5dbd1fa208f912f4d8d5\n'}, {'number': 2, 'created': '2019-05-14 17:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/11fc2a0e5291abf176555c3dbb9b17b27a9f1370', 'message': 'py3: port obj/reconstructor\n\nMostly, this involves porting the *tests* for the reconstructor; the\nswift/ changes are all rather minor.\n\nChange-Id: Ib2c26fdf7bd36ed1cccd5dbd1fa208f912f4d8d5\n'}, {'number': 3, 'created': '2019-06-07 17:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5390e77fcf7fb053477b17cec64709192fe5d761', 'message': 'py3: port obj/reconstructor tests\n\nAll of the swift changes we needed for this were already done elsewhere.\n\nChange-Id: Ib2c26fdf7bd36ed1cccd5dbd1fa208f912f4d8d5\n'}, {'number': 4, 'created': '2019-06-10 15:32:05.000000000', 'files': ['test/unit/__init__.py', 'tox.ini', 'test/unit/obj/test_reconstructor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e8e7106d14f9bfe16427b5be300368c24c162481', 'message': 'py3: port obj/reconstructor tests\n\nAll of the swift changes we needed for this were already done elsewhere.\n\nChange-Id: Ib2c26fdf7bd36ed1cccd5dbd1fa208f912f4d8d5\n'}]",5,652819,e8e7106d14f9bfe16427b5be300368c24c162481,23,4,4,15343,,,0,"py3: port obj/reconstructor tests

All of the swift changes we needed for this were already done elsewhere.

Change-Id: Ib2c26fdf7bd36ed1cccd5dbd1fa208f912f4d8d5
",git fetch https://review.opendev.org/openstack/swift refs/changes/19/652819/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/reconstructor.py', 'test/unit/__init__.py', 'swift/common/storage_policy.py', 'tox.ini', 'swift/obj/diskfile.py', 'test/unit/obj/test_reconstructor.py']",6,3584b4ac341a11a89af5959c9bfbc94af5af851a,652819,"import six test_data = test_data or b'test data' # the dict diffs can be pretty big self.maxDiff = 2048 self.assertEqual(job, expected_by_part_frag_index[job_key]) self.reconstructor.stats_interval = 0.01 with Timeout(1): self._run_once(32, extra_devices) with Timeout(1): self._run_once(3, extra_devices, 'sdc1') with open(pickle_path, 'wb') as f: 'id': len(local_devs), 'id': len(local_devs), 'id': len(local_devs) + 1, self.assertEqual(job['suffixes'], list(stub_hashes.keys())) 'suffixes': list(stub_hashes.keys()), test_data = b'test data' obj_path = b'/a/c/o' # subclass overrides this test_data = (b'rebuild' * self.policy.ec_segment_size)[:-777] fixed_body = b''.join(df.reader()) test_data = (b'rebuild' * self.policy.ec_segment_size)[:-777] fixed_body = b''.join(df.reader()) test_data = (b'rebuild' * self.policy.ec_segment_size)[:-777] fixed_body = b''.join(df.reader()) test_data = (b'rebuild' * self.policy.ec_segment_size)[:-454] fixed_body = b''.join(df.reader()) test_data = (b'rebuild' * self.policy.ec_segment_size)[:-777] fixed_body = b''.join(df.reader()) test_data = (b'rebuild' * self.policy.ec_segment_size)[:-777] fixed_body = b''.join(df.reader()) fixed_body = b''.join(df.reader()) test_data = (b'rebuild' * self.policy.ec_segment_size)[:-777] fixed_body = b''.join(df.reader()) fixed_body = b''.join(df.reader()) test_data = (b'rebuild' * self.policy.ec_segment_size)[:-777] test_data = (b'rebuild' * self.policy.ec_segment_size)[:-777] fixed_body = b''.join(df.reader()) test_data = (b'rebuild' * self.policy.ec_segment_size)[:-777] fixed_body = b''.join(df.reader()) test_data = (b'rebuild' * self.policy.ec_segment_size)[:-777] fixed_body = b''.join(df.reader()) ) if six.PY2: expected_warning = expected_warning.decode('utf8') test_data = (b'rebuild' * self.policy.ec_segment_size)[:-777] fixed_body = b''.join(df.reader()) ) if six.PY2: expected_warning = expected_warning.decode('utf8') obj_path = b'/a/c/o\xc3\xa8' test_data = (b'rebuild' * self.policy.ec_segment_size)[:-777] fixed_body = b''.join(df.reader())"," test_data = test_data or 'test data' for k, value in job.items(): expected_value = \ expected_by_part_frag_index[job_key][k] try: if isinstance(value, list): value.sort() expected_value.sort() self.assertEqual(value, expected_value) except AssertionError as e: extra_info = \ '\n\n... for %r in part num %s frag %s' % ( k, part_num, job_key[1]) raise AssertionError(str(e) + extra_info) self.reconstructor.stats_interval = 0 self._run_once(32, extra_devices) self._run_once(3, extra_devices, 'sdc1') with open(pickle_path, 'w') as f: 'id': i + 1, 'id': i + 1, 'id': i + 2, self.assertEqual(job['suffixes'], stub_hashes.keys()) 'suffixes': stub_hashes.keys(), test_data = 'test data' obj_path = '/a/c/o' # subclass overrides this test_data = ('rebuild' * self.policy.ec_segment_size)[:-777] fixed_body = ''.join(df.reader()) test_data = ('rebuild' * self.policy.ec_segment_size)[:-777] fixed_body = ''.join(df.reader()) test_data = ('rebuild' * self.policy.ec_segment_size)[:-777] fixed_body = ''.join(df.reader()) test_data = ('rebuild' * self.policy.ec_segment_size)[:-454] fixed_body = ''.join(df.reader()) test_data = ('rebuild' * self.policy.ec_segment_size)[:-777] fixed_body = ''.join(df.reader()) test_data = ('rebuild' * self.policy.ec_segment_size)[:-777] fixed_body = ''.join(df.reader()) fixed_body = ''.join(df.reader()) test_data = ('rebuild' * self.policy.ec_segment_size)[:-777] fixed_body = ''.join(df.reader()) fixed_body = ''.join(df.reader()) test_data = ('rebuild' * self.policy.ec_segment_size)[:-777] test_data = ('rebuild' * self.policy.ec_segment_size)[:-777] fixed_body = ''.join(df.reader()) test_data = ('rebuild' * self.policy.ec_segment_size)[:-777] fixed_body = ''.join(df.reader()) test_data = ('rebuild' * self.policy.ec_segment_size)[:-777] fixed_body = ''.join(df.reader()) ).encode('latin1').decode('utf8') test_data = ('rebuild' * self.policy.ec_segment_size)[:-777] fixed_body = ''.join(df.reader()) ).encode('latin1').decode('utf8') obj_path = '/a/c/o\xc3\xa8' test_data = ('rebuild' * self.policy.ec_segment_size)[:-777] fixed_body = ''.join(df.reader())",70,58
openstack%2Fopenstackdocstheme~master~Iad7b329272fedb314db8d70f6ec38e85eb495b14,openstack/openstackdocstheme,master,Iad7b329272fedb314db8d70f6ec38e85eb495b14,Add 'docstheme-build-pdf' script,MERGED,2019-06-13 15:46:02.000000000,2019-06-19 15:33:44.000000000,2019-06-19 15:33:43.000000000,"[{'_account_id': 2}, {'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 10607}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-13 15:46:02.000000000', 'files': ['bin/docstheme-build-pdf', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/9b798ec9a2b7cfff81d7a9a3cf07b80497166c71', 'message': ""Add 'docstheme-build-pdf' script\n\nChange-Id: Iad7b329272fedb314db8d70f6ec38e85eb495b14\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,665163,9b798ec9a2b7cfff81d7a9a3cf07b80497166c71,10,6,1,15334,,,0,"Add 'docstheme-build-pdf' script

Change-Id: Iad7b329272fedb314db8d70f6ec38e85eb495b14
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/63/665163/1 && git format-patch -1 --stdout FETCH_HEAD,"['bin/docstheme-build-pdf', 'setup.cfg']",2,9b798ec9a2b7cfff81d7a9a3cf07b80497166c71,build-pdf-docs, bin/docstheme-build-pdf,,42,0
openstack%2Ftripleo-ansible~master~I3a34152dd0cd7363a6f138d6e1c6fd0f062a3ac6,openstack/tripleo-ansible,master,I3a34152dd0cd7363a6f138d6e1c6fd0f062a3ac6,Create an aide role,MERGED,2019-06-12 03:19:57.000000000,2019-06-19 15:30:32.000000000,2019-06-19 15:30:32.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20147}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-12 03:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c6d888459b73598724a7b2615eb2f43938fa5836', 'message': 'Create an aide role\n\nThis change imports the aide content from the tripleo-heat-templates\nproject and creates a role which can be used throughout the tripleo\nproject ecosystem.\n\nThe role will test in docker containers running both fedora28 and\ncentos7.\n\nChange-Id: I3a34152dd0cd7363a6f138d6e1c6fd0f062a3ac6\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 2, 'created': '2019-06-12 03:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/97774de69b7d15943b413bbd01d0ae469a251dbe', 'message': 'Create an aide role\n\nThis change imports the aide content from the tripleo-heat-templates\nproject and creates a role which can be used throughout the tripleo\nproject ecosystem.\n\nThe role will test in docker containers running both fedora28 and\ncentos7.\n\nChange-Id: I3a34152dd0cd7363a6f138d6e1c6fd0f062a3ac6\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 3, 'created': '2019-06-13 18:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5b39c501a7fb738642b5188f59671cd8a17c415d', 'message': 'Create an aide role\n\nThis change imports the aide content from the tripleo-heat-templates\nproject and creates a role which can be used throughout the tripleo\nproject ecosystem.\n\nThe role will test in docker containers running both fedora28 and\ncentos7.\n\nChange-Id: I3a34152dd0cd7363a6f138d6e1c6fd0f062a3ac6\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 4, 'created': '2019-06-14 15:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cf8c7778a7f278814a655fc0149df5c1944e0c77', 'message': 'Create an aide role\n\nThis change imports the aide content from the tripleo-heat-templates\nproject and creates a role which can be used throughout the tripleo\nproject ecosystem.\n\nThe role will test in docker containers running both fedora28 and\ncentos7.\n\nChange-Id: I3a34152dd0cd7363a6f138d6e1c6fd0f062a3ac6\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 5, 'created': '2019-06-17 14:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/84155be8abfa62f4b943106add3d51e5b472f1ea', 'message': 'Create an aide role\n\nThis change imports the aide content from the tripleo-heat-templates\nproject and creates a role which can be used throughout the tripleo\nproject ecosystem.\n\nThe role will test in docker containers running both fedora28 and\ncentos7.\n\nChange-Id: I3a34152dd0cd7363a6f138d6e1c6fd0f062a3ac6\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 6, 'created': '2019-06-17 16:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b0abf236fca039b218e179b01315e9b97b32c7ed', 'message': 'Create an aide role\n\nThis change imports the aide content from the tripleo-heat-templates\nproject and creates a role which can be used throughout the tripleo\nproject ecosystem.\n\nThe role will test in docker containers running both fedora28 and\ncentos7.\n\nChange-Id: I3a34152dd0cd7363a6f138d6e1c6fd0f062a3ac6\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 7, 'created': '2019-06-17 21:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e847ccd6a69d959ed6688f78ec95938faa469b1b', 'message': 'Create an aide role\n\nThis change imports the aide content from the tripleo-heat-templates\nproject and creates a role which can be used throughout the tripleo\nproject ecosystem.\n\nThe role will test in docker containers running both fedora28 and\ncentos7.\n\nChange-Id: I3a34152dd0cd7363a6f138d6e1c6fd0f062a3ac6\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2019-06-17 22:16:24.000000000', 'files': ['tripleo_ansible/roles/aide/README.md', 'tripleo_ansible/roles/aide/molecule/default/playbook.yml', 'tripleo_ansible/roles/aide/vars/redhat.yml', 'tripleo_ansible/roles/aide/molecule/default/Dockerfile', 'tripleo_ansible/roles/aide/defaults/main.yml', 'tripleo_ansible/roles/aide/handlers/main.yml', 'doc/source/roles/role-aide.rst', 'tripleo_ansible/roles/aide/tasks/aide_install.yml', 'tripleo_ansible/roles/aide/tasks/main.yml', 'tripleo_ansible/roles/aide/vars/main.yml', 'tripleo_ansible/roles/aide/tasks/aide_config.yml', 'tripleo_ansible/roles/aide/molecule/default/verify.yml', 'tripleo_ansible/roles/aide/files/.gitkeep', 'tripleo_ansible/roles/aide/meta/main.yml', 'zuul.d/layout.yaml', 'tripleo_ansible/roles/aide/molecule/default/molecule.yml', 'tox.ini', 'tripleo_ansible/roles/aide/tasks/aide_upgrade.yml', 'zuul.d/jobs.yaml', 'tripleo_ansible/roles/aide/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/be85c6e135071a2489bd0f735e4743dbe4b41bc5', 'message': 'Create an aide role\n\nThis change imports the aide content from the tripleo-heat-templates\nproject and creates a role which can be used throughout the tripleo\nproject ecosystem.\n\nThe role will test in docker containers running both fedora28 and\ncentos7.\n\nChange-Id: I3a34152dd0cd7363a6f138d6e1c6fd0f062a3ac6\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",4,664772,be85c6e135071a2489bd0f735e4743dbe4b41bc5,26,5,8,7353,,,0,"Create an aide role

This change imports the aide content from the tripleo-heat-templates
project and creates a role which can be used throughout the tripleo
project ecosystem.

The role will test in docker containers running both fedora28 and
centos7.

Change-Id: I3a34152dd0cd7363a6f138d6e1c6fd0f062a3ac6
Signed-off-by: Kevin Carter <kevin@cloudnull.com>
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/72/664772/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/aide/README.md', 'tripleo_ansible/roles/aide/molecule/default/playbook.yml', 'tripleo_ansible/roles/aide/vars/redhat.yml', 'tripleo_ansible/roles/aide/molecule/default/Dockerfile', 'tripleo_ansible/roles/aide/defaults/main.yml', 'tripleo_ansible/roles/aide/handlers/main.yml', 'tripleo_ansible/roles/aide/tasks/aide_install.yml', 'tripleo_ansible/roles/aide/tasks/main.yml', 'tripleo_ansible/roles/aide/vars/main.yml', 'tripleo_ansible/roles/aide/tasks/aide_config.yml', 'tripleo_ansible/roles/aide/molecule/default/verify.yml', 'tripleo_ansible/roles/aide/files/.gitkeep', 'tripleo_ansible/roles/aide/meta/main.yml', 'zuul.d/layout.yaml', 'tripleo_ansible/roles/aide/molecule/default/molecule.yml', 'tox.ini', 'tripleo_ansible/roles/aide/tasks/aide_upgrade.yml', 'zuul.d/jobs.yaml', 'tripleo_ansible/roles/aide/molecule/default/prepare.yml']",19,c6d888459b73598724a7b2615eb2f43938fa5836,aide,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Prepare hosts: all roles: - role: test_deps post_tasks: - name: Ensure cronie is installed package: name: cronie state: present ",,527,6
openstack%2Fcharm-neutron-api~master~I838ca6e7bf505d316e0dd703a0a50a8bc2e16e53,openstack/charm-neutron-api,master,I838ca6e7bf505d316e0dd703a0a50a8bc2e16e53,Sync in security guide fixes and fix local,MERGED,2019-06-19 06:36:09.000000000,2019-06-19 15:25:45.000000000,2019-06-19 15:25:45.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 06:36:09.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/storage/linux/utils.py', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'tests/basic_deployment.py', 'actions/security_checklist.py', 'hooks/charmhelpers/contrib/openstack/templates/vendor_data.json', 'hooks/charmhelpers/contrib/openstack/audits/openstack_security_guide.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-v3only', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/1ea1398f4532bed0f952f6bae875bf0badf6bc76', 'message': 'Sync in security guide fixes and fix local\n\nNeutron.conf, in Ocata, has a multi valued string config option\nwhich ConfigParser treats as invalid INI. This change resovles\nthat and allows it to parse.\n\nCloses-Bug: #1833368\nChange-Id: I838ca6e7bf505d316e0dd703a0a50a8bc2e16e53\n'}]",0,666231,1ea1398f4532bed0f952f6bae875bf0badf6bc76,9,4,1,20634,,,0,"Sync in security guide fixes and fix local

Neutron.conf, in Ocata, has a multi valued string config option
which ConfigParser treats as invalid INI. This change resovles
that and allows it to parse.

Closes-Bug: #1833368
Change-Id: I838ca6e7bf505d316e0dd703a0a50a8bc2e16e53
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/31/666231/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/storage/linux/utils.py', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'tests/basic_deployment.py', 'actions/security_checklist.py', 'hooks/charmhelpers/contrib/openstack/templates/vendor_data.json', 'hooks/charmhelpers/contrib/openstack/audits/openstack_security_guide.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-v3only', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py']",16,1ea1398f4532bed0f952f6bae875bf0badf6bc76,bug/1833368," 'trusty_mitaka', 'xenial_mitaka', 'xenial_newton', 'yakkety_newton', 'xenial_ocata', 'zesty_ocata', 'xenial_pike', 'artful_pike', 'xenial_queens', 'bionic_queens', 'bionic_rocky', 'cosmic_rocky', 'bionic_stein', 'disco_stein', 'bionic_train', 'eoan_train', ]"," 'trusty_mitaka', 'xenial_mitaka', 'xenial_newton', 'yakkety_newton', 'xenial_ocata', 'zesty_ocata', 'xenial_pike', 'artful_pike', 'xenial_queens', 'bionic_queens', 'bionic_rocky', 'cosmic_rocky', 'bionic_stein', 'disco_stein']",309,34
openstack%2Fpaunch~master~I5656c9f501659f47a1f392cb1c9890831904b299,openstack/paunch,master,I5656c9f501659f47a1f392cb1c9890831904b299,WIP - Implement podman ps command,ABANDONED,2019-06-18 01:24:37.000000000,2019-06-19 15:15:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-18 01:24:37.000000000', 'files': ['paunch/tests/test_runner.py', 'paunch/runner.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/fb356921a02adb2eeb64f278d7e3fac3da9cc914', 'message': 'WIP - Implement podman ps command\n\nChange-Id: I5656c9f501659f47a1f392cb1c9890831904b299\n'}]",0,665837,fb356921a02adb2eeb64f278d7e3fac3da9cc914,4,2,1,3153,,,0,"WIP - Implement podman ps command

Change-Id: I5656c9f501659f47a1f392cb1c9890831904b299
",git fetch https://review.opendev.org/openstack/paunch refs/changes/37/665837/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/tests/test_runner.py', 'paunch/runner.py']",2,fb356921a02adb2eeb64f278d7e3fac3da9cc914,podman/ps,"from six.moves import html_parser def ps(self, output_format=None, output_filter=[], quiet=False): if self.cont_cmd != 'podman': self.log.warning(""ps isn't supported by %s"" % self.cont_cmd) return 0 cmd = [self.cont_cmd, 'ps', '-a'] if output_format: cmd.append('--format') cmd.append(output_format) for filter in output_filter: cmd.append('--filter') cmd.append(filter) (cmd_stdout, cmd_stderr, returncode) = self.execute( cmd, self.log, quiet) if returncode != 0: return try: if output_format: try: # Old versions of Podman can return an JSON encoded in HTML # https://github.com/containers/libpod/issues/3353 h = html_parser.HTMLParser() return h.unescape(cmd_stdout) except Exception as e: self.log.error('Problem parsing %s ps JSON output: %s' % (self.cont_cmd, e)) else: return cmd_stdout except Exception as e: self.log.error('Problem parsing %s ps: %s' % (self.cont_cmd, e)) ",,105,0
openstack%2Fdesignate~master~Iab163987fb8b27b21d4870eeb59f5d5f84229f91,openstack/designate,master,Iab163987fb8b27b21d4870eeb59f5d5f84229f91,Fixed oslo deprecated warning when running devstack,MERGED,2019-06-10 00:01:21.000000000,2019-06-19 15:02:49.000000000,2019-06-19 15:02:49.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-10 00:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ea1ef85709b4e06528ece9de0a673a984fcbc7fb', 'message': 'Fixed oslo deprecated warning when running devstack\n\nMoved notification driver and topics from DEFAULT to the\noslo_messaging_notifications group.\n\nChange-Id: Iab163987fb8b27b21d4870eeb59f5d5f84229f91\n'}, {'number': 2, 'created': '2019-06-11 16:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e31e7bc679bf54bad352f905461e8cc90c0ddd83', 'message': 'Fixed oslo deprecated warning when running devstack\n\nMoved notification driver and topics from DEFAULT to the\noslo_messaging_notifications group.\n\nChange-Id: Iab163987fb8b27b21d4870eeb59f5d5f84229f91\n'}, {'number': 3, 'created': '2019-06-18 19:51:14.000000000', 'files': ['designate/tests/__init__.py', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/designate/commit/a31982b53e230835dd7729b26046fdcbfeb1fd75', 'message': 'Fixed oslo deprecated warning when running devstack\n\nMoved notification driver and topics from DEFAULT to the\noslo_messaging_notifications group.\n\nChange-Id: Iab163987fb8b27b21d4870eeb59f5d5f84229f91\n'}]",0,664176,a31982b53e230835dd7729b26046fdcbfeb1fd75,11,2,3,22623,,,0,"Fixed oslo deprecated warning when running devstack

Moved notification driver and topics from DEFAULT to the
oslo_messaging_notifications group.

Change-Id: Iab163987fb8b27b21d4870eeb59f5d5f84229f91
",git fetch https://review.opendev.org/openstack/designate refs/changes/76/664176/3 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/__init__.py', 'devstack/plugin.sh']",2,ea1ef85709b4e06528ece9de0a673a984fcbc7fb,deprecated_warnings," iniset $DESIGNATE_CONF oslo_messaging_notifications driver ""$DESIGNATE_NOTIFICATION_DRIVER"" iniset $DESIGNATE_CONF oslo_messaging_notifications topics ""$DESIGNATE_NOTIFICATION_TOPICS"""," iniset $DESIGNATE_CONF DEFAULT notification_driver ""$DESIGNATE_NOTIFICATION_DRIVER"" iniset $DESIGNATE_CONF DEFAULT notification_topics ""$DESIGNATE_NOTIFICATION_TOPICS""",6,3
openstack%2Fdesignate-tempest-plugin~master~I1a5bae859f4ae998db33331126e82c7f5862a011,openstack/designate-tempest-plugin,master,I1a5bae859f4ae998db33331126e82c7f5862a011,Sync Sphinx requirement,MERGED,2019-06-18 15:17:48.000000000,2019-06-19 15:02:48.000000000,2019-06-19 15:02:48.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 15:17:48.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/e57bcbb1cadcd2bb86c7e9ca5ac19791097d996b', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I1a5bae859f4ae998db33331126e82c7f5862a011\n'}]",0,666020,e57bcbb1cadcd2bb86c7e9ca5ac19791097d996b,6,2,1,28614,,,0,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I1a5bae859f4ae998db33331126e82c7f5862a011
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/20/666020/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,e57bcbb1cadcd2bb86c7e9ca5ac19791097d996b,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fapi-site~master~Icdaf06e6c5cdc84a3d4f400b17adf449eff01d99,openstack/api-site,master,Icdaf06e6c5cdc84a3d4f400b17adf449eff01d99,Update Sphinx requirement,ABANDONED,2019-06-18 10:17:30.000000000,2019-06-19 14:50:07.000000000,,"[{'_account_id': 16006}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 10:17:30.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/api-site/commit/bcbbaf34de567a74a5dff69c97eb7325ee569ff6', 'message': 'Update Sphinx requirement\n\nSphinx 2.0 no longer works on python 2.7, so we need to start capping it there.\n\nChange-Id: Icdaf06e6c5cdc84a3d4f400b17adf449eff01d99\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,665939,bcbbaf34de567a74a5dff69c97eb7325ee569ff6,4,2,1,15334,,,0,"Update Sphinx requirement

Sphinx 2.0 no longer works on python 2.7, so we need to start capping it there.

Change-Id: Icdaf06e6c5cdc84a3d4f400b17adf449eff01d99
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/api-site refs/changes/39/665939/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,bcbbaf34de567a74a5dff69c97eb7325ee569ff6,sphinx-20,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",sphinx>=1.6.2 # BSD,2,1
openstack%2Fkuryr-kubernetes~master~I389e81cc6f544a3f66dea9d171d1ca0ce7444c6f,openstack/kuryr-kubernetes,master,I389e81cc6f544a3f66dea9d171d1ca0ce7444c6f,Access Pool.listeners elements like dict,MERGED,2019-06-17 15:08:14.000000000,2019-06-19 14:45:03.000000000,2019-06-19 14:45:03.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-06-17 15:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/acfc053c0ee6433eee36edd9d999ee5a44a15ece', 'message': ""Access Pool.listeners elements like dict\n\nPool.listeners from openstacksdk has quite a specific format:\n\nIn [10]: p.listeners\nOut[10]: [{u'id': u'bef9f428-0c7e-4fc3-8e0d-d6241cc46c60'}]\n\nThis commit fixes a mistake where we access it with object notation\ninstead of dict notation.\n\nChange-Id: I389e81cc6f544a3f66dea9d171d1ca0ce7444c6f\nCloses-Bug: 1833091\n""}, {'number': 2, 'created': '2019-06-18 13:47:43.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/drivers/test_lbaasv2.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4230c8711cbc3851f963ed7419990e66fb75b668', 'message': ""Access Pool.listeners elements like dict\n\nPool.listeners from openstacksdk has quite a specific format:\n\nIn [10]: p.listeners\nOut[10]: [{u'id': u'bef9f428-0c7e-4fc3-8e0d-d6241cc46c60'}]\n\nThis commit fixes a mistake where we access it with object notation\ninstead of dict notation.\n\nChange-Id: I389e81cc6f544a3f66dea9d171d1ca0ce7444c6f\nCloses-Bug: 1833091\n""}]",0,665702,4230c8711cbc3851f963ed7419990e66fb75b668,17,6,2,11600,,,0,"Access Pool.listeners elements like dict

Pool.listeners from openstacksdk has quite a specific format:

In [10]: p.listeners
Out[10]: [{u'id': u'bef9f428-0c7e-4fc3-8e0d-d6241cc46c60'}]

This commit fixes a mistake where we access it with object notation
instead of dict notation.

Change-Id: I389e81cc6f544a3f66dea9d171d1ca0ce7444c6f
Closes-Bug: 1833091
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/02/665702/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/lbaasv2.py'],1,acfc053c0ee6433eee36edd9d999ee5a44a15ece,bug/1833091, in {l['id'] for l in p.listeners}], in {l.id for l in p.listeners}],1,1
openstack%2Fopenstack-ansible-galera_client~master~Id8efd9fadfa11ed5b75768ab66c8f51294cbc563,openstack/openstack-ansible-galera_client,master,Id8efd9fadfa11ed5b75768ab66c8f51294cbc563,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-05-05 11:39:32.000000000,2019-06-19 14:38:28.000000000,2019-06-19 14:38:28.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25591}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-05-05 11:39:32.000000000', 'files': ['tests/ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/eb335ccfa73d57b2c7242310ca157b3b483ab33f', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Id8efd9fadfa11ed5b75768ab66c8f51294cbc563\n'}]",0,657233,eb335ccfa73d57b2c7242310ca157b3b483ab33f,11,5,1,17130,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Id8efd9fadfa11ed5b75768ab66c8f51294cbc563
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/33/657233/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yml'],1,eb335ccfa73d57b2c7242310ca157b3b483ab33f,, src: https://opendev.org/openstack/openstack-ansible-apt_package_pinning src: https://opendev.org/openstack/openstack-ansible-pip_install, src: https://git.openstack.org/openstack/openstack-ansible-apt_package_pinning src: https://git.openstack.org/openstack/openstack-ansible-pip_install,2,2
openstack%2Fmagnum~master~If8f34dc45b3b8a76e3d561ed41b4d0a783ceecb5,openstack/magnum,master,If8f34dc45b3b8a76e3d561ed41b4d0a783ceecb5,Fix openstack-cloud-controller-manager restarts,MERGED,2019-03-20 13:26:15.000000000,2019-06-19 14:36:22.000000000,2019-03-21 21:18:34.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-20 13:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/25db2e3476346643ede7770afa070520a5f69909', 'message': 'Fix openstack-cloud-controller-manager restarts\n\nOpenstack-cloud-controller-manager restarts several times during cluster creation.\n\nThis happens because cloud-controller-manager starts running before kubernetes is prepared to handle requests about secrets.\nThe number of restarts of the pod is consistently 2-3, so the time between when the controller-manager starts attempting to run and when it can run successfully must be fairly constant.\n\nChange-Id: If8f34dc45b3b8a76e3d561ed41b4d0a783ceecb5\nSigned-off-by: Diogo Guerra <dy090.guerra@gmail.com>\n'}, {'number': 2, 'created': '2019-03-20 13:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/86e7b2d7961e335400aa22143ade322735d8d276', 'message': 'Fix openstack-cloud-controller-manager restarts\n\nOpenstack-cloud-controller-manager restarts several times during\ncluster creation.\n\nThis happens because cloud-controller-manager starts running before\nkubernetes is prepared to handle requests about secrets.\nThe number of restarts of the pod is consistently 2-3, so the time\nbetween when the controller-manager starts attempting to run and when\nit can run successfully must be fairly constant.\n\nStory: 2005266\n\nChange-Id: If8f34dc45b3b8a76e3d561ed41b4d0a783ceecb5\nSigned-off-by: Diogo Guerra <dy090.guerra@gmail.com>\n'}, {'number': 3, 'created': '2019-03-20 13:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d77198700a03820c1ae1b51977e24bda4c63ecec', 'message': ""Fix openstack-cloud-controller-manager restarts\n\nOpenstack-cloud-controller-manager restarts several times during\ncluster creation.\n\nThis happens because cloud-controller-manager starts running before\nneeded secrets exist in kubernetes. Cloud-controller-manager lists secrets \nand if the secrets exists it uses it and moves on, but if the secret \ndoesn't exist it starts a watch until it does. As this is not allowed the\npod fails.\n\nThis is triggered by Issue https://github.com/kubernetes/cloud-provider-openstack/issues/545\n\nStory: 2005270\n\nChange-Id: If8f34dc45b3b8a76e3d561ed41b4d0a783ceecb5\nSigned-off-by: Diogo Guerra <dy090.guerra@gmail.com>\n""}, {'number': 4, 'created': '2019-03-20 13:55:46.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/21acb8dc9afbc3c1b2a786c4041213fa7e8761dc', 'message': ""Fix openstack-cloud-controller-manager restarts\n\nOpenstack-cloud-controller-manager restarts several times during\ncluster creation.\n\nThis happens because cloud-controller-manager starts running before\nneeded secrets exist in kubernetes. Cloud-controller-manager lists secrets \nand if the secrets exists it uses it and moves on, but if the secret \ndoesn't exist it starts a watch until it does. As this is not allowed the\npod fails.\n\nThis is triggered by Issue \nhttps://github.com/kubernetes/cloud-provider-openstack/issues/545\n\nStory: 2005270\n\nChange-Id: If8f34dc45b3b8a76e3d561ed41b4d0a783ceecb5\nSigned-off-by: Diogo Guerra <dy090.guerra@gmail.com>\n""}]",0,644851,21acb8dc9afbc3c1b2a786c4041213fa7e8761dc,14,3,4,29425,,,0,"Fix openstack-cloud-controller-manager restarts

Openstack-cloud-controller-manager restarts several times during
cluster creation.

This happens because cloud-controller-manager starts running before
needed secrets exist in kubernetes. Cloud-controller-manager lists secrets 
and if the secrets exists it uses it and moves on, but if the secret 
doesn't exist it starts a watch until it does. As this is not allowed the
pod fails.

This is triggered by Issue 
https://github.com/kubernetes/cloud-provider-openstack/issues/545

Story: 2005270

Change-Id: If8f34dc45b3b8a76e3d561ed41b4d0a783ceecb5
Signed-off-by: Diogo Guerra <dy090.guerra@gmail.com>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/51/644851/3 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh'],1,25db2e3476346643ede7770afa070520a5f69909,feature/fix-openstack_cloud_controller_manager-restarts, - watch,,1,0
openstack%2Fcinder~master~Id7bcacaaf41b3cc9657c78de26111c0996df8775,openstack/cinder,master,Id7bcacaaf41b3cc9657c78de26111c0996df8775,Mark the Sheepdog driver unsupported,MERGED,2019-05-21 20:46:45.000000000,2019-06-19 14:23:37.000000000,2019-06-19 14:23:37.000000000,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25564}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-21 20:46:45.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'releasenotes/notes/sheepdog-mark-unsupported-648b2458d4a198de.yaml', 'cinder/volume/drivers/sheepdog.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e2e5bddd4c6a23ebb6a3a84d73e80bc90513645b', 'message': 'Mark the Sheepdog driver unsupported\n\nThe Sheep dog test runs have not been passing\nin the gate for quite sometime, to the point the\ntests were moved to the experimental queue.\n\nThe most recent failures show that Sheepdog is not\nsupported on Bionic and mailing list posts show it\nas no longer being maintained [1].  Given all\nthese datapoints it is time to more it\nunsupported.\n\n[1] http://lists.wpkg.org/pipermail/sheepdog/2019-March/068449.html\n\nChange-Id: Id7bcacaaf41b3cc9657c78de26111c0996df8775\n'}]",0,660518,e2e5bddd4c6a23ebb6a3a84d73e80bc90513645b,43,32,1,7198,,,0,"Mark the Sheepdog driver unsupported

The Sheep dog test runs have not been passing
in the gate for quite sometime, to the point the
tests were moved to the experimental queue.

The most recent failures show that Sheepdog is not
supported on Bionic and mailing list posts show it
as no longer being maintained [1].  Given all
these datapoints it is time to more it
unsupported.

[1] http://lists.wpkg.org/pipermail/sheepdog/2019-March/068449.html

Change-Id: Id7bcacaaf41b3cc9657c78de26111c0996df8775
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/660518/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'releasenotes/notes/sheepdog-mark-unsupported-648b2458d4a198de.yaml', 'cinder/volume/drivers/sheepdog.py']",3,e2e5bddd4c6a23ebb6a3a84d73e80bc90513645b,mark-unsupported-sheepdog, # TODO(jsbryant) Remove this driver in the 'U' release as it is no # longer maintained. SUPPORTED = False ,,19,1
openstack%2Fkeystone~master~Ia8b35258b43213bd117df4275c907aac223342b3,openstack/keystone,master,Ia8b35258b43213bd117df4275c907aac223342b3,Implement system scope and default roles for token API,MERGED,2019-06-13 20:18:56.000000000,2019-06-19 14:14:12.000000000,2019-06-19 14:13:12.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-13 20:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5b917ab33b3899357c9e619ad5947c03800ede3f', 'message': ""Implement system scope and default roles for token API\n\nThis commit adds protection testing for the token API along with\nchanges to default policies to properly consume system-scope and\ndefault roles.\n\nOriginally, this work was going to include the ability for project and\ndomain administrator to validate, check, or revoke tokens within the\ncontext of their authorization (e.g., a domain administrator could\nrevoke tokens on projects within their domain). This seems like extra\nwork for not much benefit since we're using bearer tokens. The holder\nof the token can do anything with that token, which means they can\nvalidate it or revoke it without using their own token. Adding\nproject and domain administrator support seems unnecessary given the\nexisting functionality. If someone comes forward asking for this\nfunctionality, we can re-evaluate the effort. For now, this patch is\nlimited to system user support, allowing them to validate, check, and\nrevoke any token in the system. Service users can still validate\ntokens on behalf of users. Users can do anything they wish with their\nown tokens.\n\nChange-Id: Ia8b35258b43213bd117df4275c907aac223342b3\nCloses-Bug: 1818844\nCloses-Bug: 1750676\n""}, {'number': 2, 'created': '2019-06-14 13:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b1a1c9d33720003d909dfd6d17e4b284158b8c2f', 'message': ""Implement system scope and default roles for token API\n\nThis commit adds protection testing for the token API along with\nchanges to default policies to properly consume system-scope and\ndefault roles.\n\nOriginally, this work was going to include the ability for project and\ndomain administrator to validate, check, or revoke tokens within the\ncontext of their authorization (e.g., a domain administrator could\nrevoke tokens on projects within their domain). This seems like extra\nwork for not much benefit since we're using bearer tokens. The holder\nof the token can do anything with that token, which means they can\nvalidate it or revoke it without using their own token. Adding\nproject and domain administrator support seems unnecessary given the\nexisting functionality. If someone comes forward asking for this\nfunctionality, we can re-evaluate the effort. For now, this patch is\nlimited to system user support, allowing them to validate, check, and\nrevoke any token in the system. Service users can still validate\ntokens on behalf of users. Users can do anything they wish with their\nown tokens.\n\nChange-Id: Ia8b35258b43213bd117df4275c907aac223342b3\nCloses-Bug: 1818844\nCloses-Bug: 1750676\n""}, {'number': 3, 'created': '2019-06-17 15:58:33.000000000', 'files': ['requirements.txt', 'releasenotes/notes/bug-1750676-cf70c1a27b2c8de3.yaml', 'keystone/tests/unit/protection/v3/test_tokens.py', 'lower-constraints.txt', 'keystone/common/policies/token.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/092570fc5ef43497c29cf174bfff43323a49fb58', 'message': ""Implement system scope and default roles for token API\n\nThis commit adds protection testing for the token API along with\nchanges to default policies to properly consume system-scope and\ndefault roles.\n\nOriginally, this work was going to include the ability for project and\ndomain administrator to validate, check, or revoke tokens within the\ncontext of their authorization (e.g., a domain administrator could\nrevoke tokens on projects within their domain). This seems like extra\nwork for not much benefit since we're using bearer tokens. The holder\nof the token can do anything with that token, which means they can\nvalidate it or revoke it without using their own token. Adding\nproject and domain administrator support seems unnecessary given the\nexisting functionality. If someone comes forward asking for this\nfunctionality, we can re-evaluate the effort. For now, this patch is\nlimited to system user support, allowing them to validate, check, and\nrevoke any token in the system. Service users can still validate\ntokens on behalf of users. Users can do anything they wish with their\nown tokens.\n\nThis commit also bumps the minimum version of oslo.log so that we can\nuse the official TRAIN deprecated release marker.\n\nChange-Id: Ia8b35258b43213bd117df4275c907aac223342b3\nCloses-Bug: 1818844\nCloses-Bug: 1750676\n""}]",5,665231,092570fc5ef43497c29cf174bfff43323a49fb58,14,4,3,5046,,,0,"Implement system scope and default roles for token API

This commit adds protection testing for the token API along with
changes to default policies to properly consume system-scope and
default roles.

Originally, this work was going to include the ability for project and
domain administrator to validate, check, or revoke tokens within the
context of their authorization (e.g., a domain administrator could
revoke tokens on projects within their domain). This seems like extra
work for not much benefit since we're using bearer tokens. The holder
of the token can do anything with that token, which means they can
validate it or revoke it without using their own token. Adding
project and domain administrator support seems unnecessary given the
existing functionality. If someone comes forward asking for this
functionality, we can re-evaluate the effort. For now, this patch is
limited to system user support, allowing them to validate, check, and
revoke any token in the system. Service users can still validate
tokens on behalf of users. Users can do anything they wish with their
own tokens.

This commit also bumps the minimum version of oslo.log so that we can
use the official TRAIN deprecated release marker.

Change-Id: Ia8b35258b43213bd117df4275c907aac223342b3
Closes-Bug: 1818844
Closes-Bug: 1750676
",git fetch https://review.opendev.org/openstack/keystone refs/changes/31/665231/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1750676-cf70c1a27b2c8de3.yaml', 'keystone/tests/unit/protection/v3/test_tokens.py', 'keystone/common/policies/token.py']",3,5b917ab33b3899357c9e619ad5947c03800ede3f,,"from oslo_log import versionutilsDEPRECATED_REASON = """""" As of the Train release, the token API now understands how to handle system-scoped tokens, making the API more accessible to users without compromising security or manageability for administrators. This support includes a read-only role by default. """""" deprecated_check_token = policy.DeprecatedRule( name=base.IDENTITY % 'check_token', check_str=base.RULE_ADMIN_OR_TOKEN_SUBJECT ) deprecated_validate_token = policy.DeprecatedRule( name=base.IDENTITY % 'validate_token', check_str=base.RULE_SERVICE_ADMIN_OR_TOKEN_SUBJECT ) deprecated_revoke_token = policy.DeprecatedRule( name=base.IDENTITY % 'revoke_token', check_str=base.RULE_ADMIN_OR_TOKEN_SUBJECT ) SYSTEM_ADMIN_OR_TOKEN_SUBJECT = """""" (role:admin and system_scope:all) or rule:token_subject """""" SYSTEM_USER_OR_TOKEN_SUBJECT = """""" (role:reader and system_scope:all) or rule:token_subject """""" SYSTEM_USER_OR_SERVICE_OR_TOKEN_SUBJECT = """""" (role:reader and system_scope:all) or rule:service_role or rule:token_subject """""" check_str=SYSTEM_USER_OR_TOKEN_SUBJECT, scope_types=['system', 'domain', 'project'], 'method': 'HEAD'}], deprecated_rule=deprecated_check_token, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.TRAIN), check_str=SYSTEM_USER_OR_SERVICE_OR_TOKEN_SUBJECT, scope_types=['system', 'domain', 'project'], 'method': 'GET'}], deprecated_rule=deprecated_validate_token, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.TRAIN), check_str=SYSTEM_ADMIN_OR_TOKEN_SUBJECT, scope_types=['system', 'domain', 'project'], 'method': 'DELETE'}], deprecated_rule=deprecated_revoke_token, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.TRAIN)"," check_str=base.RULE_ADMIN_OR_TOKEN_SUBJECT, # FIXME(lbragstad): Token validation should be handled within keystone, # but it makes sense to have this be a system-level operation and a # project-level operation. If this API is called by a system-level # administrator, they should be able to check any token. If this API # is called by a project administrator, then the token should be # checked with respect to the project the administrator has a role on. # Otherwise it would be possible for administrators in one project to # validate tokens scoped to another project, which is a security # concern. Note the following line should be uncommented once keystone # supports the ability for project administrators to validate tokens # only within their project. # scope_types=['system', 'project'], 'method': 'HEAD'}]), check_str=base.RULE_SERVICE_ADMIN_OR_TOKEN_SUBJECT, # FIXME(lbragstad): See the comment above about why this is commented # out. If this weren't commented out and the `enforce_scope` were set # to True, then users with project-scoped tokens would no longer be # able to validate them by setting the same token as the X-Auth-Header # and X-Subject-Token. # scope_types=['system', 'project'], 'method': 'GET'}]), check_str=base.RULE_ADMIN_OR_TOKEN_SUBJECT, # FIXME(lbragstad): System administrators should be able to revoke any # valid token. Project administrators should only be able to invalidate # tokens scoped to the project they administer. Users should be able to # invalidate their own tokens. If we uncommented this line without # adding support for each of these cases in code, we'd be breaking the # ability for users to invalidate their own tokens. # scope_types=['system', 'project'], 'method': 'DELETE'}])",611,31
openstack%2Fglance~master~I8261de878fcaff1e498f7a3e152df7d980d0560c,openstack/glance,master,I8261de878fcaff1e498f7a3e152df7d980d0560c,Update v2/info/stores api-ref,MERGED,2019-05-29 12:53:24.000000000,2019-06-19 14:13:14.000000000,2019-06-19 14:13:14.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-05-29 12:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f80e1580155e673d30c77a802ef5043278290cea', 'message': 'Update v2/info/stores api-ref\n\nSlight rewrite of the stores discovery section of the api-ref to\nindicate which elements of the response are optional and to remove\nmention of the store type from the descriptions.\n\nChange-Id: I8261de878fcaff1e498f7a3e152df7d980d0560c\n'}, {'number': 2, 'created': '2019-06-04 13:03:07.000000000', 'files': ['api-ref/source/v2/discovery.inc', 'api-ref/source/v2/discovery-parameters.yaml', 'api-ref/source/v2/samples/stores-list-response.json'], 'web_link': 'https://opendev.org/openstack/glance/commit/6537ff2136af9e083b0372385400109666645c12', 'message': 'Update v2/info/stores api-ref\n\nSlight rewrite of the stores discovery section of the api-ref to\nindicate which elements of the response are optional and to remove\nmention of the store type from the descriptions.\n\nChange-Id: I8261de878fcaff1e498f7a3e152df7d980d0560c\n'}]",3,661971,6537ff2136af9e083b0372385400109666645c12,19,8,2,5314,,,0,"Update v2/info/stores api-ref

Slight rewrite of the stores discovery section of the api-ref to
indicate which elements of the response are optional and to remove
mention of the store type from the descriptions.

Change-Id: I8261de878fcaff1e498f7a3e152df7d980d0560c
",git fetch https://review.opendev.org/openstack/glance refs/changes/71/661971/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/discovery.inc', 'api-ref/source/v2/discovery-parameters.yaml', 'api-ref/source/v2/samples/stores-list-response.json']",3,f80e1580155e673d30c77a802ef5043278290cea,readonly-http-store," ""description"": ""More expensive store with data redundancy"" ""description"": ""Provides quick access to your image data"", ""description"": ""Less expensive store for seldom-used images"" ""id"":""special"", ""description"": ""Need a plausible description here that doesn't expose the store type"","," ""description"": ""Reliable filesystem store"" ""description"": ""Fast access to rbd store"", ""description"": ""Less expensive rbd store"" ""id"":""read_only_store"", ""description"": ""Read only http store"",",19,12
openstack%2Fcharm-ceph-radosgw~master~I0f6e7783282e4e75bb8c5893b7a9740a5a19c80f,openstack/charm-ceph-radosgw,master,I0f6e7783282e4e75bb8c5893b7a9740a5a19c80f,Sync charm-helpers,ABANDONED,2019-06-19 13:15:30.000000000,2019-06-19 14:01:13.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 13:15:30.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/storage/linux/utils.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/contrib/openstack/templates/vendor_data.json', 'hooks/charmhelpers/contrib/openstack/audits/openstack_security_guide.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/2f4de87ffe06077bd858bd2c777867b301bac206', 'message': 'Sync charm-helpers\n\nUpdating charm-helpers code.\n\nChange-Id: I0f6e7783282e4e75bb8c5893b7a9740a5a19c80f\n'}]",0,666286,2f4de87ffe06077bd858bd2c777867b301bac206,4,2,1,14567,,,0,"Sync charm-helpers

Updating charm-helpers code.

Change-Id: I0f6e7783282e4e75bb8c5893b7a9740a5a19c80f
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/86/666286/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/storage/linux/utils.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/contrib/openstack/templates/vendor_data.json', 'hooks/charmhelpers/contrib/openstack/audits/openstack_security_guide.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py']",12,2f4de87ffe06077bd858bd2c777867b301bac206,," 'trusty_mitaka', 'xenial_mitaka', 'xenial_newton', 'yakkety_newton', 'xenial_ocata', 'zesty_ocata', 'xenial_pike', 'artful_pike', 'xenial_queens', 'bionic_queens', 'bionic_rocky', 'cosmic_rocky', 'bionic_stein', 'disco_stein', 'bionic_train', 'eoan_train', ]"," 'trusty_mitaka', 'xenial_mitaka', 'xenial_newton', 'yakkety_newton', 'xenial_ocata', 'zesty_ocata', 'xenial_pike', 'artful_pike', 'xenial_queens', 'bionic_queens', 'bionic_rocky', 'cosmic_rocky', 'bionic_stein', 'disco_stein']",192,26
openstack%2Fkolla-ansible~stable%2Frocky~Ie9a3b0fef395aaf414407f6bae1ac4bca158240d,openstack/kolla-ansible,stable/rocky,Ie9a3b0fef395aaf414407f6bae1ac4bca158240d,Remove obsolete roles middleware,MERGED,2019-06-19 08:09:12.000000000,2019-06-19 13:59:55.000000000,2019-06-19 13:59:55.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 08:09:12.000000000', 'files': ['ansible/roles/monasca/templates/monasca-log-api/log-api-paste.ini.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1234ec189eed9a263ee3ec5d2edef78e06ad9b06', 'message': 'Remove obsolete roles middleware\n\nChange I0ca38f2cc7d63b9b47eedb304ba7b00a94816f9a removed the roles\nmiddleware from the example paste pipeline.\n\nChange-Id: Ie9a3b0fef395aaf414407f6bae1ac4bca158240d\n(cherry picked from commit f23901677cdd247315eea56150df1fafafb107d1)\n'}]",0,666243,1234ec189eed9a263ee3ec5d2edef78e06ad9b06,10,4,1,17669,,,0,"Remove obsolete roles middleware

Change I0ca38f2cc7d63b9b47eedb304ba7b00a94816f9a removed the roles
middleware from the example paste pipeline.

Change-Id: Ie9a3b0fef395aaf414407f6bae1ac4bca158240d
(cherry picked from commit f23901677cdd247315eea56150df1fafafb107d1)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/43/666243/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/monasca/templates/monasca-log-api/log-api-paste.ini.j2'],1,1234ec189eed9a263ee3ec5d2edef78e06ad9b06,remove_roles_middlesware-stable/rocky,pipeline = error_trap request_id auth api_v2_apppipeline = error_trap request_id auth api_v3_app,pipeline = error_trap request_id auth roles api_v2_apppipeline = error_trap request_id auth roles api_v3_app,2,2
openstack%2Fkolla-ansible~master~I88616c285bdb297fd1f738846ddffe1b08a7a827,openstack/kolla-ansible,master,I88616c285bdb297fd1f738846ddffe1b08a7a827,"Fix default deployment of freezer, use mariadb.",MERGED,2019-05-26 13:26:43.000000000,2019-06-19 13:59:53.000000000,2019-06-19 13:59:53.000000000,"[{'_account_id': 14826}, {'_account_id': 16006}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 26981}]","[{'number': 1, 'created': '2019-05-26 13:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2d56ad8cb83659b398f9d13df69260153c0dd97b', 'message': ""Fix default deployment of freezer, use mariadb.\n\nThis change defaults freezer to use mariadb as default backend for database\nand adds elasticsearch as an optional backend due to the requirement of\nfreezer to use elasticsearch version 2.3.0. The default elasticsearch in\nkolla-ansible is 5.6.x and that doesn't work with freezer.\n\nAdded needed options to the elasticsearch backend like:\n - protocol\n - address\n - port\n - number of replicas\n\nChange-Id: I88616c285bdb297fd1f738846ddffe1b08a7a827\nSigned-off-by: Marek Svensson <marek@marex.st>\n""}, {'number': 2, 'created': '2019-05-28 20:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1540ce704dc3046cd3e892945b68885614d84c33', 'message': ""Fix default deployment of freezer, use mariadb.\n\nThis change defaults freezer to use mariadb as default backend for database\nand adds elasticsearch as an optional backend due to the requirement of\nfreezer to use elasticsearch version 2.3.0. The default elasticsearch in\nkolla-ansible is 5.6.x and that doesn't work with freezer.\n\nAdded needed options to the elasticsearch backend like:\n - protocol\n - address\n - port\n - number of replicas\n\nChange-Id: I88616c285bdb297fd1f738846ddffe1b08a7a827\nSigned-off-by: Marek Svensson <marek@marex.st>\n""}, {'number': 3, 'created': '2019-06-18 16:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/22bacb5a3b446a10a9e5b0971082c28f52e1442b', 'message': ""Fix default deployment of freezer, use mariadb.\n\nThis change defaults freezer to use mariadb as default backend for database\nand adds elasticsearch as an optional backend due to the requirement of\nfreezer to use elasticsearch version 2.3.0. The default elasticsearch in\nkolla-ansible is 5.6.x and that doesn't work with freezer.\n\nAdded needed options to the elasticsearch backend like:\n - protocol\n - address\n - port\n - number of replicas\n\nChange-Id: I88616c285bdb297fd1f738846ddffe1b08a7a827\nSigned-off-by: Marek Svensson <marek@marex.st>\n""}, {'number': 4, 'created': '2019-06-18 19:12:37.000000000', 'files': ['releasenotes/notes/freezer-backend-531eececd69c0cd4.yaml', 'ansible/roles/freezer/tasks/bootstrap.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/freezer/templates/freezer.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/freezer/tasks/deploy.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/10bf6b05fa669105f040772e57cc1066cb8d6c0e', 'message': ""Fix default deployment of freezer, use mariadb.\n\nThis change defaults freezer to use mariadb as default backend for database\nand adds elasticsearch as an optional backend due to the requirement of\nfreezer to use elasticsearch version 2.3.0. The default elasticsearch in\nkolla-ansible is 5.6.x and that doesn't work with freezer.\n\nAdded needed options to the elasticsearch backend like:\n - protocol\n - address\n - port\n - number of replicas\n\nChange-Id: I88616c285bdb297fd1f738846ddffe1b08a7a827\nSigned-off-by: Marek Svensson <marek@marex.st>\n""}]",6,661485,10bf6b05fa669105f040772e57cc1066cb8d6c0e,20,5,4,26981,,,0,"Fix default deployment of freezer, use mariadb.

This change defaults freezer to use mariadb as default backend for database
and adds elasticsearch as an optional backend due to the requirement of
freezer to use elasticsearch version 2.3.0. The default elasticsearch in
kolla-ansible is 5.6.x and that doesn't work with freezer.

Added needed options to the elasticsearch backend like:
 - protocol
 - address
 - port
 - number of replicas

Change-Id: I88616c285bdb297fd1f738846ddffe1b08a7a827
Signed-off-by: Marek Svensson <marek@marex.st>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/85/661485/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/freezer/tasks/bootstrap.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/freezer/templates/freezer.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/freezer/tasks/deploy.yml', 'etc/kolla/globals.yml']",6,2d56ad8cb83659b398f9d13df69260153c0dd97b,bug/1830540," ######### # Freezer ######### # Freezer can utilize two different database backend, elasticsearch or mariadb. # Elasticsearch is preferred, however it is not compatible with the version deployed # by kolla-ansible. You must first setup an external elasticsearch with 2.3.0. # By default, koll-ansible deployed mariadb is the used database backend. #freezer_database_backend: ""mariadb"" #freezer_elasticsearch_replicas: ""1"" #freezer_es_protocol: ""http"" #freezer_es_address: """" #freezer_es_port: ""9200""",,77,3
openstack%2Fkolla-ansible~stable%2Fstein~If6f7dd28bbb75308ef434c166c28a5cf4a624cbd,openstack/kolla-ansible,stable/stein,If6f7dd28bbb75308ef434c166c28a5cf4a624cbd,Remove heat_watch_server_url configuration option,MERGED,2019-06-19 06:37:37.000000000,2019-06-19 13:59:52.000000000,2019-06-19 13:59:52.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 06:37:37.000000000', 'files': ['ansible/roles/heat/templates/heat.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/42cf3d327ee0400a3b583f155f937d85232d0017', 'message': 'Remove heat_watch_server_url configuration option\n\nThe AWS-compatible CloudWatch API has been removed from Heat in Queens.\nRemove its configuration option from the heat.conf template.\n\nChange-Id: If6f7dd28bbb75308ef434c166c28a5cf4a624cbd\n(cherry picked from commit cc011ceb411e619537eea63a3f35dca9efcbd7c9)\n'}]",0,666232,42cf3d327ee0400a3b583f155f937d85232d0017,9,4,1,30491,,,0,"Remove heat_watch_server_url configuration option

The AWS-compatible CloudWatch API has been removed from Heat in Queens.
Remove its configuration option from the heat.conf template.

Change-Id: If6f7dd28bbb75308ef434c166c28a5cf4a624cbd
(cherry picked from commit cc011ceb411e619537eea63a3f35dca9efcbd7c9)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/32/666232/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/heat/templates/heat.conf.j2'],1,42cf3d327ee0400a3b583f155f937d85232d0017,remove-heat-watch-stable/stein,,heat_watch_server_url = {{ public_protocol }}://{{ heat_cfn_external_fqdn }}:{{ heat_api_cfn_port }},0,1
openstack%2Fkolla-ansible~stable%2Fstein~I3f921ac51acab1b1020a459c07c755af7023e026,openstack/kolla-ansible,stable/stein,I3f921ac51acab1b1020a459c07c755af7023e026,Fix Blazar Nova aggregate in multi-region setup,MERGED,2019-06-18 18:24:35.000000000,2019-06-19 13:59:51.000000000,2019-06-19 13:59:51.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 29100}]","[{'number': 1, 'created': '2019-06-18 18:24:35.000000000', 'files': ['ansible/roles/blazar/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c98c4ba24740f7d4430e1771a63cb4874db7ae60', 'message': 'Fix Blazar Nova aggregate in multi-region setup\n\nThe Nova aggregate was always defaulting to some region (usually first\nin the Keystone endpoint list) when registering the Nova aggregate for\nBlazar. Add in a region override to ensure we are always writing to the\nregion being deployed.\n\nChange-Id: I3f921ac51acab1b1020a459c07c755af7023e026\n(cherry picked from commit f20cbf49580f1457db22346c413991cf60c90dba)\n'}]",0,666131,c98c4ba24740f7d4430e1771a63cb4874db7ae60,7,4,1,14826,,,0,"Fix Blazar Nova aggregate in multi-region setup

The Nova aggregate was always defaulting to some region (usually first
in the Keystone endpoint list) when registering the Nova aggregate for
Blazar. Add in a region override to ensure we are always writing to the
region being deployed.

Change-Id: I3f921ac51acab1b1020a459c07c755af7023e026
(cherry picked from commit f20cbf49580f1457db22346c413991cf60c90dba)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/31/666131/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/blazar/tasks/bootstrap.yml'],1,c98c4ba24740f7d4430e1771a63cb4874db7ae60,blazar-multi-region-aggregate-stable/stein, --os-region-name {{ openstack_region_name }},,1,0
openstack%2Fcharm-swift-proxy~master~I6bbc71f66d948e97d2dd6a5174dedb3212503a3f,openstack/charm-swift-proxy,master,I6bbc71f66d948e97d2dd6a5174dedb3212503a3f,Add 'set-weight' action.,MERGED,2019-03-27 08:59:36.000000000,2019-06-19 13:53:11.000000000,2019-06-19 13:53:11.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-27 08:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/6133a3674d89cd31d3af88574ca37570715b6fd5', 'message': ""Add 'set-weight' action.\n\nThis patchset adds the 'set-weight' action which can be used to set\nweight of device(s) based on the search pattern.\n\nChange-Id: I6bbc71f66d948e97d2dd6a5174dedb3212503a3f\nCloses-Bug: 1821697\n""}, {'number': 2, 'created': '2019-03-29 15:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/9a25f5e4d82e3a9046697363417d25784d12d8c6', 'message': ""Add 'set-weight' action.\n\nThis patchset adds the 'set-weight' action which can be used to set\nweight of device(s) based on the search pattern.\n\nChange-Id: I6bbc71f66d948e97d2dd6a5174dedb3212503a3f\nCloses-Bug: 1821697\n""}, {'number': 3, 'created': '2019-06-13 10:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/1faddf090388cd67edde46c3a14fe3c12a4ecd3c', 'message': ""Add 'set-weight' action.\n\nThis patchset adds the 'set-weight' action which can be used to set\nweight of device(s) based on the search pattern.\n\nChange-Id: I6bbc71f66d948e97d2dd6a5174dedb3212503a3f\nCloses-Bug: 1821697\n""}, {'number': 4, 'created': '2019-06-18 10:43:55.000000000', 'files': ['actions/actions.py', 'lib/swift_utils.py', 'unit_tests/test_actions.py', 'unit_tests/test_swift_utils.py', 'actions/set-weight', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/3809df73fb10434b83e2eb789cd2a7dcc1271506', 'message': ""Add 'set-weight' action.\n\nThis patchset adds the 'set-weight' action which can be used to set\nweight of device(s) based on the search pattern.\n\nChange-Id: I6bbc71f66d948e97d2dd6a5174dedb3212503a3f\nCloses-Bug: 1821697\n""}]",8,648040,3809df73fb10434b83e2eb789cd2a7dcc1271506,19,3,4,24504,,,0,"Add 'set-weight' action.

This patchset adds the 'set-weight' action which can be used to set
weight of device(s) based on the search pattern.

Change-Id: I6bbc71f66d948e97d2dd6a5174dedb3212503a3f
Closes-Bug: 1821697
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/40/648040/4 && git format-patch -1 --stdout FETCH_HEAD,"['actions/actions.py', 'lib/swift_utils.py', 'unit_tests/test_actions.py', 'unit_tests/test_swift_utils.py', 'actions/set-weight', 'actions.yaml']",6,6133a3674d89cd31d3af88574ca37570715b6fd5,bug/1821697,"set-weight: description: Resets the device's weight. params: ring: type: string description: | Swift ring to remove the device(s) from. Valid options are 'account', 'container', 'object' or 'all'. search-value: type: string description: | The search-value can be of the form: . d<device_id>r<region>z<zone>-<ip>:<port>R<r_ip>:<r_port>/ <device_name>_<meta> . Where <r_ip> and <r_port> are replication ip and port. Any part is optional, but you must include at least one part. weight: type: number description: The device's weight required: - ring - search-value - weight",,114,2
openstack%2Fpython-designateclient~master~I619cdb572dec1fc599e445aca07349b31cb16738,openstack/python-designateclient,master,I619cdb572dec1fc599e445aca07349b31cb16738,Cap sphinx for py2 to match global requirements,MERGED,2019-06-06 10:15:39.000000000,2019-06-19 13:51:01.000000000,2019-06-19 13:51:01.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 10:15:39.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/6bdc313b4750b25252f7e106655ad2565cac356d', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I619cdb572dec1fc599e445aca07349b31cb16738\n'}]",0,663583,6bdc313b4750b25252f7e106655ad2565cac356d,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I619cdb572dec1fc599e445aca07349b31cb16738
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/83/663583/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,6bdc313b4750b25252f7e106655ad2565cac356d,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fmonasca-api~master~Ic258a3f453e95844249eaa763aa507d6be0d132e,openstack/monasca-api,master,Ic258a3f453e95844249eaa763aa507d6be0d132e,Fix sqlalchemy deprecation error,MERGED,2019-06-14 14:24:19.000000000,2019-06-19 13:45:06.000000000,2019-06-19 13:45:06.000000000,"[{'_account_id': 14123}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2019-06-14 14:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/f50f4ae8389d55db99fe130a36a2ad27499bd676', 'message': ""Fixes sqlalchemy deprecation error\n\nRunning unit tests fails with the error:\nmonasca_api.tests.test_a_repository.TestAlarmRepoDB.test_should_count ...FAILED\n'Textual column expression 'metric_name' should be explicitly declared with\ntext('metric_name'), or use column('metric_name') for more specificity'\nThis patch modifies the sql query to make use of column constructor.\n\nChange-Id: Ic258a3f453e95844249eaa763aa507d6be0d132e\n""}, {'number': 2, 'created': '2019-06-14 14:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/537e03decfb14dd74cb27940ec8b6e1848395a0f', 'message': ""Fix sqlalchemy deprecation error\n\nRunning unit tests fails with the error:\nmonasca_api.tests.test_a_repository.TestAlarmRepoDB.test_should_count ...FAILED\n'Textual column expression 'metric_name' should be explicitly declared with\ntext('metric_name'), or use column('metric_name') for more specificity'\nThis patch modifies the sql query to make use of column constructor.\n\nChange-Id: Ic258a3f453e95844249eaa763aa507d6be0d132e\n""}, {'number': 3, 'created': '2019-06-14 14:53:11.000000000', 'files': ['monasca_api/common/repositories/sqla/alarms_repository.py'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/8eea21c00de96b86f5018e3c9e242bf4b6169b2f', 'message': ""Fix sqlalchemy deprecation error\n\nRunning unit tests fails with the error:\nmonasca_api.tests.test_a_repository.TestAlarmRepoDB.test_should_count ...FAILED\n'Textual column expression 'metric_name' should be explicitly declared with\ntext('metric_name'), or use column('metric_name') for more specificity'\nUsing strings as SQL fragments was deprecated in v1.0:\n(https://docs.sqlalchemy.org/en/13/changelog/migration_10.html#warnings-emitted-when-coercing-full-sql-fragments-into-text)\nDeprecation warnings now throw exceptions as of v1.3:\n(https://docs.sqlalchemy.org/en/13/changelog/migration_13.html#deprecation-warnings-are-emitted-for-all-deprecated-elements-new-deprecations-added)\n\nThis patch modifies the sql query to make use of column constructor.\n\nChange-Id: Ic258a3f453e95844249eaa763aa507d6be0d132e\n""}]",0,665404,8eea21c00de96b86f5018e3c9e242bf4b6169b2f,32,4,3,30438,,,0,"Fix sqlalchemy deprecation error

Running unit tests fails with the error:
monasca_api.tests.test_a_repository.TestAlarmRepoDB.test_should_count ...FAILED
'Textual column expression 'metric_name' should be explicitly declared with
text('metric_name'), or use column('metric_name') for more specificity'
Using strings as SQL fragments was deprecated in v1.0:
(https://docs.sqlalchemy.org/en/13/changelog/migration_10.html#warnings-emitted-when-coercing-full-sql-fragments-into-text)
Deprecation warnings now throw exceptions as of v1.3:
(https://docs.sqlalchemy.org/en/13/changelog/migration_13.html#deprecation-warnings-are-emitted-for-all-deprecated-elements-new-deprecations-added)

This patch modifies the sql query to make use of column constructor.

Change-Id: Ic258a3f453e95844249eaa763aa507d6be0d132e
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/04/665404/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_api/common/repositories/sqla/alarms_repository.py'],1,f50f4ae8389d55db99fe130a36a2ad27499bd676,sqlalchemy-metric-name,"from sqlalchemy import (MetaData, update, delete, select, text, column, query_columns.extend([column(col) for col in group_by_columns])","from sqlalchemy import (MetaData, update, delete, select, text, query_columns.extend(group_by_columns)",2,2
openstack%2Frally~master~Id1955160813c9be87dffc7e38b8d3476cec04d60,openstack/rally,master,Id1955160813c9be87dffc7e38b8d3476cec04d60,Update SQLAlchemy in  upper-constraints.txt,MERGED,2019-06-18 09:04:22.000000000,2019-06-19 13:41:00.000000000,2019-06-19 13:41:00.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 09:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/adfc277c136ae27fef7fe0795cc9ea5e9434e792', 'message': 'TEST `rally verify tempest` for rally-openstack\n\nChange-Id: Id1955160813c9be87dffc7e38b8d3476cec04d60\n'}, {'number': 2, 'created': '2019-06-18 10:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/84b4a9fc678c0192569988526edf3a48590867f6', 'message': 'TEST `rally verify tempest` for rally-openstack\n\nChange-Id: Id1955160813c9be87dffc7e38b8d3476cec04d60\n'}, {'number': 3, 'created': '2019-06-18 11:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a274786e9431298463eef3694d54d6992e0f25a7', 'message': 'Update upper-constraints.txt\n\nupdate upper-constraints.txt  and Fix some issues since\nSQLAlchemy was upgraded to 1.3.4\n\nChange-Id: Id1955160813c9be87dffc7e38b8d3476cec04d60\n'}, {'number': 4, 'created': '2019-06-18 12:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/3a8b4507baf84b6dc07e187e60b45cce14c950c1', 'message': 'Update SQLAlchemy in  upper-constraints.txt\n\nupdate SQLAlchemy to be compatible with openstack\nand Fix some issues since SQLAlchemy was upgraded to 1.3.4\n\nChange-Id: Id1955160813c9be87dffc7e38b8d3476cec04d60\n'}, {'number': 5, 'created': '2019-06-19 00:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6d924e1a6cf621d9ffefd6c4258f334c51ff261f', 'message': 'Update SQLAlchemy in  upper-constraints.txt\n\nupdate SQLAlchemy to be compatible with openstack\nand Fix some issues since SQLAlchemy was upgraded to 1.3.4\n\nChange-Id: Id1955160813c9be87dffc7e38b8d3476cec04d60\n'}, {'number': 6, 'created': '2019-06-19 10:28:57.000000000', 'files': ['rally/common/db/api.py', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/rally/commit/c5a5bc83de0bde967b00b012f5b6e76d3416a1b9', 'message': 'Update SQLAlchemy in  upper-constraints.txt\n\nupdate SQLAlchemy to be compatible with openstack\nand Fix some issues since SQLAlchemy was upgraded to 1.3.4\n\nChange-Id: Id1955160813c9be87dffc7e38b8d3476cec04d60\n'}]",0,665918,c5a5bc83de0bde967b00b012f5b6e76d3416a1b9,16,2,6,21528,,,0,"Update SQLAlchemy in  upper-constraints.txt

update SQLAlchemy to be compatible with openstack
and Fix some issues since SQLAlchemy was upgraded to 1.3.4

Change-Id: Id1955160813c9be87dffc7e38b8d3476cec04d60
",git fetch https://review.opendev.org/openstack/rally refs/changes/18/665918/6 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,adfc277c136ae27fef7fe0795cc9ea5e9434e792,dddd,SQLAlchemy==1.3.4 ,SQLAlchemy==1.2.10 ,1,1
openstack%2Fironic~master~I2d4c6a108eb0fee0bd5b0a20f2f508727b44e887,openstack/ironic,master,I2d4c6a108eb0fee0bd5b0a20f2f508727b44e887,Replace deprecated with_lockmode with with_for_update,MERGED,2019-06-18 15:39:23.000000000,2019-06-19 13:20:44.000000000,2019-06-19 12:15:52.000000000,"[{'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-18 15:39:23.000000000', 'files': ['ironic/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/06dd82bd30f73ee93cca6b3861ff9ea75f0bc10d', 'message': 'Replace deprecated with_lockmode with with_for_update\n\nThe Query.with_lockmode() method is deprecated since version 0.9.0\nand will be removed in a future release. [1]\nThis patch replaces it with Query.with_for_update().\n\n[1] https://docs.sqlalchemy.org/en/13/orm/query.html#sqlalchemy.orm.query.Query.with_lockmode\n\nChange-Id: I2d4c6a108eb0fee0bd5b0a20f2f508727b44e887\n'}]",0,666027,06dd82bd30f73ee93cca6b3861ff9ea75f0bc10d,11,7,1,23851,,,0,"Replace deprecated with_lockmode with with_for_update

The Query.with_lockmode() method is deprecated since version 0.9.0
and will be removed in a future release. [1]
This patch replaces it with Query.with_for_update().

[1] https://docs.sqlalchemy.org/en/13/orm/query.html#sqlalchemy.orm.query.Query.with_lockmode

Change-Id: I2d4c6a108eb0fee0bd5b0a20f2f508727b44e887
",git fetch https://review.opendev.org/openstack/ironic refs/changes/27/666027/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/db/sqlalchemy/api.py'],1,06dd82bd30f73ee93cca6b3861ff9ea75f0bc10d,remove-with_lockmode, ref = query.with_for_update().one() id=ref.node_id).with_for_update().one() ref = query.with_for_update().one(), ref = query.with_lockmode('update').one() id=ref.node_id).with_lockmode('update').one() ref = query.with_lockmode('update').one(),3,3
openstack%2Fos-net-config~stable%2Frocky~If41178105229fb9adce9c2950aab39fc55b56166,openstack/os-net-config,stable/rocky,If41178105229fb9adce9c2950aab39fc55b56166,Fix handling of SR-IOV PF routes,MERGED,2019-06-18 19:49:41.000000000,2019-06-19 13:05:18.000000000,2019-06-19 13:05:18.000000000,"[{'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-18 19:49:41.000000000', 'files': ['os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/c57eb926885bc31e533bffcb93c409fe13e6253b', 'message': 'Fix handling of SR-IOV PF routes\n\nRoutes on SR-IOV PF interfaces were being ignored in\nimpl_ifcfg.py. This change adds route handling for SR-IOV\ninterfaces, and a unit test to test writing route files.\n\nCloses-bug: 1831951\nChange-Id: If41178105229fb9adce9c2950aab39fc55b56166\n(cherry picked from commit b04d8f30d4993fba3e4d207ca698cf10bdf69c2b)\n'}]",0,666157,c57eb926885bc31e533bffcb93c409fe13e6253b,9,7,1,12398,,,0,"Fix handling of SR-IOV PF routes

Routes on SR-IOV PF interfaces were being ignored in
impl_ifcfg.py. This change adds route handling for SR-IOV
interfaces, and a unit test to test writing route files.

Closes-bug: 1831951
Change-Id: If41178105229fb9adce9c2950aab39fc55b56166
(cherry picked from commit b04d8f30d4993fba3e4d207ca698cf10bdf69c2b)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/57/666157/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py']",2,c57eb926885bc31e533bffcb93c409fe13e6253b,bug/1831951," if sriov_pf.routes: self._add_routes(sriov_pf.name, sriov_pf.routes) if sriov_pf.rules: self._add_rules(sriov_pf.name, sriov_pf.rules)",,38,0
openstack%2Fos-net-config~stable%2Fqueens~If41178105229fb9adce9c2950aab39fc55b56166,openstack/os-net-config,stable/queens,If41178105229fb9adce9c2950aab39fc55b56166,Fix handling of SR-IOV PF routes,MERGED,2019-06-18 19:47:45.000000000,2019-06-19 12:41:42.000000000,2019-06-19 12:41:42.000000000,"[{'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-18 19:47:45.000000000', 'files': ['os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/6d7e74a381fdd34bc7c7e3e06a7661c1b82fd8d0', 'message': 'Fix handling of SR-IOV PF routes\n\nRoutes on SR-IOV PF interfaces were being ignored in\nimpl_ifcfg.py. This change adds route handling for SR-IOV\ninterfaces, and a unit test to test writing route files.\n\nCloses-bug: 1831951\nChange-Id: If41178105229fb9adce9c2950aab39fc55b56166\n(cherry picked from commit b04d8f30d4993fba3e4d207ca698cf10bdf69c2b)\n'}]",0,666155,6d7e74a381fdd34bc7c7e3e06a7661c1b82fd8d0,9,7,1,12398,,,0,"Fix handling of SR-IOV PF routes

Routes on SR-IOV PF interfaces were being ignored in
impl_ifcfg.py. This change adds route handling for SR-IOV
interfaces, and a unit test to test writing route files.

Closes-bug: 1831951
Change-Id: If41178105229fb9adce9c2950aab39fc55b56166
(cherry picked from commit b04d8f30d4993fba3e4d207ca698cf10bdf69c2b)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/55/666155/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py']",2,6d7e74a381fdd34bc7c7e3e06a7661c1b82fd8d0,bug/1831951," if sriov_pf.routes: self._add_routes(sriov_pf.name, sriov_pf.routes) if sriov_pf.rules: self._add_rules(sriov_pf.name, sriov_pf.rules)",,38,0
openstack%2Fkolla-ansible~stable%2Frocky~I616a30acf38a61265f3005c712767d5221abf5c5,openstack/kolla-ansible,stable/rocky,I616a30acf38a61265f3005c712767d5221abf5c5,Elevate privileges for copying gnocchi policy.json,MERGED,2019-06-18 18:20:01.000000000,2019-06-19 12:34:18.000000000,2019-06-19 12:34:18.000000000,"[{'_account_id': 14826}, {'_account_id': 16036}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 18:20:01.000000000', 'files': ['ansible/roles/gnocchi/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/795c9dde872604c32718a74ef39dc87633861630', 'message': 'Elevate privileges for copying gnocchi policy.json\n\nChange-Id: I616a30acf38a61265f3005c712767d5221abf5c5\nCloses-Bug: #1830723\n(cherry picked from commit 4a60dc21e5f845d834247caf423801d84b5c987a)\n'}]",0,666120,795c9dde872604c32718a74ef39dc87633861630,7,4,1,14826,,,0,"Elevate privileges for copying gnocchi policy.json

Change-Id: I616a30acf38a61265f3005c712767d5221abf5c5
Closes-Bug: #1830723
(cherry picked from commit 4a60dc21e5f845d834247caf423801d84b5c987a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/20/666120/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/gnocchi/tasks/config.yml'],1,795c9dde872604c32718a74ef39dc87633861630,bug/1830723-stable/rocky, become: true,,1,0
openstack%2Fkolla-ansible~stable%2Fstein~I616a30acf38a61265f3005c712767d5221abf5c5,openstack/kolla-ansible,stable/stein,I616a30acf38a61265f3005c712767d5221abf5c5,Elevate privileges for copying gnocchi policy.json,MERGED,2019-06-18 18:19:38.000000000,2019-06-19 12:34:17.000000000,2019-06-19 12:34:17.000000000,"[{'_account_id': 14826}, {'_account_id': 16036}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 18:19:38.000000000', 'files': ['ansible/roles/gnocchi/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dd6408dbceebfe66433f000737ed9e016f2709a4', 'message': 'Elevate privileges for copying gnocchi policy.json\n\nChange-Id: I616a30acf38a61265f3005c712767d5221abf5c5\nCloses-Bug: #1830723\n(cherry picked from commit 4a60dc21e5f845d834247caf423801d84b5c987a)\n'}]",0,666119,dd6408dbceebfe66433f000737ed9e016f2709a4,7,4,1,14826,,,0,"Elevate privileges for copying gnocchi policy.json

Change-Id: I616a30acf38a61265f3005c712767d5221abf5c5
Closes-Bug: #1830723
(cherry picked from commit 4a60dc21e5f845d834247caf423801d84b5c987a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/19/666119/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/gnocchi/tasks/config.yml'],1,dd6408dbceebfe66433f000737ed9e016f2709a4,bug/1830723-stable/stein, become: true,,1,0
openstack%2Fkolla-ansible~stable%2Frocky~I172ef3d19ff2bea97db3a5207c1a984cd188ceba,openstack/kolla-ansible,stable/rocky,I172ef3d19ff2bea97db3a5207c1a984cd188ceba,Fix mongo command for checking replication status,MERGED,2019-06-18 18:31:06.000000000,2019-06-19 12:34:16.000000000,2019-06-19 12:34:16.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 21757}, {'_account_id': 22348}, {'_account_id': 28367}]","[{'number': 1, 'created': '2019-06-18 18:31:06.000000000', 'files': ['ansible/roles/mongodb/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f89f6f0ad9ab72fc3b47bedd29618ed38999f1b3', 'message': ""Fix mongo command for checking replication status\n\nBy default, the mongo command connection address is '127.0.0.1:27017'.\nIf we change mongodb_port, It cause the handle 'Checking current\nreplication status' always connect to '127.0.0.1:27017'. So we need\nadd options like '--host' and '--port'.\n\nChange-Id: I172ef3d19ff2bea97db3a5207c1a984cd188ceba\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\n(cherry picked from commit 08f5c50e7491c29138049237ede070d84cc503b8)\n""}]",0,666145,f89f6f0ad9ab72fc3b47bedd29618ed38999f1b3,10,5,1,14826,,,0,"Fix mongo command for checking replication status

By default, the mongo command connection address is '127.0.0.1:27017'.
If we change mongodb_port, It cause the handle 'Checking current
replication status' always connect to '127.0.0.1:27017'. So we need
add options like '--host' and '--port'.

Change-Id: I172ef3d19ff2bea97db3a5207c1a984cd188ceba
Signed-off-by: ZijianGuo <guozijn@gmail.com>
(cherry picked from commit 08f5c50e7491c29138049237ede070d84cc503b8)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/45/666145/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/mongodb/handlers/main.yml'],1,f89f6f0ad9ab72fc3b47bedd29618ed38999f1b3,," command: ""docker exec -t mongodb mongo --host {{ hostvars[inventory_hostname]['ansible_' + api_interface]['ipv4']['address'] }} --port {{ mongodb_port }} --quiet --eval rs.status().ok"""," command: ""docker exec -t mongodb mongo {{ hostvars[inventory_hostname]['ansible_' + api_interface]['ipv4']['address'] }} --quiet --eval rs.status().ok""",1,1
openstack%2Fironic-python-agent~master~I56f7c9abdae1f406de1e086fdc0cac8bebca0e3c,openstack/ironic-python-agent,master,I56f7c9abdae1f406de1e086fdc0cac8bebca0e3c,Removes tinyipa from IPA,MERGED,2019-06-14 12:54:50.000000000,2019-06-19 12:15:59.000000000,2019-06-19 12:15:59.000000000,"[{'_account_id': 10239}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28935}, {'_account_id': 30099}]","[{'number': 1, 'created': '2019-06-14 12:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/cab42d3e8db8c0e728e210f9288ac51c3ed0eb39', 'message': 'Removes tinyipa from IPA\n\nChange-Id: I56f7c9abdae1f406de1e086fdc0cac8bebca0e3c\nTask: 33745\nStory: 2005114\n'}, {'number': 2, 'created': '2019-06-14 13:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/32bcc0f18948a3c5ae53bd5027091ab85d7c3fee', 'message': 'Removes tinyipa from IPA\n\nChange-Id: I56f7c9abdae1f406de1e086fdc0cac8bebca0e3c\nTask: 33745\nStory: 2005114\n'}, {'number': 3, 'created': '2019-06-18 16:44:41.000000000', 'files': ['imagebuild/tinyipa/build_files/finalreqs.lst', 'imagebuild/tinyipa/build_files/dhcp.sh', 'zuul.d/ironic-python-agent-jobs.yaml', 'imagebuild/tinyipa/Makefile', 'imagebuild/tinyipa/udhcpc.script', 'imagebuild/tinyipa/build-tinyipa.sh', 'imagebuild/tinyipa/build_files/finalreqs_python3.lst', 'imagebuild/tinyipa/install-deps.sh', 'imagebuild/tinyipa/build-iso.sh', 'imagebuild/tinyipa/build_files/bootlocal.sh', 'imagebuild/README.rst', 'imagebuild/tinyipa/build_files/buildreqs_python3.lst', 'imagebuild/tinyipa/add-ssh-tinyipa.sh', 'imagebuild/tinyipa/tc-mirror.sh', 'imagebuild/tinyipa/build_files/fakeuname', 'imagebuild/tinyipa/build_files/isolinux.cfg', 'imagebuild/tinyipa/common.sh', 'imagebuild/tinyipa/finalise-tinyipa.sh', 'imagebuild/tinyipa/build_files/buildreqs.lst', 'imagebuild/tinyipa/README.rst', 'imagebuild/tinyipa/.gitignore', 'imagebuild/tinyipa/build-instance-images.sh', 'imagebuild/tinyipa/build_files/finalreqs_python2.lst', 'imagebuild/tinyipa/build_files/buildreqs_python2.lst'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/dd7e7fdd1acb819a933b905e99ae701abf774788', 'message': 'Removes tinyipa from IPA\n\nChange-Id: I56f7c9abdae1f406de1e086fdc0cac8bebca0e3c\nTask: 33745\nStory: 2005114\n'}]",0,665379,dd7e7fdd1acb819a933b905e99ae701abf774788,27,6,3,30099,,,0,"Removes tinyipa from IPA

Change-Id: I56f7c9abdae1f406de1e086fdc0cac8bebca0e3c
Task: 33745
Story: 2005114
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/79/665379/1 && git format-patch -1 --stdout FETCH_HEAD,"['imagebuild/tinyipa/build_files/finalreqs.lst', 'imagebuild/tinyipa/tc-mirror.sh', 'imagebuild/tinyipa/build_files/dhcp.sh', 'imagebuild/tinyipa/Makefile', 'imagebuild/tinyipa/build_files/fakeuname', 'imagebuild/tinyipa/udhcpc.script', 'imagebuild/tinyipa/build-tinyipa.sh', 'imagebuild/tinyipa/build_files/finalreqs_python3.lst', 'imagebuild/tinyipa/build_files/isolinux.cfg', 'imagebuild/tinyipa/common.sh', 'imagebuild/tinyipa/install-deps.sh', 'imagebuild/tinyipa/build-iso.sh', 'imagebuild/tinyipa/finalise-tinyipa.sh', 'imagebuild/tinyipa/build_files/buildreqs.lst', 'imagebuild/tinyipa/README.rst', 'imagebuild/tinyipa/build_files/bootlocal.sh', 'imagebuild/tinyipa/.gitignore', 'imagebuild/tinyipa/build-instance-images.sh', 'imagebuild/tinyipa/build_files/finalreqs_python2.lst', 'imagebuild/tinyipa/build_files/buildreqs_python3.lst', 'imagebuild/tinyipa/build_files/buildreqs_python2.lst', 'imagebuild/tinyipa/add-ssh-tinyipa.sh']",22,cab42d3e8db8c0e728e210f9288ac51c3ed0eb39,removing_tinyipa,,"#!/bin/bash # Rebuild upstream pre-built tinyipa it to be usable with ansible-deploy. # # Downloads the pre-built tinyipa ramdisk from tarballs.openstack.org or # rebuilds a ramdisk under path set as TINYIPA_RAMDISK_FILE shell var. # During rebuild this script installs and configures OpenSSH server if needed # and makes required changes for Ansible + Python to work in compiled/optimized # Python environment. # # By default, id_rsa or id_dsa keys of the user performing the build # are baked into the image as authorized_keys for 'tc' user. # To supply different public ssh key, befor running this script set # SSH_PUBLIC_KEY environment variable to point to absolute path to the key. # # This script produces ""ansible-<tinyipa-ramdisk-name>"" ramdisk that can serve # as ramdisk for both ansible-deploy driver and agent-based Ironic drivers, set -ex WORKDIR=$(readlink -f $0 | xargs dirname) REBUILDDIR=""$WORKDIR/tinyipaaddssh"" DST_DIR=$REBUILDDIR source ${WORKDIR}/common.sh TINYCORE_MIRROR_URL=${TINYCORE_MIRROR_URL:-} BRANCH_PATH=${BRANCH_PATH:-master} TINYIPA_RAMDISK_FILE=${TINYIPA_RAMDISK_FILE:-} SSH_PUBLIC_KEY=${SSH_PUBLIC_KEY:-} function validate_params { echo ""Validating location of public SSH key"" if [ -n ""$SSH_PUBLIC_KEY"" ]; then if [ -r ""$SSH_PUBLIC_KEY"" ]; then _found_ssh_key=""$SSH_PUBLIC_KEY"" fi else for fmt in rsa dsa; do if [ -r ""$HOME/.ssh/id_$fmt.pub"" ]; then _found_ssh_key=""$HOME/.ssh/id_$fmt.pub"" break fi done fi if [ -z $_found_ssh_key ]; then echo ""Failed to find neither provided nor default SSH key"" exit 1 fi } function get_tinyipa { if [ -z $TINYIPA_RAMDISK_FILE ]; then mkdir -p $WORKDIR/build_files/cache cd $WORKDIR/build_files/cache wget -N https://tarballs.openstack.org/ironic-python-agent/tinyipa/files/tinyipa${BRANCH_EXT}.gz TINYIPA_RAMDISK_FILE=""$WORKDIR/build_files/cache/tinyipa${BRANCH_EXT}.gz"" fi } function unpack_ramdisk { if [ -d ""$REBUILDDIR"" ]; then sudo rm -rf ""$REBUILDDIR"" fi mkdir -p ""$REBUILDDIR"" # Extract rootfs from .gz file ( cd ""$REBUILDDIR"" && zcat ""$TINYIPA_RAMDISK_FILE"" | sudo cpio -i -H newc -d ) } function install_ssh { if [ ! -f ""$REBUILDDIR/usr/local/etc/ssh/sshd_config"" ]; then # tinyipa was built without SSH server installed # Install and configure bare minimum for SSH access $TC_CHROOT_CMD tce-load -wic openssh # Configure OpenSSH $CHROOT_CMD cp /usr/local/etc/ssh/sshd_config.orig /usr/local/etc/ssh/sshd_config echo ""PasswordAuthentication no"" | $CHROOT_CMD tee -a /usr/local/etc/ssh/sshd_config # Generate and configure host keys - RSA, DSA, Ed25519 # NOTE(pas-ha) ECDSA host key will still be re-generated fresh on every image boot $CHROOT_CMD ssh-keygen -q -t rsa -N """" -f /usr/local/etc/ssh/ssh_host_rsa_key $CHROOT_CMD ssh-keygen -q -t dsa -N """" -f /usr/local/etc/ssh/ssh_host_dsa_key $CHROOT_CMD ssh-keygen -q -t ed25519 -N """" -f /usr/local/etc/ssh/ssh_host_ed25519_key echo ""HostKey /usr/local/etc/ssh/ssh_host_rsa_key"" | $CHROOT_CMD tee -a /usr/local/etc/ssh/sshd_config echo ""HostKey /usr/local/etc/ssh/ssh_host_dsa_key"" | $CHROOT_CMD tee -a /usr/local/etc/ssh/sshd_config echo ""HostKey /usr/local/etc/ssh/ssh_host_ed25519_key"" | $CHROOT_CMD tee -a /usr/local/etc/ssh/sshd_config fi # setup new user SSH keys anyway $CHROOT_CMD mkdir -p /home/tc $CHROOT_CMD chown -R tc.staff /home/tc $TC_CHROOT_CMD mkdir -p /home/tc/.ssh cat $_found_ssh_key | $TC_CHROOT_CMD tee /home/tc/.ssh/authorized_keys $CHROOT_CMD chown tc.staff /home/tc/.ssh/authorized_keys $TC_CHROOT_CMD chmod 600 /home/tc/.ssh/authorized_keys } function fix_python_optimize { if grep -q ""PYTHONOPTIMIZE=1"" ""$REBUILDDIR/opt/bootlocal.sh""; then # tinyipa was built with optimized Python environment, apply fixes echo ""PYTHONOPTIMIZE=1"" | $TC_CHROOT_CMD tee -a /home/tc/.ssh/environment echo ""PermitUserEnvironment yes"" | $CHROOT_CMD tee -a /usr/local/etc/ssh/sshd_config echo 'Defaults env_keep += ""PYTHONOPTIMIZE""' | $CHROOT_CMD tee -a /etc/sudoers fi } function rebuild_ramdisk { # Rebuild build directory into gz file ansible_basename=""ansible-$(basename $TINYIPA_RAMDISK_FILE)"" ( cd ""$REBUILDDIR"" && sudo find | sudo cpio -o -H newc | gzip -9 > ""$WORKDIR/${ansible_basename}"" ) # Output file created by this script and its size cd ""$WORKDIR"" echo ""Produced files:"" du -h ""${ansible_basename}"" } sudo -v validate_params get_tinyipa unpack_ramdisk setup_tce ""$DST_DIR"" # NOTE (pas-ha) default tinyipa is built without SSH access, enable it here install_ssh # NOTE(pas-ha) default tinyipa is built with PYOPTIMIZE_TINYIPA=true and # for Ansible+python to work we need to ensure that PYTHONOPTIMIZE=1 is # set for all sessions from 'tc' user including those that are escalated # with 'sudo' afterwards fix_python_optimize cleanup_tce ""$DST_DIR"" rebuild_ramdisk ",0,1279
openstack%2Fironic~master~I99bcb0650ac609ae9f0a8bcff70429eb4a3b7274,openstack/ironic,master,I99bcb0650ac609ae9f0a8bcff70429eb4a3b7274,Refactoring: flatten the glance service module,MERGED,2019-06-18 10:24:46.000000000,2019-06-19 12:15:56.000000000,2019-06-19 12:15:56.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-18 10:24:46.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/tests/unit/common/test_image_service.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'ironic/common/glance_service/base_image_service.py', 'ironic/common/glance_service/image_service.py', 'ironic/common/image_service.py', 'ironic/common/glance_service/v2/image_service.py', 'ironic/common/glance_service/v2/__init__.py', 'ironic/tests/unit/common/test_glance_service.py', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/12e45f314a40e568752816f27ee3c7b3148582ca', 'message': 'Refactoring: flatten the glance service module\n\nThe current structure is designed to support several major versions.\nHowever, we only support V2 and in the future will use openstacksdk\nto abstract away major version differences.\n\nChange-Id: I99bcb0650ac609ae9f0a8bcff70429eb4a3b7274\n'}]",3,665942,12e45f314a40e568752816f27ee3c7b3148582ca,21,7,1,10239,,,0,"Refactoring: flatten the glance service module

The current structure is designed to support several major versions.
However, we only support V2 and in the future will use openstacksdk
to abstract away major version differences.

Change-Id: I99bcb0650ac609ae9f0a8bcff70429eb4a3b7274
",git fetch https://review.opendev.org/openstack/ironic refs/changes/42/665942/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/tests/unit/common/test_image_service.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'ironic/common/glance_service/base_image_service.py', 'ironic/common/glance_service/image_service.py', 'ironic/common/glance_service/v2/image_service.py', 'ironic/common/image_service.py', 'ironic/common/glance_service/v2/__init__.py', 'ironic/tests/unit/common/test_glance_service.py', 'ironic/tests/unit/common/test_pxe_utils.py']",10,12e45f314a40e568752816f27ee3c7b3148582ca,glance-merge,"from ironic.common.glance_service import image_service @mock.patch.object(image_service.GlanceImageService, 'show', autospec=True) show_mock.assert_called_once_with(mock.ANY, 'glance://image_uuid') @mock.patch.object(image_service.GlanceImageService, 'show', autospec=True)","from ironic.common.glance_service import base_image_service @mock.patch.object(base_image_service.BaseImageService, '_show', autospec=True) show_mock.assert_called_once_with(mock.ANY, 'glance://image_uuid', method='get') @mock.patch.object(base_image_service.BaseImageService, '_show', autospec=True)",456,506
openstack%2Fironic~master~I054ed79bfd3c908b3c3841f97b0d381a50280859,openstack/ironic,master,I054ed79bfd3c908b3c3841f97b0d381a50280859,Remove the deprecated glance authentication options,MERGED,2019-06-18 09:41:37.000000000,2019-06-19 12:15:54.000000000,2019-06-19 12:15:54.000000000,"[{'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-18 09:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b575e4515dda413c2ff80e28c70217a82749e0d7', 'message': 'Remove the deprecated glance authentication options\n\nAlso rename glance_num_retries -> num_retries with deprecation to\navoid redundant ""glance"".\n\nChange-Id: I054ed79bfd3c908b3c3841f97b0d381a50280859\n'}, {'number': 2, 'created': '2019-06-18 10:01:09.000000000', 'files': ['ironic/tests/unit/common/test_image_service.py', 'ironic/common/glance_service/base_image_service.py', 'ironic/common/glance_service/service_utils.py', 'ironic/tests/unit/common/test_glance_service.py', 'releasenotes/notes/glance-deprecations-21e7014b72a1bcef.yaml', 'ironic/conf/glance.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/dcfb4f10f31c11afa350ef6418a0e12e6be6e5b2', 'message': 'Remove the deprecated glance authentication options\n\nAlso rename glance_num_retries -> num_retries with deprecation to\navoid redundant ""glance"".\n\nChange-Id: I054ed79bfd3c908b3c3841f97b0d381a50280859\n'}]",2,665929,dcfb4f10f31c11afa350ef6418a0e12e6be6e5b2,15,9,2,10239,,,0,"Remove the deprecated glance authentication options

Also rename glance_num_retries -> num_retries with deprecation to
avoid redundant ""glance"".

Change-Id: I054ed79bfd3c908b3c3841f97b0d381a50280859
",git fetch https://review.opendev.org/openstack/ironic refs/changes/29/665929/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_image_service.py', 'ironic/common/glance_service/base_image_service.py', 'ironic/tests/unit/common/test_glance_service.py', 'releasenotes/notes/glance-deprecations-21e7014b72a1bcef.yaml', 'ironic/conf/glance.py']",5,b575e4515dda413c2ff80e28c70217a82749e0d7,glance," cfg.IntOpt('num_retries', # TODO(dtantsur): remove in U deprecated_name='glance_num_retries',"," cfg.ListOpt('glance_api_servers', deprecated_for_removal=True, deprecated_reason=_(""Use [glance]/endpoint_override option "" ""to set the full load-balanced glance API "" ""URL instead.""), help=_('A list of the glance api servers available to ironic. ' 'Prefix with https:// for SSL-based glance API ' 'servers. Format is [hostname|IP]:port.')), cfg.BoolOpt('glance_api_insecure', default=False, deprecated_for_removal=True, deprecated_reason=_(""Use [glance]/insecure option instead.""), help=_('Allow to perform insecure SSL (https) requests to ' 'glance.')), cfg.IntOpt('glance_num_retries', cfg.StrOpt('auth_strategy', default='keystone', choices=[('keystone', _('use the Identity service for ' 'authentication')), ('noauth', _('no authentication'))], deprecated_for_removal=True, deprecated_reason=_(""To configure glance in noauth mode, "" ""set [glance]/auth_type=none and "" ""[glance]/endpoint_override="" ""<GLANCE_API_ADDRESS> instead.""), help=_('Authentication strategy to use when connecting to ' 'glance.')), cfg.StrOpt('glance_cafile', deprecated_for_removal=True, deprecated_reason=_(""Use [glance]/cafile option instead.""), help=_('Optional path to a CA certificate bundle to be used to ' 'validate the SSL certificate served by glance. It is ' 'used when glance_api_insecure is set to False.')),",26,122
openstack%2Fkolla-ansible~master~I97263385372a28204c0ae81373836a2d6292f3bd,openstack/kolla-ansible,master,I97263385372a28204c0ae81373836a2d6292f3bd,Add logrotate configuration for horizon,MERGED,2019-06-19 04:33:50.000000000,2019-06-19 12:08:58.000000000,2019-06-19 12:08:58.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 04:33:50.000000000', 'files': ['ansible/roles/common/templates/cron.json.j2', 'ansible/roles/common/templates/cron-logrotate-horizon.conf.j2', 'ansible/roles/common/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1d02ec49f6ec9315dff6b8eea6a3b2cec50a1f44', 'message': 'Add logrotate configuration for horizon\n\nChange-Id: I97263385372a28204c0ae81373836a2d6292f3bd\nCloses-Bug: #1833336\n'}]",0,666214,1d02ec49f6ec9315dff6b8eea6a3b2cec50a1f44,7,3,1,26299,,,0,"Add logrotate configuration for horizon

Change-Id: I97263385372a28204c0ae81373836a2d6292f3bd
Closes-Bug: #1833336
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/666214/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/cron.json.j2', 'ansible/roles/common/templates/cron-logrotate-horizon.conf.j2', 'ansible/roles/common/tasks/config.yml']",3,1d02ec49f6ec9315dff6b8eea6a3b2cec50a1f44,bug/1833336," - { name: ""horizon"", enabled: ""{{ enable_horizon }}"" }",,5,0
openstack%2Fopenstacksdk~master~I5c2b93d7e737755958ff074f3a84e592c94f0fe2,openstack/openstacksdk,master,I5c2b93d7e737755958ff074f3a84e592c94f0fe2,Add subnet_id property for FloatingIP,MERGED,2017-11-20 05:55:36.000000000,2019-06-19 11:29:48.000000000,2017-11-20 15:39:30.000000000,"[{'_account_id': 8257}, {'_account_id': 22348}, {'_account_id': 23517}]","[{'number': 1, 'created': '2017-11-20 05:55:36.000000000', 'files': ['openstack/network/v2/floating_ip.py', 'openstack/tests/unit/network/v2/test_floating_ip.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4419c553a458c6f22770327b25019329098cb740', 'message': 'Add subnet_id property for FloatingIP\n\nIn openstackclient we can pass a ""subnet_id"" param while creating\nfloatingip, but missing in FloatingIP properties.\n\nChange-Id: I5c2b93d7e737755958ff074f3a84e592c94f0fe2\nCloses-Bug: #1733258\n'}]",0,521421,4419c553a458c6f22770327b25019329098cb740,8,3,1,12860,,,0,"Add subnet_id property for FloatingIP

In openstackclient we can pass a ""subnet_id"" param while creating
floatingip, but missing in FloatingIP properties.

Change-Id: I5c2b93d7e737755958ff074f3a84e592c94f0fe2
Closes-Bug: #1733258
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/21/521421/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/network/v2/floating_ip.py', 'openstack/tests/unit/network/v2/test_floating_ip.py']",2,4419c553a458c6f22770327b25019329098cb740,bug/1733258," 'subnet_id': '14' self.assertEqual(EXAMPLE['subnet_id'], sot.subnet_id)",,7,2
openstack%2Fpython-glanceclient~master~I8a96eea9d3d8f6d8beae9d86f307f0edd075392c,openstack/python-glanceclient,master,I8a96eea9d3d8f6d8beae9d86f307f0edd075392c,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-06-10 03:31:49.000000000,2019-06-19 11:20:58.000000000,2019-06-19 11:20:58.000000000,"[{'_account_id': 2537}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-10 03:31:49.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/039fa4c045c89d582cf5b1f81d644fc24d3a4818', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I8a96eea9d3d8f6d8beae9d86f307f0edd075392c\n'}]",0,664191,039fa4c045c89d582cf5b1f81d644fc24d3a4818,7,6,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: I8a96eea9d3d8f6d8beae9d86f307f0edd075392c
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/91/664191/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,039fa4c045c89d582cf5b1f81d644fc24d3a4818,Bug#1,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fglance-specs~master~I2c5a227fc15e6ac958ea700a176ac719b977e2b7,openstack/glance-specs,master,I2c5a227fc15e6ac958ea700a176ac719b977e2b7,Spec Lite: Lazy update stores information,MERGED,2019-05-22 06:21:42.000000000,2019-06-19 11:20:18.000000000,2019-06-19 11:20:18.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-22 06:21:42.000000000', 'files': ['specs/train/approved/index.rst', 'specs/train/approved/glance/spec-lite-lazy-update-stores-info.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/790b36f03ce358877da9594099f9e9369e0592f0', 'message': 'Spec Lite: Lazy update stores information\n\nChange-Id: I2c5a227fc15e6ac958ea700a176ac719b977e2b7\n'}]",0,660570,790b36f03ce358877da9594099f9e9369e0592f0,8,4,1,9303,,,0,"Spec Lite: Lazy update stores information

Change-Id: I2c5a227fc15e6ac958ea700a176ac719b977e2b7
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/70/660570/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/train/approved/index.rst', 'specs/train/approved/glance/spec-lite-lazy-update-stores-info.rst']",2,790b36f03ce358877da9594099f9e9369e0592f0,specs/lazy-update-stores-info,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================= Spec Lite: Lazy update stores information ========================================= :project: glance :problem: In Rocky multiple backend support is added as experimental feature. The location object will have the 'store_id' (Store name) stored as a metadata attribute which helps to identify in which store the image is located. Glance API service has information about all configured stores in a global map. After enabling/upgrading glance-api to use multiple stores feature, existing images will not have a stores information associated with them. As a result if existing image is requested for download then it will search that image in all configured stores which will cause a performance overhead. All configured stores are stored in memory, if operator change the store name in configuration file and restart the glance-api service there is no way to update the new name to existing images which has store information associated with them. :solution: Add a decorator to get image call which will retrieve the location object from image and then from location URL it will fetch the store information which is stored in the location map. Once location url is matched with the url from the global map, it will check if location metadata has existing store associated with it and then store name will be added/updated to the location metadata. If user/operator uses GET call to show a single image or list all the images the particular decorator will update the store information to single or all images available depending upon the request. There will be slight impact on performance on list call as it will revisit the location call for each of the image in the list. :alternatives: None, carry on using current mechanism. impacts: DocImpact :timeline: Include in Train release. :link: None :assignee: abhishekk ",,60,1
openstack%2Fhorizon~master~I55249de8762e0744b69ff655fcd7a4aeb56ba9d6,openstack/horizon,master,I55249de8762e0744b69ff655fcd7a4aeb56ba9d6,Adds community image loading for instance index view,MERGED,2019-03-11 09:26:00.000000000,2019-06-19 11:18:00.000000000,2019-06-19 11:18:00.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 26546}]","[{'number': 1, 'created': '2019-03-11 09:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/84b733de5b07ddc5c50c05b635104f183a1b538c', 'message': ""Adds community image loading for instance index view\n\nThis patch adds community image loading to the Instances index view\nso that image names may be displayed in this view even for community\nimages.\n\nNote, that a second image list API call had to be added to achieve\nthis, because the glance Rest API does not currently support adding\nmultiple visiblity values to it's GET filters and community images\nhave to be retrieved explicitly.\n\nChange-Id: I55249de8762e0744b69ff655fcd7a4aeb56ba9d6\nCloses-Bug: #1818823\n""}, {'number': 2, 'created': '2019-05-29 05:54:47.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/tests.py', 'openstack_dashboard/dashboards/project/instances/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6f807b6b05ea4a9df93ed23111f10a5041377612', 'message': ""Adds community image loading for instance index view\n\nThis patch adds community image loading to the Instances index view\nso that image names may be displayed in this view even for community\nimages.\n\nNote, that a second image list API call had to be added to achieve\nthis, because the glance Rest API does not currently support adding\nmultiple visiblity values to it's GET filters and community images\nhave to be retrieved explicitly.\n\nChange-Id: I55249de8762e0744b69ff655fcd7a4aeb56ba9d6\nCloses-Bug: #1818823\n""}]",4,642391,6f807b6b05ea4a9df93ed23111f10a5041377612,15,4,2,26546,,,0,"Adds community image loading for instance index view

This patch adds community image loading to the Instances index view
so that image names may be displayed in this view even for community
images.

Note, that a second image list API call had to be added to achieve
this, because the glance Rest API does not currently support adding
multiple visiblity values to it's GET filters and community images
have to be retrieved explicitly.

Change-Id: I55249de8762e0744b69ff655fcd7a4aeb56ba9d6
Closes-Bug: #1818823
",git fetch https://review.opendev.org/openstack/horizon refs/changes/91/642391/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/instances/tests.py', 'openstack_dashboard/dashboards/project/instances/views.py']",2,84b733de5b07ddc5c50c05b635104f183a1b538c,bug/1818823," # Community images have to be retrieved separately and merged, # because their visibility has to be explicitly defined in the # API call and the Glance API currently does not support filtering # by multiple values in the visibility field. community_images = api.glance.image_list_detailed( self.request, filters={'visibility': 'community'})[0] image_map = { image.id: image for image in images } # Images have to be filtered by their uuids; some users # have default access to certain community images. for image in community_images: image_map.setdefault(image.id, image) return image_map"," return dict((str(image.id), image) for image in images)",101,71
openstack%2Fswift~master~I7e4cfd362b9848ea436686d6e46b9844c2ddf913,openstack/swift,master,I7e4cfd362b9848ea436686d6e46b9844c2ddf913,Modify S3 compatible document errors,NEW,2019-06-18 11:52:20.000000000,2019-06-19 11:13:04.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 26233}]","[{'number': 1, 'created': '2019-06-18 11:52:20.000000000', 'files': ['doc/source/s3_compat.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/74853d923296047c293be35a5b546412d69e8c93', 'message': 'Modify S3 compatible document errors\n\nSwift S3 interface is not supported ""PUT Object ACL""\n\nChange-Id: I7e4cfd362b9848ea436686d6e46b9844c2ddf913\nCloses-Bug: 1833221\n'}]",2,665958,74853d923296047c293be35a5b546412d69e8c93,4,3,1,26233,,,0,"Modify S3 compatible document errors

Swift S3 interface is not supported ""PUT Object ACL""

Change-Id: I7e4cfd362b9848ea436686d6e46b9844c2ddf913
Closes-Bug: 1833221
",git fetch https://review.opendev.org/openstack/swift refs/changes/58/665958/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/s3_compat.rst'],1,74853d923296047c293be35a5b546412d69e8c93,acl_error,| `PUT Object ACL`_ | Core-API | No |,| `PUT Object ACL`_ | Core-API | Yes |,1,1
openstack%2Fmagnum~master~I4f913bc06a68cf0f3d61d836ab8a7acae54d50f7,openstack/magnum,master,I4f913bc06a68cf0f3d61d836ab8a7acae54d50f7,ci: Rotate dockerhub password,MERGED,2019-06-18 08:55:27.000000000,2019-06-19 10:45:43.000000000,2019-06-19 10:45:43.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 08:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/92f3bbfa14e194dad1702d843a00ad300b9deaac', 'message': 'ci: Rotate dockerhub password\n\nChange-Id: I4f913bc06a68cf0f3d61d836ab8a7acae54d50f7\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 2, 'created': '2019-06-18 08:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a4a6b44a081b2547f0d12e2f951102b294b3dbc7', 'message': 'ci: Rotate dockerhub password\n\nChange-Id: I4f913bc06a68cf0f3d61d836ab8a7acae54d50f7\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 3, 'created': '2019-06-19 01:02:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/d7035775c6ab8f2e31f04bca528be0f4209afdfe', 'message': 'ci: Rotate dockerhub password\n\nDepends-On: https://review.opendev.org/666196\nChange-Id: I4f913bc06a68cf0f3d61d836ab8a7acae54d50f7\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",0,665917,d7035775c6ab8f2e31f04bca528be0f4209afdfe,11,2,3,20498,,,0,"ci: Rotate dockerhub password

Depends-On: https://review.opendev.org/666196
Change-Id: I4f913bc06a68cf0f3d61d836ab8a7acae54d50f7
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/17/665917/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,92f3bbfa14e194dad1702d843a00ad300b9deaac,rotate-ci-password, - DeKrk9fGHRFpf1pGXCfX0gItAAUyS1ZmuRIqq7iMvioz8P6k0NdYaPRGtQG5f0ijJSaG0 /TTxKySQ5Dtnf7PumH5U2nXDQzi0oieH+u6h9Iu5x6sPDcOsO3XryPouQGhs+T1iqMd0j cXnbhM4/0QxtMD3b9rxL4WAp16nJ0c1p8Nh0d7KxulhF2n0fNcHgCxSpDU09Ehf5z1X+r z4fc9K7jxr/P5wJ5mTQ85NVEOGchMq5H2a3MuJGU7B7NViv3nBd8nd39sQrvsCMAD/es0 vABLC5HJyZj5wrjh2b0sgAbHdM89TXDXg6FAk3HlS0jXdu7Sd6BUEZuHcymd680qV+bui gF6RT+qO9D3Q/9koGrNabi8VFUSNqOavBJVn0W/ZTG/vGy3DmgjtGtgQu+2Q1zuwodaa+ tiZwyrd2t9g33ePZgjBiCF8ehPgkkzgHmKEYDrc2itBb3T4PxcdMCfwt1KtmhNfYnSpSF VY57IV7OGysaedKuYpb8aJ0ckj47lJLS669ZoOFGPIMTuVFpdFTILaQOPqws/HTZgKlTk aidm/zvriGovFY8tAjcOnpbkJ44lGUPNH09aoMh47q7yfPoMJJ9QDVb3WLxhY18jfwfCY eD4eIWo2s0YG37VX0N5lPeHR6Y5HZq9AI0oOTmXjmRKHkq2JdpeBz7avdZBu7M=, - Sj67sS+3GfFvJKB3EUhPzakxgf2t0IB4tBjEVZP7VFmuSrSmNu0L1aZtyMTW4uTq2GlNM +y7Oury0YjfgRUj3Crxkfdk26YMPEAMT3+5diMkmYbNcu9AKkA76XYqLI88DJm71gdkBv ExEciK0/zrwy2fG0cAs2d/0c9SCR87xEBEs2NP3DIcEuoLQZRIVZtsss9U/7EKeVpvjCv zzcuYP9WtFmBvUn+5Jyev8evwTVFZIqT8eimOtAfK4KLlT6K17kT8kUuDAMWeub7BGtVB Jln6AsXetnYmo5VF6vDbp7tZrFO9tBKm2LNjDvtgahcilh2yt5DK9QfjUo4I0tmeLoK01 ZYogPLfjVyUQNhCiZOuwgVsIiB6OkGK8F/re3CyR5Ff1c0oD0TqWhREoqWKM9fSMhLxKn fAVW/kOZdqQxTwGj3JYiqtqnZAD4P7vdujhZWzb1LPJLD+42j6BaM4H0YQ8cvM+q9LtbF DrcSsxmi+krRwE8u8Yvxr5PPNv/2kNFspAQ9C5L5u2t0uUpb7rZ26iKdPEY/XHca7bpYI P4CkqWvPbnWL9CwUCeJDdo9WDV3Evd/+dXcK0EtTCgDzEzTiv/YsERIbwKF0pFnwjYme2 SX+Z3JkB5ne4VY+zKL3hltZHzMnu5yfitWWwcqYj4lETkkAZhNVa4aJPMQ1dXA=,10,10
openstack%2Fkolla-ansible~stable%2Fstein~I41b2986b2f4ccd8fdc6553e83737e4106b6a2c07,openstack/kolla-ansible,stable/stein,I41b2986b2f4ccd8fdc6553e83737e4106b6a2c07,"Fix issue finding custom, host specific plugins",MERGED,2019-06-18 18:29:00.000000000,2019-06-19 10:10:31.000000000,2019-06-19 10:10:31.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 18:29:00.000000000', 'files': ['ansible/roles/monasca/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5045d901f17914a6cd3aff45035f93c90d4b7190', 'message': 'Fix issue finding custom, host specific plugins\n\nThe results from the find operation need to be registered per host,\nbecause they depend on the host which runs the search. This bug\nimpacts users specifying custom plugins for specific hosts.\n\nChange-Id: I41b2986b2f4ccd8fdc6553e83737e4106b6a2c07\n(cherry picked from commit 4be219fcb7f3ed188ea0c4c5b2cb9a1fdba51991)\n'}]",0,666142,5045d901f17914a6cd3aff45035f93c90d4b7190,7,4,1,14826,,,0,"Fix issue finding custom, host specific plugins

The results from the find operation need to be registered per host,
because they depend on the host which runs the search. This bug
impacts users specifying custom plugins for specific hosts.

Change-Id: I41b2986b2f4ccd8fdc6553e83737e4106b6a2c07
(cherry picked from commit 4be219fcb7f3ed188ea0c4c5b2cb9a1fdba51991)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/42/666142/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/monasca/tasks/config.yml'],1,5045d901f17914a6cd3aff45035f93c90d4b7190,,, run_once: True,0,1
openstack%2Fopenstack-ansible~stable%2Fqueens~I523dc207357b741c2e1b2cb71f10b5f8ad176f4c,openstack/openstack-ansible,stable/queens,I523dc207357b741c2e1b2cb71f10b5f8ad176f4c,Bump SHAs for stable/queens,MERGED,2019-06-16 14:18:39.000000000,2019-06-19 09:58:47.000000000,2019-06-19 09:58:46.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-16 14:18:39.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/61cd2d2490c2f6bd4d6b0868968434b84dc47d15', 'message': 'Bump SHAs for stable/queens\n\nChange-Id: I523dc207357b741c2e1b2cb71f10b5f8ad176f4c\n'}]",0,665544,61cd2d2490c2f6bd4d6b0868968434b84dc47d15,16,4,1,17068,,,0,"Bump SHAs for stable/queens

Change-Id: I523dc207357b741c2e1b2cb71f10b5f8ad176f4c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/44/665544/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml']",3,61cd2d2490c2f6bd4d6b0868968434b84dc47d15,bump_osa, version: fd9b8108f1944d2563a8047549e8a094d8c0bc3c version: 7d255395f9f6ba9ccef13d5910cdc6202e735481 version: c8c4dbef7c8d133a891667c811c6b496936c4956 version: 40a743c72d5e91be3354fdc55662b408b426ffd3 version: 5c65525009133111a9714be2100c2f9df0f86524 version: 2de976eb18951a9c416e7930c9f23e4601e5476b version: c8095fc486252cae2b401e9ca2fe23b5f7d72dde version: 59c6ba2eaa940ca25d692284f3961f30219db8da version: 229705789c2c0b726d4cd1dba317eb450846b05c version: 30d7f6536cce7c6a150c8314df59223823741414 version: 6ca9bbf5c7567c2952cd420afb851a81727be3a1 version: 495212c9de2d1982850077bfe66eeb2501d06a09 version: 7fc13cc5f53ef5025b292501d275e54bbeb61b5b version: 1b53ff193c4655fc8f12e95c0dcd6d7eccbcb589 version: b180454346cc84dc2e70a14d95ba2ea5614928e8 version: 7d9fb1d70c8b87c6c0a4a0abd9f8d734494c8f3f version: 51b558103ef9c90b19d1aea455ca3a121eb5dcf8 version: 9eb599da3b7b4cd145f48f2c2e755e73df04864a version: ad4e25720982d0c31f473296722f33505dbf78c9 version: eeb89052bb574a2c25b607d8daed5143614fbc75 version: c0ecbab5257bb7295d22b5fc8b264688c156d6aa version: 1a9b2af957649db73483b41029432cfd0fa12ff6 version: 195fc53264ce4b24a5789280e3b40683535d7d77 version: a9ca6748d913b3bba0e5ba0c4bfdc9b4b08dcba7 version: 0ada03961cc7efe5241ea6a34c105a6859fd8cfd version: 98624f55d28609576fdcbcec3a0a13849676542d version: e0a660ed30cf561508a5ced1eb6198710cf86139 version: 8e57491ee5cda12effc2739a853c3dae2e9c3c62 version: 7d038991c6d74d4eb7b0dac79fd7e535b697c5e3 version: 28eb77b1053fc175823f570ce9fad131974c1ab8 version: ea151abb64cb1eeca2e3e3c4905e1429b4e20295 version: 4ac95b2d04897710593bec8a5c6249e883c17b02 version: daf0e968d6e2be7ce8e767bd54ce38c39ccd6e3e, version: cdd3810a5e6085f59cb0d11f65e6bee369161a0e version: e0b925cc603c0c00be204dbb169a997f4ecabd17 version: dcc21e84b62b8eb77055b62c9be7e6c9c1289edd version: 100f5e4525975c3173e47f4bfc26ab8c9e47630c version: cc6a57fab9c95e3d3911f8de270d2befc089a5dc version: 56c8bbb9c01a53f05be1b03ff6d4d573871dbc18 version: 294f21c6dc5b5ac4eb1f8a9f5dae37326b2b0f48 version: b2be1b1797d4d0359142691c6847520ecc8c65c8 version: cd78a614dfcdf2657d39cdfa1673c3f6c83b882a version: 17db6940071361c40c3740e39a9e1580cb45dc5a version: 8d2b7d252bec989afe8be212dbec79a73773898b version: 5fc214266d4b395de7dbf7f71bebfaddd73bac8f version: 6e09aed9f7714053789d7c62e9b05e963870fdbe version: 6481835afb6d64588d3ee6b8a655b3a9d2c5cda2 version: 4fe4963517cde2fa3bda54bc3fa3320e786355c4 version: ce26a9294fa244183ce22f51f3c66845d706aee5 version: 60ba9416cba04711b016ee41f3ffb7fded33ea9c version: 5152416ab0fc5450154675b784746efe70e2bf9b version: def2d6b36b9200868f709eed30be4d69bb7435e7 version: 2043745336d893da5ea872f391184289ba52250e version: bdade6b9330482e5390e062cd510591a640de672 version: d2e993f47097748ec6406004a0a96005e6c02a32 version: 781dd9ce0c489d9832e8b2f88f5d395ca0dc48aa version: 06c4101839fe1ff33f03ccab522646e26489af14 version: 4f1da57171bbe7e214939ff27c5526a799aa8b76 version: c8920ec66d3c9f8220d695335c0f687d30a9defa version: e30bd4e93684bb4d2bc07ca13ed6d43db05af588 version: 63f40b254a43e33c120a0a3dd7103893a3a0ea32 version: 6a6b9d9b63f5dbd09f5a601ab05d32c1d63e8eba version: b77a87da4686fee82a75843ad053ba35e5fea359 version: 79661b7d04a763cd2cef1933453625b3ee793abf version: b776c7883593b384478fb34ddd81a25946e7c10f version: edc93b692ccda21c07eac6ad5d776cafb96bc7b3,73,73
openstack%2Fkolla-ansible~stable%2Fqueens~If71d5c056c042667388dae8e4ee6d51a5ecab46e,openstack/kolla-ansible,stable/queens,If71d5c056c042667388dae8e4ee6d51a5ecab46e,Add blazar to fluentd aggregation,MERGED,2019-06-18 18:26:09.000000000,2019-06-19 09:56:59.000000000,2019-06-19 09:56:59.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 18:26:09.000000000', 'files': ['ansible/roles/common/templates/conf/input/00-global.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/01654d83e3d6bf508ea21284a45106868e88088c', 'message': 'Add blazar to fluentd aggregation\n\nIf Blazar is enabled, ensure that fluentd processes its logs.\n\nChange-Id: If71d5c056c042667388dae8e4ee6d51a5ecab46e\n(cherry picked from commit 2c343562ee3b47248d3f0812101d48dd54793a9f)\n'}]",0,666139,01654d83e3d6bf508ea21284a45106868e88088c,7,3,1,14826,,,0,"Add blazar to fluentd aggregation

If Blazar is enabled, ensure that fluentd processes its logs.

Change-Id: If71d5c056c042667388dae8e4ee6d51a5ecab46e
(cherry picked from commit 2c343562ee3b47248d3f0812101d48dd54793a9f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/39/666139/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/input/00-global.conf.j2'],1,01654d83e3d6bf508ea21284a45106868e88088c,blazar-fluentd-agg-stable/queens," ( 'blazar', enable_blazar ),",,1,0
openstack%2Fkolla-ansible~master~I6aaa4b4ac0fb739f7ad885c13f55b6db969996a2,openstack/kolla-ansible,master,I6aaa4b4ac0fb739f7ad885c13f55b6db969996a2,Make Ceph upgrade check Ceph release to avoid EPERM,MERGED,2019-06-18 09:36:52.000000000,2019-06-19 09:56:58.000000000,2019-06-19 09:56:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-18 09:36:52.000000000', 'files': ['ansible/roles/ceph/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0ea991e4d2c633ec97c1c9e9b7c96ee3b053a446', 'message': 'Make Ceph upgrade check Ceph release to avoid EPERM\n\nSince we have different upgrade paths, we must use the actually\ninstalled Ceph release name when doing require-osd-release\n\nCloses-Bug: #1832989\n\nChange-Id: I6aaa4b4ac0fb739f7ad885c13f55b6db969996a2\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,665927,0ea991e4d2c633ec97c1c9e9b7c96ee3b053a446,11,5,1,30491,,,0,"Make Ceph upgrade check Ceph release to avoid EPERM

Since we have different upgrade paths, we must use the actually
installed Ceph release name when doing require-osd-release

Closes-Bug: #1832989

Change-Id: I6aaa4b4ac0fb739f7ad885c13f55b6db969996a2
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/27/665927/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ceph/tasks/upgrade.yml'],1,0ea991e4d2c633ec97c1c9e9b7c96ee3b053a446,bug/1832989,"- name: Check final release (as running on MONs) shell: docker exec ceph_mon ceph version | cut -d' ' -f5 changed_when: false register: ceph_release_command run_once: true - name: Finalize the upgrade by disallowing older OSDs become: true command: docker exec ceph_mon ceph osd require-osd-release {{ ceph_release_command.stdout }} changed_when: false delegate_to: ""{{ groups['ceph-mon'][0] }}"" run_once: true",# NOTE(chenxing): Disallowing pre-luminous OSDs and enabling all # new Luminous-only functionality - name: Enabling all new Luminous-only functionality command: docker exec ceph_mon ceph osd require-osd-release luminous changed_when: False run_once: True,12,6
openstack%2Fkolla-ansible~stable%2Fstein~I7f1591bdbc7c03302befc3ca6ebf1b13c95640c2,openstack/kolla-ansible,stable/stein,I7f1591bdbc7c03302befc3ca6ebf1b13c95640c2,Fix placement log perms in config.json,MERGED,2019-06-18 18:31:41.000000000,2019-06-19 09:56:57.000000000,2019-06-19 09:56:57.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-06-18 18:31:41.000000000', 'files': ['ansible/roles/placement/templates/placement-api.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/367ca93564dd9b102256002f42f01be184dea31b', 'message': 'Fix placement log perms in config.json\n\nCurrently placement-api is configured to log to\n/var/log/kolla/placement/placement-api.log, but config.json is changing\npermissions of /var/log/kolla/placement/placement.log - this patch\nchanges this.\n\nChange-Id: I7f1591bdbc7c03302befc3ca6ebf1b13c95640c2\n(cherry picked from commit b850eeec9c54f70d39d26d7bbd922f4f0c8aed18)\n'}]",0,666146,367ca93564dd9b102256002f42f01be184dea31b,8,4,1,14826,,,0,"Fix placement log perms in config.json

Currently placement-api is configured to log to
/var/log/kolla/placement/placement-api.log, but config.json is changing
permissions of /var/log/kolla/placement/placement.log - this patch
changes this.

Change-Id: I7f1591bdbc7c03302befc3ca6ebf1b13c95640c2
(cherry picked from commit b850eeec9c54f70d39d26d7bbd922f4f0c8aed18)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/46/666146/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/placement/templates/placement-api.json.j2'],1,367ca93564dd9b102256002f42f01be184dea31b,bug/fix_placement_log-stable/stein," ""path"": ""/var/log/kolla/placement/placement-api.log"","," ""path"": ""/var/log/kolla/placement/placement.log"",",1,1
openstack%2Ffreezer~master~Ida52a0921e4ca281954b2ac80bd0bf7f82ec17bd,openstack/freezer,master,Ida52a0921e4ca281954b2ac80bd0bf7f82ec17bd,Update Sphinx requirement,MERGED,2019-06-18 08:27:16.000000000,2019-06-19 09:54:26.000000000,2019-06-19 09:54:26.000000000,"[{'_account_id': 21069}, {'_account_id': 21387}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-06-18 08:27:16.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/freezer/commit/fe4ab522a3d72f101abf2a0763639753207f8dc8', 'message': 'Update Sphinx requirement\n\nSphinx 2.0 no longer works on python 2.7, so we need to start capping\nit there as well.\n\nThe errors[1] are as follow:\n\nRequirement(package=\'sphinx\', location=\'\', specifiers=\'!=1.6.6,!=1.6.7,>=1.6.5\'\ndoes not match ""python_version>=\'3.4\'""\nRequirement(package=\'sphinx\', location=\'\', specifiers=\'!=1.6.6,!=1.6.7,>=1.6.5\'\ndoes not match ""python_version==\'2.7\'""\nCould not find a global requirements entry to match package sphinx. If the package\nis already included in the global list, the name or platform markers there may not\nmatch the local settings.\n\nReference:\n[1]. http://logs.openstack.org/56/665856/4/check/requirements-check/e565cc2/job-output.txt.gz\n[2]. https://review.opendev.org/#/c/658965/\n\nChange-Id: Ida52a0921e4ca281954b2ac80bd0bf7f82ec17bd\n'}]",0,665906,fe4ab522a3d72f101abf2a0763639753207f8dc8,9,6,1,28748,,,0,"Update Sphinx requirement

Sphinx 2.0 no longer works on python 2.7, so we need to start capping
it there as well.

The errors[1] are as follow:

Requirement(package='sphinx', location='', specifiers='!=1.6.6,!=1.6.7,>=1.6.5'
does not match ""python_version>='3.4'""
Requirement(package='sphinx', location='', specifiers='!=1.6.6,!=1.6.7,>=1.6.5'
does not match ""python_version=='2.7'""
Could not find a global requirements entry to match package sphinx. If the package
is already included in the global list, the name or platform markers there may not
match the local settings.

Reference:
[1]. http://logs.openstack.org/56/665856/4/check/requirements-check/e565cc2/job-output.txt.gz
[2]. https://review.opendev.org/#/c/658965/

Change-Id: Ida52a0921e4ca281954b2ac80bd0bf7f82ec17bd
",git fetch https://review.opendev.org/openstack/freezer refs/changes/06/665906/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,fe4ab522a3d72f101abf2a0763639753207f8dc8,fix_sphinx,"sphinx>=1.6.5,!=1.6.6,!=1.6.7,<2.0.0;python_version=='2.7' # BSD sphinx>=1.6.5,!=1.6.6,!=1.6.7;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fmagnum~stable%2Fstein~I3af760c51029175be042fb9cff3cb37bfbbeefe5,openstack/magnum,stable/stein,I3af760c51029175be042fb9cff3cb37bfbbeefe5,zuul: drop secret from stable branch,MERGED,2019-06-19 01:01:20.000000000,2019-06-19 09:36:08.000000000,2019-06-19 09:36:08.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 01:01:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/10e37bc1f4cb2ed2890d3aa2ee59eda3c12d5a6c', 'message': 'zuul: drop secret from stable branch\n\nZuul does not allow secrets which are not identical acros branches,\ntherefore if we want to rotate our current secrets, we have to drop\nall the old ones before the new one can be added.\n\nThe secret will continue to be read from the master branch, even for\nthe stable branch jobs so it can continue to live there.\n\nChange-Id: I3af760c51029175be042fb9cff3cb37bfbbeefe5\nNeeded-By: I4f913bc06a68cf0f3d61d836ab8a7acae54d50f7\n'}]",0,666196,10e37bc1f4cb2ed2890d3aa2ee59eda3c12d5a6c,7,2,1,1004,,,0,"zuul: drop secret from stable branch

Zuul does not allow secrets which are not identical acros branches,
therefore if we want to rotate our current secrets, we have to drop
all the old ones before the new one can be added.

The secret will continue to be read from the master branch, even for
the stable branch jobs so it can continue to live there.

Change-Id: I3af760c51029175be042fb9cff3cb37bfbbeefe5
Needed-By: I4f913bc06a68cf0f3d61d836ab8a7acae54d50f7
",git fetch https://review.opendev.org/openstack/magnum refs/changes/96/666196/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,10e37bc1f4cb2ed2890d3aa2ee59eda3c12d5a6c,rotate-ci-password,,- secret: name: magnum_docker_login data: user: !encrypted/pkcs1-oaep - LfP9zghLZsxH4uz1SWMQpjdvuni01WSTtSJyp0V1mb1X6B8VqX4H/Z5AaI2oQF/ZfcbiL H2mnwGPVDvFIncuUgCib48PaDu3SHHWIkuSmGGFgVJSfenm4mKnH2DT/zmsyoQ7UuIGkC uzCVTK6Zc6c1f6lFaeu6c2jlSf18XuS1z6U0ou5TRl1dQv0FDlbNfBNIXkDXviY6oTZZ3 AttA6C34OnLp7Vs8PMVcAXt5cH2ibcpxget4MZG+De2AiTaojKZ0pMw+HRFeke+Pq37uk zwtqxsSZkCgxdxPJsvhUziJzy2GhljyIRfbhf+/bze/3MFUkedk32wFsAjbWg6SJByXos 5FeUVby1Pu6fZu5Ag0VV+i37xcIgplfyTzW/P47eoq9A1S7bleKyqhxfVNnAjBJJPPlt3 YLYNH+zTdtm/qSBu24NKH9ju1reET99QuWNw26KT1Re2C2IeBfRGnqGcXBonO4xZ8uYkk 0nRU/d5zvT5zKAx+HXopuyLITU8JnTQ9Kzc5hiSyTF8aMozQxCGxbgzGsIXSSX50vuaH6 LuDTL7bnHrUKcWISbNcFxdqG9Wc9JNgaQGv4yHycdgTvulEvR9wJUtx0bjuk+JL5EhEsF XYNeESI2v1hf+50sxijlIycyMypeXXiuQRyzqG32bjq3RihsBcHnIxZ0KCzggw= password: !encrypted/pkcs1-oaep - Sj67sS+3GfFvJKB3EUhPzakxgf2t0IB4tBjEVZP7VFmuSrSmNu0L1aZtyMTW4uTq2GlNM +y7Oury0YjfgRUj3Crxkfdk26YMPEAMT3+5diMkmYbNcu9AKkA76XYqLI88DJm71gdkBv ExEciK0/zrwy2fG0cAs2d/0c9SCR87xEBEs2NP3DIcEuoLQZRIVZtsss9U/7EKeVpvjCv zzcuYP9WtFmBvUn+5Jyev8evwTVFZIqT8eimOtAfK4KLlT6K17kT8kUuDAMWeub7BGtVB Jln6AsXetnYmo5VF6vDbp7tZrFO9tBKm2LNjDvtgahcilh2yt5DK9QfjUo4I0tmeLoK01 ZYogPLfjVyUQNhCiZOuwgVsIiB6OkGK8F/re3CyR5Ff1c0oD0TqWhREoqWKM9fSMhLxKn fAVW/kOZdqQxTwGj3JYiqtqnZAD4P7vdujhZWzb1LPJLD+42j6BaM4H0YQ8cvM+q9LtbF DrcSsxmi+krRwE8u8Yvxr5PPNv/2kNFspAQ9C5L5u2t0uUpb7rZ26iKdPEY/XHca7bpYI P4CkqWvPbnWL9CwUCeJDdo9WDV3Evd/+dXcK0EtTCgDzEzTiv/YsERIbwKF0pFnwjYme2 SX+Z3JkB5ne4VY+zKL3hltZHzMnu5yfitWWwcqYj4lETkkAZhNVa4aJPMQ1dXA= ,0,26
openstack%2Fnetworking-ovn~master~If0574d847f2dd1492f399a0bd8fe7ef4b793e754,openstack/networking-ovn,master,If0574d847f2dd1492f399a0bd8fe7ef4b793e754,Enable tempest-slow job (non-voting),ABANDONED,2018-10-18 13:44:40.000000000,2019-06-19 09:13:16.000000000,,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 29526}]","[{'number': 1, 'created': '2018-10-18 13:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3f7872211cf016a8f0a30ea8d32cdb697b783b02', 'message': 'Enable tempest-slow job (non-voting)\n\nThis patch is enabling a new tempest-slow job in the check pipeline for\nnetworking-ovn. To start, the job will be non-voting until we get all\ntests fixed.\n\nChange-Id: If0574d847f2dd1492f399a0bd8fe7ef4b793e754\n'}, {'number': 2, 'created': '2018-10-18 13:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/eea39776aff235f14c47ade7c87500424633b08b', 'message': 'Enable tempest-slow job (non-voting)\n\nThis patch is enabling a new tempest-slow job in the check pipeline for\nnetworking-ovn. To start, the job will be non-voting until we get all\ntests fixed.\n\nChange-Id: If0574d847f2dd1492f399a0bd8fe7ef4b793e754\n'}, {'number': 3, 'created': '2018-10-18 15:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9bc90b4c1f01419f8cd251b26d0bd096e3999a1c', 'message': 'Enable tempest-slow job (non-voting)\n\nThis patch is enabling a new tempest-slow job in the check pipeline for\nnetworking-ovn. To start, the job will be non-voting until we get all\ntests fixed.\n\nChange-Id: If0574d847f2dd1492f399a0bd8fe7ef4b793e754\n'}, {'number': 4, 'created': '2018-10-19 08:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/eb8ce73e4d936cb8c4a8846be1ddffca9f68e91e', 'message': 'Enable tempest-slow job (non-voting)\n\nThis patch is enabling a new tempest-slow job in the check pipeline for\nnetworking-ovn. To start, the job will be non-voting until we get all\ntests fixed.\n\nChange-Id: If0574d847f2dd1492f399a0bd8fe7ef4b793e754\n'}, {'number': 5, 'created': '2018-10-19 10:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6ffc3c261133ff67e42a7f17e589f7caceab0ca2', 'message': 'Enable tempest-slow job (non-voting)\n\nThis patch is enabling a new tempest-slow job in the check pipeline for\nnetworking-ovn. To start, the job will be non-voting until we get all\ntests fixed.\n\nChange-Id: If0574d847f2dd1492f399a0bd8fe7ef4b793e754\n'}, {'number': 6, 'created': '2018-10-19 12:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7130eb2d389564bd0a9e033ccc63080214644f3e', 'message': 'Enable tempest-slow job (non-voting)\n\nThis patch is enabling a new tempest-slow job in the check pipeline for\nnetworking-ovn. To start, the job will be non-voting until we get all\ntests fixed.\n\nChange-Id: If0574d847f2dd1492f399a0bd8fe7ef4b793e754\n'}, {'number': 7, 'created': '2018-10-19 12:51:33.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/networkin-ovn-tempest-slow.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e72d35b334061cc9791adb9323117b63c062e1be', 'message': 'Enable tempest-slow job (non-voting)\n\nThis patch is enabling a new tempest-slow job in the check pipeline for\nnetworking-ovn. To start, the job will be non-voting until we get all\ntests fixed.\n\nChange-Id: If0574d847f2dd1492f399a0bd8fe7ef4b793e754\n'}]",0,611612,e72d35b334061cc9791adb9323117b63c062e1be,16,3,7,6773,,,0,"Enable tempest-slow job (non-voting)

This patch is enabling a new tempest-slow job in the check pipeline for
networking-ovn. To start, the job will be non-voting until we get all
tests fixed.

Change-Id: If0574d847f2dd1492f399a0bd8fe7ef4b793e754
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/12/611612/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,3f7872211cf016a8f0a30ea8d32cdb697b783b02,, - tempest-slow: irrelevant-files: *tempest-irrelevant-files voting: false,,3,0
openstack%2Fironic-inspector~master~I36e5a9b9faf59684adf807c2a065c35a5d4a00f6,openstack/ironic-inspector,master,I36e5a9b9faf59684adf807c2a065c35a5d4a00f6,Document storage backends and migrating between them,MERGED,2019-06-18 14:48:20.000000000,2019-06-19 09:12:26.000000000,2019-06-19 09:05:20.000000000,"[{'_account_id': 10206}, {'_account_id': 12860}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-18 14:48:20.000000000', 'files': ['doc/source/admin/upgrade.rst', 'doc/source/install/index.rst'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/48d5d5639431884478c30db3c9c986fb98205c9c', 'message': 'Document storage backends and migrating between them\n\nChange-Id: I36e5a9b9faf59684adf807c2a065c35a5d4a00f6\n'}]",0,666008,48d5d5639431884478c30db3c9c986fb98205c9c,10,5,1,10239,,,0,"Document storage backends and migrating between them

Change-Id: I36e5a9b9faf59684adf807c2a065c35a5d4a00f6
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/08/666008/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/upgrade.rst', 'doc/source/install/index.rst']",2,48d5d5639431884478c30db3c9c986fb98205c9c,data-docs,* ``store_data`` in the ``processing`` section defines where introspection data is stored and takes one of three values: ``none`` introspection data is not stored (the default) ``database`` introspection data is stored in the database (recommended for standalone deployments) ``swift`` introspection data is stored in the Object Store service (recommended for full openstack deployments) .. note:: It is possible to create third party storage backends using the ``ironic_inspector.introspection_data.store`` entry point. ,,29,0
openstack%2Fkolla-ansible~stable%2Fstein~Ib51acac3e0f8b2f641e9a7b04c7a7d3cc01b508f,openstack/kolla-ansible,stable/stein,Ib51acac3e0f8b2f641e9a7b04c7a7d3cc01b508f,Test: try change in ganesha,ABANDONED,2019-06-18 15:47:54.000000000,2019-06-19 09:03:21.000000000,,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-18 15:47:54.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e15a6771beedaba0e5d21290fb62985ccda72c28', 'message': 'Test: try change in ganesha\n\nDepends-On: https://review.opendev.org/666012\n\nChange-Id: Ib51acac3e0f8b2f641e9a7b04c7a7d3cc01b508f\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,666030,e15a6771beedaba0e5d21290fb62985ccda72c28,5,3,1,30491,,,0,"Test: try change in ganesha

Depends-On: https://review.opendev.org/666012

Change-Id: Ib51acac3e0f8b2f641e9a7b04c7a7d3cc01b508f
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/30/666030/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,e15a6771beedaba0e5d21290fb62985ccda72c28,try-centos-ceph-again,"enable_ceph_nfs: ""yes""",,1,0
openstack%2Fnova~master~Ie5f55c8d9d14e56c355179e868294366f7a75361,openstack/nova,master,Ie5f55c8d9d14e56c355179e868294366f7a75361,docs: Remove unused Visio diagram,ABANDONED,2019-06-17 14:47:30.000000000,2019-06-19 09:03:15.000000000,,"[{'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-17 14:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/797a673fa7fe90931e225619b9de65aad7632bb0', 'message': ""Remove dead file\n\nThis Visio file isn't used anywhere and can't be edited on *nix\nmachines. Remove it.\n\nChange-Id: Ie5f55c8d9d14e56c355179e868294366f7a75361\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-06-17 14:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1df6fe8ff7774207760ed88ce269cb74d28a5638', 'message': ""docs: Remove unused Visio diagram\n\nThis Visio file isn't used anywhere and can't be edited on *nix\nmachines. Remove it.\n\nChange-Id: Ie5f55c8d9d14e56c355179e868294366f7a75361\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-06-17 15:28:44.000000000', 'files': ['doc/source/admin/figures/SCH_5007_V00_NUAC-multi_nic_OpenStack.vsd'], 'web_link': 'https://opendev.org/openstack/nova/commit/0e4ac116c9d7d5619a179462400ea3539dd23e9b', 'message': ""docs: Remove unused Visio diagram\n\nThis Visio file isn't used anywhere and can't be edited on *nix\nmachines. Remove it.\n\nChange-Id: Ie5f55c8d9d14e56c355179e868294366f7a75361\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,665694,0e4ac116c9d7d5619a179462400ea3539dd23e9b,11,5,3,15334,,,0,"docs: Remove unused Visio diagram

This Visio file isn't used anywhere and can't be edited on *nix
machines. Remove it.

Change-Id: Ie5f55c8d9d14e56c355179e868294366f7a75361
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/665694/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/figures/SCH_5007_V00_NUAC-multi_nic_OpenStack.vsd'],1,797a673fa7fe90931e225619b9de65aad7632bb0,bp/remove-consoleauth,,,0,0
openstack%2Fkolla~stable%2Fstein~I689020e4262cba75b9da1a0f529d325a2b68669d,openstack/kolla,stable/stein,I689020e4262cba75b9da1a0f529d325a2b68669d,"WIP: Try CentOS Ceph Nautilus repo again, now with ganesha",ABANDONED,2019-06-18 15:01:28.000000000,2019-06-19 09:03:05.000000000,,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-18 15:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5a754d5eb0f882703947fc9d2d595cf6a31bc5b2', 'message': 'WIP: Try CentOS Ceph Nautilus repo again, now with ganesha\n\nGanesha version is 2.8 compared to 2.7 before.\n\nChange-Id: I689020e4262cba75b9da1a0f529d325a2b68669d\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-06-18 18:10:40.000000000', 'files': ['docker/base/ganesha.repo', 'docker/base/Dockerfile.j2', 'docker/base/ceph.repo', 'docker/ceph/ceph-nfs/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/33435bc6448e1d64098e6071bd6a40e83eba2719', 'message': 'WIP: Try CentOS Ceph Nautilus repo again, now with ganesha\n\nGanesha version is 2.8 compared to 2.7 before.\n\nTODO: temporarily fixed ganesha image, must fix master\n\nChange-Id: I689020e4262cba75b9da1a0f529d325a2b68669d\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,666012,33435bc6448e1d64098e6071bd6a40e83eba2719,7,3,2,30491,,,0,"WIP: Try CentOS Ceph Nautilus repo again, now with ganesha

Ganesha version is 2.8 compared to 2.7 before.

TODO: temporarily fixed ganesha image, must fix master

Change-Id: I689020e4262cba75b9da1a0f529d325a2b68669d
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/12/666012/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/ganesha.repo', 'docker/base/Dockerfile.j2', 'docker/base/ceph.repo']",3,5a754d5eb0f882703947fc9d2d595cf6a31bc5b2,try-centos-ceph-again,,[ceph] name=ceph baseurl=https://download.ceph.com/rpm-nautilus/el7/$basearch enabled=1 gpgcheck=1 gpgkey=https://download.ceph.com/keys/release.asc [ceph-noarch] name=Ceph noarch packages baseurl=https://download.ceph.com/rpm-nautilus/el7/noarch enabled=1 priority=2 gpgcheck=1 gpgkey=https://download.ceph.com/keys/release.asc [nfs_ganesha] baseurl = http://download.ceph.com/nfs-ganesha/rpm-V2.7-stable/nautilus/$basearch gpgcheck = 1 gpgkey = https://download.ceph.com/keys/release.asc name = nfs-ganesha stable repo skip_if_unavailable = 1 ,8,24
openstack%2Fironic~master~Ia385e4ea2adf4aca3533c3599087b9611d322a3d,openstack/ironic,master,Ia385e4ea2adf4aca3533c3599087b9611d322a3d,Add additional error msg to the list of IPMI errors that will be retried,ABANDONED,2019-06-18 21:16:55.000000000,2019-06-19 08:53:34.000000000,,"[{'_account_id': 10118}, {'_account_id': 19339}, {'_account_id': 21909}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 21:16:55.000000000', 'files': ['ironic/drivers/modules/ipmitool.py', 'releasenotes/notes/retry-unexpected-error-2c46fe18bd5d9648.yaml', 'ironic/tests/unit/drivers/modules/test_ipmitool.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0af1fd8d5f15e41b4c0d7b15ee9573d797ef58eb', 'message': 'Add additional error msg to the list of IPMI errors that will be retried\n\nWhen using vbmc, occasionally ""Unexpected error"" is returned when running the IPMI\npower status command in a valid configuration.  This adds the message to the list\nof IPMI errors that will be retried.\n\nStory: 2005912\nTask: 34172\n\nChange-Id: Ia385e4ea2adf4aca3533c3599087b9611d322a3d\n'}]",0,666170,0af1fd8d5f15e41b4c0d7b15ee9573d797ef58eb,6,4,1,21909,,,0,"Add additional error msg to the list of IPMI errors that will be retried

When using vbmc, occasionally ""Unexpected error"" is returned when running the IPMI
power status command in a valid configuration.  This adds the message to the list
of IPMI errors that will be retried.

Story: 2005912
Task: 34172

Change-Id: Ia385e4ea2adf4aca3533c3599087b9611d322a3d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/70/666170/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ipmitool.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py', 'releasenotes/notes/retry-unexpected-error-2c46fe18bd5d9648.yaml']",3,0af1fd8d5f15e41b4c0d7b15ee9573d797ef58eb,bug/2005912,"--- fixes: - Add ""Unexpected error"" to the list of IPMI errors that will be retried. This error is occasionally returned when using vbmc. ",,7,2
openstack%2Fnova~master~I706b21b9921001f45500ef18f970d70d561c1665,openstack/nova,master,I706b21b9921001f45500ef18f970d70d561c1665,Implementing graceful shutdown.,ABANDONED,2018-10-08 15:24:11.000000000,2019-06-19 08:46:28.000000000,,"[{'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1653}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26286}, {'_account_id': 26515}, {'_account_id': 28100}]","[{'number': 1, 'created': '2018-10-08 15:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee88e05ca5642e842791092644edf3d998d79c7e', 'message': 'Implementing graceful shutdown.\n\nThis allowes nova-compute to finish creating all currently spawning instances,\nwhen SIGTERM is sent to nova-compute process.\n\nChange-Id: I706b21b9921001f45500ef18f970d70d561c1665\n'}, {'number': 2, 'created': '2018-10-17 12:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d1a064f971f6f9601ba46e889e98a239ce3bec9', 'message': 'Implementing graceful shutdown.\n\nThis allowes nova-compute to finish creating all currently spawning instances,\nwhen SIGTERM is sent to nova-compute process.\n\nCloses-Bug: #1798326\nChange-Id: I706b21b9921001f45500ef18f970d70d561c1665\n'}, {'number': 3, 'created': '2018-10-17 13:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab6ed7481fd39c2867d29b8aed7fa3f9653f8fc2', 'message': 'Implementing graceful shutdown.\n\nThis allowes nova-compute to finish creating all currently spawning instances,\nwhen SIGTERM is sent to nova-compute process.\ngraceful_shutdown_timeout in nova.conf is set to 9000 - must set a bigger number in\norder to work.\n\nCloses-Bug: #1798326\nChange-Id: I706b21b9921001f45500ef18f970d70d561c1665\n'}, {'number': 4, 'created': '2018-10-17 13:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10dc2bfa0679f19c1a96628cad750e66d9b81c00', 'message': 'Implementing graceful shutdown.\n\nThis allowes nova-compute to finish creating all currently spawning instances,\nwhen SIGTERM is sent to nova-compute process.\ngraceful_shutdown_timeout in nova.conf is set to 9000 - must set a bigger number in\norder to work.\n\nCloses-Bug: #1798326\nChange-Id: I706b21b9921001f45500ef18f970d70d561c1665\n'}, {'number': 5, 'created': '2018-10-18 11:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/765d9bea5963bddcc19edae428635dddd9c2ee83', 'message': 'Implementing graceful shutdown.\n\nThis allowes nova-compute to finish creating all currently spawning instances,\nwhen SIGTERM is sent to nova-compute process.\ngraceful_shutdown_timeout in nova.conf is set to 9000 - must set a bigger number in\norder to work.\n\nCloses-Bug: #1798326\nChange-Id: I706b21b9921001f45500ef18f970d70d561c1665\n'}, {'number': 6, 'created': '2019-01-25 12:31:31.000000000', 'files': ['nova/conf/compute.py', 'nova/tests/unit/test_utils.py', 'nova/utils.py', 'nova/compute/manager.py', 'releasenotes/notes/bug-1798326-instance_spawning_pool_size-c69571df95fe22ac.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/7a2b04f5cfaaed798143ceb8ad236bf77ffbe5b8', 'message': 'Implementing graceful shutdown.\n\nThis allowes nova-compute to finish creating all currently spawning instances,\nwhen SIGTERM is sent to nova-compute process.\ngraceful_shutdown_timeout in nova.conf is set to 9000 - must set a bigger number in\norder to work.\n\nCloses-Bug: #1798326\nChange-Id: I706b21b9921001f45500ef18f970d70d561c1665\n'}]",30,608704,7a2b04f5cfaaed798143ceb8ad236bf77ffbe5b8,108,32,6,28100,,,0,"Implementing graceful shutdown.

This allowes nova-compute to finish creating all currently spawning instances,
when SIGTERM is sent to nova-compute process.
graceful_shutdown_timeout in nova.conf is set to 9000 - must set a bigger number in
order to work.

Closes-Bug: #1798326
Change-Id: I706b21b9921001f45500ef18f970d70d561c1665
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/608704/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/compute/manager.py']",2,ee88e05ca5642e842791092644edf3d998d79c7e,graceful_shutdown," self.instance_running_pool = eventlet.GreenPool( size=CONF.instance_running_pool_size) if self.instance_running_pool.running() > 0: self.instance_running_pool.waitall() self.instance_running_pool.spawn_n(_locked_do_build_and_run_instance, context, instance, image, request_spec, filter_properties, admin_password, injected_files, requested_networks, security_groups, block_device_mapping, node, limits, host_list)"," utils.spawn_n(_locked_do_build_and_run_instance, context, instance, image, request_spec, filter_properties, admin_password, injected_files, requested_networks, security_groups, block_device_mapping, node, limits, host_list)",16,6
openstack%2Fsolum~master~I504669d7af95f11a7d4a5670f95997c21752da7e,openstack/solum,master,I504669d7af95f11a7d4a5670f95997c21752da7e,Update contraints url,MERGED,2019-06-18 06:12:12.000000000,2019-06-19 08:33:22.000000000,2019-06-19 08:33:21.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 06:12:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/solum/commit/451569be57718e5503be5096b26a13baa12186bf', 'message': 'Update contraints url\n\nChange-Id: I504669d7af95f11a7d4a5670f95997c21752da7e\n'}]",0,665871,451569be57718e5503be5096b26a13baa12186bf,8,2,1,14107,,,0,"Update contraints url

Change-Id: I504669d7af95f11a7d4a5670f95997c21752da7e
",git fetch https://review.opendev.org/openstack/solum refs/changes/71/665871/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,451569be57718e5503be5096b26a13baa12186bf,, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},3,3
openstack%2Frpm-packaging~master~I16fd93a636c87f02b85c04519976bf9e4e5c6878,openstack/rpm-packaging,master,I16fd93a636c87f02b85c04519976bf9e4e5c6878,renderspec: install renderspec binary only for python 3.x,MERGED,2019-05-07 06:58:40.000000000,2019-06-19 08:27:44.000000000,2019-06-19 08:27:44.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-07 06:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/63d6639aaa01378e455e5bfe102821c047b20a4a', 'message': 'renderspec: typo fix\n\nChange-Id: I16fd93a636c87f02b85c04519976bf9e4e5c6878\n'}, {'number': 2, 'created': '2019-05-07 07:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a7f415fc0b400186b56159d09bb059ce26020c51', 'message': 'renderspec: install renderspec binary only for python 3.x\n\nChange-Id: I16fd93a636c87f02b85c04519976bf9e4e5c6878\n'}, {'number': 3, 'created': '2019-05-07 13:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f2a919cc0bc3688d38a60a0015a775236376771a', 'message': 'renderspec: install renderspec binary only for python 3.x\n\nChange-Id: I16fd93a636c87f02b85c04519976bf9e4e5c6878\n'}, {'number': 4, 'created': '2019-05-12 13:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a60fa0faefa16284ed46961e1d217bd056b54169', 'message': 'renderspec: install renderspec binary only for python 3.x\n\nChange-Id: I16fd93a636c87f02b85c04519976bf9e4e5c6878\n'}, {'number': 5, 'created': '2019-05-31 08:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5b4e62742c60998a38efc66a2b04c7c1fe66a4f6', 'message': 'renderspec: install renderspec binary only for python 3.x\n\nChange-Id: I16fd93a636c87f02b85c04519976bf9e4e5c6878\n'}, {'number': 6, 'created': '2019-06-03 08:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/78ad54e772190f804e51008ca7171f8ef1694f47', 'message': 'renderspec: install renderspec binary only for python 3.x\n\nChange-Id: I16fd93a636c87f02b85c04519976bf9e4e5c6878\n'}, {'number': 7, 'created': '2019-06-12 12:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c09c6a7153bbcb834a7c1f278f804b9cd62637df', 'message': 'renderspec: install renderspec binary only for python 3.x\n\nChange-Id: I16fd93a636c87f02b85c04519976bf9e4e5c6878\n'}, {'number': 8, 'created': '2019-06-12 19:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9a02d3609696094a6d3f4dba56c4463fde6eff72', 'message': 'renderspec: install renderspec binary only for python 3.x\n\nChange-Id: I16fd93a636c87f02b85c04519976bf9e4e5c6878\n'}, {'number': 9, 'created': '2019-06-18 07:49:25.000000000', 'files': ['openstack/renderspec/renderspec.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8569a8f0a44c4881f1b18936a5a282014241d961', 'message': ""renderspec: install renderspec binary only for python 3.x\n\nWe'd like to go with python 3.x only for SUSE asap, so\nremove the binary alternative handling for it and only\npackage the python 3.x build\n\nChange-Id: I16fd93a636c87f02b85c04519976bf9e4e5c6878\n""}]",3,657533,8569a8f0a44c4881f1b18936a5a282014241d961,47,5,9,6593,,,0,"renderspec: install renderspec binary only for python 3.x

We'd like to go with python 3.x only for SUSE asap, so
remove the binary alternative handling for it and only
package the python 3.x build

Change-Id: I16fd93a636c87f02b85c04519976bf9e4e5c6878
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/33/657533/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack/renderspec/renderspec.spec.j2'],1,63d6639aaa01378e455e5bfe102821c047b20a4a,657533,%python_install_alternative {{ pypi_name }},%{python_install_alternative {{ pypi_name }} },1,1
openstack%2Frequirements~stable%2Focata~Ia61d944dbfdf494598e41e5fbefd0e32a91814ed,openstack/requirements,stable/ocata,Ia61d944dbfdf494598e41e5fbefd0e32a91814ed,Fix where we use constraints,MERGED,2019-05-24 00:27:33.000000000,2019-06-19 08:21:20.000000000,2019-06-19 08:21:19.000000000,"[{'_account_id': 6593}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-24 00:27:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fcd97cb83e64f55bc483649e1f05476b0ab26d89', 'message': ""Fix where we use constraints\n\nin I2598503c2d4397d7efbb03a76df9a4e91dd0c1cf we mistakenly added\nconstraints to install_command in out based testenv.  This is incorrect\nas it means the generate env will be run in a constrained environment.\n\nWe don't use UPPER_CONSTRAINT_FILE as *right now* it's the same thing\nand this leaves us internally consistent (even if technically incorrect)\n\nChange-Id: Ia61d944dbfdf494598e41e5fbefd0e32a91814ed\n(cherry picked from commit f43647b3edf8024669f378f1943278081ce9bd85)\n""}]",0,661148,fcd97cb83e64f55bc483649e1f05476b0ab26d89,10,3,1,12898,,,0,"Fix where we use constraints

in I2598503c2d4397d7efbb03a76df9a4e91dd0c1cf we mistakenly added
constraints to install_command in out based testenv.  This is incorrect
as it means the generate env will be run in a constrained environment.

We don't use UPPER_CONSTRAINT_FILE as *right now* it's the same thing
and this leaves us internally consistent (even if technically incorrect)

Change-Id: Ia61d944dbfdf494598e41e5fbefd0e32a91814ed
(cherry picked from commit f43647b3edf8024669f378f1943278081ce9bd85)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/48/661148/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fcd97cb83e64f55bc483649e1f05476b0ab26d89,u-c,deps = -c{toxinidir}/upper-constraints.txt -r{toxinidir}/requirements.txt,deps = -r{toxinidir}/requirements.txt,2,1
openstack%2Fironic-inspector~master~I1d17e594fcaadf6f68ec5f0c3155208eda5a5d99,openstack/ironic-inspector,master,I1d17e594fcaadf6f68ec5f0c3155208eda5a5d99,Remove deprecated options for accessing Swift,MERGED,2019-06-18 06:48:09.000000000,2019-06-19 08:12:33.000000000,2019-06-19 08:12:33.000000000,"[{'_account_id': 10206}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-18 06:48:09.000000000', 'files': ['ironic_inspector/test/unit/test_swift.py', 'ironic_inspector/conf/swift.py', 'releasenotes/notes/swift-deprecations-d7680b867fae7f3d.yaml', 'ironic_inspector/common/swift.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/ca044c9a4b705a7da4f613152aa7eb7c47e5ba32', 'message': 'Remove deprecated options for accessing Swift\n\nChange-Id: I1d17e594fcaadf6f68ec5f0c3155208eda5a5d99\n'}]",0,665882,ca044c9a4b705a7da4f613152aa7eb7c47e5ba32,8,4,1,10239,,,0,"Remove deprecated options for accessing Swift

Change-Id: I1d17e594fcaadf6f68ec5f0c3155208eda5a5d99
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/82/665882/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_swift.py', 'ironic_inspector/conf/swift.py', 'releasenotes/notes/swift-deprecations-d7680b867fae7f3d.yaml', 'ironic_inspector/common/swift.py']",4,ca044c9a4b705a7da4f613152aa7eb7c47e5ba32,swift-deprecations," adapter = keystone.get_adapter('swift', session=SWIFT_SESSION)"," adapter_opts = dict() # TODO(pas-ha): remove handling deprecated options in Rocky if CONF.swift.os_region and not CONF.swift.region_name: adapter_opts['region_name'] = CONF.swift.os_region adapter = keystone.get_adapter('swift', session=SWIFT_SESSION, **adapter_opts)",7,29
openstack%2Fkolla-ansible~master~Ie9a3b0fef395aaf414407f6bae1ac4bca158240d,openstack/kolla-ansible,master,Ie9a3b0fef395aaf414407f6bae1ac4bca158240d,Remove obsolete roles middleware,MERGED,2019-05-24 10:33:00.000000000,2019-06-19 08:10:48.000000000,2019-06-13 19:24:20.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-05-24 10:33:00.000000000', 'files': ['ansible/roles/monasca/templates/monasca-log-api/log-api-paste.ini.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f23901677cdd247315eea56150df1fafafb107d1', 'message': 'Remove obsolete roles middleware\n\nChange I0ca38f2cc7d63b9b47eedb304ba7b00a94816f9a removed the roles\nmiddleware from the example paste pipeline.\n\nChange-Id: Ie9a3b0fef395aaf414407f6bae1ac4bca158240d\n'}]",0,661250,f23901677cdd247315eea56150df1fafafb107d1,12,4,1,17669,,,0,"Remove obsolete roles middleware

Change I0ca38f2cc7d63b9b47eedb304ba7b00a94816f9a removed the roles
middleware from the example paste pipeline.

Change-Id: Ie9a3b0fef395aaf414407f6bae1ac4bca158240d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/50/661250/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/monasca/templates/monasca-log-api/log-api-paste.ini.j2'],1,f23901677cdd247315eea56150df1fafafb107d1,remove_roles_middlesware,pipeline = error_trap request_id auth api_v2_apppipeline = error_trap request_id auth api_v3_app,pipeline = error_trap request_id auth roles api_v2_apppipeline = error_trap request_id auth roles api_v3_app,2,2
openstack%2Fdiskimage-builder~master~I5464be9e055feecd80918f691448acf5f100e701,openstack/diskimage-builder,master,I5464be9e055feecd80918f691448acf5f100e701,Sync Sphinx requirement,MERGED,2019-06-18 15:26:10.000000000,2019-06-19 07:48:14.000000000,2019-06-19 07:48:14.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 15:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/18c10e0e7a89c9ee8303843f36d3b59a88e642d8', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Update some URLs to latest\n\nChange-Id: I5464be9e055feecd80918f691448acf5f100e701\n'}, {'number': 2, 'created': '2019-06-18 15:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/679b050a37dbd60f5e71edbf1e9b2f5f0f3969b4', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Update some URLs to latest\n\nChange-Id: I5464be9e055feecd80918f691448acf5f100e701\n'}, {'number': 3, 'created': '2019-06-18 15:30:16.000000000', 'files': ['test-requirements.txt', 'diskimage_builder/elements/pypi/README.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8dd7ca720f30019c9a3e1e05b63215f2dce47aa8', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Update some URLs to latest\n3. Remove the unnecessary space\n\nChange-Id: I5464be9e055feecd80918f691448acf5f100e701\n'}]",1,666023,8dd7ca720f30019c9a3e1e05b63215f2dce47aa8,9,3,3,28614,,,0,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Update some URLs to latest
3. Remove the unnecessary space

Change-Id: I5464be9e055feecd80918f691448acf5f100e701
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/23/666023/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'diskimage_builder/elements/pypi/README.rst']",2,18c10e0e7a89c9ee8303843f36d3b59a88e642d8,,server/laptop](https://devpi.net/docs/devpi/devpi/latest/+d/quickstart-server.html) guide from the devpi developers for more information on a more permanent setup.,server/laptop](http://doc.devpi.net/latest/quickstart-server.html) guide from the devpi developers for more information on a more permanent setup.,6,3
openstack%2Ffreezer~master~Ic101a648627c69aab04177474b690b966cb4aae2,openstack/freezer,master,Ic101a648627c69aab04177474b690b966cb4aae2,add test_utils.py,MERGED,2019-06-18 03:44:20.000000000,2019-06-19 07:37:05.000000000,2019-06-19 07:37:05.000000000,"[{'_account_id': 19098}, {'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 03:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/30fd0344583cb37396350a481b27f658ec4af3ec', 'message': 'add test_utils.py\n\nChange-Id: Ic101a648627c69aab04177474b690b966cb4aae2\n'}, {'number': 2, 'created': '2019-06-18 06:20:07.000000000', 'files': ['freezer/tests/unit/scheduler/test_utils.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/98ae755d784c00979586653844a9a872eb1a6252', 'message': 'add test_utils.py\n\nChange-Id: Ic101a648627c69aab04177474b690b966cb4aae2\n'}]",0,665853,98ae755d784c00979586653844a9a872eb1a6252,15,3,2,19098,,,0,"add test_utils.py

Change-Id: Ic101a648627c69aab04177474b690b966cb4aae2
",git fetch https://review.opendev.org/openstack/freezer refs/changes/53/665853/2 && git format-patch -1 --stdout FETCH_HEAD,['freezer/tests/unit/scheduler/test_utils.py'],1,30fd0344583cb37396350a481b27f658ec4af3ec,,"# (c) Copyright 2019 ZTE Corporation. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import os import shutil import tempfile import unittest import mock from mock import patch from freezer.scheduler import utils job_list = [{""job_id"": ""test""}] class TestUtils(unittest.TestCase): def setUp(self): self.client = mock.Mock() self.client.clients.create = mock.Mock(return_value='test') self.client.jobs.list = mock.Mock(return_value=job_list) self.client.client_id = ""test"" def test_do_register(self): ret = utils.do_register(self.client, args=None) self.assertEqual(0, ret) def test_find_config_files(self): temp = tempfile.NamedTemporaryFile('wb', delete=True, suffix='.conf') ret = utils.find_config_files(temp.name) self.assertEqual([temp.name], ret) temp.close() self.assertFalse(os.path.exists(temp.name)) def test_find_config_files_path(self): temp = tempfile.NamedTemporaryFile('wb', delete=True, suffix='.conf') temp_path = os.path.dirname(temp.name) ret = utils.find_config_files(temp_path) self.assertEqual([temp.name], ret) temp.close() self.assertFalse(os.path.exists(temp.name)) def test_get_jobs_from_disk(self): temp = tempfile.mkdtemp() file = '/'.join([temp, ""test.conf""]) data = '{""job_id"": ""test""}' with open(file, 'wb') as f: f.write(data) ret = utils.get_jobs_from_disk(temp) self.assertEqual(job_list, ret) shutil.rmtree(temp) self.assertFalse(os.path.exists(file)) def test_save_jobs_to_disk(self): job_doc_list = job_list tmpdir = tempfile.mkdtemp() utils.save_jobs_to_disk(job_doc_list, tmpdir) file = '/'.join([tmpdir, ""job_test.conf""]) self.assertTrue(os.path.exists(file)) shutil.rmtree(tmpdir) def test_get_active_jobs_from_api(self): ret = utils.get_active_jobs_from_api(self.client) self.assertEqual(job_list, ret) @patch('psutil.Process') def test_terminate_subprocess(self, mock_process_constructor): mock_pro = mock_process_constructor.return_value seffect = mock.Mock( side_effect=Exception('Process 35 does not exists anymore')) mock_pro.raiseError.side_effect = seffect with self.assertRaises(Exception) as cm: # noqa utils.terminate_subprocess(35, ""test"") the_exception = cm.exception self.assertIn('does not exists anymore', str(the_exception)) ",,88,0
openstack%2Fkeystone~master~Iad751761fcc143f4549a19c4c3d262bbee0419c4,openstack/keystone,master,Iad751761fcc143f4549a19c4c3d262bbee0419c4,Add link to describe Principle of Least Privilege,MERGED,2019-06-18 19:06:29.000000000,2019-06-19 07:33:16.000000000,2019-06-19 07:33:15.000000000,"[{'_account_id': 5046}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-06-18 19:06:29.000000000', 'files': ['doc/source/contributor/vision-reflection.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0f7a1c47c844c12f59ac54fe9bce7ae8df04e385', 'message': 'Add link to describe Principle of Least Privilege\n\nAdd a link to the vision reflection to clarify the meaning of the\nPrinciple of Least Privilege, which is a significant theme in our vision\ndocument.\n\nChange-Id: Iad751761fcc143f4549a19c4c3d262bbee0419c4\n'}]",0,666151,0f7a1c47c844c12f59ac54fe9bce7ae8df04e385,8,4,1,8482,,,0,"Add link to describe Principle of Least Privilege

Add a link to the vision reflection to clarify the meaning of the
Principle of Least Privilege, which is a significant theme in our vision
document.

Change-Id: Iad751761fcc143f4549a19c4c3d262bbee0419c4
",git fetch https://review.opendev.org/openstack/keystone refs/changes/51/666151/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/vision-reflection.rst'],1,0f7a1c47c844c12f59ac54fe9bce7ae8df04e385,mission-statement,fulfill the `Principle of Least Privilege`_ and permit the cloud consumer toaccess control in support of the `Principle of Least Privilege`_ is an ongoing .. _Principle of Least Privilege: https://en.wikipedia.org/wiki/Principle_of_least_privilege,fulfill the Principle of Least Privilege and permit the cloud consumer toaccess control in support of the Principle of Least Privilege is an ongoing,4,2
openstack%2Ftempest~master~I9ced4af40eb0c2a22e3557caded56045a397d539,openstack/tempest,master,I9ced4af40eb0c2a22e3557caded56045a397d539,Fix cleanup NotImplemented error,MERGED,2019-06-12 15:45:14.000000000,2019-06-19 07:33:13.000000000,2019-06-19 07:33:13.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 12393}, {'_account_id': 17499}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-06-12 15:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f9062b440570279eee0053821414af7a183256b2', 'message': ""Fix cleanup NotImplemented error\n\ntempest cleanup doesn't check if the APIs it uses are\nimplemented or not. Therefore the patch adds a try\nexcept block preventing tempest cleanup to fail when\nsome of the APIs are not implemented.\n\nCloses-bug: #1832566\n\nChange-Id: I9ced4af40eb0c2a22e3557caded56045a397d539\n""}, {'number': 2, 'created': '2019-06-17 16:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1f81c088f5770acc14147412962423db3de8a42c', 'message': ""Fix cleanup NotImplemented error\n\ntempest cleanup doesn't check if the APIs it uses are\nimplemented or not. Therefore the patch adds a try\nexcept block preventing tempest cleanup to fail when\nsome of the APIs are not implemented.\n\nCloses-bug: #1832566\n\nChange-Id: I9ced4af40eb0c2a22e3557caded56045a397d539\n""}, {'number': 3, 'created': '2019-06-18 13:03:24.000000000', 'files': ['tempest/cmd/cleanup.py', 'tempest/cmd/cleanup_service.py', 'tempest/tests/cmd/test_cleanup_services.py', 'tempest/tests/cmd/test_cleanup.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/97857948d9cdd7cec21e2542fa2222e820e5a66a', 'message': ""Fix cleanup NotImplemented error\n\ntempest cleanup doesn't check if the APIs it uses are\nimplemented or not. Therefore the patch adds a try\nexcept block preventing tempest cleanup to fail when\nsome of the APIs are not implemented.\n\nCloses-bug: #1832566\n\nChange-Id: I9ced4af40eb0c2a22e3557caded56045a397d539\n""}]",6,664962,97857948d9cdd7cec21e2542fa2222e820e5a66a,27,11,3,22873,,,0,"Fix cleanup NotImplemented error

tempest cleanup doesn't check if the APIs it uses are
implemented or not. Therefore the patch adds a try
except block preventing tempest cleanup to fail when
some of the APIs are not implemented.

Closes-bug: #1832566

Change-Id: I9ced4af40eb0c2a22e3557caded56045a397d539
",git fetch https://review.opendev.org/openstack/tempest refs/changes/62/664962/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/cmd/cleanup_service.py'],1,f9062b440570279eee0053821414af7a183256b2,cleanup,"from tempest.lib import exceptions try: if self.is_dry_run: self.dry_run() elif self.is_save_state: self.save_state() else: self.delete() except exceptions.NotImplemented as exc: # if a service raises this exception, one of the needed APIs is # not implemented and therefore there is nothing to be cleaned LOG.exception(""Got NotImplemented error in %s, full exception: %s"", str(self.__class__), str(exc))", if self.is_dry_run: self.dry_run() elif self.is_save_state: self.save_state() else: self.delete(),13,6
openstack%2Frpm-packaging~stable%2Frocky~I7587c756b3ca2fe009a390c155e7d054c316a70b,openstack/rpm-packaging,stable/rocky,I7587c756b3ca2fe009a390c155e7d054c316a70b,Add patches to fix manila tempest CIFS tests,MERGED,2019-06-18 19:54:19.000000000,2019-06-19 07:23:38.000000000,2019-06-19 07:23:38.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-18 19:54:19.000000000', 'files': ['openstack/manila-tempest-plugin/0001-Fix-CIFS-access-for-non-multitenant-setup.patch', 'openstack/manila-tempest-plugin/0002-Skip-read-only-test-for-CIFS.patch', 'openstack/manila-tempest-plugin/manila-tempest-plugin.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/823b3d39fe2414335d85eeb167558979ea301db8', 'message': 'Add patches to fix manila tempest CIFS tests\n\nThis change adds two patches to the manila-tempest-plugin package to fix\ntests for the CIFS protocol which is not fully tested upstream.\n\nChange-Id: I7587c756b3ca2fe009a390c155e7d054c316a70b\n'}]",0,666161,823b3d39fe2414335d85eeb167558979ea301db8,9,5,1,8482,,,0,"Add patches to fix manila tempest CIFS tests

This change adds two patches to the manila-tempest-plugin package to fix
tests for the CIFS protocol which is not fully tested upstream.

Change-Id: I7587c756b3ca2fe009a390c155e7d054c316a70b
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/61/666161/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/manila-tempest-plugin/0001-Fix-CIFS-access-for-non-multitenant-setup.patch', 'openstack/manila-tempest-plugin/0002-Skip-read-only-test-for-CIFS.patch', 'openstack/manila-tempest-plugin/manila-tempest-plugin.spec.j2']",3,823b3d39fe2414335d85eeb167558979ea301db8,fix-manila-rocky,# https://review.opendev.org/662255 Patch0: 0001-Fix-CIFS-access-for-non-multitenant-setup.patch # https://review.opendev.org/664434 Patch1: 0002-Skip-read-only-test-for-CIFS.patch%autosetup -p1 -n %{sname}-{{ upstream_version }},%autosetup -n %{sname}-{{ upstream_version }},97,1
openstack%2Frpm-packaging~stable%2Fstein~Id844b9b2e8173da95c00000b361e78b872774df6,openstack/rpm-packaging,stable/stein,Id844b9b2e8173da95c00000b361e78b872774df6,Add patches to fix manila tempest CIFS tests,MERGED,2019-06-18 19:49:53.000000000,2019-06-19 07:23:37.000000000,2019-06-19 07:23:37.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-18 19:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c77e5bdf10b66c7553251cb9e99d4b8cf7d004c6', 'message': 'Add patches to fix manila tempest CIFS tests\n\nThis change adds two patches to the manila-tempest-plugin package to fix\ntests for the CIFS protocol which is not fully tested upstream.\n\nChange-Id: Id844b9b2e8173da95c00000b361e78b872774df6\n'}, {'number': 2, 'created': '2019-06-18 19:53:04.000000000', 'files': ['openstack/manila-tempest-plugin/0001-Fix-CIFS-access-for-non-multitenant-setup.patch', 'openstack/manila-tempest-plugin/0002-Skip-read-only-test-for-CIFS.patch', 'openstack/manila-tempest-plugin/manila-tempest-plugin.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5de842ddb9494052f99fd3d8b7a26471ad3e2625', 'message': 'Add patches to fix manila tempest CIFS tests\n\nThis change adds two patches to the manila-tempest-plugin package to fix\ntests for the CIFS protocol which is not fully tested upstream.\n\nChange-Id: Id844b9b2e8173da95c00000b361e78b872774df6\n'}]",0,666158,5de842ddb9494052f99fd3d8b7a26471ad3e2625,10,5,2,8482,,,0,"Add patches to fix manila tempest CIFS tests

This change adds two patches to the manila-tempest-plugin package to fix
tests for the CIFS protocol which is not fully tested upstream.

Change-Id: Id844b9b2e8173da95c00000b361e78b872774df6
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/58/666158/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/manila-tempest-plugin/0001-Fix-CIFS-access-for-non-multitenant-setup.patch', 'openstack/manila-tempest-plugin/0002-Skip-read-only-test-for-CIFS.patch', 'openstack/manila-tempest-plugin/manila-tempest-plugin.spec.j2']",3,c77e5bdf10b66c7553251cb9e99d4b8cf7d004c6,fix-manila-stein,Patch0: 0001-Fix-CIFS-access-for-non-multitenant-setup.patch Patch1: 0002-Skip-read-only-test-for-CIFS.patch%autosetup -p1 -n %{sname}-{{ upstream_version }},%autosetup -n %{sname}-{{ upstream_version }},95,1
openstack%2Fkuryr-kubernetes~stable%2Fstein~I4f9078420190521fcba7bbc02540b616c479c0d3,openstack/kuryr-kubernetes,stable/stein,I4f9078420190521fcba7bbc02540b616c479c0d3,Add ipBlock support to NP,ABANDONED,2019-06-11 09:13:10.000000000,2019-06-19 07:20:26.000000000,,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-06-11 09:13:10.000000000', 'files': ['requirements.txt', 'kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5cc62b77b8e80ed854067b179aaa5b6b6da1450f', 'message': 'Add ipBlock support to NP\n\nThis commit adds support for ipBlocks when using Network Policies with\nKuryr-Kubernetes.\n\nPartially Implements: blueprint k8s-network-policies\n\n(cherry picked from commit 9b3182cfebde2d990cf472617d068c3ecb0d9d4d)\n\nChange-Id: I4f9078420190521fcba7bbc02540b616c479c0d3\n'}]",0,664528,5cc62b77b8e80ed854067b179aaa5b6b6da1450f,8,6,1,27032,,,0,"Add ipBlock support to NP

This commit adds support for ipBlocks when using Network Policies with
Kuryr-Kubernetes.

Partially Implements: blueprint k8s-network-policies

(cherry picked from commit 9b3182cfebde2d990cf472617d068c3ecb0d9d4d)

Change-Id: I4f9078420190521fcba7bbc02540b616c479c0d3
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/28/664528/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy.py']",3,5cc62b77b8e80ed854067b179aaa5b6b6da1450f,bp/k8s-network-policies," def test_parse_network_policy_rules_with_ipblock(self, m_create, m_get_ns_cidr): policy = self._policy.copy() policy['spec']['ingress'] = [{'from': [{'ipBlock': {'cidr': '172.17.0.0/16', 'except': ['172.17.1.0/24']}}], 'ports': [{'port': 6379, 'protocol': 'TCP'}]}] policy['spec']['egress'] = [{'ports': [{'port': 5978, 'protocol': 'TCP'}], 'to': [{'ipBlock': {'cidr': '10.0.0.0/24'}}]}] self._driver.parse_network_policy_rules(policy, self._sg_id) m_create.assert_called() m_get_ns_cidr.assert_not_called() @mock.patch.object(network_policy.NetworkPolicyDriver, '_get_namespaces_cidr') @mock.patch('kuryr_kubernetes.controller.drivers.utils.' 'create_security_group_rule_body')",,40,0
openstack%2Fneutron~master~I4e0f53e770211ae072bec5b8684649743479dd5b,openstack/neutron,master,I4e0f53e770211ae072bec5b8684649743479dd5b,bump neutron-lib to 1.27.0,MERGED,2019-06-04 20:48:33.000000000,2019-06-19 07:08:37.000000000,2019-06-19 07:08:37.000000000,"[{'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-06-04 20:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d90490e5864a5f611df8a32c03aabf5bad72b9b', 'message': 'bump neutron-lib to 1.27.0\n\nDepends-On: https://review.opendev.org/#/c/663066/\nChange-Id: I4e0f53e770211ae072bec5b8684649743479dd5b\n'}, {'number': 2, 'created': '2019-06-06 17:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d86c029c20fd023df4a9d388b5b22ca70caf3479', 'message': 'bump neutron-lib to 1.27.0\n\nDepends-On: https://review.opendev.org/#/c/663066/\nChange-Id: I4e0f53e770211ae072bec5b8684649743479dd5b\n'}, {'number': 3, 'created': '2019-06-10 13:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/18a7dc230d329aee3cb4e3735006b9665620be02', 'message': 'bump neutron-lib to 1.27.0\n\nChange-Id: I4e0f53e770211ae072bec5b8684649743479dd5b\n'}, {'number': 4, 'created': '2019-06-12 21:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc6a4d97031ce9f2f1ed25e552e17b61fbccde31', 'message': 'bump neutron-lib to 1.27.0\n\nChange-Id: I4e0f53e770211ae072bec5b8684649743479dd5b\n'}, {'number': 5, 'created': '2019-06-18 13:40:39.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d943addedcdcb98e3bea8f1ae876318538f013d', 'message': 'bump neutron-lib to 1.27.0\n\nChange-Id: I4e0f53e770211ae072bec5b8684649743479dd5b\n'}]",0,663141,0d943addedcdcb98e3bea8f1ae876318538f013d,63,14,5,5367,,,0,"bump neutron-lib to 1.27.0

Change-Id: I4e0f53e770211ae072bec5b8684649743479dd5b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/663141/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,0d90490e5864a5f611df8a32c03aabf5bad72b9b,neutron-lib-1.27.0,neutron-lib==1.27.0,neutron-lib==1.26.0,2,2
openstack%2Fpython-watcherclient~master~If04d918774d0254c7d386f80c5e8b1ce84b7eac1,openstack/python-watcherclient,master,If04d918774d0254c7d386f80c5e8b1ce84b7eac1,Switch to the new canonical constraints URL on master,MERGED,2019-06-14 12:02:06.000000000,2019-06-19 06:58:49.000000000,2019-06-19 06:58:49.000000000,"[{'_account_id': 6873}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-06-14 12:02:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/0e9c827c761f6c1672a4559f4b0e7b73df1dcbaa', 'message': 'Switch to the new canonical constraints URL on master\n\nReference:\n1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n2. https://review.opendev.org/#/c/601188\n\nChange-Id: If04d918774d0254c7d386f80c5e8b1ce84b7eac1\n'}]",0,665365,0e9c827c761f6c1672a4559f4b0e7b73df1dcbaa,7,4,1,28748,,,0,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html
2. https://review.opendev.org/#/c/601188

Change-Id: If04d918774d0254c7d386f80c5e8b1ce84b7eac1
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/65/665365/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0e9c827c761f6c1672a4559f4b0e7b73df1dcbaa,, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},2,2
openstack%2Fbifrost~master~I702d96baa41dce74a1bc5c065146adadec979623,openstack/bifrost,master,I702d96baa41dce74a1bc5c065146adadec979623,Add proxy envvar for tox,MERGED,2019-06-19 02:38:50.000000000,2019-06-19 06:58:35.000000000,2019-06-19 06:58:35.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-06-19 02:38:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5f31be7e7ea27765a8d8881c75dda2a107249e9e', 'message': 'Add proxy envvar for tox\n\nSpotted when generating pdf, due to no internet connection, the svg\nimage is not downloaded, and the pdf is generated. But unlucky for\nRiccardo because he is lucky for not behind a proxy :)\n\nChange-Id: I702d96baa41dce74a1bc5c065146adadec979623\n'}]",0,666204,5f31be7e7ea27765a8d8881c75dda2a107249e9e,7,3,1,24828,,,0,"Add proxy envvar for tox

Spotted when generating pdf, due to no internet connection, the svg
image is not downloaded, and the pdf is generated. But unlucky for
Riccardo because he is lucky for not behind a proxy :)

Change-Id: I702d96baa41dce74a1bc5c065146adadec979623
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/04/666204/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5f31be7e7ea27765a8d8881c75dda2a107249e9e,proxy,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,,1,0
openstack%2Ftacker~master~Iea0c40d180cc40e706eb90e2395d93cc719b3abd,openstack/tacker,master,Iea0c40d180cc40e706eb90e2395d93cc719b3abd,Failed all-in-one mode devstack local.conf,MERGED,2019-06-18 09:49:17.000000000,2019-06-19 06:51:44.000000000,2019-06-19 06:51:44.000000000,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 30198}]","[{'number': 1, 'created': '2019-06-18 09:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ab4dbfce40da1cee8e6b2aed7a86f64533919eda', 'message': 'Failed all-in-one mode devstack local.conf\n\nFix settings to install kuryr in local.conf.\nRefer to tacker/devstack/local.conf.kuberntes for this setting.\n\nChange-Id: Iea0c40d180cc40e706eb90e2395d93cc719b3abd\n'}, {'number': 2, 'created': '2019-06-18 11:21:26.000000000', 'files': ['devstack/local.conf.example', 'devstack/local.conf.kubernetes', 'doc/source/install/devstack.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/a889ffce6bc0de6ea195dcb29008e19983e21b0f', 'message': 'Failed all-in-one mode devstack local.conf\n\nFix settings to install kuryr in local.conf.\nRefer to tacker/devstack/local.conf.kuberntes for this setting.\n\nChange-Id: Iea0c40d180cc40e706eb90e2395d93cc719b3abd\n'}]",3,665931,a889ffce6bc0de6ea195dcb29008e19983e21b0f,11,4,2,30198,,,0,"Failed all-in-one mode devstack local.conf

Fix settings to install kuryr in local.conf.
Refer to tacker/devstack/local.conf.kuberntes for this setting.

Change-Id: Iea0c40d180cc40e706eb90e2395d93cc719b3abd
",git fetch https://review.opendev.org/openstack/tacker refs/changes/31/665931/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/devstack.rst'],1,ab4dbfce40da1cee8e6b2aed7a86f64533919eda,bug/failed_install_all_in_one_mode_devstack_in_doc," # Enable kuryr-kubernetes, docker, octavia enable_plugin octavia https://opendev.org/openstack/octavia master #KURYR_K8S_CLUSTER_IP_RANGE=""10.0.0.0/24"" [[post-config|$OCTAVIA_CONF]] [controller_worker] amp_active_retries=9999 .. [#f2] https://github.com/openstack/tacker/blob/master/devstack/local.conf.kubernetes", # Blazar enable_plugin blazar https://github.com/openstack/blazar.git master # Enable Kubernetes and kuryr-kubernetes NEUTRON_CREATE_INITIAL_NETWORKS=False enable_plugin neutron-lbaas https://opendev.org/openstack/neutron-lbaas master.. [#f2] https://github.com/openstack/tacker/blob/master/devstack/local.conf.example,8,7
openstack%2Fpuppet-tripleo~master~If5a0861441c1c33431364f2a1f3d7d1296106159,openstack/puppet-tripleo,master,If5a0861441c1c33431364f2a1f3d7d1296106159,Do not invoke host config in agent config,MERGED,2019-06-11 12:26:03.000000000,2019-06-19 06:39:08.000000000,2019-06-18 20:36:53.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-11 12:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0c4f8cced6cc43f0a3a1879e645cfe1eb137c7ea', 'message': 'Do not invoke host config in agent config\n\nThe SR-IOV agent config was pulling in the host configuration which is\nincorrect and will not work under certain conditions.\n\nChange-Id: If5a0861441c1c33431364f2a1f3d7d1296106159\nCloses-Bug: #1832335\n'}, {'number': 2, 'created': '2019-06-14 15:47:01.000000000', 'files': ['manifests/profile/base/neutron/sriov.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e9484ac78912cd0d403f0c2e931029afcecdbfd7', 'message': 'Do not invoke host config in agent config\n\nThe SR-IOV agent config was pulling in the host configuration which is\nincorrect and will not work under certain conditions.\n\nChange-Id: If5a0861441c1c33431364f2a1f3d7d1296106159\nCloses-Bug: #1832335\n'}]",1,664565,e9484ac78912cd0d403f0c2e931029afcecdbfd7,17,7,2,6681,,,0,"Do not invoke host config in agent config

The SR-IOV agent config was pulling in the host configuration which is
incorrect and will not work under certain conditions.

Change-Id: If5a0861441c1c33431364f2a1f3d7d1296106159
Closes-Bug: #1832335
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/65/664565/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/neutron/sriov.pp'],1,0c4f8cced6cc43f0a3a1879e645cfe1eb137c7ea,bug/1832335,, include ::tripleo::host::sriov,0,1
openstack%2Fldappool~master~Icbb9ba6835d7e76af0dd74ae10020dc2e3ea8077,openstack/ldappool,master,Icbb9ba6835d7e76af0dd74ae10020dc2e3ea8077,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-04-23 11:38:39.000000000,2019-06-19 06:37:38.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 11:38:39.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ldappool/commit/0b73929bb3ae7bc458b3665afe9531ba8b945891', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Icbb9ba6835d7e76af0dd74ae10020dc2e3ea8077\n'}]",2,655025,0b73929bb3ae7bc458b3665afe9531ba8b945891,4,2,1,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Icbb9ba6835d7e76af0dd74ae10020dc2e3ea8077
",git fetch https://review.opendev.org/openstack/ldappool refs/changes/25/655025/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,0b73929bb3ae7bc458b3665afe9531ba8b945891,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},3,3
openstack%2Fkolla-ansible~master~If6f7dd28bbb75308ef434c166c28a5cf4a624cbd,openstack/kolla-ansible,master,If6f7dd28bbb75308ef434c166c28a5cf4a624cbd,Remove heat_watch_server_url configuration option,MERGED,2019-06-13 17:04:50.000000000,2019-06-19 06:37:37.000000000,2019-06-19 04:39:32.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-13 17:04:50.000000000', 'files': ['ansible/roles/heat/templates/heat.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cc011ceb411e619537eea63a3f35dca9efcbd7c9', 'message': 'Remove heat_watch_server_url configuration option\n\nThe AWS-compatible CloudWatch API has been removed from Heat in Queens.\nRemove its configuration option from the heat.conf template.\n\nChange-Id: If6f7dd28bbb75308ef434c166c28a5cf4a624cbd\n'}]",0,665185,cc011ceb411e619537eea63a3f35dca9efcbd7c9,19,5,1,15197,,,0,"Remove heat_watch_server_url configuration option

The AWS-compatible CloudWatch API has been removed from Heat in Queens.
Remove its configuration option from the heat.conf template.

Change-Id: If6f7dd28bbb75308ef434c166c28a5cf4a624cbd
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/85/665185/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/heat/templates/heat.conf.j2'],1,cc011ceb411e619537eea63a3f35dca9efcbd7c9,remove-heat-watch,,heat_watch_server_url = {{ public_protocol }}://{{ heat_cfn_external_fqdn }}:{{ heat_api_cfn_port }},0,1
openstack%2Ftacker~master~I285c6c62094b188b2f919d873f47041b7e7cf902,openstack/tacker,master,I285c6c62094b188b2f919d873f47041b7e7cf902,K8s 'ssl_ca_cert' value error remaining work,MERGED,2019-06-13 07:38:51.000000000,2019-06-19 06:36:27.000000000,2019-06-19 06:36:27.000000000,"[{'_account_id': 18955}, {'_account_id': 22290}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 26588}]","[{'number': 1, 'created': '2019-06-13 07:38:51.000000000', 'files': ['tacker/common/utils.py', 'doc/source/install/kubernetes_vim_installation.rst', 'tacker/tests/unit/nfvo/drivers/vim/test_kubernetes_driver.py', 'tacker/nfvo/drivers/vim/kubernetes_driver.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/2ab50ef8f1f40fba51f6b35b43a6bd911d4a6ba9', 'message': ""K8s 'ssl_ca_cert' value error remaining work\n\nMade remaining nit works of the patch[1] which closes the bug #1829384.\n\n[1] https://review.opendev.org/#/c/659559/\n\nChange-Id: I285c6c62094b188b2f919d873f47041b7e7cf902\n""}]",2,665084,2ab50ef8f1f40fba51f6b35b43a6bd911d4a6ba9,10,5,1,26588,,,0,"K8s 'ssl_ca_cert' value error remaining work

Made remaining nit works of the patch[1] which closes the bug #1829384.

[1] https://review.opendev.org/#/c/659559/

Change-Id: I285c6c62094b188b2f919d873f47041b7e7cf902
",git fetch https://review.opendev.org/openstack/tacker refs/changes/84/665084/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/common/utils.py', 'doc/source/install/kubernetes_vim_installation.rst', 'tacker/tests/unit/nfvo/drivers/vim/test_kubernetes_driver.py', 'tacker/nfvo/drivers/vim/kubernetes_driver.py']",4,2ab50ef8f1f40fba51f6b35b43a6bd911d4a6ba9,bug/1829384," ca_cert = utils.none_from_string(auth_cred.get('ssl_ca_cert')) Store VIM auth using fernet key encryption """""" if utils.none_from_string(auth.get('ssl_ca_cert')):"," ca_cert = utils._none_from_string(auth_cred.get('ssl_ca_cert')) Store VIM auth using fernet key encryption """""" if utils._none_from_string(auth.get('ssl_ca_cert')):",14,16
openstack%2Fopenstack-ansible-tests~master~I5c2478b41d49dd3e4392c1800ad6a7e7c1494152,openstack/openstack-ansible-tests,master,I5c2478b41d49dd3e4392c1800ad6a7e7c1494152,Stop deleting-and-creating RabbitMQ account,MERGED,2019-06-12 12:21:27.000000000,2019-06-19 06:34:56.000000000,2019-06-18 18:08:59.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-12 12:21:27.000000000', 'files': ['sync/tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/5879ae1891049f6464b8c2a5f5990b36eed62954', 'message': ""Stop deleting-and-creating RabbitMQ account\n\nThe `force` option creates and recreates the user which means on\nany deploy it kills *all* AMQP traffic on all agents.\n\nThis updates it when changed every single run, which shouldn't\nkill the connectivity when we run playbooks.\n\nChange-Id: I5c2478b41d49dd3e4392c1800ad6a7e7c1494152\nCloses-Bug: 1825329\n""}]",0,664868,5879ae1891049f6464b8c2a5f5990b36eed62954,8,3,1,28619,,,0,"Stop deleting-and-creating RabbitMQ account

The `force` option creates and recreates the user which means on
any deploy it kills *all* AMQP traffic on all agents.

This updates it when changed every single run, which shouldn't
kill the connectivity when we run playbooks.

Change-Id: I5c2478b41d49dd3e4392c1800ad6a7e7c1494152
Closes-Bug: 1825329
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/68/664868/1 && git format-patch -1 --stdout FETCH_HEAD,['sync/tasks/mq_setup.yml'],1,5879ae1891049f6464b8c2a5f5990b36eed62954,bug/1825329, update_password: always, force: true,1,1
openstack%2Fironic~master~Ide12cb4f83f3216af82e0d1139dc2f4468f1e5cb,openstack/ironic,master,Ide12cb4f83f3216af82e0d1139dc2f4468f1e5cb,Update API history and release mapping for 12.2.0,MERGED,2019-06-18 10:33:30.000000000,2019-06-19 06:14:42.000000000,2019-06-18 16:35:06.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-06-18 10:33:30.000000000', 'files': ['ironic/common/release_mappings.py', 'doc/source/contributor/webapi-version-history.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/dcab7df395befcbc75c6b1cae8162b34484fe2f3', 'message': 'Update API history and release mapping for 12.2.0\n\n12.2.0 will be the first release in the Train cycle.\n\nChange-Id: Ide12cb4f83f3216af82e0d1139dc2f4468f1e5cb\n'}]",0,665945,dcab7df395befcbc75c6b1cae8162b34484fe2f3,10,6,1,14826,,,0,"Update API history and release mapping for 12.2.0

12.2.0 will be the first release in the Train cycle.

Change-Id: Ide12cb4f83f3216af82e0d1139dc2f4468f1e5cb
",git fetch https://review.opendev.org/openstack/ironic refs/changes/45/665945/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/release_mappings.py', 'doc/source/contributor/webapi-version-history.rst']",2,dcab7df395befcbc75c6b1cae8162b34484fe2f3,release-12.2.0,"1.58 (Train, 12.2.0)1.57 (Train, 12.2.0)","1.58 (Train, master)1.57 (Train, master)",19,2
openstack%2Fhorizon~master~Ia55db622b35005e9da4ff83f39414a37ddc19e87,openstack/horizon,master,Ia55db622b35005e9da4ff83f39414a37ddc19e87,Uniform asterisk mark color and location,MERGED,2019-06-11 02:25:44.000000000,2019-06-19 06:03:26.000000000,2019-06-19 06:03:26.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-06-11 02:25:44.000000000', 'files': ['openstack_dashboard/static/app/core/keypairs/actions/create.key-type.html', 'openstack_dashboard/static/app/core/keypairs/actions/import.public-key.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/cbd15bf910da3faf737b7669467afa310d2da676', 'message': 'Uniform asterisk mark color and location\n\nThe asterisk mark color and location are inconsistent\nin the Create Key Pair and Import Key Form.\n\nThis Patch uniform asterisk mark color and location in some forms\n\nChange-Id: Ia55db622b35005e9da4ff83f39414a37ddc19e87\nCloses-Bug: #1832288\n'}]",0,664486,cbd15bf910da3faf737b7669467afa310d2da676,10,5,1,27822,,,0,"Uniform asterisk mark color and location

The asterisk mark color and location are inconsistent
in the Create Key Pair and Import Key Form.

This Patch uniform asterisk mark color and location in some forms

Change-Id: Ia55db622b35005e9da4ff83f39414a37ddc19e87
Closes-Bug: #1832288
",git fetch https://review.opendev.org/openstack/horizon refs/changes/86/664486/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/static/app/core/keypairs/actions/create.key-type.html', 'openstack_dashboard/static/app/core/keypairs/actions/import.public-key.html']",2,cbd15bf910da3faf737b7669467afa310d2da676,bug/1832288,"<div ng-controller=""horizon.app.core.keypairs.actions.ImportPublicKeyController as ctrl"" class=""form-group""> <label class=""control-label required""> <translate>Key Type</translate> <span class=""hz-icon-required fa fa-asterisk""></span> </label></div> ","<div ng-controller=""horizon.app.core.keypairs.actions.ImportPublicKeyController as ctrl""> <label class=""control-label required"" translate>Key Type</label><span class=""hz-icon-required fa fa-asterisk""></span></div>",11,5
openstack%2Fopenstack-helm-infra~master~If5d8007bece9ccbff481187e757968e7d1b6f651,openstack/openstack-helm-infra,master,If5d8007bece9ccbff481187e757968e7d1b6f651,Adapt rabbitmq test for py2 and py3 support,MERGED,2019-05-15 14:31:44.000000000,2019-06-19 05:50:54.000000000,2019-06-19 05:50:54.000000000,"[{'_account_id': 8749}, {'_account_id': 12281}, {'_account_id': 17068}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 27679}, {'_account_id': 29132}]","[{'number': 1, 'created': '2019-05-15 14:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/db918d1af70f6def128e8dca2243db752d206f2f', 'message': 'DNM -- debug rabbitmq partition issue\n\nChange-Id: If5d8007bece9ccbff481187e757968e7d1b6f651\n'}, {'number': 2, 'created': '2019-05-15 15:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a81fc278e40c711f468207f0aa83284205ebcd50', 'message': 'DNM -- debug rabbitmq partition issue\n\nChange-Id: If5d8007bece9ccbff481187e757968e7d1b6f651\n'}, {'number': 3, 'created': '2019-05-16 16:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a77ce9ebdf530239b44a0f0417df3e81d4eb68fe', 'message': 'Adapt rabbitmq test for py2 and py3 support\n\nThis works well for python2, but things will become\nmessy when py3 will be the default.\nThis should fix it.\n\nChange-Id: If5d8007bece9ccbff481187e757968e7d1b6f651\n'}, {'number': 4, 'created': '2019-05-17 08:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/847940c2794addbab5d04924a297547abaf7ddf3', 'message': 'Adapt rabbitmq test for py2 and py3 support\n\nThis works well for python2, but things will become\nmessy when py3 will be the default.\nThis should fix it.\n\nChange-Id: If5d8007bece9ccbff481187e757968e7d1b6f651\n'}, {'number': 5, 'created': '2019-05-17 08:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3d48c1ea81a48658d5f4de71f8f210e368c33c9b', 'message': 'Adapt rabbitmq test for py2 and py3 support\n\nThis works well for python2, but things will become\nmessy when py3 will be the default.\nThis should fix it.\n\nChange-Id: If5d8007bece9ccbff481187e757968e7d1b6f651\n'}, {'number': 6, 'created': '2019-05-17 08:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d661d3bcf4a6cd8546b16e102cb117d4f72cc6f6', 'message': 'Adapt rabbitmq test for py2 and py3 support\n\nThis works well for python2, but things will become\nmessy when py3 will be the default.\n\nThis, at the same time, ensures the KeyErrors are\nproperly logged, with a way to debug them.\n\nChange-Id: If5d8007bece9ccbff481187e757968e7d1b6f651\n'}, {'number': 7, 'created': '2019-05-17 08:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9c5d86617e99833143aa29b95915c37eb6580268', 'message': 'Adapt rabbitmq test for py2 and py3 support\n\nThis works well for python2, but things will become\nmessy when py3 will be the default.\n\nThis, at the same time, ensures the KeyErrors are\nproperly logged, with a way to debug them.\n\nChange-Id: If5d8007bece9ccbff481187e757968e7d1b6f651\n'}, {'number': 8, 'created': '2019-05-17 09:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3321fcc266cb929a74f308db3a93c280ce6df987', 'message': 'Adapt rabbitmq test for py2 and py3 support\n\nThis works well for python2, but things will become\nmessy when py3 will be the default.\n\nThis, at the same time, ensures the KeyErrors are\nproperly logged, with a way to debug them.\n\nChange-Id: If5d8007bece9ccbff481187e757968e7d1b6f651\n'}, {'number': 9, 'created': '2019-05-17 09:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/449e8e7b7e69fc223de84749f3ce929be2624015', 'message': 'Adapt rabbitmq test for py2 and py3 support\n\nThis works well for python2, but things will become\nmessy when py3 will be the default.\n\nThis, at the same time, ensures the KeyErrors are\nproperly logged, with a way to debug them.\n\nChange-Id: If5d8007bece9ccbff481187e757968e7d1b6f651\n'}, {'number': 10, 'created': '2019-05-17 15:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/51cfa74c6371e93d909366c2ecbf1ec176e21811', 'message': 'Adapt rabbitmq test for py2 and py3 support\n\nThis works well for python2, but things will become\nmessy when py3 will be the default.\n\nThis, at the same time, ensures the KeyErrors are\nproperly logged, with a way to debug them.\n\nChange-Id: If5d8007bece9ccbff481187e757968e7d1b6f651\n'}, {'number': 11, 'created': '2019-05-18 10:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b981cec9191801eb69ba260a4fd2b636ecc68344', 'message': 'Adapt rabbitmq test for py2 and py3 support\n\nThis works well for python2, but things will become\nmessy when py3 will be the default.\n\nThis, at the same time, ensures the KeyErrors are\nproperly logged, with a way to debug them.\n\nChange-Id: If5d8007bece9ccbff481187e757968e7d1b6f651\n'}, {'number': 12, 'created': '2019-05-20 09:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cb3164f84d773d8a7567b6cb589582ebc0d6af00', 'message': 'Adapt rabbitmq test for py2 and py3 support\n\nThis works well for python2, but things will become\nmessy when py3 will be the default.\n\nThis, at the same time, ensures the KeyErrors are\nproperly logged, with a way to debug them.\n\nChange-Id: If5d8007bece9ccbff481187e757968e7d1b6f651\n'}, {'number': 13, 'created': '2019-05-20 09:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3c1b3bd054c4d937e2aebfc09e8a09e256a4bdfb', 'message': 'Adapt rabbitmq test for py2 and py3 support\n\nThis works well for python2, but things will become\nmessy when py3 will be the default.\n\nThis, at the same time, ensures the KeyErrors are\nproperly logged, with a way to debug them.\n\nChange-Id: If5d8007bece9ccbff481187e757968e7d1b6f651\n'}, {'number': 14, 'created': '2019-05-27 07:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fe717e1dc49b71775a2586b762f3111279bf4a84', 'message': 'Adapt rabbitmq test for py2 and py3 support\n\nThis works well for python2, but things will become\nmessy when py3 will be the default.\n\nThis, at the same time, ensures the KeyErrors are\nproperly logged, with a way to debug them.\n\nChange-Id: If5d8007bece9ccbff481187e757968e7d1b6f651\n'}, {'number': 15, 'created': '2019-06-18 17:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/50d533d27a4f0ca44a65e2b56869e524b03b948d', 'message': 'Adapt rabbitmq test for py2 and py3 support\n\nThis works well for python2, but things will become\nmessy when py3 will be the default.\n\nThis, at the same time, ensures the KeyErrors are\nproperly logged, with a way to debug them.\n\nChange-Id: If5d8007bece9ccbff481187e757968e7d1b6f651\n'}, {'number': 16, 'created': '2019-06-19 03:19:08.000000000', 'files': ['rabbitmq/templates/bin/_rabbitmq-test.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8ee35e896fd89cb55bf8036d4652fc318183b989', 'message': 'Adapt rabbitmq test for py2 and py3 support\n\nThis works well for python2, but things will become\nmessy when py3 will be the default.\n\nThis, at the same time, ensures the KeyErrors are\nproperly logged, with a way to debug them.\n\nChange-Id: If5d8007bece9ccbff481187e757968e7d1b6f651\n'}]",10,659301,8ee35e896fd89cb55bf8036d4652fc318183b989,56,8,16,17068,,,0,"Adapt rabbitmq test for py2 and py3 support

This works well for python2, but things will become
messy when py3 will be the default.

This, at the same time, ensures the KeyErrors are
properly logged, with a way to debug them.

Change-Id: If5d8007bece9ccbff481187e757968e7d1b6f651
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/01/659301/10 && git format-patch -1 --stdout FETCH_HEAD,['rabbitmq/templates/bin/_rabbitmq-test.sh.tpl'],1,db918d1af70f6def128e8dca2243db752d206f2f,python3,"function rabbit_find_partitions () { list nodes -f raw_json) echo ""Raw json partitions: $PARTITIONS"" echo $PARTITIONS | \print(type(obj)) for num, node in enumerate(obj): print(node.get('partitions', 'Error getting partition'));"")rabbit_find_partitions","function rabbit_find_paritions () { list nodes -f raw_json | \for num, node in enumerate(obj): print node['partitions'];"")rabbit_find_paritions",7,4
openstack%2Fironic~master~I0ffe0c12e9e32f32d2b400b5756fc2148a2993a0,openstack/ironic,master,I0ffe0c12e9e32f32d2b400b5756fc2148a2993a0,Incorporate bandit support in CI,MERGED,2019-06-03 07:10:50.000000000,2019-06-19 05:45:10.000000000,2019-06-19 05:45:10.000000000,"[{'_account_id': 2472}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-03 07:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7331167ff72beb2e798f4e4089c772af970c870f', 'message': 'Incorporate bandit support in CI\n\nChange-Id: I0ffe0c12e9e32f32d2b400b5756fc2148a2993a0\nStory: 2005791\nTask: 33518\n'}, {'number': 2, 'created': '2019-06-05 00:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a8b872f5c7e3e07f8275e6bdb12ee0aef0ab0b58', 'message': 'Incorporate bandit support in CI\n\nChange-Id: I0ffe0c12e9e32f32d2b400b5756fc2148a2993a0\nStory: 2005791\nTask: 33518\n'}, {'number': 3, 'created': '2019-06-10 01:31:46.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'test-requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/caf925349ac7b95eb5cd5c6a7242cf20c1e06855', 'message': 'Incorporate bandit support in CI\n\nChange-Id: I0ffe0c12e9e32f32d2b400b5756fc2148a2993a0\nStory: 2005791\nTask: 33518\n'}]",0,662689,caf925349ac7b95eb5cd5c6a7242cf20c1e06855,37,11,3,24828,,,0,"Incorporate bandit support in CI

Change-Id: I0ffe0c12e9e32f32d2b400b5756fc2148a2993a0
Story: 2005791
Task: 33518
",git fetch https://review.opendev.org/openstack/ironic refs/changes/89/662689/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'test-requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini']",5,7331167ff72beb2e798f4e4089c772af970c870f,bandit, [testenv:bandit] basepython = python3 deps = -r{toxinidir}/test-requirements.txt commands = bandit -r ironic -x tests -n5 -ll,,31,0
openstack%2Fopenstack-helm~master~Iec7bc6f4dd089aaa08ca652bebd9a10ef49da556,openstack/openstack-helm,master,Iec7bc6f4dd089aaa08ca652bebd9a10ef49da556,Cinder: Support backup driver specification by module or class name,MERGED,2019-06-08 20:32:00.000000000,2019-06-19 05:28:04.000000000,2019-06-19 05:28:03.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28459}]","[{'number': 1, 'created': '2019-06-08 20:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e9800bc55c1cac88da4fed719e78871bc1a77644', 'message': 'Cinder: Support backup driver specification by module or class name\n\nDuring the Queens cycle, Cinder introduced the ability to specify the\nbackup driver via class name and deprecated backup driver initialization\nusing the module name. (Id6bee9e7d0da8ead224a04f86fe79ddfb5b286cf)\n\nLegacy support for initialization by module name was dropped in Stein.\n(I3ada2dee1857074746b1893b82dd5f6641c6e579)\n\nThis change will support both methods of initialization and leave the\ndriver defaults enabled for module based initialization (valid through\nRocky images).\n\nThis change has been tested using the OSH default Cinder (Ocata) images\nand StarlingX images based on master (Train).\n\nChange-Id: Iec7bc6f4dd089aaa08ca652bebd9a10ef49da556\nSigned-off-by: Robert Church <robert.church@windriver.com>\n'}, {'number': 2, 'created': '2019-06-18 17:23:50.000000000', 'files': ['cinder/templates/configmap-etc.yaml', 'cinder/templates/pvc-backup.yaml', 'cinder/values.yaml', 'cinder/templates/job-backup-storage-init.yaml', 'cinder/templates/deployment-backup.yaml', 'cinder/templates/job-clean.yaml', 'cinder/templates/bin/_backup-storage-init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aa4ca5ad56c8c504c3aa97ab691cbbcb6b42464b', 'message': 'Cinder: Support backup driver specification by module or class name\n\nDuring the Queens cycle, Cinder introduced the ability to specify the\nbackup driver via class name and deprecated backup driver initialization\nusing the module name. (Id6bee9e7d0da8ead224a04f86fe79ddfb5b286cf)\n\nLegacy support for initialization by module name was dropped in Stein.\n(I3ada2dee1857074746b1893b82dd5f6641c6e579)\n\nThis change will support both methods of initialization and leave the\ndriver defaults enabled for module based initialization (valid through\nRocky images).\n\nThis change has been tested using the OSH default Cinder (Ocata) images\nand StarlingX images based on master (Train).\n\nChange-Id: Iec7bc6f4dd089aaa08ca652bebd9a10ef49da556\nSigned-off-by: Robert Church <robert.church@windriver.com>\n'}]",0,664143,aa4ca5ad56c8c504c3aa97ab691cbbcb6b42464b,13,4,2,28459,,,0,"Cinder: Support backup driver specification by module or class name

During the Queens cycle, Cinder introduced the ability to specify the
backup driver via class name and deprecated backup driver initialization
using the module name. (Id6bee9e7d0da8ead224a04f86fe79ddfb5b286cf)

Legacy support for initialization by module name was dropped in Stein.
(I3ada2dee1857074746b1893b82dd5f6641c6e579)

This change will support both methods of initialization and leave the
driver defaults enabled for module based initialization (valid through
Rocky images).

This change has been tested using the OSH default Cinder (Ocata) images
and StarlingX images based on master (Train).

Change-Id: Iec7bc6f4dd089aaa08ca652bebd9a10ef49da556
Signed-off-by: Robert Church <robert.church@windriver.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/43/664143/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/templates/configmap-etc.yaml', 'cinder/templates/pvc-backup.yaml', 'cinder/values.yaml', 'cinder/templates/job-backup-storage-init.yaml', 'cinder/templates/deployment-backup.yaml', 'cinder/templates/job-clean.yaml', 'cinder/templates/bin/_backup-storage-init.sh.tpl']",7,e9800bc55c1cac88da4fed719e78871bc1a77644,,if [[ $STORAGE_BACKEND =~ 'cinder.backup.drivers.ceph' ]]; thenif [[ $STORAGE_BACKEND =~ 'cinder.backup.drivers.swift' ]] || \ [[ $STORAGE_BACKEND =~ 'cinder.backup.drivers.posix' ]]; thenelif [[ $STORAGE_BACKEND =~ 'cinder.backup.drivers.ceph' ]]; then,"if [ ""x$STORAGE_BACKEND"" == ""xcinder.backup.drivers.ceph"" ]; thenif [ ""x$STORAGE_BACKEND"" == ""xcinder.backup.drivers.swift"" ] || \ [ ""x$STORAGE_BACKEND"" == ""xcinder.backup.drivers.posix"" ]; thenelif [ ""x$STORAGE_BACKEND"" == ""xcinder.backup.drivers.ceph"" ]; then",24,20
openstack%2Fsolum~master~I140f057a7df18f5b6c07c850c9d0b7e2ae4862db,openstack/solum,master,I140f057a7df18f5b6c07c850c9d0b7e2ae4862db,Fix Textual SQL expression error,MERGED,2019-06-18 07:38:36.000000000,2019-06-19 05:07:01.000000000,2019-06-19 05:07:01.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 07:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/aeff7142822d94dac92dd3860da9e52a80de22e4', 'message': 'Fix Textual SQL expression error\n\nChange-Id: I140f057a7df18f5b6c07c850c9d0b7e2ae4862db\n'}, {'number': 2, 'created': '2019-06-18 08:53:37.000000000', 'files': ['solum/objects/sqlalchemy/assembly.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/f2414c2df1c98718b7d132c526b7ff73e88c8750', 'message': 'Fix Textual SQL expression error\n\nChange-Id: I140f057a7df18f5b6c07c850c9d0b7e2ae4862db\n'}]",0,665894,f2414c2df1c98718b7d132c526b7ff73e88c8750,10,2,2,14107,,,0,"Fix Textual SQL expression error

Change-Id: I140f057a7df18f5b6c07c850c9d0b7e2ae4862db
",git fetch https://review.opendev.org/openstack/solum refs/changes/94/665894/1 && git format-patch -1 --stdout FETCH_HEAD,['solum/objects/sqlalchemy/assembly.py'],1,aeff7142822d94dac92dd3860da9e52a80de22e4,," desc(Assembly.updated_at), desc(Assembly.created_at))"," 'updated_at desc', 'created_at desc')",1,1
openstack%2Fbifrost~master~Ib76978f0406fac2c2c7b8396e1a03a87db9eeba5,openstack/bifrost,master,Ib76978f0406fac2c2c7b8396e1a03a87db9eeba5,Remove deprecated authentication parameters,MERGED,2019-06-18 05:57:26.000000000,2019-06-19 04:29:23.000000000,2019-06-19 04:29:23.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-18 05:57:26.000000000', 'files': ['releasenotes/notes/auth-59e73f74a2dd507f.yaml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/templates/ironic-inspector.conf.j2', 'playbooks/roles/bifrost-ironic-install/README.md'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ee50d50ebe3134ed3185d28b5f729fb895d36181', 'message': 'Remove deprecated authentication parameters\n\nThis removes inspector_auth and ironic_auth_strategy which are redundant\nwith enable_keystone and rely on deprecated ironic-inspector options.\n\nChange-Id: Ib76978f0406fac2c2c7b8396e1a03a87db9eeba5\n'}]",0,665867,ee50d50ebe3134ed3185d28b5f729fb895d36181,7,3,1,10239,,,0,"Remove deprecated authentication parameters

This removes inspector_auth and ironic_auth_strategy which are redundant
with enable_keystone and rely on deprecated ironic-inspector options.

Change-Id: Ib76978f0406fac2c2c7b8396e1a03a87db9eeba5
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/67/665867/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/auth-59e73f74a2dd507f.yaml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/templates/ironic-inspector.conf.j2', 'playbooks/roles/bifrost-ironic-install/README.md']",4,ee50d50ebe3134ed3185d28b5f729fb895d36181,auth,,inspector_auth: Sets ironic-inspector's authentication method. Possible values are `keystone` and `noauth`. `noauth` is recommended since bifrost by default installs ironic as standalone without keystone. The default value is `noauth`. ironic_auth_strategy: Sets the `auth_strategy` ironic-inspector should use with ironic. Possible values are `noauth` and `keystone`. The default value is `noauth`. ,7,19
openstack%2Foctavia~master~I3b98c693d334a1025f633bd319c88dde724be30e,openstack/octavia,master,I3b98c693d334a1025f633bd319c88dde724be30e,ACTIVE-ACTIVE: Amphora driver updates,NEW,2017-12-20 00:34:37.000000000,2019-06-19 03:39:16.000000000,,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 20226}, {'_account_id': 20279}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-20 00:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/41567604fca91a3a3fbb18ef95d922e579fe95c0', 'message': 'ACTIVE-ACTIVE: Amphora driver updates\n\nThis patch extends the amphora driver to support methods required for\nActive/Active topologies and amphora in the distributor role.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nThis patch also moves a class comment from a previous patch into a class\ndocstring.\n\nStory: 2001288\nTask: 6114\n\nChange-Id: I3b98c693d334a1025f633bd319c88dde724be30e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\n'}, {'number': 2, 'created': '2018-01-12 22:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/60a95f00681528c0765d1137d6be62a3e8d8ee3b', 'message': 'ACTIVE-ACTIVE: Amphora driver updates\n\nThis patch extends the amphora driver to support methods required for\nActive/Active topologies and amphora in the distributor role.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nThis patch also moves a class comment from a previous patch into a class\ndocstring.\n\nStory: 2001288\nTask: 6114\n\nChange-Id: I3b98c693d334a1025f633bd319c88dde724be30e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\n'}, {'number': 3, 'created': '2018-01-12 22:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f0d253adcdf7b3afcda613daaf1d2c7fc8a99b08', 'message': 'ACTIVE-ACTIVE: Amphora driver updates\n\nThis patch extends the amphora driver to support methods required for\nActive/Active topologies and amphora in the distributor role.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nThis patch also moves a class comment from a previous patch into a class\ndocstring.\n\nStory: 2001288\nTask: 6114\n\nChange-Id: I3b98c693d334a1025f633bd319c88dde724be30e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\n'}, {'number': 4, 'created': '2018-01-14 20:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7cbf1e3932f326c4b812e334ff2c7d3696fdcb0f', 'message': 'ACTIVE-ACTIVE: Amphora driver updates\n\nThis patch extends the amphora driver to support methods required for\nActive/Active topologies and amphora in the distributor role.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nThis patch also moves a class comment from a previous patch into a class\ndocstring.\n\nStory: 2001288\nTask: 6114\n\nChange-Id: I3b98c693d334a1025f633bd319c88dde724be30e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\n'}, {'number': 5, 'created': '2018-04-10 14:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7468c9ab8c036b523ecfacb1f4a37625c9258fce', 'message': 'ACTIVE-ACTIVE: Amphora driver updates\n\nThis patch extends the amphora driver to support methods required for\nActive/Active topologies and amphora in the distributor role.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nThis patch also moves a class comment from a previous patch into a class\ndocstring.\n\nStory: 2001288\nTask: 6114\n\nChange-Id: I3b98c693d334a1025f633bd319c88dde724be30e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\n'}, {'number': 6, 'created': '2019-06-19 01:25:09.000000000', 'files': ['octavia/tests/unit/amphorae/drivers/distributor/test_distributor_rest_driver.py', 'octavia/amphorae/drivers/distributor/distributor_rest_driver.py', 'octavia/distributor/drivers/driver_base.py', 'doc/source/contributor/api/haproxy-amphora-api.rst', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/amphorae/drivers/distributor/__init__.py', 'octavia/tests/unit/amphorae/drivers/distributor/__init__.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver.py', 'octavia/amphorae/drivers/noop_driver/driver.py', 'octavia/tests/unit/amphorae/drivers/test_noop_amphoraloadbalancer_driver.py', 'octavia/amphorae/drivers/driver_base.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/80d6d3a5b80f0bd1a0e7547e7f8934fe7f78c87c', 'message': 'ACTIVE-ACTIVE: Amphora driver updates\n\nThis patch extends the amphora driver to support methods required for\nActive/Active topologies and amphora in the distributor role.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nThis patch also moves a class comment from a previous patch into a class\ndocstring.\n\nStory: 2001288\nTask: 6114\n\nChange-Id: I3b98c693d334a1025f633bd319c88dde724be30e\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\n'}]",0,529191,80d6d3a5b80f0bd1a0e7547e7f8934fe7f78c87c,19,5,6,11628,,,0,"ACTIVE-ACTIVE: Amphora driver updates

This patch extends the amphora driver to support methods required for
Active/Active topologies and amphora in the distributor role.

This patch is a decompostion of the following patch:
https://review.openstack.org/#/c/313006

This patch also moves a class comment from a previous patch into a class
docstring.

Story: 2001288
Task: 6114

Change-Id: I3b98c693d334a1025f633bd319c88dde724be30e
Co-Authored-By: Adam Harwell <flux.adam@gmail.com>
Co-Authored-By: Valeria Perelman <perelman@il.ibm.com>
",git fetch https://review.opendev.org/openstack/octavia refs/changes/91/529191/3 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/distributor/drivers/driver_base.py', 'octavia/amphorae/drivers/noop_driver/driver.py', 'octavia/tests/unit/amphorae/drivers/test_noop_amphoraloadbalancer_driver.py', 'octavia/amphorae/drivers/driver_base.py']",4,41567604fca91a3a3fbb18ef95d922e579fe95c0,active-active-with-distributor," @six.add_metaclass(abc.ABCMeta) class DistributorMixin(object): """"""Abstract mixin class extending the amphora driver for distributors Note: These methods expect to act against one amphora acting as a distributor. It is expected that the caller will handle parallelization. """""" @abc.abstractmethod def pre_unplug_vip(self, amphora, loadbalancer): """"""Called before network driver has deallocated and unplugged the VIP :param amphora: The affected amphora object :param loadbalancer: Loadbalancer object with the vip to unplug """""" pass @abc.abstractmethod def register_amphora(self, amphora, lb_amphorae): """"""Registers load balancing amphorae with the distributor amphora :param amphora: The affected amphora object :param lb_amphorae: A list of load balancing amphora objects """""" pass @abc.abstractmethod def unregister_amphora(self, amphora, lb_amphorae): """"""Unregisters load balancing amphorae from the distributor amphora :param amphora: The affected amphora object :param lb_amphorae: A list of load balancing amphora objects """""" pass",,110,7
openstack%2Fswift~master~I05f38c6366e3da0aeed2b6451a8bd9d7dc531119,openstack/swift,master,I05f38c6366e3da0aeed2b6451a8bd9d7dc531119,Dockerfile cleanup,MERGED,2019-06-03 16:20:21.000000000,2019-06-19 03:23:55.000000000,2019-06-19 03:21:30.000000000,"[{'_account_id': 7233}, {'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-03 16:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/12302638cb8a70636614d595b6f3325cfc2a4885', 'message': 'Dockerfile cleanup\n\n- Remove some build packages that are no longer needed now that we\n  install liberasurecode from upstream.\n- Use `set -e` in all install scripts.\n\nChange-Id: I05f38c6366e3da0aeed2b6451a8bd9d7dc531119\n'}, {'number': 2, 'created': '2019-06-05 19:14:31.000000000', 'files': ['docker/install_scripts/10_apk_install_prereqs.sh', 'docker/install_scripts/60_pip_uninstall_dev.sh', 'docker/install_scripts/20_pip_install_prereqs.sh', 'docker/install_scripts/15_install_python_and_pip_src.sh', 'docker/install_scripts/00_swift_needs.sh', 'docker/install_scripts/99_apk_uninstall_dev.sh', 'docker/install_scripts/50_swift_install.sh', 'docker/install_scripts/python_test_dirs'], 'web_link': 'https://opendev.org/openstack/swift/commit/a122b720e9c61b38cfe502dcb63a9c119220c4c1', 'message': 'Dockerfile cleanup\n\n- Use `set -e` in all install scripts. Clean up swift_needs to still\n  work properly and exit cleanly under `set -e`.\n- Drop some redundant slashes.\n\nChange-Id: I05f38c6366e3da0aeed2b6451a8bd9d7dc531119\n'}]",0,662799,a122b720e9c61b38cfe502dcb63a9c119220c4c1,21,4,2,15343,,,0,"Dockerfile cleanup

- Use `set -e` in all install scripts. Clean up swift_needs to still
  work properly and exit cleanly under `set -e`.
- Drop some redundant slashes.

Change-Id: I05f38c6366e3da0aeed2b6451a8bd9d7dc531119
",git fetch https://review.opendev.org/openstack/swift refs/changes/99/662799/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/install_scripts/10_apk_install_prereqs.sh', 'docker/install_scripts/60_pip_uninstall_dev.sh', 'docker/install_scripts/20_pip_install_prereqs.sh', 'docker/install_scripts/15_install_python_and_pip_src.sh', 'docker/install_scripts/00_swift_needs.sh', 'docker/install_scripts/99_apk_uninstall_dev.sh', 'docker/install_scripts/50_swift_install.sh', 'docker/install_scripts/python_test_dirs']",8,12302638cb8a70636614d595b6f3325cfc2a4885,docker-liberasurecode,/opt/python/usr/local/lib/python3.6/ctypes/test /opt/python/usr/local/lib/python3.6/distutils/tests /opt/python/usr/local/lib/python3.6/idlelib/idle_test /opt/python/usr/local/lib/python3.6/lib2to3/tests /opt/python/usr/local/lib/python3.6/sqlite3/test /opt/python/usr/local/lib/python3.6/test /opt/python/usr/local/lib/python3.6/tkinter/test,/opt/python/usr/local/lib/python3.6//ctypes/test /opt/python/usr/local/lib/python3.6//distutils/tests /opt/python/usr/local/lib/python3.6//idlelib/idle_test /opt/python/usr/local/lib/python3.6//lib2to3/tests /opt/python/usr/local/lib/python3.6//sqlite3/test /opt/python/usr/local/lib/python3.6//test /opt/python/usr/local/lib/python3.6//tkinter/test,15,17
openstack%2Fswift~master~Iaa9208fb20545ae9ac990f0e180899108d983123,openstack/swift,master,Iaa9208fb20545ae9ac990f0e180899108d983123,Remove nobarrier option,MERGED,2019-06-18 13:50:37.000000000,2019-06-19 03:22:50.000000000,2019-06-19 03:21:29.000000000,"[{'_account_id': 597}, {'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 13:50:37.000000000', 'files': ['doc/source/deployment_guide.rst', 'doc/source/install/storage-install-rdo.rst', 'doc/source/development_saio.rst', 'test/unit/common/middleware/test_recon.py', 'doc/source/install/storage-install-obs.rst', 'doc/source/install/storage-install-ubuntu-debian.rst', 'tools/playbooks/saio_single_node_setup/setup_saio.yaml', 'tools/playbooks/multinode_setup/configure_loopback.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/4ab3706b75362b39cebf7ae5f325c191459c2690', 'message': 'Remove nobarrier option\n\nXFS no longer supports nobarrier mount option.\nIt has been deprecated for a long time[1] and removed in\nrecent kernel versions resulting in an error when trying to\nmount: ""kernel: XFS (loop0): unknown mount option [nobarrier].""\n\n[1] - https://patchwork.kernel.org/patch/9486549/\n\nChange-Id: Iaa9208fb20545ae9ac990f0e180899108d983123\n'}]",0,665984,4ab3706b75362b39cebf7ae5f325c191459c2690,9,4,1,9625,,,0,"Remove nobarrier option

XFS no longer supports nobarrier mount option.
It has been deprecated for a long time[1] and removed in
recent kernel versions resulting in an error when trying to
mount: ""kernel: XFS (loop0): unknown mount option [nobarrier].""

[1] - https://patchwork.kernel.org/patch/9486549/

Change-Id: Iaa9208fb20545ae9ac990f0e180899108d983123
",git fetch https://review.opendev.org/openstack/swift refs/changes/84/665984/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/deployment_guide.rst', 'doc/source/install/storage-install-rdo.rst', 'doc/source/development_saio.rst', 'doc/source/install/storage-install-obs.rst', 'doc/source/install/storage-install-ubuntu-debian.rst', 'test/unit/common/middleware/test_recon.py', 'tools/playbooks/saio_single_node_setup/setup_saio.yaml', 'tools/playbooks/multinode_setup/configure_loopback.yaml']",8,4ab3706b75362b39cebf7ae5f325c191459c2690,remove_nobarrier," mount: name=/mnt/sdb1 src=/srv/swift-disk fstype=xfs opts=""loop,noatime,nodiratime,logbufs=8"" dump=0 passno=0 state=mounted"," mount: name=/mnt/sdb1 src=/srv/swift-disk fstype=xfs opts=""loop,noatime,nodiratime,nobarrier,logbufs=8"" dump=0 passno=0 state=mounted",12,12
openstack%2Fnova~master~I7cdf79f21415fbf799fa5ad586f1b8063afed272,openstack/nova,master,I7cdf79f21415fbf799fa5ad586f1b8063afed272,Clean up NumInstancesFilter related docs,MERGED,2019-06-17 21:35:47.000000000,2019-06-19 03:21:25.000000000,2019-06-19 03:21:25.000000000,"[{'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29745}]","[{'number': 1, 'created': '2019-06-17 21:35:47.000000000', 'files': ['doc/source/user/filter-scheduler.rst', 'nova/conf/scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b4659c9fc31b397a4c04666182f6ec0d0ce1a311', 'message': 'Clean up NumInstancesFilter related docs\n\nThis is a follow up to b129511050e3bcedd0079041ecdb8d156baa67eb\nwhich changes the code block in the docs to python and also\ncleans up some of the NumInstancesFilter documentation, specifically\nremoving wording around ""running"" instances because the filter\ndoes not care about state, only the number of instances reported\nagainst a host - they could be stopped/paused/etc.\n\nChange-Id: I7cdf79f21415fbf799fa5ad586f1b8063afed272\n'}]",0,665768,b4659c9fc31b397a4c04666182f6ec0d0ce1a311,18,14,1,6873,,,0,"Clean up NumInstancesFilter related docs

This is a follow up to b129511050e3bcedd0079041ecdb8d156baa67eb
which changes the code block in the docs to python and also
cleans up some of the NumInstancesFilter documentation, specifically
removing wording around ""running"" instances because the filter
does not care about state, only the number of instances reported
against a host - they could be stopped/paused/etc.

Change-Id: I7cdf79f21415fbf799fa5ad586f1b8063afed272
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/665768/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/filter-scheduler.rst', 'nova/conf/scheduler.py']",2,b4659c9fc31b397a4c04666182f6ec0d0ce1a311,,Maximum number of instances that can exist on a host.only affects scheduling if the ``NumInstancesFilter`` or ``AggregateNumInstancesFilter`` filter is enabled.,Maximum number of instances that be active on a host.only affects scheduling if the 'NumInstancesFilter' or 'AggregateNumInstancesFilter' filter is enabled.,11,10
openstack%2Foctavia~master~I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e,openstack/octavia,master,I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e,ACTIVE-ACTIVE: Initial distributor data model,NEW,2017-12-19 00:57:49.000000000,2019-06-19 03:13:55.000000000,,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 20226}, {'_account_id': 20279}, {'_account_id': 22348}, {'_account_id': 23889}, {'_account_id': 27256}, {'_account_id': 28329}]","[{'number': 1, 'created': '2017-12-19 00:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/25937f82f0129632d4793c4b880f2c09d6cb3a35', 'message': 'ACTIVE-ACTIVE: Initial distributor data model\n\nThis patch creates the initial distributor data model objects.\n\nChange-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\nCo-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>\n'}, {'number': 2, 'created': '2017-12-19 01:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cc3a5d2130bde9410a9e37b889215c51dcb11d9c', 'message': 'ACTIVE-ACTIVE: Initial distributor data model\n\nThis patch creates the initial distributor data model objects.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nStory: 2001288\nTask: 6109\n\nChange-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\nCo-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>\n'}, {'number': 3, 'created': '2017-12-19 21:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2850beb39b01053334d2d91285c0fda126871bc5', 'message': 'ACTIVE-ACTIVE: Initial distributor data model\n\nThis patch creates the initial distributor data model objects.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nStory: 2001288\nTask: 6109\n\nChange-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\nCo-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>\n'}, {'number': 4, 'created': '2017-12-20 23:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7d390d5444e633fd3fbe5faed687731fa34d4158', 'message': 'ACTIVE-ACTIVE: Initial distributor data model\n\nThis patch creates the initial distributor data model objects.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nStory: 2001288\nTask: 6109\n\nChange-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\nCo-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>\n'}, {'number': 5, 'created': '2017-12-21 01:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3abae58b361ffb7e385e3e905713eeae79c699e1', 'message': 'ACTIVE-ACTIVE: Initial distributor data model\n\nThis patch creates the initial distributor data model objects.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nStory: 2001288\nTask: 6109\n\nChange-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\nCo-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>\n'}, {'number': 6, 'created': '2018-01-08 04:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1cb1fc2dda2b5db4ce82b5b326f81a678a4dc96c', 'message': 'ACTIVE-ACTIVE: Initial distributor data model\n\nThis patch creates the initial distributor data model objects.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nStory: 2001288\nTask: 6109\n\nChange-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\nCo-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>\n'}, {'number': 7, 'created': '2018-01-12 04:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a4daeb48e8ab13aa25b4b3bfd42f550e1c765d16', 'message': 'ACTIVE-ACTIVE: Initial distributor data model\n\nThis patch creates the initial distributor data model objects.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nStory: 2001288\nTask: 6109\n\nChange-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\nCo-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>\n'}, {'number': 8, 'created': '2018-01-12 22:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9ab04a6997a472bac8f0d0a667c236c693403dfb', 'message': 'ACTIVE-ACTIVE: Initial distributor data model\n\nThis patch creates the initial distributor data model objects.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nStory: 2001288\nTask: 6109\n\nChange-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\nCo-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>\n'}, {'number': 9, 'created': '2018-01-12 22:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/158f29a7977c5e3c0cbebcf50b4ed0c4d919aa16', 'message': 'ACTIVE-ACTIVE: Initial distributor data model\n\nThis patch creates the initial distributor data model objects.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nStory: 2001288\nTask: 6109\n\nChange-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\nCo-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>\n'}, {'number': 10, 'created': '2018-01-14 05:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8df6f95f03a6192ceeb632f6a6d92d97920a4e0d', 'message': 'ACTIVE-ACTIVE: Initial distributor data model\n\nThis patch creates the initial distributor data model objects.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nStory: 2001288\nTask: 6109\n\nChange-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\nCo-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>\n'}, {'number': 11, 'created': '2018-01-16 10:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e548131272aff24f36159b479485c574d61c2c7c', 'message': 'ACTIVE-ACTIVE: Initial distributor data model\n\nThis patch creates the initial distributor data model objects.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nStory: 2001288\nTask: 6109\n\nChange-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\nCo-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>\n'}, {'number': 12, 'created': '2018-02-12 05:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f2929ce17a4fa9964a294e123a5014f3914971c4', 'message': 'ACTIVE-ACTIVE: Initial distributor data model\n\nThis patch creates the initial distributor data model objects.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nStory: 2001288\nTask: 6109\n\nChange-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\nCo-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>\n'}, {'number': 13, 'created': '2018-02-14 09:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/48dfefe3111afa37123b7bb761cca5d2827a12c6', 'message': 'ACTIVE-ACTIVE: Initial distributor data model\n\nThis patch creates the initial distributor data model objects.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nStory: 2001288\nTask: 6109\n\nChange-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\nCo-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>\n'}, {'number': 14, 'created': '2018-03-06 05:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f1b764b312b2c9fc658cc3f48e0698ed0b8a1301', 'message': 'ACTIVE-ACTIVE: Initial distributor data model\n\nThis patch creates the initial distributor data model objects.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nStory: 2001288\nTask: 6109\n\nChange-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\nCo-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>\n'}, {'number': 15, 'created': '2018-03-08 15:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/503daaf983e288ae8ba93ede76761a37c4716b42', 'message': 'ACTIVE-ACTIVE: Initial distributor data model\n\nThis patch creates the initial distributor data model objects.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nStory: 2001288\nTask: 6109\n\nChange-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\nCo-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>\n'}, {'number': 16, 'created': '2018-03-28 04:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4294dd76eea97860041fcfaf1964e6fcf26b5f78', 'message': 'ACTIVE-ACTIVE: Initial distributor data model\n\nThis patch creates the initial distributor data model objects.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nStory: 2001288\nTask: 6109\n\nChange-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\nCo-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>\n'}, {'number': 17, 'created': '2018-04-10 14:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/414eb3adf9f980e1e277708d726ee1e686aef417', 'message': 'ACTIVE-ACTIVE: Initial distributor data model\n\nThis patch creates the initial distributor data model objects.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nStory: 2001288\nTask: 6109\n\nChange-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\nCo-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>\n'}, {'number': 18, 'created': '2018-04-17 04:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5bbd6742b4552e3da9655b97e96af7c84c253319', 'message': 'ACTIVE-ACTIVE: Initial distributor data model\n\nThis patch creates the initial distributor data model objects.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nStory: 2001288\nTask: 6109\n\nChange-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\nCo-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>\n'}, {'number': 19, 'created': '2019-01-30 03:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6cbacfda96abd54d95378f3fa5e2c88114288f29', 'message': 'ACTIVE-ACTIVE: Initial distributor data model\n\nThis patch creates the initial distributor data model objects.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nStory: 2001288\nTask: 6109\n\nChange-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\nCo-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>\nCo-Authored-By: Yang JianFeng <yjf1970231893@gmail.com>\n'}, {'number': 20, 'created': '2019-01-30 06:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a6f0792e6dd67a0179fd3537ce6c96165d5f124d', 'message': 'ACTIVE-ACTIVE: Initial distributor data model\n\nThis patch creates the initial distributor data model objects.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nStory: 2001288\nTask: 6109\n\nChange-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\nCo-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>\nCo-Authored-By: Yang JianFeng <yjf1970231893@gmail.com>\n'}, {'number': 21, 'created': '2019-01-30 11:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0d395b02858f6e142c6bff7aaf62ca2c60ea8574', 'message': 'ACTIVE-ACTIVE: Initial distributor data model\n\nThis patch creates the initial distributor data model objects.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nStory: 2001288\nTask: 6109\n\nChange-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\nCo-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>\nCo-Authored-By: Yang JianFeng <yjf1970231893@gmail.com>\n'}, {'number': 22, 'created': '2019-01-30 12:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3ad83421e373acee16b20027038f594259a8b2c8', 'message': 'ACTIVE-ACTIVE: Initial distributor data model\n\nThis patch creates the initial distributor data model objects.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nStory: 2001288\nTask: 6109\n\nChange-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\nCo-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>\nCo-Authored-By: Yang JianFeng <yjf1970231893@gmail.com>\n'}, {'number': 23, 'created': '2019-06-19 00:54:09.000000000', 'files': ['octavia/db/migration/alembic_migrations/versions/d5cf3da30ed8_distributor_data_model.py', 'octavia/tests/functional/db/test_repositories.py', 'octavia/db/base_models.py', 'octavia/common/data_models.py', 'octavia/common/constants.py', 'octavia/db/models.py', 'octavia/db/repositories.py', 'octavia/tests/functional/db/base.py', 'octavia/tests/functional/db/test_models.py', 'octavia/api/drivers/utils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/aec27ebf00c64625512978899e40a9b25d3455b9', 'message': 'ACTIVE-ACTIVE: Initial distributor data model\n\nThis patch creates the initial distributor data model objects.\n\nThis patch is a decompostion of the following patch:\nhttps://review.openstack.org/#/c/313006\n\nStory: 2001288\nTask: 6109\n\nChange-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e\nCo-Authored-By: Valeria Perelman <perelman@il.ibm.com>\nCo-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>\n'}]",19,528850,aec27ebf00c64625512978899e40a9b25d3455b9,67,11,23,11628,,,0,"ACTIVE-ACTIVE: Initial distributor data model

This patch creates the initial distributor data model objects.

This patch is a decompostion of the following patch:
https://review.openstack.org/#/c/313006

Story: 2001288
Task: 6109

Change-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e
Co-Authored-By: Valeria Perelman <perelman@il.ibm.com>
Co-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>
",git fetch https://review.opendev.org/openstack/octavia refs/changes/50/528850/20 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/db/migration/alembic_migrations/versions/d5cf3da30ed8_distributor_data_model.py', 'octavia/tests/functional/db/test_repositories.py', 'octavia/common/data_models.py', 'octavia/db/base_models.py', 'octavia/common/constants.py', 'octavia/db/models.py', 'octavia/db/repositories.py', 'octavia/tests/functional/db/base.py', 'octavia/tests/functional/db/test_models.py']",9,25937f82f0129632d4793c4b880f2c09d6cb3a35,active-active-with-distributor," FAKE_UUID_3 = uuidutils.generate_uuid() FAKE_DRIVER = 'dist-driver' 'cached_zone': self.FAKE_AZ, 'service_type': constants.AMPHORA_TYPE_LOADBALANCER} def create_distributor(self, session, **overrides): kwargs = {'id': self.FAKE_UUID_3, 'distributor_driver': self.FAKE_DRIVER, 'topology': constants.TOPOLOGY_ACTIVE_STANDBY, 'provisioning_status': constants.ACTIVE, 'operating_status': constants.ONLINE} kwargs.update(overrides) return self._insert(session, models.Distributor, kwargs) def test_distributor_relationship(self): distributor = self.create_distributor(self.session) load_balancer = self.create_load_balancer( self.session, distributor_id=distributor.id) new_load_balancer = self.session.query( models.LoadBalancer).filter_by(id=load_balancer.id).first() self.assertIsNotNone(new_load_balancer.distributor) self.assertIsInstance(new_load_balancer.distributor, models.Distributor) # Test the back reference with two load balancers on a distributor load_balancer = self.create_load_balancer( self.session, id=self.FAKE_UUID_2, distributor_id=distributor.id) self.assertIsNotNone(new_load_balancer.distributor.load_balancers) self.assertEqual(2, len(new_load_balancer.distributor.load_balancers)) def test_distributor_relationship(self): distributor = self.create_distributor(self.session) amphora = self.create_amphora(self.session, distributor_id=distributor.id) new_amphora = self.session.query(models.Amphora).filter_by( id=amphora.id).first() self.assertIsNotNone(new_amphora.distributor) self.assertIsInstance(new_amphora.distributor, models.Distributor) # Test the back reference with two amphora on a distributor self.create_amphora(self.session, id=self.FAKE_UUID_2, distributor_id=distributor.id) self.assertIsNotNone(new_amphora.distributor.amphorae) self.assertEqual(2, len(new_amphora.distributor.amphorae)) class DistributorModelTest(base.OctaviaDBTestBase, ModelTestMixin): def setUp(self): super(DistributorModelTest, self).setUp() def test_create(self): self.create_distributor(self.session) def test_update(self): distributor = self.create_distributor(self.session) id = distributor.id distributor.operational_status = constants.OFFLINE new_distributor = self.session.query(models.Distributor).filter_by( id=id).first() self.assertEqual(new_distributor.operational_status, constants.OFFLINE) def test_delete(self): distributor = self.create_distributor(self.session) with self.session.begin(): self.session.delete(distributor) self.session.flush() new_distributor = self.session.query( models.Distributor).filter_by(id=distributor.id).first() self.assertIsNone(new_distributor) self.distributor = self.create_distributor(self.session) self.lb = self.create_load_balancer(self.session, distributor_id=self.distributor.id) self.amphora = self.create_amphora( self.session, distributor_id=self.distributor.id) 'L7Rule', 'Distributor']: self.assertEqual(self._get_unique_key(self.distributor), self.distributor.to_data_model()._get_unique_key()) def test_distributor_tree(self): distributor_db = self.session.query(models.Distributor).filter_by( id=self.distributor.id).first() self.check_distributor(distributor_db.to_data_model()) def check_distributor(self, distributor, check_lbs=True, check_amps=True): self.assertIsInstance(distributor, data_models.Distributor) self.check_distributor_data_model(distributor) if check_lbs: lbs = distributor.load_balancers self.assertIsInstance(lbs, list) for lb in lbs: self.check_load_balancer(lb, check_listeners=False, check_amphorae=False, check_vip=False, check_pools=False) if check_amps: amps = distributor.amphorae self.assertIsInstance(amps, list) for amp in amps: self.check_amphora(amp, check_load_balancer=False) def check_distributor_data_model(self, distributor): self.assertEqual(self.FAKE_UUID_3, distributor.id) self.assertEqual(self.FAKE_DRIVER, distributor.distributor_driver) self.assertEqual(constants.TOPOLOGY_ACTIVE_STANDBY, distributor.topology) self.assertEqual(constants.ACTIVE, distributor.provisioning_status) self.assertEqual(constants.ONLINE, distributor.operating_status) self.distributor = self.create_distributor(self.session) self.lb = self.create_load_balancer( self.session, distributor_id=self.distributor.id) self.amphora = self.create_amphora( self.session, distributor_id=self.distributor.id) def test_dm_distributor_simple_update(self): distributor = self.distributor.to_data_model() self.assertEqual(constants.TOPOLOGY_ACTIVE_STANDBY, distributor.topology) distributor.update({'topology': constants.TOPOLOGY_SINGLE}) self.assertEqual(constants.TOPOLOGY_SINGLE, distributor.topology)", 'cached_zone': self.FAKE_AZ} self.lb = self.create_load_balancer(self.session) self.amphora = self.create_amphora(self.session) 'L7Rule']: self.lb = self.create_load_balancer(self.session) self.amphora = self.create_amphora(self.session),382,23
openstack%2Ffreezer-tempest-plugin~master~Ic10621560603d97f6b75d62704c0e99e0f4661fd,openstack/freezer-tempest-plugin,master,Ic10621560603d97f6b75d62704c0e99e0f4661fd,Fix ci fail,MERGED,2019-06-19 01:08:13.000000000,2019-06-19 02:51:54.000000000,2019-06-19 02:51:54.000000000,"[{'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 01:08:13.000000000', 'files': ['freezer_tempest_plugin/tests/freezer/scenario/test_backups.py'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/ca93c45669d30c8e672fb69f21dc1dfbcd3b9e8d', 'message': 'Fix ci fail\n\ntemporarliy remove test for test\n\nChange-Id: Ic10621560603d97f6b75d62704c0e99e0f4661fd\n'}]",0,666197,ca93c45669d30c8e672fb69f21dc1dfbcd3b9e8d,6,2,1,21387,,,0,"Fix ci fail

temporarliy remove test for test

Change-Id: Ic10621560603d97f6b75d62704c0e99e0f4661fd
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/97/666197/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_tempest_plugin/tests/freezer/scenario/test_backups.py'],1,ca93c45669d30c8e672fb69f21dc1dfbcd3b9e8d,fixcifial,," def test_glance_backup(self): backup_job = { ""client_id"": ""test_node"", ""job_actions"": [ { ""freezer_action"": { ""action"": ""backup"", ""mode"": ""glance"", ""storage"": ""local"", ""backup_name"": ""backup1"", ""path_to_backup"": self.source_tree.path, ""container"": ""/tmp/freezer_test/"", }, ""max_retries"": 3, ""max_retries_interval"": 60 } ], ""description"": ""a test glance backup"" } restore_job = { ""client_id"": ""test_node"", ""job_actions"": [ { ""freezer_action"": { ""action"": ""restore"", ""mode"": ""glance"", ""storage"": ""local"", ""restore_abs_path"": self.dest_tree.path, ""backup_name"": ""backup1"", ""container"": ""/tmp/freezer_test/"", }, ""max_retries"": 3, ""max_retries_interval"": 60 } ], ""description"": ""a test glance restore"" } backup_job_id = self.create_job(backup_job) self.cli.freezer_client(action='job-start', params=backup_job_id) self.wait_for_job_status(backup_job_id) self.assertJobColumnEqual(backup_job_id, JOB_TABLE_RESULT_COLUMN, 'success') restore_job_id = self.create_job(restore_job) self.wait_for_job_status(restore_job_id) self.assertJobColumnEqual(restore_job_id, JOB_TABLE_RESULT_COLUMN, 'success') self.assertTrue(self.source_tree.is_equal(self.dest_tree))",0,51
openstack%2Fwatcher~master~I6f39e8d935195c611f668f71590e1d9ff52ced0d,openstack/watcher,master,I6f39e8d935195c611f668f71590e1d9ff52ced0d,Map instance to its node,MERGED,2019-06-06 08:44:13.000000000,2019-06-19 02:44:58.000000000,2019-06-19 02:44:57.000000000,"[{'_account_id': 6873}, {'_account_id': 20147}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-06-06 08:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/4f11e3ba1193262500cab8ff5dd15b7d8beb0484', 'message': 'Map instance to its node\n\nWhen receiving Nova notification instance.create.end,\nmap instance to its node after adding instance to datamodel.\n\nChange-Id: I6f39e8d935195c611f668f71590e1d9ff52ced0d\n'}, {'number': 2, 'created': '2019-06-06 09:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/06d3e23052c9543ffea3fd869ac5f5f680fcf6be', 'message': 'Map instance to its node\n\nWhen receiving Nova notification instance.create.end,\nmap instance to its node after adding instance to datamodel.\n\nChange-Id: I6f39e8d935195c611f668f71590e1d9ff52ced0d\n'}, {'number': 3, 'created': '2019-06-12 07:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/1083802281bd136f059c1879f8991403f389a739', 'message': 'Map instance to its node\n\nWhen receiving Nova notification instance.create.end,\nmap instance to its node after adding instance to datamodel.\nRelated-Bug: #1832156\n\nChange-Id: I6f39e8d935195c611f668f71590e1d9ff52ced0d\n'}, {'number': 4, 'created': '2019-06-13 07:59:33.000000000', 'files': ['watcher/decision_engine/model/notification/nova.py', 'watcher/tests/decision_engine/model/notification/test_nova_notifications.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/79a57f67e67d739842722c850655b1f6fc7b4733', 'message': 'Map instance to its node\n\nWhen receiving Nova notification instance.create.end,\nmap instance to its node after adding instance to datamodel.\nRelated-Bug: #1832156\n\nChange-Id: I6f39e8d935195c611f668f71590e1d9ff52ced0d\n'}]",4,663541,79a57f67e67d739842722c850655b1f6fc7b4733,17,6,4,21692,,,0,"Map instance to its node

When receiving Nova notification instance.create.end,
map instance to its node after adding instance to datamodel.
Related-Bug: #1832156

Change-Id: I6f39e8d935195c611f668f71590e1d9ff52ced0d
",git fetch https://review.opendev.org/openstack/watcher refs/changes/41/663541/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/decision_engine/model/notification/nova.py', 'watcher/tests/decision_engine/model/notification/test_nova_notifications.py']",2,4f11e3ba1193262500cab8ff5dd15b7d8beb0484,bug/1832156," @mock.patch.object(nova_helper.NovaHelper, 'get_compute_node_by_hostname') def test_nova_instance_create(self, m_get_node): m_get_node.return_value = mock.Mock( id=3, hypervisor_hostname=""compute"", state='up', status='enabled', memory_mb=7777, vcpus=42, free_disk_gb=974, local_gb=1337) hostname = message['payload']['nova_object.data']['host'] node = compute_model.get_node_by_instance_uuid(instance0_uuid) self.assertEqual(hostname, node.hostname) ", def test_nova_instance_create(self):,20,2
openstack%2Fwatcher~master~I2cb24249ed1e82dd85c0f586532e5a7cbc57f2c0,openstack/watcher,master,I2cb24249ed1e82dd85c0f586532e5a7cbc57f2c0,typo ceilometer url,MERGED,2019-06-18 11:30:22.000000000,2019-06-19 02:44:57.000000000,2019-06-19 02:44:57.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-06-18 11:30:22.000000000', 'files': ['devstack/local.conf.controller'], 'web_link': 'https://opendev.org/openstack/watcher/commit/e4fc5a08ed33225d53ae906824ce4d0208f4e716', 'message': 'typo ceilometer url\n\nChange-Id: I2cb24249ed1e82dd85c0f586532e5a7cbc57f2c0\n'}]",0,665957,e4fc5a08ed33225d53ae906824ce4d0208f4e716,7,3,1,21692,,,0,"typo ceilometer url

Change-Id: I2cb24249ed1e82dd85c0f586532e5a7cbc57f2c0
",git fetch https://review.opendev.org/openstack/watcher refs/changes/57/665957/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/local.conf.controller'],1,e4fc5a08ed33225d53ae906824ce4d0208f4e716,typo_ceilometer,enable_plugin ceilometer https://opendev.org/openstack/ceilometer,enable_plugin ceilometer https://opendev.org.org/openstack/ceilometer,1,1
openstack%2Fwatcher-tempest-plugin~master~I8d0760ce4c44cafb004deb88b15185f140b9cb5d,openstack/watcher-tempest-plugin,master,I8d0760ce4c44cafb004deb88b15185f140b9cb5d,Switch to the new canonical constraints URL on master,MERGED,2019-06-14 11:52:58.000000000,2019-06-19 02:44:56.000000000,2019-06-19 02:44:56.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-06-14 11:52:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/046df8b8f9857140a7649f63d309a982874b0db0', 'message': 'Switch to the new canonical constraints URL on master\n\nReference:\n1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n2. https://review.opendev.org/#/c/601188\n\nChange-Id: I8d0760ce4c44cafb004deb88b15185f140b9cb5d\n'}]",0,665363,046df8b8f9857140a7649f63d309a982874b0db0,8,3,1,28748,,,0,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html
2. https://review.opendev.org/#/c/601188

Change-Id: I8d0760ce4c44cafb004deb88b15185f140b9cb5d
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/63/665363/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,046df8b8f9857140a7649f63d309a982874b0db0,,install_command = pip install {opts} {packages}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/test-requirements.txt,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages}deps = -r{toxinidir}/test-requirements.txt,4,2
openstack%2Faodh~stable%2Focata~I084959f672c33f942c732953ea039f975091499d,openstack/aodh,stable/ocata,I084959f672c33f942c732953ea039f975091499d,Remove jenkins user from post_test_hook.sh,MERGED,2018-11-08 17:59:30.000000000,2019-06-19 02:30:29.000000000,2019-06-19 02:30:29.000000000,"[{'_account_id': 1669}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-11-08 17:59:30.000000000', 'files': ['aodh/tests/functional/hooks/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/aodh/commit/e1e81328b6e1525eee5ae95a7641ef0b12d664ab', 'message': 'Remove jenkins user from post_test_hook.sh\n\naodh-dsvm-functional-mysql and aodh-dsvm-functional-postgresql jobs\nfail on stable/ocata with:\n  ""chown: invalid user: jenkins:jenkins""\n\nThis patch is only needed on stable/ocata as on newer branches does\nnot contain this post-test hook anymore.\n\nChange-Id: I084959f672c33f942c732953ea039f975091499d\n'}]",0,616648,e1e81328b6e1525eee5ae95a7641ef0b12d664ab,7,4,1,17685,,,0,"Remove jenkins user from post_test_hook.sh

aodh-dsvm-functional-mysql and aodh-dsvm-functional-postgresql jobs
fail on stable/ocata with:
  ""chown: invalid user: jenkins:jenkins""

This patch is only needed on stable/ocata as on newer branches does
not contain this post-test hook anymore.

Change-Id: I084959f672c33f942c732953ea039f975091499d
",git fetch https://review.opendev.org/openstack/aodh refs/changes/48/616648/1 && git format-patch -1 --stdout FETCH_HEAD,['aodh/tests/functional/hooks/post_test_hook.sh'],1,e1e81328b6e1525eee5ae95a7641ef0b12d664ab,, sudo chown $USER:$USER $BASE/logs/testrepository.subunit.gz $BASE/logs/testr_results.html.gz, sudo chown jenkins:jenkins $BASE/logs/testrepository.subunit.gz $BASE/logs/testr_results.html.gz,1,1
openstack%2Fswift~master~Ie1f8808c04f975ccc7cea532c4a566d6984f1757,openstack/swift,master,Ie1f8808c04f975ccc7cea532c4a566d6984f1757,"py3: increase _MAXHEADERS for eventlet, too",MERGED,2019-06-17 21:42:52.000000000,2019-06-19 02:26:57.000000000,2019-06-19 02:25:46.000000000,"[{'_account_id': 597}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 21:42:52.000000000', 'files': ['swift/common/bufferedhttp.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/876ce231d616530e036521ba7cac28373e722ce2', 'message': 'py3: increase _MAXHEADERS for eventlet, too\n\neventlet.wsgi goes straight to eventlet.green.* instead of stdlib.\n\nChange-Id: Ie1f8808c04f975ccc7cea532c4a566d6984f1757\n'}]",0,665770,876ce231d616530e036521ba7cac28373e722ce2,7,2,1,15343,,,0,"py3: increase _MAXHEADERS for eventlet, too

eventlet.wsgi goes straight to eventlet.green.* instead of stdlib.

Change-Id: Ie1f8808c04f975ccc7cea532c4a566d6984f1757
",git fetch https://review.opendev.org/openstack/swift refs/changes/70/665770/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/bufferedhttp.py'],1,876ce231d616530e036521ba7cac28373e722ce2,, from eventlet.green import httplib as green_httplib from eventlet.green.http import client as green_httplibgreen_httplib._MAXHEADERS = constraints.MAX_HEADER_COUNT * 1.6,,3,0
openstack%2Ftempest~master~I707aba930037e86f5f94dac73da957f5afacf935,openstack/tempest,master,I707aba930037e86f5f94dac73da957f5afacf935,Publish BLACKLIST on Tempest plugin registry page,MERGED,2019-05-23 09:44:49.000000000,2019-06-19 02:25:44.000000000,2019-06-19 02:25:44.000000000,"[{'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 25314}]","[{'number': 1, 'created': '2019-05-23 09:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ca6409c6f97fd4451b6c93c464c4dc22371ee9a4', 'message': 'Publish BLACKLIST on Tempest plugin registry page\n\nThis commit makes the BLACKLIST to be published on the Tempest plugin\nregistry page.\n\nChange-Id: I707aba930037e86f5f94dac73da957f5afacf935\n'}, {'number': 2, 'created': '2019-05-23 09:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5ba44d14622c3d5063d881f3e4cdbbd3a1398d24', 'message': 'Publish BLACKLIST on Tempest plugin registry page\n\nThis commit makes the BLACKLIST to be published on the Tempest plugin\nregistry page which we discussed at the PTG[0].\n\n[0] https://etherpad.openstack.org/p/qa-train-ptg\n\nChange-Id: I707aba930037e86f5f94dac73da957f5afacf935\n'}, {'number': 3, 'created': '2019-05-24 14:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9cdc19ebdbd6071cc8cb41e9822ef5674ee12880', 'message': 'Publish BLACKLIST on Tempest plugin registry page\n\nThis commit makes the BLACKLIST to be published on the Tempest plugin\nregistry page which we discussed at the PTG[0].\n\n[0] https://etherpad.openstack.org/p/qa-train-ptg\n\nChange-Id: I707aba930037e86f5f94dac73da957f5afacf935\n'}, {'number': 4, 'created': '2019-05-25 09:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1a0053827e51c5722241789155c78c0ddead092c', 'message': 'Publish BLACKLIST on Tempest plugin registry page\n\nThis commit makes the BLACKLIST to be published on the Tempest plugin\nregistry page which we discussed at the PTG[0].\n\n[0] https://etherpad.openstack.org/p/qa-train-ptg\n\nChange-Id: I707aba930037e86f5f94dac73da957f5afacf935\n'}, {'number': 5, 'created': '2019-05-30 04:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/61cc0e3f92b2fa243896934a6aabc2bbf08527fd', 'message': 'Publish BLACKLIST on Tempest plugin registry page\n\nThis commit makes the BLACKLIST to be published on the Tempest plugin\nregistry page which we discussed at the PTG[0].\n\n[0] https://etherpad.openstack.org/p/qa-train-ptg\n\nChange-Id: I707aba930037e86f5f94dac73da957f5afacf935\n'}, {'number': 6, 'created': '2019-06-12 02:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8df444cc6ca19c7601032f9f94f5a4d59df388f4', 'message': 'Publish BLACKLIST on Tempest plugin registry page\n\nThis commit makes the BLACKLIST to be published on the Tempest plugin\nregistry page which we discussed at the PTG[0].\n\n[0] https://etherpad.openstack.org/p/qa-train-ptg\n\nChange-Id: I707aba930037e86f5f94dac73da957f5afacf935\n'}, {'number': 7, 'created': '2019-06-13 02:58:37.000000000', 'files': ['tools/generate-tempest-plugins-list.sh', 'tools/generate-tempest-plugins-list.py', 'doc/source/data/tempest-blacklisted-plugins-registry.header', 'tools/tempest-plugin-sanity.sh'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ac8ae64d5b7e37bb49039bb381e95ec0b91c98b2', 'message': 'Publish BLACKLIST on Tempest plugin registry page\n\nThis commit makes the BLACKLIST to be published on the Tempest plugin\nregistry page which we discussed at the PTG[0].\n\n[0] https://etherpad.openstack.org/p/qa-train-ptg\n\nChange-Id: I707aba930037e86f5f94dac73da957f5afacf935\n'}]",10,660957,ac8ae64d5b7e37bb49039bb381e95ec0b91c98b2,26,5,7,5689,,,0,"Publish BLACKLIST on Tempest plugin registry page

This commit makes the BLACKLIST to be published on the Tempest plugin
registry page which we discussed at the PTG[0].

[0] https://etherpad.openstack.org/p/qa-train-ptg

Change-Id: I707aba930037e86f5f94dac73da957f5afacf935
",git fetch https://review.opendev.org/openstack/tempest refs/changes/57/660957/6 && git format-patch -1 --stdout FETCH_HEAD,"['tools/generate-tempest-plugins-list.sh', 'tools/generate-tempest-plugins-list.py', 'tools/tempest-plugin-sanity.sh']",3,ca6409c6f97fd4451b6c93c464c4dc22371ee9a4,tempest-sanity-gate,"BLACKLIST=""$(python tools/generate-tempest-plugins-list.py blacklist)""","# List of projects having tempest plugin stale or unmaintained for a long time # (6 months or more) # TODO(masayukig): Some of these can be removed from BLACKLIST in the future. # barbican-tempest-plugin: https://review.openstack.org/#/c/634631/ # cyborg-tempest-plugin: https://review.opendev.org/659687 # intel-nfv-ci-tests: https://review.openstack.org/#/c/634640/ # networking-ansible: https://review.openstack.org/#/c/634647/ # networking-generic-switch: https://review.openstack.org/#/c/634846/ # networking-l2gw-tempest-plugin: https://review.openstack.org/#/c/635093/ # networking-midonet: https://review.openstack.org/#/c/635096/ # networking-plumgrid: https://review.openstack.org/#/c/635096/ # networking-spp: https://review.openstack.org/#/c/635098/ # neutron-dynamic-routing: https://review.openstack.org/#/c/637718/ # neutron-vpnaas: https://review.openstack.org/#/c/637719/ # nova-lxd: https://review.openstack.org/#/c/638334/ # valet: https://review.openstack.org/#/c/638339/ # vitrage-tempest-plugin: https://review.openstack.org/#/c/639003/ BLACKLIST="" barbican-tempest-plugin cyborg-tempest-plugin intel-nfv-ci-tests networking-ansible networking-generic-switch networking-l2gw-tempest-plugin networking-midonet networking-plumgrid networking-spp neutron-dynamic-routing neutron-vpnaas nova-lxd valet vitrage-tempest-plugin """,65,33
openstack%2Ftempest~master~Ie2f973e3868ffdb19c34b59b9d5f10ffd0acb672,openstack/tempest,master,Ie2f973e3868ffdb19c34b59b9d5f10ffd0acb672,Fix region leaks after testing endpoints,MERGED,2019-06-02 19:52:01.000000000,2019-06-19 02:25:42.000000000,2019-06-19 02:25:42.000000000,"[{'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 11692}, {'_account_id': 14743}, {'_account_id': 14749}, {'_account_id': 16590}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-06-02 19:52:01.000000000', 'files': ['tempest/api/identity/admin/v3/test_endpoints_negative.py', 'tempest/api/identity/admin/v3/test_endpoints.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1a457ac530a24968212865d594ec87943d883d9d', 'message': 'Fix region leaks after testing endpoints\n\nIt removes 7 remaining regions after running tempest_full via OPNFV\nFunctest [1].\n\n[1] https://build.opnfv.org/ci/job/functest-opnfv-functest-smoke-latest-tempest_full-run/211/console\n\nChange-Id: Ie2f973e3868ffdb19c34b59b9d5f10ffd0acb672\nSigned-off-by: Cdric Ollivier <ollivier.cedric@gmail.com>\n'}]",4,662644,1a457ac530a24968212865d594ec87943d883d9d,14,9,1,11692,,,0,"Fix region leaks after testing endpoints

It removes 7 remaining regions after running tempest_full via OPNFV
Functest [1].

[1] https://build.opnfv.org/ci/job/functest-opnfv-functest-smoke-latest-tempest_full-run/211/console

Change-Id: Ie2f973e3868ffdb19c34b59b9d5f10ffd0acb672
Signed-off-by: Cdric Ollivier <ollivier.cedric@gmail.com>
",git fetch https://review.opendev.org/openstack/tempest refs/changes/44/662644/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/identity/admin/v3/test_endpoints_negative.py', 'tempest/api/identity/admin/v3/test_endpoints.py']",2,1a457ac530a24968212865d594ec87943d883d9d,," region_name = data_utils.rand_name('region') url=url, region=region_name, enabled=True)['endpoint'] region = cls.regions_client.show_region(region_name)['region'] cls.addClassResourceCleanup( cls.regions_client.delete_region, region['id']) region_name = data_utils.rand_name('region') url=url, region=region_name, region = self.regions_client.show_region(region_name)['region'] self.addCleanup(self.regions_client.delete_region, region['id']) self.assertEqual(region_name, endpoint['region']) self.assertEqual(region_name, fetched_endpoint['region']) region1_name = data_utils.rand_name('region') url=url1, region=region1_name, region1 = self.regions_client.show_region(region1_name)['region'] self.addCleanup(self.regions_client.delete_region, region1['id']) region2_name = data_utils.rand_name('region') url=url2, region=region2_name, region2 = self.regions_client.show_region(region2_name)['region'] self.addCleanup(self.regions_client.delete_region, region2['id']) self.addCleanup(self.client.delete_endpoint, endpoint_for_update['id']) self.assertEqual(region2_name, endpoint['region'])"," region = data_utils.rand_name('region') url=url, region=region, enabled=True)['endpoint'] region = data_utils.rand_name('region') url=url, region=region, self.assertEqual(region, endpoint['region']) self.assertEqual(region, fetched_endpoint['region']) region1 = data_utils.rand_name('region') url=url1, region=region1, self.addCleanup(self.client.delete_endpoint, endpoint_for_update['id']) region2 = data_utils.rand_name('region') url=url2, region=region2, self.assertEqual(region2, endpoint['region'])",26,14
openstack%2Fwatcher-dashboard~master~I011457f4f2548d14ebea0e7671c34ec53ec86461,openstack/watcher-dashboard,master,I011457f4f2548d14ebea0e7671c34ec53ec86461,Switch to the new canonical constraints URL on master,MERGED,2019-06-14 12:00:50.000000000,2019-06-19 02:16:16.000000000,2019-06-19 02:16:16.000000000,"[{'_account_id': 6873}, {'_account_id': 17499}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-06-14 12:00:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/d1d36ca9ca5236fe570ee59762e1086a81dd9c76', 'message': 'Switch to the new canonical constraints URL on master\n\nReference:\n1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n2. https://review.opendev.org/#/c/601188\n\nChange-Id: I011457f4f2548d14ebea0e7671c34ec53ec86461\n'}]",0,665364,d1d36ca9ca5236fe570ee59762e1086a81dd9c76,10,6,1,28748,,,0,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html
2. https://review.opendev.org/#/c/601188

Change-Id: I011457f4f2548d14ebea0e7671c34ec53ec86461
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/64/665364/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d1d36ca9ca5236fe570ee59762e1086a81dd9c76,, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fwatcher-specs~master~I87a908e1965fe9a0785329533eab7b9ce2ded8cb,openstack/watcher-specs,master,I87a908e1965fe9a0785329533eab7b9ce2ded8cb,Switch to the new canonical constraints URL on master,MERGED,2019-06-14 12:06:03.000000000,2019-06-19 02:03:43.000000000,2019-06-19 02:03:43.000000000,"[{'_account_id': 6873}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-06-14 12:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/0d79d5b1f016068b5a487eee6b7b25931c51ae63', 'message': 'Switch to the new canonical constraints URL on master\n\nReference:\n1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n2. https://review.opendev.org/#/c/601188\n\nChange-Id: I87a908e1965fe9a0785329533eab7b9ce2ded8cb\n'}, {'number': 2, 'created': '2019-06-17 14:14:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/5360e76c66201221817b1f7a136946e1b83fcb95', 'message': 'Switch to the new canonical constraints URL on master\n\nReference:\n1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n2. https://review.opendev.org/#/c/601188\n\nChange-Id: I87a908e1965fe9a0785329533eab7b9ce2ded8cb\n'}]",0,665366,5360e76c66201221817b1f7a136946e1b83fcb95,10,4,2,28748,,,0,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html
2. https://review.opendev.org/#/c/601188

Change-Id: I87a908e1965fe9a0785329533eab7b9ce2ded8cb
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/66/665366/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0d79d5b1f016068b5a487eee6b7b25931c51ae63,,install_command = pip install {opts} {packages} deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/test-requirements.txt,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages} deps = -r{toxinidir}/test-requirements.txt,3,2
openstack%2Fkolla-ansible~master~Iad3e906af325ba3209a77a91ab2061e515b4a219,openstack/kolla-ansible,master,Iad3e906af325ba3209a77a91ab2061e515b4a219,Update service_provider for FWaaS v2,MERGED,2019-05-28 09:20:40.000000000,2019-06-19 02:01:55.000000000,2019-06-13 19:24:21.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-05-28 09:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/df8dda07d4dcf56e1d75a3dacaf30513281bfe23', 'message': ""Update service_provider for FWaaS v2\n\nAs described in document [1], the service_provider should be set to 'FIREWALL_V2:fwaas_db:neutron_fwaas.services.firewall.service_drivers.agents.agents.FirewallAgentDriver:default' for FWaaS v2.\n\n[1] https://docs.openstack.org/neutron/stein/admin/fwaas-v2-scenario.html#enable-fwaas-v2\n\nChange-Id: Iad3e906af325ba3209a77a91ab2061e515b4a219\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\n""}, {'number': 2, 'created': '2019-05-28 09:27:39.000000000', 'files': ['ansible/roles/neutron/templates/fwaas_driver.ini.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b374ea33e4c90bb393c062e97737b90fd2bc455c', 'message': ""Update service_provider for FWaaS v2\n\nAs described in document [1], the service_provider should be set to\n'FIREWALL_V2:fwaas_db:neutron_fwaas.services.firewall.service_drivers.\nagents.agents.FirewallAgentDriver:default' for FWaaS v2.\n\n[1] https://docs.openstack.org/neutron/stein/admin/fwaas-v2-scenario.html#enable-fwaas-v2\n\nChange-Id: Iad3e906af325ba3209a77a91ab2061e515b4a219\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\n""}]",0,661704,b374ea33e4c90bb393c062e97737b90fd2bc455c,12,3,2,28367,,,0,"Update service_provider for FWaaS v2

As described in document [1], the service_provider should be set to
'FIREWALL_V2:fwaas_db:neutron_fwaas.services.firewall.service_drivers.
agents.agents.FirewallAgentDriver:default' for FWaaS v2.

[1] https://docs.openstack.org/neutron/stein/admin/fwaas-v2-scenario.html#enable-fwaas-v2

Change-Id: Iad3e906af325ba3209a77a91ab2061e515b4a219
Signed-off-by: ZijianGuo <guozijn@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/04/661704/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/templates/fwaas_driver.ini.j2'],1,df8dda07d4dcf56e1d75a3dacaf30513281bfe23,fwaas-v2,{% if neutron_fwaas_version == 'v1' %}{% elif neutron_fwaas_version == 'v2' %} service_provider = FIREWALL_V2:fwaas_db:neutron_fwaas.services.firewall.service_drivers.agents.agents.FirewallAgentDriver:default {% endif %},,4,0
openstack%2Fheat~master~I14b8e4d652fd9f8a15b4c1eb8b4dd40aa0280262,openstack/heat,master,I14b8e4d652fd9f8a15b4c1eb8b4dd40aa0280262,Please review new patch set,ABANDONED,2019-06-18 23:17:08.000000000,2019-06-19 01:46:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-18 23:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8f53e94399ee97eefc029a835fe46d9a06277968', 'message': 'Please review new patch set\n\nFailing pep8 check Unrelated. addressed here -> https://review.opendev.org/#/c/666168/1\n\nChange-Id: I14b8e4d652fd9f8a15b4c1eb8b4dd40aa0280262\n'}]",0,666191,8f53e94399ee97eefc029a835fe46d9a06277968,3,1,1,30447,,,0,"Please review new patch set

Failing pep8 check Unrelated. addressed here -> https://review.opendev.org/#/c/666168/1

Change-Id: I14b8e4d652fd9f8a15b4c1eb8b4dd40aa0280262
",git fetch https://review.opendev.org/openstack/heat refs/changes/91/666191/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,8f53e94399ee97eefc029a835fe46d9a06277968,aodh-lbmemberhealth-alarm,,,0,0
openstack%2Fnova~master~I00ee0bd99c4f31a2b73fc69373fefb56740f5425,openstack/nova,master,I00ee0bd99c4f31a2b73fc69373fefb56740f5425,Log quota legacy method warning only if counting from placement,MERGED,2019-06-17 21:24:28.000000000,2019-06-19 01:45:33.000000000,2019-06-19 01:45:33.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-17 21:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c0be72a3eb074d8127c9c3a40ad8ac72d5d0d85', 'message': 'Log quota legacy method warning only if counting from placement\n\nThe log warning message is being emitted unconditionally and should be\nlimited to only when CONF.quota.count_usage_from_placement = True.\n\nThis fixes the issue and adds missing unit test coverage that would\nhave caught it.\n\nCloses-Bug: #1833130\n\nChange-Id: I00ee0bd99c4f31a2b73fc69373fefb56740f5425\n'}, {'number': 2, 'created': '2019-06-17 21:32:29.000000000', 'files': ['nova/tests/unit/test_quota.py', 'nova/quota.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/818c31f96e773a47a6fcbf084e13933865fdac80', 'message': 'Log quota legacy method warning only if counting from placement\n\nThe log warning message is being emitted unconditionally and should be\nlimited to only when CONF.quota.count_usage_from_placement = True.\n\nThis fixes the issue and adds missing unit test coverage that would\nhave caught it.\n\nCloses-Bug: #1833130\n\nChange-Id: I00ee0bd99c4f31a2b73fc69373fefb56740f5425\n'}]",2,665765,818c31f96e773a47a6fcbf084e13933865fdac80,21,14,2,4690,,,0,"Log quota legacy method warning only if counting from placement

The log warning message is being emitted unconditionally and should be
limited to only when CONF.quota.count_usage_from_placement = True.

This fixes the issue and adds missing unit test coverage that would
have caught it.

Closes-Bug: #1833130

Change-Id: I00ee0bd99c4f31a2b73fc69373fefb56740f5425
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/665765/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_quota.py', 'nova/quota.py']",2,2c0be72a3eb074d8127c9c3a40ad8ac72d5d0d85,bug/1833130," else: LOG.warning('Falling back to legacy quota counting method for ' 'instances, cores, and ram')"," LOG.warning('Falling back to legacy quota counting method for instances, ' 'cores, and ram')",5,2
openstack%2Fpython-openstackclient~master~I036aa75414c39194ed0c964d64aae08db37ba278,openstack/python-openstackclient,master,I036aa75414c39194ed0c964d64aae08db37ba278,Client should parse string to boolean for valuse 'is_domain',ABANDONED,2019-05-20 07:25:25.000000000,2019-06-19 01:39:13.000000000,,"[{'_account_id': 12860}, {'_account_id': 22348}, {'_account_id': 25314}, {'_account_id': 25564}, {'_account_id': 30427}]","[{'number': 1, 'created': '2019-05-20 07:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1ae7e20192ea39a9f01cef9cd4ac6b7951ed0f24', 'message': 'Client should parse string to boolean for valuse \'is_domain\'\n\nWhen we use ""--property"" parameter, client get lists these the\nvalue is string type, but the type of the valuse \'is_domain\'\nshould be boolean, so we should judge it and parse it.\nThe patch parse string to boolean for valuse \'is_domain\'.\n\nChange-Id: I036aa75414c39194ed0c964d64aae08db37ba278\nTask: 30039\nStory: 2005246\n'}, {'number': 2, 'created': '2019-05-20 08:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f7d6d22f146f2930535dabce484d3be813e01bc2', 'message': 'Client should parse string to boolean for valuse \'is_domain\'\n\nWhen we use ""--property"" parameter, client get lists these the\nvalue is string type, but the type of the valuse \'is_domain\'\nshould be boolean, so we should judge it and parse it.\nThe patch parse string to boolean for valuse \'is_domain\'.\n\nChange-Id: I036aa75414c39194ed0c964d64aae08db37ba278\nTask: 30039\nStory: 2005246\n'}, {'number': 3, 'created': '2019-05-20 10:10:26.000000000', 'files': ['openstackclient/identity/v3/project.py', 'openstackclient/identity/v2_0/project.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/af80ed80115bcf420d6e65d6dba96c0c70f10f6e', 'message': 'Client should parse string to boolean for valuse \'is_domain\'\n\nWhen we use ""--property"" parameter, client get lists these the\nvalue is string type, but the type of the valuse \'is_domain\'\nshould be boolean, so we should judge it and parse it.\nThe patch parse string to boolean for valuse \'is_domain\'.\n\nChange-Id: I036aa75414c39194ed0c964d64aae08db37ba278\nTask: 30039\nStory: 2005246\n'}]",1,660038,af80ed80115bcf420d6e65d6dba96c0c70f10f6e,13,5,3,25564,,,0,"Client should parse string to boolean for valuse 'is_domain'

When we use ""--property"" parameter, client get lists these the
value is string type, but the type of the valuse 'is_domain'
should be boolean, so we should judge it and parse it.
The patch parse string to boolean for valuse 'is_domain'.

Change-Id: I036aa75414c39194ed0c964d64aae08db37ba278
Task: 30039
Story: 2005246
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/38/660038/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/identity/v3/project.py', 'openstackclient/identity/v2_0/project.py']",2,1ae7e20192ea39a9f01cef9cd4ac6b7951ed0f24,story/2005246," if kwargs.get('is_domain').lower() == ""true"": kwargs['is_domain'] = True if kwargs.get('is_domain').lower() == ""false"": kwargs['is_domain'] = False if kwargs.get('is_domain').lower() == ""none"": kwargs['is_domain'] = None",,13,0
openstack%2Fneutron~master~I4275779bd8d353fbaa80c646515819b0a34edebb,openstack/neutron,master,I4275779bd8d353fbaa80c646515819b0a34edebb,segments: Fix resource provider inventories update,MERGED,2019-06-07 15:25:02.000000000,2019-06-19 01:37:37.000000000,2019-06-19 01:37:37.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-07 15:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfbe336c067710d6695d0984022d9f562cd31e9c', 'message': 'segments: Fix resource provider inventories update\n\nRelated-Bug: #1828543\nDepends-On: https://review.opendev.org/663978\nChange-Id: I4275779bd8d353fbaa80c646515819b0a34edebb\n'}, {'number': 2, 'created': '2019-06-11 14:53:26.000000000', 'files': ['neutron/services/segments/plugin.py', 'neutron/tests/unit/extensions/test_segment.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/95023227b77b72382fdbb06bddadf832b1f20f8f', 'message': 'segments: Fix resource provider inventories update\n\nRelated-Bug: #1828543\nDepends-On: https://review.opendev.org/663978\nChange-Id: I4275779bd8d353fbaa80c646515819b0a34edebb\n'}]",0,663980,95023227b77b72382fdbb06bddadf832b1f20f8f,14,6,2,8313,,,0,"segments: Fix resource provider inventories update

Related-Bug: #1828543
Depends-On: https://review.opendev.org/663978
Change-Id: I4275779bd8d353fbaa80c646515819b0a34edebb
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/663980/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/segments/plugin.py'],1,dfbe336c067710d6695d0984022d9f562cd31e9c,bug/1828543," ipv4_inventory = { IPV4_RESOURCE_CLASS: { 'total': total, 'reserved': reserved, 'min_unit': 1, 'max_unit': 1, 'step_size': 1, 'allocation_ratio': 1.0, } }"," ipv4_inventory = {'total': total, 'reserved': reserved, 'min_unit': 1, 'max_unit': 1, 'step_size': 1, 'allocation_ratio': 1.0, 'resource_class': IPV4_RESOURCE_CLASS}",6,4
openstack%2Fopenstack-ansible-os_monasca-agent~master~I73398d6e5ea2f2b4dde058f0cbb5855f36793fc1,openstack/openstack-ansible-os_monasca-agent,master,I73398d6e5ea2f2b4dde058f0cbb5855f36793fc1,Cap sphinx for py2 to match global requirements,ABANDONED,2019-06-07 02:04:20.000000000,2019-06-19 01:28:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-07 02:04:20.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_monasca-agent/commit/43f3d36abde4b79c305ed2446501d9f5d76919b9', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I73398d6e5ea2f2b4dde058f0cbb5855f36793fc1\n'}]",0,663817,43f3d36abde4b79c305ed2446501d9f5d76919b9,3,1,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I73398d6e5ea2f2b4dde058f0cbb5855f36793fc1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_monasca-agent refs/changes/17/663817/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,43f3d36abde4b79c305ed2446501d9f5d76919b9,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fneutron~master~Ibb8d6bcce7f0fe1070b9eeb2ad632dfb58a3a015,openstack/neutron,master,Ibb8d6bcce7f0fe1070b9eeb2ad632dfb58a3a015,Force segments to use placement 1.1,MERGED,2019-06-07 15:25:02.000000000,2019-06-19 01:27:31.000000000,2019-06-19 01:27:31.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11564}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-07 15:25:02.000000000', 'files': ['neutron/services/segments/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/62f55a12b053b753616747445bc9e3aa0e5e72d9', 'message': 'Force segments to use placement 1.1\n\nBy documentation segments plugin was designed to use placement\nmicroversion 1.1, force to use that.\n\nChange-Id: Ibb8d6bcce7f0fe1070b9eeb2ad632dfb58a3a015\nDepends-On: https://review.opendev.org/663978\nRelated-Bug: #1828543\n'}]",0,663979,62f55a12b053b753616747445bc9e3aa0e5e72d9,30,8,1,8313,,,0,"Force segments to use placement 1.1

By documentation segments plugin was designed to use placement
microversion 1.1, force to use that.

Change-Id: Ibb8d6bcce7f0fe1070b9eeb2ad632dfb58a3a015
Depends-On: https://review.opendev.org/663978
Related-Bug: #1828543
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/663979/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/segments/plugin.py'],1,62f55a12b053b753616747445bc9e3aa0e5e72d9,bug/1828543," p_client = placement_client.PlacementAPIClient( cfg.CONF, openstack_api_version='placement 1.1')", p_client = placement_client.PlacementAPIClient(cfg.CONF),2,1
openstack%2Fpuppet-tripleo~master~I92a1d154e6e03d1bd4ce90a53b5c829de30902eb,openstack/puppet-tripleo,master,I92a1d154e6e03d1bd4ce90a53b5c829de30902eb,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-06-18 07:52:48.000000000,2019-06-19 01:05:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-18 07:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6fc7b05e1373f997aca202944d2b55bbda446a0c', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I92a1d154e6e03d1bd4ce90a53b5c829de30902eb\n'}, {'number': 2, 'created': '2019-06-18 08:20:51.000000000', 'files': ['Gemfile', 'tox.ini', 'README.md'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/64347e0817971342787db1d76675af951d28b126', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I92a1d154e6e03d1bd4ce90a53b5c829de30902eb\n'}]",0,665898,64347e0817971342787db1d76675af951d28b126,5,2,2,27565,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I92a1d154e6e03d1bd4ce90a53b5c829de30902eb
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/98/665898/1 && git format-patch -1 --stdout FETCH_HEAD,"['Gemfile', 'tox.ini', 'README.md']",3,6fc7b05e1373f997aca202944d2b55bbda446a0c,,* Source: https://opendev.org/openstack/puppet-openstack_spec_helper,* Source: http://git.openstack.org/cgit/openstack/puppet-tripleo,3,3
openstack%2Fpuppet-crane~master~I0c599edf2323b5dc37bb27a8c9c59bf11d44a3e5,openstack/puppet-crane,master,I0c599edf2323b5dc37bb27a8c9c59bf11d44a3e5,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-06-18 08:10:49.000000000,2019-06-19 00:59:15.000000000,,[],"[{'number': 1, 'created': '2019-06-18 08:10:49.000000000', 'files': ['Gemfile', 'tox.ini', 'README.md'], 'web_link': 'https://opendev.org/openstack/puppet-crane/commit/a16aa002df5f260f2ed55e732bf11c470b32b2ca', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I0c599edf2323b5dc37bb27a8c9c59bf11d44a3e5\n'}]",0,665903,a16aa002df5f260f2ed55e732bf11c470b32b2ca,2,0,1,27565,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I0c599edf2323b5dc37bb27a8c9c59bf11d44a3e5
",git fetch https://review.opendev.org/openstack/puppet-crane refs/changes/03/665903/1 && git format-patch -1 --stdout FETCH_HEAD,"['Gemfile', 'tox.ini', 'README.md']",3,a16aa002df5f260f2ed55e732bf11c470b32b2ca,,* https://opendev.org/openstack/puppet-crane/,* https://git.openstack.org/cgit/openstack/puppet-crane,3,3
openstack%2Fopenstack-helm-infra~master~I22e84f5d87aec90ad787a61b152062452867bc17,openstack/openstack-helm-infra,master,I22e84f5d87aec90ad787a61b152062452867bc17,Fix indent,MERGED,2019-06-16 04:58:31.000000000,2019-06-19 00:17:02.000000000,2019-06-19 00:17:02.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 29668}]","[{'number': 1, 'created': '2019-06-16 04:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d75e8b2be2a8dcd324b68e75c86de95dc20c9ff1', 'message': 'Fix indent\n\nWhile reviewing [0], found incorrect indentations in YAML.\nThis patch set redresses the indentation problems.\n\n[0] https://review.opendev.org/#/c/665524/2/ceph-osd/templates/daemonset-osd.yaml\n\nChange-Id: I22e84f5d87aec90ad787a61b152062452867bc17\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2019-06-18 00:49:20.000000000', 'files': ['ceph-osd/templates/daemonset-osd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/afb4c3afabc790fef17221c666690646f594805c', 'message': 'Fix indent\n\nWhile reviewing [0], found incorrect indentations in YAML.\nThis patch set redresses the indentation problems.\n\n[0] https://review.opendev.org/#/c/665524/2/ceph-osd/templates/daemonset-osd.yaml\n\nChange-Id: I22e84f5d87aec90ad787a61b152062452867bc17\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,665531,afb4c3afabc790fef17221c666690646f594805c,23,6,2,20466,,,0,"Fix indent

While reviewing [0], found incorrect indentations in YAML.
This patch set redresses the indentation problems.

[0] https://review.opendev.org/#/c/665524/2/ceph-osd/templates/daemonset-osd.yaml

Change-Id: I22e84f5d87aec90ad787a61b152062452867bc17
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/31/665531/2 && git format-patch -1 --stdout FETCH_HEAD,['ceph-osd/templates/daemonset-osd.yaml'],1,d75e8b2be2a8dcd324b68e75c86de95dc20c9ff1,fix-indent, exec: command: - /tmp/osd-check.sh - liveness initialDelaySeconds: 120 periodSeconds: 60 readinessProbe: exec: command: - /tmp/osd-check.sh - readiness initialDelaySeconds: 60 periodSeconds: 60, exec: command: - /tmp/osd-check.sh - liveness initialDelaySeconds: 120 periodSeconds: 60 readinessProbe: exec: command: - /tmp/osd-check.sh - readiness initialDelaySeconds: 60 periodSeconds: 60,12,12
openstack%2Fopenstack-helm-infra~master~I00c68026af25d8c5af37fcb3a6e1bb0e2da13e1e,openstack/openstack-helm-infra,master,I00c68026af25d8c5af37fcb3a6e1bb0e2da13e1e,htk: provide default domain env and secrets,MERGED,2019-06-04 09:52:46.000000000,2019-06-19 00:17:01.000000000,2019-06-19 00:17:01.000000000,"[{'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-04 09:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/82abf686707e7495054acfc70fa987015e440a15', 'message': 'htk: provide default domain env and secrets\n\nWe currently do not provide any env or secrets for the\ndefault domain id for keystone\n\nThis makes it so we provide both like any other vars\n\nChange-Id: I00c68026af25d8c5af37fcb3a6e1bb0e2da13e1e\n'}, {'number': 2, 'created': '2019-06-04 11:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d0b4faf5ce5d3435a891af92ffa1a275ff17c0e0', 'message': 'htk: provide default domain env and secrets\n\nWe currently do not provide any env or secrets for the\ndefault domain id for keystone\n\nThis makes it so we provide both like any other vars\n\nIt also includes the key default_domain_id in gnocci\nchart as without it it wont even lint\n\nChange-Id: I00c68026af25d8c5af37fcb3a6e1bb0e2da13e1e\n'}, {'number': 3, 'created': '2019-06-04 12:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/673fb98b7dae6d2cd42b10e077328f9394515ab7', 'message': 'htk: provide default domain env and secrets\n\nWe currently do not provide any env or secrets for the\ndefault domain id for keystone\n\nThis makes it so we provide both like any other vars\n\nIt also includes the key default_domain_id in gnocci\nand kubernetes-keystone-webhook chart as without it\nthey would fail\n\nChange-Id: I00c68026af25d8c5af37fcb3a6e1bb0e2da13e1e\n'}, {'number': 4, 'created': '2019-06-04 12:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6e5aa217bf5e37252cf76601d58ed303b1e3952d', 'message': 'htk: provide default domain env and secrets\n\nWe currently do not provide any env or secrets for the\ndefault domain id for keystone\n\nThis makes it so we provide both like any other vars\n\nIt also includes the key default_domain_id in gnocci,\nkubernetes-keystone-webhook, ceph-rgw and\nprometheus-openstack-exporter charts as they require it\n\nChange-Id: I00c68026af25d8c5af37fcb3a6e1bb0e2da13e1e\n'}, {'number': 5, 'created': '2019-06-04 12:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/65039823f5a0a1e6702963c9648a4375891a8607', 'message': 'htk: provide default domain env and secrets\n\nWe currently do not provide any env or secrets for the\ndefault domain id for keystone\n\nThis makes it so we provide both like any other vars\n\nChange-Id: I00c68026af25d8c5af37fcb3a6e1bb0e2da13e1e\n'}, {'number': 6, 'created': '2019-06-18 21:51:24.000000000', 'files': ['helm-toolkit/templates/snippets/_keystone_openrc_env_vars.tpl', 'helm-toolkit/templates/snippets/_keystone_secret_openrc.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/565fb4606b54444f4ea126a598ec0519c8aec75c', 'message': 'htk: provide default domain env and secrets\n\nWe currently do not provide any env or secrets for the\ndefault domain id for keystone\n\nThis makes it so we provide both like any other vars\n\nChange-Id: I00c68026af25d8c5af37fcb3a6e1bb0e2da13e1e\n'}]",0,662992,565fb4606b54444f4ea126a598ec0519c8aec75c,20,5,6,12281,,,0,"htk: provide default domain env and secrets

We currently do not provide any env or secrets for the
default domain id for keystone

This makes it so we provide both like any other vars

Change-Id: I00c68026af25d8c5af37fcb3a6e1bb0e2da13e1e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/92/662992/5 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/snippets/_keystone_openrc_env_vars.tpl', 'helm-toolkit/templates/snippets/_keystone_secret_openrc.tpl']",2,82abf686707e7495054acfc70fa987015e440a15,provide_default_domain_env_vars,OS_DEFAULT_DOMAIN: {{ $userContext.default_domain_id | b64enc }},,6,0
openstack%2Fkolla-ansible~master~I5dddf2b0839adcfc5bad3d0b35a5e588228f14bc,openstack/kolla-ansible,master,I5dddf2b0839adcfc5bad3d0b35a5e588228f14bc,Modify influxdb maximum data receipt by http,ABANDONED,2019-06-18 02:16:52.000000000,2019-06-19 00:16:36.000000000,,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-18 02:16:52.000000000', 'files': ['ansible/roles/influxdb/templates/influxdb.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4798296d71639bedec8e1f67d94ac3697480ea10', 'message': 'Modify influxdb maximum data receipt by http\n\nBecause the influxdb restart or network jitter results in data\naccumulation of telegraf, which exceeds the maximum amount of data\nreceived by http, it is impossible to upload data forever. It is\nrecommended that the maximum amount of data received be set to\nunlimited.\n\nChange-Id: I5dddf2b0839adcfc5bad3d0b35a5e588228f14bc\n'}]",0,665845,4798296d71639bedec8e1f67d94ac3697480ea10,5,3,1,27565,,,0,"Modify influxdb maximum data receipt by http

Because the influxdb restart or network jitter results in data
accumulation of telegraf, which exceeds the maximum amount of data
received by http, it is impossible to upload data forever. It is
recommended that the maximum amount of data received be set to
unlimited.

Change-Id: I5dddf2b0839adcfc5bad3d0b35a5e588228f14bc
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/45/665845/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/influxdb/templates/influxdb.conf.j2'],1,4798296d71639bedec8e1f67d94ac3697480ea10,, max-body-size = 0,,1,0
openstack%2Foctavia~stable%2Fqueens~I20572505e448f9b7ff6314b5167cc4c519c445fb,openstack/octavia,stable/queens,I20572505e448f9b7ff6314b5167cc4c519c445fb,Fix allocate_and_associate DB deadlock,MERGED,2019-06-16 19:32:36.000000000,2019-06-19 00:00:30.000000000,2019-06-19 00:00:30.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-16 19:32:36.000000000', 'files': ['octavia/db/repositories.py', 'releasenotes/notes/Fix-allocate_and_associate-deadlock-3ff1464421c1d464.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a96b00b4dfdd6ac3643149149ed5141a9fbc68cd', 'message': 'Fix allocate_and_associate DB deadlock\n\nIn testing we saw a DB deadlock in allocate_and_associate.\nThis patch corrects that with a DB retry wrapper.\n\nChange-Id: I20572505e448f9b7ff6314b5167cc4c519c445fb\nStory: 2005893\nTask: 33751\n(cherry picked from commit 0eaab450c12e33f277c31098a6792421d3f5806c)\n'}]",0,665558,a96b00b4dfdd6ac3643149149ed5141a9fbc68cd,13,4,1,11628,,,0,"Fix allocate_and_associate DB deadlock

In testing we saw a DB deadlock in allocate_and_associate.
This patch corrects that with a DB retry wrapper.

Change-Id: I20572505e448f9b7ff6314b5167cc4c519c445fb
Story: 2005893
Task: 33751
(cherry picked from commit 0eaab450c12e33f277c31098a6792421d3f5806c)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/58/665558/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/db/repositories.py', 'releasenotes/notes/Fix-allocate_and_associate-deadlock-3ff1464421c1d464.yaml']",2,a96b00b4dfdd6ac3643149149ed5141a9fbc68cd,,--- fixes: - | Fixes a potential DB deadlock in allocate_and_associate found in testing. ,,5,0
openstack%2Fopenstack-ansible~stable%2Frocky~I3bd2df52301a6c3c7a12266cf24859a798e95ed7,openstack/openstack-ansible,stable/rocky,I3bd2df52301a6c3c7a12266cf24859a798e95ed7,Bump SHAs for stable/rocky,MERGED,2019-06-16 14:14:35.000000000,2019-06-18 23:56:03.000000000,2019-06-18 23:56:03.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-16 14:14:35.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a913e2e7dfc82ff6889d4ec4225ae35573ace5cd', 'message': 'Bump SHAs for stable/rocky\n\nChange-Id: I3bd2df52301a6c3c7a12266cf24859a798e95ed7\n'}]",0,665542,a913e2e7dfc82ff6889d4ec4225ae35573ace5cd,12,3,1,17068,,,0,"Bump SHAs for stable/rocky

Change-Id: I3bd2df52301a6c3c7a12266cf24859a798e95ed7
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/42/665542/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml']",3,a913e2e7dfc82ff6889d4ec4225ae35573ace5cd,bump_osa, version: 50977e4921e5a86d0abc3e70b5db0ab2f5273246 version: a0f1059331d6de4c8b0b7d10b89ddba7e8c202ef version: 71f3d9515efd5833f95f8c05a0a01886149b4dbd version: f551e6a51d6b4e80bca95e2dd030103883ce438a version: c2ef8527489f6104d5034a38753cb4a26018f027 version: 4441f2c828cb34c5c4677a333e0319d4aa411a19 version: c2cd6dc4babb68c6164ff3002e903c298f50c0e7 version: fcd735935b881475cf627ae7264d2ebaf7554ede version: 16aedf1d761b6174797288fedc55eba5972ba96a version: 7a77d971552b1b29f25cb64f705c931dc0fffa52 version: 8703d6a232b3a017a5f0f6e74aa4cd8c0d09b1d5 version: ba8c15f39d6fd541c7d6acacadacceac2d22e2bd version: 52a70e898b71247d59623d4559b3bda748b22be6 version: 2d9d5ebc231a60cd6467d3c278e900dc9308c29d version: cc75435835c2dbdd159ba0def69bc0e7096aa0ed version: a2f327ae21d36efc884dcf0136f14d28e21106b2 version: 113c6bbdaa9a873e37810971c233e3307eb77953 version: 9d883ecfcc4da663772187d025d12d4b0b28966c version: d9b3b3e2312b8d1dd825901dbbafeae85ab1f1b3 version: 8cfb1ffd6eda7bb33691fb907cb693b5eefe5a42 version: 39b1624ec5d46c4eecbdc39cce8f484516909075 version: a9f084818681d297d7a862899ce1c0f8d2701f91 version: e74b7477b8dd6968eb233da3cc6a796cbfa00e5e version: 9ebde5b0dcce0df84c56af48c330a38a3b4ec667 version: 21b4ff491383a0be15a2bbd83568b0d3956ff49c version: 27ea89b839faa60376a0973906ae8b77edec8af9 version: baaf97d1bab78ca55f1eb44c2f7bee895fc2b041 version: 4cb1eacbaf7d6f3b594459eae70a07a9a004e9d6 version: 557c6201f025abc5652f6debba0db75f7b05aea1 version: c269b29e690b8f9bedc8e25ef0bcf65d585c3ba9 version: fdf849cadd63fd68b0d8d8035f59a46d916c006b version: e11a9d8a7e589a4d613e4a100b810f1b13784fcd version: 3f8a1552f5b6bc889e8013b5a40f4bc2c31191c5 version: 5a77718b771277071dec8553a1e6cc05de0c12de version: 8bb9ba25cefa6c4b166a4769973dc1dab1ce3e00 version: 277b4140174f7fd45c06e3230a0e4a3780c28c67 version: 434d9de5899c0e775be65ed0b57fdfc016276985 version: e04c4e098aa2595cb2abbdea9e42aafc3ad34e4a version: 93bc175a1988aeba64a535f58a54533144210813 version: bb157b90f393e61af001685f9d9b5f6d06aaac33, version: 0ce2636062f128f1e1a9570b1c29509630693504 version: 4f049ba1865c104b331f040a03bd10ff0a440dfb version: 28d89bee42b5a91f590591737c2aedd307272fad version: 6329358505e21f33e8f348cdb185b1ddbb8c3e31 version: 5c7645455557a81c0cc17c7b3e08e359a70a9a4e version: cd9784d0748a7f8ae9ff80443d1aefe643479702 version: 856b8766c3f2d8ed9836a64e7ee5557809b0e830 version: 3a4bfb5d8823260cb809f788cd8d1756e0e08cb9 version: 0394ef6ab8415fa023e65cab98e9d1e93048eb14 version: 4d80fb7a3aa315cccda9322a605f5cf3c19488b6 version: 08e7d44f2ae2f09c19f5059f9425d27fc229e55d version: bb7eca2988d209f12b116311955e753fdf088164 version: ac4fe8962ba21fb1e4d9173ee357204562ec343c version: 716857f33df691cffdb4e0b1bad3e0f7dbb4900b version: ef5042c7a5ee39d21c2c55471e470d572d795bbc version: 0e3c7be52cb23764e025803f0d03ba5cc2bfe12b version: 41743941d7b7053d201d28e46ba00ebea30cd22c version: bed697bd45b031f272679bb319359d0e83e7fba6 version: 95bb87038534564378a18412a1720829e18a3932 version: 2c4672941312b421bc9a7e08a41d73ae8a936470 version: 87f39222db0f7fbaa529631735337d525d89be3d version: dd8090a92b56112062279c3299646b64075dfb7b version: b2648f8514d0b9d9c025ac5c803aa4394c1c0ddc version: 63ac20350f38e594cef10035c59358965d6e266f version: 4100d0c8e8ad25e26769d8a75f97900dcbd08749 version: f6e7d93d69b7e0359abb2aafb17da67fc60ff0a2 version: d6334cd1b2a0b7b85a7ee4e9153a7d6c026b44c4 version: 8ca838d1b0b938b46e42a784304771fbca3c78bf version: 9b97383f6daec843acdceae129dd236a2be615f2 version: 9e4283e8e53c351f3d1ee8cd28f369969d5c8d22 version: 751c9e0f4fac7943dc2531992d6ae311cc360440 version: d68b960200422db6b4e4291c4f52872ae1183490 version: be7c455237e4264f524902c7283a0d59a65f38ab version: c808aee2a2e14e3d3440252147de86a2b0ac64ef version: c233a4931a6cb86795f428c2cb9169bae00a1832 version: 561b90bb984eb8e0f52a1f6bfa67f9213f8ebf68 version: b6560b385a6bab2769aabe42f71dcc4096cfa6aa version: 222eb0064b33941465c8e1a3e499251eefa60691 version: a24924462451c06835525b635b42ad3235bfa9c4 version: 8c1c0cf69f59ec354a341d8bbcf16deed614faf7,79,79
openstack%2Fopenstack-ansible~stable%2Fpike~I26b3d4641b84f61c78f5e976ea70126e5e26185f,openstack/openstack-ansible,stable/pike,I26b3d4641b84f61c78f5e976ea70126e5e26185f,Bump SHAs for stable/pike,MERGED,2019-06-16 14:19:32.000000000,2019-06-18 23:56:02.000000000,2019-06-18 23:56:02.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-16 14:19:32.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3d181bb39e8e457f636a83b5504e57765de9ef52', 'message': 'Bump SHAs for stable/pike\n\nChange-Id: I26b3d4641b84f61c78f5e976ea70126e5e26185f\n'}]",0,665545,3d181bb39e8e457f636a83b5504e57765de9ef52,13,3,1,17068,,,0,"Bump SHAs for stable/pike

Change-Id: I26b3d4641b84f61c78f5e976ea70126e5e26185f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/45/665545/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml']",3,3d181bb39e8e457f636a83b5504e57765de9ef52,bump_osa, version: d1cff88d86447ba73dee92804d2d288da26be465 version: 92843a2b6d193d36a50823c086b16afb0d70cd8d version: 3a8015ebd28155334a791348dab5333243721e5f version: e346cad7ed8a99bc07e65e8d98df24b3c7570e8b version: 1f8992758b54eaa8b9967e94332584660c7dca92 version: b59c907f641ecd066fa0c8c3d842444b7175ff80 version: 1204cbb1637dc039c545f8317079faeeb892ec2d version: 12793c336ba7680fe35f93c56552942761fb50d9 version: 5ab3049dbb0ab19ef6f67cf4a63080cd7b691a7b version: c5253cc68a8e3bfb8f97372dd76734c1aa7f6e97 version: 5cc082ecf981f1443f34a7bf685f63532415b0b4 version: 704e177e50af0617d5170eb84f40036a3af4a125 version: ccedad4fc7200907d9f6993cbaafbb151573c379 version: 8df05d94f2b1a9bcd89e24903514fb8569b8b1af version: 57cc3e8bcdc8b67d2646aa036848ac7a0b4dc56d version: 05021cac2a76f5a860a8297ccaf617845672e1dd version: 9c83e785e2c7f87f5a437b0fcb76462fa3a8e7f1 version: dae3c01b63b1a2e64e74a8fabda664e00ff1c095 version: d11d1d6f564c3f9b624f8c4021b06e7c6a161178 version: e30379a6e2410dd08a34f0dcc44e8402837bc2c7, version: a347671cf40ef67fb1e45c7cb52c316eb1de45f3 version: 79bacbedaeee3a9463c2acbdb73fd207bd3d79fc version: bc293411172907729884adf3ea8608954e0bcb56 version: c08ea49e7d31e5292e27e8b020e41458194f02b5 version: 47916da9f6359810350d2d37c35644852b819f43 version: 0a6033fc37bf8e772dbc32942c95097dc3193836 version: 8606253335df4bc0787172378c550ac2a9ba51f5 version: 2b42517c0e28ee9582e11d1840670ab31e9c985c version: b60c69839e796f15df02f03874692ba176562b8e version: b96bdefb443a73e4646edf28a3c46bece8260ffc version: 1aa63eb318bbf14e008344ba678bbfe712a78e8e version: 74b6b2e251d6b92a4e3d680a005dbab2a1528d43 version: 565dd94908a457e4c18318710ee7bf8437c0a5d7 version: bc287db73105367f1b517e1748554165b9b4b02e version: c1e30491b59c01b0a99e4b173494d21862fad63b version: 1f4711aa5e12bf0340d24b3e8d8dd81266c26ffb version: 7148f30112bdc63053ce787711b541a46821ef1f version: aaa27ede9ff80426597688f69ea9188e7c8ab54c version: ef6fe4dac17a87c377b3e7d8201773e5dba78f81 version: 4df7f40ff39205cb6d6efec2f1bb547584792887,53,53
openstack%2Fpuppet-tripleo~stable%2Fqueens~I44553bbe6fc414e06a1876d9d6dab615f5dbfa21,openstack/puppet-tripleo,stable/queens,I44553bbe6fc414e06a1876d9d6dab615f5dbfa21,Release 8.5.0 (queens),MERGED,2019-06-18 14:56:12.000000000,2019-06-18 23:53:36.000000000,2019-06-18 23:53:36.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 14:56:12.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4ad7bb2da1ceba3a5596fe5f887528930c4796f9', 'message': 'Release 8.5.0 (queens)\n\nChange-Id: I44553bbe6fc414e06a1876d9d6dab615f5dbfa21\n'}]",0,666010,4ad7bb2da1ceba3a5596fe5f887528930c4796f9,6,2,1,3153,,,0,"Release 8.5.0 (queens)

Change-Id: I44553bbe6fc414e06a1876d9d6dab615f5dbfa21
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/10/666010/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,4ad7bb2da1ceba3a5596fe5f887528930c4796f9,queens/release," ""version"": ""8.5.0"","," ""version"": ""8.4.1"",",1,1
openstack%2Fpuppet-tripleo~stable%2Frocky~I92f9f03b4b6c06df827d24367cf1886c1f7bbe02,openstack/puppet-tripleo,stable/rocky,I92f9f03b4b6c06df827d24367cf1886c1f7bbe02,Prepare 9.5.0 release (rocky),MERGED,2019-06-18 14:42:18.000000000,2019-06-18 23:53:36.000000000,2019-06-18 23:53:36.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 14:42:18.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e4c894dac4dbd755e191a23dc16ce54a43adf628', 'message': 'Prepare 9.5.0 release (rocky)\n\nChange-Id: I92f9f03b4b6c06df827d24367cf1886c1f7bbe02\n'}]",0,666004,e4c894dac4dbd755e191a23dc16ce54a43adf628,6,2,1,3153,,,0,"Prepare 9.5.0 release (rocky)

Change-Id: I92f9f03b4b6c06df827d24367cf1886c1f7bbe02
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/04/666004/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,e4c894dac4dbd755e191a23dc16ce54a43adf628,rocky/release," ""version"": ""9.5.0"","," ""version"": ""9.4.0"",",1,1
openstack%2Ftripleo-common~master~I0556e788be1a898ab26934a660273bb6134f35e6,openstack/tripleo-common,master,I0556e788be1a898ab26934a660273bb6134f35e6,tripleo-hieradata: introduce hieradata_per_host,MERGED,2019-06-07 22:29:08.000000000,2019-06-18 23:53:35.000000000,2019-06-18 23:53:35.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-07 22:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/059a731334bcee4ff90070ebe7cadffd30780f13', 'message': 'tripleo-hieradata: introduce hieradata_per_host\n\nBefore this patch, the format of hieradata_content could only be formed an hash\nwhere each key is a datafile and the value is the hieradata to write in this\ndatafile.\n\nExample:\n\nextraconfig:\n  foo: bar\n  foo2: bar2\nother_hierafile:\n  foo: bar3\n\nWith per-host hieradata, we are going to provide a map of hieradata\nfiles per host.\nhieradata_content can now to be formed an hash where each key is a host composed\nof datafiles and the value for each datafile is the hieradata to write in it.\n\nExample:\n\ncontroller1:\n  extraconfig:\n    foo: bar\n    foo2: bar2\n  other_hierafile:\n    foo: bar3\ncontroller2:\n  extraconfig:\n    foo: bar2\n    foo2: bar3\n  other_hierafile:\n    foo: bar\n\nThis is done via hieradata_per_host parameter, set to False by default\nfor backward compatibility.\n\nChange-Id: I0556e788be1a898ab26934a660273bb6134f35e6\n'}, {'number': 2, 'created': '2019-06-10 23:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b5025a792fd28de4d915a0e51f89594991ff5c47', 'message': 'tripleo-hieradata: introduce hieradata_per_host\n\nBefore this patch, the format of hieradata_content could only be formed an hash\nwhere each key is a datafile and the value is the hieradata to write in this\ndatafile.\n\nExample:\n\nextraconfig:\n  foo: bar\n  foo2: bar2\nother_hierafile:\n  foo: bar3\n\nWith per-host hieradata, we are going to provide a map of hieradata\nfiles per host.\nhieradata_content can now to be formed an hash where each key is a host composed\nof datafiles and the value for each datafile is the hieradata to write in it.\n\nExample:\n\ncontroller1:\n  extraconfig:\n    foo: bar\n    foo2: bar2\n  other_hierafile:\n    foo: bar3\ncontroller2:\n  extraconfig:\n    foo: bar2\n    foo2: bar3\n  other_hierafile:\n    foo: bar\n\nThis is done via hieradata_per_host parameter, set to False by default\nfor backward compatibility.\n\nChange-Id: I0556e788be1a898ab26934a660273bb6134f35e6\n'}, {'number': 3, 'created': '2019-06-11 16:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ebb59cf1a6b4e54884146cec799d76701d83731b', 'message': 'tripleo-hieradata: introduce hieradata_per_host\n\nBefore this patch, the format of hieradata_content could only be formed an hash\nwhere each key is a datafile and the value is the hieradata to write in this\ndatafile.\n\nExample:\n\nextraconfig:\n  foo: bar\n  foo2: bar2\nother_hierafile:\n  foo: bar3\n\nWith per-host hieradata, we are going to provide a map of hieradata\nfiles per host.\nhieradata_content can now to be formed an hash where each key is a host composed\nof datafiles and the value for each datafile is the hieradata to write in it.\n\nExample:\n\ncontroller1:\n  extraconfig:\n    foo: bar\n    foo2: bar2\n  other_hierafile:\n    foo: bar3\ncontroller2:\n  extraconfig:\n    foo: bar2\n    foo2: bar3\n  other_hierafile:\n    foo: bar\n\nThis is done via hieradata_per_host parameter, set to False by default\nfor backward compatibility.\n\nChange-Id: I0556e788be1a898ab26934a660273bb6134f35e6\n'}, {'number': 4, 'created': '2019-06-11 17:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9a27893d10c22849c783a1464573e28bfbdcd426', 'message': 'tripleo-hieradata: introduce hieradata_per_host\n\nBefore this patch, the format of hieradata_content could only be formed an hash\nwhere each key is a datafile and the value is the hieradata to write in this\ndatafile.\n\nExample:\n\nextraconfig:\n  foo: bar\n  foo2: bar2\nother_hierafile:\n  foo: bar3\n\nWith per-host hieradata, we are going to provide a map of hieradata\nfiles per host.\nhieradata_content can now to be formed an hash where each key is a host composed\nof datafiles and the value for each datafile is the hieradata to write in it.\n\nExample:\n\ncontroller1:\n  extraconfig:\n    foo: bar\n    foo2: bar2\n  other_hierafile:\n    foo: bar3\ncontroller2:\n  extraconfig:\n    foo: bar2\n    foo2: bar3\n  other_hierafile:\n    foo: bar\n\nThis is done via hieradata_per_host parameter, set to False by default\nfor backward compatibility.\n\nChange-Id: I0556e788be1a898ab26934a660273bb6134f35e6\n'}, {'number': 5, 'created': '2019-06-11 17:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a4224a84d5dbb1000e8ba8cd70b1b150419fcf79', 'message': 'tripleo-hieradata: introduce hieradata_per_host\n\nBefore this patch, the format of hieradata_content could only be formed an hash\nwhere each key is a datafile and the value is the hieradata to write in this\ndatafile.\n\nExample:\n\nextraconfig:\n  foo: bar\n  foo2: bar2\nother_hierafile:\n  foo: bar3\n\nWith per-host hieradata, we are going to provide a map of hieradata\nfiles per host.\nhieradata_content can now to be formed an hash where each key is a host composed\nof datafiles and the value for each datafile is the hieradata to write in it.\n\nExample:\n\ncontroller1:\n  extraconfig:\n    foo: bar\n    foo2: bar2\n  other_hierafile:\n    foo: bar3\ncontroller2:\n  extraconfig:\n    foo: bar2\n    foo2: bar3\n  other_hierafile:\n    foo: bar\n\nThis is done via hieradata_per_host parameter, set to False by default\nfor backward compatibility.\n\nChange-Id: I0556e788be1a898ab26934a660273bb6134f35e6\n'}, {'number': 6, 'created': '2019-06-11 18:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7d4685379b59aad2cd6c2be0e329aab1aae37e2d', 'message': 'tripleo-hieradata: introduce hieradata_per_host\n\nBefore this patch, the format of hieradata_content could only be formed an hash\nwhere each key is a datafile and the value is the hieradata to write in this\ndatafile.\n\nExample:\n\nextraconfig:\n  foo: bar\n  foo2: bar2\nother_hierafile:\n  foo: bar3\n\nWith per-host hieradata, we are going to provide a map of hieradata\nfiles per host.\nhieradata_content can now to be formed an hash where each key is a host composed\nof datafiles and the value for each datafile is the hieradata to write in it.\n\nExample:\n\ncontroller1:\n  extraconfig:\n    foo: bar\n    foo2: bar2\n  other_hierafile:\n    foo: bar3\ncontroller2:\n  extraconfig:\n    foo: bar2\n    foo2: bar3\n  other_hierafile:\n    foo: bar\n\nThis is done via hieradata_per_host parameter, set to False by default\nfor backward compatibility.\n\nChange-Id: I0556e788be1a898ab26934a660273bb6134f35e6\n'}, {'number': 7, 'created': '2019-06-11 20:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ff57c2ae9fe3a9a56b1caaacf773ea2c995ec165', 'message': 'tripleo-hieradata: introduce hieradata_per_host\n\nBefore this patch, the format of hieradata_content could only be formed an hash\nwhere each key is a datafile and the value is the hieradata to write in this\ndatafile.\n\nExample:\n\nextraconfig:\n  foo: bar\n  foo2: bar2\nother_hierafile:\n  foo: bar3\n\nWith per-host hieradata, we are going to provide a map of hieradata\nfiles per host.\nhieradata_content can now to be formed an hash where each key is a host composed\nof datafiles and the value for each datafile is the hieradata to write in it.\n\nExample:\n\ncontroller1:\n  extraconfig:\n    foo: bar\n    foo2: bar2\n  other_hierafile:\n    foo: bar3\ncontroller2:\n  extraconfig:\n    foo: bar2\n    foo2: bar3\n  other_hierafile:\n    foo: bar\n\nThis is done via hieradata_per_host parameter, set to False by default\nfor backward compatibility.\n\nChange-Id: I0556e788be1a898ab26934a660273bb6134f35e6\n'}, {'number': 8, 'created': '2019-06-12 15:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/94f085840acce340aa04bf3d51a23d38a401f250', 'message': 'tripleo-hieradata: introduce hieradata_per_host\n\nBefore this patch, the format of hieradata_content could only be formed an hash\nwhere each key is a datafile and the value is the hieradata to write in this\ndatafile.\n\nExample:\n\nextraconfig:\n  foo: bar\n  foo2: bar2\nother_hierafile:\n  foo: bar3\n\nWith per-host hieradata, we are going to provide a map of hieradata\nfiles per host.\nhieradata_content can now to be formed an hash where each key is a host composed\nof datafiles and the value for each datafile is the hieradata to write in it.\n\nExample:\n\ncontroller1:\n  extraconfig:\n    foo: bar\n    foo2: bar2\n  other_hierafile:\n    foo: bar3\ncontroller2:\n  extraconfig:\n    foo: bar2\n    foo2: bar3\n  other_hierafile:\n    foo: bar\n\nThis is done via hieradata_per_host parameter, set to False by default\nfor backward compatibility.\n\nChange-Id: I0556e788be1a898ab26934a660273bb6134f35e6\n'}, {'number': 9, 'created': '2019-06-17 12:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b56e4628de3873248aedb4624167213d71837b26', 'message': 'tripleo-hieradata: introduce hieradata_per_host\n\nBefore this patch, the format of hieradata_content could only be formed an hash\nwhere each key is a datafile and the value is the hieradata to write in this\ndatafile.\n\nExample:\n\nextraconfig:\n  foo: bar\n  foo2: bar2\nother_hierafile:\n  foo: bar3\n\nWith per-host hieradata, we are going to provide a map of hieradata\nfiles per host.\nhieradata_content can now to be formed an hash where each key is a host composed\nof datafiles and the value for each datafile is the hieradata to write in it.\n\nExample:\n\ncontroller1:\n  extraconfig:\n    foo: bar\n    foo2: bar2\n  other_hierafile:\n    foo: bar3\ncontroller2:\n  extraconfig:\n    foo: bar2\n    foo2: bar3\n  other_hierafile:\n    foo: bar\n\nThis is done via hieradata_per_host parameter, set to False by default\nfor backward compatibility.\n\nChange-Id: I0556e788be1a898ab26934a660273bb6134f35e6\n'}, {'number': 10, 'created': '2019-06-17 12:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1c22958939f46747b9f92266fba83fffac89b951', 'message': 'tripleo-hieradata: introduce hieradata_per_host\n\nBefore this patch, the format of hieradata_content could only be formed an hash\nwhere each key is a datafile and the value is the hieradata to write in this\ndatafile.\n\nExample:\n\nextraconfig:\n  foo: bar\n  foo2: bar2\nother_hierafile:\n  foo: bar3\n\nWith per-host hieradata, we are going to provide a map of hieradata\nfiles per host.\nhieradata_content can now to be formed an hash where each key is a host composed\nof datafiles and the value for each datafile is the hieradata to write in it.\n\nExample:\n\ncontroller1:\n  extraconfig:\n    foo: bar\n    foo2: bar2\n  other_hierafile:\n    foo: bar3\ncontroller2:\n  extraconfig:\n    foo: bar2\n    foo2: bar3\n  other_hierafile:\n    foo: bar\n\nThis is done via hieradata_per_host parameter, set to False by default\nfor backward compatibility.\n\nChange-Id: I0556e788be1a898ab26934a660273bb6134f35e6\n'}, {'number': 11, 'created': '2019-06-17 12:14:22.000000000', 'files': ['roles/tripleo-hieradata/README.md', 'roles/tripleo-hieradata/tasks/main.yaml', 'roles/tripleo-hieradata/tasks/all_hosts.yaml', 'roles/tripleo-hieradata/tasks/per_host.yaml', 'roles/tripleo-hieradata/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9e26f857fdd5dd983dd8ba59769c2169445e2355', 'message': 'tripleo-hieradata: introduce hieradata_per_host\n\nBefore this patch, the format of hieradata_content could only be formed an hash\nwhere each key is a datafile and the value is the hieradata to write in this\ndatafile.\n\nExample:\n\nextraconfig:\n  foo: bar\n  foo2: bar2\nother_hierafile:\n  foo: bar3\n\nWith per-host hieradata, we are going to provide a map of hieradata\nfiles per host.\nhieradata_content can now to be formed an hash where each key is a host composed\nof datafiles and the value for each datafile is the hieradata to write in it.\n\nExample:\n\ncontroller1:\n  extraconfig:\n    foo: bar\n    foo2: bar2\n  other_hierafile:\n    foo: bar3\ncontroller2:\n  extraconfig:\n    foo: bar2\n    foo2: bar3\n  other_hierafile:\n    foo: bar\n\nThis is done via hieradata_per_host parameter, set to False by default\nfor backward compatibility.\n\nChange-Id: I0556e788be1a898ab26934a660273bb6134f35e6\n'}]",5,664069,9e26f857fdd5dd983dd8ba59769c2169445e2355,39,5,11,3153,,,0,"tripleo-hieradata: introduce hieradata_per_host

Before this patch, the format of hieradata_content could only be formed an hash
where each key is a datafile and the value is the hieradata to write in this
datafile.

Example:

extraconfig:
  foo: bar
  foo2: bar2
other_hierafile:
  foo: bar3

With per-host hieradata, we are going to provide a map of hieradata
files per host.
hieradata_content can now to be formed an hash where each key is a host composed
of datafiles and the value for each datafile is the hieradata to write in it.

Example:

controller1:
  extraconfig:
    foo: bar
    foo2: bar2
  other_hierafile:
    foo: bar3
controller2:
  extraconfig:
    foo: bar2
    foo2: bar3
  other_hierafile:
    foo: bar

This is done via hieradata_per_host parameter, set to False by default
for backward compatibility.

Change-Id: I0556e788be1a898ab26934a660273bb6134f35e6
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/69/664069/8 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-hieradata/README.md', 'roles/tripleo-hieradata/tasks/main.yaml', 'roles/tripleo-hieradata/tasks/per_host.yaml', 'roles/tripleo-hieradata/defaults/main.yaml']",4,059a731334bcee4ff90070ebe7cadffd30780f13,bp/reduce-deployment-resources,hieradata_per_host: false,,46,0
openstack%2Ftripleo-common~master~I46cc7c366531cf92214968a051d2a50b3671f71c,openstack/tripleo-common,master,I46cc7c366531cf92214968a051d2a50b3671f71c,Populate Ansible Host variables with AnsibleHostVarsMap,MERGED,2019-06-05 21:39:04.000000000,2019-06-18 23:46:53.000000000,2019-06-18 23:46:53.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-05 21:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3e33d374d9fab9b5107ed68a982cde1c556e9e7d', 'message': 'WIP - Populate Ansible Host variables with AnsibleHostVarsMap\n\nChange-Id: I46cc7c366531cf92214968a051d2a50b3671f71c\nDepends-On: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 2, 'created': '2019-06-05 21:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1f1be7048628d1e0089cc2416a565e52bc9ddda3', 'message': 'WIP - Populate Ansible Host variables with AnsibleHostVarsMap\n\nChange-Id: I46cc7c366531cf92214968a051d2a50b3671f71c\nDepends-On: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 3, 'created': '2019-06-06 01:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ff5502667dd45a1b2f3fa0407119169b58da53bc', 'message': 'WIP - Populate Ansible Host variables with AnsibleHostVarsMap\n\nChange-Id: I46cc7c366531cf92214968a051d2a50b3671f71c\nDepends-On: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 4, 'created': '2019-06-06 13:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c2ee811c43356923a0f0f005023303e1eabc05bf', 'message': 'WIP - Populate Ansible Host variables with AnsibleHostVarsMap\n\nChange-Id: I46cc7c366531cf92214968a051d2a50b3671f71c\nDepends-On: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 5, 'created': '2019-06-06 16:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7fd9a191c7289aa4352d6909847f43ae8e6ea291', 'message': 'Populate Ansible Host variables with AnsibleHostVarsMap\n\nThe new interface in THT AnsibleHostVarsMap will be useful to lay down\nthe Ansible Host variables.\nThey are populated in THT but generated in config-download using the\nsame mechanism as the Group variables.\n\nChange-Id: I46cc7c366531cf92214968a051d2a50b3671f71c\nDepends-On: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 6, 'created': '2019-06-06 16:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/551d6e0e24c14d7622a7c67f14c381db1ea64b81', 'message': 'Populate Ansible Host variables with AnsibleHostVarsMap\n\nThe new interface in THT AnsibleHostVarsMap will be useful to lay down\nthe Ansible Host variables.\nThey are populated in THT but generated in config-download using the\nsame mechanism as the Group variables.\n\nChange-Id: I46cc7c366531cf92214968a051d2a50b3671f71c\nDepends-On: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 7, 'created': '2019-06-06 16:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2783d6451d56245d2b0c0db3b5a3d613bf11d2db', 'message': 'Populate Ansible Host variables with AnsibleHostVarsMap\n\nThe new interface in THT AnsibleHostVarsMap will be useful to lay down\nthe Ansible Host variables.\nThey are populated in THT but generated in config-download using the\nsame mechanism as the Group variables.\n\nChange-Id: I46cc7c366531cf92214968a051d2a50b3671f71c\nDepends-On: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 8, 'created': '2019-06-06 16:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a19ec7b4666966404ae3489604d3ad08f764b8c7', 'message': 'Populate Ansible Host variables with AnsibleHostVarsMap\n\nThe new interface in THT AnsibleHostVarsMap will be useful to lay down\nthe Ansible Host variables.\nThey are populated in THT but generated in config-download using the\nsame mechanism as the Group variables.\n\nChange-Id: I46cc7c366531cf92214968a051d2a50b3671f71c\n\nDepends-On: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 9, 'created': '2019-06-06 19:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dfdd9673a8e9479f7bffec3ec03c743b7fb27d8d', 'message': 'Populate Ansible Host variables with AnsibleHostVarsMap\n\nThe new interface in THT AnsibleHostVarsMap will be useful to lay down\nthe Ansible Host variables.\nThey are populated in THT but generated in config-download using the\nsame mechanism as the Group variables.\n\nChange-Id: I46cc7c366531cf92214968a051d2a50b3671f71c\n\nDepends-On: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 10, 'created': '2019-06-07 13:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2ecee322bde97cd05c938da46be95e4236262e98', 'message': 'Populate Ansible Host variables with AnsibleHostVarsMap\n\nThe new interface in THT AnsibleHostVarsMap will be useful to lay down\nthe Ansible Host variables.\nThey are populated in THT but generated in config-download using the\nsame mechanism as the Group variables.\n\nChange-Id: I46cc7c366531cf92214968a051d2a50b3671f71c\nDepends-On: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 11, 'created': '2019-06-07 20:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/10a93422ba10b33f4281c42f19aaef16802c5600', 'message': 'Populate Ansible Host variables with AnsibleHostVarsMap\n\nThe new interface in THT AnsibleHostVarsMap will be useful to lay down\nthe Ansible Host variables.\nThey are populated in THT but generated in config-download using the\nsame mechanism as the Group variables.\n\nChange-Id: I46cc7c366531cf92214968a051d2a50b3671f71c\nDepends-On: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 12, 'created': '2019-06-10 23:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/39bcebea14dabfb333fac82f4342ff5d2236f972', 'message': 'Populate Ansible Host variables with AnsibleHostVarsMap\n\nThe new interface in THT AnsibleHostVarsMap will be useful to lay down\nthe Ansible Host variables.\nThey are populated in THT but generated in config-download using the\nsame mechanism as the Group variables.\n\nChange-Id: I46cc7c366531cf92214968a051d2a50b3671f71c\nDepends-On: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 13, 'created': '2019-06-11 17:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/12c551660531c57eae3850a7bf0410d0a1998aac', 'message': 'Populate Ansible Host variables with AnsibleHostVarsMap\n\nThe new interface in THT AnsibleHostVarsMap will be useful to lay down\nthe Ansible Host variables.\nThey are populated in THT but generated in config-download using the\nsame mechanism as the Group variables.\n\nChange-Id: I46cc7c366531cf92214968a051d2a50b3671f71c\nDepends-On: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 14, 'created': '2019-06-11 17:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c64a32baec172c409e2acf6161063b76cffd9fff', 'message': 'Populate Ansible Host variables with AnsibleHostVarsMap\n\nThe new interface in THT AnsibleHostVarsMap will be useful to lay down\nthe Ansible Host variables.\nThey are populated in THT but generated in config-download using the\nsame mechanism as the Group variables.\n\nChange-Id: I46cc7c366531cf92214968a051d2a50b3671f71c\nDepends-On: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 15, 'created': '2019-06-11 18:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6057ab194dcbbc35fc6dfb1053a53ca3b8c8a7ff', 'message': 'Populate Ansible Host variables with AnsibleHostVarsMap\n\nThe new interface in THT AnsibleHostVarsMap will be useful to lay down\nthe Ansible Host variables.\nThey are populated in THT but generated in config-download using the\nsame mechanism as the Group variables.\n\nChange-Id: I46cc7c366531cf92214968a051d2a50b3671f71c\nDepends-On: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 16, 'created': '2019-06-11 20:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/24e73dd4b93ca704b80faf9fe0dd3b0b9430ed8c', 'message': 'Populate Ansible Host variables with AnsibleHostVarsMap\n\nThe new interface in THT AnsibleHostVarsMap will be useful to lay down\nthe Ansible Host variables.\nThey are populated in THT but generated in config-download using the\nsame mechanism as the Group variables.\n\nChange-Id: I46cc7c366531cf92214968a051d2a50b3671f71c\nDepends-On: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 17, 'created': '2019-06-12 14:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/666550d7d0b14d1c73f24689da7f15a4010026a0', 'message': 'Populate Ansible Host variables with AnsibleHostVarsMap\n\nThe new interface in THT AnsibleHostVarsMap will be useful to lay down\nthe Ansible Host variables.\nThey are populated in THT but generated in config-download using the\nsame mechanism as the Group variables.\n\nChange-Id: I46cc7c366531cf92214968a051d2a50b3671f71c\nDepends-On: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 18, 'created': '2019-06-13 13:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/083c7bafae86125435f1485ef896c9d554d2246a', 'message': 'Populate Ansible Host variables with AnsibleHostVarsMap\n\nThe new interface in THT AnsibleHostVarsMap will be useful to lay down\nthe Ansible Host variables.\nThey are populated in THT but generated in config-download using the\nsame mechanism as the Group variables.\n\nChange-Id: I46cc7c366531cf92214968a051d2a50b3671f71c\nDepends-On: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 19, 'created': '2019-06-14 14:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5ea24044ca55b713e442766105feb34c2653eadb', 'message': 'Populate Ansible Host variables with AnsibleHostVarsMap\n\nThe new interface in THT AnsibleHostVarsMap will be useful to lay down\nthe Ansible Host variables.\nThey are populated in THT but generated in config-download using the\nsame mechanism as the Group variables.\n\nChange-Id: I46cc7c366531cf92214968a051d2a50b3671f71c\nDepends-On: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 20, 'created': '2019-06-17 12:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3abc03c2145fe9653d83c2f2d34ad7a725802284', 'message': 'Populate Ansible Host variables with AnsibleHostVarsMap\n\nThe new interface in THT AnsibleHostVarsMap will be useful to lay down\nthe Ansible Host variables.\nThey are populated in THT but generated in config-download using the\nsame mechanism as the Group variables.\n\nChange-Id: I46cc7c366531cf92214968a051d2a50b3671f71c\nDepends-On: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 21, 'created': '2019-06-17 12:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5b304fe90418f4a01a9c84a7025068962a9163fc', 'message': 'Populate Ansible Host variables with AnsibleHostVarsMap\n\nThe new interface in THT AnsibleHostVarsMap will be useful to lay down\nthe Ansible Host variables.\nThey are populated in THT but generated in config-download using the\nsame mechanism as the Group variables.\n\nChange-Id: I46cc7c366531cf92214968a051d2a50b3671f71c\n\nDepends-On: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 22, 'created': '2019-06-17 12:13:38.000000000', 'files': ['tripleo_common/tests/utils/data/host_vars/overcloud-controller-0', 'tripleo_common/tests/utils/data/host_vars/overcloud-novacompute-0', 'tripleo_common/tests/utils/data/host_vars/overcloud-novacompute-2', 'tripleo_common/utils/config.py', 'tripleo_common/tests/utils/data/host_vars/overcloud-novacompute-1', 'tripleo_common/tests/utils/test_config.py', 'tripleo_common/templates/host_var_server.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0c2efab56302d11fdfdd496c5ee04b1456109744', 'message': 'Populate Ansible Host variables with AnsibleHostVarsMap\n\nThe new interface in THT AnsibleHostVarsMap will be useful to lay down\nthe Ansible Host variables.\nThey are populated in THT but generated in config-download using the\nsame mechanism as the Group variables.\n\nChange-Id: I46cc7c366531cf92214968a051d2a50b3671f71c\nDepends-On: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}]",0,663441,0c2efab56302d11fdfdd496c5ee04b1456109744,62,5,22,3153,,,0,"Populate Ansible Host variables with AnsibleHostVarsMap

The new interface in THT AnsibleHostVarsMap will be useful to lay down
the Ansible Host variables.
They are populated in THT but generated in config-download using the
same mechanism as the Group variables.

Change-Id: I46cc7c366531cf92214968a051d2a50b3671f71c
Depends-On: I3880f0f72beb24ee0b0868dca48afce6328144d3
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/41/663441/19 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/config.py', 'tripleo_common/templates/host_var_server.j2']",2,3e33d374d9fab9b5107ed68a982cde1c556e9e7d,bp/reduce-deployment-resources, # ansible_host_vars managed by TripleO Heat Templates in puppet/role.role.j2.yaml: {{ ansible_host_vars }},,23,17
openstack%2Ftripleo-heat-templates~stable%2Fstein~If536dbc8ace915d171a23e289da2777e74dc3b27,openstack/tripleo-heat-templates,stable/stein,If536dbc8ace915d171a23e289da2777e74dc3b27,Fix bare reference of cinder_enable_iscsi_backend,MERGED,2019-06-17 14:15:26.000000000,2019-06-18 23:40:53.000000000,2019-06-18 23:40:53.000000000,"[{'_account_id': 3153}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-17 14:15:26.000000000', 'files': ['deployment/cinder/cinder-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eff8376233e8a587f9334a110309c1c54b140498', 'message': 'Fix bare reference of cinder_enable_iscsi_backend\n\nAnsible is throwing a deprecation warning for this so we need to add a\n|bool to the usage of cinder_enable_iscsi_backend\n\nChange-Id: If536dbc8ace915d171a23e289da2777e74dc3b27\nRelated-Bug: #1832402\n(cherry picked from commit ed5c2ad70a13a564efab35ca3b677511053dbaa0)\n'}]",0,665684,eff8376233e8a587f9334a110309c1c54b140498,8,4,1,14985,,,0,"Fix bare reference of cinder_enable_iscsi_backend

Ansible is throwing a deprecation warning for this so we need to add a
|bool to the usage of cinder_enable_iscsi_backend

Change-Id: If536dbc8ace915d171a23e289da2777e74dc3b27
Related-Bug: #1832402
(cherry picked from commit ed5c2ad70a13a564efab35ca3b677511053dbaa0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/665684/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-common-container-puppet.yaml'],1,eff8376233e8a587f9334a110309c1c54b140498,bug/1832402-stable/stein, - when: cinder_enable_iscsi_backend|bool, - when: cinder_enable_iscsi_backend,1,1
openstack%2Fos-net-config~master~If41178105229fb9adce9c2950aab39fc55b56166,openstack/os-net-config,master,If41178105229fb9adce9c2950aab39fc55b56166,Fix handling of SR-IOV PF routes,MERGED,2019-06-07 00:04:02.000000000,2019-06-18 23:40:52.000000000,2019-06-18 23:40:52.000000000,"[{'_account_id': 3153}, {'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-06-07 00:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/400a14b2255c477f57a48989068ce8b2f99d83a9', 'message': 'Fix handling of SR-IOV PF routes\n\nRoutes on SR-IOV PF interfaces were being ignored in\nimpl_ifcfg.py. This change adds route handling for SR-IOV\ninterfaces, and a unit test to test writing route files.\n\nCloses-bug: 1831951\nChange-Id: If41178105229fb9adce9c2950aab39fc55b56166\n'}, {'number': 2, 'created': '2019-06-07 16:17:54.000000000', 'files': ['os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/b04d8f30d4993fba3e4d207ca698cf10bdf69c2b', 'message': 'Fix handling of SR-IOV PF routes\n\nRoutes on SR-IOV PF interfaces were being ignored in\nimpl_ifcfg.py. This change adds route handling for SR-IOV\ninterfaces, and a unit test to test writing route files.\n\nCloses-bug: 1831951\nChange-Id: If41178105229fb9adce9c2950aab39fc55b56166\n'}]",0,663803,b04d8f30d4993fba3e4d207ca698cf10bdf69c2b,29,8,2,12398,,,0,"Fix handling of SR-IOV PF routes

Routes on SR-IOV PF interfaces were being ignored in
impl_ifcfg.py. This change adds route handling for SR-IOV
interfaces, and a unit test to test writing route files.

Closes-bug: 1831951
Change-Id: If41178105229fb9adce9c2950aab39fc55b56166
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/03/663803/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py']",2,400a14b2255c477f57a48989068ce8b2f99d83a9,bug/1831951," if sriov_pf.routes: self._add_routes(sriov_pf.name, sriov_pf.routes) if sriov_pf.rules: self._add_rules(sriov_pf.name, sriov_pf.rules)",,37,0
openstack%2Fopenstack-ansible-os_ironic~master~I89be92c55be9d892afc133d3a95a8227174d0b80,openstack/openstack-ansible-os_ironic,master,I89be92c55be9d892afc133d3a95a8227174d0b80,Add missing variable file for Redhat,MERGED,2019-06-14 16:25:43.000000000,2019-06-18 23:28:59.000000000,2019-06-18 23:28:59.000000000,"[{'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-14 16:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/9b69f3d91adea0f873638fc343e13b9a80851e62', 'message': 'Add missing variable file for Redhat\n\nChange-Id: I89be92c55be9d892afc133d3a95a8227174d0b80\nSigned-off-by: Nicolas Bock <nicolas.bock@suse.com>\n'}, {'number': 2, 'created': '2019-06-18 09:57:51.000000000', 'files': ['vars/redhat-7.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/d7377d877e28ff983e55f00c099b8293f6063117', 'message': 'Add missing variable file for Redhat\n\nChange-Id: I89be92c55be9d892afc133d3a95a8227174d0b80\nSigned-off-by: Nicolas Bock <nicolas.bock@suse.com>\n'}]",0,665428,d7377d877e28ff983e55f00c099b8293f6063117,21,5,2,19298,,,0,"Add missing variable file for Redhat

Change-Id: I89be92c55be9d892afc133d3a95a8227174d0b80
Signed-off-by: Nicolas Bock <nicolas.bock@suse.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/28/665428/2 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-7.yml', 'meta/main.yml']",2,9b69f3d91adea0f873638fc343e13b9a80851e62,ironic_suse, - name: EL versions: - 7,,47,0
openstack%2Fnova~master~Ie5e7d70f9d6af77edd22756128937f06d0b961a9,openstack/nova,master,Ie5e7d70f9d6af77edd22756128937f06d0b961a9,tests: Stop starting consoleauth in functional tests,MERGED,2019-04-16 10:32:23.000000000,2019-06-18 23:21:50.000000000,2019-06-18 23:21:50.000000000,"[{'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-04-16 10:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07650ea80bb559df29b8f8884c7a8bc2a7175a12', 'message': ""tests: Stop starting consoleauth in functional tests\n\nThis hasn't been needed since we moved console authentication to the\ndatabase in Rocky.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: Ie5e7d70f9d6af77edd22756128937f06d0b961a9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-05-20 15:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3df4800c2218476806113527b15cc0ec0c5aef1e', 'message': ""tests: Stop starting consoleauth in functional tests\n\nThis hasn't been needed since we moved console authentication to the\ndatabase in Rocky.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: Ie5e7d70f9d6af77edd22756128937f06d0b961a9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-06-13 15:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c77c4094fdb2e2804d25a665b2f655ba3a5b9a22', 'message': ""tests: Stop starting consoleauth in functional tests\n\nThis hasn't been needed since we moved console authentication to the\ndatabase in Rocky.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: Ie5e7d70f9d6af77edd22756128937f06d0b961a9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-06-14 15:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05b2bf9f7513d26668481e67c81546f84d26a2f1', 'message': ""tests: Stop starting consoleauth in functional tests\n\nThis hasn't been needed since we moved console authentication to the\ndatabase in Rocky.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: Ie5e7d70f9d6af77edd22756128937f06d0b961a9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-06-17 14:47:30.000000000', 'files': ['nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.33/hypervisors-detail-resp.json.tpl', 'doc/api_samples/os-availability-zone/availability-zone-detail-resp.json', 'nova/tests/functional/integrated_helpers.py', 'doc/api_samples/os-hosts/hosts-list-resp.json', 'nova/tests/functional/regressions/test_bug_1548980.py', 'nova/tests/functional/regressions/test_bug_1689692.py', 'nova/tests/functional/api_sample_tests/api_samples/os-hosts/hosts-list-resp.json.tpl', 'doc/api_samples/os-hypervisors/v2.33/hypervisors-detail-resp.json', 'nova/tests/functional/regressions/test_bug_1670627.py', 'nova/tests/functional/regressions/test_bug_1671648.py', 'nova/tests/functional/test_list_servers_ip_filter.py', 'nova/tests/functional/regressions/test_bug_1679750.py', 'nova/tests/functional/regressions/test_bug_1675570.py', 'nova/tests/functional/api_sample_tests/api_samples/servers/availability-zone-detail-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-availability-zone/availability-zone-detail-resp.json.tpl', 'nova/tests/functional/regressions/test_bug_1718512.py', 'nova/tests/functional/regressions/test_bug_1595962.py', 'nova/tests/functional/regressions/test_bug_1682693.py', 'nova/tests/functional/regressions/test_bug_1702454.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8f6de3563688065f88065d1dff2d557f8702c9fa', 'message': ""tests: Stop starting consoleauth in functional tests\n\nThis hasn't been needed since we moved console authentication to the\ndatabase in Rocky.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: Ie5e7d70f9d6af77edd22756128937f06d0b961a9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,652966,8f6de3563688065f88065d1dff2d557f8702c9fa,45,13,5,15334,,,0,"tests: Stop starting consoleauth in functional tests

This hasn't been needed since we moved console authentication to the
database in Rocky.

Part of blueprint remove-consoleauth

Change-Id: Ie5e7d70f9d6af77edd22756128937f06d0b961a9
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/652966/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1548980.py', 'nova/tests/functional/regressions/test_bug_1689692.py', 'nova/tests/functional/regressions/test_bug_1670627.py', 'nova/tests/functional/regressions/test_bug_1671648.py', 'nova/tests/functional/test_list_servers_ip_filter.py', 'nova/tests/functional/regressions/test_bug_1679750.py', 'nova/tests/functional/regressions/test_bug_1675570.py', 'nova/tests/functional/regressions/test_bug_1718512.py', 'nova/tests/functional/regressions/test_bug_1595962.py', 'nova/tests/functional/regressions/test_bug_1682693.py', 'nova/tests/functional/regressions/test_bug_1702454.py']",12,07650ea80bb559df29b8f8884c7a8bc2a7175a12,bp/remove-consoleauth,, # The consoleauth service is needed for deleting console tokens when # the server is deleted. self.start_service('consoleauth') ,0,21
openstack%2Fnova~master~Ie96e18ea7762b93b4116b35d7ebcfcbe53c55527,openstack/nova,master,Ie96e18ea7762b93b4116b35d7ebcfcbe53c55527,docs: Remove references to nova-consoleauth,MERGED,2019-04-16 10:32:23.000000000,2019-06-18 23:21:41.000000000,2019-06-18 23:21:41.000000000,"[{'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-04-16 10:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d5ff475bd434fb6ccf98a6ea31e6fb28819e63cc', 'message': ""docs: Remove references to nova-consoleauth\n\nWe're going to remove all the code, but first, remove the docs.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: Ie96e18ea7762b93b4116b35d7ebcfcbe53c55527\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-05-20 15:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/682f9532d4a3b33666a434841598176a97f18566', 'message': ""docs: Remove references to nova-consoleauth\n\nWe're going to remove all the code, but first, remove the docs.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: Ie96e18ea7762b93b4116b35d7ebcfcbe53c55527\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-06-13 15:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60b1bf6126bde6c9173abdc652ef38569586fd72', 'message': ""docs: Remove references to nova-consoleauth\n\nWe're going to remove all the code, but first, remove the docs.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: Ie96e18ea7762b93b4116b35d7ebcfcbe53c55527\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-06-14 15:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee9f25e6be6486c714a130be7912a8a2d375d805', 'message': ""docs: Remove references to nova-consoleauth\n\nWe're going to remove all the code, but first, remove the docs.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: Ie96e18ea7762b93b4116b35d7ebcfcbe53c55527\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-06-17 14:47:30.000000000', 'files': ['doc/source/admin/remote-console-access.rst', 'doc/source/admin/configuration/logs.rst', 'doc/source/cli/nova-status.rst', 'doc/source/admin/system-admin.rst', 'doc/source/cli/nova-consoleauth.rst', 'doc/source/conf.py', 'doc/source/install/controller-install-ubuntu.rst', 'doc/test/redirect-tests.txt', 'doc/source/install/get-started-compute.rst', 'doc/source/user/cellsv2-layout.rst', 'doc/source/install/controller-install-obs.rst', 'doc/source/admin/live-migration-usage.rst', 'doc/source/cli/index.rst', 'api-guide/source/general_info.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/admin/services.rst', 'doc/source/_extra/.htaccess', 'doc/source/admin/common/nova-show-usage-statistics-for-hosts-instances.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/009fd0f35bcb88acc80f12e69d5fb72c0ee5391f', 'message': ""docs: Remove references to nova-consoleauth\n\nWe're going to remove all the code, but first, remove the docs.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: Ie96e18ea7762b93b4116b35d7ebcfcbe53c55527\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",3,652965,009fd0f35bcb88acc80f12e69d5fb72c0ee5391f,48,13,5,15334,,,0,"docs: Remove references to nova-consoleauth

We're going to remove all the code, but first, remove the docs.

Part of blueprint remove-consoleauth

Change-Id: Ie96e18ea7762b93b4116b35d7ebcfcbe53c55527
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/652965/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/remote-console-access.rst', 'doc/source/admin/configuration/logs.rst', 'doc/source/cli/nova-status.rst', 'doc/source/admin/system-admin.rst', 'doc/source/cli/nova-consoleauth.rst', 'doc/source/conf.py', 'doc/source/install/controller-install-ubuntu.rst', 'doc/test/redirect-tests.txt', 'doc/source/install/get-started-compute.rst', 'doc/source/user/cellsv2-layout.rst', 'doc/source/install/controller-install-obs.rst', 'doc/source/admin/live-migration-usage.rst', 'doc/source/cli/index.rst', 'api-guide/source/general_info.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/admin/services.rst', 'doc/source/admin/common/nova-show-usage-statistics-for-hosts-instances.rst']",17,d5ff475bd434fb6ccf98a6ea31e6fb28819e63cc,bp/remove-consoleauth,, | devstack | consoleauth | internal |,53,208
openstack%2Fneutron~stable%2Frocky~I9dc8562546e9a7365d18492678f7fc1cb3553622,openstack/neutron,stable/rocky,I9dc8562546e9a7365d18492678f7fc1cb3553622,Reset MAC on unbinding direct-physical port,MERGED,2019-06-06 06:40:13.000000000,2019-06-18 23:21:36.000000000,2019-06-18 23:21:36.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 16688}, {'_account_id': 17130}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-06 06:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7bb488e3506ff1903493929f8fadb13e9d197497', 'message': 'Reset MAC on unbinding direct-physical port\n\ndirect-physical ports inherit MAC address of physical device\nwhen binding happens (VM created). When VM is deleted this\nMAC has to be cleared so other ports may be bound to same device\nwithout conflicts.\n\nChange-Id: I9dc8562546e9a7365d18492678f7fc1cb3553622\nCloses-Bug: #1830383\n'}, {'number': 2, 'created': '2019-06-06 11:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/49b3fb233e1c697bd06e9156e442535ea0b56975', 'message': 'Reset MAC on unbinding direct-physical port\n\ndirect-physical ports inherit MAC address of physical device\nwhen binding happens (VM created). When VM is deleted this\nMAC has to be cleared so other ports may be bound to same device\nwithout conflicts.\n\nChange-Id: I9dc8562546e9a7365d18492678f7fc1cb3553622\nCloses-Bug: #1830383\n'}, {'number': 4, 'created': '2019-06-10 07:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/753947df7a09f03147d32c06d7977a9158a94219', 'message': 'Reset MAC on unbinding direct-physical port\n\ndirect-physical ports inherit MAC address of physical device\nwhen binding happens (VM created). When VM is deleted this\nMAC has to be cleared so other ports may be bound to same device\nwithout conflicts.\n\nChange-Id: I9dc8562546e9a7365d18492678f7fc1cb3553622\nCloses-Bug: #1830383\n(cherry picked from commit e603d19939c98b94081bb6a3af8bcb943f7bd2ce)\n'}, {'number': 5, 'created': '2019-06-11 13:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/49fda3c67788f0b71a8ad39d398037ab1f65050e', 'message': 'Reset MAC on unbinding direct-physical port\n\ndirect-physical ports inherit MAC address of physical device\nwhen binding happens (VM created). When VM is deleted this\nMAC has to be cleared so other ports may be bound to same device\nwithout conflicts.\n\nChange-Id: I9dc8562546e9a7365d18492678f7fc1cb3553622\nCloses-Bug: #1830383\n(cherry picked from commit e603d19939c98b94081bb6a3af8bcb943f7bd2ce)\n'}, {'number': 6, 'created': '2019-06-13 07:31:14.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3842bb21af749d81dacabbfabfa2b742a9b11a19', 'message': 'Reset MAC on unbinding direct-physical port\n\ndirect-physical ports inherit MAC address of physical device\nwhen binding happens (VM created). When VM is deleted this\nMAC has to be cleared so other ports may be bound to same device\nwithout conflicts.\n\nConflicts:\n    neutron/plugins/ml2/plugin.py\n\nChange-Id: I9dc8562546e9a7365d18492678f7fc1cb3553622\nCloses-Bug: #1830383\n(cherry picked from commit e603d19939c98b94081bb6a3af8bcb943f7bd2ce)\n'}]",2,663511,3842bb21af749d81dacabbfabfa2b742a9b11a19,70,11,5,5948,,,0,"Reset MAC on unbinding direct-physical port

direct-physical ports inherit MAC address of physical device
when binding happens (VM created). When VM is deleted this
MAC has to be cleared so other ports may be bound to same device
without conflicts.

Conflicts:
    neutron/plugins/ml2/plugin.py

Change-Id: I9dc8562546e9a7365d18492678f7fc1cb3553622
Closes-Bug: #1830383
(cherry picked from commit e603d19939c98b94081bb6a3af8bcb943f7bd2ce)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/663511/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py']",2,7bb488e3506ff1903493929f8fadb13e9d197497,bug/1830383," def _reset_mac_for_direct_physical(self, orig_port, port, binding): # when unbinding direct-physical port we need to free # physical device MAC address so that other ports may reuse it if (binding.vnic_type == portbindings.VNIC_DIRECT_PHYSICAL and port.get('device_id') == '' and port.get('device_owner') == '' and orig_port['device_id'] != ''): port['mac_address'] = self._generate_macs()[0] return True else: return False mac_address_updated |= self._reset_mac_for_direct_physical( port_db, attrs, binding)",,45,0
openstack%2Fnova~master~I009761162817c6ed1035d2208605268dc82d430f,openstack/nova,master,I009761162817c6ed1035d2208605268dc82d430f,Validate requested host/node during servers create,MERGED,2019-05-24 08:42:07.000000000,2019-06-18 23:21:31.000000000,2019-06-18 23:21:31.000000000,"[{'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 26936}, {'_account_id': 27336}, {'_account_id': 28706}, {'_account_id': 30427}]","[{'number': 1, 'created': '2019-05-24 08:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9004a2bdb6ce7c302c38ef1c15871550f60e3182', 'message': 'Add valid compute nodes with host and/or node in api layer\n\nThis patch adds valid compute nodes with host and/or node\nin api layer. And add compute_nodes_uuid into destination\nobject if compute nodes exist.\nSo we will ignore the duplicated valid when we call the\n`resources_from_request_spec` function in scheduler.\n\nChange-Id: I009761162817c6ed1035d2208605268dc82d430f\n'}, {'number': 2, 'created': '2019-05-25 11:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/573767f9c41ccd99a150a33c469bf5a1abfa5f25', 'message': 'Add valid compute nodes with host and/or node in api layer\n\nThis patch adds valid compute nodes with host and/or node\nin api layer.\n\nChange-Id: I009761162817c6ed1035d2208605268dc82d430f\n'}, {'number': 3, 'created': '2019-05-31 08:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4454be399168773a597cb2cabf53246566d64b70', 'message': 'Add valid compute nodes with host and/or node in api layer\n\nThis patch adds valid compute nodes with host and/or node\nin api layer.\n\nChange-Id: I009761162817c6ed1035d2208605268dc82d430f\n'}, {'number': 4, 'created': '2019-06-04 07:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43366743b1d82d13c73fc8cc25c254f1a187e5fe', 'message': 'Validate requested host/node during servers create\n\nThis change adds a method to validate a requested host and/or\nhypervisor_hostname(node) during servers create. We are simply\nchecking for existence of the resource, so the host is validated\nfor the HostMapping and the node is validated by checking for\nthe related resource provider in the placement service.\n\nPart of Blueprint: add-host-and-hypervisor-hostname-flag-to-create-server\n\nChange-Id: I009761162817c6ed1035d2208605268dc82d430f\n'}, {'number': 5, 'created': '2019-06-05 08:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00d6ec02a57671da638192f58200ea43ef7d9ad0', 'message': 'Validate requested host/node during servers create\n\nThis change adds a method to validate a requested host and/or\nhypervisor_hostname(node) during servers create. We are simply\nchecking for existence of the resource, so the host is validated\nfor the HostMapping and the node is validated by checking for\nthe related resource provider in the placement service.\n\nPart of Blueprint: add-host-and-hypervisor-hostname-flag-to-create-server\n\nChange-Id: I009761162817c6ed1035d2208605268dc82d430f\n'}, {'number': 6, 'created': '2019-06-05 10:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c69ca3ef7da3782ac1388bbcc8ec502abdc70307', 'message': 'Validate requested host/node during servers create\n\nThis change adds a method to validate a requested host and/or\nhypervisor_hostname(node) during servers create. We are simply\nchecking for existence of the resource, so the host is validated\nfor the HostMapping and the node is validated by checking for\nthe related resource provider in the placement service.\n\nPart of Blueprint: add-host-and-hypervisor-hostname-flag-to-create-server\n\nChange-Id: I009761162817c6ed1035d2208605268dc82d430f\n'}, {'number': 7, 'created': '2019-06-10 06:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e11c6e62de5d928fb51a7340a81334abb122efdc', 'message': 'Validate requested host/node during servers create\n\nThis change adds a method to validate a requested host and/or\nhypervisor_hostname(node) during servers create. We are simply\nchecking for existence of the resource, so the host is validated\nfor the HostMapping and the node is validated by checking for\nthe related resource provider in the placement service.\n\nPart of Blueprint: add-host-and-hypervisor-hostname-flag-to-create-server\n\nChange-Id: I009761162817c6ed1035d2208605268dc82d430f\n'}, {'number': 8, 'created': '2019-06-13 07:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eac4de3afb2ca84f3d28c73db6737182528d795c', 'message': 'Validate requested host/node during servers create\n\nThis change adds a method to validate a requested host and/or\nhypervisor_hostname(node) during servers create. We are simply\nchecking for existence of the resource, so the host is validated\nfor the HostMapping and the node is validated by checking for\nthe related resource provider in the placement service.\n\nPart of Blueprint: add-host-and-hypervisor-hostname-flag-to-create-server\n\nChange-Id: I009761162817c6ed1035d2208605268dc82d430f\n'}, {'number': 9, 'created': '2019-06-14 05:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4a5a321e4aacc3d2e1e43bd9d677bb35d020bc5', 'message': 'Validate requested host/node during servers create\n\nThis change adds a method to validate a requested host and/or\nhypervisor_hostname(node) during servers create. We are simply\nchecking for existence of the resource, so the host is validated\nfor the HostMapping and the node is validated by checking for\nthe related resource provider in the placement service.\n\nPart of Blueprint: add-host-and-hypervisor-hostname-flag-to-create-server\n\nChange-Id: I009761162817c6ed1035d2208605268dc82d430f\n'}, {'number': 10, 'created': '2019-06-18 09:26:03.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cf670873ad9806eda31ac072eb1f19c388129b28', 'message': 'Validate requested host/node during servers create\n\nThis change adds a method to validate a requested host and/or\nhypervisor_hostname(node) during servers create. We are simply\nchecking for existence of the resource, so the host is validated\nfor the HostMapping and the node is validated by checking for\nthe related resource provider in the placement service.\n\nPart of Blueprint: add-host-and-hypervisor-hostname-flag-to-create-server\n\nChange-Id: I009761162817c6ed1035d2208605268dc82d430f\n'}]",65,661237,cf670873ad9806eda31ac072eb1f19c388129b28,163,23,10,28706,,,0,"Validate requested host/node during servers create

This change adds a method to validate a requested host and/or
hypervisor_hostname(node) during servers create. We are simply
checking for existence of the resource, so the host is validated
for the HostMapping and the node is validated by checking for
the related resource provider in the placement service.

Part of Blueprint: add-host-and-hypervisor-hostname-flag-to-create-server

Change-Id: I009761162817c6ed1035d2208605268dc82d430f
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/661237/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/compute/api.py']",4,9004a2bdb6ce7c302c38ef1c15871550f60e3182,bp/add-host-and-hypervisor-hostname-flag-to-create-server," @staticmethod def _retrieve_destination_object(context, host=None, hypervisor_hostname=None): load_cells() if host: try: host_mapping = objects.HostMapping.get_by_host(context, host) cells = [host_mapping.cell_mapping] except exception.HostMappingNotFound: LOG.warning('No host-to-cell mapping found for selected ' 'host %(host)s.', {'host': host}) cells = CELLS else: cells = CELLS for cell in cells: if cell.uuid == objects.CellMapping.CELL0_UUID or cell.disabled: continue with nova_context.target_cell(context, cell) as cctxt: try: if host and hypervisor_hostname: node = objects.ComputeNode.get_by_host_and_nodename( cctxt, host, hypervisor_hostname) return objects.Destination( host=host, node=hypervisor_hostname, compute_nodes_uuid=[node.uuid]) elif hypervisor_hostname: node = objects.ComputeNode.get_by_nodename( cctxt, hypervisor_hostname) return objects.Destination( host=node.host, node=hypervisor_hostname, compute_nodes_uuid=[node.uuid]) elif host: nodes = objects.ComputeNodeList.get_all_by_host( cctxt, host) return objects.Destination( host=host, node=None, compute_nodes_uuid=[node.uuid for node in nodes]) except exception.ComputeHostNotFound: continue host = host if host else hypervisor_hostname raise exception.ComputeHostNotFound(host=host) ",,197,8
openstack%2Fopenstack-ansible-os_barbican~master~I96cce9426946c3c888bb46900906317e134dd23d,openstack/openstack-ansible-os_barbican,master,I96cce9426946c3c888bb46900906317e134dd23d,Fix distro installs on Ubuntu,MERGED,2019-06-06 15:46:11.000000000,2019-06-18 22:22:47.000000000,2019-06-18 21:55:50.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-06 15:46:11.000000000', 'files': ['templates/barbican-vassals-api.ini.j2', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/2c85a1f6242fa8cb254473889f616cf9d8289d96', 'message': ""Fix distro installs on Ubuntu\n\nBeginning in the Stein release, Ubuntu distro packages are now using\nPython3. This requires additionally installing and using the uwsgi\npython3 plugin.\n\nInstall the 'python3-barbican' package instead of 'barbican-api'.\nbarbican-api installs apache which conflicts with the OSA provided\nservice config.\n\nThe 'barbican-keystone-listener' and 'barbican-worker' packages have\nbeen removed. They provide service configs for each of those services,\nbut neither are implemented in the role yet and, if they are at some\npoint, service configs would be provided by the role.\n\nChange-Id: I96cce9426946c3c888bb46900906317e134dd23d\n""}]",0,663704,2c85a1f6242fa8cb254473889f616cf9d8289d96,8,3,1,14805,,,0,"Fix distro installs on Ubuntu

Beginning in the Stein release, Ubuntu distro packages are now using
Python3. This requires additionally installing and using the uwsgi
python3 plugin.

Install the 'python3-barbican' package instead of 'barbican-api'.
barbican-api installs apache which conflicts with the OSA provided
service config.

The 'barbican-keystone-listener' and 'barbican-worker' packages have
been removed. They provide service configs for each of those services,
but neither are implemented in the role yet and, if they are at some
point, service configs would be provided by the role.

Change-Id: I96cce9426946c3c888bb46900906317e134dd23d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/04/663704/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/barbican-vassals-api.ini.j2', 'vars/debian.yml']",2,2c85a1f6242fa8cb254473889f616cf9d8289d96,ubuntu-distro-install, - python3-barbican - python3-pymysql # needed by /usr/bin/barbican-manage db upgrade. - uwsgi-plugin-python3, - barbican-api - barbican-keystone-listener - barbican-worker - python-pymysql # needed by /usr/bin/barbican-manage db upgrade. - uwsgi-plugin-python,4,6
openstack%2Fmanila~master~I74508fd02d7d4ff54270e91743c7ea06103299b1,openstack/manila,master,I74508fd02d7d4ff54270e91743c7ea06103299b1,[CI] Run scenario tests in the cephfs-nfs job,MERGED,2019-05-07 20:12:16.000000000,2019-06-18 22:12:07.000000000,2019-06-18 22:12:07.000000000,"[{'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 16643}, {'_account_id': 17130}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-05-07 20:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/72ac94284d804f93903e94f358bed54585879adb', 'message': 'DNM/Debug: Add nova, glance and neutron to cephfs jobs\n\nRequired for scenario testing.\n\nChange-Id: I74508fd02d7d4ff54270e91743c7ea06103299b1\n'}, {'number': 2, 'created': '2019-05-07 22:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/505ac5375a8cbe9897525a71d94ea2f555afb5b0', 'message': 'DNM/Debug: Add nova, glance and neutron to cephfs jobs\n\nRequired for scenario testing.\n\nChange-Id: I74508fd02d7d4ff54270e91743c7ea06103299b1\n'}, {'number': 3, 'created': '2019-05-16 20:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5e2b9fa81855ebd3b2d7451d1f0d78f07e14f6ae', 'message': '[CI] Add nova, glance and neutron to cephfs-nfs job\n\nThese components are Required for scenario\ntesting. The experimental cephfs-nfs-centos-7\njob has not been modified.\n\nChange-Id: I74508fd02d7d4ff54270e91743c7ea06103299b1\n'}, {'number': 4, 'created': '2019-05-16 21:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a457121b1025a4556ce2a4b2cd1b0d559f3d2742', 'message': '[CI] Add nova, glance and neutron to cephfs-nfs job\n\nThese components are Required for scenario\ntesting. The experimental cephfs-nfs-centos-7\njob has not been modified.\n\nDepends-On: https://review.opendev.org/#/c/657669/\nChange-Id: I74508fd02d7d4ff54270e91743c7ea06103299b1\n'}, {'number': 5, 'created': '2019-05-16 21:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ad5ea5fb28fd31fa232a8589bd8dc1084c5630fd', 'message': '[CI] Run scenario tests in the cephfs-nfs job\n\nAdd required components for scenario\ntesting and enable api and scenario tests\non the same job. The experimental\ncephfs-nfs-centos-7 job has not been modified.\n\nDepends-On: https://review.opendev.org/#/c/657669/\nChange-Id: I74508fd02d7d4ff54270e91743c7ea06103299b1\n'}, {'number': 6, 'created': '2019-05-17 17:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5f91c337ea882731807404fd0cc3d32f002f6022', 'message': '[CI] Run scenario tests in the cephfs-nfs job\n\nAdd required components for scenario\ntesting and enable api and scenario tests\non the same job. The experimental\ncephfs-nfs-centos-7 job has not been modified.\n\nDepends-On: https://review.opendev.org/#/c/657669/\nChange-Id: I74508fd02d7d4ff54270e91743c7ea06103299b1\n'}, {'number': 7, 'created': '2019-06-13 00:15:07.000000000', 'files': ['playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs/run.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/fd21f5f246d019eaabd8ac896793157b983cdb62', 'message': '[CI] Run scenario tests in the cephfs-nfs job\n\nAdd required components for scenario\ntesting and enable api and scenario tests\non the same job. The experimental\ncephfs-nfs-centos-7 job has not been modified.\n\nDepends-On: https://review.opendev.org/#/c/657669/\nDepends-On: https://review.opendev.org/#/c/665039/\nChange-Id: I74508fd02d7d4ff54270e91743c7ea06103299b1\n'}]",0,657677,fd21f5f246d019eaabd8ac896793157b983cdb62,83,16,7,16643,,,0,"[CI] Run scenario tests in the cephfs-nfs job

Add required components for scenario
testing and enable api and scenario tests
on the same job. The experimental
cephfs-nfs-centos-7 job has not been modified.

Depends-On: https://review.opendev.org/#/c/657669/
Depends-On: https://review.opendev.org/#/c/665039/
Change-Id: I74508fd02d7d4ff54270e91743c7ea06103299b1
",git fetch https://review.opendev.org/openstack/manila refs/changes/77/657677/7 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs-centos-7/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native-centos-7/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs/run.yaml']",4,72ac94284d804f93903e94f358bed54585879adb,cephfs-scenario," # Enable glance for scenario tests OVERRIDE_ENABLED_SERVICES+=,g-api,g-reg # Enable nova for scenario tests OVERRIDE_ENABLED_SERVICES+=,n-api,n-cpu,n-cond,n-sch,n-crt,n-cauth,n-obj # Enable neutron for scenario tests OVERRIDE_ENABLED_SERVICES+=,q-svc,q-dhcp,q-meta,q-l3,q-agt # Enable tls-proxy OVERRIDE_ENABLED_SERVICES+=,tls-proxy", export OVERRIDE_ENABLED_SERVICES,36,4
openstack%2Fneutron~stable%2Fqueens~I174ff62cb6599e4c7bdc86cb2d0786f9f2499b00,openstack/neutron,stable/queens,I174ff62cb6599e4c7bdc86cb2d0786f9f2499b00,Use status_code instead of status in requests,MERGED,2019-01-21 12:36:30.000000000,2019-06-18 22:10:54.000000000,2019-06-18 22:10:54.000000000,"[{'_account_id': 935}, {'_account_id': 1131}, {'_account_id': 9373}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13692}, {'_account_id': 13995}, {'_account_id': 17120}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-01-21 12:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0556467837a6ae9b3edf185d37390bea48f5f30d', 'message': 'Use status_code instead of status in requests\n\nIt fixes raising exception for response with not recognized\nstatus code.\n\nCo-Authored-By: Brian Haley <haleyb.dev@gmail.com>\nChange-Id: I174ff62cb6599e4c7bdc86cb2d0786f9f2499b00\nRelated-Bug: 1790598\n(cherry picked from commit 1685982a97f1bc82698724eb9a47e92416dc0aac)\n'}, {'number': 2, 'created': '2019-01-28 13:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b87c2ab8078b4d1c9484837fe742f4696c1c2bd', 'message': 'Use status_code instead of status in requests\n\nIt fixes raising exception for response with not recognized\nstatus code.\n\nCo-Authored-By: Brian Haley <haleyb.dev@gmail.com>\nChange-Id: I174ff62cb6599e4c7bdc86cb2d0786f9f2499b00\nRelated-Bug: 1790598\n(cherry picked from commit 1685982a97f1bc82698724eb9a47e92416dc0aac)\n'}, {'number': 3, 'created': '2019-06-16 01:20:20.000000000', 'files': ['neutron/agent/metadata/agent.py', 'neutron/tests/unit/agent/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4091dc33d7172a7ae6333ae29c1f0620aa50c400', 'message': 'Use status_code instead of status in requests\n\nIt fixes raising exception for response with not recognized\nstatus code.\n\nCo-Authored-By: Brian Haley <haleyb.dev@gmail.com>\nChange-Id: I174ff62cb6599e4c7bdc86cb2d0786f9f2499b00\nRelated-Bug: 1790598\n(cherry picked from commit 1685982a97f1bc82698724eb9a47e92416dc0aac)\n'}]",0,632076,4091dc33d7172a7ae6333ae29c1f0620aa50c400,47,13,3,25618,,,0,"Use status_code instead of status in requests

It fixes raising exception for response with not recognized
status code.

Co-Authored-By: Brian Haley <haleyb.dev@gmail.com>
Change-Id: I174ff62cb6599e4c7bdc86cb2d0786f9f2499b00
Related-Bug: 1790598
(cherry picked from commit 1685982a97f1bc82698724eb9a47e92416dc0aac)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/632076/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/metadata/agent.py', 'neutron/tests/unit/agent/metadata/test_agent.py']",2,0556467837a6ae9b3edf185d37390bea48f5f30d,bug/1790598, resp.status.__str__.side_effect = AttributeError,,3,1
openstack%2Fopenstack-ansible-os_heat~master~I0e1d3dbea09e615837a8b39ff033ec7ec69a1b29,openstack/openstack-ansible-os_heat,master,I0e1d3dbea09e615837a8b39ff033ec7ec69a1b29,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:15:48.000000000,2019-06-18 22:07:27.000000000,2019-06-18 22:07:26.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-18 18:15:48.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/1776a9d3745dd0c2d04f0f897d0e22e7188d0347', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I0e1d3dbea09e615837a8b39ff033ec7ec69a1b29\n'}]",0,666108,1776a9d3745dd0c2d04f0f897d0e22e7188d0347,7,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I0e1d3dbea09e615837a8b39ff033ec7ec69a1b29
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/08/666108/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,1776a9d3745dd0c2d04f0f897d0e22e7188d0347,openstack/openstack-ansible-tests/sync-tests, update_password: always, force: true,1,1
openstack%2Fcharm-cinder-ceph~stable%2F19.04~I5dfad42def68634313af05d21ebe61bc229ebc35,openstack/charm-cinder-ceph,stable/19.04,I5dfad42def68634313af05d21ebe61bc229ebc35,Add rbd_exclusive_pool support for Ocata and Pike,MERGED,2019-06-04 09:25:39.000000000,2019-06-18 21:57:26.000000000,2019-06-18 21:57:26.000000000,"[{'_account_id': 2424}, {'_account_id': 2711}, {'_account_id': 6737}, {'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 09:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/3cd8598331e3369dbf3a5b72cd25b2f6cd296ec1', 'message': 'Add rbd_exclusive_pool support for Ocata and Pike\n\nThe fix has been backported so we can now use it.\n\nChange-Id: I5dfad42def68634313af05d21ebe61bc229ebc35\nCloses-Bug: #1704106\n(cherry picked from commit 616ba364296687bfeb8d9bf35bb0e7628d573e5b)\n'}, {'number': 2, 'created': '2019-06-04 12:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/b82f6b9a2eda95ffab70bd7a181c25902d524943', 'message': 'Add rbd_exclusive_pool support for Ocata and Pike\n\nThe fix has been backported so we can now use it.\n\nAlso includes amulet test fix\n\nChange-Id: I5dfad42def68634313af05d21ebe61bc229ebc35\nCloses-Bug: #1704106\n(cherry picked from commit 616ba364296687bfeb8d9bf35bb0e7628d573e5b)\n'}, {'number': 3, 'created': '2019-06-18 12:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/6e75c73e3c5baff614345c371ee7a025733f3078', 'message': 'Add rbd_exclusive_pool support for Ocata and Pike\n\nThe fix has been backported in Cinder so we\ncan now use it in the charm.\n\nAlso includes amulet test fix and context generator\nfix from commit c3456b7.\n\nChange-Id: I5dfad42def68634313af05d21ebe61bc229ebc35\nCloses-Bug: #1704106\n(cherry picked from commit 616ba364296687bfeb8d9bf35bb0e7628d573e5b)\n'}, {'number': 4, 'created': '2019-06-18 16:05:36.000000000', 'files': ['tests/basic_deployment.py', 'hooks/cinder_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/2b7ffcaee81045af5893327f0cf2e603d8fd8f5f', 'message': 'Add rbd_exclusive_pool support for Ocata and Pike\n\nThe fix has been backported in Cinder so we\ncan now use it in the charm.\n\nAlso includes amulet test fix and context generator\nfix from commit c3456b7.\n\nChange-Id: I5dfad42def68634313af05d21ebe61bc229ebc35\nCloses-Bug: #1704106\n(cherry picked from commit 616ba364296687bfeb8d9bf35bb0e7628d573e5b)\n'}]",0,662986,2b7ffcaee81045af5893327f0cf2e603d8fd8f5f,35,7,4,6737,,,0,"Add rbd_exclusive_pool support for Ocata and Pike

The fix has been backported in Cinder so we
can now use it in the charm.

Also includes amulet test fix and context generator
fix from commit c3456b7.

Change-Id: I5dfad42def68634313af05d21ebe61bc229ebc35
Closes-Bug: #1704106
(cherry picked from commit 616ba364296687bfeb8d9bf35bb0e7628d573e5b)
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/86/662986/4 && git format-patch -1 --stdout FETCH_HEAD,['hooks/cinder_contexts.py'],1,3cd8598331e3369dbf3a5b72cd25b2f6cd296ec1,bug/1704106," if CompareOpenStackReleases(os_codename) >= ""ocata"":"," if CompareOpenStackReleases(os_codename) >= ""queens"":",1,1
openstack%2Fopenstack-ansible-os_glance~master~Ice4c8057d7d521ec35069934ca5b5d7f38017cc1,openstack/openstack-ansible-os_glance,master,Ice4c8057d7d521ec35069934ca5b5d7f38017cc1,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:15:43.000000000,2019-06-18 21:55:42.000000000,2019-06-18 21:55:42.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-18 18:15:43.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/96f0d5bd4ae796fdb3e9f52a68ed88c193fae72b', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ice4c8057d7d521ec35069934ca5b5d7f38017cc1\n'}]",0,666107,96f0d5bd4ae796fdb3e9f52a68ed88c193fae72b,7,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ice4c8057d7d521ec35069934ca5b5d7f38017cc1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/07/666107/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,96f0d5bd4ae796fdb3e9f52a68ed88c193fae72b,openstack/openstack-ansible-tests/sync-tests, update_password: always, force: true,1,1
openstack%2Fopenstack-ansible-os_magnum~master~Iea4fdd508e0f67851e6326f519c8af64d45c8ae4,openstack/openstack-ansible-os_magnum,master,Iea4fdd508e0f67851e6326f519c8af64d45c8ae4,Updated from OpenStack Ansible Tests,MERGED,2019-06-11 22:18:15.000000000,2019-06-18 21:54:08.000000000,2019-06-18 21:54:08.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-11 22:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/e5d126fde3877cab6f1ea1436445da46d41fa3aa', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Iea4fdd508e0f67851e6326f519c8af64d45c8ae4\n'}, {'number': 2, 'created': '2019-06-18 18:16:02.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/72f453e729a30f4b23f5c92a16bb38c5d9aecccc', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Iea4fdd508e0f67851e6326f519c8af64d45c8ae4\n'}]",0,664725,72f453e729a30f4b23f5c92a16bb38c5d9aecccc,9,3,2,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Iea4fdd508e0f67851e6326f519c8af64d45c8ae4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/25/664725/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,e5d126fde3877cab6f1ea1436445da46d41fa3aa,openstack/openstack-ansible-tests/sync-tests, - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) - (_oslomsg_rpc_userid is undefined) or (_oslomsg_notify_userid != _oslomsg_rpc_userid), - _oslomsg_notify_vhost != _oslomsg_rpc_vhost - _oslomsg_notify_vhost != _oslomsg_rpc_vhost - _oslomsg_notify_userid != _oslomsg_rpc_userid,6,3
openstack%2Fopenstack-ansible-os_ceilometer~master~Ibff6748f39253731f4daff2d554e6e88bdde3de4,openstack/openstack-ansible-os_ceilometer,master,Ibff6748f39253731f4daff2d554e6e88bdde3de4,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:15:28.000000000,2019-06-18 21:53:58.000000000,2019-06-18 21:53:58.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-18 18:15:28.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/c0af00e427609315140cef43d37a5280e0617589', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ibff6748f39253731f4daff2d554e6e88bdde3de4\n'}]",0,666102,c0af00e427609315140cef43d37a5280e0617589,7,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ibff6748f39253731f4daff2d554e6e88bdde3de4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/02/666102/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,c0af00e427609315140cef43d37a5280e0617589,openstack/openstack-ansible-tests/sync-tests, update_password: always, force: true,1,1
openstack%2Fopenstack-ansible-os_cinder~master~I6f8e070a2401964ee401391f3762fffb31f24bcf,openstack/openstack-ansible-os_cinder,master,I6f8e070a2401964ee401391f3762fffb31f24bcf,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:15:31.000000000,2019-06-18 21:51:45.000000000,2019-06-18 21:51:44.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-18 18:15:31.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/89052b9963bb15b68079a4ef9d7c01b44d86b81d', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I6f8e070a2401964ee401391f3762fffb31f24bcf\n'}]",0,666103,89052b9963bb15b68079a4ef9d7c01b44d86b81d,7,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I6f8e070a2401964ee401391f3762fffb31f24bcf
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/03/666103/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,89052b9963bb15b68079a4ef9d7c01b44d86b81d,openstack/openstack-ansible-tests/sync-tests, update_password: always, force: true,1,1
openstack%2Fopenstack-ansible-os_tacker~master~Ie3f0787d0d5b2439c6a170bfd5379ec8c709ba8b,openstack/openstack-ansible-os_tacker,master,Ie3f0787d0d5b2439c6a170bfd5379ec8c709ba8b,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:16:44.000000000,2019-06-18 21:48:37.000000000,2019-06-18 21:48:37.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-18 18:16:44.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/959ad677264eeaf1d7f8da00c04d2464d89463eb', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie3f0787d0d5b2439c6a170bfd5379ec8c709ba8b\n'}]",0,666117,959ad677264eeaf1d7f8da00c04d2464d89463eb,7,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ie3f0787d0d5b2439c6a170bfd5379ec8c709ba8b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/17/666117/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,959ad677264eeaf1d7f8da00c04d2464d89463eb,openstack/openstack-ansible-tests/sync-tests, update_password: always, force: true,1,1
openstack%2Fapi-site~master~I7f55c809f6a1eb0abb27c9a246658708e01be6db,openstack/api-site,master,I7f55c809f6a1eb0abb27c9a246658708e01be6db,Add application function engine (Qinling) api-ref,MERGED,2019-06-17 16:28:05.000000000,2019-06-18 21:48:11.000000000,2019-06-18 21:48:11.000000000,"[{'_account_id': 6732}, {'_account_id': 14482}, {'_account_id': 16006}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 16:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/6c90c3d1e5152d7f138bdfb512f92c6e5ed6f505', 'message': 'Add application function engine (Qinling) api-ref\n\nChange-Id: I7f55c809f6a1eb0abb27c9a246658708e01be6db\n'}, {'number': 2, 'created': '2019-06-18 10:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/353998f3d7924a82ee6289407629ef8a5492e1b3', 'message': 'Add application function engine (Qinling) api-ref\n\nChange-Id: I7f55c809f6a1eb0abb27c9a246658708e01be6db\n'}, {'number': 3, 'created': '2019-06-18 17:14:58.000000000', 'files': ['api-quick-start/source/index.rst', 'www/static/sitemap.xml'], 'web_link': 'https://opendev.org/openstack/api-site/commit/800bfdcc1965dd6f20b652623e420bdf2d065f43', 'message': 'Add application function engine (Qinling) api-ref\n\nChange-Id: I7f55c809f6a1eb0abb27c9a246658708e01be6db\n'}]",0,665723,800bfdcc1965dd6f20b652623e420bdf2d065f43,15,5,3,16006,,,0,"Add application function engine (Qinling) api-ref

Change-Id: I7f55c809f6a1eb0abb27c9a246658708e01be6db
",git fetch https://review.opendev.org/openstack/api-site refs/changes/23/665723/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-quick-start/source/index.rst', 'www/static/sitemap.xml']",2,6c90c3d1e5152d7f138bdfb512f92c6e5ed6f505,, <url> <priority>1.0</priority> <loc>https://developer.openstack.org/api-ref/function-engine/</loc> <lastmod>2018-10-24T17:32:35+0000</lastmod> <changefreq>daily</changefreq> </url>,,8,0
openstack%2Fopenstack-helm-infra~master~I5150a64bd29fa062e30496c1f2127de138322863,openstack/openstack-helm-infra,master,I5150a64bd29fa062e30496c1f2127de138322863,RabbitMQ: Allow clients to directly connect to servers,MERGED,2019-06-14 22:03:38.000000000,2019-06-18 21:46:13.000000000,2019-06-18 21:46:13.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-14 22:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0fc1fbac05d30bb41a858a75d2d9bfce1a7161b6', 'message': 'RFC: RabbitMQ: Cluster changes to improve stability\n\nChange-Id: I5150a64bd29fa062e30496c1f2127de138322863\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-06-15 20:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c4df8abd353a3b2e233a79e811caa0e1fe62d22e', 'message': 'RFC: RabbitMQ: Cluster changes to improve stability\n\nChange-Id: I5150a64bd29fa062e30496c1f2127de138322863\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-06-15 20:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/10dc1c116f8bacc06741db30cee5eae78e33939b', 'message': 'RFC: RabbitMQ: Cluster changes to improve stability\n\nChange-Id: I5150a64bd29fa062e30496c1f2127de138322863\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2019-06-15 20:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/827544cd572c435fba39537aaced5b4d9247c30d', 'message': 'RFC: RabbitMQ: Cluster changes to improve stability\n\nChange-Id: I5150a64bd29fa062e30496c1f2127de138322863\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2019-06-15 21:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/27406f0b2f76d09dccc9aef66d8a51ce91f51c22', 'message': 'RFC: RabbitMQ: Cluster changes to improve stability\n\nChange-Id: I5150a64bd29fa062e30496c1f2127de138322863\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 6, 'created': '2019-06-15 22:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d48c353fe043047a5dc3876ab210d9113969e2a5', 'message': 'RFC: RabbitMQ: Cluster changes to improve stability\n\nChange-Id: I5150a64bd29fa062e30496c1f2127de138322863\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 7, 'created': '2019-06-16 18:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4107a19d7858f8c78b73d479d3aa37875f616cfb', 'message': 'RFC: RabbitMQ: Cluster changes to improve stability\n\nChange-Id: I5150a64bd29fa062e30496c1f2127de138322863\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 8, 'created': '2019-06-18 00:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8206d012d962b06083810e449c54302665f4d4ff', 'message': 'RabbitMQ: Allow clients to directly connect to servers\n\nThis PS updates the rabbitmq chart, to allow clients to connect directly\nto backend servers, and also introduces a htk function to produce\nthe appropriate transport_url used by oslo.messaging to take advantage\nof this functionaility.\n\nChange-Id: I5150a64bd29fa062e30496c1f2127de138322863\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 9, 'created': '2019-06-18 15:10:26.000000000', 'files': ['rabbitmq/templates/service.yaml', 'helm-toolkit/templates/endpoints/_authenticated_transport_endpoint_uri_lookup.tpl', 'rabbitmq/templates/service-discovery.yaml', 'rabbitmq/values.yaml', 'rabbitmq/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0925f50e2aea5fccc06ab4781b66e615a1d1b7b0', 'message': 'RabbitMQ: Allow clients to directly connect to servers\n\nThis PS updates the rabbitmq chart, to allow clients to connect directly\nto backend servers, and also introduces a htk function to produce\nthe appropriate transport_url used by oslo.messaging to take advantage\nof this functionaility.\n\nChange-Id: I5150a64bd29fa062e30496c1f2127de138322863\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,665481,0925f50e2aea5fccc06ab4781b66e615a1d1b7b0,36,5,9,23928,,,0,"RabbitMQ: Allow clients to directly connect to servers

This PS updates the rabbitmq chart, to allow clients to connect directly
to backend servers, and also introduces a htk function to produce
the appropriate transport_url used by oslo.messaging to take advantage
of this functionaility.

Change-Id: I5150a64bd29fa062e30496c1f2127de138322863
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/81/665481/9 && git format-patch -1 --stdout FETCH_HEAD,"['rabbitmq/templates/service.yaml', 'rabbitmq/templates/service-discovery.yaml', 'rabbitmq/values.yaml']",3,0fc1fbac05d30bb41a858a75d2d9bfce1a7161b6,rmq-res-exp, server: 2, server: 3,14,13
openstack%2Fopenstack-ansible-os_nova~master~Ibadd3f3aa24f8f839cb00534d832904b1b86ceca,openstack/openstack-ansible-os_nova,master,Ibadd3f3aa24f8f839cb00534d832904b1b86ceca,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:16:24.000000000,2019-06-18 21:45:15.000000000,2019-06-18 21:45:15.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-18 18:16:24.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/1bf6e4e7d930ded4b814f332f20b38519ec0b518', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ibadd3f3aa24f8f839cb00534d832904b1b86ceca\n'}]",0,666115,1bf6e4e7d930ded4b814f332f20b38519ec0b518,7,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ibadd3f3aa24f8f839cb00534d832904b1b86ceca
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/15/666115/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,1bf6e4e7d930ded4b814f332f20b38519ec0b518,openstack/openstack-ansible-tests/sync-tests, update_password: always, force: true,1,1
openstack%2Fopenstack-ansible-os_neutron~master~I4d0513e630437e563bcfc0111f485421f18bc69e,openstack/openstack-ansible-os_neutron,master,I4d0513e630437e563bcfc0111f485421f18bc69e,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:16:21.000000000,2019-06-18 21:44:45.000000000,2019-06-18 21:44:45.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-18 18:16:21.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/aec4c69b3a8c1487dc8a0c7b4de5e7def431d50b', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I4d0513e630437e563bcfc0111f485421f18bc69e\n'}]",0,666114,aec4c69b3a8c1487dc8a0c7b4de5e7def431d50b,7,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I4d0513e630437e563bcfc0111f485421f18bc69e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/14/666114/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,aec4c69b3a8c1487dc8a0c7b4de5e7def431d50b,openstack/openstack-ansible-tests/sync-tests, update_password: always, force: true,1,1
openstack%2Fopenstack-ansible-os_keystone~master~Ia6feeb3a386026e88b9557ecc9448f11084f2375,openstack/openstack-ansible-os_keystone,master,Ia6feeb3a386026e88b9557ecc9448f11084f2375,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:15:58.000000000,2019-06-18 21:44:22.000000000,2019-06-18 21:44:22.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-18 18:15:58.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/03b0aaf019d44e2fff3658a65c4f5cf503f61d35', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ia6feeb3a386026e88b9557ecc9448f11084f2375\n'}]",0,666110,03b0aaf019d44e2fff3658a65c4f5cf503f61d35,7,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ia6feeb3a386026e88b9557ecc9448f11084f2375
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/10/666110/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,03b0aaf019d44e2fff3658a65c4f5cf503f61d35,openstack/openstack-ansible-tests/sync-tests, update_password: always, force: true,1,1
openstack%2Fopenstack-ansible-os_swift~master~Ide4deb696c3742073850586b2d83e18ec947ac61,openstack/openstack-ansible-os_swift,master,Ide4deb696c3742073850586b2d83e18ec947ac61,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:16:41.000000000,2019-06-18 21:43:43.000000000,2019-06-18 21:43:43.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-18 18:16:41.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/afe60eb16fbff3e7ee5e66fa585d7aa8694c0929', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ide4deb696c3742073850586b2d83e18ec947ac61\n'}]",0,666116,afe60eb16fbff3e7ee5e66fa585d7aa8694c0929,7,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ide4deb696c3742073850586b2d83e18ec947ac61
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/16/666116/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,afe60eb16fbff3e7ee5e66fa585d7aa8694c0929,openstack/openstack-ansible-tests/sync-tests, update_password: always, force: true,1,1
openstack%2Fcinder~master~I219b5e5bfa4f77afc895ec9c219e61e3fdb1b762,openstack/cinder,master,I219b5e5bfa4f77afc895ec9c219e61e3fdb1b762,Remove the Nexenta Edge Driver,MERGED,2019-03-26 20:56:53.000000000,2019-06-18 21:42:00.000000000,2019-06-18 21:42:00.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15439}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16311}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 17130}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-03-26 20:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e99519662599749a0080ebe528224506f6e5a805', 'message': 'Remove the Nexenta Edge Driver\n\nThe Nexenta Edge driver was marked unsupported during the\nStein release.  The 3rd Party CI has not reported in 57 days.\nThis continues to fall outside our 3rd Party CI Policy.\n\nThis patch proposes removal of the driver.\n\nChange-Id: I219b5e5bfa4f77afc895ec9c219e61e3fdb1b762\n'}, {'number': 2, 'created': '2019-03-26 21:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a031834c3f2a086f35b2f1a12c5d70bf5e3e0702', 'message': 'Remove the Nexenta Edge Driver\n\nThe Nexenta Edge driver was marked unsupported during the\nStein release.  The 3rd Party CI has not reported in 57 days.\nThis continues to fall outside our 3rd Party CI Policy.\n\nThis patch proposes removal of the driver.\n\nChange-Id: I219b5e5bfa4f77afc895ec9c219e61e3fdb1b762\n'}, {'number': 3, 'created': '2019-03-27 19:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b21876c085951e6760a141da0c11f157113b0aae', 'message': 'Remove the Nexenta Edge Driver\n\nThe Nexenta Edge driver was marked unsupported during the\nStein release.  The 3rd Party CI has not reported in 57 days.\nThis continues to fall outside our 3rd Party CI Policy.\n\nThis patch proposes removal of the driver.\n\nChange-Id: I219b5e5bfa4f77afc895ec9c219e61e3fdb1b762\n'}, {'number': 4, 'created': '2019-03-27 20:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5b96fcfea6a89ee4600f83732c394bee11cc1cb1', 'message': 'Remove the Nexenta Edge Driver\n\nThe Nexenta Edge driver was marked unsupported during the\nStein release.  The 3rd Party CI has not reported in 57 days.\nThis continues to fall outside our 3rd Party CI Policy.\n\nThis patch proposes removal of the driver.\n\nChange-Id: I219b5e5bfa4f77afc895ec9c219e61e3fdb1b762\n'}, {'number': 5, 'created': '2019-05-07 22:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/29b1853c8a06f8fca83cf066e2f4ec1d2e294bb5', 'message': 'Remove the Nexenta Edge Driver\n\nThe Nexenta Edge driver was marked unsupported during the\nStein release.  The 3rd Party CI has not reported in 57 days.\nThis continues to fall outside our 3rd Party CI Policy.\n\nThis patch proposes removal of the driver.\n\nChange-Id: I219b5e5bfa4f77afc895ec9c219e61e3fdb1b762\n'}, {'number': 6, 'created': '2019-05-09 14:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/62b5becc976f7358ada016d37ca074df6ad83feb', 'message': 'Remove the Nexenta Edge Driver\n\nThe Nexenta Edge driver was marked unsupported during the\nStein release.  The 3rd Party CI has not reported in 57 days.\nThis continues to fall outside our 3rd Party CI Policy.\n\nThis patch proposes removal of the driver.\n\nChange-Id: I219b5e5bfa4f77afc895ec9c219e61e3fdb1b762\n'}, {'number': 7, 'created': '2019-06-13 15:57:27.000000000', 'files': ['cinder/volume/drivers/nexenta/nexentaedge/jsonrpc.py', 'doc/source/reference/support-matrix.rst', 'releasenotes/notes/nexenta-edge-driver-removal-5626d542d75f3d43.yaml', 'cinder/tests/unit/volume/drivers/nexenta/test_nexenta_edge.py', 'doc/source/configuration/tables/cinder-nexenta_edge.inc', 'doc/source/configuration/block-storage/drivers/nexentaedge-driver.rst', 'cinder/volume/drivers/nexenta/nexentaedge/iscsi.py', 'cinder/volume/drivers/nexenta/nexentaedge/__init__.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a1c58b50ea90986242afa9efe684bd5b87a39daf', 'message': 'Remove the Nexenta Edge Driver\n\nThe Nexenta Edge driver was marked unsupported during the\nStein release.  The 3rd Party CI has not reported in 57 days.\nThis continues to fall outside our 3rd Party CI Policy.\n\nThis patch proposes removal of the driver.\n\nChange-Id: I219b5e5bfa4f77afc895ec9c219e61e3fdb1b762\n'}]",2,647925,a1c58b50ea90986242afa9efe684bd5b87a39daf,186,46,7,7198,,,0,"Remove the Nexenta Edge Driver

The Nexenta Edge driver was marked unsupported during the
Stein release.  The 3rd Party CI has not reported in 57 days.
This continues to fall outside our 3rd Party CI Policy.

This patch proposes removal of the driver.

Change-Id: I219b5e5bfa4f77afc895ec9c219e61e3fdb1b762
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/647925/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/nexenta/nexentaedge/jsonrpc.py', 'doc/source/configuration/block-storage/volume-drivers.rst', 'releasenotes/notes/nexenta-edge-driver-removal-5626d542d75f3d43.yaml', 'cinder/tests/unit/volume/drivers/nexenta/test_nexenta_edge.py', 'doc/source/configuration/block-storage/drivers/nexentaedge-driver.rst', 'cinder/volume/drivers/nexenta/nexentaedge/iscsi.py', 'cinder/volume/drivers/nexenta/nexentaedge/__init__.py']",7,e99519662599749a0080ebe528224506f6e5a805,train-driver-removal,,,15,800
openstack%2Fcinder~master~I44a4dc52b2cced6dac98aa895aa3de1df0926fc5,openstack/cinder,master,I44a4dc52b2cced6dac98aa895aa3de1df0926fc5,Remove the Veritas HyperScale Driver,MERGED,2019-03-27 19:57:42.000000000,2019-06-18 21:40:47.000000000,2019-06-18 21:40:47.000000000,"[{'_account_id': 1736}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27336}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-03-27 19:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b750f855f1e6186e3631dfaa7eac97dcf7335949', 'message': ""Remove the Veritas HyperScale Driver\n\nThe Veritas HyperScale driver was marked unsupported in\nthe Stein release.  It hasn't reported on a patch in\n327 days.\n\nThis is outside Cinder's CI requirements and therefore\nthe driver is being removed.\n\nChange-Id: I44a4dc52b2cced6dac98aa895aa3de1df0926fc5\n""}, {'number': 2, 'created': '2019-03-27 20:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d2ce772ff76d32d6d8cf6e3e1fbc4acc3cfdf9fa', 'message': ""Remove the Veritas HyperScale Driver\n\nThe Veritas HyperScale driver was marked unsupported in\nthe Stein release.  It hasn't reported on a patch in\n327 days.\n\nThis is outside Cinder's CI requirements and therefore\nthe driver is being removed.\n\nChange-Id: I44a4dc52b2cced6dac98aa895aa3de1df0926fc5\n""}, {'number': 3, 'created': '2019-05-09 14:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d9e27e423d936779940e84755f951697c36689a0', 'message': ""Remove the Veritas HyperScale Driver\n\nThe Veritas HyperScale driver was marked unsupported in\nthe Stein release.  It hasn't reported on a patch in\n327 days.\n\nThis is outside Cinder's CI requirements and therefore\nthe driver is being removed.\n\nChange-Id: I44a4dc52b2cced6dac98aa895aa3de1df0926fc5\n""}, {'number': 4, 'created': '2019-05-09 14:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1ae845db874be248652b6d902191d671b1de2585', 'message': ""Remove the Veritas HyperScale Driver\n\nThe Veritas HyperScale driver was marked unsupported in\nthe Stein release.  It hasn't reported on a patch in\n327 days.\n\nThis is outside Cinder's CI requirements and therefore\nthe driver is being removed.\n\nChange-Id: I44a4dc52b2cced6dac98aa895aa3de1df0926fc5\n""}, {'number': 5, 'created': '2019-05-09 15:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/26f7a975942dead76e4aa8e2b4146511c2b13cbf', 'message': ""Remove the Veritas HyperScale Driver\n\nThe Veritas HyperScale driver was marked unsupported in\nthe Stein release.  It hasn't reported on a patch in\n327 days.\n\nThis is outside Cinder's CI requirements and therefore\nthe driver is being removed.\n\nChange-Id: I44a4dc52b2cced6dac98aa895aa3de1df0926fc5\n""}, {'number': 6, 'created': '2019-05-30 18:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1be0f0ce8b6d365828951a7428de212bec3d2b28', 'message': ""Remove the Veritas HyperScale Driver\n\nThe Veritas HyperScale driver was marked unsupported in\nthe Stein release.  It hasn't reported on a patch in\n327 days.\n\nThis is outside Cinder's CI requirements and therefore\nthe driver is being removed.\n\nChange-Id: I44a4dc52b2cced6dac98aa895aa3de1df0926fc5\n""}, {'number': 7, 'created': '2019-06-12 13:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6203c52b5954ab5eb960bb410eb4283a1fafed75', 'message': ""Remove the Veritas HyperScale Driver\n\nThe Veritas HyperScale driver was marked unsupported in\nthe Stein release.  It hasn't reported on a patch in\n327 days.\n\nThis is outside Cinder's CI requirements and therefore\nthe driver is being removed.\n\nChange-Id: I44a4dc52b2cced6dac98aa895aa3de1df0926fc5\n""}, {'number': 8, 'created': '2019-06-13 15:57:27.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/veritas/__init__.py', 'doc/source/reference/support-matrix.rst', 'cinder/volume/drivers/veritas/exception.py', 'cinder/volume/drivers/veritas/utils.py', 'releasenotes/notes/remove_veritas_hyperscale_driver-988ad62d2417124f.yaml', 'cinder/tests/unit/volume/drivers/test_vrtshyperscale.py', 'cinder/volume/drivers/veritas/hs_constants.py', 'cinder/volume/drivers/veritas/vrtshyperscale.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9aca21f5cec8f03a3bb410acb21399955144fe0f', 'message': ""Remove the Veritas HyperScale Driver\n\nThe Veritas HyperScale driver was marked unsupported in\nthe Stein release.  It hasn't reported on a patch in\n327 days.\n\nThis is outside Cinder's CI requirements and therefore\nthe driver is being removed.\n\nChange-Id: I44a4dc52b2cced6dac98aa895aa3de1df0926fc5\n""}]",0,648225,9aca21f5cec8f03a3bb410acb21399955144fe0f,213,43,8,7198,,,0,"Remove the Veritas HyperScale Driver

The Veritas HyperScale driver was marked unsupported in
the Stein release.  It hasn't reported on a patch in
327 days.

This is outside Cinder's CI requirements and therefore
the driver is being removed.

Change-Id: I44a4dc52b2cced6dac98aa895aa3de1df0926fc5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/648225/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/veritas/__init__.py', 'doc/source/reference/support-matrix.rst', 'cinder/volume/drivers/veritas/utils.py', 'cinder/tests/unit/volume/drivers/test_vrtshyperscale.py', 'cinder/volume/drivers/veritas/hs_constants.py', 'releasenotes/notes/remove_veritas_hyperscale_driver-988ad62d2417124f.yaml', 'cinder/volume/drivers/veritas/vrtshyperscale.py']",8,b750f855f1e6186e3631dfaa7eac97dcf7335949,train-driver-removal,,"# Copyright (c) 2017 Veritas Technologies LLC. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Cinder Driver for HyperScale """""" import os from oslo_config import cfg from oslo_log import log as logging from oslo_utils import excutils import six from cinder import exception from cinder.i18n import _ from cinder.image import image_utils from cinder import interface from cinder import utils from cinder.volume import driver from cinder.volume.drivers.veritas import hs_constants as constants from cinder.volume.drivers.veritas import utils as util CONF = cfg.CONF LOG = logging.getLogger(__name__) TYPE_EPISODIC_SNAP = '0' TYPE_USER_SNAP = '1' TYPE_WORKFLOW_SNAP = '2' BLOCK_SIZE = 8 MAX_REPLICAS = 2 DEFAULT_REPLICAS = 1 POOL_NAME = '{30c39970-ad80-4950-5490-8431abfaaaf0}' HYPERSCALE_VERSION = '1.0.0' PROVIDER_LOCATION_MNT = ""/hyperscale"" PROVIDER_LOCATION = 'hyperscale-sv:' + PROVIDER_LOCATION_MNT @interface.volumedriver class HyperScaleDriver(driver.VolumeDriver): VERSION = '1.0' # ThirdPartySytems wiki page CI_WIKI_NAME = ""Veritas_HyperScale_CI"" # TODO(jsbryant) Remove driver in the 'T' release if CI is not fixed. SUPPORTED = False def __init__(self, *args, **kwargs): """"""Initialization"""""" super(HyperScaleDriver, self).__init__(*args, **kwargs) self.compute_map = {} self.vsa_map = {} self.compute_meta_map = {} self.vsa_compute_map = {} self.old_total = 0 self.old_free = 0 self.my_dnid = None @staticmethod def get_driver_options(): return [] @staticmethod def _fetch_config_for_controller(): return HyperScaleDriver._fetch_config_information( persona='controller') @staticmethod def _fetch_config_for_compute(): return HyperScaleDriver._fetch_config_information( persona='compute') @staticmethod def _fetch_config_for_datanode(): return HyperScaleDriver._fetch_config_information( persona='datanode') @staticmethod def _fetch_config_information(persona): # Get hyperscale config information for persona configuration = util.get_configuration(persona) return configuration @utils.trace_method def check_for_setup_error(self): # check if HyperScale has been installed correctly try: version = util.get_hyperscale_version() if version != HYPERSCALE_VERSION: raise exception.VolumeBackendAPIException( data=(_(""Unsupported version: %s"") % version)) except (exception.ErrorInHyperScaleVersion, exception.UnableToExecuteHyperScaleCmd): err_msg = _('Exception in getting HyperScale version') LOG.exception(err_msg) raise exception.VolumeBackendAPIException(data=err_msg) def _get_replicas(self, volume, metadata): """"""Get the replicas."""""" try: ref_targets = self._get_volume_metadata_value(metadata, 'reflection_targets') if ref_targets is not None: replicas = MAX_REPLICAS else: replicas = DEFAULT_REPLICAS except Exception: LOG.exception(""Exception in getting reflection targets"") replicas = DEFAULT_REPLICAS LOG.debug(""Number of replicas: %s"", replicas) return replicas @utils.trace_method def do_setup(self, context): """"""Any initialization the volume driver does while starting."""""" super(HyperScaleDriver, self).do_setup(context) try: # Get computes info computes = HyperScaleDriver._fetch_config_for_compute() if computes is None: computes = {} for compute in computes.keys(): if 'disabled' in computes[compute].keys(): disabled = computes[compute]['disabled'] if disabled == ""1"": continue vsa_ip = computes[compute]['vsa_ip'] vsa_isolated_ip = computes[compute]['vsa_isolated_ip'] vsa_section_header = computes[compute]['vsa_section_header'] compute_name = computes[compute]['compute_name'] self.compute_map[vsa_ip] = vsa_isolated_ip self.vsa_map[vsa_ip] = vsa_section_header self.compute_meta_map[compute_name] = vsa_ip self.vsa_compute_map[vsa_ip] = compute_name # Get controller info cntr_info = HyperScaleDriver._fetch_config_for_controller() if cntr_info is None: cntr_info = {} # Get data node info self.my_dnid = util.get_datanode_id() datanodes = HyperScaleDriver._fetch_config_for_datanode() if datanodes is None: datanodes = {} for key, value in datanodes.items(): if self.my_dnid == value['hypervisor_id']: self.datanode_hostname = value['datanode_name'] self.datanode_ip = value['data_ip'] self.dn_routing_key = value['hypervisor_id'] LOG.debug(""In init compute_map %s"", self.compute_map) LOG.debug(""In init vsa_map %s"", self.vsa_map) LOG.debug(""In init compute_meta_map %s"", self.compute_meta_map) except (exception.UnableToProcessHyperScaleCmdOutput, exception.ErrorInFetchingConfiguration): err_msg = _(""Unable to initialise the Veritas cinder driver"") LOG.exception(err_msg) raise exception.VolumeBackendAPIException(data=err_msg) except Exception: err_msg = _(""Internal error occurred"") LOG.exception(err_msg) raise exception.VolumeBackendAPIException(data=err_msg) @utils.trace_method def create_cloned_volume(self, volume, src_vref): """"""Creates a clone of the specified volume."""""" LOG.debug(""Clone volume"") model_update = {} try: LOG.debug(""Clone new volume %(t_id)s from source volume %(s_id)s"", {""t_id"": volume['id'], ""s_id"": src_vref['id']}) # 1. Make a call to DN # Check if current_dn_owner is set. rt_key = None # Get metadata for volume metadata = self._get_volume_metadata(src_vref) rt_key = self._get_volume_metadata_value(metadata, 'current_dn_owner') if rt_key is None: rt_key = self.dn_routing_key util.message_data_plane( rt_key, 'hyperscale.storage.dm.volume.clone', pool_name=POOL_NAME, display_name=util.get_guid_with_curly_brackets( volume['id']), version_name=util.get_guid_with_curly_brackets( src_vref['id']), volume_raw_size=volume['size'], volume_qos=1, parent_volume_guid=util.get_guid_with_curly_brackets( src_vref['id']), user_id=util.get_guid_with_curly_brackets( volume['user_id']), project_id=util.get_guid_with_curly_brackets( volume['project_id']), volume_guid=util.get_guid_with_curly_brackets( volume['id'])) LOG.debug(""Volume cloned successfully on data node"") # Get metadata for volume volume_metadata = self._get_volume_metadata(volume) parent_cur_dn = self._get_volume_metadata_value(metadata, 'current_dn_ip') metadata_update = {} metadata_update['Primary_datanode_ip'] = parent_cur_dn metadata_update['current_dn_owner'] = rt_key metadata_update['current_dn_ip'] = parent_cur_dn metadata_update['source_volid'] = src_vref['id'] metadata_update['size'] = src_vref['size'] # 2. Choose a potential replica here. # The actual decision to have potential replica is made in NOVA. rt_key, rt_dn_ip = self._select_rt(volume, volume_metadata, only_select=True) if rt_key and rt_dn_ip: metadata_update['Potential_secondary_key'] = rt_key metadata_update['Potential_secondary_ip'] = rt_dn_ip except (exception.UnableToExecuteHyperScaleCmd, exception.UnableToProcessHyperScaleCmdOutput): with excutils.save_and_reraise_exception(): LOG.exception('Exception in clone volume', exc_info=True) except exception.InvalidMetadataType: with excutils.save_and_reraise_exception(): LOG.exception('Exception updating metadata in clone' ' volume', exc_info=True) volume_metadata.update(metadata_update) volume['provider_location'] = PROVIDER_LOCATION model_update = {'provider_location': volume['provider_location'], 'metadata': volume_metadata} return model_update def _get_datanodes_info(self): # Get hyperscale datanode config information from controller msg_body = {} data = None try: cmd_out, cmd_error = util.message_controller( constants.HS_CONTROLLER_EXCH, 'hyperscale.controller.get.membership', **msg_body) LOG.debug(""Response Message from Controller: %s"", cmd_out) payload = cmd_out.get('payload') data = payload.get('of_membership') except (exception.UnableToExecuteHyperScaleCmd, exception.UnableToProcessHyperScaleCmdOutput): with excutils.save_and_reraise_exception(): LOG.exception(""Failed to get datanode config "" ""information from controller"") return data def _select_rt(self, volume, metadata, only_select=False): # For the boot vdisk(first vdisk) of the instance, choose any # reflection target other than this. For the data disks, # retain the reflection target. # It will be passed by the caller after reading it from instance # metadata. LOG.debug(""_select_rt "") rt_key = self._get_volume_metadata_value(metadata, 'Secondary_datanode_key') rt_dn_ip = self._get_volume_metadata_value(metadata, 'Secondary_datanode_ip') current_dn_ip = self._get_volume_metadata_value(metadata, 'current_dn_ip') if current_dn_ip is not None and rt_dn_ip == current_dn_ip: return None, None if rt_key is not None and rt_dn_ip is not None: return rt_key, rt_dn_ip rt_key = 'NA' rt_dn_ip = 'NA' datanodes = self._get_datanodes_info() LOG.debug(""Data nodes: %s"", datanodes) for key, value in datanodes.items(): if value['personality'] == 'datanode': if self.my_dnid != value['hypervisor_id']: LOG.debug(""reflection target hypervisor_id: %s"", value['hypervisor_id']) LOG.debug(""my hypervisor_id: %s"", self.my_dnid) rt_dn_ip = value['data_ip'] rt_key = value['hypervisor_id'] if only_select: return rt_key, rt_dn_ip return rt_key, rt_dn_ip def _create_replica(self, volume, metadata): """"""Create vdisk on peer data node."""""" try: reflection_target_ip = None rt_routing_key, reflection_target_ip = ( self._select_rt(volume, metadata)) LOG.debug(""_create_replica %(rt_key)s %(rt_ip)s"", {""rt_key"": rt_routing_key, ""rt_ip"": reflection_target_ip}) metadata_update = {} metadata_update['Secondary_datanode_key'] = rt_routing_key metadata_update['Secondary_datanode_ip'] = reflection_target_ip if rt_routing_key is None or rt_routing_key == 'NA': return False, None, metadata_update instance_id = self._get_volume_metadata_value(metadata, 'InstanceId') util.message_data_plane( rt_routing_key, 'hyperscale.storage.dm.volume.create', pool_name=POOL_NAME, volume_guid=util.get_guid_with_curly_brackets( volume['id']), display_name=util.get_guid_with_curly_brackets( volume['id']), volume_raw_size=volume['size'], vm_id=util.get_guid_with_curly_brackets( six.text_type(instance_id)), is_reflection_source=0, dn_reflection_factor=1, reflection_src_ip=self.datanode_ip, user_id=util.get_guid_with_curly_brackets( volume['user_id']), project_id=util.get_guid_with_curly_brackets( volume['project_id']), volume_qos=1) # Failure handling TBD. ret = True LOG.debug(""Create volume sent to reflection target data node"") except (exception.VolumeNotFound, exception.UnableToProcessHyperScaleCmdOutput, exception.ErrorInSendingMsg): LOG.error(""Exception in creating replica"", exc_info=True) metadata_update['Secondary_datanode_key'] = 'NA' metadata_update['Secondary_datanode_ip'] = 'NA' metadata_update['DN_Resiliency'] = 'degraded' ret = False return ret, reflection_target_ip, metadata_update def _get_volume_details_for_create_volume(self, reflection_target_ip, volume, metadata): instance_id = self._get_volume_metadata_value(metadata, 'InstanceId') volume_details = {} volume_details['pool_name'] = POOL_NAME volume_details['volume_guid'] = ( util.get_guid_with_curly_brackets(volume['id'])) volume_details['display_name'] = ( util.get_guid_with_curly_brackets(volume['id'])) volume_details['volume_raw_size'] = volume['size'] volume_details['vm_id'] = util.get_guid_with_curly_brackets( six.text_type(instance_id)) volume_details['user_id'] = util.get_guid_with_curly_brackets( volume['user_id']) volume_details['project_id'] = ( util.get_guid_with_curly_brackets(volume['project_id'])) volume_details['volume_qos'] = 1 volume_details['dn_reflection_factor'] = 0 if reflection_target_ip is not None: volume_details['is_reflection_source'] = 1 volume_details['dn_reflection_factor'] = 1 volume_details['reflection_target_ip'] = reflection_target_ip return volume_details def _get_volume_metadata(self, volume): volume_metadata = {} if 'volume_metadata' in volume: for metadata in volume['volume_metadata']: volume_metadata[metadata['key']] = metadata['value'] return volume_metadata def _get_volume_metadata_value(self, metadata, metadata_key): metadata_value = None if metadata: metadata_value = metadata.get(metadata_key) LOG.debug(""Volume metadata key %(m_key)s, value %(m_val)s"", {""m_key"": metadata_key, ""m_val"": metadata_value}) return metadata_value @utils.trace_method def create_volume(self, volume): """"""Creates a hyperscale volume."""""" model_update = {} metadata_update = {} reflection_target_ip = None LOG.debug(""Create volume"") try: volume_metadata = self._get_volume_metadata(volume) # 1. Check how many replicas needs to be created. replicas = self._get_replicas(volume, volume_metadata) if replicas > 1: # 2. Create replica on peer datanode. LOG.debug(""Create volume message sent to peer data node"") ret, reflection_target_ip, metadata_update = ( self._create_replica(volume, volume_metadata)) if ret is False: metadata_update['DN_Resiliency'] = 'degraded' # Do not fail volume creation, just create one replica. reflection_target_ip = None # 3. Get volume details based on reflection factor # for volume volume_details = self._get_volume_details_for_create_volume( reflection_target_ip, volume, volume_metadata) # 4. Send create volume to data node with volume details util.message_data_plane( self.dn_routing_key, 'hyperscale.storage.dm.volume.create', **volume_details) LOG.debug(""Create volume message sent to data node"") volume_metadata['Primary_datanode_ip'] = self.datanode_ip volume_metadata['current_dn_owner'] = self.dn_routing_key volume_metadata['current_dn_ip'] = self.datanode_ip volume_metadata['hs_image_id'] = util.get_hyperscale_image_id() volume_metadata.update(metadata_update) volume['provider_location'] = PROVIDER_LOCATION model_update = {'provider_location': volume['provider_location'], 'metadata': volume_metadata} except (exception.UnableToProcessHyperScaleCmdOutput, exception.ErrorInSendingMsg): with excutils.save_and_reraise_exception(): LOG.exception('Unable to create hyperscale volume') return model_update @utils.trace_method def delete_volume(self, volume): """"""Deletes a volume."""""" LOG.debug(""Delete volume with id %s"", volume['id']) # 1. Check for provider location if not volume['provider_location']: LOG.warning('Volume %s does not have provider_location specified', volume['name']) raise exception.VolumeMetadataNotFound( volume_id=volume['id'], metadata_key='provider_location') # 2. Message data plane for volume deletion message_body = {'display_name': volume['name']} # if Secondary_datanode_key is present, # delete the replica from secondary datanode. rt_key = None # Get metadata for volume metadata = self._get_volume_metadata(volume) rt_key = self._get_volume_metadata_value(metadata, 'Secondary_datanode_key') rt_dn_ip = self._get_volume_metadata_value(metadata, 'Secondary_datanode_ip') current_dn_ip = self._get_volume_metadata_value(metadata, 'current_dn_ip') if current_dn_ip is not None and rt_dn_ip == current_dn_ip: rt_key = None # Send Delete Volume to Data Node try: if rt_key is not None: util.message_data_plane( rt_key, 'hyperscale.storage.dm.volume.delete', **message_body) util.message_data_plane( self.dn_routing_key, 'hyperscale.storage.dm.volume.delete', **message_body) except (exception.UnableToProcessHyperScaleCmdOutput, exception.ErrorInSendingMsg): LOG.error('Exception while deleting volume', exc_info=True) raise exception.VolumeIsBusy(volume_name=volume['name']) @utils.trace_method def create_snapshot(self, snapshot): """"""Create a snapshot."""""" LOG.debug(""Create Snapshot %s"", snapshot['volume_id']) workflow_id = None last_in_eds_seq = None model_update = {} rt_key = None # Get metadata for volume snapshot_volume = snapshot.get('volume') metadata = snapshot_volume['metadata'] rt_key = self._get_volume_metadata_value(metadata, 'current_dn_owner') if rt_key is None: rt_key = self.dn_routing_key # Check for episodic based on metadata key workflow_snap = 0 meta = snapshot.get('metadata') LOG.debug('Snapshot metatadata %s', meta) if 'SNAPSHOT-COOKIE' in meta.keys(): snapsize = meta['SIZE'] # Call DataNode for episodic snapshots LOG.debug('Calling Data Node for episodic snapshots') message_body = {} message_body['snapshot_id'] = ( util.get_guid_with_curly_brackets(snapshot['id'])) message_body['volume_guid'] = ( util.get_guid_with_curly_brackets( snapshot['volume_id'])) message_body['snapshot_cookie'] = meta['SNAPSHOT-COOKIE'] try: # send message to data node util.message_data_plane( rt_key, 'hyperscale.storage.dm.volume.snapshot.update', **message_body) # Update size via cinder api if snapsize is not None: model_update['volume_size'] = snapsize.value # Set the episodic type metatdata for filtering purpose meta['TYPE'] = TYPE_EPISODIC_SNAP meta['status'] = 'available' meta['datanode_ip'] = self.datanode_ip except (exception.VolumeNotFound, exception.UnableToExecuteHyperScaleCmd, exception.UnableToProcessHyperScaleCmdOutput): with excutils.save_and_reraise_exception(): LOG.exception('Exception in create snapshot') model_update['metadata'] = meta return model_update else: out_meta = util.episodic_snap(meta) if out_meta.get('update'): meta['TYPE'] = out_meta.get('TYPE') meta['status'] = out_meta.get('status') meta['datanode_ip'] = self.datanode_ip model_update['metadata'] = meta return model_update if 'workflow_id' in meta.keys(): workflow_snap = 1 workflow_id = meta['workflow_id'] if 'monitor_snap' in meta.keys(): if int(meta['monitor_snap']) == constants.SNAP_RESTORE_RF: last_in_eds_seq = 0 else: last_in_eds_seq = 1 # If code falls through here then it mean its user initiated snapshots try: # Get metadata for volume vsa_routing_key = None snapshot_volume = snapshot.get('volume') metadata = snapshot_volume['metadata'] LOG.debug('Calling Compute Node for user initiated snapshots') vsa_ip = self._get_volume_metadata_value(metadata, 'acting_vdisk_owner') if vsa_ip is None: vsa_ip = self._get_volume_metadata_value(metadata, 'vsa_ip') LOG.debug(""Create snap on compute vsa %s"", vsa_ip) if vsa_ip: vsa_routing_key = vsa_ip.replace('.', '') message_body = {} # Set the parent volume id message_body['vdisk_id_str'] = ( util.get_guid_with_curly_brackets( snapshot['volume_id'])) # Set the snapshot details message_body['snapshot_id_str'] = ( util.get_guid_with_curly_brackets(snapshot['id'])) message_body['snapshot_name'] = snapshot['name'] if workflow_snap == 1: message_body['workflow_snapshot'] = 1 else: message_body['user_initiated'] = 1 if last_in_eds_seq is not None: message_body['last_in_eds_seq'] = last_in_eds_seq # send message to compute node util.message_compute_plane( vsa_routing_key, 'hyperscale.storage.nfs.volume.snapshot.create', **message_body) # Set the snapshot type to either workflow or user initiated # snapshot in metatdata for filtering purpose if workflow_snap: LOG.debug('__help request for WORKFLOW snapshot') meta['TYPE'] = TYPE_WORKFLOW_SNAP meta['status'] = 'creating' meta['datanode_ip'] = self.datanode_ip else: LOG.debug('__help request for MANUAL snapshot') meta['TYPE'] = TYPE_USER_SNAP meta['status'] = 'creating' meta['datanode_ip'] = self.datanode_ip if workflow_id is not None: message_body = {} message_body['workflow_id'] = workflow_id message_body['skip_upto_sentinel'] = ( 'hyperscale.vdisk.failback.snapmark_sentinel') # send message to controller node util.message_controller( constants.HS_CONTROLLER_EXCH, 'hyperscale.controller.execute.workflow', **message_body) except (exception.VolumeNotFound, exception.UnableToExecuteHyperScaleCmd, exception.UnableToProcessHyperScaleCmdOutput): with excutils.save_and_reraise_exception(): LOG.exception('Exception in create snapshot') model_update['metadata'] = meta return model_update @utils.trace_method def delete_snapshot(self, snapshot): """"""Deletes a snapshot."""""" meta = snapshot.get('metadata') if 'force' in meta.keys(): LOG.debug(""Found force flag for snapshot metadata."" "" Not sending call to datanode "") LOG.debug('snapshot metadata %s', meta) return if 'is_busy' in meta.keys(): LOG.warning(""Snapshot %s is being used, skipping delete"", snapshot['id']) raise exception.SnapshotIsBusy(snapshot_name=snapshot['id']) else: LOG.warning(""Snapshot %s is being deleted,"" "" is_busy key not present"", snapshot['id']) message_body = {} message_body['volume_guid'] = ( util.get_guid_with_curly_brackets(snapshot['volume_id'])) message_body['snapshot_id'] = ( util.get_guid_with_curly_brackets(snapshot['id'])) # HyperScale snapshots whether Episodic or User initiated, all resides # in the data plane. # Hence delete snapshot operation will go to datanode rt_key = None # Get metadata for volume snapshot_volume = snapshot.get('volume') metadata = snapshot_volume['metadata'] rt_key = self._get_volume_metadata_value(metadata, 'current_dn_owner') if rt_key is None: rt_key = self.dn_routing_key try: # send message to data node util.message_data_plane( rt_key, 'hyperscale.storage.dm.version.delete', **message_body) except (exception.UnableToExecuteHyperScaleCmd, exception.UnableToProcessHyperScaleCmdOutput): with excutils.save_and_reraise_exception(): LOG.exception('Exception in delete snapshot') @utils.trace_method def create_volume_from_snapshot(self, volume, snapshot): """"""Create volume from snapshot."""""" LOG.debug(""Create volume from snapshot"") model_update = {} try: LOG.debug(""Clone new volume %(t_id)s from snapshot with id"" "" %(s_id)s"", {""t_id"": volume['id'], ""s_id"": volume['snapshot_id']}) # 1. Make a call to DN # Check if current_dn_owner is set. # Route the snapshot creation request to current_dn_owner rt_key = None # Get metadata for volume snap_vol = snapshot['volume'] metadata = snap_vol['metadata'] rt_key = self._get_volume_metadata_value(metadata, 'current_dn_owner') if rt_key is None: rt_key = self.dn_routing_key util.message_data_plane( rt_key, 'hyperscale.storage.dm.volume.clone.create', pool_name=POOL_NAME, display_name=util.get_guid_with_curly_brackets( volume['id']), version_name=util.get_guid_with_curly_brackets( volume['snapshot_id']), volume_raw_size=volume['size'], volume_qos=1, parent_volume_guid=util.get_guid_with_curly_brackets( snapshot['volume_id']), user_id=util.get_guid_with_curly_brackets( volume['user_id']), project_id=util.get_guid_with_curly_brackets( volume['project_id']), volume_guid=util.get_guid_with_curly_brackets( volume['id'])) LOG.debug(""Volume created successfully on data node"") # Get metadata for volume volume_metadata = self._get_volume_metadata(volume) parent_cur_dn = self._get_volume_metadata_value(metadata, 'current_dn_ip') metadata_update = {} metadata_update['snapshot_id'] = snapshot['id'] metadata_update['parent_volume_guid'] = ( util.get_guid_with_curly_brackets( snapshot['volume_id'])) metadata_update['Primary_datanode_ip'] = parent_cur_dn metadata_update['current_dn_owner'] = rt_key metadata_update['current_dn_ip'] = parent_cur_dn # 2. Choose a potential replica here. # The actual decision to have potential replica is made in NOVA. rt_key, rt_dn_ip = self._select_rt(volume, volume_metadata, only_select=True) if rt_key and rt_dn_ip: metadata_update['Potential_secondary_key'] = rt_key metadata_update['Potential_secondary_ip'] = rt_dn_ip except (exception.UnableToExecuteHyperScaleCmd, exception.UnableToProcessHyperScaleCmdOutput): with excutils.save_and_reraise_exception(): LOG.exception('Exception in creating volume from snapshot') except exception.InvalidMetadataType: with excutils.save_and_reraise_exception(): LOG.exception('Exception updating metadata in create' ' volume from snapshot') volume_metadata.update(metadata_update) volume['provider_location'] = PROVIDER_LOCATION model_update = {'provider_location': volume['provider_location'], 'metadata': volume_metadata} return model_update @utils.trace_method def get_volume_stats(self, refresh=False): """"""Get volume status."""""" # If 'refresh' is True, run update the stats first. LOG.debug(""Get volume status"") self._stats = self._fetch_volume_status() new_total = self._stats['total_capacity_gb'] new_free = self._stats['free_capacity_gb'] if self.old_total != new_total or self.old_free != new_free: self.old_total = new_total self.old_free = new_free message_body = {'hostname': self.datanode_hostname, 'is_admin': 1, 'total': new_total, 'free': new_free} try: cmd_out, cmd_error = util.message_controller( constants.HS_CONTROLLER_EXCH, 'hyperscale.controller.set.datanode.storage.stats', **message_body) LOG.debug(""Response Message from Controller: %s"", cmd_out) except (exception.UnableToExecuteHyperScaleCmd, exception.UnableToProcessHyperScaleCmdOutput): with excutils.save_and_reraise_exception(): LOG.exception('Exception during fetch stats') return self._stats @utils.trace_method def extend_volume(self, volume, size_gb): """"""Extend volume."""""" LOG.debug(""Extend volume"") try: message_body = {} message_body['volume_guid'] = ( util.get_guid_with_curly_brackets(volume['id'])) message_body['new_size'] = size_gb # Send Extend Volume message to Data Node util.message_data_plane( self.dn_routing_key, 'hyperscale.storage.dm.volume.extend', **message_body) except (exception.UnableToProcessHyperScaleCmdOutput, exception.ErrorInSendingMsg): msg = _('Exception in extend volume %s') % volume['name'] LOG.exception(msg) raise exception.VolumeDriverException(message=msg) def _fetch_volume_status(self): """"""Retrieve Volume Stats from Datanode."""""" LOG.debug(""Request Volume Stats from Datanode"") data = {} data[""volume_backend_name""] = 'Veritas_HyperScale' data[""vendor_name""] = 'Veritas Technologies LLC' data[""driver_version""] = self.VERSION data[""storage_protocol""] = 'nfs' data['total_capacity_gb'] = 0.0 data['free_capacity_gb'] = 0.0 data['reserved_percentage'] = self.configuration.reserved_percentage data['QoS_support'] = False try: message_body = {} # send message to data node cmd_out, cmd_error = util.message_data_plane( self.dn_routing_key, 'hyperscale.storage.dm.discover.stats', **message_body) LOG.debug(""Response Message from Datanode: %s"", cmd_out) payload = cmd_out.get('payload') if 'stats' in payload.keys(): if 'total_capacity' in payload.get( 'stats')[0].keys(): total_capacity = payload.get( 'stats')[0]['total_capacity'] if 'free_capacity' in payload.get( 'stats')[0].keys(): free_capacity = payload.get( 'stats')[0]['free_capacity'] if total_capacity is not None: data['total_capacity_gb'] = float(total_capacity) data['free_capacity_gb'] = float(free_capacity) except (exception.UnableToExecuteHyperScaleCmd, exception.UnableToProcessHyperScaleCmdOutput): with excutils.save_and_reraise_exception(): LOG.exception('Exception during fetch stats') return data @utils.trace_method def initialize_connection(self, volume, connector): """"""Allow connection to connector and return connection info."""""" data = {'export': volume['provider_location'], 'name': volume['name']} return { 'driver_volume_type': 'veritas_hyperscale', 'data': data } def terminate_connection(self, volume, connector, **kwargs): """"""Disallow connection from connector."""""" pass def ensure_export(self, ctx, volume): """"""Synchronously recreates an export for a logical volume."""""" pass def create_export(self, ctx, volume, connector): # Exports the volume. Can optionally return a Dictionary of changes # to the volume object to be persisted."""""" pass def remove_export(self, ctx, volume): """"""Removes an export for a logical volume."""""" pass @utils.trace_method def copy_image_to_volume(self, context, volume, image_service, image_id): """"""Fetch the image from image_service and write it to the volume."""""" LOG.debug(""copy_image_to_volume volume: %(vol)s "" ""image service: %(service)s image id: %(id)s."", {'vol': volume, 'service': six.text_type(image_service), 'id': six.text_type(image_id)}) path = util.get_image_path(image_id) try: # Skip image creation if file already exists if not os.path.isfile(path): image_utils.fetch_to_raw(context, image_service, image_id, path, BLOCK_SIZE, size=volume['size']) metadata = self._get_volume_metadata(volume) hs_img_id = self._get_volume_metadata_value(metadata, 'hs_image_id') util.update_image(path, volume['id'], hs_img_id) except (exception.UnableToExecuteHyperScaleCmd, exception.UnableToProcessHyperScaleCmdOutput): with excutils.save_and_reraise_exception(): LOG.exception('Failed to copy_image_to_volume') @utils.trace_method def copy_volume_to_image(self, context, volume, image_service, image_meta): """"""Copy the volume to the specified image."""""" LOG.debug(""copy_volume_to_image volume: %(vol)s"" "" image service:%(service)s image meta: %(meta)s."", {'vol': volume, 'service': six.text_type(image_service), 'meta': six.text_type(image_meta)}) try: metadata = self._get_volume_metadata(volume) hs_img_id = self._get_volume_metadata_value(metadata, 'hs_image_id') path = util.get_image_path(hs_img_id, 'volume') image_utils.upload_volume(context, image_service, image_meta, path) except (exception.UnableToExecuteHyperScaleCmd, exception.UnableToProcessHyperScaleCmdOutput): with excutils.save_and_reraise_exception(): LOG.exception('Failed to copy_volume_to_image') ",18,1950
openstack%2Fopenstack-ansible-os_barbican~master~I49a5636fcdb2ff89a662da3c8e7bf9d9472b6352,openstack/openstack-ansible-os_barbican,master,I49a5636fcdb2ff89a662da3c8e7bf9d9472b6352,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:15:23.000000000,2019-06-18 21:40:28.000000000,2019-06-18 21:40:28.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-18 18:15:23.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/5fc7bbf0f705231ff3c21a970696014e222d6e9d', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I49a5636fcdb2ff89a662da3c8e7bf9d9472b6352\n'}]",0,666100,5fc7bbf0f705231ff3c21a970696014e222d6e9d,7,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I49a5636fcdb2ff89a662da3c8e7bf9d9472b6352
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/00/666100/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,5fc7bbf0f705231ff3c21a970696014e222d6e9d,openstack/openstack-ansible-tests/sync-tests, update_password: always, force: true,1,1
openstack%2Fqinling~master~I9bf13ec5355d30bb2f83599cce4fa98eea15c8b8,openstack/qinling,master,I9bf13ec5355d30bb2f83599cce4fa98eea15c8b8,Custom initial number of replicas,ABANDONED,2018-08-06 10:28:41.000000000,2019-06-18 21:38:52.000000000,,"[{'_account_id': 6732}, {'_account_id': 16006}, {'_account_id': 21781}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-06 10:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/ece1beb0ef21afb77b0be7ea1301e2429b70e8bc', 'message': 'Custom initial number of replicas\n\nAdded support to specify the initial number of replica sets during\nruntime creation. If not specified, the number of replicas in conf file\nis taken as default.\n\nChange-Id: I9bf13ec5355d30bb2f83599cce4fa98eea15c8b8\nTask: 23187\nStory: 2003095\n'}, {'number': 2, 'created': '2019-05-28 14:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/bc789b92e7c779f665ad8381e6c28f5077ad1b5a', 'message': 'Custom initial number of replicas\n\nAdded support to specify the initial number of replica sets during\nruntime creation. If not specified, the number of replicas in conf file\nis taken as default.\n\nChange-Id: I9bf13ec5355d30bb2f83599cce4fa98eea15c8b8\nTask: 23187\nStory: 2003095\n'}, {'number': 3, 'created': '2019-05-28 15:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/1c87df68aa9904eb6910ab848cb196f9387456ac', 'message': 'Custom initial number of replicas\n\nAdded support to specify the initial number of replica sets during\nruntime creation. If not specified, the number of replicas in conf file\nis taken as default.\n\nChange-Id: I9bf13ec5355d30bb2f83599cce4fa98eea15c8b8\nTask: 23187\nStory: 2003095\n'}, {'number': 4, 'created': '2019-05-28 15:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/66e8ad8ade8c1ad99d82b63c464f04d653f05316', 'message': 'Custom initial number of replicas\n\nAdded support to specify the initial number of replica sets during\nruntime creation. If not specified, the number of replicas in conf file\nis taken as default.\n\nChange-Id: I9bf13ec5355d30bb2f83599cce4fa98eea15c8b8\nTask: 23187\nStory: 2003095\n'}, {'number': 5, 'created': '2019-05-28 18:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/2f6d98bfa46978a829395f38bf16e10f01edd8a5', 'message': 'Custom initial number of replicas\n\nAdded support to specify the initial number of replica sets during\nruntime creation. If not specified, the number of replicas in conf file\nis taken as default.\n\nChange-Id: I9bf13ec5355d30bb2f83599cce4fa98eea15c8b8\nTask: 23187\nStory: 2003095\n'}, {'number': 6, 'created': '2019-05-28 18:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/573859f61715c7b6fce930bb668ca284ee4404ef', 'message': 'Custom initial number of replicas\n\nAdded support to specify the initial number of replica sets during\nruntime creation. If not specified, the number of replicas in conf file\nis taken as default.\n\nChange-Id: I9bf13ec5355d30bb2f83599cce4fa98eea15c8b8\nTask: 23187\nStory: 2003095\n'}, {'number': 7, 'created': '2019-05-28 18:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/2b9ca29855b5f0eb1eebfa9040f27c73aa690a81', 'message': 'Custom initial number of replicas\n\nAdded support to specify the initial number of replica sets during\nruntime creation. If not specified, the number of replicas in conf file\nis taken as default.\n\nChange-Id: I9bf13ec5355d30bb2f83599cce4fa98eea15c8b8\nTask: 23187\nStory: 2003095\n'}, {'number': 8, 'created': '2019-05-28 19:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/fa11e341bda4970bf5d210c2ebbe6502708e918b', 'message': 'Custom initial number of replicas\n\nAdded support to specify the initial number of replica sets during\nruntime creation. If not specified, the number of replicas in conf file\nis taken as default.\n\nChange-Id: I9bf13ec5355d30bb2f83599cce4fa98eea15c8b8\nTask: 23187\nStory: 2003095\n'}, {'number': 9, 'created': '2019-05-28 20:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/ee7d2b2c7aa2b3463e80bbca5661c1c45cc223bc', 'message': 'Custom initial number of replicas\n\nAdded support to specify the initial number of replica sets during\nruntime creation. If not specified, the number of replicas in conf file\nis taken as default.\n\nChange-Id: I9bf13ec5355d30bb2f83599cce4fa98eea15c8b8\nTask: 23187\nStory: 2003095\n'}, {'number': 10, 'created': '2019-05-28 21:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/6a3f0c88e07e98cfc56d22e0115896b14f38104f', 'message': 'Custom initial number of replicas\n\nAdded support to specify the initial number of replica sets during\nruntime creation. If not specified, the number of replicas in conf file\nis taken as default.\n\nChange-Id: I9bf13ec5355d30bb2f83599cce4fa98eea15c8b8\nTask: 23187\nStory: 2003095\n'}, {'number': 11, 'created': '2019-06-10 20:40:37.000000000', 'files': ['qinling/orchestrator/kubernetes/manager.py', 'qinling/engine/default_engine.py', 'qinling_tempest_plugin/tests/api/test_runtimes.py', 'qinling_tempest_plugin/services/qinling_client.py', 'qinling/tests/unit/engine/test_default_engine.py', 'releasenotes/notes/add-replicas-option-546813ab4caebcf5.yaml', 'qinling/tests/unit/orchestrator/kubernetes/test_manager.py', 'qinling/api/controllers/v1/resources.py', 'qinling/db/sqlalchemy/migration/alembic_migrations/versions/006_add_replicas_for_runtime.py', 'qinling/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/qinling/commit/d03a938ea04b1fe4751950b1a3b08388977bf98a', 'message': 'Custom initial number of replicas\n\nAdded support to specify the initial number of replica sets during\nruntime creation. If not specified, the number of replicas in conf file\nis taken as default.\n\nChange-Id: I9bf13ec5355d30bb2f83599cce4fa98eea15c8b8\nTask: 23187\nStory: 2003095\n'}]",0,589110,d03a938ea04b1fe4751950b1a3b08388977bf98a,28,4,11,28696,,,0,"Custom initial number of replicas

Added support to specify the initial number of replica sets during
runtime creation. If not specified, the number of replicas in conf file
is taken as default.

Change-Id: I9bf13ec5355d30bb2f83599cce4fa98eea15c8b8
Task: 23187
Story: 2003095
",git fetch https://review.opendev.org/openstack/qinling refs/changes/10/589110/10 && git format-patch -1 --stdout FETCH_HEAD,"['qinling/orchestrator/kubernetes/manager.py', 'qinling/engine/default_engine.py', 'qinling_tempest_plugin/services/qinling_client.py', 'qinling_tempest_plugin/tests/api/test_runtimes.py', 'qinling/tests/unit/engine/test_default_engine.py', 'qinling/tests/unit/orchestrator/kubernetes/test_manager.py', 'qinling/api/controllers/v1/resources.py', 'qinling/db/sqlalchemy/models.py']",8,ece1beb0ef21afb77b0be7ea1301e2429b70e8bc,replicas, replicas = sa.Column(sa.Integer),,24,10
openstack%2Fopenstack-ansible-os_designate~master~I601bf4a68c1491253dfc90f36dca247ab092fa39,openstack/openstack-ansible-os_designate,master,I601bf4a68c1491253dfc90f36dca247ab092fa39,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:15:40.000000000,2019-06-18 21:32:32.000000000,2019-06-18 21:32:32.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-18 18:15:40.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/edbf74abe6e706684cc2e6c371612580a5ad0126', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I601bf4a68c1491253dfc90f36dca247ab092fa39\n'}]",0,666106,edbf74abe6e706684cc2e6c371612580a5ad0126,7,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I601bf4a68c1491253dfc90f36dca247ab092fa39
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/06/666106/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,edbf74abe6e706684cc2e6c371612580a5ad0126,openstack/openstack-ansible-tests/sync-tests, update_password: always, force: true,1,1
openstack%2Fcongress-specs~master~Ib2b91a6826bc7a4c72e30dfcdf1c34295a396407,openstack/congress-specs,master,Ib2b91a6826bc7a4c72e30dfcdf1c34295a396407,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-05-27 05:52:15.000000000,2019-06-18 21:30:34.000000000,2019-06-18 21:30:34.000000000,"[{'_account_id': 18591}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 25553}, {'_account_id': 27781}, {'_account_id': 28614}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-05-27 05:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-specs/commit/66d171e657629697094e635637efeff4cd2e7848', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nThorough replacement of git.openstack.org URLs with their opendev.org counterparts.\n\nChange-Id: Ib2b91a6826bc7a4c72e30dfcdf1c34295a396407\n'}, {'number': 2, 'created': '2019-05-27 05:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-specs/commit/85bf2320fba16f0e7ae1d9985562cd8d5f31019e', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\n1. Replace git.openstack.org URLs with opendev.org URLs\n2. Remove unncessary ""==""\n\nChange-Id: Ib2b91a6826bc7a4c72e30dfcdf1c34295a396407\n'}, {'number': 3, 'created': '2019-05-27 06:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-specs/commit/1791c1ed90cae0794478935e54493738e6293464', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\n1. Replace git.openstack.org URLs with opendev.org URLs\n2. Remove unncessary ""==""\n\nChange-Id: Ib2b91a6826bc7a4c72e30dfcdf1c34295a396407\n'}, {'number': 4, 'created': '2019-05-27 06:07:27.000000000', 'files': ['specs/template.rst', 'README.rst', 'specs/rocky/alternative-engine-z3.rst', 'specs/newton/template.rst', 'specs/queens/configuration-files-validation.rst'], 'web_link': 'https://opendev.org/openstack/congress-specs/commit/fd9f1540ce3eb627f9e58924fa85d461fb06b977', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\n1. Replace git.openstack.org URLs with opendev.org URLs\n2. Remove unncessary ""==""\n\nChange-Id: Ib2b91a6826bc7a4c72e30dfcdf1c34295a396407\n'}]",0,661536,fd9f1540ce3eb627f9e58924fa85d461fb06b977,14,7,4,30356,,,0,"Replace git.openstack.org URLs with opendev.org URLs

1. Replace git.openstack.org URLs with opendev.org URLs
2. Remove unncessary ""==""

Change-Id: Ib2b91a6826bc7a4c72e30dfcdf1c34295a396407
",git fetch https://review.opendev.org/openstack/congress-specs refs/changes/36/661536/4 && git format-patch -1 --stdout FETCH_HEAD,"['specs/template.rst', 'specs/newton/template.rst']",2,66d171e657629697094e635637efeff4cd2e7848,,http://opendev.org/openstack/nova/tree/nova/api/openstack/compute/schemas/v3,http://git.openstack.org/cgit/openstack/nova/tree/nova/api/openstack/compute/schemas/v3,2,2
openstack%2Fopenstack-ansible-os_congress~master~I79225fcf83d07ef8e552200ee5a21e7ca88c9b66,openstack/openstack-ansible-os_congress,master,I79225fcf83d07ef8e552200ee5a21e7ca88c9b66,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:15:37.000000000,2019-06-18 21:28:35.000000000,2019-06-18 21:28:35.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-18 18:15:37.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/9ba9eae96d11863f052ff4b76978612a9595bd3f', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I79225fcf83d07ef8e552200ee5a21e7ca88c9b66\n'}]",0,666105,9ba9eae96d11863f052ff4b76978612a9595bd3f,7,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I79225fcf83d07ef8e552200ee5a21e7ca88c9b66
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_congress refs/changes/05/666105/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,9ba9eae96d11863f052ff4b76978612a9595bd3f,openstack/openstack-ansible-tests/sync-tests, update_password: always, force: true,1,1
openstack%2Fopenstack-helm-infra~master~I1f95a635ab4dfdb3718d5d4fa668c64a9095e899,openstack/openstack-helm-infra,master,I1f95a635ab4dfdb3718d5d4fa668c64a9095e899,Elasticsearch: Allow override of job back off limits and deadlines,MERGED,2019-04-01 19:25:45.000000000,2019-06-18 21:18:47.000000000,2019-06-18 21:18:47.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28849}]","[{'number': 1, 'created': '2019-04-01 19:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/79c2fbc065aa19624e9d92f0a24ed60742f4d569', 'message': 'Elasticsearch: Allow override of job back off limits and deadlines\n\nthis updates the Elasticsearch cluster wait and snapshot repo jobs\nto include values overrides for the job backoff limits and the\nactive deadline seconds field. This allows for tweaking beyond the\nstandard defaults for kubernetes jobs\n\nChange-Id: I1f95a635ab4dfdb3718d5d4fa668c64a9095e899\n'}, {'number': 2, 'created': '2019-04-20 18:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2a9e38f1988faabfe252640a4d8b825c2e927d09', 'message': 'Elasticsearch: Allow override of job back off limits and deadlines\n\nthis updates the Elasticsearch cluster wait and snapshot repo jobs\nto include values overrides for the job backoff limits and the\nactive deadline seconds field. This allows for tweaking beyond the\nstandard defaults for kubernetes jobs\n\nChange-Id: I1f95a635ab4dfdb3718d5d4fa668c64a9095e899\n'}, {'number': 3, 'created': '2019-04-21 03:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dfc4ffd9ef3b5fb96bdb4348fc1db4af7192e283', 'message': 'Elasticsearch: Allow override of job back off limits and deadlines\n\nthis updates the Elasticsearch cluster wait and snapshot repo jobs\nto include values overrides for the job backoff limits and the\nactive deadline seconds field. This allows for tweaking beyond the\nstandard defaults for kubernetes jobs\n\nChange-Id: I1f95a635ab4dfdb3718d5d4fa668c64a9095e899\n'}, {'number': 4, 'created': '2019-05-30 13:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/30def1d8c9bcdaeea058a96232945e978eaad0f5', 'message': 'Elasticsearch: Allow override of job back off limits and deadlines\n\nthis updates the Elasticsearch cluster wait and snapshot repo jobs\nto include values overrides for the job backoff limits and the\nactive deadline seconds field. This allows for tweaking beyond the\nstandard defaults for kubernetes jobs\n\nChange-Id: I1f95a635ab4dfdb3718d5d4fa668c64a9095e899\n'}, {'number': 5, 'created': '2019-05-31 20:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/44d4e2986dda1204a062385009041aed16a8ed48', 'message': 'Elasticsearch: Allow override of job back off limits and deadlines\n\nthis updates the Elasticsearch cluster wait and snapshot repo jobs\nto include values overrides for the job backoff limits and the\nactive deadline seconds field. This allows for tweaking beyond the\nstandard defaults for kubernetes jobs\n\nChange-Id: I1f95a635ab4dfdb3718d5d4fa668c64a9095e899\n'}, {'number': 6, 'created': '2019-05-31 20:52:22.000000000', 'files': ['elasticsearch/templates/job-es-cluster-wait.yaml', 'elasticsearch/values.yaml', 'elasticsearch/templates/job-register-snapshot-repository.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1ee476b197476062f03a0ad6e0fba14c6bf7bf9c', 'message': 'Elasticsearch: Allow override of job back off limits and deadlines\n\nthis updates the Elasticsearch cluster wait and snapshot repo jobs\nto include values overrides for the job backoff limits and the\nactive deadline seconds field. This allows for tweaking beyond the\nstandard defaults for kubernetes jobs\n\nChange-Id: I1f95a635ab4dfdb3718d5d4fa668c64a9095e899\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,649165,1ee476b197476062f03a0ad6e0fba14c6bf7bf9c,21,5,6,17591,,,0,"Elasticsearch: Allow override of job back off limits and deadlines

this updates the Elasticsearch cluster wait and snapshot repo jobs
to include values overrides for the job backoff limits and the
active deadline seconds field. This allows for tweaking beyond the
standard defaults for kubernetes jobs

Change-Id: I1f95a635ab4dfdb3718d5d4fa668c64a9095e899
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/65/649165/2 && git format-patch -1 --stdout FETCH_HEAD,"['elasticsearch/templates/job-es-cluster-wait.yaml', 'elasticsearch/values.yaml', 'elasticsearch/templates/job-register-snapshot-repository.yaml']",3,79c2fbc065aa19624e9d92f0a24ed60742f4d569,es-job-config, backoffLimit: {{ .Values.jobs.snapshot_repository.backoffLimit }} activeDeadlineSeconds: {{ .Values.jobs.snapshot_repository.activeDeadlineSeconds }},,12,0
openstack%2Fopenstack-helm-infra~master~I54e71d2a52bd639b3e93fc899c1bf2cd075b5396,openstack/openstack-helm-infra,master,I54e71d2a52bd639b3e93fc899c1bf2cd075b5396,Switch from default values being populated for upgrade strategy for ceph components,MERGED,2019-05-10 21:48:48.000000000,2019-06-18 21:18:15.000000000,2019-06-18 21:18:15.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 24780}, {'_account_id': 28372}, {'_account_id': 29132}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-05-10 21:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6d5fae51e8689e0df526634b0d9cffe8d2908b74', 'message': '[WIP] Implementing maxUnavailable value for\nCeph components\n\nChange-Id: I54e71d2a52bd639b3e93fc899c1bf2cd075b5396\n'}, {'number': 2, 'created': '2019-05-10 22:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3276f9e7d433d144e7399d2a1784f0265b1aed82', 'message': '[WIP] Implementing maxUnavailable value for\nCeph components\n\nChange-Id: I54e71d2a52bd639b3e93fc899c1bf2cd075b5396\n'}, {'number': 3, 'created': '2019-05-13 16:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b5643065cf4b9ee896eb63781f3991e64d3e0764', 'message': '[WIP] Implementing and parameterize Unavailable\nvalue for Ceph components\n\nChange-Id: I54e71d2a52bd639b3e93fc899c1bf2cd075b5396\n'}, {'number': 4, 'created': '2019-05-13 16:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7a1c9c3acd44a849058ce45f6c5348ebf208093a', 'message': '[WIP] Implementing and parameterize Unavailable\nvalue for Ceph components\n\nChange-Id: I54e71d2a52bd639b3e93fc899c1bf2cd075b5396\n'}, {'number': 5, 'created': '2019-05-13 17:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d35a35a04af1504266ee828e483d560dc41fbcc8', 'message': '[WIP] Implementing and parameterize Unavailable\nvalue for Ceph components\n\nChange-Id: I54e71d2a52bd639b3e93fc899c1bf2cd075b5396\n'}, {'number': 6, 'created': '2019-05-13 18:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c11964e3cc1e244b8326c4d7c23f5a1cf682e107', 'message': '[WIP] Implementing and parameterize Unavailable\nvalue for Ceph components\n\nChange-Id: I54e71d2a52bd639b3e93fc899c1bf2cd075b5396\n'}, {'number': 7, 'created': '2019-05-16 21:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0f586a966c0680b017bdca77e81094d6e7368314', 'message': '[WIP] Implementing and parameterize Unavailable\nvalue for Ceph components\n\nChange-Id: I54e71d2a52bd639b3e93fc899c1bf2cd075b5396\n'}, {'number': 8, 'created': '2019-05-17 17:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/01bfffd8e54b0dec041283db3104d569d3add793', 'message': '[WIP] Implementing and parameterize Unavailable\nvalue for Ceph components\n\nChange-Id: I54e71d2a52bd639b3e93fc899c1bf2cd075b5396\n'}, {'number': 9, 'created': '2019-05-17 20:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bd57416ec13d66d52f06ad515ad5e1b7b80d2ae0', 'message': '[WIP] Implementing and parameterize Unavailable\nvalue for Ceph components\n\nChange-Id: I54e71d2a52bd639b3e93fc899c1bf2cd075b5396\n'}, {'number': 10, 'created': '2019-05-17 22:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c25362fdb754093883642e562743bcd1e9ca25d2', 'message': 'Parameterize updateStrategy values for \nCeph components. Making it customizable for future.\n\nChange-Id: I54e71d2a52bd639b3e93fc899c1bf2cd075b5396\n'}, {'number': 11, 'created': '2019-05-17 22:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/32a14b7098d4844aa14fb305c0e6f3efa8c25f35', 'message': 'Parameterize updateStrategy values for\nCeph components. Making it customizable for future.\n\nChange-Id: I54e71d2a52bd639b3e93fc899c1bf2cd075b5396\n'}, {'number': 12, 'created': '2019-05-21 00:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8e4698d4f61aeb4c478a66858adeaf11f715a12f', 'message': 'updateStrategy values for Ceph components.\n\nChange-Id: I54e71d2a52bd639b3e93fc899c1bf2cd075b5396\n'}, {'number': 13, 'created': '2019-05-21 00:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7b838679e833dd6e26da04635c827f71ac63ddb0', 'message': 'updateStrategy values for Ceph components.\n\nChange-Id: I54e71d2a52bd639b3e93fc899c1bf2cd075b5396\n'}, {'number': 14, 'created': '2019-05-21 00:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2f97b04f894ee20ae310deef3422df96644696ef', 'message': 'updateStrategy values for Ceph components.\n\nChange-Id: I54e71d2a52bd639b3e93fc899c1bf2cd075b5396\n'}, {'number': 15, 'created': '2019-05-21 19:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7b8acb49b52399534246efa47310a257719178ea', 'message': 'updateStrategy values for Ceph components.\n\nChange-Id: I54e71d2a52bd639b3e93fc899c1bf2cd075b5396\n'}, {'number': 16, 'created': '2019-05-22 15:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/438a62ddf6124414fced26f7afb57f815a80ea88', 'message': 'Switch from default values being populated \nfor upgrade strategy for ceph components\n\nThis PS uses HelmToolKit function to add \nupgrade strategy parameters to ceph Components \n\nChange-Id: I54e71d2a52bd639b3e93fc899c1bf2cd075b5396\n'}, {'number': 17, 'created': '2019-05-22 19:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dde88e29110eb43998c6f8d33f4e117fee6e3b24', 'message': 'Switch from default values being populated \nfor upgrade strategy for ceph components\n\nThis PS uses HelmToolKit function to add \nupgrade strategy parameters to ceph Components \n\nChange-Id: I54e71d2a52bd639b3e93fc899c1bf2cd075b5396\n'}, {'number': 18, 'created': '2019-05-29 15:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/19fdb470c1bb1c8b4b9532091f02ff2c100647cb', 'message': 'Switch from default values being populated\nfor upgrade strategy for ceph components\n\nThis PS uses HelmToolKit function to add\nupgrade strategy parameters to ceph Components\n\nChange-Id: I54e71d2a52bd639b3e93fc899c1bf2cd075b5396\n'}, {'number': 19, 'created': '2019-06-18 01:42:38.000000000', 'files': ['ceph-osd/templates/daemonset-osd.yaml', 'ceph-provisioners/values.yaml', 'ceph-osd/values.yaml', 'ceph-client/values.yaml', 'ceph-client/templates/deployment-mds.yaml', 'ceph-mon/templates/daemonset-mon.yaml', 'ceph-provisioners/templates/deployment-cephfs-provisioner.yaml', 'ceph-provisioners/templates/deployment-rbd-provisioner.yaml', 'ceph-client/templates/deployment-mgr.yaml', 'ceph-mon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ed574f456fa01d67bd76a6c0ebd43046482821ef', 'message': 'Switch from default values being populated\nfor upgrade strategy for ceph components\n\nThis PS uses HelmToolKit function to add\nupgrade strategy parameters to ceph Components\n\nChange-Id: I54e71d2a52bd639b3e93fc899c1bf2cd075b5396\n'}]",21,658492,ed574f456fa01d67bd76a6c0ebd43046482821ef,81,11,19,29132,,,0,"Switch from default values being populated
for upgrade strategy for ceph components

This PS uses HelmToolKit function to add
upgrade strategy parameters to ceph Components

Change-Id: I54e71d2a52bd639b3e93fc899c1bf2cd075b5396
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/92/658492/16 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/templates/daemonset-osd.yaml', 'ceph-client/templates/deployment-mds.yaml', 'ceph-mon/templates/daemonset-mon.yaml']",3,6d5fae51e8689e0df526634b0d9cffe8d2908b74,maxUnavailable, updateStrategy: type: RollingUpdate rollingUpdate: maxUnavailable: 1,,13,0
openstack%2Fmanila~master~I284b48facf633f54aa5a7ec024a1662a1d164daf,openstack/manila,master,I284b48facf633f54aa5a7ec024a1662a1d164daf,[CI] Bump timeout for the migrations test case,MERGED,2019-05-17 17:47:22.000000000,2019-06-18 21:17:55.000000000,2019-06-18 21:17:55.000000000,"[{'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 16643}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-05-17 17:47:22.000000000', 'files': ['manila/tests/db/migrations/alembic/test_migration.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/fdefb0e7bd14d44608c3c1939865caacfd5dc28c', 'message': '[CI] Bump timeout for the migrations test case\n\nWe face slow nodes on the CI, and tests are timing\nout with a sqllite backend in the gate.\n\nChange-Id: I284b48facf633f54aa5a7ec024a1662a1d164daf\n'}]",0,659854,fdefb0e7bd14d44608c3c1939865caacfd5dc28c,24,16,1,16643,,,0,"[CI] Bump timeout for the migrations test case

We face slow nodes on the CI, and tests are timing
out with a sqllite backend in the gate.

Change-Id: I284b48facf633f54aa5a7ec024a1662a1d164daf
",git fetch https://review.opendev.org/openstack/manila refs/changes/54/659854/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/tests/db/migrations/alembic/test_migration.py'],1,fdefb0e7bd14d44608c3c1939865caacfd5dc28c,ci, # NOTE(vponomaryov): set 10 minutes timeout for case of running it on @test_utils.set_timeout(600), # NOTE(vponomaryov): set 7 minutes timeout for case of running it on @test_utils.set_timeout(420),2,2
openstack%2Fneutron~master~I8a47ed74fd1077126b8a6ccb21129e127ac62b3b,openstack/neutron,master,I8a47ed74fd1077126b8a6ccb21129e127ac62b3b,[Doc] Drop some experimental warnings from admin guide,MERGED,2019-06-17 19:58:29.000000000,2019-06-18 21:00:32.000000000,2019-06-18 21:00:32.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-17 19:58:29.000000000', 'files': ['doc/source/admin/config-dvr-ha-snat.rst', 'doc/source/admin/config-ovsfwdriver.rst', 'doc/source/admin/config-ipam.rst', 'doc/source/admin/intro-os-networking.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1770c107b4ad4cb473b44231ba49bb47843118e4', 'message': '[Doc] Drop some experimental warnings from admin guide\n\nThese warning have been around for some time and may confuse users on\nwhether to use the feature or not\n\nThis includes:\n* Distributed Virtual Routing with VRRP\n* Native Open vSwitch firewall driver\n* IPAM configuration\n\nAlso reworded the FWaaS section in introduction section\n\nChange-Id: I8a47ed74fd1077126b8a6ccb21129e127ac62b3b\n'}]",0,665755,1770c107b4ad4cb473b44231ba49bb47843118e4,11,7,1,21798,,,0,"[Doc] Drop some experimental warnings from admin guide

These warning have been around for some time and may confuse users on
whether to use the feature or not

This includes:
* Distributed Virtual Routing with VRRP
* Native Open vSwitch firewall driver
* IPAM configuration

Also reworded the FWaaS section in introduction section

Change-Id: I8a47ed74fd1077126b8a6ccb21129e127ac62b3b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/665755/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/config-dvr-ha-snat.rst', 'doc/source/admin/config-ovsfwdriver.rst', 'doc/source/admin/config-ipam.rst', 'doc/source/admin/intro-os-networking.rst']",4,1770c107b4ad4cb473b44231ba49bb47843118e4,clean_experimental,"The Firewall-as-a-Service (FWaaS) API allows to apply firewalls to OpenStack objects such as projects, routers, and router ports.",The Firewall-as-a-Service (FWaaS) API is an experimental API that enables early adopters and vendors to test their networking implementations.,2,16
openstack%2Fkeystone~master~I195d5ae5affb84feaee63598d2c927db2faa20b7,openstack/keystone,master,I195d5ae5affb84feaee63598d2c927db2faa20b7,Update mission statement and vision reflection,MERGED,2019-05-29 22:32:18.000000000,2019-06-18 21:00:29.000000000,2019-06-18 21:00:29.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23294}, {'_account_id': 27621}, {'_account_id': 30526}]","[{'number': 1, 'created': '2019-05-29 22:32:18.000000000', 'files': ['doc/source/contributor/vision-reflection.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/6f6f78c21136e6461f186f97b72952efec5f4e6c', 'message': 'Update mission statement and vision reflection\n\nAs discussed during the Train PTG[1], update the mission statement to\ninclude discovery and resiliency, and update the vision reflection to\ninclude Bidirectional Compatibility and Secure by Design.\n\nSupport for quota management could be read as included under\n""user-friendly...multitenant"" in the mission statement.\n\n[1] https://etherpad.openstack.org/p/keystone-train-ptg-vision-mission\n\nChange-Id: I195d5ae5affb84feaee63598d2c927db2faa20b7\n'}]",2,662106,6f6f78c21136e6461f186f97b72952efec5f4e6c,12,8,1,8482,,,0,"Update mission statement and vision reflection

As discussed during the Train PTG[1], update the mission statement to
include discovery and resiliency, and update the vision reflection to
include Bidirectional Compatibility and Secure by Design.

Support for quota management could be read as included under
""user-friendly...multitenant"" in the mission statement.

[1] https://etherpad.openstack.org/p/keystone-train-ptg-vision-mission

Change-Id: I195d5ae5affb84feaee63598d2c927db2faa20b7
",git fetch https://review.opendev.org/openstack/keystone refs/changes/06/662106/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/vision-reflection.rst'],1,6f6f78c21136e6461f186f97b72952efec5f4e6c,mission-statement,"Keystone's mission is to provide secure, resilient, and user-friendly discovery, authentication, and authorization for multitenant services.Bidirectional Compatibility --------------------------- To support clients operating across multiple clouds of potentially different versions, changes in keystone's major API are additive-only, and updates to the API are signaled by the minor version number, which allows clients to discover, to a reasonable degree, what capabilities are available in the keystone version they are connecting to. Keystone also provides a JSON-home document to aid clients in discovering the availability and status of features. Enhancements to the discoverability of keystone's APIs are a priority. Secure by Design ---------------- Keystone strives to be secure by design, by making opinionated choices about the default security configuration. Making it easier to administer fine-grained access control in support of the Principle of Least Privilege is an ongoing effort.",Keystone's mission is to provide secure and user-friendly authentication and authorization for multi-tenant services.,21,2
openstack%2Fcinder~master~I801a887adf2db8cd5d14eaa77ebb1a1bf201ae99,openstack/cinder,master,I801a887adf2db8cd5d14eaa77ebb1a1bf201ae99,Mark the Nimble Driver Unsupported,MERGED,2019-06-03 18:41:46.000000000,2019-06-18 21:00:25.000000000,2019-06-18 21:00:24.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-06-03 18:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c41733b4b2e0306132d6bb5b646202e5efd7e29f', 'message': ""Mark the Nimble Driver Unsupported\n\nThe Nimble Driver 3rd Pary CI hasn't run successfully\nin 133 days.  This does not meet the requirements\nfor Cinder's 3rd Party CI requirements.\n\nAs a result the driver is being marked unsupported in the\nTrain release and should be removed in the 'U' release if\nthe problems are not resolved.\n\nChange-Id: I801a887adf2db8cd5d14eaa77ebb1a1bf201ae99\n""}, {'number': 2, 'created': '2019-06-04 03:14:50.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/nimble.py', 'releasenotes/notes/nimble-mark-usnsupported-0c8e5e21c8d1179d.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f37b98ed9ac837bdf9307734b5fe0d6c0e089169', 'message': ""Mark the Nimble Driver Unsupported\n\nThe Nimble Driver 3rd Party CI hasn't run successfully\nin 133 days.  This does not meet the requirements\nfor Cinder's 3rd Party CI requirements.\n\nAs a result the driver is being marked unsupported in the\nTrain release and should be removed in the 'U' release if\nthe problems are not resolved.\n\nChange-Id: I801a887adf2db8cd5d14eaa77ebb1a1bf201ae99\n""}]",0,662819,f37b98ed9ac837bdf9307734b5fe0d6c0e089169,74,32,2,7198,,,0,"Mark the Nimble Driver Unsupported

The Nimble Driver 3rd Party CI hasn't run successfully
in 133 days.  This does not meet the requirements
for Cinder's 3rd Party CI requirements.

As a result the driver is being marked unsupported in the
Train release and should be removed in the 'U' release if
the problems are not resolved.

Change-Id: I801a887adf2db8cd5d14eaa77ebb1a1bf201ae99
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/662819/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/nimble.py', 'releasenotes/notes/nimble-mark-usnsupported-0c8e5e21c8d1179d.yaml']",3,c41733b4b2e0306132d6bb5b646202e5efd7e29f,ci_unsupported,"--- upgrade: - | The Nimble driver has been marked as unsupported and is now deprecated. ``enable_unsupported_driver`` will need to be set to ``True`` in the driver's section in cinder.conf to continue to use it. deprecations: - | The Nimble driver has been marked as unsupported and is now deprecated. ``enable_unsupported_driver`` will need to be set to ``True`` in the driver's section in cinder.conf to continue to use it. If its support status does not change, it will be removed in the 'U' development cycle. ",,18,1
openstack%2Fcinder~stable%2Fstein~I9da1af4ac6df1d033a9baaba77135b329c87e6f8,openstack/cinder,stable/stein,I9da1af4ac6df1d033a9baaba77135b329c87e6f8,Add OS-SCH-HNT in extensions list,MERGED,2019-06-08 13:30:09.000000000,2019-06-18 21:00:21.000000000,2019-06-18 21:00:21.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 13144}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30388}]","[{'number': 1, 'created': '2019-06-08 13:30:09.000000000', 'files': ['cinder/tests/functional/api_sample_tests/samples/extensions/extensions-list-response.json.tpl', 'api-ref/source/v3/samples/extensions/extensions-list-response.json', 'cinder/api/extensions.py', 'cinder/api/contrib/scheduler_hints.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bd07e5b87a08d27de452e36435db262112a004b9', 'message': 'Add OS-SCH-HNT in extensions list\n\nTo have backward compatibility with MV 3.53, we need to include\nOS-SCH-HNT in the ``cinder list-extensions`` response.\n\nChange-Id: I9da1af4ac6df1d033a9baaba77135b329c87e6f8\nCloses-Bug: #1831623\n(cherry picked from commit 9a5bdb308ae0ea72210678853192c813bf7b0c92)\n'}]",0,664136,bd07e5b87a08d27de452e36435db262112a004b9,19,15,1,27615,,,0,"Add OS-SCH-HNT in extensions list

To have backward compatibility with MV 3.53, we need to include
OS-SCH-HNT in the ``cinder list-extensions`` response.

Change-Id: I9da1af4ac6df1d033a9baaba77135b329c87e6f8
Closes-Bug: #1831623
(cherry picked from commit 9a5bdb308ae0ea72210678853192c813bf7b0c92)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/664136/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/functional/api_sample_tests/samples/extensions/extensions-list-response.json.tpl', 'api-ref/source/v3/samples/extensions/extensions-list-response.json', 'cinder/api/extensions.py', 'cinder/api/contrib/scheduler_hints.py']",4,bd07e5b87a08d27de452e36435db262112a004b9,bug/1831623-stable/stein,"from cinder.api import extensions # NOTE: This class is added to include ""OS-SCH-HNT"" in the list extensions # response and ""OS-SCH-HNT"" is still not loaded as a standard extension. class Scheduler_hints(extensions.ExtensionDescriptor): """"""Pass arbitrary key/value pairs to the scheduler."""""" name = ""SchedulerHints"" alias = ""OS-SCH-HNT"" updated = ""2013-04-18T00:00:00+00:00""",,26,1
openstack%2Fcinder~stable%2Fstein~I285cc12a28f8648a9aecd47c82a7695f5f2e4f00,openstack/cinder,stable/stein,I285cc12a28f8648a9aecd47c82a7695f5f2e4f00,Add Upgrade Check for Drivers Removed in Stein,MERGED,2019-05-31 19:05:58.000000000,2019-06-18 21:00:18.000000000,2019-06-18 21:00:18.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28543}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30381}, {'_account_id': 30388}]","[{'number': 1, 'created': '2019-05-31 19:05:58.000000000', 'files': ['releasenotes/notes/cinder-status-check-stein_removed_drivers-8184abe8ce82f373.yaml', 'cinder/tests/unit/cmd/test_status.py', 'cinder/cmd/status.py', 'doc/source/cli/cinder-status.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1ff64f2346b33c8431c0f31f18b3db09a2623425', 'message': 'Add Upgrade Check for Drivers Removed in Stein\n\nThis patch adds a check for configuration of CoprHD,\nHGST and ITRI DISCO drivers which were all removed\nin the Stein release.  The upgrade check will fail if\nany of these drivers are configured in enabled_backends.\n\nChange-Id: I285cc12a28f8648a9aecd47c82a7695f5f2e4f00\nCo-authored-by: Brian Rosmaita <romaita.fossdev@gmail.com>\n(cherry picked from commit e78e05c95dcb01336811a503c4292ac528959b8d)\n'}]",0,662545,1ff64f2346b33c8431c0f31f18b3db09a2623425,23,19,1,7198,,,0,"Add Upgrade Check for Drivers Removed in Stein

This patch adds a check for configuration of CoprHD,
HGST and ITRI DISCO drivers which were all removed
in the Stein release.  The upgrade check will fail if
any of these drivers are configured in enabled_backends.

Change-Id: I285cc12a28f8648a9aecd47c82a7695f5f2e4f00
Co-authored-by: Brian Rosmaita <romaita.fossdev@gmail.com>
(cherry picked from commit e78e05c95dcb01336811a503c4292ac528959b8d)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/662545/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cinder-status-check-stein_removed_drivers-8184abe8ce82f373.yaml', 'cinder/tests/unit/cmd/test_status.py', 'cinder/cmd/status.py', 'doc/source/cli/cinder-status.rst']",4,1ff64f2346b33c8431c0f31f18b3db09a2623425,backport-upgrade-checks," * Ensure that none of the volume drivers removed in Stein are enabled. Please note that if a driver is in **cinder.conf** but not in the ``enabled_drivers`` config option this check will not catch the problem. If you have used the CoprHD, ITRI Disco or HGST drivers in the past you should ensure that any data from these backends is transferred to a supported storage array before upgrade.",,103,0
openstack%2Fcinder~master~I03250b7d8c95d3c8dfaebc5538671b1cf08ad9ba,openstack/cinder,master,I03250b7d8c95d3c8dfaebc5538671b1cf08ad9ba,Fix volume type quota defaults in quotas tests,MERGED,2019-05-14 07:26:28.000000000,2019-06-18 21:00:15.000000000,2019-06-18 21:00:14.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}, {'_account_id': 30105}]","[{'number': 1, 'created': '2019-05-14 07:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/79a71b365785634019d37ec2bcf17f901e9232b0', 'message': ""Fix quota defaults in test_quotas\n\nA subproject has 0 as default values for it's resources.\nThe test methods still expects 'volumes_' + volume_type to be -1\nfor subproject.\nThis patch adds a check for subproject and updates values accordingly.\n\nChange-Id: I03250b7d8c95d3c8dfaebc5538671b1cf08ad9ba\n""}, {'number': 2, 'created': '2019-05-16 08:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7dd78d729994d5d95c552078c8a368114aeeb612', 'message': ""Fix volume type quota defaults in quotas tests\n\nA subproject has 0 as default values for it's resources.\nThe test methods still expects 'volumes_' + volume_type to be -1\nfor subproject.\nThis patch adds a check for subproject and updates values accordingly.\n\nChange-Id: I03250b7d8c95d3c8dfaebc5538671b1cf08ad9ba\n""}, {'number': 3, 'created': '2019-05-17 05:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ef89e7a24d58183f48711841576bd61110d180c8', 'message': ""Fix volume type quota defaults in quotas tests\n\nA subproject has 0 as default values for it's resources.\nThe test methods still expects 'volumes_' + volume_type to be -1\nfor subproject.\nThis patch adds a check for subproject and updates values accordingly.\n\nChange-Id: I03250b7d8c95d3c8dfaebc5538671b1cf08ad9ba\n""}, {'number': 4, 'created': '2019-05-29 17:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2fda6bae4c6c76d682312d7dbc443b4a7f009c82', 'message': ""Fix volume type quota defaults in quotas tests\n\nA subproject has 0 as default values for it's resources.\nThe test methods still expects 'volumes_' + volume_type to be -1\nfor subproject.\nThis patch adds a check for subproject and updates values accordingly.\n\nChange-Id: I03250b7d8c95d3c8dfaebc5538671b1cf08ad9ba\n""}, {'number': 5, 'created': '2019-05-30 07:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b5f7dc5fe43aa0d7e1e6c9748d8ad46c09bb94f9', 'message': ""Fix volume type quota defaults in quotas tests\n\nA subproject has 0 as default values for it's resources.\nThe test methods still expects 'volumes_' + volume_type to be -1\nfor subproject.\nThis patch adds a check for subproject and updates values accordingly.\n\nChange-Id: I03250b7d8c95d3c8dfaebc5538671b1cf08ad9ba\n""}, {'number': 6, 'created': '2019-06-15 04:50:09.000000000', 'files': ['cinder/tests/unit/api/contrib/test_quotas_classes.py', 'cinder/tests/unit/api/contrib/test_quotas.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/66fcf8252165227491e57512fa3844128325b2f9', 'message': ""Fix volume type quota defaults in quotas tests\n\nA subproject has 0 as default values for it's resources.\nThe test methods still expects 'volumes_' + volume_type to be -1\nfor subproject.\nThis patch adds a check for subproject and updates values accordingly.\n\nChange-Id: I03250b7d8c95d3c8dfaebc5538671b1cf08ad9ba\n""}]",4,658974,66fcf8252165227491e57512fa3844128325b2f9,147,36,6,27615,,,0,"Fix volume type quota defaults in quotas tests

A subproject has 0 as default values for it's resources.
The test methods still expects 'volumes_' + volume_type to be -1
for subproject.
This patch adds a check for subproject and updates values accordingly.

Change-Id: I03250b7d8c95d3c8dfaebc5538671b1cf08ad9ba
",git fetch https://review.opendev.org/openstack/cinder refs/changes/74/658974/5 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/api/contrib/test_quotas.py'],1,79a71b365785634019d37ec2bcf17f901e9232b0,658974," tenant_id=fake.PROJECT_ID, per_volume_gigabytes=-1, groups=10, default=False): # default values for subproject are 0 if default: resources['gigabytes_' + volume_type] = 0 resources['snapshots_' + volume_type] = 0 resources['volumes_' + volume_type] = 0 else: resources['gigabytes_' + volume_type] = -1 resources['snapshots_' + volume_type] = -1 resources['volumes_' + volume_type] = -1 per_volume_gigabytes=per_volume_gigabytes, default=True)"," tenant_id=fake.PROJECT_ID, per_volume_gigabytes=-1, groups=10): resources['gigabytes_' + volume_type] = -1 resources['snapshots_' + volume_type] = -1 resources['volumes_' + volume_type] = -1 per_volume_gigabytes=per_volume_gigabytes)",12,5
openstack%2Fcinder~master~I8e69dc2199ad28b99144ba2618d114392e6fa5e5,openstack/cinder,master,I8e69dc2199ad28b99144ba2618d114392e6fa5e5,Remove the Tintri Driver,MERGED,2019-03-26 21:43:50.000000000,2019-06-18 21:00:12.000000000,2019-06-18 21:00:12.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 17130}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-03-26 21:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/887a347d2fa84128fc757a0f83f00c98f9599b11', 'message': ""Remove the Tintri Driver\n\nThe Tintri driver was marked as unsupported in\nthe Stein release.  It hasn't reported on a patch in 312\ndays which is outside of Cinder's 3rd Party CI requirements.\nAs a result the driver should be removed.\n\nThis patch proposes that removal.\n\nChange-Id: I8e69dc2199ad28b99144ba2618d114392e6fa5e5\n""}, {'number': 2, 'created': '2019-03-27 19:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c47305d9b0b84cd7d838d926433ca4ffd8b4ece6', 'message': ""Remove the Tintri Driver\n\nThe Tintri driver was marked as unsupported in\nthe Stein release.  It hasn't reported on a patch in 312\ndays which is outside of Cinder's 3rd Party CI requirements.\nAs a result the driver should be removed.\n\nThis patch proposes that removal.\n\nChange-Id: I8e69dc2199ad28b99144ba2618d114392e6fa5e5\n""}, {'number': 3, 'created': '2019-05-08 16:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f3e9de09eb69f635341f78387c0aa555368e57a', 'message': ""Remove the Tintri Driver\n\nThe Tintri driver was marked as unsupported in\nthe Stein release.  It hasn't reported on a patch in 312\ndays which is outside of Cinder's 3rd Party CI requirements.\nAs a result the driver should be removed.\n\nThis patch proposes that removal.\n\nChange-Id: I8e69dc2199ad28b99144ba2618d114392e6fa5e5\n""}, {'number': 4, 'created': '2019-05-09 14:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e1afc9d14aaf170f7b0d653d055b6b18e4120a66', 'message': ""Remove the Tintri Driver\n\nThe Tintri driver was marked as unsupported in\nthe Stein release.  It hasn't reported on a patch in 312\ndays which is outside of Cinder's 3rd Party CI requirements.\nAs a result the driver should be removed.\n\nThis patch proposes that removal.\n\nChange-Id: I8e69dc2199ad28b99144ba2618d114392e6fa5e5\n""}, {'number': 5, 'created': '2019-05-09 15:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e5edf250cdb08c161206e9f5ef4beaacf3c0ae6', 'message': ""Remove the Tintri Driver\n\nThe Tintri driver was marked as unsupported in\nthe Stein release.  It hasn't reported on a patch in 312\ndays which is outside of Cinder's 3rd Party CI requirements.\nAs a result the driver should be removed.\n\nThis patch proposes that removal.\n\nChange-Id: I8e69dc2199ad28b99144ba2618d114392e6fa5e5\n""}, {'number': 6, 'created': '2019-05-30 18:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2d010ec6c0c8abadf1515e5eef5dbfe1db38a704', 'message': ""Remove the Tintri Driver\n\nThe Tintri driver was marked as unsupported in\nthe Stein release.  It hasn't reported on a patch in 312\ndays which is outside of Cinder's 3rd Party CI requirements.\nAs a result the driver should be removed.\n\nThis patch proposes that removal.\n\nChange-Id: I8e69dc2199ad28b99144ba2618d114392e6fa5e5\n""}, {'number': 7, 'created': '2019-06-12 13:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8c83083eee4a66b02a685a0bfa1629a2c672aa12', 'message': ""Remove the Tintri Driver\n\nThe Tintri driver was marked as unsupported in\nthe Stein release.  It hasn't reported on a patch in 312\ndays which is outside of Cinder's 3rd Party CI requirements.\nAs a result the driver should be removed.\n\nThis patch proposes that removal.\n\nChange-Id: I8e69dc2199ad28b99144ba2618d114392e6fa5e5\n""}, {'number': 8, 'created': '2019-06-13 15:57:27.000000000', 'files': ['cinder/opts.py', 'doc/source/reference/support-matrix.ini', 'cinder/tests/unit/volume/drivers/test_tintri.py', 'doc/source/reference/support-matrix.rst', 'etc/cinder/rootwrap.d/volume.filters', 'releasenotes/notes/tintri-driver-removal-91a0931c417481d2.yaml', 'cinder/volume/drivers/tintri.py', 'doc/source/configuration/block-storage/drivers/tintri-volume-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0423642951f309a2ac3338e9a02ed9982f4563b8', 'message': ""Remove the Tintri Driver\n\nThe Tintri driver was marked as unsupported in\nthe Stein release.  It hasn't reported on a patch in 312\ndays which is outside of Cinder's 3rd Party CI requirements.\nAs a result the driver should be removed.\n\nThis patch proposes that removal.\n\nChange-Id: I8e69dc2199ad28b99144ba2618d114392e6fa5e5\n""}]",7,647934,0423642951f309a2ac3338e9a02ed9982f4563b8,258,45,8,7198,,,0,"Remove the Tintri Driver

The Tintri driver was marked as unsupported in
the Stein release.  It hasn't reported on a patch in 312
days which is outside of Cinder's 3rd Party CI requirements.
As a result the driver should be removed.

This patch proposes that removal.

Change-Id: I8e69dc2199ad28b99144ba2618d114392e6fa5e5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/647934/7 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'doc/source/reference/support-matrix.ini', 'cinder/tests/unit/volume/drivers/test_tintri.py', 'doc/source/reference/support-matrix.rst', 'doc/source/configuration/block-storage/volume-drivers.rst', 'releasenotes/notes/tintri-driver-removal-91a0931c417481d2.yaml', 'cinder/volume/drivers/tintri.py', 'doc/source/configuration/block-storage/drivers/tintri-volume-driver.rst']",8,887a347d2fa84128fc757a0f83f00c98f9599b11,train-driver-removal,,"====== Tintri ====== Tintri VMstore is a smart storage that sees, learns, and adapts for cloud and virtualization. The Tintri Block Storage driver interacts with configured VMstore running Tintri OS 4.0 and above. It supports various operations using Tintri REST APIs and NFS protocol. To configure the use of a Tintri VMstore with Block Storage, perform the following actions: #. Edit the ``etc/cinder/cinder.conf`` file and set the ``cinder.volume.drivers.tintri`` options: .. code-block:: ini volume_driver=cinder.volume.drivers.tintri.TintriDriver # Mount options passed to the nfs client. See section of the # nfs man page for details. (string value) nfs_mount_options = vers=3,lookupcache=pos,nolock # # Options defined in cinder.volume.drivers.tintri # # The hostname (or IP address) for the storage system (string # value) tintri_server_hostname = {Tintri VMstore Management IP} # User name for the storage system (string value) tintri_server_username = {username} # Password for the storage system (string value) tintri_server_password = {password} # API version for the storage system (string value) # tintri_api_version = v310 # Following options needed for NFS configuration # File with the list of available nfs shares (string value) # nfs_shares_config = /etc/cinder/nfs_shares # Tintri driver will clean up unused image snapshots. With the following # option, users can configure how long unused image snapshots are # retained. Default retention policy is 30 days # tintri_image_cache_expiry_days = 30 # Path to NFS shares file storing images. # Users can store Glance images in the NFS share of the same VMstore # mentioned in the following file. These images need to have additional # metadata ``provider_location`` configured in Glance, which should point # to the NFS share path of the image. # This option will enable Tintri driver to directly clone from Glance # image stored on same VMstore (rather than downloading image # from Glance) # tintri_image_shares_config = <Path to image NFS share> # # For example: # Glance image metadata # provider_location => # nfs://<data_ip>/tintri/glance/84829294-c48b-4e16-a878-8b2581efd505 #. Edit the ``/etc/nova/nova.conf`` file and set the ``nfs_mount_options``: .. code-block:: ini [libvirt] nfs_mount_options = vers=3,nolock #. Edit the ``/etc/cinder/nfs_shares`` file and add the Tintri VMstore mount points associated with the configured VMstore management IP in the ``cinder.conf`` file: .. code-block:: bash {vmstore_data_ip}:/tintri/{submount1} {vmstore_data_ip}:/tintri/{submount2} .. config-table:: :config-target: Tintri cinder.volume.drivers.tintri ",18,1363
openstack%2Fopenstack-helm-infra~master~Id8fde475e4ecf555bfc1ebc3639977952346f2ee,openstack/openstack-helm-infra,master,Id8fde475e4ecf555bfc1ebc3639977952346f2ee,test,ABANDONED,2019-06-11 19:44:46.000000000,2019-06-18 20:55:08.000000000,,"[{'_account_id': 22348}, {'_account_id': 29161}]","[{'number': 1, 'created': '2019-06-11 19:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/18712cc405497bc7641a2534414fa64eca60577e', 'message': 'test\n\nChange-Id: Id8fde475e4ecf555bfc1ebc3639977952346f2ee\n'}, {'number': 2, 'created': '2019-06-11 21:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/703135dbecf711be4a3e6a7b526edc250542f70b', 'message': 'test\n\nChange-Id: Id8fde475e4ecf555bfc1ebc3639977952346f2ee\n'}, {'number': 3, 'created': '2019-06-11 22:53:45.000000000', 'files': ['rabbitmq/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/251214908c85770d96051bc79d716b7efa2d2912', 'message': 'test\n\nChange-Id: Id8fde475e4ecf555bfc1ebc3639977952346f2ee\n'}]",0,664678,251214908c85770d96051bc79d716b7efa2d2912,9,2,3,29161,,,0,"test

Change-Id: Id8fde475e4ecf555bfc1ebc3639977952346f2ee
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/78/664678/1 && git format-patch -1 --stdout FETCH_HEAD,['rabbitmq/values.yaml'],1,18712cc405497bc7641a2534414fa64eca60577e,test, runAsUser: 999 readOnlyRootFilesystem: true runAsUser: 999 runAsUser: 0 readOnlyRootFilesystem: true rabbitmq_cookie: runAsUser: 0 readOnlyRootFilesystem: true rabbitmq_perms: runAsUser: 0 readOnlyRootFilesystem: true rabbitmq: allowPrivilegeEscalation: false runAsUser: 999 allowPrivilegeEscalation: false readOnlyRootFilesystem: true runAsUser: 999 allowPrivilegeEscalation: false readOnlyRootFilesystem: true, runAsUser: 65534 readOnlyRootFilesystem: false runAsUser: 0 readOnlyRootFilesystem: false rabbitmq_cookie: readOnlyRootFilesystem: false rabbitmq_perms: readOnlyRootFilesystem: false rabbitmq: runAsUser: 0 readOnlyRootFilesystem: false runAsUser: 0 readOnlyRootFilesystem: false,16,10
openstack%2Fnetworking-bgpvpn~master~I6d1983e9b9371fe03fd62b1848621581992ff841,openstack/networking-bgpvpn,master,I6d1983e9b9371fe03fd62b1848621581992ff841,Change tempest regex used in devstack-gate-bagpipe-rc,MERGED,2019-05-30 14:19:38.000000000,2019-06-18 20:50:55.000000000,2019-06-18 20:50:55.000000000,"[{'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 5689}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-05-30 14:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/deec5d459669a06ee7c4e61eac7b1e514be5af30', 'message': 'Remove bgpvpn tempest plugin\n\nIn commit [1] we removed tempest plugin code from this repo\nas it was moved to neutron-tempest-plugin.\nUnfortunatelly I forgot to remove entry point and package name from\nsetup.cfg file and this patch removes those leftovers.\n\n[1] https://review.opendev.org/#/c/657793/\n\nChange-Id: I6d1983e9b9371fe03fd62b1848621581992ff841\n'}, {'number': 2, 'created': '2019-05-30 21:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/449d872a91727cbd1f733bf38d79fcf912ac3a73', 'message': 'Remove bgpvpn tempest plugin\n\nIn commit [1] we removed tempest plugin code from this repo\nas it was moved to neutron-tempest-plugin.\nUnfortunatelly I forgot to remove entry point and package name from\nsetup.cfg file and this patch removes those leftovers.\n\nThis commit changes also tempest regex for bagpipe tempest job.\n\n[1] https://review.opendev.org/#/c/657793/\n\nChange-Id: I6d1983e9b9371fe03fd62b1848621581992ff841\n'}, {'number': 3, 'created': '2019-05-31 08:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/1a8711b86fdeec3f8f4950015cc8505c192bece0', 'message': 'Change tempest regex used in devstack-gate-bagpipe-rc\n\nIn commit [1] we removed tempest plugin code from this repo\nas it was moved to neutron-tempest-plugin.\n\nThis commit changes also tempest regex for bagpipe tempest job to\nbe valid and run tests from neutron-tempest-plugin repo.\n\n[1] https://review.opendev.org/#/c/657793/\n\nChange-Id: I6d1983e9b9371fe03fd62b1848621581992ff841\n'}, {'number': 4, 'created': '2019-06-17 10:08:56.000000000', 'files': ['devstack/devstack-gate-bagpipe-rc'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/95e42889fe66c283e0fc0952df22f424e4f0d6fa', 'message': 'Change tempest regex used in devstack-gate-bagpipe-rc\n\nIn commit [1] we removed tempest plugin code from this repo\nas it was moved to neutron-tempest-plugin.\n\nThis commit changes also tempest regex for bagpipe tempest job to\nbe valid and run tests from neutron-tempest-plugin repo.\n\n[1] https://review.opendev.org/#/c/657793/\n\nChange-Id: I6d1983e9b9371fe03fd62b1848621581992ff841\n'}]",0,662231,95e42889fe66c283e0fc0952df22f424e4f0d6fa,25,8,4,11975,,,0,"Change tempest regex used in devstack-gate-bagpipe-rc

In commit [1] we removed tempest plugin code from this repo
as it was moved to neutron-tempest-plugin.

This commit changes also tempest regex for bagpipe tempest job to
be valid and run tests from neutron-tempest-plugin repo.

[1] https://review.opendev.org/#/c/657793/

Change-Id: I6d1983e9b9371fe03fd62b1848621581992ff841
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/31/662231/4 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,deec5d459669a06ee7c4e61eac7b1e514be5af30,stadium-migration,, networking_bgpvpn_tempesttempest.test_plugins = networking-bgpvpn = networking_bgpvpn_tempest.plugin:NetworkingBgpvpnTempestPlugin,0,3
openstack%2Fnetworking-bgpvpn~master~If1b3f69b91bc961693cc442986f9e8c725a4d3bd,openstack/networking-bgpvpn,master,If1b3f69b91bc961693cc442986f9e8c725a4d3bd,Fix bagpipe driver to work with SQLAlchemy 1.3,MERGED,2019-06-17 10:06:53.000000000,2019-06-18 20:49:14.000000000,2019-06-18 20:49:13.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 10:06:53.000000000', 'files': ['networking_bgpvpn/neutron/services/service_drivers/bagpipe/bagpipe.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/15c3f144e34aef62d35877bf2cc3425bcb5e4708', 'message': 'Fix bagpipe driver to work with SQLAlchemy 1.3\n\nIn SQLAlchemy 1.3 there was introduced change which caused failures of\nunit tests in networking-bgpvpn. See [1] for details.\n\nThis patch fixes this by setting explicity columns on which join is done.\n\n[1] https://docs.sqlalchemy.org/en/13/changelog/migration_13.html#\\\n        query-join-handles-ambiguity-in-deciding-the-left-side-more-explicitly\n\nChange-Id: If1b3f69b91bc961693cc442986f9e8c725a4d3bd\nCloses-Bug: #1833051\n'}]",3,665637,15c3f144e34aef62d35877bf2cc3425bcb5e4708,13,7,1,11975,,,0,"Fix bagpipe driver to work with SQLAlchemy 1.3

In SQLAlchemy 1.3 there was introduced change which caused failures of
unit tests in networking-bgpvpn. See [1] for details.

This patch fixes this by setting explicity columns on which join is done.

[1] https://docs.sqlalchemy.org/en/13/changelog/migration_13.html#\
        query-join-handles-ambiguity-in-deciding-the-left-side-more-explicitly

Change-Id: If1b3f69b91bc961693cc442986f9e8c725a4d3bd
Closes-Bug: #1833051
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/37/665637/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bgpvpn/neutron/services/service_drivers/bagpipe/bagpipe.py'],1,15c3f144e34aef62d35877bf2cc3425bcb5e4708,bug/1833051," join(models_v2.IPAllocation, models_v2.IPAllocation.port_id == models_v2.Port.id).", join(models_v2.IPAllocation).,3,1
openstack%2Fopenstack-ansible-os_cloudkitty~master~I9b76d1b6a2ae4b156b3fb84132df8a52e6ba51c5,openstack/openstack-ansible-os_cloudkitty,master,I9b76d1b6a2ae4b156b3fb84132df8a52e6ba51c5,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:15:34.000000000,2019-06-18 20:44:53.000000000,2019-06-18 20:44:53.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-18 18:15:34.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/e3ea25ea95c9b363a750ab114e8bbab621b9ef4d', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I9b76d1b6a2ae4b156b3fb84132df8a52e6ba51c5\n'}]",0,666104,e3ea25ea95c9b363a750ab114e8bbab621b9ef4d,7,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I9b76d1b6a2ae4b156b3fb84132df8a52e6ba51c5
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/04/666104/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,e3ea25ea95c9b363a750ab114e8bbab621b9ef4d,openstack/openstack-ansible-tests/sync-tests, update_password: always, force: true,1,1
openstack%2Ftripleo-heat-templates~master~I3880f0f72beb24ee0b0868dca48afce6328144d3,openstack/tripleo-heat-templates,master,I3880f0f72beb24ee0b0868dca48afce6328144d3,Interface for Ansible Host variables,MERGED,2019-06-05 21:07:49.000000000,2019-06-18 20:37:00.000000000,2019-06-18 20:37:00.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30402}]","[{'number': 1, 'created': '2019-06-05 21:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a11749345d46cb2e970efac2e30e49cef08250c', 'message': 'WIP - Interface for Ansible Host variables\n\nThe new AnsibleHostVarsMap parameter is a map of roles to Ansible host\nvars, which later will be in config-download and populate the Ansible\nhost vars for each host in each role.\n\nChange-Id: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 2, 'created': '2019-06-05 21:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5600d4ca2c1f57828bf7eb230dc9d6f3d492c059', 'message': 'WIP - Interface for Ansible Host variables\n\nThe new AnsibleHostVarsMap parameter is a map of roles to Ansible host\nvars, which later will be in config-download and populate the Ansible\nhost vars for each host in each role.\n\nChange-Id: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 3, 'created': '2019-06-06 16:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e65f77a27d18c530cc3fe278b27baebb01b04903', 'message': 'WIP - Interface for Ansible Host variables\n\nThe new AnsibleHostVarsMap parameter is a map of roles to Ansible host\nvars, which later will be in config-download and populate the Ansible\nhost vars for each host in each role.\n\nChange-Id: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 4, 'created': '2019-06-06 16:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c7e916131028fdd6a624fc1ce2bcd244d816a31', 'message': 'Interface for Ansible Host variables\n\nThe new AnsibleHostVarsMap parameter is a map of roles to Ansible host\nvars, which later will be in config-download and populate the Ansible\nhost vars for each host in each role.\n\nChange-Id: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 5, 'created': '2019-06-07 13:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ccc4ba58865d3940851e43414844367ea1b7047f', 'message': 'Interface for Ansible Host variables\n\nThe new AnsibleHostVarsMap output is a map of roles to Ansible host\nvars, which later will be in config-download and populate the Ansible\nhost vars for each host in each role.\n\nChange-Id: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 6, 'created': '2019-06-07 20:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f8ff0c611242714cfc8a25df7a17765df505e7c', 'message': 'Interface for Ansible Host variables\n\nThe new AnsibleHostVarsMap output is a map of roles to Ansible host\nvars, which later will be in config-download and populate the Ansible\nhost vars for each host in each role.\n\nChange-Id: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 7, 'created': '2019-06-11 01:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b154621dc1c71c09306aa963c7932ee0e08ce72', 'message': 'Interface for Ansible Host variables\n\nThe new AnsibleHostVarsMap output is a map of roles to Ansible host\nvars, which later will be in config-download and populate the Ansible\nhost vars for each host in each role.\n\nChange-Id: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 8, 'created': '2019-06-11 17:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/449573798e4869934d0ecbd942babe7eb592f5e5', 'message': 'Interface for Ansible Host variables\n\nThe new AnsibleHostVarsMap output is a map of roles to Ansible host\nvars, which later will be in config-download and populate the Ansible\nhost vars for each host in each role.\n\nChange-Id: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 9, 'created': '2019-06-11 17:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9946b5cd3c6c657c7b1576d9cddd5c664282b8df', 'message': 'Interface for Ansible Host variables\n\nThe new AnsibleHostVarsMap output is a map of roles to Ansible host\nvars, which later will be in config-download and populate the Ansible\nhost vars for each host in each role.\n\nChange-Id: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 10, 'created': '2019-06-11 18:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cfccfd2be1be7da0da4448094b4583ab2e496754', 'message': 'Interface for Ansible Host variables\n\nThe new AnsibleHostVarsMap output is a map of roles to Ansible host\nvars, which later will be in config-download and populate the Ansible\nhost vars for each host in each role.\n\nChange-Id: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 11, 'created': '2019-06-12 15:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2b3cc511259adb17d184ecb643ea03c14c624a89', 'message': 'Interface for Ansible Host variables\n\nThe new AnsibleHostVarsMap output is a map of roles to Ansible host\nvars, which later will be in config-download and populate the Ansible\nhost vars for each host in each role.\n\nChange-Id: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 12, 'created': '2019-06-14 15:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/967370431e2b6fe6fd8077c27106e7208e5920bf', 'message': 'Interface for Ansible Host variables\n\nThe new AnsibleHostVarsMap output is a map of roles to Ansible host\nvars, which later will be in config-download and populate the Ansible\nhost vars for each host in each role.\n\nChange-Id: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 13, 'created': '2019-06-17 12:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2151c5a7a097fcb6be5938a3ae3facf28e0c7f7e', 'message': 'Interface for Ansible Host variables\n\nThe new AnsibleHostVarsMap output is a map of roles to Ansible host\nvars, which later will be in config-download and populate the Ansible\nhost vars for each host in each role.\n\nChange-Id: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}, {'number': 14, 'created': '2019-06-18 02:47:17.000000000', 'files': ['overcloud.j2.yaml', 'common/deploy-steps.j2', 'puppet/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/17e16e5107781c3ebeeb726f906ccfa24dad6b7a', 'message': 'Interface for Ansible Host variables\n\nThe new AnsibleHostVarsMap output is a map of roles to Ansible host\nvars, which later will be in config-download and populate the Ansible\nhost vars for each host in each role.\n\nChange-Id: I3880f0f72beb24ee0b0868dca48afce6328144d3\n'}]",6,663430,17e16e5107781c3ebeeb726f906ccfa24dad6b7a,52,6,14,3153,,,0,"Interface for Ansible Host variables

The new AnsibleHostVarsMap output is a map of roles to Ansible host
vars, which later will be in config-download and populate the Ansible
host vars for each host in each role.

Change-Id: I3880f0f72beb24ee0b0868dca48afce6328144d3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/663430/2 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'puppet/role.role.j2.yaml']",2,9a11749345d46cb2e970efac2e30e49cef08250c,bp/reduce-deployment-resources," {{server_resource_name}}AnsibleHostVars: type: OS::Heat::Value properties: type: json value: {%- for network in networks %} {%- if network.enabled|default(true) and network.name in role.networks|default([]) %} fqdn_{{network.name_lower}}: {get_attr: [NetHostMap, value, {{network.name_lower}}, fqdn]} {%- endif %} {%- endfor %} fqdn_ctlplane: {get_attr: [NetHostMap, value, ctlplane, fqdn]} fqdn_canonical: {get_attr: [NetHostMap, value, canonical, fqdn]} outputs: ansible_host_vars_map: description: | Map of Ansible variables specific per host. This map can be used to construct the AnsibleHostVarsMap parameter to lay down the ansible host vars per role in config-download. value: map_replace: - hostname: map_merge: list_concat: - {get_attr: [{{server_resource_name}}AnsibleHostVars, value]} - keys: hostname: list_join: - '-' - - {get_param: Hostname} - ctlplane",outputs:,38,0
openstack%2Finstack-undercloud~stable%2Fqueens~I4b040d25b2cb83f40cbd8e8caf6890feba586b60,openstack/instack-undercloud,stable/queens,I4b040d25b2cb83f40cbd8e8caf6890feba586b60,Enable keystone token caching,MERGED,2019-06-18 04:11:48.000000000,2019-06-18 20:36:59.000000000,2019-06-18 20:36:58.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-18 04:11:48.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/2e54de832e77c15450050300919c481be2ef361f', 'message': ""Enable keystone token caching\n\n'fernet' is the token provider since octata. As we've memcached\nin the undercloud, we should enable caching.\n\nChange-Id: I4b040d25b2cb83f40cbd8e8caf6890feba586b60\nRelated-Bug: #1832437\n(cherry picked from commit b18bfae6903f84dd7db596ee7b5caa3e0b43f0a7)\n""}]",0,665855,2e54de832e77c15450050300919c481be2ef361f,8,4,1,8833,,,0,"Enable keystone token caching

'fernet' is the token provider since octata. As we've memcached
in the undercloud, we should enable caching.

Change-Id: I4b040d25b2cb83f40cbd8e8caf6890feba586b60
Related-Bug: #1832437
(cherry picked from commit b18bfae6903f84dd7db596ee7b5caa3e0b43f0a7)
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/55/665855/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.yaml.template'],1,2e54de832e77c15450050300919c481be2ef361f,bug/1832437-stable/queens,"keystone::cache_memcache_servers: ""%{hiera('memcached::listen_ip')}:11211"" keystone::cache_backend: ""dogpile.cache.memcached""",,2,0
openstack%2Finstack-undercloud~stable%2Frocky~I4b040d25b2cb83f40cbd8e8caf6890feba586b60,openstack/instack-undercloud,stable/rocky,I4b040d25b2cb83f40cbd8e8caf6890feba586b60,Enable keystone token caching,MERGED,2019-06-18 04:07:57.000000000,2019-06-18 20:36:58.000000000,2019-06-18 20:36:57.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-18 04:07:57.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/b18bfae6903f84dd7db596ee7b5caa3e0b43f0a7', 'message': ""Enable keystone token caching\n\n'fernet' is the token provider since octata. As we've memcached\nin the undercloud, we should enable caching.\n\nChange-Id: I4b040d25b2cb83f40cbd8e8caf6890feba586b60\nRelated-Bug: #1832437\n""}]",0,665854,b18bfae6903f84dd7db596ee7b5caa3e0b43f0a7,9,4,1,8833,,,0,"Enable keystone token caching

'fernet' is the token provider since octata. As we've memcached
in the undercloud, we should enable caching.

Change-Id: I4b040d25b2cb83f40cbd8e8caf6890feba586b60
Related-Bug: #1832437
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/54/665854/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.yaml.template'],1,b18bfae6903f84dd7db596ee7b5caa3e0b43f0a7,bug/1832437,"keystone::cache_memcache_servers: ""%{hiera('memcached::listen_ip')}:11211"" keystone::cache_backend: ""dogpile.cache.memcached""",,2,0
openstack%2Ftripleo-heat-templates~master~I39bc75b164f85cd296a7b6b3c454a172338af9cb,openstack/tripleo-heat-templates,master,I39bc75b164f85cd296a7b6b3c454a172338af9cb,Configure Horizon timezone according to the host timezone,MERGED,2019-03-25 07:33:08.000000000,2019-06-18 20:36:56.000000000,2019-06-18 20:36:56.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-03-25 07:33:08.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/812e0860758868931fec53a5b5f870c45727e0a2', 'message': 'Configure Horizon timezone according to the host timezone\n\nTimezone configuration in Horizon should have the same as the one\nin the controller hosts.\nThis patch makes tripleo-heat-templates to pass the TimeZone option\nalso for horizon configuration, so that we can have the proper\nvalue configured in local_settings.\n\nChange-Id: I39bc75b164f85cd296a7b6b3c454a172338af9cb\n'}]",0,647307,812e0860758868931fec53a5b5f870c45727e0a2,11,6,1,9816,,,0,"Configure Horizon timezone according to the host timezone

Timezone configuration in Horizon should have the same as the one
in the controller hosts.
This patch makes tripleo-heat-templates to pass the TimeZone option
also for horizon configuration, so that we can have the proper
value configured in local_settings.

Change-Id: I39bc75b164f85cd296a7b6b3c454a172338af9cb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/647307/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/horizon/horizon-container-puppet.yaml'],1,812e0860758868931fec53a5b5f870c45727e0a2,horizon-timezone, TimeZone: default: 'UTC' description: The timezone to be set on the overcloud. type: string horizon::timezone: {get_param: TimeZone},,5,0
openstack%2Ftripleo-common~stable%2Fstein~I7c290f908fd685b801f49ba80531c14ce54677bd,openstack/tripleo-common,stable/stein,I7c290f908fd685b801f49ba80531c14ce54677bd,Update the Undercloud Services list in the inventory.,MERGED,2019-06-18 06:51:21.000000000,2019-06-18 20:36:55.000000000,2019-06-18 20:36:55.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-18 06:51:21.000000000', 'files': ['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f08c6058e3db6fe07c73fcf625d1b51945bf4f5a', 'message': ""Update the Undercloud Services list in the inventory.\n\nSince Stein, the name of the OpenStack services on the Undercloud have\nbeen renamed as 'tripleo_*.service'. This patch makes the Undercloud\nservice names evolve accordingly.\n\nChange-Id: I7c290f908fd685b801f49ba80531c14ce54677bd\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit 6942ac007f66fdf22a1a7678da608b28eebc6b4e)\n""}]",0,665884,f08c6058e3db6fe07c73fcf625d1b51945bf4f5a,9,6,1,11491,,,0,"Update the Undercloud Services list in the inventory.

Since Stein, the name of the OpenStack services on the Undercloud have
been renamed as 'tripleo_*.service'. This patch makes the Undercloud
service names evolve accordingly.

Change-Id: I7c290f908fd685b801f49ba80531c14ce54677bd
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 6942ac007f66fdf22a1a7678da608b28eebc6b4e)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/84/665884/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py']",2,f08c6058e3db6fe07c73fcf625d1b51945bf4f5a,," 'tripleo_nova_compute', 'tripleo_heat_engine', 'tripleo_ironic_conductor', 'tripleo_swift_container_server', 'tripleo_swift_object_server', 'tripleo_mistral_engine'], 'tripleo_nova_compute', 'tripleo_heat_engine', 'tripleo_ironic_conductor', 'tripleo_swift_container_server', 'tripleo_swift_object_server', 'tripleo_mistral_engine'], 'tripleo_nova_compute', 'tripleo_heat_engine', 'tripleo_ironic_conductor', 'tripleo_swift_container_server', 'tripleo_swift_object_server', 'tripleo_mistral_engine'],"," 'openstack-nova-compute', 'openstack-heat-engine', 'openstack-ironic-conductor', 'openstack-swift-container', 'openstack-swift-object', 'openstack-mistral-engine'], 'openstack-nova-compute', 'openstack-heat-engine', 'openstack-ironic-conductor', 'openstack-swift-container', 'openstack-swift-object', 'openstack-mistral-engine'], 'openstack-nova-compute', 'openstack-heat-engine', 'openstack-ironic-conductor', 'openstack-swift-container', 'openstack-swift-object', 'openstack-mistral-engine'],",21,21
openstack%2Ftripleo-validations~stable%2Fstein~I889d007fdd757788678fe3d10241024d417632d5,openstack/tripleo-validations,stable/stein,I889d007fdd757788678fe3d10241024d417632d5,Improve stackrc file sourcing,MERGED,2019-06-18 08:00:15.000000000,2019-06-18 20:36:54.000000000,2019-06-18 20:36:53.000000000,"[{'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-18 08:00:15.000000000', 'files': ['scripts/run-validations.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2d6b0daa2e8e6280bcbf06e355916c5aa25c6d6d', 'message': 'Improve stackrc file sourcing\n\nWe can deploy a TripleO environment from a different user than the\n\'stack\' user. This patch will source the stackrc file coming from the\nuser home running this script or fail if it doesn\'t exist.\n\nThis patch also enforces the find command to get not more than one\nvalidation found. For example, when running the neutron-sanity-check\nplaybook, the find command was getting two validations and this script\nwas running them both.\n\n$ BASEDIR=""/usr/share/openstack-tripleo-validations""\n$ VALIDATION=""neutron-sanity-check""\n\n$ find $BASEDIR/playbooks -type f -regex ""^.*${VALIDATION}.y[a]?ml""\n/usr/share/openstack-tripleo-validations/playbooks/neutron-sanity-check.yaml\n/usr/share/openstack-tripleo-validations/playbooks/undercloud-neutron-sanity-check.yaml\n\n$ find $BASEDIR/playbooks -type f -regex "".*playbooks\\/${VALIDATION}.y[a]?ml""\n/usr/share/openstack-tripleo-validations/playbooks/neutron-sanity-check.yaml\n\nChange-Id: I889d007fdd757788678fe3d10241024d417632d5\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit 831b7ae9ea7e8edf6e1954dba57c407e8224d6f2)\n'}]",0,665901,2d6b0daa2e8e6280bcbf06e355916c5aa25c6d6d,7,4,1,11491,,,0,"Improve stackrc file sourcing

We can deploy a TripleO environment from a different user than the
'stack' user. This patch will source the stackrc file coming from the
user home running this script or fail if it doesn't exist.

This patch also enforces the find command to get not more than one
validation found. For example, when running the neutron-sanity-check
playbook, the find command was getting two validations and this script
was running them both.

$ BASEDIR=""/usr/share/openstack-tripleo-validations""
$ VALIDATION=""neutron-sanity-check""

$ find $BASEDIR/playbooks -type f -regex ""^.*${VALIDATION}.y[a]?ml""
/usr/share/openstack-tripleo-validations/playbooks/neutron-sanity-check.yaml
/usr/share/openstack-tripleo-validations/playbooks/undercloud-neutron-sanity-check.yaml

$ find $BASEDIR/playbooks -type f -regex "".*playbooks\/${VALIDATION}.y[a]?ml""
/usr/share/openstack-tripleo-validations/playbooks/neutron-sanity-check.yaml

Change-Id: I889d007fdd757788678fe3d10241024d417632d5
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 831b7ae9ea7e8edf6e1954dba57c407e8224d6f2)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/01/665901/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/run-validations.sh'],1,2d6b0daa2e8e6280bcbf06e355916c5aa25c6d6d,run-validations.sh-stackrc-stable/stein,"source ${HOME}/stackrc || { echo ""The stackrc file is missing or cannot be read""; exit 1; }VAL=$(find $VALIDATIONS_BASEDIR/playbooks -type f -regex "".*playbooks\/${VALIDATION}\.y[a]?ml"")","source /home/stack/stackrcVAL=$(find $VALIDATIONS_BASEDIR/playbooks -type f -regex "".*${VALIDATION}\.y[a]?ml"")",2,2
openstack%2Ftripleo-validations~stable%2Fstein~I9a2a60e645443d4c052321c8edc1ec46943b39e9,openstack/tripleo-validations,stable/stein,I9a2a60e645443d4c052321c8edc1ec46943b39e9,Update ceph-health for containers and failure options,MERGED,2019-06-12 12:51:55.000000000,2019-06-18 20:36:54.000000000,2019-06-18 20:36:54.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-12 12:51:55.000000000', 'files': ['playbooks/ceph-health.yaml', 'roles/ceph/tasks/ceph-health.yaml', 'roles/ceph/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/853d7316f506435dd4a24a7ff3c2d93a1d9598ff', 'message': ""Update ceph-health for containers and failure options\n\nCall to 'ceph health' should be wrapped in a container exec.\nDisplay warning for any 'ceph health' status that is not OK.\n\nAdd new option, fail_on_ceph_health_err (default: false), to\nfail when ceph health is in error.\n\nAdd new option, osd_percentage_min (default: 0), to fail\nwhen a certain perecentage of OSDs are not in. When\nosd_percentage_min is 0, this check is not performed.\n\nChange-Id: I9a2a60e645443d4c052321c8edc1ec46943b39e9\nImplements: blueprint inflight-validations\n(cherry picked from commit 52eeb5b5fc88dd4a99d0dfcfd988552668300e11)\n""}]",0,664879,853d7316f506435dd4a24a7ff3c2d93a1d9598ff,7,6,1,11491,,,0,"Update ceph-health for containers and failure options

Call to 'ceph health' should be wrapped in a container exec.
Display warning for any 'ceph health' status that is not OK.

Add new option, fail_on_ceph_health_err (default: false), to
fail when ceph health is in error.

Add new option, osd_percentage_min (default: 0), to fail
when a certain perecentage of OSDs are not in. When
osd_percentage_min is 0, this check is not performed.

Change-Id: I9a2a60e645443d4c052321c8edc1ec46943b39e9
Implements: blueprint inflight-validations
(cherry picked from commit 52eeb5b5fc88dd4a99d0dfcfd988552668300e11)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/79/664879/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/ceph-health.yaml', 'roles/ceph/tasks/ceph-health.yaml', 'roles/ceph/defaults/main.yml']",3,853d7316f506435dd4a24a7ff3c2d93a1d9598ff,bp/inflight-validations-stable/stein,fail_on_ceph_health_err: false osd_percentage_min: 0 ,,64,11
openstack%2Fopenstack-ansible~stable%2Fstein~I985a55477608e02ac3947f12b8ff342cc6594819,openstack/openstack-ansible,stable/stein,I985a55477608e02ac3947f12b8ff342cc6594819,Bump SHAs for stable/stein,MERGED,2019-06-18 16:10:35.000000000,2019-06-18 20:34:30.000000000,2019-06-18 20:34:30.000000000,"[{'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 16:10:35.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6b9f13086d4bea179c05d78b5f7317bd056e3381', 'message': 'Bump SHAs for stable/stein\n\nChange-Id: I985a55477608e02ac3947f12b8ff342cc6594819\n'}]",0,666039,6b9f13086d4bea179c05d78b5f7317bd056e3381,7,3,1,1004,,,0,"Bump SHAs for stable/stein

Change-Id: I985a55477608e02ac3947f12b8ff342cc6594819
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/39/666039/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,6b9f13086d4bea179c05d78b5f7317bd056e3381,, version: 456de90e9e1a842dd43e5915c2103afbde8aa1d4 version: 114078bfa186c67ad26bbe4dbf526afe0a8872e2, version: db36461602a06e8c5ff7c3ee6e0c89f166c44aae version: 64659d2c8292ca429e1939e5a54df155a0493065,2,2
openstack%2Ftripleo-heat-templates~stable%2Frocky~I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5,openstack/tripleo-heat-templates,stable/rocky,I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5,Force ansible serial to 1 for the Controller,MERGED,2019-06-11 12:02:25.000000000,2019-06-18 20:27:19.000000000,2019-06-18 20:27:19.000000000,"[{'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-06-11 12:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/50b9c61310144e3d8f478e840823af46cb1f67c8', 'message': ""Force ansible serial to 1 for the Controller\n\nBy introducing update_serial variable we parallelize update\nexecution on non-pacemaker enabled nodes. Custom role data users\nneed to update their role files. By default we do serial 1 making\nsure nothing changes for users who didn't update their role data.\n\nResolves: rhbz#1652057\nCloses-Bug: #1831617\n\nChange-Id: I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5\n""}, {'number': 2, 'created': '2019-06-11 12:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/40f8d90c0494f6b0a55569fe3f24be0409fa7eee', 'message': ""Force ansible serial to 1 for the Controller\n\nBy introducing update_serial variable we parallelize update\nexecution on non-pacemaker enabled nodes. Custom role data users\nneed to update their role files. By default we do serial 1 making\nsure nothing changes for users who didn't update their role data.\n\nResolves: rhbz#1652057\nCloses-Bug: #1831617\n\nChange-Id: I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5\n""}, {'number': 3, 'created': '2019-06-11 13:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c8eea1583d239905f878adfa4c860b98d7bb722b', 'message': ""Force ansible serial to 1 for the Controller\n\nBy introducing update_serial variable we parallelize update\nexecution on non-pacemaker enabled nodes. Custom role data users\nneed to update their role files. By default we do serial 1 making\nsure nothing changes for users who didn't update their role data.\n\nResolves: rhbz#1652057\nCloses-Bug: #1831617\n\nChange-Id: I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5\n(cherry picked from commit effb11b7e351eb9fc6d5762ae41ce5f6ed5ccd7f)\n""}, {'number': 4, 'created': '2019-06-13 05:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/47fc1cd2415ece188bf5c21eff8f2d23b504e3ba', 'message': ""Force ansible serial to 1 for the Controller\n\nBy introducing update_serial variable we parallelize update\nexecution on non-pacemaker enabled nodes. Custom role data users\nneed to update their role files. By default we do serial 1 making\nsure nothing changes for users who didn't update their role data.\n\nResolves: rhbz#1652057\nCloses-Bug: #1831617\n\nChange-Id: I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5\n(cherry picked from commit effb11b7e351eb9fc6d5762ae41ce5f6ed5ccd7f)\n""}, {'number': 5, 'created': '2019-06-14 08:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e056fd88d6318315abbb3fa85225f8021f1a85f', 'message': ""Force ansible serial to 1 for the Controller\n\nBy introducing update_serial variable we parallelize update\nexecution on non-pacemaker enabled nodes. Custom role data users\nneed to update their role files. By default we do serial 1 making\nsure nothing changes for users who didn't update their role data.\n\nResolves: rhbz#1652057\nCloses-Bug: #1831617\n\nChange-Id: I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5\n(cherry picked from commit effb11b7e351eb9fc6d5762ae41ce5f6ed5ccd7f)\n""}, {'number': 6, 'created': '2019-06-18 07:34:16.000000000', 'files': ['roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'roles/ComputeAlt.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/OpenShiftAllInOne.yaml', 'roles/HciCephMon.yaml', 'roles/OpenShiftMaster.yaml', 'roles/OpenShiftWorker.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'roles/CephStorage.yaml', 'roles/ComputeSriov.yaml', 'roles/CephObject.yaml', 'roles/ComputeSriovRT.yaml', 'roles/Controller.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles/CephFile.yaml', 'roles/ControllerOpenstack.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/HciCephFile.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/Messaging.yaml', 'common/deploy-steps.j2', 'roles/CephAll.yaml', 'roles/Novacontrol.yaml', 'roles/BlockStorage.yaml', 'releasenotes/notes/update_serial-785ff794ff88fb2e.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Compute.yaml', 'roles/OpenShiftInfra.yaml', 'roles/Telemetry.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeHCI.yaml', 'roles/ControllerNoCeph.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/Database.yaml', 'roles/ObjectStorage.yaml', 'roles/IronicConductor.yaml', 'roles/Networker.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab67b737498f511e731e2a2421359427505a9a54', 'message': ""Force ansible serial to 1 for the Controller\n\nBy introducing update_serial variable we parallelize update\nexecution on non-pacemaker enabled nodes. Custom role data users\nneed to update their role files. By default we do serial 1 making\nsure nothing changes for users who didn't update their role data.\n\nResolves: rhbz#1652057\nCloses-Bug: #1831617\n\nChange-Id: I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5\n(cherry picked from commit a59a188a6b6ef7275d318d95b17d3a692065e16a)\n""}]",1,664561,ab67b737498f511e731e2a2421359427505a9a54,25,7,6,16515,,,0,"Force ansible serial to 1 for the Controller

By introducing update_serial variable we parallelize update
execution on non-pacemaker enabled nodes. Custom role data users
need to update their role files. By default we do serial 1 making
sure nothing changes for users who didn't update their role data.

Resolves: rhbz#1652057
Closes-Bug: #1831617

Change-Id: I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5
(cherry picked from commit a59a188a6b6ef7275d318d95b17d3a692065e16a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/664561/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'roles/ComputeAlt.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/OpenShiftAllInOne.yaml', 'roles/HciCephMon.yaml', 'roles/OpenShiftMaster.yaml', 'roles/OpenShiftWorker.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'roles/CephStorage.yaml', 'roles/ComputeSriov.yaml', 'roles/CephObject.yaml', 'roles/ComputeSriovRT.yaml', 'roles/Controller.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles/CephFile.yaml', 'roles/ControllerOpenstack.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/HciCephFile.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/Messaging.yaml', 'common/deploy-steps.j2', 'roles/CephAll.yaml', 'roles/Novacontrol.yaml', 'roles/BlockStorage.yaml', 'releasenotes/notes/update_serial-785ff794ff88fb2e.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Compute.yaml', 'roles/OpenShiftInfra.yaml', 'roles/Telemetry.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeHCI.yaml', 'roles/ControllerNoCeph.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/Database.yaml', 'roles/CellController.yaml', 'roles/ObjectStorage.yaml', 'roles/IronicConductor.yaml', 'roles/Networker.yaml']",46,50b9c61310144e3d8f478e840823af46cb1f67c8,bug/1831617, update_serial: 1,,274,8
openstack%2Ftripleo-ci~master~I91606456b5152d96888b4bbb3a4332d1bea2de13,openstack/tripleo-ci,master,I91606456b5152d96888b4bbb3a4332d1bea2de13,Add option to cherry-pick and rebase f28 patch for stable/stein,MERGED,2019-06-05 20:08:32.000000000,2019-06-18 20:27:18.000000000,2019-06-18 20:27:18.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-06-05 20:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/59dc7730d29901c516c81f76fd46134208b14e8a', 'message': ""Add option to cherry-pick and rebase f28 patch for stable/stein\n\nThe f28 stein standalone job was failing due to 'missing\ncontainers'. This review corrects the branch cherry-pick and\nrebase so that the stein jobs use the correct stable/stein\nbranch from kolla.\n\nChange-Id: I91606456b5152d96888b4bbb3a4332d1bea2de13\nCloses-Bug: #1831796\n""}, {'number': 2, 'created': '2019-06-07 19:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/179aff59b15a3dc1a19cb82b6d5738e95de66380', 'message': ""Add option to cherry-pick and rebase f28 patch for stable/stein\n\nThe f28 stein standalone job was failing due to 'missing\ncontainers'. This review corrects the branch cherry-pick and\nrebase so that the stein jobs use the correct stable/stein\nbranch from kolla.\n\nChange-Id: I91606456b5152d96888b4bbb3a4332d1bea2de13\nCloses-Bug: #1831796\n""}, {'number': 3, 'created': '2019-06-11 15:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/028abf750eef81076b3cdb946df30c8f7b56870f', 'message': ""Add option to cherry-pick and rebase f28 patch for stable/stein\n\nThe f28 stein standalone job was failing due to 'missing\ncontainers'. This review corrects the branch cherry-pick and\nrebase so that the stein jobs use the correct stable/stein\nbranch from kolla.\n\nChange-Id: I91606456b5152d96888b4bbb3a4332d1bea2de13\nCloses-Bug: #1831796\n""}, {'number': 4, 'created': '2019-06-13 18:42:23.000000000', 'files': ['roles/build-containers/vars/common.yaml', 'roles/build-containers/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4e3a38295200372366bb735371f440400a2907e8', 'message': ""Add option to cherry-pick and rebase f28 patch for stable/stein\n\nThe f28 stein standalone job was failing due to 'missing\ncontainers'. This review corrects the branch cherry-pick and\nrebase so that the stein jobs use the correct stable/stein\nbranch from kolla.\n\nChange-Id: I91606456b5152d96888b4bbb3a4332d1bea2de13\nCloses-Bug: #1831796\n""}]",2,663417,4e3a38295200372366bb735371f440400a2907e8,25,7,4,9976,,,0,"Add option to cherry-pick and rebase f28 patch for stable/stein

The f28 stein standalone job was failing due to 'missing
containers'. This review corrects the branch cherry-pick and
rebase so that the stein jobs use the correct stable/stein
branch from kolla.

Change-Id: I91606456b5152d96888b4bbb3a4332d1bea2de13
Closes-Bug: #1831796
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/17/663417/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-containers/vars/common.yaml', 'roles/build-containers/tasks/main.yaml']",2,59dc7730d29901c516c81f76fd46134208b14e8a,bug/1831796, git pull --rebase upstream {{ branch_override|default(release) }}, git pull --rebase upstream master,9,3
openstack%2Fansible-role-container-registry~master~If2a4be04dd710ea8174bbd0b77bd57c7baf0a6b9,openstack/ansible-role-container-registry,master,If2a4be04dd710ea8174bbd0b77bd57c7baf0a6b9,Reduce the number of tripleo jobs,MERGED,2018-12-19 16:37:16.000000000,2019-06-18 20:27:17.000000000,2019-06-18 20:27:17.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-12-19 16:37:16.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/502ee19f48442387ff67f0d006927a0ae88bdffe', 'message': 'Reduce the number of tripleo jobs\n\nWe only really need an undercloud job for testing at the moment. The\nundercloud is the primary consumer of this role anyway.\n\nChange-Id: If2a4be04dd710ea8174bbd0b77bd57c7baf0a6b9\n'}]",0,626360,502ee19f48442387ff67f0d006927a0ae88bdffe,10,5,1,14985,,,0,"Reduce the number of tripleo jobs

We only really need an undercloud job for testing at the moment. The
undercloud is the primary consumer of this role anyway.

Change-Id: If2a4be04dd710ea8174bbd0b77bd57c7baf0a6b9
",git fetch https://review.opendev.org/openstack/ansible-role-container-registry refs/changes/60/626360/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,502ee19f48442387ff67f0d006927a0ae88bdffe,reduce-tripleo-jobs, - tripleo-ci-centos-7-undercloud-containers - tripleo-ci-centos-7-undercloud-containers, templates: - tripleo-multinode-container-minimal,2,2
openstack%2Fpuppet-tripleo~stable%2Fstein~Ib4884078d54c25da998495ba3e8d47b5e17010ce,openstack/puppet-tripleo,stable/stein,Ib4884078d54c25da998495ba3e8d47b5e17010ce,IHA robustness improvements,MERGED,2019-06-17 06:39:56.000000000,2019-06-18 20:27:16.000000000,2019-06-18 20:27:16.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-17 06:39:56.000000000', 'files': ['manifests/profile/base/pacemaker/instance_ha.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a2ceac8bafedcedae20811a78a6ccb3823abf36d', 'message': ""IHA robustness improvements\n\nThis will avoid useless fencing events in case of stonith problems.  The\n'compute-unfence-trigger' resource is simply a dummy resource that is\nonly used to trigger unfence events. If for whatever reason this\nresource is having issues on stop (pcmk bug, node overloaded, etc.) it\nmakes zero sense to have pacemaker do a fencing action against the node.\nLet's just block and show the operator the status and be less harsh in\ngeneral.\n\nTested this and I correctly get the following:\n[root@controller-0 ~]# pcs resource show compute-unfence-trigger-clone\n Clone: compute-unfence-trigger-clone\n  Resource: compute-unfence-trigger (class=ocf provider=pacemaker type=Dummy)\n   Meta Attrs: requires=unfencing\n   Operations: migrate_from interval=0s timeout=20 (compute-unfence-trigger-migrate_from-interval-0s)\n               migrate_to interval=0s timeout=20 (compute-unfence-trigger-migrate_to-interval-0s)\n               monitor interval=10 timeout=20 (compute-unfence-trigger-monitor-interval-10)\n               reload interval=0s timeout=20 (compute-unfence-trigger-reload-interval-0s)\n               start interval=0s timeout=20 (compute-unfence-trigger-start-interval-0s)\n               stop interval=0s on-fail=block timeout=20 (compute-unfence-trigger-stop-interval-0s)\n\nCloses-Bug: #1831234\n\nChange-Id: Ib4884078d54c25da998495ba3e8d47b5e17010ce\n(cherry picked from commit 8d2c3a0e6e392e2f358bf29a3b900afcd5bbe56a)\n""}]",0,665589,a2ceac8bafedcedae20811a78a6ccb3823abf36d,9,7,1,20778,,,0,"IHA robustness improvements

This will avoid useless fencing events in case of stonith problems.  The
'compute-unfence-trigger' resource is simply a dummy resource that is
only used to trigger unfence events. If for whatever reason this
resource is having issues on stop (pcmk bug, node overloaded, etc.) it
makes zero sense to have pacemaker do a fencing action against the node.
Let's just block and show the operator the status and be less harsh in
general.

Tested this and I correctly get the following:
[root@controller-0 ~]# pcs resource show compute-unfence-trigger-clone
 Clone: compute-unfence-trigger-clone
  Resource: compute-unfence-trigger (class=ocf provider=pacemaker type=Dummy)
   Meta Attrs: requires=unfencing
   Operations: migrate_from interval=0s timeout=20 (compute-unfence-trigger-migrate_from-interval-0s)
               migrate_to interval=0s timeout=20 (compute-unfence-trigger-migrate_to-interval-0s)
               monitor interval=10 timeout=20 (compute-unfence-trigger-monitor-interval-10)
               reload interval=0s timeout=20 (compute-unfence-trigger-reload-interval-0s)
               start interval=0s timeout=20 (compute-unfence-trigger-start-interval-0s)
               stop interval=0s on-fail=block timeout=20 (compute-unfence-trigger-stop-interval-0s)

Closes-Bug: #1831234

Change-Id: Ib4884078d54c25da998495ba3e8d47b5e17010ce
(cherry picked from commit 8d2c3a0e6e392e2f358bf29a3b900afcd5bbe56a)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/89/665589/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker/instance_ha.pp'],1,a2ceac8bafedcedae20811a78a6ccb3823abf36d,iha_fix-stable/stein," op_params => 'stop timeout=20 on-fail=block',",,1,0
openstack%2Fcinder~master~Ia73561e0908a4b6aeaf367ee3d37d8a393fac8e6,openstack/cinder,master,Ia73561e0908a4b6aeaf367ee3d37d8a393fac8e6,Add fallback if 'resource_query_filters_file' file is not available,ABANDONED,2019-01-10 15:22:10.000000000,2019-06-18 20:26:57.000000000,,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-01-10 15:22:10.000000000', 'files': ['cinder/api/common.py', 'doc/source/admin/generalized_filters.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/610f1a9b32674529ae822a8c6bcf153fd08d2dc5', 'message': ""Add fallback if 'resource_query_filters_file' file is not available\n\nCinder should use default values for API filters if the config file is\nnot available.\n\nChange-Id: Ia73561e0908a4b6aeaf367ee3d37d8a393fac8e6\nPartial-Bug: #1802070\n""}]",4,629880,610f1a9b32674529ae822a8c6bcf153fd08d2dc5,72,34,1,1736,,,0,"Add fallback if 'resource_query_filters_file' file is not available

Cinder should use default values for API filters if the config file is
not available.

Change-Id: Ia73561e0908a4b6aeaf367ee3d37d8a393fac8e6
Partial-Bug: #1802070
",git fetch https://review.opendev.org/openstack/cinder refs/changes/80/629880/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/common.py', 'doc/source/admin/generalized_filters.rst']",2,610f1a9b32674529ae822a8c6bcf153fd08d2dc5,bug/1802070,enabled. If cinder can not open specified configuration file it will fallback to default values.,enabled.,22,3
openstack%2Fos-brick~master~Iabe0cf9761e4d7e1d62c51c601c283faf7048691,openstack/os-brick,master,Iabe0cf9761e4d7e1d62c51c601c283faf7048691,Add CAP_DAC_OVERRIDE capability for privsep,ABANDONED,2018-12-16 11:59:50.000000000,2019-06-18 20:26:30.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 19982}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24230}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2018-12-16 11:59:50.000000000', 'files': ['os_brick/privileged/__init__.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/12c6a8c6304cc6e22a61e8eec2344036b46097e2', 'message': 'Add CAP_DAC_OVERRIDE capability for privsep\n\nCAP_DAC_OVERRIDE was added (like in nova and neutron) to fix cinder backups\non kernel v4.15.\n\nChange-Id: Iabe0cf9761e4d7e1d62c51c601c283faf7048691\nCloses-Bug: 1808682\n'}]",0,625426,12c6a8c6304cc6e22a61e8eec2344036b46097e2,27,19,1,1736,,,0,"Add CAP_DAC_OVERRIDE capability for privsep

CAP_DAC_OVERRIDE was added (like in nova and neutron) to fix cinder backups
on kernel v4.15.

Change-Id: Iabe0cf9761e4d7e1d62c51c601c283faf7048691
Closes-Bug: 1808682
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/26/625426/1 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/privileged/__init__.py'],1,12c6a8c6304cc6e22a61e8eec2344036b46097e2,bug/1808682," capabilities=[c.CAP_SYS_ADMIN, c.CAP_DAC_OVERRIDE],"," capabilities=[c.CAP_SYS_ADMIN],",1,1
openstack%2Fopenstack-ansible-os_tempest~master~I63f2f699eaa57b05c67916b190e9dde52ba2d2d2,openstack/openstack-ansible-os_tempest,master,I63f2f699eaa57b05c67916b190e9dde52ba2d2d2,Clarify supported SUSE versions,MERGED,2019-05-21 08:50:38.000000000,2019-06-18 20:24:23.000000000,2019-06-18 20:24:23.000000000,"[{'_account_id': 6593}, {'_account_id': 8367}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-21 08:50:38.000000000', 'files': ['meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/e2665accd0c2d3186f1b70c635d08fd1bcbc4e9c', 'message': 'Clarify supported SUSE versions\n\nThis role only support openSUSE Leap 15, not 42.3, not tumbleweed.\nSaying all is confusing and a bad practice. This fixes it, while\nensuring the job is properly defined to test that assertion.\n\nChange-Id: I63f2f699eaa57b05c67916b190e9dde52ba2d2d2\n'}]",0,660296,e2665accd0c2d3186f1b70c635d08fd1bcbc4e9c,13,5,1,17068,,,0,"Clarify supported SUSE versions

This role only support openSUSE Leap 15, not 42.3, not tumbleweed.
Saying all is confusing and a bad practice. This fixes it, while
ensuring the job is properly defined to test that assertion.

Change-Id: I63f2f699eaa57b05c67916b190e9dde52ba2d2d2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/96/660296/1 && git format-patch -1 --stdout FETCH_HEAD,['meta/main.yml'],1,e2665accd0c2d3186f1b70c635d08fd1bcbc4e9c,clarify-suse-support, - 15, - all,1,1
openstack%2Fnova~master~Ic0a03e89903bf925638fa26cca3dac7db710dca3,openstack/nova,master,Ic0a03e89903bf925638fa26cca3dac7db710dca3,Deprecate RetryFilter,MERGED,2019-06-07 14:21:39.000000000,2019-06-18 20:19:08.000000000,2019-06-18 20:19:08.000000000,"[{'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-07 14:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/739fca5becb9c1c89f6aa4d71be815832fc4f5e7', 'message': ""WIP: Deprecate RetryFilter\n\nSince blueprint return-alternate-hosts in Queens, the scheduler\nreturns a primary selected host and some alternate hosts based\non the max_attempts config option. The only reschedules we have\nare during server create and resize/cold migrate. The list of\nalternative hosts are passed down from conductor through compute\nand back to conductor on reschedule and if conductor gets a list\nof alternate hosts on reschedule it will not call the scheduler\nagain. This means the RetryFilter is effectively useless now since\nit shouldn't ever filter out hosts on the first schedule attempt\nand because we're using alternates for reschedules, we shouldn't\ngo back to the scheduler on a reschedule. As a result this change\ndeprecates the RetryFilter and removes it from the default list\nof enabled filters.\n\nChange-Id: Ic0a03e89903bf925638fa26cca3dac7db710dca3\n""}, {'number': 2, 'created': '2019-06-10 17:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28f07cbc8d502b3c2349c28617594f22deaa980e', 'message': ""Deprecate RetryFilter\n\nSince blueprint return-alternate-hosts in Queens, the scheduler\nreturns a primary selected host and some alternate hosts based\non the max_attempts config option. The only reschedules we have\nare during server create and resize/cold migrate. The list of\nalternative hosts are passed down from conductor through compute\nand back to conductor on reschedule and if conductor gets a list\nof alternate hosts on reschedule it will not call the scheduler\nagain. This means the RetryFilter is effectively useless now since\nit shouldn't ever filter out hosts on the first schedule attempt\nand because we're using alternates for reschedules, we shouldn't\ngo back to the scheduler on a reschedule. As a result this change\ndeprecates the RetryFilter and removes it from the default list\nof enabled filters.\n\nNote that a few places in the docs mention the default\nenabled_filters value (incorrectly - the ComputeFilter is missing\nin two spots) so while removing RetryFilter from those docs this\nchange also tries to make those references more generic. The one\nthat is still a full list of the default value does match the\ncurrent default and is not changed here besides removing RetryFilter.\n\nChange-Id: Ic0a03e89903bf925638fa26cca3dac7db710dca3\n""}, {'number': 3, 'created': '2019-06-17 19:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d4df66f4b61767fb51301a4c783a9dad1dcfcf6', 'message': ""Deprecate RetryFilter\n\nSince blueprint return-alternate-hosts in Queens, the scheduler\nreturns a primary selected host and some alternate hosts based\non the max_attempts config option. The only reschedules we have\nare during server create and resize/cold migrate. The list of\nalternative hosts are passed down from conductor through compute\nand back to conductor on reschedule and if conductor gets a list\nof alternate hosts on reschedule it will not call the scheduler\nagain. This means the RetryFilter is effectively useless now since\nit shouldn't ever filter out hosts on the first schedule attempt\nand because we're using alternates for reschedules, we shouldn't\ngo back to the scheduler on a reschedule. As a result this change\ndeprecates the RetryFilter and removes it from the default list\nof enabled filters.\n\nNote that a few places in the docs mention the default\nenabled_filters value (incorrectly - the ComputeFilter is missing\nin two spots) so while removing RetryFilter from those docs this\nchange also tries to make those references more generic. The one\nthat is still a full list of the default value does match the\ncurrent default and is not changed here besides removing RetryFilter.\n\nChange-Id: Ic0a03e89903bf925638fa26cca3dac7db710dca3\n""}, {'number': 4, 'created': '2019-06-17 19:27:40.000000000', 'files': ['nova/scheduler/filters/retry_filter.py', 'doc/source/user/filter-scheduler.rst', 'doc/source/admin/configuration/schedulers.rst', 'nova/conf/scheduler.py', 'nova/tests/unit/scheduler/filters/test_retry_filters.py', 'releasenotes/notes/deprecate-retry-filter-4d1dba39a2c21836.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/257ef9573f35a822602e233652ca12cd95c815ca', 'message': ""Deprecate RetryFilter\n\nSince blueprint return-alternate-hosts in Queens, the scheduler\nreturns a primary selected host and some alternate hosts based\non the max_attempts config option. The only reschedules we have\nare during server create and resize/cold migrate. The list of\nalternative hosts are passed down from conductor through compute\nand back to conductor on reschedule and if conductor gets a list\nof alternate hosts on reschedule it will not call the scheduler\nagain. This means the RetryFilter is effectively useless now since\nit shouldn't ever filter out hosts on the first schedule attempt\nand because we're using alternates for reschedules, we shouldn't\ngo back to the scheduler on a reschedule. As a result this change\ndeprecates the RetryFilter and removes it from the default list\nof enabled filters.\n\nChange-Id: Ic0a03e89903bf925638fa26cca3dac7db710dca3\n""}]",15,663953,257ef9573f35a822602e233652ca12cd95c815ca,57,18,4,6873,,,0,"Deprecate RetryFilter

Since blueprint return-alternate-hosts in Queens, the scheduler
returns a primary selected host and some alternate hosts based
on the max_attempts config option. The only reschedules we have
are during server create and resize/cold migrate. The list of
alternative hosts are passed down from conductor through compute
and back to conductor on reschedule and if conductor gets a list
of alternate hosts on reschedule it will not call the scheduler
again. This means the RetryFilter is effectively useless now since
it shouldn't ever filter out hosts on the first schedule attempt
and because we're using alternates for reschedules, we shouldn't
go back to the scheduler on a reschedule. As a result this change
deprecates the RetryFilter and removes it from the default list
of enabled filters.

Change-Id: Ic0a03e89903bf925638fa26cca3dac7db710dca3
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/663953/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/scheduler.py'],1,739fca5becb9c1c89f6aa4d71be815832fc4f5e7,retry-filter,," ""RetryFilter"",",0,1
openstack%2Fkeystone~master~Ic99f8d56edd52f30214332ad1cc25baae2a575b6,openstack/keystone,master,Ic99f8d56edd52f30214332ad1cc25baae2a575b6,WIP: Add role check to access rules,ABANDONED,2019-02-28 14:06:44.000000000,2019-06-18 20:17:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-02-28 14:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c1e6f0c7a4a0e8126cb572fb1d93045f50f252ca', 'message': 'WIP: Add role check to access rules\n\nThis patch fulfills the role check condition of the spec[1]. The problem\nwith this approach is that it does not take scope into account at all.\nSo a user with a member role on a project could create an application\ncredential for a system-scope API that uses the member role, which\nsomewhat defeats the point.\n\n[1] http://specs.openstack.org/openstack/keystone-specs/specs/keystone/stein/capabilities-app-creds.html#url-templates-and-roles\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: Ic99f8d56edd52f30214332ad1cc25baae2a575b6\n'}, {'number': 2, 'created': '2019-03-03 17:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/28ad956a7a1f69f0e4e211ef63bbdc932490dd74', 'message': 'WIP: Add role check to access rules\n\nThis patch fulfills the role check condition of the spec[1]. The problem\nwith this approach is that it does not take scope into account at all.\nSo a user with a member role on a project could create an application\ncredential for a system-scope API that uses the member role, which\nsomewhat defeats the point.\n\n[1] http://specs.openstack.org/openstack/keystone-specs/specs/keystone/stein/capabilities-app-creds.html#url-templates-and-roles\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: Ic99f8d56edd52f30214332ad1cc25baae2a575b6\n'}, {'number': 3, 'created': '2019-03-04 08:22:37.000000000', 'files': ['keystone/api/users.py', 'keystone/tests/unit/config_files/access_rules_roles.json', 'keystone/access_rules_config/backends/json.py', 'keystone/tests/unit/test_v3_application_credential.py', 'keystone/access_rules_config/core.py', 'keystone/application_credential/core.py', 'keystone/tests/unit/access_rules_config/backends/test_json.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/023e37bef9d8074219c0314b7ae25825c2cb1bdd', 'message': 'WIP: Add role check to access rules\n\nThis patch fulfills the role check condition of the spec[1]. The problem\nwith this approach is that it does not take scope into account at all.\nSo a user with a member role on a project could create an application\ncredential for a system-scope API that uses the member role, which\nsomewhat defeats the point.\n\n[1] http://specs.openstack.org/openstack/keystone-specs/specs/keystone/stein/capabilities-app-creds.html#url-templates-and-roles\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: Ic99f8d56edd52f30214332ad1cc25baae2a575b6\n'}]",0,640034,023e37bef9d8074219c0314b7ae25825c2cb1bdd,7,1,3,8482,,,0,"WIP: Add role check to access rules

This patch fulfills the role check condition of the spec[1]. The problem
with this approach is that it does not take scope into account at all.
So a user with a member role on a project could create an application
credential for a system-scope API that uses the member role, which
somewhat defeats the point.

[1] http://specs.openstack.org/openstack/keystone-specs/specs/keystone/stein/capabilities-app-creds.html#url-templates-and-roles

bp whitelist-extension-for-app-creds

Change-Id: Ic99f8d56edd52f30214332ad1cc25baae2a575b6
",git fetch https://review.opendev.org/openstack/keystone refs/changes/34/640034/3 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/api/users.py', 'keystone/tests/unit/config_files/access_rules_roles.json', 'keystone/access_rules_config/backends/json.py', 'keystone/tests/unit/test_v3_application_credential.py', 'keystone/access_rules_config/core.py', 'keystone/application_credential/core.py', 'keystone/tests/unit/access_rules_config/backends/test_json.py']",7,c1e6f0c7a4a0e8126cb572fb1d93045f50f252ca,bp/whitelist-extension-for-app-creds," def test_check_access_rule_for_empty_required_roles(self): roles = [{'id': 'abc123'}] self.assertTrue(self.driver.check_access_rule('identity', '/v3/users', 'GET', roles=roles)) class JSONDriverRulesWithRolesTestCase(unit.TestCase): """"""Tests for validating access rules config with required roles."""""" def setUp(self): super(JSONDriverRulesWithRolesTestCase, self).setUp() rules_file = '%s/access_rules_roles.json' % unit.TESTCONF self.useFixture(access_rules_config.AccessRulesConfig( self.config_fixture, rules_file=rules_file)) self.driver = json_driver.AccessRulesConfig() def test_check_access_rule_has_one_required_role(self): roles = [{'name': 'reader'}] self.assertTrue(self.driver.check_access_rule('identity', '/v3/groups', 'GET', roles=roles)) def test_check_access_rule_has_all_required_roles(self): roles = [{'name': 'admin'}, {'name': 'reader'}] self.assertTrue(self.driver.check_access_rule('identity', '/v3/groups', 'GET', roles=roles)) def test_check_access_rule_has_no_required_roles(self): roles = [{'name': 'member'}] self.assertFalse(self.driver.check_access_rule('identity', '/v3/groups', 'GET', roles=roles))",,187,19
openstack%2Fironic~master~I8b82a7caf64f5e56e4dcf9b4c2007f55d929863b,openstack/ironic,master,I8b82a7caf64f5e56e4dcf9b4c2007f55d929863b,Spruce up release notes for 12.2.0 release,MERGED,2019-06-18 12:23:51.000000000,2019-06-18 20:08:35.000000000,2019-06-18 16:35:09.000000000,"[{'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-06-18 12:23:51.000000000', 'files': ['releasenotes/notes/send-sensor-data-for-all-nodes-a732d9df43e74318.yaml', 'releasenotes/notes/add-realtime-support-d814d5917836e9e2.yaml', 'releasenotes/notes/allow-allocation-update-94d862c3da454be2.yaml', 'releasenotes/notes/mdns-a5f4034257139e31.yaml', 'releasenotes/notes/use-ironic-lib-exception-4bff237c9667bf46.yaml', 'releasenotes/notes/remove-deprecated-hash_distribution_replicas-08351358eba4c9e1.yaml', 'releasenotes/notes/bug-2005377-5c63357681a465ec.yaml', 'releasenotes/notes/bug-30316-8c53358681e464eb.yaml', 'releasenotes/notes/bug-30317-a972c8d879c98941.yaml', 'releasenotes/notes/bug-30315-e46eafe5b575f3da.yaml', 'releasenotes/notes/idrac-remove-commit_required-d9ea849e8f5e78e2.yaml', 'releasenotes/notes/remove-enabled-drivers-5afcd77b53da1499.yaml', 'releasenotes/notes/add-neutron-request-timeout-1f7372af81f14ddd.yaml', 'releasenotes/notes/add-protection-for-available-nodes-25f163d69782ef63.yaml', 'releasenotes/notes/bug-2005764-15f45e11b9f9c96d.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0cf907bd0062f4946db9a4e9b97180d7a0af5ba0', 'message': 'Spruce up release notes for 12.2.0 release\n\nChange-Id: I8b82a7caf64f5e56e4dcf9b4c2007f55d929863b\n'}]",2,665964,0cf907bd0062f4946db9a4e9b97180d7a0af5ba0,9,5,1,14826,,,0,"Spruce up release notes for 12.2.0 release

Change-Id: I8b82a7caf64f5e56e4dcf9b4c2007f55d929863b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/64/665964/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/send-sensor-data-for-all-nodes-a732d9df43e74318.yaml', 'releasenotes/notes/add-realtime-support-d814d5917836e9e2.yaml', 'releasenotes/notes/allow-allocation-update-94d862c3da454be2.yaml', 'releasenotes/notes/mdns-a5f4034257139e31.yaml', 'releasenotes/notes/use-ironic-lib-exception-4bff237c9667bf46.yaml', 'releasenotes/notes/remove-deprecated-hash_distribution_replicas-08351358eba4c9e1.yaml', 'releasenotes/notes/bug-2005377-5c63357681a465ec.yaml', 'releasenotes/notes/bug-30316-8c53358681e464eb.yaml', 'releasenotes/notes/bug-30317-a972c8d879c98941.yaml', 'releasenotes/notes/bug-30315-e46eafe5b575f3da.yaml', 'releasenotes/notes/idrac-remove-commit_required-d9ea849e8f5e78e2.yaml', 'releasenotes/notes/remove-enabled-drivers-5afcd77b53da1499.yaml', 'releasenotes/notes/add-neutron-request-timeout-1f7372af81f14ddd.yaml', 'releasenotes/notes/add-protection-for-available-nodes-25f163d69782ef63.yaml', 'releasenotes/notes/bug-2005764-15f45e11b9f9c96d.yaml']",15,0cf907bd0062f4946db9a4e9b97180d7a0af5ba0,release-12.2.0," Fixes an issue encountered during deployment, more precisely See `story 2005764 <https://storyboard.openstack.org/#!/story/2005764>`_."," Fixes a deployment issue encountered during deployment, more precisely https://storyboard.openstack.org/#!/story/2005764",33,34
openstack%2Fneutron-fwaas~master~I9742207e98c07f0a4632631631288d9ada8cf8c7,openstack/neutron-fwaas,master,I9742207e98c07f0a4632631631288d9ada8cf8c7,netfilter_log: Correctly decode binary type prefix,MERGED,2019-06-10 09:39:55.000000000,2019-06-18 20:02:39.000000000,2019-06-18 20:02:39.000000000,"[{'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-10 09:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/652f532d840c583a6997f5de3f988daf803122e8', 'message': ""netfilter_log: Correct decode binary types\n\nUnder Python 3, firewall log prefixes are incorrectly decoded\nresulting in a mismatch between the stringy-fied 'prefix' value\nand the information avaliable in the prefixes data.\n\nUse oslo.utils safe_decode function to ensure that data is\ncorrectly decoded.\n\nChange-Id: I9742207e98c07f0a4632631631288d9ada8cf8c7\nCloses-Bug: 1832210\n""}, {'number': 2, 'created': '2019-06-11 07:51:01.000000000', 'files': ['neutron_fwaas/privileged/netfilter_log/libnetfilter_log.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/5c334d584b180c735d8744ff1807f2747c024a55', 'message': ""netfilter_log: Correctly decode binary type prefix\n\nUnder Python 3, firewall log prefixes are incorrectly decoded\nresulting in a mismatch between the stringy-fied 'prefix' value\nand the information available in the prefixes data.\n\nUse oslo.utils safe_decode function to ensure that data is\ncorrectly decoded.\n\nChange-Id: I9742207e98c07f0a4632631631288d9ada8cf8c7\nCloses-Bug: 1832210\n""}]",0,664234,5c334d584b180c735d8744ff1807f2747c024a55,9,3,2,935,,,0,"netfilter_log: Correctly decode binary type prefix

Under Python 3, firewall log prefixes are incorrectly decoded
resulting in a mismatch between the stringy-fied 'prefix' value
and the information available in the prefixes data.

Use oslo.utils safe_decode function to ensure that data is
correctly decoded.

Change-Id: I9742207e98c07f0a4632631631288d9ada8cf8c7
Closes-Bug: 1832210
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/34/664234/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/privileged/netfilter_log/libnetfilter_log.py'],1,652f532d840c583a6997f5de3f988daf803122e8,bug/1832210,"from oslo_utils import encodeutils return {'prefix': encodeutils.safe_decode(prefix), 'msg': encodeutils.safe_decode(msg)}"," return {'prefix': str(prefix), 'msg': str(msg)}",3,1
openstack%2Fnetworking-ovn~master~I406204fc751387c02517286c87fe45533d70b93d,openstack/networking-ovn,master,I406204fc751387c02517286c87fe45533d70b93d,Floating IP does not work with VLAN tenant networks,MERGED,2019-05-13 21:20:38.000000000,2019-06-18 19:52:08.000000000,2019-05-23 17:15:40.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 10237}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-05-13 21:20:38.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c5aef51edc9843db605303ec8bd8610b6c55e9c2', 'message': ""Floating IP does not work with VLAN tenant networks\n\nWhen trying to use the Floating IP address of an instance\nin a OVN-DVR setup while using VLAN tenant network type\nthe traffic does not pass. This is because of limitations\nwith VLAN tenant network types, which doesn't support\ndistributed VLAN routing.\n\nThe problem is the external_mac should not be set in the\nNAT table for the Floating IP which belongs to the logical\nport of a VLAN tenant logical switch. Otherwise, the compute\nnode which is binding the logical port will send the GARP\nwhere as the routing for VLAN tenant networks is centralized.\n\nChange-Id: I406204fc751387c02517286c87fe45533d70b93d\nCloses-bug: #1828891\n""}]",0,658923,c5aef51edc9843db605303ec8bd8610b6c55e9c2,12,6,1,1131,,,0,"Floating IP does not work with VLAN tenant networks

When trying to use the Floating IP address of an instance
in a OVN-DVR setup while using VLAN tenant network type
the traffic does not pass. This is because of limitations
with VLAN tenant network types, which doesn't support
distributed VLAN routing.

The problem is the external_mac should not be set in the
NAT table for the Floating IP which belongs to the logical
port of a VLAN tenant logical switch. Otherwise, the compute
node which is binding the logical port will send the GARP
where as the routing for VLAN tenant networks is centralized.

Change-Id: I406204fc751387c02517286c87fe45533d70b93d
Closes-bug: #1828891
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/23/658923/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py']",2,c5aef51edc9843db605303ec8bd8610b6c55e9c2,bug/1828891," gp.return_value = {'mac_address': '00:01:02:03:04:05', 'network_id': 'port-network-id'} @mock.patch('neutron.db.db_base_plugin_v2.NeutronDbPluginV2.get_network') def _test_update_floatingip_associate_distributed(self, network_type, uf, gf, gp, gn): gp.return_value = {'mac_address': '00:01:02:03:04:05', 'network_id': 'port-network-id'} fake_network_vlan = self.fake_network fake_network_vlan[pnet.NETWORK_TYPE] = network_type gn.return_value = fake_network_vlan if network_type == constants.TYPE_VLAN: self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( 'neutron-new-router-id', type='dnat_and_snat', logical_ip='10.10.10.10', external_ip='192.168.0.10', logical_port='new-port_id', external_ids=expected_ext_ids) else: self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( 'neutron-new-router-id', type='dnat_and_snat', logical_ip='10.10.10.10', external_ip='192.168.0.10', external_mac='00:01:02:03:04:05', logical_port='new-port_id', external_ids=expected_ext_ids) def test_update_floatingip_associate_distributed_flat(self): self._test_update_floatingip_associate_distributed(constants.TYPE_FLAT) def test_update_floatingip_associate_distributed_vlan(self): self._test_update_floatingip_associate_distributed(constants.TYPE_VLAN)"," gp.return_value = {'mac_address': '00:01:02:03:04:05'} def test_update_floatingip_associate_distributed(self, uf, gf, gp): gp.return_value = {'mac_address': '00:01:02:03:04:05'} self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( 'neutron-new-router-id', type='dnat_and_snat', logical_ip='10.10.10.10', external_ip='192.168.0.10', external_mac='00:01:02:03:04:05', logical_port='new-port_id', external_ids=expected_ext_ids)",33,9
openstack%2Fkayobe~stable%2Frocky~I7966cf33f6133090d83232504b8c1da4c7817e0c,openstack/kayobe,stable/rocky,I7966cf33f6133090d83232504b8c1da4c7817e0c,Restrict cliff to <2.15.0,MERGED,2019-06-17 15:09:29.000000000,2019-06-18 19:51:41.000000000,2019-06-18 19:51:41.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 15:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/14991dbbc495ec9d8d8e85431fd63717e62fc7a2', 'message': ""Restrict cliff to <2.15.0\n\nUsing Kayobe with cliff 2.15.0 fails with the following error:\n\nkayobe playbook run playbook.yml\ninvalid conflict_resolution value: 'ignore'\n\nThis change restricts cliff to <2.15.0.\n\nChange-Id: I7966cf33f6133090d83232504b8c1da4c7817e0c\nStory: 2005891\nTask: 33748\n""}, {'number': 2, 'created': '2019-06-17 15:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/bebc773f49a08da4bff24f08ce5c097232daa23d', 'message': ""Restrict cliff to <2.15.0\n\nUsing Kayobe with cliff 2.15.0 fails with the following error:\n\nkayobe playbook run playbook.yml\ninvalid conflict_resolution value: 'ignore'\n\nThis change restricts cliff to <2.15.0.\n\nChange-Id: I7966cf33f6133090d83232504b8c1da4c7817e0c\nDepends-On: https://review.opendev.org/665705\nStory: 2005891\nTask: 33748\n""}, {'number': 3, 'created': '2019-06-17 18:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/087960a4cfc01b6495dd794329274d47de462ea2', 'message': ""Restrict cliff to <2.15.0\n\nUsing Kayobe with cliff 2.15.0 fails with the following error:\n\nkayobe playbook run playbook.yml\ninvalid conflict_resolution value: 'ignore'\n\nThis change restricts cliff to <2.15.0.\n\nAlso, fix git cloning previous release repos in CI, which will allow\nthis patch to merge.\n\nZuul provides repositories with all branches containing all prospective\nchanges, not just the current branch. We can use this in the upgrade\njobs to include changes to the previous release branch when a patch\ndepends on them.\n\nChange-Id: I7966cf33f6133090d83232504b8c1da4c7817e0c\nDepends-On: https://review.opendev.org/665705\nStory: 2005891\nTask: 33748\n""}, {'number': 4, 'created': '2019-06-18 09:23:01.000000000', 'files': ['requirements.txt', 'playbooks/kayobe-seed-upgrade-base/pre.yml', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f99aee461ff4055abbbd25bfee1305110a3c0812', 'message': ""Restrict cliff to <2.15.0\n\nUsing Kayobe with cliff 2.15.0 fails with the following error:\n\nkayobe playbook run playbook.yml\ninvalid conflict_resolution value: 'ignore'\n\nThis change restricts cliff to <2.15.0.\n\nAlso, fix git cloning previous release repos in CI, which will allow\nthis patch to merge.\n\nZuul provides repositories with all branches containing all prospective\nchanges, not just the current branch. We can use this in the upgrade\njobs to include changes to the previous release branch when a patch\ndepends on them.\n\nChange-Id: I7966cf33f6133090d83232504b8c1da4c7817e0c\nDepends-On: https://review.opendev.org/665705\nStory: 2005891\nTask: 33748\n""}]",2,665703,f99aee461ff4055abbbd25bfee1305110a3c0812,19,3,4,14826,,,0,"Restrict cliff to <2.15.0

Using Kayobe with cliff 2.15.0 fails with the following error:

kayobe playbook run playbook.yml
invalid conflict_resolution value: 'ignore'

This change restricts cliff to <2.15.0.

Also, fix git cloning previous release repos in CI, which will allow
this patch to merge.

Zuul provides repositories with all branches containing all prospective
changes, not just the current branch. We can use this in the upgrade
jobs to include changes to the previous release branch when a patch
depends on them.

Change-Id: I7966cf33f6133090d83232504b8c1da4c7817e0c
Depends-On: https://review.opendev.org/665705
Story: 2005891
Task: 33748
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/03/665703/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,14991dbbc495ec9d8d8e85431fd63717e62fc7a2,story/2005891-stable/rocky,"cliff>=2.5.0,<2.15.0 # Apache",cliff>=2.5.0 # Apache,1,1
openstack%2Fpuppet-tripleo~master~Id9bdd36aa0ee81424212e3a89185311817a15aee,openstack/puppet-tripleo,master,Id9bdd36aa0ee81424212e3a89185311817a15aee,RabbitMQ: always allow promotion on HA queue during failover,MERGED,2019-04-03 18:15:41.000000000,2019-06-18 19:42:47.000000000,2019-06-14 19:40:51.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-04-03 18:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9d55b3e7c78beb9f084b7feb9f2522c75385109c', 'message': 'WIP queues test\n\nChange-Id: Id9bdd36aa0ee81424212e3a89185311817a15aee\n'}, {'number': 2, 'created': '2019-04-04 07:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ec5c77bcf5b013d6ac7abfd29e647c4ad043f562', 'message': 'WIP queues test\n\nChange-Id: Id9bdd36aa0ee81424212e3a89185311817a15aee\n'}, {'number': 3, 'created': '2019-04-05 06:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/45b676f03fdd7c61ead0a1d99882acf466045bff', 'message': 'WIP queues test\n\nChange-Id: Id9bdd36aa0ee81424212e3a89185311817a15aee\n'}, {'number': 4, 'created': '2019-04-05 09:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8aefa9663b5fdcc6211df4085a2a5ad4c7de4460', 'message': 'WIP queues test\n\nChange-Id: Id9bdd36aa0ee81424212e3a89185311817a15aee\n'}, {'number': 5, 'created': '2019-06-13 09:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8dfc041a17207350621bb29a6d6e0425878611f6', 'message': 'RabbitMQ: always allow promotion on HA queue during failover\n\nWhen the RabbitMQ experience a rolling restart of its peers, the\nmaster of an HA queue fails over from one replica to another.\n\nIf there are messages sent to the HA queue while some rabbit\nnodes are restarting, the latter will reconnect as unsynchronized\nslaves. It can happen that during a rolling restart, all rabbit\nnodes reconnect as unsynchronized, which prevents RabbitMQ to\nautomatically elect a new Master for failover. This has other\nside effects on fanout queues and may prevent OpenStack\nnotification to be consumed properly.\n\nChange the HA policy to always allow a promotion even when all\nreplicas are unsynchronized. When such rare condition happens,\nrely on OpenStack client to retry RPC if they need to.\n\nCloses-Bug: #1823305\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nChange-Id: Id9bdd36aa0ee81424212e3a89185311817a15aee\n'}, {'number': 6, 'created': '2019-06-13 14:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6ec6562a6cd2c6cef6ebc9cb8e3a16757d1d9561', 'message': 'RabbitMQ: always allow promotion on HA queue during failover\n\nWhen the RabbitMQ experience a rolling restart of its peers, the\nmaster of an HA queue fails over from one replica to another.\n\nIf there are messages sent to the HA queue while some rabbit\nnodes are restarting, the latter will reconnect as unsynchronized\nslaves. It can happen that during a rolling restart, all rabbit\nnodes reconnect as unsynchronized, which prevents RabbitMQ to\nautomatically elect a new Master for failover. This has other\nside effects on fanout queues and may prevent OpenStack\nnotification to be consumed properly.\n\nChange the HA policy to always allow a promotion even when all\nreplicas are unsynchronized. When such rare condition happens,\nrely on OpenStack client to retry RPC if they need to.\n\nCloses-Bug: #1823305\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nChange-Id: Id9bdd36aa0ee81424212e3a89185311817a15aee\n'}, {'number': 7, 'created': '2019-06-13 23:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/02676e9aed897f9e25a6620e6623baee2315cf8c', 'message': 'RabbitMQ: always allow promotion on HA queue during failover\n\nWhen the RabbitMQ experience a rolling restart of its peers, the\nmaster of an HA queue fails over from one replica to another.\n\nIf there are messages sent to the HA queue while some rabbit\nnodes are restarting, the latter will reconnect as unsynchronized\nslaves. It can happen that during a rolling restart, all rabbit\nnodes reconnect as unsynchronized, which prevents RabbitMQ to\nautomatically elect a new Master for failover. This has other\nside effects on fanout queues and may prevent OpenStack\nnotification to be consumed properly.\n\nChange the HA policy to always allow a promotion even when all\nreplicas are unsynchronized. When such rare condition happens,\nrely on OpenStack client to retry RPC if they need to.\n\nCloses-Bug: #1823305\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nChange-Id: Id9bdd36aa0ee81424212e3a89185311817a15aee\n'}, {'number': 8, 'created': '2019-06-14 08:07:33.000000000', 'files': ['manifests/profile/pacemaker/rabbitmq_bundle.pp', 'releasenotes/notes/rabbitmq_extra_policies-69cbc0a4afeac963.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/610c8d8d41cd4b6bfd228ce1012416e424db625d', 'message': 'RabbitMQ: always allow promotion on HA queue during failover\n\nWhen the RabbitMQ experience a rolling restart of its peers, the\nmaster of an HA queue fails over from one replica to another.\n\nIf there are messages sent to the HA queue while some rabbit\nnodes are restarting, the latter will reconnect as unsynchronized\nslaves. It can happen that during a rolling restart, all rabbit\nnodes reconnect as unsynchronized, which prevents RabbitMQ to\nautomatically elect a new Master for failover. This has other\nside effects on fanout queues and may prevent OpenStack\nnotification to be consumed properly.\n\nChange the HA policy to always allow a promotion even when all\nreplicas are unsynchronized. When such rare condition happens,\nrely on OpenStack client to retry RPC if they need to.\n\nCloses-Bug: #1823305\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nChange-Id: Id9bdd36aa0ee81424212e3a89185311817a15aee\n'}]",0,649689,610c8d8d41cd4b6bfd228ce1012416e424db625d,44,10,8,20172,,,0,"RabbitMQ: always allow promotion on HA queue during failover

When the RabbitMQ experience a rolling restart of its peers, the
master of an HA queue fails over from one replica to another.

If there are messages sent to the HA queue while some rabbit
nodes are restarting, the latter will reconnect as unsynchronized
slaves. It can happen that during a rolling restart, all rabbit
nodes reconnect as unsynchronized, which prevents RabbitMQ to
automatically elect a new Master for failover. This has other
side effects on fanout queues and may prevent OpenStack
notification to be consumed properly.

Change the HA policy to always allow a promotion even when all
replicas are unsynchronized. When such rare condition happens,
rely on OpenStack client to retry RPC if they need to.

Closes-Bug: #1823305
Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>
Change-Id: Id9bdd36aa0ee81424212e3a89185311817a15aee
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/89/649689/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/rabbitmq_bundle.pp'],1,9d55b3e7c78beb9f084b7feb9f2522c75385109c,rabbitmq-queues," $params = ""set_policy='ha-all ^(?!amq\\.).* {\""ha-mode\"":\""exactly\"",\""ha-params\"":${nr_ha_queues},\""ha-promote-on-shutdown\"":\""always\""}'"" } elsif $user_ha_queues == -1 { $params = 'set_policy=\'ha-all ^(?!amq\.).* {""ha-mode"":""all"",\""ha-promote-on-shutdown\"":\""always\""}\'' $params = ""set_policy='ha-all ^(?!amq\\.).* {\""ha-mode\"":\""exactly\"",\""ha-params\"":${nr_ha_queues},\""ha-promote-on-shutdown\"":\""always\""}'"""," $params = ""set_policy='ha-all ^(?!amq\\.).* {\""ha-mode\"":\""exactly\"",\""ha-params\"":${nr_ha_queues}}'"" } elsif $user_ha_queues == -1 { $params = 'set_policy=\'ha-all ^(?!amq\.).* {""ha-mode"":""all""}\'' $params = ""set_policy='ha-all ^(?!amq\\.).* {\""ha-mode\"":\""exactly\"",\""ha-params\"":${nr_ha_queues}}'""",3,3
openstack%2Fpython-cinderclient~master~I96b33a83c10ad205c984a1734f263c42538f2ddc,openstack/python-cinderclient,master,I96b33a83c10ad205c984a1734f263c42538f2ddc,Use openstack-python3-train-jobs for python3 test runtime,MERGED,2019-06-14 03:40:16.000000000,2019-06-18 19:37:03.000000000,2019-06-18 19:37:03.000000000,"[{'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 27615}]","[{'number': 1, 'created': '2019-06-14 03:40:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/938c00a972aa1fd7329082b3ccdda9f5d2b31a9a', 'message': 'Use openstack-python3-train-jobs for python3 test runtime\n\nDepends-On:https://review.opendev.org/#/c/641878/\n\nChange-Id: I96b33a83c10ad205c984a1734f263c42538f2ddc\n'}]",0,665286,938c00a972aa1fd7329082b3ccdda9f5d2b31a9a,8,13,1,27822,,,0,"Use openstack-python3-train-jobs for python3 test runtime

Depends-On:https://review.opendev.org/#/c/641878/

Change-Id: I96b33a83c10ad205c984a1734f263c42538f2ddc
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/86/665286/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,938c00a972aa1fd7329082b3ccdda9f5d2b31a9a,, - openstack-python3-train-jobs, - openstack-python36-jobs - openstack-python37-jobs,1,2
openstack%2Fopenstack-ansible-os_zun~stable%2Frocky~I7f611ffd095ca690baba3a987d8eb0b8407fade1,openstack/openstack-ansible-os_zun,stable/rocky,I7f611ffd095ca690baba3a987d8eb0b8407fade1,Improve docker API version retrieval,MERGED,2019-06-17 19:35:09.000000000,2019-06-18 19:32:41.000000000,2019-06-18 19:32:41.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-17 19:35:09.000000000', 'files': ['tests/group_vars/all_containers.yml', 'tasks/zun_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/5f836fea5c279d28a77c73d0520fdb4c799cdfb1', 'message': 'Improve docker API version retrieval\n\nThe current method does not work due to CLI output formatting\nchanges. We improve it to render the client output using toml,\nwhich should be more future proof.\n\nThis change also disables pinging of the neutron router during\ntempest tests, a combined patch is required to pass tests.\n\nChange-Id: I7f611ffd095ca690baba3a987d8eb0b8407fade1\n(cherry picked from commit 7175ef6ae676c415d7043e314b63da8b19c967e5)\n'}]",0,665754,5f836fea5c279d28a77c73d0520fdb4c799cdfb1,7,4,1,13095,,,0,"Improve docker API version retrieval

The current method does not work due to CLI output formatting
changes. We improve it to render the client output using toml,
which should be more future proof.

This change also disables pinging of the neutron router during
tempest tests, a combined patch is required to pass tests.

Change-Id: I7f611ffd095ca690baba3a987d8eb0b8407fade1
(cherry picked from commit 7175ef6ae676c415d7043e314b63da8b19c967e5)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/54/665754/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/group_vars/all_containers.yml', 'tasks/zun_post_install.yml']",2,5f836fea5c279d28a77c73d0520fdb4c799cdfb1,632131-stable/rocky," command: >- {% raw %} docker version -f ""{{.Client.APIVersion }}"" {% endraw %} zun_docker_api_version: ""{{ docker_version.stdout | trim }}"""," command: ""docker version"" zun_docker_api_version: ""{{ (docker_version.stdout | from_yaml)['Client']['API version'] }}""",7,2
openstack%2Fopenstack-ansible-os_zun~stable%2Frocky~I6fe644b930b7f68407cab8f5e5b4f5cf6ad139bd,openstack/openstack-ansible-os_zun,stable/rocky,I6fe644b930b7f68407cab8f5e5b4f5cf6ad139bd,Updated from OpenStack Ansible Tests,MERGED,2019-06-10 15:45:30.000000000,2019-06-18 19:32:41.000000000,2019-06-18 19:32:41.000000000,"[{'_account_id': 1004}, {'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-10 15:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/4f1a8821e42fcac0aa5fb39cf48072ac1eeab4f5', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I6fe644b930b7f68407cab8f5e5b4f5cf6ad139bd\n'}, {'number': 2, 'created': '2019-06-18 12:37:11.000000000', 'files': ['run_tests.sh', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/11372825b153f3d13196ce70a57cd6afb2c61f34', 'message': 'Updated from OpenStack Ansible Tests\n\n\nDepends-On: I7f611ffd095ca690baba3a987d8eb0b8407fade1\nChange-Id: I6fe644b930b7f68407cab8f5e5b4f5cf6ad139bd\n'}]",0,664353,11372825b153f3d13196ce70a57cd6afb2c61f34,16,4,2,11131,,,0,"Updated from OpenStack Ansible Tests


Depends-On: I7f611ffd095ca690baba3a987d8eb0b8407fade1
Change-Id: I6fe644b930b7f68407cab8f5e5b4f5cf6ad139bd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/53/664353/2 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tasks/mq_setup.yml']",2,4f1a8821e42fcac0aa5fb39cf48072ac1eeab4f5,openstack/openstack-ansible-tests/sync-tests," - name: Apply RPC RabbitMQ vhost policies rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" force: false - name: Verify password changed command: ""rabbitmqctl authenticate_user {{ _oslomsg_rpc_userid }} {{ _oslomsg_rpc_password }}"" register: rpc_password_changed - name: Set password when changed command: ""rabbitmqctl change_password {{ _oslomsg_rpc_userid }} {{ _oslomsg_rpc_password }}"" when: - rpc_password_changed.rc != 0 - name: Apply Notify RabbitMQ vhost policies rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - _oslomsg_notify_vhost != _oslomsg_rpc_vhost ", force: true,31,2
openstack%2Fkayobe~stable%2Fqueens~I7966cf33f6133090d83232504b8c1da4c7817e0c,openstack/kayobe,stable/queens,I7966cf33f6133090d83232504b8c1da4c7817e0c,Restrict cliff to <2.15.0,MERGED,2019-06-17 15:14:27.000000000,2019-06-18 19:28:27.000000000,2019-06-18 19:28:27.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 15:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d85e65a454b2510afd2ddf15b8c6314cafbc76cc', 'message': ""Restrict cliff to <2.15.0\n\nUsing Kayobe with cliff 2.15.0 fails with the following error:\n\nkayobe playbook run playbook.yml\ninvalid conflict_resolution value: 'ignore'\n\nThis change restricts cliff to <2.15.0.\n\nChange-Id: I7966cf33f6133090d83232504b8c1da4c7817e0c\nStory: 2005891\nTask: 33748\n""}, {'number': 2, 'created': '2019-06-17 15:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/00e08ae39433131004e3b767c2093626c4e58621', 'message': ""Restrict cliff to <2.15.0\n\nUsing Kayobe with cliff 2.15.0 fails with the following error:\n\nkayobe playbook run playbook.yml\ninvalid conflict_resolution value: 'ignore'\n\nThis change restricts cliff to <2.15.0.\n\nChange-Id: I7966cf33f6133090d83232504b8c1da4c7817e0c\nDepends-On: https://review.opendev.org/665706/\nStory: 2005891\nTask: 33748\n""}, {'number': 3, 'created': '2019-06-17 18:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ac64c0a3e5002c8d3f8f10185277bd262c61c4fe', 'message': ""Restrict cliff to <2.15.0\n\nUsing Kayobe with cliff 2.15.0 fails with the following error:\n\nkayobe playbook run playbook.yml\ninvalid conflict_resolution value: 'ignore'\n\nThis change restricts cliff to <2.15.0.\n\nAlso, fix git cloning previous release repos in CI to allow us to merge\nthis change.\n\nZuul provides repositories with all branches containing all prospective\nchanges, not just the current branch. We can use this in the upgrade\njobs to include changes to the previous release branch when a patch\ndepends on them.\n\nChange-Id: I7966cf33f6133090d83232504b8c1da4c7817e0c\nDepends-On: https://review.opendev.org/665706/\nStory: 2005891\nTask: 33748\n""}, {'number': 4, 'created': '2019-06-18 09:23:54.000000000', 'files': ['requirements.txt', 'playbooks/kayobe-seed-upgrade-base/pre.yml', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c5e6de8eb1787b722fb66c11a7dbab622748a967', 'message': ""Restrict cliff to <2.15.0\n\nUsing Kayobe with cliff 2.15.0 fails with the following error:\n\nkayobe playbook run playbook.yml\ninvalid conflict_resolution value: 'ignore'\n\nThis change restricts cliff to <2.15.0.\n\nAlso, fix git cloning previous release repos in CI to allow us to merge\nthis change.\n\nZuul provides repositories with all branches containing all prospective\nchanges, not just the current branch. We can use this in the upgrade\njobs to include changes to the previous release branch when a patch\ndepends on them.\n\nChange-Id: I7966cf33f6133090d83232504b8c1da4c7817e0c\nDepends-On: https://review.opendev.org/665706/\nStory: 2005891\nTask: 33748\n""}]",1,665705,c5e6de8eb1787b722fb66c11a7dbab622748a967,24,3,4,14826,,,0,"Restrict cliff to <2.15.0

Using Kayobe with cliff 2.15.0 fails with the following error:

kayobe playbook run playbook.yml
invalid conflict_resolution value: 'ignore'

This change restricts cliff to <2.15.0.

Also, fix git cloning previous release repos in CI to allow us to merge
this change.

Zuul provides repositories with all branches containing all prospective
changes, not just the current branch. We can use this in the upgrade
jobs to include changes to the previous release branch when a patch
depends on them.

Change-Id: I7966cf33f6133090d83232504b8c1da4c7817e0c
Depends-On: https://review.opendev.org/665706/
Story: 2005891
Task: 33748
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/05/665705/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d85e65a454b2510afd2ddf15b8c6314cafbc76cc,story/2005891-stable-queens,"cliff>=2.5.0,<2.15.0 # Apache",cliff>=2.5.0 # Apache,1,1
openstack%2Fnova~master~I837aefcd37556a7b66b523529c5ca1f3dee8ac7f,openstack/nova,master,I837aefcd37556a7b66b523529c5ca1f3dee8ac7f,Fix enabled_filters default value in admin config docs,MERGED,2019-06-17 19:26:42.000000000,2019-06-18 19:24:58.000000000,2019-06-18 19:24:57.000000000,"[{'_account_id': 4393}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-17 19:26:42.000000000', 'files': ['doc/source/admin/configuration/schedulers.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/7c9641266f71910b65d3238fe264caab2f406af1', 'message': 'Fix enabled_filters default value in admin config docs\n\nThis fixes a couple of places in the admin scheduler config\ndocs that were listing out the enabled_filters default value\nincorrectly because the ComputeFilter was missing. Rather than\ntry to keep the docs mirrored with the actual default value,\nthis change references the config option in one spot and avoids\nlisting the defaults in another.\n\nChange-Id: I837aefcd37556a7b66b523529c5ca1f3dee8ac7f\nCloses-Bug: #1833120\n'}]",0,665751,7c9641266f71910b65d3238fe264caab2f406af1,12,8,1,6873,,,0,"Fix enabled_filters default value in admin config docs

This fixes a couple of places in the admin scheduler config
docs that were listing out the enabled_filters default value
incorrectly because the ComputeFilter was missing. Rather than
try to keep the docs mirrored with the actual default value,
this change references the config option in one spot and avoids
listing the defaults in another.

Change-Id: I837aefcd37556a7b66b523529c5ca1f3dee8ac7f
Closes-Bug: #1833120
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/665751/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/configuration/schedulers.rst'],1,7c9641266f71910b65d3238fe264caab2f406af1,retry-filter,"The :oslo.config:option:`filter_scheduler.enabled_filters` configuration option in ``nova.conf`` defines the list of filters that are applied by the ``nova-scheduler`` service. enabled_filters=...,AggregateInstanceExtraSpecsFilter","The ``enabled_filters`` configuration option in ``nova.conf`` defines the list of filters that are applied by the ``nova-scheduler`` service. The default filters are: .. code-block:: ini [filter_scheduler] enabled_filters = RetryFilter, AvailabilityZoneFilter, ComputeCapabilitiesFilter, ImagePropertiesFilter, ServerGroupAntiAffinityFilter, ServerGroupAffinityFilter enabled_filters=AggregateInstanceExtraSpecsFilter,RetryFilter,AvailabilityZoneFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,ServerGroupAntiAffinityFilter,ServerGroupAffinityFilter",4,9
openstack%2Fcharm-cinder-ceph~master~I8a8b95d34f498cc3a7a52aaf90a8684ab80399b3,openstack/charm-cinder-ceph,master,I8a8b95d34f498cc3a7a52aaf90a8684ab80399b3,Fix amulet test that should have been resolved in commit 616ba36,MERGED,2019-06-04 12:17:59.000000000,2019-06-18 19:19:03.000000000,2019-06-18 19:19:03.000000000,"[{'_account_id': 2424}, {'_account_id': 2711}, {'_account_id': 6737}, {'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 12:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/589f4c5cf70db98506ef72a12378a6bf6605f2e6', 'message': 'Fix amulet test that should have been resolved in commit 616ba36\n\nChange-Id: I8a8b95d34f498cc3a7a52aaf90a8684ab80399b3\n'}, {'number': 2, 'created': '2019-06-18 11:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/7fbb2141164f534f0ce0d817c98df17e6d0f4be2', 'message': 'Fix amulet test that should have been resolved in commit 616ba36\n\nChange-Id: I8a8b95d34f498cc3a7a52aaf90a8684ab80399b3\n'}, {'number': 3, 'created': '2019-06-18 11:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/c3456b797f645ab35ba30401777426f18e3ee29e', 'message': 'Fix amulet test that should have been resolved in commit 616ba36\n\nAlso resolve merge collision between commits 2f8b158b and\n616ba364 that accidentally enabled rbd_flatten_volume_from_snapshot\nfor >= Ocata rather than >= Queens (which is also causing the\namulet test to fail).\n\nChange-Id: I8a8b95d34f498cc3a7a52aaf90a8684ab80399b3\n'}, {'number': 4, 'created': '2019-06-18 16:06:53.000000000', 'files': ['tests/basic_deployment.py', 'hooks/cinder_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/276a567e4ff70f57dffaf7ea5932304cecf3b0fb', 'message': 'Fix amulet test that should have been resolved in commit 616ba36\n\nAlso resolve merge collision between commits 2f8b158b and\n616ba364 that accidentally enabled rbd_flatten_volume_from_snapshot\nfor >= Ocata rather than >= Queens (which is also causing the\namulet test to fail).\n\nChange-Id: I8a8b95d34f498cc3a7a52aaf90a8684ab80399b3\n'}]",0,663017,276a567e4ff70f57dffaf7ea5932304cecf3b0fb,28,8,4,6737,,,0,"Fix amulet test that should have been resolved in commit 616ba36

Also resolve merge collision between commits 2f8b158b and
616ba364 that accidentally enabled rbd_flatten_volume_from_snapshot
for >= Ocata rather than >= Queens (which is also causing the
amulet test to fail).

Change-Id: I8a8b95d34f498cc3a7a52aaf90a8684ab80399b3
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/17/663017/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/basic_deployment.py'],1,589f4c5cf70db98506ef72a12378a6bf6605f2e6,bug/1704106-amulet," section = sub_dict['cinder'][""/etc/cinder/cinder.conf""][""sections""] if self._get_openstack_release() >= self.trusty_mitaka: if self._get_openstack_release() >= self.xenial_ocata: if self._get_openstack_release() >= self.xenial_queens:"," if self._get_openstack_release() >= self.trusty_mitaka: section = sub_dict['cinder'][""/etc/cinder/cinder.conf""][""sections""] if self._get_openstack_release() >= self.xenial_queens: section = sub_dict['cinder'][""/etc/cinder/cinder.conf""][""sections""]",3,3
openstack%2Fopenstack-ansible-os_neutron~master~I1154d9a027daaf9eaaae3670f6cf6823f3fe03e4,openstack/openstack-ansible-os_neutron,master,I1154d9a027daaf9eaaae3670f6cf6823f3fe03e4,Log to systemd-journald,MERGED,2019-06-13 17:52:02.000000000,2019-06-18 19:10:23.000000000,2019-06-18 19:10:23.000000000,"[{'_account_id': 1004}, {'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-13 17:52:02.000000000', 'files': ['templates/neutron.conf.j2', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/7425016564dd8baaf4769b609ac338508ac22752', 'message': 'Log to systemd-journald\n\nThis patch add the neutron logs to systemd-journald.\n\nChange-Id: I1154d9a027daaf9eaaae3670f6cf6823f3fe03e4\n'}]",0,665191,7425016564dd8baaf4769b609ac338508ac22752,13,4,1,13095,,,0,"Log to systemd-journald

This patch add the neutron logs to systemd-journald.

Change-Id: I1154d9a027daaf9eaaae3670f6cf6823f3fe03e4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/91/665191/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/neutron.conf.j2', 'vars/main.yml']",2,7425016564dd8baaf4769b609ac338508ac22752,systemd-journald, - systemd-python,,2,0
openstack%2Fkolla~master~Ic7e7bedf36f98e3f7a0e2a22ec76136f4414c765,openstack/kolla,master,Ic7e7bedf36f98e3f7a0e2a22ec76136f4414c765,Disable and remove OracleLinux CI jobs,MERGED,2019-06-10 07:51:44.000000000,2019-06-18 18:50:31.000000000,2019-06-18 18:50:30.000000000,"[{'_account_id': 14826}, {'_account_id': 17130}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-10 07:51:44.000000000', 'files': ['.zuul.d/oraclelinux.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/318a2a35b77d871b1604b1dd9f88c58bc37f4b53', 'message': 'Disable and remove OracleLinux CI jobs\n\nWe have agreed to remove support for Oracle Linux, starting by disabling\nthe CI jobs.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-June/006896.html\n\nChange-Id: Ic7e7bedf36f98e3f7a0e2a22ec76136f4414c765\n'}]",0,664217,318a2a35b77d871b1604b1dd9f88c58bc37f4b53,16,7,1,14826,,,0,"Disable and remove OracleLinux CI jobs

We have agreed to remove support for Oracle Linux, starting by disabling
the CI jobs.

http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006896.html

Change-Id: Ic7e7bedf36f98e3f7a0e2a22ec76136f4414c765
",git fetch https://review.opendev.org/openstack/kolla refs/changes/17/664217/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/oraclelinux.yaml'],1,318a2a35b77d871b1604b1dd9f88c58bc37f4b53,disable-oracle-linux-jobs,,--- - project: check: jobs: - kolla-build-oraclelinux-binary - kolla-build-oraclelinux-source - kolla-ansible-oraclelinux-source - kolla-ansible-oraclelinux-binary - kolla-ansible-oraclelinux-source-ceph: files: ^docker\/(ceph|cinder)\/.* gate: jobs: - kolla-build-oraclelinux-source periodic: jobs: - kolla-publish-oraclelinux-source - kolla-publish-oraclelinux-binary release: jobs: - kolla-publish-oraclelinux-source - kolla-publish-oraclelinux-binary - job: name: kolla-build-oraclelinux-binary parent: kolla-base nodeset: kolla-centos voting: false vars: action: build base_distro: oraclelinux install_type: binary - job: name: kolla-publish-oraclelinux-binary parent: kolla-build-oraclelinux-binary post-run: tests/playbooks/publish.yml vars: publisher: true secrets: - kolla_dockerhub_creds - job: name: kolla-build-oraclelinux-source parent: kolla-base nodeset: kolla-centos vars: action: build base_distro: oraclelinux install_type: source - job: name: kolla-publish-oraclelinux-source parent: kolla-build-oraclelinux-source post-run: tests/playbooks/publish.yml vars: publisher: true secrets: - kolla_dockerhub_creds ,0,58
openstack%2Fopenstack-helm-infra~master~I622a91b30b38f4f5979d16d0ba051300dcd56546,openstack/openstack-helm-infra,master,I622a91b30b38f4f5979d16d0ba051300dcd56546,(postgresql) Refactor password rotation,ABANDONED,2019-05-01 17:11:32.000000000,2019-06-18 18:49:48.000000000,,"[{'_account_id': 22259}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 26449}, {'_account_id': 28718}, {'_account_id': 28778}, {'_account_id': 30106}]","[{'number': 1, 'created': '2019-05-01 17:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bd650239c72e2b3c7518084fc7f2ccaed3cf4632', 'message': '(postgresql) Refactor password rotation\n\n- Update the logic for password rotation to support\n  the use of Patroni\n\nChange-Id: I622a91b30b38f4f5979d16d0ba051300dcd56546\n'}, {'number': 2, 'created': '2019-05-01 18:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/01be0059aa6826939441f4baa692304d6ec9aabe', 'message': '(postgresql) Refactor password rotation\n\n- Update the logic for password rotation to support\n  the use of Patroni\n\nChange-Id: I622a91b30b38f4f5979d16d0ba051300dcd56546\n'}, {'number': 3, 'created': '2019-05-01 19:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f726d840edfdf7370f31676745c401182d23bcb1', 'message': '(postgresql) Refactor password rotation\n\n- Update the logic for password rotation to support\n  the use of Patroni\n\nChange-Id: I622a91b30b38f4f5979d16d0ba051300dcd56546\n'}, {'number': 4, 'created': '2019-05-06 14:13:12.000000000', 'files': ['postgresql/templates/configmap-bin.yaml', 'postgresql/templates/bin/_start.sh.tpl', 'postgresql/templates/statefulset.yaml', 'postgresql/templates/bin/_set_password.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/707def4270d38a21fe430831e7f8f6e1f1ffa4ac', 'message': '(postgresql) Refactor password rotation\n\n- Update the logic for password rotation to support\n  the use of Patroni\n\nChange-Id: I622a91b30b38f4f5979d16d0ba051300dcd56546\n'}]",7,656677,707def4270d38a21fe430831e7f8f6e1f1ffa4ac,20,7,4,26449,,,0,"(postgresql) Refactor password rotation

- Update the logic for password rotation to support
  the use of Patroni

Change-Id: I622a91b30b38f4f5979d16d0ba051300dcd56546
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/77/656677/2 && git format-patch -1 --stdout FETCH_HEAD,"['postgresql/templates/configmap-bin.yaml', 'postgresql/templates/bin/_start.sh.tpl', 'postgresql/templates/statefulset.yaml', 'postgresql/templates/bin/_set_password.sh.tpl']",4,bd650239c72e2b3c7518084fc7f2ccaed3cf4632,psql_pw_rotation,"#!/bin/bash #{{/* #Licensed under the Apache License, Version 2.0 (the ""License""); #you may not use this file except in compliance with the License. #You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # #Unless required by applicable law or agreed to in writing, software #distributed under the License is distributed on an ""AS IS"" BASIS, #WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. #See the License for the specific language governing permissions and #limitations under the License. #*/}} PGDATABASE=${PGDATABASE:-'postgres'} PGHOST=${PGHOST:-'127.0.0.1'} PGPORT=${PGPORT:-'5432'} action=""$1"" role=""$2"" cluster=""$3"" if [[ ! -z ""$PATRONI_SUPERUSER_PASSWORD"" && ! -z ""$PATRONI_SUPERUSER_USERNAME"" ]] then psql -h ""$PGHOST"" -p ""$PGPORT"" -d ""$PGDATABASE"" -c ""ALTER ROLE $PATRONI_SUPERUSER_USERNAME WITH PASSWORD '$PATRONI_SUPERUSER_PASSWORD';"" else echo ""WARNING: Did not set superuser password!."" fi if [[ ! -z ""$PATRONI_REPLICATION_PASSWORD"" && ! -z ""$PATRONI_REPLICATION_USERNAME"" ]] then psql -h ""$PGHOST"" -p ""$PGPORT"" -d ""$PGDATABASE"" -c ""ALTER ROLE $PATRONI_REPLICATION_USERNAME WITH PASSWORD '$PATRONI_REPLICATION_PASSWORD';"" else echo ""WARNING: Did not set replication user password!."" fi ",,44,0
openstack%2Fkolla~master~I3990254258289fae8fbaf505de0f8cdede435111,openstack/kolla,master,I3990254258289fae8fbaf505de0f8cdede435111,openstack-base: add several popular python modules,MERGED,2019-06-17 13:29:51.000000000,2019-06-18 18:48:43.000000000,2019-06-18 18:48:43.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 23717}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-17 13:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5d97b2cf80ba8b66700a5391661c1eecc73fe819', 'message': 'openstack-base: add several popular python modules\n\nDuring building of all source images there are Python modules repeating\nin several targets.\n\nbcrypt: bifrost, ceilometer, cinder, dragonflow, freezer, keystone,\n        manila, mistral, neutron, nova, rally, sahara, tacker, tempest,\n        vmtp\n\nlogutils: aodh, barbican, blazar, ceilometer, cloudkitty, designate,\n\t  dragonflow, gnocchi, heat, ironic, kuryr, magnum, mistral,\n\t  neutron, octavia, panko, qinling, solum, tacker, tempest,\n          vitrage, watcher, zun\n\npecan: aodh, barbican, blazar, ceilometer, cloudkitty, designate,\n       dragonflow, gnocchi, heat, ironic, kuryr, magnum, mistral,\n       neutron, octavia, panko, qinling, solum, tacker, tempest,\n       vitrage, watcher, zun\n\npsutil: ceilometer, cinder, designate, dragonflow, freezer, heat,\n        ironic, magnum, manila, mistral, monasca-agent, murano, neutron,\n        nova, octavia, panko, searchlight, senlin, tacker, vitrage,\n        watcher, zaqar, zun\n\npymongo: almanach, aodh, freezer, horizon, monasca-agent,\n         neutron-server-opendaylight, panko, vmtp, zaqar\n\npyroute2: dragonflow, kuryr, mistral, neutron, nova, octavia, tacker\n\nsetproctitle: aodh, ceilometer, cloudkitty, dragonflow, gnocchi, heat,\n              kuryr, neutron, octavia, qinling, tacker, tempest,\n              vitrage, zun\n\nsimplegeneric: aodh, blazar, ceilometer, cloudkitty, glance, ironic,\n               magnum, mistral, octavia, panko, qinling, searchlight,\n               solum, watcher\n\nPyNaCl: bifrost, ceilometer, cinder, dragonflow, freezer, manila,\n        mistral, neutron, nova, rally sahara, tacker, tempest, vmtp\n\nWSME: aodh, blazar, ceilometer, cloudkitty, glance, ironic, magnum,\n      mistral, octavia, panko, qinling, searchlight, solum, watcher\n\nChange-Id: I3990254258289fae8fbaf505de0f8cdede435111\n'}, {'number': 2, 'created': '2019-06-17 15:24:45.000000000', 'files': ['docker/openstack-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0af507de522c6529387a99fa9eac208dded73f6e', 'message': 'openstack-base: add several popular python modules\n\nDuring building of all source images there are Python modules repeating\nin several targets.\n\nbcrypt: bifrost, ceilometer, cinder, dragonflow, freezer, keystone,\n        manila, mistral, neutron, nova, rally, sahara, tacker, tempest,\n        vmtp\n\nlogutils: aodh, barbican, blazar, ceilometer, cloudkitty, designate,\n\t  dragonflow, gnocchi, heat, ironic, kuryr, magnum, mistral,\n\t  neutron, octavia, panko, qinling, solum, tacker, tempest,\n          vitrage, watcher, zun\n\npecan: aodh, barbican, blazar, ceilometer, cloudkitty, designate,\n       dragonflow, gnocchi, heat, ironic, kuryr, magnum, mistral,\n       neutron, octavia, panko, qinling, solum, tacker, tempest,\n       vitrage, watcher, zun\n\npsutil: ceilometer, cinder, designate, dragonflow, freezer, heat,\n        ironic, magnum, manila, mistral, monasca-agent, murano, neutron,\n        nova, octavia, panko, searchlight, senlin, tacker, vitrage,\n        watcher, zaqar, zun\n\npymongo: almanach, aodh, freezer, horizon, monasca-agent,\n         neutron-server-opendaylight, panko, vmtp, zaqar\n\npyroute2: dragonflow, kuryr, mistral, neutron, nova, octavia, tacker\n\nsetproctitle: aodh, ceilometer, cloudkitty, dragonflow, gnocchi, heat,\n              kuryr, neutron, octavia, qinling, tacker, tempest,\n              vitrage, zun\n\nsimplegeneric: aodh, blazar, ceilometer, cloudkitty, glance, ironic,\n               magnum, mistral, octavia, panko, qinling, searchlight,\n               solum, watcher\n\nPyNaCl: bifrost, ceilometer, cinder, dragonflow, freezer, manila,\n        mistral, neutron, nova, rally sahara, tacker, tempest, vmtp\n\nWSME: aodh, blazar, ceilometer, cloudkitty, glance, ironic, magnum,\n      mistral, octavia, panko, qinling, searchlight, solum, watcher\n\nChange-Id: I3990254258289fae8fbaf505de0f8cdede435111\n'}]",0,665668,0af507de522c6529387a99fa9eac208dded73f6e,19,7,2,24072,,,0,"openstack-base: add several popular python modules

During building of all source images there are Python modules repeating
in several targets.

bcrypt: bifrost, ceilometer, cinder, dragonflow, freezer, keystone,
        manila, mistral, neutron, nova, rally, sahara, tacker, tempest,
        vmtp

logutils: aodh, barbican, blazar, ceilometer, cloudkitty, designate,
	  dragonflow, gnocchi, heat, ironic, kuryr, magnum, mistral,
	  neutron, octavia, panko, qinling, solum, tacker, tempest,
          vitrage, watcher, zun

pecan: aodh, barbican, blazar, ceilometer, cloudkitty, designate,
       dragonflow, gnocchi, heat, ironic, kuryr, magnum, mistral,
       neutron, octavia, panko, qinling, solum, tacker, tempest,
       vitrage, watcher, zun

psutil: ceilometer, cinder, designate, dragonflow, freezer, heat,
        ironic, magnum, manila, mistral, monasca-agent, murano, neutron,
        nova, octavia, panko, searchlight, senlin, tacker, vitrage,
        watcher, zaqar, zun

pymongo: almanach, aodh, freezer, horizon, monasca-agent,
         neutron-server-opendaylight, panko, vmtp, zaqar

pyroute2: dragonflow, kuryr, mistral, neutron, nova, octavia, tacker

setproctitle: aodh, ceilometer, cloudkitty, dragonflow, gnocchi, heat,
              kuryr, neutron, octavia, qinling, tacker, tempest,
              vitrage, zun

simplegeneric: aodh, blazar, ceilometer, cloudkitty, glance, ironic,
               magnum, mistral, octavia, panko, qinling, searchlight,
               solum, watcher

PyNaCl: bifrost, ceilometer, cinder, dragonflow, freezer, manila,
        mistral, neutron, nova, rally sahara, tacker, tempest, vmtp

WSME: aodh, blazar, ceilometer, cloudkitty, glance, ironic, magnum,
      mistral, octavia, panko, qinling, searchlight, solum, watcher

Change-Id: I3990254258289fae8fbaf505de0f8cdede435111
",git fetch https://review.opendev.org/openstack/kolla refs/changes/68/665668/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/openstack-base/Dockerfile.j2'],1,5d97b2cf80ba8b66700a5391661c1eecc73fe819,," 'PyNaCl', 'WSME', 'bcrypt', 'logutils', 'pecan', 'psutil', 'pyroute2', 'setproctitle', 'simplegeneric',",,9,0
openstack%2Fkolla-ansible~master~I7f1591bdbc7c03302befc3ca6ebf1b13c95640c2,openstack/kolla-ansible,master,I7f1591bdbc7c03302befc3ca6ebf1b13c95640c2,Fix placement log perms in config.json,MERGED,2019-06-11 16:16:38.000000000,2019-06-18 18:31:41.000000000,2019-06-17 17:48:54.000000000,"[{'_account_id': 14826}, {'_account_id': 17130}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28543}, {'_account_id': 28743}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-11 16:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/97d42cb291b25de904845bb2b2cea3fd29a98fd6', 'message': 'Fix placement log perms in config.json\n\nCurrently placement-wsgi is configured to log to\n/var/log/kolla/placement/placement-api.log, but config.json is changing\npermissions of /var/log/kolla/placement/placement.log - this patch\nchanges this.\n\nChange-Id: I7f1591bdbc7c03302befc3ca6ebf1b13c95640c2\n'}, {'number': 2, 'created': '2019-06-13 08:22:24.000000000', 'files': ['ansible/roles/placement/templates/placement-api.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b850eeec9c54f70d39d26d7bbd922f4f0c8aed18', 'message': 'Fix placement log perms in config.json\n\nCurrently placement-api is configured to log to\n/var/log/kolla/placement/placement-api.log, but config.json is changing\npermissions of /var/log/kolla/placement/placement.log - this patch\nchanges this.\n\nChange-Id: I7f1591bdbc7c03302befc3ca6ebf1b13c95640c2\n'}]",1,664631,b850eeec9c54f70d39d26d7bbd922f4f0c8aed18,16,8,2,22629,,,0,"Fix placement log perms in config.json

Currently placement-api is configured to log to
/var/log/kolla/placement/placement-api.log, but config.json is changing
permissions of /var/log/kolla/placement/placement.log - this patch
changes this.

Change-Id: I7f1591bdbc7c03302befc3ca6ebf1b13c95640c2
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/31/664631/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/placement/templates/placement-api.json.j2'],1,97d42cb291b25de904845bb2b2cea3fd29a98fd6,bug/fix_placement_log," ""path"": ""/var/log/kolla/placement/placement-api.log"","," ""path"": ""/var/log/kolla/placement/placement.log"",",1,1
openstack%2Fkolla-ansible~master~I41b2986b2f4ccd8fdc6553e83737e4106b6a2c07,openstack/kolla-ansible,master,I41b2986b2f4ccd8fdc6553e83737e4106b6a2c07,"Fix issue finding custom, host specific plugins",MERGED,2019-06-07 13:04:04.000000000,2019-06-18 18:29:07.000000000,2019-06-13 18:58:32.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27781}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-06-07 13:04:04.000000000', 'files': ['ansible/roles/monasca/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4be219fcb7f3ed188ea0c4c5b2cb9a1fdba51991', 'message': 'Fix issue finding custom, host specific plugins\n\nThe results from the find operation need to be registered per host,\nbecause they depend on the host which runs the search. This bug\nimpacts users specifying custom plugins for specific hosts.\n\nChange-Id: I41b2986b2f4ccd8fdc6553e83737e4106b6a2c07\n'}]",0,663935,4be219fcb7f3ed188ea0c4c5b2cb9a1fdba51991,11,5,1,17669,,,0,"Fix issue finding custom, host specific plugins

The results from the find operation need to be registered per host,
because they depend on the host which runs the search. This bug
impacts users specifying custom plugins for specific hosts.

Change-Id: I41b2986b2f4ccd8fdc6553e83737e4106b6a2c07
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/35/663935/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/monasca/tasks/config.yml'],1,4be219fcb7f3ed188ea0c4c5b2cb9a1fdba51991,,, run_once: True,0,1
openstack%2Fkolla-ansible~master~If71d5c056c042667388dae8e4ee6d51a5ecab46e,openstack/kolla-ansible,master,If71d5c056c042667388dae8e4ee6d51a5ecab46e,Add blazar to fluentd aggregation,MERGED,2019-06-05 13:31:07.000000000,2019-06-18 18:26:09.000000000,2019-06-07 08:53:36.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-06-05 13:31:07.000000000', 'files': ['ansible/roles/common/templates/conf/input/00-global.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2c343562ee3b47248d3f0812101d48dd54793a9f', 'message': 'Add blazar to fluentd aggregation\n\nIf Blazar is enabled, ensure that fluentd processes its logs.\n\nChange-Id: If71d5c056c042667388dae8e4ee6d51a5ecab46e\n'}]",0,663330,2c343562ee3b47248d3f0812101d48dd54793a9f,12,5,1,29100,,,0,"Add blazar to fluentd aggregation

If Blazar is enabled, ensure that fluentd processes its logs.

Change-Id: If71d5c056c042667388dae8e4ee6d51a5ecab46e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/30/663330/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/input/00-global.conf.j2'],1,2c343562ee3b47248d3f0812101d48dd54793a9f,blazar-fluentd-agg," ( 'blazar', enable_blazar ),",,1,0
openstack%2Fkolla-ansible~master~I0a0596a020fbff91ccc5b9f44f271eab220c88cd,openstack/kolla-ansible,master,I0a0596a020fbff91ccc5b9f44f271eab220c88cd,[heat] Multi-region support for bootstrap,MERGED,2019-06-05 13:24:32.000000000,2019-06-18 18:25:31.000000000,2019-06-07 08:53:38.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 29543}]","[{'number': 1, 'created': '2019-06-05 13:24:32.000000000', 'files': ['ansible/roles/heat/tasks/bootstrap_service.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/44da1963ba3d089e0fc646c1b1c1fb712f1c8173', 'message': '[heat] Multi-region support for bootstrap\n\nWhen bootstrapping, Heat was not setting a region explicitly, so it\ncould default to a region other than the one being deployed.\n\nChange-Id: I0a0596a020fbff91ccc5b9f44f271eab220c88cd\n'}]",0,663327,44da1963ba3d089e0fc646c1b1c1fb712f1c8173,12,5,1,29100,,,0,"[heat] Multi-region support for bootstrap

When bootstrapping, Heat was not setting a region explicitly, so it
could default to a region other than the one being deployed.

Change-Id: I0a0596a020fbff91ccc5b9f44f271eab220c88cd
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/27/663327/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/heat/tasks/bootstrap_service.yml'],1,44da1963ba3d089e0fc646c1b1c1fb712f1c8173,heat-multi-region-bootstrap," OS_REGION_NAME: ""{{ openstack_region_name }}""",,1,0
openstack%2Fkolla-ansible~master~I3f921ac51acab1b1020a459c07c755af7023e026,openstack/kolla-ansible,master,I3f921ac51acab1b1020a459c07c755af7023e026,Fix Blazar Nova aggregate in multi-region setup,MERGED,2019-06-05 13:18:56.000000000,2019-06-18 18:24:53.000000000,2019-06-06 15:46:30.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 13:18:56.000000000', 'files': ['ansible/roles/blazar/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f20cbf49580f1457db22346c413991cf60c90dba', 'message': 'Fix Blazar Nova aggregate in multi-region setup\n\nThe Nova aggregate was always defaulting to some region (usually first\nin the Keystone endpoint list) when registering the Nova aggregate for\nBlazar. Add in a region override to ensure we are always writing to the\nregion being deployed.\n\nChange-Id: I3f921ac51acab1b1020a459c07c755af7023e026\n'}]",0,663324,f20cbf49580f1457db22346c413991cf60c90dba,11,4,1,29100,,,0,"Fix Blazar Nova aggregate in multi-region setup

The Nova aggregate was always defaulting to some region (usually first
in the Keystone endpoint list) when registering the Nova aggregate for
Blazar. Add in a region override to ensure we are always writing to the
region being deployed.

Change-Id: I3f921ac51acab1b1020a459c07c755af7023e026
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/24/663324/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/blazar/tasks/bootstrap.yml'],1,f20cbf49580f1457db22346c413991cf60c90dba,blazar-multi-region-aggregate, --os-region-name {{ openstack_region_name }},,1,0
openstack%2Fkolla-ansible~master~I336a81a5ecd824ace7d40e9a35942a1c853554cd,openstack/kolla-ansible,master,I336a81a5ecd824ace7d40e9a35942a1c853554cd,Hide logs when looping over passwords,MERGED,2019-06-05 13:10:31.000000000,2019-06-18 18:24:19.000000000,2019-06-07 08:53:40.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-06-05 13:10:31.000000000', 'files': ['ansible/roles/ironic/tasks/bootstrap.yml', 'ansible/roles/nova/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/30c619d1bc8938ea2177fdc21e503808dbe0cca7', 'message': 'Hide logs when looping over passwords\n\nWhen ansible goes in to a loop, by default it prints all the keys for\nthe item it is looping over. Some roles, when setting up the databases,\niterate over an object that includes the database password.\n\nOverride the loop label to hide everything but the database name.\n\nChange-Id: I336a81a5ecd824ace7d40e9a35942a1c853554cd\n'}]",0,663321,30c619d1bc8938ea2177fdc21e503808dbe0cca7,11,4,1,29100,,,0,"Hide logs when looping over passwords

When ansible goes in to a loop, by default it prints all the keys for
the item it is looping over. Some roles, when setting up the databases,
iterate over an object that includes the database password.

Override the loop label to hide everything but the database name.

Change-Id: I336a81a5ecd824ace7d40e9a35942a1c853554cd
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/21/663321/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ironic/tasks/bootstrap.yml', 'ansible/roles/nova/tasks/bootstrap.yml']",2,30c619d1bc8938ea2177fdc21e503808dbe0cca7,hide-sensitive-logs," loop_control: label: ""{{ item.database_name }}""",,4,0
openstack%2Fopenstack-helm~master~Idbedd046c6b4fd001cf63004ffac792173a5778b,openstack/openstack-helm,master,Idbedd046c6b4fd001cf63004ffac792173a5778b,Rafactoring volume mount variables in db sync job,MERGED,2019-05-22 06:30:03.000000000,2019-06-18 18:24:18.000000000,2019-06-18 18:24:18.000000000,"[{'_account_id': 1523}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17068}, {'_account_id': 21830}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-05-22 06:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/94047506c311f7551b58906f406443d6a216d879', 'message': 'Rafactoring volume mount variables in db sync job\n\nThis patch make the db sync job template follows the same pattern\nthat other templates utilize the variables to make in a predictable\npattern.\n\nChange-Id: Idbedd046c6b4fd001cf63004ffac792173a5778b\nStory: 2005754\nTask: 33457\n'}, {'number': 2, 'created': '2019-05-22 08:47:22.000000000', 'files': ['nova/templates/job-db-sync.yaml', 'ironic/templates/job-db-sync.yaml', 'heat/templates/job-db-sync.yaml', 'barbican/templates/job-db-sync.yaml', 'glance/values.yaml', 'ceilometer/values.yaml', 'aodh/templates/job-db-sync.yaml', 'ironic/values.yaml', 'senlin/values.yaml', 'glance/templates/job-db-sync.yaml', 'mistral/values.yaml', 'cinder/templates/job-db-sync.yaml', 'congress/values.yaml', 'senlin/templates/job-db-sync.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/templates/job-db-sync.yaml', 'magnum/values.yaml', 'aodh/values.yaml', 'neutron/templates/job-db-sync.yaml', 'mistral/templates/job-db-sync.yaml', 'panko/templates/job-db-sync.yaml', 'ceilometer/templates/job-db-sync.yaml', 'congress/templates/job-db-sync.yaml', 'nova/values.yaml', 'neutron/values.yaml', 'panko/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0ea9be7ade457c3b41a9190225bd290722cf7532', 'message': 'Rafactoring volume mount variables in db sync job\n\nThis patch make the db sync job template follows the same pattern\nthat other templates utilize the variables to make in a predictable\npattern.\n\nChange-Id: Idbedd046c6b4fd001cf63004ffac792173a5778b\nStory: 2005754\nTask: 33457\n'}]",0,660572,0ea9be7ade457c3b41a9190225bd290722cf7532,18,7,2,1523,,,0,"Rafactoring volume mount variables in db sync job

This patch make the db sync job template follows the same pattern
that other templates utilize the variables to make in a predictable
pattern.

Change-Id: Idbedd046c6b4fd001cf63004ffac792173a5778b
Story: 2005754
Task: 33457
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/72/660572/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/job-db-sync.yaml', 'ironic/templates/job-db-sync.yaml', 'heat/templates/job-db-sync.yaml', 'barbican/templates/job-db-sync.yaml', 'glance/values.yaml', 'ceilometer/values.yaml', 'aodh/templates/job-db-sync.yaml', 'ironic/values.yaml', 'senlin/values.yaml', 'glance/templates/job-db-sync.yaml', 'mistral/values.yaml', 'cinder/templates/job-db-sync.yaml', 'congress/values.yaml', 'senlin/templates/job-db-sync.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/templates/job-db-sync.yaml', 'magnum/values.yaml', 'aodh/values.yaml', 'neutron/templates/job-db-sync.yaml', 'mistral/templates/job-db-sync.yaml', 'panko/templates/job-db-sync.yaml', 'ceilometer/templates/job-db-sync.yaml', 'congress/templates/job-db-sync.yaml', 'nova/values.yaml', 'neutron/values.yaml', 'panko/values.yaml']",28,94047506c311f7551b58906f406443d6a216d879,refactoring-db-sync-job, panko_db_sync: panko_db_sync: volumeMounts: volumes:,,76,14
openstack%2Fkolla-ansible~master~I21eb1164c2f67098b81edbd5cc106472663b92cb,openstack/kolla-ansible,master,I21eb1164c2f67098b81edbd5cc106472663b92cb,Support multi-region discovery of Nova cells,MERGED,2019-06-05 13:06:18.000000000,2019-06-18 18:23:28.000000000,2019-06-07 09:08:04.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-06-05 13:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b079da6fc3e26da345eed3705ed6844fa175c557', 'message': 'Support multi-region discovery of Nova cells\n\nMost likely, an internal endpoint for region A will not be visible from\nregion B. Only check for the nova compute service located in the region\nbeing deployed.\n\nChange-Id: I21eb1164c2f67098b81edbd5cc106472663b92cb\n'}, {'number': 2, 'created': '2019-06-05 13:09:13.000000000', 'files': ['ansible/roles/nova/tasks/discover_computes.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/328e14253d82a7fca0a4351f6f82211435477e62', 'message': ""Support multi-region discovery of Nova cells\n\nIn a multi-region environment, each region is being deployed separately.\nCell discovery, however, would sometimes fail due to it picking a region\ndifferent than the one being deployed. Most likely, an internal endpoint\nfor region A will not be visible from region B. Furthermore, it is not\nvery useful to discover hosts on a region you're not modifying.\n\nThis changes the check to only run against nova compute services located\nin the region being deployed.\n\nChange-Id: I21eb1164c2f67098b81edbd5cc106472663b92cb\n""}]",0,663319,328e14253d82a7fca0a4351f6f82211435477e62,12,4,2,29100,,,0,"Support multi-region discovery of Nova cells

In a multi-region environment, each region is being deployed separately.
Cell discovery, however, would sometimes fail due to it picking a region
different than the one being deployed. Most likely, an internal endpoint
for region A will not be visible from region B. Furthermore, it is not
very useful to discover hosts on a region you're not modifying.

This changes the check to only run against nova compute services located
in the region being deployed.

Change-Id: I21eb1164c2f67098b81edbd5cc106472663b92cb
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/19/663319/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/tasks/discover_computes.yml'],1,b079da6fc3e26da345eed3705ed6844fa175c557,multi-region-nova-cells, --os-region-name {{ openstack_region_name }},,1,0
openstack%2Fkolla-ansible~master~Ice70d55e6729fe55164dcf85e98acdc1d7925209,openstack/kolla-ansible,master,Ice70d55e6729fe55164dcf85e98acdc1d7925209,Fix monasca grafana organisation check,MERGED,2019-05-31 11:24:03.000000000,2019-06-18 18:21:34.000000000,2019-06-07 09:08:12.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-05-31 11:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d9d1a74cb11673577698812debfeb1a059f48cac', 'message': 'Fix monasca grafana organisation check\n\n""Create default control plane organisation if it doesn\'t exist"" task fails when organisation already exists.\nThe list organisation task returns project domain id. The create organisation task provides project domain name.\nChange the create task to use default_project_domain_id instead.\n\nTrivialFix\n\nChange-Id: Ice70d55e6729fe55164dcf85e98acdc1d7925209\n'}, {'number': 2, 'created': '2019-05-31 11:27:51.000000000', 'files': ['ansible/roles/monasca/tasks/post_config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/84edfd09b67ef28e40b3ff24b96afa0ded5c532e', 'message': 'Fix monasca grafana organisation check\n\n""Create default control plane organisation if it doesn\'t exist"" task\nfails when organisation already exists.\nThe list organisation task currently returns project domain id.\nThe create organisation task currently provides project domain name.\nChange the create task to use default_project_domain_id instead.\n\nTrivialFix\n\nChange-Id: Ice70d55e6729fe55164dcf85e98acdc1d7925209\n'}]",0,662433,84edfd09b67ef28e40b3ff24b96afa0ded5c532e,11,4,2,30438,,,0,"Fix monasca grafana organisation check

""Create default control plane organisation if it doesn't exist"" task
fails when organisation already exists.
The list organisation task currently returns project domain id.
The create organisation task currently provides project domain name.
Change the create task to use default_project_domain_id instead.

TrivialFix

Change-Id: Ice70d55e6729fe55164dcf85e98acdc1d7925209
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/33/662433/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/monasca/tasks/post_config.yml'],1,d9d1a74cb11673577698812debfeb1a059f48cac,monasca_grafana_org_fix," monasca_grafana_control_plane_org: ""{{ monasca_control_plane_project }}@{{ default_project_domain_id }}"""," monasca_grafana_control_plane_org: ""{{ monasca_control_plane_project }}@{{ default_project_domain_name }}""",1,1
openstack%2Fkolla-ansible~master~If801f54709114b931677adb605dffb75cfab25cd,openstack/kolla-ansible,master,If801f54709114b931677adb605dffb75cfab25cd,Fixes VMTP deploys.,MERGED,2019-05-29 13:47:08.000000000,2019-06-18 18:20:27.000000000,2019-06-13 19:24:15.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-05-29 13:47:08.000000000', 'files': ['ansible/roles/vmtp/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/56b2e947a1afae30ef21113717f61e96116aa873', 'message': 'Fixes VMTP deploys.\n\nMerged config files outputs to python_path which is incorrect. Changing it\nto node_config_directory.\n\nChange-Id: If801f54709114b931677adb605dffb75cfab25cd\nCloses-Bug: #1830346\n'}]",0,661985,56b2e947a1afae30ef21113717f61e96116aa873,9,3,1,30523,,,0,"Fixes VMTP deploys.

Merged config files outputs to python_path which is incorrect. Changing it
to node_config_directory.

Change-Id: If801f54709114b931677adb605dffb75cfab25cd
Closes-Bug: #1830346
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/85/661985/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/vmtp/tasks/config.yml'],1,56b2e947a1afae30ef21113717f61e96116aa873,bug/1830346," dest: ""{{ node_config_directory }}/vmtp/{{ item }}"""," dest: ""{{ python_path }}/vmtp/{{ item }}""",1,1
openstack%2Fkolla-ansible~master~I616a30acf38a61265f3005c712767d5221abf5c5,openstack/kolla-ansible,master,I616a30acf38a61265f3005c712767d5221abf5c5,Elevate privileges for copying gnocchi policy.json,MERGED,2019-05-28 12:13:18.000000000,2019-06-18 18:20:01.000000000,2019-06-13 19:24:16.000000000,"[{'_account_id': 14826}, {'_account_id': 16036}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-05-28 12:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/96bfdc02f07a0c501ce82068f4a02a6a523b0031', 'message': 'Elevate privileges for copying gnocchi policy.json\n\nChange-Id: I616a30acf38a61265f3005c712767d5221abf5c5\nCloses-Bug: #1830723\n'}, {'number': 2, 'created': '2019-05-28 12:31:04.000000000', 'files': ['ansible/roles/gnocchi/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4a60dc21e5f845d834247caf423801d84b5c987a', 'message': 'Elevate privileges for copying gnocchi policy.json\n\nChange-Id: I616a30acf38a61265f3005c712767d5221abf5c5\nCloses-Bug: #1830723\n'}]",2,661743,4a60dc21e5f845d834247caf423801d84b5c987a,13,5,2,16036,,,0,"Elevate privileges for copying gnocchi policy.json

Change-Id: I616a30acf38a61265f3005c712767d5221abf5c5
Closes-Bug: #1830723
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/43/661743/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/gnocchi/tasks/config.yml'],1,96bfdc02f07a0c501ce82068f4a02a6a523b0031,bug/1830723," become: ""true""",,1,0
openstack%2Fkolla-ansible~stable%2Fqueens~I1977bdde8210073d3c25ecb33a031b58332a986a,openstack/kolla-ansible,stable/queens,I1977bdde8210073d3c25ecb33a031b58332a986a,Pin ARA to <1.0.0 and use stable setup interface to find callback plugin,ABANDONED,2019-05-24 15:00:12.000000000,2019-06-18 18:14:26.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-05-24 15:00:12.000000000', 'files': ['tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/37e61d06e033aac4cb950cb047381351e13ade43', 'message': ""Pin ARA to <1.0.0 and use stable setup interface to find callback plugin\n\nARA 1.0 will be released in the near future and isn't backwards\ncompatible.\nPin it so it doesn't break things unexpectedly.\n\nARA ships simple setup modules to help figure out the paths\nto where things are located.\nThese are backwards compatible from ARA 1.0 to 0.x.\n\nChange-Id: I1977bdde8210073d3c25ecb33a031b58332a986a\n(cherry picked from commit 86e9b0831c89352d062bb828e28af33240b94f89)\n""}]",0,661324,37e61d06e033aac4cb950cb047381351e13ade43,8,3,1,9061,,,0,"Pin ARA to <1.0.0 and use stable setup interface to find callback plugin

ARA 1.0 will be released in the near future and isn't backwards
compatible.
Pin it so it doesn't break things unexpectedly.

ARA ships simple setup modules to help figure out the paths
to where things are located.
These are backwards compatible from ARA 1.0 to 0.x.

Change-Id: I1977bdde8210073d3c25ecb33a031b58332a986a
(cherry picked from commit 86e9b0831c89352d062bb828e28af33240b94f89)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/24/661324/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup_gate.sh'],1,37e61d06e033aac4cb950cb047381351e13ade43,pin-ara-1.0," sudo -H pip install -U ""ansible>=2,<2.4"" ""docker>=2.0.0"" ""python-openstackclient"" ""ara<1.0.0"" ""cmd2<0.9.0"" ara_location=$(python -m ara.setup.callback_plugins)callback_plugins = ${ara_location}"," sudo -H pip install -U ""ansible>=2,<2.4"" ""docker>=2.0.0"" ""python-openstackclient"" ""ara<0.16"" ""cmd2<0.9.0"" ara_location=$(python -c ""import os,ara; print(os.path.dirname(ara.__file__))"")callback_plugins = ${ara_location}/plugins/callbacks",3,3
openstack%2Fkolla-ansible~master~Id058aa1db8d60c979680e6a41f7f3e1c39f98235,openstack/kolla-ansible,master,Id058aa1db8d60c979680e6a41f7f3e1c39f98235,Add ansible_nodename (system hostname) to /etc/hosts,MERGED,2019-05-21 17:24:27.000000000,2019-06-18 18:12:59.000000000,2019-06-07 09:08:08.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23294}, {'_account_id': 23942}]","[{'number': 1, 'created': '2019-05-21 17:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f77ff41c4945a40b438d7dfc82932d9dca0cd5c8', 'message': ""Add ansible_nodename (system hostname) to /etc/hosts\n\nKolla-Ansible populates /etc/hosts with overcloud hosts using their API\ninterface IP address. When configured correctly, this allows Nova to use\nthe API interface for live migration of instances between compute hosts.\n\nThe hostname used is from the `ansible_hostname` variable, which is a\nshort hostname generated by Ansible using the first dot as a delimiter.\nHowever, Nova defaults to use the result of socket.gethostname() to\nregister nova-compute services.\n\nIn deployments where hostnames are set to FQDNs, for example when using\nFreeIPA, nova-compute would try to reach the other compute node using\nits FQDN (as registered in the Nova database), which was absent from\n/etc/hosts. This can result in failures to live migrate instances if\nDNS entries don't match.\n\nThis commit populates /etc/hosts with `ansible_nodename` (hostname as\nreported by the system) in addition to `ansible_hostname`, if they are\ndifferent.\n\nChange-Id: Id058aa1db8d60c979680e6a41f7f3e1c39f98235\n""}, {'number': 2, 'created': '2019-05-22 11:27:41.000000000', 'files': ['ansible/roles/baremetal/tasks/pre-install.yml', 'releasenotes/notes/add-nodename-to-etc-hosts-6360acc642ee3d49.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/37899026bf7ec6ae70b01571cd0fb2e0173f8f9b', 'message': ""Add ansible_nodename (system hostname) to /etc/hosts\n\nKolla-Ansible populates /etc/hosts with overcloud hosts using their API\ninterface IP address. When configured correctly, this allows Nova to use\nthe API interface for live migration of instances between compute hosts.\n\nThe hostname used is from the `ansible_hostname` variable, which is a\nshort hostname generated by Ansible using the first dot as a delimiter.\nHowever, Nova defaults to use the result of socket.gethostname() to\nregister nova-compute services.\n\nIn deployments where hostnames are set to FQDNs, for example when using\nFreeIPA, nova-compute would try to reach the other compute node using\nits FQDN (as registered in the Nova database), which was absent from\n/etc/hosts. This can result in failures to live migrate instances if\nDNS entries don't match.\n\nThis commit populates /etc/hosts with `ansible_nodename` (hostname as\nreported by the system) in addition to `ansible_hostname`, if they are\ndifferent.\n\nChange-Id: Id058aa1db8d60c979680e6a41f7f3e1c39f98235\nCloses-Bug: #1830023\n""}]",4,660463,37899026bf7ec6ae70b01571cd0fb2e0173f8f9b,19,6,2,15197,,,0,"Add ansible_nodename (system hostname) to /etc/hosts

Kolla-Ansible populates /etc/hosts with overcloud hosts using their API
interface IP address. When configured correctly, this allows Nova to use
the API interface for live migration of instances between compute hosts.

The hostname used is from the `ansible_hostname` variable, which is a
short hostname generated by Ansible using the first dot as a delimiter.
However, Nova defaults to use the result of socket.gethostname() to
register nova-compute services.

In deployments where hostnames are set to FQDNs, for example when using
FreeIPA, nova-compute would try to reach the other compute node using
its FQDN (as registered in the Nova database), which was absent from
/etc/hosts. This can result in failures to live migrate instances if
DNS entries don't match.

This commit populates /etc/hosts with `ansible_nodename` (hostname as
reported by the system) in addition to `ansible_hostname`, if they are
different.

Change-Id: Id058aa1db8d60c979680e6a41f7f3e1c39f98235
Closes-Bug: #1830023
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/63/660463/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/baremetal/tasks/pre-install.yml'],1,f77ff41c4945a40b438d7dfc82932d9dca0cd5c8,bug/1830023," {% set hostnames = [hostvars[host]['ansible_nodename'], hostvars[host]['ansible_hostname']] %} {{ hostvars[host]['ansible_' + api_interface]['ipv4']['address'] }} {{ hostnames | unique | join(' ') }}", {{ hostvars[host]['ansible_' + api_interface]['ipv4']['address'] }} {{ hostvars[host]['ansible_hostname'] }},2,1
openstack%2Fkolla-ansible~master~I18c99ff4213ce456868e64eab63a4257910b9b8e,openstack/kolla-ansible,master,I18c99ff4213ce456868e64eab63a4257910b9b8e,nova: Fix DBNotAllowed during compute startup,MERGED,2019-05-20 09:22:56.000000000,2019-06-18 18:11:25.000000000,2019-06-04 03:58:15.000000000,"[{'_account_id': 14826}, {'_account_id': 16150}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 28367}]","[{'number': 1, 'created': '2019-05-20 09:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5043e8b03dbc2e02256dcc322407c6dfc0bcbf27', 'message': 'nova: Fix DBNotAllowed during compute startup\n\nDuring startup of nova-compute, we see the following error message:\n\nError gathering result from cell 00000000-0000-0000-0000-000000000000:\nDBNotAllowed: nova-compute\n\nThis issue was observed in devstack [1], and fixed [2] by removing\ndatabase configuration from the compute service.\n\nThis change takes the same approach, removing DB config from nova.conf\nin the nova-compute* containers.\n\n[1] https://bugs.launchpad.net/devstack/+bug/1812398\n[2] https://opendev.org/openstack/devstack/commit/82537871376afe98a286e1ba424cf192ae60869a\n\nChange-Id: I18c99ff4213ce456868e64eab63a4257910b9b8e\nCloses-Bug: #1829705\n'}, {'number': 2, 'created': '2019-05-20 09:24:50.000000000', 'files': ['ansible/roles/nova/templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/002eec951f336b07ef3a7f277e9c0fe6aae9a952', 'message': 'nova: Fix DBNotAllowed during compute startup\n\nbackport: stein, rocky\n\nDuring startup of nova-compute, we see the following error message:\n\nError gathering result from cell 00000000-0000-0000-0000-000000000000:\nDBNotAllowed: nova-compute\n\nThis issue was observed in devstack [1], and fixed [2] by removing\ndatabase configuration from the compute service.\n\nThis change takes the same approach, removing DB config from nova.conf\nin the nova-compute* containers.\n\n[1] https://bugs.launchpad.net/devstack/+bug/1812398\n[2] https://opendev.org/openstack/devstack/commit/82537871376afe98a286e1ba424cf192ae60869a\n\nChange-Id: I18c99ff4213ce456868e64eab63a4257910b9b8e\nCloses-Bug: #1829705\n'}]",0,660059,002eec951f336b07ef3a7f277e9c0fe6aae9a952,20,6,2,14826,,,0,"nova: Fix DBNotAllowed during compute startup

backport: stein, rocky

During startup of nova-compute, we see the following error message:

Error gathering result from cell 00000000-0000-0000-0000-000000000000:
DBNotAllowed: nova-compute

This issue was observed in devstack [1], and fixed [2] by removing
database configuration from the compute service.

This change takes the same approach, removing DB config from nova.conf
in the nova-compute* containers.

[1] https://bugs.launchpad.net/devstack/+bug/1812398
[2] https://opendev.org/openstack/devstack/commit/82537871376afe98a286e1ba424cf192ae60869a

Change-Id: I18c99ff4213ce456868e64eab63a4257910b9b8e
Closes-Bug: #1829705
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/59/660059/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/templates/nova.conf.j2'],1,5043e8b03dbc2e02256dcc322407c6dfc0bcbf27,bug/1829705,{% if not service_name.startswith('nova-compute') %}{% endif %},,2,0
openstack%2Fopenstack-ansible-os_tacker~stable%2Frocky~I092878997328d546b6ecd7a3f64bfd8a864d8d60,openstack/openstack-ansible-os_tacker,stable/rocky,I092878997328d546b6ecd7a3f64bfd8a864d8d60,Updated from OpenStack Ansible Tests,MERGED,2019-06-10 15:45:16.000000000,2019-06-18 18:05:07.000000000,2019-06-18 18:05:07.000000000,"[{'_account_id': 1004}, {'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-10 15:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/bfc8e0453992d76940cb54764c37a6f58cf5ded5', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I092878997328d546b6ecd7a3f64bfd8a864d8d60\n'}, {'number': 2, 'created': '2019-06-18 14:27:47.000000000', 'files': ['run_tests.sh', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/8700af4984f2f802b835a14be1b0ad42352109aa', 'message': 'Updated from OpenStack Ansible Tests\n\nDepends-On: I0962932b0805ab10e7ea899d73178ccb44895a2a\nChange-Id: I092878997328d546b6ecd7a3f64bfd8a864d8d60\n'}]",0,664346,8700af4984f2f802b835a14be1b0ad42352109aa,17,4,2,11131,,,0,"Updated from OpenStack Ansible Tests

Depends-On: I0962932b0805ab10e7ea899d73178ccb44895a2a
Change-Id: I092878997328d546b6ecd7a3f64bfd8a864d8d60
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/46/664346/2 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tasks/mq_setup.yml']",2,bfc8e0453992d76940cb54764c37a6f58cf5ded5,openstack/openstack-ansible-tests/sync-tests," - name: Apply RPC RabbitMQ vhost policies rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" force: false - name: Verify password changed command: ""rabbitmqctl authenticate_user {{ _oslomsg_rpc_userid }} {{ _oslomsg_rpc_password }}"" register: rpc_password_changed - name: Set password when changed command: ""rabbitmqctl change_password {{ _oslomsg_rpc_userid }} {{ _oslomsg_rpc_password }}"" when: - rpc_password_changed.rc != 0 - name: Apply Notify RabbitMQ vhost policies rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - _oslomsg_notify_vhost != _oslomsg_rpc_vhost ", force: true,31,2
openstack%2Fopenstack-ansible-os_tacker~stable%2Frocky~I0962932b0805ab10e7ea899d73178ccb44895a2a,openstack/openstack-ansible-os_tacker,stable/rocky,I0962932b0805ab10e7ea899d73178ccb44895a2a,Fix tacker config on Rocky,MERGED,2019-06-18 14:26:51.000000000,2019-06-18 18:05:06.000000000,2019-06-18 18:05:06.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-18 14:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/e629e2b66d54655dd118afabc0780362eaf17df2', 'message': 'Fix tacker config on Rocky\n\nnotification_driver is deprecated in favor of\n[oslo_messaging_notifications]/driver.\n\nservice_plugins order seems to matter.\n\nChange-Id: I0962932b0805ab10e7ea899d73178ccb44895a2a\n'}, {'number': 2, 'created': '2019-06-18 15:41:37.000000000', 'files': ['templates/tacker.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/b1b4d75b2ff35caac3ad4f6e06149d7f1dc5e624', 'message': 'Fix tacker config on Rocky\n\nnotification_driver is deprecated in favor of\n[oslo_messaging_notifications]/driver.\n\nservice_plugins order seems to matter.\n\nChange-Id: I0962932b0805ab10e7ea899d73178ccb44895a2a\n'}]",0,665996,b1b4d75b2ff35caac3ad4f6e06149d7f1dc5e624,9,3,2,13095,,,0,"Fix tacker config on Rocky

notification_driver is deprecated in favor of
[oslo_messaging_notifications]/driver.

service_plugins order seems to matter.

Change-Id: I0962932b0805ab10e7ea899d73178ccb44895a2a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/96/665996/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/tacker.conf.j2'],1,e629e2b66d54655dd118afabc0780362eaf17df2,,"service_plugins = nfvo,vnfmdriver = {{ (tacker_ceilometer_enabled | bool) | ternary('messagingv2', 'noop') }}","service_plugins = vnfm,nfvo# Notification_driver can be defined multiple times # Do nothing driver # notification_driver = tacker.openstack.common.notifier.no_op_notifier # Logging driver # notification_driver = tacker.openstack.common.notifier.log_notifier # RPC driver. notification_driver = tacker.openstack.common.notifier.rpc_notifier ",2,9
openstack%2Fkolla-ansible~master~I655da1102dfb4ca12437b7db0b79c9a61568f79e,openstack/kolla-ansible,master,I655da1102dfb4ca12437b7db0b79c9a61568f79e,Add unit test for keystone fernet cron generator,MERGED,2019-05-16 16:34:27.000000000,2019-06-18 18:02:39.000000000,2019-06-06 16:29:19.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-05-16 16:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/82c99846453b6c3e113d3129f5ae8bdb40b0cac6', 'message': 'Add unit test for keystone fernet cron generator\n\nBefore making changes to this script, document its behaviour with a unit\ntest.\n\nThere are two major issues:\n\n* requesting an interval of more than 1 day results in no jobs\n* requesting an interval of more than 60 minutes, unless an exact\n  multiple of 60 minutes, results in no jobs\n\nChange-Id: I655da1102dfb4ca12437b7db0b79c9a61568f79e\nRelated-Bug: #1809469\n'}, {'number': 2, 'created': '2019-05-17 10:09:28.000000000', 'files': ['tests/test_fernet_rotate_cron_generator.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/25ac955a4e2645da29f8c7b807f0bac5afb43838', 'message': 'Add unit test for keystone fernet cron generator\n\nBefore making changes to this script, document its behaviour with a unit\ntest.\n\nThere are two major issues:\n\n* requesting an interval of more than 1 day results in no jobs\n* requesting an interval of more than 60 minutes, unless an exact\n  multiple of 60 minutes, results in no jobs\n\nChange-Id: I655da1102dfb4ca12437b7db0b79c9a61568f79e\nRelated-Bug: #1809469\n'}]",1,659619,25ac955a4e2645da29f8c7b807f0bac5afb43838,15,5,2,14826,,,0,"Add unit test for keystone fernet cron generator

Before making changes to this script, document its behaviour with a unit
test.

There are two major issues:

* requesting an interval of more than 1 day results in no jobs
* requesting an interval of more than 60 minutes, unless an exact
  multiple of 60 minutes, results in no jobs

Change-Id: I655da1102dfb4ca12437b7db0b79c9a61568f79e
Related-Bug: #1809469
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/19/659619/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test_fernet_rotate_cron_generator.py'],1,82c99846453b6c3e113d3129f5ae8bdb40b0cac6,bug/1809469,"#!/usr/bin/env python # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import imp import os import sys try: from unittest import mock except ImportError: import mock from oslotest import base this_dir = os.path.dirname(sys.modules[__name__].__file__) file_under_test = os.path.join(this_dir, '..', 'ansible', 'roles', 'keystone', 'files', 'fernet_rotate_cron_generator.py') generator = imp.load_source('generator', file_under_test) class FernetRotateCronGeneratorTest(base.BaseTestCase): def _test(self, host_index, total_hosts, total_rotation_mins, expected): result = generator.generate(host_index, total_hosts, total_rotation_mins) self.assertEqual(expected, result) def test_invalid_index(self): expected = [] self._test(1, 0, 0, expected) # total_rotation_mins == WEEK_SPAN: def test_1_week_1_host(self): expected = [{""min"": 0, ""hour"": 0, ""day"": 0}] self._test(0, 1, 7 * 24 * 60, expected) def test_1_week_2_hosts(self): expected = [{""min"": 0, ""hour"": 0, ""day"": 0}] self._test(0, 2, 7 * 24 * 60, expected) expected = [{""min"": 0, ""hour"": 12, ""day"": 3}] self._test(1, 2, 7 * 24 * 60, expected) # total_rotation_mins == DAY_SPAN: def test_1_day_1_host(self): expected = [{""min"": 0, ""hour"": 0, ""day"": ""*""}] self._test(0, 1, 24 * 60, expected) def test_1_day_2_hosts(self): expected = [{""min"": 0, ""hour"": 0, ""day"": ""*""}] self._test(0, 2, 24 * 60, expected) expected = [{""min"": 0, ""hour"": 12, ""day"": ""*""}] self._test(1, 2, 24 * 60, expected) # total_rotation_mins % HOUR_SPAN == 0: def test_1_hour_1_host(self): # nit: This could be a single hour: '*'. expected = [{""min"": 0, ""hour"": hour, ""day"": ""*""} for hour in range(24)] self._test(0, 1, 60, expected) def test_1_hour_2_hosts(self): expected = [{""min"": 0, ""hour"": hour, ""day"": ""*""} for hour in range(24)] self._test(0, 2, 60, expected) expected = [{""min"": 30, ""hour"": hour, ""day"": ""*""} for hour in range(24)] self._test(1, 2, 60, expected) def test_2_hours_1_host(self): expected = [{""min"": 0, ""hour"": hour, ""day"": ""*""} for hour in range(0, 24, 2)] self._test(0, 1, 2 * 60, expected) def test_2_hours_2_hosts(self): expected = [{""min"": 0, ""hour"": hour, ""day"": ""*""} for hour in range(0, 24, 2)] self._test(0, 2, 2 * 60, expected) expected = [{""min"": 0, ""hour"": hour, ""day"": ""*""} for hour in range(1, 24, 2)] self._test(1, 2, 2 * 60, expected) def test_2_days_1_host(self): # FIXME: Anything greater than 1 day (except 1 week) returns no jobs. expected = [] self._test(0, 1, 2 * 24 * 60, expected) def test_2_days_2_hosts(self): # FIXME: Anything greater than 1 day (except 1 week) returns no jobs. expected = [] self._test(0, 2, 2 * 24 * 60, expected) expected = [] self._test(1, 2, 2 * 24 * 60, expected) # total_rotation_mins % MINUTE_SPAN == 0: def test_1_minute_1_host(self): # This could be a single hour: '*'. expected = [{""min"": min, ""hour"": ""*"", ""day"": ""*""} for min in range(60)] self._test(0, 1, 1, expected) def test_1_minute_2_hosts(self): # This is kind of broken, but its an edge case so nevermind. expected = [{""min"": min, ""hour"": ""*"", ""day"": ""*""} for min in range(60)] self._test(0, 2, 1, expected) expected = [{""min"": min, ""hour"": ""*"", ""day"": ""*""} for min in range(60)] self._test(1, 2, 1, expected) def test_2_minutes_1_host(self): expected = [{""min"": min, ""hour"": ""*"", ""day"": ""*""} for min in range(0, 60, 2)] self._test(0, 1, 2, expected) def test_2_minutes_2_hosts(self): expected = [{""min"": min, ""hour"": ""*"", ""day"": ""*""} for min in range(0, 60, 2)] self._test(0, 2, 2, expected) expected = [{""min"": min, ""hour"": ""*"", ""day"": ""*""} for min in range(1, 60, 2)] self._test(1, 2, 2, expected) def test_61_minutes_1_host(self): # FIXME: Anything greater than 1 hour (unless an integer number of # hours) returns no jobs. expected = [] self._test(0, 1, 61, expected) def test_61_minutes_2_hosts(self): # FIXME: Anything greater than 1 hour (unless an integer number of # hours) returns no jobs. expected = [] self._test(0, 1, 61, expected) expected = [] self._test(1, 2, 61, expected) ",,158,0
openstack%2Foslo.messaging~master~Id11db4113c9b1c3add602192c1e915218704ef27,openstack/oslo.messaging,master,Id11db4113c9b1c3add602192c1e915218704ef27,fix typos,MERGED,2019-06-17 15:58:59.000000000,2019-06-18 17:59:06.000000000,2019-06-18 17:59:06.000000000,"[{'_account_id': 15334}, {'_account_id': 20100}, {'_account_id': 20523}, {'_account_id': 22348}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-06-17 15:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/976fb58be57a072ae836dd9761b164f9567e5fb5', 'message': 'fix a typo\n\nChange-Id: Id11db4113c9b1c3add602192c1e915218704ef27\n'}, {'number': 2, 'created': '2019-06-18 11:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/aaec7562a3cfbe4d7a710dfe94ad419f9811a75c', 'message': 'fix a typo\n\nChange-Id: Id11db4113c9b1c3add602192c1e915218704ef27\n'}, {'number': 3, 'created': '2019-06-18 12:00:30.000000000', 'files': ['oslo_messaging/_drivers/common.py', 'oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/54356899da5d4a0997abb6819f184a27929cc0e9', 'message': 'fix typos\n\nChange-Id: Id11db4113c9b1c3add602192c1e915218704ef27\n'}]",0,665718,54356899da5d4a0997abb6819f184a27929cc0e9,14,5,3,28522,,,0,"fix typos

Change-Id: Id11db4113c9b1c3add602192c1e915218704ef27
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/18/665718/3 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,976fb58be57a072ae836dd9761b164f9567e5fb5,fix-nit," LOG.warning(""Unexpected error during heartbeat """," LOG.warning(""Unexpected error during heartbeart """,1,1
openstack%2Fkolla~master~I32ba1abd204c9dba4bbe3132b5650b0e391616af,openstack/kolla,master,I32ba1abd204c9dba4bbe3132b5650b0e391616af,Add sha256 in ceph fetch keys,MERGED,2019-04-25 07:07:31.000000000,2019-06-18 17:53:32.000000000,2019-06-18 11:57:27.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-04-25 07:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/98863a008601865658a99b401d7f35cc48574e67', 'message': 'Change sha1 to sha256 in ceph fetch keys\n\nfetch_ceph_keys.py is using insecure sha1 function, this patch changes\nthat to sha256\n\nChange-Id: I32ba1abd204c9dba4bbe3132b5650b0e391616af\nCloses-Bug: #1826327\n'}, {'number': 2, 'created': '2019-04-26 09:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8c1191d528bdf2bf0003158b9954b0289fbdb877', 'message': 'Change sha1 to sha256 in ceph fetch keys\n\nfetch_ceph_keys.py is using insecure sha1 function, this patch changes\nthat to sha256\n\nChange-Id: I32ba1abd204c9dba4bbe3132b5650b0e391616af\nCloses-Bug: #1826327\n'}, {'number': 3, 'created': '2019-06-11 16:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f38ab180fff0d49c6b284db7fb9d59d644f852de', 'message': 'Add sha1 in ceph fetch keys\n\nfetch_ceph_keys.py is using insecure sha1 function, this patch adds\nsha256 beside sha1 - in order to remove sha1 safely in U release.\n\nChange-Id: I32ba1abd204c9dba4bbe3132b5650b0e391616af\nCloses-Bug: #1826327\n'}, {'number': 4, 'created': '2019-06-13 17:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d9f2ab9fbbdf594ef73355f15c09c347b57bd579', 'message': 'Add sha1 in ceph fetch keys\n\nfetch_ceph_keys.py is using insecure sha1 function, this patch adds\nsha256 beside sha1 - in order to remove sha1 safely in U release.\n\nChange-Id: I32ba1abd204c9dba4bbe3132b5650b0e391616af\nCloses-Bug: #1826327\n'}, {'number': 5, 'created': '2019-06-13 18:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4189b0a463b72782f0ed5696f7f5f379aae4e1d8', 'message': 'Add sha1 in ceph fetch keys\n\nfetch_ceph_keys.py is using insecure sha1 function, this patch adds\nsha256 beside sha1 - in order to remove sha1 safely in U release.\n\nChange-Id: I32ba1abd204c9dba4bbe3132b5650b0e391616af\nCloses-Bug: #1826327\n'}, {'number': 6, 'created': '2019-06-18 08:21:40.000000000', 'files': ['docker/ceph/ceph-mon/fetch_ceph_keys.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0a2dc8aa1d267da3c1c2925b3f292bd96aa50edb', 'message': 'Add sha256 in ceph fetch keys\n\nfetch_ceph_keys.py is using insecure sha1 function, this patch adds\nsha256 beside sha1 - in order to remove sha1 safely in U release.\n\nChange-Id: I32ba1abd204c9dba4bbe3132b5650b0e391616af\nCloses-Bug: #1826327\n'}]",4,655623,0a2dc8aa1d267da3c1c2925b3f292bd96aa50edb,37,7,6,22629,,,0,"Add sha256 in ceph fetch keys

fetch_ceph_keys.py is using insecure sha1 function, this patch adds
sha256 beside sha1 - in order to remove sha1 safely in U release.

Change-Id: I32ba1abd204c9dba4bbe3132b5650b0e391616af
Closes-Bug: #1826327
",git fetch https://review.opendev.org/openstack/kolla refs/changes/23/655623/6 && git format-patch -1 --stdout FETCH_HEAD,['docker/ceph/ceph-mon/fetch_ceph_keys.py'],1,98863a008601865658a99b401d7f35cc48574e67,bug/1826327," 'sha256': hashlib.sha256(raw_data).hexdigest(),"," 'sha1': hashlib.sha1(raw_data).hexdigest(),",1,1
openstack%2Fopenstack-helm-docs~master~I2235b24c4d03c91a0e68648a08538c1343f8083d,openstack/openstack-helm-docs,master,I2235b24c4d03c91a0e68648a08538c1343f8083d,Move to opendev,MERGED,2019-04-30 08:38:41.000000000,2019-06-18 17:53:15.000000000,2019-06-18 17:53:15.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 12898}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-30 08:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-docs/commit/12be4989f93149904651f645a22d77266d05b8cc', 'message': 'Move to opendev\n\nChange-Id: I2235b24c4d03c91a0e68648a08538c1343f8083d\n'}, {'number': 2, 'created': '2019-05-21 02:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-docs/commit/a39f30369b57036e29867e2b5d7ed497be8a9cfa', 'message': 'Move to opendev\n\nChange-Id: I2235b24c4d03c91a0e68648a08538c1343f8083d\n'}, {'number': 3, 'created': '2019-05-21 03:56:25.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-helm-docs/commit/4d11377d702f65b26dab056ba926d78fcb88a7b4', 'message': 'Move to opendev\n\nChange-Id: I2235b24c4d03c91a0e68648a08538c1343f8083d\n'}]",0,656468,4d11377d702f65b26dab056ba926d78fcb88a7b4,13,5,3,28613,,,0,"Move to opendev

Change-Id: I2235b24c4d03c91a0e68648a08538c1343f8083d
",git fetch https://review.opendev.org/openstack/openstack-helm-docs refs/changes/68/656468/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,12be4989f93149904651f645a22d77266d05b8cc,openstack-helm-docs, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},1,1
openstack%2Fkolla~master~I34b9d56559eada96abec13814a2aa91b57055710,openstack/kolla,master,I34b9d56559eada96abec13814a2aa91b57055710,base: do not use non-free repositories for Ubuntu,MERGED,2019-06-17 16:36:36.000000000,2019-06-18 17:52:19.000000000,2019-06-18 09:50:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-17 16:36:36.000000000', 'files': ['docker/base/sources.list.ubuntu.aarch64', 'docker/base/sources.list.ubuntu.ppc64le', 'docker/base/sources.list.ubuntu'], 'web_link': 'https://opendev.org/openstack/kolla/commit/96460c4bfe258c2a39f271a9b5591e76b8b3e783', 'message': 'base: do not use non-free repositories for Ubuntu\n\nRemove restricted and multiverse from ubuntu.\n\nrestricted is supported software that is non-free.\nmultiverse is unsupported software that is non-free.\n\nWe should not use any of them. And they are not mirrored by OpenStack\ninfra.\n\nChange-Id: I34b9d56559eada96abec13814a2aa91b57055710\n'}]",0,665724,96460c4bfe258c2a39f271a9b5591e76b8b3e783,21,6,1,24072,,,0,"base: do not use non-free repositories for Ubuntu

Remove restricted and multiverse from ubuntu.

restricted is supported software that is non-free.
multiverse is unsupported software that is non-free.

We should not use any of them. And they are not mirrored by OpenStack
infra.

Change-Id: I34b9d56559eada96abec13814a2aa91b57055710
",git fetch https://review.opendev.org/openstack/kolla refs/changes/24/665724/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/sources.list.ubuntu.aarch64', 'docker/base/sources.list.ubuntu.ppc64le', 'docker/base/sources.list.ubuntu']",3,96460c4bfe258c2a39f271a9b5591e76b8b3e783,,deb http://archive.ubuntu.com/ubuntu/ bionic main universe deb http://archive.ubuntu.com/ubuntu/ bionic-updates main universe deb http://archive.ubuntu.com/ubuntu/ bionic-security main universedeb http://archive.ubuntu.com/ubuntu/ bionic-backports main universe,deb http://archive.ubuntu.com/ubuntu/ bionic main restricted universe multiverse deb http://archive.ubuntu.com/ubuntu/ bionic-updates main restricted universe multiverse deb http://archive.ubuntu.com/ubuntu/ bionic-security main restricted universe multiversedeb http://archive.ubuntu.com/ubuntu/ bionic-backports main restricted universe multiverse,12,12
openstack%2Fkeystone-specs~master~Ib6ff52bf6d337bc0390da168ee960644137ef40a,openstack/keystone-specs,master,Ib6ff52bf6d337bc0390da168ee960644137ef40a,Combine policy roadmap documents,MERGED,2019-05-14 20:41:39.000000000,2019-06-18 17:46:38.000000000,2019-06-18 17:46:38.000000000,"[{'_account_id': 5046}, {'_account_id': 15054}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-05-14 20:41:39.000000000', 'files': ['specs/keystone/ongoing/policy-goals-and-roadmap.rst', 'specs/keystone/ongoing/policy-security-roadmap.rst', 'specs/keystone/ongoing/policy-goals.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/1dde77c0348de4f39933ee74e9a2f76c59695abc', 'message': 'Combine policy roadmap documents\n\nThe Goals document and the Roadmap document are closely related to each\nother and both cover long-term, ongoing work. This change combines the\nspecs so that a view of the whole policy story can be found in one\ndocument.\n\nChange-Id: Ib6ff52bf6d337bc0390da168ee960644137ef40a\n'}]",0,659159,1dde77c0348de4f39933ee74e9a2f76c59695abc,9,5,1,8482,,,0,"Combine policy roadmap documents

The Goals document and the Roadmap document are closely related to each
other and both cover long-term, ongoing work. This change combines the
specs so that a view of the whole policy story can be found in one
document.

Change-Id: Ib6ff52bf6d337bc0390da168ee960644137ef40a
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/59/659159/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/keystone/ongoing/policy-goals-and-roadmap.rst', 'specs/keystone/ongoing/policy-security-roadmap.rst', 'specs/keystone/ongoing/policy-goals.rst']",3,1dde77c0348de4f39933ee74e9a2f76c59695abc,combine-policy,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============ Policy Goals ============ Policy in OpenStack has long been the forefront of operator concerns and pain. The implementation is complicated to understand, inconsistent across projects, and lacks secure defaults. The purpose of this document is to define the overall goals we need to achieve with OpenStack's policy implementation and level-set on policy terminology. Goals ===== The following goals increase OpenStack adoption by reducing complexity, allowing better interoperability, and closing security gaps. 1. Administrative rights, via the `admin` role, should be treated consistently across OpenStack. For example, granting an administrator role to a user on a project shouldn't result in the ability to modify endpoints because endpoints aren't a project-specific resource. Likewise, granting a user administrative rights on the deployment system shouldn't result in the ability to do administrative things in a specific project. 2. The mapping of policies to operations should be easy to understand, customize, and maintain. 3. A variety of sensible roles should be available by default upon installation, or upgrade. These roles should correspond to the default policies provided by each project. This will require cross-project communication to ensure the roles make sense across project boundaries. The list above allows operators to more easily accomplish use-cases such as: * Grant users read-only access to projects * Grant users administrator permissions on a per-project basis * Grant users access to a subset of resource types for a particular project Future Goals ============ The following goals have been brought up in discussions several times. At this point we are not ruling out the possibility of addressing these goals, but formally recognizing them as something to be addressed after completing the goals listed in the previous section (e.g. you must crawl before you can walk, and walk before you can run). 1. It should be possible to delegate fine-grained access of a resource to another user or system. 2. It should be possible to build custom policies that can take into account users, resources, and scopes. This could result in policy being fed different assertions on specific resources. For example, having a policy that says a specific user can access my instance only on specific days and only if they have specific assertions available in the SAML document they used to authenticate. 3. It should be possible to determine what operations are available in a deployment while taking role assignments into consideration. This needs to be done in such a way that doesn't duplicate information across OpenStack services or increase maintenance overhead for operators. Cross-Project Impact ==================== Policy and Role Based Access Control (RBAC) has traditionally been thought of as a problem space within the OpenStack Identity umbrella. While that statement logically makes sense, the current implementation of policy is enforced across the OpenStack services making the ownership of the problem harder to pinpoint. Keystone currently only acts as an information point to the service, which is ultimately responsible for enforcing the policy decision based on information from keystone and information from the project. The OpenStack community has made several attempts to address these issues (linked below in the References section), but having the implementation spread across OpenStack makes it impossible for a single project to propose and fix these issues without cross-project buy-in. Cross-Project Resolution ======================== If a proposed solution to one of the above goals requires a coordinated effort between projects, we will use either `community goals <https://governance.openstack.org/tc/goals/>`_, `tags <https://governance.openstack.org/tc/reference/tags/index.html>`_, or both. These tools require cross-project communication, buy-in, and commitment. For example, one community goal might be to define a set of default roles and another to implement them consistently across services. Once a project tests and implements the standardized default set, they can `assert:basic-rbac` as a project tag. These tools weren't available when previous solutions were proposed. Now that we can use them as a community, they are a natural fit for solving complex, distributed problems like consistent RBAC enforcement. References ========== The following are references to past or present specifications: * `Admin-ness bug <https://bugs.launchpad.net/keystone/+bug/968696>`_ * `Role Check from Middleware specification <https://review.openstack.org/#/c/391624>`_ * `Tokens with subsets of roles specification <https://review.openstack.org/#/c/186979>`_ * `Role Check on Body Key specification <https://review.openstack.org/#/c/456974>`_ * `Dynamic RBAC Policy specification <https://review.openstack.org/#/c/279379>`_ * `Policy Merge specification <https://review.openstack.org/#/c/295049>`_ * `Fetch Policy by Tag specification <https://review.openstack.org/#/c/298788>`_ * `Policy rules managed from a database specification <https://review.openstack.org/#/c/133814>`_ * `Add policy-remove-scope-checks specification <https://review.openstack.org/#/c/433037/>`_ * `Add additional-default-policy-roles specification <https://review.openstack.org/#/c/427872/>`_ * `Add policy-docs specification <https://review.openstack.org/#/c/433010/>`_ * `Capability API spec <https://review.openstack.org/#/c/386555/>`_ ",269,291
openstack%2Foctavia~stable%2Fstein~I6f5d95c5f875edda530f54ae72386d6495235ca6,openstack/octavia,stable/stein,I6f5d95c5f875edda530f54ae72386d6495235ca6,Fix a python3 issue in the amphora-agent,MERGED,2019-06-17 14:57:22.000000000,2019-06-18 17:46:24.000000000,2019-06-18 17:46:24.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 8161}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 14:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e2715ad5dac3b7e7c44cd9152bf53fae9caf5d5a', 'message': 'Fix a python3 issue in the amphora-agent\n\nAn exception handler in the amphora-agent has a python3 string\ncomparison bug that will cause a TypeError.\nThis patch fixes that bug and adds test coverage for the\nstart_stop_listener.\n\nChange-Id: I6f5d95c5f875edda530f54ae72386d6495235ca6\nStory: 2005898\nTask: 33760\n'}, {'number': 2, 'created': '2019-06-17 15:33:14.000000000', 'files': ['octavia/tests/unit/amphorae/backends/agent/api_server/test_listener.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py', 'octavia/amphorae/backends/agent/api_server/listener.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d31b47fd0d88235ecc5ca91235481537afa11ade', 'message': 'Fix a python3 issue in the amphora-agent\n\nAn exception handler in the amphora-agent has a python3 string\ncomparison bug that will cause a TypeError.\nThis patch fixes that bug and adds test coverage for the\nstart_stop_listener.\n\nChange-Id: I6f5d95c5f875edda530f54ae72386d6495235ca6\nStory: 2005898\nTask: 33760\n(cherry picked from commit dc459e2213089345f906c3daa313bd05c429bb54)\n'}]",0,665698,d31b47fd0d88235ecc5ca91235481537afa11ade,14,6,2,6579,,,0,"Fix a python3 issue in the amphora-agent

An exception handler in the amphora-agent has a python3 string
comparison bug that will cause a TypeError.
This patch fixes that bug and adds test coverage for the
start_stop_listener.

Change-Id: I6f5d95c5f875edda530f54ae72386d6495235ca6
Story: 2005898
Task: 33760
(cherry picked from commit dc459e2213089345f906c3daa313bd05c429bb54)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/98/665698/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/amphorae/backends/agent/api_server/test_listener.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py', 'octavia/amphorae/backends/agent/api_server/listener.py']",3,e2715ad5dac3b7e7c44cd9152bf53fae9caf5d5a,665498-stable/stein, if b'Job is already running' not in e.output:, if 'Job is already running' not in e.output:,151,6
openstack%2Fkeystone-specs~master~I69403a035bf4540a93f4728f8b795d9c7a85cc6f,openstack/keystone-specs,master,I69403a035bf4540a93f4728f8b795d9c7a85cc6f,Move unified model spec from ongoing to backlog,MERGED,2019-05-13 18:54:15.000000000,2019-06-18 17:44:18.000000000,2019-06-18 17:44:18.000000000,"[{'_account_id': 2218}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-05-13 18:54:15.000000000', 'files': ['specs/keystone/backlog/unified-delegation.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/62ce366330eb82e74f752867fc106a7797b1d2da', 'message': 'Move unified model spec from ongoing to backlog\n\nSince there is no active work happening on this improvement, but we\nstill generally think it\'s the right direction, move the spec from\n""ongoing"" to ""backlog"" so that it can be picked up when we are ready to\nplan it into a cycle.\n\nChange-Id: I69403a035bf4540a93f4728f8b795d9c7a85cc6f\n'}]",0,658894,62ce366330eb82e74f752867fc106a7797b1d2da,10,6,1,8482,,,0,"Move unified model spec from ongoing to backlog

Since there is no active work happening on this improvement, but we
still generally think it's the right direction, move the spec from
""ongoing"" to ""backlog"" so that it can be picked up when we are ready to
plan it into a cycle.

Change-Id: I69403a035bf4540a93f4728f8b795d9c7a85cc6f
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/94/658894/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/keystone/backlog/unified-delegation.rst'],1,62ce366330eb82e74f752867fc106a7797b1d2da,unified-backlog,,,0,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I947f6a4c65a9ef6a9220a07098f4c91507711cf6,openstack/tripleo-heat-templates,stable/rocky,I947f6a4c65a9ef6a9220a07098f4c91507711cf6,ceilometer_agent_notification: disable-panko.yaml,MERGED,2019-04-15 15:47:28.000000000,2019-06-18 17:43:49.000000000,2019-04-17 22:26:38.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-15 15:47:28.000000000', 'files': ['docker/services/ceilometer-agent-notification.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5203a4a8326b462226a3ac76a64b64164c8b27ca', 'message': ""ceilometer_agent_notification: disable-panko.yaml\n\nceilometer-agent-notification.yaml unable to start\nas it gets '' instead of null when disable-panko.yaml\nfile is passed.\n\nCloses-Bug: #1824840\n\nChange-Id: I947f6a4c65a9ef6a9220a07098f4c91507711cf6\n(cherry picked from commit 34b7ba0fa44bc46e11a603fac662909976bdb0c1)\n""}]",0,652704,5203a4a8326b462226a3ac76a64b64164c8b27ca,8,3,1,28504,,,0,"ceilometer_agent_notification: disable-panko.yaml

ceilometer-agent-notification.yaml unable to start
as it gets '' instead of null when disable-panko.yaml
file is passed.

Closes-Bug: #1824840

Change-Id: I947f6a4c65a9ef6a9220a07098f4c91507711cf6
(cherry picked from commit 34b7ba0fa44bc46e11a603fac662909976bdb0c1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/652704/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/ceilometer-agent-notification.yaml'],1,5203a4a8326b462226a3ac76a64b64164c8b27ca,bug/1824840, - null, - '',1,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I947f6a4c65a9ef6a9220a07098f4c91507711cf6,openstack/tripleo-heat-templates,stable/queens,I947f6a4c65a9ef6a9220a07098f4c91507711cf6,ceilometer_agent_notification: disable-panko.yaml,MERGED,2019-04-15 15:45:36.000000000,2019-06-18 17:43:36.000000000,2019-04-17 22:26:41.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-15 15:45:36.000000000', 'files': ['docker/services/ceilometer-agent-notification.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/847ec663cc3af2c878cae5cd7acc575a9702f239', 'message': ""ceilometer_agent_notification: disable-panko.yaml\n\nceilometer-agent-notification.yaml unable to start\nas it gets '' instead of null when disable-panko.yaml\nfile is passed.\n\nCloses-Bug: #1824840\n\nChange-Id: I947f6a4c65a9ef6a9220a07098f4c91507711cf6\n(cherry picked from commit 34b7ba0fa44bc46e11a603fac662909976bdb0c1)\n""}]",0,652702,847ec663cc3af2c878cae5cd7acc575a9702f239,8,3,1,28504,,,0,"ceilometer_agent_notification: disable-panko.yaml

ceilometer-agent-notification.yaml unable to start
as it gets '' instead of null when disable-panko.yaml
file is passed.

Closes-Bug: #1824840

Change-Id: I947f6a4c65a9ef6a9220a07098f4c91507711cf6
(cherry picked from commit 34b7ba0fa44bc46e11a603fac662909976bdb0c1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/652702/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/ceilometer-agent-notification.yaml'],1,847ec663cc3af2c878cae5cd7acc575a9702f239,bug/1824840, - null, - '',1,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I947f6a4c65a9ef6a9220a07098f4c91507711cf6,openstack/tripleo-heat-templates,stable/stein,I947f6a4c65a9ef6a9220a07098f4c91507711cf6,ceilometer_agent_notification: disable-panko.yaml,MERGED,2019-04-29 19:12:00.000000000,2019-06-18 17:43:22.000000000,2019-05-07 21:03:10.000000000,"[{'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28504}]","[{'number': 1, 'created': '2019-04-29 19:12:00.000000000', 'files': ['deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1762e9b636566e4a78c31def630fffaea44d8f84', 'message': ""ceilometer_agent_notification: disable-panko.yaml\n\nceilometer-agent-notification.yaml unable to start\nas it gets '' instead of null when disable-panko.yaml\nfile is passed.\n\nCloses-Bug: #1824840\n\nChange-Id: I947f6a4c65a9ef6a9220a07098f4c91507711cf6\n(cherry picked from commit 34b7ba0fa44bc46e11a603fac662909976bdb0c1)\n""}]",0,656383,1762e9b636566e4a78c31def630fffaea44d8f84,10,6,1,28504,,,0,"ceilometer_agent_notification: disable-panko.yaml

ceilometer-agent-notification.yaml unable to start
as it gets '' instead of null when disable-panko.yaml
file is passed.

Closes-Bug: #1824840

Change-Id: I947f6a4c65a9ef6a9220a07098f4c91507711cf6
(cherry picked from commit 34b7ba0fa44bc46e11a603fac662909976bdb0c1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/656383/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml'],1,1762e9b636566e4a78c31def630fffaea44d8f84,bug/1824840, - null, - '',1,1
openstack%2Fkolla~master~I19447727f19dbd9c0a3e17d218b48ddc4c253587,openstack/kolla,master,I19447727f19dbd9c0a3e17d218b48ddc4c253587,Fix ownership of ironic inspector DHCP hostsdir,MERGED,2019-06-07 17:52:38.000000000,2019-06-18 17:43:10.000000000,2019-06-18 09:57:59.000000000,"[{'_account_id': 14826}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 23294}, {'_account_id': 24072}, {'_account_id': 25314}, {'_account_id': 27781}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-06-07 17:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8b20fb9ca37c29176a89a7cf841280971eaa65cd', 'message': ""Fix ownership of ironic inspector DHCP hostsdir\n\nIf you run with enable_ironic set to true and\nironic_inspector_pxe_filter set to dnsmasq (the default in stein),\nironic inspector can fail with the following in the logs:\n\nPermission denied: u'/var/lib/ironic-inspector/dhcp-hostsdir/<MAC address>'\n\nA node must be registered with a port for this to happen.\n\nWeirdly this happens on centos/source, ubuntu/source, and ubuntu/binary,\nbut not centos/binary.\n\nThis change changes the ownership of\n/var/lib/ironic-inspector/dhcp-hostsdir to ironic-inspector user to make\nit writeable.\n\nChange-Id: I19447727f19dbd9c0a3e17d218b48ddc4c253587\nCloses-Bug: #1832026\n""}, {'number': 2, 'created': '2019-06-09 16:40:28.000000000', 'files': ['docker/ironic-inspector/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/41bcd7b4961fd52066b79804fdce9f81cc129735', 'message': ""Fix ownership of ironic inspector DHCP hostsdir\n\nIf you run with enable_ironic set to true and\nironic_inspector_pxe_filter set to dnsmasq (the default in stein),\nironic inspector can fail with the following in the logs:\n\nPermission denied: u'/var/lib/ironic-inspector/dhcp-hostsdir/<MAC address>'\n\nA node must be registered with a port for this to happen.\n\nWeirdly this happens on centos/source, ubuntu/source, and ubuntu/binary,\nbut not centos/binary.\n\nThis change changes the ownership of\n/var/lib/ironic-inspector/dhcp-hostsdir to ironic-inspector user to make\nit writeable.\n\nChange-Id: I19447727f19dbd9c0a3e17d218b48ddc4c253587\nCloses-Bug: #1832026\n""}]",0,664011,41bcd7b4961fd52066b79804fdce9f81cc129735,20,11,2,14826,,,0,"Fix ownership of ironic inspector DHCP hostsdir

If you run with enable_ironic set to true and
ironic_inspector_pxe_filter set to dnsmasq (the default in stein),
ironic inspector can fail with the following in the logs:

Permission denied: u'/var/lib/ironic-inspector/dhcp-hostsdir/<MAC address>'

A node must be registered with a port for this to happen.

Weirdly this happens on centos/source, ubuntu/source, and ubuntu/binary,
but not centos/binary.

This change changes the ownership of
/var/lib/ironic-inspector/dhcp-hostsdir to ironic-inspector user to make
it writeable.

Change-Id: I19447727f19dbd9c0a3e17d218b48ddc4c253587
Closes-Bug: #1832026
",git fetch https://review.opendev.org/openstack/kolla refs/changes/11/664011/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/ironic-inspector/extend_start.sh'],1,8b20fb9ca37c29176a89a7cf841280971eaa65cd,bug/1832026,if [[ -d /var/lib/ironic-inspector/dhcp-hostsdir/ ]]; then chown ironic-inspector:ironic-inspector /var/lib/ironic-inspector/dhcp-hostsdir/ fi ,,4,0
openstack%2Fkeystone-specs~master~I95c094f4d4df2e44cd23d2715275199a4e6c8200,openstack/keystone-specs,master,I95c094f4d4df2e44cd23d2715275199a4e6c8200,Move SP endpoint filters spec to attic,MERGED,2019-05-13 18:50:20.000000000,2019-06-18 17:40:46.000000000,2019-06-18 17:40:46.000000000,"[{'_account_id': 5046}, {'_account_id': 11022}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-05-13 18:50:20.000000000', 'files': ['attic/keystone-specs/service-providers-filters.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/3d575d2d9d8473ff3b32eb6665118ddb11f08f7e', 'message': ""Move SP endpoint filters spec to attic\n\nAs discussed at the PTG, we don't want to focus on expanding the scope\nof endpoint filtering, so rather than keep it in the backlog to wait for\nsomeone to pick it up, move it to the attic to signal that this is not\nsomething we want to prioritize. If we decide this is valuable and\nsomeone is willing to pick it up, we can always move it back out of the\nattic.\n\nChange-Id: I95c094f4d4df2e44cd23d2715275199a4e6c8200\n""}]",0,658893,3d575d2d9d8473ff3b32eb6665118ddb11f08f7e,9,4,1,8482,,,0,"Move SP endpoint filters spec to attic

As discussed at the PTG, we don't want to focus on expanding the scope
of endpoint filtering, so rather than keep it in the backlog to wait for
someone to pick it up, move it to the attic to signal that this is not
something we want to prioritize. If we decide this is valuable and
someone is willing to pick it up, we can always move it back out of the
attic.

Change-Id: I95c094f4d4df2e44cd23d2715275199a4e6c8200
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/93/658893/1 && git format-patch -1 --stdout FETCH_HEAD,['attic/keystone-specs/service-providers-filters.rst'],1,3d575d2d9d8473ff3b32eb6665118ddb11f08f7e,sp-filters-attic,,,0,0
openstack%2Fkolla-ansible~master~I330999be577d6416df162ea33fa1f7a19df56029,openstack/kolla-ansible,master,I330999be577d6416df162ea33fa1f7a19df56029,Fix mongo command for supporting other port,MERGED,2019-06-16 10:41:45.000000000,2019-06-18 17:40:02.000000000,2019-06-18 17:40:02.000000000,"[{'_account_id': 14826}, {'_account_id': 21757}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-16 10:41:45.000000000', 'files': ['ansible/roles/mongodb/tasks/bootstrap_cluster.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f7bfce20ada638b80bf06d0a8134ca9e01dea273', 'message': 'Fix mongo command for supporting other port\n\nIf we change mongodb_port, the command for bootstraping mongodb\nshould not connect to the default mongodb port 27017.\n\nChange-Id: I330999be577d6416df162ea33fa1f7a19df56029\n'}]",0,665538,f7bfce20ada638b80bf06d0a8134ca9e01dea273,13,5,1,21757,,,0,"Fix mongo command for supporting other port

If we change mongodb_port, the command for bootstraping mongodb
should not connect to the default mongodb port 27017.

Change-Id: I330999be577d6416df162ea33fa1f7a19df56029
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/665538/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/mongodb/tasks/bootstrap_cluster.yml'],1,f7bfce20ada638b80bf06d0a8134ca9e01dea273,mongodb_command," command: ""docker exec -t mongodb mongo --host {{ api_interface_address }} --port {{ mongodb_port }} --quiet --eval '{{ lookup('file','/tmp/mongodb_bootstrap_replication_set.js') }}'"""," command: ""docker exec -t mongodb mongo {{ api_interface_address }} --quiet --eval '{{ lookup('file','/tmp/mongodb_bootstrap_replication_set.js') }}'""",1,1
openstack%2Fopenstack-ansible-os_tempest~stable%2Fstein~I3cdfe48cae28969dea381bfa325c4bb4769fb4d1,openstack/openstack-ansible-os_tempest,stable/stein,I3cdfe48cae28969dea381bfa325c4bb4769fb4d1,Set default tempest_install_method for meta handlers,MERGED,2019-06-17 06:59:28.000000000,2019-06-18 17:31:01.000000000,2019-06-18 17:31:01.000000000,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-17 06:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/c8261851e15045ca81fe733637ad9fa90efff50b', 'message': 'Set default tempest_install_method for meta handlers\n\nFor non-integrated tests tempest_install_method is not defined,\nso when python_venv_build tries to launch meta handler, it fails with\nundefined variable. Once default is set, this will prevent problems\n\nDepends-On: https://review.opendev.org/665489/\n\nChange-Id: I3cdfe48cae28969dea381bfa325c4bb4769fb4d1\n(cherry picked from commit 7e6d40ccf15d870fdfd59636081603d330476015)\n'}, {'number': 2, 'created': '2019-06-17 07:01:46.000000000', 'files': ['tasks/tempest_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/b9e97cb4873c5036b86e28e79b61555a698edf29', 'message': 'Set default tempest_install_method for meta handlers\n\nFor non-integrated tests tempest_install_method is not defined,\nso when python_venv_build tries to launch meta handler, it fails with\nundefined variable. Once default is set, this will prevent problems\n\nDepends-On: https://review.opendev.org/665489/\n\nChange-Id: I3cdfe48cae28969dea381bfa325c4bb4769fb4d1\n(cherry picked from commit 7e6d40ccf15d870fdfd59636081603d330476015)\n'}]",0,665595,b9e97cb4873c5036b86e28e79b61555a698edf29,10,5,2,28619,,,0,"Set default tempest_install_method for meta handlers

For non-integrated tests tempest_install_method is not defined,
so when python_venv_build tries to launch meta handler, it fails with
undefined variable. Once default is set, this will prevent problems

Depends-On: https://review.opendev.org/665489/

Change-Id: I3cdfe48cae28969dea381bfa325c4bb4769fb4d1
(cherry picked from commit 7e6d40ccf15d870fdfd59636081603d330476015)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/95/665595/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/tempest_install.yml'],1,c8261851e15045ca81fe733637ad9fa90efff50b,, # NOTE(noonedeadpunk): # Applying default filter for tempest_install_method is required despite the variable being defined # in defaults as in case of non-integrated tests meta handlers from other roles might fail. import_tasks: tempest_install_source.yml when: (tempest_install_method | default('source')) == 'source', include_tasks: tempest_install_source.yml when: tempest_install_method == 'source',6,2
openstack%2Fopenstack-ansible~stable%2Frocky~I11589d8bc55d1d9320037a2ca0b294d99f7fbadd,openstack/openstack-ansible,stable/rocky,I11589d8bc55d1d9320037a2ca0b294d99f7fbadd,Remove openSUSE Leap 42.3 jobs,ABANDONED,2019-05-20 09:59:59.000000000,2019-06-18 17:28:13.000000000,,"[{'_account_id': 6593}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-20 09:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/139053f79c2b03a6f63df491b0d5b667d8a416e8', 'message': ""Remove openSUSE Leap 42.3 jobs\n\nopenSUSE Leap 42.3 ends November 2019, so for master we don't want to\nmaintain the old version of openSUSE any longer. Also includes\nparts of Change Iea81339907303f3840761a6ee1d89e6f46165f3c of reming\nthe _lxc jobs for opensuse 15 as they have currently no chance\nof succeeding on leap 15.0 because networkd is not available here.\n\nChange-Id: I11589d8bc55d1d9320037a2ca0b294d99f7fbadd\n""}, {'number': 2, 'created': '2019-05-20 13:21:27.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e86a44bd396d8a1012625b92d0fbdf6c26599d0f', 'message': ""Remove openSUSE Leap 42.3 jobs\n\nopenSUSE Leap 42.3 ends November 2019, so we don't want to\nmaintain the old version of openSUSE any longer. Also includes\nparts of Change Iea81339907303f3840761a6ee1d89e6f46165f3c of removing\nthe _lxc jobs for opensuse 15 as they have currently no chance\nof succeeding on leap 15.0 because networkd is not available here.\n\nChange-Id: I11589d8bc55d1d9320037a2ca0b294d99f7fbadd\n""}]",5,660073,e86a44bd396d8a1012625b92d0fbdf6c26599d0f,9,4,2,6593,,,0,"Remove openSUSE Leap 42.3 jobs

openSUSE Leap 42.3 ends November 2019, so we don't want to
maintain the old version of openSUSE any longer. Also includes
parts of Change Iea81339907303f3840761a6ee1d89e6f46165f3c of removing
the _lxc jobs for opensuse 15 as they have currently no chance
of succeeding on leap 15.0 because networkd is not available here.

Change-Id: I11589d8bc55d1d9320037a2ca0b294d99f7fbadd
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/73/660073/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,139053f79c2b03a6f63df491b0d5b667d8a416e8,,, name: openstack-ansible-deploy-aio_lxc-opensuse-423 parent: openstack-ansible-deploy-aio nodeset: opensuse-423 - job: name: openstack-ansible-deploy-aio_distro_lxc-opensuse-423 parent: openstack-ansible-deploy-aio nodeset: opensuse-423 vars: install_method: distro - job: name: openstack-ansible-upgrade-aio_lxc-opensuse-423 parent: openstack-ansible-deploy-aio nodeset: opensuse-423 timeout: 10800 vars: action: upgrade scenario: aio_lxc - job: name: openstack-ansible-deploy-aio_lxc-opensuse-150 parent: openstack-ansible-deploy-aio nodeset: opensuse-150 - job: name: openstack-ansible-deploy-aio_distro_lxc-opensuse-150 parent: openstack-ansible-deploy-aio nodeset: opensuse-150 vars: install_method: distro - job:,0,42
openstack%2Fopenstack-ansible-os_cinder~stable%2Fstein~Id3c9d4596a443f4d1e9e9090cc2da3650385a98b,openstack/openstack-ansible-os_cinder,stable/stein,Id3c9d4596a443f4d1e9e9090cc2da3650385a98b,release: added release note for ceph backend issue,MERGED,2019-06-18 16:56:56.000000000,2019-06-18 17:21:01.000000000,2019-06-18 17:21:01.000000000,"[{'_account_id': 22348}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-18 16:56:56.000000000', 'files': ['releasenotes/notes/ceph-backend-host-change-968edfbc15b59b0a.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/2b274c775806c1cbe015a718afd0ee6f9f0b5960', 'message': 'release: added release note for ceph backend issue\n\nThis patch adds a release note to warn users about the possible\nissue with Cinder and RBD with the new behaviour of backend_host.\n\nChange-Id: Id3c9d4596a443f4d1e9e9090cc2da3650385a98b\n(cherry picked from commit 6132d03c19e7f8780fbab84ed791b2477eb9a1e5)\n'}]",0,666056,2b274c775806c1cbe015a718afd0ee6f9f0b5960,7,3,1,1004,,,0,"release: added release note for ceph backend issue

This patch adds a release note to warn users about the possible
issue with Cinder and RBD with the new behaviour of backend_host.

Change-Id: Id3c9d4596a443f4d1e9e9090cc2da3650385a98b
(cherry picked from commit 6132d03c19e7f8780fbab84ed791b2477eb9a1e5)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/56/666056/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/ceph-backend-host-change-968edfbc15b59b0a.yaml'],1,2b274c775806c1cbe015a718afd0ee6f9f0b5960,,"--- issues: - Due to a change in how backend_host is defined when using Ceph, all the Cinder volumes will restart under the same backend name. This will mean that any volumes which previously were assigned to the host or container that hosted the volume will no longer be managable. The workaround for this is to use the `cinder-manage volume update_host` command to move those volumes to the new backend host. This known issue will be resolved soon with an upgrade playbook. ",,9,0
openstack%2Fopenstack-ansible-os_monasca~master~I7f8ec629291952e0f0c5d4afbca3ce4bf92e2a41,openstack/openstack-ansible-os_monasca,master,I7f8ec629291952e0f0c5d4afbca3ce4bf92e2a41,Cap sphinx for py2 to match global requirements,ABANDONED,2019-06-07 02:15:18.000000000,2019-06-18 17:15:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-07 02:15:18.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_monasca/commit/ddf161ffae96f66bba131f7a6f585ab0645b05fa', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I7f8ec629291952e0f0c5d4afbca3ce4bf92e2a41\n'}]",0,663822,ddf161ffae96f66bba131f7a6f585ab0645b05fa,3,1,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I7f8ec629291952e0f0c5d4afbca3ce4bf92e2a41
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_monasca refs/changes/22/663822/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,ddf161ffae96f66bba131f7a6f585ab0645b05fa,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Frpm-packaging~stable%2Frocky~Icf1e22358c71af75fdd3e5454cba810b6743873b,openstack/rpm-packaging,stable/rocky,Icf1e22358c71af75fdd3e5454cba810b6743873b,Use latest stable rocky for vmware-nsx,MERGED,2019-06-14 12:51:18.000000000,2019-06-18 17:15:27.000000000,2019-06-18 17:15:27.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27532}]","[{'number': 1, 'created': '2019-06-14 12:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/895eeb51d9f11866eb248f87dca149a4b85a62b2', 'message': 'Use latest stable rocky for vmware-nsx\n\nChange-Id: Icf1e22358c71af75fdd3e5454cba810b6743873b\n'}, {'number': 2, 'created': '2019-06-18 10:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/599b45c1c2e9bfb5c076e6073ce6304b669a84a7', 'message': 'Use latest stable rocky for vmware-nsx\n\nChange-Id: Icf1e22358c71af75fdd3e5454cba810b6743873b\n'}, {'number': 3, 'created': '2019-06-18 10:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/38d6b666ea644eb5328503db8f1ae07c908e7669', 'message': 'Use latest stable rocky for vmware-nsx\n\nChange-Id: Icf1e22358c71af75fdd3e5454cba810b6743873b\n'}, {'number': 4, 'created': '2019-06-18 11:09:56.000000000', 'files': ['openstack/vmware-nsxlib/vmware-nsxlib.spec.j2', 'openstack/vmware-nsx/vmware-nsx.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4eb6dea20a0474d0cd5b184a9c9a81484dd1aae5', 'message': 'Use latest stable rocky for vmware-nsx\n\nChange-Id: Icf1e22358c71af75fdd3e5454cba810b6743873b\n'}]",2,665375,4eb6dea20a0474d0cd5b184a9c9a81484dd1aae5,24,7,4,27532,,,0,"Use latest stable rocky for vmware-nsx

Change-Id: Icf1e22358c71af75fdd3e5454cba810b6743873b
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/75/665375/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/vmware-nsxlib/vmware-nsxlib.spec.j2', 'openstack/vmware-nsx/vmware-nsx.spec.j2']",2,895eeb51d9f11866eb248f87dca149a4b85a62b2,,{% set source = fetch_source('https://tarballs.openstack.org/vmware-nsx/vmware-nsx-stable-rocky.tar.gz') %} {% set upstream_version = upstream_version() %},{% set upstream_version = upstream_version('13.0.0') %}{% set source = url_pypi() %},4,4
openstack%2Frpm-packaging~stable%2Fstein~I1aeefe1d5ebdb6a0909ddc4f9319d30c6292a60b,openstack/rpm-packaging,stable/stein,I1aeefe1d5ebdb6a0909ddc4f9319d30c6292a60b,Use latest stable stein for vmware-nsx,MERGED,2019-06-14 12:52:05.000000000,2019-06-18 17:15:26.000000000,2019-06-18 17:15:26.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27532}]","[{'number': 1, 'created': '2019-06-14 12:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ff3fa0e00486e1d155a1f354ef593f7de0fdcd51', 'message': 'Use latest stable stein for vomware-nsx\n\nChange-Id: I1aeefe1d5ebdb6a0909ddc4f9319d30c6292a60b\n'}, {'number': 2, 'created': '2019-06-14 12:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f167fa273c5ba5d6ec96adc60d2e5ee6a3cef29c', 'message': 'Use latest stable stein for vmware-nsx\n\nChange-Id: I1aeefe1d5ebdb6a0909ddc4f9319d30c6292a60b\n'}, {'number': 3, 'created': '2019-06-14 13:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3ebd665066c6139ab5b124e87f7e719722fb2611', 'message': 'Use latest stable stein for vmware-nsx\n\nChange-Id: I1aeefe1d5ebdb6a0909ddc4f9319d30c6292a60b\n'}, {'number': 4, 'created': '2019-06-14 14:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/805fe448b7d2f9692341c590bfe61b89e8b2c501', 'message': 'Use latest stable stein for vmware-nsx\n\nChange-Id: I1aeefe1d5ebdb6a0909ddc4f9319d30c6292a60b\n'}, {'number': 5, 'created': '2019-06-18 10:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/cbc9244b43b9bdeebc717cf867e99c693bdd3e8e', 'message': 'Use latest stable stein for vmware-nsx\n\nChange-Id: I1aeefe1d5ebdb6a0909ddc4f9319d30c6292a60b\n'}, {'number': 6, 'created': '2019-06-18 10:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/78c6a9e3b3f25d9153f229a878726a01c890c875', 'message': 'Use latest stable stein for vmware-nsx\n\nChange-Id: I1aeefe1d5ebdb6a0909ddc4f9319d30c6292a60b\n'}, {'number': 7, 'created': '2019-06-18 11:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/793b46c82a3ef109c32f137d6b509071ca1e8a57', 'message': 'Use latest stable stein for vmware-nsx\n\nChange-Id: I1aeefe1d5ebdb6a0909ddc4f9319d30c6292a60b\n'}, {'number': 8, 'created': '2019-06-18 11:46:30.000000000', 'files': ['openstack/vmware-nsxlib/vmware-nsxlib.spec.j2', 'openstack/vmware-nsx/vmware-nsx.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8739ba1bfb39062544c37401e5608aad6049d3e9', 'message': 'Use latest stable stein for vmware-nsx\n\nChange-Id: I1aeefe1d5ebdb6a0909ddc4f9319d30c6292a60b\n'}]",3,665376,8739ba1bfb39062544c37401e5608aad6049d3e9,34,7,8,27532,,,0,"Use latest stable stein for vmware-nsx

Change-Id: I1aeefe1d5ebdb6a0909ddc4f9319d30c6292a60b
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/76/665376/8 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/vmware-nsxlib/vmware-nsxlib.spec.j2', 'openstack/vmware-nsx/vmware-nsx.spec.j2']",2,ff3fa0e00486e1d155a1f354ef593f7de0fdcd51,,{% set source = fetch_source('https://tarballs.openstack.org/vmware-nsx/vmware-nsx-stable-stein.tar.gz') %} {% set upstream_version = upstream_version() %},{% set upstream_version = upstream_version('13.0.0') %}{% set source = url_pypi() %},4,4
openstack%2Fapi-site~master~I12ab3ba42683f9f75189ab597b9768ae5ec7a3fb,openstack/api-site,master,I12ab3ba42683f9f75189ab597b9768ae5ec7a3fb,Sync Sphinx requirement,MERGED,2019-06-18 14:18:15.000000000,2019-06-18 17:12:01.000000000,2019-06-18 17:12:01.000000000,"[{'_account_id': 16006}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 14:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/97ded201f06fc268fe7bdfe3f49120470fa7d68f', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Update some URLs to latest\n\nChange-Id: I12ab3ba42683f9f75189ab597b9768ae5ec7a3fb\n'}, {'number': 2, 'created': '2019-06-18 14:22:15.000000000', 'files': ['api-quick-start/source/api-quick-start.rst', 'api-quick-start/source/index.rst', 'test-requirements.txt', 'README.rst'], 'web_link': 'https://opendev.org/openstack/api-site/commit/67d9a7711b5926729267aa9652b705ef769d7be3', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Update some URLs to latest\n\nChange-Id: I12ab3ba42683f9f75189ab597b9768ae5ec7a3fb\n'}]",0,665992,67d9a7711b5926729267aa9652b705ef769d7be3,10,3,2,28614,,,0,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Update some URLs to latest

Change-Id: I12ab3ba42683f9f75189ab597b9768ae5ec7a3fb
",git fetch https://review.opendev.org/openstack/api-site refs/changes/92/665992/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-quick-start/source/api-quick-start.rst', 'api-quick-start/source/index.rst', 'test-requirements.txt']",3,97ded201f06fc268fe7bdfe3f49120470fa7d68f,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",sphinx>=1.6.2 # BSD,5,4
openstack%2Frpm-packaging~master~Iddca5bd7e7d27006e747f9d5808291b4a40c1286,openstack/rpm-packaging,master,Iddca5bd7e7d27006e747f9d5808291b4a40c1286,update oslo.serialization to 2.29.1,MERGED,2019-06-12 07:30:21.000000000,2019-06-18 17:04:36.000000000,2019-06-18 17:04:36.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28654}]","[{'number': 1, 'created': '2019-06-12 07:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/30152447e5d1bb0d883e2a2ec777badbf6f68690', 'message': 'update oslo.serialization to 2.29.1\n\nChange-Id: Iddca5bd7e7d27006e747f9d5808291b4a40c1286\n'}, {'number': 2, 'created': '2019-06-13 00:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/73771b9cb9e76390d4fcffdfeffd581644ede680', 'message': 'update oslo.serialization to 2.29.1\n\nChange-Id: Iddca5bd7e7d27006e747f9d5808291b4a40c1286\n'}, {'number': 3, 'created': '2019-06-13 11:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7df55b468ff7532a8df06d393d65615fe261cd8b', 'message': 'update oslo.serialization to 2.29.1\n\nChange-Id: Iddca5bd7e7d27006e747f9d5808291b4a40c1286\n'}, {'number': 4, 'created': '2019-06-14 01:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/43194c593a0dfc378571846951d4e5959f682f21', 'message': 'update oslo.serialization to 2.29.1\n\nChange-Id: Iddca5bd7e7d27006e747f9d5808291b4a40c1286\n'}, {'number': 5, 'created': '2019-06-17 09:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/818e134c0304fb7c74e59b658847d415635e22b3', 'message': 'update oslo.serialization to 2.29.1\n\nChange-Id: Iddca5bd7e7d27006e747f9d5808291b4a40c1286\n'}, {'number': 6, 'created': '2019-06-18 07:46:46.000000000', 'files': ['openstack/oslo.serialization/0001-Explicitly-set-default_flow_style-to-False.patch', 'openstack/oslo.serialization/oslo.serialization.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/aa76c6ad2da978e8ac9ca4b23234cdfca1fc3d18', 'message': 'update oslo.serialization to 2.29.1\n\nChange-Id: Iddca5bd7e7d27006e747f9d5808291b4a40c1286\n'}]",2,664810,aa76c6ad2da978e8ac9ca4b23234cdfca1fc3d18,38,8,6,28654,,,0,"update oslo.serialization to 2.29.1

Change-Id: Iddca5bd7e7d27006e747f9d5808291b4a40c1286
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/10/664810/6 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.serialization/oslo.serialization.spec.j2'],1,30152447e5d1bb0d883e2a2ec777badbf6f68690,oslo.serialization,{% set upstream_version = upstream_version('2.29.1') %},{% set upstream_version = upstream_version('2.29.0') %},1,1
openstack%2Frpm-packaging~master~I807d4be8f1cedb8c719465a25f5e21d8af8fa115,openstack/rpm-packaging,master,I807d4be8f1cedb8c719465a25f5e21d8af8fa115,Avoid double-fetching tarball race with nsx packages,MERGED,2019-06-18 07:45:30.000000000,2019-06-18 17:04:35.000000000,2019-06-18 17:04:35.000000000,"[{'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-18 07:45:30.000000000', 'files': ['openstack/vmware-nsxlib/vmware-nsxlib.spec.j2', 'openstack/vmware-nsx/vmware-nsx.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c544f2f7c2f81b0cdc8af998d2e3c3d9bf474c33', 'message': 'Avoid double-fetching tarball race with nsx packages\n\nwithout basename, there are two times when the tarball\nis being fetched, and hence the version numbers can go\nout of sync in the SUSE CI. This is avoided by not having a full url\nin the Source line.\n\nChange-Id: I807d4be8f1cedb8c719465a25f5e21d8af8fa115\n'}]",0,665895,c544f2f7c2f81b0cdc8af998d2e3c3d9bf474c33,9,5,1,6593,,,0,"Avoid double-fetching tarball race with nsx packages

without basename, there are two times when the tarball
is being fetched, and hence the version numbers can go
out of sync in the SUSE CI. This is avoided by not having a full url
in the Source line.

Change-Id: I807d4be8f1cedb8c719465a25f5e21d8af8fa115
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/95/665895/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/vmware-nsxlib/vmware-nsxlib.spec.j2', 'openstack/vmware-nsx/vmware-nsx.spec.j2']",2,c544f2f7c2f81b0cdc8af998d2e3c3d9bf474c33,,Source0: {{ source|basename }},Source0: {{ source }},2,2
openstack%2Ftripleo-validations~master~I9e04b20cfa63d8d60c3a92cf2ff05b3c7c470e54,openstack/tripleo-validations,master,I9e04b20cfa63d8d60c3a92cf2ff05b3c7c470e54,Update the Undercloud Services list for the uc-service-status role,MERGED,2019-06-14 12:39:14.000000000,2019-06-18 17:04:19.000000000,2019-06-18 17:03:33.000000000,"[{'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-14 12:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/13e26ee40f2f0e552a6cf5873a99ad87d2d24470', 'message': ""Update the Undercloud Services list in the inventory.\n\nSince Stein, the name of the OpenStack services on the Undercloud have\nbeen renamed as 'tripleo_*.service'. This patch makes the Undercloud\nservice names evolve accordingly.\n\nDepends-On: I7c290f908fd685b801f49ba80531c14ce54677bd\nChange-Id: I9e04b20cfa63d8d60c3a92cf2ff05b3c7c470e54\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 2, 'created': '2019-06-14 12:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/07a274c2c69c5346ce48d6baf7002915c4b467b8', 'message': ""Update the Undercloud Services list for the uc-service-status role\n\nSince Stein, the name of the OpenStack services on the Undercloud have\nbeen renamed as 'tripleo_*.service'. This patch makes the Undercloud\nservice names evolve accordingly.\n\nDepends-On: I7c290f908fd685b801f49ba80531c14ce54677bd\nChange-Id: I9e04b20cfa63d8d60c3a92cf2ff05b3c7c470e54\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 3, 'created': '2019-06-18 06:53:32.000000000', 'files': ['roles/undercloud-service-status/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d5e948fcc1d087ffe01fa33240caff0394525c2b', 'message': ""Update the Undercloud Services list for the uc-service-status role\n\nSince Stein, the name of the OpenStack services on the Undercloud have\nbeen renamed as 'tripleo_*.service'. This patch makes the Undercloud\nservice names evolve accordingly.\n\nChange-Id: I9e04b20cfa63d8d60c3a92cf2ff05b3c7c470e54\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}]",0,665370,d5e948fcc1d087ffe01fa33240caff0394525c2b,15,4,3,11491,,,0,"Update the Undercloud Services list for the uc-service-status role

Since Stein, the name of the OpenStack services on the Undercloud have
been renamed as 'tripleo_*.service'. This patch makes the Undercloud
service names evolve accordingly.

Change-Id: I9e04b20cfa63d8d60c3a92cf2ff05b3c7c470e54
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/70/665370/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-service-status/defaults/main.yml'],1,13e26ee40f2f0e552a6cf5873a99ad87d2d24470,undercloud-service-status,undercloud_service_list: - tripleo_nova_compute - tripleo_heat_engine - tripleo_ironic_conductor - tripleo_swift_container_server - tripleo_swift_object_server - tripleo_mistral_engine, undercloud_service_list: - openstack-nova-compute - openstack-heat-engine - openstack-ironic-conductor - openstack-swift-container - openstack-swift-object - openstack-mistral-engine,6,7
openstack%2Fkolla-ansible~master~I76a6dd84e78277f87b04951eb4e75bbdfc1c38bf,openstack/kolla-ansible,master,I76a6dd84e78277f87b04951eb4e75bbdfc1c38bf,Do not create Keystone domain-specific config directory if useless,MERGED,2019-06-14 16:07:25.000000000,2019-06-18 17:04:11.000000000,2019-06-18 17:02:08.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-06-14 16:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1e4bff16d3b36bc571b4aeb997b04f896b103a93', 'message': 'Do not create Keystone domain-specific config directory if config not supplied\n\nThe task was duplicated below (and this other one is conditional).\nAdditionally fix related tasks names.\n\nChange-Id: I76a6dd84e78277f87b04951eb4e75bbdfc1c38bf\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-06-14 16:08:41.000000000', 'files': ['ansible/roles/keystone/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5729af8ab726f364301fd849208cdcf7c27976d1', 'message': 'Do not create Keystone domain-specific config directory if useless\n\nThe task was duplicated below (and this other one is conditional).\nAdditionally fix related tasks names.\n\nChange-Id: I76a6dd84e78277f87b04951eb4e75bbdfc1c38bf\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,665423,5729af8ab726f364301fd849208cdcf7c27976d1,13,3,2,30491,,,0,"Do not create Keystone domain-specific config directory if useless

The task was duplicated below (and this other one is conditional).
Additionally fix related tasks names.

Change-Id: I76a6dd84e78277f87b04951eb4e75bbdfc1c38bf
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/23/665423/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/keystone/tasks/config.yml'],1,1e4bff16d3b36bc571b4aeb997b04f896b103a93,keystone-multiple-domains,- name: Check if Keystone domain-specific config is supplied- name: Create Keystone domain-specific config directory,"- name: Check if Keystone Domain specific settings enabled- name: Creating Keystone Domain directory vars: keystone: ""{{ keystone_services.keystone }}"" file: dest: ""{{ node_config_directory }}/keystone/domains/"" state: ""directory"" mode: ""0770"" become: true when: - inventory_hostname in groups[keystone.group] - keystone.enabled | bool - name: Creating Keystone Domain directory",2,14
openstack%2Fkuryr-kubernetes~master~Ia241fb5b2937c63d3ed6e3de1ac3003e370e4db6,openstack/kuryr-kubernetes,master,Ia241fb5b2937c63d3ed6e3de1ac3003e370e4db6,Implement kuryr-cni in golang,MERGED,2019-06-04 16:12:25.000000000,2019-06-18 16:59:29.000000000,2019-06-18 16:59:29.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-06-04 16:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/038cf1bd1b00549aee2dc0bd78742db75abfc8bb', 'message': ""Implement kuryr-cni in golang\n\nThis commit reimplements the kuryr-cni, that is the actual CNI plugin\nthat gets called by kubelet and passes the request to kuryr-daemon, in\ngolang. This means that it can injected as a binary without any\ndependencies, instead of using a bash script that looks for ID of\nkuryr-daemon container and does `docker exec` to run Python kuryr-cni\ninside. The obvious advantage of that is removing a constraint of\npython, curl and docker/runc binaries being available on any K8s host\nthat runs Kuryr. This enables integration with Magnum, where kubelet\nruns in such a minimal container. Besides that injecting a binary is way\nmore elegant and less error-prone.\n\nThe golang implementation should keep the compatibility with Python one.\nAlso currently only containerized jobs are switched to use it, so Python\nimplementation is still kept in the repo. I'm not against removing it in\nvery near future.\n\nPlease note that there is an important limitation to the Python\nimplementation - i.e. in case of golang binary running on K8s host, we\ndon't have an easy access to kuryr.conf, meaning that localhost:50036 is\ncurrently hardcoded as the kuryr-daemon endpoint. This should be fixed\nby putting the configured endpoint into 10-kuryr.conf file that gets\ninjected onto the host by cni_ds_init script.\n\nImplements: blueprint golang-kuryr-cni\nChange-Id: Ia241fb5b2937c63d3ed6e3de1ac3003e370e4db6\n""}, {'number': 2, 'created': '2019-06-04 16:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c099a4e473eadd758e32fc881354216386e60aa6', 'message': ""Implement kuryr-cni in golang\n\nThis commit reimplements the kuryr-cni, that is the actual CNI plugin\nthat gets called by kubelet and passes the request to kuryr-daemon, in\ngolang. This means that it can injected as a binary without any\ndependencies, instead of using a bash script that looks for ID of\nkuryr-daemon container and does `docker exec` to run Python kuryr-cni\ninside. The obvious advantage of that is removing a constraint of\npython, curl and docker/runc binaries being available on any K8s host\nthat runs Kuryr. This enables integration with Magnum, where kubelet\nruns in such a minimal container. Besides that injecting a binary is way\nmore elegant and less error-prone.\n\nThe golang implementation should keep the compatibility with Python one.\nAlso currently only containerized jobs are switched to use it, so Python\nimplementation is still kept in the repo. I'm not against removing it in\nvery near future.\n\nPlease note that there is an important limitation to the Python\nimplementation - i.e. in case of golang binary running on K8s host, we\ndon't have an easy access to kuryr.conf, meaning that localhost:50036 is\ncurrently hardcoded as the kuryr-daemon endpoint. This should be fixed\nby putting the configured endpoint into 10-kuryr.conf file that gets\ninjected onto the host by cni_ds_init script.\n\nImplements: blueprint golang-kuryr-cni\nChange-Id: Ia241fb5b2937c63d3ed6e3de1ac3003e370e4db6\n""}, {'number': 3, 'created': '2019-06-06 14:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/74f053bd2c3d5083da18d29cc120452a4b239fa6', 'message': ""Implement kuryr-cni in golang\n\nThis commit reimplements the kuryr-cni, that is the actual CNI plugin\nthat gets called by kubelet and passes the request to kuryr-daemon, in\ngolang. This means that it can injected as a binary without any\ndependencies, instead of using a bash script that looks for ID of\nkuryr-daemon container and does `docker exec` to run Python kuryr-cni\ninside. The obvious advantage of that is removing a constraint of\npython, curl and docker/runc binaries being available on any K8s host\nthat runs Kuryr. This enables integration with Magnum, where kubelet\nruns in such a minimal container. Besides that injecting a binary is way\nmore elegant and less error-prone.\n\nThe golang implementation should keep the compatibility with Python one.\nAlso currently only containerized jobs are switched to use it, so Python\nimplementation is still kept in the repo. I'm not against removing it in\nvery near future.\n\nPlease note that there is an important limitation in comparison to the\nPython implementation - i.e. in case of golang binary running on K8s\nhost, we don't have an easy access to kuryr.conf, meaning that\nlocalhost:50036 is currently hardcoded as the kuryr-daemon endpoint.\nThis should be fixed by putting the configured endpoint into\n10-kuryr.conf file that gets injected onto the host by cni_ds_init\nscript.\n\nImplements: blueprint golang-kuryr-cni\nChange-Id: Ia241fb5b2937c63d3ed6e3de1ac3003e370e4db6\n""}, {'number': 4, 'created': '2019-06-06 14:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9d339a39b02e6a63b6b41b59763f3414d3c9a396', 'message': ""Implement kuryr-cni in golang\n\nThis commit reimplements the kuryr-cni, that is the actual CNI plugin\nthat gets called by kubelet and passes the request to kuryr-daemon, in\ngolang. This means that it can injected as a binary without any\ndependencies, instead of using a bash script that looks for ID of\nkuryr-daemon container and does `docker exec` to run Python kuryr-cni\ninside. The obvious advantage of that is removing a constraint of\npython, curl and docker/runc binaries being available on any K8s host\nthat runs Kuryr. This enables integration with Magnum, where kubelet\nruns in such a minimal container. Besides that injecting a binary is way\nmore elegant and less error-prone.\n\nThe golang implementation should keep the compatibility with Python one.\nAlso currently only containerized jobs are switched to use it, so Python\nimplementation is still kept in the repo. I'm not against removing it in\nvery near future.\n\nPlease note that there is an important limitation in comparison to the\nPython implementation - i.e. in case of golang binary running on K8s\nhost, we don't have an easy access to kuryr.conf, meaning that\nlocalhost:50036 is currently hardcoded as the kuryr-daemon endpoint.\nThis should be fixed by putting the configured endpoint into\n10-kuryr.conf file that gets injected onto the host by cni_ds_init\nscript.\n\nImplements: blueprint golang-kuryr-cni\nChange-Id: Ia241fb5b2937c63d3ed6e3de1ac3003e370e4db6\n""}, {'number': 5, 'created': '2019-06-07 16:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ac9ae18cf237cea2f37dbbcdc08a492eff06a1a1', 'message': ""Implement kuryr-cni in golang\n\nThis commit reimplements the kuryr-cni, that is the actual CNI plugin\nthat gets called by kubelet and passes the request to kuryr-daemon, in\ngolang. This means that it can injected as a binary without any\ndependencies, instead of using a bash script that looks for ID of\nkuryr-daemon container and does `docker exec` to run Python kuryr-cni\ninside. The obvious advantage of that is removing a constraint of\npython, curl and docker/runc binaries being available on any K8s host\nthat runs Kuryr. This enables integration with Magnum, where kubelet\nruns in such a minimal container. Besides that injecting a binary is way\nmore elegant and less error-prone.\n\nThe golang implementation should keep the compatibility with Python one.\nAlso currently only containerized jobs are switched to use it, so Python\nimplementation is still kept in the repo. I'm not against removing it in\nvery near future.\n\nPlease note that there is an important limitation in comparison to the\nPython implementation - i.e. in case of golang binary running on K8s\nhost, we don't have an easy access to kuryr.conf, meaning that\nlocalhost:50036 is currently hardcoded as the kuryr-daemon endpoint.\nThis should be fixed by putting the configured endpoint into\n10-kuryr.conf file that gets injected onto the host by cni_ds_init\nscript.\n\nImplements: blueprint golang-kuryr-cni\nChange-Id: Ia241fb5b2937c63d3ed6e3de1ac3003e370e4db6\n""}, {'number': 6, 'created': '2019-06-10 07:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8dc7862ee14636ee82ff7428a618c7a2d5eb51bb', 'message': ""Implement kuryr-cni in golang\n\nThis commit reimplements the kuryr-cni, that is the actual CNI plugin\nthat gets called by kubelet and passes the request to kuryr-daemon, in\ngolang. This means that it can injected as a binary without any\ndependencies, instead of using a bash script that looks for ID of\nkuryr-daemon container and does `docker exec` to run Python kuryr-cni\ninside. The obvious advantage of that is removing a constraint of\npython, curl and docker/runc binaries being available on any K8s host\nthat runs Kuryr. This enables integration with Magnum, where kubelet\nruns in such a minimal container. Besides that injecting a binary is way\nmore elegant and less error-prone.\n\nThe golang implementation should keep the compatibility with Python one.\nAlso currently only containerized jobs are switched to use it, so Python\nimplementation is still kept in the repo. I'm not against removing it in\nvery near future.\n\nPlease note that there is an important limitation in comparison to the\nPython implementation - i.e. in case of golang binary running on K8s\nhost, we don't have an easy access to kuryr.conf, meaning that\nlocalhost:50036 is currently hardcoded as the kuryr-daemon endpoint.\nThis should be fixed by putting the configured endpoint into\n10-kuryr.conf file that gets injected onto the host by cni_ds_init\nscript.\n\nImplements: blueprint golang-kuryr-cni\nChange-Id: Ia241fb5b2937c63d3ed6e3de1ac3003e370e4db6\n""}, {'number': 7, 'created': '2019-06-17 10:58:45.000000000', 'files': ['cni_py3.Dockerfile', 'kuryr_cni/main.go', 'kuryr_cni/vendor/github.com/containernetworking/cni/pkg/version/reconcile.go', 'kuryr_cni/vendor/github.com/containernetworking/cni/pkg/version/version.go', 'kuryr_cni/vendor/github.com/containernetworking/cni/pkg/types/args.go', 'kuryr_cni/vendor/github.com/containernetworking/cni/pkg/version/conf.go', 'kuryr_cni/vendor/github.com/pkg/errors/README.md', 'kuryr_cni/vendor/github.com/containernetworking/cni/pkg/types/current/types.go', 'kuryr_cni/Gopkg.lock', 'kuryr_cni/vendor/github.com/pkg/errors/errors.go', 'kuryr_cni/vendor/github.com/pkg/errors/LICENSE', 'kuryr_cni/vendor/github.com/containernetworking/cni/pkg/skel/skel.go', 'cni.Dockerfile', 'kuryr_cni/vendor/github.com/containernetworking/cni/pkg/types/020/types.go', 'kuryr_cni/vendor/github.com/pkg/errors/.travis.yml', 'cni_ds_init', 'kuryr_cni/vendor/github.com/pkg/errors/appveyor.yml', 'kuryr_cni/Gopkg.toml', 'kuryr_cni/ovo.go', 'kuryr_cni/vendor/github.com/containernetworking/cni/LICENSE', 'kuryr_cni/vendor/github.com/containernetworking/cni/pkg/version/plugin.go', 'kuryr_cni/README', 'kuryr_cni/vendor/github.com/pkg/errors/.gitignore', 'kuryr_cni/vendor/github.com/pkg/errors/stack.go', 'kuryr_cni/vendor/github.com/containernetworking/cni/pkg/types/types.go'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/245eb078f40def87d37fb64a8101edf538200383', 'message': ""Implement kuryr-cni in golang\n\nThis commit reimplements the kuryr-cni, that is the actual CNI plugin\nthat gets called by kubelet and passes the request to kuryr-daemon, in\ngolang. This means that it can injected as a binary without any\ndependencies, instead of using a bash script that looks for ID of\nkuryr-daemon container and does `docker exec` to run Python kuryr-cni\ninside. The obvious advantage of that is removing a constraint of\npython, curl and docker/runc binaries being available on any K8s host\nthat runs Kuryr. This enables integration with Magnum, where kubelet\nruns in such a minimal container. Besides that injecting a binary is way\nmore elegant and less error-prone.\n\nThe golang implementation should keep the compatibility with Python one.\nAlso currently only containerized jobs are switched to use it, so Python\nimplementation is still kept in the repo. I'm not against removing it in\nvery near future.\n\nPlease note that there is an important limitation in comparison to the\nPython implementation - i.e. in case of golang binary running on K8s\nhost, we don't have an easy access to kuryr.conf, meaning that\nlocalhost:50036 is currently hardcoded as the kuryr-daemon endpoint.\nThis should be fixed by putting the configured endpoint into\n10-kuryr.conf file that gets injected onto the host by cni_ds_init\nscript.\n\nImplements: blueprint golang-kuryr-cni\nChange-Id: Ia241fb5b2937c63d3ed6e3de1ac3003e370e4db6\n""}]",17,663084,245eb078f40def87d37fb64a8101edf538200383,44,6,7,11600,,,0,"Implement kuryr-cni in golang

This commit reimplements the kuryr-cni, that is the actual CNI plugin
that gets called by kubelet and passes the request to kuryr-daemon, in
golang. This means that it can injected as a binary without any
dependencies, instead of using a bash script that looks for ID of
kuryr-daemon container and does `docker exec` to run Python kuryr-cni
inside. The obvious advantage of that is removing a constraint of
python, curl and docker/runc binaries being available on any K8s host
that runs Kuryr. This enables integration with Magnum, where kubelet
runs in such a minimal container. Besides that injecting a binary is way
more elegant and less error-prone.

The golang implementation should keep the compatibility with Python one.
Also currently only containerized jobs are switched to use it, so Python
implementation is still kept in the repo. I'm not against removing it in
very near future.

Please note that there is an important limitation in comparison to the
Python implementation - i.e. in case of golang binary running on K8s
host, we don't have an easy access to kuryr.conf, meaning that
localhost:50036 is currently hardcoded as the kuryr-daemon endpoint.
This should be fixed by putting the configured endpoint into
10-kuryr.conf file that gets injected onto the host by cni_ds_init
script.

Implements: blueprint golang-kuryr-cni
Change-Id: Ia241fb5b2937c63d3ed6e3de1ac3003e370e4db6
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/84/663084/5 && git format-patch -1 --stdout FETCH_HEAD,"['cni_py3.Dockerfile', 'kuryr_cni/main.go', 'kuryr_cni/vendor/github.com/containernetworking/cni/pkg/version/reconcile.go', 'kuryr_cni/vendor/github.com/containernetworking/cni/pkg/version/version.go', 'kuryr_cni/vendor/github.com/containernetworking/cni/pkg/types/args.go', 'kuryr_cni/vendor/github.com/containernetworking/cni/pkg/version/conf.go', 'kuryr_cni/vendor/github.com/pkg/errors/README.md', 'kuryr_cni/vendor/github.com/containernetworking/cni/pkg/types/current/types.go', 'kuryr_cni/Gopkg.lock', 'kuryr_cni/vendor/github.com/pkg/errors/errors.go', 'kuryr_cni/vendor/github.com/pkg/errors/LICENSE', 'kuryr_cni/vendor/github.com/containernetworking/cni/pkg/skel/skel.go', 'cni.Dockerfile', 'kuryr_cni/vendor/github.com/containernetworking/cni/pkg/types/020/types.go', 'kuryr_cni/vendor/github.com/pkg/errors/.travis.yml', 'cni_ds_init', 'kuryr_cni/vendor/github.com/pkg/errors/appveyor.yml', 'kuryr_cni/Gopkg.toml', 'kuryr_cni/vendor/github.com/containernetworking/cni/LICENSE', 'kuryr_cni/vendor/github.com/containernetworking/cni/pkg/version/plugin.go', 'kuryr_cni/README', 'kuryr_cni/vendor/github.com/pkg/errors/.gitignore', 'kuryr_cni/vendor/github.com/pkg/errors/stack.go', 'kuryr_cni/vendor/github.com/containernetworking/cni/pkg/types/types.go']",24,038cf1bd1b00549aee2dc0bd78742db75abfc8bb,bp/golang-kuryr-cni,"// Copyright 2015 CNI authors // // Licensed under the Apache License, Version 2.0 (the ""License""); // you may not use this file except in compliance with the License. // You may obtain a copy of the License at // // http://www.apache.org/licenses/LICENSE-2.0 // // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an ""AS IS"" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. // See the License for the specific language governing permissions and // limitations under the License. package types import ( ""encoding/json"" ""errors"" ""fmt"" ""io"" ""net"" ""os"" ) // like net.IPNet but adds JSON marshalling and unmarshalling type IPNet net.IPNet // ParseCIDR takes a string like ""10.2.3.1/24"" and // return IPNet with ""10.2.3.1"" and /24 mask func ParseCIDR(s string) (*net.IPNet, error) { ip, ipn, err := net.ParseCIDR(s) if err != nil { return nil, err } ipn.IP = ip return ipn, nil } func (n IPNet) MarshalJSON() ([]byte, error) { return json.Marshal((*net.IPNet)(&n).String()) } func (n *IPNet) UnmarshalJSON(data []byte) error { var s string if err := json.Unmarshal(data, &s); err != nil { return err } tmp, err := ParseCIDR(s) if err != nil { return err } *n = IPNet(*tmp) return nil } // NetConf describes a network. type NetConf struct { CNIVersion string `json:""cniVersion,omitempty""` Name string `json:""name,omitempty""` Type string `json:""type,omitempty""` Capabilities map[string]bool `json:""capabilities,omitempty""` IPAM IPAM `json:""ipam,omitempty""` DNS DNS `json:""dns""` RawPrevResult map[string]interface{} `json:""prevResult,omitempty""` PrevResult Result `json:""-""` } type IPAM struct { Type string `json:""type,omitempty""` } // NetConfList describes an ordered list of networks. type NetConfList struct { CNIVersion string `json:""cniVersion,omitempty""` Name string `json:""name,omitempty""` DisableCheck bool `json:""disableCheck,omitempty""` Plugins []*NetConf `json:""plugins,omitempty""` } type ResultFactoryFunc func([]byte) (Result, error) // Result is an interface that provides the result of plugin execution type Result interface { // The highest CNI specification result version the result supports // without having to convert Version() string // Returns the result converted into the requested CNI specification // result version, or an error if conversion failed GetAsVersion(version string) (Result, error) // Prints the result in JSON format to stdout Print() error // Prints the result in JSON format to provided writer PrintTo(writer io.Writer) error // Returns a JSON string representation of the result String() string } func PrintResult(result Result, version string) error { newResult, err := result.GetAsVersion(version) if err != nil { return err } return newResult.Print() } // DNS contains values interesting for DNS resolvers type DNS struct { Nameservers []string `json:""nameservers,omitempty""` Domain string `json:""domain,omitempty""` Search []string `json:""search,omitempty""` Options []string `json:""options,omitempty""` } type Route struct { Dst net.IPNet GW net.IP } func (r *Route) String() string { return fmt.Sprintf(""%+v"", *r) } // Well known error codes // see https://github.com/containernetworking/cni/blob/master/SPEC.md#well-known-error-codes const ( ErrUnknown uint = iota // 0 ErrIncompatibleCNIVersion // 1 ErrUnsupportedField // 2 ) type Error struct { Code uint `json:""code""` Msg string `json:""msg""` Details string `json:""details,omitempty""` } func (e *Error) Error() string { details := """" if e.Details != """" { details = fmt.Sprintf(""; %v"", e.Details) } return fmt.Sprintf(""%v%v"", e.Msg, details) } func (e *Error) Print() error { return prettyPrint(e) } // net.IPNet is not JSON (un)marshallable so this duality is needed // for our custom IPNet type // JSON (un)marshallable types type route struct { Dst IPNet `json:""dst""` GW net.IP `json:""gw,omitempty""` } func (r *Route) UnmarshalJSON(data []byte) error { rt := route{} if err := json.Unmarshal(data, &rt); err != nil { return err } r.Dst = net.IPNet(rt.Dst) r.GW = rt.GW return nil } func (r Route) MarshalJSON() ([]byte, error) { rt := route{ Dst: IPNet(r.Dst), GW: r.GW, } return json.Marshal(rt) } func prettyPrint(obj interface{}) error { data, err := json.MarshalIndent(obj, """", "" "") if err != nil { return err } _, err = os.Stdout.Write(data) return err } // NotImplementedError is used to indicate that a method is not implemented for the given platform var NotImplementedError = errors.New(""Not Implemented"") ",,2465,48
openstack%2Fopenstack-ansible-os_cinder~master~Id3c9d4596a443f4d1e9e9090cc2da3650385a98b,openstack/openstack-ansible-os_cinder,master,Id3c9d4596a443f4d1e9e9090cc2da3650385a98b,release: added release note for ceph backend issue,MERGED,2019-06-18 16:21:24.000000000,2019-06-18 16:56:56.000000000,2019-06-18 16:56:45.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-06-18 16:21:24.000000000', 'files': ['releasenotes/notes/ceph-backend-host-change-968edfbc15b59b0a.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/6132d03c19e7f8780fbab84ed791b2477eb9a1e5', 'message': 'release: added release note for ceph backend issue\n\nThis patch adds a release note to warn users about the possible\nissue with Cinder and RBD with the new behaviour of backend_host.\n\nChange-Id: Id3c9d4596a443f4d1e9e9090cc2da3650385a98b\n'}]",0,666043,6132d03c19e7f8780fbab84ed791b2477eb9a1e5,8,3,1,1004,,,0,"release: added release note for ceph backend issue

This patch adds a release note to warn users about the possible
issue with Cinder and RBD with the new behaviour of backend_host.

Change-Id: Id3c9d4596a443f4d1e9e9090cc2da3650385a98b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/43/666043/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/ceph-backend-host-change-968edfbc15b59b0a.yaml'],1,6132d03c19e7f8780fbab84ed791b2477eb9a1e5,,"--- issues: - Due to a change in how backend_host is defined when using Ceph, all the Cinder volumes will restart under the same backend name. This will mean that any volumes which previously were assigned to the host or container that hosted the volume will no longer be managable. The workaround for this is to use the `cinder-manage volume update_host` command to move those volumes to the new backend host. This known issue will be resolved soon with an upgrade playbook. ",,9,0
openstack%2Fcinder~master~I1cb1e7b38fb24624d5a0aeb9d5f31e4b008128a9,openstack/cinder,master,I1cb1e7b38fb24624d5a0aeb9d5f31e4b008128a9,Add empty check before using zone driver,MERGED,2019-02-11 07:11:23.000000000,2019-06-18 16:53:15.000000000,2019-02-15 21:06:09.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 25837}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-02-11 07:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9257ec2710962d5278e74113747a476cbae8d8e7', 'message': ""Add empty check before use zone driver\n\nWhen initiator_target_map is {}, it really means we don't need to\ndo anything with zone driver.\n\nChange-Id: I1cb1e7b38fb24624d5a0aeb9d5f31e4b008128a9\n""}, {'number': 2, 'created': '2019-02-11 07:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/05e4978aa999e7e64d140b17c1b0b05134382f45', 'message': ""Add empty check before using zone driver\n\nWhen initiator_target_map is {}, it really means we don't need to\ndo anything with zone driver.\n\nChange-Id: I1cb1e7b38fb24624d5a0aeb9d5f31e4b008128a9\n""}, {'number': 3, 'created': '2019-02-12 02:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/68cd031e70f4b0d4dd6dee5576b785b6d56363f5', 'message': ""Add empty check before using zone driver\n\nWhen initiator_target_map is {}, it really means we don't need to\ndo anything with zone driver.\n\nChange-Id: I1cb1e7b38fb24624d5a0aeb9d5f31e4b008128a9\n""}, {'number': 4, 'created': '2019-02-14 01:48:30.000000000', 'files': ['cinder/tests/fake_driver.py', 'cinder/zonemanager/utils.py', 'cinder/tests/unit/zonemanager/test_volume_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6f93d64ff0d2d329f04477c6d0ed257d2a250bf8', 'message': ""Add empty check before using zone driver\n\nWhen initiator_target_map is {}, it really means we don't need to\ndo anything with zone driver.\n\nChange-Id: I1cb1e7b38fb24624d5a0aeb9d5f31e4b008128a9\n""}]",5,636098,6f93d64ff0d2d329f04477c6d0ed257d2a250bf8,133,43,4,25837,,,0,"Add empty check before using zone driver

When initiator_target_map is {}, it really means we don't need to
do anything with zone driver.

Change-Id: I1cb1e7b38fb24624d5a0aeb9d5f31e4b008128a9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/98/636098/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/zonemanager/utils.py'],1,9257ec2710962d5278e74113747a476cbae8d8e7,add_empty_check, if connection_info['data'].get('initiator_target_map'): if connection_info['data'].get('initiator_target_map'):, if 'initiator_target_map' in connection_info['data']: if 'initiator_target_map' in connection_info['data']:,2,2
openstack%2Foctavia~master~I7a87430be5a1553ff760e31c26ca52090399d00a,openstack/octavia,master,I7a87430be5a1553ff760e31c26ca52090399d00a,Clarify that the certificate guide should be used,MERGED,2019-05-31 16:13:09.000000000,2019-06-18 16:36:30.000000000,2019-06-18 16:36:30.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 21307}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 16:13:09.000000000', 'files': ['doc/source/contributor/guides/dev-quick-start.rst', 'bin/create_certificates.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d3c3f148f4437587f38b390a08dca5a34c47c1c6', 'message': 'Clarify that the certificate guide should be used\n\nThe quick start guide was pointing users to the old create_certificate.sh\nscript. This patch clarifies that the ""Octavia Certificate Configuration\nGuide"" should be used when configurting certificates for the Octavia\ncontrollers.\nIt also adds a warning to the create_certificate.sh script.\n\nChange-Id: I7a87430be5a1553ff760e31c26ca52090399d00a\n'}]",0,662512,d3c3f148f4437587f38b390a08dca5a34c47c1c6,8,4,1,11628,,,0,"Clarify that the certificate guide should be used

The quick start guide was pointing users to the old create_certificate.sh
script. This patch clarifies that the ""Octavia Certificate Configuration
Guide"" should be used when configurting certificates for the Octavia
controllers.
It also adds a warning to the create_certificate.sh script.

Change-Id: I7a87430be5a1553ff760e31c26ca52090399d00a
",git fetch https://review.opendev.org/openstack/octavia refs/changes/12/662512/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/guides/dev-quick-start.rst', 'bin/create_certificates.sh']",2,d3c3f148f4437587f38b390a08dca5a34c47c1c6,,"# NOTE: This script should not be used for creating certificates in a # deployment. It is only used for some testing jobs. # Please follow the Octavia Certificate Configuration Guide when setting # up a deployment. See: # https://docs.openstack.org/octavia/latest/admin/guides/certificates.html echo ""!!!!!!!!!!!!!!!Do not use this script for deployments!!!!!!!!!!!!!"" echo ""Please use the Octavia Certificate Configuration guide:"" echo ""https://docs.openstack.org/octavia/latest/admin/guides/certificates.html"" echo ""!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!"" ",,14,3
openstack%2Foctavia~master~I15c2cabb1bced0a5646a3e1aed50bece78afcdce,openstack/octavia,master,I15c2cabb1bced0a5646a3e1aed50bece78afcdce,Add a note about nova hardware architectures,MERGED,2019-06-17 17:37:58.000000000,2019-06-18 16:36:28.000000000,2019-06-18 16:36:28.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 17:37:58.000000000', 'files': ['diskimage-create/README.rst', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f1542afba02bec659c143755aaba0c91f3d0807e', 'message': 'Add a note about nova hardware architectures\n\nThis patch adds a note to the diskimage-create README that\nreminds users to set the hardware architecture property on the\namphora image if the cloud has multiple architectures available\nin nova.\nIt also sets this property in our devstack plugin to provide an\nexample/reminder.\n\nChange-Id: I15c2cabb1bced0a5646a3e1aed50bece78afcdce\n'}]",4,665732,f1542afba02bec659c143755aaba0c91f3d0807e,9,4,1,11628,,,0,"Add a note about nova hardware architectures

This patch adds a note to the diskimage-create README that
reminds users to set the hardware architecture property on the
amphora image if the cloud has multiple architectures available
in nova.
It also sets this property in our devstack plugin to provide an
example/reminder.

Change-Id: I15c2cabb1bced0a5646a3e1aed50bece78afcdce
",git fetch https://review.opendev.org/openstack/octavia refs/changes/32/665732/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage-create/README.rst', 'devstack/plugin.sh']",2,f1542afba02bec659c143755aaba0c91f3d0807e,, openstack image set --tag ${OCTAVIA_AMP_IMAGE_TAG} --property hw_architecture='x86_64' ${OCTAVIA_AMP_IMAGE_ID}, openstack image set --tag ${OCTAVIA_AMP_IMAGE_TAG} ${OCTAVIA_AMP_IMAGE_ID},10,1
openstack%2Fswift~master~Ie759c4092408a210d32f6457142457087343d33a,openstack/swift,master,Ie759c4092408a210d32f6457142457087343d33a,Enable s3api in saio docker container,MERGED,2019-06-14 14:20:03.000000000,2019-06-18 16:31:07.000000000,2019-06-18 16:29:54.000000000,"[{'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-14 14:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bc837813bc926f22bf6d6e18dabda5c0e2b57607', 'message': 'Enable s3api in saio docker container\n\nChange-Id: Ie759c4092408a210d32f6457142457087343d33a\n'}, {'number': 2, 'created': '2019-06-17 13:54:33.000000000', 'files': ['doc/saio/swift/proxy-server.conf', 'docker/rootfs/etc/swift/proxy-server.conf'], 'web_link': 'https://opendev.org/openstack/swift/commit/ccd3b890cdddca132b4d9cdd9372a9927bfb5aac', 'message': 'Enable s3api in saio docker container\n\nChange-Id: Ie759c4092408a210d32f6457142457087343d33a\n'}]",3,665403,ccd3b890cdddca132b4d9cdd9372a9927bfb5aac,13,3,2,9625,,,0,"Enable s3api in saio docker container

Change-Id: Ie759c4092408a210d32f6457142457087343d33a
",git fetch https://review.opendev.org/openstack/swift refs/changes/03/665403/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/saio/swift/proxy-server.conf', 'docker/rootfs/etc/swift/proxy-server.conf']",2,bc837813bc926f22bf6d6e18dabda5c0e2b57607,enable_s3api,pipeline = catch_errors gatekeeper healthcheck proxy-logging cache listing_formats bulk tempurl ratelimit s3api tempauth staticweb copy container-quotas account-quotas slo dlo versioned_writes symlink proxy-logging proxy-server,pipeline = catch_errors gatekeeper healthcheck proxy-logging cache listing_formats bulk tempurl ratelimit tempauth staticweb copy container-quotas account-quotas slo dlo versioned_writes symlink proxy-logging proxy-server[filter:container_sync] use = egg:swift#container_sync current = //saio/saio_endpoint [filter:s3api] use = egg:swift#s3api # Add this filter to your pipeline if you want to test with the S3 protocol. s3_acl = yes dns_compliant_bucket_names = no check_bucket_owner = yes ,1,19
openstack%2Fnova~master~Iafdc7ce7a08dbc836039ab4483845d9713b3987f,openstack/nova,master,Iafdc7ce7a08dbc836039ab4483845d9713b3987f,Remove an unused method,MERGED,2019-06-06 05:48:35.000000000,2019-06-18 16:22:04.000000000,2019-06-08 02:32:35.000000000,"[{'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-06 05:48:35.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0cecd2ac324dc9a20e7d60987b9ef6e5082c426d', 'message': 'Remove an unused method\n\nThe nova.compute.api.API.get_instances_host_statuses method\nhas no longer been used\nsince I82b11b8866ac82b05eae04351605d52fa8b91453.\nRemove the method and a releated test.\n\nChange-Id: Iafdc7ce7a08dbc836039ab4483845d9713b3987f\n'}]",0,663502,0cecd2ac324dc9a20e7d60987b9ef6e5082c426d,19,13,1,7634,,,0,"Remove an unused method

The nova.compute.api.API.get_instances_host_statuses method
has no longer been used
since I82b11b8866ac82b05eae04351605d52fa8b91453.
Remove the method and a releated test.

Change-Id: Iafdc7ce7a08dbc836039ab4483845d9713b3987f
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/663502/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py']",2,0cecd2ac324dc9a20e7d60987b9ef6e5082c426d,remove_unnecessary_method,," def get_instances_host_statuses(self, instance_list): host_status_dict = dict() host_statuses = dict() for instance in instance_list: if instance.host: if instance.host not in host_status_dict: host_status = self.get_instance_host_status(instance) host_status_dict[instance.host] = host_status else: host_status = host_status_dict[instance.host] else: host_status = fields_obj.HostStatus.NONE host_statuses[instance.uuid] = host_status return host_statuses ",0,65
openstack%2Fkolla~master~I249b78cd263c97c4a9223523c77f8c325f3e649a,openstack/kolla,master,I249b78cd263c97c4a9223523c77f8c325f3e649a,Remove crane image,MERGED,2019-06-07 13:32:27.000000000,2019-06-18 16:03:49.000000000,2019-06-18 16:03:49.000000000,"[{'_account_id': 14985}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-07 13:32:27.000000000', 'files': ['docker/crane/Dockerfile.j2', 'kolla/image/build.py', 'releasenotes/notes/remove-crane-ad12c12b633d4d73.yaml', 'docker/base/crane.repo', 'docker/base/Dockerfile.j2', 'tools/version-check.py', 'docker/crane/extend_start.sh', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c63f817730a66761b45607afa201ebae300452c2', 'message': 'Remove crane image\n\nThis image was deprecated in the Stein cycle.\n\nChange-Id: I249b78cd263c97c4a9223523c77f8c325f3e649a\n'}]",0,663942,c63f817730a66761b45607afa201ebae300452c2,16,7,1,14826,,,0,"Remove crane image

This image was deprecated in the Stein cycle.

Change-Id: I249b78cd263c97c4a9223523c77f8c325f3e649a
",git fetch https://review.opendev.org/openstack/kolla refs/changes/42/663942/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/crane/Dockerfile.j2', 'kolla/image/build.py', 'releasenotes/notes/remove-crane-ad12c12b633d4d73.yaml', 'docker/base/crane.repo', 'docker/base/Dockerfile.j2', 'tools/version-check.py', 'docker/crane/extend_start.sh', 'kolla/common/config.py']",8,c63f817730a66761b45607afa201ebae300452c2,remove-crane,," 'crane': { 'type': 'git', 'reference': 'master', 'location': ('https://github.com/pulp/crane.git')},",5,99
openstack%2Fopenstack-ansible-os_ceilometer~stable%2Fstein~Ib4ef47e8d791189bf0bee3501cb82c9d357d36f9,openstack/openstack-ansible-os_ceilometer,stable/stein,Ib4ef47e8d791189bf0bee3501cb82c9d357d36f9,"[New files - needs update] Update paste, policy and rootwrap configurations 2019-06-18",ABANDONED,2019-06-18 15:59:30.000000000,2019-06-18 15:59:54.000000000,,[],"[{'number': 1, 'created': '2019-06-18 15:59:30.000000000', 'files': ['files/rootwrap.d/ipmi.filters', 'templates/rootwrap.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/3ac9d080ca87e50e7ded4afda06a6038d76193c0', 'message': '[New files - needs update] Update paste, policy and rootwrap configurations 2019-06-18\n\nChange-Id: Ib4ef47e8d791189bf0bee3501cb82c9d357d36f9\n'}]",0,666035,3ac9d080ca87e50e7ded4afda06a6038d76193c0,2,0,1,1004,,,0,"[New files - needs update] Update paste, policy and rootwrap configurations 2019-06-18

Change-Id: Ib4ef47e8d791189bf0bee3501cb82c9d357d36f9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/35/666035/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/rootwrap.d/ipmi.filters', 'templates/rootwrap.conf.j2']",2,3ac9d080ca87e50e7ded4afda06a6038d76193c0,sha-update,"# Configuration for ceilometer-rootwrap # This file should be owned by (and only-writeable by) the root user [DEFAULT] # List of directories to load filter definitions from (separated by ','). # These directories MUST all be only writeable by root ! filters_path=/etc/ceilometer/rootwrap.d,/usr/share/ceilometer/rootwrap # List of directories to search executables in, in case filters do not # explicitely specify a full path (separated by ',') # If not specified, defaults to system PATH environment variable. # These directories MUST all be only writeable by root ! exec_dirs={{ ceilometer_bin }},/sbin,/usr/sbin,/bin,/usr/bin,/usr/local/sbin,/usr/local/bin # Enable logging to syslog # Default value is False use_syslog=False # Which syslog facility to use. # Valid values include auth, authpriv, syslog, user0, user1... # Default value is 'syslog' syslog_log_facility=syslog # Which messages to log. # INFO means log all usage # ERROR means only log unsuccessful attempts syslog_log_level=ERROR ",,34,0
openstack%2Fcloudkitty~master~I1f2a012b7f0676cfc343e0755209fb91bef8c0b2,openstack/cloudkitty,master,I1f2a012b7f0676cfc343e0755209fb91bef8c0b2,Modify the url of upper_constraints_file,MERGED,2019-06-18 02:57:15.000000000,2019-06-18 15:17:52.000000000,2019-06-18 15:17:52.000000000,"[{'_account_id': 7042}, {'_account_id': 7923}, {'_account_id': 8358}, {'_account_id': 9642}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-06-18 02:57:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/b0e010a19fb1eaa43c2675ffadfccac101fd0468', 'message': 'Modify the url of upper_constraints_file\n\nDepends-On: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I1f2a012b7f0676cfc343e0755209fb91bef8c0b2\n'}]",0,665850,b0e010a19fb1eaa43c2675ffadfccac101fd0468,6,9,1,27822,,,0,"Modify the url of upper_constraints_file

Depends-On: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I1f2a012b7f0676cfc343e0755209fb91bef8c0b2
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/50/665850/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b0e010a19fb1eaa43c2675ffadfccac101fd0468,Bug#3,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fpython-cloudkittyclient~master~I6442a6423d3ab4df5dc699ad594eb2244e9ef994,openstack/python-cloudkittyclient,master,I6442a6423d3ab4df5dc699ad594eb2244e9ef994,Modify the url of upper_constraints_file,MERGED,2019-06-18 02:41:25.000000000,2019-06-18 15:16:17.000000000,2019-06-18 15:16:17.000000000,"[{'_account_id': 7042}, {'_account_id': 7923}, {'_account_id': 8358}, {'_account_id': 9642}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-06-18 02:41:25.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/b29fefaf8daa8e1fcea34fb3b58fa8624f504884', 'message': 'Modify the url of upper_constraints_file\n\nDepends-On: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I6442a6423d3ab4df5dc699ad594eb2244e9ef994\n'}]",0,665849,b29fefaf8daa8e1fcea34fb3b58fa8624f504884,6,9,1,27822,,,0,"Modify the url of upper_constraints_file

Depends-On: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I6442a6423d3ab4df5dc699ad594eb2244e9ef994
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/49/665849/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b29fefaf8daa8e1fcea34fb3b58fa8624f504884,Bug#4,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -U {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -U {opts} {packages},1,1
openstack%2Fbifrost~master~Icbf691a9014e00cc7bb3b59ab7e4f9cc647595ec,openstack/bifrost,master,Icbf691a9014e00cc7bb3b59ab7e4f9cc647595ec,Correct Swift configuration for the Nginx data store,MERGED,2019-06-18 12:04:10.000000000,2019-06-18 15:09:22.000000000,2019-06-18 15:09:22.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-06-18 12:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/094d233f848961aec58b603197f21b36464724fb', 'message': 'Correct Swift configuration for the Nginx data store and deprecate it\n\nThis feature is no longer needed since ironic-inspector supports storing\ndata in the database. This removes one more service from the default\nbifrost installation.\n\nChange-Id: Icbf691a9014e00cc7bb3b59ab7e4f9cc647595ec\n'}, {'number': 2, 'created': '2019-06-18 12:10:59.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/templates/ironic-inspector.conf.j2'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a122f411850d0ba2e4068102db78460df058f5f7', 'message': ""Correct Swift configuration for the Nginx data store\n\nThis gross hack of ours doesn't quite work with openstacksdk.\n\nChange-Id: Icbf691a9014e00cc7bb3b59ab7e4f9cc647595ec\n""}]",0,665960,a122f411850d0ba2e4068102db78460df058f5f7,8,3,2,10239,,,0,"Correct Swift configuration for the Nginx data store

This gross hack of ours doesn't quite work with openstacksdk.

Change-Id: Icbf691a9014e00cc7bb3b59ab7e4f9cc647595ec
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/60/665960/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/store-data-a14351976eda9842.yaml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/templates/ironic-inspector.conf.j2', 'playbooks/roles/bifrost-test-inspection/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/README.md', 'playbooks/roles/bifrost-test-inspection/tasks/main.yml']",6,094d233f848961aec58b603197f21b36464724fb,swift,"- name: Check node hardware inspection data command: ""openstack baremetal introspection data save {{ uuid }}"" register: inspection_data environment: OS_CLOUD: ""{% if enable_keystone | default(false) | bool %}bifrost{% else %}bifrost-inspector{% endif %}"" # TODO(mgoddard): More validation of data format and contents. - name: Validate the inspection data format assert: that: - ""'inventory' in data"" - ""'memory' in inventory"" - ""'cpu' in inventory"" - ""'bmc_address' in inventory"" - ""'interfaces' in inventory"" - ""'disks' in inventory"" vars: data: ""{{ inspection_data.stdout | from_json }}"" inventory: ""{{ data.inventory }}""","- block: - name: Check node hardware inspection data command: ""openstack baremetal introspection data save {{ uuid }}"" register: inspection_data environment: OS_CLOUD: ""{% if enable_keystone | default(false) | bool %}bifrost{% else %}bifrost-inspector{% endif %}"" # TODO(mgoddard): More validation of data format and contents. - name: Validate the inspection data format assert: that: - ""'inventory' in data"" - ""'memory' in inventory"" - ""'cpu' in inventory"" - ""'bmc_address' in inventory"" - ""'interfaces' in inventory"" - ""'disks' in inventory"" vars: data: ""{{ inspection_data.stdout | from_json }}"" inventory: ""{{ data.inventory }}"" when: inspector_store_data_in_nginx | bool",36,34
openstack%2Fcharm-neutron-gateway~master~I4fde7882be69772f168a1a1a201022bf9cf3cd06,openstack/charm-neutron-gateway,master,I4fde7882be69772f168a1a1a201022bf9cf3cd06,Enable isolated provider network metadata access,MERGED,2019-06-14 18:46:20.000000000,2019-06-18 15:07:05.000000000,2019-06-18 15:07:05.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-14 18:46:20.000000000', 'files': ['templates/ocata/dhcp_agent.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/ddd522813334e372ad54aa1a0c01bba753dba9d7', 'message': 'Enable isolated provider network metadata access\n\nWhen an isolated provider network with no virtual routers metadata\naccess occurs in the qdhcp netns.\n\nWithout the force_metadata option in dhcp_agent.ini ns-metadata-proxy\nis not enabled. ns-metdata-proxy sits in the ip netns and proxies\nrequests from 169.254.169.254 to the nova-api-metadata service\noutside the netns.\n\nThis change adds the force_metadata option when\nenable-isolated-metadata = True.\n\nRelated to LP Bug #1831935\n\nChange-Id: I4fde7882be69772f168a1a1a201022bf9cf3cd06\n'}]",0,665454,ddd522813334e372ad54aa1a0c01bba753dba9d7,11,4,1,20805,,,0,"Enable isolated provider network metadata access

When an isolated provider network with no virtual routers metadata
access occurs in the qdhcp netns.

Without the force_metadata option in dhcp_agent.ini ns-metadata-proxy
is not enabled. ns-metdata-proxy sits in the ip netns and proxies
requests from 169.254.169.254 to the nova-api-metadata service
outside the netns.

This change adds the force_metadata option when
enable-isolated-metadata = True.

Related to LP Bug #1831935

Change-Id: I4fde7882be69772f168a1a1a201022bf9cf3cd06
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/54/665454/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ocata/dhcp_agent.ini'],1,ddd522813334e372ad54aa1a0c01bba753dba9d7,bug/1831935,"############################################################################### # [ WARNING ] # Configuration file maintained by Juju. Local changes may be overwritten. ############################################################################### [DEFAULT] state_path = /var/lib/neutron interface_driver = openvswitch dhcp_driver = neutron.agent.linux.dhcp.Dnsmasq root_helper = sudo /usr/bin/neutron-rootwrap /etc/neutron/rootwrap.conf debug = {{ debug }} {% if instance_mtu or dnsmasq_flags -%} dnsmasq_config_file = /etc/neutron/dnsmasq.conf {% endif -%} {% if dns_servers -%} dnsmasq_dns_servers = {{ dns_servers }} {% endif -%} {% if dns_domain -%} dns_domain = {{ dns_domain }} # Per LP#1583769, dhcp_domain needs to be configured as well. Additional # testing shows that this has not been changed in newton, so will also # specify the dhcp_domain field. dhcp_domain = {{ dns_domain }} {% endif -%} enable_metadata_network = {{ enable_metadata_network }} {% if enable_isolated_metadata -%} enable_isolated_metadata = True force_metadata = True {% endif -%} {% if plugin == 'n1kv' %} resync_interval = 30 use_namespaces = True dhcp_lease_time=3600 {% else %} ovs_use_veth = True {% endif %} ",,40,0
openstack%2Fdevstack-plugin-container~master~I591ca197b6860db31e76fc7af3547ff4a92b2a55,openstack/devstack-plugin-container,master,I591ca197b6860db31e76fc7af3547ff4a92b2a55,Convert legacy job to zuul v3 native,MERGED,2019-06-09 20:15:35.000000000,2019-06-18 15:05:25.000000000,2019-06-18 15:05:25.000000000,"[{'_account_id': 9820}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2019-06-09 20:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/072cd81546beb13b4262544491f0a2c796dea4f8', 'message': '[WIP] Convert legacy job to zuul v3 native\n\nChange-Id: I591ca197b6860db31e76fc7af3547ff4a92b2a55\n'}, {'number': 2, 'created': '2019-06-09 22:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/1c6f32e81badc1aa54db9bc56de139f79eab2536', 'message': '[WIP] Convert legacy job to zuul v3 native\n\nChange-Id: I591ca197b6860db31e76fc7af3547ff4a92b2a55\n'}, {'number': 3, 'created': '2019-06-10 00:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/e2c6bf75596421d85883a9ad4ed786844d8be20b', 'message': '[WIP] Convert legacy job to zuul v3 native\n\nChange-Id: I591ca197b6860db31e76fc7af3547ff4a92b2a55\n'}, {'number': 4, 'created': '2019-06-10 01:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/74695a1cb73c1a02453be0736b0e45a67c8066fe', 'message': 'Convert legacy job to zuul v3 native\n\nThe CI job configuration was auto-converted from legacy job in before.\nThis commit convert the job to zuul v3 native format.\n\nChange-Id: I591ca197b6860db31e76fc7af3547ff4a92b2a55\n'}, {'number': 5, 'created': '2019-06-15 22:13:37.000000000', 'files': ['playbooks/devstack-plugin-container-dsvm/run.yaml', 'contrib/post_test_hook.sh', '.zuul.yaml', 'roles/fetch_docker_log/README.rst', 'playbooks/devstack-plugin-container-dsvm/post.yaml', 'roles/fetch_docker_log/tasks/main.yaml', 'playbooks/devstack-plugin-container-dsvm/pre.yaml', 'contrib/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/d9b045050c857b51ad84c287fd543ead91270b10', 'message': 'Convert legacy job to zuul v3 native\n\nThe CI job configuration was auto-converted from legacy job in before.\nThis commit convert the job to zuul v3 native format.\n\nChange-Id: I591ca197b6860db31e76fc7af3547ff4a92b2a55\n'}]",0,664166,d9b045050c857b51ad84c287fd543ead91270b10,15,6,5,11536,,,0,"Convert legacy job to zuul v3 native

The CI job configuration was auto-converted from legacy job in before.
This commit convert the job to zuul v3 native format.

Change-Id: I591ca197b6860db31e76fc7af3547ff4a92b2a55
",git fetch https://review.opendev.org/openstack/devstack-plugin-container refs/changes/66/664166/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/devstack-plugin-container-dsvm/run.yaml', 'contrib/post_test_hook.sh', '.zuul.yaml', 'playbooks/devstack-plugin-container-dsvm/post.yaml', 'playbooks/devstack-plugin-container-dsvm/pre.yaml', 'contrib/gate_hook.sh']",6,072cd81546beb13b4262544491f0a2c796dea4f8,,,"#!/bin/bash -x # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # This script is executed inside gate_hook function in devstack gate. # Keep all devstack settings here instead of project-config for easy # maintain if we want to change devstack config settings in future. $BASE/new/devstack-gate/devstack-vm-gate.sh ",14,214
openstack%2Fopenstack-helm-images~master~I3b5a85894faf5ea98c50f42f7561c4d95b8b9932,openstack/openstack-helm-images,master,I3b5a85894faf5ea98c50f42f7561c4d95b8b9932,Add SUSE image for Selenium to be used in helm tests,MERGED,2019-06-04 20:01:56.000000000,2019-06-18 15:00:50.000000000,2019-06-18 14:58:04.000000000,"[{'_account_id': 12281}, {'_account_id': 17068}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-04 20:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/b0d0276d9e0f2d28b08ecd2a11c81b504faa1d60', 'message': 'Add SUSE image for Selenium to be used in helm tests\n\nThis adds a SUSE image that includes Selenium and the google chrome\nheadless driver for use in helm tests for charts with a GUI\n\nChange-Id: I3b5a85894faf5ea98c50f42f7561c4d95b8b9932\n'}, {'number': 2, 'created': '2019-06-05 08:05:57.000000000', 'files': ['osh-selenium/linux_signing_key.pub', 'zuul.d/osh-selenium.yaml', 'osh-selenium/Dockerfile.opensuse_15'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d0c35485acce6f275e68ece706a8424fd4cc946a', 'message': 'Add SUSE image for Selenium to be used in helm tests\n\nThis adds a SUSE image that includes Selenium and the google chrome\nheadless driver for use in helm tests for charts with a GUI\n\nChange-Id: I3b5a85894faf5ea98c50f42f7561c4d95b8b9932\n'}]",0,663130,d0c35485acce6f275e68ece706a8424fd4cc946a,13,6,2,12281,,,0,"Add SUSE image for Selenium to be used in helm tests

This adds a SUSE image that includes Selenium and the google chrome
headless driver for use in helm tests for charts with a GUI

Change-Id: I3b5a85894faf5ea98c50f42f7561c4d95b8b9932
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/30/663130/1 && git format-patch -1 --stdout FETCH_HEAD,"['osh-selenium/linux_signing_key.pub', 'osh-selenium/Dockerfile.opensuse_15']",2,b0d0276d9e0f2d28b08ecd2a11c81b504faa1d60,selenium_suse,"FROM opensuse/leap:15.0 LABEL maintainer=""cloud-devel@suse.com"" COPY linux_signing_key.pub /tmp/ RUN rpm --import /tmp/linux_signing_key.pub RUN rm /tmp/linux_signing_key.pub RUN zypper --non-interactive addrepo http://dl.google.com/linux/chrome/rpm/stable/x86_64 google_chrome RUN set -ex ;\ zypper --non-interactive refresh ;\ zypper --non-interactive up -y ;\ zypper --non-interactive install -y python-pip unzip wget google-chrome-stable RUN /usr/bin/pip install selenium RUN wget --directory-prefix=/tmp/ https://chromedriver.storage.googleapis.com/2.44/chromedriver_linux64.zip \ && unzip /tmp/chromedriver_linux64.zip -d /etc/selenium RUN zypper clean -a ",,152,0
openstack%2Fneutron~master~I2f13ecad81d7624d2720f4c526b6bb4c620fe9fe,openstack/neutron,master,I2f13ecad81d7624d2720f4c526b6bb4c620fe9fe,"Revert ""Allow sharing of security groups via RBAC mechanism""",ABANDONED,2019-06-14 18:21:37.000000000,2019-06-18 15:00:48.000000000,,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 7249}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10980}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-14 18:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea7996597cf60aac3d5da3599f1f224e3a6c37d6', 'message': 'Revert ""Allow sharing of security groups via RBAC mechanism""\n\nThis reverts commit 5e0fc3d2da6fbc5154debcc4a98bb8b6419326f9.\n\nAs show in bug [1], this implementation causes a huge performance regression. Therefore this patch proposes\nreverting for now.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1830679\n\nChange-Id: I2f13ecad81d7624d2720f4c526b6bb4c620fe9fe\n'}, {'number': 2, 'created': '2019-06-14 20:30:45.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/objects/test_securitygroup.py', 'neutron/objects/securitygroup.py', 'neutron/tests/unit/api/rpc/handlers/test_securitygroups_rpc.py', 'neutron/extensions/rbac_security_groups.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/agent/securitygroups_rpc.py', 'neutron/objects/qos/policy.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/objects/test_network.py', 'neutron/tests/unit/objects/test_objects.py', 'neutron/objects/rbac_db.py', 'releasenotes/notes/add-security-groups-rbac-6f133ec4d40e7641.yaml', 'neutron/db/models/securitygroup.py', 'neutron/tests/contrib/hooks/api_all_extensions', 'neutron/tests/unit/objects/test_base.py', 'neutron/tests/unit/objects/test_rbac.py', 'neutron/db/rbac_db_models.py', 'neutron/tests/unit/objects/test_rbac_db.py', 'doc/source/admin/config-rbac.rst', 'neutron/conf/policies/security_group.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/59c19aa35f3c0f8a7f9af3682197d62d7207823f', 'message': 'Revert ""Allow sharing of security groups via RBAC mechanism""\n\nThis reverts commit 5e0fc3d2da6fbc5154debcc4a98bb8b6419326f9.\n\nAs show in bug closing bug, this implementation causes a huge\nperformance regression. Therefore this patch proposes reverting until\nsomeone has time to rework the implementation.\n\nCloses-Bug: 1830679\n\nChange-Id: I2f13ecad81d7624d2720f4c526b6bb4c620fe9fe\n'}]",0,665447,59c19aa35f3c0f8a7f9af3682197d62d7207823f,15,12,2,5367,,,0,"Revert ""Allow sharing of security groups via RBAC mechanism""

This reverts commit 5e0fc3d2da6fbc5154debcc4a98bb8b6419326f9.

As show in bug closing bug, this implementation causes a huge
performance regression. Therefore this patch proposes reverting until
someone has time to rework the implementation.

Closes-Bug: 1830679

Change-Id: I2f13ecad81d7624d2720f4c526b6bb4c620fe9fe
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/665447/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/objects/test_securitygroup.py', 'neutron/objects/securitygroup.py', 'neutron/tests/unit/api/rpc/handlers/test_securitygroups_rpc.py', 'neutron/extensions/rbac_security_groups.py', 'neutron/db/migration/alembic_migrations/versions/stein/expand/9bfad3f1e780_support_shared_security_groups.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/agent/securitygroups_rpc.py', 'neutron/objects/qos/policy.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/objects/test_network.py', 'neutron/tests/unit/objects/test_objects.py', 'neutron/objects/rbac_db.py', 'releasenotes/notes/add-security-groups-rbac-6f133ec4d40e7641.yaml', 'neutron/db/models/securitygroup.py', 'neutron/tests/contrib/hooks/api_all_extensions', 'neutron/tests/unit/objects/test_base.py', 'neutron/tests/unit/objects/test_rbac.py', 'neutron/db/rbac_db_models.py', 'neutron/tests/unit/objects/test_rbac_db.py', 'doc/source/admin/config-rbac.rst', 'neutron/conf/policies/security_group.py']",22,ea7996597cf60aac3d5da3599f1f224e3a6c37d6,bug/1817119," base.RULE_ADMIN_OR_OWNER,"," base.RULE_ANY,",49,342
openstack%2Ftraining-guides~master~Ia3b723fe03f1d551ce6b1a6e4c8db36c1433da7a,openstack/training-guides,master,Ia3b723fe03f1d551ce6b1a6e4c8db36c1433da7a,Fix 2018->2019 & Add archive events,MERGED,2019-06-15 12:54:59.000000000,2019-06-18 14:54:09.000000000,2019-06-18 14:54:09.000000000,"[{'_account_id': 9562}, {'_account_id': 10607}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-15 12:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/training-guides/commit/cc6e7523d699e9d1908e86e882d7dead2c10c5a9', 'message': 'Fix 2018->2019 & Add archive events\n\nChange-Id: Ia3b723fe03f1d551ce6b1a6e4c8db36c1433da7a\n'}, {'number': 2, 'created': '2019-06-16 22:23:13.000000000', 'files': ['doc/upstream-training/source/website/upstream-training-other-events.rst', 'doc/upstream-training/source/website/upstream-archives.rst'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/79fb8e332dc8fe5ff39d7a89563fc0173521a628', 'message': 'Fix 2018->2019 & Add archive events\n\nChange-Id: Ia3b723fe03f1d551ce6b1a6e4c8db36c1433da7a\n'}]",4,665509,79fb8e332dc8fe5ff39d7a89563fc0173521a628,11,4,2,14482,,,0,"Fix 2018->2019 & Add archive events

Change-Id: Ia3b723fe03f1d551ce6b1a6e4c8db36c1433da7a
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/09/665509/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/upstream-training/source/website/upstream-training-other-events.rst', 'doc/upstream-training/source/website/upstream-archives.rst']",2,cc6e7523d699e9d1908e86e882d7dead2c10c5a9,archive,2019 ---- - Apr 28: `Open Infrastructure Summit Denver <https://www.openstack.org/summit/denver-2019/>`_ - `Etherpad <https://etherpad.openstack.org/p/upstream-institute-denver-2019>`__ 2018 ---- - Nov 11-12: `OpenStack Summit Berlin <https://www.openstack.org/summit/berlin-2018/>`_ - `Etherpad <https://etherpad.openstack.org/p/upstream-institute-berlin-2018>`__ - Oct 9: `OpenStack Days Nordics <http://stockholm.openstacknordic.org/>`__ - `Etherpad <https://etherpad.openstack.org/p/upstream-institute-nordics-2018>`__ - Jul 27-28: OpenStack Days Brazil 2018 - `Etherpad <https://etherpad.openstack.org/p/upstream-institute-brazil-2018>`__ - Jun 28-29: `OpenStack Days Korea <https://www.openinfradays.kr/2018/>`__ - `Etherpad <https://etherpad.openstack.org/p/upstream-institute-korea-2018>`__ - Jun 11-12: `OpenStack Days Poland <http://www.openstackday.pl/>`__ - `Etherpad <https://etherpad.openstack.org/p/upstream-institute-poland-2018>`__ 2017 ---- - Nov 04-05: `OpenStack Summit <https://www.openstack.org/summit/sydney-2017/>`_ - `Etherpad <https://etherpad.openstack.org/p/upstream-institute-sydney-2017>`__ - Oct 18: `OpenStack Days Nordic <https://openinfranordics.com/openstack-days-nordic-2017/>`__ - `Etherpad <https://etherpad.openstack.org/p/upstream-institute-nordic-2017>`__ - Sep 26: OpenStack Days UK 2017 - `Etherpad <https://etherpad.openstack.org/p/upstream-institute-uk-2017>`__ ,,30,1
openstack%2Fopenstack-helm-infra~master~Ia3c0dfaa58c237e424197f1406bd66fb991bea18,openstack/openstack-helm-infra,master,Ia3c0dfaa58c237e424197f1406bd66fb991bea18,rabbitmq: set hostPath for rabbitmq-data,MERGED,2019-05-22 02:22:13.000000000,2019-06-18 14:46:15.000000000,2019-06-18 14:46:15.000000000,"[{'_account_id': 1523}, {'_account_id': 8181}, {'_account_id': 8749}, {'_account_id': 12281}, {'_account_id': 17068}, {'_account_id': 17591}, {'_account_id': 21830}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 24580}, {'_account_id': 25764}, {'_account_id': 28849}]","[{'number': 1, 'created': '2019-05-22 02:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/06b5993be8ec155b0873e20347b6f7db081267a2', 'message': 'rabbitmq: set hostPath for rabbitmq-data\n\nWhen using nfs StorageClass/PVC and installing rabbitmq, and rabbitmq\nhost is rebooted, there is a problem that VM can not be created/deleted\nfrom specific host. We have tested that rabbitmq data does not cause\nthis symptom if hostPath is used instead of PVC.\n\nTherefore, we need the option to use rabbitmq data hostPath instead of\npvc if needed.\n\nChange-Id: Ia3c0dfaa58c237e424197f1406bd66fb991bea18\nStory: 2005753\nTask: 33455\n'}, {'number': 2, 'created': '2019-05-23 01:05:10.000000000', 'files': ['rabbitmq/values.yaml', 'rabbitmq/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9ddc98746c64ca5dd980dabb04ccaa8928b4215d', 'message': 'rabbitmq: set hostPath for rabbitmq-data\n\nIn an Edge environment without a distributed storage environment, it\nshould be able to store rabbitmq data in the local path as well.\n\nThis patch added an option to use it in a more diverse environment.\n\nChange-Id: Ia3c0dfaa58c237e424197f1406bd66fb991bea18\nStory: 2005753\nTask: 33455\n'}]",9,660544,9ddc98746c64ca5dd980dabb04ccaa8928b4215d,31,12,2,21830,,,0,"rabbitmq: set hostPath for rabbitmq-data

In an Edge environment without a distributed storage environment, it
should be able to store rabbitmq data in the local path as well.

This patch added an option to use it in a more diverse environment.

Change-Id: Ia3c0dfaa58c237e424197f1406bd66fb991bea18
Story: 2005753
Task: 33455
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/44/660544/2 && git format-patch -1 --stdout FETCH_HEAD,"['rabbitmq/values.yaml', 'rabbitmq/templates/statefulset.yaml']",2,06b5993be8ec155b0873e20347b6f7db081267a2,rabbitmq-hostpath, {{- if .Values.volume.use_local_path_for_single_pod_cluster.enabled }} hostPath: path: {{ .Values.volume.use_local_path_for_single_pod_cluster.host_path }} type: DirectoryOrCreate {{- else }} {{- end }},,9,0
openstack%2Fceilometer-powervm~master~I5009b770016c0f5346b08e5586e96fa82b61d15e,openstack/ceilometer-powervm,master,I5009b770016c0f5346b08e5586e96fa82b61d15e,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-04-23 11:37:11.000000000,2019-06-18 14:37:27.000000000,,"[{'_account_id': 13637}, {'_account_id': 16069}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23695}, {'_account_id': 26575}, {'_account_id': 30305}]","[{'number': 1, 'created': '2019-04-23 11:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer-powervm/commit/12d4b7936f3c5f0c36c2d90134cf2aa2be8027a1', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I5009b770016c0f5346b08e5586e96fa82b61d15e\n'}, {'number': 2, 'created': '2019-04-23 16:40:44.000000000', 'files': ['doc/source/devref/development_environment.rst', 'tox.ini', 'devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/ceilometer-powervm/commit/b4434c4dbfc6586ef41737ab29e93f212756203c', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I5009b770016c0f5346b08e5586e96fa82b61d15e\n'}]",8,654979,b4434c4dbfc6586ef41737ab29e93f212756203c,11,7,2,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I5009b770016c0f5346b08e5586e96fa82b61d15e
",git fetch https://review.opendev.org/openstack/ceilometer-powervm refs/changes/79/654979/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,12d4b7936f3c5f0c36c2d90134cf2aa2be8027a1,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} -rhttps://opendev.org/openstack/ceilometer/plain/test-requirements.txt -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} -rhttps://opendev.org/openstack/ceilometer/plain/test-requirements.txt, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -rhttps://git.openstack.org/cgit/openstack/ceilometer/plain/test-requirements.txt -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -rhttps://git.openstack.org/cgit/openstack/ceilometer/plain/test-requirements.txt,4,4
openstack%2Fcloudkitty-dashboard~master~Ieb3f85da802def113386402e0702c7b6b076813b,openstack/cloudkitty-dashboard,master,Ieb3f85da802def113386402e0702c7b6b076813b,Modify the url of upper_constraints_file,MERGED,2019-06-18 02:08:41.000000000,2019-06-18 14:20:42.000000000,2019-06-18 14:20:41.000000000,"[{'_account_id': 7042}, {'_account_id': 7923}, {'_account_id': 8358}, {'_account_id': 9642}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-06-18 02:08:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/493f219472998766a25eb96d92752ee26fa2ebd2', 'message': 'Modify the url of upper_constraints_file\n\nDepends-On: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Ieb3f85da802def113386402e0702c7b6b076813b\n'}]",0,665843,493f219472998766a25eb96d92752ee26fa2ebd2,6,9,1,27822,,,0,"Modify the url of upper_constraints_file

Depends-On: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Ieb3f85da802def113386402e0702c7b6b076813b
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/43/665843/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,493f219472998766a25eb96d92752ee26fa2ebd2,Bug#5,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -U {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -U {opts} {packages},1,1
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fstein~I49747e104f118ef1fb2bdeb329c92d2f5fb66c56,openstack/openstack-ansible-rabbitmq_server,stable/stein,I49747e104f118ef1fb2bdeb329c92d2f5fb66c56,el7: switch to external_repo install_method,MERGED,2019-06-17 21:18:17.000000000,2019-06-18 14:12:39.000000000,2019-06-18 14:12:39.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-17 21:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/31735ecfebc36889a0e5e1565ce34c3abdb0d343', 'message': 'el7: switch to external_repo install_method\n\nThis patch changes the default deployment back to using the\nRabbitMQ external repositories.  This restores the behaviour\nto the same as the old and ships the 3.7.x series.\n\nWe deploy without HiPE by default however our testing is doing\nit with HiPE.  This patch drops it so we can actually test\nbehaviour that we deploy by default.\n\nChange-Id: I49747e104f118ef1fb2bdeb329c92d2f5fb66c56\n(cherry picked from commit 961ea180591048d69e4cea5ac756b87625b08a2a)\n'}, {'number': 2, 'created': '2019-06-17 21:18:47.000000000', 'files': ['tasks/install_yum.yml', 'vars/redhat.yml', 'tests/rabbitmq_server-overrides.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/456de90e9e1a842dd43e5915c2103afbde8aa1d4', 'message': 'el7: switch to external_repo install_method\n\nThis patch changes the default deployment back to using the\nRabbitMQ external repositories.  This restores the behaviour\nto the same as the old and ships the 3.7.x series.\n\nWe deploy without HiPE by default however our testing is doing\nit with HiPE.  This patch drops it so we can actually test\nbehaviour that we deploy by default.\n\nChange-Id: I49747e104f118ef1fb2bdeb329c92d2f5fb66c56\n(cherry picked from commit 961ea180591048d69e4cea5ac756b87625b08a2a)\n'}]",0,665763,456de90e9e1a842dd43e5915c2103afbde8aa1d4,9,3,2,1004,,,0,"el7: switch to external_repo install_method

This patch changes the default deployment back to using the
RabbitMQ external repositories.  This restores the behaviour
to the same as the old and ships the 3.7.x series.

We deploy without HiPE by default however our testing is doing
it with HiPE.  This patch drops it so we can actually test
behaviour that we deploy by default.

Change-Id: I49747e104f118ef1fb2bdeb329c92d2f5fb66c56
(cherry picked from commit 961ea180591048d69e4cea5ac756b87625b08a2a)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/63/665763/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/install_yum.yml', 'vars/redhat.yml', 'tests/rabbitmq_server-overrides.yml']",3,31735ecfebc36889a0e5e1565ce34c3abdb0d343,bug/1832376,,rabbitmq_hipe_compile: True,33,7
openstack%2Fneutron-lib~master~Id10b06bd980a3e4c2accd14388bfcfabe37033d8,openstack/neutron-lib,master,Id10b06bd980a3e4c2accd14388bfcfabe37033d8,Fix subnet_dns_publish_fixed_ip extension,MERGED,2019-06-17 12:45:49.000000000,2019-06-18 14:06:48.000000000,2019-06-18 14:06:48.000000000,"[{'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 12:45:49.000000000', 'files': ['neutron_lib/api/definitions/subnet_dns_publish_fixed_ip.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d2cabd9ed8cd64f1840f3d003fbf6922eb094d4b', 'message': ""Fix subnet_dns_publish_fixed_ip extension\n\nDepending on ``subnet`` as required extension doesn't work because it\ndoesn't exist.\n\nChange-Id: Id10b06bd980a3e4c2accd14388bfcfabe37033d8\n""}]",0,665658,d2cabd9ed8cd64f1840f3d003fbf6922eb094d4b,9,4,1,13252,,,0,"Fix subnet_dns_publish_fixed_ip extension

Depending on ``subnet`` as required extension doesn't work because it
doesn't exist.

Change-Id: Id10b06bd980a3e4c2accd14388bfcfabe37033d8
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/58/665658/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/definitions/subnet_dns_publish_fixed_ip.py'],1,d2cabd9ed8cd64f1840f3d003fbf6922eb094d4b,fix-subnet-ext,, subnet.ALIAS,0,1
openstack%2Ftripleo-upgrade~stable%2Fstein~Ibfaa563a5882af0bff33b0e0cba92cb1b6a282fb,openstack/tripleo-upgrade,stable/stein,Ibfaa563a5882af0bff33b0e0cba92cb1b6a282fb,Update tripleo-validations before upgrading the undercloud.,MERGED,2019-06-17 09:14:23.000000000,2019-06-18 14:02:56.000000000,2019-06-18 14:02:55.000000000,"[{'_account_id': 8042}, {'_account_id': 11491}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-06-17 09:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5d5a92b50a173c957d14598f58fd4daf46b9b758', 'message': ""Update tripleo-validations before upgrading the undercloud.\n\nFrom rocky to stein, the tripleo-validations project has experienced\na big refactoring having some directories and files moved. When\nupgrading the undercloud, the openstack-tripleo-validations is not\nincluded as a dependency in the tripleo-heat-templates, tripleo-common\nor tripleoclient spec file and as a consequence, the package won't get\nupdated.\n\nThe result is that the undercloud upgrade operation fails because it\ncan't locate the tripleo-validations files in the right location:\nNo such playbook: /usr/share/openstack-tripleo-validations/playbooks/\nundercloud-disk-space-pre-upgrade.yaml\n\nThis patch ensures that openstack-tripleo-validations package is also\nupgraded before upgrading the undercloud.\n\nChange-Id: Ibfaa563a5882af0bff33b0e0cba92cb1b6a282fb\nCloses-Bug: #1831041\n(cherry picked from commit 9ac1e58fe6ddf1c06f9784b0d18a8baadb238e93)\n""}, {'number': 2, 'created': '2019-06-17 13:26:43.000000000', 'files': ['tasks/common/undercloud_prerequisites.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9bc2a040bc64e00337a384dc73bd649e8e71a7a1', 'message': ""Update tripleo-validations before upgrading the undercloud.\n\nFrom rocky to stein, the tripleo-validations project has experienced\na big refactoring having some directories and files moved. When\nupgrading the undercloud, the openstack-tripleo-validations is not\nincluded as a dependency in the tripleo-heat-templates, tripleo-common\nor tripleoclient spec file and as a consequence, the package won't get\nupdated.\n\nThe result is that the undercloud upgrade operation fails because it\ncan't locate the tripleo-validations files in the right location:\nNo such playbook: /usr/share/openstack-tripleo-validations/playbooks/\nundercloud-disk-space-pre-upgrade.yaml\n\nThis patch ensures that openstack-tripleo-validations package is also\nupgraded before upgrading the undercloud.\n\nChange-Id: Ibfaa563a5882af0bff33b0e0cba92cb1b6a282fb\nCloses-Bug: #1831041\n(cherry picked from commit 9ac1e58fe6ddf1c06f9784b0d18a8baadb238e93)\n""}]",0,665619,9bc2a040bc64e00337a384dc73bd649e8e71a7a1,11,6,2,21537,,,0,"Update tripleo-validations before upgrading the undercloud.

From rocky to stein, the tripleo-validations project has experienced
a big refactoring having some directories and files moved. When
upgrading the undercloud, the openstack-tripleo-validations is not
included as a dependency in the tripleo-heat-templates, tripleo-common
or tripleoclient spec file and as a consequence, the package won't get
updated.

The result is that the undercloud upgrade operation fails because it
can't locate the tripleo-validations files in the right location:
No such playbook: /usr/share/openstack-tripleo-validations/playbooks/
undercloud-disk-space-pre-upgrade.yaml

This patch ensures that openstack-tripleo-validations package is also
upgraded before upgrading the undercloud.

Change-Id: Ibfaa563a5882af0bff33b0e0cba92cb1b6a282fb
Closes-Bug: #1831041
(cherry picked from commit 9ac1e58fe6ddf1c06f9784b0d18a8baadb238e93)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/19/665619/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_prerequisites.yaml'],1,5d5a92b50a173c957d14598f58fd4daf46b9b758,bug/1831041-stable/stein," - ""openstack-tripleo-validations""",,1,0
openstack%2Fpuppet-tripleo~stable%2Fstein~Id9bdd36aa0ee81424212e3a89185311817a15aee,openstack/puppet-tripleo,stable/stein,Id9bdd36aa0ee81424212e3a89185311817a15aee,RabbitMQ: always allow promotion on HA queue during failover,MERGED,2019-06-14 20:51:14.000000000,2019-06-18 14:02:55.000000000,2019-06-18 14:02:55.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25613}]","[{'number': 1, 'created': '2019-06-14 20:51:14.000000000', 'files': ['manifests/profile/pacemaker/rabbitmq_bundle.pp', 'releasenotes/notes/rabbitmq_extra_policies-69cbc0a4afeac963.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/af8b1cfbf78e87840b1d6200974069b2a2d38051', 'message': 'RabbitMQ: always allow promotion on HA queue during failover\n\nWhen the RabbitMQ experience a rolling restart of its peers, the\nmaster of an HA queue fails over from one replica to another.\n\nIf there are messages sent to the HA queue while some rabbit\nnodes are restarting, the latter will reconnect as unsynchronized\nslaves. It can happen that during a rolling restart, all rabbit\nnodes reconnect as unsynchronized, which prevents RabbitMQ to\nautomatically elect a new Master for failover. This has other\nside effects on fanout queues and may prevent OpenStack\nnotification to be consumed properly.\n\nChange the HA policy to always allow a promotion even when all\nreplicas are unsynchronized. When such rare condition happens,\nrely on OpenStack client to retry RPC if they need to.\n\nCloses-Bug: #1823305\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nChange-Id: Id9bdd36aa0ee81424212e3a89185311817a15aee\n(cherry picked from commit 610c8d8d41cd4b6bfd228ce1012416e424db625d)\n'}]",0,665473,af8b1cfbf78e87840b1d6200974069b2a2d38051,18,8,1,20778,,,0,"RabbitMQ: always allow promotion on HA queue during failover

When the RabbitMQ experience a rolling restart of its peers, the
master of an HA queue fails over from one replica to another.

If there are messages sent to the HA queue while some rabbit
nodes are restarting, the latter will reconnect as unsynchronized
slaves. It can happen that during a rolling restart, all rabbit
nodes reconnect as unsynchronized, which prevents RabbitMQ to
automatically elect a new Master for failover. This has other
side effects on fanout queues and may prevent OpenStack
notification to be consumed properly.

Change the HA policy to always allow a promotion even when all
replicas are unsynchronized. When such rare condition happens,
rely on OpenStack client to retry RPC if they need to.

Closes-Bug: #1823305
Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>
Change-Id: Id9bdd36aa0ee81424212e3a89185311817a15aee
(cherry picked from commit 610c8d8d41cd4b6bfd228ce1012416e424db625d)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/73/665473/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/rabbitmq_bundle.pp', 'releasenotes/notes/rabbitmq_extra_policies-69cbc0a4afeac963.yaml']",2,af8b1cfbf78e87840b1d6200974069b2a2d38051,rabbitmq-queues-stable/stein,--- issues: - | Allow a hiera key to add an additional rabbitmq policy in the resource agend. ,,29,4
openstack%2Fpython-tripleoclient~master~Id475d9bf7d746564334f9eec2648695811d546af,openstack/python-tripleoclient,master,Id475d9bf7d746564334f9eec2648695811d546af,Rename build containers job,ABANDONED,2019-06-18 13:42:06.000000000,2019-06-18 13:58:06.000000000,,[{'_account_id': 14985}],"[{'number': 1, 'created': '2019-06-18 13:42:06.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f8b84eceebe9e508fc7fba61064e51b2e2cb89db', 'message': 'Rename build containers job\n\nDepends-On: https://review.opendev.org/664947\nChange-Id: Id475d9bf7d746564334f9eec2648695811d546af\n'}]",1,665983,f8b84eceebe9e508fc7fba61064e51b2e2cb89db,4,1,1,24162,,,0,"Rename build containers job

Depends-On: https://review.opendev.org/664947
Change-Id: Id475d9bf7d746564334f9eec2648695811d546af
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/83/665983/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,f8b84eceebe9e508fc7fba61064e51b2e2cb89db,build-containers-separate-branch-jobs, - tripleo-ci-build-containers-jobs, - tripleo-build-containers-jobs,1,1
openstack%2Fdesignate~master~I334f7b6983b98581d9f1236f6ee9f0791b585695,openstack/designate,master,I334f7b6983b98581d9f1236f6ee9f0791b585695,Added config opts unit tests,MERGED,2019-06-10 07:39:27.000000000,2019-06-18 13:57:56.000000000,2019-06-18 13:57:56.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}, {'_account_id': 30596}]","[{'number': 1, 'created': '2019-06-10 07:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9d7c741356b1419efebd38c21aa734d6b158493c', 'message': 'Added basic tests for config opts\n\nIncreasing the test coverage on the opts code.\n\nChange-Id: I334f7b6983b98581d9f1236f6ee9f0791b585695\n'}, {'number': 2, 'created': '2019-06-10 07:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b421c2cb152288de20f6de1abbec0a293ba4d347', 'message': 'Added config opts unit tests\n\nIncreasing the test coverage on the opts code.\n\nChange-Id: I334f7b6983b98581d9f1236f6ee9f0791b585695\n'}, {'number': 3, 'created': '2019-06-10 07:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e32ad5e9034c03fb25b0de3fbe616b4594dddf1d', 'message': 'Added config opts unit tests\n\nIncreasing the test coverage on the opts code.\n\nChange-Id: I334f7b6983b98581d9f1236f6ee9f0791b585695\n'}, {'number': 4, 'created': '2019-06-10 18:11:31.000000000', 'files': ['designate/tests/unit/test_conf.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/0d8154defa6bea03960de4c504b93bdf05d375dc', 'message': 'Added config opts unit tests\n\nIncreasing the test coverage on the opts code.\n\nChange-Id: I334f7b6983b98581d9f1236f6ee9f0791b585695\n'}]",0,664214,0d8154defa6bea03960de4c504b93bdf05d375dc,13,3,4,22623,,,0,"Added config opts unit tests

Increasing the test coverage on the opts code.

Change-Id: I334f7b6983b98581d9f1236f6ee9f0791b585695
",git fetch https://review.opendev.org/openstack/designate refs/changes/14/664214/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/tests/unit/test_conf.py'],1,9d7c741356b1419efebd38c21aa734d6b158493c,improved_tests,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock import oslotest.base from designate.conf import opts from designate.conf import worker class TestConfOpts(oslotest.base.BaseTestCase): def setUp(self): super(TestConfOpts, self).setUp() def test_tupleize(self): self.assertEqual([('a', 'b')], opts._tupleize({'a': 'b'})) def test_list_opts(self): self.assertIsInstance(opts.list_opts(), list) @mock.patch('pkgutil.iter_modules') def test_list_module_names(self, mock_iter_modules): mock_iter_modules.return_value = iter( [ (None, 'api', False), (None, 'worker', False), (None, 'unknown', True), ] ) self.assertEqual(['api', 'worker'], opts._list_module_names()) def test_import_modules(self): self.assertEqual([worker], opts._import_modules(['worker'])) @mock.patch('importlib.import_module') def test_import_modules2(self, mock_import_module): mock_import_module.return_value = None self.assertRaisesRegex( Exception, ""The module 'designate.conf.invalid' should have a 'list_opts' "" ""function which returns the config options."", opts._import_modules, ['invalid'] ) ",,53,0
openstack%2Fdesignate~master~I27d2774bf89fefcbf2015dd1a92fd96c7a2057eb,openstack/designate,master,I27d2774bf89fefcbf2015dd1a92fd96c7a2057eb,Improving test coverage of designate backend,MERGED,2019-06-09 23:07:31.000000000,2019-06-18 13:57:55.000000000,2019-06-18 13:57:55.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}, {'_account_id': 30596}]","[{'number': 1, 'created': '2019-06-09 23:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/40ccc1539a58a0a28a5caac620f44156f387b7b5', 'message': 'Improving test coverage of designate backend\n\nChange-Id: I27d2774bf89fefcbf2015dd1a92fd96c7a2057eb\n'}, {'number': 2, 'created': '2019-06-09 23:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8ea44b74702a32c9f9b4c423e9e1ebbc6a9439dc', 'message': 'Improving test coverage of designate backend\n\nChange-Id: I27d2774bf89fefcbf2015dd1a92fd96c7a2057eb\n'}, {'number': 3, 'created': '2019-06-17 17:00:20.000000000', 'files': ['designate/tests/unit/backend/test_designate.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/eb2443603bbceec1c3a2f2371e66d734da046d9e', 'message': 'Improving test coverage of designate backend\n\nChange-Id: I27d2774bf89fefcbf2015dd1a92fd96c7a2057eb\n'}]",0,664167,eb2443603bbceec1c3a2f2371e66d734da046d9e,11,3,3,22623,,,0,"Improving test coverage of designate backend

Change-Id: I27d2774bf89fefcbf2015dd1a92fd96c7a2057eb
",git fetch https://review.opendev.org/openstack/designate refs/changes/67/664167/3 && git format-patch -1 --stdout FETCH_HEAD,['designate/tests/unit/backend/test_designate.py'],1,40ccc1539a58a0a28a5caac620f44156f387b7b5,improved_tests,"from designateclient.v2 import clientfrom designate.tests import fixtures self.stdlog = fixtures.StandardLogging() self.useFixture(self.stdlog) {'key': 'auth_url', 'value': 'auth_url'}, {'key': 'project_domain_name', 'value': 'project_domain'}, {'key': 'user_domain_name', 'value': 'user_domain'}, zones = NonCallableMagicMock(spec_set=['create', 'delete']) self.backend._client = self.client def test_get_options(self): self.assertEqual('auth_url', self.backend.auth_url) self.assertEqual('user', self.backend.username) self.assertEqual('secret', self.backend.password) self.assertEqual('project', self.backend.project_name) self.assertEqual('project_domain', self.backend.project_domain_name) self.assertEqual('user_domain', self.backend.user_domain_name) self.assertEqual('dns', self.backend.service_type) self.assertEqual('RegionOne', self.backend.region_name) def test_get_client(self): self.backend._client = None self.assertIsInstance(self.backend.client, client.Client) self.backend.create_zone(self.admin_context, self.zone) self.assertIn( 'Creating zone e2bed4dc-9d01-11e4-89d3-123b93f75cba / ' 'example.com.', self.stdlog.logger.output ) def test_delete_zone(self): self.backend.delete_zone(self.admin_context, self.zone) self.assertIn( 'Deleting zone e2bed4dc-9d01-11e4-89d3-123b93f75cba / ' 'example.com.', self.stdlog.logger.output ) self.backend.delete_zone(self.admin_context, self.zone) self.client.zones.delete.side_effect = exceptions.RemoteError self.assertRaises( exceptions.RemoteError, self.backend.delete_zone, self.admin_context, self.zone, ) def test_delete_zone_exc_not_found(self): self.client.zones.delete.side_effect = exceptions.NotFound self.backend.delete_zone(self.admin_context, self.zone) self.assertIn( 'Zone e2bed4dc-9d01-11e4-89d3-123b93f75cba not found on remote ' 'Designate, Ignoring', self.stdlog.logger.output )","import testtoolsfrom mock import patch {'key': 'project_zone_name', 'value': 'project_zone'}, {'key': 'user_zone_name', 'value': 'user_zone'}, zones = NonCallableMagicMock(spec_set=[ 'create', 'delete']) with patch.object(self.backend, '_get_client', return_value=self.client): self.backend.create_zone(self.admin_context, self.zone) def test_delete_zone(self): with patch.object(self.backend, '_get_client', return_value=self.client): self.backend.delete_zone(self.admin_context, self.zone) with patch.object(self.backend, '_get_client', return_value=self.client): self.backend.delete_zone(self.admin_context, self.zone) self.client.zones.delete.side_effect = Exception with testtools.ExpectedException(Exception): with patch.object(self.backend, '_get_client', return_value=self.client): self.backend.delete_zone(self.admin_context, self.zone)",58,20
openstack%2Fos-testr~master~I3a6084db9f86627e3e94abaa4fb4aec52a01126a,openstack/os-testr,master,I3a6084db9f86627e3e94abaa4fb4aec52a01126a,Deprecate ostestr command,MERGED,2018-06-08 09:12:49.000000000,2019-06-18 13:44:34.000000000,2019-06-18 13:44:34.000000000,"[{'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-08 09:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/d780e7d25ba913f6eb59d05526378ebf22049582', 'message': ""Deprecate ostestr command\n\nThis commit adds deprecation comments to README and the user\ndoc. We already swiched to use `stestr` command instead of\n`ostestr`. And we haven't maintained this command recently. So, it\nwould be good to make it clearer for users.\n\nChange-Id: I3a6084db9f86627e3e94abaa4fb4aec52a01126a\n""}, {'number': 2, 'created': '2019-04-19 05:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/2e774ae96c652393f0063c61bd34661b1169d555', 'message': ""Deprecate ostestr command\n\nThis commit adds deprecation comments to README, the user doc and\nwarning message to in the command. We already switched to use\n`stestr` command instead of `ostestr`. And we haven't maintained\nthis command recently. So, it would be good to make it clearer for\nusers.\n\nChange-Id: I3a6084db9f86627e3e94abaa4fb4aec52a01126a\n""}, {'number': 3, 'created': '2019-04-19 05:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/6ffd129cfbe5f54ed28bd7132ba2d2b475ab0871', 'message': ""Deprecate ostestr command\n\nThis commit adds deprecation comments to README, the user doc and\nwarning message to in the command. We already switched to use\n`stestr` command instead of `ostestr`. And we haven't maintained\nthis command recently. So, it would be good to make it clearer for\nusers.\n\nChange-Id: I3a6084db9f86627e3e94abaa4fb4aec52a01126a\n""}, {'number': 4, 'created': '2019-04-22 09:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/c8f119ef7227bdb1d12091ad8155044e8ea41526', 'message': ""Deprecate ostestr command\n\nThis commit adds deprecation comments to README, the user doc and\nwarning message to in the command. We already switched to use\n`stestr` command instead of `ostestr`. And we haven't maintained\nthis command recently. So, it would be good to make it clearer for\nusers.\n\nChange-Id: I3a6084db9f86627e3e94abaa4fb4aec52a01126a\n""}, {'number': 5, 'created': '2019-04-22 09:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/94cd83eaef7d918dacc37ba05389ee989a93d881', 'message': ""Deprecate ostestr command\n\nThis commit adds deprecation comments to README, the user doc and\nwarning message to in the command. We already switched to use\n`stestr` command instead of `ostestr`. And we haven't maintained\nthis command recently. So, it would be good to make it clearer for\nusers.\n\nChange-Id: I3a6084db9f86627e3e94abaa4fb4aec52a01126a\n""}, {'number': 6, 'created': '2019-05-25 11:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/611c4d71fc070ccc1cbe3202f0c5392b94144dff', 'message': ""Deprecate ostestr command\n\nThis commit adds deprecation comments to README, the user doc and\nwarning message to in the command. We already switched to use\n`stestr` command instead of `ostestr`. And we haven't maintained\nthis command recently. So, it would be good to make it clearer for\nusers.\n\nChange-Id: I3a6084db9f86627e3e94abaa4fb4aec52a01126a\n""}, {'number': 7, 'created': '2019-05-25 12:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/bf471e7bfe71f4ae0f34d94a5cd59c0fa9370156', 'message': ""Deprecate ostestr command\n\nThis commit adds deprecation comments to README, the user doc and\nwarning message to in the command. We already switched to use\n`stestr` command instead of `ostestr`. And we haven't maintained\nthis command recently. So, it would be good to make it clearer for\nusers.\n\nChange-Id: I3a6084db9f86627e3e94abaa4fb4aec52a01126a\n""}, {'number': 8, 'created': '2019-05-25 12:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/454e86319049093e4a9aa0011930144126e1682a', 'message': ""Deprecate ostestr command\n\nThis commit adds deprecation comments to README, the user doc and\nwarning message to in the command. We already switched to use\n`stestr` command instead of `ostestr`. And we haven't maintained\nthis command recently. So, it would be good to make it clearer for\nusers.\n\nChange-Id: I3a6084db9f86627e3e94abaa4fb4aec52a01126a\n""}, {'number': 9, 'created': '2019-06-03 08:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/b8269824c3ece1a2b3545e828ee7704d58a8a1fe', 'message': ""Deprecate ostestr command\n\nThis commit adds deprecation comments to README, the user doc and\nwarning message to in the command. We already switched to use\n`stestr` command instead of `ostestr`. And we haven't maintained\nthis command recently. So, it would be good to make it clearer for\nusers.\n\nChange-Id: I3a6084db9f86627e3e94abaa4fb4aec52a01126a\n""}, {'number': 10, 'created': '2019-06-03 09:44:33.000000000', 'files': ['releasenotes/source/unreleased.rst', 'doc/source/user/ostestr.rst', 'test-requirements.txt', 'releasenotes/notes/deprecate-ostestr-command-3ac0bff93265fa09.yaml', 'README.rst', '.zuul.yaml', 'os_testr/ostestr.py', 'releasenotes/source/index.rst', 'doc/requirements.txt', 'tox.ini', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/os-testr/commit/a5bc990fdc6f6e8d93f41114fface8d64ae7a274', 'message': ""Deprecate ostestr command\n\nThis commit adds deprecation comments to README, the user doc and\nwarning message to in the command. We already switched to use\n`stestr` command instead of `ostestr`. And we haven't maintained\nthis command recently. So, it would be good to make it clearer for\nusers.\n\nChange-Id: I3a6084db9f86627e3e94abaa4fb4aec52a01126a\n""}]",9,573636,a5bc990fdc6f6e8d93f41114fface8d64ae7a274,38,5,10,5689,,,0,"Deprecate ostestr command

This commit adds deprecation comments to README, the user doc and
warning message to in the command. We already switched to use
`stestr` command instead of `ostestr`. And we haven't maintained
this command recently. So, it would be good to make it clearer for
users.

Change-Id: I3a6084db9f86627e3e94abaa4fb4aec52a01126a
",git fetch https://review.opendev.org/openstack/os-testr refs/changes/36/573636/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/ostestr.rst', 'README.rst']",2,d780e7d25ba913f6eb59d05526378ebf22049582,deprecate-ostestr-command,.. warning:: ``ostestr`` command is deprecated. Use `stestr`_ instead. .. _stestr: https://stestr.readthedocs.io/,,10,0
openstack%2Ftempest~master~I565adbe2a3ebbdd1d73143380b976df1a9502d0f,openstack/tempest,master,I565adbe2a3ebbdd1d73143380b976df1a9502d0f,Specify availability zone to create instances and volumes,MERGED,2016-12-08 09:13:08.000000000,2019-06-18 13:44:26.000000000,2019-06-18 13:44:26.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 7350}, {'_account_id': 7872}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 9816}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12393}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 26297}, {'_account_id': 30105}]","[{'number': 1, 'created': '2016-12-08 09:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0d1aba1dac984cd957b36ad4f808d14b8e434e84', 'message': 'Add support for cross_az_attach = False\n\nFor clouds with separate AZs (like two independent fire compartments)\nthe cross_az_attach feature is typically used. But using this\nfeature the scenario tests in tempest will fail since Cinder/Nova\nwill schedule the AZ independently.\n\nChange-Id: I565adbe2a3ebbdd1d73143380b976df1a9502d0f\nCloses-bug: #1647999\n'}, {'number': 2, 'created': '2016-12-08 09:16:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a94e7356229ce171929e619834683ebb7d0a1c7b', 'message': 'Add support for cross_az_attach = False\n\nFor clouds with separate AZs (like two independent fire compartments)\nthe cross_az_attach feature is typically used. But using this\nfeature the scenario tests in tempest will fail since Cinder/Nova\nwill schedule the AZ independently.\n\nChange-Id: I565adbe2a3ebbdd1d73143380b976df1a9502d0f\nCloses-bug: #1647999\n'}, {'number': 3, 'created': '2019-03-26 05:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5f434161da1da7960666609e4fab91037f03bb21', 'message': 'Specify availability zone to create instances and volumes\n\nFor clouds with separate AZs (like two independent fire compartments)\nthe cross_az_attach feature is typically used. But using this\nfeature the scenario tests in tempest will fail since Cinder/Nova\nwill schedule the AZ independently.\n\nThis patch introduces a new parameter default_availability_zone\nto specify the availability zone to create instances and volumes,\nso that we can confirm that these resources are created in the same\navailability zone.\n\nChange-Id: I565adbe2a3ebbdd1d73143380b976df1a9502d0f\nCloses-bug: #1647999\n'}, {'number': 4, 'created': '2019-03-27 01:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/26419394372416894005a043a860318df8d3bb5f', 'message': 'Specify availability zone to create instances and volumes\n\nFor clouds with separate AZs (like two independent fire compartments)\nthe cross_az_attach feature is typically used. But using this\nfeature the scenario tests in tempest will fail since Cinder/Nova\nwill schedule the AZ independently.\n\nThis patch introduces a new parameter default_availability_zone\nto specify the availability zone to create instances and volumes,\nso that we can confirm that these resources are created in the same\navailability zone.\n\nChange-Id: I565adbe2a3ebbdd1d73143380b976df1a9502d0f\nCloses-bug: #1647999\n'}, {'number': 5, 'created': '2019-04-09 05:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ef76643e19b1c0e01034870c592fc5109cff50d3', 'message': 'Specify availability zone to create instances and volumes\n\nFor clouds with separate AZs (like two independent fire compartments)\nthe cross_az_attach feature is typically used. But using this\nfeature the scenario tests in tempest will fail since Cinder/Nova\nwill schedule the AZ independently.\n\nThis patch introduces a new parameter default_availability_zone\nto specify the availability zone to create instances and volumes,\nso that we can confirm that these resources are created in the same\navailability zone.\n\nChange-Id: I565adbe2a3ebbdd1d73143380b976df1a9502d0f\nCloses-bug: #1647999\n'}, {'number': 6, 'created': '2019-06-05 14:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/64d1d5fff5b0ba9a6199da8b48323ffab795b650', 'message': 'Specify availability zone to create instances and volumes\n\nFor clouds with separate AZs (like two independent fire compartments)\nthe cross_az_attach feature is typically used. But using this\nfeature the scenario tests in tempest will fail since Cinder/Nova\nwill schedule the AZ independently.\n\nThis patch introduces a new parameter default_availability_zone\nto specify the availability zone to create instances and volumes,\nso that we can confirm that these resources are created in the same\navailability zone.\n\nChange-Id: I565adbe2a3ebbdd1d73143380b976df1a9502d0f\nCloses-bug: #1647999\n'}, {'number': 7, 'created': '2019-06-06 08:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/16fec0420a3e1b227e981f1c2760e859638fb1f4', 'message': 'Specify availability zone to create instances and volumes\n\nFor clouds with separate AZs (like two independent fire compartments)\nthe cross_az_attach feature is typically used. But using this\nfeature the scenario tests in tempest will fail since Cinder/Nova\nwill schedule the AZ independently.\n\nThis patch introduces a new parameter default_availability_zone\nto specify the availability zone to create instances and volumes,\nso that we can confirm that these resources are created in the same\navailability zone.\n\nChange-Id: I565adbe2a3ebbdd1d73143380b976df1a9502d0f\nCloses-bug: #1647999\n'}, {'number': 8, 'created': '2019-06-07 14:20:02.000000000', 'files': ['tempest/scenario/manager.py', 'releasenotes/notes/bug-1647999-7aeda50a8d082d4c.yaml', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/979e494da246711751e97236e2681d6db9bd3e4e', 'message': 'Specify availability zone to create instances and volumes\n\nFor clouds with separate AZs (like two independent fire compartments)\nthe cross_az_attach feature is typically used. But using this\nfeature the scenario tests in tempest will fail since Cinder/Nova\nwill schedule the AZ independently.\n\nThis patch introduces a new parameter compute_volume_common_az\nto specify the availability zone to create instances and volumes,\nso that we can confirm that these resources are created in the same\navailability zone.\n\nChange-Id: I565adbe2a3ebbdd1d73143380b976df1a9502d0f\nCloses-bug: #1647999\n'}]",20,408498,979e494da246711751e97236e2681d6db9bd3e4e,56,17,8,7872,,,0,"Specify availability zone to create instances and volumes

For clouds with separate AZs (like two independent fire compartments)
the cross_az_attach feature is typically used. But using this
feature the scenario tests in tempest will fail since Cinder/Nova
will schedule the AZ independently.

This patch introduces a new parameter compute_volume_common_az
to specify the availability zone to create instances and volumes,
so that we can confirm that these resources are created in the same
availability zone.

Change-Id: I565adbe2a3ebbdd1d73143380b976df1a9502d0f
Closes-bug: #1647999
",git fetch https://review.opendev.org/openstack/tempest refs/changes/98/408498/5 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/scenario/manager.py', 'tempest/config.py']",2,0d1aba1dac984cd957b36ad4f808d14b8e434e84,bug/1647999," 'Supported clients: ""udhcpc"", ""dhclient""'), cfg.StrOpt('cross_availability_zone', default=None, help='AZ to be used for Cinder and Nova for cases the cloud ' 'has cross_az_attach set to false. This will not support ' 'clouds using the Neutron AZ feature currently.')"," 'Supported clients: ""udhcpc"", ""dhclient""')",14,1
openstack%2Fkolla~master~Ieb769d782fec9206513b1a4202fd52f2a48f6226,openstack/kolla,master,Ieb769d782fec9206513b1a4202fd52f2a48f6226,Mark non-x86_64 Monasca builds as not supported,ABANDONED,2019-06-18 13:18:41.000000000,2019-06-18 13:28:28.000000000,,[],"[{'number': 1, 'created': '2019-06-18 13:18:41.000000000', 'files': ['docker/monasca/monasca-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/39dfbafe1a1e4ca4820aeba35c8f63a57d6b6bc5', 'message': 'Mark non-x86_64 Monasca builds as not supported\n\nMonasca has not been tested in these environments.\n\nFor arm64 builds librdkafka is known to be missing.\n\nChange-Id: Ieb769d782fec9206513b1a4202fd52f2a48f6226\n'}]",0,665978,39dfbafe1a1e4ca4820aeba35c8f63a57d6b6bc5,2,0,1,17669,,,0,"Mark non-x86_64 Monasca builds as not supported

Monasca has not been tested in these environments.

For arm64 builds librdkafka is known to be missing.

Change-Id: Ieb769d782fec9206513b1a4202fd52f2a48f6226
",git fetch https://review.opendev.org/openstack/kolla refs/changes/78/665978/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/monasca/monasca-base/Dockerfile.j2'],1,39dfbafe1a1e4ca4820aeba35c8f63a57d6b6bc5,,{% if install_type == 'binary' or base_arch != 'x86_64' %} RUN echo '{{ install_type }} not yet available for {{ base_distro }} on {{ base_arch }}' \,{% if install_type == 'binary' %} RUN echo '{{ install_type }} not yet available for {{ base_distro }}' \,2,2
openstack%2Fsushy-tools~master~Id327f38b4b3713dcbd07590f2ea26b404199e018,openstack/sushy-tools,master,Id327f38b4b3713dcbd07590f2ea26b404199e018,Simplify resource initialization,MERGED,2019-04-24 10:11:11.000000000,2019-06-18 13:21:42.000000000,2019-06-18 13:21:42.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-04-24 10:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/e09b976752488f0d1155cf100829cc50f884fb64', 'message': 'Simplify resource initialization\n\nThis change collects emulated resources under an umbrella object\nand performs their lazy initialization as well as cleaning.\n\nBesides code reduction, this change is a prerequisite for a more\nefficient handling of the upcoming emulated resources.\n\nNo user-visible changes should be caused by this modification.\n\nChange-Id: Id327f38b4b3713dcbd07590f2ea26b404199e018\n'}, {'number': 2, 'created': '2019-04-24 13:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/93f03396689853d71f14c4e753c64174f5135053', 'message': 'Simplify resource initialization\n\nThis change collects emulated resources under an umbrella object\nand performs their lazy initialization as well as cleaning.\n\nBesides code reduction, this change is a prerequisite for a more\nefficient handling of the upcoming emulated resources.\n\nNo user-visible changes should be caused by this modification.\n\nChange-Id: Id327f38b4b3713dcbd07590f2ea26b404199e018\n'}, {'number': 3, 'created': '2019-04-24 16:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/644c3304ff13a51bcb23f2a7dad14eb42e908cd4', 'message': 'Simplify resource initialization\n\nThis change collects emulated resources under an umbrella object\nand performs their lazy initialization as well as cleaning.\n\nBesides code reduction, this change is a prerequisite for a more\nefficient handling of the upcoming emulated resources.\n\nIt also fixes Flask config file load as pointed by the\n`SUSHY_EMULATOR_CONFIG` environment variable when running under\nWSGI server. Before this fix, the above mentioned environment\nvariable was ignored and user config file not loaded.\n\nChange-Id: Id327f38b4b3713dcbd07590f2ea26b404199e018\n'}, {'number': 4, 'created': '2019-04-26 16:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/6161e223bd7158c8217b889bfb3b3fefdcfede57', 'message': 'Simplify resource initialization\n\nThis change collects emulated resources under an umbrella object\nand performs their lazy initialization as well as cleaning.\n\nBesides code reduction, this change is a prerequisite for a more\nefficient handling of the upcoming emulated resources.\n\nIt also fixes Flask config file load as pointed by the\n`SUSHY_EMULATOR_CONFIG` environment variable when running under\nWSGI server. Before this fix, the above mentioned environment\nvariable was ignored and user config file not loaded.\n\nChange-Id: Id327f38b4b3713dcbd07590f2ea26b404199e018\n'}, {'number': 5, 'created': '2019-04-29 10:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/c0ee04700a27a0200e45d3e3eaf1df0ac19e69e1', 'message': 'Simplify resource initialization\n\nThis change collects emulated resources under an umbrella object\nand performs their lazy initialization as well as cleaning.\n\nBesides code reduction, this change is a prerequisite for a more\nefficient handling of the upcoming emulated resources.\n\nIt also fixes Flask config file load as pointed by the\n`SUSHY_EMULATOR_CONFIG` environment variable when running under\nWSGI server. Before this fix, the above mentioned environment\nvariable was ignored and user config file not loaded.\n\nChange-Id: Id327f38b4b3713dcbd07590f2ea26b404199e018\n'}, {'number': 6, 'created': '2019-06-11 10:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/d9e0d16cdef0df0ada2b9261f90b5febaa04cce9', 'message': 'Simplify resource initialization\n\nThis change collects emulated resources under an umbrella object\nand performs their lazy initialization as well as cleaning.\n\nBesides code reduction, this change is a prerequisite for a more\nefficient handling of the upcoming emulated resources.\n\nIt also fixes Flask config file load as pointed by the\n`SUSHY_EMULATOR_CONFIG` environment variable when running under\nWSGI server. Before this fix, the above mentioned environment\nvariable was ignored and user config file not loaded.\n\nChange-Id: Id327f38b4b3713dcbd07590f2ea26b404199e018\n'}, {'number': 7, 'created': '2019-06-18 10:03:42.000000000', 'files': ['sushy_tools/emulator/main.py', 'sushy_tools/tests/unit/emulator/test_main.py', 'releasenotes/notes/fix-wsgi-config-e3f63f91152225f8.yaml'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/157b396ae7e446313b6aba198ef48585d8ae66fe', 'message': 'Simplify resource initialization\n\nThis change collects emulated resources under an umbrella object\nand performs their lazy initialization as well as cleaning.\n\nBesides code reduction, this change is a prerequisite for a more\nefficient handling of the upcoming emulated resources.\n\nIt also fixes Flask config file load as pointed by the\n`SUSHY_EMULATOR_CONFIG` environment variable when running under\nWSGI server. Before this fix, the above mentioned environment\nvariable was ignored and user config file not loaded.\n\nChange-Id: Id327f38b4b3713dcbd07590f2ea26b404199e018\n'}]",0,655385,157b396ae7e446313b6aba198ef48585d8ae66fe,20,3,7,26340,,,0,"Simplify resource initialization

This change collects emulated resources under an umbrella object
and performs their lazy initialization as well as cleaning.

Besides code reduction, this change is a prerequisite for a more
efficient handling of the upcoming emulated resources.

It also fixes Flask config file load as pointed by the
`SUSHY_EMULATOR_CONFIG` environment variable when running under
WSGI server. Before this fix, the above mentioned environment
variable was ignored and user config file not loaded.

Change-Id: Id327f38b4b3713dcbd07590f2ea26b404199e018
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/85/655385/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/main.py', 'sushy_tools/tests/unit/emulator/test_main.py']",2,e09b976752488f0d1155cf100829cc50f884fb64,05-rework-drivers-init,"@mock.patch('sushy_tools.emulator.main.Resources') def test_error(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems def test_root_resource(self, resources_mock): def test_collection_resource(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems def test_system_resource_get(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems def test_system_resource_patch(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems def test_system_reset_action_on(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems def test_system_reset_action_forceon(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems def test_system_reset_action_forceoff(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems def test_system_reset_action_shutdown(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems def test_system_reset_action_restart(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems def test_system_reset_action_forcerestart(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems def test_system_reset_action_nmi(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems def test_instance_denied_allow_all(self, resources_mock): def test_instance_denied_disallow_all(self, resources_mock): def test_instance_denied_undefined_option(self, resources_mock): def test_instance_denied_allow_some(self, resources_mock): def test_instance_denied_disallow_some(self, resources_mock): def test_get_bios(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems systems_mock.get_bios.return_value = { ""attribute 1"": ""value 1"", ""attribute 2"": ""value 2"" } def test_get_bios_existing(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems systems_mock.get_bios.return_value = { ""attribute 1"": ""value 1"", ""attribute 2"": ""value 2"" } self.assertEqual( {""attribute 1"": ""value 1"", ""attribute 2"": ""value 2""}, response.json['Attributes']) def test_bios_settings_patch(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems systems_mock.set_bios.assert_called_once_with( 'xxxx-yyyy-zzzz', {'key': 'value'}) def test_set_bios(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems def test_reset_bios(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems def test_ethernet_interfaces_collection(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems systems_mock.get_nics.return_value = [ {'id': 'nic1', 'mac': '52:54:00:4e:5d:37'}, {'id': 'nic2', 'mac': '00:11:22:33:44:55'}] def test_ethernet_interfaces_collection_empty(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems def test_ethernet_interface(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems systems_mock.get_nics.return_value = [ {'id': 'nic1', 'mac': '52:54:00:4e:5d:37'}, {'id': 'nic2', 'mac': '00:11:22:33:44:55'}] def test_ethernet_interface_not_found(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value systems_mock = resources_mock.systems systems_mock.get_nics.return_value = [ {'id': 'nic1', 'mac': '52:54:00:4e:5d:37'}, {'id': 'nic2', 'mac': '00:11:22:33:44:55'} ]","@mock.patch('sushy_tools.emulator.main.SYSTEMS') main.SYSTEMS = None def test_error(self, systems_mock): systems_mock = systems_mock.return_value def test_root_resource(self, systems_mock): def test_collection_resource(self, systems_mock): systems_mock = systems_mock.return_value def test_system_resource_get(self, systems_mock): systems_mock = systems_mock.return_value def test_system_resource_patch(self, systems_mock): systems_mock = systems_mock.return_value def test_system_reset_action_on(self, systems_mock): systems_mock = systems_mock.return_value def test_system_reset_action_forceon(self, systems_mock): systems_mock = systems_mock.return_value def test_system_reset_action_forceoff(self, systems_mock): systems_mock = systems_mock.return_value def test_system_reset_action_shutdown(self, systems_mock): systems_mock = systems_mock.return_value def test_system_reset_action_restart(self, systems_mock): systems_mock = systems_mock.return_value def test_system_reset_action_forcerestart(self, systems_mock): systems_mock = systems_mock.return_value def test_system_reset_action_nmi(self, systems_mock): systems_mock = systems_mock.return_value def test_instance_denied_allow_all(self, systems_mock): def test_instance_denied_disallow_all(self, systems_mock): def test_instance_denied_undefined_option(self, systems_mock): def test_instance_denied_allow_some(self, systems_mock): def test_instance_denied_disallow_some(self, systems_mock): def test_get_bios(self, systems_mock): systems_mock = systems_mock.return_value systems_mock.get_bios.return_value = {""attribute 1"": ""value 1"", ""attribute 2"": ""value 2""} def test_get_bios_existing(self, systems_mock): systems_mock = systems_mock.return_value systems_mock.get_bios.return_value = {""attribute 1"": ""value 1"", ""attribute 2"": ""value 2""} self.assertEqual({""attribute 1"": ""value 1"", ""attribute 2"": ""value 2""}, response.json['Attributes']) def test_bios_settings_patch(self, systems_mock): systems_mock = systems_mock.return_value systems_mock.set_bios.assert_called_once_with('xxxx-yyyy-zzzz', {'key': 'value'}) def test_set_bios(self, systems_mock): systems_mock = systems_mock.return_value def test_reset_bios(self, systems_mock): systems_mock = systems_mock.return_value def test_ethernet_interfaces_collection(self, systems_mock): systems_mock = systems_mock.return_value systems_mock.get_nics.return_value = [{'id': 'nic1', 'mac': '52:54:00:4e:5d:37'}, {'id': 'nic2', 'mac': '00:11:22:33:44:55'}] def test_ethernet_interfaces_collection_empty(self, systems_mock): systems_mock = systems_mock.return_value def test_ethernet_interface(self, systems_mock): systems_mock = systems_mock.return_value systems_mock.get_nics.return_value = [{'id': 'nic1', 'mac': '52:54:00:4e:5d:37'}, {'id': 'nic2', 'mac': '00:11:22:33:44:55'}] def test_ethernet_interface_not_found(self, systems_mock): systems_mock = systems_mock.return_value systems_mock.get_nics.return_value = [{'id': 'nic1', 'mac': '52:54:00:4e:5d:37'}, {'id': 'nic2', 'mac': '00:11:22:33:44:55'}]",146,151
openstack%2Fopenstack-helm-infra~master~Ibe4c0e529576080042ac18b1e4956ba19cdc8022,openstack/openstack-helm-infra,master,Ibe4c0e529576080042ac18b1e4956ba19cdc8022,Ceph-OSD: Fix volume mount typo,ABANDONED,2019-06-05 14:40:20.000000000,2019-06-18 13:21:19.000000000,,"[{'_account_id': 8898}, {'_account_id': 17499}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-05 14:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/30ea3bfb25f591dd50dae8aee8a16dc107f16c9f', 'message': 'Ceph-OSD: Fix volume mount typo\n\nThis fixes a typo in the volume mount for the pod-var-lib-ceph-tmp\nmount, where the read only key was incorrectly set to ReadOnly.\nThis will cause validation issues with the move to helm 2.14.0\n\nChange-Id: Ibe4c0e529576080042ac18b1e4956ba19cdc8022\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-06-09 08:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/41079404bd60f79ceb278b9f6af0851f50598f9d', 'message': 'Ceph-OSD: Fix volume mount typo\n\nThis fixes a typo in the volume mount for the pod-var-lib-ceph-tmp\nmount, where the read only key was incorrectly set to ReadOnly.\nThis will cause validation issues with the move to helm 2.14.0\n\nChange-Id: Ibe4c0e529576080042ac18b1e4956ba19cdc8022\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-06-14 12:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/488e42c47d66e6b378fef7f5f388e142dd2e808a', 'message': 'Ceph-OSD: Fix volume mount typo\n\nThis fixes a typo in the volume mount for the pod-var-lib-ceph-tmp\nmount, where the read only key was incorrectly set to ReadOnly.\nThis will cause validation issues with the move to helm 2.14.0\n\nChange-Id: Ibe4c0e529576080042ac18b1e4956ba19cdc8022\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 4, 'created': '2019-06-18 06:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fadc1b2d4c6f7d30aa6cfe6a360aded23c87a9a8', 'message': 'Ceph-OSD: Fix volume mount typo\n\nThis fixes a typo in the volume mount for the pod-var-lib-ceph-tmp\nmount, where the read only key was incorrectly set to ReadOnly.\nThis will cause validation issues with the move to helm 2.14.0\n\nChange-Id: Ibe4c0e529576080042ac18b1e4956ba19cdc8022\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,663346,fadc1b2d4c6f7d30aa6cfe6a360aded23c87a9a8,28,6,4,17591,,,0,"Ceph-OSD: Fix volume mount typo

This fixes a typo in the volume mount for the pod-var-lib-ceph-tmp
mount, where the read only key was incorrectly set to ReadOnly.
This will cause validation issues with the move to helm 2.14.0

Change-Id: Ibe4c0e529576080042ac18b1e4956ba19cdc8022
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/46/663346/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-osd/templates/daemonset-osd.yaml'],1,30ea3bfb25f591dd50dae8aee8a16dc107f16c9f,fix-ceph-osd-typo, readOnly: false, ReadOnly: false,1,1
openstack%2Fmagnum~master~I7ac0cffcdc8712503e2ea584b12d28ed3a7748b7,openstack/magnum,master,I7ac0cffcdc8712503e2ea584b12d28ed3a7748b7,k8s_fedora: Update to kubernetes v1.14.3,MERGED,2019-04-03 13:21:06.000000000,2019-06-18 13:05:59.000000000,2019-06-14 12:30:18.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 28935}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-04-03 13:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7a6badb04172b96776a6517f5430a4fc520a589a', 'message': 'WIP: k8s_fedora: Update to kubernetes v1.14.0\n\nChange-Id: I7ac0cffcdc8712503e2ea584b12d28ed3a7748b7\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 2, 'created': '2019-04-05 06:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/4ce7ed26ab18e0c3a67b1197bb0c8d3fa9ae52af', 'message': 'WIP: k8s_fedora: Update to kubernetes v1.14.0\n\nChange-Id: I7ac0cffcdc8712503e2ea584b12d28ed3a7748b7\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 3, 'created': '2019-04-05 13:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5dcf1290d2cacf91c7b7acf5a328694b55de0ad5', 'message': 'k8s_fedora: Update to kubernetes v1.14.0\n\nstory: 2005380\ntask: 30362\n\nChange-Id: I7ac0cffcdc8712503e2ea584b12d28ed3a7748b7\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 4, 'created': '2019-04-12 12:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/4bbf549df436111e6dd538108af30edbf2c1bc67', 'message': 'k8s_fedora: Update to kubernetes v1.14.0\n\nstory: 2005380\ntask: 30362\n\nChange-Id: I7ac0cffcdc8712503e2ea584b12d28ed3a7748b7\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 5, 'created': '2019-04-12 14:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3d55d4a5c023de62d0320a49dffb0450980052b6', 'message': 'k8s_fedora: Update to kubernetes v1.14.0\n\nstory: 2005380\ntask: 30362\n\nChange-Id: I7ac0cffcdc8712503e2ea584b12d28ed3a7748b7\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 6, 'created': '2019-06-12 07:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e79021ba1b371b1bd05b38205889e839be5c23a6', 'message': 'k8s_fedora: Update to kubernetes v1.14.0\n\nstory: 2005380\ntask: 30362\n\nChange-Id: I7ac0cffcdc8712503e2ea584b12d28ed3a7748b7\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 7, 'created': '2019-06-12 07:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/dfda4b67e4b7403cc2e09ac1b11f2cf1b3304b14', 'message': 'k8s_fedora: Update to kubernetes v1.14.0\n\nstory: 2005380\ntask: 30362\n\nChange-Id: I7ac0cffcdc8712503e2ea584b12d28ed3a7748b7\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 8, 'created': '2019-06-12 07:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/96df719f84bec33e6ab539b496ee511dd15f3e71', 'message': 'k8s_fedora: Update to kubernetes v1.14.0\n\nstory: 2005380\ntask: 30362\n\nChange-Id: I7ac0cffcdc8712503e2ea584b12d28ed3a7748b7\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 9, 'created': '2019-06-13 07:38:58.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/ca049a405c14ae2cda1250fdb6f4db9d6e9477ea', 'message': 'k8s_fedora: Update to kubernetes v1.14.3\n\nstory: 2005380\ntask: 30362\n\nChange-Id: I7ac0cffcdc8712503e2ea584b12d28ed3a7748b7\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",1,649609,ca049a405c14ae2cda1250fdb6f4db9d6e9477ea,34,6,9,20498,,,0,"k8s_fedora: Update to kubernetes v1.14.3

story: 2005380
task: 30362

Change-Id: I7ac0cffcdc8712503e2ea584b12d28ed3a7748b7
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/09/649609/9 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml'],1,7a6badb04172b96776a6517f5430a4fc520a589a,update-kubernetes-version, default: v1.14.0 default: v1.14.0, default: v1.11.6 default: v0.2.0,2,2
openstack%2Fopenstack-ansible~master~If15ad5316aa13627961ed472f3466fe9584e3e6a,openstack/openstack-ansible,master,If15ad5316aa13627961ed472f3466fe9584e3e6a,Increase CentOS test coverage,ABANDONED,2018-10-13 22:20:56.000000000,2019-06-18 12:59:38.000000000,,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 13095}, {'_account_id': 19298}, {'_account_id': 19578}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-13 22:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c9aae388e887e0a755502d68fd399ab4d55dd5f7', 'message': 'Increase CentOS test coverage\n\nThis patch increases the coverage for CentOS by making the\nfunctioning aio_distro_lxc jobs voting and adding Ceph\njobs as well for CentOS.\n\nChange-Id: If15ad5316aa13627961ed472f3466fe9584e3e6a\n'}, {'number': 2, 'created': '2018-11-08 15:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a2f18dfb3951fbf835c7ef11b0a2d7f08d8fa091', 'message': 'Increase CentOS test coverage\n\nThis patch increases the coverage for CentOS by making the\nfunctioning aio_distro_lxc jobs voting and adding Ceph\njobs as well for CentOS.\n\nChange-Id: If15ad5316aa13627961ed472f3466fe9584e3e6a\n'}, {'number': 3, 'created': '2018-12-14 21:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/43aa48394376ff4875a82321eb34a65bf45214d6', 'message': 'Increase CentOS test coverage\n\nThis patch increases the coverage for CentOS by making the\nfunctioning aio_distro_lxc jobs voting and adding Ceph\njobs as well for CentOS.\n\nChange-Id: If15ad5316aa13627961ed472f3466fe9584e3e6a\n'}, {'number': 4, 'created': '2018-12-15 04:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0d3649595d3c95271d316e335a0644b44cf29a1e', 'message': 'Increase CentOS test coverage\n\nThis patch increases the coverage for CentOS by making the\nfunctioning aio_distro_lxc jobs voting and adding Ceph\njobs as well for CentOS.\n\nChange-Id: If15ad5316aa13627961ed472f3466fe9584e3e6a\n'}, {'number': 5, 'created': '2018-12-15 04:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c1d0ae2af0200672b00a74721e48fa5b72f61931', 'message': 'Increase CentOS test coverage\n\nThis patch increases the coverage for CentOS by making the\nfunctioning aio_distro_lxc jobs voting and adding Ceph\njobs as well for CentOS.\n\nChange-Id: If15ad5316aa13627961ed472f3466fe9584e3e6a\n'}, {'number': 6, 'created': '2018-12-15 04:23:55.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8011ca771c04733869b1a1eb67bff741238db592', 'message': 'Increase CentOS test coverage\n\nThis patch increases the coverage for CentOS by making the\nfunctioning aio_distro_lxc jobs voting and adding Ceph\njobs as well for CentOS.\n\nChange-Id: If15ad5316aa13627961ed472f3466fe9584e3e6a\n'}]",4,610311,8011ca771c04733869b1a1eb67bff741238db592,31,7,6,1004,,,0,"Increase CentOS test coverage

This patch increases the coverage for CentOS by making the
functioning aio_distro_lxc jobs voting and adding Ceph
jobs as well for CentOS.

Change-Id: If15ad5316aa13627961ed472f3466fe9584e3e6a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/11/610311/6 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,c9aae388e887e0a755502d68fd399ab4d55dd5f7,compute-kit-for-all, - openstack-ansible-deploy-aio_distro_lxc-centos-7 jobs: - openstack-ansible-deploy-aio_distro_lxc-centos-7 - openstack-ansible-deploy-ceph-centos-7 jobs: - openstack-ansible-deploy-ceph-centos-7 - openstack-ansible-deploy-distro_ceph-centos-7 jobs: - openstack-ansible-deploy-distro_ceph-centos-7, - openstack-ansible-deploy-aio_distro_lxc-centos-7: voting: false jobs: [] jobs: [] jobs: [],9,5
openstack%2Fopenstack-ansible-os_nova~master~If806807c3e861c088a31528b768b7169506f54c2,openstack/openstack-ansible-os_nova,master,If806807c3e861c088a31528b768b7169506f54c2,Fix small Ansible deprecation warnings,ABANDONED,2018-09-16 16:52:45.000000000,2019-06-18 12:58:53.000000000,,"[{'_account_id': 1004}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-16 16:52:45.000000000', 'files': ['tasks/nova_service_setup.yml', 'tasks/nova_db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/17f71cd040dcec35f8a9f075782bf2ef560c077f', 'message': ""Fix small Ansible deprecation warnings\n\nThere are a few cases where we're using Jinja2 templating in\nthe 'when' condition which is deprecated.\n\nAlso, we're using a few references of | instead of 'is' which\nare resolved in this case.\n\nChange-Id: If806807c3e861c088a31528b768b7169506f54c2\n""}]",0,602980,17f71cd040dcec35f8a9f075782bf2ef560c077f,8,3,1,1004,,,0,"Fix small Ansible deprecation warnings

There are a few cases where we're using Jinja2 templating in
the 'when' condition which is deprecated.

Also, we're using a few references of | instead of 'is' which
are resolved in this case.

Change-Id: If806807c3e861c088a31528b768b7169506f54c2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/80/602980/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/nova_service_setup.yml', 'tasks/nova_db_setup.yml']",2,17f71cd040dcec35f8a9f075782bf2ef560c077f,, - not data_migrations is skipped - data_migrations is succeeded, - not data_migrations | skipped - data_migrations is succeeded,4,4
openstack%2Fproject-config~master~I2b1f21fb6e01558c8cee27de116dfc857a1a1c91,openstack/project-config,master,I2b1f21fb6e01558c8cee27de116dfc857a1a1c91,Add openSUSE 15.1 to the nodepool building as opensuse-15,MERGED,2019-05-20 14:23:48.000000000,2019-06-18 12:58:28.000000000,2019-06-18 12:58:28.000000000,"[{'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 6593}, {'_account_id': 7069}, {'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-20 14:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/5861090d8df566b3f8c60e2d70dc61b5b2f35791', 'message': 'Add openSUSE 15.1 to the nodepool building as opensuse-15\n\nThe main reason why we can do this cleanup now is because there has been a policy\nchange with openSUSE Leap 15: the minor releases like 15.1 and 15.2 are similarly\nbackwards compatible like e.g. minor releases in centos 7.x are, as such\nwe can build an opensuse 15 image in the ci and update all jobs to that\none to have less continuous effort in maintaining the opensuse builds.\n\nChange-Id: I2b1f21fb6e01558c8cee27de116dfc857a1a1c91\n'}, {'number': 2, 'created': '2019-06-12 19:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b82aa1b5f5a256b9311201204ecda920cc2ca4a2', 'message': 'Add openSUSE 15.1 to the nodepool building as opensuse-15\n\nThe main reason why we can do this cleanup now is because there has been a policy\nchange with openSUSE Leap 15: the minor releases like 15.1 and 15.2 are similarly\nbackwards compatible like e.g. minor releases in centos 7.x are, as such\nwe can build an opensuse 15 image in the ci and update all jobs to that\none to have less continuous effort in maintaining the opensuse builds.\n\nChange-Id: I2b1f21fb6e01558c8cee27de116dfc857a1a1c91\n'}, {'number': 3, 'created': '2019-06-14 15:09:01.000000000', 'files': ['nodepool/nl04.openstack.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/nl03.openstack.org.yaml', 'nodepool/nl02.openstack.org.yaml', 'nodepool/nl01.openstack.org.yaml', 'grafana/create-nodepool-dib.sh', 'grafana/nodepool-dib.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/eb81a56ac180b8d9cc4853c61ea02ebff4cb76e2', 'message': 'Add openSUSE 15.1 to the nodepool building as opensuse-15\n\nThe main reason why we can do this cleanup now is because there has been a policy\nchange with openSUSE Leap 15: the minor releases like 15.1 and 15.2 are similarly\nbackwards compatible like e.g. minor releases in centos 7.x are, as such\nwe can build an opensuse 15 image in the ci and update all jobs to that\none to have less continuous effort in maintaining the opensuse builds.\n\nDepends-On: https://review.opendev.org/#/c/660137/\n\nChange-Id: I2b1f21fb6e01558c8cee27de116dfc857a1a1c91\n'}]",6,660131,eb81a56ac180b8d9cc4853c61ea02ebff4cb76e2,16,9,3,6593,,,0,"Add openSUSE 15.1 to the nodepool building as opensuse-15

The main reason why we can do this cleanup now is because there has been a policy
change with openSUSE Leap 15: the minor releases like 15.1 and 15.2 are similarly
backwards compatible like e.g. minor releases in centos 7.x are, as such
we can build an opensuse 15 image in the ci and update all jobs to that
one to have less continuous effort in maintaining the opensuse builds.

Depends-On: https://review.opendev.org/#/c/660137/

Change-Id: I2b1f21fb6e01558c8cee27de116dfc857a1a1c91
",git fetch https://review.opendev.org/openstack/project-config refs/changes/31/660131/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nl04.openstack.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/nl03.openstack.org.yaml', 'nodepool/nl02.openstack.org.yaml', 'grafana/create-nodepool-dib.sh', 'nodepool/nl01.openstack.org.yaml', 'grafana/nodepool-dib.yaml']",7,5861090d8df566b3f8c60e2d70dc61b5b2f35791,," If you would like to make changes to this dashboard, please see the grafana directory in [project-config](https://opendev.org/openstack/project-config/src/branch/master/grafana/afs.yaml).# AUTOGENERATED : openSUSE 15 - title: openSUSE 15 showTitle: true height: 200px panels: - title: Build status colorBackground: true type: singlestat valueName: current valueMaps: - value: 0 text: ""OK"" - value: 1 text: ""FAILED"" thresholds: 0.1,0.9 span: 2 targets: - target: ""stats.gauges.nodepool.dib_image_build.opensuse-15.qcow2.rc"" valueFontSize: ""50%"" - title: Image size type: graph span: 3 yaxes: - format: decbytes min: 0 - format: decbytes min: 0 targets: - target: aliasByNode(stats.gauges.nodepool.dib_image_build.opensuse-15.*.size, 5) refId: A - title: Build duration type: graph span: 3 yaxes: - format: ms min: 0 - format: ms min: 0 targets: - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.opensuse-15.qcow2.duration.mean, 'None'), ""Time"") refId: A"," If you would like to make changes to this dashboard, please see the grafana directory in [project-config](https://opendev.org/openstack/project-config/src/grafana/afs.yaml).",131,1
openstack%2Fplacement~master~I668a7daf4ae157ce95ddcc1438990ea37ed2de90,openstack/placement,master,I668a7daf4ae157ce95ddcc1438990ea37ed2de90,DNM: Visualize RP trees in gabbit fixtures,ABANDONED,2019-06-12 12:41:54.000000000,2019-06-18 12:56:26.000000000,,"[{'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-12 12:41:54.000000000', 'files': ['placement/tests/functional/fixtures/gabbits.py', 'test-requirements.txt', 'placement/tests/functional/gabbits/dump_fixture.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/7931d250f929ac889d06d35e5c0128bd06a260bf', 'message': 'DNM: Visualize RP trees in gabbit fixtures\n\nHave you ever wondered what RP trees a gabbit fixture creates for the\nfunctional test?\n\nBy using osc-placement-tree [1] we can dump the placement db as a dot file.\n\nI have no intention to directly merge this into placement. This commit just\nshows a tool that can help with debugging.\n\n[1] https://github.com/gibizer/osc-placement-tree\n\nChange-Id: I668a7daf4ae157ce95ddcc1438990ea37ed2de90\n'}]",2,664878,7931d250f929ac889d06d35e5c0128bd06a260bf,8,4,1,9708,,,0,"DNM: Visualize RP trees in gabbit fixtures

Have you ever wondered what RP trees a gabbit fixture creates for the
functional test?

By using osc-placement-tree [1] we can dump the placement db as a dot file.

I have no intention to directly merge this into placement. This commit just
shows a tool that can help with debugging.

[1] https://github.com/gibizer/osc-placement-tree

Change-Id: I668a7daf4ae157ce95ddcc1438990ea37ed2de90
",git fetch https://review.opendev.org/openstack/placement refs/changes/78/664878/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/functional/fixtures/gabbits.py', 'test-requirements.txt', 'placement/tests/functional/gabbits/dump_fixture.yaml']",3,7931d250f929ac889d06d35e5c0128bd06a260bf,,fixtures: - NUMANetworkFixture tests: - name: dumping fixture data GET: / ,,53,0
openstack%2Fopenstack-ansible~stable%2Fstein~I84e8f3493f85a54cacecc59b5d201cd35185332e,openstack/openstack-ansible,stable/stein,I84e8f3493f85a54cacecc59b5d201cd35185332e,Bump SHAs for stable/stein,MERGED,2019-06-16 14:15:04.000000000,2019-06-18 12:54:24.000000000,2019-06-18 12:54:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-16 14:15:04.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/98093fe00b0c9e838635dabcda1754ad451cf782', 'message': 'Bump SHAs for stable/stein\n\nChange-Id: I84e8f3493f85a54cacecc59b5d201cd35185332e\n'}]",0,665543,98093fe00b0c9e838635dabcda1754ad451cf782,7,3,1,17068,,,0,"Bump SHAs for stable/stein

Change-Id: I84e8f3493f85a54cacecc59b5d201cd35185332e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/43/665543/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,98093fe00b0c9e838635dabcda1754ad451cf782,bump_osa, version: 088a92488a1f7c20f695c912c08a15b393821d08 version: 5332d9609e1007c405ec33efd7cf91c0f3161079 version: df96e915165d99d34871b83d0c0d361c110b7961 version: 7c78bdcf7fdce01363369d5568718de3ffe51618 version: cb63d273ca51d4b7351076b834dc309e1c4f3ddc version: 64659d2c8292ca429e1939e5a54df155a0493065 version: 9a601b65884e7bf86e84d1799e3e1dea9a79c997, version: 7bfd5feda3a7baaf69b5d10169210f04141efcf3 version: 7ab6f81bbb6b2d37e1d9e2fcee01198f1f8ec071 version: 08748a1cc35085fefdb673a1cd8be75b4587811f version: e652079f1092f4d9c6c26b90c029a7f1e6e1bb80 version: d86aa76fb50168fd9ac3771a4e3d328d248274a8 version: b5fdf5fdcbe7ffbd8624972a50bc7ee13f1a6ca4 version: 4aa9b89bf648f12c2ea0268b04ce3288b25aadbb,56,56
openstack%2Fmistral~master~I90eb6bcfac00c88312f1b61d0f6db98e3db9553d,openstack/mistral,master,I90eb6bcfac00c88312f1b61d0f6db98e3db9553d,DNM: additional unit tests,ABANDONED,2019-06-14 19:07:37.000000000,2019-06-18 12:46:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-14 19:07:37.000000000', 'files': ['mistral/tests/unit/engine/test_subworkflows.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/bac09830791e764aa492d57c0d319ea2c98b1296', 'message': 'DNM: additional unit tests\n\nadditional unit tests for I6e0d9db93e103eaf3a329dfa1b4153975c135008\n\nChange-Id: I90eb6bcfac00c88312f1b61d0f6db98e3db9553d\n'}]",0,665459,bac09830791e764aa492d57c0d319ea2c98b1296,3,1,1,11391,,,0,"DNM: additional unit tests

additional unit tests for I6e0d9db93e103eaf3a329dfa1b4153975c135008

Change-Id: I90eb6bcfac00c88312f1b61d0f6db98e3db9553d
",git fetch https://review.opendev.org/openstack/mistral refs/changes/59/665459/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/tests/unit/engine/test_subworkflows.py'],1,bac09830791e764aa492d57c0d319ea2c98b1296,664509,"from mistral.db.v2.sqlalchemy import api as db_api_int def test_cascade_delete_deeper(self): wf_text = """""" version: 2.0 wf: input: - level tasks: initial: action: std.noop on-success: - recurse: <% $.level > 0 %> recurse: workflow: wf input: level: <% $.level - 1 %> """""" wf_service.create_workflows(wf_text) wf_ex = self.engine.start_workflow('wf', wf_input={""level"": 15}) self.await_workflow_success(wf_ex.id) self.assertEqual(16, len(db_api.get_workflow_executions())) # Now delete the root workflow execution and make sure that # all dependent objects are deleted as well. db_api.delete_workflow_execution(wf_ex.id) self.assertEqual(0, len(db_api.get_workflow_executions())) self.assertEqual(0, len(db_api.get_task_executions())) self.assertEqual(0, len(db_api.get_action_executions())) def test_find_subworkflows(self): wf_text = """""" version: 2.0 wf: input: - level tasks: initial: action: std.noop on-success: - recurse: <% $.level > 0 %> recurse: workflow: wf input: level: <% $.level - 1 %> """""" wf_service.create_workflows(wf_text) wf_ex = self.engine.start_workflow('wf', wf_input={""level"": 7}) self.await_workflow_success(wf_ex.id) self.assertEqual(8, len(db_api.get_workflow_executions())) sub_wf_ex_ids = db_api_int._get_all_direct_subworkflows(wf_ex.id) self.assertTrue(len(sub_wf_ex_ids) > 1)",,67,0
openstack%2Ftripleo-upgrade~master~I6edf2242c33baaf2c43f451e06c96c0633d35eec,openstack/tripleo-upgrade,master,I6edf2242c33baaf2c43f451e06c96c0633d35eec,Comment-out obsolete chunk of workflow until new one is implemented,ABANDONED,2019-05-17 15:00:05.000000000,2019-06-18 12:42:40.000000000,,"[{'_account_id': 8042}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-17 15:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/56c25444f21b4926b17a1764b1d0b77d4d86a39d', 'message': 'Comment-out obsolete chunk of workflow until new one is implemented\n\nWIP, testing for now\n\nDepends-On: Iddf30278f0cb4eb93fcbd8dc829e247bfb534562\nChange-Id: I6edf2242c33baaf2c43f451e06c96c0633d35eec\n'}, {'number': 2, 'created': '2019-05-20 11:00:21.000000000', 'files': ['templates/overcloud_upgrade_run.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/18a18e2471e38ccbb955af6f0a2c14861482077b', 'message': 'Comment-out obsolete chunk of workflow until new one is implemented\n\nCurrently we are CIing upgrade workflow in a way which is not expected\nto be used in Stein. There are patches proposed which we tested but\nthe old CI workflow blocks them from landing. Comment-out the old\nworkflow until new one is implemented, to at least unblock patches for\nnow.\n\nChange-Id: I6edf2242c33baaf2c43f451e06c96c0633d35eec\n'}]",0,659817,18a18e2471e38ccbb955af6f0a2c14861482077b,7,2,2,8042,,,0,"Comment-out obsolete chunk of workflow until new one is implemented

Currently we are CIing upgrade workflow in a way which is not expected
to be used in Stein. There are patches proposed which we tested but
the old CI workflow blocks them from landing. Comment-out the old
workflow until new one is implemented, to at least unblock patches for
now.

Change-Id: I6edf2242c33baaf2c43f451e06c96c0633d35eec
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/17/659817/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/overcloud_upgrade_run.sh.j2'],1,56c25444f21b4926b17a1764b1d0b77d4d86a39d,stein-upgrade,"# echo ""[$(date)] Runing major upgrade for {{ item }} role"" # openstack overcloud upgrade run \ # --stack {{ overcloud_stack_name }} \ # {% if tripleo_upgrade_debug|bool %} # --debug \ # {% endif -%} # --limit {{ item }} --playbook all 2>&1 # echo ""[$(date)] Finished major upgrade for {{ item }} role""","echo ""[$(date)] Runing major upgrade for {{ item }} role"" openstack overcloud upgrade run \ --stack {{ overcloud_stack_name }} \ {% if tripleo_upgrade_debug|bool %} --debug \ {% endif -%} --limit {{ item }} --playbook all 2>&1 echo ""[$(date)] Finished major upgrade for {{ item }} role""",8,8
openstack%2Fopenstack-ansible-rabbitmq_server~master~I29430b27d0153774cc495725eb1d94b1a92df620,openstack/openstack-ansible-rabbitmq_server,master,I29430b27d0153774cc495725eb1d94b1a92df620,"Revert ""Ensure that RedHat/SUSE only use a distro install""",ABANDONED,2019-06-11 18:43:34.000000000,2019-06-18 12:29:30.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-06-11 18:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/446ba88e0b2df7a84c79c02cb538c9a331af229a', 'message': 'Revert ""Ensure that RedHat/SUSE only use a distro install""\n\nThis caused a pretty big problem in terms of inconsistent\nRabbitMQ versions across releases. \n\nThis reverts commit cfc8423bfd5ad5869da4156768bc66f8c6fb77a2.\n\nChange-Id: I29430b27d0153774cc495725eb1d94b1a92df620\n'}, {'number': 2, 'created': '2019-06-11 18:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/117d76549b7d63d7ae35be260f228965cd65b9f8', 'message': 'Revert ""Ensure that RedHat/SUSE only use a distro install""\n\nThis caused a pretty big problem in terms of inconsistent\nRabbitMQ versions across releases.\n\nThis reverts commit cfc8423bfd5ad5869da4156768bc66f8c6fb77a2.\n\nIt also adds makes all of the distros install a matching version\nof RabbitMQ.\n\nTODO:\n- move to all same version\n- move to all using direct from upstream\n\nChange-Id: I29430b27d0153774cc495725eb1d94b1a92df620\n'}, {'number': 3, 'created': '2019-06-11 19:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/9fd7377a98d2b8153779caa77784c75264409888', 'message': 'Revert ""Ensure that RedHat/SUSE only use a distro install""\n\nThis caused a pretty big problem in terms of inconsistent\nRabbitMQ versions across releases.\n\nThis reverts commit cfc8423bfd5ad5869da4156768bc66f8c6fb77a2.\n\nIt also adds makes all of the distros install a matching version\nof RabbitMQ.\n\nTODO:\n- move to all same version\n- move to all using direct from upstream\n\nChange-Id: I29430b27d0153774cc495725eb1d94b1a92df620\n'}, {'number': 4, 'created': '2019-06-11 19:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/0831360a171ab4ae12df184cd6cce48c1506f1bb', 'message': 'Revert ""Ensure that RedHat/SUSE only use a distro install""\n\nThis caused a pretty big problem in terms of inconsistent\nRabbitMQ versions across releases.\n\nThis reverts commit cfc8423bfd5ad5869da4156768bc66f8c6fb77a2.\n\nIt also adds makes all of the distros install a matching version\nof RabbitMQ.\n\nTODO:\n- move to all same version\n- move to all using direct from upstream\n\nChange-Id: I29430b27d0153774cc495725eb1d94b1a92df620\n'}, {'number': 5, 'created': '2019-06-11 20:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/c6159a22196e9bb3e8fb0298f5762d645e4de95a', 'message': 'Revert ""Ensure that RedHat/SUSE only use a distro install""\n\nThis caused a pretty big problem in terms of inconsistent\nRabbitMQ versions across releases.\n\nThis reverts commit cfc8423bfd5ad5869da4156768bc66f8c6fb77a2.\n\nIt also adds makes all of the distros install a matching version\nof RabbitMQ.\n\nTODO:\n- move to all same version\n- move to all using direct from upstream\n\nChange-Id: I29430b27d0153774cc495725eb1d94b1a92df620\n'}, {'number': 6, 'created': '2019-06-11 20:36:44.000000000', 'files': ['tasks/install_portage.yml', 'tasks/rabbitmq_install.yml', 'tests/test-rabbitmq-functional.yml', 'vars/debian.yml', 'tasks/install_dnf.yml', 'handlers/main.yml', 'tasks/install_apt.yml', 'defaults/main.yml', 'tasks/rabbitmq_pre_install.yml', 'vars/main.yml', 'tasks/install_zypper.yml', 'tasks/install_yum.yml', 'vars/redhat.yml', 'tasks/rabbitmq_upgrade_check.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/47b4a41f10b6a749b6f91786858f75262a3c909b', 'message': 'Revert ""Ensure that RedHat/SUSE only use a distro install""\n\nThis caused a pretty big problem in terms of inconsistent\nRabbitMQ versions across releases.\n\nThis reverts commit cfc8423bfd5ad5869da4156768bc66f8c6fb77a2.\n\nIt also adds makes all of the distros install a matching version\nof RabbitMQ.\n\nTODO:\n- move to all same version\n- move to all using direct from upstream\n\nChange-Id: I29430b27d0153774cc495725eb1d94b1a92df620\n'}]",0,664659,47b4a41f10b6a749b6f91786858f75262a3c909b,9,3,6,1004,,,0,"Revert ""Ensure that RedHat/SUSE only use a distro install""

This caused a pretty big problem in terms of inconsistent
RabbitMQ versions across releases.

This reverts commit cfc8423bfd5ad5869da4156768bc66f8c6fb77a2.

It also adds makes all of the distros install a matching version
of RabbitMQ.

TODO:
- move to all same version
- move to all using direct from upstream

Change-Id: I29430b27d0153774cc495725eb1d94b1a92df620
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/59/664659/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/install_zypper.yml', 'tasks/install_yum.yml', 'tests/test-rabbitmq-functional.yml', 'vars/redhat.yml', 'defaults/main.yml', 'vars/suse.yml']",6,446ba88e0b2df7a84c79c02cb538c9a331af229a,bug/1832376,"# These are all here as alternative ways to get the required packages either by # installing the package directly or getting it from the CentOS mirror _rabbitmq_package_url: ""https://packagecloud.io/rabbitmq/rabbitmq-server/packages/opensuse/{{ ansible_distribution_major_version }}/rabbitmq-server-3.7.5-1.suse.noarch.rpm/download.rpm"" _rabbitmq_package_version: ""{{ rabbitmq_package_url.split('/')[-2].rsplit('.', 1)[0] }}"" _rabbitmq_release_version: ""{{ rabbitmq_package_version.split('-')[2] }}"" _rabbitmq_package_sha256: ""58a1d5242c84cae1752f149eaf2f4d26d2d886eb5812c8eaf4c985494be2eabb"" _rabbitmq_package_path: ""/opt/rabbitmq-server.rpm"" _rabbitmq_gpg_keys: - key_name: 'rabbitmq-release-signing-key.asc' keyserver: 'https://www.rabbitmq.com' - key_name: 'erlang_solutions.asc' keyserver: 'https://packages.erlang-solutions.com/ubuntu' ",,243,11
openstack%2Fhorizon~master~Id702ffe8968e8ba4f9a9834d8a16c45faca3e6ee,openstack/horizon,master,Id702ffe8968e8ba4f9a9834d8a16c45faca3e6ee,Fix :param: in docstring,MERGED,2019-06-14 09:12:33.000000000,2019-06-18 12:28:32.000000000,2019-06-18 12:28:31.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-06-14 09:12:33.000000000', 'files': ['openstack_auth/plugin/k2k.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/5adf687ff29589b5725d4ee6793e355c44539e30', 'message': 'Fix :param: in docstring\n\nIn docstring :param should be used instead of :param:.\n\nChange-Id: Id702ffe8968e8ba4f9a9834d8a16c45faca3e6ee\n'}]",0,665334,5adf687ff29589b5725d4ee6793e355c44539e30,7,3,1,20190,,,0,"Fix :param: in docstring

In docstring :param should be used instead of :param:.

Change-Id: Id702ffe8968e8ba4f9a9834d8a16c45faca3e6ee
",git fetch https://review.opendev.org/openstack/horizon refs/changes/34/665334/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_auth/plugin/k2k.py'],1,5adf687ff29589b5725d4ee6793e355c44539e30,param, :param unscoped_auth: Keystone auth plugin for unscoped user, :param: unscoped_auth: Keystone auth plugin for unscoped user,1,1
openstack%2Fhorizon~master~I674dc6997da9dab9ce2ffbef728ef8939185a651,openstack/horizon,master,I674dc6997da9dab9ce2ffbef728ef8939185a651,Remove volume_backup_list_paged from the volume tests file,MERGED,2019-06-13 07:11:56.000000000,2019-06-18 12:26:30.000000000,2019-06-18 12:26:29.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-06-13 07:11:56.000000000', 'files': ['openstack_dashboard/dashboards/project/volumes/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a4acc21dac698ae38cbe3e0540dfbe702d7ad75f', 'message': 'Remove volume_backup_list_paged from the volume tests file\n\nVolume_backup_list_paged is not used in tests.py, so delete it\n\nChange-Id: I674dc6997da9dab9ce2ffbef728ef8939185a651\n'}]",0,665081,a4acc21dac698ae38cbe3e0540dfbe702d7ad75f,7,3,1,27822,,,0,"Remove volume_backup_list_paged from the volume tests file

Volume_backup_list_paged is not used in tests.py, so delete it

Change-Id: I674dc6997da9dab9ce2ffbef728ef8939185a651
",git fetch https://review.opendev.org/openstack/horizon refs/changes/81/665081/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/volumes/tests.py'],1,a4acc21dac698ae38cbe3e0540dfbe702d7ad75f,Bug#1," api.cinder: ['volume_backup_supported',"," api.cinder: ['volume_backup_list_paged', 'volume_backup_supported',",1,2
openstack%2Fkolla-ansible~master~Id1a65ab3379ca76192e9291f941b9b675a05ff09,openstack/kolla-ansible,master,Id1a65ab3379ca76192e9291f941b9b675a05ff09,Comment out all variables in globals.yml,MERGED,2019-06-16 08:55:31.000000000,2019-06-18 12:19:10.000000000,2019-06-18 12:19:09.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-16 08:55:31.000000000', 'files': ['etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/16e58a463a288ffb2e28fa62eabec65dd803e05f', 'message': 'Comment out all variables in globals.yml\n\nTo be consistent.\n\nAlso fix surrounding comments.\n\nChange-Id: Id1a65ab3379ca76192e9291f941b9b675a05ff09\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",2,665534,16e58a463a288ffb2e28fa62eabec65dd803e05f,8,4,1,30491,,,0,"Comment out all variables in globals.yml

To be consistent.

Also fix surrounding comments.

Change-Id: Id1a65ab3379ca76192e9291f941b9b675a05ff09
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/34/665534/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kolla/globals.yml'],1,16e58a463a288ffb2e28fa62eabec65dd803e05f,globals-commented,"#kolla_internal_vip_address: ""10.10.10.254""# Configure glance upgrade option. # Due to this feature being experimental in glance, # the default value is ""no"". #glance_enable_rolling_upgrade: ""no""# The following value must be set when enabling ironic, # the value format is ""192.168.0.10,192.168.0.100"". #ironic_dnsmasq_dhcp_range:# The following values must be set when enabling tempest #tempest_image_id: #tempest_flavor_ref_id: #tempest_public_network_id: #tempest_floating_network_name:","kolla_internal_vip_address: ""10.10.10.254""# Configure glance upgrade option, due to this feature is experimental # in glance, so default value should be set to ""no"". glance_enable_rolling_upgrade: ""no""# following value must be set when enable ironic, the value format # is ""192.168.0.10,192.168.0.100"". ironic_dnsmasq_dhcp_range:# following value must be set when enable tempest tempest_image_id: tempest_flavor_ref_id: tempest_public_network_id: tempest_floating_network_name:",13,12
openstack%2Frequirements~master~Ie36a5334f84f9025e1ceb1d83cc3dc4f21aad92f,openstack/requirements,master,Ie36a5334f84f9025e1ceb1d83cc3dc4f21aad92f,Updated from generate-constraints,MERGED,2019-06-18 06:26:43.000000000,2019-06-18 12:05:50.000000000,2019-06-18 12:05:50.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 06:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/62e66957677732fe7c5acfe45e4172691c19ff37', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie36a5334f84f9025e1ceb1d83cc3dc4f21aad92f\n'}, {'number': 2, 'created': '2019-06-18 06:35:52.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9ebc858033d7998a167941f1b7b060de60d17244', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie36a5334f84f9025e1ceb1d83cc3dc4f21aad92f\n'}]",0,665874,9ebc858033d7998a167941f1b7b060de60d17244,8,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: Ie36a5334f84f9025e1ceb1d83cc3dc4f21aad92f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/74/665874/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,62e66957677732fe7c5acfe45e4172691c19ff37,openstack/requirements/constraints/noclob,SQLAlchemy===1.3.5urllib3===1.25.3tornado===5.1.1;python_version=='2.7'tinyrpc===1.0.2boto3===1.9.170exabgp===4.1.0kubernetes===9.0.0botocore===1.12.170wrapt===1.11.2storops===1.2.0jsonschema===3.0.1,SQLAlchemy===1.3.4urllib3===1.24.3tornado===4.5.3;python_version=='2.7'tinyrpc===1.0.1boto3===1.9.169exabgp===4.0.10kubernetes===8.0.1botocore===1.12.169wrapt===1.11.1storops===1.1.0jsonschema===2.6.0,11,11
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fstein~I4d0ce755461ae27018015dd63581ba9b64cf5122,openstack/openstack-ansible-rabbitmq_server,stable/stein,I4d0ce755461ae27018015dd63581ba9b64cf5122,apt: converge upload + apt_key tasks,MERGED,2019-06-16 20:40:57.000000000,2019-06-18 11:53:29.000000000,2019-06-18 11:53:29.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-16 20:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/6690f1e8e1e6aa69eefb1147ccdaf363cad587cc', 'message': 'apt: converge upload + apt_key tasks\n\nThis patch uses a feature of apt_key that allows us to send\na payload containing the key data directly without having\nto upload it beforehand.\n\nChange-Id: I4d0ce755461ae27018015dd63581ba9b64cf5122\n'}, {'number': 2, 'created': '2019-06-16 20:41:20.000000000', 'files': ['vars/debian.yml', 'tasks/install_apt.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/92533ef830b5fb7419c6d3ed5df31ac5abb9f2dc', 'message': 'apt: converge upload + apt_key tasks\n\nThis patch uses a feature of apt_key that allows us to send\na payload containing the key data directly without having\nto upload it beforehand.\n\nChange-Id: I4d0ce755461ae27018015dd63581ba9b64cf5122\n'}]",0,665560,92533ef830b5fb7419c6d3ed5df31ac5abb9f2dc,9,3,2,1004,,,0,"apt: converge upload + apt_key tasks

This patch uses a feature of apt_key that allows us to send
a payload containing the key data directly without having
to upload it beforehand.

Change-Id: I4d0ce755461ae27018015dd63581ba9b64cf5122
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/60/665560/2 && git format-patch -1 --stdout FETCH_HEAD,"['vars/debian.yml', 'tasks/install_apt.yml']",2,6690f1e8e1e6aa69eefb1147ccdaf363cad587cc,bug/1832376,"- name: Install GPG keys apt_key: data: ""{{ lookup('file', item.file) }}"" with_items: ""{{ rabbitmq_gpg_keys | selectattr('file', 'defined') | list }}""","- name: If a keyfile is provided, copy the gpg keyfile to the key location copy: src: ""gpg/{{ item.id }}"" dest: ""{{ item.file }}"" mode: '0644' with_items: ""{{ rabbitmq_gpg_keys | selectattr('file','defined') | list }}"" tags: - rabbitmq-apt-keys - name: Install gpg keys apt_key: ""{{ key }}"" with_items: ""{{ rabbitmq_gpg_keys }}"" loop_control: loop_var: key register: _add_apt_keys until: _add_apt_keys is success retries: 5 delay: 2",6,22
openstack%2Fkolla~master~I7907ececf0c195c1b86808cb17349251d16fd9af,openstack/kolla,master,I7907ececf0c195c1b86808cb17349251d16fd9af,Add upgrade note for nova-placement-api removal,MERGED,2019-05-07 12:49:40.000000000,2019-06-18 11:40:34.000000000,2019-06-18 11:40:34.000000000,"[{'_account_id': 11444}, {'_account_id': 14826}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-05-07 12:49:40.000000000', 'files': ['releasenotes/notes/remove-nova-placement-75124fd8290a2634.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/bdd46991eb24678730ec42e428a7c97e079ceca5', 'message': 'Add upgrade note for nova-placement-api removal\n\nThe nova-placement-api image has been removed, since it was renamed to\nplacement-api in the Stein release.\n\nChange-Id: I7907ececf0c195c1b86808cb17349251d16fd9af\n'}]",0,657587,bdd46991eb24678730ec42e428a7c97e079ceca5,10,7,1,14826,,,0,"Add upgrade note for nova-placement-api removal

The nova-placement-api image has been removed, since it was renamed to
placement-api in the Stein release.

Change-Id: I7907ececf0c195c1b86808cb17349251d16fd9af
",git fetch https://review.opendev.org/openstack/kolla refs/changes/87/657587/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/remove-nova-placement-75124fd8290a2634.yaml'],1,bdd46991eb24678730ec42e428a7c97e079ceca5,split-placement,"--- upgrade: - | The ``nova-placement-api`` image was renamed to ``placement-api`` in the Stein release, and has now been removed. ",,5,0
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fstein~I95c72e9ccb2a96f1956b0b4b8d82ec8d80b29fa9,openstack/openstack-ansible-rabbitmq_server,stable/stein,I95c72e9ccb2a96f1956b0b4b8d82ec8d80b29fa9,yum: drop packaging workaround,MERGED,2019-06-16 20:40:28.000000000,2019-06-18 11:36:54.000000000,2019-06-18 11:36:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-16 20:40:28.000000000', 'files': ['tasks/install_yum.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/ca08ab7d0fcab3459aa7d85b36ad33b45a69ad0e', 'message': 'yum: drop packaging workaround\n\nThe workaround for the missing unit file is no longer necessary\nas the fix has been merged upstream.  This patch removes that\nextra change.\n\nChange-Id: I95c72e9ccb2a96f1956b0b4b8d82ec8d80b29fa9\n(cherry picked from commit aae0f5dbc037cf226d28dcf7c4745db4ad656714)\n'}]",0,665559,ca08ab7d0fcab3459aa7d85b36ad33b45a69ad0e,10,3,1,1004,,,0,"yum: drop packaging workaround

The workaround for the missing unit file is no longer necessary
as the fix has been merged upstream.  This patch removes that
extra change.

Change-Id: I95c72e9ccb2a96f1956b0b4b8d82ec8d80b29fa9
(cherry picked from commit aae0f5dbc037cf226d28dcf7c4745db4ad656714)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/59/665559/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/install_yum.yml'],1,ca08ab7d0fcab3459aa7d85b36ad33b45a69ad0e,bug/1832376,," # NOTE(hwoarang) on RedHat, rabbitmq-server depends on epmd.service which # depends on epmd.socket which runs on localhost. It is just easier to let # the rabbitmq-server launch epmd directly since we are inside a container. - name: Add rabbitmq-server systemd service (RedHat) template: src: ""rabbitmq-server.service.j2"" dest: ""/etc/systemd/system/rabbitmq-server.service"" register: rabbitmq_server_service_added # NOTE(hwoarang) Normally, this task should only be executed when # rabbitmq_install_method == 'distro'. However, the upstream package # does not contain a systemd file and as such we need to provide one. # This should be reverted once https://github.com/rabbitmq/rabbitmq-server-release/pull/31 # is merged and new builds of rabbitmq-server are available. tags: - rabbitmq-config - name: Reload the systemd daemon systemd: daemon_reload: yes when: - rabbitmq_server_service_added is changed tags: - rabbitmq-config",0,24
openstack%2Fpuppet-tripleo~master~I94831c09821f519b81016f943a251a5b12d72750,openstack/puppet-tripleo,master,I94831c09821f519b81016f943a251a5b12d72750,Quote the hiera dot notation,MERGED,2019-06-14 20:58:25.000000000,2019-06-18 11:29:23.000000000,2019-06-17 17:48:34.000000000,"[{'_account_id': 3153}, {'_account_id': 4264}, {'_account_id': 5241}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-14 20:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6e490f6c4f72b24bf3bc20b875d67a9985996e3e', 'message': 'Quote the hiera dot notation\n\nWith puppet 5, dots mean something special in hiera. You can still use\nhiera lookups with dots but you need to quote the key part.\n\nhttps://puppet.com/docs/puppet/5.4/hiera_automatic.html#hiera-dotted-notation\n\nChange-Id: I94831c09821f519b81016f943a251a5b12d72750\n'}, {'number': 2, 'created': '2019-06-15 14:35:37.000000000', 'files': ['manifests/profile/base/metrics/collectd/collectd_service.pp', 'manifests/haproxy/service_endpoints.pp', 'manifests/firewall/service_rules.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/526d040c397a69c5a173ae7ded1295bda16d296d', 'message': 'Quote the hiera dot notation\n\nWith puppet 5, dots mean something special in hiera. You can still use\nhiera lookups with dots but you need to quote the key part.\n\nhttps://puppet.com/docs/puppet/5.4/hiera_automatic.html#hiera-dotted-notation\n\nChange-Id: I94831c09821f519b81016f943a251a5b12d72750\n'}]",0,665474,526d040c397a69c5a173ae7ded1295bda16d296d,15,7,2,14985,,,0,"Quote the hiera dot notation

With puppet 5, dots mean something special in hiera. You can still use
hiera lookups with dots but you need to quote the key part.

https://puppet.com/docs/puppet/5.4/hiera_automatic.html#hiera-dotted-notation

Change-Id: I94831c09821f519b81016f943a251a5b12d72750
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/74/665474/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/metrics/collectd/collectd_service.pp'],1,6e490f6c4f72b24bf3bc20b875d67a9985996e3e,collectd," $plugins = hiera(""'tripleo.collectd.plugins.${title}'"", [])"," $plugins = hiera(""tripleo.collectd.plugins.${title}"", [])",1,1
openstack%2Fopenstack-ansible-os_ironic~master~I926586acdbc03816dccd6bfdd318aea95ffb881b,openstack/openstack-ansible-os_ironic,master,I926586acdbc03816dccd6bfdd318aea95ffb881b,Add variables for openSUSE,MERGED,2019-05-20 17:10:31.000000000,2019-06-18 11:25:51.000000000,2019-06-18 11:25:51.000000000,"[{'_account_id': 6593}, {'_account_id': 17068}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-20 17:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/3f2e6d0a17915db2a5ebd708ec3a00f5205dd566', 'message': 'Add variables for openSUSE\n\nChange-Id: I926586acdbc03816dccd6bfdd318aea95ffb881b\nSigned-off-by: Nicolas Bock <nicolas.bock@suse.com>\n'}, {'number': 2, 'created': '2019-05-20 20:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/da64d76fa1e5110e621e96f2b1b531847ff1faf5', 'message': 'Add variables for openSUSE\n\nChange-Id: I926586acdbc03816dccd6bfdd318aea95ffb881b\nSigned-off-by: Nicolas Bock <nicolas.bock@suse.com>\n'}, {'number': 3, 'created': '2019-06-14 15:48:38.000000000', 'files': ['meta/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/ee59b1b35d133d1a6dbe064d97ce659454acd142', 'message': 'Add variables for openSUSE\n\nChange-Id: I926586acdbc03816dccd6bfdd318aea95ffb881b\nSigned-off-by: Nicolas Bock <nicolas.bock@suse.com>\n'}]",3,660179,ee59b1b35d133d1a6dbe064d97ce659454acd142,22,5,3,19298,,,0,"Add variables for openSUSE

Change-Id: I926586acdbc03816dccd6bfdd318aea95ffb881b
Signed-off-by: Nicolas Bock <nicolas.bock@suse.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/79/660179/3 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse.yml'],1,3f2e6d0a17915db2a5ebd708ec3a00f5205dd566,ironic_suse,"--- # Copyright 2019, SUSE # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. cache_timeout: 600 ironic_devel_distro_packages: - git-core - libffi-devel ironic_api_distro_packages: - libxml2-devel ironic_conductor_distro_packages: - ipmitool - ipxe-bootimgs - libxml2-devel - libxslt-devel - open-iscsi - postgresql-devel - python-yaml - qemu-tools - syslinux - tftp ironic_conductor_standalone_distro_packages: - dhcp-server ironic_library_modules_paths: - ""/usr/lib/PXELINUX/pxelinux.0"" - ""/usr/lib/syslinux/modules/efi64/chain.c32"" - ""/usr/lib/syslinux/modules/bios/ldlinux.c32"" ",,43,0
openstack%2Fironic-ui~master~Ic03eb7de769e40de76afe4156da984156479e5f2,openstack/ironic-ui,master,Ic03eb7de769e40de76afe4156da984156479e5f2,Modify the url of upper_constraints_file,MERGED,2019-06-18 07:23:22.000000000,2019-06-18 11:13:05.000000000,2019-06-18 11:13:04.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-18 07:23:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/f62d07a8f68d58b23ce77a9b0403086b15ac1096', 'message': 'Modify the url of upper_constraints_file\n\nDepends-On: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Ic03eb7de769e40de76afe4156da984156479e5f2\n'}]",1,665892,f62d07a8f68d58b23ce77a9b0403086b15ac1096,7,10,1,27822,,,0,"Modify the url of upper_constraints_file

Depends-On: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Ic03eb7de769e40de76afe4156da984156479e5f2
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/92/665892/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f62d07a8f68d58b23ce77a9b0403086b15ac1096,Bug#4,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fnova~master~I4b52a638f8b94d1e59e2491f6cf54ae99b04c7f0,openstack/nova,master,I4b52a638f8b94d1e59e2491f6cf54ae99b04c7f0,Use new hotness for upper-constraints,ABANDONED,2019-05-16 17:19:16.000000000,2019-06-18 10:27:50.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-16 17:19:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/641fa23c94fb07f10f0665cbb65671458573fa2c', 'message': 'Use new hotness for upper-constraints\n\nThis is what infra are recommending now.\n\nChange-Id: I4b52a638f8b94d1e59e2491f6cf54ae99b04c7f0\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,659624,641fa23c94fb07f10f0665cbb65671458573fa2c,13,10,1,15334,,,0,"Use new hotness for upper-constraints

This is what infra are recommending now.

Change-Id: I4b52a638f8b94d1e59e2491f6cf54ae99b04c7f0
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/659624/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,641fa23c94fb07f10f0665cbb65671458573fa2c,trivial,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},1,1
openstack%2Ftripleo-ha-utils~master~Ibd884b4686477ca990271868b0555fbea80e07f1,openstack/tripleo-ha-utils,master,Ibd884b4686477ca990271868b0555fbea80e07f1,Port rally plugins to use proper modules,MERGED,2018-06-13 06:10:09.000000000,2019-06-18 10:23:12.000000000,2019-06-18 10:23:12.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 17517}, {'_account_id': 17823}, {'_account_id': 20778}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-13 06:10:09.000000000', 'files': ['rally/plugins/instanceha.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ha-utils/commit/bda4071ae6175de12985ff74a3c21bb898072696', 'message': 'Port rally plugins to use proper modules\n\nSometime ago, all OpenStack related stuff moved from the main repository\nto the separate one - https://github.com/openstack/rally-openstack .\nAll further development and maintance will be done only in a new\nrepository. As for first major release, the structure is not changed, so\nonly imports should be changed.\n\nAlso, this patch fixes deprecated usage of validators.\n\nChange-Id: Ibd884b4686477ca990271868b0555fbea80e07f1\n'}]",0,574994,bda4071ae6175de12985ff74a3c21bb898072696,8,6,1,9545,,,0,"Port rally plugins to use proper modules

Sometime ago, all OpenStack related stuff moved from the main repository
to the separate one - https://github.com/openstack/rally-openstack .
All further development and maintance will be done only in a new
repository. As for first major release, the structure is not changed, so
only imports should be changed.

Also, this patch fixes deprecated usage of validators.

Change-Id: Ibd884b4686477ca990271868b0555fbea80e07f1
",git fetch https://review.opendev.org/openstack/tripleo-ha-utils refs/changes/94/574994/1 && git format-patch -1 --stdout FETCH_HEAD,['rally/plugins/instanceha.py'],1,bda4071ae6175de12985ff74a3c21bb898072696,rally_openstack,"import socket import time from rally_openstack import consts from rally_openstack import scenario from rally_openstack.scenarios.vm import utils as vm_utils from rally_openstack.scenarios.cinder import utils as cinder_utilsimport six @validation.add(""image_valid_on_flavor"", flavor_param=""flavor"", image_param=""image"") @validation.add(""valid_command"", param_name=""command"", required=False) @validation.add(""number"", param_name=""port"", minval=1, maxval=65535, nullable=True, integer_only=True) @validation.add(""external_network_exists"", param_name=""floating_network"") @validation.add(""required_services"", services=[consts.Service.NOVA, consts.Service.CINDER]) @validation.add(""required_platform"", platform=""openstack"", users=True, admin=True)@validation.add(""image_valid_on_flavor"", flavor_param=""flavor"", image_param=""image"") @validation.add(""valid_command"", param_name=""command"", required=False) @validation.add(""number"", param_name=""port"", minval=1, maxval=65535, nullable=True, integer_only=True) @validation.add(""external_network_exists"", param_name=""floating_network"") @validation.add(""required_services"", services=[consts.Service.NOVA, consts.Service.CINDER]) @validation.add(""required_platform"", platform=""openstack"", users=True, admin=True)@validation.add(""image_valid_on_flavor"", flavor_param=""flavor"", image_param=""image"") @validation.add(""valid_command"", param_name=""command"", required=False) @validation.add(""number"", param_name=""port"", minval=1, maxval=65535, nullable=True, integer_only=True) @validation.add(""external_network_exists"", param_name=""floating_network"") @validation.add(""required_services"", services=[consts.Service.NOVA, consts.Service.CINDER]) @validation.add(""required_platform"", platform=""openstack"", users=True, admin=True)@validation.add(""image_valid_on_flavor"", flavor_param=""flavor"", image_param=""image"") @validation.add(""valid_command"", param_name=""command"", required=False) @validation.add(""number"", param_name=""port"", minval=1, maxval=65535, nullable=True, integer_only=True) @validation.add(""external_network_exists"", param_name=""floating_network"") @validation.add(""required_services"", services=[consts.Service.NOVA, consts.Service.CINDER]) @validation.add(""required_platform"", platform=""openstack"", users=True, admin=True)","import six import time import socket from rally import constsfrom rally.plugins.openstack import scenario from rally.plugins.openstack.scenarios.vm import utils as vm_utils from rally.plugins.openstack.scenarios.cinder import utils as cinder_utils@validation.image_valid_on_flavor(""flavor"", ""image"") @validation.valid_command(""command"", required=False) @validation.number(""port"", minval=1, maxval=65535, nullable=True, integer_only=True) @validation.external_network_exists(""floating_network"") @validation.required_services(consts.Service.NOVA, consts.Service.CINDER) @validation.required_openstack(users=True, admin=True)@validation.image_valid_on_flavor(""flavor"", ""image"") @validation.valid_command(""command"", required=False) @validation.number(""port"", minval=1, maxval=65535, nullable=True, integer_only=True) @validation.external_network_exists(""floating_network"") @validation.required_services(consts.Service.NOVA, consts.Service.CINDER) @validation.required_openstack(users=True, admin=True)@validation.image_valid_on_flavor(""flavor"", ""image"") @validation.valid_command(""command"", required=False) @validation.number(""port"", minval=1, maxval=65535, nullable=True, integer_only=True) @validation.external_network_exists(""floating_network"") @validation.required_services(consts.Service.NOVA, consts.Service.CINDER) @validation.required_openstack(users=True, admin=True)@validation.image_valid_on_flavor(""flavor"", ""image"") @validation.valid_command(""command"", required=False) @validation.number(""port"", minval=1, maxval=65535, nullable=True, integer_only=True) @validation.external_network_exists(""floating_network"") @validation.required_services(consts.Service.NOVA, consts.Service.CINDER) @validation.required_openstack(users=True, admin=True)",58,36
openstack%2Fkolla-ansible~stable%2Fqueens~I7841ce0cff08e315fd7761d84e1e681b1a00d43e,openstack/kolla-ansible,stable/queens,I7841ce0cff08e315fd7761d84e1e681b1a00d43e,Stop duplicating Nova cells,MERGED,2019-06-13 19:01:14.000000000,2019-06-18 10:01:04.000000000,2019-06-18 10:01:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-06-13 19:01:14.000000000', 'files': ['ansible/roles/nova/tasks/create_cells.yml', 'releasenotes/notes/stop-duplicating-nova-cells-670211557fe2cda3.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f6cfee3201d0067ee500dd507924038315ac6efd', 'message': ""Stop duplicating Nova cells\n\nCheck if a base Nova cell already exists before calling `nova-manage\ncell_v2 create_cell`, which would otherwise create a duplicate cell when\nthe transport URL or database connection change.\n\nIf a base cell already exists but the connection values have changed, we\nnow call `nova-manage cell_v2 update_cell` instead. This is only\npossible if a duplicate cell has not yet been created. If one already\nexists, we print a warning inviting the operator to perform a manual\ncleanup. We don't use a hard fail to avoid an abrupt change of behavior\nif this is backported to stable branches.\n\nChange-Id: I7841ce0cff08e315fd7761d84e1e681b1a00d43e\nCloses-Bug: #1734872\n(cherry picked from commit 19b8dbe460315c5da23c33aa57c967d75d7f2018)\n""}]",0,665214,f6cfee3201d0067ee500dd507924038315ac6efd,7,3,1,15197,,,0,"Stop duplicating Nova cells

Check if a base Nova cell already exists before calling `nova-manage
cell_v2 create_cell`, which would otherwise create a duplicate cell when
the transport URL or database connection change.

If a base cell already exists but the connection values have changed, we
now call `nova-manage cell_v2 update_cell` instead. This is only
possible if a duplicate cell has not yet been created. If one already
exists, we print a warning inviting the operator to perform a manual
cleanup. We don't use a hard fail to avoid an abrupt change of behavior
if this is backported to stable branches.

Change-Id: I7841ce0cff08e315fd7761d84e1e681b1a00d43e
Closes-Bug: #1734872
(cherry picked from commit 19b8dbe460315c5da23c33aa57c967d75d7f2018)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/665214/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/tasks/create_cells.yml', 'releasenotes/notes/stop-duplicating-nova-cells-670211557fe2cda3.yaml']",2,f6cfee3201d0067ee500dd507924038315ac6efd,bug/1734872-stable/queens,"--- other: - | While Kolla Ansible now avoids duplicating Nova cells when messaging or database connection information are changed, operators of existing deployments should perform a manual cleanup of duplicate cells using the ``nova-manage cell_v2`` command from a container running the ``nova_api`` image, leaving only two cells, one named ``cell0`` and another one with the right connection information. ",,86,0
openstack%2Fkolla-ansible~stable%2Frocky~I7841ce0cff08e315fd7761d84e1e681b1a00d43e,openstack/kolla-ansible,stable/rocky,I7841ce0cff08e315fd7761d84e1e681b1a00d43e,Stop duplicating Nova cells,MERGED,2019-06-13 18:58:55.000000000,2019-06-18 10:01:03.000000000,2019-06-18 10:01:03.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-06-13 18:58:55.000000000', 'files': ['ansible/roles/nova/tasks/create_cells.yml', 'releasenotes/notes/stop-duplicating-nova-cells-670211557fe2cda3.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3458a7b28ac0cfec9f1106ab1e3a2b83873fe97a', 'message': ""Stop duplicating Nova cells\n\nCheck if a base Nova cell already exists before calling `nova-manage\ncell_v2 create_cell`, which would otherwise create a duplicate cell when\nthe transport URL or database connection change.\n\nIf a base cell already exists but the connection values have changed, we\nnow call `nova-manage cell_v2 update_cell` instead. This is only\npossible if a duplicate cell has not yet been created. If one already\nexists, we print a warning inviting the operator to perform a manual\ncleanup. We don't use a hard fail to avoid an abrupt change of behavior\nif this is backported to stable branches.\n\nChange-Id: I7841ce0cff08e315fd7761d84e1e681b1a00d43e\nCloses-Bug: #1734872\n(cherry picked from commit 19b8dbe460315c5da23c33aa57c967d75d7f2018)\n""}]",0,665212,3458a7b28ac0cfec9f1106ab1e3a2b83873fe97a,7,3,1,15197,,,0,"Stop duplicating Nova cells

Check if a base Nova cell already exists before calling `nova-manage
cell_v2 create_cell`, which would otherwise create a duplicate cell when
the transport URL or database connection change.

If a base cell already exists but the connection values have changed, we
now call `nova-manage cell_v2 update_cell` instead. This is only
possible if a duplicate cell has not yet been created. If one already
exists, we print a warning inviting the operator to perform a manual
cleanup. We don't use a hard fail to avoid an abrupt change of behavior
if this is backported to stable branches.

Change-Id: I7841ce0cff08e315fd7761d84e1e681b1a00d43e
Closes-Bug: #1734872
(cherry picked from commit 19b8dbe460315c5da23c33aa57c967d75d7f2018)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/665212/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/tasks/create_cells.yml', 'releasenotes/notes/stop-duplicating-nova-cells-670211557fe2cda3.yaml']",2,3458a7b28ac0cfec9f1106ab1e3a2b83873fe97a,bug/1734872-stable/rocky,"--- other: - | While Kolla Ansible now avoids duplicating Nova cells when messaging or database connection information are changed, operators of existing deployments should perform a manual cleanup of duplicate cells using the ``nova-manage cell_v2`` command from a container running the ``nova_api`` image, leaving only two cells, one named ``cell0`` and another one with the right connection information. ",,86,0
openstack%2Fkolla-ansible~stable%2Frocky~I9b26831fd951a24c483840a55824fae06ccbbf81,openstack/kolla-ansible,stable/rocky,I9b26831fd951a24c483840a55824fae06ccbbf81,Configure coordination in default for cinder when redis is enabled,MERGED,2019-06-16 15:49:42.000000000,2019-06-18 10:01:02.000000000,2019-06-18 10:01:01.000000000,"[{'_account_id': 7488}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-16 15:49:42.000000000', 'files': ['ansible/roles/cinder/templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/868b64b23471f64e58d5c54217415566955cd18c', 'message': 'Configure coordination in default for cinder when redis is enabled\n\nCoordination is required for active-active cinder volume.\n\nChange-Id: I9b26831fd951a24c483840a55824fae06ccbbf81\nCloses-Bug: #1796615\n(cherry picked from commit cf70bf23a5472027b4866bba5f17b6acb0e92b1b)\n'}]",0,665549,868b64b23471f64e58d5c54217415566955cd18c,9,5,1,21757,,,0,"Configure coordination in default for cinder when redis is enabled

Coordination is required for active-active cinder volume.

Change-Id: I9b26831fd951a24c483840a55824fae06ccbbf81
Closes-Bug: #1796615
(cherry picked from commit cf70bf23a5472027b4866bba5f17b6acb0e92b1b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/665549/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cinder/templates/cinder.conf.j2'],1,868b64b23471f64e58d5c54217415566955cd18c,bug/1796615-stable/rocky, [coordination] {% if enable_redis | bool %} backend_url = redis://{% for host in groups['redis'] %}{% if host == groups['redis'][0] %}admin:{{ redis_master_password }}@{{ hostvars[host]['ansible_' + hostvars[host]['api_interface']]['ipv4']['address'] }}:{{ redis_sentinel_port }}?sentinel=kolla{% else %}&sentinel_fallback={{ hostvars[host]['ansible_' + hostvars[host]['api_interface']]['ipv4']['address'] }}:{{ redis_sentinel_port }}{% endif %}{% endfor %}&socket_timeout=60&retry_on_timeout=yes {% elif enable_etcd | bool %} # NOTE(jeffrey4l): python-etcd3 module do not support multi endpoint here. backend_url = etcd3://{{ hostvars[groups['etcd'][0]]['ansible_' + hostvars[groups['etcd'][0]]['api_interface']]['ipv4']['address'] }}:{{ etcd_client_port }} {% endif %},,8,0
openstack%2Fkolla-ansible~stable%2Frocky~Ief64c5bdcd717141281e23c255a49ec02a96aef2,openstack/kolla-ansible,stable/rocky,Ief64c5bdcd717141281e23c255a49ec02a96aef2,Fix action_plugins python3 compatibility,MERGED,2019-06-13 17:54:22.000000000,2019-06-18 10:01:01.000000000,2019-06-18 10:01:00.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26222}, {'_account_id': 28595}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-13 17:54:22.000000000', 'files': ['ansible/action_plugins/merge_yaml.py', 'ansible/action_plugins/merge_configs.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f956996b61be089e815219ab30c19d39448f70ec', 'message': 'Fix action_plugins python3 compatibility\n\nFix filemode in the merge_configs and merge_yaml action plugin to\nbe compatible with python3\n\nChange-Id: Ief64c5bdcd717141281e23c255a49ec02a96aef2\nCloses-Bug: #1820134\n(cherry picked from commit 85f7da979294d5bc18c6045465d2955945be3109)\n'}]",0,665193,f956996b61be089e815219ab30c19d39448f70ec,9,6,1,27330,,,0,"Fix action_plugins python3 compatibility

Fix filemode in the merge_configs and merge_yaml action plugin to
be compatible with python3

Change-Id: Ief64c5bdcd717141281e23c255a49ec02a96aef2
Closes-Bug: #1820134
(cherry picked from commit 85f7da979294d5bc18c6045465d2955945be3109)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/665193/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/action_plugins/merge_configs.py', 'ansible/action_plugins/merge_yaml.py']",2,f956996b61be089e815219ab30c19d39448f70ec,bug/1820134-stable/rocky," with open(result_file, 'w') as f:"," with open(result_file, 'wb') as f:",2,2
openstack%2Fkolla-ansible~stable%2Fstein~Ia36e21b04d3a08fab3c748f6298f142c1d73ee6d,openstack/kolla-ansible,stable/stein,Ia36e21b04d3a08fab3c748f6298f142c1d73ee6d,Make bootstrap more idempotent,MERGED,2019-06-15 20:15:50.000000000,2019-06-18 10:00:59.000000000,2019-06-18 10:00:59.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-06-15 20:15:50.000000000', 'files': ['ansible/roles/baremetal/tasks/post-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a4e9e392e3d961d0882417dab2b2728641ba18ba', 'message': 'Make bootstrap more idempotent\n\nNo need to touch the sudoers.d file each time\nCreation and mode setting is handled by lineinfile itself\n\nChange-Id: Ia36e21b04d3a08fab3c748f6298f142c1d73ee6d\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit c8a57d0c190325eab29364594156e810eb877a77)\n'}]",0,665523,a4e9e392e3d961d0882417dab2b2728641ba18ba,7,3,1,30491,,,0,"Make bootstrap more idempotent

No need to touch the sudoers.d file each time
Creation and mode setting is handled by lineinfile itself

Change-Id: Ia36e21b04d3a08fab3c748f6298f142c1d73ee6d
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit c8a57d0c190325eab29364594156e810eb877a77)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/23/665523/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/baremetal/tasks/post-install.yml'],1,a4e9e392e3d961d0882417dab2b2728641ba18ba,make-bootstrap-more-idempotent-stable/stein, create: yes mode: '0640',"- name: Create sudoers profile for user kolla file: path: /etc/sudoers.d/kolla-ansible-users state: touch mode: ""0640"" become: True when: create_kolla_user_sudoers | bool ",2,8
openstack%2Fkolla-ansible~stable%2Fstein~Ib4492ae01bee11b562022099cee8b06b4e3ee3c1,openstack/kolla-ansible,stable/stein,Ib4492ae01bee11b562022099cee8b06b4e3ee3c1,Fix docs - simply run the script instead of sourcing it,MERGED,2019-06-15 20:15:33.000000000,2019-06-18 10:00:59.000000000,2019-06-18 10:00:59.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-06-15 20:15:33.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/44817148c88c6ef7d0d1aad3de94706d77f83af2', 'message': 'Fix docs - simply run the script instead of sourcing it\n\nScript looks like it is meant to be run and docs mention\nrunning it rather than sourcing, yet the examples sourced it.\n\nChange-Id: Ib4492ae01bee11b562022099cee8b06b4e3ee3c1\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 824378b8e20b9ac678db81a8e73da1fad16e078f)\n'}]",0,665521,44817148c88c6ef7d0d1aad3de94706d77f83af2,7,3,1,30491,,,0,"Fix docs - simply run the script instead of sourcing it

Script looks like it is meant to be run and docs mention
running it rather than sourcing, yet the examples sourced it.

Change-Id: Ib4492ae01bee11b562022099cee8b06b4e3ee3c1
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 824378b8e20b9ac678db81a8e73da1fad16e078f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/21/665521/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,44817148c88c6ef7d0d1aad3de94706d77f83af2,trivial-fix-docs-run-not-source-stable/stein, /usr/share/kolla-ansible/init-runonce /usr/local/share/kolla-ansible/init-runonce kolla-ansible/tools/init-runonce, . /usr/share/kolla-ansible/init-runonce . /usr/local/share/kolla-ansible/init-runonce . kolla-ansible/tools/init-runonce,3,3
openstack%2Fkolla-ansible~stable%2Fstein~If4c78c5ccefc6ff987b70509379dd91588eeea70,openstack/kolla-ansible,stable/stein,If4c78c5ccefc6ff987b70509379dd91588eeea70,"Fix docs - do not mention the old, deprecated CLI clients",MERGED,2019-06-15 20:15:42.000000000,2019-06-18 10:00:58.000000000,2019-06-18 10:00:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-06-15 20:15:42.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/32150986fd5138b38f5b32e3061732eb7bc236ee', 'message': 'Fix docs - do not mention the old, deprecated CLI clients\n\nChange-Id: If4c78c5ccefc6ff987b70509379dd91588eeea70\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit a4d7378009d9883252d0c6c8e46b4478ae13e178)\n'}]",0,665522,32150986fd5138b38f5b32e3061732eb7bc236ee,7,3,1,30491,,,0,"Fix docs - do not mention the old, deprecated CLI clients

Change-Id: If4c78c5ccefc6ff987b70509379dd91588eeea70
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit a4d7378009d9883252d0c6c8e46b4478ae13e178)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/22/665522/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,32150986fd5138b38f5b32e3061732eb7bc236ee,trivial-fix-docs-mention-old-clients-stable/stein,#. Install the OpenStack CLI client: pip install python-openstackclient,#. Install basic OpenStack CLI clients: pip install python-openstackclient python-glanceclient python-neutronclient,2,2
openstack%2Fkolla-ansible~stable%2Fstein~I9e3608b5db521930409a29981767f468ea234679,openstack/kolla-ansible,stable/stein,I9e3608b5db521930409a29981767f468ea234679,"Make ""Check if firewalld is installed"" task quieter",MERGED,2019-06-16 12:19:29.000000000,2019-06-18 10:00:57.000000000,2019-06-18 10:00:57.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-16 12:19:29.000000000', 'files': ['ansible/roles/baremetal/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c532223d60cd9765da5eafc62ae30af3cccc184f', 'message': 'Make ""Check if firewalld is installed"" task quieter\n\nStop showing the task has having made changes and silence warning about\nnot using the yum module (which we could use for the check, but not as\neasily).\n\nChange-Id: I9e3608b5db521930409a29981767f468ea234679\n(cherry picked from commit 14bf98ddd5896dc0dde4b26dc5397f1d9d8dd9d5)\n'}]",0,665539,c532223d60cd9765da5eafc62ae30af3cccc184f,9,5,1,30491,,,0,"Make ""Check if firewalld is installed"" task quieter

Stop showing the task has having made changes and silence warning about
not using the yum module (which we could use for the check, but not as
easily).

Change-Id: I9e3608b5db521930409a29981767f468ea234679
(cherry picked from commit 14bf98ddd5896dc0dde4b26dc5397f1d9d8dd9d5)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/39/665539/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/baremetal/tasks/install.yml'],1,c532223d60cd9765da5eafc62ae30af3cccc184f,firewalld-stable/stein, changed_when: false args: warn: false,,3,0
openstack%2Fkolla-ansible~stable%2Fstein~I7841ce0cff08e315fd7761d84e1e681b1a00d43e,openstack/kolla-ansible,stable/stein,I7841ce0cff08e315fd7761d84e1e681b1a00d43e,Stop duplicating Nova cells,MERGED,2019-06-17 09:14:14.000000000,2019-06-18 09:59:41.000000000,2019-06-18 09:59:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-17 09:14:14.000000000', 'files': ['ansible/roles/nova/tasks/create_cells.yml', 'releasenotes/notes/stop-duplicating-nova-cells-670211557fe2cda3.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f9948e0a31e02457db186c27e874175cb9685932', 'message': ""Stop duplicating Nova cells\n\nCheck if a base Nova cell already exists before calling `nova-manage\ncell_v2 create_cell`, which would otherwise create a duplicate cell when\nthe transport URL or database connection change.\n\nIf a base cell already exists but the connection values have changed, we\nnow call `nova-manage cell_v2 update_cell` instead. This is only\npossible if a duplicate cell has not yet been created. If one already\nexists, we print a warning inviting the operator to perform a manual\ncleanup. We don't use a hard fail to avoid an abrupt change of behavior\nif this is backported to stable branches.\n\nChange-Id: I7841ce0cff08e315fd7761d84e1e681b1a00d43e\nCloses-Bug: #1734872\n(cherry picked from commit 19b8dbe460315c5da23c33aa57c967d75d7f2018)\n""}]",0,665618,f9948e0a31e02457db186c27e874175cb9685932,8,4,1,15197,,,0,"Stop duplicating Nova cells

Check if a base Nova cell already exists before calling `nova-manage
cell_v2 create_cell`, which would otherwise create a duplicate cell when
the transport URL or database connection change.

If a base cell already exists but the connection values have changed, we
now call `nova-manage cell_v2 update_cell` instead. This is only
possible if a duplicate cell has not yet been created. If one already
exists, we print a warning inviting the operator to perform a manual
cleanup. We don't use a hard fail to avoid an abrupt change of behavior
if this is backported to stable branches.

Change-Id: I7841ce0cff08e315fd7761d84e1e681b1a00d43e
Closes-Bug: #1734872
(cherry picked from commit 19b8dbe460315c5da23c33aa57c967d75d7f2018)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/18/665618/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/tasks/create_cells.yml', 'releasenotes/notes/stop-duplicating-nova-cells-670211557fe2cda3.yaml']",2,f9948e0a31e02457db186c27e874175cb9685932,bug/1734872-stable/stein,"--- other: - | While Kolla Ansible now avoids duplicating Nova cells when messaging or database connection information are changed, operators of existing deployments should perform a manual cleanup of duplicate cells using the ``nova-manage cell_v2`` command from a container running the ``nova_api`` image, leaving only two cells, one named ``cell0`` and another one with the right connection information. ",,86,0
openstack%2Fmistral~master~Ica0ba2ffa312891483745d276d04c95985c7f4c2,openstack/mistral,master,Ica0ba2ffa312891483745d276d04c95985c7f4c2,Make more JSON fields in execution objects lazy-loaded,MERGED,2019-06-13 09:19:51.000000000,2019-06-18 09:58:02.000000000,2019-06-18 09:58:02.000000000,"[{'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 11391}, {'_account_id': 15895}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 27008}, {'_account_id': 29124}]","[{'number': 1, 'created': '2019-06-13 09:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/390b3c4074d3b0e6ac77bcce49fa79d08091dcf7', 'message': 'WIP: Trying to make more JSON fields lazy-loaded\n\nChange-Id: Ica0ba2ffa312891483745d276d04c95985c7f4c2\n'}, {'number': 2, 'created': '2019-06-13 11:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/09d1d60445a4e8964c40f69693f4be70eb425aa7', 'message': 'WIP: Trying to make more JSON fields lazy-loaded\n\nChange-Id: Ica0ba2ffa312891483745d276d04c95985c7f4c2\n'}, {'number': 3, 'created': '2019-06-13 12:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/9603cd75c505aac991fe618b4de81416649fdf41', 'message': 'Make more JSON fields in execution objects lazy-loaded\n\n* Some fields of execution objects can be large and, what\'s even more\n  important, their size is defined by user input. Making these fields\n  lazy-loaded reduced the amount of data loaded from DB in those\n  methods where ther are not needed. For example, ""spec"" field of the\n  WorkflowExecution class is rarely needed because the corresponding\n  specification Python object gets cached. It\'s proven to reduce\n  the execution time in some cases by ~5-10%.\n\nChange-Id: Ica0ba2ffa312891483745d276d04c95985c7f4c2\n'}, {'number': 4, 'created': '2019-06-13 16:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/210d7c293d9a6420d100ed55939877f7ab10d4a7', 'message': 'Make more JSON fields in execution objects lazy-loaded\n\n* Some fields of execution objects can be large and, what\'s even more\n  important, their size is defined by user input. Making these fields\n  lazy-loaded reduced the amount of data loaded from DB in those\n  methods where ther are not needed. For example, ""spec"" field of the\n  WorkflowExecution class is rarely needed because the corresponding\n  specification Python object gets cached. It\'s proven to reduce\n  the execution time in some cases by ~5-10%.\n* Fixed failing test\n\nChange-Id: Ica0ba2ffa312891483745d276d04c95985c7f4c2\n'}, {'number': 5, 'created': '2019-06-14 06:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/c9e67b087ae4ca62217bf58d798587ac55754d05', 'message': 'Make more JSON fields in execution objects lazy-loaded\n\n* Some fields of execution objects can be large and, what\'s even more\n  important, their size is defined by user input. Making these fields\n  lazy-loaded reduced the amount of data loaded from DB in those\n  methods where ther are not needed. For example, ""spec"" field of the\n  WorkflowExecution class is rarely needed because the corresponding\n  specification Python object gets cached. It\'s proven to reduce\n  the execution time in some cases by ~5-10%.\n* Fixed failing test\n\nChange-Id: Ica0ba2ffa312891483745d276d04c95985c7f4c2\n'}, {'number': 6, 'created': '2019-06-14 08:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1ba89643d4d019048f5a1234362d04e224c33809', 'message': 'Make more JSON fields in execution objects lazy-loaded\n\n* Some fields of execution objects can be large and, what\'s even more\n  important, their size is defined by user input. Making these fields\n  lazy-loaded reduced the amount of data loaded from DB in those\n  methods where ther are not needed. For example, ""spec"" field of the\n  WorkflowExecution class is rarely needed because the corresponding\n  specification Python object gets cached. It\'s proven to reduce\n  the execution time in some cases by ~5-10%.\n* Fixed failing test\n\nChange-Id: Ica0ba2ffa312891483745d276d04c95985c7f4c2\n'}, {'number': 7, 'created': '2019-06-17 03:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/a50cf4cca6e63b0df71c0d0803bb1cea00ac1c9f', 'message': 'Make more JSON fields in execution objects lazy-loaded\n\n* Some fields of execution objects can be large and, what\'s even more\n  important, their size is defined by user input. Making these fields\n  lazy-loaded reduced the amount of data loaded from DB in those\n  methods where ther are not needed. For example, ""spec"" field of the\n  WorkflowExecution class is rarely needed because the corresponding\n  specification Python object gets cached. It\'s proven to reduce\n  the execution time in some cases by ~5-10%.\n* Fixed failing test\n\nChange-Id: Ica0ba2ffa312891483745d276d04c95985c7f4c2\n'}, {'number': 8, 'created': '2019-06-17 08:23:03.000000000', 'files': ['mistral/tests/unit/engine/test_direct_workflow_rerun.py', 'mistral/tests/unit/engine/test_reverse_workflow_rerun.py', 'mistral/tests/unit/engine/test_environment.py', 'mistral/tests/unit/engine/test_workflow_resume.py', 'mistral/tests/unit/engine/test_default_engine.py', 'mistral/tests/unit/lang/test_spec_caching.py', 'mistral/tests/unit/db/v2/test_sqlalchemy_db_api.py', 'mistral/db/v2/sqlalchemy/models.py', 'mistral/tests/unit/engine/test_subworkflows.py', 'mistral/api/controllers/v2/execution.py', 'mistral/tests/unit/api/v2/test_executions.py', 'mistral/tests/unit/services/test_workflow_service.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/0c3b630609d160b4c4bee136e18349ae5978436e', 'message': 'Make more JSON fields in execution objects lazy-loaded\n\n* Some fields of execution objects can be large and, what\'s even more\n  important, their size is defined by user input. Making these fields\n  lazy-loaded reduced the amount of data loaded from DB in those\n  methods where ther are not needed. For example, ""spec"" field of the\n  WorkflowExecution class is rarely needed because the corresponding\n  specification Python object gets cached. It\'s proven to reduce\n  the execution time in some cases by ~5-10%.\n* Fixed failing test\n\nChange-Id: Ica0ba2ffa312891483745d276d04c95985c7f4c2\n'}]",3,665096,0c3b630609d160b4c4bee136e18349ae5978436e,26,9,8,8731,,,0,"Make more JSON fields in execution objects lazy-loaded

* Some fields of execution objects can be large and, what's even more
  important, their size is defined by user input. Making these fields
  lazy-loaded reduced the amount of data loaded from DB in those
  methods where ther are not needed. For example, ""spec"" field of the
  WorkflowExecution class is rarely needed because the corresponding
  specification Python object gets cached. It's proven to reduce
  the execution time in some cases by ~5-10%.
* Fixed failing test

Change-Id: Ica0ba2ffa312891483745d276d04c95985c7f4c2
",git fetch https://review.opendev.org/openstack/mistral refs/changes/96/665096/6 && git format-patch -1 --stdout FETCH_HEAD,['mistral/db/v2/sqlalchemy/models.py'],1,390b3c4074d3b0e6ac77bcce49fa79d08091dcf7,make_more_json_fields_lazy," input = sa.orm.deferred(sa.Column(st.JsonLongDictType(), nullable=True)) params = sa.orm.deferred(sa.Column(st.JsonLongDictType())) in_context = sa.orm.deferred(sa.Column(st.JsonLongDictType()))"," input = sa.Column(st.JsonLongDictType(), nullable=True) params = sa.Column(st.JsonLongDictType()) in_context = sa.Column(st.JsonLongDictType())",3,3
openstack%2Fkolla~master~I19d467adbc1dab6709ce9667b18f1bb6dff12c1e,openstack/kolla,master,I19d467adbc1dab6709ce9667b18f1bb6dff12c1e,Remove nova-consoleauth,MERGED,2019-05-24 10:54:48.000000000,2019-06-18 09:58:01.000000000,2019-06-18 09:58:00.000000000,"[{'_account_id': 7488}, {'_account_id': 14826}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-05-24 10:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6c59f9596967d6e810a883998340f7569c803a47', 'message': ""Remove nova-consoleauth\n\nThe nova-consoleauth service was deprecated during the Rocky release [1]\nand has not been necessary since unless you're using cells v1. As Kolla\nhas never supported cells v1, which is finally being removed during\nTrain [2], we can get ahead of the curve and stop deploying\nnova-consoleauth immediately.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/rocky/implemented/convert-consoles-to-objects.html\n[2] https://blueprints.launchpad.net/nova/+spec/remove-cells-v1/\n\nChange-Id: I19d467adbc1dab6709ce9667b18f1bb6dff12c1e\nSigned-off-by: Stephen Finucane <sfinucan@sfinucan.users.ipa.redhat.com>\n""}, {'number': 2, 'created': '2019-05-24 10:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/972d77e4e189296665c0855f05c6ca15f2f0c649', 'message': ""Remove nova-consoleauth\n\nThe nova-consoleauth service was deprecated during the Rocky release [1]\nand has not been necessary since unless you're using cells v1. As Kolla\nhas never supported cells v1, which is finally being removed during\nTrain [2], we can get ahead of the curve and stop deploying\nnova-consoleauth immediately.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/rocky/implemented/convert-consoles-to-objects.html\n[2] https://blueprints.launchpad.net/nova/+spec/remove-cells-v1/\n\nChange-Id: I19d467adbc1dab6709ce9667b18f1bb6dff12c1e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2019-05-28 09:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0c67c25a0a9be5fbdf2d3490289ea485e519aef5', 'message': ""Remove nova-consoleauth\n\nThe nova-consoleauth service was deprecated during the Rocky release [1]\nand has not been necessary since unless you're using cells v1. As Kolla\nhas never supported cells v1, which is finally being removed during\nTrain [2], we can get ahead of the curve and stop deploying\nnova-consoleauth immediately.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/rocky/implemented/convert-consoles-to-objects.html\n[2] https://blueprints.launchpad.net/nova/+spec/remove-cells-v1/\n\nChange-Id: I19d467adbc1dab6709ce9667b18f1bb6dff12c1e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-On: I099080979f5497537e390f531005a517ab12aa7a\n""}, {'number': 4, 'created': '2019-05-28 09:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4fce7ab48f6ce9f97a0afaf191f106c5df13edec', 'message': ""Remove nova-consoleauth\n\nThe nova-consoleauth service was deprecated during the Rocky release [1]\nand has not been necessary since unless you're using cells v1. As Kolla\nhas never supported cells v1, which is finally being removed during\nTrain [2], we can get ahead of the curve and stop deploying\nnova-consoleauth immediately.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/rocky/implemented/convert-consoles-to-objects.html\n[2] https://blueprints.launchpad.net/nova/+spec/remove-cells-v1/\n\nChange-Id: I19d467adbc1dab6709ce9667b18f1bb6dff12c1e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-On: I099080979f5497537e390f531005a517ab12aa7a\n""}, {'number': 5, 'created': '2019-06-07 10:39:52.000000000', 'files': ['releasenotes/notes/remove-nova-consoleauth-caf1c027b6403dc1.yaml', 'docker/nova/nova-consoleauth/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/bb37df19e54992fb5ae74573d975cd749099224d', 'message': ""Remove nova-consoleauth\n\nThe nova-consoleauth service was deprecated during the Rocky release [1]\nand has not been necessary since unless you're using cells v1. As Kolla\nhas never supported cells v1, which is finally being removed during\nTrain [2], we can get ahead of the curve and stop deploying\nnova-consoleauth immediately.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/rocky/implemented/convert-consoles-to-objects.html\n[2] https://blueprints.launchpad.net/nova/+spec/remove-cells-v1/\n\nChange-Id: I19d467adbc1dab6709ce9667b18f1bb6dff12c1e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-On: I099080979f5497537e390f531005a517ab12aa7a\n""}]",1,661251,bb37df19e54992fb5ae74573d975cd749099224d,31,6,5,15334,,,0,"Remove nova-consoleauth

The nova-consoleauth service was deprecated during the Rocky release [1]
and has not been necessary since unless you're using cells v1. As Kolla
has never supported cells v1, which is finally being removed during
Train [2], we can get ahead of the curve and stop deploying
nova-consoleauth immediately.

[1] https://specs.openstack.org/openstack/nova-specs/specs/rocky/implemented/convert-consoles-to-objects.html
[2] https://blueprints.launchpad.net/nova/+spec/remove-cells-v1/

Change-Id: I19d467adbc1dab6709ce9667b18f1bb6dff12c1e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Depends-On: I099080979f5497537e390f531005a517ab12aa7a
",git fetch https://review.opendev.org/openstack/kolla refs/changes/51/661251/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-nova-consoleauth-caf1c027b6403dc1.yaml', 'docker/nova/nova-consoleauth/Dockerfile.j2']",2,6c59f9596967d6e810a883998340f7569c803a47,bp/remove-consoleauth,,"FROM {{ namespace }}/{{ image_prefix }}nova-base:{{ tag }} LABEL maintainer=""{{ maintainer }}"" name=""{{ image_name }}"" build-date=""{{ build_date }}"" {% block nova_consoleauth_header %}{% endblock %} {% import ""macros.j2"" as macros with context %} {% if install_type == 'binary' %} {% if base_package_type == 'rpm' %} {% set nova_consoleauth_packages = [ 'openstack-nova-console' ] %} {% elif base_package_type == 'deb' %} {% set nova_consoleauth_packages = [ 'nova-consoleauth', 'python-memcache' ] %} {% endif %} {{ macros.install_packages(nova_consoleauth_packages | customizable(""packages"")) }} {% endif %} {% block nova_consoleauth_footer %}{% endblock %} {% block footer %}{% endblock %} USER nova ",8,31
openstack%2Fkolla~stable%2Fstein~I0bff21384d88ea678608392de2db1ba418c96665,openstack/kolla,stable/stein,I0bff21384d88ea678608392de2db1ba418c96665,Debian/Ubuntu: more python3 packages for binary,MERGED,2019-06-07 17:59:49.000000000,2019-06-18 09:57:57.000000000,2019-06-18 09:57:57.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-07 17:59:49.000000000', 'files': ['docker/nova/nova-libvirt/Dockerfile.j2', 'docker/designate/designate-sink/Dockerfile.j2', 'docker/nova/nova-consoleauth/Dockerfile.j2', 'docker/glance/glance-base/Dockerfile.j2', 'docker/openstack-base/Dockerfile.j2', 'docker/openvswitch/openvswitch-base/Dockerfile.j2', 'docker/cinder/cinder-volume/Dockerfile.j2', 'docker/cinder/cinder-base/Dockerfile.j2', 'docker/ironic/ironic-pxe/Dockerfile.j2', 'docker/neutron/neutron-base/Dockerfile.j2', 'docker/ceilometer/ceilometer-base/Dockerfile.j2', 'docker/manila/manila-share/Dockerfile.j2', 'docker/zaqar/zaqar-base/Dockerfile.j2', 'docker/heat/heat-base/Dockerfile.j2', 'docker/manila/manila-api/Dockerfile.j2', 'docker/panko/panko-base/Dockerfile.j2', 'docker/telegraf/Dockerfile.j2', 'docker/dind/Dockerfile.j2', 'docker/ironic/ironic-api/Dockerfile.j2', 'docker/iscsid/Dockerfile.j2', 'docker/mistral/mistral-api/Dockerfile.j2', 'docker/nova/nova-api/Dockerfile.j2', 'docker/nova/nova-compute/Dockerfile.j2', 'docker/designate/designate-base/Dockerfile.j2', 'docker/ceilometer/ceilometer-compute/Dockerfile.j2', 'docker/ironic/ironic-conductor/Dockerfile.j2', 'docker/panko/panko-api/Dockerfile.j2', 'docker/keystone/keystone/Dockerfile.j2', 'docker/sensu/sensu-client/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b71f2be433568e6c71ea1d54a92dfa6a449dead6', 'message': 'Debian/Ubuntu: more python3 packages for binary\n\nbackport: Stein\n\nDuring the switch to Stein UCA, we did not switch all packages to python\n3 for Debian/Ubuntu binary images. This change switches some more of\nthose packages.\n\nChange-Id: I0bff21384d88ea678608392de2db1ba418c96665\nCo-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz@linaro.org>\n(cherry picked from commit aa59f0db6f88ed0a03169b473fdf6d541d34df9f)\n'}]",0,664012,b71f2be433568e6c71ea1d54a92dfa6a449dead6,10,6,1,14826,,,0,"Debian/Ubuntu: more python3 packages for binary

backport: Stein

During the switch to Stein UCA, we did not switch all packages to python
3 for Debian/Ubuntu binary images. This change switches some more of
those packages.

Change-Id: I0bff21384d88ea678608392de2db1ba418c96665
Co-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz@linaro.org>
(cherry picked from commit aa59f0db6f88ed0a03169b473fdf6d541d34df9f)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/12/664012/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/nova/nova-libvirt/Dockerfile.j2', 'docker/designate/designate-sink/Dockerfile.j2', 'docker/nova/nova-consoleauth/Dockerfile.j2', 'docker/glance/glance-base/Dockerfile.j2', 'docker/openstack-base/Dockerfile.j2', 'docker/openvswitch/openvswitch-base/Dockerfile.j2', 'docker/cinder/cinder-volume/Dockerfile.j2', 'docker/cinder/cinder-base/Dockerfile.j2', 'docker/ironic/ironic-pxe/Dockerfile.j2', 'docker/neutron/neutron-base/Dockerfile.j2', 'docker/ceilometer/ceilometer-base/Dockerfile.j2', 'docker/manila/manila-share/Dockerfile.j2', 'docker/zaqar/zaqar-base/Dockerfile.j2', 'docker/heat/heat-base/Dockerfile.j2', 'docker/manila/manila-api/Dockerfile.j2', 'docker/panko/panko-base/Dockerfile.j2', 'docker/telegraf/Dockerfile.j2', 'docker/dind/Dockerfile.j2', 'docker/ironic/ironic-api/Dockerfile.j2', 'docker/iscsid/Dockerfile.j2', 'docker/mistral/mistral-api/Dockerfile.j2', 'docker/nova/nova-api/Dockerfile.j2', 'docker/nova/nova-compute/Dockerfile.j2', 'docker/designate/designate-base/Dockerfile.j2', 'docker/ceilometer/ceilometer-compute/Dockerfile.j2', 'docker/ironic/ironic-conductor/Dockerfile.j2', 'docker/panko/panko-api/Dockerfile.j2', 'docker/keystone/keystone/Dockerfile.j2', 'docker/sensu/sensu-client/Dockerfile.j2']",29,b71f2be433568e6c71ea1d54a92dfa6a449dead6,bp/debian-ubuntu-python3-stable/stein," 'python3-cephfs', 'python3-pymongo', 'python3-rados', 'python3-rbd'", 'python-pymongo',94,86
openstack%2Floci~master~I8aedaaa63d0b5aef6ef9691ee66ea9000ac14cbc,openstack/loci,master,I8aedaaa63d0b5aef6ef9691ee66ea9000ac14cbc,Install python3-distutils when using python3,MERGED,2019-06-12 14:17:58.000000000,2019-06-18 09:51:48.000000000,2019-06-18 09:51:48.000000000,"[{'_account_id': 1390}, {'_account_id': 2243}, {'_account_id': 7822}, {'_account_id': 14119}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-12 14:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/a9ce2c60b4982281cef79008e6fee23eb0ecf2b3', 'message': 'Install python2-distutils when using python3\n\ndistutils is not included into main python package on ubuntu.\nAdd python3-distutils explicitly when using PYTHON3=yes.\n\nChange-Id: I8aedaaa63d0b5aef6ef9691ee66ea9000ac14cbc\n'}, {'number': 2, 'created': '2019-06-12 14:54:08.000000000', 'files': ['scripts/install.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/1644595201a07519b5f3f94b99273bd1e51a3f31', 'message': 'Install python3-distutils when using python3\n\ndistutils is not included into main python package on ubuntu.\nAdd python3-distutils explicitly when using PYTHON3=yes.\n\nChange-Id: I8aedaaa63d0b5aef6ef9691ee66ea9000ac14cbc\n'}]",0,664937,1644595201a07519b5f3f94b99273bd1e51a3f31,8,7,2,14525,,,0,"Install python3-distutils when using python3

distutils is not included into main python package on ubuntu.
Add python3-distutils explicitly when using PYTHON3=yes.

Change-Id: I8aedaaa63d0b5aef6ef9691ee66ea9000ac14cbc
",git fetch https://review.opendev.org/openstack/loci refs/changes/37/664937/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/install.sh'],1,a9ce2c60b4982281cef79008e6fee23eb0ecf2b3,python3," dpkg_python_packages=(""python3"" ""python3-virtualenv"" ""python3-distutils"")"," dpkg_python_packages=(""python3"" ""python3-virtualenv"")",1,1
openstack%2Fkolla~stable%2Fstein~Ibe4fbc7857996361229c15fa5670906bd81660cb,openstack/kolla,stable/stein,Ibe4fbc7857996361229c15fa5670906bd81660cb,Bump service versions for Stein,MERGED,2019-05-20 16:31:10.000000000,2019-06-18 09:50:43.000000000,2019-06-18 09:50:42.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 23509}, {'_account_id': 24072}, {'_account_id': 27781}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-05-20 16:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/98a4ee0f396298f7b5e482cf5261dc793084c774', 'message': 'Bump service versions for Stein\n\nChange-Id: Ibe4fbc7857996361229c15fa5670906bd81660cb\n'}, {'number': 2, 'created': '2019-06-07 18:02:11.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/df6f1fb3c3beba251e64cc6885f13a1a4c03ddad', 'message': 'Bump service versions for Stein\n\nChange-Id: Ibe4fbc7857996361229c15fa5670906bd81660cb\n'}]",0,660165,df6f1fb3c3beba251e64cc6885f13a1a4c03ddad,30,9,2,14826,,,0,"Bump service versions for Stein

Change-Id: Ibe4fbc7857996361229c15fa5670906bd81660cb
",git fetch https://review.opendev.org/openstack/kolla refs/changes/65/660165/2 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,98a4ee0f396298f7b5e482cf5261dc793084c774,bump-stein," 'neutron-14.0.1.tar.gz')},"," 'neutron-14.0.0.tar.gz')},",1,1
openstack%2Fpython-muranoclient~master~I8be79e80d694715b5192944c140b21f92d4b72d9,openstack/python-muranoclient,master,I8be79e80d694715b5192944c140b21f92d4b72d9,Update contraints url,MERGED,2019-06-18 07:07:35.000000000,2019-06-18 09:46:55.000000000,2019-06-18 09:46:54.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 07:07:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/89122a7f3bc8ce10fbd0cb06358c2898ca3a2bb8', 'message': 'Update contraints url\n\nChange-Id: I8be79e80d694715b5192944c140b21f92d4b72d9\n'}]",0,665891,89122a7f3bc8ce10fbd0cb06358c2898ca3a2bb8,6,2,1,14107,,,0,"Update contraints url

Change-Id: I8be79e80d694715b5192944c140b21f92d4b72d9
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/91/665891/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,89122a7f3bc8ce10fbd0cb06358c2898ca3a2bb8,, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}install_command = pip install {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/queens} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}install_command = pip install -chttps://opendev.org/openstack/requirements/raw/branch/stable/queens/upper-constraints.txt {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt},6,5
openstack%2Fblazar-tempest-plugin~master~I712e869a8ccef5a7181211fa1b8bff3a4dd06170,openstack/blazar-tempest-plugin,master,I712e869a8ccef5a7181211fa1b8bff3a4dd06170,Update sphinx requirements,MERGED,2019-06-07 14:09:18.000000000,2019-06-18 09:35:50.000000000,2019-06-18 09:35:50.000000000,"[{'_account_id': 5689}, {'_account_id': 8878}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-06-07 14:09:18.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/blazar-tempest-plugin/commit/de514b22360bcca1e60e4f17a5554f9b823632cc', 'message': 'Update sphinx requirements\n\nFollowing recent changes to global requirements [1], we need\nto update sphinx requirements locally. This should fix the\nrequirements-check job.\n\n[1] If558f184c959e4b63b56dec3ca1571d1034cfe5c\n\nChange-Id: I712e869a8ccef5a7181211fa1b8bff3a4dd06170\n'}]",0,663950,de514b22360bcca1e60e4f17a5554f9b823632cc,8,4,1,15197,,,0,"Update sphinx requirements

Following recent changes to global requirements [1], we need
to update sphinx requirements locally. This should fix the
requirements-check job.

[1] If558f184c959e4b63b56dec3ca1571d1034cfe5c

Change-Id: I712e869a8ccef5a7181211fa1b8bff3a4dd06170
",git fetch https://review.opendev.org/openstack/blazar-tempest-plugin refs/changes/50/663950/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,de514b22360bcca1e60e4f17a5554f9b823632cc,sphinx-requirements,"sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fblazar~master~I641a28790bf5df0cec09b5600e2fd83a513dd896,openstack/blazar,master,I641a28790bf5df0cec09b5600e2fd83a513dd896,Update sphinx requirements,MERGED,2019-06-07 13:52:10.000000000,2019-06-18 09:35:49.000000000,2019-06-18 09:35:49.000000000,"[{'_account_id': 8878}, {'_account_id': 13192}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 29278}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-06-07 13:52:10.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/blazar/commit/5d5beba1b45ceea2f4a56097d32aba3899bb081b', 'message': 'Update sphinx requirements\n\nFollowing recent changes to global requirements [1], we need\nto update sphinx requirements locally. This should fix the\nrequirements-check job.\n\n[1] If558f184c959e4b63b56dec3ca1571d1034cfe5c\n\nChange-Id: I641a28790bf5df0cec09b5600e2fd83a513dd896\n'}]",0,663946,5d5beba1b45ceea2f4a56097d32aba3899bb081b,12,9,1,15197,,,0,"Update sphinx requirements

Following recent changes to global requirements [1], we need
to update sphinx requirements locally. This should fix the
requirements-check job.

[1] If558f184c959e4b63b56dec3ca1571d1034cfe5c

Change-Id: I641a28790bf5df0cec09b5600e2fd83a513dd896
",git fetch https://review.opendev.org/openstack/blazar refs/changes/46/663946/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,5d5beba1b45ceea2f4a56097d32aba3899bb081b,sphinx-requirements,"sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Ftripleo-common~master~I5d2f37d1c820b1983355be60c09de581a72e08e0,openstack/tripleo-common,master,I5d2f37d1c820b1983355be60c09de581a72e08e0,Fix bashate and flake8 errors,MERGED,2019-06-14 18:24:23.000000000,2019-06-18 09:32:02.000000000,2019-06-18 09:32:02.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-06-14 18:24:23.000000000', 'files': ['healthcheck/opendaylight-api', 'scripts/tripleo-deploy-openshift', 'scripts/tripleo-config-download', 'scripts/tripleo-build-images', 'healthcheck/cron', 'tripleo_common/actions/templates.py', 'doc/source/_exts/workbooks.py', 'doc/source/conf.py', 'tripleo_common/utils/nodes.py', 'healthcheck/zaqar-socket', 'tripleo_common/utils/overcloudrc.py', 'tripleo_common/image/kolla_builder.py', 'scripts/tripleo-container-image-prepare', 'tripleo_common/utils/config.py', 'tripleo_common/utils/process.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/26a3d7e6d00e65716e6771d7ff6a56d1d78e0cbf', 'message': 'Fix bashate and flake8 errors\n\nThis change fixes few linting errors which are discovered by newer\nlinters.\n\n- bashate: consistent 4 chars identation\n- python unamed Exceptions\n- python space around operators\n- python space after # comments\n- python unused imports\n- python unknown escapes (errors after py36)\n- python double newline before methods\n\nChange-Id: I5d2f37d1c820b1983355be60c09de581a72e08e0\nNeeded-By: https://review.opendev.org/#/c/665445/\n'}]",0,665449,26a3d7e6d00e65716e6771d7ff6a56d1d78e0cbf,10,8,1,24162,,,0,"Fix bashate and flake8 errors

This change fixes few linting errors which are discovered by newer
linters.

- bashate: consistent 4 chars identation
- python unamed Exceptions
- python space around operators
- python space after # comments
- python unused imports
- python unknown escapes (errors after py36)
- python double newline before methods

Change-Id: I5d2f37d1c820b1983355be60c09de581a72e08e0
Needed-By: https://review.opendev.org/#/c/665445/
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/49/665449/1 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/opendaylight-api', 'scripts/tripleo-deploy-openshift', 'scripts/tripleo-config-download', 'scripts/tripleo-build-images', 'healthcheck/cron', 'tripleo_common/actions/templates.py', 'doc/source/_exts/workbooks.py', 'doc/source/conf.py', 'tripleo_common/utils/nodes.py', 'healthcheck/zaqar-socket', 'tripleo_common/utils/overcloudrc.py', 'tripleo_common/image/kolla_builder.py', 'scripts/tripleo-container-image-prepare', 'tripleo_common/utils/config.py', 'tripleo_common/utils/process.py', 'releasenotes/source/conf.py']",16,26a3d7e6d00e65716e6771d7ff6a56d1d78e0cbf,lint/0,"# sys.path.insert(0, os.path.abspath('.'))# needs_sphinx = '1.0'# source_encoding = 'utf-8-sig'# language = None# today = ''# today_fmt = '%B %d, %Y'# default_role = None# add_function_parentheses = True# add_module_names = True# show_authors = False# modindex_common_prefix = []# keep_warnings = False# html_theme_options = {}# html_theme_path = []# html_title = None# html_short_title = None# html_logo = None# html_favicon = None# html_extra_path = []# html_last_updated_fmt = '%b %d, %Y'# html_use_smartypants = True# html_sidebars = {}# html_additional_pages = {}# html_domain_indices = True# html_use_index = True# html_split_index = False# html_show_sourcelink = True# html_show_sphinx = True# html_show_copyright = True# html_use_opensearch = ''# html_file_suffix = None # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', ('index', 'tripleo-commonReleaseNotes.tex', u'tripleo-common Release Notes Documentation', u'2016, TripleO Developers', 'manual'),# latex_logo = None# latex_use_parts = False# latex_show_pagerefs = False# latex_show_urls = False# latex_appendices = []# latex_domain_indices = True ('index', 'tripleo-commonreleasenotes', u'tripleo-common Release Notes Documentation',# man_show_urls = False ('index', 'tripleo-commonReleaseNotes', u'tripleo-common Release Notes Documentation', u'2016, TripleO Developers', 'tripleo-commonReleaseNotes', 'One line description of project.', 'Miscellaneous'),# texinfo_appendices = []# texinfo_domain_indices = True# texinfo_show_urls = 'footnote'# texinfo_no_detailmenu = False","#sys.path.insert(0, os.path.abspath('.'))#needs_sphinx = '1.0'#source_encoding = 'utf-8-sig'#language = None#today = ''#today_fmt = '%B %d, %Y'#default_role = None#add_function_parentheses = True#add_module_names = True#show_authors = False#modindex_common_prefix = []#keep_warnings = False#html_theme_options = {}#html_theme_path = []#html_title = None#html_short_title = None#html_logo = None#html_favicon = None#html_extra_path = []#html_last_updated_fmt = '%b %d, %Y'#html_use_smartypants = True#html_sidebars = {}#html_additional_pages = {}#html_domain_indices = True#html_use_index = True#html_split_index = False#html_show_sourcelink = True#html_show_sphinx = True#html_show_copyright = True#html_use_opensearch = ''#html_file_suffix = None# The paper size ('letterpaper' or 'a4paper'). #'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). #'pointsize': '10pt', # Additional stuff for the LaTeX preamble. #'preamble': '', ('index', 'tripleo-commonReleaseNotes.tex', u'tripleo-common Release Notes Documentation', u'2016, TripleO Developers', 'manual'),#latex_logo = None#latex_use_parts = False#latex_show_pagerefs = False#latex_show_urls = False#latex_appendices = []#latex_domain_indices = True ('index', 'tripleo-commonreleasenotes', u'tripleo-common Release Notes Documentation',#man_show_urls = False ('index', 'tripleo-commonReleaseNotes', u'tripleo-common Release Notes Documentation', u'2016, TripleO Developers', 'tripleo-commonReleaseNotes', 'One line description of project.', 'Miscellaneous'),#texinfo_appendices = []#texinfo_domain_indices = True#texinfo_show_urls = 'footnote'#texinfo_no_detailmenu = False",154,149
openstack%2Fblazar-nova~master~I07b3411044c88c3bf51db2515208902a6857817b,openstack/blazar-nova,master,I07b3411044c88c3bf51db2515208902a6857817b,Update sphinx requirements,MERGED,2019-06-07 14:04:33.000000000,2019-06-18 09:31:50.000000000,2019-06-18 09:31:50.000000000,"[{'_account_id': 8878}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-06-07 14:04:33.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/blazar-nova/commit/4a8f8927b4328ac33ee4b566aaab4b0761575035', 'message': 'Update sphinx requirements\n\nFollowing recent changes to global requirements [1], we need\nto update sphinx requirements locally. This should fix the\nrequirements-check job.\n\n[1] If558f184c959e4b63b56dec3ca1571d1034cfe5c\n\nChange-Id: I07b3411044c88c3bf51db2515208902a6857817b\n'}]",0,663949,4a8f8927b4328ac33ee4b566aaab4b0761575035,7,3,1,15197,,,0,"Update sphinx requirements

Following recent changes to global requirements [1], we need
to update sphinx requirements locally. This should fix the
requirements-check job.

[1] If558f184c959e4b63b56dec3ca1571d1034cfe5c

Change-Id: I07b3411044c88c3bf51db2515208902a6857817b
",git fetch https://review.opendev.org/openstack/blazar-nova refs/changes/49/663949/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,4a8f8927b4328ac33ee4b566aaab4b0761575035,sphinx-requirements,"sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fproject-config~master~Ic45b52f6bfc803756a8f42f21c848e1fd223175f,openstack/project-config,master,Ic45b52f6bfc803756a8f42f21c848e1fd223175f,Stop building control plane images,MERGED,2019-06-12 20:46:52.000000000,2019-06-18 09:28:55.000000000,2019-06-18 09:28:55.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-12 20:46:52.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6b56fd81cad681c3b7ed87bbfdfebbdf00656f55', 'message': ""Stop building control plane images\n\nNodepool wants to build a new image every day then delete the N+2'th\nimage. This is great for dynamic test nodes which never live for longer\nthan a few hours. Unfortunately, with boot from volume servers you\ncannot delete their base image if the server is still running. This\nmeans as soon as we use these images for control plane servers, which do\nnot go away after a few hours, we'll no longer be able to delete that\nimage a couple days later.\n\nThis will make our current nodepool install unhappy so lets avoid doing\nthat for now.\n\nWe can probably make improvements to nodepool to better support this use\ncase. At that time we can start trying this again. We will probably also\nwant to use a dedicated builder for that.\n\nNote this isn't a revert because we want to wind down nodepool in such a\nway that it cleans up after itself.\n\nChange-Id: Ic45b52f6bfc803756a8f42f21c848e1fd223175f\n""}]",0,665014,6b56fd81cad681c3b7ed87bbfdfebbdf00656f55,6,2,1,4146,,,0,"Stop building control plane images

Nodepool wants to build a new image every day then delete the N+2'th
image. This is great for dynamic test nodes which never live for longer
than a few hours. Unfortunately, with boot from volume servers you
cannot delete their base image if the server is still running. This
means as soon as we use these images for control plane servers, which do
not go away after a few hours, we'll no longer be able to delete that
image a couple days later.

This will make our current nodepool install unhappy so lets avoid doing
that for now.

We can probably make improvements to nodepool to better support this use
case. At that time we can start trying this again. We will probably also
want to use a dedicated builder for that.

Note this isn't a revert because we want to wind down nodepool in such a
way that it cleans up after itself.

Change-Id: Ic45b52f6bfc803756a8f42f21c848e1fd223175f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/14/665014/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,6b56fd81cad681c3b7ed87bbfdfebbdf00656f55,stop-control-plane-nodepool, diskimages: [] diskimages: []," diskimages: &control_plane_diskimages - name: ubuntu-bionic-minimal config-drive: true diskimages: *control_plane_diskimages - name: ubuntu-bionic-minimal pause: false elements: - ubuntu-minimal - vm - simple-init - growroot - openssh-server - control-plane-minimal release: bionic env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_JOURNAL_SIZE: '512' DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_GRUB_TIMEOUT: '0' # DIB_DISTRIBUTION_MIRROR excluded on purpose DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' DIB_DEBIAN_COMPONENTS: 'main,universe' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1'",2,28
openstack%2Fmurano-dashboard~master~I6a3d2b589823d7b13bc9348d6311d13363122930,openstack/murano-dashboard,master,I6a3d2b589823d7b13bc9348d6311d13363122930,Update contraints url,MERGED,2019-06-18 06:45:26.000000000,2019-06-18 09:22:05.000000000,2019-06-18 09:22:05.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 06:45:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/fc8fda2e15380ee33577d2922b05576904fa13dc', 'message': 'Update contraints url\n\nChange-Id: I6a3d2b589823d7b13bc9348d6311d13363122930\n'}]",0,665881,fc8fda2e15380ee33577d2922b05576904fa13dc,6,2,1,14107,,,0,"Update contraints url

Change-Id: I6a3d2b589823d7b13bc9348d6311d13363122930
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/81/665881/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fc8fda2e15380ee33577d2922b05576904fa13dc,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}install_command = pip install {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/queens},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}install_command = pip install -chttps://opendev.org/openstack/requirements/raw/branch/stable/queens/upper-constraints.txt {opts} {packages},3,2
openstack%2Foctavia~stable%2Fstein~Icb3d6bd807eb17f39c76dfd3e847aa0fdeb1f527,openstack/octavia,stable/stein,Icb3d6bd807eb17f39c76dfd3e847aa0fdeb1f527,Add Stein octavia-v2-dsvm-scenario-ubuntu-xenial,MERGED,2019-04-15 15:02:05.000000000,2019-06-18 09:01:26.000000000,2019-06-18 09:01:26.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-15 15:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/94e4e705154151df5474024771755d9f037ee4ab', 'message': 'Add Stein octavia-v2-dsvm-scenario-ubuntu-xenial\n\nThis patch adds a voting scenario job that uses Ubuntu xenial for\nboth the controllers and the amphora image.\n\nDepends-On: https://review.openstack.org/652683\nChange-Id: Icb3d6bd807eb17f39c76dfd3e847aa0fdeb1f527\n'}, {'number': 2, 'created': '2019-06-12 17:04:04.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8d3e051823bcf31e1c2b50a1d6b6bac7e7acd531', 'message': 'Add Stein octavia-v2-dsvm-scenario-ubuntu-xenial\n\nThis patch adds a voting scenario job that uses Ubuntu xenial for\nboth the controllers and the amphora image.\n\nDepends-On: https://review.opendev.org/#/c/652683/\nChange-Id: Icb3d6bd807eb17f39c76dfd3e847aa0fdeb1f527\n'}]",1,652687,8d3e051823bcf31e1c2b50a1d6b6bac7e7acd531,21,4,2,11628,,,0,"Add Stein octavia-v2-dsvm-scenario-ubuntu-xenial

This patch adds a voting scenario job that uses Ubuntu xenial for
both the controllers and the amphora image.

Depends-On: https://review.opendev.org/#/c/652683/
Change-Id: Icb3d6bd807eb17f39c76dfd3e847aa0fdeb1f527
",git fetch https://review.opendev.org/openstack/octavia refs/changes/87/652687/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,94e4e705154151df5474024771755d9f037ee4ab,, - octavia-v2-dsvm-scenario-ubuntu-xenial - octavia-v2-dsvm-scenario-ubuntu-xenial,,2,0
openstack%2Fmurano-tempest-plugin~master~I4876eb000420bae3ac333fd795f7ee1b0597076a,openstack/murano-tempest-plugin,master,I4876eb000420bae3ac333fd795f7ee1b0597076a,Update contraints url,MERGED,2019-06-18 06:53:55.000000000,2019-06-18 08:57:24.000000000,2019-06-18 08:57:24.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 06:53:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/murano-tempest-plugin/commit/27cb0c96b961ae68bdf5ca4cfa7cf6331249d48c', 'message': 'Update contraints url\n\nChange-Id: I4876eb000420bae3ac333fd795f7ee1b0597076a\n'}]",0,665885,27cb0c96b961ae68bdf5ca4cfa7cf6331249d48c,6,2,1,14107,,,0,"Update contraints url

Change-Id: I4876eb000420bae3ac333fd795f7ee1b0597076a
",git fetch https://review.opendev.org/openstack/murano-tempest-plugin refs/changes/85/665885/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,27cb0c96b961ae68bdf5ca4cfa7cf6331249d48c,,install_command = pip install {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},2,1
openstack%2Fkolla~master~I7ec146d0edc96f5ce925792530c42d7eedf8a409,openstack/kolla,master,I7ec146d0edc96f5ce925792530c42d7eedf8a409,Move to releases.openstack.org,MERGED,2019-06-12 01:53:35.000000000,2019-06-18 08:46:11.000000000,2019-06-18 08:46:10.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-12 01:53:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a64a0c574f04842de7189c3e13ce9b3f4e0ae6ae', 'message': 'Move to releases.openstack.org\n\nChange-Id: I7ec146d0edc96f5ce925792530c42d7eedf8a409\n'}]",0,664757,a64a0c574f04842de7189c3e13ce9b3f4e0ae6ae,9,4,1,28613,,,0,"Move to releases.openstack.org

Change-Id: I7ec146d0edc96f5ce925792530c42d7eedf8a409
",git fetch https://review.opendev.org/openstack/kolla refs/changes/57/664757/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a64a0c574f04842de7189c3e13ce9b3f4e0ae6ae,kolla,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},3,3
openstack%2Fkolla~stable%2Frocky~I8ae19f212049cae5dfb4e8dd6ec6cd14a8c46e0e,openstack/kolla,stable/rocky,I8ae19f212049cae5dfb4e8dd6ec6cd14a8c46e0e,Fix lower-constraints test fail due to failing dep build,MERGED,2019-06-14 16:21:15.000000000,2019-06-18 08:46:09.000000000,2019-06-18 08:46:09.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-14 16:21:15.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4fb2bfebcfdbbb746a17ee2b2010806ad58e4025', 'message': ""Fix lower-constraints test fail due to failing dep build\n\nUbuntu Bionic updated OpenSSL package to new release:\nfrom 1.1.0 to 1.1.1\nIt caused cryptography in version from lower-constraints\nto fail to build in Zuul.\nAdditionally, constrained cryptography version did not\nmatch the requirement for constrained PyOpenSSL.\nThis commit bumps the version to the minimum required\nby constrained PyOpenSSL.\nIt works because manylinux1 (binary) wheel exists.\nThis version agrees also with upper-constraints for Queens.\n\nDependency on cryptography is removed as it is not used directly\nby kolla (and requirements checker requires lower-constraints\nmatching version - let's not create an illusion of usage).\n\nFor stable/stein additionally fix version of sphinx to pass CI.\n\nFor stable/{rocky,queens} this does not necessarily affect CI but\nmay affect local testing and/or docs generation.\n\nChange-Id: I8ae19f212049cae5dfb4e8dd6ec6cd14a8c46e0e\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 39a2cf066c4c79436629017155302d36243aa338)\n""}]",0,665427,4fb2bfebcfdbbb746a17ee2b2010806ad58e4025,8,5,1,30491,,,0,"Fix lower-constraints test fail due to failing dep build

Ubuntu Bionic updated OpenSSL package to new release:
from 1.1.0 to 1.1.1
It caused cryptography in version from lower-constraints
to fail to build in Zuul.
Additionally, constrained cryptography version did not
match the requirement for constrained PyOpenSSL.
This commit bumps the version to the minimum required
by constrained PyOpenSSL.
It works because manylinux1 (binary) wheel exists.
This version agrees also with upper-constraints for Queens.

Dependency on cryptography is removed as it is not used directly
by kolla (and requirements checker requires lower-constraints
matching version - let's not create an illusion of usage).

For stable/stein additionally fix version of sphinx to pass CI.

For stable/{rocky,queens} this does not necessarily affect CI but
may affect local testing and/or docs generation.

Change-Id: I8ae19f212049cae5dfb4e8dd6ec6cd14a8c46e0e
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 39a2cf066c4c79436629017155302d36243aa338)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/27/665427/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt']",3,4fb2bfebcfdbbb746a17ee2b2010806ad58e4025,clean-reqs-stable/stein-stable/rocky,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,>=1.6.2 # BSD",3,3
openstack%2Fkolla~stable%2Focata~Ic30d9a8b334e0b879fb97cf107f3e4a295799827,openstack/kolla,stable/ocata,Ic30d9a8b334e0b879fb97cf107f3e4a295799827,"GPG keys is incorrect for percona-release when yum update ,so modify it to latest",ABANDONED,2019-01-18 08:17:23.000000000,2019-06-18 08:43:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-01-18 08:17:23.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ad6050565aa075c802f8bff0dc5efd539773b605', 'message': 'GPG keys is incorrect for percona-release when yum update ,so modify it to latest\n\nChange-Id: Ic30d9a8b334e0b879fb97cf107f3e4a295799827\n'}]",0,631723,ad6050565aa075c802f8bff0dc5efd539773b605,7,4,1,28637,,,0,"GPG keys is incorrect for percona-release when yum update ,so modify it to latest

Change-Id: Ic30d9a8b334e0b879fb97cf107f3e4a295799827
",git fetch https://review.opendev.org/openstack/kolla refs/changes/23/631723/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,ad6050565aa075c802f8bff0dc5efd539773b605,," 'http://repo.percona.com/release/7/RPMS/noarch/percona-release-1.0-7.noarch.rpm' '/etc/pki/rpm-gpg/PERCONA-PACKAGING-KEY',"," 'http://repo.percona.com/release/7/RPMS/noarch/percona-release-0.1-4.noarch.rpm' '/etc/pki/rpm-gpg/RPM-GPG-KEY-Percona ',",2,2
openstack%2Ftripleo-common~master~I1aafd5ce765e7f4f4c15701f5197ae5c48c3b7a1,openstack/tripleo-common,master,I1aafd5ce765e7f4f4c15701f5197ae5c48c3b7a1,Convert Docker*Image parameters,MERGED,2019-04-10 14:41:49.000000000,2019-06-18 08:38:44.000000000,2019-06-18 08:38:44.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-04-10 14:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fef1f257cc2a953f017667d591615ed4b3a96e13', 'message': 'Convert Docker*Image parameters\n\nThis converts all Docker*Image parameter varients into\nContainer*Image varients.\n\nThe commit was autogenerated with the following sed command:\n\nsed -e ""s|Docker\\([^ ]*Image\\)|Container\\1|g"" -i overcloud_containers.yaml.j2\n\nChange-Id: I1aafd5ce765e7f4f4c15701f5197ae5c48c3b7a1\nDepends-On: Iab06efa5616975b99aa5772a65b415629f8d7882\n'}, {'number': 2, 'created': '2019-04-10 20:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/818d8589125b319e46e4f511a5e59a6e63e8999e', 'message': 'Convert Docker*Image parameters\n\nThis converts all Docker*Image parameter varients into\nContainer*Image varients.\n\nThe commit was autogenerated with the following sed command:\n\nsed -e ""s|Docker\\([^ ]*Image\\)|Container\\1|g"" -i overcloud_containers.yaml.j2\n\nChange-Id: I1aafd5ce765e7f4f4c15701f5197ae5c48c3b7a1\nDepends-On: Iab06efa5616975b99aa5772a65b415629f8d7882\n'}, {'number': 3, 'created': '2019-04-10 23:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0a6cc42c63a51c47a8570af70d81dd45b5d97cc5', 'message': 'Convert Docker*Image parameters\n\nThis converts all Docker*Image parameter varients into\nContainer*Image varients.\n\nThe commit was autogenerated with the following sed command:\n\nsed -e ""s|Docker\\([^ ]*Image\\)|Container\\1|g"" -i overcloud_containers.yaml.j2\n\nChange-Id: I1aafd5ce765e7f4f4c15701f5197ae5c48c3b7a1\nDepends-On: Iab06efa5616975b99aa5772a65b415629f8d7882\n'}, {'number': 4, 'created': '2019-04-11 12:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c466d1c2a1de39f7480b5aca9e70fa57092c0b03', 'message': 'Convert Docker*Image parameters\n\nThis converts all Docker*Image parameter varients into\nContainer*Image varients.\n\nThe commit was autogenerated with the following sed command:\n\nsed -e ""s|Docker\\([^ ]*Image\\)|Container\\1|g"" -i overcloud_containers.yaml.j2\n\nChange-Id: I1aafd5ce765e7f4f4c15701f5197ae5c48c3b7a1\nDepends-On: Iab06efa5616975b99aa5772a65b415629f8d7882\n'}, {'number': 5, 'created': '2019-04-12 18:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8dc66f1609da96507124fb6af79c536c7ca172e1', 'message': 'Convert Docker*Image parameters\n\nThis converts all Docker*Image parameter varients into\nContainer*Image varients.\n\nThe commit was autogenerated with the following sed command:\n\nsed -e ""s|Docker\\([^ ]*Image\\)|Container\\1|g"" -i overcloud_containers.yaml.j2\n\nChange-Id: I1aafd5ce765e7f4f4c15701f5197ae5c48c3b7a1\nDepends-On: Iab06efa5616975b99aa5772a65b415629f8d7882\n'}, {'number': 6, 'created': '2019-05-13 12:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8eb074ea723a6506aabeb204d5ffba0984513b74', 'message': 'Convert Docker*Image parameters\n\nThis converts all Docker*Image parameter varients into\nContainer*Image varients.\n\nThe commit was autogenerated with the following sed command:\n\nsed -e ""s|Docker\\([^ ]*Image\\)|Container\\1|g"" -i overcloud_containers.yaml.j2\n\nChange-Id: I1aafd5ce765e7f4f4c15701f5197ae5c48c3b7a1\nDepends-On: Iab06efa5616975b99aa5772a65b415629f8d7882\n'}, {'number': 7, 'created': '2019-05-13 14:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/873a146be5bf8acceeddb401382d5d767b6f8c16', 'message': 'Convert Docker*Image parameters\n\nThis converts all Docker*Image parameter varients into\nContainer*Image varients.\n\nThe commit was autogenerated with the following sed command:\n\nsed -e ""s|Docker\\([^ ]*Image\\)|Container\\1|g"" -i overcloud_containers.yaml.j2\n\nDepends-On: Iab06efa5616975b99aa5772a65b415629f8d7882\nChange-Id: I1aafd5ce765e7f4f4c15701f5197ae5c48c3b7a1\n'}, {'number': 8, 'created': '2019-05-31 17:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f0eb52a0439c04d8a6851e30042ee495b8e1bc02', 'message': 'Convert Docker*Image parameters\n\nThis converts all Docker*Image parameter varients into\nContainer*Image varients.\n\nThe commit was autogenerated with the following sed command:\n\nsed -e ""s|Docker\\([^ ]*Image\\)|Container\\1|g"" -i overcloud_containers.yaml.j2\n\nDepends-On: Iab06efa5616975b99aa5772a65b415629f8d7882\nChange-Id: I1aafd5ce765e7f4f4c15701f5197ae5c48c3b7a1\n'}, {'number': 9, 'created': '2019-05-31 18:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dcd4dd5f9c455f170bee6ea055530ad31e13b3ef', 'message': 'Convert Docker*Image parameters\n\nThis converts all Docker*Image parameter varients into\nContainer*Image varients.\n\nThe commit was autogenerated with the following sed command:\n\nsed -e ""s|Docker\\([^ ]*Image\\)|Container\\1|g"" -i overcloud_containers.yaml.j2\n\nDepends-On: Iab06efa5616975b99aa5772a65b415629f8d7882\nChange-Id: I1aafd5ce765e7f4f4c15701f5197ae5c48c3b7a1\n'}, {'number': 10, 'created': '2019-06-05 17:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/52524023c2f34f47c3457f8418650309e77b9d35', 'message': 'Convert Docker*Image parameters\n\nThis converts all Docker*Image parameter varients into\nContainer*Image varients.\n\nThe commit was autogenerated with the following sed command:\n\nsed -e ""s|Docker\\([^ ]*Image\\)|Container\\1|g"" -i overcloud_containers.yaml.j2\n\nDepends-On: Iab06efa5616975b99aa5772a65b415629f8d7882\nChange-Id: I1aafd5ce765e7f4f4c15701f5197ae5c48c3b7a1\n'}, {'number': 11, 'created': '2019-06-05 18:47:37.000000000', 'files': ['tripleo_common/tests/actions/test_container_images.py', 'tripleo_common/tests/image/test_kolla_builder.py', 'container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/709f3b4d7e114d12ba4d5150d693c385e3933b20', 'message': 'Convert Docker*Image parameters\n\nThis converts all Docker*Image parameter varients into\nContainer*Image varients.\n\nThe commit was autogenerated with the following sed command:\n\nsed -e ""s|Docker\\([^ ]*Image\\)|Container\\1|g"" -i overcloud_containers.yaml.j2\n\nDepends-On: Iab06efa5616975b99aa5772a65b415629f8d7882\nChange-Id: I1aafd5ce765e7f4f4c15701f5197ae5c48c3b7a1\n'}]",0,651563,709f3b4d7e114d12ba4d5150d693c385e3933b20,55,7,11,360,,,0,"Convert Docker*Image parameters

This converts all Docker*Image parameter varients into
Container*Image varients.

The commit was autogenerated with the following sed command:

sed -e ""s|Docker\([^ ]*Image\)|Container\1|g"" -i overcloud_containers.yaml.j2

Depends-On: Iab06efa5616975b99aa5772a65b415629f8d7882
Change-Id: I1aafd5ce765e7f4f4c15701f5197ae5c48c3b7a1
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/63/651563/9 && git format-patch -1 --stdout FETCH_HEAD,['container-images/overcloud_containers.yaml.j2'],1,fef1f257cc2a953f017667d591615ed4b3a96e13,convert_docker_params, - ContainerAodhApiImage - ContainerAodhConfigImage - ContainerAodhEvaluatorImage - ContainerAodhListenerImage - ContainerAodhNotifierImage - ContainerBarbicanApiImage - ContainerBarbicanConfigImage - ContainerBarbicanKeystoneListenerImage - ContainerBarbicanKeystoneListenerConfigImage - ContainerBarbicanWorkerImage - ContainerBarbicanWorkerConfigImage - ContainerCeilometerCentralImage - ContainerCeilometerConfigImage - ContainerCeilometerComputeImage - ContainerCeilometerNotificationImage - ContainerCeilometerIpmiImage - ContainerCinderApiImage - ContainerCinderConfigImage - ContainerCinderBackupImage - ContainerCinderSchedulerImage - ContainerCinderVolumeImage - ContainerCollectdConfigImage - ContainerCollectdImage - ContainerCrondConfigImage - ContainerCrondImage - ContainerDesignateApiImage - ContainerDesignateBackendBIND9Image - ContainerDesignateCentralImage - ContainerDesignateMDNSImage - ContainerDesignateProducerImage - ContainerDesignateSinkImage - ContainerDesignateConfigImage - ContainerDesignateWorkerImage - ContainerEc2ApiConfigImage - ContainerEc2ApiImage - ContainerEtcdConfigImage - ContainerEtcdImage - ContainerFluentdConfigImage - ContainerFluentdClientImage - ContainerFluentdImage - ContainerGlanceApiConfigImage - ContainerGlanceApiImage - ContainerGnocchiApiImage - ContainerGnocchiConfigImage - ContainerGnocchiMetricdImage - ContainerGnocchiStatsdImage - ContainerHAProxyConfigImage - ContainerHAProxyImage - ContainerHeatApiCfnConfigImage - ContainerHeatApiCfnImage - ContainerHeatApiConfigImage - ContainerHeatApiImage - ContainerHeatConfigImage - ContainerHeatEngineImage - ContainerHorizonConfigImage - ContainerHorizonImage - ContainerIronicApiImage - ContainerIronicApiConfigImage - ContainerIronicConductorImage - ContainerIronicInspectorImage - ContainerIronicInspectorConfigImage - ContainerIronicConfigImage - ContainerIronicPxeImage - ContainerIronicNeutronAgentImage - ContainerNeutronConfigImage - ContainerIscsidConfigImage - ContainerIscsidImage - ContainerKeepalivedConfigImage - ContainerKeepalivedImage - ContainerKeystoneConfigImage - ContainerKeystoneImage - ContainerManilaApiImage - ContainerManilaConfigImage - ContainerManilaSchedulerImage - ContainerManilaShareImage - ContainerClustercheckConfigImage - ContainerClustercheckImage - ContainerMysqlConfigImage - ContainerMysqlImage - ContainerMysqlClientConfigImage - ContainerMemcachedConfigImage - ContainerMemcachedImage - ContainerMistralApiImage - ContainerMistralConfigImage - ContainerMistralEngineImage - ContainerMistralExecutorImage - ContainerMistralEventEngineImage - ContainerMultipathdConfigImage - ContainerMultipathdImage - ContainerNeutronDHCPImage - ContainerNeutronL3AgentImage - ContainerNeutronMetadataImage - ContainerOpenvswitchImage - ContainerNeutronSriovImage - ContainerNeutronApiImage - ContainerNeutronConfigImage - ContainerNeutronApiImage - ContainerNeutronConfigImage - ContainerOvnMetadataImage - ContainerNeutronApiImage - ContainerNeutronConfigImage - ContainerNovaApiImage - ContainerNovaConfigImage - ContainerNovaMetadataImage - ContainerNovaMetadataConfigImage - ContainerNovaComputeIronicImage - ContainerNovaComputeImage - ContainerNovaLibvirtConfigImage - ContainerNovaConductorImage - ContainerNovaConsoleauthImage - ContainerNovaLibvirtImage - ContainerNovaVncProxyImage - ContainerNovaPlacementConfigImage - ContainerNovaPlacementImage - ContainerNovaSchedulerImage - ContainerNovaSerialproxyConfigImage - ContainerNovaSerialproxyImage - ContainerNovajoinNotifierImage - ContainerNovajoinServerImage - ContainerNovajoinConfigImage - ContainerOctaviaApiImage - ContainerOctaviaConfigImage - ContainerOctaviaHealthManagerImage - ContainerOctaviaHousekeepingImage - ContainerOctaviaWorkerImage - ContainerOpendaylightApiImage - ContainerOpendaylightConfigImage - ContainerOvnControllerConfigImage - ContainerOvnControllerImage - ContainerOvnNbDbImage - ContainerOvnNorthdImage - ContainerOvnDbsImage - ContainerOvnDbsConfigImage - ContainerOvnSbDbImage - ContainerPankoApiImage - ContainerPankoConfigImage - ContainerPlacementConfigImage - ContainerPlacementImage - ContainerQdrouterdConfigImage - ContainerQdrouterdImage - ContainerMetricsQdrConfigImage - ContainerMetricsQdrImage - ContainerRabbitmqConfigImage - ContainerRabbitmqImage - ContainerRedisConfigImage - ContainerRedisImage - ContainerSaharaApiImage - ContainerSaharaConfigImage - ContainerSaharaEngineImage - ContainerSensuClientImage - ContainerSensuConfigImage - ContainerSkydiveAgentImage - ContainerSkydiveAnalyzerImage - ContainerSwiftAccountImage - ContainerSwiftContainerImage - ContainerSwiftObjectImage - ContainerSwiftConfigImage - ContainerSwiftProxyImage# - ContainerTackerConfigImage # - ContainerTackerImage - ContainerTripleoclientImage - ContainerTripleoUIConfigImage - ContainerTripleoUIImage - ContainerZaqarConfigImage - ContainerZaqarImage - ContainerCephDaemonImage - ContainerTempestImage - ContainerRsyslogSidecarImage - ContainerRsyslogSidecarConfigImage - ContainerOpenShiftAnsibleImage - ContainerOpenShiftConsoleImage - ContainerOpenShiftControlPlaneImage - ContainerOpenShiftDeployerImage - ContainerOpenShiftDockerBuilderImage - ContainerOpenShiftDockerRegistryImage - ContainerOpenShiftHAProxyRouterImage - ContainerOpenShiftNodeImage - ContainerOpenShiftPodImage - ContainerOpenShiftServiceCatalogImage - ContainerOpenShiftTemplateServiceBrokerImage - ContainerOpenShiftAnsibleServiceBrokerImage - ContainerOpenShiftWebConsoleImage - ContainerOpenShiftCockpitImage - ContainerOpenShiftEtcdImage - ContainerOpenShiftGlusterFSImage - ContainerOpenShiftGlusterFSBlockImage - ContainerOpenShiftGlusterFSHeketiImage - ContainerOpenShiftClusterMonitorOperatorImage - ContainerOpenShiftConfigmapReloaderImage - ContainerOpenShiftPrometheusOperatorImage - ContainerOpenShiftPrometheusConfigReloaderImage - ContainerOpenShiftPrometheusImage - ContainerOpenShiftPrometheusAlertmanagerImage - ContainerOpenShiftPrometheusNodeExporterImage - ContainerOpenShiftOauthProxyImage - ContainerOpenShiftKubeRbacProxyImage - ContainerOpenShiftKubeStateMetricsImage - ContainerOpenShiftGrafanaImage, - DockerAodhApiImage - DockerAodhConfigImage - DockerAodhEvaluatorImage - DockerAodhListenerImage - DockerAodhNotifierImage - DockerBarbicanApiImage - DockerBarbicanConfigImage - DockerBarbicanKeystoneListenerImage - DockerBarbicanKeystoneListenerConfigImage - DockerBarbicanWorkerImage - DockerBarbicanWorkerConfigImage - DockerCeilometerCentralImage - DockerCeilometerConfigImage - DockerCeilometerComputeImage - DockerCeilometerNotificationImage - DockerCeilometerIpmiImage - DockerCinderApiImage - DockerCinderConfigImage - DockerCinderBackupImage - DockerCinderSchedulerImage - DockerCinderVolumeImage - DockerCollectdConfigImage - DockerCollectdImage - DockerCrondConfigImage - DockerCrondImage - DockerDesignateApiImage - DockerDesignateBackendBIND9Image - DockerDesignateCentralImage - DockerDesignateMDNSImage - DockerDesignateProducerImage - DockerDesignateSinkImage - DockerDesignateConfigImage - DockerDesignateWorkerImage - DockerEc2ApiConfigImage - DockerEc2ApiImage - DockerEtcdConfigImage - DockerEtcdImage - DockerFluentdConfigImage - DockerFluentdClientImage - DockerFluentdImage - DockerGlanceApiConfigImage - DockerGlanceApiImage - DockerGnocchiApiImage - DockerGnocchiConfigImage - DockerGnocchiMetricdImage - DockerGnocchiStatsdImage - DockerHAProxyConfigImage - DockerHAProxyImage - DockerHeatApiCfnConfigImage - DockerHeatApiCfnImage - DockerHeatApiConfigImage - DockerHeatApiImage - DockerHeatConfigImage - DockerHeatEngineImage - DockerHorizonConfigImage - DockerHorizonImage - DockerIronicApiImage - DockerIronicApiConfigImage - DockerIronicConductorImage - DockerIronicInspectorImage - DockerIronicInspectorConfigImage - DockerIronicConfigImage - DockerIronicPxeImage - DockerIronicNeutronAgentImage - DockerNeutronConfigImage - DockerIscsidConfigImage - DockerIscsidImage - DockerKeepalivedConfigImage - DockerKeepalivedImage - DockerKeystoneConfigImage - DockerKeystoneImage - DockerManilaApiImage - DockerManilaConfigImage - DockerManilaSchedulerImage - DockerManilaShareImage - DockerClustercheckConfigImage - DockerClustercheckImage - DockerMysqlConfigImage - DockerMysqlImage - DockerMysqlClientConfigImage - DockerMemcachedConfigImage - DockerMemcachedImage - DockerMistralApiImage - DockerMistralConfigImage - DockerMistralEngineImage - DockerMistralExecutorImage - DockerMistralEventEngineImage - DockerMultipathdConfigImage - DockerMultipathdImage - DockerNeutronDHCPImage - DockerNeutronL3AgentImage - DockerNeutronMetadataImage - DockerOpenvswitchImage - DockerNeutronSriovImage - DockerNeutronApiImage - DockerNeutronConfigImage - DockerNeutronApiImage - DockerNeutronConfigImage - DockerOvnMetadataImage - DockerNeutronApiImage - DockerNeutronConfigImage - DockerNovaApiImage - DockerNovaConfigImage - DockerNovaMetadataImage - DockerNovaMetadataConfigImage - DockerNovaComputeIronicImage - DockerNovaComputeImage - DockerNovaLibvirtConfigImage - DockerNovaConductorImage - DockerNovaConsoleauthImage - DockerNovaLibvirtImage - DockerNovaVncProxyImage - DockerNovaPlacementConfigImage - DockerNovaPlacementImage - DockerNovaSchedulerImage - DockerNovaSerialproxyConfigImage - DockerNovaSerialproxyImage - DockerNovajoinNotifierImage - DockerNovajoinServerImage - DockerNovajoinConfigImage - DockerOctaviaApiImage - DockerOctaviaConfigImage - DockerOctaviaHealthManagerImage - DockerOctaviaHousekeepingImage - DockerOctaviaWorkerImage - DockerOpendaylightApiImage - DockerOpendaylightConfigImage - DockerOvnControllerConfigImage - DockerOvnControllerImage - DockerOvnNbDbImage - DockerOvnNorthdImage - DockerOvnDbsImage - DockerOvnDbsConfigImage - DockerOvnSbDbImage - DockerPankoApiImage - DockerPankoConfigImage - DockerPlacementConfigImage - DockerPlacementImage - DockerQdrouterdConfigImage - DockerQdrouterdImage - DockerMetricsQdrConfigImage - DockerMetricsQdrImage - DockerRabbitmqConfigImage - DockerRabbitmqImage - DockerRedisConfigImage - DockerRedisImage - DockerSaharaApiImage - DockerSaharaConfigImage - DockerSaharaEngineImage - DockerSensuClientImage - DockerSensuConfigImage - DockerSkydiveAgentImage - DockerSkydiveAnalyzerImage - DockerSwiftAccountImage - DockerSwiftContainerImage - DockerSwiftObjectImage - DockerSwiftConfigImage - DockerSwiftProxyImage# - DockerTackerConfigImage # - DockerTackerImage - DockerTripleoclientImage - DockerTripleoUIConfigImage - DockerTripleoUIImage - DockerZaqarConfigImage - DockerZaqarImage - DockerCephDaemonImage - DockerTempestImage - DockerRsyslogSidecarImage - DockerRsyslogSidecarConfigImage - DockerOpenShiftAnsibleImage - DockerOpenShiftConsoleImage - DockerOpenShiftControlPlaneImage - DockerOpenShiftDeployerImage - DockerOpenShiftDockerBuilderImage - DockerOpenShiftDockerRegistryImage - DockerOpenShiftHAProxyRouterImage - DockerOpenShiftNodeImage - DockerOpenShiftPodImage - DockerOpenShiftServiceCatalogImage - DockerOpenShiftTemplateServiceBrokerImage - DockerOpenShiftAnsibleServiceBrokerImage - DockerOpenShiftWebConsoleImage - DockerOpenShiftCockpitImage - DockerOpenShiftEtcdImage - DockerOpenShiftGlusterFSImage - DockerOpenShiftGlusterFSBlockImage - DockerOpenShiftGlusterFSHeketiImage - DockerOpenShiftClusterMonitorOperatorImage - DockerOpenShiftConfigmapReloaderImage - DockerOpenShiftPrometheusOperatorImage - DockerOpenShiftPrometheusConfigReloaderImage - DockerOpenShiftPrometheusImage - DockerOpenShiftPrometheusAlertmanagerImage - DockerOpenShiftPrometheusNodeExporterImage - DockerOpenShiftOauthProxyImage - DockerOpenShiftKubeRbacProxyImage - DockerOpenShiftKubeStateMetricsImage - DockerOpenShiftGrafanaImage,198,198
openstack%2Fheat-dashboard~master~If9e78c53e80a6a104f54400ea5044d7e92cf2e45,openstack/heat-dashboard,master,If9e78c53e80a6a104f54400ea5044d7e92cf2e45,Imported Translations from Zanata,MERGED,2019-06-14 09:40:27.000000000,2019-06-18 08:30:49.000000000,2019-06-18 08:30:49.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-06-14 09:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/9834c3bb2a9dd9d33a0f5a342b184796d52b6119', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If9e78c53e80a6a104f54400ea5044d7e92cf2e45\n'}, {'number': 2, 'created': '2019-06-18 07:14:17.000000000', 'files': ['heat_dashboard/locale/ne/LC_MESSAGES/django.po', 'heat_dashboard/locale/ne/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/ne/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/60fb62f17a26c03be8e0b216f8e45e1bea14e5a6', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If9e78c53e80a6a104f54400ea5044d7e92cf2e45\n'}]",0,665341,60fb62f17a26c03be8e0b216f8e45e1bea14e5a6,9,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If9e78c53e80a6a104f54400ea5044d7e92cf2e45
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/41/665341/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat_dashboard/locale/ne/LC_MESSAGES/django.po', 'heat_dashboard/locale/ne/LC_MESSAGES/djangojs.po']",2,9834c3bb2a9dd9d33a0f5a342b184796d52b6119,zanata/translations,"# OpenStack Infra <zanata@openstack.org>, 2015. #zanata # Surit Aryal <aryalsurit@gmail.com>, 2019. #zanata msgid """" msgstr """" ""Project-Id-Version: heat-dashboard VERSION\n"" ""Report-Msgid-Bugs-To: https://bugs.launchpad.net/openstack-i18n/\n"" ""POT-Creation-Date: 2019-05-22 15:39+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2019-06-14 04:55+0000\n"" ""Last-Translator: Surit Aryal <aryalsurit@gmail.com>\n"" ""Language-Team: Nepali\n"" ""Language: ne\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid ""Cancel"" msgstr "" "" msgid ""Check Stack"" msgid_plural ""Check Stacks"" msgstr[0] ""  "" msgstr[1] ""  "" #, python-format msgid ""Checked Stack: %s."" msgid_plural ""Checked Stacks: %s."" msgstr[0] ""  : %s"" msgstr[1] ""  : %s"" msgid ""Confirm Check Stack"" msgid_plural ""Confirm Check Stacks"" msgstr[0] ""   "" msgstr[1] ""   "" msgid ""Confirm Delete Stack"" msgid_plural ""Confirm Delete Stacks"" msgstr[0] "" "" msgstr[1] "" "" msgid ""Create Stack"" msgstr "" "" msgid ""Delete Resource"" msgstr "" "" msgid ""Delete Stack"" msgid_plural ""Delete Stacks"" msgstr[0] "" "" msgstr[1] "" "" #, python-format msgid ""Deleted Stack: %s."" msgid_plural ""Deleted Stacks: %s."" msgstr[0] ""  %s"" msgstr[1] ""  %s"" msgid ""Download"" msgstr "" "" msgid ""Heat Orchestration Template"" msgstr ""Heat Orchestration "" msgid ""OK"" msgstr "" "" msgid ""Save"" msgstr "" "" msgid ""Saved Drafts"" msgstr "" "" msgid ""Show More Properties"" msgstr ""  "" #, python-format msgid ""Stack %s was successfully created."" msgstr "" %s   "" #, python-format msgid ""Unable to check Stack: %s."" msgid_plural ""Unable to check Stacks: %s."" msgstr[0] ""%s    "" msgstr[1] ""%s    "" #, python-format msgid ""Unable to delete Stack: %s."" msgid_plural ""Unable to delete Stacks: %s."" msgstr[0] "": %s  "" msgstr[1] "": %s  "" #, python-format msgid ""You are not allowed to check stacks: %s"" msgstr "" : %s    "" #, python-format msgid ""You are not allowed to delete stacks: %s"" msgstr "" : %s    "" #, python-format msgid ""You have selected \""%s\""."" msgid_plural ""You have selected \""%s\""."" msgstr[0] "" \""%s\"".  "" msgstr[1] "" \""%s\"".  "" #, python-format msgid ""You have selected \""%s\"". Deleted stack is not recoverable."" msgid_plural ""You have selected \""%s\"". Deleted stacks are not recoverable."" msgstr[0] "" \""%s\""      :   "" msgstr[1] "" \""%s\""      :   "" ",,736,0
openstack%2Fironic~master~I4be8b9da394c6957edb0e42040321b39145ab710,openstack/ironic,master,I4be8b9da394c6957edb0e42040321b39145ab710,DRAC: Adding reset_idrac and known_good_state cleaning steps,MERGED,2019-05-10 06:21:00.000000000,2019-06-18 08:26:28.000000000,2019-06-18 08:26:28.000000000,"[{'_account_id': 2472}, {'_account_id': 4571}, {'_account_id': 7160}, {'_account_id': 8580}, {'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10250}, {'_account_id': 10379}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 12860}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 28429}, {'_account_id': 29834}, {'_account_id': 30100}]","[{'number': 1, 'created': '2019-05-10 06:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/41c268dbbbd6f5e477443e442a82face9fc93c98', 'message': 'Adding reset_idrac and known_good_state cleaning steps in ironic driver\n\nChange-Id: I4be8b9da394c6957edb0e42040321b39145ab710\n'}, {'number': 2, 'created': '2019-05-10 06:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8314148a40494e7c092ceb6a55962d1b11daa830', 'message': 'Adding reset_idrac and known_good_state cleaning steps\n\nChange-Id: I4be8b9da394c6957edb0e42040321b39145ab710\n'}, {'number': 3, 'created': '2019-05-10 06:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/303bbd2b4a22a00fc811cd190e7056edb3986e92', 'message': 'Adding reset_idrac and known_good_state cleaning steps\n\nAdded reset_idrac cleaning step in the iDRAC driver that resets \nthe iDRAC also added unit tests for the same.\nAdded known_good_state cleaning step in the iDRAC driver that\nperforms Reset the iDRAC, Clear the job queue to get the iDRAC \ninto a known-good state also added unit tests for the same.\n\nChange-Id: I4be8b9da394c6957edb0e42040321b39145ab710\n'}, {'number': 4, 'created': '2019-05-10 17:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0fafed4b86b23d91ba7509a2fe256c474d0410d2', 'message': 'Adding reset_idrac and known_good_state cleaning steps\n\nAdded reset_idrac cleaning step in the iDRAC driver that resets\nthe iDRAC also added unit tests for the same.\nAdded known_good_state cleaning step in the iDRAC driver that\nperforms Reset the iDRAC, Clear the job queue to get the iDRAC\ninto a known-good state also added unit tests for the same.\n\nChange-Id: I4be8b9da394c6957edb0e42040321b39145ab710\n'}, {'number': 5, 'created': '2019-06-03 09:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/86185efd5ae2f1d46c16ab62f410fa37e775aaa7', 'message': 'Adding reset_idrac and known_good_state cleaning steps\n\nAdded reset_idrac cleaning step in the iDRAC driver that resets\nthe iDRAC also added unit tests for the same.\nAdded known_good_state cleaning step in the iDRAC driver that\nperforms Reset the iDRAC, Clear the job queue to get the iDRAC\ninto a known-good state also added unit tests for the same.\n\nChange-Id: I4be8b9da394c6957edb0e42040321b39145ab710\nStory: 2005818\n'}, {'number': 6, 'created': '2019-06-04 09:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fbc15ac3db599e8ada4ce5b998e209fc00aa84ca', 'message': 'Adding reset_idrac and known_good_state cleaning steps\n\nAdded reset_idrac cleaning step in the iDRAC driver that resets\nthe iDRAC also added unit tests for the same.\nAdded known_good_state cleaning step in the iDRAC driver that\nperforms Reset the iDRAC, Clear the job queue to get the iDRAC\ninto a known-good state also added unit tests for the same.\n\nChange-Id: I4be8b9da394c6957edb0e42040321b39145ab710\nStory: 2005818\nTask: 33562\n'}, {'number': 7, 'created': '2019-06-05 07:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f4c219cf8faa96e42408cd1987a5cc946d625016', 'message': 'Adding reset_idrac and known_good_state cleaning steps\n\nAdded reset_idrac cleaning step in the iDRAC driver that resets\nthe iDRAC also added unit tests for the same.\nAdded known_good_state cleaning step in the iDRAC driver that\nperforms Reset the iDRAC, Clear the job queue to get the iDRAC\ninto a known-good state also added unit tests for the same.\n\nChange-Id: I4be8b9da394c6957edb0e42040321b39145ab710\nStory: 2005818\nTask: 33562\n'}, {'number': 8, 'created': '2019-06-05 10:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/07c209063ac3dc7bbe56c1279e17621c3db8e967', 'message': 'Adding reset_idrac and known_good_state cleaning steps\n\nAdded reset_idrac cleaning step in the iDRAC driver that resets\nthe iDRAC also added unit tests for the same.\nAdded known_good_state cleaning step in the iDRAC driver that\nperforms Reset the iDRAC, Clear the job queue to get the iDRAC\ninto a known-good state also added unit tests for the same.\n\nChange-Id: I4be8b9da394c6957edb0e42040321b39145ab710\nStory: 2005818\nTask: 33562\n'}, {'number': 9, 'created': '2019-06-05 10:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c066517352047b3fe96162dfea4aa87e698c31ad', 'message': 'Adding reset_idrac and known_good_state cleaning steps\n\nAdded reset_idrac cleaning step in the iDRAC driver that resets\nthe iDRAC also added unit tests for the same.\nAdded known_good_state cleaning step in the iDRAC driver that\nperforms Reset the iDRAC, Clear the job queue to get the iDRAC\ninto a known-good state also added unit tests for the same.\n\nChange-Id: I4be8b9da394c6957edb0e42040321b39145ab710\nStory: 2005818\nTask: 33562\n'}, {'number': 10, 'created': '2019-06-05 21:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/128cffc2a514d83d24b23e4d4a0bd12b81cc1bc9', 'message': 'Adding reset_idrac and known_good_state cleaning steps\n\nAdded reset_idrac cleaning step in the iDRAC driver that resets\nthe iDRAC also added unit tests for the same.\nAdded known_good_state cleaning step in the iDRAC driver that\nperforms Reset the iDRAC, Clear the job queue to get the iDRAC\ninto a known-good state also added unit tests for the same.\n\nChange-Id: I4be8b9da394c6957edb0e42040321b39145ab710\nStory: 2005818\nTask: 33562\n'}, {'number': 11, 'created': '2019-06-05 21:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9b5111721414b1bb27a7ea4f32a610aacce4d6cd', 'message': 'Adding reset_idrac and known_good_state cleaning steps\n\nAdded reset_idrac cleaning step in the iDRAC driver that resets\nthe iDRAC also added unit tests for the same.\nAdded known_good_state cleaning step in the iDRAC driver that\nperforms Reset the iDRAC, Clear the job queue to get the iDRAC\ninto a known-good state also added unit tests for the same.\n\nChange-Id: I4be8b9da394c6957edb0e42040321b39145ab710\nStory: 2005818\nTask: 33562\n'}, {'number': 12, 'created': '2019-06-06 05:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/52318a03f2a35ab6e6694dcebbd095de012875e3', 'message': 'Adding reset_idrac and known_good_state cleaning steps\n\nAdded reset_idrac cleaning step in the iDRAC driver that\nresets the iDRAC also added unit tests for the same.\nAdded known_good_state cleaning step in the iDRAC driver that\nperforms Reset the iDRAC, Clear the job queue to get the iDRAC\ninto a known-good state also added unit tests for the same.\n\nChange-Id: I4be8b9da394c6957edb0e42040321b39145ab710\nStory: 2005818\nTask: 33562\n'}, {'number': 13, 'created': '2019-06-10 05:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a2c60a00a3d5e81046f8c0d600258c736ba63f7f', 'message': 'Adding reset_idrac and known_good_state cleaning steps\n\nAdded reset_idrac cleaning step in the iDRAC driver that resets\nthe iDRAC also added unit tests for the same.\nAdded known_good_state cleaning step in the iDRAC driver that\nperforms Reset the iDRAC, Clear the job queue to get the iDRAC\ninto a known-good state also added unit tests for the same.\n\nChange-Id: I4be8b9da394c6957edb0e42040321b39145ab710\nStory: 2005818\nTask: 33562\n'}, {'number': 14, 'created': '2019-06-13 05:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/25f3dc866d538a47ecf611b1830853f0e05a887d', 'message': 'DRAC: Adding reset_idrac and known_good_state cleaning steps\n\nAdded reset_idrac cleaning step in the iDRAC driver that resets\nthe iDRAC also added unit tests for the same.\nAdded known_good_state cleaning step in the iDRAC driver that\nperforms Reset the iDRAC, Clear the job queue to get the iDRAC\ninto a known-good state also added unit tests for the same.\n\nChange-Id: I4be8b9da394c6957edb0e42040321b39145ab710\nStory: 2005818\nTask: 33562\n'}, {'number': 15, 'created': '2019-06-17 16:19:55.000000000', 'files': ['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'releasenotes/notes/add_clean_step_reset_idrac_and_known_good_state-cdbebf97d7b87fe7.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d02acfb3b2122a2e2e635e8b735da9b874b8f419', 'message': 'DRAC: Adding reset_idrac and known_good_state cleaning steps\n\nAdded reset_idrac cleaning step in the iDRAC driver that resets\nthe iDRAC also added unit tests for the same.\nAdded known_good_state cleaning step in the iDRAC driver that\nperforms Reset the iDRAC, Clear the job queue to get the iDRAC\ninto a known-good state also added unit tests for the same.\n\nChange-Id: I4be8b9da394c6957edb0e42040321b39145ab710\nStory: 2005818\nTask: 33562\n'}]",64,658271,d02acfb3b2122a2e2e635e8b735da9b874b8f419,144,19,15,29834,,,0,"DRAC: Adding reset_idrac and known_good_state cleaning steps

Added reset_idrac cleaning step in the iDRAC driver that resets
the iDRAC also added unit tests for the same.
Added known_good_state cleaning step in the iDRAC driver that
performs Reset the iDRAC, Clear the job queue to get the iDRAC
into a known-good state also added unit tests for the same.

Change-Id: I4be8b9da394c6957edb0e42040321b39145ab710
Story: 2005818
Task: 33562
",git fetch https://review.opendev.org/openstack/ironic refs/changes/71/658271/13 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py']",2,41c268dbbbd6f5e477443e442a82face9fc93c98,," def test_reset_idrac(self, mock_get_drac_client): mock_client = mock.Mock() mock_get_drac_client.return_value = mock_client with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: return_value = task.driver.management.reset_idrac(task) mock_client.reset_idrac.assert_called_once_with( force=True, wait=True) self.assertIsNone(return_value) def test_known_good_state(self, mock_get_drac_client): mock_client = mock.Mock() mock_get_drac_client.return_value = mock_client with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: return_value = task.driver.management.known_good_state(task) mock_client.reset_idrac.assert_called_once_with( force=True, wait=True) mock_client.delete_jobs.assert_called_once_with( job_ids=['JID_CLEARALL_FORCE']) self.assertIsNone(return_value)",,55,0
openstack%2Fkolla-ansible~master~I501c0a5b2705cffcddbf4299a5d62485704c16e0,openstack/kolla-ansible,master,I501c0a5b2705cffcddbf4299a5d62485704c16e0,WIP: Ensure ceph cluster is healthy after the upgrade,ABANDONED,2019-06-17 09:18:48.000000000,2019-06-18 08:21:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-17 09:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a845a761ef8d9e8ecba914c27611b45fd3ff4de7', 'message': 'WIP: Ensure ceph cluster is healthy after the upgrade\n\nLet Zuul check several times.\nTODO: write desc\n\nCloses-Bug: #1832989\n\nChange-Id: I501c0a5b2705cffcddbf4299a5d62485704c16e0\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-06-17 09:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5f79fdb968c14f26bb43f627618680c7e35ebf6d', 'message': 'WIP: Ensure ceph cluster is healthy after the upgrade\n\nLet Zuul check several times.\nTODO: write desc\n\nCloses-Bug: #1832989\n\nChange-Id: I501c0a5b2705cffcddbf4299a5d62485704c16e0\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 3, 'created': '2019-06-17 11:46:23.000000000', 'files': ['ansible/roles/ceph/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e40e38ac32aa3b15c9c91d65b59a99a2e4ca4ccb', 'message': 'WIP: Ensure ceph cluster is healthy after the upgrade\n\nLet Zuul check several times.\nTODO: write desc\n\nCloses-Bug: #1832989\n\nChange-Id: I501c0a5b2705cffcddbf4299a5d62485704c16e0\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,665620,e40e38ac32aa3b15c9c91d65b59a99a2e4ca4ccb,6,1,3,30491,,,0,"WIP: Ensure ceph cluster is healthy after the upgrade

Let Zuul check several times.
TODO: write desc

Closes-Bug: #1832989

Change-Id: I501c0a5b2705cffcddbf4299a5d62485704c16e0
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/20/665620/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ceph/tasks/upgrade.yml'],1,a845a761ef8d9e8ecba914c27611b45fd3ff4de7,bug/1832989,"# NOTE(yoctozepto): we must ensure the cluster reaches healthy state # before we try the functionality upgrade (or else we might fail it) - name: Ensure cluster reaches a healthy state command: docker exec ceph_mon ceph health run_once: True delegate_to: ""{{ groups['ceph-mon'][0] }}"" changed_when: False register: ceph_health_command until: ceph_health_command.stdout == 'HEALTH_OK' retries: 5 delay: 5 ",,12,0
openstack%2Fmurano~master~Idaad27283ef453be2d044c9f91524a37a6db9526,openstack/murano,master,Idaad27283ef453be2d044c9f91524a37a6db9526,Add deps for api-ref,MERGED,2019-06-18 06:00:15.000000000,2019-06-18 08:15:16.000000000,2019-06-18 08:15:16.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 06:00:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/murano/commit/808fc6408cbe61565d9504fac5a9c00b2abeefe6', 'message': 'Add deps for api-ref\n\nChange-Id: Idaad27283ef453be2d044c9f91524a37a6db9526\n'}]",0,665868,808fc6408cbe61565d9504fac5a9c00b2abeefe6,6,2,1,14107,,,0,"Add deps for api-ref

Change-Id: Idaad27283ef453be2d044c9f91524a37a6db9526
",git fetch https://review.opendev.org/openstack/murano refs/changes/68/665868/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,808fc6408cbe61565d9504fac5a9c00b2abeefe6,,deps = -r{toxinidir}/doc/requirements.txt,,1,0
openstack%2Fpuppet-keystone~master~Ibaf6144524c8c86c16d623b1151149bb132c465c,openstack/puppet-keystone,master,Ibaf6144524c8c86c16d623b1151149bb132c465c,Convert to rspec-puppet-facts,ABANDONED,2019-04-24 22:14:53.000000000,2019-06-18 08:02:32.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-24 22:14:53.000000000', 'files': ['spec/classes/keystone_roles_admin_spec.rb', 'spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/60538f888a99fd4ab1d30611d33baea12640d787', 'message': 'Convert to rspec-puppet-facts\n\nAnd perform some structuring, cleanup and make sure\neverything (including all code paths) are tested.\n\nChange-Id: Ibaf6144524c8c86c16d623b1151149bb132c465c\n'}]",0,655580,60538f888a99fd4ab1d30611d33baea12640d787,4,2,1,16137,,,0,"Convert to rspec-puppet-facts

And perform some structuring, cleanup and make sure
everything (including all code paths) are tested.

Change-Id: Ibaf6144524c8c86c16d623b1151149bb132c465c
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/80/655580/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/keystone_roles_admin_spec.rb', 'spec/classes/keystone_init_spec.rb']",2,60538f888a99fd4ab1d30611d33baea12640d787,rspec-puppet-facts," let :params do { :admin_token => 'service_token', :admin_password => 'special_password', let :default_params do { :package_ensure => 'present', :client_package_ensure => 'present', :public_bind_host => '0.0.0.0', :admin_bind_host => '0.0.0.0', :public_port => '5000', :admin_port => '35357', :catalog_type => 'sql', :catalog_template_file => '/etc/keystone/default_catalog.templates', :token_provider => 'fernet', :password_hash_algorithm => '<SERVICE DEFAULT>', :password_hash_rounds => '<SERVICE DEFAULT>', :revoke_driver => 'sql', :revoke_by_id => true, :cache_backend => '<SERVICE DEFAULT>', :cache_backend_argument => '<SERVICE DEFAULT>', :cache_enabled => '<SERVICE DEFAULT>', :cache_memcache_servers => '<SERVICE DEFAULT>', :enable_ssl => false, :ssl_certfile => '/etc/keystone/ssl/certs/keystone.pem', :ssl_keyfile => '/etc/keystone/ssl/private/keystonekey.pem', :ssl_ca_certs => '/etc/keystone/ssl/certs/ca.pem', :ssl_ca_key => '/etc/keystone/ssl/private/cakey.pem', :ssl_cert_subject => '/C=US/ST=Unset/L=Unset/O=Unset/CN=localhost', :enabled => true, :manage_service => true, :database_connection => 'sqlite:////var/lib/keystone/keystone.db', :database_idle_timeout => '200', :default_transport_url => '<SERVICE DEFAULT>', :notification_transport_url => '<SERVICE DEFAULT>', :rabbit_heartbeat_timeout_threshold => '<SERVICE DEFAULT>', :rabbit_heartbeat_rate => '<SERVICE DEFAULT>', :amqp_durable_queues => '<SERVICE DEFAULT>', :admin_workers => 20, :public_workers => 20, :member_role_id => '<SERVICE DEFAULT>', :member_role_name => '<SERVICE DEFAULT>', :sync_db => true, :enable_fernet_setup => true, :fernet_key_repository => '/etc/keystone/fernet-keys', :fernet_max_active_keys => '<SERVICE DEFAULT>', :fernet_replace_keys => false, :enable_credential_setup => false, :credential_key_repository => '/etc/keystone/credential-keys', :credential_keys => false, :enable_bootstrap => true, :domain_config_directory => '/etc/keystone/domains', :purge_config => false, :keystone_user => 'keystone', :keystone_group => 'keystone', } let :override_params do { :package_ensure => 'latest', :client_package_ensure => 'latest', :public_bind_host => '0.0.0.0', :admin_bind_host => '0.0.0.0', :public_port => '5001', :admin_port => '35358', :admin_token => 'service_token_override', :admin_password => 'admin_openstack_password', :catalog_template_file => '/etc/keystone/custom_catalog', :token_provider => 'uuid', :password_hash_algorithm => 'pbkdf2_sha512', :password_hash_rounds => '29000', :revoke_driver => 'kvs', :revoke_by_id => false, :public_endpoint => 'https://localhost:5000/v2.0/', :admin_endpoint => 'https://localhost:5000/v2.0/', :enable_ssl => true, :ssl_certfile => '/etc/keystone/ssl/certs/keystone.pem', :ssl_keyfile => '/etc/keystone/ssl/private/keystonekey.pem', :ssl_ca_certs => '/etc/keystone/ssl/certs/ca.pem', :ssl_ca_key => '/etc/keystone/ssl/private/cakey.pem', :ssl_cert_subject => '/C=US/ST=Unset/L=Unset/O=Unset/CN=localhost', :enabled => false, :manage_service => true, :database_connection => 'mysql://a:b@c/d', :database_idle_timeout => '300', :default_transport_url => 'rabbit://user:pass@host:1234/virt', :notification_transport_url => 'rabbit://user:pass@host:1234/virt', :rabbit_heartbeat_timeout_threshold => '60', :rabbit_heartbeat_rate => '10', :rabbit_ha_queues => true, :amqp_durable_queues => true, :default_domain => 'other_domain', :member_role_id => '123456789', :member_role_name => 'othermember', :using_domain_config => false, :sync_db => false, :enable_fernet_setup => true, :fernet_key_repository => '/etc/keystone/fernet-keys', :fernet_max_active_keys => 5, :fernet_replace_keys => false, :credential_key_repository => '/etc/keystone/keys', :enable_bootstrap => false, :purge_config => true, :keystone_user => 'test_user', :keystone_group => 'test_group', :manage_policyrcd => true, } end shared_examples 'keystone' do context 'with default parameters' do it { should_not contain_policy_rcd('apache2') should_not contain_policy_rcd('keystone') } it { should contain_class('keystone::db') should contain_class('keystone::params') } it { should contain_package('keystone').with( :ensure => default_params[:package_ensure], :name => platform_params[:package_name], :tag => ['openstack', 'keystone-package'], )} it { should contain_class('keystone::client') } it { should contain_resources('keystone_config').with( :purge => default_params[:purge_config], )} it { should contain_keystone_config('DEFAULT/admin_token').with( :value => params[:admin_token], :secret => true, )} it { should contain_keystone_config('DEFAULT/public_bind_host').with_value(default_params[:public_bind_host]) should contain_keystone_config('DEFAULT/admin_bind_host').with_value(default_params[:admin_bind_host]) should contain_keystone_config('DEFAULT/public_port').with_value(default_params[:public_port]) should contain_keystone_config('DEFAULT/admin_port').with_value(default_params[:admin_port]) should contain_keystone_config('DEFAULT/member_role_id').with_value(default_params[:member_role_id]) should contain_keystone_config('DEFAULT/member_role_name').with_value(default_params[:member_role_name]) } it { should contain_keystone_config('DEFAULT/public_endpoint').with_value(default_params[:public_endpoint]) should contain_keystone_config('DEFAULT/admin_endpoint').with_value(default_params[:admin_endpoint]) } it { should contain_keystone_config('token/expiration').with_value(default_params[:token_expiration]) } it { should contain_keystone_config('identity/password_hash_algorithm').with_value(default_params[:password_hash_algorithm]) should contain_keystone_config('identity/password_hash_rounds').with_value(default_params[:password_hash_rounds]) } it { should contain_keystone_config('revoke/driver').with_value(default_params[:revoke_driver]) } it { should contain_keystone_config('policy/driver').with_value(default_params[:policy_driver]) } it { should contain_keystone_config('ssl/enable').with_value(default_params[:enable_ssl]) should_not contain_keystone_config('ssl/certfile') should_not contain_keystone_config('ssl/keyfile') should_not contain_keystone_config('ssl/ca_certs') should_not contain_keystone_config('ssl/ca_key') should_not contain_keystone_config('ssl/cert_subject') } it { should contain_keystone_config('memcache/dead_retry').with_value(default_params[:memcache_dead_retry]) should contain_keystone_config('memcache/pool_maxsize').with_value(default_params[:memcache_pool_maxsize]) should contain_keystone_config('memcache/pool_unused_timeout').with_value(default_params[:memcache_pool_unused_timeout]) should contain_keystone_config('memcache/socket_timeout').with_value(default_params[:memcache_socket_timeout]) should contain_keystone_config('token/caching').with_value(default_params[:token_caching]) } it { should contain_oslo__cache('keystone_config').with( :config_prefix => default_params[:cache_config_prefix], :expiration_time => default_params[:cache_expiration_time], :backend => default_params[:cache_backend], :backend_argument => default_params[:cache_backend_argument], :proxies => default_params[:cache_proxies], :enabled => default_params[:cache_enabled], :debug_cache_backend => default_params[:debug_cache_backend], :memcache_servers => default_params[:cache_memcache_servers], :memcache_dead_retry => default_params[:memcache_dead_retry], :memcache_socket_timeout => default_params[:memcache_socket_timeout], :memcache_pool_maxsize => default_params[:memcache_pool_maxsize], :memcache_pool_unused_timeout => default_params[:memcache_pool_unused_timeout], :memcache_pool_connection_get_timeout => default_params[:memcache_pool_connection_get_timeout], :manage_backend_package => default_params[:manage_backend_package], )} it { should contain_oslo__middleware('keystone_config').with( :enable_proxy_headers_parsing => default_params[:enable_proxy_headers_parsing], )} it { should contain_keystone_config('catalog/type').with_value(default_params[:catalog_type]) should contain_keystone_config('catalog/driver').with_value('sql') } it { should contain_keystone_config('catalog/template_file').with_value(default_params[:catalog_template_file]) } it { should contain_keystone_config('token/provider').with_value(default_params[:token_provider]) should contain_keystone_config('DEFAULT/max_token_size').with_value(default_params[:max_token_size]) should contain_keystone_config('DEFAULT/notification_format').with_value(default_params[:notification_format]) } it { should contain_oslo__messaging__default('keystone_config').with( :transport_url => default_params[:default_transport_url], :control_exchange => default_params[:control_exchange], :rpc_response_timeout => default_params[:rpc_response_timeout], )} it { should contain_oslo__messaging__notification('keystone_config').with( :transport_url => default_params[:notification_transport_url], :driver => default_params[:notification_driver], :topics => default_params[:notification_topics], )} it { should contain_oslo__messaging__rabbit('keystone_config').with( :kombu_ssl_version => default_params[:kombu_ssl_version], :kombu_ssl_keyfile => default_params[:kombu_ssl_keyfile], :kombu_ssl_certfile => default_params[:kombu_ssl_certfile], :kombu_ssl_ca_certs => default_params[:kombu_ssl_ca_certs], :kombu_reconnect_delay => default_params[:kombu_reconnect_delay], :kombu_failover_strategy => default_params[:kombu_failover_strategy], :kombu_compression => default_params[:kombu_compression], :rabbit_use_ssl => default_params[:rabbit_use_ssl], :rabbit_ha_queues => default_params[:rabbit_ha_queues], :heartbeat_timeout_threshold => default_params[:rabbit_heartbeat_timeout_threshold], :heartbeat_rate => default_params[:rabbit_heartbeart_rate], :amqp_durable_queues => default_params[:amqp_durable_queues], )} it { should contain_keystone_config('eventlet_server/admin_workers').with_value(default_params[:admin_workers]) should contain_keystone_config('eventlet_server/public_workers').with_value(default_params[:public_workers]) } it { should contain_class('keystone::db::sync') } it { should contain_keystone_config('token/revoke_by_id').with_value(default_params[:revoke_by_id]) should contain_keystone_config('fernet_tokens/max_active_keys').with_value(default_params[:fernet_max_active_keys]) should contain_keystone_config('credential/key_repository').with_value(default_params[:credential_key_repository]) } it { should contain_exec('keystone-manage bootstrap').with( :command => 'keystone-manage bootstrap', :environment => ""OS_BOOTSTRAP_PASSWORD=#{params[:admin_password]}"", :user => default_params[:keystone_user], :path => '/usr/bin', :refreshonly => true, :notify => 'Anchor[keystone::service::begin]', :subscribe => 'Anchor[keystone::dbsync::end]', :tag => 'keystone-exec', )} end context 'with overriden parameters' do before do params.merge(override_params) it { should contain_package('keystone').with( :ensure => override_params[:package_ensure], :name => platform_params[:package_name], :tag => ['openstack', 'keystone-package'], )} it { should contain_class('keystone::client').with( :ensure => override_params[:client_package_ensure], )} it { should contain_resources('keystone_config').with( :purge => override_params[:purge_config], )} it { should contain_keystone_config('DEFAULT/admin_token').with( :value => params[:admin_token], :secret => true, )} it { should contain_keystone_config('DEFAULT/public_bind_host').with_value(override_params[:public_bind_host]) should contain_keystone_config('DEFAULT/admin_bind_host').with_value(override_params[:admin_bind_host]) should contain_keystone_config('DEFAULT/public_port').with_value(override_params[:public_port]) should contain_keystone_config('DEFAULT/admin_port').with_value(override_params[:admin_port]) should contain_keystone_config('DEFAULT/member_role_id').with_value(override_params[:member_role_id]) should contain_keystone_config('DEFAULT/member_role_name').with_value(override_params[:member_role_name]) } it { should contain_keystone_config('DEFAULT/public_endpoint').with_value(override_params[:public_endpoint]) should contain_keystone_config('DEFAULT/admin_endpoint').with_value(override_params[:admin_endpoint]) } it { should contain_keystone_config('token/expiration').with_value(override_params[:token_expiration]) } it { should contain_keystone_config('identity/password_hash_algorithm').with_value(override_params[:password_hash_algorithm]) should contain_keystone_config('identity/password_hash_rounds').with_value(override_params[:password_hash_rounds]) } it { should contain_keystone_config('revoke/driver').with_value(override_params[:revoke_driver]) } it { should contain_keystone_config('policy/driver').with_value(override_params[:policy_driver]) } it { should contain_keystone_config('ssl/enable').with_value(override_params[:enable_ssl]) should contain_keystone_config('ssl/certfile').with_value(override_params[:ssl_certfile]) should contain_keystone_config('ssl/keyfile').with_value(override_params[:ssl_keyfile]) should contain_keystone_config('ssl/ca_certs').with_value(override_params[:ssl_ca_certs]) should contain_keystone_config('ssl/ca_key').with_value(override_params[:ssl_ca_key]) should contain_keystone_config('ssl/cert_subject').with_value(override_params[:ssl_cert_subject]) } it { should contain_keystone_config('memcache/dead_retry').with_value(override_params[:memcache_dead_retry]) should contain_keystone_config('memcache/pool_maxsize').with_value(override_params[:memcache_pool_maxsize]) should contain_keystone_config('memcache/pool_unused_timeout').with_value(override_params[:memcache_pool_unused_timeout]) should contain_keystone_config('memcache/socket_timeout').with_value(override_params[:memcache_socket_timeout]) should contain_keystone_config('token/caching').with_value(override_params[:token_caching]) } it { should contain_oslo__cache('keystone_config').with( :config_prefix => override_params[:cache_config_prefix], :expiration_time => override_params[:cache_expiration_time], :backend => override_params[:cache_backend], :backend_argument => override_params[:cache_backend_argument], :proxies => override_params[:cache_proxies], :enabled => override_params[:cache_enabled], :debug_cache_backend => override_params[:debug_cache_backend], :memcache_servers => override_params[:cache_memcache_servers], :memcache_dead_retry => override_params[:memcache_dead_retry], :memcache_socket_timeout => override_params[:memcache_socket_timeout], :memcache_pool_maxsize => override_params[:memcache_pool_maxsize], :memcache_pool_unused_timeout => override_params[:memcache_pool_unused_timeout], :memcache_pool_connection_get_timeout => override_params[:memcache_pool_connection_get_timeout], :manage_backend_package => override_params[:manage_backend_package], )} it { should contain_oslo__middleware('keystone_config').with( :enable_proxy_headers_parsing => override_params[:enable_proxy_headers_parsing], )} it { should contain_keystone_config('catalog/template_file').with_value(override_params[:catalog_template_file]) } it { should contain_keystone_config('token/provider').with_value(override_params[:token_provider]) should contain_keystone_config('DEFAULT/max_token_size').with_value(override_params[:max_token_size]) should contain_keystone_config('DEFAULT/notification_format').with_value(override_params[:notification_format]) } it { should contain_oslo__messaging__default('keystone_config').with( :transport_url => override_params[:default_transport_url], :control_exchange => override_params[:control_exchange], :rpc_response_timeout => override_params[:rpc_response_timeout], )} it { should contain_oslo__messaging__notification('keystone_config').with( :transport_url => override_params[:notification_transport_url], :driver => override_params[:notification_driver], :topics => override_params[:notification_topics], )} it { should contain_oslo__messaging__rabbit('keystone_config').with( :kombu_ssl_version => override_params[:kombu_ssl_version], :kombu_ssl_keyfile => override_params[:kombu_ssl_keyfile], :kombu_ssl_certfile => override_params[:kombu_ssl_certfile], :kombu_ssl_ca_certs => override_params[:kombu_ssl_ca_certs], :kombu_reconnect_delay => override_params[:kombu_reconnect_delay], :kombu_failover_strategy => override_params[:kombu_failover_strategy], :kombu_compression => override_params[:kombu_compression], :rabbit_use_ssl => override_params[:rabbit_use_ssl], :rabbit_ha_queues => override_params[:rabbit_ha_queues], :heartbeat_timeout_threshold => override_params[:rabbit_heartbeat_timeout_threshold], :heartbeat_rate => override_params[:rabbit_heartbeart_rate], :amqp_durable_queues => override_params[:amqp_durable_queues], )} it { should contain_keystone_config('eventlet_server/admin_workers').with_value(override_params[:admin_workers]) should contain_keystone_config('eventlet_server/public_workers').with_value(override_params[:public_workers]) } it { should_not contain_class('keystone::db::sync') } it { should contain_keystone_config('token/revoke_by_id').with_value(override_params[:revoke_by_id]) should contain_keystone_config('fernet_tokens/max_active_keys').with_value(override_params[:fernet_max_active_keys]) should contain_keystone_config('credential/key_repository').with_value(override_params[:credential_key_repository]) } it { should_not contain_exec('keystone-manage bootstrap') } context 'with catalog_type set to sql' do before do params.merge!( :catalog_type => 'sql' ) it { should contain_keystone_config('catalog/type').with_value('sql') should contain_keystone_config('catalog/driver').with_value('sql') } context 'with catalog_type set to template' do before do params.merge!( :catalog_type => 'template' ) end it { should contain_keystone_config('catalog/type').with_value('template') should contain_keystone_config('catalog/driver').with_value('templated') } end context 'with invalid catalog_type and no catalog_driver' do before do params.merge!( :catalog_type => 'invalid' ) context 'with catalog_driver set' do before do params.merge!( :catalog_driver => 'some_driver' ) it { should contain_keystone_config('catalog/driver').with_value('some_driver') } context 'with enable_fernet_setup defaulting to true and default params' do it { should contain_file(default_params[:fernet_key_repository]).with( :ensure => 'directory', :owner => default_params[:keystone_user], :group => default_params[:keystone_group], :mode => '0600', :subscribe => 'Anchor[keystone::install::end]', it { should contain_exec('keystone-manage fernet_setup').with( :command => ""keystone-manage fernet_setup --keystone_user #{default_params[:keystone_user]} --keystone-group #{default_params[:keystone_group]}"", :path => '/usr/bin', :user => default_params[:keystone_user], :refreshonly => true, :creates => ""#{default_params[:fernet_key_repository]}/0"", :notify => 'Anchor[keystone::service::begin]', :subscribe => [ 'Anchor[keystone::install::end]', 'Anchor[keystone::config::end]', ], :require => ""File[#{default_params[:fernet_key_repository]}]"", :tag => 'keystone-exec', )} context 'with fernet_keys set' do before do params.merge!( :fernet_keys => { '/etc/keystone/fernet-keys/0' => { 'content' => 'test' } } ) end it { should contain_file('/etc/keystone/fernet-keys/0').with( :content => 'test', :owner => default_params[:keystone_user], :group => default_params[:keystone_group], :mode => '0600', :replace => default_params[:fernet_replace_keys], :subscribe => 'Anchor[keystone::install::end]', )} it { should_not contain_exec('keystone-manage fernet_setup') } context 'with fernet_replace_keys set' do before do params.merge!( :fernet_replace_keys => true ) end it { should contain_file('/etc/keystone/fernet-keys/0').with_replace(true) } end end end context 'with enable_fernet_setup to true and overriden params' do before do params.merge!( :enable_fernet_setup => true, :fernet_key_repository => '/var/lib/fernet', :keystone_user => 'test_user', :keystone_group => 'test_group' ) end it { should contain_file('/var/lib/fernet').with( :owner => 'test_user', :group => 'test_group', )} it { should contain_exec('keystone-manage fernet_setup').with( :command => ""keystone-manage fernet_setup --keystone_user test_user --keystone-group test_group"", :user => 'test_user', :creates => '/var/lib/fernet/0', :require => 'File[/var/lib/fernet]', :tag => 'keystone-exec', )} context 'with fernet_keys set' do before do params.merge!( :fernet_keys => { '/var/lib/fernet/0' => { 'content' => 'test '} } ) end it { should contain_file('/var/lib/fernet/0').with( :content => 'test', :owner => 'test_user', :group => 'test_group', :replace => default_params[:fernet_replace_keys], :subscribe => 'Anchor[keystone::install::end]', )} it { should_not contain_exec('keystone-manage fernet_setup') } context 'with fernet_replace_keys set' do before do params.merge!( :fernet_replace_keys => true ) end it { should contain_file('/var/lib/fernet/0').with_replace(true) } end end end context 'with enable_fernet_setup to false and default params' do before do params.merge!( :enable_fernet_setup => false ) end it { should_not contain_file(default_params[:fernet_key_repository]) } it { should_not contain_exec('keystone-manage fernet_setup') } end context 'with enable_fernet_setup to false and overriden params' do before do params.merge!( :enable_fernet_setup => false, :fernet_key_repository => '/var/lib/fernet' ) end it { should_not contain_file('/var/lib/fernet') } it { should_not contain_exec('keystone-manage fernet_setup') } end context 'with enable_credential_setup defaulting to false and default params' do it { should_not contain_file(default_params[:credential_key_repository]) } it { should_not contain_exec('keystone-manage credential_setup') } end context 'with enable_credential_setup set to true and default params' do before do params.merge!( :enable_credential_setup => true ) end it { should contain_file(default_params[:credential_key_repository]).with( :ensure => 'directory', :owner => default_params[:keystone_user], :group => default_params[:keystone_group], :mode => '0600', :subscribe => 'Anchor[keystone::install::end]', )} it { should contain_exec('keystone-manage credential_setup').with( :command => ""keystone-manage credential_setup --keystone-user #{default_params[:keystone_user]} --keystone-group #{default_params[:keystone_group]}"", :path => '/usr/bin', :user => default_params[:keystone_user], :refreshonly => true, :creates => ""#{default_params[:credential_key_repository]}/0"", :notify => 'Anchor[keystone::service::begin]', :subscribe => [ 'Anchor[keystone::install::end]', 'Anchor[keystone::config::end]', ], :require => ""File[#{default_params[:credential_key_repository]}]"", :tag => 'keystone-exec', context 'with enable_credential_setup set to true and overriden params' do before do params.merge!( :enable_credential_setup => true, :credential_key_repository => '/var/lib/keys', :keystone_user => 'myuser', :keystone_group => 'mygroup' ) it { should contain_file('/var/lib/keys').with( :owner => 'myuser', :group => 'mygroup', :anchor => 'Anchor[keystone::install::end]', )} it { should contain_exec('keystone-manage credential_setup').with( :command => 'keystone-manage credential_setup --keystone-user myuser --keystone-group mygroup', :path => '/usr/bin', :user => 'myuser', :refreshonly => true, :creates => '/var/lib/keys/0', :notify => 'Anchor[keystone::service::begin]', :subscribe => [ 'Anchor[keystone::install::end]', 'Anchor[keystone::config::end]', ], :require => 'File[/var/lib/keys]', :tag => 'keystone-exec', )} context 'with credential_keys' do before do params.merge!( :credential_keys => { '/var/lib/keys/0' => { 'content' => 'credtest' } } ) end it { should contain_file('/var/lib/keys/0').with( :owner => 'myuser', :group => 'mygroup', :mode => '0600', :content => 'credtest', :subscribe => 'Anchor[keystone::install::end]', )} context 'with fernet_key_repository set to default' do it { should contain_keystone_config('fernet_tokens/key_repository').with_value(default_params[:fernet_key_repository]) } end context 'with fernet_key_repository overridden' do before do params.merge!( :fernet_key_repository => '/var/lib/fernet' ) it { should contain_keystone_config('fernet_tokens/key_repository').with_value('/var/lib/fernet') } context 'with fernet_key_repository set to undef or false' do before do params.merge!( :fernet_key_repository => false ) it { should contain_keystone_config('fernet_tokens/key_repository').with_ensure('absent') } context 'defines restart_keystone resource by default' do it { should contain_exec('restart_keystone').with( :path => ['/usr/sbin', '/usr/bin', '/sbin', '/bin/'], :command => ""service #{platform_params[:service_name]} restart"", :refreshonly => true, )} end context 'does not define restart_keystone resource' do context 'with manage_service set to false' do before do params.merge!( :manage_service => false ) end it { should_not contain_exec('restart_keystone') } end context 'with enabled set to false' do before do params.merge!( :enabled => false ) end it { should_not contain_exec('restart_keystone') } end end context 'with default using_domain_config' do it { should_not contain_file(default_params[:domain_config_directory]) } end context 'with using_domain_config set to true' do before do params.merge!( :using_domain_config => true ) end it { should contain_file(default_params[:domain_config_directory]).with( :ensure => 'directory', :owner => default_params[:keystone_user], :group => default_params[:keystone_group], :mode => '0750', :notify => ""Service[#{platform_params[:service_name]}]"", :require => 'Anchor[keystone::install::end]', )} it { should contain_keystone_config('identity/domain_specific_drivers_enabled').with_value(true) should contain_keystone_config('identity/domain_config_dir').with_value(default_params[:domain_config_directory]) context 'with using_domain_config and invalid directory' do before do params.merge!( :using_domain_config => true, :domain_config_directory => 'this/is/not/an/absolute/path' ) context 'with using_domain_config and overriding params' do before do params.merge!( :using_domain_config => true, :domain_config_directory => '/this/is/an/absolute/path', :keystone_user => 'myuser', :keystone_group => 'mygroup' ) it { should contain_file('/this/is/an/absolute/path').with( :ensure => 'directory', :owner => 'myuser', :group => 'mygroup', :mode => '0750', :notify => ""Service[#{platform_params[:service_name]}"", :require => 'Anchor[keystone::install::end]', )} end shared_examples 'keystone on RedHat based' do context 'with overriden parameters' do before do params.merge(override_params) # These make no sense for RedHat based but they are still compiled # into the catalog so we should check them even though the policy_rcd # resource type only affects Debian based systems. it { should contain_policy_rcd('keystone').with( :ensure => 'present', :set_code => '101', )} it { should contain_policy_rcd('apache2').with( :ensure => 'present', :set_code => '101', )} end end shared_examples 'keystone on Debian' do context 'with overriden parameters' do before do params.merge(override_params) end it { should contain_policy_rcd('keystone').with( :ensure => 'present', :set_code => '101', )} it { should contain_policy_rcd('apache2').with( :ensure => 'present', :set_code => '101', )} end end shared_examples 'keystone on Ubuntu' do context 'with overriden parameters' do before do params.merge(override_params) end it { should_not contain_policy_rcd('keystone') } it { should contain_policy_rcd('apache2').with( :ensure => 'present', :set_code => '101', )} end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts( :concat_basedir => '/var/lib/puppet/concat', :fqdn => 'some.host.tld' )) end let (:platform_params) do if facts[:osfamily] == 'Debian' { :package_name => 'keystone', :service_name => 'keystone', } else { :package_name => 'openstack-keystone', :service_name => 'openstack-keystone', } end end it_behaves_like 'keystone' if facts[:osfamily] == 'Debian' it_behaves_like ""keystone on #{facts[:operatingsystem]}"" elsif facts[:osfamily] == 'RedHat' it_behaves_like 'keystone on RedHat based' end"," let :global_facts do { :concat_basedir => '/var/lib/puppet/concat', :fqdn => 'some.host.tld' let :facts do @default_facts.merge(global_facts.merge({ :osfamily => 'Debian', :operatingsystem => 'Debian', :operatingsystemrelease => '7.0', :os => { :name => 'Debian', :family => 'Debian', :release => { :major => '7', :minor => '0' } }, })) end default_params = { 'admin_token' => 'service_token', 'admin_password' => 'special_password', 'package_ensure' => 'present', 'client_package_ensure' => 'present', 'public_bind_host' => '0.0.0.0', 'admin_bind_host' => '0.0.0.0', 'public_port' => '5000', 'admin_port' => '35357', 'catalog_type' => 'sql', 'catalog_driver' => false, 'token_provider' => 'fernet', 'password_hash_algorithm' => '<SERVICE DEFAULT>', 'password_hash_rounds' => '<SERVICE DEFAULT>', 'revoke_driver' => 'sql', 'revoke_by_id' => true, 'cache_backend' => '<SERVICE DEFAULT>', 'cache_backend_argument' => '<SERVICE DEFAULT>', 'cache_enabled' => '<SERVICE DEFAULT>', 'cache_memcache_servers' => '<SERVICE DEFAULT>', 'enable_ssl' => false, 'ssl_certfile' => '/etc/keystone/ssl/certs/keystone.pem', 'ssl_keyfile' => '/etc/keystone/ssl/private/keystonekey.pem', 'ssl_ca_certs' => '/etc/keystone/ssl/certs/ca.pem', 'ssl_ca_key' => '/etc/keystone/ssl/private/cakey.pem', 'ssl_cert_subject' => '/C=US/ST=Unset/L=Unset/O=Unset/CN=localhost', 'enabled' => true, 'manage_service' => true, 'database_connection' => 'sqlite:////var/lib/keystone/keystone.db', 'database_idle_timeout' => '200', 'default_transport_url' => '<SERVICE DEFAULT>', 'notification_transport_url' => '<SERVICE DEFAULT>', 'rabbit_heartbeat_timeout_threshold' => '<SERVICE DEFAULT>', 'rabbit_heartbeat_rate' => '<SERVICE DEFAULT>', 'amqp_durable_queues' => '<SERVICE DEFAULT>', 'admin_workers' => 20, 'public_workers' => 20, 'member_role_id' => '<SERVICE DEFAULT>', 'member_role_name' => '<SERVICE DEFAULT>', 'sync_db' => true, 'purge_config' => false, 'keystone_user' => 'keystone', 'keystone_group' => 'keystone', } override_params = { 'package_ensure' => 'latest', 'client_package_ensure' => 'latest', 'public_bind_host' => '0.0.0.0', 'admin_bind_host' => '0.0.0.0', 'public_port' => '5001', 'admin_port' => '35358', 'admin_token' => 'service_token_override', 'admin_password' => 'admin_openstack_password', 'catalog_type' => 'template', 'token_provider' => 'uuid', 'password_hash_algorithm' => 'pbkdf2_sha512', 'password_hash_rounds' => '29000', 'revoke_driver' => 'kvs', 'revoke_by_id' => false, 'public_endpoint' => 'https://localhost:5000/v2.0/', 'admin_endpoint' => 'https://localhost:5000/v2.0/', 'enable_ssl' => true, 'ssl_certfile' => '/etc/keystone/ssl/certs/keystone.pem', 'ssl_keyfile' => '/etc/keystone/ssl/private/keystonekey.pem', 'ssl_ca_certs' => '/etc/keystone/ssl/certs/ca.pem', 'ssl_ca_key' => '/etc/keystone/ssl/private/cakey.pem', 'ssl_cert_subject' => '/C=US/ST=Unset/L=Unset/O=Unset/CN=localhost', 'enabled' => false, 'manage_service' => true, 'database_connection' => 'mysql://a:b@c/d', 'database_idle_timeout' => '300', 'default_transport_url' => 'rabbit://user:pass@host:1234/virt', 'notification_transport_url' => 'rabbit://user:pass@host:1234/virt', 'rabbit_heartbeat_timeout_threshold' => '60', 'rabbit_heartbeat_rate' => '10', 'rabbit_ha_queues' => true, 'amqp_durable_queues' => true, 'default_domain' => 'other_domain', 'member_role_id' => '123456789', 'member_role_name' => 'othermember', 'using_domain_config' => false, 'keystone_user' => 'test_user', 'keystone_group' => 'test_group', } httpd_params = {'service_name' => 'httpd'}.merge(default_params) shared_examples_for 'core keystone examples' do |param_hash| it { is_expected.to contain_class('keystone::logging') } it { is_expected.to contain_class('keystone::params') } it { is_expected.to contain_class('keystone::policy') } it { is_expected.to contain_package('keystone').with( 'ensure' => param_hash['package_ensure'], 'tag' => ['openstack', 'keystone-package'], ) } it { is_expected.to contain_class('keystone::client').with( 'ensure' => param_hash['client_package_ensure'], ) } it 'should synchronize the db if $sync_db is true' do if param_hash['sync_db'] is_expected.to contain_exec('keystone-manage db_sync').with( :command => 'keystone-manage db_sync', :user => 'keystone', :refreshonly => true, :subscribe => ['Anchor[keystone::install::end]', 'Anchor[keystone::config::end]', 'Anchor[keystone::dbsync::begin]'], :notify => 'Anchor[keystone::dbsync::end]', ) end end it 'should bootstrap $enable_bootstrap is true' do if param_hash['enable_bootstrap'] is_expected.to contain_exec('keystone-manage bootstrap').with( :command => 'keystone-manage bootstrap', :environment => 'OS_BOOTSTRAP_PASSWORD=service_password', :user => param_hash['keystone_user'], :refreshonly => true ) end end it 'passes purge to resource' do is_expected.to contain_resources('keystone_config').with({ :purge => false }) end it 'should contain correct config' do [ 'public_bind_host', 'admin_bind_host', 'public_port', 'admin_port', 'member_role_id', 'member_role_name', ].each do |config| is_expected.to contain_keystone_config(""DEFAULT/#{config}"").with_value(param_hash[config]) end end it 'should contain correct admin_token config' do is_expected.to contain_keystone_config('DEFAULT/admin_token').with_value(param_hash['admin_token']).with_secret(true) end it 'should contain correct mysql config' do is_expected.to contain_keystone_config('database/idle_timeout').with_value(param_hash['database_idle_timeout']) is_expected.to contain_keystone_config('database/connection').with_value(param_hash['database_connection']).with_secret(true) end it { is_expected.to contain_keystone_config('token/provider').with_value( param_hash['token_provider'] ) } it 'should contain correct revoke driver' do is_expected.to contain_keystone_config('revoke/driver').with_value(param_hash['revoke_driver']) end it 'should contain password_hash_algorithm' do is_expected.to contain_keystone_config('identity/password_hash_algorithm').with_value(param_hash['password_hash_algorithm']) end it 'should contain password_hash_rounds' do is_expected.to contain_keystone_config('identity/password_hash_rounds').with_value(param_hash['password_hash_rounds']) end it 'should contain default revoke_by_id value ' do is_expected.to contain_keystone_config('token/revoke_by_id').with_value(param_hash['revoke_by_id']) end it 'should ensure proper setting of admin_endpoint and public_endpoint' do if param_hash['admin_endpoint'] is_expected.to contain_keystone_config('DEFAULT/admin_endpoint').with_value(param_hash['admin_endpoint']) else is_expected.to contain_keystone_config('DEFAULT/admin_endpoint').with_value('<SERVICE DEFAULT>') end if param_hash['public_endpoint'] is_expected.to contain_keystone_config('DEFAULT/public_endpoint').with_value(param_hash['public_endpoint']) else is_expected.to contain_keystone_config('DEFAULT/public_endpoint').with_value('<SERVICE DEFAULT>') end end it 'should contain correct default transport url' do is_expected.to contain_keystone_config('DEFAULT/transport_url').with_value(params['default_transport_url']) end it 'should contain correct rabbit heartbeat configuration' do is_expected.to contain_keystone_config('oslo_messaging_rabbit/heartbeat_timeout_threshold').with_value(param_hash['rabbit_heartbeat_timeout_threshold']) is_expected.to contain_keystone_config('oslo_messaging_rabbit/heartbeat_rate').with_value(param_hash['rabbit_heartbeat_rate']) is_expected.to contain_keystone_config('oslo_messaging_rabbit/amqp_durable_queues').with_value(param_hash['amqp_durable_queues']) end it 'should remove max_token_size param by default' do is_expected.to contain_keystone_config('DEFAULT/max_token_size').with_value('<SERVICE DEFAULT>') end it 'should ensure proper setting of admin_workers and public_workers' do if param_hash['admin_workers'] is_expected.to contain_keystone_config('eventlet_server/admin_workers').with_value(param_hash['admin_workers']) else is_expected.to contain_keystone_config('eventlet_server/admin_workers').with_value('2') end if param_hash['public_workers'] is_expected.to contain_keystone_config('eventlet_server/public_workers').with_value(param_hash['public_workers']) else is_expected.to contain_keystone_config('eventlet_server/public_workers').with_value('2') end end it 'should ensure rabbit_ha_queues' do if param_hash['rabbit_ha_queues'] is_expected.to contain_keystone_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value(param_hash['rabbit_ha_queues']) else is_expected.to contain_keystone_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value('<SERVICE DEFAULT>') end end if param_hash['default_domain'] it { is_expected.to contain_keystone_domain(param_hash['default_domain']).with(:is_default => true) } it { is_expected.to contain_anchor('default_domain_created') } end [default_params, override_params].each do |param_hash| describe ""when #{param_hash == default_params ? ""using default"" : ""specifying""} class parameters for service"" do let :params do param_hash it_configures 'core keystone examples', param_hash it { is_expected.to contain_service('keystone').with( 'ensure' => (param_hash['manage_service'] && param_hash['enabled']) ? 'running' : 'stopped', 'enable' => param_hash['enabled'], 'hasstatus' => true, 'hasrestart' => true, 'tag' => 'keystone-service', ) } it { is_expected.to contain_anchor('keystone::service::end') } end end shared_examples_for ""when using default class parameters for httpd on Debian"" do let :params do httpd_params let :pre_condition do 'include ::keystone::wsgi::apache' end it_configures 'core keystone examples', httpd_params it do expect { is_expected.to contain_service(platform_parameters[:service_name]).with('ensure' => 'running') }.to raise_error(RSpec::Expectations::ExpectationNotMetError, /expected that the catalogue would contain Service\[#{platform_parameters[:service_name]}\]/) end it { is_expected.to contain_exec('restart_keystone').with( 'command' => ""service #{platform_parameters[:httpd_service_name]} restart"", ) } end shared_examples_for ""when using default class parameters for httpd on RedHat"" do let :params do httpd_params end let :pre_condition do 'include ::keystone::wsgi::apache' end it_configures 'core keystone examples', httpd_params it do expect { is_expected.to contain_service(platform_parameters[:service_name]).with('ensure' => 'running') }.to raise_error(RSpec::Expectations::ExpectationNotMetError, /expected that the catalogue would contain Service\[#{platform_parameters[:service_name]}\]/) end it { is_expected.to contain_service('httpd').with_before(/Anchor\[keystone::service::end\]/) } it { is_expected.to contain_exec('restart_keystone').with( 'command' => ""service #{platform_parameters[:httpd_service_name]} restart"", ) } end describe 'when using invalid service name for keystone' do let (:params) { {'service_name' => 'foo'}.merge(default_params) } it_raises 'a Puppet::Error', /Invalid service_name/ end describe 'with disabled service managing' do let :params do { :admin_token => 'service_token', :manage_service => false, :enabled => false } end it { is_expected.to contain_service('keystone').with( 'ensure' => nil, 'enable' => false, 'hasstatus' => true, 'hasrestart' => true ) } it { is_expected.to contain_anchor('keystone::service::end') } end describe 'when configuring signing token provider' do describe 'when configuring as UUID' do let :params do { 'admin_token' => 'service_token', 'token_provider' => 'keystone.token.providers.uuid.Provider' } describe 'with invalid catalog_type' do let :params do { :admin_token => 'service_token', :catalog_type => 'invalid' } describe 'when configuring catalog driver' do let :params do { :admin_token => 'service_token', :catalog_driver => 'alien' } it { is_expected.to contain_keystone_config('catalog/driver').with_value(params[:catalog_driver]) } end end describe 'when configuring token expiration' do let :params do { 'admin_token' => 'service_token', 'token_expiration' => '42', } it { is_expected.to contain_keystone_config(""token/expiration"").with_value('42') } end describe 'when not configuring token expiration' do let :params do { 'admin_token' => 'service_token', } end it { is_expected.to contain_keystone_config(""token/expiration"").with_value('3600') } end describe 'when sync_db is set to false' do let :params do { 'admin_token' => 'service_token', 'sync_db' => false, } end it { is_expected.not_to contain_exec('keystone-manage db_sync') } end describe 'when enable_bootstrap is set to false' do let :params do { 'admin_token' => 'service_token', 'enable_bootstrap' => false, } end it { is_expected.not_to contain_exec('keystone-manage bootstrap') } end describe 'configure memcache servers if set' do let :params do { 'admin_token' => 'service_token', 'cache_backend' => 'dogpile.cache.memcached', 'cache_backend_argument' => ['url:SERVER1:12211'], 'cache_memcache_servers' => 'SERVER1:11211,SERVER2:11211', 'memcache_dead_retry' => '60', 'memcache_socket_timeout' => '2', 'memcache_pool_maxsize' => '1000', 'memcache_pool_unused_timeout' => '60', } end it { is_expected.to contain_keystone_config('cache/enabled').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_keystone_config('token/caching').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_keystone_config('cache/backend').with_value('dogpile.cache.memcached') } it { is_expected.to contain_keystone_config('cache/backend_argument').with_value('url:SERVER1:12211') } it { is_expected.to contain_keystone_config('memcache/dead_retry').with_value('60') } it { is_expected.to contain_keystone_config('memcache/socket_timeout').with_value('2') } it { is_expected.to contain_keystone_config('memcache/pool_maxsize').with_value('1000') } it { is_expected.to contain_keystone_config('memcache/pool_unused_timeout').with_value('60') } it { is_expected.to contain_keystone_config('cache/memcache_dead_retry').with_value('60') } it { is_expected.to contain_keystone_config('cache/memcache_socket_timeout').with_value('2') } it { is_expected.to contain_keystone_config('cache/memcache_pool_maxsize').with_value('1000') } it { is_expected.to contain_keystone_config('cache/memcache_pool_unused_timeout').with_value('60') } it { is_expected.to contain_keystone_config('cache/memcache_servers').with_value('SERVER1:11211,SERVER2:11211') } end describe 'configure cache memcache servers if set' do let :params do { 'admin_token' => 'service_token', 'cache_backend' => 'dogpile.cache.memcached', 'cache_backend_argument' => ['url:SERVER3:12211'], 'cache_memcache_servers' => [ 'SERVER1:11211', 'SERVER2:11211' ], 'memcache_dead_retry' => '60', 'memcache_socket_timeout' => '2', 'memcache_pool_maxsize' => '1000', 'memcache_pool_unused_timeout' => '60', 'memcache_pool_connection_get_timeout' => '30', 'manage_backend_package' => false, } end it { is_expected.to contain_keystone_config('cache/enabled').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_keystone_config('token/caching').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_keystone_config('cache/backend').with_value('dogpile.cache.memcached') } it { is_expected.to contain_keystone_config('cache/backend_argument').with_value('url:SERVER3:12211') } it { is_expected.to contain_keystone_config('memcache/dead_retry').with_value('60') } it { is_expected.to contain_keystone_config('memcache/socket_timeout').with_value('2') } it { is_expected.to contain_keystone_config('memcache/pool_maxsize').with_value('1000') } it { is_expected.to contain_keystone_config('memcache/pool_unused_timeout').with_value('60') } it { is_expected.to contain_keystone_config('cache/memcache_dead_retry').with_value('60') } it { is_expected.to contain_keystone_config('cache/memcache_socket_timeout').with_value('2') } it { is_expected.to contain_keystone_config('cache/memcache_pool_maxsize').with_value('1000') } it { is_expected.to contain_keystone_config('cache/memcache_pool_unused_timeout').with_value('60') } it { is_expected.to contain_keystone_config('cache/memcache_pool_connection_get_timeout').with_value('30') } it { is_expected.to contain_keystone_config('cache/memcache_servers').with_value('SERVER1:11211,SERVER2:11211') } it { is_expected.to contain_oslo__cache('keystone_config').with_manage_backend_package(false) } end describe 'configure cache enabled if set' do let :params do { 'admin_token' => 'service_token', 'cache_backend' => 'dogpile.cache.memcached', 'cache_backend_argument' => ['url:SERVER3:12211'], 'cache_enabled' => true, 'cache_memcache_servers' => [ 'SERVER1:11211', 'SERVER2:11211' ], 'memcache_dead_retry' => '60', 'memcache_socket_timeout' => '2', 'memcache_pool_maxsize' => '1000', 'memcache_pool_unused_timeout' => '60', 'memcache_pool_connection_get_timeout' => '30', } end it { is_expected.to contain_keystone_config('cache/enabled').with_value(true) } it { is_expected.to contain_keystone_config('token/caching').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_keystone_config('cache/backend').with_value('dogpile.cache.memcached') } it { is_expected.to contain_keystone_config('cache/backend_argument').with_value('url:SERVER3:12211') } it { is_expected.to contain_keystone_config('memcache/dead_retry').with_value('60') } it { is_expected.to contain_keystone_config('memcache/socket_timeout').with_value('2') } it { is_expected.to contain_keystone_config('memcache/pool_maxsize').with_value('1000') } it { is_expected.to contain_keystone_config('memcache/pool_unused_timeout').with_value('60') } it { is_expected.to contain_keystone_config('cache/memcache_dead_retry').with_value('60') } it { is_expected.to contain_keystone_config('cache/memcache_socket_timeout').with_value('2') } it { is_expected.to contain_keystone_config('cache/memcache_pool_maxsize').with_value('1000') } it { is_expected.to contain_keystone_config('cache/memcache_pool_unused_timeout').with_value('60') } it { is_expected.to contain_keystone_config('cache/memcache_pool_connection_get_timeout').with_value('30') } it { is_expected.to contain_keystone_config('cache/memcache_servers').with_value('SERVER1:11211,SERVER2:11211') } end describe 'configure memcache servers with a string' do let :params do default_params.merge({ 'cache_memcache_servers' => 'SERVER1:11211,SERVER2:11211' }) end it { is_expected.to contain_keystone_config('cache/memcache_servers').with_value('SERVER1:11211,SERVER2:11211') } end describe 'do not configure memcache servers when not set' do let :params do default_params end it { is_expected.to contain_keystone_config(""cache/enabled"").with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_keystone_config(""token/caching"").with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_keystone_config(""cache/backend"").with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_keystone_config(""cache/backend_argument"").with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_keystone_config(""cache/debug_cache_backend"").with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_keystone_config('memcache/dead_retry').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_keystone_config('memcache/pool_maxsize').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_keystone_config('memcache/pool_unused_timeout').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_keystone_config('cache/memcache_dead_retry').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_keystone_config('cache/memcache_socket_timeout').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_keystone_config('cache/memcache_pool_maxsize').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_keystone_config('cache/memcache_pool_unused_timeout').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_keystone_config('cache/memcache_pool_connection_get_timeout').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_keystone_config('cache/memcache_servers').with_value('<SERVICE DEFAULT>') } end describe 'when enabling SSL' do let :params do { 'admin_token' => 'service_token', 'enable_ssl' => true, 'public_endpoint' => 'https://localhost:5000/v2.0/', 'admin_endpoint' => 'https://localhost:5000/v2.0/', } end it {is_expected.to contain_keystone_config('ssl/enable').with_value(true)} it {is_expected.to contain_keystone_config('ssl/certfile').with_value('/etc/keystone/ssl/certs/keystone.pem')} it {is_expected.to contain_keystone_config('ssl/keyfile').with_value('/etc/keystone/ssl/private/keystonekey.pem')} it {is_expected.to contain_keystone_config('ssl/ca_certs').with_value('/etc/keystone/ssl/certs/ca.pem')} it {is_expected.to contain_keystone_config('ssl/ca_key').with_value('/etc/keystone/ssl/private/cakey.pem')} it {is_expected.to contain_keystone_config('ssl/cert_subject').with_value('/C=US/ST=Unset/L=Unset/O=Unset/CN=localhost')} it {is_expected.to contain_keystone_config('DEFAULT/public_endpoint').with_value('https://localhost:5000/v2.0/')} it {is_expected.to contain_keystone_config('DEFAULT/admin_endpoint').with_value('https://localhost:5000/v2.0/')} end describe 'when disabling SSL' do let :params do { 'admin_token' => 'service_token', 'enable_ssl' => false, } end it {is_expected.to contain_keystone_config('ssl/enable').with_value(false)} it {is_expected.to contain_keystone_config('DEFAULT/public_endpoint').with_value('<SERVICE DEFAULT>')} it {is_expected.to contain_keystone_config('DEFAULT/admin_endpoint').with_value('<SERVICE DEFAULT>')} end describe 'not setting notification settings by default' do let :params do default_params end it { is_expected.to contain_keystone_config('oslo_messaging_notifications/transport_url').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_keystone_config('oslo_messaging_notifications/driver').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_keystone_config('oslo_messaging_notifications/topics').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_keystone_config('DEFAULT/notification_format').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_keystone_config('DEFAULT/control_exchange').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_keystone_config('DEFAULT/rpc_response_timeout').with_value('<SERVICE DEFAULT>') } end describe 'with RabbitMQ communication SSLed' do let :params do default_params.merge!({ :rabbit_use_ssl => true, :kombu_ssl_ca_certs => '/path/to/ssl/ca/certs', :kombu_ssl_certfile => '/path/to/ssl/cert/file', :kombu_ssl_keyfile => '/path/to/ssl/keyfile', :kombu_ssl_version => 'TLSv1' }) end it { is_expected.to contain_oslo__messaging__rabbit('keystone_config').with( :rabbit_use_ssl => true, :kombu_ssl_ca_certs => '/path/to/ssl/ca/certs', :kombu_ssl_certfile => '/path/to/ssl/cert/file', :kombu_ssl_keyfile => '/path/to/ssl/keyfile', :kombu_ssl_version => 'TLSv1' )} end describe 'with RabbitMQ communication not SSLed' do let :params do default_params.merge!({ :rabbit_use_ssl => '<SERVICE DEFAULT>', :kombu_ssl_ca_certs => '<SERVICE DEFAULT>', :kombu_ssl_certfile => '<SERVICE DEFAULT>', :kombu_ssl_keyfile => '<SERVICE DEFAULT>', :kombu_ssl_version => '<SERVICE DEFAULT>' }) end it { is_expected.to contain_oslo__messaging__rabbit('keystone_config').with( :rabbit_use_ssl => '<SERVICE DEFAULT>', :kombu_ssl_ca_certs => '<SERVICE DEFAULT>', :kombu_ssl_certfile => '<SERVICE DEFAULT>', :kombu_ssl_keyfile => '<SERVICE DEFAULT>', :kombu_ssl_version => '<SERVICE DEFAULT>' )} end describe 'when configuring max_token_size' do let :params do default_params.merge({:max_token_size => '16384' }) end it { is_expected.to contain_keystone_config('DEFAULT/max_token_size').with_value(params[:max_token_size]) } end describe 'setting notification settings' do let :params do default_params.merge({ :notification_driver => ['keystone.openstack.common.notifier.rpc_notifier'], :notification_topics => ['notifications'], :notification_format => 'cadf', :control_exchange => 'keystone', :rpc_response_timeout => '120' }) end it { is_expected.to contain_keystone_config('oslo_messaging_notifications/driver').with_value('keystone.openstack.common.notifier.rpc_notifier') } it { is_expected.to contain_keystone_config('oslo_messaging_notifications/topics').with_value('notifications') } it { is_expected.to contain_keystone_config('DEFAULT/notification_format').with_value('cadf') } it { is_expected.to contain_keystone_config('DEFAULT/control_exchange').with_value('keystone') } it { is_expected.to contain_keystone_config('DEFAULT/rpc_response_timeout').with_value('120') } end describe 'setting kombu settings' do let :params do default_params.merge({ :kombu_reconnect_delay => '1.0', :kombu_compression => 'gzip', }) end it { is_expected.to contain_keystone_config('oslo_messaging_rabbit/kombu_reconnect_delay').with_value('1.0') } it { is_expected.to contain_keystone_config('oslo_messaging_rabbit/kombu_compression').with_value('gzip') } it { is_expected.to contain_keystone_config('oslo_messaging_rabbit/kombu_failover_strategy').with_value('<SERVICE DEFAULT>') } end describe 'setting enable_proxy_headers_parsing' do let :params do default_params.merge({:enable_proxy_headers_parsing => true }) end it { is_expected.to contain_oslo__middleware('keystone_config').with( :enable_proxy_headers_parsing => true, )} end describe 'setting sql policy driver' do let :params do default_params.merge({:policy_driver => 'sql' }) end it { is_expected.to contain_keystone_config('policy/driver').with_value('sql') } end describe 'setting sql (default) catalog' do let :params do default_params end it { is_expected.to contain_keystone_config('catalog/driver').with_value('sql') } end describe 'setting default template catalog' do let :params do { :admin_token => 'service_token', :catalog_type => 'template' } end it { is_expected.to contain_keystone_config('catalog/driver').with_value('templated') } it { is_expected.to contain_keystone_config('catalog/template_file').with_value('/etc/keystone/default_catalog.templates') } end describe 'with overridden validation_auth_url' do let :params do { :admin_token => 'service_token', :validate_service => true, :validate_auth_url => 'http://some.host:5000/v2.0', :admin_endpoint => 'http://some.host:5000' } end it { is_expected.to contain_keystone_config('DEFAULT/admin_endpoint').with_value('http://some.host:5000') } it { is_expected.to contain_class('keystone::service').with( 'validate' => true, 'admin_endpoint' => 'http://some.host:5000/v2.0' )} end describe 'with service validation' do let :params do { :admin_token => 'service_token', :validate_service => true, :admin_endpoint => 'http://some.host:5000' } end it { is_expected.to contain_class('keystone::service').with( 'validate' => true, 'admin_endpoint' => 'http://some.host:5000' )} end describe 'setting another template catalog' do let :params do { :admin_token => 'service_token', :catalog_type => 'template', :catalog_template_file => '/some/template_file' } end it { is_expected.to contain_keystone_config('catalog/driver').with_value('templated') } it { is_expected.to contain_keystone_config('catalog/template_file').with_value('/some/template_file') } end describe 'when using credentials' do describe 'when enabling credential_setup' do let :params do default_params.merge({ 'enable_credential_setup' => true, 'credential_key_repository' => '/etc/keystone/credential-keys', }) end it { is_expected.to contain_file(params['credential_key_repository']).with( :ensure => 'directory', :owner => params['keystone_user'], :group => params['keystone_group'], 'mode' => '0600', ) } it { is_expected.to contain_exec('keystone-manage credential_setup').with( :command => ""keystone-manage credential_setup --keystone-user #{params['keystone_user']} --keystone-group #{params['keystone_group']}"", :user => params['keystone_user'], :creates => '/etc/keystone/credential-keys/0', :require => 'File[/etc/keystone/credential-keys]', ) } it { is_expected.to contain_keystone_config('credential/key_repository').with_value('/etc/keystone/credential-keys')} end describe 'when overriding the credential key directory' do let :params do default_params.merge({ 'enable_credential_setup' => true, 'credential_key_repository' => '/var/lib/credential-keys', }) end it { is_expected.to contain_exec('keystone-manage credential_setup').with( :creates => '/var/lib/credential-keys/0' ) } end describe 'when overriding the keystone group and user' do let :params do default_params.merge({ 'enable_credential_setup' => true, 'keystone_user' => 'test_user', 'keystone_group' => 'test_group', }) end it { is_expected.to contain_exec('keystone-manage credential_setup').with( :command => ""keystone-manage credential_setup --keystone-user #{params['keystone_user']} --keystone-group #{params['keystone_group']}"", :user => params['keystone_user'], :creates => '/etc/keystone/credential-keys/0', :require => 'File[/etc/keystone/credential-keys]', ) } end describe 'when setting credential_keys parameter' do let :params do default_params.merge({ 'enable_credential_setup' => true, 'credential_keys' => { '/etc/keystone/credential-keys/0' => { 'content' => 't-WdduhORSqoyAykuqWAQSYjg2rSRuJYySgI2xh48CI=', }, '/etc/keystone/credential-keys/1' => { 'content' => 'GLlnyygEVJP4-H2OMwClXn3sdSQUZsM5F194139Unv8=', }, } }) end it { is_expected.to_not contain_exec('keystone-manage credential_setup') } it { is_expected.to contain_file('/etc/keystone/credential-keys/0').with( 'content' => 't-WdduhORSqoyAykuqWAQSYjg2rSRuJYySgI2xh48CI=', 'owner' => 'keystone', 'owner' => 'keystone', 'subscribe' => 'Anchor[keystone::install::end]', it { is_expected.to contain_file('/etc/keystone/credential-keys/1').with( 'content' => 'GLlnyygEVJP4-H2OMwClXn3sdSQUZsM5F194139Unv8=', 'owner' => 'keystone', 'owner' => 'keystone', 'subscribe' => 'Anchor[keystone::install::end]', describe 'when disabling credential_setup' do let :params do default_params.merge({ 'enable_credential_setup' => false, 'credential_key_repository' => '/etc/keystone/credential-keys', }) end it { is_expected.to_not contain_file(params['credential_key_repository']) } it { is_expected.to_not contain_exec('keystone-manage credential_setup') } end end describe 'when using fernet tokens' do describe 'when enabling fernet_setup' do let :params do default_params.merge({ 'enable_fernet_setup' => true, 'fernet_max_active_keys' => 5, 'revoke_by_id' => false, 'fernet_key_repository' => '/etc/keystone/fernet-keys', }) it { is_expected.to contain_file(params['fernet_key_repository']).with( :owner => params['keystone_user'], :group => params['keystone_group'], ) } it { is_expected.to contain_exec('keystone-manage fernet_setup').with( :command => ""keystone-manage fernet_setup --keystone-user #{params['keystone_user']} --keystone-group #{params['keystone_group']}"", :user => params['keystone_user'], :creates => '/etc/keystone/fernet-keys/0', :require => 'File[/etc/keystone/fernet-keys]', ) } it { is_expected.to contain_keystone_config('fernet_tokens/max_active_keys').with_value(5)} it { is_expected.to contain_keystone_config('token/revoke_by_id').with_value(false)} end describe 'when overriding the fernet key directory' do let :params do default_params.merge({ 'enable_fernet_setup' => true, 'fernet_key_repository' => '/var/lib/fernet-keys', }) it { is_expected.to contain_exec('keystone-manage fernet_setup').with( :creates => '/var/lib/fernet-keys/0' ) } describe 'when overriding the keystone group and user' do let :params do default_params.merge({ 'enable_fernet_setup' => true, 'fernet_key_repository' => '/etc/keystone/fernet-keys', 'keystone_user' => 'test_user', 'keystone_group' => 'test_group', }) it { is_expected.to contain_exec('keystone-manage fernet_setup').with( :command => ""keystone-manage fernet_setup --keystone-user #{params['keystone_user']} --keystone-group #{params['keystone_group']}"", :user => params['keystone_user'], :creates => '/etc/keystone/fernet-keys/0', :require => 'File[/etc/keystone/fernet-keys]', ) } end end describe 'when setting fernet_keys parameter' do let :params do default_params.merge({ 'enable_fernet_setup' => true, 'fernet_keys' => { '/etc/keystone/fernet-keys/0' => { 'content' => 't-WdduhORSqoyAykuqWAQSYjg2rSRuJYySgI2xh48CI=', }, '/etc/keystone/fernet-keys/1' => { 'content' => 'GLlnyygEVJP4-H2OMwClXn3sdSQUZsM5F194139Unv8=', }, } }) it { is_expected.to_not contain_exec('keystone-manage fernet_setup') } it { is_expected.to contain_file('/etc/keystone/fernet-keys/0').with( 'content' => 't-WdduhORSqoyAykuqWAQSYjg2rSRuJYySgI2xh48CI=', 'owner' => 'keystone', 'mode' => '0600', 'replace' => true, 'subscribe' => 'Anchor[keystone::install::end]', )} it { is_expected.to contain_file('/etc/keystone/fernet-keys/1').with( 'content' => 'GLlnyygEVJP4-H2OMwClXn3sdSQUZsM5F194139Unv8=', 'owner' => 'keystone', 'mode' => '0600', 'replace' => true, 'subscribe' => 'Anchor[keystone::install::end]', )} end describe 'when not replacing fernet_keys and setting fernet_keys parameter' do let :params do default_params.merge({ 'enable_fernet_setup' => true, 'fernet_keys' => { '/etc/keystone/fernet-keys/0' => { 'content' => 't-WdduhORSqoyAykuqWAQSYjg2rSRuJYySgI2xh48CI=', }, '/etc/keystone/fernet-keys/1' => { 'content' => 'GLlnyygEVJP4-H2OMwClXn3sdSQUZsM5F194139Unv8=', }, }, 'fernet_replace_keys' => false, }) end it { is_expected.to_not contain_exec('keystone-manage fernet_setup') } it { is_expected.to contain_file('/etc/keystone/fernet-keys/0').with( 'content' => 't-WdduhORSqoyAykuqWAQSYjg2rSRuJYySgI2xh48CI=', 'owner' => 'keystone', 'mode' => '0600', 'replace' => false, 'subscribe' => 'Anchor[keystone::install::end]', )} it { is_expected.to contain_file('/etc/keystone/fernet-keys/1').with( 'content' => 'GLlnyygEVJP4-H2OMwClXn3sdSQUZsM5F194139Unv8=', 'owner' => 'keystone', 'mode' => '0600', 'replace' => false, 'subscribe' => 'Anchor[keystone::install::end]', )} end shared_examples_for ""when configuring default domain"" do describe 'with default domain and eventlet service is managed and enabled' do let :params do default_params.merge({ 'default_domain'=> 'test', }) it { is_expected.to contain_exec('restart_keystone').with( 'command' => ""service #{platform_parameters[:service_name]} restart"", ) } it { is_expected.to contain_anchor('default_domain_created') } end describe 'with default domain and wsgi service is managed and enabled' do let :pre_condition do 'include ::apache' end let :params do default_params.merge({ 'default_domain'=> 'test', 'service_name' => 'httpd', }) end it { is_expected.to contain_anchor('default_domain_created') } end describe 'with default domain and service is not managed' do let :params do default_params.merge({ 'default_domain' => 'test', 'manage_service' => false, }) end it { is_expected.to_not contain_exec('restart_keystone') } it { is_expected.to contain_anchor('default_domain_created') } end end context 'on RedHat platforms' do let :facts do @default_facts.merge(global_facts.merge({ :osfamily => 'RedHat', :operatingsystem => 'RedHat', :operatingsystemrelease => '7.0', :os => { :name => 'RedHat', :family => 'RedHat', :release => { :major => '7', :minor => '0' } }, })) let :platform_parameters do { :service_name => 'openstack-keystone', :httpd_service_name => 'httpd', it_configures 'when using default class parameters for httpd on RedHat' it_configures 'when configuring default domain' end context 'on Debian platforms' do let :facts do @default_facts.merge(global_facts.merge({ :osfamily => 'Debian', :operatingsystem => 'Debian', :operatingsystemrelease => '7.0', :os => { :name => 'Debian', :family => 'Debian', :release => { :major => '7', :minor => '0' } }, })) end let :platform_parameters do { :service_name => 'keystone', :httpd_service_name => 'apache2', } end it_configures 'when using default class parameters for httpd on Debian' it_configures 'when configuring default domain' end describe ""when configuring using_domain_config"" do describe 'with default config' do let :params do default_params end it { is_expected.to_not contain_file('/etc/keystone/domains') } end describe 'when using domain config' do let :params do default_params.merge({ 'using_domain_config'=> true, }) end it { is_expected.to contain_file('/etc/keystone/domains').with( 'ensure' => ""directory"", ) } it { is_expected .to contain_keystone_config('identity/domain_specific_drivers_enabled') .with('value' => true, ) } it { is_expected .to contain_keystone_config('identity/domain_config_dir') .with('value' => '/etc/keystone/domains', ) } end describe 'when using domain config and a wrong directory' do let :params do default_params.merge({ 'using_domain_config'=> true, 'domain_config_directory' => 'this/is/not/an/absolute/path' }) describe 'when setting domain directory and not using domain config' do let :params do default_params.merge({ 'using_domain_config'=> false, 'domain_config_directory' => '/this/is/an/absolute/path' }) it 'should raise an error' do expect { should contain_file('/etc/keystone/domains') } .to raise_error(Puppet::Error, %r(You must activate domain)) end describe 'when setting domain directory and using domain config' do let :params do default_params.merge({ 'using_domain_config'=> true, 'domain_config_directory' => '/this/is/an/absolute/path' }) it { is_expected.to contain_file('/this/is/an/absolute/path').with( 'ensure' => ""directory"", ) }",997,1270
openstack%2Ftripleo-heat-templates~master~Iab06efa5616975b99aa5772a65b415629f8d7882,openstack/tripleo-heat-templates,master,Iab06efa5616975b99aa5772a65b415629f8d7882,Convert Docker*Image parameters,MERGED,2019-04-10 14:21:28.000000000,2019-06-18 08:01:14.000000000,2019-06-18 08:01:13.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-04-10 14:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/53b0b559dd40b9b71001e3c0e04060c00cea876b', 'message': 'Convert Docker*Image parameters\n\nThis converts all Docker*Image parameter varients into\nContainer*Image varients.\n\nChange-Id: Iab06efa5616975b99aa5772a65b415629f8d7882\nDepends-On: I7d62a3424ccb7b01dc101329018ebda896ea8ff3\n'}, {'number': 2, 'created': '2019-04-10 14:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/816fdcbbfae0d50260787c5b22974a7ba0427da3', 'message': 'Convert Docker*Image parameters\n\nThis converts all Docker*Image parameter varients into\nContainer*Image varients.\n\nThe commit was autogenerated with the following shell commands:\n\nfor file in $(grep -lr Docker.*Image --include \\*.yaml --exclude-dir releasenotes); do\n  sed -e ""s|Docker\\([^ ]*Image\\)|Container\\1|g"" -i $file\ndone\n\nChange-Id: Iab06efa5616975b99aa5772a65b415629f8d7882\nDepends-On: I7d62a3424ccb7b01dc101329018ebda896ea8ff3\n'}, {'number': 3, 'created': '2019-04-10 14:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3aeebc000756566434df7f17b7ca86658f39e781', 'message': 'Convert Docker*Image parameters\n\nThis converts all Docker*Image parameter varients into\nContainer*Image varients.\n\nThe commit was autogenerated with the following shell commands:\n\nfor file in $(grep -lr Docker.*Image --include \\*.yaml --exclude-dir releasenotes); do\n  sed -e ""s|Docker\\([^ ]*Image\\)|Container\\1|g"" -i $file\ndone\n\nChange-Id: Iab06efa5616975b99aa5772a65b415629f8d7882\nDepends-On: I7d62a3424ccb7b01dc101329018ebda896ea8ff3\nDepends-On: Ib1dc0c08ce7971a03639acc42b1e738d93a52f98\n'}, {'number': 4, 'created': '2019-04-10 20:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ffead44f655d8ca341cc00aab08521153eb0a5f2', 'message': 'Convert Docker*Image parameters\n\nThis converts all Docker*Image parameter varients into\nContainer*Image varients.\n\nThe commit was autogenerated with the following shell commands:\n\nfor file in $(grep -lr Docker.*Image --include \\*.yaml --exclude-dir releasenotes); do\n  sed -e ""s|Docker\\([^ ]*Image\\)|Container\\1|g"" -i $file\ndone\n\nChange-Id: Iab06efa5616975b99aa5772a65b415629f8d7882\nDepends-On: I7d62a3424ccb7b01dc101329018ebda896ea8ff3\nDepends-On: Ib1dc0c08ce7971a03639acc42b1e738d93a52f98\n'}, {'number': 5, 'created': '2019-04-10 23:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/70b77eac08ca1c58e60e01cf4100b63f078866c7', 'message': 'Convert Docker*Image parameters\n\nThis converts all Docker*Image parameter varients into\nContainer*Image varients.\n\nThe commit was autogenerated with the following shell commands:\n\nfor file in $(grep -lr Docker.*Image --include \\*.yaml --exclude-dir releasenotes); do\n  sed -e ""s|Docker\\([^ ]*Image\\)|Container\\1|g"" -i $file\ndone\n\nChange-Id: Iab06efa5616975b99aa5772a65b415629f8d7882\nDepends-On: I7d62a3424ccb7b01dc101329018ebda896ea8ff3\nDepends-On: Ib1dc0c08ce7971a03639acc42b1e738d93a52f98\n'}, {'number': 6, 'created': '2019-04-11 12:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0110492a0d0dabb900d9d5412af08e9fc46a5e68', 'message': 'Convert Docker*Image parameters\n\nThis converts all Docker*Image parameter varients into\nContainer*Image varients.\n\nThe commit was autogenerated with the following shell commands:\n\nfor file in $(grep -lr Docker.*Image --include \\*.yaml --exclude-dir releasenotes); do\n  sed -e ""s|Docker\\([^ ]*Image\\)|Container\\1|g"" -i $file\ndone\n\nChange-Id: Iab06efa5616975b99aa5772a65b415629f8d7882\nDepends-On: I7d62a3424ccb7b01dc101329018ebda896ea8ff3\nDepends-On: Ib1dc0c08ce7971a03639acc42b1e738d93a52f98\n'}, {'number': 7, 'created': '2019-04-12 19:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/88f4bbe564c3204c35ed18f6642e047ae3c9aab7', 'message': 'Convert Docker*Image parameters\n\nThis converts all Docker*Image parameter varients into\nContainer*Image varients.\n\nThe commit was autogenerated with the following shell commands:\n\nfor file in $(grep -lr Docker.*Image --include \\*.yaml --include \\*.py --exclude-dir releasenotes); do\n  sed -e ""s|Docker\\([^ ]*Image\\)|Container\\1|g"" -i $file\ndone\n\nChange-Id: Iab06efa5616975b99aa5772a65b415629f8d7882\nDepends-On: I7d62a3424ccb7b01dc101329018ebda896ea8ff3\nDepends-On: Ib1dc0c08ce7971a03639acc42b1e738d93a52f98\n'}, {'number': 8, 'created': '2019-04-15 13:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad56a09fdaba72c627b9e748111f04f3ecb44907', 'message': 'Convert Docker*Image parameters\n\nThis converts all Docker*Image parameter varients into\nContainer*Image varients.\n\nThe commit was autogenerated with the following shell commands:\n\nfor file in $(grep -lr Docker.*Image --include \\*.yaml --exclude-dir releasenotes); do\n  sed -e ""s|Docker\\([^ ]*Image\\)|Container\\1|g"" -i $file\ndone\n\nChange-Id: Iab06efa5616975b99aa5772a65b415629f8d7882\nDepends-On: I7d62a3424ccb7b01dc101329018ebda896ea8ff3\nDepends-On: Ib1dc0c08ce7971a03639acc42b1e738d93a52f98\n'}, {'number': 9, 'created': '2019-05-13 14:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/040d373c78dd7158ce1cdc5f3bacbe32a600da0e', 'message': 'Convert Docker*Image parameters\n\nThis converts all Docker*Image parameter varients into\nContainer*Image varients.\n\nThe commit was autogenerated with the following shell commands:\n\nfor file in $(grep -lr Docker.*Image --include \\*.yaml --exclude-dir releasenotes); do\n  sed -e ""s|Docker\\([^ ]*Image\\)|Container\\1|g"" -i $file\ndone\n\nChange-Id: Iab06efa5616975b99aa5772a65b415629f8d7882\nDepends-On: I7d62a3424ccb7b01dc101329018ebda896ea8ff3\nDepends-On: Ib1dc0c08ce7971a03639acc42b1e738d93a52f98\n'}, {'number': 10, 'created': '2019-05-31 17:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e6eee4033babce5c541a50e4dd6a8d2d9b042306', 'message': 'Convert Docker*Image parameters\n\nThis converts all Docker*Image parameter varients into\nContainer*Image varients.\n\nThe commit was autogenerated with the following shell commands:\n\nfor file in $(grep -lr Docker.*Image --include \\*.yaml --exclude-dir releasenotes); do\n  sed -e ""s|Docker\\([^ ]*Image\\)|Container\\1|g"" -i $file\ndone\n\nChange-Id: Iab06efa5616975b99aa5772a65b415629f8d7882\nDepends-On: I7d62a3424ccb7b01dc101329018ebda896ea8ff3\nDepends-On: Ib1dc0c08ce7971a03639acc42b1e738d93a52f98\n'}, {'number': 11, 'created': '2019-05-31 17:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/74a764eccee9ef4f3d352befa5a7f660543188dd', 'message': 'Convert Docker*Image parameters\n\nThis converts all Docker*Image parameter varients into\nContainer*Image varients.\n\nThe commit was autogenerated with the following shell commands:\n\nfor file in $(grep -lr Docker.*Image --include \\*.yaml --exclude-dir releasenotes); do\n  sed -e ""s|Docker\\([^ ]*Image\\)|Container\\1|g"" -i $file\ndone\n\nChange-Id: Iab06efa5616975b99aa5772a65b415629f8d7882\nDepends-On: I7d62a3424ccb7b01dc101329018ebda896ea8ff3\nDepends-On: Ib1dc0c08ce7971a03639acc42b1e738d93a52f98\n'}, {'number': 12, 'created': '2019-06-05 18:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b4780ac3a6142ef0af364da3f6bf877e8be00b0d', 'message': 'Convert Docker*Image parameters\n\nThis converts all Docker*Image parameter varients into\nContainer*Image varients.\n\nThe commit was autogenerated with the following shell commands:\n\nfor file in $(grep -lr Docker.*Image --include \\*.yaml --exclude-dir releasenotes); do\n  sed -e ""s|Docker\\([^ ]*Image\\)|Container\\1|g"" -i $file\ndone\n\nChange-Id: Iab06efa5616975b99aa5772a65b415629f8d7882\nDepends-On: I7d62a3424ccb7b01dc101329018ebda896ea8ff3\nDepends-On: Ib1dc0c08ce7971a03639acc42b1e738d93a52f98\n'}, {'number': 13, 'created': '2019-06-05 20:33:48.000000000', 'files': ['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/neutron/neutron-sfc-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/logging/files/placement-api.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/deprecated/opendaylight/opendaylight-api-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-mlnx-sdn-assist-container-puppet.yaml', 'deployment/tacker/tacker-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/logging/files/nova-metadata.yaml', 'deployment/neutron/neutron-plugin-ml2-cisco-vts-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/sahara/sahara-engine-container-puppet.yaml', 'deployment/logging/files/nova-api.yaml', 'deployment/logging/files/keystone.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-logging-file-container.yaml', 'environments/services/neutron-ml2-cisco-vts.yaml', 'deployment/multipathd/multipathd-container.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'extraconfig/services/openshift-cns.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/experimental/designate/designate-mdns-container-puppet.yaml', 'deployment/neutron/neutron-l2gw-api-container-puppet.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'tools/yaml-validate.py', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/logging/stdout/panko-api.yaml', 'deployment/experimental/designate/designate-sink-container-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'deployment/mistral/mistral-event-engine-container-puppet.yaml', 'deployment/deprecated/logging/fluentd-container-puppet.yaml', 'deployment/logging/stdout/haproxy.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml', 'deployment/deprecated/monitoring/sensu-client-container-puppet.yaml', 'deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/logging/files/nova-common.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/mistral/mistral-engine-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/mistral/mistral-executor-container-puppet.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/logging/files/neutron-api.yaml', 'deployment/cavium/liquidio-compute-config-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/logging/stdout/placement-api.yaml', 'deployment/database/mysql-container-puppet.yaml', 'environments/services-baremetal/neutron-ml2-cisco-vts.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/logging/stdout/heat-api.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/logging/stdout/nova-api.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/neutron/neutron-plugin-nsx-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/keepalived/keepalived-container-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'extraconfig/services/skydive-analyzer.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/deprecated/nova/nova-consoleauth-container-puppet.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/logging/stdout/nova-common.yaml', 'deployment/neutron/neutron-bgpvpn-api-container-puppet.yaml', 'deployment/logging/stdout/keystone.yaml', 'deployment/logging/stdout/nova-metadata.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/logging/files/panko-api.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'extraconfig/services/openshift-master.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-ansible-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/undercloud/tempest-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/logging/stdout/barbican-api.yaml', 'deployment/deprecated/panko/panko-api-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/pacemaker/clustercheck-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/ec2/ec2-api-container-puppet.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/swift/swift-ringbuilder-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/logging/files/heat-engine.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/experimental/designate/designate-producer-container-puppet.yaml', 'deployment/logging/rsyslog-sidecar-container-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/logrotate/logrotate-crond-container-puppet.yaml', 'deployment/logging/stdout/heat-api-cfn.yaml', 'deployment/logging/files/barbican-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a68151d02a46b4ae949fb667cf3bfae1bdc4bb27', 'message': 'Convert Docker*Image parameters\n\nThis converts all Docker*Image parameter varients into\nContainer*Image varients.\n\nThe commit was autogenerated with the following shell commands:\n\nfor file in $(grep -lr Docker.*Image --include \\*.yaml --exclude-dir releasenotes); do\n  sed -e ""s|Docker\\([^ ]*Image\\)|Container\\1|g"" -i $file\ndone\n\nChange-Id: Iab06efa5616975b99aa5772a65b415629f8d7882\nDepends-On: I7d62a3424ccb7b01dc101329018ebda896ea8ff3\nDepends-On: Ib1dc0c08ce7971a03639acc42b1e738d93a52f98\n'}]",1,651550,a68151d02a46b4ae949fb667cf3bfae1bdc4bb27,60,9,13,360,,,0,"Convert Docker*Image parameters

This converts all Docker*Image parameter varients into
Container*Image varients.

The commit was autogenerated with the following shell commands:

for file in $(grep -lr Docker.*Image --include \*.yaml --exclude-dir releasenotes); do
  sed -e ""s|Docker\([^ ]*Image\)|Container\1|g"" -i $file
done

Change-Id: Iab06efa5616975b99aa5772a65b415629f8d7882
Depends-On: I7d62a3424ccb7b01dc101329018ebda896ea8ff3
Depends-On: Ib1dc0c08ce7971a03639acc42b1e738d93a52f98
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/651550/13 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/neutron/neutron-sfc-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'docker/services/logging/stdout/heat-api.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'docker/services/logging/files/panko-api.yaml', 'deployment/deprecated/opendaylight/opendaylight-api-container-puppet.yaml', 'deployment/tacker/tacker-container-puppet.yaml', 'docker/services/ovn-dbs.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'docker/services/ovn-controller.yaml', 'deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-cisco-vts-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'docker/services/logging/files/nova-placement.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/sahara/sahara-engine-container-puppet.yaml', 'docker/services/logging/stdout/nova-api.yaml', 'docker/services/logging/stdout/nova-placement.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-logging-file-container.yaml', 'environments/services/neutron-ml2-cisco-vts.yaml', 'deployment/multipathd/multipathd-container.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'extraconfig/services/openshift-cns.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/experimental/designate/designate-mdns-container-puppet.yaml', 'deployment/neutron/neutron-l2gw-api-container-puppet.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'docker/services/logging/files/neutron-api.yaml', 'docker/services/logging/stdout/heat-api-cfn.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'docker/services/logging/files/heat-engine.yaml', 'docker/services/logging/stdout/nova-common.yaml', 'docker/services/logging/files/nova-metadata.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'docker/services/logging/files/barbican-api.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/experimental/designate/designate-sink-container-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'deployment/mistral/mistral-event-engine-container-puppet.yaml', 'deployment/deprecated/logging/fluentd-container-puppet.yaml', 'docker/services/logging/files/nova-api.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml', 'deployment/deprecated/monitoring/sensu-client-container-puppet.yaml', 'deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/deprecated/nova/nova-placement-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/neutron/neutron-lbaas-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/mistral/mistral-engine-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'docker/services/logging/stdout/panko-api.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'docker/services/pacemaker/ovn-dbs.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'docker/services/logging/stdout/keystone.yaml', 'docker/services/logging/stdout/nova-metadata.yaml', 'deployment/mistral/mistral-executor-container-puppet.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'docker/services/ovn-metadata.yaml', 'deployment/cavium/liquidio-compute-config-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'environments/services-baremetal/neutron-ml2-cisco-vts.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/neutron/neutron-plugin-nsx-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/keepalived/keepalived-container-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'docker/services/logging/files/keystone.yaml', 'extraconfig/services/skydive-analyzer.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/deprecated/nova/nova-consoleauth-container-puppet.yaml', 'docker/services/logging/stdout/haproxy.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/neutron/neutron-bgpvpn-api-container-puppet.yaml', 'docker/services/rsyslog-sidecar.yaml', 'docker/services/logging/stdout/barbican-api.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'extraconfig/services/openshift-master.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-ansible-container-puppet.yaml', 'docker/services/logging/files/nova-common.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/undercloud/tempest-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/deprecated/panko/panko-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/pacemaker/clustercheck-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/ec2/ec2-api-container-puppet.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/swift/swift-ringbuilder-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/experimental/designate/designate-producer-container-puppet.yaml', 'docker/services/neutron-plugin-ml2-mlnx-sdn-assist.yaml', 'deployment/logrotate/logrotate-crond-container-puppet.yaml']",143,53b0b559dd40b9b71001e3c0e04060c00cea876b,convert_docker_params, ContainerCrondImage: ContainerCrondConfigImage: config_image: {get_param: ContainerCrondConfigImage} image: {get_param: ContainerCrondImage}, DockerCrondImage: DockerCrondConfigImage: config_image: {get_param: DockerCrondConfigImage} image: {get_param: DockerCrondImage},648,648
openstack%2Ftripleo-validations~master~I889d007fdd757788678fe3d10241024d417632d5,openstack/tripleo-validations,master,I889d007fdd757788678fe3d10241024d417632d5,Improve stackrc file sourcing,MERGED,2019-06-11 12:27:40.000000000,2019-06-18 08:00:15.000000000,2019-06-18 07:50:51.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 26297}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-11 12:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/73d77178bde8c9bcb89ceb8320eac67c1368f926', 'message': ""Improve stackrc file sourcing\n\nWe can deploy a TripleO environment from a different user than the\n'stack' user. This patch will source the stackrc file coming from the\nuser home running this script or fail if it doesn't exist.\n\nChange-Id: I889d007fdd757788678fe3d10241024d417632d5\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 2, 'created': '2019-06-17 10:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/842db903fc7d05d0feddb3321413c7993fdde817', 'message': ""Improve stackrc file sourcing\n\nWe can deploy a TripleO environment from a different user than the\n'stack' user. This patch will source the stackrc file coming from the\nuser home running this script or fail if it doesn't exist.\n\nChange-Id: I889d007fdd757788678fe3d10241024d417632d5\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 3, 'created': '2019-06-17 12:47:50.000000000', 'files': ['scripts/run-validations.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/831b7ae9ea7e8edf6e1954dba57c407e8224d6f2', 'message': 'Improve stackrc file sourcing\n\nWe can deploy a TripleO environment from a different user than the\n\'stack\' user. This patch will source the stackrc file coming from the\nuser home running this script or fail if it doesn\'t exist.\n\nThis patch also enforces the find command to get not more than one\nvalidation found. For example, when running the neutron-sanity-check\nplaybook, the find command was getting two validations and this script\nwas running them both.\n\n$ BASEDIR=""/usr/share/openstack-tripleo-validations""\n$ VALIDATION=""neutron-sanity-check""\n\n$ find $BASEDIR/playbooks -type f -regex ""^.*${VALIDATION}.y[a]?ml""\n/usr/share/openstack-tripleo-validations/playbooks/neutron-sanity-check.yaml\n/usr/share/openstack-tripleo-validations/playbooks/undercloud-neutron-sanity-check.yaml\n\n$ find $BASEDIR/playbooks -type f -regex "".*playbooks\\/${VALIDATION}.y[a]?ml""\n/usr/share/openstack-tripleo-validations/playbooks/neutron-sanity-check.yaml\n\nChange-Id: I889d007fdd757788678fe3d10241024d417632d5\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",2,664566,831b7ae9ea7e8edf6e1954dba57c407e8224d6f2,18,7,3,11491,,,0,"Improve stackrc file sourcing

We can deploy a TripleO environment from a different user than the
'stack' user. This patch will source the stackrc file coming from the
user home running this script or fail if it doesn't exist.

This patch also enforces the find command to get not more than one
validation found. For example, when running the neutron-sanity-check
playbook, the find command was getting two validations and this script
was running them both.

$ BASEDIR=""/usr/share/openstack-tripleo-validations""
$ VALIDATION=""neutron-sanity-check""

$ find $BASEDIR/playbooks -type f -regex ""^.*${VALIDATION}.y[a]?ml""
/usr/share/openstack-tripleo-validations/playbooks/neutron-sanity-check.yaml
/usr/share/openstack-tripleo-validations/playbooks/undercloud-neutron-sanity-check.yaml

$ find $BASEDIR/playbooks -type f -regex "".*playbooks\/${VALIDATION}.y[a]?ml""
/usr/share/openstack-tripleo-validations/playbooks/neutron-sanity-check.yaml

Change-Id: I889d007fdd757788678fe3d10241024d417632d5
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/66/664566/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/run-validations.sh'],1,73d77178bde8c9bcb89ceb8320eac67c1368f926,run-validations.sh-stackrc,"if [[ -e ${HOME}/stackrc ]]; then source ${HOME}/stackrc else echo ""Missing required stackrc file"" exit 1 fi",source /home/stack/stackrc,6,1
openstack%2Fwatcher~master~I1b0406f870ed0ae5622cfa7421a6cca00d0f891c,openstack/watcher,master,I1b0406f870ed0ae5622cfa7421a6cca00d0f891c,Fix base enable_plugin branch for grenade run,MERGED,2019-06-11 14:48:30.000000000,2019-06-18 07:53:31.000000000,2019-06-18 07:53:31.000000000,"[{'_account_id': 6873}, {'_account_id': 17499}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28748}, {'_account_id': 28935}, {'_account_id': 29911}, {'_account_id': 30412}]","[{'number': 1, 'created': '2019-06-11 14:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/5cb08dd17f18a8a9f9c30705a6da98bfbd120cc7', 'message': 'Fix base enable_plugin branch for grenade run\n\nWe should be starting from stable/stein on the ""old"" side\nof grenade runs now.\n\nChange-Id: I1b0406f870ed0ae5622cfa7421a6cca00d0f891c\n'}, {'number': 2, 'created': '2019-06-12 19:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/e2b1547d3c1bb25a2f47b8acddbd1b259144ae00', 'message': 'Fix base enable_plugin branch for grenade run\n\nWe should be starting from stable/stein on the ""old"" side\nof grenade runs now. This change just removes the branch\noverride because when the branch is not specified, since\nit\'s in the ""base"" local.conf the branch used to clone the\nrepo should be based on the BASE_DEVSTACK_BRANCH grenaderc\nvariable.\n\nChange-Id: I1b0406f870ed0ae5622cfa7421a6cca00d0f891c\n'}, {'number': 3, 'created': '2019-06-13 13:53:34.000000000', 'files': ['devstack/upgrade/settings'], 'web_link': 'https://opendev.org/openstack/watcher/commit/28df60e275d44c6e07e963b7ed139093e79a0045', 'message': 'Fix base enable_plugin branch for grenade run\n\nWe should be starting from stable/stein on the ""old"" side\nof grenade runs now. Rather than hard-code the branch, just\nuse the BASE_DEVSTACK_BRANCH variable.\n\nChange-Id: I1b0406f870ed0ae5622cfa7421a6cca00d0f891c\n'}]",1,664610,28df60e275d44c6e07e963b7ed139093e79a0045,22,9,3,6873,,,0,"Fix base enable_plugin branch for grenade run

We should be starting from stable/stein on the ""old"" side
of grenade runs now. Rather than hard-code the branch, just
use the BASE_DEVSTACK_BRANCH variable.

Change-Id: I1b0406f870ed0ae5622cfa7421a6cca00d0f891c
",git fetch https://review.opendev.org/openstack/watcher refs/changes/10/664610/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/upgrade/settings'],1,5cb08dd17f18a8a9f9c30705a6da98bfbd120cc7,bug/1831917,devstack_localrc base enable_plugin watcher https://opendev.org/openstack/watcher stable/stein,devstack_localrc base enable_plugin watcher https://opendev.org/openstack/watcher stable/rocky,1,1
openstack%2Fsolum-tempest-plugin~master~I4a45dc966ab8e743cc2be6bcae792bcc115301e3,openstack/solum-tempest-plugin,master,I4a45dc966ab8e743cc2be6bcae792bcc115301e3,Update contraints url,MERGED,2019-06-18 06:35:34.000000000,2019-06-18 07:48:22.000000000,2019-06-18 07:48:22.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 06:35:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/solum-tempest-plugin/commit/b00353622fdc8d72c8a5b6b3863d918e80816e9b', 'message': 'Update contraints url\n\nChange-Id: I4a45dc966ab8e743cc2be6bcae792bcc115301e3\n'}]",0,665877,b00353622fdc8d72c8a5b6b3863d918e80816e9b,6,2,1,14107,,,0,"Update contraints url

Change-Id: I4a45dc966ab8e743cc2be6bcae792bcc115301e3
",git fetch https://review.opendev.org/openstack/solum-tempest-plugin refs/changes/77/665877/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b00353622fdc8d72c8a5b6b3863d918e80816e9b,,install_command = pip install {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},2,1
openstack%2Fopenstack-helm~master~Ic92b095e9d7636c3ed833241bd3badbb4bb6e552,openstack/openstack-helm,master,Ic92b095e9d7636c3ed833241bd3badbb4bb6e552,Creating directory from ${APACHE_RUN_DIR} variable,MERGED,2019-05-31 10:13:29.000000000,2019-06-18 07:46:32.000000000,2019-06-18 07:46:32.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 9963}, {'_account_id': 12281}, {'_account_id': 14525}, {'_account_id': 17068}, {'_account_id': 18795}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26297}, {'_account_id': 28935}, {'_account_id': 29954}]","[{'number': 1, 'created': '2019-05-31 10:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0b5b404843cc3d05af939e3529725c651624a648', 'message': ""Creating directory from ${APACHE_RUN_DIR} variable\n\nIf an image is built with python3 therefore libapache2-mod-wsgi-py3\nmodule have to be installed accordingly but the module doesn't create\n/var/run/apache2 directory which is APACHE_RUN_DIR in apache configuration\nfile so apache can't start without it due to the fact that the directory\nis used to make there pid, run, etc files.\n\nChange-Id: Ic92b095e9d7636c3ed833241bd3badbb4bb6e552\n""}, {'number': 2, 'created': '2019-05-31 10:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/38c308c9372ee9803cfab56e7fca5bfedefc8f96', 'message': ""Creating directory from ${APACHE_RUN_DIR} variable\n\nIf an image is built with python3 therefore libapache2-mod-wsgi-py3\nmodule have to be installed accordingly but the module doesn't create\n/var/run/apache2 directory which is APACHE_RUN_DIR in apache configuration\nfile so apache can't start without it due to the fact that the directory\nis used to make there pid, run, etc files.\n\nChange-Id: Ic92b095e9d7636c3ed833241bd3badbb4bb6e552\n""}, {'number': 3, 'created': '2019-05-31 10:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/871226aa8c8f6dc33e66eeb318949381f20296e9', 'message': ""Creating directory from ${APACHE_RUN_DIR} variable\n\nIf an image is built with python3 therefore libapache2-mod-wsgi-py3\nmodule have to be installed accordingly but the module doesn't create\n/var/run/apache2 directory which is APACHE_RUN_DIR in apache configuration\nfile so apache can't start without it due to the fact that the directory\nis used to make there pid, run, etc files.\n\nChange-Id: Ic92b095e9d7636c3ed833241bd3badbb4bb6e552\n""}, {'number': 4, 'created': '2019-05-31 10:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/84892ab20184c36583d0343bbcb9290ada1b6fdd', 'message': ""Creating directory from ${APACHE_RUN_DIR} variable\n\nIf an image is built with python3 therefore libapache2-mod-wsgi-py3\nmodule have to be installed accordingly but the module doesn't create\n/var/run/apache2 directory which is APACHE_RUN_DIR in apache configuration\nfile so apache can't start without it due to the fact that the directory\nis used to make there pid, run, etc files.\n\nChange-Id: Ic92b095e9d7636c3ed833241bd3badbb4bb6e552\n""}, {'number': 5, 'created': '2019-06-12 15:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/980e8f4b8bccbbe694417215fd0c18b846d20549', 'message': ""Creating directory from ${APACHE_RUN_DIR} variable\n\nIf an image is built with python3 therefore libapache2-mod-wsgi-py3\nmodule have to be installed accordingly but the module doesn't create\n/var/run/apache2 directory which is APACHE_RUN_DIR in apache configuration\nfile so apache can't start without it due to the fact that the directory\nis used to make there pid, run, etc files.\n\nChange-Id: Ic92b095e9d7636c3ed833241bd3badbb4bb6e552\n""}, {'number': 6, 'created': '2019-06-18 06:02:47.000000000', 'files': ['nova/templates/bin/_nova-placement-api.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/89f5bfe3acf1303e162953588336bd72ce6ead08', 'message': ""Creating directory from ${APACHE_RUN_DIR} variable\n\nIf an image is built with python3 therefore libapache2-mod-wsgi-py3\nmodule have to be installed accordingly but the module doesn't create\n/var/run/apache2 directory which is APACHE_RUN_DIR in apache configuration\nfile so apache can't start without it due to the fact that the directory\nis used to make there pid, run, etc files.\n\nChange-Id: Ic92b095e9d7636c3ed833241bd3badbb4bb6e552\n""}]",7,662426,89f5bfe3acf1303e162953588336bd72ce6ead08,38,14,6,29954,,,0,"Creating directory from ${APACHE_RUN_DIR} variable

If an image is built with python3 therefore libapache2-mod-wsgi-py3
module have to be installed accordingly but the module doesn't create
/var/run/apache2 directory which is APACHE_RUN_DIR in apache configuration
file so apache can't start without it due to the fact that the directory
is used to make there pid, run, etc files.

Change-Id: Ic92b095e9d7636c3ed833241bd3badbb4bb6e552
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/26/662426/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/templates/bin/_nova-placement-api.sh.tpl'],1,0b5b404843cc3d05af939e3529725c651624a648,nova_helmchart_python3,# The directory below have to be created due to the fact that # libapache2-mod-wsgi-py3 doesn't create it in contrary by libapache2-mod-wsgi if [ ! -d ${APACHE_RUN_DIR} ]; then mkdir ${APACHE_RUN_DIR} fi,,5,0
openstack%2Frpm-packaging~stable%2Frocky~Id7ad0dc0a8bbcbb8ba8064a0aa1153b16f144315,openstack/rpm-packaging,stable/rocky,Id7ad0dc0a8bbcbb8ba8064a0aa1153b16f144315,update ovsdbapp to new release 0.12.4,MERGED,2019-06-14 13:26:01.000000000,2019-06-18 07:46:23.000000000,2019-06-18 07:46:23.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-14 13:26:01.000000000', 'files': ['openstack/ovsdbapp/ovsdbapp.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b33d1f9cdf2a0982c49535cd83a6b5fa8745d7d7', 'message': 'update ovsdbapp to new release 0.12.4\n\nChange-Id: Id7ad0dc0a8bbcbb8ba8064a0aa1153b16f144315\n'}]",1,665386,b33d1f9cdf2a0982c49535cd83a6b5fa8745d7d7,12,6,1,6593,,,0,"update ovsdbapp to new release 0.12.4

Change-Id: Id7ad0dc0a8bbcbb8ba8064a0aa1153b16f144315
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/86/665386/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/ovsdbapp/ovsdbapp.spec.j2'],1,b33d1f9cdf2a0982c49535cd83a6b5fa8745d7d7,,{% set upstream_version = upstream_version('0.12.4') %},{% set upstream_version = upstream_version('0.12.3') %},1,1
openstack%2Foctavia~master~I6f5d95c5f875edda530f54ae72386d6495235ca6,openstack/octavia,master,I6f5d95c5f875edda530f54ae72386d6495235ca6,Fix a python3 issue in the amphora-agent,MERGED,2019-06-15 00:00:22.000000000,2019-06-18 07:42:58.000000000,2019-06-18 07:42:58.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 8161}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-15 00:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3bd9544ce1ca09ff9d10811b31460c31062c9619', 'message': 'Fix a python3 issue in the amphora-agent\n\nAn exception handler in the amphora-agent has a python3 string\ncomparison bug that will cause a TypeError.\nThis patch fixes that bug and adds test coverage for the\nstart_stop_listener.\n\nChange-Id: I6f5d95c5f875edda530f54ae72386d6495235ca6\nStory: 2005898\nTask: 33760\n'}, {'number': 2, 'created': '2019-06-17 12:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d2a08c9e6ce0d21d5937dd44ee02aa561073f332', 'message': 'Fix a python3 issue in the amphora-agent\n\nAn exception handler in the amphora-agent has a python3 string\ncomparison bug that will cause a TypeError.\nThis patch fixes that bug and adds test coverage for the\nstart_stop_listener.\n\nChange-Id: I6f5d95c5f875edda530f54ae72386d6495235ca6\nStory: 2005898\nTask: 33760\n'}, {'number': 3, 'created': '2019-06-17 12:22:01.000000000', 'files': ['octavia/tests/unit/amphorae/backends/agent/api_server/test_listener.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py', 'octavia/amphorae/backends/agent/api_server/listener.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/dc459e2213089345f906c3daa313bd05c429bb54', 'message': 'Fix a python3 issue in the amphora-agent\n\nAn exception handler in the amphora-agent has a python3 string\ncomparison bug that will cause a TypeError.\nThis patch fixes that bug and adds test coverage for the\nstart_stop_listener.\n\nChange-Id: I6f5d95c5f875edda530f54ae72386d6495235ca6\nStory: 2005898\nTask: 33760\n'}]",0,665498,dc459e2213089345f906c3daa313bd05c429bb54,32,6,3,11628,,,0,"Fix a python3 issue in the amphora-agent

An exception handler in the amphora-agent has a python3 string
comparison bug that will cause a TypeError.
This patch fixes that bug and adds test coverage for the
start_stop_listener.

Change-Id: I6f5d95c5f875edda530f54ae72386d6495235ca6
Story: 2005898
Task: 33760
",git fetch https://review.opendev.org/openstack/octavia refs/changes/98/665498/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/amphorae/backends/agent/api_server/test_listener.py', 'octavia/amphorae/backends/agent/api_server/listener.py']",2,3bd9544ce1ca09ff9d10811b31460c31062c9619,665498, if b'Job is already running' not in e.output:, if 'Job is already running' not in e.output:,146,1
openstack%2Fceilometer~master~I504289d9470fafb261bed587768b0527d4b3ecca,openstack/ceilometer,master,I504289d9470fafb261bed587768b0527d4b3ecca,Uses oslo.service for ceilometer-polling on Windows,NEW,2016-09-20 12:28:40.000000000,2019-06-18 07:28:21.000000000,,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 15843}, {'_account_id': 22348}, {'_account_id': 29335}, {'_account_id': 29360}]","[{'number': 1, 'created': '2016-09-20 12:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e810168acc5d7eb4f38185ce5bc813f75bb52bfc', 'message': 'Uses oslo.service for ceilometer-polling on Windows\n\nRecently, ceilometer switched from using oslo.service to\ncotyledon, which is not supported on Windows, as it uses\nLinux-specific attributes and functions, causing the service\nto crash.\n\nThis patch ensures that oslo.service is used on Windows for\nceilometer-polling, while maintaining the current usage of\ncotyledon on any other platform.\n\nThis patch will have to reverted once cotyledon works properly\non Windows.\n\nChange-Id: I504289d9470fafb261bed587768b0527d4b3ecca\nPartial-Bug: #1625602\n'}, {'number': 2, 'created': '2018-12-05 15:28:03.000000000', 'files': ['tools/send_test_data.py', 'ceilometer/compute/virt/libvirt/inspector.py', 'requirements.txt', 'devstack/upgrade/shutdown.sh', 'ceilometer/service_base.py', 'devstack/upgrade/upgrade.sh', 'ceilometer/compute/virt/vmware/inspector.py', 'ceilometer/tests/unit/compute/virt/libvirt/test_inspector.py', 'ceilometer/cmd/polling.py', 'ceilometer/polling/manager.py', 'ceilometer/notification.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/67b526cda8f001af77cee46d9c851d6cfe2fc4d6', 'message': 'Uses oslo.service for ceilometer-polling on Windows\n\nRecently, ceilometer switched from using oslo.service to\ncotyledon, which is not supported on Windows, as it uses\nLinux-specific attributes and functions, causing the service\nto crash.\n\nThis patch ensures that oslo.service is used on Windows for\nceilometer-polling, while maintaining the current usage of\ncotyledon on any other platform.\n\nThis patch will have to reverted once cotyledon works properly\non Windows.\n\nChange-Id: I504289d9470fafb261bed587768b0527d4b3ecca\nPartial-Bug: #1625602\n'}]",0,373242,67b526cda8f001af77cee46d9c851d6cfe2fc4d6,22,7,2,8213,,,0,"Uses oslo.service for ceilometer-polling on Windows

Recently, ceilometer switched from using oslo.service to
cotyledon, which is not supported on Windows, as it uses
Linux-specific attributes and functions, causing the service
to crash.

This patch ensures that oslo.service is used on Windows for
ceilometer-polling, while maintaining the current usage of
cotyledon on any other platform.

This patch will have to reverted once cotyledon works properly
on Windows.

Change-Id: I504289d9470fafb261bed587768b0527d4b3ecca
Partial-Bug: #1625602
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/42/373242/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ceilometer/service_base.py', 'ceilometer/cmd/polling.py', 'ceilometer/agent/manager.py']",4,e810168acc5d7eb4f38185ce5bc813f75bb52bfc,bug/1625602," def stop(self): if self.started: self.stop_pollsters_tasks() self.heartbeat_timer.stop() self.partition_coordinator.stop() super(AgentManager, self).stop() ",,41,4
openstack%2Fmurano-agent~master~I698d48349b94ccf8fb87e97e9681a5412336eb78,openstack/murano-agent,master,I698d48349b94ccf8fb87e97e9681a5412336eb78,Update contraints url,MERGED,2019-06-18 06:39:44.000000000,2019-06-18 07:24:55.000000000,2019-06-18 07:24:55.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 06:39:44.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/0161875574c8a55911a8597d6f122301aa0ddfe5', 'message': 'Update contraints url\n\nChange-Id: I698d48349b94ccf8fb87e97e9681a5412336eb78\n'}]",0,665879,0161875574c8a55911a8597d6f122301aa0ddfe5,6,2,1,14107,,,0,"Update contraints url

Change-Id: I698d48349b94ccf8fb87e97e9681a5412336eb78
",git fetch https://review.opendev.org/openstack/murano-agent refs/changes/79/665879/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0161875574c8a55911a8597d6f122301aa0ddfe5,,install_command = pip install {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},4,3
openstack%2Fmurano-pkg-check~master~I253de05f298ed33cde6a98455264fb3f7b040388,openstack/murano-pkg-check,master,I253de05f298ed33cde6a98455264fb3f7b040388,Update contraints url,MERGED,2019-06-18 06:50:50.000000000,2019-06-18 07:18:11.000000000,2019-06-18 07:18:11.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 06:50:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/murano-pkg-check/commit/a78087c189ce25a380b407e804e65d96a45e1a23', 'message': 'Update contraints url\n\nChange-Id: I253de05f298ed33cde6a98455264fb3f7b040388\n'}]",0,665883,a78087c189ce25a380b407e804e65d96a45e1a23,6,2,1,14107,,,0,"Update contraints url

Change-Id: I253de05f298ed33cde6a98455264fb3f7b040388
",git fetch https://review.opendev.org/openstack/murano-pkg-check refs/changes/83/665883/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a78087c189ce25a380b407e804e65d96a45e1a23,, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fsolum-dashboard~master~I8def9d0dcaebbfa79f26a7bb585aac6768861325,openstack/solum-dashboard,master,I8def9d0dcaebbfa79f26a7bb585aac6768861325,Update contraints url,MERGED,2019-06-18 06:32:12.000000000,2019-06-18 07:16:26.000000000,2019-06-18 07:16:26.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 06:32:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/solum-dashboard/commit/c48893ef5cb69d0e2fcea66490aa1541096d48e9', 'message': 'Update contraints url\n\nChange-Id: I8def9d0dcaebbfa79f26a7bb585aac6768861325\n'}]",0,665876,c48893ef5cb69d0e2fcea66490aa1541096d48e9,6,2,1,14107,,,0,"Update contraints url

Change-Id: I8def9d0dcaebbfa79f26a7bb585aac6768861325
",git fetch https://review.opendev.org/openstack/solum-dashboard refs/changes/76/665876/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c48893ef5cb69d0e2fcea66490aa1541096d48e9,, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fhorizon~master~I86956d0c9a01f41edc925d0375423bd06bd6b708,openstack/horizon,master,I86956d0c9a01f41edc925d0375423bd06bd6b708,Imported Translations from Zanata,MERGED,2019-06-17 09:05:30.000000000,2019-06-18 07:14:23.000000000,2019-06-18 07:14:22.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-06-17 09:05:30.000000000', 'files': ['doc/source/locale/eo/LC_MESSAGES/doc-install.po', 'releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-install.po', 'doc/source/locale/ja/LC_MESSAGES/doc-install.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-install.po', 'openstack_dashboard/locale/id/LC_MESSAGES/django.po', 'doc/source/locale/id/LC_MESSAGES/doc-install.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/802ab1c8f040cd3dbff000ec123299e6efd075f2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I86956d0c9a01f41edc925d0375423bd06bd6b708\n'}]",0,665616,802ab1c8f040cd3dbff000ec123299e6efd075f2,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I86956d0c9a01f41edc925d0375423bd06bd6b708
",git fetch https://review.opendev.org/openstack/horizon refs/changes/16/665616/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/eo/LC_MESSAGES/doc-install.po', 'releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-install.po', 'doc/source/locale/ja/LC_MESSAGES/doc-install.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-install.po', 'openstack_dashboard/locale/id/LC_MESSAGES/django.po', 'doc/source/locale/id/LC_MESSAGES/doc-install.po']",7,802ab1c8f040cd3dbff000ec123299e6efd075f2,zanata/translations,"""Project-Id-Version: horizon 16.0.0.0b2.dev12\n""""POT-Creation-Date: 2019-06-14 11:13-0500\n""","""Project-Id-Version: horizon 15.1.0.dev148\n""""POT-Creation-Date: 2019-05-29 12:58-0500\n""msgid "":opendev-repo:`openstack/neutron-lbaas-dashboard`"" msgstr "":opendev-repo:`openstack/neutron-lbaas-dashboard`"" msgid "":storyboard:`openstack/neutron-lbaas-dashboard`"" msgstr "":storyboard:`openstack/neutron-lbaas-dashboard`"" msgid ""Neutron LBaaS Dashboard"" msgstr ""Neutron LBaaS Dashboard"" ",20,41
openstack%2Fpython-solumclient~master~I0f279511d21b0d7463db7d5c6e6ded750e6c9a47,openstack/python-solumclient,master,I0f279511d21b0d7463db7d5c6e6ded750e6c9a47,Update contraints url,MERGED,2019-06-18 06:30:16.000000000,2019-06-18 07:11:06.000000000,2019-06-18 07:11:06.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 06:30:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/405a4528d1e109ba48377c21f05a1a2b72065b67', 'message': 'Update contraints url\n\nChange-Id: I0f279511d21b0d7463db7d5c6e6ded750e6c9a47\n'}]",0,665875,405a4528d1e109ba48377c21f05a1a2b72065b67,6,2,1,14107,,,0,"Update contraints url

Change-Id: I0f279511d21b0d7463db7d5c6e6ded750e6c9a47
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/75/665875/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,405a4528d1e109ba48377c21f05a1a2b72065b67,, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt},3,3
openstack%2Ftripleo-common~master~I7c290f908fd685b801f49ba80531c14ce54677bd,openstack/tripleo-common,master,I7c290f908fd685b801f49ba80531c14ce54677bd,Update the Undercloud Services list in the inventory.,MERGED,2019-06-14 12:35:36.000000000,2019-06-18 06:51:21.000000000,2019-06-17 22:38:18.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-14 12:35:36.000000000', 'files': ['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6942ac007f66fdf22a1a7678da608b28eebc6b4e', 'message': ""Update the Undercloud Services list in the inventory.\n\nSince Stein, the name of the OpenStack services on the Undercloud have\nbeen renamed as 'tripleo_*.service'. This patch makes the Undercloud\nservice names evolve accordingly.\n\nChange-Id: I7c290f908fd685b801f49ba80531c14ce54677bd\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}]",0,665369,6942ac007f66fdf22a1a7678da608b28eebc6b4e,16,6,1,11491,,,0,"Update the Undercloud Services list in the inventory.

Since Stein, the name of the OpenStack services on the Undercloud have
been renamed as 'tripleo_*.service'. This patch makes the Undercloud
service names evolve accordingly.

Change-Id: I7c290f908fd685b801f49ba80531c14ce54677bd
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/69/665369/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py']",2,6942ac007f66fdf22a1a7678da608b28eebc6b4e,," 'tripleo_nova_compute', 'tripleo_heat_engine', 'tripleo_ironic_conductor', 'tripleo_swift_container_server', 'tripleo_swift_object_server', 'tripleo_mistral_engine'], 'tripleo_nova_compute', 'tripleo_heat_engine', 'tripleo_ironic_conductor', 'tripleo_swift_container_server', 'tripleo_swift_object_server', 'tripleo_mistral_engine'], 'tripleo_nova_compute', 'tripleo_heat_engine', 'tripleo_ironic_conductor', 'tripleo_swift_container_server', 'tripleo_swift_object_server', 'tripleo_mistral_engine'],"," 'openstack-nova-compute', 'openstack-heat-engine', 'openstack-ironic-conductor', 'openstack-swift-container', 'openstack-swift-object', 'openstack-mistral-engine'], 'openstack-nova-compute', 'openstack-heat-engine', 'openstack-ironic-conductor', 'openstack-swift-container', 'openstack-swift-object', 'openstack-mistral-engine'], 'openstack-nova-compute', 'openstack-heat-engine', 'openstack-ironic-conductor', 'openstack-swift-container', 'openstack-swift-object', 'openstack-mistral-engine'],",21,21
openstack%2Fdiskimage-builder~master~Ibb5348af3e3bbe46b19affe90a8930a4b4ad4cad,openstack/diskimage-builder,master,Ibb5348af3e3bbe46b19affe90a8930a4b4ad4cad,Move pypi to dib-python,MERGED,2019-06-10 10:30:05.000000000,2019-06-18 06:49:36.000000000,2019-06-18 06:49:36.000000000,"[{'_account_id': 6908}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 11090}, {'_account_id': 12459}, {'_account_id': 14200}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23871}, {'_account_id': 30568}]","[{'number': 1, 'created': '2019-06-10 10:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5250e5f0a6428fa3517806c4680663c102490025', 'message': ""Move pypi to dib-python\n\nThe latest Fedora/Ubuntu images don't ship python2 by default, so we\nneed to use our dib-python wrapper for this so we work in python3 only\nenvironments.\n\nThis change also correctly creates the pip.conf and .pydistutils.cfg\nfiles with trusted host extracted from the index-url.\n\nRelated-bug: 1577105\n\nChange-Id: Ibb5348af3e3bbe46b19affe90a8930a4b4ad4cad\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 2, 'created': '2019-06-10 17:44:19.000000000', 'files': ['diskimage_builder/elements/pypi/pre-install.d/04-configure-pypi-mirror', 'diskimage_builder/elements/pypi/element-deps'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ea9ab89829fe8db6f89ef002dc9223a9e1d52186', 'message': ""Move pypi to dib-python\n\nThe latest Fedora/Ubuntu images don't ship python2 by default, so we\nneed to use our dib-python wrapper for this so we work in python3 only\nenvironments.\n\nThis change also correctly creates the pip.conf and .pydistutils.cfg\nfiles with trusted host extracted from the index-url.\n\nRelated-bug: 1577105\n\nChange-Id: Ibb5348af3e3bbe46b19affe90a8930a4b4ad4cad\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}]",9,664240,ea9ab89829fe8db6f89ef002dc9223a9e1d52186,36,11,2,14200,,,0,"Move pypi to dib-python

The latest Fedora/Ubuntu images don't ship python2 by default, so we
need to use our dib-python wrapper for this so we work in python3 only
environments.

This change also correctly creates the pip.conf and .pydistutils.cfg
files with trusted host extracted from the index-url.

Related-bug: 1577105

Change-Id: Ibb5348af3e3bbe46b19affe90a8930a4b4ad4cad
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/40/664240/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/pypi/pre-install.d/04-configure-pypi-mirror', 'diskimage_builder/elements/pypi/element-deps']",2,5250e5f0a6428fa3517806c4680663c102490025,bug/1577105,dib-python ,,9,1
openstack%2Fdiskimage-builder~master~If94f3721195d5ecd80036e4234a3ca223a19c349,openstack/diskimage-builder,master,If94f3721195d5ecd80036e4234a3ca223a19c349,Use architecture-specific grub2 RPMs on RHEL8,MERGED,2019-06-06 14:50:52.000000000,2019-06-18 06:49:35.000000000,2019-06-18 06:49:35.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-06 14:50:52.000000000', 'files': ['diskimage_builder/elements/bootloader/pkg-map', 'diskimage_builder/elements/grub2/pkg-map'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0cf09420688ada93e85287468778882119cbbf9d', 'message': 'Use architecture-specific grub2 RPMs on RHEL8\n\nRHEL8 ships a bunch of grub2-efi-X-modules in its main\nrepository, each of which provides grub2-efi-modules,\npotentially causing nondeterminism when building images.\n\nThis changes the DIB elements to always use architecture-\nspecific RPMs when RHEL8 is selected.\n\nChange-Id: If94f3721195d5ecd80036e4234a3ca223a19c349\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1716672\n'}]",0,663693,0cf09420688ada93e85287468778882119cbbf9d,10,5,1,8161,,,0,"Use architecture-specific grub2 RPMs on RHEL8

RHEL8 ships a bunch of grub2-efi-X-modules in its main
repository, each of which provides grub2-efi-modules,
potentially causing nondeterminism when building images.

This changes the DIB elements to always use architecture-
specific RPMs when RHEL8 is selected.

Change-Id: If94f3721195d5ecd80036e4234a3ca223a19c349
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1716672
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/93/663693/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/bootloader/pkg-map', 'diskimage_builder/elements/grub2/pkg-map']",2,0cf09420688ada93e85287468778882119cbbf9d,," ""release"": { ""rhel"": { ""8"": { ""signed_grub_efi"": ""efibootmgr grub2-efi-x64-modules grub2-efi-x64"", ""signed_shim_efi"": ""shim"", ""grub_bios"": ""grub2"" } } },",,22,0
openstack%2Fdiskimage-builder~master~I1a6bfa26324fd43ae0c77c2c977dda0dd56e26e5,openstack/diskimage-builder,master,I1a6bfa26324fd43ae0c77c2c977dda0dd56e26e5,Remove the rhel 8 check for xfs,MERGED,2019-06-07 16:45:35.000000000,2019-06-18 06:49:34.000000000,2019-06-18 06:49:34.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-07 16:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b4ddc4b47eff791d39e5cecee1db6382b65ff2be', 'message': 'Remove the rhel 8 check for xfs\n\nThis patch removes the check for rhel 8 requiring xfs filesystem as\nrhel 8 images can successfully be built with ext4 filesystems.\n\nChange-Id: I1a6bfa26324fd43ae0c77c2c977dda0dd56e26e5\n'}, {'number': 2, 'created': '2019-06-12 14:01:37.000000000', 'files': ['diskimage_builder/lib/img-defaults', 'diskimage_builder/elements/rhel/environment.d/10-rhel-distro-name.bash'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5f4b764a1188c1ce1f18207060b8cd97d5089b5e', 'message': 'Remove the rhel 8 check for xfs\n\nThis patch removes the check and default for rhel 8 requiring\nxfs filesystem as rhel 8 images can successfully be built with\next4 filesystems.\n\nChange-Id: I1a6bfa26324fd43ae0c77c2c977dda0dd56e26e5\n'}]",0,663998,5f4b764a1188c1ce1f18207060b8cd97d5089b5e,18,7,2,11628,,,0,"Remove the rhel 8 check for xfs

This patch removes the check and default for rhel 8 requiring
xfs filesystem as rhel 8 images can successfully be built with
ext4 filesystems.

Change-Id: I1a6bfa26324fd43ae0c77c2c977dda0dd56e26e5
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/98/663998/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/rhel/environment.d/10-rhel-distro-name.bash'],1,b4ddc4b47eff791d39e5cecee1db6382b65ff2be,,," if [ ""${DISTRO_NAME}"" = ""rhel"" ] && [ ""${DIB_RELEASE}"" = ""8"" ] && [ ""${FS_TYPE}"" != ""xfs"" ]; then echo ""ERROR: RHEL8 images file-system type must be set to xfs, FS_TYPE is currently set to"" $FS_TYPE exit 1 fi",0,5
openstack%2Fmistral~master~I6ca0d0fc2a2ff393bab502a5f705fb0d63c32c6b,openstack/mistral,master,I6ca0d0fc2a2ff393bab502a5f705fb0d63c32c6b,Use eventlet-aware threading events,MERGED,2018-03-28 19:07:15.000000000,2019-06-18 06:35:20.000000000,2019-06-18 06:35:19.000000000,"[{'_account_id': 7065}, {'_account_id': 8731}, {'_account_id': 9257}, {'_account_id': 9373}, {'_account_id': 9712}, {'_account_id': 11391}, {'_account_id': 15895}, {'_account_id': 17130}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 27008}, {'_account_id': 29124}]","[{'number': 1, 'created': '2018-03-28 19:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/799452a51fe958555952e0e5d38d5f9dfc2e58ac', 'message': 'Use eventlet-aware threading events\n\nFor the gory details behind this, see:\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1384183\n\nIn summary, if you use threading.Event on python2 with eventlet, it\nunnecessarily spams system calls to epoll_wait and burns a *lot* of\nCPU cycles by constantly context-switching.\n\nI added eventletutils.Event to oslo_utils a while back to\nintelligently use the eventlet Event object when eventlet is being\nused, and to fall back to the threading one otherwise.  So just use\nthat and it will do the right thing.\n\nChange-Id: I6ca0d0fc2a2ff393bab502a5f705fb0d63c32c6b\n'}, {'number': 2, 'created': '2018-04-04 18:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/5a45e207d9b827bb594457234312072f59924f09', 'message': 'Use eventlet-aware threading events\n\nFor the gory details behind this, see:\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1384183\n\nIn summary, if you use threading.Event on python2 with eventlet, it\nunnecessarily spams system calls to epoll_wait and burns a *lot* of\nCPU cycles by constantly context-switching.\n\nI added eventletutils.Event to oslo_utils a while back to\nintelligently use the eventlet Event object when eventlet is being\nused, and to fall back to the threading one otherwise.  So just use\nthat and it will do the right thing.\n\nDepends-On: https://review.openstack.org/#/c/558879/\nChange-Id: I6ca0d0fc2a2ff393bab502a5f705fb0d63c32c6b\n'}, {'number': 3, 'created': '2018-09-25 14:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/05e1e21e43832998bd0f5c2c34e5d8efd801165d', 'message': 'Use eventlet-aware threading events\n\nFor the gory details behind this, see:\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1384183\n\nIn summary, if you use threading.Event on python2 with eventlet, it\nunnecessarily spams system calls to epoll_wait and burns a *lot* of\nCPU cycles by constantly context-switching.\n\nI added eventletutils.Event to oslo_utils a while back to\nintelligently use the eventlet Event object when eventlet is being\nused, and to fall back to the threading one otherwise.  So just use\nthat and it will do the right thing.\n\nDepends-On: https://review.openstack.org/#/c/558879/\nChange-Id: I6ca0d0fc2a2ff393bab502a5f705fb0d63c32c6b\n'}, {'number': 4, 'created': '2018-10-02 11:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/de8573c615e01caebcc7b2132601ea4dc5fda69e', 'message': 'Use eventlet-aware threading events\n\nFor the gory details behind this, see:\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1384183\n\nIn summary, if you use threading.Event on python2 with eventlet, it\nunnecessarily spams system calls to epoll_wait and burns a *lot* of\nCPU cycles by constantly context-switching.\n\nI added eventletutils.Event to oslo_utils a while back to\nintelligently use the eventlet Event object when eventlet is being\nused, and to fall back to the threading one otherwise.  So just use\nthat and it will do the right thing.\n\nDepends-On: https://review.openstack.org/#/c/558879/\nChange-Id: I6ca0d0fc2a2ff393bab502a5f705fb0d63c32c6b\n'}, {'number': 5, 'created': '2018-10-08 12:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/cfa2a0f66823269600ba5b40c15176d9783b2bb9', 'message': 'Use eventlet-aware threading events\n\nFor the gory details behind this, see:\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1384183\n\nIn summary, if you use threading.Event on python2 with eventlet, it\nunnecessarily spams system calls to epoll_wait and burns a *lot* of\nCPU cycles by constantly context-switching.\n\nI added eventletutils.Event to oslo_utils a while back to\nintelligently use the eventlet Event object when eventlet is being\nused, and to fall back to the threading one otherwise.  So just use\nthat and it will do the right thing.\n\nDepends-On: https://review.openstack.org/#/c/558879/\nChange-Id: I6ca0d0fc2a2ff393bab502a5f705fb0d63c32c6b\n'}, {'number': 6, 'created': '2018-10-14 10:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/fdee1095a7c0d73f0afd3953e88ba558e3daf18d', 'message': 'Use eventlet-aware threading events\n\nFor the gory details behind this, see:\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1384183\n\nIn summary, if you use threading.Event on python2 with eventlet, it\nunnecessarily spams system calls to epoll_wait and burns a *lot* of\nCPU cycles by constantly context-switching.\n\nI added eventletutils.Event to oslo_utils a while back to\nintelligently use the eventlet Event object when eventlet is being\nused, and to fall back to the threading one otherwise.  So just use\nthat and it will do the right thing.\n\nDepends-On: https://review.openstack.org/#/c/558879/\nChange-Id: I6ca0d0fc2a2ff393bab502a5f705fb0d63c32c6b\n'}, {'number': 7, 'created': '2018-11-13 09:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/9d53035572a6d1d15f552c83697959d45c2dbb20', 'message': 'Use eventlet-aware threading events\n\nFor the gory details behind this, see:\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1384183\n\nIn summary, if you use threading.Event on python2 with eventlet, it\nunnecessarily spams system calls to epoll_wait and burns a *lot* of\nCPU cycles by constantly context-switching.\n\nI added eventletutils.Event to oslo_utils a while back to\nintelligently use the eventlet Event object when eventlet is being\nused, and to fall back to the threading one otherwise.  So just use\nthat and it will do the right thing.\n\nDepends-On: https://review.openstack.org/#/c/558879/\nChange-Id: I6ca0d0fc2a2ff393bab502a5f705fb0d63c32c6b\n'}, {'number': 8, 'created': '2018-11-19 08:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/076c96df9cd76b623c489ff21b35a29bcbb1d32d', 'message': 'Use eventlet-aware threading events\n\nFor the gory details behind this, see:\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1384183\n\nIn summary, if you use threading.Event on python2 with eventlet, it\nunnecessarily spams system calls to epoll_wait and burns a *lot* of\nCPU cycles by constantly context-switching.\n\nI added eventletutils.Event to oslo_utils a while back to\nintelligently use the eventlet Event object when eventlet is being\nused, and to fall back to the threading one otherwise.  So just use\nthat and it will do the right thing.\n\nDepends-On: https://review.openstack.org/#/c/558879/\nChange-Id: I6ca0d0fc2a2ff393bab502a5f705fb0d63c32c6b\n'}, {'number': 9, 'created': '2018-11-27 05:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2ad0a2ab6709710851407f53ab868271de10ea1d', 'message': 'Use eventlet-aware threading events\n\nFor the gory details behind this, see:\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1384183\n\nIn summary, if you use threading.Event on python2 with eventlet, it\nunnecessarily spams system calls to epoll_wait and burns a *lot* of\nCPU cycles by constantly context-switching.\n\nI added eventletutils.Event to oslo_utils a while back to\nintelligently use the eventlet Event object when eventlet is being\nused, and to fall back to the threading one otherwise.  So just use\nthat and it will do the right thing.\n\nDepends-On: https://review.openstack.org/#/c/558879/\nChange-Id: I6ca0d0fc2a2ff393bab502a5f705fb0d63c32c6b\n'}, {'number': 10, 'created': '2019-01-11 05:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/aa2ea0bddee64f2993a2e0ea3bac8f3221630ced', 'message': 'Use eventlet-aware threading events\n\nFor the gory details behind this, see:\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1384183\n\nIn summary, if you use threading.Event on python2 with eventlet, it\nunnecessarily spams system calls to epoll_wait and burns a *lot* of\nCPU cycles by constantly context-switching.\n\nI added eventletutils.Event to oslo_utils a while back to\nintelligently use the eventlet Event object when eventlet is being\nused, and to fall back to the threading one otherwise.  So just use\nthat and it will do the right thing.\n\nDepends-On: https://review.openstack.org/#/c/558879/\nChange-Id: I6ca0d0fc2a2ff393bab502a5f705fb0d63c32c6b\n'}, {'number': 11, 'created': '2019-06-09 07:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1b0c082d1bbed28fe212344e422dee22490ba944', 'message': 'Use eventlet-aware threading events\n\nFor the gory details behind this, see:\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1384183\n\nIn summary, if you use threading.Event on python2 with eventlet, it\nunnecessarily spams system calls to epoll_wait and burns a *lot* of\nCPU cycles by constantly context-switching.\n\nI added eventletutils.Event to oslo_utils a while back to\nintelligently use the eventlet Event object when eventlet is being\nused, and to fall back to the threading one otherwise.  So just use\nthat and it will do the right thing.\n\nDepends-On: https://review.openstack.org/#/c/558879/\nChange-Id: I6ca0d0fc2a2ff393bab502a5f705fb0d63c32c6b\n'}, {'number': 12, 'created': '2019-06-14 21:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/44965cc3f7d7465823ea9ab5486cfbdc3a33eb84', 'message': 'Use eventlet-aware threading events\n\nFor the gory details behind this, see:\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1384183\n\nIn summary, if you use threading.Event on python2 with eventlet, it\nunnecessarily spams system calls to epoll_wait and burns a *lot* of\nCPU cycles by constantly context-switching.\n\nI added eventletutils.Event to oslo_utils a while back to\nintelligently use the eventlet Event object when eventlet is being\nused, and to fall back to the threading one otherwise.  So just use\nthat and it will do the right thing.\n\nDepends-On: https://review.openstack.org/#/c/558879/\nChange-Id: I6ca0d0fc2a2ff393bab502a5f705fb0d63c32c6b\n'}, {'number': 13, 'created': '2019-06-17 11:28:25.000000000', 'files': ['mistral/rpc/kombu/kombu_server.py', 'requirements.txt', 'lower-constraints.txt', 'mistral/rpc/kombu/kombu_listener.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/b97b24856f611998ade3ac7390074dc02b880b19', 'message': 'Use eventlet-aware threading events\n\nFor the gory details behind this, see:\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1384183\n\nIn summary, if you use threading.Event on python2 with eventlet, it\nunnecessarily spams system calls to epoll_wait and burns a *lot* of\nCPU cycles by constantly context-switching.\n\nI added eventletutils.Event to oslo_utils a while back to\nintelligently use the eventlet Event object when eventlet is being\nused, and to fall back to the threading one otherwise.  So just use\nthat and it will do the right thing.\n\nDepends-On: https://review.openstack.org/#/c/558879/\nChange-Id: I6ca0d0fc2a2ff393bab502a5f705fb0d63c32c6b\n'}]",0,557487,b97b24856f611998ade3ac7390074dc02b880b19,87,12,13,9257,,,0,"Use eventlet-aware threading events

For the gory details behind this, see:

https://bugzilla.redhat.com/show_bug.cgi?id=1384183

In summary, if you use threading.Event on python2 with eventlet, it
unnecessarily spams system calls to epoll_wait and burns a *lot* of
CPU cycles by constantly context-switching.

I added eventletutils.Event to oslo_utils a while back to
intelligently use the eventlet Event object when eventlet is being
used, and to fall back to the threading one otherwise.  So just use
that and it will do the right thing.

Depends-On: https://review.openstack.org/#/c/558879/
Change-Id: I6ca0d0fc2a2ff393bab502a5f705fb0d63c32c6b
",git fetch https://review.opendev.org/openstack/mistral refs/changes/87/557487/7 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/rpc/kombu/kombu_server.py', 'mistral/rpc/kombu/kombu_listener.py']",2,799452a51fe958555952e0e5d38d5f9dfc2e58ac,557487,from oslo_utils import eventletutils self.ready = eventletutils.Event(), self.ready = threading.Event(),5,3
openstack%2Fdiskimage-builder~master~I0b204b7b3d7ae74b6749320b3bfe1ca89d154ebb,openstack/diskimage-builder,master,I0b204b7b3d7ae74b6749320b3bfe1ca89d154ebb,Update test coverage for openSUSE/-minimal to 15.1,MERGED,2019-05-20 14:32:31.000000000,2019-06-18 06:21:21.000000000,2019-06-18 06:21:21.000000000,"[{'_account_id': 6593}, {'_account_id': 7069}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-20 14:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a9fd2a87a02b1f7f1545e0e16becf0e9d76ec799', 'message': 'Update test coverage for openSUSE/-minimal to 15.1\n\nUse openSUSE 15.1 as default, which is the latest released stable\nopenSUSE release.\n\nRemove leftovers for unmaintained openSUSE 42.2 images.\n\nChange-Id: I0b204b7b3d7ae74b6749320b3bfe1ca89d154ebb\n'}, {'number': 2, 'created': '2019-05-20 14:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7a37cd05ad31da796c09670c55bd9dd608475283', 'message': 'Update test coverage for openSUSE/-minimal to 15.1\n\nUse openSUSE 15.1 as default, which is the latest released stable\nopenSUSE release.\n\nRemove leftovers for unmaintained openSUSE 42.2 images.\n\nChange-Id: I0b204b7b3d7ae74b6749320b3bfe1ca89d154ebb\n'}, {'number': 3, 'created': '2019-05-20 18:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d9fbd88d38295cddb04722da735afbf783f7b557', 'message': 'Update test coverage for openSUSE/-minimal to 15.1\n\nUse openSUSE 15.1 as default, which is the latest released stable\nopenSUSE release.\n\nRemove leftovers for unmaintained openSUSE 42.2 images.\n\nChange-Id: I0b204b7b3d7ae74b6749320b3bfe1ca89d154ebb\n'}, {'number': 4, 'created': '2019-05-20 19:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3de110bb29d32d990ae35ec8532022193d7467c7', 'message': 'Update test coverage for openSUSE/-minimal to 15.1\n\nUse openSUSE 15.1 as default, which is the latest released stable\nopenSUSE release.\n\nRemove leftovers for unmaintained openSUSE 42.2 images.\n\nDepends-On: https://review.opendev.org/#/c/660126/\nChange-Id: I0b204b7b3d7ae74b6749320b3bfe1ca89d154ebb\n'}, {'number': 5, 'created': '2019-06-12 19:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a50d16ace0cd39a3387a2ddc96f467e9b98c16cc', 'message': 'Update test coverage for openSUSE/-minimal to 15.1\n\nUse openSUSE 15.1 as default, which is the latest released stable\nopenSUSE release.\n\nRemove leftovers for unmaintained openSUSE 42.2 images.\n\nDepends-On: https://review.opendev.org/#/c/660126/\nChange-Id: I0b204b7b3d7ae74b6749320b3bfe1ca89d154ebb\n'}, {'number': 6, 'created': '2019-06-12 20:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8cd2819e7f13a1befa7371a91a43e1c3fd5649f5', 'message': 'Update test coverage for openSUSE/-minimal to 15.1\n\nUse openSUSE 15.1 as default, which is the latest released stable\nopenSUSE release.\n\nRemove leftovers for unmaintained openSUSE 42.2 images.\n\nDepends-On: https://review.opendev.org/#/c/660126/\nChange-Id: I0b204b7b3d7ae74b6749320b3bfe1ca89d154ebb\n'}, {'number': 7, 'created': '2019-06-12 22:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b6a5670d28fdce71eee8226c9021b72220d81157', 'message': 'Update test coverage for openSUSE/-minimal to 15.1\n\nUse openSUSE 15.1 as default, which is the latest released stable\nopenSUSE release.\n\nRemove leftovers for unmaintained openSUSE 42.2 images.\n\nDepends-On: https://review.opendev.org/#/c/660126/\nChange-Id: I0b204b7b3d7ae74b6749320b3bfe1ca89d154ebb\n'}, {'number': 8, 'created': '2019-06-13 07:20:49.000000000', 'files': ['diskimage_builder/elements/opensuse-minimal/test-elements/opensuse151-build-succeeds/environment.d/10-set-distro.bash', 'releasenotes/notes/opensuse-151-default-67ccfffbc134704d.yaml', 'diskimage_builder/elements/opensuse-minimal/test-elements/opensuse151-build-succeeds/element-deps', 'diskimage_builder/elements/opensuse-minimal/test-elements/opensuse150-build-succeeds/README.rst', 'diskimage_builder/elements/opensuse-minimal/environment.d/10-opensuse-distro-name.bash', '.zuul.d/jobs.yaml', 'doc/source/user_guide/supported_distros.rst', 'diskimage_builder/elements/opensuse/README.rst', 'diskimage_builder/elements/opensuse/environment.d/10-opensuse-distro-name.bash', 'diskimage_builder/elements/opensuse/test-elements/opensuse150-build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/opensuse-minimal/README.rst', 'diskimage_builder/elements/dib-python/environment.d/50-dib-python-version', 'diskimage_builder/elements/opensuse-minimal/test-elements/opensuse151-build-succeeds/README.rst', 'diskimage_builder/elements/opensuse/test-elements/opensuse150-build-succeeds/README.rst', 'tests/run_functests.sh', 'diskimage_builder/elements/opensuse/test-elements/opensuse151-build-succeeds/README.rst', 'diskimage_builder/elements/zypper-minimal/root.d/08-zypper-chroot', 'diskimage_builder/elements/opensuse/test-elements/opensuse151-build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/opensuse-minimal/test-elements/opensuse150-build-succeeds/environment.d/10-set-distro.bash'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a81cf9e231328da3d95f65bec392eec1c28dd684', 'message': 'Update test coverage for openSUSE/-minimal to 15.1\n\nUse openSUSE 15.1 as default, which is the latest released stable\nopenSUSE release.\n\nRemove leftovers for unmaintained openSUSE 42.2 images.\n\nDepends-On: https://review.opendev.org/#/c/660126/\nChange-Id: I0b204b7b3d7ae74b6749320b3bfe1ca89d154ebb\n'}]",0,660137,a81cf9e231328da3d95f65bec392eec1c28dd684,44,6,8,6593,,,0,"Update test coverage for openSUSE/-minimal to 15.1

Use openSUSE 15.1 as default, which is the latest released stable
openSUSE release.

Remove leftovers for unmaintained openSUSE 42.2 images.

Depends-On: https://review.opendev.org/#/c/660126/
Change-Id: I0b204b7b3d7ae74b6749320b3bfe1ca89d154ebb
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/37/660137/2 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/opensuse-minimal/test-elements/opensuse151-build-succeeds/environment.d/10-set-distro.bash', 'releasenotes/notes/opensuse-151-default-67ccfffbc134704d.yaml', 'diskimage_builder/elements/opensuse-minimal/test-elements/opensuse151-build-succeeds/element-deps', 'diskimage_builder/elements/opensuse-minimal/test-elements/opensuse150-build-succeeds/README.rst', 'diskimage_builder/elements/opensuse-minimal/environment.d/10-opensuse-distro-name.bash', '.zuul.d/jobs.yaml', 'doc/source/user_guide/supported_distros.rst', 'diskimage_builder/elements/opensuse/README.rst', 'diskimage_builder/elements/opensuse/environment.d/10-opensuse-distro-name.bash', 'diskimage_builder/elements/opensuse-minimal/README.rst', 'diskimage_builder/elements/opensuse-minimal/test-elements/opensuse151-build-succeeds/README.rst', 'tests/run_functests.sh', 'diskimage_builder/elements/opensuse-minimal/test-elements/opensuse150-build-succeeds/environment.d/10-set-distro.bash']",13,a9fd2a87a02b1f7f1545e0e16becf0e9d76ec799,,,export DIB_RELEASE=15.0 ,22,11
openstack%2Fcharm-ceph-mon~master~Ia720e6e3033815869fbe94cfe0017d5b88f8054b,openstack/charm-ceph-mon,master,Ia720e6e3033815869fbe94cfe0017d5b88f8054b,add actions for osd reweight and osd crush reweight,ABANDONED,2019-06-13 15:51:06.000000000,2019-06-18 06:07:29.000000000,,"[{'_account_id': 11805}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30300}]","[{'number': 1, 'created': '2019-06-13 15:51:06.000000000', 'files': ['actions/crush_reweight.py', 'actions/reweight_by_utilization.py', 'actions/crush-reweight', 'unit_tests/test_ceph_actions.py', 'actions/reweight.py', 'actions/reweight-by-utilization', 'actions.yaml', 'actions/reweight'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/09ebfe51dfe8330e3b8a3ec7145bbdb7830c0c49', 'message': 'add actions for osd reweight and osd crush reweight\n\nChange-Id: Ia720e6e3033815869fbe94cfe0017d5b88f8054b\n'}]",1,665165,09ebfe51dfe8330e3b8a3ec7145bbdb7830c0c49,9,5,1,30300,,,0,"add actions for osd reweight and osd crush reweight

Change-Id: Ia720e6e3033815869fbe94cfe0017d5b88f8054b
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/65/665165/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/crush_reweight.py', 'actions/reweight_by_utilization.py', 'actions/crush-reweight', 'unit_tests/test_ceph_actions.py', 'actions/reweight.py', 'actions/reweight-by-utilization', 'actions.yaml', 'actions/reweight']",8,09ebfe51dfe8330e3b8a3ec7145bbdb7830c0c49,ceph-reweight-actions,reweight.py,,288,0
openstack%2Fpython-mistralclient~master~I81b5f715cc7b18becad777b09c371d2a2c9773f6,openstack/python-mistralclient,master,I81b5f715cc7b18becad777b09c371d2a2c9773f6,Modify the url of upper_constraints_file,MERGED,2019-06-18 01:50:14.000000000,2019-06-18 05:53:38.000000000,2019-06-18 05:53:37.000000000,"[{'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 27008}]","[{'number': 1, 'created': '2019-06-18 01:50:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/d3d529f952ffd6820da04b70e25d0296c9cdd9d7', 'message': 'Modify the url of upper_constraints_file\n\nDepends-On: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I81b5f715cc7b18becad777b09c371d2a2c9773f6\n'}]",0,665840,d3d529f952ffd6820da04b70e25d0296c9cdd9d7,7,7,1,27822,,,0,"Modify the url of upper_constraints_file

Depends-On: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I81b5f715cc7b18becad777b09c371d2a2c9773f6
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/40/665840/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d3d529f952ffd6820da04b70e25d0296c9cdd9d7,Bug#4, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},3,3
openstack%2Fironic~master~I34569806c3d34628b688661a3796e8d9b394135c,openstack/ironic,master,I34569806c3d34628b688661a3796e8d9b394135c,redfish: handle missing Bios attribute,MERGED,2019-06-13 09:50:28.000000000,2019-06-18 05:48:39.000000000,2019-06-17 15:53:34.000000000,"[{'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-06-13 09:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a0073bf70b854e55f6f3a1cdcd1f003078c46c1b', 'message': '[WIP] redfish: handle missing Bios attribute\n\nChange-Id: I34569806c3d34628b688661a3796e8d9b394135c\n'}, {'number': 2, 'created': '2019-06-14 10:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f1bd9fa77514326269c08b30abd9a454914d2075', 'message': ""redfish: handle missing Bios attribute\n\nCurrently we log tracebacks on cleaning if a System doesn't have\na Bios attribute (seems the case for some Seamicro systems). This\npatch turns it into a warning and provides correct handling of\nsuch cases in other BIOS calls.\n\nAlso cleans up mocking in the BIOS tests since the current approach\ncan yield surprising results with error inheritance.\n\nChange-Id: I34569806c3d34628b688661a3796e8d9b394135c\n""}, {'number': 3, 'created': '2019-06-14 10:25:00.000000000', 'files': ['ironic/drivers/modules/redfish/bios.py', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'releasenotes/notes/cleaning-bios-d74a4947d2525b80.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_bios.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/46884deba3c271b7aae493729635b3c84343d55f', 'message': ""redfish: handle missing Bios attribute\n\nCurrently we log tracebacks on cleaning if a System doesn't have\na Bios attribute (seems the case for some Seamicro systems). This\npatch turns it into a warning and provides correct handling of\nsuch cases in other BIOS calls.\n\nAlso cleans up mocking in the BIOS tests since the current approach\ncan yield surprising results with error inheritance.\n\nChange-Id: I34569806c3d34628b688661a3796e8d9b394135c\n""}]",12,665100,46884deba3c271b7aae493729635b3c84343d55f,31,9,3,10239,,,0,"redfish: handle missing Bios attribute

Currently we log tracebacks on cleaning if a System doesn't have
a Bios attribute (seems the case for some Seamicro systems). This
patch turns it into a warning and provides correct handling of
such cases in other BIOS calls.

Also cleans up mocking in the BIOS tests since the current approach
can yield surprising results with error inheritance.

Change-Id: I34569806c3d34628b688661a3796e8d9b394135c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/00/665100/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/bios.py', 'ironic/conductor/manager.py']",2,a0073bf70b854e55f6f3a1cdcd1f003078c46c1b,sushy-bios," except exception.UnsupportedDriverExtension: LOG.warning('BIOS settings are not supported for node %s, ' 'skipping', task.node.uuid) # TODO(zshi) remove this check when classic drivers are removed except Exception:", # TODO(zshi) remove this check when classic drivers are removed except Exception as e:,25,6
openstack%2Fironic-python-agent~master~I6a3015b2d8d09f6f48b5cbd39dc84bd75b72f909,openstack/ironic-python-agent,master,I6a3015b2d8d09f6f48b5cbd39dc84bd75b72f909,"Stop logging lshw output, collect it with other logs instead",MERGED,2019-06-17 09:42:49.000000000,2019-06-18 05:46:13.000000000,2019-06-18 02:54:45.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-17 09:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9f96e1ed48f0d05c3d55fd8d3174b225e2dda766', 'message': 'Stop logging lshw output, collect it with other logs instead\n\nThe lshw output is huge even on virtual machines, and it pollutes\nthe debug logging. This change silences it. Instead, the lshw output\nis collected as part of the ramdisk logs.\n\nChange-Id: I6a3015b2d8d09f6f48b5cbd39dc84bd75b72f909\n'}, {'number': 2, 'created': '2019-06-17 12:00:54.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/lshw-cb89894be057bdc9.yaml', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/94048fe97e93af3ad6902c3c1aa4ec5d92b41747', 'message': 'Stop logging lshw output, collect it with other logs instead\n\nThe lshw output is huge even on virtual machines, and it pollutes\nthe debug logging. This change silences it. Instead, the lshw output\nis collected as part of the ramdisk logs.\n\nDepends-On: https://review.opendev.org/#/c/665635/\nChange-Id: I6a3015b2d8d09f6f48b5cbd39dc84bd75b72f909\n'}]",0,665628,94048fe97e93af3ad6902c3c1aa4ec5d92b41747,12,3,2,10239,,,0,"Stop logging lshw output, collect it with other logs instead

The lshw output is huge even on virtual machines, and it pollutes
the debug logging. This change silences it. Instead, the lshw output
is collected as part of the ramdisk logs.

Depends-On: https://review.opendev.org/#/c/665635/
Change-Id: I6a3015b2d8d09f6f48b5cbd39dc84bd75b72f909
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/28/665628/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/lshw-cb89894be057bdc9.yaml', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py']",4,9f96e1ed48f0d05c3d55fd8d3174b225e2dda766,lshw," 'lshw': ['lshw', '-quiet', '-json'],",,13,5
openstack%2Frequirements~master~If37d9757a39e8af88fe4ea5c893fe7c48cdcca0b,openstack/requirements,master,If37d9757a39e8af88fe4ea5c893fe7c48cdcca0b,update constraint for ironic-lib to new release 2.18.0,MERGED,2019-06-17 00:59:24.000000000,2019-06-18 05:37:27.000000000,2019-06-18 05:37:27.000000000,"[{'_account_id': 6593}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 00:59:24.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/26cffd77b4919fbe26719fec19bba0880ec73a84', 'message': 'update constraint for ironic-lib to new release 2.18.0\n\nChange-Id: If37d9757a39e8af88fe4ea5c893fe7c48cdcca0b\nmeta:version: 2.18.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Change-Id: Ia3492fc4abc8d2ef5fc17c29d55e007655745967\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>\n'}]",0,665565,26cffd77b4919fbe26719fec19bba0880ec73a84,13,3,1,11131,,,0,"update constraint for ironic-lib to new release 2.18.0

Change-Id: If37d9757a39e8af88fe4ea5c893fe7c48cdcca0b
meta:version: 2.18.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Change-Id: Ia3492fc4abc8d2ef5fc17c29d55e007655745967
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/65/665565/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,26cffd77b4919fbe26719fec19bba0880ec73a84,new-release,ironic-lib===2.18.0,ironic-lib===2.17.1,1,1
openstack%2Fopenstack-helm-infra~master~I34e6579f41a319656b6d8a8790e0656e6c02290a,openstack/openstack-helm-infra,master,I34e6579f41a319656b6d8a8790e0656e6c02290a,EFK collects syslog,ABANDONED,2018-06-11 10:02:00.000000000,2019-06-18 05:22:57.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 26931}]","[{'number': 1, 'created': '2018-06-11 10:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b04927e8ea25d9d99fda5282675b6b62ab33a8c0', 'message': ""WIP: EFK collects syslog\n\nThis ps add the ability to gether the syslog on EFK(fluent-logging)\nIt collects the syslog from ubuntu or centos based on the format 'rfc3164'.\nIt also generate new type for the syslog on Elasticsearch.\n\nChange-Id: I34e6579f41a319656b6d8a8790e0656e6c02290a\n""}, {'number': 2, 'created': '2018-06-11 11:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5207db6d32e0d60d066f87b52d0c4a5124d2fa6b', 'message': ""WIP: EFK collects syslog\n\nThis ps add the ability to gether the syslog on EFK(fluent-logging)\nIt collects the syslog from ubuntu or centos based on the format 'rfc3164'.\nIt also generate new type for the syslog on Elasticsearch.\n\nChange-Id: I34e6579f41a319656b6d8a8790e0656e6c02290a\n""}, {'number': 3, 'created': '2018-06-15 10:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/acf1967185611986e8f2cba14f0214d6be039f99', 'message': ""EFK collects syslog\n\nThis ps add the ability to gether the syslog on EFK(fluent-logging)\nIt collects the syslog from ubuntu or centos based on the format 'rfc3164'.\nIt also generate new type for the syslog on Elasticsearch.\n\nChange-Id: I34e6579f41a319656b6d8a8790e0656e6c02290a\n""}, {'number': 4, 'created': '2018-10-08 07:01:55.000000000', 'files': ['fluent-logging/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3daf1e5e4677d37c61b6fe5ea750d9952d9abcdd', 'message': ""EFK collects syslog\n\nThis ps add the ability to gether the syslog on EFK(fluent-logging)\nIt collects the syslog from ubuntu or centos based on the format 'rfc3164'.\nIt also generate new type for the syslog on Elasticsearch.\n\nChange-Id: I34e6579f41a319656b6d8a8790e0656e6c02290a\n""}]",12,574197,3daf1e5e4677d37c61b6fe5ea750d9952d9abcdd,14,3,4,26931,,,0,"EFK collects syslog

This ps add the ability to gether the syslog on EFK(fluent-logging)
It collects the syslog from ubuntu or centos based on the format 'rfc3164'.
It also generate new type for the syslog on Elasticsearch.

Change-Id: I34e6579f41a319656b6d8a8790e0656e6c02290a
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/97/574197/4 && git format-patch -1 --stdout FETCH_HEAD,['fluent-logging/values.yaml'],1,b04927e8ea25d9d99fda5282675b6b62ab33a8c0,syslog," fluentbit: docker.io/fluent/fluent-bit:0.12.17 - syslog_tail: header: input Name: tail Tag: syslog Path: /var/log/syslog Parser: syslog DB: /var/log/flb_kube.db Mem_Buf_Limit: 5MB - syslog_tail: header: input Name: tail Tag: syslog.* Path: /var/log/messages Parser: syslog DB: /var/log/flb_kube.db Mem_Buf_Limit: 5MB - syslog-parser: header: parser Name: syslog Format: regex Regex: '^(?<time>.*[0-9]{2}:[0-9]{2}:[0-9]{2}) (?<host>[^ ]+) (?<module>[^ ]+): (?<log>.+)$' Time_Key: time Time_Format: '%b %e %H:%M:%S' Time_Keep: On - container_elasticsearch: expression: ""kube.**"" type_name: container - syslog_elasticsearch: header: match type: elasticsearch user: ""#{ENV['ELASTICSEARCH_USERNAME']}"" password: ""#{ENV['ELASTICSEARCH_PASSWORD']}"" expression: ""syslog.**"" include_tag_key: true host: ""#{ENV['ELASTICSEARCH_HOST']}"" port: ""#{ENV['ELASTICSEARCH_PORT']}"" logstash_format: true buffer_chunk_limit: 10M buffer_queue_limit: 32 flush_interval: 20s max_retry_wait: 300 disable_retry_limit: """" num_threads: 8 type_name: syslog syslog: properties: cluster: type: keyword index: false module: type: keyword index: false host: type: keyword index: false log: type: text container:"," fluentbit: docker.io/fluent/fluent-bit:0.12.14 - elasticsearch: expression: ""**"" type_name: fluent fluent:",59,5
openstack%2Fmistral-dashboard~master~I4361d3a59c33465db07e31eeee286a63950285ca,openstack/mistral-dashboard,master,I4361d3a59c33465db07e31eeee286a63950285ca,Modify the url of upper_constraints_file,MERGED,2019-06-18 01:39:32.000000000,2019-06-18 05:12:31.000000000,2019-06-18 05:12:31.000000000,"[{'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 27008}]","[{'number': 1, 'created': '2019-06-18 01:39:32.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/cbf3a8caa0d492f32ac9c57147fea7be210d6ffa', 'message': 'Modify the url of upper_constraints_file\n\nDepends-On: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I4361d3a59c33465db07e31eeee286a63950285ca\n'}]",0,665839,cbf3a8caa0d492f32ac9c57147fea7be210d6ffa,6,7,1,27822,,,0,"Modify the url of upper_constraints_file

Depends-On: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I4361d3a59c33465db07e31eeee286a63950285ca
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/39/665839/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cbf3a8caa0d492f32ac9c57147fea7be210d6ffa,Bug#1,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fneutron~master~Ied354e8242274c8eeb26909e29afbe6d41662bfc,openstack/neutron,master,Ied354e8242274c8eeb26909e29afbe6d41662bfc,Allow VM booting rally scenarios to time out,MERGED,2019-06-17 08:50:55.000000000,2019-06-18 05:10:32.000000000,2019-06-18 00:17:07.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-17 08:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/540ca1e25bfb52cd7f13813a317047161b9477f8', 'message': 'Allow VM booting rally scenarios to time out\n\nNot long ago we enabled a rally scenario booting VMs in the neutron gate\nso we can collect osprofiler reports about it. The rally scenario we\nre-used was only triggered by changes in the rally-openstack repo so I\ncould not collect data about its failure rate. Now that it\'s running\nfrequently in the neutron gate this scenario actually seems to be quite\nunstable (usually timing out while waiting for the VM to get to ACTIVE):\n\nhttp://logstash.openstack.org/#/dashboard/file/logstash.json?query=message:\\""rally.exceptions.TimeoutException: Rally tired waiting\\"" AND build_name:\\""neutron-rally-task\\"" AND voting:1&from=864000s\n\nSince we only want to run this scenario for the osprofiler report\nwe can get rid of the gate instability by allowing a 100% failure rate\nin the scenario SLA.\n\nChange-Id: Ied354e8242274c8eeb26909e29afbe6d41662bfc\nRelated-Change: https://review.opendev.org/662804\n'}, {'number': 2, 'created': '2019-06-17 11:59:54.000000000', 'files': ['rally-jobs/task-neutron.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7be9c10679dbc7a6426e4f0c17b86750b1d95a3b', 'message': 'Allow VM booting rally scenarios to time out\n\nNot long ago we enabled a rally scenario booting VMs in the neutron gate\nso we can collect osprofiler reports about it. The rally scenario we\nre-used was only triggered by changes in the rally-openstack repo so I\ncould not collect data about its failure rate. Now that it\'s running\nfrequently in the neutron gate this scenario actually seems to be quite\nunstable (usually timing out while waiting for the VM to get to ACTIVE):\n\nhttp://logstash.openstack.org/#/dashboard/file/logstash.json?query=message:\\""rally.exceptions.TimeoutException: Rally tired waiting\\"" AND build_name:\\""neutron-rally-task\\"" AND voting:1&from=864000s\n\nSince we only want to run this scenario for the osprofiler report\nwe can get rid of the gate instability by allowing a 100% failure rate\nin the scenario SLA.\n\nChange-Id: Ied354e8242274c8eeb26909e29afbe6d41662bfc\nRelated-Change: https://review.opendev.org/662804\n'}]",2,665614,7be9c10679dbc7a6426e4f0c17b86750b1d95a3b,22,8,2,15554,,,0,"Allow VM booting rally scenarios to time out

Not long ago we enabled a rally scenario booting VMs in the neutron gate
so we can collect osprofiler reports about it. The rally scenario we
re-used was only triggered by changes in the rally-openstack repo so I
could not collect data about its failure rate. Now that it's running
frequently in the neutron gate this scenario actually seems to be quite
unstable (usually timing out while waiting for the VM to get to ACTIVE):

http://logstash.openstack.org/#/dashboard/file/logstash.json?query=message:\""rally.exceptions.TimeoutException: Rally tired waiting\"" AND build_name:\""neutron-rally-task\"" AND voting:1&from=864000s

Since we only want to run this scenario for the osprofiler report
we can get rid of the gate instability by allowing a 100% failure rate
in the scenario SLA.

Change-Id: Ied354e8242274c8eeb26909e29afbe6d41662bfc
Related-Change: https://review.opendev.org/662804
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/665614/1 && git format-patch -1 --stdout FETCH_HEAD,['rally-jobs/task-neutron.yaml'],1,540ca1e25bfb52cd7f13813a317047161b9477f8,rally-bind, sla: failure_rate: max: 100,,3,0
openstack%2Fwatcher~master~Id0f872e916aaa5dec59ed1ae6c0f653553b3fe46,openstack/watcher,master,Id0f872e916aaa5dec59ed1ae6c0f653553b3fe46,Replace removed exceptions and prevent regression,MERGED,2019-06-12 08:35:54.000000000,2019-06-18 05:04:24.000000000,2019-06-18 05:04:24.000000000,"[{'_account_id': 6873}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-06-12 08:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/74095ee64586eb54b1eafe0835b002918b9b44d8', 'message': 'Replace removed exceptions and prevent regression\n\nReplaces the NoSuchMetric exception that was replaced. The exception\nis replaced with MetricNotAvailable and test cases are added to prevent\nregression.\n\nThe changes in the exceptions were introduced in:\nhttps://review.opendev.org/#/c/658127/\n\nChange-Id: Id0f872e916aaa5dec59ed1ae6c0f653553b3fe46\n'}, {'number': 2, 'created': '2019-06-14 20:00:53.000000000', 'files': ['watcher/tests/datasources/test_ceilometer_helper.py', 'watcher/tests/datasources/test_gnocchi_helper.py', 'watcher/datasources/ceilometer.py', 'watcher/datasources/gnocchi.py', 'watcher/tests/datasources/test_monasca_helper.py', 'watcher/datasources/monasca.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/15754a14ddd8bda6d1777d5c32d1e2570afaf325', 'message': 'Replace removed exceptions and prevent regression\n\nReplaces the NoSuchMetric exception that was replaced. The exception\nis replaced with MetricNotAvailable and test cases are added to prevent\nregression.\n\nThe changes in the exceptions were introduced in:\nhttps://review.opendev.org/#/c/658127/\n\nChange-Id: Id0f872e916aaa5dec59ed1ae6c0f653553b3fe46\n'}]",2,664827,15754a14ddd8bda6d1777d5c32d1e2570afaf325,11,5,2,29911,,,0,"Replace removed exceptions and prevent regression

Replaces the NoSuchMetric exception that was replaced. The exception
is replaced with MetricNotAvailable and test cases are added to prevent
regression.

The changes in the exceptions were introduced in:
https://review.opendev.org/#/c/658127/

Change-Id: Id0f872e916aaa5dec59ed1ae6c0f653553b3fe46
",git fetch https://review.opendev.org/openstack/watcher refs/changes/27/664827/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/tests/datasources/test_ceilometer_helper.py', 'watcher/tests/datasources/test_gnocchi_helper.py', 'watcher/datasources/ceilometer.py', 'watcher/datasources/gnocchi.py', 'watcher/tests/datasources/test_monasca_helper.py', 'watcher/datasources/monasca.py']",6,74095ee64586eb54b1eafe0835b002918b9b44d8,fix-none-existing-metric, raise exception.MetricNotAvailable(metric=meter_name), raise exception.NoSuchMetric(),73,3
openstack%2Fproject-config~master~I1728359788f818f2b3c5b5942f6f63bbff4c02d9,openstack/project-config,master,I1728359788f818f2b3c5b5942f6f63bbff4c02d9,Add airship/election,MERGED,2019-06-11 17:23:42.000000000,2019-06-18 04:44:32.000000000,2019-06-18 04:44:32.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2019-06-11 17:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fa6721e0dd4308f09bbb8e326b6f31f16e5d341f', 'message': 'Add airship/election\n\nThis adds the Airship Election documentation project, which\nis modeled after the StarlingX and OpenStack Election projects.\n\nChange-Id: I1728359788f818f2b3c5b5942f6f63bbff4c02d9\n'}, {'number': 2, 'created': '2019-06-11 19:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b4962d22615739be03179c244fe6158796001fc2', 'message': 'Add airship/election\n\nThis adds the Airship Election documentation project, which\nis modeled after the StarlingX and OpenStack Election projects.\n\nChange-Id: I1728359788f818f2b3c5b5942f6f63bbff4c02d9\n'}, {'number': 3, 'created': '2019-06-13 16:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/bbec825895f86a99174b1174c125d6a53ee90084', 'message': 'Add airship/election\n\nThis adds the Airship Election documentation project, which\nis modeled after the StarlingX and OpenStack Election projects.\n\nChange-Id: I1728359788f818f2b3c5b5942f6f63bbff4c02d9\n'}, {'number': 4, 'created': '2019-06-17 14:41:52.000000000', 'files': ['zuul/main.yaml', 'gerrit/acls/airship/election.config', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f82147cde8ecff6f9fa0a527ed63c016dbb47c49', 'message': 'Add airship/election\n\nThis adds the Airship Election documentation project, which\nis modeled after the StarlingX and OpenStack Election projects.\n\nChange-Id: I1728359788f818f2b3c5b5942f6f63bbff4c02d9\n'}]",0,664641,f82147cde8ecff6f9fa0a527ed63c016dbb47c49,17,4,4,22477,,,0,"Add airship/election

This adds the Airship Election documentation project, which
is modeled after the StarlingX and OpenStack Election projects.

Change-Id: I1728359788f818f2b3c5b5942f6f63bbff4c02d9
",git fetch https://review.opendev.org/openstack/project-config refs/changes/41/664641/4 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/airship/election.config', 'gerrit/projects.yaml']",2,fa6721e0dd4308f09bbb8e326b6f31f16e5d341f,add-airship-election,- project: airship/election description: Airship election documentation upstream: https://github.com/mattmceuen/airship-election.git use-storyboard: true groups: - airship,,22,0
openstack%2Foslo.messaging~master~I047edac67699dd598f8dfd0f859b3772f6068bd3,openstack/oslo.messaging,master,I047edac67699dd598f8dfd0f859b3772f6068bd3,Download kafka from archive.apache.org,MERGED,2019-06-10 15:36:59.000000000,2019-06-18 04:37:26.000000000,2019-06-18 04:37:26.000000000,"[{'_account_id': 6928}, {'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 20523}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29364}]","[{'number': 1, 'created': '2019-06-10 15:36:59.000000000', 'files': ['doc/source/admin/kafka.rst', 'setup-test-env-kafka.sh'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/70b03bcf830972050276a7ed80e1205053534c7b', 'message': ""Download kafka from archive.apache.org\n\nIt seems that versions are deleted from www.apache.org pretty quickly.\nThey stick around longer on archive.apache.org so we won't have to\nbe constantly chasing the latest version in our functional tests.\n\nChange-Id: I047edac67699dd598f8dfd0f859b3772f6068bd3\n""}]",0,664275,70b03bcf830972050276a7ed80e1205053534c7b,21,7,1,6928,,,0,"Download kafka from archive.apache.org

It seems that versions are deleted from www.apache.org pretty quickly.
They stick around longer on archive.apache.org so we won't have to
be constantly chasing the latest version in our functional tests.

Change-Id: I047edac67699dd598f8dfd0f859b3772f6068bd3
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/75/664275/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/kafka.rst', 'setup-test-env-kafka.sh']",2,70b03bcf830972050276a7ed80e1205053534c7b,kafka-archive, wget http://archive.apache.org/dist/kafka/${KAFKA_VERSION}/$tarball -O $DATADIR/$tarball, wget http://www.apache.org/dist/kafka/${KAFKA_VERSION}/$tarball -O $DATADIR/$tarball,2,2
openstack%2Fneutron~master~I99d01d7bf29f236eff0f80d1ae8659f64ac55d39,openstack/neutron,master,I99d01d7bf29f236eff0f80d1ae8659f64ac55d39,DVR: on new port only send router update on port's host,MERGED,2019-06-11 08:34:45.000000000,2019-06-18 04:29:47.000000000,2019-06-17 22:10:41.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 7016}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29071}]","[{'number': 1, 'created': '2019-06-11 08:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6c7426fda2c5bca4875d31e05f0c8ac82a36630', 'message': ""DVR: on new port only send router update on port's host\n\nWhen new DVR serviceable port appears on new node we need\nto update node's l3 agent with all routers which have the\nport's subnets, including connected routers.\nWe don't need to update all nodes hosting these routers.\nIt costs us much as all l3 agents then go back to neutron server\nand request routers info for no good reason.\nThis was one of the main issues with DVR at scale fixed in Mitaka.\n\nChange-Id: I99d01d7bf29f236eff0f80d1ae8659f64ac55d39\nRelated-Bug: #1830456\n""}, {'number': 2, 'created': '2019-06-11 14:34:42.000000000', 'files': ['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/52529bc949acff9a3454abd44925342468064b78', 'message': ""DVR: on new port only send router update on port's host\n\nWhen new DVR serviceable port appears on new node we need\nto update node's l3 agent with all routers which have the\nport's subnets, including connected routers.\nWe don't need to update all nodes hosting these routers.\nIt costs us much as all l3 agents then go back to neutron server\nand request routers info for no good reason.\nThis was one of the main issues with DVR at scale fixed in Mitaka.\n\nChange-Id: I99d01d7bf29f236eff0f80d1ae8659f64ac55d39\nRelated-Bug: #1830456\n""}]",3,664525,52529bc949acff9a3454abd44925342468064b78,22,12,2,5948,,,0,"DVR: on new port only send router update on port's host

When new DVR serviceable port appears on new node we need
to update node's l3 agent with all routers which have the
port's subnets, including connected routers.
We don't need to update all nodes hosting these routers.
It costs us much as all l3 agents then go back to neutron server
and request routers info for no good reason.
This was one of the main issues with DVR at scale fixed in Mitaka.

Change-Id: I99d01d7bf29f236eff0f80d1ae8659f64ac55d39
Related-Bug: #1830456
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/664525/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py']",3,d6c7426fda2c5bca4875d31e05f0c8ac82a36630,bug/1830456," 2, l3_notifier.routers_updated_on_host.call_count)"," mock.call(self.context, mock.ANY, HOST1), 3, l3_notifier.routers_updated_on_host.call_count) mock.call(self.context, mock.ANY, HOST1),",14,32
openstack%2Fmonasca-specs~master~Ib0e2ad2e4789fc4c7cee33c91485aba644571b72,openstack/monasca-specs,master,Ib0e2ad2e4789fc4c7cee33c91485aba644571b72,Spec for Performance metrics of Python Persister,MERGED,2018-09-27 15:29:06.000000000,2019-06-18 04:09:57.000000000,2019-06-18 04:09:57.000000000,"[{'_account_id': 10311}, {'_account_id': 11934}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 24580}]","[{'number': 1, 'created': '2018-09-27 15:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/077d7120b38271f484f66fe420c49eff249abd4c', 'message': 'WIP Spec for Performance metrics of Python Persister\n\nSpecify the performance metrics that should be generated for\nthe Python version of the Monasca Persister to be consistent\nwith the perf metrics that were generated from the Java version.\n\nChange-Id: Ib0e2ad2e4789fc4c7cee33c91485aba644571b72\n'}, {'number': 2, 'created': '2018-11-06 18:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/fa2cc1e30c31fa619d4909e8e3a1fa7d0e4d4252', 'message': 'Spec for Performance metrics of Python Persister\n\nSpecify the performance metrics that should be generated for\nthe Python version of the Monasca Persister to be consistent\nwith the perf metrics that were generated from the Java version.\n\nChange-Id: Ib0e2ad2e4789fc4c7cee33c91485aba644571b72\n'}, {'number': 3, 'created': '2018-11-08 19:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/a9275bc5155dc6693280e530f5c40b75494662a6', 'message': 'Spec for Performance metrics of Python Persister\n\nSpecify the performance metrics that should be generated for\nthe Python version of the Monasca Persister to be consistent\nwith the perf metrics that were generated from the Java version.\n\nStory: 2001576\nTask: 6525\n\nChange-Id: Ib0e2ad2e4789fc4c7cee33c91485aba644571b72\n'}, {'number': 4, 'created': '2019-05-21 16:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/a7e30d1a30b42d01cee5076ec1f4f601f0161ddc', 'message': 'Spec for Performance metrics of Python Persister\n\nSpecify the performance metrics that should be generated for\nthe Python version of the Monasca Persister to be consistent\nwith the perf metrics that were generated from the Java version.\n\nStory: 2001576\nTask: 6525\n\nChange-Id: Ib0e2ad2e4789fc4c7cee33c91485aba644571b72\n'}, {'number': 5, 'created': '2019-05-22 09:15:16.000000000', 'files': ['specs/rocky/approved/python-persister-metrics.rst'], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/b4f73f3abc51ab01e256cf21432acb95f3540575', 'message': 'Spec for Performance metrics of Python Persister\n\nSpecify the performance metrics that should be generated for\nthe Python version of the Monasca Persister to be consistent\nwith the perf metrics that were generated from the Java version.\n\nStory: 2001576\nTask: 6525\n\nChange-Id: Ib0e2ad2e4789fc4c7cee33c91485aba644571b72\n'}]",0,605782,b4f73f3abc51ab01e256cf21432acb95f3540575,20,7,5,10311,,,0,"Spec for Performance metrics of Python Persister

Specify the performance metrics that should be generated for
the Python version of the Monasca Persister to be consistent
with the perf metrics that were generated from the Java version.

Story: 2001576
Task: 6525

Change-Id: Ib0e2ad2e4789fc4c7cee33c91485aba644571b72
",git fetch https://review.opendev.org/openstack/monasca-specs refs/changes/82/605782/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/approved/python-persister-metrics.rst'],1,077d7120b38271f484f66fe420c49eff249abd4c,python-persist-perf,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================================================== Python Persister Performance Metrics Collection (WIP) ===================================================== Story board: https://storyboard.openstack.org/#!/story/2001576 This defines the list of measurements for the metric upsert processing time and throughput in Python Persister and provides a rest api to retrieve those measurements. Problem description =================== The Java Persister, built on top of the DropWizard framework, provides a list of internal performance related metrics, e.g., the total number of metric messages that have been processed since the last service start up, the average, min and max metric processing time etc. The Python Persister, on the other hand, lacks such instrumentation. This presents a challenge to the operator who wants to monitor, triage, and tune the Persister performance and to the Persister performance testing tool that was introduced in Queens release. The Cassandra Python Persister plugin depends on this feature for performance tuning. Use Cases --------- - Use case 1: The developer instruments the defined performance metrics. There are two approaches towards the internal performance metrics. The first approach is in memory metering similar to the Java implementation. The data collection starts when the Persister service starts up and is not persisted through service restart. The second approach is to treat such measurement exactly the same as the ""normal"" metrics Monasca collects. The advantage is that such metrics will be persisted and rest apis are already available to retrieve the metrics. The list of Persister metrics includes: 1. Total number of metrics upsert request received and completed on a given Persister service instance in the given period of time 2. Total number of metrics upsert request received and completed on a process or thread in a given period of time (P2) 3. The average, min, max metric request processing time in a given period of time for a given Persister service instance and process/thread. - Use case 2: Retrieves persister performance metrics through rest api. The performance metrics can be retrieved using the list metrics api in the Monasca API service. Proposed change =============== 1. Monasca Persister - Python Persister integrates with monasca-statsd to send count and timer metrics - Persister conf to add properties for statsd 2. Persister performance benchmark tool adds support to retrieve the metrics from Monasca rest api source in addition to the DropWizard admin api. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Other end user impact --------------------- None Performance Impact ------------------ TBD, The statsd call to update counter and timer is expected to have small performance impact. Other deployer impact --------------------- No change in deployment of the services. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Contributors are welcome! Primary assignee: jgu Other contributors: Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ None Testing ======= Please discuss the important scenarios needed to test here, as well as specific edge cases we should be ensuring work correctly. For each scenario please specify if this requires specialized hardware, a full openstack environment, or can be simulated inside the Monasca tree. Please discuss how the change will be tested. We especially want to know what tempest tests will be added. It is assumed that unit test coverage will be added so that doesn't need to be mentioned explicitly, but discussion of why you think unit tests are sufficient and we don't need to add more tempest tests would need to be included. Is this untestable in gate given current limitations (specific hardware / software configurations available)? If so, are there mitigation plans (3rd party testing, gate enhancements, etc). Documentation Impact ==================== Which audiences are affected most by this change, and which documentation titles on docs.openstack.org should be updated because of this change? Don't repeat details discussed above, but reference them here in the context of documentation for multiple audiences. For example, the Operations Guide targets cloud operators, and the End User Guide would need to be updated if the change offers a new feature available through the CLI or dashboard. If a config option changes or is deprecated, note here that the documentation needs to be updated to reflect this specification's change. References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. Examples of what you could include are: * Links to mailing list or IRC discussions * Links to notes from a summit session * Links to relevant research, if appropriate * Related specifications as appropriate (e.g. if it's an EC2 thing, link the EC2 docs) * Anything else you feel it is worthwhile to refer to History ======= Optional section intended to be used each time the spec is updated to describe new design, API or any database schema updated. Useful to let reader understand what's happened along the time. .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Queens - Introduced ",,199,0
openstack%2Fcookbook-openstack-dns~master~I4411e69c78e0ef41e271eee15caaafbe2eb4b7c1,openstack/cookbook-openstack-dns,master,I4411e69c78e0ef41e271eee15caaafbe2eb4b7c1,Drop auth version attribute,MERGED,2019-06-14 23:32:26.000000000,2019-06-18 04:04:44.000000000,2019-06-18 04:04:44.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-14 23:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dns/commit/6d2093f4847bc14a1b30b0a05e00a88182c7cba8', 'message': 'Drop auth version attribute\n\nThis is not even used anymore and is causing issues downstream for testing since\nit was removed in openstack-common.\n\nChange-Id: I4411e69c78e0ef41e271eee15caaafbe2eb4b7c1\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 2, 'created': '2019-06-16 02:00:31.000000000', 'files': ['attributes/default.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dns/commit/b5114fbe2f8db288d3366e08a641ef52544b7fbd', 'message': 'Drop auth version attribute\n\nThis is not even used anymore and is causing issues downstream for testing since\nit was removed in openstack-common.\n\nChange-Id: I4411e69c78e0ef41e271eee15caaafbe2eb4b7c1\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,665496,b5114fbe2f8db288d3366e08a641ef52544b7fbd,8,2,2,21961,,,0,"Drop auth version attribute

This is not even used anymore and is causing issues downstream for testing since
it was removed in openstack-common.

Change-Id: I4411e69c78e0ef41e271eee15caaafbe2eb4b7c1
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-dns refs/changes/96/665496/1 && git format-patch -1 --stdout FETCH_HEAD,['attributes/default.rb'],1,6d2093f4847bc14a1b30b0a05e00a88182c7cba8,drop/auth-version-attr,,default['openstack']['dns']['api']['auth']['version'] = node['openstack']['api']['auth']['version'] ,0,2
openstack%2Ffreezer-tempest-plugin~master~Ic72e9f306e7f24f10e17bc54770112f64e93a786,openstack/freezer-tempest-plugin,master,Ic72e9f306e7f24f10e17bc54770112f64e93a786,Add glance backup and restore tempest test,MERGED,2019-06-15 03:36:44.000000000,2019-06-18 03:59:49.000000000,2019-06-18 03:59:49.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-15 03:36:44.000000000', 'files': ['freezer_tempest_plugin/tests/freezer/scenario/test_backups.py'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/62b94eb53e9e29a048834e022b78bd083e7e4b9b', 'message': 'Add glance backup and restore tempest test\n\nThe patch add glance backup and restore tempest test for freezer\n\nChange-Id: Ic72e9f306e7f24f10e17bc54770112f64e93a786\n'}]",0,665501,62b94eb53e9e29a048834e022b78bd083e7e4b9b,6,2,1,21387,,,0,"Add glance backup and restore tempest test

The patch add glance backup and restore tempest test for freezer

Change-Id: Ic72e9f306e7f24f10e17bc54770112f64e93a786
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/01/665501/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_tempest_plugin/tests/freezer/scenario/test_backups.py'],1,62b94eb53e9e29a048834e022b78bd083e7e4b9b,addglancetempsettest," def test_glance_backup(self): backup_job = { ""client_id"": ""test_node"", ""job_actions"": [ { ""freezer_action"": { ""action"": ""backup"", ""mode"": ""glance"", ""storage"": ""local"", ""backup_name"": ""backup1"", ""path_to_backup"": self.source_tree.path, ""container"": ""/tmp/freezer_test/"", }, ""max_retries"": 3, ""max_retries_interval"": 60 } ], ""description"": ""a test glance backup"" } restore_job = { ""client_id"": ""test_node"", ""job_actions"": [ { ""freezer_action"": { ""action"": ""restore"", ""mode"": ""glance"", ""storage"": ""local"", ""restore_abs_path"": self.dest_tree.path, ""backup_name"": ""backup1"", ""container"": ""/tmp/freezer_test/"", }, ""max_retries"": 3, ""max_retries_interval"": 60 } ], ""description"": ""a test glance restore"" } backup_job_id = self.create_job(backup_job) self.cli.freezer_client(action='job-start', params=backup_job_id) self.wait_for_job_status(backup_job_id) self.assertJobColumnEqual(backup_job_id, JOB_TABLE_RESULT_COLUMN, 'success') restore_job_id = self.create_job(restore_job) self.wait_for_job_status(restore_job_id) self.assertJobColumnEqual(restore_job_id, JOB_TABLE_RESULT_COLUMN, 'success') self.assertTrue(self.source_tree.is_equal(self.dest_tree))",,51,0
openstack%2Fpython-freezerclient~master~I1e7bc34b3174d0b766afdc3aae8b9ce652ea0604,openstack/python-freezerclient,master,I1e7bc34b3174d0b766afdc3aae8b9ce652ea0604,Switch to the new canonical constraints URL on master,MERGED,2019-06-17 14:21:29.000000000,2019-06-18 03:42:45.000000000,2019-06-18 03:42:45.000000000,"[{'_account_id': 21069}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2019-06-17 14:21:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/caf1d35b847f31865723db5fd8a4db64f662fd7d', 'message': 'Switch to the new canonical constraints URL on master\n\nReference:\n1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I1e7bc34b3174d0b766afdc3aae8b9ce652ea0604\n'}]",0,665688,caf1d35b847f31865723db5fd8a4db64f662fd7d,6,4,1,28748,,,0,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I1e7bc34b3174d0b766afdc3aae8b9ce652ea0604
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/88/665688/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,caf1d35b847f31865723db5fd8a4db64f662fd7d,, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},2,2
openstack%2Freleases~master~Idb52215b52416565f451e16f9c39ceef7d094a53,openstack/releases,master,Idb52215b52416565f451e16f9c39ceef7d094a53,nova: release rocky 18.2.1,MERGED,2019-06-15 14:17:12.000000000,2019-06-18 03:36:15.000000000,2019-06-18 03:36:15.000000000,"[{'_account_id': 308}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-15 14:17:12.000000000', 'files': ['deliverables/rocky/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cc2a39263f965e67789cfccb07d892e49eb26e95', 'message': 'nova: release rocky 18.2.1\n\nChange-Id: Idb52215b52416565f451e16f9c39ceef7d094a53\n'}]",0,665514,cc2a39263f965e67789cfccb07d892e49eb26e95,7,3,1,6873,,,0,"nova: release rocky 18.2.1

Change-Id: Idb52215b52416565f451e16f9c39ceef7d094a53
",git fetch https://review.opendev.org/openstack/releases refs/changes/14/665514/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/nova.yaml'],1,cc2a39263f965e67789cfccb07d892e49eb26e95,nova-rocky-18.2.1, - projects: - hash: d8f1bef63ab4357af2105431d3ea367100518aa2 repo: openstack/nova version: 18.2.1,,4,0
openstack%2Fkeystone~master~Ib6ea0b62ad95335ed2d9b26687708cd664bf3648,openstack/keystone,master,Ib6ea0b62ad95335ed2d9b26687708cd664bf3648,Update the meaning of low-hanging-fruit,MERGED,2019-05-14 18:57:46.000000000,2019-06-18 03:32:31.000000000,2019-06-18 03:32:31.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-05-14 18:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/795f22f57d3d14dcd98916e1fd21346415c3eef0', 'message': ""Update the meaning of low-hanging-fruit\n\nDuring the Stein PTG, the team discussed ways to better engage\nnewcomers and folks who don't have fulltime responsibility upstream.\nOne way we can do that is by doing a better job describing and\napplying `low-hanging-fruit` in bug triage.\n\nThis commit attempts to introduce consistency for that specific bug\ntag.\n\nChange-Id: Ib6ea0b62ad95335ed2d9b26687708cd664bf3648\n""}, {'number': 2, 'created': '2019-05-15 13:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/82348f2c50370bb08bccce68b045a038ed4903c2', 'message': ""Update the meaning of low-hanging-fruit\n\nDuring the Train PTG, the team discussed ways to better engage\nnewcomers and folks who don't have fulltime responsibility upstream.\nOne way we can do that is by doing a better job describing and\napplying `low-hanging-fruit` in bug triage.\n\nThis commit attempts to introduce consistency for that specific bug\ntag.\n\nChange-Id: Ib6ea0b62ad95335ed2d9b26687708cd664bf3648\n""}, {'number': 3, 'created': '2019-06-17 18:13:40.000000000', 'files': ['doc/source/contributor/how-can-i-help.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/dd30a88eb659aad6f4577a5401652160b27222b2', 'message': ""Update the meaning of low-hanging-fruit\n\nDuring the Train PTG, the team discussed ways to better engage\nnewcomers and folks who don't have fulltime responsibility upstream.\nOne way we can do that is by doing a better job describing and\napplying `low-hanging-fruit` in bug triage.\n\nThis commit attempts to introduce consistency for that specific bug\ntag.\n\nChange-Id: Ib6ea0b62ad95335ed2d9b26687708cd664bf3648\n""}]",5,659141,dd30a88eb659aad6f4577a5401652160b27222b2,18,6,3,5046,,,0,"Update the meaning of low-hanging-fruit

During the Train PTG, the team discussed ways to better engage
newcomers and folks who don't have fulltime responsibility upstream.
One way we can do that is by doing a better job describing and
applying `low-hanging-fruit` in bug triage.

This commit attempts to introduce consistency for that specific bug
tag.

Change-Id: Ib6ea0b62ad95335ed2d9b26687708cd664bf3648
",git fetch https://review.opendev.org/openstack/keystone refs/changes/41/659141/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/how-can-i-help.rst'],1,795f22f57d3d14dcd98916e1fd21346415c3eef0,," The Meaning of Low Hanging Fruit ================================ This section describes the intent behind bugs tagged as low hanging fruit. Current maintainers should apply the tag consistently while triaging bugs, using this document as a guide. This practice ensures newcomers to the project can expect each low hanging fruit bug to be of similar complexity. Bugs fit for the low hanging fruit tag: * Should require minimal python experience, someone new to OpenStack might also be new to Python * Should only require a basic understanding of the review workflow, complicated changesets with dependencies between repositories coupled with CI testing only raises the cognitive bar for newcomers * Can include documentation fixes so long it doesn't require an in-depth understanding of complicated subsystems and features (e.g., overhauling the federated identity guide) * Should be something a newcomer can progress through in a week or less, long wait times due to the discussion of complicated topics can deter new contributors from participating",,22,0
openstack%2Ftripleo-common~master~I75b64dca102a62c06c56327cf425451ae804e3b9,openstack/tripleo-common,master,I75b64dca102a62c06c56327cf425451ae804e3b9,Only update parameters once in backup workflow,MERGED,2018-12-06 11:27:11.000000000,2019-06-18 03:28:25.000000000,2018-12-13 17:52:56.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-12-06 11:27:11.000000000', 'files': ['workbooks/swift_backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e07dc79693ef1300a8b4cb900effe95314f18fac', 'message': ""Only update parameters once in backup workflow\n\nIn the swift backup workflow we create 2 parameters for temp URLs, but\nwe don't need to call parameters.update twice, just once with the two\nnew parameters.\n\nChange-Id: I75b64dca102a62c06c56327cf425451ae804e3b9\n""}]",0,623192,e07dc79693ef1300a8b4cb900effe95314f18fac,11,5,1,7385,,,0,"Only update parameters once in backup workflow

In the swift backup workflow we create 2 parameters for temp URLs, but
we don't need to call parameters.update twice, just once with the two
new parameters.

Change-Id: I75b64dca102a62c06c56327cf425451ae804e3b9
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/92/623192/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/swift_backup.yaml'],1,e07dc79693ef1300a8b4cb900effe95314f18fac,swift-param-tweak," on-success: put_tempurl on-success: set_tempurl set_tempurl: parameters: <% {$.get_url_parm => task(get_tempurl).result, $.put_url_parm => task(put_tempurl).result} %> on-error: set_tempurl_failed set_tempurl_failed: message: <% task(set_tempurl).result %>", on-success: set_get_tempurl set_get_tempurl: action: tripleo.parameters.update input: parameters: <% {$.get_url_parm => task(get_tempurl).result} %> container: <% $.container %> on-success: put_tempurl on-success: set_put_tempurl set_put_tempurl: parameters: <% {$.put_url_parm => task(put_tempurl).result} %> on-error: set_put_tempurl_failed set_put_tempurl_failed: message: <% task(set_put_tempurl).result %>,7,14
openstack%2Foslo-cookiecutter~master~Idf49aab9b262cbcc6c4c203f0a2a5429894c968f,openstack/oslo-cookiecutter,master,Idf49aab9b262cbcc6c4c203f0a2a5429894c968f,Default to python3 in tox testenvs,MERGED,2019-05-30 20:21:27.000000000,2019-06-18 03:20:33.000000000,2019-06-18 03:20:33.000000000,"[{'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 20:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/0609f7a59ef0f3bc147e8d3c17506c5434e3fc10', 'message': 'Default to python3 in tox testenvs\n\nOther than explicitly python2-based tests, we want to be using\nPython 3 for new projects.\n\nChange-Id: Idf49aab9b262cbcc6c4c203f0a2a5429894c968f\n'}, {'number': 2, 'created': '2019-05-31 17:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/5fbe39e153a61ec908dc78bf50c1ff767504f3de', 'message': 'Default to python3 in tox testenvs\n\nOther than explicitly python2-based tests, we want to be using\nPython 3 for new projects.\n\nChange-Id: Idf49aab9b262cbcc6c4c203f0a2a5429894c968f\n'}, {'number': 3, 'created': '2019-05-31 18:03:55.000000000', 'files': ['oslo.{{cookiecutter.module_name}}/tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/82fa7b2ca513c6c0d4b3015946f8339a8d27b4da', 'message': 'Default to python3 in tox testenvs\n\nOther than explicitly python2-based tests, we want to be using\nPython 3 for new projects.\n\nChange-Id: Idf49aab9b262cbcc6c4c203f0a2a5429894c968f\n'}]",0,662324,82fa7b2ca513c6c0d4b3015946f8339a8d27b4da,11,3,3,6928,,,0,"Default to python3 in tox testenvs

Other than explicitly python2-based tests, we want to be using
Python 3 for new projects.

Change-Id: Idf49aab9b262cbcc6c4c203f0a2a5429894c968f
",git fetch https://review.opendev.org/openstack/oslo-cookiecutter refs/changes/24/662324/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo.{{cookiecutter.module_name}}/tox.ini'],1,0609f7a59ef0f3bc147e8d3c17506c5434e3fc10,oslosphinx,"minversion = 3.1 envlist = py36,py27,pep8ignore_basepython_conflict = Truebasepython = python3","minversion = 1.8 envlist = py35,py27,pep8",4,2
openstack%2Foslo-cookiecutter~master~Ic3c048a2ea2e289085e40993927bbb25829804c3,openstack/oslo-cookiecutter,master,Ic3c048a2ea2e289085e40993927bbb25829804c3,Add lower-constraints job to tox,MERGED,2019-05-30 20:21:27.000000000,2019-06-18 03:20:32.000000000,2019-06-18 03:20:32.000000000,"[{'_account_id': 6928}, {'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 20:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/46cea519d7c12da08afca1dbddaf7f2912cb5f15', 'message': 'Add lower-constraints job to tox\n\nWe want to be running this on any new repos we create.\n\nChange-Id: Ic3c048a2ea2e289085e40993927bbb25829804c3\n'}, {'number': 2, 'created': '2019-05-31 17:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/92033f8845d25607bea55399857b40e0174fbfac', 'message': 'Add lower-constraints job to tox\n\nWe want to be running this on any new repos we create.\n\nChange-Id: Ic3c048a2ea2e289085e40993927bbb25829804c3\n'}, {'number': 3, 'created': '2019-05-31 18:03:55.000000000', 'files': ['oslo.{{cookiecutter.module_name}}/tox.ini', 'oslo.{{cookiecutter.module_name}}/lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/a2a6248e24fd35e9f6945b52b45c68e668dae073', 'message': 'Add lower-constraints job to tox\n\nWe want to be running this on any new repos we create.\n\nChange-Id: Ic3c048a2ea2e289085e40993927bbb25829804c3\n'}]",2,662323,a2a6248e24fd35e9f6945b52b45c68e668dae073,12,4,3,6928,,,0,"Add lower-constraints job to tox

We want to be running this on any new repos we create.

Change-Id: Ic3c048a2ea2e289085e40993927bbb25829804c3
",git fetch https://review.opendev.org/openstack/oslo-cookiecutter refs/changes/23/662323/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo.{{cookiecutter.module_name}}/tox.ini', 'oslo.{{cookiecutter.module_name}}/lower-constraints.txt']",2,46cea519d7c12da08afca1dbddaf7f2912cb5f15,oslosphinx,"# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later. Babel==1.3.0 hacking==0.10.0 oslotest==1.5.1 ",,13,0
openstack%2Foslo-cookiecutter~master~If60a49f6e760a573d8f65e973b1e596c3123f901,openstack/oslo-cookiecutter,master,If60a49f6e760a573d8f65e973b1e596c3123f901,Remove git.openstack.org references,MERGED,2019-05-30 20:21:27.000000000,2019-06-18 03:20:32.000000000,2019-06-18 03:20:32.000000000,"[{'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 20:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/8520158daa7c025c6ff94642e872739f779a9b09', 'message': 'Remove git.openstack.org references\n\nThis is particularly important for new projects as they may not have\nthe necessary redirects in place.\n\nChange-Id: If60a49f6e760a573d8f65e973b1e596c3123f901\n'}, {'number': 2, 'created': '2019-05-31 17:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/7b5aebbd1af175cbba5eea1afadee6f7d21b82f8', 'message': 'Remove git.openstack.org references\n\nThis is particularly important for new projects as they may not have\nthe necessary redirects in place.\n\nChange-Id: If60a49f6e760a573d8f65e973b1e596c3123f901\n'}, {'number': 3, 'created': '2019-05-31 18:03:55.000000000', 'files': ['README.rst', 'oslo.{{cookiecutter.module_name}}/README.rst'], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/c1ea4b8c3805b5722918d8df0c0a85bfd70de56e', 'message': 'Remove git.openstack.org references\n\nThis is particularly important for new projects as they may not have\nthe necessary redirects in place.\n\nChange-Id: If60a49f6e760a573d8f65e973b1e596c3123f901\n'}]",0,662322,c1ea4b8c3805b5722918d8df0c0a85bfd70de56e,11,3,3,6928,,,0,"Remove git.openstack.org references

This is particularly important for new projects as they may not have
the necessary redirects in place.

Change-Id: If60a49f6e760a573d8f65e973b1e596c3123f901
",git fetch https://review.opendev.org/openstack/oslo-cookiecutter refs/changes/22/662322/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'oslo.{{cookiecutter.module_name}}/README.rst']",2,8520158daa7c025c6ff94642e872739f779a9b09,oslosphinx,* Source: https://opendev.org/openstack/oslo.{{ cookiecutter.module_name }},* Source: https://git.openstack.org/cgit/openstack/oslo.{{ cookiecutter.module_name }},3,3
openstack%2Foslo-cookiecutter~master~I1415f66454d7394b6cadb5b0c9bb5b9666d10199,openstack/oslo-cookiecutter,master,I1415f66454d7394b6cadb5b0c9bb5b9666d10199,Move constraints from install_command to deps,MERGED,2019-05-30 20:21:27.000000000,2019-06-18 03:12:04.000000000,2019-06-18 03:12:04.000000000,"[{'_account_id': 6928}, {'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 20:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/5ba94c10855f8f4b0eae0ff3c24adf64d9c8b93a', 'message': ""Move constraints from install_command to deps\n\nIt's preferred not to have constraints in install_command as that\ncan cause problems with things like lower-constraints jobs which may\nend up with conflicting constraints files.\n\nAlso updates the location of the constraints file to the releases\naddress as recommended by the release team.\n\nChange-Id: I1415f66454d7394b6cadb5b0c9bb5b9666d10199\n""}, {'number': 2, 'created': '2019-05-31 17:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/b68c1af5c0bfcca25a796418c62ca738d8464df8', 'message': ""Move constraints from install_command to deps\n\nIt's preferred not to have constraints in install_command as that\ncan cause problems with things like lower-constraints jobs which may\nend up with conflicting constraints files.\n\nAlso updates the location of the constraints file to the releases\naddress as recommended by the release team.\n\nChange-Id: I1415f66454d7394b6cadb5b0c9bb5b9666d10199\n""}, {'number': 3, 'created': '2019-05-31 18:03:55.000000000', 'files': ['oslo.{{cookiecutter.module_name}}/tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/ad2ad7e9ea9182fc307b62f68ee62e971cb075d8', 'message': ""Move constraints from install_command to deps\n\nIt's preferred not to have constraints in install_command as that\ncan cause problems with things like lower-constraints jobs which may\nend up with conflicting constraints files. install_command is removed\nentirely as it is no longer necessary.\n\nAlso updates the location of the constraints file to the releases\naddress as recommended by the release team.\n\nChange-Id: I1415f66454d7394b6cadb5b0c9bb5b9666d10199\n""}]",2,662321,ad2ad7e9ea9182fc307b62f68ee62e971cb075d8,13,4,3,6928,,,0,"Move constraints from install_command to deps

It's preferred not to have constraints in install_command as that
can cause problems with things like lower-constraints jobs which may
end up with conflicting constraints files. install_command is removed
entirely as it is no longer necessary.

Also updates the location of the constraints file to the releases
address as recommended by the release team.

Change-Id: I1415f66454d7394b6cadb5b0c9bb5b9666d10199
",git fetch https://review.opendev.org/openstack/oslo-cookiecutter refs/changes/21/662321/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo.{{cookiecutter.module_name}}/tox.ini'],1,5ba94c10855f8f4b0eae0ff3c24adf64d9c8b93a,oslosphinx,install_command = pip install {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},2,1
openstack%2Fansible-role-tripleo-modify-image~master~I053ce25b7531fbec8bbca6dfb087acf13afcf511,openstack/ansible-role-tripleo-modify-image,master,I053ce25b7531fbec8bbca6dfb087acf13afcf511,dev_install: fetch git/gerrit from opendev,MERGED,2019-06-14 17:45:00.000000000,2019-06-18 02:52:50.000000000,2019-06-18 02:52:50.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-14 17:45:00.000000000', 'files': ['files/dev_install.sh'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/9f112a569307338e7e604a420fcbf90524c49fee', 'message': ""dev_install: fetch git/gerrit from opendev\n\nTo avoid warning about the redirection, let's use the new URL.\n\nChange-Id: I053ce25b7531fbec8bbca6dfb087acf13afcf511\n""}]",0,665440,9f112a569307338e7e604a420fcbf90524c49fee,11,4,1,3153,,,0,"dev_install: fetch git/gerrit from opendev

To avoid warning about the redirection, let's use the new URL.

Change-Id: I053ce25b7531fbec8bbca6dfb087acf13afcf511
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/40/665440/1 && git format-patch -1 --stdout FETCH_HEAD,['files/dev_install.sh'],1,9f112a569307338e7e604a420fcbf90524c49fee,opendev," git clone ""https://opendev.org/openstack/$PROJ_NAME"" git fetch ""https://review.opendev.org/openstack/$PROJ_NAME"" ""$REFSPEC"""," git clone ""https://git.openstack.org/openstack/$PROJ_NAME"" git fetch ""https://review.openstack.org/openstack/$PROJ_NAME"" ""$REFSPEC""",2,2
openstack%2Ftripleo-heat-templates~master~Ifd4bc4ce5618587c341ecbf37f82777ae6fc2f4a,openstack/tripleo-heat-templates,master,Ifd4bc4ce5618587c341ecbf37f82777ae6fc2f4a,Use ansible for HostsConfig,MERGED,2019-06-07 14:25:17.000000000,2019-06-18 02:35:22.000000000,2019-06-18 02:35:22.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-06-07 14:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a262c8011c027e2de9a0ac277328f7f7eada1ab', 'message': 'Use ansible for HostsConfig\n\nReplace the HostsConfig SoftwareDeployment with an ansible task.\n\nChange-Id: Ifd4bc4ce5618587c341ecbf37f82777ae6fc2f4a\n'}, {'number': 2, 'created': '2019-06-07 14:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f1dbec171dfee2f014d0406168cf1d948129ec45', 'message': 'Use ansible for HostsConfig\n\nReplace the HostsConfig SoftwareDeployment with an ansible task.\n\nimplements: blueprint reduce-deployment-resources\nChange-Id: Ifd4bc4ce5618587c341ecbf37f82777ae6fc2f4a\n'}, {'number': 3, 'created': '2019-06-10 17:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/936232c2e3736b1ba809a63cacd20052d1116040', 'message': 'Use ansible for HostsConfig\n\nReplace the HostsConfig SoftwareDeployment with an ansible task.\n\nimplements: blueprint reduce-deployment-resources\nChange-Id: Ifd4bc4ce5618587c341ecbf37f82777ae6fc2f4a\n'}, {'number': 4, 'created': '2019-06-11 18:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/27a452682232290154b58893268019eacca975f9', 'message': 'Use ansible for HostsConfig\n\nReplace the HostsConfig SoftwareDeployment with an ansible task.\n\nimplements: blueprint reduce-deployment-resources\nChange-Id: Ifd4bc4ce5618587c341ecbf37f82777ae6fc2f4a\n'}, {'number': 5, 'created': '2019-06-12 14:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/869cde88ac93b0a575f4aa9e44ff295180fb48b5', 'message': 'Use ansible for HostsConfig\n\nReplace the HostsConfig SoftwareDeployment with an ansible task.\n\nimplements: blueprint reduce-deployment-resources\nChange-Id: Ifd4bc4ce5618587c341ecbf37f82777ae6fc2f4a\n'}, {'number': 6, 'created': '2019-06-14 14:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3cef5dd55b236200c8a97e93713b5fa7b3750b81', 'message': 'Use ansible for HostsConfig\n\nReplace the HostsConfig SoftwareDeployment with an ansible task.\n\nimplements: blueprint reduce-deployment-resources\nChange-Id: Ifd4bc4ce5618587c341ecbf37f82777ae6fc2f4a\n'}, {'number': 7, 'created': '2019-06-14 15:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/834cb26ab93b5d87e79ae34c167e3d685ae66763', 'message': 'Use ansible for HostsConfig\n\nReplace the HostsConfig SoftwareDeployment with an ansible task.\n\nimplements: blueprint reduce-deployment-resources\nChange-Id: Ifd4bc4ce5618587c341ecbf37f82777ae6fc2f4a\n'}, {'number': 8, 'created': '2019-06-17 12:05:27.000000000', 'files': ['overcloud.j2.yaml', 'common/deploy-steps.j2', 'scripts/hosts-config.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/79d9113e5dc2e9c4645d7b523542fd21e5e277cf', 'message': 'Use ansible for HostsConfig\n\nReplace the HostsConfig SoftwareDeployment with an ansible task.\n\nimplements: blueprint reduce-deployment-resources\nChange-Id: Ifd4bc4ce5618587c341ecbf37f82777ae6fc2f4a\n'}]",1,663956,79d9113e5dc2e9c4645d7b523542fd21e5e277cf,40,6,8,7144,,,0,"Use ansible for HostsConfig

Replace the HostsConfig SoftwareDeployment with an ansible task.

implements: blueprint reduce-deployment-resources
Change-Id: Ifd4bc4ce5618587c341ecbf37f82777ae6fc2f4a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/663956/6 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'common/deploy-steps.j2', 'scripts/hosts-config.sh']",3,8a262c8011c027e2de9a0ac277328f7f7eada1ab,bp/reduce-deployment-resources,"hosts=""$HOSTS_ENTRY""","hosts=""WRITE_HOSTS""",27,17
openstack%2Fwatcher~master~Ic6c44ae44da7c3b9a1c20e9b24a036063af266ba,openstack/watcher,master,Ic6c44ae44da7c3b9a1c20e9b24a036063af266ba,Define a new InstanceNotMapped exception,MERGED,2019-06-06 06:43:45.000000000,2019-06-18 02:32:33.000000000,2019-06-18 02:32:33.000000000,"[{'_account_id': 6873}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}, {'_account_id': 30412}]","[{'number': 1, 'created': '2019-06-06 06:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/91be2532a9203607bd4385bb6aed7aa1c35dfc9e', 'message': 'Define a new InstanceNotMapped exception\n\nChange-Id: Ic6c44ae44da7c3b9a1c20e9b24a036063af266ba\n'}, {'number': 2, 'created': '2019-06-10 06:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/7764b56d0b27ebc0f2c53ffb2be5b4d9e797d978', 'message': ""Define a new InstanceNotMapped exception\n\nIn get_node_by_instance_uuid, an exception ComputeNodeNotFound\nwill be thrown if can't find a node through instance uuid.\nBut the exception information replaces the node name with\ninstance uuid, which is misleading, so we define a new exception.\n\nCloses-Bug: #1832156\n\nChange-Id: Ic6c44ae44da7c3b9a1c20e9b24a036063af266ba\n""}, {'number': 3, 'created': '2019-06-10 06:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/5806455c234208570d93b8ffb11874f22da99fb7', 'message': ""Define a new InstanceNotMapped exception\n\nIn get_node_by_instance_uuid, an exception ComputeNodeNotFound\nwill be thrown if can't find a node through instance uuid.\nBut the exception information replaces the node name with\ninstance uuid, which is misleading, so we define a new exception.\n\nCloses-Bug: #1832156\n\nChange-Id: Ic6c44ae44da7c3b9a1c20e9b24a036063af266ba\n""}, {'number': 4, 'created': '2019-06-12 07:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/de79d37a510d789fc05c8d9e1340d1980e2f1851', 'message': ""Define a new InstanceNotMapped exception\n\nIn get_node_by_instance_uuid, an exception ComputeNodeNotFound\nwill be thrown if can't find a node through instance uuid.\nBut the exception information replaces the node name with\ninstance uuid, which is misleading, so we define a new exception.\n\nCloses-Bug: #1832156\n\nChange-Id: Ic6c44ae44da7c3b9a1c20e9b24a036063af266ba\n""}, {'number': 5, 'created': '2019-06-14 02:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/8c7448a573eb15489edc7ab74683de31f4783326', 'message': ""Define a new InstanceNotMapped exception\n\nIn get_node_by_instance_uuid, an exception ComputeNodeNotFound\nwill be thrown if can't find a node through instance uuid.\nBut the exception information replaces the node name with\ninstance uuid, which is misleading, so we define a new exception.\n\nCloses-Bug: #1832156\n\nChange-Id: Ic6c44ae44da7c3b9a1c20e9b24a036063af266ba\n""}, {'number': 6, 'created': '2019-06-14 02:52:36.000000000', 'files': ['watcher/decision_engine/model/notification/nova.py', 'watcher/common/exception.py', 'watcher/decision_engine/model/model_root.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/a4d978b8932e00f149b4fe432b4ba912de3e498b', 'message': ""Define a new InstanceNotMapped exception\n\nIn get_node_by_instance_uuid, an exception ComputeNodeNotFound\nwill be thrown if can't find a node through instance uuid.\nBut the exception information replaces the node name with\ninstance uuid, which is misleading, so we define a new exception.\n\nCloses-Bug: #1832156\n\nChange-Id: Ic6c44ae44da7c3b9a1c20e9b24a036063af266ba\n""}]",19,663513,a4d978b8932e00f149b4fe432b4ba912de3e498b,24,6,6,21692,,,0,"Define a new InstanceNotMapped exception

In get_node_by_instance_uuid, an exception ComputeNodeNotFound
will be thrown if can't find a node through instance uuid.
But the exception information replaces the node name with
instance uuid, which is misleading, so we define a new exception.

Closes-Bug: #1832156

Change-Id: Ic6c44ae44da7c3b9a1c20e9b24a036063af266ba
",git fetch https://review.opendev.org/openstack/watcher refs/changes/13/663513/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/decision_engine/model/notification/nova.py', 'watcher/decision_engine/scope/compute.py', 'watcher/common/exception.py', 'watcher/decision_engine/model/model_root.py']",4,91be2532a9203607bd4385bb6aed7aa1c35dfc9e,bug/1832156," raise exception.InstanceNotMapped(uuid=instance_uuid) except (exception.InstanceNotFound, exception.InstanceNotMapped):"," raise exception.ComputeNodeNotFound(name=instance_uuid) except (exception.InstanceNotFound, exception.ComputeNodeNotFound):",9,4
openstack%2Fnova~master~I7c3e2b500b61a010d2f35a831ad5af6f0a3c03bc,openstack/nova,master,I7c3e2b500b61a010d2f35a831ad5af6f0a3c03bc,Set usb controller model of server which os_type is windows,ABANDONED,2018-12-02 10:15:03.000000000,2019-06-18 02:27:48.000000000,,"[{'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-12-02 10:15:03.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/objects/fields.py', 'nova/objects/image_meta.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/085daa5c4dc8adc63d1049a4c1a21e84f0fae3af', 'message': 'Set usb controller model of server which os_type is windows\n\nThe usb controller model not be set when booting a new server. The model default piix3-uhci, a kind of USB1.0 controller model. Server which os_type is windows cannot use USB2.0/3.0 interface in fact. Add hw_usb_model to image metadata, and set it to ehci or nec-xhci can use USB2.0/3.0 interface then.\n\nglance image-update \\\n       --property hw_usb_model = piix3-uhci/ehci/nec-xhci\\\n       [image]\n\nChange-Id: I7c3e2b500b61a010d2f35a831ad5af6f0a3c03bc\nSigned-off-by: wangyue_cmss <wangyue@cmss.chinamobile.com>\n'}]",1,621397,085daa5c4dc8adc63d1049a4c1a21e84f0fae3af,13,12,1,28971,,,0,"Set usb controller model of server which os_type is windows

The usb controller model not be set when booting a new server. The model default piix3-uhci, a kind of USB1.0 controller model. Server which os_type is windows cannot use USB2.0/3.0 interface in fact. Add hw_usb_model to image metadata, and set it to ehci or nec-xhci can use USB2.0/3.0 interface then.

glance image-update \
       --property hw_usb_model = piix3-uhci/ehci/nec-xhci\
       [image]

Change-Id: I7c3e2b500b61a010d2f35a831ad5af6f0a3c03bc
Signed-off-by: wangyue_cmss <wangyue@cmss.chinamobile.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/621397/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/objects/fields.py', 'nova/objects/image_meta.py']",3,085daa5c4dc8adc63d1049a4c1a21e84f0fae3af,," # name of the USB controller eg 'ehci', 'nec-xhci', etc 'hw_usb_model': fields.USBModelField(), ",,47,0
openstack%2Fos-vif~stable%2Fqueens~I8721b680bbd9f59a67bd8e6855ffb291c208cdb8,openstack/os-vif,stable/queens,I8721b680bbd9f59a67bd8e6855ffb291c208cdb8,"Prevent ""qbr"" Linux Bridge from replying to ARP messages",MERGED,2019-04-25 13:39:10.000000000,2019-06-18 01:52:16.000000000,2019-06-18 01:52:16.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 7730}, {'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 12898}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 25733}, {'_account_id': 27679}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-04-25 13:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/ed24a24f526252c81a86eadace000f2731c5a8f6', 'message': 'Prevent ""qbr"" Linux Bridge from replying to ARP messages\n\nThe Linux Bridge inbetween the VM TAP interface and OVS should [1][2]:\n- Reply only if the target IP address is local address configured\n  on the incoming interface.\n- Always use the best local address.\n\n[1]http://kb.linuxvirtualserver.org/wiki/Using_arp_announce/arp_ignore_to_disable_ARP\n[2]http://linux-ip.net/html/ether-arp.html#ether-arp-flux\n\nChange-Id: I8721b680bbd9f59a67bd8e6855ffb291c208cdb8\nCloses-Bug: #1825888\n(cherry picked from commit fe36b1d023624b3e283dcb0cfc915c8166faccfc)\n'}, {'number': 2, 'created': '2019-05-07 14:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/adeec26117a2e9ed501e4718638859ed169874f5', 'message': 'Prevent ""qbr"" Linux Bridge from replying to ARP messages\n\nThe Linux Bridge in between the VM TAP interface and OVS should [1][2]:\n- Reply only if the target IP address is local address configured\n  on the incoming interface.\n- Always use the best local address.\n\n[1]http://kb.linuxvirtualserver.org/wiki/Using_arp_announce/arp_ignore_to_disable_ARP\n[2]http://linux-ip.net/html/ether-arp.html#ether-arp-flux\n\nChange-Id: I8721b680bbd9f59a67bd8e6855ffb291c208cdb8\nCloses-Bug: #1825888\n(cherry picked from commit 9ad9b8483913a38345133120b04c4677fab9cb68)\n'}, {'number': 3, 'created': '2019-05-07 14:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/0a12fcfa5e9cea566bdbc87c626d39bc921cdbb0', 'message': 'Prevent ""qbr"" Linux Bridge from replying to ARP messages\n\nThe Linux Bridge in between the VM TAP interface and OVS should [1][2]:\n- Reply only if the target IP address is local address configured\n  on the incoming interface.\n- Always use the best local address.\n\n[1]http://kb.linuxvirtualserver.org/wiki/Using_arp_announce/arp_ignore_to_disable_ARP\n[2]http://linux-ip.net/html/ether-arp.html#ether-arp-flux\n\nChange-Id: I8721b680bbd9f59a67bd8e6855ffb291c208cdb8\nCloses-Bug: #1825888\n(cherry picked from commit 9ad9b8483913a38345133120b04c4677fab9cb68)\n'}, {'number': 4, 'created': '2019-05-08 09:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/a5ff42a418d9093b1e8b96d55900b0b1478ee524', 'message': 'Prevent ""qbr"" Linux Bridge from replying to ARP messages\n\nThe Linux Bridge in between the VM TAP interface and OVS should [1][2]:\n- Reply only if the target IP address is local address configured\n  on the incoming interface.\n- Always use the best local address.\n\n[1]http://kb.linuxvirtualserver.org/wiki/Using_arp_announce/arp_ignore_to_disable_ARP\n[2]http://linux-ip.net/html/ether-arp.html#ether-arp-flux\n\nChange-Id: I8721b680bbd9f59a67bd8e6855ffb291c208cdb8\nCloses-Bug: #1825888\n(cherry picked from commit 9ad9b8483913a38345133120b04c4677fab9cb68)\n'}, {'number': 5, 'created': '2019-05-13 08:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/c486cda8b36270516b414084917de620e10f0848', 'message': 'Prevent ""qbr"" Linux Bridge from replying to ARP messages\n\nThe Linux Bridge in between the VM TAP interface and OVS should [1][2]:\n- Reply only if the target IP address is local address configured\n  on the incoming interface.\n- Always use the best local address.\n\n[1]http://kb.linuxvirtualserver.org/wiki/Using_arp_announce/arp_ignore_to_disable_ARP\n[2]http://linux-ip.net/html/ether-arp.html#ether-arp-flux\n\nChange-Id: I8721b680bbd9f59a67bd8e6855ffb291c208cdb8\nCloses-Bug: #1825888\n(cherry picked from commit 9ad9b8483913a38345133120b04c4677fab9cb68)\n'}, {'number': 6, 'created': '2019-05-13 10:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/e88dd949a7114f3d57f8a7c8692e7302afb17305', 'message': 'Prevent ""qbr"" Linux Bridge from replying to ARP messages\n\nThe Linux Bridge in between the VM TAP interface and OVS should [1][2]:\n- Reply only if the target IP address is local address configured\n  on the incoming interface.\n- Always use the best local address.\n\n[1]http://kb.linuxvirtualserver.org/wiki/Using_arp_announce/arp_ignore_to_disable_ARP\n[2]http://linux-ip.net/html/ether-arp.html#ether-arp-flux\n\nChange-Id: I8721b680bbd9f59a67bd8e6855ffb291c208cdb8\nCloses-Bug: #1825888\n(cherry picked from commit 9ad9b8483913a38345133120b04c4677fab9cb68)\n'}, {'number': 7, 'created': '2019-05-28 08:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/9e93ec438f52377848b8acbcb0bf728e9db4d8dd', 'message': 'Prevent ""qbr"" Linux Bridge from replying to ARP messages\n\nThe Linux Bridge in between the VM TAP interface and OVS should [1][2]:\n- Reply only if the target IP address is local address configured\n  on the incoming interface.\n- Always use the best local address.\n\nConflicts:\n      vif_plug_linux_bridge/linux_net.py\n      vif_plug_linux_bridge/tests/unit/test_linux_net.py\n      vif_plug_ovs/linux_net.py\n      vif_plug_ovs/tests/unit/test_linux_net.py\n\n[1]http://kb.linuxvirtualserver.org/wiki/Using_arp_announce/arp_ignore_to_disable_ARP\n[2]http://linux-ip.net/html/ether-arp.html#ether-arp-flux\n\nChange-Id: I8721b680bbd9f59a67bd8e6855ffb291c208cdb8\nCloses-Bug: #1825888\n(cherry picked from commit 9ad9b8483913a38345133120b04c4677fab9cb68)\n(cherry picked from commit c42e7641f00905ff2dd68096d733929bf84756b5)\n(cherry picked from commit ca9963c2944ebfd93757471f99e9185bf34f61d4)\n'}, {'number': 8, 'created': '2019-05-28 09:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/b818164a1250000ea54749c00b55dac08f73df7e', 'message': 'Prevent ""qbr"" Linux Bridge from replying to ARP messages\n\nThe Linux Bridge in between the VM TAP interface and OVS should [1][2]:\n- Reply only if the target IP address is local address configured\n  on the incoming interface.\n- Always use the best local address.\n\nConflicts:\n      vif_plug_linux_bridge/linux_net.py\n      vif_plug_linux_bridge/tests/unit/test_linux_net.py\n      vif_plug_ovs/linux_net.py\n      vif_plug_ovs/tests/unit/test_linux_net.py\n\n[1]http://kb.linuxvirtualserver.org/wiki/Using_arp_announce/arp_ignore_to_disable_ARP\n[2]http://linux-ip.net/html/ether-arp.html#ether-arp-flux\n\nChange-Id: I8721b680bbd9f59a67bd8e6855ffb291c208cdb8\nCloses-Bug: #1825888\n(cherry picked from commit 9ad9b8483913a38345133120b04c4677fab9cb68)\n(cherry picked from commit c42e7641f00905ff2dd68096d733929bf84756b5)\n(cherry picked from commit ca9963c2944ebfd93757471f99e9185bf34f61d4)\n'}, {'number': 9, 'created': '2019-05-30 16:50:11.000000000', 'files': ['vif_plug_linux_bridge/tests/unit/test_linux_net.py', 'releasenotes/notes/prevent-lb-reply-arp-6459133bfb056069.yaml', 'vif_plug_ovs/linux_net.py', 'vif_plug_linux_bridge/linux_net.py', 'vif_plug_ovs/tests/unit/test_linux_net.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/7b84b527ec84f7649df8f20d743b1f7ea9e8e113', 'message': 'Prevent ""qbr"" Linux Bridge from replying to ARP messages\n\nThe Linux Bridge in between the VM TAP interface and OVS should [1][2]:\n- Reply only if the target IP address is local address configured\n  on the incoming interface.\n- Always use the best local address.\n\n[1]http://kb.linuxvirtualserver.org/wiki/Using_arp_announce/arp_ignore_to_disable_ARP\n[2]http://linux-ip.net/html/ether-arp.html#ether-arp-flux\n\nChange-Id: I8721b680bbd9f59a67bd8e6855ffb291c208cdb8\nCloses-Bug: #1825888\n(cherry picked from commit 9ad9b8483913a38345133120b04c4677fab9cb68)\n(cherry picked from commit c42e7641f00905ff2dd68096d733929bf84756b5)\n(cherry picked from commit ca9963c2944ebfd93757471f99e9185bf34f61d4)\n'}]",1,655694,7b84b527ec84f7649df8f20d743b1f7ea9e8e113,38,12,9,16688,,,0,"Prevent ""qbr"" Linux Bridge from replying to ARP messages

The Linux Bridge in between the VM TAP interface and OVS should [1][2]:
- Reply only if the target IP address is local address configured
  on the incoming interface.
- Always use the best local address.

[1]http://kb.linuxvirtualserver.org/wiki/Using_arp_announce/arp_ignore_to_disable_ARP
[2]http://linux-ip.net/html/ether-arp.html#ether-arp-flux

Change-Id: I8721b680bbd9f59a67bd8e6855ffb291c208cdb8
Closes-Bug: #1825888
(cherry picked from commit 9ad9b8483913a38345133120b04c4677fab9cb68)
(cherry picked from commit c42e7641f00905ff2dd68096d733929bf84756b5)
(cherry picked from commit ca9963c2944ebfd93757471f99e9185bf34f61d4)
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/94/655694/8 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_linux_bridge/tests/unit/test_linux_net.py', 'releasenotes/notes/prevent-lb-reply-arp-6459133bfb056069.yaml', 'vif_plug_ovs/linux_net.py', 'vif_plug_linux_bridge/linux_net.py', 'vif_plug_ovs/tests/unit/test_linux_net.py']",5,ed24a24f526252c81a86eadace000f2731c5a8f6,bug/1825888,"from six.moves import builtins @mock.patch.object(linux_net, ""_arp_filtering"") mock_path_exists, mock_ip_set, *args): @mock.patch.object(linux_net, ""_arp_filtering"") mock_path_exists, mock_ip_set, *args): @mock.patch.object(os.path, 'exists', return_value=True) @mock.patch.object(builtins, 'open') def test__arp_filtering(self, mock_open, *args): mock_open.side_effect = mock.mock_open(read_data=mock.Mock()) linux_net._arp_filtering(""br0"") mock_open.assert_has_calls([ mock.call('/proc/sys/net/ipv4/conf/br0/arp_ignore', 'w'), mock.call('/proc/sys/net/ipv4/conf/br0/arp_announce', 'w')]) mock_open.side_effect.return_value.write.assert_has_calls([ mock.call('1'), mock.call('2')])"," mock_path_exists, mock_ip_set): mock_path_exists, mock_ip_set):",64,4
openstack%2Ftripleo-heat-templates~master~Id8c0067194d63a124a1267336200f997ff19b87b,openstack/tripleo-heat-templates,master,Id8c0067194d63a124a1267336200f997ff19b87b,Remove duplicate key in UndercloudExtraConfig,MERGED,2019-06-14 02:56:36.000000000,2019-06-18 01:45:43.000000000,2019-06-18 01:45:43.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-14 02:56:36.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b8a8dda5b4c2886c85784fd21ef1f516ab24a6a5', 'message': 'Remove duplicate key in UndercloudExtraConfig\n\nChange-Id: Id8c0067194d63a124a1267336200f997ff19b87b\n'}]",0,665280,b8a8dda5b4c2886c85784fd21ef1f516ab24a6a5,16,7,1,8833,,,0,"Remove duplicate key in UndercloudExtraConfig

Change-Id: Id8c0067194d63a124a1267336200f997ff19b87b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/665280/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,b8a8dda5b4c2886c85784fd21ef1f516ab24a6a5,,," manila::keystone::authtoken::memcached_servers: ""%{hiera('memcached::listen_ip_uri')}:11211""",0,1
openstack%2Fkarbor~master~I4fd908e99157e7f477ee181306c94e90aff586cd,openstack/karbor,master,I4fd908e99157e7f477ee181306c94e90aff586cd,Update using storyboard in README,MERGED,2019-06-17 07:14:35.000000000,2019-06-18 01:39:41.000000000,2019-06-18 01:39:41.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 07:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/5302de58914749512c70b884b7c1c8332d32ad97', 'message': 'Update using storyboard in README\n\nChange-Id: I4fd908e99157e7f477ee181306c94e90aff586cd\n'}, {'number': 2, 'created': '2019-06-17 11:53:10.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/karbor/commit/8632a6cfcda741c2a057a26911fea2736a53628b', 'message': 'Update using storyboard in README\n\nWe have started using storyboard instead of launchpad to\ndo bugs and features tracking. There are still some bugs\nare remained in the launchpad, we will move part of them\nto storyboard. The new bugs and features should locate\non storyboard now, so this patch update the README to let\nthe developers know that.\nChange-Id: I4fd908e99157e7f477ee181306c94e90aff586cd\n'}]",0,665598,8632a6cfcda741c2a057a26911fea2736a53628b,8,2,2,21224,,,0,"Update using storyboard in README

We have started using storyboard instead of launchpad to
do bugs and features tracking. There are still some bugs
are remained in the launchpad, we will move part of them
to storyboard. The new bugs and features should locate
on storyboard now, so this patch update the README to let
the developers know that.
Change-Id: I4fd908e99157e7f477ee181306c94e90aff586cd
",git fetch https://review.opendev.org/openstack/karbor refs/changes/98/665598/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,5302de58914749512c70b884b7c1c8332d32ad97,update-bug-link,* Bugs: https://storyboard.openstack.org/#!/project/openstack/karbor,* Bugs: https://bugs.launchpad.net/karbor,1,1
openstack%2Ftripleo-common~stable%2Frocky~I0ae383105bc5d8849a733bfbe5bd61fb3fc24c66,openstack/tripleo-common,stable/rocky,I0ae383105bc5d8849a733bfbe5bd61fb3fc24c66,Handle failed nodes when enabling ssh admin,MERGED,2019-06-12 13:37:37.000000000,2019-06-18 01:33:08.000000000,2019-06-18 01:33:08.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-12 13:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a9bc0ed4c3d3fe446656a3da603aea0aa72887e0', 'message': 'Handle failed nodes when enabling ssh admin\n\nFilter server list by state before selecting by control plane address to\navoid YAQL expression issues.\n\nChange-Id: I0ae383105bc5d8849a733bfbe5bd61fb3fc24c66\n(cherry picked from commit 3933a66c88293efc016444f04fa92b3c7c3b863a)\n'}, {'number': 2, 'created': '2019-06-12 14:13:41.000000000', 'files': ['workbooks/access.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/718a7b176f5b903619723432c92d140e9c2844ac', 'message': 'Handle failed nodes when enabling ssh admin\n\nFilter server list by state before selecting by control plane address to\navoid YAQL expression issues.\n\nCloses-Bug: #1749450\nChange-Id: I0ae383105bc5d8849a733bfbe5bd61fb3fc24c66\n(cherry picked from commit 3933a66c88293efc016444f04fa92b3c7c3b863a)\n'}]",0,664928,718a7b176f5b903619723432c92d140e9c2844ac,11,3,2,6681,,,0,"Handle failed nodes when enabling ssh admin

Filter server list by state before selecting by control plane address to
avoid YAQL expression issues.

Closes-Bug: #1749450
Change-Id: I0ae383105bc5d8849a733bfbe5bd61fb3fc24c66
(cherry picked from commit 3933a66c88293efc016444f04fa92b3c7c3b863a)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/28/664928/2 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/access.yaml'],1,a9bc0ed4c3d3fe446656a3da603aea0aa72887e0,bug/1749450, with-items: server in <% $.ssh_servers %> input: search_opts: ip: <% $.server %> publish: servers: <% task().result._info %> on-success: create_admin with-items: server in <% $.servers.flatten() %>, on-success: create_admin publish: servers: <% let(root => $) -> task().result._info.where($.addresses.ctlplane.addr.any($ in $root.ssh_servers)) %> with-items: server in <% $.servers %>,7,3
openstack%2Fneutron~master~I26a0e651a5c9d30004e2e5a7cfc6b866415cc87b,openstack/neutron,master,I26a0e651a5c9d30004e2e5a7cfc6b866415cc87b,Switch to new engine facade for Schedulers,MERGED,2019-05-29 08:15:22.000000000,2019-06-18 01:20:06.000000000,2019-06-18 01:20:06.000000000,"[{'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17499}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-05-29 08:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c6c315a53d0c9d994b8bd56f215c02cdfd241bb', 'message': 'Switch to new engine facade for Schedulers\n\n* DhcpAgentSchedulerDbMixin\n* L3AgentSchedulerDbMixin\n* AutoScheduler\n* DhcpFilter\n* L3Scheduler\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I26a0e651a5c9d30004e2e5a7cfc6b866415cc87b\n'}, {'number': 2, 'created': '2019-05-29 08:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6078b3a1cbbbe33dfb27669a7719a23dd34a67f5', 'message': 'Switch to new engine facade for Schedulers\n\n* DhcpAgentSchedulerDbMixin\n* L3AgentSchedulerDbMixin\n* AutoScheduler\n* DhcpFilter\n* L3Scheduler\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I26a0e651a5c9d30004e2e5a7cfc6b866415cc87b\n'}, {'number': 3, 'created': '2019-05-29 12:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f7d9469e6a2487a81fc30fc9cea912664ee0c132', 'message': 'Switch to new engine facade for Schedulers\n\n* DhcpAgentSchedulerDbMixin\n* L3AgentSchedulerDbMixin\n* AutoScheduler\n* DhcpFilter\n* L3Scheduler\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I26a0e651a5c9d30004e2e5a7cfc6b866415cc87b\n'}, {'number': 4, 'created': '2019-06-12 19:46:45.000000000', 'files': ['neutron/db/agentschedulers_db.py', 'neutron/tests/unit/db/test_agentschedulers_db.py', 'neutron/scheduler/l3_agent_scheduler.py', 'neutron/tests/unit/db/test_agents_db.py', 'neutron/db/l3_agentschedulers_db.py', 'neutron/scheduler/dhcp_agent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b71cd851dce420d963f3d69e385c3c0ebba663ef', 'message': 'Switch to new engine facade for Schedulers\n\n* DhcpAgentSchedulerDbMixin\n* L3AgentSchedulerDbMixin\n* AutoScheduler\n* DhcpFilter\n* L3Scheduler\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I26a0e651a5c9d30004e2e5a7cfc6b866415cc87b\n'}]",0,661909,b71cd851dce420d963f3d69e385c3c0ebba663ef,59,14,4,16688,,,0,"Switch to new engine facade for Schedulers

* DhcpAgentSchedulerDbMixin
* L3AgentSchedulerDbMixin
* AutoScheduler
* DhcpFilter
* L3Scheduler

Partially-Implements blueprint: enginefacade-switch

Change-Id: I26a0e651a5c9d30004e2e5a7cfc6b866415cc87b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/661909/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/agentschedulers_db.py', 'neutron/scheduler/l3_agent_scheduler.py', 'neutron/tests/unit/db/test_agentschedulers_db.py', 'neutron/db/l3_agentschedulers_db.py', 'neutron/scheduler/dhcp_agent_scheduler.py', 'neutron/tests/unit/db/test_agents_db.py']",6,5c6c315a53d0c9d994b8bd56f215c02cdfd241bb,bp/enginefacade-switch,from neutron_lib.db import api as db_api with db_api.CONTEXT_WRITER.using(self.context):, with self.context.session.begin(subtransactions=True):,26,23
openstack%2Fmagnum~master~I021c98ad4393f4efd709a75c87736ad2f1bc9846,openstack/magnum,master,I021c98ad4393f4efd709a75c87736ad2f1bc9846,Upgrade cloud-provider-openstack to v1.14.0,ABANDONED,2019-04-26 11:17:28.000000000,2019-06-18 01:17:58.000000000,,"[{'_account_id': 6484}, {'_account_id': 8064}, {'_account_id': 16006}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-26 11:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5f29789dd5b5ee02182dc9ab187e6c890c24c0da', 'message': 'Upgrade cloud-provider-openstack to v1.14.0\n\nDefault version v0.2.0 has a bug [1] that truncates auth_url in master node.\n\nThis can be a potential security issue if keystone credentials are\nposted to a malicious URL.\n\n[1] https://github.com/kubernetes/cloud-provider-openstack/issues/269\n\nChange-Id: I021c98ad4393f4efd709a75c87736ad2f1bc9846\n'}, {'number': 2, 'created': '2019-05-01 14:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0c28e0c3cc33b26b89f5a3ee69b9e934bc6b94da', 'message': 'Upgrade cloud-provider-openstack to v1.14.0\n\nDefault version v0.2.0 has a bug [1] that truncates auth_url in master node.\n\nThis can be a potential security issue if keystone credentials are\nposted to a malicious URL.\n\n[1] https://github.com/kubernetes/cloud-provider-openstack/issues/269\n\nChange-Id: I021c98ad4393f4efd709a75c87736ad2f1bc9846\n'}, {'number': 3, 'created': '2019-05-21 05:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d492316a2878d8b0a6b822c6061de5f9a8905c4f', 'message': 'Upgrade cloud-provider-openstack to v1.14.0\n\nDefault version v0.2.0 has a bug [1] that truncates auth_url in master node.\n\nThis can be a potential security issue if keystone credentials are\nposted to a malicious URL.\n\n[1] https://github.com/kubernetes/cloud-provider-openstack/issues/269\n\nChange-Id: I021c98ad4393f4efd709a75c87736ad2f1bc9846\n'}, {'number': 5, 'created': '2019-05-29 00:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5c4fe0bc5903c5531455d9cd32b19ed5b11f3650', 'message': 'Upgrade cloud-provider-openstack to v1.14.0\n\nDefault version v0.2.0 has a bug [1] that truncates auth_url in master node.\n\nThis can be a potential security issue if keystone credentials are\nposted to a malicious URL.\n\n[1] https://github.com/kubernetes/cloud-provider-openstack/issues/269\n\nChange-Id: I021c98ad4393f4efd709a75c87736ad2f1bc9846\n'}, {'number': 6, 'created': '2019-06-05 08:01:11.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'releasenotes/notes/upgrade-to-occm-v1.14.0-c4ba25756ae78a87.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/4815b20f1565a0577fbdd7d3cb51cde193ace2b6', 'message': 'Upgrade cloud-provider-openstack to v1.14.0\n\nDefault version v0.2.0 has a bug [1] that truncates auth_url in master node.\n\nThis can be a potential security issue if keystone credentials are\nposted to a malicious URL.\n\n[1] https://github.com/kubernetes/cloud-provider-openstack/issues/269\n\nStory: 2005825\nTask: 33582\n\nChange-Id: I021c98ad4393f4efd709a75c87736ad2f1bc9846\n'}]",0,655875,4815b20f1565a0577fbdd7d3cb51cde193ace2b6,22,5,5,8064,,,0,"Upgrade cloud-provider-openstack to v1.14.0

Default version v0.2.0 has a bug [1] that truncates auth_url in master node.

This can be a potential security issue if keystone credentials are
posted to a malicious URL.

[1] https://github.com/kubernetes/cloud-provider-openstack/issues/269

Story: 2005825
Task: 33582

Change-Id: I021c98ad4393f4efd709a75c87736ad2f1bc9846
",git fetch https://review.opendev.org/openstack/magnum refs/changes/75/655875/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst']",2,5f29789dd5b5ee02182dc9ab187e6c890c24c0da,occm-v1.14.0, Train default: v1.14.0| Cloud Provider OpenStack | v1.14.0 |, Stein default: v0.2.0| Cloud Provider OpenStack | v0.2.0 |,3,3
openstack%2Ftripleo-heat-templates~master~Id0ac2ca2b29754a1d859406ac4ffd37916ebfd30,openstack/tripleo-heat-templates,master,Id0ac2ca2b29754a1d859406ac4ffd37916ebfd30,Run ceph-ansible using tripleo-ansible-inventory,MERGED,2019-05-20 16:32:51.000000000,2019-06-18 01:06:17.000000000,2019-06-18 01:06:17.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-05-20 16:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7502d699fa22559aa41bd340046bc7b279eb7a27', 'message': ""DNM/WIP: Run ceph-ansible using tripleo-ansible-inventory\n\nAn Ansible inventory group which maps one-to-one with the\nservice_names defined in deployment/ceph-ansible/*.yaml is\nalready contained in the output of tripleo-ansible-inventory.\nBecause ceph-ansible allows one to override the inventory host\ngroup variables it's no longer necessary for ceph-ansible to\ngenerate its own inventory.\n\nChange-Id: Id0ac2ca2b29754a1d859406ac4ffd37916ebfd30\n""}, {'number': 2, 'created': '2019-05-21 17:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6a6309d41ceb35abefcb1c870d71cf8c73b9f2a9', 'message': ""DNM/WIP: Run ceph-ansible using tripleo-ansible-inventory\n\nAn Ansible inventory group which maps one-to-one with the\nservice_names defined in deployment/ceph-ansible/*.yaml is\nalready contained in the output of tripleo-ansible-inventory.\nBecause ceph-ansible allows one to override the inventory host\ngroup variables it's no longer necessary for ceph-ansible to\nhave its own inventory.\n\nChange-Id: Id0ac2ca2b29754a1d859406ac4ffd37916ebfd30\n""}, {'number': 3, 'created': '2019-06-06 01:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e11b736b798b9833787d7396b8dc0a49e8d8e1c9', 'message': ""Run ceph-ansible using tripleo-ansible-inventory\n\nAn Ansible inventory group which maps one-to-one with the\nservice_names defined in deployment/ceph-ansible/*.yaml is\nalready contained in the output of tripleo-ansible-inventory.\nBecause ceph-ansible allows one to override the inventory host\ngroup variables it's no longer necessary for ceph-ansible to\nhave its own inventory.\n\nDepends-On: Ie9880d7b6702b3c5f0e407e4ffe6f297912a1d10\nChange-Id: Id0ac2ca2b29754a1d859406ac4ffd37916ebfd30\n""}, {'number': 4, 'created': '2019-06-06 01:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/39bef371b8d08477dd383d73122575ff354d8f21', 'message': 'Run ceph-ansible using tripleo-ansible-inventory\n\nRemove the generate inventory task and instead use the\nsame inventory of the calling playbook which should now\ncontain the inventory groups ceph-ansible expects as per\nthe depends-on patch.\n\nDepends-On: Ie9880d7b6702b3c5f0e407e4ffe6f297912a1d10\nChange-Id: Id0ac2ca2b29754a1d859406ac4ffd37916ebfd30\n'}, {'number': 5, 'created': '2019-06-06 02:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f751385a6f2ae682e5a8fdbd16b81cac9d4fdd4', 'message': 'Run ceph-ansible using tripleo-ansible-inventory\n\nRemove the generate inventory task and instead use the\nsame inventory of the calling playbook which should now\ncontain the inventory groups ceph-ansible expects as per\nthe depends-on patch.\n\nDepends-On: Ie9880d7b6702b3c5f0e407e4ffe6f297912a1d10\nChange-Id: Id0ac2ca2b29754a1d859406ac4ffd37916ebfd30\n'}, {'number': 6, 'created': '2019-06-07 15:23:18.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f86635803793c006210495b0c2fe8c34bf301f6c', 'message': 'Run ceph-ansible using tripleo-ansible-inventory\n\nRemove the generate inventory task and instead use the\nsame inventory of the calling playbook which should now\ncontain the inventory groups ceph-ansible expects as per\nthe depends-on patch.\n\nDepends-On: Ie9880d7b6702b3c5f0e407e4ffe6f297912a1d10\nChange-Id: Id0ac2ca2b29754a1d859406ac4ffd37916ebfd30\n'}]",4,660167,f86635803793c006210495b0c2fe8c34bf301f6c,36,7,6,18002,,,0,"Run ceph-ansible using tripleo-ansible-inventory

Remove the generate inventory task and instead use the
same inventory of the calling playbook which should now
contain the inventory groups ceph-ansible expects as per
the depends-on patch.

Depends-On: Ie9880d7b6702b3c5f0e407e4ffe6f297912a1d10
Change-Id: Id0ac2ca2b29754a1d859406ac4ffd37916ebfd30
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/660167/6 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,7502d699fa22559aa41bd340046bc7b279eb7a27,ceph-ansible-inventory, - name: set ceph-ansible inventory groups set_fact: mon_group_name: ceph_mon osd_group_name: ceph_osd mgr_group_name: ceph_mgr client_group_name: ceph_client rgw_group_name: ceph_rgw mds_group_name: ceph_mds nfs_group_name: ceph_nfs rbdmirror_group_name: ceph_rbdmirror - '{{inventory_file}}' - '{{inventory_file}}'," - name: generate inventory copy: dest: ""{{playbook_dir}}/ceph-ansible/inventory.yml"" content: | {%- set ceph_groups = ['mgr', 'mon', 'osd', 'mds', 'rgw', 'nfs', 'rbdmirror', 'client'] -%} {%- for ceph_group in ceph_groups -%} {%- if 'ceph_' ~ ceph_group in groups -%} {%- set ceph_group_hosts = groups['ceph_' ~ ceph_group] | difference(blacklisted_hostnames) -%} {%- if ceph_group_hosts|length > 0 %} {{ ceph_group ~ 's:' }} hosts: {% for host in ceph_group_hosts -%} {{ host }}: ansible_user: {{ hostvars.raw_get(host)['ansible_ssh_user'] | default('root') }} ansible_host: {{ hostvars.raw_get(host)['ansible_host'] | default(host) }} {% if hostvars.raw_get(host)['ansible_connection'] | default('') == 'local' -%} ansible_connection: local {% endif -%} ansible_become: true {% endfor -%} {%- endif -%} {%- endif -%} {%- endfor %} - '{{playbook_dir}}/ceph-ansible/inventory.yml' - '{{playbook_dir}}/ceph-ansible/inventory.yml'",12,27
openstack%2Fnetworking-bagpipe~master~I4d06c893a69fcd8d1eba40afd94992b17155bdd4,openstack/networking-bagpipe,master,I4d06c893a69fcd8d1eba40afd94992b17155bdd4,use AuthenticIPNetwork from neutron-lib,MERGED,2019-05-17 21:15:27.000000000,2019-06-18 00:51:19.000000000,2019-06-18 00:51:19.000000000,"[{'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 17499}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-17 21:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/7cdf0f921b34e4c754e402232f322f1f8621c5ca', 'message': 'use AuthenticIPNetwork from neutron-lib\n\nThis patch:\n- Switches from using neutron for AuthenticIPNetwork to use neutron-lib.\n- Bumps the required neutron-lib version to 1.26.0 to get the latest.\n\nChange-Id: I4d06c893a69fcd8d1eba40afd94992b17155bdd4\n'}, {'number': 2, 'created': '2019-05-22 15:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/7c773797ed635b26389147fb1892d5564d5c5b0e', 'message': 'use AuthenticIPNetwork from neutron-lib\n\nThis patch:\n- Switches from using neutron for AuthenticIPNetwork to use neutron-lib.\n- Bumps the required neutron-lib version to 1.26.0 to get the latest.\n\nChange-Id: I4d06c893a69fcd8d1eba40afd94992b17155bdd4\n'}, {'number': 3, 'created': '2019-06-06 21:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/c560a04ceba65a6f6084201dd4fa018861d7f2c7', 'message': 'use AuthenticIPNetwork from neutron-lib\n\nThis patch:\n- Switches from using neutron for AuthenticIPNetwork to use neutron-lib.\n- Bumps the required neutron-lib version to 1.26.0 to get the latest.\n\nChange-Id: I4d06c893a69fcd8d1eba40afd94992b17155bdd4\n'}, {'number': 4, 'created': '2019-06-06 21:43:29.000000000', 'files': ['networking_bagpipe/tests/unit/objects/test_bgpvpn.py', 'networking_bagpipe/objects/bgpvpn.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/b7d1816bc66256c31bd3e5459927a05cb2a8c58a', 'message': 'use AuthenticIPNetwork from neutron-lib\n\nThis patch:\n- Switches from using neutron for AuthenticIPNetwork to use neutron-lib.\n\nChange-Id: I4d06c893a69fcd8d1eba40afd94992b17155bdd4\n'}]",1,659881,b7d1816bc66256c31bd3e5459927a05cb2a8c58a,23,6,4,5367,,,0,"use AuthenticIPNetwork from neutron-lib

This patch:
- Switches from using neutron for AuthenticIPNetwork to use neutron-lib.

Change-Id: I4d06c893a69fcd8d1eba40afd94992b17155bdd4
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/81/659881/4 && git format-patch -1 --stdout FETCH_HEAD,"['networking_bagpipe/tests/unit/objects/test_bgpvpn.py', 'requirements.txt', 'lower-constraints.txt', 'networking_bagpipe/objects/bgpvpn.py']",4,7cdf0f921b34e4c754e402232f322f1f8621c5ca,bp/neutronlib-decouple-db,from neutron_lib.utils import net as net_utils fields['prefix'] = net_utils.AuthenticIPNetwork(fields['prefix']),from neutron.common import utils fields['prefix'] = utils.AuthenticIPNetwork(fields['prefix']),6,7
openstack%2Fglance~master~I5737295034e52a8fc51a53f1836490040b4896f8,openstack/glance,master,I5737295034e52a8fc51a53f1836490040b4896f8,Fix typo,ABANDONED,2018-06-13 01:16:47.000000000,2019-06-18 00:41:30.000000000,,"[{'_account_id': 5314}, {'_account_id': 20146}, {'_account_id': 22348}, {'_account_id': 27882}]","[{'number': 1, 'created': '2018-06-13 01:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6005f5b7ab9a21a2e5e79997e6c36077154a0ae3', 'message': 'Fix typos\n\nChange-Id: I5737295034e52a8fc51a53f1836490040b4896f8\n'}, {'number': 2, 'created': '2018-06-13 08:26:42.000000000', 'files': ['releasenotes/notes/exp-emc-mig-fix-a7e28d547ac38f9e.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/1a2451c4f0c1b7cf21363ff8ef2725bc83ca88ce', 'message': ""Fix typo\n\nRemove extra 'the' in release note.\nChange-Id: I5737295034e52a8fc51a53f1836490040b4896f8\n""}]",0,574929,1a2451c4f0c1b7cf21363ff8ef2725bc83ca88ce,9,4,2,27386,,,0,"Fix typo

Remove extra 'the' in release note.
Change-Id: I5737295034e52a8fc51a53f1836490040b4896f8
",git fetch https://review.opendev.org/openstack/glance refs/changes/29/574929/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/exp-emc-mig-fix-a7e28d547ac38f9e.yaml'],1,6005f5b7ab9a21a2e5e79997e6c36077154a0ae3,spell, bug did not affect the normal database upgrade operation., bug did not affect the the normal database upgrade operation.,1,1
openstack%2Fcongress-dashboard~master~Iae2f8c2cfd02bb5de48060de80a00711e1d48aab,openstack/congress-dashboard,master,Iae2f8c2cfd02bb5de48060de80a00711e1d48aab,Update the constraint url,MERGED,2019-06-14 13:45:22.000000000,2019-06-18 00:40:37.000000000,2019-06-18 00:40:37.000000000,"[{'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 25553}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-06-14 13:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/d894907c261e46352182e0c60da8a84da1c369b6', 'message': 'Update the constraint url\n\nChange-Id: Iae2f8c2cfd02bb5de48060de80a00711e1d48aab\n'}, {'number': 2, 'created': '2019-06-17 05:56:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/bec72a11a51b3210d754a51704c6dd3999775953', 'message': 'Update the constraint url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Iae2f8c2cfd02bb5de48060de80a00711e1d48aab\n'}]",1,665391,bec72a11a51b3210d754a51704c6dd3999775953,11,4,2,29313,,,0,"Update the constraint url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Iae2f8c2cfd02bb5de48060de80a00711e1d48aab
",git fetch https://review.opendev.org/openstack/congress-dashboard refs/changes/91/665391/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d894907c261e46352182e0c60da8a84da1c369b6,665391, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fopenstack-helm~master~If6ea420c6ed595b3b6b6eedf99a0bf26a20b6abf,openstack/openstack-helm,master,If6ea420c6ed595b3b6b6eedf99a0bf26a20b6abf,Logs: Make it optional to use log_config_append option,MERGED,2019-06-17 19:07:46.000000000,2019-06-18 00:12:38.000000000,2019-06-18 00:12:38.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 19:07:46.000000000', 'files': ['mistral/templates/deployment-executor.yaml', 'glance/templates/deployment-registry.yaml', 'senlin/templates/deployment-engine.yaml', 'senlin/templates/deployment-api.yaml', 'nova/templates/cron-job-cell-setup.yaml', 'cinder/templates/deployment-api.yaml', 'magnum/templates/statefulset-conductor.yaml', 'ironic/templates/statefulset-conductor.yaml', 'aodh/templates/deployment-notifier.yaml', 'glance/templates/deployment-api.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'nova/templates/deployment-scheduler.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'nova/templates/deployment-conductor.yaml', 'keystone/templates/job-domain-manage.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'nova/templates/job-cell-setup.yaml', 'cinder/templates/deployment-scheduler.yaml', 'nova/templates/deployment-spiceproxy.yaml', 'keystone/templates/deployment-api.yaml', 'keystone/templates/cron-job-fernet-rotate.yaml', 'aodh/templates/deployment-listener.yaml', 'keystone/templates/job-credential-setup.yaml', 'nova/templates/deployment-api-metadata.yaml', 'mistral/templates/statefulset-event-engine.yaml', 'neutron/templates/deployment-server.yaml', 'cinder/templates/deployment-volume.yaml', 'panko/templates/deployment-api.yaml', 'cinder/templates/deployment-backup.yaml', 'congress/templates/deployment-policy-engine.yaml', 'keystone/templates/job-fernet-setup.yaml', 'nova/templates/deployment-api-osapi.yaml', 'neutron/templates/daemonset-sriov-agent.yaml', 'nova/templates/deployment-novncproxy.yaml', 'neutron/templates/daemonset-lb-agent.yaml', 'congress/templates/deployment-datasource.yaml', 'magnum/templates/deployment-api.yaml', 'barbican/templates/deployment-api.yaml', 'mistral/templates/statefulset-engine.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'congress/templates/deployment-api.yaml', 'panko/templates/cron-job-events-cleaner.yaml', 'aodh/templates/deployment-api.yaml', 'cinder/templates/cron-job-cinder-volume-usage-audit.yaml', 'nova/templates/deployment-placement.yaml', 'ironic/templates/deployment-api.yaml', 'aodh/templates/cron-job-alarms-cleaner.yaml', 'keystone/templates/cron-job-credential-rotate.yaml', 'mistral/templates/deployment-api.yaml', 'nova/templates/deployment-consoleauth.yaml', 'nova/templates/daemonset-compute.yaml', 'aodh/templates/deployment-evaluator.yaml', 'nova/templates/statefulset-compute-ironic.yaml', 'senlin/templates/cron-job-engine-cleaner.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/31bd9c832d0b25c4a4a38c30a5512d2e113db5b2', 'message': 'Logs: Make it optional to use log_config_append option\n\nThis PS enables the use of simple logging options if desired.\n\nChange-Id: If6ea420c6ed595b3b6b6eedf99a0bf26a20b6abf\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,665750,31bd9c832d0b25c4a4a38c30a5512d2e113db5b2,7,3,1,23928,,,0,"Logs: Make it optional to use log_config_append option

This PS enables the use of simple logging options if desired.

Change-Id: If6ea420c6ed595b3b6b6eedf99a0bf26a20b6abf
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/50/665750/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/templates/deployment-executor.yaml', 'glance/templates/deployment-registry.yaml', 'senlin/templates/deployment-engine.yaml', 'senlin/templates/deployment-api.yaml', 'nova/templates/cron-job-cell-setup.yaml', 'cinder/templates/deployment-api.yaml', 'magnum/templates/statefulset-conductor.yaml', 'ironic/templates/statefulset-conductor.yaml', 'aodh/templates/deployment-notifier.yaml', 'glance/templates/deployment-api.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'nova/templates/deployment-scheduler.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'nova/templates/deployment-conductor.yaml', 'keystone/templates/job-domain-manage.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'nova/templates/job-cell-setup.yaml', 'cinder/templates/deployment-scheduler.yaml', 'nova/templates/deployment-spiceproxy.yaml', 'keystone/templates/deployment-api.yaml', 'keystone/templates/cron-job-fernet-rotate.yaml', 'aodh/templates/deployment-listener.yaml', 'keystone/templates/job-credential-setup.yaml', 'nova/templates/deployment-api-metadata.yaml', 'mistral/templates/statefulset-event-engine.yaml', 'neutron/templates/deployment-server.yaml', 'cinder/templates/deployment-volume.yaml', 'panko/templates/deployment-api.yaml', 'cinder/templates/deployment-backup.yaml', 'congress/templates/deployment-policy-engine.yaml', 'keystone/templates/job-fernet-setup.yaml', 'nova/templates/deployment-api-osapi.yaml', 'neutron/templates/daemonset-sriov-agent.yaml', 'nova/templates/deployment-novncproxy.yaml', 'neutron/templates/daemonset-lb-agent.yaml', 'congress/templates/deployment-datasource.yaml', 'magnum/templates/deployment-api.yaml', 'barbican/templates/deployment-api.yaml', 'mistral/templates/statefulset-engine.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'congress/templates/deployment-api.yaml', 'panko/templates/cron-job-events-cleaner.yaml', 'aodh/templates/deployment-api.yaml', 'cinder/templates/cron-job-cinder-volume-usage-audit.yaml', 'nova/templates/deployment-placement.yaml', 'ironic/templates/deployment-api.yaml', 'aodh/templates/cron-job-alarms-cleaner.yaml', 'keystone/templates/cron-job-credential-rotate.yaml', 'mistral/templates/deployment-api.yaml', 'nova/templates/deployment-consoleauth.yaml', 'nova/templates/daemonset-compute.yaml', 'aodh/templates/deployment-evaluator.yaml', 'nova/templates/statefulset-compute-ironic.yaml', 'senlin/templates/cron-job-engine-cleaner.yaml']",54,31bd9c832d0b25c4a4a38c30a5512d2e113db5b2,nova-deps, {{- if .Values.conf.senlin.DEFAULT.log_config_append }} {{- end }},,112,0
openstack%2Fnova~master~I15a935e80f6656c96c1e208746af1c89bf37b670,openstack/nova,master,I15a935e80f6656c96c1e208746af1c89bf37b670,docs: remove the RamFilter from example,MERGED,2019-06-16 14:26:08.000000000,2019-06-17 23:45:50.000000000,2019-06-17 23:45:50.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22321}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-16 14:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07944f8d292c50f79a72fd28ec7f67a02455d0fb', 'message': 'doc:remove the RamFilter from example\n\nThe RamFilter has deprecated since the stein release. We can show\nanother simple filter class here.\n\nChange-Id: I15a935e80f6656c96c1e208746af1c89bf37b670\n'}, {'number': 2, 'created': '2019-06-16 14:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e50b3e7c2d6a4171bda807ef75548a64bf508909', 'message': 'doc:remove the RamFilter from example\n\nThe RamFilter has deprecated since the stein release. We can show\nanother simple filter class here.\n\nChange-Id: I15a935e80f6656c96c1e208746af1c89bf37b670\n'}, {'number': 3, 'created': '2019-06-16 15:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dcb9a857ac3162f0efc3a88c4485d8d4b9b4f24c', 'message': 'docs: remove the RamFilter from example\n\nThe RamFilter has deprecated since the stein release. We can show\nanother simple filter class here.\n\nChange-Id: I15a935e80f6656c96c1e208746af1c89bf37b670\n'}, {'number': 4, 'created': '2019-06-16 16:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91b181e9a8aa705235679e356b8dce205e47d400', 'message': 'docs: remove the RamFilter from example\n\nThe RamFilter has deprecated since the stein release. We can show\nanother simple filter class here.\n\nChange-Id: I15a935e80f6656c96c1e208746af1c89bf37b670\n'}, {'number': 5, 'created': '2019-06-16 16:18:25.000000000', 'files': ['doc/source/user/filter-scheduler.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/b129511050e3bcedd0079041ecdb8d156baa67eb', 'message': 'docs: remove the RamFilter from example\n\nThe RamFilter has deprecated since the stein release. We can show\nanother simple filter class here.\n\nChange-Id: I15a935e80f6656c96c1e208746af1c89bf37b670\n'}]",12,665546,b129511050e3bcedd0079041ecdb8d156baa67eb,29,10,5,22321,,,0,"docs: remove the RamFilter from example

The RamFilter has deprecated since the stein release. We can show
another simple filter class here.

Change-Id: I15a935e80f6656c96c1e208746af1c89bf37b670
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/665546/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/filter-scheduler.rst'],1,07944f8d292c50f79a72fd28ec7f67a02455d0fb,,"simplest ones, such as |AllHostsFilter| and |NumInstancesFilter|code. For example class |NumInstancesFilter| has the next realization: class NumInstancesFilter(filters.BaseHostFilter): """"""Filter out hosts with too many instances."""""" def _get_max_instances_per_host(self, host_state, spec_obj): return CONF.filter_scheduler.max_instances_per_host def host_passes(self, host_state, spec_obj): num_instances = host_state.num_instances max_instances = self._get_max_instances_per_host( host_state, spec_obj) passes = num_instances < max_instances if not passes: LOG.debug(""%(host_state)s fails num_instances check: Max "" ""instances per host is set to %(max_instances)s"", {'host_state': host_state, 'max_instances': max_instances}) return passes Here :oslo.config:option:`filter-scheduler.max_instances_per_host` means the maximum number of instances that be active on a host. (it is ``50`` by default).","simplest ones, such as |AllHostsFilter|, |CoreFilter| and |RamFilter|,code. For example class |RamFilter| has the next realization: class RamFilter(filters.BaseHostFilter): """"""Ram Filter with over subscription flag"""""" def host_passes(self, host_state, filter_properties): """"""Only return hosts with sufficient available RAM."""""" instance_type = filter_properties.get('instance_type') requested_ram = instance_type['memory_mb'] free_ram_mb = host_state.free_ram_mb total_usable_ram_mb = host_state.total_usable_ram_mb used_ram_mb = total_usable_ram_mb - free_ram_mb return total_usable_ram_mb * FLAGS.ram_allocation_ratio - used_ram_mb >= requested_ram Here :oslo.config:option:`ram_allocation_ratio` means the virtual RAM to physical RAM allocation ratio (it is ``1.5`` by default).",21,16
openstack%2Fnova~master~I986e069a65b608799b5074829fa796c6c4b98da8,openstack/nova,master,I986e069a65b608799b5074829fa796c6c4b98da8,Don't rely on SQLAlchemy collections magically initializing __dict__,MERGED,2019-05-25 23:30:39.000000000,2019-06-17 23:45:43.000000000,2019-06-17 23:45:43.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-25 23:30:39.000000000', 'files': ['nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c66a03bae73e7acd236049ec455b2efe28d25833', 'message': 'Don\'t rely on SQLAlchemy collections magically initializing __dict__\n\nThe behavior of accessing ""foo.some_collection"" mutating __dict__ is going\naway.   You still get an empty list back but the assumptions made\nin Nova here go beyond that including that security group tests\nare expecting ""rules=[]"" to be in `__dict__` which will not be the case.\nSet an empty list explicitly here.\n\nRelated SQLAlchemy gerrit: https://gerrit.sqlalchemy.org/#/c/sqlalchemy/sqlalchemy/+/1283/\nOslo.db discussion: https://bugs.launchpad.net/oslo.db/+bug/1830504\n\nChange-Id: I986e069a65b608799b5074829fa796c6c4b98da8\n'}]",1,661472,c66a03bae73e7acd236049ec455b2efe28d25833,17,14,1,11816,,,0,"Don't rely on SQLAlchemy collections magically initializing __dict__

The behavior of accessing ""foo.some_collection"" mutating __dict__ is going
away.   You still get an empty list back but the assumptions made
in Nova here go beyond that including that security group tests
are expecting ""rules=[]"" to be in `__dict__` which will not be the case.
Set an empty list explicitly here.

Related SQLAlchemy gerrit: https://gerrit.sqlalchemy.org/#/c/sqlalchemy/sqlalchemy/+/1283/
Oslo.db discussion: https://bugs.launchpad.net/oslo.db/+bug/1830504

Change-Id: I986e069a65b608799b5074829fa796c6c4b98da8
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/661472/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/db/sqlalchemy/api.py'],1,c66a03bae73e7acd236049ec455b2efe28d25833,dont_rely_on_empty_init, security_group_ref.rules = [], security_group_ref.rules,1,1
openstack%2Ftripleo-ansible~master~I096d6332f8231620e39ead557e7c9598adad66dd,openstack/tripleo-ansible,master,I096d6332f8231620e39ead557e7c9598adad66dd,Import action plugin from tripleo-common,MERGED,2019-06-12 18:45:54.000000000,2019-06-17 23:17:23.000000000,2019-06-17 23:17:23.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-06-12 18:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/af1b9ac8e8d1f183cf74e714155ae5720890e265', 'message': 'Import action plugin from tripleo-common\n\nThe package action plugin has been imported from tripleo common.\nThis plugin acts as a shim allowing tripleo to control package\ninstallations within ansible using a global variable.\n\nThe action plugin will now have tests to ensure that it is\nfunctioning as expected within ansible.\n\n* The default scenario will run the test role normally ensuring\n  that the plugin does not interfer with normal operations.\n* The negative scenario will run the test role with the global\n  option `tripleo_enable_package_install` set to false. This will\n  ensure that no package is installed.\n* The positive scenario will run the test role with the global\n  option `tripleo_enable_package_install` set to true, which\n  will ensure the expect package is installed.\n\nAll three scenarios have been added as jobs which run when\nthis role or plugin has been changed.\n\nDepends-On: I726740e1c95b2f38fe7bae2e9a8f1e35feb5a7bf\nChange-Id: I096d6332f8231620e39ead557e7c9598adad66dd\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-06-12 18:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b055bd2cd3125cd6c221bce709739d2beaae0e37', 'message': 'Import action plugin from tripleo-common\n\nThe package action plugin has been imported from tripleo common.\nThis plugin acts as a shim allowing tripleo to control package\ninstallations within ansible using a global variable.\n\nThe action plugin will now have tests to ensure that it is\nfunctioning as expected within ansible.\n\n* The default scenario will run the test role normally ensuring\n  that the plugin does not interfer with normal operations.\n* The negative scenario will run the test role with the global\n  option `tripleo_enable_package_install` set to false. This will\n  ensure that no package is installed.\n* The positive scenario will run the test role with the global\n  option `tripleo_enable_package_install` set to true, which\n  will ensure the expect package is installed.\n\nAll three scenarios have been added as jobs which run when\nthis role or plugin has been changed.\n\nDepends-On: I9fc504944e2067d9f87a5ad6ca0fe19097d1dd2d\nChange-Id: I096d6332f8231620e39ead557e7c9598adad66dd\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-06-12 22:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f6f7cbaf7d436109b470b7fcf298dae69c27dee4', 'message': 'Import action plugin from tripleo-common\n\nThe package action plugin has been imported from tripleo common.\nThis plugin acts as a shim allowing tripleo to control package\ninstallations within ansible using a global variable.\n\nThe action plugin will now have tests to ensure that it is\nfunctioning as expected within ansible.\n\n* The default scenario will run the test role normally ensuring\n  that the plugin does not interfer with normal operations.\n* The negative scenario will run the test role with the global\n  option `tripleo_enable_package_install` set to false. This will\n  ensure that no package is installed.\n* The positive scenario will run the test role with the global\n  option `tripleo_enable_package_install` set to true, which\n  will ensure the expect package is installed.\n\nAll three scenarios have been added as jobs which run when\nthis role or plugin has been changed.\n\nDepends-On: I726740e1c95b2f38fe7bae2e9a8f1e35feb5a7bf\nChange-Id: I096d6332f8231620e39ead557e7c9598adad66dd\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2019-06-13 18:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0d975e2377e5775c76c62534aa26aa01ee63e4d8', 'message': 'Import action plugin from tripleo-common\n\nThe package action plugin has been imported from tripleo common.\nThis plugin acts as a shim allowing tripleo to control package\ninstallations within ansible using a global variable.\n\nThe action plugin will now have tests to ensure that it is\nfunctioning as expected within ansible.\n\n* The default scenario will run the test role normally ensuring\n  that the plugin does not interfer with normal operations.\n* The negative scenario will run the test role with the global\n  option `tripleo_enable_package_install` set to false. This will\n  ensure that no package is installed.\n* The positive scenario will run the test role with the global\n  option `tripleo_enable_package_install` set to true, which\n  will ensure the expect package is installed.\n\nAll three scenarios have been added as jobs which run when\nthis role or plugin has been changed.\n\nDepends-On: I726740e1c95b2f38fe7bae2e9a8f1e35feb5a7bf\nChange-Id: I096d6332f8231620e39ead557e7c9598adad66dd\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2019-06-14 15:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7033e51a43a4c44014249505bed170193a5b6c98', 'message': 'Import action plugin from tripleo-common\n\nThe package action plugin has been imported from tripleo common.\nThis plugin acts as a shim allowing tripleo to control package\ninstallations within ansible using a global variable.\n\nThe action plugin will now have tests to ensure that it is\nfunctioning as expected within ansible.\n\n* The default scenario will run the test role normally ensuring\n  that the plugin does not interfer with normal operations.\n* The negative scenario will run the test role with the global\n  option `tripleo_enable_package_install` set to false. This will\n  ensure that no package is installed.\n* The positive scenario will run the test role with the global\n  option `tripleo_enable_package_install` set to true, which\n  will ensure the expect package is installed.\n\nAll three scenarios have been added as jobs which run when\nthis role or plugin has been changed.\n\nDepends-On: I726740e1c95b2f38fe7bae2e9a8f1e35feb5a7bf\nChange-Id: I096d6332f8231620e39ead557e7c9598adad66dd\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2019-06-17 14:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6f32b3ddee35d1cd6b9d7896ba675710c4c5e506', 'message': 'Import action plugin from tripleo-common\n\nThe package action plugin has been imported from tripleo common.\nThis plugin acts as a shim allowing tripleo to control package\ninstallations within ansible using a global variable.\n\nThe action plugin will now have tests to ensure that it is\nfunctioning as expected within ansible.\n\n* The default scenario will run the test role normally ensuring\n  that the plugin does not interfer with normal operations.\n* The negative scenario will run the test role with the global\n  option `tripleo_enable_package_install` set to false. This will\n  ensure that no package is installed.\n* The positive scenario will run the test role with the global\n  option `tripleo_enable_package_install` set to true, which\n  will ensure the expect package is installed.\n\nAll three scenarios have been added as jobs which run when\nthis role or plugin has been changed.\n\nDepends-On: I726740e1c95b2f38fe7bae2e9a8f1e35feb5a7bf\nChange-Id: I096d6332f8231620e39ead557e7c9598adad66dd\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2019-06-17 15:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b3e352f5cb2cb9d5b55090a896029c087f04d283', 'message': 'Import action plugin from tripleo-common\n\nThe package action plugin has been imported from tripleo common.\nThis plugin acts as a shim allowing tripleo to control package\ninstallations within ansible using a global variable.\n\nThe action plugin will now have tests to ensure that it is\nfunctioning as expected within ansible.\n\n* The default scenario will run the test role normally ensuring\n  that the plugin does not interfer with normal operations.\n* The negative scenario will run the test role with the global\n  option `tripleo_enable_package_install` set to false. This will\n  ensure that no package is installed.\n* The positive scenario will run the test role with the global\n  option `tripleo_enable_package_install` set to true, which\n  will ensure the expect package is installed.\n\nAll three scenarios have been added as jobs which run when\nthis role or plugin has been changed.\n\nBecause this job will run three different molecule scenarios\na change has been made to the pytest setup which will allow\nus to pass in command line arguments to the job function.\nThis update will allow us to now set the command line option\n`--scenario` when running tests. This new argument has been\ndocumented in the `contributing.rst` file.\n\nChange-Id: I096d6332f8231620e39ead557e7c9598adad66dd\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2019-06-17 16:02:18.000000000', 'files': ['doc/source/contributing.rst', 'tripleo_ansible/roles/test_package_action/molecule/positive/verify.yml', 'tripleo_ansible/roles/test_package_action/tasks/main.yml', 'tripleo_ansible/roles/test_package_action/molecule/positive/molecule.yml', 'tripleo_ansible/roles/test_package_action/vars/redhat.yml', 'tripleo_ansible/roles/test_package_action/molecule/default/verify.yml', 'tripleo_ansible/roles/test_package_action/molecule/positive/playbook.yml', 'tripleo_ansible/roles/test_package_action/molecule/negative/prepare.yml', 'tripleo_ansible/roles/test_package_action/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_package_action/molecule/default/prepare.yml', 'tripleo_ansible/roles/test_package_action/molecule/negative/verify.yml', 'tests/test_molecule.py', 'zuul.d/layout.yaml', 'tripleo_ansible/roles/test_package_action/meta/main.yml', 'tripleo_ansible/roles/test_package_action/molecule/negative/playbook.yml', 'tripleo_ansible/roles/test_package_action/molecule/default/playbook.yml', 'tripleo_ansible/ansible_plugins/action/.gitkeep', 'tripleo_ansible/roles/test_package_action/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/test_package_action/README.md', 'tripleo_ansible/roles/test_package_action/molecule/default/Dockerfile', 'tripleo_ansible/roles/test_package_action/defaults/main.yml', 'tripleo_ansible/roles/test_package_action/molecule/positive/prepare.yml', 'tripleo_ansible/roles/test_package_action/molecule/positive/tests/test_positive.py', 'tripleo_ansible/roles/test_package_action/molecule/negative/molecule.yml', 'doc/source/roles/role-test_package_action.rst', 'tripleo_ansible/roles/test_package_action/molecule/negative/Dockerfile', 'tripleo_ansible/roles/test_package_action/molecule/negative/tests/test_negative.py', 'tox.ini', 'zuul.d/jobs.yaml', 'tests/conftest.py', 'tripleo_ansible/ansible_plugins/action/package.py', 'tripleo_ansible/roles/test_package_action/molecule/positive/Dockerfile'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/12d9d8dd61e09b70914c77a010bc61d327827220', 'message': 'Import action plugin from tripleo-common\n\nThe package action plugin has been imported from tripleo common.\nThis plugin acts as a shim allowing tripleo to control package\ninstallations within ansible using a global variable.\n\nThe action plugin will now have tests to ensure that it is\nfunctioning as expected within ansible.\n\n* The default scenario will run the test role normally ensuring\n  that the plugin does not interfer with normal operations.\n* The negative scenario will run the test role with the global\n  option `tripleo_enable_package_install` set to false. This will\n  ensure that no package is installed.\n* The positive scenario will run the test role with the global\n  option `tripleo_enable_package_install` set to true, which\n  will ensure the expect package is installed.\n\nAll three scenarios have been added as jobs which run when\nthis role or plugin has been changed.\n\nBecause this job will run three different molecule scenarios\na change has been made to the pytest setup which will allow\nus to pass in command line arguments to the job function.\nThis update will allow us to now set the command line option\n`--scenario` when running tests. This new argument has been\ndocumented in the `contributing.rst` file.\n\nChange-Id: I096d6332f8231620e39ead557e7c9598adad66dd\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",3,665001,12d9d8dd61e09b70914c77a010bc61d327827220,28,6,8,7353,,,0,"Import action plugin from tripleo-common

The package action plugin has been imported from tripleo common.
This plugin acts as a shim allowing tripleo to control package
installations within ansible using a global variable.

The action plugin will now have tests to ensure that it is
functioning as expected within ansible.

* The default scenario will run the test role normally ensuring
  that the plugin does not interfer with normal operations.
* The negative scenario will run the test role with the global
  option `tripleo_enable_package_install` set to false. This will
  ensure that no package is installed.
* The positive scenario will run the test role with the global
  option `tripleo_enable_package_install` set to true, which
  will ensure the expect package is installed.

All three scenarios have been added as jobs which run when
this role or plugin has been changed.

Because this job will run three different molecule scenarios
a change has been made to the pytest setup which will allow
us to pass in command line arguments to the job function.
This update will allow us to now set the command line option
`--scenario` when running tests. This new argument has been
documented in the `contributing.rst` file.

Change-Id: I096d6332f8231620e39ead557e7c9598adad66dd
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/01/665001/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/test_package_action/molecule/positive/verify.yml', 'tripleo_ansible/roles/test_package_action/tasks/main.yml', 'tripleo_ansible/roles/test_package_action/molecule/positive/molecule.yml', 'tripleo_ansible/roles/test_package_action/vars/redhat.yml', 'tripleo_ansible/roles/test_package_action/molecule/default/verify.yml', 'tripleo_ansible/roles/test_package_action/molecule/positive/playbook.yml', 'tripleo_ansible/roles/test_package_action/molecule/negative/prepare.yml', 'tripleo_ansible/roles/test_package_action/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_package_action/molecule/default/prepare.yml', 'tripleo_ansible/roles/test_package_action/molecule/negative/verify.yml', 'zuul.d/layout.yaml', 'tripleo_ansible/roles/test_package_action/meta/main.yml', 'tripleo_ansible/roles/test_package_action/molecule/negative/playbook.yml', 'tripleo_ansible/roles/test_package_action/molecule/default/playbook.yml', 'tripleo_ansible/ansible_plugins/action/.gitkeep', 'tripleo_ansible/roles/test_package_action/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/test_package_action/README.md', 'tripleo_ansible/roles/test_package_action/molecule/default/Dockerfile', 'tripleo_ansible/roles/test_package_action/defaults/main.yml', 'tripleo_ansible/roles/test_package_action/molecule/positive/prepare.yml', 'tripleo_ansible/roles/test_package_action/molecule/positive/tests/test_positive.py', 'tripleo_ansible/roles/test_package_action/molecule/negative/molecule.yml', 'tripleo_ansible/roles/test_package_action/molecule/negative/Dockerfile', 'tripleo_ansible/roles/test_package_action/molecule/negative/tests/test_negative.py', 'tox.ini', 'zuul.d/jobs.yaml', 'tripleo_ansible/ansible_plugins/action/package.py', 'tripleo_ansible/roles/test_package_action/molecule/positive/Dockerfile']",28,af1b9ac8e8d1f183cf74e714155ae5720890e265,bug/1831246,"# Molecule managed # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. {% if item.registry is defined %} FROM {{ item.registry.url }}/{{ item.image }} {% else %} FROM {{ item.image }} {% endif %} RUN if [ $(command -v apt-get) ]; then apt-get update && apt-get install -y python sudo bash ca-certificates && apt-get clean; \ elif [ $(command -v dnf) ]; then dnf makecache && dnf --assumeyes install python sudo python-devel python*-dnf bash {{ item.pkg_extras | default('') }} && dnf clean all; \ elif [ $(command -v yum) ]; then yum makecache fast && yum install -y python sudo yum-plugin-ovl python-setuptools bash {{ item.pkg_extras | default('') }} && sed -i 's/plugins=0/plugins=1/g' /etc/yum.conf && yum clean all; \ elif [ $(command -v zypper) ]; then zypper refresh && zypper install -y python sudo bash python-xml {{ item.pkg_extras | default('') }} && zypper clean -a; \ elif [ $(command -v apk) ]; then apk update && apk add --no-cache python sudo bash ca-certificates {{ item.pkg_extras | default('') }}; \ elif [ $(command -v xbps-install) ]; then xbps-install -Syu && xbps-install -y python sudo bash ca-certificates {{ item.pkg_extras | default('') }} && xbps-remove -O; fi {% for pkg in item.easy_install | default([]) %} # install pip for centos where there is no python-pip rpm in default repos RUN easy_install {{ pkg }} {% endfor %} CMD [""sh"", ""-c"", ""while true; do sleep 10000; done""]",,842,0
openstack%2Fopenstack-helm-infra~master~I62f99c2f6209fc9bc72dad19e39acb5beed4519b,openstack/openstack-helm-infra,master,I62f99c2f6209fc9bc72dad19e39acb5beed4519b,Ceph: fix schema error in OSD chart,MERGED,2019-06-15 21:17:02.000000000,2019-06-17 22:50:56.000000000,2019-06-17 22:50:56.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17068}, {'_account_id': 17119}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28025}, {'_account_id': 28372}, {'_account_id': 28849}, {'_account_id': 29132}, {'_account_id': 29161}, {'_account_id': 29937}]","[{'number': 1, 'created': '2019-06-15 21:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6c707ea2013e3783dbe1c54dda02784c5cafd03a', 'message': 'Ceph: fix schema error in OSD chart\n\nThis PS fixes:\n Error: error validating """": error validating data: ValidationError(DaemonSet.spec.template.spec.initContainers[3].volumeMounts[10]): unknown field ""ReadOnly"" in io.k8s.api.core.v1.VolumeMount\n\nChange-Id: I62f99c2f6209fc9bc72dad19e39acb5beed4519b\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-06-15 21:40:09.000000000', 'files': ['ceph-osd/templates/daemonset-osd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/146d3d5976e603ac9ef225a8c99ec09ed2b1b374', 'message': 'Ceph: fix schema error in OSD chart\n\nThis PS fixes:\n Error: error validating """": error validating data: ValidationError(DaemonSet.spec.template.spec.initContainers[3].volumeMounts[10]): unknown field ""ReadOnly"" in io.k8s.api.core.v1.VolumeMount\n\nChange-Id: I62f99c2f6209fc9bc72dad19e39acb5beed4519b\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,665524,146d3d5976e603ac9ef225a8c99ec09ed2b1b374,37,16,2,23928,,,0,"Ceph: fix schema error in OSD chart

This PS fixes:
 Error: error validating """": error validating data: ValidationError(DaemonSet.spec.template.spec.initContainers[3].volumeMounts[10]): unknown field ""ReadOnly"" in io.k8s.api.core.v1.VolumeMount

Change-Id: I62f99c2f6209fc9bc72dad19e39acb5beed4519b
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/24/665524/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-osd/templates/daemonset-osd.yaml'],1,6c707ea2013e3783dbe1c54dda02784c5cafd03a,ceph-osd, readOnly: false, ReadOnly: false,1,1
openstack%2Fqinling~master~I000c67a542b52602927fd802d2e347847f8dcc12,openstack/qinling,master,I000c67a542b52602927fd802d2e347847f8dcc12,Fix date format to be compliant with UTC,MERGED,2019-06-11 03:03:29.000000000,2019-06-17 22:49:29.000000000,2019-06-17 22:49:29.000000000,"[{'_account_id': 6732}, {'_account_id': 16006}, {'_account_id': 22348}, {'_account_id': 30127}]","[{'number': 1, 'created': '2019-06-11 03:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/1d2222cde2b9aa4b2e81bec8288ef14601585f3e', 'message': 'Fix date format to be compliant with UTC\n\nCurrently the created_at and updated_at format is not\ncompliant with UTC.\n\n  ""created_at"": ""2019-06-11 00:16:54"",\n  ""updated_at"": ""2019-06-11 00:17:33"",\n\nShould be:\n\n  ""created_at"": ""2019-06-11T00:16:54Z"",\n  ""updated_at"": ""2019-06-11T00:17:33Z"",\n\nChange-Id: I000c67a542b52602927fd802d2e347847f8dcc12\nStory: 2005854\nTask: 33647\n'}, {'number': 2, 'created': '2019-06-11 14:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/2a54890961c9605786d07f6e551988760657fd92', 'message': 'Fix date format to be compliant with UTC\n\nCurrently the created_at and updated_at format is not\ncompliant with UTC.\n\n  ""created_at"": ""2019-06-11 00:16:54"",\n  ""updated_at"": ""2019-06-11 00:17:33"",\n\nShould be:\n\n  ""created_at"": ""2019-06-11T00:16:54Z"",\n  ""updated_at"": ""2019-06-11T00:17:33Z"",\n\nChange-Id: I000c67a542b52602927fd802d2e347847f8dcc12\nStory: 2005854\nTask: 33647\n'}, {'number': 3, 'created': '2019-06-11 18:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/d7bba589e5ccc3191414d71154b2175b4b56c147', 'message': 'Fix date format to be compliant with UTC\n\nCurrently the created_at and updated_at format is not\ncompliant with UTC.\n\n  ""created_at"": ""2019-06-11 00:16:54"",\n  ""updated_at"": ""2019-06-11 00:17:33"",\n\nShould be:\n\n  ""created_at"": ""2019-06-11T00:16:54Z"",\n  ""updated_at"": ""2019-06-11T00:17:33Z"",\n\nChange-Id: I000c67a542b52602927fd802d2e347847f8dcc12\nStory: 2005854\nTask: 33647\n'}, {'number': 4, 'created': '2019-06-11 19:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/b3d9850286326c43360a978d03c76a5b657a859f', 'message': 'Fix date format to be compliant with UTC\n\nCurrently the created_at and updated_at format is not\ncompliant with UTC.\n\n  ""created_at"": ""2019-06-11 00:16:54"",\n  ""updated_at"": ""2019-06-11 00:17:33"",\n\nShould be:\n\n  ""created_at"": ""2019-06-11T00:16:54Z"",\n  ""updated_at"": ""2019-06-11T00:17:33Z"",\n\nChange-Id: I000c67a542b52602927fd802d2e347847f8dcc12\nStory: 2005854\nTask: 33647\n'}, {'number': 5, 'created': '2019-06-17 19:02:47.000000000', 'files': ['qinling/utils/common.py', 'qinling/tests/unit/api/controllers/v1/test_job.py', 'qinling/db/sqlalchemy/model_base.py'], 'web_link': 'https://opendev.org/openstack/qinling/commit/9a4a8ef9788395473460339792bd6aa3ec29bcdd', 'message': 'Fix date format to be compliant with UTC\n\nCurrently the created_at and updated_at format is not\ncompliant with UTC.\n\n  ""created_at"": ""2019-06-11 00:16:54"",\n  ""updated_at"": ""2019-06-11 00:17:33"",\n\nShould be:\n\n  ""created_at"": ""2019-06-11T00:16:54Z"",\n  ""updated_at"": ""2019-06-11T00:17:33Z"",\n\nChange-Id: I000c67a542b52602927fd802d2e347847f8dcc12\nStory: 2005854\nTask: 33647\n'}]",2,664488,9a4a8ef9788395473460339792bd6aa3ec29bcdd,29,4,5,16006,,,0,"Fix date format to be compliant with UTC

Currently the created_at and updated_at format is not
compliant with UTC.

  ""created_at"": ""2019-06-11 00:16:54"",
  ""updated_at"": ""2019-06-11 00:17:33"",

Should be:

  ""created_at"": ""2019-06-11T00:16:54Z"",
  ""updated_at"": ""2019-06-11T00:17:33Z"",

Change-Id: I000c67a542b52602927fd802d2e347847f8dcc12
Story: 2005854
Task: 33647
",git fetch https://review.opendev.org/openstack/qinling refs/changes/88/664488/1 && git format-patch -1 --stdout FETCH_HEAD,"['qinling/utils/common.py', 'qinling/db/sqlalchemy/model_base.py']",2,1d2222cde2b9aa4b2e81bec8288ef14601585f3e,2005854/33647,"from oslo_utils import timeutils created_at = sa.Column(sa.DateTime, default=lambda: timeutils.utcnow()) updated_at = sa.Column(sa.DateTime, onupdate=lambda: timeutils.utcnow()) ",,5,1
openstack%2Fqinling~master~I086e5d1aaf5e467fb767b62c669232cb8364ee58,openstack/qinling,master,I086e5d1aaf5e467fb767b62c669232cb8364ee58,Add Docker support for testing purpose,MERGED,2019-06-13 02:54:25.000000000,2019-06-17 22:46:49.000000000,2019-06-17 22:46:48.000000000,"[{'_account_id': 6732}, {'_account_id': 16006}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-13 02:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/2026bd9ec411d3189f4c71c97edabdde470125ba', 'message': '[WIP] Add Docker support for testing purpose\n\nThis commit add Dockerfile and Docker compose YAML\nfiles to deploy Qinling wihtin Docker for testing\npurpose.\n\nRabbitMQ and MySQL are deployed and configured.\n\nChange-Id: I086e5d1aaf5e467fb767b62c669232cb8364ee58\nStory: 2004166\nTask: 27643\n'}, {'number': 2, 'created': '2019-06-14 18:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/5ea24ca8f8f9b767f007f67b2885a05ee60b799a', 'message': 'Add Docker support for testing purpose\n\nThis commit add Dockerfile and Docker compose YAML\nfiles to deploy Qinling wihtin Docker for testing\npurpose.\n\nRabbitMQ and MySQL are deployed and configured.\n\nChange-Id: I086e5d1aaf5e467fb767b62c669232cb8364ee58\nStory: 2004166\nTask: 27643\n'}, {'number': 3, 'created': '2019-06-17 18:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/516130e780ed44444b063cda2b09c0136ff5b7a3', 'message': 'Add Docker support for testing purpose\n\nThis commit add Dockerfile and Docker compose YAML\nfiles to deploy Qinling wihtin Docker for testing\npurpose.\n\nRabbitMQ and MySQL are deployed and configured.\n\nChange-Id: I086e5d1aaf5e467fb767b62c669232cb8364ee58\nStory: 2004166\nTask: 27643\n'}, {'number': 4, 'created': '2019-06-17 18:30:55.000000000', 'files': ['tools/docker/docker-compose/infrastructure.yaml', 'tools/docker/docker-compose/qinling.env', 'tools/docker/Dockerfile', 'tools/docker/README.rst', 'tools/docker/docker-compose/qinling-single-node.yaml', 'tools/docker/start.sh', 'tools/docker/docker-compose/qinling-multi-node.yaml'], 'web_link': 'https://opendev.org/openstack/qinling/commit/b6f079440e19d05313df89c0f5f27b8159057bf0', 'message': 'Add Docker support for testing purpose\n\nThis commit add Dockerfile and Docker compose YAML\nfiles to deploy Qinling wihtin Docker for testing\npurpose.\n\nRabbitMQ and MySQL are deployed and configured.\n\nChange-Id: I086e5d1aaf5e467fb767b62c669232cb8364ee58\nStory: 2004166\nTask: 27643\n'}]",1,665047,b6f079440e19d05313df89c0f5f27b8159057bf0,14,3,4,16006,,,0,"Add Docker support for testing purpose

This commit add Dockerfile and Docker compose YAML
files to deploy Qinling wihtin Docker for testing
purpose.

RabbitMQ and MySQL are deployed and configured.

Change-Id: I086e5d1aaf5e467fb767b62c669232cb8364ee58
Story: 2004166
Task: 27643
",git fetch https://review.opendev.org/openstack/qinling refs/changes/47/665047/4 && git format-patch -1 --stdout FETCH_HEAD,"['tools/docker/docker-compose/infrastructure.yaml', 'tools/docker/docker-compose/qinling.env', 'tools/docker/Dockerfile', 'tools/docker/docker-compose/qinling-single-node.yaml', 'tools/docker/start.sh', 'tools/docker/DOCKER_README.rst', 'tools/docker/docker-compose/qinling-multi-node.yaml']",7,2026bd9ec411d3189f4c71c97edabdde470125ba,2004166/27643,"version: '3' services: qinling-api: build: context: ../../.. dockerfile: tools/docker/Dockerfile restart: always ports: - ""7070:7070"" networks: database: message-broker: env_file: - qinling.env # volumes: # - ""/path/to/qinling.conf:/etc/qinling/qinling.conf"" environment: - QINLING_SERVER=api - UPGRADE_DB=true qinling-engine: build: context: ../../.. dockerfile: tools/docker/Dockerfile restart: always networks: - database - message-broker env_file: - qinling.env # volumes: # - ""/path/to/qinling.conf:/etc/qinling/qinling.conf"" environment: - QINLING_SERVER=engine ",,184,0
openstack%2Ftripleo-heat-templates~master~I0d97b004c4f162fdefc97a7b603c0136686fa21c,openstack/tripleo-heat-templates,master,I0d97b004c4f162fdefc97a7b603c0136686fa21c,Rework neutron AZ configs considering OVN,MERGED,2019-05-22 14:10:19.000000000,2019-06-17 22:38:17.000000000,2019-06-17 22:38:17.000000000,"[{'_account_id': 3153}, {'_account_id': 6773}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11082}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-05-22 14:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52023025167f28949c038262457e992a3f7dab3e', 'message': 'Add missing puppet bits for neutron AZ configs\n\nPuppet needs to be invoked and hiera data needs to be\nproperly merged with NeutronBase in order to define AZ configs\ncorreclty.\n\nRelated blueprint split-controlplane-templates\n\nChange-Id: I0d97b004c4f162fdefc97a7b603c0136686fa21c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2019-05-22 14:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/00277957ff361a1436679450f298a9d75a4fa378', 'message': 'Add missing puppet bits for neutron AZ configs\n\nPuppet needs to be invoked and hiera data needs to be\nproperly merged with NeutronBase in order to define AZ configs\ncorreclty.\n\nRelated blueprint split-controlplane-templates\n\nChange-Id: I0d97b004c4f162fdefc97a7b603c0136686fa21c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2019-05-22 14:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be779fd588b305d4987ee64f999d43ef9b734999', 'message': 'Add missing puppet bits for neutron AZ configs\n\nPuppet needs to be invoked and hiera data needs to be\nproperly merged with NeutronBase in order to define AZ configs\ncorreclty.\n\nRelated blueprint split-controlplane-templates\n\nChange-Id: I0d97b004c4f162fdefc97a7b603c0136686fa21c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2019-05-24 08:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d0497f1dc3c8cbc4773eabff865f036c545339fd', 'message': 'Add missing puppet bits for neutron AZ configs\n\nPuppet needs to be invoked and hiera data needs to be\nproperly merged with NeutronBase in order to define AZ configs\ncorreclty.\n\nRelated blueprint split-controlplane-templates\n\nChange-Id: I0d97b004c4f162fdefc97a7b603c0136686fa21c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2019-06-04 13:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/625b4ed6ac57933b2d3129705f4d76a09800d784', 'message': 'Add missing puppet bits for neutron AZ configs\n\nPuppet needs to be invoked and hiera data needs to be\nproperly merged with NeutronBase in order to define AZ configs\ncorreclty.\n\nRelated blueprint split-controlplane-templates\n\nChange-Id: I0d97b004c4f162fdefc97a7b603c0136686fa21c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2019-06-05 09:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/569912c2b5d35a375f85fa26fb624b43d9936a95', 'message': 'Add missing puppet bits for neutron AZ configs\n\nPuppet needs to be invoked and hiera data needs to be\nproperly merged with NeutronBase in order to define AZ configs\ncorreclty.\n\nRelated blueprint split-controlplane-templates\n\nChange-Id: I0d97b004c4f162fdefc97a7b603c0136686fa21c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2019-06-07 16:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/36541ef05d4ca2167d21ddca47fe9fae3528538c', 'message': ""Rework neutron AZ configs considering OVN\n\nRight now OVN doesn't support AZ aware routing scheduling. Nor there\nis Neutron agents deployed so there is nothing to apply there for AZ\nconfiguration.\n\nLater in Train cycle OVN ml2 driver will be extended to support it.\nAlso, one can still use the dhcp agent with OVN so its AZ config would\nwork there. But it seems it make a little sense yet to configure\nNeutron AZ bits for OVN.\n\nThat said, we keep AZ configuration logic in the core ML2 plugin\nservice for now becase we need to determine, if NeutronMechanismDrivers\nis set to OVN or OVS. Once AZs implemented for OVN, that may be moved\nout into the dedicated NeutronAZConfig service, or distributed among\nthe existing neutron-api/agent services.\n\nNeutronMechanismDrivers controlls whether AZ configuration takes place\n(if OVS) or not (if OVN).\n\nRelated blueprint split-controlplane-templates\n\nChange-Id: I0d97b004c4f162fdefc97a7b603c0136686fa21c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 8, 'created': '2019-06-10 10:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bb28607945492e06d97149d4f466ee9d95b1891a', 'message': ""Rework neutron AZ configs considering OVN\n\nAllow Neutron to be configured for use of AZs w/o additional t-h-t\nservices introduced.\n\nRight now OVN doesn't support AZ aware routing scheduling. Nor there\nis Neutron agents deployed so there is nothing to apply there for AZ\nconfiguration for OVN.\n\nLater in Train cycle OVN ml2 driver will be extended to support it.\nAlso, one can still use Neutron agents with OVN so its AZ config\nwould work there. But it seems it make a little sense yet to\nconfigure Neutron AZ bits for the OVN (NeutronMechanismDrivers: ovn)\ncase yet.\n\nRelated blueprint split-controlplane-templates\n\nChange-Id: I0d97b004c4f162fdefc97a7b603c0136686fa21c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 9, 'created': '2019-06-10 14:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/71a64df7808a1130b0f4ea08cead836f6f74f038', 'message': ""Rework neutron AZ configs considering OVN\n\nAllow Neutron to be configured for use of AZs w/o additional t-h-t\nservices introduced.\n\nRight now OVN doesn't support AZ aware routing scheduling. Nor there\nis Neutron agents deployed so there is nothing to apply there for AZ\nconfiguration for OVN.\n\nLater in Train cycle OVN ml2 driver will be extended to support it.\nAlso, one can still use Neutron agents with OVN so its AZ config\nwould work there. But it seems it make a little sense yet to\nconfigure Neutron AZ bits for the OVN (NeutronMechanismDrivers: ovn)\ncase yet.\n\nRelated blueprint split-controlplane-templates\n\nChange-Id: I0d97b004c4f162fdefc97a7b603c0136686fa21c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 10, 'created': '2019-06-11 09:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/edcecd50ec864c7ad657a42790eb7efd9f4e1e72', 'message': ""Rework neutron AZ configs considering OVN\n\nAllow Neutron to be configured for use of AZs w/o additional t-h-t\nservices introduced.\n\nLimitations for the used NeutronMechanismDrivers:\n\n* Right now OVN doesn't support AZ aware routing scheduling (later in\n  Train cycle OVN ml2 driver will be extended to support it).\n* Nor there is Neutron agents deployed normally for OVN.\n* We do allow the L3 agent taking AZ configs disregard of\n  the used NeutronMechanismDrivers.\n* But we take the safe path for the DHCP agent and prohibit AZ\n  configuration for it in the OVN case.\n\nSo there is effectively nothing applies there for Neutron AZs and OVN\nas it takes a little to no sense to do that yet.\n\nRelated blueprint split-controlplane-templates\n\nChange-Id: I0d97b004c4f162fdefc97a7b603c0136686fa21c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 11, 'created': '2019-06-12 07:43:16.000000000', 'files': ['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/neutron/neutron-az-config.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'environments/neutron-az-config.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'releasenotes/notes/neutron-az-config-service-3085b2c296df06c9.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/20f34fc556a45f3bd408433a6be99553e863f8ed', 'message': ""Rework neutron AZ configs considering OVN\n\nAllow Neutron to be configured for use of AZs w/o additional t-h-t\nservices introduced.\n\nLimitations for the used NeutronMechanismDrivers:\n\n* Right now OVN doesn't support AZ aware routing scheduling (later in\n  Train cycle OVN ml2 driver will be extended to support it).\n* Nor there is Neutron agents deployed normally for OVN.\n* We do allow the L3 agent taking AZ configs disregard of\n  the used NeutronMechanismDrivers.\n* But we take the safe path for the DHCP agent and prohibit AZ\n  configuration for it in the OVN case.\n\nSo there is effectively nothing applies there for Neutron AZs and OVN\nas it takes a little to no sense to do that yet.\n\nRelated blueprint split-controlplane-templates\n\nChange-Id: I0d97b004c4f162fdefc97a7b603c0136686fa21c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",12,660724,20f34fc556a45f3bd408433a6be99553e863f8ed,60,12,11,6926,,,0,"Rework neutron AZ configs considering OVN

Allow Neutron to be configured for use of AZs w/o additional t-h-t
services introduced.

Limitations for the used NeutronMechanismDrivers:

* Right now OVN doesn't support AZ aware routing scheduling (later in
  Train cycle OVN ml2 driver will be extended to support it).
* Nor there is Neutron agents deployed normally for OVN.
* We do allow the L3 agent taking AZ configs disregard of
  the used NeutronMechanismDrivers.
* But we take the safe path for the DHCP agent and prohibit AZ
  configuration for it in the OVN case.

So there is effectively nothing applies there for Neutron AZs and OVN
as it takes a little to no sense to do that yet.

Related blueprint split-controlplane-templates

Change-Id: I0d97b004c4f162fdefc97a7b603c0136686fa21c
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/660724/10 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-az-config.yaml'],1,52023025167f28949c038262457e992a3f7dab3e,bp/split-controlplane-templates," NeutronBase: type: ./neutron-base.yaml properties: ServiceData: {get_param: ServiceData} ServiceNetMap: {get_param: ServiceNetMap} DefaultPasswords: {get_param: DefaultPasswords} EndpointMap: {get_param: EndpointMap} RoleName: {get_param: RoleName} RoleParameters: {get_param: RoleParameters} map_merge: - get_attr: [NeutronBase, role_data, config_settings] - neutron::server::dhcp_load_type: {get_param: NeutronDhcpLoadType} neutron::server::network_scheduler_driver: {get_param: NeutronNetworkSchedulerDriver} neutron::server::router_scheduler_driver: {get_param: NeutronRouterSchedulerDriver} neutron::server::default_availability_zones: {str_split: [',', {get_attr: [NeutronAvailabilityZones, value]}]} neutron::agents::l3::availability_zone: {get_attr: [NeutronL3AgentAvailabilityZoneReal, value]} neutron::agents::dhcp::availability_zone: {get_attr: [NeutronDhcpAgentAvailabilityZoneReal, value]} step_config: | include ::tripleo::profile::base::neutron"," neutron::server::dhcp_load_type: {get_param: NeutronDhcpLoadType} neutron::server::network_scheduler_driver: {get_param: NeutronNetworkSchedulerDriver} neutron::server::router_scheduler_driver: {get_param: NeutronRouterSchedulerDriver} neutron::server::default_availability_zones: {str_split: [',', {get_attr: [NeutronAvailabilityZones, value]}]} neutron::agents::l3::availability_zone: {get_attr: [NeutronL3AgentAvailabilityZoneReal, value]} neutron::agents::dhcp::availability_zone: {get_attr: [NeutronDhcpAgentAvailabilityZoneReal, value]}",26,11
openstack%2Foctavia-tempest-plugin~master~Id9004adf8952d6ef82b7bda6f2d3b509655f1c69,openstack/octavia-tempest-plugin,master,Id9004adf8952d6ef82b7bda6f2d3b509655f1c69,Save amphora logs in gate,MERGED,2018-12-19 23:02:14.000000000,2019-06-17 22:34:48.000000000,2019-06-17 22:34:48.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-12-19 23:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/1bff5ef09e755429129d58f57c21965fe3bb6f1d', 'message': 'Save amphora logs in gate\n\nDepends-On: https://review.openstack.org/624835\nChange-Id: Id9004adf8952d6ef82b7bda6f2d3b509655f1c69\n'}, {'number': 2, 'created': '2019-02-13 13:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/57aa4e630966d96d553d9357beb2ab584c112a4e', 'message': 'Save amphora logs in gate\n\nDepends-On: https://review.openstack.org/624835\nChange-Id: Id9004adf8952d6ef82b7bda6f2d3b509655f1c69\n'}, {'number': 3, 'created': '2019-02-13 22:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c0a5a8b568ed4b7805289e355f5599a7bcf5d4b2', 'message': 'Save amphora logs in gate\n\nDepends-On: https://review.openstack.org/624835\nChange-Id: Id9004adf8952d6ef82b7bda6f2d3b509655f1c69\n'}, {'number': 4, 'created': '2019-03-11 17:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7c638d0a86a9b10552fa3fd357ca3dd8d2a966a6', 'message': 'Save amphora logs in gate\n\nDepends-On: https://review.openstack.org/624835\nChange-Id: Id9004adf8952d6ef82b7bda6f2d3b509655f1c69\n'}, {'number': 5, 'created': '2019-06-10 23:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c9cd60ff752a2ff38654437a224adc36981d8925', 'message': 'Save amphora logs in gate\n\nDepends-On: https://review.openstack.org/624835\nChange-Id: Id9004adf8952d6ef82b7bda6f2d3b509655f1c69\n'}, {'number': 6, 'created': '2019-06-11 23:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/48b99793682393d5cee08148a05ea23dfd05db35', 'message': 'Save amphora logs in gate\n\nDepends-On: https://review.openstack.org/624835\nChange-Id: Id9004adf8952d6ef82b7bda6f2d3b509655f1c69\n'}, {'number': 7, 'created': '2019-06-12 00:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/fe42bee76e9f9b765f141c5b9e5f2dfab4b44641', 'message': 'Save amphora logs in gate\n\nDepends-On: https://review.openstack.org/624835\nChange-Id: Id9004adf8952d6ef82b7bda6f2d3b509655f1c69\n'}, {'number': 8, 'created': '2019-06-12 03:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/985286acba9fe9de3197d67763f55320ac561a82', 'message': 'Save amphora logs in gate\n\nDepends-On: https://review.openstack.org/624835\nChange-Id: Id9004adf8952d6ef82b7bda6f2d3b509655f1c69\n'}, {'number': 9, 'created': '2019-06-12 16:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/1e6ea2b79912bc0b11887daf2d7fbadc92f8fb64', 'message': 'Save amphora logs in gate\n\nDepends-On: https://review.opendev.org/#/c/624835/\nChange-Id: Id9004adf8952d6ef82b7bda6f2d3b509655f1c69\n'}, {'number': 10, 'created': '2019-06-14 16:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/749e23769841138b180519939d722e1a3cc7287e', 'message': 'Save amphora logs in gate\n\nDepends-On: https://review.opendev.org/#/c/624835/\nChange-Id: Id9004adf8952d6ef82b7bda6f2d3b509655f1c69\n'}, {'number': 11, 'created': '2019-06-14 16:10:22.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/070297f2881e8328e151f2deb88ef4f23a22d88b', 'message': 'Save amphora logs in gate\n\nDepends-On: https://review.opendev.org/#/c/624835/\nChange-Id: Id9004adf8952d6ef82b7bda6f2d3b509655f1c69\n'}]",1,626406,070297f2881e8328e151f2deb88ef4f23a22d88b,44,9,11,10850,,,0,"Save amphora logs in gate

Depends-On: https://review.opendev.org/#/c/624835/
Change-Id: Id9004adf8952d6ef82b7bda6f2d3b509655f1c69
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/06/626406/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,1bff5ef09e755429129d58f57c21965fe3bb6f1d,log-offloading, '/var/log/octavia-amphora.log': 'logs',,1,0
openstack%2Fswift~master~I55cd3fc188dca4a357dbb599aa58ab4083d3baf5,openstack/swift,master,I55cd3fc188dca4a357dbb599aa58ab4083d3baf5,Fix :param: in docstring,MERGED,2019-06-14 03:33:36.000000000,2019-06-17 22:11:58.000000000,2019-06-17 22:10:44.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-14 03:33:36.000000000', 'files': ['swift/obj/reconstructor.py', 'swift/common/manager.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0f46ace8a95c6abddba0cc5b02504a5324f1586c', 'message': 'Fix :param: in docstring\n\nIn docstring :param should be used instead of :param:\n\nChange-Id: I55cd3fc188dca4a357dbb599aa58ab4083d3baf5\n'}]",0,665284,0f46ace8a95c6abddba0cc5b02504a5324f1586c,11,2,1,20190,,,0,"Fix :param: in docstring

In docstring :param should be used instead of :param:

Change-Id: I55cd3fc188dca4a357dbb599aa58ab4083d3baf5
",git fetch https://review.opendev.org/openstack/swift refs/changes/84/665284/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/reconstructor.py', 'swift/common/manager.py']",2,0f46ace8a95c6abddba0cc5b02504a5324f1586c,param, :param number: if supplied will only lookup the nth server :param number: if supplied will only lookup the nth server :param pids: if not supplied pids will be populated automatically :param number: if supplied will only lookup the nth server," :param: number, if supplied will only lookup the nth server :param: number, if supplied will only lookup the nth server :param: pids, if not supplied pids will be populated automatically :param: number, if supplied will only lookup the nth server",6,6
openstack%2Fneutron~master~I314b290cce6ad608e33447aaab0a279e8659d67d,openstack/neutron,master,I314b290cce6ad608e33447aaab0a279e8659d67d,Update some docs to use openstack client,MERGED,2019-06-12 16:43:23.000000000,2019-06-17 22:10:46.000000000,2019-06-17 22:10:46.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-12 16:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/53a1367b2c251cc97c6aff95c477d698bdb2eab9', 'message': 'Update some docs to use openstack client\n\nUpdated DNS and routed network docs to use openstack client\ninstead of neutron client.\n\nTrivialfix\n\nChange-Id: I314b290cce6ad608e33447aaab0a279e8659d67d\n'}, {'number': 2, 'created': '2019-06-17 16:12:40.000000000', 'files': ['doc/source/admin/config-dns-int-ext-serv.rst', 'doc/source/admin/config-routed-networks.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e4709e86248cb2f691b312cb5fb4efe4a17bea4e', 'message': 'Update some docs to use openstack client\n\nUpdated DNS and routed network docs to use openstack client\ninstead of neutron client.\n\nTrivialfix\n\nChange-Id: I314b290cce6ad608e33447aaab0a279e8659d67d\n'}]",4,664975,e4709e86248cb2f691b312cb5fb4efe4a17bea4e,16,7,2,1131,,,0,"Update some docs to use openstack client

Updated DNS and routed network docs to use openstack client
instead of neutron client.

Trivialfix

Change-Id: I314b290cce6ad608e33447aaab0a279e8659d67d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/664975/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/config-dns-int-ext-serv.rst', 'doc/source/admin/config-routed-networks.rst']",2,53a1367b2c251cc97c6aff95c477d698bdb2eab9,use-osc-in-docs, $ openstack network agent list --agent-type dhcp --network multisegment +--------------------------------------+------------+-------------+-------------------+-------+-------+--------------------+ | ID | Agent Type | Host | Availability Zone | Alive | State | Binary | +--------------------------------------+------------+-------------+-------------------+-------+-------+--------------------+ | c904ed10-922c-4c1a-84fd-d928abaf8f55 | DHCP agent | compute0001 | nova | :-) | UP | neutron-dhcp-agent | | e0b22cc0-d2a6-4f1c-b17c-27558e20b454 | DHCP agent | compute0101 | nova | :-) | UP | neutron-dhcp-agent | +--------------------------------------+------------+-------------+-------------------+-------+-------+--------------------+, $ neutron dhcp-agent-list-hosting-net multisegment1 +--------------------------------------+-------------+----------------+-------+ | id | host | admin_state_up | alive | +--------------------------------------+-------------+----------------+-------+ | c904ed10-922c-4c1a-84fd-d928abaf8f55 | compute0001 | True | :-) | | e0b22cc0-d2a6-4f1c-b17c-27558e20b454 | compute0101 | True | :-) | +--------------------------------------+-------------+----------------+-------+,63,58
openstack%2Fnetworking-ovn~master~I1c2903e97e7aadff830a63011ab7eff8ca03c65b,openstack/networking-ovn,master,I1c2903e97e7aadff830a63011ab7eff8ca03c65b,Hash Ring: Fix race during service initialization,MERGED,2019-06-17 16:08:38.000000000,2019-06-17 22:07:47.000000000,2019-06-17 22:07:47.000000000,"[{'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-06-17 16:08:38.000000000', 'files': ['networking_ovn/ml2/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5edf5cefc58f3303064f04b3976382727f7e513f', 'message': ""Hash Ring: Fix race during service initialization\n\nThis patch is moving the call that cleans up the local hash ring workers\n(self._clean_hash_ring) to happen prior to it subscribing to the worker's\npre/post fork notifications.\n\nBefore, the self._clean_hash_ring() was invoked during\npre_fork_initialize() which could race with the post_fork_initialize()\nwhen multiple workers where being spawned in parallel and that could\ncause some new workers to be deleted from the Hash Ring (see bug linked\nto more information and logs).\n\nChange-Id: I1c2903e97e7aadff830a63011ab7eff8ca03c65b\nCloses-Bug: #1833105\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}]",0,665720,5edf5cefc58f3303064f04b3976382727f7e513f,7,3,1,6773,,,0,"Hash Ring: Fix race during service initialization

This patch is moving the call that cleans up the local hash ring workers
(self._clean_hash_ring) to happen prior to it subscribing to the worker's
pre/post fork notifications.

Before, the self._clean_hash_ring() was invoked during
pre_fork_initialize() which could race with the post_fork_initialize()
when multiple workers where being spawned in parallel and that could
cause some new workers to be deleted from the Hash Ring (see bug linked
to more information and logs).

Change-Id: I1c2903e97e7aadff830a63011ab7eff8ca03c65b
Closes-Bug: #1833105
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/20/665720/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ml2/mech_driver.py'],1,5edf5cefc58f3303064f04b3976382727f7e513f,bug/1833105, # NOTE(lucasagomes): _clean_hash_ring() must be called before # self.subscribe() to avoid processes racing when adding or # deleting nodes from the Hash Ring during service initialization self._clean_hash_ring(), self._clean_hash_ring(),4,1
openstack%2Fqinling~master~I04291996b91b1d781de89926d7e4489f5c0bac42,openstack/qinling,master,I04291996b91b1d781de89926d7e4489f5c0bac42,update git.openstack.org to opendev,MERGED,2019-04-24 06:03:01.000000000,2019-06-17 21:46:40.000000000,2019-06-17 21:46:40.000000000,"[{'_account_id': 6732}, {'_account_id': 16006}, {'_account_id': 22348}, {'_account_id': 30298}]","[{'number': 1, 'created': '2019-04-24 06:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/d892e6ab583de5dfc068eb830cdc9e2098cf545b', 'message': 'update git.openstack.org to opendev\n\nChange-Id: I04291996b91b1d781de89926d7e4489f5c0bac42\n'}, {'number': 2, 'created': '2019-04-24 08:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/bcb83d8b69ce9ab859860a988775ad4aa51c1378', 'message': 'update git.openstack.org to opendev\n\nChange-Id: I04291996b91b1d781de89926d7e4489f5c0bac42\n'}, {'number': 3, 'created': '2019-05-27 01:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/5f4ed704fb4e56a8769efb74ba79f77ced0ec553', 'message': 'update git.openstack.org to opendev\n\nChange-Id: I04291996b91b1d781de89926d7e4489f5c0bac42\n'}, {'number': 4, 'created': '2019-05-31 23:54:40.000000000', 'files': ['doc/source/index.rst', 'README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/qinling/commit/ff664572bf5cc9bcc0e80f96c0e0b262afc8233a', 'message': 'update git.openstack.org to opendev\n\nChange-Id: I04291996b91b1d781de89926d7e4489f5c0bac42\n'}]",0,655300,ff664572bf5cc9bcc0e80f96c0e0b262afc8233a,28,4,4,30298,,,0,"update git.openstack.org to opendev

Change-Id: I04291996b91b1d781de89926d7e4489f5c0bac42
",git fetch https://review.opendev.org/openstack/qinling refs/changes/00/655300/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'README.rst', 'tox.ini']",3,d892e6ab583de5dfc068eb830cdc9e2098cf545b,,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},3,3
openstack%2Fopenstack-helm~master~I265d488e8024967685c5587d7a7cd24281011f3b,openstack/openstack-helm,master,I265d488e8024967685c5587d7a7cd24281011f3b,Nova: Fix metadata deps,MERGED,2019-06-17 16:42:17.000000000,2019-06-17 21:36:07.000000000,2019-06-17 21:36:07.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-17 16:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6ea64d6a0a10b152c7b1a9d99835e19704beef22', 'message': 'Nova: Fix metadata deps\n\nThis PS fixes the nova metadata deps to permit operation without\nand ingress controller and prevent a circular dep chain.\n\nChange-Id: I265d488e8024967685c5587d7a7cd24281011f3b\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-06-17 16:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/82c2bab7f7324e9c1d476fdfe90fbf5f7ad48825', 'message': 'Nova: Fix metadata deps\n\nThis PS fixes the nova metadata deps to permit operation without\nand ingress controller and prevent a circular dep chain.\n\nChange-Id: I265d488e8024967685c5587d7a7cd24281011f3b\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-06-17 17:07:50.000000000', 'files': ['nova/values.yaml', 'nova/templates/deployment-api-metadata.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5ccd3a9e958480cb94544d92ec450ec5dd49b86c', 'message': 'Nova: Fix metadata deps\n\nThis PS fixes the nova metadata deps to permit operation without\nand ingress controller and prevent a circular dep chain.\n\nChange-Id: I265d488e8024967685c5587d7a7cd24281011f3b\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,665725,5ccd3a9e958480cb94544d92ec450ec5dd49b86c,15,4,3,23928,,,0,"Nova: Fix metadata deps

This PS fixes the nova metadata deps to permit operation without
and ingress controller and prevent a circular dep chain.

Change-Id: I265d488e8024967685c5587d7a7cd24281011f3b
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/25/665725/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/values.yaml', 'nova/templates/deployment-api-metadata.yaml']",2,6ea64d6a0a10b152c7b1a9d99835e19704beef22,nova-deps,"{{ tuple $envAll ""api_metadata"" $serviceAccountName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }}{{ tuple $envAll ""api_metadata"" $mounts_nova_api_metadata_init | include ""helm-toolkit.snippets.kubernetes_entrypoint_init_container"" | indent 8 }}","{{ tuple $envAll ""api"" $serviceAccountName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }}{{ tuple $envAll ""api"" $mounts_nova_api_metadata_init | include ""helm-toolkit.snippets.kubernetes_entrypoint_init_container"" | indent 8 }}",19,4
openstack%2Fopenstack-ansible-rabbitmq_server~master~I49747e104f118ef1fb2bdeb329c92d2f5fb66c56,openstack/openstack-ansible-rabbitmq_server,master,I49747e104f118ef1fb2bdeb329c92d2f5fb66c56,el7: switch to external_repo install_method,MERGED,2019-06-11 21:04:59.000000000,2019-06-17 21:18:17.000000000,2019-06-17 08:40:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-06-11 21:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/249cf49ecf2fb1c67dbdb49022506ff8631d74de', 'message': 'el7: switch to external_repo install_method\n\nThis patch changes the default deployment back to using the\nRabbitMQ external repositories.  This restores the behaviour\nto the same as the old and ships the 3.7.x series.\n\nChange-Id: I49747e104f118ef1fb2bdeb329c92d2f5fb66c56\n'}, {'number': 2, 'created': '2019-06-11 22:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/c70106c62c75ecadd21731e7c1c652dd1ca78894', 'message': 'el7: switch to external_repo install_method\n\nThis patch changes the default deployment back to using the\nRabbitMQ external repositories.  This restores the behaviour\nto the same as the old and ships the 3.7.x series.\n\nChange-Id: I49747e104f118ef1fb2bdeb329c92d2f5fb66c56\n'}, {'number': 3, 'created': '2019-06-11 23:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/d50582f65f1ad42ae0c2c0d1161c0f26c5a9f19c', 'message': 'el7: switch to external_repo install_method\n\nThis patch changes the default deployment back to using the\nRabbitMQ external repositories.  This restores the behaviour\nto the same as the old and ships the 3.7.x series.\n\nChange-Id: I49747e104f118ef1fb2bdeb329c92d2f5fb66c56\n'}, {'number': 4, 'created': '2019-06-11 23:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/68d42819f149bc3fae997ab89c8868ddf85f7bf3', 'message': 'el7: switch to external_repo install_method\n\nThis patch changes the default deployment back to using the\nRabbitMQ external repositories.  This restores the behaviour\nto the same as the old and ships the 3.7.x series.\n\nChange-Id: I49747e104f118ef1fb2bdeb329c92d2f5fb66c56\n'}, {'number': 5, 'created': '2019-06-16 16:45:02.000000000', 'files': ['tasks/install_yum.yml', 'vars/redhat.yml', 'tests/rabbitmq_server-overrides.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/961ea180591048d69e4cea5ac756b87625b08a2a', 'message': 'el7: switch to external_repo install_method\n\nThis patch changes the default deployment back to using the\nRabbitMQ external repositories.  This restores the behaviour\nto the same as the old and ships the 3.7.x series.\n\nWe deploy without HiPE by default however our testing is doing\nit with HiPE.  This patch drops it so we can actually test\nbehaviour that we deploy by default.\n\nChange-Id: I49747e104f118ef1fb2bdeb329c92d2f5fb66c56\n'}]",0,664694,961ea180591048d69e4cea5ac756b87625b08a2a,13,3,5,1004,,,0,"el7: switch to external_repo install_method

This patch changes the default deployment back to using the
RabbitMQ external repositories.  This restores the behaviour
to the same as the old and ships the 3.7.x series.

We deploy without HiPE by default however our testing is doing
it with HiPE.  This patch drops it so we can actually test
behaviour that we deploy by default.

Change-Id: I49747e104f118ef1fb2bdeb329c92d2f5fb66c56
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/94/664694/5 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/install_yum.yml', 'vars/redhat.yml']",2,249cf49ecf2fb1c67dbdb49022506ff8631d74de,bug/1832376,"_rabbitmq_install_method: external_repo _rabbitmq_repo_url: ""https://packagecloud.io/rabbitmq/rabbitmq-server/el/{{ ansible_distribution_major_version }}/$basearch"" _rabbitmq_repo: name: rabbitmq_rabbitmq-server description: ""RabbitMQ Server Rolling Repository"" baseurl: ""{{ rabbitmq_repo_url }}"" filename: RabbitMQ _rabbitmq_erlang_repo_url: ""https://packagecloud.io/rabbitmq/erlang/el/{{ ansible_distribution_major_version }}/$basearch"" _rabbitmq_erlang_repo: name: rabbitmq_els-erlang description: ""RabbitMQ Erlang Packages from Bintray"" baseurl: ""{{ rabbitmq_erlang_repo_url }}"" filename: els-erlang - ""rabbitmq-server-3.7.8-1.el7.noarch""",_rabbitmq_install_method: distro - openssl - rabbitmq-server ,31,6
openstack%2Fswift~master~I84b062d062ff49935feed0aee3e1963bb72eb5ea,openstack/swift,master,I84b062d062ff49935feed0aee3e1963bb72eb5ea,Remove invalid dict entries from hashes.pkl,MERGED,2019-05-29 10:12:46.000000000,2019-06-17 20:42:23.000000000,2019-06-17 20:38:44.000000000,"[{'_account_id': 6968}, {'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 19234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 10:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9fe0ab84b77e9a5dcf0089d5d598bf365500f8dd', 'message': 'Remove invalid dict entries from hashes.pkl\n\nIf the data in a hashes.pkl is corrupted but still de-serialized without\nerrors, it will mess up the replication and gets never fixed. This\nhappens for example if one of the keys is a NULL byte.\n\nThis patch checks if the dict keys are valid strings, and removes\npossible corrupted keys if not.\n\nChange-Id: I84b062d062ff49935feed0aee3e1963bb72eb5ea\nCloses-Bug: 1830881\n'}, {'number': 2, 'created': '2019-05-31 09:07:56.000000000', 'files': ['test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c9e78d15e1e05f23facf7c28758b442bb25bde68', 'message': 'Remove invalid dict entries from hashes.pkl\n\nIf the data in a hashes.pkl is corrupted but still de-serialized without\nerrors, it will mess up the replication and gets never fixed. This\nhappens for example if one of the keys is a NULL byte.\n\nThis patch checks if the dict keys in hashes.pkl are valid strings and\ninvalidates it if not.\n\nCloses-Bug: 1830881\nChange-Id: I84b062d062ff49935feed0aee3e1963bb72eb5ea\n'}]",8,661930,c9e78d15e1e05f23facf7c28758b442bb25bde68,15,5,2,6968,,,0,"Remove invalid dict entries from hashes.pkl

If the data in a hashes.pkl is corrupted but still de-serialized without
errors, it will mess up the replication and gets never fixed. This
happens for example if one of the keys is a NULL byte.

This patch checks if the dict keys in hashes.pkl are valid strings and
invalidates it if not.

Closes-Bug: 1830881
Change-Id: I84b062d062ff49935feed0aee3e1963bb72eb5ea
",git fetch https://review.opendev.org/openstack/swift refs/changes/30/661930/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py']",2,9fe0ab84b77e9a5dcf0089d5d598bf365500f8dd,bug/1830881," # Cleanup possible corrupted data for suffix in hashes.keys(): if not isinstance(suffix, str): del hashes[suffix] ",,11,0
openstack%2Fnova-specs~master~I9acd053aab766e8cf980f0093d642cdc0725b0f8,openstack/nova-specs,master,I9acd053aab766e8cf980f0093d642cdc0725b0f8,Update spec: filtering of alloc candidates by forbidden aggregates,MERGED,2019-06-17 08:17:37.000000000,2019-06-17 20:42:20.000000000,2019-06-17 20:42:20.000000000,"[{'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 08:17:37.000000000', 'files': ['specs/train/approved/placement-req-filter-forbidden-aggregates.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c8fdf0461b0bb1e710758ffbfe8b699d92bbf626', 'message': 'Update spec: filtering of alloc candidates by forbidden aggregates\n\nEarlier, it was decided to sync traits that were set to the aggregates\nin Nova to the compute node resource providers in Placement.\nBut there are issues especially when you want to remove traits from\naggregates or remove hosts from aggregates.\n\nFor example, Isolating hyperthreading hosts. Assume you have already\nconfigured compute node resource providers with\n""HW_CPU_HYPERTHREADING"" trait in placement and now you are enabling\nscheduler forbidden aggregates pre-request filter. So, operator will\nsimply add ""HW_CPU_HYPERTHREADING"" trait to the aggregate and add\nall hyperthreading hosts to it. Later, if operator want to remove\nsome hosts from aggregate, the trait ""HW_CPU_HYPERTHREADING"" will\nalso be removed from host even though the host is still capable of\nproviding hyperthreading.\n\nThe specs is updated after consensus from community to avoid\nautomatic syncing of traits. Operator will need to set these traits\nmanually in placement service.\n\nImplements: blueprint placement-req-filter-forbidden-aggregates\nChange-Id: I9acd053aab766e8cf980f0093d642cdc0725b0f8\n'}]",0,665605,c8fdf0461b0bb1e710758ffbfe8b699d92bbf626,7,7,1,1011,,,0,"Update spec: filtering of alloc candidates by forbidden aggregates

Earlier, it was decided to sync traits that were set to the aggregates
in Nova to the compute node resource providers in Placement.
But there are issues especially when you want to remove traits from
aggregates or remove hosts from aggregates.

For example, Isolating hyperthreading hosts. Assume you have already
configured compute node resource providers with
""HW_CPU_HYPERTHREADING"" trait in placement and now you are enabling
scheduler forbidden aggregates pre-request filter. So, operator will
simply add ""HW_CPU_HYPERTHREADING"" trait to the aggregate and add
all hyperthreading hosts to it. Later, if operator want to remove
some hosts from aggregate, the trait ""HW_CPU_HYPERTHREADING"" will
also be removed from host even though the host is still capable of
providing hyperthreading.

The specs is updated after consensus from community to avoid
automatic syncing of traits. Operator will need to set these traits
manually in placement service.

Implements: blueprint placement-req-filter-forbidden-aggregates
Change-Id: I9acd053aab766e8cf980f0093d642cdc0725b0f8
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/05/665605/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/placement-req-filter-forbidden-aggregates.rst'],1,c8fdf0461b0bb1e710758ffbfe8b699d92bbf626,bp/placement-req-filter-forbidden-aggregates,"This spec will not sync traits to placement and it will not add thesewhich has metadata key=value pair with syntax `trait:<trait_name>=required`. Please refer to the `Nova meeting log`_ and `Mailing thread`_ where we have mutually agreed to let operator sync these traits manually. In future, if required, a utility tool can be developed for syncing these traits which is outside the scope of this spec... _Nova meeting log: http://eavesdrop.openstack.org/meetings/nova/2019/nova.2019-06-13-14.00.log.html#l-267 .. _Mailing thread: http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006950.html",We will modify this command to synchronize traits to placement and add theseif aggregate has metadata key=value pair with syntax `trait:<trait_name>=required`.,8,3
openstack%2Fswift~master~Id33a7ab9d0b8f33fede73eae540d6137708e1218,openstack/swift,master,Id33a7ab9d0b8f33fede73eae540d6137708e1218,s3api: Fix ETag when copying a MU part from another MU,MERGED,2019-05-21 05:12:19.000000000,2019-06-17 20:41:24.000000000,2019-06-17 20:38:43.000000000,"[{'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-21 05:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/731332fc1f4aae6e5474dd82592d29fb6c8486d6', 'message': ""s3api: Fix ETag when copying a MU part from another MU\n\nPreviously, we'd preserve the sysmeta that we wrote down with the\noriginal multipart-upload to track its S3-style etag on the new part,\ncausing it to have an ETag like `<MD5>-<N>`. Later, when the client\ntried to complete the new multipart-upload, it would send that etag back\nto the server, which would reject the request because the ETag didn't\nlook like a normal MD5.\n\nNow, have s3api include blank values in the copy request to overwrite\nthe source sysmeta, and have copy drop headers that do not have values.\nWithout the change to copy, we would persist the sysmeta headers with the\nempty value and return them in subsequent GETs; there was no way to\ncompletely *remove* the headers.\n\nChange-Id: Id33a7ab9d0b8f33fede73eae540d6137708e1218\n""}, {'number': 2, 'created': '2019-05-21 21:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/887132b83e174befee21f1c40dcfbd95c5be1824', 'message': ""s3api: Fix ETag when copying a MU part from another MU\n\nPreviously, we'd preserve the sysmeta that we wrote down with the\noriginal multipart-upload to track its S3-style etag on the new part,\ncausing it to have an ETag like `<MD5>-<N>`. Later, when the client\ntried to complete the new multipart-upload, it would send that etag back\nto the server, which would reject the request because the ETag didn't\nlook like a normal MD5.\n\nNow, have s3api include blank values in the copy request to overwrite\nthe source sysmeta, and treat a blank etag override the same as a\nmissing one.\n\nChange-Id: Id33a7ab9d0b8f33fede73eae540d6137708e1218\n""}, {'number': 3, 'created': '2019-05-22 20:37:57.000000000', 'files': ['swift/common/middleware/s3api/controllers/multi_upload.py', 'swift/common/middleware/s3api/s3response.py', 'test/functional/s3api/test_multi_upload.py', 'test/unit/common/middleware/s3api/test_multi_upload.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e22960fd718c4594bc8a504a12aba3f6a52175bf', 'message': ""s3api: Fix ETag when copying a MU part from another MU\n\nPreviously, we'd preserve the sysmeta that we wrote down with the\noriginal multipart-upload to track its S3-style etag on the new part,\ncausing it to have an ETag like `<MD5>-<N>`. Later, when the client\ntried to complete the new multipart-upload, it would send that etag back\nto the server, which would reject the request because the ETag didn't\nlook like a normal MD5.\n\nNow, have s3api include blank values in the copy request to overwrite\nthe source sysmeta, and treat a blank etag override the same as a\nmissing one.\n\nChange-Id: Id33a7ab9d0b8f33fede73eae540d6137708e1218\nCloses-Bug: #1829959\n""}]",4,660249,e22960fd718c4594bc8a504a12aba3f6a52175bf,14,3,3,15343,,,0,"s3api: Fix ETag when copying a MU part from another MU

Previously, we'd preserve the sysmeta that we wrote down with the
original multipart-upload to track its S3-style etag on the new part,
causing it to have an ETag like `<MD5>-<N>`. Later, when the client
tried to complete the new multipart-upload, it would send that etag back
to the server, which would reject the request because the ETag didn't
look like a normal MD5.

Now, have s3api include blank values in the copy request to overwrite
the source sysmeta, and treat a blank etag override the same as a
missing one.

Change-Id: Id33a7ab9d0b8f33fede73eae540d6137708e1218
Closes-Bug: #1829959
",git fetch https://review.opendev.org/openstack/swift refs/changes/49/660249/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/copy.py', 'swift/common/middleware/s3api/controllers/multi_upload.py', 'test/functional/s3api/test_multi_upload.py']",3,731332fc1f4aae6e5474dd82592d29fb6c8486d6,bug/1829959," # Upload Part Copy -- MU as source key, upload_id = uploads[1] status, headers, body, resp_etag = \ self._upload_part_copy(bucket, keys[0], bucket, key, upload_id, part_num=2) self.assertEqual(status, 200) self.assertCommonResponseHeaders(headers) self.assertIn('content-type', headers) self.assertEqual(headers['content-type'], 'application/xml') self.assertIn('content-length', headers) self.assertEqual(headers['content-length'], str(len(body))) self.assertNotIn('etag', headers) elem = fromstring(body, 'CopyPartResult') last_modified = elem.find('LastModified').text self.assertIsNotNone(last_modified) exp_content = 'a' * self.min_segment_size etag = md5(exp_content).hexdigest() self.assertEqual(resp_etag, etag) # Also check that the etag is correct in part listings query = 'uploadId=%s' % upload_id status, headers, body = \ self.conn.make_request('GET', bucket, key, query=query) self.assertEqual(status, 200) self.assertCommonResponseHeaders(headers) self.assertTrue('content-type' in headers) self.assertEqual(headers['content-type'], 'application/xml') self.assertTrue('content-length' in headers) self.assertEqual(headers['content-length'], str(len(body))) elem = fromstring(body, 'ListPartsResult') self.assertEqual(len(elem.findall('Part')), 2) self.assertEqual(elem.findall('Part')[1].find('PartNumber').text, '2') self.assertEqual(elem.findall('Part')[1].find('ETag').text, '""%s""' % etag) # Abort Multipart Uploads # note that uploads[1] has part data while uploads[2] does not for key, upload_id in uploads[1:]: query = 'uploadId=%s' % upload_id status, headers, body = \ self.conn.make_request('DELETE', bucket, key, query=query) self.assertEqual(status, 204) self.assertCommonResponseHeaders(headers) self.assertTrue('content-type' in headers) self.assertEqual(headers['content-type'], 'text/html; charset=UTF-8') self.assertTrue('content-length' in headers) self.assertEqual(headers['content-length'], '0') self.conn.make_request('HEAD', bucket, keys[0], req_headers) resp_objects = list(elem.findall('./Contents')) self.assertEqual(len(resp_objects), 1) o = resp_objects[0] self.assertEqual(o.find('Key').text, keys[0]) self.assertIsNotNone(o.find('LastModified').text) self.assertRegexpMatches( o.find('LastModified').text, r'^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z$') self.assertEqual(o.find('ETag').text, exp_etag) self.assertEqual(o.find('Size').text, str(exp_size)) self.assertIsNotNone(o.find('StorageClass').text) self.assertEqual(o.find('Owner/ID').text, self.conn.user_id) self.assertEqual(o.find('Owner/DisplayName').text, self.conn.user_id)"," # Abort Multipart Uploads # note that uploads[1] has part data while uploads[2] does not for key, upload_id in uploads[1:]: query = 'uploadId=%s' % upload_id status, headers, body = \ self.conn.make_request('DELETE', bucket, key, query=query) self.assertEqual(status, 204) self.assertCommonResponseHeaders(headers) self.assertTrue('content-type' in headers) self.assertEqual(headers['content-type'], 'text/html; charset=UTF-8') self.assertTrue('content-length' in headers) self.assertEqual(headers['content-length'], '0') self.conn.make_request('HEAD', bucket, key, req_headers) resp_objects = elem.findall('./Contents') self.assertEqual(len(list(resp_objects)), 1) for o in resp_objects: self.assertEqual(o.find('Key').text, key) self.assertIsNotNone(o.find('LastModified').text) self.assertRegexpMatches( o.find('LastModified').text, r'^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z$') self.assertEqual(o.find('ETag').text, exp_etag) self.assertEqual(o.find('Size').text, str(exp_size)) self.assertIsNotNone(o.find('StorageClass').text is not None) self.assertEqual(o.find('Owner/ID').text, self.conn.user_id) self.assertEqual(o.find('Owner/DisplayName').text, self.conn.user_id)",79,29
openstack%2Fcinder~master~Ia532b3fcfbecee7c6dc7aa302e6d90a8067b7ff0,openstack/cinder,master,Ia532b3fcfbecee7c6dc7aa302e6d90a8067b7ff0,Run cinderlib functional tests on Ceph job,MERGED,2019-03-21 13:57:11.000000000,2019-06-17 20:38:40.000000000,2019-06-17 20:38:40.000000000,"[{'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 17499}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30412}]","[{'number': 1, 'created': '2019-03-21 13:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/90c48f5962749b652021a69f2453cc9ac43c2bb4', 'message': ""Run cinderlib functional tests on Ceph job\n\nThis patch replaces job devstack-plugin-ceph-tempest with\ncinder-plugin-ceph-tempest that inherits from it.\n\nThis job runs the same devstack-tempest.yaml playbook but also runs the\ncinderlib-run.yaml playbook for the cinderlib functional tests.\n\nSince the openstack/cinderlib project is a required project for this job\nwe'll be able to run cross-repo dependencies with cinderlib.\n\nChange-Id: Ia532b3fcfbecee7c6dc7aa302e6d90a8067b7ff0\n""}, {'number': 2, 'created': '2019-03-21 15:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c76ac96810dca5db8ff5e0596594e7ae519a0cd0', 'message': ""Run cinderlib functional tests on Ceph job\n\nThis patch replaces job devstack-plugin-ceph-tempest with\ncinder-plugin-ceph-tempest that inherits from it.\n\nThis job runs the same devstack-tempest.yaml playbook but also runs the\ncinderlib-run.yaml playbook for the cinderlib functional tests.\n\nSince the openstack/cinderlib project is a required project for this job\nwe'll be able to run cross-repo dependencies with cinderlib.\n\nChange-Id: Ia532b3fcfbecee7c6dc7aa302e6d90a8067b7ff0\n""}, {'number': 3, 'created': '2019-03-21 15:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5661d9c372c5c3d5373dfb42125ca3b15fe12084', 'message': ""Run cinderlib functional tests on Ceph job\n\nThis patch replaces job devstack-plugin-ceph-tempest with\ncinder-plugin-ceph-tempest that inherits from it.\n\nThis job runs the same devstack-tempest.yaml playbook but also runs the\ncinderlib-run.yaml playbook for the cinderlib functional tests.\n\nSince the openstack/cinderlib project is a required project for this job\nwe'll be able to run cross-repo dependencies with cinderlib.\n\nChange-Id: Ia532b3fcfbecee7c6dc7aa302e6d90a8067b7ff0\n""}, {'number': 4, 'created': '2019-03-22 09:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8a4c63192048d80e71807077ef8c79e34d05f8d0', 'message': ""Run cinderlib functional tests on Ceph job\n\nThis patch replaces job devstack-plugin-ceph-tempest with\ncinder-plugin-ceph-tempest that inherits from it.\n\nThis job runs the same devstack-tempest.yaml playbook but also runs the\ncinderlib-run.yaml playbook for the cinderlib functional tests.\n\nSince the openstack/cinderlib project is a required project for this job\nwe'll be able to run cross-repo dependencies with cinderlib.\n\nChange-Id: Ia532b3fcfbecee7c6dc7aa302e6d90a8067b7ff0\n""}, {'number': 5, 'created': '2019-03-22 11:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/100b506bc2d525468cc1cc4ff37f4fb6a441bea8', 'message': ""Run cinderlib functional tests on Ceph job\n\nThis patch replaces job devstack-plugin-ceph-tempest with\ncinder-plugin-ceph-tempest that inherits from it.\n\nThis job runs the same devstack-tempest.yaml playbook but also runs the\ncinderlib-run.yaml playbook for the cinderlib functional tests.\n\nSince the openstack/cinderlib project is a required project for this job\nwe'll be able to run cross-repo dependencies with cinderlib.\n\nChange-Id: Ia532b3fcfbecee7c6dc7aa302e6d90a8067b7ff0\n""}, {'number': 6, 'created': '2019-03-22 13:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4c2c1a4b036df354a9563fe0d18f8a498444a691', 'message': ""Run cinderlib functional tests on Ceph job\n\nThis patch replaces job devstack-plugin-ceph-tempest with\ncinder-plugin-ceph-tempest that inherits from it.\n\nThis job runs the same devstack-tempest.yaml playbook but also runs the\ncinderlib-run.yaml playbook for the cinderlib functional tests.\n\nSince the openstack/cinderlib project is a required project for this job\nwe'll be able to run cross-repo dependencies with cinderlib.\n\nChange-Id: Ia532b3fcfbecee7c6dc7aa302e6d90a8067b7ff0\n""}, {'number': 7, 'created': '2019-03-22 14:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/995b730410c998c940092326bd54ebfc459eaad2', 'message': ""Run cinderlib functional tests on Ceph job\n\nThis patch replaces job devstack-plugin-ceph-tempest with\ncinder-plugin-ceph-tempest that inherits from it.\n\nThis job runs the same devstack-tempest.yaml playbook but also runs the\ncinderlib-run.yaml playbook for the cinderlib functional tests.\n\nSince the openstack/cinderlib project is a required project for this job\nwe'll be able to run cross-repo dependencies with cinderlib.\n\nChange-Id: Ia532b3fcfbecee7c6dc7aa302e6d90a8067b7ff0\n""}, {'number': 8, 'created': '2019-03-22 14:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/20f9a7a006ebc4d571d593a58e403229cb0206c4', 'message': ""Run cinderlib functional tests on Ceph job\n\nThis patch replaces job devstack-plugin-ceph-tempest with\ncinder-plugin-ceph-tempest that inherits from it.\n\nThis job runs the same devstack-tempest.yaml playbook but also runs the\ncinderlib-run.yaml playbook for the cinderlib functional tests.\n\nSince the openstack/cinderlib project is a required project for this job\nwe'll be able to run cross-repo dependencies with cinderlib.\n\nChange-Id: Ia532b3fcfbecee7c6dc7aa302e6d90a8067b7ff0\n""}, {'number': 9, 'created': '2019-03-25 12:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4bbea472a372949b47b1a7442096ba8a659a7d1b', 'message': ""WIP: Run cinderlib functional tests on Ceph job\n\nThis patch replaces job devstack-plugin-ceph-tempest with\ncinder-plugin-ceph-tempest that inherits from it.\n\nThis job runs the same devstack-tempest.yaml playbook but also runs the\ncinderlib-run.yaml playbook for the cinderlib functional tests.\n\nSince the openstack/cinderlib project is a required project for this job\nwe'll be able to run cross-repo dependencies with cinderlib.\n\nChange-Id: Ia532b3fcfbecee7c6dc7aa302e6d90a8067b7ff0\n""}, {'number': 10, 'created': '2019-03-25 12:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c6a82d0e8ac3f1c7d4dd70d9a9629a985284bd03', 'message': ""WIP: Run cinderlib functional tests on Ceph job\n\nThis patch replaces job devstack-plugin-ceph-tempest with\ncinder-plugin-ceph-tempest that inherits from it.\n\nThis job runs the same devstack-tempest.yaml playbook but also runs the\ncinderlib-run.yaml playbook for the cinderlib functional tests.\n\nSince the openstack/cinderlib project is a required project for this job\nwe'll be able to run cross-repo dependencies with cinderlib.\n\nChange-Id: Ia532b3fcfbecee7c6dc7aa302e6d90a8067b7ff0\n""}, {'number': 11, 'created': '2019-03-25 12:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/62652d82d21a47cc1fa743e01464ad99fbbe68e9', 'message': ""WIP: Run cinderlib functional tests on Ceph job\n\nThis patch replaces job devstack-plugin-ceph-tempest with\ncinder-plugin-ceph-tempest that inherits from it.\n\nThis job runs the same devstack-tempest.yaml playbook but also runs the\ncinderlib-run.yaml playbook for the cinderlib functional tests.\n\nSince the openstack/cinderlib project is a required project for this job\nwe'll be able to run cross-repo dependencies with cinderlib.\n\nChange-Id: Ia532b3fcfbecee7c6dc7aa302e6d90a8067b7ff0\n""}, {'number': 12, 'created': '2019-03-25 13:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7a5dd8a8820ad52ffd34f95985c3abdcf77df4b6', 'message': ""Run cinderlib functional tests on Ceph job\n\nThis patch replaces job devstack-plugin-ceph-tempest with\ncinder-plugin-ceph-tempest that inherits from it.\n\nThis job runs the same devstack-tempest.yaml playbook but also runs the\ncinderlib-run.yaml playbook for the cinderlib functional tests.\n\nSince the openstack/cinderlib project is a required project for this job\nwe'll be able to run cross-repo dependencies with cinderlib.\n\nChange-Id: Ia532b3fcfbecee7c6dc7aa302e6d90a8067b7ff0\n""}, {'number': 13, 'created': '2019-06-13 17:19:34.000000000', 'files': ['.zuul.yaml', 'playbooks/tempest-and-cinderlib-run.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d17760e066ddbde4b7580451d7456584e7a66cc6', 'message': ""Run cinderlib functional tests on Ceph job\n\nThis patch replaces job devstack-plugin-ceph-tempest with\ncinder-plugin-ceph-tempest that inherits from it.\n\nThis job runs the same devstack-tempest.yaml playbook but also runs the\ncinderlib-run.yaml playbook for the cinderlib functional tests.\n\nSince the openstack/cinderlib project is a required project for this job\nwe'll be able to run cross-repo dependencies with cinderlib.\n\nChange-Id: Ia532b3fcfbecee7c6dc7aa302e6d90a8067b7ff0\n""}]",0,645182,d17760e066ddbde4b7580451d7456584e7a66cc6,171,40,13,9535,,,0,"Run cinderlib functional tests on Ceph job

This patch replaces job devstack-plugin-ceph-tempest with
cinder-plugin-ceph-tempest that inherits from it.

This job runs the same devstack-tempest.yaml playbook but also runs the
cinderlib-run.yaml playbook for the cinderlib functional tests.

Since the openstack/cinderlib project is a required project for this job
we'll be able to run cross-repo dependencies with cinderlib.

Change-Id: Ia532b3fcfbecee7c6dc7aa302e6d90a8067b7ff0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/82/645182/13 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/cinder-plugin-ceph-tempest/run.yaml', '.zuul.yaml']",2,90c48f5962749b652021a69f2453cc9ac43c2bb4,cinderlib-functional, - cinder-plugin-ceph-tempest: - job: name: cinder-plugin-ceph-tempest: parent: devstack-plugin-ceph-tempest: run: playbooks/cinder-plugin-ceph-tempest/run.yaml required-projects: - openstack/cinderlib, - devstack-plugin-ceph-tempest:,20,1
openstack%2Fpuppet-tripleo~stable%2Frocky~I8c0e50116757e0475b083fe1097f95840f04fe62,openstack/puppet-tripleo,stable/rocky,I8c0e50116757e0475b083fe1097f95840f04fe62,Remove scenario008 jobs,MERGED,2019-06-13 22:57:55.000000000,2019-06-17 20:35:40.000000000,2019-06-17 20:35:40.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-13 22:57:55.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1bcd64dc2e9440800d807a007833534d479522d9', 'message': 'Remove scenario008 jobs\n\nODL is no longer tested.\n\nChange-Id: I8c0e50116757e0475b083fe1097f95840f04fe62\n'}]",0,665261,1bcd64dc2e9440800d807a007833534d479522d9,8,3,1,9976,,,0,"Remove scenario008 jobs

ODL is no longer tested.

Change-Id: I8c0e50116757e0475b083fe1097f95840f04fe62
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/61/665261/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,1bcd64dc2e9440800d807a007833534d479522d9,remove-scenario008-tests-stable/rocky,, - tripleo-ci-centos-7-scenario008-multinode-oooq-container: files: - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/neutron/ml2.pp$ - ^manifests/profile/(base|pacemaker)/neutron/plugins/ml2/opendaylight.*$ - ^manifests/profile/(base|pacemaker)/neutron/plugins/ovs/opendaylight.*$ - ^manifests/profile/(base|pacemaker)/neutron/opendaylight.*$ - ^lib/puppet/functions/.*odl.*$,0,8
openstack%2Fpuppet-tripleo~stable%2Fqueens~I8c0e50116757e0475b083fe1097f95840f04fe62,openstack/puppet-tripleo,stable/queens,I8c0e50116757e0475b083fe1097f95840f04fe62,Remove scenario008 jobs,MERGED,2019-06-13 22:58:13.000000000,2019-06-17 20:30:12.000000000,2019-06-17 20:30:12.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-13 22:58:13.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/233390c622cb2a2750d03c8feef09584a8c2de53', 'message': 'Remove scenario008 jobs\n\nODL is no longer tested.\n\nChange-Id: I8c0e50116757e0475b083fe1097f95840f04fe62\n'}]",0,665262,233390c622cb2a2750d03c8feef09584a8c2de53,7,3,1,9976,,,0,"Remove scenario008 jobs

ODL is no longer tested.

Change-Id: I8c0e50116757e0475b083fe1097f95840f04fe62
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/62/665262/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,233390c622cb2a2750d03c8feef09584a8c2de53,remove-scenario008-tests-stable/rocky-stable/queens,, - tripleo-ci-centos-7-scenario008-multinode-oooq-container: files: - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/neutron/ml2.pp$ - ^manifests/profile/(base|pacemaker)/neutron/plugins/ml2/opendaylight.*$ - ^manifests/profile/(base|pacemaker)/neutron/plugins/ovs/opendaylight.*$ - ^manifests/profile/(base|pacemaker)/neutron/opendaylight.*$ - ^lib/puppet/functions/.*odl.*$,0,8
openstack%2Fopenstack-helm~master~Ie758b3c3c6b36c1882030c9a1be1b2ba6cc13ed4,openstack/openstack-helm,master,Ie758b3c3c6b36c1882030c9a1be1b2ba6cc13ed4,Gate/Dev: enable compute kit to be deployed from outwidth the cluster,MERGED,2019-03-25 22:32:42.000000000,2019-06-17 20:19:57.000000000,2019-06-17 20:19:57.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2019-03-25 22:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7f9ee66c6a77072be172b4488b23fcdcc2af7760', 'message': 'WIP: enable compute kit to be deployed from outwidth the cluster\n\nChange-Id: Ie758b3c3c6b36c1882030c9a1be1b2ba6cc13ed4\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-03-29 14:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8b5115e7f452d3278d3c22ac145021c7aac9cdb3', 'message': 'WIP: enable compute kit to be deployed from outwidth the cluster\n\nChange-Id: Ie758b3c3c6b36c1882030c9a1be1b2ba6cc13ed4\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-04-03 15:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2de9f11cfcbdeb69f8c8e8119a04ab9de1451780', 'message': 'WIP: enable compute kit to be deployed from outwidth the cluster\n\nChange-Id: Ie758b3c3c6b36c1882030c9a1be1b2ba6cc13ed4\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2019-06-17 15:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e956d0f585898613a60d8cae6ef8c562fb83fc61', 'message': 'WIP: enable compute kit to be deployed from outwidth the cluster\n\nChange-Id: Ie758b3c3c6b36c1882030c9a1be1b2ba6cc13ed4\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2019-06-17 15:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ad63814f50a44827f7a78bbe4d478f3296e0dcb0', 'message': 'Gate/Dev: enable compute kit to be deployed from outwidth the cluster\n\nThis PS updates the deplyment script for the compute-kit to allow use\nfrom outside the k8s cluster.\n\nChange-Id: Ie758b3c3c6b36c1882030c9a1be1b2ba6cc13ed4\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 6, 'created': '2019-06-17 15:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8932a4bb891ff00e1e05d49b62817aad9332cce7', 'message': 'Gate/Dev: enable compute kit to be deployed from outwidth the cluster\n\nThis PS updates the deplyment script for the compute-kit to allow use\nfrom outside the k8s cluster.\n\nChange-Id: Ie758b3c3c6b36c1882030c9a1be1b2ba6cc13ed4\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 7, 'created': '2019-06-17 17:07:32.000000000', 'files': ['tools/deployment/multinode/140-compute-kit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c9f425f269fd2b102f327cba8128657a08994165', 'message': 'Gate/Dev: enable compute kit to be deployed from outwidth the cluster\n\nThis PS updates the deplyment script for the compute-kit to allow use\nfrom outside the k8s cluster.\n\nChange-Id: Ie758b3c3c6b36c1882030c9a1be1b2ba6cc13ed4\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,647629,c9f425f269fd2b102f327cba8128657a08994165,17,3,7,23928,,,0,"Gate/Dev: enable compute kit to be deployed from outwidth the cluster

This PS updates the deplyment script for the compute-kit to allow use
from outside the k8s cluster.

Change-Id: Ie758b3c3c6b36c1882030c9a1be1b2ba6cc13ed4
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/29/647629/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/multinode/140-compute-kit.sh'],1,7f9ee66c6a77072be172b4488b23fcdcc2af7760,external-neutron,"UTILS_IMAGE=docker.io/openstackhelm/gate-utils:v0.1.0 function network_tunnel_dev () { POD_NAME=""tmp-$(cat /dev/urandom | env LC_CTYPE=C tr -dc a-z | head -c 5; echo)"" cat <<EOF | kubectl apply -f - 1>&2; apiVersion: v1 kind: Pod metadata: name: ${POD_NAME} spec: hostNetwork: true restartPolicy: Never containers: - name: util image: ${UTILS_IMAGE} command: - 'ip' - '-4' - 'route' - 'list' - '0/0' EOF end=$(($(date +%s) + 900)) until kubectl get pod/${POD_NAME} -o go-template='{{.status.phase}}' | grep -q Succeeded; do now=$(date +%s) [ $now -gt $end ] && echo containers failed to start. && \ kubectl get pod/${POD_NAME} -o wide && exit 1 done kubectl logs pod/${POD_NAME} | awk '{ print $5; exit }' kubectl delete pod/${POD_NAME} 1>&2; } NETWORK_TUNNEL_DEV=""$(network_tunnel_dev)""","NETWORK_TUNNEL_DEV=""$(sudo ip -4 route list 0/0 | awk '{ print $5; exit }')""",32,1
openstack%2Fopenstack-helm~master~Id477510873362224ba919b0c97e09664d5c1b205,openstack/openstack-helm,master,Id477510873362224ba919b0c97e09664d5c1b205,Neutron: Make config secret conform to k8s schema validation,MERGED,2019-06-17 15:38:06.000000000,2019-06-17 20:19:48.000000000,2019-06-17 20:19:48.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2019-06-17 15:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9d0c23ebf8bdf96f39fcfc41e31c64e7ac2d7ea8', 'message': 'Neutron: Make config secret conform to k8s schema validation\n\nThis PS updates the neutron secret to conform to K8s schema\nvalidation.\n\nChange-Id: Id477510873362224ba919b0c97e09664d5c1b205\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-06-17 15:52:06.000000000', 'files': ['neutron/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/74da069530f8da0f93081eb2d41c216b0d21362a', 'message': 'Neutron: Make config secret conform to k8s schema validation\n\nThis PS updates the neutron secret to conform to K8s schema\nvalidation.\n\nChange-Id: Id477510873362224ba919b0c97e09664d5c1b205\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,665714,74da069530f8da0f93081eb2d41c216b0d21362a,8,3,2,23928,,,0,"Neutron: Make config secret conform to k8s schema validation

This PS updates the neutron secret to conform to K8s schema
validation.

Change-Id: Id477510873362224ba919b0c97e09664d5c1b205
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/14/665714/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/templates/configmap-etc.yaml'],1,9d0c23ebf8bdf96f39fcfc41e31c64e7ac2d7ea8,rmq-res-exp," metering_agent.ini: {{ default ( include ""helm-toolkit.utils.to_oslo_conf"" $envAll.Values.conf.metering_agent | b64enc ) ""\""\"""" }} taas_plugin.ini: {{ default ( include ""helm-toolkit.utils.to_oslo_conf"" $envAll.Values.conf.taas_plugin | b64enc ) ""\""\"""" }} ml2_conf_sriov.ini: {{ default ( include ""helm-toolkit.utils.to_oslo_conf"" $envAll.Values.conf.plugins.ml2_conf_sriov | b64enc ) ""\""\"""" }} macvtap_agent.ini: {{ default ( include ""helm-toolkit.utils.to_oslo_conf"" $envAll.Values.conf.plugins.macvtap_agent | b64enc ) ""\""\"""" }}"," metering_agent.ini: {{ include ""helm-toolkit.utils.to_oslo_conf"" $envAll.Values.conf.metering_agent | b64enc }} taas_plugin.ini: {{ include ""helm-toolkit.utils.to_oslo_conf"" $envAll.Values.conf.taas_plugin | b64enc }} ml2_conf_sriov.ini: {{ include ""helm-toolkit.utils.to_oslo_conf"" $envAll.Values.conf.plugins.ml2_conf_sriov | b64enc }} macvtap_agent.ini: {{ include ""helm-toolkit.utils.to_oslo_conf"" $envAll.Values.conf.plugins.macvtap_agent | b64enc }}",4,4
openstack%2Fironic~master~Ic7eef9c8741ec2900401556f4053a4749b652d7c,openstack/ironic,master,Ic7eef9c8741ec2900401556f4053a4749b652d7c,devstack: add missing variables for ironic-python-agent-builder,MERGED,2019-06-17 10:05:09.000000000,2019-06-17 20:18:23.000000000,2019-06-17 20:18:23.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-06-17 10:05:09.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/809653e12641f731926d5b8a41b57f9efc580195', 'message': 'devstack: add missing variables for ironic-python-agent-builder\n\nThe ones for ironic-python-agent itself are defined in devstack.\nThis changes adds similar variables for ironic-python-agent-builder\nand migrates the ironic-python-agent ones here to avoid confusion.\n\nChange-Id: Ic7eef9c8741ec2900401556f4053a4749b652d7c\n'}]",0,665635,809653e12641f731926d5b8a41b57f9efc580195,18,7,1,10239,,,0,"devstack: add missing variables for ironic-python-agent-builder

The ones for ironic-python-agent itself are defined in devstack.
This changes adds similar variables for ironic-python-agent-builder
and migrates the ironic-python-agent ones here to avoid confusion.

Change-Id: Ic7eef9c8741ec2900401556f4053a4749b652d7c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/35/665635/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,809653e12641f731926d5b8a41b57f9efc580195,gate,# TODO(dtantsur): delete these three when we migrate image building to # ironic-python-agent-builder completely IRONIC_PYTHON_AGENT_REPO=${IRONIC_PYTHON_AGENT_REPO:-${GIT_BASE}/openstack/ironic-python-agent.git} IRONIC_PYTHON_AGENT_BRANCH=${IRONIC_PYTHON_AGENT_BRANCH:-$TARGET_BRANCH}IRONIC_PYTHON_AGENT_BUILDER_REPO=${IRONIC_PYTHON_AGENT_BUILDER_REPO:-${GIT_BASE}/openstack/ironic-python-agent-builder.git} IRONIC_PYTHON_AGENT_BUILDER_BRANCH=${IRONIC_PYTHON_AGENT_BUILDER_BRANCH:-$TARGET_BRANCH},,6,0
openstack%2Fdesignate~stable%2Fqueens~Icd6e690ac84a2fe0db0f4a8a513de47f7916f5ea,openstack/designate,stable/queens,Icd6e690ac84a2fe0db0f4a8a513de47f7916f5ea,Fix DBDeadLock error resulting into 500,MERGED,2019-04-08 02:29:22.000000000,2019-06-17 20:16:00.000000000,2019-06-17 20:16:00.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28140}]","[{'number': 1, 'created': '2019-04-08 02:29:22.000000000', 'files': ['designate/tests/unit/test_central/test_basic.py', 'designate/central/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/00d0cb71e63e870fdf09833eec02f29b95542b18', 'message': ""Fix DBDeadLock error resulting into 500\n\nWhen user requests the record registration request continuously,\nsometimes designate hits DBDeadLock resuting into 500 InternalServerError.\n\nWe get below error:\n\n2019-02-21 21:30:39.925 49752 ERROR designate.api.middleware RemoteError:\nRemote error: DBDeadlock (pymysql.err.InternalError)\n(1213, u'Deadlock found when trying to get lock; try restarting transaction')\n[SQL: u'UPDATE records SET version=(records.version + %(version_1)s),\nupdated_at=%(updated_at)s, data=%(data)s, hash=%(hash)s, status=%(status)s,\naction=%(action)s, serial=%(serial)s WHERE records.id = %(id_1)s']\n[parameters: {'status': 'PENDING', 'hash': '39795ee18c6e3c9ad1c0190c6a3d8d4f',\n'updated_at': datetime.datetime(2019, 2, 21, 12, 30, 39, 909846), u'version_1': 1,\nu'id_1': '7a655eeda4d446cdaa81caf19ab55fcc', 'action': 'UPDATE',\n'serial': 1550752338,\n'data': u'ns2.example.jp. domain.example.com. 1550752338 3552 600 86400 3600'}]\n\nIn the process of record registeration, designate first tried to update\nthe reocrd and then update the zone status.\n\nUpdating the zone_status and registering the record process[1] and after synced\nupdate record_status and zone_status process[2] are in reverse order. So If user\nrequest the registering record many time and same time, Designate will get the\nDBDeadLock, when these processes run the same time.\n\nWe observed that changing the order of the operations solves this issue.\n\n[1] https://github.com/openstack/designate/blob/master/designate/central/service.py#L1292-L1320\n[2] https://github.com/openstack/designate/blob/master/designate/central/service.py#L2310-L2322\n\n1. transaction [1]-1 updating zone status process <- run    ---> table_name-zone\n2. transaction [2]-1 updating record status process <- run  ---> table_name-record\n3. transaction [1]-2 registering record process <- run and wait  ---> table_name-record\n4. transaction [2]-2 updating zone process <-deadlock!           ---> table_name-zone\n\nChange-Id: Icd6e690ac84a2fe0db0f4a8a513de47f7916f5ea\nRelated-Bug: #1785459\n(cherry picked from commit f828654a3d40476cac7eb24a09a36e9978c2d708)\n""}]",0,650605,00d0cb71e63e870fdf09833eec02f29b95542b18,33,4,1,28140,,,0,"Fix DBDeadLock error resulting into 500

When user requests the record registration request continuously,
sometimes designate hits DBDeadLock resuting into 500 InternalServerError.

We get below error:

2019-02-21 21:30:39.925 49752 ERROR designate.api.middleware RemoteError:
Remote error: DBDeadlock (pymysql.err.InternalError)
(1213, u'Deadlock found when trying to get lock; try restarting transaction')
[SQL: u'UPDATE records SET version=(records.version + %(version_1)s),
updated_at=%(updated_at)s, data=%(data)s, hash=%(hash)s, status=%(status)s,
action=%(action)s, serial=%(serial)s WHERE records.id = %(id_1)s']
[parameters: {'status': 'PENDING', 'hash': '39795ee18c6e3c9ad1c0190c6a3d8d4f',
'updated_at': datetime.datetime(2019, 2, 21, 12, 30, 39, 909846), u'version_1': 1,
u'id_1': '7a655eeda4d446cdaa81caf19ab55fcc', 'action': 'UPDATE',
'serial': 1550752338,
'data': u'ns2.example.jp. domain.example.com. 1550752338 3552 600 86400 3600'}]

In the process of record registeration, designate first tried to update
the reocrd and then update the zone status.

Updating the zone_status and registering the record process[1] and after synced
update record_status and zone_status process[2] are in reverse order. So If user
request the registering record many time and same time, Designate will get the
DBDeadLock, when these processes run the same time.

We observed that changing the order of the operations solves this issue.

[1] https://github.com/openstack/designate/blob/master/designate/central/service.py#L1292-L1320
[2] https://github.com/openstack/designate/blob/master/designate/central/service.py#L2310-L2322

1. transaction [1]-1 updating zone status process <- run    ---> table_name-zone
2. transaction [2]-1 updating record status process <- run  ---> table_name-record
3. transaction [1]-2 registering record process <- run and wait  ---> table_name-record
4. transaction [2]-2 updating zone process <-deadlock!           ---> table_name-zone

Change-Id: Icd6e690ac84a2fe0db0f4a8a513de47f7916f5ea
Related-Bug: #1785459
(cherry picked from commit f828654a3d40476cac7eb24a09a36e9978c2d708)
",git fetch https://review.opendev.org/openstack/designate refs/changes/05/650605/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/test_central/test_basic.py', 'designate/central/service.py']",2,00d0cb71e63e870fdf09833eec02f29b95542b18,bug/1785459-stable/queens," self._update_record_status(context, zone_id, status, serial)"," self._update_record_status(context, zone_id, status, serial)",27,1
openstack%2Fpython-dracclient~stable%2Fstein~I76390dc4fcf8de2fe5aa3d660f77edcef4a4dec1,openstack/python-dracclient,stable/stein,I76390dc4fcf8de2fe5aa3d660f77edcef4a4dec1,Implement ResetConfig and ClearForeignConfig functionality,MERGED,2019-05-20 21:27:58.000000000,2019-06-17 20:04:36.000000000,2019-06-17 20:04:36.000000000,"[{'_account_id': 10644}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 29863}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-05-20 21:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/db2cd44e904cd5a4b6209b7bff457334f7626ec0', 'message': 'Implement ResetConfig and ClearForeignConfig functionality\n\nFor raid deletion, existing delete_virtual_disk functionality is not\nfreeing up foreign drives and spares, so have added ResetConfig and\nClearForeignConfig functionality for freeing up foreign drives and\nspares.\n\nChange-Id: I76390dc4fcf8de2fe5aa3d660f77edcef4a4dec1\n'}, {'number': 2, 'created': '2019-06-14 19:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/407eba159585dd0b45c4cc51633507b0c1a28bcc', 'message': 'Implement ResetConfig and ClearForeignConfig functionality\n\nFor raid deletion, existing delete_virtual_disk functionality is not\nfreeing up foreign drives and spares, so have added ResetConfig and\nClearForeignConfig functionality for freeing up foreign drives and\nspares.\n\nChange-Id: I76390dc4fcf8de2fe5aa3d660f77edcef4a4dec1\n(cherry picked from commit 6857a6d000f7e61af872fd782092d5f4341d5f31)\n'}, {'number': 3, 'created': '2019-06-14 19:49:35.000000000', 'files': ['dracclient/tests/test_raid.py', 'dracclient/tests/utils.py', 'dracclient/tests/wsman_mocks/raid_service-invoke-delete_virtual_disk-ok.xml', 'dracclient/tests/wsman_mocks/raid_service-invoke-reset_raid_config-error.xml', 'dracclient/tests/wsman_mocks/raid_service-invoke-clear_foreign_config-error.xml', 'dracclient/tests/wsman_mocks/raid_service-invoke-delete_virtual_disk-error.xml', 'dracclient/client.py', 'dracclient/resources/raid.py', 'dracclient/tests/wsman_mocks/raid_service-invoke-reset_raid_config-ok.xml', 'dracclient/tests/wsman_mocks/raid_service-invoke-clear_foreign_config-ok.xml'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/b7178a43e2d6a3c27983b31bfa01f26f3987521f', 'message': 'Implement ResetConfig and ClearForeignConfig functionality\n\nFor raid deletion, existing delete_virtual_disk functionality is not\nfreeing up foreign drives and spares, so have added ResetConfig and\nClearForeignConfig functionality for freeing up foreign drives and\nspares.\n\nChange-Id: I76390dc4fcf8de2fe5aa3d660f77edcef4a4dec1\n(cherry picked from commit 6857a6d000f7e61af872fd782092d5f4341d5f31)\n'}]",0,660216,b7178a43e2d6a3c27983b31bfa01f26f3987521f,15,6,3,10250,,,0,"Implement ResetConfig and ClearForeignConfig functionality

For raid deletion, existing delete_virtual_disk functionality is not
freeing up foreign drives and spares, so have added ResetConfig and
ClearForeignConfig functionality for freeing up foreign drives and
spares.

Change-Id: I76390dc4fcf8de2fe5aa3d660f77edcef4a4dec1
(cherry picked from commit 6857a6d000f7e61af872fd782092d5f4341d5f31)
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/16/660216/2 && git format-patch -1 --stdout FETCH_HEAD,"['dracclient/tests/test_raid.py', 'dracclient/tests/utils.py', 'dracclient/tests/wsman_mocks/raid_service-invoke-delete_virtual_disk-ok.xml', 'dracclient/tests/wsman_mocks/raid_service-invoke-reset_raid_config-error.xml', 'dracclient/tests/wsman_mocks/raid_service-invoke-clear_foreign_config-error.xml', 'dracclient/tests/wsman_mocks/raid_service-invoke-delete_virtual_disk-error.xml', 'dracclient/client.py', 'dracclient/resources/raid.py', 'dracclient/tests/wsman_mocks/raid_service-invoke-reset_raid_config-ok.xml', 'dracclient/tests/wsman_mocks/raid_service-invoke-clear_foreign_config-ok.xml']",10,db2cd44e904cd5a4b6209b7bff457334f7626ec0,reset_config,"<s:Envelope xmlns:s=""http://www.w3.org/2003/05/soap-envelope"" xmlns:wsa=""http://schemas.xmlsoap.org/ws/2004/08/addressing"" xmlns:n1=""http://schemas.dell.com/wbem/wscim/1/cim-schema/2/DCIM_RAIDService""> <s:Header> <wsa:To>http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous</wsa:To> <wsa:Action>http://schemas.dell.com/wbem/wscim/1/cim-schema/2/DCIM_RAIDService/ClearForeignConfigResponse</wsa:Action> <wsa:RelatesTo>uuid:fefa06de-103a-103a-8002-fd0aa2bdb228</wsa:RelatesTo> <wsa:MessageID>uuid:05bc00f4-1040-1040-899d-a36fc6fe83b0</wsa:MessageID> </s:Header> <s:Body> <n1:ClearForeignConfig_OUTPUT> <n1:RebootRequired>OPTIONAL</n1:RebootRequired> <n1:ReturnValue>0</n1:ReturnValue> </n1:ClearForeignConfig_OUTPUT> </s:Body> </s:Envelope> ",,263,2
openstack%2Ftripleo-common~master~I4aa346fa0bbf0e4c591205ae96e4ad03d3b9a04c,openstack/tripleo-common,master,I4aa346fa0bbf0e4c591205ae96e4ad03d3b9a04c,Set resource_registry deployed-server port,MERGED,2019-06-13 00:01:50.000000000,2019-06-17 19:56:28.000000000,2019-06-17 19:56:27.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-13 00:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bf85598e6e8985a52328adb98021531d4161b47a', 'message': 'Filter the rendered DeployedServerPortMap values\n\nInstead of writing out the entire network and subnets data structure,\nonly render the required values, which are network.tags and\nsubnets.cidr.\n\nThis makes the result a bit more readable and maintainable.\n\nChange-Id: I4aa346fa0bbf0e4c591205ae96e4ad03d3b9a04c\nBlueprint: nova-less-deploy\n'}, {'number': 2, 'created': '2019-06-13 00:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a61cff953220657942ff88e04728e142104ea8d7', 'message': 'Filter the rendered DeployedServerPortMap values\n\nInstead of writing out the entire network and subnets data structure,\nonly render the required values, which are network.tags and\nsubnets.cidr.\n\nThis makes the result a bit more readable and maintainable.\n\nChange-Id: I4aa346fa0bbf0e4c591205ae96e4ad03d3b9a04c\nBlueprint: nova-less-deploy\n'}, {'number': 3, 'created': '2019-06-13 00:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/34623f1354c7186c38389c37afeee909cb80e3ae', 'message': 'Set resource_registry deployed-server port\n\nWithout this the supplied DeployedServerPortMap is ignored and the\nwrong IP addresses are used for ansible ssh.\n\nAlso, instead of writing out the entire network and subnets data\nstructure, only render the required values, which are network.tags and\nsubnets.cidr. This makes the result a bit more readable and maintainable.\n\nChange-Id: I4aa346fa0bbf0e4c591205ae96e4ad03d3b9a04c\nBlueprint: nova-less-deploy\n'}, {'number': 4, 'created': '2019-06-13 21:51:45.000000000', 'files': ['tripleo_common/actions/baremetal_deploy.py', 'tripleo_common/tests/actions/test_baremetal_deploy.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4071b56bd83b4b87a362088eee3e2adc9a51ff79', 'message': 'Set resource_registry deployed-server port\n\nWithout this the supplied DeployedServerPortMap is ignored and the\nwrong IP addresses are used for ansible ssh.\n\nAlso, instead of writing out the entire network and subnets data\nstructure, only render the required values. This makes the result a\nbit more readable and maintainable.\n\nChange-Id: I4aa346fa0bbf0e4c591205ae96e4ad03d3b9a04c\nBlueprint: nova-less-deploy\n'}]",1,665038,4071b56bd83b4b87a362088eee3e2adc9a51ff79,25,8,4,4571,,,0,"Set resource_registry deployed-server port

Without this the supplied DeployedServerPortMap is ignored and the
wrong IP addresses are used for ansible ssh.

Also, instead of writing out the entire network and subnets data
structure, only render the required values. This makes the result a
bit more readable and maintainable.

Change-Id: I4aa346fa0bbf0e4c591205ae96e4ad03d3b9a04c
Blueprint: nova-less-deploy
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/38/665038/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/baremetal_deploy.py'],1,bf85598e6e8985a52328adb98021531d4161b47a,bp/nova-less-deploy," resource_registry = self.environment.setdefault( 'resource_registry', {}) resource_registry.setdefault( 'OS::TripleO::DeployedServer::ControlPlanePort', '/usr/share/openstack-tripleo-heat-templates' '/deployed-server/deployed-neutron-port.yaml') ctlplane_network = nets.get(self.ctlplane_network) if not ctlplane_network: fixed_ips = ctlplane_network.get('fixed_ips', []) network = { 'tags': ctlplane_network.get('network', {}).get('tags', []) } subnets = [] for subnet in ctlplane_network.get('subnets', []): subnets.append({k: v for k, v in subnet.items() if k == 'cidr'}) ctlplane = { 'fixed_ips': fixed_ips, 'network': network, 'subnets': subnets }", ctlplane = nets.get(self.ctlplane_network) if not ctlplane:,22,2
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ib115e70ce0ce53a8638ccbe6c9fe6ed6a421e09b,openstack/tripleo-heat-templates,stable/rocky,Ib115e70ce0ce53a8638ccbe6c9fe6ed6a421e09b,Handle openvswitch meta-package on undercloud upgrade.,MERGED,2019-05-27 14:51:23.000000000,2019-06-17 19:56:26.000000000,2019-06-17 19:56:26.000000000,"[{'_account_id': 8042}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-05-27 14:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af7643c2c9d92f0929c1574a0fa210af6835cb10', 'message': 'Handle openvswitch meta-package on undercloud upgrade.\n\nAs done for the overcloud in [0], we need to include the\nsame special package handling in the tasks in charge of\nupgrading the undercloud.\n\nThis patch adds special handling for the rhosp-openvswitch\nlayered product package to ensure that openvswitch networking\nremains available during the upgrade.\n\n[0] - https://opendev.org/openstack/tripleo-heat-templates/commit/1773afb0689c8fded9bce2dff4c1f8d9406c8294\n\n(cherry picked from commit 0d9d92ac58aeae25b8c120ab8ebc2bad7233d9bc)\nChange-Id: Ib115e70ce0ce53a8638ccbe6c9fe6ed6a421e09b\nCloses-Bug: #1830627\n'}, {'number': 2, 'created': '2019-06-14 15:48:36.000000000', 'files': ['docker/services/undercloud-upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/66cd92439af27d0b6f58d25b0cdf98b11ed9264a', 'message': 'Handle openvswitch meta-package on undercloud upgrade.\n\nAs done for the overcloud in [0], we need to include the\nsame special package handling in the tasks in charge of\nupgrading the undercloud.\n\nThis patch adds special handling for the rhosp-openvswitch\nlayered product package to ensure that openvswitch networking\nremains available during the upgrade.\n\n[0] - https://opendev.org/openstack/tripleo-heat-templates/commit/1773afb0689c8fded9bce2dff4c1f8d9406c8294\n\n(cherry picked from commit 0d9d92ac58aeae25b8c120ab8ebc2bad7233d9bc)\nChange-Id: Ib115e70ce0ce53a8638ccbe6c9fe6ed6a421e09b\nCloses-Bug: #1830627\n'}]",0,661631,66cd92439af27d0b6f58d25b0cdf98b11ed9264a,12,4,2,26343,,,0,"Handle openvswitch meta-package on undercloud upgrade.

As done for the overcloud in [0], we need to include the
same special package handling in the tasks in charge of
upgrading the undercloud.

This patch adds special handling for the rhosp-openvswitch
layered product package to ensure that openvswitch networking
remains available during the upgrade.

[0] - https://opendev.org/openstack/tripleo-heat-templates/commit/1773afb0689c8fded9bce2dff4c1f8d9406c8294

(cherry picked from commit 0d9d92ac58aeae25b8c120ab8ebc2bad7233d9bc)
Change-Id: Ib115e70ce0ce53a8638ccbe6c9fe6ed6a421e09b
Closes-Bug: #1830627
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/661631/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/undercloud-upgrade.yaml'],1,af7643c2c9d92f0929c1574a0fa210af6835cb10,bug/1830627," # With the layered product packaging, the key package is rhosp-openvswitch. It depends on # a openvswitch package that includes the version as part of the name (e.g openvswitch2.10). # This requires some additional special handling: # - During an upgrade the package name for openvswitch may change so # upgrading the currently installed package won't do anything. # - The rhosp-openvswitch package ""obsoletes"" several packages, # including older openvswitch packages. This results in a pretty # severe uninstall/install sequence of operations that stops and # removes openvswitch which could break network links required to # continue the upgrade. # - To prevent rhosp-openvswitch breaking connectivity, the currently # installed core openvswitch packages need to be erased from the rpm # database but leave the binaries intact. This effectively # short-circuits the obsoletes mechanism in rhosp-openvswitch and # leaves the core elements of openvswitch running. In the future we # may replace this mechanism with ""an upgrade on reboot"". We only # do this for the core openvswitch packages so other packages # obsoleted by rhosp-openvswitch will be removed when # rhosp-openvswitch is installed/upgraded. # - Neither the rhosp-openvswitch nor openvswitch{m.n} package enables # or starts the systemd service so there must always be a task # to ensure that it is enabled or OpenvSwitch functionality won't be # available on reboot. # - With LP, we expect that the core openvswitch package name will # change with every major upgrade so this special handling will # eventually replace the special handling of upgrading the # openvswitch package ""in place"" - name: Block for gathering information for upgrading OpenvSwitch layered product packaging when: step|int == 2 block: - name: Process rhosp-openvswitch layered package for new version number shell: | set -o pipefail yum info -q rhosp-openvswitch | awk '/^Version/{print $NF}' register: rhosp_package_result ignore_errors: true - name: Set fact for triggering OpenvSwitch layered product package handling set_fact: ovs_lp_packaging: ""{{ rhosp_package_result.rc == 0 }}"" - name: Capture the expected OpenvSwitch version. set_fact: new_ovs_version: ""{{ rhosp_package_result.stdout }}"" when: ovs_lp_packaging|default(false) - name: Get current OpenvSwitch package name register: ovs_pkg_out shell: rpm -qa | awk -F- '/^(openvswitch[0-9]+\.[0-9]+-|openvswitch-2)/{print $1}' - name: Get version from current OpenvSwitch package register: ovs_version_out shell: rpm -qi ""{{ ovs_pkg_out.stdout }}"" | awk '/^Version/{print $NF}' - name: split numeric version for OpenvSwitch into parts set_fact: ovs_version_parts: ""{{ ovs_version_out.stdout.split('.') }}"" - name: get major minor version for OpenvSwitch package naming set_fact: current_ovs_version: ""{{ ovs_version_parts[0] }}.{{ ovs_version_parts[1] }}"" - name: get OpenvSwitch major version set_fact: current_ovs_major_version: ""{{ ovs_version_parts[0]|int }}"" - name: get OpenvSwitch minor version set_fact: current_ovs_minor_version: ""{{ ovs_version_parts[1]|int }}"" - name: Block for upgrading OpenvSwitch when layer package is present when: - step|int == 2 - ovs_lp_packaging|default(false) block: - name: set current OpenvSwitch package suffix if old version is layered product format set_fact: package_suffix: ""{{ current_ovs_version }}"" when: - current_ovs_major_version|int >= 3 or current_ovs_minor_version|int >=10 - name: remove old OpenvSwitch package(s) if version doesn't match shell: | rpm -e --noscripts --nopreun --nopostun --notriggers --nodeps $(rpm -qa 'openvswitch{{ package_suffix|default('') }}*' | grep -v 'selinux') args: warn: false when: new_ovs_version != current_ovs_version - name: install/upgrade OpenvSwitch LP package package: name: rhosp-openvswitch state: latest - name: set flag to skip other upgrade steps since OpenvSwitch is already upgraded! set_fact: run_ovs_update: false - name: Check for openvswitch upgrade if not layered package installs when: - step|int == 2 - run_ovs_update|default(true) block: - name: check if an upgrade is required register: ovs_need_upgrade ignore_errors: true shell: | yum check-upgrade openvswitch | awk '/openvswitch/{print}' - name: Check openvswitch packaging. shell: rpm -q --scripts openvswitch | awk '/postuninstall/,/*/' | grep -q ""systemctl.*try-restart"" register: ovs_packaging_issue ignore_errors: true - name: Upgrade openvswitch block: - name: ""Ensure empty directory: emptying."" file: state: absent path: /root/OVS_UPGRADE - name: ""Ensure empty directory: creating."" file: state: directory path: /root/OVS_UPGRADE owner: root group: root mode: 0750 - name: Make yum cache. command: yum makecache - name: Download OVS packages. command: yumdownloader --destdir /root/OVS_UPGRADE --resolve openvswitch - name: Get rpm list for manual upgrade of OVS. shell: ls -1 /root/OVS_UPGRADE/*.rpm register: ovs_list_of_rpms - name: Manual upgrade of OVS shell: | rpm -U --replacepkgs --notriggerun --nopostun {{item}} args: chdir: /root/OVS_UPGRADE with_items: - ""{{ovs_list_of_rpms.stdout_lines}}"" when: - step|int == 2 - run_ovs_update|default(true) - ovs_packaging_issue|default(false)|succeeded - ovs_need_upgrade.stdout|default('') # The openvswitch package disables the systemd service on install. When installing # the layered product we prevent the service from being killed, but it doesn't # do anything to prevent the systemd service from being removed and it is not # re-enabled by default by the new package. - name: Always ensure the openvswitch service is enabled and running after upgrades when: step|int == 2 service: name: openvswitch enabled: yes state: started",,143,0
openstack%2Fswift~master~Ia438df2a5c9bdae83bd9b0e05e1cac564c638420,openstack/swift,master,Ia438df2a5c9bdae83bd9b0e05e1cac564c638420,revert object-expirer pid to conf regression,NEW,2019-06-05 22:58:18.000000000,2019-06-17 19:46:11.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 22:58:18.000000000', 'files': ['test/unit/common/test_manager.py', 'swift/common/manager.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4b530b7f640a46692431e05bfd3b9e2699fae3ae', 'message': 'revert object-expirer pid to conf regression\n\nChange-Id: Ia438df2a5c9bdae83bd9b0e05e1cac564c638420\n'}]",0,663456,4b530b7f640a46692431e05bfd3b9e2699fae3ae,8,3,1,1179,,,0,"revert object-expirer pid to conf regression

Change-Id: Ia438df2a5c9bdae83bd9b0e05e1cac564c638420
",git fetch https://review.opendev.org/openstack/swift refs/changes/56/663456/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/manager.py', 'test/unit/common/test_manager.py']",2,4b530b7f640a46692431e05bfd3b9e2699fae3ae,," server_name = 'object-expirer' server = manager.Server(server_name) conf_file = self.join_swift_dir(server_name + '.conf') pid_file = self.join_run_dir(server_name + '.pid') self.assertEqual(conf_file, server.get_conf_file_name(pid_file))",,6,1
openstack%2Finstack-undercloud~stable%2Fqueens~Ic8281cf47e587e193efda9dfa509abd16a1cf67e,openstack/instack-undercloud,stable/queens,Ic8281cf47e587e193efda9dfa509abd16a1cf67e,Fixed mistral hanging processing the list of failed actions,MERGED,2019-06-13 12:36:45.000000000,2019-06-17 19:40:38.000000000,2019-06-17 19:40:38.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-13 12:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/3fd885a86bf3e31397432b065f82f865c10ce997', 'message': 'Fixed mistral hanging processing the list of failed actions\n\nCurrently it queries all the records instead of filtering. Changed that\ninto a filter so only relevant action_executions are requested.\n\nExternal bugzilla bug https://bugzilla.redhat.com/show_bug.cgi?id=1718573\n\nChange-Id: Ic8281cf47e587e193efda9dfa509abd16a1cf67e\n'}, {'number': 3, 'created': '2019-06-15 14:29:02.000000000', 'files': ['instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_undercloud.py'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/957a34bd4c442c973fad997dba4d74b23df541cc', 'message': 'Fixed mistral hanging processing the list of failed actions\n\nCurrently it queries all the records instead of filtering. Changed that\ninto a filter so only relevant action_executions are requested.\n\nExternal bugzilla bug https://bugzilla.redhat.com/show_bug.cgi?id=1718573\n\nChange-Id: Ic8281cf47e587e193efda9dfa509abd16a1cf67e\n(cherry picked from commit 3e9b858cf71a17b3e1077c4fc21d51c2aa23ba2e)\n'}]",0,665130,957a34bd4c442c973fad997dba4d74b23df541cc,10,3,2,15895,,,0,"Fixed mistral hanging processing the list of failed actions

Currently it queries all the records instead of filtering. Changed that
into a filter so only relevant action_executions are requested.

External bugzilla bug https://bugzilla.redhat.com/show_bug.cgi?id=1718573

Change-Id: Ic8281cf47e587e193efda9dfa509abd16a1cf67e
(cherry picked from commit 3e9b858cf71a17b3e1077c4fc21d51c2aa23ba2e)
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/30/665130/3 && git format-patch -1 --stdout FETCH_HEAD,['instack_undercloud/undercloud.py'],1,3fd885a86bf3e31397432b065f82f865c10ce997,fix_long_query," ae_list = mistral.action_executions.find( name=""run_validation"", state=""ERROR"" ) for ae in ae_list: if (time.strptime(ae.created_at, ""%Y-%m-%d %H:%M:%S"") > exe_created_at):"," ae_list = mistral.action_executions.list() for ae in ae_list: if ((ae.task_name == ""run_validation"") and (ae.state == ""ERROR"") and (time.strptime(ae.created_at, ""%Y-%m-%d %H:%M:%S"") > exe_created_at)):",6,5
openstack%2Fansible-role-tripleo-modify-image~master~Id1534e9d1005d48fc3893182e156503b703af405,openstack/ansible-role-tripleo-modify-image,master,Id1534e9d1005d48fc3893182e156503b703af405,yum_update.sh: don't fail when plugin package is unavailable for install,MERGED,2019-06-12 12:23:56.000000000,2019-06-17 19:40:37.000000000,2019-06-17 19:40:37.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-12 12:23:56.000000000', 'files': ['files/yum_update.sh'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/60cb00de9af527cc2ca0e7f614f98e0878bc2339', 'message': ""yum_update.sh: don't fail when plugin package is unavailable for install\n\nChange-Id: Id1534e9d1005d48fc3893182e156503b703af405\n""}]",0,664873,60cb00de9af527cc2ca0e7f614f98e0878bc2339,7,3,1,4978,,,0,"yum_update.sh: don't fail when plugin package is unavailable for install

Change-Id: Id1534e9d1005d48fc3893182e156503b703af405
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/73/664873/1 && git format-patch -1 --stdout FETCH_HEAD,['files/yum_update.sh'],1,60cb00de9af527cc2ca0e7f614f98e0878bc2339,yum_update_repoquery, plugin=dnf-plugins-core plugin=yum-plugin-priorities if $(! echo $installed | grep -qw $plugin) && $($PKG list available $plugin >/dev/null 2>&1); then $PKG install -y $plugin fi , if ! echo $installed | grep -qw dnf-plugins-core; then $PKG install -y dnf-plugins-core fi if ! echo $installed | grep -qw yum-plugin-priorities; then $PKG install -y yum-plugin-priorities fi,7,6
openstack%2Fopenstack-ansible-os_zun~master~I7f611ffd095ca690baba3a987d8eb0b8407fade1,openstack/openstack-ansible-os_zun,master,I7f611ffd095ca690baba3a987d8eb0b8407fade1,Improve docker API version retrieval,MERGED,2019-01-21 16:46:54.000000000,2019-06-17 19:35:09.000000000,2019-02-24 06:15:21.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-01-21 16:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/3007fca3cea2334ee8ece86c24e273dc794aa9b0', 'message': 'Improve docker API version retrieval\n\nThe current method does not work due to CLI output formatting\nchanges. We improve it to render the client output using toml,\nwhich should be more future proof.\n\nChange-Id: I7f611ffd095ca690baba3a987d8eb0b8407fade1\n'}, {'number': 2, 'created': '2019-01-22 14:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/843b38cd2d8e749d3a3f31f3b775f9fb555b1790', 'message': 'Improve docker API version retrieval\n\nThe current method does not work due to CLI output formatting\nchanges. We improve it to render the client output using toml,\nwhich should be more future proof.\n\nChange-Id: I7f611ffd095ca690baba3a987d8eb0b8407fade1\n'}, {'number': 3, 'created': '2019-02-23 17:27:47.000000000', 'files': ['tests/group_vars/all_containers.yml', 'tasks/zun_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/7175ef6ae676c415d7043e314b63da8b19c967e5', 'message': 'Improve docker API version retrieval\n\nThe current method does not work due to CLI output formatting\nchanges. We improve it to render the client output using toml,\nwhich should be more future proof.\n\nThis change also disables pinging of the neutron router during\ntempest tests, a combined patch is required to pass tests.\n\nChange-Id: I7f611ffd095ca690baba3a987d8eb0b8407fade1\n'}]",0,632131,7175ef6ae676c415d7043e314b63da8b19c967e5,16,5,3,6816,,,0,"Improve docker API version retrieval

The current method does not work due to CLI output formatting
changes. We improve it to render the client output using toml,
which should be more future proof.

This change also disables pinging of the neutron router during
tempest tests, a combined patch is required to pass tests.

Change-Id: I7f611ffd095ca690baba3a987d8eb0b8407fade1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/31/632131/3 && git format-patch -1 --stdout FETCH_HEAD,['tasks/zun_post_install.yml'],1,3007fca3cea2334ee8ece86c24e273dc794aa9b0,632131," command: >- {% raw %} docker version -f ""{{.Client.APIVersion }}"" {% endraw %} zun_docker_api_version: ""{{ (docker_version.stdout | trim }}"""," command: ""docker version"" zun_docker_api_version: ""{{ (docker_version.stdout | from_yaml)['Client']['API version'] }}""",5,2
openstack%2Fcookbook-openstack-dashboard~master~I655e19e31f026be4fe92cbfbbf9d41f37cc6208d,openstack/cookbook-openstack-dashboard,master,I655e19e31f026be4fe92cbfbbf9d41f37cc6208d,Remove reference to deprecated attribute,MERGED,2019-06-11 22:31:05.000000000,2019-06-17 19:33:31.000000000,2019-06-17 19:33:31.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}, {'_account_id': 30417}]","[{'number': 1, 'created': '2019-06-11 22:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/8687d2f57c9702849c079f5fe5fed9e946b02745', 'message': ""Remove reference to deprecated attribute\n\nThe node['openstack']['api']['auth']['version'] was deprecated and should no\nlonger be used. Default to version 3 for keystone since that's currently what's\nsupported.\n\nChange-Id: I655e19e31f026be4fe92cbfbbf9d41f37cc6208d\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}, {'number': 2, 'created': '2019-06-16 05:18:03.000000000', 'files': ['spec/horizon_spec.rb', 'templates/default/local_settings.py.erb', 'attributes/default.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/d44b03c2bb99485ed07fe99c202e5bd0e317d020', 'message': ""Remove reference to deprecated attribute\n\nThe node['openstack']['api']['auth']['version'] was deprecated and should no\nlonger be used. Default to version 3 for keystone since that's currently what's\nsupported.\n\nChange-Id: I655e19e31f026be4fe92cbfbbf9d41f37cc6208d\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}]",0,664735,d44b03c2bb99485ed07fe99c202e5bd0e317d020,9,3,2,21961,,,0,"Remove reference to deprecated attribute

The node['openstack']['api']['auth']['version'] was deprecated and should no
longer be used. Default to version 3 for keystone since that's currently what's
supported.

Change-Id: I655e19e31f026be4fe92cbfbbf9d41f37cc6208d
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-dashboard refs/changes/35/664735/1 && git format-patch -1 --stdout FETCH_HEAD,['attributes/default.rb'],1,8687d2f57c9702849c079f5fe5fed9e946b02745,remove-api-auth-version,default['openstack']['dashboard']['identity_api_version'] = 3,default['openstack']['dashboard']['api']['auth']['version'] = node['openstack']['api']['auth']['version'] case node['openstack']['dashboard']['api']['auth']['version'] when 'v2.0' default['openstack']['dashboard']['identity_api_version'] = 2.0 when 'v3.0' default['openstack']['dashboard']['identity_api_version'] = 3 end,1,8
openstack%2Fkayobe~stable%2Fpike~I7966cf33f6133090d83232504b8c1da4c7817e0c,openstack/kayobe,stable/pike,I7966cf33f6133090d83232504b8c1da4c7817e0c,Restrict cliff to <2.15.0,MERGED,2019-06-17 15:15:54.000000000,2019-06-17 19:28:21.000000000,2019-06-17 19:28:21.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 15:15:54.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b164402f51c52cef493edc1f3d82f06c19cdea1a', 'message': ""Restrict cliff to <2.15.0\n\nUsing Kayobe with cliff 2.15.0 fails with the following error:\n\nkayobe playbook run playbook.yml\ninvalid conflict_resolution value: 'ignore'\n\nThis change restricts cliff to <2.15.0.\n\nChange-Id: I7966cf33f6133090d83232504b8c1da4c7817e0c\nStory: 2005891\nTask: 33748\n""}]",0,665706,b164402f51c52cef493edc1f3d82f06c19cdea1a,11,3,1,14826,,,0,"Restrict cliff to <2.15.0

Using Kayobe with cliff 2.15.0 fails with the following error:

kayobe playbook run playbook.yml
invalid conflict_resolution value: 'ignore'

This change restricts cliff to <2.15.0.

Change-Id: I7966cf33f6133090d83232504b8c1da4c7817e0c
Story: 2005891
Task: 33748
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/06/665706/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,b164402f51c52cef493edc1f3d82f06c19cdea1a,story/2005891-stable-pike,"cliff>=2.5.0,<2.15.0 # Apache",cliff>=2.5.0 # Apache,1,1
openstack%2Fcookbook-openstack-ops-messaging~master~If757cf57574bb8389ae270523bfc3772d8dc08db,openstack/cookbook-openstack-ops-messaging,master,If757cf57574bb8389ae270523bfc3772d8dc08db,Switch RHEL to using distribution packages for rabbitmq,MERGED,2019-06-16 17:48:50.000000000,2019-06-17 18:49:03.000000000,2019-06-17 18:49:03.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}, {'_account_id': 30417}]","[{'number': 1, 'created': '2019-06-16 17:48:50.000000000', 'files': ['spec/rabbitmq-server-redhat_spec.rb', 'attributes/default.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-messaging/commit/3abf7d79a1ee55a244c0b8b05498d630197a2af9', 'message': ""Switch RHEL to using distribution packages for rabbitmq\n\nInstalling rabbitmq without using the distro version is failing and it works if\nyou use the distro version. So let's standardize on that for both ubuntu and\nRHEL.\n\nChange-Id: If757cf57574bb8389ae270523bfc3772d8dc08db\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}]",0,665552,3abf7d79a1ee55a244c0b8b05498d630197a2af9,7,3,1,21961,,,0,"Switch RHEL to using distribution packages for rabbitmq

Installing rabbitmq without using the distro version is failing and it works if
you use the distro version. So let's standardize on that for both ubuntu and
RHEL.

Change-Id: If757cf57574bb8389ae270523bfc3772d8dc08db
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-ops-messaging refs/changes/52/665552/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/rabbitmq-server-redhat_spec.rb', 'attributes/default.rb']",2,3abf7d79a1ee55a244c0b8b05498d630197a2af9,rhel-use-distro-version,normal['rabbitmq']['use_distro_version'] = true , normal['rabbitmq']['use_distro_version'] = true,3,2
openstack%2Fcookbook-openstack-telemetry~master~I59c960a18f9e88eea494ec3c7bdbf189309f23e7,openstack/cookbook-openstack-telemetry,master,I59c960a18f9e88eea494ec3c7bdbf189309f23e7,Fix gnocchi endpoint issues,MERGED,2019-06-16 02:09:11.000000000,2019-06-17 18:46:54.000000000,2019-06-17 18:46:53.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}, {'_account_id': 30417}]","[{'number': 1, 'created': '2019-06-16 02:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-telemetry/commit/bfedb1c7179845b03f49ee95237fe1e7ebe5a98b', 'message': ""Fix gnocchi endpoint issues\n\nThis fixes two primary issues:\n\n- Removal of using node['openstack']['api']['auth']['version'] and converting to\n  using ::URI.decode\n- Renaming endpoint attributes from telemetry-metric to telemetry_metric to\n  match what's used in openstack-common\n\nChange-Id: I59c960a18f9e88eea494ec3c7bdbf189309f23e7\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}, {'number': 2, 'created': '2019-06-16 05:57:05.000000000', 'files': ['recipes/aodh.rb', 'attributes/gnocchi_conf.rb', 'spec/spec_helper.rb', 'attributes/default.rb', 'spec/identity_registration_spec.rb', 'spec/gnocchi_configure_spec.rb', 'recipes/gnocchi_configure.rb', 'recipes/common.rb', 'recipes/identity_registration.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-telemetry/commit/e0a39ccaf12703e6e41b77c652fb4e5c9e2950eb', 'message': ""Fix gnocchi endpoint issues\n\nThis fixes two primary issues:\n\n- Removal of using node['openstack']['api']['auth']['version'] and converting to\n  using ::URI.decode\n- Renaming endpoint attributes from telemetry-metric to telemetry_metric to\n  match what's used in openstack-common. Also rename all attributes to using the\n  underscore to minimize confusion.\n\nChange-Id: I59c960a18f9e88eea494ec3c7bdbf189309f23e7\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}]",0,665529,e0a39ccaf12703e6e41b77c652fb4e5c9e2950eb,9,3,2,21961,,,0,"Fix gnocchi endpoint issues

This fixes two primary issues:

- Removal of using node['openstack']['api']['auth']['version'] and converting to
  using ::URI.decode
- Renaming endpoint attributes from telemetry-metric to telemetry_metric to
  match what's used in openstack-common. Also rename all attributes to using the
  underscore to minimize confusion.

Change-Id: I59c960a18f9e88eea494ec3c7bdbf189309f23e7
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-telemetry refs/changes/29/665529/2 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/aodh.rb', 'attributes/default.rb', 'recipes/gnocchi_configure.rb', 'recipes/common.rb', 'recipes/identity_registration.rb']",5,bfedb1c7179845b03f49ee95237fe1e7ebe5a98b,fix-endpoints,auth_url = ::URI.decode identity_endpoint.to_s,"auth_url = auth_uri_transform identity_endpoint.to_s, node['openstack']['api']['auth']['version']",11,21
openstack%2Fcinder~master~Idee4836ee3e4f9b9f4099e7a1a3d7a4bada3f7b8,openstack/cinder,master,Idee4836ee3e4f9b9f4099e7a1a3d7a4bada3f7b8,Fix Snapshot object metadata loading,MERGED,2019-01-28 20:35:32.000000000,2019-06-17 18:42:41.000000000,2019-02-26 17:16:33.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-01-28 20:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/776b8778e626663e74ff59f3b4529bc579a63bff', 'message': ""Fix Snapshot object metadata loading\n\nThe Snapshot object will fail to correctly load\nmetadata.  Initialize the object fully so that\nobj_what_changed() works as intended.\n\nThis prevents the error:\n   AttributeError: 'Snapshot' object has no\n   attribute '_obj_metadata'\n\nCloses-Bug: #1805790\n\nCo-Author: Gorka Eguileor <geguileo@redhat.com>\nChange-Id: Idee4836ee3e4f9b9f4099e7a1a3d7a4bada3f7b8\n""}, {'number': 2, 'created': '2019-02-04 19:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c9d93c98f72406abe6aeb46451326fef356361cc', 'message': ""Fix Snapshot object metadata loading\n\nThe Snapshot object will fail to correctly load\nmetadata.  Initialize the object fully so that\nobj_what_changed() works as intended.\n\nThis prevents the error:\n   AttributeError: 'Snapshot' object has no\n   attribute '_obj_metadata'\n\nCloses-Bug: #1805790\n\nCo-Author: Gorka Eguileor <geguileo@redhat.com>\nChange-Id: Idee4836ee3e4f9b9f4099e7a1a3d7a4bada3f7b8\n""}, {'number': 3, 'created': '2019-02-23 11:59:41.000000000', 'files': ['cinder/objects/snapshot.py', 'cinder/tests/unit/objects/test_snapshot.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7ad0b0660c819cc7b2909b7e35cbe5a2fe0aef87', 'message': ""Fix Snapshot object metadata loading\n\nThe Snapshot object will fail to correctly load\nmetadata.  Initialize the object fully so that\nobj_what_changed() works as intended.\n\nThis prevents the error:\n   AttributeError: 'Snapshot' object has no\n   attribute '_obj_metadata'\n\nCloses-Bug: #1805790\n\nCo-Author: Gorka Eguileor <geguileo@redhat.com>\nChange-Id: Idee4836ee3e4f9b9f4099e7a1a3d7a4bada3f7b8\n""}]",0,633599,7ad0b0660c819cc7b2909b7e35cbe5a2fe0aef87,100,41,3,4523,,,0,"Fix Snapshot object metadata loading

The Snapshot object will fail to correctly load
metadata.  Initialize the object fully so that
obj_what_changed() works as intended.

This prevents the error:
   AttributeError: 'Snapshot' object has no
   attribute '_obj_metadata'

Closes-Bug: #1805790

Co-Author: Gorka Eguileor <geguileo@redhat.com>
Change-Id: Idee4836ee3e4f9b9f4099e7a1a3d7a4bada3f7b8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/99/633599/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/objects/snapshot.py'],1,776b8778e626663e74ff59f3b4529bc579a63bff,bug/1805790," self.metadata = kwargs.get('metadata', {})", self._orig_metadata = {},1,1
openstack%2Frequirements~master~I73147a7acf32c572ebeb63f638b7c008c3b6d87d,openstack/requirements,master,I73147a7acf32c572ebeb63f638b7c008c3b6d87d,update constraint for glance_store to new release 0.29.1,MERGED,2019-06-17 01:03:19.000000000,2019-06-17 18:34:57.000000000,2019-06-17 18:34:57.000000000,"[{'_account_id': 6593}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 01:03:19.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5b8944e32bdb4f0d44ec3a5ee4781c4ddb2c144f', 'message': 'update constraint for glance_store to new release 0.29.1\n\nChange-Id: I73147a7acf32c572ebeb63f638b7c008c3b6d87d\nmeta:version: 0.29.1\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Abhishek Kekane <akekane@redhat.com>\nmeta:release:Commit: Abhishek Kekane <akekane@redhat.com>\nmeta:release:Change-Id: I04011d0929a511c32bb28de1ae8c68bb079f9137\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>\n'}]",0,665567,5b8944e32bdb4f0d44ec3a5ee4781c4ddb2c144f,7,3,1,11131,,,0,"update constraint for glance_store to new release 0.29.1

Change-Id: I73147a7acf32c572ebeb63f638b7c008c3b6d87d
meta:version: 0.29.1
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Abhishek Kekane <akekane@redhat.com>
meta:release:Commit: Abhishek Kekane <akekane@redhat.com>
meta:release:Change-Id: I04011d0929a511c32bb28de1ae8c68bb079f9137
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/67/665567/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5b8944e32bdb4f0d44ec3a5ee4781c4ddb2c144f,new-release,glance-store===0.29.1,glance-store===0.28.0,1,1
openstack%2Frequirements~master~I9c28ee745e6d169eb8e2f15b7192b6460e11fd13,openstack/requirements,master,I9c28ee745e6d169eb8e2f15b7192b6460e11fd13,update constraint for osc-lib to new release 1.13.0,MERGED,2019-06-17 00:50:09.000000000,2019-06-17 18:34:55.000000000,2019-06-17 18:34:55.000000000,"[{'_account_id': 6593}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 00:50:09.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b2ab20d3584b99302fc19646972d945235cd74a8', 'message': 'update constraint for osc-lib to new release 1.13.0\n\nChange-Id: I9c28ee745e6d169eb8e2f15b7192b6460e11fd13\nmeta:version: 1.13.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Dean Troyer <dtroyer@gmail.com>\nmeta:release:Commit: Dean Troyer <dtroyer@gmail.com>\nmeta:release:Change-Id: I13eae9b480499cb8432ddab5ce9cfbb40c3530d3\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>\n'}]",0,665563,b2ab20d3584b99302fc19646972d945235cd74a8,8,3,1,11131,,,0,"update constraint for osc-lib to new release 1.13.0

Change-Id: I9c28ee745e6d169eb8e2f15b7192b6460e11fd13
meta:version: 1.13.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Dean Troyer <dtroyer@gmail.com>
meta:release:Commit: Dean Troyer <dtroyer@gmail.com>
meta:release:Change-Id: I13eae9b480499cb8432ddab5ce9cfbb40c3530d3
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/63/665563/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b2ab20d3584b99302fc19646972d945235cd74a8,new-release,osc-lib===1.13.0,osc-lib===1.12.1,1,1
openstack%2Fneutron~master~I0cc2123cc54396bfd18d3bf405ba115226624273,openstack/neutron,master,I0cc2123cc54396bfd18d3bf405ba115226624273,Switch to new engine facade for DriverController,MERGED,2019-06-14 17:19:14.000000000,2019-06-17 18:34:52.000000000,2019-06-17 18:34:52.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-14 17:19:14.000000000', 'files': ['neutron/services/l3_router/service_providers/driver_controller.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/37ebe19b99d6101fda3d2b250d498751fe30243f', 'message': 'Switch to new engine facade for DriverController\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I0cc2123cc54396bfd18d3bf405ba115226624273\n'}]",0,665436,37ebe19b99d6101fda3d2b250d498751fe30243f,10,8,1,16688,,,0,"Switch to new engine facade for DriverController

Partially-Implements blueprint: enginefacade-switch

Change-Id: I0cc2123cc54396bfd18d3bf405ba115226624273
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/665436/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/l3_router/service_providers/driver_controller.py'],1,37ebe19b99d6101fda3d2b250d498751fe30243f,bp/enginefacade-switch,from neutron_lib.db import api as db_api with db_api.CONTEXT_WRITER.using(payload.context):, with payload.context.session.begin(subtransactions=True):,2,1
openstack%2Fkayobe~master~I24564160b2e8f7c5feef7745fffb73de871018cb,openstack/kayobe,master,I24564160b2e8f7c5feef7745fffb73de871018cb,Fix git cloning previous release repos in CI,ABANDONED,2019-03-25 18:36:04.000000000,2019-06-17 18:28:14.000000000,,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-03-25 18:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2783718b4a9689d5c163c37a8e0137af6a5ba05b', 'message': 'Fix git cloning previous release repos in CI\n\nZuul provides repositories with all branches containing all prospective\nchanges, not just the current branch. We can use this in the upgrade\njobs to include changes to the previous release branch when a patch\ndepends on them.\n\nChange-Id: I24564160b2e8f7c5feef7745fffb73de871018cb\n'}, {'number': 2, 'created': '2019-03-26 12:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3e2327d66cec2c1706b24483ec44184cc2c23b28', 'message': 'Fix git cloning previous release repos in CI\n\nZuul provides repositories with all branches containing all prospective\nchanges, not just the current branch. We can use this in the upgrade\njobs to include changes to the previous release branch when a patch\ndepends on them.\n\nChange-Id: I24564160b2e8f7c5feef7745fffb73de871018cb\n'}, {'number': 3, 'created': '2019-05-20 14:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b26474256bfb3e17e15a97a588924c2dbaccbcb0', 'message': 'Fix git cloning previous release repos in CI\n\nZuul provides repositories with all branches containing all prospective\nchanges, not just the current branch. We can use this in the upgrade\njobs to include changes to the previous release branch when a patch\ndepends on them.\n\nChange-Id: I24564160b2e8f7c5feef7745fffb73de871018cb\n'}, {'number': 4, 'created': '2019-05-20 17:05:42.000000000', 'files': ['playbooks/kayobe-seed-upgrade-base/pre.yml', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f15d34b246b5cb3ab371296b20cbed9244153d73', 'message': 'Fix git cloning previous release repos in CI\n\nZuul provides repositories with all branches containing all prospective\nchanges, not just the current branch. We can use this in the upgrade\njobs to include changes to the previous release branch when a patch\ndepends on them.\n\nChange-Id: I24564160b2e8f7c5feef7745fffb73de871018cb\n'}]",2,647572,f15d34b246b5cb3ab371296b20cbed9244153d73,15,4,4,14826,,,0,"Fix git cloning previous release repos in CI

Zuul provides repositories with all branches containing all prospective
changes, not just the current branch. We can use this in the upgrade
jobs to include changes to the previous release branch when a patch
depends on them.

Change-Id: I24564160b2e8f7c5feef7745fffb73de871018cb
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/72/647572/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-seed-upgrade-base/pre.yml', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml']",2,2783718b4a9689d5c163c37a8e0137af6a5ba05b,fix-zuul-clone," repo: ""ssh://{{ ansible_user_id }}@localhost/{{ kayobe_src_dir }}"" repo: ""ssh://{{ ansible_user_id }}@localhost/{{ kayobe_config_src_dir }}""", repo: https://git.openstack.org/openstack/kayobe repo: https://git.openstack.org/openstack/kayobe-config-dev,6,4
openstack%2Fpbr~master~Icb3abca004a35ab9760db8116fedfa96d012d0d0,openstack/pbr,master,Icb3abca004a35ab9760db8116fedfa96d012d0d0,Fix Windows support,MERGED,2019-05-31 12:35:44.000000000,2019-06-17 18:19:29.000000000,2019-06-17 18:19:29.000000000,"[{'_account_id': 6928}, {'_account_id': 8543}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 12:35:44.000000000', 'files': ['pbr/util.py', 'pbr/hooks/files.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/a7e5c0202ea00aab29c009f7adef6cea51ac6e25', 'message': ""Fix Windows support\n\nA recent commit [1] broke Windows support by using shlex to\nunquote paths.\n\nThe issue with shlex.split is that it doesn't work with Windows\npaths, treating backslashes as escape characters.\n\nWe'll just replace backslashes with slashes before using shlex.split,\nconverting them back afterwards.\n\nCloses-Bug: #1831242\n\n[1] Id2cc32e4e40c1f834b19756e922118d8526358d3\n\nChange-Id: Icb3abca004a35ab9760db8116fedfa96d012d0d0\n""}]",0,662450,a7e5c0202ea00aab29c009f7adef6cea51ac6e25,18,4,1,8543,,,0,"Fix Windows support

A recent commit [1] broke Windows support by using shlex to
unquote paths.

The issue with shlex.split is that it doesn't work with Windows
paths, treating backslashes as escape characters.

We'll just replace backslashes with slashes before using shlex.split,
converting them back afterwards.

Closes-Bug: #1831242

[1] Id2cc32e4e40c1f834b19756e922118d8526358d3

Change-Id: Icb3abca004a35ab9760db8116fedfa96d012d0d0
",git fetch https://review.opendev.org/openstack/pbr refs/changes/50/662450/1 && git format-patch -1 --stdout FETCH_HEAD,"['pbr/util.py', 'pbr/hooks/files.py']",2,a7e5c0202ea00aab29c009f7adef6cea51ac6e25,bug/1831242," if os.name == 'nt': # shlex cannot handle paths that contain backslashes, treating those # as escape characters. path = path.replace(""\\"", ""/"") return """".join(shlex.split(path)).replace(""/"", ""\\"") ",,21,4
openstack%2Fpbr~master~I2ae04b893c7dfddcb6d94b724f53ee08436bf577,openstack/pbr,master,I2ae04b893c7dfddcb6d94b724f53ee08436bf577,Install more dependencies for integration testing,MERGED,2019-05-21 16:24:41.000000000,2019-06-17 18:10:32.000000000,2019-06-17 18:10:32.000000000,"[{'_account_id': 4146}, {'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-21 16:24:41.000000000', 'files': ['tools/integration.sh'], 'web_link': 'https://opendev.org/openstack/pbr/commit/c691c63d83d8ab5c577d83464883971185250688', 'message': 'Install more dependencies for integration testing\n\nWhen running this locally I needed to install a few more distro\npackages to provide build dependencies for pip packages. This change\nadds them to the list of things installed in tools/integration.sh.\n\nChange-Id: I2ae04b893c7dfddcb6d94b724f53ee08436bf577\n'}]",0,660449,c691c63d83d8ab5c577d83464883971185250688,11,4,1,6928,,,0,"Install more dependencies for integration testing

When running this locally I needed to install a few more distro
packages to provide build dependencies for pip packages. This change
adds them to the list of things installed in tools/integration.sh.

Change-Id: I2ae04b893c7dfddcb6d94b724f53ee08436bf577
",git fetch https://review.opendev.org/openstack/pbr refs/changes/49/660449/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/integration.sh'],1,c691c63d83d8ab5c577d83464883971185250688,integration-deps,sudo apt-get install -y --force-yes libvirt-dev libxml2-dev libxslt-dev libmysqlclient-dev libpq-dev libnspr4-dev pkg-config libsqlite3-dev libffi-dev libldap2-dev libsasl2-dev ccache libkrb5-dev liberasurecode-dev libjpeg-dev libsystemd-dev libnss3-dev libssl-dev,sudo apt-get install -y --force-yes libvirt-dev libxml2-dev libxslt-dev libmysqlclient-dev libpq-dev libnspr4-dev pkg-config libsqlite3-dev libffi-dev libldap2-dev libsasl2-dev ccache libkrb5-dev liberasurecode-dev libjpeg-dev,1,1
openstack%2Fpython-ironicclient~master~Ifb7bcc88e52dc120070501d531e2889820cdd643,openstack/python-ironicclient,master,Ifb7bcc88e52dc120070501d531e2889820cdd643,Switch to the new canonical constraints URL on master,MERGED,2019-06-17 13:42:47.000000000,2019-06-17 17:56:11.000000000,2019-06-17 17:56:11.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-17 13:42:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/eae60397bfcbed322b2121f77c35ac74d0c6b74c', 'message': 'Switch to the new canonical constraints URL on master\n\nReference:\n1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n2. https://review.opendev.org/#/c/601188\n\nChange-Id: Ifb7bcc88e52dc120070501d531e2889820cdd643\n'}]",0,665669,eae60397bfcbed322b2121f77c35ac74d0c6b74c,7,4,1,28748,,,0,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html
2. https://review.opendev.org/#/c/601188

Change-Id: Ifb7bcc88e52dc120070501d531e2889820cdd643
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/69/665669/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,eae60397bfcbed322b2121f77c35ac74d0c6b74c,, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},4,4
openstack%2Fironic-tempest-plugin~master~I3e9d3790efa4e37d8bac6ee3409bb55636738868,openstack/ironic-tempest-plugin,master,I3e9d3790efa4e37d8bac6ee3409bb55636738868,Switch to the new canonical constraints URL on master,MERGED,2019-06-17 13:50:31.000000000,2019-06-17 17:52:00.000000000,2019-06-17 17:52:00.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-17 13:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/073fcab414d33c6f0d71ca0471d781d9dc8fdd3d', 'message': 'Switch to the new canonical constraints URL on master\n\nReference:\n1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n2. https://review.opendev.org/#/c/601188\n\nChange-Id: I3e9d3790efa4e37d8bac6ee3409bb55636738868\n'}, {'number': 2, 'created': '2019-06-17 14:07:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/2494c8ad985c1576766b36cec9bf7bc4a34cca88', 'message': 'Switch to the new canonical constraints URL on master\n\nReference:\n1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I3e9d3790efa4e37d8bac6ee3409bb55636738868\n'}]",0,665674,2494c8ad985c1576766b36cec9bf7bc4a34cca88,8,4,2,28748,,,0,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I3e9d3790efa4e37d8bac6ee3409bb55636738868
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/74/665674/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,073fcab414d33c6f0d71ca0471d781d9dc8fdd3d,,install_command = pip install {opts} {packages}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/test-requirements.txt,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages}deps = -r{toxinidir}/test-requirements.txt,3,2
openstack%2Ftripleo-heat-templates~master~If5b39c78b32f7312ea0b5056a7d4ec3a60ee931d,openstack/tripleo-heat-templates,master,If5b39c78b32f7312ea0b5056a7d4ec3a60ee931d,Add higher retry/delay defaults to check the quorum status.,MERGED,2019-06-12 15:04:07.000000000,2019-06-17 17:48:37.000000000,2019-06-17 17:48:37.000000000,"[{'_account_id': 6796}, {'_account_id': 14270}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 30388}, {'_account_id': 30398}]","[{'number': 1, 'created': '2019-06-12 15:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac0deb524c4938215b8c250ad9d9a6d1753f7a47', 'message': 'Add higher retry/delay defaults to check the quorum status.\n\nAs the lp1832597 reported, we need to push to ceph-ansible\nhigher values to check if the quorum is healthy after the\nhandler is executed.\nThis commit sets new defaults via CephAnsibleExtraConfig.\n\nChange-Id: If5b39c78b32f7312ea0b5056a7d4ec3a60ee931d\nRelated-Bug: 1832597\n'}, {'number': 2, 'created': '2019-06-13 15:49:06.000000000', 'files': ['ci/environments/scenario010-multinode-containers.yaml', 'ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml', 'ci/environments/scenario001-standalone.yaml', 'ci/environments/scenario004-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6947d0842c6bee6f687bd3609f04c2828407c80d', 'message': 'Add higher retry/delay defaults to check the quorum status.\n\nAs the lp1832597 reported, we need to push to ceph-ansible\nhigher values to check if the quorum is healthy after the\nhandler is executed.\nThis commit sets new defaults via CephAnsibleExtraConfig.\n\nChange-Id: If5b39c78b32f7312ea0b5056a7d4ec3a60ee931d\nRelated-Bug: 1832597\n'}]",0,664954,6947d0842c6bee6f687bd3609f04c2828407c80d,21,9,2,25402,,,0,"Add higher retry/delay defaults to check the quorum status.

As the lp1832597 reported, we need to push to ceph-ansible
higher values to check if the quorum is healthy after the
handler is executed.
This commit sets new defaults via CephAnsibleExtraConfig.

Change-Id: If5b39c78b32f7312ea0b5056a7d4ec3a60ee931d
Related-Bug: 1832597
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/664954/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario010-multinode-containers.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml', 'ci/environments/scenario001-standalone.yaml', 'ci/environments/scenario004-multinode-containers.yaml']",6,ac0deb524c4938215b8c250ad9d9a6d1753f7a47,lp1832597, health_mon_check_retries: 10 health_mon_check_delay: 20,,12,0
openstack%2Ftripleo-validations~stable%2Fstein~I8c49001acdf33192d93113e5721f6e9b1aca73f1,openstack/tripleo-validations,stable/stein,I8c49001acdf33192d93113e5721f6e9b1aca73f1,Use Undercloud local_ip to ensure the registry does answer or not,MERGED,2019-06-17 08:38:47.000000000,2019-06-17 17:48:35.000000000,2019-06-17 17:48:35.000000000,"[{'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-17 08:38:47.000000000', 'files': ['roles/image-serve/tasks/main.yaml', 'roles/image-serve/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e0f90503c59858ced9d30613a46d4fa044d7e0e0', 'message': 'Use Undercloud local_ip to ensure the registry does answer or not\n\nThe Container registry vhost should listen on the Undercloud local_ip\ninstead of the loopback address.\n\nThis patch gets the local_ip of the Undercloud from the undercloud.conf\nfile to verify if the image-serve service is working and answering.\n\nChange-Id: I8c49001acdf33192d93113e5721f6e9b1aca73f1\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit ee1cec4804949d5b415146c093e881dc9df6c38c)\n'}]",0,665608,e0f90503c59858ced9d30613a46d4fa044d7e0e0,7,4,1,11491,,,0,"Use Undercloud local_ip to ensure the registry does answer or not

The Container registry vhost should listen on the Undercloud local_ip
instead of the loopback address.

This patch gets the local_ip of the Undercloud from the undercloud.conf
file to verify if the image-serve service is working and answering.

Change-Id: I8c49001acdf33192d93113e5721f6e9b1aca73f1
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit ee1cec4804949d5b415146c093e881dc9df6c38c)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/08/665608/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/image-serve/tasks/main.yaml', 'roles/image-serve/defaults/main.yaml']",2,e0f90503c59858ced9d30613a46d4fa044d7e0e0,,,container_registry_host: 127.0.0.1,22,5
