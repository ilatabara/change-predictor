id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fbarbican-tempest-plugin~master~Iae8eac5dffe3c5d15e38a6acd69f2bad95f3f238,openstack/barbican-tempest-plugin,master,Iae8eac5dffe3c5d15e38a6acd69f2bad95f3f238,Enable isolated networks in tempest.conf,MERGED,2022-03-21 11:29:42.000000000,2022-06-01 19:16:21.000000000,2022-06-01 19:16:21.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-03-21 11:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/2d0c0f240bd230b7070798a2ed271e959910cb82', 'message': 'DNM: Isolated networks test\n\nChange-Id: Iae8eac5dffe3c5d15e38a6acd69f2bad95f3f238\n'}, {'number': 2, 'created': '2022-03-24 09:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/56266ec49c06ad0b7d85995e30a60420f3089551', 'message': 'Enable isolated networks in tempest.conf\n\nThere was an issue with s-rbac and tempest when isolated networks\nwere enabled in tempest.conf.\n\nThis is no longer an issue as test that were failing with\ncreate_isolated_networks=true and s-rbac enabled are now\npassing successfully.\n\nChange-Id: Iae8eac5dffe3c5d15e38a6acd69f2bad95f3f238\n'}, {'number': 3, 'created': '2022-03-28 13:28:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/11c8cfae0ce85b874ab055e685accba85f460fda', 'message': 'Enable isolated networks in tempest.conf\n\nThere was an issue with s-rbac and tempest when isolated networks\nwere enabled in tempest.conf.\n\nThis is no longer an issue as test that were failing with\ncreate_isolated_networks=true and s-rbac enabled are now\npassing successfully.\n\nChange-Id: Iae8eac5dffe3c5d15e38a6acd69f2bad95f3f238\n'}]",2,834455,11c8cfae0ce85b874ab055e685accba85f460fda,17,4,3,30674,,,0,"Enable isolated networks in tempest.conf

There was an issue with s-rbac and tempest when isolated networks
were enabled in tempest.conf.

This is no longer an issue as test that were failing with
create_isolated_networks=true and s-rbac enabled are now
passing successfully.

Change-Id: Iae8eac5dffe3c5d15e38a6acd69f2bad95f3f238
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/55/834455/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2d0c0f240bd230b7070798a2ed271e959910cb82,fix/isolated-networks, create_isolated_networks: True, create_isolated_networks: False,1,1
openstack%2Fcharm-neutron-api-plugin-ironic~stable%2Fyoga~I8331f91581019be97c9f2abff2ac75b00dc17a27,openstack/charm-neutron-api-plugin-ironic,stable/yoga,I8331f91581019be97c9f2abff2ac75b00dc17a27,Remove .charm artefact from repo and add to .gitignore,MERGED,2022-05-09 13:42:38.000000000,2022-06-01 18:44:30.000000000,2022-06-01 18:44:30.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-09 13:42:38.000000000', 'files': ['.gitignore', 'neutron-api-plugin-ironic.charm'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/5705acff064351b2d0dcc23e3aa15a39d48ed0b7', 'message': 'Remove .charm artefact from repo and add to .gitignore\n\nChange-Id: I8331f91581019be97c9f2abff2ac75b00dc17a27\n'}]",2,841123,5705acff064351b2d0dcc23e3aa15a39d48ed0b7,9,3,1,20870,,,0,"Remove .charm artefact from repo and add to .gitignore

Change-Id: I8331f91581019be97c9f2abff2ac75b00dc17a27
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ironic refs/changes/23/841123/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'neutron-api-plugin-ironic.charm']",2,5705acff064351b2d0dcc23e3aa15a39d48ed0b7,remove-charm-artefact-yoga,,,1,0
openstack%2Fskyline-console~master~If458dd8c3b0114573512984792f51b6b883a3c8a,openstack/skyline-console,master,If458dd8c3b0114573512984792f51b6b883a3c8a,fix: Zun code adjustment,MERGED,2022-05-30 06:09:13.000000000,2022-06-01 18:30:48.000000000,2022-06-01 18:30:48.000000000,"[{'_account_id': 22348}, {'_account_id': 27623}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-05-30 06:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/ec61480b199f9cc1f523227deebedcbe47a1ff38', 'message': 'fix: Zun code adjustment\n\n1. code formatting problem\n2. delete capsiule problem\n\nChange-Id: If458dd8c3b0114573512984792f51b6b883a3c8a\n'}, {'number': 2, 'created': '2022-05-30 06:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/1308acb58913aaade7b7d6dfb789ddc2d14b395a', 'message': 'fix: Zun code adjustment\n\n1. code formatting problem\n2. delete capsule problem\n\nChange-Id: If458dd8c3b0114573512984792f51b6b883a3c8a\n'}, {'number': 3, 'created': '2022-05-30 06:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/0208d5add671e15c4f27fd30c59cbcfc7157ff4f', 'message': 'fix: Zun code adjustment\n\n1. code formatting problem\n2. delete capsule problem\n\nChange-Id: If458dd8c3b0114573512984792f51b6b883a3c8a\n'}, {'number': 4, 'created': '2022-05-30 06:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/d66aefc25e81507af336591477de01bdc6b6793e', 'message': 'fix: Zun code adjustment\n\n1. code formatting problem\n2. delete capsule problem\n3. create container problem\n\nChange-Id: If458dd8c3b0114573512984792f51b6b883a3c8a\n'}, {'number': 5, 'created': '2022-05-31 03:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/c23cfbf33dcea2b8a83cba19987c5917e0860e03', 'message': 'fix: Zun code adjustment\n\n1. code formatting problem\n2. delete capsule problem\n3. create container problem\n\nChange-Id: If458dd8c3b0114573512984792f51b6b883a3c8a\n'}, {'number': 6, 'created': '2022-05-31 05:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/3eada210446a5cf5f145da259ef02ddd8db60b88', 'message': 'fix: Zun code adjustment\n\n1. code formatting problem\n2. delete capsule problem\n3. create container problem\n\nChange-Id: If458dd8c3b0114573512984792f51b6b883a3c8a\n'}, {'number': 7, 'created': '2022-05-31 06:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/f9082c034a7dae5bd84628bcc37a5fc641877d78', 'message': 'fix: Zun code adjustment\n\n1. code formatting problem\n2. delete capsule problem\n3. create container problem\n\nChange-Id: If458dd8c3b0114573512984792f51b6b883a3c8a\n'}, {'number': 8, 'created': '2022-06-01 15:40:27.000000000', 'files': ['src/resources/zun/capsule.js', 'src/pages/container-service/containers/Containers/Detail/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/index.jsx', 'src/pages/container-service/containers/Capsules/Detail/BaseDetail.jsx', 'src/pages/container-service/containers/Containers/actions/Unpause.jsx', 'src/locales/en.json', 'src/stores/zun/containers.js', 'src/pages/container-service/containers/Capsules/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepNetworks/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepSpec/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepVolumes/index.jsx', 'src/layouts/menu.jsx', 'src/pages/container-service/containers/Capsules/Detail/index.jsx', 'src/pages/container-service/containers/Containers/actions/Start.jsx', 'src/locales/zh.json', 'src/pages/container-service/containers/Containers/actions/Reboot.jsx', 'src/pages/container-service/containers/Containers/actions/Pause.jsx', 'src/pages/container-service/containers/Containers/actions/Stop.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepInfo/index.jsx', 'src/pages/container-service/containers/Containers/actions/index.jsx', 'src/pages/container-service/containers/Containers/index.jsx', 'src/pages/container-service/containers/Capsules/actions/Delete.jsx', 'src/pages/container-service/containers/Capsules/actions/Create.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepMiscellaneous/index.jsx', 'src/resources/zun/container.js', 'src/pages/container-service/containers/Containers/actions/Delete.jsx', 'src/pages/container-service/routes/index.js', 'src/pages/container-service/containers/Capsules/actions/index.jsx', 'src/pages/container-service/containers/Containers/Detail/BaseDetail.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e740c89b9cc7996f9d083a420623a0f423169567', 'message': 'fix: Zun code adjustment\n\n1. code formatting problem\n2. delete capsule problem\n3. create container problem\n\nChange-Id: If458dd8c3b0114573512984792f51b6b883a3c8a\n'}]",7,843773,e740c89b9cc7996f9d083a420623a0f423169567,36,3,8,34718,,,0,"fix: Zun code adjustment

1. code formatting problem
2. delete capsule problem
3. create container problem

Change-Id: If458dd8c3b0114573512984792f51b6b883a3c8a
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/73/843773/7 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/container-service/containers/Containers/actions/Start.jsx', 'src/pages/container-service/containers/Containers/actions/Reboot.jsx', 'src/pages/container-service/containers/Containers/Detail/index.jsx', 'src/pages/container-service/containers/Containers/actions/Pause.jsx', 'src/pages/container-service/containers/Containers/actions/Stop.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/index.jsx', 'src/pages/container-service/containers/Capsules/Detail/BaseDetail.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepInfo/index.jsx', 'src/pages/container-service/containers/Containers/actions/Unpause.jsx', 'src/pages/container-service/containers/Containers/index.jsx', 'src/pages/container-service/containers/Capsules/actions/Delete.jsx', 'src/pages/container-service/containers/Capsules/actions/Create.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepMiscellaneous/index.jsx', 'src/pages/container-service/containers/Containers/actions/Delete.jsx', 'src/pages/container-service/routes/index.js', 'src/pages/container-service/containers/Capsules/index.jsx', 'src/pages/container-service/containers/Containers/Detail/BaseDetail.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepNetworks/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepSpec/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepVolumes/index.jsx', 'src/pages/container-service/containers/Capsules/Detail/index.jsx']",21,ec61480b199f9cc1f523227deebedcbe47a1ff38,,import BaseDetail from './BaseDetail';export default inject('rootStore')(observer(CapsulesDetail)); ,"import BaseDetail from './BaseDetail';export default inject(""rootStore"")(observer(CapsulesDetail))",270,227
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~If3569c08edb4e820a4db11ac755f23de71059a10,openstack/tripleo-heat-templates,stable/victoria,If3569c08edb4e820a4db11ac755f23de71059a10,Fix Redis config generation when fd limit changes,MERGED,2022-05-05 08:38:58.000000000,2022-06-01 18:28:24.000000000,2022-06-01 18:28:24.000000000,"[{'_account_id': 20778}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-05 08:38:58.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/redis-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/09ad8b74791d76a587dec80f7efbb5739da8dc1a', 'message': 'Fix Redis config generation when fd limit changes\n\npuppet-redis supports [1,2] changing PAM limits for the\nfile descriptors consumed by Redis. However puppet fails\nto run systemd reload inside container-puppet-redis.\n\nWe have to keep Exec resources (for old pcs setup and for\nmanipulating the Redis config file), so silent the Exec\nresource in that call systemd reload.\n\nCloses-Bug: #1960134\n\n[1] https://github.com/voxpupuli/puppet-redis/issues/130\n[2] https://github.com/voxpupuli/puppet-redis/pull/192\n\nChange-Id: If3569c08edb4e820a4db11ac755f23de71059a10\n(cherry picked from commit 85ccef292398641c33f5133442829cb62fa26812)\n(cherry picked from commit 7d5eaa17c83045a04faf43f5955348bbbefad3d1)\n'}]",3,840477,09ad8b74791d76a587dec80f7efbb5739da8dc1a,14,2,1,20778,,,0,"Fix Redis config generation when fd limit changes

puppet-redis supports [1,2] changing PAM limits for the
file descriptors consumed by Redis. However puppet fails
to run systemd reload inside container-puppet-redis.

We have to keep Exec resources (for old pcs setup and for
manipulating the Redis config file), so silent the Exec
resource in that call systemd reload.

Closes-Bug: #1960134

[1] https://github.com/voxpupuli/puppet-redis/issues/130
[2] https://github.com/voxpupuli/puppet-redis/pull/192

Change-Id: If3569c08edb4e820a4db11ac755f23de71059a10
(cherry picked from commit 85ccef292398641c33f5133442829cb62fa26812)
(cherry picked from commit 7d5eaa17c83045a04faf43f5955348bbbefad3d1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/840477/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/redis-container-puppet.yaml']",2,09ad8b74791d76a587dec80f7efbb5739da8dc1a,bug/1960134-stable/wallaby-stable/victoria, - - Exec <| title == 'systemd-reload-redis' |> { unless => 'true' } - include tripleo::profile::base::database::redis, - - include tripleo::profile::base::database::redis,3,1
openstack%2Fneutron~master~I0e5d08c1a9dc475c7b138c4934ef0331a4339a4c,openstack/neutron,master,I0e5d08c1a9dc475c7b138c4934ef0331a4339a4c,Mark functional L3ha tests as unstable,MERGED,2022-06-01 15:29:10.000000000,2022-06-01 17:37:04.000000000,2022-06-01 17:33:52.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 15:29:10.000000000', 'files': ['neutron/tests/functional/agent/l3/framework.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d13da77107fd9e9166b891409376a67210f7f48b', 'message': ""Mark functional L3ha tests as unstable\n\nAll functional tests which uses wait_until_ha_router_has_state() method\nare now marked as unstable so in case of timeout while waiting for\nrouter's state transition, job will not fail.\n\nRelated-Bug: #1956958\nChange-Id: I0e5d08c1a9dc475c7b138c4934ef0331a4339a4c\n""}]",2,844314,d13da77107fd9e9166b891409376a67210f7f48b,14,7,1,11975,,,0,"Mark functional L3ha tests as unstable

All functional tests which uses wait_until_ha_router_has_state() method
are now marked as unstable so in case of timeout while waiting for
router's state transition, job will not fail.

Related-Bug: #1956958
Change-Id: I0e5d08c1a9dc475c7b138c4934ef0331a4339a4c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/844314/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/l3/framework.py'],1,d13da77107fd9e9166b891409376a67210f7f48b,bug/1956958,"from neutron.tests import base as test_base @test_base.unstable_test(""bug 1956958"") def wait_until_ha_router_has_state(self, router, expected_state):"," @staticmethod def wait_until_ha_router_has_state(router, expected_state):",3,2
openstack%2Fneutron~master~I757dbf929cb1dc27027614bbb2147a61606f85a9,openstack/neutron,master,I757dbf929cb1dc27027614bbb2147a61606f85a9,Switch Fips fullstack/functional tests to py3.8,MERGED,2022-05-25 09:12:29.000000000,2022-06-01 17:36:03.000000000,2022-06-01 17:33:41.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-25 09:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8be50e8640737badc2bb170c9334f00bbcef481', 'message': '[DNM] fips fullstack/functional test without dbcounter\n\nChange-Id: I757dbf929cb1dc27027614bbb2147a61606f85a9\n'}, {'number': 2, 'created': '2022-05-25 11:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/779a85feb967d3814a0d8c012c329ddb46d8d71f', 'message': '[DNM] fips fullstack/functional test without dbcounter\n\nChange-Id: I757dbf929cb1dc27027614bbb2147a61606f85a9\n'}, {'number': 3, 'created': '2022-05-25 16:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f31b9c5976dd9cdbe58db9e51129e8e31f3ea752', 'message': '[DNM] fips fullstack/functional test without dbcounter\n\nChange-Id: I757dbf929cb1dc27027614bbb2147a61606f85a9\n'}, {'number': 4, 'created': '2022-05-27 07:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d60c0dbf0086a41949d541f68fc66b091e569649', 'message': '[DNM] fips fullstack/functional test without dbcounter\n\nChange-Id: I757dbf929cb1dc27027614bbb2147a61606f85a9\n'}, {'number': 5, 'created': '2022-05-27 08:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a985b76f2e771c9e3f42a8c0493fd163ad8c51dd', 'message': '[DNM] fips fullstack/functional test without dbcounter\n\nChange-Id: I757dbf929cb1dc27027614bbb2147a61606f85a9\n'}, {'number': 6, 'created': '2022-05-27 09:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8fe933822df30af80b97aaa3473ac6793e553f41', 'message': '[DNM] fips fullstack/functional test without dbcounter\n\nChange-Id: I757dbf929cb1dc27027614bbb2147a61606f85a9\n'}, {'number': 7, 'created': '2022-05-27 12:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6f350d6f3ef58657ddd06364c07ce5ff28eaafff', 'message': '[DNM] fips fullstack/functional test without dbcounter\n\nChange-Id: I757dbf929cb1dc27027614bbb2147a61606f85a9\n'}, {'number': 8, 'created': '2022-05-31 05:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d9657900298f38b7f447635320115c91c294762', 'message': ""Switch Fips fullstack/functional tests to py3.8\n\nMaster has dropped py3.6 support so upper-constraints\nrequirements are not installable with python3.6\nand due to this fips jobs which are running on py3.6\nare failing. Let's run the functional/fullstack tests\nwith python3.8 on CentOS 8-Stream itself.\n\nAlso disable dbcounter installation as it's not\ninstalling on python3.6.\nThe hacks can be cleaned up when these jobs are\nswitched to CentOS 9-Stream, currently have some\nissues as mentioned in the Related Bug.\n\nRelated-Bug: #1976323\nChange-Id: I757dbf929cb1dc27027614bbb2147a61606f85a9\n""}, {'number': 9, 'created': '2022-05-31 05:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/11df7349a1020e24bf1417201e14d5ecad4e7172', 'message': ""Switch Fips fullstack/functional tests to py3.8\n\nMaster has dropped py3.6 support so upper-constraints\nrequirements are not installable with python3.6\nand due to this fips jobs which are running on py3.6\nare failing. Let's run the functional/fullstack tests\nwith python3.8 on CentOS 8-Stream itself.\n\nAlso disable dbcounter installation as it's not\ninstalling on python3.6.\nThe hacks can be cleaned up when these jobs are\nswitched to CentOS 9-Stream, currently have some\nissues as mentioned in the Related Bug.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/843989\nRelated-Bug: #1976323\nChange-Id: I757dbf929cb1dc27027614bbb2147a61606f85a9\n""}, {'number': 10, 'created': '2022-05-31 06:03:49.000000000', 'files': ['zuul.d/base.yaml', 'roles/configure_functional_tests/tasks/main.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f5fb86232a92008e3f9c3be8a00287a1cd09b20', 'message': ""Switch Fips fullstack/functional tests to py3.8\n\nMaster has dropped py3.6 support so upper-constraints\nrequirements are not installable with python3.6\nand due to this fips jobs which are running on py3.6\nare failing. Let's run the functional/fullstack tests\nwith python3.8 on CentOS 8-Stream itself.\n\nAlso disable dbcounter installation as it's not\ninstalling on python3.6.\nThe hacks can be cleaned up when these jobs are\nswitched to CentOS 9-Stream, currently have some\nissues as mentioned in the Related Bug.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/843989\nRelated-Bug: #1976323\nChange-Id: I757dbf929cb1dc27027614bbb2147a61606f85a9\n""}]",4,843252,7f5fb86232a92008e3f9c3be8a00287a1cd09b20,41,5,10,13861,,,0,"Switch Fips fullstack/functional tests to py3.8

Master has dropped py3.6 support so upper-constraints
requirements are not installable with python3.6
and due to this fips jobs which are running on py3.6
are failing. Let's run the functional/fullstack tests
with python3.8 on CentOS 8-Stream itself.

Also disable dbcounter installation as it's not
installing on python3.6.
The hacks can be cleaned up when these jobs are
switched to CentOS 9-Stream, currently have some
issues as mentioned in the Related Bug.

Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/843989
Related-Bug: #1976323
Change-Id: I757dbf929cb1dc27027614bbb2147a61606f85a9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/843252/10 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/project.yaml']",2,d8be50e8640737badc2bb170c9334f00bbcef481,bug/1976323, - neutron-fullstack-with-uwsgi-fips - neutron-functional-with-uwsgi-fips, templates: - neutron-tempest-plugin-jobs - openstack-cover-jobs - openstack-python3-zed-jobs - openstack-python3-zed-jobs-arm64 - publish-openstack-docs-pti - periodic-stable-jobs - check-requirements - release-notes-jobs-python3 - neutron-experimental-jobs - neutron-periodic-jobs - neutron-tox-override-jobs - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-ovs-rally-task - neutron-ovs-grenade-multinode - neutron-ovs-grenade-dvr-multinode - neutron-ovs-tempest-multinode-full - neutron-ovs-tempest-dvr-ha-multinode-full - neutron-ovn-tempest-ipv6-only - neutron-ovn-rally-task: voting: false,4,22
openstack%2Fnova~stable%2Fxena~Iddbc9b2a13f19cea9a996aeadfe891f4ef3b0264,openstack/nova,stable/xena,Iddbc9b2a13f19cea9a996aeadfe891f4ef3b0264,Add service version check workaround for FFU,MERGED,2022-02-28 11:14:07.000000000,2022-06-01 17:35:55.000000000,2022-06-01 17:33:46.000000000,"[{'_account_id': 4393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-28 11:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/213596a71c9b92004102cef4541f504ee1e16f56', 'message': 'Add service version check workaround for FFU\n\nWe recently added a hard failure to nova service startup for the case\nwhere computes were more than one version old (as indicated by their\nservice record). This helps to prevent starting up new control\nservices when a very old compute is still running. However, during an\nFFU, control services that have skipped multiple versions will be\nstarted and find the older compute records (which could not be updated\nyet due to their reliance on the control services being up) and refuse\nto start. This creates a cross-dependency which is not resolvable\nwithout hacking the database.\n\nThis patch adds a workaround flag to allow turning that hard fail into\na warning to proceed past the issue. This less-than-ideal solution\nis simple and backportable, but perhaps a better solution can be\nimplemented for the future.\n\nRelated-Bug: #1958883\n\nChange-Id: Iddbc9b2a13f19cea9a996aeadfe891f4ef3b0264\n(cherry picked from commit 7d2e4815892ddd523c21bf1785cc113981871998)\n'}, {'number': 2, 'created': '2022-05-31 12:50:51.000000000', 'files': ['nova/service.py', 'nova/tests/unit/test_service.py', 'nova/api/openstack/wsgi_app.py', 'nova/tests/unit/api/openstack/test_wsgi_app.py', 'nova/conf/workarounds.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3a5f8924ff42ce3f691f33abf2c2daee88e90fe5', 'message': 'Add service version check workaround for FFU\n\nWe recently added a hard failure to nova service startup for the case\nwhere computes were more than one version old (as indicated by their\nservice record). This helps to prevent starting up new control\nservices when a very old compute is still running. However, during an\nFFU, control services that have skipped multiple versions will be\nstarted and find the older compute records (which could not be updated\nyet due to their reliance on the control services being up) and refuse\nto start. This creates a cross-dependency which is not resolvable\nwithout hacking the database.\n\nThis patch adds a workaround flag to allow turning that hard fail into\na warning to proceed past the issue. This less-than-ideal solution\nis simple and backportable, but perhaps a better solution can be\nimplemented for the future.\n\nRelated-Bug: #1958883\n\nChange-Id: Iddbc9b2a13f19cea9a996aeadfe891f4ef3b0264\n(cherry picked from commit 7d2e4815892ddd523c21bf1785cc113981871998)\n'}]",0,831174,3a5f8924ff42ce3f691f33abf2c2daee88e90fe5,18,2,2,9708,,,0,"Add service version check workaround for FFU

We recently added a hard failure to nova service startup for the case
where computes were more than one version old (as indicated by their
service record). This helps to prevent starting up new control
services when a very old compute is still running. However, during an
FFU, control services that have skipped multiple versions will be
started and find the older compute records (which could not be updated
yet due to their reliance on the control services being up) and refuse
to start. This creates a cross-dependency which is not resolvable
without hacking the database.

This patch adds a workaround flag to allow turning that hard fail into
a warning to proceed past the issue. This less-than-ideal solution
is simple and backportable, but perhaps a better solution can be
implemented for the future.

Related-Bug: #1958883

Change-Id: Iddbc9b2a13f19cea9a996aeadfe891f4ef3b0264
(cherry picked from commit 7d2e4815892ddd523c21bf1785cc113981871998)
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/831174/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/service.py', 'nova/tests/unit/test_service.py', 'nova/api/openstack/wsgi_app.py', 'nova/tests/unit/api/openstack/test_wsgi_app.py', 'nova/conf/workarounds.py']",5,213596a71c9b92004102cef4541f504ee1e16f56,bug/1958883," cfg.BoolOpt('disable_compute_service_check_for_ffu', default=False, help="""""" If this is set, the normal safety check for old compute services will be treated as a warning instead of an error. This is only to be enabled to facilitate a Fast-Forward upgrade where new control services are being started before compute nodes have been able to update their service record. In an FFU, the service records in the database will be more than one version old until the compute nodes start up, but control services need to be online first. """"""),",,64,2
openstack%2Fpython-tripleoclient~master~I41ac3b85e379cda7a8d414a2e17e4a57af15f387,openstack/python-tripleoclient,master,I41ac3b85e379cda7a8d414a2e17e4a57af15f387,Remove unused object storage client implementation,MERGED,2022-05-10 06:29:30.000000000,2022-06-01 17:25:56.000000000,2022-06-01 17:24:46.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-10 06:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5170ed7927f4f1b2cc1a04ea451177859fe44be7', 'message': 'Remove unused object storage client implementation\n\nThis implementation is no longer used since Swift was removed from\nUndercloud.\n\nChange-Id: I41ac3b85e379cda7a8d414a2e17e4a57af15f387\n'}, {'number': 2, 'created': '2022-05-10 06:32:08.000000000', 'files': ['tripleoclient/tests/v1/test_overcloud_export.py', 'tripleoclient/plugin.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0e632c6b9d91496d8ce209cc513806e5abaccd7a', 'message': 'Remove unused object storage client implementation\n\nThis implementation is no longer used since Swift was removed from\nUndercloud.\n\nChange-Id: I41ac3b85e379cda7a8d414a2e17e4a57af15f387\n'}]",1,841208,0e632c6b9d91496d8ce209cc513806e5abaccd7a,15,4,2,9816,,,0,"Remove unused object storage client implementation

This implementation is no longer used since Swift was removed from
Undercloud.

Change-Id: I41ac3b85e379cda7a8d414a2e17e4a57af15f387
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/08/841208/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/test_overcloud_export.py', 'tripleoclient/plugin.py', 'tripleoclient/tests/fakes.py']",3,5170ed7927f4f1b2cc1a04ea451177859fe44be7,,," self.object_store = FakeObjectClient()class FakeObjectClient(object): def __init__(self): self._instance = mock.Mock() self.put_object = mock.Mock() def get_object(self, *args): return [None, ""fake""] def get_container(self, *args): return [None, [{""name"": ""fake""}]] ",0,42
openstack%2Fnetworking-sfc~master~Ica2c8f49bf4d770adf3f703e5e923c108b6ed179,openstack/networking-sfc,master,Ica2c8f49bf4d770adf3f703e5e923c108b6ed179,[sqlalchemy-20] Add Context for all SQL transactions,MERGED,2022-06-01 07:33:25.000000000,2022-06-01 16:57:32.000000000,2022-06-01 16:56:16.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 07:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/57402479a7d07c931b0bed8c62459cf7d8d59300', 'message': '[sqlalchemy-20] Add Context for all SQL transactions\n\nNeutron code migrated to SQLAlchemy 2.0[1], the goal of this\npatch is to make the sfc plugin code compliant with\nSQLAlchemy 2.0 by adding context for all SQL transactions.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/833247\n\nCloses-Bug: #1976360\nChange-Id: Ica2c8f49bf4d770adf3f703e5e923c108b6ed179\n'}, {'number': 2, 'created': '2022-06-01 07:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/8e0636212f25bba1d54c24870e4de674a1839ef5', 'message': '[sqlalchemy-20] Add Context for all SQL transactions\n\nNeutron code migrated to SQLAlchemy 2.0[1], the goal of this\npatch is to make the sfc plugin code compliant with\nSQLAlchemy 2.0 by adding context for all SQL transactions.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/833247\n\nCloses-Bug: #1976360\nChange-Id: Ica2c8f49bf4d770adf3f703e5e923c108b6ed179\n'}, {'number': 3, 'created': '2022-06-01 10:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/ccc82197f1c8f2d68e207caca6b3b44a9dca83bc', 'message': '[sqlalchemy-20] Add Context for all SQL transactions\n\nNeutron code migrated to SQLAlchemy 2.0[1], the goal of this\npatch is to make the sfc plugin code compliant with\nSQLAlchemy 2.0 by adding context for all SQL transactions.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/833247\n\nCloses-Bug: #1976360\nChange-Id: Ica2c8f49bf4d770adf3f703e5e923c108b6ed179\n'}, {'number': 4, 'created': '2022-06-01 12:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/9202e42a0aca15e6f63e6687944e40463db863a3', 'message': '[sqlalchemy-20] Add Context for all SQL transactions\n\nNeutron code migrated to SQLAlchemy 2.0[1], the goal of this\npatch is to make the sfc plugin code compliant with\nSQLAlchemy 2.0 by adding context for all SQL transactions.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/833247\n\nCloses-Bug: #1976360\nChange-Id: Ica2c8f49bf4d770adf3f703e5e923c108b6ed179\n'}, {'number': 5, 'created': '2022-06-01 14:11:27.000000000', 'files': ['networking_sfc/db/sfc_db.py', 'networking_sfc/db/flowclassifier_db.py', 'networking_sfc/services/sfc/drivers/ovs/driver.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/ddb298c77296a7e780e33a75c90e4a5252169617', 'message': '[sqlalchemy-20] Add Context for all SQL transactions\n\nNeutron code migrated to SQLAlchemy 2.0[1], the goal of this\npatch is to make the sfc plugin code compliant with\nSQLAlchemy 2.0 by adding context for all SQL transactions.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/833247\n\nCloses-Bug: #1976360\nChange-Id: Ica2c8f49bf4d770adf3f703e5e923c108b6ed179\n'}]",5,844251,ddb298c77296a7e780e33a75c90e4a5252169617,20,6,5,13861,,,0,"[sqlalchemy-20] Add Context for all SQL transactions

Neutron code migrated to SQLAlchemy 2.0[1], the goal of this
patch is to make the sfc plugin code compliant with
SQLAlchemy 2.0 by adding context for all SQL transactions.

[1] https://review.opendev.org/c/openstack/neutron/+/833247

Closes-Bug: #1976360
Change-Id: Ica2c8f49bf4d770adf3f703e5e923c108b6ed179
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/51/844251/5 && git format-patch -1 --stdout FETCH_HEAD,"['networking_sfc/db/sfc_db.py', 'networking_sfc/db/flowclassifier_db.py']",2,57402479a7d07c931b0bed8c62459cf7d8d59300,bug/1976360, @db_api.CONTEXT_READER @db_api.CONTEXT_READER,,98,87
openstack%2Fneutron~master~I79dcf96a2b0fdaeeb2e81501f2a546e5fadffa35,openstack/neutron,master,I79dcf96a2b0fdaeeb2e81501f2a546e5fadffa35,Skip non-functional jobs on functional roles/playbooks changes,MERGED,2022-05-31 06:02:57.000000000,2022-06-01 16:46:53.000000000,2022-06-01 16:43:28.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-31 06:02:57.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tripleo.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/grenade.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d54f965a91ff6a34e383e607f9cb9b00f6606f5', 'message': ""Skip non-functional jobs on functional roles/playbooks changes\n\nSince these jobs do not use roles and playbooks for\nconfiguring functional jobs let's add these\nto irrelevant-files.\n\nNeeded By:- https://review.opendev.org/c/openstack/neutron/+/843252.\n\nChange-Id: I79dcf96a2b0fdaeeb2e81501f2a546e5fadffa35\n""}]",0,843992,3d54f965a91ff6a34e383e607f9cb9b00f6606f5,10,6,1,13861,,,0,"Skip non-functional jobs on functional roles/playbooks changes

Since these jobs do not use roles and playbooks for
configuring functional jobs let's add these
to irrelevant-files.

Needed By:- https://review.opendev.org/c/openstack/neutron/+/843252.

Change-Id: I79dcf96a2b0fdaeeb2e81501f2a546e5fadffa35
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/843992/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/tripleo.yaml', 'zuul.d/grenade.yaml']",5,3d54f965a91ff6a34e383e607f9cb9b00f6606f5,neutron-ci-improvements, - ^roles/.*functional.*$ - ^playbooks/.*functional.*$ - ^roles/.*functional.*$ - ^playbooks/.*functional.*$,,28,0
openstack%2Fnova~stable%2Fwallaby~Ibba2d1506a0b026d35d7bf35384ec6439f438b01,openstack/nova,stable/wallaby,Ibba2d1506a0b026d35d7bf35384ec6439f438b01,func: Increase rpc_response_timeout in TestMultiCellMigrate tests,MERGED,2022-06-01 12:00:59.000000000,2022-06-01 16:46:45.000000000,2022-06-01 16:43:22.000000000,"[{'_account_id': 4690}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 12:00:59.000000000', 'files': ['nova/tests/functional/test_cross_cell_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4cf632338d1c97bff79961e6e47b50b0017cc67e', 'message': 'func: Increase rpc_response_timeout in TestMultiCellMigrate tests\n\nThis was previously set really low to 1 second that was leading to more\ninvolved flows such as test_delete_while_in_verify_resize_status timing\nout when the target calls the conductor to confirm the resize on the\nsource.\n\nThis change simply increases the timeout in the test but we might want\nto think about moving this call over to rpc_long_timeout this could be\nan issue in real world deployments.\n\nCloses-Bug: #1938021\nChange-Id: Ibba2d1506a0b026d35d7bf35384ec6439f438b01\n(cherry picked from commit d4dbcd5fa05ac2f988b65d611f71805f90411581)\n'}]",3,844200,4cf632338d1c97bff79961e6e47b50b0017cc67e,13,3,1,9708,,,0,"func: Increase rpc_response_timeout in TestMultiCellMigrate tests

This was previously set really low to 1 second that was leading to more
involved flows such as test_delete_while_in_verify_resize_status timing
out when the target calls the conductor to confirm the resize on the
source.

This change simply increases the timeout in the test but we might want
to think about moving this call over to rpc_long_timeout this could be
an issue in real world deployments.

Closes-Bug: #1938021
Change-Id: Ibba2d1506a0b026d35d7bf35384ec6439f438b01
(cherry picked from commit d4dbcd5fa05ac2f988b65d611f71805f90411581)
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/844200/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_cross_cell_migrate.py'],1,4cf632338d1c97bff79961e6e47b50b0017cc67e,bug/1938021, self.flags(rpc_response_timeout=10), self.flags(rpc_response_timeout=1),1,1
openstack%2Fneutron~stable%2Fussuri~Ie63fc0d73ea40f6eb4a251eba3a9d1ce55a96523,openstack/neutron,stable/ussuri,Ie63fc0d73ea40f6eb4a251eba3a9d1ce55a96523,[Ussuri Only] Drop TripleO jobs,MERGED,2022-05-30 06:43:42.000000000,2022-06-01 16:46:43.000000000,2022-06-01 16:43:16.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 06:43:42.000000000', 'files': ['zuul.d/tripleo.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c43c0da9b779fca73205f6e65dbe22efae0f9ef8', 'message': ""[Ussuri Only] Drop TripleO jobs\n\nTripleO Team is removing the ussuri jobs[1] as\nEOL, let's drop these jobs as now have very limited\ncoverage on TripleO side and causing issues in neutron\ngate.\n\n[1] https://review.opendev.org/q/topic:tripleo_ussuri_teardown\n\nChange-Id: Ie63fc0d73ea40f6eb4a251eba3a9d1ce55a96523\n""}]",4,843781,c43c0da9b779fca73205f6e65dbe22efae0f9ef8,13,4,1,13861,,,0,"[Ussuri Only] Drop TripleO jobs

TripleO Team is removing the ussuri jobs[1] as
EOL, let's drop these jobs as now have very limited
coverage on TripleO side and causing issues in neutron
gate.

[1] https://review.opendev.org/q/topic:tripleo_ussuri_teardown

Change-Id: Ie63fc0d73ea40f6eb4a251eba3a9d1ce55a96523
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/843781/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tripleo.yaml', 'zuul.d/project.yaml']",2,c43c0da9b779fca73205f6e65dbe22efae0f9ef8,tripleo_ussuri_teardown,," - tripleo-ci-centos-8-content-provider: voting: false irrelevant-files: *irrelevant-files - neutron-centos-8-tripleo-standalone: vars: &consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: &consumer_deps - tripleo-ci-centos-8-content-provider # TripleO jobs that deploy OVN. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # In Stein and beyond, fs010 will run using # networking-ovn-tripleo-ci-centos-7-containers-multinode. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - neutron-ovn-tripleo-ci-centos-8-containers-multinode: voting: false vars: *consumer_vars dependencies: *consumer_deps #- neutron-ovn-tripleo-ci-centos-8-containers-multinode",0,61
openstack%2Fneutron-tempest-plugin~master~I16c3eca86f074491921f4869a84d1484f6f2f80b,openstack/neutron-tempest-plugin,master,I16c3eca86f074491921f4869a84d1484f6f2f80b,Skip tempest jobs on functional roles/playbooks changes,MERGED,2022-05-31 05:49:59.000000000,2022-06-01 16:43:32.000000000,2022-06-01 16:43:32.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-31 05:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/fa5f43d00234ca3429803e80540829fda3029b26', 'message': ""Skip tempest jobs on functional roles/playbooks changes\n\nSince these jobs do not use roles and playbooks for\nconfiguring functional jobs let's add these\nto irrelevant-files.\n\nNeeded By:- https://review.opendev.org/c/openstack/neutron/+/843252.\nChange-Id: I3b1039f57733ce034f9325c8ab0781ea8a70b1fd\n\nChange-Id: I16c3eca86f074491921f4869a84d1484f6f2f80b\n""}, {'number': 2, 'created': '2022-05-31 06:02:00.000000000', 'files': ['zuul.d/master_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/aecc32ad998e998b0c63c0ae07ac841ee7d3b259', 'message': ""Skip tempest jobs on functional roles/playbooks changes\n\nSince these jobs do not use roles and playbooks for\nconfiguring functional jobs let's add these\nto irrelevant-files.\n\nNeeded By:- https://review.opendev.org/c/openstack/neutron/+/843252.\nChange-Id: I16c3eca86f074491921f4869a84d1484f6f2f80b\n""}]",1,843989,aecc32ad998e998b0c63c0ae07ac841ee7d3b259,11,5,2,13861,,,0,"Skip tempest jobs on functional roles/playbooks changes

Since these jobs do not use roles and playbooks for
configuring functional jobs let's add these
to irrelevant-files.

Needed By:- https://review.opendev.org/c/openstack/neutron/+/843252.
Change-Id: I16c3eca86f074491921f4869a84d1484f6f2f80b
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/89/843989/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/master_jobs.yaml'],1,fa5f43d00234ca3429803e80540829fda3029b26,neutron-ci-improvements, - ^roles/.*functional.*$ - ^playbooks/.*functional.*$ - ^roles/.*functional.*$ - ^playbooks/.*functional.*$ - ^roles/.*functional.*$ - ^playbooks/.*functional.*$ - ^roles/.*functional.*$ - ^playbooks/.*functional.*$ - ^roles/.*functional.*$ - ^playbooks/.*functional.*$ - ^roles/.*functional.*$ - ^playbooks/.*functional.*$ - ^roles/.*functional.*$ - ^playbooks/.*functional.*$ - ^roles/.*functional.*$ - ^playbooks/.*functional.*$ - ^roles/.*functional.*$ - ^playbooks/.*functional.*$ - ^roles/.*functional.*$ - ^playbooks/.*functional.*$ - ^roles/.*functional.*$ - ^playbooks/.*functional.*$ - ^roles/.*functional.*$ - ^playbooks/.*functional.*$,,24,0
openstack%2Fnova-specs~master~I18287fabf5e0f52cbbe013dce55e4744bcce2bdd,openstack/nova-specs,master,I18287fabf5e0f52cbbe013dce55e4744bcce2bdd,Repropose volume backed server rebuild spec,MERGED,2022-05-02 08:21:39.000000000,2022-06-01 16:38:07.000000000,2022-06-01 16:36:28.000000000,"[{'_account_id': 4393}, {'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-02 08:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/889e0b94fe8c6c463845b1b068b96787f9a87b1e', 'message': 'Repropose volume backed server rebuild spec\n\nThis spec was proposed in Yoga cycle and now is retargeted for\nZed cycle.\n\nImplements: blueprint volume-backed-server-rebuild\nChange-Id: I18287fabf5e0f52cbbe013dce55e4744bcce2bdd\n'}, {'number': 2, 'created': '2022-05-11 12:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/072eadba19278535077df8adccecd6128d3fed64', 'message': 'Repropose volume backed server rebuild spec\n\nThis spec was approved in Yoga cycle and now is reproposed for\nZed cycle.\n\nPreviously-approved: yoga\n\nImplements: blueprint volume-backed-server-rebuild\nChange-Id: I18287fabf5e0f52cbbe013dce55e4744bcce2bdd\n'}, {'number': 3, 'created': '2022-05-18 10:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/15261ef15fb79b6662cae4986ee3f5c72ddc6127', 'message': 'Repropose volume backed server rebuild spec\n\nThis spec was approved in Yoga cycle and now is reproposed for\nZed cycle.\n\nPreviously-approved: yoga\n\nImplements: blueprint volume-backed-server-rebuild\nChange-Id: I18287fabf5e0f52cbbe013dce55e4744bcce2bdd\n'}, {'number': 4, 'created': '2022-05-26 09:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c37af797d2462f77d5c6c753c6ea25a9c76a10d0', 'message': 'Repropose volume backed server rebuild spec\n\nThis spec was approved in Yoga cycle and now is reproposed for\nZed cycle.\n\nPreviously-approved: yoga\n\nImplements: blueprint volume-backed-server-rebuild\nChange-Id: I18287fabf5e0f52cbbe013dce55e4744bcce2bdd\n'}, {'number': 5, 'created': '2022-05-26 18:41:42.000000000', 'files': ['specs/zed/approved/volume-backed-server-rebuild.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c90edf5adaec3a09c9f836fbb4cbdcd49d1224bf', 'message': 'Repropose volume backed server rebuild spec\n\nThis spec was approved in Yoga cycle and now is reproposed for\nZed cycle.\n\nPreviously-approved: yoga\n\nImplements: blueprint volume-backed-server-rebuild\nChange-Id: I18287fabf5e0f52cbbe013dce55e4744bcce2bdd\n'}]",41,840155,c90edf5adaec3a09c9f836fbb4cbdcd49d1224bf,30,5,5,27615,,,0,"Repropose volume backed server rebuild spec

This spec was approved in Yoga cycle and now is reproposed for
Zed cycle.

Previously-approved: yoga

Implements: blueprint volume-backed-server-rebuild
Change-Id: I18287fabf5e0f52cbbe013dce55e4744bcce2bdd
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/55/840155/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/zed/approved/volume-backed-server-rebuild.rst'],1,889e0b94fe8c6c463845b1b068b96787f9a87b1e,bp/volume-backed-server-rebuild,,,0,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I3ab603f7cab7946ea8f2e063fe91190d6592066a,openstack/kolla-ansible,stable/wallaby,I3ab603f7cab7946ea8f2e063fe91190d6592066a,Control Masakari monitors deploy,MERGED,2022-05-31 16:33:08.000000000,2022-06-01 16:09:49.000000000,2022-06-01 16:08:16.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-31 16:33:08.000000000', 'files': ['doc/source/reference/compute/masakari-guide.rst', 'ansible/group_vars/all.yml', 'releasenotes/notes/control-masakari-monitors-1107c10c45678b0a.yaml', 'ansible/roles/masakari/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bbbebc524802993777f4af423d165852c2fc62f6', 'message': 'Control Masakari monitors deploy\n\nAdd a switches to enable/disable deploy of the Masakari monitors.\n\nChange-Id: I3ab603f7cab7946ea8f2e063fe91190d6592066a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit d3dbd812c57a485d232d8e75fe407008582454e1)\n'}]",0,844108,bbbebc524802993777f4af423d165852c2fc62f6,9,3,1,14200,,,0,"Control Masakari monitors deploy

Add a switches to enable/disable deploy of the Masakari monitors.

Change-Id: I3ab603f7cab7946ea8f2e063fe91190d6592066a
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit d3dbd812c57a485d232d8e75fe407008582454e1)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/08/844108/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/compute/masakari-guide.rst', 'ansible/group_vars/all.yml', 'releasenotes/notes/control-masakari-monitors-1107c10c45678b0a.yaml', 'ansible/roles/masakari/defaults/main.yml']",4,bbbebc524802993777f4af423d165852c2fc62f6,control-masakari-monitors," enabled: ""{{ enable_masakari_instancemonitor | bool }}"" enabled: ""{{ enable_masakari_hostmonitor | bool }}""", enabled: true enabled: true,18,5
openstack%2Fkolla-ansible~stable%2Fyoga~I3ab603f7cab7946ea8f2e063fe91190d6592066a,openstack/kolla-ansible,stable/yoga,I3ab603f7cab7946ea8f2e063fe91190d6592066a,Control Masakari monitors deploy,MERGED,2022-05-31 16:32:23.000000000,2022-06-01 16:09:40.000000000,2022-06-01 16:08:12.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-31 16:32:23.000000000', 'files': ['doc/source/reference/compute/masakari-guide.rst', 'ansible/group_vars/all.yml', 'releasenotes/notes/control-masakari-monitors-1107c10c45678b0a.yaml', 'ansible/roles/masakari/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eee165968b3ba095fdab3dab61b556498aff1454', 'message': 'Control Masakari monitors deploy\n\nAdd a switches to enable/disable deploy of the Masakari monitors.\n\nChange-Id: I3ab603f7cab7946ea8f2e063fe91190d6592066a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit d3dbd812c57a485d232d8e75fe407008582454e1)\n'}]",1,844106,eee165968b3ba095fdab3dab61b556498aff1454,12,3,1,14200,,,0,"Control Masakari monitors deploy

Add a switches to enable/disable deploy of the Masakari monitors.

Change-Id: I3ab603f7cab7946ea8f2e063fe91190d6592066a
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit d3dbd812c57a485d232d8e75fe407008582454e1)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/844106/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/compute/masakari-guide.rst', 'ansible/group_vars/all.yml', 'releasenotes/notes/control-masakari-monitors-1107c10c45678b0a.yaml', 'ansible/roles/masakari/defaults/main.yml']",4,eee165968b3ba095fdab3dab61b556498aff1454,control-masakari-monitors," enabled: ""{{ enable_masakari_instancemonitor | bool }}"" enabled: ""{{ enable_masakari_hostmonitor | bool }}""", enabled: true enabled: true,18,5
openstack%2Fkolla-ansible~stable%2Fxena~I3ab603f7cab7946ea8f2e063fe91190d6592066a,openstack/kolla-ansible,stable/xena,I3ab603f7cab7946ea8f2e063fe91190d6592066a,Control Masakari monitors deploy,MERGED,2022-05-31 16:32:45.000000000,2022-06-01 16:07:58.000000000,2022-06-01 16:06:27.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-31 16:32:45.000000000', 'files': ['doc/source/reference/compute/masakari-guide.rst', 'ansible/group_vars/all.yml', 'releasenotes/notes/control-masakari-monitors-1107c10c45678b0a.yaml', 'ansible/roles/masakari/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d988c59912932e10d68628eb46031b2d3739d413', 'message': 'Control Masakari monitors deploy\n\nAdd a switches to enable/disable deploy of the Masakari monitors.\n\nChange-Id: I3ab603f7cab7946ea8f2e063fe91190d6592066a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit d3dbd812c57a485d232d8e75fe407008582454e1)\n'}]",0,844107,d988c59912932e10d68628eb46031b2d3739d413,9,3,1,14200,,,0,"Control Masakari monitors deploy

Add a switches to enable/disable deploy of the Masakari monitors.

Change-Id: I3ab603f7cab7946ea8f2e063fe91190d6592066a
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit d3dbd812c57a485d232d8e75fe407008582454e1)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/07/844107/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/compute/masakari-guide.rst', 'ansible/group_vars/all.yml', 'releasenotes/notes/control-masakari-monitors-1107c10c45678b0a.yaml', 'ansible/roles/masakari/defaults/main.yml']",4,d988c59912932e10d68628eb46031b2d3739d413,control-masakari-monitors," enabled: ""{{ enable_masakari_instancemonitor | bool }}"" enabled: ""{{ enable_masakari_hostmonitor | bool }}""", enabled: true enabled: true,18,5
openstack%2Ftripleo-repos~master~I71572446cc8edb9f0bce3368fb03e4f2d3488801,openstack/tripleo-repos,master,I71572446cc8edb9f0bce3368fb03e4f2d3488801,Add RHEL/UBI 9 as a supported distros for tripleo-repos,MERGED,2022-06-01 05:25:09.000000000,2022-06-01 16:05:25.000000000,2022-06-01 16:05:25.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-06-01 05:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/a97f09a4fba0cb3a05530c27ddd5fdea8606d188', 'message': 'Add RHEL/UBI 9 as a supported distros for tripleo-repos\n\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839688\nmoves the molecule job to use ubi9 image.\n\nThe molecule jobs are failing with missing packages as repos\nare not properly configured.\nAdding support for the same fixes the issue.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I71572446cc8edb9f0bce3368fb03e4f2d3488801\n'}, {'number': 2, 'created': '2022-06-01 07:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/67f303c070986b45b404b3670d1905c906ae7918', 'message': 'Add RHEL/UBI 9 as a supported distros for tripleo-repos\n\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839688\nmoves the molecule job to use ubi9 image.\n\nThe molecule jobs are failing with missing packages as repos\nare not properly configured.\nAdding support for the same fixes the issue.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I71572446cc8edb9f0bce3368fb03e4f2d3488801\n'}, {'number': 3, 'created': '2022-06-01 08:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/6b164924e9cf440db55c9dba72b8889e51a2e9e0', 'message': 'Add RHEL/UBI 9 as a supported distros for tripleo-repos\n\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839688\nmoves the molecule job to use ubi9 image.\n\nThe molecule jobs are failing with missing packages as repos\nare not properly configured.\nAdding support for the same fixes the issue.\n\nBumping ansible version (which is supported in CI ) under tox.ini,\nas latest version of ansible-2.13 broke the sanity job.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I71572446cc8edb9f0bce3368fb03e4f2d3488801\n'}, {'number': 4, 'created': '2022-06-01 10:01:48.000000000', 'files': ['plugins/module_utils/tripleo_repos/main.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/4c22ed1aebf78a48a9d1d0eb4547cac65ee63bbd', 'message': 'Add RHEL/UBI 9 as a supported distros for tripleo-repos\n\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839688\nmoves the molecule job to use ubi9 image.\n\nThe molecule jobs are failing with missing packages as repos\nare not properly configured.\nAdding support for the same fixes the issue.\n\nBumping ansible version (which is supported in CI ) under tox.ini,\nas latest version of ansible-2.13 broke the sanity job.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I71572446cc8edb9f0bce3368fb03e4f2d3488801\n'}]",5,844240,4c22ed1aebf78a48a9d1d0eb4547cac65ee63bbd,20,5,4,12393,,,0,"Add RHEL/UBI 9 as a supported distros for tripleo-repos

https://review.opendev.org/c/openstack/tripleo-ansible/+/839688
moves the molecule job to use ubi9 image.

The molecule jobs are failing with missing packages as repos
are not properly configured.
Adding support for the same fixes the issue.

Bumping ansible version (which is supported in CI ) under tox.ini,
as latest version of ansible-2.13 broke the sanity job.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I71572446cc8edb9f0bce3368fb03e4f2d3488801
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/40/844240/4 && git format-patch -1 --stdout FETCH_HEAD,['plugins/module_utils/tripleo_repos/main.py'],1,a97f09a4fba0cb3a05530c27ddd5fdea8606d188,unified_mol_config," ('rhel', '9'), ('ubi', '8'), ('ubi', '9')# a subcase of the rhel distro"," ('ubi', '8') # a subcase of the rhel distro",3,1
openstack%2Fneutron~master~Icf92685579409282bad0a80ba42531c93738e0b1,openstack/neutron,master,Icf92685579409282bad0a80ba42531c93738e0b1,[OVN] Protect the AgentCache iteration by copying the local cache,MERGED,2022-05-30 16:30:26.000000000,2022-06-01 16:02:55.000000000,2022-06-01 16:00:07.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 16:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/be9c18a46cc79f8d6047c4dc900aee34c2fff524', 'message': '[OVN] Protect the AgentCache iteration by copying the local cache\n\nDuring the execution of ``AgentCache.__iter__``, the content of\n""self.agents"" can change; the Neutron server can attend to an event\nto add or delete an OVN agent. If that happens, the iteration will\nfail with the error:\n  ""RuntimeError: dictionary changed size during iteration""\n\nTo avoid this, before iterating the list of agents, the cache\nsingleton creates a copy of the local cache.\n\nCloses-Bug: #1976292\nChange-Id: Icf92685579409282bad0a80ba42531c93738e0b1\n'}, {'number': 2, 'created': '2022-06-01 07:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ef9d8be3f5dd7a6aba3a8f95777981916514edb', 'message': '[OVN] Protect the AgentCache iteration by copying the local cache\n\nDuring the execution of ``AgentCache.__iter__``, the content of\n""self.agents"" can change; the Neutron server can attend to an event\nto add or delete an OVN agent. If that happens, the iteration will\nfail with the error:\n  ""RuntimeError: dictionary changed size during iteration""\n\nTo avoid this, before iterating the list of agents, the cache\nsingleton creates a copy of the local cache.\n\nCloses-Bug: #1976292\nChange-Id: Icf92685579409282bad0a80ba42531c93738e0b1\n'}, {'number': 3, 'created': '2022-06-01 10:12:08.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/agent/__init__.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/agent/test_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a71fe45d9628f0dc67ccd12d94a51a7b801ec9d0', 'message': '[OVN] Protect the AgentCache iteration by copying the local cache\n\nDuring the execution of ``AgentCache.__iter__``, the content of\n""self.agents"" can change; the Neutron server can attend to an event\nto add or delete an OVN agent. If that happens, the iteration will\nfail with the error:\n  ""RuntimeError: dictionary changed size during iteration""\n\nTo avoid this, before iterating the list of agents, the cache\nsingleton creates a copy of the local cache. The aim of making this\ncopy is to avoid using locks between threads.\n\nCloses-Bug: #1976292\nChange-Id: Icf92685579409282bad0a80ba42531c93738e0b1\n'}]",15,843933,a71fe45d9628f0dc67ccd12d94a51a7b801ec9d0,24,4,3,16688,,,0,"[OVN] Protect the AgentCache iteration by copying the local cache

During the execution of ``AgentCache.__iter__``, the content of
""self.agents"" can change; the Neutron server can attend to an event
to add or delete an OVN agent. If that happens, the iteration will
fail with the error:
  ""RuntimeError: dictionary changed size during iteration""

To avoid this, before iterating the list of agents, the cache
singleton creates a copy of the local cache. The aim of making this
copy is to avoid using locks between threads.

Closes-Bug: #1976292
Change-Id: Icf92685579409282bad0a80ba42531c93738e0b1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/843933/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/agent/__init__.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/agent/test_neutron_agent.py']",3,be9c18a46cc79f8d6047c4dc900aee34c2fff524,bug/1976292,"# Copyright 2021 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from unittest import mock import eventlet from neutron_lib.api.definitions import portbindings as pb from neutron_lib.api.definitions import provider_net as pnet from neutron_lib import context as n_context from neutron_lib.db import api as db_api from neutron_lib import exceptions from oslo_utils import uuidutils from neutron.common.ovn import constants as ovn_const from neutron.db.models.plugins.ml2 import geneveallocation from neutron.db.models.plugins.ml2 import vxlanallocation from neutron.objects import ports as port_obj from neutron.objects import trunk as trunk_obj from neutron.plugins.ml2.drivers.ovn.agent import neutron_agent from neutron.tests import base from neutron.tests.unit import fake_resources as fakes from neutron.tests.unit.plugins.ml2.drivers.ovn.mech_driver import ( test_mech_driver) class AgentCacheTestCase(base.BaseTestCase): def setUp(self): super().setUp() self.agent_cache = neutron_agent.AgentCache(driver=mock.ANY) self.addCleanup(self._clean_agent_cache) self.names_ref = [] for i in range(10): # Add 10 agents. chassis_private = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'name': 'chassis' + str(i)}) self.agent_cache.update(ovn_const.OVN_CONTROLLER_AGENT, chassis_private) self.names_ref.append('chassis' + str(i)) def _clean_agent_cache(self): self.agent_cache.agents = {} def _list_agents(self): self.names_read = [] for idx, agent in enumerate(self.agent_cache): self.names_read.append(agent.agent_id) if idx == 5: # Swap to ""_add_and_delete_agents"" thread. eventlet.sleep(0) def _add_and_delete_agents(self): del self.agent_cache['chassis8'] chassis_private = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'name': 'chassis10'}) self.agent_cache.update(ovn_const.OVN_CONTROLLER_AGENT, chassis_private) def test_update_while_iterating_agents(self): pool = eventlet.GreenPool(2) pool.spawn(self._list_agents) pool.spawn(self._add_and_delete_agents) pool.waitall() self.assertEqual(self.names_ref, self.names_read) def test_agents_by_chassis_private(self): chassis_private = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'name': 'chassis5'}) agents = self.agent_cache.agents_by_chassis_private(chassis_private) agents = list(agents) self.assertEqual(1, len(agents)) self.assertEqual('chassis5', agents[0].agent_id) ",,88,3
openstack%2Fneutron~master~Idea915bd71bfb778f5009be9cf47eace83e11437,openstack/neutron,master,Idea915bd71bfb778f5009be9cf47eace83e11437,[sqlalchemy-20] Add the needed DB context decorators in ``db.api``,MERGED,2022-05-31 10:28:13.000000000,2022-06-01 16:01:43.000000000,2022-06-01 16:00:02.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 10:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/562a73404f8f7baa8e43afb2922d869f164be3ed', 'message': '[sqlalchemy-20] Add the needed DB context decorators in ``db.api``\n\nThis patch adds the needed DB context decorators in ``db.api``.\nThe method ``_get_filter_query`` returns an active query and must\nbe called always inside a DB context.\n\nCloses-Bug: #1976357\nChange-Id: Idea915bd71bfb778f5009be9cf47eace83e11437\n'}, {'number': 2, 'created': '2022-05-31 13:49:28.000000000', 'files': ['neutron/objects/db/api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2786554ad99c6017dd46802b532b5eb5bd4a009', 'message': '[sqlalchemy-20] Add the needed DB context decorators in ``db.api``\n\nThe method ``_get_filter_query`` returns an active query and must\nbe called always inside a DB context.\n\nCloses-Bug: #1976357\nChange-Id: Idea915bd71bfb778f5009be9cf47eace83e11437\n'}]",7,844024,c2786554ad99c6017dd46802b532b5eb5bd4a009,25,6,2,16688,,,0,"[sqlalchemy-20] Add the needed DB context decorators in ``db.api``

The method ``_get_filter_query`` returns an active query and must
be called always inside a DB context.

Closes-Bug: #1976357
Change-Id: Idea915bd71bfb778f5009be9cf47eace83e11437
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/844024/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/objects/db/api.py'],1,562a73404f8f7baa8e43afb2922d869f164be3ed,bug/1976357," filters = _kwargs_to_filters(**kwargs) query = model_query.get_collection_query( context, obj_cls.db_model, filters, limit=query_limit, field=query_field) return query @db_api.CONTEXT_READER@db_api.CONTEXT_READER def get_objects(obj_cls, context, _pager=None, **kwargs): filters = _kwargs_to_filters(**kwargs) return model_query.get_collection( context, obj_cls.db_model, dict_func=None, # return all the data filters=filters, **(_pager.to_kwargs(context, obj_cls) if _pager else {})) @db_api.CONTEXT_READER def get_values(obj_cls, context, field, **kwargs): filters = _kwargs_to_filters(**kwargs) return model_query.get_values( context, obj_cls.db_model, field, filters=filters)@db_api.CONTEXT_WRITER def delete_object(obj_cls, context, **kwargs): db_obj = _safe_get_object(obj_cls, context, **kwargs) context.session.delete(db_obj) @db_api.CONTEXT_WRITER if not values: return count(obj_cls, context, **kwargs) q = _get_filter_query(obj_cls, context, **kwargs) return q.update(values, synchronize_session=False) @db_api.CONTEXT_WRITER db_objs = get_objects(obj_cls, context, **kwargs) for db_obj in db_objs: context.session.delete(db_obj) return len(db_objs)"," with obj_cls.db_context_reader(context): filters = _kwargs_to_filters(**kwargs) query = model_query.get_collection_query( context, obj_cls.db_model, filters, limit=query_limit, field=query_field) return query def get_objects(obj_cls, context, _pager=None, **kwargs): with obj_cls.db_context_reader(context): filters = _kwargs_to_filters(**kwargs) return model_query.get_collection( context, obj_cls.db_model, dict_func=None, # return all the data filters=filters, **(_pager.to_kwargs(context, obj_cls) if _pager else {})) def get_values(obj_cls, context, field, **kwargs): with obj_cls.db_context_reader(context): filters = _kwargs_to_filters(**kwargs) return model_query.get_values( context, obj_cls.db_model, field, filters=filters)def delete_object(obj_cls, context, **kwargs): with obj_cls.db_context_writer(context): db_obj = _safe_get_object(obj_cls, context, **kwargs) context.session.delete(db_obj) with obj_cls.db_context_writer(context): if not values: return count(obj_cls, context, **kwargs) q = _get_filter_query(obj_cls, context, **kwargs) return q.update(values, synchronize_session=False) with obj_cls.db_context_writer(context): db_objs = get_objects(obj_cls, context, **kwargs) for db_obj in db_objs: context.session.delete(db_obj) return len(db_objs)",30,30
openstack%2Fopenstack-ansible-galera_server~master~I49d00495f554f7ebfd34a7e0d99460d86c8794b9,openstack/openstack-ansible-galera_server,master,I49d00495f554f7ebfd34a7e0d99460d86c8794b9,Provide a list for systemd_service.,ABANDONED,2022-05-31 11:26:32.000000000,2022-06-01 15:57:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-31 11:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/9a022da89b10ea9ce80b91e3718db7486972045f', 'message': 'Provide a list for systemd_service.\n\nChange-Id: I49d00495f554f7ebfd34a7e0d99460d86c8794b9\n'}, {'number': 2, 'created': '2022-06-01 12:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/32c3a238e174448365062c088d913682ce2e4e3e', 'message': 'Provide a list for systemd_service.\n\nChange-Id: I49d00495f554f7ebfd34a7e0d99460d86c8794b9\n'}, {'number': 3, 'created': '2022-06-01 14:01:49.000000000', 'files': ['tasks/galera_server_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/952c047ab133f11ac68e4c6d7ced460d0dce8cab', 'message': 'Provide a list for systemd_service.\n\nChange-Id: I49d00495f554f7ebfd34a7e0d99460d86c8794b9\n'}]",2,844037,952c047ab133f11ac68e4c6d7ced460d0dce8cab,10,1,3,13095,,,0,"Provide a list for systemd_service.

Change-Id: I49d00495f554f7ebfd34a7e0d99460d86c8794b9
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/37/844037/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/galera_server_post_install.yml'],1,9a022da89b10ea9ce80b91e3718db7486972045f,to_list," after_targets: - ""network.target"""," after_targets: ""network.target""",2,1
openstack%2Fpython-openstackclient~master~Ibb77fa2afad3f09e95f0dba243d3a096daedd787,openstack/python-openstackclient,master,Ibb77fa2afad3f09e95f0dba243d3a096daedd787,Changed minversion in tox to 3.18.0,MERGED,2021-06-03 06:49:36.000000000,2022-06-01 15:56:42.000000000,2022-06-01 15:54:37.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-06-03 06:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/390b8a089856dca0f29c0a6e2d4dc47325d52f06', 'message': 'Changed minversion in tox to 3.18.0\n\nwhitelist_externals is deprecated now, use allowlist_externals\ninstead. see[0]\nAdd find command to allowlist_externals list to fix a warning.[1]\n\n[0]: https://tox.readthedocs.io/en/latest/config.html\n[1]: https://zuul.opendev.org/t/openstack/build/9ac7f205080343f29d7e2b519abbdb73/log/job-output.txt#945\n[2]: https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ibb77fa2afad3f09e95f0dba243d3a096daedd787\n'}, {'number': 2, 'created': '2021-06-03 07:00:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1169a114e7388e4ee622dca98b9fb8e2a06c8ec3', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ibb77fa2afad3f09e95f0dba243d3a096daedd787\n""}]",3,794407,1169a114e7388e4ee622dca98b9fb8e2a06c8ec3,18,4,2,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ibb77fa2afad3f09e95f0dba243d3a096daedd787
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/07/794407/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,390b8a089856dca0f29c0a6e2d4dc47325d52f06,update-min-tox,minversion = 3.18.0allowlist_externals = stestrallowlist_externals = stestr,minversion = 3.2.0whitelist_externals = stestrwhitelist_externals = stestr,3,3
openstack%2Fironic-python-agent~bugfix%2F8.1~I2446afeaca866ffc3131b5e9f266526f35fc5ed7,openstack/ironic-python-agent,bugfix/8.1,I2446afeaca866ffc3131b5e9f266526f35fc5ed7,Make the standalone job voting again,MERGED,2022-02-01 13:44:39.000000000,2022-06-01 15:43:36.000000000,2022-06-01 15:40:21.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-01 13:44:39.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a19e8c7a4091d4e7eeeb46273d218fa8011155da', 'message': ""Make the standalone job voting again\n\nWe forgot to revert it. This job covers software RAID and manual\ncleaning, so it's very important to avoid regressions, even if it costs\nus some rechecks from time to time.\n\nChange-Id: I2446afeaca866ffc3131b5e9f266526f35fc5ed7\n(cherry picked from commit b921b761679df06afe19ac6f570f66fa1fdcf371)\n""}]",2,827290,a19e8c7a4091d4e7eeeb46273d218fa8011155da,11,2,1,10239,,,0,"Make the standalone job voting again

We forgot to revert it. This job covers software RAID and manual
cleaning, so it's very important to avoid regressions, even if it costs
us some rechecks from time to time.

Change-Id: I2446afeaca866ffc3131b5e9f266526f35fc5ed7
(cherry picked from commit b921b761679df06afe19ac6f570f66fa1fdcf371)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/90/827290/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,a19e8c7a4091d4e7eeeb46273d218fa8011155da,, - ironic-standalone-ipa-src - ironic-standalone-ipa-src," # NOTE(TheJulia): The cleaning tests run in standalone job has a # high failure rate due to possible race during long running steps # like deployment with raid setup. While we're working on a fix, # we also need to fix IPA and Ironic itself, so this is as a result # temporary. - ironic-standalone-ipa-src: voting: false",2,7
openstack%2Foslo.vmware~master~I311c98201e3a89db561b7a0c64592803b32a8b31,openstack/oslo.vmware,master,I311c98201e3a89db561b7a0c64592803b32a8b31,Download ISO in more simple way.,MERGED,2022-05-24 19:53:16.000000000,2022-06-01 15:39:12.000000000,2022-06-01 15:37:55.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 34127}]","[{'number': 1, 'created': '2022-05-24 19:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/287c9136a02feb26ba923987008a776d7c039735', 'message': 'Download ISO in more simple way.\n\nIn order to add support of transferring an ISO from one datastore\nto another, below changes are done:\n- Return and close connection for read_connection\n- Add FileReadHandle similar to FileWriteHandle\n- Add common headers to _create_connection\n- Accept pre-build cookie for FileReadHandle/FileWriteHandle\n- DatastoreUrl as parameter for FileReadHandle/FileWriteHandle\n\nCloses-bug: #1975618\nChange-Id: I311c98201e3a89db561b7a0c64592803b32a8b31\n'}, {'number': 2, 'created': '2022-05-24 19:55:56.000000000', 'files': ['oslo_vmware/rw_handles.py'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/42ca5ddb2660227269ae1e9ce5642338e55304f0', 'message': 'Download ISO in more simple way.\n\nIn order to add support of transferring an ISO from one datastore\nto another, below changes are done:\n- Return and close connection for read_connection\n- Add FileReadHandle similar to FileWriteHandle\n- Add common headers to _create_connection\n- Accept pre-build cookie for FileReadHandle/FileWriteHandle\n- DatastoreUrl as parameter for FileReadHandle/FileWriteHandle\n\nCloses-bug: #1975618\nChange-Id: I311c98201e3a89db561b7a0c64592803b32a8b31\n'}]",0,843189,42ca5ddb2660227269ae1e9ce5642338e55304f0,9,4,2,32919,,,0,"Download ISO in more simple way.

In order to add support of transferring an ISO from one datastore
to another, below changes are done:
- Return and close connection for read_connection
- Add FileReadHandle similar to FileWriteHandle
- Add common headers to _create_connection
- Accept pre-build cookie for FileReadHandle/FileWriteHandle
- DatastoreUrl as parameter for FileReadHandle/FileWriteHandle

Closes-bug: #1975618
Change-Id: I311c98201e3a89db561b7a0c64592803b32a8b31
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/89/843189/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_vmware/rw_handles.py'],1,287c9136a02feb26ba923987008a776d7c039735,bug/1975618," ssl_thumbprint=None, cookies=None): conn.putheader('User-Agent', USER_AGENT) if cookies: vim_cookie = self._build_vim_cookie_header(cookies) conn.putheader('Cookie', vim_cookie) conn = self._create_connection(url, 'GET', cacerts, ssl_thumbprint, cookies=cookies) return conn ssl_thumbprint, cookies=cookies) if file_size: conn.putheader('Content-Length', str(file_size)) if overwrite: conn.putheader('Overwrite', overwrite) if content_type: conn.putheader('Content-Type', content_type) # As returned from DatastoreURL.get_transfer_ticket if isinstance(vim_cookies, str): return vim_cookies for vim_cookie in vim_cookies: return vim_cookie.name + '=' + vim_cookie.value return """" def __init__(self, host_or_url, port=None, data_center_name=None, datastore_name=None, cookies=None, file_path=None, file_size=None, scheme='https', cacerts=False, :param host_or_url: ESX/VC server IP address or host name or a complete DatastoreURL :param cookies: cookies to build the vim cookie header, or a string with the prebuild vim cookie header (See: DatastoreURL.get_transfer_ticket()) if not port and not data_center_name and not datastore_name: self._url = host_or_url else: soap_url = self._get_soap_url(scheme, host_or_url, port) param_list = {'dcPath': data_center_name, 'dsName': datastore_name} self._url = '%s/folder/%s' % (soap_url, file_path) self._url = self._url + '?' + urlparse.urlencode(param_list)class FileReadHandle(FileHandle): """"""Read handle for a file in VMware server."""""" def __init__(self, host_or_url, port=None, data_center_name=None, datastore_name=None, cookies=None, file_path=None, scheme='https', cacerts=False, thumbprint=None): """"""Initializes the read handle with given parameters. :param host_or_url: ESX/VC server IP address or host name or a complete DatastoreURL :param port: port for connection :param data_center_name: name of the data center in the case of a VC server :param datastore_name: name of the datastore where the file is stored :param cookies: cookies to build the vim cookie header, or a string with the prebuild vim cookie header (See: DatastoreURL.get_transfer_ticket()) :param file_path: datastore path where the file is written :param scheme: protocol-- http or https :param cacerts: CA bundle file to use for SSL verification :param thumbprint: expected SHA1 thumbprint of server's certificate :raises: VimConnectionException, ValueError """""" if not port and not data_center_name and not datastore_name: self._url = host_or_url else: soap_url = self._get_soap_url(scheme, host_or_url, port) param_list = {'dcPath': data_center_name, 'dsName': datastore_name} self._url = '%s/folder/%s' % (soap_url, file_path) self._url = self._url + '?' + urlparse.urlencode(param_list) self._conn = self._create_read_connection(self._url, cookies=cookies, cacerts=cacerts, ssl_thumbprint=thumbprint) FileHandle.__init__(self, self._conn.getresponse()) def read(self, length): """"""Read data from the file. :param length: amount of data to be read :raises: VimConnectionException, VimException """""" try: return self._file_handle.read(length) except requests.RequestException as excep: excep_msg = _(""Connection error occurred while reading data from"" "" %s."") % self._url LOG.exception(excep_msg) raise exceptions.VimConnectionException(excep_msg, excep) except Exception as excep: # TODO(vbala) We need to catch and raise specific exceptions # related to connection problems, invalid request and invalid # arguments. excep_msg = _(""Error occurred while writing data to"" "" %s."") % self._url LOG.exception(excep_msg) raise exceptions.VimException(excep_msg, excep) def close(self): """"""Closes the connection. """""" self._conn.close() super(FileReadHandle, self).close() LOG.debug(""Closed File read handle for %s."", self._url) def get_size(self): return self._file_handle.getheader('Content-Length') def __str__(self): return ""File read handle for %s"" % self._url super(VmdkReadHandle, self).__init__(session, lease, url, self._conn.getresponse()) self._conn.close()"," ssl_thumbprint=None): conn = self._create_connection(url, 'GET', cacerts, ssl_thumbprint) vim_cookie = self._build_vim_cookie_header(cookies) conn.putheader('User-Agent', USER_AGENT) conn.putheader('Cookie', vim_cookie) return conn.getresponse() ssl_thumbprint) headers = {'User-Agent': USER_AGENT} if file_size: headers.update({'Content-Length': str(file_size)}) if overwrite: headers.update({'Overwrite': overwrite}) if cookies: headers.update({'Cookie': self._build_vim_cookie_header(cookies)}) if content_type: headers.update({'Content-Type': content_type}) for key, value in headers.items(): conn.putheader(key, value) cookie_header = """" for vim_cookie in vim_cookies: cookie_header = vim_cookie.name + '=' + vim_cookie.value break return cookie_header def __init__(self, host, port, data_center_name, datastore_name, cookies, file_path, file_size, scheme='https', cacerts=False, :param host: ESX/VC server IP address or host name :param cookies: cookies to build the vim cookie header soap_url = self._get_soap_url(scheme, host, port) param_list = {'dcPath': data_center_name, 'dsName': datastore_name} self._url = '%s/folder/%s' % (soap_url, file_path) self._url = self._url + '?' + urlparse.urlencode(param_list) super(VmdkReadHandle, self).__init__(session, lease, url, self._conn)",108,29
openstack%2Fcharm-neutron-api~stable%2Fxena~Ie2729a89c128850c635a8f25d8f63d84df01a569,openstack/charm-neutron-api,stable/xena,Ie2729a89c128850c635a8f25d8f63d84df01a569,Backport support for access rules,ABANDONED,2022-06-01 15:27:34.000000000,2022-06-01 15:38:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-01 15:27:34.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken', 'hooks/charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'hooks/charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/247c69fa3f915c9fc73b8410c9d6ff9f3b3606d4', 'message': 'Backport support for access rules\n\nThis patch is a charm-helpers sync to get the fixes\napplication credential access-rules.\n\nChange-Id: Ie2729a89c128850c635a8f25d8f63d84df01a569\nRelated-Bug: #1965967\n'}]",0,844313,247c69fa3f915c9fc73b8410c9d6ff9f3b3606d4,5,1,1,6737,,,0,"Backport support for access rules

This patch is a charm-helpers sync to get the fixes
application credential access-rules.

Change-Id: Ie2729a89c128850c635a8f25d8f63d84df01a569
Related-Bug: #1965967
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/13/844313/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken', 'hooks/charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'hooks/charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf']",8,247c69fa3f915c9fc73b8410c9d6ff9f3b3606d4,bug/1965967, KeepAliveTimeout 75 MaxKeepAliveRequests 1000 KeepAliveTimeout 75 MaxKeepAliveRequests 1000 KeepAliveTimeout 75 MaxKeepAliveRequests 1000,,34,1
openstack%2Fgovernance~master~I414ebaa471841312dd9c6f2b3673ac326c555d7b,openstack/governance,master,I414ebaa471841312dd9c6f2b3673ac326c555d7b,Add a repository for the Large Scale SIG,MERGED,2022-05-26 17:30:46.000000000,2022-06-01 15:24:39.000000000,2022-06-01 15:23:19.000000000,"[{'_account_id': 308}, {'_account_id': 2033}, {'_account_id': 8556}, {'_account_id': 11583}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 17:30:46.000000000', 'files': ['reference/sigs-repos.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/c5955968ddee64a7d0fe213821e140f3cadf3fcc', 'message': 'Add a repository for the Large Scale SIG\n\nThis repository is to contain documentation produced by the Large Scale\nSIG[0]. In particular we want to move the content currently held in the\nWiki[1] in order to allow for easier collaborative editing.\n\n[0] https://governance.openstack.org/sigs/\n[1] https://wiki.openstack.org/wiki/Large_Scale_SIG\n\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/843534\nChange-Id: I414ebaa471841312dd9c6f2b3673ac326c555d7b\n'}]",5,843535,c5955968ddee64a7d0fe213821e140f3cadf3fcc,20,6,1,13252,,,0,"Add a repository for the Large Scale SIG

This repository is to contain documentation produced by the Large Scale
SIG[0]. In particular we want to move the content currently held in the
Wiki[1] in order to allow for easier collaborative editing.

[0] https://governance.openstack.org/sigs/
[1] https://wiki.openstack.org/wiki/Large_Scale_SIG

Depends-On: https://review.opendev.org/c/openstack/project-config/+/843534
Change-Id: I414ebaa471841312dd9c6f2b3673ac326c555d7b
",git fetch https://review.opendev.org/openstack/governance refs/changes/35/843535/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/sigs-repos.yaml'],1,c5955968ddee64a7d0fe213821e140f3cadf3fcc,project-update,Large Scale: - repo: openstack/large-scale,,2,0
openstack%2Fcharm-ceph-radosgw~master~I51ca46bbb3479cb73ec4d9966208ed794f0ed774,openstack/charm-ceph-radosgw,master,I51ca46bbb3479cb73ec4d9966208ed794f0ed774,Add the 'zonegroup' and 'realm' keys to ceph.conf file,MERGED,2022-05-27 20:33:23.000000000,2022-06-01 15:03:09.000000000,2022-06-01 15:03:09.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 20:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/555382d3f40a659656fb78ffec188ab0d5c84af3', 'message': ""Add the 'zonegroup' and 'realm' keys to ceph.conf file\n\nThis patchset adds these 2 additional keys to the ceph.conf file,\nwhich are used in multisite configurations when present.\n\nChange-Id: I51ca46bbb3479cb73ec4d9966208ed794f0ed774\n""}, {'number': 2, 'created': '2022-05-27 20:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/4c1e3c6fb52bb9514c1a47b2386dec6420b183a0', 'message': ""Add the 'zonegroup' and 'realm' keys to ceph.conf file\n\nThis patchset adds these 2 additional keys to the ceph.conf file,\nwhich are used in multisite configurations when present.\n\nChange-Id: I51ca46bbb3479cb73ec4d9966208ed794f0ed774\nCloses-Bug: #1975857\n""}, {'number': 3, 'created': '2022-05-31 19:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/1aa2d9417a755fda9599c07f0bd7e021fcd7307d', 'message': ""Add the 'zonegroup' and 'realm' keys to ceph.conf file\n\nThis patchset adds these 2 additional keys to the ceph.conf file,\nwhich are used in multisite configurations when present.\n\nChange-Id: I51ca46bbb3479cb73ec4d9966208ed794f0ed774\nCloses-Bug: #1975857\n""}, {'number': 4, 'created': '2022-05-31 20:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/6ea1b8bffc30d7400a712ce887d00b28d58c658a', 'message': ""Add the 'zonegroup' and 'realm' keys to ceph.conf file\n\nThis patchset adds these 2 additional keys to the ceph.conf file,\nwhich are used in multisite configurations when present.\n\nChange-Id: I51ca46bbb3479cb73ec4d9966208ed794f0ed774\nCloses-Bug: #1975857\n""}, {'number': 5, 'created': '2022-05-31 21:08:22.000000000', 'files': ['unit_tests/test_ceph_radosgw_context.py', 'test-requirements.txt', 'hooks/ceph_radosgw_context.py', 'templates/ceph.conf'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/5c4cab3f820c38162a5e715b490ed05425be563c', 'message': ""Add the 'zonegroup' and 'realm' keys to ceph.conf file\n\nThis patchset adds these 2 additional keys to the ceph.conf file,\nwhich are used in multisite configurations when present.\n\nChange-Id: I51ca46bbb3479cb73ec4d9966208ed794f0ed774\nCloses-Bug: #1975857\n""}]",3,843686,5c4cab3f820c38162a5e715b490ed05425be563c,23,3,5,33717,,,0,"Add the 'zonegroup' and 'realm' keys to ceph.conf file

This patchset adds these 2 additional keys to the ceph.conf file,
which are used in multisite configurations when present.

Change-Id: I51ca46bbb3479cb73ec4d9966208ed794f0ed774
Closes-Bug: #1975857
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/86/843686/3 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_ceph_radosgw_context.py', 'hooks/ceph_radosgw_context.py', 'templates/ceph.conf']",3,555382d3f40a659656fb78ffec188ab0d5c84af3,bug/1975857,{% if rgw_zonegroup -%} rgw_zonegroup = {{ rgw_zonegroup }} {% endif %} {% if rgw_realm -%} rgw_realm = {{ rgw_realm }} {% endif %} ,,21,1
openstack%2Fproject-config~master~I5b723089e649376557fde8c6d46c15d143c50343,openstack/project-config,master,I5b723089e649376557fde8c6d46c15d143c50343,Add a repository for the Large Scale SIG,MERGED,2022-05-26 17:29:46.000000000,2022-06-01 14:59:30.000000000,2022-06-01 14:01:56.000000000,"[{'_account_id': 308}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 11583}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 17:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/963e6eb51b62fb992a0e79d648bb5b2b014fe4ba', 'message': 'Add a repository for the Large Scale SIG\n\nThis repository is to contain documentation produced by the Large Scale\nSIG[0]. In particular we want to move the content currently held in the\nWiki[1] in order to allow for easier collaborative editing.\n\n[0] https://governance.openstack.org/sigs/\n[1] https://wiki.openstack.org/wiki/Large_Scale_SIG\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I5b723089e649376557fde8c6d46c15d143c50343\n'}, {'number': 2, 'created': '2022-05-26 17:31:44.000000000', 'files': ['gerritbot/channels.yaml', 'gerrit/acls/openstack/large-scale.config', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6dd82e0f7413a8e7527c3b98e365167f96612059', 'message': 'Add a repository for the Large Scale SIG\n\nThis repository is to contain documentation produced by the Large Scale\nSIG[0]. In particular we want to move the content currently held in the\nWiki[1] in order to allow for easier collaborative editing.\n\n[0] https://governance.openstack.org/sigs/\n[1] https://wiki.openstack.org/wiki/Large_Scale_SIG\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nNeeded-By: https://review.opendev.org/c/openstack/governance/+/843535\nChange-Id: I5b723089e649376557fde8c6d46c15d143c50343\n'}]",4,843534,6dd82e0f7413a8e7527c3b98e365167f96612059,19,6,2,13252,,,0,"Add a repository for the Large Scale SIG

This repository is to contain documentation produced by the Large Scale
SIG[0]. In particular we want to move the content currently held in the
Wiki[1] in order to allow for easier collaborative editing.

[0] https://governance.openstack.org/sigs/
[1] https://wiki.openstack.org/wiki/Large_Scale_SIG

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Needed-By: https://review.opendev.org/c/openstack/governance/+/843535
Change-Id: I5b723089e649376557fde8c6d46c15d143c50343
",git fetch https://review.opendev.org/openstack/project-config refs/changes/34/843534/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/acls/openstack/large-scale.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",4,963e6eb51b62fb992a0e79d648bb5b2b014fe4ba,large-scale-sig, - openstack/large-scale,,15,0
openstack%2Fnova~stable%2Fwallaby~I575ce06bcc913add7db0849f85728371da2032fc,openstack/nova,stable/wallaby,I575ce06bcc913add7db0849f85728371da2032fc,Allow claiming PCI PF if child VF is unavailable,NEW,2022-05-06 09:01:55.000000000,2022-06-01 14:53:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-06 09:01:55.000000000', 'files': ['nova/objects/pci_device.py', 'nova/tests/unit/pci/test_manager.py', 'nova/pci/stats.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a763104217f2188b398d7eddaf3d21b91c66d2fa', 'message': ""Allow claiming PCI PF if child VF is unavailable\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail\nwhen try to mark the dependent VFs unavailable.\n\nThis patch changes the PCI claim logic to allow claiming the parent PF\nin the inconsistent situation as we assume that it is safe to do so.\nThis claim also fixed the inconsistency so that when the parent PF is\nfreed the children VFs become available again.\n\nCloses-Bug: #1969496\nChange-Id: I575ce06bcc913add7db0849f85728371da2032fc\n(cherry picked from commit 3af2ecc13fa9334de8418accaed4fffefefb41da)\n(cherry picked from commit 4ca4b2e6bc84ca2c209653b46d7428c6c7cbd270)\n(cherry picked from commit 1dbd45be4556c034eb469462698804984d95b503)\n""}]",2,840844,a763104217f2188b398d7eddaf3d21b91c66d2fa,15,1,1,9708,,,0,"Allow claiming PCI PF if child VF is unavailable

As If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for
the pci_device table to become inconsistent. Parent PF can be in
'available' state while children VFs are still in 'unavailable' state.
In this situation the PF is schedulable but the PCI claim will fail
when try to mark the dependent VFs unavailable.

This patch changes the PCI claim logic to allow claiming the parent PF
in the inconsistent situation as we assume that it is safe to do so.
This claim also fixed the inconsistency so that when the parent PF is
freed the children VFs become available again.

Closes-Bug: #1969496
Change-Id: I575ce06bcc913add7db0849f85728371da2032fc
(cherry picked from commit 3af2ecc13fa9334de8418accaed4fffefefb41da)
(cherry picked from commit 4ca4b2e6bc84ca2c209653b46d7428c6c7cbd270)
(cherry picked from commit 1dbd45be4556c034eb469462698804984d95b503)
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/840844/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/pci_device.py', 'nova/tests/unit/pci/test_manager.py', 'nova/pci/stats.py']",3,a763104217f2188b398d7eddaf3d21b91c66d2fa,bug/1969496, free_devs = self.get_free_devs() for vf in vfs_list: # NOTE(gibi): do not try to remove a device that are # already removed if vf in free_devs: self.remove_device(vf), for vf in vfs_list: self.remove_device(vf),162,26
openstack%2Fnova~master~I421f2e96f5af2f76c669df4b5bb93a6059228d17,openstack/nova,master,I421f2e96f5af2f76c669df4b5bb93a6059228d17,Sort PCI devices by their address,ABANDONED,2022-02-21 10:20:16.000000000,2022-06-01 14:46:53.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-21 10:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9eb3488d631cd15004fe1db5300f692170ccfb9', 'message': 'Sort PCI devices by their address\n\nthis will keep the order of devices inside the instance stable\nafter hard reboot.\n\nCloses-Bug: #1961567\nChange-Id: I421f2e96f5af2f76c669df4b5bb93a6059228d17\n'}, {'number': 2, 'created': '2022-05-12 12:37:26.000000000', 'files': ['nova/pci/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/12c01103f53b2cb8572f584f100328cfc8640155', 'message': 'Sort PCI devices by their address\n\nthis will keep the order of devices inside the instance stable\nafter hard reboot.\n\nCloses-Bug: #1961567\nChange-Id: I421f2e96f5af2f76c669df4b5bb93a6059228d17\n'}]",2,830136,12c01103f53b2cb8572f584f100328cfc8640155,19,2,2,9542,,,0,"Sort PCI devices by their address

this will keep the order of devices inside the instance stable
after hard reboot.

Closes-Bug: #1961567
Change-Id: I421f2e96f5af2f76c669df4b5bb93a6059228d17
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/830136/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/pci/manager.py'],1,a9eb3488d631cd15004fe1db5300f692170ccfb9,bug/1961567," devices = [ return sorted(devices, key=lambda x: x.address)", return [,3,1
openstack%2Fskyline-console~master~Ie0f01bd7c818b4c553351cc1cd8549e79a301c29,openstack/skyline-console,master,Ie0f01bd7c818b4c553351cc1cd8549e79a301c29,fix: Fix create/delete certificate && menu,MERGED,2022-06-01 03:32:29.000000000,2022-06-01 14:38:08.000000000,2022-06-01 14:38:08.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2022-06-01 03:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/aa06c633a3a34966c884b6c390d6c8e2edb43f0b', 'message': 'fix: Fix create/delete certificate\n\n1. Fix delete server/ca certificate\n2. Update cert display in detail page\n3. Add default type when create cert\n\nChange-Id: Ie0f01bd7c818b4c553351cc1cd8549e79a301c29\n'}, {'number': 2, 'created': '2022-06-01 08:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/bdf93f0c5e2b0561bb41cdcd0c9bb495c317ace3', 'message': 'fix: Fix create/delete certificate && menu\n\n1. Fix delete server/ca certificate\n2. Update cert display in detail page\n3. Add default type when create cert\n4. Display the cert list page based on the barbican endpoint\n\nChange-Id: Ie0f01bd7c818b4c553351cc1cd8549e79a301c29\n'}, {'number': 3, 'created': '2022-06-01 09:50:42.000000000', 'files': ['src/pages/network/containers/Certificate/Detail/Secret/BaseDetail.jsx', 'src/stores/barbican/containers.js', 'src/containers/BaseDetail/index.jsx', 'src/pages/network/containers/Certificate/actions/Create.jsx', 'src/stores/barbican/secrets.js', 'src/layouts/menu.jsx', 'src/pages/network/containers/Certificate/Detail/Container/BaseDetail.jsx', 'test/e2e/config/config-network.yaml'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/2fd46f588c855613762894b3446f491bd0a3bd1c', 'message': 'fix: Fix create/delete certificate && menu\n\n1. Fix delete server/ca certificate\n2. Update cert display in detail page\n3. Add default type when create cert\n4. Display the cert list page based on the barbican endpoint\n5. Temporarily remove network topology e2e because of cypress crashes\n\nChange-Id: Ie0f01bd7c818b4c553351cc1cd8549e79a301c29\n'}]",1,844180,2fd46f588c855613762894b3446f491bd0a3bd1c,11,2,3,30434,,,0,"fix: Fix create/delete certificate && menu

1. Fix delete server/ca certificate
2. Update cert display in detail page
3. Add default type when create cert
4. Display the cert list page based on the barbican endpoint
5. Temporarily remove network topology e2e because of cypress crashes

Change-Id: Ie0f01bd7c818b4c553351cc1cd8549e79a301c29
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/80/844180/3 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/network/containers/Certificate/Detail/Secret/BaseDetail.jsx', 'src/stores/barbican/containers.js', 'src/containers/BaseDetail/index.jsx', 'src/pages/network/containers/Certificate/actions/Create.jsx', 'src/stores/barbican/secrets.js', 'src/pages/network/containers/Certificate/Detail/Container/BaseDetail.jsx']",6,aa06c633a3a34966c884b6c390d6c8e2edb43f0b,cert,"import React from 'react'; get leftCardsStyle() { return { flex: 1, }; } get leftCards() { return [this.contentCard]; } get rightCards() { return [this.keyPairCard]; content: <pre>{secret_info.payload}</pre>, contentCol: 24, content: <pre>{secret_info.payload}</pre>, contentCol: 24,"," get leftCards() { const cards = [this.contentCard, this.keyPairCard]; return cards; content: secret_info.payload, content: secret_info.payload,",70,23
openstack%2Fopenstack-ansible-ops~master~Ie9b6bf768dabe258171e5f53cfa02c462f44a557,openstack/openstack-ansible-ops,master,Ie9b6bf768dabe258171e5f53cfa02c462f44a557,Address ELK deprecations necessary before v8 upgrades,MERGED,2022-06-01 07:38:41.000000000,2022-06-01 14:23:43.000000000,2022-06-01 14:21:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-06-01 07:38:41.000000000', 'files': ['elk_metrics_7x/roles/elasticsearch/templates/elasticsearch.yml.j2', 'elk_metrics_7x/roles/elastic_data_hosts/vars/data-node-variables.yml', 'elk_metrics_7x/roles/elastic_kibana/templates/kibana.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/6f117524dbd82bbe31c6c894f5d09311bebf6875', 'message': 'Address ELK deprecations necessary before v8 upgrades\n\nVarious configuration options have changed since v7 was initially\nreleased. This patch addresses the obvious issues in ElasticSearch\nand Kibana.\n\nChange-Id: Ie9b6bf768dabe258171e5f53cfa02c462f44a557\n'}]",0,844252,6f117524dbd82bbe31c6c894f5d09311bebf6875,8,3,1,31542,,,0,"Address ELK deprecations necessary before v8 upgrades

Various configuration options have changed since v7 was initially
released. This patch addresses the obvious issues in ElasticSearch
and Kibana.

Change-Id: Ie9b6bf768dabe258171e5f53cfa02c462f44a557
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/52/844252/1 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_7x/roles/elasticsearch/templates/elasticsearch.yml.j2', 'elk_metrics_7x/roles/elastic_data_hosts/vars/data-node-variables.yml', 'elk_metrics_7x/roles/elastic_kibana/templates/kibana.yml.j2']",3,6f117524dbd82bbe31c6c894f5d09311bebf6875,elk-deprecate,telemetry.enabled: false monitoring.kibana.collection.enabled: true monitoring.kibana.collection.interval: 30000 monitoring.ui.min_interval_seconds: 30 monitoring.ui.enabled: true monitoring.ui.container.elasticsearch.enabled: true,xpack.monitoring.enabled: true xpack.xpack_main.telemetry.enabled: false xpack.monitoring.kibana.collection.enabled: true xpack.monitoring.kibana.collection.interval: 30000 xpack.monitoring.min_interval_seconds: 30 xpack.monitoring.ui.enabled: true xpack.monitoring.ui.container.elasticsearch.enabled: true,29,37
openstack%2Fopenstack-ansible-ops~master~Ic1353431336394d03aadee8dd03333ef138e437e,openstack/openstack-ansible-ops,master,Ic1353431336394d03aadee8dd03333ef138e437e,beats: allow definition of custom hostname where necessary,MERGED,2022-06-01 07:41:07.000000000,2022-06-01 14:22:43.000000000,2022-06-01 14:21:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-06-01 07:41:07.000000000', 'files': ['elk_metrics_7x/roles/elastic_heartbeat/templates/heartbeat.yml.j2', 'elk_metrics_7x/roles/elastic_auditbeat/templates/auditbeat.yml.j2', 'elk_metrics_7x/roles/elastic_metricbeat/templates/metricbeat.yml.j2', 'elk_metrics_7x/roles/elastic_packetbeat/templates/packetbeat.yml.j2', 'elk_metrics_7x/roles/elastic_filebeat/templates/filebeat.yml.j2', 'elk_metrics_7x/roles/elastic_journalbeat/templates/journalbeat.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/7dbfa3025ce75b29d3980e5da28c99d42113343c', 'message': 'beats: allow definition of custom hostname where necessary\n\nAdds a variable to enable overriding of the name which beats\nuse to identify themselves to elasticsearch.\n\nChange-Id: Ic1353431336394d03aadee8dd03333ef138e437e\n'}]",0,844253,7dbfa3025ce75b29d3980e5da28c99d42113343c,8,3,1,31542,,,0,"beats: allow definition of custom hostname where necessary

Adds a variable to enable overriding of the name which beats
use to identify themselves to elasticsearch.

Change-Id: Ic1353431336394d03aadee8dd03333ef138e437e
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/53/844253/1 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_7x/roles/elastic_heartbeat/templates/heartbeat.yml.j2', 'elk_metrics_7x/roles/elastic_auditbeat/templates/auditbeat.yml.j2', 'elk_metrics_7x/roles/elastic_metricbeat/templates/metricbeat.yml.j2', 'elk_metrics_7x/roles/elastic_packetbeat/templates/packetbeat.yml.j2', 'elk_metrics_7x/roles/elastic_filebeat/templates/filebeat.yml.j2', 'elk_metrics_7x/roles/elastic_journalbeat/templates/journalbeat.yml.j2']",6,7dbfa3025ce75b29d3980e5da28c99d42113343c,elk-hostname,{% if elastic_hostname is defined %} name: {{ elastic_hostname }} {% endif %},# name: journalbeat,18,6
openstack%2Ftripleo-puppet-elements~stable%2Fvictoria~Icae31e6aff9a468f81a01433eedeb53c007e8af5,openstack/tripleo-puppet-elements,stable/victoria,Icae31e6aff9a468f81a01433eedeb53c007e8af5,Add fence-agents-compute to the list of installed rpms,MERGED,2022-04-28 06:45:18.000000000,2022-06-01 14:20:01.000000000,2022-06-01 14:20:01.000000000,"[{'_account_id': 7144}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 06:45:18.000000000', 'files': ['elements/overcloud-controller/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/2699b2e77b6037cdfe837b1940b80f6c4afd8e99', 'message': 'Add fence-agents-compute to the list of installed rpms\n\nWith I835511b960df09bd05bd8aaf1695757f0b079c12 we restricted\nthe list of fence-agents installed by default but unfortunately\nleft fence-agents-compute out (needed for instance-ha).\nThis commit adds this agent to the list of pre-installed rpms.\n\nChange-Id: Icae31e6aff9a468f81a01433eedeb53c007e8af5\n(cherry picked from commit d2b58ac2fc5416de61bc53b29bcec2c1de967d69)\n'}]",6,839657,2699b2e77b6037cdfe837b1940b80f6c4afd8e99,20,4,1,30126,,,0,"Add fence-agents-compute to the list of installed rpms

With I835511b960df09bd05bd8aaf1695757f0b079c12 we restricted
the list of fence-agents installed by default but unfortunately
left fence-agents-compute out (needed for instance-ha).
This commit adds this agent to the list of pre-installed rpms.

Change-Id: Icae31e6aff9a468f81a01433eedeb53c007e8af5
(cherry picked from commit d2b58ac2fc5416de61bc53b29bcec2c1de967d69)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/57/839657/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-controller/pkg-map'],1,2699b2e77b6037cdfe837b1940b80f6c4afd8e99,," ""fence_agents_package"": ""fence-agents-redfish fence-agents-ipmilan fence-agents-kdump fence-agents-rhevm fence-agents-compute"",} "," ""fence_agents_package"": ""fence-agents-redfish fence-agents-ipmilan fence-agents-kdump fence-agents-rhevm"",}",2,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If3569c08edb4e820a4db11ac755f23de71059a10,openstack/tripleo-heat-templates,stable/train,If3569c08edb4e820a4db11ac755f23de71059a10,Fix Redis config generation when fd limit changes,MERGED,2022-02-09 16:08:42.000000000,2022-06-01 14:19:58.000000000,2022-06-01 14:19:58.000000000,"[{'_account_id': 7144}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-09 16:08:42.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/redis-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc5460325c939268546adf06e4aeebe2bf9c3816', 'message': 'Fix Redis config generation when fd limit changes\n\npuppet-redis supports [1,2] changing PAM limits for the\nfile descriptors consumed by Redis. However puppet fails\nto run systemd reload inside container-puppet-redis.\n\nWe have to keep Exec resources (for old pcs setup and for\nmanipulating the Redis config file), so silent the Exec\nresource in that call systemd reload.\n\nCloses-Bug: #1960134\n\n[1] https://github.com/voxpupuli/puppet-redis/issues/130\n[2] https://github.com/voxpupuli/puppet-redis/pull/192\n\nChange-Id: If3569c08edb4e820a4db11ac755f23de71059a10\n'}]",3,828582,dc5460325c939268546adf06e4aeebe2bf9c3816,15,4,1,20778,,,0,"Fix Redis config generation when fd limit changes

puppet-redis supports [1,2] changing PAM limits for the
file descriptors consumed by Redis. However puppet fails
to run systemd reload inside container-puppet-redis.

We have to keep Exec resources (for old pcs setup and for
manipulating the Redis config file), so silent the Exec
resource in that call systemd reload.

Closes-Bug: #1960134

[1] https://github.com/voxpupuli/puppet-redis/issues/130
[2] https://github.com/voxpupuli/puppet-redis/pull/192

Change-Id: If3569c08edb4e820a4db11ac755f23de71059a10
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/82/828582/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/redis-container-puppet.yaml']",2,dc5460325c939268546adf06e4aeebe2bf9c3816,bug/1960134-stable/train, - - Exec <| title == 'systemd-reload-redis' |> { unless => 'true' } - include ::tripleo::profile::base::database::redis, - - include ::tripleo::profile::base::database::redis,3,1
openstack%2Fnova~stable%2Ftrain~Id908a7224ff3378b3b51726bbfa8b5805d38ca59,openstack/nova,stable/train,Id908a7224ff3378b3b51726bbfa8b5805d38ca59,Fix instance's image_ref lost on failed unshelving,NEW,2022-05-23 11:23:45.000000000,2022-06-01 14:11:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 29037}]","[{'number': 1, 'created': '2022-05-23 11:23:45.000000000', 'files': ['nova/tests/unit/compute/test_shelve.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3ac37f362583f2dbac922b20db9c3c3df2c84792', 'message': ""Fix instance's image_ref lost on failed unshelving\n\nCloses-Bug: #1934094\n\nSigned-off-by: Pierre-Samuel Le Stang <pierre-samuel.le-stang@corp.ovh.com>\nChange-Id: Id908a7224ff3378b3b51726bbfa8b5805d38ca59\n(cherry picked from commit 518b952bdeb6ec29252b56527b8c8d7b32abe1b5)\n(cherry picked from commit 076f95371a093a0e594c0d08e410676c9a73c9d0)\n(cherry picked from commit 328cf1073dca4c092f29cf192aaab14eae03143b)\n(cherry picked from commit f03334323c212a6f98ca94643ec258139068a071)\n(cherry picked from commit 7b790694fdb219222cdc42423cacbc8d1dbf60be)\n""}]",2,842963,3ac37f362583f2dbac922b20db9c3c3df2c84792,9,2,1,9708,,,0,"Fix instance's image_ref lost on failed unshelving

Closes-Bug: #1934094

Signed-off-by: Pierre-Samuel Le Stang <pierre-samuel.le-stang@corp.ovh.com>
Change-Id: Id908a7224ff3378b3b51726bbfa8b5805d38ca59
(cherry picked from commit 518b952bdeb6ec29252b56527b8c8d7b32abe1b5)
(cherry picked from commit 076f95371a093a0e594c0d08e410676c9a73c9d0)
(cherry picked from commit 328cf1073dca4c092f29cf192aaab14eae03143b)
(cherry picked from commit f03334323c212a6f98ca94643ec258139068a071)
(cherry picked from commit 7b790694fdb219222cdc42423cacbc8d1dbf60be)
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/842963/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_shelve.py', 'nova/compute/manager.py']",2,3ac37f362583f2dbac922b20db9c3c3df2c84792,bug/1934094, # Set the image_ref back to initial image_ref because instance # object might have been saved with image['id'] # https://bugs.launchpad.net/nova/+bug/1934094 instance.image_ref = shelved_image_ref,,6,6
openstack%2Fkeystonemiddleware~stable%2Fwallaby~I405d6790360563526d13c0b3e8ae0576d98a67d8,openstack/keystonemiddleware,stable/wallaby,I405d6790360563526d13c0b3e8ae0576d98a67d8,Updating lower-constraints job as non voting,ABANDONED,2021-06-01 11:47:43.000000000,2022-06-01 14:06:27.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27339}]","[{'number': 1, 'created': '2021-06-01 11:47:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/ab95567e719beb9265dfd90017b3781e984a68a0', 'message': 'Updating lower-constraints job as non voting\n\nThere is an ongoing discussion in ML to drop the\nlower-constraints job [1].\n\nMoving it to Non-voting until any decision is being\nmade in TC meeting.\n\n[1]: http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n\nChange-Id: I405d6790360563526d13c0b3e8ae0576d98a67d8\n(cherry picked from commit 0a2309dae39dd0d99bd2f422d565ddcc91c28b16)\n'}]",2,793923,ab95567e719beb9265dfd90017b3781e984a68a0,6,3,1,28522,,,0,"Updating lower-constraints job as non voting

There is an ongoing discussion in ML to drop the
lower-constraints job [1].

Moving it to Non-voting until any decision is being
made in TC meeting.

[1]: http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html

Change-Id: I405d6790360563526d13c0b3e8ae0576d98a67d8
(cherry picked from commit 0a2309dae39dd0d99bd2f422d565ddcc91c28b16)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/23/793923/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ab95567e719beb9265dfd90017b3781e984a68a0,bug/1883659-stable/wallaby, check: jobs: - openstack-tox-lower-constraints: voting: false, - openstack-lower-constraints-jobs,4,1
openstack%2Fkolla-ansible~master~I3f9dab93042799eda9174257e604fd1844684c1c,openstack/kolla-ansible,master,I3f9dab93042799eda9174257e604fd1844684c1c,Do not use keystone_admin_url et al,MERGED,2022-05-28 16:25:43.000000000,2022-06-01 13:31:35.000000000,2022-06-01 13:30:18.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-28 16:25:43.000000000', 'files': ['ansible/roles/manila/templates/manila-share.conf.j2', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/masakari/templates/masakari.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/monasca/templates/monasca-agent-forwarder/agent-forwarder.yml.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/zun/templates/zun.conf.j2', 'ansible/roles/neutron/templates/ironic_neutron_agent.ini.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'releasenotes/notes/keystone-admin-port-gone-1a28302df63aa70b.yaml', 'ansible/roles/kuryr/templates/kuryr.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/cyborg/templates/cyborg.conf.j2', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/prometheus/templates/clouds.yml.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/masakari/templates/masakari-monitors.conf.j2', 'ansible/roles/octavia/templates/octavia-openrc.sh.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/swift/templates/proxy-server.conf.j2', 'ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/placement/templates/placement.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/monasca/templates/monasca-api/api.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/common/templates/admin-openrc.sh.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'ansible/roles/keystone/tasks/register.yml', 'ansible/group_vars/all.yml', 'ansible/roles/glance/templates/glance-cache.conf.j2', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2', 'ansible/roles/venus/templates/venus.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7ca9349b09a06b5e0ad218d82fe2e37d86fc1630', 'message': ""Do not use keystone_admin_url et al\n\nFollowing up on [1].\nThe 3 variables are only introducing noise after we removed\nthe reliance on Keystone's admin port.\n\n[1] I5099b08953789b280c915a6b7a22bdd4e3404076\n\nChange-Id: I3f9dab93042799eda9174257e604fd1844684c1c\n""}]",4,843727,7ca9349b09a06b5e0ad218d82fe2e37d86fc1630,11,4,1,30491,,,0,"Do not use keystone_admin_url et al

Following up on [1].
The 3 variables are only introducing noise after we removed
the reliance on Keystone's admin port.

[1] I5099b08953789b280c915a6b7a22bdd4e3404076

Change-Id: I3f9dab93042799eda9174257e604fd1844684c1c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/27/843727/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/manila/templates/manila-share.conf.j2', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/masakari/templates/masakari.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/monasca/templates/monasca-agent-forwarder/agent-forwarder.yml.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/zun/templates/zun.conf.j2', 'ansible/roles/neutron/templates/ironic_neutron_agent.ini.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'releasenotes/notes/keystone-admin-port-gone-1a28302df63aa70b.yaml', 'ansible/roles/kuryr/templates/kuryr.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/cyborg/templates/cyborg.conf.j2', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/prometheus/templates/clouds.yml.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/masakari/templates/masakari-monitors.conf.j2', 'ansible/roles/octavia/templates/octavia-openrc.sh.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/swift/templates/proxy-server.conf.j2', 'ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/placement/templates/placement.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/monasca/templates/monasca-api/api.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/common/templates/admin-openrc.sh.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'ansible/roles/keystone/tasks/register.yml', 'ansible/group_vars/all.yml', 'ansible/roles/glance/templates/glance-cache.conf.j2', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2', 'ansible/roles/venus/templates/venus.conf.j2']",48,7ca9349b09a06b5e0ad218d82fe2e37d86fc1630,no-keystone-admin,auth_url = {{ keystone_internal_url }} ,auth_url = {{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ keystone_public_port }} ,89,79
openstack%2Fironic-python-agent~bugfix%2F8.1~I9d7254239c6476a03350735c36fa90daba8ddc33,openstack/ironic-python-agent,bugfix/8.1,I9d7254239c6476a03350735c36fa90daba8ddc33,Fix 8.1 CI,MERGED,2022-05-31 17:41:58.000000000,2022-06-01 13:01:31.000000000,2022-06-01 12:58:35.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 17:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/df997530af49cbcc54b8feee67212a093840348c', 'message': 'Testing CI 8.1\n\nChange-Id: I9d7254239c6476a03350735c36fa90daba8ddc33\n'}, {'number': 2, 'created': '2022-05-31 18:39:46.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6d622fd2d9ef73822c9563ae2a58ccd22b0d1248', 'message': 'Fix 8.1 CI\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/844077\nChange-Id: I9d7254239c6476a03350735c36fa90daba8ddc33\n'}]",0,844117,6d622fd2d9ef73822c9563ae2a58ccd22b0d1248,9,2,2,15519,,,0,"Fix 8.1 CI

Depends-On: https://review.opendev.org/c/openstack/ironic/+/844077
Change-Id: I9d7254239c6476a03350735c36fa90daba8ddc33
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/17/844117/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,df997530af49cbcc54b8feee67212a093840348c,test_ci,# test,,1,0
openstack%2Ftripleo-repos~master~Id9b01070b8d187b85b9efade4af548871b2ad369,openstack/tripleo-repos,master,Id9b01070b8d187b85b9efade4af548871b2ad369,Use openstack-python3-zed-jobs template,MERGED,2022-06-01 08:51:10.000000000,2022-06-01 12:56:37.000000000,2022-06-01 12:56:37.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-06-01 08:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/0c050f12c54c75f36bfe5bf27f2065288d7539d1', 'message': 'Use openstack-python3-zed-jobs template\n\nSince Python 2.7 is gone EOL long time ago and C7 train is no\nlonger maintained, so removing it.\n\nPython-3.6 is no longer works with Zed release so dropping it\nand switching it to zed template.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Id9b01070b8d187b85b9efade4af548871b2ad369\n'}, {'number': 2, 'created': '2022-06-01 09:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/c5c80ac9d533effb1fcf8bf39cb971e7c6471990', 'message': 'Use openstack-python3-zed-jobs template\n\nSince Python 2.7 is gone EOL long time ago and C7 train is no\nlonger maintained, so removing it.\n\nPython-3.6 is no longer works with Zed release so dropping it\nand switching it to zed template.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Id9b01070b8d187b85b9efade4af548871b2ad369\n'}, {'number': 3, 'created': '2022-06-01 09:50:38.000000000', 'files': ['zuul.d/layout.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/c2e8943839d813f81b80dbe805956e551c1c86f4', 'message': 'Use openstack-python3-zed-jobs template\n\nSince Python 2.7 is gone EOL long time ago and C7 train is no\nlonger maintained, so removing it.\n\nPython-3.6 is no longer works with Zed release so dropping it\nand switching it to zed template.\n\nFrom tox sanity environment, ansible-core-2.13 is getting\ninstalled. In order to override that, we need to strictly\ndefine it under tox sanity environment.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Id9b01070b8d187b85b9efade4af548871b2ad369\n'}]",1,844264,c2e8943839d813f81b80dbe805956e551c1c86f4,12,4,3,12393,,,0,"Use openstack-python3-zed-jobs template

Since Python 2.7 is gone EOL long time ago and C7 train is no
longer maintained, so removing it.

Python-3.6 is no longer works with Zed release so dropping it
and switching it to zed template.

From tox sanity environment, ansible-core-2.13 is getting
installed. In order to override that, we need to strictly
define it under tox sanity environment.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Id9b01070b8d187b85b9efade4af548871b2ad369
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/64/844264/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,0c050f12c54c75f36bfe5bf27f2065288d7539d1,unified_mol_config, - openstack-python3-zed-jobs, name: tox-sanity-py27 description: Run ansible-test sanity tests on a collection parent: openstack-tox-py27 vars: tox_envlist: sanity - job: name: tox-sanity-py36 description: Run ansible-test sanity tests on a collection parent: openstack-tox-py36 vars: tox_envlist: sanity - job: - openstack-python3-wallaby-jobs - openstack-tox-py36 - tox-sanity-py27 - tox-sanity-py36,1,16
openstack%2Fironic~bugfix%2F18.1~I936f6c1506c585826501ff3ac0bad0c755b4d360,openstack/ironic,bugfix/18.1,I936f6c1506c585826501ff3ac0bad0c755b4d360,Fix tox template and ironic-lib from src and branch detection in IPA,MERGED,2022-05-31 18:12:21.000000000,2022-06-01 12:43:21.000000000,2022-06-01 12:39:56.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 18:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c5aa15656e3316268b9efd624c6e01a4f2643a94', 'message': 'Fix ironic-lib from source and branch detection in IPA builds\n\nPrevents the ironic-lib CI from testing ironic-lib changes in IPA.\n\nChange-Id: I936f6c1506c585826501ff3ac0bad0c755b4d360\n(cherry picked from commit b94e52f55a0c4f9d6f3a771179da4ec5ccbddbd7)\n(cherry picked from commit 41f8ed7c0bf1ba84c6df3c0c080b571e326396aa)\n'}, {'number': 2, 'created': '2022-05-31 18:37:35.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/dee6b0c294b357a759c6cc54ccdc17835b2bd84f', 'message': 'Fix tox template and ironic-lib from src and branch detection in IPA\n\nPrevents the ironic-lib CI from testing ironic-lib changes in IPA.\nUpdates the project tempalte to use xena requirements\n\nChange-Id: I936f6c1506c585826501ff3ac0bad0c755b4d360\n(cherry picked from commit b94e52f55a0c4f9d6f3a771179da4ec5ccbddbd7)\n(cherry picked from commit 41f8ed7c0bf1ba84c6df3c0c080b571e326396aa)\n'}]",0,844077,dee6b0c294b357a759c6cc54ccdc17835b2bd84f,14,2,2,15519,,,0,"Fix tox template and ironic-lib from src and branch detection in IPA

Prevents the ironic-lib CI from testing ironic-lib changes in IPA.
Updates the project tempalte to use xena requirements

Change-Id: I936f6c1506c585826501ff3ac0bad0c755b4d360
(cherry picked from commit b94e52f55a0c4f9d6f3a771179da4ec5ccbddbd7)
(cherry picked from commit 41f8ed7c0bf1ba84c6df3c0c080b571e326396aa)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/77/844077/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,c5aa15656e3316268b9efd624c6e01a4f2643a94,," if [ -e $DEST/ironic-lib ]; then export IRONIC_LIB_SOURCE=""$DEST/ironic-lib"" fi if [ -e $DEST/ironic-lib ]; then export DIB_REPOREF_ironic_lib=$TARGET_BRANCH DIB_REPOREF_ironic_python_agent=$TARGET_BRANCH \ DIB_REPOREF_requirements=$TARGET_BRANCH \", if -e $DEST/ironic-lib; then,7,1
openstack%2Fci-log-processing~master~I032fb28be60e33737db72c28a18208addd0cd7a2,openstack/ci-log-processing,master,I032fb28be60e33737db72c28a18208addd0cd7a2,DNM Checking Zuul stdout issue,ABANDONED,2022-05-11 09:21:11.000000000,2022-06-01 12:34:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-11 09:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/f1bc6a3591098451b0753ecd54bddd50eeeb5375', 'message': 'DNM Checking Zuul stdout issue\n\nChange-Id: I032fb28be60e33737db72c28a18208addd0cd7a2\n'}, {'number': 2, 'created': '2022-05-11 09:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/887012f63d4d73aff14a170ef4181b50701259d2', 'message': 'DNM Checking Zuul stdout issue\n\nChange-Id: I032fb28be60e33737db72c28a18208addd0cd7a2\n'}, {'number': 3, 'created': '2022-05-11 09:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/ce90392c8c310aea0992616cbdf1bb89568a81c7', 'message': 'DNM Checking Zuul stdout issue\n\nChange-Id: I032fb28be60e33737db72c28a18208addd0cd7a2\n'}, {'number': 4, 'created': '2022-05-11 12:05:37.000000000', 'files': ['ansible/roles/check_zuul/tasks/main.yaml', '.zuul.yaml', 'ansible/playbooks/bcrypt.yml', 'ansible/roles/check_zuul/tasks/gen-user-pass.yml', 'ansible/roles/check_zuul/templates/internal_users.yml.j2'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/a76d224a519fc7f3811b5e907fcf22e795c88734', 'message': 'DNM Checking Zuul stdout issue\n\nChange-Id: I032fb28be60e33737db72c28a18208addd0cd7a2\n'}]",0,841388,a76d224a519fc7f3811b5e907fcf22e795c88734,9,1,4,20676,,,0,"DNM Checking Zuul stdout issue

Change-Id: I032fb28be60e33737db72c28a18208addd0cd7a2
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/88/841388/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/check_zuul/tasks/main.yaml', '.zuul.yaml', 'ansible/playbooks/bcrypt.yml', 'ansible/roles/check_zuul/tasks/gen-user-pass.yml', 'ansible/roles/check_zuul/templates/internal_users.yml.j2']",5,f1bc6a3591098451b0753ecd54bddd50eeeb5375,,"# the hash should not be empty hash: {{ password_hash }} reserved: true backend_roles: - ""somerole"" description: ""Internal user"" hidden: true ",,59,11
openstack%2Fnova~master~I209bbb270baf889fcb2b9a4d1ce0ab4a962d0d0e,openstack/nova,master,I209bbb270baf889fcb2b9a4d1ce0ab4a962d0d0e,Fix typos,MERGED,2022-05-24 10:31:21.000000000,2022-06-01 12:16:17.000000000,2022-06-01 10:50:15.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 19234}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-24 10:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65b29620a34d66f10c4357812db6233341fefde0', 'message': 'Fix typos\n\nThis change fixes some of the typos in unit tests as well\nas in nova code-base.\n\nChange-Id: I209bbb270baf889fcb2b9a4d1ce0ab4a962d0d0e\n'}, {'number': 2, 'created': '2022-05-25 11:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07b836b1f6813243b615f278af69ee9048c8c47a', 'message': 'Fix typos\n\nThis change fixes some of the typos in unit tests as well\nas in nova code-base.\n\nChange-Id: I209bbb270baf889fcb2b9a4d1ce0ab4a962d0d0e\n'}, {'number': 3, 'created': '2022-05-26 10:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24ddb4ac28da9c63edbe549fef5cb31282f8e00e', 'message': 'Fix typos\n\nThis change fixes some of the typos in unit tests as well\nas in nova code-base.\n\nChange-Id: I209bbb270baf889fcb2b9a4d1ce0ab4a962d0d0e\n'}, {'number': 4, 'created': '2022-05-27 04:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3cf762c67d0d9c2fcc9b1ffdc3336dfef9875707', 'message': 'Fix typos\n\nThis change fixes some of the typos in unit tests as well\nas in nova code-base.\n\nChange-Id: I209bbb270baf889fcb2b9a4d1ce0ab4a962d0d0e\n'}, {'number': 5, 'created': '2022-05-27 10:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb693048139a3fcfb78da7685efa0d981740c524', 'message': 'Fix typos\n\nThis change fixes some of the typos in unit tests as well\nas in nova code-base.\n\nChange-Id: I209bbb270baf889fcb2b9a4d1ce0ab4a962d0d0e\n'}, {'number': 6, 'created': '2022-05-27 10:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1074ff7f00cf5f6af921b031082bf65d33b7c9a', 'message': 'Fix typos\n\nThis change fixes some of the typos in unit tests as well\nas in nova code-base.\n\nChange-Id: I209bbb270baf889fcb2b9a4d1ce0ab4a962d0d0e\n'}, {'number': 7, 'created': '2022-05-30 12:10:22.000000000', 'files': ['nova/tests/unit/policies/test_server_diagnostics.py', 'nova/tests/unit/objects/test_instance_group.py', 'nova/virt/zvm/hypervisor.py', 'nova/tests/unit/accelerator/test_cyborg.py', 'nova/tests/unit/scheduler/filters/test_compute_capabilities_filters.py', 'nova/tests/unit/api/openstack/compute/test_limits.py', 'nova/tests/unit/virt/disk/mount/test_api.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/unit/db/test_migration.py', 'nova/tests/unit/policies/test_migrate_server.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/compute/test_api.py', 'nova/tests/unit/pci/test_stats.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/unit/virt/test_imagecache.py', 'nova/tests/unit/policies/test_attach_interfaces.py', 'nova/compute/manager.py', 'nova/tests/unit/api/openstack/compute/test_lock_server.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/unit/virt/hyperv/test_vmops.py', 'nova/virt/libvirt/vif.py', 'nova/tests/unit/db/main/test_api.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/cmd/test_status.py', 'nova/tests/unit/policies/test_instance_actions.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/tests/unit/compute/test_flavors.py', 'nova/block_device.py', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/scheduler/weights/test_weights_pci.py', 'nova/tests/unit/api/openstack/compute/test_server_external_events.py', 'nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/functional/regressions/test_bug_1893284.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/objects/service.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/test_notifications.py', 'nova/tests/unit/scheduler/weights/test_weights_metrics.py', 'nova/tests/unit/test_identity.py', 'nova/tests/unit/test_metadata.py', 'nova/virt/ironic/driver.py', 'nova/tests/unit/policies/test_server_ips.py', 'nova/virt/libvirt/driver.py', 'nova/tests/functional/test_policy.py', 'nova/tests/unit/policies/test_lock_server.py', 'nova/tests/fixtures/nova.py', 'nova/tests/unit/api/openstack/compute/test_networks.py', 'nova/console/websocketproxy.py', 'nova/tests/functional/db/test_compute_node.py', 'nova/conductor/tasks/cross_cell_migrate.py', 'nova/tests/unit/api/openstack/compute/test_remote_consoles.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/policies/test_rescue.py', 'nova/tests/fixtures/policy.py', 'nova/virt/driver.py', 'nova/tests/unit/policies/test_admin_actions.py', 'nova/tests/unit/policies/test_shelve.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/tests/unit/pci/test_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2521810e553593f8d02adeef0f089b60bc7f71a6', 'message': 'Fix typos\n\nThis change fixes some of the typos in unit tests as well\nas in nova code-base.\n\nChange-Id: I209bbb270baf889fcb2b9a4d1ce0ab4a962d0d0e\n'}]",10,843127,2521810e553593f8d02adeef0f089b60bc7f71a6,52,6,7,20733,,,0,"Fix typos

This change fixes some of the typos in unit tests as well
as in nova code-base.

Change-Id: I209bbb270baf889fcb2b9a4d1ce0ab4a962d0d0e
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/843127/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_neutron.py', 'nova/tests/unit/policies/test_server_diagnostics.py', 'nova/tests/functional/regressions/test_bug_1893284.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/test_notifications.py', 'nova/tests/unit/accelerator/test_cyborg.py', 'nova/tests/unit/virt/disk/mount/test_api.py', 'nova/tests/unit/db/test_migration.py', 'nova/tests/unit/policies/test_migrate_server.py', 'nova/tests/unit/compute/test_api.py', 'nova/virt/ironic/driver.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/unit/policies/test_lock_server.py', 'nova/tests/fixtures/nova.py', 'nova/tests/unit/objects/test_migrate_data.py', 'nova/tests/unit/api/openstack/compute/test_remote_consoles.py', 'nova/virt/libvirt/vif.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/policies/test_rescue.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/policies/test_shelve.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py']",24,65b29620a34d66f10c4357812db6233341fefde0,typos, def test_clean_shutdown_no_vmwaretools(self):, def test_clean_shutdown_no_vwaretools(self):,40,40
openstack%2Fnova~stable%2Fxena~I575ce06bcc913add7db0849f85728371da2032fc,openstack/nova,stable/xena,I575ce06bcc913add7db0849f85728371da2032fc,Allow claiming PCI PF if child VF is unavailable,NEW,2022-05-06 08:40:46.000000000,2022-06-01 12:11:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-06 08:40:46.000000000', 'files': ['nova/objects/pci_device.py', 'nova/tests/unit/pci/test_manager.py', 'nova/pci/stats.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1dbd45be4556c034eb469462698804984d95b503', 'message': ""Allow claiming PCI PF if child VF is unavailable\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail\nwhen try to mark the dependent VFs unavailable.\n\nThis patch changes the PCI claim logic to allow claiming the parent PF\nin the inconsistent situation as we assume that it is safe to do so.\nThis claim also fixed the inconsistency so that when the parent PF is\nfreed the children VFs become available again.\n\nCloses-Bug: #1969496\nChange-Id: I575ce06bcc913add7db0849f85728371da2032fc\n(cherry picked from commit 3af2ecc13fa9334de8418accaed4fffefefb41da)\n(cherry picked from commit 4ca4b2e6bc84ca2c209653b46d7428c6c7cbd270)\n""}]",1,840837,1dbd45be4556c034eb469462698804984d95b503,11,1,1,9708,,,0,"Allow claiming PCI PF if child VF is unavailable

As If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for
the pci_device table to become inconsistent. Parent PF can be in
'available' state while children VFs are still in 'unavailable' state.
In this situation the PF is schedulable but the PCI claim will fail
when try to mark the dependent VFs unavailable.

This patch changes the PCI claim logic to allow claiming the parent PF
in the inconsistent situation as we assume that it is safe to do so.
This claim also fixed the inconsistency so that when the parent PF is
freed the children VFs become available again.

Closes-Bug: #1969496
Change-Id: I575ce06bcc913add7db0849f85728371da2032fc
(cherry picked from commit 3af2ecc13fa9334de8418accaed4fffefefb41da)
(cherry picked from commit 4ca4b2e6bc84ca2c209653b46d7428c6c7cbd270)
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/840837/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/pci_device.py', 'nova/tests/unit/pci/test_manager.py', 'nova/pci/stats.py']",3,1dbd45be4556c034eb469462698804984d95b503,bug/1969496, free_devs = self.get_free_devs() for vf in vfs_list: # NOTE(gibi): do not try to remove a device that are # already removed if vf in free_devs: self.remove_device(vf), for vf in vfs_list: self.remove_device(vf),162,26
openstack%2Fnova~stable%2Ftrain~I7b432d7a32aeb1ab765d1f731691c7841a8f1440,openstack/nova,stable/train,I7b432d7a32aeb1ab765d1f731691c7841a8f1440,Simulate bug 1969496,NEW,2022-04-28 10:50:56.000000000,2022-06-01 12:11:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-28 10:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39536a1170cdaa1a0fdf649cba836c0d3523f1b7', 'message': ""Simulate bug 1969496\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail to\nwhen try to mark the dependent VFs unavailable.\n\nThis patch adds a test case that shows the error.\n\nRelated-Bug: #1969496\n\nChange-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440\n""}, {'number': 2, 'created': '2022-05-06 09:20:21.000000000', 'files': ['nova/tests/unit/pci/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b5787eeb121434bd3ae737be7b381a959df5ac20', 'message': ""Simulate bug 1969496\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail to\nwhen try to mark the dependent VFs unavailable.\n\nThis patch adds a test case that shows the error.\n\nRelated-Bug: #1969496\n\nChange-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440\n(cherry picked from commit 9ee5d2c66255f83cc8a66f1b5648fa13e1d73f47)\n(cherry picked from commit 23c48b670668e9cae886b5113c776077780f5581)\n(cherry picked from commit 96e00c30fc7356874a13f75eb5ee46c87fb448d0)\n(cherry picked from commit e153335a5e70f7e694d344665614279fc6d58136)\n(cherry picked from commit 0c671b354ca99aaadf2f3eaab8c40490c6c76707)\n(cherry picked from commit 6d60c87299a9cb9e908448d630456977a0c350b4)\n""}]",1,839718,b5787eeb121434bd3ae737be7b381a959df5ac20,11,1,2,9708,,,0,"Simulate bug 1969496

As If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for
the pci_device table to become inconsistent. Parent PF can be in
'available' state while children VFs are still in 'unavailable' state.
In this situation the PF is schedulable but the PCI claim will fail to
when try to mark the dependent VFs unavailable.

This patch adds a test case that shows the error.

Related-Bug: #1969496

Change-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440
(cherry picked from commit 9ee5d2c66255f83cc8a66f1b5648fa13e1d73f47)
(cherry picked from commit 23c48b670668e9cae886b5113c776077780f5581)
(cherry picked from commit 96e00c30fc7356874a13f75eb5ee46c87fb448d0)
(cherry picked from commit e153335a5e70f7e694d344665614279fc6d58136)
(cherry picked from commit 0c671b354ca99aaadf2f3eaab8c40490c6c76707)
(cherry picked from commit 6d60c87299a9cb9e908448d630456977a0c350b4)
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/839718/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/pci/test_manager.py'],1,39536a1170cdaa1a0fdf649cba836c0d3523f1b7,bug/1969496,"from nova import exception def test_claim_available_pf_while_child_vf_is_unavailable(self): # NOTE(gibi): this is bug 1969496. The state created here is # inconsistent and should not happen. But it did happen in some cases # where we were not able to track down the way how it happened. # We start with a PF parent and a VF child. The PF is available and # the VF is unavailable. pf = copy.deepcopy(fake_db_dev_3) vf = copy.deepcopy(fake_db_dev_4) vf['status'] = fields.PciDeviceStatus.UNAVAILABLE self._create_tracker([pf, vf]) pf_dev = self._get_device_by_address(pf['address']) self.assertEqual('available', pf_dev.status) vf_dev = self._get_device_by_address(vf['address']) self.assertEqual('unavailable', vf_dev.status) pci_requests_obj = self._create_pci_requests_object( [ { 'count': 1, 'spec': [{'dev_type': fields.PciDeviceType.SRIOV_PF}] } ], instance_uuid=uuidsentinel.instance1, ) # now try to claim and allocate the PF. It should work as it is # available # This is bug 1969496 as the claim fails with exception ex = self.assertRaises( exception.PciDevicePoolEmpty, self.tracker.claim_instance, mock.sentinel.context, pci_requests_obj, None ) self.assertIn( 'Attempt to consume PCI device 1:0000:00:02.1 from empty pool', str(ex) ) pf_dev = self._get_device_by_address(pf['address']) self.assertEqual('available', pf_dev.status) vf_dev = self._get_device_by_address(vf['address']) self.assertEqual('unavailable', vf_dev.status) # This should work when the bug is fixed # self.tracker.claim_instance( # mock.sentinel.context, pci_requests_obj, None) # self.tracker.allocate_instance({'uuid': uuidsentinel.instance1}) # pf_dev = self._get_device_by_address(pf['address']) # self.assertEqual('allocated', pf_dev.status) # vf_dev = self._get_device_by_address(vf['address']) # self.assertEqual('unavailable', vf_dev.status) ",,56,0
openstack%2Fosc-placement~master~Id44c6f3ed54d6721e514055ce56ad4182156325e,openstack/osc-placement,master,Id44c6f3ed54d6721e514055ce56ad4182156325e,Drop py36 and py37 support,ABANDONED,2022-06-01 11:28:15.000000000,2022-06-01 12:10:03.000000000,,"[{'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 11:28:15.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/fc3470630799045e1d3ed2b4bfee9f7cf33d4505', 'message': 'Drop py36 and py37 support\n\nAlso add py310 functional testing as non-voting\n\nChange-Id: Id44c6f3ed54d6721e514055ce56ad4182156325e\n'}]",0,844281,fc3470630799045e1d3ed2b4bfee9f7cf33d4505,3,3,1,9708,,,0,"Drop py36 and py37 support

Also add py310 functional testing as non-voting

Change-Id: Id44c6f3ed54d6721e514055ce56ad4182156325e
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/81/844281/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,fc3470630799045e1d3ed2b4bfee9f7cf33d4505,zed,[testenv:functional-py310] description = Run functional tests using python3.10. deps = {[testenv:functional]deps} commands = {[testenv:functional]commands} ,[testenv:functional-py36] description = Run functional tests using python3.6. deps = {[testenv:functional]deps} commands = {[testenv:functional]commands} [testenv:functional-py37] description = Run functional tests using python3.7. deps = {[testenv:functional]deps} commands = {[testenv:functional]commands} ,18,29
openstack%2Fnova~stable%2Ftrain~Icb7e3379248fe00f9a94f9860181b5de44902379,openstack/nova,stable/train,Icb7e3379248fe00f9a94f9860181b5de44902379,Reproduce bug 1944759,NEW,2022-04-07 15:55:33.000000000,2022-06-01 11:55:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-07 15:55:33.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/61538121ebadaff2ccc4b4814e38481b540c1bde', 'message': 'Reproduce bug 1944759\n\nAdd functional tests to reproduce the race between resize_instance()\nand update_available_resources().\n\nConflict:\n  tests/functional/libvirt/test_numa_servers.py due to missing\n  _create_server helper and the need not to wait for vif plug in the\n  test.\n\nRelated-Bug: #1944759\n\nChange-Id: Icb7e3379248fe00f9a94f9860181b5de44902379\n(cherry picked from commit 3e4e4489b7a6e9cdefcc6ff02ed99a0a70420fca)\n(cherry picked from commit e6c6880465824f1e327a54143f32bb5a5816ff6c)\n(cherry picked from commit 140ae45d98dabd30aef5c0ac075346de4eabcea1)\n(cherry picked from commit 0b1fa9b4ae01114299c5225d66e1f6eba25be43e)\n(cherry picked from commit da328a814453ed2eea7108a23c498c4cf3ebe438)\n'}]",2,836993,61538121ebadaff2ccc4b4814e38481b540c1bde,7,1,1,9708,,,0,"Reproduce bug 1944759

Add functional tests to reproduce the race between resize_instance()
and update_available_resources().

Conflict:
  tests/functional/libvirt/test_numa_servers.py due to missing
  _create_server helper and the need not to wait for vif plug in the
  test.

Related-Bug: #1944759

Change-Id: Icb7e3379248fe00f9a94f9860181b5de44902379
(cherry picked from commit 3e4e4489b7a6e9cdefcc6ff02ed99a0a70420fca)
(cherry picked from commit e6c6880465824f1e327a54143f32bb5a5816ff6c)
(cherry picked from commit 140ae45d98dabd30aef5c0ac075346de4eabcea1)
(cherry picked from commit 0b1fa9b4ae01114299c5225d66e1f6eba25be43e)
(cherry picked from commit da328a814453ed2eea7108a23c498c4cf3ebe438)
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/836993/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_numa_servers.py'],1,61538121ebadaff2ccc4b4814e38481b540c1bde,bug/1944759," def _assert_pinned_cpus(self, hostname, expected_number_of_pinned): numa_topology = objects.NUMATopology.obj_from_db_obj( objects.ComputeNode.get_by_nodename( self.ctxt, hostname, ).numa_topology, ) self.assertEqual( expected_number_of_pinned, len(numa_topology.cells[0].pinned_cpus)) def _create_server_and_resize_bug_1944759(self): self.flags( cpu_dedicated_set='0-3', cpu_shared_set='4-7', group='compute') self.flags(vcpu_pin_set=None) # don't bother waiting for neutron events since we don't actually have # neutron self.flags(vif_plugging_timeout=0) # start services self.start_computes() flavor_a_id = self._create_flavor( vcpu=2, extra_spec={'hw:cpu_policy': 'dedicated'}) server = self.api.post_server( {'server': self._build_server(flavor_a_id)} ) server = self._wait_for_state_change(server, 'BUILD') src_host = server['OS-EXT-SRV-ATTR:host'] self._assert_pinned_cpus(src_host, 2) # we don't really care what the new flavor is, so long as the old # flavor is using pinning. We use a similar flavor for simplicity. flavor_b_id = self._create_flavor( vcpu=2, extra_spec={'hw:cpu_policy': 'dedicated'}) orig_rpc_finish_resize = nova.compute.rpcapi.ComputeAPI.finish_resize # Simulate that the finish_resize call overlaps with an # update_available_resource periodic job def inject_periodic_to_finish_resize(*args, **kwargs): self._run_periodics() return orig_rpc_finish_resize(*args, **kwargs) self.stub_out( 'nova.compute.rpcapi.ComputeAPI.finish_resize', inject_periodic_to_finish_resize, ) # TODO(stephenfin): The mock of 'migrate_disk_and_power_off' should # probably be less...dumb with mock.patch( 'nova.virt.libvirt.driver.LibvirtDriver' '.migrate_disk_and_power_off', return_value='{}', ): post = {'resize': {'flavorRef': flavor_b_id}} self.api.post_server_action(server['id'], post) server = self._wait_for_state_change(server, 'VERIFY_RESIZE') dst_host = server['OS-EXT-SRV-ATTR:host'] # This is a resource accounting bug, we should have 2 cpus pinned on # both computes. The source should have it due to the outbound # migration and the destination due to the instance running there self._assert_pinned_cpus(src_host, 0) self._assert_pinned_cpus(dst_host, 2) return server, src_host, dst_host def test_resize_confirm_bug_1944759(self): server, src_host, dst_host = ( self._create_server_and_resize_bug_1944759()) # Now confirm the resize post = {'confirmResize': None} # FIXME(gibi): This is bug 1944759 where during resize, on the source # node the resize_instance() call at the point of calling finish_resize # overlaps with a update_available_resources() periodic job. This # causes that the periodic job will not track the migration nor the # instance and therefore freeing the resource allocation. Then when # later the resize is confirmed the confirm_resize on the source # compute also wants to free up the resources, the pinned CPUs, and it # fails as they are already freed. exc = self.assertRaises( client.OpenStackApiException, self.api.post_server_action, server['id'], post ) self.assertEqual(500, exc.response.status_code) self.assertIn('CPUUnpinningInvalid', str(exc)) # confirm failed above but the resource allocation reflects that the # VM is running on the dest node self._assert_pinned_cpus(src_host, 0) self._assert_pinned_cpus(dst_host, 2) self._run_periodics() # and such allocation situation is stable so as a recovery the VM # can be reset-state to ACTIVE without problem. self._assert_pinned_cpus(src_host, 0) self._assert_pinned_cpus(dst_host, 2) def test_resize_revert_bug_1944759(self): server, src_host, dst_host = ( self._create_server_and_resize_bug_1944759()) # Now revert the resize post = {'revertResize': None} # reverts actually succeeds (not like confirm) but the resource # allocation is still flaky self.api.post_server_action(server['id'], post) self._wait_for_state_change(server, 'ACTIVE') # This is a resource accounting bug. After the revert the source host # should have 2 cpus pinned due to the instance. self._assert_pinned_cpus(src_host, 0) self._assert_pinned_cpus(dst_host, 0) # running the periodic job will fix the resource accounting self._run_periodics() # this is now correct self._assert_pinned_cpus(src_host, 2) self._assert_pinned_cpus(dst_host, 0) ",,126,0
openstack%2Fcloudkitty~master~I775420251d6e47f60c4a266b4013be84a52378da,openstack/cloudkitty,master,I775420251d6e47f60c4a266b4013be84a52378da,Drop lower-constraints.txt and its testing,MERGED,2022-04-30 20:58:17.000000000,2022-06-01 11:49:08.000000000,2022-06-01 11:46:21.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}]","[{'number': 1, 'created': '2022-04-30 20:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/49daf0868c2ab2483adffc2b7f8620ee67edf9d6', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I775420251d6e47f60c4a266b4013be84a52378da\n'}, {'number': 2, 'created': '2022-06-01 07:34:18.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/937a03b1713931e3e69949fd3a8d253538693c20', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I775420251d6e47f60c4a266b4013be84a52378da\n'}]",2,840038,937a03b1713931e3e69949fd3a8d253538693c20,14,3,2,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I775420251d6e47f60c4a266b4013be84a52378da
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/38/840038/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,49daf0868c2ab2483adffc2b7f8620ee67edf9d6,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,5,60
openstack%2Fnova~stable%2Fvictoria~If9ab424cc7375a1f0d41b03f01c4a823216b3eb8,openstack/nova,stable/victoria,If9ab424cc7375a1f0d41b03f01c4a823216b3eb8,Remove unavailable but not reported PCI devices at startup,NEW,2022-05-06 09:12:18.000000000,2022-06-01 11:36:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-06 09:12:18.000000000', 'files': ['nova/objects/pci_device.py', 'nova/pci/manager.py', 'nova/tests/unit/objects/test_pci_device.py', 'nova/tests/unit/pci/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fdf52a1b099683ec65f6f0488ef73c952d90e002', 'message': 'Remove unavailable but not reported PCI devices at startup\n\nWe saw in the field that the pci_devices table can end up in\ninconsistent state after a compute node HW failure and re-deployment.\nThere could be dependent devices where the parent PF is in available\nstate while the children VFs are in unavailable state. (Before the HW\nfault the PF was allocated hence the VFs was marked unavailable).\n\nIn this state this PF is still schedulable but during the\nPCI claim the handling of dependent devices in the PCI tracker fill fail\nwith the error: ""Attempt to consume PCI device XXX from empty pool"".\n\nThe reason of the failure is that when the PF is claimed, all the\nchildren VFs are marked unavailable. But if the VF is already\nunavailable such step fails.\n\nOne way the deployer might try to recover from this state is to remove\nthe VFs from the hypervisor and restart the compute agent. The compute\nstartup already has a logic to delete PCI devices that are unused and\nnot reported by the hypervisor. However this logic only removed devices\nin \'available\' state and ignored devices in \'unavailable\' state.\n\nIf a device is unused and the hypervisor is not reporting the device any\nmore then it is safe to delete that device from the PCI tracker. So this\npatch extends the logic to allow deleting \'unavailable\' devices. There\nis a small window when dependent PCI device is in \'unclaimable\' state.\nFrom cleanup perspective this is an analogous state. So it is also\nadded to the cleanup logic.\n\nRelated-Bug: #1969496\nChange-Id: If9ab424cc7375a1f0d41b03f01c4a823216b3eb8\n(cherry picked from commit 284ea72e96604bdf16d1c5c4db47247334841b2f)\n(cherry picked from commit d7bca631fea348fb56cc46c5680643bacd82513e)\n(cherry picked from commit 580a4b14ae367e327229482decca0cb6cdf6e9d8)\n(cherry picked from commit 59ae44754ebce106b23bc697a822d181cdda41c6)\n'}]",2,840846,fdf52a1b099683ec65f6f0488ef73c952d90e002,13,1,1,9708,,,0,"Remove unavailable but not reported PCI devices at startup

We saw in the field that the pci_devices table can end up in
inconsistent state after a compute node HW failure and re-deployment.
There could be dependent devices where the parent PF is in available
state while the children VFs are in unavailable state. (Before the HW
fault the PF was allocated hence the VFs was marked unavailable).

In this state this PF is still schedulable but during the
PCI claim the handling of dependent devices in the PCI tracker fill fail
with the error: ""Attempt to consume PCI device XXX from empty pool"".

The reason of the failure is that when the PF is claimed, all the
children VFs are marked unavailable. But if the VF is already
unavailable such step fails.

One way the deployer might try to recover from this state is to remove
the VFs from the hypervisor and restart the compute agent. The compute
startup already has a logic to delete PCI devices that are unused and
not reported by the hypervisor. However this logic only removed devices
in 'available' state and ignored devices in 'unavailable' state.

If a device is unused and the hypervisor is not reporting the device any
more then it is safe to delete that device from the PCI tracker. So this
patch extends the logic to allow deleting 'unavailable' devices. There
is a small window when dependent PCI device is in 'unclaimable' state.
From cleanup perspective this is an analogous state. So it is also
added to the cleanup logic.

Related-Bug: #1969496
Change-Id: If9ab424cc7375a1f0d41b03f01c4a823216b3eb8
(cherry picked from commit 284ea72e96604bdf16d1c5c4db47247334841b2f)
(cherry picked from commit d7bca631fea348fb56cc46c5680643bacd82513e)
(cherry picked from commit 580a4b14ae367e327229482decca0cb6cdf6e9d8)
(cherry picked from commit 59ae44754ebce106b23bc697a822d181cdda41c6)
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/840846/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/pci_device.py', 'nova/pci/manager.py', 'nova/tests/unit/objects/test_pci_device.py', 'nova/tests/unit/pci/test_manager.py']",4,fdf52a1b099683ec65f6f0488ef73c952d90e002,bug/1969496," def _get_device_by_address(self, address): devs = [dev for dev in self.tracker.pci_devs if dev.address == address] if len(devs) == 1: return devs[0] if devs: raise ValueError('ambiguous address', devs) else: raise ValueError('device not found', address) def test_set_hvdevs_unavailable_vf_removed(self): # We start with a PF parent and two VF children self._create_tracker([fake_db_dev_3, fake_db_dev_4, fake_db_dev_5]) pci_requests_obj = self._create_pci_requests_object( [ { 'count': 1, 'spec': [{'dev_type': fields.PciDeviceType.SRIOV_PF}] } ], instance_uuid=uuidsentinel.instance1, ) # then claim and allocate the PF that makes the VFs unavailable self.tracker.claim_instance( mock.sentinel.context, pci_requests_obj, None) self.tracker.allocate_instance({'uuid': uuidsentinel.instance1}) dev3_pf = self._get_device_by_address(fake_db_dev_3['address']) self.assertEqual('allocated', dev3_pf.status) self.assertEqual(uuidsentinel.instance1, dev3_pf.instance_uuid) dev4_vf = self._get_device_by_address(fake_db_dev_4['address']) self.assertEqual('unavailable', dev4_vf.status) dev5_vf = self._get_device_by_address(fake_db_dev_5['address']) self.assertEqual('unavailable', dev5_vf.status) # now simulate that one VF (dev_5) is removed from the hypervisor and # the compute is restarted. As the VF is not claimed or allocated we # are free to remove it from the tracker. self.tracker._set_hvdevs(copy.deepcopy([fake_pci_3, fake_pci_4])) dev3_pf = self._get_device_by_address(fake_db_dev_3['address']) self.assertEqual('allocated', dev3_pf.status) self.assertEqual(uuidsentinel.instance1, dev3_pf.instance_uuid) dev4_vf = self._get_device_by_address(fake_db_dev_4['address']) self.assertEqual('unavailable', dev4_vf.status) dev5_vf = self._get_device_by_address(fake_db_dev_5['address']) self.assertEqual('removed', dev5_vf.status) def test_set_hvdevs_unavailable_pf_removed(self): # We start with one PF parent and one child VF self._create_tracker([fake_db_dev_3, fake_db_dev_4]) pci_requests_obj = self._create_pci_requests_object( [ { 'count': 1, 'spec': [{'dev_type': fields.PciDeviceType.SRIOV_VF}] } ], instance_uuid=uuidsentinel.instance1, ) # Then we claim and allocate the VF that makes the PF unavailable self.tracker.claim_instance( mock.sentinel.context, pci_requests_obj, None) self.tracker.allocate_instance({'uuid': uuidsentinel.instance1}) dev3_pf = self._get_device_by_address(fake_db_dev_3['address']) self.assertEqual('unavailable', dev3_pf.status) dev4_vf = self._get_device_by_address(fake_db_dev_4['address']) self.assertEqual('allocated', dev4_vf.status) self.assertEqual(uuidsentinel.instance1, dev4_vf.instance_uuid) # now simulate that the parent PF is removed from the hypervisor and # the compute is restarted. As the PF is not claimed or allocated we # are free to remove it from the tracker. self.tracker._set_hvdevs(copy.deepcopy([fake_pci_4])) dev3_pf = self._get_device_by_address(fake_db_dev_3['address']) self.assertEqual('removed', dev3_pf.status) dev4_vf = self._get_device_by_address(fake_db_dev_4['address']) self.assertEqual('allocated', dev4_vf.status) self.assertEqual(uuidsentinel.instance1, dev4_vf.instance_uuid) ",,123,7
openstack%2Fcloudkitty~master~I95f2ff931ff987a288d3db40606f7ab28fe7fe64,openstack/cloudkitty,master,I95f2ff931ff987a288d3db40606f7ab28fe7fe64,[CI] Move queue setting to project level,MERGED,2022-05-20 08:38:22.000000000,2022-06-01 11:33:31.000000000,2022-06-01 11:30:16.000000000,"[{'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2022-05-20 08:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/910867b037e02f5558dd414b9f71916ecb1d62e6', 'message': '[CI] Move queue setting to project level\n\nPer [1].\n\n[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I95f2ff931ff987a288d3db40606f7ab28fe7fe64\n'}, {'number': 2, 'created': '2022-06-01 07:34:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/ed53054c184a191bdd44e636f2928e18308af95e', 'message': '[CI] Move queue setting to project level\n\nPer [1].\n\n[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I95f2ff931ff987a288d3db40606f7ab28fe7fe64\n'}]",1,842691,ed53054c184a191bdd44e636f2928e18308af95e,11,3,2,15197,,,0,"[CI] Move queue setting to project level

Per [1].

[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Change-Id: I95f2ff931ff987a288d3db40606f7ab28fe7fe64
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/91/842691/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,910867b037e02f5558dd414b9f71916ecb1d62e6,zuul-queue, queue: cloudkitty, queue: cloudkitty,1,1
openstack%2Fnova~master~Iedc268072d77771b208603e663b0ce9b94215eb8,openstack/nova,master,Iedc268072d77771b208603e663b0ce9b94215eb8,Fix typos in help messages,MERGED,2022-05-30 11:56:22.000000000,2022-06-01 10:53:25.000000000,2022-06-01 10:50:06.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 19234}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-30 11:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2f5cbc000a4b27ca5f0805139a9f37c084184bd', 'message': 'Fix typos in help messages\n\nThis change fixes typos in conf parameter help messages\nand in error log message.\n\nChange-Id: Iedc268072d77771b208603e663b0ce9b94215eb8\n'}, {'number': 2, 'created': '2022-05-30 11:58:45.000000000', 'files': ['nova/conf/compute.py', 'nova/conf/neutron.py', 'nova/conf/hyperv.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/conf/quota.py', 'nova/conf/libvirt.py', 'nova/conf/scheduler.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aa1e7a6933df221e72a1371d286a63a9a08ce90a', 'message': 'Fix typos in help messages\n\nThis change fixes typos in conf parameter help messages\nand in error log message.\n\nChange-Id: Iedc268072d77771b208603e663b0ce9b94215eb8\n'}]",0,843843,aa1e7a6933df221e72a1371d286a63a9a08ce90a,16,7,2,20733,,,0,"Fix typos in help messages

This change fixes typos in conf parameter help messages
and in error log message.

Change-Id: Iedc268072d77771b208603e663b0ce9b94215eb8
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/843843/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/conf/neutron.py', 'nova/conf/hyperv.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/conf/quota.py', 'nova/conf/libvirt.py', 'nova/block_device.py', 'nova/conf/scheduler.py', 'nova/compute/resource_tracker.py']",9,d2f5cbc000a4b27ca5f0805139a9f37c084184bd,help-typo," ""virt driver or specified via the placement api. """," ""virt driver or specified via the placment api. """,11,11
openstack%2Fnova~stable%2Ftrain~I20d6339a5203aed058f432f68e2ec1af57030401,openstack/nova,stable/train,I20d6339a5203aed058f432f68e2ec1af57030401,Define new functional test tox env for placement gate to run,MERGED,2022-05-05 22:24:36.000000000,2022-06-01 10:52:38.000000000,2022-06-01 10:50:25.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-05 22:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6614ad955b283861bd6ffd989f54332b5f624e13', 'message': ""Define new functional test tox env for placement gate to run\n\nWe have placement-nova-tox-functional-py38 job defined and run\non placement gate[1] to run the nova functional test excluding\napi and notification _sample_tests, and db-related tests but that\njob skip those tests via tox_extra_args which is not right way\nto do as we currently facing error when tox_extra_args is included\nin tox siblings task\n- https://opendev.org/zuul/zuul-jobs/commit/c02c28a982da8d5a9e7b4ca38d30967f6cd1531d\n\n- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4\n\nLet's define a new tox env which can exclude the required test\nin stestr command itself.\n\n[1] https://opendev.org/openstack/placement/src/commit/bd5b19c00e1ab293fc157f4699bc4f4719731c25/.zuul.yaml#L83\n\nChange-Id: I20d6339a5203aed058f432f68e2ec1af57030401\n(cherry picked from commit 7b063e4d0518af3e57872bc0288a94edcd33c19d)\n(cherry picked from commit 64f5c1cfb0e7223603c06e22a204716919d05294)\n(cherry picked from commit baf0d93e0fafcd992d37543aa9df3f6dc248a738)\n(cherry picked from commit d218250eb53791012f49825140e2592dab89e69c)\n(cherry picked from commit 10724184d615450062875e68bf93f4056ec760c4)\n""}, {'number': 2, 'created': '2022-06-01 00:19:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/2ccc50a49b8440d024e4fb9e36b2772a438b3788', 'message': ""Define new functional test tox env for placement gate to run\n\nWe have placement-nova-tox-functional-py38 job defined and run\non placement gate[1] to run the nova functional test excluding\napi and notification _sample_tests, and db-related tests but that\njob skip those tests via tox_extra_args which is not right way\nto do as we currently facing error when tox_extra_args is included\nin tox siblings task\n- https://opendev.org/zuul/zuul-jobs/commit/c02c28a982da8d5a9e7b4ca38d30967f6cd1531d\n\n- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4\n\nLet's define a new tox env which can exclude the required test\nin stestr command itself.\n\nConflicts:\n    tox.ini\n\nNOTE(melwitt): The conflict is because change\nI1d6a2986fcb0435cfabdd104d202b65329909d2b (Moving functional jobs to\nVictoria testing runtime) is not in Ussuri. The stestr option for the\nexclude regex also had to be changed because --exclude-regex is not in\nstestr 3.0.1, the version installed in Ussuri.\n\n[1] https://opendev.org/openstack/placement/src/commit/bd5b19c00e1ab293fc157f4699bc4f4719731c25/.zuul.yaml#L83\n\nChange-Id: I20d6339a5203aed058f432f68e2ec1af57030401\n(cherry picked from commit 7b063e4d0518af3e57872bc0288a94edcd33c19d)\n(cherry picked from commit 64f5c1cfb0e7223603c06e22a204716919d05294)\n(cherry picked from commit baf0d93e0fafcd992d37543aa9df3f6dc248a738)\n(cherry picked from commit d218250eb53791012f49825140e2592dab89e69c)\n(cherry picked from commit 6e6c69f2f4a917b63ed5636d386d2c908268a7f0)\n""}]",6,840777,2ccc50a49b8440d024e4fb9e36b2772a438b3788,16,2,2,4690,,,0,"Define new functional test tox env for placement gate to run

We have placement-nova-tox-functional-py38 job defined and run
on placement gate[1] to run the nova functional test excluding
api and notification _sample_tests, and db-related tests but that
job skip those tests via tox_extra_args which is not right way
to do as we currently facing error when tox_extra_args is included
in tox siblings task
- https://opendev.org/zuul/zuul-jobs/commit/c02c28a982da8d5a9e7b4ca38d30967f6cd1531d

- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4

Let's define a new tox env which can exclude the required test
in stestr command itself.

Conflicts:
    tox.ini

NOTE(melwitt): The conflict is because change
I1d6a2986fcb0435cfabdd104d202b65329909d2b (Moving functional jobs to
Victoria testing runtime) is not in Ussuri. The stestr option for the
exclude regex also had to be changed because --exclude-regex is not in
stestr 3.0.1, the version installed in Ussuri.

[1] https://opendev.org/openstack/placement/src/commit/bd5b19c00e1ab293fc157f4699bc4f4719731c25/.zuul.yaml#L83

Change-Id: I20d6339a5203aed058f432f68e2ec1af57030401
(cherry picked from commit 7b063e4d0518af3e57872bc0288a94edcd33c19d)
(cherry picked from commit 64f5c1cfb0e7223603c06e22a204716919d05294)
(cherry picked from commit baf0d93e0fafcd992d37543aa9df3f6dc248a738)
(cherry picked from commit d218250eb53791012f49825140e2592dab89e69c)
(cherry picked from commit 6e6c69f2f4a917b63ed5636d386d2c908268a7f0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/840777/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6614ad955b283861bd6ffd989f54332b5f624e13,,[testenv:functional-without-sample-db-tests] description = Run functional tests by excluding the API|Notification sample tests and DB tests. This env is used in placement-nova-tox-functional-py38 job which is defined and run in placement. deps = {[testenv:functional]deps} commands = stestr --test-path=./nova/tests/functional run --exclude-regex '((?:api|notification)_sample_tests|functional\.db\.)' {posargs} ,,10,0
openstack%2Fneutron~stable%2Fwallaby~Idc6478e6f0fd1a2825b2c978b41feb5dab903357,openstack/neutron,stable/wallaby,Idc6478e6f0fd1a2825b2c978b41feb5dab903357,"[OVN] During the DB migration, allow the DB context to finish",MERGED,2022-05-26 15:20:07.000000000,2022-06-01 10:51:51.000000000,2022-06-01 10:50:00.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-05-26 15:20:07.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/db_migration.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d3a42270b52e2a3bbbdba2894b8ce410e2ab855', 'message': '[OVN] During the DB migration, allow the DB context to finish\n\nDuring the execution of ""migrate_neutron_database_to_ovn"", that is\npart of the OVN database migration process, the port bindings are\nupdated. If by any circumstance a port binding update fails, the\ndatabase write context should end properly (rolling back the\ntransaction) and any exception raise should be catched outside it.\n\nCloses-Bug: #1975692\nChange-Id: Idc6478e6f0fd1a2825b2c978b41feb5dab903357\n(cherry picked from commit 3c637a2d127f7fdac5874fd9ed1b01137d303c7f)\n'}]",6,843490,5d3a42270b52e2a3bbbdba2894b8ce410e2ab855,44,4,1,16688,,,0,"[OVN] During the DB migration, allow the DB context to finish

During the execution of ""migrate_neutron_database_to_ovn"", that is
part of the OVN database migration process, the port bindings are
updated. If by any circumstance a port binding update fails, the
database write context should end properly (rolling back the
transaction) and any exception raise should be catched outside it.

Closes-Bug: #1975692
Change-Id: Idc6478e6f0fd1a2825b2c978b41feb5dab903357
(cherry picked from commit 3c637a2d127f7fdac5874fd9ed1b01137d303c7f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/843490/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/db_migration.py'],1,5d3a42270b52e2a3bbbdba2894b8ce410e2ab855,bug/1975692," try: with db_api.CONTEXT_WRITER.using(ctx): pb = port_obj.PortBinding.get_object(ctx, port_id=port_id, host=host) if not pb or not pb.vif_details: continue vif_details = pb.vif_details.copy() for detail in VIF_DETAILS_TO_REMOVE: try: del vif_details[detail] except KeyError: pass if vif_details == pb.vif_details: continue pb.vif_details = vif_details except (exceptions.ObjectNotFound, sqla_exc.StaleDataError, db_exc.DBDeadlock): # The PortBinding register has been already modified. pb_missed.add(port_id)"," with db_api.CONTEXT_WRITER.using(ctx): pb = port_obj.PortBinding.get_object(ctx, port_id=port_id, host=host) if not pb or not pb.vif_details: continue vif_details = pb.vif_details.copy() for detail in VIF_DETAILS_TO_REMOVE: try: del vif_details[detail] except KeyError: pass if vif_details == pb.vif_details: continue pb.vif_details = vif_details try: except (exceptions.ObjectNotFound, sqla_exc.StaleDataError, db_exc.DBDeadlock): # The PortBinding register has been already modified. pb_missed.add(port_id)",20,20
openstack%2Ftempest~master~I83c6a5d49f5d4da05deb677907e5048ecdd2242b,openstack/tempest,master,I83c6a5d49f5d4da05deb677907e5048ecdd2242b,Validate network downtime during live migration,MERGED,2022-02-10 10:36:28.000000000,2022-06-01 10:51:35.000000000,2022-06-01 10:49:56.000000000,"[{'_account_id': 8556}, {'_account_id': 9656}, {'_account_id': 11075}, {'_account_id': 16688}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23804}, {'_account_id': 30674}]","[{'number': 1, 'created': '2022-02-10 10:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a9d1ba7a7b3e48872537d8ee371bdd29e0b708e9', 'message': 'Validate network downtime during live migration\n\nThis patch adds the ability to measure network downtime during live\nmigration process. There were added functions to start and stop\na background pinger process and also read status from it.\n\nChange-Id: I83c6a5d49f5d4da05deb677907e5048ecdd2242b\n'}, {'number': 2, 'created': '2022-02-13 16:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/322c1e77a5c3d2f90774a8f6eca3f7336365773f', 'message': 'Validate network downtime during live migration\n\nThis patch adds the ability to measure network downtime during live\nmigration process. There were added functions to start and stop\na background pinger process and also read status from it.\nThe downtime measurement has 0.01 seconds granularity.\nIn order to reduce overall traffic the ping payload size set to\nminimal value.\n\nChange-Id: I83c6a5d49f5d4da05deb677907e5048ecdd2242b\n'}, {'number': 3, 'created': '2022-02-13 20:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5c631bdbe936f3fcee07b77257b6a9e974ecd42a', 'message': 'Validate network downtime during live migration\n\nThis patch adds the ability to measure network downtime during live\nmigration process. There were added functions to start and stop\na background pinger process and also read status from it.\nThe downtime measurement has 0.2 seconds granularity.\nIn order to reduce overall traffic the ping payload size set to\nminimal value.\n\nChange-Id: I83c6a5d49f5d4da05deb677907e5048ecdd2242b\n'}, {'number': 4, 'created': '2022-04-19 09:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/beea4cd389f2bf71e643a949cd031735b5e1b2c9', 'message': 'Validate network downtime during live migration\n\nThis patch adds the ability to measure network downtime during live\nmigration process.\nA fixture has been added to start and stop a background pinger\nprocess and also read status from it.\nThe downtime measurement has 0.2 seconds granularity.\nIn order to reduce overall traffic the ping payload size set to\nminimal value.\n\nChange-Id: I83c6a5d49f5d4da05deb677907e5048ecdd2242b\n'}, {'number': 5, 'created': '2022-04-19 09:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d03886a4305981983f15d1cc255506d82e58e7d2', 'message': 'Validate network downtime during live migration\n\nThis patch adds the ability to measure network downtime during live\nmigration process.\nA fixture has been added to start and stop a background pinger\nprocess and also read status from it.\nThe downtime measurement has 0.2 seconds granularity.\nIn order to reduce overall traffic the ping payload size set to\nminimal value.\n\nChange-Id: I83c6a5d49f5d4da05deb677907e5048ecdd2242b\n'}, {'number': 6, 'created': '2022-04-21 09:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ea6bf3b41e34f3b3267b7e681690885b892a381f', 'message': 'Validate network downtime during live migration\n\nThis patch adds the ability to measure network downtime during live\nmigration process.\nA fixture has been added to start and stop a background pinger\nprocess and also read status from it.\nThe downtime measurement has 0.2 seconds granularity.\nIn order to reduce overall traffic the ping payload size set to\nminimal value.\n\nChange-Id: I83c6a5d49f5d4da05deb677907e5048ecdd2242b\n'}, {'number': 7, 'created': '2022-04-21 11:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c6fa8b0e2169699719433df0003a779b2371b57a', 'message': 'Validate network downtime during live migration\n\nThis patch adds the ability to measure network downtime during live\nmigration process.\nA fixture has been added to start and stop a background pinger\nprocess and also read status from it.\nThe downtime measurement has 0.2 seconds granularity.\nIn order to reduce overall traffic the ping payload size set to\nminimal value.\n\nChange-Id: I83c6a5d49f5d4da05deb677907e5048ecdd2242b\n'}, {'number': 8, 'created': '2022-04-27 17:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9f282534a4338304196a5b8c448d0fa0c282d1a6', 'message': 'Validate network downtime during live migration\n\nThis patch adds the ability to measure network downtime during live\nmigration process.\nA fixture has been added to start and stop a background pinger\nprocess and also read status from it.\nThe downtime measurement has 0.2 seconds granularity.\nIn order to reduce overall traffic the ping payload size set to\nminimal value.\n\nChange-Id: I83c6a5d49f5d4da05deb677907e5048ecdd2242b\n'}, {'number': 9, 'created': '2022-05-04 09:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/164967145fc4a1d6304567f3147be41311ba5f55', 'message': 'Validate network downtime during live migration\n\nThis patch adds the ability to measure network downtime during live\nmigration process.\nA fixture has been added to start and stop a background pinger\nprocess and also read status from it.\nThe downtime measurement has 0.2 seconds granularity.\nIn order to reduce overall traffic the ping payload size set to\nminimal value.\n\nChange-Id: I83c6a5d49f5d4da05deb677907e5048ecdd2242b\n'}, {'number': 10, 'created': '2022-05-04 15:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d73d25df513c10600cf3460efeb940e64996edd5', 'message': 'Validate network downtime during live migration\n\nThis patch adds the ability to measure network downtime during live\nmigration process.\nA fixture has been added to start and stop a background pinger\nprocess and also read status from it.\nThe downtime measurement has 0.2 seconds granularity.\nIn order to reduce overall traffic the ping payload size set to\nminimal value.\n\nChange-Id: I83c6a5d49f5d4da05deb677907e5048ecdd2242b\n'}, {'number': 11, 'created': '2022-05-09 15:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/505cfb1205c7e8de79ee9493cfd67008f4dea510', 'message': 'Validate network downtime during live migration\n\nThis patch adds the ability to measure network downtime during live\nmigration process.\nA fixture has been added to start and stop a background pinger\nprocess and also read status from it.\nThe downtime measurement has 0.2 seconds granularity.\nIn order to reduce overall traffic the ping payload size set to\nminimal value.\n\nChange-Id: I83c6a5d49f5d4da05deb677907e5048ecdd2242b\n'}, {'number': 12, 'created': '2022-05-09 16:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5928ff9bf84e3494aa8bde4843d544b6ae4ceeee', 'message': 'Validate network downtime during live migration\n\nThis patch adds the ability to measure network downtime during live\nmigration process.\nA fixture has been added to start and stop a background pinger\nprocess and also read status from it.\nThe downtime measurement has 0.2 seconds granularity.\nIn order to reduce overall traffic the ping payload size set to\nminimal value.\n\nChange-Id: I83c6a5d49f5d4da05deb677907e5048ecdd2242b\n'}, {'number': 13, 'created': '2022-05-18 07:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6af436f0cc565cf996f440eccb1a9ee42174c983', 'message': 'Validate network downtime during live migration\n\nThis patch adds the ability to measure network downtime during live\nmigration process.\nA fixture has been added to start and stop a background pinger\nprocess and also read status from it.\nThe downtime measurement has 0.2 seconds granularity.\nIn order to reduce overall traffic the ping payload size set to\nminimal value.\n\nChange-Id: I83c6a5d49f5d4da05deb677907e5048ecdd2242b\n'}, {'number': 14, 'created': '2022-05-19 13:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cc47d31984988fa65675a252c44d8c70e816f80d', 'message': 'Validate network downtime during live migration\n\nThis patch adds the ability to measure network downtime during live\nmigration process.\nA fixture has been added to start and stop a background pinger\nprocess and also read status from it.\nThe downtime measurement has 0.2 seconds granularity.\nIn order to reduce overall traffic the ping payload size set to\nminimal value.\n\nChange-Id: I83c6a5d49f5d4da05deb677907e5048ecdd2242b\n'}, {'number': 15, 'created': '2022-05-19 16:41:21.000000000', 'files': ['releasenotes/notes/measure-downtime-during-live-migration-5e8305be270de680.yaml', 'tempest/common/utils/net_downtime.py', 'tempest/config.py', 'tempest/scenario/test_network_advanced_server_ops.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/72575889c834b9e93923102e4f5ee82e1031276f', 'message': 'Validate network downtime during live migration\n\nThis patch adds the ability to measure network downtime during live\nmigration process.\nA fixture has been added to start and stop a background pinger\nprocess and also read status from it.\nThe downtime measurement has 0.2 seconds granularity.\nIn order to reduce overall traffic the ping payload size set to\nminimal value.\n\nChange-Id: I83c6a5d49f5d4da05deb677907e5048ecdd2242b\n'}]",59,828686,72575889c834b9e93923102e4f5ee82e1031276f,64,9,15,29350,,,0,"Validate network downtime during live migration

This patch adds the ability to measure network downtime during live
migration process.
A fixture has been added to start and stop a background pinger
process and also read status from it.
The downtime measurement has 0.2 seconds granularity.
In order to reduce overall traffic the ping payload size set to
minimal value.

Change-Id: I83c6a5d49f5d4da05deb677907e5048ecdd2242b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/86/828686/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/scenario/manager.py', 'tempest/config.py', 'tempest/scenario/test_network_advanced_server_ops.py']",3,a9d1ba7a7b3e48872537d8ee371bdd29e0b708e9,measure_live_migration_downtime,"from oslo_log import logLOG = log.getLogger(__name__) pinger = self.start_background_pinger( floating_ip['floating_ip_address']) self.addCleanup(self.stop_background_pinger, pinger.pid) downtime = self.get_pinger_downtime(pinger) LOG.debug(""Downtime = {}"".format(downtime)) allowed_downtime = CONF.validation.allowed_network_downtime self.assertLess( downtime, allowed_downtime, ""Downtime of {} seconds is higher than expected '{}'"".format( downtime, allowed_downtime)) ",,46,0
openstack%2Fopenstack-ansible~master~Ice35b700ed6ca79a00180a500b8e2b985dbf830b,openstack/openstack-ansible,master,Ice35b700ed6ca79a00180a500b8e2b985dbf830b,[doc] Add CentOS 9 Stream to supported,MERGED,2022-05-31 16:19:04.000000000,2022-06-01 10:35:52.000000000,2022-06-01 10:31:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-31 16:19:04.000000000', 'files': ['deploy-guide/source/deploymenthost.rst', 'deploy-guide/source/overview-requirements.rst', 'doc/source/admin/upgrades/os-compatibility-matrix.html', 'deploy-guide/source/targethosts-prepare.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dc668a6a1f9565a225a2540a8d51388aae099fe0', 'message': '[doc] Add CentOS 9 Stream to supported\n\nBasically we fix list of supported distros in docs and inside code.\n\nChange-Id: Ice35b700ed6ca79a00180a500b8e2b985dbf830b\n'}]",0,844104,dc668a6a1f9565a225a2540a8d51388aae099fe0,8,3,1,28619,,,0,"[doc] Add CentOS 9 Stream to supported

Basically we fix list of supported distros in docs and inside code.

Change-Id: Ice35b700ed6ca79a00180a500b8e2b985dbf830b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/04/844104/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/deploymenthost.rst', 'deploy-guide/source/overview-requirements.rst', 'doc/source/admin/upgrades/os-compatibility-matrix.html', 'deploy-guide/source/targethosts-prepare.rst']",4,dc668a6a1f9565a225a2540a8d51388aae099fe0,osa-jammy,* Debian 11 64-bit* Centos 9 Stream 64-bit,* Debian 10 64-bit,9,2
openstack%2Fopenstack-ansible~stable%2Fxena~Iae5a1806ea0f8a134a696dc39c9104018ba3434a,openstack/openstack-ansible,stable/xena,Iae5a1806ea0f8a134a696dc39c9104018ba3434a,[doc] Fix supporeted Debian version for Xena,MERGED,2022-05-31 16:20:30.000000000,2022-06-01 10:34:33.000000000,2022-06-01 10:31:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-31 16:20:30.000000000', 'files': ['deploy-guide/source/targethosts-prepare.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0885aa4ddb715d24207fc655d0c4afcb0b34f8e5', 'message': '[doc] Fix supporeted Debian version for Xena\n\nChange-Id: Iae5a1806ea0f8a134a696dc39c9104018ba3434a\n'}]",0,844105,0885aa4ddb715d24207fc655d0c4afcb0b34f8e5,8,3,1,28619,,,0,"[doc] Fix supporeted Debian version for Xena

Change-Id: Iae5a1806ea0f8a134a696dc39c9104018ba3434a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/05/844105/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/targethosts-prepare.rst'],1,0885aa4ddb715d24207fc655d0c4afcb0b34f8e5,,* Debian 11 64-bit,,1,0
openstack%2Fopenstack-ansible~master~Ieee9c0d690d4e8207a0806bd385ffccc12188906,openstack/openstack-ansible,master,Ieee9c0d690d4e8207a0806bd385ffccc12188906,Add experimental Ubuntu 22.04 support,MERGED,2022-04-27 08:01:47.000000000,2022-06-01 10:34:27.000000000,2022-06-01 10:31:31.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-04-27 08:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4eb2cd58d665ba01304a7594aac1740f416babef', 'message': 'WIP - Support Ubuntu 22.04\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/838836\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/838830\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/838832\nChange-Id: Ieee9c0d690d4e8207a0806bd385ffccc12188906\n'}, {'number': 2, 'created': '2022-04-27 08:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5ef6f0864e4c28df62207588ea530bcda9e01dca', 'message': 'WIP - Support Ubuntu 22.04\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/838836\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/838830\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/838832\nChange-Id: Ieee9c0d690d4e8207a0806bd385ffccc12188906\n'}, {'number': 3, 'created': '2022-04-27 09:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4f0e1a71234caa2907d051dae6df56c5176fb0dc', 'message': 'WIP - Support Ubuntu 22.04\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/838836\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/838830\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/838832\nChange-Id: Ieee9c0d690d4e8207a0806bd385ffccc12188906\n'}, {'number': 4, 'created': '2022-04-27 09:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4c86e0d3d3befd61ca4d953f56a535814354dcc2', 'message': 'WIP - Support Ubuntu 22.04\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/838836\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/838830\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/838832\nChange-Id: Ieee9c0d690d4e8207a0806bd385ffccc12188906\n'}, {'number': 5, 'created': '2022-04-27 11:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8f3d3c727dc5a8b7b77185f60e5b6e98b091ff75', 'message': 'WIP - Support Ubuntu 22.04\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/838836\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/838830\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/838832\nChange-Id: Ieee9c0d690d4e8207a0806bd385ffccc12188906\n'}, {'number': 6, 'created': '2022-04-27 12:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8b723a027236f656be8a8ac1b6b49698b7c1821a', 'message': 'WIP - Support Ubuntu 22.04\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/838836\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/838830\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/838832\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/839521\nChange-Id: Ieee9c0d690d4e8207a0806bd385ffccc12188906\n'}, {'number': 7, 'created': '2022-04-27 15:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/586c52fce5cf0a47d89d2f62cc4d61a59083f81d', 'message': 'WIP - Support Ubuntu 22.04\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/838836\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/838830\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/838832\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/839521\nChange-Id: Ieee9c0d690d4e8207a0806bd385ffccc12188906\n'}, {'number': 8, 'created': '2022-05-03 08:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9942631d12d5c2bcca6ba9ac12c5e3e1b36cd486', 'message': 'WIP - Support Ubuntu 22.04\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/838836\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/838830\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/838832\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/839521\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_horizon/+/840278\nChange-Id: Ieee9c0d690d4e8207a0806bd385ffccc12188906\n'}, {'number': 9, 'created': '2022-05-03 14:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2aa2a6f85176456f0a4ced4fa0dd1d9070459e01', 'message': 'WIP - Support Ubuntu 22.04\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/838836\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/838830\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/838832\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/839521\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_horizon/+/840278\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/840313\nChange-Id: Ieee9c0d690d4e8207a0806bd385ffccc12188906\n'}, {'number': 10, 'created': '2022-05-04 12:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2563416211e0f5836e65486be1d8ca1db414b9d9', 'message': 'Add experimental Ubuntu 22.04 support\n\nThis is not officially supported by openstack for the Yoga\nrelease due to 22.04 shipping python3.10, but the jobs are\npassing with only small adjustments so experimental support\nis added during the Yoga release.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/838836\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/838830\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/838832\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/839521\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_horizon/+/840278\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/840313\nChange-Id: Ieee9c0d690d4e8207a0806bd385ffccc12188906\n'}, {'number': 11, 'created': '2022-05-04 20:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/48eaea3e847067b8c6e04a6675bac1d3075f0f31', 'message': 'Add experimental Ubuntu 22.04 support\n\nThis is not officially supported by openstack for the Yoga\nrelease due to 22.04 shipping python3.10, but the jobs are\npassing with only small adjustments so experimental support\nis added during the Yoga release.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/838836\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/838830\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/838832\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/839521\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_horizon/+/840278\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/840313\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/840518\nChange-Id: Ieee9c0d690d4e8207a0806bd385ffccc12188906\n'}, {'number': 12, 'created': '2022-05-05 05:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c75ac0d416f2d51f7bd90aa00fa7b3de492e3141', 'message': 'Add experimental Ubuntu 22.04 support\n\nThis is not officially supported by openstack for the Yoga\nrelease due to 22.04 shipping python3.10, but the jobs are\npassing with only small adjustments so experimental support\nis added during the Yoga release.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/838836\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/838830\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/838832\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/839521\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_horizon/+/840278\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/840313\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/840518\nChange-Id: Ieee9c0d690d4e8207a0806bd385ffccc12188906\n'}, {'number': 13, 'created': '2022-05-31 16:02:01.000000000', 'files': ['zuul.d/project-templates.yaml', 'tests/roles/bootstrap-host/tasks/check-requirements.yml', 'zuul.d/playbooks/pre-gate-cleanup.yml', 'zuul.d/jobs.yaml', 'playbooks/openstack-hosts-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/566d4ec5de3c6338adf7f99f672edad4e6afd5a0', 'message': 'Add experimental Ubuntu 22.04 support\n\nThis is not officially supported by openstack for the Yoga\nrelease due to 22.04 shipping python3.10, but the jobs are\npassing with only small adjustments so experimental support\nis added during the Yoga release.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/838836\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/838830\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/838832\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/839521\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_horizon/+/840278\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/840313\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/840518\nChange-Id: Ieee9c0d690d4e8207a0806bd385ffccc12188906\n'}]",8,839483,566d4ec5de3c6338adf7f99f672edad4e6afd5a0,45,3,13,25023,,,0,"Add experimental Ubuntu 22.04 support

This is not officially supported by openstack for the Yoga
release due to 22.04 shipping python3.10, but the jobs are
passing with only small adjustments so experimental support
is added during the Yoga release.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/838836
Depends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/838830
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/838832
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/839521
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_horizon/+/840278
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/840313
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/840518
Change-Id: Ieee9c0d690d4e8207a0806bd385ffccc12188906
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/83/839483/13 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/tasks/check-requirements.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",3,4eb2cd58d665ba01304a7594aac1740f416babef,osa-jammy,# ubuntu jammy - job: name: openstack-ansible-deploy-aio_lxc-ubuntu-jammy parent: openstack-ansible-deploy-aio nodeset: nodes: - label: ubuntu-jammy name: ubuntu-jammy - job: name: openstack-ansible-deploy-aio_metal-ubuntu-jammy parent: openstack-ansible-deploy-aio nodeset: nodes: - label: ubuntu-jammy name: ubuntu-jammy ,,27,7
openstack%2Fopenstack-ansible-ops~master~If106efd5700c770a8256adb11cb4735d11cbed5c,openstack/openstack-ansible-ops,master,If106efd5700c770a8256adb11cb4735d11cbed5c,Serialise operations on components which may be highly available,MERGED,2022-05-27 07:50:37.000000000,2022-06-01 10:22:02.000000000,2022-06-01 10:20:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-27 07:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/0c1536cf759ef8601ea8d841d84b9e878b956afd', 'message': 'Serialise operations on components which may be highly available\n\nMinimal playbook changes to reduce the risk out outages. This\ncould be further improved by contacting the elasticsearch API\nduring actions to ensure that each node recovers before moving\non to the next.\n\nChange-Id: If106efd5700c770a8256adb11cb4735d11cbed5c\n'}, {'number': 2, 'created': '2022-05-30 07:41:25.000000000', 'files': ['elk_metrics_7x/installKibana.yml', 'elk_metrics_7x/installLogstash.yml', 'elk_metrics_7x/installElastic.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/825aa0d9eac4bf0d2603b30431d1d1730fe69a02', 'message': 'Serialise operations on components which may be highly available\n\nMinimal playbook changes to reduce the risk out outages. This\ncould be further improved by contacting the elasticsearch API\nduring actions to ensure that each node recovers before moving\non to the next.\n\nChange-Id: If106efd5700c770a8256adb11cb4735d11cbed5c\n'}]",2,843574,825aa0d9eac4bf0d2603b30431d1d1730fe69a02,12,3,2,31542,,,0,"Serialise operations on components which may be highly available

Minimal playbook changes to reduce the risk out outages. This
could be further improved by contacting the elasticsearch API
during actions to ensure that each node recovers before moving
on to the next.

Change-Id: If106efd5700c770a8256adb11cb4735d11cbed5c
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/74/843574/2 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_7x/installKibana.yml', 'elk_metrics_7x/installElastic.yml', 'elk_metrics_7x/installLogstash.yml']",3,0c1536cf759ef8601ea8d841d84b9e878b956afd,elk-serial, serial: 1,,3,1
openstack%2Fironic~bugfix%2F20.2~Ie5e0523bb4a8941bcb8dc87c4a0b29cb28ddfe40,openstack/ironic,bugfix/20.2,Ie5e0523bb4a8941bcb8dc87c4a0b29cb28ddfe40,Don't use URLs as part of temporary file names (part 2),MERGED,2022-05-30 10:43:11.000000000,2022-06-01 10:14:11.000000000,2022-06-01 10:12:33.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-30 10:43:11.000000000', 'files': ['ironic/tests/unit/common/test_images.py', 'ironic/common/images.py', 'releasenotes/notes/file-name-too-long-72265bb3fec704f8.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e5d69297a52508770289242d07c7c66a9660d566', 'message': 'Don\'t use URLs as part of temporary file names (part 2)\n\nFirst, it\'s leaking information. Second, the URLs can be really long and\ncause ""OSError: [Errno 36] File name too long"".\n\nThe same issue has already been fixed in the image cache, this change\nupdates building ISO. Since the files are created in a temporary\nlocation, just use constant names.\n\nChange-Id: Ie5e0523bb4a8941bcb8dc87c4a0b29cb28ddfe40\n(cherry picked from commit 2d885126ec5b3cfbe548fa42325d53fbc47d8fd4)\n'}]",0,843814,e5d69297a52508770289242d07c7c66a9660d566,10,2,1,10239,,,0,"Don't use URLs as part of temporary file names (part 2)

First, it's leaking information. Second, the URLs can be really long and
cause ""OSError: [Errno 36] File name too long"".

The same issue has already been fixed in the image cache, this change
updates building ISO. Since the files are created in a temporary
location, just use constant names.

Change-Id: Ie5e0523bb4a8941bcb8dc87c4a0b29cb28ddfe40
(cherry picked from commit 2d885126ec5b3cfbe548fa42325d53fbc47d8fd4)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/14/843814/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_images.py', 'ironic/common/images.py', 'releasenotes/notes/file-name-too-long-72265bb3fec704f8.yaml']",3,e5d69297a52508770289242d07c7c66a9660d566,file-name-too-long-bugfix/20.2,"--- fixes: - | Fixes ``OSError: [Errno 36] File name too long`` when building a virtual media ISO from a long kernel, ramdisk or ESP URL. ",,35,32
openstack%2Fpython-tripleoclient~master~I5a0dccdecb3c189f6364a9209e58672b47c370bb,openstack/python-tripleoclient,master,I5a0dccdecb3c189f6364a9209e58672b47c370bb,Remove ineffective parameter from standalone/ephemeral heat.conf,MERGED,2022-05-10 07:23:33.000000000,2022-06-01 09:51:46.000000000,2022-06-01 09:50:06.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-10 07:23:33.000000000', 'files': ['templates/ephemeral-heat/heat.conf.j2', 'tripleoclient/heat_launcher.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/81c0b75bf95de6650441502d680d0be2407bcacb', 'message': 'Remove ineffective parameter from standalone/ephemeral heat.conf\n\nThe [DEFAULT] rpc_poll_timeout parameter was used by ZeroMQ driver\nwhich was already removed [1].\n\n[1] f2fd8d437589d94443a137c7ca7a38d6b782d153\n\nChange-Id: I5a0dccdecb3c189f6364a9209e58672b47c370bb\n'}]",0,841215,81c0b75bf95de6650441502d680d0be2407bcacb,8,3,1,9816,,,0,"Remove ineffective parameter from standalone/ephemeral heat.conf

The [DEFAULT] rpc_poll_timeout parameter was used by ZeroMQ driver
which was already removed [1].

[1] f2fd8d437589d94443a137c7ca7a38d6b782d153

Change-Id: I5a0dccdecb3c189f6364a9209e58672b47c370bb
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/15/841215/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ephemeral-heat/heat.conf.j2', 'tripleoclient/heat_launcher.py']",2,81c0b75bf95de6650441502d680d0be2407bcacb,,,rpc_poll_timeout = 60,0,2
openstack%2Fpython-tripleoclient~master~I143761be239a79a6fcf1bc7fc8cd507964fd2ef6,openstack/python-tripleoclient,master,I143761be239a79a6fcf1bc7fc8cd507964fd2ef6,Fix typo in heat.conf for standalone heat,MERGED,2022-05-10 07:23:33.000000000,2022-06-01 09:50:40.000000000,2022-06-01 09:49:12.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-10 07:23:33.000000000', 'files': ['templates/ephemeral-heat/heat.conf.j2'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d424f022372bdaf530327ea5ac89663008962e2e', 'message': 'Fix typo in heat.conf for standalone heat\n\nChange-Id: I143761be239a79a6fcf1bc7fc8cd507964fd2ef6\n'}]",0,841214,d424f022372bdaf530327ea5ac89663008962e2e,8,3,1,9816,,,0,"Fix typo in heat.conf for standalone heat

Change-Id: I143761be239a79a6fcf1bc7fc8cd507964fd2ef6
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/14/841214/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ephemeral-heat/heat.conf.j2'],1,d424f022372bdaf530327ea5ac89663008962e2e,,heartbeat_timeout_threshold=60,heatbeat_timeout_threshold=60,1,1
openstack%2Fmurano-pkg-check~master~Ieb54d8c5381d1409986df8fd9db2a5d223e10537,openstack/murano-pkg-check,master,Ieb54d8c5381d1409986df8fd9db2a5d223e10537,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:30:43.000000000,2022-06-01 09:36:36.000000000,2022-06-01 09:36:36.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-01 01:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-pkg-check/commit/0d76900028509f160a91b26c25739b9f3d3ab8d7', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ieb54d8c5381d1409986df8fd9db2a5d223e10537\n'}, {'number': 2, 'created': '2022-06-01 02:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-pkg-check/commit/2ba267c5fce0496352a852a4323b414d0d5bbce5', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nCo-authored-by: zhurong <aaronzhu1121@gmail.com>\n\nChange-Id: Ieb54d8c5381d1409986df8fd9db2a5d223e10537\n'}, {'number': 3, 'created': '2022-06-01 09:02:31.000000000', 'files': ['muranopkgcheck/tests/functional/test_cases.py', 'requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/murano-pkg-check/commit/bf91491fcc55b93ddfe0c1812bf690ca4b836234', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nCo-authored-by: zhurong <aaronzhu1121@gmail.com>\n\nChange-Id: Ieb54d8c5381d1409986df8fd9db2a5d223e10537\n'}]",1,840102,bf91491fcc55b93ddfe0c1812bf690ca4b836234,12,2,3,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Co-authored-by: zhurong <aaronzhu1121@gmail.com>

Change-Id: Ieb54d8c5381d1409986df8fd9db2a5d223e10537
",git fetch https://review.opendev.org/openstack/murano-pkg-check refs/changes/02/840102/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,0d76900028509f160a91b26c25739b9f3d3ab8d7,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,54
openstack%2Fnova~stable%2Ftrain~I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318,openstack/nova,stable/train,I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318,Isolate PCI tracker unit tests,NEW,2022-05-06 09:20:21.000000000,2022-06-01 09:30:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-06 09:20:21.000000000', 'files': ['nova/tests/unit/pci/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f893777553857f7901354333d77e21431aa80a93', 'message': 'Isolate PCI tracker unit tests\n\nDuring the testing If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 we noticed\nthat the unit test cases of PciTracker._set_hvdev are changing and\nleaking global state leading to unstable tests.\n\nTo reproduce on master, duplicate the\ntest_set_hvdev_remove_tree_maintained_with_allocations test case and run\nPciDevTrackerTestCase serially. The duplicated test case will fail with\n\n  File ""/nova/nova/objects/pci_device.py"", line 238, in _from_db_object\n  setattr(pci_device, key, db_dev[key])\n  KeyError: \'id\'\n\nThis is caused by the fact that the test data is defined on module\nlevel, both _create_tracker and _set_hvdevs modifies the devices\npassed to them, and some test mixes passing db dicts to _set_hvdevs\nthat expects pci dicts from the hypervisor.\n\nThis patch fixes multiple related issues:\n* always deepcopy what _create_tracker takes as that list is later\n  returned to the PciTracker via a mock and the tracker might modify\n  what it got\n\n* ensure that _create_tracker takes db dicts (with id field) while\n  _set_hvdevs takes pci dicts in the hypervisor format (without id\n  field)\n\n* always deepcopy what is passed to _set_hvdevs as the PciTracker modify\n  what it gets.\n\n* normalize when the deepcopy happens to give a safe patter for future\n  test cases\n\nChange-Id: I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318\n(cherry picked from commit c58376db75917444831934963fa75b4b57f08818)\n(cherry picked from commit f04cfd42359d555e746df0e2c48d989d0c3244f1)\n(cherry picked from commit 1023580f6d9008f5e56f6d3905b6e227bd2bff67)\n(cherry picked from commit 3335d9317994ea3490fbc9945e0e961c42aef907)\n(cherry picked from commit 2fb300f71e87490f3e91d03dd5ce8eb88a5996a7)\n(cherry picked from commit cc705b6258c2ca270922c5f07d55e2413c16ec40)\n'}]",1,840854,f893777553857f7901354333d77e21431aa80a93,5,1,1,9708,,,0,"Isolate PCI tracker unit tests

During the testing If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 we noticed
that the unit test cases of PciTracker._set_hvdev are changing and
leaking global state leading to unstable tests.

To reproduce on master, duplicate the
test_set_hvdev_remove_tree_maintained_with_allocations test case and run
PciDevTrackerTestCase serially. The duplicated test case will fail with

  File ""/nova/nova/objects/pci_device.py"", line 238, in _from_db_object
  setattr(pci_device, key, db_dev[key])
  KeyError: 'id'

This is caused by the fact that the test data is defined on module
level, both _create_tracker and _set_hvdevs modifies the devices
passed to them, and some test mixes passing db dicts to _set_hvdevs
that expects pci dicts from the hypervisor.

This patch fixes multiple related issues:
* always deepcopy what _create_tracker takes as that list is later
  returned to the PciTracker via a mock and the tracker might modify
  what it got

* ensure that _create_tracker takes db dicts (with id field) while
  _set_hvdevs takes pci dicts in the hypervisor format (without id
  field)

* always deepcopy what is passed to _set_hvdevs as the PciTracker modify
  what it gets.

* normalize when the deepcopy happens to give a safe patter for future
  test cases

Change-Id: I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318
(cherry picked from commit c58376db75917444831934963fa75b4b57f08818)
(cherry picked from commit f04cfd42359d555e746df0e2c48d989d0c3244f1)
(cherry picked from commit 1023580f6d9008f5e56f6d3905b6e227bd2bff67)
(cherry picked from commit 3335d9317994ea3490fbc9945e0e961c42aef907)
(cherry picked from commit 2fb300f71e87490f3e91d03dd5ce8eb88a5996a7)
(cherry picked from commit cc705b6258c2ca270922c5f07d55e2413c16ec40)
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/840854/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/pci/test_manager.py'],1,f893777553857f7901354333d77e21431aa80a93,bug/1969496,"fake_pci_devs = [fake_pci, fake_pci_1, fake_pci_2] fake_pci_devs_tree = [fake_pci_3, fake_pci_4, fake_pci_5] self.fake_devs = copy.deepcopy(fake_devs) self.fake_devs = copy.deepcopy(fake_db_devs) self._create_tracker(fake_db_devs) fake_pci_devs = [fake_pci, fake_pci_1, fake_pci_2, fake_pci_3] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) fake_pci_devs = [fake_pci_3, fake_pci_4, fake_pci_5, fake_new_device] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) fake_pci_devs = [fake_pci, fake_pci_2, fake_pci_v2] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) self.tracker._set_hvdevs(copy.deepcopy([fake_pci])) fake_pci_devs = [fake_pci_3, fake_pci_4] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) all_db_devs = fake_db_devs_tree all_pci_devs = fake_pci_devs_tree self._create_tracker(all_db_devs) self.tracker._set_hvdevs(copy.deepcopy(all_pci_devs)) fake_pci_devs = [dev for dev in all_pci_devs self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) fake_pci_devs = [fake_pci, fake_pci_2, fake_pci_3] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) fake_pci_3 = dict(fake_pci_1, address='0000:00:00.4') fake_devs_numa = copy.deepcopy(fake_pci_devs) fake_devs_numa.append(fake_pci_3) self.tracker = manager.PciDevTracker(mock.sentinel.context, 1) self.tracker._set_hvdevs(copy.deepcopy(fake_devs_numa)) fake_pci_devs = [fake_pci, fake_pci_2, fake_pci_v3] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs))"," self.fake_devs = fake_devs self.fake_devs = fake_db_devs[:] self._create_tracker(fake_db_devs[:]) fake_pci_devs = [copy.deepcopy(fake_pci), copy.deepcopy(fake_pci_1), copy.deepcopy(fake_pci_2), copy.deepcopy(fake_pci_3)] self.tracker._set_hvdevs(fake_pci_devs) fake_pci_devs = [copy.deepcopy(fake_pci_3), copy.deepcopy(fake_pci_4), copy.deepcopy(fake_pci_5), copy.deepcopy(fake_new_device)] self.tracker._set_hvdevs(fake_pci_devs) fake_pci_devs = [copy.deepcopy(fake_pci), copy.deepcopy(fake_pci_2), copy.deepcopy(fake_pci_v2)] self.tracker._set_hvdevs(fake_pci_devs) self.tracker._set_hvdevs([fake_pci]) fake_pci_devs = [copy.deepcopy(fake_pci_3), copy.deepcopy(fake_pci_4)] self.tracker._set_hvdevs(fake_pci_devs) all_devs = fake_db_devs_tree[:] self._create_tracker(all_devs) self.tracker._set_hvdevs(all_devs) fake_pci_devs = [dev for dev in all_devs self.tracker._set_hvdevs(fake_pci_devs) self.tracker._set_hvdevs(fake_pci_devs) fake_pci_devs = [copy.deepcopy(fake_pci), copy.deepcopy(fake_pci_2), copy.deepcopy(fake_pci_3)] self.tracker._set_hvdevs(fake_pci_devs) fake_db_dev_3 = dict(fake_db_dev_1, id=4, address='0000:00:00.4') fake_devs_numa = copy.deepcopy(fake_db_devs) fake_devs_numa.append(fake_db_dev_3) self.tracker = manager.PciDevTracker(1) self.tracker._set_hvdevs(fake_devs_numa) fake_pci_devs = [copy.deepcopy(fake_pci), copy.deepcopy(fake_pci_2), copy.deepcopy(fake_pci_v3)] self.tracker._set_hvdevs(fake_pci_devs)",31,34
openstack%2Fnetworking-generic-switch~master~I0d9d93eafd28ccf26ea08d75dd860ba33fa857fb,openstack/networking-generic-switch,master,I0d9d93eafd28ccf26ea08d75dd860ba33fa857fb,CI: Removing job queue,MERGED,2022-05-19 19:03:49.000000000,2022-06-01 09:16:29.000000000,2022-06-01 09:13:58.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-19 19:03:49.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/1ef659703b64c58bf50f474f3ddb109c1748239b', 'message': 'CI: Removing job queue\n\nPlease see:\nhttps://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n\nChange-Id: I0d9d93eafd28ccf26ea08d75dd860ba33fa857fb\n'}]",0,842611,1ef659703b64c58bf50f474f3ddb109c1748239b,9,3,1,15519,,,0,"CI: Removing job queue

Please see:
https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes

Change-Id: I0d9d93eafd28ccf26ea08d75dd860ba33fa857fb
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/11/842611/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,1ef659703b64c58bf50f474f3ddb109c1748239b,drop-queue-ironic,, queue: networking-generic-switch,0,1
openstack%2Fcloudkitty~master~I0c2892a39ec50163de251b38d34493db6a22c858,openstack/cloudkitty,master,I0c2892a39ec50163de251b38d34493db6a22c858,Raise CollectError when Prometheus query returns an error,MERGED,2022-02-22 11:19:53.000000000,2022-06-01 09:13:23.000000000,2022-06-01 09:12:11.000000000,"[{'_account_id': 3031}, {'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-02-22 11:19:53.000000000', 'files': ['releasenotes/notes/prometheus-error-8eab9f1793c2280c.yaml', 'cloudkitty/collector/prometheus.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/a5368804319e3f35aa723f44d670f4253989a36d', 'message': 'Raise CollectError when Prometheus query returns an error\n\nAs described in the Prometheus HTTP API documentation [1], the JSON\nresponse to a Prometheus query includes a status field, which was\nignored by CloudKitty. If it is set to ""error"", raise a CollectError\nexception to log the error type and details.\n\nFor example, a query with a metric name containing a dot will produce\nthe following error:\n\n    cloudkitty.collector.exceptions.CollectError: bad_data: invalid parameter ""query"": 1:25: parse error: unexpected character: \'.\'\n\n[1] https://prometheus.io/docs/prometheus/latest/querying/api/\n\nChange-Id: I0c2892a39ec50163de251b38d34493db6a22c858\nStory: 2009869\nTask: 44564\n'}]",5,830375,a5368804319e3f35aa723f44d670f4253989a36d,18,5,1,15197,,,0,"Raise CollectError when Prometheus query returns an error

As described in the Prometheus HTTP API documentation [1], the JSON
response to a Prometheus query includes a status field, which was
ignored by CloudKitty. If it is set to ""error"", raise a CollectError
exception to log the error type and details.

For example, a query with a metric name containing a dot will produce
the following error:

    cloudkitty.collector.exceptions.CollectError: bad_data: invalid parameter ""query"": 1:25: parse error: unexpected character: '.'

[1] https://prometheus.io/docs/prometheus/latest/querying/api/

Change-Id: I0c2892a39ec50163de251b38d34493db6a22c858
Story: 2009869
Task: 44564
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/75/830375/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/prometheus-error-8eab9f1793c2280c.yaml', 'cloudkitty/collector/prometheus.py']",2,a5368804319e3f35aa723f44d670f4253989a36d,story/2009869," if res['status'] == 'error': error_type = res['errorType'] error_msg = res['error'] raise CollectError(""%s: %s"" % (error_type, error_msg)) ",,10,0
openstack%2Fci-log-processing~master~Id3e1bd032d1f299bdd8ddcefa877ed431c707687,openstack/ci-log-processing,master,Id3e1bd032d1f299bdd8ddcefa877ed431c707687,Move container images to quay.io,MERGED,2022-05-24 06:56:26.000000000,2022-06-01 08:39:04.000000000,2022-06-01 08:37:43.000000000,"[{'_account_id': 6889}, {'_account_id': 8367}, {'_account_id': 9311}, {'_account_id': 20676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-24 06:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/85f1c0efffe85fc9ba6dc227f6a729d8b2b7ad52', 'message': 'Moge container images to quay.io\n\nWith this commit, all container images will be pulled from quay.io\ninstead of quay.rdoproject.org\n\nChange-Id: Id3e1bd032d1f299bdd8ddcefa877ed431c707687\n'}, {'number': 2, 'created': '2022-05-25 06:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/855765a81eb521007f32ac5e0c8fc811bac157a2', 'message': 'Move container images to quay.io\n\nWith this commit, all container images will be pulled from quay.io\ninstead of quay.rdoproject.org\n\nChange-Id: Id3e1bd032d1f299bdd8ddcefa877ed431c707687\n'}, {'number': 3, 'created': '2022-05-30 08:54:26.000000000', 'files': ['ansible/roles/loggearman/defaults/main.yml', 'README.rst', 'ansible/roles/check-services/tasks/download.yml', 'ansible/roles/check-services/tasks/main.yml', 'ansible/roles/logsender/defaults/main.yml', 'ansible/roles/logscraper/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/8200b9115d2c18b119b4c1095cc3c9ee61665036', 'message': 'Move container images to quay.io\n\nWith this commit, all container images will be pulled from quay.io\ninstead of quay.rdoproject.org\n\nChange-Id: Id3e1bd032d1f299bdd8ddcefa877ed431c707687\n'}]",2,843107,8200b9115d2c18b119b4c1095cc3c9ee61665036,16,5,3,20676,,,0,"Move container images to quay.io

With this commit, all container images will be pulled from quay.io
instead of quay.rdoproject.org

Change-Id: Id3e1bd032d1f299bdd8ddcefa877ed431c707687
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/07/843107/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/loggearman/defaults/main.yml', 'README.rst', 'ansible/roles/check-services/tasks/download.yml', 'ansible/roles/check-services/tasks/main.yml', 'ansible/roles/logsender/defaults/main.yml', 'ansible/roles/logscraper/defaults/main.yml']",6,85f1c0efffe85fc9ba6dc227f6a729d8b2b7ad52,, logscraper: quay.io/software-factory/logscraper:latest, logscraper: quay.rdoproject.org/software-factory/logscraper:latest,7,7
openstack%2Fopenstacksdk~stable%2Fussuri~Ib0ef1fadf4fe44f1d6af2f7d542b8af919652501,openstack/openstacksdk,stable/ussuri,Ib0ef1fadf4fe44f1d6af2f7d542b8af919652501,Drop lower-constraints job,ABANDONED,2022-05-31 15:14:03.000000000,2022-06-01 08:32:36.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-05-31 15:14:03.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d66924957a5e8da1843ca020252b5076f2f4cefb', 'message': 'Drop lower-constraints job\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this job because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes, and\nWe need to drop the lower-constraints.txt file as well as the corresponding\ntox target\n\nConflicts:\n  .zuul.yaml\n  lower-constraints.txt\n  tox.ini\n\nNOTE(elod.illes): conflicts are due to py35 support was dropped [2]\nonly in victoria and in ussuri it is still present.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2] Iaa761cb6f6ab30fa26f6587ac29f11274702e1a3\n\nChange-Id: Ib0ef1fadf4fe44f1d6af2f7d542b8af919652501\n(cherry picked from commit d783b5889fd7f9a59f948c48cfc5a752d6836ae3)\n(cherry picked from commit a1deb5b88ed9766d2da404816a9f60e063e82e10)\n(cherry picked from commit 471efb9d48fa2d2e25e3cc60ac6dbdff77229a25)\n'}]",2,844096,d66924957a5e8da1843ca020252b5076f2f4cefb,7,3,1,17685,,,0,"Drop lower-constraints job

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this job because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes, and
We need to drop the lower-constraints.txt file as well as the corresponding
tox target

Conflicts:
  .zuul.yaml
  lower-constraints.txt
  tox.ini

NOTE(elod.illes): conflicts are due to py35 support was dropped [2]
only in victoria and in ussuri it is still present.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html
[2] Iaa761cb6f6ab30fa26f6587ac29f11274702e1a3

Change-Id: Ib0ef1fadf4fe44f1d6af2f7d542b8af919652501
(cherry picked from commit d783b5889fd7f9a59f948c48cfc5a752d6836ae3)
(cherry picked from commit a1deb5b88ed9766d2da404816a9f60e063e82e10)
(cherry picked from commit 471efb9d48fa2d2e25e3cc60ac6dbdff77229a25)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/96/844096/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,d66924957a5e8da1843ca020252b5076f2f4cefb,,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,0,52
openstack%2Fpython-barbicanclient~master~I548cd3ac219fac0316d670d70f8e17ed64ca5209,openstack/python-barbicanclient,master,I548cd3ac219fac0316d670d70f8e17ed64ca5209,Changed minversion in tox to 3.18.0,ABANDONED,2022-06-01 08:20:57.000000000,2022-06-01 08:27:44.000000000,,[],"[{'number': 1, 'created': '2022-06-01 08:20:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/e8f85749131aeee72dc6ccb9867e14fd5d0bf3fe', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I548cd3ac219fac0316d670d70f8e17ed64ca5209\n""}]",0,844257,e8f85749131aeee72dc6ccb9867e14fd5d0bf3fe,2,0,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I548cd3ac219fac0316d670d70f8e17ed64ca5209
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/57/844257/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e8f85749131aeee72dc6ccb9867e14fd5d0bf3fe,tox,minversion = 3.18.0allowlist_externals = rmallowlist_externals = rmallowlist_externals =,minversion = 3.1.1whitelist_externals = rmwhitelist_externals = rmwhitelist_externals =,4,4
openstack%2Fironic-inspector~master~Ibd63ddc8578e784f24d78d80a5bbfdb47df9967d,openstack/ironic-inspector,master,Ibd63ddc8578e784f24d78d80a5bbfdb47df9967d,CI: Removing ironic job queue,MERGED,2022-05-19 18:14:43.000000000,2022-06-01 08:26:24.000000000,2022-06-01 08:24:00.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-19 18:14:43.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/1a1812cfd18921ec87852653ddbca208f1c89543', 'message': 'CI: Removing ironic job queue\n\nPlease see:\nhttps://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n\nChange-Id: Ibd63ddc8578e784f24d78d80a5bbfdb47df9967d\n'}]",0,842601,1a1812cfd18921ec87852653ddbca208f1c89543,10,4,1,11655,,,0,"CI: Removing ironic job queue

Please see:
https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes

Change-Id: Ibd63ddc8578e784f24d78d80a5bbfdb47df9967d
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/01/842601/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,1a1812cfd18921ec87852653ddbca208f1c89543,drop-queue-ironic,, queue: ironic,0,1
openstack%2Fironic-lib~stable%2Ftrain~Iada35b8777c742c4a84e1c49e177b3aecbfb344f,openstack/ironic-lib,stable/train,Iada35b8777c742c4a84e1c49e177b3aecbfb344f,CI: Removing ironic job queue,MERGED,2022-05-19 18:15:23.000000000,2022-06-01 08:19:52.000000000,2022-06-01 08:17:20.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-19 18:15:23.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/8bd4b60cc5ac50309cb26cdfb6e657261fd3bccb', 'message': 'CI: Removing ironic job queue\n\nPlease see:\nhttps://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n\nChange-Id: Iada35b8777c742c4a84e1c49e177b3aecbfb344f\n'}]",1,842602,8bd4b60cc5ac50309cb26cdfb6e657261fd3bccb,12,4,1,11655,,,0,"CI: Removing ironic job queue

Please see:
https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes

Change-Id: Iada35b8777c742c4a84e1c49e177b3aecbfb344f
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/02/842602/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,8bd4b60cc5ac50309cb26cdfb6e657261fd3bccb,drop-queue-ironic,, queue: ironic,0,1
openstack%2Fpython-ironicclient~master~I60caa1c7802270a23a9d61c6c48a7de8d033c128,openstack/python-ironicclient,master,I60caa1c7802270a23a9d61c6c48a7de8d033c128,Updating python testing classifier as per zed testing runtime,ABANDONED,2022-05-14 03:07:35.000000000,2022-06-01 08:15:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-14 03:07:35.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/a07aa52637d13de34005792b284a328e91090c2f', 'message': 'Updating python testing classifier as per zed testing runtime\n\nChange-Id: I60caa1c7802270a23a9d61c6c48a7de8d033c128\n'}]",0,841807,a07aa52637d13de34005792b284a328e91090c2f,6,1,1,32029,,,0,"Updating python testing classifier as per zed testing runtime

Change-Id: I60caa1c7802270a23a9d61c6c48a7de8d033c128
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/07/841807/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,a07aa52637d13de34005792b284a328e91090c2f,jobs, - openstack-python3-zed-jobs, - openstack-python3-yoga-jobs,1,1
openstack%2Fmanila~master~I72c5114841e43961f7be891a3269c2c53d03b982,openstack/manila,master,I72c5114841e43961f7be891a3269c2c53d03b982,Updating python testing classifier as per zed testing runtime,ABANDONED,2022-05-13 01:08:03.000000000,2022-06-01 08:08:28.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 32411}]","[{'number': 1, 'created': '2022-05-13 01:08:03.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/47c467a9143fcb129964c96014c711f31186f119', 'message': 'Updating python testing classifier as per zed testing runtime\n\nChange-Id: I72c5114841e43961f7be891a3269c2c53d03b982\n'}]",2,841661,47c467a9143fcb129964c96014c711f31186f119,10,3,1,32029,,,0,"Updating python testing classifier as per zed testing runtime

Change-Id: I72c5114841e43961f7be891a3269c2c53d03b982
",git fetch https://review.opendev.org/openstack/manila refs/changes/61/841661/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,47c467a9143fcb129964c96014c711f31186f119,zed-jobs, - openstack-python3-zed-jobs, - openstack-python3-yoga-jobs,1,1
openstack%2Fglance~master~Ie8e8b4b120129347776b362a5e315370da9c6d1d,openstack/glance,master,Ie8e8b4b120129347776b362a5e315370da9c6d1d,The Python 3.6 and Python 3.7 Support has been dropped since yaga,ABANDONED,2022-05-09 07:34:27.000000000,2022-06-01 08:07:05.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-09 07:34:27.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/glance/commit/eeee0d9dfbc4aff62d21da4c2b42af705437ab09', 'message': 'The Python 3.6 and Python 3.7 Support has been dropped since yaga\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: Ie8e8b4b120129347776b362a5e315370da9c6d1d\n'}]",2,841074,eeee0d9dfbc4aff62d21da4c2b42af705437ab09,4,2,1,32029,,,0,"The Python 3.6 and Python 3.7 Support has been dropped since yaga

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Ie8e8b4b120129347776b362a5e315370da9c6d1d
",git fetch https://review.opendev.org/openstack/glance refs/changes/74/841074/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,eeee0d9dfbc4aff62d21da4c2b42af705437ab09,py36,python_requires = >=3.8,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,1,3
openstack%2Fcinder~master~I799cc8e83a3b60e4e7778b87a932c828d9b8d7f0,openstack/cinder,master,I799cc8e83a3b60e4e7778b87a932c828d9b8d7f0,Generic NFS: fix qemu-img resize for attached volume,NEW,2020-07-02 15:48:43.000000000,2022-06-01 08:02:18.000000000,,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11611}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18058}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30092}, {'_account_id': 30615}, {'_account_id': 30688}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-07-02 15:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7b53df219f3f0a30939d47f9979a8a589f195f53', 'message': ""Generic NFS: skip qemu-img resize if volume is attached\n\nGeneric NFS 'extend attached volume' feature is broken [0], because\nqemu-img fails to acquire the lock to resize an attached volume. But\nNova libvirt driver already runs blockResize to perform the actual\nresize operation, so there's no need to resize it from Cinder side at\nall.\n\nThis patch makes generic NFS driver to skip the resize operation from\nCinder side if the volume is attached.\n\n[0] https://bugs.launchpad.net/cinder/+bug/1870367\n\nChange-Id: I799cc8e83a3b60e4e7778b87a932c828d9b8d7f0\nDepends-On: https://review.opendev.org/#/c/739049/\nDepends-On: https://review.opendev.org/#/c/739077\nPartial-Bug: #1870367\n""}, {'number': 2, 'created': '2020-07-11 00:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e01b72a71bf7ea7b231f398ad0aaa47cffd43427', 'message': ""Generic NFS: skip qemu-img resize if volume is attached\n\nGeneric NFS 'extend attached volume' feature is broken [0], because\nqemu-img fails to acquire the lock to resize an attached volume. But\nNova libvirt driver already runs blockResize to perform the actual\nresize operation, so there's no need to resize it from Cinder side at\nall.\n\nThis patch makes generic NFS driver to skip the resize operation from\nCinder side if the volume is attached.\n\n[0] https://bugs.launchpad.net/cinder/+bug/1870367\n\nChange-Id: I799cc8e83a3b60e4e7778b87a932c828d9b8d7f0\nDepends-On: https://review.opendev.org/#/c/739077\nPartial-Bug: #1870367\n""}, {'number': 3, 'created': '2020-07-29 13:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ef92b565bb411a5c2e7fab277b14e6fe10565256', 'message': ""Generic NFS: skip qemu-img resize if volume is attached\n\nGeneric NFS 'extend attached volume' feature is broken [0], because\nqemu-img fails to acquire the lock to resize an attached volume. But\nNova libvirt driver already runs blockResize to perform the actual\nresize operation, so there's no need to resize it from Cinder side at\nall.\n\nThis patch makes generic NFS driver to skip the resize operation from\nCinder side if the volume is attached.\n\n[0] https://bugs.launchpad.net/cinder/+bug/1870367\n\nChange-Id: I799cc8e83a3b60e4e7778b87a932c828d9b8d7f0\nDepends-On: https://review.opendev.org/#/c/739077\nPartial-Bug: #1870367\n""}, {'number': 4, 'created': '2021-11-24 12:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9e0904a84866f1eda5283f2e4f21008b344c35a4', 'message': ""Generic NFS: skip qemu-img resize if volume is attached\n\nGeneric NFS 'extend attached volume' feature is broken [0], because\nqemu-img fails to acquire the lock to resize an attached volume. But\nNova libvirt driver already runs blockResize to perform the actual\nresize operation, so there's no need to resize it from Cinder side at\nall.\n\nThis patch makes generic NFS driver to skip the resize operation from\nCinder side if the volume is attached.\n\nRevert patch that disallows online extend for NFS driver. [1]\n\n[0] https://bugs.launchpad.net/cinder/+bug/1870367\n[1] https://review.opendev.org/c/openstack/cinder/+/725805/\n\nChange-Id: I799cc8e83a3b60e4e7778b87a932c828d9b8d7f0\nDepends-On: https://review.opendev.org/#/c/739077\nPartial-Bug: #1870367\n""}, {'number': 5, 'created': '2021-11-24 13:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9e42c29ff15f38414f9057d5c19566a57e4bc696', 'message': ""Generic NFS: skip qemu-img resize if volume is attached\n\nGeneric NFS 'extend attached volume' feature is broken [0], because\nqemu-img fails to acquire the lock to resize an attached volume. But\nNova libvirt driver already runs blockResize to perform the actual\nresize operation, so there's no need to resize it from Cinder side at\nall.\n\nThis patch makes generic NFS driver to skip the resize operation from\nCinder side if the volume is attached.\n\nRevert patch that disallows online extend for NFS driver. [1]\n\n[0] https://bugs.launchpad.net/cinder/+bug/1870367\n[1] https://review.opendev.org/c/openstack/cinder/+/725805/\n\nChange-Id: I799cc8e83a3b60e4e7778b87a932c828d9b8d7f0\nDepends-On: https://review.opendev.org/#/c/739077\nPartial-Bug: #1870367\n""}, {'number': 6, 'created': '2021-11-24 13:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cc09e3e22ab0c8dae38abdce8548ef434cd8db5f', 'message': ""Generic NFS: skip qemu-img resize if volume is attached\n\nGeneric NFS 'extend attached volume' feature is broken [0], because\nqemu-img fails to acquire the lock to resize an attached volume. But\nNova libvirt driver already runs blockResize to perform the actual\nresize operation, so there's no need to resize it from Cinder side at\nall.\n\nThis patch makes generic NFS driver to skip the resize operation from\nCinder side if the volume is attached.\n\nRevert patch that disallows online extend for NFS driver. [1]\n\n[0] https://bugs.launchpad.net/cinder/+bug/1870367\n[1] https://review.opendev.org/c/openstack/cinder/+/725805/\n\nChange-Id: I799cc8e83a3b60e4e7778b87a932c828d9b8d7f0\nDepends-On: https://review.opendev.org/#/c/739077\nPartial-Bug: #1870367\n""}, {'number': 7, 'created': '2021-12-01 08:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1dbcd3d4faf1405698d20f23cc040ca3c929eba', 'message': ""Generic NFS: fix qemu-img resize for attached volume\n\nGeneric NFS 'extend attached volume' feature is broken [0], because\nqemu-img fails to acquire the lock to resize an attached volume. But\nNova libvirt driver already runs blockResize to perform the actual\nresize operation, so there's no need to resize it from Cinder side when\nVM is up.\n\nThis patch makes generic NFS driver to treat the qemu-img resize\nexception, skipping the error if the volume is attached and the error\ncomes from locked.\n\nAlso, it reverts the patch that disallows online extend for NFS driver. [1]\n\n[0] https://bugs.launchpad.net/cinder/+bug/1870367\n[1] https://review.opendev.org/c/openstack/cinder/+/725805/\n\nChange-Id: I799cc8e83a3b60e4e7778b87a932c828d9b8d7f0\nDepends-On: https://review.opendev.org/#/c/739077\nPartial-Bug: #1870367\n""}, {'number': 8, 'created': '2022-03-22 16:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d70ea228164845624f9743f78f5c3d977336de8f', 'message': ""Generic NFS: fix qemu-img resize for attached volume\n\nGeneric NFS 'extend attached volume' feature is broken [0], because\nqemu-img fails to acquire the lock to resize an attached volume. But\nNova libvirt driver already runs blockResize to perform the actual\nresize operation, so there's no need to resize it from Cinder side when\nVM is up.\n\nThis patch makes generic NFS driver to treat the qemu-img resize\nexception, skipping the error if the volume is attached and the error\ncomes from locked.\n\nAlso, it reverts the patch that disallows online extend for NFS driver. [1]\n\n[0] https://bugs.launchpad.net/cinder/+bug/1870367\n[1] https://review.opendev.org/c/openstack/cinder/+/725805/\n\nChange-Id: I799cc8e83a3b60e4e7778b87a932c828d9b8d7f0\nPartial-Bug: #1870367\n""}, {'number': 9, 'created': '2022-03-22 19:07:03.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'cinder/tests/unit/volume/drivers/test_nfs.py', 'releasenotes/notes/fix-nfs-online-extend-e96eebd10b5edc24.yaml', 'cinder/volume/drivers/nfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d21a363fa66218ed3cf538e9bed0194269162f8f', 'message': ""Generic NFS: fix qemu-img resize for attached volume\n\nGeneric NFS 'extend attached volume' feature is broken [0], because\nqemu-img fails to acquire the lock to resize an attached volume. But\nNova libvirt driver already runs blockResize to perform the actual\nresize operation, so there's no need to resize it from Cinder side when\nVM is up.\n\nThis patch makes generic NFS driver to treat the qemu-img resize\nexception, skipping the error if the volume is attached and the error\ncomes from locked.\n\nAlso, it reverts the patch that disallows online extend for NFS driver. [1]\n\n[0] https://bugs.launchpad.net/cinder/+bug/1870367\n[1] https://review.opendev.org/c/openstack/cinder/+/725805/\n\nChange-Id: I799cc8e83a3b60e4e7778b87a932c828d9b8d7f0\nPartial-Bug: #1870367\n""}]",19,739079,d21a363fa66218ed3cf538e9bed0194269162f8f,213,39,9,18058,,,0,"Generic NFS: fix qemu-img resize for attached volume

Generic NFS 'extend attached volume' feature is broken [0], because
qemu-img fails to acquire the lock to resize an attached volume. But
Nova libvirt driver already runs blockResize to perform the actual
resize operation, so there's no need to resize it from Cinder side when
VM is up.

This patch makes generic NFS driver to treat the qemu-img resize
exception, skipping the error if the volume is attached and the error
comes from locked.

Also, it reverts the patch that disallows online extend for NFS driver. [1]

[0] https://bugs.launchpad.net/cinder/+bug/1870367
[1] https://review.opendev.org/c/openstack/cinder/+/725805/

Change-Id: I799cc8e83a3b60e4e7778b87a932c828d9b8d7f0
Partial-Bug: #1870367
",git fetch https://review.opendev.org/openstack/cinder refs/changes/79/739079/9 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/nfs.py'],1,7b53df219f3f0a30939d47f9979a8a589f195f53,bug/1870367," # NOTE(lseki): qemu-img will fail to acquire the lock to resize a # volume in use. But we can delegate this work to Nova Libvirt driver, # which calls blockResize and perform the actual resize operation. if volume['attach_status'] == 'attached': return ",,6,0
openstack%2Fbifrost~master~I82a11e1ae9b89f0426b1cc12923fb700406a873b,openstack/bifrost,master,I82a11e1ae9b89f0426b1cc12923fb700406a873b,Use key as name if not provided in inventory yaml,MERGED,2022-04-01 12:19:42.000000000,2022-06-01 07:54:12.000000000,2022-06-01 07:52:57.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 25600}]","[{'number': 1, 'created': '2022-04-01 12:19:42.000000000', 'files': ['bifrost/inventory.py'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/235e5c956da366c7b923a8f73974af27b7ffc063', 'message': ""Use key as name if not provided in inventory yaml\n\nWe don't really need to specify the name of the host in the yaml\nif it's already be there in the key. YMMV.\n\nChange-Id: I82a11e1ae9b89f0426b1cc12923fb700406a873b\n""}]",2,836172,235e5c956da366c7b923a8f73974af27b7ffc063,13,4,1,25600,,,0,"Use key as name if not provided in inventory yaml

We don't really need to specify the name of the host in the yaml
if it's already be there in the key. YMMV.

Change-Id: I82a11e1ae9b89f0426b1cc12923fb700406a873b
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/72/836172/1 && git format-patch -1 --stdout FETCH_HEAD,['bifrost/inventory.py'],1,235e5c956da366c7b923a8f73974af27b7ffc063,, if 'name' not in host: host['name'] = name ,,3,0
openstack%2Fheat~stable%2Fyoga~I7d1017bcd7147329c4e187336daee1a1ae280fa9,openstack/heat,stable/yoga,I7d1017bcd7147329c4e187336daee1a1ae280fa9,Use f36 instead of f33 for testing,MERGED,2022-05-31 11:10:24.000000000,2022-06-01 07:13:46.000000000,2022-06-01 07:11:25.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 11:10:24.000000000', 'files': ['doc/source/getting_started/on_devstack.rst', '.zuul.yaml', 'devstack/lib/heat', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/eefb921612b6d560e9f28767ba3a40e25bdd4f7d', 'message': 'Use f36 instead of f33 for testing\n\nF33 is unsupported for a while. We should not use it for any testing.\n\nChange-Id: I7d1017bcd7147329c4e187336daee1a1ae280fa9\n(cherry picked from commit 78244c5f0f26064cd53b68e13fa8c4f0e235e698)\n'}]",1,843828,eefb921612b6d560e9f28767ba3a40e25bdd4f7d,12,2,1,4264,,,0,"Use f36 instead of f33 for testing

F33 is unsupported for a while. We should not use it for any testing.

Change-Id: I7d1017bcd7147329c4e187336daee1a1ae280fa9
(cherry picked from commit 78244c5f0f26064cd53b68e13fa8c4f0e235e698)
",git fetch https://review.opendev.org/openstack/heat refs/changes/28/843828/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/getting_started/on_devstack.rst', '.zuul.yaml', 'devstack/lib/heat', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh']",5,eefb921612b6d560e9f28767ba3a40e25bdd4f7d,f36-stable/yoga, iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-36-1.5.x86_64, iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-33-1.2.x86_64,9,8
openstack%2Fironic-ui~master~I29d423305cd15cd3d22ab48c599968c89ee8b447,openstack/ironic-ui,master,I29d423305cd15cd3d22ab48c599968c89ee8b447,Use Horizon project template for nodejs jobs,MERGED,2022-05-10 18:11:00.000000000,2022-06-01 07:11:36.000000000,2022-06-01 07:09:18.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-10 18:11:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/6c546a04591741d4e0f9f073b7805e8f64a7ec79', 'message': ""Use Horizon project template for nodejs jobs\n\nHorizon defined a project template 'horizon-nodejs-jobs'\nfor nodejs jobs. This patch updates ``.zuul.yaml`` to\nuse that template to run nodejs jobs here.\n\nDepends-On: https://review.opendev.org/c/openstack/horizon/+/831929\nChange-Id: I29d423305cd15cd3d22ab48c599968c89ee8b447\n""}]",2,841313,6c546a04591741d4e0f9f073b7805e8f64a7ec79,10,3,1,29313,,,0,"Use Horizon project template for nodejs jobs

Horizon defined a project template 'horizon-nodejs-jobs'
for nodejs jobs. This patch updates ``.zuul.yaml`` to
use that template to run nodejs jobs here.

Depends-On: https://review.opendev.org/c/openstack/horizon/+/831929
Change-Id: I29d423305cd15cd3d22ab48c599968c89ee8b447
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/13/841313/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6c546a04591741d4e0f9f073b7805e8f64a7ec79,migrate-to-nodejs16, - horizon-nodejs-jobs, - horizon-nodejs14-jobs,1,1
openstack%2Fironic-python-agent~stable%2Fwallaby~Id739e7a12d502027f02900c96ace97e387006310,openstack/ironic-python-agent,stable/wallaby,Id739e7a12d502027f02900c96ace97e387006310,DNM test the CI,ABANDONED,2022-05-24 07:49:12.000000000,2022-06-01 07:08:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-24 07:49:12.000000000', 'files': ['ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b5221866e6557af0fa1674705220917974dd470b', 'message': 'DNM test the CI\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/839985\nChange-Id: Id739e7a12d502027f02900c96ace97e387006310\n'}]",0,843113,b5221866e6557af0fa1674705220917974dd470b,3,1,1,10239,,,0,"DNM test the CI

Depends-On: https://review.opendev.org/c/openstack/ironic/+/839985
Change-Id: Id739e7a12d502027f02900c96ace97e387006310
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/13/843113/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/extensions/image.py'],1,b5221866e6557af0fa1674705220917974dd470b,test-wallaby,,,1,0
openstack%2Ftripleo-ci~master~I00863a81d63592a19fcd2e164346aa02f78302df,openstack/tripleo-ci,master,I00863a81d63592a19fcd2e164346aa02f78302df,Remove EOL releases code,NEW,2021-09-23 06:56:22.000000000,2022-06-01 06:56:22.000000000,,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-23 06:56:22.000000000', 'files': ['roles/build-containers/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ffa84012927d84983d0568140c02b501c91517e4', 'message': 'Remove EOL releases code\n\nChange-Id: I00863a81d63592a19fcd2e164346aa02f78302df\n'}]",1,810552,ffa84012927d84983d0568140c02b501c91517e4,11,7,1,20182,,,0,"Remove EOL releases code

Change-Id: I00863a81d63592a19fcd2e164346aa02f78302df
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/52/810552/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/tasks/main.yaml'],1,ffa84012927d84983d0568140c02b501c91517e4,cleanup-code,,"- name: Set config-file set_fact: container_config: ""--config-file $TRIPLEO_COMMON_PATH/container-images/overcloud_containers.yaml"" when: ci_branch in ['pike', 'queens', 'rocky'] ",0,5
openstack%2Ftripleo-quickstart~master~I94e47469ccb53cc581b4ddbbd8e5e5f60b20d1a5,openstack/tripleo-quickstart,master,I94e47469ccb53cc581b4ddbbd8e5e5f60b20d1a5,WIP - Test replacing paramiko in ansible with libssh,NEW,2021-09-28 21:28:33.000000000,2022-06-01 06:53:59.000000000,,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-09-28 21:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/439185fc97c63ac25d032f1c6127450f05ad3feb', 'message': ""WIP - Test replacing paramiko in ansible with libssh\n\nThis patch will attempt to replace paramiko with pylibssh in order\nto, firstly, use a fips compliant library.  This will hopefully get\naround the issues we're seeing with rsa keys in our fips tests.\nSee https://www.ansible.com/blog/new-libssh-connection-plugin-for-ansible-network\nfor details.\n\nChange-Id: I94e47469ccb53cc581b4ddbbd8e5e5f60b20d1a5\n""}, {'number': 2, 'created': '2021-09-29 15:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/498b56b2374874e1c45844a0fe81802683faedfa', 'message': ""WIP - Test replacing paramiko in ansible with libssh\n\nThis patch will attempt to replace paramiko with pylibssh in order\nto, firstly, use a fips compliant library.  This will hopefully get\naround the issues we're seeing with rsa keys in our fips tests.\nSee https://www.ansible.com/blog/new-libssh-connection-plugin-for-ansible-network\nfor details.\n\nChange-Id: I94e47469ccb53cc581b4ddbbd8e5e5f60b20d1a5\n""}, {'number': 3, 'created': '2021-10-01 15:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a4530eb37d31c638fc0f9b9f72f55f9d4d65e03a', 'message': ""WIP - Test replacing paramiko in ansible with libssh\n\nThis patch will attempt to replace paramiko with pylibssh in order\nto, firstly, use a fips compliant library.  This will hopefully get\naround the issues we're seeing with rsa keys in our fips tests.\nSee https://www.ansible.com/blog/new-libssh-connection-plugin-for-ansible-network\nfor details.\n\nChange-Id: I94e47469ccb53cc581b4ddbbd8e5e5f60b20d1a5\n""}, {'number': 4, 'created': '2021-10-04 20:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dedf65a27778791ee589f003a7b8d583532f4d0c', 'message': ""WIP - Test replacing paramiko in ansible with libssh\n\nThis patch will attempt to replace paramiko with pylibssh in order\nto, firstly, use a fips compliant library.  This will hopefully get\naround the issues we're seeing with rsa keys in our fips tests.\nSee https://www.ansible.com/blog/new-libssh-connection-plugin-for-ansible-network\nfor details.\n\nChange-Id: I94e47469ccb53cc581b4ddbbd8e5e5f60b20d1a5\n""}, {'number': 5, 'created': '2021-10-27 20:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/25447653ace0f46d874519160626b0b7e4d113ff', 'message': ""WIP - Test replacing paramiko in ansible with libssh\n\nThis patch will attempt to replace paramiko with pylibssh in order\nto, firstly, use a fips compliant library.  This will hopefully get\naround the issues we're seeing with rsa keys in our fips tests.\nSee https://www.ansible.com/blog/new-libssh-connection-plugin-for-ansible-network\nfor details.\n\nChange-Id: I94e47469ccb53cc581b4ddbbd8e5e5f60b20d1a5\n""}, {'number': 6, 'created': '2021-11-17 14:59:59.000000000', 'files': ['requirements.txt', 'ansible.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c9dfc241dde58257d12b9101ce76c05ca9312888', 'message': ""WIP - Test replacing paramiko in ansible with libssh\n\nThis patch will attempt to replace paramiko with pylibssh in order\nto, firstly, use a fips compliant library.  This will hopefully get\naround the issues we're seeing with rsa keys in our fips tests.\nSee https://www.ansible.com/blog/new-libssh-connection-plugin-for-ansible-network\nfor details.\n\nChange-Id: I94e47469ccb53cc581b4ddbbd8e5e5f60b20d1a5\n""}]",5,811484,c9dfc241dde58257d12b9101ce76c05ca9312888,38,5,6,9914,,,0,"WIP - Test replacing paramiko in ansible with libssh

This patch will attempt to replace paramiko with pylibssh in order
to, firstly, use a fips compliant library.  This will hopefully get
around the issues we're seeing with rsa keys in our fips tests.
See https://www.ansible.com/blog/new-libssh-connection-plugin-for-ansible-network
for details.

Change-Id: I94e47469ccb53cc581b4ddbbd8e5e5f60b20d1a5
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/84/811484/1 && git format-patch -1 --stdout FETCH_HEAD,"['install-deps.sh', 'ansible.cfg']",2,439185fc97c63ac25d032f1c6127450f05ad3feb,fips-compliance,[persistent_connection] ssh_type = libssh ,,7,0
openstack%2Ftripleo-ci~master~I18bb1490ec14ebc9616be46120d2997271d77ba5,openstack/tripleo-ci,master,I18bb1490ec14ebc9616be46120d2997271d77ba5,"Revert ""Exclude libvirt/qemu from AppStream: container""",NEW,2021-11-23 22:26:25.000000000,2022-06-01 06:53:46.000000000,,"[{'_account_id': 7144}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30742}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-11-23 22:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/232b5245b3b69fe786234c3b66d1fdfc03b4b78c', 'message': 'Revert ""Exclude libvirt/qemu from AppStream: container""\n\nThis reverts commit dd077fbaaf5cd90345e2daa8fbe510dec80059d9.\n\nReason for revert: Testing NovaLibvirtNumPciePorts change in stead\n\nChange-Id: I18bb1490ec14ebc9616be46120d2997271d77ba5\n'}, {'number': 2, 'created': '2021-11-29 20:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ee1d4cec1fe22eda9368d68ba102bb8e22edded0', 'message': 'Revert ""Exclude libvirt/qemu from AppStream: container""\n\nThis reverts commit dd077fbaaf5cd90345e2daa8fbe510dec80059d9.\n\nReason for revert: Testing NovaLibvirtNumPciePorts change in stead\n\nChange-Id: I18bb1490ec14ebc9616be46120d2997271d77ba5\n'}, {'number': 3, 'created': '2021-11-30 07:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3ff0b5c7d75109c19adc84a0c18fd2cacfd3ad85', 'message': 'Revert ""Exclude libvirt/qemu from AppStream: container""\n\nThis reverts commit dd077fbaaf5cd90345e2daa8fbe510dec80059d9.\nReason for revert: Testing NovaLibvirtNumPciePorts change in stead\n\nRelated-Bug: #1950916\nChange-Id: I18bb1490ec14ebc9616be46120d2997271d77ba5\n'}, {'number': 4, 'created': '2021-12-01 22:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/82896d4d45c29d606c12a6b991ef642e98dc42fa', 'message': 'Revert ""Exclude libvirt/qemu from AppStream: container""\n\nThis reverts commit dd077fbaaf5cd90345e2daa8fbe510dec80059d9.\nReason for revert: Testing NovaLibvirtNumPciePorts change in stead\n\nRelated-Bug: #1950916\nChange-Id: I18bb1490ec14ebc9616be46120d2997271d77ba5\n'}, {'number': 5, 'created': '2021-12-21 09:04:44.000000000', 'files': ['playbooks/tripleo-buildcontainers/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/23c3739e757135878ca2543c19847b98110209ac', 'message': 'Revert ""Exclude libvirt/qemu from AppStream: container""\n\nThis reverts commit dd077fbaaf5cd90345e2daa8fbe510dec80059d9.\nReason for revert: Testing NovaLibvirtNumPciePorts change in stead\n\nRelated-Bug: #1950916\nChange-Id: I18bb1490ec14ebc9616be46120d2997271d77ba5\n'}]",5,818904,23c3739e757135878ca2543c19847b98110209ac,25,8,5,9976,,,0,"Revert ""Exclude libvirt/qemu from AppStream: container""

This reverts commit dd077fbaaf5cd90345e2daa8fbe510dec80059d9.
Reason for revert: Testing NovaLibvirtNumPciePorts change in stead

Related-Bug: #1950916
Change-Id: I18bb1490ec14ebc9616be46120d2997271d77ba5
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/04/818904/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tripleo-buildcontainers/pre.yaml'],1,232b5245b3b69fe786234c3b66d1fdfc03b4b78c,lp1950916,," # workaround for LP #1950916 - name: Check if /etc/yum.repos.d/CentOS-Stream-AppStream.repo exists stat: path: /etc/yum.repos.d/CentOS-Stream-AppStream.repo register: stat_appstream - name: Exclude libvirt/qemu from AppStream repo become: true lineinfile: dest: /etc/yum.repos.d/CentOS-Stream-AppStream.repo line: ""exclude=libvirt*,python*libvirt*,qemu*"" when: - stat_appstream.stat.exists - release is defined and release in ['master', 'wallaby'] ",0,15
openstack%2Ftripleo-quickstart-extras~master~Ib424ad4a0c7d02ed017d88da0059053ca8629b66,openstack/tripleo-quickstart-extras,master,Ib424ad4a0c7d02ed017d88da0059053ca8629b66,[WIP] Migrate overcloud-deploy.sh shell script to ansible roles part-4,NEW,2021-07-11 06:19:33.000000000,2022-06-01 06:53:37.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-11 06:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4fa729a6769c284720addeebeeeaaf37394b8906', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles\n\nMigreate overcloud-deploy.sh shell script to the\ntripleo-operator-ansible roles.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Ib424ad4a0c7d02ed017d88da0059053ca8629b66\n'}, {'number': 2, 'created': '2021-07-11 06:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bac53a0e8591b0f5a13d2b2c6ab9f3eeeb75babb', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles\n\nMigreate overcloud-deploy.sh shell script to the\ntripleo-operator-ansible roles.\n\nChange-Id: Ib424ad4a0c7d02ed017d88da0059053ca8629b66\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 3, 'created': '2021-07-11 15:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/082ba82c57116e0b8ed8a637ddbe19f7d566a8ca', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles\n\nMigreate overcloud-deploy.sh shell script to the\ntripleo-operator-ansible roles.\n\nChange-Id: Ib424ad4a0c7d02ed017d88da0059053ca8629b66\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 4, 'created': '2021-07-12 09:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/84f1af6c72c5e9c63fec56034003acb20849fa29', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles\n\nMigreate overcloud-deploy.sh shell script to the\ntripleo-operator-ansible roles.\n\nChange-Id: Ib424ad4a0c7d02ed017d88da0059053ca8629b66\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 5, 'created': '2021-07-12 12:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0d36d4b906ce9d6abb6c46da11d1347c09a323ab', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles\n\nMigreate overcloud-deploy.sh shell script to the\ntripleo-operator-ansible roles.\n\nChange-Id: Ib424ad4a0c7d02ed017d88da0059053ca8629b66\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 6, 'created': '2021-07-12 16:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2596bec15af0bb817cb1a9c8d391142d0bffad49', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles\n\nMigreate overcloud-deploy.sh shell script to the\ntripleo-operator-ansible roles.\n\nChange-Id: Ib424ad4a0c7d02ed017d88da0059053ca8629b66\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 7, 'created': '2021-07-12 19:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/64031e13d16cfa1124e874055e7fe5cc594beed4', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles\n\nMigreate overcloud-deploy.sh shell script to the\ntripleo-operator-ansible roles.\n\nChange-Id: Ib424ad4a0c7d02ed017d88da0059053ca8629b66\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 8, 'created': '2021-07-14 10:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/920081d7190d004c11929b2d67a74cf2c7fd432d', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles\n\nMigreate overcloud-deploy.sh shell script to the\ntripleo-operator-ansible roles.\n\nChange-Id: Ib424ad4a0c7d02ed017d88da0059053ca8629b66\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 9, 'created': '2021-07-14 14:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e19e726fff0583cfe169ff5dd5f8d7388c5dd1fa', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles\n\nMigreate overcloud-deploy.sh shell script to the\ntripleo-operator-ansible roles.\n\nChange-Id: Ib424ad4a0c7d02ed017d88da0059053ca8629b66\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 10, 'created': '2021-07-15 16:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d9b8761c79146e01dab4ed833ebd998834f7ffb0', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles\n\nMigreate overcloud-deploy.sh shell script to the\ntripleo-operator-ansible roles.\n\nChange-Id: Ib424ad4a0c7d02ed017d88da0059053ca8629b66\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 11, 'created': '2021-08-20 16:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b7e09ec855b202ffff87ac232c23436af1848f91', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles part-4\n\nMigreate overcloud deploy from shell script to\ntripleo_operator_overcloud_deploy role in tripleo.operator\ncollections.\n\nChange-Id: Ib424ad4a0c7d02ed017d88da0059053ca8629b66\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 12, 'created': '2021-08-24 13:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/583fea7518a4ef29d1d79d35d70eaa43358c37e6', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles part-4\n\nMigreate overcloud deploy from shell script to\ntripleo_operator_overcloud_deploy role in tripleo.operator\ncollections.\n\nChange-Id: Ib424ad4a0c7d02ed017d88da0059053ca8629b66\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 13, 'created': '2021-08-25 10:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f89e6f452e4cdc1dcf3ed5c1663d7f5bcc6ed52a', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles part-4\n\nMigreate overcloud deploy from shell script to\ntripleo_operator_overcloud_deploy role in tripleo.operator\ncollections.\n\nChange-Id: Ib424ad4a0c7d02ed017d88da0059053ca8629b66\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 14, 'created': '2021-08-30 11:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8eb3e61f14e1a095cd04c4dab0981a4ec8f7955c', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles part-4\n\nMigreate overcloud deploy from shell script to\ntripleo_operator_overcloud_deploy role in tripleo.operator\ncollections.\n\nChange-Id: Ib424ad4a0c7d02ed017d88da0059053ca8629b66\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 15, 'created': '2021-08-30 18:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ea77f49b2078524e10edf866727c8316c4b79e4f', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles part-4\n\nMigreate overcloud deploy from shell script to\ntripleo_operator_overcloud_deploy role in tripleo.operator\ncollections.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-operator-ansible/+/806047\n\nChange-Id: Ib424ad4a0c7d02ed017d88da0059053ca8629b66\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 16, 'created': '2021-09-07 04:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/08b149c436fe8f0254c392a0a0a916a73daaac28', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles part-4\n\nMigreate overcloud deploy from shell script to\ntripleo_operator_overcloud_deploy role in tripleo.operator\ncollections.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-operator-ansible/+/806047\n\nChange-Id: Ib424ad4a0c7d02ed017d88da0059053ca8629b66\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 17, 'created': '2021-09-10 14:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9cc8aa9f87c49f54a78e7f641e88cc9da4cde60b', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles part-4\n\nMigreate overcloud deploy from shell script to\ntripleo_operator_overcloud_deploy role in tripleo.operator\ncollections.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-operator-ansible/+/806047\nDepends-On: https://review.opendev.org/c/openstack/tripleo-operator-ansible/+/807778\n\nChange-Id: Ib424ad4a0c7d02ed017d88da0059053ca8629b66\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 18, 'created': '2021-09-13 05:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/eebe2f34c5429691d79a9fcb2efa44b691b9d3dc', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles part-4\n\nMigreate overcloud deploy from shell script to\ntripleo_operator_overcloud_deploy role in tripleo.operator\ncollections.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-operator-ansible/+/806047\nDepends-On: https://review.opendev.org/c/openstack/tripleo-operator-ansible/+/807778\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/808577\n\nChange-Id: Ib424ad4a0c7d02ed017d88da0059053ca8629b66\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 19, 'created': '2021-12-09 11:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b35b51835907df5130b719c8feb410997548e402', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles part-4\n\nMigreate overcloud deploy from shell script to\ntripleo_operator_overcloud_deploy role in tripleo.operator\ncollections.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/808577\n\nChange-Id: Ib424ad4a0c7d02ed017d88da0059053ca8629b66\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 20, 'created': '2021-12-09 13:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9879f89c669b89e0192e1e8107381ca2bec2644c', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles part-4\n\nMigreate overcloud deploy from shell script to\ntripleo_operator_overcloud_deploy role in tripleo.operator\ncollections.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/808577\n\nChange-Id: Ib424ad4a0c7d02ed017d88da0059053ca8629b66\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 21, 'created': '2021-12-14 13:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/556f8b50e9fbeac2cc270c0769f3f48cd0d563b5', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles part-4\n\nMigreate overcloud deploy from shell script to\ntripleo_operator_overcloud_deploy role in tripleo.operator\ncollections.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/808577\n\nChange-Id: Ib424ad4a0c7d02ed017d88da0059053ca8629b66\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 22, 'created': '2021-12-14 16:29:13.000000000', 'files': ['roles/overcloud-deploy/tasks/create-scripts.yml', 'roles/overcloud-deploy/tasks/deploy-overcloud.yml', 'roles/overcloud-deploy/tasks/overcloud-status.yml', 'roles/overcloud-deploy/tasks/pre-deploy.yml', 'roles/overcloud-deploy/defaults/main.yml', 'roles/overcloud-deploy/templates/overcloud-deploy.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fb9448dd1940deecac38bb0ce0eadd89aef188ce', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles part-4\n\nMigreate overcloud deploy from shell script to\ntripleo_operator_overcloud_deploy role in tripleo.operator\ncollections.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/808577\n\nChange-Id: Ib424ad4a0c7d02ed017d88da0059053ca8629b66\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}]",2,800338,fb9448dd1940deecac38bb0ce0eadd89aef188ce,91,2,22,30750,,,0,"[WIP] Migrate overcloud-deploy.sh shell script to ansible roles part-4

Migreate overcloud deploy from shell script to
tripleo_operator_overcloud_deploy role in tripleo.operator
collections.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/808577

Change-Id: Ib424ad4a0c7d02ed017d88da0059053ca8629b66
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/38/800338/22 && git format-patch -1 --stdout FETCH_HEAD,"['roles/overcloud-deploy/tasks/create-scripts.yml', 'roles/overcloud-deploy/tasks/deploy-overcloud.yml', 'roles/overcloud-deploy/tasks/overcloud-status.yml', 'roles/overcloud-deploy/templates/overcloud-deploy.sh.j2']",4,4fa729a6769c284720addeebeeeaaf37394b8906,utilize-tripleo-operator,,"#!/bin/bash set -ux ### --start_docs ## Deploying the overcloud ## ======================= ## Prepare Your Environment ## ------------------------ ## * Source in the undercloud credentials. ## :: source {{ working_dir }}/stackrc {% if hypervisor_wait|bool %} ### --stop_docs # Wait until there are hypervisors available. while true; do count=$(openstack hypervisor stats show -c count -f value) if [ $count -gt 0 ]; then break fi done {% endif %} ### --start_docs {% if network_provision|bool %} openstack overcloud network provision \ --output {{ working_dir }}/overcloud-networks-deployed.yaml \ {{overcloud_templates_path}}/ci/network_data.yaml if [ $? -ne 0 ]; then exit 1 fi {% endif %} {% if network_provision|bool %} openstack overcloud network vip provision \ --output {{ working_dir }}/overcloud-vips-deployed.yaml \ --stack {{ stack_name }} \ {{overcloud_templates_path}}/ci/vip_data.yaml if [ $? -ne 0 ]; then exit 1 fi {% endif %} {% if baremetal_provision|bool %} ## * Provision the baremetal nodes ## :: openstack overcloud node provision \ {% if network_provision|bool %}--network-ports{% endif %} \ --stack {{ stack_name }} \ --output {{ working_dir }}/overcloud-baremetal-deployed.yaml {{ working_dir }}/overcloud_baremetal_deploy.yaml if [ $? -ne 0 ]; then exit 1 fi {% endif %} ## * Deploy the overcloud! ## :: openstack overcloud deploy --stack {{ stack_name }} \ {% if network_provision|bool %}--skip-nodes-and-networks{% endif %} \ {% if release is not in ['newton', 'ocata', 'pike', 'queens'] %}--override-ansible-cfg {{ working_dir }}/custom_ansible.cfg{% endif %} \ {% if release not in ['queens', 'stein', 'train', 'ussuri', 'victoria'] and not (ephemeral_heat|bool) %}--heat-type installed{% endif %} --templates {{overcloud_templates_path}} \ {{ deploy_args | regex_replace(""\n"", "" "") }} \ ""$@"" && status_code=0 || status_code=$? ### --stop_docs {% if not (ephemeral_heat|default(false)|bool) %} # Check if the deployment has started. If not, exit gracefully. If yes, check for errors. if ! openstack stack list | grep -q {{ stack_name }}; then echo ""overcloud deployment not started. Check the deploy configurations"" exit 1 # We don't always get a useful error code from the openstack deploy command, # so check `openstack stack list` for a CREATE_COMPLETE or an UPDATE_COMPLETE # status. elif ! openstack stack list | grep -Eq '(CREATE|UPDATE)_COMPLETE'; then {%if release not in ['mitaka', 'liberty'] %} # get the failures list openstack stack failures list {{ stack_name }} --long > {{ failed_deployment_list }} || true {% endif %} # get any puppet related errors for failed in $(openstack stack resource list \ --nested-depth 5 {{ stack_name }} | grep FAILED | grep 'StructuredDeployment ' | cut -d '|' -f3) do echo ""openstack software deployment show output for deployment: $failed"" >> {{ failed_deployments_log }} echo ""######################################################"" >> {{ failed_deployments_log }} openstack software deployment show $failed >> {{ failed_deployments_log }} echo ""######################################################"" >> {{ failed_deployments_log }} echo ""puppet standard error for deployment: $failed"" >> {{ failed_deployments_log }} echo ""######################################################"" >> {{ failed_deployments_log }} # the sed part removes color codes from the text openstack software deployment show $failed -f json | jq -r .output_values.deploy_stderr | sed -r ""s:\x1B\[[0-9;]*[mK]::g"" >> {{ failed_deployments_log }} echo ""######################################################"" >> {{ failed_deployments_log }} # We need to exit with 1 because of the above || true done exit 1 {%if release in ['master'] %} elif ! openstack overcloud status --plan {{ stack_name }} | grep -Eq 'DEPLOY_SUCCESS'; then # NOTE(emilien) ""openstack overcloud failures"" was introduced in Rocky openstack overcloud failures --plan {{ stack_name }} >> {{ failed_deployment_list }} || true {% endif %} fi {% endif %} exit $status_code ",124,129
openstack%2Fopenstack-tempest-skiplist~master~Ie9f7dade6d1f53e7cf2042aac04b164c51292f77,openstack/openstack-tempest-skiplist,master,Ie9f7dade6d1f53e7cf2042aac04b164c51292f77,[DNM] Need to clean skiplist,NEW,2021-11-23 13:17:27.000000000,2022-06-01 06:53:30.000000000,,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-11-23 13:17:27.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/56df33fce9bf96177a72beb555a27a2c16716ae7', 'message': '[DNM] Need to clean skiplist\n\nThere are certain tests which have been reported\nwith super old bugs. Hence, there is a need to\nexamine the tests.\n\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: Ie9f7dade6d1f53e7cf2042aac04b164c51292f77\n'}]",0,818916,56df33fce9bf96177a72beb555a27a2c16716ae7,3,3,1,30742,,,0,"[DNM] Need to clean skiplist

There are certain tests which have been reported
with super old bugs. Hence, there is a need to
examine the tests.

Signed-off by: Soniya Vyas<svyas@redhat.com>

Change-Id: Ie9f7dade6d1f53e7cf2042aac04b164c51292f77
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/16/818916/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,56df33fce9bf96177a72beb555a27a2c16716ae7,fix-test,, - test: 'neutron_tempest_plugin.api.test_trunk_negative' deployment: - 'overcloud' releases: - name: 'master' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'victoria' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_timestamp' deployment: - 'overcloud' releases: - name: 'master' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'victoria' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_subnetpools_negative' deployment: - 'overcloud' releases: - name: 'master' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'victoria' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_service_type_management' deployment: - 'overcloud' releases: - name: 'master' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'victoria' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_security_groups' deployment: - 'overcloud' releases: - name: 'master' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'victoria' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_routers_negative' deployment: - 'overcloud' releases: - name: 'master' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'victoria' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_routers' deployment: - 'overcloud' releases: - name: 'master' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'victoria' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_qos_negative' deployment: - 'overcloud' releases: - name: 'master' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'victoria' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_qos' deployment: - 'overcloud' releases: - name: 'master' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'victoria' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_ports' deployment: - 'overcloud' releases: - name: 'master' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'victoria' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'train' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_networks_negative' deployment: - 'overcloud' releases: - name: 'master' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'victoria' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_networks' deployment: - 'overcloud' releases: - name: 'master' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'victoria' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_floating_ips_negative' deployment: - 'overcloud' releases: - name: 'master' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'victoria' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_floating_ips' deployment: - 'overcloud' releases: - name: 'master' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'victoria' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_flavors_extensions' deployment: - 'overcloud' releases: - name: 'master' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'victoria' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_extension_driver_port_security' deployment: - 'overcloud' releases: - name: 'master' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'victoria' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_allowed_address_pair' deployment: - 'overcloud' releases: - name: 'master' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'victoria' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_address_scopes_negative' deployment: - 'overcloud' releases: - name: 'master' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'victoria' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_address_scopes' deployment: - 'overcloud' releases: - name: 'master' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'victoria' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.admin.test_shared_network_extension' deployment: - 'overcloud' releases: - name: 'master' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'victoria' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.admin.test_routers_ha' deployment: - 'overcloud' releases: - name: 'master' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'victoria' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'train' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.admin.test_networks.NetworksTestAdmin' deployment: - 'overcloud' releases: - name: 'master' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'victoria' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.admin.test_l3_agent_scheduler' deployment: - 'overcloud' releases: - name: 'master' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'victoria' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'train' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - name: master reason: Failed to find floating IP lp: https://bugs.launchpad.net/tripleo/+bug/1923194,0,334
openstack%2Ftripleo-quickstart-extras~master~I3b9fd334dde973f3cf1c40036ebe14195e725742,openstack/tripleo-quickstart-extras,master,I3b9fd334dde973f3cf1c40036ebe14195e725742,Add job check for NeutronDnsDomain fix,NEW,2021-11-19 12:25:14.000000000,2022-06-01 06:52:57.000000000,,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-11-19 12:25:14.000000000', 'files': ['roles/standalone/templates/standalone_config.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a6a6c496024e6c8b7b5105c3a02cd031beba383e', 'message': ""Add job check for NeutronDnsDomain fix\n\nAdding additional check for 'job' definition\nso the check does not fail outside of a CI\nenvironment.\n\nChange-Id: I3b9fd334dde973f3cf1c40036ebe14195e725742\nRelated-Bug: #1950815\n""}]",2,818545,a6a6c496024e6c8b7b5105c3a02cd031beba383e,12,5,1,9976,,,0,"Add job check for NeutronDnsDomain fix

Adding additional check for 'job' definition
so the check does not fail outside of a CI
environment.

Change-Id: I3b9fd334dde973f3cf1c40036ebe14195e725742
Related-Bug: #1950815
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/45/818545/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/templates/standalone_config.yaml.j2'],1,a6a6c496024e6c8b7b5105c3a02cd031beba383e,bug/195081-job,"{% if job is defined and release is defined and release not in ['train', 'ussuri'] %}","{% if release is defined and release not in ['train', 'ussuri'] %}",1,1
openstack%2Fovsdbapp~stable%2Fwallaby~I2ac7ff0de6a5e6e75ca54c7b1c9704615f9971a0,openstack/ovsdbapp,stable/wallaby,I2ac7ff0de6a5e6e75ca54c7b1c9704615f9971a0,"Use the OS threading module for ""RowEventHandler""",ABANDONED,2022-05-11 13:13:21.000000000,2022-06-01 06:50:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-05-11 13:13:21.000000000', 'files': ['ovsdbapp/event.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/3aa4e9bdd1a79cd5d29f4b9636b521b04f80a51c', 'message': 'Use the OS threading module for ""RowEventHandler""\n\nIn case of using this library in a program that has patched the\n""threading"" module, using the ""eventlet"" one, the ""RowEventHandler""\nretrieves the original module (the python ""threading"" module, that\nuses OS preemptive threads) to spawn the ""notify_loop"" thread.\n\nCloses-Bug: #1964940\nChange-Id: I2ac7ff0de6a5e6e75ca54c7b1c9704615f9971a0\n'}]",1,841429,3aa4e9bdd1a79cd5d29f4b9636b521b04f80a51c,4,2,1,29775,,,0,"Use the OS threading module for ""RowEventHandler""

In case of using this library in a program that has patched the
""threading"" module, using the ""eventlet"" one, the ""RowEventHandler""
retrieves the original module (the python ""threading"" module, that
uses OS preemptive threads) to spawn the ""notify_loop"" thread.

Closes-Bug: #1964940
Change-Id: I2ac7ff0de6a5e6e75ca54c7b1c9704615f9971a0
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/29/841429/1 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/event.py'],1,3aa4e9bdd1a79cd5d29f4b9636b521b04f80a51c,,"def orig_threading_module(): """"""Returns the python/lib/threading module This method returns the in-tree Python lib/threading module. If this library is imported in a system using eventlet and the ""threading"" module has been replaced with the eventlet/thread module, this method will recover the original reference to the module. """""" if 'eventlet' not in sys.modules: return threading # pylint: disable=import-outside-toplevel from eventlet import patcher gt_modules = getattr(patcher, '_green_%s_modules' % 'thread') if not gt_modules: # The system is using eventlet but the ""threading"" module has not been # patched (e.g.: Windows). return threading for mod_name, module in gt_modules(): if mod_name == 'threading': return module return threading _threading = orig_threading_module() self.notify_thread = _threading.Thread(target=self.notify_loop)", self.notify_thread = threading.Thread(target=self.notify_loop),28,1
openstack%2Fdiskimage-builder~master~Iccd84722e5933498ccd3f4211bd36a6398330e2d,openstack/diskimage-builder,master,Iccd84722e5933498ccd3f4211bd36a6398330e2d,[DNM] test patch,ABANDONED,2022-05-09 05:46:33.000000000,2022-06-01 06:48:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-09 05:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/22261ef23f99eaf96d32d4fd0d20663ea42a599d', 'message': '[DNM] test patch\n\nThis is testpatch for patch[1] testing.\nhttps://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/841064\n\nChange-Id: Iccd84722e5933498ccd3f4211bd36a6398330e2d\n'}, {'number': 2, 'created': '2022-05-13 05:34:53.000000000', 'files': ['.zuul.d/project.yaml', 'diskimage_builder/elements/cloud-init/post-install.d/22-cloud-init-ssh_genkeytypes'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c8b369875163039ee671c38083413ea3a7ac94df', 'message': '[DNM] test patch\n\nThis is testpatch for patch[1] testing.\nhttps://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/841064\n\nChange-Id: Iccd84722e5933498ccd3f4211bd36a6398330e2d\n'}]",0,841065,c8b369875163039ee671c38083413ea3a7ac94df,7,1,2,29775,,,0,"[DNM] test patch

This is testpatch for patch[1] testing.
https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/841064

Change-Id: Iccd84722e5933498ccd3f4211bd36a6398330e2d
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/65/841065/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', 'diskimage_builder/elements/cloud-init/post-install.d/22-cloud-init-ssh_genkeytypes']",2,22261ef23f99eaf96d32d4fd0d20663ea42a599d,,# test,,2,63
openstack%2Fpython-tripleoclient~master~I8735aae725c80e5d9b44a9d1ff8c1cfa27aa3675,openstack/python-tripleoclient,master,I8735aae725c80e5d9b44a9d1ff8c1cfa27aa3675,[DNM ]bump ANSIBLE_SSH_RETRIES for a test,ABANDONED,2022-05-10 16:01:11.000000000,2022-06-01 06:47:04.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2022-05-10 16:01:11.000000000', 'files': ['tripleoclient/utils.py', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/782b29ba09d0153b6e2c3c791ea454da4ae23cf3', 'message': '[DNM ]bump ANSIBLE_SSH_RETRIES for a test\n\nChange-Id: I8735aae725c80e5d9b44a9d1ff8c1cfa27aa3675\n'}]",0,841304,782b29ba09d0153b6e2c3c791ea454da4ae23cf3,3,1,1,29775,,,0,"[DNM ]bump ANSIBLE_SSH_RETRIES for a test

Change-Id: I8735aae725c80e5d9b44a9d1ff8c1cfa27aa3675
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/04/841304/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'zuul.d/layout.yaml']",2,782b29ba09d0153b6e2c3c791ea454da4ae23cf3,, check: jobs: [], templates: - check-requirements - openstack-cover-jobs - openstackclient-plugin-jobs - openstack-python3-yoga-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - tripleo-buildimage-jobs - tripleo-multinode-container-minimal-pipeline - tripleo-undercloud-jobs-pipeline - tripleo-standalone-scenarios-pipeline - tripleo-upgrades-master-pipeline check: jobs: - tripleo-ci-centos-9-content-provider: dependencies: - openstack-tox-pep8 - openstack-tox-py36 - openstack-tox-py39 - tripleo-ci-centos-9-standalone: vars: enable_validation: true validation_component: validation command: openstack tripleo validator,2,24
openstack%2Fcinder~master~I1d14cf1589a388d3fe1ab0824aa7e982341417fe,openstack/cinder,master,I1d14cf1589a388d3fe1ab0824aa7e982341417fe,Add ceph-iscsi CI job,NEW,2019-06-24 14:10:05.000000000,2022-06-01 06:22:39.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22076}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22997}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 31868}, {'_account_id': 32159}, {'_account_id': 32291}]","[{'number': 1, 'created': '2019-06-24 14:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/41241f293e8fe4be3749cec81ae3da6a9368e24e', 'message': 'WIP ceph-iscsci CI work\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 2, 'created': '2019-07-01 15:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5c82b139035dbe367a5e3624eba95fb74975bb6a', 'message': 'WIP ceph-iscsci CI work\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 3, 'created': '2019-07-02 12:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f9635c8c3fbd1af290a906ce612c59771629c60d', 'message': 'Add ceph-iscsci CI job\n\nDepends-On: https://review.opendev.org/#/c/668667/\nDepends-On: https://review.opendev.org/#/c/668668/\nDepends-On: https://review.opendev.org/#/c/662829/\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 4, 'created': '2019-07-02 17:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0b27c05f7a51b3505b05f692c9a202bf95e50971', 'message': 'Add ceph-iscsci CI job\n\nDepends-On: https://review.opendev.org/#/c/668667/\nDepends-On: https://review.opendev.org/#/c/668668/\nDepends-On: https://review.opendev.org/#/c/662829/\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 5, 'created': '2019-07-02 17:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5769599e89eec1f1076dfd80a6f27560515d2cbf', 'message': 'Add ceph-iscsci CI job\n\nDepends-On: https://review.opendev.org/#/c/668667/\nDepends-On: https://review.opendev.org/#/c/668668/\nDepends-On: https://review.opendev.org/#/c/662829/\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 6, 'created': '2020-07-14 02:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/61414a4b3846bf427b8c227c940d88e857166ac3', 'message': 'Add ceph-iscsci CI job\n\nDepends-On: https://review.opendev.org/#/c/668667/\nDepends-On: https://review.opendev.org/#/c/668668/\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On: https://review.opendev.org/#/c/736508/\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 7, 'created': '2020-07-14 03:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6f9652a9e129b79163701a293f17a186625f2a1d', 'message': 'Add ceph-iscsci CI job\n\nDepends-On: https://review.opendev.org/#/c/668667/\nDepends-On: https://review.opendev.org/#/c/668668/\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On: https://review.opendev.org/#/c/736508/\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 8, 'created': '2020-07-17 04:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1e07aa452b2fcf148ae5008006d22b5a5f79001a', 'message': 'Add ceph-iscsci CI job\n\nDepends-On: https://review.opendev.org/#/c/668667/\nDepends-On: https://review.opendev.org/#/c/668668/\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On: https://review.opendev.org/#/c/736508/\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 9, 'created': '2020-07-27 07:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e471062548f4a16d814b523504cee378cc65c55c', 'message': 'Add ceph-iscsci CI job\n\nDepends-On: https://review.opendev.org/#/c/668667/\nDepends-On: https://review.opendev.org/#/c/668668/\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On: https://review.opendev.org/#/c/736508/\nDepends-On: https://review.opendev.org/#/c/743156/\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 10, 'created': '2020-07-28 06:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/72fd45ea2f469204fcd98a4d4a408c66892a4209', 'message': 'Add ceph-iscsci CI job\n\nNote: All other tests have been removed temporary\n\nDepends-On: https://review.opendev.org/#/c/668667/\nDepends-On: https://review.opendev.org/#/c/668668/\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On: https://review.opendev.org/#/c/736508/\nDepends-On: https://review.opendev.org/#/c/743156/\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 11, 'created': '2020-07-28 07:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c1438a13b8fa2f4165fefbcccf0992650ed6ddbc', 'message': 'Add ceph-iscsci CI job\n\nNote: All other tests have been removed temporary\n\nDepends-On: https://review.opendev.org/#/c/668667/\nDepends-On: https://review.opendev.org/#/c/668668/\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On: https://review.opendev.org/#/c/736508/\nDepends-On: https://review.opendev.org/#/c/743156/\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 12, 'created': '2020-07-28 07:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/777ddc4f45712d5f64de63027f2507dddba4e90b', 'message': 'Add ceph-iscsci CI job\n\nNote: All other tests have been removed temporary\n\nDepends-On: https://review.opendev.org/#/c/668667/\nDepends-On: https://review.opendev.org/#/c/668668/\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On: https://review.opendev.org/#/c/736508/\nDepends-On: https://review.opendev.org/#/c/743156/\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 13, 'created': '2020-08-03 01:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8c6fea73b56a213808f7621a439880768d7f3a69', 'message': 'Add ceph-iscsci CI job\n\nNote: All other tests have been removed temporary\n\nDepends-On: https://review.opendev.org/#/c/668667/\nDepends-On: https://review.opendev.org/#/c/668668/\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On: https://review.opendev.org/#/c/736508/\nDepends-On: https://review.opendev.org/#/c/743156/\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 14, 'created': '2020-08-03 04:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4032599e642f943f5335f4472936efff82ef8c94', 'message': 'Add ceph-iscsci CI job\n\nNote: All other tests have been removed temporary\n\nDepends-On: https://review.opendev.org/#/c/668667/\nDepends-On: https://review.opendev.org/#/c/668668/\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On: https://review.opendev.org/#/c/736508/\nDepends-On: https://review.opendev.org/#/c/743156/\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 15, 'created': '2020-08-10 16:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0083ae75e4d87b1ef86d757e3d88b56ca7671108', 'message': 'Add ceph-iscsci CI job\n\nNote: All other tests have been removed temporary\n\nDepends-On: https://review.opendev.org/#/c/668667/\nDepends-On: https://review.opendev.org/#/c/668668/\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On: https://review.opendev.org/#/c/736508/\nDepends-On: https://review.opendev.org/#/c/743156/\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 16, 'created': '2020-08-26 06:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3f46d845adfe5859bb69b3ba7b1444e87e91bca7', 'message': 'Add ceph-iscsci CI job\n\nNote: All other tests have been removed temporary\n\nDepends-On: https://review.opendev.org/#/c/668667/\nDepends-On: https://review.opendev.org/#/c/668668/\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On: https://review.opendev.org/#/c/736508/\nDepends-On: https://review.opendev.org/#/c/743156/\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 17, 'created': '2020-08-27 01:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/43ecb7a27b4259f342bdf817ef03c750ddc050ae', 'message': 'Add ceph-iscsci CI job\n\nNote: All other tests have been removed temporary\n\nDepends-On: https://review.opendev.org/#/c/668667/\nDepends-On: https://review.opendev.org/#/c/668668/\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On: https://review.opendev.org/#/c/736508/\nDepends-On: https://review.opendev.org/#/c/743156/\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 18, 'created': '2020-08-27 01:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/047c16b466308648ac67e4a361956dc5d9fdb09e', 'message': 'Add ceph-iscsci CI job\n\nNote: All other tests have been removed temporary\n\nDepends-On: https://review.opendev.org/#/c/668667/\nDepends-On: https://review.opendev.org/#/c/668668/\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On: https://review.opendev.org/#/c/736508/\nDepends-On: https://review.opendev.org/#/c/743156/\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 19, 'created': '2020-08-27 04:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3a5931666d950015984c93cb9a601d1951e74f07', 'message': 'Add ceph-iscsci CI job\n\nNote: All other tests have been removed temporary\n\nDepends-On: https://review.opendev.org/#/c/668667/\nDepends-On: https://review.opendev.org/#/c/668668/\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On: https://review.opendev.org/#/c/736508/\nDepends-On: https://review.opendev.org/#/c/743156/\nDepends-On: https://review.opendev.org/748354\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 20, 'created': '2020-08-27 06:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/043b57ef80a5538b24b99b548b5227a31874fd3e', 'message': 'Add ceph-iscsci CI job\n\nNote: All other tests have been removed temporary\n\nDepends-On: https://review.opendev.org/#/c/668667/\nDepends-On: https://review.opendev.org/#/c/668668/\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On: https://review.opendev.org/#/c/736508/\nDepends-On: https://review.opendev.org/#/c/743156/\nDepends-On: https://review.opendev.org/748354\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 21, 'created': '2020-10-15 22:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/00ac33c7fe257459fb80a182247b64465608a2ca', 'message': 'Add ceph-iscsci CI job\n\nNote: All other tests have been removed temporary\n\nDepends-On: https://review.opendev.org/#/c/668667/\nDepends-On: https://review.opendev.org/#/c/668668/\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On: https://review.opendev.org/#/c/736508/\nDepends-On: https://review.opendev.org/#/c/743156/\nDepends-On: https://review.opendev.org/748354\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 22, 'created': '2020-11-03 15:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e1a744d168b94fc7bab9587497a237840aaa8cfb', 'message': 'Add ceph-iscsci CI job\n\nNote: All other tests have been removed temporary\n\nDepends-On: https://review.opendev.org/#/c/668667/\nDepends-On: https://review.opendev.org/#/c/668668/\nDepends-On: https://review.opendev.org/#/c/662829/\nDepends-On: https://review.opendev.org/#/c/736508/\nDepends-On: https://review.opendev.org/#/c/743156/\nDepends-On: https://review.opendev.org/748354\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 23, 'created': '2021-01-11 10:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/76f0c5556695d0a6baaafc8c712053db919d0860', 'message': '[WIP] Add ceph-iscsi CI job\n\nNote: All other check tests have been removed temporary\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/662829\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/668668\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/668667\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 24, 'created': '2021-01-11 10:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/680cb2544ea43ee1ce0aff1fd51d9f86682a4bf1', 'message': '[WIP] Add ceph-iscsi CI job\n\nNote: All other tests have been removed temporary\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/662829\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/668668\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/668667\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 25, 'created': '2021-01-11 10:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/024722fc4759f509a9b3fa4c7dfc1911b193fefc', 'message': '[WIP] Add ceph-iscsi CI job\n\nNote: All the other tests have been masked temporary, once ceph-iscsi\ntest is OK will unmask them.\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/662829\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/668668\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/668667\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 26, 'created': '2021-01-11 10:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1cf7fd8232076ccddf0f40c01787b5ac9c41da70', 'message': '[WIP] Add ceph-iscsi CI job\n\nNote: All the other tests have been masked temporary, once ceph-iscsi\ntest is OK will unmask them.\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/662829\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/668668\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/668667\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 27, 'created': '2021-01-11 10:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c48c6ac56f92c9aedcd2d4290749968e0793410b', 'message': '[WIP] Add ceph-iscsi CI job\n\nNote: All the other tests have been masked temporary, once ceph-iscsi\ntest is OK will unmask them.\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/662829\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/668668\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/668667\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 28, 'created': '2021-01-11 14:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/077c4e77be164feed4be2cf01003de60e11e1903', 'message': '[WIP] Add ceph-iscsi CI job\n\nNote: All the other tests have been masked temporary, once ceph-iscsi\ntest is OK will unmask them.\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/662829\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/668668\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/668667\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 29, 'created': '2021-01-19 14:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f6def98e166d540ae31f98dc975c8268cb4083e9', 'message': 'Add ceph-iscsi CI job\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/662829\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/668668\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/668667\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 30, 'created': '2021-01-20 00:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7e7858cefb2adbc5f91a0f42cb2591eb74f9663a', 'message': 'Add ceph-iscsi CI job\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/662829\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/668668\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/668667\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 31, 'created': '2021-01-20 13:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4e7641c2240b22ea5728e0259c993b0120cd36e8', 'message': 'Add ceph-iscsi CI job\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/662829\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/668668\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/668667\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 32, 'created': '2021-06-18 20:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/441151de596388756656f2e23e4e32c18e01a6c8', 'message': 'Add ceph-iscsi CI job\n\nFor the historical record, this patch depends on the following\nchanges, which have already merged:\n- https://review.opendev.org/c/openstack/cinder/+/662829\n- https://review.opendev.org/c/openstack/devstack/+/668668\n- https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/668667\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 33, 'created': '2021-06-18 21:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2399505495752466a78ec037ee9b3a5cf80e2e94', 'message': 'Add ceph-iscsi CI job\n\nFor the historical record, this patch depends on the following\nchanges, which have already merged:\n- https://review.opendev.org/c/openstack/cinder/+/662829\n- https://review.opendev.org/c/openstack/devstack/+/668668\n- https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/668667\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 34, 'created': '2021-06-21 12:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/338f83bba943ce3b8e66cdb1911d90505ca49279', 'message': 'Add ceph-iscsi CI job\n\nNOTE: job is voting on this patch so we can easily see failures,\nbut it should be made non-voting before this patch is merged until\nwe have assessed the stability of the job.\n\nFor the historical record, this patch depends on the following\nchanges, which have already merged:\n- https://review.opendev.org/c/openstack/cinder/+/662829\n- https://review.opendev.org/c/openstack/devstack/+/668668\n- https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/668667\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 35, 'created': '2021-09-17 14:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/be657f6e1513933b657e8b3dd59a6cbb6d9ad833', 'message': 'Add ceph-iscsi CI job\n\nNOTE: job is voting on this patch so we can easily see failures,\nbut it should be made non-voting before this patch is merged until\nwe have assessed the stability of the job.\n\nFor the historical record, this patch depends on the following\nchanges, which have already merged:\n- https://review.opendev.org/c/openstack/cinder/+/662829\n- https://review.opendev.org/c/openstack/devstack/+/668668\n- https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/668667\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 36, 'created': '2022-01-07 14:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c068f4ce629932e73a810148b0e878a00818ca34', 'message': 'Add ceph-iscsi CI job\n\nNOTE: job is voting on this patch so we can easily see failures,\nbut it should be made non-voting before this patch is merged until\nwe have assessed the stability of the job.\n\nFor the historical record, this patch depends on the following\nchanges, which have already merged:\n- https://review.opendev.org/c/openstack/cinder/+/662829\n- https://review.opendev.org/c/openstack/devstack/+/668668\n- https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/668667\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}, {'number': 37, 'created': '2022-02-02 20:26:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8b0e41466dc00bd50dba2142859b49433cf35cee', 'message': 'Add ceph-iscsi CI job\n\nNOTE: job is voting on this patch so we can easily see failures,\nbut it should be made non-voting before this patch is merged until\nwe have assessed the stability of the job.\n\nFor the historical record, this patch depends on the following\nchanges, which have already merged:\n- https://review.opendev.org/c/openstack/cinder/+/662829\n- https://review.opendev.org/c/openstack/devstack/+/668668\n- https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/668667\n\nChange-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe\n'}]",19,667108,8b0e41466dc00bd50dba2142859b49433cf35cee,848,47,37,5997,,,0,"Add ceph-iscsi CI job

NOTE: job is voting on this patch so we can easily see failures,
but it should be made non-voting before this patch is merged until
we have assessed the stability of the job.

For the historical record, this patch depends on the following
changes, which have already merged:
- https://review.opendev.org/c/openstack/cinder/+/662829
- https://review.opendev.org/c/openstack/devstack/+/668668
- https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/668667

Change-Id: I1d14cf1589a388d3fe1ab0824aa7e982341417fe
",git fetch https://review.opendev.org/openstack/cinder refs/changes/08/667108/36 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,41241f293e8fe4be3749cec81ae3da6a9368e24e,ceph-iscsi, - job: name: cinder-plugin-ceph-iscsi-tempest parent: devstack-plugin-ceph-iscsi-tempest run: playbooks/tempest-and-ceph-iscsi-run.yaml required-projects: - openstack/tempest,,7,0
openstack%2Fheat~master~I5ec995c33abfe2e72118c705abf2a99494140e7a,openstack/heat,master,I5ec995c33abfe2e72118c705abf2a99494140e7a,Fallback to archive url to download old Fedora images,NEW,2022-05-30 06:36:15.000000000,2022-06-01 06:09:06.000000000,,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 06:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/92cc616e3bacfcafbe6b168d88f37a71d10874f3', 'message': 'Fallback to archive url to download Fedora images\n\nOld Fedora images (eg. Fedora 33 at the time of writing) have been\nmoved to the archive url and is no longer available in the upstream\nFedora repository.\n\nChange-Id: I5ec995c33abfe2e72118c705abf2a99494140e7a\n'}, {'number': 2, 'created': '2022-05-30 06:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0ef056e3171f82a6c85afea7971412f51e9501fd', 'message': 'Fallback to archive url to download old Fedora images\n\nOld Fedora images (eg. Fedora 33 at the time of writing) have been\nmoved to the archive url and is no longer available in the upstream\nFedora repository.\n\nChange-Id: I5ec995c33abfe2e72118c705abf2a99494140e7a\n'}, {'number': 3, 'created': '2022-05-30 13:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/42b2f74ef7265d0f498172b1399f3565eaa22adb', 'message': 'Fallback to archive url to download old Fedora images\n\nOld Fedora images (eg. Fedora 33 at the time of writing) have been\nmoved to the archive url and is no longer available in the upstream\nFedora repository.\n\nChange-Id: I5ec995c33abfe2e72118c705abf2a99494140e7a\n'}, {'number': 4, 'created': '2022-06-01 02:59:53.000000000', 'files': ['devstack/lib/heat'], 'web_link': 'https://opendev.org/openstack/heat/commit/4dcee7520a911557110c62f01f27ce79fc19643f', 'message': 'Fallback to archive url to download old Fedora images\n\nOld Fedora images (eg. Fedora 33 at the time of writing) have been\nmoved to the archive url and is no longer available in the upstream\nFedora repository.\n\nChange-Id: I5ec995c33abfe2e72118c705abf2a99494140e7a\n'}]",3,843779,4dcee7520a911557110c62f01f27ce79fc19643f,16,2,4,9816,,,0,"Fallback to archive url to download old Fedora images

Old Fedora images (eg. Fedora 33 at the time of writing) have been
moved to the archive url and is no longer available in the upstream
Fedora repository.

Change-Id: I5ec995c33abfe2e72118c705abf2a99494140e7a
",git fetch https://review.opendev.org/openstack/heat refs/changes/79/843779/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/heat'],1,92cc616e3bacfcafbe6b168d88f37a71d10874f3,," HEAT_TEST_FEDORA_IMAGE_UPSTREAM_ARCHIVE=http://archives.fedoraproject.org/pub/archive/fedora/linux elif curl --output /dev/null --silent --head --fail ""${HEAT_TEST_FEDORA_IMAGE_UPSTREAM}/${HEAT_TEST_FEDORA_IMAGE_PATH}""; then else export HEAT_TEST_FEDORA_IMAGE=""${HEAT_TEST_FEDORA_IMAGE_UPSTREAM_ARCHIVE}/${HEAT_TEST_FEDORA_IMAGE_PATH}""", else,5,1
openstack%2Fansible-collections-openstack~master~I1ef606efe9b2a59252d09695ebdd83e30a059e8e,openstack/ansible-collections-openstack,master,I1ef606efe9b2a59252d09695ebdd83e30a059e8e,Correctly build params dict in recordset,ABANDONED,2022-06-01 00:57:57.000000000,2022-06-01 05:59:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-01 00:57:57.000000000', 'files': ['plugins/modules/recordset.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f60b776b315ab64273ae5ccdd958ae3e66ab679d', 'message': 'Correctly build params dict in recordset\n\nChange-Id: I1ef606efe9b2a59252d09695ebdd83e30a059e8e\n'}]",0,844170,f60b776b315ab64273ae5ccdd958ae3e66ab679d,3,1,1,34208,,,0,"Correctly build params dict in recordset

Change-Id: I1ef606efe9b2a59252d09695ebdd83e30a059e8e
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/70/844170/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/recordset.py'],1,f60b776b315ab64273ae5ccdd958ae3e66ab679d,," 'description': description, 'records': records, 'type': recordset_type.upper(), 'ttl': ttl,"," description: description, records: records, type: recordset_type.upper(), ttl: ttl,",4,4
openstack%2Fpuppet-gnocchi~master~Ia708460e2dc40700c7053168d425efc9130475ac,openstack/puppet-gnocchi,master,Ia708460e2dc40700c7053168d425efc9130475ac,Remove support for CentOS 8 Stream,MERGED,2022-06-01 04:45:29.000000000,2022-06-01 05:50:53.000000000,2022-06-01 05:49:39.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 04:45:29.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-7bc984364b2c1250.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/8dd25e5de76c8395a5bd903963fafa4abaa98109', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: Ia708460e2dc40700c7053168d425efc9130475ac\n'}]",1,844211,8dd25e5de76c8395a5bd903963fafa4abaa98109,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: Ia708460e2dc40700c7053168d425efc9130475ac
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/11/844211/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-7bc984364b2c1250.yaml']",2,8dd25e5de76c8395a5bd903963fafa4abaa98109,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-horizon~master~Ib7db5a4b282d56229816d24a143de0f2697aa688,openstack/puppet-horizon,master,Ib7db5a4b282d56229816d24a143de0f2697aa688,Remove support for CentOS 8 Stream,MERGED,2022-06-01 04:46:22.000000000,2022-06-01 05:50:38.000000000,2022-06-01 05:49:25.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 04:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/2d067d84fbe65c42e3370125c898456161e75053', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: Ib7db5a4b282d56229816d24a143de0f2697aa688\n'}, {'number': 2, 'created': '2022-06-01 05:35:21.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-e19473b41af483fb.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/cf39131c387b75dc9fec9d028e27dc7aa2961535', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: Ib7db5a4b282d56229816d24a143de0f2697aa688\n'}]",2,844213,cf39131c387b75dc9fec9d028e27dc7aa2961535,11,2,2,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: Ib7db5a4b282d56229816d24a143de0f2697aa688
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/13/844213/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-e19473b41af483fb.yaml']",2,2d067d84fbe65c42e3370125c898456161e75053,rdo-zed-c9s,"--- prelude: > Replace this text with content to appear at the top of the section for this release. All of the prelude content is merged together and then rendered separately from the items listed in other parts of the file, so the text needs to be worded so that both the prelude and the other items make sense when read independently. This may mean repeating some details. Not every release note requires a prelude. Usually only notes describing major features or adding release theme details should have a prelude. features: - | List new features here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. issues: - | List known issues here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. upgrade: - | List upgrade notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. deprecations: - | List deprecations notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. critical: - | Add critical notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. security: - | Add security notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. fixes: - | Add normal bug fixes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. other: - | Add other notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. ",,65,2
openstack%2Fpuppet-ovn~master~I2fa29298d4dbc8e85316773334a959364634260f,openstack/puppet-ovn,master,I2fa29298d4dbc8e85316773334a959364634260f,Remove support for CentOS 8 Stream,MERGED,2022-06-01 04:57:07.000000000,2022-06-01 05:49:16.000000000,2022-06-01 05:48:01.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 04:57:07.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-847f07c14ca54c4d.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/97f9bd1de976270dfb783409e8460f1a175615f5', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: I2fa29298d4dbc8e85316773334a959364634260f\n'}]",1,844226,97f9bd1de976270dfb783409e8460f1a175615f5,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: I2fa29298d4dbc8e85316773334a959364634260f
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/26/844226/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-847f07c14ca54c4d.yaml']",2,97f9bd1de976270dfb783409e8460f1a175615f5,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-zaqar~master~I41a09ca923b887e428a75a788cbe4e047ccf26e0,openstack/puppet-zaqar,master,I41a09ca923b887e428a75a788cbe4e047ccf26e0,Remove support for CentOS 8 Stream,MERGED,2022-06-01 05:08:17.000000000,2022-06-01 05:49:08.000000000,2022-06-01 05:47:54.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 05:08:17.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-1a40af929cc6b7c7.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/d3e8ce069a05488d0056c32ef4cfa976d1445ca9', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: I41a09ca923b887e428a75a788cbe4e047ccf26e0\n'}]",1,844239,d3e8ce069a05488d0056c32ef4cfa976d1445ca9,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: I41a09ca923b887e428a75a788cbe4e047ccf26e0
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/39/844239/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-1a40af929cc6b7c7.yaml']",2,d3e8ce069a05488d0056c32ef4cfa976d1445ca9,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-sahara~master~I1a9459f8bbfd16e0d69a32006b2268f9817f5e83,openstack/puppet-sahara,master,I1a9459f8bbfd16e0d69a32006b2268f9817f5e83,Remove support for CentOS 8 Stream,MERGED,2022-06-01 05:01:42.000000000,2022-06-01 05:49:05.000000000,2022-06-01 05:47:43.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 05:01:42.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-6b0df7fbe174a2b6.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/4c230d4a97b7f7561627693f1ce2b7cf30d70a3e', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: I1a9459f8bbfd16e0d69a32006b2268f9817f5e83\n'}]",1,844230,4c230d4a97b7f7561627693f1ce2b7cf30d70a3e,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: I1a9459f8bbfd16e0d69a32006b2268f9817f5e83
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/30/844230/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-6b0df7fbe174a2b6.yaml']",2,4c230d4a97b7f7561627693f1ce2b7cf30d70a3e,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-rally~master~I0062476b502bc230ebc61fc92afd0ee0b5373f6e,openstack/puppet-rally,master,I0062476b502bc230ebc61fc92afd0ee0b5373f6e,Remove support for CentOS 8 Stream,MERGED,2022-06-01 04:58:43.000000000,2022-06-01 05:49:02.000000000,2022-06-01 05:47:49.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 04:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/fd5854a3ce5fe2c7d7e38eee6fda3ce220880bd6', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: I0062476b502bc230ebc61fc92afd0ee0b5373f6e\n'}, {'number': 2, 'created': '2022-06-01 05:01:01.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-540d8bc2f1433cd8.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/3bc0778302e31eb9c3bc239641d0718234bd9000', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: I0062476b502bc230ebc61fc92afd0ee0b5373f6e\n'}]",1,844229,3bc0778302e31eb9c3bc239641d0718234bd9000,8,2,2,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: I0062476b502bc230ebc61fc92afd0ee0b5373f6e
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/29/844229/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-540d8bc2f1433cd8.yaml']",2,fd5854a3ce5fe2c7d7e38eee6fda3ce220880bd6,rdo-zed-c9s,"--- prelude: > Replace this text with content to appear at the top of the section for this release. All of the prelude content is merged together and then rendered separately from the items listed in other parts of the file, so the text needs to be worded so that both the prelude and the other items make sense when read independently. This may mean repeating some details. Not every release note requires a prelude. Usually only notes describing major features or adding release theme details should have a prelude. features: - | List new features here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. issues: - | List known issues here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. upgrade: - | List upgrade notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. deprecations: - | List deprecations notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. critical: - | Add critical notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. security: - | Add security notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. fixes: - | Add normal bug fixes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. other: - | Add other notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. ",,65,2
openstack%2Fpuppet-oslo~master~Iab84ba5948c5e77f948dd3e02d2e787ceb4ffd32,openstack/puppet-oslo,master,Iab84ba5948c5e77f948dd3e02d2e787ceb4ffd32,Remove support for CentOS 8 Stream,MERGED,2022-06-01 04:55:46.000000000,2022-06-01 05:48:54.000000000,2022-06-01 05:47:38.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 04:55:46.000000000', 'files': ['releasenotes/notes/remove-centos-8-30c2edf7b40138d4.yaml', 'metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/bc67fc39603fd8ceeb11d54ba0fac32e7245f6c3', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: Iab84ba5948c5e77f948dd3e02d2e787ceb4ffd32\n'}]",1,844223,bc67fc39603fd8ceeb11d54ba0fac32e7245f6c3,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: Iab84ba5948c5e77f948dd3e02d2e787ceb4ffd32
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/23/844223/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-centos-8-30c2edf7b40138d4.yaml', 'metadata.json']",2,bc67fc39603fd8ceeb11d54ba0fac32e7245f6c3,rdo-zed-c9s,," ""8"", ""8"",",4,2
openstack%2Fpuppet-vitrage~master~I5ed4eaa755082444ba8c3117a55dafc1eb7e530a,openstack/puppet-vitrage,master,I5ed4eaa755082444ba8c3117a55dafc1eb7e530a,Remove support for CentOS 8 Stream,MERGED,2022-06-01 05:06:57.000000000,2022-06-01 05:48:01.000000000,2022-06-01 05:46:44.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 05:06:57.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-b5661f6672025bd0.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/e233a67f84fbc29a3d925cf608844e1b80fdced0', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: I5ed4eaa755082444ba8c3117a55dafc1eb7e530a\n'}]",1,844236,e233a67f84fbc29a3d925cf608844e1b80fdced0,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: I5ed4eaa755082444ba8c3117a55dafc1eb7e530a
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/36/844236/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-b5661f6672025bd0.yaml']",2,e233a67f84fbc29a3d925cf608844e1b80fdced0,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-openstacklib~master~I008600eb52d750d94b6b30d4be253d3871b88057,openstack/puppet-openstacklib,master,I008600eb52d750d94b6b30d4be253d3871b88057,Remove support for CentOS 8 Stream,MERGED,2022-06-01 04:56:41.000000000,2022-06-01 05:47:51.000000000,2022-06-01 05:46:31.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 04:56:41.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-8b9bc74045173169.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/0f5dcbc909d68db7c1240f720cc27200489712f7', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: I008600eb52d750d94b6b30d4be253d3871b88057\n'}]",1,844225,0f5dcbc909d68db7c1240f720cc27200489712f7,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: I008600eb52d750d94b6b30d4be253d3871b88057
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/25/844225/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-8b9bc74045173169.yaml']",2,0f5dcbc909d68db7c1240f720cc27200489712f7,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-qdr~master~I1aacc020786eb53fdf962527c6aa4ba1ee647a26,openstack/puppet-qdr,master,I1aacc020786eb53fdf962527c6aa4ba1ee647a26,Remove support for CentOS 8 Stream,MERGED,2022-06-01 04:58:09.000000000,2022-06-01 05:47:38.000000000,2022-06-01 05:46:19.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 04:58:09.000000000', 'files': ['releasenotes/notes/remove-centos-8-f59832c8454b7b7e.yaml', 'metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/ea40583a8484aac0a7f9137a7629d19313ff9c95', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: I1aacc020786eb53fdf962527c6aa4ba1ee647a26\n'}]",1,844228,ea40583a8484aac0a7f9137a7629d19313ff9c95,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: I1aacc020786eb53fdf962527c6aa4ba1ee647a26
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/28/844228/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-centos-8-f59832c8454b7b7e.yaml', 'metadata.json']",2,ea40583a8484aac0a7f9137a7629d19313ff9c95,rdo-zed-c9s,," ""8"", ""8"",",4,2
openstack%2Fpuppet-nova~master~If6c2c55aaa13f030a4894fc7bdf54970dfc03a28,openstack/puppet-nova,master,If6c2c55aaa13f030a4894fc7bdf54970dfc03a28,Remove support for CentOS 8 Stream,MERGED,2022-06-01 04:54:46.000000000,2022-06-01 05:47:18.000000000,2022-06-01 05:45:56.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 04:54:46.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-a6433d4b189d29ab.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/31e2cc54171c5b3e5b1eb9d3ca5c127f06557c8b', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: If6c2c55aaa13f030a4894fc7bdf54970dfc03a28\n'}]",1,844221,31e2cc54171c5b3e5b1eb9d3ca5c127f06557c8b,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: If6c2c55aaa13f030a4894fc7bdf54970dfc03a28
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/21/844221/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-a6433d4b189d29ab.yaml']",2,31e2cc54171c5b3e5b1eb9d3ca5c127f06557c8b,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-murano~master~Ib1a4c19939bf9e7c743b24cb2fcae86955004835,openstack/puppet-murano,master,Ib1a4c19939bf9e7c743b24cb2fcae86955004835,Remove support for CentOS 8 Stream,MERGED,2022-06-01 04:52:21.000000000,2022-06-01 05:47:17.000000000,2022-06-01 05:45:54.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 04:52:21.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-7d6e44e5bc3059a0.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/51ccb9816c5a424cd1edd6b46f92af9c69653514', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: Ib1a4c19939bf9e7c743b24cb2fcae86955004835\n'}]",1,844219,51ccb9816c5a424cd1edd6b46f92af9c69653514,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: Ib1a4c19939bf9e7c743b24cb2fcae86955004835
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/19/844219/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-7d6e44e5bc3059a0.yaml']",2,51ccb9816c5a424cd1edd6b46f92af9c69653514,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-neutron~master~Ib70d62b0315056caea51a951187fc105d83c7120,openstack/puppet-neutron,master,Ib70d62b0315056caea51a951187fc105d83c7120,Remove support for CentOS 8 Stream,MERGED,2022-06-01 04:54:14.000000000,2022-06-01 05:46:30.000000000,2022-06-01 05:45:05.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 04:54:14.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-1273fd462b953c25.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/7cc5df2bbc68540aad601cec96bf49a867e5df83', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: Ib70d62b0315056caea51a951187fc105d83c7120\n'}]",1,844220,7cc5df2bbc68540aad601cec96bf49a867e5df83,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: Ib70d62b0315056caea51a951187fc105d83c7120
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/20/844220/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-1273fd462b953c25.yaml']",2,7cc5df2bbc68540aad601cec96bf49a867e5df83,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-placement~master~Ib8a45aa5ab45a54dfc35e67cf06a427da24f6397,openstack/puppet-placement,master,Ib8a45aa5ab45a54dfc35e67cf06a427da24f6397,Remove support for CentOS 8 Stream,MERGED,2022-06-01 04:57:34.000000000,2022-06-01 05:46:19.000000000,2022-06-01 05:44:54.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 04:57:34.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-4b7352ce1fcd189e.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/a25db3a1a1b1912f455f010048bcecfcb1d3066c', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: Ib8a45aa5ab45a54dfc35e67cf06a427da24f6397\n'}]",1,844227,a25db3a1a1b1912f455f010048bcecfcb1d3066c,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: Ib8a45aa5ab45a54dfc35e67cf06a427da24f6397
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/27/844227/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-4b7352ce1fcd189e.yaml']",2,a25db3a1a1b1912f455f010048bcecfcb1d3066c,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-manila~master~I0fbd4aabe1a50144dbfcb67bd3e909bad9741820,openstack/puppet-manila,master,I0fbd4aabe1a50144dbfcb67bd3e909bad9741820,Remove support for CentOS 8 Stream,MERGED,2022-06-01 04:48:34.000000000,2022-06-01 05:46:18.000000000,2022-06-01 05:44:44.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 04:48:34.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-893e056a7841e203.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/3a01d16048ff4ca274a62c62324d12593b4dd252', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: I0fbd4aabe1a50144dbfcb67bd3e909bad9741820\n'}]",1,844217,3a01d16048ff4ca274a62c62324d12593b4dd252,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: I0fbd4aabe1a50144dbfcb67bd3e909bad9741820
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/17/844217/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-893e056a7841e203.yaml']",2,3a01d16048ff4ca274a62c62324d12593b4dd252,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-watcher~master~I948e428470dc97c1a180f9e149a22659a324f866,openstack/puppet-watcher,master,I948e428470dc97c1a180f9e149a22659a324f866,Remove support for CentOS 8 Stream,MERGED,2022-06-01 05:07:53.000000000,2022-06-01 05:46:02.000000000,2022-06-01 05:44:19.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 05:07:53.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-186295728cc259bd.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/6cf7b18ce7e856ff8ac269d32900f43bb103f83f', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: I948e428470dc97c1a180f9e149a22659a324f866\n'}]",1,844238,6cf7b18ce7e856ff8ac269d32900f43bb103f83f,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: I948e428470dc97c1a180f9e149a22659a324f866
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/38/844238/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-186295728cc259bd.yaml']",2,6cf7b18ce7e856ff8ac269d32900f43bb103f83f,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-vswitch~master~I4f4cff3f15f501f883c5a96d614a42d492eb287c,openstack/puppet-vswitch,master,I4f4cff3f15f501f883c5a96d614a42d492eb287c,Remove support for CentOS 8 Stream,MERGED,2022-06-01 05:07:22.000000000,2022-06-01 05:45:44.000000000,2022-06-01 05:44:09.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 05:07:22.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-930fc1922ad232f4.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/f00108b8ca66f7b2df0d91ab2c1df6df6fa4f8e0', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: I4f4cff3f15f501f883c5a96d614a42d492eb287c\n'}]",1,844237,f00108b8ca66f7b2df0d91ab2c1df6df6fa4f8e0,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: I4f4cff3f15f501f883c5a96d614a42d492eb287c
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/37/844237/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-930fc1922ad232f4.yaml']",2,f00108b8ca66f7b2df0d91ab2c1df6df6fa4f8e0,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-octavia~master~I8d2d7d70fea41ea068266410125d68739e58954e,openstack/puppet-octavia,master,I8d2d7d70fea41ea068266410125d68739e58954e,Remove support for CentOS 8 Stream,MERGED,2022-06-01 04:55:12.000000000,2022-06-01 05:45:43.000000000,2022-06-01 05:44:07.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 04:55:12.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-2c0dade02105f41b.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/c9f1cb8f455f099567f334e44110c14ffc4b7617', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: I8d2d7d70fea41ea068266410125d68739e58954e\n'}]",1,844222,c9f1cb8f455f099567f334e44110c14ffc4b7617,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: I8d2d7d70fea41ea068266410125d68739e58954e
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/22/844222/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-2c0dade02105f41b.yaml']",2,c9f1cb8f455f099567f334e44110c14ffc4b7617,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-mistral~master~Ic572ea1623f65e8621127e744d593bbd15b1249c,openstack/puppet-mistral,master,Ic572ea1623f65e8621127e744d593bbd15b1249c,Remove support for CentOS 8 Stream,MERGED,2022-06-01 04:51:34.000000000,2022-06-01 05:45:43.000000000,2022-06-01 05:44:05.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 04:51:34.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-df961bc77456455e.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/f350c4837dcc5788e5c19162354f6f9a9343133a', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: Ic572ea1623f65e8621127e744d593bbd15b1249c\n'}]",1,844218,f350c4837dcc5788e5c19162354f6f9a9343133a,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: Ic572ea1623f65e8621127e744d593bbd15b1249c
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/18/844218/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-df961bc77456455e.yaml']",2,f350c4837dcc5788e5c19162354f6f9a9343133a,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-trove~master~If74d0f5683ef8d8e59ea477923831417eb2c5f8c,openstack/puppet-trove,master,If74d0f5683ef8d8e59ea477923831417eb2c5f8c,Remove support for CentOS 8 Stream,MERGED,2022-06-01 05:06:26.000000000,2022-06-01 05:45:43.000000000,2022-06-01 05:43:51.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 05:06:26.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-438a33ab60339ad4.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/667028ea266a536f60d71e6aa24b3c9cccdd9ba8', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: If74d0f5683ef8d8e59ea477923831417eb2c5f8c\n'}]",1,844235,667028ea266a536f60d71e6aa24b3c9cccdd9ba8,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: If74d0f5683ef8d8e59ea477923831417eb2c5f8c
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/35/844235/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-438a33ab60339ad4.yaml']",2,667028ea266a536f60d71e6aa24b3c9cccdd9ba8,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-tacker~master~Ia526b8018b5ec0c2cdfb92a63b3dcd7093988117,openstack/puppet-tacker,master,Ia526b8018b5ec0c2cdfb92a63b3dcd7093988117,Remove support for CentOS 8 Stream,MERGED,2022-06-01 05:02:47.000000000,2022-06-01 05:45:36.000000000,2022-06-01 05:43:56.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 05:02:47.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-245b07ed9fd5343f.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/d6b34a0e447935ed6134c7f68be0647445f1cbc1', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: Ia526b8018b5ec0c2cdfb92a63b3dcd7093988117\n'}]",1,844232,d6b34a0e447935ed6134c7f68be0647445f1cbc1,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: Ia526b8018b5ec0c2cdfb92a63b3dcd7093988117
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/32/844232/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-245b07ed9fd5343f.yaml']",2,d6b34a0e447935ed6134c7f68be0647445f1cbc1,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-swift~master~Ie0ecc03d7300eb042a09c57e11655cf0dbfb792f,openstack/puppet-swift,master,Ie0ecc03d7300eb042a09c57e11655cf0dbfb792f,Remove support for CentOS 8 Stream,MERGED,2022-06-01 05:02:16.000000000,2022-06-01 05:45:36.000000000,2022-06-01 05:43:54.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 05:02:16.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-d2977f312220e2be.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/fc7ffe1d452bfff6428c4a47f06cd785dc3c187d', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: Ie0ecc03d7300eb042a09c57e11655cf0dbfb792f\n'}]",1,844231,fc7ffe1d452bfff6428c4a47f06cd785dc3c187d,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: Ie0ecc03d7300eb042a09c57e11655cf0dbfb792f
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/31/844231/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-d2977f312220e2be.yaml']",2,fc7ffe1d452bfff6428c4a47f06cd785dc3c187d,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-tempest~master~I005d74d37c026ae5eb2928d8f04d68d73619695f,openstack/puppet-tempest,master,I005d74d37c026ae5eb2928d8f04d68d73619695f,Remove support for CentOS 8 Stream,MERGED,2022-06-01 05:03:18.000000000,2022-06-01 05:44:36.000000000,2022-06-01 05:43:05.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 05:03:18.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-f39a0a61b22f3f42.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/e571a0859b1721452ba4d93cd5f50fd6ca183757', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: I005d74d37c026ae5eb2928d8f04d68d73619695f\n'}]",1,844233,e571a0859b1721452ba4d93cd5f50fd6ca183757,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: I005d74d37c026ae5eb2928d8f04d68d73619695f
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/33/844233/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-f39a0a61b22f3f42.yaml']",2,e571a0859b1721452ba4d93cd5f50fd6ca183757,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-glance~master~I912ec1561133b2341268b5b1359f169cb7cc8bb6,openstack/puppet-glance,master,I912ec1561133b2341268b5b1359f169cb7cc8bb6,Remove support for CentOS 8 Stream,MERGED,2022-06-01 04:44:57.000000000,2022-06-01 05:44:31.000000000,2022-06-01 05:43:03.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 04:44:57.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-285907b675d2cc7f.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/daa8abd50a6c7a2681889bcb2bb4666ad87f8322', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: I912ec1561133b2341268b5b1359f169cb7cc8bb6\n'}]",1,844210,daa8abd50a6c7a2681889bcb2bb4666ad87f8322,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: I912ec1561133b2341268b5b1359f169cb7cc8bb6
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/10/844210/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-285907b675d2cc7f.yaml']",2,daa8abd50a6c7a2681889bcb2bb4666ad87f8322,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-magnum~master~I63d1a5f52203278cec25fbe58890e1756bf9a1da,openstack/puppet-magnum,master,I63d1a5f52203278cec25fbe58890e1756bf9a1da,Remove support for CentOS 8 Stream,MERGED,2022-06-01 04:48:02.000000000,2022-06-01 05:44:20.000000000,2022-06-01 05:42:50.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 04:48:02.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-b8060bcff284fdf2.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/0ae3918d1466c3237668383463b1552d3759057b', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: I63d1a5f52203278cec25fbe58890e1756bf9a1da\n'}]",1,844216,0ae3918d1466c3237668383463b1552d3759057b,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: I63d1a5f52203278cec25fbe58890e1756bf9a1da
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/16/844216/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-b8060bcff284fdf2.yaml']",2,0ae3918d1466c3237668383463b1552d3759057b,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-heat~master~Icc77d992339376e5c53b4a8ecd2fcc7743869fcb,openstack/puppet-heat,master,Icc77d992339376e5c53b4a8ecd2fcc7743869fcb,Remove support for CentOS 8 Stream,MERGED,2022-06-01 04:45:56.000000000,2022-06-01 05:43:37.000000000,2022-06-01 05:42:08.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 04:45:56.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-055ce1ca3cd0d931.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/99fbfc61ea2aff9431088cc6c933797255e8d081', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: Icc77d992339376e5c53b4a8ecd2fcc7743869fcb\n'}]",1,844212,99fbfc61ea2aff9431088cc6c933797255e8d081,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: Icc77d992339376e5c53b4a8ecd2fcc7743869fcb
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/12/844212/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-055ce1ca3cd0d931.yaml']",2,99fbfc61ea2aff9431088cc6c933797255e8d081,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-trove~stable%2Fyoga~Idd88e87fc453ab583334f3a6f061dbc7578df081,openstack/puppet-trove,stable/yoga,Idd88e87fc453ab583334f3a6f061dbc7578df081,Add CentOS/RHEL 9 to supported operating systems,MERGED,2022-06-01 05:18:30.000000000,2022-06-01 05:41:27.000000000,2022-06-01 05:39:51.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 05:18:30.000000000', 'files': ['metadata.json', 'releasenotes/notes/centos-9-support-46d145a9ed994fe7.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/3270e16453e6d17a5f599cbbea15e3be7f9dc6b8', 'message': 'Add CentOS/RHEL 9 to supported operating systems\n\n... because CentOS 9 is now verified by unit tests and integration\ntests.\n\nChange-Id: Idd88e87fc453ab583334f3a6f061dbc7578df081\n(cherry picked from commit 6111841dd1da5544b99cda03d2a9ace56c2d8cf5)\n'}]",0,844191,3270e16453e6d17a5f599cbbea15e3be7f9dc6b8,9,2,1,9816,,,0,"Add CentOS/RHEL 9 to supported operating systems

... because CentOS 9 is now verified by unit tests and integration
tests.

Change-Id: Idd88e87fc453ab583334f3a6f061dbc7578df081
(cherry picked from commit 6111841dd1da5544b99cda03d2a9ace56c2d8cf5)
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/91/844191/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/centos-9-support-46d145a9ed994fe7.yaml']",2,3270e16453e6d17a5f599cbbea15e3be7f9dc6b8,c9,--- features: - | Now this module supports CentOS 9 and Red Hat Enterprise Linux 9. ,,8,2
openstack%2Fpuppet-keystone~master~I653a9d4f83b466a48f3f42ab36f98dc483dcb6cc,openstack/puppet-keystone,master,I653a9d4f83b466a48f3f42ab36f98dc483dcb6cc,Remove support for CentOS 8 Stream,MERGED,2022-06-01 04:47:39.000000000,2022-06-01 05:39:42.000000000,2022-06-01 05:38:06.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 04:47:39.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-a0c1fa3c4b9794f0.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/1c68ab17958c8904e1e034d0c224d878d6ac9889', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: I653a9d4f83b466a48f3f42ab36f98dc483dcb6cc\n'}]",1,844215,1c68ab17958c8904e1e034d0c224d878d6ac9889,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: I653a9d4f83b466a48f3f42ab36f98dc483dcb6cc
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/15/844215/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-a0c1fa3c4b9794f0.yaml']",2,1c68ab17958c8904e1e034d0c224d878d6ac9889,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-ironic~master~I4f957e4d54ec801510941fd7fd0e718f5f41c561,openstack/puppet-ironic,master,I4f957e4d54ec801510941fd7fd0e718f5f41c561,Remove support for CentOS 8 Stream,MERGED,2022-06-01 04:47:10.000000000,2022-06-01 05:39:41.000000000,2022-06-01 05:38:04.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 04:47:10.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-8a206d9320ed83ea.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/74b999f28d99bbeff43c2461cbb488fe9102c1e2', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: I4f957e4d54ec801510941fd7fd0e718f5f41c561\n'}]",1,844214,74b999f28d99bbeff43c2461cbb488fe9102c1e2,7,2,1,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: I4f957e4d54ec801510941fd7fd0e718f5f41c561
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/14/844214/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-8a206d9320ed83ea.yaml']",2,74b999f28d99bbeff43c2461cbb488fe9102c1e2,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-trove~master~Idd88e87fc453ab583334f3a6f061dbc7578df081,openstack/puppet-trove,master,Idd88e87fc453ab583334f3a6f061dbc7578df081,Add CentOS/RHEL 9 to supported operating systems,MERGED,2022-06-01 05:05:06.000000000,2022-06-01 05:15:38.000000000,2022-06-01 05:14:12.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 05:05:06.000000000', 'files': ['metadata.json', 'releasenotes/notes/centos-9-support-46d145a9ed994fe7.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/6111841dd1da5544b99cda03d2a9ace56c2d8cf5', 'message': 'Add CentOS/RHEL 9 to supported operating systems\n\n... because CentOS 9 is now verified by unit tests and integration\ntests.\n\nChange-Id: Idd88e87fc453ab583334f3a6f061dbc7578df081\n'}]",0,844234,6111841dd1da5544b99cda03d2a9ace56c2d8cf5,7,2,1,9816,,,0,"Add CentOS/RHEL 9 to supported operating systems

... because CentOS 9 is now verified by unit tests and integration
tests.

Change-Id: Idd88e87fc453ab583334f3a6f061dbc7578df081
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/34/844234/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/centos-9-support-46d145a9ed994fe7.yaml']",2,6111841dd1da5544b99cda03d2a9ace56c2d8cf5,c9,--- features: - | Now this module supports CentOS 9 and Red Hat Enterprise Linux 9. ,,8,2
openstack%2Fpuppet-cinder~master~Id3b691e6892e0b2dd0cce6ff19e51561b076c2db,openstack/puppet-cinder,master,Id3b691e6892e0b2dd0cce6ff19e51561b076c2db,Remove support for CentOS 8 Stream,MERGED,2022-05-26 17:15:33.000000000,2022-06-01 05:03:09.000000000,2022-06-01 05:01:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 17:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/f8fe9ee378add63c6aea9d07464b43c1d72fad7e', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843504\nChange-Id: Id3b691e6892e0b2dd0cce6ff19e51561b076c2db\n'}, {'number': 2, 'created': '2022-05-26 17:20:14.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-10aadccce5509340.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/218319cb8f6817ce0b268681555ca6dc9827bcc7', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: Id3b691e6892e0b2dd0cce6ff19e51561b076c2db\n'}]",1,843530,218319cb8f6817ce0b268681555ca6dc9827bcc7,12,3,2,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: Id3b691e6892e0b2dd0cce6ff19e51561b076c2db
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/30/843530/2 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-10aadccce5509340.yaml']",2,f8fe9ee378add63c6aea9d07464b43c1d72fad7e,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-barbican~master~I8c5b682b4ab977a2c6ed747229ae553be471481f,openstack/puppet-barbican,master,I8c5b682b4ab977a2c6ed747229ae553be471481f,Remove support for CentOS 8 Stream,MERGED,2022-05-26 17:12:59.000000000,2022-06-01 05:02:23.000000000,2022-06-01 05:01:13.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 17:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/f8baa356212c5977551fa03e6dcf6f8276c098e5', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843504\nChange-Id: I8c5b682b4ab977a2c6ed747229ae553be471481f\n'}, {'number': 2, 'created': '2022-05-26 17:20:50.000000000', 'files': ['releasenotes/notes/remove-centos-8-4e6642216fdf98a9.yaml', 'metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/fdb4d4a4cc684f5e71c3ad88e2bc52569d5ba24b', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: I8c5b682b4ab977a2c6ed747229ae553be471481f\n'}]",1,843507,fdb4d4a4cc684f5e71c3ad88e2bc52569d5ba24b,12,3,2,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: I8c5b682b4ab977a2c6ed747229ae553be471481f
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/07/843507/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-centos-8-4e6642216fdf98a9.yaml', 'metadata.json']",2,f8baa356212c5977551fa03e6dcf6f8276c098e5,rdo-zed-c9s,," ""8"", ""8"",",5,2
openstack%2Fpuppet-ec2api~master~I4cc7720542e6e636158e4d6e9b2b4af369f0d51e,openstack/puppet-ec2api,master,I4cc7720542e6e636158e4d6e9b2b4af369f0d51e,Remove support for CentOS 8 Stream,MERGED,2022-05-26 17:18:05.000000000,2022-06-01 04:59:54.000000000,2022-06-01 04:58:40.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 17:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/27c0c33fa4649724dcb4438b115a0f8a86107563', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843504\nChange-Id: I4cc7720542e6e636158e4d6e9b2b4af369f0d51e\n'}, {'number': 2, 'created': '2022-05-26 17:19:02.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-b3dae1f5606f4e81.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/9df17c9d6bc7470870f3a2eb88e9905c40fd504a', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: I4cc7720542e6e636158e4d6e9b2b4af369f0d51e\n'}]",1,843533,9df17c9d6bc7470870f3a2eb88e9905c40fd504a,12,3,2,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: I4cc7720542e6e636158e4d6e9b2b4af369f0d51e
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/33/843533/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-b3dae1f5606f4e81.yaml']",2,27c0c33fa4649724dcb4438b115a0f8a86107563,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-cloudkitty~master~If91f5345ca967daae2fe7e3e052ce530fd1c6a7f,openstack/puppet-cloudkitty,master,If91f5345ca967daae2fe7e3e052ce530fd1c6a7f,Remove support for CentOS 8 Stream,MERGED,2022-05-26 17:16:59.000000000,2022-06-01 04:59:44.000000000,2022-06-01 04:58:35.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 17:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/d8638988ae2e7d4d2e83248bd64571a75f254cb1', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843504\nChange-Id: If91f5345ca967daae2fe7e3e052ce530fd1c6a7f\n'}, {'number': 2, 'created': '2022-05-26 17:19:37.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-77f544e25044175c.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/fe2f10693be088207def8b2ea10dbf98160b406d', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: If91f5345ca967daae2fe7e3e052ce530fd1c6a7f\n'}]",1,843531,fe2f10693be088207def8b2ea10dbf98160b406d,12,3,2,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: If91f5345ca967daae2fe7e3e052ce530fd1c6a7f
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/31/843531/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-77f544e25044175c.yaml']",2,d8638988ae2e7d4d2e83248bd64571a75f254cb1,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-aodh~master~I7058aa282e76171a701d6cf8bce8b2218d7e6e8d,openstack/puppet-aodh,master,I7058aa282e76171a701d6cf8bce8b2218d7e6e8d,Remove support for CentOS 8 Stream,MERGED,2022-05-26 17:10:38.000000000,2022-06-01 04:58:38.000000000,2022-06-01 04:57:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 17:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/e96647d0f560c246fc83f0c0f098a03084fdb4fa', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease.\n\nDepends-on: https://review.opendev.org/843504\nChange-Id: I7058aa282e76171a701d6cf8bce8b2218d7e6e8d\n'}, {'number': 2, 'created': '2022-05-26 17:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/47526eb933a924de0e422755c920ffa2a7d1c476', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843504\nChange-Id: I7058aa282e76171a701d6cf8bce8b2218d7e6e8d\n'}, {'number': 3, 'created': '2022-05-26 17:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/50dec6648ee2700ba6df4b7ff5cf1df3ee153a39', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843504\nChange-Id: I7058aa282e76171a701d6cf8bce8b2218d7e6e8d\n'}, {'number': 4, 'created': '2022-05-26 17:21:10.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-88f8999e47f9e49b.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/a75ec4ed66df1061b018cc52414833cb0d6bae74', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: I7058aa282e76171a701d6cf8bce8b2218d7e6e8d\n'}]",1,843506,a75ec4ed66df1061b018cc52414833cb0d6bae74,14,3,4,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: I7058aa282e76171a701d6cf8bce8b2218d7e6e8d
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/06/843506/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-88f8999e47f9e49b.yaml']",2,e96647d0f560c246fc83f0c0f098a03084fdb4fa,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,1
openstack%2Fpuppet-designate~master~Ia9d9606e3b664dd5052f8749562deba8c0d358a7,openstack/puppet-designate,master,Ia9d9606e3b664dd5052f8749562deba8c0d358a7,Remove support for CentOS 8 Stream,MERGED,2022-05-26 17:17:34.000000000,2022-06-01 04:57:08.000000000,2022-06-01 04:55:46.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 17:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/fb7804e02f6e78239ef83ab796f3af8a75a08376', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843504\nChange-Id: Ia9d9606e3b664dd5052f8749562deba8c0d358a7\n'}, {'number': 2, 'created': '2022-05-26 17:19:22.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-1a962de6e238df98.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/826cc2a139ec097b811d6e7c824a64ada9d9d978', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: Ia9d9606e3b664dd5052f8749562deba8c0d358a7\n'}]",1,843532,826cc2a139ec097b811d6e7c824a64ada9d9d978,12,3,2,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: Ia9d9606e3b664dd5052f8749562deba8c0d358a7
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/32/843532/2 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-1a962de6e238df98.yaml']",2,fb7804e02f6e78239ef83ab796f3af8a75a08376,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fpuppet-ceilometer~master~I7fb65dd139e2ad9db27879372bca38fe7ad42cbc,openstack/puppet-ceilometer,master,I7fb65dd139e2ad9db27879372bca38fe7ad42cbc,Remove support for CentOS 8 Stream,MERGED,2022-05-26 17:14:10.000000000,2022-06-01 04:54:18.000000000,2022-06-01 04:53:02.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 17:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/eedf0524f7526b872733ed2366b1aae656ac1b8c', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843504\nChange-Id: I7fb65dd139e2ad9db27879372bca38fe7ad42cbc\n'}, {'number': 2, 'created': '2022-05-26 17:20:30.000000000', 'files': ['metadata.json', 'releasenotes/notes/remove-centos-8-147229bc52231306.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/7e4f8d6778e0f4ee262efe9778bf23c886fa676a', 'message': 'Remove support for CentOS 8 Stream\n\n... because RDO will provide packages for only CentOS Stream 9 for Zed\nrelease. This change removes RHEL 8 as well.\n\nDepends-on: https://review.opendev.org/843503\nChange-Id: I7fb65dd139e2ad9db27879372bca38fe7ad42cbc\n'}]",1,843509,7e4f8d6778e0f4ee262efe9778bf23c886fa676a,12,3,2,9816,,,0,"Remove support for CentOS 8 Stream

... because RDO will provide packages for only CentOS Stream 9 for Zed
release. This change removes RHEL 8 as well.

Depends-on: https://review.opendev.org/843503
Change-Id: I7fb65dd139e2ad9db27879372bca38fe7ad42cbc
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/09/843509/2 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-centos-8-147229bc52231306.yaml']",2,eedf0524f7526b872733ed2366b1aae656ac1b8c,rdo-zed-c9s,--- upgrade: - | CentOS 8 Stream is no longer supported by this module. ,,4,2
openstack%2Fansible-collections-openstack~stable%2F1.0.0~I1ef606efe9b2a59252d09695ebdd83e30a059e8e,openstack/ansible-collections-openstack,stable/1.0.0,I1ef606efe9b2a59252d09695ebdd83e30a059e8e,Correctly build params dict in recordset,ABANDONED,2022-06-01 02:52:53.000000000,2022-06-01 03:07:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-01 02:52:53.000000000', 'files': ['plugins/modules/recordset.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/36a546b39db172ec37d9b6643c823fdfad0a0265', 'message': 'Correctly build params dict in recordset\n\nChange-Id: I1ef606efe9b2a59252d09695ebdd83e30a059e8e\n'}]",0,844177,36a546b39db172ec37d9b6643c823fdfad0a0265,4,2,1,34208,,,0,"Correctly build params dict in recordset

Change-Id: I1ef606efe9b2a59252d09695ebdd83e30a059e8e
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/77/844177/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/recordset.py'],1,36a546b39db172ec37d9b6643c823fdfad0a0265,," if k not in recordset: return True 'description': description, 'records': records, 'type': recordset_type.upper(), 'ttl': ttl,"," description: description, records: records, type: recordset_type.upper(), ttl: ttl,",6,4
openstack%2Fopenstack-helm-images~master~Icd6f801eb43778bf75a16cb1e83f6534423a58db,openstack/openstack-helm-images,master,Icd6f801eb43778bf75a16cb1e83f6534423a58db,Remove minikube-aio image building/jobs,MERGED,2022-05-24 21:36:57.000000000,2022-06-01 03:06:26.000000000,2022-06-01 03:03:41.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2022-05-24 21:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/fcd2e287a290481ee38ded95fb11e66c2d8b4ed0', 'message': 'Remove minikube-aio image building/jobs\n\nWith the move to helm v3, we have since stopped using the\nminikube-aio image and playbooks in favor of a single script\nto deploy kubernetes in the zuul checks and gates. This change\nremoves the image building and jobs for minikube-aio and removes\nany dependencies that other jobs had on it.\n\nChange-Id: Icd6f801eb43778bf75a16cb1e83f6534423a58db\n'}, {'number': 2, 'created': '2022-05-25 15:32:45.000000000', 'files': ['minikube-aio/sources.list', 'minikube-aio/install.sh', 'zuul.d/base.yaml', 'minikube-aio/images.txt', 'zuul.d/minikube-aio.yaml', 'minikube-aio/Dockerfile'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/fb2dfcd1c9eaf42cf3321cfc2f08c82ca2cc42c9', 'message': 'Remove minikube-aio image building/jobs\n\nWith the move to helm v3, we have since stopped using the\nminikube-aio image and playbooks in favor of a single script\nto deploy kubernetes in the zuul checks and gates. This change\nremoves the image building and jobs for minikube-aio and removes\nany dependencies that other jobs had on it.\n\nChange-Id: Icd6f801eb43778bf75a16cb1e83f6534423a58db\n'}]",0,843216,fb2dfcd1c9eaf42cf3321cfc2f08c82ca2cc42c9,11,3,2,21420,,,0,"Remove minikube-aio image building/jobs

With the move to helm v3, we have since stopped using the
minikube-aio image and playbooks in favor of a single script
to deploy kubernetes in the zuul checks and gates. This change
removes the image building and jobs for minikube-aio and removes
any dependencies that other jobs had on it.

Change-Id: Icd6f801eb43778bf75a16cb1e83f6534423a58db
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/16/843216/1 && git format-patch -1 --stdout FETCH_HEAD,"['minikube-aio/sources.list', 'minikube-aio/install.sh', 'zuul.d/base.yaml', 'minikube-aio/images.txt', 'zuul.d/minikube-aio.yaml', 'minikube-aio/Dockerfile']",6,fcd2e287a290481ee38ded95fb11e66c2d8b4ed0,remove-minikube,,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. ARG FROM=docker.io/ubuntu:bionic FROM ${FROM} MAINTAINER andrii.ostapenko@att.com ARG UBUNTU_URL=http://archive.ubuntu.com/ubuntu/ ARG ALLOW_UNAUTHENTICATED=false COPY ./sources.list /etc/apt/ RUN sed -i \ -e ""s|%%UBUNTU_URL%%|${UBUNTU_URL}|g"" \ /etc/apt/sources.list ;\ echo ""APT::Get::AllowUnauthenticated \""${ALLOW_UNAUTHENTICATED}\"";\n\ Acquire::AllowInsecureRepositories \""${ALLOW_UNAUTHENTICATED}\"";\n\ Acquire::AllowDowngradeToInsecureRepositories \""${ALLOW_UNAUTHENTICATED}\"";"" \ >> /etc/apt/apt.conf.d/allow-unathenticated ARG KUBE_VERSION=""v1.19.15"" ARG MINIKUBE_VERSION=""v1.3.1"" ARG CALICO_VERSION=""v3.9"" ARG HELM_VERSION=""v2.17.0"" COPY images.txt install.sh /opt/ RUN set -ex; \ apt-get update; \ apt-get install -y \ ca-certificates \ curl \ gnupg \ ;\ echo ""export KUBE_VERSION=${KUBE_VERSION}"" > /opt/versions.txt ;\ echo ""export MINIKUBE_VERSION=${MINIKUBE_VERSION}"" >> /opt/versions.txt ;\ echo ""export CALICO_VERSION=${CALICO_VERSION}"" >> /opt/versions.txt ;\ echo ""export HELM_VERSION=${HELM_VERSION}"" >> /opt/versions.txt ;\ GOOGLE_REPO_URL=https://storage.googleapis.com ;\ MINIKUBE_REPO_URL=${GOOGLE_REPO_URL}/minikube/releases/${MINIKUBE_VERSION} ;\ GOOGLE_KUBERNETES_REPO_URL=${GOOGLE_REPO_URL}/kubernetes-release/release/${KUBE_VERSION}/bin/linux/amd64 ;\ HELM_REPO_URL=https://get.helm.sh ;\ CNI_REPO_URL=https://github.com/containernetworking/plugins/releases/download/${CNI_VERSION} ;\ BINARY_DIR=/opt/binaries ;\ mkdir ${BINARY_DIR}; \ curl -sSLo ${BINARY_DIR}/minikube ${MINIKUBE_REPO_URL}/minikube-linux-amd64 ;\ for BINARY in kubectl kubeadm kubelet; do \ curl -sSLo ${BINARY_DIR}/${BINARY} ${GOOGLE_KUBERNETES_REPO_URL}/${BINARY} ;\ done ;\ TMP_DIR=$(mktemp -d) ;\ curl -sSL ${HELM_REPO_URL}/helm-${HELM_VERSION}-linux-amd64.tar.gz | tar -zxv --strip-components=1 -C ${TMP_DIR} ;\ mv ${TMP_DIR}/helm ${BINARY_DIR} ;\ rm -rf ${TMP_DIR} ;\ chmod +x ${BINARY_DIR}/* ;\ curl https://docs.projectcalico.org/""${CALICO_VERSION}""/manifests/calico.yaml -o /opt/calico.yaml; \ for CALICO_IMAGE in $(grep -oP '(?<=image:)\s*calico/.+$' /opt/calico.yaml); do \ echo ${CALICO_IMAGE} >> /opt/images.txt ;\ done ;\ printf ""kubernetesVersion: ${KUBE_VERSION}\napiVersion: kubeadm.k8s.io/v1beta1\nkind: ClusterConfiguration"" >> /tmp/kubeadm.yaml ;\ $BINARY_DIR/kubeadm config images list --config /tmp/kubeadm.yaml | tee -a /opt/images.txt ;\ . /etc/os-release ;\ echo ""deb http://download.opensuse.org/repositories/devel:/kubic:/libcontainers:/stable/x${NAME}_${VERSION_ID}/ /"" > \ /etc/apt/sources.list.d/devel:kubic:libcontainers:stable.list ;\ curl -sSL https://download.opensuse.org/repositories/devel:kubic:libcontainers:stable/x${NAME}_${VERSION_ID}/Release.key | apt-key add - ;\ apt-get update ;\ apt-get install -y skopeo gettext ;\ mkdir /opt/images ;\ echo ""$(envsubst < /opt/images.txt | sort | uniq)"" > /opt/images.txt ;\ for IMAGE in $(cat /opt/images.txt); do \ path=/opt/images/$(echo ${IMAGE} | sed 's#[/:]#_#g').tar ;\ skopeo copy docker://${IMAGE} docker-archive:${path}:${IMAGE} ;\ done FROM scratch COPY --from=0 /opt / ",0,455
openstack%2Fcharm-designate~stable%2Fussuri~Ic2067fcac6e9f67e66f2748f707a3cf0f453a48b,openstack/charm-designate,stable/ussuri,Ic2067fcac6e9f67e66f2748f707a3cf0f453a48b,Migrate charm charmhub for stable/ussuri,MERGED,2022-05-20 19:01:20.000000000,2022-06-01 01:53:24.000000000,2022-06-01 01:53:24.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-20 19:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/5958f51832364014dc639aaa062306745b34ceac', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: Ic2067fcac6e9f67e66f2748f707a3cf0f453a48b\n'}, {'number': 2, 'created': '2022-05-31 10:59:20.000000000', 'files': ['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'src/tests/bundles/focal-xena.yaml', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/bundles/xenial-queens.yaml', 'requirements.txt', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/trusty-mitaka.yaml', 'src/tests/bundles/focal-victoria.yaml', 'src/build.lock', 'src/tests/bundles/xenial-pike.yaml', 'src/tests/bundles/xenial-mitaka.yaml', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/xenial-ocata.yaml', 'src/tests/bundles/focal-ussuri.yaml', '.zuul.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'rename.sh', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/bundles/bionic-queens.yaml', 'src/wheelhouse.txt', 'charmcraft.yaml', 'metadata.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/69148313f9654eb25539bed43a9c4816bbf40a97', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: Ic2067fcac6e9f67e66f2748f707a3cf0f453a48b\n'}]",2,842759,69148313f9654eb25539bed43a9c4816bbf40a97,12,3,2,20870,,,0,"Migrate charm charmhub for stable/ussuri

- start from stable/ussuri branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/ussuri for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 18.04 amd64
- Run on 18.04 amd64, s390x, ppc64el, arm64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: Ic2067fcac6e9f67e66f2748f707a3cf0f453a48b
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/59/842759/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'src/tests/bundles/focal-xena.yaml', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/bundles/xenial-queens.yaml', 'requirements.txt', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/trusty-mitaka.yaml', 'src/tests/bundles/focal-victoria.yaml', 'src/build.lock', 'src/tests/bundles/xenial-pike.yaml', 'src/tests/bundles/xenial-mitaka.yaml', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/xenial-ocata.yaml', 'src/tests/bundles/focal-ussuri.yaml', '.zuul.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'rename.sh', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/bundles/bionic-queens.yaml', 'src/wheelhouse.txt', 'charmcraft.yaml', 'metadata.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'tox.ini']",32,5958f51832364014dc639aaa062306745b34ceac,charmhub-migration,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:py39] basepython = python3.9 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:py310] basepython = python3.10 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",[testenv:py35] basepython = python3.5 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:py37] basepython = python3.7 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,164,1378
openstack%2Fcloudkitty~master~I01cd9689fdf5730dfee08aaacbea8c107bf625a3,openstack/cloudkitty,master,I01cd9689fdf5730dfee08aaacbea8c107bf625a3,Include /v2 in public routes for keystone auth,MERGED,2022-03-10 06:32:01.000000000,2022-06-01 01:42:14.000000000,2022-06-01 01:41:04.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2022-03-10 06:32:01.000000000', 'files': ['etc/cloudkitty/api_paste.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/9ea34500845970d626868f13bc3f850f1b05e85e', 'message': 'Include /v2 in public routes for keystone auth\n\nChange-Id: I01cd9689fdf5730dfee08aaacbea8c107bf625a3\n'}]",5,832923,9ea34500845970d626868f13bc3f850f1b05e85e,19,3,1,3031,,,0,"Include /v2 in public routes for keystone auth

Change-Id: I01cd9689fdf5730dfee08aaacbea8c107bf625a3
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/23/832923/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/cloudkitty/api_paste.ini'],1,9ea34500845970d626868f13bc3f850f1b05e85e,,"acl_public_routes = /, /v1, /v2, /healthcheck","acl_public_routes = /, /v1, /healthcheck",1,1
openstack%2Fcharm-barbican~master~I872ceb025fb6850a87c7f7307bd228ce3ea051ac,openstack/charm-barbican,master,I872ceb025fb6850a87c7f7307bd228ce3ea051ac,Fix typo in 'require-hsm-plugin' description,MERGED,2022-04-13 15:45:29.000000000,2022-06-01 01:40:52.000000000,2022-06-01 01:40:52.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-13 15:45:29.000000000', 'files': ['src/config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/a506c01557985a1176883b1c50cb849236a6ad98', 'message': ""Fix typo in 'require-hsm-plugin' description\n\nCloses-bug: #1963722\nChange-Id: I872ceb025fb6850a87c7f7307bd228ce3ea051ac\n""}]",1,837740,a506c01557985a1176883b1c50cb849236a6ad98,7,3,1,34715,,,0,"Fix typo in 'require-hsm-plugin' description

Closes-bug: #1963722
Change-Id: I872ceb025fb6850a87c7f7307bd228ce3ea051ac
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/40/837740/1 && git format-patch -1 --stdout FETCH_HEAD,['src/config.yaml'],1,a506c01557985a1176883b1c50cb849236a6ad98,bug/1963722, If True then the barbcian-worker process won't be fully, If True (the default) then the barbcian-worker process won't be fully,1,1
openstack%2Fcyborg-tempest-plugin~master~I8c599b7f8bb4705c12f67729c430aff2c047bc54,openstack/cyborg-tempest-plugin,master,I8c599b7f8bb4705c12f67729c430aff2c047bc54,Cap cyborg-tempest-plugin version for stable/ussuri|victoria,MERGED,2022-05-25 18:10:04.000000000,2022-06-01 01:08:24.000000000,2022-06-01 01:08:24.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-05-25 18:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/578fa54603e0450b8a6ae069905efaf1d6708527', 'message': 'Cap cyborg-tempest-plugin version for stable/ussuri|victoria\n\nWe are capping stable/ussuri and victoria testing with Tempest\n26.1.0 (choosing 26.1.0 because of bug#1955418)\n\n- https://review.opendev.org/c/openstack/devstack/+/838051\n- https://review.opendev.org/c/openstack/devstack/+/843295\n\nand cyborg-tempest jobs in stable/ussuri|victoria is\nfailing due to that\n\n- https://zuul.opendev.org/t/openstack/build/b5c679bb6ddf4b7cae630b8cc2b90766\nTo fix that we need to use compatible cyborg-tempest-plugin version for\nTempest 26.1.0, which is cyborg-tempest-plugin 1.4.0.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\n\nChange-Id: I8c599b7f8bb4705c12f67729c430aff2c047bc54\n'}, {'number': 2, 'created': '2022-05-31 15:42:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/5bd2bcf0f9f0624f523d3d1ba3f23b4158dacc0c', 'message': 'Cap cyborg-tempest-plugin version for stable/ussuri|victoria\n\nWe are capping stable/ussuri and victoria testing with Tempest\n26.1.0 (choosing 26.1.0 because of bug#1955418)\n\n- https://review.opendev.org/c/openstack/devstack/+/838051\n- https://review.opendev.org/c/openstack/devstack/+/843295\n\nand cyborg-tempest jobs in stable/ussuri|victoria is\nfailing due to that\n\n- https://zuul.opendev.org/t/openstack/build/b5c679bb6ddf4b7cae630b8cc2b90766\nTo fix that we need to use compatible cyborg-tempest-plugin version for\nTempest 26.1.0, which is cyborg-tempest-plugin 1.4.0.\n\nAs stable/victoria is in EM, droping the victoria job from master gate.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\n\nChange-Id: I8c599b7f8bb4705c12f67729c430aff2c047bc54\n'}]",4,843329,5bd2bcf0f9f0624f523d3d1ba3f23b4158dacc0c,15,3,2,8556,,,0,"Cap cyborg-tempest-plugin version for stable/ussuri|victoria

We are capping stable/ussuri and victoria testing with Tempest
26.1.0 (choosing 26.1.0 because of bug#1955418)

- https://review.opendev.org/c/openstack/devstack/+/838051
- https://review.opendev.org/c/openstack/devstack/+/843295

and cyborg-tempest jobs in stable/ussuri|victoria is
failing due to that

- https://zuul.opendev.org/t/openstack/build/b5c679bb6ddf4b7cae630b8cc2b90766
To fix that we need to use compatible cyborg-tempest-plugin version for
Tempest 26.1.0, which is cyborg-tempest-plugin 1.4.0.

As stable/victoria is in EM, droping the victoria job from master gate.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/838051

Change-Id: I8c599b7f8bb4705c12f67729c430aff2c047bc54
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/29/843329/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,578fa54603e0450b8a6ae069905efaf1d6708527,ussuri-pin-tempest," - name: openstack/cyborg-tempest-plugin override-checkout: 1.4.0 - name: openstack/cyborg-tempest-plugin override-checkout: 1.4.0 # NOTE(gmann): This job is for ussuri and victoria # where Tempest 26.1.0 is used so cyborg-tempest-plugin # 1.4.0 is used instead of master. branches: - stable/ussuri - stable/victoria vars: devstack_plugins: cyborg: https://opendev.org/openstack/cyborg devstack_services: tempest: true s-account: false s-container: false s-object: false s-proxy: false c-api: false c-bak: false c-sch: false c-vol: false cinder: false devstack_localrc: TEMPEST_PLUGINS: ""/opt/stack/cyborg-tempest-plugin"" USE_PYTHON3: true tempest_test_regex: cyborg_tempest_plugin tox_envlist: all irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^setup.cfg$ - ^releasenotes/.*$ - ^(test-|)requirements.txt$ - ^.git.*$ - ^tox.ini$ - job: name: cyborg-tempest description: | Cyborg devstack tempest tests job for >=Ussuri release run on python 3. parent: devstack-tempest timeout: 7800 required-projects: - openstack/cyborg - openstack/python-cyborgclient - openstack/tempest", - openstack/cyborg-tempest-plugin,49,1
openstack%2Fdesignate~stable%2Fxena~I43bb76dc4dc1d167d86fd5ea139a50f95f3b0b4a,openstack/designate,stable/xena,I43bb76dc4dc1d167d86fd5ea139a50f95f3b0b4a,Fix support for scoped tokens and default roles,MERGED,2022-01-05 21:55:32.000000000,2022-06-01 01:00:40.000000000,2022-06-01 00:58:26.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-01-05 21:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ad87c95e2c9a92149f62cdcbee4326dca457e2aa', 'message': 'Fix support for scoped tokens and default roles\n\nThis patch is the base patch to enable support for Keystone\nscoped tokens[1] and default roles[2] in the Designate API.\n\nIt also migrates to using project_id in the context objects instead of\nthe deprecated tenant_id.\n\n[1] https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes\n[2] https://docs.openstack.org/keystone/latest/admin/service-api-protection.html\n\nDepends-On: https://review.opendev.org/c/openstack/designate-tempest-plugin/+/821632\n\nChange-Id: I43bb76dc4dc1d167d86fd5ea139a50f95f3b0b4a\n(cherry picked from commit 5f87d207b448ec4e24988af5671c3b3593b13804)\n'}, {'number': 2, 'created': '2022-04-05 00:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/fa1bce20e6bbab43c07e69901283811de5b3adf2', 'message': 'Fix support for scoped tokens and default roles\n\nThis patch is the base patch to enable support for Keystone\nscoped tokens[1] and default roles[2] in the Designate API.\n\nIt also migrates to using project_id in the context objects instead of\nthe deprecated tenant_id.\n\n[1] https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes\n[2] https://docs.openstack.org/keystone/latest/admin/service-api-protection.html\n\nDepends-On: https://review.opendev.org/c/openstack/designate-tempest-plugin/+/821632\n\nChange-Id: I43bb76dc4dc1d167d86fd5ea139a50f95f3b0b4a\n(cherry picked from commit 5f87d207b448ec4e24988af5671c3b3593b13804)\n'}, {'number': 3, 'created': '2022-05-31 03:07:27.000000000', 'files': ['designate/objects/adapters/api_v2/zone_transfer_request.py', 'designate/tests/__init__.py', 'designate/common/policies/zone_transfer_accept.py', 'designate/api/v2/controllers/zones/tasks/exports.py', 'designate/common/policies/zone_export.py', 'designate/common/policies/context.py', 'designate/common/policies/quota.py', 'designate/api/middleware.py', 'designate/tests/test_central/test_service.py', 'designate/common/policies/zone_import.py', 'designate/common/policies/base.py', 'designate/tests/unit/test_central/test_basic.py', 'designate/exceptions.py', 'designate/storage/impl_sqlalchemy/__init__.py', 'designate/common/policies/recordset.py', 'designate/common/policies/zone_transfer_request.py', 'designate/common/policies/diagnostics.py', 'designate/common/policies/zone.py', 'designate/common/policies/tsigkey.py', 'designate/common/constants.py', 'releasenotes/notes/Support-scoped-tokens-6b7d6052a258cd11.yaml', 'designate/central/service.py', '.zuul.yaml', 'designate/tests/test_api/test_middleware.py', 'designate/context.py', 'designate/policy.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/b5bb17cf86ce40424eb6cc84bf9950dedefc88d8', 'message': 'Fix support for scoped tokens and default roles\n\nThis patch is the base patch to enable support for Keystone\nscoped tokens[1] and default roles[2] in the Designate API.\n\nIt also migrates to using project_id in the context objects instead of\nthe deprecated tenant_id.\n\n[1] https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes\n[2] https://docs.openstack.org/keystone/latest/admin/service-api-protection.html\n\nDepends-On: https://review.opendev.org/c/openstack/designate-tempest-plugin/+/821632\n\nChange-Id: I43bb76dc4dc1d167d86fd5ea139a50f95f3b0b4a\n(cherry picked from commit 5f87d207b448ec4e24988af5671c3b3593b13804)\n'}]",5,823581,b5bb17cf86ce40424eb6cc84bf9950dedefc88d8,24,4,3,11628,,,0,"Fix support for scoped tokens and default roles

This patch is the base patch to enable support for Keystone
scoped tokens[1] and default roles[2] in the Designate API.

It also migrates to using project_id in the context objects instead of
the deprecated tenant_id.

[1] https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes
[2] https://docs.openstack.org/keystone/latest/admin/service-api-protection.html

Depends-On: https://review.opendev.org/c/openstack/designate-tempest-plugin/+/821632

Change-Id: I43bb76dc4dc1d167d86fd5ea139a50f95f3b0b4a
(cherry picked from commit 5f87d207b448ec4e24988af5671c3b3593b13804)
",git fetch https://review.opendev.org/openstack/designate refs/changes/81/823581/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/objects/adapters/api_v2/zone_transfer_request.py', 'designate/tests/__init__.py', 'designate/common/policies/zone_transfer_accept.py', 'designate/api/v2/controllers/zones/tasks/exports.py', 'designate/common/policies/zone_export.py', 'designate/common/policies/context.py', 'designate/common/policies/quota.py', 'designate/api/middleware.py', 'designate/tests/test_central/test_service.py', 'designate/common/policies/zone_import.py', 'designate/common/policies/base.py', 'designate/tests/unit/test_central/test_basic.py', 'designate/exceptions.py', 'designate/storage/impl_sqlalchemy/__init__.py', 'designate/common/policies/recordset.py', 'designate/common/policies/zone_transfer_request.py', 'designate/common/policies/diagnostics.py', 'designate/common/policies/zone.py', 'designate/common/policies/tsigkey.py', 'designate/common/constants.py', 'releasenotes/notes/Support-scoped-tokens-6b7d6052a258cd11.yaml', 'designate/central/service.py', '.zuul.yaml', 'designate/tests/test_api/test_middleware.py', 'designate/context.py', 'designate/policy.py']",26,ad87c95e2c9a92149f62cdcbee4326dca457e2aa,," if enforce_new_defaults(): creds = ctxt.to_policy_values() else: creds = ctxt.to_dict() except policy.InvalidScope: result = False if do_raise: raise exceptions.InvalidTokenScope def enforce_new_defaults(): if CONF.get('oslo_policy'): return CONF['oslo_policy'].get('enforce_new_defaults', False) return False", creds = ctxt.to_dict(),866,322
openstack%2Fdesignate~stable%2Fussuri~I2b69025fc11125bb73a4e0f8c0dedad951399cbf,openstack/designate,stable/ussuri,I2b69025fc11125bb73a4e0f8c0dedad951399cbf,Checks for invalid denylist regex patterns,MERGED,2022-02-03 19:08:10.000000000,2022-06-01 00:48:16.000000000,2022-06-01 00:47:04.000000000,"[{'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-02-03 19:08:10.000000000', 'files': ['releasenotes/notes/Fix-to-address-denylist-invalid-patterns-not-being-checked-ec1f1316ccc6cb1d.yaml', 'designate/objects/blacklist.py', 'designate/objects/fields.py', 'designate/tests/test_api/test_v2/test_blacklists.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/ee678b69c4e320846c9f49913e16e5a161225b23', 'message': 'Checks for invalid denylist regex patterns\n\nAdds new field check method DenyListFields to validate\nthe pattern string. in addition, check for a zero\nlength string as well.\n\nCloses-Bug: #1934252\nChange-Id: I2b69025fc11125bb73a4e0f8c0dedad951399cbf\n'}]",1,827735,ee678b69c4e320846c9f49913e16e5a161225b23,9,4,1,5572,,,0,"Checks for invalid denylist regex patterns

Adds new field check method DenyListFields to validate
the pattern string. in addition, check for a zero
length string as well.

Closes-Bug: #1934252
Change-Id: I2b69025fc11125bb73a4e0f8c0dedad951399cbf
",git fetch https://review.opendev.org/openstack/designate refs/changes/35/827735/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/Fix-to-address-denylist-invalid-patterns-not-being-checked-ec1f1316ccc6cb1d.yaml', 'designate/objects/blacklist.py', 'designate/objects/fields.py', 'designate/tests/test_api/test_v2/test_blacklists.py']",4,ee678b69c4e320846c9f49913e16e5a161225b23,bug/1934252-stable/xena-stable/wallaby-stable/victoria-stable/ussuri," def test_create_invalid_denylist_pattern(self): self.policy({'create_blacklist': '@'}) body = { 'description': u'This is the description.' } url = '/blacklists/' # doing each pattern individually so upon error one can trace # back to the exact line number body['pattern'] = '' self._assert_exception( 'invalid_object', 400, self.client.post_json, url, body) body['pattern'] = '#(*&^%$%$#@$' self._assert_exception( 'invalid_object', 400, self.client.post_json, url, body) body['pattern'] = 'a' * 1000 self._assert_exception( 'invalid_object', 400, self.client.post_json, url, body) def test_update_invalid_denylist_pattern(self): blacklist = self.create_blacklist(fixture=0) self.policy({'update_blacklist': '@'}) url = ('/blacklists/%s' % blacklist['id']) # doing each pattern individually so upon error one can trace # back to the exact line number body = {'pattern': ''} self._assert_exception( 'invalid_object', 400, self.client.patch_json, url, body, status=400) body = {'pattern': '#(*&^%$%$#@$'} self._assert_exception( 'invalid_object', 400, self.client.patch_json, url, body, status=400) body = {'pattern': 'a' * 1000} self._assert_exception( 'invalid_object', 400, self.client.patch_json, url, body, status=400)",,85,2
openstack%2Fsahara-tests~master~I7282d7e928d418b380623b991dfdad8bcd039ef0,openstack/sahara-tests,master,I7282d7e928d418b380623b991dfdad8bcd039ef0,Add wallaby|xena stable branch jobs on master gate,ABANDONED,2022-01-19 01:43:48.000000000,2022-06-01 00:06:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-19 01:43:48.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/f02612ef6f51af91cd89f6ffc4cf0b89278ad16f', 'message': 'Add wallaby|xena stable branch jobs on master gate\n\nWe have stable/wallaby, and stable/xena released\nso we should add their job on master gate to keep\nbranchless tempest plugins compatible\nto those branch.\n\nThis also removes the stable/train|stein job as thare are in EM\nstate now.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I7282d7e928d418b380623b991dfdad8bcd039ef0\n'}]",3,825205,f02612ef6f51af91cd89f6ffc4cf0b89278ad16f,9,1,1,8556,,,0,"Add wallaby|xena stable branch jobs on master gate

We have stable/wallaby, and stable/xena released
so we should add their job on master gate to keep
branchless tempest plugins compatible
to those branch.

This also removes the stable/train|stein job as thare are in EM
state now.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: I7282d7e928d418b380623b991dfdad8bcd039ef0
",git fetch https://review.opendev.org/openstack/sahara-tests refs/changes/05/825205/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f02612ef6f51af91cd89f6ffc4cf0b89278ad16f,xena-stable-jobs, - sahara-tests-scenario-xena - sahara-tests-scenario-wallaby name: sahara-tests-scenario-xena parent: sahara-tests-scenario-py3 override-checkout: stable/xena - job: name: sahara-tests-scenario-wallaby parent: sahara-tests-scenario-py3 override-checkout: stable/wallaby - job:," - sahara-tests-scenario-train - sahara-tests-scenario-stein# pre-Ussuri scenario tests: fully-py3 based according the rules # (jobs running on master must use Python 3), but use RGW # on pre-Train branches as Swift/py3 does not work there. - job: name: sahara-tests-scenario-train parent: sahara-tests-scenario nodeset: openstack-single-node-bionic override-checkout: stable/train - job: name: sahara-tests-scenario-stein parent: sahara-tests-scenario-py3 nodeset: openstack-single-node-bionic override-checkout: stable/stein ",12,17
openstack%2Fpuppet-openstack_spec_helper~master~If0aa0a754e2cceac97454dcef0bf81d0d0bcce35,openstack/puppet-openstack_spec_helper,master,If0aa0a754e2cceac97454dcef0bf81d0d0bcce35,Disable CentOS 8 Stream in unit tests,MERGED,2022-05-26 17:06:13.000000000,2022-06-01 00:03:43.000000000,2022-06-01 00:03:43.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 17:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/ba8c81b345c505bccb622cb84d0abff39e688267', 'message': 'Disable CentOS Stream 8 in unit tests\n\n... because RDO no longer supports CentOS 8 Stream since Zed. OpenStack\nis globally removing support for Python 3.6 and 3.7 and no longer works\nwith CentOS Stream 8 which has Python 3.6.\n\nDepends-on: https://review.opendev.org/836947\nChange-Id: If0aa0a754e2cceac97454dcef0bf81d0d0bcce35\n'}, {'number': 2, 'created': '2022-05-26 17:06:38.000000000', 'files': ['lib/puppet-openstack_spec_helper/defaults.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/b803e2484ad5f743f874291414ea38cc4bf34926', 'message': 'Disable CentOS 8 Stream in unit tests\n\n... because RDO no longer supports CentOS 8 Stream since Zed. OpenStack\nis globally removing support for Python 3.6 and 3.7 and no longer works\nwith CentOS 8 Stream which has Python 3.6.\n\nDepends-on: https://review.opendev.org/836947\nChange-Id: If0aa0a754e2cceac97454dcef0bf81d0d0bcce35\n'}]",1,843504,b803e2484ad5f743f874291414ea38cc4bf34926,11,3,2,9816,,,0,"Disable CentOS 8 Stream in unit tests

... because RDO no longer supports CentOS 8 Stream since Zed. OpenStack
is globally removing support for Python 3.6 and 3.7 and no longer works
with CentOS 8 Stream which has Python 3.6.

Depends-on: https://review.opendev.org/836947
Change-Id: If0aa0a754e2cceac97454dcef0bf81d0d0bcce35
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/04/843504/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet-openstack_spec_helper/defaults.rb'],1,ba8c81b345c505bccb622cb84d0abff39e688267,rdo-zed-c9s,," 'operatingsystemrelease' => [ '8' ] }, { 'operatingsystem' => 'CentOS',",0,2
openstack%2Fmistral-tempest-plugin~master~I442a4ede8f20726f8fb029c4bc2977af2bf5cc09,openstack/mistral-tempest-plugin,master,I442a4ede8f20726f8fb029c4bc2977af2bf5cc09,Update stable branches jobs on master gate,ABANDONED,2021-04-29 23:18:41.000000000,2022-06-01 00:03:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-29 23:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/83439d98db028bb553810d4da3ac425693c1de83', 'message': 'Add victoria/wallaby stable branch jobs on master gate\n\nWe have stable/victoria and stable/wallaby released so we\nshould add their job on master gate to keep branchless\ntempest plugins compatible to those branch.\n\nThis also removes the stable/stein job as that is in EM\nstate now.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I442a4ede8f20726f8fb029c4bc2977af2bf5cc09\n'}, {'number': 2, 'created': '2022-01-19 01:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/374fb692b56bae3ae0fefd5e5f4365100ff3f87f', 'message': 'Add victoria/wallaby/xena stable branch jobs on master gate\n\nWe have stable/victoria, stable/wallaby, and\nstable/victoria released so we should add their job on\nmaster gate to keep branchless tempest plugins compatible\nto those branch.\n\nThis also removes the stable/train|stein job as thare are in EM\nstate now.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I442a4ede8f20726f8fb029c4bc2977af2bf5cc09\n'}, {'number': 3, 'created': '2022-04-15 02:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/137aa0f4efdaf4896c69c63be37b9cc4d0259259', 'message': 'Add victoria/wallaby/xena stable branch jobs on master gate\n\nWe have stable/victoria, stable/wallaby, and\nstable/victoria released so we should add their job on\nmaster gate to keep branchless tempest plugins compatible\nto those branch.\n\nThis also removes the stable/train|stein job as thare are in EM\nstate now.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I442a4ede8f20726f8fb029c4bc2977af2bf5cc09\n'}, {'number': 4, 'created': '2022-06-01 00:03:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/8cdbd7207dc7809667fddb86c400f3a572e3ab03', 'message': 'Update stable branches jobs on master gate\n\nwe have stable/xena and stable/yoga also present\nand supported so we should add their job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nThis also removes the old EM stable branches which are\nstein, train, ussuri, and victoria jobs.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I442a4ede8f20726f8fb029c4bc2977af2bf5cc09\n'}]",4,788838,8cdbd7207dc7809667fddb86c400f3a572e3ab03,24,1,4,8556,,,0,"Update stable branches jobs on master gate

we have stable/xena and stable/yoga also present
and supported so we should add their job on master
gate to keep branchless tempest plugins compatible
to stable branch.

This also removes the old EM stable branches which are
stein, train, ussuri, and victoria jobs.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: I442a4ede8f20726f8fb029c4bc2977af2bf5cc09
",git fetch https://review.opendev.org/openstack/mistral-tempest-plugin refs/changes/38/788838/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,83439d98db028bb553810d4da3ac425693c1de83,yoga-stable-job, - mistral-devstack-wallaby - mistral-devstack-victoria name: mistral-devstack-wallaby parent: mistral-devstack override-checkout: stable/wallaby - job: name: mistral-devstack-victoria parent: mistral-devstack override-checkout: stable/victoria - job:, - mistral-devstack-stein - job: name: mistral-devstack-stein parent: mistral-devstack override-checkout: stable/stein nodeset: openstack-single-node-bionic vars: devstack_localrc: USE_PYTHON3: True,12,10
openstack%2Fwatcher-tempest-plugin~master~Iaaa52573ded91dd8e97c97f96d39d7bbc67cf1ca,openstack/watcher-tempest-plugin,master,Iaaa52573ded91dd8e97c97f96d39d7bbc67cf1ca,Add victoria/wallaby/xena stable branch jobs on master gate,ABANDONED,2022-01-19 01:55:51.000000000,2022-06-01 00:01:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-19 01:55:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/373d540717ca20b41bc533cd4ab5ce551f417b20', 'message': 'Add victoria/wallaby/xena stable branch jobs on master gate\n\nWe have stable/victoria, stable/wallaby, and\nstable/xena released so we should add their job on\nmaster gate to keep branchless tempest plugins compatible\nto those branch.\n\nThis also removes the stable/train|stein job as they\nare in EM state now.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Iaaa52573ded91dd8e97c97f96d39d7bbc67cf1ca\n'}]",1,825231,373d540717ca20b41bc533cd4ab5ce551f417b20,5,1,1,8556,,,0,"Add victoria/wallaby/xena stable branch jobs on master gate

We have stable/victoria, stable/wallaby, and
stable/xena released so we should add their job on
master gate to keep branchless tempest plugins compatible
to those branch.

This also removes the stable/train|stein job as they
are in EM state now.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: Iaaa52573ded91dd8e97c97f96d39d7bbc67cf1ca
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/31/825231/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,373d540717ca20b41bc533cd4ab5ce551f417b20,xena-stable-jobs, - watcher-tempest-functional-xena name: watcher-tempest-functional-xena parent: watcher-tempest-functional nodeset: openstack-single-node-focal override-checkout: stable/xena - job: nodeset: openstack-single-node-focal nodeset: openstack-single-node-focal, - watcher-tempest-functional-train - watcher-tempest-functional-stein nodeset: openstack-single-node-bionic nodeset: openstack-single-node-bionic - job: name: watcher-tempest-functional-train parent: watcher-tempest-functional nodeset: openstack-single-node-bionic override-checkout: stable/train vars: devstack_localrc: USE_PYTHON3: True - job: name: watcher-tempest-functional-stein parent: watcher-tempest-functional nodeset: openstack-single-node-bionic override-checkout: stable/stein vars: devstack_localrc: USE_PYTHON3: True,9,22
openstack%2Fheat-tempest-plugin~master~Idf5734e4cab9c3aa9dc9011e345363f54768bd72,openstack/heat-tempest-plugin,master,Idf5734e4cab9c3aa9dc9011e345363f54768bd72,Add stable/xena jobs on master gate,ABANDONED,2022-01-19 01:01:11.000000000,2022-05-31 23:56:02.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-19 01:01:11.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/f172d48fbc7ad2a7cdaaecbcd5db2b77da07a7c5', 'message': 'Add stable/xena jobs on master gate\n\nWe have stable/xena released so we should add\ntheir job on master gate to keep branchless tempest\nplugins compatible to stable branch.\n\nThis also removes the stable/train job as that is in EM\nstate now.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Idf5734e4cab9c3aa9dc9011e345363f54768bd72\n'}]",0,825198,f172d48fbc7ad2a7cdaaecbcd5db2b77da07a7c5,3,2,1,8556,,,0,"Add stable/xena jobs on master gate

We have stable/xena released so we should add
their job on master gate to keep branchless tempest
plugins compatible to stable branch.

This also removes the stable/train job as that is in EM
state now.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: Idf5734e4cab9c3aa9dc9011e345363f54768bd72
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/98/825198/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f172d48fbc7ad2a7cdaaecbcd5db2b77da07a7c5,xena-stable-jobs,- job: name: heat-functional-xena parent: heat-functional override-checkout: stable/xena - heat-functional-xena, name: heat-functional-convg-stein parent: heat-functional-convg-mysql-lbaasv2-py3 nodeset: openstack-single-node-bionic override-checkout: stable/stein vars: branch_override: stable/stein - job: name: heat-functional-orig-stein parent: heat-functional-orig-mysql-lbaasv2 nodeset: openstack-single-node-bionic override-checkout: stable/stein vars: branch_override: stable/stein use_python3: 1 - job: name: heat-functional-convg-train parent: heat-functional-convg-mysql-lbaasv2-py3 nodeset: openstack-single-node-bionic override-checkout: stable/train vars: branch_override: stable/train - job: name: heat-functional-orig-train parent: heat-functional-orig-mysql-lbaasv2 nodeset: openstack-single-node-bionic override-checkout: stable/train vars: branch_override: stable/train use_python3: 1 - job: - heat-functional-convg-train - heat-functional-orig-train,6,36
openstack%2Fkeystone-tempest-plugin~master~Ic0fd7c74c7eb09ea650610dee727a05b9bec3608,openstack/keystone-tempest-plugin,master,Ic0fd7c74c7eb09ea650610dee727a05b9bec3608,Add stable/xena jobs on master gate,ABANDONED,2022-01-19 01:19:58.000000000,2022-05-31 23:50:52.000000000,,"[{'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-01-19 01:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/e9a6a205a18c718c216a35b22d91540fabdca54e', 'message': 'Add stable/xena jobs on master gate\n\nWe have stable/xena released so we should add\ntheir job on master gate to keep branchless tempest\nplugins compatible to stable branch.\n\nThis also removes the stable/train job as that is in EM\nstate now.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Ic0fd7c74c7eb09ea650610dee727a05b9bec3608\n'}, {'number': 2, 'created': '2022-04-15 02:04:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/3d5f1bcecf24ca2b1442e87fc302b0a892c55f83', 'message': 'Add stable/xena jobs on master gate\n\nWe have stable/xena released so we should add\ntheir job on master gate to keep branchless tempest\nplugins compatible to stable branch.\n\nThis also removes the stable/train job as that is in EM\nstate now.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Ic0fd7c74c7eb09ea650610dee727a05b9bec3608\n'}]",3,825203,3d5f1bcecf24ca2b1442e87fc302b0a892c55f83,16,3,2,8556,,,0,"Add stable/xena jobs on master gate

We have stable/xena released so we should add
their job on master gate to keep branchless tempest
plugins compatible to stable branch.

This also removes the stable/train job as that is in EM
state now.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: Ic0fd7c74c7eb09ea650610dee727a05b9bec3608
",git fetch https://review.opendev.org/openstack/keystone-tempest-plugin refs/changes/03/825203/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e9a6a205a18c718c216a35b22d91540fabdca54e,xena-stable-jobs, - keystone-dsvm-py3-functional-xena name: keystone-dsvm-py3-functional-xena parent: keystone-dsvm-py3-functional override-checkout: stable/xena - job:, - keystone-dsvm-py3-functional-train - job: name: keystone-dsvm-py3-functional-train parent: keystone-dsvm-py3-functional nodeset: openstack-single-node-bionic override-checkout: stable/train,6,7
openstack%2Fdesignate~stable%2Fxena~I2b69025fc11125bb73a4e0f8c0dedad951399cbf,openstack/designate,stable/xena,I2b69025fc11125bb73a4e0f8c0dedad951399cbf,Checks for invalid denylist regex patterns,MERGED,2022-02-01 17:38:57.000000000,2022-05-31 23:41:32.000000000,2022-05-31 23:40:19.000000000,"[{'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-02-01 17:38:57.000000000', 'files': ['releasenotes/notes/Fix-to-address-denylist-invalid-patterns-not-being-checked-ec1f1316ccc6cb1d.yaml', 'designate/objects/blacklist.py', 'designate/objects/fields.py', 'designate/tests/test_api/test_v2/test_blacklists.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/b55afb5991589cf43bce56ee70517610251f3cc9', 'message': 'Checks for invalid denylist regex patterns\n\nAdds new field check method DenyListFields to validate\nthe pattern string. in addition, check for a zero\nlength string as well.\n\nCloses-Bug: #1934252\nChange-Id: I2b69025fc11125bb73a4e0f8c0dedad951399cbf\n'}]",2,827246,b55afb5991589cf43bce56ee70517610251f3cc9,11,4,1,5572,,,0,"Checks for invalid denylist regex patterns

Adds new field check method DenyListFields to validate
the pattern string. in addition, check for a zero
length string as well.

Closes-Bug: #1934252
Change-Id: I2b69025fc11125bb73a4e0f8c0dedad951399cbf
",git fetch https://review.opendev.org/openstack/designate refs/changes/46/827246/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/Fix-to-address-denylist-invalid-patterns-not-being-checked-ec1f1316ccc6cb1d.yaml', 'designate/objects/blacklist.py', 'designate/objects/fields.py', 'designate/tests/test_api/test_v2/test_blacklists.py']",4,b55afb5991589cf43bce56ee70517610251f3cc9,bug/1934252-stable/xena," def test_create_invalid_denylist_pattern(self): self.policy({'create_blacklist': '@'}) body = { 'description': u'This is the description.' } url = '/blacklists/' # doing each pattern individually so upon error one can trace # back to the exact line number body['pattern'] = '' self._assert_exception( 'invalid_object', 400, self.client.post_json, url, body) body['pattern'] = '#(*&^%$%$#@$' self._assert_exception( 'invalid_object', 400, self.client.post_json, url, body) body['pattern'] = 'a' * 1000 self._assert_exception( 'invalid_object', 400, self.client.post_json, url, body) def test_update_invalid_denylist_pattern(self): blacklist = self.create_blacklist(fixture=0) self.policy({'update_blacklist': '@'}) url = ('/blacklists/%s' % blacklist['id']) # doing each pattern individually so upon error one can trace # back to the exact line number body = {'pattern': ''} self._assert_exception( 'invalid_object', 400, self.client.patch_json, url, body, status=400) body = {'pattern': '#(*&^%$%$#@$'} self._assert_exception( 'invalid_object', 400, self.client.patch_json, url, body, status=400) body = {'pattern': 'a' * 1000} self._assert_exception( 'invalid_object', 400, self.client.patch_json, url, body, status=400)",,85,2
openstack%2Fpython-tripleoclient~stable%2Fwallaby~If53fa783c95d9d1031d04763f85278bea7e44b30,openstack/python-tripleoclient,stable/wallaby,If53fa783c95d9d1031d04763f85278bea7e44b30,update output path cli switch,MERGED,2022-05-30 08:33:21.000000000,2022-05-31 23:37:40.000000000,2022-05-31 23:36:26.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 08:33:21.000000000', 'files': ['tripleoclient/v1/overcloud_export.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2ba452b4be840a03b332abc24f038d17fbed49f0', 'message': 'update output path cli switch\n\nThe output cli switch was being ignored, this change will ensure that if\na user provides an output path the export function will operatate as\nexpected.\n\nChange-Id: If53fa783c95d9d1031d04763f85278bea7e44b30\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit b56a6035fe4112d3fe029d0c16da88a7839be327)\n'}]",1,843810,2ba452b4be840a03b332abc24f038d17fbed49f0,9,2,1,8833,,,0,"update output path cli switch

The output cli switch was being ignored, this change will ensure that if
a user provides an output path the export function will operatate as
expected.

Change-Id: If53fa783c95d9d1031d04763f85278bea7e44b30
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit b56a6035fe4112d3fe029d0c16da88a7839be327)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/10/843810/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_export.py'],1,2ba452b4be840a03b332abc24f038d17fbed49f0,," output_file = parsed_args.output_file or os.path.join( '{}-export.yaml'.format( parsed_args.stack ) ) export_file_path = os.path.abspath( os.path.expanduser( output_file ) ) print(""Stack information exported to %s."" % export_file_path)"," output_file = parsed_args.output_file or \ '%s-export.yaml' % stack export_file_path = os.path.join( '{}-export.yaml'.format(parsed_args.stack)) print(""Stack information exported to %s."" % output_file)",11,6
openstack%2Fcharm-deployment-guide~master~Ibd09e9e0d66a6f9e152f37c6ac675eed35c97bde,openstack/charm-deployment-guide,master,Ibd09e9e0d66a6f9e152f37c6ac675eed35c97bde,Add dedicated OpenStack upgrade path pages,MERGED,2022-05-24 19:19:18.000000000,2022-05-31 23:33:03.000000000,2022-05-31 23:31:54.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-24 19:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/9a928f645bdbb3d9bb09fd96b589d40864cfd50a', 'message': 'Add dedicated OpenStack upgrade path pages\n\nAdd dedicated OpenStack upgrade migration path pages to\nmake it clearer for upgraders. Doing so also removes\nnon-relevant text from the general upgrade-issues page.\n\nChange-Id: Ibd09e9e0d66a6f9e152f37c6ac675eed35c97bde\n'}, {'number': 2, 'created': '2022-05-24 19:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/9152e5e845ce1eeeed3282015f9233240bd47ace', 'message': 'Add dedicated OpenStack upgrade path pages\n\nAdd dedicated OpenStack upgrade migration path pages to\nmake it clearer for upgraders. Doing so also removes\nnon-relevant text from the general upgrade-issues page.\n\nAdd a redirect to account for the deleted placement\ncharm special procedure page.\n\nChange-Id: Ibd09e9e0d66a6f9e152f37c6ac675eed35c97bde\n'}, {'number': 3, 'created': '2022-05-24 19:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/4d82da51d2c98d81fc4bd88d8020d70814f99976', 'message': 'Add dedicated OpenStack upgrade path pages\n\nAdd dedicated OpenStack upgrade migration path pages to\nmake it clearer for upgraders. Doing so also removes\nnon-relevant text from the general upgrade-issues page.\n\nAdd a redirect to account for the deleted placement\ncharm special procedure page.\n\nCloses-Bug: #1970272\nChange-Id: Ibd09e9e0d66a6f9e152f37c6ac675eed35c97bde\n'}, {'number': 4, 'created': '2022-05-25 16:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/562a2f82255d7fa662ca4a6797ca360079e0c1da', 'message': 'Add dedicated OpenStack upgrade path pages\n\nAdd dedicated OpenStack upgrade migration path pages to\nmake it clearer for upgraders. Doing so also removes\nnon-relevant text from the general upgrade-issues page.\n\nAdd a redirect to account for the deleted placement\ncharm special procedure page.\n\nCloses-Bug: #1970272\nChange-Id: Ibd09e9e0d66a6f9e152f37c6ac675eed35c97bde\n'}, {'number': 5, 'created': '2022-05-31 00:24:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/472e37968e8ff2b7bc76eb8ff18789922fad151b', 'message': 'Add dedicated OpenStack upgrade path pages\n\nAdd dedicated OpenStack upgrade migration path pages to\nmake it clearer for upgraders. Doing so also removes\nnon-relevant text from the general upgrade-issues page.\n\nAdd a redirect to account for the deleted placement\ncharm special procedure page.\n\nCloses-Bug: #1970272\nChange-Id: Ibd09e9e0d66a6f9e152f37c6ac675eed35c97bde\n'}, {'number': 6, 'created': '2022-05-31 19:30:35.000000000', 'files': ['deploy-guide/source/_extra/.htaccess', 'deploy-guide/source/upgrade-newton-to-ocata.rst', 'deploy-guide/source/upgrade-ussuri-to-victoria.rst', 'deploy-guide/source/upgrade-openstack.rst', 'deploy-guide/source/upgrade-stein-to-train.rst', 'deploy-guide/test/redirect-tests.txt', 'deploy-guide/source/upgrade-special.rst', 'deploy-guide/source/placement-charm-upgrade-to-train.rst', 'deploy-guide/source/upgrade-mitaka-to-newton.rst', 'deploy-guide/source/upgrade-queens-to-rocky.rst', 'deploy-guide/source/upgrade-issues.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/278f3d826bfda8f6cb5298e65cb9970ad7c68994', 'message': 'Add dedicated OpenStack upgrade path pages\n\nAdd dedicated OpenStack upgrade migration path pages to\nmake it clearer for upgraders. Doing so also removes\nnon-relevant text from the general upgrade-issues page.\n\nAdd a redirect to account for the deleted placement\ncharm special procedure page.\n\nCloses-Bug: #1970272\nChange-Id: Ibd09e9e0d66a6f9e152f37c6ac675eed35c97bde\n'}]",0,843184,278f3d826bfda8f6cb5298e65cb9970ad7c68994,16,2,6,30561,,,0,"Add dedicated OpenStack upgrade path pages

Add dedicated OpenStack upgrade migration path pages to
make it clearer for upgraders. Doing so also removes
non-relevant text from the general upgrade-issues page.

Add a redirect to account for the deleted placement
charm special procedure page.

Closes-Bug: #1970272
Change-Id: Ibd09e9e0d66a6f9e152f37c6ac675eed35c97bde
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/84/843184/5 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/_extra/.htaccess', 'deploy-guide/source/upgrade-newton-to-ocata.rst', 'deploy-guide/source/upgrade-ussuri-to-victoria.rst', 'deploy-guide/source/upgrade-openstack.rst', 'deploy-guide/source/upgrade-stein-to-train.rst', 'deploy-guide/test/redirect-tests.txt', 'deploy-guide/source/upgrade-special.rst', 'deploy-guide/source/placement-charm-upgrade-to-train.rst', 'deploy-guide/source/upgrade-mitaka-to-newton.rst', 'deploy-guide/source/upgrade-issues.rst', 'deploy-guide/source/upgrade-queens-to-rocky.rst']",11,9a928f645bdbb3d9bb09fd96b589d40864cfd50a,openstack-upgrades-n+1-pages,":orphan: ======================== Upgrade: Queens to Rocky ======================== This page contains notes specific to the Queens to Rocky upgrade path. See the main :doc:`upgrade-openstack` page for full coverage. Keystone and Fernet tokens -------------------------- Starting with OpenStack Rocky only the Fernet format for authentication tokens is supported. Therefore, prior to upgrading Keystone to Rocky a transition must be made from the legacy format (of UUID) to Fernet. Fernet support is available upstream (and in the keystone charm) starting with Ocata so the transition can be made on either Ocata, Pike, or Queens. A keystone charm upgrade will not alter the token format. The charm's ``token-provider`` option must be used to make the transition: .. code-block:: none juju config keystone token-provider=fernet This change may result in a minor control plane outage but any running instances will remain unaffected. The ``token-provider`` option has no effect starting with Rocky, where the charm defaults to Fernet and where upstream removes support for UUID. See `Keystone Fernet Token Implementation`_ for more information. .. LINKS .. _Keystone Fernet Token Implementation: https://specs.openstack.org/openstack/charm-specs/specs/rocky/implemented/keystone-fernet-tokens.html ",,248,191
openstack%2Fcharm-deployment-guide~master~I4f39e75fdda968a280f230283cf3ea41d7397c51,openstack/charm-deployment-guide,master,I4f39e75fdda968a280f230283cf3ea41d7397c51,Improve the special charm procedures page,MERGED,2022-05-24 20:45:38.000000000,2022-05-31 23:31:53.000000000,2022-05-31 23:30:48.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-24 20:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/3e1526495b24af98d0af2edfe6a05460f0f653bb', 'message': 'Improve the special charm procedures page\n\nImprove wording on the special charm procedures page\nand streamline the reference back to the rest of the\nupgrade pages.\n\nChange-Id: I4f39e75fdda968a280f230283cf3ea41d7397c51\n'}, {'number': 2, 'created': '2022-05-24 20:46:17.000000000', 'files': ['deploy-guide/source/upgrade-special.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/06d91d4d2b28af7a05203fb218152c138709a17b', 'message': 'Improve the special charm procedures page\n\nImprove wording on the special charm procedures page\n(it currently is at odds with channeled charms) and\nstreamline the reference back to the rest of the\nupgrade pages.\n\nChange-Id: I4f39e75fdda968a280f230283cf3ea41d7397c51\n'}]",0,843213,06d91d4d2b28af7a05203fb218152c138709a17b,8,2,2,30561,,,0,"Improve the special charm procedures page

Improve wording on the special charm procedures page
(it currently is at odds with channeled charms) and
streamline the reference back to the rest of the
upgrade pages.

Change-Id: I4f39e75fdda968a280f230283cf3ea41d7397c51
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/13/843213/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/upgrade-special.rst'],1,3e1526495b24af98d0af2edfe6a05460f0f653bb,charmhub-words-special-procedures,"Upgrades, of either of the three types, may occasionally introduce unavoidable challenges. For instance, it could be that a charm is replaced by an entirely new charm on a new series or a new charm is needed to accommodate a new service on a new OpenStack release. These kinds of special procedures are documented on this page. See the :doc:`upgrade-overview` page for general upgrade information.","The OpenStack charms are designed to accommodate every supported series and OpenStack release wherever possible. However, upgrades (of either of the three types) may occasionally introduce unavoidable challenges. For instance, it could be that a charm is replaced by an entirely new charm on a new series or a new charm is needed to accommodate a new service on a new OpenStack release. These kinds of special procedures are documented on this page. The items on this page are distinct from those found on the following pages: * the `Various issues`_ page * the dedicated `Upgrade issues`_ page .. LINKS .. _Various issues: various-issues.html .. _Upgrade issues: upgrade-issues.html",6,14
openstack%2Fcharm-deployment-guide~master~If8bb494966915c34f50a23937f3b500ed99c7049,openstack/charm-deployment-guide,master,If8bb494966915c34f50a23937f3b500ed99c7049,Improve upgrade overview,MERGED,2022-05-06 16:28:23.000000000,2022-05-31 23:22:02.000000000,2022-05-31 23:20:48.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-06 16:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/f6b09a7e3ca4d6ed177ec1ca9500f114d83aff6b', 'message': 'Improve upgrade overview\n\nImprove and streamline upgrade overview text.\n\nIn particular, move the topology information to the\nupgrade-overview page.\n\nRelated-Bug: #1929091\nChange-Id: If8bb494966915c34f50a23937f3b500ed99c7049\n'}, {'number': 2, 'created': '2022-05-19 18:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/cec863339f6cfc68eef73a3730313f48e2c868c2', 'message': 'Improve upgrade overview\n\nImprove and streamline upgrade overview text.\n\nIn particular, move the topology information to the\nupgrade-overview page.\n\nRelated-Bug: #1929091\nChange-Id: If8bb494966915c34f50a23937f3b500ed99c7049\n'}, {'number': 3, 'created': '2022-05-31 22:01:30.000000000', 'files': ['deploy-guide/source/upgrade-overview.rst', 'deploy-guide/source/upgrade-series-openstack.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/8707712087faa4a995d9c8dbb95b7b93463bb927', 'message': 'Improve upgrade overview\n\nImprove and streamline upgrade overview text.\n\nIn particular, move the topology information to the\nupgrade-overview page.\n\nRelated-Bug: #1929091\nChange-Id: If8bb494966915c34f50a23937f3b500ed99c7049\n'}]",6,840963,8707712087faa4a995d9c8dbb95b7b93463bb927,14,2,3,30561,,,0,"Improve upgrade overview

Improve and streamline upgrade overview text.

In particular, move the topology information to the
upgrade-overview page.

Related-Bug: #1929091
Change-Id: If8bb494966915c34f50a23937f3b500ed99c7049
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/63/840963/2 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/upgrade-overview.rst', 'deploy-guide/source/upgrade-series-openstack.rst']",2,f6b09a7e3ca4d6ed177ec1ca9500f114d83aff6b,improve-upgrade-overview-topology,,"Reference cloud topology ------------------------ This section describes a hyperconverged cloud topology that this document will use for the procedural steps to follow. Hyperconvergence refers to the practice of co-locating principal applications on the same machine. The topology is defined in this way: * Only compute and storage charms (and their subordinates) may be co-located. * Third-party charms either do not exist or have been thoroughly tested for a series upgrade. * The following are containerised: * All API applications * The percona-cluster application * The rabbitmq-server application * The ceph-mon application * All applications, where possible, are under high availability, whether natively (e.g. ceph-mon, rabbitmq-server) or via hacluster (e.g. percona-cluster). .. caution:: If your cloud differs from this topology you must adapt the procedural steps accordingly. In particular, look at the aspects of co-located applications and containerised applications. Recall that: * the :command:`upgrade-series` command: * affects all applications residing on the target machine * does not affect containers hosted on the target machine Notes ~~~~~ Storage charms are charms that manage physical disks. For example, ceph-osd and swift-storage. Example OpenStack subordinate charms are networking SDN charms for the nova-compute charm, or monitoring charms for compute or storage charms. ",34,49
openstack%2Fansible-collections-openstack~master~I9221204942f510335e2fb7d2615c71eeefa88d9a,openstack/ansible-collections-openstack,master,I9221204942f510335e2fb7d2615c71eeefa88d9a,Adds recordset_info module,NEW,2022-05-19 14:40:51.000000000,2022-05-31 22:21:29.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-19 14:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a4016ef4a35c404ca778a0d14e9b07e6fc57367c', 'message': 'Adds recordset_info module\n\nChange-Id: I9221204942f510335e2fb7d2615c71eeefa88d9a\n'}, {'number': 2, 'created': '2022-05-19 17:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/83c888e87a0b3b19ebb92215f9f7a9c1bd06bab1', 'message': 'Adds recordset_info module\n\nChange-Id: I9221204942f510335e2fb7d2615c71eeefa88d9a\n'}, {'number': 3, 'created': '2022-05-19 17:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/843e584169804a98d4b2226e81ccbe5b59ec2602', 'message': 'Adds recordset_info module\n\nChange-Id: I9221204942f510335e2fb7d2615c71eeefa88d9a\n'}, {'number': 4, 'created': '2022-05-19 18:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4cdde5bda8a63fcded08de130f24bca88903b852', 'message': 'Adds recordset_info module\n\nChange-Id: I9221204942f510335e2fb7d2615c71eeefa88d9a\n'}, {'number': 5, 'created': '2022-05-23 13:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f29622e7fb49e97b1051058431ae302d912b3876', 'message': 'Adds recordset_info module\n\nChange-Id: I9221204942f510335e2fb7d2615c71eeefa88d9a\n'}, {'number': 6, 'created': '2022-05-31 12:09:14.000000000', 'files': ['.zuul.yaml', 'ci/roles/recordset_info/tasks/main.yml', 'ci/roles/recordset_info/tasks/filter.yml', 'ci/roles/recordset_info/defaults/main.yml', 'plugins/modules/recordset_info.py', 'ci/run-collection.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1c731b2785be71d7953de6a077f3f34cbbad7f14', 'message': 'Adds recordset_info module\n\nChange-Id: I9221204942f510335e2fb7d2615c71eeefa88d9a\n'}]",18,842550,1c731b2785be71d7953de6a077f3f34cbbad7f14,22,2,6,34208,,,0,"Adds recordset_info module

Change-Id: I9221204942f510335e2fb7d2615c71eeefa88d9a
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/50/842550/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/recordset_info.py'],1,a4016ef4a35c404ca778a0d14e9b07e6fc57367c,recordset_info,"#!/usr/bin/python # Copyright (c) 2022 Red Hat # GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt) DOCUMENTATION = ''' --- module: recordset_info short_description: Retrieve information about one or more OpenStack DNS recordsets author: OpenStack Ansible SIG description: - Retrieve information about one or more OpenStack DNS recordsets. options: description: description: Description of retrieved recordsets required: false type: str name: description: Name or ID of the recordset required: false type: str status: description: Status of retrieved recordsets required: false type: str ttl: description: TTL of retrieved recordsets required: false type: str type: description: Type of retrieved recordsets required: false type: str zone: description: Zone managing the recordset required: false type: str requirements: - ""python >= 3.6"" - ""openstacksdk"" extends_documentation_fragment: - openstack.cloud.openstack ''' EXAMPLES = ''' # Retrieve all recordsets for the cloud - openstack.cloud.recordset_info: cloud: mycloud # Retrieve all recordsets for a zone - openstack.cloud.recordset_info: cloud: mycloud zone: example_zone # Retrieve recordset by zone and name - openstack.cloud.recordset_info: cloud: mycloud zone: example_zone name: recordset_name ''' RETURN = ''' recordset: description: List of recordset resource dictionaries returned: On success when I(state) is 'present'. type: list elements: dict contains: action: description: Current action in progress on the resource type: str returned: always created_at: description: Timestamp when the zone was created type: str returned: always description: description: Recordset description type: str sample: ""Test description"" returned: always id: description: Unique recordset ID type: str sample: ""c1c530a3-3619-46f3-b0f6-236927b2618c"" links: descripiton: Links related to the resource type: dict returned: always name: description: Recordset name type: str sample: ""www.example.net."" returned: always project_id: description: ID of the proect to which the recordset belongs type: str returned: always records: description: Recordset records type: list sample: ['10.0.0.1'] returned: always status: description: - Recordset status - Valid values include `PENDING_CREATE`, `ACTIVE`,`PENDING_DELETE`, `ERROR` type: string returned: always type: description: - Recordset type - Valid values include `A`, `AAAA`, `MX`, `CNAME`, `TXT`, `NS`, `SSHFP`, `SPF`, `SRV`, `PTR` type: str sample: ""A"" returned: always ttl: description: Zone TTL value type: int sample: 3600 returned: always zone_id: description: Zone id type: str sample: 9508e177-41d8-434e-962c-6fe6ca880af7 returned: always ''' from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class DnsRecordsetInfoModule(OpenStackModule): argument_spec = dict( description=dict(type='str'), name=dict(type='str'), status=dict(type='str'), ttl=dict(type='str'), type=dict(type='str'), zone=dict(type='str'), ) module_kwargs = dict( supports_check_mode=True ) module_min_sdk_version = '0.28.0' def run(self): search_args = {k: v for k, v in self.params.items() if v is not None} recordsets = self.conn.dns.recordsets(search_args) recordsets = [r.to_dict(computed=False) for r in recordsets] self.exit_json(changed=False, recordsets=recordsets) def main(): module = DnsRecordsetInfoModule() module() if __name__ == '__main__': main() ",,163,0
openstack%2Fcharm-neutron-api-plugin-ovn~master~I6a4adbd87bd59ad3a4b0a8cef187d82f4e128084,openstack/charm-neutron-api-plugin-ovn,master,I6a4adbd87bd59ad3a4b0a8cef187d82f4e128084,Fix offline network migration for sqlalchemy 1.4+,MERGED,2022-04-12 02:40:50.000000000,2022-05-31 22:09:41.000000000,2022-05-31 22:09:41.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-12 02:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/4d7531d3d408708618aba94b2070c6235f6cba10', 'message': 'Fix offline network migration for sqlalchemy 1.4+\n\nSqlalchemy 1.4 dropped support for RowProxy and Row now behaves like a\ntuple. This causes row and column iteration to fail using the RowProxy\nsemantics as the iteration methods are no longer there. Fix this by\nchecking which method needs to be used. This is necessary for backwards\ncompatibility with the Xena release for the Yoga branch.\n\nCloses-Bug: #1968647\nChange-Id: I6a4adbd87bd59ad3a4b0a8cef187d82f4e128084\n'}, {'number': 2, 'created': '2022-04-12 20:09:53.000000000', 'files': ['src/files/scripts/neutron_offline_network_type_update.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/d20fda9b179d5cbf29c97dc7926593065810e101', 'message': 'Fix offline network migration for sqlalchemy 1.4+\n\nSqlalchemy 1.4 dropped support for RowProxy and Row now behaves like a\ntuple. This causes row and column iteration to fail using the RowProxy\nsemantics as the iteration methods are no longer there. Fix this by\nchecking which method needs to be used. This is necessary for backwards\ncompatibility with the Xena release for the Yoga branch.\n\nCloses-Bug: #1968647\nChange-Id: I6a4adbd87bd59ad3a4b0a8cef187d82f4e128084\n'}]",2,837445,d20fda9b179d5cbf29c97dc7926593065810e101,12,3,2,8992,,,0,"Fix offline network migration for sqlalchemy 1.4+

Sqlalchemy 1.4 dropped support for RowProxy and Row now behaves like a
tuple. This causes row and column iteration to fail using the RowProxy
semantics as the iteration methods are no longer there. Fix this by
checking which method needs to be used. This is necessary for backwards
compatibility with the Xena release for the Yoga branch.

Closes-Bug: #1968647
Change-Id: I6a4adbd87bd59ad3a4b0a8cef187d82f4e128084
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/45/837445/1 && git format-patch -1 --stdout FETCH_HEAD,['src/files/scripts/neutron_offline_network_type_update.py'],1,4d7531d3d408708618aba94b2070c6235f6cba10,bug/1968647," if hasattr(row, 'itervalues'): vni = next(row.itervalues()) else: vni = next(row) if hasattr(row, 'values'): yield row.values() else: yield row", vni = next(row.itervalues()) yield row.values(),8,2
openstack%2Fcloudkitty~master~Ibe01ac289f00f24fa35ad2416fa2a93d8d6f57a6,openstack/cloudkitty,master,Ibe01ac289f00f24fa35ad2416fa2a93d8d6f57a6,Fix incorrect use of voluptuous.Coerce,MERGED,2022-05-31 09:12:14.000000000,2022-05-31 21:55:29.000000000,2022-05-31 21:54:10.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2022-05-31 09:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/1f2d25ebfecb570f53760b5a3d4844cd0ac55878', 'message': 'Fix incorrect use of voluptuous.Coerce\n\nThe voluptuous.Coerce validator expects a type, not a function. Replace\nwith a call to dt_from_iso through voluptuous.Schema.\n\nChange-Id: Ibe01ac289f00f24fa35ad2416fa2a93d8d6f57a6\nStory: 2010058\nTask: 45502\n'}, {'number': 2, 'created': '2022-05-31 16:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/27cb738d2434d4ca3ae6b0a62823afce2f1c50c7', 'message': 'Fix incorrect use of voluptuous.Coerce\n\nThe voluptuous.Coerce validator expects a type, not a function. Replace\nwith a call to dt_from_iso through voluptuous.Schema.\n\nChange-Id: Ibe01ac289f00f24fa35ad2416fa2a93d8d6f57a6\nStory: 2010058\nTask: 45502\n'}, {'number': 3, 'created': '2022-05-31 20:03:28.000000000', 'files': ['cloudkitty/dataframe.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/85da729089655e060f2f36702e9f9fa14de54723', 'message': 'Fix incorrect use of voluptuous.Coerce\n\nThe voluptuous.Coerce validator expects a type, not a function. Use\ntzutils.dt_from_iso directly instead, since voluptuous.Schema accepts\ncallables.\n\nChange-Id: Ibe01ac289f00f24fa35ad2416fa2a93d8d6f57a6\nStory: 2010058\nTask: 45502\n'}]",6,844015,85da729089655e060f2f36702e9f9fa14de54723,18,4,3,15197,,,0,"Fix incorrect use of voluptuous.Coerce

The voluptuous.Coerce validator expects a type, not a function. Use
tzutils.dt_from_iso directly instead, since voluptuous.Schema accepts
callables.

Change-Id: Ibe01ac289f00f24fa35ad2416fa2a93d8d6f57a6
Story: 2010058
Task: 45502
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/15/844015/1 && git format-patch -1 --stdout FETCH_HEAD,['cloudkitty/dataframe.py'],1,1f2d25ebfecb570f53760b5a3d4844cd0ac55878,voluptuous-coerce," datetime.datetime, voluptuous.Schema( lambda v: tzutils.dt_from_iso(v))), datetime.datetime, voluptuous.Schema( lambda v: tzutils.dt_from_iso(v))),"," datetime.datetime, voluptuous.Coerce(tzutils.dt_from_iso)), datetime.datetime, voluptuous.Coerce(tzutils.dt_from_iso)),",4,2
openstack%2Fmonasca-tempest-plugin~master~Ia2fc2233c1d2014bf5a57456b13f2bb2cb46a5d5,openstack/monasca-tempest-plugin,master,Ia2fc2233c1d2014bf5a57456b13f2bb2cb46a5d5,Remove stable/victoria job from master gate,NEW,2022-05-31 21:08:35.000000000,2022-05-31 21:53:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-31 21:08:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/d4b8f62dd7a9cb92c75aae63c69fc8ee8fe40744', 'message': 'Remove stable/victoria job from master gate\n\nstable/victoria is in EM state and Tempest is pinned\nthere so we do not need to test the stable/victoria\njobs on master gate.\n\nChange-Id: Ia2fc2233c1d2014bf5a57456b13f2bb2cb46a5d5\n'}]",0,844134,d4b8f62dd7a9cb92c75aae63c69fc8ee8fe40744,2,1,1,8556,,,0,"Remove stable/victoria job from master gate

stable/victoria is in EM state and Tempest is pinned
there so we do not need to test the stable/victoria
jobs on master gate.

Change-Id: Ia2fc2233c1d2014bf5a57456b13f2bb2cb46a5d5
",git fetch https://review.opendev.org/openstack/monasca-tempest-plugin refs/changes/34/844134/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d4b8f62dd7a9cb92c75aae63c69fc8ee8fe40744,victoria-pin-tempest,, - monasca-tempest-influxdb-victoria name: monasca-tempest-influxdb-victoria parent: monasca-tempest-python3-influxdb override-checkout: stable/victoria - job:,0,6
openstack%2Fcharm-mysql-innodb-cluster~master~If00f6595e35ce9f7ddc829826b2f1def880c0fd1,openstack/charm-mysql-innodb-cluster,master,If00f6595e35ce9f7ddc829826b2f1def880c0fd1,Fixes for jammy support,MERGED,2022-03-23 15:54:52.000000000,2022-05-31 21:48:51.000000000,2022-05-31 21:48:51.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-23 15:54:52.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/329257becac536fea95244f466524352a3862e39', 'message': 'Fixes for jammy support\n\nChange-Id: If00f6595e35ce9f7ddc829826b2f1def880c0fd1\n'}]",1,834917,329257becac536fea95244f466524352a3862e39,7,3,1,935,,,0,"Fixes for jammy support

Change-Id: If00f6595e35ce9f7ddc829826b2f1def880c0fd1
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/17/834917/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,329257becac536fea95244f466524352a3862e39,jammy-fixes,, charm-tools==2.8.3,0,1
openstack%2Fkayobe~stable%2Fwallaby~Id9418e4e88c52056412daa22462aa611bfcc59ae,openstack/kayobe,stable/wallaby,Id9418e4e88c52056412daa22462aa611bfcc59ae,ironic: Set MTU on provisioning and cleaning Neutron networks,MERGED,2022-05-27 17:52:36.000000000,2022-05-31 21:48:26.000000000,2022-05-31 21:46:40.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 27339}]","[{'number': 1, 'created': '2022-05-27 17:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3d14abe207e1e53b6491af374aa91e70591686cb', 'message': 'ironic: Set MTU on provisioning and cleaning Neutron networks\n\nPreviously we were not applying an MTU defined in Kayobe networks.yml to\nthe provisioning and cleaning networks in Neutron. This could lead to\nissues when nodes communicate with the Ironic and Inspector APIs.\n\nChange-Id: Id9418e4e88c52056412daa22462aa611bfcc59ae\n(cherry picked from commit cd24b6d98e1b82ab9c255e3e5ddbaed99c49067f)\n'}, {'number': 2, 'created': '2022-05-31 16:34:08.000000000', 'files': ['releasenotes/notes/provision-net-mtu-befdda04224f49a6.yaml', 'ansible/provision-net.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/313a98512ab387e3857760fa0a73afb09f598061', 'message': 'ironic: Set MTU on provisioning and cleaning Neutron networks\n\nPreviously we were not applying an MTU defined in Kayobe networks.yml to\nthe provisioning and cleaning networks in Neutron. This could lead to\nissues when nodes communicate with the Ironic and Inspector APIs.\n\nChange-Id: Id9418e4e88c52056412daa22462aa611bfcc59ae\n(cherry picked from commit cd24b6d98e1b82ab9c255e3e5ddbaed99c49067f)\n'}]",7,843665,313a98512ab387e3857760fa0a73afb09f598061,23,4,2,14200,,,0,"ironic: Set MTU on provisioning and cleaning Neutron networks

Previously we were not applying an MTU defined in Kayobe networks.yml to
the provisioning and cleaning networks in Neutron. This could lead to
issues when nodes communicate with the Ironic and Inspector APIs.

Change-Id: Id9418e4e88c52056412daa22462aa611bfcc59ae
(cherry picked from commit cd24b6d98e1b82ab9c255e3e5ddbaed99c49067f)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/65/843665/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/provision-net-mtu-befdda04224f49a6.yaml', 'ansible/provision-net.yml']",2,3d14abe207e1e53b6491af374aa91e70591686cb,ironic-mtu," mtu: ""{{ provision_wl_net_name | net_mtu | default(omit, True) }}"" mtu: ""{{ cleaning_net_name | net_mtu | default(omit, True) }}""",,7,0
openstack%2Fdesignate~stable%2Fvictoria~If7a5311291ec9729c9fdee4dc88aedbf30537330,openstack/designate,stable/victoria,If7a5311291ec9729c9fdee4dc88aedbf30537330,Pin designate-tempest-plugin for stable/victoria jobs,MERGED,2022-05-28 06:29:22.000000000,2022-05-31 21:41:18.000000000,2022-05-31 21:36:09.000000000,"[{'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-28 06:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/af16ed40b46a5fc287e3dd063a6d1254d9093bf2', 'message': 'DNM: testing Tempest pin in stable/victoria\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/843295\nChange-Id: If7a5311291ec9729c9fdee4dc88aedbf30537330\n'}, {'number': 2, 'created': '2022-05-28 18:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5bafd485ec35548ea7aec0e08c3ba65d8a02bcb3', 'message': 'Pin designate-tempest-plugin for stable/victoria jobs\n\nAs stable/victoria are in EM phase, and QA team pinning\ntempest 26.1.0 for stable/victoria\n\n- https://review.opendev.org/c/openstack/devstack/+/843295\n\nTo have compatible designate-tempest-plugin version with Tempest\n26.1.0, we need to pin designate-tempest-plugin 0.9.0 version.\n\nmaster designate-tempest-plugin is not comaptbile with Tempest 26.1.0\n- https://zuul.opendev.org/t/openstack/build/01dd10e9ef6c4e8385434ad2239fd2ca/logs\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/843295\n\nChange-Id: If7a5311291ec9729c9fdee4dc88aedbf30537330\n'}, {'number': 3, 'created': '2022-05-28 18:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/eb1e7f00fc41c9539585519abec4a7cf66bfd5bd', 'message': 'Pin designate-tempest-plugin for stable/victoria jobs\n\nAs stable/victoria are in EM phase, and QA team pinning\ntempest 26.1.0 for stable/victoria\n\n- https://review.opendev.org/c/openstack/devstack/+/843295\n\nTo have compatible designate-tempest-plugin version with Tempest\n26.1.0, we need to pin designate-tempest-plugin 0.9.0 version.\n\nmaster designate-tempest-plugin is not comaptbile with Tempest 26.1.0\n- https://zuul.opendev.org/t/openstack/build/01dd10e9ef6c4e8385434ad2239fd2ca/logs\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/843295\n\nChange-Id: If7a5311291ec9729c9fdee4dc88aedbf30537330\n'}, {'number': 4, 'created': '2022-05-28 18:44:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/61097e4652d13e7b6d305ae029ee3baf00a31a51', 'message': 'Pin designate-tempest-plugin for stable/victoria jobs\n\nAs stable/victoria are in EM phase, and QA team pinning\ntempest 26.1.0 for stable/victoria\n\n- https://review.opendev.org/c/openstack/devstack/+/843295\n\nTo have compatible designate-tempest-plugin version with Tempest\n26.1.0, we need to pin designate-tempest-plugin 0.9.0 version.\n\nmaster designate-tempest-plugin is not comaptbile with Tempest 26.1.0\n- https://zuul.opendev.org/t/openstack/build/01dd10e9ef6c4e8385434ad2239fd2ca/logs\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/843295\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/838053\n\nChange-Id: If7a5311291ec9729c9fdee4dc88aedbf30537330\n'}]",3,843710,61097e4652d13e7b6d305ae029ee3baf00a31a51,18,3,4,8556,,,0,"Pin designate-tempest-plugin for stable/victoria jobs

As stable/victoria are in EM phase, and QA team pinning
tempest 26.1.0 for stable/victoria

- https://review.opendev.org/c/openstack/devstack/+/843295

To have compatible designate-tempest-plugin version with Tempest
26.1.0, we need to pin designate-tempest-plugin 0.9.0 version.

master designate-tempest-plugin is not comaptbile with Tempest 26.1.0
- https://zuul.opendev.org/t/openstack/build/01dd10e9ef6c4e8385434ad2239fd2ca/logs

Depends-On: https://review.opendev.org/c/openstack/devstack/+/843295
Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/838053

Change-Id: If7a5311291ec9729c9fdee4dc88aedbf30537330
",git fetch https://review.opendev.org/openstack/designate refs/changes/10/843710/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,af16ed40b46a5fc287e3dd063a6d1254d9093bf2,victoria-pin-tempest,#test,,1,0
openstack%2Fcharm-neutron-api~stable%2Fussuri~I2b2dc422587c07aba4d49d1fec2dd4755bc9f8b8,openstack/charm-neutron-api,stable/ussuri,I2b2dc422587c07aba4d49d1fec2dd4755bc9f8b8,Migrate charm charmhub for stable/ussuri,MERGED,2022-05-20 19:04:25.000000000,2022-05-31 21:32:21.000000000,2022-05-31 21:32:21.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-20 19:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/270a7993a9b54e29f58a2bb0bb7610a6038eee6a', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I2b2dc422587c07aba4d49d1fec2dd4755bc9f8b8\n'}, {'number': 2, 'created': '2022-05-31 11:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/cb08da31129e0eb2d0c7610ccac3012df539ffb1', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I2b2dc422587c07aba4d49d1fec2dd4755bc9f8b8\n'}, {'number': 3, 'created': '2022-05-31 14:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/281c836972db1fb29a6fef6f6ae618ed365cb27c', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I2b2dc422587c07aba4d49d1fec2dd4755bc9f8b8\n'}, {'number': 4, 'created': '2022-05-31 15:18:54.000000000', 'files': ['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/impish-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/3845f4af0218044db0102cb064c6c3ea6d3d86cf', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I2b2dc422587c07aba4d49d1fec2dd4755bc9f8b8\n'}]",1,842780,3845f4af0218044db0102cb064c6c3ea6d3d86cf,14,3,4,20870,,,0,"Migrate charm charmhub for stable/ussuri

- start from stable/ussuri branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/ussuri for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 18.04 amd64
- Run on 18.04 amd64, s390x, ppc64el, arm64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: I2b2dc422587c07aba4d49d1fec2dd4755bc9f8b8
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/80/842780/4 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/impish-xena.yaml']",29,270a7993a9b54e29f58a2bb0bb7610a6038eee6a,charmhub-migration,,"variables: openstack-origin: &openstack-origin distro series: &series impish applications: keystone-mysql-router: charm: cs:~openstack-charmers/mysql-router neutron-mysql-router: charm: cs:~openstack-charmers/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin rabbitmq-server: charm: cs:~openstack-charmers/rabbitmq-server num_units: 1 options: source: *openstack-origin neutron-api: charm: ../../../neutron-api series: *series num_units: 1 options: manage-neutron-plugin-legacy-mode: True flat-network-providers: physnet1 neutron-security-groups: true openstack-origin: *openstack-origin keystone: charm: cs:~openstack-charmers/keystone num_units: 1 options: openstack-origin: *openstack-origin relations: - - neutron-api:amqp - rabbitmq-server:amqp - - neutron-api:identity-service - keystone:identity-service - [""keystone:shared-db"", ""keystone-mysql-router:shared-db""] - [""neutron-api:shared-db"", ""neutron-mysql-router:shared-db""] - [""keystone-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] - [""neutron-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] ",126,632
openstack%2Foctavia~stable%2Fvictoria~I1c7289ce9e765c71f5353ffd1d367d33cc86a144,openstack/octavia,stable/victoria,I1c7289ce9e765c71f5353ffd1d367d33cc86a144,DNM: testing Tempest pin in stable/victoria,ABANDONED,2022-05-25 15:35:27.000000000,2022-05-31 21:31:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-25 15:35:27.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2d8f892a89deea93cb80018e6de116b67a2ab0d0', 'message': 'DNM: testing Tempest pin in stable/victoria\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/843295\nChange-Id: I1c7289ce9e765c71f5353ffd1d367d33cc86a144\n'}]",1,843296,2d8f892a89deea93cb80018e6de116b67a2ab0d0,5,1,1,8556,,,0,"DNM: testing Tempest pin in stable/victoria

Depends-On: https://review.opendev.org/c/openstack/devstack/+/843295
Change-Id: I1c7289ce9e765c71f5353ffd1d367d33cc86a144
",git fetch https://review.opendev.org/openstack/octavia refs/changes/96/843296/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,2d8f892a89deea93cb80018e6de116b67a2ab0d0,victoria-pin-tempest,# Note: Some official OpenStack wide jobs are still defined in the,# Note: Some official OpenStack wide jobs are still defined in the,1,1
openstack%2Foctavia~master~Ib60ad9a52735c0ceb3cddeebab856de81cc8157b,openstack/octavia,master,Ib60ad9a52735c0ceb3cddeebab856de81cc8157b,DNM: testing Tempest pin in stable/victoria,ABANDONED,2022-05-25 15:54:15.000000000,2022-05-31 21:31:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-25 15:54:15.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c8e6a17003d1faea75f47c74dc3687ea06b1a23f', 'message': 'DNM: testing Tempest pin in stable/victoria\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/843295\nChange-Id: Ib60ad9a52735c0ceb3cddeebab856de81cc8157b\n'}]",1,843306,c8e6a17003d1faea75f47c74dc3687ea06b1a23f,5,1,1,8556,,,0,"DNM: testing Tempest pin in stable/victoria

Depends-On: https://review.opendev.org/c/openstack/devstack/+/843295
Change-Id: Ib60ad9a52735c0ceb3cddeebab856de81cc8157b
",git fetch https://review.opendev.org/openstack/octavia refs/changes/06/843306/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,c8e6a17003d1faea75f47c74dc3687ea06b1a23f,victoria-pin-tempest,# Note: Some official OpenStack wide jobs are still defined in the,# Note: Some official OpenStack wide jobs are still defined in the,1,1
openstack%2Fmanila~stable%2Fvictoria~I5f7d0afc9705e61f15e4d8d275fcbd36793ba7a6,openstack/manila,stable/victoria,I5f7d0afc9705e61f15e4d8d275fcbd36793ba7a6,DNM: testing Tempest pin in stable/victoria,ABANDONED,2022-05-25 15:49:44.000000000,2022-05-31 21:31:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-25 15:49:44.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/ae9fd3a43a13f3512ae4b93c2e479f8f30d8438c', 'message': 'DNM: testing Tempest pin in stable/victoria\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/843295\nChange-Id: I5f7d0afc9705e61f15e4d8d275fcbd36793ba7a6\n'}]",1,843302,ae9fd3a43a13f3512ae4b93c2e479f8f30d8438c,7,1,1,8556,,,0,"DNM: testing Tempest pin in stable/victoria

Depends-On: https://review.opendev.org/c/openstack/devstack/+/843295
Change-Id: I5f7d0afc9705e61f15e4d8d275fcbd36793ba7a6
",git fetch https://review.opendev.org/openstack/manila refs/changes/02/843302/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,ae9fd3a43a13f3512ae4b93c2e479f8f30d8438c,victoria-pin-tempest,# testing,,1,0
openstack%2Fcinder-tempest-plugin~master~Id8ea6219aef7c4238acbdbe7d903d7feca0f4fc6,openstack/cinder-tempest-plugin,master,Id8ea6219aef7c4238acbdbe7d903d7feca0f4fc6,DNM: testing Tempest pin in stable/victoria,ABANDONED,2022-05-25 15:54:02.000000000,2022-05-31 21:31:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-25 15:54:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b3ea96e19868d21111202baf254bc817bb42a34e', 'message': 'DNM: testing Tempest pin in stable/victoria\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/843295\nChange-Id: Id8ea6219aef7c4238acbdbe7d903d7feca0f4fc6\n'}]",1,843304,b3ea96e19868d21111202baf254bc817bb42a34e,5,1,1,8556,,,0,"DNM: testing Tempest pin in stable/victoria

Depends-On: https://review.opendev.org/c/openstack/devstack/+/843295
Change-Id: Id8ea6219aef7c4238acbdbe7d903d7feca0f4fc6
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/04/843304/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b3ea96e19868d21111202baf254bc817bb42a34e,victoria-pin-tempest,#test,,1,0
openstack%2Fnova~stable%2Fvictoria~I11dcb745ea56f0297164582025e3814887cfeb5b,openstack/nova,stable/victoria,I11dcb745ea56f0297164582025e3814887cfeb5b,DNM: testing Tempest pin in stable/victoria,ABANDONED,2022-05-25 15:49:21.000000000,2022-05-31 21:30:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-25 15:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bacfdbb697b16b903f4f99b1cbc11191277922f8', 'message': 'DNM: testing Tempest pin in stable/victoria\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/843295\nChange-Id: I11dcb745ea56f0297164582025e3814887cfeb5b\n'}, {'number': 2, 'created': '2022-05-27 02:04:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/de086fa4728c806671255eb1e0a5d30570206e5a', 'message': 'DNM: testing Tempest pin in stable/victoria\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/843295\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nChange-Id: I11dcb745ea56f0297164582025e3814887cfeb5b\n'}]",3,843301,de086fa4728c806671255eb1e0a5d30570206e5a,20,1,2,8556,,,0,"DNM: testing Tempest pin in stable/victoria

Depends-On: https://review.opendev.org/c/openstack/devstack/+/843295
Depends-On: https://review.opendev.org/c/openstack/devstack/+/838051
Change-Id: I11dcb745ea56f0297164582025e3814887cfeb5b
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/843301/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bacfdbb697b16b903f4f99b1cbc11191277922f8,victoria-pin-tempest,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,1,1
openstack%2Fneutron-tempest-plugin~master~Iac96a9acd8a880a87cf3c9180db9b4a513400a9a,openstack/neutron-tempest-plugin,master,Iac96a9acd8a880a87cf3c9180db9b4a513400a9a,DNM: testing Tempest pin in stable/victoria,ABANDONED,2022-05-25 15:49:02.000000000,2022-05-31 21:30:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-25 15:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/12258552ba3b58b1f6ed9a70fba77560d51b048d', 'message': 'DNM: testing Tempest pin in stable/victoria\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/843295\nChange-Id: Iac96a9acd8a880a87cf3c9180db9b4a513400a9a\n'}, {'number': 2, 'created': '2022-05-27 13:51:13.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/12dfc81ae304004235408915e2675203c078d96e', 'message': 'DNM: testing Tempest pin in stable/victoria\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/843295\nChange-Id: Iac96a9acd8a880a87cf3c9180db9b4a513400a9a\n'}]",1,843299,12dfc81ae304004235408915e2675203c078d96e,7,1,2,8556,,,0,"DNM: testing Tempest pin in stable/victoria

Depends-On: https://review.opendev.org/c/openstack/devstack/+/843295
Change-Id: Iac96a9acd8a880a87cf3c9180db9b4a513400a9a
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/99/843299/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,12258552ba3b58b1f6ed9a70fba77560d51b048d,victoria-pin-tempest,#test,,1,0
openstack%2Fneutron~master~I043817cd463a724138f9815288a23811f90547b8,openstack/neutron,master,I043817cd463a724138f9815288a23811f90547b8,DNM: testing Tempest pin in stable/victoria,ABANDONED,2022-05-25 15:54:01.000000000,2022-05-31 21:30:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-25 15:54:01.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/63ca8496c7368e1f02cb75e34680366e79db60c1', 'message': 'DNM: testing Tempest pin in stable/victoria\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/843295\nChange-Id: I043817cd463a724138f9815288a23811f90547b8\n'}]",1,843303,63ca8496c7368e1f02cb75e34680366e79db60c1,7,1,1,8556,,,0,"DNM: testing Tempest pin in stable/victoria

Depends-On: https://review.opendev.org/c/openstack/devstack/+/843295
Change-Id: I043817cd463a724138f9815288a23811f90547b8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/843303/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,63ca8496c7368e1f02cb75e34680366e79db60c1,victoria-pin-tempest,"# document with summary of all tempest, neutron-tempest-plugin and grenade jobs","# document with summary of all tempest, neutron-tempest-plugin and grenade jobs",1,1
openstack%2Fneutron~stable%2Fvictoria~I813a769b2687ed6470c36daafd5b2dc24f587440,openstack/neutron,stable/victoria,I813a769b2687ed6470c36daafd5b2dc24f587440,DNM: testing Tempest pin in stable/victoria,ABANDONED,2022-05-25 15:49:14.000000000,2022-05-31 21:30:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-25 15:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e63e8f545febd0291aa0acbdeffbc85ca4081cdb', 'message': 'DNM: testing Tempest pin in stable/victoria\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/843295\nChange-Id: I813a769b2687ed6470c36daafd5b2dc24f587440\n'}, {'number': 2, 'created': '2022-05-26 17:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b35770e65a88d1079e9d163105cfe9eba5c710bb', 'message': 'DNM: testing Tempest pin in stable/victoria\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/838053\nChange-Id: I813a769b2687ed6470c36daafd5b2dc24f587440\n'}, {'number': 3, 'created': '2022-05-28 02:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aba16f7a6396cb74001040b5d963da6a429de285', 'message': 'DNM: testing Tempest pin in stable/victoria\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/838053\nChange-Id: I813a769b2687ed6470c36daafd5b2dc24f587440\n'}, {'number': 4, 'created': '2022-05-28 03:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a69db26ecdb06026963e0c5d001692777208934f', 'message': 'DNM: testing Tempest pin in stable/victoria\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/838053\nChange-Id: I813a769b2687ed6470c36daafd5b2dc24f587440\n'}, {'number': 5, 'created': '2022-05-28 03:51:11.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/91f500ad22e1694e74ebe17af7cc9337024d8031', 'message': 'DNM: testing Tempest pin in stable/victoria\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/838053\nChange-Id: I813a769b2687ed6470c36daafd5b2dc24f587440\n'}]",8,843300,91f500ad22e1694e74ebe17af7cc9337024d8031,30,1,5,8556,,,0,"DNM: testing Tempest pin in stable/victoria

Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/838053
Change-Id: I813a769b2687ed6470c36daafd5b2dc24f587440
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/843300/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,e63e8f545febd0291aa0acbdeffbc85ca4081cdb,victoria-pin-tempest,"# document with summary of all tempest, neutron-tempest-plugin and grenade jobs","# document with summary of all tempest, neutron-tempest-plugin and grenade jobs",1,1
openstack%2Fneutron~stable%2Fussuri~Ifc46c9ee54cb782c778a39d91949f5353142befb,openstack/neutron,stable/ussuri,Ifc46c9ee54cb782c778a39d91949f5353142befb,DNM: testing stable/ussuri tempest pin,ABANDONED,2022-04-14 23:38:06.000000000,2022-05-31 21:29:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-14 23:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1ff0ef912d303f75b766cba0c41b6f01c635382f', 'message': 'DNM: testing old tempest\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nChange-Id: Ifc46c9ee54cb782c778a39d91949f5353142befb\n'}, {'number': 2, 'created': '2022-05-24 01:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/00405a9347c9be36a84b7274654d533580263453', 'message': 'DNM: testing old tempest\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/843045\nChange-Id: Ifc46c9ee54cb782c778a39d91949f5353142befb\n'}, {'number': 3, 'created': '2022-05-24 23:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9086535f7e52d01dee521ab4fe58add858056a5c', 'message': 'DNM: testing old tempest\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nChange-Id: Ifc46c9ee54cb782c778a39d91949f5353142befb\n'}, {'number': 4, 'created': '2022-05-25 15:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/42ce46468cf1041ddc4a6a78936084b96d3fe08a', 'message': 'DNM: testing old tempest\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nChange-Id: Ifc46c9ee54cb782c778a39d91949f5353142befb\n'}, {'number': 5, 'created': '2022-05-25 20:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/568036858e85a36db324ec51a38c1baf3f9eab4f', 'message': 'DNM: testing old tempest\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nChange-Id: Ifc46c9ee54cb782c778a39d91949f5353142befb\n'}, {'number': 6, 'created': '2022-05-26 17:35:52.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc12884130d2cf8236dbcbb82cc56d3a4af46b56', 'message': 'DNM: testing stable/ussuri tempest pin\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/838053\nChange-Id: Ifc46c9ee54cb782c778a39d91949f5353142befb\n'}]",12,838052,bc12884130d2cf8236dbcbb82cc56d3a4af46b56,39,1,6,8556,,,0,"DNM: testing stable/ussuri tempest pin

Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/838053
Change-Id: Ifc46c9ee54cb782c778a39d91949f5353142befb
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/838052/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,1ff0ef912d303f75b766cba0c41b6f01c635382f,ussuri-pin-tempest,# NOTE: In doc/source/contributor/testing/ci_scenario_jobs.rst file there is,# NOTE: In doc/source/contributor/testing/ci_scenario_jobs.rst file there is,1,1
openstack%2Fnetworking-bgpvpn~master~I33bcab2910865ceb5a272eeb9cded0af8022c556,openstack/networking-bgpvpn,master,I33bcab2910865ceb5a272eeb9cded0af8022c556,DNM: Testing tempest pin on stable/ussuri,ABANDONED,2022-05-24 02:03:19.000000000,2022-05-31 21:29:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-24 02:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/9ae1e5c1894ee74b4ad70058ffeaffd604744ed2', 'message': 'DNM: Testing tempest pin on stable/ussuri\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/843045\nChange-Id: I33bcab2910865ceb5a272eeb9cded0af8022c556\n'}, {'number': 2, 'created': '2022-05-25 02:35:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/e2d0f7b0ca8ad88e27727b21b0401093af961c80', 'message': 'DNM: Testing tempest pin on stable/ussuri\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nChange-Id: I33bcab2910865ceb5a272eeb9cded0af8022c556\n'}]",1,843087,e2d0f7b0ca8ad88e27727b21b0401093af961c80,7,1,2,8556,,,0,"DNM: Testing tempest pin on stable/ussuri

Depends-On: https://review.opendev.org/c/openstack/devstack/+/838051
Change-Id: I33bcab2910865ceb5a272eeb9cded0af8022c556
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/87/843087/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9ae1e5c1894ee74b4ad70058ffeaffd604744ed2,ussuri-pin-tempest,#test,,1,0
openstack%2Fneutron~master~I181d6b16b497a4caf2b240e9e70a9e107fe337b7,openstack/neutron,master,I181d6b16b497a4caf2b240e9e70a9e107fe337b7,DNM: Testing tempest pin on stable/ussuri,ABANDONED,2022-05-24 02:04:12.000000000,2022-05-31 21:28:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-24 02:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6741609655489807d48fe9fcf7048e7b6fc7ec9b', 'message': 'DNM: Testing tempest pin on stable/ussuri\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/843045\nChange-Id: I181d6b16b497a4caf2b240e9e70a9e107fe337b7\n'}, {'number': 2, 'created': '2022-05-24 23:21:27.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3fcb1e81b8d4993b56778308223ea35f336eb107', 'message': 'DNM: Testing tempest pin on stable/ussuri\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nChange-Id: I181d6b16b497a4caf2b240e9e70a9e107fe337b7\n'}]",2,843088,3fcb1e81b8d4993b56778308223ea35f336eb107,13,1,2,8556,,,0,"DNM: Testing tempest pin on stable/ussuri

Depends-On: https://review.opendev.org/c/openstack/devstack/+/838051
Change-Id: I181d6b16b497a4caf2b240e9e70a9e107fe337b7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/843088/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,6741609655489807d48fe9fcf7048e7b6fc7ec9b,ussuri-pin-tempest,"# document with summary of all tempest, neutron-tempest-plugin and grenade jobs","# document with summary of all tempest, neutron-tempest-plugin and grenade jobs",1,1
openstack%2Foctavia~stable%2Fussuri~I6ee242c4571789b8089c997d236a4c5ef680564d,openstack/octavia,stable/ussuri,I6ee242c4571789b8089c997d236a4c5ef680564d,DNM: Testing tempest pin on stable/ussuri,ABANDONED,2022-05-24 02:07:24.000000000,2022-05-31 21:28:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-24 02:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/dc19a50bf71ecb795236520643122f931d89ccf2', 'message': 'DNM: Testing tempest pin on stable/ussuri\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/843045\nChange-Id: I6ee242c4571789b8089c997d236a4c5ef680564d\n'}, {'number': 2, 'created': '2022-05-25 02:34:56.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6e9a458df5469e1e963d491e96826110442aeabe', 'message': 'DNM: Testing tempest pin on stable/ussuri\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nChange-Id: I6ee242c4571789b8089c997d236a4c5ef680564d\n'}]",1,843090,6e9a458df5469e1e963d491e96826110442aeabe,7,1,2,8556,,,0,"DNM: Testing tempest pin on stable/ussuri

Depends-On: https://review.opendev.org/c/openstack/devstack/+/838051
Change-Id: I6ee242c4571789b8089c997d236a4c5ef680564d
",git fetch https://review.opendev.org/openstack/octavia refs/changes/90/843090/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,dc19a50bf71ecb795236520643122f931d89ccf2,ussuri-pin-tempest,# Note: Some official OpenStack wide jobs are still defined in the,# Note: Some official OpenStack wide jobs are still defined in the,1,1
openstack%2Fcinder-tempest-plugin~master~I64078a17c3dde507e10237c385d42270836fe8bf,openstack/cinder-tempest-plugin,master,I64078a17c3dde507e10237c385d42270836fe8bf,DNM: Testing tempest pin on stable/ussuri,ABANDONED,2022-05-24 02:10:56.000000000,2022-05-31 21:28:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-24 02:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/9366bcfcf096b93d8c99ea9fddfdf7403d2c80bb', 'message': 'DNM: Testing tempest pin on stable/ussuri\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/843045\nChange-Id: I64078a17c3dde507e10237c385d42270836fe8bf\n'}, {'number': 2, 'created': '2022-05-25 02:34:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/85bce536f2174253349f4cdebbb8b55c28a83b17', 'message': 'DNM: Testing tempest pin on stable/ussuri\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nChange-Id: I64078a17c3dde507e10237c385d42270836fe8bf\n'}]",1,843091,85bce536f2174253349f4cdebbb8b55c28a83b17,7,1,2,8556,,,0,"DNM: Testing tempest pin on stable/ussuri

Depends-On: https://review.opendev.org/c/openstack/devstack/+/838051
Change-Id: I64078a17c3dde507e10237c385d42270836fe8bf
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/91/843091/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9366bcfcf096b93d8c99ea9fddfdf7403d2c80bb,ussuri-pin-tempest,#test,,1,0
openstack%2Fos-net-config~master~Ic0334aaad83bd94b604fbd84fcc21d3520e9d400,openstack/os-net-config,master,Ic0334aaad83bd94b604fbd84fcc21d3520e9d400,Add mac-size-table to all OVS bridges,MERGED,2020-11-10 16:08:36.000000000,2022-05-31 21:28:21.000000000,2022-05-31 21:26:25.000000000,"[{'_account_id': 7144}, {'_account_id': 8655}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-10 16:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/6ec90450b8325bb4e25ab61b50b37dca9bfe020a', 'message': 'Add mac-size-table to all OVS bridges\n\nThe default mac table size may not be sufficient for the provider bridges.\nIf the mac table overflows, it has been observed that ovs-vswitchd clocks\n100% CPU. So this patch configures the mac table size of the provider bridges.\n\nThe patch does similar to what\nhttps://opendev.org/openstack/puppet-ovn/commit/88aa5c9184f8f448aed499413cda51188d66c7a6\nimplements in puppet.\n\nChange-Id: Ic0334aaad83bd94b604fbd84fcc21d3520e9d400\nRelated-bug: #1779706\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n'}, {'number': 2, 'created': '2022-05-16 19:12:49.000000000', 'files': ['os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/d8c7e7ed83af103b3bb03a173d3dc1d3e2a58b9a', 'message': ""Add mac-size-table to all OVS bridges\n\nThe default mac table size may not be sufficient for the\nprovider bridges. If the mac table overflows, it has been\nobserved that ovs-vswitchd clocks 100% CPU. So this patch\nconfigures the mac table size of the provider bridges.\n\nThe patch does similar to what\nhttps://opendev.org/openstack/puppet-ovn/commit/88aa5c9184f8f448aed499413cda51188d66c7a6\nimplements in puppet. However, the puppet changes are not\npersistent across reboots, therefore it's better to save it\nin the OVS database.\n\nChange-Id: Ic0334aaad83bd94b604fbd84fcc21d3520e9d400\nRelated-bug: #1779706\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}]",6,762167,d8c7e7ed83af103b3bb03a173d3dc1d3e2a58b9a,18,6,2,8655,,,0,"Add mac-size-table to all OVS bridges

The default mac table size may not be sufficient for the
provider bridges. If the mac table overflows, it has been
observed that ovs-vswitchd clocks 100% CPU. So this patch
configures the mac table size of the provider bridges.

The patch does similar to what
https://opendev.org/openstack/puppet-ovn/commit/88aa5c9184f8f448aed499413cda51188d66c7a6
implements in puppet. However, the puppet changes are not
persistent across reboots, therefore it's better to save it
in the OVS database.

Change-Id: Ic0334aaad83bd94b604fbd84fcc21d3520e9d400
Related-bug: #1779706
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/67/762167/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py']",2,6ec90450b8325bb4e25ab61b50b37dca9bfe020a,bug/1779706,"MAC_TABLE_SIZE = 50000 ovs_extra.append(""set bridge %s other-config:mac-table-size=%d"" % (base_opt.name, MAC_TABLE_SIZE))",,20,8
openstack%2Ftripleo-heat-templates~master~Ia430ffb7fb7ffe2d49e6b32f94d10a72c59e3a14,openstack/tripleo-heat-templates,master,Ia430ffb7fb7ffe2d49e6b32f94d10a72c59e3a14,Undercloud: Remove iscsid service,MERGED,2022-05-17 05:37:16.000000000,2022-05-31 21:28:21.000000000,2022-05-31 21:26:00.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 20733}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-17 05:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/84f1eccbd91a8cd4057baac4869388205ade125f', 'message': 'Undercloud: Remove iscsid service\n\nThe iscsid service in undercloud was used for iscsi deploy interface\nin Ironic but it was deprecated during Victoria cycle[1] and was\nremoved during Xena cycle[2].\n\n[1] d8dccc8d06017e79f2b49afec069a18b3c7413fc\n[2] 929907d68473ae8a433ebb8c4dcb110473d42676\n\nCloses-Bug: #1973682\nChange-Id: Ia430ffb7fb7ffe2d49e6b32f94d10a72c59e3a14\n'}, {'number': 2, 'created': '2022-05-17 07:13:29.000000000', 'files': ['roles_data_undercloud.yaml', 'roles/Undercloud.yaml', 'releasenotes/notes/remove-iscsi-from-undercloud-b7424ffcdc9c02ea.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3001bc82ef908828be29cad15e8f0a1f5288a03b', 'message': 'Undercloud: Remove iscsid service\n\nThe iscsid service in undercloud was used for iscsi deploy interface\nin Ironic but it was deprecated during Victoria cycle[1] and was\nremoved during Xena cycle[2].\n\n[1] d8dccc8d06017e79f2b49afec069a18b3c7413fc\n[2] 929907d68473ae8a433ebb8c4dcb110473d42676\n\nCloses-Bug: #1973682\nChange-Id: Ia430ffb7fb7ffe2d49e6b32f94d10a72c59e3a14\n'}]",0,842033,3001bc82ef908828be29cad15e8f0a1f5288a03b,11,6,2,9816,,,0,"Undercloud: Remove iscsid service

The iscsid service in undercloud was used for iscsi deploy interface
in Ironic but it was deprecated during Victoria cycle[1] and was
removed during Xena cycle[2].

[1] d8dccc8d06017e79f2b49afec069a18b3c7413fc
[2] 929907d68473ae8a433ebb8c4dcb110473d42676

Closes-Bug: #1973682
Change-Id: Ia430ffb7fb7ffe2d49e6b32f94d10a72c59e3a14
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/842033/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles_data_undercloud.yaml', 'roles/Undercloud.yaml']",2,84f1eccbd91a8cd4057baac4869388205ade125f,bug/1973682,, - OS::TripleO::Services::Iscsid,0,2
openstack%2Fmanila-tempest-plugin~master~Iccd28f79f97fc50fa9e3fb1ad4c13192c3ee8776,openstack/manila-tempest-plugin,master,Iccd28f79f97fc50fa9e3fb1ad4c13192c3ee8776,DNM: Testing tempest pin on stable/ussuri,ABANDONED,2022-05-24 01:56:02.000000000,2022-05-31 21:28:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-24 01:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/dbf8f0f4d913910086bc54cc2363ac82e1e8ab96', 'message': 'DNM: Testing tempest pin on stable/ussuri\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/843045\nChange-Id: Iccd28f79f97fc50fa9e3fb1ad4c13192c3ee8776\n'}, {'number': 2, 'created': '2022-05-25 02:35:08.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/feb851acdee1c50c232917ccda0f40bbb3214e61', 'message': 'DNM: Testing tempest pin on stable/ussuri\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nChange-Id: Iccd28f79f97fc50fa9e3fb1ad4c13192c3ee8776\n'}]",2,843047,feb851acdee1c50c232917ccda0f40bbb3214e61,10,1,2,8556,,,0,"DNM: Testing tempest pin on stable/ussuri

Depends-On: https://review.opendev.org/c/openstack/devstack/+/838051
Change-Id: Iccd28f79f97fc50fa9e3fb1ad4c13192c3ee8776
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/47/843047/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,dbf8f0f4d913910086bc54cc2363ac82e1e8ab96,ussuri-pin-tempest,#test,,1,0
openstack%2Fmanila~stable%2Fussuri~Ib8cf5df485d7925a5480f23622cbd7aecb90d3ac,openstack/manila,stable/ussuri,Ib8cf5df485d7925a5480f23622cbd7aecb90d3ac,DNM: Testing tempest pin on stable/ussuri,ABANDONED,2022-05-24 02:01:11.000000000,2022-05-31 21:28:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-24 02:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/37001026247d9d4abf5f09d0490cb0563164a6c7', 'message': 'DNM: Testing tempest pin on stable/ussuri\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/843045\nChange-Id: Ib8cf5df485d7925a5480f23622cbd7aecb90d3ac\n'}, {'number': 2, 'created': '2022-05-25 02:35:23.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/8bf89736ed2e128f3fd210c583d2cf689cabe69d', 'message': 'DNM: Testing tempest pin on stable/ussuri\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nChange-Id: Ib8cf5df485d7925a5480f23622cbd7aecb90d3ac\n'}]",2,843086,8bf89736ed2e128f3fd210c583d2cf689cabe69d,16,1,2,8556,,,0,"DNM: Testing tempest pin on stable/ussuri

Depends-On: https://review.opendev.org/c/openstack/devstack/+/838051
Change-Id: Ib8cf5df485d7925a5480f23622cbd7aecb90d3ac
",git fetch https://review.opendev.org/openstack/manila refs/changes/86/843086/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,37001026247d9d4abf5f09d0490cb0563164a6c7,ussuri-pin-tempest,#testing,,1,0
openstack%2Fnova~stable%2Fussuri~I1a5585852469e0e7b48d5d8dab6c8b43a80f8f10,openstack/nova,stable/ussuri,I1a5585852469e0e7b48d5d8dab6c8b43a80f8f10,DNM: Testing stable/ussuri with tempest fix for constraints mismatch,ABANDONED,2022-05-24 01:53:33.000000000,2022-05-31 21:28:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-24 01:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/56908f1cd718c1ed6dc7bdf182799ec0045c5f53', 'message': 'DNM: Testing stable/ussuri with tempest fix for constraints mismatch\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/843045\nChange-Id: I1a5585852469e0e7b48d5d8dab6c8b43a80f8f10\n'}, {'number': 2, 'created': '2022-05-24 23:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a52994b0c6142f8a1bc8fb73ecaae744e71dacb5', 'message': 'DNM: Testing stable/ussuri with tempest fix for constraints mismatch\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nChange-Id: I1a5585852469e0e7b48d5d8dab6c8b43a80f8f10\n'}, {'number': 3, 'created': '2022-05-25 18:12:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/ba0f000cf510136c1d742a29ea1b9a7f6c436f29', 'message': 'DNM: Testing stable/ussuri with tempest fix for constraints mismatch\n\nDepends-On: https://review.opendev.org/c/openstack/cyborg-tempest-plugin/+/843329\nChange-Id: I1a5585852469e0e7b48d5d8dab6c8b43a80f8f10\n'}]",5,843046,ba0f000cf510136c1d742a29ea1b9a7f6c436f29,29,1,3,8556,,,0,"DNM: Testing stable/ussuri with tempest fix for constraints mismatch

Depends-On: https://review.opendev.org/c/openstack/cyborg-tempest-plugin/+/843329
Change-Id: I1a5585852469e0e7b48d5d8dab6c8b43a80f8f10
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/843046/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,56908f1cd718c1ed6dc7bdf182799ec0045c5f53,ussuri-pin-tempest,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,1,1
openstack%2Fdesignate~master~I9c2616153c4a7431c04e8d19780429477d828ddc,openstack/designate,master,I9c2616153c4a7431c04e8d19780429477d828ddc,DNM: Testing tempest pin on stable/ussuri,ABANDONED,2022-05-28 06:22:01.000000000,2022-05-31 21:27:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-28 06:22:01.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/281bce53037df3a4b0cf99cc610313770d571c46', 'message': 'DNM: Testing tempest pin on stable/ussuri\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nChange-Id: I9c2616153c4a7431c04e8d19780429477d828ddc\n'}]",0,843707,281bce53037df3a4b0cf99cc610313770d571c46,3,1,1,8556,,,0,"DNM: Testing tempest pin on stable/ussuri

Depends-On: https://review.opendev.org/c/openstack/devstack/+/838051
Change-Id: I9c2616153c4a7431c04e8d19780429477d828ddc
",git fetch https://review.opendev.org/openstack/designate refs/changes/07/843707/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,281bce53037df3a4b0cf99cc610313770d571c46,ussuri-pin-tempest,#test,,1,0
openstack%2Fpuppet-tripleo~master~Ifaf09792fd57ab17a12a1bca1bd3bb0a072e91be,openstack/puppet-tripleo,master,Ifaf09792fd57ab17a12a1bca1bd3bb0a072e91be,Correct typo on hieradata key,MERGED,2022-03-28 12:55:03.000000000,2022-05-31 21:25:57.000000000,2022-05-31 21:25:57.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-28 12:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6ad198a4aba47818ba4570f573cb48cbed23544a', 'message': 'Correct typo on hieradata key\n\nPath separator is ""::"", not just "":""\n\nChange-Id: Ifaf09792fd57ab17a12a1bca1bd3bb0a072e91be\nRelated-Bug: #1966625\n'}, {'number': 2, 'created': '2022-05-24 11:16:53.000000000', 'files': ['manifests/profile/base/sshd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1d7c92df16ad9ac91fefaddabc28448d2f786c89', 'message': 'Correct typo on hieradata key\n\nPath separator is ""::"", not just "":""\n\nChange-Id: Ifaf09792fd57ab17a12a1bca1bd3bb0a072e91be\nRelated-Bug: #1966625\n'}]",1,835446,1d7c92df16ad9ac91fefaddabc28448d2f786c89,21,6,2,28223,,,0,"Correct typo on hieradata key

Path separator is ""::"", not just "":""

Change-Id: Ifaf09792fd57ab17a12a1bca1bd3bb0a072e91be
Related-Bug: #1966625
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/46/835446/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/sshd.pp'],1,6ad198a4aba47818ba4570f573cb48cbed23544a,lp1966625," if hiera('ssh::server::options', undef) { err('ssh::server::options must not be set, use tripleo::profile::base::sshd::options')"," if hiera('ssh:server::options', undef) { err('ssh:server::options must not be set, use tripleo::profile::base::sshd::options')",2,2
openstack%2Fpuppet-tripleo~master~Id64aea3cc7986446087ad272bec74be01ef20362,openstack/puppet-tripleo,master,Id64aea3cc7986446087ad272bec74be01ef20362,Octavia: Replace hiera by lookup,MERGED,2022-05-10 01:13:04.000000000,2022-05-31 21:25:54.000000000,2022-05-31 21:25:54.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-10 01:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/22f6fe9bf8d73119ae4f55de47aba47fc6663e25', 'message': 'Octavia: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: Id64aea3cc7986446087ad272bec74be01ef20362\n'}, {'number': 2, 'created': '2022-05-10 01:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/aca02d125651fe43491c288714ef50e5c5fdd1cf', 'message': 'Octavia: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: Id64aea3cc7986446087ad272bec74be01ef20362\n'}, {'number': 3, 'created': '2022-05-13 07:20:28.000000000', 'files': ['manifests/profile/base/octavia.pp', 'manifests/profile/base/octavia/worker.pp', 'manifests/profile/base/octavia/api.pp', 'manifests/profile/base/octavia/provider/ovn.pp', 'manifests/profile/base/octavia/housekeeping.pp', 'manifests/profile/base/octavia/health_manager.pp', 'manifests/profile/base/octavia/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/28b340c09bce655986b08d23339ed21a48726565', 'message': 'Octavia: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: Id64aea3cc7986446087ad272bec74be01ef20362\n'}]",0,841184,28b340c09bce655986b08d23339ed21a48726565,12,4,3,9816,,,0,"Octavia: Replace hiera by lookup

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: Id64aea3cc7986446087ad272bec74be01ef20362
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/84/841184/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/octavia.pp', 'manifests/profile/base/octavia/worker.pp', 'manifests/profile/base/octavia/api.pp', 'manifests/profile/base/octavia/provider/ovn.pp', 'manifests/profile/base/octavia/housekeeping.pp', 'manifests/profile/base/octavia/health_manager.pp', 'manifests/profile/base/octavia/authtoken.pp']",7,22f6fe9bf8d73119ae4f55de47aba47fc6663e25,tripleo-hiera-v5,"# Defaults to Integer(lookup('step'))# Defaults to lookup('memcached_node_names', undef, undef, [])# Defaults to lookup('memcached_authtoken_port', undef, undef, 11211)# Defauls to lookup('memcached_ipv6', undef, undef, false)# Defaults to lookup('memcached_authtoken_security_strategy', undef, undef, undef)# Defaults to lookup('memcached_authtoken_secret_key', undef, undef, undef) $step = Integer(lookup('step')), $memcached_hosts = lookup('memcached_node_names', undef, undef, []), $memcached_port = lookup('memcached_authtoken_port', undef, undef, 11211), $memcached_ipv6 = lookup('memcached_ipv6', undef, undef, false), $security_strategy = lookup('memcached_authtoken_security_strategy', undef, undef, undef), $secret_key = lookup('memcached_authtoken_secret_key', undef, undef, undef),","# Defaults to hiera('step')# Defaults to hiera('memcached_node_names', [])# Defaults to hiera('memcached_authtoken_port', 11211)# Defauls to hiera('memcached_ipv6', false)# Defaults to hiera('memcached_authtoken_security_strategy', undef)# Defaults to hiera('memcached_authtoken_secret_key', undef) $step = Integer(hiera('step')), $memcached_hosts = hiera('memcached_node_names', []), $memcached_port = hiera('memcached_authtoken_port', 11211), $memcached_ipv6 = hiera('memcached_ipv6', false), $security_strategy = hiera('memcached_authtoken_security_strategy', undef), $secret_key = hiera('memcached_authtoken_secret_key', undef),",52,52
openstack%2Fdevstack~master~Id2787886433281238eb95ee11a75eddeef514293,openstack/devstack,master,Id2787886433281238eb95ee11a75eddeef514293,Fix doc and user create script to set homedir permissions,MERGED,2022-04-20 07:10:06.000000000,2022-05-31 21:17:12.000000000,2022-05-31 21:15:54.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-04-20 07:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3e579b6d6473dab067d56f52169de1a35d623834', 'message': ""Fix doc and user create script to set homedir permissions\n\nRHEL based distros set homedir permissions to 700,\nwhich results into failures as defined in the below bug.\n\nSince in doc we add useradd command, it's good to\nadd instructions to fix the permissions there itself\ninstead of getting failures during installation and then\nfixing it.\n\nAlso update user create script to fix permissions\nto 755 if 700 is set.\n\nCloses-Bug: #1966858\nChange-Id: Id2787886433281238eb95ee11a75eddeef514293\n""}, {'number': 2, 'created': '2022-05-18 15:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5c8f3a78983785db2313474a9e4121286c840c84', 'message': ""Fix doc and user create script to set homedir permissions\n\nRHEL based distros set homedir permissions to 700,\nand Ubuntu 21.04+ to 750[1], i.e missing executable\npermission for group or others, this results into failures\nas defined in the below bug.\n\nSince in doc we add useradd command, it's good to\nadd instructions to fix the permissions there itself\ninstead of getting failures during installation and then\nfixing it.\n\nAlso update user create script to fix permissions\nby adding executable bit to DEST directory if missing.\n\n[1] https://discourse.ubuntu.com/t/private-home-directories-for-ubuntu-21-04-onwards/19533\n\nCloses-Bug: #1966858\nChange-Id: Id2787886433281238eb95ee11a75eddeef514293\n""}, {'number': 3, 'created': '2022-05-25 06:34:31.000000000', 'files': ['tools/create-stack-user.sh', 'doc/source/index.rst', 'doc/source/guides/single-machine.rst', 'doc/source/guides/multinode-lab.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c64ea4f213afebd1602d05cdd4d5bc14eaf5356b', 'message': ""Fix doc and user create script to set homedir permissions\n\nRHEL based distros set homedir permissions to 700,\nand Ubuntu 21.04+ to 750[1], i.e missing executable\npermission for group or others, this results into failures\nas defined in the below bug.\n\nSince in doc we add useradd command, it's good to\nadd instructions to fix the permissions there itself\ninstead of getting failures during installation and then\nfixing it.\n\nAlso update user create script to fix permissions\nby adding executable bit to DEST directory if missing.\n\n[1] https://discourse.ubuntu.com/t/private-home-directories-for-ubuntu-21-04-onwards/19533\n\nCloses-Bug: #1966858\nChange-Id: Id2787886433281238eb95ee11a75eddeef514293\n""}]",19,838645,c64ea4f213afebd1602d05cdd4d5bc14eaf5356b,31,6,3,13861,,,0,"Fix doc and user create script to set homedir permissions

RHEL based distros set homedir permissions to 700,
and Ubuntu 21.04+ to 750[1], i.e missing executable
permission for group or others, this results into failures
as defined in the below bug.

Since in doc we add useradd command, it's good to
add instructions to fix the permissions there itself
instead of getting failures during installation and then
fixing it.

Also update user create script to fix permissions
by adding executable bit to DEST directory if missing.

[1] https://discourse.ubuntu.com/t/private-home-directories-for-ubuntu-21-04-onwards/19533

Closes-Bug: #1966858
Change-Id: Id2787886433281238eb95ee11a75eddeef514293
",git fetch https://review.opendev.org/openstack/devstack refs/changes/45/838645/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/create-stack-user.sh', 'doc/source/index.rst', 'doc/source/guides/single-machine.rst', 'doc/source/guides/multinode-lab.rst']",4,3e579b6d6473dab067d56f52169de1a35d623834,bug/1966858,"Ensure home directory for the `stack` user have permissions set to `755`, RHEL based distros create it with `700` which will have issues later. :: chmod 755 /opt/stack ",,30,0
openstack%2Fansible-role-chrony~master~I33bf616bcca62f68437a0c2520cb860194a3a203,openstack/ansible-role-chrony,master,I33bf616bcca62f68437a0c2520cb860194a3a203,Change chrony_role_action default to 'all',MERGED,2022-05-24 10:16:09.000000000,2022-05-31 20:55:35.000000000,2022-05-31 20:55:35.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-24 10:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-chrony/commit/a85493847de9d113b132ab3f28c14d83abf3324e', 'message': ""Change chrony_role_action default to 'all'\n\nAs documented we should change the default to 'all'.\n\nChange-Id: I33bf616bcca62f68437a0c2520cb860194a3a203\n""}, {'number': 2, 'created': '2022-05-24 11:10:56.000000000', 'files': ['ansible-requirements.txt', 'setup.py', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-chrony/commit/7ccf873c82f12adda204c05f53adb3ff6be3fc0b', 'message': ""Change chrony_role_action default to 'all'\n\nAs documented we should change the default to 'all'.\nAlso fixes tox-linters job.\n\nChange-Id: I33bf616bcca62f68437a0c2520cb860194a3a203\n""}]",0,843126,7ccf873c82f12adda204c05f53adb3ff6be3fc0b,9,3,2,8833,,,0,"Change chrony_role_action default to 'all'

As documented we should change the default to 'all'.
Also fixes tox-linters job.

Change-Id: I33bf616bcca62f68437a0c2520cb860194a3a203
",git fetch https://review.opendev.org/openstack/ansible-role-chrony refs/changes/26/843126/2 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,a85493847de9d113b132ab3f28c14d83abf3324e,,chrony_role_action: all,chrony_role_action: install,1,1
openstack%2Fcharm-barbican~stable%2Fussuri~I6954240b9ff1bb743987620da097d15085399c41,openstack/charm-barbican,stable/ussuri,I6954240b9ff1bb743987620da097d15085399c41,Ensure that the tox.ini has py37 support,MERGED,2022-05-31 10:42:16.000000000,2022-05-31 20:34:25.000000000,2022-05-31 20:34:25.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 10:42:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/087d0a70fdeecfc3eb4baec836f948352db82ab2', 'message': 'Ensure that the tox.ini has py37 support\n\nThis is needed for the ""openstack-python3-ussuri-jobs""\njob on upstream zuul referenced in the .zuul.yaml\n\nChange-Id: I6954240b9ff1bb743987620da097d15085399c41\n'}]",1,844026,087d0a70fdeecfc3eb4baec836f948352db82ab2,7,3,1,20870,,,0,"Ensure that the tox.ini has py37 support

This is needed for the ""openstack-python3-ussuri-jobs""
job on upstream zuul referenced in the .zuul.yaml

Change-Id: I6954240b9ff1bb743987620da097d15085399c41
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/26/844026/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,087d0a70fdeecfc3eb4baec836f948352db82ab2,charmhub-migration,[testenv:py37] basepython = python3.7 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,,5,0
openstack%2Fcharm-barbican-vault~stable%2Fussuri~I2b0cd943f7bbd02e868a22311db63da4184988de,openstack/charm-barbican-vault,stable/ussuri,I2b0cd943f7bbd02e868a22311db63da4184988de,Ensure that the tox.ini has py37 support,MERGED,2022-05-31 10:43:21.000000000,2022-05-31 20:34:23.000000000,2022-05-31 20:34:23.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 10:43:21.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/8701c13e8f8788d008b386519a3ff6886add4dfc', 'message': 'Ensure that the tox.ini has py37 support\n\nThis is needed for the ""openstack-python3-ussuri-jobs""\njob on upstream zuul referenced in the .zuul.yaml\n\nChange-Id: I2b0cd943f7bbd02e868a22311db63da4184988de\n'}]",1,844027,8701c13e8f8788d008b386519a3ff6886add4dfc,7,3,1,20870,,,0,"Ensure that the tox.ini has py37 support

This is needed for the ""openstack-python3-ussuri-jobs""
job on upstream zuul referenced in the .zuul.yaml

Change-Id: I2b0cd943f7bbd02e868a22311db63da4184988de
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/27/844027/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8701c13e8f8788d008b386519a3ff6886add4dfc,charmhub-migration,[testenv:py37] basepython = python3.7 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,,5,0
openstack%2Fcharm-aodh~stable%2Fussuri~I89c9f0c299ca6b1c629c37169bef4096a2e4cd45,openstack/charm-aodh,stable/ussuri,I89c9f0c299ca6b1c629c37169bef4096a2e4cd45,Ensure that the tox.ini has py37 support,MERGED,2022-05-31 10:40:45.000000000,2022-05-31 20:32:21.000000000,2022-05-31 20:32:21.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 10:40:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/6c91ccb3af1a2b1ee5c09e8595ab29fc2f667b1d', 'message': 'Ensure that the tox.ini has py37 support\n\nThis is needed for the ""openstack-python3-ussuri-jobs""\njob on upstream zuul referenced in the .zuul.yaml\n\nChange-Id: I89c9f0c299ca6b1c629c37169bef4096a2e4cd45\n'}]",1,844025,6c91ccb3af1a2b1ee5c09e8595ab29fc2f667b1d,7,3,1,20870,,,0,"Ensure that the tox.ini has py37 support

This is needed for the ""openstack-python3-ussuri-jobs""
job on upstream zuul referenced in the .zuul.yaml

Change-Id: I89c9f0c299ca6b1c629c37169bef4096a2e4cd45
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/25/844025/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6c91ccb3af1a2b1ee5c09e8595ab29fc2f667b1d,charmhub-migration,[testenv:py37] basepython = python3.7 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,,5,0
openstack%2Fcharm-keystone-kerberos~stable%2Fussuri~I030128bbfc8483ebefe9c06d01e07eb75f721d70,openstack/charm-keystone-kerberos,stable/ussuri,I030128bbfc8483ebefe9c06d01e07eb75f721d70,Ensure that the tox.ini has py37 support,MERGED,2022-05-31 11:07:19.000000000,2022-05-31 20:32:19.000000000,2022-05-31 20:32:19.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 11:07:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/c2f2037a56c5989ee5dc5fadaac29a04e2d56376', 'message': 'Ensure that the tox.ini has py37 support\n\nThis is needed for the ""openstack-python3-ussuri-jobs""\njob on upstream zuul referenced in the .zuul.yaml\n\nChange-Id: I030128bbfc8483ebefe9c06d01e07eb75f721d70\n'}]",1,844032,c2f2037a56c5989ee5dc5fadaac29a04e2d56376,7,3,1,20870,,,0,"Ensure that the tox.ini has py37 support

This is needed for the ""openstack-python3-ussuri-jobs""
job on upstream zuul referenced in the .zuul.yaml

Change-Id: I030128bbfc8483ebefe9c06d01e07eb75f721d70
",git fetch https://review.opendev.org/openstack/charm-keystone-kerberos refs/changes/32/844032/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c2f2037a56c5989ee5dc5fadaac29a04e2d56376,charmhub-migration,[testenv:py37] basepython = python3.7 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,,5,0
openstack%2Fswift~master~I8883b63be315a7891c4bfbec662c81f218d1f263,openstack/swift,master,I8883b63be315a7891c4bfbec662c81f218d1f263,manage-shard-ranges: add gap repair option,MERGED,2022-05-09 16:20:01.000000000,2022-05-31 20:25:39.000000000,2022-05-31 20:23:55.000000000,"[{'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-09 16:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b931d4cb35426774b4720faf53de2356193e865d', 'message': 'WIP manage-shard-ranges: add gap repair option\n\nTODO:\n  - see inline TODOs\n  - write a unit test\n\nChange-Id: I8883b63be315a7891c4bfbec662c81f218d1f263\n'}, {'number': 2, 'created': '2022-05-09 17:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0a45bdf7f35a4c5128e02dec3faa47958ac09960', 'message': 'WIP manage-shard-ranges: add gap repair option\n\nTODO:\n  - see inline TODOs\n  - write a unit test\n  - functionally test: does the expanded range stick in the root db\n    and get pulled down by the stalled shrinking shard?\n\nChange-Id: I8883b63be315a7891c4bfbec662c81f218d1f263\n'}, {'number': 3, 'created': '2022-05-10 17:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b6390e2de90b9a1f2bb0a463577a7f593fd6a8e9', 'message': 'WIP manage-shard-ranges: add gap repair option\n\nTODO:\n  - functionally test: does the expanded range stick in the root db\n    and get pulled down by the stalled shrinking shard?\n\nChange-Id: I8883b63be315a7891c4bfbec662c81f218d1f263\n'}, {'number': 4, 'created': '2022-05-10 21:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/892e9200ef78bbe17d0a06d9d988aa67d0a53165', 'message': 'WIP manage-shard-ranges: add gap repair option\n\nTODO:\n\n- functionally/probe test: does the expanded range stick in the root\n    db and get pulled down by the stalled shrinking shard?\n\nChange-Id: I8883b63be315a7891c4bfbec662c81f218d1f263\n'}, {'number': 5, 'created': '2022-05-11 14:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3a3e90232dc2f9857d192b9980de36055789d836', 'message': 'manage-shard-ranges: add gap repair option\n\nChange-Id: I8883b63be315a7891c4bfbec662c81f218d1f263\n'}, {'number': 6, 'created': '2022-05-11 15:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ceb0995adc34b5707912af323d2cc766deeddb0e', 'message': 'manage-shard-ranges: add gap repair option\n\nChange-Id: I8883b63be315a7891c4bfbec662c81f218d1f263\n'}, {'number': 7, 'created': '2022-05-11 19:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/35cd5f54e85f9757340fb32d121ebdf3ea701136', 'message': 'manage-shard-ranges: add gap repair option\n\nChange-Id: I8883b63be315a7891c4bfbec662c81f218d1f263\n'}, {'number': 8, 'created': '2022-05-19 18:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ae7dacac5cd17b48d523cc98a20d2fce813e51c9', 'message': 'manage-shard-ranges: add gap repair option\n\nChange-Id: I8883b63be315a7891c4bfbec662c81f218d1f263\n'}, {'number': 9, 'created': '2022-05-23 08:44:24.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py', 'test/probe/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/b45b45fa729caa8c36f874658b69f92122dfbead', 'message': 'manage-shard-ranges: add gap repair option\n\nChange-Id: I8883b63be315a7891c4bfbec662c81f218d1f263\n'}]",47,841143,b45b45fa729caa8c36f874658b69f92122dfbead,45,3,9,7847,,,0,"manage-shard-ranges: add gap repair option

Change-Id: I8883b63be315a7891c4bfbec662c81f218d1f263
",git fetch https://review.opendev.org/openstack/swift refs/changes/43/841143/9 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py']",2,b931d4cb35426774b4720faf53de2356193e865d,p-repair-gaps," err_lines[-2], err_lines)", err_lines[1]),93,5
openstack%2Fnova-specs~master~I148dde971be7a2bf6de4ee1be9c355a08f24cf85,openstack/nova-specs,master,I148dde971be7a2bf6de4ee1be9c355a08f24cf85,Add vIOMMU device support for libvirt driver,MERGED,2022-05-03 13:38:11.000000000,2022-05-31 20:24:34.000000000,2022-05-30 14:05:59.000000000,"[{'_account_id': 1004}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-03 13:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6c5b60af78c6b972cf3bcf4bc5984bee0ede0a01', 'message': 'Add IOMMU device support for libvirt driver\n\nThis propose spec for bp libvirt-viommu-device [1]\n\n[1] https://blueprints.launchpad.net/nova/+spec/libvirt-viommu-device\n\nChange-Id: I148dde971be7a2bf6de4ee1be9c355a08f24cf85\n'}, {'number': 2, 'created': '2022-05-03 18:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1393468a04fed8b015e6538027fe1dee48c4da0a', 'message': 'Add IOMMU device support for libvirt driver\n\nThis propose spec for bp libvirt-viommu-device [1]\n\n[1] https://blueprints.launchpad.net/nova/+spec/libvirt-viommu-device\n\nChange-Id: I148dde971be7a2bf6de4ee1be9c355a08f24cf85\n'}, {'number': 3, 'created': '2022-05-04 13:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5969fb9f9eacdab3106b83d560c659845a3c900d', 'message': 'Add vIOMMU device support for libvirt driver\n\nThis propose spec for bp libvirt-viommu-device [1]\n\n[1] https://blueprints.launchpad.net/nova/+spec/libvirt-viommu-device\n\nChange-Id: I148dde971be7a2bf6de4ee1be9c355a08f24cf85\n'}, {'number': 4, 'created': '2022-05-04 16:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5e1932ad05bd6610320d67f919dd108768f5cc16', 'message': 'Add vIOMMU device support for libvirt driver\n\nThis propose spec for bp libvirt-viommu-device [1]\n\n[1] https://blueprints.launchpad.net/nova/+spec/libvirt-viommu-device\n\nChange-Id: I148dde971be7a2bf6de4ee1be9c355a08f24cf85\n'}, {'number': 5, 'created': '2022-05-05 14:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/28fce254ce7741d4c793f3d65dbe0ee54edba744', 'message': 'Add vIOMMU device support for libvirt driver\n\nThis propose spec for bp libvirt-viommu-device [1]\n\n[1] https://blueprints.launchpad.net/nova/+spec/libvirt-viommu-device\n\nChange-Id: I148dde971be7a2bf6de4ee1be9c355a08f24cf85\n'}, {'number': 6, 'created': '2022-05-11 17:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d15a3299691e38101a29f3fa6a0736dca4a25dac', 'message': 'Add vIOMMU device support for libvirt driver\n\nThis propose spec for bp libvirt-viommu-device [1]\n\n[1] https://blueprints.launchpad.net/nova/+spec/libvirt-viommu-device\n\nChange-Id: I148dde971be7a2bf6de4ee1be9c355a08f24cf85\n'}, {'number': 7, 'created': '2022-05-13 10:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a73038faa3867aac2e9091a2b7a5017b5c860e10', 'message': 'Add vIOMMU device support for libvirt driver\n\nThis propose spec for bp libvirt-viommu-device [1]\n\n[1] https://blueprints.launchpad.net/nova/+spec/libvirt-viommu-device\n\nChange-Id: I148dde971be7a2bf6de4ee1be9c355a08f24cf85\n'}, {'number': 8, 'created': '2022-05-16 18:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/cbe872a5611ec1f90c0b331fe22af2255222fe06', 'message': 'Add vIOMMU device support for libvirt driver\n\nThis propose spec for bp libvirt-viommu-device [1]\n\n[1] https://blueprints.launchpad.net/nova/+spec/libvirt-viommu-device\n\nChange-Id: I148dde971be7a2bf6de4ee1be9c355a08f24cf85\n'}, {'number': 9, 'created': '2022-05-17 07:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/7addd23365353144b1c35c3117950798c1c908bc', 'message': 'Add vIOMMU device support for libvirt driver\n\nThis propose spec for bp libvirt-viommu-device [1]\n\n[1] https://blueprints.launchpad.net/nova/+spec/libvirt-viommu-device\n\nChange-Id: I148dde971be7a2bf6de4ee1be9c355a08f24cf85\n'}, {'number': 10, 'created': '2022-05-24 07:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5d4f1defda108228796b313b6ecb5208ef8dfd69', 'message': 'Add vIOMMU device support for libvirt driver\n\nThis propose spec for bp libvirt-viommu-device [1]\n\n[1] https://blueprints.launchpad.net/nova/+spec/libvirt-viommu-device\n\nChange-Id: I148dde971be7a2bf6de4ee1be9c355a08f24cf85\n'}, {'number': 11, 'created': '2022-05-30 09:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/381097010efd44f17e42dbb37dcbe47612005259', 'message': 'Add vIOMMU device support for libvirt driver\n\nThis propose spec for bp libvirt-viommu-device [1]\n\n[1] https://blueprints.launchpad.net/nova/+spec/libvirt-viommu-device\n\nChange-Id: I148dde971be7a2bf6de4ee1be9c355a08f24cf85\n'}, {'number': 12, 'created': '2022-05-30 10:57:08.000000000', 'files': ['specs/zed/approved/libvirt-viommu-device.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/faafa19c6a86094dba6226af099651d6db11d21a', 'message': 'Add vIOMMU device support for libvirt driver\n\nThis propose spec for bp libvirt-viommu-device [1]\n\n[1] https://blueprints.launchpad.net/nova/+spec/libvirt-viommu-device\n\nChange-Id: I148dde971be7a2bf6de4ee1be9c355a08f24cf85\n'}]",146,840310,faafa19c6a86094dba6226af099651d6db11d21a,72,5,12,12404,,,0,"Add vIOMMU device support for libvirt driver

This propose spec for bp libvirt-viommu-device [1]

[1] https://blueprints.launchpad.net/nova/+spec/libvirt-viommu-device

Change-Id: I148dde971be7a2bf6de4ee1be9c355a08f24cf85
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/10/840310/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/zed/approved/libvirt-viommu-device.rst'],1,6c5b60af78c6b972cf3bcf4bc5984bee0ede0a01,bp/virtual-iommu-support,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =================================================== Add Virtual IOMMU device support for libvirt driver =================================================== https://blueprints.launchpad.net/nova/+spec/libvirt-viommu-device The spec is about the adding support for IOMMU with libvirt driver. Aiming IOMMU support for OpenStack, provide basic libvirt iommu element to add an IOMMU device. Problem description =================== Currently it is possible to use libvirt and connect IOMMU for guest for Q35 or ARM virt with models: intel, smmuv3, or virtio. And it will be great if we can have OpenStack support this feature. It's not a universal feature as currently only limited type of guests (Q35 and ARM virt) can get benifit from this, but it's a start. And also as community reachs better ARM support on libvirt driver, I think it make sense to provide better functionality support for ARM virt. And brough IOMMU support is required (for some use case, like us). Use Cases --------- We need this driver support for our current aarch64 environment. Without IOMMU supported to our hardware, we don't have stright forward way to passthrough device to our instance and proper managed by Nova. With ARM support with OpenStack getting ready, I think there will be more use case require this feature. Proposed change =============== * This spec proposes adding new guest configs for IOMMU (`LibvirtConfigGuestIOMMU`) and APIC feature (`LibvirtConfigGuestFeatureIOAPIC`). * Add following attribute to image property and extra_spces: ** hw_viommu_modle: support values: none|intel|smmuv3|virtio ** hw_viommu_interrupt_remapping: boolean option, default to false ** hw_viommu_caching_mode: boolean option, default to false ** hw_viommu_aw_bits: support values: postive integer ** hw_viommu_iotlb: boolean option, default to false ** hw_viommu_eim: boolean option, default to false These attributes are options for `LibvirtConfigGuestIOMMU`, More information for them can be found in `libvirt format domain`_. * Add IOMMU config when generating guest config. And enable IOAPIC within. .. _`libvirt format domain`: https://libvirt.org/formatdomain.html#iommu-devices Alternatives ------------ None Data model impact ----------------- None. REST API impact --------------- None Security impact --------------- None. Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- Operators will see new extra spec options and image properties. Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: stephenfin Other contributors: ricolin Feature Liaison --------------- Feature liaison: None Work Items ---------- * Add new guest configs: https://review.opendev.org/c/openstack/nova/+/830646 * Add docs for new guest options in extra_spces and image properties. Dependencies ============ None Testing ======= * Unit test for in patch. * We can work on more advance test against real environment. Not that needed for this patch IMO but we still should provide certain level of examine for extra guarantee. Documentation Impact ==================== * New docs for new guest options in extra_spces and image properties documentation. References ========== * patch: https://review.opendev.org/c/openstack/nova/+/830646 * BP: https://blueprints.launchpad.net/nova/+spec/libvirt-viommu-device ",,165,0
openstack%2Fironic-python-agent~bugfix%2F8.3~I2446afeaca866ffc3131b5e9f266526f35fc5ed7,openstack/ironic-python-agent,bugfix/8.3,I2446afeaca866ffc3131b5e9f266526f35fc5ed7,Make the standalone job voting again,MERGED,2022-02-01 13:44:05.000000000,2022-05-31 20:12:15.000000000,2022-05-31 20:10:05.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-02-01 13:44:05.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7f28a72f76a815dd0f339daa90836fb3bf086c3f', 'message': ""Make the standalone job voting again\n\nWe forgot to revert it. This job covers software RAID and manual\ncleaning, so it's very important to avoid regressions, even if it costs\nus some rechecks from time to time.\n\nChange-Id: I2446afeaca866ffc3131b5e9f266526f35fc5ed7\n""}]",4,827289,7f28a72f76a815dd0f339daa90836fb3bf086c3f,16,3,1,10239,,,0,"Make the standalone job voting again

We forgot to revert it. This job covers software RAID and manual
cleaning, so it's very important to avoid regressions, even if it costs
us some rechecks from time to time.

Change-Id: I2446afeaca866ffc3131b5e9f266526f35fc5ed7
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/89/827289/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,7f28a72f76a815dd0f339daa90836fb3bf086c3f,, - ironic-standalone-ipa-src - ironic-standalone-ipa-src," # NOTE(TheJulia): The cleaning tests run in standalone job has a # high failure rate due to possible race during long running steps # like deployment with raid setup. While we're working on a fix, # we also need to fix IPA and Ironic itself, so this is as a result # temporary. - ironic-standalone-ipa-src: voting: false",2,7
openstack%2Fopenstacksdk~stable%2Fvictoria~Ib0ef1fadf4fe44f1d6af2f7d542b8af919652501,openstack/openstacksdk,stable/victoria,Ib0ef1fadf4fe44f1d6af2f7d542b8af919652501,Drop lower-constraints job,MERGED,2022-05-31 15:08:22.000000000,2022-05-31 20:08:50.000000000,2022-05-31 20:05:21.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-05-31 15:08:22.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/471efb9d48fa2d2e25e3cc60ac6dbdff77229a25', 'message': 'Drop lower-constraints job\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this job because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes, and\nWe need to drop the lower-constraints.txt file as well as the corresponding\ntox target\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Ib0ef1fadf4fe44f1d6af2f7d542b8af919652501\n(cherry picked from commit d783b5889fd7f9a59f948c48cfc5a752d6836ae3)\n(cherry picked from commit a1deb5b88ed9766d2da404816a9f60e063e82e10)\n'}]",0,844095,471efb9d48fa2d2e25e3cc60ac6dbdff77229a25,8,3,1,17685,,,0,"Drop lower-constraints job

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this job because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes, and
We need to drop the lower-constraints.txt file as well as the corresponding
tox target

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Ib0ef1fadf4fe44f1d6af2f7d542b8af919652501
(cherry picked from commit d783b5889fd7f9a59f948c48cfc5a752d6836ae3)
(cherry picked from commit a1deb5b88ed9766d2da404816a9f60e063e82e10)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/95/844095/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,471efb9d48fa2d2e25e3cc60ac6dbdff77229a25,,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,41
openstack%2Fopenstacksdk~stable%2Fwallaby~Ib0ef1fadf4fe44f1d6af2f7d542b8af919652501,openstack/openstacksdk,stable/wallaby,Ib0ef1fadf4fe44f1d6af2f7d542b8af919652501,Drop lower-constraints job,MERGED,2022-05-31 15:06:37.000000000,2022-05-31 20:08:32.000000000,2022-05-31 20:05:19.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-05-31 15:06:37.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a1deb5b88ed9766d2da404816a9f60e063e82e10', 'message': 'Drop lower-constraints job\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this job because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes, and\nWe need to drop the lower-constraints.txt file as well as the corresponding\ntox target\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Ib0ef1fadf4fe44f1d6af2f7d542b8af919652501\n(cherry picked from commit d783b5889fd7f9a59f948c48cfc5a752d6836ae3)\n'}]",0,844094,a1deb5b88ed9766d2da404816a9f60e063e82e10,8,3,1,17685,,,0,"Drop lower-constraints job

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this job because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes, and
We need to drop the lower-constraints.txt file as well as the corresponding
tox target

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Ib0ef1fadf4fe44f1d6af2f7d542b8af919652501
(cherry picked from commit d783b5889fd7f9a59f948c48cfc5a752d6836ae3)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/94/844094/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,a1deb5b88ed9766d2da404816a9f60e063e82e10,,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,41
openstack%2Fcinder~stable%2Fussuri~I86bc2909f5553e8c6b4d041ffd4a718702c45106,openstack/cinder,stable/ussuri,I86bc2909f5553e8c6b4d041ffd4a718702c45106,Cap cinder-tempest-plugin version for stable/ussuri|victoria,MERGED,2022-05-24 02:11:04.000000000,2022-05-31 19:59:34.000000000,2022-05-31 19:55:58.000000000,"[{'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-05-24 02:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/30c33018817d87ffce741824b714708348ceee89', 'message': 'DNM: Testing tempest pin on stable/ussuri\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/843045\nChange-Id: I86bc2909f5553e8c6b4d041ffd4a718702c45106\n'}, {'number': 2, 'created': '2022-05-24 23:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf85a00893f4600a98881f91e750721a56b25b12', 'message': 'DNM: Testing tempest pin on stable/ussuri\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nChange-Id: I86bc2909f5553e8c6b4d041ffd4a718702c45106\n'}, {'number': 3, 'created': '2022-05-25 17:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b991492591d43078add01f99ef3dd0353f89e15', 'message': 'Cap cinder-tempest-plugin version for stable/ussuri|victoria\n\nWe are capping stable/ussuri and victoria testing with Tempest\n26.1.0 (choosing 26.1.0 because of bug#1955418)\n\n- https://review.opendev.org/c/openstack/devstack/+/838051\n- https://review.opendev.org/c/openstack/devstack/+/843295\n\nand cinder-plugin-ceph-tempest and cinder-tempest-lvm-multibackend\njobs in cinder stable/ussuri|victoria are failing due to that\n\n- https://zuul.opendev.org/t/openstack/build/fb3b3b7f9bd94b429117001429b60afa/logs\n- https://zuul.opendev.org/t/openstack/build/c33d697341a3492c9ede1175a1c4b6b2/logs\n\nTo fix that we need to use compatible cinder-tempest-plugin version for\nTempest 26.1.0, which is cinder-tempest-plugin 1.3.0.\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/843319\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\n\nChange-Id: I86bc2909f5553e8c6b4d041ffd4a718702c45106\n'}, {'number': 4, 'created': '2022-05-26 01:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/55763c2125119bcee0e22da59d02acbe1faced03', 'message': 'Cap cinder-tempest-plugin version for stable/ussuri|victoria\n\nWe are capping stable/ussuri and victoria testing with Tempest\n26.1.0 (choosing 26.1.0 because of bug#1955418)\n\n- https://review.opendev.org/c/openstack/devstack/+/838051\n- https://review.opendev.org/c/openstack/devstack/+/843295\n\nand cinder-plugin-ceph-tempest and cinder-tempest-lvm-multibackend\njobs in cinder stable/ussuri|victoria are failing due to that\n\n- https://zuul.opendev.org/t/openstack/build/fb3b3b7f9bd94b429117001429b60afa/logs\n- https://zuul.opendev.org/t/openstack/build/c33d697341a3492c9ede1175a1c4b6b2/logs\n\nTo fix that we need to use compatible cinder-tempest-plugin version for\nTempest 26.1.0, which is cinder-tempest-plugin 1.3.0.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/843355\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/843319\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\n\nChange-Id: I86bc2909f5553e8c6b4d041ffd4a718702c45106\n'}, {'number': 5, 'created': '2022-05-26 16:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d766e9501ae0572a694dbe6c2be90ce75fb0ab79', 'message': 'Cap cinder-tempest-plugin version for stable/ussuri|victoria\n\nWe are capping stable/ussuri and victoria testing with Tempest\n26.1.0 (choosing 26.1.0 because of bug#1955418)\n\n- https://review.opendev.org/c/openstack/devstack/+/838051\n- https://review.opendev.org/c/openstack/devstack/+/843295\n\nand cinder-plugin-ceph-tempest and cinder-tempest-lvm-multibackend\njobs in cinder stable/ussuri|victoria are failing due to that\n\n- https://zuul.opendev.org/t/openstack/build/fb3b3b7f9bd94b429117001429b60afa/logs\n- https://zuul.opendev.org/t/openstack/build/c33d697341a3492c9ede1175a1c4b6b2/logs\n\nTo fix that we need to use compatible cinder-tempest-plugin version for\nTempest 26.1.0, which is cinder-tempest-plugin 1.3.0.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/843355\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/843319\n\nChange-Id: I86bc2909f5553e8c6b4d041ffd4a718702c45106\n'}, {'number': 6, 'created': '2022-05-26 21:36:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/827126ef20ded35104760a68c0eef2ea0ea18df3', 'message': 'Cap cinder-tempest-plugin version for stable/ussuri|victoria\n\nWe are capping stable/ussuri and victoria testing with Tempest\n26.1.0 (choosing 26.1.0 because of bug#1955418)\n\n- https://review.opendev.org/c/openstack/devstack/+/838051\n- https://review.opendev.org/c/openstack/devstack/+/843295\n\nand cinder-plugin-ceph-tempest and cinder-tempest-lvm-multibackend\njobs in cinder stable/ussuri|victoria are failing due to that\n\n- https://zuul.opendev.org/t/openstack/build/fb3b3b7f9bd94b429117001429b60afa/logs\n- https://zuul.opendev.org/t/openstack/build/c33d697341a3492c9ede1175a1c4b6b2/logs\n\nTo fix that we need to use compatible cinder-tempest-plugin version for\nTempest 26.1.0, which is cinder-tempest-plugin 1.3.0.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/843355\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/843319\n\nChange-Id: I86bc2909f5553e8c6b4d041ffd4a718702c45106\n'}]",11,843092,827126ef20ded35104760a68c0eef2ea0ea18df3,85,4,6,8556,,,0,"Cap cinder-tempest-plugin version for stable/ussuri|victoria

We are capping stable/ussuri and victoria testing with Tempest
26.1.0 (choosing 26.1.0 because of bug#1955418)

- https://review.opendev.org/c/openstack/devstack/+/838051
- https://review.opendev.org/c/openstack/devstack/+/843295

and cinder-plugin-ceph-tempest and cinder-tempest-lvm-multibackend
jobs in cinder stable/ussuri|victoria are failing due to that

- https://zuul.opendev.org/t/openstack/build/fb3b3b7f9bd94b429117001429b60afa/logs
- https://zuul.opendev.org/t/openstack/build/c33d697341a3492c9ede1175a1c4b6b2/logs

To fix that we need to use compatible cinder-tempest-plugin version for
Tempest 26.1.0, which is cinder-tempest-plugin 1.3.0.

Depends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/843355
Depends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/843319

Change-Id: I86bc2909f5553e8c6b4d041ffd4a718702c45106
",git fetch https://review.opendev.org/openstack/cinder refs/changes/92/843092/5 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,30c33018817d87ffce741824b714708348ceee89,ussuri-pin-tempest,#test,,1,0
openstack%2Fcharms.openstack~master~Ib01db29ada6da3f96c1f97305e5cdd44bfa772b4,openstack/charms.openstack,master,Ib01db29ada6da3f96c1f97305e5cdd44bfa772b4,Add support for using external memcached units for keystone,NEW,2022-05-13 19:22:48.000000000,2022-05-31 19:59:20.000000000,,"[{'_account_id': 8992}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-13 19:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/cdbd94c41e8773cb14ede25602246c245f5f929b', 'message': 'Add support for using external memcached units for keystone\n\nUnits that use memcached for coordination now can use the same memcached\nservers for keystone caching\n\nChange-Id: Ib01db29ada6da3f96c1f97305e5cdd44bfa772b4\n'}, {'number': 2, 'created': '2022-05-31 19:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/c4f4f98d40fb90240746376085b8174f70799a22', 'message': 'Add support for using external memcached units for keystone\n\nUnits that use memcached for coordination now can use the same memcached\nservers for keystone caching\n\nChange-Id: Ib01db29ada6da3f96c1f97305e5cdd44bfa772b4\n'}, {'number': 3, 'created': '2022-05-31 19:52:14.000000000', 'files': ['charms_openstack/adapters.py', 'unit_tests/test_charms_openstack_adapters.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/ab40830daad5585657cd18f3b2d09423a254f44a', 'message': 'Add support for using external memcached units for keystone\n\nUnits that use memcached for coordination now can use the same memcached\nservers for keystone caching\n\nChange-Id: Ib01db29ada6da3f96c1f97305e5cdd44bfa772b4\n'}]",5,841792,ab40830daad5585657cd18f3b2d09423a254f44a,8,3,3,34275,,,0,"Add support for using external memcached units for keystone

Units that use memcached for coordination now can use the same memcached
servers for keystone caching

Change-Id: Ib01db29ada6da3f96c1f97305e5cdd44bfa772b4
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/92/841792/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/adapters.py', 'unit_tests/test_charms_openstack_adapters.py']",2,cdbd94c41e8773cb14ede25602246c245f5f929b,coordination-memcache,"import subprocess with mpo(adapters.ch_host, 'lsb_release') as lsb_r, \ mpo(adapters.ch_host, 'CompareHostReleases', new=MCHR), \ mpo(adapters.ch_ip, 'is_ipv6_disabled') as is_ipv6_disabled, \ mpo(adapters.hookenv, 'relation_ids', new=lambda x: ['memcached']), \ mpo(adapters.hookenv, 'related_units', new=lambda relid: ['unit1', 'unit2']), \ mpo(adapters.hookenv, 'relation_get', new=lambda **kwargs: {'host': '1.1.1.1', 'port': '1234'}),\ mpo(subprocess, 'run', new=lambda arg: ''): mci = MockCharmInstance('mitaka') is_ipv6_disabled.return_value = False c = adapters.APIConfigurationAdapter(charm_instance=mci) self.assertEqual( c.memcache['memcache_url'], '1.1.1.1:1234,1.1.1.1:1234') ",,40,0
openstack%2Fneutron~master~Ied5ef53882d4249e0ceaa731239befdc3ba67d03,openstack/neutron,master,Ied5ef53882d4249e0ceaa731239befdc3ba67d03,[Trunk] Check if parent port belongs to OVN to activate,MERGED,2022-05-25 08:34:27.000000000,2022-05-31 19:58:31.000000000,2022-05-31 19:55:51.000000000,"[{'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-05-25 08:34:27.000000000', 'files': ['neutron/services/trunk/drivers/ovn/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/68bbd3586bdc313a6b67f2983ba2331a7956856c', 'message': '[Trunk] Check if parent port belongs to OVN to activate\n\nIn Trunk service, the OVN was setting always the trunk to ""ACTIVE""\nanytime the trunk was created or updated. This patch changes this\nbehaviour: only when the trunk parent port belongs to OVN (that\nmeans, there is a related logical switch port to this Neutron port),\nthe methods will set the trunk to ""ACTIVE"".\n\nCloses-Bug: #1974183\nChange-Id: Ied5ef53882d4249e0ceaa731239befdc3ba67d03\n'}]",4,843247,68bbd3586bdc313a6b67f2983ba2331a7956856c,21,6,1,16688,,,0,"[Trunk] Check if parent port belongs to OVN to activate

In Trunk service, the OVN was setting always the trunk to ""ACTIVE""
anytime the trunk was created or updated. This patch changes this
behaviour: only when the trunk parent port belongs to OVN (that
means, there is a related logical switch port to this Neutron port),
the methods will set the trunk to ""ACTIVE"".

Closes-Bug: #1974183
Change-Id: Ied5ef53882d4249e0ceaa731239befdc3ba67d03
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/843247/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/trunk/drivers/ovn/trunk_driver.py'],1,68bbd3586bdc313a6b67f2983ba2331a7956856c,bug/1974183," # Check if parent port is handled by OVN. if not self.plugin_driver.nb_ovn.lookup('Logical_Switch_Port', trunk.port_id, default=None): return # Check if parent port is handled by OVN. if not self.plugin_driver.nb_ovn.lookup('Logical_Switch_Port', trunk.port_id, default=None): return # Check if parent port is handled by OVN. if not self.plugin_driver.nb_ovn.lookup('Logical_Switch_Port', trunk.port_id, default=None): return",,12,0
openstack%2Fneutron-tempest-plugin~master~I7d8c1b4cf5c483f1eb4411649c56d6cd8cd3bc66,openstack/neutron-tempest-plugin,master,I7d8c1b4cf5c483f1eb4411649c56d6cd8cd3bc66,Pin neutron-tempest-plugin for ussuri/victoria jobs,MERGED,2022-04-14 23:38:54.000000000,2022-05-31 19:55:54.000000000,2022-05-31 19:55:54.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-14 23:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5dc08321f3583b8a6994f7c5d193a66272e3ddf5', 'message': 'DNM: testing old tempest\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nChange-Id: I7d8c1b4cf5c483f1eb4411649c56d6cd8cd3bc66\n'}, {'number': 2, 'created': '2022-05-24 01:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/fc503b33fc2597765b2f32a10aadc6f532c17b6f', 'message': 'DNM: testing old tempest\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/843045\nChange-Id: I7d8c1b4cf5c483f1eb4411649c56d6cd8cd3bc66\n'}, {'number': 3, 'created': '2022-05-24 23:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/11d88c4034f1e10ee032c498db2c6f4e0f3da804', 'message': 'DNM: testing old tempest\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nChange-Id: I7d8c1b4cf5c483f1eb4411649c56d6cd8cd3bc66\n'}, {'number': 4, 'created': '2022-05-26 17:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/388a0e6dc909dffb09c94696b7a011d7fab4c23a', 'message': 'Pin neutron-tempest-plugin for victoria jobs\n\nAs stable/victoria is in EM phase, and qa team also pinning\ntempest 26.1.0 for stable/victoria\n- https://review.opendev.org/c/openstack/devstack/+/843295\n\nTo have compatible neutron-tempest-plugin version with Tempest\n26.1.0, we need to pin neutron-tempest-plugin 1.6.0 version. And\nremove the vicrotia job from master gate.\n\nAlso same version we need to pin for stable/ussuri also as stable/ussuri\nis also pinned with 26.1.0. in the ussuri\n- https://review.opendev.org/c/openstack/devstack/+/838051\n\nwith 1.8.0, we are facing some incomaptbile code with Tempest 26.1.0\n- https://zuul.opendev.org/t/openstack/build/c4d49a80620b44c7ba708e5afebd2b1c\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/843295\n\nChange-Id: I7d8c1b4cf5c483f1eb4411649c56d6cd8cd3bc66\n'}, {'number': 5, 'created': '2022-05-27 18:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a427edc6758991f900c13ad67a5805c2211701dd', 'message': 'Pin neutron-tempest-plugin for ussuri/victoria jobs\n\nAs stable/victoria is in EM phase, and qa team also pinning\ntempest 26.1.0 for stable/victoria\n- https://review.opendev.org/c/openstack/devstack/+/843295\n\nTo have compatible neutron-tempest-plugin version with Tempest\n26.1.0, we need to pin neutron-tempest-plugin 1.6.0 version. And\nremove the vicrotia job from master gate.\n\nAlso same version we need to pin for stable/ussuri also as stable/ussuri\nis also pinned with 26.1.0. in the ussuri\n- https://review.opendev.org/c/openstack/devstack/+/838051\n\nwith 1.8.0, we are facing some incomaptbile code with Tempest 26.1.0\n- https://zuul.opendev.org/t/openstack/build/c4d49a80620b44c7ba708e5afebd2b1c\n\nAlso, both EM branch facing below error (bug#1948804)\n sudo: guestmount: command not found\nand applying the same fix from stable/train\n- https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/815518\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/843295\n\nRelated-Bug: #1948804\n\nChange-Id: I7d8c1b4cf5c483f1eb4411649c56d6cd8cd3bc66\n'}, {'number': 6, 'created': '2022-05-28 03:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a983c817199256afaf082bcc30334e29d4b12ce6', 'message': 'Pin neutron-tempest-plugin for ussuri/victoria jobs\n\nAs stable/victoria is in EM phase, and qa team also pinning\ntempest 26.1.0 for stable/victoria\n- https://review.opendev.org/c/openstack/devstack/+/843295\n\nTo have compatible neutron-tempest-plugin version with Tempest\n26.1.0, we need to pin neutron-tempest-plugin 1.6.0 version. And\nremove the vicrotia job from master gate.\n\nAlso same version we need to pin for stable/ussuri also as stable/ussuri\nis also pinned with 26.1.0. in the ussuri\n- https://review.opendev.org/c/openstack/devstack/+/838051\n\nwith 1.8.0, we are facing some incomaptbile code with Tempest 26.1.0\n- https://zuul.opendev.org/t/openstack/build/c4d49a80620b44c7ba708e5afebd2b1c\n\nAlso, both EM branch facing below error (bug#1948804)\n sudo: guestmount: command not found\nand applying the same fix from stable/train\n- https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/815518\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/843295\n\nRelated-Bug: #1948804\n\nChange-Id: I7d8c1b4cf5c483f1eb4411649c56d6cd8cd3bc66\n'}, {'number': 7, 'created': '2022-05-28 04:24:40.000000000', 'files': ['zuul.d/ussuri_jobs.yaml', 'zuul.d/project.yaml', 'zuul.d/victoria_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/935e0a3812a348d547104a223db01ccccf8be549', 'message': 'Pin neutron-tempest-plugin for ussuri/victoria jobs\n\nAs stable/victoria is in EM phase, and qa team also pinning\ntempest 26.1.0 for stable/victoria\n- https://review.opendev.org/c/openstack/devstack/+/843295\n\nTo have compatible neutron-tempest-plugin version with Tempest\n26.1.0, we need to pin neutron-tempest-plugin 1.6.0 version. And\nremove the vicrotia job from master gate.\n\nAlso same version we need to pin for stable/ussuri also as stable/ussuri\nis also pinned with 26.1.0. in the ussuri\n- https://review.opendev.org/c/openstack/devstack/+/838051\n\nwith 1.8.0, we are facing some incomaptbile code with Tempest 26.1.0\n- https://zuul.opendev.org/t/openstack/build/c4d49a80620b44c7ba708e5afebd2b1c\n\nAlso, both EM branch facing below error (bug#1948804)\n sudo: guestmount: command not found\nand applying the same fix from stable/train\n- https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/815518\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/843295\n\nRelated-Bug: #1948804\n\nChange-Id: I7d8c1b4cf5c483f1eb4411649c56d6cd8cd3bc66\n'}]",19,838053,935e0a3812a348d547104a223db01ccccf8be549,52,6,7,8556,,,0,"Pin neutron-tempest-plugin for ussuri/victoria jobs

As stable/victoria is in EM phase, and qa team also pinning
tempest 26.1.0 for stable/victoria
- https://review.opendev.org/c/openstack/devstack/+/843295

To have compatible neutron-tempest-plugin version with Tempest
26.1.0, we need to pin neutron-tempest-plugin 1.6.0 version. And
remove the vicrotia job from master gate.

Also same version we need to pin for stable/ussuri also as stable/ussuri
is also pinned with 26.1.0. in the ussuri
- https://review.opendev.org/c/openstack/devstack/+/838051

with 1.8.0, we are facing some incomaptbile code with Tempest 26.1.0
- https://zuul.opendev.org/t/openstack/build/c4d49a80620b44c7ba708e5afebd2b1c

Also, both EM branch facing below error (bug#1948804)
 sudo: guestmount: command not found
and applying the same fix from stable/train
- https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/815518

Depends-On: https://review.opendev.org/c/openstack/devstack/+/838051
Depends-On: https://review.opendev.org/c/openstack/devstack/+/843295

Related-Bug: #1948804

Change-Id: I7d8c1b4cf5c483f1eb4411649c56d6cd8cd3bc66
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/53/838053/7 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,5dc08321f3583b8a6994f7c5d193a66272e3ddf5,ussuri-pin-tempest,#test,,1,0
openstack%2Fcharm-keystone-ldap~stable%2Fussuri~Idb602861a52d5f7b2b39a5c2c8eb362a167cf72d,openstack/charm-keystone-ldap,stable/ussuri,Idb602861a52d5f7b2b39a5c2c8eb362a167cf72d,Ensure that the tox.ini has py37 support,MERGED,2022-05-31 11:14:47.000000000,2022-05-31 19:25:21.000000000,2022-05-31 19:25:21.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 11:14:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/169bc2179f0986eac653d11e9e80f9727ea0c4af', 'message': 'Ensure that the tox.ini has py37 support\n\nThis is needed for the ""openstack-python3-ussuri-jobs""\njob on upstream zuul referenced in the .zuul.yaml\n\nChange-Id: Idb602861a52d5f7b2b39a5c2c8eb362a167cf72d\n'}]",1,844034,169bc2179f0986eac653d11e9e80f9727ea0c4af,7,3,1,20870,,,0,"Ensure that the tox.ini has py37 support

This is needed for the ""openstack-python3-ussuri-jobs""
job on upstream zuul referenced in the .zuul.yaml

Change-Id: Idb602861a52d5f7b2b39a5c2c8eb362a167cf72d
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/34/844034/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,169bc2179f0986eac653d11e9e80f9727ea0c4af,charmhub-migration,[testenv:py37] basepython = python3.7 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,,5,0
openstack%2Ftempest~master~I0ccfa824f08cbdf58f26a142dac3a0881605ef08,openstack/tempest,master,I0ccfa824f08cbdf58f26a142dac3a0881605ef08,Fix supported releases and py versions in the doc,MERGED,2022-05-31 14:40:26.000000000,2022-05-31 19:05:53.000000000,2022-05-31 19:04:29.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 14:40:26.000000000', 'files': ['doc/source/supported_version.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/991866fd7526a34ce92e3d861a22ce8ee82d5a6e', 'message': ""Fix supported releases and py versions in the doc\n\nOur documentation showed that Victoria, Ussuri and Train are the\nsupported releases by tempest's master, which wasn't the case.\nIt also showed that tempest is compatible with python 3.6, 3.7\nand 3.8. We dropped py 3.6 and 3.7 support by [1].\n\n[1] https://review.opendev.org/c/openstack/tempest/+/843182\n\nCloses-Bug: #1976282\nChange-Id: I0ccfa824f08cbdf58f26a142dac3a0881605ef08\n""}]",0,844068,991866fd7526a34ce92e3d861a22ce8ee82d5a6e,7,2,1,22873,,,0,"Fix supported releases and py versions in the doc

Our documentation showed that Victoria, Ussuri and Train are the
supported releases by tempest's master, which wasn't the case.
It also showed that tempest is compatible with python 3.6, 3.7
and 3.8. We dropped py 3.6 and 3.7 support by [1].

[1] https://review.opendev.org/c/openstack/tempest/+/843182

Closes-Bug: #1976282
Change-Id: I0ccfa824f08cbdf58f26a142dac3a0881605ef08
",git fetch https://review.opendev.org/openstack/tempest refs/changes/68/844068/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/supported_version.rst'],1,991866fd7526a34ce92e3d861a22ce8ee82d5a6e,,* Yoga * Xena * Wallaby* Python 3.9,* Ussuri * Train* Python 3.6 * Python 3.7,4,4
openstack%2Fdevstack~master~I211a331ab668dbb0ad7882908cca4363f865d924,openstack/devstack,master,I211a331ab668dbb0ad7882908cca4363f865d924,Do not barf stack trace if stats DB is missing,MERGED,2022-05-23 19:47:21.000000000,2022-05-31 19:05:38.000000000,2022-05-31 19:04:26.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-05-23 19:47:21.000000000', 'files': ['tools/get-stats.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1cdf413ac6f993dc2074741be4627acdc3f10304', 'message': 'Do not barf stack trace if stats DB is missing\n\nThis can happen if devstack fails to run, but we still run the post\ntasks. Also could happen if some sort of hybrid job configuration\ndoes not run all of devstack but we still end up running post jobs.\n\nJust warn to stderr and assume no DB info.\n\nChange-Id: I211a331ab668dbb0ad7882908cca4363f865d924\n'}]",2,843022,1cdf413ac6f993dc2074741be4627acdc3f10304,10,3,1,4393,,,0,"Do not barf stack trace if stats DB is missing

This can happen if devstack fails to run, but we still run the post
tasks. Also could happen if some sort of hybrid job configuration
does not run all of devstack but we still end up running post jobs.

Just warn to stderr and assume no DB info.

Change-Id: I211a331ab668dbb0ad7882908cca4363f865d924
",git fetch https://review.opendev.org/openstack/devstack refs/changes/22/843022/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/get-stats.py'],1,1cdf413ac6f993dc2074741be4627acdc3f10304,skip-perf-on-fail," try: db = pymysql.connect(host=host, user=user, password=passwd, database='stats', cursorclass=pymysql.cursors.DictCursor) except pymysql.err.OperationalError as e: if 'Unknown database' in str(e): print('No stats database; assuming devstack failed', file=sys.stderr) return [] raise "," db = pymysql.connect(host=host, user=user, password=passwd, database='stats', cursorclass=pymysql.cursors.DictCursor)",11,3
openstack%2Fcharm-deployment-guide~master~I20ffd8b97cfdac37ce83dc9fab35be236999e1e5,openstack/charm-deployment-guide,master,I20ffd8b97cfdac37ce83dc9fab35be236999e1e5,Remove storage pages,MERGED,2022-05-31 01:35:40.000000000,2022-05-31 18:56:00.000000000,2022-05-31 18:54:45.000000000,"[{'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 01:35:40.000000000', 'files': ['deploy-guide/source/_extra/.htaccess', 'deploy-guide/source/cinder-volume-replication.rst', 'deploy-guide/source/app-ceph-rbd-mirror.rst', 'deploy-guide/source/index.rst', 'deploy-guide/source/rgw-multisite.rst', 'deploy-guide/source/ceph-erasure-coding.rst', 'deploy-guide/source/cinder-volume-replication-dr.rst', 'deploy-guide/source/cinder-volume-replication-overlay.rst', 'deploy-guide/source/swift.rst', 'deploy-guide/source/encryption-at-rest.rst', 'deploy-guide/test/redirect-tests.txt', 'deploy-guide/source/manila-ganesha.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/70a2ebe80fe59e69f15852e55a09c7eaf24a73e2', 'message': 'Remove storage pages\n\nRemove the storage pages as they are being migrated\nto the charm-guide.\n\nAdd HTML redirects (and tests) as a consequence.\n\nDepends-On: I933916e1a77e108ec255289e562149240ba09470\nChange-Id: I20ffd8b97cfdac37ce83dc9fab35be236999e1e5\n'}]",1,843982,70a2ebe80fe59e69f15852e55a09c7eaf24a73e2,7,2,1,30561,,,0,"Remove storage pages

Remove the storage pages as they are being migrated
to the charm-guide.

Add HTML redirects (and tests) as a consequence.

Depends-On: I933916e1a77e108ec255289e562149240ba09470
Change-Id: I20ffd8b97cfdac37ce83dc9fab35be236999e1e5
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/82/843982/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/_extra/.htaccess', 'deploy-guide/source/cinder-volume-replication.rst', 'deploy-guide/source/app-ceph-rbd-mirror.rst', 'deploy-guide/source/index.rst', 'deploy-guide/source/rgw-multisite.rst', 'deploy-guide/source/ceph-erasure-coding.rst', 'deploy-guide/source/cinder-volume-replication-dr.rst', 'deploy-guide/source/cinder-volume-replication-overlay.rst', 'deploy-guide/source/swift.rst', 'deploy-guide/source/encryption-at-rest.rst', 'deploy-guide/test/redirect-tests.txt', 'deploy-guide/source/manila-ganesha.rst']",12,70a2ebe80fe59e69f15852e55a09c7eaf24a73e2,remove-storage-pages,,"========================== Shared filesystem services ========================== Overview -------- As of the 20.02 OpenStack Charms release, with OpenStack Rocky or later, support for integrating Manila with CephFS to provide shared filesystems is available. Three new charms are needed to deploy this solution: 'manila', 'manila-ganesha', and 'ceph-fs'. The 'manila' charm provides the Manila API service to the OpenStack deployment, the 'ceph-fs' charm provides the Ceph services required to provide CephFS, and the 'manila-ganesha' charm integrates these two via a Manila managed NFS gateway (Ganesha) to provide access controlled NFS mounts to OpenStack instances. Deployment ---------- .. warning:: Throughout this guide make sure ``openstack-origin`` matches the value you used when `deploying OpenStack`_. One way to add Manila Ganesha is to do so during the bundle deployment of a new OpenStack cloud. This is done by means of a bundle overlay, such as `manila-ganesha-overlay.yaml`: .. code-block:: yaml machines: '0': series: bionic '1': series: bionic '2': series: bionic '3': series: bionic relations: - - manila:ha - manila-hacluster:ha - - manila-ganesha:ha - manila-ganesha-hacluster:ha - - ceph-mon:mds - ceph-fs:ceph-mds - - ceph-mon:client - manila-ganesha:ceph - - manila-ganesha:shared-db - percona-cluster:shared-db - - manila-ganesha:amqp - rabbitmq-server:amqp - - manila-ganesha:identity-service - keystone:identity-credentials - - manila:remote-manila-plugin - manila-ganesha:manila-plugin - - manila:amqp - rabbitmq-server:amqp - - manila:identity-service - keystone:identity-service - - manila:shared-db - percona-cluster:shared-db series: bionic applications: ceph-fs: charm: cs:ceph-fs num_units: 2 options: source: cloud:bionic-train manila-hacluster: charm: cs:hacluster manila-ganesha-hacluster: charm: cs:hacluster manila-ganesha: charm: cs:manila-ganesha series: bionic num_units: 3 options: openstack-origin: cloud:bionic-train vip: <INSERT VIP(S)> bindings: public: public admin: admin internal: internal shared-db: internal amqp: internal # This could also be another existing space tenant-storage: tenant-storage to: - 'lxd:1' - 'lxd:2' - 'lxd:3' manila: charm: cs:manila series: bionic num_units: 3 options: openstack-origin: cloud:bionic-train vip: <INSERT VIP(S)> default-share-backend: cephfsnfs1 share-protocols: NFS bindings: public: public admin: admin internal: internal shared-db: internal amqp: internal to: - 'lxd:1' - 'lxd:2' - 'lxd:3' .. warning:: The machine mappings will almost certainly need to be changed. To deploy OpenStack with Manila Ganesha: .. code-block:: none juju deploy ./base.yaml --overlay ./manila-ganesha-overlay.yaml Where `base.yaml` is a bundle to deploy OpenStack. See the `Getting started tutorial`_ for an introduction to bundle usage. Configuration ------------- To create and access CephFS shares over NFS, you'll need to `create the share`_ and then you'll need to `grant access`_ to the share. Spaces ------ This charm can optionally dedicate a provider's physical network to serving Ganesha NFS shares. It does so through its support for Juju spaces. The charm uses a space called 'tenant-storage' and it should be accessible (routed is ok) to all tenants that expect to access the Manila shares. The easiest way to ensure this access is to create a provider network in OpenStack that is mapped to the same network layer as this space is. For example, the storage space is mapped to VLAN 120, then an OpenStack administrator should create a provider network that maps to the same VLAN. For example: .. code-block:: none openstack network create \ --provider-network-type vlan \ --provider-segment 120 \ --share \ --provider-physical-network physnet1 \ tenant-storage openstack subnet create tenant \ --network=tenant-storage \ --subnet-range 10.1.10.0/22 \ --gateway 10.1.10.1 \ --allocation-pool start=10.1.10.50,end=10.1.13.254 When creating the space in MAAS that corresponds to this network, be sure that DHCP is disabled in this space. If MAAS performs any additional allocations in this space, ensure that the range configured for the subnet in Neutron does not overlap with the MAAS subnets. If dedicating a network space is not desired, it is also possible to use Ganesha over a routed network. Manila's IP access restrictions will continue to secure access to Ganesha even for a network that is not managed by Neutron. In order for the latter to apply, a provider network is required, and guests must be attached to that provider network. .. LINKS .. _deploying OpenStack: install-openstack .. _create the share: https://docs.openstack.org/manila/latest/admin/cephfs_driver.html#create-cephfs-nfs-share .. _grant access: https://docs.openstack.org/manila/latest/admin/cephfs_driver.html#allow-access-to-cephfs-nfs-share .. _Getting started tutorial: https://docs.openstack.org/charm-guide/latest/getting-started/index.html ",14,2476
openstack%2Fironic~bugfix%2F18.1~I2b8402865e598f29111ffeefde85e8850cbcc6b6,openstack/ironic,bugfix/18.1,I2b8402865e598f29111ffeefde85e8850cbcc6b6,Testing CI,ABANDONED,2022-05-31 17:48:19.000000000,2022-05-31 18:53:06.000000000,,[],"[{'number': 1, 'created': '2022-05-31 17:48:19.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b372866d1618cee4fd0745a26c202112a0d02072', 'message': 'Testing CI\n\nChange-Id: I2b8402865e598f29111ffeefde85e8850cbcc6b6\n'}]",0,844119,b372866d1618cee4fd0745a26c202112a0d02072,4,0,1,15519,,,0,"Testing CI

Change-Id: I2b8402865e598f29111ffeefde85e8850cbcc6b6
",git fetch https://review.opendev.org/openstack/ironic refs/changes/19/844119/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,b372866d1618cee4fd0745a26c202112a0d02072,test_ci,# test,,1,0
openstack%2Fironic-python-agent~bugfix%2F8.3~I261207ee5c06381d128793c34e285ba3ff662814,openstack/ironic-python-agent,bugfix/8.3,I261207ee5c06381d128793c34e285ba3ff662814,Fix bugfix/8.3,MERGED,2022-05-17 14:37:06.000000000,2022-05-31 18:33:36.000000000,2022-05-31 18:30:53.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-17 14:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c4b9dc01ab79fb074426465c64e603c1a80a5b58', 'message': 'Fix ironic-standalone-ipa-src in 8.3\n\nUse the right stable branches in the job config\n\nChange-Id: I261207ee5c06381d128793c34e285ba3ff662814\n'}, {'number': 2, 'created': '2022-05-30 12:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/bad59f56d81a534a3c9cd83d9aaff9258108e752', 'message': 'Fix bugfix/8.3\n\nUse the right stable branches in the job config\n\nChange-Id: I261207ee5c06381d128793c34e285ba3ff662814\n'}, {'number': 3, 'created': '2022-05-30 17:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f209736a0b3df67856a7228c74233c604e42039b', 'message': 'Fix bugfix/8.3\n\nUse the right stable branches in the job config\n\nChange-Id: I261207ee5c06381d128793c34e285ba3ff662814\n'}, {'number': 4, 'created': '2022-05-30 17:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/af338d629ccfa8ffff657c38dba8dd4bb66149bc', 'message': 'Fix bugfix/8.3\n\nUse the right stable branches in the job config\n\nChange-Id: I261207ee5c06381d128793c34e285ba3ff662814\n'}, {'number': 5, 'created': '2022-05-30 19:15:05.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/27bfbc2adfe57fc6043bb72ccb5a981daadccfe9', 'message': 'Fix bugfix/8.3\n\nUse the right stable branches in the job config\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/843822\n\nChange-Id: I261207ee5c06381d128793c34e285ba3ff662814\n'}]",5,842125,27bfbc2adfe57fc6043bb72ccb5a981daadccfe9,23,5,5,15519,,,0,"Fix bugfix/8.3

Use the right stable branches in the job config

Depends-On: https://review.opendev.org/c/openstack/ironic/+/843822

Change-Id: I261207ee5c06381d128793c34e285ba3ff662814
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/25/842125/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-python-agent-jobs.yaml'],1,c4b9dc01ab79fb074426465c64e603c1a80a5b58,fix-standalone-ipa-src-8.3, override-checkout: stable/yoga - name: openstack/requirements override-checkout: stable/yoga, override-checkout: master,3,1
openstack%2Fcharm-guide~master~I933916e1a77e108ec255289e562149240ba09470,openstack/charm-guide,master,I933916e1a77e108ec255289e562149240ba09470,Copy storage pages from deploy-guide,MERGED,2022-05-31 01:33:46.000000000,2022-05-31 18:25:26.000000000,2022-05-31 18:24:10.000000000,"[{'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 01:33:46.000000000', 'files': ['doc/source/admin/storage/cinder-replication-overlay.rst', 'doc/source/admin/index.rst', 'doc/source/admin/storage/encryption-at-rest.rst', 'doc/source/admin/storage/ceph-rbd-mirror.rst', 'doc/source/admin/storage/cinder-replication-dr.rst', 'doc/source/admin/storage/cinder-replication.rst', 'doc/source/admin/storage/shared-filesystem-services.rst', 'doc/source/admin/storage/swift.rst', 'doc/source/admin/storage/ceph-erasure-coding.rst', 'doc/source/admin/storage/ceph-rgw-multisite.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/1085ac2546f38ec5c304cdfc5f75d755ed762d7a', 'message': 'Copy storage pages from deploy-guide\n\nThis PR is part of the ongoing work to migrate pages\nfrom the deploy-guide to the charm-guide that are not\nspecific to a test cloud-deployment.\n\nChange-Id: I933916e1a77e108ec255289e562149240ba09470\n'}]",1,843981,1085ac2546f38ec5c304cdfc5f75d755ed762d7a,7,2,1,30561,,,0,"Copy storage pages from deploy-guide

This PR is part of the ongoing work to migrate pages
from the deploy-guide to the charm-guide that are not
specific to a test cloud-deployment.

Change-Id: I933916e1a77e108ec255289e562149240ba09470
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/81/843981/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/storage/cinder-replication-overlay.rst', 'doc/source/admin/index.rst', 'doc/source/admin/storage/encryption-at-rest.rst', 'doc/source/admin/storage/ceph-rbd-mirror.rst', 'doc/source/admin/storage/cinder-replication-dr.rst', 'doc/source/admin/storage/cinder-replication.rst', 'doc/source/admin/storage/shared-filesystem-services.rst', 'doc/source/admin/storage/swift.rst', 'doc/source/admin/storage/ceph-erasure-coding.rst', 'doc/source/admin/storage/ceph-rgw-multisite.rst']",10,1085ac2546f38ec5c304cdfc5f75d755ed762d7a,copy-storage-pages-from-cdg,"======================================== Ceph RADOS Gateway multisite replication ======================================== Overview ++++++++ Ceph RADOS Gateway (RGW) native replication between ceph-radosgw applications is supported both within a single model and between different models. By default, each application will accept write operations. .. note:: Multisite replication is supported starting with Ceph Luminous. .. warning:: Converting from a standalone deployment to a replicated deployment is not supported. Deployment ++++++++++ .. note:: Example bundles for the us-west and us-east models can be found in the `bundles` subdirectory of the ceph-radosgw charm. To deploy the ceph-radosgw charm in this configuration ensure that the following configuration options are set on the instances of the ceph-radosgw deployed - in this example `rgw-us-east` and `rgw-us-west` are both instances of the ceph-radosgw charm: .. code:: rgw-us-east: realm: replicated zonegroup: us zone: us-east rgw-us-west: realm: replicated zonegroup: us zone: us-west .. note:: The realm and zonegroup configuration must be identical between instances of the ceph-radosgw application participating in the multi-site deployment; the zone configuration must be unique per application. When deploying with this configuration the ceph-radosgw applications will deploy into a blocked state until the master/slave (cross-model) relation is added. Typically each ceph-radosgw deployment will be associated with a separate ceph cluster at different physical locations - in this example the deployments are in different models ('us-east' and 'us-west'). One ceph-radosgw application acts as the initial master for the deployment - setup the master relation endpoint as the provider of the offer for the cross-model relation: .. code:: juju offer -m us-east rgw-us-east:master The cross-model relation offer can then be consumed in the other model and related to the slave ceph-radosgw application: .. code:: juju consume -m us-west admin/us-east.rgw-us-east juju add-relation -m us-west rgw-us-west:slave rgw-us-east:master Once the relation has been added the realm, zonegroup and zone configuration will be created in the master deployment and then synced to the slave deployment. The current sync status can be validated from either model: .. code:: juju ssh -m us-east ceph-mon/0 sudo radosgw-admin sync status realm 142eb39c-67c4-42b3-9116-1f4ffca23964 (replicated) zonegroup 7b69f059-425b-44f5-8a21-ade63c2034bd (us) zone 4ee3bc39-b526-4ac9-a233-64ebeacc4574 (us-east) metadata sync no sync (zone is master) data sync source: db876cf0-62a8-4b95-88f4-d0f543136a07 (us-west) syncing full sync: 0/128 shards incremental sync: 128/128 shards data is caught up with source Once the deployment is complete, the default zone and zonegroup can optionally be tidied using the 'tidydefaults' action: .. code:: juju run-action -m us-west --unit rgw-us-west/0 tidydefaults .. warning:: This operation is not reversible. Failover/Recovery +++++++++++++++++ In the event that the site hosting the zone which is the master for metadata (in this example us-east) has an outage, the master metadata zone must be failed over to the slave site; this operation is performed using the 'promote' action: .. code:: juju run-action -m us-west --wait rgw-us-west/0 promote Once this action has completed, the slave site will be the master for metadata updates and the deployment will accept new uploads of data. Once the failed site has been recovered it will resync and resume as a slave to the promoted master site (us-west in this example). The master metadata zone can be failed back to its original location once resync has completed using the 'promote' action: .. code:: juju run-action -m us-east --wait rgw-us-east/0 promote Read/write vs Read-only ----------------------- By default all zones within a deployment will be read/write capable but only the master zone can be used to create new containers. Non-master zones can optionally be marked as read-only by using the 'readonly' action: .. code:: juju run-action -m us-east --wait rgw-us-east/0 readonly a zone that is currently read-only can be switched to read/write mode by either promoting it to be the current master or by using the 'readwrite' action: .. code:: juju run-action -m us-east --wait rgw-us-east/0 readwrite ",,2476,0
openstack%2Fkayobe~stable%2Fwallaby~Ia57a82ced121777e06af228d54fd14a892f0ecf0,openstack/kayobe,stable/wallaby,Ia57a82ced121777e06af228d54fd14a892f0ecf0,CI: Disable horizon in upgrade jobs to save disk space,MERGED,2022-05-31 12:41:00.000000000,2022-05-31 18:06:15.000000000,2022-05-31 18:04:39.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 12:41:00.000000000', 'files': ['playbooks/kayobe-overcloud-upgrade-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4d68a5dd5e94fe6ebc879485bf379e3a80a53f0a', 'message': 'CI: Disable horizon in upgrade jobs to save disk space\n\nWe see frequent failures of kayobe-overcloud-upgrade-centos8s due to\nlack of disk space. Disable horizon in an attempt to free up extra\nspace, since we do not need it for our testing.\n\nChange-Id: Ia57a82ced121777e06af228d54fd14a892f0ecf0\n'}]",1,844046,4d68a5dd5e94fe6ebc879485bf379e3a80a53f0a,9,4,1,15197,,,0,"CI: Disable horizon in upgrade jobs to save disk space

We see frequent failures of kayobe-overcloud-upgrade-centos8s due to
lack of disk space. Disable horizon in an attempt to free up extra
space, since we do not need it for our testing.

Change-Id: Ia57a82ced121777e06af228d54fd14a892f0ecf0
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/46/844046/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/kayobe-overcloud-upgrade-base/overrides.yml.j2'],1,4d68a5dd5e94fe6ebc879485bf379e3a80a53f0a,,# Disable heat and horizon to save disk space.kolla_enable_horizon: false,# Disable heat to save disk space.,2,1
openstack%2Ftripleo-heat-templates~master~I8fbe512a8fd2f281e0e74c5db061a1d03b085527,openstack/tripleo-heat-templates,master,I8fbe512a8fd2f281e0e74c5db061a1d03b085527,Manage masquerade via Ansible instead of Puppet,MERGED,2022-05-25 12:52:56.000000000,2022-05-31 18:00:18.000000000,2022-05-31 18:00:18.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-05-25 12:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6fb9f8c88a0a392900f5e10c9f79a139a4330e89', 'message': 'Manage masquerade via Ansible instead of Puppet\n\nChange-Id: I8fbe512a8fd2f281e0e74c5db061a1d03b085527\n'}, {'number': 2, 'created': '2022-05-25 12:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b756dddc1fd93abc0f383b801a1bc639d61c865', 'message': 'Manage masquerade via Ansible instead of Puppet\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/836871\nChange-Id: I8fbe512a8fd2f281e0e74c5db061a1d03b085527\n'}, {'number': 3, 'created': '2022-05-25 13:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6eb66751e1615190d1049f136041f67cc41c2ce2', 'message': 'Manage masquerade via Ansible instead of Puppet\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/836871\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/843196\nChange-Id: I8fbe512a8fd2f281e0e74c5db061a1d03b085527\n'}, {'number': 4, 'created': '2022-05-30 06:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7386a25e871be444421b20df3204614c14ccaa09', 'message': 'Manage masquerade via Ansible instead of Puppet\n\nThis last step should allow to get rid of the puppet-firewall module.\n\nChange-Id: I8fbe512a8fd2f281e0e74c5db061a1d03b085527\n'}, {'number': 5, 'created': '2022-05-30 06:55:05.000000000', 'files': ['environments/services/masquerade-networks.yaml', 'deployment/masquerade-networks/masquerade-networks-baremetal-ansible.yaml', 'deployment/deprecated/masquerade-networks/masquerade-networks-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1b989471d21f74df582ce48846c7c07257df9ce', 'message': 'Manage masquerade via Ansible instead of Puppet\n\nThis last step should allow to get rid of the puppet-firewall module.\n\nChange-Id: I8fbe512a8fd2f281e0e74c5db061a1d03b085527\n'}]",9,843275,b1b989471d21f74df582ce48846c7c07257df9ce,21,9,5,28223,,,0,"Manage masquerade via Ansible instead of Puppet

This last step should allow to get rid of the puppet-firewall module.

Change-Id: I8fbe512a8fd2f281e0e74c5db061a1d03b085527
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/843275/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/masquerade-networks.yaml', 'deployment/masquerade-networks/masquerade-networks-baremetal-ansible.yaml', 'deployment/deprecated/masquerade-networks/masquerade-networks-baremetal-puppet.yaml']",3,6fb9f8c88a0a392900f5e10c9f79a139a4330e89,masquerade-ansible,,,42,1
openstack%2Fglance~master~I3dfbe5bbb6cc214d4686e661e0327137b439a7c5,openstack/glance,master,I3dfbe5bbb6cc214d4686e661e0327137b439a7c5,Add support for Guru Meditation Reports for glance,ABANDONED,2017-03-13 08:26:22.000000000,2022-05-31 17:50:12.000000000,,"[{'_account_id': 5202}, {'_account_id': 8158}, {'_account_id': 8846}, {'_account_id': 24883}]","[{'number': 1, 'created': '2017-03-13 08:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d85401190b4827b433c0945ac8d59b6d35e21af5', 'message': 'Add support for Guru Meditation Reports for glance\n\nOslo_reports enables OpenStack projects to dump Guru Meditation\nReports with useful debugging information to files or stderr.\nSo we introduce it into manila.\n\nChange-Id: I3dfbe5bbb6cc214d4686e661e0327137b439a7c5\nImplements: blueprint guru-meditation-report\n'}, {'number': 2, 'created': '2017-03-13 08:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2dcf037a17f1ef7b3062e4b98c703d860d75f5dd', 'message': 'Add support for Guru Meditation Reports for glance\n\nOslo_reports enables OpenStack projects to dump Guru Meditation\nReports with useful debugging information to files or stderr.\nSo we introduce it into glance.\n\nImplements: blueprint guru-meditation-report\n\nChange-Id: I3dfbe5bbb6cc214d4686e661e0327137b439a7c5\n'}, {'number': 3, 'created': '2017-03-13 10:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2ed56beb2d5e8cbdf849a6f144f2a749b017f79c', 'message': 'Add support for Guru Meditation Reports for glance\n\nOslo_reports enables OpenStack projects to dump Guru Meditation\nReports with useful debugging information to files or stderr.\nSo we introduce it into glance.\n\nImplements: blueprint guru-meditation-report\n\nChange-Id: I3dfbe5bbb6cc214d4686e661e0327137b439a7c5\n'}, {'number': 4, 'created': '2017-03-14 01:10:39.000000000', 'files': ['doc/source/index.rst', 'requirements.txt', 'glance/cmd/api.py', 'doc/source/gmr.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/559a8015111a9896fa46727952a6830f4622af8e', 'message': 'Add support for Guru Meditation Reports for glance\n\nOslo_reports enables OpenStack projects to dump Guru Meditation\nReports with useful debugging information to files or stderr.\nSo we introduce it into glance.\n\nImplements: blueprint guru-meditation-report\n\nChange-Id: I3dfbe5bbb6cc214d4686e661e0327137b439a7c5\n'}]",4,444755,559a8015111a9896fa46727952a6830f4622af8e,14,4,4,24883,,,0,"Add support for Guru Meditation Reports for glance

Oslo_reports enables OpenStack projects to dump Guru Meditation
Reports with useful debugging information to files or stderr.
So we introduce it into glance.

Implements: blueprint guru-meditation-report

Change-Id: I3dfbe5bbb6cc214d4686e661e0327137b439a7c5
",git fetch https://review.opendev.org/openstack/glance refs/changes/55/444755/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'requirements.txt', 'glance/cmd/api.py', 'doc/source/gmr.rst']",4,d85401190b4827b433c0945ac8d59b6d35e21af5,bp/guru-meditation-report,".. Copyright (c) 2017 OpenStack Foundation All Rights Reserved. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. Guru Meditation Reports ======================= Glance contains a mechanism whereby developers and system administrators can generate a report about the state of a running Glance executable. This report is called a *Guru Meditation Report* (*GMR* for short). Generating a GMR ---------------- A *GMR* can be generated by sending the *USR1* signal to any Glance process with support (see below). The *GMR* will then output to standard error for that particular process. For example, suppose that ``glance-api`` has process id ``8675``, and was run with ``2>/var/log/glance/glance-api-err.log``. Then, ``kill -USR1 8675`` will trigger the Guru Meditation report to be printed to ``/var/log/glance/glance-api-err.log``. There is other way to trigger a generation of report, user should add a configuration in Glance's conf file:: [oslo_reports] file_event_handler=['The path to a file to watch for changes to trigger ' 'the reports, instead of signals. Setting this option ' 'disables the signal trigger for the reports.'] file_event_handler_interval=['How many seconds to wait between polls when ' 'file_event_handler is set, default value ' 'is 1'] a *GMR* can be generated by ""touch""ing the file which was specified in file_event_handler. The *GMR* will then output to standard error for that particular process. For example, suppose that ``glance-api`` was run with ``2>/var/log/glance/glance-api-err.log``, and the file path is ``/tmp/guru_report``. Then, ``touch /tmp/guru_report`` will trigger the Guru Meditation report to be printed to ``/var/log/glance/glance-api-err.log``. Structure of a GMR ------------------ The *GMR* is designed to be extensible; any particular executable may add its own sections. However, the base *GMR* consists of several sections: Package Shows information about the package to which this process belongs, including version information Threads Shows stack traces and thread ids for each of the threads within this process Green Threads Shows stack traces for each of the green threads within this process (green threads don't have thread ids) Configuration Lists all the configuration options currently accessible via the CONF object for the current process Adding Support for GMRs to New Executables ------------------------------------------ Adding support for a *GMR* to a given executable is fairly easy. First import the module (currently residing in oslo-incubator), as well as the Glance version module: .. code-block:: python from oslo_reports import guru_meditation_report as gmr from glance import version Then, register any additional sections (optional): .. code-block:: python TextGuruMeditation.register_section('Some Special Section', some_section_generator) Finally (under main), before running the ""main loop"" of the executable (usually ``service.server(server)`` or something similar), register the *GMR* hook: .. code-block:: python TextGuruMeditation.setup_autorun(version) Extending the GMR ----------------- As mentioned above, additional sections can be added to the GMR for a particular executable. For more information, see the inline documentation about oslo.reports: `oslo.reports <http://docs.openstack.org/developer/oslo.reports/>`_",,337,220
openstack%2Fbarbican~stable%2Fxena~I0dc603a3e3a894fee774483a70285d47b57abdf8,openstack/barbican,stable/xena,I0dc603a3e3a894fee774483a70285d47b57abdf8,"Allow users with ""creator"" role to edit ACLs",MERGED,2022-05-27 15:45:45.000000000,2022-05-31 17:29:56.000000000,2022-05-31 17:28:30.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 15:45:45.000000000', 'files': ['barbican/tests/api/controllers/test_acls.py', 'barbican/common/policies/acls.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/bb2779473f786f3bb7b84bc4f445089da8cbfe88', 'message': 'Allow users with ""creator"" role to edit ACLs\n\nThis patch updates the default policy to allow users with the\n""creator"" role to edit Secret and Container ACLs.\n\nSecrets that have an ACL set to private will only be able to be edited\nby the user who owns the secret.\n\nChange-Id: I0dc603a3e3a894fee774483a70285d47b57abdf8\n'}]",0,843630,bb2779473f786f3bb7b84bc4f445089da8cbfe88,7,2,1,9914,,,0,"Allow users with ""creator"" role to edit ACLs

This patch updates the default policy to allow users with the
""creator"" role to edit Secret and Container ACLs.

Secrets that have an ACL set to private will only be able to be edited
by the user who owns the secret.

Change-Id: I0dc603a3e3a894fee774483a70285d47b57abdf8
",git fetch https://review.opendev.org/openstack/barbican refs/changes/30/843630/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/tests/api/controllers/test_acls.py', 'barbican/common/policies/acls.py']",2,bb2779473f786f3bb7b84bc4f445089da8cbfe88,," check_str='rule:secret_project_admin or rule:secret_project_creator ' + 'or (rule:secret_project_creator_role and ' + 'rule:secret_non_private_read) or ' + f""({_SECRET_MEMBER} and ({_SECRET_CREATOR} or "" + check_str='rule:secret_project_admin or rule:secret_project_creator ' + 'or (rule:secret_project_creator_role and ' + 'rule:secret_non_private_read) or ' + f""({_SECRET_MEMBER} and ({_SECRET_CREATOR} or "" + '(rule:container_project_creator_role and' + ' rule:container_non_private_read) or ' + '(rule:container_project_creator_role and' + ' rule:container_non_private_read) or ' +"," check_str='rule:secret_project_admin or rule:secret_project_creator' + f"" or ({_SECRET_MEMBER} and ({_SECRET_CREATOR} or "" + check_str='rule:secret_project_admin or rule:secret_project_creator' + f"" or ({_SECRET_MEMBER} and ({_SECRET_CREATOR} or "" +",24,16
openstack%2Fdesignate~stable%2Fussuri~I9c2616153c4a7431c04e8d19780429477d828ddc,openstack/designate,stable/ussuri,I9c2616153c4a7431c04e8d19780429477d828ddc,Pin designate-tempest-plugin for stable/ussuri jobs,MERGED,2022-05-28 06:27:25.000000000,2022-05-31 17:28:13.000000000,2022-05-31 17:24:59.000000000,"[{'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-28 06:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/94d9020acbde513641248037e3defa10f6a6389e', 'message': 'DNM: Testing tempest pin on stable/ussuri\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nChange-Id: I9c2616153c4a7431c04e8d19780429477d828ddc\n'}, {'number': 2, 'created': '2022-05-28 18:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/864826892e17ff686ce78b8b972e26b2b8855cc5', 'message': 'Pin designate-tempest-plugin for stable/ussuri jobs\n\nAs stable/victoria are in EM phase, and QA team pinning\ntempest 26.1.0 for stable/ussuri\n\n- https://review.opendev.org/c/openstack/devstack/+/838051\n\nTo have compatible designate-tempest-plugin version with Tempest\n26.1.0, we need to pin designate-tempest-plugin 0.8.0 version.\n\nmaster designate-tempest-plugin is not comaptbile with Tempest 26.1.0\n- https://zuul.opendev.org/t/openstack/build/2929fb6cdbe149adb9c29e7fffcfaedc\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nChange-Id: I9c2616153c4a7431c04e8d19780429477d828ddc\n'}, {'number': 3, 'created': '2022-05-28 18:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/96e0412f2677c8806cb9ed821932aa3186816ba1', 'message': 'Pin designate-tempest-plugin for stable/ussuri jobs\n\nAs stable/victoria are in EM phase, and QA team pinning\ntempest 26.1.0 for stable/ussuri\n\n- https://review.opendev.org/c/openstack/devstack/+/838051\n\nTo have compatible designate-tempest-plugin version with Tempest\n26.1.0, we need to pin designate-tempest-plugin 0.8.0 version.\n\nmaster designate-tempest-plugin is not comaptbile with Tempest 26.1.0\n- https://zuul.opendev.org/t/openstack/build/2929fb6cdbe149adb9c29e7fffcfaedc\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/838053\nChange-Id: I9c2616153c4a7431c04e8d19780429477d828ddc\n'}, {'number': 4, 'created': '2022-05-28 19:48:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/8e9176c8769a35f797cc1f23d3cc49a2e77c6233', 'message': 'Pin designate-tempest-plugin for stable/ussuri jobs\n\nAs stable/victoria are in EM phase, and QA team pinning\ntempest 26.1.0 for stable/ussuri\n\n- https://review.opendev.org/c/openstack/devstack/+/838051\n\nTo have compatible designate-tempest-plugin version with Tempest\n26.1.0, we need to pin designate-tempest-plugin 0.8.0 version.\n\nmaster designate-tempest-plugin is not comaptbile with Tempest 26.1.0\n- https://zuul.opendev.org/t/openstack/build/2929fb6cdbe149adb9c29e7fffcfaedc\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nDepends-On: https://review.opendev.org/c/openstack/devstack-gate/+/843689\nChange-Id: I9c2616153c4a7431c04e8d19780429477d828ddc\n'}]",1,843709,8e9176c8769a35f797cc1f23d3cc49a2e77c6233,13,3,4,8556,,,0,"Pin designate-tempest-plugin for stable/ussuri jobs

As stable/victoria are in EM phase, and QA team pinning
tempest 26.1.0 for stable/ussuri

- https://review.opendev.org/c/openstack/devstack/+/838051

To have compatible designate-tempest-plugin version with Tempest
26.1.0, we need to pin designate-tempest-plugin 0.8.0 version.

master designate-tempest-plugin is not comaptbile with Tempest 26.1.0
- https://zuul.opendev.org/t/openstack/build/2929fb6cdbe149adb9c29e7fffcfaedc

Depends-On: https://review.opendev.org/c/openstack/devstack/+/838051
Depends-On: https://review.opendev.org/c/openstack/devstack-gate/+/843689
Change-Id: I9c2616153c4a7431c04e8d19780429477d828ddc
",git fetch https://review.opendev.org/openstack/designate refs/changes/09/843709/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,94d9020acbde513641248037e3defa10f6a6389e,ussuri-pin-tempest,#test,,1,0
openstack%2Fkeystone-specs~master~Idcfe2957fa83723f6de927ede36d21c7b5e6431e,openstack/keystone-specs,master,Idcfe2957fa83723f6de927ede36d21c7b5e6431e,[WIP] Fix document build,ABANDONED,2022-05-31 15:49:05.000000000,2022-05-31 17:06:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-31 15:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/a5f58a35ce3c120b8278d7784a00d91e55a26423', 'message': '[WIP] Fix document build\n\nChange-Id: Idcfe2957fa83723f6de927ede36d21c7b5e6431e\n'}, {'number': 2, 'created': '2022-05-31 16:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/a0c8e326f0cbd9b1ff11ad7055fffa66b451cef3', 'message': '[WIP] Fix document build\n\nChange-Id: Idcfe2957fa83723f6de927ede36d21c7b5e6431e\n'}, {'number': 3, 'created': '2022-05-31 17:00:55.000000000', 'files': ['.zuul.yaml', 'setup.py'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/2e237c62798f264fa5d02b14aa178cb2f3cb2fd4', 'message': '[WIP] Fix document build\n\nChange-Id: Idcfe2957fa83723f6de927ede36d21c7b5e6431e\n'}]",0,844100,2e237c62798f264fa5d02b14aa178cb2f3cb2fd4,6,1,3,33455,,,0,"[WIP] Fix document build

Change-Id: Idcfe2957fa83723f6de927ede36d21c7b5e6431e
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/00/844100/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a5f58a35ce3c120b8278d7784a00d91e55a26423,bug/1976387,; usedevelop = True,usedevelop = True,1,1
openstack%2Fironic~bugfix%2F19.0~I936f6c1506c585826501ff3ac0bad0c755b4d360,openstack/ironic,bugfix/19.0,I936f6c1506c585826501ff3ac0bad0c755b4d360,Fix ironic-lib from source and branch detection in IPA builds,MERGED,2022-05-30 19:14:31.000000000,2022-05-31 17:04:51.000000000,2022-05-31 17:01:17.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-30 19:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/979ffb1ffc31739a67a9247449e9cb931409e366', 'message': 'Fix ironic-lib from source and branch detection in IPA builds\n\nPrevents the ironic-lib CI from testing ironic-lib changes in IPA.\n\nChange-Id: I936f6c1506c585826501ff3ac0bad0c755b4d360\n(cherry picked from commit b94e52f55a0c4f9d6f3a771179da4ec5ccbddbd7)\n(cherry picked from commit 5a2d2df4725e696242945996996c949a8c2e5f76)\n'}, {'number': 2, 'created': '2022-05-31 00:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/650a00d8f9ed14ca2f2e652882e8d0fe9d3318c2', 'message': 'Fix ironic-lib from source and branch detection in IPA builds\n\nAlso updates tox.ini to use yoga\nPrevents the ironic-lib CI from testing ironic-lib changes in IPA.\n\nChange-Id: I936f6c1506c585826501ff3ac0bad0c755b4d360\n(cherry picked from commit b94e52f55a0c4f9d6f3a771179da4ec5ccbddbd7)\n(cherry picked from commit 5a2d2df4725e696242945996996c949a8c2e5f76)\n'}, {'number': 3, 'created': '2022-05-31 00:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e51820f6b7af2082884335fef61a4d99a3792feb', 'message': 'Fix ironic-lib from source and branch detection in IPA builds\n\nAlso updates tox.ini and tempaltes jobs to use yoga\nPrevents the ironic-lib CI from testing ironic-lib changes in IPA.\n\nChange-Id: I936f6c1506c585826501ff3ac0bad0c755b4d360\n(cherry picked from commit b94e52f55a0c4f9d6f3a771179da4ec5ccbddbd7)\n(cherry picked from commit 5a2d2df4725e696242945996996c949a8c2e5f76)\n'}, {'number': 4, 'created': '2022-05-31 00:59:33.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d3c925072530158683f4832e2e779e2f489eee29', 'message': 'Fix ironic-lib from source and branch detection in IPA builds\n\nAlso updates tox.ini and tempaltes jobs to use yoga\nPrevents the ironic-lib CI from testing ironic-lib changes in IPA.\n\nChange-Id: I936f6c1506c585826501ff3ac0bad0c755b4d360\n(cherry picked from commit b94e52f55a0c4f9d6f3a771179da4ec5ccbddbd7)\n(cherry picked from commit 5a2d2df4725e696242945996996c949a8c2e5f76)\n'}]",1,843822,d3c925072530158683f4832e2e779e2f489eee29,23,3,4,15519,,,0,"Fix ironic-lib from source and branch detection in IPA builds

Also updates tox.ini and tempaltes jobs to use yoga
Prevents the ironic-lib CI from testing ironic-lib changes in IPA.

Change-Id: I936f6c1506c585826501ff3ac0bad0c755b4d360
(cherry picked from commit b94e52f55a0c4f9d6f3a771179da4ec5ccbddbd7)
(cherry picked from commit 5a2d2df4725e696242945996996c949a8c2e5f76)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/22/843822/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,979ffb1ffc31739a67a9247449e9cb931409e366,," if [ -e $DEST/ironic-lib ]; then export IRONIC_LIB_SOURCE=""$DEST/ironic-lib"" fi if [ -e $DEST/ironic-lib ]; then export DIB_REPOREF_ironic_lib=$TARGET_BRANCH DIB_REPOREF_ironic_python_agent=$TARGET_BRANCH \ DIB_REPOREF_requirements=$TARGET_BRANCH \", if -e $DEST/ironic-lib; then,7,1
openstack%2Fpuppet-neutron~master~I57dc8ed3d55af33081a88e4b810d276ba9d98630,openstack/puppet-neutron,master,I57dc8ed3d55af33081a88e4b810d276ba9d98630,Deprecate support for networking-ansible,MERGED,2022-05-23 16:04:15.000000000,2022-05-31 17:00:53.000000000,2022-05-31 16:59:33.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-23 16:04:15.000000000', 'files': ['releasenotes/notes/deprecate-networking-ansible-af719626422d0636.yaml', 'manifests/plugins/ml2/networking_ansible.pp', 'manifests/plugins/ml2/networking_ansible_host.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/f82a231bad28f8bf9c4c2b3938d99091a54cfd3a', 'message': ""Deprecate support for networking-ansible\n\nThe networking-ansible project[1] has been unmaintained. The project\ndoes not provide any release since Victoria.\n\nBecause we haven't heard any interest to manage this plugin using\npuppet-neutron[2], we'll deprecate support for the plugin, and will\nremove the whole implementation after Zed release.\n\n[1] https://opendev.org/x/networking-ansible\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028503.html\n\nChange-Id: I57dc8ed3d55af33081a88e4b810d276ba9d98630\n""}]",0,842996,f82a231bad28f8bf9c4c2b3938d99091a54cfd3a,10,4,1,9816,,,0,"Deprecate support for networking-ansible

The networking-ansible project[1] has been unmaintained. The project
does not provide any release since Victoria.

Because we haven't heard any interest to manage this plugin using
puppet-neutron[2], we'll deprecate support for the plugin, and will
remove the whole implementation after Zed release.

[1] https://opendev.org/x/networking-ansible
[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028503.html

Change-Id: I57dc8ed3d55af33081a88e4b810d276ba9d98630
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/96/842996/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-networking-ansible-af719626422d0636.yaml', 'manifests/plugins/ml2/networking_ansible.pp', 'manifests/plugins/ml2/networking_ansible_host.pp']",3,f82a231bad28f8bf9c4c2b3938d99091a54cfd3a,deprecate-networking-ansible,# == Define: neutron::plugins::ml2::networking_ansible_host# DEPRECATED !! # Defined type for networking-ansible configuration for a host/switch warning('Support for networking-ansible has been deprecated and \ will be removed in a future release.') ,# Defined type for networking-ansible configuration for a host/switch# == Class: neutron::plugins::ml2::networking_ansible_host,16,3
openstack%2Fcharm-guide~master~I9ca6a7c4d1d2ed05331195c2e2d2424393062186,openstack/charm-guide,master,I9ca6a7c4d1d2ed05331195c2e2d2424393062186,Add ceph-nfs to charm list,MERGED,2022-05-31 16:39:46.000000000,2022-05-31 17:00:50.000000000,2022-05-31 16:59:27.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 16:39:46.000000000', 'files': ['doc/source/project/openstack-charms.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/b50b8b567fcba6681086ce39e15832ffbbdbb6af', 'message': 'Add ceph-nfs to charm list\n\nAdd the ceph-nfs charm to the list of charms. This\ncharm is currently in tech-preview.\n\nCloses-Bug: #1976337\nChange-Id: I9ca6a7c4d1d2ed05331195c2e2d2424393062186\n'}]",0,844109,b50b8b567fcba6681086ce39e15832ffbbdbb6af,7,2,1,30561,,,0,"Add ceph-nfs to charm list

Add the ceph-nfs charm to the list of charms. This
charm is currently in tech-preview.

Closes-Bug: #1976337
Change-Id: I9ca6a7c4d1d2ed05331195c2e2d2424393062186
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/09/844109/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/project/openstack-charms.rst'],1,b50b8b567fcba6681086ce39e15832ffbbdbb6af,add-ceph-nfs-charm-to-list,* `ceph-nfs`_.. _ceph-nfs: https://opendev.org/openstack/charm-ceph-nfs,,2,0
openstack%2Fdevstack~master~I8b19a81ca49e4be7ced34b163e1de9383263028e,openstack/devstack,master,I8b19a81ca49e4be7ced34b163e1de9383263028e,Parallelize some rpc setup and user environment,NEW,2021-02-04 00:24:11.000000000,2022-05-31 16:55:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-04 00:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c2a125cdc10e61c90ed4bc03d22db682417ee252', 'message': 'Parallelize some rpc setup and user environment\n\nThis parallelizes the post-install restart_rpc_backend work.\nAlso, we can create the userrc and osc completion map in the\nbackground while we finish up other things.\n\nChange-Id: I8b19a81ca49e4be7ced34b163e1de9383263028e\n'}, {'number': 2, 'created': '2021-02-09 19:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4a092b9c7cfa7e4c05ede51ef819af02375a21b8', 'message': 'Parallelize some rpc setup and user environment\n\nThis parallelizes the post-install restart_rpc_backend work.\nAlso, we can create the userrc and osc completion map in the\nbackground while we finish up other things.\n\nChange-Id: I8b19a81ca49e4be7ced34b163e1de9383263028e\n'}, {'number': 3, 'created': '2021-02-09 20:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/07b195743bc24a709f41b9b42600050f6a5ba483', 'message': 'Parallelize some rpc setup and user environment\n\nThis parallelizes the post-install restart_rpc_backend work.\nAlso, we can create the userrc and osc completion map in the\nbackground while we finish up other things.\n\nChange-Id: I8b19a81ca49e4be7ced34b163e1de9383263028e\n'}, {'number': 4, 'created': '2021-02-09 23:57:17.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/2793734052f5312b9a7e62e27054bf5ff4ea9219', 'message': 'Parallelize some rpc setup and user environment\n\nThis parallelizes the post-install restart_rpc_backend work.\nAlso, we can create the userrc and osc completion map in the\nbackground while we finish up other things.\n\nChange-Id: I8b19a81ca49e4be7ced34b163e1de9383263028e\n'}]",3,774018,2793734052f5312b9a7e62e27054bf5ff4ea9219,11,1,4,4393,,,0,"Parallelize some rpc setup and user environment

This parallelizes the post-install restart_rpc_backend work.
Also, we can create the userrc and osc completion map in the
background while we finish up other things.

Change-Id: I8b19a81ca49e4be7ced34b163e1de9383263028e
",git fetch https://review.opendev.org/openstack/devstack refs/changes/18/774018/2 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,c2a125cdc10e61c90ed4bc03d22db682417ee252,async,async_runfunc restart_rpc_backendasync_wait restart_rpc_backend async_run create_userrc $TOP_DIR/tools/create_userrc.sh $USERRC_PARAMSfunction write_osc_completion { command openstack complete \ | sudo tee /etc/bash_completion.d/osc.bash_completion > /dev/null } async_runfunc write_osc_completionasync_wait create_userrc write_osc_completion ,restart_rpc_backend $TOP_DIR/tools/create_userrc.sh $USERRC_PARAMScommand openstack complete \ | sudo tee /etc/bash_completion.d/osc.bash_completion > /dev/null,12,4
openstack%2Fcloudkitty~master~I7813dbbe63a8a4eb2c091889ff7f76af1a065e7c,openstack/cloudkitty,master,I7813dbbe63a8a4eb2c091889ff7f76af1a065e7c,Fix CloudKitty CI build error due to Voluptuous bug,ABANDONED,2022-05-30 17:16:17.000000000,2022-05-31 16:53:51.000000000,,"[{'_account_id': 3031}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 17:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/35a253cb511d5f9f772e1b00e95c3b83abca8c5e', 'message': 'Fix CloudKitty CI build error due to Voluptuous bug\n\nChange-Id: I7813dbbe63a8a4eb2c091889ff7f76af1a065e7c\n'}, {'number': 2, 'created': '2022-05-30 18:13:45.000000000', 'files': ['cloudkitty/dataframe.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/5726db9a443791e89677c7b908878cc9b730a899', 'message': 'Fix CloudKitty CI build error due to Voluptuous bug\n\nChange-Id: I7813dbbe63a8a4eb2c091889ff7f76af1a065e7c\n'}]",3,843941,5726db9a443791e89677c7b908878cc9b730a899,9,3,2,28356,,,0,"Fix CloudKitty CI build error due to Voluptuous bug

Change-Id: I7813dbbe63a8a4eb2c091889ff7f76af1a065e7c
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/41/843941/2 && git format-patch -1 --stdout FETCH_HEAD,['cloudkitty/dataframe.py'],1,35a253cb511d5f9f772e1b00e95c3b83abca8c5e,fix-CI-error," datetime.datetime, voluptuous.Coerce(tzutils.dt_from_iso), ""Begin datetime string format is not correct.""), datetime.datetime, voluptuous.Coerce(tzutils.dt_from_iso), ""End datetime string format is not correct.""),"," datetime.datetime, voluptuous.Coerce(tzutils.dt_from_iso)), datetime.datetime, voluptuous.Coerce(tzutils.dt_from_iso)),",4,2
openstack%2Fpuppet-neutron~master~I17fdf2b98fde2149ac0be32c64674c3b6da26aaa,openstack/puppet-neutron,master,I17fdf2b98fde2149ac0be32c64674c3b6da26aaa,ovs-agent: Avoid hard-coding defaults,MERGED,2022-04-03 13:24:45.000000000,2022-05-31 16:32:24.000000000,2022-05-31 16:32:24.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-03 13:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/b1a75833c50944ff178beb6c8ecc4ae73d999db0', 'message': 'ovs-agent: Avoid hard-coding defaults\n\nThis change removes the hard-coded defaults and let the service default\nvalues used. The new configurations are effectively same but help us\nreduce maintenance effort to keep puppet implementation up to date.\n\nChange-Id: I17fdf2b98fde2149ac0be32c64674c3b6da26aaa\n'}, {'number': 2, 'created': '2022-04-03 17:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/2f53b1850b6e9670751961dc247834b361d39caf', 'message': 'ovs-agent: Avoid hard-coding defaults\n\nThis change removes the hard-coded defaults and let the service default\nvalues used. The new configurations are effectively same but help us\nreduce maintenance effort to keep puppet implementation up to date.\n\nChange-Id: I17fdf2b98fde2149ac0be32c64674c3b6da26aaa\n'}, {'number': 3, 'created': '2022-04-03 17:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/bf0aadde82c66700d47b13cd6395ef5b922fa099', 'message': 'ovs-agent: Avoid hard-coding defaults\n\nThis change removes the hard-coded defaults and let the service default\nvalues used. The new configurations are effectively same but help us\nreduce maintenance effort to keep puppet implementation up to date.\n\nChange-Id: I17fdf2b98fde2149ac0be32c64674c3b6da26aaa\n'}, {'number': 4, 'created': '2022-05-24 12:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/8738f3f7f12198a5c0b1b6023c99138d6a18b8d6', 'message': 'ovs-agent: Avoid hard-coding defaults\n\nThis change removes the hard-coded defaults and let the service default\nvalues used. The new configurations are effectively same but help us\nreduce maintenance effort to keep puppet implementation up to date.\n\nChange-Id: I17fdf2b98fde2149ac0be32c64674c3b6da26aaa\n'}, {'number': 5, 'created': '2022-05-24 12:29:49.000000000', 'files': ['spec/classes/neutron_agents_ml2_ovs_spec.rb', 'manifests/agents/ml2/ovs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/91b9b468e81c3500d5c2dcca2a7243d48a88deb2', 'message': 'ovs-agent: Avoid hard-coding defaults\n\nThis change removes the hard-coded defaults and let the service default\nvalues used. The new configurations are effectively same but help us\nreduce maintenance effort to keep puppet implementation up to date.\n\nChange-Id: I17fdf2b98fde2149ac0be32c64674c3b6da26aaa\n'}]",0,836241,91b9b468e81c3500d5c2dcca2a7243d48a88deb2,14,4,5,9816,,,0,"ovs-agent: Avoid hard-coding defaults

This change removes the hard-coded defaults and let the service default
values used. The new configurations are effectively same but help us
reduce maintenance effort to keep puppet implementation up to date.

Change-Id: I17fdf2b98fde2149ac0be32c64674c3b6da26aaa
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/41/836241/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_agents_ml2_ovs_spec.rb', 'manifests/agents/ml2/ovs.pp']",2,b1a75833c50944ff178beb6c8ecc4ae73d999db0,,"# Defaults to $::os_service_default# Defaults to $::os_service_default# Defaults to $::os_service_default# Defaults to $::os_service_default $integration_bridge = $::os_service_default, $tunnel_bridge = $::os_service_default, $vxlan_udp_port = $::os_service_default, $drop_flows_on_start = $::os_service_default,","# Defaults to 'br-int'# Defaults to 'br-tun'# Defaults to '4789'# Defaults to false $integration_bridge = 'br-int', $tunnel_bridge = 'br-tun', $vxlan_udp_port = 4789, $drop_flows_on_start = false,",21,24
openstack%2Fovn-octavia-provider~master~I5f5225a94a9a8401d350d2fda987bf68869def22,openstack/ovn-octavia-provider,master,I5f5225a94a9a8401d350d2fda987bf68869def22,Fix way of calculate LB status after HM event,MERGED,2022-05-25 15:55:47.000000000,2022-05-31 16:30:02.000000000,2022-05-31 16:28:23.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-05-25 15:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/326e6df52de456c813796fa09c1ef872b965d11c', 'message': 'Fix way of calculate LB status after HM event\n\nFunction _get_new_operating_statuses was calculating the\nLB status based on the received event together with\ncurrent operating_status of the members, those values\nwere not being stored and therefore were not available\nfor the calculation.\n\nNow those member status are stored in the external_ids\nfield related to the LB under the neutron:member_status tag,\nwhere the uuid of the member and its current status are\nstored.\n\nThis way we can calculate the real-time status of the whole\nLB hierarchy by looking at the values stored there, which\nare updated when HM events are received.\n\nPartial-Bug: #1965772\n\nDepends-On: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/839055\nChange-Id: I5f5225a94a9a8401d350d2fda987bf68869def22\n'}, {'number': 2, 'created': '2022-05-26 17:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/ee1f209a44c802d157f44f7f67238b0dbbd85910', 'message': 'Fix way of calculate LB status after HM event\n\nFunction _get_new_operating_statuses was calculating the\nLB status based on the received event together with\ncurrent operating_status of the members, those values\nwere not being stored and therefore were not available\nfor the calculation.\n\nNow those member status are stored in the external_ids\nfield related to the LB under the neutron:member_status tag,\nwhere the uuid of the member and its current status are\nstored.\n\nThis way we can calculate the real-time status of the whole\nLB hierarchy by looking at the values stored there, which\nare updated when HM events are received.\n\nPartial-Bug: #1965772\n\nDepends-On: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/839055\nChange-Id: I5f5225a94a9a8401d350d2fda987bf68869def22\n'}, {'number': 3, 'created': '2022-05-27 07:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/f68fa7ca399497f226a223fd77c58f8044a9d762', 'message': 'Fix way of calculate LB status after HM event\n\nFunction _get_new_operating_statuses was calculating the\nLB status based on the received event together with\ncurrent operating_status of the members, those values\nwere not being stored and therefore were not available\nfor the calculation.\n\nNow those member status are stored in the external_ids\nfield related to the LB under the neutron:member_status tag,\nwhere the uuid of the member and its current status are\nstored.\n\nThis way we can calculate the real-time status of the whole\nLB hierarchy by looking at the values stored there, which\nare updated when HM events are received.\n\nPartial-Bug: #1965772\n\nDepends-On: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/839055\nChange-Id: I5f5225a94a9a8401d350d2fda987bf68869def22\n'}, {'number': 4, 'created': '2022-05-27 15:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/90efab6826c3fc3b29e976ae8a5176e543864d8d', 'message': 'Fix way of calculate LB status after HM event\n\nFunction _get_new_operating_statuses was calculating the\nLB status based on the received event together with\ncurrent operating_status of the members, those values\nwere not being stored and therefore were not available\nfor the calculation.\n\nNow those member status are stored in the external_ids\nfield related to the LB under the neutron:member_status tag,\nwhere the uuid of the member and its current status are\nstored.\n\nThis way we can calculate the real-time status of the whole\nLB hierarchy by looking at the values stored there, which\nare updated when HM events are received.\n\nPartial-Bug: #1965772\n\nDepends-On: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/839055\nChange-Id: I5f5225a94a9a8401d350d2fda987bf68869def22\n'}, {'number': 5, 'created': '2022-05-30 11:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/8eb096de8fdd290776dec62c4f63abf9756d6c93', 'message': 'Fix way of calculate LB status after HM event\n\nFunction _get_new_operating_statuses was calculating the\nLB status based on the received event together with\ncurrent operating_status of the members, those values\nwere not being stored and therefore were not available\nfor the calculation.\n\nNow those member status are stored in the external_ids\nfield related to the LB under the neutron:member_status tag,\nwhere the uuid of the member and its current status are\nstored.\n\nThis way we can calculate the real-time status of the whole\nLB hierarchy by looking at the values stored there, which\nare updated when HM events are received.\n\nPartial-Bug: #1965772\n\nDepends-On: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/839055\nChange-Id: I5f5225a94a9a8401d350d2fda987bf68869def22\n'}, {'number': 6, 'created': '2022-05-30 16:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/b297cbd3db942c47195e669b52bb529f2012c349', 'message': 'Fix way of calculate LB status after HM event\n\nFunction _get_new_operating_statuses was calculating the\nLB status based on the received event together with\ncurrent operating_status of the members, those values\nwere not being stored and therefore were not available\nfor the calculation.\n\nNow those member status are stored in the external_ids\nfield related to the LB under the neutron:member_status tag,\nwhere the uuid of the member and its current status are\nstored.\n\nThis way we can calculate the real-time status of the whole\nLB hierarchy by looking at the values stored there, which\nare updated when HM events are received.\n\nPartial-Bug: #1965772\n\nDepends-On: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/839055\nChange-Id: I5f5225a94a9a8401d350d2fda987bf68869def22\n'}, {'number': 7, 'created': '2022-05-31 10:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/af585db36e38b449c50c60df0faff5dc0c8a9bfd', 'message': 'Fix way of calculate LB status after HM event\n\nFunction _get_new_operating_statuses was calculating the\nLB status based on the received event together with\ncurrent operating_status of the members, those values\nwere not being stored and therefore were not available\nfor the calculation.\n\nNow those member status are stored in the external_ids\nfield related to the LB under the neutron:member_status tag,\nwhere the uuid of the member and its current status are\nstored.\n\nThis way we can calculate the real-time status of the whole\nLB hierarchy by looking at the values stored there, which\nare updated when HM events are received.\n\nPartial-Bug: #1965772\n\nDepends-On: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/839055\nChange-Id: I5f5225a94a9a8401d350d2fda987bf68869def22\n'}, {'number': 8, 'created': '2022-05-31 11:10:18.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/c478567b4efb669dfb429fb4f3e3bbdb41c622f7', 'message': 'Fix way of calculate LB status after HM event\n\nFunction _get_new_operating_statuses was calculating the\nLB status based on the received event together with\ncurrent operating_status of the members, those values\nwere not being stored and therefore were not available\nfor the calculation.\n\nNow those member status are stored in the external_ids\nfield related to the LB under the neutron:member_status tag,\nwhere the uuid of the member and its current status are\nstored.\n\nThis way we can calculate the real-time status of the whole\nLB hierarchy by looking at the values stored there, which\nare updated when HM events are received.\n\nPartial-Bug: #1965772\n\nDepends-On: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/839055\nChange-Id: I5f5225a94a9a8401d350d2fda987bf68869def22\n'}]",33,843308,c478567b4efb669dfb429fb4f3e3bbdb41c622f7,34,3,8,34451,,,0,"Fix way of calculate LB status after HM event

Function _get_new_operating_statuses was calculating the
LB status based on the received event together with
current operating_status of the members, those values
were not being stored and therefore were not available
for the calculation.

Now those member status are stored in the external_ids
field related to the LB under the neutron:member_status tag,
where the uuid of the member and its current status are
stored.

This way we can calculate the real-time status of the whole
LB hierarchy by looking at the values stored there, which
are updated when HM events are received.

Partial-Bug: #1965772

Depends-On: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/839055
Change-Id: I5f5225a94a9a8401d350d2fda987bf68869def22
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/08/843308/8 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",3,326e6df52de456c813796fa09c1ef872b965d11c,,"from oslo_serialization import jsonutils 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id, ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s""}' % (self.member_id, constants.NO_MONITOR)} 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id, ovn_const.OVN_MEMBER_STATUS_KEY: '{}'} 'listener_%s' % self.listener_id: '80:', ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s""}' % (self.member_id, constants.NO_MONITOR)}))] ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: 'foo_port', ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s""}' % (self.member_id, constants.NO_MONITOR)})) member_status = { ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s""}' % (self.member_id, constants.NO_MONITOR)} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', member_status)) def _test_hm_update_status(self, member_id, ip, port, member_status): self._update_member_status(self.ovn_hm_lb, member_id, member_status) def _update_member_status(self, lb, member_id, member_status): status = constants.ONLINE if member_status == 'offline': status = constants.ERROR try: existing_member_status = lb.external_ids[ ovn_const.OVN_MEMBER_STATUS_KEY] member_statuses = jsonutils.loads(existing_member_status) except Exception: member_statuses = {} member_statuses[member_id] = status lb.external_ids[ ovn_const.OVN_MEMBER_STATUS_KEY] = jsonutils.dumps( member_statuses) existing_member_status = self.ovn_hm_lb.external_ids[ ovn_const.OVN_MEMBER_STATUS_KEY] try: member_statuses = jsonutils.loads(existing_member_status) except Exception: member_statuses = {} member_statuses[member['id']] = constants.ONLINE self.ovn_hm_lb.external_ids[ ovn_const.OVN_MEMBER_STATUS_KEY] = jsonutils.dumps( member_statuses) member_status = '{""%s"": ""%s""}' % (member['id'], constants.ONLINE) self.ovn_hm_lb.external_ids[ ovn_const.OVN_MEMBER_STATUS_KEY] = member_status status = self._test_hm_update_status( member['id'], member['address'], '8080', 'offline') status = self._test_hm_update_status( member['id'], member['address'], '8080', 'offline') constants.ERROR) constants.ERROR) status = self._test_hm_update_status( member['id'], member['address'], '8080', 'online') status = self._test_hm_update_status( member['id'], member['address'], '8080', 'online') status = self._test_hm_update_status( member_1['id'], ip_1, '8080', 'offline') status = self._test_hm_update_status( member_2['id'], ip_2, '8081', 'offline') status = self._test_hm_update_status( member_2['id'], ip_2, '8081', 'offline') member_status = { ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s"", ""%s"": ""%s""}' % (member_1['id'], constants.ONLINE, member_2['id'], constants.ERROR,)} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_hm_lb.uuid, ('external_ids', member_status)) status = self._test_hm_update_status( member_2['id'], ip_2, '8081', 'online')"," 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} 'listener_%s' % self.listener_id: '80:'}))] ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: 'foo_port'})) self.helper.ovn_nbdb_api.db_set.assert_not_called() def _test_hm_update_status(self, ip, port, member_status, lb_status=constants.ONLINE, pool_status=constants.ONLINE): fake_lb = fakes.FakeLB( uuid=uuidutils.generate_uuid(), admin_state_up=True, name='fake_lb', ext_ids={}) fake_pool = fakes.FakePool( uuid=uuidutils.generate_uuid(), admin_state_up=True, name='fake_pool') fake_lb.operating_status = lb_status fake_pool.operating_status = pool_status self.octavia_driver_lib.get_pool.return_value = fake_pool self.octavia_driver_lib.get_loadbalancer.return_value = fake_lb status = self._test_hm_update_status(member['address'], '8080', 'offline') status = self._test_hm_update_status(member['address'], '8080', 'offline', lb_status=constants.OFFLINE, pool_status=constants.OFFLINE) constants.OFFLINE) constants.OFFLINE) status = self._test_hm_update_status(member['address'], '8080', 'online') status = self._test_hm_update_status(member['address'], '8080', 'online', lb_status=constants.OFFLINE, pool_status=constants.OFFLINE) status = self._test_hm_update_status(ip_1, '8081', 'offline') status = self._test_hm_update_status(ip_1, '8081', 'offline') ip_1 = member_1['address'] fake_member.operating_status = constants.ERROR self.octavia_driver_lib.get_member.return_value = fake_member status = self._test_hm_update_status(ip_1, '8081', 'online') status = self._test_hm_update_status(ip_1, '8081', 'online')",240,127
openstack%2Foctavia~stable%2Fvictoria~Id0ba1d06600e025e3825d6c4a2a881b4f7f8d153,openstack/octavia,stable/victoria,Id0ba1d06600e025e3825d6c4a2a881b4f7f8d153,DNM: Testing https://review.opendev.org/c/openstack/tempest/+/843182,ABANDONED,2022-05-24 19:43:37.000000000,2022-05-31 16:29:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-24 19:43:37.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2e62e52bacefe465107283fb9ab4f26f4fb474c8', 'message': 'DNM: Testing https://review.opendev.org/c/openstack/tempest/+/843182\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/843182\nChange-Id: Id0ba1d06600e025e3825d6c4a2a881b4f7f8d153\n'}]",0,843187,2e62e52bacefe465107283fb9ab4f26f4fb474c8,5,1,1,8556,,,0,"DNM: Testing https://review.opendev.org/c/openstack/tempest/+/843182

Depends-On: https://review.opendev.org/c/openstack/tempest/+/843182
Change-Id: Id0ba1d06600e025e3825d6c4a2a881b4f7f8d153
",git fetch https://review.opendev.org/openstack/octavia refs/changes/87/843187/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,2e62e52bacefe465107283fb9ab4f26f4fb474c8,bug/1975036,# Note: Some official OpenStack wide jobs are still defined in the,# Note: Some official OpenStack wide jobs are still defined in the,1,1
openstack%2Fmanila~stable%2Fvictoria~I188e073e18a61765faebedefb469cb73ca285864,openstack/manila,stable/victoria,I188e073e18a61765faebedefb469cb73ca285864,DNM: Testing https://review.opendev.org/c/openstack/tempest/+/843182,ABANDONED,2022-05-24 19:43:36.000000000,2022-05-31 16:29:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 33493}]","[{'number': 1, 'created': '2022-05-24 19:43:36.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/d88e85455ec0a817ca8728beeb12112a661c0b79', 'message': 'DNM: Testing https://review.opendev.org/c/openstack/tempest/+/843182\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/843182\nChange-Id: I188e073e18a61765faebedefb469cb73ca285864\n'}]",0,843185,d88e85455ec0a817ca8728beeb12112a661c0b79,9,2,1,8556,,,0,"DNM: Testing https://review.opendev.org/c/openstack/tempest/+/843182

Depends-On: https://review.opendev.org/c/openstack/tempest/+/843182
Change-Id: I188e073e18a61765faebedefb469cb73ca285864
",git fetch https://review.opendev.org/openstack/manila refs/changes/85/843185/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,d88e85455ec0a817ca8728beeb12112a661c0b79,bug/1975036,# testing,,1,0
openstack%2Fneutron~stable%2Fvictoria~I489e8322f2ae57fd7d09e985e5a66fe749f2c4f5,openstack/neutron,stable/victoria,I489e8322f2ae57fd7d09e985e5a66fe749f2c4f5,DNM: Testing https://review.opendev.org/c/openstack/tempest/+/843182,ABANDONED,2022-05-24 19:43:37.000000000,2022-05-31 16:29:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-24 19:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/300b9eae71af2fc7599310b917525e4d9bfbca2f', 'message': 'DNM: Testing https://review.opendev.org/c/openstack/tempest/+/843182\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/843182\nChange-Id: I489e8322f2ae57fd7d09e985e5a66fe749f2c4f5\n'}, {'number': 2, 'created': '2022-05-29 00:13:24.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec0b3cd8d21463ac06f10534050784bd532da8a5', 'message': 'DNM: Testing https://review.opendev.org/c/openstack/tempest/+/843182\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/843182\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/838053\n\nChange-Id: I489e8322f2ae57fd7d09e985e5a66fe749f2c4f5\n'}]",0,843186,ec0b3cd8d21463ac06f10534050784bd532da8a5,9,1,2,8556,,,0,"DNM: Testing https://review.opendev.org/c/openstack/tempest/+/843182

Depends-On: https://review.opendev.org/c/openstack/tempest/+/843182
Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/838053

Change-Id: I489e8322f2ae57fd7d09e985e5a66fe749f2c4f5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/843186/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,300b9eae71af2fc7599310b917525e4d9bfbca2f,bug/1975036,"# document with summary of all tempest, neutron-tempest-plugin and grenade jobs","# document with summary of all tempest, neutron-tempest-plugin and grenade jobs",1,1
openstack%2Fnova~stable%2Fvictoria~I68e3908a73ed8cd036d529b9eaeec2ce93167fe1,openstack/nova,stable/victoria,I68e3908a73ed8cd036d529b9eaeec2ce93167fe1,DNM: Testing https://review.opendev.org/c/openstack/tempest/+/843182,ABANDONED,2022-05-24 19:43:42.000000000,2022-05-31 16:29:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-24 19:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfbdcde5ceb42f06d7ad0fea6d1d348c66285780', 'message': 'DNM: Testing https://review.opendev.org/c/openstack/tempest/+/843182\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/843182\nChange-Id: I68e3908a73ed8cd036d529b9eaeec2ce93167fe1\n'}, {'number': 2, 'created': '2022-05-29 00:14:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/a01428d45ff983fe7d43c6c284f6e2e35fec420a', 'message': 'DNM: Testing https://review.opendev.org/c/openstack/tempest/+/843182\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/843182\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/843295\n\nChange-Id: I68e3908a73ed8cd036d529b9eaeec2ce93167fe1\n'}]",0,843188,a01428d45ff983fe7d43c6c284f6e2e35fec420a,12,1,2,8556,,,0,"DNM: Testing https://review.opendev.org/c/openstack/tempest/+/843182

Depends-On: https://review.opendev.org/c/openstack/tempest/+/843182
Depends-On: https://review.opendev.org/c/openstack/devstack/+/838051
Depends-On: https://review.opendev.org/c/openstack/devstack/+/843295

Change-Id: I68e3908a73ed8cd036d529b9eaeec2ce93167fe1
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/843188/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dfbdcde5ceb42f06d7ad0fea6d1d348c66285780,bug/1975036,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,1,1
openstack%2Fpuppet-nova~master~I2508de949a3adad8b710a24d68a39b6d4ec30b5d,openstack/puppet-nova,master,I2508de949a3adad8b710a24d68a39b6d4ec30b5d,Deprecate support for [DEFAULT] libvirt_use_virtio_for_bridges,MERGED,2022-05-30 08:08:16.000000000,2022-05-31 16:21:21.000000000,2022-05-31 16:19:45.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 08:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d6e590128a9f0214f9e7bb6832f75d0a83941a06', 'message': 'Deprecate support for [DEFAULT] libvirt_use_virtio_for_bridges\n\n... because the parameter was deprecated during Icehouse cycle in favor\nof the new [libvirt] use_virtio_for_bridges[1], and was removed during\nJuno cycle[2].\n\n[1] 5cfc529179302e8aefd1b255769d532881e22533\n[2] d0a02fa390e4bd70b03390d6bdbb35d8d9c159dd\n\nChange-Id: I2508de949a3adad8b710a24d68a39b6d4ec30b5d\n'}, {'number': 2, 'created': '2022-05-30 08:09:33.000000000', 'files': ['manifests/compute.pp', 'releasenotes/notes/deprecate-compute-virtio_nic-004dcfb3791f17b4.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9101ad68bfea1f432ecadadebebed9024e78a381', 'message': 'Deprecate support for [DEFAULT] libvirt_use_virtio_for_bridges\n\n... because the parameter was deprecated during Icehouse cycle in favor\nof the new [libvirt] use_virtio_for_bridges[1], and was removed during\nJuno cycle[2].\n\nThe parameter has been ineffective for multiple cycles so this change\njust deprecates the parameter instead of fixing it. In case we need\nthe parameter then it should be implemented in the libvirt class.\n\n[1] 5cfc529179302e8aefd1b255769d532881e22533\n[2] d0a02fa390e4bd70b03390d6bdbb35d8d9c159dd\n\nChange-Id: I2508de949a3adad8b710a24d68a39b6d4ec30b5d\n'}]",0,843797,9101ad68bfea1f432ecadadebebed9024e78a381,9,3,2,9816,,,0,"Deprecate support for [DEFAULT] libvirt_use_virtio_for_bridges

... because the parameter was deprecated during Icehouse cycle in favor
of the new [libvirt] use_virtio_for_bridges[1], and was removed during
Juno cycle[2].

The parameter has been ineffective for multiple cycles so this change
just deprecates the parameter instead of fixing it. In case we need
the parameter then it should be implemented in the libvirt class.

[1] 5cfc529179302e8aefd1b255769d532881e22533
[2] d0a02fa390e4bd70b03390d6bdbb35d8d9c159dd

Change-Id: I2508de949a3adad8b710a24d68a39b6d4ec30b5d
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/97/843797/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute.pp', 'releasenotes/notes/deprecate-compute-virtio_nic-004dcfb3791f17b4.yaml']",2,d6e590128a9f0214f9e7bb6832f75d0a83941a06,,--- deprecations: - | The ``nova::compute::virtio_nic`` parameter has been deprecated and has no effect now. ,,13,8
openstack%2Fpuppet-designate~stable%2Fvictoria~I3e94e3846fb97f0a0a5d25b2f5a1ef02e88a84b2,openstack/puppet-designate,stable/victoria,I3e94e3846fb97f0a0a5d25b2f5a1ef02e88a84b2,Add bind9 backend parameter to allow bypassing bind configuration,MERGED,2021-03-01 18:21:49.000000000,2022-05-31 16:09:50.000000000,2022-05-31 16:08:16.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 18:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/20b3c72af863e0a75d56cdcf02d57ca0f5ecf02b', 'message': 'Add bind9 backend parameter to allow bypassing bind configuration\n\nAdds designate::backedn::bind9::configure_bind parameter to allow\nbypassing the dns puppet module. This is necessary when bind is not\ninstalled on same host as designate.\n\nChange-Id: I3e94e3846fb97f0a0a5d25b2f5a1ef02e88a84b2\n(cherry picked from commit d68a16c853574fd20e4e003e2ec49183ebbe34ef)\n'}, {'number': 2, 'created': '2022-05-25 12:08:33.000000000', 'files': ['manifests/backend/bind9.pp', 'releasenotes/notes/add-config-bind-param-bind-backend-506bf4bbde8b6d03.yaml', 'spec/classes/designate_backend_bind9_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/a6244026a449f5541978814aeb9c2987ccd61f7d', 'message': 'Add bind9 backend parameter to allow bypassing bind configuration\n\nAdds designate::backedn::bind9::configure_bind parameter to allow\nbypassing the dns puppet module. This is necessary when bind is not\ninstalled on same host as designate.\n\nChange-Id: I3e94e3846fb97f0a0a5d25b2f5a1ef02e88a84b2\n(cherry picked from commit d68a16c853574fd20e4e003e2ec49183ebbe34ef)\n'}]",1,778046,a6244026a449f5541978814aeb9c2987ccd61f7d,13,3,2,6681,,,0,"Add bind9 backend parameter to allow bypassing bind configuration

Adds designate::backedn::bind9::configure_bind parameter to allow
bypassing the dns puppet module. This is necessary when bind is not
installed on same host as designate.

Change-Id: I3e94e3846fb97f0a0a5d25b2f5a1ef02e88a84b2
(cherry picked from commit d68a16c853574fd20e4e003e2ec49183ebbe34ef)
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/46/778046/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/bind9.pp', 'releasenotes/notes/add-config-bind-param-bind-backend-506bf4bbde8b6d03.yaml', 'spec/classes/designate_backend_bind9_spec.rb']",3,20b3c72af863e0a75d56cdcf02d57ca0f5ecf02b,configure_bind, context 'with named configuration disabled ' do let :params do { :configure_bind => false } end it 'configures designate backend bind9 with default parameters' do is_expected.to contain_designate_config('backend:bind9/rndc_host').with_value('127.0.0.1') is_expected.to contain_designate_config('backend:bind9/rndc_port').with_value('953') is_expected.to contain_designate_config('backend:bind9/rndc_config_file').with_value('/etc/rndc.conf') is_expected.to contain_designate_config('backend:bind9/rndc_key_file').with_value('/etc/rndc.key') is_expected.not_to contain_concat_fragment('dns allow-new-zones') end end ,,57,30
openstack%2Ftripleo-common~stable%2Fwallaby~Ifa0431753c024d862995814e9967722765215bc3,openstack/tripleo-common,stable/wallaby,Ifa0431753c024d862995814e9967722765215bc3,Update ceph daemon image pull registry,MERGED,2022-05-30 16:40:51.000000000,2022-05-31 16:01:25.000000000,2022-05-31 15:59:52.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-05-30 16:40:51.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/caa0c1f05e7be1e0910e4bf143721ae2c35c7069', 'message': ""Update ceph daemon image pull registry\n\nThis patch updates the ceph image pull registry and tag to point\nto 'current-ceph' tag on quay.rdoproject.org/daemon, in order to\nalways get the latest promoted ceph image.\nThe promotion process was recently merged [1] and runs\n3 times a week, testing the newest stable ceph daemon tag against\nmain and stable/wallaby branches.\n\n[1] https://review.rdoproject.org/r/q/topic:ceph_promotion_pipeline\n\nChange-Id: Ifa0431753c024d862995814e9967722765215bc3\n""}]",7,843936,caa0c1f05e7be1e0910e4bf143721ae2c35c7069,18,5,1,30002,,,0,"Update ceph daemon image pull registry

This patch updates the ceph image pull registry and tag to point
to 'current-ceph' tag on quay.rdoproject.org/daemon, in order to
always get the latest promoted ceph image.
The promotion process was recently merged [1] and runs
3 times a week, testing the newest stable ceph daemon tag against
main and stable/wallaby branches.

[1] https://review.rdoproject.org/r/q/topic:ceph_promotion_pipeline

Change-Id: Ifa0431753c024d862995814e9967722765215bc3
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/36/843936/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml']",2,caa0c1f05e7be1e0910e4bf143721ae2c35c7069,ceph_promotion_pipeline,- imagename: quay.rdoproject.org/tripleowallabycentos9/daemon:current-ceph,- imagename: quay.io/ceph/daemon:v6.0.7-stable-6.0-pacific-centos-stream8,3,3
openstack%2Fkolla-ansible~master~I3ab603f7cab7946ea8f2e063fe91190d6592066a,openstack/kolla-ansible,master,I3ab603f7cab7946ea8f2e063fe91190d6592066a,Control Masakari monitors deploy,MERGED,2022-05-24 12:31:08.000000000,2022-05-31 15:58:07.000000000,2022-05-31 15:56:25.000000000,"[{'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-24 12:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/58121e88af63f9c7d13016ef835c0b32d0fd8ed7', 'message': 'Control Masakari monitors deploy\n\nAdd a switches to enable/disable deploy of the Masakari monitors.\n\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nChange-Id: I3ab603f7cab7946ea8f2e063fe91190d6592066a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 2, 'created': '2022-05-24 12:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/944ee3296108092c46e468b4434df546c4113f0c', 'message': 'Control Masakari monitors deploy\n\nAdd a switches to enable/disable deploy of the Masakari monitors.\n\nChange-Id: I3ab603f7cab7946ea8f2e063fe91190d6592066a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 3, 'created': '2022-05-25 12:19:46.000000000', 'files': ['doc/source/reference/compute/masakari-guide.rst', 'ansible/group_vars/all.yml', 'releasenotes/notes/control-masakari-monitors-1107c10c45678b0a.yaml', 'ansible/roles/masakari/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d3dbd812c57a485d232d8e75fe407008582454e1', 'message': 'Control Masakari monitors deploy\n\nAdd a switches to enable/disable deploy of the Masakari monitors.\n\nChange-Id: I3ab603f7cab7946ea8f2e063fe91190d6592066a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",38,843137,d3dbd812c57a485d232d8e75fe407008582454e1,17,4,3,14200,,,0,"Control Masakari monitors deploy

Add a switches to enable/disable deploy of the Masakari monitors.

Change-Id: I3ab603f7cab7946ea8f2e063fe91190d6592066a
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/37/843137/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/compute/masakari-guide.rst', 'ansible/group_vars/all.yml', 'releasenotes/notes/control-masakari-monitors-1107c10c45678b0a.yaml', 'ansible/roles/masakari/defaults/main.yml']",4,58121e88af63f9c7d13016ef835c0b32d0fd8ed7,control-masakari-monitors," enabled: ""{{ enable_masakari_instancemonitor | default(true) | bool }}"" enabled: ""{{ enable_masakari_hostmonitor | default(true) | bool }}""", enabled: true enabled: true,18,5
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I8b0129e6b4b545f3e895470e9d2421291798ed32,openstack/python-tripleoclient,stable/wallaby,I8b0129e6b4b545f3e895470e9d2421291798ed32,bnr - overcloud restore - Handle correctly the ~ on the path,MERGED,2022-03-30 09:51:10.000000000,2022-05-31 15:52:16.000000000,2022-05-31 15:50:56.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 22954}]","[{'number': 1, 'created': '2022-03-30 09:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ecfeeefd1de0e6a39ca8eadd086eed0aa7d08f6f', 'message': 'bnr - overcloud restore - Handle correctly the ~ on the path\n\nCurrently the inventory path is not handle correctly, so the default\ninventory path does not work.\n\nThis patch changes several things:\n 1 - Instead of using inventory as an argument use the stack path\n 2 - Handle correctly the default inventory file\n 3 - The stack argument is mandatory\n\nChange-Id: I8b0129e6b4b545f3e895470e9d2421291798ed32\n(cherry picked from commit 43af68d4fcc706a61070e1512eb7a9f9e9a83c69)\n'}, {'number': 2, 'created': '2022-05-16 09:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/98679c3cae144694cf5246956596d967c11145d6', 'message': 'bnr - overcloud restore - Handle correctly the ~ on the path\n\nCurrently the inventory path is not handle correctly, so the default\ninventory path does not work.\n\nThis patch changes several things:\n 1 - Instead of using inventory as an argument use the stack path\n 2 - Handle correctly the default inventory file\n 3 - The stack argument is mandatory\n\nChange-Id: I8b0129e6b4b545f3e895470e9d2421291798ed32\n(cherry picked from commit 43af68d4fcc706a61070e1512eb7a9f9e9a83c69)\n'}, {'number': 3, 'created': '2022-05-27 09:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6597d22c94949ff6a19966b20ca9ef68287a9a40', 'message': 'bnr - overcloud restore - Handle correctly the ~ on the path\n\nCurrently the inventory path is not handle correctly, so the default\ninventory path does not work.\n\nThis patch changes several things:\n 1 - Instead of using inventory as an argument use the stack path\n 2 - Handle correctly the default inventory file\n 3 - The stack argument is mandatory\n\nChange-Id: I8b0129e6b4b545f3e895470e9d2421291798ed32\n(cherry picked from commit 43af68d4fcc706a61070e1512eb7a9f9e9a83c69)\n'}, {'number': 4, 'created': '2022-05-27 09:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/334d865c4c9f5c7f1246f83c0aa7bbf65ee129ec', 'message': 'bnr - overcloud restore - Handle correctly the ~ on the path\n\nCurrently the inventory path is not handle correctly, so the default\ninventory path does not work.\n\nThis patch changes several things:\n 1 - Instead of using inventory as an argument use the stack path\n 2 - Handle correctly the default inventory file\n 3 - The stack argument is mandatory\n\nChange-Id: I8b0129e6b4b545f3e895470e9d2421291798ed32\n(cherry picked from commit 43af68d4fcc706a61070e1512eb7a9f9e9a83c69)\n'}, {'number': 5, 'created': '2022-05-27 09:31:47.000000000', 'files': ['tripleoclient/tests/v1/overcloud_restore/test_backup.py', 'tripleoclient/v1/overcloud_restore.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b07a4e0d539b4d5069bd199600bf73700bb16c6c', 'message': 'bnr - overcloud restore - Handle correctly the ~ on the path\n\nCurrently the inventory path is not handle correctly, so the default\ninventory path does not work.\n\nThis patch changes several things:\n 1 - Instead of using inventory as an argument use the stack path\n 2 - Handle correctly the default inventory file\n 3 - The stack argument is mandatory\n\nAlso contains I2ee5a5454ec1211b8c8aa1ec7f6e694995885882\n\nChange-Id: I8b0129e6b4b545f3e895470e9d2421291798ed32\n(cherry picked from commit 43af68d4fcc706a61070e1512eb7a9f9e9a83c69)\n'}]",30,835798,b07a4e0d539b4d5069bd199600bf73700bb16c6c,46,6,5,34423,,,0,"bnr - overcloud restore - Handle correctly the ~ on the path

Currently the inventory path is not handle correctly, so the default
inventory path does not work.

This patch changes several things:
 1 - Instead of using inventory as an argument use the stack path
 2 - Handle correctly the default inventory file
 3 - The stack argument is mandatory

Also contains I2ee5a5454ec1211b8c8aa1ec7f6e694995885882

Change-Id: I8b0129e6b4b545f3e895470e9d2421291798ed32
(cherry picked from commit 43af68d4fcc706a61070e1512eb7a9f9e9a83c69)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/98/835798/5 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_restore/test_backup.py', 'tripleoclient/v1/overcloud_restore.py']",2,ecfeeefd1de0e6a39ca8eadd086eed0aa7d08f6f,bnr_ironic-stable/wallaby,"from osc_lib import exceptions as oscexcfrom osc_lib import utils as osc_utils '--stack', nargs='?', help=_('Name or ID of heat stack to delete' '(default=Env: OVERCLOUD_STACK_NAME)'), default=osc_utils.env('OVERCLOUD_STACK_NAME')) if parsed_args.stack in (None, ''): raise oscexc.CommandError(""You must specify a stack name"") playbook='cli-overcloud-restore-node.yaml', inventory=constants.ANSIBLE_INVENTORY.format(parsed_args.stack), tags=None, skip_tags=None, extra_vars=extra_vars, ssh_user='stack' )","INVENTORY = '~/overcloud-deploy/overcloud/'+constants.TRIPLEO_STATIC_INVENTORY '--inventory', default=INVENTORY, help=_(""Tripleo inventory file generated with "" ""tripleo-ansible-inventory command. "" ""Defaults to: "" + INVENTORY) ) playbook='cli-overcloud-restore-node.yaml', inventory=parsed_args.inventory, tags=None, skip_tags=None, extra_vars=extra_vars, ssh_user='stack' )",21,17
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I79e70731779067093f6de2879b98cfe8f2b7a89f,openstack/tripleo-heat-templates,stable/train,I79e70731779067093f6de2879b98cfe8f2b7a89f,Remove sidecar containers after SIGTERM is send to stop them,MERGED,2022-05-06 14:41:15.000000000,2022-05-31 15:50:53.000000000,2022-05-31 15:50:53.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-05-06 14:41:15.000000000', 'files': ['deployment/neutron/kill-script'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d6098ae57bbef79d2ab6c9edffd7b2edd9cb52ab', 'message': ""Remove sidecar containers after SIGTERM is send to stop them\n\nPreviously neutron's sidecar containers were removed only when\nkill-script was called with SIGKILL signal, if it was SIGTERM, then\ncontainer was stopped but not removed.\n\nNow kill-script script will try to delete stopped container in both\ncases, when SIGKILL and SIGTERM is send to the script.\n\nCloses: rhbz#2080811\nChange-Id: I79e70731779067093f6de2879b98cfe8f2b7a89f\n(cherry picked from commit aaa8ce1a6d117f72911ea2e19fa3545c17da3a20)\n""}]",1,840742,d6098ae57bbef79d2ab6c9edffd7b2edd9cb52ab,13,4,1,11975,,,0,"Remove sidecar containers after SIGTERM is send to stop them

Previously neutron's sidecar containers were removed only when
kill-script was called with SIGKILL signal, if it was SIGTERM, then
container was stopped but not removed.

Now kill-script script will try to delete stopped container in both
cases, when SIGKILL and SIGTERM is send to the script.

Closes: rhbz#2080811
Change-Id: I79e70731779067093f6de2879b98cfe8f2b7a89f
(cherry picked from commit aaa8ce1a6d117f72911ea2e19fa3545c17da3a20)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/840742/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/kill-script'],1,d6098ae57bbef79d2ab6c9edffd7b2edd9cb52ab,bz/2080811-stable/victoria-stable/wallaby-stable/train," delete_container $1 $2delete_container() { add_date ""Deleting container $1 ($2)"" $CLI rm $2 || echo ""Deleting container $1 ($2) failed"" } delete_container $CT_NAME $CT_ID"," add_date ""Deleting container $1 ($2)"" $CLI rm $2",8,2
openstack%2Fdevstack~stable%2Fussuri~Ie7f37770a04f622735cf2263c601257669ab5064,openstack/devstack,stable/ussuri,Ie7f37770a04f622735cf2263c601257669ab5064,Configure placement section in neutron conf,MERGED,2022-05-25 05:37:23.000000000,2022-05-31 15:49:45.000000000,2022-05-31 15:48:21.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-05-25 05:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c235f2926687095447a53dae8c20206878fe1057', 'message': 'Configure placement section in neutron conf\n\nWithout it segment plugin fails to connect with\nplacement api. Configure the placement section\nif service is deployed.\n\nCloses-Bug: #1973783\nChange-Id: Ie7f37770a04f622735cf2263c601257669ab5064\n(cherry picked from commit 92a34dbe951f2ab31fb3432e61cf34db034b0145)\n(cherry picked from commit ebd72a5e00e33ace6eed7cfb578a6ffb3a57e8e7)\n'}, {'number': 2, 'created': '2022-05-25 07:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/145ffe712ecb1d194b67d399d9cada1243381f4b', 'message': 'Configure placement section in neutron conf\n\nWithout it segment plugin fails to connect with\nplacement api. Configure the placement section\nif service is deployed.\n\nCloses-Bug: #1973783\nChange-Id: Ie7f37770a04f622735cf2263c601257669ab5064\n(cherry picked from commit 92a34dbe951f2ab31fb3432e61cf34db034b0145)\n(cherry picked from commit ebd72a5e00e33ace6eed7cfb578a6ffb3a57e8e7)\n'}, {'number': 3, 'created': '2022-05-31 03:20:01.000000000', 'files': ['lib/neutron-legacy'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7c1dc8ac9129f871f4e1e4ab6947f657548cce50', 'message': 'Configure placement section in neutron conf\n\nWithout it segment plugin fails to connect with\nplacement api. Configure the placement section\nif service is deployed.\n\nCloses-Bug: #1973783\nChange-Id: Ie7f37770a04f622735cf2263c601257669ab5064\n(cherry picked from commit 92a34dbe951f2ab31fb3432e61cf34db034b0145)\n(cherry picked from commit ebd72a5e00e33ace6eed7cfb578a6ffb3a57e8e7)\n'}]",1,843194,7c1dc8ac9129f871f4e1e4ab6947f657548cce50,16,4,3,13861,,,0,"Configure placement section in neutron conf

Without it segment plugin fails to connect with
placement api. Configure the placement section
if service is deployed.

Closes-Bug: #1973783
Change-Id: Ie7f37770a04f622735cf2263c601257669ab5064
(cherry picked from commit 92a34dbe951f2ab31fb3432e61cf34db034b0145)
(cherry picked from commit ebd72a5e00e33ace6eed7cfb578a6ffb3a57e8e7)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/94/843194/3 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron-legacy'],1,c235f2926687095447a53dae8c20206878fe1057,bug/1973783-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri, # Configuration for placement client configure_keystone_authtoken_middleware $NEUTRON_CONF placement placement ,,3,0
openstack%2Fpuppet-openstack-integration~master~I5f889ec3c5a14caf5a77d38340a00f71b315de62,openstack/puppet-openstack-integration,master,I5f889ec3c5a14caf5a77d38340a00f71b315de62,Keystone: Remove [ssl] parameters,MERGED,2022-05-23 16:37:03.000000000,2022-05-31 15:49:16.000000000,2022-05-31 15:49:16.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-23 16:37:03.000000000', 'files': ['manifests/keystone.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/97da7902018e731f4ae1fef4c04b0e19c381c875', 'message': 'Keystone: Remove [ssl] parameters\n\n... because these parameters were already removed from Keystone.\n\nDepends-on: https://review.opendev.org/836270\nChange-Id: I5f889ec3c5a14caf5a77d38340a00f71b315de62\n'}]",0,843001,97da7902018e731f4ae1fef4c04b0e19c381c875,7,3,1,9816,,,0,"Keystone: Remove [ssl] parameters

... because these parameters were already removed from Keystone.

Depends-on: https://review.opendev.org/836270
Change-Id: I5f889ec3c5a14caf5a77d38340a00f71b315de62
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/01/843001/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone.pp'],1,97da7902018e731f4ae1fef4c04b0e19c381c875,,," enable_ssl => $::openstack_integration::config::ssl,",0,1
openstack%2Fpuppet-openstack-integration~stable%2Fyoga~I7e0c67a0072d2123b401b8ad1bfe05016e2c7aea,openstack/puppet-openstack-integration,stable/yoga,I7e0c67a0072d2123b401b8ad1bfe05016e2c7aea,Switch to RDO Yoga,MERGED,2022-04-27 12:49:00.000000000,2022-05-31 15:49:14.000000000,2022-05-31 15:49:14.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 12:49:00.000000000', 'files': ['functions', 'manifests/repos.pp', 'configure_facts.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c3dcd696639f50c1250ab994718df97041e69b1b', 'message': 'Switch to RDO Yoga\n\nRDO Yoga has been released. Switch to that stable release to test\nmodules with the corresponding release.\n\nChange-Id: I7e0c67a0072d2123b401b8ad1bfe05016e2c7aea\n'}]",3,839520,c3dcd696639f50c1250ab994718df97041e69b1b,13,3,1,9816,,,0,"Switch to RDO Yoga

RDO Yoga has been released. Switch to that stable release to test
modules with the corresponding release.

Change-Id: I7e0c67a0072d2123b401b8ad1bfe05016e2c7aea
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/20/839520/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions', 'manifests/repos.pp', 'configure_facts.sh']",3,c3dcd696639f50c1250ab994718df97041e69b1b,rdo-yoga,"export DLRN_BASE=${DLRN_BASE:-${OS_NAME_VERS}-yoga/puppet-passed-ci} export DLRN_DEPS_BASE=${DLRN_DEPS_BASE:-${OS_NAME_VERS}-yoga/deps/latest/} export DLRN_BASE_URL=${DLRN_BASE_URL:-${OS_NAME_VERS}-yoga/puppet-passed-ci/delorean.repo} export DLRN_DEPS_URL=${DLRN_DEPS_URL:-${OS_NAME_VERS}-yoga/delorean-deps.repo}curl -o /tmp/delorean.repo ""${NODEPOOL_RDO_PROXY}/${OS_NAME_VERS}-yoga/puppet-passed-ci/delorean.repo""curl -o /tmp/delorean-deps.repo ""${NODEPOOL_RDO_PROXY}/${OS_NAME_VERS}-yoga/delorean-deps.repo""","export DLRN_BASE=${DLRN_BASE:-${OS_NAME_VERS}-master/puppet-passed-ci} export DLRN_DEPS_BASE=${DLRN_DEPS_BASE:-${OS_NAME_VERS}-master/deps/latest/} export DLRN_BASE_URL=${DLRN_BASE_URL:-${OS_NAME_VERS}-master/puppet-passed-ci/delorean.repo} export DLRN_DEPS_URL=${DLRN_DEPS_URL:-${OS_NAME_VERS}-master/delorean-deps.repo}curl -o /tmp/delorean.repo ""${NODEPOOL_RDO_PROXY}/${OS_NAME_VERS}-master/puppet-passed-ci/delorean.repo""curl -o /tmp/delorean-deps.repo ""${NODEPOOL_RDO_PROXY}/${OS_NAME_VERS}-master/delorean-deps.repo""",9,9
openstack%2Fos-vif~master~I7d834a0c31c801e96002f42f86409ba274c234e6,openstack/os-vif,master,I7d834a0c31c801e96002f42f86409ba274c234e6,Delete trunk bridges to avoid race with Neutron,MERGED,2022-05-11 23:01:10.000000000,2022-05-31 15:42:56.000000000,2022-05-31 15:41:32.000000000,"[{'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-11 23:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/7493964577681b56ddb5ca64946dec9e49049638', 'message': 'Delete trunk bridges to avoid race with Neutron\n\nDuring the Zed PTG it was decided that to solve the race condition\nbetween os-vif and Neutron when deleting trunk bridges, os-vif will be\nresponsible of both the creation and the deletion of the bridge (see Day\n2 first topic at [1]). This change adds the code to delete trunk\nbridges.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html\n\nChange-Id: I7d834a0c31c801e96002f42f86409ba274c234e6\n'}, {'number': 2, 'created': '2022-05-24 23:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/558ad3d83a1f473f54e9e4d2ce647100814d8862', 'message': 'Delete trunk bridges to avoid race with Neutron\n\nDuring the Zed PTG it was decided that to solve the race condition\nbetween os-vif and Neutron when deleting trunk bridges, os-vif will be\nresponsible of both the creation and the deletion of the bridge (see Day\n2 first topic at [1]). This change adds the code to delete trunk\nbridges.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html\n\nChange-Id: I7d834a0c31c801e96002f42f86409ba274c234e6\n'}, {'number': 3, 'created': '2022-05-25 17:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/7861bec9b72b096ce382833a7e83e6516468acfd', 'message': 'Delete trunk bridges to avoid race with Neutron\n\nDuring the Zed PTG it was decided that to solve the race condition\nbetween os-vif and Neutron when deleting trunk bridges, os-vif will be\nresponsible of both the creation and the deletion of the bridge (see Day\n2 first topic at [1]). This change adds the code to delete trunk\nbridges.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html\n\nChange-Id: I7d834a0c31c801e96002f42f86409ba274c234e6\n'}, {'number': 4, 'created': '2022-05-25 21:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/2f41b0d9f4c1287a0a26cbfb40df0afec68b3fd4', 'message': 'Delete trunk bridges to avoid race with Neutron\n\nDuring the Zed PTG it was decided that to solve the race condition\nbetween os-vif and Neutron when deleting trunk bridges, os-vif will be\nresponsible of both the creation and the deletion of the bridge (see Day\n2 first topic at [1]). This change adds the code to delete trunk\nbridges.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html\n\nChange-Id: I7d834a0c31c801e96002f42f86409ba274c234e6\n'}, {'number': 5, 'created': '2022-05-26 19:28:13.000000000', 'files': ['vif_plug_ovs/tests/functional/test_plugin.py', 'vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py', 'vif_plug_ovs/constants.py', 'vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py', 'vif_plug_ovs/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/75b290fb2a8f706583e0c12c5c5a4c0fc80e6481', 'message': 'Delete trunk bridges to avoid race with Neutron\n\nDuring the Zed PTG it was decided that to solve the race condition\nbetween os-vif and Neutron when deleting trunk bridges, os-vif will be\nresponsible of both the creation and the deletion of the bridge (see Day\n2 first topic at [1]). This change adds the code to delete trunk\nbridges.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html\n\nChange-Id: I7d834a0c31c801e96002f42f86409ba274c234e6\n'}]",13,841499,75b290fb2a8f706583e0c12c5c5a4c0fc80e6481,31,3,5,4694,,,0,"Delete trunk bridges to avoid race with Neutron

During the Zed PTG it was decided that to solve the race condition
between os-vif and Neutron when deleting trunk bridges, os-vif will be
responsible of both the creation and the deletion of the bridge (see Day
2 first topic at [1]). This change adds the code to delete trunk
bridges.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html

Change-Id: I7d834a0c31c801e96002f42f86409ba274c234e6
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/99/841499/5 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_ovs/constants.py', 'vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py']",3,7493964577681b56ddb5ca64946dec9e49049638,bug-1869244," def _is_trunk_bridge(self, bridge_name): return bridge_name.startswith(constants.TRUNK_BR_PREFIX) def _delete_bridge_if_trunk(self, vif): if self._is_trunk_bridge(vif.network.bridge): self.ovsdb.delete_ovs_bridge(vif.network.bridge) self._delete_bridge_if_trunk(vif) self._delete_bridge_if_trunk(vif) self._delete_bridge_if_trunk(vif) self._delete_bridge_if_trunk(vif) self._delete_bridge_if_trunk(vif) self._delete_bridge_if_trunk(vif)",,77,10
openstack%2Fpuppet-openstack-integration~master~Ibf4d71f6d6d0cf549175df785b8e7a35e65e618f,openstack/puppet-openstack-integration,master,Ibf4d71f6d6d0cf549175df785b8e7a35e65e618f,Replace litmus jobs to CentOS Stream 9 (but non-voting),MERGED,2022-05-26 16:58:52.000000000,2022-05-31 15:37:21.000000000,2022-05-31 15:37:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 31068}]","[{'number': 1, 'created': '2022-05-26 16:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/42349515ee76272ae83267c544a6eccdb03dc0d6', 'message': 'Replace litmus jobs to CentOS Stream 9 (but non-voting)\n\nSome projects (Oslo, Nova, Cinder, ...) removed support for Python 3.6\nand no longer work with CentOS Stream 8 which has Python 3.6.\n\nThis change migrates the litmus jobs to CentOS Stream 9 because of that\nand teardown of CentOS Stream 8 packages in RDO.\n\nUnfortunately, currently  litmus jobs in CentOS Stream 9 are still\nbroken, because the bolt library does not support Ruby >= 3.0, so\nthese are kept non-voting. We are still waiting for the fix[1], and\nwill fix the job as soon as the updated version is released.\n\n[1] https://github.com/puppetlabs/bolt/pull/2987\n\nChange-Id: Ibf4d71f6d6d0cf549175df785b8e7a35e65e618f\n'}, {'number': 2, 'created': '2022-05-26 17:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0515d881e3ce628e24ca7762c84c9af858e36332', 'message': 'Replace litmus jobs to CentOS Stream 9 (but non-voting)\n\nSome projects (Oslo, Nova, Cinder, ...) removed support for Python 3.6\nand no longer work with CentOS Stream 8 which has Python 3.6.\n\nThis change migrates the litmus jobs to CentOS Stream 9 because of that\nand teardown of CentOS Stream 8 packages in RDO.\n\nUnfortunately, currently litmus jobs in CentOS Stream 9 are still\nbroken, because the bolt library does not support Ruby >= 3.0, so\nthese are kept non-voting. We are still waiting for the fix[1], and\nwill fix the job as soon as the updated version is released.\n\n[1] https://github.com/puppetlabs/bolt/pull/2987\n\nChange-Id: Ibf4d71f6d6d0cf549175df785b8e7a35e65e618f\n'}, {'number': 3, 'created': '2022-05-26 17:08:17.000000000', 'files': ['zuul.d/litmus.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/983cd5522522bd79b23b81e6012b41cd609bbed8', 'message': 'Replace litmus jobs to CentOS Stream 9 (but non-voting)\n\nSome projects (Oslo, Nova, Cinder, ...) removed support for Python 3.6\nand no longer work with CentOS 8 Stream which has Python 3.6.\n\nThis change migrates the litmus jobs to CentOS Stream 9 because of that\nand teardown of CentOS 8 Stream packages in RDO.\n\nUnfortunately, currently litmus jobs in CentOS Stream 9 are still\nbroken, because the bolt library does not support Ruby >= 3.0, so\nthese are kept non-voting. We are still waiting for the fix[1], and\nwill fix the job as soon as the updated version is released.\n\n[1] https://github.com/puppetlabs/bolt/pull/2987\n\nChange-Id: Ibf4d71f6d6d0cf549175df785b8e7a35e65e618f\n'}]",0,843503,983cd5522522bd79b23b81e6012b41cd609bbed8,10,4,3,9816,,,0,"Replace litmus jobs to CentOS Stream 9 (but non-voting)

Some projects (Oslo, Nova, Cinder, ...) removed support for Python 3.6
and no longer work with CentOS 8 Stream which has Python 3.6.

This change migrates the litmus jobs to CentOS Stream 9 because of that
and teardown of CentOS 8 Stream packages in RDO.

Unfortunately, currently litmus jobs in CentOS Stream 9 are still
broken, because the bolt library does not support Ruby >= 3.0, so
these are kept non-voting. We are still waiting for the fix[1], and
will fix the job as soon as the updated version is released.

[1] https://github.com/puppetlabs/bolt/pull/2987

Change-Id: Ibf4d71f6d6d0cf549175df785b8e7a35e65e618f
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/03/843503/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/litmus.yaml', 'zuul.d/layout.yaml']",2,42349515ee76272ae83267c544a6eccdb03dc0d6,rdo-zed-c9s, - puppet-openstack-libraries-litmus-7.10-centos-9-stream, - puppet-openstack-libraries-litmus-7.10-centos-8-stream - puppet-openstack-libraries-litmus-7.10-centos-8-stream,4,19
openstack%2Fpuppet-openstack-integration~master~I93cc7545728fd6dde89399d8a57763137dd24f55,openstack/puppet-openstack-integration,master,I93cc7545728fd6dde89399d8a57763137dd24f55,Migrate unit tests to CentOS 9 Stream,MERGED,2022-04-07 11:41:01.000000000,2022-05-31 15:37:19.000000000,2022-05-31 15:37:19.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 31068}]","[{'number': 1, 'created': '2022-04-07 11:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/48cd97046ebaf755316253b092d570251cf7aba9', 'message': 'Migrate unit tests and lint jobs to CentOS 9 Stream\n\nChange-Id: I93cc7545728fd6dde89399d8a57763137dd24f55\n'}, {'number': 2, 'created': '2022-04-07 11:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ae9de474b131d358bbd60eda806392649e281213', 'message': 'Migrate unit tests and lint jobs to CentOS 9 Stream\n\nChange-Id: I93cc7545728fd6dde89399d8a57763137dd24f55\n'}, {'number': 3, 'created': '2022-04-11 14:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1385f20ceaecaf7cb2068d9f630eda49bbf0b4a0', 'message': 'Migrate unit tests and lint jobs to CentOS 9 Stream\n\nChange-Id: I93cc7545728fd6dde89399d8a57763137dd24f55\n'}, {'number': 4, 'created': '2022-04-20 02:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9df2eae3e1b5ffa97670be81b9d78fdfa58fe023', 'message': 'Migrate unit tests and lint jobs to CentOS 9 Stream\n\nChange-Id: I93cc7545728fd6dde89399d8a57763137dd24f55\n'}, {'number': 5, 'created': '2022-04-20 02:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/94309ba9cc85de8706c4880cef97a57da42f05ea', 'message': 'Migrate unit tests and lint jobs to CentOS 9 Stream\n\nRDO no longer supports CentOS 8 Stream since Zed, and functional jobs\nare being migrated to CentOS 9 Stream.\nFollowing that migration, this change migrates unit tests to CentOS 9\nStream, to reduce OS versions we use in CI.\n\nChange-Id: I93cc7545728fd6dde89399d8a57763137dd24f55\n'}, {'number': 6, 'created': '2022-04-20 03:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/fec35eb2fc2ec24363960d79558226860f326495', 'message': 'Migrate unit tests and lint jobs to CentOS 9 Stream\n\nRDO no longer supports CentOS 8 Stream since Zed, and functional jobs\nare being migrated to CentOS 9 Stream.\nFollowing that migration, this change migrates unit tests to CentOS 9\nStream, to reduce OS versions we use in CI.\n\nDepends-on: https://review.opendev.org/838616\nChange-Id: I93cc7545728fd6dde89399d8a57763137dd24f55\n'}, {'number': 7, 'created': '2022-04-20 04:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0f573f9d3a42d761de38a9da68c90cfc70fed50f', 'message': 'Migrate unit tests and lint jobs to CentOS 9 Stream\n\nRDO no longer supports CentOS 8 Stream since Zed, and functional jobs\nare being migrated to CentOS 9 Stream.\nFollowing that migration, this change migrates unit tests to CentOS 9\nStream, to reduce OS versions we use in CI.\n\nChange-Id: I93cc7545728fd6dde89399d8a57763137dd24f55\n'}, {'number': 8, 'created': '2022-04-20 05:00:25.000000000', 'files': ['zuul.d/libraries.yaml', 'zuul.d/layout.yaml', 'zuul.d/unit.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5a113b3b09aa52119d7c8a926905ee232e70d2b0', 'message': 'Migrate unit tests to CentOS 9 Stream\n\nRDO no longer supports CentOS 8 Stream since Zed, and functional jobs\nare being migrated to CentOS 9 Stream.\n\nFollowing that migration, this change migrates unit tests to CentOS 9\nStream, to reduce OS versions we use in CI.\n\nChange-Id: I93cc7545728fd6dde89399d8a57763137dd24f55\n'}]",3,836947,5a113b3b09aa52119d7c8a926905ee232e70d2b0,27,5,8,9816,,,0,"Migrate unit tests to CentOS 9 Stream

RDO no longer supports CentOS 8 Stream since Zed, and functional jobs
are being migrated to CentOS 9 Stream.

Following that migration, this change migrates unit tests to CentOS 9
Stream, to reduce OS versions we use in CI.

Change-Id: I93cc7545728fd6dde89399d8a57763137dd24f55
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/47/836947/8 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/libraries.yaml', 'zuul.d/layout.yaml', 'zuul.d/unit.yaml']",3,48cd97046ebaf755316253b092d570251cf7aba9,rdo-zed-c9s, name: puppet-openstack-unit-7.10-centos-9-stream nodeset: centos-9-stream - puppet-openstack-unit-7.10-centos-9-stream - puppet-openstack-unit-7.10-centos-9-stream, name: puppet-openstack-unit-7.10-centos-8-stream nodeset: centos-8-stream - puppet-openstack-unit-7.10-centos-8-stream - puppet-openstack-unit-7.10-centos-8-stream,8,8
openstack%2Faodh~master~Ie0a34d3f2481f325962dc159c3315bd8d1d89854,openstack/aodh,master,Ie0a34d3f2481f325962dc159c3315bd8d1d89854,Replace CentOS Stream 8 by 9,MERGED,2022-05-06 03:50:49.000000000,2022-05-31 15:32:55.000000000,2022-05-31 15:29:15.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-06 03:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/934339cfab9fbec5fd68194fe454452983f1b515', 'message': 'Replace CentOS Stream 8 by 9\n\nThe latest cinder requires Python >=3.8 which is not available in\nCentOS 8 Stream. This bumps the base OS version to 9 which has Python\n3.9.\n\nChange-Id: Ie0a34d3f2481f325962dc159c3315bd8d1d89854\n'}, {'number': 2, 'created': '2022-05-06 03:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/40ea2f8747029d6ac278e86e99180738f1b8bd8f', 'message': 'Replace CentOS Stream 8 by 9\n\nThe latest cinder requires Python >=3.8 which is not available in\nCentOS Stream 8. This bumps the base OS version to 9 which has Python\n3.9.\n\nChange-Id: Ie0a34d3f2481f325962dc159c3315bd8d1d89854\n'}, {'number': 3, 'created': '2022-05-06 03:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/454e64f61a929bf0bfe1b3e1145982c3e0a69b00', 'message': 'Replace CentOS Stream 8 by 9\n\nThe latest cinder requires Python >=3.8 which is not available in\nCentOS Stream 8. This bumps the base OS version to 9 which has Python\n3.9.\n\nDepends-on: https://review.opendev.org/840811\nChange-Id: Ie0a34d3f2481f325962dc159c3315bd8d1d89854\n'}, {'number': 4, 'created': '2022-05-24 13:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/c993ccea55da247bc08d949a31fd7c5561f03712', 'message': 'Replace CentOS Stream 8 by 9\n\nThe latest cinder requires Python >=3.8 which is not available in\nCentOS Stream 8. This bumps the base OS version to 9 which has Python\n3.9.\n\nAlso, the FIPS job is made non-voting temporally to unblock CI.\n\nDepends-on: https://review.opendev.org/840811\nChange-Id: Ie0a34d3f2481f325962dc159c3315bd8d1d89854\n'}, {'number': 5, 'created': '2022-05-24 15:23:01.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/aodh/commit/0b0c0aff8b8ec61a20615d34b006593ef8010fe5', 'message': 'Replace CentOS Stream 8 by 9\n\nThe latest cinder requires Python >=3.8 which is not available in\nCentOS Stream 8. This bumps the base OS version to 9 which has Python\n3.9.\n\nDepends-on: https://review.opendev.org/840811\nChange-Id: Ie0a34d3f2481f325962dc159c3315bd8d1d89854\n'}]",9,840810,0b0c0aff8b8ec61a20615d34b006593ef8010fe5,26,2,5,9816,,,0,"Replace CentOS Stream 8 by 9

The latest cinder requires Python >=3.8 which is not available in
CentOS Stream 8. This bumps the base OS version to 9 which has Python
3.9.

Depends-on: https://review.opendev.org/840811
Change-Id: Ie0a34d3f2481f325962dc159c3315bd8d1d89854
",git fetch https://review.opendev.org/openstack/aodh refs/changes/10/840810/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,934339cfab9fbec5fd68194fe454452983f1b515,c9s, - telemetry-dsvm-integration-centos-9s: - telemetry-dsvm-integration-centos-9s-fips: - telemetry-dsvm-integration-centos-9s: - telemetry-dsvm-integration-centos-9s-fips:, - telemetry-dsvm-integration-centos-8s: - telemetry-dsvm-integration-centos-8s-fips: - telemetry-dsvm-integration-centos-8s: - telemetry-dsvm-integration-centos-8s-fips:,4,4
openstack%2Fpuppet-vitrage~master~I74610eddea1514f25951ec6a793e4b2afff6d59f,openstack/puppet-vitrage,master,I74610eddea1514f25951ec6a793e4b2afff6d59f,Simplify handling of notifiers option,MERGED,2022-05-30 07:41:19.000000000,2022-05-31 15:21:39.000000000,2022-05-31 15:21:39.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 07:41:19.000000000', 'files': ['manifests/notifier.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/57b3dd7c18006efa54952941f0de06601238acf7', 'message': 'Simplify handling of notifiers option\n\nChange-Id: I74610eddea1514f25951ec6a793e4b2afff6d59f\n'}]",0,843792,57b3dd7c18006efa54952941f0de06601238acf7,7,3,1,9816,,,0,"Simplify handling of notifiers option

Change-Id: I74610eddea1514f25951ec6a793e4b2afff6d59f
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/92/843792/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/notifier.pp'],1,57b3dd7c18006efa54952941f0de06601238acf7,," 'DEFAULT/notifiers': value => join(any2array($notifiers), ',');"," if !is_service_default($notifiers) { $notifiers_orig = join(any2array($notifiers), ',') } else { $notifiers_orig = $notifiers } 'DEFAULT/notifiers': value => $notifiers_orig;",1,7
openstack%2Fpuppet-octavia~master~Ib79a959abf90ccd1b9f122098d8794f89f9a46a7,openstack/puppet-octavia,master,Ib79a959abf90ccd1b9f122098d8794f89f9a46a7,Support [amphora_agent] agent_tls_protocol,MERGED,2022-05-26 02:54:29.000000000,2022-05-31 15:20:33.000000000,2022-05-31 15:17:59.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 02:54:29.000000000', 'files': ['releasenotes/notes/agent_tls_protocol-6d161f6c693ca090.yaml', 'spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/eabf0a2f5d3da967734e6f9d167705d571696f63', 'message': 'Support [amphora_agent] agent_tls_protocol\n\nChange-Id: Ib79a959abf90ccd1b9f122098d8794f89f9a46a7\n'}]",0,843370,eabf0a2f5d3da967734e6f9d167705d571696f63,8,3,1,9816,,,0,"Support [amphora_agent] agent_tls_protocol

Change-Id: Ib79a959abf90ccd1b9f122098d8794f89f9a46a7
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/70/843370/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/agent_tls_protocol-6d161f6c693ca090.yaml', 'spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp']",3,eabf0a2f5d3da967734e6f9d167705d571696f63,amphora-agent-opts,"# [*agent_tls_protocol*] # (optional) Minimum TLS protocol for communication with the amphora agent. # Defaults to $::os_service_default # $agent_tls_protocol = $::os_service_default, 'amphora_agent/agent_tls_protocol' : value => $agent_tls_protocol;",,15,0
openstack%2Fpuppet-vitrage~master~Ice74b6655d8715989edece54e40998c809f8341f,openstack/puppet-vitrage,master,Ice74b6655d8715989edece54e40998c809f8341f,Remove deprecated vitrage::auth,MERGED,2022-05-30 07:32:57.000000000,2022-05-31 15:19:38.000000000,2022-05-31 15:17:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 07:32:57.000000000', 'files': ['releasenotes/notes/remove-deprecated-auth-class-0862429e31bf5604.yaml', 'manifests/auth.pp', 'spec/classes/vitrage_auth_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/5aa74207d4e7875afdabc9d50829ff9f2dcdd38b', 'message': 'Remove deprecated vitrage::auth\n\n... because this class was deprecated during Yoga cycle[1] in favor of\nthe new vitrage::service_credentials class.\n\n[1] 9cf7f1dcd9c1acb58122dabaf434bf251189bb0a\n\nChange-Id: Ice74b6655d8715989edece54e40998c809f8341f\n'}]",0,843790,5aa74207d4e7875afdabc9d50829ff9f2dcdd38b,8,3,1,9816,,,0,"Remove deprecated vitrage::auth

... because this class was deprecated during Yoga cycle[1] in favor of
the new vitrage::service_credentials class.

[1] 9cf7f1dcd9c1acb58122dabaf434bf251189bb0a

Change-Id: Ice74b6655d8715989edece54e40998c809f8341f
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/90/843790/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-deprecated-auth-class-0862429e31bf5604.yaml', 'manifests/auth.pp', 'spec/classes/vitrage_auth_spec.rb']",3,5aa74207d4e7875afdabc9d50829ff9f2dcdd38b,,,"require 'spec_helper' describe 'vitrage::auth' do let :params do { :auth_url => 'http://localhost:5000/v3', :auth_region => 'RegionOne', :auth_user => 'vitrage', :auth_password => 'password', :auth_project_name => 'services', } end shared_examples_for 'vitrage-auth' do it 'configures authentication' do is_expected.to contain_vitrage_config('service_credentials/auth_url').with_value('http://localhost:5000/v3') is_expected.to contain_vitrage_config('service_credentials/region_name').with_value('RegionOne') is_expected.to contain_vitrage_config('service_credentials/project_domain_name').with_value('Default') is_expected.to contain_vitrage_config('service_credentials/user_domain_name').with_value('Default') is_expected.to contain_vitrage_config('service_credentials/auth_type').with_value('password') is_expected.to contain_vitrage_config('service_credentials/username').with_value('vitrage') is_expected.to contain_vitrage_config('service_credentials/password').with_value('password').with_secret(true) is_expected.to contain_vitrage_config('service_credentials/project_name').with_value('services') is_expected.to contain_vitrage_config('service_credentials/cacert').with(:value => '<SERVICE DEFAULT>') end context 'when overriding parameters' do before do params.merge!( :auth_cacert => '/tmp/dummy.pem', :interface => 'internalURL', ) end it { is_expected.to contain_vitrage_config('service_credentials/cacert').with_value(params[:auth_cacert]) } it { is_expected.to contain_vitrage_config('service_credentials/interface').with_value(params[:interface]) } end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_configures 'vitrage-auth' end end end ",4,128
openstack%2Fpuppet-octavia~master~Iabcc22e9fae5b510086370b53c3baa39b589712e,openstack/puppet-octavia,master,Iabcc22e9fae5b510086370b53c3baa39b589712e,Support more [certificats] parameters,MERGED,2022-04-27 06:00:04.000000000,2022-05-31 15:19:19.000000000,2022-05-31 15:17:55.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 06:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/f6da3442b0bf298c16a098b9db477e8d15960020', 'message': 'Support more [certificats] parameters\n\nChange-Id: Iabcc22e9fae5b510086370b53c3baa39b589712e\n'}, {'number': 2, 'created': '2022-04-27 07:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/5d89810ea54698cae3d0bbb2a422c10c92416cef', 'message': 'Support more [certificats] parameters\n\nChange-Id: Iabcc22e9fae5b510086370b53c3baa39b589712e\n'}, {'number': 3, 'created': '2022-05-24 13:49:26.000000000', 'files': ['manifests/certificates.pp', 'releasenotes/notes/more-certificates-opts-b88e8a352b4851e5.yaml', 'spec/classes/octavia_certificates_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/44a32b37dbb72b7a3b36f9d2c426838c407919ab', 'message': 'Support more [certificats] parameters\n\nChange-Id: Iabcc22e9fae5b510086370b53c3baa39b589712e\n'}]",0,839465,44a32b37dbb72b7a3b36f9d2c426838c407919ab,11,3,3,9816,,,0,"Support more [certificats] parameters

Change-Id: Iabcc22e9fae5b510086370b53c3baa39b589712e
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/65/839465/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/certificates.pp', 'releasenotes/notes/more-certificates-opts-b88e8a352b4851e5.yaml', 'spec/classes/octavia_certificates_spec.rb']",3,f6da3442b0bf298c16a098b9db477e8d15960020,," is_expected.to contain_octavia_config('certificates/signing_digest').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('certificates/cert_validity_time').with_value('<SERVICE DEFAULT>') :signing_digest => 'sha256', :cert_validity_time => '2592000' is_expected.to contain_octavia_config('certificates/signing_digest').with_value('sha256') is_expected.to contain_octavia_config('certificates/cert_validity_time').with_value(2592000)",,26,0
openstack%2Fnova~stable%2Ftrain~I575ce06bcc913add7db0849f85728371da2032fc,openstack/nova,stable/train,I575ce06bcc913add7db0849f85728371da2032fc,Allow claiming PCI PF if child VF is unavailable,NEW,2022-04-28 10:50:56.000000000,2022-05-31 15:19:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-28 10:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ee4acf37233e50e7e810d005d8b77992c89bdfc', 'message': ""Allow claiming PCI PF if child VF is unavailable\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail\nwhen try to mark the dependent VFs unavailable.\n\nThis patch changes the PCI claim logic to allow claiming the parent PF\nin the inconsistent situation as we assume that it is safe to do so.\nThis claim also fixed the inconsistency so that when the parent PF is\nfreed the children VFs become available again.\n\nCloses-Bug: #1969496\nChange-Id: I575ce06bcc913add7db0849f85728371da2032fc\n""}, {'number': 2, 'created': '2022-05-06 09:20:21.000000000', 'files': ['nova/objects/pci_device.py', 'nova/tests/unit/pci/test_manager.py', 'nova/pci/stats.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c1856bc630ddfb900da64631c636b1ba4662b025', 'message': ""Allow claiming PCI PF if child VF is unavailable\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail\nwhen try to mark the dependent VFs unavailable.\n\nThis patch changes the PCI claim logic to allow claiming the parent PF\nin the inconsistent situation as we assume that it is safe to do so.\nThis claim also fixed the inconsistency so that when the parent PF is\nfreed the children VFs become available again.\n\nCloses-Bug: #1969496\nChange-Id: I575ce06bcc913add7db0849f85728371da2032fc\n(cherry picked from commit 3af2ecc13fa9334de8418accaed4fffefefb41da)\n(cherry picked from commit 4ca4b2e6bc84ca2c209653b46d7428c6c7cbd270)\n(cherry picked from commit 1dbd45be4556c034eb469462698804984d95b503)\n(cherry picked from commit a763104217f2188b398d7eddaf3d21b91c66d2fa)\n(cherry picked from commit 5d484576efca56aebc36a60abaf410c4e3bb2727)\n(cherry picked from commit 57f6772912004bbf1fff9234b9177bb00aacb661)\n""}]",1,839719,c1856bc630ddfb900da64631c636b1ba4662b025,12,1,2,9708,,,0,"Allow claiming PCI PF if child VF is unavailable

As If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for
the pci_device table to become inconsistent. Parent PF can be in
'available' state while children VFs are still in 'unavailable' state.
In this situation the PF is schedulable but the PCI claim will fail
when try to mark the dependent VFs unavailable.

This patch changes the PCI claim logic to allow claiming the parent PF
in the inconsistent situation as we assume that it is safe to do so.
This claim also fixed the inconsistency so that when the parent PF is
freed the children VFs become available again.

Closes-Bug: #1969496
Change-Id: I575ce06bcc913add7db0849f85728371da2032fc
(cherry picked from commit 3af2ecc13fa9334de8418accaed4fffefefb41da)
(cherry picked from commit 4ca4b2e6bc84ca2c209653b46d7428c6c7cbd270)
(cherry picked from commit 1dbd45be4556c034eb469462698804984d95b503)
(cherry picked from commit a763104217f2188b398d7eddaf3d21b91c66d2fa)
(cherry picked from commit 5d484576efca56aebc36a60abaf410c4e3bb2727)
(cherry picked from commit 57f6772912004bbf1fff9234b9177bb00aacb661)
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/839719/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/pci_device.py', 'nova/tests/unit/pci/test_manager.py', 'nova/pci/stats.py']",3,1ee4acf37233e50e7e810d005d8b77992c89bdfc,bug/1969496, free_devs = self.get_free_devs() for vf in vfs_list: # NOTE(gibi): do not try to remove a device that are # already removed if vf in free_devs: self.remove_device(vf), for vf in vfs_list: self.remove_device(vf),61,27
openstack%2Fpuppet-octavia~master~I0056d81ed88f0815019fe0e9671e0a3a2b78dbb2,openstack/puppet-octavia,master,I0056d81ed88f0815019fe0e9671e0a3a2b78dbb2,Support [amphora_agent] agent_request_read_timeout,MERGED,2022-05-26 02:54:29.000000000,2022-05-31 15:17:57.000000000,2022-05-31 15:17:57.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 02:54:29.000000000', 'files': ['releasenotes/notes/agent_request_read_timeout-66a1de2c273fd4c8.yaml', 'spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/2ac18b105046d3bdcf524119a14751df4e9116c8', 'message': 'Support [amphora_agent] agent_request_read_timeout\n\nChange-Id: I0056d81ed88f0815019fe0e9671e0a3a2b78dbb2\n'}]",0,843369,2ac18b105046d3bdcf524119a14751df4e9116c8,7,3,1,9816,,,0,"Support [amphora_agent] agent_request_read_timeout

Change-Id: I0056d81ed88f0815019fe0e9671e0a3a2b78dbb2
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/69/843369/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/agent_request_read_timeout-66a1de2c273fd4c8.yaml', 'spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp']",3,2ac18b105046d3bdcf524119a14751df4e9116c8,amphora-agent-opts,"# [*agent_request_read_timeout*] # (optional) The time in seconds to allow a request from the controller to # run before terminating the socket. # Defaults to $::os_service_default # $agent_request_read_timeout = $::os_service_default, 'amphora_agent/agent_request_read_timeout' : value => $agent_request_read_timeout;",,16,0
openstack%2Fdevstack-plugin-ceph~stable%2Fussuri~I9e4d735e2aeeb91c916e43ab743c2543040420d3,openstack/devstack-plugin-ceph,stable/ussuri,I9e4d735e2aeeb91c916e43ab743c2543040420d3,Cap cinder-tempest-plugin version for stable/ussuri|victoria,MERGED,2022-05-26 01:51:47.000000000,2022-05-31 15:15:59.000000000,2022-05-31 15:12:24.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-05-26 01:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/5a0c8a841b90a24f5a02be19bc9e0531232fad34', 'message': 'Cap cinder-tempest-plugin version for stable/ussuri|victoria\n\nWe are capping stable/ussuri and victoria testing with Tempest\n26.1.0 (choosing 26.1.0 because of bug#1955418)\n\n- https://review.opendev.org/c/openstack/devstack/+/838051\n- https://review.opendev.org/c/openstack/devstack/+/843295\n\nWith Tempest 26.1.0, cinder-plugin-ceph-tempest and nova-ceph-multistore\njobs in cinder stable/ussuri|victoria are failing as their parent\njob devstack-plugin-ceph-tempest-py3 use the cinder-tempest-plugin\n\n- https://zuul.opendev.org/t/openstack/build/fb3b3b7f9bd94b429117001429b60afa/logs\n- https://zuul.opendev.org/t/openstack/build/feedddf5137045dca430ae21222da2db\n\nTo fix that we need to use compatible cinder-tempest-plugin version for\nTempest 26.1.0, which is cinder-tempest-plugin 1.3.0.\n\nChange-Id: I9e4d735e2aeeb91c916e43ab743c2543040420d3\n(cherry picked from commit d434e9c91dd2383aa661f0af0c1604c5c89356df)\n'}, {'number': 2, 'created': '2022-05-26 16:50:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/67da31fa430b99bbe13dc53bbcf81d0e7688523f', 'message': 'Cap cinder-tempest-plugin version for stable/ussuri|victoria\n\nWe are capping stable/ussuri and victoria testing with Tempest\n26.1.0 (choosing 26.1.0 because of bug#1955418)\n\n- https://review.opendev.org/c/openstack/devstack/+/838051\n- https://review.opendev.org/c/openstack/devstack/+/843295\n\nWith Tempest 26.1.0, cinder-plugin-ceph-tempest and nova-ceph-multistore\njobs in cinder stable/ussuri|victoria are failing as their parent\njob devstack-plugin-ceph-tempest-py3 use the cinder-tempest-plugin\n\n- https://zuul.opendev.org/t/openstack/build/fb3b3b7f9bd94b429117001429b60afa/logs\n- https://zuul.opendev.org/t/openstack/build/feedddf5137045dca430ae21222da2db\n\nTo fix that we need to use compatible cinder-tempest-plugin version for\nTempest 26.1.0, which is cinder-tempest-plugin 1.3.0.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\n\nChange-Id: I9e4d735e2aeeb91c916e43ab743c2543040420d3\n(cherry picked from commit d434e9c91dd2383aa661f0af0c1604c5c89356df)\n'}]",4,843355,67da31fa430b99bbe13dc53bbcf81d0e7688523f,16,3,2,8556,,,0,"Cap cinder-tempest-plugin version for stable/ussuri|victoria

We are capping stable/ussuri and victoria testing with Tempest
26.1.0 (choosing 26.1.0 because of bug#1955418)

- https://review.opendev.org/c/openstack/devstack/+/838051
- https://review.opendev.org/c/openstack/devstack/+/843295

With Tempest 26.1.0, cinder-plugin-ceph-tempest and nova-ceph-multistore
jobs in cinder stable/ussuri|victoria are failing as their parent
job devstack-plugin-ceph-tempest-py3 use the cinder-tempest-plugin

- https://zuul.opendev.org/t/openstack/build/fb3b3b7f9bd94b429117001429b60afa/logs
- https://zuul.opendev.org/t/openstack/build/feedddf5137045dca430ae21222da2db

To fix that we need to use compatible cinder-tempest-plugin version for
Tempest 26.1.0, which is cinder-tempest-plugin 1.3.0.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/838051

Change-Id: I9e4d735e2aeeb91c916e43ab743c2543040420d3
(cherry picked from commit d434e9c91dd2383aa661f0af0c1604c5c89356df)
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/55/843355/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5a0c8a841b90a24f5a02be19bc9e0531232fad34,ussuri-pin-tempest, - name: opendev.org/openstack/cinder-tempest-plugin override-checkout: 1.3.0, - openstack/cinder-tempest-plugin,2,1
openstack%2Fcharm-ceph-mon~master~I549bf2a0209c1586135d10acf00ee3242b33feb0,openstack/charm-ceph-mon,master,I549bf2a0209c1586135d10acf00ee3242b33feb0,First rewrite of ceph-mon with operator framework,ABANDONED,2022-05-31 14:33:35.000000000,2022-05-31 15:04:30.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 14:33:35.000000000', 'files': ['osci.yaml', 'hooks/radosgw-relation-joined', 'hooks/mon-relation-changed', 'hooks/prometheus-relation-departed', 'tests/bundles/focal-yoga.yaml', 'hooks/bootstrap-source-relation-departed', 'hooks/osd-relation-changed', 'hooks/pre-series-upgrade', 'hooks/dashboard-relation-joined', 'hooks/nrpe-external-master-relation-changed', 'hooks/post-series-upgrade', 'hooks/nrpe-external-master-relation-joined', 'hooks/rbd-mirror-relation-joined', 'hooks/upgrade-charm.real', 'requirements.txt', 'hooks/admin-relation-changed', 'hooks/update-status', 'hooks/client-relation-changed', 'hooks/prometheus-relation-joined', 'hooks/leader-settings-changed', 'hooks/rbd-mirror-relation-changed', 'hooks/install', 'hooks/prometheus-relation-changed', 'hooks/mds-relation-changed', 'hooks/upgrade-charm', 'tests/bundles/jammy-yoga.yaml', 'hooks/mon-relation-departed', 'requirements-dev.txt', 'hooks/bootstrap-source-relation-changed', 'hooks/osd-relation-joined', 'hooks/client-relation-joined', 'hooks/config-changed', 'hooks/stop', 'hooks/radosgw-relation-changed', 'hooks/mds-relation-joined', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'tests/bundles/local-focal-yoga.yaml', 'hooks/admin-relation-joined', 'hooks/mon-relation-joined', 'hooks/start', 'charmcraft.yaml', 'src/charm.py', 'hooks/install.real'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/68d8a779b186841fea0ccd1b61f2747c0b893a09', 'message': 'First rewrite of ceph-mon with operator framework\n\nThis patchset implements the first rewrite of the charm using the\noperator framework by simply calling into the hooks.\n\nThis change also includes functional validation about charm upgrades\nfrom the previous stable to the locally built charm.\n\nChange-Id: I61308bb2900134ea163d9e92444066a3cb0de43d\nfunc-test-pr: https://github.com/openstack-charmers/zaza/pull/513\n\nCo-authored-by: Chris MacNaughton <chris.macnaughton@canonical.com>\nChange-Id: I549bf2a0209c1586135d10acf00ee3242b33feb0\n'}]",0,844067,68d8a779b186841fea0ccd1b61f2747c0b893a09,4,2,1,20634,,,0,"First rewrite of ceph-mon with operator framework

This patchset implements the first rewrite of the charm using the
operator framework by simply calling into the hooks.

This change also includes functional validation about charm upgrades
from the previous stable to the locally built charm.

Change-Id: I61308bb2900134ea163d9e92444066a3cb0de43d
func-test-pr: https://github.com/openstack-charmers/zaza/pull/513

Co-authored-by: Chris MacNaughton <chris.macnaughton@canonical.com>
Change-Id: I549bf2a0209c1586135d10acf00ee3242b33feb0
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/67/844067/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'hooks/radosgw-relation-joined', 'hooks/mon-relation-changed', 'hooks/prometheus-relation-departed', 'tests/bundles/focal-yoga.yaml', 'hooks/bootstrap-source-relation-departed', 'hooks/osd-relation-changed', 'hooks/pre-series-upgrade', 'hooks/dashboard-relation-joined', 'hooks/nrpe-external-master-relation-changed', 'hooks/post-series-upgrade', 'hooks/nrpe-external-master-relation-joined', 'hooks/rbd-mirror-relation-joined', 'hooks/upgrade-charm.real', 'requirements.txt', 'hooks/admin-relation-changed', 'hooks/update-status', 'hooks/client-relation-changed', 'hooks/prometheus-relation-joined', 'hooks/leader-settings-changed', 'hooks/rbd-mirror-relation-changed', 'hooks/install', 'hooks/prometheus-relation-changed', 'hooks/mds-relation-changed', 'hooks/upgrade-charm', 'tests/bundles/jammy-yoga.yaml', 'hooks/mon-relation-departed', 'requirements-dev.txt', 'hooks/bootstrap-source-relation-changed', 'hooks/osd-relation-joined', 'hooks/client-relation-joined', 'hooks/config-changed', 'hooks/stop', 'hooks/radosgw-relation-changed', 'hooks/mds-relation-joined', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'tests/bundles/local-focal-yoga.yaml', 'hooks/admin-relation-joined', 'hooks/mon-relation-joined', 'hooks/start', 'charmcraft.yaml', 'src/charm.py', 'hooks/install.real']",44,68d8a779b186841fea0ccd1b61f2747c0b893a09,operator-rewrite-1,,ceph_hooks.py,464,111
openstack%2Fplacement~stable%2Fvictoria~If7e6060c867df21360a1f588ca872d65d75eb3c1,openstack/placement,stable/victoria,If7e6060c867df21360a1f588ca872d65d75eb3c1,Use 'functional-without-sample-db-tests' tox env for placement nova job,MERGED,2022-05-05 22:04:00.000000000,2022-05-31 15:02:02.000000000,2022-05-31 14:58:33.000000000,"[{'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-05 22:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/e3333ab1c9fedda926218e8f8f3504bae80f4e76', 'message': ""Use 'functional-without-sample-db-tests' tox env for placement nova job\n\nNOTE(melwitt): This is a combination of 2 commits needed to fix the\ngate, a chicken and egg problem where each fix depends on the other.\n\nNova defines (depends-on) a new tox env 'functional-without-sample-db-tests'\nto run the nova functional test by exlcuding the api|notification\nsample_tests, and db-related tests.\n\nWe can use that to fix the error  are facing currently for this job\n- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/840717\n\nDrop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\nConflicts:\n    .zuul.yaml\n    lower-constraints.txt\n\nNOTE(melwitt): conflict is due to branch specific settings (job\ntemplate names, lower constraints changes).\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ieba7daf39fa3323e8c9a7396747449f24189fcd5\n(cherry picked from commit 03d567928e31d3dc85d4dd3f5617785e7380b6b1)\n(cherry picked from commit 4d3df47ee3e394e3178d58c15306620809ad2806)\n(cherry picked from commit f96984abd48f4d938d0fff0bab9b12ed933e320e)\n\nChange-Id: If7e6060c867df21360a1f588ca872d65d75eb3c1\n(cherry picked from commit 6d49b6df1d3f62e2003c55509875380148281a79)\n(cherry picked from commit 7422ed4d7adb26868602a3f4652119ff0392d298)\n(cherry picked from commit 69dcdcb2b7df0a81addec55804ce91c724ca0f54)\n""}, {'number': 2, 'created': '2022-05-05 22:08:56.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/placement/commit/503b1f27cefeadf127d3f9f274901eba52f67c01', 'message': ""Use 'functional-without-sample-db-tests' tox env for placement nova job\n\nNOTE(melwitt): This is a combination of 2 commits needed to fix the\ngate, a chicken and egg problem where each fix depends on the other.\n\nNova defines (depends-on) a new tox env 'functional-without-sample-db-tests'\nto run the nova functional test by exlcuding the api|notification\nsample_tests, and db-related tests.\n\nWe can use that to fix the error  are facing currently for this job\n- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/840765\n\nDrop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\nConflicts:\n    .zuul.yaml\n    lower-constraints.txt\n\nNOTE(melwitt): conflict is due to branch specific settings (job\ntemplate names, lower constraints changes).\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ieba7daf39fa3323e8c9a7396747449f24189fcd5\n(cherry picked from commit 03d567928e31d3dc85d4dd3f5617785e7380b6b1)\n(cherry picked from commit 4d3df47ee3e394e3178d58c15306620809ad2806)\n(cherry picked from commit f96984abd48f4d938d0fff0bab9b12ed933e320e)\n\nChange-Id: If7e6060c867df21360a1f588ca872d65d75eb3c1\n(cherry picked from commit 6d49b6df1d3f62e2003c55509875380148281a79)\n(cherry picked from commit 7422ed4d7adb26868602a3f4652119ff0392d298)\n(cherry picked from commit 69dcdcb2b7df0a81addec55804ce91c724ca0f54)\n""}]",3,840767,503b1f27cefeadf127d3f9f274901eba52f67c01,14,3,2,4690,,,0,"Use 'functional-without-sample-db-tests' tox env for placement nova job

NOTE(melwitt): This is a combination of 2 commits needed to fix the
gate, a chicken and egg problem where each fix depends on the other.

Nova defines (depends-on) a new tox env 'functional-without-sample-db-tests'
to run the nova functional test by exlcuding the api|notification
sample_tests, and db-related tests.

We can use that to fix the error  are facing currently for this job
- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4

Depends-On: https://review.opendev.org/c/openstack/nova/+/840765

Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

Conflicts:
    .zuul.yaml
    lower-constraints.txt

NOTE(melwitt): conflict is due to branch specific settings (job
template names, lower constraints changes).

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ieba7daf39fa3323e8c9a7396747449f24189fcd5
(cherry picked from commit 03d567928e31d3dc85d4dd3f5617785e7380b6b1)
(cherry picked from commit 4d3df47ee3e394e3178d58c15306620809ad2806)
(cherry picked from commit f96984abd48f4d938d0fff0bab9b12ed933e320e)

Change-Id: If7e6060c867df21360a1f588ca872d65d75eb3c1
(cherry picked from commit 6d49b6df1d3f62e2003c55509875380148281a79)
(cherry picked from commit 7422ed4d7adb26868602a3f4652119ff0392d298)
(cherry picked from commit 69dcdcb2b7df0a81addec55804ce91c724ca0f54)
",git fetch https://review.opendev.org/openstack/placement refs/changes/67/840767/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,e3333ab1c9fedda926218e8f8f3504bae80f4e76,bug/1780799,," [testenv:lower-constraints] # When using pbr and in a git repo, 'setup.py install' does not install # packages. 'setup.py develop', used when usedevelop is True, does. usedevelop = False # Use our own install_command to turn off upper constraints, which conflicts # with lower constraints. install_command = pip install {opts} {packages} deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt # Test with both functional and unit tests. commands = {[testenv]commands} stestr --test-path=./placement/tests run {posargs}",7,108
openstack%2Fnova~stable%2Ftrain~If9ab424cc7375a1f0d41b03f01c4a823216b3eb8,openstack/nova,stable/train,If9ab424cc7375a1f0d41b03f01c4a823216b3eb8,Remove unavailable but not reported PCI devices at startup,NEW,2022-04-28 10:50:56.000000000,2022-05-31 14:58:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-28 10:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae29dc2b9c8db6ee4094112b17374399ea5bee81', 'message': 'Remove unavailable but not reported PCI devices at startup\n\nWe saw in the field that the pci_devices table can end up in\ninconsistent state after a compute node HW failure and re-deployment.\nThere could be dependent devices where the parent PF is in available\nstate while the children VFs are in unavailable state. (Before the HW\nfault the PF was allocated hence the VFs was marked unavailable).\n\nIn this state this PF is still schedulable but during the\nPCI claim the handling of dependent devices in the PCI tracker fill fail\nwith the error: ""Attempt to consume PCI device XXX from empty pool"".\n\nThe reason of the failure is that when the PF is claimed, all the\nchildren VFs are marked unavailable. But if the VF is already\nunavailable such step fails.\n\nOne way the deployer might try to recover from this state is to remove\nthe VFs from the hypervisor and restart the compute agent. The compute\nstartup already has a logic to delete PCI devices that are unused and\nnot reported by the hypervisor. However this logic only removed devices\nin \'available\' state and ignored devices in \'unavailable\' state.\n\nIf a device is unused and the hypervisor is not reporting the device any\nmore then it is safe to delete that device from the PCI tracker. So this\npatch extends the logic to allow deleting \'unavailable\' devices. There\nis a small window when dependent PCI device is in \'unclaimable\' state.\nFrom cleanup perspective this is an analogous state. So it is also\nadded to the cleanup logic.\n\nRelated-Bug: #1969496\n\nChange-Id: If9ab424cc7375a1f0d41b03f01c4a823216b3eb8\n'}, {'number': 2, 'created': '2022-05-06 09:20:21.000000000', 'files': ['nova/objects/pci_device.py', 'nova/pci/manager.py', 'nova/tests/unit/objects/test_pci_device.py', 'nova/tests/unit/pci/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3a73728d287d2fa4a7444fa565e4310662fc7653', 'message': 'Remove unavailable but not reported PCI devices at startup\n\nWe saw in the field that the pci_devices table can end up in\ninconsistent state after a compute node HW failure and re-deployment.\nThere could be dependent devices where the parent PF is in available\nstate while the children VFs are in unavailable state. (Before the HW\nfault the PF was allocated hence the VFs was marked unavailable).\n\nIn this state this PF is still schedulable but during the\nPCI claim the handling of dependent devices in the PCI tracker fill fail\nwith the error: ""Attempt to consume PCI device XXX from empty pool"".\n\nThe reason of the failure is that when the PF is claimed, all the\nchildren VFs are marked unavailable. But if the VF is already\nunavailable such step fails.\n\nOne way the deployer might try to recover from this state is to remove\nthe VFs from the hypervisor and restart the compute agent. The compute\nstartup already has a logic to delete PCI devices that are unused and\nnot reported by the hypervisor. However this logic only removed devices\nin \'available\' state and ignored devices in \'unavailable\' state.\n\nIf a device is unused and the hypervisor is not reporting the device any\nmore then it is safe to delete that device from the PCI tracker. So this\npatch extends the logic to allow deleting \'unavailable\' devices. There\nis a small window when dependent PCI device is in \'unclaimable\' state.\nFrom cleanup perspective this is an analogous state. So it is also\nadded to the cleanup logic.\n\nRelated-Bug: #1969496\nChange-Id: If9ab424cc7375a1f0d41b03f01c4a823216b3eb8\n(cherry picked from commit 284ea72e96604bdf16d1c5c4db47247334841b2f)\n(cherry picked from commit d7bca631fea348fb56cc46c5680643bacd82513e)\n(cherry picked from commit 580a4b14ae367e327229482decca0cb6cdf6e9d8)\n(cherry picked from commit 59ae44754ebce106b23bc697a822d181cdda41c6)\n(cherry picked from commit fdf52a1b099683ec65f6f0488ef73c952d90e002)\n(cherry picked from commit 28c8ebc7b21a4606c7c652c185ba80eaefd5d537)\n'}]",1,839717,3a73728d287d2fa4a7444fa565e4310662fc7653,12,1,2,9708,,,0,"Remove unavailable but not reported PCI devices at startup

We saw in the field that the pci_devices table can end up in
inconsistent state after a compute node HW failure and re-deployment.
There could be dependent devices where the parent PF is in available
state while the children VFs are in unavailable state. (Before the HW
fault the PF was allocated hence the VFs was marked unavailable).

In this state this PF is still schedulable but during the
PCI claim the handling of dependent devices in the PCI tracker fill fail
with the error: ""Attempt to consume PCI device XXX from empty pool"".

The reason of the failure is that when the PF is claimed, all the
children VFs are marked unavailable. But if the VF is already
unavailable such step fails.

One way the deployer might try to recover from this state is to remove
the VFs from the hypervisor and restart the compute agent. The compute
startup already has a logic to delete PCI devices that are unused and
not reported by the hypervisor. However this logic only removed devices
in 'available' state and ignored devices in 'unavailable' state.

If a device is unused and the hypervisor is not reporting the device any
more then it is safe to delete that device from the PCI tracker. So this
patch extends the logic to allow deleting 'unavailable' devices. There
is a small window when dependent PCI device is in 'unclaimable' state.
From cleanup perspective this is an analogous state. So it is also
added to the cleanup logic.

Related-Bug: #1969496
Change-Id: If9ab424cc7375a1f0d41b03f01c4a823216b3eb8
(cherry picked from commit 284ea72e96604bdf16d1c5c4db47247334841b2f)
(cherry picked from commit d7bca631fea348fb56cc46c5680643bacd82513e)
(cherry picked from commit 580a4b14ae367e327229482decca0cb6cdf6e9d8)
(cherry picked from commit 59ae44754ebce106b23bc697a822d181cdda41c6)
(cherry picked from commit fdf52a1b099683ec65f6f0488ef73c952d90e002)
(cherry picked from commit 28c8ebc7b21a4606c7c652c185ba80eaefd5d537)
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/839717/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/pci_device.py', 'nova/pci/manager.py', 'nova/tests/unit/objects/test_pci_device.py', 'nova/tests/unit/pci/test_manager.py']",4,ae29dc2b9c8db6ee4094112b17374399ea5bee81,bug/1969496," def _get_device_by_address(self, address): devs = [dev for dev in self.tracker.pci_devs if dev.address == address] if len(devs) == 1: return devs[0] if devs: raise ValueError('ambiguous address', devs) else: raise ValueError('device not found', address) def test_set_hvdevs_unavailable_vf_removed(self): # We start with a PF parent and two VF children self._create_tracker([fake_db_dev_3, fake_db_dev_4, fake_db_dev_5]) pci_requests_obj = self._create_pci_requests_object( [ { 'count': 1, 'spec': [{'dev_type': fields.PciDeviceType.SRIOV_PF}] } ], instance_uuid=uuidsentinel.instance1, ) # then claim and allocate the PF that makes the VFs unavailable self.tracker.claim_instance( mock.sentinel.context, pci_requests_obj, None) self.tracker.allocate_instance({'uuid': uuidsentinel.instance1}) dev3_pf = self._get_device_by_address(fake_db_dev_3['address']) self.assertEqual('allocated', dev3_pf.status) self.assertEqual(uuidsentinel.instance1, dev3_pf.instance_uuid) dev4_vf = self._get_device_by_address(fake_db_dev_4['address']) self.assertEqual('unavailable', dev4_vf.status) dev5_vf = self._get_device_by_address(fake_db_dev_5['address']) self.assertEqual('unavailable', dev5_vf.status) # now simulate that one VF (dev_5) is removed from the hypervisor and # the compute is restarted. As the VF is not claimed or allocated we # are free to remove it from the tracker. self.tracker._set_hvdevs([fake_db_dev_3, fake_db_dev_4]) dev3_pf = self._get_device_by_address(fake_db_dev_3['address']) self.assertEqual('allocated', dev3_pf.status) self.assertEqual(uuidsentinel.instance1, dev3_pf.instance_uuid) dev4_vf = self._get_device_by_address(fake_db_dev_4['address']) self.assertEqual('unavailable', dev4_vf.status) dev5_vf = self._get_device_by_address(fake_db_dev_5['address']) self.assertEqual('removed', dev5_vf.status) def test_set_hvdevs_unavailable_pf_removed(self): # We start with one PF parent and one child VF self._create_tracker([fake_db_dev_3, fake_db_dev_4]) pci_requests_obj = self._create_pci_requests_object( [ { 'count': 1, 'spec': [{'dev_type': fields.PciDeviceType.SRIOV_VF}] } ], instance_uuid=uuidsentinel.instance1, ) # Then we claim and allocate the VF that makes the PF unavailable self.tracker.claim_instance( mock.sentinel.context, pci_requests_obj, None) self.tracker.allocate_instance({'uuid': uuidsentinel.instance1}) dev3_pf = self._get_device_by_address(fake_db_dev_3['address']) self.assertEqual('unavailable', dev3_pf.status) dev4_vf = self._get_device_by_address(fake_db_dev_4['address']) self.assertEqual('allocated', dev4_vf.status) self.assertEqual(uuidsentinel.instance1, dev4_vf.instance_uuid) # now simulate that the parent PF is removed from the hypervisor and # the compute is restarted. As the PF is not claimed or allocated we # are free to remove it from the tracker. self.tracker._set_hvdevs([fake_db_dev_4]) dev3_pf = self._get_device_by_address(fake_db_dev_3['address']) self.assertEqual('removed', dev3_pf.status) dev4_vf = self._get_device_by_address(fake_db_dev_4['address']) self.assertEqual('allocated', dev4_vf.status) self.assertEqual(uuidsentinel.instance1, dev4_vf.instance_uuid) ",,123,7
openstack%2Foslo.utils~master~I91d0c6eec5333a660f995a9d1436e4b068693900,openstack/oslo.utils,master,I91d0c6eec5333a660f995a9d1436e4b068693900,strutils: Defer import of pyparsing,MERGED,2022-05-18 12:03:17.000000000,2022-05-31 14:56:02.000000000,2022-05-31 14:54:43.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-05-18 12:03:17.000000000', 'files': ['oslo_utils/strutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/0eaa7de6a7b4754638640e5caaec0de9832e4dbb', 'message': ""strutils: Defer import of pyparsing\n\nThis is a slow import and the single user of it, the 'split_by_commas'\nhelper, does not appear to have any users outside of python-glareclient\n(which is a dead project). We might want to remove the user at some\npoint, but for now simply defer loading of the library.\n\nChange-Id: I91d0c6eec5333a660f995a9d1436e4b068693900\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,842341,0eaa7de6a7b4754638640e5caaec0de9832e4dbb,13,4,1,15334,,,0,"strutils: Defer import of pyparsing

This is a slow import and the single user of it, the 'split_by_commas'
helper, does not appear to have any users outside of python-glareclient
(which is a dead project). We might want to remove the user at some
point, but for now simply defer loading of the library.

Change-Id: I91d0c6eec5333a660f995a9d1436e4b068693900
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/41/842341/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_utils/strutils.py'],1,0eaa7de6a7b4754638640e5caaec0de9832e4dbb,slow-imports," # pyparsing is a slow import; defer loading until we need it import pyparsing as pp word = ( pp.QuotedString(quoteChar='""', escChar='\\') | pp.Word(pp.printables, excludeChars='"",') )","import pyparsing as pp word = (pp.QuotedString(quoteChar='""', escChar='\\') | pp.Word(pp.printables, excludeChars='"",'))",7,4
openstack%2Fpuppet-swift~master~I746016635f36f0940c0515c4bf49fec11c43c602,openstack/puppet-swift,master,I746016635f36f0940c0515c4bf49fec11c43c602,Improve test coverage of swift::storage::disk,MERGED,2022-05-22 14:59:54.000000000,2022-05-31 14:46:40.000000000,2022-05-31 14:46:40.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-22 14:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/47bb18f87082ed48523f9824de2ae7bafbd68706', 'message': 'Improve test coverage of swift::storage::disk\n\nChange-Id: I746016635f36f0940c0515c4bf49fec11c43c602\n'}, {'number': 2, 'created': '2022-05-23 02:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/db00f1ce04a71b48afe13d519eda208c315f4e98', 'message': 'Improve test coverage of swift::storage::disk\n\nChange-Id: I746016635f36f0940c0515c4bf49fec11c43c602\n'}, {'number': 3, 'created': '2022-05-24 01:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/d3e770ede028fcbcbb65ade3de81038d486b261b', 'message': 'Improve test coverage of swift::storage::disk\n\nChange-Id: I746016635f36f0940c0515c4bf49fec11c43c602\n'}, {'number': 4, 'created': '2022-05-24 01:47:35.000000000', 'files': ['spec/defines/swift_storage_disk_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/7f96ac35d4d9c0f71b11a61fe5192e0b2d7536b6', 'message': 'Improve test coverage of swift::storage::disk\n\nChange-Id: I746016635f36f0940c0515c4bf49fec11c43c602\n'}]",0,842899,7f96ac35d4d9c0f71b11a61fe5192e0b2d7536b6,12,3,4,9816,,,0,"Improve test coverage of swift::storage::disk

Change-Id: I746016635f36f0940c0515c4bf49fec11c43c602
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/99/842899/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/storage/disk.pp', 'spec/defines/swift_storage_disk_spec.rb']",2,47bb18f87082ed48523f9824de2ae7bafbd68706,mount_type-in-storage-disk," context 'with defaults' do let :params do {} end it { is_expected.to contain_exec('create_partition_label-sdb').with( :command => 'parted -s /dev/sdb mklabel gpt ', :path => ['/usr/bin/', '/sbin', '/bin'], :onlyif => ['test -b /dev/sdb', 'parted /dev/sdb print|tail -1|grep \'Error\''], :before => 'Anchor[swift::config::end]' )} it { is_expected.to contain_swift__storage__xfs('sdb').with( :device => '/dev/sdb', :mnt_base_dir => '/srv/node', :byte_size => '1024', :loopback => false, :manage_filesystem => true, ) } } context 'with parameters' do let :params do { :mnt_base_dir => '/srv/data', :byte_size => '2048', :ext_args => 'mkpart primary 0% 100%', :manage_filesystem => false, } end it { is_expected.to contain_exec('create_partition_label-sdb').with( :command => 'parted -s /dev/sdb mklabel gpt mkpart primary 0% 100%', :path => ['/usr/bin/', '/sbin', '/bin'], :onlyif => ['test -b /dev/sdb', 'parted /dev/sdb print|tail -1|grep \'Error\''], :before => 'Anchor[swift::config::end]' )} it { is_expected.to contain_swift__storage__xfs('sdb').with( :device => '/dev/sdb', :mnt_base_dir => '/srv/data', :byte_size => '2048', :loopback => false, :manage_filesystem => false, ) } end context 'with partition is not managed' do let :params do { :manage_partrition => false } end it { is_expected.to_not contain_exec('create_partition_label-sdb') } end"," # TODO add more unit tests let :params do { :base_dir => '/dev', :mnt_base_dir => '/srv/node', :byte_size => '1024', :ext_args => 'mkpart primary 0% 100%', } end it { is_expected.to contain_exec(""create_partition_label-sdb"").with( :command => ""parted -s #{params[:base_dir]}/sdb mklabel gpt #{params[:ext_args]}"", :path => [""/usr/bin/"", ""/sbin"", ""/bin""], :onlyif => [""test -b #{params[:base_dir]}/sdb"",""parted #{params[:base_dir]}/sdb print|tail -1|grep 'Error'""], :before => 'Anchor[swift::config::end]' )} it { is_expected.to contain_swift__storage__xfs('sdb').with( :device => '/dev/sdb', :mnt_base_dir => '/srv/node', :byte_size => '1024', :loopback => false ) }",59,22
openstack%2Fdevstack~master~I56775a29c10d4ba5c8cddb3e3c512458c1064f41,openstack/devstack,master,I56775a29c10d4ba5c8cddb3e3c512458c1064f41,Allow toggling of file_backed_memory for libvirt,ABANDONED,2018-06-12 16:12:37.000000000,2022-05-31 14:43:11.000000000,,"[{'_account_id': 4393}, {'_account_id': 5196}, {'_account_id': 6873}, {'_account_id': 7118}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11604}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26006}]","[{'number': 1, 'created': '2018-06-12 16:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/34f65b2e4c34d2db96d6758e79eceea364210b76', 'message': 'WIP: Allow toggling of file_backed_memory for libvirt\n\nChange-Id: I56775a29c10d4ba5c8cddb3e3c512458c1064f41\nDepends-On: https://review.openstack.org/#/c/567876/\n'}, {'number': 2, 'created': '2018-06-13 13:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/723edcec2c1fa7dd7dfeda610403f36ad4a41ed6', 'message': 'WIP: Allow toggling of file_backed_memory for libvirt\n\nChange-Id: I56775a29c10d4ba5c8cddb3e3c512458c1064f41\nDepends-On: https://review.openstack.org/#/c/567876/\n'}, {'number': 3, 'created': '2018-06-13 16:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5b8db1878aecebcdf1b695e2e8ed923f8fdea682', 'message': 'WIP: Allow toggling of file_backed_memory for libvirt\n\nChange-Id: I56775a29c10d4ba5c8cddb3e3c512458c1064f41\nDepends-On: https://review.openstack.org/#/c/567876/\n'}, {'number': 4, 'created': '2018-06-13 19:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7779851ff016b9d55900ff9101418a5a31f06235', 'message': 'WIP: Allow toggling of file_backed_memory for libvirt\n\nChange-Id: I56775a29c10d4ba5c8cddb3e3c512458c1064f41\nDepends-On: https://review.openstack.org/#/c/567876/\n'}, {'number': 5, 'created': '2018-06-14 14:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/36b58f14c816733d2171c69579d8e68dcad10ebd', 'message': 'WIP: Allow toggling of file_backed_memory for libvirt\n\nChange-Id: I56775a29c10d4ba5c8cddb3e3c512458c1064f41\nDepends-On: https://review.openstack.org/#/c/567876/\n'}, {'number': 6, 'created': '2018-06-15 15:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7ceb7695b6b79301af6f279316ae23e10e61b4ad', 'message': 'WIP: Allow toggling of file_backed_memory for libvirt\n\nDepends on two things:\n\n* the nova change that adds file-backed memory support\n  to the libvirt driver\n\n* a backport to stable/queens for devstack to enable\n  the queens UCA which has the minimum versions of\n  libvirt and qemu needed for file-backed memory to\n  pass grenade\n\nChange-Id: I56775a29c10d4ba5c8cddb3e3c512458c1064f41\nDepends-On: https://review.openstack.org/#/c/567876/\nDepends-On: https://review.openstack.org/#/c/575764/\n'}, {'number': 7, 'created': '2018-06-21 17:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d96f8c2fa58a13af91da2fb79a8d3324266b0933', 'message': 'Allow toggling of file_backed_memory for libvirt\n\nDepends on two things:\n\n* the nova change that adds file-backed memory support\n  to the libvirt driver\n\n* a backport to stable/queens for devstack to enable\n  the queens UCA which has the minimum versions of\n  libvirt and qemu needed for file-backed memory to\n  pass grenade\n\nChange-Id: I56775a29c10d4ba5c8cddb3e3c512458c1064f41\nDepends-On: https://review.openstack.org/#/c/567876/\nDepends-On: https://review.openstack.org/#/c/575764/\n'}, {'number': 8, 'created': '2018-06-22 15:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/62d83a5a92fa7d27bda291af170aef52f8cc469f', 'message': 'Allow toggling of file_backed_memory for libvirt\n\nDepends on two things:\n\n* the nova change that adds file-backed memory support\n  to the libvirt driver\n\n* a backport to stable/queens for devstack to enable\n  the queens UCA which has the minimum versions of\n  libvirt and qemu needed for file-backed memory to\n  pass grenade\n\nChange-Id: I56775a29c10d4ba5c8cddb3e3c512458c1064f41\nDepends-On: https://review.openstack.org/#/c/567876/\nDepends-On: https://review.openstack.org/#/c/575764/\n'}, {'number': 9, 'created': '2018-11-02 13:36:57.000000000', 'files': ['lib/nova', 'lib/nova_plugins/hypervisor-libvirt'], 'web_link': 'https://opendev.org/openstack/devstack/commit/af42001eb7c19166b45a3ace8ab040f8b57c9bb0', 'message': 'Allow toggling of file_backed_memory for libvirt\n\nThis can be used in a file-backed memory experimental\nqueue CI job in nova to test the feature.\n\nChange-Id: I56775a29c10d4ba5c8cddb3e3c512458c1064f41\n'}]",17,574792,af42001eb7c19166b45a3ace8ab040f8b57c9bb0,72,13,9,4393,,,0,"Allow toggling of file_backed_memory for libvirt

This can be used in a file-backed memory experimental
queue CI job in nova to test the feature.

Change-Id: I56775a29c10d4ba5c8cddb3e3c512458c1064f41
",git fetch https://review.opendev.org/openstack/devstack refs/changes/92/574792/8 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,34f65b2e4c34d2db96d6758e79eceea364210b76,file-backed-memory,"# Allow toggling of file_backed_memory LIBVIRT_ENABLE_FILE_BACKED_MEMORY=$(trueorfalse True LIBVIRT_ENABLE_FILE_BACKED_MEMORY) if [[ ""${LIBVIRT_ENABLE_FILE_BACKED_MEMORY}"" == ""True"" ]]; then iniset $NOVA_CPU_CONF libvirt file_backed_memory True sed -ri 's/#(memory_backing_dir.*)$/\1/' /etc/libvirt/qemu.conf grep memory_backing_dir /etc/libvirt/qemu.conf mount -t tmpfs none /var/lib/libvirt/qemu/ram systemctl restart libvirt-bin fi ",,11,0
openstack%2Fansible-collections-openstack~master~If8fda40780050d271c9d869d8959ef569644fd88,openstack/ansible-collections-openstack,master,If8fda40780050d271c9d869d8959ef569644fd88,Update recordset module to be compatible with OpenStack SDK 0.99.x/1.0.x,MERGED,2022-05-19 16:40:04.000000000,2022-05-31 14:40:47.000000000,2022-05-31 14:40:47.000000000,"[{'_account_id': 8367}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-05-19 16:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/57e7595263aa89281b776298c417f624efd7ae18', 'message': 'Update recordset module to be compatible with new sdk\n\n- Change sdk calls to use proxy layer\n- Convert sdk results to dict before returning\n- General refactoring of module\n- Move recordset specific tests from the dns role to new recordset role\n- Adds additional tests to recordset role\n\nChange-Id: If8fda40780050d271c9d869d8959ef569644fd88\n'}, {'number': 2, 'created': '2022-05-23 13:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/440d51f91b9a6ff989ff9db1bb6db164f624cb29', 'message': 'Update recordset module to be compatible with new sdk\n\n- Change sdk calls to use proxy layer\n- Convert sdk results to dict before returning\n- General refactoring of module\n- Move recordset specific tests from the dns role to new recordset role\n- Adds additional tests to recordset role\n\nChange-Id: If8fda40780050d271c9d869d8959ef569644fd88\n'}, {'number': 3, 'created': '2022-05-30 08:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3eb5d4bae52ae3bdf87158598d566f480dbf3e28', 'message': 'Update recordset module to be compatible with OpenStack SDK 0.90.x/1.0.x\n\n- Change sdk calls to use proxy layer\n- Convert sdk results to dict before returning\n- General refactoring of module\n- Move recordset specific tests from the dns role to new recordset role\n- Adds additional tests to recordset role\n\nChange-Id: If8fda40780050d271c9d869d8959ef569644fd88\n'}, {'number': 4, 'created': '2022-05-30 10:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b2f205555e55f6c1b5ba868e6881c4f28d0451de', 'message': 'Update recordset module to be compatible with OpenStack SDK 0.99.x/1.0.x\n\n- Change sdk calls to use proxy layer\n- Convert sdk results to dict before returning\n- General refactoring of module\n- Move recordset specific tests from the dns role to new recordset role\n- Adds additional tests to recordset role\n\nChange-Id: If8fda40780050d271c9d869d8959ef569644fd88\n'}, {'number': 5, 'created': '2022-05-30 18:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9535cb1a3e7c65919983162f3962f9a79c7766c9', 'message': 'Update recordset module to be compatible with OpenStack SDK 0.99.x/1.0.x\n\n- Change sdk calls to use proxy layer\n- Convert sdk results to dict before returning\n- General refactoring of module\n- Move recordset specific tests from the dns role to new recordset role\n- Adds additional tests to recordset role\n\nChange-Id: If8fda40780050d271c9d869d8959ef569644fd88\n'}, {'number': 6, 'created': '2022-05-30 19:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0e57e032785ea558be28d338a27be505c05cad31', 'message': 'Update recordset module to be compatible with OpenStack SDK 0.99.x/1.0.x\n\n- Change sdk calls to use proxy layer\n- Convert sdk results to dict before returning\n- General refactoring of module\n- Move recordset specific tests from the dns role to new recordset role\n- Adds additional tests to recordset role\n\nChange-Id: If8fda40780050d271c9d869d8959ef569644fd88\n'}, {'number': 7, 'created': '2022-05-31 07:44:01.000000000', 'files': ['ci/roles/recordset/defaults/main.yml', '.zuul.yaml', 'plugins/modules/recordset.py', 'ci/roles/recordset/tasks/main.yml', 'ci/run-collection.yml', 'ci/roles/dns/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/97b05533f14d622d2b02147011aa59a9aa07c372', 'message': 'Update recordset module to be compatible with OpenStack SDK 0.99.x/1.0.x\n\n- Change sdk calls to use proxy layer\n- Convert sdk results to dict before returning\n- General refactoring of module\n- Move recordset specific tests from the dns role to new recordset role\n- Adds additional tests to recordset role\n\nChange-Id: If8fda40780050d271c9d869d8959ef569644fd88\n'}]",22,842575,97b05533f14d622d2b02147011aa59a9aa07c372,26,5,7,34208,,,0,"Update recordset module to be compatible with OpenStack SDK 0.99.x/1.0.x

- Change sdk calls to use proxy layer
- Convert sdk results to dict before returning
- General refactoring of module
- Move recordset specific tests from the dns role to new recordset role
- Adds additional tests to recordset role

Change-Id: If8fda40780050d271c9d869d8959ef569644fd88
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/75/842575/5 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/recordset/defaults/main.yml', '.zuul.yaml', 'plugins/modules/recordset.py', 'ci/roles/recordset/tasks/main.yml', 'ci/run-collection.yml', 'ci/roles/dns/tasks/main.yml']",6,57e7595263aa89281b776298c417f624efd7ae18,recordset,,"- name: Create a recordset openstack.cloud.recordset: cloud: ""{{ cloud }}"" zone: ""{{ updated_dns_zone.zone.name }}"" name: ""{{ recordset_name }}"" recordset_type: ""a"" records: ""{{ records }}"" register: recordset - name: Verify recordset info assert: that: - recordset[""recordset""].name == recordset_name - recordset[""recordset""].zone_name == dns_zone.zone.name - recordset[""recordset""].records == records - name: Update a recordset openstack.cloud.recordset: cloud: ""{{ cloud }}"" zone: ""{{ updated_dns_zone.zone.name }}"" name: ""{{ recordset_name }}"" recordset_type: ""a"" records: ""{{ updated_records }}"" description: ""new test recordset"" register: updated_recordset - name: Verify recordset info assert: that: - updated_recordset[""recordset""].zone_name == dns_zone.zone.name - updated_recordset[""recordset""].name == recordset_name - updated_recordset[""recordset""].records == updated_records - name: Delete recordset openstack.cloud.recordset: cloud: ""{{ cloud }}"" zone: ""{{ updated_dns_zone.zone.name }}"" name: ""{{ recordset.recordset.name }}"" state: absent register: deleted_recordset - name: Verify recordset deletion assert: that: - deleted_recordset is successful - deleted_recordset is changed ",228,150
openstack%2Fansible-collections-openstack~master~I6a98ba8466863b41fc996855fd12cf9f3097abe0,openstack/ansible-collections-openstack,master,I6a98ba8466863b41fc996855fd12cf9f3097abe0,Update host_aggregate to be compatible with new sdk,MERGED,2022-05-13 04:37:37.000000000,2022-05-31 14:40:45.000000000,2022-05-31 14:40:45.000000000,"[{'_account_id': 8367}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-05-13 04:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e684deed5729e592a398200edb8434d102e441b2', 'message': 'Update host_aggregate to use new sdk\n\nChange-Id: I6a98ba8466863b41fc996855fd12cf9f3097abe0\n'}, {'number': 2, 'created': '2022-05-13 04:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3920148ba5b84a414f4f54ca3eeee2670c603935', 'message': 'Update host_aggregate to use new sdk\n\nChange-Id: I6a98ba8466863b41fc996855fd12cf9f3097abe0\n'}, {'number': 3, 'created': '2022-05-13 14:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bc101c6b83d827a8d53140bac55e3983af4a66b1', 'message': 'Update host_aggregate to use new sdk\n\nChange-Id: I6a98ba8466863b41fc996855fd12cf9f3097abe0\n'}, {'number': 4, 'created': '2022-05-13 20:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/349ab8ae8980692cda405e5c0b353532c259d5df', 'message': 'Update host_aggregate to be compatible with new sdk\n\n- Change the implementation to use the proxy layer\n- Update the module to return an aggregate object\n- Adds a role to test the module\n\nChange-Id: I6a98ba8466863b41fc996855fd12cf9f3097abe0\n'}, {'number': 5, 'created': '2022-05-31 09:03:25.000000000', 'files': ['ci/roles/host_aggregate/defaults/main.yml', 'ci/roles/host_aggregate/tasks/main.yml', 'plugins/modules/host_aggregate.py', '.zuul.yaml', 'ci/run-collection.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4ea2c5b50d9dd5ecf0a7f64c96864754561b974f', 'message': 'Update host_aggregate to be compatible with new sdk\n\n- Change the implementation to use the proxy layer\n- Update the module to return an aggregate object\n- Adds a role to test the module\n\nChange-Id: I6a98ba8466863b41fc996855fd12cf9f3097abe0\n'}]",12,841678,4ea2c5b50d9dd5ecf0a7f64c96864754561b974f,20,5,5,34208,,,0,"Update host_aggregate to be compatible with new sdk

- Change the implementation to use the proxy layer
- Update the module to return an aggregate object
- Adds a role to test the module

Change-Id: I6a98ba8466863b41fc996855fd12cf9f3097abe0
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/78/841678/3 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/host_aggregate/tasks/main.yml', 'plugins/modules/host_aggregate.py', 'ci/run-collection.yml']",3,e684deed5729e592a398200edb8434d102e441b2,host_aggregate," - { role: host_aggregate, tags: host_aggregate }",,53,51
openstack%2Frequirements~master~I4f5d8afbe3d7603a2d28b13dd38c283f290b456d,openstack/requirements,master,I4f5d8afbe3d7603a2d28b13dd38c283f290b456d,Adding constraint for glanceclient for Python 3.6,ABANDONED,2022-05-30 09:19:45.000000000,2022-05-31 14:36:57.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 09:19:45.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/75bac865a0b20f47cdec08180c47ab1228dfe32b', 'message': 'Adding constraint for glanceclient for Python 3.6\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I4f5d8afbe3d7603a2d28b13dd38c283f290b456d\n'}]",2,843805,75bac865a0b20f47cdec08180c47ab1228dfe32b,6,2,1,32926,,,0,"Adding constraint for glanceclient for Python 3.6

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I4f5d8afbe3d7603a2d28b13dd38c283f290b456d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/05/843805/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,75bac865a0b20f47cdec08180c47ab1228dfe32b,py36-glanceclient,python-glanceclient===3.6.0;python_version=='3.6' pyinotify===0.9.6,,2,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I44c8a059918918f5bdc1c0190110a05d8d7f8f2d,openstack/kolla-ansible,stable/wallaby,I44c8a059918918f5bdc1c0190110a05d8d7f8f2d,Make redis connection string configurable,MERGED,2022-05-31 04:39:00.000000000,2022-05-31 14:33:07.000000000,2022-05-31 14:31:08.000000000,"[{'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-31 04:39:00.000000000', 'files': ['ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d34dd812503a68950e98b6776f2ec39ba7b78db7', 'message': 'Make redis connection string configurable\n\nChange-Id: I44c8a059918918f5bdc1c0190110a05d8d7f8f2d\n(cherry picked from commit 71ea62543afe17002656d7f18d4651e54089ca51)\n'}]",2,843823,d34dd812503a68950e98b6776f2ec39ba7b78db7,12,4,1,27339,,,0,"Make redis connection string configurable

Change-Id: I44c8a059918918f5bdc1c0190110a05d8d7f8f2d
(cherry picked from commit 71ea62543afe17002656d7f18d4651e54089ca51)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/23/843823/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,d34dd812503a68950e98b6776f2ec39ba7b78db7,redis-connection-string-stable/wallaby,"redis_connection_string: ""redis://{% for host in groups['redis'] %}{% if host == groups['redis'][0] %}admin:{{ redis_master_password }}@{{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ redis_sentinel_port }}?sentinel=kolla{% else %}&sentinel_fallback={{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ redis_sentinel_port }}{% endif %}{% endfor %}{{ redis_connection_string_extras }}"" redis_connection_string_extras: ""&db=0&socket_timeout=60&retry_on_timeout=yes""","redis_connection_string: ""redis://{% for host in groups['redis'] %}{% if host == groups['redis'][0] %}admin:{{ redis_master_password }}@{{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ redis_sentinel_port }}?sentinel=kolla{% else %}&sentinel_fallback={{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ redis_sentinel_port }}{% endif %}{% endfor %}&db=0&socket_timeout=60&retry_on_timeout=yes""",2,1
openstack%2Fkolla-ansible~stable%2Fyoga~I44c8a059918918f5bdc1c0190110a05d8d7f8f2d,openstack/kolla-ansible,stable/yoga,I44c8a059918918f5bdc1c0190110a05d8d7f8f2d,Make redis connection string configurable,MERGED,2022-05-31 09:07:02.000000000,2022-05-31 14:33:06.000000000,2022-05-31 14:31:03.000000000,"[{'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-31 09:07:02.000000000', 'files': ['ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/910d033a067ebec0ab3022e8def61ce1ff19e3d4', 'message': 'Make redis connection string configurable\n\nChange-Id: I44c8a059918918f5bdc1c0190110a05d8d7f8f2d\n(cherry picked from commit 71ea62543afe17002656d7f18d4651e54089ca51)\n'}]",0,843825,910d033a067ebec0ab3022e8def61ce1ff19e3d4,10,4,1,27339,,,0,"Make redis connection string configurable

Change-Id: I44c8a059918918f5bdc1c0190110a05d8d7f8f2d
(cherry picked from commit 71ea62543afe17002656d7f18d4651e54089ca51)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/25/843825/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,910d033a067ebec0ab3022e8def61ce1ff19e3d4,redis-connection-string-stable/yoga,"redis_connection_string: ""redis://{% for host in groups['redis'] %}{% if host == groups['redis'][0] %}admin:{{ redis_master_password }}@{{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ redis_sentinel_port }}?sentinel=kolla{% else %}&sentinel_fallback={{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ redis_sentinel_port }}{% endif %}{% endfor %}{{ redis_connection_string_extras }}"" redis_connection_string_extras: ""&db=0&socket_timeout=60&retry_on_timeout=yes""","redis_connection_string: ""redis://{% for host in groups['redis'] %}{% if host == groups['redis'][0] %}admin:{{ redis_master_password }}@{{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ redis_sentinel_port }}?sentinel=kolla{% else %}&sentinel_fallback={{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ redis_sentinel_port }}{% endif %}{% endfor %}&db=0&socket_timeout=60&retry_on_timeout=yes""",2,1
openstack%2Fkolla-ansible~stable%2Fxena~I44c8a059918918f5bdc1c0190110a05d8d7f8f2d,openstack/kolla-ansible,stable/xena,I44c8a059918918f5bdc1c0190110a05d8d7f8f2d,Make redis connection string configurable,MERGED,2022-05-31 09:07:19.000000000,2022-05-31 14:33:01.000000000,2022-05-31 14:31:05.000000000,"[{'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-31 09:07:19.000000000', 'files': ['ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6a0b1bd42da233f19630afeef8399e6cb5c83eb9', 'message': 'Make redis connection string configurable\n\nChange-Id: I44c8a059918918f5bdc1c0190110a05d8d7f8f2d\n(cherry picked from commit 71ea62543afe17002656d7f18d4651e54089ca51)\n'}]",0,843826,6a0b1bd42da233f19630afeef8399e6cb5c83eb9,9,3,1,27339,,,0,"Make redis connection string configurable

Change-Id: I44c8a059918918f5bdc1c0190110a05d8d7f8f2d
(cherry picked from commit 71ea62543afe17002656d7f18d4651e54089ca51)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/26/843826/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,6a0b1bd42da233f19630afeef8399e6cb5c83eb9,redis-connection-string-stable/xena,"redis_connection_string: ""redis://{% for host in groups['redis'] %}{% if host == groups['redis'][0] %}admin:{{ redis_master_password }}@{{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ redis_sentinel_port }}?sentinel=kolla{% else %}&sentinel_fallback={{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ redis_sentinel_port }}{% endif %}{% endfor %}{{ redis_connection_string_extras }}"" redis_connection_string_extras: ""&db=0&socket_timeout=60&retry_on_timeout=yes""","redis_connection_string: ""redis://{% for host in groups['redis'] %}{% if host == groups['redis'][0] %}admin:{{ redis_master_password }}@{{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ redis_sentinel_port }}?sentinel=kolla{% else %}&sentinel_fallback={{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ redis_sentinel_port }}{% endif %}{% endfor %}&db=0&socket_timeout=60&retry_on_timeout=yes""",2,1
openstack%2Fcinder~master~I6c0f2052b99e722a141f2d6f65e0405bf5d12222,openstack/cinder,master,I6c0f2052b99e722a141f2d6f65e0405bf5d12222,"db: Migrate ""backup"", ""backup metadata"" APIs to enginefacade",MERGED,2022-04-12 10:11:10.000000000,2022-05-31 13:48:59.000000000,2022-05-31 13:45:26.000000000,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-04-12 10:11:10.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d032bd7fb68cd1dc83724db421a555b2494203da', 'message': 'db: Migrate ""backup"", ""backup metadata"" APIs to enginefacade\n\nMigrate backup-, backup metadata-related APIs from the legacy\nenginefacade to the modern context-based enginefacade.\n\nChange-Id: I6c0f2052b99e722a141f2d6f65e0405bf5d12222\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",4,837527,d032bd7fb68cd1dc83724db421a555b2494203da,44,5,1,15334,,,0,"db: Migrate ""backup"", ""backup metadata"" APIs to enginefacade

Migrate backup-, backup metadata-related APIs from the legacy
enginefacade to the modern context-based enginefacade.

Change-Id: I6c0f2052b99e722a141f2d6f65e0405bf5d12222
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/837527/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,d032bd7fb68cd1dc83724db421a555b2494203da,remove-legacyfacade,"@main_context_manager.reader def backup_get(context, backup_id, read_deleted=None, project_only=True): return _backup_get( context, backup_id, read_deleted=read_deleted, project_only=project_only, ) # TODO: Remove 'session' argument when all of the '_get' helpers are converted def _backup_get( context, backup_id, session=None, read_deleted=None, project_only=True, ): result = ( model_query( context, models.Backup, session=session, project_only=project_only, read_deleted=read_deleted, ) .options(joinedload('backup_metadata')) .filter_by(id=backup_id) .first() )def _backup_get_all( context, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None, ): # Generate the paginate query query = _generate_paginate_query( context, None, marker, limit, sort_keys, sort_dirs, filters, offset, models.Backup, ) if query is None: return [] return query.all()def _backups_get_query( context, session=None, project_only=False, joined_load=True ): context, models.Backup, session=session, project_only=project_only )@main_context_manager.reader def backup_get_all( context, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None, ): return _backup_get_all( context, filters, marker, limit, offset, sort_keys, sort_dirs )@main_context_manager.reader def backup_get_all_by_host(context, host): return ( model_query(context, models.Backup) .options(joinedload('backup_metadata')) .filter_by(host=host) .all() )@main_context_manager.reader def backup_get_all_by_project( context, project_id, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None, ): return _backup_get_all( context, filters, marker, limit, offset, sort_keys, sort_dirs )@main_context_manager.reader@main_context_manager.reader joinedload('backup_metadata') ) query = query.filter( or_( models.Backup.deleted_at == None, # noqa models.Backup.deleted_at > begin, ) )@main_context_manager.writer def backup_create(context, values): values['backup_metadata'] = _metadata_refs( values.get('metadata'), models.BackupMetadata ) backup_ref = models.Backup() backup_ref.update(values) context.session.add(backup_ref) return _backup_get(context, values['id'])@main_context_manager.writer@main_context_manager.writer updated_values = { 'status': fields.BackupStatus.DELETED, 'deleted': True, 'deleted_at': utcnow, } query = model_query(context, models.Backup).filter_by(id=backup_id) entity = query.column_descriptions[0]['entity'] updated_values['updated_at'] = entity.updated_at query.update(updated_values) query = model_query( context, models.BackupMetadata, ).filter_by(backup_id=backup_id) entity = query.column_descriptions[0]['entity'] query.update( { 'deleted': True, 'deleted_at': utcnow, 'updated_at': entity.updated_at, } ) del updated_values['updated_at']def _backup_metadata_get_query(context, backup_id): return model_query( context, models.BackupMetadata, read_deleted=""no"" ).filter_by(backup_id=backup_id)def _backup_metadata_get(context, backup_id): rows = _backup_metadata_get_query(context, backup_id).all()@require_context @require_backup_exists @main_context_manager.reader def backup_metadata_get(context, backup_id): return _backup_metadata_get(context, backup_id)def _backup_metadata_get_item(context, backup_id, key): result = ( _backup_metadata_get_query(context, backup_id) .filter_by(key=key) .first() ) raise exception.BackupMetadataNotFound( metadata_key=key, backup_id=backup_id )@main_context_manager.writer def backup_metadata_update(context, backup_id, metadata, delete): # Set existing metadata to deleted if delete argument is True if delete: original_metadata = _backup_metadata_get(context, backup_id) for meta_key, meta_value in original_metadata.items(): if meta_key not in metadata: meta_ref = _backup_metadata_get_item( context, backup_id, meta_key ) meta_ref.update( {'deleted': True, 'deleted_at': timeutils.utcnow()} ) meta_ref.save(context.session) meta_ref = None # Now update all existing items with new values, or create new meta # objects for meta_key, meta_value in metadata.items(): # update the value whether it exists or not item = {""value"": meta_value} try: meta_ref = _backup_metadata_get_item(context, backup_id, meta_key) except exception.BackupMetadataNotFound: meta_ref = models.BackupMetadata() item.update({""key"": meta_key, ""backup_id"": backup_id}) meta_ref.update(item) meta_ref.save(context.session)","def backup_get(context, backup_id, read_deleted=None, project_only=True): return _backup_get(context, backup_id, read_deleted=read_deleted, project_only=project_only) def _backup_get(context, backup_id, session=None, read_deleted=None, project_only=True): result = model_query( context, models.Backup, session=session, project_only=project_only, read_deleted=read_deleted).options( joinedload('backup_metadata')).filter_by(id=backup_id).first()def _backup_get_all(context, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None): session = get_session() with session.begin(): # Generate the paginate query query = _generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, offset, models.Backup) if query is None: return [] return query.all()def _backups_get_query(context, session=None, project_only=False, joined_load=True): context, models.Backup, session=session, project_only=project_only)def backup_get_all(context, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None): return _backup_get_all(context, filters, marker, limit, offset, sort_keys, sort_dirs)def backup_get_all_by_host(context, host): return model_query( context, models.Backup).options( joinedload('backup_metadata')).filter_by(host=host).all()def backup_get_all_by_project(context, project_id, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None): return _backup_get_all(context, filters, marker, limit, offset, sort_keys, sort_dirs) joinedload('backup_metadata')) query = query.filter(or_(models.Backup.deleted_at == None, # noqa models.Backup.deleted_at > begin))def backup_create(context, values): values['backup_metadata'] = _metadata_refs(values.get('metadata'), models.BackupMetadata) session = get_session() with session.begin(): backup_ref = models.Backup() backup_ref.update(values) session.add(backup_ref) return _backup_get(context, values['id'], session=session) updated_values = {'status': fields.BackupStatus.DELETED, 'deleted': True, 'deleted_at': utcnow} session = get_session() with session.begin(): query = model_query(context, models.Backup, session=session).\ filter_by(id=backup_id) entity = query.column_descriptions[0]['entity'] updated_values['updated_at'] = entity.updated_at query.update(updated_values) query = model_query(context, models.BackupMetadata, session=session).\ filter_by(backup_id=backup_id) entity = query.column_descriptions[0]['entity'] query.update({'deleted': True, 'deleted_at': utcnow, 'updated_at': entity.updated_at}) del updated_values['updated_at']@require_context @require_backup_exists def backup_metadata_get(context, backup_id): return _backup_metadata_get(context, backup_id)def _backup_metadata_get(context, backup_id, session=None): rows = _backup_metadata_get_query(context, backup_id, session).all()def _backup_metadata_get_query(context, backup_id, session=None): return model_query( context, models.BackupMetadata, session=session, read_deleted=""no"").filter_by(backup_id=backup_id)def _backup_metadata_get_item(context, backup_id, key, session=None): result = _backup_metadata_get_query( context, backup_id, session=session).filter_by(key=key).first() raise exception.BackupMetadataNotFound(metadata_key=key, backup_id=backup_id)def backup_metadata_update(context, backup_id, metadata, delete): session = get_session() with session.begin(): # Set existing metadata to deleted if delete argument is True if delete: original_metadata = _backup_metadata_get(context, backup_id, session) for meta_key, meta_value in original_metadata.items(): if meta_key not in metadata: meta_ref = _backup_metadata_get_item(context, backup_id, meta_key, session) meta_ref.update({'deleted': True, 'deleted_at': timeutils.utcnow()}) meta_ref.save(session=session) meta_ref = None # Now update all existing items with new values, or create new meta # objects for meta_key, meta_value in metadata.items(): # update the value whether it exists or not item = {""value"": meta_value} try: meta_ref = _backup_metadata_get_item(context, backup_id, meta_key, session) except exception.BackupMetadataNotFound: meta_ref = models.BackupMetadata() item.update({""key"": meta_key, ""backup_id"": backup_id}) meta_ref.update(item) meta_ref.save(session=session)",179,107
openstack%2Fnova~stable%2Fussuri~I4471d4488d336d5af0c23028724c4ce79d6a2031,openstack/nova,stable/ussuri,I4471d4488d336d5af0c23028724c4ce79d6a2031,[CI] Install dependencies for docs target,MERGED,2022-04-28 18:26:41.000000000,2022-05-31 13:47:47.000000000,2022-05-31 13:45:34.000000000,"[{'_account_id': 4690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 18:26:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/bc9e62098914dd03a891734d1ab73999c03db0b7', 'message': ""[CI] Install dependencies for docs target\n\nWhen tox 'docs' target is called, first it installs the dependencies\n(listed in 'deps') in 'installdeps' phase, then it installs nova (with\nits requirements) in 'develop-inst' phase. In the latter case 'deps' is\nnot used so that the constraints defined in 'deps' are not used.\nThis could lead to failures on stable branches when new packages are\nreleased that break the build. To avoid this, the simplest solution is\nto pre-install requirements, i.e. add requirements.txt to 'docs' tox\ntarget.\n\nConflicts:\n  tox.ini\n\nNOTE(elod.illes): conflict is due to branch specific upper constraints\nfile link.\n\nChange-Id: I4471d4488d336d5af0c23028724c4ce79d6a2031\n(cherry picked from commit 494e8d7db6f8a3d1a952f657acab353787f57e04)\n(cherry picked from commit 1ac0d6984a43cddbb5a2f1a2f7bc115fd83517c9)\n(cherry picked from commit 64cc0848be9bf92d79e6fa7b424668d21321d593)\n(cherry picked from commit f66a570e946d980162a1313aa5a7e2ce5856a128)\n(cherry picked from commit bc92f05a6d6647e709a23a9d78b49f916874ef85)\n""}]",3,839813,bc9e62098914dd03a891734d1ab73999c03db0b7,13,2,1,17685,,,0,"[CI] Install dependencies for docs target

When tox 'docs' target is called, first it installs the dependencies
(listed in 'deps') in 'installdeps' phase, then it installs nova (with
its requirements) in 'develop-inst' phase. In the latter case 'deps' is
not used so that the constraints defined in 'deps' are not used.
This could lead to failures on stable branches when new packages are
released that break the build. To avoid this, the simplest solution is
to pre-install requirements, i.e. add requirements.txt to 'docs' tox
target.

Conflicts:
  tox.ini

NOTE(elod.illes): conflict is due to branch specific upper constraints
file link.

Change-Id: I4471d4488d336d5af0c23028724c4ce79d6a2031
(cherry picked from commit 494e8d7db6f8a3d1a952f657acab353787f57e04)
(cherry picked from commit 1ac0d6984a43cddbb5a2f1a2f7bc115fd83517c9)
(cherry picked from commit 64cc0848be9bf92d79e6fa7b424668d21321d593)
(cherry picked from commit f66a570e946d980162a1313aa5a7e2ce5856a128)
(cherry picked from commit bc92f05a6d6647e709a23a9d78b49f916874ef85)
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/839813/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bc9e62098914dd03a891734d1ab73999c03db0b7,fix-docs-use-uc, -r{toxinidir}/requirements.txt,,1,0
openstack%2Fcinder~master~I42057822620f5517f13b394f426d757f30fe44b8,openstack/cinder,master,I42057822620f5517f13b394f426d757f30fe44b8,"db: Migrate ""volume type encryption"" APIs to enginefacade",MERGED,2022-04-12 10:11:10.000000000,2022-05-31 13:47:29.000000000,2022-05-31 13:45:17.000000000,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-04-12 10:11:10.000000000', 'files': ['cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/api/contrib/test_volume_encryption_metadata.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/df50d63228dd2196ebbb5a5993965ca399316833', 'message': 'db: Migrate ""volume type encryption"" APIs to enginefacade\n\nMigrate volume type encryption-related APIs from the legacy enginefacade\nto the modern context-based enginefacade.\n\nChange-Id: I42057822620f5517f13b394f426d757f30fe44b8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",4,837525,df50d63228dd2196ebbb5a5993965ca399316833,35,4,1,15334,,,0,"db: Migrate ""volume type encryption"" APIs to enginefacade

Migrate volume type encryption-related APIs from the legacy enginefacade
to the modern context-based enginefacade.

Change-Id: I42057822620f5517f13b394f426d757f30fe44b8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/837525/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/api/contrib/test_volume_encryption_metadata.py']",3,df50d63228dd2196ebbb5a5993965ca399316833,remove-legacyfacade," self.mock_object(db.sqlalchemy.api, '_volume_type_encryption_get', self.mock_object(db.sqlalchemy.api, '_volume_type_encryption_get', self.mock_object(db.sqlalchemy.api, '_volume_type_encryption_get',"," self.mock_object(db.sqlalchemy.api, 'volume_type_encryption_get', self.mock_object(db.sqlalchemy.api, 'volume_type_encryption_get', self.mock_object(db.sqlalchemy.api, 'volume_type_encryption_get',",55,44
openstack%2Fcinder~master~I71c2f3bfbfac7452ba317728078d2aaecc817c7c,openstack/cinder,master,I71c2f3bfbfac7452ba317728078d2aaecc817c7c,"db: Migrate ""volume glance metadata"" APIs to enginefacade",MERGED,2022-04-12 10:11:10.000000000,2022-05-31 13:45:21.000000000,2022-05-31 13:45:21.000000000,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-04-12 10:11:10.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ac23f8aed7c4755872c425c856077caf6a8b07d', 'message': 'db: Migrate ""volume glance metadata"" APIs to enginefacade\n\nMigrate volume glance metadata-related APIs from the legacy enginefacade\nto the modern context-based enginefacade.\n\nChange-Id: I71c2f3bfbfac7452ba317728078d2aaecc817c7c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",6,837526,0ac23f8aed7c4755872c425c856077caf6a8b07d,48,4,1,15334,,,0,"db: Migrate ""volume glance metadata"" APIs to enginefacade

Migrate volume glance metadata-related APIs from the legacy enginefacade
to the modern context-based enginefacade.

Change-Id: I71c2f3bfbfac7452ba317728078d2aaecc817c7c
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/26/837526/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,0ac23f8aed7c4755872c425c856077caf6a8b07d,remove-legacyfacade,"def _volume_glance_metadata_get_all(context): query = model_query(context, models.VolumeGlanceMetadata) models.Volume.project_id == context.project_id, )@main_context_manager.reader@main_context_manager.reader query = model_query(context, models.VolumeGlanceMetadata)def _volume_glance_metadata_get(context, volume_id): rows = ( model_query(context, models.VolumeGlanceMetadata) .filter_by(volume_id=volume_id) .filter_by(deleted=False) .all() )@main_context_manager.readerdef _volume_snapshot_glance_metadata_get(context, snapshot_id): rows = ( model_query(context, models.VolumeGlanceMetadata) .filter_by(snapshot_id=snapshot_id) .filter_by(deleted=False) .all() )@main_context_manager.reader@main_context_manager.writer rows = ( context.session.query(models.VolumeGlanceMetadata) .filter_by(volume_id=volume_id) .filter_by(key=key) .filter_by(deleted=False).all() ) if len(rows) > 0: raise exception.GlanceMetadataExists(key=key, volume_id=volume_id) vol_glance_metadata = models.VolumeGlanceMetadata() vol_glance_metadata.volume_id = volume_id vol_glance_metadata.key = key vol_glance_metadata.value = str(value) context.session.add(vol_glance_metadata)@main_context_manager.writer for key, value in metadata.items(): rows = ( context.session.query(models.VolumeGlanceMetadata) .filter_by(volume_id=volume_id) .filter_by(key=key) .filter_by(deleted=False).all() ) if len(rows) > 0: raise exception.GlanceMetadataExists(key=key, volume_id=volume_id) vol_glance_metadata = models.VolumeGlanceMetadata() vol_glance_metadata.volume_id = volume_id vol_glance_metadata.key = key vol_glance_metadata.value = str(value) context.session.add(vol_glance_metadata)@main_context_manager.writer metadata = _volume_glance_metadata_get(context, volume_id) for meta in metadata: vol_glance_metadata = models.VolumeGlanceMetadata() vol_glance_metadata.snapshot_id = snapshot_id vol_glance_metadata.key = meta['key'] vol_glance_metadata.value = meta['value'] vol_glance_metadata.save(context.session)@main_context_manager.writer def volume_glance_metadata_copy_from_volume_to_volume( context, src_volume_id, volume_id, ): metadata = _volume_glance_metadata_get(context, src_volume_id) for meta in metadata: vol_glance_metadata = models.VolumeGlanceMetadata() vol_glance_metadata.volume_id = volume_id vol_glance_metadata.key = meta['key'] vol_glance_metadata.value = meta['value'] vol_glance_metadata.save(context.session)@main_context_manager.writer metadata = _volume_snapshot_glance_metadata_get(context, snapshot_id) for meta in metadata: vol_glance_metadata = models.VolumeGlanceMetadata() vol_glance_metadata.volume_id = volume_id vol_glance_metadata.key = meta['key'] vol_glance_metadata.value = meta['value'] vol_glance_metadata.save(context.session)@main_context_manager.writer def volume_glance_metadata_delete_by_volume(context, volume_id): query = model_query( context, models.VolumeGlanceMetadata, read_deleted='no', ).filter_by(volume_id=volume_id) query.update( { 'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at, }, )@main_context_manager.writer def volume_glance_metadata_delete_by_snapshot(context, snapshot_id): query = model_query( context, models.VolumeGlanceMetadata, read_deleted='no', ).filter_by(snapshot_id=snapshot_id) query.update( { 'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at, }, )","def _volume_glance_metadata_get_all(context, session=None): query = model_query(context, models.VolumeGlanceMetadata, session=session) models.Volume.project_id == context.project_id) query = model_query(context, models.VolumeGlanceMetadata, session=None)def _volume_glance_metadata_get(context, volume_id, session=None): rows = model_query(context, models.VolumeGlanceMetadata, session=session).\ filter_by(volume_id=volume_id).\ filter_by(deleted=False).\ all()def _volume_snapshot_glance_metadata_get(context, snapshot_id, session=None): rows = model_query(context, models.VolumeGlanceMetadata, session=session).\ filter_by(snapshot_id=snapshot_id).\ filter_by(deleted=False).\ all() session = get_session() with session.begin(): rows = session.query(models.VolumeGlanceMetadata).\ filter_by(volume_id=volume_id).\ filter_by(key=key).\ filter_by(deleted=False).all() if len(rows) > 0: raise exception.GlanceMetadataExists(key=key, volume_id=volume_id) vol_glance_metadata = models.VolumeGlanceMetadata() vol_glance_metadata.volume_id = volume_id vol_glance_metadata.key = key vol_glance_metadata.value = str(value) session.add(vol_glance_metadata) session = get_session() with session.begin(): for (key, value) in metadata.items(): rows = session.query(models.VolumeGlanceMetadata).\ filter_by(volume_id=volume_id).\ filter_by(key=key).\ filter_by(deleted=False).all() if len(rows) > 0: raise exception.GlanceMetadataExists(key=key, volume_id=volume_id) vol_glance_metadata = models.VolumeGlanceMetadata() vol_glance_metadata.volume_id = volume_id vol_glance_metadata.key = key vol_glance_metadata.value = str(value) session.add(vol_glance_metadata) session = get_session() with session.begin(): metadata = _volume_glance_metadata_get(context, volume_id, session=session) for meta in metadata: vol_glance_metadata = models.VolumeGlanceMetadata() vol_glance_metadata.snapshot_id = snapshot_id vol_glance_metadata.key = meta['key'] vol_glance_metadata.value = meta['value'] vol_glance_metadata.save(session=session)def volume_glance_metadata_copy_from_volume_to_volume(context, src_volume_id, volume_id): session = get_session() with session.begin(): metadata = _volume_glance_metadata_get(context, src_volume_id, session=session) for meta in metadata: vol_glance_metadata = models.VolumeGlanceMetadata() vol_glance_metadata.volume_id = volume_id vol_glance_metadata.key = meta['key'] vol_glance_metadata.value = meta['value'] vol_glance_metadata.save(session=session) session = get_session() with session.begin(): metadata = _volume_snapshot_glance_metadata_get(context, snapshot_id, session=session) for meta in metadata: vol_glance_metadata = models.VolumeGlanceMetadata() vol_glance_metadata.volume_id = volume_id vol_glance_metadata.key = meta['key'] vol_glance_metadata.value = meta['value'] vol_glance_metadata.save(session=session)def volume_glance_metadata_delete_by_volume(context, volume_id): query = model_query(context, models.VolumeGlanceMetadata, read_deleted='no').filter_by(volume_id=volume_id) query.update({'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at})def volume_glance_metadata_delete_by_snapshot(context, snapshot_id): query = model_query(context, models.VolumeGlanceMetadata, read_deleted='no').filter_by(snapshot_id=snapshot_id) query.update({'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at})",107,101
openstack%2Fopenstack-ansible~stable%2Fwallaby~I889a0bb1fb3e1bc2d1ac3809b91e8a18b3bf4fae,openstack/openstack-ansible,stable/wallaby,I889a0bb1fb3e1bc2d1ac3809b91e8a18b3bf4fae,[DNM] test default galera_monitoring_allowed_source,ABANDONED,2022-05-31 11:40:55.000000000,2022-05-31 13:24:11.000000000,,[],"[{'number': 1, 'created': '2022-05-31 11:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e8ad7aad3d2b637c32a8b9b19198110ce29e5c3d', 'message': '[DNM] test default galera_monitoring_allowed_source\n\nChange-Id: I889a0bb1fb3e1bc2d1ac3809b91e8a18b3bf4fae\n'}, {'number': 2, 'created': '2022-05-31 11:41:58.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/471adc6ac93967a547ca9974cc5f8b836402f2eb', 'message': '[DNM] test default galera_monitoring_allowed_source\n\nDepends-On:  https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/844037\nChange-Id: I889a0bb1fb3e1bc2d1ac3809b91e8a18b3bf4fae\n'}]",0,844040,471adc6ac93967a547ca9974cc5f8b836402f2eb,3,0,2,13095,,,0,"[DNM] test default galera_monitoring_allowed_source

Depends-On:  https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/844037
Change-Id: I889a0bb1fb3e1bc2d1ac3809b91e8a18b3bf4fae
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/40/844040/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,e8ad7aad3d2b637c32a8b9b19198110ce29e5c3d,,,"galera_monitoring_allowed_source: ""0.0.0.0/0""",0,1
openstack%2Ftripleo-quickstart-extras~master~I9bb931fb944a3627d6acee033bbe3bd0824a8023,openstack/tripleo-quickstart-extras,master,I9bb931fb944a3627d6acee033bbe3bd0824a8023,Update ceph daemon registry and tag wallaby and beyond,MERGED,2022-05-27 17:39:36.000000000,2022-05-31 13:10:23.000000000,2022-05-31 13:10:23.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-05-27 17:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/002f199d6701c30343bf0df6aad320302208cea8', 'message': 'Update ceph daemon registry and tag wallaby and beyond\n\nThis patch updates th default value for ceph daemon registry and\ntag for stable/wallaby and beyound. Now, they should be pulled from\npromoted container tags.\n\nChange-Id: I9bb931fb944a3627d6acee033bbe3bd0824a8023\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n'}, {'number': 2, 'created': '2022-05-27 17:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/80e4c082d1cdc2a899b98808cd1723dfef825409', 'message': 'Update ceph daemon registry and tag wallaby and beyond\n\nThis patch updates th default value for ceph daemon registry and\ntag for stable/wallaby and beyound. Now, they should be pulled from\npromoted container tags.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/843508\n\nChange-Id: I9bb931fb944a3627d6acee033bbe3bd0824a8023\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n'}, {'number': 3, 'created': '2022-05-30 16:45:41.000000000', 'files': ['roles/extras-common/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b4488f033ae8fab5982a856b598c4656ee00aab4', 'message': 'Update ceph daemon registry and tag wallaby and beyond\n\nThis patch updates th default value for ceph daemon registry and\ntag for stable/wallaby and beyound. Now, they should be pulled from\npromoted container tags.\n\nThis patch depends on both main and stable/wallaby patches to merge:\n1. https://review.opendev.org/c/openstack/tripleo-common/+/843508\n2. https://review.opendev.org/c/openstack/tripleo-common/+/843936\n\nChange-Id: I9bb931fb944a3627d6acee033bbe3bd0824a8023\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n'}]",10,843662,b4488f033ae8fab5982a856b598c4656ee00aab4,26,4,3,30002,,,0,"Update ceph daemon registry and tag wallaby and beyond

This patch updates th default value for ceph daemon registry and
tag for stable/wallaby and beyound. Now, they should be pulled from
promoted container tags.

This patch depends on both main and stable/wallaby patches to merge:
1. https://review.opendev.org/c/openstack/tripleo-common/+/843508
2. https://review.opendev.org/c/openstack/tripleo-common/+/843936

Change-Id: I9bb931fb944a3627d6acee033bbe3bd0824a8023
Signed-off-by: Douglas Viroel <dviroel@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/62/843662/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/extras-common/defaults/main.yml'],1,002f199d6701c30343bf0df6aad320302208cea8,ceph_promotion_pipeline," # NOTE(dviroel): for stable/wallaby and beyond, we will maintain centos9 hardcoded as # distribution version for now, since we don't have a different namespace with promoted # ceph daemon containers. {%- elif release in ['train','victoria'] -%} {%- else -%} quay.rdoproject.org/tripleo{{release}}centos9 current-ceph", {%- else -%} v6.0.7-stable-6.0-pacific-centos-stream8,8,2
openstack%2Fnova~master~Ib1a5443c365e9f84d3a0f6767ba2a5d97bfe4383,openstack/nova,master,Ib1a5443c365e9f84d3a0f6767ba2a5d97bfe4383,DNM: log number of green(thread|let)s periodically,ABANDONED,2022-05-08 14:14:43.000000000,2022-05-31 12:54:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-08 14:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45876c0bb064969254912597eceecb534d6434ca', 'message': 'DNM: log number of green(thread|let)s periodically\n\nIn bug 1971760 we saw that nova compute leaks greenlets. This patch\nperiodically logs the number of GreenThread and greenlet objects.\nSo we might be able to see a trend during a tempest run.\n\nChange-Id: Ib1a5443c365e9f84d3a0f6767ba2a5d97bfe4383\n'}, {'number': 2, 'created': '2022-05-09 11:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/032fc8ad883e63cd20d2f22dd5ab49b582f08d2f', 'message': 'DNM: log number of green(thread|let)s periodically\n\nIn bug 1971760 we saw that nova compute leaks greenlets. This patch\nperiodically logs the number of GreenThread and greenlet objects.\nSo we might be able to see a trend during a tempest run.\n\nChange-Id: Ib1a5443c365e9f84d3a0f6767ba2a5d97bfe4383\n'}, {'number': 3, 'created': '2022-05-18 13:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00678d503fc9ee1eb2159298718fde361ad4d7af', 'message': 'DNM: log number of green(thread|let)s periodically\n\nIn bug 1971760 we saw that nova compute leaks greenlets. This patch\nperiodically logs the number of GreenThread and greenlet objects.\nSo we might be able to see a trend during a tempest run.\n\nChange-Id: Ib1a5443c365e9f84d3a0f6767ba2a5d97bfe4383\n'}, {'number': 4, 'created': '2022-05-18 14:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5f40a2d3e2225c77911e253629813e3b644e0a8', 'message': 'DNM: log number of green(thread|let)s periodically\n\nIn bug 1971760 we saw that nova compute leaks greenlets. This patch\nperiodically logs the number of GreenThread and greenlet objects.\nSo we might be able to see a trend during a tempest run.\n\nChange-Id: Ib1a5443c365e9f84d3a0f6767ba2a5d97bfe4383\n'}, {'number': 5, 'created': '2022-05-18 14:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e1690d64c380f8394dea5a9e7d2a669b6f519af', 'message': 'DNM: log number of green(thread|let)s periodically\n\nIn bug 1971760 we saw that nova compute leaks greenlets. This patch\nperiodically logs the number of GreenThread and greenlet objects.\nSo we might be able to see a trend during a tempest run.\n\nChange-Id: Ib1a5443c365e9f84d3a0f6767ba2a5d97bfe4383\n'}, {'number': 6, 'created': '2022-05-18 21:15:43.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1459ee6a9842b2a15a9ba6e63020e9c59f9aab80', 'message': 'DNM: log number of green(thread|let)s periodically\n\nIn bug 1971760 we saw that nova compute leaks greenlets. This patch\nperiodically logs the number of GreenThread and greenlet objects.\nSo we might be able to see a trend during a tempest run.\n\nChange-Id: Ib1a5443c365e9f84d3a0f6767ba2a5d97bfe4383\n'}]",1,841040,1459ee6a9842b2a15a9ba6e63020e9c59f9aab80,40,1,6,9708,,,0,"DNM: log number of green(thread|let)s periodically

In bug 1971760 we saw that nova compute leaks greenlets. This patch
periodically logs the number of GreenThread and greenlet objects.
So we might be able to see a trend during a tempest run.

Change-Id: Ib1a5443c365e9f84d3a0f6767ba2a5d97bfe4383
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/841040/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,45876c0bb064969254912597eceecb534d6434ca,bug/1971760," def _log_greenlet_stats(self): import gc import greenlet greenlets = [ o for o in gc.get_objects() if isinstance(o, greenlet.greenlet) ] greenthreads = [ o for o in gc.get_objects() if isinstance(o, greenthread.GreenThread) ] naked = [g for g in greenlets if g not in greenthreads] LOG.warning( ""GreenThread objs: %d, naked greenlet objs: %d"", len(greenthreads), len(naked), ) del greenlets del greenthreads del naked self._log_greenlet_stats()",,22,0
openstack%2Fnova~stable%2Fwallaby~Ib1a5443c365e9f84d3a0f6767ba2a5d97bfe4383,openstack/nova,stable/wallaby,Ib1a5443c365e9f84d3a0f6767ba2a5d97bfe4383,DNM: log number of green(thread|let)s periodically,ABANDONED,2022-05-08 14:26:30.000000000,2022-05-31 12:54:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-08 14:26:30.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/81df3b984426d52effbe0f68e3d67986d4fb5097', 'message': 'DNM: log number of green(thread|let)s periodically\n\nIn bug 1971760 we saw that nova compute leaks greenlets. This patch\nperiodically logs the number of GreenThread and greenlet objects.\nSo we might be able to see a trend during a tempest run.\n\nChange-Id: Ib1a5443c365e9f84d3a0f6767ba2a5d97bfe4383\n'}]",0,841041,81df3b984426d52effbe0f68e3d67986d4fb5097,8,1,1,9708,,,0,"DNM: log number of green(thread|let)s periodically

In bug 1971760 we saw that nova compute leaks greenlets. This patch
periodically logs the number of GreenThread and greenlet objects.
So we might be able to see a trend during a tempest run.

Change-Id: Ib1a5443c365e9f84d3a0f6767ba2a5d97bfe4383
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/841041/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,81df3b984426d52effbe0f68e3d67986d4fb5097,bug/1971760," def _log_greenlet_stats(self): import gc import greenlet greenlets = [ o for o in gc.get_objects() if isinstance(o, greenlet.greenlet) ] greenthreads = [ o for o in gc.get_objects() if isinstance(o, greenthread.GreenThread) ] naked = [g for g in greenlets if g not in greenthreads] LOG.warning( ""GreenThread objs: %d, naked greenlet objs: %d"", len(greenthreads), len(naked), ) del greenlets del greenthreads del naked self._log_greenlet_stats()",,22,0
openstack%2Fnova~stable%2Fwallaby~If9ab424cc7375a1f0d41b03f01c4a823216b3eb8,openstack/nova,stable/wallaby,If9ab424cc7375a1f0d41b03f01c4a823216b3eb8,Remove unavailable but not reported PCI devices at startup,NEW,2022-05-06 09:01:55.000000000,2022-05-31 12:54:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-06 09:01:55.000000000', 'files': ['nova/objects/pci_device.py', 'nova/pci/manager.py', 'nova/tests/unit/objects/test_pci_device.py', 'nova/tests/unit/pci/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/59ae44754ebce106b23bc697a822d181cdda41c6', 'message': 'Remove unavailable but not reported PCI devices at startup\n\nWe saw in the field that the pci_devices table can end up in\ninconsistent state after a compute node HW failure and re-deployment.\nThere could be dependent devices where the parent PF is in available\nstate while the children VFs are in unavailable state. (Before the HW\nfault the PF was allocated hence the VFs was marked unavailable).\n\nIn this state this PF is still schedulable but during the\nPCI claim the handling of dependent devices in the PCI tracker fill fail\nwith the error: ""Attempt to consume PCI device XXX from empty pool"".\n\nThe reason of the failure is that when the PF is claimed, all the\nchildren VFs are marked unavailable. But if the VF is already\nunavailable such step fails.\n\nOne way the deployer might try to recover from this state is to remove\nthe VFs from the hypervisor and restart the compute agent. The compute\nstartup already has a logic to delete PCI devices that are unused and\nnot reported by the hypervisor. However this logic only removed devices\nin \'available\' state and ignored devices in \'unavailable\' state.\n\nIf a device is unused and the hypervisor is not reporting the device any\nmore then it is safe to delete that device from the PCI tracker. So this\npatch extends the logic to allow deleting \'unavailable\' devices. There\nis a small window when dependent PCI device is in \'unclaimable\' state.\nFrom cleanup perspective this is an analogous state. So it is also\nadded to the cleanup logic.\n\nRelated-Bug: #1969496\nChange-Id: If9ab424cc7375a1f0d41b03f01c4a823216b3eb8\n(cherry picked from commit 284ea72e96604bdf16d1c5c4db47247334841b2f)\n(cherry picked from commit d7bca631fea348fb56cc46c5680643bacd82513e)\n(cherry picked from commit 580a4b14ae367e327229482decca0cb6cdf6e9d8)\n'}]",0,840842,59ae44754ebce106b23bc697a822d181cdda41c6,6,1,1,9708,,,0,"Remove unavailable but not reported PCI devices at startup

We saw in the field that the pci_devices table can end up in
inconsistent state after a compute node HW failure and re-deployment.
There could be dependent devices where the parent PF is in available
state while the children VFs are in unavailable state. (Before the HW
fault the PF was allocated hence the VFs was marked unavailable).

In this state this PF is still schedulable but during the
PCI claim the handling of dependent devices in the PCI tracker fill fail
with the error: ""Attempt to consume PCI device XXX from empty pool"".

The reason of the failure is that when the PF is claimed, all the
children VFs are marked unavailable. But if the VF is already
unavailable such step fails.

One way the deployer might try to recover from this state is to remove
the VFs from the hypervisor and restart the compute agent. The compute
startup already has a logic to delete PCI devices that are unused and
not reported by the hypervisor. However this logic only removed devices
in 'available' state and ignored devices in 'unavailable' state.

If a device is unused and the hypervisor is not reporting the device any
more then it is safe to delete that device from the PCI tracker. So this
patch extends the logic to allow deleting 'unavailable' devices. There
is a small window when dependent PCI device is in 'unclaimable' state.
From cleanup perspective this is an analogous state. So it is also
added to the cleanup logic.

Related-Bug: #1969496
Change-Id: If9ab424cc7375a1f0d41b03f01c4a823216b3eb8
(cherry picked from commit 284ea72e96604bdf16d1c5c4db47247334841b2f)
(cherry picked from commit d7bca631fea348fb56cc46c5680643bacd82513e)
(cherry picked from commit 580a4b14ae367e327229482decca0cb6cdf6e9d8)
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/840842/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/pci_device.py', 'nova/pci/manager.py', 'nova/tests/unit/objects/test_pci_device.py', 'nova/tests/unit/pci/test_manager.py']",4,59ae44754ebce106b23bc697a822d181cdda41c6,bug/1969496," def _get_device_by_address(self, address): devs = [dev for dev in self.tracker.pci_devs if dev.address == address] if len(devs) == 1: return devs[0] if devs: raise ValueError('ambiguous address', devs) else: raise ValueError('device not found', address) def test_set_hvdevs_unavailable_vf_removed(self): # We start with a PF parent and two VF children self._create_tracker([fake_db_dev_3, fake_db_dev_4, fake_db_dev_5]) pci_requests_obj = self._create_pci_requests_object( [ { 'count': 1, 'spec': [{'dev_type': fields.PciDeviceType.SRIOV_PF}] } ], instance_uuid=uuidsentinel.instance1, ) # then claim and allocate the PF that makes the VFs unavailable self.tracker.claim_instance( mock.sentinel.context, pci_requests_obj, None) self.tracker.allocate_instance({'uuid': uuidsentinel.instance1}) dev3_pf = self._get_device_by_address(fake_db_dev_3['address']) self.assertEqual('allocated', dev3_pf.status) self.assertEqual(uuidsentinel.instance1, dev3_pf.instance_uuid) dev4_vf = self._get_device_by_address(fake_db_dev_4['address']) self.assertEqual('unavailable', dev4_vf.status) dev5_vf = self._get_device_by_address(fake_db_dev_5['address']) self.assertEqual('unavailable', dev5_vf.status) # now simulate that one VF (dev_5) is removed from the hypervisor and # the compute is restarted. As the VF is not claimed or allocated we # are free to remove it from the tracker. self.tracker._set_hvdevs(copy.deepcopy([fake_pci_3, fake_pci_4])) dev3_pf = self._get_device_by_address(fake_db_dev_3['address']) self.assertEqual('allocated', dev3_pf.status) self.assertEqual(uuidsentinel.instance1, dev3_pf.instance_uuid) dev4_vf = self._get_device_by_address(fake_db_dev_4['address']) self.assertEqual('unavailable', dev4_vf.status) dev5_vf = self._get_device_by_address(fake_db_dev_5['address']) self.assertEqual('removed', dev5_vf.status) def test_set_hvdevs_unavailable_pf_removed(self): # We start with one PF parent and one child VF self._create_tracker([fake_db_dev_3, fake_db_dev_4]) pci_requests_obj = self._create_pci_requests_object( [ { 'count': 1, 'spec': [{'dev_type': fields.PciDeviceType.SRIOV_VF}] } ], instance_uuid=uuidsentinel.instance1, ) # Then we claim and allocate the VF that makes the PF unavailable self.tracker.claim_instance( mock.sentinel.context, pci_requests_obj, None) self.tracker.allocate_instance({'uuid': uuidsentinel.instance1}) dev3_pf = self._get_device_by_address(fake_db_dev_3['address']) self.assertEqual('unavailable', dev3_pf.status) dev4_vf = self._get_device_by_address(fake_db_dev_4['address']) self.assertEqual('allocated', dev4_vf.status) self.assertEqual(uuidsentinel.instance1, dev4_vf.instance_uuid) # now simulate that the parent PF is removed from the hypervisor and # the compute is restarted. As the PF is not claimed or allocated we # are free to remove it from the tracker. self.tracker._set_hvdevs(copy.deepcopy([fake_pci_4])) dev3_pf = self._get_device_by_address(fake_db_dev_3['address']) self.assertEqual('removed', dev3_pf.status) dev4_vf = self._get_device_by_address(fake_db_dev_4['address']) self.assertEqual('allocated', dev4_vf.status) self.assertEqual(uuidsentinel.instance1, dev4_vf.instance_uuid) ",,123,7
openstack%2Fnova~stable%2Fwallaby~I7b432d7a32aeb1ab765d1f731691c7841a8f1440,openstack/nova,stable/wallaby,I7b432d7a32aeb1ab765d1f731691c7841a8f1440,Simulate bug 1969496,NEW,2022-05-06 09:01:55.000000000,2022-05-31 12:54:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-06 09:01:55.000000000', 'files': ['nova/tests/unit/pci/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e153335a5e70f7e694d344665614279fc6d58136', 'message': ""Simulate bug 1969496\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail to\nwhen try to mark the dependent VFs unavailable.\n\nThis patch adds a test case that shows the error.\n\nRelated-Bug: #1969496\n\nChange-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440\n(cherry picked from commit 9ee5d2c66255f83cc8a66f1b5648fa13e1d73f47)\n(cherry picked from commit 23c48b670668e9cae886b5113c776077780f5581)\n(cherry picked from commit 96e00c30fc7356874a13f75eb5ee46c87fb448d0)\n""}]",0,840843,e153335a5e70f7e694d344665614279fc6d58136,5,1,1,9708,,,0,"Simulate bug 1969496

As If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for
the pci_device table to become inconsistent. Parent PF can be in
'available' state while children VFs are still in 'unavailable' state.
In this situation the PF is schedulable but the PCI claim will fail to
when try to mark the dependent VFs unavailable.

This patch adds a test case that shows the error.

Related-Bug: #1969496

Change-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440
(cherry picked from commit 9ee5d2c66255f83cc8a66f1b5648fa13e1d73f47)
(cherry picked from commit 23c48b670668e9cae886b5113c776077780f5581)
(cherry picked from commit 96e00c30fc7356874a13f75eb5ee46c87fb448d0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/840843/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/pci/test_manager.py'],1,e153335a5e70f7e694d344665614279fc6d58136,bug/1969496,"from nova import exception def test_claim_available_pf_while_child_vf_is_unavailable(self): # NOTE(gibi): this is bug 1969496. The state created here is # inconsistent and should not happen. But it did happen in some cases # where we were not able to track down the way how it happened. # We start with a PF parent and a VF child. The PF is available and # the VF is unavailable. pf = copy.deepcopy(fake_db_dev_3) vf = copy.deepcopy(fake_db_dev_4) vf['status'] = fields.PciDeviceStatus.UNAVAILABLE self._create_tracker([pf, vf]) pf_dev = self._get_device_by_address(pf['address']) self.assertEqual('available', pf_dev.status) vf_dev = self._get_device_by_address(vf['address']) self.assertEqual('unavailable', vf_dev.status) pci_requests_obj = self._create_pci_requests_object( [ { 'count': 1, 'spec': [{'dev_type': fields.PciDeviceType.SRIOV_PF}] } ], instance_uuid=uuidsentinel.instance1, ) # now try to claim and allocate the PF. It should work as it is # available # This is bug 1969496 as the claim fails with exception ex = self.assertRaises( exception.PciDevicePoolEmpty, self.tracker.claim_instance, mock.sentinel.context, pci_requests_obj, None ) self.assertIn( 'Attempt to consume PCI device 1:0000:00:02.1 from empty pool', str(ex) ) pf_dev = self._get_device_by_address(pf['address']) self.assertEqual('available', pf_dev.status) vf_dev = self._get_device_by_address(vf['address']) self.assertEqual('unavailable', vf_dev.status) # This should work when the bug is fixed # self.tracker.claim_instance( # mock.sentinel.context, pci_requests_obj, None) # self.tracker.allocate_instance({'uuid': uuidsentinel.instance1}) # pf_dev = self._get_device_by_address(pf['address']) # self.assertEqual('allocated', pf_dev.status) # vf_dev = self._get_device_by_address(vf['address']) # self.assertEqual('unavailable', vf_dev.status) ",,56,0
openstack%2Fnova~stable%2Fwallaby~I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318,openstack/nova,stable/wallaby,I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318,Isolate PCI tracker unit tests,NEW,2022-05-06 09:01:55.000000000,2022-05-31 12:53:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-06 09:01:55.000000000', 'files': ['nova/tests/unit/pci/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3335d9317994ea3490fbc9945e0e961c42aef907', 'message': 'Isolate PCI tracker unit tests\n\nDuring the testing If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 we noticed\nthat the unit test cases of PciTracker._set_hvdev are changing and\nleaking global state leading to unstable tests.\n\nTo reproduce on master, duplicate the\ntest_set_hvdev_remove_tree_maintained_with_allocations test case and run\nPciDevTrackerTestCase serially. The duplicated test case will fail with\n\n  File ""/nova/nova/objects/pci_device.py"", line 238, in _from_db_object\n  setattr(pci_device, key, db_dev[key])\n  KeyError: \'id\'\n\nThis is caused by the fact that the test data is defined on module\nlevel, both _create_tracker and _set_hvdevs modifies the devices\npassed to them, and some test mixes passing db dicts to _set_hvdevs\nthat expects pci dicts from the hypervisor.\n\nThis patch fixes multiple related issues:\n* always deepcopy what _create_tracker takes as that list is later\n  returned to the PciTracker via a mock and the tracker might modify\n  what it got\n\n* ensure that _create_tracker takes db dicts (with id field) while\n  _set_hvdevs takes pci dicts in the hypervisor format (without id\n  field)\n\n* always deepcopy what is passed to _set_hvdevs as the PciTracker modify\n  what it gets.\n\n* normalize when the deepcopy happens to give a safe patter for future\n  test cases\n\nConflicts:\n      nova/tests/unit/pci/test_manager.py due to\n      Iad2e4da4546b80a016e477577d23accb2606a6e4 is not in stable/wallaby\n\nChange-Id: I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318\n(cherry picked from commit c58376db75917444831934963fa75b4b57f08818)\n(cherry picked from commit f04cfd42359d555e746df0e2c48d989d0c3244f1)\n(cherry picked from commit 1023580f6d9008f5e56f6d3905b6e227bd2bff67)\n'}]",0,840841,3335d9317994ea3490fbc9945e0e961c42aef907,5,1,1,9708,,,0,"Isolate PCI tracker unit tests

During the testing If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 we noticed
that the unit test cases of PciTracker._set_hvdev are changing and
leaking global state leading to unstable tests.

To reproduce on master, duplicate the
test_set_hvdev_remove_tree_maintained_with_allocations test case and run
PciDevTrackerTestCase serially. The duplicated test case will fail with

  File ""/nova/nova/objects/pci_device.py"", line 238, in _from_db_object
  setattr(pci_device, key, db_dev[key])
  KeyError: 'id'

This is caused by the fact that the test data is defined on module
level, both _create_tracker and _set_hvdevs modifies the devices
passed to them, and some test mixes passing db dicts to _set_hvdevs
that expects pci dicts from the hypervisor.

This patch fixes multiple related issues:
* always deepcopy what _create_tracker takes as that list is later
  returned to the PciTracker via a mock and the tracker might modify
  what it got

* ensure that _create_tracker takes db dicts (with id field) while
  _set_hvdevs takes pci dicts in the hypervisor format (without id
  field)

* always deepcopy what is passed to _set_hvdevs as the PciTracker modify
  what it gets.

* normalize when the deepcopy happens to give a safe patter for future
  test cases

Conflicts:
      nova/tests/unit/pci/test_manager.py due to
      Iad2e4da4546b80a016e477577d23accb2606a6e4 is not in stable/wallaby

Change-Id: I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318
(cherry picked from commit c58376db75917444831934963fa75b4b57f08818)
(cherry picked from commit f04cfd42359d555e746df0e2c48d989d0c3244f1)
(cherry picked from commit 1023580f6d9008f5e56f6d3905b6e227bd2bff67)
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/840841/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/pci/test_manager.py'],1,3335d9317994ea3490fbc9945e0e961c42aef907,bug/1969496,"fake_pci_devs = [fake_pci, fake_pci_1, fake_pci_2] fake_pci_devs_tree = [fake_pci_3, fake_pci_4, fake_pci_5] self.fake_devs = copy.deepcopy(fake_devs) self.fake_devs = copy.deepcopy(fake_db_devs) self._create_tracker(fake_db_devs) fake_pci_devs = [fake_pci, fake_pci_1, fake_pci_2, fake_pci_3] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) fake_pci_devs = [fake_pci_3, fake_pci_4, fake_pci_5, fake_new_device] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) fake_pci_devs = [fake_pci, fake_pci_2, fake_pci_v2] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) self.tracker._set_hvdevs(copy.deepcopy([fake_pci])) fake_pci_devs = [fake_pci_3, fake_pci_4] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) all_db_devs = fake_db_devs_tree all_pci_devs = fake_pci_devs_tree self._create_tracker(all_db_devs) self.tracker._set_hvdevs(copy.deepcopy(all_pci_devs)) fake_pci_devs = [dev for dev in all_pci_devs self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) fake_pci_devs = [fake_pci, fake_pci_2, fake_pci_3] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) fake_pci_3 = dict(fake_pci_1, address='0000:00:00.4') fake_devs_numa = copy.deepcopy(fake_pci_devs) fake_devs_numa.append(fake_pci_3) self.tracker._set_hvdevs(copy.deepcopy(fake_devs_numa)) fake_pci_devs = [fake_pci, fake_pci_2, fake_pci_v3] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs))"," self.fake_devs = fake_devs self.fake_devs = fake_db_devs[:] self._create_tracker(fake_db_devs[:]) fake_pci_devs = [copy.deepcopy(fake_pci), copy.deepcopy(fake_pci_1), copy.deepcopy(fake_pci_2), copy.deepcopy(fake_pci_3)] self.tracker._set_hvdevs(fake_pci_devs) fake_pci_devs = [copy.deepcopy(fake_pci_3), copy.deepcopy(fake_pci_4), copy.deepcopy(fake_pci_5), copy.deepcopy(fake_new_device)] self.tracker._set_hvdevs(fake_pci_devs) fake_pci_devs = [copy.deepcopy(fake_pci), copy.deepcopy(fake_pci_2), copy.deepcopy(fake_pci_v2)] self.tracker._set_hvdevs(fake_pci_devs) self.tracker._set_hvdevs([fake_pci]) fake_pci_devs = [copy.deepcopy(fake_pci_3), copy.deepcopy(fake_pci_4)] self.tracker._set_hvdevs(fake_pci_devs) all_devs = fake_db_devs_tree[:] self._create_tracker(all_devs) self.tracker._set_hvdevs(all_devs) fake_pci_devs = [dev for dev in all_devs self.tracker._set_hvdevs(fake_pci_devs) self.tracker._set_hvdevs(fake_pci_devs) fake_pci_devs = [copy.deepcopy(fake_pci), copy.deepcopy(fake_pci_2), copy.deepcopy(fake_pci_3)] self.tracker._set_hvdevs(fake_pci_devs) fake_db_dev_3 = dict(fake_db_dev_1, id=4, address='0000:00:00.4') fake_devs_numa = copy.deepcopy(fake_db_devs) fake_devs_numa.append(fake_db_dev_3) self.tracker._set_hvdevs(fake_devs_numa) fake_pci_devs = [copy.deepcopy(fake_pci), copy.deepcopy(fake_pci_2), copy.deepcopy(fake_pci_v3)] self.tracker._set_hvdevs(fake_pci_devs)",30,33
openstack%2Fnova~stable%2Fvictoria~I7b432d7a32aeb1ab765d1f731691c7841a8f1440,openstack/nova,stable/victoria,I7b432d7a32aeb1ab765d1f731691c7841a8f1440,Simulate bug 1969496,NEW,2022-05-06 09:12:18.000000000,2022-05-31 12:53:34.000000000,,"[{'_account_id': 19234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-06 09:12:18.000000000', 'files': ['nova/tests/unit/pci/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0c671b354ca99aaadf2f3eaab8c40490c6c76707', 'message': ""Simulate bug 1969496\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail to\nwhen try to mark the dependent VFs unavailable.\n\nThis patch adds a test case that shows the error.\n\nRelated-Bug: #1969496\n\nChange-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440\n(cherry picked from commit 9ee5d2c66255f83cc8a66f1b5648fa13e1d73f47)\n(cherry picked from commit 23c48b670668e9cae886b5113c776077780f5581)\n(cherry picked from commit 96e00c30fc7356874a13f75eb5ee46c87fb448d0)\n(cherry picked from commit e153335a5e70f7e694d344665614279fc6d58136)\n""}]",0,840847,0c671b354ca99aaadf2f3eaab8c40490c6c76707,5,2,1,9708,,,0,"Simulate bug 1969496

As If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for
the pci_device table to become inconsistent. Parent PF can be in
'available' state while children VFs are still in 'unavailable' state.
In this situation the PF is schedulable but the PCI claim will fail to
when try to mark the dependent VFs unavailable.

This patch adds a test case that shows the error.

Related-Bug: #1969496

Change-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440
(cherry picked from commit 9ee5d2c66255f83cc8a66f1b5648fa13e1d73f47)
(cherry picked from commit 23c48b670668e9cae886b5113c776077780f5581)
(cherry picked from commit 96e00c30fc7356874a13f75eb5ee46c87fb448d0)
(cherry picked from commit e153335a5e70f7e694d344665614279fc6d58136)
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/840847/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/pci/test_manager.py'],1,0c671b354ca99aaadf2f3eaab8c40490c6c76707,bug/1969496,"from nova import exception def test_claim_available_pf_while_child_vf_is_unavailable(self): # NOTE(gibi): this is bug 1969496. The state created here is # inconsistent and should not happen. But it did happen in some cases # where we were not able to track down the way how it happened. # We start with a PF parent and a VF child. The PF is available and # the VF is unavailable. pf = copy.deepcopy(fake_db_dev_3) vf = copy.deepcopy(fake_db_dev_4) vf['status'] = fields.PciDeviceStatus.UNAVAILABLE self._create_tracker([pf, vf]) pf_dev = self._get_device_by_address(pf['address']) self.assertEqual('available', pf_dev.status) vf_dev = self._get_device_by_address(vf['address']) self.assertEqual('unavailable', vf_dev.status) pci_requests_obj = self._create_pci_requests_object( [ { 'count': 1, 'spec': [{'dev_type': fields.PciDeviceType.SRIOV_PF}] } ], instance_uuid=uuidsentinel.instance1, ) # now try to claim and allocate the PF. It should work as it is # available # This is bug 1969496 as the claim fails with exception ex = self.assertRaises( exception.PciDevicePoolEmpty, self.tracker.claim_instance, mock.sentinel.context, pci_requests_obj, None ) self.assertIn( 'Attempt to consume PCI device 1:0000:00:02.1 from empty pool', str(ex) ) pf_dev = self._get_device_by_address(pf['address']) self.assertEqual('available', pf_dev.status) vf_dev = self._get_device_by_address(vf['address']) self.assertEqual('unavailable', vf_dev.status) # This should work when the bug is fixed # self.tracker.claim_instance( # mock.sentinel.context, pci_requests_obj, None) # self.tracker.allocate_instance({'uuid': uuidsentinel.instance1}) # pf_dev = self._get_device_by_address(pf['address']) # self.assertEqual('allocated', pf_dev.status) # vf_dev = self._get_device_by_address(vf['address']) # self.assertEqual('unavailable', vf_dev.status) ",,56,0
openstack%2Fnova~stable%2Fvictoria~I672af45a1d1c7fb428b1c4983d4f856852829fb9,openstack/nova,stable/victoria,I672af45a1d1c7fb428b1c4983d4f856852829fb9,Reproduce bug 1952941,NEW,2022-02-04 14:37:12.000000000,2022-05-31 12:51:12.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-02-04 14:37:12.000000000', 'files': ['nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/fake_request_spec.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e937afbdcd4db0e2377b479b7b6f04bea82d8c7b', 'message': 'Reproduce bug 1952941\n\nThe added unit test proves that pre-Victoria RequestSpec objects\ndescribing a cpu pinned Instance are not migrated to a proper format\nin Victoria or newer.\n\nRelated-Bug: #1952941\n\nChange-Id: I672af45a1d1c7fb428b1c4983d4f856852829fb9\n(cherry picked from commit 05e8977cb2fd660dcf6af32c5804f7548bf722a7)\n(cherry picked from commit d860615527a4f492251c363b2092674d55228a40)\n(cherry picked from commit b190c30f005bd1b1a7e3d9bf35648e65ff472f02)\n'}]",1,827872,e937afbdcd4db0e2377b479b7b6f04bea82d8c7b,5,3,1,9708,,,0,"Reproduce bug 1952941

The added unit test proves that pre-Victoria RequestSpec objects
describing a cpu pinned Instance are not migrated to a proper format
in Victoria or newer.

Related-Bug: #1952941

Change-Id: I672af45a1d1c7fb428b1c4983d4f856852829fb9
(cherry picked from commit 05e8977cb2fd660dcf6af32c5804f7548bf722a7)
(cherry picked from commit d860615527a4f492251c363b2092674d55228a40)
(cherry picked from commit b190c30f005bd1b1a7e3d9bf35648e65ff472f02)
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/827872/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/fake_request_spec.py']",2,e937afbdcd4db0e2377b479b7b6f04bea82d8c7b,bug/1952941,"def fake_db_spec(spec_obj=None): if not spec_obj: spec_obj = fake_spec_obj() del spec_obj.retry 'instance_uuid': spec_obj.instance_uuid, 'spec': jsonutils.dumps(spec_obj.obj_to_primitive()),","def fake_db_spec(): req_obj = fake_spec_obj() del req_obj.retry 'instance_uuid': req_obj.instance_uuid, 'spec': jsonutils.dumps(req_obj.obj_to_primitive()),",69,5
openstack%2Fnova~stable%2Fvictoria~I812d720555bdf008c83cae3d81541a37bd99e594,openstack/nova,stable/victoria,I812d720555bdf008c83cae3d81541a37bd99e594,Migrate RequestSpec.numa_topology to use pcpuset,NEW,2022-02-04 14:37:12.000000000,2022-05-31 12:51:04.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-02-04 14:37:12.000000000', 'files': ['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/objects/instance_numa.py', 'releasenotes/notes/bug-1952941-request-spec-numa-topology-migration-c97dbd51b3c6c116.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/0d98f7b9902dd2c22f32dccabe3e7c3e630a9614', 'message': 'Migrate RequestSpec.numa_topology to use pcpuset\n\nWhen the InstanceNUMATopology OVO has changed in\nI901fbd7df00e45196395ff4c69e7b8aa3359edf6 to separately track\npcpus from vcpus a data migration was added. This data migration is\ntriggered when the InstanceNUMATopology object is loaded from the\ninstance_extra table. However that patch is missed the fact that the\nInstanceNUMATopology object can be loaded from the request_spec table as\nwell. So InstanceNUMATopology object in RequestSpec are not migrated.\nThis could lead to errors in the scheduler when such RequestSpec object\nis used for scheduling (e.g. during a migration of a pre Victoria\ninstance with cpu pinning)\n\nThis patch adds the missing data migration.\n\nChange-Id: I812d720555bdf008c83cae3d81541a37bd99e594\nCloses-Bug: #1952941\n(cherry picked from commit e853bb57181721725a89656b3cb3058636630a6e)\n(cherry picked from commit 7f6ec8cf546cf8f437ee94bb2308447427f54ada)\n(cherry picked from commit dad566614c92841aba65d3f0a69e0c580457cb46)\n'}]",1,827873,0d98f7b9902dd2c22f32dccabe3e7c3e630a9614,6,3,1,9708,,,0,"Migrate RequestSpec.numa_topology to use pcpuset

When the InstanceNUMATopology OVO has changed in
I901fbd7df00e45196395ff4c69e7b8aa3359edf6 to separately track
pcpus from vcpus a data migration was added. This data migration is
triggered when the InstanceNUMATopology object is loaded from the
instance_extra table. However that patch is missed the fact that the
InstanceNUMATopology object can be loaded from the request_spec table as
well. So InstanceNUMATopology object in RequestSpec are not migrated.
This could lead to errors in the scheduler when such RequestSpec object
is used for scheduling (e.g. during a migration of a pre Victoria
instance with cpu pinning)

This patch adds the missing data migration.

Change-Id: I812d720555bdf008c83cae3d81541a37bd99e594
Closes-Bug: #1952941
(cherry picked from commit e853bb57181721725a89656b3cb3058636630a6e)
(cherry picked from commit 7f6ec8cf546cf8f437ee94bb2308447427f54ada)
(cherry picked from commit dad566614c92841aba65d3f0a69e0c580457cb46)
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/827873/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/objects/instance_numa.py', 'releasenotes/notes/bug-1952941-request-spec-numa-topology-migration-c97dbd51b3c6c116.yaml']",4,0d98f7b9902dd2c22f32dccabe3e7c3e630a9614,bug/1952941,--- fixes: - | The `bug 1952941`_ is fixed where a pre-Victoria server with pinned CPUs cannot be migrated or evacuated after the cloud is upgraded to Victoria or newer as the scheduling fails with ``NotImplementedError: Cannot load 'pcpuset'`` error. .. _bug 1952941: https://bugs.launchpad.net/nova/+bug/1952941 ,,47,42
openstack%2Fneutron~stable%2Fyoga~Ib19dacf886486876237ed1157fb95ae157ed430e,openstack/neutron,stable/yoga,Ib19dacf886486876237ed1157fb95ae157ed430e,"Remove session active check in ""_add_segment_host_mapping_for_segment""",MERGED,2022-05-27 14:54:38.000000000,2022-05-31 12:50:23.000000000,2022-05-31 12:48:30.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 14:54:38.000000000', 'files': ['neutron/services/segments/db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/150b0d57095fa213d3024f66f6da641bacfa6719', 'message': 'Remove session active check in ""_add_segment_host_mapping_for_segment""\n\nMethod ``_add_segment_host_mapping_for_segment`` is called by the event\n(resources.SEGMENT, events.PRECOMMIT_CREATE), from\n``SegmentDbMixin._create_segment_db``, and is called inside a database\nwriter context. That means it is irrelevant to check if the session is\nactive (must be always).\n\nCloses-Bug: #1975542\nChange-Id: Ib19dacf886486876237ed1157fb95ae157ed430e\n(cherry picked from commit d89d7bd5e6477a1ad24165831dbc5f1e2fc357b5)\n'}]",1,843624,150b0d57095fa213d3024f66f6da641bacfa6719,16,3,1,16688,,,0,"Remove session active check in ""_add_segment_host_mapping_for_segment""

Method ``_add_segment_host_mapping_for_segment`` is called by the event
(resources.SEGMENT, events.PRECOMMIT_CREATE), from
``SegmentDbMixin._create_segment_db``, and is called inside a database
writer context. That means it is irrelevant to check if the session is
active (must be always).

Closes-Bug: #1975542
Change-Id: Ib19dacf886486876237ed1157fb95ae157ed430e
(cherry picked from commit d89d7bd5e6477a1ad24165831dbc5f1e2fc357b5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/843624/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/segments/db.py'],1,150b0d57095fa213d3024f66f6da641bacfa6719,bug/1975542,,"from neutron.common import utils if not utils.is_session_active(context.session): # The session might be in partial rollback state, due to errors in # peer callback. In that case, there is no need to add the mapping. # Just return here. return ",0,7
openstack%2Fnova~master~I935d112d844481bbc31fb7af5d4baa5cb4cde481,openstack/nova,master,I935d112d844481bbc31fb7af5d4baa5cb4cde481,DNM: backporting computenode with new hvspec,ABANDONED,2022-02-19 16:29:30.000000000,2022-05-31 12:50:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-19 16:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27e4175af8c924af4388353d64ab1dae52a969ba', 'message': 'DNM: backporting computenode with new hvspec\n\nIf this considered a good solution then this should be squashed into\nIf4f598c0d3f9e64617beb54450faa04e7d20dd20\n\nChange-Id: I935d112d844481bbc31fb7af5d4baa5cb4cde481\n'}, {'number': 2, 'created': '2022-02-19 18:14:48.000000000', 'files': ['nova/tests/unit/objects/test_compute_node.py', 'nova/objects/compute_node.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7cce929e6fc9d1f02464f0d6032b354d5953bbb2', 'message': 'DNM: backporting computenode with new hvspec\n\nIf this considered a good solution then this should be squashed into\nIf4f598c0d3f9e64617beb54450faa04e7d20dd20\n\nChange-Id: I935d112d844481bbc31fb7af5d4baa5cb4cde481\n'}]",4,829989,7cce929e6fc9d1f02464f0d6032b354d5953bbb2,20,1,2,9708,,,0,"DNM: backporting computenode with new hvspec

If this considered a good solution then this should be squashed into
If4f598c0d3f9e64617beb54450faa04e7d20dd20

Change-Id: I935d112d844481bbc31fb7af5d4baa5cb4cde481
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/829989/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/compute_node.py', 'nova/tests/unit/objects/test_compute_node.py']",2,27e4175af8c924af4388353d64ab1dae52a969ba,,"from nova.objects import fields def test_obj_make_compatible_new_archs(self): compute = compute_node.ComputeNode(supported_hv_specs=[ hv_spec.HVSpec(arch=fields.Architecture.RISCV32), hv_spec.HVSpec(arch=fields.Architecture.RISCV64), hv_spec.HVSpec(arch=fields.Architecture.X86_64), ]) versions = ovo_base.obj_tree_get_versions('ComputeNode') # we have to simulate that not just the ComputeNode is old 1.19 but # also the HVSpec is old 1.2 versions['HVSpec'] = '1.2' primitive = compute.obj_to_primitive( target_version='1.19', version_manifest=versions) # We expect that the HVSpec object with the too new arch values are # removed during the compute node object backporting self.assertEqual( 1, len(primitive['nova_object.data']['supported_hv_specs']) ) hvspec_primitive = primitive[ 'nova_object.data']['supported_hv_specs'][0] self.assertEqual( 'x86_64', hvspec_primitive['nova_object.data']['arch'] ) ",,60,5
openstack%2Fneutron~master~Iad909fb61da98c1187767d2d8c8c24105f6cd6a0,openstack/neutron,master,Iad909fb61da98c1187767d2d8c8c24105f6cd6a0,segment: enable multisegments support for host,ABANDONED,2022-05-12 07:38:16.000000000,2022-05-31 12:49:18.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-12 07:38:16.000000000', 'files': ['neutron/objects/subnet.py', 'neutron/tests/unit/extensions/test_segment.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/889659e25387897b9584111838e194ac6d6c5052', 'message': 'segment: enable multisegments support for host\n\nCloses-Bug: #1956435\nCloses-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iad909fb61da98c1187767d2d8c8c24105f6cd6a0\n'}]",3,841551,889659e25387897b9584111838e194ac6d6c5052,7,2,1,7730,,,0,"segment: enable multisegments support for host

Closes-Bug: #1956435
Closes-Bug: #1764738
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>
Change-Id: Iad909fb61da98c1187767d2d8c8c24105f6cd6a0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/841551/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/objects/subnet.py', 'neutron/tests/unit/extensions/test_segment.py']",2,889659e25387897b9584111838e194ac6d6c5052,segments," # multi segments supported since Zed. self.assertEqual(webob.exc.HTTPCreated.code, response.status_int) # multi segments supported since Zed. self.assertEqual(webob.exc.HTTPOk.code, response.status_int)"," self.assertEqual(webob.exc.HTTPConflict.code, response.status_int) self.assertEqual(segment_exc.HostConnectedToMultipleSegments.__name__, res['NeutronError']['type']) # Gets conflict because it can't map the host to a segment self.assertEqual(webob.exc.HTTPConflict.code, response.status_int) self.assertEqual(segment_exc.HostConnectedToMultipleSegments.__name__, res['NeutronError']['type'])",4,18
openstack%2Ftempest~master~I3764383ab91f5ede1706516d6ea0fbf4b927d0bc,openstack/tempest,master,I3764383ab91f5ede1706516d6ea0fbf4b927d0bc,DNM: test if detach fails due to guest not fully booted,ABANDONED,2022-02-11 11:49:45.000000000,2022-05-31 12:49:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-11 11:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1b7e3f1422221a2604a03c11a0baa99e1efbc066', 'message': 'DNM: test if detach fails due to guest not fully booted\n\nRelated-Bug: #1960346\nChange-Id: I3764383ab91f5ede1706516d6ea0fbf4b927d0bc\n'}, {'number': 2, 'created': '2022-02-11 13:19:01.000000000', 'files': ['tempest/api/compute/base.py', 'tempest/common/waiters.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/665b62688c5d2922fb1a008e969bd12eca385645', 'message': 'DNM: test if detach fails due to guest not fully booted\n\nRelated-Bug: #1960346\nChange-Id: I3764383ab91f5ede1706516d6ea0fbf4b927d0bc\n'}]",0,828863,665b62688c5d2922fb1a008e969bd12eca385645,4,1,2,9708,,,0,"DNM: test if detach fails due to guest not fully booted

Related-Bug: #1960346
Change-Id: I3764383ab91f5ede1706516d6ea0fbf4b927d0bc
",git fetch https://review.opendev.org/openstack/tempest refs/changes/63/828863/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/base.py', 'tempest/common/waiters.py']",2,1b7e3f1422221a2604a03c11a0baa99e1efbc066,bug/1960346," console_output = client.get_console_output(server_id)['output'] LOG.debug( 'Console output of %s while waiting for detach to finish\n' 'body=\n%s', server_id, console_output) LOG.debug( 'Console output for %s after detach timed out\nbody=\n%s', server_id, console_output)"," LOG.debug('Console output for %s\nbody=\n%s', server_id, console_output)",26,2
openstack%2Fnova~stable%2Fwallaby~Icb35e20179572fb713a397b4605312cf3294b41b,openstack/nova,stable/wallaby,Icb35e20179572fb713a397b4605312cf3294b41b,Query ports with admin client to get resource_request,NEW,2021-09-28 13:21:37.000000000,2022-05-31 12:44:18.000000000,,"[{'_account_id': 6062}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-28 13:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2bb457ea786f7fa83e3faf7d6b3eb1578ae6e730', 'message': 'Query ports with admin client to get resource_request\n\nThe port.resource_request field is admin only. Nova depends on the\nvalue of this field to do a proper scheduling and resource allocation\nand deallocation for ports with resource request as well as to update\nthe port.binding:profile.allocation field with the resource providers\nthe requested resources are fulfilled from. However in some cases nova\ndoes not use a neutron admin client / elevated context to read the\nport. In this case neutron returns None for the port.resource_request\nfield and nova thinks that the port has no resource request.\n\nThis patch fixes all the places where previous testing showed that\ncontext elevation was missing.\n\nstable/wallaby: This is not a direct backport of the stable/xena change\nas parts of the original bug does not exists on stable/wallaby. Namely\nthe live migration issue is not reproducible as the bug there only\nintroduced during Xena [1]\n\n[1] https://review.opendev.org/c/openstack/nova/+/800087/23/nova/conductor/tasks/live_migrate.py\n\nChange-Id: Icb35e20179572fb713a397b4605312cf3294b41b\nCloses-Bug: #1945310\n(cherry picked from commit 9798cfb9a803e97c6af71aeef3d923199437fe21)\n'}, {'number': 2, 'created': '2021-09-28 13:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebfd88ce276aa9b2770fa7e3b868a763613d7d54', 'message': 'Query ports with admin client to get resource_request\n\nThe port.resource_request field is admin only. Nova depends on the\nvalue of this field to do a proper scheduling and resource allocation\nand deallocation for ports with resource request as well as to update\nthe port.binding:profile.allocation field with the resource providers\nthe requested resources are fulfilled from. However in some cases nova\ndoes not use a neutron admin client / elevated context to read the\nport. In this case neutron returns None for the port.resource_request\nfield and nova thinks that the port has no resource request.\n\nThis patch fixes all the places where previous testing showed that\ncontext elevation was missing.\n\nstable/wallaby: This is not a direct backport of the stable/xena change\nas parts of the original bug does not exists on stable/wallaby. Namely\nthe live migration issue is not reproducible as the bug there only\nintroduced during Xena [1]\n\n[1] https://review.opendev.org/c/openstack/nova/+/800087/23/nova/conductor/tasks/live_migrate.py\n\nChange-Id: Icb35e20179572fb713a397b4605312cf3294b41b\nCloses-Bug: #1945310\n(cherry picked from commit 9798cfb9a803e97c6af71aeef3d923199437fe21)\n(cherry picked from commit 98ce8c9afd9fc66a9cd4bfe63ad5131210184947)\n'}, {'number': 3, 'created': '2021-11-02 15:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3403d9a835752e46adc59f57aa255ee3cc8f84fa', 'message': 'Query ports with admin client to get resource_request\n\nThe port.resource_request field is admin only. Nova depends on the\nvalue of this field to do a proper scheduling and resource allocation\nand deallocation for ports with resource request as well as to update\nthe port.binding:profile.allocation field with the resource providers\nthe requested resources are fulfilled from. However in some cases nova\ndoes not use a neutron admin client / elevated context to read the\nport. In this case neutron returns None for the port.resource_request\nfield and nova thinks that the port has no resource request.\n\nThis patch fixes all the places where previous testing showed that\ncontext elevation was missing.\n\nstable/wallaby: This is not a direct backport of the stable/xena change\nas parts of the original bug does not exists on stable/wallaby. Namely\nthe live migration issue is not reproducible as the bug there only\nintroduced during Xena [1]\n\n[1] https://review.opendev.org/c/openstack/nova/+/800087/23/nova/conductor/tasks/live_migrate.py\n\nChange-Id: Icb35e20179572fb713a397b4605312cf3294b41b\nCloses-Bug: #1945310\n(cherry picked from commit 9798cfb9a803e97c6af71aeef3d923199437fe21)\n(cherry picked from commit 98ce8c9afd9fc66a9cd4bfe63ad5131210184947)\n'}, {'number': 4, 'created': '2021-11-02 15:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5770814863dc31ad59220d88ff5bac667ac643f', 'message': 'Query ports with admin client to get resource_request\n\nThe port.resource_request field is admin only. Nova depends on the\nvalue of this field to do a proper scheduling and resource allocation\nand deallocation for ports with resource request as well as to update\nthe port.binding:profile.allocation field with the resource providers\nthe requested resources are fulfilled from. However in some cases nova\ndoes not use a neutron admin client / elevated context to read the\nport. In this case neutron returns None for the port.resource_request\nfield and nova thinks that the port has no resource request.\n\nThis patch fixes all the places where previous testing showed that\ncontext elevation was missing.\n\nstable/wallaby: This is not a direct backport of the stable/xena change\nas parts of the original bug does not exists on stable/wallaby. Namely\nthe live migration issue is not reproducible as the bug there only\nintroduced during Xena [1]\n\n[1] https://review.opendev.org/c/openstack/nova/+/800087/23/nova/conductor/tasks/live_migrate.py\n\nChange-Id: Icb35e20179572fb713a397b4605312cf3294b41b\nCloses-Bug: #1945310\n(cherry picked from commit 49b481ec98087351ce1366d3afb9f4a79cd16ae3)\n(cherry picked from commit d960c24130baf27921ef9231c1f962b6486a3523)\n'}, {'number': 5, 'created': '2021-11-02 15:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7059769eadb88657e50ab3afa090e4d5db086b00', 'message': 'Query ports with admin client to get resource_request\n\nThe port.resource_request field is admin only. Nova depends on the\nvalue of this field to do a proper scheduling and resource allocation\nand deallocation for ports with resource request as well as to update\nthe port.binding:profile.allocation field with the resource providers\nthe requested resources are fulfilled from. However in some cases nova\ndoes not use a neutron admin client / elevated context to read the\nport. In this case neutron returns None for the port.resource_request\nfield and nova thinks that the port has no resource request.\n\nThis patch fixes all the places where previous testing showed that\ncontext elevation was missing.\n\nstable/wallaby: This is not a direct backport of the stable/xena change\nas parts of the original bug does not exists on stable/wallaby. Namely\nthe live migration issue is not reproducible as the bug there only\nintroduced during Xena [1]\n\n[1] https://review.opendev.org/c/openstack/nova/+/800087/23/nova/conductor/tasks/live_migrate.py\n\nChange-Id: Icb35e20179572fb713a397b4605312cf3294b41b\nCloses-Bug: #1945310\n(cherry picked from commit 49b481ec98087351ce1366d3afb9f4a79cd16ae3)\n(cherry picked from commit d960c24130baf27921ef9231c1f962b6486a3523)\n'}, {'number': 6, 'created': '2022-04-21 09:45:45.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bb9323b7ec8c06da39222921c38d6e95fde30dc1', 'message': 'Query ports with admin client to get resource_request\n\nThe port.resource_request field is admin only. Nova depends on the\nvalue of this field to do a proper scheduling and resource allocation\nand deallocation for ports with resource request as well as to update\nthe port.binding:profile.allocation field with the resource providers\nthe requested resources are fulfilled from. However in some cases nova\ndoes not use a neutron admin client / elevated context to read the\nport. In this case neutron returns None for the port.resource_request\nfield and nova thinks that the port has no resource request.\n\nThis patch fixes all the places where previous testing showed that\ncontext elevation was missing.\n\nstable/wallaby: This is not a direct backport of the stable/xena change\nas parts of the original bug does not exists on stable/wallaby. Namely\nthe live migration issue is not reproducible as the bug there only\nintroduced during Xena [1]\n\n[1] https://review.opendev.org/c/openstack/nova/+/800087/23/nova/conductor/tasks/live_migrate.py\n\nChange-Id: Icb35e20179572fb713a397b4605312cf3294b41b\nCloses-Bug: #1945310\n(cherry picked from commit 49b481ec98087351ce1366d3afb9f4a79cd16ae3)\n(cherry picked from commit d960c24130baf27921ef9231c1f962b6486a3523)\n'}]",7,811416,bb9323b7ec8c06da39222921c38d6e95fde30dc1,39,2,6,9708,,,0,"Query ports with admin client to get resource_request

The port.resource_request field is admin only. Nova depends on the
value of this field to do a proper scheduling and resource allocation
and deallocation for ports with resource request as well as to update
the port.binding:profile.allocation field with the resource providers
the requested resources are fulfilled from. However in some cases nova
does not use a neutron admin client / elevated context to read the
port. In this case neutron returns None for the port.resource_request
field and nova thinks that the port has no resource request.

This patch fixes all the places where previous testing showed that
context elevation was missing.

stable/wallaby: This is not a direct backport of the stable/xena change
as parts of the original bug does not exists on stable/wallaby. Namely
the live migration issue is not reproducible as the bug there only
introduced during Xena [1]

[1] https://review.opendev.org/c/openstack/nova/+/800087/23/nova/conductor/tasks/live_migrate.py

Change-Id: Icb35e20179572fb713a397b4605312cf3294b41b
Closes-Bug: #1945310
(cherry picked from commit 49b481ec98087351ce1366d3afb9f4a79cd16ae3)
(cherry picked from commit d960c24130baf27921ef9231c1f962b6486a3523)
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/811416/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']",5,2bb457ea786f7fa83e3faf7d6b3eb1578ae6e730,bug/1945310," @mock.patch( 'nova.context.RequestContext.elevated', new=mock.Mock(return_value=mock.sentinel.admin_context) ) mock_show_port.assert_called_once_with( mock.sentinel.admin_context, 'foo_port_id') @mock.patch( 'nova.context.RequestContext.elevated', new=mock.Mock(return_value=mock.sentinel.admin_context) ) mock.sentinel.admin_context, mock.sentinel.port_id)"," mock_show_port.assert_called_once_with(self.context, 'foo_port_id') self.context, mock.sentinel.port_id)",23,16
openstack%2Fnova~stable%2Fwallaby~I7db075145435ed4e832aca197a48c56264ac56ce,openstack/nova,stable/wallaby,I7db075145435ed4e832aca197a48c56264ac56ce,Reproduce bug 1945310,NEW,2021-09-28 13:20:19.000000000,2022-05-31 12:44:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-28 13:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04ecc443b4a00daece7fcd4a02160b2b887a66f9', 'message': ""Reproduce bug 1945310\n\nTo properly reproduce the bug we need to modify nova's neutron fixture\nto act like a real neutron when a port is queried with a non-admin\nclient.\n\nA wide set of tests are added to exercise all the resource request\ndependent nova code paths with a non-admin user.\n\nstable/wallaby: It is not a direct backport from stable/xena due to a\nsizable change in the functional tests. But logically this patch tries\nto add the same test coverage. However it turned out that not all the\nissues exists in stable/wallaby. The interface attach and detach issue\nare present but the live migration issue is not present as in the\nstable/wallaby code the binding profile update during live migration\ndoes not query neutron. During Xena the query is introduced and with it\nthe bug as well [1]\n\n[1] https://review.opendev.org/c/openstack/nova/+/800087/23/nova/conductor/tasks/live_migrate.py\n\nChange-Id: I7db075145435ed4e832aca197a48c56264ac56ce\nRelated-Bug: #1945310\n(cherry picked from commit 6b1e624bed074c4eee529bd03210862657e9b7de)\n(cherry picked from commit cd3878668165cca86e2f5c6cbf44ebcb5e01ed22)\n""}, {'number': 2, 'created': '2021-11-02 15:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed04b01fe233cca1ec5b1ba907f767132e018e61', 'message': ""Reproduce bug 1945310\n\nTo properly reproduce the bug we need to modify nova's neutron fixture\nto act like a real neutron when a port is queried with a non-admin\nclient.\n\nA wide set of tests are added to exercise all the resource request\ndependent nova code paths with a non-admin user.\n\nstable/wallaby: It is not a direct backport from stable/xena due to a\nsizable change in the functional tests. But logically this patch tries\nto add the same test coverage. However it turned out that not all the\nissues exists in stable/wallaby. The interface attach and detach issue\nare present but the live migration issue is not present as in the\nstable/wallaby code the binding profile update during live migration\ndoes not query neutron. During Xena the query is introduced and with it\nthe bug as well [1]\n\n[1] https://review.opendev.org/c/openstack/nova/+/800087/23/nova/conductor/tasks/live_migrate.py\n\nChange-Id: I7db075145435ed4e832aca197a48c56264ac56ce\nRelated-Bug: #1945310\n(cherry picked from commit 6b1e624bed074c4eee529bd03210862657e9b7de)\n(cherry picked from commit 1066353d19862b87b51946119cf5d4f1bf9d841e)\n""}, {'number': 3, 'created': '2022-04-21 09:45:45.000000000', 'files': ['nova/tests/fixtures.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4e9a7a8dd09783a4630669c215051b2829851f13', 'message': ""Reproduce bug 1945310\n\nTo properly reproduce the bug we need to modify nova's neutron fixture\nto act like a real neutron when a port is queried with a non-admin\nclient.\n\nA wide set of tests are added to exercise all the resource request\ndependent nova code paths with a non-admin user.\n\nstable/wallaby: It is not a direct backport from stable/xena due to a\nsizable change in the functional tests. But logically this patch tries\nto add the same test coverage. However it turned out that not all the\nissues exists in stable/wallaby. The interface attach and detach issue\nare present but the live migration issue is not present as in the\nstable/wallaby code the binding profile update during live migration\ndoes not query neutron. During Xena the query is introduced and with it\nthe bug as well [1]\n\n[1] https://review.opendev.org/c/openstack/nova/+/800087/23/nova/conductor/tasks/live_migrate.py\n\nChange-Id: I7db075145435ed4e832aca197a48c56264ac56ce\nRelated-Bug: #1945310\n(cherry picked from commit 6b1e624bed074c4eee529bd03210862657e9b7de)\n(cherry picked from commit 1066353d19862b87b51946119cf5d4f1bf9d841e)\n""}]",0,811414,4e9a7a8dd09783a4630669c215051b2829851f13,12,1,3,9708,,,0,"Reproduce bug 1945310

To properly reproduce the bug we need to modify nova's neutron fixture
to act like a real neutron when a port is queried with a non-admin
client.

A wide set of tests are added to exercise all the resource request
dependent nova code paths with a non-admin user.

stable/wallaby: It is not a direct backport from stable/xena due to a
sizable change in the functional tests. But logically this patch tries
to add the same test coverage. However it turned out that not all the
issues exists in stable/wallaby. The interface attach and detach issue
are present but the live migration issue is not present as in the
stable/wallaby code the binding profile update during live migration
does not query neutron. During Xena the query is introduced and with it
the bug as well [1]

[1] https://review.opendev.org/c/openstack/nova/+/800087/23/nova/conductor/tasks/live_migrate.py

Change-Id: I7db075145435ed4e832aca197a48c56264ac56ce
Related-Bug: #1945310
(cherry picked from commit 6b1e624bed074c4eee529bd03210862657e9b7de)
(cherry picked from commit 1066353d19862b87b51946119cf5d4f1bf9d841e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/811414/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures.py', 'nova/tests/functional/test_servers.py']",2,04ecc443b4a00daece7fcd4a02160b2b887a66f9,bug/1945310,"import unittest 'os_compute_api:os-attach-interfaces:show': '@', # this is bug 1945310 @unittest.expectedFailure def test_interface_attach_with_resource_request_old_compute(self): super().test_interface_attach_with_resource_request_old_compute() class NonAdminPortResourceRequestTests( PortResourceRequestBasedSchedulingTest ): def setUp(self): super().setUp() # switch to non admin api self.api = self.api_fixture.api self.api.microversion = self.microversion # allow non-admin to call the operations self.policy.set_rules({ 'os_compute_api:servers:create': '@', 'os_compute_api:servers:delete': '@', 'os_compute_api:servers:create:attach_network': '@', 'os_compute_api:servers:show': '@', 'os_compute_api:os-attach-interfaces': '@', 'os_compute_api:os-attach-interfaces:create': '@', 'os_compute_api:os-attach-interfaces:delete': '@', 'os_compute_api:os-attach-interfaces:show': '@', 'os_compute_api:os-server-external-events:create': '@', 'os_compute_api:os-hypervisors:list': '@', 'os_compute_api:os-migrations:index': '@', 'os_compute_api:os-services:list': '@', }) # this is bug 1945310 @unittest.expectedFailure def test_interface_detach_with_port_with_bandwidth_request(self): super().test_interface_detach_with_port_with_bandwidth_request() class NonAdminServerMoveWithPortResourceRequestTests( ServerMoveWithPortResourceRequestTest ): def setUp(self): super().setUp() # switch to non admin api self.api = self.api_fixture.api self.api.microversion = self.microversion # allow non-admin to call the operations self.policy.set_rules({ 'os_compute_api:servers:create': '@', 'os_compute_api:servers:delete': '@', 'os_compute_api:os-services:update': '@', 'os_compute_api:servers:create:attach_network': '@', 'os_compute_api:servers:show': '@', 'os_compute_api:os-extended-server-attributes': '@', 'os_compute_api:os-shelve:shelve': '@', 'os_compute_api:os-shelve:unshelve': '@', 'os_compute_api:os-migrate-server:migrate': '@', 'os_compute_api:os-migrate-server:migrate_live': '@', 'os_compute_api:servers:resize': '@', 'os_compute_api:servers:confirm_resize': '@', 'os_compute_api:servers:revert_resize': '@', 'os_compute_api:os-evacuate': '@', 'os_compute_api:os-hypervisors:list': '@', 'os_compute_api:os-migrations:index': '@', 'os_compute_api:os-services:list': '@', 'compute:servers:create:requested_destination': '@', 'os_compute_api:os-instance-actions:show': '@', 'os_compute_api:os-instance-actions:list': '@', }) ",,83,0
openstack%2Fnova~master~I18ded37d5e8b825c0f738b469a9d1760a7a25cc8,openstack/nova,master,I18ded37d5e8b825c0f738b469a9d1760a7a25cc8,DNM: trigger nova-emulation on the parent patch,NEW,2022-04-06 09:53:53.000000000,2022-05-31 12:44:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-06 09:53:53.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/916b2eaae7395985bebcf46c53abd673f5516497', 'message': 'DNM: trigger nova-emulation on the parent patch\n\nChange-Id: I18ded37d5e8b825c0f738b469a9d1760a7a25cc8\n'}]",0,836764,916b2eaae7395985bebcf46c53abd673f5516497,10,1,1,9708,,,0,"DNM: trigger nova-emulation on the parent patch

Change-Id: I18ded37d5e8b825c0f738b469a9d1760a7a25cc8
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/836764/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,916b2eaae7395985bebcf46c53abd673f5516497,, - nova-emulation,,1,0
openstack%2Fnova~stable%2Fvictoria~I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318,openstack/nova,stable/victoria,I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318,Isolate PCI tracker unit tests,NEW,2022-05-06 09:12:18.000000000,2022-05-31 12:43:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-06 09:12:18.000000000', 'files': ['nova/tests/unit/pci/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2fb300f71e87490f3e91d03dd5ce8eb88a5996a7', 'message': 'Isolate PCI tracker unit tests\n\nDuring the testing If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 we noticed\nthat the unit test cases of PciTracker._set_hvdev are changing and\nleaking global state leading to unstable tests.\n\nTo reproduce on master, duplicate the\ntest_set_hvdev_remove_tree_maintained_with_allocations test case and run\nPciDevTrackerTestCase serially. The duplicated test case will fail with\n\n  File ""/nova/nova/objects/pci_device.py"", line 238, in _from_db_object\n  setattr(pci_device, key, db_dev[key])\n  KeyError: \'id\'\n\nThis is caused by the fact that the test data is defined on module\nlevel, both _create_tracker and _set_hvdevs modifies the devices\npassed to them, and some test mixes passing db dicts to _set_hvdevs\nthat expects pci dicts from the hypervisor.\n\nThis patch fixes multiple related issues:\n* always deepcopy what _create_tracker takes as that list is later\n  returned to the PciTracker via a mock and the tracker might modify\n  what it got\n\n* ensure that _create_tracker takes db dicts (with id field) while\n  _set_hvdevs takes pci dicts in the hypervisor format (without id\n  field)\n\n* always deepcopy what is passed to _set_hvdevs as the PciTracker modify\n  what it gets.\n\n* normalize when the deepcopy happens to give a safe patter for future\n  test cases\n\nConflicts:\n      nova/tests/unit/pci/test_manager.py due to\n      I1d270cc3e88a74097eefe3b887106222ae06fe1c is not in\n      stable/victoria\n\nChange-Id: I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318\n(cherry picked from commit c58376db75917444831934963fa75b4b57f08818)\n(cherry picked from commit f04cfd42359d555e746df0e2c48d989d0c3244f1)\n(cherry picked from commit 1023580f6d9008f5e56f6d3905b6e227bd2bff67)\n(cherry picked from commit 3335d9317994ea3490fbc9945e0e961c42aef907)\n'}]",0,840845,2fb300f71e87490f3e91d03dd5ce8eb88a5996a7,4,1,1,9708,,,0,"Isolate PCI tracker unit tests

During the testing If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 we noticed
that the unit test cases of PciTracker._set_hvdev are changing and
leaking global state leading to unstable tests.

To reproduce on master, duplicate the
test_set_hvdev_remove_tree_maintained_with_allocations test case and run
PciDevTrackerTestCase serially. The duplicated test case will fail with

  File ""/nova/nova/objects/pci_device.py"", line 238, in _from_db_object
  setattr(pci_device, key, db_dev[key])
  KeyError: 'id'

This is caused by the fact that the test data is defined on module
level, both _create_tracker and _set_hvdevs modifies the devices
passed to them, and some test mixes passing db dicts to _set_hvdevs
that expects pci dicts from the hypervisor.

This patch fixes multiple related issues:
* always deepcopy what _create_tracker takes as that list is later
  returned to the PciTracker via a mock and the tracker might modify
  what it got

* ensure that _create_tracker takes db dicts (with id field) while
  _set_hvdevs takes pci dicts in the hypervisor format (without id
  field)

* always deepcopy what is passed to _set_hvdevs as the PciTracker modify
  what it gets.

* normalize when the deepcopy happens to give a safe patter for future
  test cases

Conflicts:
      nova/tests/unit/pci/test_manager.py due to
      I1d270cc3e88a74097eefe3b887106222ae06fe1c is not in
      stable/victoria

Change-Id: I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318
(cherry picked from commit c58376db75917444831934963fa75b4b57f08818)
(cherry picked from commit f04cfd42359d555e746df0e2c48d989d0c3244f1)
(cherry picked from commit 1023580f6d9008f5e56f6d3905b6e227bd2bff67)
(cherry picked from commit 3335d9317994ea3490fbc9945e0e961c42aef907)
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/840845/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/pci/test_manager.py'],1,2fb300f71e87490f3e91d03dd5ce8eb88a5996a7,bug/1969496,"fake_pci_devs = [fake_pci, fake_pci_1, fake_pci_2] fake_pci_devs_tree = [fake_pci_3, fake_pci_4, fake_pci_5] self.fake_devs = copy.deepcopy(fake_devs) self.fake_devs = copy.deepcopy(fake_db_devs) self._create_tracker(fake_db_devs) fake_pci_devs = [fake_pci, fake_pci_1, fake_pci_2, fake_pci_3] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) fake_pci_devs = [fake_pci_3, fake_pci_4, fake_pci_5, fake_new_device] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) fake_pci_devs = [fake_pci, fake_pci_2, fake_pci_v2] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) self.tracker._set_hvdevs(copy.deepcopy([fake_pci])) fake_pci_devs = [fake_pci_3, fake_pci_4] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) all_db_devs = fake_db_devs_tree all_pci_devs = fake_pci_devs_tree self._create_tracker(all_db_devs) self.tracker._set_hvdevs(copy.deepcopy(all_pci_devs)) fake_pci_devs = [dev for dev in all_pci_devs self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) fake_pci_devs = [fake_pci, fake_pci_2, fake_pci_3] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) fake_pci_3 = dict(fake_pci_1, address='0000:00:00.4') fake_devs_numa = copy.deepcopy(fake_pci_devs) fake_devs_numa.append(fake_pci_3) self.tracker = manager.PciDevTracker(mock.sentinel.context, 1) self.tracker._set_hvdevs(copy.deepcopy(fake_devs_numa)) fake_pci_devs = [fake_pci, fake_pci_2, fake_pci_v3] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs))"," self.fake_devs = fake_devs self.fake_devs = fake_db_devs[:] self._create_tracker(fake_db_devs[:]) fake_pci_devs = [copy.deepcopy(fake_pci), copy.deepcopy(fake_pci_1), copy.deepcopy(fake_pci_2), copy.deepcopy(fake_pci_3)] self.tracker._set_hvdevs(fake_pci_devs) fake_pci_devs = [copy.deepcopy(fake_pci_3), copy.deepcopy(fake_pci_4), copy.deepcopy(fake_pci_5), copy.deepcopy(fake_new_device)] self.tracker._set_hvdevs(fake_pci_devs) fake_pci_devs = [copy.deepcopy(fake_pci), copy.deepcopy(fake_pci_2), copy.deepcopy(fake_pci_v2)] self.tracker._set_hvdevs(fake_pci_devs) self.tracker._set_hvdevs([fake_pci]) fake_pci_devs = [copy.deepcopy(fake_pci_3), copy.deepcopy(fake_pci_4)] self.tracker._set_hvdevs(fake_pci_devs) all_devs = fake_db_devs_tree[:] self._create_tracker(all_devs) self.tracker._set_hvdevs(all_devs) fake_pci_devs = [dev for dev in all_devs self.tracker._set_hvdevs(fake_pci_devs) self.tracker._set_hvdevs(fake_pci_devs) fake_pci_devs = [copy.deepcopy(fake_pci), copy.deepcopy(fake_pci_2), copy.deepcopy(fake_pci_3)] self.tracker._set_hvdevs(fake_pci_devs) fake_db_dev_3 = dict(fake_db_dev_1, id=4, address='0000:00:00.4') fake_devs_numa = copy.deepcopy(fake_db_devs) fake_devs_numa.append(fake_db_dev_3) self.tracker = manager.PciDevTracker(1) self.tracker._set_hvdevs(fake_devs_numa) fake_pci_devs = [copy.deepcopy(fake_pci), copy.deepcopy(fake_pci_2), copy.deepcopy(fake_pci_v3)] self.tracker._set_hvdevs(fake_pci_devs)",31,34
openstack%2Fnova~stable%2Fxena~I7b432d7a32aeb1ab765d1f731691c7841a8f1440,openstack/nova,stable/xena,I7b432d7a32aeb1ab765d1f731691c7841a8f1440,Simulate bug 1969496,NEW,2022-05-06 08:40:46.000000000,2022-05-31 12:42:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-06 08:40:46.000000000', 'files': ['nova/tests/unit/pci/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/96e00c30fc7356874a13f75eb5ee46c87fb448d0', 'message': ""Simulate bug 1969496\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail to\nwhen try to mark the dependent VFs unavailable.\n\nThis patch adds a test case that shows the error.\n\nRelated-Bug: #1969496\n\nChange-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440\n(cherry picked from commit 9ee5d2c66255f83cc8a66f1b5648fa13e1d73f47)\n(cherry picked from commit 23c48b670668e9cae886b5113c776077780f5581)\n""}]",0,840836,96e00c30fc7356874a13f75eb5ee46c87fb448d0,5,1,1,9708,,,0,"Simulate bug 1969496

As If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for
the pci_device table to become inconsistent. Parent PF can be in
'available' state while children VFs are still in 'unavailable' state.
In this situation the PF is schedulable but the PCI claim will fail to
when try to mark the dependent VFs unavailable.

This patch adds a test case that shows the error.

Related-Bug: #1969496

Change-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440
(cherry picked from commit 9ee5d2c66255f83cc8a66f1b5648fa13e1d73f47)
(cherry picked from commit 23c48b670668e9cae886b5113c776077780f5581)
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/840836/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/pci/test_manager.py'],1,96e00c30fc7356874a13f75eb5ee46c87fb448d0,bug/1969496,"from nova import exception def test_claim_available_pf_while_child_vf_is_unavailable(self): # NOTE(gibi): this is bug 1969496. The state created here is # inconsistent and should not happen. But it did happen in some cases # where we were not able to track down the way how it happened. # We start with a PF parent and a VF child. The PF is available and # the VF is unavailable. pf = copy.deepcopy(fake_db_dev_3) vf = copy.deepcopy(fake_db_dev_4) vf['status'] = fields.PciDeviceStatus.UNAVAILABLE self._create_tracker([pf, vf]) pf_dev = self._get_device_by_address(pf['address']) self.assertEqual('available', pf_dev.status) vf_dev = self._get_device_by_address(vf['address']) self.assertEqual('unavailable', vf_dev.status) pci_requests_obj = self._create_pci_requests_object( [ { 'count': 1, 'spec': [{'dev_type': fields.PciDeviceType.SRIOV_PF}] } ], instance_uuid=uuidsentinel.instance1, ) # now try to claim and allocate the PF. It should work as it is # available # This is bug 1969496 as the claim fails with exception ex = self.assertRaises( exception.PciDevicePoolEmpty, self.tracker.claim_instance, mock.sentinel.context, pci_requests_obj, None ) self.assertIn( 'Attempt to consume PCI device 1:0000:00:02.1 from empty pool', str(ex) ) pf_dev = self._get_device_by_address(pf['address']) self.assertEqual('available', pf_dev.status) vf_dev = self._get_device_by_address(vf['address']) self.assertEqual('unavailable', vf_dev.status) # This should work when the bug is fixed # self.tracker.claim_instance( # mock.sentinel.context, pci_requests_obj, None) # self.tracker.allocate_instance({'uuid': uuidsentinel.instance1}) # pf_dev = self._get_device_by_address(pf['address']) # self.assertEqual('allocated', pf_dev.status) # vf_dev = self._get_device_by_address(vf['address']) # self.assertEqual('unavailable', vf_dev.status) ",,56,0
openstack%2Fnova~stable%2Fxena~If9ab424cc7375a1f0d41b03f01c4a823216b3eb8,openstack/nova,stable/xena,If9ab424cc7375a1f0d41b03f01c4a823216b3eb8,Remove unavailable but not reported PCI devices at startup,NEW,2022-05-06 08:40:46.000000000,2022-05-31 12:34:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-06 08:40:46.000000000', 'files': ['nova/objects/pci_device.py', 'nova/pci/manager.py', 'nova/tests/unit/objects/test_pci_device.py', 'nova/tests/unit/pci/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/580a4b14ae367e327229482decca0cb6cdf6e9d8', 'message': 'Remove unavailable but not reported PCI devices at startup\n\nWe saw in the field that the pci_devices table can end up in\ninconsistent state after a compute node HW failure and re-deployment.\nThere could be dependent devices where the parent PF is in available\nstate while the children VFs are in unavailable state. (Before the HW\nfault the PF was allocated hence the VFs was marked unavailable).\n\nIn this state this PF is still schedulable but during the\nPCI claim the handling of dependent devices in the PCI tracker fill fail\nwith the error: ""Attempt to consume PCI device XXX from empty pool"".\n\nThe reason of the failure is that when the PF is claimed, all the\nchildren VFs are marked unavailable. But if the VF is already\nunavailable such step fails.\n\nOne way the deployer might try to recover from this state is to remove\nthe VFs from the hypervisor and restart the compute agent. The compute\nstartup already has a logic to delete PCI devices that are unused and\nnot reported by the hypervisor. However this logic only removed devices\nin \'available\' state and ignored devices in \'unavailable\' state.\n\nIf a device is unused and the hypervisor is not reporting the device any\nmore then it is safe to delete that device from the PCI tracker. So this\npatch extends the logic to allow deleting \'unavailable\' devices. There\nis a small window when dependent PCI device is in \'unclaimable\' state.\nFrom cleanup perspective this is an analogous state. So it is also\nadded to the cleanup logic.\n\nRelated-Bug: #1969496\nChange-Id: If9ab424cc7375a1f0d41b03f01c4a823216b3eb8\n(cherry picked from commit 284ea72e96604bdf16d1c5c4db47247334841b2f)\n(cherry picked from commit d7bca631fea348fb56cc46c5680643bacd82513e)\n'}]",0,840835,580a4b14ae367e327229482decca0cb6cdf6e9d8,6,1,1,9708,,,0,"Remove unavailable but not reported PCI devices at startup

We saw in the field that the pci_devices table can end up in
inconsistent state after a compute node HW failure and re-deployment.
There could be dependent devices where the parent PF is in available
state while the children VFs are in unavailable state. (Before the HW
fault the PF was allocated hence the VFs was marked unavailable).

In this state this PF is still schedulable but during the
PCI claim the handling of dependent devices in the PCI tracker fill fail
with the error: ""Attempt to consume PCI device XXX from empty pool"".

The reason of the failure is that when the PF is claimed, all the
children VFs are marked unavailable. But if the VF is already
unavailable such step fails.

One way the deployer might try to recover from this state is to remove
the VFs from the hypervisor and restart the compute agent. The compute
startup already has a logic to delete PCI devices that are unused and
not reported by the hypervisor. However this logic only removed devices
in 'available' state and ignored devices in 'unavailable' state.

If a device is unused and the hypervisor is not reporting the device any
more then it is safe to delete that device from the PCI tracker. So this
patch extends the logic to allow deleting 'unavailable' devices. There
is a small window when dependent PCI device is in 'unclaimable' state.
From cleanup perspective this is an analogous state. So it is also
added to the cleanup logic.

Related-Bug: #1969496
Change-Id: If9ab424cc7375a1f0d41b03f01c4a823216b3eb8
(cherry picked from commit 284ea72e96604bdf16d1c5c4db47247334841b2f)
(cherry picked from commit d7bca631fea348fb56cc46c5680643bacd82513e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/840835/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/pci_device.py', 'nova/pci/manager.py', 'nova/tests/unit/objects/test_pci_device.py', 'nova/tests/unit/pci/test_manager.py']",4,580a4b14ae367e327229482decca0cb6cdf6e9d8,bug/1969496," def _get_device_by_address(self, address): devs = [dev for dev in self.tracker.pci_devs if dev.address == address] if len(devs) == 1: return devs[0] if devs: raise ValueError('ambiguous address', devs) else: raise ValueError('device not found', address) def test_set_hvdevs_unavailable_vf_removed(self): # We start with a PF parent and two VF children self._create_tracker([fake_db_dev_3, fake_db_dev_4, fake_db_dev_5]) pci_requests_obj = self._create_pci_requests_object( [ { 'count': 1, 'spec': [{'dev_type': fields.PciDeviceType.SRIOV_PF}] } ], instance_uuid=uuidsentinel.instance1, ) # then claim and allocate the PF that makes the VFs unavailable self.tracker.claim_instance( mock.sentinel.context, pci_requests_obj, None) self.tracker.allocate_instance({'uuid': uuidsentinel.instance1}) dev3_pf = self._get_device_by_address(fake_db_dev_3['address']) self.assertEqual('allocated', dev3_pf.status) self.assertEqual(uuidsentinel.instance1, dev3_pf.instance_uuid) dev4_vf = self._get_device_by_address(fake_db_dev_4['address']) self.assertEqual('unavailable', dev4_vf.status) dev5_vf = self._get_device_by_address(fake_db_dev_5['address']) self.assertEqual('unavailable', dev5_vf.status) # now simulate that one VF (dev_5) is removed from the hypervisor and # the compute is restarted. As the VF is not claimed or allocated we # are free to remove it from the tracker. self.tracker._set_hvdevs(copy.deepcopy([fake_pci_3, fake_pci_4])) dev3_pf = self._get_device_by_address(fake_db_dev_3['address']) self.assertEqual('allocated', dev3_pf.status) self.assertEqual(uuidsentinel.instance1, dev3_pf.instance_uuid) dev4_vf = self._get_device_by_address(fake_db_dev_4['address']) self.assertEqual('unavailable', dev4_vf.status) dev5_vf = self._get_device_by_address(fake_db_dev_5['address']) self.assertEqual('removed', dev5_vf.status) def test_set_hvdevs_unavailable_pf_removed(self): # We start with one PF parent and one child VF self._create_tracker([fake_db_dev_3, fake_db_dev_4]) pci_requests_obj = self._create_pci_requests_object( [ { 'count': 1, 'spec': [{'dev_type': fields.PciDeviceType.SRIOV_VF}] } ], instance_uuid=uuidsentinel.instance1, ) # Then we claim and allocate the VF that makes the PF unavailable self.tracker.claim_instance( mock.sentinel.context, pci_requests_obj, None) self.tracker.allocate_instance({'uuid': uuidsentinel.instance1}) dev3_pf = self._get_device_by_address(fake_db_dev_3['address']) self.assertEqual('unavailable', dev3_pf.status) dev4_vf = self._get_device_by_address(fake_db_dev_4['address']) self.assertEqual('allocated', dev4_vf.status) self.assertEqual(uuidsentinel.instance1, dev4_vf.instance_uuid) # now simulate that the parent PF is removed from the hypervisor and # the compute is restarted. As the PF is not claimed or allocated we # are free to remove it from the tracker. self.tracker._set_hvdevs(copy.deepcopy([fake_pci_4])) dev3_pf = self._get_device_by_address(fake_db_dev_3['address']) self.assertEqual('removed', dev3_pf.status) dev4_vf = self._get_device_by_address(fake_db_dev_4['address']) self.assertEqual('allocated', dev4_vf.status) self.assertEqual(uuidsentinel.instance1, dev4_vf.instance_uuid) ",,123,7
openstack%2Fnova~stable%2Fxena~I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318,openstack/nova,stable/xena,I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318,Isolate PCI tracker unit tests,NEW,2022-05-06 08:40:46.000000000,2022-05-31 12:34:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-06 08:40:46.000000000', 'files': ['nova/tests/unit/pci/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1023580f6d9008f5e56f6d3905b6e227bd2bff67', 'message': 'Isolate PCI tracker unit tests\n\nDuring the testing If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 we noticed\nthat the unit test cases of PciTracker._set_hvdev are changing and\nleaking global state leading to unstable tests.\n\nTo reproduce on master, duplicate the\ntest_set_hvdev_remove_tree_maintained_with_allocations test case and run\nPciDevTrackerTestCase serially. The duplicated test case will fail with\n\n  File ""/nova/nova/objects/pci_device.py"", line 238, in _from_db_object\n  setattr(pci_device, key, db_dev[key])\n  KeyError: \'id\'\n\nThis is caused by the fact that the test data is defined on module\nlevel, both _create_tracker and _set_hvdevs modifies the devices\npassed to them, and some test mixes passing db dicts to _set_hvdevs\nthat expects pci dicts from the hypervisor.\n\nThis patch fixes multiple related issues:\n* always deepcopy what _create_tracker takes as that list is later\n  returned to the PciTracker via a mock and the tracker might modify\n  what it got\n\n* ensure that _create_tracker takes db dicts (with id field) while\n  _set_hvdevs takes pci dicts in the hypervisor format (without id\n  field)\n\n* always deepcopy what is passed to _set_hvdevs as the PciTracker modify\n  what it gets.\n\n* normalize when the deepcopy happens to give a safe patter for future\n  test cases\n\nChange-Id: I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318\n(cherry picked from commit c58376db75917444831934963fa75b4b57f08818)\n(cherry picked from commit f04cfd42359d555e746df0e2c48d989d0c3244f1)\n'}]",0,840834,1023580f6d9008f5e56f6d3905b6e227bd2bff67,5,1,1,9708,,,0,"Isolate PCI tracker unit tests

During the testing If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 we noticed
that the unit test cases of PciTracker._set_hvdev are changing and
leaking global state leading to unstable tests.

To reproduce on master, duplicate the
test_set_hvdev_remove_tree_maintained_with_allocations test case and run
PciDevTrackerTestCase serially. The duplicated test case will fail with

  File ""/nova/nova/objects/pci_device.py"", line 238, in _from_db_object
  setattr(pci_device, key, db_dev[key])
  KeyError: 'id'

This is caused by the fact that the test data is defined on module
level, both _create_tracker and _set_hvdevs modifies the devices
passed to them, and some test mixes passing db dicts to _set_hvdevs
that expects pci dicts from the hypervisor.

This patch fixes multiple related issues:
* always deepcopy what _create_tracker takes as that list is later
  returned to the PciTracker via a mock and the tracker might modify
  what it got

* ensure that _create_tracker takes db dicts (with id field) while
  _set_hvdevs takes pci dicts in the hypervisor format (without id
  field)

* always deepcopy what is passed to _set_hvdevs as the PciTracker modify
  what it gets.

* normalize when the deepcopy happens to give a safe patter for future
  test cases

Change-Id: I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318
(cherry picked from commit c58376db75917444831934963fa75b4b57f08818)
(cherry picked from commit f04cfd42359d555e746df0e2c48d989d0c3244f1)
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/840834/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/pci/test_manager.py'],1,1023580f6d9008f5e56f6d3905b6e227bd2bff67,bug/1969496,"fake_pci_devs = [fake_pci, fake_pci_1, fake_pci_2] fake_pci_devs_tree = [fake_pci_3, fake_pci_4, fake_pci_5] self.fake_devs = copy.deepcopy(fake_devs) self.fake_devs = copy.deepcopy(fake_db_devs) self._create_tracker(fake_db_devs) fake_pci_devs = [fake_pci, fake_pci_1, fake_pci_2, fake_pci_3] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) fake_pci_devs = [fake_pci_3, fake_pci_4, fake_pci_5, fake_new_device] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) fake_pci_devs = [fake_pci, fake_pci_2, fake_pci_v2] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) self.tracker._set_hvdevs(copy.deepcopy([fake_pci])) fake_pci_devs = [fake_pci_3, fake_pci_4] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) all_db_devs = fake_db_devs_tree all_pci_devs = fake_pci_devs_tree self._create_tracker(all_db_devs) self.tracker._set_hvdevs(copy.deepcopy(all_pci_devs)) fake_pci_devs = [dev for dev in all_pci_devs self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) fake_pci_devs = [fake_pci, fake_pci_2, fake_pci_3] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) fake_pci_3 = dict(fake_pci_1, address='0000:00:00.4') fake_devs_numa = copy.deepcopy(fake_pci_devs) fake_devs_numa.append(fake_pci_3) self.tracker._set_hvdevs(copy.deepcopy(fake_devs_numa)) fake_pci_devs = [fake_pci, fake_pci_2, fake_pci_v3] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs))"," self.fake_devs = fake_devs self.fake_devs = fake_db_devs[:] self._create_tracker(fake_db_devs[:]) fake_pci_devs = [copy.deepcopy(fake_pci), copy.deepcopy(fake_pci_1), copy.deepcopy(fake_pci_2), copy.deepcopy(fake_pci_3)] self.tracker._set_hvdevs(fake_pci_devs) fake_pci_devs = [copy.deepcopy(fake_pci_3), copy.deepcopy(fake_pci_4), copy.deepcopy(fake_pci_5), copy.deepcopy(fake_new_device)] self.tracker._set_hvdevs(fake_pci_devs) fake_pci_devs = [copy.deepcopy(fake_pci), copy.deepcopy(fake_pci_2), copy.deepcopy(fake_pci_v2)] self.tracker._set_hvdevs(fake_pci_devs) self.tracker._set_hvdevs([fake_pci]) fake_pci_devs = [copy.deepcopy(fake_pci_3), copy.deepcopy(fake_pci_4)] self.tracker._set_hvdevs(fake_pci_devs) all_devs = fake_db_devs_tree[:] self._create_tracker(all_devs) self.tracker._set_hvdevs(all_devs) fake_pci_devs = [dev for dev in all_devs self.tracker._set_hvdevs(fake_pci_devs) self.tracker._set_hvdevs(fake_pci_devs) fake_pci_devs = [copy.deepcopy(fake_pci), copy.deepcopy(fake_pci_2), copy.deepcopy(fake_pci_3)] self.tracker._set_hvdevs(fake_pci_devs) fake_db_dev_3 = dict(fake_db_dev_1, id=4, address='0000:00:00.4') fake_devs_numa = copy.deepcopy(fake_db_devs) fake_devs_numa.append(fake_db_dev_3) self.tracker._set_hvdevs(fake_devs_numa) fake_pci_devs = [copy.deepcopy(fake_pci), copy.deepcopy(fake_pci_2), copy.deepcopy(fake_pci_v3)] self.tracker._set_hvdevs(fake_pci_devs)",30,33
openstack%2Fovn-octavia-provider~master~I04edbbd631f63b79c10916ce2391bb0cb95c1c19,openstack/ovn-octavia-provider,master,I04edbbd631f63b79c10916ce2391bb0cb95c1c19,Fix Load balancer remains on PENDING_CREATE,MERGED,2022-05-18 15:55:38.000000000,2022-05-31 12:20:52.000000000,2022-05-31 12:19:07.000000000,"[{'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-05-18 15:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/31fcea1bb9c5ddb85156066c124a030645811dda', 'message': 'Fix Load balancer remains on PENDING_CREATE\n\nOn LB creation process, when heavy load env situation\narises, neutron client could return several errors\nthat is currently not under control. At this way\nOctavia API is not receiving an update status and LB\nkeeps on PENDING_CREATE without any apparent error.\n\nThis patch cover error on request over neutron client\n(subnet, list ports...) in order to update to Octavia\nAPI with ERROR status in case this situation achieved.\n\nCloses-Bug: #1974052\nChange-Id: I04edbbd631f63b79c10916ce2391bb0cb95c1c19\n'}, {'number': 2, 'created': '2022-05-18 16:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/98ed549aaf44c38a914595c608a9ce12d1e24fac', 'message': 'Fix Load balancer remains on PENDING_CREATE\n\nOn LB creation process, when heavy load env situation\narises, neutron client could return several errors\nthat is currently not under control. At this way\nOctavia API is not receiving an update status and LB\nkeeps on PENDING_CREATE without any apparent error.\n\nThis patch cover error on request over neutron client\n(subnet, list ports...) in order to update to Octavia\nAPI with ERROR status in case this situation achieved.\n\nCloses-Bug: #1974052\n\nChange-Id: I04edbbd631f63b79c10916ce2391bb0cb95c1c19\n'}, {'number': 3, 'created': '2022-05-27 10:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4cc21c4cceaf2843ed5e2ae6af61646b82900ec3', 'message': 'Fix Load balancer remains on PENDING_CREATE\n\nOn LB creation process, when heavy load env situation\narises, neutron client could return several errors\nthat is currently not under control. At this way\nOctavia API is not receiving an update status and LB\nkeeps on PENDING_CREATE without any apparent error.\n\nThis patch cover error on request over neutron client\n(subnet, list ports...) in order to update to Octavia\nAPI with ERROR status in case this situation achieved.\n\nCloses-Bug: #1974052\n\nChange-Id: I04edbbd631f63b79c10916ce2391bb0cb95c1c19\n'}, {'number': 4, 'created': '2022-05-27 10:37:45.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/28d378868fc6ad005f82ef96e573766de68e4d37', 'message': 'Fix Load balancer remains on PENDING_CREATE\n\nOn LB creation process, when heavy load env situation\narises, neutron client could return several errors\nthat is currently not under control. At this way\nOctavia API is not receiving an update status and LB\nkeeps on PENDING_CREATE without any apparent error.\n\nThis patch cover error on request over neutron client\n(subnet, list ports...) in order to update to Octavia\nAPI with ERROR status in case this situation achieved.\n\nCloses-Bug: #1974052\n\nChange-Id: I04edbbd631f63b79c10916ce2391bb0cb95c1c19\n'}]",4,842382,28d378868fc6ad005f82ef96e573766de68e4d37,19,3,4,34451,,,0,"Fix Load balancer remains on PENDING_CREATE

On LB creation process, when heavy load env situation
arises, neutron client could return several errors
that is currently not under control. At this way
Octavia API is not receiving an update status and LB
keeps on PENDING_CREATE without any apparent error.

This patch cover error on request over neutron client
(subnet, list ports...) in order to update to Octavia
API with ERROR status in case this situation achieved.

Closes-Bug: #1974052

Change-Id: I04edbbd631f63b79c10916ce2391bb0cb95c1c19
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/82/842382/4 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,31fcea1bb9c5ddb85156066c124a030645811dda,," def test_lb_create_neutron_client_exception(self, net_cli): net_cli.return_value.list_ports.return_value = self.ports net_cli.return_value.show_subnet.side_effect = [n_exc.NotFound] status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client')",,54,43
openstack%2Fnova~stable%2Ftrain~I8f7f26e10519c87e06de47bd4d9845151f889129,openstack/nova,stable/train,I8f7f26e10519c87e06de47bd4d9845151f889129,Reproducer unit test for bug 1934094,NEW,2022-05-23 11:23:45.000000000,2022-05-31 12:15:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 29037}]","[{'number': 1, 'created': '2022-05-23 11:23:45.000000000', 'files': ['nova/tests/unit/compute/test_shelve.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/51652f4d19059e4ee8e622e8ba32d25722e33b04', 'message': 'Reproducer unit test for bug 1934094\n\nRelated bug: #1934094\n\nConflicts:\n      nova/tests/unit/compute/test_shelve.py due to\nI678722b3cf295c89110967d5ad8c0c964df4cb42 not in stable/train\n\nSigned-off-by: Pierre-Samuel Le Stang <pierre-samuel.le-stang@corp.ovh.com>\nChange-Id: I8f7f26e10519c87e06de47bd4d9845151f889129\n(cherry picked from commit 78e10f5f14a018fd1d96ea242923631459acb62c)\n(cherry picked from commit ec73ff1f78714eb62686d0f39fc4e79ffdf559af)\n(cherry picked from commit 77b9bbd0e5926ffad382ae97099cc829153000a5)\n(cherry picked from commit 7cda2f49ff93011b6f8a3bccf2a4c8b7fa73fc20)\n(cherry picked from commit 0a99f3c0bf03e9b908612bc052765aed82bdf74c)\n'}]",0,842962,51652f4d19059e4ee8e622e8ba32d25722e33b04,3,2,1,9708,,,0,"Reproducer unit test for bug 1934094

Related bug: #1934094

Conflicts:
      nova/tests/unit/compute/test_shelve.py due to
I678722b3cf295c89110967d5ad8c0c964df4cb42 not in stable/train

Signed-off-by: Pierre-Samuel Le Stang <pierre-samuel.le-stang@corp.ovh.com>
Change-Id: I8f7f26e10519c87e06de47bd4d9845151f889129
(cherry picked from commit 78e10f5f14a018fd1d96ea242923631459acb62c)
(cherry picked from commit ec73ff1f78714eb62686d0f39fc4e79ffdf559af)
(cherry picked from commit 77b9bbd0e5926ffad382ae97099cc829153000a5)
(cherry picked from commit 7cda2f49ff93011b6f8a3bccf2a4c8b7fa73fc20)
(cherry picked from commit 0a99f3c0bf03e9b908612bc052765aed82bdf74c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/842962/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/compute/test_shelve.py'],1,51652f4d19059e4ee8e622e8ba32d25722e33b04,bug/1934094," def test_unshelve_spawn_fails_cleanup_instance_image_ref(self): """"""Tests error handling when a instance fails to unshelve and makes sure to revert instance.image_ref to the initial value instead of keeping the one of shelved image https://bugs.launchpad.net/nova/+bug/1934094 """""" instance = self._create_fake_instance_obj() # TODO(pslestang) to uncomment when bug 1934094 is fixed # initial_image_ref = instance.image_ref fake_spec = objects.RequestSpec() shelved_image = {'id': uuids.image_id} with mock.patch.object(self.compute.driver, 'spawn', side_effect=test.TestingException('Spawn Failed')): self.assertRaises(test.TestingException, self.compute.unshelve_instance, self.context, instance, image=shelved_image, filter_properties={}, node='fake-node', request_spec=fake_spec) # FIXME(pslestang) Until bug 1934094 is fixed # The instance.image_ref is set to shelved_image.id but should be # equal to initial_image_ref self.assertEqual(instance.image_ref, shelved_image['id']) ",,24,0
openstack%2Fnova~stable%2Fvictoria~I8f7f26e10519c87e06de47bd4d9845151f889129,openstack/nova,stable/victoria,I8f7f26e10519c87e06de47bd4d9845151f889129,Reproducer unit test for bug 1934094,NEW,2022-05-23 09:49:18.000000000,2022-05-31 11:59:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-23 09:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ceaeb4ac2590a6209e545707a52263763d341fb0', 'message': 'Reproducer unit test for bug 1934094\n\nRelated bug: #1934094\n\nSigned-off-by: Pierre-Samuel Le Stang <pierre-samuel.le-stang@corp.ovh.com>\nChange-Id: I8f7f26e10519c87e06de47bd4d9845151f889129\n(cherry picked from commit 78e10f5f14a018fd1d96ea242923631459acb62c)\n(cherry picked from commit ec73ff1f78714eb62686d0f39fc4e79ffdf559af)\n(cherry picked from commit 77b9bbd0e5926ffad382ae97099cc829153000a5)\n'}, {'number': 2, 'created': '2022-05-23 09:58:35.000000000', 'files': ['nova/tests/unit/compute/test_shelve.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7cda2f49ff93011b6f8a3bccf2a4c8b7fa73fc20', 'message': 'Reproducer unit test for bug 1934094\n\nmodified:   nova/tests/unit/compute/test_shelve.py due to\nI258df4d77f6d86df1d867a8fe27360731c21d237 is not in stable/victoria\n\nRelated bug: #1934094\n\nSigned-off-by: Pierre-Samuel Le Stang <pierre-samuel.le-stang@corp.ovh.com>\nChange-Id: I8f7f26e10519c87e06de47bd4d9845151f889129\n(cherry picked from commit 78e10f5f14a018fd1d96ea242923631459acb62c)\n(cherry picked from commit ec73ff1f78714eb62686d0f39fc4e79ffdf559af)\n(cherry picked from commit 77b9bbd0e5926ffad382ae97099cc829153000a5)\n'}]",0,842952,7cda2f49ff93011b6f8a3bccf2a4c8b7fa73fc20,5,1,2,9708,,,0,"Reproducer unit test for bug 1934094

modified:   nova/tests/unit/compute/test_shelve.py due to
I258df4d77f6d86df1d867a8fe27360731c21d237 is not in stable/victoria

Related bug: #1934094

Signed-off-by: Pierre-Samuel Le Stang <pierre-samuel.le-stang@corp.ovh.com>
Change-Id: I8f7f26e10519c87e06de47bd4d9845151f889129
(cherry picked from commit 78e10f5f14a018fd1d96ea242923631459acb62c)
(cherry picked from commit ec73ff1f78714eb62686d0f39fc4e79ffdf559af)
(cherry picked from commit 77b9bbd0e5926ffad382ae97099cc829153000a5)
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/842952/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/compute/test_shelve.py'],1,ceaeb4ac2590a6209e545707a52263763d341fb0,bug/1934094," def test_unshelve_spawn_fails_cleanup_instance_image_ref(self): """"""Tests error handling when a instance fails to unshelve and makes sure to revert instance.image_ref to the initial value instead of keeping the one of shelved image https://bugs.launchpad.net/nova/+bug/1934094 """""" instance = self._create_fake_instance_obj() # TODO(pslestang) to uncomment when bug 1934094 is fixed # initial_image_ref = instance.image_ref fake_spec = objects.RequestSpec() shelved_image = {'id': uuids.image_id} with mock.patch.object(self.compute.driver, 'spawn', side_effect=test.TestingException('Spawn Failed')): self.assertRaises(test.TestingException, self.compute.unshelve_instance, self.context, instance, image=shelved_image, filter_properties={}, node='fake-node', request_spec=fake_spec, accel_uuids=[]) # FIXME(pslestang) Until bug 1934094 is fixed # The instance.image_ref is set to shelved_image.id but should be # equal to initial_image_ref self.assertEqual(instance.image_ref, shelved_image['id']) ",,24,0
openstack%2Fnova~stable%2Fussuri~I8f7f26e10519c87e06de47bd4d9845151f889129,openstack/nova,stable/ussuri,I8f7f26e10519c87e06de47bd4d9845151f889129,Reproducer unit test for bug 1934094,NEW,2022-05-23 10:03:43.000000000,2022-05-31 11:59:04.000000000,,"[{'_account_id': 22348}, {'_account_id': 29037}]","[{'number': 1, 'created': '2022-05-23 10:03:43.000000000', 'files': ['nova/tests/unit/compute/test_shelve.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0a99f3c0bf03e9b908612bc052765aed82bdf74c', 'message': 'Reproducer unit test for bug 1934094\n\nRelated bug: #1934094\n\nSigned-off-by: Pierre-Samuel Le Stang <pierre-samuel.le-stang@corp.ovh.com>\nChange-Id: I8f7f26e10519c87e06de47bd4d9845151f889129\n(cherry picked from commit 78e10f5f14a018fd1d96ea242923631459acb62c)\n(cherry picked from commit ec73ff1f78714eb62686d0f39fc4e79ffdf559af)\n(cherry picked from commit 77b9bbd0e5926ffad382ae97099cc829153000a5)\n(cherry picked from commit 7cda2f49ff93011b6f8a3bccf2a4c8b7fa73fc20)\n'}]",0,842955,0a99f3c0bf03e9b908612bc052765aed82bdf74c,3,2,1,9708,,,0,"Reproducer unit test for bug 1934094

Related bug: #1934094

Signed-off-by: Pierre-Samuel Le Stang <pierre-samuel.le-stang@corp.ovh.com>
Change-Id: I8f7f26e10519c87e06de47bd4d9845151f889129
(cherry picked from commit 78e10f5f14a018fd1d96ea242923631459acb62c)
(cherry picked from commit ec73ff1f78714eb62686d0f39fc4e79ffdf559af)
(cherry picked from commit 77b9bbd0e5926ffad382ae97099cc829153000a5)
(cherry picked from commit 7cda2f49ff93011b6f8a3bccf2a4c8b7fa73fc20)
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/842955/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/compute/test_shelve.py'],1,0a99f3c0bf03e9b908612bc052765aed82bdf74c,bug/1934094," def test_unshelve_spawn_fails_cleanup_instance_image_ref(self): """"""Tests error handling when a instance fails to unshelve and makes sure to revert instance.image_ref to the initial value instead of keeping the one of shelved image https://bugs.launchpad.net/nova/+bug/1934094 """""" instance = self._create_fake_instance_obj() # TODO(pslestang) to uncomment when bug 1934094 is fixed # initial_image_ref = instance.image_ref fake_spec = objects.RequestSpec() shelved_image = {'id': uuids.image_id} with mock.patch.object(self.compute.driver, 'spawn', side_effect=test.TestingException('Spawn Failed')): self.assertRaises(test.TestingException, self.compute.unshelve_instance, self.context, instance, image=shelved_image, filter_properties={}, node='fake-node', request_spec=fake_spec) # FIXME(pslestang) Until bug 1934094 is fixed # The instance.image_ref is set to shelved_image.id but should be # equal to initial_image_ref self.assertEqual(instance.image_ref, shelved_image['id']) ",,24,0
openstack%2Fopenstack-ansible-os_neutron~stable%2Fvictoria~I54dbd5c9690281af475312a277eab534403edf92,openstack/openstack-ansible-os_neutron,stable/victoria,I54dbd5c9690281af475312a277eab534403edf92,custom configuration for vpnaas,ABANDONED,2022-05-31 11:03:18.000000000,2022-05-31 11:45:20.000000000,,[{'_account_id': 25023}],"[{'number': 1, 'created': '2022-05-31 11:03:18.000000000', 'files': ['tasks/neutron_post_install.yml', 'releasenotes/notes/neutron-vpnaas-custom-config-ad991bb02b9ed655.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/3abecb5759a5c888d60d8b75b011e3de195b7344', 'message': 'custom configuration for vpnaas\n\nChange-Id: I54dbd5c9690281af475312a277eab534403edf92\n'}]",1,844030,3abecb5759a5c888d60d8b75b011e3de195b7344,3,1,1,34933,,,0,"custom configuration for vpnaas

Change-Id: I54dbd5c9690281af475312a277eab534403edf92
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/30/844030/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/neutron_post_install.yml', 'releasenotes/notes/neutron-vpnaas-custom-config-ad991bb02b9ed655.yaml', 'defaults/main.yml']",3,3abecb5759a5c888d60d8b75b011e3de195b7344,neutron_vpnaas_custom_config,#Set this variable to use custom config file for strongswan/openswan neutron_vpnaas_custom_config: {},,49,0
openstack%2Fnova~master~I42915bf7523a086cc8f13e553bde3bd77a7b39e5,openstack/nova,master,I42915bf7523a086cc8f13e553bde3bd77a7b39e5,"Revert ""Enable live_migration_events in nova-ovs-hybrid-plug""",NEW,2022-05-23 08:39:10.000000000,2022-05-31 11:41:22.000000000,,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-23 08:39:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/b5c479f643846e093c27958743d187a53836dba9', 'message': 'Revert ""Enable live_migration_events in nova-ovs-hybrid-plug""\n\nThis reverts commit a3a593ad55480d240d0dd17b0dcf1185ea1498b8.\n\nReason for revert: Neutron hard coded this behavior on master now in https://review.opendev.org/c/openstack/neutron/+/840448 so we don\'t need to set it manually any more on master.\n\nChange-Id: I42915bf7523a086cc8f13e553bde3bd77a7b39e5\n'}]",2,842932,b5c479f643846e093c27958743d187a53836dba9,9,4,1,9708,,,0,"Revert ""Enable live_migration_events in nova-ovs-hybrid-plug""

This reverts commit a3a593ad55480d240d0dd17b0dcf1185ea1498b8.

Reason for revert: Neutron hard coded this behavior on master now in https://review.opendev.org/c/openstack/neutron/+/840448 so we don't need to set it manually any more on master.

Change-Id: I42915bf7523a086cc8f13e553bde3bd77a7b39e5
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/842932/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b5c479f643846e093c27958743d187a53836dba9,bug/1971563,, $NEUTRON_CONF: nova: live_migration_events: True $NEUTRON_CONF: nova: live_migration_events: True,0,6
openstack%2Fcinder~master~I34ff4c5e08569d21ccf4243a1ba27ec9f48a1ee9,openstack/cinder,master,I34ff4c5e08569d21ccf4243a1ba27ec9f48a1ee9,"db: Migrate ""qos specs"" APIs to enginefacade",MERGED,2022-04-12 10:11:10.000000000,2022-05-31 11:29:11.000000000,2022-05-31 10:50:05.000000000,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-04-12 10:11:10.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8a6721de63bc88bac6530ddc51ed64c1e149e789', 'message': 'db: Migrate ""qos specs"" APIs to enginefacade\n\nMigrate qos specs-related APIs from the legacy enginefacade to the\nmodern context-based enginefacade.\n\nChange-Id: I34ff4c5e08569d21ccf4243a1ba27ec9f48a1ee9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",6,837524,8a6721de63bc88bac6530ddc51ed64c1e149e789,35,5,1,15334,,,0,"db: Migrate ""qos specs"" APIs to enginefacade

Migrate qos specs-related APIs from the legacy enginefacade to the
modern context-based enginefacade.

Change-Id: I34ff4c5e08569d21ccf4243a1ba27ec9f48a1ee9
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/24/837524/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,8a6721de63bc88bac6530ddc51ed64c1e149e789,remove-legacyfacade,"@main_context_manager.writer try: _qos_specs_get_all_by_name(context, values['name']) raise exception.QoSSpecsExists(specs_id=values['name']) except exception.QoSSpecsNotFound: pass try: # Insert a root entry for QoS specs specs_root = models.QualityOfServiceSpecs() root = {'id': specs_id} # 'QoS_Specs_Name' is an internal reserved key to store # the name of QoS specs root['key'] = 'QoS_Specs_Name' root['value'] = values['name'] LOG.debug(""DB qos_specs_create(): root %s"", root) specs_root.update(root) specs_root.save(context.session) # Save 'consumer' value directly as it will not be in # values['specs'] and so we avoid modifying/copying passed in dict consumer = { 'key': 'consumer', 'value': values['consumer'], 'specs_id': specs_id, 'id': str(uuid.uuid4()), } cons_entry = models.QualityOfServiceSpecs() cons_entry.update(consumer) cons_entry.save(context.session) # Insert all specification entries for QoS specs for k, v in values.get('specs', {}).items(): item = {'key': k, 'value': v, 'specs_id': specs_id} item['id'] = str(uuid.uuid4()) spec_entry = models.QualityOfServiceSpecs() spec_entry.update(item) spec_entry.save(context.session) except db_exc.DBDataError: msg = _('Error writing field to database') LOG.exception(msg) raise exception.Invalid(msg) except Exception as e: raise db_exc.DBError(e) return {'id': specs_root.id, 'name': specs_root.value}def _qos_specs_get_all_by_name(context, name, inactive=False): results = ( model_query( context, models.QualityOfServiceSpecs, read_deleted=read_deleted, ) .filter_by(key='QoS_Specs_Name') .filter_by(value=name) .options(joinedload('specs')) .all() )def _qos_specs_get_all_ref(context, qos_specs_id, inactive=False): result = ( model_query( context, models.QualityOfServiceSpecs, read_deleted=read_deleted, ) .filter_by(id=qos_specs_id) .options(joinedload('specs')) .all() ) if (update_time - spec['updated_at']).total_seconds() < 0: member = { 'name': row['value'], 'id': row['id'], 'created_at': row['created_at'], } member.update({'specs': spec_dict})@main_context_manager.reader def qos_specs_get(context, qos_specs_id, inactive=False): rows = _qos_specs_get_all_ref(context, qos_specs_id, inactive)@main_context_manager.reader def qos_specs_get_all( context, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None, ): # Generate the query query = _generate_paginate_query( context, None, marker, limit, sort_keys, sort_dirs, filters, offset, models.QualityOfServiceSpecs, ) # No Qos specs would match, return empty list if query is None: return [] rows = query.all() return _dict_with_qos_specs(rows)def _qos_specs_get_query(context, session=None): rows = ( model_query( context, models.QualityOfServiceSpecs, session=session, read_deleted='no', ) .options(joinedload('specs')) .filter_by(key='QoS_Specs_Name') ) result = ( model_query( context, models.QualityOfServiceSpecs, session=session, read_deleted='no', ) .filter_by(id=qos_spec_id) .filter_by(key='QoS_Specs_Name') .first() )@main_context_manager.reader def qos_specs_get_by_name(context, name, inactive=False): rows = _qos_specs_get_all_by_name(context, name, inactive)@main_context_manager.reader@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer@main_context_manager.writer def qos_specs_item_delete(context, qos_specs_id, key): query = ( context.session.query(models.QualityOfServiceSpecs) .filter(models.QualityOfServiceSpecs.key == key) .filter(models.QualityOfServiceSpecs.specs_id == qos_specs_id) ) entity = query.column_descriptions[0]['entity'] query.update( { 'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at, } )@main_context_manager.writer def qos_specs_delete(context, qos_specs_id): _qos_specs_get_all_ref(context, qos_specs_id) query = context.session.query(models.QualityOfServiceSpecs).filter( or_( models.QualityOfServiceSpecs.id == qos_specs_id, models.QualityOfServiceSpecs.specs_id == qos_specs_id, ) ) entity = query.column_descriptions[0]['entity'] updated_values = { 'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at, } query.update(updated_values)def _qos_specs_get_item(context, qos_specs_id, key): result = ( model_query(context, models.QualityOfServiceSpecs) .filter(models.QualityOfServiceSpecs.key == key) .filter(models.QualityOfServiceSpecs.specs_id == qos_specs_id) .first() ) specs_key=key, specs_id=qos_specs_id )@main_context_manager.writer # make sure qos specs exists exists = resource_exists( context, models.QualityOfServiceSpecs, qos_specs_id ) if not exists: raise exception.QoSSpecsNotFound(specs_id=qos_specs_id) specs = updates.get('specs', {}) if 'consumer' in updates: # Massage consumer to the right place for DB and copy specs # before updating so we don't modify dict for caller specs = specs.copy() specs['consumer'] = updates['consumer'] spec_ref = None for key in specs.keys(): try: spec_ref = _qos_specs_get_item(context, qos_specs_id, key) except exception.QoSSpecsKeyNotFound: spec_ref = models.QualityOfServiceSpecs() id = None if spec_ref.get('id', None): id = spec_ref['id'] else: id = str(uuid.uuid4()) value = { 'id': id, 'key': key, 'value': specs[key], 'specs_id': qos_specs_id, 'deleted': False, } LOG.debug('qos_specs_update() value: %s', value) spec_ref.update(value) spec_ref.save(context.session) return specs "," session = get_session() with session.begin(): try: _qos_specs_get_all_by_name(context, values['name'], session) raise exception.QoSSpecsExists(specs_id=values['name']) except exception.QoSSpecsNotFound: pass try: # Insert a root entry for QoS specs specs_root = models.QualityOfServiceSpecs() root = dict(id=specs_id) # 'QoS_Specs_Name' is an internal reserved key to store # the name of QoS specs root['key'] = 'QoS_Specs_Name' root['value'] = values['name'] LOG.debug(""DB qos_specs_create(): root %s"", root) specs_root.update(root) specs_root.save(session=session) # Save 'consumer' value directly as it will not be in # values['specs'] and so we avoid modifying/copying passed in dict consumer = {'key': 'consumer', 'value': values['consumer'], 'specs_id': specs_id, 'id': str(uuid.uuid4())} cons_entry = models.QualityOfServiceSpecs() cons_entry.update(consumer) cons_entry.save(session=session) # Insert all specification entries for QoS specs for k, v in values.get('specs', {}).items(): item = dict(key=k, value=v, specs_id=specs_id) item['id'] = str(uuid.uuid4()) spec_entry = models.QualityOfServiceSpecs() spec_entry.update(item) spec_entry.save(session=session) except db_exc.DBDataError: msg = _('Error writing field to database') LOG.exception(msg) raise exception.Invalid(msg) except Exception as e: raise db_exc.DBError(e) return dict(id=specs_root.id, name=specs_root.value)def _qos_specs_get_all_by_name(context, name, session=None, inactive=False): results = model_query(context, models.QualityOfServiceSpecs, read_deleted=read_deleted, session=session). \ filter_by(key='QoS_Specs_Name'). \ filter_by(value=name). \ options(joinedload('specs')).all()def _qos_specs_get_all_ref(context, qos_specs_id, session=None, inactive=False): result = model_query(context, models.QualityOfServiceSpecs, read_deleted=read_deleted, session=session). \ filter_by(id=qos_specs_id). \ options(joinedload('specs')).all() if (update_time - spec['updated_at']).total_seconds() < 0: member = {'name': row['value'], 'id': row['id'], 'created_at': row['created_at']} member.update(dict(specs=spec_dict))def qos_specs_get(context, qos_specs_id, inactive=False): rows = _qos_specs_get_all_ref(context, qos_specs_id, None, inactive)def qos_specs_get_all(context, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None): session = get_session() with session.begin(): # Generate the query query = _generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, offset, models.QualityOfServiceSpecs) # No Qos specs would match, return empty list if query is None: return [] rows = query.all() return _dict_with_qos_specs(rows)def _qos_specs_get_query(context, session): rows = model_query(context, models.QualityOfServiceSpecs, session=session, read_deleted='no').\ options(joinedload('specs')).filter_by(key='QoS_Specs_Name') result = model_query(context, models.QualityOfServiceSpecs, session=session, read_deleted='no').\ filter_by(id=qos_spec_id).filter_by(key='QoS_Specs_Name').first()def qos_specs_get_by_name(context, name, inactive=False): rows = _qos_specs_get_all_by_name(context, name, None, inactive)def qos_specs_item_delete(context, qos_specs_id, key): session = get_session() with session.begin(): query = session.query(models.QualityOfServiceSpecs). \ filter(models.QualityOfServiceSpecs.key == key). \ filter(models.QualityOfServiceSpecs.specs_id == qos_specs_id) entity = query.column_descriptions[0]['entity'] query.update({'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at})def qos_specs_delete(context, qos_specs_id): session = get_session() with session.begin(): _qos_specs_get_all_ref(context, qos_specs_id, session) query = session.query(models.QualityOfServiceSpecs).\ filter(or_(models.QualityOfServiceSpecs.id == qos_specs_id, models.QualityOfServiceSpecs.specs_id == qos_specs_id)) entity = query.column_descriptions[0]['entity'] updated_values = {'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at} query.update(updated_values)def _qos_specs_get_item(context, qos_specs_id, key, session=None): result = model_query(context, models.QualityOfServiceSpecs, session=session). \ filter(models.QualityOfServiceSpecs.key == key). \ filter(models.QualityOfServiceSpecs.specs_id == qos_specs_id). \ first() specs_key=key, specs_id=qos_specs_id) session = get_session() with session.begin(): # make sure qos specs exists exists = resource_exists(context, models.QualityOfServiceSpecs, qos_specs_id, session) if not exists: raise exception.QoSSpecsNotFound(specs_id=qos_specs_id) specs = updates.get('specs', {}) if 'consumer' in updates: # Massage consumer to the right place for DB and copy specs # before updating so we don't modify dict for caller specs = specs.copy() specs['consumer'] = updates['consumer'] spec_ref = None for key in specs.keys(): try: spec_ref = _qos_specs_get_item( context, qos_specs_id, key, session) except exception.QoSSpecsKeyNotFound: spec_ref = models.QualityOfServiceSpecs() id = None if spec_ref.get('id', None): id = spec_ref['id'] else: id = str(uuid.uuid4()) value = dict(id=id, key=key, value=specs[key], specs_id=qos_specs_id, deleted=False) LOG.debug('qos_specs_update() value: %s', value) spec_ref.update(value) spec_ref.save(session=session) return specs",202,143
openstack%2Fnetworking-ovn~stable%2Ftrain~Ibca1cb23bf580237ab4a4283f80ef636975ba018,openstack/networking-ovn,stable/train,Ibca1cb23bf580237ab4a4283f80ef636975ba018,"Revert ""Use Port_Binding up column to set Neutron port status""",MERGED,2022-05-26 06:31:28.000000000,2022-05-31 11:19:03.000000000,2022-05-31 11:16:56.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-05-26 06:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ff23e8552a2fcfe908a5950deab806cae5b1ae54', 'message': 'Revert ""Use Port_Binding up column to set Neutron port status""\n\nThis reverts commit d4651da300838388c3cc2a9d74405077ae6f8c1f.\n\nReason for revert: This patch has caused couple of issues[1][2][3].\n[1][2] are same issue just one is seen in c8/c9-stream and other in rhel8 and both contains much info about the issue.\n[3] is currently happening only in rhel8/rhel9 as this issue is visible only with the patch in revert and ovn-2021>=21.12.0-55(fix of [4]) which is not yet available in c8-stream or c9-stream.\n\n[1][2] issue happens randomly as the patch under revert has moved the events to SB DB which made a known OVN issue[5] occur more often as in that issue SB DB Event queue floods with too many events making other\nevents like PortBindingUpdateUpEvent to wait much longer and hence triggering VirtualInterfaceCreateException. NB DB Event queue is different and hence with revert we are trying to lower the side effect of the OVN issue[5]. \n\nThis patch can be re reverted once [3] and [5] are fixed.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1964940/\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=2081631\n[3] https://bugzilla.redhat.com/show_bug.cgi?id=2090604\n[4] https://bugzilla.redhat.com/show_bug.cgi?id=2037433\n[5] https://bugzilla.redhat.com/show_bug.cgi?id=1974898\n\nChange-Id: Ibca1cb23bf580237ab4a4283f80ef636975ba018\nCloses-Bug: #1964940\nCloses-Bug: rhbz#2081631\nCloses-Bug: rhbz#2090604\n'}, {'number': 2, 'created': '2022-05-26 06:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9c923ebc9860be0604f7487fdf12477b2287ca8b', 'message': 'Revert ""Use Port_Binding up column to set Neutron port status""\n\nThis reverts commit d4651da300838388c3cc2a9d74405077ae6f8c1f.\n\nReason for revert: This patch has caused couple of issues[1][2][3].\n[1][2] are same issue just one is seen in c8/c9-stream and other in\nrhel8 and both contains much info about the issue.\n[3] is currently happening only in rhel8/rhel9 as this issue is visible\nonly with the patch in revert and ovn-2021>=21.12.0-55(fix of [4]) which\nis not yet available in c8/c9-stream.\n\n[1][2] happens randomly as the patch under revert has moved the\nevents to SB DB which made a known OVN issue[5] occur more often as in\nthat issue SB DB Event queue floods with too many events of\nPortBindingChassisEvent making other events like PortBindingUpdateUpEvent\nto wait much longer and hence triggering VirtualInterfaceCreateException.\n\nNB DB Event queue is different and hence with revert we are trying to\nlower the side effect of the OVN issue[5].\n\nThis patch can be re reverted once [3] and [5] are fixed.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1964940/\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=2081631\n[3] https://bugzilla.redhat.com/show_bug.cgi?id=2090604\n[4] https://bugzilla.redhat.com/show_bug.cgi?id=2037433\n[5] https://bugzilla.redhat.com/show_bug.cgi?id=1974898\n\nCloses-Bug: #1964940\nCloses-Bug: rhbz#2081631\nCloses-Bug: rhbz#2090604\nRelated-Bug: rhbz#2037433\nRelated-Bug: rhbz#1974898\nChange-Id: Ibca1cb23bf580237ab4a4283f80ef636975ba018\n'}, {'number': 3, 'created': '2022-05-26 14:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2a25a8f7cb38f6dfef2453f1dfebdf39fc471bcc', 'message': 'Revert ""Use Port_Binding up column to set Neutron port status""\n\nThis reverts commit d4651da300838388c3cc2a9d74405077ae6f8c1f.\n\nReason for revert: This patch has caused couple of issues[1][2][3].\n[1][2] are same issue just one is seen in c8/c9-stream and other in\nrhel8 and both contains much info about the issue.\n[3] is currently happening only in rhel8/rhel9 as this issue is visible\nonly with the patch in revert and ovn-2021>=21.12.0-55(fix of [4]) which\nis not yet available in c8/c9-stream.\n\n[1][2] happens randomly as the patch under revert has moved the\nevents to SB DB which made a known OVN issue[5] occur more often as in\nthat issue SB DB Event queue floods with too many events of\nPortBindingChassisEvent making other events like PortBindingUpdateUpEvent\nto wait much longer and hence triggering VirtualInterfaceCreateException.\n\nNB DB Event queue is different and hence with revert we are trying to\nlower the side effect of the OVN issue[5].\n\nThis patch can be re reverted once [3] and [5] are fixed.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1964940/\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=2081631\n[3] https://bugzilla.redhat.com/show_bug.cgi?id=2090604\n[4] https://bugzilla.redhat.com/show_bug.cgi?id=2037433\n[5] https://bugzilla.redhat.com/show_bug.cgi?id=1974898\n\nCloses-Bug: #1964940\nCloses-Bug: rhbz#2081631\nCloses-Bug: rhbz#2090604\nRelated-Bug: rhbz#2037433\nRelated-Bug: rhbz#1974898\nChange-Id: Ibca1cb23bf580237ab4a4283f80ef636975ba018\n'}, {'number': 4, 'created': '2022-05-27 05:29:00.000000000', 'files': ['networking_ovn/common/constants.py', 'networking_ovn/tests/functional/test_ovsdb_monitor.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/41a95ac55a7760afcde2008d9163df34e1bd34fc', 'message': 'Revert ""Use Port_Binding up column to set Neutron port status""\n\nThis reverts commit d4651da300838388c3cc2a9d74405077ae6f8c1f.\n\nReason for revert: This patch has caused couple of issues[1][2][3].\n[1][2] are same issue just one is seen in c8/c9-stream and other in\nrhel8 and both contains much info about the issue.\n[3] is currently happening only in rhel8/rhel9 as this issue is visible\nonly with the patch in revert and ovn-2021>=21.12.0-55(fix of [4]) which\nis not yet available in c8/c9-stream.\n\n[1][2] happens randomly as the patch under revert has moved the\nevents to SB DB which made a known OVN issue[5] occur more often as in\nthat issue SB DB Event queue floods with too many events of\nPortBindingChassisEvent making other events like PortBindingUpdateUpEvent\nto wait much longer and hence triggering VirtualInterfaceCreateException.\n\nNB DB Event queue is different and hence with revert we are trying to\nlower the side effect of the OVN issue[5].\n\nThis patch can be re reverted once [3] and [5] are fixed.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1964940/\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=2081631\n[3] https://bugzilla.redhat.com/show_bug.cgi?id=2090604\n[4] https://bugzilla.redhat.com/show_bug.cgi?id=2037433\n[5] https://bugzilla.redhat.com/show_bug.cgi?id=1974898\n\nCloses-Bug: #1964940\nCloses-Bug: rhbz#2081631\nCloses-Bug: rhbz#2090604\nRelated-Bug: rhbz#2037433\nRelated-Bug: rhbz#1974898\nChange-Id: Ibca1cb23bf580237ab4a4283f80ef636975ba018\n'}]",3,843391,41a95ac55a7760afcde2008d9163df34e1bd34fc,17,6,4,13861,,,0,"Revert ""Use Port_Binding up column to set Neutron port status""

This reverts commit d4651da300838388c3cc2a9d74405077ae6f8c1f.

Reason for revert: This patch has caused couple of issues[1][2][3].
[1][2] are same issue just one is seen in c8/c9-stream and other in
rhel8 and both contains much info about the issue.
[3] is currently happening only in rhel8/rhel9 as this issue is visible
only with the patch in revert and ovn-2021>=21.12.0-55(fix of [4]) which
is not yet available in c8/c9-stream.

[1][2] happens randomly as the patch under revert has moved the
events to SB DB which made a known OVN issue[5] occur more often as in
that issue SB DB Event queue floods with too many events of
PortBindingChassisEvent making other events like PortBindingUpdateUpEvent
to wait much longer and hence triggering VirtualInterfaceCreateException.

NB DB Event queue is different and hence with revert we are trying to
lower the side effect of the OVN issue[5].

This patch can be re reverted once [3] and [5] are fixed.

[1] https://bugs.launchpad.net/tripleo/+bug/1964940/
[2] https://bugzilla.redhat.com/show_bug.cgi?id=2081631
[3] https://bugzilla.redhat.com/show_bug.cgi?id=2090604
[4] https://bugzilla.redhat.com/show_bug.cgi?id=2037433
[5] https://bugzilla.redhat.com/show_bug.cgi?id=1974898

Closes-Bug: #1964940
Closes-Bug: rhbz#2081631
Closes-Bug: rhbz#2090604
Related-Bug: rhbz#2037433
Related-Bug: rhbz#1974898
Change-Id: Ibca1cb23bf580237ab4a4283f80ef636975ba018
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/91/843391/4 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/constants.py', 'networking_ovn/tests/functional/test_ovsdb_monitor.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py']",4,ff23e8552a2fcfe908a5950deab806cae5b1ae54,bug/1964940," } self.driver.set_port_status_up = mock.Mock() self.driver.set_port_status_down = mock.Mock() def _test_lsp_helper(self, event, new_row_json, old_row_json=None, table=None): row_uuid = uuidutils.generate_uuid() if not table: table = self.lp_table lp_row = ovs_idl.Row.from_json(self.idl, table, row_uuid, new_row_json) if old_row_json: old_row = ovs_idl.Row.from_json(self.idl, table, row_uuid, old_row_json) else: old_row = None self.idl.notify(event, lp_row, updates=old_row) # Add a STOP EVENT to the queue self.idl.notify_handler.shutdown() # Execute the notifications queued self.idl.notify_handler.notify_loop() def test_lsp_up_create_event(self): row_data = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_create_event(self): row_data = {""up"": False, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_lsp_up_not_set_event(self): row_data = {""up"": ['set', []], ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_unwatch_logical_switch_port_create_events(self): self.idl.unwatch_logical_switch_port_create_events() row_data = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) row_data[""up""] = False self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_post_connect(self): self.idl.post_connect() self.assertIsNone(self.idl._lsp_create_up_event) self.assertIsNone(self.idl._lsp_create_down_event) def test_lsp_up_update_event(self): new_row_json = {""up"": True, ""name"": ""foo-name""} old_row_json = {""up"": False} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_update_event(self): new_row_json = {""up"": False, ""name"": ""foo-name""} old_row_json = {""up"": True} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_lsp_up_update_event_no_old_data(self): new_row_json = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_update_event_no_old_data(self): new_row_json = {""up"": False, ""name"": ""foo-name""} self._test_lsp_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_other_column_update_event(self): new_row_json = {""up"": False, ""name"": ""foo-name"", ""addresses"": [""10.0.0.2""]} old_row_json = {""addresses"": [""10.0.0.3""]} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_notify_other_table(self): new_row_json = {""name"": ""foo-name""} self._test_lsp_helper('create', new_row_json, table=self.idl.tables.get(""Logical_Switch"")) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) self.sb_idl.post_connect() self.chassis_table = self.sb_idl.tables.get('Chassis') self.row_json = { def _test_chassis_helper(self, event, new_row_json, old_row_json=None): table = self.chassis_table def test_chassis_create_event(self): self._test_chassis_helper('create', self.row_json) self._test_chassis_helper('delete', self.row_json) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json) self.row_json['external_ids'][1].append(['foo_field', 'foo_value_new']) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] = '' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] += ',foo_physnet:foo_br' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] = 'foo_physnet:foo_br' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json)class TestPortBindingChassisUpdateEvent(base.TestCase): def setUp(self): super(TestPortBindingChassisUpdateEvent, self).setUp() self.driver = mock.Mock() self.event = ovsdb_monitor.PortBindingChassisUpdateEvent(self.driver) def _test_event(self, event, row, old): if self.event.matches(event, row, old): self.event.run(event, row, old) self.driver.set_port_status_up.assert_called() else: self.driver.set_port_status_up.assert_not_called() def test_event_matches(self): # NOTE(twilson) This primarily tests implementation details. If a # scenario test is written that handles shutting down a compute # node uncleanly and performing a 'host-evacuate', this can be removed pbtable = fakes.FakeOvsdbTable.create_one_ovsdb_table( attrs={'name': 'Port_Binding'}) ovsdb_row = fakes.FakeOvsdbRow.create_one_ovsdb_row self.driver._nb_ovn.lookup.return_value = ovsdb_row(attrs={'up': True}) self._test_event( self.event.ROW_UPDATE, ovsdb_row(attrs={'_table': pbtable, 'chassis': 'one', 'type': '_fake_', 'logical_port': 'foo'}), ovsdb_row(attrs={'_table': pbtable, 'chassis': 'two', 'type': '_fake_'})) "," }, ""Port_Binding"": { ""columns"": { ""logical_port"": {""type"": ""string""}, ""type"": {""type"": ""string""}, ""chassis"": {""type"": ""string""}, ""up"": {""type"": {""key"": ""boolean"", ""min"": 0, ""max"": 1}}}, ""indexes"": [[""logical_port""]], ""isRoot"": True}, sb_helper.register_table('Port_Binding') self.driver.set_port_status_up = mock.Mock() self.driver.set_port_status_down = mock.Mock() self.chassis_row_json = { def _test_helper(self, event, table, new_row_json, old_row_json=None): def _test_chassis_helper(self, event, new_row_json, old_row_json=None, table=None): self.sb_idl.post_connect() self.chassis_table = self.sb_idl.tables.get('Chassis') if not table: table = self.chassis_table self._test_helper(event, table, new_row_json, old_row_json) def test_chassis_create_event(self): self._test_chassis_helper('create', self.chassis_row_json) self._test_chassis_helper('delete', self.chassis_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) self.chassis_row_json['external_ids'][1].append(['foo_field', 'foo_value_new']) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] = '' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] += ',foo_physnet:foo_br' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] = 'foo_physnet:foo_br' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) def _test_port_binding_helper(self, event, new_row_json, old_row_json=None, table=None): self.port_binding_table = self.sb_idl.tables.get('Port_Binding') if not table: table = self.port_binding_table self._test_helper(event, table, new_row_json, old_row_json) def test_port_binding_up_create_event(self): row_data = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_create_patch_type_event(self): # Note(ltomasbo): This will behave the same for up = True|False # as the port needs to transition to up anyway row_data = {""type"": ""patch"", ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) row_data = {""type"": ""patch"", ""logical_port"": ""lrp-foo-name""} self._test_port_binding_helper('create', row_data) self.assertEqual(1, self.driver.set_port_status_up.call_count) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_create_virtual_type_event(self): row_data = {""type"": ""virtual"", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_create_event(self): row_data = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_down_create_virtual_type_event(self): row_data = {""type"": ""virtual"", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_update_event(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} old_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_update_event(self): new_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} old_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_down_update_event_up_not_updated(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": None} old_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_up_update_event_no_old_data(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_update_event_no_old_data(self): new_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_other_column_update_event(self): new_row_json = {""type"": """", ""up"": True, ""name"": ""foo-name"", ""addresses"": [""10.0.0.2""]} old_row_json = {""type"": """", ""up"": True, ""name"": ""foo-name"", ""addresses"": [""10.0.0.3""]} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_notify_other_table(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper( 'create', new_row_json, table=self.sb_idl.tables.get(""Chassis"")) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_unwatch_port_binding_create_events(self): self.sb_idl.unwatch_port_binding_create_events() row_data = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) row_data[""up""] = False self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_post_connect(self): self.assertIsNotNone(self.sb_idl._pb_create_up_event) self.assertIsNotNone(self.sb_idl._pb_create_down_event) self.sb_idl.post_connect() self.assertIsNone(self.sb_idl._pb_create_up_event) self.assertIsNone(self.sb_idl._pb_create_down_event) ",257,393
openstack%2Fheat~master~I7d1017bcd7147329c4e187336daee1a1ae280fa9,openstack/heat,master,I7d1017bcd7147329c4e187336daee1a1ae280fa9,Use f36 instead of f33 for testing,MERGED,2022-05-30 14:55:14.000000000,2022-05-31 11:10:38.000000000,2022-05-31 10:52:17.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 14:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4c873d489206a5ea31fd9c30a7b32e8c136df6af', 'message': 'Use f36 instead of f33 for testing\n\nF33 is unsupported for a while. We should not use it for any testing.\n\nChange-Id: I7d1017bcd7147329c4e187336daee1a1ae280fa9\n'}, {'number': 2, 'created': '2022-05-30 17:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/768e2331b0e6148f5c60aa7e1d707b702f2e8946', 'message': 'Use f36 instead of f33 for testing\n\nF33 is unsupported for a while. We should not use it for any testing.\n\nChange-Id: I7d1017bcd7147329c4e187336daee1a1ae280fa9\n'}, {'number': 3, 'created': '2022-05-31 06:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e907ea5af0ff3bfed57a4fc93ce3ef33b0b3b38d', 'message': 'Use f36 instead of f33 for testing\n\nF33 is unsupported for a while. We should not use it for any testing.\n\nChange-Id: I7d1017bcd7147329c4e187336daee1a1ae280fa9\n'}, {'number': 4, 'created': '2022-05-31 08:36:02.000000000', 'files': ['doc/source/getting_started/on_devstack.rst', '.zuul.yaml', 'devstack/lib/heat', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/78244c5f0f26064cd53b68e13fa8c4f0e235e698', 'message': 'Use f36 instead of f33 for testing\n\nF33 is unsupported for a while. We should not use it for any testing.\n\nChange-Id: I7d1017bcd7147329c4e187336daee1a1ae280fa9\n'}]",8,843930,78244c5f0f26064cd53b68e13fa8c4f0e235e698,22,2,4,4264,,,0,"Use f36 instead of f33 for testing

F33 is unsupported for a while. We should not use it for any testing.

Change-Id: I7d1017bcd7147329c4e187336daee1a1ae280fa9
",git fetch https://review.opendev.org/openstack/heat refs/changes/30/843930/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/heat'],1,4c873d489206a5ea31fd9c30a7b32e8c136df6af,f36," HEAT_TEST_FEDORA_IMAGE_PATH=releases/36/Cloud/x86_64/images/Fedora-Cloud-Base-36-1.5.x86_64.qcow2 local image_exists=$( openstack image list | grep ""Fedora-Cloud-Base-36-1.5.x86_64"" )"," HEAT_TEST_FEDORA_IMAGE_PATH=releases/33/Cloud/x86_64/images/Fedora-Cloud-Base-33-1.2.x86_64.qcow2 local image_exists=$( openstack image list | grep ""Fedora-Cloud-Base-33-1.2.x86_64"" )",2,2
openstack%2Fopenstack-tempest-skiplist~master~I31cfe0649b403dd00bb7d4fe487e297b7d981648,openstack/openstack-tempest-skiplist,master,I31cfe0649b403dd00bb7d4fe487e297b7d981648,"Revert ""Adds two octavia_tempest_plugin tests to skiplist for related bug""",MERGED,2022-05-31 10:41:15.000000000,2022-05-31 11:04:24.000000000,2022-05-31 11:02:08.000000000,"[{'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-05-31 10:41:15.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/a4d2e2a53cd9bfda14c8386853296515115b2641', 'message': 'Revert ""Adds two octavia_tempest_plugin tests to skiplist for related bug""\n\nThis reverts commit b10608358d99ad23d0085c7a023c38a48a27b3f5.\n\nReason for revert: This is not viable as these are a major part of this job. We are better to remove the job from criteria than skip these tests. \n\nChange-Id: I31cfe0649b403dd00bb7d4fe487e297b7d981648\n'}]",0,843827,a4d2e2a53cd9bfda14c8386853296515115b2641,8,6,1,8449,,,0,"Revert ""Adds two octavia_tempest_plugin tests to skiplist for related bug""

This reverts commit b10608358d99ad23d0085c7a023c38a48a27b3f5.

Reason for revert: This is not viable as these are a major part of this job. We are better to remove the job from criteria than skip these tests. 

Change-Id: I31cfe0649b403dd00bb7d4fe487e297b7d981648
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/27/843827/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,a4d2e2a53cd9bfda14c8386853296515115b2641,,, - test: 'octavia_tempest_plugin.tests.scenario.v2.test_pool.PoolScenarioTest' deployment: - 'overcloud' releases: - name: master reason: TimeoutException Request timed out lp: https://bugs.launchpad.net/tripleo/+bug/1973223 jobs: - periodic-tripleo-ci-centos-9-scenario010-kvm-standalone-master - test: 'octavia_tempest_plugin.tests.scenario.v2.test_traffic_ops.TrafficOperationsScenarioTest' deployment: - 'overcloud' releases: - name: master reason: Connection to the 192.168.24.180 via SSH timed out lp: https://bugs.launchpad.net/tripleo/+bug/1973223 jobs: - periodic-tripleo-ci-centos-9-scenario010-kvm-standalone-master,0,18
openstack%2Fneutron~stable%2Fyoga~I248a9f712692b59e8a8305e0d349c1753d0a0f40,openstack/neutron,stable/yoga,I248a9f712692b59e8a8305e0d349c1753d0a0f40,[DNM] Test yoga fips job,ABANDONED,2022-05-31 06:37:16.000000000,2022-05-31 10:55:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-31 06:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e6e3fd5826664aa3c4ccca02af52c2f6552a5d07', 'message': '[DNM] Test yoga switch c9-stream\n\nChange-Id: I248a9f712692b59e8a8305e0d349c1753d0a0f40\n'}, {'number': 2, 'created': '2022-05-31 10:52:36.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/57bbb15cc5d126d47d81aa8b92a302cbdb2f5588', 'message': '[DNM] Test yoga fips job\n\nWith fix https://review.opendev.org/c/openstack/tempest/+/837777\n\nChange-Id: I248a9f712692b59e8a8305e0d349c1753d0a0f40\n'}]",1,843994,57bbb15cc5d126d47d81aa8b92a302cbdb2f5588,7,1,2,13861,,,0,"[DNM] Test yoga fips job

With fix https://review.opendev.org/c/openstack/tempest/+/837777

Change-Id: I248a9f712692b59e8a8305e0d349c1753d0a0f40
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/843994/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,e6e3fd5826664aa3c4ccca02af52c2f6552a5d07,dnm, - neutron-ovs-tempest-fips, templates: - neutron-tempest-plugin-jobs-yoga - openstack-cover-jobs - openstack-python3-yoga-jobs - openstack-python3-yoga-jobs-arm64 - publish-openstack-docs-pti - periodic-stable-jobs - check-requirements - release-notes-jobs-python3 - neutron-experimental-jobs - neutron-periodic-jobs - neutron-tox-override-jobs - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-ovs-rally-task - neutron-ovs-grenade-multinode - neutron-ovs-grenade-dvr-multinode - neutron-ovs-tempest-multinode-full - neutron-ovs-tempest-dvr-ha-multinode-full - neutron-ovn-tempest-ipv6-only - neutron-ovn-rally-task: voting: false,1,22
openstack%2Ftempest~master~Iee98fc45e44c5795875858918b630b70e6251eed,openstack/tempest,master,Iee98fc45e44c5795875858918b630b70e6251eed,Switch back the tox constraint to master,MERGED,2022-04-13 23:25:43.000000000,2022-05-31 10:52:04.000000000,2022-05-31 10:50:01.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-04-13 23:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c04e3aac29b63dcf05a21e7834a3ea3e9f0eca3f', 'message': 'Switch back the tox constraint to master\n\nTempest 31.0.0 is released so we can\nswitch back the tox constraints to master.\n\nChange-Id: Iee98fc45e44c5795875858918b630b70e6251eed\n'}, {'number': 2, 'created': '2022-04-14 00:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/82fcfe0ce5ea3b3e772481ea13b16eeb7e2abff0', 'message': 'Switch back the tox constraint to master\n\nTempest 31.0.0 is released so we can\nswitch back the tox constraints to master.\n\nChange-Id: Iee98fc45e44c5795875858918b630b70e6251eed\n'}, {'number': 3, 'created': '2022-05-24 00:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1dff61e83dcd2dc6448996fe21d12dfe8ce2cae9', 'message': 'Switch back the tox constraint to master\n\nTempest 31.0.0 is released so we can\nswitch back the tox constraints to master.\n\nChange-Id: Iee98fc45e44c5795875858918b630b70e6251eed\n'}, {'number': 4, 'created': '2022-05-29 00:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ff58cd592cc2f2864d449f28407d01deb5d2bfac', 'message': 'Switch back the tox constraint to master\n\nTempest 31.0.0 is released so we can\nswitch back the tox constraints to master.\n\nChange-Id: Iee98fc45e44c5795875858918b630b70e6251eed\n'}, {'number': 5, 'created': '2022-05-31 01:09:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1791e5d8712898344efd0d63a3b4330d744235c5', 'message': 'Switch back the tox constraint to master\n\nTempest 31.0.0 is released so we can\nswitch back the tox constraints to master.\n\nChange-Id: Iee98fc45e44c5795875858918b630b70e6251eed\n'}]",2,837779,1791e5d8712898344efd0d63a3b4330d744235c5,23,3,5,8556,,,0,"Switch back the tox constraint to master

Tempest 31.0.0 is released so we can
switch back the tox constraints to master.

Change-Id: Iee98fc45e44c5795875858918b630b70e6251eed
",git fetch https://review.opendev.org/openstack/tempest refs/changes/79/837779/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c04e3aac29b63dcf05a21e7834a3ea3e9f0eca3f,u-v-last, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri},5,5
openstack%2Fneutron~master~I575f3f1f24dc7a10dc3508c015476634382a8d4b,openstack/neutron,master,I575f3f1f24dc7a10dc3508c015476634382a8d4b,dhcp: no need to unregister/disable process if not active,ABANDONED,2022-05-23 10:21:21.000000000,2022-05-31 10:51:56.000000000,,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-23 10:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/19390feb0b60db913edb6cb9f5e0fc3a5d5ca328', 'message': 'dhcp: no need to unregister/disable process if not active\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I575f3f1f24dc7a10dc3508c015476634382a8d4b\n'}, {'number': 2, 'created': '2022-05-23 12:29:52.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5190cd44c7336c8ae0a1aeb6d2709a802e937f79', 'message': 'dhcp: no need to unregister/disable process if not active\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I575f3f1f24dc7a10dc3508c015476634382a8d4b\n'}]",3,842959,5190cd44c7336c8ae0a1aeb6d2709a802e937f79,11,3,2,7730,,,0,"dhcp: no need to unregister/disable process if not active

Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>
Change-Id: I575f3f1f24dc7a10dc3508c015476634382a8d4b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/842959/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py']",2,19390feb0b60db913edb6cb9f5e0fc3a5d5ca328,segments," if self.active: self.process_monitor.unregister(self.network.id, DNSMASQ_SERVICE_NAME) self._get_process_manager().disable() if block: common_utils.wait_until_true(lambda: not self.active)"," self.process_monitor.unregister(self.network.id, DNSMASQ_SERVICE_NAME) self._get_process_manager().disable() if block: common_utils.wait_until_true(lambda: not self.active)",8,6
openstack%2Ftempest~master~Ief33c3ebb527b81ae8fbd222237ad5605fad045a,openstack/tempest,master,Ief33c3ebb527b81ae8fbd222237ad5605fad045a,Use yoga stable constraint in tox to release 31.0.0,MERGED,2022-04-13 23:22:53.000000000,2022-05-31 10:49:35.000000000,2022-05-31 10:44:42.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-04-13 23:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cb97c84fb8020f62ff08d951a66c4d2add199dfb', 'message': 'Use ussuri stable constraint in tox to release 31.0.0\n\nWe are going to release Tempest new tag 31.0.0 to declare\nthe end of support for stable/ussuri. Pinning constraints\nin tox.ini with stable/ussuri.\n\nFurther information:\n https://docs.openstack.org/tempest/latest/requirement_upper_constraint_for_tempest.html\n\nChange-Id: Ief33c3ebb527b81ae8fbd222237ad5605fad045a\n'}, {'number': 2, 'created': '2022-04-14 00:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/41ddca671ae88c42c3002c6fc17b8cdeaaafcc54', 'message': 'Use ussuri stable constraint in tox to release 31.0.0\n\nWe are going to release Tempest new tag 31.0.0 to declare\nthe end of support for stable/ussuri. Pinning constraints\nin tox.ini with stable/ussuri.\n\nFurther information:\n https://docs.openstack.org/tempest/latest/requirement_upper_constraint_for_tempest.html\n\nChange-Id: Ief33c3ebb527b81ae8fbd222237ad5605fad045a\n'}, {'number': 3, 'created': '2022-04-14 22:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d0da8c39e5ee8b20e22986deeeecb506a1991bac', 'message': 'Use yoga stable constraint in tox to release 31.0.0\n\nWe are going to release Tempest new tag 31.0.0 to declare\nthe end of support for stable/ussuri. Pinning constraints\nin tox.ini with stable/yoga constraint because Tempest is tested\nwith stable/yoga and master constraints. It did not use master constraints\nas master dev cycle is in progress and so does their constraints also\nis in progress and keep getting modified.\n\nFurther information:\n https://docs.openstack.org/tempest/latest/requirement_upper_constraint_for_tempest.html\n\nChange-Id: Ief33c3ebb527b81ae8fbd222237ad5605fad045a\n'}, {'number': 4, 'created': '2022-05-24 00:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8d8b3b3c196200dfe2ea596ea1f00caa8d50e4e9', 'message': 'Use yoga stable constraint in tox to release 31.0.0\n\nWe are going to release Tempest new tag 31.0.0 to declare\nthe end of support for stable/ussuri. Pinning constraints\nin tox.ini with stable/yoga constraint because Tempest is tested\nwith stable/yoga and master constraints. It did not use master constraints\nas master dev cycle is in progress and so does their constraints also\nis in progress and keep getting modified.\n\nFurther information:\n https://docs.openstack.org/tempest/latest/requirement_upper_constraint_for_tempest.html\n\nChange-Id: Ief33c3ebb527b81ae8fbd222237ad5605fad045a\n'}, {'number': 5, 'created': '2022-05-29 00:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d33df0ec3a828a770b72635c2b8f391059568f80', 'message': 'Use yoga stable constraint in tox to release 31.0.0\n\nWe are going to release Tempest new tag 31.0.0 to declare\nthe end of support for stable/ussuri. Pinning constraints\nin tox.ini with stable/yoga constraint because Tempest is tested\nwith stable/yoga and master constraints. It did not use master constraints\nas master dev cycle is in progress and so does their constraints also\nis in progress and keep getting modified.\n\nFurther information:\n https://docs.openstack.org/tempest/latest/requirement_upper_constraint_for_tempest.html\n\nChange-Id: Ief33c3ebb527b81ae8fbd222237ad5605fad045a\n'}, {'number': 6, 'created': '2022-05-29 00:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/982a124a66117a7480d1b68cb6dd6e987ff25b91', 'message': 'Use yoga stable constraint in tox to release 31.0.0\n\nWe are going to release Tempest new tag 31.0.0 to declare\nthe end of support for stable/ussuri. Pinning constraints\nin tox.ini with stable/yoga constraint because Tempest is tested\nwith stable/yoga and master constraints. It did not use master constraints\nas master dev cycle is in progress and so does their constraints also\nis in progress and keep getting modified.\n\nFurther information:\n https://docs.openstack.org/tempest/latest/requirement_upper_constraint_for_tempest.html\n\nChange-Id: Ief33c3ebb527b81ae8fbd222237ad5605fad045a\n'}, {'number': 7, 'created': '2022-05-31 01:09:25.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d2192f80594895e74c93e8cc22baa4761b8f411c', 'message': 'Use yoga stable constraint in tox to release 31.0.0\n\nWe are going to release Tempest new tag 31.0.0 to declare\nthe end of support for stable/ussuri. Pinning constraints\nin tox.ini with stable/yoga constraint because Tempest is tested\nwith stable/yoga and master constraints. It did not use master constraints\nas master dev cycle is in progress and so does their constraints also\nis in progress and keep getting modified.\n\nFurther information:\n https://docs.openstack.org/tempest/latest/requirement_upper_constraint_for_tempest.html\n\nChange-Id: Ief33c3ebb527b81ae8fbd222237ad5605fad045a\n'}]",5,837777,d2192f80594895e74c93e8cc22baa4761b8f411c,31,3,7,8556,,,0,"Use yoga stable constraint in tox to release 31.0.0

We are going to release Tempest new tag 31.0.0 to declare
the end of support for stable/ussuri. Pinning constraints
in tox.ini with stable/yoga constraint because Tempest is tested
with stable/yoga and master constraints. It did not use master constraints
as master dev cycle is in progress and so does their constraints also
is in progress and keep getting modified.

Further information:
 https://docs.openstack.org/tempest/latest/requirement_upper_constraint_for_tempest.html

Change-Id: Ief33c3ebb527b81ae8fbd222237ad5605fad045a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/77/837777/7 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cb97c84fb8020f62ff08d951a66c4d2add199dfb,u-v-last, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},5,5
openstack%2Ftempest~master~Ie844887a798a006794729e733748ceaa5e06d2db,openstack/tempest,master,Ie844887a798a006794729e733748ceaa5e06d2db,Drop py3.6 and py3.7 from Tempest,MERGED,2022-05-24 18:29:56.000000000,2022-05-31 10:48:13.000000000,2022-05-31 10:44:39.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-05-24 18:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f76478deabe70dc2a5f97fa5e0dd985e58994f02', 'message': 'Drop py3.6 and py3.7 from Tempest\n\nIn zed cycle, OpenStack projects and oslo lib\nhas dropped the py3.6 and py3.7 support\n\n- https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nWith oslo not supporting the py3.6 and py3.7, Tempest master is\nfailing and cannot be run on py3.6|7 env.\n\n- https://bugs.launchpad.net/tempest/+bug/1975036\n\nWe discussed about how to solve it in ML[1] and QA meeting[2] and\ndecided to drop it from Tempest too. Stable branches testing from\nstable/victoria to stable/yoga (currently supported branch by Tempest\nmaster) can be tested on py3.8 or if cloud run those releases on py3.6\nthen Tempest can be run in virtual env with py38.\n\nCloses-Bug: #1975036\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028622.html\n[2] https://meetings.opendev.org/irclogs/%23openstack-qa/%23openstack-qa.2022-05-24.log.html#t2022-05-24T15:31:51\n\nChange-Id: Ie844887a798a006794729e733748ceaa5e06d2db\n'}, {'number': 2, 'created': '2022-05-29 00:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8a592098edbee3f7862ad6e2862f84f2128c71b1', 'message': 'Drop py3.6 and py3.7 from Tempest\n\nIn zed cycle, OpenStack projects and oslo lib\nhas dropped the py3.6 and py3.7 support\n\n- https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nWith oslo not supporting the py3.6 and py3.7, Tempest master is\nfailing and cannot be run on py3.6|7 env.\n\n- https://bugs.launchpad.net/tempest/+bug/1975036\n\nWe discussed about how to solve it in ML[1] and QA meeting[2] and\ndecided to drop it from Tempest too. Stable branches testing from\nstable/victoria to stable/yoga (currently supported branch by Tempest\nmaster) can be tested on py3.8 or if cloud run those releases on py3.6\nthen Tempest can be run in virtual env with py38.\n\nCloses-Bug: #1975036\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028622.html\n[2] https://meetings.opendev.org/irclogs/%23openstack-qa/%23openstack-qa.2022-05-24.log.html#t2022-05-24T15:31:51\n\nChange-Id: Ie844887a798a006794729e733748ceaa5e06d2db\n'}, {'number': 3, 'created': '2022-05-31 01:09:20.000000000', 'files': ['releasenotes/notes/drop-py-3-6-and-3-7-a34f2294f5341539.yaml', 'zuul.d/project.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/87661fcef73ef502f7cdc70c4e0eabfd898db642', 'message': 'Drop py3.6 and py3.7 from Tempest\n\nIn zed cycle, OpenStack projects and oslo lib\nhas dropped the py3.6 and py3.7 support\n\n- https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nWith oslo not supporting the py3.6 and py3.7, Tempest master is\nfailing and cannot be run on py3.6|7 env.\n\n- https://bugs.launchpad.net/tempest/+bug/1975036\n\nWe discussed about how to solve it in ML[1] and QA meeting[2] and\ndecided to drop it from Tempest too. Stable branches testing from\nstable/victoria to stable/yoga (currently supported branch by Tempest\nmaster) can be tested on py3.8 or if cloud run those releases on py3.6\nthen Tempest can be run in virtual env with py38.\n\nCloses-Bug: #1975036\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028622.html\n[2] https://meetings.opendev.org/irclogs/%23openstack-qa/%23openstack-qa.2022-05-24.log.html#t2022-05-24T15:31:51\n\nChange-Id: Ie844887a798a006794729e733748ceaa5e06d2db\n'}]",5,843182,87661fcef73ef502f7cdc70c4e0eabfd898db642,21,3,3,8556,,,0,"Drop py3.6 and py3.7 from Tempest

In zed cycle, OpenStack projects and oslo lib
has dropped the py3.6 and py3.7 support

- https://governance.openstack.org/tc/reference/runtimes/zed.html

With oslo not supporting the py3.6 and py3.7, Tempest master is
failing and cannot be run on py3.6|7 env.

- https://bugs.launchpad.net/tempest/+bug/1975036

We discussed about how to solve it in ML[1] and QA meeting[2] and
decided to drop it from Tempest too. Stable branches testing from
stable/victoria to stable/yoga (currently supported branch by Tempest
master) can be tested on py3.8 or if cloud run those releases on py3.6
then Tempest can be run in virtual env with py38.

Closes-Bug: #1975036

[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028622.html
[2] https://meetings.opendev.org/irclogs/%23openstack-qa/%23openstack-qa.2022-05-24.log.html#t2022-05-24T15:31:51

Change-Id: Ie844887a798a006794729e733748ceaa5e06d2db
",git fetch https://review.opendev.org/openstack/tempest refs/changes/82/843182/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-py-3-6-and-3-7-a34f2294f5341539.yaml', 'zuul.d/project.yaml', 'setup.cfg', 'tox.ini']",4,f76478deabe70dc2a5f97fa5e0dd985e58994f02,bug/1975036,"envlist = pep8,py39,bashate,pip-check-reqs","envlist = pep8,py36,py39,bashate,pip-check-reqs",8,10
openstack%2Fopenstack-tempest-skiplist~master~I10391f17a9b76bfc781ee4da13f0ae2eed4c6dce,openstack/openstack-tempest-skiplist,master,I10391f17a9b76bfc781ee4da13f0ae2eed4c6dce,Adds two octavia_tempest_plugin tests to skiplist for related bug,MERGED,2022-05-31 08:47:19.000000000,2022-05-31 10:41:15.000000000,2022-05-31 09:16:34.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-05-31 08:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/1b9b5123f618154d40da9fef8b03857ca1365e56', 'message': 'Adds two octavia_tempest_plugin tests to skiplist for related bug\n\nRelated-Bug: 1973223\nChange-Id: I10391f17a9b76bfc781ee4da13f0ae2eed4c6dce\n'}, {'number': 2, 'created': '2022-05-31 08:56:04.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/b10608358d99ad23d0085c7a023c38a48a27b3f5', 'message': 'Adds two octavia_tempest_plugin tests to skiplist for related bug\n\nRelated-Bug: 1973223\nChange-Id: I10391f17a9b76bfc781ee4da13f0ae2eed4c6dce\n'}]",1,844009,b10608358d99ad23d0085c7a023c38a48a27b3f5,11,7,2,8449,,,0,"Adds two octavia_tempest_plugin tests to skiplist for related bug

Related-Bug: 1973223
Change-Id: I10391f17a9b76bfc781ee4da13f0ae2eed4c6dce
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/09/844009/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,1b9b5123f618154d40da9fef8b03857ca1365e56,, - test: 'octavia_tempest_plugin.tests.scenario.v2.test_pool.PoolScenarioTest' deployment: - 'overcloud' releases: - name: master reason: TimeoutException: Request timed out lp: https://bugs.launchpad.net/tripleo/+bug/1973223 jobs: - periodic-tripleo-ci-centos-9-scenario010-kvm-standalone-master - test: 'octavia_tempest_plugin.tests.scenario.v2.test_traffic_ops.TrafficOperationsScenarioTest' deployment: - 'overcloud' releases: - name: master reason: Connection to the 192.168.24.180 via SSH timed out lp: https://bugs.launchpad.net/tripleo/+bug/1973223 jobs: - periodic-tripleo-ci-centos-9-scenario010-kvm-standalone-master,,18,0
openstack%2Foslo.vmware~stable%2Fxena~If5a7ed06a9dc007e4c9568458399522f9a8879bb,openstack/oslo.vmware,stable/xena,If5a7ed06a9dc007e4c9568458399522f9a8879bb,"Revert ""Replace suds-jurko with suds-community""",MERGED,2022-05-27 21:06:14.000000000,2022-05-31 10:39:26.000000000,2022-05-31 10:38:15.000000000,"[{'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-05-27 21:06:14.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/b94313699db76d23a270fc34678e414c9abc30c0', 'message': 'Revert ""Replace suds-jurko with suds-community""\n\nThis reverts commit bfda4c7fa96dc063c419e78565a6500867b9be79.\n\nReason for revert: Introducing new deps in stable branches are not as per stable branch policy. Discussed in https://review.opendev.org/c/openstack/releases/+/836832\n\nChange-Id: If5a7ed06a9dc007e4c9568458399522f9a8879bb\n'}]",2,843643,b94313699db76d23a270fc34678e414c9abc30c0,8,4,1,8556,,,0,"Revert ""Replace suds-jurko with suds-community""

This reverts commit bfda4c7fa96dc063c419e78565a6500867b9be79.

Reason for revert: Introducing new deps in stable branches are not as per stable branch policy. Discussed in https://review.opendev.org/c/openstack/releases/+/836832

Change-Id: If5a7ed06a9dc007e4c9568458399522f9a8879bb
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/43/843643/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,b94313699db76d23a270fc34678e414c9abc30c0,bug/1946340-stable/xena,suds-jurko>=0.6 # LGPLv3+,suds-community>=0.6 # LGPLv3+,1,1
openstack%2Fpython-ironicclient~master~I88ed81337c6e2d724b3cf4ddf90e0d60fa052d1c,openstack/python-ironicclient,master,I88ed81337c6e2d724b3cf4ddf90e0d60fa052d1c,Avoid using 'foo' as invalid JSON test data,MERGED,2022-03-01 00:46:08.000000000,2022-05-31 10:39:26.000000000,2022-05-31 10:38:05.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-03-01 00:46:08.000000000', 'files': ['ironicclient/tests/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/59df415bbf66296fcc4a9abcfca6c764b7538e21', 'message': ""Avoid using 'foo' as invalid JSON test data\n\nDownstream test environments appear to have a file called 'foo' either\ncreated out-of-band, or created by tests executed in a\nnon-deterministic order.\n\nThis changes the test data to very invalid json which is unlikely to\nbe a filename, ensuring the expected codepath is tested.\n\nChange-Id: I88ed81337c6e2d724b3cf4ddf90e0d60fa052d1c\n""}]",5,831327,59df415bbf66296fcc4a9abcfca6c764b7538e21,17,4,1,4571,,,0,"Avoid using 'foo' as invalid JSON test data

Downstream test environments appear to have a file called 'foo' either
created out-of-band, or created by tests executed in a
non-deterministic order.

This changes the test data to very invalid json which is unlikely to
be a filename, ensuring the expected codepath is tested.

Change-Id: I88ed81337c6e2d724b3cf4ddf90e0d60fa052d1c
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/27/831327/1 && git format-patch -1 --stdout FETCH_HEAD,['ironicclient/tests/unit/common/test_utils.py'],1,59df415bbf66296fcc4a9abcfca6c764b7538e21,foobar, cleansteps = '{foo invalid: json{', cleansteps = 'foo',1,1
openstack%2Fkayobe~stable%2Fvictoria~Id9418e4e88c52056412daa22462aa611bfcc59ae,openstack/kayobe,stable/victoria,Id9418e4e88c52056412daa22462aa611bfcc59ae,ironic: Set MTU on provisioning and cleaning Neutron networks,MERGED,2022-05-30 10:40:12.000000000,2022-05-31 10:31:14.000000000,2022-05-31 10:29:56.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 10:40:12.000000000', 'files': ['releasenotes/notes/provision-net-mtu-befdda04224f49a6.yaml', 'ansible/provision-net.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/155fa36c2a6d9b766200885ed8b5391e659cce47', 'message': 'ironic: Set MTU on provisioning and cleaning Neutron networks\n\nPreviously we were not applying an MTU defined in Kayobe networks.yml to\nthe provisioning and cleaning networks in Neutron. This could lead to\nissues when nodes communicate with the Ironic and Inspector APIs.\n\nChange-Id: Id9418e4e88c52056412daa22462aa611bfcc59ae\n(cherry picked from commit cd24b6d98e1b82ab9c255e3e5ddbaed99c49067f)\n'}]",0,843812,155fa36c2a6d9b766200885ed8b5391e659cce47,8,3,1,14826,,,0,"ironic: Set MTU on provisioning and cleaning Neutron networks

Previously we were not applying an MTU defined in Kayobe networks.yml to
the provisioning and cleaning networks in Neutron. This could lead to
issues when nodes communicate with the Ironic and Inspector APIs.

Change-Id: Id9418e4e88c52056412daa22462aa611bfcc59ae
(cherry picked from commit cd24b6d98e1b82ab9c255e3e5ddbaed99c49067f)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/12/843812/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/provision-net-mtu-befdda04224f49a6.yaml', 'ansible/provision-net.yml']",2,155fa36c2a6d9b766200885ed8b5391e659cce47,," mtu: ""{{ provision_wl_net_name | net_mtu | default(omit, True) }}"" mtu: ""{{ cleaning_net_name | net_mtu | default(omit, True) }}""",,7,0
openstack%2Fbifrost~stable%2Fyoga~Iade02e16a9ed459159fcbf47708006e7419f7282,openstack/bifrost,stable/yoga,Iade02e16a9ed459159fcbf47708006e7419f7282,Set git_branch et al to stable/yoga,MERGED,2022-05-17 16:02:40.000000000,2022-05-31 10:25:39.000000000,2022-05-31 10:23:57.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-17 16:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/7305f33b909a42a0b95dddfb6dd5ae74030ce5a3', 'message': 'Set git_branch to stable/yoga\n\nAs we are on stable/yoga.\nOtherwise, bifrost installs master (Zed) components which is\nnot expected.\n\nChange-Id: Iade02e16a9ed459159fcbf47708006e7419f7282\n'}, {'number': 2, 'created': '2022-05-17 16:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a4a2fe8bdb2e723831e73ee9dcbf08c666fbd6db', 'message': 'Set git_branch et al to stable/yoga\n\nAs we are on stable/yoga.\nOtherwise, bifrost installs master (Zed) components which is\nnot expected.\n\nChange-Id: Iade02e16a9ed459159fcbf47708006e7419f7282\n'}, {'number': 3, 'created': '2022-05-17 16:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2f4f62189b48566c2a7615c41322bd0fdbe455a7', 'message': 'Set git_branch et al to stable/yoga\n\nAs we are on stable/yoga.\nOtherwise, bifrost installs master (Zed) components which is\nnot expected.\n\nChange-Id: Iade02e16a9ed459159fcbf47708006e7419f7282\n'}, {'number': 4, 'created': '2022-05-21 15:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/97b37972563e180aed3c9a8727fa0955ab29b03d', 'message': 'Set git_branch et al to stable/yoga\n\nAs we are on stable/yoga.\nOtherwise, bifrost installs master (Zed) components which is\nnot expected.\n\nChange-Id: Iade02e16a9ed459159fcbf47708006e7419f7282\n'}, {'number': 5, 'created': '2022-05-21 15:43:33.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'scripts/install-deps.sh', 'playbooks/roles/bifrost-create-vm-nodes/defaults/main.yml', 'playbooks/roles/bifrost-prep-for-install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9083535d172a397149b598706129e0d0bce43bf0', 'message': 'Set git_branch et al to stable/yoga\n\nAs we are on stable/yoga.\nOtherwise, bifrost installs master (Zed) components which is\nnot expected.\n\nChange-Id: Iade02e16a9ed459159fcbf47708006e7419f7282\n'}]",13,842151,9083535d172a397149b598706129e0d0bce43bf0,26,4,5,30491,,,0,"Set git_branch et al to stable/yoga

As we are on stable/yoga.
Otherwise, bifrost installs master (Zed) components which is
not expected.

Change-Id: Iade02e16a9ed459159fcbf47708006e7419f7282
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/51/842151/4 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-prep-for-install/defaults/main.yml'],1,7305f33b909a42a0b95dddfb6dd5ae74030ce5a3,yoga-git-branch,git_branch: stable/yoga,git_branch: master,1,1
openstack%2Fkolla-ansible~stable%2Fyoga~I318ddb069b1ba4e0653ca549402f9ad61cc49d1a,openstack/kolla-ansible,stable/yoga,I318ddb069b1ba4e0653ca549402f9ad61cc49d1a,[CI] Do not test Venus on Yoga,MERGED,2022-05-30 16:27:52.000000000,2022-05-31 10:23:39.000000000,2022-05-31 10:18:43.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-05-30 16:27:52.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3f085dbc035c66b3e9470f16a5470d662b76bd6d', 'message': '[CI] Do not test Venus on Yoga\n\nThere is no Venus in Yoga.\n\nChange-Id: I318ddb069b1ba4e0653ca549402f9ad61cc49d1a\n'}]",0,843932,3f085dbc035c66b3e9470f16a5470d662b76bd6d,8,3,1,30491,,,0,"[CI] Do not test Venus on Yoga

There is no Venus in Yoga.

Change-Id: I318ddb069b1ba4e0653ca549402f9ad61cc49d1a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/32/843932/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,3f085dbc035c66b3e9470f16a5470d662b76bd6d,yoga-no-venus,, - kolla-ansible-centos8s-source-venus - kolla-ansible-ubuntu-source-venus,0,2
openstack%2Fkolla-ansible~stable%2Fyoga~I32fc296083b4881e8f457f4235a32f94ed819d9f,openstack/kolla-ansible,stable/yoga,I32fc296083b4881e8f457f4235a32f94ed819d9f,[CI] Nullify attempts,MERGED,2022-05-30 12:50:27.000000000,2022-05-31 10:22:25.000000000,2022-05-31 10:18:40.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-30 12:50:27.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c443692be92b604111b214e762ceea416e8f09a1', 'message': ""[CI] Nullify attempts\n\nPer Clark Boylan's feedback [1], retries cause a retry not only\nfor pre playbook failures but also for cases where Ansible detects\nnetwork connectivity issues and they are caused by disks getting\nfilled to their fullest. This is an issue we experience that\nsometimes results in a POST_FAILURE but certain FAILUREs are\nretried which wastes CI resources.\nThe problematic jobs are ceph jobs. They are to be looked into.\nBackport to all branches.\nWe can adjust retries for the core jobs that do not exhibit the\nnasty behaviour but first we can try running without retries\nto measure the troublesomeness.\n\n[1] https://review.opendev.org/c/openstack/kolla-ansible/+/843536\n\nChange-Id: I32fc296083b4881e8f457f4235a32f94ed819d9f\n(cherry picked from commit 153956e458157e44d73efc3dd369699ff20e4d12)\n""}]",0,843816,c443692be92b604111b214e762ceea416e8f09a1,10,3,1,30491,,,0,"[CI] Nullify attempts

Per Clark Boylan's feedback [1], retries cause a retry not only
for pre playbook failures but also for cases where Ansible detects
network connectivity issues and they are caused by disks getting
filled to their fullest. This is an issue we experience that
sometimes results in a POST_FAILURE but certain FAILUREs are
retried which wastes CI resources.
The problematic jobs are ceph jobs. They are to be looked into.
Backport to all branches.
We can adjust retries for the core jobs that do not exhibit the
nasty behaviour but first we can try running without retries
to measure the troublesomeness.

[1] https://review.opendev.org/c/openstack/kolla-ansible/+/843536

Change-Id: I32fc296083b4881e8f457f4235a32f94ed819d9f
(cherry picked from commit 153956e458157e44d73efc3dd369699ff20e4d12)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/16/843816/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,c443692be92b604111b214e762ceea416e8f09a1,ci-null-attempts-stable/yoga,, attempts: 5,0,1
openstack%2Fkolla-ansible~master~Id05122cb564f3e7475b2b76da8c111e2c72601b8,openstack/kolla-ansible,master,Id05122cb564f3e7475b2b76da8c111e2c72601b8,Improve MariaDB restore procedure,MERGED,2022-01-05 08:50:10.000000000,2022-05-31 10:22:11.000000000,2022-05-31 10:18:37.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-05 08:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5e514d999cb8d4583734db2b27096327ff8285e0', 'message': 'Improve MariaDB restore procedure\n\nChange-Id: Id05122cb564f3e7475b2b76da8c111e2c72601b8\n'}, {'number': 2, 'created': '2022-01-11 20:47:28.000000000', 'files': ['releasenotes/notes/create-grastate-mariabackup-58ae93adf32d2bcb.yaml', 'doc/source/admin/mariadb-backup-and-restore.rst', 'ansible/roles/mariadb/tasks/recover_cluster.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/377b6b4251834519c47aff71afa1ba2b7951c92c', 'message': 'Improve MariaDB restore procedure\n\nChange-Id: Id05122cb564f3e7475b2b76da8c111e2c72601b8\n'}]",10,823486,377b6b4251834519c47aff71afa1ba2b7951c92c,22,4,2,32657,,,0,"Improve MariaDB restore procedure

Change-Id: Id05122cb564f3e7475b2b76da8c111e2c72601b8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/86/823486/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/create-grastate-mariabackup-58ae93adf32d2bcb.yaml', 'doc/source/admin/mariadb-backup-and-restore.rst', 'ansible/roles/mariadb/tasks/recover_cluster.yml']",3,5e514d999cb8d4583734db2b27096327ff8285e0,, create: yes,,23,5
openstack%2Ftripleo-common~master~Ibec1310c5e1e9e37b1c54c1561b13e76c4102439,openstack/tripleo-common,master,Ibec1310c5e1e9e37b1c54c1561b13e76c4102439,Update ceph daemon image pull registry,MERGED,2022-05-26 17:13:09.000000000,2022-05-31 10:13:32.000000000,2022-05-31 10:12:09.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-05-26 17:13:09.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b36e292c68b5c6cbac37ba01361d31221f130f64', 'message': ""Update ceph daemon image pull registry\n\nThis patch updates the ceph image pull registry and tag to point\nto 'current-ceph' tag on quay.rdoproject.org/daemon, in order to\nalways get the latest promoted ceph image.\nThe promotion process was recently merged [1] and runs\n3 times a week, testing the newest stable ceph daemon tag.\n\n[1] https://review.rdoproject.org/r/q/topic:ceph_promotion_pipeline\n\nChange-Id: Ibec1310c5e1e9e37b1c54c1561b13e76c4102439\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n""}]",5,843508,b36e292c68b5c6cbac37ba01361d31221f130f64,15,5,1,30002,,,0,"Update ceph daemon image pull registry

This patch updates the ceph image pull registry and tag to point
to 'current-ceph' tag on quay.rdoproject.org/daemon, in order to
always get the latest promoted ceph image.
The promotion process was recently merged [1] and runs
3 times a week, testing the newest stable ceph daemon tag.

[1] https://review.rdoproject.org/r/q/topic:ceph_promotion_pipeline

Change-Id: Ibec1310c5e1e9e37b1c54c1561b13e76c4102439
Signed-off-by: Douglas Viroel <dviroel@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/08/843508/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml']",2,b36e292c68b5c6cbac37ba01361d31221f130f64,ceph_promotion_pipeline,- imagename: quay.rdoproject.org/tripleomastercentos9/daemon:current-ceph,- imagename: quay.io/ceph/daemon:v6.0.7-stable-6.0-pacific-centos-stream8,3,3
openstack%2Fansible-role-collect-logs~master~Icba6b51ba5480091adcd2e010c9e34c049216c22,openstack/ansible-role-collect-logs,master,Icba6b51ba5480091adcd2e010c9e34c049216c22,Use nftables when we can,MERGED,2022-05-24 12:22:52.000000000,2022-05-31 10:12:12.000000000,2022-05-31 10:12:12.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-05-24 12:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/2d5055cb50954b6fe5a3695d0bcf259dfe93b442', 'message': 'Use nftables when we can\n\nnftables content will contain all of iptables - especially starting cs8,\nwhere iptables is a compatibility wrapper for nftables (true name:\niptables-nft).\n\nIn addition, getting a dedicated file for nftables content makes things\neasier to read, especially with the nftables output (think ""json"", more\nor less).\n\nNotes:\n- iptables will still be called if the system can\'t find the\n  ""nft"" binary.\n- this patch will be especially important once [1] get in, since\n  iptables will NOT see any of the nftables rules.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/841414\n\nChange-Id: Icba6b51ba5480091adcd2e010c9e34c049216c22\n'}, {'number': 2, 'created': '2022-05-30 12:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/6e5d610f983a3ad5f1c0058dbdfbf0e0161d531e', 'message': 'Use nftables when we can\n\nnftables content will contain all of iptables - especially starting cs8,\nwhere iptables is a compatibility wrapper for nftables (true name:\niptables-nft).\n\nIn addition, getting a dedicated file for nftables content makes things\neasier to read, especially with the nftables output (think ""json"", more\nor less).\n\nNotes:\n- iptables will still be called if the system can\'t find the\n  ""nft"" binary.\n- this patch will be especially important once [1] get in, since\n  iptables will NOT see any of the nftables rules.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/841414\n\nChange-Id: Icba6b51ba5480091adcd2e010c9e34c049216c22\n'}, {'number': 3, 'created': '2022-05-31 06:13:25.000000000', 'files': ['roles/collect_logs/tasks/collect/network.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/ea02074571b11039a3a369086889d6743df3403e', 'message': 'Use nftables when we can\n\nnftables content will contain all of iptables - especially starting cs8,\nwhere iptables is a compatibility wrapper for nftables (true name:\niptables-nft).\n\nIn addition, getting a dedicated file for nftables content makes things\neasier to read, especially with the nftables output (think ""json"", more\nor less).\n\nNotes:\n- iptables will still be called if the system can\'t find the\n  ""nft"" binary.\n- this patch will be especially important once [1] get in, since\n  iptables will NOT see any of the nftables rules.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/841414\n\nChange-Id: Icba6b51ba5480091adcd2e010c9e34c049216c22\n'}]",11,843135,ea02074571b11039a3a369086889d6743df3403e,22,5,3,28223,,,0,"Use nftables when we can

nftables content will contain all of iptables - especially starting cs8,
where iptables is a compatibility wrapper for nftables (true name:
iptables-nft).

In addition, getting a dedicated file for nftables content makes things
easier to read, especially with the nftables output (think ""json"", more
or less).

Notes:
- iptables will still be called if the system can't find the
  ""nft"" binary.
- this patch will be especially important once [1] get in, since
  iptables will NOT see any of the nftables rules.

[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/841414

Change-Id: Icba6b51ba5480091adcd2e010c9e34c049216c22
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/35/843135/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/collect_logs/tasks/collect/network.yml'],1,2d5055cb50954b6fe5a3695d0bcf259dfe93b442,nftables," if [[ ! $(command -v nft) ]]; then echo ""### IPTables (IPv${ipv})"" &>> /var/log/extra/network.txt; test $ipv -eq 4 && iptables-save &>> /var/log/extra/network.txt; test $ipv -eq 6 && ip6tables-save &>> /var/log/extra/network.txt; echo ""### IPTables Stats (IPv${ipv})"" &>> /var/log/extra/network.txt; test $ipv -eq 4 && iptables -vnL &>> /var/log/extra/network.txt; test $ipv -eq 6 && ip6tables -vnL &>> /var/log/extra/network.txt; fi command -v nft && nft list ruleset &>/var/log/extra/nftables.txt"," echo ""### IPTables (IPv${ipv})"" &>> /var/log/extra/network.txt; test $ipv -eq 4 && iptables-save &>> /var/log/extra/network.txt; test $ipv -eq 6 && ip6tables-save &>> /var/log/extra/network.txt; echo ""### IPTables Stats (IPv${ipv})"" &>> /var/log/extra/network.txt; test $ipv -eq 4 && iptables -vnL &>> /var/log/extra/network.txt; test $ipv -eq 6 && ip6tables -vnL &>> /var/log/extra/network.txt;",9,6
openstack%2Fopenstack-helm-infra~master~If3c042f76a9e94b501db2a49a8710942bb267a6b,openstack/openstack-helm-infra,master,If3c042f76a9e94b501db2a49a8710942bb267a6b,Bump proxy-stream-timeout to 8 hours in mariadb,ABANDONED,2021-03-26 15:42:40.000000000,2022-05-31 10:08:52.000000000,,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 15:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/73ba22213ffc42514769c2b4ada8f38fc51a528b', 'message': 'Bump proxy-stream-timeout to 8 hours in mariadb\n\nThe default wait_timeout inside MariaDB is 8 hours\nwhich means that a connection can remain idle for\nup to 8 hours without sending any traffic.\n\nThe default proxy_timeout for streams inside Nginx\nis set to 10 minutes, which means for a low-volume\nenvironment with a lot of workers, it is possible that\nthe connection will be prematurely disconnected after\n10 minutes.\n\nThis patch updates the proxy-stream-timeout to be\n8 hours so that it can match the MariaDB value, which\nshould hopefully eliminate any issues with Nginx\nkilling connections to early.\n\nChange-Id: If3c042f76a9e94b501db2a49a8710942bb267a6b\n'}, {'number': 2, 'created': '2021-05-24 07:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f19072c09eea6c9bce1ad506bd63a4ccda214a21', 'message': 'Bump proxy-stream-timeout to 8 hours in mariadb\n\nThe default wait_timeout inside MariaDB is 8 hours\nwhich means that a connection can remain idle for\nup to 8 hours without sending any traffic.\n\nThe default proxy_timeout for streams inside Nginx\nis set to 10 minutes, which means for a low-volume\nenvironment with a lot of workers, it is possible that\nthe connection will be prematurely disconnected after\n10 minutes.\n\nThis patch updates the proxy-stream-timeout to be\n8 hours so that it can match the MariaDB value, which\nshould hopefully eliminate any issues with Nginx\nkilling connections to early.\n\nChange-Id: If3c042f76a9e94b501db2a49a8710942bb267a6b\n'}, {'number': 3, 'created': '2021-05-24 07:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c1fe9ad72a97126403a07cced9b79cf146926098', 'message': 'Bump proxy-stream-timeout to 8 hours in mariadb\n\nThe default wait_timeout inside MariaDB is 8 hours\nwhich means that a connection can remain idle for\nup to 8 hours without sending any traffic.\n\nThe default proxy_timeout for streams inside Nginx\nis set to 10 minutes, which means for a low-volume\nenvironment with a lot of workers, it is possible that\nthe connection will be prematurely disconnected after\n10 minutes.\n\nThis patch updates the proxy-stream-timeout to be\n8 hours so that it can match the MariaDB value, which\nshould hopefully eliminate any issues with Nginx\nkilling connections to early.\n\nChange-Id: If3c042f76a9e94b501db2a49a8710942bb267a6b\n'}, {'number': 4, 'created': '2021-05-24 07:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dfad47e27bfda985c9dedfc0d642451965bf716c', 'message': 'Bump proxy-stream-timeout to 8 hours in mariadb\n\nThe default wait_timeout inside MariaDB is 8 hours\nwhich means that a connection can remain idle for\nup to 8 hours without sending any traffic.\n\nThe default proxy_timeout for streams inside Nginx\nis set to 10 minutes, which means for a low-volume\nenvironment with a lot of workers, it is possible that\nthe connection will be prematurely disconnected after\n10 minutes.\n\nThis patch updates the proxy-stream-timeout to be\n8 hours so that it can match the MariaDB value, which\nshould hopefully eliminate any issues with Nginx\nkilling connections to early.\n\nChange-Id: If3c042f76a9e94b501db2a49a8710942bb267a6b\n'}, {'number': 5, 'created': '2021-05-27 13:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/294c27346c8248b9889814e6f4e2e4fa895a728b', 'message': 'Bump proxy-stream-timeout to 8 hours in mariadb\n\nThe default wait_timeout inside MariaDB is 8 hours\nwhich means that a connection can remain idle for\nup to 8 hours without sending any traffic.\n\nThe default proxy_timeout for streams inside Nginx\nis set to 10 minutes, which means for a low-volume\nenvironment with a lot of workers, it is possible that\nthe connection will be prematurely disconnected after\n10 minutes.\n\nThis patch updates the proxy-stream-timeout to be\n8 hours so that it can match the MariaDB value, which\nshould hopefully eliminate any issues with Nginx\nkilling connections to early.\n\nChange-Id: If3c042f76a9e94b501db2a49a8710942bb267a6b\n'}, {'number': 6, 'created': '2021-08-20 14:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/83d361023fd5d65d8899a4f00676f5206dbfe007', 'message': 'Bump proxy-stream-timeout to 8 hours in mariadb\n\nThe default wait_timeout inside MariaDB is 8 hours\nwhich means that a connection can remain idle for\nup to 8 hours without sending any traffic.\n\nThe default proxy_timeout for streams inside Nginx\nis set to 10 minutes, which means for a low-volume\nenvironment with a lot of workers, it is possible that\nthe connection will be prematurely disconnected after\n10 minutes.\n\nThis patch updates the proxy-stream-timeout to be\n8 hours so that it can match the MariaDB value, which\nshould hopefully eliminate any issues with Nginx\nkilling connections to early.\n\nChange-Id: If3c042f76a9e94b501db2a49a8710942bb267a6b\n'}, {'number': 7, 'created': '2022-04-07 10:43:34.000000000', 'files': ['mariadb/Chart.yaml', 'releasenotes/notes/mariadb.yaml', 'mariadb/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a36fac6188576d1f688012372b0c603c4fa193ee', 'message': 'Bump proxy-stream-timeout to 8 hours in mariadb\n\nThe default wait_timeout inside MariaDB is 8 hours\nwhich means that a connection can remain idle for\nup to 8 hours without sending any traffic.\n\nThe default proxy_timeout for streams inside Nginx\nis set to 10 minutes, which means for a low-volume\nenvironment with a lot of workers, it is possible that\nthe connection will be prematurely disconnected after\n10 minutes.\n\nThis patch updates the proxy-stream-timeout to be\n8 hours so that it can match the MariaDB value, which\nshould hopefully eliminate any issues with Nginx\nkilling connections to early.\n\nChange-Id: If3c042f76a9e94b501db2a49a8710942bb267a6b\n'}]",2,783340,a36fac6188576d1f688012372b0c603c4fa193ee,19,2,7,31746,,,0,"Bump proxy-stream-timeout to 8 hours in mariadb

The default wait_timeout inside MariaDB is 8 hours
which means that a connection can remain idle for
up to 8 hours without sending any traffic.

The default proxy_timeout for streams inside Nginx
is set to 10 minutes, which means for a low-volume
environment with a lot of workers, it is possible that
the connection will be prematurely disconnected after
10 minutes.

This patch updates the proxy-stream-timeout to be
8 hours so that it can match the MariaDB value, which
should hopefully eliminate any issues with Nginx
killing connections to early.

Change-Id: If3c042f76a9e94b501db2a49a8710942bb267a6b
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/40/783340/3 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/Chart.yaml', 'releasenotes/notes/mariadb.yaml', 'mariadb/values.yaml']",3,73ba22213ffc42514769c2b4ada8f38fc51a528b,cherrypick-mariadb, proxy-stream-timeout: 8h,,3,1
openstack%2Fkolla-ansible~stable%2Fxena~I32fc296083b4881e8f457f4235a32f94ed819d9f,openstack/kolla-ansible,stable/xena,I32fc296083b4881e8f457f4235a32f94ed819d9f,[CI] Nullify attempts,MERGED,2022-05-30 12:50:40.000000000,2022-05-31 09:46:35.000000000,2022-05-31 09:43:10.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-30 12:50:40.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2e5e1b5545a396b216ab5de3441a964b841c8a17', 'message': ""[CI] Nullify attempts\n\nPer Clark Boylan's feedback [1], retries cause a retry not only\nfor pre playbook failures but also for cases where Ansible detects\nnetwork connectivity issues and they are caused by disks getting\nfilled to their fullest. This is an issue we experience that\nsometimes results in a POST_FAILURE but certain FAILUREs are\nretried which wastes CI resources.\nThe problematic jobs are ceph jobs. They are to be looked into.\nBackport to all branches.\nWe can adjust retries for the core jobs that do not exhibit the\nnasty behaviour but first we can try running without retries\nto measure the troublesomeness.\n\n[1] https://review.opendev.org/c/openstack/kolla-ansible/+/843536\n\nChange-Id: I32fc296083b4881e8f457f4235a32f94ed819d9f\n(cherry picked from commit 153956e458157e44d73efc3dd369699ff20e4d12)\n""}]",0,843817,2e5e1b5545a396b216ab5de3441a964b841c8a17,10,3,1,30491,,,0,"[CI] Nullify attempts

Per Clark Boylan's feedback [1], retries cause a retry not only
for pre playbook failures but also for cases where Ansible detects
network connectivity issues and they are caused by disks getting
filled to their fullest. This is an issue we experience that
sometimes results in a POST_FAILURE but certain FAILUREs are
retried which wastes CI resources.
The problematic jobs are ceph jobs. They are to be looked into.
Backport to all branches.
We can adjust retries for the core jobs that do not exhibit the
nasty behaviour but first we can try running without retries
to measure the troublesomeness.

[1] https://review.opendev.org/c/openstack/kolla-ansible/+/843536

Change-Id: I32fc296083b4881e8f457f4235a32f94ed819d9f
(cherry picked from commit 153956e458157e44d73efc3dd369699ff20e4d12)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/17/843817/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,2e5e1b5545a396b216ab5de3441a964b841c8a17,ci-null-attempts-stable/yoga-stable/xena,, attempts: 5,0,1
openstack%2Fkolla-ansible~stable%2Fwallaby~I32fc296083b4881e8f457f4235a32f94ed819d9f,openstack/kolla-ansible,stable/wallaby,I32fc296083b4881e8f457f4235a32f94ed819d9f,[CI] Nullify attempts,MERGED,2022-05-30 12:50:51.000000000,2022-05-31 09:39:40.000000000,2022-05-31 09:35:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-30 12:50:51.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4e991a98eaf25faa073bb5b01470a5808b5f18e4', 'message': ""[CI] Nullify attempts\n\nPer Clark Boylan's feedback [1], retries cause a retry not only\nfor pre playbook failures but also for cases where Ansible detects\nnetwork connectivity issues and they are caused by disks getting\nfilled to their fullest. This is an issue we experience that\nsometimes results in a POST_FAILURE but certain FAILUREs are\nretried which wastes CI resources.\nThe problematic jobs are ceph jobs. They are to be looked into.\nBackport to all branches.\nWe can adjust retries for the core jobs that do not exhibit the\nnasty behaviour but first we can try running without retries\nto measure the troublesomeness.\n\n[1] https://review.opendev.org/c/openstack/kolla-ansible/+/843536\n\nChange-Id: I32fc296083b4881e8f457f4235a32f94ed819d9f\n(cherry picked from commit 153956e458157e44d73efc3dd369699ff20e4d12)\n""}]",0,843818,4e991a98eaf25faa073bb5b01470a5808b5f18e4,10,3,1,30491,,,0,"[CI] Nullify attempts

Per Clark Boylan's feedback [1], retries cause a retry not only
for pre playbook failures but also for cases where Ansible detects
network connectivity issues and they are caused by disks getting
filled to their fullest. This is an issue we experience that
sometimes results in a POST_FAILURE but certain FAILUREs are
retried which wastes CI resources.
The problematic jobs are ceph jobs. They are to be looked into.
Backport to all branches.
We can adjust retries for the core jobs that do not exhibit the
nasty behaviour but first we can try running without retries
to measure the troublesomeness.

[1] https://review.opendev.org/c/openstack/kolla-ansible/+/843536

Change-Id: I32fc296083b4881e8f457f4235a32f94ed819d9f
(cherry picked from commit 153956e458157e44d73efc3dd369699ff20e4d12)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/18/843818/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,4e991a98eaf25faa073bb5b01470a5808b5f18e4,ci-null-attempts-stable/yoga-stable/xena-stable/wallaby,, attempts: 5,0,1
openstack%2Fneutron~master~Ibd9ebfbd628d98a6a5de2b4fe47a9cbc65500c84,openstack/neutron,master,Ibd9ebfbd628d98a6a5de2b4fe47a9cbc65500c84,Check the Chassis_Private nb_cfg_timestamp with current value,MERGED,2022-05-19 08:37:16.000000000,2022-05-31 09:25:58.000000000,2022-05-31 09:20:46.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-19 08:37:16.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1b51ad28f3c8de78a8af71dab76f868cad5f6561', 'message': 'Check the Chassis_Private nb_cfg_timestamp with current value\n\nIn ``test_agent_updated_at_use_nb_cfg_timestamp`` now the test\nchecks the local cache agent ""updated_at"" value with the current\nSB ""Chassis_Private.nb_cfg_timestamp"" value, read from the DB each\ntime the value is tested.\n\nCloses-Bug: #1974149\nChange-Id: Ibd9ebfbd628d98a6a5de2b4fe47a9cbc65500c84\n'}]",3,842471,1b51ad28f3c8de78a8af71dab76f868cad5f6561,23,4,1,16688,,,0,"Check the Chassis_Private nb_cfg_timestamp with current value

In ``test_agent_updated_at_use_nb_cfg_timestamp`` now the test
checks the local cache agent ""updated_at"" value with the current
SB ""Chassis_Private.nb_cfg_timestamp"" value, read from the DB each
time the value is tested.

Closes-Bug: #1974149
Change-Id: Ibd9ebfbd628d98a6a5de2b4fe47a9cbc65500c84
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/842471/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'],1,1b51ad28f3c8de78a8af71dab76f868cad5f6561,bug/1974149," def check_agent_ts(): agent = neutron_agent.AgentCache()[self.chassis_name] chassis_ts = self.sb_api.db_get( 'Chassis_Private', self.chassis_name, 'nb_cfg_timestamp').execute(check_error=True) updated_at = datetime.datetime.fromtimestamp( int(chassis_ts / 1000), datetime.timezone.utc) return agent.updated_at == updated_at try: n_utils.wait_until_true(check_agent_ts, timeout=5) except n_utils.WaitTimeout: agent = neutron_agent.AgentCache()[self.chassis_name] chassis_ts = self.sb_api.db_get( 'Chassis_Private', self.chassis_name, 'nb_cfg_timestamp').execute(check_error=True) self.fail('Chassis timestamp: %s, agent updated_at: %s' % (chassis_ts, str(agent.updated_at)))"," updated_at = datetime.datetime.fromtimestamp( timestamp, datetime.timezone.utc) n_utils.wait_until_true(lambda: neutron_agent.AgentCache()[self.chassis_name]. chassis_private.nb_cfg_timestamp == nb_cfg_timestamp) agent = neutron_agent.AgentCache()[self.chassis_name] self.assertEqual(updated_at, agent.updated_at)",18,7
openstack%2Fcinder~master~I3082f5a861ab95eda6bbe0e80a409a937cd86fe4,openstack/cinder,master,I3082f5a861ab95eda6bbe0e80a409a937cd86fe4,"db: Migrate ""volume type specs"", ""group type specs"" APIs to enginefacade",MERGED,2022-04-12 10:11:10.000000000,2022-05-31 09:24:25.000000000,2022-05-31 09:20:41.000000000,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-04-12 10:11:10.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/55ea73523068649916d7d2ee9a88f93dfb33cea5', 'message': 'db: Migrate ""volume type specs"", ""group type specs"" APIs to enginefacade\n\nMigrate volume type specs, group type spec-related APIs from the legacy\nenginefacade to the modern context-based enginefacade.\n\nChange-Id: I3082f5a861ab95eda6bbe0e80a409a937cd86fe4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",2,837523,55ea73523068649916d7d2ee9a88f93dfb33cea5,33,4,1,15334,,,0,"db: Migrate ""volume type specs"", ""group type specs"" APIs to enginefacade

Migrate volume type specs, group type spec-related APIs from the legacy
enginefacade to the modern context-based enginefacade.

Change-Id: I3082f5a861ab95eda6bbe0e80a409a937cd86fe4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/23/837523/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,55ea73523068649916d7d2ee9a88f93dfb33cea5,remove-legacyfacade," return model_query( context, models.VolumeTypeExtraSpecs, read_deleted=""no"", ).filter_by(volume_type_id=volume_type_id)@main_context_manager.reader def volume_type_extra_specs_get(context, volume_type_id): rows = _volume_type_extra_specs_query(context, volume_type_id).all()@main_context_manager.writer def volume_type_extra_specs_delete(context, volume_type_id, key): _volume_type_extra_specs_get_item(context, volume_type_id, key) query = _volume_type_extra_specs_query( context, volume_type_id, ).filter_by(key=key) entity = query.column_descriptions[0]['entity'] query.update( { 'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at, }, )def _volume_type_extra_specs_get_item(context, volume_type_id, key): result = ( _volume_type_extra_specs_query(context, volume_type_id) .filter_by(key=key) .first() ) volume_type_id=volume_type_id, )@main_context_manager.writer def volume_type_extra_specs_update_or_create(context, volume_type_id, specs): spec_ref = None for key, value in specs.items(): try: spec_ref = _volume_type_extra_specs_get_item( context, volume_type_id, key, ) except exception.VolumeTypeExtraSpecsNotFound: spec_ref = models.VolumeTypeExtraSpecs() spec_ref.update( { ""key"": key, ""value"": value, ""volume_type_id"": volume_type_id, ""deleted"": False, }, ) spec_ref.save(context.session) return specs return model_query( context, models.GroupTypeSpecs, read_deleted=""no"", ).filter_by(group_type_id=group_type_id)@main_context_manager.reader def group_type_specs_get(context, group_type_id): rows = _group_type_specs_query(context, group_type_id).all()@main_context_manager.writer def group_type_specs_delete(context, group_type_id, key): _group_type_specs_get_item(context, group_type_id, key) query = _group_type_specs_query(context, group_type_id).filter_by(key=key) entity = query.column_descriptions[0]['entity'] query.update( { 'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at, }, )def _group_type_specs_get_item(context, group_type_id, key): result = ( _group_type_specs_query(context, group_type_id) .filter_by(key=key) .first() ) group_type_id=group_type_id, )@main_context_manager.writer def group_type_specs_update_or_create(context, group_type_id, specs): spec_ref = None for key, value in specs.items(): try: spec_ref = _group_type_specs_get_item(context, group_type_id, key) except exception.GroupTypeSpecsNotFound: spec_ref = models.GroupTypeSpecs() spec_ref.update( { ""key"": key, ""value"": value, ""group_type_id"": group_type_id, ""deleted"": False, }, ) spec_ref.save(context.session) return specs"," return model_query(context, models.VolumeTypeExtraSpecs, session=session, read_deleted=""no"").\ filter_by(volume_type_id=volume_type_id)def volume_type_extra_specs_get(context, volume_type_id): rows = _volume_type_extra_specs_query(context, volume_type_id).\ all()def volume_type_extra_specs_delete(context, volume_type_id, key): session = get_session() with session.begin(): _volume_type_extra_specs_get_item(context, volume_type_id, key, session) query = _volume_type_extra_specs_query(context, volume_type_id, session).filter_by(key=key) entity = query.column_descriptions[0]['entity'] query.update({'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at})def _volume_type_extra_specs_get_item(context, volume_type_id, key, session=None): result = _volume_type_extra_specs_query( context, volume_type_id, session=session).\ filter_by(key=key).\ first() volume_type_id=volume_type_id)def volume_type_extra_specs_update_or_create(context, volume_type_id, specs): session = get_session() with session.begin(): spec_ref = None for key, value in specs.items(): try: spec_ref = _volume_type_extra_specs_get_item( context, volume_type_id, key, session) except exception.VolumeTypeExtraSpecsNotFound: spec_ref = models.VolumeTypeExtraSpecs() spec_ref.update({""key"": key, ""value"": value, ""volume_type_id"": volume_type_id, ""deleted"": False}) spec_ref.save(session=session) return specs return model_query(context, models.GroupTypeSpecs, session=session, read_deleted=""no"").\ filter_by(group_type_id=group_type_id)def group_type_specs_get(context, group_type_id): rows = _group_type_specs_query(context, group_type_id).\ all()def group_type_specs_delete(context, group_type_id, key): session = get_session() with session.begin(): _group_type_specs_get_item(context, group_type_id, key, session) query = _group_type_specs_query(context, group_type_id, session).\ filter_by(key=key) entity = query.column_descriptions[0]['entity'] query.update({'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at})def _group_type_specs_get_item(context, group_type_id, key, session=None): result = _group_type_specs_query( context, group_type_id, session=session).\ filter_by(key=key).\ first() group_type_id=group_type_id)def group_type_specs_update_or_create(context, group_type_id, specs): session = get_session() with session.begin(): spec_ref = None for key, value in specs.items(): try: spec_ref = _group_type_specs_get_item( context, group_type_id, key, session) except exception.GroupTypeSpecsNotFound: spec_ref = models.GroupTypeSpecs() spec_ref.update({""key"": key, ""value"": value, ""group_type_id"": group_type_id, ""deleted"": False}) spec_ref.save(session=session) return specs",96,76
openstack%2Fcinder~master~I97cd41f805e6a99711acfbcca24f673c7a38ffe9,openstack/cinder,master,I97cd41f805e6a99711acfbcca24f673c7a38ffe9,"db: Migrate ""volume type"", ""group type"" APIs to enginefacade",MERGED,2022-04-12 10:11:10.000000000,2022-05-31 09:22:41.000000000,2022-05-31 09:20:37.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-04-12 10:11:10.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d0b0869d45defc72efaa6b11ed62ceed04cbbdc2', 'message': 'db: Migrate ""volume type"", ""group type"" APIs to enginefacade\n\nMigrate volume type, group type-related APIs from the legacy\nenginefacade to the modern context-based enginefacade.\n\nChange-Id: I97cd41f805e6a99711acfbcca24f673c7a38ffe9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",8,837522,d0b0869d45defc72efaa6b11ed62ceed04cbbdc2,33,3,1,15334,,,0,"db: Migrate ""volume type"", ""group type"" APIs to enginefacade

Migrate volume type, group type-related APIs from the legacy
enginefacade to the modern context-based enginefacade.

Change-Id: I97cd41f805e6a99711acfbcca24f673c7a38ffe9
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/837522/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,d0b0869d45defc72efaa6b11ed62ceed04cbbdc2,remove-legacyfacade," if hasattr(context, 'session') and context.session: session = context.session if not session: session = get_session() @main_context_manager.writer try: _volume_type_get_by_name(context, values['name']) raise exception.VolumeTypeExists(id=values['name']) except exception.VolumeTypeNotFoundByName: pass try: _volume_type_get(context, values['id']) raise exception.VolumeTypeExists(id=values['id']) except exception.VolumeTypeNotFound: pass try: values['extra_specs'] = _metadata_refs( values.get('extra_specs'), models.VolumeTypeExtraSpecs, ) volume_type_ref = models.VolumeType() volume_type_ref.update(values) context.session.add(volume_type_ref) except Exception as e: raise db_exc.DBError(e) for project in set(projects): access_ref = models.VolumeTypeProjects() access_ref.update( { ""volume_type_id"": volume_type_ref.id, ""project_id"": project, } ) access_ref.save(context.session) orm_projects.append(access_ref) @main_context_manager.writer try: _group_type_get_by_name(context, values['name']) raise exception.GroupTypeExists(id=values['name']) except exception.GroupTypeNotFoundByName: pass try: _group_type_get(context, values['id']) raise exception.GroupTypeExists(id=values['id']) except exception.GroupTypeNotFound: pass try: values['group_specs'] = _metadata_refs( values.get('group_specs'), models.GroupTypeSpecs ) group_type_ref = models.GroupType() group_type_ref.update(values) context.session.add(group_type_ref) except Exception as e: raise db_exc.DBError(e) for project in set(projects): access_ref = models.GroupTypeProjects() access_ref.update( { ""group_type_id"": group_type_ref.id, ""project_id"": project, } ) access_ref.save(context.session) return group_type_refdef _volume_type_get_query( context, session=None, read_deleted='no', expected_fields=None ): query = model_query( context, models.VolumeType, session=session, read_deleted=read_deleted ).options(joinedload('extra_specs')) the_filter.extend([projects_attr.any(project_id=context.project_id)])def _group_type_get_query( context, session=None, read_deleted='no', expected_fields=None ): query = model_query( context, models.GroupType, session=session, read_deleted=read_deleted ).options(joinedload('group_specs')) the_filter.extend([projects_attr.any(project_id=context.project_id)]) the_filter.extend( [projects_attr.any(project_id=context.project_id, deleted=0)] ) the_filter.extend( [ extra_specs.any( models.VolumeTypeExtraSpecs.value.like( u'%%%s%%' % v ), key=k, deleted=False, ) ] ) [extra_specs.any(key=k, value=v, deleted=False)] ) the_filter.extend( [ projects_attr.any( project_id=context.project_id, deleted=False ) ] ) the_filter.extend( [group_specs.any(key=k, value=v, deleted=False)] ) # No description change if values['description'] is None: del values['description'] # No is_public change if values['is_public'] is None: del values['is_public'] # No name change if values['name'] is None: del values['name'] else: # Group type name is unique. If change to a name that belongs to # a different group_type, it should be prevented. conditions = and_( model.name == values['name'], model.id != type_id, ~model.deleted ) query = context.session.query(sql.exists().where(conditions)) if query.scalar(): raise exists_exc(id=values['name']) query = model_query(context, model, project_only=True) result = query.filter_by(id=type_id).update(values) if not result: if is_group: raise exception.GroupTypeNotFound(group_type_id=type_id) else: raise exception.VolumeTypeNotFound(volume_type_id=type_id) @main_context_manager.writer@main_context_manager.writer@main_context_manager.reader def volume_type_get_all( context, inactive=False, filters=None, marker=None, limit=None, sort_keys=None, sort_dirs=None, offset=None, list_result=False, ): # Add context for _process_volume_types_filters filters = filters or {} filters['context'] = context # Generate the query query = _generate_paginate_query( context, None, marker, limit, sort_keys, sort_dirs, filters, offset, models.VolumeType, ) # No volume types would match, return empty dict or list if query is None: if list_result: return [] return {} rows = query.all() if list_result: result = [ _dict_with_extra_specs_if_authorized(context, row) for row in rows ] result = { row['name']: _dict_with_extra_specs_if_authorized(context, row) for row in rows } return result @main_context_manager.reader def group_type_get_all( context, inactive=False, filters=None, marker=None, limit=None, sort_keys=None, sort_dirs=None, offset=None, list_result=False, ): next page of results to return paired with corresponding item in sort_dirs paired with corresponding item in sort_keys or sets cause an 'IN' operation, while exact matching is used for other values, see _process_volume_type_filters function for more information instead of dict. # Add context for _process_group_types_filters filters = filters or {} filters['context'] = context # Generate the query query = _generate_paginate_query( context, None, marker, limit, sort_keys, sort_dirs, filters, offset, models.GroupType, ) # No group types would match, return empty dict or list if query is None: if list_result: return [] return {} rows = query.all() if list_result: result = [ _dict_with_group_specs_if_authorized(context, row) for row in rows ] result = { row['name']: _dict_with_group_specs_if_authorized(context, row) for row in rows } return result def _volume_type_get_id_from_volume_type_query(context, id): context, models.VolumeType.id, read_deleted=""no"", base_model=models.VolumeType, ).filter_by(id=id) def _group_type_get_id_from_group_type_query(context, id): context, models.GroupType.id, read_deleted=""no"", base_model=models.GroupType, ).filter_by(id=id) def _volume_type_get_id_from_volume_type(context, id): result = _volume_type_get_id_from_volume_type_query(context, id).first()def _group_type_get_id_from_group_type(context, id): result = _group_type_get_id_from_group_type_query(context, id).first()def _volume_type_get_db_object( context, id, session=None, inactive=False, expected_fields=None ): result = ( _volume_type_get_query(context, session, read_deleted, expected_fields) .filter_by(id=id) .first() )def _group_type_get_db_object( context, id, session=None, inactive=False, expected_fields=None, ): result = ( _group_type_get_query(context, session, read_deleted, expected_fields) .filter_by(id=id) .first() )# TODO: Remove 'session' argument when all of the '_get' helpers are converteddef _volume_type_get( context, id, session=None, inactive=False, expected_fields=None, ): result = _volume_type_get_db_object( context, id, session, inactive, expected_fields, )# TODO: Remove 'session' argument when all of the '_get' helpers are converteddef _group_type_get( context, id, session=None, inactive=False, expected_fields=None, ): result = _group_type_get_db_object( context, id, session, inactive, expected_fields, )@main_context_manager.reader return _volume_type_get( context, id, inactive=inactive, expected_fields=expected_fields )@main_context_manager.reader return _group_type_get( context, id, inactive=inactive, expected_fields=expected_fields ) return _volume_type_get( context, id, inactive=False, expected_fields=('extra_specs', 'projects'), ) return _group_type_get( context, id, inactive=False, expected_fields=('group_specs', 'projects'), )def _volume_type_ref_get(context, id, inactive=False): result = ( model_query(context, models.VolumeType, read_deleted=read_deleted) .options(joinedload('extra_specs')) .filter_by(id=id) .first() )def _group_type_ref_get(context, id, inactive=False): result = ( model_query(context, models.GroupType, read_deleted=read_deleted) .options(joinedload('group_specs')) .filter_by(id=id) .first() )def _volume_type_get_by_name(context, name): result = ( model_query(context, models.VolumeType) .options(joinedload('extra_specs')) .filter_by(name=name) .first() )def _group_type_get_by_name(context, name): result = ( model_query(context, models.GroupType) .options(joinedload('group_specs')) .filter_by(name=name) .first() )@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader if not resource_exists( context, models.QualityOfServiceSpecs, qos_specs_id ): vts = ( model_query(context, models.VolumeType, read_deleted=read_deleted) .options(joinedload('extra_specs')) .options(joinedload('projects')) .filter_by(qos_specs_id=qos_specs_id) .all() )@main_context_manager.writer def volume_type_qos_associate(context, type_id, qos_specs_id): _volume_type_get(context, type_id) context.session.query(models.VolumeType).filter_by(id=type_id).update( {'qos_specs_id': qos_specs_id, 'updated_at': timeutils.utcnow()} )@main_context_manager.writer _volume_type_get(context, type_id) context.session.query(models.VolumeType).filter_by(id=type_id).filter_by( qos_specs_id=qos_specs_id ).update({'qos_specs_id': None, 'updated_at': timeutils.utcnow()})@main_context_manager.writer context.session.query(models.VolumeType).filter_by( qos_specs_id=qos_specs_id ).update({'qos_specs_id': None, 'updated_at': timeutils.utcnow()})@main_context_manager.reader _volume_type_get(context, type_id, context.session) row = ( context.session.query(models.VolumeType) .options(joinedload('qos_specs')) .filter_by(id=type_id) .first() ) # row.qos_specs is a list of QualityOfServiceSpecs ref specs = _dict_with_qos_specs(row.qos_specs) if not specs: # turn empty list to None specs = None else: specs = specs[0] return {'qos_specs': specs}@main_context_manager.writer vol_types = volume_type_get_all(context) if len(vol_types) <= 1: raise exception.VolumeTypeDeletionError(volume_type_id=id) _volume_type_get(context, id) results = ( model_query(context, models.Volume).filter_by(volume_type_id=id).all() ) group_count = ( model_query( context, models.GroupVolumeTypeMapping, read_deleted=""no"", ) .filter_by(volume_type_id=id) .count() ) cg_count = ( model_query( context, models.ConsistencyGroup, ) .filter(models.ConsistencyGroup.volume_type_id.contains(id)) .count() ) if results or group_count or cg_count: LOG.error('VolumeType %s deletion failed, VolumeType in use.', id) raise exception.VolumeTypeInUse(volume_type_id=id) query = model_query(context, models.VolumeType).filter_by(id=id) entity = query.column_descriptions[0]['entity'] updated_values = { 'deleted': True, 'deleted_at': utcnow, 'updated_at': entity.updated_at, } query.update(updated_values) query = model_query( context, models.VolumeTypeExtraSpecs, ).filter_by(volume_type_id=id) entity = query.column_descriptions[0]['entity'] query.update( { 'deleted': True, 'deleted_at': utcnow, 'updated_at': entity.updated_at, } ) query = model_query(context, models.Encryption).filter_by( volume_type_id=id ) entity = query.column_descriptions[0]['entity'] query.update( { 'deleted': True, 'deleted_at': utcnow, 'updated_at': entity.updated_at, } ) model_query( context, models.VolumeTypeProjects, read_deleted=""int_no"" ).filter_by(volume_type_id=id).soft_delete(synchronize_session=False)@main_context_manager.writer def group_type_destroy(context, id): _group_type_get(context, id) results = ( model_query(context, models.Group).filter_by(group_type_id=id).all() ) if results: LOG.error('GroupType %s deletion failed, ' 'GroupType in use.', id) raise exception.GroupTypeInUse(group_type_id=id) query = model_query(context, models.GroupType).filter_by(id=id) entity = query.column_descriptions[0]['entity'] query.update( { 'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at, } ) query = model_query(context, models.GroupTypeSpecs).filter_by( group_type_id=id ) entity = query.column_descriptions[0]['entity'] query.update( { 'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at, } )@main_context_manager.reader def volume_get_all_active_by_window(context, begin, end=None, project_id=None): query = query.filter( or_( models.Volume.deleted_at == None, # noqa models.Volume.deleted_at > begin, ) ) query = ( query.options(joinedload('volume_metadata')) .options(joinedload('volume_type')) .options(joinedload('volume_attachment')) .options(joinedload('consistencygroup')) .options(joinedload('group')) )def _volume_type_access_query(context): return model_query( context, models.VolumeTypeProjects, read_deleted=""int_no"" ) def _group_type_access_query(context): return model_query(context, models.GroupTypeProjects, read_deleted=""no"")@main_context_manager.reader return ( _volume_type_access_query(context) .filter_by(volume_type_id=volume_type_id) .all() )@main_context_manager.reader return ( _group_type_access_query(context) .filter_by(group_type_id=group_type_id) .all() ) def _group_volume_type_mapping_query(context): return model_query( context, models.GroupVolumeTypeMapping, read_deleted=""no"" )@main_context_manager.reader mappings = ( _group_volume_type_mapping_query(context) .filter_by(group_id=group_id) .all() ) volume_type_ids = [mapping.volume_type_id for mapping in mappings] query = ( model_query(context, models.VolumeType, read_deleted='no') .filter(models.VolumeType.id.in_(volume_type_ids)) .options(joinedload('extra_specs')) .options(joinedload('projects')) .all() ) return query def _group_volume_type_mapping_get_all_by_group_volume_type( context, group_id, volume_type_id ): mappings = ( _group_volume_type_mapping_query(context) .filter_by(group_id=group_id) .filter_by(volume_type_id=volume_type_id) .all() )@main_context_manager.writer access_ref.update( {""volume_type_id"": volume_type_id, ""project_id"": project_id} ) try: access_ref.save(context.session) except db_exc.DBDuplicateEntry: raise exception.VolumeTypeAccessExists( volume_type_id=type_id, project_id=project_id ) return access_ref@main_context_manager.writer access_ref.update( {""group_type_id"": group_type_id, ""project_id"": project_id} ) try: access_ref.save(context.session) except db_exc.DBDuplicateEntry: raise exception.GroupTypeAccessExists( group_type_id=type_id, project_id=project_id ) return access_ref@main_context_manager.writer count = ( _volume_type_access_query(context) .filter_by(volume_type_id=volume_type_id) .filter_by(project_id=project_id) .soft_delete(synchronize_session=False) ) volume_type_id=type_id, project_id=project_id ) def _project_default_volume_type_get(context, project_id=None): if project_id: return ( model_query(context, models.DefaultVolumeTypes) .filter_by(project_id=project_id) .first() ) return model_query(context, models.DefaultVolumeTypes).all() @main_context_manager.reader def project_default_volume_type_get(context, project_id=None): """"""Get default volume type(s) for a project(s) If a project id is passed, it returns default type for that particular project else returns default volume types for all projects """""" return _project_default_volume_type_get(context, project_id) @main_context_manager.writer def project_default_volume_type_set(context, volume_type_id, project_id): """"""Set default volume type for a project"""""" update_default = _project_default_volume_type_get(context, project_id) if update_default: LOG.info(""Updating default type for project %s"", project_id) update_default.volume_type_id = volume_type_id return update_default access_ref = models.DefaultVolumeTypes( volume_type_id=volume_type_id, project_id=project_id ) access_ref.save(context.session) return access_ref @main_context_manager.reader return ( model_query(context, models.DefaultVolumeTypes) .filter_by(volume_type_id=volume_type_id) .all() ) @main_context_manager.writer model_query(context, models.DefaultVolumeTypes).filter_by( project_id=project_id ).delete()@main_context_manager.writer count = ( _group_type_access_query(context) .filter_by(group_type_id=group_type_id) .filter_by(project_id=project_id) .soft_delete(synchronize_session=False) ) group_type_id=type_id, project_id=project_id )","import contextlib session = session or get_session() session = get_session() with session.begin(): try: _volume_type_get_by_name(context, values['name'], session) raise exception.VolumeTypeExists(id=values['name']) except exception.VolumeTypeNotFoundByName: pass try: _volume_type_get(context, values['id'], session) raise exception.VolumeTypeExists(id=values['id']) except exception.VolumeTypeNotFound: pass try: values['extra_specs'] = _metadata_refs(values.get('extra_specs'), models.VolumeTypeExtraSpecs) volume_type_ref = models.VolumeType() volume_type_ref.update(values) session.add(volume_type_ref) except Exception as e: raise db_exc.DBError(e) for project in set(projects): access_ref = models.VolumeTypeProjects() access_ref.update({""volume_type_id"": volume_type_ref.id, ""project_id"": project}) access_ref.save(session=session) orm_projects.append(access_ref) session = get_session() with session.begin(): try: _group_type_get_by_name(context, values['name'], session) raise exception.GroupTypeExists(id=values['name']) except exception.GroupTypeNotFoundByName: pass try: _group_type_get(context, values['id'], session) raise exception.GroupTypeExists(id=values['id']) except exception.GroupTypeNotFound: pass try: values['group_specs'] = _metadata_refs(values.get('group_specs'), models.GroupTypeSpecs) group_type_ref = models.GroupType() group_type_ref.update(values) session.add(group_type_ref) except Exception as e: raise db_exc.DBError(e) for project in set(projects): access_ref = models.GroupTypeProjects() access_ref.update({""group_type_id"": group_type_ref.id, ""project_id"": project}) access_ref.save(session=session) return group_type_refdef _volume_type_get_query(context, session=None, read_deleted='no', expected_fields=None): query = model_query(context, models.VolumeType, session=session, read_deleted=read_deleted).\ options(joinedload('extra_specs')) the_filter.extend([ projects_attr.any(project_id=context.project_id) ])def _group_type_get_query(context, session=None, read_deleted='no', expected_fields=None): query = model_query(context, models.GroupType, session=session, read_deleted=read_deleted).\ options(joinedload('group_specs')) the_filter.extend([ projects_attr.any(project_id=context.project_id) ]) the_filter.extend([ projects_attr.any(project_id=context.project_id, deleted=0) ]) the_filter.extend([extra_specs.any( models.VolumeTypeExtraSpecs.value.like(u'%%%s%%' % v), key=k, deleted=False)]) [extra_specs.any(key=k, value=v, deleted=False)]) the_filter.extend([ projects_attr.any(project_id=context.project_id, deleted=False) ]) the_filter.extend([group_specs.any(key=k, value=v, deleted=False)]) session = get_session() with session.begin(): # No description change if values['description'] is None: del values['description'] # No is_public change if values['is_public'] is None: del values['is_public'] # No name change if values['name'] is None: del values['name'] else: # Group type name is unique. If change to a name that belongs to # a different group_type, it should be prevented. conditions = and_(model.name == values['name'], model.id != type_id, ~model.deleted) query = session.query(sql.exists().where(conditions)) if query.scalar(): raise exists_exc(id=values['name']) query = model_query(context, model, project_only=True, session=session) result = query.filter_by(id=type_id).update(values) if not result: if is_group: raise exception.GroupTypeNotFound(group_type_id=type_id) else: raise exception.VolumeTypeNotFound(volume_type_id=type_id) def volume_type_get_all(context, inactive=False, filters=None, marker=None, limit=None, sort_keys=None, sort_dirs=None, offset=None, list_result=False): session = get_session() with session.begin(): # Add context for _process_volume_types_filters filters = filters or {} filters['context'] = context # Generate the query query = _generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, offset, models.VolumeType) # No volume types would match, return empty dict or list if query is None: if list_result: return [] return {} rows = query.all() if list_result: result = [_dict_with_extra_specs_if_authorized(context, row) for row in rows] return result result = {row['name']: _dict_with_extra_specs_if_authorized(context, row) for row in rows}def group_type_get_all(context, inactive=False, filters=None, marker=None, limit=None, sort_keys=None, sort_dirs=None, offset=None, list_result=False): next page of results to return paired with corresponding item in sort_dirs paired with corresponding item in sort_keys or sets cause an 'IN' operation, while exact matching is used for other values, see _process_volume_type_filters function for more information instead of dict. session = get_session() with session.begin(): # Add context for _process_group_types_filters filters = filters or {} filters['context'] = context # Generate the query query = _generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, offset, models.GroupType) # No group types would match, return empty dict or list if query is None: if list_result: return [] return {} rows = query.all() if list_result: result = [_dict_with_group_specs_if_authorized(context, row) for row in rows] return result result = {row['name']: _dict_with_group_specs_if_authorized(context, row) for row in rows} def _volume_type_get_id_from_volume_type_query(context, id, session=None): context, models.VolumeType.id, read_deleted=""no"", session=session, base_model=models.VolumeType).\ filter_by(id=id) def _group_type_get_id_from_group_type_query(context, id, session=None): context, models.GroupType.id, read_deleted=""no"", session=session, base_model=models.GroupType).\ filter_by(id=id) def _volume_type_get_id_from_volume_type(context, id, session=None): result = _volume_type_get_id_from_volume_type_query( context, id, session=session).first()def _group_type_get_id_from_group_type(context, id, session=None): result = _group_type_get_id_from_group_type_query( context, id, session=session).first()def _volume_type_get_db_object(context, id, session=None, inactive=False, expected_fields=None): result = _volume_type_get_query( context, session, read_deleted, expected_fields).\ filter_by(id=id).\ first()def _group_type_get_db_object(context, id, session=None, inactive=False, expected_fields=None): result = _group_type_get_query( context, session, read_deleted, expected_fields).\ filter_by(id=id).\ first()def _volume_type_get(context, id, session=None, inactive=False, expected_fields=None): result = _volume_type_get_db_object(context, id, session, inactive, expected_fields)def _group_type_get(context, id, session=None, inactive=False, expected_fields=None): result = _group_type_get_db_object(context, id, session, inactive, expected_fields) return _volume_type_get(context, id, session=None, inactive=inactive, expected_fields=expected_fields) return _group_type_get(context, id, session=None, inactive=inactive, expected_fields=expected_fields) return _volume_type_get(context, id, session=None, inactive=False, expected_fields=('extra_specs', 'projects')) return _group_type_get(context, id, session=None, inactive=False, expected_fields=('group_specs', 'projects'))def _volume_type_ref_get(context, id, session=None, inactive=False): result = model_query(context, models.VolumeType, session=session, read_deleted=read_deleted).\ options(joinedload('extra_specs')).\ filter_by(id=id).\ first()def _group_type_ref_get(context, id, session=None, inactive=False): result = model_query(context, models.GroupType, session=session, read_deleted=read_deleted).\ options(joinedload('group_specs')).\ filter_by(id=id).\ first()def _volume_type_get_by_name(context, name, session=None): result = model_query(context, models.VolumeType, session=session).\ options(joinedload('extra_specs')).\ filter_by(name=name).\ first()def _group_type_get_by_name(context, name, session=None): result = model_query(context, models.GroupType, session=session).\ options(joinedload('group_specs')).\ filter_by(name=name).\ first() if not resource_exists(context, models.QualityOfServiceSpecs, qos_specs_id): vts = (model_query(context, models.VolumeType, read_deleted=read_deleted). options(joinedload('extra_specs')). options(joinedload('projects')). filter_by(qos_specs_id=qos_specs_id).all())def volume_type_qos_associate(context, type_id, qos_specs_id): session = get_session() with session.begin(): _volume_type_get(context, type_id, session) session.query(models.VolumeType). \ filter_by(id=type_id). \ update({'qos_specs_id': qos_specs_id, 'updated_at': timeutils.utcnow()}) session = get_session() with session.begin(): _volume_type_get(context, type_id, session) session.query(models.VolumeType). \ filter_by(id=type_id). \ filter_by(qos_specs_id=qos_specs_id). \ update({'qos_specs_id': None, 'updated_at': timeutils.utcnow()}) session = get_session() with session.begin(): session.query(models.VolumeType). \ filter_by(qos_specs_id=qos_specs_id). \ update({'qos_specs_id': None, 'updated_at': timeutils.utcnow()}) session = get_session() with session.begin(): _volume_type_get(context, type_id, session) row = session.query(models.VolumeType). \ options(joinedload('qos_specs')). \ filter_by(id=type_id). \ first() # row.qos_specs is a list of QualityOfServiceSpecs ref specs = _dict_with_qos_specs(row.qos_specs) if not specs: # turn empty list to None specs = None else: specs = specs[0] return {'qos_specs': specs} session = get_session() with session.begin(): vol_types = volume_type_get_all(context) if len(vol_types) <= 1: raise exception.VolumeTypeDeletionError(volume_type_id=id) _volume_type_get(context, id, session) results = model_query(context, models.Volume, session=session). \ filter_by(volume_type_id=id).all() group_count = model_query(context, models.GroupVolumeTypeMapping, read_deleted=""no"", session=session).\ filter_by(volume_type_id=id).count() cg_count = model_query(context, models.ConsistencyGroup, session=session).filter( models.ConsistencyGroup.volume_type_id.contains(id)).count() if results or group_count or cg_count: LOG.error('VolumeType %s deletion failed, VolumeType in use.', id) raise exception.VolumeTypeInUse(volume_type_id=id) query = model_query(context, models.VolumeType, session=session).\ filter_by(id=id) entity = query.column_descriptions[0]['entity'] updated_values = {'deleted': True, 'deleted_at': utcnow, 'updated_at': entity.updated_at} query.update(updated_values) query = model_query(context, models.VolumeTypeExtraSpecs, session=session).filter_by(volume_type_id=id) entity = query.column_descriptions[0]['entity'] query.update({'deleted': True, 'deleted_at': utcnow, 'updated_at': entity.updated_at}) query = model_query(context, models.Encryption, session=session).\ filter_by(volume_type_id=id) entity = query.column_descriptions[0]['entity'] query.update({'deleted': True, 'deleted_at': utcnow, 'updated_at': entity.updated_at}) model_query(context, models.VolumeTypeProjects, session=session, read_deleted=""int_no"").filter_by( volume_type_id=id).soft_delete(synchronize_session=False)def group_type_destroy(context, id): session = get_session() with session.begin(): _group_type_get(context, id, session) results = model_query(context, models.Group, session=session). \ filter_by(group_type_id=id).all() if results: LOG.error('GroupType %s deletion failed, ' 'GroupType in use.', id) raise exception.GroupTypeInUse(group_type_id=id) query = model_query(context, models.GroupType, session=session).\ filter_by(id=id) entity = query.column_descriptions[0]['entity'] query.update({'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at}) query = model_query(context, models.GroupTypeSpecs, session=session).\ filter_by(group_type_id=id) entity = query.column_descriptions[0]['entity'] query.update({'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at})def volume_get_all_active_by_window(context, begin, end=None, project_id=None): query = query.filter(or_(models.Volume.deleted_at == None, # noqa models.Volume.deleted_at > begin)) query = (query.options(joinedload('volume_metadata')). options(joinedload('volume_type')). options(joinedload('volume_attachment')). options(joinedload('consistencygroup')). options(joinedload('group')))def _volume_type_access_query(context, session=None): return model_query(context, models.VolumeTypeProjects, session=session, read_deleted=""int_no"") def _group_type_access_query(context, session=None): return model_query(context, models.GroupTypeProjects, session=session, read_deleted=""no"") return _volume_type_access_query(context).\ filter_by(volume_type_id=volume_type_id).all() return _group_type_access_query(context).\ filter_by(group_type_id=group_type_id).all() def _group_volume_type_mapping_query(context, session=None): return model_query(context, models.GroupVolumeTypeMapping, session=session, read_deleted=""no"") mappings = (_group_volume_type_mapping_query(context). filter_by(group_id=group_id).all()) session = get_session() with session.begin(): volume_type_ids = [mapping.volume_type_id for mapping in mappings] query = (model_query(context, models.VolumeType, session=session, read_deleted='no'). filter(models.VolumeType.id.in_(volume_type_ids)). options(joinedload('extra_specs')). options(joinedload('projects')). all()) return query def _group_volume_type_mapping_get_all_by_group_volume_type(context, group_id, volume_type_id): mappings = _group_volume_type_mapping_query(context).\ filter_by(group_id=group_id).\ filter_by(volume_type_id=volume_type_id).all() access_ref.update({""volume_type_id"": volume_type_id, ""project_id"": project_id}) session = get_session() with session.begin(): try: access_ref.save(session=session) except db_exc.DBDuplicateEntry: raise exception.VolumeTypeAccessExists(volume_type_id=type_id, project_id=project_id) return access_ref access_ref.update({""group_type_id"": group_type_id, ""project_id"": project_id}) session = get_session() with session.begin(): try: access_ref.save(session=session) except db_exc.DBDuplicateEntry: raise exception.GroupTypeAccessExists(group_type_id=type_id, project_id=project_id) return access_ref count = (_volume_type_access_query(context). filter_by(volume_type_id=volume_type_id). filter_by(project_id=project_id). soft_delete(synchronize_session=False)) volume_type_id=type_id, project_id=project_id) def project_default_volume_type_set(context, volume_type_id, project_id): """"""Set default volume type for a project"""""" session = get_session() with session.begin(): update_default = project_default_volume_type_get(context, project_id, session=session) if update_default: LOG.info(""Updating default type for project %s"", project_id) update_default.volume_type_id = volume_type_id return update_default access_ref = models.DefaultVolumeTypes(volume_type_id=volume_type_id, project_id=project_id) access_ref.save(session=session) return access_ref def project_default_volume_type_get(context, project_id=None, session=None): if session: # This is requested by set method. # To avoid race condition, we use the same session here session_ctxt = contextlib.suppress() else: session = get_session() session_ctxt = session.begin() with session_ctxt: if project_id: return model_query(context, models.DefaultVolumeTypes, session=session).\ filter_by(project_id=project_id).first() return model_query(context, models.DefaultVolumeTypes, session=session).all() session = get_session() with session.begin(): return model_query(context, models.DefaultVolumeTypes, session=session).\ filter_by(volume_type_id=volume_type_id).all() session = get_session() with session.begin(): (model_query(context, models.DefaultVolumeTypes, session=session). filter_by(project_id=project_id).delete()) count = (_group_type_access_query(context). filter_by(group_type_id=group_type_id). filter_by(project_id=project_id). soft_delete(synchronize_session=False)) group_type_id=type_id, project_id=project_id)",635,462
openstack%2Fkolla-ansible~master~Icfb7ecadafafce02a298facb9910d854f5aa3a54,openstack/kolla-ansible,master,Icfb7ecadafafce02a298facb9910d854f5aa3a54,DNM: mariadb: disable native aio on ubuntu for jammy testing,NEW,2022-05-31 07:14:44.000000000,2022-05-31 09:17:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-31 07:14:44.000000000', 'files': ['ansible/roles/mariadb/templates/galera.cnf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/59f51bf495375b8260f0f2e689b5ddb5d8ee72bd', 'message': 'DNM: mariadb: disable native aio on ubuntu for jammy testing\n\nRelated bug: https://bugs.launchpad.net/ubuntu/+source/mariadb-10.6/+bug/1969160\n\nNeeded-by: https://review.opendev.org/c/openstack/kolla/+/839585\nChange-Id: Icfb7ecadafafce02a298facb9910d854f5aa3a54\n'}]",0,844000,59f51bf495375b8260f0f2e689b5ddb5d8ee72bd,3,1,1,22629,,,0,"DNM: mariadb: disable native aio on ubuntu for jammy testing

Related bug: https://bugs.launchpad.net/ubuntu/+source/mariadb-10.6/+bug/1969160

Needed-by: https://review.opendev.org/c/openstack/kolla/+/839585
Change-Id: Icfb7ecadafafce02a298facb9910d854f5aa3a54
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/844000/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/mariadb/templates/galera.cnf.j2'],1,59f51bf495375b8260f0f2e689b5ddb5d8ee72bd,,{% if kolla_base_distro == 'ubuntu' %} innodb_use_native_aio=0 {% endif %},,3,0
openstack%2Fkolla-ansible~master~I5099b08953789b280c915a6b7a22bdd4e3404076,openstack/kolla-ansible,master,I5099b08953789b280c915a6b7a22bdd4e3404076,Do not use a different port for Keystone admin endpoint,MERGED,2022-05-06 13:31:36.000000000,2022-05-31 09:11:13.000000000,2022-05-27 08:33:57.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-06 13:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ede5c1aad40aa6df33d5dabb30de05bc450f74a4', 'message': '[WIP] Do not use a different port for Keystone admin endpoint\n\nChange-Id: I5099b08953789b280c915a6b7a22bdd4e3404076\n'}, {'number': 2, 'created': '2022-05-24 15:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f6059e5fa02187dacdb9c867c33bbf2025b2d00d', 'message': '[WIP] Do not use a different port for Keystone admin endpoint\n\nChange-Id: I5099b08953789b280c915a6b7a22bdd4e3404076\n'}, {'number': 3, 'created': '2022-05-25 09:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bae84f0705629e31c72099528271ed51f96784fb', 'message': '[WIP] Do not use a different port for Keystone admin endpoint\n\nChange-Id: I5099b08953789b280c915a6b7a22bdd4e3404076\n'}, {'number': 4, 'created': '2022-05-26 13:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1e7d53fcf37447566281ce73bc22c0c61ba9dadc', 'message': 'Do not use a different port for Keystone admin endpoint\n\nDocs and reno included.\n\nChange-Id: I5099b08953789b280c915a6b7a22bdd4e3404076\n'}, {'number': 5, 'created': '2022-05-26 13:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ae284404b5e3d2c9b9cca7175acccacca6d01c9a', 'message': 'Do not use a different port for Keystone admin endpoint\n\nDocs and reno included.\n\nChange-Id: I5099b08953789b280c915a6b7a22bdd4e3404076\n'}, {'number': 6, 'created': '2022-05-26 13:38:26.000000000', 'files': ['ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/loadbalancer/tasks/precheck.yml', 'doc/source/user/multi-regions.rst', 'ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'ansible/group_vars/all.yml', 'releasenotes/notes/keystone-admin-port-gone-1a28302df63aa70b.yaml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/keystone/tasks/precheck.yml', 'doc/source/user/operating-kolla.rst', 'ansible/roles/venus/templates/venus.conf.j2', 'tests/upgrade.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/42c2520144e4361d7da6a7b2b339061b96359785', 'message': 'Do not use a different port for Keystone admin endpoint\n\nDocs and reno included.\n\nChange-Id: I5099b08953789b280c915a6b7a22bdd4e3404076\n'}]",36,840898,42c2520144e4361d7da6a7b2b339061b96359785,50,6,6,30491,,,0,"Do not use a different port for Keystone admin endpoint

Docs and reno included.

Change-Id: I5099b08953789b280c915a6b7a22bdd4e3404076
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/98/840898/5 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/loadbalancer/tasks/precheck.yml', 'doc/source/user/multi-regions.rst', 'ansible/group_vars/all.yml', 'ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/keystone/tasks/precheck.yml', 'ansible/roles/venus/templates/venus.conf.j2']",8,ede5c1aad40aa6df33d5dabb30de05bc450f74a4,no-keystone-admin,auth_url = {{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ keystone_public_port }} ,auth_url = {{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ keystone_admin_port }} ,4,58
openstack%2Fskyline-console~master~I651a418093324adc3e1f078fc5a7c79fad042f01,openstack/skyline-console,master,I651a418093324adc3e1f078fc5a7c79fad042f01,fix: Fix topology e2e,MERGED,2022-05-31 04:58:49.000000000,2022-05-31 09:06:46.000000000,2022-05-31 09:06:46.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 33689}]","[{'number': 1, 'created': '2022-05-31 04:58:49.000000000', 'files': ['.zuul.yaml', 'test/e2e/integration/pages/network/topology.spec.js', 'test/e2e/config/config-network.yaml'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/276f554ed60537d1b365402bf7919ae107092299', 'message': 'fix: Fix topology e2e\n\n1. Add waittime to topology e2e\n2. set e2e check config in zuul.yaml\n\nChange-Id: I651a418093324adc3e1f078fc5a7c79fad042f01\n'}]",0,843986,276f554ed60537d1b365402bf7919ae107092299,7,3,1,30434,,,0,"fix: Fix topology e2e

1. Add waittime to topology e2e
2. set e2e check config in zuul.yaml

Change-Id: I651a418093324adc3e1f078fc5a7c79fad042f01
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/86/843986/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'test/e2e/integration/pages/network/topology.spec.js', 'test/e2e/config/config-network.yaml']",3,276f554ed60537d1b365402bf7919ae107092299,master5, - pages/network/topology.spec.js, # - pages/network/topology.spec.js,27,3
openstack%2Fbifrost~stable%2Fxena~Ia1bfa742ea97bb04f6304450ead1e4edeb0e1cbc,openstack/bifrost,stable/xena,Ia1bfa742ea97bb04f6304450ead1e4edeb0e1cbc,Fetch uuid if it is not present in the inventory,MERGED,2022-03-07 15:29:17.000000000,2022-05-31 08:19:55.000000000,2022-05-31 08:18:28.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-03-07 15:29:17.000000000', 'files': ['releasenotes/notes/uuid-gen-42b947a4a7a7ae08.yaml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/update_facts_from_ironic.yaml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-deploy-nodes-dynamic/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9dc7bf289fe2cd08887f46e355939321662a673f', 'message': 'Fetch uuid if it is not present in the inventory\n\nThe inventory file does not need to have a uuid in it, fetch it from\nIronic by name.\n\nChange-Id: Ia1bfa742ea97bb04f6304450ead1e4edeb0e1cbc\n(cherry picked from commit 72b267e90d0f73c4a372a97438310a110f3ad7a9)\n'}]",0,831869,9dc7bf289fe2cd08887f46e355939321662a673f,7,2,1,10239,,,0,"Fetch uuid if it is not present in the inventory

The inventory file does not need to have a uuid in it, fetch it from
Ironic by name.

Change-Id: Ia1bfa742ea97bb04f6304450ead1e4edeb0e1cbc
(cherry picked from commit 72b267e90d0f73c4a372a97438310a110f3ad7a9)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/69/831869/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/uuid-gen-42b947a4a7a7ae08.yaml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/update_facts_from_ironic.yaml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-deploy-nodes-dynamic/tasks/main.yml']",4,9dc7bf289fe2cd08887f46e355939321662a673f,deploy-stable/xena,"# Note(TheJulia): This step allows us to collect things that # ironic knows, that we do not know potentially, such as an UUID # should a node have been created without one. - name: ""Collecting node facts"" os_ironic_node_info: cloud: ""{{ cloud_name | default(omit) }}"" auth_type: ""{{ auth_type | default(omit) }}"" auth: ""{{ auth | default(omit) }}"" ca_cert: ""{{ tls_certificate_path | default(omit) }}"" ironic_url: ""{{ ironic_url | default(omit) }}"" uuid: ""{{ uuid | default() }}"" name: ""{{ name | default() }}"" skip_items: - instance_info register: node_info when: uuid is undefined - name: ""Set UUID from Ironic"" set_fact: uuid: ""{{ node_info.node.uuid }}"" when: uuid is undefined ",,50,36
openstack%2Fdesignate-dashboard~stable%2Fyoga~Ib1ea8b4c4d0d02f5748e9804b6ee92e564814341,openstack/designate-dashboard,stable/yoga,Ib1ea8b4c4d0d02f5748e9804b6ee92e564814341,"Fixes for Zones panel, reloadng and 'record' validation",ABANDONED,2022-05-31 07:38:20.000000000,2022-05-31 08:04:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-31 07:38:20.000000000', 'files': ['designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/delete.service.js', 'designatedashboard/static/designatedashboard/resources/os-designate-zone/actions/actions.module.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/actions.module.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/update.service.js', 'designatedashboard/static/designatedashboard/resources/os-designate-floatingip/actions/actions.module.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/common-forms.service.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/create.service.js'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/c1473dd8a4f5f09d45070d69eb96c40079c11643', 'message': ""Fixes for Zones panel, reloadng and 'record' validation\n\nRelated-prod: PRODX-22864\n\n(cherry picked from commit d34372a10bc79aa5f09118bf078d14cb4321086c)\n(cherry picked from commit 88b814d48453d46af9119d43c2e46110098e3a04)\n(cherry picked from commit 3c5b351dd87a87723de14ec0fded7baaeefdbf4f)\n\nPrevious picks:\n(cherry picked from commit 2c4850179e65423cb6be095f75069a039ae3949a)\n(cherry picked from commit 8f7a595a801d2ec522f1fa3ac77ed01982a1cd33)\n(cherry picked from commit 79df653d2a6eee8560d63e96b512e501f12d3f43)\nChange-Id: Ib1ea8b4c4d0d02f5748e9804b6ee92e564814341\n""}]",0,844002,c1473dd8a4f5f09d45070d69eb96c40079c11643,3,1,1,7549,,,0,"Fixes for Zones panel, reloadng and 'record' validation

Related-prod: PRODX-22864

(cherry picked from commit d34372a10bc79aa5f09118bf078d14cb4321086c)
(cherry picked from commit 88b814d48453d46af9119d43c2e46110098e3a04)
(cherry picked from commit 3c5b351dd87a87723de14ec0fded7baaeefdbf4f)

Previous picks:
(cherry picked from commit 2c4850179e65423cb6be095f75069a039ae3949a)
(cherry picked from commit 8f7a595a801d2ec522f1fa3ac77ed01982a1cd33)
(cherry picked from commit 79df653d2a6eee8560d63e96b512e501f12d3f43)
Change-Id: Ib1ea8b4c4d0d02f5748e9804b6ee92e564814341
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/02/844002/1 && git format-patch -1 --stdout FETCH_HEAD,"['designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/delete.service.js', 'designatedashboard/static/designatedashboard/resources/os-designate-zone/actions/actions.module.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/actions.module.js', 'designatedashboard/static/designatedashboard/resources/os-designate-floatingip/actions/actions.module.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/update.service.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/common-forms.service.js', 'designatedashboard/static/designatedashboard/resources/os-designate-recordset/actions/create.service.js']",7,c1473dd8a4f5f09d45070d69eb96c40079c11643,PRODX-22864," var dnsServiceEnabled; policy.ifAllowed({rules: [['dns', 'create_recordset']], target: {'zone_type': item.type}}),"," var createRecordSetPolicy, dnsServiceEnabled; createRecordSetPolicy = policy.ifAllowed({rules: [['dns', 'create_recordset']]}); createRecordSetPolicy,",17,11
openstack%2Fdevstack~stable%2Fussuri~I5a637bdcdf61e71c7e948187f686de40f5ef0dca,openstack/devstack,stable/ussuri,I5a637bdcdf61e71c7e948187f686de40f5ef0dca,Pin Tempest to 26.1.0 tag for stable/ussuri testing,MERGED,2022-04-14 23:13:28.000000000,2022-05-31 07:53:04.000000000,2022-05-31 07:50:34.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-04-14 23:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ef494b46ec28a049dc93684c815b62c8ee8cb768', 'message': 'Test Tempest 30.0.0 on ussuri\n\nChange-Id: I5a637bdcdf61e71c7e948187f686de40f5ef0dca\n'}, {'number': 2, 'created': '2022-04-20 20:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e8386555865ef17a4e3416f763bd42b89d3e2c88', 'message': 'Test Tempest 30.0.0 on ussuri\n\nChange-Id: I5a637bdcdf61e71c7e948187f686de40f5ef0dca\n'}, {'number': 3, 'created': '2022-05-23 23:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ff437d58121a6e7858f222e6554bec4a7b4dfd22', 'message': 'Test Tempest 30.0.0 on ussuri\n\nChange-Id: I5a637bdcdf61e71c7e948187f686de40f5ef0dca\n'}, {'number': 4, 'created': '2022-05-24 18:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ec11e2e82703da6dddd4a66bcfc388358ba353de', 'message': 'Test Tempest 26.1.0 on ussuri\n\nChange-Id: I5a637bdcdf61e71c7e948187f686de40f5ef0dca\n'}, {'number': 5, 'created': '2022-05-24 22:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b72420d33d73e06534ba19bef23242851ac8cfee', 'message': 'Pin Tempest to 26.1.0 tag for stable/ussuri testing\n\nStable ussuri is in Extended maintenance state[1] and\nwe need to pin tempest in stable/ussuri testing.\n\nWe use Tempest 26.1.0 because of oslo.utils version bump in Tempest\n27.0.0 and 28.0.0 which is not compatible with stable/ussuri\nupper constraints so these versions do not work in stable/ussuri.\nTempest 26.1.0 version is compatible for ussuri testing from tempest\nside as well as from upper constraints side.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/843045\n\nChange-Id: I5a637bdcdf61e71c7e948187f686de40f5ef0dca\n'}, {'number': 6, 'created': '2022-05-31 01:04:08.000000000', 'files': ['.zuul.yaml', 'tests/test_refs.sh', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/387e65cb7337926a8ea3dd59c8947cc4da74dadc', 'message': 'Pin Tempest to 26.1.0 tag for stable/ussuri testing\n\nStable ussuri is in Extended maintenance state[1] and\nwe need to pin tempest in stable/ussuri testing.\n\nWe use Tempest 26.1.0 because of oslo.utils version bump in Tempest\n27.0.0 and 28.0.0 which is not compatible with stable/ussuri\nupper constraints so these versions do not work in stable/ussuri.\nTempest 26.1.0 version is compatible for ussuri testing from tempest\nside as well as from upper constraints side.\n\nTo merge this, making openstacksdk-functional-devstack job\nas non-voting util we fix- https://storyboard.openstack.org/#!/story/2010057\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/843045\n\nChange-Id: I5a637bdcdf61e71c7e948187f686de40f5ef0dca\n'}]",11,838051,387e65cb7337926a8ea3dd59c8947cc4da74dadc,40,5,6,8556,,,0,"Pin Tempest to 26.1.0 tag for stable/ussuri testing

Stable ussuri is in Extended maintenance state[1] and
we need to pin tempest in stable/ussuri testing.

We use Tempest 26.1.0 because of oslo.utils version bump in Tempest
27.0.0 and 28.0.0 which is not compatible with stable/ussuri
upper constraints so these versions do not work in stable/ussuri.
Tempest 26.1.0 version is compatible for ussuri testing from tempest
side as well as from upper constraints side.

To merge this, making openstacksdk-functional-devstack job
as non-voting util we fix- https://storyboard.openstack.org/#!/story/2010057

Depends-On: https://review.opendev.org/c/openstack/tempest/+/843045

Change-Id: I5a637bdcdf61e71c7e948187f686de40f5ef0dca
",git fetch https://review.opendev.org/openstack/devstack refs/changes/51/838051/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_refs.sh', 'stackrc']",2,ef494b46ec28a049dc93684c815b62c8ee8cb768,ussuri-pin-tempest,TEMPEST_BRANCH=${TEMPEST_BRANCH:-30.0.0} TEMPEST_VENV_UPPER_CONSTRAINTS=${TEMPEST_VENV_UPPER_CONSTRAINTS:-https://releases.openstack.org/constraints/upper/yoga},TEMPEST_BRANCH=${TEMPEST_BRANCH:-$BRANCHLESS_TARGET_BRANCH} TEMPEST_VENV_UPPER_CONSTRAINTS=${TEMPEST_VENV_UPPER_CONSTRAINTS:-master},3,3
openstack%2Fdevstack~master~I0299d0ccc15553210f78ac2323b1ae94854a34a2,openstack/devstack,master,I0299d0ccc15553210f78ac2323b1ae94854a34a2,[DNM] Test OVN grenade job,ABANDONED,2022-04-11 12:38:51.000000000,2022-05-31 07:44:45.000000000,,[],"[{'number': 1, 'created': '2022-04-11 12:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4bb1a6467d9d37bedc269259f9cd183aa67cc4b2', 'message': '[DNM] Test OVN grenade job\n\nChange-Id: I0299d0ccc15553210f78ac2323b1ae94854a34a2\n'}, {'number': 2, 'created': '2022-04-28 10:27:58.000000000', 'files': ['lib/neutron_plugins/ovn_agent', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7a7f8e0ced128fa92a5376c8764cec2cbd1495a4', 'message': '[DNM] Test OVN grenade job\n\nChange-Id: I0299d0ccc15553210f78ac2323b1ae94854a34a2\n'}]",0,837303,7a7f8e0ced128fa92a5376c8764cec2cbd1495a4,7,0,2,13861,,,0,"[DNM] Test OVN grenade job

Change-Id: I0299d0ccc15553210f78ac2323b1ae94854a34a2
",git fetch https://review.opendev.org/openstack/devstack refs/changes/03/837303/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/neutron_plugins/ovn_agent', '.zuul.yaml']",2,4bb1a6467d9d37bedc269259f9cd183aa67cc4b2,, check: jobs: []," templates: - integrated-gate-py3 - publish-openstack-docs-pti check: jobs: - devstack - devstack-ipv6 - devstack-enforce-scope - devstack-platform-fedora-latest - devstack-platform-centos-8-stream - devstack-platform-centos-9-stream - devstack-platform-debian-bullseye - devstack-multinode - devstack-unit-tests - openstack-tox-bashate - ironic-tempest-bios-ipmi-direct-tinyipa - swift-dsvm-functional - grenade: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-ovs-grenade-multinode: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-linuxbridge-tempest: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-ovn-tempest-ovs-release: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-multinode-full-py3: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - openstacksdk-functional-devstack: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-ipv6-only: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - nova-ceph-multistore: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ gate: jobs: - devstack - devstack-ipv6 - devstack-platform-centos-9-stream - devstack-enforce-scope - devstack-multinode - devstack-unit-tests - openstack-tox-bashate - neutron-ovs-grenade-multinode: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-linuxbridge-tempest: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ironic-tempest-bios-ipmi-direct-tinyipa - swift-dsvm-functional - grenade: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - openstacksdk-functional-devstack: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-ipv6-only: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - nova-ceph-multistore: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ # Please add a note on each job and conditions for the job not # being experimental any more, so we can keep this list somewhat # pruned. # # * nova-next: maintained by nova for unreleased/undefaulted # things # * neutron-fullstack-with-uwsgi: maintained by neutron for fullstack test # when neutron-api is served by uwsgi, it's in exprimental for testing. # the next cycle we can remove this job if things turn out to be # stable enough. # * neutron-functional-with-uwsgi: maintained by neutron for functional # test. Next cycle we can remove this one if things turn out to be # stable engouh with uwsgi. # * neutron-tempest-with-uwsgi: maintained by neutron for tempest test. # Next cycle we can remove this if everything run out stable enough. # * nova-multi-cell: maintained by nova and currently non-voting in the # check queue for nova changes but relies on devstack configuration # * devstack-platform-fedora-latest-virt-preview: Maintained by lyarwood # for Nova to allow early testing of the latest versions of Libvirt and # QEMU. Should only graduate out of experimental if it ever moves into # the check queue for Nova. experimental: jobs: - devstack-platform-openEuler-20.03-SP2 - nova-multi-cell - nova-next - neutron-fullstack-with-uwsgi - neutron-functional-with-uwsgi - neutron-tempest-with-uwsgi - devstack-plugin-ceph-tempest-py3: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-ovs-tempest-dvr: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-ovs-tempest-dvr-ha-multinode-full: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - cinder-tempest-lvm-multibackend: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-pg-full: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - devstack-platform-fedora-latest-virt-preview - devstack-no-tls-proxy periodic: jobs: - devstack-no-tls-proxy",3,140
openstack%2Fneutron~master~I4502e9e45421457a1eeb0263eaef55fcd79d6d33,openstack/neutron,master,I4502e9e45421457a1eeb0263eaef55fcd79d6d33,[DNM] Test multinode ovn grenade skip stop_ovn,ABANDONED,2022-04-28 10:22:53.000000000,2022-05-31 07:41:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-28 10:22:53.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8580287102a30ea6ce13048d2ec0ea81da4e8830', 'message': '[DNM] Test multinode ovn grenade skip stop_ovn\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/836191\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/837303\nChange-Id: I4502e9e45421457a1eeb0263eaef55fcd79d6d33\n'}]",1,839714,8580287102a30ea6ce13048d2ec0ea81da4e8830,7,1,1,13861,,,0,"[DNM] Test multinode ovn grenade skip stop_ovn

Depends-On: https://review.opendev.org/c/openstack/devstack/+/836191
Depends-On: https://review.opendev.org/c/openstack/devstack/+/837303
Change-Id: I4502e9e45421457a1eeb0263eaef55fcd79d6d33
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/839714/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,8580287102a30ea6ce13048d2ec0ea81da4e8830,, - neutron-ovn-grenade-multinode, templates: - neutron-tempest-plugin-jobs - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-zed-jobs - openstack-python3-zed-jobs-arm64 - publish-openstack-docs-pti - periodic-stable-jobs - check-requirements - release-notes-jobs-python3 - neutron-experimental-jobs - neutron-periodic-jobs - neutron-tox-override-jobs - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-ovs-rally-task - neutron-ovs-grenade-multinode - neutron-ovs-grenade-dvr-multinode - neutron-ovs-tempest-multinode-full - neutron-ovs-tempest-dvr-ha-multinode-full - neutron-ovn-tempest-ipv6-only - neutron-ovn-rally-task: voting: false gate: jobs: - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-ovs-tempest-multinode-full - neutron-ovs-grenade-multinode - neutron-ovs-grenade-dvr-multinode - neutron-ovn-tempest-ipv6-only,1,31
openstack%2Fvenus-dashboard~master~I0bd121d66c8f6549d082137aca64549eed97d9f3,openstack/venus-dashboard,master,I0bd121d66c8f6549d082137aca64549eed97d9f3,Add pagination component to log search list,MERGED,2022-05-31 06:54:03.000000000,2022-05-31 07:29:59.000000000,2022-05-31 07:29:59.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-05-31 06:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus-dashboard/commit/628f115e260b0fe71deac45ba6322f465bb65d1b', 'message': 'Add pagination component to log search list\n\nChange-Id: I0bd121d66c8f6549d082137aca64549eed97d9f3\n'}, {'number': 2, 'created': '2022-05-31 07:10:35.000000000', 'files': ['venus_dashboard/log_search/templates/log_search/index.html', 'venus_dashboard/static/dashboard/admin/venus/logSearch/logSearch.html', 'venus_dashboard/static/dashboard/admin/venus/logSearch/logSearch.controller.js'], 'web_link': 'https://opendev.org/openstack/venus-dashboard/commit/2acb2a29b73933f407efa5507326ed23f1547b48', 'message': 'Add pagination component to log search list\n\nChange-Id: I0bd121d66c8f6549d082137aca64549eed97d9f3\n'}]",2,843998,2acb2a29b73933f407efa5507326ed23f1547b48,10,3,2,30562,,,0,"Add pagination component to log search list

Change-Id: I0bd121d66c8f6549d082137aca64549eed97d9f3
",git fetch https://review.opendev.org/openstack/venus-dashboard refs/changes/98/843998/1 && git format-patch -1 --stdout FETCH_HEAD,"['venus_dashboard/log_search/templates/log_search/index.html', 'venus_dashboard/static/dashboard/admin/venus/logSearch/logSearch.html', 'venus_dashboard/static/dashboard/admin/venus/logSearch/logSearch.controller.js']",3,628f115e260b0fe71deac45ba6322f465bb65d1b,add-pagination," page_size: horizon.cookies.get('API_RESULT_PAGE_SIZE') || 20, $scope.total = 0; $scope.total = res.data.data.total;"," page_size: 20,",12,4
openstack%2Fneutron~stable%2Ftrain~I3a950bd59bd142d381c39042675d1f116fe5e27b,openstack/neutron,stable/train,I3a950bd59bd142d381c39042675d1f116fe5e27b,[Train Only] Do not run grenade-skip-level job,MERGED,2022-05-13 09:17:07.000000000,2022-05-31 07:29:02.000000000,2022-05-31 07:26:26.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-05-13 09:17:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/07e1c6c22eed9251ff3b38f9808da327e8aab350', 'message': ""[Train Only] Do not run grenade-skip-level job\n\nThat job is meant for wallaby+ but it's running\nin stable/train branch and failing. This job was added\ninto the template with [1].\n\nFor ussuri+ we already not using that template\nand added required jobs to neutron project layout,\ndoing same for train.\n\n[1] https://review.opendev.org/c/openstack/tempest/+/830670\n[2] https://review.opendev.org/c/openstack/neutron/+/695172\n\nChange-Id: I3a950bd59bd142d381c39042675d1f116fe5e27b\n""}]",11,841698,07e1c6c22eed9251ff3b38f9808da327e8aab350,26,6,1,13861,,,0,"[Train Only] Do not run grenade-skip-level job

That job is meant for wallaby+ but it's running
in stable/train branch and failing. This job was added
into the template with [1].

For ussuri+ we already not using that template
and added required jobs to neutron project layout,
doing same for train.

[1] https://review.opendev.org/c/openstack/tempest/+/830670
[2] https://review.opendev.org/c/openstack/neutron/+/695172

Change-Id: I3a950bd59bd142d381c39042675d1f116fe5e27b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/841698/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,07e1c6c22eed9251ff3b38f9808da327e8aab350,neutron-ci-improvements, - tempest-integrated-networking - openstacksdk-functional-devstack - grenade: irrelevant-files: *tempest-irrelevant-files - tempest-integrated-networking - openstacksdk-functional-devstack - grenade: irrelevant-files: *tempest-irrelevant-files, - integrated-gate-networking,8,1
openstack%2Fpython-venusclient~master~I7a874f0800de3c359607273a1eddca9fd09663eb,openstack/python-venusclient,master,I7a874f0800de3c359607273a1eddca9fd09663eb,Update python testing as per zed cycle teting runtime,MERGED,2022-04-28 02:15:22.000000000,2022-05-31 06:19:21.000000000,2022-05-31 06:19:21.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 30562}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-04-28 02:15:22.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-venusclient/commit/49accd1d861cd5ed579dc48e26b344d247056cc3', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I7a874f0800de3c359607273a1eddca9fd09663eb\n'}]",0,839679,49accd1d861cd5ed579dc48e26b344d247056cc3,8,4,1,31412,,,0,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I7a874f0800de3c359607273a1eddca9fd09663eb
",git fetch https://review.opendev.org/openstack/python-venusclient refs/changes/79/839679/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,49accd1d861cd5ed579dc48e26b344d247056cc3,,python_requires = >=3.8,python_requires = >=3.6 Programming Language :: Python :: 3.6,1,2
openstack%2Fheat~master~Ic81bbdca80ab63592fab14ce33c0ad479ed6f999,openstack/heat,master,Ic81bbdca80ab63592fab14ce33c0ad479ed6f999,Increase test instance_type flavor size,NEW,2022-05-31 04:39:35.000000000,2022-05-31 06:08:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-31 04:39:35.000000000', 'files': ['devstack/lib/heat'], 'web_link': 'https://opendev.org/openstack/heat/commit/54acdda3c2cd375b67bd5ef0b7ed569429875f58', 'message': 'Increase test instance_type flavor size\n\nThe m1.heat_int flavor is no longer big enough\nto test the latest Fedora 36 image. We need to\nincrease this to keep our integration tests with\nthe Fedora image working.\n\nChange-Id: Ic81bbdca80ab63592fab14ce33c0ad479ed6f999\n'}]",0,843985,54acdda3c2cd375b67bd5ef0b7ed569429875f58,3,1,1,30073,,,0,"Increase test instance_type flavor size

The m1.heat_int flavor is no longer big enough
to test the latest Fedora 36 image. We need to
increase this to keep our integration tests with
the Fedora image working.

Change-Id: Ic81bbdca80ab63592fab14ce33c0ad479ed6f999
",git fetch https://review.opendev.org/openstack/heat refs/changes/85/843985/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/heat'],1,54acdda3c2cd375b67bd5ef0b7ed569429875f58,increase-flv-size, openstack flavor show m1.heat_int || openstack flavor create m1.heat_int --ram 512 --disk 10, openstack flavor show m1.heat_int || openstack flavor create m1.heat_int --ram 512 --disk 4,1,1
openstack%2Fswift~master~I308ebf72441e458dbd0da0aa22ccb6aaafd6f922,openstack/swift,master,I308ebf72441e458dbd0da0aa22ccb6aaafd6f922,Probe: check gap repair acceptor in shrunk shardrange,NEW,2022-05-24 05:33:05.000000000,2022-05-31 05:44:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-24 05:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/041756be23e4e81cd1f8216518e5d3cdb28d7372', 'message': 'Probe: check gap repair acceptor in shrunk shardrange\n\nFor completeness sake, check the shrunk shard container at the end of\nthe existing managed gap probe test, that the expected acceptor was\npulled in and used.\n\nChange-Id: I308ebf72441e458dbd0da0aa22ccb6aaafd6f922\n'}, {'number': 2, 'created': '2022-05-31 04:36:07.000000000', 'files': ['test/probe/test_sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2d2ee8c5350f61cd70048e100601e89a1f5f328c', 'message': 'Probe: check gap repair acceptor in shrunk shardrange\n\nFor completeness sake, check the shrunk shard container at the end of\nthe existing managed gap probe test, that the expected acceptor was\npulled in and used.\n\nChange-Id: I308ebf72441e458dbd0da0aa22ccb6aaafd6f922\n'}]",0,843100,2d2ee8c5350f61cd70048e100601e89a1f5f328c,6,1,2,7233,,,0,"Probe: check gap repair acceptor in shrunk shardrange

For completeness sake, check the shrunk shard container at the end of
the existing managed gap probe test, that the expected acceptor was
pulled in and used.

Change-Id: I308ebf72441e458dbd0da0aa22ccb6aaafd6f922
",git fetch https://review.opendev.org/openstack/swift refs/changes/00/843100/2 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/test_sharder.py'],1,041756be23e4e81cd1f8216518e5d3cdb28d7372,p-repair-gaps," shrunk_range = None for broker in root_brokers: shard_ranges = broker.get_shard_ranges(include_deleted=True) for sr in shard_ranges]) shrunk_range = shard_ranges[2] # Show that the acceptor the repair chose was pulled into the shard, # it will be the only active shard still in the shrunk container # (because it was our single acceptor in this case) shrunk_broker = self.get_shard_broker(shrunk_range) self.assertEqual( [(ShardRange.ACTIVE, False, obj_names[0], ShardRange.MAX)], [(sr.state, sr.deleted, sr.lower, sr.upper) for sr in shrunk_broker.get_shard_ranges(include_deleted=False) if sr.state == ShardRange.ACTIVE])", for broker in root_brokers: for sr in broker.get_shard_ranges(include_deleted=True)]),14,1
openstack%2Fhorizon~master~I0c64f9b1c9e48a96118db55c3ec8ab92a72ada8b,openstack/horizon,master,I0c64f9b1c9e48a96118db55c3ec8ab92a72ada8b,Remove ability to filter instances by VCPUs,MERGED,2022-03-30 22:20:23.000000000,2022-05-31 05:39:32.000000000,2022-05-31 05:38:13.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-03-30 22:20:23.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f4bbc99b1a047b52116c5b6d7a7fa6a7b779f7da', 'message': 'Remove ability to filter instances by VCPUs\n\nThis is not supported by the compute API so will never work.\n\nCloses-bug: #1967183\nChange-Id: I0c64f9b1c9e48a96118db55c3ec8ab92a72ada8b\n'}]",3,835913,f4bbc99b1a047b52116c5b6d7a7fa6a7b779f7da,12,3,1,3031,,,0,"Remove ability to filter instances by VCPUs

This is not supported by the compute API so will never work.

Closes-bug: #1967183
Change-Id: I0c64f9b1c9e48a96118db55c3ec8ab92a72ada8b
",git fetch https://review.opendev.org/openstack/horizon refs/changes/13/835913/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/instances/tables.py'],1,f4bbc99b1a047b52116c5b6d7a7fa6a7b779f7da,bug/1967183,," ('vcpus', _(""vCPUs =""), True),",0,1
openstack%2Fskyline-console~master~I9c754b78fbd19645e11659d06ec6b9ee85ec9714,openstack/skyline-console,master,I9c754b78fbd19645e11659d06ec6b9ee85ec9714,feat: Update certificate,MERGED,2022-05-30 08:49:11.000000000,2022-05-31 04:53:08.000000000,2022-05-31 04:53:08.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-05-30 08:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/13e72321629f7c67f7455011d02bd31f39ad6740', 'message': 'feat: Update certificate\n\n1. Remove certificate in administrator platform\n2. Add prefix barbican to the policy\n3. Allowed delete lb if provisioning_status is PENDING_UPDATE\n4. Allowed change certificate when edit listener\n\nChange-Id: I9c754b78fbd19645e11659d06ec6b9ee85ec9714\n'}, {'number': 2, 'created': '2022-05-31 01:36:17.000000000', 'files': ['src/pages/network/containers/Certificate/Detail/Container/index.jsx', 'src/pages/network/containers/Certificate/Detail/Secret/index.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/CreateListener.jsx', 'src/pages/network/routes/index.js', 'src/pages/network/containers/Certificate/Certificate.jsx', 'src/pages/network/containers/Certificate/actions/DeleteSecret.jsx', 'src/pages/network/containers/Certificate/actions/index.jsx', 'src/pages/network/containers/Certificate/actions/DeleteContainer.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/Edit.jsx', 'src/layouts/admin-menu.jsx', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/actions/Delete.jsx', 'src/pages/network/containers/Certificate/actions/Create.jsx', 'test/e2e/config/config-network.yaml'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/93043a2218de1e6c341bc28fa701a1f1ba939486', 'message': 'feat: Update certificate\n\n1. Remove certificate in administrator platform\n2. Add prefix barbican to the policy\n3. Allowed delete lb if provisioning_status is PENDING_UPDATE\n4. Allowed change certificate when edit listener\n\nChange-Id: I9c754b78fbd19645e11659d06ec6b9ee85ec9714\n'}]",4,843802,93043a2218de1e6c341bc28fa701a1f1ba939486,16,2,2,33689,,,0,"feat: Update certificate

1. Remove certificate in administrator platform
2. Add prefix barbican to the policy
3. Allowed delete lb if provisioning_status is PENDING_UPDATE
4. Allowed change certificate when edit listener

Change-Id: I9c754b78fbd19645e11659d06ec6b9ee85ec9714
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/02/843802/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/network/containers/Certificate/Detail/Container/index.jsx', 'src/pages/network/containers/Certificate/Detail/Secret/index.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/CreateListener.jsx', 'src/pages/network/routes/index.js', 'src/pages/network/containers/Certificate/Certificate.jsx', 'src/pages/network/containers/Certificate/actions/DeleteSecret.jsx', 'src/pages/network/containers/Certificate/actions/index.jsx', 'src/pages/network/containers/Certificate/actions/DeleteContainer.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/Edit.jsx', 'src/layouts/admin-menu.jsx', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/actions/Delete.jsx', 'src/pages/network/containers/Certificate/actions/Create.jsx']",12,13e72321629f7c67f7455011d02bd31f39ad6740,open-lb," static policy = ['barbican:secrets:post', 'barbican:containers:post'];"," static policy = ['secrets:post', 'containers:post'];",113,114
openstack%2Fdesignate~master~I38efa22bb8b0de6fd9a70339e8044fea70080004,openstack/designate,master,I38efa22bb8b0de6fd9a70339e8044fea70080004,Fixed incorrect quota exception message,MERGED,2022-05-29 03:45:29.000000000,2022-05-31 04:31:17.000000000,2022-05-31 04:29:59.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-29 03:45:29.000000000', 'files': ['designate/quota/base.py', 'designate/quota/impl_storage.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/291558c380232b726be0253fdee1f88902522beb', 'message': 'Fixed incorrect quota exception message\n\nChange-Id: I38efa22bb8b0de6fd9a70339e8044fea70080004\n'}]",2,843738,291558c380232b726be0253fdee1f88902522beb,9,3,1,22623,,,0,"Fixed incorrect quota exception message

Change-Id: I38efa22bb8b0de6fd9a70339e8044fea70080004
",git fetch https://review.opendev.org/openstack/designate refs/changes/38/843738/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/quota/base.py', 'designate/quota/impl_storage.py']",2,291558c380232b726be0253fdee1f88902522beb,," ""resource"" % resource)"," ""resource"", resource)",2,2
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I7e158c7473b3780b9d135dbb44ae26ab8a19a16c,openstack/python-tripleoclient,stable/wallaby,I7e158c7473b3780b9d135dbb44ae26ab8a19a16c,[DNM] build test packages validations,ABANDONED,2022-05-30 09:28:12.000000000,2022-05-31 03:49:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-30 09:28:12.000000000', 'files': ['tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/13fd30e442811669a9c9eb51f23c39fefb944ead', 'message': '[DNM] build test packages validations\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/842273\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I7e158c7473b3780b9d135dbb44ae26ab8a19a16c\n'}]",1,843807,13fd30e442811669a9c9eb51f23c39fefb944ead,5,2,1,12393,,,0,"[DNM] build test packages validations

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/842273

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I7e158c7473b3780b9d135dbb44ae26ab8a19a16c
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/07/843807/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,13fd30e442811669a9c9eb51f23c39fefb944ead,dnm_build_test,#,,1,0
openstack%2Fpython-venusclient~master~I6daf81e5f01c1a3e120e36c34b1e8be47d9f7089,openstack/python-venusclient,master,I6daf81e5f01c1a3e120e36c34b1e8be47d9f7089,Modify copyright info.,MERGED,2022-05-30 08:00:20.000000000,2022-05-31 02:30:31.000000000,2022-05-31 02:30:31.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-05-30 08:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-venusclient/commit/cbed7e00af43726ded9c497808e9afb451a99521', 'message': 'Modify copyright info.\n\nChange-Id: I6daf81e5f01c1a3e120e36c34b1e8be47d9f7089\n'}, {'number': 2, 'created': '2022-05-30 09:37:20.000000000', 'files': ['venusclient/common/httpclient.py', 'venusclient/common/apiclient/base.py', 'venusclient/common/apiclient/exceptions.py', 'venusclient/common/http.py', 'venusclient/common/utils.py', 'venusclient/common/base.py', 'venusclient/exceptions.py', 'venusclient/osc/plugin.py', 'venusclient/common/cliutils.py', 'venusclient/i18n.py', 'venusclient/version.py', 'venusclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-venusclient/commit/9e69175e181a476215ce1a3938ba9dc896538b2e', 'message': 'Modify copyright info.\n\nChange-Id: I6daf81e5f01c1a3e120e36c34b1e8be47d9f7089\n'}]",1,843796,9e69175e181a476215ce1a3938ba9dc896538b2e,9,3,2,30562,,,0,"Modify copyright info.

Change-Id: I6daf81e5f01c1a3e120e36c34b1e8be47d9f7089
",git fetch https://review.opendev.org/openstack/python-venusclient refs/changes/96/843796/2 && git format-patch -1 --stdout FETCH_HEAD,"['venusclient/common/httpclient.py', 'venusclient/common/apiclient/base.py', 'venusclient/common/apiclient/exceptions.py', 'venusclient/common/http.py', 'venusclient/common/utils.py', 'venusclient/common/base.py', 'venusclient/exceptions.py', 'venusclient/osc/plugin.py', 'venusclient/common/cliutils.py', 'venusclient/i18n.py', 'venusclient/version.py', 'venusclient/shell.py']",12,cbed7e00af43726ded9c497808e9afb451a99521,,"# Copyright 2020 Inspur# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at# http://www.apache.org/licenses/LICENSE-2.0# distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License.","# Copyright 2014 # The Cloudscaling Group, Inc.# Licensed under the Apache License, Version 2.0 (the ""License""); you may not # use this file except in compliance with the License. You may obtain a copy # of the License at# http://www.apache.org/licenses/LICENSE-2.0# distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License.",119,140
openstack%2Ftempest~master~I5f93effa280725ea41150cd7cebdf29a40db9818,openstack/tempest,master,I5f93effa280725ea41150cd7cebdf29a40db9818,Wait for guest to boot before attach a volume,MERGED,2022-05-23 08:21:22.000000000,2022-05-31 02:15:46.000000000,2022-05-31 02:04:33.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-05-23 08:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2a88daf1234ababea5879712bcd88ecfef1f030a', 'message': 'Wait for guest to boot before attach a volume\n\nThis patch ensures test under the api.compute.admin package wait until\nthe VM is sshable before attaches a volume to it.\n\nRelated-Bug: #1960346\nChange-Id: I5f93effa280725ea41150cd7cebdf29a40db9818\n'}, {'number': 2, 'created': '2022-05-23 11:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ef956632f70bb2de0c44651d5e46f5829cfc5fb2', 'message': 'Wait for guest to boot before attach a volume\n\nThis patch ensures test under the api.compute.admin package wait until\nthe VM is sshable before attaches a volume to it.\n\nRelated-Bug: #1960346\nChange-Id: I5f93effa280725ea41150cd7cebdf29a40db9818\n'}, {'number': 3, 'created': '2022-05-30 08:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a9f3927d80f9a6836e08d50bea950167fa64a858', 'message': 'Wait for guest to boot before attach a volume\n\nThis patch ensures test under the api.compute.admin package wait until\nthe VM is sshable before attaches a volume to it.\n\nRelated-Bug: #1960346\nChange-Id: I5f93effa280725ea41150cd7cebdf29a40db9818\n'}, {'number': 4, 'created': '2022-05-30 12:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1f9cf2c818f96e3f7d05a7de2c217334346942be', 'message': 'Wait for guest to boot before attach a volume\n\nThis patch ensures test under the api.compute.admin package wait until\nthe VM is sshable before attaches a volume to it.\n\nRelated-Bug: #1960346\nChange-Id: I5f93effa280725ea41150cd7cebdf29a40db9818\n'}, {'number': 5, 'created': '2022-05-30 15:14:56.000000000', 'files': ['tempest/api/compute/admin/test_volumes_negative.py', 'tempest/api/compute/admin/test_volume_swap.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/53cd6880d732265c413383b874d288c208954a7f', 'message': 'Wait for guest to boot before attach a volume\n\nThis patch ensures test under the api.compute.admin package wait until\nthe VM is sshable before attaches a volume to it.\n\nRelated-Bug: #1960346\nChange-Id: I5f93effa280725ea41150cd7cebdf29a40db9818\n'}]",3,842921,53cd6880d732265c413383b874d288c208954a7f,17,3,5,9708,,,0,"Wait for guest to boot before attach a volume

This patch ensures test under the api.compute.admin package wait until
the VM is sshable before attaches a volume to it.

Related-Bug: #1960346
Change-Id: I5f93effa280725ea41150cd7cebdf29a40db9818
",git fetch https://review.opendev.org/openstack/tempest refs/changes/21/842921/3 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/admin/test_volumes_negative.py', 'tempest/api/compute/admin/test_volume_swap.py']",2,2a88daf1234ababea5879712bcd88ecfef1f030a,wait_until_sshable_pingable," validation_resources = self.get_test_validation_resources( self.os_primary) # NOTE(gibi): We need to wait for the guest to fully boot as the test # will attach a volume to the server and therefore cleanup will try to # detach it. See bug 1960346 for details. server = self.create_test_server( validatable=True, validation_resources=validation_resources, wait_until='SSHABLE' ) validation_resources = self.get_test_validation_resources( self.os_primary) # NOTE(gibi): We need to wait for the guests to fully boot as the test # will attach volumes to the servers and therefore cleanup will try to # detach them. See bug 1960346 for details. validatable=True, validation_resources=validation_resources, wait_until='SSHABLE', min_count=2, return_reservation_id=True, )['reservation_id']"," server = self.create_test_server(wait_until='ACTIVE') wait_until='ACTIVE', min_count=2, return_reservation_id=True)['reservation_id']",47,6
openstack%2Fpython-venusclient~master~Ic445f4de0a19e2987f6d6ccbe53b0d520bbccd1f,openstack/python-venusclient,master,Ic445f4de0a19e2987f6d6ccbe53b0d520bbccd1f,Modify copyright info.,MERGED,2022-05-30 07:56:04.000000000,2022-05-31 01:54:29.000000000,2022-05-31 01:54:29.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-05-30 07:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-venusclient/commit/4b81002b877ba2281e71bffcad2602bc7cfd5c0e', 'message': 'Modify copyright info.\n\nChange-Id: Ic445f4de0a19e2987f6d6ccbe53b0d520bbccd1f\n'}, {'number': 2, 'created': '2022-05-30 09:37:20.000000000', 'files': ['venusclient/v1/config.py', 'venusclient/v1/shell.py', 'venusclient/v1/config_shell.py', 'venusclient/v1/basemodels.py', 'venusclient/v1/__init__.py'], 'web_link': 'https://opendev.org/openstack/python-venusclient/commit/99dcbc61cbc90e120b8530880867cc720bb72e87', 'message': 'Modify copyright info.\n\nChange-Id: Ic445f4de0a19e2987f6d6ccbe53b0d520bbccd1f\n'}]",1,843795,99dcbc61cbc90e120b8530880867cc720bb72e87,9,3,2,30562,,,0,"Modify copyright info.

Change-Id: Ic445f4de0a19e2987f6d6ccbe53b0d520bbccd1f
",git fetch https://review.opendev.org/openstack/python-venusclient refs/changes/95/843795/1 && git format-patch -1 --stdout FETCH_HEAD,"['venusclient/v1/config.py', 'venusclient/v1/shell.py', 'venusclient/v1/config_shell.py', 'venusclient/v1/basemodels.py', 'venusclient/v1/__init__.py']",5,4b81002b877ba2281e71bffcad2602bc7cfd5c0e,,# Copyright 2020 Inspur #,# -*- coding: utf-8 -*- ,42,41
openstack%2Fkayobe~stable%2Fxena~Id9418e4e88c52056412daa22462aa611bfcc59ae,openstack/kayobe,stable/xena,Id9418e4e88c52056412daa22462aa611bfcc59ae,ironic: Set MTU on provisioning and cleaning Neutron networks,MERGED,2022-05-27 17:52:12.000000000,2022-05-31 01:40:28.000000000,2022-05-31 01:39:11.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 17:52:12.000000000', 'files': ['releasenotes/notes/provision-net-mtu-befdda04224f49a6.yaml', 'ansible/provision-net.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0467484a6b343c204c136fe0f6cd3d3d1e8ed946', 'message': 'ironic: Set MTU on provisioning and cleaning Neutron networks\n\nPreviously we were not applying an MTU defined in Kayobe networks.yml to\nthe provisioning and cleaning networks in Neutron. This could lead to\nissues when nodes communicate with the Ironic and Inspector APIs.\n\nChange-Id: Id9418e4e88c52056412daa22462aa611bfcc59ae\n(cherry picked from commit cd24b6d98e1b82ab9c255e3e5ddbaed99c49067f)\n'}]",1,843664,0467484a6b343c204c136fe0f6cd3d3d1e8ed946,12,3,1,14200,,,0,"ironic: Set MTU on provisioning and cleaning Neutron networks

Previously we were not applying an MTU defined in Kayobe networks.yml to
the provisioning and cleaning networks in Neutron. This could lead to
issues when nodes communicate with the Ironic and Inspector APIs.

Change-Id: Id9418e4e88c52056412daa22462aa611bfcc59ae
(cherry picked from commit cd24b6d98e1b82ab9c255e3e5ddbaed99c49067f)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/64/843664/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/provision-net-mtu-befdda04224f49a6.yaml', 'ansible/provision-net.yml']",2,0467484a6b343c204c136fe0f6cd3d3d1e8ed946,ironic-mtu," mtu: ""{{ provision_wl_net_name | net_mtu | default(omit, True) }}"" mtu: ""{{ cleaning_net_name | net_mtu | default(omit, True) }}""",,7,0
openstack%2Fswift~master~If68f06dec85346818f5c08783eecee8592c24684,openstack/swift,master,If68f06dec85346818f5c08783eecee8592c24684,sharding: add can_transition_to_cleaved helper method,NEW,2022-05-04 04:59:41.000000000,2022-05-31 01:39:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-04 04:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/892a0bf66c4d465861872c95d6971423ca959947', 'message': 'sharding: add can_transition_to_cleaved helper method\n\nThis patch adds a helper function that given a number of time units will\ncalculate how much of a difference to the expected we are happy to accept\nin order to make progress. This patch adds the helper method, but\ncurrently isn\'t used.\n\nThe basic idea is given an expected_size and current_size of the shard,\ncheck to see if we can move to CLEAVED.\nIf the current_size < expected use an exponential formula to see if enough\niterations have passed for us to accept the current size and make progress.\n\nThe simple formula is `base ** iterations`, tuned into a percentage of\nthe expected size that the current_size may have a difference of.\n\nIterations will be a number of time units, so a bigger difference\nis allowed over time. But are in effect what we\'re raising the power to.\nWe could make the time unit configurable in seconds. So we could make it\ndaily. So long as we know when we attempted to cleave (but couldn\'t\ntransition) we can then take the difference in time / time units and we\nget our iterations number.\n\nAs for the base, the following table might help\n\n  =================================================\n  | base | iterations (in %)                | num |\n  -------------------------------------------------\n  | 1.4  | 1, 1.4, 1.96, 2.744, 3.8416,     | 15  |\n  |      | 5.378240, 7.529536, 10.541350,   |     |\n  |      | 14.757891, 20.661047, 28.925465, |     |\n  |      | 40.495652, 56.693912, 79.371477, |     |\n  |      | 111.120068                       |     |\n  | 1.5  | 1, 1.5, 2.25, 3.375, 5.0625,     | 13  |\n  |      | 7.59375, 11.390625, 17.085938,   |     |\n  |      | 25.628906, 38.443359, 57.665039, |     |\n  |      | 86.497559, 129.746338            |     |\n  | 1.6  | 1, 1.6, 2.56, 4.096, 6.5536,     | 11  |\n  |      | 10.48576, 16.777216, 26.843546,  |     |\n  |      | 42.949673, 68.719477,            |     |\n  |      | 109.951163                       |     |\n  | 1.7  | 1, 1.7, 2.89, 4.913, 8.3521,     | 10  |\n  |      | 14.19857, 24.137569, 41.033867,  |     |\n  |      | 69.757574, 118.587876            |     |\n  | 1.8  | 1, 1.8, 3.24, 5.832, 10.4976,    | 9   |\n  |      | 18.89568, 34.012224, 61.222003,  |     |\n  |      | 110.199606                       |     |\n  | 1.9  | 1, 1.9, 3.61, 6.859, 13.0321,    | 9   |\n  |      | 24.76099, 47.045881, 89.387174,  |     |\n  |      | 169.835630                       |     |\n  | 2    | 1, 2, 4, 8, 16, 32, 64, 128 (8)  |     |\n  | e    | 1, 2.718282, 7.389056,           | 6   |\n  |      | 20.085537, 54.59815, 148.413159  |     |\n  =================================================\n\nA simple way to print iterations to check a base is with:\n\n  for x in range(20):\n      print(""%f, "" % ((base ** x)), end=\'\')\n\nChange-Id: If68f06dec85346818f5c08783eecee8592c24684\n'}, {'number': 2, 'created': '2022-05-31 00:26:32.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5c7731b42eecec136e2b923c2f83ff6b65ac8d72', 'message': 'sharding: add can_transition_to_cleaved helper method\n\nThis patch adds a helper function that given a number of time units will\ncalculate how much of a difference to the expected we are happy to accept\nin order to make progress. This patch adds the helper method, but\ncurrently isn\'t used.\n\nThe basic idea is given an expected_size and current_size of the shard,\ncheck to see if we can move to CLEAVED.\nIf the current_size < expected use an exponential formula to see if enough\niterations have passed for us to accept the current size and make progress.\n\nThe simple formula is `base ** iterations`, tuned into a percentage of\nthe expected size that the current_size may have a difference of.\n\nIterations will be a number of time units, so a bigger difference\nis allowed over time. But are in effect what we\'re raising the power to.\nWe could make the time unit configurable in seconds. So we could make it\ndaily. So long as we know when we attempted to cleave (but couldn\'t\ntransition) we can then take the difference in time / time units and we\nget our iterations number.\n\nAs for the base, the following table might help\n\n  =================================================\n  | base | iterations (in %)                | num |\n  -------------------------------------------------\n  | 1.4  | 1, 1.4, 1.96, 2.744, 3.8416,     | 15  |\n  |      | 5.378240, 7.529536, 10.541350,   |     |\n  |      | 14.757891, 20.661047, 28.925465, |     |\n  |      | 40.495652, 56.693912, 79.371477, |     |\n  |      | 111.120068                       |     |\n  | 1.5  | 1, 1.5, 2.25, 3.375, 5.0625,     | 13  |\n  |      | 7.59375, 11.390625, 17.085938,   |     |\n  |      | 25.628906, 38.443359, 57.665039, |     |\n  |      | 86.497559, 129.746338            |     |\n  | 1.6  | 1, 1.6, 2.56, 4.096, 6.5536,     | 11  |\n  |      | 10.48576, 16.777216, 26.843546,  |     |\n  |      | 42.949673, 68.719477,            |     |\n  |      | 109.951163                       |     |\n  | 1.7  | 1, 1.7, 2.89, 4.913, 8.3521,     | 10  |\n  |      | 14.19857, 24.137569, 41.033867,  |     |\n  |      | 69.757574, 118.587876            |     |\n  | 1.8  | 1, 1.8, 3.24, 5.832, 10.4976,    | 9   |\n  |      | 18.89568, 34.012224, 61.222003,  |     |\n  |      | 110.199606                       |     |\n  | 1.9  | 1, 1.9, 3.61, 6.859, 13.0321,    | 9   |\n  |      | 24.76099, 47.045881, 89.387174,  |     |\n  |      | 169.835630                       |     |\n  | 2    | 1, 2, 4, 8, 16, 32, 64, 128 (8)  |     |\n  | e    | 1, 2.718282, 7.389056,           | 6   |\n  |      | 20.085537, 54.59815, 148.413159  |     |\n  =================================================\n\nA simple way to print iterations to check a base is with:\n\n  for x in range(20):\n      print(""%f, "" % ((base ** x)), end=\'\')\n\nChange-Id: If68f06dec85346818f5c08783eecee8592c24684\n'}]",8,840408,5c7731b42eecec136e2b923c2f83ff6b65ac8d72,6,1,2,7233,,,0,"sharding: add can_transition_to_cleaved helper method

This patch adds a helper function that given a number of time units will
calculate how much of a difference to the expected we are happy to accept
in order to make progress. This patch adds the helper method, but
currently isn't used.

The basic idea is given an expected_size and current_size of the shard,
check to see if we can move to CLEAVED.
If the current_size < expected use an exponential formula to see if enough
iterations have passed for us to accept the current size and make progress.

The simple formula is `base ** iterations`, tuned into a percentage of
the expected size that the current_size may have a difference of.

Iterations will be a number of time units, so a bigger difference
is allowed over time. But are in effect what we're raising the power to.
We could make the time unit configurable in seconds. So we could make it
daily. So long as we know when we attempted to cleave (but couldn't
transition) we can then take the difference in time / time units and we
get our iterations number.

As for the base, the following table might help

  =================================================
  | base | iterations (in %)                | num |
  -------------------------------------------------
  | 1.4  | 1, 1.4, 1.96, 2.744, 3.8416,     | 15  |
  |      | 5.378240, 7.529536, 10.541350,   |     |
  |      | 14.757891, 20.661047, 28.925465, |     |
  |      | 40.495652, 56.693912, 79.371477, |     |
  |      | 111.120068                       |     |
  | 1.5  | 1, 1.5, 2.25, 3.375, 5.0625,     | 13  |
  |      | 7.59375, 11.390625, 17.085938,   |     |
  |      | 25.628906, 38.443359, 57.665039, |     |
  |      | 86.497559, 129.746338            |     |
  | 1.6  | 1, 1.6, 2.56, 4.096, 6.5536,     | 11  |
  |      | 10.48576, 16.777216, 26.843546,  |     |
  |      | 42.949673, 68.719477,            |     |
  |      | 109.951163                       |     |
  | 1.7  | 1, 1.7, 2.89, 4.913, 8.3521,     | 10  |
  |      | 14.19857, 24.137569, 41.033867,  |     |
  |      | 69.757574, 118.587876            |     |
  | 1.8  | 1, 1.8, 3.24, 5.832, 10.4976,    | 9   |
  |      | 18.89568, 34.012224, 61.222003,  |     |
  |      | 110.199606                       |     |
  | 1.9  | 1, 1.9, 3.61, 6.859, 13.0321,    | 9   |
  |      | 24.76099, 47.045881, 89.387174,  |     |
  |      | 169.835630                       |     |
  | 2    | 1, 2, 4, 8, 16, 32, 64, 128 (8)  |     |
  | e    | 1, 2.718282, 7.389056,           | 6   |
  |      | 20.085537, 54.59815, 148.413159  |     |
  =================================================

A simple way to print iterations to check a base is with:

  for x in range(20):
      print(""%f, "" % ((base ** x)), end='')

Change-Id: If68f06dec85346818f5c08783eecee8592c24684
",git fetch https://review.opendev.org/openstack/swift refs/changes/08/840408/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,892a0bf66c4d465861872c95d6971423ca959947,no-stats-update-before-CLEAVED,"def can_transition_to_cleaved(expected_size, current_size, base, iterations): """""" Given the expected_size and the current_size of the shard, check to see if we can move to CLEAVED. If the current_size < expected use an exponential formula to see if enough iterations have passed for us to accept the current size and make progress. The simple formula is `base ** iterations`, tuned into a percentage of the expected size that the current_size may have a difference of. Iterations will be a number of time units, so a bigger difference is allowed over time. But are in effect what we're raising the power to. The following table might help: ================================================= | base | iterations (in %) | num | ------------------------------------------------- | 1.4 | 1, 1.4, 1.96, 2.744, 3.8416, | 15 | | | 5.378240, 7.529536, 10.541350, | | | | 14.757891, 20.661047, 28.925465, | | | | 40.495652, 56.693912, 79.371477, | | | | 111.120068 | | | 1.5 | 1, 1.5, 2.25, 3.375, 5.0625, | 13 | | | 7.59375, 11.390625, 17.085938, | | | | 25.628906, 38.443359, 57.665039, | | | | 86.497559, 129.746338 | | | 1.6 | 1, 1.6, 2.56, 4.096, 6.5536, | 11 | | | 10.48576, 16.777216, 26.843546, | | | | 42.949673, 68.719477, | | | | 109.951163 | | | 1.7 | 1, 1.7, 2.89, 4.913, 8.3521, | 10 | | | 14.19857, 24.137569, 41.033867, | | | | 69.757574, 118.587876 | | | 1.8 | 1, 1.8, 3.24, 5.832, 10.4976, | 9 | | | 18.89568, 34.012224, 61.222003, | | | | 110.199606 | | | 1.9 | 1, 1.9, 3.61, 6.859, 13.0321, | 9 | | | 24.76099, 47.045881, 89.387174, | | | | 169.835630 | | | 2 | 1, 2, 4, 8, 16, 32, 64, 128 (8) | | | e | 1, 2.718282, 7.389056, | 6 | | | 20.085537, 54.59815, 148.413159 | | ================================================= """""" for var in expected_size, current_size, base, iterations: if not isinstance(var, (int, float)): raise ValueError() if current_size >= expected_size: return True exponential_percentage = (base ** iterations)/100 allowed_size = expected_size - expected_size * exponential_percentage if current_size >= allowed_size: return True return False ",,94,1
openstack%2Fvenus-dashboard~master~Ia688639a3b3d7351d2f6682f45999f0e6a20e862,openstack/venus-dashboard,master,Ia688639a3b3d7351d2f6682f45999f0e6a20e862,Adapt to new venusclient,MERGED,2022-05-31 01:32:31.000000000,2022-05-31 01:39:05.000000000,2022-05-31 01:39:05.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-05-31 01:32:31.000000000', 'files': ['venus_dashboard/static/dashboard/admin/services/venus.service.js', 'venus_dashboard/api/venus.py', 'venus_dashboard/api/venus_rest_api.py', 'venus_dashboard/static/dashboard/admin/venus/logSearch/logSearch.controller.js', 'venus_dashboard/static/app/core/openstack-service-api/venus.service.js'], 'web_link': 'https://opendev.org/openstack/venus-dashboard/commit/1d09ffec25dee17f2a7f615a360efa8c8950ec62', 'message': 'Adapt to new venusclient\n\nChange-Id: Ia688639a3b3d7351d2f6682f45999f0e6a20e862\n'}]",1,843980,1d09ffec25dee17f2a7f615a360efa8c8950ec62,7,3,1,30562,,,0,"Adapt to new venusclient

Change-Id: Ia688639a3b3d7351d2f6682f45999f0e6a20e862
",git fetch https://review.opendev.org/openstack/venus-dashboard refs/changes/80/843980/1 && git format-patch -1 --stdout FETCH_HEAD,"['venus_dashboard/static/dashboard/admin/services/venus.service.js', 'venus_dashboard/api/venus.py', 'venus_dashboard/api/venus_rest_api.py', 'venus_dashboard/static/dashboard/admin/venus/logSearch/logSearch.controller.js', 'venus_dashboard/static/app/core/openstack-service-api/venus.service.js']",5,1d09ffec25dee17f2a7f615a360efa8c8950ec62,," .module('horizon.app.core.openstack-service-api') .factory('horizon.app.core.openstack-service-api.venus', venusAPI); var url = '/api/venus/log_storage_days'; .catch(function () { // toastService.add('error', gettext('Unable to fetch the venus log storage days.')); }); var url = '/api/venus/logs'; .catch(function () { // toastService.add('error', gettext('Unable to fetch the venus logs.')); });"," .module('horizon.app.core.openstack-service-api') .factory('horizon.app.core.openstack-service-api.venus', venusAPI); var url = '/api/venus/log_storage_days/'; .catch(function () { // toastService.add('error', gettext('Unable to fetch the venus log storage days.')); }); var url = '/api/venus/logs/'; .catch(function () { // toastService.add('error', gettext('Unable to fetch the venus logs.')); });",16,18
openstack%2Fnova~master~Id71c8816cffb2dcea4b59d7c4ee5a800cb6b28fa,openstack/nova,master,Id71c8816cffb2dcea4b59d7c4ee5a800cb6b28fa,Optimize the code in _get_scsi_controller_next_unit,NEW,2022-05-21 15:35:08.000000000,2022-05-31 00:49:09.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-21 15:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c15b9d95521d8d619a25171ffdad06d67c1b32f', 'message': 'Optimize the code in _get_scsi_controller_next_unit\n\nTo make code more elegant\n\nChange-Id: Id71c8816cffb2dcea4b59d7c4ee5a800cb6b28fa\n'}, {'number': 2, 'created': '2022-05-22 13:55:12.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3d9d7700933a06b5502949d7f7e12d75e60baf9e', 'message': 'Optimize the code in _get_scsi_controller_next_unit\n\nTo make code more elegant\n\nChange-Id: Id71c8816cffb2dcea4b59d7c4ee5a800cb6b28fa\n'}]",2,842845,3d9d7700933a06b5502949d7f7e12d75e60baf9e,21,2,2,31827,,,0,"Optimize the code in _get_scsi_controller_next_unit

To make code more elegant

Change-Id: Id71c8816cffb2dcea4b59d7c4ee5a800cb6b28fa
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/842845/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,0c15b9d95521d8d619a25171ffdad06d67c1b32f,, ret = [-1] return max(ret) + 1, ret = [] return max(ret) + 1 if ret else 0,2,2
openstack%2Fcharm-deployment-guide~master~I4b24ca746d3335dce90a464e49b3a068e6464f6c,openstack/charm-deployment-guide,master,I4b24ca746d3335dce90a464e49b3a068e6464f6c,Add operation: change network MTU,ABANDONED,2021-05-17 23:03:58.000000000,2022-05-31 00:36:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-05-17 23:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/af320d716cb1d730147c3f842e00b2e10f81278b', 'message': 'Add operation: change network MTU\n\nAdd a new cloud operation for changing the network\nMTU.\n\nChange-Id: I4b24ca746d3335dce90a464e49b3a068e6464f6c\n'}, {'number': 2, 'created': '2021-06-07 17:33:24.000000000', 'files': ['deploy-guide/source/media/maas-subnets-vlan-mtu.png', 'deploy-guide/source/operational-tasks.rst', 'deploy-guide/source/ops-change-network-mtu.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/f3648127b4be26e6fec834a470c2df27448e8855', 'message': 'Add operation: change network MTU\n\nAdd a new cloud operation for changing the network\nMTU.\n\nChange-Id: I4b24ca746d3335dce90a464e49b3a068e6464f6c\n'}]",0,791841,f3648127b4be26e6fec834a470c2df27448e8855,7,2,2,30561,,,0,"Add operation: change network MTU

Add a new cloud operation for changing the network
MTU.

Change-Id: I4b24ca746d3335dce90a464e49b3a068e6464f6c
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/41/791841/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/media/maas-subnets-vlan-mtu.png', 'deploy-guide/source/operational-tasks.rst', 'deploy-guide/source/ops-change-network-mtu.rst']",3,af320d716cb1d730147c3f842e00b2e10f81278b,cdg-ops,":orphan: ================== Change network MTU ================== Preamble -------- Changing the maximum transfer unit (MTU) setting within your cloud may improve data transfer speed significantly. The standard MTU is 1500 bytes but it can theoretically be set as high as 9000. See `Jumbo frames`_. .. note:: The recommended approach for configuring a non-standard MTU across a cloud is to do so prior to the deployment of the cloud infrastructure nodes (via MAAS). It is far simpler and less fraught with unintended consequences than by doing it on a live deployment. .. warning:: Please become informed of the implications a non-standard MTU may have on networking inside and outside your cloud. In particular, appropriate changes will need to be made to the physical networking equipment. Procedure --------- The configuration needs to apply to both the cloud infrastructure nodes and to the cloud VMs. Cloud nodes ~~~~~~~~~~~ Each cloud node will need to have the MTU set. This can be done at deployment time via MAAS and via `Netplan`_ on existing nodes. MAAS ^^^^ At the MAAS level, the MTU for the appropriate VLAN must be modified. This can be done from within the MAAS web UI or with the MAAS CLI. With the Web UI, navigate to the Subnets tab and select the VLAN. Press the ``Edit`` button, modify the MTU field, and then press ``Save summary``. .. figure:: ./media/maas-subnets-vlan-mtu.png :scale: 80% :alt: MAAS: Subnets > VLAN > MTU *image source: MAAS 2.9.2* With the CLI, you need to know the fabric ID and the VLAN ID. In this example, the fabric ID is '0' and the VLAN ID is also '0': .. code-block:: none maas admin vlan update 0 0 mtu=9000 .. important:: You need to be logged in to MAAS to be able to issue CLI commands. See the MAAS documentation on `MAAS CLI login`_ for help. VMs ~~~ Each cloud VM will need to have its MTU set. This can be done at deployment time via the charms and via `Netplan`_ on existing VMs. Charms ^^^^^^ The ``global-physnet-mtu`` neutron-api charm configuration option needs to be changed. This works for both neutron-openvswitch and OVN topologies: .. code-block:: none juju config neutron-api global-physnet-mtu=9000 .. LINKS .. _MAAS CLI login: https://maas.io/docs/deb/2.9/ui/maas-cli#heading--log-in-required .. _Netplan: https://netplan.io/reference/ .. _Jumbo frames: https://en.wikipedia.org/wiki/Jumbo_frame ",,86,0
openstack%2Fcharm-nova-compute~stable%2Fwallaby~I35cd5c1bd822f6aa75113fef93ae143d4e02321f,openstack/charm-nova-compute,stable/wallaby,I35cd5c1bd822f6aa75113fef93ae143d4e02321f,Migrate charm charmhub for stable/wallaby,MERGED,2022-05-17 18:18:50.000000000,2022-05-30 23:29:19.000000000,2022-05-30 23:29:19.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-17 18:18:50.000000000', 'files': ['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/impish-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/6cb6c802cbd2522a4b4db6d38972cf499dc24aad', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I35cd5c1bd822f6aa75113fef93ae143d4e02321f\n'}]",6,842206,6cb6c802cbd2522a4b4db6d38972cf499dc24aad,17,3,1,20870,,,0,"Migrate charm charmhub for stable/wallaby

- start from stable/wallaby branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/wallaby for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: I35cd5c1bd822f6aa75113fef93ae143d4e02321f
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/06/842206/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/impish-xena.yaml']",29,6cb6c802cbd2522a4b4db6d38972cf499dc24aad,charmhub-migration,,variables: openstack-origin: &openstack-origin distro series: impish comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': constraints: mem=4096M '5': '6': '7': '8': '9': '10': constraints: mem=4096M cores=4 '11': '12': '13': '14': '15': '16': '17': '18': '19': applications: nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers/mysql-router keystone-mysql-router: charm: cs:~openstack-charmers/mysql-router glance-mysql-router: charm: cs:~openstack-charmers/mysql-router neutron-api-mysql-router: charm: cs:~openstack-charmers/mysql-router placement-mysql-router: charm: cs:~openstack-charmers/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' ceph-osd: charm: cs:~openstack-charmers/ceph-osd num_units: 6 storage: osd-devices: '10G' options: source: *openstack-origin to: - '11' - '12' - '13' - '14' - '15' - '16' ceph-mon: charm: cs:~openstack-charmers/ceph-mon num_units: 3 options: source: *openstack-origin monitor-count: '3' to: - '17' - '18' - '19' rabbitmq-server: charm: cs:~openstack-charmers/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '3' nova-cloud-controller: charm: cs:~openstack-charmers/nova-cloud-controller num_units: 1 options: openstack-origin: *openstack-origin network-manager: Neutron debug: true to: - '4' neutron-api: charm: cs:~openstack-charmers/neutron-api num_units: 1 options: manage-neutron-plugin-legacy-mode: true openstack-origin: *openstack-origin flat-network-providers: physnet1 neutron-security-groups: true to: - '5' keystone: charm: cs:~openstack-charmers/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '6' neutron-gateway: charm: cs:~openstack-charmers/neutron-gateway num_units: 1 options: openstack-origin: *openstack-origin bridge-mappings: physnet1:br-ex to: - '7' glance: charm: cs:~openstack-charmers/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '8' neutron-openvswitch: charm: cs:~openstack-charmers/neutron-openvswitch placement: charm: cs:~openstack-charmers/placement num_units: 1 options: openstack-origin: *openstack-origin to: - '9' nova-compute: charm: ../../../nova-compute num_units: 1 storage: ephemeral-device: '40G' options: openstack-origin: *openstack-origin config-flags: auto_assign_floating_ip=False enable-live-migration: false aa-profile-mode: enforce debug: true pool-type: erasure-coded ec-profile-k: 4 ec-profile-m: 2 libvirt-image-backend: rbd to: - '10' relations: - - 'ceph-osd:mon' - 'ceph-mon:osd' - - 'nova-compute:ceph' - 'ceph-mon:client' - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:shared-db' - 'nova-cloud-controller-mysql-router:shared-db' - - 'nova-cloud-controller-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:quantum-network-service' - 'neutron-gateway:quantum-network-service' - - 'neutron-api:shared-db' - 'neutron-api-mysql-router:shared-db' - - 'neutron-api-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-api:neutron-api' - 'nova-cloud-controller:neutron-api' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'rabbitmq-server:amqp' - 'neutron-openvswitch:amqp' - - 'placement:shared-db' - 'placement-mysql-router:shared-db' - - 'placement-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'placement:identity-service' - 'keystone:identity-service' - - 'placement:placement' - 'nova-cloud-controller:placement' ,171,2316
openstack%2Fopenstack-ansible-os_octavia~master~I0fa1b7b25a4b6ced5606018410825e7cf2eac54a,openstack/openstack-ansible-os_octavia,master,I0fa1b7b25a4b6ced5606018410825e7cf2eac54a,Move installation variables collection to beginning,MERGED,2022-05-28 06:05:11.000000000,2022-05-30 22:31:18.000000000,2022-05-30 22:30:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-28 06:05:11.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/f23ca9737d97f52b3787090ef4deb3c1841ea487', 'message': 'Move installation variables collection to beginning\n\nWe need to collect installation method variables as early as we can as\nwe rely on them later on in the play.\n\nChange-Id: I0fa1b7b25a4b6ced5606018410825e7cf2eac54a\n'}]",1,843706,f23ca9737d97f52b3787090ef4deb3c1841ea487,12,3,1,28619,,,0,"Move installation variables collection to beginning

We need to collect installation method variables as early as we can as
we rely on them later on in the play.

Change-Id: I0fa1b7b25a4b6ced5606018410825e7cf2eac54a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/06/843706/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,f23ca9737d97f52b3787090ef4deb3c1841ea487,,"- name: Gather variables for installation method include_vars: ""{{ octavia_install_method }}_install.yml"" tags: - always ",,5,0
openstack%2Fcharm-deployment-guide~master~Idf777582fcb902dcd1f603d04c8f872c579460ff,openstack/charm-deployment-guide,master,Idf777582fcb902dcd1f603d04c8f872c579460ff,Remove compute pages,MERGED,2022-05-30 18:59:01.000000000,2022-05-30 22:11:04.000000000,2022-05-30 22:09:57.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 18:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/a2c2a297aa35db1e4264a11acc46efdae3897eb4', 'message': 'Remove compute pages\n\nRemove the Compute pages as they are being migrated\nto the charm-guide.\n\nAdd HTML redirects (and tests) as a consequence.\n\nDepends-On: Ia334da0ce146567cf260dfe0685ec2ce937c051e\nChange-Id: Idf777582fcb902dcd1f603d04c8f872c579460ff\n'}, {'number': 2, 'created': '2022-05-30 20:31:22.000000000', 'files': ['deploy-guide/source/_extra/.htaccess', 'deploy-guide/source/ironic.rst', 'deploy-guide/source/nova-cells.rst', 'deploy-guide/source/pci-passthrough.rst', 'deploy-guide/source/media/ironic-external-network-topology.png', 'deploy-guide/test/redirect-tests.txt', 'deploy-guide/source/media/ironic-internal-network-topology.png', 'deploy-guide/source/index.rst', 'deploy-guide/source/nfv.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/22ec0b52fd0ef066c8691758936227c6b5a63b02', 'message': 'Remove compute pages\n\nRemove the Compute pages as they are being migrated\nto the charm-guide.\n\nAdd HTML redirects (and tests) as a consequence.\n\nChange-Id: Idf777582fcb902dcd1f603d04c8f872c579460ff\n'}]",1,843954,22ec0b52fd0ef066c8691758936227c6b5a63b02,12,2,2,30561,,,0,"Remove compute pages

Remove the Compute pages as they are being migrated
to the charm-guide.

Add HTML redirects (and tests) as a consequence.

Change-Id: Idf777582fcb902dcd1f603d04c8f872c579460ff
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/54/843954/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/_extra/.htaccess', 'deploy-guide/source/ironic.rst', 'deploy-guide/source/nova-cells.rst', 'deploy-guide/source/pci-passthrough.rst', 'deploy-guide/source/media/ironic-external-network-topology.png', 'deploy-guide/test/redirect-tests.txt', 'deploy-guide/source/media/ironic-internal-network-topology.png', 'deploy-guide/source/index.rst', 'deploy-guide/source/nfv.rst']",9,a2c2a297aa35db1e4264a11acc46efdae3897eb4,remove-compute-pages,,"====================================== Network Functions Virtualization (NFV) ====================================== The nova-compute charm (in conjunction with the nova-cloud-controller and neutron-api charms) supports compute nodes configured for the use in Telco NFV deployments, specifically the following configuration options (YAML excerpt): .. code-block:: yaml nova-compute: hugepages: 60% vcpu-pin-set: ""^0,^2"" reserved-host-memory: 1024 pci-passthrough-whitelist: {""vendor_id"":""1137"",""product_id"":""0071"",""address"":""*:0a:00.*"",""physical_network"":""physnet1""} In this example, compute nodes will be configured with 60% of available RAM for hugepage use (decreasing memory fragmentation in virtual machines, improving performance), and Nova will be configured to reserve CPU cores 0 and 2 and 1024M of RAM for host usage and use the supplied PCI device whitelist as PCI devices that as consumable by virtual machines, including any mapping to underlying provider network names (used for SR-IOV VF/PF port scheduling with Nova and Neutron's SR-IOV support). The ``vcpu-pin-set`` configuration option is a comma-separated list of physical CPU numbers that virtual CPUs can be allocated to by default. Each element should be either a single CPU number, a range of CPU numbers, or a caret followed by a CPU number to be excluded from a previous range. For example: .. code-block:: yaml vcpu-pin-set: ""4-12,^8,15"" The pci-passthrough-whitelist configuration must be specified as follows: A JSON dictionary which describe a whitelisted PCI device. It should take the following format: .. code-block:: console [""device_id"": ""<id>"",] [""product_id"": ""<id>"",] [""address"": ""[[[[<domain>]:]<bus>]:][<slot>][.[<function>]]"" | ""devname"": ""PCI Device Name"",] {""tag"": ""<tag_value>"",} Where '[' indicates zero or one occurrences, '{' indicates zero or multiple occurrences, and '|' mutually exclusive options. Note that any missing fields are automatically wildcarded. Valid examples are: .. code-block:: yaml pci-passthrough-whitelist: {""devname"":""eth0"", ""physical_network"":""physnet""} pci-passthrough-whitelist: {""address"":""*:0a:00.*""} pci-passthrough-whitelist: {""address"":"":0a:00."", ""physical_network"":""physnet1""} pci-passthrough-whitelist: {""vendor_id"":""1137"", ""product_id"":""0071""} pci-passthrough-whitelist: {""vendor_id"":""1137"", ""product_id"":""0071"", ""address"": ""0000:0a:00.1"", ""physical_network"":""physnet1""} The following is invalid, as it specifies mutually exclusive options: .. code-block:: yaml pci-passthrough-whitelist: {""devname"":""eth0"", ""physical_network"":""physnet"", ""address"":""*:0a:00.*""} A JSON list of JSON dictionaries corresponding to the above format. For example: .. code-block:: yaml pci-passthrough-whitelist: [{""product_id"":""0001"", ""vendor_id"":""8086""}, {""product_id"":""0002"", ""vendor_id"":""8086""}] The `OpenStack advanced networking documentation`_ provides further details on whitelist configuration and how to create instances with Neutron ports wired to SR-IOV devices. .. LINKS .. _OpenStack advanced networking documentation: https://docs.openstack.org/neutron/wallaby/admin/config-sriov.html ",8,1069
openstack%2Ftripleo-quickstart-extras~master~I8c5e168a9fd18332c073223726ad3a3e338af04d,openstack/tripleo-quickstart-extras,master,I8c5e168a9fd18332c073223726ad3a3e338af04d,Disable stackviz for tempest centos 8 to unblock gate,MERGED,2022-05-30 13:08:49.000000000,2022-05-30 21:57:15.000000000,2022-05-30 21:57:15.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-05-30 13:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/eff59a04b3939f4ecb4df9e8d3652a3a011c4372', 'message': 'WIP test disabling stackviz for tempest centos 8\n\nAs commented in related bug (see comments/6) we need to disable\ninstallation of stackviz as there are issues with the constraints\nused. This is not a proper fix but if it works can unblock for now\n\nChange-Id: I8c5e168a9fd18332c073223726ad3a3e338af04d\nRelated-Bug: 1976247\n'}, {'number': 2, 'created': '2022-05-30 16:12:21.000000000', 'files': ['playbooks/tasks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8bcf4bfc0f2596776ca6abf284cce6337e097e3d', 'message': 'Disable stackviz for tempest centos 8 to unblock gate\n\nAs commented in related bug (see comments/6) we need to disable\ninstallation of stackviz as there are issues with the constraints\nused. This is not a proper fix but if it works can unblock for now\n\nRelated-Bug: 1976247\n\nChange-Id: I8c5e168a9fd18332c073223726ad3a3e338af04d\n'}]",2,843856,8bcf4bfc0f2596776ca6abf284cce6337e097e3d,17,4,2,8449,,,0,"Disable stackviz for tempest centos 8 to unblock gate

As commented in related bug (see comments/6) we need to disable
installation of stackviz as there are issues with the constraints
used. This is not a proper fix but if it works can unblock for now

Related-Bug: 1976247

Change-Id: I8c5e168a9fd18332c073223726ad3a3e338af04d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/56/843856/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tasks/tempest.yml'],1,eff59a04b3939f4ecb4df9e8d3652a3a011c4372,," # FIXME(chandankumar): centos9 https://bugs.launchpad.net/tripleo/+bug/1953032/comments/5 # TODO(marios): centos8 https://bugs.launchpad.net/tripleo/+bug/1976247 - name: Disable stackviz for CentOS Stream 9 and 8 when: ansible_distribution_major_version is version('8', '>=')"," # FIXME(chandankumar): https://bugs.launchpad.net/tripleo/+bug/1953032/comments/5 # Remove it once the above bug is fixed - name: Disable stackviz for CentOS Stream 9 when: ansible_distribution_major_version is version('9', '>=')",4,4
openstack%2Fopenstack-ansible-os_keystone~master~Iecb5567382d27ae6a875f8937f33aa7bb492252e,openstack/openstack-ansible-os_keystone,master,Iecb5567382d27ae6a875f8937f33aa7bb492252e,Remove old pre service setup tasks.,MERGED,2022-05-29 11:39:34.000000000,2022-05-30 21:43:11.000000000,2022-05-30 21:42:02.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-29 11:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/d5c9a2a9cfd16a5c8bc8a85354ad52cfc6ab0d40', 'message': 'Remove old pre service setup tasks.\n\nThese are now in main_pre.yml and the role should be called seperatley\nwith tasks_from targetting all keystone hosts before being called\nagain with serial: settings appropraite for H/A deployments.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/843740\nChange-Id: Iecb5567382d27ae6a875f8937f33aa7bb492252e\n'}, {'number': 2, 'created': '2022-05-29 12:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/7433bb6100f459f8278b3b56f16032d77c50aac7', 'message': 'Remove old pre service setup tasks.\n\nThese are now in main_pre.yml and the role should be called seperatley\nwith tasks_from targetting all keystone hosts before being called\nagain with serial: settings appropraite for H/A deployments.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/843740\nChange-Id: Iecb5567382d27ae6a875f8937f33aa7bb492252e\n'}, {'number': 3, 'created': '2022-05-29 16:14:13.000000000', 'files': ['tasks/main.yml', 'tasks/keystone_pre_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/d02d038e947a86086db117651258153cb01f7c19', 'message': 'Remove old pre service setup tasks.\n\nThese are now in main_pre.yml and the role should be called seperatley\nwith tasks_from targetting all keystone hosts before being called\nagain with serial: settings appropraite for H/A deployments.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/843740\nChange-Id: Iecb5567382d27ae6a875f8937f33aa7bb492252e\n'}]",2,843741,d02d038e947a86086db117651258153cb01f7c19,20,4,3,25023,,,0,"Remove old pre service setup tasks.

These are now in main_pre.yml and the role should be called seperatley
with tasks_from targetting all keystone hosts before being called
again with serial: settings appropraite for H/A deployments.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/843740
Change-Id: Iecb5567382d27ae6a875f8937f33aa7bb492252e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/41/843741/3 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/keystone_pre_install.yml']",2,d5c9a2a9cfd16a5c8bc8a85354ad52cfc6ab0d40,osa/keystone-keypairs,,"--- # Copyright 2014, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: create the system group group: name: ""{{ keystone_system_group_name }}"" state: ""present"" system: ""yes"" delegate_to: ""{{ item }}"" with_items: ""{{ ansible_play_hosts }}"" when: _keystone_is_first_play_host - name: create additional groups group: name: ""{{ item[1] }}"" state: ""present"" system: ""yes"" delegate_to: ""{{ item[0] }}"" with_nested: - ""{{ ansible_play_hosts }}"" - ""{{ keystone_system_additional_groups }}"" when: _keystone_is_first_play_host - name: Create the keystone system user user: name: ""{{ keystone_system_user_name }}"" group: ""{{ keystone_system_group_name }}"" groups: ""{{ keystone_system_additional_groups | join(',') }}"" comment: ""{{ keystone_system_comment }}"" shell: ""{{ keystone_system_shell }}"" system: ""yes"" createhome: ""yes"" home: ""{{ keystone_system_user_home }}"" delegate_to: ""{{ item }}"" with_items: ""{{ ansible_play_hosts }}"" when: _keystone_is_first_play_host # The fernet key repository is needed on all hosts even if only running against # one host, so the delegation preps the directories on all hosts at once. - name: Create keystone dir file: path: ""{{ item[1].path | default(omit) }}"" src: ""{{ item[1].src | default(omit) }}"" dest: ""{{ item[1].dest | default(omit) }}"" state: ""{{ item[1].state | default('directory') }}"" owner: ""{{ item[1].owner|default(keystone_system_user_name) }}"" group: ""{{ item[1].group|default(keystone_system_group_name) }}"" mode: ""{{ item[1].mode | default(omit) }}"" force: ""{{ item[1].force | default(omit) }}"" with_nested: - ""{{ ansible_play_hosts }}"" - - path: ""/openstack"" mode: ""0755"" owner: ""root"" group: ""root"" - dest: ""/etc/keystone"" mode: ""0755"" - path: ""{{ keystone_credential_key_repository }}"" mode: ""0750"" - path: ""{{ keystone_ldap_domain_config_dir }}"" mode: ""0750"" - path: ""/etc/keystone/ssl"" - path: ""{{ keystone_fernet_tokens_key_repository }}"" mode: ""2750"" - path: ""{{ keystone_system_user_home }}"" - path: ""/var/www/cgi-bin"" owner: root group: root - path: ""/var/www/cgi-bin/keystone"" - path: ""{{ keystone_security_txt_dir }}"" - path: ""/etc/ansible/facts.d"" owner: root group: root delegate_to: ""{{ item[0] }}"" when: _keystone_is_first_play_host - name: Create security.txt file copy: content: ""{{ keystone_security_txt_content }}"" dest: ""{{ keystone_security_txt_dir }}/security.txt"" when: keystone_security_txt_content is defined ",0,101
openstack%2Fos-vif~master~I38c2a7277f33203f3a8b51f01d75ce15730a969f,openstack/os-vif,master,I38c2a7277f33203f3a8b51f01d75ce15730a969f,Change minversion of tox to 3.18.0,MERGED,2021-05-18 13:47:41.000000000,2022-05-30 21:25:38.000000000,2022-05-30 21:24:29.000000000,"[{'_account_id': 9816}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 13:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/2ff3d063722ca3427fdb788153ce7be05dfc1785', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 python in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I38c2a7277f33203f3a8b51f01d75ce15730a969f\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n""}, {'number': 2, 'created': '2021-05-18 13:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/d5ac5d557d33bdaa746bea8a87d071e313f0b8be', 'message': 'Changed minversion of tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace whitelist_externals with allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I38c2a7277f33203f3a8b51f01d75ce15730a969f\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 3, 'created': '2021-05-18 14:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/97531c05143e3774bf1f3775cc0008b340659725', 'message': 'Change minversion of tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace whitelist_externals with allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I38c2a7277f33203f3a8b51f01d75ce15730a969f\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 4, 'created': '2022-03-04 17:04:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/95fbe6abc827404feff5109b4cc72ec723f121a3', 'message': 'Change minversion of tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace whitelist_externals with allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I38c2a7277f33203f3a8b51f01d75ce15730a969f\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}]",8,791970,95fbe6abc827404feff5109b4cc72ec723f121a3,19,4,4,7634,,,0,"Change minversion of tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace whitelist_externals with allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I38c2a7277f33203f3a8b51f01d75ce15730a969f
Signed-off-by: Takashi Natsume <takanattie@gmail.com>
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/70/791970/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2ff3d063722ca3427fdb788153ce7be05dfc1785,update-min-tox,minversion = 3.18.0allowlist_externals =,minversion = 3.1.1whitelist_externals =,2,2
openstack%2Fcharm-guide~master~Ia334da0ce146567cf260dfe0685ec2ce937c051e,openstack/charm-guide,master,Ia334da0ce146567cf260dfe0685ec2ce937c051e,Copy compute pages from deploy-guide,MERGED,2022-05-30 17:41:47.000000000,2022-05-30 20:29:25.000000000,2022-05-30 20:28:07.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 17:41:47.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/media/ironic-internal-network-topology.png', 'doc/source/admin/compute/ironic.rst', 'doc/source/media/ironic-external-network-topology.png', 'doc/source/admin/compute/nova-cells.rst', 'doc/source/admin/compute/nfv.rst', 'doc/source/admin/compute/pci-passthrough.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/f65202e57f79c606b5cfd885140bd86218dcd5d7', 'message': 'Copy compute pages from deploy-guide\n\nThis PR is part of the ongoing work to migrate pages\nfrom the deploy-guide to the charm-guide that are not\nspecific to cloud-deployment.\n\nChange-Id: Ia334da0ce146567cf260dfe0685ec2ce937c051e\n'}]",0,843945,f65202e57f79c606b5cfd885140bd86218dcd5d7,7,2,1,30561,,,0,"Copy compute pages from deploy-guide

This PR is part of the ongoing work to migrate pages
from the deploy-guide to the charm-guide that are not
specific to cloud-deployment.

Change-Id: Ia334da0ce146567cf260dfe0685ec2ce937c051e
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/45/843945/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/compute/ironic.rst', 'doc/source/media/ironic-internal-network-topology.png', 'doc/source/media/ironic-external-network-topology.png', 'doc/source/admin/compute/nova-cells.rst', 'doc/source/admin/compute/nfv.rst', 'doc/source/admin/compute/pci-passthrough.rst']",7,f65202e57f79c606b5cfd885140bd86218dcd5d7,add-compute-pages-from-cdg,"=============== PCI Passthrough =============== Introduction ++++++++++++ PCI pass through allows compute nodes to pass a physical PCI device to a hosted VM. This can be used for direct access to a PCI device inside the VM. For example a GPU or direct access to a physical network interface. The OpenStack charms fully support this feature. The following will document deployment and configuration of the feature. This document will focus on using OpenStack charms, Juju and MAAS. It is worth familiarizing yourself with the generic OpenStack Nova documentation at https://docs.openstack.org/nova/latest/admin/pci-passthrough.html. Example Hardware ~~~~~~~~~~~~~~~~ This document will assume a MAAS environment with compute hosts that have two GPUs per physical host. In this case, a Quadro P5000 with PCI IDs **83:00.0** and **84:00.0** and vendor and product ids of **10de:1bb0**. lspci output: .. code:: bash lspci -nn | grep VGA 83:00.0 VGA compatible controller [0300]: NVIDIA Corporation Device [10de:1bb0] (rev a1) (prog-if 00 [VGA controller]) 84:00.0 VGA compatible controller [0300]: NVIDIA Corporation Device [10de:1bb0] (rev a1) (prog-if 00 [VGA controller]) Infrastructure ++++++++++++++ .. note:: To passthrough PCI devices IOMMU must be enabled for the hardware. Depending on the hardware vendor (Intel or AMD) enable the virtualisation feature in BIOS and set the correct kernel parameter as described bellow (intel_iommu, amd_iommu). Blacklisting the PCI device ~~~~~~~~~~~~~~~~~~~~~~~~~~~ There are certain cases, particularly for GPUs, where we must blacklist the PCI device at the physical host so that its kernel does not load drivers. i.e. stop the physical host's kernel from loading NVIDIA or nouveau drivers for the GPU. The host must be able to cleanly pass the device to libvirt. Most PCI devices can be hot unbound and then bound via vfio-pci or the pci-stub legacy method and therefore do not require blacklisting. However, GPU devices do require blacklisting. This documentation covers the GPU case. The blacklisting documentation is based on the following: https://www.pugetsystems.com/labs/articles/Multiheaded-NVIDIA-Gaming-using-Ubuntu-14-04-KVM-585/ MAAS ~~~~ MAAS tags can also send kernel boot parameters. The tag will therefore serve two purposes: to select physical hosts which have PCI devices installed and to pass kernel parameters in order to blacklist the PCI device stopping the kernel from loading a driver for the device. .. code:: bash maas $MASS_PROFILE tags create name=""pci-pass"" comment=""PCI Passthrough kernel parameters"" kernel_opts=""intel_iommu=on vfio_iommu_type1.allow_unsafe_interrupts=1"" .. note:: A MAAS host with more than one tag that sets kernel parameters will execute only one set. Good practice is to only have one kernel parameter setting tag on any given host to avoid confusion. In Target Changes ~~~~~~~~~~~~~~~~~ The MAAS tag and kernel parameters are only half the blacklisting solution. We also need the host to actively check the blacklisting. This requires setting up some configuration at deploy time. There are a few options on how to accomplish this, however, this document will use cloud init configuration at the Juju model level. For other options to customize the deployed host see: https://docs.maas.io/2.5/en/nodes-custom Juju can customize the host configuration using model level configuration for cloudinit-userdata. We will leverage this feature to do the final configuration of the physical host. .. note:: Model level cloudinit userdata will get executed on all ""machines"" in a model. This includes physical hosts and containers. Take care to ensure any customization scripts will work in all cases. Determine the vendor and product ID of the PCI device from lspci. In our case the GPU's is **10de:1bb0**. Determine the PCI device IDs of the PCI device from lspci. In our case the GPU's are **83:00.0** and **84:00.0**. Determine which driver we are blacklisting. This information can be found in the lspci output ""Kernel modules."" In our case **nvidiafb** and **nouveau**. Base64 encode an /etc/default/grub with the default line set: .. code:: bash echo 'GRUB_DEFAULT=0 GRUB_HIDDEN_TIMEOUT=0 GRUB_HIDDEN_TIMEOUT_QUIET=true GRUB_TIMEOUT=10 GRUB_DISTRIBUTOR=`lsb_release -i -s 2> /dev/null || echo Debian` GRUB_CMDLINE_LINUX_DEFAULT=""intel_iommu=on vfio_iommu_type1.allow_unsafe_interrupts=1 modprobe.blacklist=nvidiafb,nouveau"" GRUB_CMDLINE_LINUX=""""' | base64 Base64 encode the following /etc/rc.local script with the correct PCI device IDS. In our case **0000:83:00.0** and **0000:84:00.0**. .. code:: bash echo 'vfiobind() { dev=""$1"" vendor=$(cat /sys/bus/pci/devices/$dev/vendor) device=$(cat /sys/bus/pci/devices/$dev/device) if [ -e /sys/bus/pci/devices/$dev/driver ]; then echo $dev > /sys/bus/pci/devices/$dev/driver/unbind fi echo $vendor $device > /sys/bus/pci/drivers/vfio-pci/new_id } vfiobind 0000:83:00.0 vfiobind 0000:84:00.0' | base64 Take all the information from above to create the following YAML. Set pci_stub, $BASE64_ENCODED_RC_LOCAL and $BASE64_ENCODED_DEFAULT_GRUB correctly. .. code:: bash cloudinit-userdata: | postruncmd: - ""update-initramfs -u > /root/initramfs-update.log"" - ""update-grub > /root/grub-update.log"" write_files: - path: /etc/initramfs-tools/modules content: pci_stub ids=10de:1bb0 - path: /etc/modules content: | pci_stub vfio vfio_iommu_type1 vfio_pci - path: /etc/rc.local encoding: b64 permissions: '0755' content: $BASE64_ENCODED_RC_LOCAL - path: /etc/default/grub encoding: b64 content: $BASE64_ENCODED_DEFAULT_GRUB Create the juju model with cloudinit-userdata set with this YAML: .. code:: bash juju add-model openstack-deployment --config cloudinit-userdata.yaml For further cloud init documentation for customization see: https://cloudinit.readthedocs.io/en/latest/topics/examples.html Deploy OpenStack ++++++++++++++++ At this point we are ready to deploy OpenStack using the OpenStack charms with Juju and MAAS. The charm deployment guide already documents this process. The only additional settings required are setting the PCI aliases. Manually: .. code:: bash juju config nova-cloud-controller pci-alias='{""vendor_id"":""10de"", ""product_id"":""1bb0"", ""name"":""gpu""}' juju config nova-cloud-controller scheduler-default-filters=""RetryFilter,AvailabilityZoneFilter,CoreFilter,RamFilter,ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,ServerGroupAntiAffinityFilter,ServerGroupAffinityFilter,DifferentHostFilter,SameHostFilter,AggregateInstanceExtraSpecsFilter,PciPassthroughFilter"" juju config nova-compute pci-alias='{""vendor_id"":""10de"", ""product_id"":""1bb0"", ""name"":""gpu""}' juju config nova-compute pci-passthrough-whitelist='{ ""vendor_id"": ""10de"", ""product_id"": ""1bb0"" }' # If passing through a GPU use spice for console which creates a usable VGA device for the VMs juju config nova-cloud-controller console-access-protocol=spice Example bundle snippet. Update the OpenStack bundle. .. code:: bash machines: '0': series: bionic # Use the MAAS tag pci-pass for hosts with the PCI device installed. constraints: tags=pci-pass '1': series: bionic # Use the inverse (NOT) ^pci-pass tag for hosts without the PCI device. constraints: tags=^pci-pass applications: nova-compute: charm: cs:nova-compute num_units: 1 options: pci-alias: '{""vendor_id"":""10de"", ""product_id"":""1bb0"", ""name"":""gpu""}' pci-passthrough-whitelist: '{ ""vendor_id"": ""10de"", ""product_id"": ""1bb0"" }' to: - '0' nova-cloud-controller: charm: cs:nova-cloud-controller num_units: 1 options: pci-alias: '{""vendor_id"":""10de"", ""product_id"":""1bb0"", ""name"":""gpu""}' scheduler-default-filters=""RetryFilter,AvailabilityZoneFilter,CoreFilter,RamFilter,ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,ServerGroupAntiAffinityFilter,ServerGroupAffinityFilter,DifferentHostFilter,SameHostFilter,AggregateInstanceExtraSpecsFilter,PciPassthroughFilter"" console-access-protocol: spice to: - lxd:1 Post Deployment ~~~~~~~~~~~~~~~ Create a flavor. Set the pci_passthrough property with the alias name set above, in our case **gpu** and the number of devices to pass in this case 1. .. code:: bash openstack flavor create --ram 8192 --disk 100 --vcpu 8 m1.gpu openstack flavor set m1.gpu --property ""pci_passthrough:alias""=""gpu:1"" Boot an instance with the PCI device passed through. Use the flavor just created: .. code:: bash openstack server create --key-name $KEY --image $IMAGE --nic net-id=$NETWORK --flavor m1.gpu gpu-enabled-vm SSH onto the VM and run lspci to see the PCI device in the VM. In our case the NVIDIA **1bb0**. .. code:: bash $ lspci 00:00.0 Host bridge: Intel Corporation 440FX - 82441FX PMC [Natoma] (rev 02) 00:01.0 ISA bridge: Intel Corporation 82371SB PIIX3 ISA [Natoma/Triton II] 00:01.1 IDE interface: Intel Corporation 82371SB PIIX3 IDE [Natoma/Triton II] 00:01.2 USB controller: Intel Corporation 82371SB PIIX3 USB [Natoma/Triton II] (rev 01) 00:01.3 Bridge: Intel Corporation 82371AB/EB/MB PIIX4 ACPI (rev 03) 00:02.0 VGA compatible controller: Red Hat, Inc. QXL paravirtual graphic card (rev 04) 00:03.0 Ethernet controller: Red Hat, Inc Virtio network device 00:04.0 Communication controller: Red Hat, Inc Virtio console 00:05.0 SCSI storage controller: Red Hat, Inc Virtio block device 00:06.0 VGA compatible controller: NVIDIA Corporation Device 1bb0 (rev a1) 00:07.0 Unclassified device [00ff]: Red Hat, Inc Virtio memory balloon Boot an instance without a PCI device passed. Use any flavor without the pci_passthrough property set. The PciPassthroughFilter will do the right thing. .. code:: bash openstack server create --key-name $KEY --image $IMAGE --nic net-id=$NETWORK --flavor m1.medium no-gpu-vm ",,1071,0
openstack%2Fcharm-deployment-guide~master~I90fd395c1a31d3e59f480a8dd0bb8fcf58915e83,openstack/charm-deployment-guide,master,I90fd395c1a31d3e59f480a8dd0bb8fcf58915e83,Modifications pursuant to golden path tutorial,MERGED,2022-05-20 22:00:13.000000000,2022-05-30 20:27:27.000000000,2022-05-30 20:26:13.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-20 22:00:13.000000000', 'files': ['deploy-guide/source/install-openstack-bundle.rst', 'deploy-guide/source/install-openstack.rst', 'deploy-guide/source/configure-openstack.rst', 'deploy-guide/source/manila-ganesha.rst', 'deploy-guide/source/install-overview.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/847fc07a35a6986bae38d31a3135833b81a328d0', 'message': 'Modifications pursuant to golden path tutorial\n\nNow that the golden path tutorial has received\nsufficient polish, this PR makes modifications to the\nDeploy Guide accordingly.\n\n* Point to the tutorial and remove the\n  install-openstack-bundle page.\n\n* Reword, refactor, and deal with a link.\n\nChange-Id: I90fd395c1a31d3e59f480a8dd0bb8fcf58915e83\n'}]",1,842815,847fc07a35a6986bae38d31a3135833b81a328d0,7,2,1,30561,,,0,"Modifications pursuant to golden path tutorial

Now that the golden path tutorial has received
sufficient polish, this PR makes modifications to the
Deploy Guide accordingly.

* Point to the tutorial and remove the
  install-openstack-bundle page.

* Reword, refactor, and deal with a link.

Change-Id: I90fd395c1a31d3e59f480a8dd0bb8fcf58915e83
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/15/842815/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/install-openstack-bundle.rst', 'deploy-guide/source/install-openstack.rst', 'deploy-guide/source/configure-openstack.rst', 'deploy-guide/source/manila-ganesha.rst', 'deploy-guide/source/install-overview.rst']",5,847fc07a35a6986bae38d31a3135833b81a328d0,point-to-golden-path,".. note:: The cloud will be deployed charm-by-charm. This method will provide a solid understanding of how Charmed OpenStack is put together. For a streamlined path towards a working cloud, consider the `Getting started tutorial`_ found in the Charm Guide. .. _Getting started tutorial: https://docs.openstack.org/charm-guide/latest/getting-started/index.html",,28,79
openstack%2Fcharm-guide~master~I2991101926325b4de0f93bab9c856762d0d5809e,openstack/charm-guide,master,I2991101926325b4de0f93bab9c856762d0d5809e,Set up pages for Zed release,MERGED,2022-05-19 16:02:36.000000000,2022-05-30 20:25:39.000000000,2022-05-30 20:24:09.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-19 16:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/55b425a57a864ea2d969fb842290326ca46aaf7d', 'message': ""Set up pages for Zed release\n\nAdd release notes page (with milestone 'Zed')\n\nAdd entry to the release schedule page\n\nDrive-by:\n  Minor improvements to release notes template page\n\nChange-Id: I2991101926325b4de0f93bab9c856762d0d5809e\n""}, {'number': 2, 'created': '2022-05-30 14:39:30.000000000', 'files': ['doc/source/release-notes/release-notes-template.rst', 'doc/source/release-notes/zed.rst', 'doc/source/project/release-schedule.rst', 'doc/source/release-notes/index.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8d1de91030776c1a2a41fa7485f72d403f74ed20', 'message': ""Set up pages for Zed release\n\nAdd release notes page (with milestone 'Zed')\n\nAdd entry to the release schedule page\n\nDrive-by:\n  Minor improvements to release notes template page\n\nChange-Id: I2991101926325b4de0f93bab9c856762d0d5809e\n""}]",0,842557,8d1de91030776c1a2a41fa7485f72d403f74ed20,11,2,2,30561,,,0,"Set up pages for Zed release

Add release notes page (with milestone 'Zed')

Add entry to the release schedule page

Drive-by:
  Minor improvements to release notes template page

Change-Id: I2991101926325b4de0f93bab9c856762d0d5809e
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/57/842557/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/release-notes/release-notes-template.rst', 'doc/source/release-notes/zed.rst', 'doc/source/project/release-schedule.rst', 'doc/source/release-notes/index.rst']",4,55b425a57a864ea2d969fb842290326ca46aaf7d,add-zed-release-notes,Under development: * :doc:`zed` zed,,121,7
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ibe4b34ddc0e4ab189b97f15c4cb0f5a488ea1339,openstack/tripleo-heat-templates,stable/wallaby,Ibe4b34ddc0e4ab189b97f15c4cb0f5a488ea1339,[DNM] Irrelevant change to test a patch for tripleo-quickstart,ABANDONED,2022-05-27 07:26:05.000000000,2022-05-30 20:00:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-27 07:26:05.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d99a78e10dccfd3ef019380ea0954b10d4be7f83', 'message': '[DNM] Irrelevant change to test a patch for tripleo-quickstart\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/843570\nChange-Id: Ibe4b34ddc0e4ab189b97f15c4cb0f5a488ea1339\n'}]",1,843571,d99a78e10dccfd3ef019380ea0954b10d4be7f83,8,2,1,32962,,,0,"[DNM] Irrelevant change to test a patch for tripleo-quickstart

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/843570
Change-Id: Ibe4b34ddc0e4ab189b97f15c4cb0f5a488ea1339
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/843571/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,d99a78e10dccfd3ef019380ea0954b10d4be7f83,aoc-branching,,,0,1
openstack%2Ftripleo-quickstart~master~I6ef818c2df4fa6229682c572b9bc2bc69edb937f,openstack/tripleo-quickstart,master,I6ef818c2df4fa6229682c572b9bc2bc69edb937f,Choose Ansible OpenStack collection based on OpenStack release,ABANDONED,2022-05-27 07:11:58.000000000,2022-05-30 19:59:39.000000000,,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-05-27 07:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/15cb23cf554526b837184f80277f48a079d0132d', 'message': ""Choose Ansible OpenStack collection based on OpenStack release\n\nOpenStack SDK's first major release 1.0.0 (and its release candidates\n0.99.x) are not backward compatible to older SDK releases. Since Ansible\nOpenStack collection is closely tied to OpenStack SDK it split its code\nbase into two release series 1.x.x and 2.x.x. The former being\ncompatible with SDK prior to 0.99.0 and the latter being compatible to\nSDK >=0.99.0.\n\nThis patch downgrades Ansible OpenStack collection to a 1.x.x release by\ninstalling from its stable/1.0.0 branch for all OpenStack releases which\nhave older OpenStack SDK releases <0.99.0.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/843226\nCloses-Bug: 1975646\nChange-Id: I6ef818c2df4fa6229682c572b9bc2bc69edb937f\n""}, {'number': 2, 'created': '2022-05-27 07:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d3a0fd73ba3c47e780f32f5644143c13fb7a9fee', 'message': ""Choose Ansible OpenStack collection based on OpenStack release\n\nOpenStack SDK's first major release 1.0.0 (and its release candidates\n0.99.x) are not backward compatible to older SDK releases. Since Ansible\nOpenStack collection is closely tied to OpenStack SDK it split its code\nbase into two release series 1.x.x and 2.x.x. The former being\ncompatible with SDK prior to 0.99.0 and the latter being compatible to\nSDK >=0.99.0.\n\nThis patch downgrades Ansible OpenStack collection to a 1.x.x release by\ninstalling from its stable/1.0.0 branch for all OpenStack releases which\nhave older OpenStack SDK releases <0.99.0.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/843226\nCloses-Bug: 1975646\nChange-Id: I6ef818c2df4fa6229682c572b9bc2bc69edb937f\n""}, {'number': 3, 'created': '2022-05-27 07:42:17.000000000', 'files': ['quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d71eb9d00db29ae783d00050db5d94a8f0fb5fa0', 'message': ""Choose Ansible OpenStack collection based on OpenStack release\n\nOpenStack SDK's first major release 1.0.0 (and its release candidates\n0.99.x) are not backward compatible to older SDK releases. Since Ansible\nOpenStack collection is closely tied to OpenStack SDK it split its code\nbase into two release series 1.x.x and 2.x.x. The former being\ncompatible with SDK prior to 0.99.0 and the latter being compatible to\nSDK >=0.99.0.\n\nThis patch downgrades Ansible OpenStack collection to a 1.x.x release by\ninstalling from its stable/1.0.0 branch for all OpenStack releases which\nhave older OpenStack SDK releases <0.99.0.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/843226\nCloses-Bug: 1975646\nChange-Id: I6ef818c2df4fa6229682c572b9bc2bc69edb937f\n""}]",6,843570,d71eb9d00db29ae783d00050db5d94a8f0fb5fa0,19,5,3,32962,,,0,"Choose Ansible OpenStack collection based on OpenStack release

OpenStack SDK's first major release 1.0.0 (and its release candidates
0.99.x) are not backward compatible to older SDK releases. Since Ansible
OpenStack collection is closely tied to OpenStack SDK it split its code
base into two release series 1.x.x and 2.x.x. The former being
compatible with SDK prior to 0.99.0 and the latter being compatible to
SDK >=0.99.0.

This patch downgrades Ansible OpenStack collection to a 1.x.x release by
installing from its stable/1.0.0 branch for all OpenStack releases which
have older OpenStack SDK releases <0.99.0.

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/843226
Closes-Bug: 1975646
Change-Id: I6ef818c2df4fa6229682c572b9bc2bc69edb937f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/70/843570/1 && git format-patch -1 --stdout FETCH_HEAD,['quickstart.sh'],1,15cb23cf554526b837184f80277f48a079d0132d,aoc-branching," # Older OpenStack releases provide OpenStack SDK <0.99.0 # which requires Ansible OpenStack collection 1.x.x releases if echo ""queens rocky stein train ussuri victoria wallaby xena yoga"" | \ grep -w -q ""$OPT_RELEASE""; then ansible-galaxy collection install --force \ ""git+https://opendev.org/openstack/ansible-collections-openstack,stable/1.0.0"" \ -p $VIRTUAL_ENV/share/ansible/collections # Else master branch of collection which had been installed earlier fi",,10,0
openstack%2Fbifrost~stable%2Fyoga~I08da25aa73cdf3dc43886bc746431f6082e804a1,openstack/bifrost,stable/yoga,I08da25aa73cdf3dc43886bc746431f6082e804a1,Use libvirt-python from the distribution on Red Hat systems,MERGED,2022-05-18 09:48:01.000000000,2022-05-30 19:23:09.000000000,2022-05-30 19:21:54.000000000,"[{'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-18 09:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e6b87e74273bedaec5f8288ee48114dafb812f3c', 'message': 'Use libvirt-python from the distribution\n\nThe one in PyPI can easily get out of sync, causing breakages.\n\nChange-Id: I08da25aa73cdf3dc43886bc746431f6082e804a1\n(cherry picked from commit e40a1b3155453b55ea1066cc1a52ce4eeed5fc41)\n'}, {'number': 2, 'created': '2022-05-18 10:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b32818ee1e2cc3ab1bff7feac3a137b66c2397d1', 'message': '[WIP] Use libvirt-python from the distribution\n\nThe one in PyPI can easily get out of sync, causing breakages.\n\nChange-Id: I08da25aa73cdf3dc43886bc746431f6082e804a1\n(cherry picked from commit e40a1b3155453b55ea1066cc1a52ce4eeed5fc41)\n'}, {'number': 3, 'created': '2022-05-18 16:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/94f05c4b2a2c53d3b7c9ff6d9f6c69ec8c71787f', 'message': 'Use libvirt-python from the distribution on Red Hat systems\n\nThe one in PyPI can easily get out of sync, causing breakages.\nSince Red Hat systems move pretty quickly, just use the system\npackage (Bifrost creates the venv with system site packages).\n\nChange-Id: I08da25aa73cdf3dc43886bc746431f6082e804a1\n(cherry picked from commit 439fa218916cb81a9416d34d5b22ab44e9c6f986)\n'}, {'number': 4, 'created': '2022-05-18 16:46:14.000000000', 'files': ['playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_CentOS.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_Fedora.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_RedHat.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b90e2934fa235e4368b900f22411a942d112d308', 'message': 'Use libvirt-python from the distribution on Red Hat systems\n\nThe one in PyPI can easily get out of sync, causing breakages.\nSince Red Hat systems move pretty quickly, just use the system\npackage (Bifrost creates the venv with system site packages).\n\nChange-Id: I08da25aa73cdf3dc43886bc746431f6082e804a1\n(cherry picked from commit 8fa29d9834dcc0eb0f58ff6c6ff69888a0408131)\n'}]",8,842302,b90e2934fa235e4368b900f22411a942d112d308,37,3,4,10239,,,0,"Use libvirt-python from the distribution on Red Hat systems

The one in PyPI can easily get out of sync, causing breakages.
Since Red Hat systems move pretty quickly, just use the system
package (Bifrost creates the venv with system site packages).

Change-Id: I08da25aa73cdf3dc43886bc746431f6082e804a1
(cherry picked from commit 8fa29d9834dcc0eb0f58ff6c6ff69888a0408131)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/02/842302/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_Debian.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_CentOS.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_Suse.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_Fedora.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_RedHat.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_Ubuntu_20.04.yml']",7,e6b87e74273bedaec5f8288ee48114dafb812f3c,, - python3-libvirt, - pkg-config - libvirt-dev,15,14
openstack%2Fdevstack~stable%2Fvictoria~I3f6c3914d0a35155dc27bbaf6e8db92b856a4f1f,openstack/devstack,stable/victoria,I3f6c3914d0a35155dc27bbaf6e8db92b856a4f1f,Pin Tempest to 26.1.0 tag for stable/victoria testing,MERGED,2022-05-25 15:29:25.000000000,2022-05-30 19:14:44.000000000,2022-05-30 19:13:34.000000000,"[{'_account_id': 8556}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-05-25 15:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0a08c726adf4ae8215e8419cae9ea41ea080969a', 'message': 'Pin Tempest to 26.1.0 tag for stable/victoria testing\n\nStable victoria is in Extended maintenance state[1] and\nwe need to pin tempest in stable/victoria testing.\n\nWe use Tempest 26.1.0 because of oslo.utils version bump in Tempest\n27.0.0 and 28.0.0 which is not compatible with stable/victoria\nupper constraints so these versions do not work in stable/victoria.\n\nTempest 26.1.0 version is compatible for victoria testing from tempest\nside as well as from upper constraints side.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/843293\nChange-Id: I3f6c3914d0a35155dc27bbaf6e8db92b856a4f1f\n'}, {'number': 2, 'created': '2022-05-25 21:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/39481e041dd2b4f591b7ae40a1cc506063546fef', 'message': 'Pin Tempest to 26.1.0 tag for stable/victoria testing\n\nStable victoria is in Extended maintenance state[1] and\nwe need to pin tempest in stable/victoria testing.\n\nWe use Tempest 26.1.0 because of oslo.utils version bump in Tempest\n27.0.0 and 28.0.0 which is not compatible with stable/victoria\nupper constraints so these versions do not work in stable/victoria.\n\nTempest 26.1.0 version is compatible for victoria testing from tempest\nside as well as from upper constraints side.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/843293\nChange-Id: I3f6c3914d0a35155dc27bbaf6e8db92b856a4f1f\n'}, {'number': 3, 'created': '2022-05-26 01:56:12.000000000', 'files': ['tests/test_refs.sh', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/136d8bb2e0068b016422075c5759e0eeb9405258', 'message': 'Pin Tempest to 26.1.0 tag for stable/victoria testing\n\nStable victoria is in Extended maintenance state[1] and\nwe need to pin tempest in stable/victoria testing.\n\nWe use Tempest 26.1.0 because of oslo.utils version bump in Tempest\n27.0.0 and 28.0.0 which is not compatible with stable/victoria\nupper constraints so these versions do not work in stable/victoria.\n\nTempest 26.1.0 version is compatible for victoria testing from tempest\nside as well as from upper constraints side.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/843293\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/843354\nChange-Id: I3f6c3914d0a35155dc27bbaf6e8db92b856a4f1f\n'}]",1,843295,136d8bb2e0068b016422075c5759e0eeb9405258,13,4,3,8556,,,0,"Pin Tempest to 26.1.0 tag for stable/victoria testing

Stable victoria is in Extended maintenance state[1] and
we need to pin tempest in stable/victoria testing.

We use Tempest 26.1.0 because of oslo.utils version bump in Tempest
27.0.0 and 28.0.0 which is not compatible with stable/victoria
upper constraints so these versions do not work in stable/victoria.

Tempest 26.1.0 version is compatible for victoria testing from tempest
side as well as from upper constraints side.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/843293
Depends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/843354
Change-Id: I3f6c3914d0a35155dc27bbaf6e8db92b856a4f1f
",git fetch https://review.opendev.org/openstack/devstack refs/changes/95/843295/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_refs.sh', 'stackrc']",2,0a08c726adf4ae8215e8419cae9ea41ea080969a,victoria-pin-tempest,TEMPEST_BRANCH=${TEMPEST_BRANCH:-$26.1.0} TEMPEST_VENV_UPPER_CONSTRAINTS=${TEMPEST_VENV_UPPER_CONSTRAINTS:-$REQUIREMENTS_DIR/upper-constraints.txt},TEMPEST_BRANCH=${TEMPEST_BRANCH:-$BRANCHLESS_TARGET_BRANCH} TEMPEST_VENV_UPPER_CONSTRAINTS=${TEMPEST_VENV_UPPER_CONSTRAINTS:-master},3,3
openstack%2Fnetworking-baremetal~master~I0d5674fd5a3319601130b5209bf150afa0e30b50,openstack/networking-baremetal,master,I0d5674fd5a3319601130b5209bf150afa0e30b50,DNM - Testing CI - neutron segment host mapping issue,ABANDONED,2022-05-19 17:20:35.000000000,2022-05-30 18:53:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-19 17:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/067618349bfa2dad584c2ad197e3b7da0966fc04', 'message': 'DNM - Testing CI - neutron segment host mapping issue\n\nDepends-On: https://review.opendev.org/842576\nChange-Id: I0d5674fd5a3319601130b5209bf150afa0e30b50\n'}, {'number': 2, 'created': '2022-05-25 13:23:13.000000000', 'files': ['networking_baremetal/plugins/ml2/baremetal_mech.py'], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/16e4c839c0a311a9d23113dc1507c446d1d9a19c', 'message': 'DNM - Testing CI - neutron segment host mapping issue\n\nDepends-On: https://review.opendev.org/843256\nChange-Id: I0d5674fd5a3319601130b5209bf150afa0e30b50\n'}]",1,842578,16e4c839c0a311a9d23113dc1507c446d1d9a19c,7,1,2,24245,,,0,"DNM - Testing CI - neutron segment host mapping issue

Depends-On: https://review.opendev.org/843256
Change-Id: I0d5674fd5a3319601130b5209bf150afa0e30b50
",git fetch https://review.opendev.org/openstack/networking-baremetal refs/changes/78/842578/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_baremetal/plugins/ml2/baremetal_mech.py'],1,067618349bfa2dad584c2ad197e3b7da0966fc04,networking-baremetal-test-ci, LOG.warning('Do not merge! Testing CI') ,,2,0
openstack%2Fneutron~stable%2Fwallaby~Ifb500eef5513e930bf3a22d99183ca348e5fc427,openstack/neutron,stable/wallaby,Ifb500eef5513e930bf3a22d99183ca348e5fc427,Refactor the OVN revision module to access the DB correctly,MERGED,2022-05-26 15:01:48.000000000,2022-05-30 18:37:58.000000000,2022-05-30 18:36:37.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 15:01:48.000000000', 'files': ['neutron/db/ovn_revision_numbers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/51f277f7e728c4f1acfb647571ab5604e7a5cbfc', 'message': 'Refactor the OVN revision module to access the DB correctly\n\nMethod ``_ensure_revision_row_exist`` creates a DB reader context\nwhen called from ``bump_revision``. This call is always done from\ninside a DB write context. This method removes the unneded reader\ncontext.\n\nCloses-Bug: #1975837\nChange-Id: Ifb500eef5513e930bf3a22d99183ca348e5fc427\n(cherry picked from commit 39d751a33265e8780828b3aca10a781726d0a300)\n'}]",5,843482,51f277f7e728c4f1acfb647571ab5604e7a5cbfc,28,3,1,16688,,,0,"Refactor the OVN revision module to access the DB correctly

Method ``_ensure_revision_row_exist`` creates a DB reader context
when called from ``bump_revision``. This call is always done from
inside a DB write context. This method removes the unneded reader
context.

Closes-Bug: #1975837
Change-Id: Ifb500eef5513e930bf3a22d99183ca348e5fc427
(cherry picked from commit 39d751a33265e8780828b3aca10a781726d0a300)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/843482/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/ovn_revision_numbers_db.py'],1,51f277f7e728c4f1acfb647571ab5604e7a5cbfc,bug/1975837," if context.session.query(ovn_models.OVNRevisionNumbers).filter_by( resource_uuid=resource['id'], resource_type=resource_type).one_or_none(): return LOG.warning( 'No revision row found for %(res_uuid)s (type: ' '%(res_type)s) when bumping the revision number. ' 'Creating one.', {'res_uuid': resource['id'], 'res_type': resource_type}) create_initial_revision(context, resource['id'], resource_type, std_attr_id=std_attr_id)"," with db_api.CONTEXT_READER.using(context): if not context.session.query(ovn_models.OVNRevisionNumbers).filter_by( resource_uuid=resource['id'], resource_type=resource_type).one_or_none(): LOG.warning( 'No revision row found for %(res_uuid)s (type: ' '%(res_type)s) when bumping the revision number. ' 'Creating one.', {'res_uuid': resource['id'], 'res_type': resource_type}) create_initial_revision(context, resource['id'], resource_type, std_attr_id=std_attr_id)",12,11
openstack%2Fneutron~master~I96af21382d04aa8bff63885c891992555e82c0ba,openstack/neutron,master,I96af21382d04aa8bff63885c891992555e82c0ba,Update ci jobs docs,MERGED,2022-05-27 14:00:23.000000000,2022-05-30 17:49:09.000000000,2022-05-30 17:44:20.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-05-27 14:00:23.000000000', 'files': ['doc/source/contributor/testing/ci_scenario_jobs.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4fe128d7e3d925b900f7d4ea43cd032533caf023', 'message': 'Update ci jobs docs\n\nPatch [1] dropped neutron-tempest-plugin-api job and combined it with\nthe scenario jobs.\nThis patch updates documentation accordingly.\n\n[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/836912\n\nChange-Id: I96af21382d04aa8bff63885c891992555e82c0ba\n'}]",1,843619,4fe128d7e3d925b900f7d4ea43cd032533caf023,10,4,1,11975,,,0,"Update ci jobs docs

Patch [1] dropped neutron-tempest-plugin-api job and combined it with
the scenario jobs.
This patch updates documentation accordingly.

[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/836912

Change-Id: I96af21382d04aa8bff63885c891992555e82c0ba
",git fetch https://review.opendev.org/openstack/neutron refs/changes/19/843619/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/testing/ci_scenario_jobs.rst'],1,4fe128d7e3d925b900f7d4ea43cd032533caf023,improve-neutron-ci, |neutron-tempest-plugin-linuxbridge |neutron_tempest_plugin.api | 3.6 | 1 | linuxbridge | iptables | ha | False | False | False | Yes | | |neutron_tempest_plugin.scenario | | | | | | | | | | |neutron-tempest-plugin-openvswitch |neutron_tempest_plugin.api | 3.6 | 1 | openvswitch | openvswitch | ha | False | False | False | Yes | | |neutron_tempest_plugin.scenario | | | | | | | | | | |neutron-tempest-plugin-openvswitch-\ |neutron_tempest_plugin.api | 3.6 | 1 | openvswitch | iptables_hybrid | ha | False | False | False | Yes | | iptables_hybrid |neutron_tempest_plugin.scenario | | | | | | | | | | |, |neutron-tempest-plugin-api |neutron_tempest_plugin.api | 3.6 | 1 | openvswitch | openvswitch | legacy | False | False | True | Yes | +----------------------------------------------+----------------------------------+---------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-tempest-plugin-scenario-linuxbridge |neutron_tempest_plugin.scenario | 3.6 | 1 | linuxbridge | iptables | ha | False | False | False | Yes | |neutron-tempest-plugin-scenario-openvswitch |neutron_tempest_plugin.scenario | 3.6 | 1 | openvswitch | openvswitch | ha | False | False | False | Yes | |neutron-tempest-plugin-scenario-openvswitch-\ |neutron_tempest_plugin.scenario | 3.6 | 1 | openvswitch | iptables_hybrid | ha | False | False | False | Yes | | iptables_hybrid | | | | | | | | | | |,6,6
openstack%2Fneutron~stable%2Fxena~Ib19dacf886486876237ed1157fb95ae157ed430e,openstack/neutron,stable/xena,Ib19dacf886486876237ed1157fb95ae157ed430e,"Remove session active check in ""_add_segment_host_mapping_for_segment""",MERGED,2022-05-27 14:58:13.000000000,2022-05-30 17:48:03.000000000,2022-05-30 17:44:05.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 14:58:13.000000000', 'files': ['neutron/services/segments/db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/874bccaae4a011d52378ae98c8747fe1734e9111', 'message': 'Remove session active check in ""_add_segment_host_mapping_for_segment""\n\nMethod ``_add_segment_host_mapping_for_segment`` is called by the event\n(resources.SEGMENT, events.PRECOMMIT_CREATE), from\n``SegmentDbMixin._create_segment_db``, and is called inside a database\nwriter context. That means it is irrelevant to check if the session is\nactive (must be always).\n\nCloses-Bug: #1975542\n\nConflicts:\n    neutron/services/segments/db.py\n\nChange-Id: Ib19dacf886486876237ed1157fb95ae157ed430e\n(cherry picked from commit d89d7bd5e6477a1ad24165831dbc5f1e2fc357b5)\n'}]",2,843626,874bccaae4a011d52378ae98c8747fe1734e9111,13,3,1,16688,,,0,"Remove session active check in ""_add_segment_host_mapping_for_segment""

Method ``_add_segment_host_mapping_for_segment`` is called by the event
(resources.SEGMENT, events.PRECOMMIT_CREATE), from
``SegmentDbMixin._create_segment_db``, and is called inside a database
writer context. That means it is irrelevant to check if the session is
active (must be always).

Closes-Bug: #1975542

Conflicts:
    neutron/services/segments/db.py

Change-Id: Ib19dacf886486876237ed1157fb95ae157ed430e
(cherry picked from commit d89d7bd5e6477a1ad24165831dbc5f1e2fc357b5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/843626/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/segments/db.py'],1,874bccaae4a011d52378ae98c8747fe1734e9111,bug/1975542,," if not context.session.is_active: # The session might be in partial rollback state, due to errors in # peer callback. In that case, there is no need to add the mapping. # Just return here. return ",0,6
openstack%2Fneutron~master~Ibad1ee5d0f61d112bae435b6e0cf4d815d705f4e,openstack/neutron,master,Ibad1ee5d0f61d112bae435b6e0cf4d815d705f4e,Use new combined neutron_tempest_plugin as nftables jobs parent,MERGED,2022-05-27 14:00:23.000000000,2022-05-30 17:47:54.000000000,2022-05-30 17:44:15.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 14:00:23.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f2445b09aeadf342a39c95613bfc95476de2ebf1', 'message': 'Use new combined neutron_tempest_plugin as nftables jobs parent\n\nPatch [1] removed neutron-tempest-plugin-api job and combined it with\nthe ""-scenario"" jobs. It also changed names of those jobs by dropping\n""scenario"" word from it.\nThis patch updates accordingly nftables based jobs which are defined in\nthe neutron repo.\n\n[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/836912\n\nChange-Id: Ibad1ee5d0f61d112bae435b6e0cf4d815d705f4e\n'}]",0,843618,f2445b09aeadf342a39c95613bfc95476de2ebf1,9,3,1,11975,,,0,"Use new combined neutron_tempest_plugin as nftables jobs parent

Patch [1] removed neutron-tempest-plugin-api job and combined it with
the ""-scenario"" jobs. It also changed names of those jobs by dropping
""scenario"" word from it.
This patch updates accordingly nftables based jobs which are defined in
the neutron repo.

[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/836912

Change-Id: Ibad1ee5d0f61d112bae435b6e0cf4d815d705f4e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/843618/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,f2445b09aeadf342a39c95613bfc95476de2ebf1,improve-neutron-ci, name: neutron-linuxbridge-tempest-plugin-nftables parent: neutron-tempest-plugin-linuxbridge name: neutron-ovs-tempest-plugin-iptables_hybrid-nftables parent: neutron-tempest-plugin-openvswitch-iptables_hybrid, name: neutron-linuxbridge-tempest-plugin-scenario-nftables parent: neutron-tempest-plugin-scenario-linuxbridge name: neutron-ovs-tempest-plugin-scenario-iptables_hybrid-nftables parent: neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid,4,4
openstack%2Fneutron~stable%2Fwallaby~Ib19dacf886486876237ed1157fb95ae157ed430e,openstack/neutron,stable/wallaby,Ib19dacf886486876237ed1157fb95ae157ed430e,"Remove session active check in ""_add_segment_host_mapping_for_segment""",MERGED,2022-05-27 14:59:55.000000000,2022-05-30 17:47:52.000000000,2022-05-30 17:44:10.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 14:59:55.000000000', 'files': ['neutron/services/segments/db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2546075591f55cc242185a58a8cf9f2875bff58', 'message': 'Remove session active check in ""_add_segment_host_mapping_for_segment""\n\nMethod ``_add_segment_host_mapping_for_segment`` is called by the event\n(resources.SEGMENT, events.PRECOMMIT_CREATE), from\n``SegmentDbMixin._create_segment_db``, and is called inside a database\nwriter context. That means it is irrelevant to check if the session is\nactive (must be always).\n\nCloses-Bug: #1975542\n\nConflicts:\n    neutron/services/segments/db.py\n\nChange-Id: Ib19dacf886486876237ed1157fb95ae157ed430e\n(cherry picked from commit d89d7bd5e6477a1ad24165831dbc5f1e2fc357b5)\n(cherry picked from commit 874bccaae4a011d52378ae98c8747fe1734e9111)\n'}]",0,843627,e2546075591f55cc242185a58a8cf9f2875bff58,11,3,1,16688,,,0,"Remove session active check in ""_add_segment_host_mapping_for_segment""

Method ``_add_segment_host_mapping_for_segment`` is called by the event
(resources.SEGMENT, events.PRECOMMIT_CREATE), from
``SegmentDbMixin._create_segment_db``, and is called inside a database
writer context. That means it is irrelevant to check if the session is
active (must be always).

Closes-Bug: #1975542

Conflicts:
    neutron/services/segments/db.py

Change-Id: Ib19dacf886486876237ed1157fb95ae157ed430e
(cherry picked from commit d89d7bd5e6477a1ad24165831dbc5f1e2fc357b5)
(cherry picked from commit 874bccaae4a011d52378ae98c8747fe1734e9111)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/843627/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/segments/db.py'],1,e2546075591f55cc242185a58a8cf9f2875bff58,bug/1975542,," if not context.session.is_active: # The session might be in partial rollback state, due to errors in # peer callback. In that case, there is no need to add the mapping. # Just return here. return ",0,6
openstack%2Fopenstack-ansible~master~Ib3efe0c43e20904cfbd9b89523e5118413c2282e,openstack/openstack-ansible,master,Ib3efe0c43e20904cfbd9b89523e5118413c2282e,Run keystone pre-service setup tasks on all keystone hosts first,MERGED,2022-05-29 11:33:22.000000000,2022-05-30 17:28:26.000000000,2022-05-30 17:26:32.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-29 11:33:22.000000000', 'files': ['playbooks/os-keystone-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/54b0872278deefb70cb61b62123bc3d96d0bc23b', 'message': 'Run keystone pre-service setup tasks on all keystone hosts first\n\nSome of these tasks, such as setting up ssh keys are required to\nbe complete on all hosts before the main keystone service deployment\nhappens.\n\nThis change runs a specific tasks file from the os_keystone role\nacross all of the keystone hosts to do the initial setup, before the\nos_keystone role is run again with a serial: setting appropiate for\ndeploying the actual service code in an HA deployment.\n\nCloses-Bug: 1975718\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/843739\nChange-Id: Ib3efe0c43e20904cfbd9b89523e5118413c2282e\n'}]",3,843740,54b0872278deefb70cb61b62123bc3d96d0bc23b,17,4,1,25023,,,0,"Run keystone pre-service setup tasks on all keystone hosts first

Some of these tasks, such as setting up ssh keys are required to
be complete on all hosts before the main keystone service deployment
happens.

This change runs a specific tasks file from the os_keystone role
across all of the keystone hosts to do the initial setup, before the
os_keystone role is run again with a serial: setting appropiate for
deploying the actual service code in an HA deployment.

Closes-Bug: 1975718
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/843739
Change-Id: Ib3efe0c43e20904cfbd9b89523e5118413c2282e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/40/843740/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-keystone-install.yml'],1,54b0872278deefb70cb61b62123bc3d96d0bc23b,osa/keystone-keypairs,"- name: Pre-service deployment hosts: keystone_all gather_facts: false tasks: - name: ""Pre-service deployment tasks from os_keystone role"" include_role: name: os_keystone tasks_from: main_pre.yml tags: - keystone ",,11,0
openstack%2Fpython-tripleoclient~master~I3ee1ddfee39cf70f68d5f5cba42fc87b10dbff78,openstack/python-tripleoclient,master,I3ee1ddfee39cf70f68d5f5cba42fc87b10dbff78,Add warning for duplicate parameters,MERGED,2022-04-14 13:56:53.000000000,2022-05-30 17:15:39.000000000,2022-05-30 17:14:11.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14360}, {'_account_id': 18002}, {'_account_id': 18575}, {'_account_id': 22331}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26787}, {'_account_id': 28223}, {'_account_id': 29466}, {'_account_id': 30073}, {'_account_id': 34757}]","[{'number': 1, 'created': '2022-04-14 13:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eb891903e2de1427fae87ab45efb80947df0d0a0', 'message': 'Add warning for duplicate parameters\n\nWhen an operator is building a cloud the defined parameters within their\ntemplates may override one another based on the order in which the\ntemplates are included in the deploy command. This change creates an\ninspection of user defined templates and will alert operators of\npotential conflicts or problems via a warning should a duplicate be\ndiscovered.\n\n> This was made in response to deployer feedback. While duplicates are\n  likely to always be found on every deployment, this change will\n  highlight those duplicates, which may provide useful clues when an\n  operator is debugging a failed deployment.\n\nrhbz: 2058258\nChange-Id: I3ee1ddfee39cf70f68d5f5cba42fc87b10dbff78\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2022-04-14 16:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2530ed0aedccfd8d4635f57f38ce6e9ae0dfd46b', 'message': 'Add warning for duplicate parameters\n\nWhen an operator is building a cloud the defined parameters within their\ntemplates may override one another based on the order in which the\ntemplates are included in the deploy command. This change creates an\ninspection of user defined templates and will alert operators of\npotential conflicts or problems via a warning should a duplicate be\ndiscovered.\n\n> This was made in response to deployer feedback. While duplicates are\n  likely to always be found on every deployment, this change will\n  highlight those duplicates, which may provide useful clues when an\n  operator is debugging a failed deployment.\n\nrhbz: 2058258\nChange-Id: I3ee1ddfee39cf70f68d5f5cba42fc87b10dbff78\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2022-05-16 16:35:57.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d1a4ce70b72192499cd5072fc327640286fd82c5', 'message': 'Add warning for duplicate parameters\n\nWhen an operator is building a cloud the defined parameters within their\ntemplates may override one another based on the order in which the\ntemplates are included in the deploy command. This change creates an\ninspection of user defined templates and will alert operators of\npotential conflicts or problems via a warning should a duplicate be\ndiscovered.\n\n> This was made in response to deployer feedback. While duplicates are\n  likely to always be found on every deployment, this change will\n  highlight those duplicates, which may provide useful clues when an\n  operator is debugging a failed deployment.\n\nrhbz: 2058258\nChange-Id: I3ee1ddfee39cf70f68d5f5cba42fc87b10dbff78\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",30,837877,d1a4ce70b72192499cd5072fc327640286fd82c5,45,14,3,7353,,,0,"Add warning for duplicate parameters

When an operator is building a cloud the defined parameters within their
templates may override one another based on the order in which the
templates are included in the deploy command. This change creates an
inspection of user defined templates and will alert operators of
potential conflicts or problems via a warning should a duplicate be
discovered.

> This was made in response to deployer feedback. While duplicates are
  likely to always be found on every deployment, this change will
  highlight those duplicates, which may provide useful clues when an
  operator is debugging a failed deployment.

rhbz: 2058258
Change-Id: I3ee1ddfee39cf70f68d5f5cba42fc87b10dbff78
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/77/837877/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",2,eb891903e2de1427fae87ab45efb80947df0d0a0,tripleo|UX,"from collections import defaultdict from urllib.parse import urlparse used_params = defaultdict(int) duplicate_params = dict() for env_file in user_environments: _env_file_parsed = urlparse(env_file) try: with open(_env_file_parsed.path, 'r') as f: _env_map = yaml.safe_load(f) except FileNotFoundError: continue else: self.log.debug('Inspecting ""%s""', _env_file_parsed.path) for k, v in _env_map.get('parameter_defaults', {}).items(): used_params[k] += 1 if used_params[k] > 1: duplicate_params[k] = v for k, v in duplicate_params.items(): self.log.warning( 'Duplicate parameter defined. Key: ""%s"", Current Value: %s', k, yaml.dump(v, default_flow_style=False) ) ",,39,0
openstack%2Fkayobe~stable%2Fyoga~Id9418e4e88c52056412daa22462aa611bfcc59ae,openstack/kayobe,stable/yoga,Id9418e4e88c52056412daa22462aa611bfcc59ae,ironic: Set MTU on provisioning and cleaning Neutron networks,MERGED,2022-05-27 17:51:53.000000000,2022-05-30 17:04:07.000000000,2022-05-30 17:02:48.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 17:51:53.000000000', 'files': ['releasenotes/notes/provision-net-mtu-befdda04224f49a6.yaml', 'ansible/provision-net.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7e9175b9e2e62bbded840174ab8a85b6d0392113', 'message': 'ironic: Set MTU on provisioning and cleaning Neutron networks\n\nPreviously we were not applying an MTU defined in Kayobe networks.yml to\nthe provisioning and cleaning networks in Neutron. This could lead to\nissues when nodes communicate with the Ironic and Inspector APIs.\n\nChange-Id: Id9418e4e88c52056412daa22462aa611bfcc59ae\n(cherry picked from commit cd24b6d98e1b82ab9c255e3e5ddbaed99c49067f)\n'}]",1,843663,7e9175b9e2e62bbded840174ab8a85b6d0392113,10,3,1,14200,,,0,"ironic: Set MTU on provisioning and cleaning Neutron networks

Previously we were not applying an MTU defined in Kayobe networks.yml to
the provisioning and cleaning networks in Neutron. This could lead to
issues when nodes communicate with the Ironic and Inspector APIs.

Change-Id: Id9418e4e88c52056412daa22462aa611bfcc59ae
(cherry picked from commit cd24b6d98e1b82ab9c255e3e5ddbaed99c49067f)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/63/843663/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/provision-net-mtu-befdda04224f49a6.yaml', 'ansible/provision-net.yml']",2,7e9175b9e2e62bbded840174ab8a85b6d0392113,ironic-mtu," mtu: ""{{ provision_wl_net_name | net_mtu | default(omit, True) }}"" mtu: ""{{ cleaning_net_name | net_mtu | default(omit, True) }}""",,7,0
openstack%2Fnova~master~Ibf0c1b56f235fffae65afbbcee30056bae965afe,openstack/nova,master,Ibf0c1b56f235fffae65afbbcee30056bae965afe,docs: Correct path used for config on Hyper-V,MERGED,2022-03-11 10:24:26.000000000,2022-05-30 16:58:19.000000000,2022-05-30 16:54:55.000000000,"[{'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-11 10:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a8bfa4a2ee5b441de99d2c241b9d52582eb2698', 'message': 'Fix openstack/nova git repo https://bugs.launchpad.net/nova/+bug/1964548\n\nBecause in the above description:\n````\nTo install nova-compute, run:\n\nPS C:\\> cd c:\\nova\nPS C:\\> python setup.py install\n````\n\nThe file is downloaded to c:\\nova. After executing `python setup.py\ninstall` in this directory, the etc directory is generated under\n`c:\\nova`.\n\nCloses-Bug: #1964548\nChange-Id: Ibf0c1b56f235fffae65afbbcee30056bae965afe\n'}, {'number': 2, 'created': '2022-05-30 13:40:45.000000000', 'files': ['doc/source/admin/configuration/hypervisor-hyper-v.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/4d6cce1d10275b32639233647c19790950b661c6', 'message': 'docs: Correct path used for config on Hyper-V\n\nBecause in the above description:\n\n  To install nova-compute, run:\n\n  PS C:\\> cd c:\\nova\n  PS C:\\> python setup.py install\n\nThe file is downloaded to c:\\nova. After executing `python setup.py\ninstall` in this directory, the etc directory is generated under\n`c:\\nova`. Correct the path.\n\nCloses-Bug: #1964548\nChange-Id: Ibf0c1b56f235fffae65afbbcee30056bae965afe\n'}]",3,833248,4d6cce1d10275b32639233647c19790950b661c6,21,3,2,34629,,,0,"docs: Correct path used for config on Hyper-V

Because in the above description:

  To install nova-compute, run:

  PS C:\> cd c:\nova
  PS C:\> python setup.py install

The file is downloaded to c:\nova. After executing `python setup.py
install` in this directory, the etc directory is generated under
`c:\nova`. Correct the path.

Closes-Bug: #1964548
Change-Id: Ibf0c1b56f235fffae65afbbcee30056bae965afe
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/833248/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/configuration/hypervisor-hyper-v.rst'],1,7a8bfa4a2ee5b441de99d2c241b9d52582eb2698,bug/1964548,The ``nova.conf`` file must be placed in ``C:\nova\etc\nova`` for running OpenStack PS C:\> C:\Python27\python.exe c:\Python27\Scripts\nova-compute --config-file c:\nova\etc\nova\nova.conf,The ``nova.conf`` file must be placed in ``C:\etc\nova`` for running OpenStack PS C:\> C:\Python27\python.exe c:\Python27\Scripts\nova-compute --config-file c:\etc\nova\nova.conf,2,2
openstack%2Fnetworking-ovn~stable%2Ftrain~I7f8dde56d28c5aba1ad39337ab60a041db14d16b,openstack/networking-ovn,stable/train,I7f8dde56d28c5aba1ad39337ab60a041db14d16b,Switch ovn tempest jobs to nested virt nodes,MERGED,2022-05-27 09:34:41.000000000,2022-05-30 16:58:12.000000000,2022-05-30 16:55:15.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 09:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d9df865d123cc5a5d2f7ecad71c35a1841a2471e', 'message': '[DNM] Test ovn tempest job on nested virt nodes\n\nThese jobs taking much time and failing randomly\nin tempest tests while ssh.\n\nTest how they behave with nested virt nodes.\n\nChange-Id: I7f8dde56d28c5aba1ad39337ab60a041db14d16b\n'}, {'number': 2, 'created': '2022-05-30 03:43:27.000000000', 'files': ['zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/bf1ff33120183aab48d084096f71214ddde64025', 'message': ""Switch ovn tempest jobs to nested virt nodes\n\nThese jobs taking much time and failing randomly\nin tempest tests while ssh, test instances taking\nmuch time to be up, Let's switch these jobs\nto nested virt nodes which will help in avoiding\nthese issues.\n\nJob results in previous patchset of this patch looks\nmuch better with the switch.\n\nChange-Id: I7f8dde56d28c5aba1ad39337ab60a041db14d16b\n""}]",2,843588,bf1ff33120183aab48d084096f71214ddde64025,14,5,2,13861,,,0,"Switch ovn tempest jobs to nested virt nodes

These jobs taking much time and failing randomly
in tempest tests while ssh, test instances taking
much time to be up, Let's switch these jobs
to nested virt nodes which will help in avoiding
these issues.

Job results in previous patchset of this patch looks
much better with the switch.

Change-Id: I7f8dde56d28c5aba1ad39337ab60a041db14d16b
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/88/843588/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/networking-ovn-jobs.yaml']",2,d9df865d123cc5a5d2f7ecad71c35a1841a2471e,neutron-ci-improvements,- nodeset: name: ovn-nested-virt-ubuntu-bionic nodes: - name: controller label: nested-virt-ubuntu-bionic groups: - name: tempest nodes: - controller nodeset: ovn-nested-virt-ubuntu-bionic nodeset: ovn-nested-virt-ubuntu-bionic,,12,12
openstack%2Fglance~master~I788d4d6ab23a9314163490e52ac436ae0856c559,openstack/glance,master,I788d4d6ab23a9314163490e52ac436ae0856c559,Imported Translations from Zanata,MERGED,2022-05-26 02:43:11.000000000,2022-05-30 16:57:52.000000000,2022-05-30 16:55:02.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 02:43:11.000000000', 'files': ['releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'glance/locale/en_GB/LC_MESSAGES/glance.po'], 'web_link': 'https://opendev.org/openstack/glance/commit/6bd1d14a528e8454d83434e4d7e9bd8fc28a4390', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I788d4d6ab23a9314163490e52ac436ae0856c559\n'}]",1,843366,6bd1d14a528e8454d83434e4d7e9bd8fc28a4390,9,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I788d4d6ab23a9314163490e52ac436ae0856c559
",git fetch https://review.opendev.org/openstack/glance refs/changes/66/843366/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'glance/locale/en_GB/LC_MESSAGES/glance.po']",2,6bd1d14a528e8454d83434e4d7e9bd8fc28a4390,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2022. #zanata""POT-Creation-Date: 2022-05-25 22:45+0000\n""""PO-Revision-Date: 2022-05-25 08:54+0000\n""""Allow limited access to unauthenticated users.\n"" ""\n"" ""Assign a boolean to determine API access for unauthenticated\n"" ""users. When set to False, the API cannot be accessed by\n"" ""unauthenticated users. When set to True, unauthenticated users can\n"" ""access the API with read-only privileges. This however only applies\n"" ""when using ContextMiddleware.\n"" ""\n"" ""Possible values:\n"" "" * True\n"" "" * False\n"" ""\n"" ""Related options:\n"" "" * None\n"" ""\n"" msgstr """" ""\n"" ""Allow limited access to unauthenticated users.\n"" ""\n"" ""Assign a boolean to determine API access for unauthenticated\n"" ""users. When set to False, the API cannot be accessed by\n"" ""unauthenticated users. When set to True, unauthenticated users can\n"" ""access the API with read-only privileges. This however only applies\n"" ""when using ContextMiddleware.\n"" ""\n"" ""Possible values:\n"" "" * True\n"" "" * False\n"" ""\n"" ""Related options:\n"" "" * None\n"" ""\n"" msgid """" ""\n""""Deployment flavor to use in the server application pipeline.\n"" ""\n"" ""Provide a string value representing the appropriate deployment\n"" ""flavor used in the server application pipeline. This is typically\n"" ""the partial name of a pipeline in the paste configuration file with\n"" ""the service name removed.\n"" ""\n"" ""For example, if your paste section name in the paste configuration\n"" ""file is [pipeline:glance-api-keystone], set ``flavor`` to\n"" ""``keystone``.\n"" ""\n"" ""Possible values:\n"" "" * String value representing a partial pipeline name.\n"" ""\n"" ""Related Options:\n"" "" * config_file\n"" ""\n"" msgstr """" ""\n"" ""Deployment flavour to use in the server application pipeline.\n"" ""\n"" ""Provide a string value representing the appropriate deployment\n"" ""flavour used in the server application pipeline. This is typically\n"" ""the partial name of a pipeline in the paste configuration file with\n"" ""the service name removed.\n"" ""\n"" ""For example, if your paste section name in the paste configuration\n"" ""file is [pipeline:glance-api-keystone], set ``flavor`` to\n"" ""``keystone``.\n"" ""\n"" ""Possible values:\n"" "" * String value representing a partial pipeline name.\n"" ""\n"" ""Related Options:\n"" "" * config_file\n"" ""\n"" msgid """" ""\n""""Enforce API access based on common persona definitions used across "" ""OpenStack.\n"" ""Enabling this option formalizes project-specific read/write operations, "" ""like\n"" ""creating private images or updating the status of shared image, behind the\n"" ""`member` role. It also formalizes a read-only variant useful for\n"" ""project-specific API operations, like listing private images in a project,\n"" ""behind the `reader` role.\n"" ""\n"" ""Operators should take an opportunity to understand glance's new image "" ""policies,\n"" ""audit assignments in their deployment, and update permissions using the "" ""default\n"" ""roles in keystone (e.g., `admin`, `member`, and `reader`).\n"" ""\n"" ""Related options:\n"" "" * [oslo_policy]/enforce_new_defaults\n"" msgstr """" ""\n"" ""Enforce API access based on common persona definitions used across "" ""OpenStack.\n"" ""Enabling this option formalizes project-specific read/write operations, "" ""like\n"" ""creating private images or updating the status of shared image, behind the\n"" ""`member` role. It also formalizes a read-only variant useful for\n"" ""project-specific API operations, like listing private images in a project,\n"" ""behind the `reader` role.\n"" ""\n"" ""Operators should take an opportunity to understand glance's new image "" ""policies,\n"" ""audit assignments in their deployment, and update permissions using the "" ""default\n"" ""roles in keystone (e.g., `admin`, `member`, and `reader`).\n"" ""\n"" ""Related options:\n"" "" * [oslo_policy]/enforce_new_defaults\n"" msgid """" ""\n"" ""File containing the swift account(s) configurations.\n"" ""\n"" ""Include a string value representing the path to a configuration\n"" ""file that has references for each of the configured Swift\n"" ""account(s)/backing stores. By default, no file path is specified\n"" ""and customized Swift referencing is disabled. Configuring this option\n"" ""is highly recommended while using Swift storage backend for image\n"" ""storage as it helps avoid storage of credentials in the\n"" ""database.\n"" ""\n"" ""Possible values:\n"" "" * None\n"" "" * String value representing a valid configuration file path\n"" ""\n"" ""Related options:\n"" "" * None\n"" ""\n"" msgstr """" ""\n"" ""File containing the Swift account(s) configurations.\n"" ""\n"" ""Include a string value representing the path to a configuration\n"" ""file that has references for each of the configured Swift\n"" ""account(s)/backing stores. By default, no file path is specified\n"" ""and customized Swift referencing is disabled. Configuring this option\n"" ""is highly recommended while using the Swift storage backend for image\n"" ""storage as it helps avoid storage of credentials in the\n"" ""database.\n"" ""\n"" ""Possible values:\n"" "" * None\n"" "" * String value representing a valid configuration file path\n"" ""\n"" ""Related options:\n"" "" * None\n"" ""\n"" msgid """" ""\n""""Maximum amount of image storage per tenant.\n"" ""\n"" ""This enforces an upper limit on the cumulative storage consumed by all "" ""images\n"" ""of a tenant across all stores. This is a per-tenant limit.\n"" ""\n"" ""The default unit for this configuration option is Bytes. However, storage\n"" ""units can be specified using case-sensitive literals ``B``, ``KB``, ``MB``,\n"" ""``GB`` and ``TB`` representing Bytes, KiloBytes, MegaBytes, GigaBytes and\n"" ""TeraBytes respectively. Note that there should not be any space between the\n"" ""value and unit. Value ``0`` signifies no quota enforcement. Negative values\n"" ""are invalid and result in errors.\n"" ""\n"" ""This has no effect if ``use_keystone_limits`` is enabled.\n"" ""\n"" ""Possible values:\n"" "" * A string that is a valid concatenation of a non-negative integer\n"" "" representing the storage value and an optional string literal\n"" "" representing storage units as mentioned above.\n"" ""\n"" ""Related options:\n"" "" * use_keystone_limits\n"" ""\n"" msgstr """" ""\n"" ""Maximum amount of image storage per tenant.\n"" ""\n"" ""This enforces an upper limit on the cumulative storage consumed by all "" ""images\n"" ""of a tenant across all stores. This is a per-tenant limit.\n"" ""\n"" ""The default unit for this configuration option is Bytes. However, storage\n"" ""units can be specified using case-sensitive literals ``B``, ``KB``, ``MB``,\n"" ""``GB`` and ``TB`` representing Bytes, KiloBytes, MegaBytes, GigaBytes and\n"" ""TeraBytes respectively. Note that there should not be any space between the\n"" ""value and unit. Value ``0`` signifies no quota enforcement. Negative values\n"" ""are invalid and result in errors.\n"" ""\n"" ""This has no effect if ``use_keystone_limits`` is enabled.\n"" ""\n"" ""Possible values:\n"" "" * A string that is a valid concatenation of a non-negative integer\n"" "" representing the storage value and an optional string literal\n"" "" representing storage units as mentioned above.\n"" ""\n"" ""Related options:\n"" "" * use_keystone_limits\n"" ""\n"" msgid """" ""\n""""Name of the paste configuration file.\n"" ""\n"" ""Provide a string value representing the name of the paste\n"" ""configuration file to use for configuring pipelines for\n"" ""server application deployments.\n"" ""\n"" ""NOTES:\n"" "" * Provide the name or the path relative to the glance directory\n"" "" for the paste configuration file and not the absolute path.\n"" "" * The sample paste configuration file shipped with Glance need\n"" "" not be edited in most cases as it comes with ready-made\n"" "" pipelines for all common deployment flavors.\n"" ""\n"" ""If no value is specified for this option, the ``paste.ini`` file\n"" ""with the prefix of the corresponding Glance service's configuration\n"" ""file name will be searched for in the known configuration\n"" ""directories. (For example, if this option is missing from or has no\n"" ""value set in ``glance-api.conf``, the service will look for a file\n"" ""named ``glance-api-paste.ini``.) If the paste configuration file is\n"" ""not found, the service will not start.\n"" ""\n"" ""Possible values:\n"" "" * A string value representing the name of the paste configuration\n"" "" file.\n"" ""\n"" ""Related Options:\n"" "" * flavor\n"" ""\n"" msgstr """" ""\n"" ""Name of the paste configuration file.\n"" ""\n"" ""Provide a string value representing the name of the paste\n"" ""configuration file to use for configuring pipelines for\n"" ""server application deployments.\n"" ""\n"" ""NOTES:\n"" "" * Provide the name or the path relative to the glance directory\n"" "" for the paste configuration file and not the absolute path.\n"" "" * The sample paste configuration file shipped with Glance needs\n"" "" not be edited in most cases as it comes with ready-made\n"" "" pipelines for all common deployment flavours.\n"" ""\n"" ""If no value is specified for this option, the ``paste.ini`` file\n"" ""with the prefix of the corresponding Glance service's configuration\n"" ""file name will be searched for in the known configuration\n"" ""directories. (For example, if this option is missing from or has no\n"" ""value set in ``glance-api.conf``, the service will look for a file\n"" ""named ``glance-api-paste.ini``.) If the paste configuration file is\n"" ""not found, the service will not start.\n"" ""\n"" ""Possible values:\n"" "" * A string value representing the name of the paste configuration\n"" "" file.\n"" ""\n"" ""Related Options:\n"" "" * flavour\n"" ""\n"" msgid """" ""\n""""Path to the python interpreter to use when spawning external\n"" ""processes. If left unspecified, this will be sys.executable, which should\n"" ""be the same interpreter running Glance itself. However, in some situations\n"" ""(for example, uwsgi) sys.executable may not actually point to a python\n"" ""interpreter and an alternative value must be set."" msgstr """" ""\n"" ""Path to the Python interpreter to use when spawning external\n"" ""processes. If left unspecified, this will be sys.executable, which should\n"" ""be the same interpreter running Glance itself. However, in some situations\n"" ""(for example, uwsgi) sys.executable may not actually point to a Python\n"" ""interpreter and an alternative value must be set."" msgid """" ""\n""""Rule format for property protection.\n"" ""\n"" ""Provide the desired way to set property protection on Glance\n"" ""image properties. The two permissible values are ``roles``\n"" ""and ``policies``. The default value is ``roles``.\n"" ""\n"" ""If the value is ``roles``, the property protection file must\n"" ""contain a comma separated list of user roles indicating\n"" ""permissions for each of the CRUD operations on each property\n"" ""being protected. If set to ``policies``, a policy defined in\n"" ""policy.yaml is used to express property protections for each\n"" ""of the CRUD operations. Examples of how property protections\n"" ""are enforced based on ``roles`` or ``policies`` can be found at:\n"" ""https://docs.openstack.org/glance/latest/admin/property-protections."" ""html#examples\n"" ""\n"" ""Possible values:\n"" "" * roles\n"" "" * policies\n"" ""\n"" ""Related options:\n"" "" * property_protection_file\n"" ""\n"" msgstr """" ""\n"" ""Rule format for property protection.\n"" ""\n"" ""Provide the desired way to set property protection on Glance\n"" ""image properties. The two permissible values are ``roles``\n"" ""and ``policies``. The default value is ``roles``.\n"" ""\n"" ""If the value is ``roles``, the property protection file must\n"" ""contain a comma separated list of user roles indicating\n"" ""permissions for each of the CRUD operations on each property\n"" ""being protected. If set to ``policies``, a policy defined in\n"" ""policy.yaml is used to express property protections for each\n"" ""of the CRUD operations. Examples of how property protections\n"" ""are enforced based on ``roles`` or ``policies`` can be found at:\n"" ""https://docs.openstack.org/glance/latest/admin/property-protections."" ""html#examples\n"" ""\n"" ""Possible values:\n"" "" * roles\n"" "" * policies\n"" ""\n"" ""Related options:\n"" "" * property_protection_file\n"" ""\n"" msgid """" ""\n""""The URL to this worker.\n"" ""\n"" ""If this is set, other glance workers will know how to contact this one\n"" ""directly if needed. For image import, a single worker stages the image\n"" ""and other workers need to be able to proxy the import request to the\n"" ""right one.\n"" ""\n"" ""If unset, this will be considered to be `public_endpoint`, which\n"" ""normally would be set to the same value on all workers, effectively\n"" ""disabling the proxying behavior.\n"" ""\n"" ""Possible values:\n"" "" * A URL by which this worker is reachable from other workers\n"" ""\n"" ""Related options:\n"" "" * public_endpoint\n"" ""\n"" msgstr """" ""\n"" ""The URL to this worker.\n"" ""\n"" ""If this is set, other glance workers will know how to contact this one\n"" ""directly if needed. For image import, a single worker stages the image\n"" ""and other workers need to be able to proxy the import request to the\n"" ""right one.\n"" ""\n"" ""If unset, this will be considered to be `public_endpoint`, which\n"" ""normally would be set to the same value on all workers, effectively\n"" ""disabling the proxying behaviour.\n"" ""\n"" ""Possible values:\n"" "" * A URL by which this worker is reachable from other workers\n"" ""\n"" ""Related options:\n"" "" * public_endpoint\n"" ""\n"" msgid """" ""\n""""This option has been introduced to require operators to opt into enforcing\n"" ""authorization based on common RBAC personas, which is EXPERIMENTAL as of "" ""the\n"" ""Wallaby release. This behavior will be the default and STABLE in a future\n"" ""release, allowing this option to be removed.\n"" msgstr """" ""\n"" ""This option has been introduced to require operators to opt into enforcing\n"" ""authorization based on common RBAC personas, which is EXPERIMENTAL as of "" ""the\n"" ""Wallaby release. This behaviour will be the default and STABLE in a future\n"" ""release, allowing this option to be removed.\n"" msgid """" ""\n"" ""This option has been removed in Wallaby. Because there is no migration "" ""path\n"" ""for installations that had owner_is_tenant==False, we have defined this "" ""option\n"" ""so that the code can probe the config file and refuse to start the api "" ""service\n"" ""if the deployment has been using that setting.\n"" msgstr """" ""\n"" ""This option has been removed in Wallaby. Because there is no migration "" ""path\n"" ""for installations that had owner_is_tenant==False, we have defined this "" ""option\n"" ""so that the code can probe the config file and refuse to start the API "" ""service\n"" ""if the deployment has been using that setting.\n"" msgid """" ""\n""msgid """" ""\n"" ""Utilize per-tenant resource limits registered in Keystone.\n"" ""\n"" ""Enabling this feature will cause Glance to retrieve limits set in keystone\n"" ""for resource consumption and enforce them against API users. Before turning\n"" ""this on, the limits need to be registered in Keystone or all quotas will be\n"" ""considered to be zero, and thus reject all new resource requests.\n"" ""\n"" ""These per-tenant resource limits are independent from the static\n"" ""global ones configured in this config file. If this is enabled, the\n"" ""relevant static global limits will be ignored.\n"" msgstr """" ""\n"" ""Utilize per-tenant resource limits registered in Keystone.\n"" ""\n"" ""Enabling this feature will cause Glance to retrieve limits set in keystone\n"" ""for resource consumption and enforce them against API users. Before turning\n"" ""this on, the limits need to be registered in Keystone or all quotas will be\n"" ""considered to be zero, and thus reject all new resource requests.\n"" ""\n"" ""These per-tenant resource limits are independent from the static\n"" ""global ones configured in this config file. If this is enabled, the\n"" ""relevant static global limits will be ignored.\n"" msgid ""Caching via API is not supported at this site."" msgstr ""Caching via API is not supported at this site."" msgid ""Human-readable informative request-id"" msgstr ""Human-readable informative request-id"" msgid """" ""If provided 'x-image-cache-clear-target' must be 'cache', 'queue' or empty "" ""string."" msgstr """" ""If provided 'x-image-cache-clear-target' must be 'cache', 'queue' or empty "" ""string."" msgid ""Image associated with the task"" msgstr ""Image associated with the task"" msgid ""Namespace %s not found"" msgstr ""Namespace %s not found"" #, python-formatmsgid ""Not allowed to list members for image %(image_id)s: %(inner_msg)s"" msgstr ""Not allowed to list members for image %(image_id)s: %(inner_msg)s"" #, python-formatmsgid ""Only images with status active can be targeted for queueing"" msgstr ""Only images with status active can be targeted for queueing"" msgid ""User associated with the task"" msgstr ""User associated with the task"" msgid ""You are not permitted to create images owned by '%s'owner"" msgstr ""You are not permitted to create images owned by '%s'owner"" #, python-formatmsgid ""You are not permitted to modify 'status' on this image member."" msgstr ""You are not permitted to modify 'status' on this image member."" msgid ""You cannot delete image member."" msgstr ""You cannot delete image member."" ","""POT-Creation-Date: 2022-04-19 18:29+0000\n""""PO-Revision-Date: 2020-10-03 10:10+0000\n""",471,65
openstack%2Fneutron~stable%2Fwallaby~I159460be27f2c5f105be4b2865ef84aeb9a00094,openstack/neutron,stable/wallaby,I159460be27f2c5f105be4b2865ef84aeb9a00094,"Revert ""Use Port_Binding up column to set Neutron port status""",MERGED,2022-05-30 03:56:44.000000000,2022-05-30 16:56:46.000000000,2022-05-30 16:54:49.000000000,"[{'_account_id': 5756}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 03:56:44.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/common/ovn/constants.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1648d40fe3e43f4ea2ce515e73c6fc891e248ef6', 'message': 'Revert ""Use Port_Binding up column to set Neutron port status""\n\nThis reverts commit 37d4195b516f12b683b774f0561561b172dd15c6.\nConflicts:\n \tneutron/common/ovn/constants.py\n \tneutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n\nAlso revert below 2 commits which were added on\ntop of the parent commit:-\n\nRevert ""Ensure subports transition to DOWN""\nThis reverts commit 5e036a6b281e4331f396473e299b26b2537d5322.\n\nRevert ""Ensure only the right events are processed""\nThis reverts commit 553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa.\n\nReason for revert: These patches have caused couple of issues[1][2][3].\n[1][2] are same issue just one is seen in c8/c9-stream and other in\nrhel8 and both contains much info about the issue.\n[3] is currently happening only in rhel8/rhel9 as this issue is visible\nonly with the patch in revert and ovn-2021>=21.12.0-55(fix of [4]) which\nis not yet available in c8/c9-stream.\n\n[1][2] happens randomly as the patch under revert has moved the\nevents to SB DB which made a known OVN issue[5] occur more often as in\nthat issue SB DB Event queue floods with too many events of\nPortBindingChassisEvent making other events like PortBindingUpdateUpEvent\nto wait much longer and hence triggering VirtualInterfaceCreateException.\n\nNB DB Event queue is different and hence with revert we are trying to\nlower the side effect of the OVN issue[5].\n\nThis patch can be re reverted once [3] and [5] are fixed.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1964940/\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=2081631\n[3] https://bugzilla.redhat.com/show_bug.cgi?id=2090604\n[4] https://bugzilla.redhat.com/show_bug.cgi?id=2037433\n[5] https://bugzilla.redhat.com/show_bug.cgi?id=1974898\n\nCloses-Bug: #1964940\nCloses-Bug: rhbz#2081631\nCloses-Bug: rhbz#2090604\nRelated-Bug: rhbz#2037433\nRelated-Bug: rhbz#1974898\nChange-Id: I159460be27f2c5f105be4b2865ef84aeb9a00094\n(cherry picked from commit e6d27be4747eb4573dcc5c0e1e7ac7550d20f951)\n(cherry picked from commit 3a11ab74402cde842461569515c39c441555f348)\n(cherry picked from commit 4c5bd288466f8f72e95deca204d08246d9aa9549)\nConflicts: neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n \tneutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n'}]",0,843763,1648d40fe3e43f4ea2ce515e73c6fc891e248ef6,10,6,1,13861,,,0,"Revert ""Use Port_Binding up column to set Neutron port status""

This reverts commit 37d4195b516f12b683b774f0561561b172dd15c6.
Conflicts:
 	neutron/common/ovn/constants.py
 	neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py

Also revert below 2 commits which were added on
top of the parent commit:-

Revert ""Ensure subports transition to DOWN""
This reverts commit 5e036a6b281e4331f396473e299b26b2537d5322.

Revert ""Ensure only the right events are processed""
This reverts commit 553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa.

Reason for revert: These patches have caused couple of issues[1][2][3].
[1][2] are same issue just one is seen in c8/c9-stream and other in
rhel8 and both contains much info about the issue.
[3] is currently happening only in rhel8/rhel9 as this issue is visible
only with the patch in revert and ovn-2021>=21.12.0-55(fix of [4]) which
is not yet available in c8/c9-stream.

[1][2] happens randomly as the patch under revert has moved the
events to SB DB which made a known OVN issue[5] occur more often as in
that issue SB DB Event queue floods with too many events of
PortBindingChassisEvent making other events like PortBindingUpdateUpEvent
to wait much longer and hence triggering VirtualInterfaceCreateException.

NB DB Event queue is different and hence with revert we are trying to
lower the side effect of the OVN issue[5].

This patch can be re reverted once [3] and [5] are fixed.

[1] https://bugs.launchpad.net/tripleo/+bug/1964940/
[2] https://bugzilla.redhat.com/show_bug.cgi?id=2081631
[3] https://bugzilla.redhat.com/show_bug.cgi?id=2090604
[4] https://bugzilla.redhat.com/show_bug.cgi?id=2037433
[5] https://bugzilla.redhat.com/show_bug.cgi?id=1974898

Closes-Bug: #1964940
Closes-Bug: rhbz#2081631
Closes-Bug: rhbz#2090604
Related-Bug: rhbz#2037433
Related-Bug: rhbz#1974898
Change-Id: I159460be27f2c5f105be4b2865ef84aeb9a00094
(cherry picked from commit e6d27be4747eb4573dcc5c0e1e7ac7550d20f951)
(cherry picked from commit 3a11ab74402cde842461569515c39c441555f348)
(cherry picked from commit 4c5bd288466f8f72e95deca204d08246d9aa9549)
Conflicts: neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py
 	neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/843763/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/common/ovn/constants.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py']",4,1648d40fe3e43f4ea2ce515e73c6fc891e248ef6,bug/1964940," }class TestPortBindingChassisUpdateEvent(base.BaseTestCase): def setUp(self): super(TestPortBindingChassisUpdateEvent, self).setUp() self.driver = mock.Mock() self.event = ovsdb_monitor.PortBindingChassisUpdateEvent(self.driver) def _test_event(self, event, row, old): if self.event.matches(event, row, old): self.event.run(event, row, old) self.driver.set_port_status_up.assert_called() else: self.driver.set_port_status_up.assert_not_called() def test_event_matches(self): # NOTE(twilson) This primarily tests implementation details. If a # scenario test is written that handles shutting down a compute # node uncleanly and performing a 'host-evacuate', this can be removed pbtable = fakes.FakeOvsdbTable.create_one_ovsdb_table( attrs={'name': 'Port_Binding'}) ovsdb_row = fakes.FakeOvsdbRow.create_one_ovsdb_row self.driver.nb_ovn.lookup.return_value = ovsdb_row(attrs={'up': True}) self._test_event( self.event.ROW_UPDATE, ovsdb_row(attrs={'_table': pbtable, 'chassis': 'one', 'type': '_fake_', 'logical_port': 'foo'}), ovsdb_row(attrs={'_table': pbtable, 'chassis': 'two', 'type': '_fake_'})) self.driver.set_port_status_up = mock.Mock() self.driver.set_port_status_down = mock.Mock() def _test_lsp_helper(self, event, new_row_json, old_row_json=None, table=None): row_uuid = uuidutils.generate_uuid() if not table: table = self.lp_table lp_row = ovs_idl.Row.from_json(self.idl, table, row_uuid, new_row_json) if old_row_json: old_row = ovs_idl.Row.from_json(self.idl, table, row_uuid, old_row_json) else: old_row = None self.idl.notify(event, lp_row, updates=old_row) # Add a STOP EVENT to the queue self.idl.notify_handler.shutdown() # Execute the notifications queued self.idl.notify_handler.notify_loop() def test_lsp_up_create_event(self): row_data = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_create_event(self): row_data = {""up"": False, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_lsp_up_not_set_event(self): row_data = {""up"": ['set', []], ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_unwatch_logical_switch_port_create_events(self): self.idl.unwatch_logical_switch_port_create_events() row_data = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) row_data[""up""] = False self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_post_connect(self): self.idl.post_connect() self.assertIsNone(self.idl._lsp_create_up_event) self.assertIsNone(self.idl._lsp_create_down_event) def test_lsp_up_update_event(self): new_row_json = {""up"": True, ""name"": ""foo-name""} old_row_json = {""up"": False} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_update_event(self): new_row_json = {""up"": False, ""name"": ""foo-name""} old_row_json = {""up"": True} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_lsp_up_update_event_no_old_data(self): new_row_json = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_update_event_no_old_data(self): new_row_json = {""up"": False, ""name"": ""foo-name""} self._test_lsp_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_other_column_update_event(self): new_row_json = {""up"": False, ""name"": ""foo-name"", ""addresses"": [""10.0.0.2""]} old_row_json = {""addresses"": [""10.0.0.3""]} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_notify_other_table(self): new_row_json = {""name"": ""foo-name""} self._test_lsp_helper('create', new_row_json, table=self.idl.tables.get(""Logical_Switch"")) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) self.sb_idl.post_connect() self.chassis_table = self.sb_idl.tables.get('Chassis') self.row_json = { def _test_chassis_helper(self, event, new_row_json, old_row_json=None): table = self.chassis_table def test_chassis_create_event(self): self._test_chassis_helper('create', self.row_json) self._test_chassis_helper('delete', self.row_json) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json) self.row_json['external_ids'][1].append(['foo_field', 'foo_value_new']) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] = '' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] += ',foo_physnet:foo_br' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] = 'foo_physnet:foo_br' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json)"," }, ""Port_Binding"": { ""columns"": { ""logical_port"": {""type"": ""string""}, ""type"": {""type"": ""string""}, ""chassis"": {""type"": ""string""}, ""up"": {""type"": {""key"": ""boolean"", ""min"": 0, ""max"": 1}}}, ""indexes"": [[""logical_port""]], ""isRoot"": True}, sb_helper.register_table('Port_Binding') self.driver.set_port_status_up = mock.Mock() self.driver.set_port_status_down = mock.Mock() self.chassis_row_json = { def _test_helper(self, event, table, new_row_json, old_row_json=None): def _test_chassis_helper(self, event, new_row_json, old_row_json=None, table=None): self.sb_idl.post_connect() self.chassis_table = self.sb_idl.tables.get('Chassis') if not table: table = self.chassis_table self._test_helper(event, table, new_row_json, old_row_json) def test_chassis_create_event(self): self._test_chassis_helper('create', self.chassis_row_json) self._test_chassis_helper('delete', self.chassis_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) self.chassis_row_json['external_ids'][1].append(['foo_field', 'foo_value_new']) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] = '' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] += ',foo_physnet:foo_br' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] = 'foo_physnet:foo_br' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) def _test_port_binding_helper(self, event, new_row_json, old_row_json=None, table=None): self.port_binding_table = self.sb_idl.tables.get('Port_Binding') if not table: table = self.port_binding_table self._test_helper(event, table, new_row_json, old_row_json) def test_port_binding_up_create_event(self): row_data = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_create_patch_type_event(self): # Note(ltomasbo): This will behave the same for up = True|False # as the port needs to transition to up anyway row_data = {""type"": ""patch"", ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) row_data = {""type"": ""patch"", ""logical_port"": ""lrp-foo-name""} self._test_port_binding_helper('create', row_data) self.assertEqual(1, self.driver.set_port_status_up.call_count) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_create_virtual_type_event(self): row_data = {""type"": ""virtual"", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_create_event(self): row_data = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_down_create_virtual_type_event(self): row_data = {""type"": ""virtual"", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_update_event(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} old_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_update_event(self): new_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} old_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_down_update_event_up_not_updated(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": None} old_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_up_update_event_no_old_data(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_update_event_no_old_data(self): new_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_other_column_update_event(self): new_row_json = {""type"": """", ""up"": True, ""name"": ""foo-name"", ""addresses"": [""10.0.0.2""]} old_row_json = {""type"": """", ""up"": True, ""name"": ""foo-name"", ""addresses"": [""10.0.0.3""]} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_notify_other_table(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper( 'create', new_row_json, table=self.sb_idl.tables.get(""Chassis"")) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_unwatch_port_binding_create_events(self): self.sb_idl.unwatch_port_binding_create_events() row_data = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) row_data[""up""] = False self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_post_connect(self): self.assertIsNotNone(self.sb_idl._pb_create_up_event) self.assertIsNotNone(self.sb_idl._pb_create_down_event) self.sb_idl.post_connect() self.assertIsNone(self.sb_idl._pb_create_up_event) self.assertIsNone(self.sb_idl._pb_create_down_event) ",258,392
openstack%2Fnova~master~Ie969d994a3f2f67580e4d6debc5c9dc9ffc13600,openstack/nova,master,Ie969d994a3f2f67580e4d6debc5c9dc9ffc13600,Fix duplicates keys,MERGED,2022-05-27 11:54:27.000000000,2022-05-30 16:56:44.000000000,2022-05-30 16:54:13.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 11:54:27.000000000', 'files': ['nova/tests/unit/policies/test_security_groups.py', 'nova/tests/unit/console/test_websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a240cf8d09f2d9d811f6d26ff726963b04ee1fb7', 'message': 'Fix duplicates keys\n\nThis change fixes duplicate dictionary keys in unit tests.\n\nChange-Id: Ie969d994a3f2f67580e4d6debc5c9dc9ffc13600\n'}]",1,843605,a240cf8d09f2d9d811f6d26ff726963b04ee1fb7,12,2,1,20733,,,0,"Fix duplicates keys

This change fixes duplicate dictionary keys in unit tests.

Change-Id: Ie969d994a3f2f67580e4d6debc5c9dc9ffc13600
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/843605/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/console/test_websocketproxy.py', 'nova/tests/unit/policies/test_security_groups.py']",2,a240cf8d09f2d9d811f6d26ff726963b04ee1fb7,dup-keys, 'from_port': 22}}," 'from_port': 22, 'from_port': 22}}",1,3
openstack%2Ftempest~master~I9cad0ccb02ee7bef0f94a1ee40e0fa117d89b5eb,openstack/tempest,master,I9cad0ccb02ee7bef0f94a1ee40e0fa117d89b5eb,Use UPPER_CONSTRAINTS_FILE for stable/victoria testing,MERGED,2022-05-25 15:13:33.000000000,2022-05-30 16:56:42.000000000,2022-05-30 16:54:08.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-05-25 15:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f0b3a0676cdcd3fdbd13a22d79044eedd8e5592f', 'message': 'Use UPPER_CONSTRAINTS_FILE for stable/victoria testing\n\nstable/victoria is in EM state and Tempest is going to be\npinned for stable/victoria which need to modify run-tempest\nrole to use the constraints set by the devstack or any job.\n\nChange-Id: I9cad0ccb02ee7bef0f94a1ee40e0fa117d89b5eb\n'}, {'number': 2, 'created': '2022-05-25 21:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/592dbd4d630cb64afb29055e889f4517ea60c18b', 'message': ""Use UPPER_CONSTRAINTS_FILE for stable/victoria testing\n\nstable/victoria is in EM state and Tempest is going to be\npinned for stable/victoria which need to modify run-tempest\nrole to use the constraints set by the devstack or any job.\n\nBecause of Tempest 26.1.0 and with stestr 3.0.1 (beacause of upper\nconstraints of stestr 3.0.1 in stable/ussuri ) which does not have\nnew args exclude-regex so let's fallback to old arg if new arg is\npassed.\n\nChange-Id: I9cad0ccb02ee7bef0f94a1ee40e0fa117d89b5eb\n""}, {'number': 3, 'created': '2022-05-28 23:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5311c7a54125408823d2d32d39fd323e0d815afe', 'message': ""Use UPPER_CONSTRAINTS_FILE for stable/victoria testing\n\nstable/victoria is in EM state and Tempest is going to be\npinned for stable/victoria which need to modify run-tempest\nrole to use the constraints set by the devstack or any job.\n\nBecause of Tempest 26.1.0 and with stestr 3.0.1 (beacause of upper\nconstraints of stestr 3.0.1 in stable/ussuri ) which does not have\nnew args exclude-regex so let's fallback to old arg if new arg is\npassed.\n\nChange-Id: I9cad0ccb02ee7bef0f94a1ee40e0fa117d89b5eb\n""}, {'number': 4, 'created': '2022-05-30 10:12:12.000000000', 'files': ['roles/run-tempest/tasks/main.yaml', 'roles/run-tempest/README.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d9b6d7ca1ac267f794139e06ebaed4b8d9586fe9', 'message': ""Use UPPER_CONSTRAINTS_FILE for stable/victoria testing\n\nstable/victoria is in EM state and Tempest is going to be\npinned for stable/victoria which need to modify run-tempest\nrole to use the constraints set by the devstack or any job.\n\nBecause of Tempest 26.1.0 and with stestr 3.0.1 (beacause of upper\nconstraints of stestr 3.0.1 in stable/ussuri ) which does not have\nnew args exclude-regex so let's fallback to old arg if new arg is\npassed.\n\nChange-Id: I9cad0ccb02ee7bef0f94a1ee40e0fa117d89b5eb\n""}]",3,843293,d9b6d7ca1ac267f794139e06ebaed4b8d9586fe9,21,3,4,8556,,,0,"Use UPPER_CONSTRAINTS_FILE for stable/victoria testing

stable/victoria is in EM state and Tempest is going to be
pinned for stable/victoria which need to modify run-tempest
role to use the constraints set by the devstack or any job.

Because of Tempest 26.1.0 and with stestr 3.0.1 (beacause of upper
constraints of stestr 3.0.1 in stable/ussuri ) which does not have
new args exclude-regex so let's fallback to old arg if new arg is
passed.

Change-Id: I9cad0ccb02ee7bef0f94a1ee40e0fa117d89b5eb
",git fetch https://review.opendev.org/openstack/tempest refs/changes/93/843293/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/run-tempest/tasks/main.yaml', 'roles/run-tempest/README.rst']",2,f0b3a0676cdcd3fdbd13a22d79044eedd8e5592f,victoria-pin-tempest, Upper constraints file to be used for stable branch till stable/victoria., Upper constraints file to be used for stable branch till stable/train.,2,2
openstack%2Fnova~master~I46d3bbe122d9f8452f168286391bab67ecea3128,openstack/nova,master,I46d3bbe122d9f8452f168286391bab67ecea3128,Fix race condition in _get_pci_passthrough_devices,MERGED,2022-05-06 21:19:52.000000000,2022-05-30 16:54:38.000000000,2022-05-30 16:54:38.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 19234}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-06 21:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5878043bf950414f46de05444a33c01d9c9f6d1', 'message': 'Fix race condition in _get_pci_passthrough_devices\n\nThe call to _get_pci_passthrough_devices could fail because a\nnetwork device could have disappeared which would cause a traceback\nin the logs.\n\nThis wraps the function in a safe way to return an empty array\nif it fails, which will clean-up the logs if the device disappears\n\nCloses-Bug: #1972028\nChange-Id: I46d3bbe122d9f8452f168286391bab67ecea3128\n'}, {'number': 2, 'created': '2022-05-10 00:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14c9ebcf3442e514d6346b712814e55b22c6c210', 'message': 'Fix race condition in _get_pci_passthrough_devices\n\nThe call to _get_pci_passthrough_devices could fail because a\nnetwork device could have disappeared which would cause a traceback\nin the logs.\n\nThis wraps the function in a safe way to return an empty array\nif it fails, which will clean-up the logs if the device disappears\n\nCloses-Bug: #1972028\nChange-Id: I46d3bbe122d9f8452f168286391bab67ecea3128\n'}, {'number': 3, 'created': '2022-05-18 12:49:27.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8534499b4a76a8aaf39005f251da33a25e95a67c', 'message': 'Fix race condition in _get_pci_passthrough_devices\n\nThe call to _get_pci_passthrough_devices could fail because a\nnetwork device could have disappeared which would cause a traceback\nin the logs.\n\nThis wraps the function in a safe way to return an empty array\nif it fails, which will clean-up the logs if the device disappears\n\nCloses-Bug: #1972028\nChange-Id: I46d3bbe122d9f8452f168286391bab67ecea3128\n'}]",9,840993,8534499b4a76a8aaf39005f251da33a25e95a67c,45,5,3,1004,,,0,"Fix race condition in _get_pci_passthrough_devices

The call to _get_pci_passthrough_devices could fail because a
network device could have disappeared which would cause a traceback
in the logs.

This wraps the function in a safe way to return an empty array
if it fails, which will clean-up the logs if the device disappears

Closes-Bug: #1972028
Change-Id: I46d3bbe122d9f8452f168286391bab67ecea3128
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/840993/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,f5878043bf950414f46de05444a33c01d9c9f6d1,bug/1972028," # NOTE(mnaser): The listCaps() function can raise an exception if the # device disappeared while we're looping, this method # returns an empty list rather than raising an exception. def _safe_list_caps(dev): try: return dev.listCaps() except libvirt.libvirtError as ex: return [] net_devs = [ dev for dev in devices.values() if ""net"" in _safe_list_caps(dev) ] dev for dev in devices.values() if ""vdpa"" in _safe_list_caps(dev) if ""pci"" in _safe_list_caps(dev)}"," net_devs = [dev for dev in devices.values() if ""net"" in dev.listCaps()] dev for dev in devices.values() if ""vdpa"" in dev.listCaps() if ""pci"" in dev.listCaps()}",15,3
openstack%2Fnova~master~I737e1d73242430b6756178eb0bf9bd6ec5c94160,openstack/nova,master,I737e1d73242430b6756178eb0bf9bd6ec5c94160,Accept both 1 and Y as AMD SEV KVM kernel param value,MERGED,2022-05-25 10:04:09.000000000,2022-05-30 16:54:30.000000000,2022-05-30 16:54:30.000000000,"[{'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-25 10:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89a397df8cba1e8ec62ce67fd92d4e4a6792386b', 'message': 'Accept both 1 and Y as AMD SEV KVM kernel param value\n\nThe libvirt virt dirver checks the AMD KVM kernel module parameter SEV\nto see if that feature is enabled. However it seems that the\n/sys/module/kvm_amd/parameters/sev file can either contain ""1\\n"" or\n""Y\\n"" to indicate that the feature is enabled. Nova only checked for\n""1\\n"" so far making the feature disabled on compute nodes with ""Y\\n""\nvalue. Now the logic is extended to accept both.\n\nCloses-Bug: #1975686\nChange-Id: I737e1d73242430b6756178eb0bf9bd6ec5c94160\n'}, {'number': 2, 'created': '2022-05-25 10:17:58.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/host.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ab51a5dd25b8d4c66562148b43b1022eb5ceed7e', 'message': 'Accept both 1 and Y as AMD SEV KVM kernel param value\n\nThe libvirt virt dirver checks the AMD KVM kernel module parameter SEV\nto see if that feature is enabled. However it seems that the\n/sys/module/kvm_amd/parameters/sev file can either contain ""1\\n"" or\n""Y\\n"" to indicate that the feature is enabled. Nova only checked for\n""1\\n"" so far making the feature disabled on compute nodes with ""Y\\n""\nvalue. Now the logic is extended to accept both.\n\nCloses-Bug: #1975686\nChange-Id: I737e1d73242430b6756178eb0bf9bd6ec5c94160\n'}]",5,843254,ab51a5dd25b8d4c66562148b43b1022eb5ceed7e,16,3,2,9708,,,0,"Accept both 1 and Y as AMD SEV KVM kernel param value

The libvirt virt dirver checks the AMD KVM kernel module parameter SEV
to see if that feature is enabled. However it seems that the
/sys/module/kvm_amd/parameters/sev file can either contain ""1\n"" or
""Y\n"" to indicate that the feature is enabled. Nova only checked for
""1\n"" so far making the feature disabled on compute nodes with ""Y\n""
value. Now the logic is extended to accept both.

Closes-Bug: #1975686
Change-Id: I737e1d73242430b6756178eb0bf9bd6ec5c94160
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/843254/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/host.py']",2,89a397df8cba1e8ec62ce67fd92d4e4a6792386b,bug/1975686," content = f.read() LOG.debug(""%s contains [%s]"", SEV_KERNEL_PARAM_FILE, content) content = content.strip().lower() return content in [""1"", ""y""]"," contents = f.read() LOG.debug(""%s contains [%s]"", SEV_KERNEL_PARAM_FILE, contents) return contents == ""1\n""",25,15
openstack%2Fnova~master~Ice5a2c7aca77f47ea6328a10d835854d9aff408e,openstack/nova,master,Ice5a2c7aca77f47ea6328a10d835854d9aff408e,Add missing condition,MERGED,2022-05-27 04:25:56.000000000,2022-05-30 16:54:22.000000000,2022-05-30 16:54:22.000000000,"[{'_account_id': 7166}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 19234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 04:25:56.000000000', 'files': ['nova/tests/unit/objects/test_migrate_data.py', 'nova/objects/migrate_data.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3aa77a3999a7dcabbd4c0141d4c56b07a4624128', 'message': ""Add missing condition\n\nChange [1] added new fields 'src|dst_supports_numa_live_migration'\nto LibvirtLiveMigrateData object, but missed if condition for\ndst_supports_numa_live_migration field in obj_make_compatible\nmethod.\n\nThis change adds the if condition as well as fix typo in unit test\nbecause of which this wasn't catched earlier.\n\nCloses-Bug: #1975891\nChange-Id: Ice5a2c7aca77f47ea6328a10d835854d9aff408e\n""}]",2,843565,3aa77a3999a7dcabbd4c0141d4c56b07a4624128,13,6,1,20733,,,0,"Add missing condition

Change [1] added new fields 'src|dst_supports_numa_live_migration'
to LibvirtLiveMigrateData object, but missed if condition for
dst_supports_numa_live_migration field in obj_make_compatible
method.

This change adds the if condition as well as fix typo in unit test
because of which this wasn't catched earlier.

Closes-Bug: #1975891
Change-Id: Ice5a2c7aca77f47ea6328a10d835854d9aff408e
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/843565/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/migrate_data.py', 'nova/tests/unit/objects/test_migrate_data.py']",2,3aa77a3999a7dcabbd4c0141d4c56b07a4624128,bz_1975891," src_supports_numa_live_migration=True, dst_supports_numa_live_migration=True,"," src_supports_numa_live_migraton=True, dst_supports_numa_live_migraton=True,",5,2
openstack%2Fkuryr-kubernetes~master~Ic3e96f0572baa0704688011deb60f705c2583d50,openstack/kuryr-kubernetes,master,Ic3e96f0572baa0704688011deb60f705c2583d50,Switch to Centos Stream 9 for container images.,MERGED,2022-05-25 11:33:05.000000000,2022-05-30 16:50:50.000000000,2022-05-30 16:49:25.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2022-05-25 11:33:05.000000000', 'files': ['controller.Dockerfile', 'cni.Dockerfile'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f63cea54700e2cdd1e9417ece3c19603ef93d685', 'message': 'Switch to Centos Stream 9 for container images.\n\nChange-Id: Ic3e96f0572baa0704688011deb60f705c2583d50\n'}]",13,843264,f63cea54700e2cdd1e9417ece3c19603ef93d685,30,3,1,13692,,,0,"Switch to Centos Stream 9 for container images.

Change-Id: Ic3e96f0572baa0704688011deb60f705c2583d50
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/64/843264/1 && git format-patch -1 --stdout FETCH_HEAD,"['controller.Dockerfile', 'cni.Dockerfile']",2,f63cea54700e2cdd1e9417ece3c19603ef93d685,centos9,FROM quay.io/centos/centos:stream9ARG RDO_REPO=https://repos.fedorapeople.org/repos/openstack/openstack-yoga/rdo-release-yoga-1.el9s.noarch.rpm ,"FROM quay.io/centos/centos:stream8ARG RDO_REPO=https://repos.fedorapeople.org/repos/openstack/openstack-xena/rdo-release-xena-1.el8.noarch.rpm # NOTE(gryf): There is a sed substitution to make package manager to # cooperate. It might be a subject to change in the future, either when # yum/dnf starts to respect yum.conf variables, or mirror location would # change. && sed -e 's/$releasever/8-stream/' -i /etc/yum.repos.d/messaging.repo \ && sed -e 's/$basearch/x86_64/' -i /etc/yum.repos.d/messaging.repo \",5,11
openstack%2Fansible-collection-kolla~master~Ie262d0359be9ad54ef49a519cccffd038fe02646,openstack/ansible-collection-kolla,master,Ie262d0359be9ad54ef49a519cccffd038fe02646,baremetal: refactor libvirt apparmor configuration,MERGED,2022-02-16 17:45:07.000000000,2022-05-30 16:47:38.000000000,2022-05-30 16:46:18.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-16 17:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/1c86d696625a3ca780d8e567001430c2cefdd9b9', 'message': 'baremetal: refactor libvirt apparmor configuration\n\nChange-Id: Ie262d0359be9ad54ef49a519cccffd038fe02646\n'}, {'number': 2, 'created': '2022-02-21 17:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/3eb6d864fcfb4af085337493137839a24df49e53', 'message': 'baremetal: refactor libvirt apparmor configuration\n\nChange-Id: Ie262d0359be9ad54ef49a519cccffd038fe02646\n'}, {'number': 3, 'created': '2022-03-17 11:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/4138ae76b4d93405cd9a141b14cf41cd7ec4648a', 'message': 'baremetal: refactor libvirt apparmor configuration\n\nChange-Id: Ie262d0359be9ad54ef49a519cccffd038fe02646\n'}, {'number': 4, 'created': '2022-03-24 11:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/bb06a51b5db164e162241406f1ec7d6219a96627', 'message': 'baremetal: refactor libvirt apparmor configuration\n\nChange-Id: Ie262d0359be9ad54ef49a519cccffd038fe02646\n'}, {'number': 5, 'created': '2022-03-30 14:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/7cdb226c672c560784d409a47963752ebbd75449', 'message': 'baremetal: refactor libvirt apparmor configuration\n\nChange-Id: Ie262d0359be9ad54ef49a519cccffd038fe02646\n'}, {'number': 6, 'created': '2022-05-03 11:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/e0cd96ffb413f178b59be189d498a029482e1365', 'message': 'baremetal: refactor libvirt apparmor configuration\n\nChange-Id: Ie262d0359be9ad54ef49a519cccffd038fe02646\n'}, {'number': 7, 'created': '2022-05-06 14:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/af8690d86880248c48fe5b1d7a1a085eaface05a', 'message': 'baremetal: refactor libvirt apparmor configuration\n\nChange-Id: Ie262d0359be9ad54ef49a519cccffd038fe02646\n'}, {'number': 8, 'created': '2022-05-26 09:52:00.000000000', 'files': ['roles/baremetal/defaults/main.yml', 'roles/apparmor_libvirt/tasks/main.yml', 'roles/apparmor_libvirt/tasks/remove-profile.yml', 'roles/apparmor_libvirt/defaults/main.yml', 'roles/baremetal/tasks/post-install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/47d24a6ca6d401788810024d4d50f727db66a5ef', 'message': 'baremetal: refactor libvirt apparmor configuration\n\nChange-Id: Ie262d0359be9ad54ef49a519cccffd038fe02646\n'}]",4,829587,47d24a6ca6d401788810024d4d50f727db66a5ef,33,4,8,14826,,,0,"baremetal: refactor libvirt apparmor configuration

Change-Id: Ie262d0359be9ad54ef49a519cccffd038fe02646
",git fetch https://review.opendev.org/openstack/ansible-collection-kolla refs/changes/87/829587/8 && git format-patch -1 --stdout FETCH_HEAD,"['roles/apparmor_libvirt/tasks/main.yml', 'roles/baremetal/tasks/post-install.yml']",2,1c86d696625a3ca780d8e567001430c2cefdd9b9,,- import_role: name: openstack.kolla.apparmor_libvirt,"- name: Get stat of libvirtd apparmor profile stat: path: /etc/apparmor.d/usr.sbin.libvirtd register: apparmor_libvirtd_profile when: ansible_facts.distribution == ""Ubuntu"" - name: Get stat of libvirtd apparmor disable profile stat: path: /etc/apparmor.d/disable/usr.sbin.libvirtd register: apparmor_libvirtd_disable_profile when: ansible_facts.distribution == ""Ubuntu"" - name: Remove apparmor profile for libvirt shell: | apparmor_parser -v -R /etc/apparmor.d/usr.sbin.libvirtd && \ ln -vsf /etc/apparmor.d/usr.sbin.libvirtd /etc/apparmor.d/disable args: executable: /bin/bash become: True when: - ansible_facts.distribution == ""Ubuntu"" - apparmor_libvirtd_profile.stat.exists - not apparmor_libvirtd_disable_profile.stat.exists",26,23
openstack%2Fopenstack-ansible-lxc_hosts~master~I5f7244ed81d9ab87e23654d881d976bc4faa2960,openstack/openstack-ansible-lxc_hosts,master,I5f7244ed81d9ab87e23654d881d976bc4faa2960,Switch sphinx language to en,MERGED,2022-05-30 14:01:18.000000000,2022-05-30 16:15:56.000000000,2022-05-30 16:11:29.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:18.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/51228fad0a6d09b58d1d907e7526b3dab9f8c3e4', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I5f7244ed81d9ab87e23654d881d976bc4faa2960""}]",0,843888,51228fad0a6d09b58d1d907e7526b3dab9f8c3e4,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I5f7244ed81d9ab87e23654d881d976bc4faa2960",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/88/843888/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,51228fad0a6d09b58d1d907e7526b3dab9f8c3e4,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-lxc_hosts~master~Ia558e3aa1447220016c53349cf9dac0b822d06f4,openstack/openstack-ansible-lxc_hosts,master,Ia558e3aa1447220016c53349cf9dac0b822d06f4,Disable apt phased updates inside containers.,MERGED,2022-05-04 17:15:45.000000000,2022-05-30 16:14:38.000000000,2022-05-30 16:11:25.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-04 17:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/537bb98f940633f82d39ab2c304061c5d24ab079', 'message': 'Disable apt phased updates inside containers.\n\nInside a chroot, phased updates are disabled [1]. This means that\nthe container base image always gets the latest packages regardless\nof what is happening with the phasing.\n\nAt runtime, the default in Ubuntu releases 21.04 and onward is to\nobey the package phasing information. This means that packages\ninside the OSA built container image can be newer than the installation\ncandidates once the container is running, leading to installation\nerrors. This is particularly sensitive with source packages such as\nsystemd where there is a very tight version coupling between\nall components leading to only one valid installation candidate.\n\nThis patch creates apt config inside the container base image to\nalways install the latest package version regardless of phasing.\n\nThere does not seem to be any alternative, as phasing is always\ndisabled during the debootstrap.\n\n[1] https://discourse.ubuntu.com/t/phased-updates-in-apt-in-21-04/20345\n\nChange-Id: Ia558e3aa1447220016c53349cf9dac0b822d06f4\n'}, {'number': 2, 'created': '2022-05-04 17:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/4dc812138e5946fd4296e596045d64baef4730f0', 'message': 'Disable apt phased updates inside containers.\n\nInside a chroot, phased updates are disabled [1]. This means that\nthe container base image always gets the latest packages regardless\nof what is happening with the phasing.\n\nAt runtime, the default in Ubuntu releases 21.04 and onward is to\nobey the package phasing information. This means that packages\ninside the OSA built container image can be newer than the installation\ncandidates once the container is running, leading to installation\nerrors. This is particularly sensitive with source packages such as\nsystemd where there is a very tight version coupling between\nall components leading to only one valid installation candidate.\n\nThis patch creates apt config inside the container base image to\nalways install the latest package version regardless of phasing.\n\nThere does not seem to be any alternative, as phasing is always\ndisabled during the debootstrap.\n\n[1] https://discourse.ubuntu.com/t/phased-updates-in-apt-in-21-04/20345\n\nChange-Id: Ia558e3aa1447220016c53349cf9dac0b822d06f4\n'}, {'number': 3, 'created': '2022-05-30 12:39:45.000000000', 'files': ['templates/prep-scripts/debian_prep.sh.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/3b8d1459b934e40f7c2a9656b0d592a8c34dce8a', 'message': 'Disable apt phased updates inside containers.\n\nInside a chroot, phased updates are disabled [1]. This means that\nthe container base image always gets the latest packages regardless\nof what is happening with the phasing.\n\nAt runtime, the default in Ubuntu releases 21.04 and onward is to\nobey the package phasing information. This means that packages\ninside the OSA built container image can be newer than the installation\ncandidates once the container is running, leading to installation\nerrors. This is particularly sensitive with source packages such as\nsystemd where there is a very tight version coupling between\nall components leading to only one valid installation candidate.\n\nThis patch creates apt config inside the container base image to\nalways install the latest package version regardless of phasing.\n\nThere does not seem to be any alternative, as phasing is always\ndisabled during the debootstrap.\n\n[1] https://discourse.ubuntu.com/t/phased-updates-in-apt-in-21-04/20345\n\nChange-Id: Ia558e3aa1447220016c53349cf9dac0b822d06f4\n'}]",2,840518,3b8d1459b934e40f7c2a9656b0d592a8c34dce8a,18,3,3,25023,,,0,"Disable apt phased updates inside containers.

Inside a chroot, phased updates are disabled [1]. This means that
the container base image always gets the latest packages regardless
of what is happening with the phasing.

At runtime, the default in Ubuntu releases 21.04 and onward is to
obey the package phasing information. This means that packages
inside the OSA built container image can be newer than the installation
candidates once the container is running, leading to installation
errors. This is particularly sensitive with source packages such as
systemd where there is a very tight version coupling between
all components leading to only one valid installation candidate.

This patch creates apt config inside the container base image to
always install the latest package version regardless of phasing.

There does not seem to be any alternative, as phasing is always
disabled during the debootstrap.

[1] https://discourse.ubuntu.com/t/phased-updates-in-apt-in-21-04/20345

Change-Id: Ia558e3aa1447220016c53349cf9dac0b822d06f4
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/18/840518/3 && git format-patch -1 --stdout FETCH_HEAD,['templates/prep-scripts/debian_prep.sh.j2'],1,537bb98f940633f82d39ab2c304061c5d24ab079,osa-apt-phasing,"#Chroots are built with phased updates disabled, so we must disable them at runtime to avoid package version errors echo ""APT::Get::Always-Include-Phased-Updates \""true\"";"" | sudo tee /etc/apt/apt.conf.d/95phased-updates ",,3,0
openstack%2Ftap-as-a-service~master~Ie72f5942af56f41227189faa1b54acafa618b6b9,openstack/tap-as-a-service,master,Ie72f5942af56f41227189faa1b54acafa618b6b9,Make neutron tempest plugin job voting again,MERGED,2022-05-27 12:31:31.000000000,2022-05-30 16:11:48.000000000,2022-05-30 16:11:48.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 12:31:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/c6298bd83194a7b550b5852ed800b1c97cc75efd', 'message': ""Make neutron tempest plugin job voting again\n\nIt was made non-voting in [1] until [2] is merged, and\nsince [2] is merged let's make it voting again.\n\n[1] https://review.opendev.org/c/openstack/tap-as-a-service/+/842134\n[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/842113\n\nChange-Id: Ie72f5942af56f41227189faa1b54acafa618b6b9\n""}]",1,843615,c6298bd83194a7b550b5852ed800b1c97cc75efd,7,4,1,13861,,,0,"Make neutron tempest plugin job voting again

It was made non-voting in [1] until [2] is merged, and
since [2] is merged let's make it voting again.

[1] https://review.opendev.org/c/openstack/tap-as-a-service/+/842134
[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/842113

Change-Id: Ie72f5942af56f41227189faa1b54acafa618b6b9
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/15/843615/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c6298bd83194a7b550b5852ed800b1c97cc75efd,taas-voting, - neutron-tempest-plugin-tap-as-a-service gate: jobs: - neutron-tempest-plugin-tap-as-a-service, # TODO(lajoskatona): make the job non-voting till # https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/842113 # is not merged - neutron-tempest-plugin-tap-as-a-service: voting: false # TODO(lajoskatona): remove job from gate till # https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/842113 # is not merged # gate: # jobs: # - neutron-tempest-plugin-tap-as-a-service,4,11
openstack%2Ftripleo-quickstart~master~I91b8169602315cbcbee1931719ca70657796ab2c,openstack/tripleo-quickstart,master,I91b8169602315cbcbee1931719ca70657796ab2c,Use Nodepool CentOS mirror for 9-stream SIG repos,MERGED,2022-05-24 06:12:41.000000000,2022-05-30 15:44:48.000000000,2022-05-30 15:43:06.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-05-24 06:12:41.000000000', 'files': ['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-9/wallaby.yml', 'config/release/tripleo-ci/CentOS-9/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-9/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cadea41d28e361baca26f7445835d9417c752a32', 'message': ""Use Nodepool CentOS mirror for 9-stream SIG repos\n\ndelorean-deps repo contains SIG repos, let's replace\nmirror.stream.centos.org to nodepool centos proxy\nto avoid external mirror specific issues.\n8-stream release files already have this fixed.\n\nChange-Id: I91b8169602315cbcbee1931719ca70657796ab2c\n""}]",3,843102,cadea41d28e361baca26f7445835d9417c752a32,11,6,1,13861,,,0,"Use Nodepool CentOS mirror for 9-stream SIG repos

delorean-deps repo contains SIG repos, let's replace
mirror.stream.centos.org to nodepool centos proxy
to avoid external mirror specific issues.
8-stream release files already have this fixed.

Change-Id: I91b8169602315cbcbee1931719ca70657796ab2c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/02/843102/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-9/wallaby.yml', 'config/release/tripleo-ci/CentOS-9/master.yml', 'config/release/tripleo-ci/CentOS-9/promotion-testing-hash-master.yml']",4,cadea41d28e361baca26f7445835d9417c752a32,c9s," # Replace mirror.stream.centos.org to nodepool proxy sudo sed -i -e ""s|http://mirror.stream.centos.org|$NODEPOOL_CENTOS_MIRROR|g"" /etc/yum.repos.d/delorean-master-deps.repo",,8,0
openstack%2Fansible-role-collect-logs~master~I79ceee4d9b088d8b4dd5bd6935480fc05dd2ccf1,openstack/ansible-role-collect-logs,master,I79ceee4d9b088d8b4dd5bd6935480fc05dd2ccf1,Get some more data out of OVN,MERGED,2022-05-02 08:49:36.000000000,2022-05-30 15:43:33.000000000,2022-05-30 15:43:33.000000000,"[{'_account_id': 8449}, {'_account_id': 11975}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-05-02 08:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/bcc5f7a4eaef621e9bbd00c85d43d1a8f9041e48', 'message': ""Get some more data out of OVN\n\nIt may happen we need to get some more data out of OVN - let's gather\nthem.\n\nThis new output may help in case we have doubts about the actual OVN\nconfig, especially its bridge and mappings.\n\nChange-Id: I79ceee4d9b088d8b4dd5bd6935480fc05dd2ccf1\n""}, {'number': 2, 'created': '2022-05-30 12:47:21.000000000', 'files': ['roles/collect_logs/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/fb3bbfb451e96989c6e20365f4f24ff9711fca5b', 'message': ""Get some more data out of OVN\n\nIt may happen we need to get some more data out of OVN - let's gather\nthem.\n\nThis new output may help in case we have doubts about the actual OVN\nconfig, especially its bridge and mappings.\n\nChange-Id: I79ceee4d9b088d8b4dd5bd6935480fc05dd2ccf1\n""}]",8,840162,fb3bbfb451e96989c6e20365f4f24ff9711fca5b,20,6,2,28223,,,0,"Get some more data out of OVN

It may happen we need to get some more data out of OVN - let's gather
them.

This new output may help in case we have doubts about the actual OVN
config, especially its bridge and mappings.

Change-Id: I79ceee4d9b088d8b4dd5bd6935480fc05dd2ccf1
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/62/840162/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/collect_logs/defaults/main.yml'],1,bcc5f7a4eaef621e9bbd00c85d43d1a8f9041e48,ovn-data," function pod_exec() { timeout -k 10 5 sudo podman exec ovn_controller $@ } pod_exec ovn-sbctl --db=$SBDB $1 pod_exec ovn-nbctl --db=$NBDB $1 } echo ""Output of ovs-vsctl get open . external_ids"" pod_exec ovs-vsctl get open . external_ids echo ""\nOutput of ovn-sbctl show"""," timeout -k 10 5 sudo podman exec ovn_controller ovn-sbctl --db=$SBDB $1 timeout -k 10 5 sudo podman exec ovn_controller ovn-nbctl --db=$NBDB $1 } echo ""Output of ovn-sbctl show""",8,3
openstack%2Fansible-role-collect-logs~master~I596aecd71ebe7d8a747ab8e6d05766f70dd78f1d,openstack/ansible-role-collect-logs,master,I596aecd71ebe7d8a747ab8e6d05766f70dd78f1d,"Some linting, and correcting deps for sanity",MERGED,2022-05-30 12:16:38.000000000,2022-05-30 15:43:31.000000000,2022-05-30 15:43:31.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-30 12:16:38.000000000', 'files': ['tests/sanity/ignore-2.10.txt', 'ansible.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/5f1069ba9aacf207c94d89d97b43d36985e9e908', 'message': 'Some linting, and correcting deps for sanity\n\nansible-test seems to take the latest ansible-core by default, even if\nwe push upper/lower constraints in the requirements.txt or\ntest-requirements.txt.\n\nPushing the constraint directly in the tox.ini, for the ""sanity""\ntestenv, seems to do the trick, as we\'re testing against an ansible\nversion we actually support, instead of the latest (2.13 today).\n\nThis patch also takes the opportunity to remove unwanted warnings\n(ansible.cfg deprecated options), as well as ensuring the ignored\ncontent for `ansible-test\' doesn\'t raise any warning.\n\nCloses-Bug: #1976251\nChange-Id: I596aecd71ebe7d8a747ab8e6d05766f70dd78f1d\n'}]",4,843848,5f1069ba9aacf207c94d89d97b43d36985e9e908,10,4,1,28223,,,0,"Some linting, and correcting deps for sanity

ansible-test seems to take the latest ansible-core by default, even if
we push upper/lower constraints in the requirements.txt or
test-requirements.txt.

Pushing the constraint directly in the tox.ini, for the ""sanity""
testenv, seems to do the trick, as we're testing against an ansible
version we actually support, instead of the latest (2.13 today).

This patch also takes the opportunity to remove unwanted warnings
(ansible.cfg deprecated options), as well as ensuring the ignored
content for `ansible-test' doesn't raise any warning.

Closes-Bug: #1976251
Change-Id: I596aecd71ebe7d8a747ab8e6d05766f70dd78f1d
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/48/843848/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/sanity/ignore-2.10.txt', 'ansible.cfg', 'tox.ini']",3,5f1069ba9aacf207c94d89d97b43d36985e9e908,correct-sanity," ansible-core>=2.11,<2.12",,2,3
openstack%2Ftripleo-ci~master~I737ae9c358f76af1adf8e53dd3ec1d06a7d0e311,openstack/tripleo-ci,master,I737ae9c358f76af1adf8e53dd3ec1d06a7d0e311,Add ussuri content provider back to upstream periodic layout,MERGED,2022-05-30 05:51:31.000000000,2022-05-30 15:43:23.000000000,2022-05-30 15:43:23.000000000,"[{'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-05-30 05:51:31.000000000', 'files': ['zuul.d/periodic.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0ac968e0ec2967cc6f1275c4aeb730134020137d', 'message': 'Add ussuri content provider back to upstream periodic layout\n\nIn [1] we removed all the ussuri content but mistakenly also broke\nthe Victoria jobs which need U content provider for the install\nversion (see related-bug for details). While [2] fixed the gate\nthis will fix the periodic layout.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/835460\n[2] https://review.opendev.org/c/openstack/tripleo-ci/+/842915\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1975456\n\nChange-Id: I737ae9c358f76af1adf8e53dd3ec1d06a7d0e311\n'}]",1,843768,0ac968e0ec2967cc6f1275c4aeb730134020137d,9,5,1,8449,,,0,"Add ussuri content provider back to upstream periodic layout

In [1] we removed all the ussuri content but mistakenly also broke
the Victoria jobs which need U content provider for the install
version (see related-bug for details). While [2] fixed the gate
this will fix the periodic layout.

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/835460
[2] https://review.opendev.org/c/openstack/tripleo-ci/+/842915
Related-Bug: https://bugs.launchpad.net/tripleo/+bug/1975456

Change-Id: I737ae9c358f76af1adf8e53dd3ec1d06a7d0e311
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/68/843768/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/periodic.yaml'],1,0ac968e0ec2967cc6f1275c4aeb730134020137d,, - tripleo-ci-centos-8-content-provider-ussuri: vars: force_non_periodic: true - tripleo-ci-centos-8-content-provider-ussuri - tripleo-ci-centos-8-content-provider-ussuri,,5,0
openstack%2Fopenstack-ansible~master~Icb9a5cecf6eaa8d6840d82817ef3a2a5b6d192c2,openstack/openstack-ansible,master,Icb9a5cecf6eaa8d6840d82817ef3a2a5b6d192c2,Remove unavailable commented out packages from centos-9 vars file,MERGED,2022-05-29 16:17:14.000000000,2022-05-30 15:43:13.000000000,2022-05-30 15:38:24.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-29 16:17:14.000000000', 'files': ['tests/roles/bootstrap-host/vars/redhat-9.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/98c41c076fe6bed84ac4dfb0c8da2387bf13cf9a', 'message': 'Remove unavailable commented out packages from centos-9 vars file\n\nChange-Id: Icb9a5cecf6eaa8d6840d82817ef3a2a5b6d192c2\n'}]",1,843750,98c41c076fe6bed84ac4dfb0c8da2387bf13cf9a,10,3,1,25023,,,0,"Remove unavailable commented out packages from centos-9 vars file

Change-Id: Icb9a5cecf6eaa8d6840d82817ef3a2a5b6d192c2
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/50/843750/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/vars/redhat-9.yml'],1,98c41c076fe6bed84ac4dfb0c8da2387bf13cf9a,osa/centos-9,, # - bridge-utils bridge-utils is not available in 8 # - btrfs-progs BTRFS is not available in 8 # - sshpass sshpass is not available in 8 #- systemd-networkd networkd is not available in 8,0,4
openstack%2Fovn-octavia-provider~master~I1348704a7a0538f570237e9687f5d770159c1392,openstack/ovn-octavia-provider,master,I1348704a7a0538f570237e9687f5d770159c1392,Fix request to OVN NB DB API,MERGED,2022-04-22 12:13:33.000000000,2022-05-30 15:41:43.000000000,2022-05-30 15:39:53.000000000,"[{'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-04-22 12:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/0b96add6eaa44efbb6929c7fe4de4d472b2e7dc0', 'message': 'Fix request to OVN NB DB API\n\nPatch [1] make an incorrect format request to OVN NB DB\nAPI on a health_monitor event, the Load Balancer related is\nrequested to OVN NB DB via API call using data from\nmembers related and the protocol. This changes correct that\nrequest to be well formed.\n\nPartial-Bug: #1965772\nChange-Id: I1348704a7a0538f570237e9687f5d770159c1392\n'}, {'number': 2, 'created': '2022-05-27 09:31:35.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/61a56dc37754ac8daf8be33547b5774728020994', 'message': 'Fix request to OVN NB DB API\n\nPatch [1] introduces HM to OVN Octavia provider, by error it\nmakes an wrong request to OVN NB DB API when a health_monitor\nevent is received, in order to search the Load Balancer related\nwith the event received. The request is done call using data from\nmembers related and the protocol (it is an array).\n\nThis patch fix that request to be well formed.\n\n[1] https://review.opendev.org/c/openstack/ovn-octavia-provider/+/801890\n\nPartial-Bug: #1965772\n\nChange-Id: I1348704a7a0538f570237e9687f5d770159c1392\n'}]",5,839055,61a56dc37754ac8daf8be33547b5774728020994,19,3,2,34451,,,0,"Fix request to OVN NB DB API

Patch [1] introduces HM to OVN Octavia provider, by error it
makes an wrong request to OVN NB DB API when a health_monitor
event is received, in order to search the Load Balancer related
with the event received. The request is done call using data from
members related and the protocol (it is an array).

This patch fix that request to be well formed.

[1] https://review.opendev.org/c/openstack/ovn-octavia-provider/+/801890

Partial-Bug: #1965772

Change-Id: I1348704a7a0538f570237e9687f5d770159c1392
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/55/839055/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,0b96add6eaa44efbb6929c7fe4de4d472b2e7dc0,," ('ip_port_mappings', '=', {self.member_address: 'a-logical-port:' + src_ip}), ('protocol', '=', self.ovn_hm_lb.protocol[0]))"," (('ip_port_mappings', '=', {self.member_address: 'a-logical-port:' + src_ip}), ('protocol', '=', self.ovn_hm_lb.protocol)))",5,5
openstack%2Fopenstack-ansible~master~Ia916d9f1f9d53e86dbd44ec19234599d5ed81794,openstack/openstack-ansible,master,Ia916d9f1f9d53e86dbd44ec19234599d5ed81794,Add Centos-9 Stream support,MERGED,2022-01-04 18:18:17.000000000,2022-05-30 15:41:42.000000000,2022-05-30 15:38:16.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 34411}]","[{'number': 1, 'created': '2022-01-04 18:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3522e939fad137c6a3ec909215550a24cd4c6111', 'message': 'WIP - Centos-9 Stream support\n\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 2, 'created': '2022-01-04 18:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d8e653afefe7618a78843e6e9450478744bac804', 'message': 'WIP - Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_networkd/+/823419\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/823420\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 3, 'created': '2022-01-05 09:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a57208c7883c0e2e089796bb929a62e524e5ca82', 'message': 'WIP - Centos-9 Stream support\n\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 4, 'created': '2022-01-05 11:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f2e1d5a26b7a42a0297a39b73938d1061e81f1d9', 'message': 'WIP - Centos-9 Stream support\n\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 5, 'created': '2022-01-05 13:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0f9f519a49ecca3da4ad72802da3500aedc54169', 'message': 'WIP - Centos-9 Stream support\n\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 6, 'created': '2022-01-05 15:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ff8a6fd3bdf0cff05e294af0625ee1000cbde71c', 'message': 'WIP - Centos-9 Stream support\n\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 7, 'created': '2022-01-05 18:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f842a2ad823bfc2920fd1726cb2997df0ffeb085', 'message': 'WIP - Centos-9 Stream support\n\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 8, 'created': '2022-01-06 09:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/18f37378f59d636d000d18e952ffbde90504a65f', 'message': 'WIP - Centos-9 Stream support\n\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 9, 'created': '2022-01-06 09:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ff96a52487ccfcf0c6a426f2a72d967ca48cef13', 'message': 'WIP - Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_networkd/+/823419\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/823420\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 10, 'created': '2022-01-06 13:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f213d60fcb8cd2248310ab9a05f517b7852b628f', 'message': 'WIP - Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_networkd/+/823419\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/823420\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 11, 'created': '2022-01-06 13:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2502be0d97dcb34528e4c9adfb2b1f34b5dfcd15', 'message': 'WIP - Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_networkd/+/823419\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/823420\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 12, 'created': '2022-01-06 14:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/541600e2259738c72592c56fbb1670f08102ea16', 'message': 'WIP - Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_networkd/+/823419\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/823420\nDepends-On: https://review.opendev.org/c/openstack/ansible-hardening/+/823697\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 13, 'created': '2022-01-06 15:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/31d7ae27d2ef09a855bb311c72baac6283c00ed1', 'message': 'WIP - Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_networkd/+/823419\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/823420\nDepends-On: https://review.opendev.org/c/openstack/ansible-hardening/+/823697\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/823713\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 14, 'created': '2022-01-06 17:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e7cec395601ae588665b7b43d93076158b3c7883', 'message': 'WIP - Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_networkd/+/823419\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/823420\nDepends-On: https://review.opendev.org/c/openstack/ansible-hardening/+/823697\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/823713\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 15, 'created': '2022-01-06 17:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/71be03749c0d2b16ce50d5effd5b448a54ea7403', 'message': 'WIP - Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_networkd/+/823419\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/823420\nDepends-On: https://review.opendev.org/c/openstack/ansible-hardening/+/823697\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/823713\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 16, 'created': '2022-01-10 13:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cc939b2a1dc85d047d1e212904fc7617c76b428e', 'message': 'WIP - Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_networkd/+/823419\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/823420\nDepends-On: https://review.opendev.org/c/openstack/ansible-hardening/+/823697\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/823713\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/823983\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/823985\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 17, 'created': '2022-01-26 12:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/18199c9d9422a44a0339a4b953db155e6fe39aef', 'message': 'WIP - Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/823420\nDepends-On: https://review.opendev.org/c/openstack/ansible-hardening/+/823697\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/823713\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/823983\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/823985\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 18, 'created': '2022-05-12 13:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/19bfbdeb5fd99ebfc0e387efd20a48ca25b16b1f', 'message': 'WIP - Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837589\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/823983\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/823985\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 19, 'created': '2022-05-12 16:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/595eb6ae851add6fcf4ec1451da8b315dd28f486', 'message': 'WIP - Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837589\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/823983\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/823985\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/841620\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/841619\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 20, 'created': '2022-05-17 11:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1f89d32c3e7fcafd37079eea02caeb43320a9ac1', 'message': 'WIP - Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837589\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/823983\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/823985\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/841620\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/841619\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/841862\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 21, 'created': '2022-05-17 11:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a788288c4d9979c80b51319eae96fa3db5f3ffc4', 'message': 'WIP - Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837589\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/823983\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/823985\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/841620\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/841619\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/841862\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 22, 'created': '2022-05-17 20:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9dc338d0748cd1b0f1dfe1b497575c85843092b8', 'message': 'WIP - Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837589\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/823983\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/823985\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/841620\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/841619\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/841862\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/842236\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 23, 'created': '2022-05-20 06:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f0c942e31babb1fcdc8c85ff6844df3f744bcbf7', 'message': 'WIP - Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837589\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/823983\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/823985\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/841620\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/841619\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/841862\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/842236\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 24, 'created': '2022-05-23 15:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fe1014b60cbafcdfe54893a4fa3c3bbc0c59dc89', 'message': 'WIP - Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837589\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/823983\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/823985\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/841620\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/841619\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/841862\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/842236\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/842988\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 25, 'created': '2022-05-25 17:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7112ccc1520f4da28379f13a5212a21af21beb98', 'message': 'WIP - Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837589\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/823983\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/823985\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/841620\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/841619\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/841862\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/842236\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/842988\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 26, 'created': '2022-05-25 19:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/230aa3bfeb6ec158630b2ba8585beff193eca59e', 'message': 'Add Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837589\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/823983\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/823985\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/841620\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/841619\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/841862\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/842236\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/842988\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 27, 'created': '2022-05-26 08:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0972faefd9afcb1ad17b15c16ae375f1c0211601', 'message': 'Add Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837589\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/823983\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/823985\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/841620\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/841619\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/841862\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/842236\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/842988\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 28, 'created': '2022-05-26 10:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1b3473201f74956e339b1dc491df5b85096a9f2e', 'message': 'Add Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837589\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/823983\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/823985\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/841620\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/841619\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/841862\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/842236\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/842988\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 29, 'created': '2022-05-26 16:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e5d55b07ec6119e4ec9e840d63341fa19c0e1448', 'message': 'Add Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837589\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/823983\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/823985\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/841620\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/841619\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/841862\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/842236\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/842988\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 30, 'created': '2022-05-26 18:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/27e65a78684be144265797f01a8dc9673a27bb86', 'message': 'Add Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837589\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/823983\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/823985\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/841620\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/841619\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/841862\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/842236\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/842988\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 31, 'created': '2022-05-27 09:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1be11b7c6130f5fe64b56955ba13ccaf9d0fe2d2', 'message': 'Add Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837589\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/823983\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/823985\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/841620\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/841619\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/841862\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/842236\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/842988\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 32, 'created': '2022-05-27 18:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/41fb401a9e714be248cc75094cbe058751888caa', 'message': 'Add Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837589\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/823983\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/823985\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/841620\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/841619\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/841862\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/842236\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/842988\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}, {'number': 33, 'created': '2022-05-27 18:45:19.000000000', 'files': ['tests/roles/bootstrap-host/vars/redhat-9.yml', 'zuul.d/project-templates.yaml', 'tests/roles/bootstrap-host/tasks/check-requirements.yml', 'tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'scripts/scripts-library.sh', 'tests/roles/bootstrap-host/tasks/prepare_networking.yml', 'scripts/bootstrap-ansible.sh', 'zuul.d/jobs.yaml', 'playbooks/openstack-hosts-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/532cda8ecb43faece40a698ec52db94329ac18fb', 'message': 'Add Centos-9 Stream support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837589\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/823983\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/823985\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/841620\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/841619\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/841862\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/842236\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/842988\nChange-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794\n'}]",50,823417,532cda8ecb43faece40a698ec52db94329ac18fb,91,4,33,25023,,,0,"Add Centos-9 Stream support

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837589
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/823983
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/823985
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/841620
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/841619
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/841862
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/842236
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/842988
Change-Id: Ia916d9f1f9d53e86dbd44ec19234599d5ed81794
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/17/823417/11 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/vars/redhat-9.yml', 'zuul.d/project-templates.yaml', 'tests/roles/bootstrap-host/tasks/check-requirements.yml', 'scripts/bootstrap-ansible.sh', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'playbooks/openstack-hosts-setup.yml']",7,3522e939fad137c6a3ec909215550a24cd4c6111,osa/centos-9, (ansible_facts['os_family'] == 'RedHat' and ansible_facts['distribution_major_version'] == '8') or (ansible_facts['os_family'] == 'RedHat' and ansible_facts['distribution_major_version'] == '9'), (ansible_facts['os_family'] == 'RedHat' and ansible_facts['distribution_major_version'] == '8'),161,12
openstack%2Fansible-role-qdrouterd~master~I264ec313bb9cdb1363339688cc63f080156c12cc,openstack/ansible-role-qdrouterd,master,I264ec313bb9cdb1363339688cc63f080156c12cc,Switch sphinx language to en,MERGED,2022-05-30 14:01:12.000000000,2022-05-30 15:35:56.000000000,2022-05-30 15:34:24.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/5b03178dc1e3149d19b8b4901b879cb164c97ec8', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I264ec313bb9cdb1363339688cc63f080156c12cc""}, {'number': 2, 'created': '2022-05-30 14:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/90a58987ea746d8fe7a81156d014ae583df48cee', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I264ec313bb9cdb1363339688cc63f080156c12cc""}, {'number': 3, 'created': '2022-05-30 14:34:59.000000000', 'files': ['setup.py', 'doc/source/conf.py', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/59786da1bb1769ee7176a5f53a2e777f9f1d0747', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and\nshould not be used.\n\nWith that we're also dropping setup.py as otherwise new setuptools\nfails for docs job as well.\n\nChange-Id: I264ec313bb9cdb1363339688cc63f080156c12cc\n""}]",0,843879,59786da1bb1769ee7176a5f53a2e777f9f1d0747,13,3,3,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and
should not be used.

With that we're also dropping setup.py as otherwise new setuptools
fails for docs job as well.

Change-Id: I264ec313bb9cdb1363339688cc63f080156c12cc
",git fetch https://review.opendev.org/openstack/ansible-role-qdrouterd refs/changes/79/843879/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,5b03178dc1e3149d19b8b4901b879cb164c97ec8,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fneutron~stable%2Fxena~Id1907481077d230e4461906a1a2a1447abac330a,openstack/neutron,stable/xena,Id1907481077d230e4461906a1a2a1447abac330a,"[OVN] Allow VIP ports with a defined ""device_owner""",MERGED,2022-05-18 09:34:10.000000000,2022-05-30 15:31:44.000000000,2022-05-30 15:29:49.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-18 09:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/becc90e8ce0ee815fe85a24239eeea5afdacbddd', 'message': '[OVN] Allow VIP ports with a defined ""device_owner""\n\nNow OVN VIP port can have a ""device_owner"" defined.\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py\n\nCloses-Bug: #1973276\nChange-Id: Id1907481077d230e4461906a1a2a1447abac330a\n(cherry picked from commit 4c37497e7c98180fb6b1118021acd8e96b7028d0)\n'}, {'number': 2, 'created': '2022-05-18 15:52:01.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e2425111b6f7413098bbb38f6013d18b3804303', 'message': '[OVN] Allow VIP ports with a defined ""device_owner""\n\nNow OVN VIP port can have a ""device_owner"" defined.\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py\n\nCloses-Bug: #1973276\nChange-Id: Id1907481077d230e4461906a1a2a1447abac330a\n(cherry picked from commit 4c37497e7c98180fb6b1118021acd8e96b7028d0)\n'}]",7,842294,9e2425111b6f7413098bbb38f6013d18b3804303,22,3,2,16688,,,0,"[OVN] Allow VIP ports with a defined ""device_owner""

Now OVN VIP port can have a ""device_owner"" defined.

Conflicts:
    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py

Closes-Bug: #1973276
Change-Id: Id1907481077d230e4461906a1a2a1447abac330a
(cherry picked from commit 4c37497e7c98180fb6b1118021acd8e96b7028d0)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/842294/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py']",2,becc90e8ce0ee815fe85a24239eeea5afdacbddd,bug/1973276," @mock.patch.object(ovn_client.OVNClient, 'get_virtual_port_parents', return_value=[]) def test_create_segments_subnet_metadata_ip_allocation(self, *args): @mock.patch.object(ovn_client.OVNClient, 'get_virtual_port_parents', return_value=[]) def test_metadata_ip_on_subnet_create(self, *args): for device_owner in ('', 'myVIPowner'): port = {'id': 'virt-port', 'mac_address': '00:00:00:00:00:00', 'device_owner': device_owner, 'network_id': self.net['id'], 'fixed_ips': [{'subnet_id': self.subnet['id'], 'ip_address': '10.0.0.55'}]} port_info = self.mech_driver._ovn_client._get_port_options(port) self.assertEqual(ovn_const.LSP_TYPE_VIRTUAL, port_info.type) self.assertEqual( '10.0.0.55', port_info.options[ovn_const.LSP_OPTIONS_VIRTUAL_IP_KEY]) self.assertIn( 'parent-0', port_info.options[ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY]) self.assertIn( 'parent-1', port_info.options[ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY])"," def test_create_segments_subnet_metadata_ip_allocation(self): def test_metadata_ip_on_subnet_create(self): port = {'id': 'virt-port', 'mac_address': '00:00:00:00:00:00', 'device_owner': '', 'network_id': self.net['id'], 'fixed_ips': [{'subnet_id': self.subnet['id'], 'ip_address': '10.0.0.55'}]} port_info = self.mech_driver._ovn_client._get_port_options( port) self.assertEqual(ovn_const.LSP_TYPE_VIRTUAL, port_info.type) self.assertEqual( '10.0.0.55', port_info.options[ovn_const.LSP_OPTIONS_VIRTUAL_IP_KEY]) self.assertIn( 'parent-0', port_info.options[ ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY]) self.assertIn( 'parent-1', port_info.options[ ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY])",33,30
openstack%2Fopenstack-ansible-os_tempest~stable%2Fwallaby~I08f562d3a42e09733b6bdefcd2c8a534d32d8cd3,openstack/openstack-ansible-os_tempest,stable/wallaby,I08f562d3a42e09733b6bdefcd2c8a534d32d8cd3,WIP set the tempest_git_install_branch to the right branch,ABANDONED,2022-05-30 12:02:07.000000000,2022-05-30 15:30:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-30 12:02:07.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/2b646a0b7cde05b42679e2e157f6d61080b7078f', 'message': 'WIP set the tempest_git_install_branch to the right branch\n\nThis is set to master but for stable/wallaby should it not be\nstable/wallaby? This is causing related-bug in tripleo\n\nRelated-Bug: 1976247\nChange-Id: I08f562d3a42e09733b6bdefcd2c8a534d32d8cd3\n'}]",1,843846,2b646a0b7cde05b42679e2e157f6d61080b7078f,4,2,1,8449,,,0,"WIP set the tempest_git_install_branch to the right branch

This is set to master but for stable/wallaby should it not be
stable/wallaby? This is causing related-bug in tripleo

Related-Bug: 1976247
Change-Id: I08f562d3a42e09733b6bdefcd2c8a534d32d8cd3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/46/843846/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,2b646a0b7cde05b42679e2e157f6d61080b7078f,,tempest_git_install_branch: stable/wallaby,tempest_git_install_branch: master,1,1
openstack%2Fopenstack-ansible-os_sahara~master~I1aeb896d936a2ae3a6dfc08de6bfa01f2274bff1,openstack/openstack-ansible-os_sahara,master,I1aeb896d936a2ae3a6dfc08de6bfa01f2274bff1,Switch sphinx language to en,MERGED,2022-05-30 14:01:41.000000000,2022-05-30 15:20:41.000000000,2022-05-30 15:19:17.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/9231dc31f5eb1c817acd801eff5f87d02c6e028b', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I1aeb896d936a2ae3a6dfc08de6bfa01f2274bff1""}, {'number': 2, 'created': '2022-05-30 14:39:34.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/f8ff70e99c02bd1df1045f0f794ffc2de6fa2648', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I1aeb896d936a2ae3a6dfc08de6bfa01f2274bff1""}]",1,843916,f8ff70e99c02bd1df1045f0f794ffc2de6fa2648,14,4,2,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I1aeb896d936a2ae3a6dfc08de6bfa01f2274bff1",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/16/843916/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,9231dc31f5eb1c817acd801eff5f87d02c6e028b,osa/sphinx5,role_name = 'os_senlin'language = 'en',role_name = 'os_sahara'language = None,2,2
openstack%2Freleases~master~I7fdcf179bf0f08dff53e8b1821298545bc18d1f6,openstack/releases,master,I7fdcf179bf0f08dff53e8b1821298545bc18d1f6,Release OpenStack-Ansible Xena,MERGED,2022-05-30 12:19:13.000000000,2022-05-30 15:12:56.000000000,2022-05-30 15:12:56.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-05-30 12:19:13.000000000', 'files': ['deliverables/xena/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/55a8bf125a7e7aa867a35429fb2c16dbeb0875db', 'message': 'Release OpenStack-Ansible Xena\n\nChange-Id: I7fdcf179bf0f08dff53e8b1821298545bc18d1f6\n'}]",2,843850,55a8bf125a7e7aa867a35429fb2c16dbeb0875db,8,3,1,28619,,,0,"Release OpenStack-Ansible Xena

Change-Id: I7fdcf179bf0f08dff53e8b1821298545bc18d1f6
",git fetch https://review.opendev.org/openstack/releases refs/changes/50/843850/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/openstack-ansible.yaml'],1,55a8bf125a7e7aa867a35429fb2c16dbeb0875db,release_osa, - version: 24.3.0 projects: - repo: openstack/openstack-ansible hash: 2d888e12ba770fc5bb4794a66fff5cf016d92537,,4,0
openstack%2Fopenstack-ansible-os_octavia~master~I7d612a82e0b79ad1d34f9cbd75c5e19f201d7741,openstack/openstack-ansible-os_octavia,master,I7d612a82e0b79ad1d34f9cbd75c5e19f201d7741,Switch sphinx language to en,MERGED,2022-05-30 14:01:41.000000000,2022-05-30 15:09:36.000000000,2022-05-30 15:07:40.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:41.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/24009cfef61a0e092d5cd1e3016fd35a81fc1a76', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I7d612a82e0b79ad1d34f9cbd75c5e19f201d7741""}]",0,843917,24009cfef61a0e092d5cd1e3016fd35a81fc1a76,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I7d612a82e0b79ad1d34f9cbd75c5e19f201d7741",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/17/843917/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,24009cfef61a0e092d5cd1e3016fd35a81fc1a76,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Freleases~master~Id9fc198f41e8311ad1d75f4eb9a8efbef75ee81b,openstack/releases,master,Id9fc198f41e8311ad1d75f4eb9a8efbef75ee81b,Release OpenStack-Ansible Wallaby,MERGED,2022-05-30 12:17:27.000000000,2022-05-30 15:08:53.000000000,2022-05-30 15:08:53.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-05-30 12:17:27.000000000', 'files': ['deliverables/wallaby/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/31bf38534d371d1f636618d47e1ceaa08195ae02', 'message': 'Release OpenStack-Ansible Wallaby\n\nChange-Id: Id9fc198f41e8311ad1d75f4eb9a8efbef75ee81b\n'}]",1,843849,31bf38534d371d1f636618d47e1ceaa08195ae02,8,3,1,28619,,,0,"Release OpenStack-Ansible Wallaby

Change-Id: Id9fc198f41e8311ad1d75f4eb9a8efbef75ee81b
",git fetch https://review.opendev.org/openstack/releases refs/changes/49/843849/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/openstack-ansible.yaml'],1,31bf38534d371d1f636618d47e1ceaa08195ae02,release_osa, - version: 23.3.1 projects: - repo: openstack/openstack-ansible hash: 5569fe4ecf892aa8e3d3e459cfe65f356aa0c8bd,,4,0
openstack%2Fopenstack-ansible-os_gnocchi~master~Ia9f50e5377bda2e141eafa5aa8150024455600e1,openstack/openstack-ansible-os_gnocchi,master,Ia9f50e5377bda2e141eafa5aa8150024455600e1,Switch sphinx language to en,MERGED,2022-05-30 14:01:27.000000000,2022-05-30 15:08:40.000000000,2022-05-30 15:06:22.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:27.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/c845819cae0b9606043682008a389716cf3c537a', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: Ia9f50e5377bda2e141eafa5aa8150024455600e1""}]",0,843900,c845819cae0b9606043682008a389716cf3c537a,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: Ia9f50e5377bda2e141eafa5aa8150024455600e1",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/00/843900/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,c845819cae0b9606043682008a389716cf3c537a,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-galera_server~master~Ica024d61da18ad948d9bc6717acabc58911715c8,openstack/openstack-ansible-galera_server,master,Ica024d61da18ad948d9bc6717acabc58911715c8,Switch sphinx language to en,MERGED,2022-05-30 14:01:17.000000000,2022-05-30 15:08:36.000000000,2022-05-30 15:06:25.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:17.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/cc703ccb9f934694ea34a1386ebdd34609aa9a1f', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: Ica024d61da18ad948d9bc6717acabc58911715c8""}]",0,843885,cc703ccb9f934694ea34a1386ebdd34609aa9a1f,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: Ica024d61da18ad948d9bc6717acabc58911715c8",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/85/843885/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,cc703ccb9f934694ea34a1386ebdd34609aa9a1f,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_swift~master~Ifd2b3956ee3f8a7847256d6444cccf674c7d526e,openstack/openstack-ansible-os_swift,master,Ifd2b3956ee3f8a7847256d6444cccf674c7d526e,Switch sphinx language to en,MERGED,2022-05-30 14:01:41.000000000,2022-05-30 15:07:57.000000000,2022-05-30 15:05:53.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:41.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/7d8259c4860270472b6669503a091e5025c0d513', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: Ifd2b3956ee3f8a7847256d6444cccf674c7d526e""}]",0,843918,7d8259c4860270472b6669503a091e5025c0d513,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: Ifd2b3956ee3f8a7847256d6444cccf674c7d526e",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/18/843918/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,7d8259c4860270472b6669503a091e5025c0d513,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_zun~master~I1b2e3df4d12b6b5d71159d831f6f0a65fb7d2263,openstack/openstack-ansible-os_zun,master,I1b2e3df4d12b6b5d71159d831f6f0a65fb7d2263,Switch sphinx language to en,MERGED,2022-05-30 14:01:46.000000000,2022-05-30 15:07:23.000000000,2022-05-30 15:05:23.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:46.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/9825b2cfe94e8a3d6b5c108f2426489c453dcf91', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I1b2e3df4d12b6b5d71159d831f6f0a65fb7d2263""}]",0,843920,9825b2cfe94e8a3d6b5c108f2426489c453dcf91,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I1b2e3df4d12b6b5d71159d831f6f0a65fb7d2263",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/20/843920/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,9825b2cfe94e8a3d6b5c108f2426489c453dcf91,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_heat~master~I1ca40de0eaeacd389e7b54cbf1b06a26840fb4d0,openstack/openstack-ansible-os_heat,master,I1ca40de0eaeacd389e7b54cbf1b06a26840fb4d0,Switch sphinx language to en,MERGED,2022-05-30 14:01:32.000000000,2022-05-30 15:07:09.000000000,2022-05-30 15:04:58.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:32.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/a69fc500fa3d394ae2d09e22f70429871d582fce', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I1ca40de0eaeacd389e7b54cbf1b06a26840fb4d0""}]",0,843907,a69fc500fa3d394ae2d09e22f70429871d582fce,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I1ca40de0eaeacd389e7b54cbf1b06a26840fb4d0",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/07/843907/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,a69fc500fa3d394ae2d09e22f70429871d582fce,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_tacker~master~I6f1f4a56d8f96c70308b630c149ec87f6c45b832,openstack/openstack-ansible-os_tacker,master,I6f1f4a56d8f96c70308b630c149ec87f6c45b832,Switch sphinx language to en,MERGED,2022-05-30 14:01:41.000000000,2022-05-30 15:05:47.000000000,2022-05-30 15:03:23.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:41.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/d3794939f010941ef4c616155a03ef978e8e5eb7', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I6f1f4a56d8f96c70308b630c149ec87f6c45b832""}]",0,843915,d3794939f010941ef4c616155a03ef978e8e5eb7,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I6f1f4a56d8f96c70308b630c149ec87f6c45b832",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/15/843915/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,d3794939f010941ef4c616155a03ef978e8e5eb7,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_mistral~master~Ifcc9212f51102970cea67fb59b037151c6cfda3a,openstack/openstack-ansible-os_mistral,master,Ifcc9212f51102970cea67fb59b037151c6cfda3a,Switch sphinx language to en,MERGED,2022-05-30 14:01:32.000000000,2022-05-30 15:05:01.000000000,2022-05-30 15:02:34.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:32.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/f7fb516d5506837f5e26eb5fa434ffd0d511b466', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: Ifcc9212f51102970cea67fb59b037151c6cfda3a""}]",0,843910,f7fb516d5506837f5e26eb5fa434ffd0d511b466,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: Ifcc9212f51102970cea67fb59b037151c6cfda3a",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/10/843910/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,f7fb516d5506837f5e26eb5fa434ffd0d511b466,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_ironic~master~I7c9cb9da12c921fd8531f88e6d33852e0076e1b2,openstack/openstack-ansible-os_ironic,master,I7c9cb9da12c921fd8531f88e6d33852e0076e1b2,Switch sphinx language to en,MERGED,2022-05-30 14:01:29.000000000,2022-05-30 15:05:01.000000000,2022-05-30 15:02:32.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:29.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/3c71d45c0d88a6c7c3a7089d426ebf57f7667693', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I7c9cb9da12c921fd8531f88e6d33852e0076e1b2""}]",0,843903,3c71d45c0d88a6c7c3a7089d426ebf57f7667693,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I7c9cb9da12c921fd8531f88e6d33852e0076e1b2",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/03/843903/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,3c71d45c0d88a6c7c3a7089d426ebf57f7667693,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_placement~master~If134334692ceb392f5a3704415ea4bb6cdeeb85f,openstack/openstack-ansible-os_placement,master,If134334692ceb392f5a3704415ea4bb6cdeeb85f,Switch sphinx language to en,MERGED,2022-05-30 14:01:41.000000000,2022-05-30 15:04:46.000000000,2022-05-30 15:02:08.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:41.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/025824434be3ee3b551b54f42b3b6b7f2dd9288e', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: If134334692ceb392f5a3704415ea4bb6cdeeb85f""}]",0,843914,025824434be3ee3b551b54f42b3b6b7f2dd9288e,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: If134334692ceb392f5a3704415ea4bb6cdeeb85f",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/14/843914/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,025824434be3ee3b551b54f42b3b6b7f2dd9288e,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_rally~master~I2de7c07f52d75740e9a1050ef3f1e19e88aeb808,openstack/openstack-ansible-os_rally,master,I2de7c07f52d75740e9a1050ef3f1e19e88aeb808,Switch sphinx language to en,MERGED,2022-05-30 14:01:41.000000000,2022-05-30 15:04:05.000000000,2022-05-30 15:01:33.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:41.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/854b8a2b1f35e441cc09fa6b51b8b586351a4a53', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I2de7c07f52d75740e9a1050ef3f1e19e88aeb808""}]",0,843913,854b8a2b1f35e441cc09fa6b51b8b586351a4a53,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I2de7c07f52d75740e9a1050ef3f1e19e88aeb808",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/13/843913/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,854b8a2b1f35e441cc09fa6b51b8b586351a4a53,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_cloudkitty~master~I92ad4a90f367fe95899973912edb222e84903adc,openstack/openstack-ansible-os_cloudkitty,master,I92ad4a90f367fe95899973912edb222e84903adc,Switch sphinx language to en,MERGED,2022-05-30 14:01:24.000000000,2022-05-30 15:03:59.000000000,2022-05-30 15:01:35.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:24.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/2d98ac9ec700d286d4ccdf79477e00776d932c44', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I92ad4a90f367fe95899973912edb222e84903adc""}]",0,843896,2d98ac9ec700d286d4ccdf79477e00776d932c44,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I92ad4a90f367fe95899973912edb222e84903adc",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/96/843896/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,2d98ac9ec700d286d4ccdf79477e00776d932c44,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_barbican~master~Iab6ae5aad622051222816985aabecf5a01aacb8f,openstack/openstack-ansible-os_barbican,master,Iab6ae5aad622051222816985aabecf5a01aacb8f,Switch sphinx language to en,MERGED,2022-05-30 14:01:22.000000000,2022-05-30 15:03:30.000000000,2022-05-30 15:01:06.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:22.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/e5e1a59e05df9f09e21e13d4bec9056b0a93accd', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: Iab6ae5aad622051222816985aabecf5a01aacb8f""}]",0,843893,e5e1a59e05df9f09e21e13d4bec9056b0a93accd,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: Iab6ae5aad622051222816985aabecf5a01aacb8f",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/93/843893/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,e5e1a59e05df9f09e21e13d4bec9056b0a93accd,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-ceph_client~master~Iacff492513352324cc94535c756b220d4753541d,openstack/openstack-ansible-ceph_client,master,Iacff492513352324cc94535c756b220d4753541d,Switch sphinx language to en,MERGED,2022-05-30 14:01:15.000000000,2022-05-30 15:02:54.000000000,2022-05-30 15:00:40.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:15.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/d9844a4e9421c5324eeed1a4f811681bebf6f565', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: Iacff492513352324cc94535c756b220d4753541d""}]",0,843883,d9844a4e9421c5324eeed1a4f811681bebf6f565,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: Iacff492513352324cc94535c756b220d4753541d",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/83/843883/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,d9844a4e9421c5324eeed1a4f811681bebf6f565,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_glance~master~Iefc217495e209c30782c8bd8fb4de54b3e683992,openstack/openstack-ansible-os_glance,master,Iefc217495e209c30782c8bd8fb4de54b3e683992,Switch sphinx language to en,MERGED,2022-05-30 14:01:26.000000000,2022-05-30 15:02:53.000000000,2022-05-30 15:00:07.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:26.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/93c73e99b114346bd1e9100a800ca791e50a02c1', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: Iefc217495e209c30782c8bd8fb4de54b3e683992""}]",0,843898,93c73e99b114346bd1e9100a800ca791e50a02c1,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: Iefc217495e209c30782c8bd8fb4de54b3e683992",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/98/843898/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,93c73e99b114346bd1e9100a800ca791e50a02c1,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_senlin~master~I7d5b9f027d252cccd39c7fe85743ac691773a66d,openstack/openstack-ansible-os_senlin,master,I7d5b9f027d252cccd39c7fe85743ac691773a66d,Switch sphinx language to en,MERGED,2022-05-30 14:01:41.000000000,2022-05-30 15:02:40.000000000,2022-05-30 15:00:10.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:41.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_senlin/commit/f9cb1f0953c0544988211d551a8913923e707c2d', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I7d5b9f027d252cccd39c7fe85743ac691773a66d""}]",0,843912,f9cb1f0953c0544988211d551a8913923e707c2d,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I7d5b9f027d252cccd39c7fe85743ac691773a66d",git fetch https://review.opendev.org/openstack/openstack-ansible-os_senlin refs/changes/12/843912/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,f9cb1f0953c0544988211d551a8913923e707c2d,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fansible-role-pki~master~I11dc3eb0704a9ccad13927fd6321fd3cd7f2f8ed,openstack/ansible-role-pki,master,I11dc3eb0704a9ccad13927fd6321fd3cd7f2f8ed,Switch sphinx language to en,MERGED,2022-05-30 14:01:10.000000000,2022-05-30 15:02:40.000000000,2022-05-30 15:00:09.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:10.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/39a320161a58b3fc852a3e656b803886d7f2f79a', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I11dc3eb0704a9ccad13927fd6321fd3cd7f2f8ed""}]",0,843875,39a320161a58b3fc852a3e656b803886d7f2f79a,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I11dc3eb0704a9ccad13927fd6321fd3cd7f2f8ed",git fetch https://review.opendev.org/openstack/ansible-role-pki refs/changes/75/843875/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,39a320161a58b3fc852a3e656b803886d7f2f79a,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-haproxy_server~master~Ibea41d4f472fa7b375d9d04e94ad621696f565b1,openstack/openstack-ansible-haproxy_server,master,Ibea41d4f472fa7b375d9d04e94ad621696f565b1,Switch sphinx language to en,MERGED,2022-05-30 14:01:16.000000000,2022-05-30 15:02:39.000000000,2022-05-30 15:00:05.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:16.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/8a81b355d8bc0a8828288d7c571639500a4e3e7e', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: Ibea41d4f472fa7b375d9d04e94ad621696f565b1""}]",0,843884,8a81b355d8bc0a8828288d7c571639500a4e3e7e,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: Ibea41d4f472fa7b375d9d04e94ad621696f565b1",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/84/843884/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,8a81b355d8bc0a8828288d7c571639500a4e3e7e,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-lxc_container_create~master~I3f0403e3d74f105ea567ee411349791eae3a470c,openstack/openstack-ansible-lxc_container_create,master,I3f0403e3d74f105ea567ee411349791eae3a470c,Switch sphinx language to en,MERGED,2022-05-30 14:01:17.000000000,2022-05-30 15:02:04.000000000,2022-05-30 14:58:44.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:17.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/37422a7e3dbfff32a1e18c69ca288e593c620727', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I3f0403e3d74f105ea567ee411349791eae3a470c""}]",0,843887,37422a7e3dbfff32a1e18c69ca288e593c620727,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I3f0403e3d74f105ea567ee411349791eae3a470c",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/87/843887/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,37422a7e3dbfff32a1e18c69ca288e593c620727,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_designate~master~Ib834fe1c19784db978fe87495e5736dafe6c4e99,openstack/openstack-ansible-os_designate,master,Ib834fe1c19784db978fe87495e5736dafe6c4e99,Switch sphinx language to en,MERGED,2022-05-30 14:01:27.000000000,2022-05-30 15:02:04.000000000,2022-05-30 14:58:41.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:27.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/79b0b8e1ee401255f4fd3927abaa1561f0a20e44', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: Ib834fe1c19784db978fe87495e5736dafe6c4e99""}]",0,843899,79b0b8e1ee401255f4fd3927abaa1561f0a20e44,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: Ib834fe1c19784db978fe87495e5736dafe6c4e99",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/99/843899/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,79b0b8e1ee401255f4fd3927abaa1561f0a20e44,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_manila~master~Ic728c71b6d1f44b903ac0ade0ab2516a6cdc16fb,openstack/openstack-ansible-os_manila,master,Ic728c71b6d1f44b903ac0ade0ab2516a6cdc16fb,Switch sphinx language to en,MERGED,2022-05-30 14:01:31.000000000,2022-05-30 15:02:03.000000000,2022-05-30 14:58:34.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:31.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/4bff5b4352370508429675fb0653580ba5e787ba', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: Ic728c71b6d1f44b903ac0ade0ab2516a6cdc16fb""}]",0,843904,4bff5b4352370508429675fb0653580ba5e787ba,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: Ic728c71b6d1f44b903ac0ade0ab2516a6cdc16fb",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/04/843904/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,4bff5b4352370508429675fb0653580ba5e787ba,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-openstack_openrc~master~Iacb546eeff620c3820039e4ac5656c3383ce8e5c,openstack/openstack-ansible-openstack_openrc,master,Iacb546eeff620c3820039e4ac5656c3383ce8e5c,Switch sphinx language to en,MERGED,2022-05-30 14:01:19.000000000,2022-05-30 15:01:47.000000000,2022-05-30 14:59:32.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:19.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/688378603315200dee5b29833e3676b951174698', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: Iacb546eeff620c3820039e4ac5656c3383ce8e5c""}]",0,843889,688378603315200dee5b29833e3676b951174698,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: Iacb546eeff620c3820039e4ac5656c3383ce8e5c",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/89/843889/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,688378603315200dee5b29833e3676b951174698,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_horizon~master~I7148e18813fd9dddd77392b20705e885fb41dd65,openstack/openstack-ansible-os_horizon,master,I7148e18813fd9dddd77392b20705e885fb41dd65,Switch sphinx language to en,MERGED,2022-05-30 14:01:28.000000000,2022-05-30 15:01:46.000000000,2022-05-30 14:59:30.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:28.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/99f8b02ba0052fd111b0ad4f12831203a9b594a3', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I7148e18813fd9dddd77392b20705e885fb41dd65""}]",0,843901,99f8b02ba0052fd111b0ad4f12831203a9b594a3,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I7148e18813fd9dddd77392b20705e885fb41dd65",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/01/843901/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,99f8b02ba0052fd111b0ad4f12831203a9b594a3,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fansible-role-python_venv_build~master~I693a7be59720ab2e00088e8f0dfbfd646316afb7,openstack/ansible-role-python_venv_build,master,I693a7be59720ab2e00088e8f0dfbfd646316afb7,Switch sphinx language to en,MERGED,2022-05-30 14:01:11.000000000,2022-05-30 15:01:45.000000000,2022-05-30 14:58:39.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:11.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/04f58473495eb3127ffd2486ae993355269c9905', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I693a7be59720ab2e00088e8f0dfbfd646316afb7""}]",0,843878,04f58473495eb3127ffd2486ae993355269c9905,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I693a7be59720ab2e00088e8f0dfbfd646316afb7",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/78/843878/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,04f58473495eb3127ffd2486ae993355269c9905,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fansible-hardening~master~I159a23ae2c147f75c0944a0a5e92f1a19ba20e2b,openstack/ansible-hardening,master,I159a23ae2c147f75c0944a0a5e92f1a19ba20e2b,Switch sphinx language to en,MERGED,2022-05-30 14:01:20.000000000,2022-05-30 15:01:45.000000000,2022-05-30 14:58:37.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:20.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/38909eae0e4653e0a78634a990791c4f59834b4b', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I159a23ae2c147f75c0944a0a5e92f1a19ba20e2b""}]",0,843891,38909eae0e4653e0a78634a990791c4f59834b4b,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I159a23ae2c147f75c0944a0a5e92f1a19ba20e2b",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/91/843891/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,38909eae0e4653e0a78634a990791c4f59834b4b,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_blazar~master~Ic60f8576f17e513622c036bd88c9602d82f04c33,openstack/openstack-ansible-os_blazar,master,Ic60f8576f17e513622c036bd88c9602d82f04c33,Switch sphinx language to en,MERGED,2022-05-30 14:01:23.000000000,2022-05-30 15:01:36.000000000,2022-05-30 14:59:28.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:23.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/1a5758969a402916fda7dd2923074d4f8e7edf92', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: Ic60f8576f17e513622c036bd88c9602d82f04c33""}]",0,843895,1a5758969a402916fda7dd2923074d4f8e7edf92,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: Ic60f8576f17e513622c036bd88c9602d82f04c33",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/95/843895/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,1a5758969a402916fda7dd2923074d4f8e7edf92,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-rsyslog_client~master~I2ead74d2f14dc9364243c919fddba110864ca6f1,openstack/openstack-ansible-rsyslog_client,master,I2ead74d2f14dc9364243c919fddba110864ca6f1,Switch sphinx language to en,MERGED,2022-05-30 14:01:47.000000000,2022-05-30 15:01:35.000000000,2022-05-30 14:59:26.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:47.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/8b3426e27d6d2f40811ef6c701ce63325a11a053', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I2ead74d2f14dc9364243c919fddba110864ca6f1""}]",0,843921,8b3426e27d6d2f40811ef6c701ce63325a11a053,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I2ead74d2f14dc9364243c919fddba110864ca6f1",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/21/843921/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,8b3426e27d6d2f40811ef6c701ce63325a11a053,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_murano~master~Id8c1fb76eb00056fef039cfdcd2ef351358f53c7,openstack/openstack-ansible-os_murano,master,Id8c1fb76eb00056fef039cfdcd2ef351358f53c7,Switch sphinx language to en,MERGED,2022-05-30 14:01:32.000000000,2022-05-30 15:01:16.000000000,2022-05-30 14:58:46.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/baf5d02070e2f574bea12a5bfc0ab6d12e202a14', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: Id8c1fb76eb00056fef039cfdcd2ef351358f53c7""}, {'number': 2, 'created': '2022-05-30 14:41:12.000000000', 'files': ['setup.py', 'doc/source/conf.py', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/6960333d5d5f27eeed4532f795237408696b0563', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: Id8c1fb76eb00056fef039cfdcd2ef351358f53c7""}]",0,843909,6960333d5d5f27eeed4532f795237408696b0563,11,3,2,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: Id8c1fb76eb00056fef039cfdcd2ef351358f53c7",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/09/843909/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,baf5d02070e2f574bea12a5bfc0ab6d12e202a14,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_adjutant~master~If80c56fd8f63e28e3f98e6554e846915d0ba41e8,openstack/openstack-ansible-os_adjutant,master,If80c56fd8f63e28e3f98e6554e846915d0ba41e8,Switch sphinx language to en,MERGED,2022-05-30 14:01:20.000000000,2022-05-30 15:01:16.000000000,2022-05-30 14:58:36.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:20.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_adjutant/commit/a5e9acc16dd212663a41fbc184605066e161d8c3', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: If80c56fd8f63e28e3f98e6554e846915d0ba41e8""}]",0,843892,a5e9acc16dd212663a41fbc184605066e161d8c3,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: If80c56fd8f63e28e3f98e6554e846915d0ba41e8",git fetch https://review.opendev.org/openstack/openstack-ansible-os_adjutant refs/changes/92/843892/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,a5e9acc16dd212663a41fbc184605066e161d8c3,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_ceilometer~master~I682938bd14db47a50c0cc12e288e5a095565e820,openstack/openstack-ansible-os_ceilometer,master,I682938bd14db47a50c0cc12e288e5a095565e820,Switch sphinx language to en,MERGED,2022-05-30 13:49:24.000000000,2022-05-30 15:01:15.000000000,2022-05-30 14:57:54.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 13:49:24.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/ff76357c81211a18569a6dacf36b11d601c57ceb', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\n\nChange-Id: I682938bd14db47a50c0cc12e288e5a095565e820""}]",0,843872,ff76357c81211a18569a6dacf36b11d601c57ceb,10,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.



Change-Id: I682938bd14db47a50c0cc12e288e5a095565e820",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/72/843872/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,ff76357c81211a18569a6dacf36b11d601c57ceb,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-memcached_server~master~I40b2635eafe8221218010d1c3cd5cf5717bc2800,openstack/openstack-ansible-memcached_server,master,I40b2635eafe8221218010d1c3cd5cf5717bc2800,Switch sphinx language to en,MERGED,2022-05-30 14:01:17.000000000,2022-05-30 15:00:32.000000000,2022-05-30 14:58:00.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:17.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/9847bf2f5901fdaaf95da7cca32e750e8e56e366', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I40b2635eafe8221218010d1c3cd5cf5717bc2800""}]",0,843886,9847bf2f5901fdaaf95da7cca32e750e8e56e366,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I40b2635eafe8221218010d1c3cd5cf5717bc2800",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/86/843886/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,9847bf2f5901fdaaf95da7cca32e750e8e56e366,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fansible-role-systemd_networkd~master~Icc83041041372b0fb5a9fa897d336f48f3df78b9,openstack/ansible-role-systemd_networkd,master,Icc83041041372b0fb5a9fa897d336f48f3df78b9,Switch sphinx language to en,MERGED,2022-05-30 14:01:12.000000000,2022-05-30 15:00:22.000000000,2022-05-30 14:57:58.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:12.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/1906bd37ec78d1bb9ab4496467dfc2afe0875973', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: Icc83041041372b0fb5a9fa897d336f48f3df78b9""}]",0,843880,1906bd37ec78d1bb9ab4496467dfc2afe0875973,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: Icc83041041372b0fb5a9fa897d336f48f3df78b9",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/80/843880/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,1906bd37ec78d1bb9ab4496467dfc2afe0875973,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_magnum~master~I7bd4a4623db0913fee84afc237c4bbb520f26c76,openstack/openstack-ansible-os_magnum,master,I7bd4a4623db0913fee84afc237c4bbb520f26c76,Switch sphinx language to en,MERGED,2022-05-30 14:01:32.000000000,2022-05-30 15:00:21.000000000,2022-05-30 14:57:56.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:32.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/1a3615afdfe55fea362ffb4103430a2d9ac483f5', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I7bd4a4623db0913fee84afc237c4bbb520f26c76""}]",0,843908,1a3615afdfe55fea362ffb4103430a2d9ac483f5,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I7bd4a4623db0913fee84afc237c4bbb520f26c76",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/08/843908/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,1a3615afdfe55fea362ffb4103430a2d9ac483f5,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-openstack_hosts~master~Iba54e7d77b51e6c70c0d7a32a3b334807d255f7c,openstack/openstack-ansible-openstack_hosts,master,Iba54e7d77b51e6c70c0d7a32a3b334807d255f7c,Switch sphinx language to en,MERGED,2022-05-30 14:01:20.000000000,2022-05-30 15:00:03.000000000,2022-05-30 14:57:27.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:20.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/eb329bfbb9b8890ef6d62280cb6d840e3261e765', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: Iba54e7d77b51e6c70c0d7a32a3b334807d255f7c""}]",0,843890,eb329bfbb9b8890ef6d62280cb6d840e3261e765,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: Iba54e7d77b51e6c70c0d7a32a3b334807d255f7c",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/90/843890/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,eb329bfbb9b8890ef6d62280cb6d840e3261e765,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_keystone~master~I7f03a145490529e703aced630c49d08b0e59a435,openstack/openstack-ansible-os_keystone,master,I7f03a145490529e703aced630c49d08b0e59a435,Switch sphinx language to en,MERGED,2022-05-30 14:01:31.000000000,2022-05-30 15:00:03.000000000,2022-05-30 14:57:24.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:31.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/ca382d2c03e49ae3ae048876eca78a1a66a3c812', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I7f03a145490529e703aced630c49d08b0e59a435""}]",0,843906,ca382d2c03e49ae3ae048876eca78a1a66a3c812,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I7f03a145490529e703aced630c49d08b0e59a435",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/06/843906/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,ca382d2c03e49ae3ae048876eca78a1a66a3c812,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_trove~master~Iabdc99ad150ea318263b4c384b26160c4b6c816a,openstack/openstack-ansible-os_trove,master,Iabdc99ad150ea318263b4c384b26160c4b6c816a,Switch sphinx language to en,MERGED,2022-05-30 14:01:47.000000000,2022-05-30 15:00:02.000000000,2022-05-30 14:57:22.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:47.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/6dff6afa76649247cd412558a64a4455b4a1e112', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: Iabdc99ad150ea318263b4c384b26160c4b6c816a""}]",0,843923,6dff6afa76649247cd412558a64a4455b4a1e112,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: Iabdc99ad150ea318263b4c384b26160c4b6c816a",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/23/843923/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,6dff6afa76649247cd412558a64a4455b4a1e112,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fansible-role-uwsgi~master~I6c7bb111601e7ae04f66b2336164679042169767,openstack/ansible-role-uwsgi,master,I6c7bb111601e7ae04f66b2336164679042169767,Switch sphinx language to en,MERGED,2022-05-30 14:01:11.000000000,2022-05-30 14:59:46.000000000,2022-05-30 14:57:21.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:11.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/d30b01f30f7cf90748bd664c1f1c150b27fe1fc3', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I6c7bb111601e7ae04f66b2336164679042169767""}]",0,843876,d30b01f30f7cf90748bd664c1f1c150b27fe1fc3,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I6c7bb111601e7ae04f66b2336164679042169767",git fetch https://review.opendev.org/openstack/ansible-role-uwsgi refs/changes/76/843876/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,d30b01f30f7cf90748bd664c1f1c150b27fe1fc3,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-rabbitmq_server~master~I64557e48679227101ba1cd20a95385df3d493a4d,openstack/openstack-ansible-rabbitmq_server,master,I64557e48679227101ba1cd20a95385df3d493a4d,Switch sphinx language to en,MERGED,2022-05-30 14:01:48.000000000,2022-05-30 14:59:45.000000000,2022-05-30 14:57:19.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:48.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/30f338e4bcd2e693dc4ecb5dc1d1509982440e52', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I64557e48679227101ba1cd20a95385df3d493a4d""}]",0,843924,30f338e4bcd2e693dc4ecb5dc1d1509982440e52,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I64557e48679227101ba1cd20a95385df3d493a4d",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/24/843924/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,30f338e4bcd2e693dc4ecb5dc1d1509982440e52,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_masakari~master~Ib85d59a879972de4f5771335f1772447f39d0219,openstack/openstack-ansible-os_masakari,master,Ib85d59a879972de4f5771335f1772447f39d0219,Switch sphinx language to en,MERGED,2022-05-30 14:01:31.000000000,2022-05-30 14:59:44.000000000,2022-05-30 14:56:53.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:31.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/abb26f320e56af6a38a676cf1604b4f29762b0ad', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: Ib85d59a879972de4f5771335f1772447f39d0219""}]",0,843905,abb26f320e56af6a38a676cf1604b4f29762b0ad,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: Ib85d59a879972de4f5771335f1772447f39d0219",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/05/843905/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,abb26f320e56af6a38a676cf1604b4f29762b0ad,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fansible-role-systemd_mount~master~Ie1bbbbd73c3d33cb8b7bc99bf32b6497c7f40534,openstack/ansible-role-systemd_mount,master,Ie1bbbbd73c3d33cb8b7bc99bf32b6497c7f40534,Switch sphinx language to en,MERGED,2022-05-30 14:01:11.000000000,2022-05-30 14:59:12.000000000,2022-05-30 14:56:51.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:11.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/076b8f940e88eec34fb2a4b7a05fd9fea8ee7b3b', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: Ie1bbbbd73c3d33cb8b7bc99bf32b6497c7f40534""}]",0,843877,076b8f940e88eec34fb2a4b7a05fd9fea8ee7b3b,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: Ie1bbbbd73c3d33cb8b7bc99bf32b6497c7f40534",git fetch https://review.opendev.org/openstack/ansible-role-systemd_mount refs/changes/77/843877/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,076b8f940e88eec34fb2a4b7a05fd9fea8ee7b3b,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_nova~master~I6f3bdb6e63986bb25371f09c6c468dc055fd3050,openstack/openstack-ansible-os_nova,master,I6f3bdb6e63986bb25371f09c6c468dc055fd3050,Switch sphinx language to en,MERGED,2022-05-30 14:01:41.000000000,2022-05-30 14:58:28.000000000,2022-05-30 14:56:00.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:41.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/cf66cd365c5c4ab7276b8d9a2c11d149f1884eb3', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I6f3bdb6e63986bb25371f09c6c468dc055fd3050""}]",0,843919,cf66cd365c5c4ab7276b8d9a2c11d149f1884eb3,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I6f3bdb6e63986bb25371f09c6c468dc055fd3050",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/19/843919/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,cf66cd365c5c4ab7276b8d9a2c11d149f1884eb3,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fansible-role-systemd_service~master~I55beac04ca11efef8a700d8f8544a853fd4af744,openstack/ansible-role-systemd_service,master,I55beac04ca11efef8a700d8f8544a853fd4af744,Switch sphinx language to en,MERGED,2022-05-30 14:01:13.000000000,2022-05-30 14:58:27.000000000,2022-05-30 14:55:58.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:13.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/4bc059e9d93fc80f225564955db410de6463262e', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I55beac04ca11efef8a700d8f8544a853fd4af744""}]",0,843881,4bc059e9d93fc80f225564955db410de6463262e,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I55beac04ca11efef8a700d8f8544a853fd4af744",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/81/843881/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,4bc059e9d93fc80f225564955db410de6463262e,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-apt_package_pinning~master~I9a6a84a5e0cfef769578e4d3ab49248045fba93f,openstack/openstack-ansible-apt_package_pinning,master,I9a6a84a5e0cfef769578e4d3ab49248045fba93f,Switch sphinx language to en,MERGED,2022-05-30 14:01:15.000000000,2022-05-30 14:58:07.000000000,2022-05-30 14:55:56.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:15.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/967cbe4a3e2d181ee139a849dced4227fbc76d95', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I9a6a84a5e0cfef769578e4d3ab49248045fba93f""}]",0,843882,967cbe4a3e2d181ee139a849dced4227fbc76d95,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I9a6a84a5e0cfef769578e4d3ab49248045fba93f",git fetch https://review.opendev.org/openstack/openstack-ansible-apt_package_pinning refs/changes/82/843882/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,967cbe4a3e2d181ee139a849dced4227fbc76d95,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-rsyslog_server~master~Id7326c17ecc4a9388952a4fe2e90ce935047a6f8,openstack/openstack-ansible-rsyslog_server,master,Id7326c17ecc4a9388952a4fe2e90ce935047a6f8,Switch sphinx language to en,MERGED,2022-05-30 14:01:47.000000000,2022-05-30 14:57:35.000000000,2022-05-30 14:55:15.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:47.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/e6fea6f8eac588d4d1ef60df888e52f933d3caa7', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: Id7326c17ecc4a9388952a4fe2e90ce935047a6f8""}]",0,843922,e6fea6f8eac588d4d1ef60df888e52f933d3caa7,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: Id7326c17ecc4a9388952a4fe2e90ce935047a6f8",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_server refs/changes/22/843922/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,e6fea6f8eac588d4d1ef60df888e52f933d3caa7,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_neutron~master~I34af2581ed38ead54b5e2f6c5a54349f1687089a,openstack/openstack-ansible-os_neutron,master,I34af2581ed38ead54b5e2f6c5a54349f1687089a,Switch sphinx language to en,MERGED,2022-05-30 14:01:36.000000000,2022-05-30 14:57:17.000000000,2022-05-30 14:55:17.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:36.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/2fcb1238d90e719acf88887227a053c26a83326f', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I34af2581ed38ead54b5e2f6c5a54349f1687089a""}]",0,843911,2fcb1238d90e719acf88887227a053c26a83326f,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I34af2581ed38ead54b5e2f6c5a54349f1687089a",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/11/843911/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,2fcb1238d90e719acf88887227a053c26a83326f,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_cinder~master~I46594578f4e686d02522477255e99ea157cadec4,openstack/openstack-ansible-os_cinder,master,I46594578f4e686d02522477255e99ea157cadec4,Switch sphinx language to en,MERGED,2022-05-30 14:01:25.000000000,2022-05-30 14:57:16.000000000,2022-05-30 14:54:54.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:25.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/091b2dfa7246eb94c35816778ee1ae2bcbed5b34', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I46594578f4e686d02522477255e99ea157cadec4""}]",0,843897,091b2dfa7246eb94c35816778ee1ae2bcbed5b34,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I46594578f4e686d02522477255e99ea157cadec4",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/97/843897/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,091b2dfa7246eb94c35816778ee1ae2bcbed5b34,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_aodh~master~Id2e8e24364a743fc5154e5c2e63fa1f5eaeb1f2c,openstack/openstack-ansible-os_aodh,master,Id2e8e24364a743fc5154e5c2e63fa1f5eaeb1f2c,Switch sphinx language to en,MERGED,2022-05-30 14:01:22.000000000,2022-05-30 14:57:02.000000000,2022-05-30 14:54:52.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:22.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/1f5f88d80eece34a20b189a1c67f8bbe07382a52', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: Id2e8e24364a743fc5154e5c2e63fa1f5eaeb1f2c""}]",0,843894,1f5f88d80eece34a20b189a1c67f8bbe07382a52,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: Id2e8e24364a743fc5154e5c2e63fa1f5eaeb1f2c",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/94/843894/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,1f5f88d80eece34a20b189a1c67f8bbe07382a52,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-os_tempest~master~If3d84c85f5b439989c2fc7dec0b51068c6fe505a,openstack/openstack-ansible-os_tempest,master,If3d84c85f5b439989c2fc7dec0b51068c6fe505a,Switch sphinx language to en,MERGED,2022-05-30 14:01:49.000000000,2022-05-30 14:56:12.000000000,2022-05-30 14:54:28.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:49.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/18f2c885da785dd00380ebfb8407702c942c6731', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: If3d84c85f5b439989c2fc7dec0b51068c6fe505a""}]",0,843926,18f2c885da785dd00380ebfb8407702c942c6731,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: If3d84c85f5b439989c2fc7dec0b51068c6fe505a",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/26/843926/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,18f2c885da785dd00380ebfb8407702c942c6731,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-repo_server~master~Ieb0129ffb8964eba380a5d829e4033f19c892451,openstack/openstack-ansible-repo_server,master,Ieb0129ffb8964eba380a5d829e4033f19c892451,Switch sphinx language to en,MERGED,2022-05-30 14:01:50.000000000,2022-05-30 14:55:40.000000000,2022-05-30 14:53:33.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:50.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/b0fe7fd14d0bbbeff4256fe21b767b39420d27cc', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: Ieb0129ffb8964eba380a5d829e4033f19c892451""}]",0,843927,b0fe7fd14d0bbbeff4256fe21b767b39420d27cc,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: Ieb0129ffb8964eba380a5d829e4033f19c892451",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/27/843927/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,b0fe7fd14d0bbbeff4256fe21b767b39420d27cc,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fopenstack-ansible-tests~master~I3fc1dd06c176c7004974b9cd989208f4ba7a37f2,openstack/openstack-ansible-tests,master,I3fc1dd06c176c7004974b9cd989208f4ba7a37f2,Switch sphinx language to en,MERGED,2022-05-30 14:01:52.000000000,2022-05-30 14:51:24.000000000,2022-05-30 14:49:03.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:52.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/87a65ffaf9273f9def910c06b3fc585fdef6cce6', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I3fc1dd06c176c7004974b9cd989208f4ba7a37f2""}]",0,843928,87a65ffaf9273f9def910c06b3fc585fdef6cce6,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I3fc1dd06c176c7004974b9cd989208f4ba7a37f2",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/28/843928/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,87a65ffaf9273f9def910c06b3fc585fdef6cce6,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Fkolla-ansible~stable%2Fvictoria~I974046662b383a12ac6281b725523760a96657bd,openstack/kolla-ansible,stable/victoria,I974046662b383a12ac6281b725523760a96657bd,masakari: support libvirt SASL in instance monitor,MERGED,2022-05-27 17:54:10.000000000,2022-05-30 14:47:38.000000000,2022-05-30 14:45:44.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-27 17:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/339ae88f682eff880247c546ee97820f7d68fdd6', 'message': 'masakari: support libvirt SASL in instance monitor\n\nSince enabling libvirt SASL authentication, the masakari instance\nmonitor fails to connect to libvirt. We see the following error in logs:\n\n    libvirt.libvirtError: authentication failed: Failed to start SASL\n    negotiation: -4 (SASL(-4): no mechanism available: No worthy mechs\n    found)\n\nThis change adds support for SASL authentication in Masakari instance\nmonitor.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/834456\nCloses-Bug: #1965754\nChange-Id: I974046662b383a12ac6281b725523760a96657bd\n(cherry picked from commit 5d28a7c89bbac4a15f7d8f7a64c3767ea988efbd)\n(cherry picked from commit 59f46c2489181ae07bb3f40a647206a9c89fb7f3)\n'}, {'number': 2, 'created': '2022-05-27 17:54:21.000000000', 'files': ['ansible/roles/masakari/templates/auth.conf.j2', 'ansible/roles/masakari/templates/masakari-instancemonitor.json.j2', 'ansible/roles/masakari/tasks/config.yml', 'releasenotes/notes/masakari-libvirt-sasl-f368c31c0b5567b6.yaml', 'ansible/roles/masakari/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/158615c60fb6b616ce30f2fe813b78ea3a61a30f', 'message': 'masakari: support libvirt SASL in instance monitor\n\nSince enabling libvirt SASL authentication, the masakari instance\nmonitor fails to connect to libvirt. We see the following error in logs:\n\n    libvirt.libvirtError: authentication failed: Failed to start SASL\n    negotiation: -4 (SASL(-4): no mechanism available: No worthy mechs\n    found)\n\nThis change adds support for SASL authentication in Masakari instance\nmonitor.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/843637\nCloses-Bug: #1965754\nChange-Id: I974046662b383a12ac6281b725523760a96657bd\n(cherry picked from commit 5d28a7c89bbac4a15f7d8f7a64c3767ea988efbd)\n(cherry picked from commit 59f46c2489181ae07bb3f40a647206a9c89fb7f3)\n'}]",1,843638,158615c60fb6b616ce30f2fe813b78ea3a61a30f,12,2,2,30491,,,0,"masakari: support libvirt SASL in instance monitor

Since enabling libvirt SASL authentication, the masakari instance
monitor fails to connect to libvirt. We see the following error in logs:

    libvirt.libvirtError: authentication failed: Failed to start SASL
    negotiation: -4 (SASL(-4): no mechanism available: No worthy mechs
    found)

This change adds support for SASL authentication in Masakari instance
monitor.

Depends-On: https://review.opendev.org/c/openstack/kolla/+/843637
Closes-Bug: #1965754
Change-Id: I974046662b383a12ac6281b725523760a96657bd
(cherry picked from commit 5d28a7c89bbac4a15f7d8f7a64c3767ea988efbd)
(cherry picked from commit 59f46c2489181ae07bb3f40a647206a9c89fb7f3)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/843638/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/masakari/templates/auth.conf.j2', 'ansible/roles/masakari/templates/masakari-instancemonitor.json.j2', 'ansible/roles/masakari/tasks/config.yml', 'releasenotes/notes/masakari-libvirt-sasl-f368c31c0b5567b6.yaml', 'ansible/roles/masakari/defaults/main.yml']",5,339ae88f682eff880247c546ee97820f7d68fdd6,," #################### # libvirt #################### # Whether to enable libvirt SASL authentication. libvirt_enable_sasl: true # Username for libvirt SASL. libvirt_sasl_authname: ""nova"" # List of enabled libvirt SASL authentication mechanisms. libvirt_sasl_mech_list: - ""{{ 'SCRAM-SHA-256' if libvirt_tls | bool else 'DIGEST-MD5' }}""",,48,1
openstack%2Fkolla~stable%2Fvictoria~Ic4b6171789c3d360317599310492771bd78828ec,openstack/kolla,stable/victoria,Ic4b6171789c3d360317599310492771bd78828ec,masakari: add Cyrus SASL packages to monitors image,MERGED,2022-05-27 17:52:15.000000000,2022-05-30 14:47:37.000000000,2022-05-30 14:45:41.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-27 17:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f10be4efbbf280371ad720ec37055ef45bd51fcb', 'message': 'masakari: add Cyrus SASL packages to monitors image\n\nAdds Cyrus SASL packages necessary for the DIGEST-MD5 and SCRAM-SHA-256\nmechanisms. These can be used for libvirt SASL authentication.\nFollow up to I13e19ca29eeab40cd08fa3afe2cdf7531867f81b.\n\nPartial-Bug: #1964013\nChange-Id: Ic4b6171789c3d360317599310492771bd78828ec\n(cherry picked from commit 5cc480a617c68ed20c80bffec16321a937f5a32b)\n(cherry picked from commit 444bdffcc7d4612fa6dd25fdead8f56428151735)\n'}, {'number': 2, 'created': '2022-05-27 17:52:50.000000000', 'files': ['docker/masakari/masakari-monitors/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/02dfa915a51b9abbb271e69f58fb8290742d5163', 'message': 'masakari: add Cyrus SASL packages to monitors image\n\nAdds Cyrus SASL packages necessary for the DIGEST-MD5 and SCRAM-SHA-256\nmechanisms. These can be used for libvirt SASL authentication.\nFollow up to I13e19ca29eeab40cd08fa3afe2cdf7531867f81b.\n\nPartial-Bug: #1964013\nChange-Id: Ic4b6171789c3d360317599310492771bd78828ec\n(cherry picked from commit 5cc480a617c68ed20c80bffec16321a937f5a32b)\n(cherry picked from commit 444bdffcc7d4612fa6dd25fdead8f56428151735)\n'}]",4,843637,02dfa915a51b9abbb271e69f58fb8290742d5163,19,3,2,30491,,,0,"masakari: add Cyrus SASL packages to monitors image

Adds Cyrus SASL packages necessary for the DIGEST-MD5 and SCRAM-SHA-256
mechanisms. These can be used for libvirt SASL authentication.
Follow up to I13e19ca29eeab40cd08fa3afe2cdf7531867f81b.

Partial-Bug: #1964013
Change-Id: Ic4b6171789c3d360317599310492771bd78828ec
(cherry picked from commit 5cc480a617c68ed20c80bffec16321a937f5a32b)
(cherry picked from commit 444bdffcc7d4612fa6dd25fdead8f56428151735)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/37/843637/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/masakari/masakari-monitors/Dockerfile.j2'],1,f10be4efbbf280371ad720ec37055ef45bd51fcb,,"<<<<<<< HEAD (b716b5 Fix local sources of git repositories)======= {% if base_package_type == 'rpm' %} {# not available #} {% set masakari_base_packages = [ ] %} {% elif base_package_type == 'deb' %} {% set masakari_base_packages = [ 'libsasl2-modules-gssapi-mit', 'masakari-host-monitor', 'masakari-instance-monitor', 'masakari-introspective-instance-monitor', 'masakari-process-monitor', 'sasl2-bin', ] %} {% endif %} {{ macros.install_packages(masakari_base_packages | customizable(""packages"")) }} >>>>>>> CHANGE (444bdf masakari: add Cyrus SASL packages to monitors image) 'cyrus-sasl-md5', 'cyrus-sasl-scram', 'libsasl2-modules-gssapi-mit', 'sasl2-bin',",,27,0
openstack%2Fopenstack-ansible-ops~master~Id540deef52eea623aacff607709def993e869e05,openstack/openstack-ansible-ops,master,Id540deef52eea623aacff607709def993e869e05,Switch sphinx language to en,MERGED,2022-05-30 14:01:28.000000000,2022-05-30 14:46:49.000000000,2022-05-30 14:44:46.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:28.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/a5d31f3b471e4d060b0012794bbf8651b7b5ab3a', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: Id540deef52eea623aacff607709def993e869e05""}]",0,843902,a5d31f3b471e4d060b0012794bbf8651b7b5ab3a,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: Id540deef52eea623aacff607709def993e869e05",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/02/843902/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,a5d31f3b471e4d060b0012794bbf8651b7b5ab3a,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Ftripleo-quickstart-extras~master~Ifcb5eda7cd222083bf5d842e1b7813865185fa3f,openstack/tripleo-quickstart-extras,master,Ifcb5eda7cd222083bf5d842e1b7813865185fa3f,DNM test setting requirements_git_url tempest_git_install_branch,NEW,2022-05-30 11:34:54.000000000,2022-05-30 14:38:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-30 11:34:54.000000000', 'files': ['playbooks/multinode-standalone.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/50afdc1fe03d1c9ba16c6c13bdc1f6d7dab5a87e', 'message': 'DNM test setting requirements_git_url tempest_git_install_branch\n\nFor related-bug\n\nRelated-Bug: 1976247\n\nChange-Id: Ifcb5eda7cd222083bf5d842e1b7813865185fa3f\n'}]",0,843841,50afdc1fe03d1c9ba16c6c13bdc1f6d7dab5a87e,5,2,1,8449,,,0,"DNM test setting requirements_git_url tempest_git_install_branch

For related-bug

Related-Bug: 1976247

Change-Id: Ifcb5eda7cd222083bf5d842e1b7813865185fa3f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/41/843841/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/multinode-standalone.yml'],1,50afdc1fe03d1c9ba16c6c13bdc1f6d7dab5a87e,," tempest_git_install_branch: ""{{ zuul.branch|default('master') }}"" requirements_git_url: ""https://opendev.org/openstack/requirements/raw/branch/{{ zuul.branch|default('master') }}/upper-constraints.txt""",,2,0
openstack%2Fopenstack-ansible-plugins~master~I1bdb2ebb21c6b7fd42d55856b04a7beb9f5a372a,openstack/openstack-ansible-plugins,master,I1bdb2ebb21c6b7fd42d55856b04a7beb9f5a372a,Switch sphinx language to en,MERGED,2022-05-30 14:01:48.000000000,2022-05-30 14:38:09.000000000,2022-05-30 14:36:07.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-30 14:01:48.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/7be25d41c9ada2d0efcba2990d179dec610d6eea', 'message': ""Switch sphinx language to en\n\nWith sphinx release of 5.0.0, they changed default for language variable\nto 'en' from None. With that current None valuable is not valid and should\nnot be used.\n\n\nChange-Id: I1bdb2ebb21c6b7fd42d55856b04a7beb9f5a372a""}]",0,843925,7be25d41c9ada2d0efcba2990d179dec610d6eea,8,3,1,28619,,,0,"Switch sphinx language to en

With sphinx release of 5.0.0, they changed default for language variable
to 'en' from None. With that current None valuable is not valid and should
not be used.


Change-Id: I1bdb2ebb21c6b7fd42d55856b04a7beb9f5a372a",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/25/843925/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,7be25d41c9ada2d0efcba2990d179dec610d6eea,osa/sphinx5,language = 'en',language = None,1,1
openstack%2Ftripleo-specs~master~I3a0bf0f818c2548359044481d4ebca3e5f7cdeb7,openstack/tripleo-specs,master,I3a0bf0f818c2548359044481d4ebca3e5f7cdeb7,Add spec for secret management,NEW,2021-09-03 16:23:58.000000000,2022-05-30 14:07:29.000000000,,"[{'_account_id': 5046}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 7973}, {'_account_id': 8833}, {'_account_id': 10873}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22136}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-09-03 16:23:58.000000000', 'files': ['specs/yoga/secret_management.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/31d866a06183010b5c38c90603d1a9955ddb38cc', 'message': 'Add spec for secret management\n\nThis is a design spec to allow secrets on the overcloud\nnode to be encrypted, so that they are not visible and in\nplain text in the config files.  This is specifically for\nsecrets that are loaded using oslo.config and relies on\ncastellan.\n\nChange-Id: I3a0bf0f818c2548359044481d4ebca3e5f7cdeb7\n'}]",46,807361,31d866a06183010b5c38c90603d1a9955ddb38cc,20,11,1,9914,,,0,"Add spec for secret management

This is a design spec to allow secrets on the overcloud
node to be encrypted, so that they are not visible and in
plain text in the config files.  This is specifically for
secrets that are loaded using oslo.config and relies on
castellan.

Change-Id: I3a0bf0f818c2548359044481d4ebca3e5f7cdeb7
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/61/807361/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/secret_management.rst'],1,31d866a06183010b5c38c90603d1a9955ddb38cc,secret_management,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================================= Secret Management for Passwords in Service Config Files ======================================================= Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/tripleo (To be added) Auditors doing compliance audits on TripleO have observed that service and database passowrds and other secret material is shown in plaintext in the service configuration files. It would be preferable to have an option to store these secrets in a secret store (like Hashicorp Vault, Barbican or CyberArk) instead. This prevents the exposure of the passwords and other secrets to less privileged admin users, and makes it easier for deployers to scrub config files for support calls. Problem Description =================== A mechanism has been implemented in castellan and oslo.config to allow deployers to store secrets in a secret store (through Castellan) [1]. The secrets are stored in the secret store and references are placed in a mapping file. When oslo.config loads the config parameter, it transparently retrieves the data from the secret store. In this spec, we'll limit the scope to those passwords and secrets that are stored in the OpenStack configuration files i.e. the secrets that are loaded by oslo.config. Any other secrets will need to be encrypted using a different mechanism. We will also limit this spec to focus on overcloud passwords. At this point, there are relatively few passwords on the undercloud as we have endeavored to remove more and more OpenStack services from the undercloud. Currently, the only secret store that supports this functionality in Castellan is Vault. Some additional work will be required to support this work in Barbican, and there may be some additional work in Yoga to support CyberArk as a castellan secret store. When that work is completed, we will create a follow-on spec to support those secret stores. We do not expect there to be too much follow-on work required though, because this spec encompasses the work to get tripleo to work with a castellan secret store, and vault in particular. For a different secret store, the only thing that would be needed is different parameters on how to connect the relevant secret store. There are a few ways in which we can deploy Vault: * Vault can be deployed on a separate system (i.e. not on the controller). This may be a preferred deployment for many deployers because the secrets would then not reside on the same system that are being used. It will be the deployer's responsibity to ensure the availability of the Vault. * Vault could be deployed on each controller. Because the passwords are generated with the config files before the stack is created, Vault would have to be deployed at an early stage of the deployment - probably as a tripleo-client action. As an action, it could then be executed at any time, which could allow for deployers to later migrate their passwords to a vault in an update. The vault will need to be deployed in a clustered mode so that the same secrets across controllers. Of course, there will be a need for a secret-zero (secret-0) that will be in plain text which is needed to access the secret store. In the case of Vault, there are a few options: * vault root key - this is the easiest to implement, but is not recommended because it allows access to all the secrets in the Vault. * vault approle - This is similar to the root key, but is significantly more secure because it can be scoped to specific secrets rather than the whole tree. Moreover, there are mechanisms to rotate or revoke the credential. In these ways, it is similar to application credentials in keystone. [2] * x509 client certificate - A client certificate would need to be generated. Once again, we could be restricted to a specific subtree. The secret-0 in this case is the private key. * kerberos Proposed Change =============== Overview -------- vault deployment ---------------- An optional tripleo-client action will be written to deploy vault and create secret-0. For vault deployed on the controller, we would need to configure the vault in clustered mode. Moreover, any certificates used for x509 authentication shoudld ideally be generated through certmonger so that the life cycle of the certificate is maintained. tripleo-client changes ---------------------- The Vault will be assumed to already have been deployed, either on a separate system - or on the controller as a result of a previous tripleo-client action. An option will be added to the tripleo-client to store overcloud secrets in a vault rather than in a file on the controller. Deployers would also need to provide the location (url) of the vault instance, a credential (secret-0) to access the vault, and a root location in the secrets tree. tripleo-client will generate a /etc/castellan/castellan.conf file which contains all the required information to be able to connect and authenticate to the vault. This file(s) will be distributed to all the overcloud nodes - and will be used by all the services. Currently, passwords and secrets that need to be generated by tripleo-client are explicitly named in tripleo-common. This allows us to generate the various types of secrets correctly [3]. These passwords are then stored in deployment files on the controller for easy access when an update is performed. When the vault option is enabled, specified passwwords will be generated as before and stored in the Vault via castellan. The reference would then be stored in the deployment file in a dictionary of secret_references. For example, secret_refs: { NovaPassword: 3846d164deb695637bec4b3, GlancePaassword: 3846d164deb69aaaabec4b3 } The secret values will no longer be stored in the deployment file. However, because both the secret value and reference are needed by the installer, both will be passed to the stack. The secret values will continue to be passed as they currently are. The logic in the tripleo-client would roughly follow the following pseudo-code: if secret_store_enabled: for each relevant secret: if reference exists: # this is an update if rotate_passwords is True and password is rotatable: mark secret for deletion generate and store new secret in secret store else: get the secret value through castellan if value does not exist: generate and store new secret in secret store OR error out else if secret value exists in deployment file: # this is an update from non-vault to vault if rotate_passwords is True and password is rotatable: generate and store new secret in secret store else: # put existing secret in secret store store existing secret value in secret store remove value from deployment file else: # this is a new deployment generate secret and store in vault write reference to deployment file else: do whatever we currently do pass secret values and secret refs to THT * Note that using the above logic allows deployers to migrate from a non-secret store system to a secret store based system by simply doing an update and enabling the secret store. * Moreover, passwords will be transparently migrated to the secret store as support is provided in the THT and puppet modules. * The way passwords are rotated will not be changed as part of this spec. In future, we'll likely want to replace some of the passwords with application credentials to allow for zero-downtime password rotations. With that in mind, though, we only ""mark secrets for deletion"" ie. notify the deployer that some secrets should be properly deleted once the entire update is successful. The overcloud deployment would then be invoked with some new THT parameters * UseCastellanSecretStore - may or may not be needed .. * CastellanSecretRefs with a dictionary of all the secret references * CastellanConfigDetails - details on secret-0 and castellan.conf (which needs to be mounted on all the relevant containers) Alternatively, if a mechanism is created to allow the hieradata on all the overcloud nodes to be updated by tripleo-client, then the data that is only needed by the puppet modules (CastellanSecretRefs) could simply be updated in hieradata, and need not be passed to THT. template changes ---------------- The templates for services that implement this change will need to pass the CastellanSecretRefs and UseCastellanSecretStore parameters to the puppet module through hieradata, unless the alternative mechanism I suggested above is implemented. In addition, the containers will need to mount castellan.conf and secret-0. puppet changes -------------- The puppet module used to configure each of the services will need to have the UseCastellanSecretStore value passed to it, most likely though hieradata. Then, the puppet module will need to write a castellan stanza in the config fle, pointing to a mapping file and the castellan.conf file. When writing a config value, it will need to check to see if a secret_ref exists and write that value to the mapping file, instead of writing the secret_value to the config file. The module will continue to use the secret value when creating resources - for example, to set the keystone password for the nova service user. Alternatives ------------ An idea had been put forward to simply encrypt the config files and simply decrypt them in the init script for each service. This does not work because at least some of the config data has been designed to be mutable. In future, if tripleo is deployed on kubernetes for instance, it may bex possible to store secret-0 using the kubernetes secrets API. Security Impact --------------- This change will improve the security of the system by separating out sensitve data from the config files into mapping files, and even then, storing only references in the mapping files. What remains to be protected is a single secret (secret-0). If secret-0 is a vault application credential or a certificate, this can be rotated regularly. This solution does not preclude the implementation of secret rotation using, for example , application credentials for the service passwords. In this case, the application credential is the secret stored in the secret store. Upgrade Impact -------------- Deployers should be able to migrate existing systems to using a Vault (or other secret store) by simply doing an update. They should simply need to: * deploy an external vault system or run the relevant tripleo-client action to deploy a vault instance and create secret-0. * run an update and provide the UseCastellanSecretStore parameter and the connection details for the Vault instance (and secret-0). Changes to password management in tripleo-client should store existing passwords into the secret store and return the correct references. To avoid complication, its a good idea to first upgrade the deployment, and then do a separate update to change the password storage mechanism. If a deployer decides the move the secrets to a different secret store (when other secret stores are available), they could execute a custom script to extract the secrets to a file, and do an update using the new secret store. It would be as if the deployment were moving from a non-secret store deployment to a secret store deployment as described above. Or they could simply do an update and have all the passwords be replaced. Other End User Impact --------------------- None. Performance Impact ------------------ When services are started, they will need to access their credentials from a secret store - which could be on a separate system or a controller. This will certainly take longer than simply reading from a file. Moreover, if any of the config data stored in the secret store is mutable, it will take longer to read this data during service operations. Its not clear though that any mutable secret config data exists currently. Other Deployer Impact --------------------- The secret store will need to be always available in order to start services. If an external vault is used, then the deployer will be required to ensure that the secret store is always available to all the overcloud nodes. Developer Impact ---------------- The passwords that tripleo-client generates are all explicitly enumerated in triple-common. We can therefore add support for this feature password by password. Once support is added though, any puppet modules that use this secret will need to be enhanced to parse this secret correctly and set up castellan appropriately. Implementation ============== Assignee(s) ----------- Primary assignee: vakewtu (Ade Lee) Other contributors: lbragstad dmendiza Work Items ---------- TBD - based on the review of the design. Dependencies ============ TBD Testing ======= Testing will require the presence of a Vault instance. To test the case of an externally deployed vault instance, we could deploy Vault on the freeipa node in the TLS-everywhere scenarios. We will need to test both new and update scenarios: - new deployment with a vault - update from no vault to vault - deployment with external vault - deployment with vault on controllers Documentation Impact ==================== Docs will need to be updated to document the new functionality. References ========== # https://ep2019.europython.eu/media/conference/slides/m7RV4BB-protecting-secrets-with-osloconfig-and-hashicorp-vault.pdf # https://www.vaultproject.io/docs/auth/approle # https://opendev.org/openstack/tripleo-common/src/branch/master/tripleo_common/utils/passwords.py ",,353,0
openstack%2Fneutron~stable%2Fxena~I159460be27f2c5f105be4b2865ef84aeb9a00094,openstack/neutron,stable/xena,I159460be27f2c5f105be4b2865ef84aeb9a00094,"Revert ""Use Port_Binding up column to set Neutron port status""",MERGED,2022-05-30 03:49:01.000000000,2022-05-30 13:50:56.000000000,2022-05-30 13:47:09.000000000,"[{'_account_id': 5756}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 03:49:01.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/common/ovn/constants.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c5bd288466f8f72e95deca204d08246d9aa9549', 'message': 'Revert ""Use Port_Binding up column to set Neutron port status""\n\nThis reverts commit 37d4195b516f12b683b774f0561561b172dd15c6.\nConflicts:\n \tneutron/common/ovn/constants.py\n \tneutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n\nAlso revert below 2 commits which were added on\ntop of the parent commit:-\n\nRevert ""Ensure subports transition to DOWN""\nThis reverts commit 5e036a6b281e4331f396473e299b26b2537d5322.\n\nRevert ""Ensure only the right events are processed""\nThis reverts commit 553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa.\n\nReason for revert: These patches have caused couple of issues[1][2][3].\n[1][2] are same issue just one is seen in c8/c9-stream and other in\nrhel8 and both contains much info about the issue.\n[3] is currently happening only in rhel8/rhel9 as this issue is visible\nonly with the patch in revert and ovn-2021>=21.12.0-55(fix of [4]) which\nis not yet available in c8/c9-stream.\n\n[1][2] happens randomly as the patch under revert has moved the\nevents to SB DB which made a known OVN issue[5] occur more often as in\nthat issue SB DB Event queue floods with too many events of\nPortBindingChassisEvent making other events like PortBindingUpdateUpEvent\nto wait much longer and hence triggering VirtualInterfaceCreateException.\n\nNB DB Event queue is different and hence with revert we are trying to\nlower the side effect of the OVN issue[5].\n\nThis patch can be re reverted once [3] and [5] are fixed.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1964940/\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=2081631\n[3] https://bugzilla.redhat.com/show_bug.cgi?id=2090604\n[4] https://bugzilla.redhat.com/show_bug.cgi?id=2037433\n[5] https://bugzilla.redhat.com/show_bug.cgi?id=1974898\n\nCloses-Bug: #1964940\nCloses-Bug: rhbz#2081631\nCloses-Bug: rhbz#2090604\nRelated-Bug: rhbz#2037433\nRelated-Bug: rhbz#1974898\nChange-Id: I159460be27f2c5f105be4b2865ef84aeb9a00094\n(cherry picked from commit e6d27be4747eb4573dcc5c0e1e7ac7550d20f951)\n(cherry picked from commit 3a11ab74402cde842461569515c39c441555f348)\n'}]",0,843761,4c5bd288466f8f72e95deca204d08246d9aa9549,10,6,1,13861,,,0,"Revert ""Use Port_Binding up column to set Neutron port status""

This reverts commit 37d4195b516f12b683b774f0561561b172dd15c6.
Conflicts:
 	neutron/common/ovn/constants.py
 	neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py

Also revert below 2 commits which were added on
top of the parent commit:-

Revert ""Ensure subports transition to DOWN""
This reverts commit 5e036a6b281e4331f396473e299b26b2537d5322.

Revert ""Ensure only the right events are processed""
This reverts commit 553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa.

Reason for revert: These patches have caused couple of issues[1][2][3].
[1][2] are same issue just one is seen in c8/c9-stream and other in
rhel8 and both contains much info about the issue.
[3] is currently happening only in rhel8/rhel9 as this issue is visible
only with the patch in revert and ovn-2021>=21.12.0-55(fix of [4]) which
is not yet available in c8/c9-stream.

[1][2] happens randomly as the patch under revert has moved the
events to SB DB which made a known OVN issue[5] occur more often as in
that issue SB DB Event queue floods with too many events of
PortBindingChassisEvent making other events like PortBindingUpdateUpEvent
to wait much longer and hence triggering VirtualInterfaceCreateException.

NB DB Event queue is different and hence with revert we are trying to
lower the side effect of the OVN issue[5].

This patch can be re reverted once [3] and [5] are fixed.

[1] https://bugs.launchpad.net/tripleo/+bug/1964940/
[2] https://bugzilla.redhat.com/show_bug.cgi?id=2081631
[3] https://bugzilla.redhat.com/show_bug.cgi?id=2090604
[4] https://bugzilla.redhat.com/show_bug.cgi?id=2037433
[5] https://bugzilla.redhat.com/show_bug.cgi?id=1974898

Closes-Bug: #1964940
Closes-Bug: rhbz#2081631
Closes-Bug: rhbz#2090604
Related-Bug: rhbz#2037433
Related-Bug: rhbz#1974898
Change-Id: I159460be27f2c5f105be4b2865ef84aeb9a00094
(cherry picked from commit e6d27be4747eb4573dcc5c0e1e7ac7550d20f951)
(cherry picked from commit 3a11ab74402cde842461569515c39c441555f348)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/843761/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/common/ovn/constants.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py']",4,4c5bd288466f8f72e95deca204d08246d9aa9549,bug/1964940," }class TestPortBindingChassisUpdateEvent(base.BaseTestCase): def setUp(self): super(TestPortBindingChassisUpdateEvent, self).setUp() self.driver = mock.Mock() self.event = ovsdb_monitor.PortBindingChassisUpdateEvent(self.driver) def _test_event(self, event, row, old): if self.event.matches(event, row, old): self.event.run(event, row, old) self.driver.set_port_status_up.assert_called() else: self.driver.set_port_status_up.assert_not_called() def test_event_matches(self): # NOTE(twilson) This primarily tests implementation details. If a # scenario test is written that handles shutting down a compute # node uncleanly and performing a 'host-evacuate', this can be removed pbtable = fakes.FakeOvsdbTable.create_one_ovsdb_table( attrs={'name': 'Port_Binding'}) ovsdb_row = fakes.FakeOvsdbRow.create_one_ovsdb_row self.driver.nb_ovn.lookup.return_value = ovsdb_row(attrs={'up': True}) self._test_event( self.event.ROW_UPDATE, ovsdb_row(attrs={'_table': pbtable, 'chassis': 'one', 'type': '_fake_', 'logical_port': 'foo'}), ovsdb_row(attrs={'_table': pbtable, 'chassis': 'two', 'type': '_fake_'})) self.driver.set_port_status_up = mock.Mock() self.driver.set_port_status_down = mock.Mock() def _test_lsp_helper(self, event, new_row_json, old_row_json=None, table=None): row_uuid = uuidutils.generate_uuid() if not table: table = self.lp_table lp_row = ovs_idl.Row.from_json(self.idl, table, row_uuid, new_row_json) if old_row_json: old_row = ovs_idl.Row.from_json(self.idl, table, row_uuid, old_row_json) else: old_row = None self.idl.notify(event, lp_row, updates=old_row) # Add a STOP EVENT to the queue self.idl.notify_handler.shutdown() # Execute the notifications queued self.idl.notify_handler.notify_loop() def test_lsp_up_create_event(self): row_data = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_create_event(self): row_data = {""up"": False, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_lsp_up_not_set_event(self): row_data = {""up"": ['set', []], ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_unwatch_logical_switch_port_create_events(self): self.idl.unwatch_logical_switch_port_create_events() row_data = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) row_data[""up""] = False self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_post_connect(self): self.idl.post_connect() self.assertIsNone(self.idl._lsp_create_up_event) self.assertIsNone(self.idl._lsp_create_down_event) def test_lsp_up_update_event(self): new_row_json = {""up"": True, ""name"": ""foo-name""} old_row_json = {""up"": False} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_update_event(self): new_row_json = {""up"": False, ""name"": ""foo-name""} old_row_json = {""up"": True} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_lsp_up_update_event_no_old_data(self): new_row_json = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_update_event_no_old_data(self): new_row_json = {""up"": False, ""name"": ""foo-name""} self._test_lsp_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_other_column_update_event(self): new_row_json = {""up"": False, ""name"": ""foo-name"", ""addresses"": [""10.0.0.2""]} old_row_json = {""addresses"": [""10.0.0.3""]} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_notify_other_table(self): new_row_json = {""name"": ""foo-name""} self._test_lsp_helper('create', new_row_json, table=self.idl.tables.get(""Logical_Switch"")) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) self.sb_idl.post_connect() self.chassis_table = self.sb_idl.tables.get('Chassis') self.row_json = { def _test_chassis_helper(self, event, new_row_json, old_row_json=None): table = self.chassis_table def test_chassis_create_event(self): self._test_chassis_helper('create', self.row_json) self._test_chassis_helper('delete', self.row_json) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json) self.row_json['external_ids'][1].append(['foo_field', 'foo_value_new']) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] = '' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] += ',foo_physnet:foo_br' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] = 'foo_physnet:foo_br' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json)"," }, ""Port_Binding"": { ""columns"": { ""logical_port"": {""type"": ""string""}, ""type"": {""type"": ""string""}, ""chassis"": {""type"": ""string""}, ""up"": {""type"": {""key"": ""boolean"", ""min"": 0, ""max"": 1}}}, ""indexes"": [[""logical_port""]], ""isRoot"": True}, sb_helper.register_table('Port_Binding') self.driver.set_port_status_up = mock.Mock() self.driver.set_port_status_down = mock.Mock() self.chassis_row_json = { def _test_helper(self, event, table, new_row_json, old_row_json=None): def _test_chassis_helper(self, event, new_row_json, old_row_json=None, table=None): self.sb_idl.post_connect() self.chassis_table = self.sb_idl.tables.get('Chassis') if not table: table = self.chassis_table self._test_helper(event, table, new_row_json, old_row_json) def test_chassis_create_event(self): self._test_chassis_helper('create', self.chassis_row_json) self._test_chassis_helper('delete', self.chassis_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) self.chassis_row_json['external_ids'][1].append(['foo_field', 'foo_value_new']) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] = '' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] += ',foo_physnet:foo_br' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] = 'foo_physnet:foo_br' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) def _test_port_binding_helper(self, event, new_row_json, old_row_json=None, table=None): self.port_binding_table = self.sb_idl.tables.get('Port_Binding') if not table: table = self.port_binding_table self._test_helper(event, table, new_row_json, old_row_json) def test_port_binding_up_create_event(self): row_data = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_create_patch_type_event(self): # Note(ltomasbo): This will behave the same for up = True|False # as the port needs to transition to up anyway row_data = {""type"": ""patch"", ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) row_data = {""type"": ""patch"", ""logical_port"": ""lrp-foo-name""} self._test_port_binding_helper('create', row_data) self.assertEqual(1, self.driver.set_port_status_up.call_count) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_create_virtual_type_event(self): row_data = {""type"": ""virtual"", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_create_event(self): row_data = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_down_create_virtual_type_event(self): row_data = {""type"": ""virtual"", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_update_event(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} old_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_update_event(self): new_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} old_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_down_update_event_up_not_updated(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": None} old_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_up_update_event_no_old_data(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_update_event_no_old_data(self): new_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_other_column_update_event(self): new_row_json = {""type"": """", ""up"": True, ""name"": ""foo-name"", ""addresses"": [""10.0.0.2""]} old_row_json = {""type"": """", ""up"": True, ""name"": ""foo-name"", ""addresses"": [""10.0.0.3""]} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_notify_other_table(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper( 'create', new_row_json, table=self.sb_idl.tables.get(""Chassis"")) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_unwatch_port_binding_create_events(self): self.sb_idl.unwatch_port_binding_create_events() row_data = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) row_data[""up""] = False self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_post_connect(self): self.assertIsNotNone(self.sb_idl._pb_create_up_event) self.assertIsNotNone(self.sb_idl._pb_create_down_event) self.sb_idl.post_connect() self.assertIsNone(self.sb_idl._pb_create_up_event) self.assertIsNone(self.sb_idl._pb_create_down_event) ",257,377
openstack%2Fneutron~stable%2Fyoga~I159460be27f2c5f105be4b2865ef84aeb9a00094,openstack/neutron,stable/yoga,I159460be27f2c5f105be4b2865ef84aeb9a00094,"Revert ""Use Port_Binding up column to set Neutron port status""",MERGED,2022-05-30 03:45:26.000000000,2022-05-30 13:49:07.000000000,2022-05-30 13:46:06.000000000,"[{'_account_id': 5756}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 03:45:26.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/common/ovn/constants.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a11ab74402cde842461569515c39c441555f348', 'message': 'Revert ""Use Port_Binding up column to set Neutron port status""\n\nThis reverts commit 37d4195b516f12b683b774f0561561b172dd15c6.\nConflicts:\n \tneutron/common/ovn/constants.py\n \tneutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n\nAlso revert below 2 commits which were added on\ntop of the parent commit:-\n\nRevert ""Ensure subports transition to DOWN""\nThis reverts commit 5e036a6b281e4331f396473e299b26b2537d5322.\n\nRevert ""Ensure only the right events are processed""\nThis reverts commit 553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa.\n\nReason for revert: These patches have caused couple of issues[1][2][3].\n[1][2] are same issue just one is seen in c8/c9-stream and other in\nrhel8 and both contains much info about the issue.\n[3] is currently happening only in rhel8/rhel9 as this issue is visible\nonly with the patch in revert and ovn-2021>=21.12.0-55(fix of [4]) which\nis not yet available in c8/c9-stream.\n\n[1][2] happens randomly as the patch under revert has moved the\nevents to SB DB which made a known OVN issue[5] occur more often as in\nthat issue SB DB Event queue floods with too many events of\nPortBindingChassisEvent making other events like PortBindingUpdateUpEvent\nto wait much longer and hence triggering VirtualInterfaceCreateException.\n\nNB DB Event queue is different and hence with revert we are trying to\nlower the side effect of the OVN issue[5].\n\nThis patch can be re reverted once [3] and [5] are fixed.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1964940/\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=2081631\n[3] https://bugzilla.redhat.com/show_bug.cgi?id=2090604\n[4] https://bugzilla.redhat.com/show_bug.cgi?id=2037433\n[5] https://bugzilla.redhat.com/show_bug.cgi?id=1974898\n\nCloses-Bug: #1964940\nCloses-Bug: rhbz#2081631\nCloses-Bug: rhbz#2090604\nRelated-Bug: rhbz#2037433\nRelated-Bug: rhbz#1974898\nChange-Id: I159460be27f2c5f105be4b2865ef84aeb9a00094\n(cherry picked from commit e6d27be4747eb4573dcc5c0e1e7ac7550d20f951)\n'}]",1,843760,3a11ab74402cde842461569515c39c441555f348,14,6,1,13861,,,0,"Revert ""Use Port_Binding up column to set Neutron port status""

This reverts commit 37d4195b516f12b683b774f0561561b172dd15c6.
Conflicts:
 	neutron/common/ovn/constants.py
 	neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py

Also revert below 2 commits which were added on
top of the parent commit:-

Revert ""Ensure subports transition to DOWN""
This reverts commit 5e036a6b281e4331f396473e299b26b2537d5322.

Revert ""Ensure only the right events are processed""
This reverts commit 553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa.

Reason for revert: These patches have caused couple of issues[1][2][3].
[1][2] are same issue just one is seen in c8/c9-stream and other in
rhel8 and both contains much info about the issue.
[3] is currently happening only in rhel8/rhel9 as this issue is visible
only with the patch in revert and ovn-2021>=21.12.0-55(fix of [4]) which
is not yet available in c8/c9-stream.

[1][2] happens randomly as the patch under revert has moved the
events to SB DB which made a known OVN issue[5] occur more often as in
that issue SB DB Event queue floods with too many events of
PortBindingChassisEvent making other events like PortBindingUpdateUpEvent
to wait much longer and hence triggering VirtualInterfaceCreateException.

NB DB Event queue is different and hence with revert we are trying to
lower the side effect of the OVN issue[5].

This patch can be re reverted once [3] and [5] are fixed.

[1] https://bugs.launchpad.net/tripleo/+bug/1964940/
[2] https://bugzilla.redhat.com/show_bug.cgi?id=2081631
[3] https://bugzilla.redhat.com/show_bug.cgi?id=2090604
[4] https://bugzilla.redhat.com/show_bug.cgi?id=2037433
[5] https://bugzilla.redhat.com/show_bug.cgi?id=1974898

Closes-Bug: #1964940
Closes-Bug: rhbz#2081631
Closes-Bug: rhbz#2090604
Related-Bug: rhbz#2037433
Related-Bug: rhbz#1974898
Change-Id: I159460be27f2c5f105be4b2865ef84aeb9a00094
(cherry picked from commit e6d27be4747eb4573dcc5c0e1e7ac7550d20f951)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/843760/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/common/ovn/constants.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py']",4,3a11ab74402cde842461569515c39c441555f348,bug/1964940," }class TestPortBindingChassisUpdateEvent(base.BaseTestCase): def setUp(self): super(TestPortBindingChassisUpdateEvent, self).setUp() self.driver = mock.Mock() self.event = ovsdb_monitor.PortBindingChassisUpdateEvent(self.driver) def _test_event(self, event, row, old): if self.event.matches(event, row, old): self.event.run(event, row, old) self.driver.set_port_status_up.assert_called() else: self.driver.set_port_status_up.assert_not_called() def test_event_matches(self): # NOTE(twilson) This primarily tests implementation details. If a # scenario test is written that handles shutting down a compute # node uncleanly and performing a 'host-evacuate', this can be removed pbtable = fakes.FakeOvsdbTable.create_one_ovsdb_table( attrs={'name': 'Port_Binding'}) ovsdb_row = fakes.FakeOvsdbRow.create_one_ovsdb_row self.driver.nb_ovn.lookup.return_value = ovsdb_row(attrs={'up': True}) self._test_event( self.event.ROW_UPDATE, ovsdb_row(attrs={'_table': pbtable, 'chassis': 'one', 'type': '_fake_', 'logical_port': 'foo'}), ovsdb_row(attrs={'_table': pbtable, 'chassis': 'two', 'type': '_fake_'})) self.driver.set_port_status_up = mock.Mock() self.driver.set_port_status_down = mock.Mock() def _test_lsp_helper(self, event, new_row_json, old_row_json=None, table=None): row_uuid = uuidutils.generate_uuid() if not table: table = self.lp_table lp_row = ovs_idl.Row.from_json(self.idl, table, row_uuid, new_row_json) if old_row_json: old_row = ovs_idl.Row.from_json(self.idl, table, row_uuid, old_row_json) else: old_row = None self.idl.notify(event, lp_row, updates=old_row) # Add a STOP EVENT to the queue self.idl.notify_handler.shutdown() # Execute the notifications queued self.idl.notify_handler.notify_loop() def test_lsp_up_create_event(self): row_data = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_create_event(self): row_data = {""up"": False, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_lsp_up_not_set_event(self): row_data = {""up"": ['set', []], ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_unwatch_logical_switch_port_create_events(self): self.idl.unwatch_logical_switch_port_create_events() row_data = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) row_data[""up""] = False self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_post_connect(self): self.idl.post_connect() self.assertIsNone(self.idl._lsp_create_up_event) self.assertIsNone(self.idl._lsp_create_down_event) def test_lsp_up_update_event(self): new_row_json = {""up"": True, ""name"": ""foo-name""} old_row_json = {""up"": False} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_update_event(self): new_row_json = {""up"": False, ""name"": ""foo-name""} old_row_json = {""up"": True} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_lsp_up_update_event_no_old_data(self): new_row_json = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_update_event_no_old_data(self): new_row_json = {""up"": False, ""name"": ""foo-name""} self._test_lsp_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_other_column_update_event(self): new_row_json = {""up"": False, ""name"": ""foo-name"", ""addresses"": [""10.0.0.2""]} old_row_json = {""addresses"": [""10.0.0.3""]} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_notify_other_table(self): new_row_json = {""name"": ""foo-name""} self._test_lsp_helper('create', new_row_json, table=self.idl.tables.get(""Logical_Switch"")) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) self.sb_idl.post_connect() self.chassis_table = self.sb_idl.tables.get('Chassis') self.row_json = { def _test_chassis_helper(self, event, new_row_json, old_row_json=None): table = self.chassis_table def test_chassis_create_event(self): self._test_chassis_helper('create', self.row_json) self._test_chassis_helper('delete', self.row_json) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json) self.row_json['external_ids'][1].append(['foo_field', 'foo_value_new']) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] = '' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] += ',foo_physnet:foo_br' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] = 'foo_physnet:foo_br' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json)"," }, ""Port_Binding"": { ""columns"": { ""logical_port"": {""type"": ""string""}, ""type"": {""type"": ""string""}, ""chassis"": {""type"": ""string""}, ""up"": {""type"": {""key"": ""boolean"", ""min"": 0, ""max"": 1}}}, ""indexes"": [[""logical_port""]], ""isRoot"": True}, sb_helper.register_table('Port_Binding') self.driver.set_port_status_up = mock.Mock() self.driver.set_port_status_down = mock.Mock() self.chassis_row_json = { def _test_helper(self, event, table, new_row_json, old_row_json=None): def _test_chassis_helper(self, event, new_row_json, old_row_json=None, table=None): self.sb_idl.post_connect() self.chassis_table = self.sb_idl.tables.get('Chassis') if not table: table = self.chassis_table self._test_helper(event, table, new_row_json, old_row_json) def test_chassis_create_event(self): self._test_chassis_helper('create', self.chassis_row_json) self._test_chassis_helper('delete', self.chassis_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) self.chassis_row_json['external_ids'][1].append(['foo_field', 'foo_value_new']) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] = '' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] += ',foo_physnet:foo_br' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] = 'foo_physnet:foo_br' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) def _test_port_binding_helper(self, event, new_row_json, old_row_json=None, table=None): self.port_binding_table = self.sb_idl.tables.get('Port_Binding') if not table: table = self.port_binding_table self._test_helper(event, table, new_row_json, old_row_json) def test_port_binding_up_create_event(self): row_data = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_create_patch_type_event(self): # Note(ltomasbo): This will behave the same for up = True|False # as the port needs to transition to up anyway row_data = {""type"": ""patch"", ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) row_data = {""type"": ""patch"", ""logical_port"": ""lrp-foo-name""} self._test_port_binding_helper('create', row_data) self.assertEqual(1, self.driver.set_port_status_up.call_count) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_create_virtual_type_event(self): row_data = {""type"": ""virtual"", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_create_event(self): row_data = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_down_create_virtual_type_event(self): row_data = {""type"": ""virtual"", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_update_event(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} old_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_update_event(self): new_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} old_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_down_update_event_up_not_updated(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": None} old_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_up_update_event_no_old_data(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_update_event_no_old_data(self): new_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_other_column_update_event(self): new_row_json = {""type"": """", ""up"": True, ""name"": ""foo-name"", ""addresses"": [""10.0.0.2""]} old_row_json = {""type"": """", ""up"": True, ""name"": ""foo-name"", ""addresses"": [""10.0.0.3""]} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_notify_other_table(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper( 'create', new_row_json, table=self.sb_idl.tables.get(""Chassis"")) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_unwatch_port_binding_create_events(self): self.sb_idl.unwatch_port_binding_create_events() row_data = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) row_data[""up""] = False self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_post_connect(self): self.assertIsNotNone(self.sb_idl._pb_create_up_event) self.assertIsNotNone(self.sb_idl._pb_create_down_event) self.sb_idl.post_connect() self.assertIsNone(self.sb_idl._pb_create_up_event) self.assertIsNone(self.sb_idl._pb_create_down_event) ",257,377
openstack%2Fneutron-tempest-plugin~master~I3affc8c4f3e26db020a10296ee2b805f7280e401,openstack/neutron-tempest-plugin,master,I3affc8c4f3e26db020a10296ee2b805f7280e401,Fix Train neutron-tempest-plugin api job,MERGED,2022-05-30 08:13:52.000000000,2022-05-30 13:47:13.000000000,2022-05-30 13:47:13.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 08:13:52.000000000', 'files': ['zuul.d/train_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/34bd09c75880b547abee1bafb08a9e8f923c6607', 'message': 'Fix Train neutron-tempest-plugin api job\n\nWith [1] IMAGE_URLS and CUSTOMIZE_IMAGE are updated\nmaking api tempest plugin jobs fail in stable branches.\nThis patch fixing Train job, Ussuri/Victoria being\nfixed in [2].\n\n[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/836912\n[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/838053\n\nChange-Id: I3affc8c4f3e26db020a10296ee2b805f7280e401\n'}]",1,843799,34bd09c75880b547abee1bafb08a9e8f923c6607,8,5,1,13861,,,0,"Fix Train neutron-tempest-plugin api job

With [1] IMAGE_URLS and CUSTOMIZE_IMAGE are updated
making api tempest plugin jobs fail in stable branches.
This patch fixing Train job, Ussuri/Victoria being
fixed in [2].

[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/836912
[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/838053

Change-Id: I3affc8c4f3e26db020a10296ee2b805f7280e401
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/99/843799/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/train_jobs.yaml'],1,34bd09c75880b547abee1bafb08a9e8f923c6607,improve-neutron-ci, # NOTE(bcafarel) guestmount binary not available on host OS IMAGE_URLS: https://cloud-images.ubuntu.com/releases/bionic/release/ubuntu-18.04-server-cloudimg-amd64.img ADVANCED_IMAGE_NAME: ubuntu-18.04-server-cloudimg-amd64 ADVANCED_INSTANCE_TYPE: ds512M ADVANCED_INSTANCE_USER: ubuntu CUSTOMIZE_IMAGE: false,,6,0
openstack%2Fopenstack-ansible-os_ceilometer~master~I00edba80382f8ae92f80e80ed133840e07e7c2fa,openstack/openstack-ansible-os_ceilometer,master,I00edba80382f8ae92f80e80ed133840e07e7c2fa,Use config_template as a collection,ABANDONED,2022-05-30 13:45:26.000000000,2022-05-30 13:45:52.000000000,,[],"[{'number': 1, 'created': '2022-05-30 13:45:26.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/1e7908588e729494515432237d3ecb092cff3db3', 'message': ""Use config_template as a collection\n\nSince we still use ceph-ansible that has their own implementation of\nconfig_template module it's worth to use mentioned module as a collection\nexplicitly.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/819814\n\n\n\nChange-Id: I00edba80382f8ae92f80e80ed133840e07e7c2fa""}]",0,843869,1e7908588e729494515432237d3ecb092cff3db3,2,0,1,28619,,,0,"Use config_template as a collection

Since we still use ceph-ansible that has their own implementation of
config_template module it's worth to use mentioned module as a collection
explicitly.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/819814



Change-Id: I00edba80382f8ae92f80e80ed133840e07e7c2fa",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/69/843869/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,1e7908588e729494515432237d3ecb092cff3db3,config_template_collection,language = \'en\',language = None,1,1
openstack%2Fopenstack-ansible-os_ceilometer~master~Id06dc3a50ae840a21fdefdb1a0d0bf01f1fb5287,openstack/openstack-ansible-os_ceilometer,master,Id06dc3a50ae840a21fdefdb1a0d0bf01f1fb5287,Use config_template as a collection,ABANDONED,2022-05-30 13:43:18.000000000,2022-05-30 13:44:24.000000000,,[],"[{'number': 1, 'created': '2022-05-30 13:43:18.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/564ca3dce7e9b7db6e4454ff410fd4790caded32', 'message': ""Use config_template as a collection\n\nSince we still use ceph-ansible that has their own implementation of\nconfig_template module it's worth to use mentioned module as a collection\nexplicitly.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/819814\n\n\n\nChange-Id: Id06dc3a50ae840a21fdefdb1a0d0bf01f1fb5287""}]",0,843867,564ca3dce7e9b7db6e4454ff410fd4790caded32,2,0,1,28619,,,0,"Use config_template as a collection

Since we still use ceph-ansible that has their own implementation of
config_template module it's worth to use mentioned module as a collection
explicitly.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/819814



Change-Id: Id06dc3a50ae840a21fdefdb1a0d0bf01f1fb5287",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/67/843867/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,564ca3dce7e9b7db6e4454ff410fd4790caded32,config_template_collection,"language = ""en""",language = None,1,1
openstack%2Fkolla-ansible~master~I88a07bb3bfeb0c98bea9dbe8674033208ec3fb9f,openstack/kolla-ansible,master,I88a07bb3bfeb0c98bea9dbe8674033208ec3fb9f,docs: add information about development libvirt TLS certs,MERGED,2022-02-10 17:23:21.000000000,2022-05-30 13:38:54.000000000,2022-05-30 13:36:36.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-10 17:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ec38f3e533a01b273c769d60c58b9bba623921d9', 'message': 'docs: add information about development libvirt TLS certs\n\nAdds docs for I1bde9fa018f66037aec82dc74c61ad1f477a7c12.\n\nChange-Id: I88a07bb3bfeb0c98bea9dbe8674033208ec3fb9f\n'}, {'number': 2, 'created': '2022-02-11 09:57:20.000000000', 'files': ['doc/source/reference/compute/libvirt-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f853b323fa90c8f25e29f65bb329571041b58523', 'message': 'docs: add information about development libvirt TLS certs\n\nAdds docs for I1bde9fa018f66037aec82dc74c61ad1f477a7c12.\n\nChange-Id: I88a07bb3bfeb0c98bea9dbe8674033208ec3fb9f\n'}]",1,828772,f853b323fa90c8f25e29f65bb329571041b58523,11,3,2,14826,,,0,"docs: add information about development libvirt TLS certs

Adds docs for I1bde9fa018f66037aec82dc74c61ad1f477a7c12.

Change-Id: I88a07bb3bfeb0c98bea9dbe8674033208ec3fb9f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/828772/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/compute/libvirt-guide.rst'],1,ec38f3e533a01b273c769d60c58b9bba623921d9,,"Creation of production-ready TLS certificates is currently out-of-scope for Kolla Ansible. You will need to either use an existing Internal CA or you will need to generate your own offline CA. For the TLS communication to work correctly you will have to supply Kolla Ansible the following pieces of information: Generating certificates for test and development ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Since the Yoga release, the ``kolla-ansible certificates`` command generates certificates for libvirt TLS. A single key and certificate is used for all hosts, with a Subject Alternative Name (SAN) that allows the hostname of any compute host.",Creation of the TLS certificates is currently out-of-scope for Kolla Ansible. You will need to either use an existing Internal CA or you will need to generate your own offline CA. For the TLS communication to work correctly you will have to supply Kolla Ansible the following pieces of information:,13,4
openstack%2Fnova~master~Iea6fe0d070ede6cc27b9c42ddb913ef17b8f0957,openstack/nova,master,Iea6fe0d070ede6cc27b9c42ddb913ef17b8f0957,Fixing rebooting/rebooting_hard instances after rebooting nova-compute,NEW,2022-05-20 06:46:08.000000000,2022-05-30 13:34:21.000000000,,"[{'_account_id': 15334}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-20 06:46:08.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b2b4ef64061568fbb5e52e28cc707978db98a334', 'message': 'Fixing rebooting/rebooting_hard instances after rebooting nova-compute\n\nFixing instances stuck at rebooting or rebooting_hard state after nova-compute\nis rebooted.\n\nChange-Id: Iea6fe0d070ede6cc27b9c42ddb913ef17b8f0957\n'}]",3,842671,b2b4ef64061568fbb5e52e28cc707978db98a334,19,3,1,29071,,,0,"Fixing rebooting/rebooting_hard instances after rebooting nova-compute

Fixing instances stuck at rebooting or rebooting_hard state after nova-compute
is rebooted.

Change-Id: Iea6fe0d070ede6cc27b9c42ddb913ef17b8f0957
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/842671/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,b2b4ef64061568fbb5e52e28cc707978db98a334,," task_states.REBOOTING, task_states.REBOOTING_HARD,",,2,0
openstack%2Foslo.policy~master~I5478b1c8e7fd2f1b01f63602998194bab3683f7c,openstack/oslo.policy,master,I5478b1c8e7fd2f1b01f63602998194bab3683f7c,Fix generation of sample policy files,MERGED,2022-05-25 09:05:03.000000000,2022-05-30 13:22:08.000000000,2022-05-30 13:20:43.000000000,"[{'_account_id': 8556}, {'_account_id': 11655}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-05-25 09:05:03.000000000', 'files': ['oslo_policy/generator.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/5bd767be790f21d6ec0af0589f50137b207d94e8', 'message': 'Fix generation of sample policy files\n\nGeneration of sample policy files was broken when exclude_deprecated was\nadded as an extra argument to the generate_sample function in\nI6d02eb4d8f94323a806fab991ba2f1c3bbf71d04. It was passed as the fourth\nargument, which is actually include_help. Because it defaults to False,\nthis turned sample policy files into actual policy files.\n\nFix by using keyword arguments instead.\n\nChange-Id: I5478b1c8e7fd2f1b01f63602998194bab3683f7c\nCloses-Bug: #1975682\n'}]",3,843250,5bd767be790f21d6ec0af0589f50137b207d94e8,11,5,1,15197,,,0,"Fix generation of sample policy files

Generation of sample policy files was broken when exclude_deprecated was
added as an extra argument to the generate_sample function in
I6d02eb4d8f94323a806fab991ba2f1c3bbf71d04. It was passed as the fourth
argument, which is actually include_help. Because it defaults to False,
this turned sample policy files into actual policy files.

Fix by using keyword arguments instead.

Change-Id: I5478b1c8e7fd2f1b01f63602998194bab3683f7c
Closes-Bug: #1975682
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/50/843250/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_policy/generator.py'],1,5bd767be790f21d6ec0af0589f50137b207d94e8,fix-policy-sample," _generate_sample(conf.namespace, output_file=conf.output_file, output_format=conf.format, exclude_deprecated=conf.exclude_deprecated)"," _generate_sample(conf.namespace, conf.output_file, conf.format, conf.exclude_deprecated)",3,2
openstack%2Fneutron~stable%2Fyoga~Idc6478e6f0fd1a2825b2c978b41feb5dab903357,openstack/neutron,stable/yoga,Idc6478e6f0fd1a2825b2c978b41feb5dab903357,"[OVN] During the DB migration, allow the DB context to finish",MERGED,2022-05-26 15:19:24.000000000,2022-05-30 13:21:30.000000000,2022-05-30 13:19:02.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 15:19:24.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/db_migration.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fde4cf0a0f18d63cd45420990da6e7d21cbbd2f1', 'message': '[OVN] During the DB migration, allow the DB context to finish\n\nDuring the execution of ""migrate_neutron_database_to_ovn"", that is\npart of the OVN database migration process, the port bindings are\nupdated. If by any circumstance a port binding update fails, the\ndatabase write context should end properly (rolling back the\ntransaction) and any exception raise should be catched outside it.\n\nCloses-Bug: #1975692\nChange-Id: Idc6478e6f0fd1a2825b2c978b41feb5dab903357\n(cherry picked from commit 3c637a2d127f7fdac5874fd9ed1b01137d303c7f)\n'}]",2,843488,fde4cf0a0f18d63cd45420990da6e7d21cbbd2f1,14,3,1,16688,,,0,"[OVN] During the DB migration, allow the DB context to finish

During the execution of ""migrate_neutron_database_to_ovn"", that is
part of the OVN database migration process, the port bindings are
updated. If by any circumstance a port binding update fails, the
database write context should end properly (rolling back the
transaction) and any exception raise should be catched outside it.

Closes-Bug: #1975692
Change-Id: Idc6478e6f0fd1a2825b2c978b41feb5dab903357
(cherry picked from commit 3c637a2d127f7fdac5874fd9ed1b01137d303c7f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/843488/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/db_migration.py'],1,fde4cf0a0f18d63cd45420990da6e7d21cbbd2f1,bug/1975692," try: with db_api.CONTEXT_WRITER.using(ctx): pb = port_obj.PortBinding.get_object(ctx, port_id=port_id, host=host) if not pb or not pb.vif_details: continue vif_details = pb.vif_details.copy() for detail in VIF_DETAILS_TO_REMOVE: try: del vif_details[detail] except KeyError: pass if vif_details == pb.vif_details: continue pb.vif_details = vif_details except (exceptions.ObjectNotFound, sqla_exc.StaleDataError, db_exc.DBDeadlock): # The PortBinding register has been already modified. pb_missed.add(port_id)"," with db_api.CONTEXT_WRITER.using(ctx): pb = port_obj.PortBinding.get_object(ctx, port_id=port_id, host=host) if not pb or not pb.vif_details: continue vif_details = pb.vif_details.copy() for detail in VIF_DETAILS_TO_REMOVE: try: del vif_details[detail] except KeyError: pass if vif_details == pb.vif_details: continue pb.vif_details = vif_details try: except (exceptions.ObjectNotFound, sqla_exc.StaleDataError, db_exc.DBDeadlock): # The PortBinding register has been already modified. pb_missed.add(port_id)",20,20
openstack%2Fneutron~stable%2Fxena~Idc6478e6f0fd1a2825b2c978b41feb5dab903357,openstack/neutron,stable/xena,Idc6478e6f0fd1a2825b2c978b41feb5dab903357,"[OVN] During the DB migration, allow the DB context to finish",MERGED,2022-05-26 15:19:46.000000000,2022-05-30 13:20:55.000000000,2022-05-30 13:19:07.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 15:19:46.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/db_migration.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d7e4f694c47b00a4d2a18d8db8e0e94c657f9a5', 'message': '[OVN] During the DB migration, allow the DB context to finish\n\nDuring the execution of ""migrate_neutron_database_to_ovn"", that is\npart of the OVN database migration process, the port bindings are\nupdated. If by any circumstance a port binding update fails, the\ndatabase write context should end properly (rolling back the\ntransaction) and any exception raise should be catched outside it.\n\nCloses-Bug: #1975692\nChange-Id: Idc6478e6f0fd1a2825b2c978b41feb5dab903357\n(cherry picked from commit 3c637a2d127f7fdac5874fd9ed1b01137d303c7f)\n'}]",2,843489,3d7e4f694c47b00a4d2a18d8db8e0e94c657f9a5,14,3,1,16688,,,0,"[OVN] During the DB migration, allow the DB context to finish

During the execution of ""migrate_neutron_database_to_ovn"", that is
part of the OVN database migration process, the port bindings are
updated. If by any circumstance a port binding update fails, the
database write context should end properly (rolling back the
transaction) and any exception raise should be catched outside it.

Closes-Bug: #1975692
Change-Id: Idc6478e6f0fd1a2825b2c978b41feb5dab903357
(cherry picked from commit 3c637a2d127f7fdac5874fd9ed1b01137d303c7f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/843489/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/db_migration.py'],1,3d7e4f694c47b00a4d2a18d8db8e0e94c657f9a5,bug/1975692," try: with db_api.CONTEXT_WRITER.using(ctx): pb = port_obj.PortBinding.get_object(ctx, port_id=port_id, host=host) if not pb or not pb.vif_details: continue vif_details = pb.vif_details.copy() for detail in VIF_DETAILS_TO_REMOVE: try: del vif_details[detail] except KeyError: pass if vif_details == pb.vif_details: continue pb.vif_details = vif_details except (exceptions.ObjectNotFound, sqla_exc.StaleDataError, db_exc.DBDeadlock): # The PortBinding register has been already modified. pb_missed.add(port_id)"," with db_api.CONTEXT_WRITER.using(ctx): pb = port_obj.PortBinding.get_object(ctx, port_id=port_id, host=host) if not pb or not pb.vif_details: continue vif_details = pb.vif_details.copy() for detail in VIF_DETAILS_TO_REMOVE: try: del vif_details[detail] except KeyError: pass if vif_details == pb.vif_details: continue pb.vif_details = vif_details try: except (exceptions.ObjectNotFound, sqla_exc.StaleDataError, db_exc.DBDeadlock): # The PortBinding register has been already modified. pb_missed.add(port_id)",20,20
openstack%2Fironic-python-agent~master~Id3f165286cfc47dcf45c042115a63804a0c671e8,openstack/ironic-python-agent,master,Id3f165286cfc47dcf45c042115a63804a0c671e8,Add a metalsmith job with legacy boot,MERGED,2022-05-17 10:52:09.000000000,2022-05-30 13:08:50.000000000,2022-05-30 13:05:45.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-17 10:52:09.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/21b075cd3f9c56327fd0446365a90715f44b1219', 'message': 'Add a metalsmith job with legacy boot\n\nWith netboot removal, this will be the only job that tests local legacy\nboot with partition images.\n\nDepends-On: https://review.opendev.org/c/openstack/metalsmith/+/841911\nChange-Id: Id3f165286cfc47dcf45c042115a63804a0c671e8\n'}]",1,842085,21b075cd3f9c56327fd0446365a90715f44b1219,12,3,1,10239,,,0,"Add a metalsmith job with legacy boot

With netboot removal, this will be the only job that tests local legacy
boot with partition images.

Depends-On: https://review.opendev.org/c/openstack/metalsmith/+/841911
Change-Id: Id3f165286cfc47dcf45c042115a63804a0c671e8
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/85/842085/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml']",2,21b075cd3f9c56327fd0446365a90715f44b1219,gate, - metalsmith-integration-ipa-src-legacy - metalsmith-integration-ipa-src-legacy,,16,2
openstack%2Fironic~stable%2Fxena~Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8,openstack/ironic,stable/xena,Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8,CI: Removing ironic job queue,MERGED,2022-05-26 20:22:46.000000000,2022-05-30 12:45:54.000000000,2022-05-30 12:42:42.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-26 20:22:46.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/bd141ea37c20206533621d2110cb7db2aabb8c55', 'message': 'CI: Removing ironic job queue\n\nChange-Id: Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8\nSee: https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n(cherry picked from commit 63e53797adca625edd2fdacd16a025bedccf8731)\n'}]",1,843512,bd141ea37c20206533621d2110cb7db2aabb8c55,11,2,1,11655,,,0,"CI: Removing ironic job queue

Change-Id: Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8
See: https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
(cherry picked from commit 63e53797adca625edd2fdacd16a025bedccf8731)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/12/843512/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,bd141ea37c20206533621d2110cb7db2aabb8c55,drop-queue-ironic-stable/yoga-stable/xena,, queue: ironic,0,1
openstack%2Fansible-role-collect-logs~master~Ie4ef635e1b3885a98a65f1bcc23aa41a24f8d61f,openstack/ansible-role-collect-logs,master,Ie4ef635e1b3885a98a65f1bcc23aa41a24f8d61f,DNM - testing sanity checks,ABANDONED,2022-05-30 08:26:36.000000000,2022-05-30 12:35:37.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-30 08:26:36.000000000', 'files': ['roles/collect_logs/tasks/collect/network.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/9dc77b41facc942039c4ba897373d3d54ee11ff6', 'message': 'DNM - testing sanity checks\n\nChange-Id: Ie4ef635e1b3885a98a65f1bcc23aa41a24f8d61f\n'}]",0,843801,9dc77b41facc942039c4ba897373d3d54ee11ff6,4,2,1,28223,,,0,"DNM - testing sanity checks

Change-Id: Ie4ef635e1b3885a98a65f1bcc23aa41a24f8d61f
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/01/843801/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/collect_logs/tasks/collect/network.yml'],1,9dc77b41facc942039c4ba897373d3d54ee11ff6,test-sanity,# DNM,,1,0
openstack%2Fkolla-ansible~master~Id8573ad6727c62e355923b787c51766bc27ed848,openstack/kolla-ansible,master,Id8573ad6727c62e355923b787c51766bc27ed848,Fix a comment on openstack_interface,MERGED,2022-05-28 16:31:40.000000000,2022-05-30 12:30:32.000000000,2022-05-30 12:26:11.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-05-28 16:31:40.000000000', 'files': ['ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8ab13c5d93ccd29e89c123557e86c9f838c520ae', 'message': 'Fix a comment on openstack_interface\n\nChange-Id: Id8573ad6727c62e355923b787c51766bc27ed848\n'}]",0,843728,8ab13c5d93ccd29e89c123557e86c9f838c520ae,9,3,1,30491,,,0,"Fix a comment on openstack_interface

Change-Id: Id8573ad6727c62e355923b787c51766bc27ed848
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/28/843728/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,8ab13c5d93ccd29e89c123557e86c9f838c520ae,fix-comment,"# Valid options are [ public, internal ]","# Valid options are [ public, internal, admin ]",1,1
openstack%2Fkolla-ansible~master~I32fc296083b4881e8f457f4235a32f94ed819d9f,openstack/kolla-ansible,master,I32fc296083b4881e8f457f4235a32f94ed819d9f,[CI] Nullify attempts,MERGED,2022-05-27 18:19:13.000000000,2022-05-30 12:29:16.000000000,2022-05-30 12:26:07.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-27 18:19:13.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/153956e458157e44d73efc3dd369699ff20e4d12', 'message': ""[CI] Nullify attempts\n\nPer Clark Boylan's feedback [1], retries cause a retry not only\nfor pre playbook failures but also for cases where Ansible detects\nnetwork connectivity issues and they are caused by disks getting\nfilled to their fullest. This is an issue we experience that\nsometimes results in a POST_FAILURE but certain FAILUREs are\nretried which wastes CI resources.\nThe problematic jobs are ceph jobs. They are to be looked into.\nBackport to all branches.\nWe can adjust retries for the core jobs that do not exhibit the\nnasty behaviour but first we can try running without retries\nto measure the troublesomeness.\n\n[1] https://review.opendev.org/c/openstack/kolla-ansible/+/843536\n\nChange-Id: I32fc296083b4881e8f457f4235a32f94ed819d9f\n""}]",1,843671,153956e458157e44d73efc3dd369699ff20e4d12,13,5,1,30491,,,0,"[CI] Nullify attempts

Per Clark Boylan's feedback [1], retries cause a retry not only
for pre playbook failures but also for cases where Ansible detects
network connectivity issues and they are caused by disks getting
filled to their fullest. This is an issue we experience that
sometimes results in a POST_FAILURE but certain FAILUREs are
retried which wastes CI resources.
The problematic jobs are ceph jobs. They are to be looked into.
Backport to all branches.
We can adjust retries for the core jobs that do not exhibit the
nasty behaviour but first we can try running without retries
to measure the troublesomeness.

[1] https://review.opendev.org/c/openstack/kolla-ansible/+/843536

Change-Id: I32fc296083b4881e8f457f4235a32f94ed819d9f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/71/843671/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,153956e458157e44d73efc3dd369699ff20e4d12,ci-null-attempts,, attempts: 5,0,1
openstack%2Fkolla-ansible~stable%2Fyoga~If4c85f8e960141d08a89accdc11a3271f31974c1,openstack/kolla-ansible,stable/yoga,If4c85f8e960141d08a89accdc11a3271f31974c1,talk TLS to openstack exporter via haproxy,MERGED,2022-05-26 13:20:10.000000000,2022-05-30 12:22:32.000000000,2022-05-30 12:20:25.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-26 13:20:10.000000000', 'files': ['releasenotes/notes/fix-openstack-exporter-tls-bug-1975598.yml', 'ansible/roles/prometheus/templates/prometheus.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c9b9b62e66bd7177d30b10d9d500faec3ab3fdd3', 'message': 'talk TLS to openstack exporter via haproxy\n\nCloses-Bug: #1975598\nChange-Id: If4c85f8e960141d08a89accdc11a3271f31974c1\n(cherry picked from commit fcba927d7b989cea8398b461da7363ceee3f14bc)\n'}]",0,843397,c9b9b62e66bd7177d30b10d9d500faec3ab3fdd3,9,3,1,14826,,,0,"talk TLS to openstack exporter via haproxy

Closes-Bug: #1975598
Change-Id: If4c85f8e960141d08a89accdc11a3271f31974c1
(cherry picked from commit fcba927d7b989cea8398b461da7363ceee3f14bc)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/97/843397/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-openstack-exporter-tls-bug-1975598.yml', 'ansible/roles/prometheus/templates/prometheus.yml.j2']",2,c9b9b62e66bd7177d30b10d9d500faec3ab3fdd3,,{% if kolla_enable_tls_internal | bool %} scheme: https {% endif %},,11,0
openstack%2Fkolla-ansible~stable%2Fwallaby~If4c85f8e960141d08a89accdc11a3271f31974c1,openstack/kolla-ansible,stable/wallaby,If4c85f8e960141d08a89accdc11a3271f31974c1,talk TLS to openstack exporter via haproxy,MERGED,2022-05-26 13:21:04.000000000,2022-05-30 12:22:23.000000000,2022-05-30 12:19:57.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-26 13:21:04.000000000', 'files': ['releasenotes/notes/fix-openstack-exporter-tls-bug-1975598.yml', 'ansible/roles/prometheus/templates/prometheus.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6a1764885ad45dd8a2a788b99bd1b0bb19951950', 'message': 'talk TLS to openstack exporter via haproxy\n\nCloses-Bug: #1975598\nChange-Id: If4c85f8e960141d08a89accdc11a3271f31974c1\n(cherry picked from commit fcba927d7b989cea8398b461da7363ceee3f14bc)\n'}]",0,843399,6a1764885ad45dd8a2a788b99bd1b0bb19951950,9,3,1,14826,,,0,"talk TLS to openstack exporter via haproxy

Closes-Bug: #1975598
Change-Id: If4c85f8e960141d08a89accdc11a3271f31974c1
(cherry picked from commit fcba927d7b989cea8398b461da7363ceee3f14bc)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/99/843399/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-openstack-exporter-tls-bug-1975598.yml', 'ansible/roles/prometheus/templates/prometheus.yml.j2']",2,6a1764885ad45dd8a2a788b99bd1b0bb19951950,,{% if kolla_enable_tls_internal | bool %} scheme: https {% endif %},,11,0
openstack%2Fkolla-ansible~stable%2Fxena~If4c85f8e960141d08a89accdc11a3271f31974c1,openstack/kolla-ansible,stable/xena,If4c85f8e960141d08a89accdc11a3271f31974c1,talk TLS to openstack exporter via haproxy,MERGED,2022-05-26 13:20:55.000000000,2022-05-30 12:22:09.000000000,2022-05-30 12:19:27.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-26 13:20:55.000000000', 'files': ['releasenotes/notes/fix-openstack-exporter-tls-bug-1975598.yml', 'ansible/roles/prometheus/templates/prometheus.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/704da0b9c51c26d7e953d9144974a6f7ae349f51', 'message': 'talk TLS to openstack exporter via haproxy\n\nCloses-Bug: #1975598\nChange-Id: If4c85f8e960141d08a89accdc11a3271f31974c1\n(cherry picked from commit fcba927d7b989cea8398b461da7363ceee3f14bc)\n'}]",0,843398,704da0b9c51c26d7e953d9144974a6f7ae349f51,9,3,1,14826,,,0,"talk TLS to openstack exporter via haproxy

Closes-Bug: #1975598
Change-Id: If4c85f8e960141d08a89accdc11a3271f31974c1
(cherry picked from commit fcba927d7b989cea8398b461da7363ceee3f14bc)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/98/843398/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-openstack-exporter-tls-bug-1975598.yml', 'ansible/roles/prometheus/templates/prometheus.yml.j2']",2,704da0b9c51c26d7e953d9144974a6f7ae349f51,,{% if kolla_enable_tls_internal | bool %} scheme: https {% endif %},,11,0
openstack%2Fneutron~stable%2Fwallaby~Id1907481077d230e4461906a1a2a1447abac330a,openstack/neutron,stable/wallaby,Id1907481077d230e4461906a1a2a1447abac330a,"[OVN] Allow VIP ports with a defined ""device_owner""",MERGED,2022-05-18 09:34:54.000000000,2022-05-30 12:02:53.000000000,2022-05-30 12:01:13.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-18 09:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3051a1d4ff8575e5cfebcba8e36a063eb67e444d', 'message': '[OVN] Allow VIP ports with a defined ""device_owner""\n\nNow OVN VIP port can have a ""device_owner"" defined.\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py\n\nCloses-Bug: #1973276\nChange-Id: Id1907481077d230e4461906a1a2a1447abac330a\n(cherry picked from commit 4c37497e7c98180fb6b1118021acd8e96b7028d0)\n(cherry picked from commit becc90e8ce0ee815fe85a24239eeea5afdacbddd)\n'}, {'number': 2, 'created': '2022-05-18 15:53:54.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c4d98634cd90bba64b842f538ac7d8a7cef04f2a', 'message': '[OVN] Allow VIP ports with a defined ""device_owner""\n\nNow OVN VIP port can have a ""device_owner"" defined.\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py\n\nCloses-Bug: #1973276\nChange-Id: Id1907481077d230e4461906a1a2a1447abac330a\n(cherry picked from commit 4c37497e7c98180fb6b1118021acd8e96b7028d0)\n(cherry picked from commit 9e2425111b6f7413098bbb38f6013d18b3804303)\n'}]",1,842295,c4d98634cd90bba64b842f538ac7d8a7cef04f2a,15,4,2,16688,,,0,"[OVN] Allow VIP ports with a defined ""device_owner""

Now OVN VIP port can have a ""device_owner"" defined.

Conflicts:
    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py

Closes-Bug: #1973276
Change-Id: Id1907481077d230e4461906a1a2a1447abac330a
(cherry picked from commit 4c37497e7c98180fb6b1118021acd8e96b7028d0)
(cherry picked from commit 9e2425111b6f7413098bbb38f6013d18b3804303)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/842295/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py']",2,3051a1d4ff8575e5cfebcba8e36a063eb67e444d,bug/1973276," @mock.patch.object(ovn_client.OVNClient, 'get_virtual_port_parents', return_value=[]) def test_create_segments_subnet_metadata_ip_allocation(self, *args): @mock.patch.object(ovn_client.OVNClient, 'get_virtual_port_parents', return_value=[]) def test_metadata_ip_on_subnet_create(self, *args): for device_owner in ('', 'myVIPowner'): port = {'id': 'virt-port', 'mac_address': '00:00:00:00:00:00', 'device_owner': device_owner, 'network_id': self.net['id'], 'fixed_ips': [{'subnet_id': self.subnet['id'], 'ip_address': '10.0.0.55'}]} port_info = self.mech_driver._ovn_client._get_port_options(port) self.assertEqual(ovn_const.LSP_TYPE_VIRTUAL, port_info.type) self.assertEqual( '10.0.0.55', port_info.options[ovn_const.LSP_OPTIONS_VIRTUAL_IP_KEY]) self.assertIn( 'parent-0', port_info.options[ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY]) self.assertIn( 'parent-1', port_info.options[ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY])"," def test_create_segments_subnet_metadata_ip_allocation(self): def test_metadata_ip_on_subnet_create(self): port = {'id': 'virt-port', 'mac_address': '00:00:00:00:00:00', 'device_owner': '', 'network_id': self.net['id'], 'fixed_ips': [{'subnet_id': self.subnet['id'], 'ip_address': '10.0.0.55'}]} port_info = self.mech_driver._ovn_client._get_port_options( port) self.assertEqual(ovn_const.LSP_TYPE_VIRTUAL, port_info.type) self.assertEqual( '10.0.0.55', port_info.options[ovn_const.LSP_OPTIONS_VIRTUAL_IP_KEY]) self.assertIn( 'parent-0', port_info.options[ ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY]) self.assertIn( 'parent-1', port_info.options[ ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY])",33,30
openstack%2Fdevstack~stable%2Fussuri~I5d42ac6b54bf20804d7e5faa39d1289102318b64,openstack/devstack,stable/ussuri,I5d42ac6b54bf20804d7e5faa39d1289102318b64,Use upper-constraints from in review changes,ABANDONED,2022-05-30 11:57:01.000000000,2022-05-30 11:59:29.000000000,,[],"[{'number': 1, 'created': '2022-05-30 11:57:01.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d79fe2faca8a1c95032d256a143c87c7b4339fc4', 'message': 'Use upper-constraints from in review changes\n\nCurrently upper-constraints.txt is not getting used\nfrom in-review changes of requirements project and\nleading to merge of broken requirements[1].\n\nUse master branch to fetch constraints instead of\nthe remote branch.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/822575\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/823128\nChange-Id: I5d42ac6b54bf20804d7e5faa39d1289102318b64\n(cherry picked from commit 05e622ead243325658ae5aff5b5b53ce60135c57)\n(cherry picked from commit 2e390d7d102710cab170092754102bb202791af8)\n'}]",0,843815,d79fe2faca8a1c95032d256a143c87c7b4339fc4,2,0,1,13861,,,0,"Use upper-constraints from in review changes

Currently upper-constraints.txt is not getting used
from in-review changes of requirements project and
leading to merge of broken requirements[1].

Use master branch to fetch constraints instead of
the remote branch.

[1] https://review.opendev.org/c/openstack/requirements/+/822575

Depends-On: https://review.opendev.org/c/openstack/requirements/+/823128
Change-Id: I5d42ac6b54bf20804d7e5faa39d1289102318b64
(cherry picked from commit 05e622ead243325658ae5aff5b5b53ce60135c57)
(cherry picked from commit 2e390d7d102710cab170092754102bb202791af8)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/15/843815/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,d79fe2faca8a1c95032d256a143c87c7b4339fc4,uc-master-fix-stable/xena-stable/wallaby-stable/victoria-stable/ussuri, (cd $REQUIREMENTS_DIR && git show master:upper-constraints.txt) > $tmp_c, (cd $REQUIREMENTS_DIR && git show origin/master:upper-constraints.txt) > $tmp_c,1,1
openstack%2Fkolla-ansible~stable%2Fvictoria~If4c85f8e960141d08a89accdc11a3271f31974c1,openstack/kolla-ansible,stable/victoria,If4c85f8e960141d08a89accdc11a3271f31974c1,talk TLS to openstack exporter via haproxy,MERGED,2022-05-26 13:21:14.000000000,2022-05-30 11:57:04.000000000,2022-05-30 11:55:32.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-26 13:21:14.000000000', 'files': ['releasenotes/notes/fix-openstack-exporter-tls-bug-1975598.yml', 'ansible/roles/prometheus/templates/prometheus.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c6e7136146939f898f01cc49e274fc3af2946cfd', 'message': 'talk TLS to openstack exporter via haproxy\n\nCloses-Bug: #1975598\nChange-Id: If4c85f8e960141d08a89accdc11a3271f31974c1\n(cherry picked from commit fcba927d7b989cea8398b461da7363ceee3f14bc)\n'}]",0,843400,c6e7136146939f898f01cc49e274fc3af2946cfd,9,3,1,14826,,,0,"talk TLS to openstack exporter via haproxy

Closes-Bug: #1975598
Change-Id: If4c85f8e960141d08a89accdc11a3271f31974c1
(cherry picked from commit fcba927d7b989cea8398b461da7363ceee3f14bc)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/843400/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-openstack-exporter-tls-bug-1975598.yml', 'ansible/roles/prometheus/templates/prometheus.yml.j2']",2,c6e7136146939f898f01cc49e274fc3af2946cfd,,{% if kolla_enable_tls_internal | bool %} scheme: https {% endif %},,11,0
openstack%2Foslo.utils~master~I6dbb8650b0bc3448143ed88570ce33820710b156,openstack/oslo.utils,master,I6dbb8650b0bc3448143ed88570ce33820710b156,bindep: Use Python 3 devel packages,MERGED,2022-05-26 16:54:40.000000000,2022-05-30 11:55:12.000000000,2022-05-30 11:53:30.000000000,"[{'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-05-26 16:54:40.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/efa9dcbba1db1b5b6d953d1fa0ff062b8c2a9e38', 'message': 'bindep: Use Python 3 devel packages\n\nChange-Id: I6dbb8650b0bc3448143ed88570ce33820710b156\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,843502,efa9dcbba1db1b5b6d953d1fa0ff062b8c2a9e38,8,3,1,15334,,,0,"bindep: Use Python 3 devel packages

Change-Id: I6dbb8650b0bc3448143ed88570ce33820710b156
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/02/843502/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,efa9dcbba1db1b5b6d953d1fa0ff062b8c2a9e38,python310,python3-devel [platform:rpm],python-dev [platform:dpkg] python-devel [platform:rpm]python3-devel [platform:fedora],1,3
openstack%2Fkolla~master~I737e1ce5bfc37d0703879c8272a9e915084c5ca6,openstack/kolla,master,I737e1ce5bfc37d0703879c8272a9e915084c5ca6,Replace Certbot with Lego for Let's Encrypt container,MERGED,2022-03-17 18:16:26.000000000,2022-05-30 11:43:45.000000000,2022-05-30 11:42:11.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-03-17 18:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7b65ae12a0c3a9c20c6f520339fa29fde475a91d', 'message': ""Add ssh to Let's Encrypt and HAProxy containers\n\nAdds ssh-client to LetsEncrypt and ssh-server to HAProxy to allow both\nthe transfer of Let's Encrypt certificates to the HAProxy container and\nto enable live updating of HAProxy certifices using the HAProxy API\nexposed on the local HAProxy socket.\n\nImplements: blueprint letsencrypt-https\nChange-Id: I737e1ce5bfc37d0703879c8272a9e915084c5ca6\n""}, {'number': 2, 'created': '2022-03-22 19:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4fa1458a1d9f4e137c35a4bf5592cd7aa00d1995', 'message': ""Add ssh to Let's Encrypt and HAProxy containers\n\nAdds ssh-client to LetsEncrypt and ssh-server to HAProxy to allow both\nthe transfer of Let's Encrypt certificates to the HAProxy container and\nto enable live updating of HAProxy certifices using the HAProxy API\nexposed on the local HAProxy socket.\n\nImplements: blueprint letsencrypt-https\nChange-Id: I737e1ce5bfc37d0703879c8272a9e915084c5ca6\n""}, {'number': 3, 'created': '2022-04-07 23:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2841fce5541ecf0251b4b05b42e66d2c94e21147', 'message': ""Replace Certbot with Lego for Let's Encrypt container\n\nReplaces Certbot with Lego for certificate retrieval and renewal.\nLego includes support for DNS ACME Challenges.\n\nAdds ssh-client to LetsEncrypt and ssh-server to HAProxy to allow both\nthe transfer of Let's Encrypt certificates to the HAProxy container and\nto enable live updating of HAProxy certifices using the HAProxy API\nexposed on the local HAProxy socket.\n\nImplements: blueprint letsencrypt-https\nChange-Id: I737e1ce5bfc37d0703879c8272a9e915084c5ca6\n""}, {'number': 4, 'created': '2022-04-08 19:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5246b0cadce13c41f1c537abe7e66d72317d5bf7', 'message': ""Replace Certbot with Lego for Let's Encrypt container\n\nReplaces Certbot with Lego for certificate retrieval and renewal.\nLego includes support for DNS ACME Challenges.\n\nAdds ssh-client to LetsEncrypt and ssh-server to HAProxy to allow both\nthe transfer of Let's Encrypt certificates to the HAProxy container and\nto enable live updating of HAProxy certifices using the HAProxy API\nexposed on the local HAProxy socket.\n\nImplements: blueprint letsencrypt-https\nChange-Id: I737e1ce5bfc37d0703879c8272a9e915084c5ca6\n""}, {'number': 5, 'created': '2022-04-11 17:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d0bccc72119dc9e539dcd1a7a245e31857843be5', 'message': ""Replace Certbot with Lego for Let's Encrypt container\n\nReplaces Certbot with Lego for certificate retrieval and renewal.\nLego includes support for DNS ACME Challenges.\n\nAdds ssh-client to LetsEncrypt and ssh-server to HAProxy to allow both\nthe transfer of Let's Encrypt certificates to the HAProxy container and\nto enable live updating of HAProxy certifices using the HAProxy API\nexposed on the local HAProxy socket.\n\nImplements: blueprint letsencrypt-https\nChange-Id: I737e1ce5bfc37d0703879c8272a9e915084c5ca6\n""}, {'number': 6, 'created': '2022-04-11 19:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a6c152c219ad4d4a34ff958b33fa4f4224cf337f', 'message': ""Replace Certbot with Lego for Let's Encrypt container\n\nReplaces Certbot with Lego for certificate retrieval and renewal.\nLego includes support for DNS ACME Challenges.\n\nAdds ssh-client to LetsEncrypt and ssh-server to HAProxy to allow both\nthe transfer of Let's Encrypt certificates to the HAProxy container and\nto enable live updating of HAProxy certifices using the HAProxy API\nexposed on the local HAProxy socket.\n\nImplements: blueprint letsencrypt-https\nChange-Id: I737e1ce5bfc37d0703879c8272a9e915084c5ca6\n""}, {'number': 7, 'created': '2022-04-22 17:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/38e54047b722e172d9e1f1ab43f5231537040cab', 'message': ""Replace Certbot with Lego for Let's Encrypt container\n\nReplaces Certbot with Lego for certificate retrieval and renewal.\nLego includes support for DNS ACME Challenges.\n\nAdds ssh-client to LetsEncrypt and ssh-server to HAProxy to allow both\nthe transfer of Let's Encrypt certificates to the HAProxy container and\nto enable live updating of HAProxy certifices using the HAProxy API\nexposed on the local HAProxy socket.\n\nImplements: blueprint letsencrypt-https\nChange-Id: I737e1ce5bfc37d0703879c8272a9e915084c5ca6\n""}, {'number': 8, 'created': '2022-04-22 17:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f766b4576699262979782986568bf3394ad7838c', 'message': ""Replace Certbot with Lego for Let's Encrypt container\n\nReplaces Certbot with Lego for certificate retrieval and renewal.\nLego includes support for DNS ACME Challenges.\n\nAdds ssh-client to LetsEncrypt and ssh-server to HAProxy to allow both\nthe transfer of Let's Encrypt certificates to the HAProxy container and\nto enable live updating of HAProxy certifices using the HAProxy API\nexposed on the local HAProxy socket.\n\nImplements: blueprint letsencrypt-https\nChange-Id: I737e1ce5bfc37d0703879c8272a9e915084c5ca6\n""}, {'number': 9, 'created': '2022-04-28 18:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fb179d6545e5a058dc964c3f1a0a54ec64274936', 'message': ""Replace Certbot with Lego for Let's Encrypt container\n\nReplaces Certbot with Lego for certificate retrieval and renewal.\nLego includes support for DNS ACME Challenges.\n\nAdds ssh-client to LetsEncrypt and ssh-server to HAProxy to allow both\nthe transfer of Let's Encrypt certificates to the HAProxy container and\nto enable live updating of HAProxy certifices using the HAProxy API\nexposed on the local HAProxy socket.\n\nImplements: blueprint letsencrypt-https\nChange-Id: I737e1ce5bfc37d0703879c8272a9e915084c5ca6\n""}, {'number': 10, 'created': '2022-05-02 23:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e1cc6087ba7953d3a9fcc47bace1b250eed80f60', 'message': ""Replace Certbot with Lego for Let's Encrypt container\n\nReplaces Certbot with Lego for certificate retrieval and renewal.\nLego includes support for DNS ACME Challenges.\n\nAdds ssh-client to LetsEncrypt and ssh-server to HAProxy to allow both\nthe transfer of Let's Encrypt certificates to the HAProxy container and\nto enable live updating of HAProxy certifices using the HAProxy API\nexposed on the local HAProxy socket.\n\nImplements: blueprint letsencrypt-https\nChange-Id: I737e1ce5bfc37d0703879c8272a9e915084c5ca6\n""}, {'number': 11, 'created': '2022-05-03 00:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/881546557f7fcdc75b61317e51ac3447cba4e1d5', 'message': ""Replace Certbot with Lego for Let's Encrypt container\n\nReplaces Certbot with Lego for certificate retrieval and renewal.\nLego includes support for DNS ACME Challenges.\n\nAdds ssh-client to LetsEncrypt and ssh-server to HAProxy to allow both\nthe transfer of Let's Encrypt certificates to the HAProxy container and\nto enable live updating of HAProxy certifices using the HAProxy API\nexposed on the local HAProxy socket.\n\nImplements: blueprint letsencrypt-https\nChange-Id: I737e1ce5bfc37d0703879c8272a9e915084c5ca6\n""}, {'number': 12, 'created': '2022-05-03 18:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/70a336ce16de19f15e496581de34829b4cfd9ea0', 'message': ""Replace Certbot with Lego for Let's Encrypt container\n\nReplaces Certbot with Lego for certificate retrieval and renewal.\nLego includes support for DNS ACME Challenges.\n\nAdds ssh-client to LetsEncrypt and ssh-server to HAProxy to allow both\nthe transfer of Let's Encrypt certificates to the HAProxy container and\nto enable live updating of HAProxy certifices using the HAProxy API\nexposed on the local HAProxy socket.\n\nImplements: blueprint letsencrypt-https\nChange-Id: I737e1ce5bfc37d0703879c8272a9e915084c5ca6\n""}, {'number': 13, 'created': '2022-05-04 20:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/35affdfe74921eab955e9a9a2a31ba07c19ded4c', 'message': ""Replace Certbot with Lego for Let's Encrypt container\n\nReplaces Certbot with Lego for certificate retrieval and renewal.\nLego includes support for DNS ACME Challenges.\n\nAdds ssh-client to LetsEncrypt and ssh-server to HAProxy to allow both\nthe transfer of Let's Encrypt certificates to the HAProxy container and\nto enable live updating of HAProxy certifices using the HAProxy API\nexposed on the local HAProxy socket.\n\nImplements: blueprint letsencrypt-https\nChange-Id: I737e1ce5bfc37d0703879c8272a9e915084c5ca6\n""}, {'number': 14, 'created': '2022-05-05 15:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b33e2ce3a7941283d9bd6e8647f64cee3cef2f5a', 'message': ""Replace Certbot with Lego for Let's Encrypt container\n\nReplaces Certbot with Lego for certificate retrieval and renewal.\nLego includes support for DNS ACME Challenges.\n\nAdds ssh-client to LetsEncrypt and ssh-server to HAProxy to allow both\nthe transfer of Let's Encrypt certificates to the HAProxy container and\nto enable live updating of HAProxy certifices using the HAProxy API\nexposed on the local HAProxy socket.\n\nImplements: blueprint letsencrypt-https\nChange-Id: I737e1ce5bfc37d0703879c8272a9e915084c5ca6\n""}, {'number': 15, 'created': '2022-05-25 14:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/576aebec8929514490549f6ef1f4ba16192da11a', 'message': ""Replace Certbot with Lego for Let's Encrypt container\n\nReplaces Certbot with Lego for certificate retrieval and renewal.\nLego includes support for DNS ACME Challenges.\n\nAdds ssh-client to LetsEncrypt and ssh-server to HAProxy to allow both\nthe transfer of Let's Encrypt certificates to the HAProxy container and\nto enable live updating of HAProxy certifices using the HAProxy API\nexposed on the local HAProxy socket.\n\nImplements: blueprint letsencrypt-https\nChange-Id: I737e1ce5bfc37d0703879c8272a9e915084c5ca6\n""}, {'number': 16, 'created': '2022-05-26 08:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/eb4b5420f2ed94c4ef7fe2777dd33d1db7845b30', 'message': ""Replace Certbot with Lego for Let's Encrypt container\n\nReplaces Certbot with Lego for certificate retrieval and renewal.\nLego includes support for DNS ACME Challenges.\n\nAdds ssh-client to LetsEncrypt and ssh-server to HAProxy to allow both\nthe transfer of Let's Encrypt certificates to the HAProxy container and\nto enable live updating of HAProxy certifices using the HAProxy API\nexposed on the local HAProxy socket.\n\nImplements: blueprint letsencrypt-https\nChange-Id: I737e1ce5bfc37d0703879c8272a9e915084c5ca6\n""}, {'number': 17, 'created': '2022-05-26 15:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5b0bb37727201a081baa4e1ae3f96ede35517458', 'message': ""Replace Certbot with Lego for Let's Encrypt container\n\nReplaces Certbot with Lego for certificate retrieval and renewal.\nLego includes support for DNS ACME Challenges.\n\nAdds ssh-client to LetsEncrypt and ssh-server to HAProxy to allow both\nthe transfer of Let's Encrypt certificates to the HAProxy container and\nto enable live updating of HAProxy certifices using the HAProxy API\nexposed on the local HAProxy socket.\n\nImplements: blueprint letsencrypt-https\nChange-Id: I737e1ce5bfc37d0703879c8272a9e915084c5ca6\n""}, {'number': 18, 'created': '2022-05-27 14:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/41b056a107c12e7e02ac2d9a8dd7f620e0dc76a0', 'message': ""Replace Certbot with Lego for Let's Encrypt container\n\nReplaces Certbot with Lego for certificate retrieval and renewal.\nLego includes support for DNS ACME Challenges.\n\nAdds ssh-client to LetsEncrypt and ssh-server to HAProxy to allow both\nthe transfer of Let's Encrypt certificates to the HAProxy container and\nto enable live updating of HAProxy certifices using the HAProxy API\nexposed on the local HAProxy socket.\n\nImplements: blueprint letsencrypt-https\nChange-Id: I737e1ce5bfc37d0703879c8272a9e915084c5ca6\n""}, {'number': 19, 'created': '2022-05-27 19:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bce0f591ddcf25e4f2e5d70152b57cb17a19003f', 'message': ""Replace Certbot with Lego for Let's Encrypt container\n\nReplaces Certbot with Lego for certificate retrieval and renewal.\nLego includes support for DNS ACME Challenges.\n\nAdds ssh-client to LetsEncrypt and ssh-server to HAProxy to allow both\nthe transfer of Let's Encrypt certificates to the HAProxy container and\nto enable live updating of HAProxy certifices using the HAProxy API\nexposed on the local HAProxy socket.\n\nImplements: blueprint letsencrypt-https\nChange-Id: I737e1ce5bfc37d0703879c8272a9e915084c5ca6\n""}, {'number': 20, 'created': '2022-05-30 08:11:54.000000000', 'files': ['docker/haproxy/haproxy/ensure_latest_config.sh', 'docker/haproxy/haproxy-ssh/extend_start.sh', 'docker/haproxy/haproxy-ssh/Dockerfile.j2', 'docker/haproxy/haproxy/Dockerfile.j2', 'docker/letsencrypt/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d424a63d6049d8d241ab1294aea035d4b187a111', 'message': ""Replace Certbot with Lego for Let's Encrypt container\n\nReplaces Certbot with Lego for certificate retrieval and renewal.\nLego includes support for DNS ACME Challenges.\n\nAdds ssh-client to LetsEncrypt and ssh-server to HAProxy to allow both\nthe transfer of Let's Encrypt certificates to the HAProxy container and\nto enable live updating of HAProxy certifices using the HAProxy API\nexposed on the local HAProxy socket.\n\nImplements: blueprint letsencrypt-https\nChange-Id: I737e1ce5bfc37d0703879c8272a9e915084c5ca6\n""}]",39,834211,d424a63d6049d8d241ab1294aea035d4b187a111,93,4,20,30810,,,0,"Replace Certbot with Lego for Let's Encrypt container

Replaces Certbot with Lego for certificate retrieval and renewal.
Lego includes support for DNS ACME Challenges.

Adds ssh-client to LetsEncrypt and ssh-server to HAProxy to allow both
the transfer of Let's Encrypt certificates to the HAProxy container and
to enable live updating of HAProxy certifices using the HAProxy API
exposed on the local HAProxy socket.

Implements: blueprint letsencrypt-https
Change-Id: I737e1ce5bfc37d0703879c8272a9e915084c5ca6
",git fetch https://review.opendev.org/openstack/kolla refs/changes/11/834211/20 && git format-patch -1 --stdout FETCH_HEAD,"['docker/haproxy/haproxy/ensure_latest_config.sh', 'docker/haproxy/haproxy-ssh/extend_start.sh', 'docker/haproxy/haproxy-ssh/Dockerfile.j2', 'docker/haproxy/haproxy/Dockerfile.j2', 'docker/letsencrypt/Dockerfile.j2']",5,7b65ae12a0c3a9c20c6f520339fa29fde475a91d,override-extra-repos," 'openssh-clients', # NOTE(mgoddard): The centos:8 image contains a /run/nologin file, which # prevents SSH access to it. RUN rm -f /run/nologin 'openssh-client',",,71,4
openstack%2Ftripleo-quickstart-extras~master~Ie6fce250c9b554ac350ff6670eaf12a4407237eb,openstack/tripleo-quickstart-extras,master,Ie6fce250c9b554ac350ff6670eaf12a4407237eb,[DNM] Test disabled build,ABANDONED,2022-05-25 16:10:01.000000000,2022-05-30 11:39:49.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2022-05-25 16:10:01.000000000', 'files': ['zuul.d/layout.yaml', 'roles/build-test-packages/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d60bf7fac7f033c7e2870afd0a897b439c4dd0b1', 'message': '[DNM] Test disabled build\n\nChange-Id: Ie6fce250c9b554ac350ff6670eaf12a4407237eb\n'}]",0,843310,d60bf7fac7f033c7e2870afd0a897b439c4dd0b1,5,1,1,13861,,,0,"[DNM] Test disabled build

Change-Id: Ie6fce250c9b554ac350ff6670eaf12a4407237eb
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/10/843310/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'roles/build-test-packages/tasks/main.yml']",2,d60bf7fac7f033c7e2870afd0a897b439c4dd0b1,dnm,"- name: Enable disabled 16.2 build shell: > sed -i -e ""s|# osp-16.2:|osp-16.2:|"" packages.yml args: chdir: ""{{ build_repo_dir }}/DLRN/{{ rdoinfo_repo_name }}"" when: ansible_distribution in ['RedHat'] ",,8,38
openstack%2Fci-log-processing~master~I245491227d13f66124518008d983936f20d7880d,openstack/ci-log-processing,master,I245491227d13f66124518008d983936f20d7880d,Ignore directories that does not exists or don't have access,MERGED,2022-05-23 13:53:15.000000000,2022-05-30 11:37:09.000000000,2022-05-30 11:35:50.000000000,"[{'_account_id': 6889}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9311}, {'_account_id': 20676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-23 13:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/f9b829d7dd4200a6f9828759dd5dd58e5dd4fcd9', 'message': ""Ignore directories that does not exists or don't have access\n\nOn some log server hosts, response status code for some directories\nare different thatn 200.\nThis patch is only excluding those directories that response status code\nis 404 or 401.\n\nChange-Id: I245491227d13f66124518008d983936f20d7880d\n""}, {'number': 2, 'created': '2022-05-24 11:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/1d634907d7a537d26189a15db56afb8fe42c18aa', 'message': ""Ignore directories that does not exists or don't have access\n\nOn some log server hosts, response status code for some directories\nare different thatn 200.\nThis patch is only excluding those directories that response status code\nis 404 or 401.\n\nChange-Id: I245491227d13f66124518008d983936f20d7880d\n""}, {'number': 3, 'created': '2022-05-26 13:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/0b297159568c1ec1e6fc5319118136665497a267', 'message': ""Ignore directories that does not exists or don't have access\n\nOn some log server hosts, response status code for some directories\nare different thatn 200.\nThis patch is only excluding those directories that response status code\nis 404 or 401.\n\nChange-Id: I245491227d13f66124518008d983936f20d7880d\n""}, {'number': 4, 'created': '2022-05-30 08:54:22.000000000', 'files': ['logscraper/tests/test_logscraper.py', 'logscraper/logscraper.py'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/93f5dd2e9fc5157fd4cf5f22d7a79d617e49c38c', 'message': ""Ignore directories that does not exists or don't have access\n\nOn some log server hosts, response status code for some directories\nare different thatn 200.\nThis patch is only excluding those directories that response status code\nis 404 or 401.\n\nChange-Id: I245491227d13f66124518008d983936f20d7880d\n""}]",5,842977,93f5dd2e9fc5157fd4cf5f22d7a79d617e49c38c,22,6,4,20676,,,0,"Ignore directories that does not exists or don't have access

On some log server hosts, response status code for some directories
are different thatn 200.
This patch is only excluding those directories that response status code
is 404 or 401.

Change-Id: I245491227d13f66124518008d983936f20d7880d
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/77/842977/4 && git format-patch -1 --stdout FETCH_HEAD,['logscraper/logscraper.py'],1,f9b829d7dd4200a6f9828759dd5dd58e5dd4fcd9,," if response.status_code not in [404, 401]:", if response.status_code == 200:,1,1
openstack%2Fopenstack-ansible~stable%2Fwallaby~I53720e54e11f76e37905210c02452588526e620a,openstack/openstack-ansible,stable/wallaby,I53720e54e11f76e37905210c02452588526e620a,Bump OpenStack-Ansible Wallaby,MERGED,2022-05-27 10:30:12.000000000,2022-05-30 11:34:03.000000000,2022-05-30 11:32:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-27 10:30:12.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/330956d16d5f6626ab49b2aa150ec577ca821031', 'message': 'Bump OpenStack-Ansible Wallaby\n\nChange-Id: I53720e54e11f76e37905210c02452588526e620a\n'}]",1,843600,330956d16d5f6626ab49b2aa150ec577ca821031,10,3,1,28619,,,0,"Bump OpenStack-Ansible Wallaby

Change-Id: I53720e54e11f76e37905210c02452588526e620a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/00/843600/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,330956d16d5f6626ab49b2aa150ec577ca821031,bump_osa,### HEAD as of 27.05.2022 ### version: 78e7f22caa79a19ecfed9d4e378bd0d261a93a11 shallow_since: '2022-04-14' version: 71b4c59e57caf487fec23b33c341aaaaeff745cd shallow_since: '2022-05-23' version: 0c9625bcc90104c72581af07bcb2e654fef14215 shallow_since: '2022-05-03' version: dc2db26be5ae6c263adcea831fc71220a6edcfcc shallow_since: '2022-04-27' version: e8086edc4fe9753f55dbe43dfd1261dcede4b6bc shallow_since: '2022-05-23' version: 4a6e1fdbfe707e705d4967dcc6bd67449444c694 shallow_since: '2022-05-22' version: 185ac4e2ae5bd15b1ee429ddbc46a72ba28fb725 shallow_since: '2022-04-04' version: 753073f4d6928526c21e8f24050c30318cd51068 shallow_since: '2022-05-09' version: 4d2855414e6bcdf49414b88319fdaab854b8a7f5 shallow_since: '2022-04-20' version: 20c3db45bb3474d273937d7444cf72e74b370ba6 shallow_since: '2022-05-17',### HEAD as of 20.04.2022 ### version: 5070371eddc644384f57b472b49a79d3adbe573f shallow_since: '2022-04-10' version: 141b37fdd103bb65710e40e24859bf85d499b5fe shallow_since: '2021-07-15' version: 59de04acdde21aa2b5e43de6f4ad865d1bde33db shallow_since: '2022-01-27' version: 35cd4ab6f5f6749d84fff4ca3dfe35fe06cffaae shallow_since: '2022-02-01' version: 0b14a997193d19bb93cd8cb4592e8f1a7cd5959a shallow_since: '2022-02-03' version: 29287119f58fadf5f0122fa8f023b9d92d2636c9 shallow_since: '2021-12-01' version: c3e111780a3941eb27a7e5a61a3f389b8bb58c87 shallow_since: '2022-02-10' version: 2ba5bfee852aec5f699bf1c53193f7935beed825 shallow_since: '2022-04-18' version: f224782326834a4450173056658c6e08c30903f6 shallow_since: '2022-04-13' version: 6085b72be2abd0b7ff60e195bd55c00a8393cef1 shallow_since: '2021-06-29',45,45
openstack%2Fneutron-lib~master~Ib5d4134bf59ea37d983f33807b396b31ffd9719d,openstack/neutron-lib,master,Ib5d4134bf59ea37d983f33807b396b31ffd9719d,Check proper config option to see if scope is enforced or not,MERGED,2022-04-29 15:02:50.000000000,2022-05-30 11:27:14.000000000,2022-05-30 11:25:21.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 15:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/473c71ba3f0d02e810c9bc5f318e7f3461eb61a0', 'message': 'Check proper config option to see if scope is enforced or not\n\nOslo policy introduced 2 config options which are related to the new\n""Secure RBAC"" policies and are in most cases used together:\n* enforce_new_defaults\n* enforce_scope\n\nWhen I initially worked on new default policies in Neutron I always\nset both of them to True together and I wrongly added checking\nif enforce_new_defaults is set to True to check or set system_scope\nparameter in context object.\nAs system_scope is related to scope actually, it should be set/check\nwhen enforce_scope is enabled, not when enforce_new_defaults is enabled.\n\nThis patch fixes that by checking proper config option.\n\nChange-Id: Ib5d4134bf59ea37d983f33807b396b31ffd9719d\n'}, {'number': 2, 'created': '2022-05-27 14:23:47.000000000', 'files': ['neutron_lib/tests/unit/db/test_utils.py', 'neutron_lib/db/utils.py', 'neutron_lib/context.py', 'neutron_lib/tests/unit/test_context.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1de7dc1bdf914b1e34b4e604cbc810ef3181e286', 'message': 'Check proper config option to see if scope is enforced or not\n\nOslo policy introduced 2 config options which are related to the new\n""Secure RBAC"" policies and are in most cases used together:\n* enforce_new_defaults\n* enforce_scope\n\nWhen I initially worked on new default policies in Neutron I always\nset both of them to True together and I wrongly added checking\nif enforce_new_defaults is set to True to check or set system_scope\nparameter in context object.\nAs enforce_scope is related to scope actually, it should be set/check\nwhen enforce_scope is enabled, not when enforce_new_defaults is enabled.\n\nThis patch fixes that by checking proper config option.\n\nChange-Id: Ib5d4134bf59ea37d983f33807b396b31ffd9719d\n'}]",4,839956,1de7dc1bdf914b1e34b4e604cbc810ef3181e286,14,3,2,11975,,,0,"Check proper config option to see if scope is enforced or not

Oslo policy introduced 2 config options which are related to the new
""Secure RBAC"" policies and are in most cases used together:
* enforce_new_defaults
* enforce_scope

When I initially worked on new default policies in Neutron I always
set both of them to True together and I wrongly added checking
if enforce_new_defaults is set to True to check or set system_scope
parameter in context object.
As enforce_scope is related to scope actually, it should be set/check
when enforce_scope is enabled, not when enforce_new_defaults is enabled.

This patch fixes that by checking proper config option.

Change-Id: Ib5d4134bf59ea37d983f33807b396b31ffd9719d
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/56/839956/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/tests/unit/db/test_utils.py', 'neutron_lib/db/utils.py', 'neutron_lib/context.py', 'neutron_lib/tests/unit/test_context.py']",4,473c71ba3f0d02e810c9bc5f318e7f3461eb61a0,secure-rbac," cfg.CONF.set_override('enforce_scope', True, group='oslo_policy')"," cfg.CONF.set_override( 'enforce_new_defaults', True, group='oslo_policy')",11,20
openstack%2Fkolla~stable%2Fyoga~I793e35ef347c9d44b4e870cd3ca1bd459e557623,openstack/kolla,stable/yoga,I793e35ef347c9d44b4e870cd3ca1bd459e557623,Bump up Alertmanager version,MERGED,2022-05-25 11:36:27.000000000,2022-05-30 11:17:19.000000000,2022-05-30 11:15:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-05-25 11:36:27.000000000', 'files': ['docker/prometheus/prometheus-alertmanager/Dockerfile.j2', 'releasenotes/notes/bump-alertmanager-to-0.24-e73778e9d954cf85.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4ecd200b9651841b48af807680a7d08f2bac63a9', 'message': 'Bump up Alertmanager version\n\nChange-Id: I793e35ef347c9d44b4e870cd3ca1bd459e557623\n(cherry picked from commit d41c19fbcaacc2d8030110fb72ea0612b5f7ab87)\n'}]",0,843205,4ecd200b9651841b48af807680a7d08f2bac63a9,9,3,1,32553,,,0,"Bump up Alertmanager version

Change-Id: I793e35ef347c9d44b4e870cd3ca1bd459e557623
(cherry picked from commit d41c19fbcaacc2d8030110fb72ea0612b5f7ab87)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/05/843205/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/prometheus/prometheus-alertmanager/Dockerfile.j2', 'releasenotes/notes/bump-alertmanager-to-0.24-e73778e9d954cf85.yaml']",2,4ecd200b9651841b48af807680a7d08f2bac63a9,feature/bump_upstream_alertmanager-stable/yoga,--- features: - | Updates Alertmanager version to 0.24.0. ,,5,1
openstack%2Fkayobe~master~I6f603c9304d836012244bb92ec88695c443d7e9b,openstack/kayobe,master,I6f603c9304d836012244bb92ec88695c443d7e9b,kolla-target-venv: remove permissions workaround,ABANDONED,2022-02-16 17:08:33.000000000,2022-05-30 11:13:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-16 17:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ea05633ab4ac00d43cdc4efe18537f8026595ceb', 'message': 'kolla-target-venv: remove permissions workaround\n\nPreviously we used become when creating the virtualenv for\nkolla-ansible, then recursively changed its ownership. This is a little\ninefficient. This change removes the workaround, using become_user to\ncreate the virtualenv as the kolla user.\n\nTrivialFix\n\nChange-Id: I6f603c9304d836012244bb92ec88695c443d7e9b\n'}, {'number': 2, 'created': '2022-02-22 10:09:49.000000000', 'files': ['ansible/kolla-target-venv.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d2e650f53932d4c3e6ef7997d6e1ec3e44230de4', 'message': 'kolla-target-venv: remove permissions workaround\n\nPreviously we used become when creating the virtualenv for\nkolla-ansible, then recursively changed its ownership. This is a little\ninefficient. This change removes the workaround, using become_user to\ncreate the virtualenv as the kolla user.\n\nTrivialFix\n\nChange-Id: I6f603c9304d836012244bb92ec88695c443d7e9b\n'}]",0,829580,d2e650f53932d4c3e6ef7997d6e1ec3e44230de4,6,1,2,14826,,,0,"kolla-target-venv: remove permissions workaround

Previously we used become when creating the virtualenv for
kolla-ansible, then recursively changed its ownership. This is a little
inefficient. This change removes the workaround, using become_user to
create the virtualenv as the kolla user.

TrivialFix

Change-Id: I6f603c9304d836012244bb92ec88695c443d7e9b
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/80/829580/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/kolla-target-venv.yml'],1,ea05633ab4ac00d43cdc4efe18537f8026595ceb,," become_user: ""{{ kolla_ansible_user }}"" become_user: ""{{ kolla_ansible_user }}"" become_user: ""{{ kolla_ansible_user }}"" vars: # Use the system python interpreter since the Kolla Ansible user may # not have access to the Kayobe virtualenv. ansible_python_interpreter: /usr/bin/python3"," - name: Ensure kolla-ansible virtualenv has correct ownership file: path: ""{{ kolla_ansible_target_venv }}"" recurse: True state: directory owner: ""{{ kolla_ansible_user }}"" group: ""{{ kolla_ansible_group }}"" become: True",7,9
openstack%2Fironic~bugfix%2F20.2~Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8,openstack/ironic,bugfix/20.2,Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8,CI: Removing ironic job queue,MERGED,2022-05-26 20:24:30.000000000,2022-05-30 11:03:15.000000000,2022-05-30 10:57:39.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-26 20:24:30.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1b073c2099e4cfbf767c5861c30e9e2aa38e00f2', 'message': 'CI: Removing ironic job queue\n\nChange-Id: Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8\nSee: https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n(cherry picked from commit 63e53797adca625edd2fdacd16a025bedccf8731)\n'}]",0,843517,1b073c2099e4cfbf767c5861c30e9e2aa38e00f2,9,2,1,11655,,,0,"CI: Removing ironic job queue

Change-Id: Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8
See: https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
(cherry picked from commit 63e53797adca625edd2fdacd16a025bedccf8731)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/17/843517/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,1b073c2099e4cfbf767c5861c30e9e2aa38e00f2,drop-queue-ironic-bugfix/20.2,, queue: ironic,0,1
openstack%2Fironic~stable%2Fwallaby~Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8,openstack/ironic,stable/wallaby,Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8,CI: Removing ironic job queue,MERGED,2022-05-26 20:23:00.000000000,2022-05-30 11:03:01.000000000,2022-05-30 10:57:35.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-26 20:23:00.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c6a8ab2fbf65189a4ee14a1cd3b49d8ad99b8da4', 'message': 'CI: Removing ironic job queue\n\nChange-Id: Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8\nSee: https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n(cherry picked from commit 63e53797adca625edd2fdacd16a025bedccf8731)\n'}]",0,843513,c6a8ab2fbf65189a4ee14a1cd3b49d8ad99b8da4,9,2,1,11655,,,0,"CI: Removing ironic job queue

Change-Id: Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8
See: https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
(cherry picked from commit 63e53797adca625edd2fdacd16a025bedccf8731)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/13/843513/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,c6a8ab2fbf65189a4ee14a1cd3b49d8ad99b8da4,drop-queue-ironic-stable/yoga-stable/xena-stable/wallaby,, queue: ironic,0,1
openstack%2Fpuppet-nova~master~I31031f903f9d664b86734fd23056eb7b8985ff63,openstack/puppet-nova,master,I31031f903f9d664b86734fd23056eb7b8985ff63,Simplify handling of image_type_exclude_list,ABANDONED,2022-05-30 08:11:26.000000000,2022-05-30 10:58:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-30 08:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/480be69ac9558991dfab406d231a3585c293a113', 'message': 'Replace redundant handling of image_type_exclude_list\n\nChange-Id: I31031f903f9d664b86734fd23056eb7b8985ff63\n'}, {'number': 2, 'created': '2022-05-30 10:56:20.000000000', 'files': ['manifests/compute.pp', 'spec/classes/nova_compute_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9554523700a53723382c396914f585fad1c2b71d', 'message': ""Simplify handling of image_type_exclude_list\n\nThis change refactors how the image_type_exclude_list parameter is\ndetermined. With this change setting the parameter to [] or '' results\nin setting an empty value, instead of removing the parameter, but this\nis effectively same because the parameter defaults to an empty list.\n\nChange-Id: I31031f903f9d664b86734fd23056eb7b8985ff63\n""}]",0,843798,9554523700a53723382c396914f585fad1c2b71d,4,1,2,9816,,,0,"Simplify handling of image_type_exclude_list

This change refactors how the image_type_exclude_list parameter is
determined. With this change setting the parameter to [] or '' results
in setting an empty value, instead of removing the parameter, but this
is effectively same because the parameter defaults to an empty list.

Change-Id: I31031f903f9d664b86734fd23056eb7b8985ff63
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/98/843798/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/compute.pp'],1,480be69ac9558991dfab406d231a3585c293a113,," 'compute/image_type_exclude_list': value => join(any2array($image_type_exclude_list), ',');"," $image_type_exclude_list_real = pick(join(any2array($image_type_exclude_list), ','), $::os_service_default) 'compute/image_type_exclude_list': value => $image_type_exclude_list_real;",1,3
openstack%2Fironic-inspector~master~Iee21a71791c4e083033ad304d4348f36c8dbca7f,openstack/ironic-inspector,master,Iee21a71791c4e083033ad304d4348f36c8dbca7f,Imported Translations from Zanata,MERGED,2022-05-26 03:15:30.000000000,2022-05-30 10:54:38.000000000,2022-05-30 10:52:04.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-26 03:15:30.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'ironic_inspector/locale/en_GB/LC_MESSAGES/ironic_inspector.po'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/3aabc34493469cdd3c2c1591acb9da5d08845fe0', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iee21a71791c4e083033ad304d4348f36c8dbca7f\n'}]",0,843371,3aabc34493469cdd3c2c1591acb9da5d08845fe0,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iee21a71791c4e083033ad304d4348f36c8dbca7f
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/71/843371/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'ironic_inspector/locale/en_GB/LC_MESSAGES/ironic_inspector.po']",2,3aabc34493469cdd3c2c1591acb9da5d08845fe0,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2022. #zanata""POT-Creation-Date: 2022-05-17 16:20+0000\n""""PO-Revision-Date: 2022-05-25 08:59+0000\n""msgid """" ""Enable the health check endpoint at /healthcheck. Note that this is "" ""unauthenticated. More information is available at https://docs.openstack.org/"" ""oslo.middleware/latest/reference/healthcheck_plugins.html."" msgstr """" ""Enable the health check endpoint at /healthcheck. Note that this is "" ""unauthenticated. More information is available at https://docs.openstack.org/"" ""oslo.middleware/latest/reference/healthcheck_plugins.html."" ""File mode (an octal number) of the unix socket to listen on. Ignored if "" ""listen_unix_socket is not set."" msgstr """" ""File mode (an octal number) of the Unix socket to listen on. Ignored if "" ""listen_unix_socket is not set."" msgid """"msgid ""Policy File JSON to YAML Migration"" msgstr ""Policy File JSON to YAML Migration"" msgid ""State(s) \""%s\"" are not valid"" msgstr ""State(s) \""%s\"" are not valid"" #, python-formatmsgid ""Unix socket to listen on. Disables listen_address and listen_port."" msgstr ""Unix socket to listen on. Disables listen_address and listen_port."" ","""POT-Creation-Date: 2020-10-09 11:59+0000\n""""PO-Revision-Date: 2020-10-10 11:10+0000\n""",276,8
openstack%2Fironic-python-agent~bugfix%2F8.6~I0fd6356f036d5ff17510fb838eaf418164cdfc92,openstack/ironic-python-agent,bugfix/8.6,I0fd6356f036d5ff17510fb838eaf418164cdfc92,Multipath Hardware path handling,MERGED,2022-05-20 18:39:26.000000000,2022-05-30 10:54:19.000000000,2022-05-30 10:51:58.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-20 18:39:26.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/multipath-handling-00a5b412d2cf2e4e.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/tests/unit/test_agent.py', 'ironic_python_agent/utils.py', 'ironic_python_agent/tests/unit/samples/hardware_samples.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d25f5be2a2f4353d4e05922f07f8cc404528fa73', 'message': 'Multipath Hardware path handling\n\nRemoves multipath base devices from consideration by\ndefault, and instead allows the device-mapper device\nmanaged by multipath to be picked up and utilized\ninstead.\n\nIn effect, allowing us to ignore standby paths *and*\nleverage multiple concurrent IO paths if so offered\nvia ALUA.\n\nIn reality, anyone who has previously built IPA with\nmultipath tooling might not have encountered issues\npreviously because they used Active/Active SAN storage\nenvironments. They would have worked because the IO lock\nwould have been exchanged between controllers and paths.\nHowever, Active/Passive environments will block passive\npaths from access, ultimately preventing new locks from\nbeing established without proper negotiation. Ultimately\nrequiring multipathing *and* the agent to be smart enough\nto know to disqualify underlying paths to backend storage\nvolumes.\n\nAn additional benefit of this is active/active MPIO devices\nwill, as long as ``multipath`` is present inside the ramdisk,\nno longer possibly result in duplicate IO wipes occuring\naccross numerous devices.\n\nStory: #2010003\nTask: #45108\nResolves: rhbz#2076622\nResolves: rhbz#2070519\nChange-Id: I0fd6356f036d5ff17510fb838eaf418164cdfc92\n(cherry picked from commit 014d37743a3b5694e0e2a3cabfafe885417172d5)\n'}]",0,842409,d25f5be2a2f4353d4e05922f07f8cc404528fa73,9,3,1,15519,,,0,"Multipath Hardware path handling

Removes multipath base devices from consideration by
default, and instead allows the device-mapper device
managed by multipath to be picked up and utilized
instead.

In effect, allowing us to ignore standby paths *and*
leverage multiple concurrent IO paths if so offered
via ALUA.

In reality, anyone who has previously built IPA with
multipath tooling might not have encountered issues
previously because they used Active/Active SAN storage
environments. They would have worked because the IO lock
would have been exchanged between controllers and paths.
However, Active/Passive environments will block passive
paths from access, ultimately preventing new locks from
being established without proper negotiation. Ultimately
requiring multipathing *and* the agent to be smart enough
to know to disqualify underlying paths to backend storage
volumes.

An additional benefit of this is active/active MPIO devices
will, as long as ``multipath`` is present inside the ramdisk,
no longer possibly result in duplicate IO wipes occuring
accross numerous devices.

Story: #2010003
Task: #45108
Resolves: rhbz#2076622
Resolves: rhbz#2070519
Change-Id: I0fd6356f036d5ff17510fb838eaf418164cdfc92
(cherry picked from commit 014d37743a3b5694e0e2a3cabfafe885417172d5)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/09/842409/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/multipath-handling-00a5b412d2cf2e4e.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/tests/unit/test_agent.py', 'ironic_python_agent/utils.py', 'ironic_python_agent/tests/unit/samples/hardware_samples.py']",8,d25f5be2a2f4353d4e05922f07f8cc404528fa73,," 'PARTUUID=""""\n' 'KNAME=""dm-0"" MODEL=""NWD-BLP4-1600 "" SIZE=""1765517033472"" ' ' ROTA=""0"" TYPE=""mpath"" UUID="""" PARTUUID=""""\n' MULTIPATH_BLK_DEVICE_TEMPLATE = ( 'KNAME=""sda"" MODEL=""INTEL_SSDSC2CT060A3"" SIZE=""60022480896"" ROTA=""0"" ' 'TYPE=""disk"" UUID="""" PARTUUID=""""\n' 'KNAME=""sda2"" MODEL="""" SIZE=""59162722304"" ROTA=""0"" TYPE=""part"" ' 'UUID=""f8b55d59-96c3-3982-b129-1b6b2ee8da86"" ' 'PARTUUID=""c97c8aac-7796-4433-b1fc-9b5fac43edf3""\n' 'KNAME=""sda3"" MODEL="""" SIZE=""650002432"" ROTA=""0"" TYPE=""part"" ' 'UUID=""b3b03565-5f13-3c93-b2a6-6d90e25be926"" ' 'PARTUUID=""6c85beff-b2bd-4a1c-91b7-8abb5256459d""\n' 'KNAME=""sda1"" MODEL="""" SIZE=""209715200"" ROTA=""0"" TYPE=""part"" ' 'UUID=""0a83355d-7500-3f5f-9abd-66f6fd03714c"" ' 'PARTUUID=""eba28b26-b76a-402c-94dd-0b66a523a485""\n' 'KNAME=""dm-0"" MODEL="""" SIZE=""60022480896"" ROTA=""0"" TYPE=""mpath"" ' 'UUID="""" PARTUUID=""""\n' 'KNAME=""dm-4"" MODEL="""" SIZE=""650002432"" ROTA=""0"" TYPE=""part"" ' 'UUID=""b3b03565-5f13-3c93-b2a6-6d90e25be926"" ' 'PARTUUID=""6c85beff-b2bd-4a1c-91b7-8abb5256459d""\n' 'KNAME=""dm-2"" MODEL="""" SIZE=""209715200"" ROTA=""0"" TYPE=""part"" ' 'UUID=""0a83355d-7500-3f5f-9abd-66f6fd03714c"" ' 'PARTUUID=""eba28b26-b76a-402c-94dd-0b66a523a485""\n' 'KNAME=""dm-3"" MODEL="""" SIZE=""59162722304"" ROTA=""0"" TYPE=""part"" ' 'UUID=""f8b55d59-96c3-3982-b129-1b6b2ee8da86"" ' 'PARTUUID=""c97c8aac-7796-4433-b1fc-9b5fac43edf3""\n' 'KNAME=""sdb"" MODEL=""INTEL_SSDSC2CT060A3"" SIZE=""60022480896"" ' 'ROTA=""0"" TYPE=""disk"" UUID="""" PARTUUID=""""\n' 'KNAME=""sdb2"" MODEL="""" SIZE=""59162722304"" ROTA=""0"" TYPE=""part"" ' 'UUID=""f8b55d59-96c3-3982-b129-1b6b2ee8da86"" ' 'PARTUUID=""c97c8aac-7796-4433-b1fc-9b5fac43edf3""\n' 'KNAME=""sdb3"" MODEL="""" SIZE=""650002432"" ROTA=""0"" TYPE=""part"" ' 'UUID=""b3b03565-5f13-3c93-b2a6-6d90e25be926"" ' 'PARTUUID=""6c85beff-b2bd-4a1c-91b7-8abb5256459d""\n' 'KNAME=""sdb1"" MODEL="""" SIZE=""209715200"" ROTA=""0"" TYPE=""part"" ' 'UUID=""0a83355d-7500-3f5f-9abd-66f6fd03714c"" ' 'PARTUUID=""eba28b26-b76a-402c-94dd-0b66a523a485""\n' 'KNAME=""sdc"" MODEL=""ST1000DM003-1CH162"" SIZE=""1000204886016"" ' 'ROTA=""1"" TYPE=""disk"" UUID="""" PARTUUID=""""\n' 'KNAME=""sdc1"" MODEL="""" SIZE=""899999072256"" ROTA=""1"" TYPE=""part"" ' 'UUID=""457f7d3c-9376-4997-89bd-d1a7c8b04060"" ' 'PARTUUID=""c9433d2e-3bbc-47b4-92bf-43c1d80f06e0""\n' 'KNAME=""dm-1"" MODEL="""" SIZE=""1000204886016"" ROTA=""0"" TYPE=""mpath"" ' 'UUID="""" PARTUUID=""""\n' ) MULTIPATH_VALID_PATH = '%s is a valid multipath device path' MULTIPATH_INVALID_PATH = '%s is not a valid multipath device path' MULTIPATH_LINKS_DM = ( 'SUPER_FRIENDLY_NAME %s ATA,INTEL SSDSC2CT06\n' 'size=56G features=\'1 retain_attached_hw_handler\' hwhandler=\'0\' wp=rw\n' # noqa ' `-+- policy=\'service-time 0\' prio=1 status=active\n' ' `- 0:0:0:0 device s 8:0 active ready running\n' )"," 'PARTUUID=""""'",748,57
openstack%2Fironic-python-agent~stable%2Fyoga~I0fd6356f036d5ff17510fb838eaf418164cdfc92,openstack/ironic-python-agent,stable/yoga,I0fd6356f036d5ff17510fb838eaf418164cdfc92,Multipath Hardware path handling,MERGED,2022-05-23 13:55:44.000000000,2022-05-30 10:54:19.000000000,2022-05-30 10:51:52.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-23 13:55:44.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/multipath-handling-00a5b412d2cf2e4e.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/tests/unit/test_agent.py', 'ironic_python_agent/utils.py', 'ironic_python_agent/tests/unit/samples/hardware_samples.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2c95ee45339dc910a6b29cb5e0f24a1f48898165', 'message': 'Multipath Hardware path handling\n\nRemoves multipath base devices from consideration by\ndefault, and instead allows the device-mapper device\nmanaged by multipath to be picked up and utilized\ninstead.\n\nIn effect, allowing us to ignore standby paths *and*\nleverage multiple concurrent IO paths if so offered\nvia ALUA.\n\nIn reality, anyone who has previously built IPA with\nmultipath tooling might not have encountered issues\npreviously because they used Active/Active SAN storage\nenvironments. They would have worked because the IO lock\nwould have been exchanged between controllers and paths.\nHowever, Active/Passive environments will block passive\npaths from access, ultimately preventing new locks from\nbeing established without proper negotiation. Ultimately\nrequiring multipathing *and* the agent to be smart enough\nto know to disqualify underlying paths to backend storage\nvolumes.\n\nAn additional benefit of this is active/active MPIO devices\nwill, as long as ``multipath`` is present inside the ramdisk,\nno longer possibly result in duplicate IO wipes occuring\naccross numerous devices.\n\nStory: #2010003\nTask: #45108\nResolves: rhbz#2076622\nResolves: rhbz#2070519\nChange-Id: I0fd6356f036d5ff17510fb838eaf418164cdfc92\n(cherry picked from commit 014d37743a3b5694e0e2a3cabfafe885417172d5)\n'}]",0,842942,2c95ee45339dc910a6b29cb5e0f24a1f48898165,9,3,1,15519,,,0,"Multipath Hardware path handling

Removes multipath base devices from consideration by
default, and instead allows the device-mapper device
managed by multipath to be picked up and utilized
instead.

In effect, allowing us to ignore standby paths *and*
leverage multiple concurrent IO paths if so offered
via ALUA.

In reality, anyone who has previously built IPA with
multipath tooling might not have encountered issues
previously because they used Active/Active SAN storage
environments. They would have worked because the IO lock
would have been exchanged between controllers and paths.
However, Active/Passive environments will block passive
paths from access, ultimately preventing new locks from
being established without proper negotiation. Ultimately
requiring multipathing *and* the agent to be smart enough
to know to disqualify underlying paths to backend storage
volumes.

An additional benefit of this is active/active MPIO devices
will, as long as ``multipath`` is present inside the ramdisk,
no longer possibly result in duplicate IO wipes occuring
accross numerous devices.

Story: #2010003
Task: #45108
Resolves: rhbz#2076622
Resolves: rhbz#2070519
Change-Id: I0fd6356f036d5ff17510fb838eaf418164cdfc92
(cherry picked from commit 014d37743a3b5694e0e2a3cabfafe885417172d5)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/42/842942/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/multipath-handling-00a5b412d2cf2e4e.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/tests/unit/test_agent.py', 'ironic_python_agent/utils.py', 'ironic_python_agent/tests/unit/samples/hardware_samples.py']",8,2c95ee45339dc910a6b29cb5e0f24a1f48898165,," 'PARTUUID=""""\n' 'KNAME=""dm-0"" MODEL=""NWD-BLP4-1600 "" SIZE=""1765517033472"" ' ' ROTA=""0"" TYPE=""mpath"" UUID="""" PARTUUID=""""\n' MULTIPATH_BLK_DEVICE_TEMPLATE = ( 'KNAME=""sda"" MODEL=""INTEL_SSDSC2CT060A3"" SIZE=""60022480896"" ROTA=""0"" ' 'TYPE=""disk"" UUID="""" PARTUUID=""""\n' 'KNAME=""sda2"" MODEL="""" SIZE=""59162722304"" ROTA=""0"" TYPE=""part"" ' 'UUID=""f8b55d59-96c3-3982-b129-1b6b2ee8da86"" ' 'PARTUUID=""c97c8aac-7796-4433-b1fc-9b5fac43edf3""\n' 'KNAME=""sda3"" MODEL="""" SIZE=""650002432"" ROTA=""0"" TYPE=""part"" ' 'UUID=""b3b03565-5f13-3c93-b2a6-6d90e25be926"" ' 'PARTUUID=""6c85beff-b2bd-4a1c-91b7-8abb5256459d""\n' 'KNAME=""sda1"" MODEL="""" SIZE=""209715200"" ROTA=""0"" TYPE=""part"" ' 'UUID=""0a83355d-7500-3f5f-9abd-66f6fd03714c"" ' 'PARTUUID=""eba28b26-b76a-402c-94dd-0b66a523a485""\n' 'KNAME=""dm-0"" MODEL="""" SIZE=""60022480896"" ROTA=""0"" TYPE=""mpath"" ' 'UUID="""" PARTUUID=""""\n' 'KNAME=""dm-4"" MODEL="""" SIZE=""650002432"" ROTA=""0"" TYPE=""part"" ' 'UUID=""b3b03565-5f13-3c93-b2a6-6d90e25be926"" ' 'PARTUUID=""6c85beff-b2bd-4a1c-91b7-8abb5256459d""\n' 'KNAME=""dm-2"" MODEL="""" SIZE=""209715200"" ROTA=""0"" TYPE=""part"" ' 'UUID=""0a83355d-7500-3f5f-9abd-66f6fd03714c"" ' 'PARTUUID=""eba28b26-b76a-402c-94dd-0b66a523a485""\n' 'KNAME=""dm-3"" MODEL="""" SIZE=""59162722304"" ROTA=""0"" TYPE=""part"" ' 'UUID=""f8b55d59-96c3-3982-b129-1b6b2ee8da86"" ' 'PARTUUID=""c97c8aac-7796-4433-b1fc-9b5fac43edf3""\n' 'KNAME=""sdb"" MODEL=""INTEL_SSDSC2CT060A3"" SIZE=""60022480896"" ' 'ROTA=""0"" TYPE=""disk"" UUID="""" PARTUUID=""""\n' 'KNAME=""sdb2"" MODEL="""" SIZE=""59162722304"" ROTA=""0"" TYPE=""part"" ' 'UUID=""f8b55d59-96c3-3982-b129-1b6b2ee8da86"" ' 'PARTUUID=""c97c8aac-7796-4433-b1fc-9b5fac43edf3""\n' 'KNAME=""sdb3"" MODEL="""" SIZE=""650002432"" ROTA=""0"" TYPE=""part"" ' 'UUID=""b3b03565-5f13-3c93-b2a6-6d90e25be926"" ' 'PARTUUID=""6c85beff-b2bd-4a1c-91b7-8abb5256459d""\n' 'KNAME=""sdb1"" MODEL="""" SIZE=""209715200"" ROTA=""0"" TYPE=""part"" ' 'UUID=""0a83355d-7500-3f5f-9abd-66f6fd03714c"" ' 'PARTUUID=""eba28b26-b76a-402c-94dd-0b66a523a485""\n' 'KNAME=""sdc"" MODEL=""ST1000DM003-1CH162"" SIZE=""1000204886016"" ' 'ROTA=""1"" TYPE=""disk"" UUID="""" PARTUUID=""""\n' 'KNAME=""sdc1"" MODEL="""" SIZE=""899999072256"" ROTA=""1"" TYPE=""part"" ' 'UUID=""457f7d3c-9376-4997-89bd-d1a7c8b04060"" ' 'PARTUUID=""c9433d2e-3bbc-47b4-92bf-43c1d80f06e0""\n' 'KNAME=""dm-1"" MODEL="""" SIZE=""1000204886016"" ROTA=""0"" TYPE=""mpath"" ' 'UUID="""" PARTUUID=""""\n' ) MULTIPATH_VALID_PATH = '%s is a valid multipath device path' MULTIPATH_INVALID_PATH = '%s is not a valid multipath device path' MULTIPATH_LINKS_DM = ( 'SUPER_FRIENDLY_NAME %s ATA,INTEL SSDSC2CT06\n' 'size=56G features=\'1 retain_attached_hw_handler\' hwhandler=\'0\' wp=rw\n' # noqa ' `-+- policy=\'service-time 0\' prio=1 status=active\n' ' `- 0:0:0:0 device s 8:0 active ready running\n' )"," 'PARTUUID=""""'",748,57
openstack%2Fironic-python-agent~master~Ibfbcc1196eb9f583ba9d79bae7988d64de514f6d,openstack/ironic-python-agent,master,Ibfbcc1196eb9f583ba9d79bae7988d64de514f6d,Update oslo.log requirement to 4.6.1,MERGED,2022-05-24 15:18:34.000000000,2022-05-30 10:54:05.000000000,2022-05-30 10:51:49.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-24 15:18:34.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/16a38600a86570285dadc671e646d89b845407bb', 'message': 'Update oslo.log requirement to 4.6.1\n\nPreviously IPA was set to enforce a minimum version of 3.36.0 which\nwas a Python2 version build which does did not support more recent\nversions of python. Given that relationship is realistically impossible\nmoving the minimum to something released a bit more recently, in this\ncase 4.6.1.\n\nChange-Id: Ibfbcc1196eb9f583ba9d79bae7988d64de514f6d\n'}]",1,843162,16a38600a86570285dadc671e646d89b845407bb,10,3,1,11655,,,0,"Update oslo.log requirement to 4.6.1

Previously IPA was set to enforce a minimum version of 3.36.0 which
was a Python2 version build which does did not support more recent
versions of python. Given that relationship is realistically impossible
moving the minimum to something released a bit more recently, in this
case 4.6.1.

Change-Id: Ibfbcc1196eb9f583ba9d79bae7988d64de514f6d
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/62/843162/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,16a38600a86570285dadc671e646d89b845407bb,,oslo.log>=4.6.1 # Apache-2.0,oslo.log>=3.36.0 # Apache-2.0,1,1
openstack%2Fcharm-octavia~master~Ie7de91e2b07cbe7f1040bf12df338a722184abb5,openstack/charm-octavia,master,Ie7de91e2b07cbe7f1040bf12df338a722184abb5,change device_owner to Octavia:Health_mgr,NEW,2022-05-11 05:08:59.000000000,2022-05-30 10:47:42.000000000,,"[{'_account_id': 2711}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-11 05:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/8deba7f6decf86846cf0825ec0dda694c623e52a', 'message': 'Change device_owner to Octavia:Health_mgr if subordinate is ovn-chassis\n\nFor OVN based deployments, neutron-ovn considers DHCP as disabled\nif the device_owner starts with neutron:, see [1] [2].\n\nThis patch checks the subordinate charm to octavia and changes\nthe o-hm0 port device owner to Octavia:Health_mgr if ovn-chassis\nis the subordinate charm.\n\n[1] https://opendev.org/openstack/neutron/src/commit/dfd4ce000b9efd5d9b608bd29bfa4a832383ca2c/neutron/common/ovn/utils.py#L126-L128\n[2] https://opendev.org/openstack/neutron/src/commit/dfd4ce000b9efd5d9b608bd29bfa4a832383ca2c/neutron/common/ovn/utils.py#L173-L175\n\nCloses-Bug: #1946325\nChange-Id: Ie7de91e2b07cbe7f1040bf12df338a722184abb5\n'}, {'number': 2, 'created': '2022-05-11 05:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/7aebda8bb77920170749b287a6a6f79a2a01f270', 'message': 'change device_owner to Octavia:Health_mgr\n\nFor OVN based deployments, neutron-ovn considers DHCP as disabled\nif the device_owner starts with neutron:, see [1] [2].\n\nThis patch checks the subordinate charm to octavia and changes\nthe o-hm0 port device owner to Octavia:Health_mgr if ovn-chassis\nis the subordinate charm.\n\n[1] https://opendev.org/openstack/neutron/src/commit/dfd4ce000b9efd5d9b608bd29bfa4a832383ca2c/neutron/common/ovn/utils.py#L126-L128\n[2] https://opendev.org/openstack/neutron/src/commit/dfd4ce000b9efd5d9b608bd29bfa4a832383ca2c/neutron/common/ovn/utils.py#L173-L175\n\nCloses-Bug: #1946325\nChange-Id: Ie7de91e2b07cbe7f1040bf12df338a722184abb5\n'}, {'number': 3, 'created': '2022-05-11 05:19:46.000000000', 'files': ['unit_tests/test_lib_charm_openstack_api_crud.py', 'src/reactive/octavia_handlers.py', 'unit_tests/test_octavia_handlers.py', 'src/lib/charm/openstack/api_crud.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/e519c6edb081d0d78c0b90fb4bac8280f56636c2', 'message': 'change device_owner to Octavia:Health_mgr\n\nFor OVN based deployments, neutron-ovn considers DHCP as disabled\nif the device_owner starts with neutron:, see [1] [2].\n\nThis patch checks the subordinate charm to octavia and changes\nthe o-hm0 port device owner to Octavia:Health_mgr if ovn-chassis\nis the subordinate charm.\n\n[1] https://opendev.org/openstack/neutron/src/commit/dfd4ce000b9efd5d9b608bd29bfa4a832383ca2c/neutron/common/ovn/utils.py#L126-L128\n[2] https://opendev.org/openstack/neutron/src/commit/dfd4ce000b9efd5d9b608bd29bfa4a832383ca2c/neutron/common/ovn/utils.py#L173-L175\n\nCloses-Bug: #1946325\nChange-Id: Ie7de91e2b07cbe7f1040bf12df338a722184abb5\n'}]",7,841365,e519c6edb081d0d78c0b90fb4bac8280f56636c2,17,4,3,10366,,,0,"change device_owner to Octavia:Health_mgr

For OVN based deployments, neutron-ovn considers DHCP as disabled
if the device_owner starts with neutron:, see [1] [2].

This patch checks the subordinate charm to octavia and changes
the o-hm0 port device owner to Octavia:Health_mgr if ovn-chassis
is the subordinate charm.

[1] https://opendev.org/openstack/neutron/src/commit/dfd4ce000b9efd5d9b608bd29bfa4a832383ca2c/neutron/common/ovn/utils.py#L126-L128
[2] https://opendev.org/openstack/neutron/src/commit/dfd4ce000b9efd5d9b608bd29bfa4a832383ca2c/neutron/common/ovn/utils.py#L173-L175

Closes-Bug: #1946325
Change-Id: Ie7de91e2b07cbe7f1040bf12df338a722184abb5
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/65/841365/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/reactive/octavia_handlers.py', 'unit_tests/test_lib_charm_openstack_api_crud.py', 'unit_tests/test_octavia_handlers.py', 'src/lib/charm/openstack/api_crud.py']",4,8deba7f6decf86846cf0825ec0dda694c623e52a,bug/1946325," host_id=None, subordinate='ovn'): :param subordinate: Subordinate neutron ovs or ovn based :type subordinate: str device_owner = ( 'Octavia:Health_mgr' if subordinate == 'ovn' else neutron_lib.constants.DEVICE_OWNER_LOADBALANCERV2) # In case of OVN subordinate, device_owner should # not have prefix neutron: as the assumption is # dhcp disabled for those ports [2] # 2: https://opendev.org/openstack/neutron/src/ # commit/dda20363cfccd5ccaaea1d6a6f7166f622d989d6/ # neutron/common/ovn/utils.py#L173-L175 'device_owner': device_owner,def setup_hm_port(identity_service, octavia_charm, host_id=None subordinate='ovn'): :param subordinate: Subordinate neutron ovs or ovn based :type subordinate: str host_id=host_id, subordinate=subordinate)"," host_id=None): 'device_owner': ( neutron_lib.constants.DEVICE_OWNER_LOADBALANCERV2),def setup_hm_port(identity_service, octavia_charm, host_id=None): host_id=host_id)",35,12
openstack%2Fopenstack-ansible-lxc_hosts~master~Ic62a8fd7290318ed7c76c22620ee0b6f09075a85,openstack/openstack-ansible-lxc_hosts,master,Ic62a8fd7290318ed7c76c22620ee0b6f09075a85,Use integrated repo 'hosts' jobs to test different backing stores,MERGED,2022-05-23 21:23:57.000000000,2022-05-30 10:31:43.000000000,2022-05-30 10:28:43.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-23 21:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/56d07c229698212cb9521b4769dc5835c89a18e4', 'message': ""Use integrated repo 'hosts' jobs to test different backing stores\n\nThis uses the main openstack-ansible repo for testing these different\nbacking store scenarios rather than openstack-ansible-tests. This is\nmore maintainable and ensures that we test using the same code as is\nused for a real deployment.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/843027\nChange-Id: Ic62a8fd7290318ed7c76c22620ee0b6f09075a85\n""}, {'number': 2, 'created': '2022-05-26 09:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/991da893e206a421176ae613a5b0439fc4049436', 'message': ""Use integrated repo 'hosts' jobs to test different backing stores\n\nThis uses the main openstack-ansible repo for testing these different\nbacking store scenarios rather than openstack-ansible-tests. This is\nmore maintainable and ensures that we test using the same code as is\nused for a real deployment.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/843027\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/843418\nChange-Id: Ic62a8fd7290318ed7c76c22620ee0b6f09075a85\n""}, {'number': 3, 'created': '2022-05-26 21:29:46.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/667321df9c72366c53fa97592d5f132cdf6d642a', 'message': ""Use integrated repo 'hosts' jobs to test different backing stores\n\nThis uses the main openstack-ansible repo for testing these different\nbacking store scenarios rather than openstack-ansible-tests. This is\nmore maintainable and ensures that we test using the same code as is\nused for a real deployment.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/843027\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/843418\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/843547\nChange-Id: Ic62a8fd7290318ed7c76c22620ee0b6f09075a85\n""}]",9,843029,667321df9c72366c53fa97592d5f132cdf6d642a,32,3,3,25023,,,0,"Use integrated repo 'hosts' jobs to test different backing stores

This uses the main openstack-ansible repo for testing these different
backing store scenarios rather than openstack-ansible-tests. This is
more maintainable and ensures that we test using the same code as is
used for a real deployment.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/843027
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/843418
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/843547
Change-Id: Ic62a8fd7290318ed7c76c22620ee0b6f09075a85
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/29/843029/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,56d07c229698212cb9521b4769dc5835c89a18e4,osa/lxc-ci,,"--- # Copyright 2017, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - job: name: openstack-ansible-lxc-container-create parent: openstack-ansible-cross-repo-functional vars: osa_test_repo: ""openstack/openstack-ansible-lxc_container_create"" - job: name: openstack-ansible-lxc-dir-ubuntu-focal parent: openstack-ansible-lxc-container-create nodeset: ubuntu-focal vars: tox_env: dir - job: name: openstack-ansible-lxc-dir-centos-8-stream parent: openstack-ansible-lxc-container-create nodeset: centos-8-stream vars: tox_env: dir - job: name: openstack-ansible-lxc-btrfs-ubuntu-focal parent: openstack-ansible-lxc-container-create nodeset: ubuntu-focal vars: tox_env: btrfs - job: name: openstack-ansible-lxc-overlayfs-ubuntu-focal parent: openstack-ansible-lxc-container-create nodeset: ubuntu-focal vars: tox_env: ofs - job: name: openstack-ansible-lxc-zfs-ubuntu-focal parent: openstack-ansible-lxc-container-create nodeset: ubuntu-focal vars: tox_env: zfs ",1,62
openstack%2Fopenstack-ansible-os_keystone~master~Ifcd2afe217205684b0ea3917a3776666d10ffae7,openstack/openstack-ansible-os_keystone,master,Ifcd2afe217205684b0ea3917a3776666d10ffae7,Add a new main tasks file for pre-service setup,MERGED,2022-05-29 11:17:31.000000000,2022-05-30 10:26:54.000000000,2022-05-30 10:25:26.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-29 11:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/50c3b80ca1cd945bca05ba807e976d77f1ecf94c', 'message': ""Add a new main tasks file for pre-service setup\n\nThere are a number of tasks and use of the ssh keypair setup role\nwhich must happen on all of the keystone hosts before the service\nitself is deployed.\n\nPreviously, the keystone role ran with serial (1,100%), and the\npre-service setup tasks iterated over ansible_play_hosts\nduring the deployment of the first keystone host using delegate_to.\nThis makes the control flow of the role hard to understand and\ncauses issues when the pre-service tasks need to include further\nroles which also use delegate_to, such as the ssh-keypairs role.\n\nThis change introduces a new 'main' tasks file for the pre-service\nsetup  which can be called independantly with no restriction on\nserial:. This means that the pre-service setup can be completed\non all keystone hosts using normal ansible tasks without iteration\nor delegate_to, and the role can be called a second time with the usual\nmain.yml and serial: settings to deploy the service itself and\nmaintain operation in a H/A deployment. In addition, the behaviour\nof --limit will now be more obvious.\n\nChange-Id: Ifcd2afe217205684b0ea3917a3776666d10ffae7\n""}, {'number': 2, 'created': '2022-05-29 12:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/61d38e3ba8ca40d07611f63694c954107b036c47', 'message': ""Add a new main tasks file for pre-service setup\n\nThere are a number of tasks and use of the ssh keypair setup role\nwhich must happen on all of the keystone hosts before the service\nitself is deployed.\n\nPreviously, the keystone role ran with serial (1,100%), and the\npre-service setup tasks iterated over ansible_play_hosts\nduring the deployment of the first keystone host using delegate_to.\nThis makes the control flow of the role hard to understand and\ncauses issues when the pre-service tasks need to include further\nroles which also use delegate_to, such as the ssh-keypairs role.\n\nThis change introduces a new 'main' tasks file for the pre-service\nsetup  which can be called independantly with no restriction on\nserial:. This means that the pre-service setup can be completed\non all keystone hosts using normal ansible tasks without iteration\nor delegate_to, and the role can be called a second time with the usual\nmain.yml and serial: settings to deploy the service itself and\nmaintain operation in a H/A deployment. In addition, the behaviour\nof --limit will now be more obvious.\n\nChange-Id: Ifcd2afe217205684b0ea3917a3776666d10ffae7\n""}, {'number': 3, 'created': '2022-05-29 16:14:07.000000000', 'files': ['tasks/main_pre.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/7ab6882066f2053c7b4adb2e6efaa9f14c398c7e', 'message': ""Add a new main tasks file for pre-service setup\n\nThere are a number of tasks and use of the ssh keypair setup role\nwhich must happen on all of the keystone hosts before the service\nitself is deployed.\n\nPreviously, the keystone role ran with serial (1,100%), and the\npre-service setup tasks iterated over ansible_play_hosts\nduring the deployment of the first keystone host using delegate_to.\nThis makes the control flow of the role hard to understand and\ncauses issues when the pre-service tasks need to include further\nroles which also use delegate_to, such as the ssh-keypairs role.\n\nThis change introduces a new 'main' tasks file for the pre-service\nsetup  which can be called independantly with no restriction on\nserial:. This means that the pre-service setup can be completed\non all keystone hosts using normal ansible tasks without iteration\nor delegate_to, and the role can be called a second time with the usual\nmain.yml and serial: settings to deploy the service itself and\nmaintain operation in a H/A deployment. In addition, the behaviour\nof --limit will now be more obvious.\n\nChange-Id: Ifcd2afe217205684b0ea3917a3776666d10ffae7\n""}]",1,843739,7ab6882066f2053c7b4adb2e6efaa9f14c398c7e,13,3,3,25023,,,0,"Add a new main tasks file for pre-service setup

There are a number of tasks and use of the ssh keypair setup role
which must happen on all of the keystone hosts before the service
itself is deployed.

Previously, the keystone role ran with serial (1,100%), and the
pre-service setup tasks iterated over ansible_play_hosts
during the deployment of the first keystone host using delegate_to.
This makes the control flow of the role hard to understand and
causes issues when the pre-service tasks need to include further
roles which also use delegate_to, such as the ssh-keypairs role.

This change introduces a new 'main' tasks file for the pre-service
setup  which can be called independantly with no restriction on
serial:. This means that the pre-service setup can be completed
on all keystone hosts using normal ansible tasks without iteration
or delegate_to, and the role can be called a second time with the usual
main.yml and serial: settings to deploy the service itself and
maintain operation in a H/A deployment. In addition, the behaviour
of --limit will now be more obvious.

Change-Id: Ifcd2afe217205684b0ea3917a3776666d10ffae7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/39/843739/3 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main_pre.yml'],1,50c3b80ca1cd945bca05ba807e976d77f1ecf94c,osa/keystone-keypairs,"--- # Copyright 2022, BBC R&D # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: create the system group group: name: ""{{ keystone_system_group_name }}"" state: ""present"" system: ""yes"" - name: create additional groups group: name: ""{{ item }}"" state: ""present"" system: ""yes"" - ""{{ keystone_system_additional_groups }}"" - name: Create the keystone system user user: name: ""{{ keystone_system_user_name }}"" group: ""{{ keystone_system_group_name }}"" groups: ""{{ keystone_system_additional_groups | join(',') }}"" comment: ""{{ keystone_system_comment }}"" shell: ""{{ keystone_system_shell }}"" system: ""yes"" createhome: ""yes"" home: ""{{ keystone_system_user_home }}"" - name: Create keystone dir file: path: ""{{ item.path | default(omit) }}"" src: ""{{ item.src | default(omit) }}"" dest: ""{{ item.dest | default(omit) }}"" state: ""{{ item.state | default('directory') }}"" owner: ""{{ item.owner|default(keystone_system_user_name) }}"" group: ""{{ item.group|default(keystone_system_group_name) }}"" mode: ""{{ item.mode | default(omit) }}"" force: ""{{ item.force | default(omit) }}"" with_nested: - path: ""/openstack"" mode: ""0755"" owner: ""root"" group: ""root"" - dest: ""/etc/keystone"" mode: ""0755"" - path: ""{{ keystone_credential_key_repository }}"" mode: ""0750"" - path: ""{{ keystone_ldap_domain_config_dir }}"" mode: ""0750"" - path: ""/etc/keystone/ssl"" - path: ""{{ keystone_fernet_tokens_key_repository }}"" mode: ""2750"" - path: ""{{ keystone_system_user_home }}"" - path: ""/var/www/cgi-bin"" owner: root group: root - path: ""/var/www/cgi-bin/keystone"" - path: ""{{ keystone_security_txt_dir }}"" - path: ""/etc/ansible/facts.d"" owner: root group: root - name: Create security.txt file copy: content: ""{{ keystone_security_txt_content }}"" dest: ""{{ keystone_security_txt_dir }}/security.txt"" when: keystone_security_txt_content is defined - import_tasks: keystone_key_setup.yml tags: - keystone-install ",,82,0
openstack%2Fopenstack-ansible~master~If51c2796a22b654c302b2a7d0941bc7bfc45760d,openstack/openstack-ansible,master,If51c2796a22b654c302b2a7d0941bc7bfc45760d,Create three keystone containers when the test scenario includes 'keystone',MERGED,2022-05-28 08:01:57.000000000,2022-05-30 10:22:42.000000000,2022-05-30 10:18:34.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-28 08:01:57.000000000', 'files': ['etc/openstack_deploy/openstack_user_config.yml.aio.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/236b060742c4318d2ccf62ce76cbc5bf04dda302', 'message': ""Create three keystone containers when the test scenario includes 'keystone'\n\nThis patch makes the os_keystone role test create 3 keystone containers\nto validate the ssh-keyspairs setup and sync of the fernet keys.\n\nChange-Id: If51c2796a22b654c302b2a7d0941bc7bfc45760d\n""}]",1,843713,236b060742c4318d2ccf62ce76cbc5bf04dda302,10,3,1,25023,,,0,"Create three keystone containers when the test scenario includes 'keystone'

This patch makes the os_keystone role test create 3 keystone containers
to validate the ssh-keyspairs setup and sync of the fernet keys.

Change-Id: If51c2796a22b654c302b2a7d0941bc7bfc45760d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/13/843713/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/openstack_deploy/openstack_user_config.yml.aio.j2'],1,236b060742c4318d2ccf62ce76cbc5bf04dda302,,# keystone identity_hosts: aio1: ip: 172.29.236.100 {% if 'keystone' in bootstrap_host_scenarios %} # NOTE (jrosser) this ensures that we deploy 3 keystone containers # during the os_keystone role test to validate ssh keys and fernet key sync affinity: keystone_container: 3 {% endif %} ,,11,0
openstack%2Fopenstack-ansible~master~I1059477870d7477e70c9f6f811572e657856e181,openstack/openstack-ansible,master,I1059477870d7477e70c9f6f811572e657856e181,Check the actual upper-constraints file for heathcheck-infrastructure.,MERGED,2022-05-26 08:28:50.000000000,2022-05-30 10:21:00.000000000,2022-05-30 10:18:31.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-26 08:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/83d76f0ac8bfdf0bde180db28f56bb7656423b1a', 'message': 'Check the actual upper-constraints file for heathcheck-infrastructure.\n\nThis is possible now we have a consistently named symlink to the latest\nversion.\n\nChange-Id: I1059477870d7477e70c9f6f811572e657856e181\n'}, {'number': 2, 'created': '2022-05-29 21:02:06.000000000', 'files': ['playbooks/healthcheck-infrastructure.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d35cd1385dffde35caa879b7fd50073259a7394d', 'message': 'Check the actual upper-constraints file for heathcheck-infrastructure.\n\nThis is possible now we have a consistently named symlink to the latest\nversion.\n\nChange-Id: I1059477870d7477e70c9f6f811572e657856e181\n'}]",2,843415,d35cd1385dffde35caa879b7fd50073259a7394d,13,3,2,25023,,,0,"Check the actual upper-constraints file for heathcheck-infrastructure.

This is possible now we have a consistently named symlink to the latest
version.

Change-Id: I1059477870d7477e70c9f6f811572e657856e181
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/15/843415/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/healthcheck-infrastructure.yml'],1,83d76f0ac8bfdf0bde180db28f56bb7656423b1a,," url: ""{{ openstack_repo_url }}/constraints/upper_constraints_cached.txt"""," url: ""{{ repo_release_path }}/""",1,1
openstack%2Fopenstack-ansible~master~Ic91ba0be3c5c37bf7e47b7a9a8360b6ccb18e9c3,openstack/openstack-ansible,master,Ic91ba0be3c5c37bf7e47b7a9a8360b6ccb18e9c3,Reduce neutron WSGI workers for CI,MERGED,2021-12-06 19:11:12.000000000,2022-05-30 10:16:38.000000000,2022-05-30 10:14:27.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-12-06 19:11:12.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6eb2dec708b41f3f8b8c61d4a916549205bfb562', 'message': 'Reduce neutron WSGI workers for CI\n\nChange-Id: Ic91ba0be3c5c37bf7e47b7a9a8360b6ccb18e9c3\n'}]",2,820586,6eb2dec708b41f3f8b8c61d4a916549205bfb562,14,4,1,28619,,,0,"Reduce neutron WSGI workers for CI

Change-Id: Ic91ba0be3c5c37bf7e47b7a9a8360b6ccb18e9c3
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/86/820586/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,6eb2dec708b41f3f8b8c61d4a916549205bfb562,,neutron_wsgi_processes: 2,,1,0
openstack%2Fopenstack-ansible~master~I2d6de2e70fa59f8a0fc70eff56fab586fa648166,openstack/openstack-ansible,master,I2d6de2e70fa59f8a0fc70eff56fab586fa648166,Drop nova-key from scale documentation and scripts,MERGED,2022-05-28 05:30:54.000000000,2022-05-30 10:14:30.000000000,2022-05-30 10:14:30.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-28 05:30:54.000000000', 'files': ['scripts/add-compute.sh', 'doc/source/admin/scale-environment.rst', 'doc/source/admin/upgrades/minor-upgrades.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bc21a289b59cceba9ab45b59599cc8e80c950f71', 'message': ""Drop nova-key from scale documentation and scripts\n\nSince we've switched to using ssh cert-based auth, we don't need\nto distribute ssh keys across all computes with adding another one\nanymore. This change should be reflected in docs and add-compute script.\n\nChange-Id: I2d6de2e70fa59f8a0fc70eff56fab586fa648166\n""}]",0,843703,bc21a289b59cceba9ab45b59599cc8e80c950f71,7,3,1,28619,,,0,"Drop nova-key from scale documentation and scripts

Since we've switched to using ssh cert-based auth, we don't need
to distribute ssh keys across all computes with adding another one
anymore. This change should be reflected in docs and add-compute script.

Change-Id: I2d6de2e70fa59f8a0fc70eff56fab586fa648166
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/03/843703/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/add-compute.sh', 'doc/source/admin/scale-environment.rst', 'doc/source/admin/upgrades/minor-upgrades.rst']",3,bc21a289b59cceba9ab45b59599cc8e80c950f71,, # openstack-ansible os-nova-install.yml --limit <node-name>, # openstack-ansible os-nova-install.yml --limit <node-name> \ --skip-tags 'nova-key',1,5
openstack%2Fkolla-ansible~master~I7158cba754fc42c9b59071c368d7984647ac4992,openstack/kolla-ansible,master,I7158cba754fc42c9b59071c368d7984647ac4992,"Revert ""[CI] Keep testing with Yoga u-c""",ABANDONED,2022-05-21 21:27:30.000000000,2022-05-30 10:11:22.000000000,,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-21 21:27:30.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0e01ff85924993a047fe22264b1f16eb911c9efa', 'message': 'Revert ""[CI] Keep testing with Yoga u-c""\n\nThis reverts commit ae88173ff1597b684009d3d7e4ca126901012c30.\n\nReason for revert: We should test master on master now.\n\nChange-Id: I7158cba754fc42c9b59071c368d7984647ac4992\n'}]",1,842734,0e01ff85924993a047fe22264b1f16eb911c9efa,5,5,1,30491,,,0,"Revert ""[CI] Keep testing with Yoga u-c""

This reverts commit ae88173ff1597b684009d3d7e4ca126901012c30.

Reason for revert: We should test master on master now.

Change-Id: I7158cba754fc42c9b59071c368d7984647ac4992
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/34/842734/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,0e01ff85924993a047fe22264b1f16eb911c9efa,keep-yoga-on-master, - openstack/requirements, - name: openstack/requirements override-checkout: stable/yoga,1,2
openstack%2Fneutron-vpnaas~master~I1034814639a03b6482d9c9d1a389950aef967a59,openstack/neutron-vpnaas,master,I1034814639a03b6482d9c9d1a389950aef967a59,Migrate to neutron-lib released API definition for VPNaaS APIs,MERGED,2017-03-10 09:53:42.000000000,2022-05-30 10:02:44.000000000,2022-05-30 10:01:17.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1004}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 6854}, {'_account_id': 7787}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 15905}, {'_account_id': 19935}, {'_account_id': 21781}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-03-10 09:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/9a2b0030eeece470cdca8b60b7f4f2a1e0d3dc52', 'message': 'Migrate to neutron-lib released API definition for VPNaaS APIs\n\nThis patch shows how to use a neutron-lib released API definition for\nthe VPNaaS extensions. This is a baby step towards a\nconsolidated set of Neutron APIs.\n\nChange-Id: I1034814639a03b6482d9c9d1a389950aef967a59\nDepends-On: I06760fbbbc87570412a21364fba58efe880a907b\n'}, {'number': 2, 'created': '2017-03-14 06:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/605a0d5eda7ea9dac4460a285ea3ef01e4ee870d', 'message': 'Migrate to neutron-lib released API definition for VPNaaS APIs\n\nThis patch shows how to use a neutron-lib released API definition for\nthe VPNaaS extensions. This is a baby step towards a\nconsolidated set of Neutron APIs.\n\nCo-Authored-By: Anh Tran <trananhkma@gmail.com>\nChange-Id: I1034814639a03b6482d9c9d1a389950aef967a59\nDepends-On: I06760fbbbc87570412a21364fba58efe880a907b\n'}, {'number': 3, 'created': '2017-04-17 06:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/5301a596c1307bbdf8791dfd3d711def2cffac7b', 'message': 'Migrate to neutron-lib released API definition for VPNaaS APIs\n\nThis patch shows how to use a neutron-lib released API definition for\nthe VPNaaS extensions. This is a baby step towards a\nconsolidated set of Neutron APIs.\n\nCo-Authored-By: Anh Tran <trananhkma@gmail.com>\nChange-Id: I1034814639a03b6482d9c9d1a389950aef967a59\nDepends-On: I06760fbbbc87570412a21364fba58efe880a907b\n'}, {'number': 4, 'created': '2017-04-26 02:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/c4d89f893cecfe694d43d78cc412edf1e1f0cddf', 'message': 'Migrate to neutron-lib released API definition for VPNaaS APIs\n\nThis patch shows how to use a neutron-lib released API definition for\nthe VPNaaS extensions. This is a baby step towards a\nconsolidated set of Neutron APIs.\nSee I06760fbbbc87570412a21364fba58efe880a907b for more details.\n\nCo-Authored-By: Anh Tran <trananhkma@gmail.com>\nChange-Id: I1034814639a03b6482d9c9d1a389950aef967a59\n'}, {'number': 5, 'created': '2017-12-08 08:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/40b55c96823272b9bfeec2fdd8067533998808e5', 'message': 'Migrate to neutron-lib released API definition for VPNaaS APIs\n\nThis patch shows how to use a neutron-lib released API definition for\nthe VPNaaS extensions. This is a baby step towards a\nconsolidated set of Neutron APIs.\nSee I06760fbbbc87570412a21364fba58efe880a907b for more details.\n\nCo-Authored-By: Anh Tran <trananhkma@gmail.com>\n\nDepends-on: I06760fbbbc87570412a21364fba58efe880a907b\nChange-Id: I1034814639a03b6482d9c9d1a389950aef967a59\n'}, {'number': 6, 'created': '2017-12-19 07:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/430d885625f1fa097e857b18b3969f310ab94706', 'message': 'Migrate to neutron-lib released API definition for VPNaaS APIs\n\nThis patch shows how to use a neutron-lib released API definition for\nthe VPNaaS extensions. This is a baby step towards a\nconsolidated set of Neutron APIs.\nSee I06760fbbbc87570412a21364fba58efe880a907b for more details.\n\nThe method get_namespace in API extensions is also removed during this\nmigration. Since it was removed from neutron long ago [1].\n\nCo-Authored-By: Anh Tran <trananhkma@gmail.com>\nCo-Authored-By: Hunt Xu <mhuntxu@gmail.com>\n\n[1] I3c406910991c33cf959c5345d76153eabe3ace2d\n\nRelated-Bug: #1686890\n\nDepends-on: I06760fbbbc87570412a21364fba58efe880a907b\nChange-Id: I1034814639a03b6482d9c9d1a389950aef967a59\n'}, {'number': 7, 'created': '2018-05-03 04:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/806f9b66974690294ed8b1df4aca357e590d383f', 'message': 'Migrate to neutron-lib released API definition for VPNaaS APIs\n\nThis patch shows how to use a neutron-lib released API definition for\nthe VPNaaS extensions. This is a baby step towards a\nconsolidated set of Neutron APIs.\nSee I06760fbbbc87570412a21364fba58efe880a907b for more details.\n\nThe method get_namespace in API extensions is also removed during this\nmigration. Since it was removed from neutron long ago [1].\n\nCo-Authored-By: Anh Tran <trananhkma@gmail.com>\nCo-Authored-By: Hunt Xu <mhuntxu@gmail.com>\n\n[1] I3c406910991c33cf959c5345d76153eabe3ace2d\n\nRelated-Bug: #1686890\n\nDepends-on: I06760fbbbc87570412a21364fba58efe880a907b\nChange-Id: I1034814639a03b6482d9c9d1a389950aef967a59\n'}, {'number': 8, 'created': '2018-05-03 06:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/3134e6fd34e4f19e4ad5ff77e3514144e45abd65', 'message': 'Migrate to neutron-lib released API definition for VPNaaS APIs\n\nThis patch shows how to use a neutron-lib released API definition for\nthe VPNaaS extensions. This is a baby step towards a\nconsolidated set of Neutron APIs.\nSee I06760fbbbc87570412a21364fba58efe880a907b for more details.\n\nThe method get_namespace in API extensions is also removed during this\nmigration. Since it was removed from neutron long time ago [1].\n\nCo-Authored-By: Anh Tran <trananhkma@gmail.com>\nCo-Authored-By: Hunt Xu <mhuntxu@gmail.com>\n\n[1] I3c406910991c33cf959c5345d76153eabe3ace2d\n\nChange-Id: I1034814639a03b6482d9c9d1a389950aef967a59\n'}, {'number': 9, 'created': '2018-05-03 07:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/e187aefabcad0f4202e19201afb6b4a8a4a53a5a', 'message': 'Migrate to neutron-lib released API definition for VPNaaS APIs\n\nThis patch shows how to use a neutron-lib released API definition for\nthe VPNaaS extensions. This is a baby step towards a\nconsolidated set of Neutron APIs.\nSee I06760fbbbc87570412a21364fba58efe880a907b for more details.\n\nThe method get_namespace in API extensions is also removed during this\nmigration. Since it was removed from neutron long time ago [1].\n\nCo-Authored-By: Anh Tran <trananhkma@gmail.com>\nCo-Authored-By: Hunt Xu <mhuntxu@gmail.com>\n\n[1] I3c406910991c33cf959c5345d76153eabe3ace2d\n\nChange-Id: I1034814639a03b6482d9c9d1a389950aef967a59\n'}, {'number': 10, 'created': '2018-05-03 09:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/c2172d58070252e25143a989cd01ecc3b180e777', 'message': 'Migrate to neutron-lib released API definition for VPNaaS APIs\n\nThis patch shows how to use a neutron-lib released API definition for\nthe VPNaaS extensions. This is a baby step towards a\nconsolidated set of Neutron APIs.\nSee I06760fbbbc87570412a21364fba58efe880a907b for more details.\n\nThe method get_namespace in API extensions is also removed during this\nmigration. Since it was removed from neutron long time ago [1].\n\nCo-Authored-By: Anh Tran <trananhkma@gmail.com>\nCo-Authored-By: Hunt Xu <mhuntxu@gmail.com>\n\n[1] I3c406910991c33cf959c5345d76153eabe3ace2d\n\nChange-Id: I1034814639a03b6482d9c9d1a389950aef967a59\n'}, {'number': 11, 'created': '2018-05-03 09:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/40e51ade53e1e977885da7fb66dafe8fe04fd1e6', 'message': 'Migrate to neutron-lib released API definition for VPNaaS APIs\n\nThis patch shows how to use a neutron-lib released API definition for\nthe VPNaaS extensions. This is a baby step towards a\nconsolidated set of Neutron APIs.\nSee I06760fbbbc87570412a21364fba58efe880a907b for more details.\n\nThe method get_namespace in API extensions is also removed during this\nmigration. Since it was removed from neutron long time ago [1].\n\nCo-Authored-By: Anh Tran <trananhkma@gmail.com>\nCo-Authored-By: Hunt Xu <mhuntxu@gmail.com>\n\n[1] I3c406910991c33cf959c5345d76153eabe3ace2d\n\nChange-Id: I1034814639a03b6482d9c9d1a389950aef967a59\n'}, {'number': 12, 'created': '2018-05-04 01:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/c8650bb8bd38202ea17ac1053860782d62ea7f0a', 'message': 'Migrate to neutron-lib released API definition for VPNaaS APIs\n\nThis patch shows how to use a neutron-lib released API definition for\nthe VPNaaS extensions. This is a baby step towards a\nconsolidated set of Neutron APIs.\n\nSee I06760fbbbc87570412a21364fba58efe880a907b for more details.\n\nThe method get_namespace in API extensions is also removed during this\nmigration. Since it was removed from neutron long time ago [1].\n\nCo-Authored-By: Anh Tran <trananhkma@gmail.com>\nCo-Authored-By: Hunt Xu <mhuntxu@gmail.com>\n\n[1] I3c406910991c33cf959c5345d76153eabe3ace2d\n\nChange-Id: I1034814639a03b6482d9c9d1a389950aef967a59\n'}, {'number': 13, 'created': '2018-05-11 07:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/404fffd083509ad3e45d5e97ec30b3c00c8b63ee', 'message': 'Migrate to neutron-lib released API definition for VPNaaS APIs\n\nThis patch shows how to use a neutron-lib released API definition for\nthe VPNaaS extensions. This is a baby step towards a\nconsolidated set of Neutron APIs.\n\nSee I06760fbbbc87570412a21364fba58efe880a907b for more details.\n\nThe method get_namespace in API extensions is also removed during this\nmigration. Since it was removed from neutron long time ago [1].\n\nCo-Authored-By: Anh Tran <trananhkma@gmail.com>\nCo-Authored-By: Hunt Xu <mhuntxu@gmail.com>\n\n[1] I3c406910991c33cf959c5345d76153eabe3ace2d\n\nChange-Id: I1034814639a03b6482d9c9d1a389950aef967a59\n'}, {'number': 14, 'created': '2018-07-24 04:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/ed6da55669dd5c7234ef303ca9b857955e1e0a4a', 'message': 'Migrate to neutron-lib released API definition for VPNaaS APIs\n\nThis patch shows how to use a neutron-lib released API definition for\nthe VPNaaS extensions. This is a baby step towards a\nconsolidated set of Neutron APIs.\n\nSee I06760fbbbc87570412a21364fba58efe880a907b for more details.\n\nThe method get_namespace in API extensions is also removed during this\nmigration. Since it was removed from neutron long time ago [1].\n\nCo-Authored-By: Anh Tran <trananhkma@gmail.com>\nCo-Authored-By: Hunt Xu <mhuntxu@gmail.com>\n\n[1] I3c406910991c33cf959c5345d76153eabe3ace2d\n\nChange-Id: I1034814639a03b6482d9c9d1a389950aef967a59\n'}, {'number': 15, 'created': '2018-07-24 09:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/c652b9d55cd9a8226f2eb1c423c658dba3d76f7d', 'message': 'Migrate to neutron-lib released API definition for VPNaaS APIs\n\nThis patch shows how to use a neutron-lib released API definition for\nthe VPNaaS extensions. This is a baby step towards a\nconsolidated set of Neutron APIs.\n\nSee I06760fbbbc87570412a21364fba58efe880a907b for more details.\n\nThe method get_namespace in API extensions is also removed during this\nmigration. Since it was removed from neutron long time ago [1].\n\nCo-Authored-By: Anh Tran <trananhkma@gmail.com>\nCo-Authored-By: Hunt Xu <mhuntxu@gmail.com>\n\n[1] I3c406910991c33cf959c5345d76153eabe3ace2d\n\nChange-Id: I1034814639a03b6482d9c9d1a389950aef967a59\n'}, {'number': 16, 'created': '2020-02-29 14:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/28fae9828f7f9f21ec8dbae9838098c9010141ae', 'message': 'Migrate to neutron-lib released API definition for VPNaaS APIs\n\nThis patch shows how to use a neutron-lib released API definition for\nthe VPNaaS extensions. This is a baby step towards a\nconsolidated set of Neutron APIs.\n\nSee I06760fbbbc87570412a21364fba58efe880a907b for more details.\n\nThe method get_namespace in API extensions is also removed during this\nmigration. Since it was removed from neutron long time ago [1].\n\nCo-Authored-By: Anh Tran <trananhkma@gmail.com>\nCo-Authored-By: Hunt Xu <mhuntxu@gmail.com>\n\n[1] I3c406910991c33cf959c5345d76153eabe3ace2d\n\nDepends-On: https://review.opendev.org/#/c/710559/\nChange-Id: I1034814639a03b6482d9c9d1a389950aef967a59\n'}, {'number': 17, 'created': '2020-02-29 14:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/120c6987982fc7186c986dec29aed9efae0a4757', 'message': 'Migrate to neutron-lib released API definition for VPNaaS APIs\n\nThis patch shows how to use a neutron-lib released API definition for\nthe VPNaaS extensions. This is a baby step towards a\nconsolidated set of Neutron APIs.\n\nSee I06760fbbbc87570412a21364fba58efe880a907b for more details.\n\nThe method get_namespace in API extensions is also removed during this\nmigration. Since it was removed from neutron long time ago [1].\n\nCo-Authored-By: Anh Tran <trananhkma@gmail.com>\nCo-Authored-By: Hunt Xu <mhuntxu@gmail.com>\n\n[1] I3c406910991c33cf959c5345d76153eabe3ace2d\n\nDepends-On: https://review.opendev.org/#/c/710559/\nChange-Id: I1034814639a03b6482d9c9d1a389950aef967a59\n'}, {'number': 18, 'created': '2020-03-21 03:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/56c853719ced8ae64fad611a29d8d3a91697385a', 'message': 'Migrate to neutron-lib released API definition for VPNaaS APIs\n\nThis patch shows how to use a neutron-lib released API definition for\nthe VPNaaS extensions. This is a baby step towards a\nconsolidated set of Neutron APIs.\n\nSee I06760fbbbc87570412a21364fba58efe880a907b for more details.\n\nThe method get_namespace in API extensions is also removed during this\nmigration. Since it was removed from neutron long time ago [1].\n\nCo-Authored-By: Anh Tran <trananhkma@gmail.com>\nCo-Authored-By: Hunt Xu <mhuntxu@gmail.com>\nCo-Authored-By: Dongcan Ye <hellochosen@gmail.com>\n\n[1] I3c406910991c33cf959c5345d76153eabe3ace2d\n\nDepends-On: https://review.opendev.org/#/c/710559/\nDepends-On: https://review.opendev.org/#/c/712657/\nChange-Id: I1034814639a03b6482d9c9d1a389950aef967a59\n'}, {'number': 19, 'created': '2020-04-20 09:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/38d2ea52a0e3bf52797ef6e7a87488319db0bdfa', 'message': 'Migrate to neutron-lib released API definition for VPNaaS APIs\n\nThis patch shows how to use a neutron-lib released API definition for\nthe VPNaaS extensions. This is a baby step towards a\nconsolidated set of Neutron APIs.\n\nSee I06760fbbbc87570412a21364fba58efe880a907b for more details.\n\nThe method get_namespace in API extensions is also removed during this\nmigration. Since it was removed from neutron long time ago [1].\n\nCo-Authored-By: Anh Tran <trananhkma@gmail.com>\nCo-Authored-By: Hunt Xu <mhuntxu@gmail.com>\nCo-Authored-By: Dongcan Ye <hellochosen@gmail.com>\n\n[1] I3c406910991c33cf959c5345d76153eabe3ace2d\n\nDepends-On: https://review.opendev.org/#/c/710559/\nDepends-On: https://review.opendev.org/#/c/712657/\nChange-Id: I1034814639a03b6482d9c9d1a389950aef967a59\n'}, {'number': 20, 'created': '2020-04-20 11:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/7bb2a8839876a0e924aef470ed65962d6f229462', 'message': 'Migrate to neutron-lib released API definition for VPNaaS APIs\n\nThis patch shows how to use a neutron-lib released API definition for\nthe VPNaaS extensions. This is a baby step towards a\nconsolidated set of Neutron APIs.\n\nSee I06760fbbbc87570412a21364fba58efe880a907b for more details.\n\nThe method get_namespace in API extensions is also removed during this\nmigration. Since it was removed from neutron long time ago [1].\n\nCo-Authored-By: Anh Tran <trananhkma@gmail.com>\nCo-Authored-By: Hunt Xu <mhuntxu@gmail.com>\nCo-Authored-By: Dongcan Ye <hellochosen@gmail.com>\n\n[1] I3c406910991c33cf959c5345d76153eabe3ace2d\n\nDepends-On: https://review.opendev.org/#/c/710559/\nDepends-On: https://review.opendev.org/#/c/712657/\nChange-Id: I1034814639a03b6482d9c9d1a389950aef967a59\n'}, {'number': 21, 'created': '2022-05-23 15:44:04.000000000', 'files': ['neutron_vpnaas/tests/unit/db/vpn/test_vpn_validator.py', 'neutron_vpnaas/extensions/vpn_endpoint_groups.py', 'neutron_vpnaas/db/vpn/vpn_validator.py', 'neutron_vpnaas/services/vpn/vpn_service.py', 'neutron_vpnaas/tests/unit/services/vpn/device_drivers/test_ipsec.py', 'neutron_vpnaas/tests/unit/services/vpn/test_vpn_service.py', 'neutron_vpnaas/tests/unit/db/vpn/test_vpn_db.py', 'neutron_vpnaas/extensions/vpnaas.py', 'neutron_vpnaas/services/vpn/device_drivers/ipsec.py', 'neutron_vpnaas/extensions/vpn_flavors.py', 'neutron_vpnaas/db/vpn/vpn_db.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/6a226281bb28b6e64c55f997b79224bcfad79ea5', 'message': 'Migrate to neutron-lib released API definition for VPNaaS APIs\n\nThis patch shows how to use a neutron-lib released API definition for\nthe VPNaaS extensions. This is a baby step towards a\nconsolidated set of Neutron APIs.\n\nSee I06760fbbbc87570412a21364fba58efe880a907b for more details.\n\nThe method get_namespace in API extensions is also removed during this\nmigration. Since it was removed from neutron long time ago [1].\n\nCo-Authored-By: Anh Tran <trananhkma@gmail.com>\nCo-Authored-By: Hunt Xu <mhuntxu@gmail.com>\nCo-Authored-By: Dongcan Ye <hellochosen@gmail.com>\n\n[1] I3c406910991c33cf959c5345d76153eabe3ace2d\n\nDepends-On: https://review.opendev.org/#/c/710559/\nDepends-On: https://review.opendev.org/#/c/712657/\nChange-Id: I1034814639a03b6482d9c9d1a389950aef967a59\n'}]",34,444186,6a226281bb28b6e64c55f997b79224bcfad79ea5,86,14,21,15905,,,0,"Migrate to neutron-lib released API definition for VPNaaS APIs

This patch shows how to use a neutron-lib released API definition for
the VPNaaS extensions. This is a baby step towards a
consolidated set of Neutron APIs.

See I06760fbbbc87570412a21364fba58efe880a907b for more details.

The method get_namespace in API extensions is also removed during this
migration. Since it was removed from neutron long time ago [1].

Co-Authored-By: Anh Tran <trananhkma@gmail.com>
Co-Authored-By: Hunt Xu <mhuntxu@gmail.com>
Co-Authored-By: Dongcan Ye <hellochosen@gmail.com>

[1] I3c406910991c33cf959c5345d76153eabe3ace2d

Depends-On: https://review.opendev.org/#/c/710559/
Depends-On: https://review.opendev.org/#/c/712657/
Change-Id: I1034814639a03b6482d9c9d1a389950aef967a59
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/86/444186/14 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/extensions/vpnaas.py'],1,9a2b0030eeece470cdca8b60b7f4f2a1e0d3dc52,use-neutron-lib-api,from neutron_lib.api.definitions import vpn_v2,,1,0
openstack%2Ftripleo-validations~master~I60948684882d0f7311bdcc3279387575199899e7,openstack/tripleo-validations,master,I60948684882d0f7311bdcc3279387575199899e7,DNM testing novaclient bump,ABANDONED,2022-05-30 08:58:40.000000000,2022-05-30 10:02:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-30 08:58:40.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9e79ec9299bbe94dfa11c67b4fd876d3eafe4f73', 'message': 'DNM testing novaclient bump\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I60948684882d0f7311bdcc3279387575199899e7\n'}]",0,843804,9e79ec9299bbe94dfa11c67b4fd876d3eafe4f73,3,1,1,32926,,,0,"DNM testing novaclient bump

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I60948684882d0f7311bdcc3279387575199899e7
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/04/843804/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,9e79ec9299bbe94dfa11c67b4fd876d3eafe4f73,,python-novaclient>=18.0.0 # Apache-2.0,python-novaclient>=15.1.0 # Apache-2.0,1,1
openstack%2Ftempest~master~I89ae6bd5137e57cb6ec5bc3c9edecc29489bca94,openstack/tempest,master,I89ae6bd5137e57cb6ec5bc3c9edecc29489bca94,Use UPPER_CONSTRAINTS_FILE for stable/ussuri testing,MERGED,2022-05-24 01:47:37.000000000,2022-05-30 09:52:13.000000000,2022-05-30 09:50:45.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-05-24 01:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/66793632a4c878000d30737d96aac5910e6a7e7f', 'message': 'Use UPPER_CONSTRAINTS_FILE for stable/ussuri testing\n\nTempest is going to be pinned for stable/ussuri(depends on) which\nneed to modify run-tempest role to use the constraints set by\nthe devstack or any job.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838051\nChange-Id: I89ae6bd5137e57cb6ec5bc3c9edecc29489bca94\n'}, {'number': 2, 'created': '2022-05-24 22:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/445f934e3fc0572e8ae8926d13d0ff23a233a3ec', 'message': 'Use UPPER_CONSTRAINTS_FILE for stable/ussuri testing\n\nTempest is going to be pinned for stable/ussuri(depends on) which\nneed to modify run-tempest role to use the constraints set by\nthe devstack or any job.\n\nChange-Id: I89ae6bd5137e57cb6ec5bc3c9edecc29489bca94\n'}, {'number': 3, 'created': '2022-05-25 21:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4870bab5112ce2e13f74d198cce036565c56fee0', 'message': ""Use UPPER_CONSTRAINTS_FILE for stable/ussuri testing\n\nTempest is going to be pinned for stable/ussuri(depends on) which\nneed to modify run-tempest role to use the constraints set by\nthe devstack or any job.\n\nBecause of Tempest 26.1.0 and with stestr 2.5.1 or 3.0.1 (beacause of upper\nconstraints of stestr 2.5.1 in stable/train and 3.0.1 in stable/ussuri )\nwhich does not have new args exclude-regex so let's fallback to old arg if\nnew arg is passed.\n\nChange-Id: I89ae6bd5137e57cb6ec5bc3c9edecc29489bca94\n""}, {'number': 4, 'created': '2022-05-28 23:53:16.000000000', 'files': ['roles/run-tempest/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7aa3b21e89f09639bce3bd00865b1197f1502c77', 'message': ""Use UPPER_CONSTRAINTS_FILE for stable/ussuri testing\n\nTempest is going to be pinned for stable/ussuri(depends on) which\nneed to modify run-tempest role to use the constraints set by\nthe devstack or any job.\n\nBecause of Tempest 26.1.0 and with stestr 2.5.1 or 3.0.1 (beacause of upper\nconstraints of stestr 2.5.1 in stable/train and 3.0.1 in stable/ussuri )\nwhich does not have new args exclude-regex so let's fallback to old arg if\nnew arg is passed.\n\nChange-Id: I89ae6bd5137e57cb6ec5bc3c9edecc29489bca94\n""}]",5,843045,7aa3b21e89f09639bce3bd00865b1197f1502c77,22,3,4,8556,,,0,"Use UPPER_CONSTRAINTS_FILE for stable/ussuri testing

Tempest is going to be pinned for stable/ussuri(depends on) which
need to modify run-tempest role to use the constraints set by
the devstack or any job.

Because of Tempest 26.1.0 and with stestr 2.5.1 or 3.0.1 (beacause of upper
constraints of stestr 2.5.1 in stable/train and 3.0.1 in stable/ussuri )
which does not have new args exclude-regex so let's fallback to old arg if
new arg is passed.

Change-Id: I89ae6bd5137e57cb6ec5bc3c9edecc29489bca94
",git fetch https://review.opendev.org/openstack/tempest refs/changes/45/843045/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-tempest/tasks/main.yaml'],1,66793632a4c878000d30737d96aac5910e6a7e7f,ussuri-pin-tempest,"- name: Use stable branch upper-constraints till stable/ussuri when: target_branch in [""stable/ocata"", ""stable/pike"", ""stable/queens"", ""stable/rocky"", ""stable/stein"", ""stable/train"", ""stable/ussuri""]","- name: Use stable branch upper-constraints till stable/train when: target_branch in [""stable/ocata"", ""stable/pike"", ""stable/queens"", ""stable/rocky"", ""stable/stein"", ""stable/train""]",2,2
openstack%2Fkolla~master~I0cabb9a1c1cb5d55813d7885319094c34085c6e7,openstack/kolla,master,I0cabb9a1c1cb5d55813d7885319094c34085c6e7,test,ABANDONED,2022-05-28 12:34:40.000000000,2022-05-30 09:36:08.000000000,,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2022-05-28 12:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/47ea24e5984f61bf481161083a77d9e09144de6e', 'message': 'test\n\nChange-Id: I0cabb9a1c1cb5d55813d7885319094c34085c6e7\n'}, {'number': 2, 'created': '2022-05-28 12:35:48.000000000', 'files': ['kolla/opts.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7fddb9aafe44437137c3df2b4e01a231d5780572', 'message': 'test\n\nChange-Id: I0cabb9a1c1cb5d55813d7885319094c34085c6e7\n'}]",1,843719,7fddb9aafe44437137c3df2b4e01a231d5780572,7,2,2,28706,,,0,"test

Change-Id: I0cabb9a1c1cb5d55813d7885319094c34085c6e7
",git fetch https://review.opendev.org/openstack/kolla refs/changes/19/843719/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,47ea24e5984f61bf481161083a77d9e09144de6e,,,,1,0
openstack%2Fpython-venusclient~master~I5ecfba2963846bb5fa260e141e562bc550308a4e,openstack/python-venusclient,master,I5ecfba2963846bb5fa260e141e562bc550308a4e,Add SearchManager to venusclient,MERGED,2022-05-30 07:56:04.000000000,2022-05-30 09:30:18.000000000,2022-05-30 09:30:18.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-05-30 07:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-venusclient/commit/b7145af5e05c1249d45bddcb50ac92136eb83518', 'message': 'Add SearchManager to venusclient\n\nMove get logs from ConfigManager to new SearchManager.\n\nChange-Id: I5ecfba2963846bb5fa260e141e562bc550308a4e\n'}, {'number': 2, 'created': '2022-05-30 08:18:59.000000000', 'files': ['venusclient/v1/config.py', 'venusclient/v1/client.py', 'venusclient/v1/search.py', 'venusclient/common/utils.py'], 'web_link': 'https://opendev.org/openstack/python-venusclient/commit/ff91d9ff22722113c46b988350400f8806800bd0', 'message': 'Add SearchManager to venusclient\n\nMove get logs from ConfigManager to new SearchManager.\n\nChange-Id: I5ecfba2963846bb5fa260e141e562bc550308a4e\n'}]",2,843794,ff91d9ff22722113c46b988350400f8806800bd0,9,3,2,30562,,,0,"Add SearchManager to venusclient

Move get logs from ConfigManager to new SearchManager.

Change-Id: I5ecfba2963846bb5fa260e141e562bc550308a4e
",git fetch https://review.opendev.org/openstack/python-venusclient refs/changes/94/843794/2 && git format-patch -1 --stdout FETCH_HEAD,"['venusclient/v1/config.py', 'venusclient/v1/client.py', 'venusclient/v1/search.py', 'venusclient/common/utils.py']",4,b7145af5e05c1249d45bddcb50ac92136eb83518,add-search-manager,"from urllib import parse def prepare_query_string(params): """"""Convert dict params to query string"""""" # Transform the dict to a sequence of two-element tuples in fixed # order, then the encoded string will be consistent in Python 2&3. if not params: return '' params = sorted(params.items(), key=lambda x: x[0]) return '?%s' % parse.urlencode(params) if params else '' def get_url_with_filter(url, filters): query_string = prepare_query_string(filters) url = ""%s%s"" % (url, query_string) return url",,69,19
openstack%2Fcharm-glance-simplestreams-sync~master~I1955f3d2a56654c9a683a2b9d36b33c0f0fd63d4,openstack/charm-glance-simplestreams-sync,master,I1955f3d2a56654c9a683a2b9d36b33c0f0fd63d4,Support --visibility option for simplestreams,MERGED,2022-05-27 10:42:43.000000000,2022-05-30 09:22:53.000000000,2022-05-30 09:22:53.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 10:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/6f3bc1ef32a7764470918e9c17d26255f345cca5', 'message': 'Support --visibility option for simplestreams\n\nWith the new option, Glance images can be uploaded with\nvisibility=community instead of public for example.\n\nCloses-Bug: #1975663\nChange-Id: I1955f3d2a56654c9a683a2b9d36b33c0f0fd63d4\n'}, {'number': 2, 'created': '2022-05-29 04:33:17.000000000', 'files': ['hooks/hooks.py', 'files/glance_simplestreams_sync.py', 'config.yaml', 'templates/mirrors.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/f8165cebb89739869845c51734f95833aa497286', 'message': 'Support --visibility option for simplestreams\n\nWith the new option, Glance images can be uploaded with\n""visibility=shared"" for example instead of ""public"" so those can be\nhidden from usual projects by default.\n\nCloses-Bug: #1975663\nChange-Id: I1955f3d2a56654c9a683a2b9d36b33c0f0fd63d4\n'}]",0,843603,f8165cebb89739869845c51734f95833aa497286,11,3,2,8108,,,0,"Support --visibility option for simplestreams

With the new option, Glance images can be uploaded with
""visibility=shared"" for example instead of ""public"" so those can be
hidden from usual projects by default.

Closes-Bug: #1975663
Change-Id: I1955f3d2a56654c9a683a2b9d36b33c0f0fd63d4
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/03/843603/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'files/glance_simplestreams_sync.py', 'config.yaml', 'templates/mirrors.yaml']",4,6f3bc1ef32a7764470918e9c17d26255f345cca5,,visibility: {{ visibility }},,16,0
openstack%2Ftripleo-common~stable%2Fvictoria~I4132f184454b9c2b907d3317256c3de185fd9da9,openstack/tripleo-common,stable/victoria,I4132f184454b9c2b907d3317256c3de185fd9da9,WIP Do not rotate MysqlClustercheckPassword,ABANDONED,2021-12-13 10:57:27.000000000,2022-05-30 09:19:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-13 10:57:27.000000000', 'files': ['tripleo_common/constants.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/de0b6f24e50b658de7f290b1e2b458350537e925', 'message': 'WIP Do not rotate MysqlClustercheckPassword\n\nThe clustercheck service is used on all the control\nplane, and changing the password of the clustercheck\nuser in the DB prevents the clustercheck service to\nprobe the galera state until the new password is also\nupdated in the config files. This causes a long\nservice outage.\n\nDo not rotate that password by default until a\nfallback mechanism is implemented in clustercheck.\n\nChange-Id: I4132f184454b9c2b907d3317256c3de185fd9da9\n(cherry picked from commit 0da31304fea675e0a0db7d2f1e02bd2edd7eaa1c)\n'}]",0,821542,de0b6f24e50b658de7f290b1e2b458350537e925,3,1,1,20778,,,0,"WIP Do not rotate MysqlClustercheckPassword

The clustercheck service is used on all the control
plane, and changing the password of the clustercheck
user in the DB prevents the clustercheck service to
probe the galera state until the new password is also
updated in the config files. This causes a long
service outage.

Do not rotate that password by default until a
fallback mechanism is implemented in clustercheck.

Change-Id: I4132f184454b9c2b907d3317256c3de185fd9da9
(cherry picked from commit 0da31304fea675e0a0db7d2f1e02bd2edd7eaa1c)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/42/821542/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/constants.py'],1,de0b6f24e50b658de7f290b1e2b458350537e925,clustercheck-rotation-stable/victoria," 'MysqlClustercheckPassword',",,1,0
openstack%2Fopenstack-ansible-repo_server~master~I24a031b5e14359f08a231dfc3429468561d48126,openstack/openstack-ansible-repo_server,master,I24a031b5e14359f08a231dfc3429468561d48126,Use distro packages for nginx on centos.,MERGED,2022-05-12 16:39:51.000000000,2022-05-30 09:19:13.000000000,2022-05-30 09:17:45.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-12 16:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/0debdd03cf3f477173f16f901946e4f133b191eb', 'message': 'Use distro packages for nginx on centos.\n\nThere is no longer any need to get these from EPEL or the\nnginx repos.\n\nChange-Id: I24a031b5e14359f08a231dfc3429468561d48126\n'}, {'number': 2, 'created': '2022-05-16 11:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/00a7a35b1287d62808aa6091ee1b428da72ce540', 'message': 'Use distro packages for nginx on centos.\n\nThere is no longer any need to get these from EPEL or the\nnginx repos.\n\nChange-Id: I24a031b5e14359f08a231dfc3429468561d48126\n'}, {'number': 3, 'created': '2022-05-16 15:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/6cce370d5e0f4d2be7339d4ecefd753b7b614c97', 'message': 'Use distro packages for nginx on centos.\n\nThere is no longer any need to get these from EPEL or the\nnginx repos.\n\nChange-Id: I24a031b5e14359f08a231dfc3429468561d48126\n'}, {'number': 4, 'created': '2022-05-16 15:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/069a06a84150d77b10c29bf0cbafe5e7995528d4', 'message': 'Use distro packages for nginx on centos.\n\nThere is no longer any need to get these from EPEL or the\nnginx repos.\n\nChange-Id: I24a031b5e14359f08a231dfc3429468561d48126\n'}, {'number': 5, 'created': '2022-05-17 11:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/51baa0ea14da72b713e32e6eeb4da6c925b01fc1', 'message': 'Use distro packages for nginx on centos.\n\nThere is no longer any need to get these from EPEL or the\nnginx repos.\n\nChange-Id: I24a031b5e14359f08a231dfc3429468561d48126\n'}, {'number': 6, 'created': '2022-05-18 11:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/fd970c47103013971cd3626b865e3234ccb11bf4', 'message': 'Use distro packages for nginx on centos.\n\nThere is no longer any need to get these from EPEL or the\nnginx repos.\n\nChange-Id: I24a031b5e14359f08a231dfc3429468561d48126\n'}, {'number': 7, 'created': '2022-05-19 16:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/e6e6ff98638dd1e28da5cc79a73df53c4578b81f', 'message': 'Use distro packages for nginx on centos.\n\nThere is no longer any need to get these from EPEL or the\nnginx repos.\n\nChange-Id: I24a031b5e14359f08a231dfc3429468561d48126\n'}, {'number': 8, 'created': '2022-05-25 12:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/02a9decbe9fc155cc18c214ffacf8729c52cf50e', 'message': 'Use distro packages for nginx on centos.\n\nThere is no longer any need to get these from EPEL or the\nnginx repos.\n\nChange-Id: I24a031b5e14359f08a231dfc3429468561d48126\n'}, {'number': 9, 'created': '2022-05-25 12:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/d23468a73d24e79c243157137d9a0f20688010a4', 'message': 'Use distro packages for nginx on centos.\n\nThere is no longer any need to get these from EPEL or the\nnginx repos.\n\nChange-Id: I24a031b5e14359f08a231dfc3429468561d48126\n'}, {'number': 10, 'created': '2022-05-29 17:33:01.000000000', 'files': ['tasks/repo_install.yml', 'defaults/main.yml', 'releasenotes/notes/drop-nginx-repo-e0a6ab0107e09e94.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/e31bee556cbead847f48db631268b1e404449ecd', 'message': 'Use distro packages for nginx on centos.\n\nThere is no longer any need to get these from EPEL or the\nnginx repos.\n\nChange-Id: I24a031b5e14359f08a231dfc3429468561d48126\n'}]",6,841619,e31bee556cbead847f48db631268b1e404449ecd,39,4,10,25023,,,0,"Use distro packages for nginx on centos.

There is no longer any need to get these from EPEL or the
nginx repos.

Change-Id: I24a031b5e14359f08a231dfc3429468561d48126
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/19/841619/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/repo_install.yml', 'defaults/main.yml']",2,0debdd03cf3f477173f16f901946e4f133b191eb,osa/centos-9, ,"## Centos NGINX repository options repo_centos_nginx_mirror: ""{{ centos_nginx_mirror | default('http://nginx.org/packages/centos/$releasever/$basearch') }}"" repo_centos_nginx_key: ""{{ centos_nginx_key | default('http://nginx.org/keys/nginx_signing.key') }}"" ",2,19
openstack%2Fopenstack-ansible-rabbitmq_server~master~Ie291b079c4f10949ad63f80ebb2bafcc09854ffe,openstack/openstack-ansible-rabbitmq_server,master,Ie291b079c4f10949ad63f80ebb2bafcc09854ffe,Update RabbitMQ version to 3.10,MERGED,2022-05-28 05:45:55.000000000,2022-05-30 09:19:08.000000000,2022-05-30 09:17:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-28 05:45:55.000000000', 'files': ['vars/redhat.yml', 'vars/debian-11.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/bfaeecc548d64f647a7d522889415c65948df483', 'message': 'Update RabbitMQ version to 3.10\n\nChange-Id: Ie291b079c4f10949ad63f80ebb2bafcc09854ffe\n'}]",0,843705,bfaeecc548d64f647a7d522889415c65948df483,8,3,1,28619,,,0,"Update RabbitMQ version to 3.10

Change-Id: Ie291b079c4f10949ad63f80ebb2bafcc09854ffe
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/05/843705/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian-11.yml', 'vars/debian.yml']",3,bfaeecc548d64f647a7d522889415c65948df483,,"_rabbitmq_package_version: ""3.10.2-1""","_rabbitmq_package_version: ""3.9.16-1""",4,4
openstack%2Fansible-role-pki~master~I0eeadb687b4fa6c5392951581dfbdf6b0db574f7,openstack/ansible-role-pki,master,I0eeadb687b4fa6c5392951581dfbdf6b0db574f7,Allow to provide passphrase for keys,MERGED,2022-04-20 11:32:14.000000000,2022-05-30 09:14:32.000000000,2022-05-30 09:13:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-04-20 11:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/2236de6292cada5ad9a39a97730d8a0c2f5c8a1a', 'message': 'Allow to provide passphrase for keys\n\nIn order to provide more security, allow to define key passphrases\nwhile generating CA or certificate keys.\nThis can be a requirement or highly anticipated option for some systems.\n\nChange-Id: I0eeadb687b4fa6c5392951581dfbdf6b0db574f7\n'}, {'number': 2, 'created': '2022-04-22 11:27:39.000000000', 'files': ['tasks/standalone/create_ca.yml', 'tasks/standalone/create_cert.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/1a419a3f892b97f44dd912cfc20d6bb38d685bd3', 'message': 'Allow to provide passphrase for keys\n\nIn order to provide more security, allow to define key passphrases\nwhile generating CA or certificate keys.\nThis can be a requirement or highly anticipated option for some systems.\n\nChange-Id: I0eeadb687b4fa6c5392951581dfbdf6b0db574f7\n'}]",0,838713,1a419a3f892b97f44dd912cfc20d6bb38d685bd3,13,4,2,28619,,,0,"Allow to provide passphrase for keys

In order to provide more security, allow to define key passphrases
while generating CA or certificate keys.
This can be a requirement or highly anticipated option for some systems.

Change-Id: I0eeadb687b4fa6c5392951581dfbdf6b0db574f7
",git fetch https://review.opendev.org/openstack/ansible-role-pki refs/changes/13/838713/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/standalone/create_ca.yml', 'tasks/standalone/create_cert.yml']",2,2236de6292cada5ad9a39a97730d8a0c2f5c8a1a,pki/passphrase," passphrase: ""{{ cert.key_passphrase | default(omit) }}"" privatekey_passphrase: ""{{ cert.key_passphrase | default(omit) }}"" ownca_privatekey_passphrase: ""{{ cert.ownca_key_passphrase | default(omit) }}""",,7,0
openstack%2Fskyline-console~master~I0502a2043361a57b39c5804e74a443c01b920e62,openstack/skyline-console,master,I0502a2043361a57b39c5804e74a443c01b920e62,Add Trove UI to Skyline,MERGED,2022-03-28 10:45:21.000000000,2022-05-30 08:57:17.000000000,2022-04-07 05:19:30.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}, {'_account_id': 33689}]","[{'number': 1, 'created': '2022-03-28 10:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/5837f687a42ef4c42f3ef60964827d7d88cb987e', 'message': 'Add Trove UI to Skyline\n\nChange-Id: I0502a2043361a57b39c5804e74a443c01b920e62\n'}, {'number': 2, 'created': '2022-03-28 11:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/b17b33bf3ebe0068e20f5f8e995bb09b50656c05', 'message': 'Add Trove UI to Skyline\n\nChange-Id: I0502a2043361a57b39c5804e74a443c01b920e62\n'}, {'number': 3, 'created': '2022-03-28 13:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/d1a233f684ad73d25256e30e8e2bf63109e1b98f', 'message': 'Add Trove UI to Skyline\n\nChange-Id: I0502a2043361a57b39c5804e74a443c01b920e62\n'}, {'number': 4, 'created': '2022-03-29 13:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/7d32c8670c04efdbc1212df41fcf489010f0938b', 'message': 'Add Trove UI to Skyline\n\nChange-Id: I0502a2043361a57b39c5804e74a443c01b920e62\n'}, {'number': 5, 'created': '2022-03-31 11:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/4315989ee066be9673777f1853088816b72264a0', 'message': 'Add Trove UI to Skyline\n\nChange-Id: I0502a2043361a57b39c5804e74a443c01b920e62\n'}, {'number': 6, 'created': '2022-03-31 12:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/04eb664f4f52e6d6b940b28e2dbe855e13994a76', 'message': 'Add Trove UI to Skyline\n\nChange-Id: I0502a2043361a57b39c5804e74a443c01b920e62\n'}, {'number': 7, 'created': '2022-03-31 12:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/7abe0e8ec86778bf77c69a37df64e499a464b9f0', 'message': 'Add Trove UI to Skyline\n\nChange-Id: I0502a2043361a57b39c5804e74a443c01b920e62\n'}, {'number': 8, 'created': '2022-03-31 14:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/79d8df80406452d7f618e20e5689d4dbdeda7fb8', 'message': 'Add Trove UI to Skyline\n\nChange-Id: I0502a2043361a57b39c5804e74a443c01b920e62\n'}, {'number': 9, 'created': '2022-03-31 15:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/5a6ffd64088b00bd3242506a5bd465834367bcc9', 'message': 'Add Trove UI to Skyline\n\nChange-Id: I0502a2043361a57b39c5804e74a443c01b920e62\n'}, {'number': 10, 'created': '2022-04-02 12:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/536efd13c4c452ccc30d945bd337d006c3f3ebd7', 'message': 'Add Trove UI to Skyline\n\nChange-Id: I0502a2043361a57b39c5804e74a443c01b920e62\n'}, {'number': 11, 'created': '2022-04-06 07:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/ceb2e8e701c14db3b5e8f71d98f0e1fad2cf33a5', 'message': 'Add Trove UI to Skyline\n\nChange-Id: I0502a2043361a57b39c5804e74a443c01b920e62\n'}, {'number': 12, 'created': '2022-04-06 08:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/63825ed6456e4cdeb716f385efa975e6318641a7', 'message': 'Add Trove UI to Skyline\n\nChange-Id: I0502a2043361a57b39c5804e74a443c01b920e62\n'}, {'number': 13, 'created': '2022-04-06 08:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/16aaa444bd781e4d0549d16976856e133c0ee64f', 'message': 'Add Trove UI to Skyline\n\nChange-Id: I0502a2043361a57b39c5804e74a443c01b920e62\n'}, {'number': 14, 'created': '2022-04-06 11:00:49.000000000', 'files': ['src/pages/database/containers/Configurations/index.jsx', 'src/pages/database/containers/Instances/actions/Delete.jsx', 'src/pages/database/containers/Backups/actions/Create.jsx', 'src/pages/database/containers/Instances/Detail/Logs.jsx', 'src/pages/database/containers/Backups/Detail/BaseDetail.jsx', 'src/pages/database/containers/Instances/Detail/UserAction.jsx', 'src/pages/database/containers/Instances/Detail/Users.jsx', 'src/stores/trove/instanceBackups.js', 'src/pages/basic/routes/index.js', 'src/pages/database/containers/Instances/Detail/BaseDetail.jsx', 'src/pages/database/containers/Backups/Detail/index.jsx', 'src/pages/database/containers/Instances/index.jsx', 'src/pages/database/containers/Instances/Detail/DatabaseDelete.jsx', 'src/pages/database/containers/Instances/actions/StepCreate/StepAdvanced/index.jsx', 'src/stores/trove/instances.js', 'src/pages/database/containers/Instances/Detail/Defaults.jsx', 'src/pages/database/containers/Configurations/Detail/index.jsx', 'src/pages/database/containers/Configurations/Detail/Values.jsx', 'src/pages/database/containers/Instances/actions/StepCreate/index.jsx', 'src/pages/database/containers/Instances/Detail/DatabaseAction.jsx', 'src/pages/database/containers/Configurations/Detail/BaseDetail.jsx', 'src/stores/trove/configurations.js', 'src/layouts/menu.jsx', 'src/pages/database/containers/Backups/actions/Delete.jsx', 'src/pages/database/containers/Configurations/Detail/Instances.jsx', 'src/pages/database/containers/Instances/actions/index.jsx', 'src/client/client/constants.js', 'src/pages/database/containers/Instances/Detail/UserDelete.jsx', 'src/pages/database/containers/Configurations/actions/index.jsx', 'src/stores/trove/instancesLogs.js', 'src/stores/trove/backups.js', 'src/client/trove/index.js', 'src/pages/database/containers/Instances/Detail/Backups.jsx', 'src/pages/database/containers/Instances/actions/StepCreate/StepNetworking/index.jsx', 'src/pages/database/containers/Backups/actions/index.jsx', 'src/pages/database/containers/Instances/actions/StepCreate/StepInitializeDatabases/index.jsx', 'src/pages/database/containers/Instances/Detail/Databases.jsx', 'src/pages/database/containers/Instances/Detail/index.jsx', 'src/client/index.js', 'src/pages/database/App.jsx', 'src/pages/database/containers/Instances/actions/StepCreate/StepDetails/index.jsx', 'src/pages/database/containers/Backups/index.jsx', 'src/stores/trove/instances-user.js', 'src/pages/database/containers/Configurations/actions/Delete.jsx', 'src/pages/database/routes/index.jsx', 'src/stores/trove/instances-database.js', 'src/pages/database/containers/Configurations/actions/Create.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/b3966843f8b7f57b386797867b1af54d26a8e2d9', 'message': 'Add Trove UI to Skyline\n\nChange-Id: I0502a2043361a57b39c5804e74a443c01b920e62\n'}]",261,835436,b3966843f8b7f57b386797867b1af54d26a8e2d9,50,3,14,34671,,,0,"Add Trove UI to Skyline

Change-Id: I0502a2043361a57b39c5804e74a443c01b920e62
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/36/835436/7 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/database/containers/Configurations/index.jsx', 'src/pages/database/containers/Instances/Instances/Detail/Logs.jsx', 'src/pages/database/containers/Instances/actions/Delete.jsx', 'src/pages/database/containers/Backups/actions/Create.jsx', 'src/stores/trove/instanceBackups.js', 'src/pages/basic/routes/index.js', 'src/pages/database/containers/Instances/Instances/Detail/DatabaseAction.jsx', 'src/pages/database/containers/Instances/index.jsx', 'src/pages/database/containers/Instances/actions/StepCreate/StepAdvanced/index.jsx', 'src/stores/trove/instances.js', 'src/pages/database/containers/Configurations/Configurations/Detail/Values.jsx', 'src/pages/database/containers/Instances/actions/StepCreate/index.jsx', 'src/pages/database/containers/Configurations/Configurations/Detail/Instances.jsx', 'src/stores/trove/configurations.js', 'src/pages/database/containers/Backups/Backups/Detail/index.jsx', 'src/pages/database/containers/Instances/Instances/Detail/Backups.jsx', 'src/layouts/menu.jsx', 'src/pages/database/containers/Instances/actions/index.jsx', 'src/client/client/constants.js', 'src/pages/database/containers/Configurations/actions/index.jsx', 'src/pages/database/containers/Instances/Instances/Detail/Users.jsx', 'src/pages/database/containers/Configurations/Configurations/Detail/index.jsx', 'src/stores/trove/instancesLogs.js', 'src/pages/database/containers/Instances/Instances/Detail/BaseDetail.jsx', 'src/pages/database/containers/Instances/Instances/Detail/DatabaseDelete.jsx', 'src/stores/trove/backups.js', 'src/pages/database/containers/Instances/Instances/Detail/Defaults.jsx', 'src/client/trove/index.js', 'src/pages/database/containers/Backups/Backups/Detail/BaseDetail.jsx', 'src/pages/database/containers/Instances/actions/StepCreate/StepNetworking/index.jsx', 'src/pages/database/containers/Backups/actions/index.jsx', 'src/pages/database/containers/Instances/actions/StepCreate/StepInitializeDatabases/index.jsx', 'src/pages/database/containers/Instances/Instances/Detail/Databases.jsx', 'src/client/index.js', 'src/pages/database/App.jsx', 'src/pages/database/containers/Instances/actions/StepCreate/StepDetails/index.jsx', 'src/pages/database/containers/Backups/index.jsx', 'src/stores/trove/instances-user.js', 'src/pages/database/containers/Instances/Instances/Detail/UserDelete.jsx', 'src/pages/database/containers/Instances/Instances/Detail/index.jsx', 'src/pages/database/containers/Configurations/Configurations/Detail/BaseDetail.jsx', 'src/pages/database/containers/Configurations/actions/Delete.jsx', 'src/pages/database/routes/index.jsx', 'src/stores/trove/instances-database.js', 'src/pages/database/containers/Instances/Instances/Detail/UserAction.jsx', 'src/pages/database/containers/Configurations/actions/Create.jsx']",46,5837f687a42ef4c42f3ef60964827d7d88cb987e,,"// Copyright 2021 99cloud // // Licensed under the Apache License, Version 2.0 (the ""License""); // you may not use this file except in compliance with the License. // You may obtain a copy of the License at // // http://www.apache.org/licenses/LICENSE-2.0 // // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an ""AS IS"" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. // See the License for the specific language governing permissions and // limitations under the License. import { ModalAction } from ""@/containers/Action""; import { PlayCircleOutlined } from ""@ant-design/icons""; import { inject, observer } from ""mobx-react""; import React from ""react""; import globalInstancesStore from ""stores/trove/instances""; import globalConfigurationsStore from ""stores/trove/configurations""; import { toJS } from 'mobx'; @inject('rootStore') @observer export default class Create extends ModalAction { init() { this.store = globalConfigurationsStore; this.state = { datastoreType: """" } this.getDatastores(); } static id = ""create-configurations""; static title = t(""Create Configurations""); static buttonText = <React.Fragment> <PlayCircleOutlined /> {t('Create Configurations')} </React.Fragment>; static get modalSize() { return ""middle""; } get name() { return t(""Create Configurations""); } static policy = ""database:configuration:create""; static allowed() { return Promise.resolve(true); } get listInstanceName() { return (globalInstancesStore.list.data || []) .map((it) => ({ value: it.id, label: it.name, })); } async getDatastores() { await globalInstancesStore.listDatastores(); } get datastores() { return (globalInstancesStore.dataList || []).map((it) => ({ label: it.name, value: it.name, originData: toJS(it), })); } onChangeDatastoresTypeChange = (value) => { this.setState({ datastoreType: value }); this.resetFormValue([""datastore_version""]); } get datastoresVersion() { var dizi = (this.datastores).filter((item) => item.label == this.state.datastoreType) .map((it) => { return it.originData.versions.map((e) => ({ label: e.name, value: e.name })) }) return dizi[0]; } get formItems() { return [ { name: ""name"", label: t(""Name""), type: ""input"", required: true }, { name: ""description"", label: t(""Description""), type: ""input"" }, { name: ""datastore_type"", label: t(""Datastore Type""), type: ""select"", options: this.datastores, onChange: (value) => { this.onChangeDatastoresTypeChange(value) }, required: true, tip: t(""Type of datastore"") }, { name: ""datastore_version"", label: t(""Datastore Version""), type: ""select"", options: this.datastoresVersion, required: true, tip: t(""Version of datastore"") }, ] } onSubmit = (values) => { return this.store.create({ configuration: { description: values.description, datastore: { type: values.datastore_type, version: values.datastore_version, }, name: values.name, values: { connect_timeout: 200 } } }) }; }",,2706,0
openstack%2Fci-log-processing~master~I475e12318f25f2b4c390e6a6103a36daab2444e4,openstack/ci-log-processing,master,I475e12318f25f2b4c390e6a6103a36daab2444e4,Change 0.0.0.0 address to 127.0.0.1; sync security plugin once again,MERGED,2022-05-27 08:11:35.000000000,2022-05-30 08:48:20.000000000,2022-05-30 08:47:03.000000000,"[{'_account_id': 6889}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9311}, {'_account_id': 20676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 08:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/c4dc1abbe4c7f07188e0a1ae9ce8adcfa74983d4', 'message': 'DNM Checking job gearman job failure\n\nChange-Id: I475e12318f25f2b4c390e6a6103a36daab2444e4\n'}, {'number': 2, 'created': '2022-05-27 08:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/964c196eae3bd5571271c79bfa45d91d8e89f240', 'message': 'DNM Checking job gearman job failure\n\nChange-Id: I475e12318f25f2b4c390e6a6103a36daab2444e4\n'}, {'number': 3, 'created': '2022-05-27 09:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/261093e6e6e855a62b5a742b685386c8dd0c5dd9', 'message': 'DNM Checking job gearman job failure\n\nChange-Id: I475e12318f25f2b4c390e6a6103a36daab2444e4\n'}, {'number': 4, 'created': '2022-05-27 09:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/9464196d0f1ea744e486f8888baa6fe71bf67074', 'message': 'DNM Checking job gearman job failure\n\nChange-Id: I475e12318f25f2b4c390e6a6103a36daab2444e4\n'}, {'number': 5, 'created': '2022-05-27 10:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/f0bf94979b10714a745504684de37cb547b93469', 'message': 'DNM Checking job gearman job failure\n\nChange-Id: I475e12318f25f2b4c390e6a6103a36daab2444e4\n'}, {'number': 6, 'created': '2022-05-27 11:11:18.000000000', 'files': ['ansible/roles/check-services/tasks/download.yml', 'ansible/roles/check-services/tasks/main.yml', 'ansible/roles/check-services/templates/logstash-index.conf.j2'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/bf70996cd67ef81c46f8943591a9218136d1eb51', 'message': 'Change 0.0.0.0 address to 127.0.0.1; sync security plugin once again\n\nOn some host on Zuul CI gates, tests does not pass because of\nwrong configured security plugin.\n\nChange-Id: I475e12318f25f2b4c390e6a6103a36daab2444e4\n'}]",2,843578,bf70996cd67ef81c46f8943591a9218136d1eb51,20,6,6,20676,,,0,"Change 0.0.0.0 address to 127.0.0.1; sync security plugin once again

On some host on Zuul CI gates, tests does not pass because of
wrong configured security plugin.

Change-Id: I475e12318f25f2b4c390e6a6103a36daab2444e4
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/78/843578/6 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/check-services/tasks/main.yml'],1,c4dc1abbe4c7f07188e0a1ae9ce8adcfa74983d4,, - name: Dump journalctl shell: journalctl > /tmp/journal - name: Read journal shell: cat /tmp/journal,,6,0
openstack%2Ftacker~master~Ia22922d18f7a474d159a2be0c724bbd81f430056,openstack/tacker,master,Ia22922d18f7a474d159a2be0c724bbd81f430056,(WIP) Fix usage of deprecated context.user,ABANDONED,2022-05-28 15:58:20.000000000,2022-05-30 08:24:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-28 15:58:20.000000000', 'files': ['tacker/tests/unit/test_auth.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/35ec2f0b2d8d7fd5d1f472fbc51b8bc6292cab99', 'message': '(WIP) Fix usage of deprecated context.user\n\nChange-Id: Ia22922d18f7a474d159a2be0c724bbd81f430056\n'}]",0,843724,35ec2f0b2d8d7fd5d1f472fbc51b8bc6292cab99,3,1,1,33455,,,0,"(WIP) Fix usage of deprecated context.user

Change-Id: Ia22922d18f7a474d159a2be0c724bbd81f430056
",git fetch https://review.opendev.org/openstack/tacker refs/changes/24/843724/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/tests/unit/test_auth.py'],1,35ec2f0b2d8d7fd5d1f472fbc51b8bc6292cab99,,," self.assertEqual('testuserid', self.context.user)",0,1
openstack%2Fneutron~master~I582b94f3da4cb51364f122510371b2a792f8ec3e,openstack/neutron,master,I582b94f3da4cb51364f122510371b2a792f8ec3e,Address small nitpick from patch 840146,MERGED,2022-05-28 02:45:01.000000000,2022-05-30 07:57:45.000000000,2022-05-30 07:54:12.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-28 02:45:01.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0fba55cc2655edc4eecb2eb54b09b83a871a7e75', 'message': 'Address small nitpick from patch 840146\n\nVery minor changes to address nitpick from patch 840146\n\nChange-Id: I582b94f3da4cb51364f122510371b2a792f8ec3e\n'}]",1,843698,0fba55cc2655edc4eecb2eb54b09b83a871a7e75,13,6,1,34271,,,0,"Address small nitpick from patch 840146

Very minor changes to address nitpick from patch 840146

Change-Id: I582b94f3da4cb51364f122510371b2a792f8ec3e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/843698/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py']",2,0fba55cc2655edc4eecb2eb54b09b83a871a7e75,840146nitpick," elif event in [events.AFTER_CREATE, events.AFTER_DELETE]:"," if event in [events.AFTER_CREATE, events.AFTER_DELETE]:",4,4
openstack%2Fneutron~master~I7e18db7f1fa6b8878c13df09895c993704401815,openstack/neutron,master,I7e18db7f1fa6b8878c13df09895c993704401815,[sqlalchemy-20] Add missing DB contexts in L3 methods,MERGED,2022-05-19 07:50:27.000000000,2022-05-30 07:55:46.000000000,2022-05-30 07:54:07.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-19 07:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e0899b4bb3d68eaa415833b341068f22779c7227', 'message': '[sqlalchemy-20] Add missing DB contexts in L3 methods\n\nThe goal of this series of patches is to make the Neutron code\ncompliant with SQLAlchemy 2.0.\n\nThis patch adds the missing database contexts in the execution of\nsome queries in the L3 code, reported in the following bugs. This\npatch also refactors the ``neutron.db.l3_db`` methods, using the\nmethod decorators instead of the inline context builders.\n\nCloses-Bug: #1974144\nCloses-Bug: #1974142\nRelated-Bug: #1964575\nChange-Id: I7e18db7f1fa6b8878c13df09895c993704401815\n'}, {'number': 2, 'created': '2022-05-27 15:53:18.000000000', 'files': ['neutron/db/l3_dvrscheduler_db.py', 'neutron/db/dvr_mac_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/59973d29c3d9d2defd2003206e138a94090ad4ff', 'message': '[sqlalchemy-20] Add missing DB contexts in L3 methods\n\nThe goal of this series of patches is to make the Neutron code\ncompliant with SQLAlchemy 2.0.\n\nThis patch adds the missing database contexts in the execution of\nsome queries in the L3 code, reported in the following bugs. This\npatch also refactors the ``neutron.db.l3_db`` methods, using the\nmethod decorators instead of the inline context builders.\n\nCloses-Bug: #1974144\nCloses-Bug: #1974142\nRelated-Bug: #1964575\nChange-Id: I7e18db7f1fa6b8878c13df09895c993704401815\n'}]",4,842468,59973d29c3d9d2defd2003206e138a94090ad4ff,21,5,2,16688,,,0,"[sqlalchemy-20] Add missing DB contexts in L3 methods

The goal of this series of patches is to make the Neutron code
compliant with SQLAlchemy 2.0.

This patch adds the missing database contexts in the execution of
some queries in the L3 code, reported in the following bugs. This
patch also refactors the ``neutron.db.l3_db`` methods, using the
method decorators instead of the inline context builders.

Closes-Bug: #1974144
Closes-Bug: #1974142
Related-Bug: #1964575
Change-Id: I7e18db7f1fa6b8878c13df09895c993704401815
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/842468/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvrscheduler_db.py', 'neutron/db/dvr_mac_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/db/l3_db.py']",4,e0899b4bb3d68eaa415833b341068f22779c7227,bug/1974144," @db_api.CONTEXT_READER router_db = self._get_router(context, router_id) old_router = self._make_router_dict(router_db) if data: router_db.update(self._get_stripped_router(data)) registry.publish(resources.ROUTER, events.PRECOMMIT_UPDATE, self, payload=events.DBEventPayload( context, request_body=data, states=(old_router,), resource_id=router_id, desired_state=router_db)) return router_db @db_api.CONTEXT_WRITER def _delete_router_gw_port_db(self, context, router, request_body): router.gw_port = None if router not in context.session: context.session.add(router) try: registry.publish(resources.ROUTER_GATEWAY, events.BEFORE_DELETE, self, payload=events.DBEventPayload( context, states=(router,), request_body=request_body, resource_id=router.id)) except exceptions.CallbackFailure as e: # NOTE(armax): preserve old check's behavior if len(e.errors) == 1: raise e.errors[0].error raise l3_exc.RouterInUse(router_id=router.id, reason=e) @db_api.CONTEXT_READER def _validate_router_port_info(self, context, router, port_id): # check again within transaction to mitigate race port = self._check_router_port(context, port_id, router.id) # Only allow one router port with IPv6 subnets per network id if self._port_has_ipv6_address(port): for existing_port in (rp.port for rp in router.attached_ports): if (existing_port['network_id'] == port['network_id'] and self._port_has_ipv6_address(existing_port)): msg = _(""Cannot have multiple router ports with the "" ""same network id if both contain IPv6 "" ""subnets. Existing port %(p)s has IPv6 "" ""subnet(s) and network id %(nid)s"") raise n_exc.BadRequest(resource='router', msg=msg % { 'p': existing_port['id'], 'nid': existing_port['network_id']}) fixed_ips = list(port['fixed_ips']) subnets = [] for fixed_ip in fixed_ips: subnet = self._core_plugin.get_subnet(context, fixed_ip['subnet_id']) subnets.append(subnet) if subnets: self._check_for_dup_router_subnets(context, router, port['network_id'], subnets) # Keep the restriction against multiple IPv4 subnets if len([s for s in subnets if s['ip_version'] == 4]) > 1: msg = _(""Cannot have multiple "" ""IPv4 subnets on router port"") raise n_exc.BadRequest(resource='router', msg=msg) self._validate_port_in_range_or_admin(context, subnets, port) return port, subnets with db_api.CONTEXT_WRITER.using(context): query = context.session.query(models_v2.Port.device_id).filter_by( network_id=network_id, device_owner=DEVICE_OWNER_ROUTER_GW) query = query.join(models_v2.Port.fixed_ips).filter( models_v2.IPAllocation.subnet_id == subnet_id) router_ids = set(port.device_id for port in query)"," with db_api.CONTEXT_WRITER.using(context): router_db = self._get_router(context, router_id) old_router = self._make_router_dict(router_db) if data: router_db.update(self._get_stripped_router(data)) registry.publish(resources.ROUTER, events.PRECOMMIT_UPDATE, self, payload=events.DBEventPayload( context, request_body=data, states=(old_router,), resource_id=router_id, desired_state=router_db)) return router_db def _delete_router_gw_port_db(self, context, router, request_body): with db_api.CONTEXT_WRITER.using(context): router.gw_port = None if router not in context.session: context.session.add(router) try: registry.publish(resources.ROUTER_GATEWAY, events.BEFORE_DELETE, self, payload=events.DBEventPayload( context, states=(router,), request_body=request_body, resource_id=router.id)) except exceptions.CallbackFailure as e: # NOTE(armax): preserve old check's behavior if len(e.errors) == 1: raise e.errors[0].error raise l3_exc.RouterInUse(router_id=router.id, reason=e) def _validate_router_port_info(self, context, router, port_id): with db_api.CONTEXT_READER.using(context): # check again within transaction to mitigate race port = self._check_router_port(context, port_id, router.id) # Only allow one router port with IPv6 subnets per network id if self._port_has_ipv6_address(port): for existing_port in (rp.port for rp in router.attached_ports): if (existing_port['network_id'] == port['network_id'] and self._port_has_ipv6_address(existing_port)): msg = _(""Cannot have multiple router ports with the "" ""same network id if both contain IPv6 "" ""subnets. Existing port %(p)s has IPv6 "" ""subnet(s) and network id %(nid)s"") raise n_exc.BadRequest(resource='router', msg=msg % { 'p': existing_port['id'], 'nid': existing_port['network_id']}) fixed_ips = list(port['fixed_ips']) subnets = [] for fixed_ip in fixed_ips: subnet = self._core_plugin.get_subnet(context, fixed_ip['subnet_id']) subnets.append(subnet) if subnets: self._check_for_dup_router_subnets(context, router, port['network_id'], subnets) # Keep the restriction against multiple IPv4 subnets if len([s for s in subnets if s['ip_version'] == 4]) > 1: msg = _(""Cannot have multiple "" ""IPv4 subnets on router port"") raise n_exc.BadRequest(resource='router', msg=msg) self._validate_port_in_range_or_admin(context, subnets, port) return port, subnets query = context.session.query(models_v2.Port.device_id).filter_by( network_id=network_id, device_owner=DEVICE_OWNER_ROUTER_GW) query = query.join(models_v2.Port.fixed_ips).filter( models_v2.IPAllocation.subnet_id == subnet_id) router_ids = set(port.device_id for port in query)",78,70
openstack%2Fneutron-lib~master~If80cf13417dca40de127fbac52ebaa8169be9422,openstack/neutron-lib,master,If80cf13417dca40de127fbac52ebaa8169be9422,Introduce new bgp_associations API definition,MERGED,2021-05-24 05:07:50.000000000,2022-05-30 07:44:08.000000000,2021-08-19 10:37:53.000000000,"[{'_account_id': 8313}, {'_account_id': 9361}, {'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 33623}]","[{'number': 1, 'created': '2021-05-24 05:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/994540299f9060750db7fb3b55c2150da55b134e', 'message': 'API changes to support router association to BGP speaker\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 2, 'created': '2021-05-28 05:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/317413b3cb16a531b97e23bda72f1db8f51edc29', 'message': 'API changes to support router association to BGP speaker\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 3, 'created': '2021-05-28 05:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/0578b71216c377a399290410b049def79d775e83', 'message': 'API changes to support router association to BGP speaker\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 4, 'created': '2021-05-28 07:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/30d9eb5bf8ac2f665117e7c4e0b87c633ba01bf7', 'message': 'API changes to support router association to BGP speaker\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 5, 'created': '2021-05-31 10:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/8de05e1b04c54c278958a50514822949b917e0bc', 'message': 'API changes to support router association to BGP speaker\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 6, 'created': '2021-06-02 06:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2572b5577e96fd169cb06270123bb8ca005e07a9', 'message': 'API changes to support router association to BGP speaker\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 7, 'created': '2021-06-04 10:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/9cbb8435e699229c036867cb4601d0f26b4b4fa4', 'message': 'API changes to support router association to BGP speaker\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 8, 'created': '2021-07-07 10:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/403c7a06495ae926fe98ecb4027fdda30fddf3ef', 'message': 'Introduce new bgp_associations API definition\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 9, 'created': '2021-07-07 10:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/294cecf4bdb46f74a8645afd79f94e250936444c', 'message': 'Introduce new bgp_associations API definition\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 10, 'created': '2021-07-08 05:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/0db9cc74d7252c01d776c3d387f4f3c8c6fa270f', 'message': 'Introduce new bgp_associations API definition\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 11, 'created': '2021-07-15 07:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/75dab3703c6f17cfce7237c54bc059d077d9a5b5', 'message': 'Introduce new bgp_associations API definition\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 12, 'created': '2021-07-15 10:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/33c9cbfac127c335cb6136a0da9d24f68f7b7c42', 'message': 'Introduce new bgp_associations API definition\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 13, 'created': '2021-07-16 05:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/0e486b4c86680909b70a628284b04f07e313e0e6', 'message': 'Introduce new bgp_associations API definition\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 14, 'created': '2021-07-27 04:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a3f17d6e614edf4eb7a32bbd9a7e136bfa9a02ce', 'message': 'Introduce new bgp_associations API definition\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 15, 'created': '2021-08-02 09:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/69d442da83b7609a55b99b424941aeffb3fbfd01', 'message': 'Introduce new bgp_associations API definition\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 16, 'created': '2021-08-03 04:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/190e7e334180132e5b1932a096169f7b21e7232a', 'message': 'Introduce new bgp_associations API definition\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 17, 'created': '2021-08-04 04:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/09758810c48a6ef2ca97e5719e7b225af1da5c3c', 'message': 'Introduce new bgp_associations API definition\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 18, 'created': '2021-08-04 10:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/941feb9f4cdc269086d4c7b97ff5a2b81fdf5261', 'message': 'Introduce new bgp_associations API definition\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 19, 'created': '2021-08-06 04:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1fe6c2093687523e65623c479943e2fb807fe14b', 'message': 'Introduce new bgp_associations API definition\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 20, 'created': '2021-08-06 10:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/db91ebd4c5c99739972a56e6967319b747d828ee', 'message': 'Introduce new bgp_associations API definition\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 21, 'created': '2021-08-11 05:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/be5918da956f2d4af9e8ed132fc72fb95fe89ca9', 'message': 'Introduce new bgp_associations API definition\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 22, 'created': '2021-08-12 05:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ef135f7d5a3cf85da12741ef077b54d2d200622e', 'message': 'Introduce new bgp_associations API definition\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 23, 'created': '2021-08-17 13:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a7dad4aaf65991fcb79d53b3c78a18eb3966b1ab', 'message': 'Introduce new bgp_associations API definition\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 24, 'created': '2021-08-17 14:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/32c0064a9fa201e0a4c07d8bf611ff426338b39b', 'message': 'Introduce new bgp_associations API definition\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 25, 'created': '2021-08-18 06:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f257fd0d595bd42fd0a3147c98d47a023e5a94c4', 'message': 'Introduce new bgp_associations API definition\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}, {'number': 26, 'created': '2021-08-18 07:54:53.000000000', 'files': ['api-ref/source/v2/samples/bgp/bgp_speaker_create_peer_association-request.json', 'neutron_lib/tests/unit/api/definitions/test_bgp_associations.py', 'api-ref/source/v2/samples/bgp/bgp_speaker_list_all_routes-response.json', 'api-ref/source/v2/samples/bgp/bgp_speaker_update_router_association-response.json', 'api-ref/source/v2/samples/bgp/bgp_speaker_show_router_association-response.json', 'neutron_lib/api/definitions/__init__.py', 'api-ref/source/v2/samples/bgp/bgp_speaker_list_all_router_associations-response.json', 'releasenotes/notes/bgp_associations_api_extension-32dba9a59b4aa076.yaml', 'api-ref/source/v2/samples/bgp/bgp_speaker_list_all_peer_associations-response.json', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/bgp_speaker.inc', 'api-ref/source/v2/samples/bgp/bgp_speaker_update_router_association-request.json', 'api-ref/source/v2/samples/bgp/bgp_speaker_create_router_association-request.json', 'api-ref/source/v2/samples/bgp/bgp_speaker_show_peer_association-response.json', 'api-ref/source/v2/samples/bgp/bgp_speaker_create_peer_association-response.json', 'api-ref/source/v2/samples/bgp/bgp_speaker_create_router_association-response.json', 'neutron_lib/api/definitions/bgp_associations.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6df74e063dc239e820df72f39b20a2165d6b1e88', 'message': 'Introduce new bgp_associations API definition\n\nRelated-Bug: #1921461\nRelated-Change: https://review.opendev.org/783791 (spec)\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: If80cf13417dca40de127fbac52ebaa8169be9422\n'}]",93,792774,6df74e063dc239e820df72f39b20a2165d6b1e88,126,8,26,33273,,,0,"Introduce new bgp_associations API definition

Related-Bug: #1921461
Related-Change: https://review.opendev.org/783791 (spec)

Signed-off-by: Manu B <manubk2020@gmail.com>
Change-Id: If80cf13417dca40de127fbac52ebaa8169be9422
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/74/792774/21 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/definitions/bgp.py'],1,994540299f9060750db7fb3b55c2150da55b134e,bug/1921461," 'add_gateway_router': 'PUT', 'remove_gateway_router': 'PUT', 'get_routes': 'GET',",,3,0
openstack%2Fkolla~stable%2Fvictoria~I6bc8b489a810849744c8bead6b9e350c5d3e36b7,openstack/kolla,stable/victoria,I6bc8b489a810849744c8bead6b9e350c5d3e36b7,Fix Ubuntu image builds,MERGED,2022-05-29 19:23:09.000000000,2022-05-30 07:38:42.000000000,2022-05-30 07:36:44.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-29 19:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/066a4eb083f5d8653fbed83dc540c4e55bddbe07', 'message': 'Fix Ubuntu image builds\n\nRegarding rabbitmq and erlang.\n\nChange-Id: I6bc8b489a810849744c8bead6b9e350c5d3e36b7\n(cherry picked from commit 240b3cf448354bf1a7271f8f81d730e51da856cb)\n'}, {'number': 2, 'created': '2022-05-29 19:25:15.000000000', 'files': ['docker/base/Dockerfile.j2', 'releasenotes/notes/rabbitmq-erlang-cloudsmith-c837bf4a450dd802.yaml', 'kolla/template/repos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ad72543a5d28920e5524eb9fa4a50065d8c5a5b4', 'message': 'Fix Ubuntu image builds\n\nRegarding rabbitmq and erlang.\n\nChange-Id: I6bc8b489a810849744c8bead6b9e350c5d3e36b7\n(cherry picked from commit 240b3cf448354bf1a7271f8f81d730e51da856cb)\n'}]",0,843647,ad72543a5d28920e5524eb9fa4a50065d8c5a5b4,11,3,2,30491,,,0,"Fix Ubuntu image builds

Regarding rabbitmq and erlang.

Change-Id: I6bc8b489a810849744c8bead6b9e350c5d3e36b7
(cherry picked from commit 240b3cf448354bf1a7271f8f81d730e51da856cb)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/47/843647/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'releasenotes/notes/rabbitmq-erlang-cloudsmith-c837bf4a450dd802.yaml', 'kolla/template/repos.yaml']",3,066a4eb083f5d8653fbed83dc540c4e55bddbe07,new-naming-scheme-stable/yoga-stable/xena-stable/wallaby-stable/victoria,"debian: <<<<<<< HEAD (b716b5 Fix local sources of git repositories)======= elasticsearch: ""deb https://artifacts.elastic.co/packages/oss-7.x/apt stable main"" erlang: ""deb https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/deb/debian bullseye main"" >>>>>>> CHANGE (b0517b Fix Ubuntu image builds)<<<<<<< HEAD (b716b5 Fix local sources of git repositories)======= influxdb: ""deb https://repos.influxdata.com/debian bullseye stable"" logstash: ""deb https://artifacts.elastic.co/packages/oss-7.x/apt stable main"" kibana: ""deb https://artifacts.elastic.co/packages/oss-7.x/apt stable main"" mariadb: ""deb http://downloads.mariadb.com/MariaDB/mariadb-10.5/repo/debian bullseye main"" rabbitmq: ""deb https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-server/deb/debian bullseye main"" td-agent: ""deb http://packages.treasuredata.com/4/debian/bullseye bullseye contrib"" >>>>>>> CHANGE (b0517b Fix Ubuntu image builds)<<<<<<< HEAD (b716b5 Fix local sources of git repositories)======= elasticsearch: ""deb https://artifacts.elastic.co/packages/oss-7.x/apt stable main"" erlang: ""deb https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/deb/debian bullseye main"" >>>>>>> CHANGE (b0517b Fix Ubuntu image builds)<<<<<<< HEAD (b716b5 Fix local sources of git repositories)======= influxdb: ""deb https://repos.influxdata.com/debian bullseye stable"" logstash: ""deb https://artifacts.elastic.co/packages/oss-7.x/apt stable main"" kibana: ""deb [arch=amd64] https://artifacts.elastic.co/packages/oss-7.x/apt stable main"" mariadb: ""deb http://downloads.mariadb.com/MariaDB/mariadb-10.5/repo/debian bullseye main"" rabbitmq: ""deb https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-server/deb/debian bullseye main"" td-agent: ""deb http://packages.treasuredata.com/4/debian/bullseye bullseye contrib"" >>>>>>> CHANGE (b0517b Fix Ubuntu image builds)<<<<<<< HEAD (b716b5 Fix local sources of git repositories)======= elasticsearch: ""deb https://artifacts.elastic.co/packages/oss-7.x/apt stable main"" erlang: ""deb https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/deb/ubuntu focal main"" >>>>>>> CHANGE (b0517b Fix Ubuntu image builds) rabbitmq: ""deb https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-server/deb/ubuntu focal main""<<<<<<< HEAD (b716b5 Fix local sources of git repositories)======= elasticsearch: ""deb https://artifacts.elastic.co/packages/oss-7.x/apt stable main"" erlang: ""deb https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/deb/ubuntu focal main"" >>>>>>> CHANGE (b0517b Fix Ubuntu image builds)<<<<<<< HEAD (b716b5 Fix local sources of git repositories)======= logstash: ""deb https://artifacts.elastic.co/packages/oss-7.x/apt stable main"" mariadb: ""deb http://downloads.mariadb.com/MariaDB/mariadb-10.3/repo/ubuntu focal main"" rabbitmq: ""deb https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-server/deb/ubuntu focal main"" >>>>>>> CHANGE (b0517b Fix Ubuntu image builds) rabbitmq: ""deb https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-server/deb/ubuntu focal main""","# NOTE(mnasiadka): Erlang repo - Debian Buster/Bullseye needs to use bionic as per RabbitMQ docs debian: rabbitmq: ""deb https://packagecloud.io/rabbitmq/rabbitmq-server/ubuntu/ focal main"" rabbitmq: ""deb https://packagecloud.io/rabbitmq/rabbitmq-server/ubuntu/ focal main""",62,9
openstack%2Fkolla~stable%2Fussuri~I6bc8b489a810849744c8bead6b9e350c5d3e36b7,openstack/kolla,stable/ussuri,I6bc8b489a810849744c8bead6b9e350c5d3e36b7,Fix Ubuntu image builds,MERGED,2022-05-29 19:25:52.000000000,2022-05-30 07:38:29.000000000,2022-05-30 07:36:47.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-29 19:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8e9e89c21aed87e1da818a080e2350aced464c8a', 'message': 'Fix Ubuntu image builds\n\nRegarding rabbitmq and erlang.\n\nChange-Id: I6bc8b489a810849744c8bead6b9e350c5d3e36b7\n(cherry picked from commit 240b3cf448354bf1a7271f8f81d730e51da856cb)\n'}, {'number': 2, 'created': '2022-05-29 19:27:43.000000000', 'files': ['docker/base/Dockerfile.j2', 'releasenotes/notes/rabbitmq-erlang-cloudsmith-c837bf4a450dd802.yaml', 'kolla/template/repos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d926c35f0f2e33d728d2390b93e6f5cd3d56ecb2', 'message': 'Fix Ubuntu image builds\n\nRegarding rabbitmq and erlang.\n\nChange-Id: I6bc8b489a810849744c8bead6b9e350c5d3e36b7\n(cherry picked from commit 240b3cf448354bf1a7271f8f81d730e51da856cb)\n'}]",0,843648,d926c35f0f2e33d728d2390b93e6f5cd3d56ecb2,11,3,2,30491,,,0,"Fix Ubuntu image builds

Regarding rabbitmq and erlang.

Change-Id: I6bc8b489a810849744c8bead6b9e350c5d3e36b7
(cherry picked from commit 240b3cf448354bf1a7271f8f81d730e51da856cb)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/48/843648/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'releasenotes/notes/rabbitmq-erlang-cloudsmith-c837bf4a450dd802.yaml', 'kolla/template/repos.yaml']",3,8e9e89c21aed87e1da818a080e2350aced464c8a,new-naming-scheme-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri," erlang: ""deb https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/deb/debian buster main""<<<<<<< HEAD (917a7c Fix local sources of git repositories)======= rabbitmq: ""deb https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-server/deb/debian buster main"" td-agent: ""deb http://packages.treasuredata.com/4/debian/buster buster contrib"" >>>>>>> CHANGE (ad7254 Fix Ubuntu image builds) erlang: ""deb https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/deb/debian buster main""<<<<<<< HEAD (917a7c Fix local sources of git repositories)======= rabbitmq: ""deb https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-server/deb/debian buster main"" td-agent: ""deb http://packages.treasuredata.com/4/debian/buster buster contrib"" >>>>>>> CHANGE (ad7254 Fix Ubuntu image builds)<<<<<<< HEAD (917a7c Fix local sources of git repositories)======= erlang: ""deb https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/deb/ubuntu focal main"" >>>>>>> CHANGE (ad7254 Fix Ubuntu image builds)<<<<<<< HEAD (917a7c Fix local sources of git repositories)======= mariadb: ""deb http://downloads.mariadb.com/MariaDB/mariadb-10.3/repo/ubuntu focal main"" qdrouterd: ""deb http://ppa.launchpad.net/qpid/released/ubuntu/ focal main"" rabbitmq: ""deb https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-server/deb/ubuntu focal main"" td-agent: ""deb http://packages.treasuredata.com/4/ubuntu/focal/ focal contrib"" >>>>>>> CHANGE (ad7254 Fix Ubuntu image builds)<<<<<<< HEAD (917a7c Fix local sources of git repositories)======= erlang: ""deb https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/deb/ubuntu focal main"" >>>>>>> CHANGE (ad7254 Fix Ubuntu image builds)<<<<<<< HEAD (917a7c Fix local sources of git repositories)======= rabbitmq: ""deb https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-server/deb/ubuntu focal main"" td-agent: ""deb http://packages.treasuredata.com/4/ubuntu/focal/ focal contrib"" >>>>>>> CHANGE (ad7254 Fix Ubuntu image builds)<<<<<<< HEAD (917a7c Fix local sources of git repositories)======= mariadb: ""deb http://downloads.mariadb.com/MariaDB/mariadb-10.3/repo/ubuntu focal main"" rabbitmq: ""deb https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-server/deb/ubuntu focal main"" >>>>>>> CHANGE (ad7254 Fix Ubuntu image builds)","# NOTE(mnasiadka): Erlang repo - Debian Buster/Bullseye needs to use bionic as per RabbitMQ docs erlang: ""deb http://ppa.launchpad.net/rabbitmq/rabbitmq-erlang/ubuntu bionic main"" erlang: ""deb http://ppa.launchpad.net/rabbitmq/rabbitmq-erlang/ubuntu bionic main""",53,9
openstack%2Fkolla~stable%2Fwallaby~I6bc8b489a810849744c8bead6b9e350c5d3e36b7,openstack/kolla,stable/wallaby,I6bc8b489a810849744c8bead6b9e350c5d3e36b7,Fix Ubuntu image builds,MERGED,2022-05-29 19:15:35.000000000,2022-05-30 07:33:37.000000000,2022-05-30 07:32:26.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-29 19:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f4602611b8c169080bf9779a4e301c82c5efa542', 'message': 'Fix Ubuntu image builds\n\nRegarding rabbitmq and erlang.\n\nChange-Id: I6bc8b489a810849744c8bead6b9e350c5d3e36b7\n(cherry picked from commit 240b3cf448354bf1a7271f8f81d730e51da856cb)\n'}, {'number': 2, 'created': '2022-05-29 19:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a618e6533c5caeb700145c5aeda53de1e10dbda2', 'message': 'Fix Ubuntu image builds\n\nRegarding rabbitmq and erlang.\n\nChange-Id: I6bc8b489a810849744c8bead6b9e350c5d3e36b7\n(cherry picked from commit 240b3cf448354bf1a7271f8f81d730e51da856cb)\n'}, {'number': 3, 'created': '2022-05-29 19:22:53.000000000', 'files': ['docker/base/Dockerfile.j2', 'releasenotes/notes/rabbitmq-erlang-cloudsmith-c837bf4a450dd802.yaml', 'kolla/template/repos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b0517b35627d02fa969c223070a9cf4d6e6a5916', 'message': 'Fix Ubuntu image builds\n\nRegarding rabbitmq and erlang.\n\nChange-Id: I6bc8b489a810849744c8bead6b9e350c5d3e36b7\n(cherry picked from commit 240b3cf448354bf1a7271f8f81d730e51da856cb)\n'}]",0,843646,b0517b35627d02fa969c223070a9cf4d6e6a5916,13,3,3,30491,,,0,"Fix Ubuntu image builds

Regarding rabbitmq and erlang.

Change-Id: I6bc8b489a810849744c8bead6b9e350c5d3e36b7
(cherry picked from commit 240b3cf448354bf1a7271f8f81d730e51da856cb)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/46/843646/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'releasenotes/notes/rabbitmq-erlang-cloudsmith-c837bf4a450dd802.yaml', 'kolla/template/repos.yaml']",3,f4602611b8c169080bf9779a4e301c82c5efa542,new-naming-scheme-stable/yoga-stable/xena-stable/wallaby,"<<<<<<< HEAD (8ffdee Fix local sources of git repositories)======= elasticsearch: url: ""https://artifacts.elastic.co/packages/oss-7.x/apt"" suite: ""stable"" component: ""main"" gpg_key: ""elasticsearch.asc"" erlang: url: ""https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/deb/debian"" suite: ""bullseye"" component: ""main"" gpg_key: ""erlang.gpg"" grafana: url: ""https://packages.grafana.com/oss/deb"" suite: ""stable"" component: ""main"" gpg_key: ""grafana.asc"" influxdb: url: ""https://repos.influxdata.com/debian"" suite: ""bullseye"" component: ""stable"" gpg_key: ""influxdb.asc"" logstash: url: ""https://artifacts.elastic.co/packages/oss-7.x/apt"" suite: ""stable"" component: ""main"" gpg_key: ""elasticsearch.asc"" kibana: url: ""https://artifacts.elastic.co/packages/oss-7.x/apt"" suite: ""stable"" component: ""main"" gpg_key: ""elasticsearch.asc"" mariadb: url: ""http://downloads.mariadb.com/MariaDB/mariadb-10.5/repo/debian"" suite: ""bullseye"" component: ""main"" gpg_key: ""mariadb.gpg"" rabbitmq: url: ""https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-server/deb/debian"" suite: ""bullseye"" component: ""main"" gpg_key: ""rabbitmq.gpg"" td-agent: url: ""http://packages.treasuredata.com/4/debian/bullseye"" suite: ""bullseye"" component: ""contrib"" gpg_key: ""treasuredata.asc"" proxysql: url: ""https://repo.proxysql.com/ProxySQL/proxysql-2.3.x/bullseye/"" suite: ""./"" component: """" gpg_key: ""proxysql.asc"" >>>>>>> CHANGE (6298c0 Fix Ubuntu image builds)<<<<<<< HEAD (8ffdee Fix local sources of git repositories)======= elasticsearch: url: ""https://artifacts.elastic.co/packages/oss-7.x/apt"" suite: ""stable"" component: ""main"" gpg_key: ""elasticsearch.asc"" erlang: url: ""https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/deb/debian"" suite: ""bullseye"" component: ""main"" gpg_key: ""erlang.gpg"" grafana: url: ""https://packages.grafana.com/oss/deb"" suite: ""stable"" component: ""main"" gpg_key: ""grafana.asc"" influxdb: url: ""https://repos.influxdata.com/debian"" suite: ""bullseye"" component: ""stable"" gpg_key: ""influxdb.asc"" logstash: url: ""https://artifacts.elastic.co/packages/oss-7.x/apt"" suite: ""stable"" component: ""main"" gpg_key: ""elasticsearch.asc"" kibana: url: ""https://artifacts.elastic.co/packages/oss-7.x/apt"" suite: ""stable"" component: ""main"" gpg_key: ""elasticsearch.asc"" mariadb: url: ""http://downloads.mariadb.com/MariaDB/mariadb-10.5/repo/debian"" suite: ""bullseye"" component: ""main"" gpg_key: ""mariadb.gpg"" rabbitmq: url: ""https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-server/deb/debian"" suite: ""bullseye"" component: ""main"" gpg_key: ""rabbitmq.gpg"" td-agent: url: ""http://packages.treasuredata.com/4/debian/bullseye"" suite: ""bullseye"" component: ""contrib"" gpg_key: ""treasuredata.asc"" proxysql: url: ""https://repo.proxysql.com/ProxySQL/proxysql-2.3.x/bullseye/"" suite: ""./"" component: """" gpg_key: ""proxysql.asc"" >>>>>>> CHANGE (6298c0 Fix Ubuntu image builds)<<<<<<< HEAD (8ffdee Fix local sources of git repositories)======= elasticsearch: url: ""https://artifacts.elastic.co/packages/oss-7.x/apt"" suite: ""stable"" component: ""main"" gpg_key: ""elasticsearch.asc"" erlang: url: ""https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/deb/ubuntu"" suite: ""focal"" component: ""main"" gpg_key: ""erlang.gpg"" grafana: url: ""https://packages.grafana.com/oss/deb"" suite: ""stable"" component: ""main"" gpg_key: ""grafana.asc"" haproxy: url: ""http://ppa.launchpad.net/vbernat/haproxy-2.2/ubuntu"" suite: ""focal"" component: ""main"" gpg_key: ""haproxy.gpg"" influxdb: url: ""https://repos.influxdata.com/ubuntu"" suite: ""focal"" component: ""stable"" gpg_key: ""influxdb.asc"" logstash: url: ""https://artifacts.elastic.co/packages/oss-7.x/apt"" suite: ""stable"" component: ""main"" gpg_key: ""elasticsearch.asc"" kibana: url: ""https://artifacts.elastic.co/packages/oss-7.x/apt"" suite: ""stable"" component: ""main"" gpg_key: ""elasticsearch.asc"" mariadb: url: ""http://downloads.mariadb.com/MariaDB/mariadb-10.5/repo/ubuntu"" suite: ""focal"" component: ""main"" gpg_key: ""mariadb.gpg"" rabbitmq: url: ""https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-server/deb/ubuntu"" suite: ""focal"" component: ""main"" gpg_key: ""rabbitmq.gpg"" td-agent: url: ""http://packages.treasuredata.com/4/ubuntu/focal/"" suite: ""focal"" component: ""contrib"" gpg_key: ""treasuredata.asc"" proxysql: url: ""https://repo.proxysql.com/ProxySQL/proxysql-2.3.x/focal/"" suite: ""./"" component: """" gpg_key: ""proxysql.asc"" >>>>>>> CHANGE (6298c0 Fix Ubuntu image builds)<<<<<<< HEAD (8ffdee Fix local sources of git repositories)======= elasticsearch: url: ""https://artifacts.elastic.co/packages/oss-7.x/apt"" suite: ""stable"" component: ""main"" gpg_key: ""elasticsearch.asc"" erlang: url: ""https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/deb/ubuntu"" suite: ""focal"" component: ""main"" gpg_key: ""erlang.gpg"" grafana: url: ""https://packages.grafana.com/oss/deb"" suite: ""stable"" component: ""main"" gpg_key: ""grafana.asc"" haproxy: url: ""http://ppa.launchpad.net/vbernat/haproxy-2.2/ubuntu"" suite: ""focal"" component: ""main"" gpg_key: ""haproxy.gpg"" influxdb: url: ""https://repos.influxdata.com/ubuntu"" suite: ""focal"" component: ""stable"" gpg_key: ""influxdb.asc"" logstash: url: ""https://artifacts.elastic.co/packages/oss-7.x/apt"" suite: ""stable"" component: ""main"" gpg_key: ""elasticsearch.asc"" mariadb: url: ""http://downloads.mariadb.com/MariaDB/mariadb-10.5/repo/ubuntu"" suite: ""focal"" component: ""main"" gpg_key: ""mariadb.gpg"" rabbitmq: url: ""https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-server/deb/ubuntu"" suite: ""focal"" component: ""main"" gpg_key: ""rabbitmq.gpg"" td-agent: url: ""http://packages.treasuredata.com/4/ubuntu/focal/"" suite: ""focal"" component: ""contrib"" gpg_key: ""treasuredata.asc"" proxysql: url: ""https://repo.proxysql.com/ProxySQL/proxysql-2.3.x/focal/"" suite: ""./"" component: """" gpg_key: ""proxysql.asc"" >>>>>>> CHANGE (6298c0 Fix Ubuntu image builds)",,245,0
openstack%2Fkolla~stable%2Fxena~I6bc8b489a810849744c8bead6b9e350c5d3e36b7,openstack/kolla,stable/xena,I6bc8b489a810849744c8bead6b9e350c5d3e36b7,Fix Ubuntu image builds,MERGED,2022-05-29 18:43:50.000000000,2022-05-30 07:33:36.000000000,2022-05-30 07:32:23.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-29 18:43:50.000000000', 'files': ['docker/base/Dockerfile.j2', 'releasenotes/notes/rabbitmq-erlang-cloudsmith-c837bf4a450dd802.yaml', 'kolla/template/repos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6298c0e07324757e97627a206f5467a317de6d97', 'message': 'Fix Ubuntu image builds\n\nRegarding rabbitmq and erlang.\n\nChange-Id: I6bc8b489a810849744c8bead6b9e350c5d3e36b7\n(cherry picked from commit 240b3cf448354bf1a7271f8f81d730e51da856cb)\n'}]",0,843645,6298c0e07324757e97627a206f5467a317de6d97,9,3,1,30491,,,0,"Fix Ubuntu image builds

Regarding rabbitmq and erlang.

Change-Id: I6bc8b489a810849744c8bead6b9e350c5d3e36b7
(cherry picked from commit 240b3cf448354bf1a7271f8f81d730e51da856cb)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/45/843645/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'releasenotes/notes/rabbitmq-erlang-cloudsmith-c837bf4a450dd802.yaml', 'kolla/template/repos.yaml']",3,6298c0e07324757e97627a206f5467a317de6d97,new-naming-scheme-stable/yoga-stable/xena," url: ""https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/deb/debian"" suite: ""bullseye"" url: ""https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-server/deb/debian"" url: ""https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/deb/debian"" suite: ""bullseye"" url: ""https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-server/deb/debian"" url: ""https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/deb/ubuntu"" url: ""https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-server/deb/ubuntu"" url: ""https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/deb/ubuntu"" url: ""https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-server/deb/ubuntu"""," # NOTE(mnasiadka): Erlang repo - Debian Buster/Bullseye needs to use bionic as per RabbitMQ docs url: ""http://ppa.launchpad.net/rabbitmq/rabbitmq-erlang/ubuntu"" suite: ""bionic"" url: ""https://packagecloud.io/rabbitmq/rabbitmq-server/debian/"" # NOTE(mnasiadka): Erlang repo - Debian Buster/Bullseye needs to use bionic as per RabbitMQ docs url: ""http://ppa.launchpad.net/rabbitmq/rabbitmq-erlang/ubuntu"" suite: ""bionic"" url: ""https://packagecloud.io/rabbitmq/rabbitmq-server/debian/"" url: ""http://ppa.launchpad.net/rabbitmq/rabbitmq-erlang/ubuntu"" url: ""https://packagecloud.io/rabbitmq/rabbitmq-server/ubuntu/"" url: ""http://ppa.launchpad.net/rabbitmq/rabbitmq-erlang/ubuntu"" url: ""https://packagecloud.io/rabbitmq/rabbitmq-server/ubuntu/""",22,14
openstack%2Fneutron~stable%2Fwallaby~Id050ad6d95e2c4f3a6eb61a4cd88c9ce6e6dad1a,openstack/neutron,stable/wallaby,Id050ad6d95e2c4f3a6eb61a4cd88c9ce6e6dad1a,"Revert ""Use Port_Binding up column to set Neutron port status""",ABANDONED,2022-03-28 11:07:43.000000000,2022-05-30 07:32:05.000000000,,"[{'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-03-28 11:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aeda014bf5c6bda514548c49632dd9f9e559294e', 'message': 'Revert ""Use Port_Binding up column to set Neutron port status""\n\nThis reverts commit f2ddb6741ead160773076f1092b8bd1487736eae.\n\nReason for revert: https://bugs.launchpad.net/tripleo/+bug/1964940\n\nChange-Id: Id050ad6d95e2c4f3a6eb61a4cd88c9ce6e6dad1a\n'}, {'number': 2, 'created': '2022-03-28 11:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ecca14e9f181350147005c0dc17b07ccb97ea78c', 'message': 'Revert ""Use Port_Binding up column to set Neutron port status""\n\nThis reverts commit f2ddb6741ead160773076f1092b8bd1487736eae.\n\nReason for revert: https://bugs.launchpad.net/tripleo/+bug/1964940\n\nChange-Id: Id050ad6d95e2c4f3a6eb61a4cd88c9ce6e6dad1a\n'}, {'number': 3, 'created': '2022-05-13 14:00:30.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ebc7275493dfa8d7faa542788bd3c070e1f1a33', 'message': 'Revert ""Use Port_Binding up column to set Neutron port status""\n\nThis reverts commit f2ddb6741ead160773076f1092b8bd1487736eae.\n\nReason for revert: https://bugs.launchpad.net/tripleo/+bug/1964940\n\nChange-Id: Id050ad6d95e2c4f3a6eb61a4cd88c9ce6e6dad1a\n'}]",1,835340,7ebc7275493dfa8d7faa542788bd3c070e1f1a33,15,5,3,13861,,,0,"Revert ""Use Port_Binding up column to set Neutron port status""

This reverts commit f2ddb6741ead160773076f1092b8bd1487736eae.

Reason for revert: https://bugs.launchpad.net/tripleo/+bug/1964940

Change-Id: Id050ad6d95e2c4f3a6eb61a4cd88c9ce6e6dad1a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/835340/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/common/ovn/constants.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py']",4,aeda014bf5c6bda514548c49632dd9f9e559294e,wallaby," }class TestPortBindingChassisUpdateEvent(base.BaseTestCase): def setUp(self): super(TestPortBindingChassisUpdateEvent, self).setUp() self.driver = mock.Mock() self.event = ovsdb_monitor.PortBindingChassisUpdateEvent(self.driver) def _test_event(self, event, row, old): if self.event.matches(event, row, old): self.event.run(event, row, old) self.driver.set_port_status_up.assert_called() else: self.driver.set_port_status_up.assert_not_called() def test_event_matches(self): # NOTE(twilson) This primarily tests implementation details. If a # scenario test is written that handles shutting down a compute # node uncleanly and performing a 'host-evacuate', this can be removed pbtable = fakes.FakeOvsdbTable.create_one_ovsdb_table( attrs={'name': 'Port_Binding'}) ovsdb_row = fakes.FakeOvsdbRow.create_one_ovsdb_row self.driver._nb_ovn.lookup.return_value = ovsdb_row(attrs={'up': True}) self._test_event( self.event.ROW_UPDATE, ovsdb_row(attrs={'_table': pbtable, 'chassis': 'one', 'type': '_fake_', 'logical_port': 'foo'}), ovsdb_row(attrs={'_table': pbtable, 'chassis': 'two', 'type': '_fake_'})) self.driver.set_port_status_up = mock.Mock() self.driver.set_port_status_down = mock.Mock() def _test_lsp_helper(self, event, new_row_json, old_row_json=None, table=None): row_uuid = uuidutils.generate_uuid() if not table: table = self.lp_table lp_row = ovs_idl.Row.from_json(self.idl, table, row_uuid, new_row_json) if old_row_json: old_row = ovs_idl.Row.from_json(self.idl, table, row_uuid, old_row_json) else: old_row = None self.idl.notify(event, lp_row, updates=old_row) # Add a STOP EVENT to the queue self.idl.notify_handler.shutdown() # Execute the notifications queued self.idl.notify_handler.notify_loop() def test_lsp_up_create_event(self): row_data = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_create_event(self): row_data = {""up"": False, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_lsp_up_not_set_event(self): row_data = {""up"": ['set', []], ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_unwatch_logical_switch_port_create_events(self): self.idl.unwatch_logical_switch_port_create_events() row_data = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) row_data[""up""] = False self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_post_connect(self): self.idl.post_connect() self.assertIsNone(self.idl._lsp_create_up_event) self.assertIsNone(self.idl._lsp_create_down_event) def test_lsp_up_update_event(self): new_row_json = {""up"": True, ""name"": ""foo-name""} old_row_json = {""up"": False} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_update_event(self): new_row_json = {""up"": False, ""name"": ""foo-name""} old_row_json = {""up"": True} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_lsp_up_update_event_no_old_data(self): new_row_json = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_update_event_no_old_data(self): new_row_json = {""up"": False, ""name"": ""foo-name""} self._test_lsp_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_other_column_update_event(self): new_row_json = {""up"": False, ""name"": ""foo-name"", ""addresses"": [""10.0.0.2""]} old_row_json = {""addresses"": [""10.0.0.3""]} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_notify_other_table(self): new_row_json = {""name"": ""foo-name""} self._test_lsp_helper('create', new_row_json, table=self.idl.tables.get(""Logical_Switch"")) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) self.sb_idl.post_connect() self.chassis_table = self.sb_idl.tables.get('Chassis') self.row_json = { def _test_chassis_helper(self, event, new_row_json, old_row_json=None): table = self.chassis_table def test_chassis_create_event(self): self._test_chassis_helper('create', self.row_json) self._test_chassis_helper('delete', self.row_json) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json) self.row_json['external_ids'][1].append(['foo_field', 'foo_value_new']) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] = '' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] += ',foo_physnet:foo_br' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] = 'foo_physnet:foo_br' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json)"," }, ""Port_Binding"": { ""columns"": { ""logical_port"": {""type"": ""string""}, ""type"": {""type"": ""string""}, ""chassis"": {""type"": ""string""}, ""up"": {""type"": {""key"": ""boolean"", ""min"": 0, ""max"": 1}}}, ""indexes"": [[""logical_port""]], ""isRoot"": True}, sb_helper.register_table('Port_Binding') self.driver.set_port_status_up = mock.Mock() self.driver.set_port_status_down = mock.Mock() self.chassis_row_json = { def _test_helper(self, event, table, new_row_json, old_row_json=None): def _test_chassis_helper(self, event, new_row_json, old_row_json=None, table=None): self.sb_idl.post_connect() self.chassis_table = self.sb_idl.tables.get('Chassis') if not table: table = self.chassis_table self._test_helper(event, table, new_row_json, old_row_json) def test_chassis_create_event(self): self._test_chassis_helper('create', self.chassis_row_json) self._test_chassis_helper('delete', self.chassis_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) self.chassis_row_json['external_ids'][1].append(['foo_field', 'foo_value_new']) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] = '' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] += ',foo_physnet:foo_br' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] = 'foo_physnet:foo_br' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) def _test_port_binding_helper(self, event, new_row_json, old_row_json=None, table=None): self.port_binding_table = self.sb_idl.tables.get('Port_Binding') if not table: table = self.port_binding_table self._test_helper(event, table, new_row_json, old_row_json) def test_port_binding_up_create_event(self): row_data = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_create_patch_type_event(self): # Note(ltomasbo): This will behave the same for up = True|False # as the port needs to transition to up anyway row_data = {""type"": ""patch"", ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) row_data = {""type"": ""patch"", ""logical_port"": ""lrp-foo-name""} self._test_port_binding_helper('create', row_data) self.assertEqual(1, self.driver.set_port_status_up.call_count) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_create_virtual_type_event(self): row_data = {""type"": ""virtual"", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_create_event(self): row_data = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_down_create_virtual_type_event(self): row_data = {""type"": ""virtual"", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_update_event(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} old_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_update_event(self): new_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} old_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_down_update_event_up_not_updated(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": None} old_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_up_update_event_no_old_data(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_update_event_no_old_data(self): new_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_other_column_update_event(self): new_row_json = {""type"": """", ""up"": True, ""name"": ""foo-name"", ""addresses"": [""10.0.0.2""]} old_row_json = {""type"": """", ""up"": True, ""name"": ""foo-name"", ""addresses"": [""10.0.0.3""]} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_notify_other_table(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper( 'create', new_row_json, table=self.sb_idl.tables.get(""Chassis"")) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_unwatch_port_binding_create_events(self): self.sb_idl.unwatch_port_binding_create_events() row_data = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) row_data[""up""] = False self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_post_connect(self): self.assertIsNotNone(self.sb_idl._pb_create_up_event) self.assertIsNotNone(self.sb_idl._pb_create_down_event) self.sb_idl.post_connect() self.assertIsNone(self.sb_idl._pb_create_up_event) self.assertIsNone(self.sb_idl._pb_create_down_event) ",258,392
openstack%2Fkolla-ansible~master~I3ce4059063e3a51eb1c5b42bda79893b56bd85f0,openstack/kolla-ansible,master,I3ce4059063e3a51eb1c5b42bda79893b56bd85f0,[CI] Use the script module for running core tests,MERGED,2022-05-28 12:13:46.000000000,2022-05-30 07:11:28.000000000,2022-05-30 07:10:15.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-28 12:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c6d9c5d8de9c552ddf919820b8dc74dd82118060', 'message': '[CI] Use the script module for running core tests\n\nDepending on the way the testing script is called, it may sense\nstdin being available and not being a tty [1]. The logic in the\nGlance part of the client is then broken [2] as it detects both\nvolume and stdin as sources of the image and fails.\nThe proposed approach uses the script module for these tests.\nThis fixes the cephadm upgrade jobs where this script was called\nusing the shell module which causes this behaviour. The script\nmodule is not affected. FWIW, the command module is affected\nthe same as shell because shell extends the command module.\n\n[1] https://opendev.org/openstack/python-openstackclient/src/commit/6810414e45a32dd44263dff47fec161989508ef0/openstackclient/image/v2/image.py#L114-L120\n[2] https://opendev.org/openstack/python-openstackclient/src/commit/6810414e45a32dd44263dff47fec161989508ef0/openstackclient/image/v2/image.py#L414\n\nChange-Id: I3ce4059063e3a51eb1c5b42bda79893b56bd85f0\n'}, {'number': 2, 'created': '2022-05-29 10:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ae9109a6070bf56c5a0e52b5bb0705d20a4164e0', 'message': '[CI] Use the script module for running core tests\n\nDepending on the way the testing script is called, it may sense\nstdin being available and not being a tty [1]. The logic in the\nGlance part of the client is then broken [2] as it detects both\nvolume and stdin as sources of the image and fails.\nThe proposed approach uses the script module for these tests.\nThis fixes the cephadm upgrade jobs where this script was called\nusing the shell module which causes this behaviour. The script\nmodule is not affected. FWIW, the command module is affected\nthe same as shell because shell extends the command module.\n\n[1] https://opendev.org/openstack/python-openstackclient/src/commit/6810414e45a32dd44263dff47fec161989508ef0/openstackclient/image/v2/image.py#L114-L120\n[2] https://opendev.org/openstack/python-openstackclient/src/commit/6810414e45a32dd44263dff47fec161989508ef0/openstackclient/image/v2/image.py#L414\n\nChange-Id: I3ce4059063e3a51eb1c5b42bda79893b56bd85f0\nStory: 2006294\n'}, {'number': 3, 'created': '2022-05-29 16:57:47.000000000', 'files': ['tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c906ab2a91f98098386246c21bb72149a32c073c', 'message': '[CI] Use the script module for running core tests\n\nDepending on the way the testing script is called, it may sense\nstdin being available and not being a tty [1]. The logic in the\nGlance part of the client is then broken [2] as it detects both\nvolume and stdin as sources of the image and fails.\nThe proposed approach uses the script module for these tests.\nThis fixes the cephadm upgrade jobs where this script was called\nusing the shell module which causes this behaviour. The script\nmodule is not affected. FWIW, the command module is affected\nthe same as shell because shell extends the command module.\n\n[1] https://opendev.org/openstack/python-openstackclient/src/commit/6810414e45a32dd44263dff47fec161989508ef0/openstackclient/image/v2/image.py#L114-L120\n[2] https://opendev.org/openstack/python-openstackclient/src/commit/6810414e45a32dd44263dff47fec161989508ef0/openstackclient/image/v2/image.py#L414\n\nChange-Id: I3ce4059063e3a51eb1c5b42bda79893b56bd85f0\nStory: 2006294\n'}]",2,843718,c906ab2a91f98098386246c21bb72149a32c073c,20,5,3,30491,,,0,"[CI] Use the script module for running core tests

Depending on the way the testing script is called, it may sense
stdin being available and not being a tty [1]. The logic in the
Glance part of the client is then broken [2] as it detects both
volume and stdin as sources of the image and fails.
The proposed approach uses the script module for these tests.
This fixes the cephadm upgrade jobs where this script was called
using the shell module which causes this behaviour. The script
module is not affected. FWIW, the command module is affected
the same as shell because shell extends the command module.

[1] https://opendev.org/openstack/python-openstackclient/src/commit/6810414e45a32dd44263dff47fec161989508ef0/openstackclient/image/v2/image.py#L114-L120
[2] https://opendev.org/openstack/python-openstackclient/src/commit/6810414e45a32dd44263dff47fec161989508ef0/openstackclient/image/v2/image.py#L414

Change-Id: I3ce4059063e3a51eb1c5b42bda79893b56bd85f0
Story: 2006294
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/18/843718/3 && git format-patch -1 --stdout FETCH_HEAD,['tests/run.yml'],1,c6d9c5d8de9c552ddf919820b8dc74dd82118060,ci-script, # NOTE(yoctozepto): We need the script module here to avoid # a bug in Glance OSC [1][2] which results in a failure when a volume # is given as a source. The stdin works differently in shell/command # than script. # [1] https://opendev.org/openstack/python-openstackclient/src/commit/6810414e45a32dd44263dff47fec161989508ef0/openstackclient/image/v2/image.py#L114-L120 # [2] https://opendev.org/openstack/python-openstackclient/src/commit/6810414e45a32dd44263dff47fec161989508ef0/openstackclient/image/v2/image.py#L414 script: cmd: test-core-openstack.sh, shell: cmd: tests/test-core-openstack.sh,8,2
openstack%2Fskyline-console~master~I10752bebf47881136ce7035a34c6ddce7c5f1157,openstack/skyline-console,master,I10752bebf47881136ce7035a34c6ddce7c5f1157,fix: Magnum cluster template create problem,ABANDONED,2022-05-26 03:36:16.000000000,2022-05-30 07:02:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 27623}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-05-26 03:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/f23834b3a9f52d55395c57e00f3cbdf2e02fa0b5', 'message': 'fix: magnum cluster template create problem\n\n1. Create route address mount error\n2. Flavor pass value error\n3. Required option not set\n4. Code formatting fixes\n\nChange-Id: I10752bebf47881136ce7035a34c6ddce7c5f1157\n'}, {'number': 2, 'created': '2022-05-26 05:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/2bfb7b63e52d59c18a8b22ad986fb7947c780ae9', 'message': 'fix: Magnum cluster template create problem\n\n1. Create route address mount error\n2. Flavor pass value error\n3. Required option not set\n4. Code formatting fixes\n\nChange-Id: I10752bebf47881136ce7035a34c6ddce7c5f1157\n'}, {'number': 3, 'created': '2022-05-26 05:47:49.000000000', 'files': ['src/pages/container-infra/containers/Clusters/actions/StepCreate/StepAdvanced/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepNetworks/index.jsx', 'src/pages/container-infra/containers/Clusters/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepSize/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/index.jsx', 'src/stores/magnum/clusterTemplates.js', 'src/locales/en.json', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepDetails/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/Detail/BaseDetail.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepLabel/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/index.jsx', 'src/client/magnum/index.js', 'src/pages/container-infra/containers/Clusters/actions/Resize.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepManagement/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNetwork/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/Delete.jsx', 'src/pages/container-infra/containers/Clusters/Detail/BaseDetail.jsx', 'src/locales/zh.json', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepInfo/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/Detail/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNodeSpec/index.jsx', 'src/pages/container-infra/containers/Clusters/Detail/index.jsx', 'src/pages/container-infra/routes/index.js', 'src/pages/container-infra/containers/ClusterTemplates/actions/Delete.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/5f4374735f18a88a8410229f74b33980e3d1fe33', 'message': 'fix: Magnum cluster template create problem\n\n1. Create route address mount error\n2. Flavor pass value error\n3. Required option not set\n4. Code formatting fixes\n\nChange-Id: I10752bebf47881136ce7035a34c6ddce7c5f1157\n'}]",0,843373,5f4374735f18a88a8410229f74b33980e3d1fe33,6,3,3,34718,,,0,"fix: Magnum cluster template create problem

1. Create route address mount error
2. Flavor pass value error
3. Required option not set
4. Code formatting fixes

Change-Id: I10752bebf47881136ce7035a34c6ddce7c5f1157
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/73/843373/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/container-infra/containers/Clusters/actions/StepCreate/StepAdvanced/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepNetworks/index.jsx', 'config/webpack.dev.js', 'src/pages/container-infra/containers/Clusters/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepSize/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/index.jsx', 'src/stores/magnum/clusterTemplates.js', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepDetails/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/Detail/BaseDetail.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepLabel/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/index.jsx', 'src/client/magnum/index.js', 'src/pages/container-infra/containers/Clusters/actions/Resize.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepManagement/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNetwork/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/Delete.jsx', 'src/pages/container-infra/containers/Clusters/Detail/BaseDetail.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepInfo/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/Detail/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNodeSpec/index.jsx', 'src/pages/container-infra/containers/Clusters/Detail/index.jsx', 'src/pages/container-infra/routes/index.js', 'src/pages/container-infra/containers/ClusterTemplates/actions/Delete.jsx']",25,f23834b3a9f52d55395c57e00f3cbdf2e02fa0b5,, return t('Delete Template');, return t('Delete Template'),485,421
openstack%2Fkeystonemiddleware~master~Iff6abdc56c5627505e774f40af339e1b5790c4d5,openstack/keystonemiddleware,master,Iff6abdc56c5627505e774f40af339e1b5790c4d5,Remove references to 'sys.version_info',MERGED,2021-04-27 02:28:29.000000000,2022-05-30 06:21:39.000000000,2022-05-30 06:20:23.000000000,"[{'_account_id': 5046}, {'_account_id': 7973}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-27 02:28:29.000000000', 'files': ['keystonemiddleware/tests/unit/utils.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/6a0974117ea0e15dbf072ccc4b54ee8e4ef1e7be', 'message': ""Remove references to 'sys.version_info'\n\nWe support Python 3.6 as a minimum now, making these checks no-ops.\nChange-Id: Iff6abdc56c5627505e774f40af339e1b5790c4d5\n""}]",1,788123,6a0974117ea0e15dbf072ccc4b54ee8e4ef1e7be,12,5,1,31827,,,0,"Remove references to 'sys.version_info'

We support Python 3.6 as a minimum now, making these checks no-ops.
Change-Id: Iff6abdc56c5627505e774f40af339e1b5790c4d5
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/23/788123/1 && git format-patch -1 --stdout FETCH_HEAD,['keystonemiddleware/tests/unit/utils.py'],1,6a0974117ea0e15dbf072ccc4b54ee8e4ef1e7be,,,"if tuple(sys.version_info)[0:2] < (2, 7): def assertDictEqual(self, d1, d2, msg=None): # Simple version taken from 2.7 self.assertIsInstance(d1, dict, 'First argument is not a dictionary') self.assertIsInstance(d2, dict, 'Second argument is not a dictionary') if d1 != d2: if msg: self.fail(msg) else: standardMsg = '%r != %r' % (d1, d2) self.fail(standardMsg) TestCase.assertDictEqual = assertDictEqual ",0,18
